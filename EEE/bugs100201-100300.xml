<?xml version="1.0" encoding="UTF-8"?>
<infozilla-output>
  <Bug>
    <BugId amount="100201" />
    <CreationDate amount="2005-06-15 11:02:00 -0400" />
    <DupId amount="" />
    <classification amount="WebTools" />
    <Product amount="WTP Java EE Tools" />
    <component amount="jst.j2ee" />
    <Version amount="0.7" />
    <rep_platform amount="All" />
    <op_sys amount="Windows 2000" />
    <priority amount="P3" />
    <bug_severity amount="blocker" />
    <Summery>build errors after ejb jar import.</Summery>
    <Patches amount="0" />
    <Stacktraces amount="1">
      <Stacktrace timestamp="1437330544336">
        <Exception>java.lang.ClassCastException</Exception>
        <Reason>org.eclipse.wst.common.frameworks.internal.datamodel.DataModelImpl]
Could you attache the full stack trace.
 Refreshing /Sess1/ejbModule.
org.eclipse.core.internal.resources.ResourceException: Errors during build.</Reason>
        <Frames>
          <Frame depth="0">org.eclipse.core.internal.events.BuildManager.build(BuildManager.java:305)</Frame>
          <Frame depth="1">org.eclipse.core.internal.resources.Project.build(Project.java:106)</Frame>
          <Frame depth="2">com.ibm.etools.ejbdeploy.batch.plugin.BatchExtension.buildProject(BatchExtension.java:599)</Frame>
          <Frame depth="3">com.ibm.etools.ejbdeploy.batch.plugin.BatchExtension.runJarDeploy(BatchExtension.java:474)</Frame>
          <Frame depth="4">com.ibm.etools.ejbdeploy.batch.plugin.BatchExtension.access$1(BatchExtension.java:420)</Frame>
          <Frame depth="5">com.ibm.etools.ejbdeploy.batch.plugin.BatchExtension$RunDeploy.run(BatchExtension.java:273)</Frame>
          <Frame depth="6">org.eclipse.core.internal.resources.Workspace.run(Workspace.java:1719)</Frame>
          <Frame depth="7">org.eclipse.core.internal.resources.Workspace.run(Workspace.java:1739)</Frame>
          <Frame depth="8">com.ibm.etools.ejbdeploy.batch.plugin.BatchExtension$RunDeploy.execute(BatchExtension.java:255)</Frame>
          <Frame depth="9">com.ibm.etools.ejbdeploy.batch.plugin.BatchExtension.run(BatchExtension.java:218)</Frame>
        </Frames>
      </Stacktrace>
    </Stacktraces>
    <SourceCodeRegions amount="0" />
    <Enumerations amount="0" />
    <bug_status amount="CLOSED" />
    <resolution amount="FIXED" />
    <WithStack>After importing an ejb jar headless I do build on workspace that
works fine.  Then we generated code into the ejb project and do an 
incremental build on that project.  That throws this core exception.

Status WARNING: org.eclipse.core.resources code=566 Errors during build. null 
children=[Status WARNING: org.eclipse.wst.common.modulecore code=75 Errors 
running builder "Component Structural Builder" on project Sess1. null Status 
WARNING: org.eclipse.wst.common.modulecore code=75 
org.eclipse.wst.common.frameworks.internal.datamodel.DataModelImpl 
java.lang.ClassCastException: 
org.eclipse.wst.common.frameworks.internal.datamodel.DataModelImpl]
Could you attache the full stack trace.
 Refreshing /Sess1/ejbModule.
org.eclipse.core.internal.resources.ResourceException: Errors during build.
	at org.eclipse.core.internal.events.BuildManager.build
(BuildManager.java:305)
	at org.eclipse.core.internal.resources.Project.build(Project.java:106)
	at com.ibm.etools.ejbdeploy.batch.plugin.BatchExtension.buildProject
(BatchExtension.java:599)
	at com.ibm.etools.ejbdeploy.batch.plugin.BatchExtension.runJarDeploy
(BatchExtension.java:474)
	at com.ibm.etools.ejbdeploy.batch.plugin.BatchExtension.access$1
(BatchExtension.java:420)
	at com.ibm.etools.ejbdeploy.batch.plugin.BatchExtension$RunDeploy.run
(BatchExtension.java:273)
	at org.eclipse.core.internal.resources.Workspace.run
(Workspace.java:1719)
	at org.eclipse.core.internal.resources.Workspace.run
(Workspace.java:1739)
	at 
com.ibm.etools.ejbdeploy.batch.plugin.BatchExtension$RunDeploy.execute
(BatchExtension.java:255)
	at com.ibm.etools.ejbdeploy.batch.plugin.BatchExtension.run
(BatchExtension.java:218)
corrected version to 0.7. 

Bug in the builder, while this code will be going away soon I'll look into a fix
Fix released to 6.23 ibuild
Closing - Already verified</WithStack>
    <WithOutStack>After importing an ejb jar headless I do build on workspace that
works fine.  Then we generated code into the ejb project and do an 
incremental build on that project.  That throws this core exception.

Status WARNING: org.eclipse.core.resources code=566 Errors during build. null 
children=[Status WARNING: org.eclipse.wst.common.modulecore code=75 Errors 
running builder "Component Structural Builder" on project Sess1. null Status 
WARNING: org.eclipse.wst.common.modulecore code=75 
org.eclipse.wst.common.frameworks.internal.datamodel.DataModelImpl 

corrected version to 0.7. 

Bug in the builder, while this code will be going away soon I'll look into a fix
Fix released to 6.23 ibuild
Closing - Already verified</WithOutStack>
  </Bug>
  <Bug>
    <BugId amount="100202" />
    <CreationDate amount="2005-06-15 11:03:00 -0400" />
    <DupId amount="" />
    <classification amount="WebTools" />
    <Product amount="WTP Webservices" />
    <component amount="jst.ws" />
    <Version amount="0.7" />
    <rep_platform amount="PC" />
    <op_sys amount="Windows 2000" />
    <priority amount="P3" />
    <bug_severity amount="major" />
    <Summery>Enabling Web Service pupup menu for EJB object</Summery>
    <Patches amount="0" />
    <Stacktraces amount="0" />
    <SourceCodeRegions amount="0" />
    <Enumerations amount="0" />
    <bug_status amount="CLOSED" />
    <resolution amount="FIXED" />
    <WithStack>The pupup menubarPath is already defined (but commented out) in 
org.eclipse.jst.ws.ui.  I tried uncomment it and it is fully functional with 
our extension.
As discussed, stepping up the severity so this can be targetted against 0.7.
Created attachment 23742
apply to org.eclipse.jst.ws.ui

patch 1 of 2
Created attachment 23743
apply to org.eclipse.jst.ws.creation.ejb.ui

patch 2 of 2
Patches committed and released with tag v20050622_1130
Verified during FVT</WithStack>
    <WithOutStack>The pupup menubarPath is already defined (but commented out) in 
org.eclipse.jst.ws.ui.  I tried uncomment it and it is fully functional with 
our extension.
As discussed, stepping up the severity so this can be targetted against 0.7.
Created attachment 23742
apply to org.eclipse.jst.ws.ui

patch 1 of 2
Created attachment 23743
apply to org.eclipse.jst.ws.creation.ejb.ui

patch 2 of 2
Patches committed and released with tag v20050622_1130
Verified during FVT</WithOutStack>
  </Bug>
  <Bug>
    <BugId amount="100203" />
    <CreationDate amount="2005-06-15 11:06:00 -0400" />
    <DupId amount="" />
    <classification amount="WebTools" />
    <Product amount="WTP ServerTools" />
    <component amount="jst.server" />
    <Version amount="0.7" />
    <rep_platform amount="PC" />
    <op_sys amount="Windows XP" />
    <priority amount="P4" />
    <bug_severity amount="normal" />
    <Summery>All instances of the same generic server type have the same display name</Summery>
    <Patches amount="0" />
    <Stacktraces amount="0" />
    <SourceCodeRegions amount="0" />
    <Enumerations amount="0" />
    <bug_status amount="CLOSED" />
    <resolution amount="FIXED" />
    <WithStack>I may be misinterpreting things but it looks like the name displayed is current
set (via GenericServerWizardFragement.enter()) to the value of the "name"
attribute in the serverdef file plus "(Generic)"; this results in multiple
instances of the same server type looking idential in the list of servers;
really need to support a  common "Name" field in the "new server" wizard that
would default to this value (or maybe this value plus something location
specific that could be set in the serverdef file in a way supported by
resolver.resolveProperties()) but allowed the user to pick a custom name (i.e.
"MyTestServer").
I have a fix in HEAD. For 0.7 the solution is to suffix server names are by a
number when needed. We may further enhance name creation for 1.0
Verified that a number is appended after additional instances; post-0.7, should
add support for full customization of the server instance name since users will
probably want to associate meaningful names with multiple instances so they can
remember which instance has which properties (note: the appended number can end
up being hidden right now due to default column width in the servers view).
I agree, I will deal with this in the edit tooling for server instance properties. 
Closing old bugs that haven't had any activity in a couple months. If this problem has not been verified or you still have problems, please open a new bug.</WithStack>
    <WithOutStack>I may be misinterpreting things but it looks like the name displayed is current
set (via GenericServerWizardFragement.enter()) to the value of the "name"
attribute in the serverdef file plus "(Generic)"; this results in multiple
instances of the same server type looking idential in the list of servers;
really need to support a  common "Name" field in the "new server" wizard that
would default to this value (or maybe this value plus something location
specific that could be set in the serverdef file in a way supported by
resolver.resolveProperties()) but allowed the user to pick a custom name (i.e.
"MyTestServer").
I have a fix in HEAD. For 0.7 the solution is to suffix server names are by a
number when needed. We may further enhance name creation for 1.0
Verified that a number is appended after additional instances; post-0.7, should
add support for full customization of the server instance name since users will
probably want to associate meaningful names with multiple instances so they can
remember which instance has which properties (note: the appended number can end
up being hidden right now due to default column width in the servers view).
I agree, I will deal with this in the edit tooling for server instance properties. 
Closing old bugs that haven't had any activity in a couple months. If this problem has not been verified or you still have problems, please open a new bug.</WithOutStack>
  </Bug>
  <Bug>
    <BugId amount="100204" />
    <CreationDate amount="2005-06-15 11:08:00 -0400" />
    <DupId amount="" />
    <classification amount="WebTools" />
    <Product amount="WTP ServerTools" />
    <component amount="jst.server" />
    <Version amount="0.7" />
    <rep_platform amount="PC" />
    <op_sys amount="Windows XP" />
    <priority amount="P3" />
    <bug_severity amount="blocker" />
    <Summery>If Generic Server start takes more than 60sn, the process kills itself.</Summery>
    <Patches amount="0" />
    <Stacktraces amount="0" />
    <SourceCodeRegions amount="1">
      <source_code type="functiondef">
        <location start="755" end="796" />
        <code>ServerType public int getStartTimeout() {</code>
      </source_code>
    </SourceCodeRegions>
    <Enumerations amount="0" />
    <bug_status amount="CLOSED" />
    <resolution amount="FIXED" />
    <WithStack>I am working on defining WAS 6.0 server as a Generic server into WTP environment.
If the generic server startup takes less than 60sn it starts, otherwise it does
not. Same situation also happens to other servers (JBoss, WebLogic) startups.  I
tested  it by putting breakpoint into launch method of
GenericServerLaunchConfigurationDelegate class, at the 60th second the server
startup process is stopping.

JBoss and WebLogic  startup usually take less than 60sn, so that the problem
does not take place.
Created attachment 23241
timeout patch
sinan it is possible to set the timeout period for a server type. I have
attached a patch file that does that for websphere 
Seeting the startTimeout value seems to make no difference.  Putting a
breakpoint in.

ServerType public int getStartTimeout() {

It seems the startTimeout setting in the plugin.xml is ignored. No matter waht I
provide the timeout here is 30000.

	
I have tested this with Jboss and it seems to work OK. I see a 50000 as I am
supposed to, if I change timeout in the plugin.xml I see the changed value.
*** Bug 101099 has been marked as a duplicate of this bug. ***
I made an error reporting the bug... the value of startTimeout is properly
chanaged, however, further debugging still dfoes not solve the problem as the 60
second killing of the process is not related to the startTimeout.  

I made startTimeout extra long (300000), machine settinh extraSlow, but still 60
seconds to the point the process is killed...

Normal launching with Java Application does not suffer the problem.  It is
definitely related to the Server Launcher.
I have also tried setting startTimeout="300000" for the WebLogic81 server 
type, and am still getting the abort.


After some investigation and online test help from Naci, I found that the ping
thread is actually stopping the servers. In the current setting the ping thread
stops the launch after 14.5 secs. We have tested the case with a large number of
max pings and it is working fine. Since I have to support a large range of
servers I will differ the PingThread from rest of the server tooling. Now I make
a guess for a good number of ping for each server depending on the startTimeout
value for the server type. The fix is in.
Ping thread fix seems to solve the problem.  

Closing the bug</WithStack>
    <WithOutStack>I am working on defining WAS 6.0 server as a Generic server into WTP environment.
If the generic server startup takes less than 60sn it starts, otherwise it does
not. Same situation also happens to other servers (JBoss, WebLogic) startups.  I
tested  it by putting breakpoint into launch method of
GenericServerLaunchConfigurationDelegate class, at the 60th second the server
startup process is stopping.

JBoss and WebLogic  startup usually take less than 60sn, so that the problem
does not take place.
Created attachment 23241
timeout patch
sinan it is possible to set the timeout period for a server type. I have
attached a patch file that does that for websphere 
Seeting the startTimeout value seems to make no difference.  Putting a
breakpoint in.

ServerType public int getStartTimeout() {

It seems the startTimeout setting in the plugin.xml is ignored. No matter waht I
provide the timeout here is 30000.

	
I have tested this with Jboss and it seems to work OK. I see a 50000 as I am
supposed to, if I change timeout in the plugin.xml I see the changed value.
*** Bug 101099 has been marked as a duplicate of this bug. ***
I made an error reporting the bug... the value of startTimeout is properly
chanaged, however, further debugging still dfoes not solve the problem as the 60
second killing of the process is not related to the startTimeout.  

I made startTimeout extra long (300000), machine settinh extraSlow, but still 60
seconds to the point the process is killed...

Normal launching with Java Application does not suffer the problem.  It is
definitely related to the Server Launcher.
I have also tried setting startTimeout="300000" for the WebLogic81 server 
type, and am still getting the abort.


After some investigation and online test help from Naci, I found that the ping
thread is actually stopping the servers. In the current setting the ping thread
stops the launch after 14.5 secs. We have tested the case with a large number of
max pings and it is working fine. Since I have to support a large range of
servers I will differ the PingThread from rest of the server tooling. Now I make
a guess for a good number of ping for each server depending on the startTimeout
value for the server type. The fix is in.
Ping thread fix seems to solve the problem.  

Closing the bug</WithOutStack>
  </Bug>
  <Bug>
    <BugId amount="100205" />
    <CreationDate amount="2005-06-15 11:09:00 -0400" />
    <DupId amount="" />
    <classification amount="WebTools" />
    <Product amount="WTP Source Editing" />
    <component amount="wst.xml" />
    <Version amount="0.7" />
    <rep_platform amount="PC" />
    <op_sys amount="Windows XP" />
    <priority amount="P3" />
    <bug_severity amount="normal" />
    <Summery>XMLUIPlugin inits JobStatusLineHelper on startup</Summery>
    <Patches amount="0" />
    <Stacktraces amount="0" />
    <SourceCodeRegions amount="0" />
    <Enumerations amount="0" />
    <bug_status amount="CLOSED" />
    <resolution amount="FIXED" />
    <WithStack>The org.eclipse.wst.xml.ui.internal.JobStatusLineHelper only cares about Jobs
that belong to the CMDocument family.  Since this plugin probably also creates
the Jobs, could this init() be deferred until such a Job is created (but before
it's scheduled)?
Hi Craig .. I haven't even seen the "loading" progress working lately ... 
is this class still being used? 
Did something get broken in the move?

Resolving as invalid.  The CMDocumentManagerImpl creates its own Job to report
progress.  This class isn't needed anymore.
I must have marked it as fixed by accident.  Regardless, it's not a problem, now.
Verified in 1.0RC4.</WithStack>
    <WithOutStack>The org.eclipse.wst.xml.ui.internal.JobStatusLineHelper only cares about Jobs
that belong to the CMDocument family.  Since this plugin probably also creates
the Jobs, could this init() be deferred until such a Job is created (but before
it's scheduled)?
Hi Craig .. I haven't even seen the "loading" progress working lately ... 
is this class still being used? 
Did something get broken in the move?

Resolving as invalid.  The CMDocumentManagerImpl creates its own Job to report
progress.  This class isn't needed anymore.
I must have marked it as fixed by accident.  Regardless, it's not a problem, now.
Verified in 1.0RC4.</WithOutStack>
  </Bug>
  <Bug>
    <BugId amount="100206" />
    <CreationDate amount="2005-06-15 11:10:00 -0400" />
    <DupId amount="" />
    <classification amount="Eclipse" />
    <Product amount="JDT" />
    <component amount="Debug" />
    <Version amount="3.1" />
    <rep_platform amount="PC" />
    <op_sys amount="Linux-GTK" />
    <priority amount="P3" />
    <bug_severity amount="normal" />
    <Summery>unable to lookup java files while debugging</Summery>
    <Patches amount="0" />
    <Stacktraces amount="1">
      <Stacktrace timestamp="1437330544352">
        <Exception>com.sun.jdi.VMDisconnectedException</Exception>
        <Reason>Got IOException from Virtual Machine</Reason>
        <Frames>
          <Frame depth="0">org.eclipse.jdi.internal.connect.PacketSendManager.sendPacket(PacketSendManager.java:78)</Frame>
          <Frame depth="1">org.eclipse.jdi.internal.MirrorImpl.requestVM(MirrorImpl.java:170)</Frame>
          <Frame depth="2">org.eclipse.jdi.internal.MirrorImpl.requestVM(MirrorImpl.java:192)</Frame>
          <Frame depth="3">org.eclipse.jdi.internal.request.EventRequestImpl.disable(EventRequestImpl.java:193)</Frame>
          <Frame depth="4">org.eclipse.jdi.internal.request.EventRequestManagerImpl.deleteEventRequest(EventRequestManagerImpl.java:324)</Frame>
          <Frame depth="5">org.eclipse.jdt.internal.debug.core.breakpoints.JavaBreakpoint.removeRequests(JavaBreakpoint.java:648)</Frame>
          <Frame depth="6">org.eclipse.jdt.internal.debug.core.breakpoints.JavaBreakpoint.removeFromTarget(JavaBreakpoint.java:601)</Frame>
          <Frame depth="7">org.eclipse.jdt.internal.debug.core.breakpoints.JavaLineBreakpoint.removeFromTarget(JavaLineBreakpoint.java:177)</Frame>
          <Frame depth="8">org.eclipse.jdt.internal.debug.core.model.JDIDebugTarget.removeAllBreakpoints(JDIDebugTarget.java:1353)</Frame>
          <Frame depth="9">org.eclipse.jdt.internal.debug.core.model.JDIDebugTarget.cleanup(JDIDebugTarget.java:1311)</Frame>
          <Frame depth="10">org.eclipse.jdt.internal.debug.core.model.JDIDebugTarget.shutdown(JDIDebugTarget.java:1444)</Frame>
          <Frame depth="11">org.eclipse.jdt.internal.debug.core.JDIDebugPlugin.stop(JDIDebugPlugin.java:200)</Frame>
          <Frame depth="12">org.eclipse.osgi.framework.internal.core.BundleContextImpl$3.run(BundleContextImpl.java:1035)</Frame>
          <Frame depth="13">java.security.AccessController.doPrivileged(Native Method)</Frame>
          <Frame depth="14">org.eclipse.osgi.framework.internal.core.BundleContextImpl.stop(BundleContextImpl.java:1031)</Frame>
          <Frame depth="15">org.eclipse.osgi.framework.internal.core.BundleHost.stopWorker(BundleHost.java:402)</Frame>
          <Frame depth="16">org.eclipse.osgi.framework.internal.core.AbstractBundle.stop(AbstractBundle.java:410)</Frame>
          <Frame depth="17">org.eclipse.core.runtime.internal.adaptor.BundleStopper.basicStopBundles(BundleStopper.java:83)</Frame>
          <Frame depth="18">org.eclipse.core.runtime.internal.adaptor.BundleStopper.stopBundles(BundleStopper.java:73)</Frame>
          <Frame depth="19">org.eclipse.core.runtime.adaptor.EclipseAdaptor.frameworkStopping(EclipseAdaptor.java:709)</Frame>
          <Frame depth="20">org.eclipse.osgi.framework.internal.core.Framework.shutdown(Framework.java:528)</Frame>
          <Frame depth="21">org.eclipse.osgi.framework.internal.core.SystemBundle$1.run(SystemBundle.java:171)</Frame>
          <Frame depth="22">java.lang.Thread.run(Thread.java:595)</Frame>
        </Frames>
      </Stacktrace>
    </Stacktraces>
    <SourceCodeRegions amount="0" />
    <Enumerations amount="0" />
    <bug_status amount="CLOSED" />
    <resolution amount="FIXED" />
    <WithStack>When stopping at a breakpoint, the java file cannot be found.  The editor tab
shows ClassName.methodName(Arg1 arg1) as the filename.  This only occurs with
RC2, RC1 using the same project works in this regard.

Error

internal error logged from JDI debug

com.sun.jdi.VMDisconnectedException: Got IOException from Virtual Machine
at
org.eclipse.jdi.internal.connect.PacketSendManager.sendPacket(PacketSendManager.java:78)
at org.eclipse.jdi.internal.MirrorImpl.requestVM(MirrorImpl.java:170)
at org.eclipse.jdi.internal.MirrorImpl.requestVM(MirrorImpl.java:192)
at
org.eclipse.jdi.internal.request.EventRequestImpl.disable(EventRequestImpl.java:193)
at
org.eclipse.jdi.internal.request.EventRequestManagerImpl.deleteEventRequest(EventRequestManagerImpl.java:324)
at
org.eclipse.jdt.internal.debug.core.breakpoints.JavaBreakpoint.removeRequests(JavaBreakpoint.java:648)
at
org.eclipse.jdt.internal.debug.core.breakpoints.JavaBreakpoint.removeFromTarget(JavaBreakpoint.java:601)
at
org.eclipse.jdt.internal.debug.core.breakpoints.JavaLineBreakpoint.removeFromTarget(JavaLineBreakpoint.java:177)
at
org.eclipse.jdt.internal.debug.core.model.JDIDebugTarget.removeAllBreakpoints(JDIDebugTarget.java:1353)
at
org.eclipse.jdt.internal.debug.core.model.JDIDebugTarget.cleanup(JDIDebugTarget.java:1311)
at
org.eclipse.jdt.internal.debug.core.model.JDIDebugTarget.shutdown(JDIDebugTarget.java:1444)
at org.eclipse.jdt.internal.debug.core.JDIDebugPlugin.stop(JDIDebugPlugin.java:200)
at
org.eclipse.osgi.framework.internal.core.BundleContextImpl$3.run(BundleContextImpl.java:1035)
at java.security.AccessController.doPrivileged(Native Method)
at
org.eclipse.osgi.framework.internal.core.BundleContextImpl.stop(BundleContextImpl.java:1031)
at
org.eclipse.osgi.framework.internal.core.BundleHost.stopWorker(BundleHost.java:402)
at
org.eclipse.osgi.framework.internal.core.AbstractBundle.stop(AbstractBundle.java:410)
at
org.eclipse.core.runtime.internal.adaptor.BundleStopper.basicStopBundles(BundleStopper.java:83)
at
org.eclipse.core.runtime.internal.adaptor.BundleStopper.stopBundles(BundleStopper.java:73)
at
org.eclipse.core.runtime.adaptor.EclipseAdaptor.frameworkStopping(EclipseAdaptor.java:709)
at org.eclipse.osgi.framework.internal.core.Framework.shutdown(Framework.java:528)
at
org.eclipse.osgi.framework.internal.core.SystemBundle$1.run(SystemBundle.java:171)
at java.lang.Thread.run(Thread.java:595)


eclipse.buildId=I20050610-1757
java.version=1.5.0_01
java.vendor=Sun Microsystems Inc.
BootLoader constants: OS=linux, ARCH=x86, WS=gtk, NL=en_US
Command-line arguments:  -os linux -ws gtk -arch x86
This is a continuation of log file
/scratch/eclipse3.1-workspace-as2/.metadata/.bak_0.log
Created Time: 2005-06-13 08:40:07.618
The log entry does not reflect a source lookup problem. Please provide steps 
to reproduce.

When you launch Eclispe, do you use command line options to specify the 
workspace location? If so, is the location relative or absolute?
(In reply to comment #1)
&gt; The log entry does not reflect a source lookup problem. Please provide steps 
&gt; to reproduce.

I tried reproducing the problem with a small application also without success.  

This is a very large application.  There are tens of external jars, hundreds of
source files, and the debug connection is remote.  I can see the files in the
editor when opened via the package explorer and via the Open Type dialog
(ctrl+shift+t).  The sources are in a directory which is linked to on the file
system.



When the debugger hits a breakpoint, it opens a new editor window which has a
title "Filename.methodname() line:88".  There is red text in the editor window -
"Source not found."  If I click on the button in the editor window to change the
source lookup, I can get it so the file is displayed when I double click on the
stack in the "Debug" window.  But I don't get the green bar showing the current
debugger position.


To answer your questions... 

The workspace location isn't specified on the command line, it's done in the dialog on startup.  It is a full 
path.
What sort of launch configuration are you using to debug your application (for 
example, "Remote Java Application", "Java Application")? If the launch config 
has a "Source Lookup" tab, how is it configured? Is a project specified on the 
launch config (from which the default source lookup path is computed)?

If you can get the session to show source without the green bar, it means the 
editor being opened by the debugger is on a file external to the workspace 
(does it have a vertical ruler for breakpoints?). 
(In reply to comment #4)
&gt; What sort of launch configuration are you using to debug your application (for 
&gt; example, "Remote Java Application", "Java Application")? 

Remote Java Application, socket connection.  (with my small testcase, I tried a
Remote Java Application as well as a plain Java Application, but neither
reproduced the behavior)

&gt; If the launch config 
&gt; has a "Source Lookup" tab, how is it configured? 

There is a "Source Lookup" tab.  It has two paths, one which I configured with
the "Edit Source Lookup Path..." button in the editor and the other which is
called "Default".  "Default" contains a directory with my project and that
directory has the sources.

If I remove the first path (the path added from the "Edit Source Lookup Path"
button) then double clicking on the stack doesn't take me to the editor anymore.

&gt; Is a project specified on the 
&gt; launch config (from which the default source lookup path is computed)?

I'm not sure where to find the launch config...

&gt; 
&gt; If you can get the session to show source without the green bar, it means the 
&gt; editor being opened by the debugger is on a file external to the workspace 
&gt; (does it have a vertical ruler for breakpoints?). 

That makes sense.  And no, the editor which the debugger brings up does not have
the vertical ruler for breakpoints.

It does seem weird that this exact project worked in 3.1RC1.


Is your project in a symbolic link location? Could this be the same problem as 
bug 100807? 
I just got the 3.1 release and it does work for me.

Closing.</WithStack>
    <WithOutStack>When stopping at a breakpoint, the java file cannot be found.  The editor tab
shows ClassName.methodName(Arg1 arg1) as the filename.  This only occurs with
RC2, RC1 using the same project works in this regard.

Error

internal error logged from JDI debug




eclipse.buildId=I20050610-1757
java.version=1.5.0_01
java.vendor=Sun Microsystems Inc.
BootLoader constants: OS=linux, ARCH=x86, WS=gtk, NL=en_US
Command-line arguments:  -os linux -ws gtk -arch x86
This is a continuation of log file
/scratch/eclipse3.1-workspace-as2/.metadata/.bak_0.log
Created Time: 2005-06-13 08:40:07.618
The log entry does not reflect a source lookup problem. Please provide steps 
to reproduce.

When you launch Eclispe, do you use command line options to specify the 
workspace location? If so, is the location relative or absolute?
(In reply to comment #1)
&gt; The log entry does not reflect a source lookup problem. Please provide steps 
&gt; to reproduce.

I tried reproducing the problem with a small application also without success.  

This is a very large application.  There are tens of external jars, hundreds of
source files, and the debug connection is remote.  I can see the files in the
editor when opened via the package explorer and via the Open Type dialog
(ctrl+shift+t).  The sources are in a directory which is linked to on the file
system.



When the debugger hits a breakpoint, it opens a new editor window which has a
title "Filename.methodname() line:88".  There is red text in the editor window -
"Source not found."  If I click on the button in the editor window to change the
source lookup, I can get it so the file is displayed when I double click on the
stack in the "Debug" window.  But I don't get the green bar showing the current
debugger position.


To answer your questions... 

The workspace location isn't specified on the command line, it's done in the dialog on startup.  It is a full 
path.
What sort of launch configuration are you using to debug your application (for 
example, "Remote Java Application", "Java Application")? If the launch config 
has a "Source Lookup" tab, how is it configured? Is a project specified on the 
launch config (from which the default source lookup path is computed)?

If you can get the session to show source without the green bar, it means the 
editor being opened by the debugger is on a file external to the workspace 
(does it have a vertical ruler for breakpoints?). 
(In reply to comment #4)
&gt; What sort of launch configuration are you using to debug your application (for 
&gt; example, "Remote Java Application", "Java Application")? 

Remote Java Application, socket connection.  (with my small testcase, I tried a
Remote Java Application as well as a plain Java Application, but neither
reproduced the behavior)

&gt; If the launch config 
&gt; has a "Source Lookup" tab, how is it configured? 

There is a "Source Lookup" tab.  It has two paths, one which I configured with
the "Edit Source Lookup Path..." button in the editor and the other which is
called "Default".  "Default" contains a directory with my project and that
directory has the sources.

If I remove the first path (the path added from the "Edit Source Lookup Path"
button) then double clicking on the stack doesn't take me to the editor anymore.

&gt; Is a project specified on the 
&gt; launch config (from which the default source lookup path is computed)?

I'm not sure where to find the launch config...

&gt; 
&gt; If you can get the session to show source without the green bar, it means the 
&gt; editor being opened by the debugger is on a file external to the workspace 
&gt; (does it have a vertical ruler for breakpoints?). 

That makes sense.  And no, the editor which the debugger brings up does not have
the vertical ruler for breakpoints.

It does seem weird that this exact project worked in 3.1RC1.


Is your project in a symbolic link location? Could this be the same problem as 
bug 100807? 
I just got the 3.1 release and it does work for me.

Closing.</WithOutStack>
  </Bug>
  <Bug>
    <BugId amount="100207" />
    <CreationDate amount="2005-06-15 11:18:00 -0400" />
    <DupId amount="" />
    <classification amount="Eclipse" />
    <Product amount="Platform" />
    <component amount="User Assistance" />
    <Version amount="3.1" />
    <rep_platform amount="PC" />
    <op_sys amount="Windows 2000" />
    <priority amount="P3" />
    <bug_severity amount="normal" />
    <Summery>[Intro] Cheat sheet for SWT application refers to old plug-in format</Summery>
    <Patches amount="0" />
    <Stacktraces amount="0" />
    <SourceCodeRegions amount="6">
      <source_code type="assignment">
        <location start="3808" end="3842" />
        <code>Display display = new Display ();</code>
      </source_code>
      <source_code type="assignment">
        <location start="3843" end="3877" />
        <code>Shell shell = new Shell(display);</code>
      </source_code>
      <source_code type="functioncall">
        <location start="3878" end="3908" />
        <code>shell.setText("Hello World");</code>
      </source_code>
      <source_code type="functioncall">
        <location start="3909" end="3924" />
        <code>shell.open ();</code>
      </source_code>
      <source_code type="functiondef">
        <location start="3925" end="4012" />
        <code>while (!shell.isDisposed ()) {
		if (!display.readAndDispatch ()) display.sleep ();
	}</code>
      </source_code>
      <source_code type="functioncall">
        <location start="4013" end="4033" />
        <code>display.dispose ();</code>
      </source_code>
    </SourceCodeRegions>
    <Enumerations amount="1">
      <Enumeration lines="59">
        <Lines>
          <Line>A) Open the Java Perspective</Line>
          <Line />
          <Line>Select Window-&gt;Open Perspective-&gt;Java in the menubar at the top of the</Line>
          <Line>workbench. This step changes the perspective to set up the Eclipse workbench</Line>
          <Line>for Java development. You can click the "Click to Perform" button to have</Line>
          <Line>the "Java" perspective opened automatically.</Line>
          <Line />
          <Line>B) Add SWT to your workspace</Line>
          <Line />
          <Line>Download SWT for standalone applications. A standalone version of SWT is</Line>
          <Line>available on the same download page as the Eclipse SDK. Look for the section</Line>
          <Line>titled SWT Binary and Source. Do not extract the archive file, just save it to</Line>
          <Line>disk.</Line>
          <Line>Select Import... from the File menu.</Line>
          <Line>Select Existing Projects into Workspace and click on the Next button.</Line>
          <Line>Select Select archive file: and use the Browse button to locate the SWT</Line>
          <Line>standalone archive you have previously downloaded.</Line>
          <Line>Click on the Finish button.</Line>
          <Line />
          <Line>C) Create a Java Project</Line>
          <Line />
          <Line>If you already have a Java project in your workspace that you would like to</Line>
          <Line>use, you may skip this step by clicking the "Click to Skip" button. If not,</Line>
          <Line>select File-&gt;New-&gt;Project... and choose Java Project in the list. Complete the</Line>
          <Line>subsequent pages as required. The "New Java Project" wizard is automatically</Line>
          <Line>displayed when you click the "Click to Perform" button.</Line>
          <Line />
          <Line>D) Configure the Java project</Line>
          <Line />
          <Line>Select your Java project and from the context menu select Properties.</Line>
          <Line>Select the Java Build Page and then click on the Projects tab and click on the</Line>
          <Line>Add button.</Line>
          <Line>Place a check beside org.eclipse.swt and click on the OK button.</Line>
          <Line>Click on the Finish button</Line>
          <Line />
          <Line>E) Create the HelloWorld class</Line>
          <Line />
          <Line>Select File-&gt;New-&gt;Class to open the New Java Class wizard. In the wizard, name</Line>
          <Line>your class "HelloWorld" and select to have a "main" method created. The "New</Line>
          <Line>Java Class" wizard is automatically displayed when you click the "Click to</Line>
          <Line>Perform" button.</Line>
          <Line />
          <Line>F) Edit the main method</Line>
          <Line />
          <Line>Now that you have your HelloWorld class, in the "public static void main"</Line>
          <Line>method, add the following statements:</Line>
          <Line />
          <Line />
          <Line />
          <Line />
          <Line />
          <Line />
          <Line />
          <Line />
          <Line>and save your changes. Click the "Click to Complete" button below when</Line>
          <Line>finished.</Line>
          <Line />
          <Line />
          <Line>G) Test your Java Application</Line>
        </Lines>
      </Enumeration>
    </Enumerations>
    <bug_status amount="VERIFIED" />
    <resolution amount="FIXED" />
    <WithStack>3.1 RC2

The SWT application cheat sheet mentions:

Locate the swt.jar for the platform on which you wish to run. It can be found in
the following location, where &lt;ws&gt; is the windowing system being used.
INSTALLDIR\eclipse\plugins\org.eclipse.swt.&lt;ws&gt;_3.0.0\ws\&lt;ws&gt;\swt.jar 

and

Locate the swt.jar for the platform on which you wish to run. It can be found in
the following location, where &lt;ws&gt; is the windowing system being used.
INSTALLDIR\eclipse\plugins\org.eclipse.swt.&lt;ws&gt;_3.0.0\ws\&lt;ws&gt;\swt.jar 

Neither of these are correct with the jar'ed plug-ins in 3.1.
The versions should also be updated.

Not sure how the DLL should be handled, as it's embedded in the fragment's jar.

If the SWT Application launcher is still around, it could do the work, but I
hear that it's being removed for 3.1 for some reason.
Veronika,
I update the SWT Cheatsheet to use this wording for the "Configure the Java 
project" section: 


In order to compile the code which uses SWT, you must add
the SWT jar(s) to the Java Build Path. Select your Java
project and from the context menu select Properties. Select
the Java Build Page and then select its Libraries tab. Click
on the Add Variable... button. Select the ECLIPSE-HOME variable
and then click on the extend. Select the swt jarred plugin for
the platform on which you wish to run. It can be found in
the following location, where &amp;lt;ws&amp;gt; is the windowing
system being used, and &amp;lt;os&amp;gt; is the operating system.
plugins\org.eclipse.swt.&amp;lt;ws&amp;gt;.&amp;lt;os&amp;gt;_3.1.0.jar
Click on OK to confirm the change. When you have done this, 
click the "Click to Complete" button.


if everyone is ok with the wording, I can append a patch
bug 97913 deals with running the standalone SWT application. 

If someone appends the "official" steps here, I can quickly create a patch for 
the cheatsheet. 

Here are the recommended SWT steps.

A) Open the Java Perspective

Select Window-&gt;Open Perspective-&gt;Java in the menubar at the top of the 
workbench. This step changes the perspective to set up the Eclipse workbench 
for Java development. You can click the "Click to Perform" button to have 
the "Java" perspective opened automatically.

B) Add SWT to your workspace

Download SWT for standalone applications. A standalone version of SWT is 
available on the same download page as the Eclipse SDK. Look for the section 
titled SWT Binary and Source. Do not extract the archive file, just save it to 
disk.
Select Import... from the File menu.
Select Existing Projects into Workspace and click on the Next button.
Select Select archive file: and use the Browse button to locate the SWT 
standalone archive you have previously downloaded.
Click on the Finish button.

C) Create a Java Project

If you already have a Java project in your workspace that you would like to 
use, you may skip this step by clicking the "Click to Skip" button. If not, 
select File-&gt;New-&gt;Project... and choose Java Project in the list. Complete the 
subsequent pages as required. The "New Java Project" wizard is automatically 
displayed when you click the "Click to Perform" button.

D) Configure the Java project

Select your Java project and from the context menu select Properties. 
Select the Java Build Page and then click on the Projects tab and click on the 
Add button.
Place a check beside org.eclipse.swt and click on the OK button.
Click on the Finish button

E) Create the HelloWorld class

Select File-&gt;New-&gt;Class to open the New Java Class wizard. In the wizard, name 
your class "HelloWorld" and select to have a "main" method created. The "New 
Java Class" wizard is automatically displayed when you click the "Click to 
Perform" button.

F) Edit the main method

Now that you have your HelloWorld class, in the "public static void main" 
method, add the following statements:

	Display display = new Display ();
	Shell shell = new Shell(display);
	shell.setText("Hello World");
	shell.open ();
	while (!shell.isDisposed ()) {
		if (!display.readAndDispatch ()) display.sleep ();
	}
	display.dispose ();

and save your changes. Click the "Click to Complete" button below when 
finished.


G) Test your Java Application

Select your class in the package explorer (the Java tree view on the left of 
the workbench window in the Java Perspective.). When your HelloWorld class is 
selected, select Run-&gt;Run As-&gt;Java Application.  A window will open with the 
title "Hello World".
Veronika, thanks for the steps. But just to play devil's advocate, why do I 
need to download the swt jar from eclipse.org when I have the full workbench 
locally? 
if there is a long answer to this, then just tell me that these steps are 
final, and I will create a patch  ! :)
If you want to use the local SWT, you must replace step B with the following:

B) Add SWT to your workspace

Select "Import..." from the File menu.
Select "External Plug-ins and Fragments" in the Import wizard and click 
on the "Next" button.
Select "Import As Binary projects" and make sure the target platform is 
correct.  Click on the "Next" button.
Select org.eclipse.swt and org.eclipse.swt.&lt;ws&gt;.&lt;os&gt;.&lt;arch&gt; and click 
on the "Add" button. 
(&lt;ws&gt;, &lt;os&gt;, and &lt;arch&gt; should be replaced with the values for the 
platform you wish to run against.  e.g. org.eclipse.swt.gtk.linux.x86)
Click on the "Finish" button.
Select org.eclipse.swt in the Package Explorer.  From the right mouse 
menu, select "Properties".
Click on "Java Build Path" and then click on the "Libraries" tab.
Click on the "Add Jars..." button.
Select 
org.eclipse.swt.&lt;ws&gt;.&lt;os&gt;.&lt;arch&gt;/org.eclipse.swt.&lt;ws&gt;.&lt;os&gt;.&lt;arch&gt;_3.1.0.jar 
and click on the "OK" button.
Expand org.eclipse.swt.&lt;ws&gt;.&lt;os&gt;.&lt;arch&gt;_3.1.0.jar in the Libraries tab 
and select "Native library location".
Click on the "Edit..." button.
Click on the "Workspace..." button  in the "Native Library Folder 
Configuration" dialog.
Select org.eclipse.swt.&lt;ws&gt;.&lt;os&gt;.&lt;arch&gt; and click on the "OK" button.
Click on the "OK" button in the "Native Library Folder Configuration" 
dialog.
Click on the "Order and Export" tab in the "properties for 
org.eclipse.swt" dialog.
Place a check against org.eclipse.swt.&lt;ws&gt;.&lt;os&gt;.&lt;arch&gt;_3.1.0.jar.
Click on the "OK" button.
Also, the default perspective in 3.1 is the Java perspective.  But it doesn't
hurt to ensure that the user hasn't changed it.

I prefer the step B in comment #3 because it does not rely on PDE being 
installed.  It is possible to run an SWT example using just the Platform 
Runtime binary and the JDT Runtime binary.  In comment #5 you rely on "Import -
&gt; External Plug-ins and Fragments" being installed which means you need the 
full SDK.
*** Bug 100333 has been marked as a duplicate of this bug. ***


*** This bug has been marked as a duplicate of 97913 ***
This is a cheatsheet update. Moving to intro.
I re-opened this defect since it has the updated swt recommended steps. 
Veronika,
I feel like Im missing something here. Why do I need SWT in my workspace to run 
the samples? 
Why cant I simply configure my Java project (like in comment #1) and all is 
happy? it makes the steps easier.

This tutorial is contributed by the jdt feature as a tutorial for Java 
development. So Im not sure why we need to tell a user to import swt?
 
and indeed I was missing something !! 
I thought I could make JDT point to the jarred swt dll somehow easier.
Anyways,
updating the SWT sample as per Steps in comment #3 and comment #5.

  
Created attachment 23584
patch for swt cheatSheet.

Dejan,
can you please double check, and add final touches if you see fit. 

Veronika,
when you get a chance, can you please verify the steps, thanks.
I released an updated (better looking) version of this patch into builds &gt; 
v20050621. 

Please get tomorrows build if you want to run through the latest steps. 

 
I am using  Build N20050622-0010.

In the Step "Configure the Java Project", it says to click on the Finish 
button but I don't think there is a Finish button.

In the step "Create the HelloWorldClass", is there any way to detect the Java 
project created previously and have the source folder filled in when the user 
clicks the Perform button?  If not, maybe the steps should mention filling in 
the source folder.  Currently, the OK button is not enabled which is a bit 
confusing.

In step "Test your Java Application", the code that was put in the main method 
is different from the code I had included in my steps in comment 3, so the 
description of the outcome is no longer correct.  Using the code from the help 
topic, the result should be:
A window will open containing the text "Hello World".
did all changes in comment #15.

please check N20050623, and let me know. 

SWT launcher is theoretically back.

SWT Team,
please let me know what you would like to see in this cheatSheet. I can update 
accordingly. 


The steps I would prefer to see are the ones in Comment #3.
Please put the set of steps from comment #3.
k. will do.

for those that dont know me...  k &lt;=&gt; ok   :-)
*** Bug 96935 has been marked as a duplicate of this bug. ***
just got to it.
Released the updated cheatSheet as per comment #3.
It should be in I20050623-1600

please try it.
closing.
*** Bug 97913 has been marked as a duplicate of this bug. ***
Just some minor points:

In "Configure the Java Project":
In step 2. it should say "Java Build Path" instead of "Java Build Page".  
In step 3, there are two dialogs to close with the OK button ("Required 
Project Selection" and "Properties for Xyz").

Thanks for all of your help with this Mazen.
Here are some other minor points:

In "Add SWT projects to your workspace"
- the wizard in step 3 should be "Existing Projects into Workspace"

In "Test your Java Application"
- the second sentence doesn't indicate where the "Run As" item is found.  
Perhaps it can become: "Right-click your HelloWorld class and select Run As -&gt; 
Java Application from its context menu."

ah.. did I mention that I hate writting and re-reading documentation !  
sorry about the glitches. 
we'll change after 3.1
(In reply to comment #26)
Veronika, my pleasure.


re-opening for one last touch up since we have a build.
released and jdtui.map is updated.</WithStack>
    <WithOutStack>3.1 RC2

The SWT application cheat sheet mentions:

Locate the swt.jar for the platform on which you wish to run. It can be found in
the following location, where &lt;ws&gt; is the windowing system being used.
INSTALLDIR\eclipse\plugins\org.eclipse.swt.&lt;ws&gt;_3.0.0\ws\&lt;ws&gt;\swt.jar 

and

Locate the swt.jar for the platform on which you wish to run. It can be found in
the following location, where &lt;ws&gt; is the windowing system being used.
INSTALLDIR\eclipse\plugins\org.eclipse.swt.&lt;ws&gt;_3.0.0\ws\&lt;ws&gt;\swt.jar 

Neither of these are correct with the jar'ed plug-ins in 3.1.
The versions should also be updated.

Not sure how the DLL should be handled, as it's embedded in the fragment's jar.

If the SWT Application launcher is still around, it could do the work, but I
hear that it's being removed for 3.1 for some reason.
Veronika,
I update the SWT Cheatsheet to use this wording for the "Configure the Java 
project" section: 


In order to compile the code which uses SWT, you must add
the SWT jar(s) to the Java Build Path. Select your Java
project and from the context menu select Properties. Select
the Java Build Page and then select its Libraries tab. Click
on the Add Variable... button. Select the ECLIPSE-HOME variable
and then click on the extend. Select the swt jarred plugin for
the platform on which you wish to run. It can be found in
the following location, where &amp;lt;ws&amp;gt; is the windowing
system being used, and &amp;lt;os&amp;gt; is the operating system.
plugins\org.eclipse.swt.&amp;lt;ws&amp;gt;.&amp;lt;os&amp;gt;_3.1.0.jar
Click on OK to confirm the change. When you have done this, 
click the "Click to Complete" button.


if everyone is ok with the wording, I can append a patch
bug 97913 deals with running the standalone SWT application. 

If someone appends the "official" steps here, I can quickly create a patch for 
the cheatsheet. 

Here are the recommended SWT steps.

A) Open the Java Perspective

Select Window-&gt;Open Perspective-&gt;Java in the menubar at the top of the 
workbench. This step changes the perspective to set up the Eclipse workbench 
for Java development. You can click the "Click to Perform" button to have 
the "Java" perspective opened automatically.

B) Add SWT to your workspace

Download SWT for standalone applications. A standalone version of SWT is 
available on the same download page as the Eclipse SDK. Look for the section 
titled SWT Binary and Source. Do not extract the archive file, just save it to 
disk.
Select Import... from the File menu.
Select Existing Projects into Workspace and click on the Next button.
Select Select archive file: and use the Browse button to locate the SWT 
standalone archive you have previously downloaded.
Click on the Finish button.

C) Create a Java Project

If you already have a Java project in your workspace that you would like to 
use, you may skip this step by clicking the "Click to Skip" button. If not, 
select File-&gt;New-&gt;Project... and choose Java Project in the list. Complete the 
subsequent pages as required. The "New Java Project" wizard is automatically 
displayed when you click the "Click to Perform" button.

D) Configure the Java project

Select your Java project and from the context menu select Properties. 
Select the Java Build Page and then click on the Projects tab and click on the 
Add button.
Place a check beside org.eclipse.swt and click on the OK button.
Click on the Finish button

E) Create the HelloWorld class

Select File-&gt;New-&gt;Class to open the New Java Class wizard. In the wizard, name 
your class "HelloWorld" and select to have a "main" method created. The "New 
Java Class" wizard is automatically displayed when you click the "Click to 
Perform" button.

F) Edit the main method

Now that you have your HelloWorld class, in the "public static void main" 
method, add the following statements:

	Display display = new Display ();
	Shell shell = new Shell(display);
	shell.setText("Hello World");
	shell.open ();
	while (!shell.isDisposed ()) {
		if (!display.readAndDispatch ()) display.sleep ();
	}
	display.dispose ();

and save your changes. Click the "Click to Complete" button below when 
finished.


G) Test your Java Application

Select your class in the package explorer (the Java tree view on the left of 
the workbench window in the Java Perspective.). When your HelloWorld class is 
selected, select Run-&gt;Run As-&gt;Java Application.  A window will open with the 
title "Hello World".
Veronika, thanks for the steps. But just to play devil's advocate, why do I 
need to download the swt jar from eclipse.org when I have the full workbench 
locally? 
if there is a long answer to this, then just tell me that these steps are 
final, and I will create a patch  ! :)
If you want to use the local SWT, you must replace step B with the following:

B) Add SWT to your workspace

Select "Import..." from the File menu.
Select "External Plug-ins and Fragments" in the Import wizard and click 
on the "Next" button.
Select "Import As Binary projects" and make sure the target platform is 
correct.  Click on the "Next" button.
Select org.eclipse.swt and org.eclipse.swt.&lt;ws&gt;.&lt;os&gt;.&lt;arch&gt; and click 
on the "Add" button. 
(&lt;ws&gt;, &lt;os&gt;, and &lt;arch&gt; should be replaced with the values for the 
platform you wish to run against.  e.g. org.eclipse.swt.gtk.linux.x86)
Click on the "Finish" button.
Select org.eclipse.swt in the Package Explorer.  From the right mouse 
menu, select "Properties".
Click on "Java Build Path" and then click on the "Libraries" tab.
Click on the "Add Jars..." button.
Select 
org.eclipse.swt.&lt;ws&gt;.&lt;os&gt;.&lt;arch&gt;/org.eclipse.swt.&lt;ws&gt;.&lt;os&gt;.&lt;arch&gt;_3.1.0.jar 
and click on the "OK" button.
Expand org.eclipse.swt.&lt;ws&gt;.&lt;os&gt;.&lt;arch&gt;_3.1.0.jar in the Libraries tab 
and select "Native library location".
Click on the "Edit..." button.
Click on the "Workspace..." button  in the "Native Library Folder 
Configuration" dialog.
Select org.eclipse.swt.&lt;ws&gt;.&lt;os&gt;.&lt;arch&gt; and click on the "OK" button.
Click on the "OK" button in the "Native Library Folder Configuration" 
dialog.
Click on the "Order and Export" tab in the "properties for 
org.eclipse.swt" dialog.
Place a check against org.eclipse.swt.&lt;ws&gt;.&lt;os&gt;.&lt;arch&gt;_3.1.0.jar.
Click on the "OK" button.
Also, the default perspective in 3.1 is the Java perspective.  But it doesn't
hurt to ensure that the user hasn't changed it.

I prefer the step B in comment #3 because it does not rely on PDE being 
installed.  It is possible to run an SWT example using just the Platform 
Runtime binary and the JDT Runtime binary.  In comment #5 you rely on "Import -
&gt; External Plug-ins and Fragments" being installed which means you need the 
full SDK.
*** Bug 100333 has been marked as a duplicate of this bug. ***


*** This bug has been marked as a duplicate of 97913 ***
This is a cheatsheet update. Moving to intro.
I re-opened this defect since it has the updated swt recommended steps. 
Veronika,
I feel like Im missing something here. Why do I need SWT in my workspace to run 
the samples? 
Why cant I simply configure my Java project (like in comment #1) and all is 
happy? it makes the steps easier.

This tutorial is contributed by the jdt feature as a tutorial for Java 
development. So Im not sure why we need to tell a user to import swt?
 
and indeed I was missing something !! 
I thought I could make JDT point to the jarred swt dll somehow easier.
Anyways,
updating the SWT sample as per Steps in comment #3 and comment #5.

  
Created attachment 23584
patch for swt cheatSheet.

Dejan,
can you please double check, and add final touches if you see fit. 

Veronika,
when you get a chance, can you please verify the steps, thanks.
I released an updated (better looking) version of this patch into builds &gt; 
v20050621. 

Please get tomorrows build if you want to run through the latest steps. 

 
I am using  Build N20050622-0010.

In the Step "Configure the Java Project", it says to click on the Finish 
button but I don't think there is a Finish button.

In the step "Create the HelloWorldClass", is there any way to detect the Java 
project created previously and have the source folder filled in when the user 
clicks the Perform button?  If not, maybe the steps should mention filling in 
the source folder.  Currently, the OK button is not enabled which is a bit 
confusing.

In step "Test your Java Application", the code that was put in the main method 
is different from the code I had included in my steps in comment 3, so the 
description of the outcome is no longer correct.  Using the code from the help 
topic, the result should be:
A window will open containing the text "Hello World".
did all changes in comment #15.

please check N20050623, and let me know. 

SWT launcher is theoretically back.

SWT Team,
please let me know what you would like to see in this cheatSheet. I can update 
accordingly. 


The steps I would prefer to see are the ones in Comment #3.
Please put the set of steps from comment #3.
k. will do.

for those that dont know me...  k &lt;=&gt; ok   :-)
*** Bug 96935 has been marked as a duplicate of this bug. ***
just got to it.
Released the updated cheatSheet as per comment #3.
It should be in I20050623-1600

please try it.
closing.
*** Bug 97913 has been marked as a duplicate of this bug. ***
Just some minor points:

In "Configure the Java Project":
In step 2. it should say "Java Build Path" instead of "Java Build Page".  
In step 3, there are two dialogs to close with the OK button ("Required 
Project Selection" and "Properties for Xyz").

Thanks for all of your help with this Mazen.
Here are some other minor points:

In "Add SWT projects to your workspace"
- the wizard in step 3 should be "Existing Projects into Workspace"

In "Test your Java Application"
- the second sentence doesn't indicate where the "Run As" item is found.  
Perhaps it can become: "Right-click your HelloWorld class and select Run As -&gt; 
Java Application from its context menu."

ah.. did I mention that I hate writting and re-reading documentation !  
sorry about the glitches. 
we'll change after 3.1
(In reply to comment #26)
Veronika, my pleasure.


re-opening for one last touch up since we have a build.
released and jdtui.map is updated.</WithOutStack>
  </Bug>
  <Bug>
    <BugId amount="100208" />
    <CreationDate amount="2005-06-15 11:22:00 -0400" />
    <DupId amount="" />
    <classification amount="Eclipse" />
    <Product amount="Platform" />
    <component amount="UI" />
    <Version amount="3.1" />
    <rep_platform amount="PC" />
    <op_sys amount="Windows 2000" />
    <priority amount="P3" />
    <bug_severity amount="normal" />
    <Summery>[CheatSheets] Right-clicking in cheat sheet does not activate view</Summery>
    <Patches amount="0" />
    <Stacktraces amount="0" />
    <SourceCodeRegions amount="0" />
    <Enumerations amount="1">
      <Enumeration lines="5">
        <Lines>
          <Line>- select the SWT cheat sheet via Help &gt; Cheat Sheets...</Line>
          <Line>- activate some other view or editor</Line>
          <Line>- right click on the cheat sheet content</Line>
          <Line>- it shows the context menu, but does not activate the view</Line>
          <Line>- focus remains in the other part</Line>
        </Lines>
      </Enumeration>
    </Enumerations>
    <bug_status amount="RESOLVED" />
    <resolution amount="WORKSFORME" />
    <WithStack>3.1 RC2

- select the SWT cheat sheet via Help &gt; Cheat Sheets...
- activate some other view or editor
- right click on the cheat sheet content
- it shows the context menu, but does not activate the view
- focus remains in the other part

Normally right-clicking in a widget gives it focus, which causes an activation
event up the control hierarchy, which triggers the workbench to activate the view.
Either the controls used here have a bug in this respect, or the event is being
intercepted along the way.
WORKSFORME on XP.  GG to check 2000.
I can't reproduce this problem either.  Nick is there a more specific 
description of "right click on the cheat sheet content" that makes this happen 
for you?

Seems to only happen in my main window.  I can't reproduce it in a new window,
even if I lay it out the same way.

Nick, are you still seeing this bug? I can't reproduce it.
I couldn't reproduce it in I20060329-1200 on Win2K.

Closing.. unreproducible.</WithStack>
    <WithOutStack>3.1 RC2

- select the SWT cheat sheet via Help &gt; Cheat Sheets...
- activate some other view or editor
- right click on the cheat sheet content
- it shows the context menu, but does not activate the view
- focus remains in the other part

Normally right-clicking in a widget gives it focus, which causes an activation
event up the control hierarchy, which triggers the workbench to activate the view.
Either the controls used here have a bug in this respect, or the event is being
intercepted along the way.
WORKSFORME on XP.  GG to check 2000.
I can't reproduce this problem either.  Nick is there a more specific 
description of "right click on the cheat sheet content" that makes this happen 
for you?

Seems to only happen in my main window.  I can't reproduce it in a new window,
even if I lay it out the same way.

Nick, are you still seeing this bug? I can't reproduce it.
I couldn't reproduce it in I20060329-1200 on Win2K.

Closing.. unreproducible.</WithOutStack>
  </Bug>
  <Bug>
    <BugId amount="100209" />
    <CreationDate amount="2005-06-15 11:24:00 -0400" />
    <DupId amount="145134" />
    <classification amount="Eclipse" />
    <Product amount="Platform" />
    <component amount="User Assistance" />
    <Version amount="3.1" />
    <rep_platform amount="PC" />
    <op_sys amount="Windows 2000" />
    <priority amount="P3" />
    <bug_severity amount="normal" />
    <Summery>[CheatSheet] Ctrl+C not enabled</Summery>
    <Patches amount="0" />
    <Stacktraces amount="0" />
    <SourceCodeRegions amount="0" />
    <Enumerations amount="1">
      <Enumeration lines="4">
        <Lines>
          <Line>- open a cheat sheet (e.g. via Help &gt; Cheat Sheets...)</Line>
          <Line>- select some of its text</Line>
          <Line>- in the Edit menu, Copy is disable, and Ctrl+C has no effect</Line>
          <Line>- on the context menu, Copy is enabled and works</Line>
        </Lines>
      </Enumeration>
    </Enumerations>
    <bug_status amount="RESOLVED" />
    <resolution amount="DUPLICATE" />
    <WithStack>3.1 RC2

- open a cheat sheet (e.g. via Help &gt; Cheat Sheets...)
- select some of its text
- in the Edit menu, Copy is disable, and Ctrl+C has no effect
- on the context menu, Copy is enabled and works

The view should hook its copy action as a handler for the global Copy action.
See IActionBars.setGlobalActionHandler.
This makes it annoying to use the "Standalone SWT Application" cheat sheet as it
has a snippet of code that we ask the user to copy and paste.
Moving from UI to UA.


*** This bug has been marked as a duplicate of 145134 ***</WithStack>
    <WithOutStack>3.1 RC2

- open a cheat sheet (e.g. via Help &gt; Cheat Sheets...)
- select some of its text
- in the Edit menu, Copy is disable, and Ctrl+C has no effect
- on the context menu, Copy is enabled and works

The view should hook its copy action as a handler for the global Copy action.
See IActionBars.setGlobalActionHandler.
This makes it annoying to use the "Standalone SWT Application" cheat sheet as it
has a snippet of code that we ask the user to copy and paste.
Moving from UI to UA.


*** This bug has been marked as a duplicate of 145134 ***</WithOutStack>
  </Bug>
  <Bug>
    <BugId amount="100210" />
    <CreationDate amount="2005-06-15 11:25:00 -0400" />
    <DupId amount="98800" />
    <classification amount="Eclipse" />
    <Product amount="Platform" />
    <component amount="Ant" />
    <Version amount="3.1" />
    <rep_platform amount="PC" />
    <op_sys amount="Windows XP" />
    <priority amount="P3" />
    <bug_severity amount="major" />
    <Summery>Ant build files cleared on platform restart</Summery>
    <Patches amount="0" />
    <Stacktraces amount="0" />
    <SourceCodeRegions amount="0" />
    <Enumerations amount="0" />
    <bug_status amount="RESOLVED" />
    <resolution amount="DUPLICATE" />
    <WithStack>Using 3.1RC2: Restarting platform (exit and restart eclipse) causes build files
added to the Ant view to be cleared. These build files had been successfully
added and used prior to restart. Exit of eclipse completed successfully. No
information is available in the workspace log file.
I cannot reproduce on WinXP RC2
Is it all buildfiles? Is it on every exit/restart?
It happened upon first use of RC2 (had been using RC1) and then several times
since updating to RC2. The build files are not cleared upon every restart. But
when they do, it is all build files that are cleared.
I'm also unable to reproduce this.
I opened RC1, added 4 build files to the Ant View, shut down, then started and shutdown RC2 and  
N20050615-0010 a few times each. I lost nothing from the Ant View.

Do you have errors or warnings in your build files? Anything unusual about them?
The build files are fairly extensive, but also very straight-forward; nothing
unusual. They run just fine under Ant 1.6.2 (we are near the end of a release
cycle and are not in a position to upgrade unless necessary).
--
There are warnings displayed about directories not found, e.g.,
"&lt;C:/project/${basedir}/build not found.&gt; But, the build files function just
fine when run either within eclipse, or outside.


*** This bug has been marked as a duplicate of 98800 ***</WithStack>
    <WithOutStack>Using 3.1RC2: Restarting platform (exit and restart eclipse) causes build files
added to the Ant view to be cleared. These build files had been successfully
added and used prior to restart. Exit of eclipse completed successfully. No
information is available in the workspace log file.
I cannot reproduce on WinXP RC2
Is it all buildfiles? Is it on every exit/restart?
It happened upon first use of RC2 (had been using RC1) and then several times
since updating to RC2. The build files are not cleared upon every restart. But
when they do, it is all build files that are cleared.
I'm also unable to reproduce this.
I opened RC1, added 4 build files to the Ant View, shut down, then started and shutdown RC2 and  
N20050615-0010 a few times each. I lost nothing from the Ant View.

Do you have errors or warnings in your build files? Anything unusual about them?
The build files are fairly extensive, but also very straight-forward; nothing
unusual. They run just fine under Ant 1.6.2 (we are near the end of a release
cycle and are not in a position to upgrade unless necessary).
--
There are warnings displayed about directories not found, e.g.,
"&lt;C:/project/${basedir}/build not found.&gt; But, the build files function just
fine when run either within eclipse, or outside.


*** This bug has been marked as a duplicate of 98800 ***</WithOutStack>
  </Bug>
  <Bug>
    <BugId amount="100211" />
    <CreationDate amount="2005-06-15 11:26:00 -0400" />
    <DupId amount="" />
    <classification amount="Eclipse" />
    <Product amount="JDT" />
    <component amount="UI" />
    <Version amount="3.1" />
    <rep_platform amount="PC" />
    <op_sys amount="Windows XP" />
    <priority amount="P3" />
    <bug_severity amount="minor" />
    <Summery>[source actions] Strange behavior in "Generate Constructor using Fields"</Summery>
    <Patches amount="0" />
    <Stacktraces amount="0" />
    <SourceCodeRegions amount="15">
      <source_code type="class">
        <location start="122" end="183" />
        <code>class ID {
	private int publicPart;
	private int localPart;
}</code>
      </source_code>
      <source_code type="functiondef">
        <location start="256" end="381" />
        <code>public ID(int part, int part2) {
	super();
	// TODO Auto-generated constructor stub
	publicPart = part;
	localPart = part2;
}</code>
      </source_code>
      <source_code type="functiondef">
        <location start="1293" end="1448" />
        <code>public ID(int globalPart, int localPart) {
	super();
	// TODO Auto-generated constructor stub
	this.publicPart = globalPart;
	this.localPart = localPart;
}</code>
      </source_code>
      <source_code type="multicomment">
        <location start="1801" end="1909" />
        <code>/**
     * @param id
     * @param id2
     * @param name
     * @param id3
     * @param value
     */</code>
      </source_code>
      <source_code type="assignment">
        <location start="1989" end="2012" />
        <code>addressId = id;</code>
      </source_code>
      <source_code type="assignment">
        <location start="2013" end="2038" />
        <code>customerId = id2;</code>
      </source_code>
      <source_code type="assignment">
        <location start="2039" end="2064" />
        <code>this.name = name;</code>
      </source_code>
      <source_code type="assignment">
        <location start="2065" end="2086" />
        <code>userId = id3;</code>
      </source_code>
      <source_code type="assignment">
        <location start="2087" end="2114" />
        <code>this.value = value;</code>
      </source_code>
      <source_code type="multicomment">
        <location start="2179" end="2282" />
        <code>/**
  * @param name
  * @param value
  * @param customerId
  * @param addressId
  * @param userId
  */</code>
      </source_code>
      <source_code type="assignment">
        <location start="2373" end="2392" />
        <code>this.name = name;</code>
      </source_code>
      <source_code type="assignment">
        <location start="2393" end="2414" />
        <code>this.value = value;</code>
      </source_code>
      <source_code type="assignment">
        <location start="2415" end="2446" />
        <code>this.customerId = customerId;</code>
      </source_code>
      <source_code type="assignment">
        <location start="2447" end="2476" />
        <code>this.addressId = addressId;</code>
      </source_code>
      <source_code type="assignment">
        <location start="2477" end="2500" />
        <code>this.userId = userId;</code>
      </source_code>
    </SourceCodeRegions>
    <Enumerations amount="2">
      <Enumeration lines="3">
        <Lines>
          <Line>1) exactly the same order as the declared fields</Line>
          <Line>2) exactly the same name, that is this.myFieldWithAVeryLongName =</Line>
          <Line>myFieldWithAVeryLongName</Line>
        </Lines>
      </Enumeration>
      <Enumeration lines="3">
        <Lines>
          <Line>- correct ordering</Line>
          <Line>- respect pre-/postfixes</Line>
          <Line>- chooses the same name as the field if possible after pre/postfix processing</Line>
        </Lines>
      </Enumeration>
    </Enumerations>
    <bug_status amount="VERIFIED" />
    <resolution amount="FIXED" />
    <WithStack>I find the behavior of "Generate Constructor using Fields" is strange in some
case. Suppose you have the following file:

class ID {
	private int publicPart;
	private int localPart;
}

Then when you call "Generate Constructor using Fields", it generates:

public ID(int part, int part2) {
	super();
	// TODO Auto-generated constructor stub
	publicPart = part;
	localPart = part2;
}

I don't known why the names of the two arguments are "part" and "part2", instead
of "publicPart" and "localPart".

The first line of the generated code, "super()", is also unnessary. So I think
it will be better if you delete this line if the class does not inherit from
other class (except Object).
Move to JDT/UI
Tobias, can you please investigate why we take part and part2 here as names. We
should do better here.

Not for 3.1.
We take the naming conventions from JDT Core, but only the first proposal. We 
might consider also the other ones
I have followed the execution of this command and found the suggested name is
given by function computeNames() in class InternalNamingConventions. For
sourceName 'publicPart', this function will return 'part'. It seems that
computeNames() thinks that 'public' is just a prefix and throws it away. If I
make computeNames() return the sourceName first. I will get:

public ID(int globalPart, int localPart) {
	super();
	// TODO Auto-generated constructor stub
	this.publicPart = globalPart;
	this.localPart = localPart;
}

I think it's better than 'part' and 'part2'. But I'm not familiar with the
internal of eclipse, so I'm not sure whether my fix is right.

This command has a second strange behaviour since it reorganizes the fields
alphabetically.

private String name;
private String value;
private int customerId;
private int addressId;
private int userId;

becomes:

    /**
     * @param id
     * @param id2
     * @param name
     * @param id3
     * @param value
     */
    public Customer(int id, int id2, String name, int id3, String value)
    {
        addressId = id;
        customerId = id2;
        this.name = name;
        userId = id3;
        this.value = value;
    }

This is quite awfull ;)

In 3.0.2 this worked like this:

/**
  * @param name
  * @param value
  * @param customerId
  * @param addressId
  * @param userId
  */
 public Customer(String name, String value, int customerId, int addressId, int
userId)
 {
  this.name = name;
  this.value = value;
  this.customerId = customerId;
  this.addressId = addressId;
  this.userId = userId;
 }
Tobias: please adopt the convention of taking the longest proposal from
JDT/core. See StubUtility.getArgumentNameSuggestions(..) and
.suggestArgumentName(..).

I agree that parameters must be created in the order of the field declarations.
Tobias, this is a regression to 3.0.1. Please investigate a fix for 3.1.1
This is very annoying, creating DTO objects has just become more complex... what
I need is
1) exactly the same order as the declared fields
2) exactly the same name, that is this.myFieldWithAVeryLongName =
myFieldWithAVeryLongName

At least, as an option...
This is very annoying, creating DTO objects has just become more complex... what
I need is
1) exactly the same order as the declared fields
2) exactly the same name, that is this.myFieldWithAVeryLongName =
myFieldWithAVeryLongName

At least, as an option...
Regarding comment 1: The call to super can be configured in the Generate 
Constructors dialog
Created attachment 25847
path for naming convention and order of the parameters

Markus, Martin, can you please cast your vote for 3.1.1?
This would be good one to fix; it is really annoying as you have to refactor the
contructor parameter names, and if you get that wrong you end up with silly bugs
in your code.  Voted for it.
The patch should use NamingConventions.removePrefixAndSuffixForFieldName on the
field name before passing it to StubUtility.getArgumentNameSuggestions.
Created attachment 25887
improved patch
Improved patch is ok. +1 for 3.1.1
Markus, can you please vote on this one?
Sorry to intrude, but asking is far easier than trying out the patch: does the
patch solve both of the points I have issued? Same name, same order?
Yes, it fixes both issues
Created attachment 25988
easier patch: reverted inline method

Tobias, the improved patch makes a lot of changes in StubUtility2 that are IMO
unnecessary. I refactored your patch to look more similar to the original code,
and the only change left was replacing NamingConventions by StubUtility in
getParameterName(..).

I'd vote for my minimal-change patch.
+1 for the minimal patch
Fixed in 3.1.1 maintenance stream &gt; 20050811
Fixed in HEAD &gt; 20050815
verifying...
verified that everything works:

- correct ordering
- respect pre-/postfixes
- chooses the same name as the field if possible after pre/postfix processing</WithStack>
    <WithOutStack>I find the behavior of "Generate Constructor using Fields" is strange in some
case. Suppose you have the following file:

class ID {
	private int publicPart;
	private int localPart;
}

Then when you call "Generate Constructor using Fields", it generates:

public ID(int part, int part2) {
	super();
	// TODO Auto-generated constructor stub
	publicPart = part;
	localPart = part2;
}

I don't known why the names of the two arguments are "part" and "part2", instead
of "publicPart" and "localPart".

The first line of the generated code, "super()", is also unnessary. So I think
it will be better if you delete this line if the class does not inherit from
other class (except Object).
Move to JDT/UI
Tobias, can you please investigate why we take part and part2 here as names. We
should do better here.

Not for 3.1.
We take the naming conventions from JDT Core, but only the first proposal. We 
might consider also the other ones
I have followed the execution of this command and found the suggested name is
given by function computeNames() in class InternalNamingConventions. For
sourceName 'publicPart', this function will return 'part'. It seems that
computeNames() thinks that 'public' is just a prefix and throws it away. If I
make computeNames() return the sourceName first. I will get:

public ID(int globalPart, int localPart) {
	super();
	// TODO Auto-generated constructor stub
	this.publicPart = globalPart;
	this.localPart = localPart;
}

I think it's better than 'part' and 'part2'. But I'm not familiar with the
internal of eclipse, so I'm not sure whether my fix is right.

This command has a second strange behaviour since it reorganizes the fields
alphabetically.

private String name;
private String value;
private int customerId;
private int addressId;
private int userId;

becomes:

    /**
     * @param id
     * @param id2
     * @param name
     * @param id3
     * @param value
     */
    public Customer(int id, int id2, String name, int id3, String value)
    {
        addressId = id;
        customerId = id2;
        this.name = name;
        userId = id3;
        this.value = value;
    }

This is quite awfull ;)

In 3.0.2 this worked like this:

/**
  * @param name
  * @param value
  * @param customerId
  * @param addressId
  * @param userId
  */
 public Customer(String name, String value, int customerId, int addressId, int
userId)
 {
  this.name = name;
  this.value = value;
  this.customerId = customerId;
  this.addressId = addressId;
  this.userId = userId;
 }
Tobias: please adopt the convention of taking the longest proposal from
JDT/core. See StubUtility.getArgumentNameSuggestions(..) and
.suggestArgumentName(..).

I agree that parameters must be created in the order of the field declarations.
Tobias, this is a regression to 3.0.1. Please investigate a fix for 3.1.1
This is very annoying, creating DTO objects has just become more complex... what
I need is
1) exactly the same order as the declared fields
2) exactly the same name, that is this.myFieldWithAVeryLongName =
myFieldWithAVeryLongName

At least, as an option...
This is very annoying, creating DTO objects has just become more complex... what
I need is
1) exactly the same order as the declared fields
2) exactly the same name, that is this.myFieldWithAVeryLongName =
myFieldWithAVeryLongName

At least, as an option...
Regarding comment 1: The call to super can be configured in the Generate 
Constructors dialog
Created attachment 25847
path for naming convention and order of the parameters

Markus, Martin, can you please cast your vote for 3.1.1?
This would be good one to fix; it is really annoying as you have to refactor the
contructor parameter names, and if you get that wrong you end up with silly bugs
in your code.  Voted for it.
The patch should use NamingConventions.removePrefixAndSuffixForFieldName on the
field name before passing it to StubUtility.getArgumentNameSuggestions.
Created attachment 25887
improved patch
Improved patch is ok. +1 for 3.1.1
Markus, can you please vote on this one?
Sorry to intrude, but asking is far easier than trying out the patch: does the
patch solve both of the points I have issued? Same name, same order?
Yes, it fixes both issues
Created attachment 25988
easier patch: reverted inline method

Tobias, the improved patch makes a lot of changes in StubUtility2 that are IMO
unnecessary. I refactored your patch to look more similar to the original code,
and the only change left was replacing NamingConventions by StubUtility in
getParameterName(..).

I'd vote for my minimal-change patch.
+1 for the minimal patch
Fixed in 3.1.1 maintenance stream &gt; 20050811
Fixed in HEAD &gt; 20050815
verifying...
verified that everything works:

- correct ordering
- respect pre-/postfixes
- chooses the same name as the field if possible after pre/postfix processing</WithOutStack>
  </Bug>
  <Bug>
    <BugId amount="100212" />
    <CreationDate amount="2005-06-15 11:26:00 -0400" />
    <DupId amount="" />
    <classification amount="Eclipse" />
    <Product amount="JDT" />
    <component amount="UI" />
    <Version amount="3.1" />
    <rep_platform amount="PC" />
    <op_sys amount="Windows XP" />
    <priority amount="P3" />
    <bug_severity amount="normal" />
    <Summery>[refactoring] Encapsulate field breaks static import statement.</Summery>
    <Patches amount="0" />
    <Stacktraces amount="0" />
    <SourceCodeRegions amount="5">
      <source_code type="package">
        <location start="158" end="170" />
        <code>package bug;</code>
      </source_code>
      <source_code type="import">
        <location start="171" end="198" />
        <code>import static bug.Import.x;</code>
      </source_code>
      <source_code type="class">
        <location start="199" end="221" />
        <code>class Bug { int y=x; }</code>
      </source_code>
      <source_code type="package">
        <location start="280" end="292" />
        <code>package bug;</code>
      </source_code>
      <source_code type="class">
        <location start="293" end="323" />
        <code>class Import { static int x; }</code>
      </source_code>
    </SourceCodeRegions>
    <Enumerations amount="0" />
    <bug_status amount="VERIFIED" />
    <resolution amount="FIXED" />
    <WithStack>To Import.x do Refactor&gt;&gt;EncapsulateField.  See the resulting static import 
statement is illegal.


-------------------- bug/Bug.java ----------------------
package bug;
import static bug.Import.x;
class Bug { int y=x; }

-------------------- bug/Import.java -------------------
package bug;
class Import { static int x; }
I thought that this is an easy fix, but unfortunatelly it is not. Only skipping
import declarations isn't enough. I also have to inspect all reference and see
if the field is seen through a static import. If so the field reference has to
be replaced by a 'Type.fieldName' reference and the import statement has to be
replaced by a non static import statement to the type.

Code changes are too big so late in the cycle.
Fixed for build &gt;= I20051122.
Verified in I20051213-0010.</WithStack>
    <WithOutStack>To Import.x do Refactor&gt;&gt;EncapsulateField.  See the resulting static import 
statement is illegal.


-------------------- bug/Bug.java ----------------------
package bug;
import static bug.Import.x;
class Bug { int y=x; }

-------------------- bug/Import.java -------------------
package bug;
class Import { static int x; }
I thought that this is an easy fix, but unfortunatelly it is not. Only skipping
import declarations isn't enough. I also have to inspect all reference and see
if the field is seen through a static import. If so the field reference has to
be replaced by a 'Type.fieldName' reference and the import statement has to be
replaced by a non static import statement to the type.

Code changes are too big so late in the cycle.
Fixed for build &gt;= I20051122.
Verified in I20051213-0010.</WithOutStack>
  </Bug>
  <Bug>
    <BugId amount="100213" />
    <CreationDate amount="2005-06-15 11:28:00 -0400" />
    <DupId amount="" />
    <classification amount="Eclipse" />
    <Product amount="Platform" />
    <component amount="Runtime" />
    <Version amount="3.1" />
    <rep_platform amount="PC" />
    <op_sys amount="Windows 2000" />
    <priority amount="P3" />
    <bug_severity amount="normal" />
    <Summery>Cannot create plugin manifest editor</Summery>
    <Patches amount="0" />
    <Stacktraces amount="1">
      <Stacktrace timestamp="1437330544368">
        <Exception>java.lang.ClassNotFoundException</Exception>
        <Reason>org.eclipse.pde.internal.ui.editor.plugin.ManifestEditor</Reason>
        <Frames>
          <Frame depth="0">org.eclipse.osgi.framework.internal.core.BundleLoader.findClass(BundleLoader.java:403)</Frame>
          <Frame depth="1">org.eclipse.osgi.framework.internal.core.BundleLoader.findClass(BundleLoader.java:350)</Frame>
          <Frame depth="2">org.eclipse.osgi.framework.adaptor.core.AbstractClassLoader.loadClass(AbstractClassLoader.java:78)</Frame>
          <Frame depth="3">java.lang.ClassLoader.loadClass(ClassLoader.java:235)</Frame>
          <Frame depth="4">org.eclipse.osgi.framework.internal.core.BundleLoader.loadClass(BundleLoader.java:275)</Frame>
          <Frame depth="5">org.eclipse.osgi.framework.internal.core.BundleHost.loadClass(BundleHost.java:227)</Frame>
          <Frame depth="6">org.eclipse.osgi.framework.internal.core.AbstractBundle.loadClass(AbstractBundle.java:1259)</Frame>
          <Frame depth="7">org.eclipse.core.internal.registry.ConfigurationElement.createExecutableExtension(ConfigurationElement.java:152)</Frame>
          <Frame depth="8">org.eclipse.core.internal.registry.ConfigurationElement.createExecutableExtension(ConfigurationElement.java:142)</Frame>
          <Frame depth="9">org.eclipse.core.internal.registry.ConfigurationElement.createExecutableExtension(ConfigurationElement.java:129)</Frame>
          <Frame depth="10">org.eclipse.core.internal.registry.ConfigurationElementHandle.createExecutableExtension(ConfigurationElementHandle.java:48)</Frame>
          <Frame depth="11">org.eclipse.ui.internal.WorkbenchPlugin$1.run(WorkbenchPlugin.java:240)</Frame>
          <Frame depth="12">org.eclipse.swt.custom.BusyIndicator.showWhile(BusyIndicator.java:69)</Frame>
          <Frame depth="13">org.eclipse.ui.internal.WorkbenchPlugin.createExtension(WorkbenchPlugin.java:236)</Frame>
          <Frame depth="14">org.eclipse.ui.internal.registry.EditorDescriptor.createEditor(EditorDescriptor.java:252)</Frame>
          <Frame depth="15">org.eclipse.ui.internal.EditorManager.createPart(EditorManager.java:837)</Frame>
          <Frame depth="16">org.eclipse.ui.internal.EditorReference.createPartHelper(EditorReference.java:543)</Frame>
          <Frame depth="17">org.eclipse.ui.internal.EditorReference.createPart(EditorReference.java:365)</Frame>
          <Frame depth="18">org.eclipse.ui.internal.WorkbenchPartReference.getPart(WorkbenchPartReference.java:551)</Frame>
          <Frame depth="19">org.eclipse.ui.internal.EditorAreaHelper.setVisibleEditor(EditorAreaHelper.java:258)</Frame>
          <Frame depth="20">org.eclipse.ui.internal.EditorManager.setVisibleEditor(EditorManager.java:1216)</Frame>
          <Frame depth="21">org.eclipse.ui.internal.EditorManager$5.run(EditorManager.java:944)</Frame>
          <Frame depth="22">org.eclipse.core.internal.runtime.InternalPlatform.run(InternalPlatform.java:1038)</Frame>
          <Frame depth="23">org.eclipse.core.runtime.Platform.run(Platform.java:775)</Frame>
          <Frame depth="24">org.eclipse.ui.internal.EditorManager.restoreState(EditorManager.java:939)</Frame>
          <Frame depth="25">org.eclipse.ui.internal.WorkbenchPage.restoreState(WorkbenchPage.java:2531)</Frame>
          <Frame depth="26">org.eclipse.ui.internal.WorkbenchWindow.restoreState(WorkbenchWindow.java:1819)</Frame>
          <Frame depth="27">org.eclipse.ui.internal.Workbench.doRestoreState(Workbench.java:2573)</Frame>
          <Frame depth="28">org.eclipse.ui.internal.Workbench.access$15(Workbench.java:2522)</Frame>
          <Frame depth="29">org.eclipse.ui.internal.Workbench$18.run(Workbench.java:1531)</Frame>
          <Frame depth="30">org.eclipse.ui.internal.Workbench$15.run(Workbench.java:1260)</Frame>
          <Frame depth="31">org.eclipse.jface.operation.ModalContext.runInCurrentThread(ModalContext.java:346)</Frame>
          <Frame depth="32">org.eclipse.jface.operation.ModalContext.run(ModalContext.java:291)</Frame>
          <Frame depth="33">org.eclipse.jface.dialogs.ProgressMonitorDialog.run(ProgressMonitorDialog.java:447)</Frame>
          <Frame depth="34">org.eclipse.ui.internal.Workbench.runStartupWithProgress(Workbench.java:1255)</Frame>
          <Frame depth="35">org.eclipse.ui.internal.Workbench.restoreState(Workbench.java:1529)</Frame>
          <Frame depth="36">org.eclipse.ui.internal.Workbench.access$13(Workbench.java:1508)</Frame>
          <Frame depth="37">org.eclipse.ui.internal.Workbench$16.run(Workbench.java:1391)</Frame>
          <Frame depth="38">org.eclipse.core.internal.runtime.InternalPlatform.run(InternalPlatform.java:1038)</Frame>
          <Frame depth="39">org.eclipse.core.runtime.Platform.run(Platform.java:775)</Frame>
          <Frame depth="40">org.eclipse.ui.internal.Workbench.restoreState(Workbench.java:1335)</Frame>
          <Frame depth="41">org.eclipse.ui.internal.WorkbenchConfigurer.restoreState(WorkbenchConfigurer.java:183)</Frame>
          <Frame depth="42">org.eclipse.ui.application.WorkbenchAdvisor.openWindows(WorkbenchAdvisor.java:700)</Frame>
          <Frame depth="43">org.eclipse.ui.internal.Workbench.init(Workbench.java:1031)</Frame>
          <Frame depth="44">org.eclipse.ui.internal.Workbench.runUI(Workbench.java:1653)</Frame>
          <Frame depth="45">org.eclipse.ui.internal.Workbench.createAndRunWorkbench(Workbench.java:365)</Frame>
          <Frame depth="46">org.eclipse.ui.PlatformUI.createAndRunWorkbench(PlatformUI.java:143)</Frame>
          <Frame depth="47">org.eclipse.ui.internal.ide.IDEApplication.run(IDEApplication.java:103)</Frame>
          <Frame depth="48">org.eclipse.core.internal.runtime.PlatformActivator$1.run(PlatformActivator.java:226)</Frame>
          <Frame depth="49">org.eclipse.core.runtime.adaptor.EclipseStarter.run(EclipseStarter.java:376)</Frame>
          <Frame depth="50">org.eclipse.core.runtime.adaptor.EclipseStarter.run(EclipseStarter.java:163)</Frame>
          <Frame depth="51">sun.reflect.NativeMethodAccessorImpl.invoke0(Native Method)</Frame>
          <Frame depth="52">sun.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:39)</Frame>
          <Frame depth="53">sun.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:25)</Frame>
          <Frame depth="54">java.lang.reflect.Method.invoke(Method.java:324)</Frame>
          <Frame depth="55">org.eclipse.core.launcher.Main.invokeFramework(Main.java:334)</Frame>
          <Frame depth="56">org.eclipse.core.launcher.Main.basicRun(Main.java:278)</Frame>
          <Frame depth="57">org.eclipse.core.launcher.Main.run(Main.java:973)</Frame>
          <Frame depth="58">org.eclipse.core.launcher.Main.main(Main.java:948)</Frame>
        </Frames>
      </Stacktrace>
    </Stacktraces>
    <SourceCodeRegions amount="0" />
    <Enumerations amount="0" />
    <bug_status amount="RESOLVED" />
    <resolution amount="INVALID" />
    <WithStack>This happens in both 3.1M7 and 3.1RC2 (I didn't download 3.1RC1).  When trying 
to open a plugin.xml file, which can be opened in 3.1M6 and earlier, I got 

"Unable to create this part due to an internal error. Reason for the failure: 
The editor class could not be instantiated. This usually indicates that the 
editor's class name was mistyped in plugin.xml."

Here is the stack trace:

java.lang.ClassNotFoundException: 
org.eclipse.pde.internal.ui.editor.plugin.ManifestEditor
	at org.eclipse.osgi.framework.internal.core.BundleLoader.findClass
(BundleLoader.java:403)
	at org.eclipse.osgi.framework.internal.core.BundleLoader.findClass
(BundleLoader.java:350)
	at org.eclipse.osgi.framework.adaptor.core.AbstractClassLoader.loadClass
(AbstractClassLoader.java:78)
	at java.lang.ClassLoader.loadClass(ClassLoader.java:235)
	at org.eclipse.osgi.framework.internal.core.BundleLoader.loadClass
(BundleLoader.java:275)
	at org.eclipse.osgi.framework.internal.core.BundleHost.loadClass
(BundleHost.java:227)
	at org.eclipse.osgi.framework.internal.core.AbstractBundle.loadClass
(AbstractBundle.java:1259)
	at 
org.eclipse.core.internal.registry.ConfigurationElement.createExecutableExtensio
n(ConfigurationElement.java:152)
	at 
org.eclipse.core.internal.registry.ConfigurationElement.createExecutableExtensio
n(ConfigurationElement.java:142)
	at 
org.eclipse.core.internal.registry.ConfigurationElement.createExecutableExtensio
n(ConfigurationElement.java:129)
	at 
org.eclipse.core.internal.registry.ConfigurationElementHandle.createExecutableEx
tension(ConfigurationElementHandle.java:48)
	at org.eclipse.ui.internal.WorkbenchPlugin$1.run
(WorkbenchPlugin.java:240)
	at org.eclipse.swt.custom.BusyIndicator.showWhile(BusyIndicator.java:69)
	at org.eclipse.ui.internal.WorkbenchPlugin.createExtension
(WorkbenchPlugin.java:236)
	at org.eclipse.ui.internal.registry.EditorDescriptor.createEditor
(EditorDescriptor.java:252)
	at org.eclipse.ui.internal.EditorManager.createPart
(EditorManager.java:837)
	at org.eclipse.ui.internal.EditorReference.createPartHelper
(EditorReference.java:543)
	at org.eclipse.ui.internal.EditorReference.createPart
(EditorReference.java:365)
	at org.eclipse.ui.internal.WorkbenchPartReference.getPart
(WorkbenchPartReference.java:551)
	at org.eclipse.ui.internal.EditorAreaHelper.setVisibleEditor
(EditorAreaHelper.java:258)
	at org.eclipse.ui.internal.EditorManager.setVisibleEditor
(EditorManager.java:1216)
	at org.eclipse.ui.internal.EditorManager$5.run(EditorManager.java:944)
	at org.eclipse.core.internal.runtime.InternalPlatform.run
(InternalPlatform.java:1038)
	at org.eclipse.core.runtime.Platform.run(Platform.java:775)
	at org.eclipse.ui.internal.EditorManager.restoreState
(EditorManager.java:939)
	at org.eclipse.ui.internal.WorkbenchPage.restoreState
(WorkbenchPage.java:2531)
	at org.eclipse.ui.internal.WorkbenchWindow.restoreState
(WorkbenchWindow.java:1819)
	at org.eclipse.ui.internal.Workbench.doRestoreState(Workbench.java:2573)
	at org.eclipse.ui.internal.Workbench.access$15(Workbench.java:2522)
	at org.eclipse.ui.internal.Workbench$18.run(Workbench.java:1531)
	at org.eclipse.ui.internal.Workbench$15.run(Workbench.java:1260)
	at org.eclipse.jface.operation.ModalContext.runInCurrentThread
(ModalContext.java:346)
	at org.eclipse.jface.operation.ModalContext.run(ModalContext.java:291)
	at org.eclipse.jface.dialogs.ProgressMonitorDialog.run
(ProgressMonitorDialog.java:447)
	at org.eclipse.ui.internal.Workbench.runStartupWithProgress
(Workbench.java:1255)
	at org.eclipse.ui.internal.Workbench.restoreState(Workbench.java:1529)
	at org.eclipse.ui.internal.Workbench.access$13(Workbench.java:1508)
	at org.eclipse.ui.internal.Workbench$16.run(Workbench.java:1391)
	at org.eclipse.core.internal.runtime.InternalPlatform.run
(InternalPlatform.java:1038)
	at org.eclipse.core.runtime.Platform.run(Platform.java:775)
	at org.eclipse.ui.internal.Workbench.restoreState(Workbench.java:1335)
	at org.eclipse.ui.internal.WorkbenchConfigurer.restoreState
(WorkbenchConfigurer.java:183)
	at org.eclipse.ui.application.WorkbenchAdvisor.openWindows
(WorkbenchAdvisor.java:700)
	at org.eclipse.ui.internal.Workbench.init(Workbench.java:1031)
	at org.eclipse.ui.internal.Workbench.runUI(Workbench.java:1653)
	at org.eclipse.ui.internal.Workbench.createAndRunWorkbench
(Workbench.java:365)
	at org.eclipse.ui.PlatformUI.createAndRunWorkbench(PlatformUI.java:143)
	at org.eclipse.ui.internal.ide.IDEApplication.run
(IDEApplication.java:103)
	at org.eclipse.core.internal.runtime.PlatformActivator$1.run
(PlatformActivator.java:226)
	at org.eclipse.core.runtime.adaptor.EclipseStarter.run
(EclipseStarter.java:376)
	at org.eclipse.core.runtime.adaptor.EclipseStarter.run
(EclipseStarter.java:163)
	at sun.reflect.NativeMethodAccessorImpl.invoke0(Native Method)
	at sun.reflect.NativeMethodAccessorImpl.invoke
(NativeMethodAccessorImpl.java:39)
	at sun.reflect.DelegatingMethodAccessorImpl.invoke
(DelegatingMethodAccessorImpl.java:25)
	at java.lang.reflect.Method.invoke(Method.java:324)
	at org.eclipse.core.launcher.Main.invokeFramework(Main.java:334)
	at org.eclipse.core.launcher.Main.basicRun(Main.java:278)
	at org.eclipse.core.launcher.Main.run(Main.java:973)
	at org.eclipse.core.launcher.Main.main(Main.java:948)
How did you install Eclipse 3.1 RC2? Extracted it to an empty location, or over
an existing install?

Is this the only exception you get? Can you provide the log for the whole
session where thi fails.
Created attachment 23367
The log file
I downloaded 3.1RC2 and extracted it into an empty location.  Then I started 
it, pointing to my workspace which is separate from previous eclispse 
installations.  Since the previous session had an plugin.xml open, I got the 
error immidiately.  I tried to close and reopen the plugin.xml, and 
persistently got this error.  Additionally, the pde related project creation 
wizards could not start either.

All the errors for the last session in the log file you provided are caused by
trying to run on a 1.4 VM code that was compiled targetting 1.5 VMs.

The compiled code was not provided by the Eclipse SDK. The code we ship should
run on a 1.4 VM with no problems.
Are you using a third party product or recompiling Eclipse yourself?
Created attachment 23406
Runtime log for a clean installation of 3.1RC2, Java 5.0
(In reply to comment #5)
&gt; Are you using a third party product or recompiling Eclipse yourself?

I did install a couple of third party plugins.  For this latest run, I removed 
all of them.  Please take a look of the attached file latest.log.  Now the PDE 
wizard can run, but I still cannot open plugin.xml file.
(In reply to comment #4)
&gt; All the errors for the last session in the log file you provided are caused by
&gt; trying to run on a 1.4 VM code that was compiled targetting 1.5 VMs.
&gt; The compiled code was not provided by the Eclipse SDK. The code we ship should
&gt; run on a 1.4 VM with no problems.

The workspace is stored on a USB jumpdrive, and I've been using it with 
different computers, some has Java 1.4, some 1.5, and some has both.  I never 
had this problem until 3.1M7.
The errors in the latest entries are not related at all to your original problem. 

Please exit Eclipse and delete all files under the ...\eclipse\configuration
dir, except for config.ini. Can you still reproduce the problem after doing that?
Closing. Never reproduced.</WithStack>
    <WithOutStack>This happens in both 3.1M7 and 3.1RC2 (I didn't download 3.1RC1).  When trying 
to open a plugin.xml file, which can be opened in 3.1M6 and earlier, I got 

"Unable to create this part due to an internal error. Reason for the failure: 
The editor class could not be instantiated. This usually indicates that the 
editor's class name was mistyped in plugin.xml."

Here is the stack trace:


How did you install Eclipse 3.1 RC2? Extracted it to an empty location, or over
an existing install?

Is this the only exception you get? Can you provide the log for the whole
session where thi fails.
Created attachment 23367
The log file
I downloaded 3.1RC2 and extracted it into an empty location.  Then I started 
it, pointing to my workspace which is separate from previous eclispse 
installations.  Since the previous session had an plugin.xml open, I got the 
error immidiately.  I tried to close and reopen the plugin.xml, and 
persistently got this error.  Additionally, the pde related project creation 
wizards could not start either.

All the errors for the last session in the log file you provided are caused by
trying to run on a 1.4 VM code that was compiled targetting 1.5 VMs.

The compiled code was not provided by the Eclipse SDK. The code we ship should
run on a 1.4 VM with no problems.
Are you using a third party product or recompiling Eclipse yourself?
Created attachment 23406
Runtime log for a clean installation of 3.1RC2, Java 5.0
(In reply to comment #5)
&gt; Are you using a third party product or recompiling Eclipse yourself?

I did install a couple of third party plugins.  For this latest run, I removed 
all of them.  Please take a look of the attached file latest.log.  Now the PDE 
wizard can run, but I still cannot open plugin.xml file.
(In reply to comment #4)
&gt; All the errors for the last session in the log file you provided are caused by
&gt; trying to run on a 1.4 VM code that was compiled targetting 1.5 VMs.
&gt; The compiled code was not provided by the Eclipse SDK. The code we ship should
&gt; run on a 1.4 VM with no problems.

The workspace is stored on a USB jumpdrive, and I've been using it with 
different computers, some has Java 1.4, some 1.5, and some has both.  I never 
had this problem until 3.1M7.
The errors in the latest entries are not related at all to your original problem. 

Please exit Eclipse and delete all files under the ...\eclipse\configuration
dir, except for config.ini. Can you still reproduce the problem after doing that?
Closing. Never reproduced.</WithOutStack>
  </Bug>
  <Bug>
    <BugId amount="100214" />
    <CreationDate amount="2005-06-15 11:29:00 -0400" />
    <DupId amount="" />
    <classification amount="Modeling" />
    <Product amount="MDT.UML2" />
    <component amount="Core" />
    <Version amount="1.1.0" />
    <rep_platform amount="PC" />
    <op_sys amount="Windows XP" />
    <priority amount="P1" />
    <bug_severity amount="normal" />
    <Summery>Derived union getters should use eIsSet(EStructuralFeature)</Summery>
    <Patches amount="0" />
    <Stacktraces amount="0" />
    <SourceCodeRegions amount="0" />
    <Enumerations amount="0" />
    <bug_status amount="VERIFIED" />
    <resolution amount="FIXED" />
    <WithStack>The getters for derived unions should use eIsSet(EStructuralFeature) instead 
of accessing a field directly (in cases where there is a field) to determine 
whether to add (a) value(s) to the union. When testing multiplicity-many 
features, they should also check whether the list is empty before attempting 
to iterate over the list so as to avoid unnecessarily creating an iterator 
object (eIsSet(EStructuralFeature) already does this).
The changes have been committed to CVS.
The changes are available in build 1.1RC2.
Move to verified as per bug 206558.</WithStack>
    <WithOutStack>The getters for derived unions should use eIsSet(EStructuralFeature) instead 
of accessing a field directly (in cases where there is a field) to determine 
whether to add (a) value(s) to the union. When testing multiplicity-many 
features, they should also check whether the list is empty before attempting 
to iterate over the list so as to avoid unnecessarily creating an iterator 
object (eIsSet(EStructuralFeature) already does this).
The changes have been committed to CVS.
The changes are available in build 1.1RC2.
Move to verified as per bug 206558.</WithOutStack>
  </Bug>
  <Bug>
    <BugId amount="100215" />
    <CreationDate amount="2005-06-15 11:29:00 -0400" />
    <DupId amount="" />
    <classification amount="WebTools" />
    <Product amount="WTP Common Tools" />
    <component amount="wst.common" />
    <Version amount="0.7" />
    <rep_platform amount="PC" />
    <op_sys amount="Windows XP" />
    <priority amount="P3" />
    <bug_severity amount="normal" />
    <Summery>NPE in StructureEdit.findResourcesBySourcePath in flexible project</Summery>
    <Patches amount="0" />
    <Stacktraces amount="1">
      <Stacktrace timestamp="1437330544368">
        <Exception>java.lang.NullPointerException</Exception>
        <Reason />
        <Frames>
          <Frame depth="0">org.eclipse.wst.common.componentcore.internal.StructureEdit.findResourcesBySourcePath(StructureEdit.java:677)</Frame>
          <Frame depth="1">org.eclipse.wst.common.componentcore.ComponentCore.createResources(ComponentCore.java:147)</Frame>
          <Frame depth="2">org.eclipse.wst.common.componentcore.internal.util.ComponentResolver.resolve(ComponentResolver.java:56)</Frame>
          <Frame depth="3">org.eclipse.wst.common.uriresolver.internal.ExtensibleURIResolver.resolve(ExtensibleURIResolver.java:66)</Frame>
          <Frame depth="4">org.eclipse.wst.sse.core.internal.FileBufferModelManager$CommonURIResolver.getLocationByURI(FileBufferModelManager.java:187)</Frame>
          <Frame depth="5">org.eclipse.wst.sse.core.internal.FileBufferModelManager$CommonURIResolver.getLocationByURI(FileBufferModelManager.java:175)</Frame>
          <Frame depth="6">org.eclipse.wst.xml.core.internal.modelquery.XMLCatalogIdResolver.resolve(XMLCatalogIdResolver.java:84)</Frame>
          <Frame depth="7">org.eclipse.wst.xml.core.internal.modelquery.XMLModelQueryAssociationProvider.resolveGrammarURI(XMLModelQueryAssociationProvider.java:35)</Frame>
          <Frame depth="8">org.eclipse.wst.xml.core.internal.contentmodel.modelqueryimpl.XMLAssociationProvider.resolveGrammarURI(XMLAssociationProvider.java:160)</Frame>
          <Frame depth="9">org.eclipse.wst.xml.core.internal.contentmodel.modelqueryimpl.CMDocumentManagerImpl.lookupOrCreateResolvedURI(CMDocumentManagerImpl.java:113)</Frame>
          <Frame depth="10">org.eclipse.wst.xml.core.internal.contentmodel.modelqueryimpl.CMDocumentManagerImpl.addCMDocumentReference(CMDocumentManagerImpl.java:186)</Frame>
          <Frame depth="11">org.eclipse.wst.xml.core.internal.contentmodel.modelqueryimpl.CMDocumentLoader.handleGrammar(CMDocumentLoader.java:105)</Frame>
          <Frame depth="12">org.eclipse.wst.xml.core.internal.contentmodel.modelqueryimpl.CMDocumentLoader.loadCMDocuments(CMDocumentLoader.java:66)</Frame>
          <Frame depth="13">org.eclipse.wst.xml.ui.internal.DOMObserver.invokeCMDocumentLoad(DOMObserver.java:177)</Frame>
          <Frame depth="14">org.eclipse.wst.xml.ui.internal.DOMObserver$TimerJob.run(DOMObserver.java:139)</Frame>
          <Frame depth="15">org.eclipse.core.internal.jobs.Worker.run(Worker.java:76)</Frame>
        </Frames>
      </Stacktrace>
    </Stacktraces>
    <SourceCodeRegions amount="0" />
    <Enumerations amount="0" />
    <bug_status amount="CLOSED" />
    <resolution amount="WORKSFORME" />
    <WithStack>StructureEdit.getComponentModelRoot doesn't say it can return null, but its
implementation by ModuleStructuralModule.getPrimaryRootObject() can.  I don't
understand *why* it's a null in this case, though, since I have two modules in
the project.

!ENTRY org.eclipse.core.runtime 4 2 2005-06-15 11:26:29.10
!MESSAGE An internal error occurred during: "Loading referenced grammars".
!STACK 0
java.lang.NullPointerException
	at
org.eclipse.wst.common.componentcore.internal.StructureEdit.findResourcesBySourcePath(StructureEdit.java:677)
	at
org.eclipse.wst.common.componentcore.ComponentCore.createResources(ComponentCore.java:147)
	at
org.eclipse.wst.common.componentcore.internal.util.ComponentResolver.resolve(ComponentResolver.java:56)
	at
org.eclipse.wst.common.uriresolver.internal.ExtensibleURIResolver.resolve(ExtensibleURIResolver.java:66)
	at
org.eclipse.wst.sse.core.internal.FileBufferModelManager$CommonURIResolver.getLocationByURI(FileBufferModelManager.java:187)
	at
org.eclipse.wst.sse.core.internal.FileBufferModelManager$CommonURIResolver.getLocationByURI(FileBufferModelManager.java:175)
	at
org.eclipse.wst.xml.core.internal.modelquery.XMLCatalogIdResolver.resolve(XMLCatalogIdResolver.java:84)
	at
org.eclipse.wst.xml.core.internal.modelquery.XMLModelQueryAssociationProvider.resolveGrammarURI(XMLModelQueryAssociationProvider.java:35)
	at
org.eclipse.wst.xml.core.internal.contentmodel.modelqueryimpl.XMLAssociationProvider.resolveGrammarURI(XMLAssociationProvider.java:160)
	at
org.eclipse.wst.xml.core.internal.contentmodel.modelqueryimpl.CMDocumentManagerImpl.lookupOrCreateResolvedURI(CMDocumentManagerImpl.java:113)
	at
org.eclipse.wst.xml.core.internal.contentmodel.modelqueryimpl.CMDocumentManagerImpl.addCMDocumentReference(CMDocumentManagerImpl.java:186)
	at
org.eclipse.wst.xml.core.internal.contentmodel.modelqueryimpl.CMDocumentLoader.handleGrammar(CMDocumentLoader.java:105)
	at
org.eclipse.wst.xml.core.internal.contentmodel.modelqueryimpl.CMDocumentLoader.loadCMDocuments(CMDocumentLoader.java:66)
	at
org.eclipse.wst.xml.ui.internal.DOMObserver.invokeCMDocumentLoad(DOMObserver.java:177)
	at org.eclipse.wst.xml.ui.internal.DOMObserver$TimerJob.run(DOMObserver.java:139)
	at org.eclipse.core.internal.jobs.Worker.run(Worker.java:76)
code dropped in cvs.
wrong bug.
I can't reproduce this.
Created attachment 23268
documents that getComponentModelRoot can return null and ensures findResourcesBySourcePath won't NPE because of it
Closing.</WithStack>
    <WithOutStack>StructureEdit.getComponentModelRoot doesn't say it can return null, but its
implementation by ModuleStructuralModule.getPrimaryRootObject() can.  I don't
understand *why* it's a null in this case, though, since I have two modules in
the project.

!ENTRY org.eclipse.core.runtime 4 2 2005-06-15 11:26:29.10
!MESSAGE An internal error occurred during: "Loading referenced grammars".
!STACK 0

code dropped in cvs.
wrong bug.
I can't reproduce this.
Created attachment 23268
documents that getComponentModelRoot can return null and ensures findResourcesBySourcePath won't NPE because of it
Closing.</WithOutStack>
  </Bug>
  <Bug>
    <BugId amount="100216" />
    <CreationDate amount="2005-06-15 11:36:00 -0400" />
    <DupId amount="" />
    <classification amount="WebTools" />
    <Product amount="WTP Source Editing" />
    <component amount="wst.xml" />
    <Version amount="0.7" />
    <rep_platform amount="PC" />
    <op_sys amount="Windows XP" />
    <priority amount="P3" />
    <bug_severity amount="minor" />
    <Summery>XMLValidator hides all non-SAX and IO Exceptions</Summery>
    <Patches amount="0" />
    <Stacktraces amount="0" />
    <SourceCodeRegions amount="0" />
    <Enumerations amount="0" />
    <bug_status amount="CLOSED" />
    <resolution amount="FIXED" />
    <WithStack>This makes it very hard to debug any problems that occur inside the validator or
in code it calls.
Fixed in HEAD, updated
/org.eclipse.wst.xml.validation/src/org/eclipse/wst/xml/validation/internal/XMLValidator.java
closing</WithStack>
    <WithOutStack>This makes it very hard to debug any problems that occur inside the validator or
in code it calls.
Fixed in HEAD, updated
/org.eclipse.wst.xml.validation/src/org/eclipse/wst/xml/validation/internal/XMLValidator.java
closing</WithOutStack>
  </Bug>
  <Bug>
    <BugId amount="100217" />
    <CreationDate amount="2005-06-15 11:37:00 -0400" />
    <DupId amount="99616" />
    <classification amount="WebTools" />
    <Product amount="WTP Releng" />
    <component amount="releng" />
    <Version amount="0.7" />
    <rep_platform amount="PC" />
    <op_sys amount="Windows XP" />
    <priority amount="P3" />
    <bug_severity amount="critical" />
    <Summery>WTP SDK source plug-ins broken</Summery>
    <Patches amount="0" />
    <Stacktraces amount="0" />
    <SourceCodeRegions amount="0" />
    <Enumerations amount="0" />
    <bug_status amount="CLOSED" />
    <resolution amount="DUPLICATE" />
    <WithStack>Downloaded wtp-sdk-I20050603.zip and the source plug-ins are missing the OSGi 
resource bundle files META-INF/MANIFEST.MF. This means the source is not 
available when developing plug-ins dependent on WTP.

!ENTRY org.eclipse.update.configurator 2005-06-14 08:58:18.712
!MESSAGE Plugin does not have a valid identifier: 
plugins/org.eclipse.jst.doc.isv_1.0.0/

!ENTRY org.eclipse.update.configurator 2005-06-14 08:58:18.722
!MESSAGE Plugin does not have a valid version: 
plugins/org.eclipse.jst.doc.isv_1.0.0/

!ENTRY org.eclipse.update.configurator 2005-06-14 08:58:18.772
!MESSAGE Plugin does not have a valid identifier: 
plugins/org.eclipse.jst.source_1.0.0/

!ENTRY org.eclipse.update.configurator 2005-06-14 08:58:18.772
!MESSAGE Plugin does not have a valid version: 
plugins/org.eclipse.jst.source_1.0.0/

!ENTRY org.eclipse.update.configurator 2005-06-14 08:58:18.943
!MESSAGE Plugin does not have a valid identifier: 
plugins/org.eclipse.wst.doc.isv_1.0.0/

!ENTRY org.eclipse.update.configurator 2005-06-14 08:58:18.943
!MESSAGE Plugin does not have a valid version: 
plugins/org.eclipse.wst.doc.isv_1.0.0/

!ENTRY org.eclipse.update.configurator 2005-06-14 08:58:19.13
!MESSAGE Plugin does not have a valid identifier: 
plugins/org.eclipse.wst.source_1.0.0/

!ENTRY org.eclipse.update.configurator 2005-06-14 08:58:19.23
!MESSAGE Plugin does not have a valid version: 
plugins/org.eclipse.wst.source_1.0.0/

!ENTRY org.eclipse.update.configurator 2005-06-14 08:58:22.998
!MESSAGE Could not install bundle plugins/org.eclipse.jst.doc.isv_1.0.0/   
Error converting plugin at c:\eclipse-SDK-I20050609-1605
\eclipse\plugins\org.eclipse.jst.doc.isv_1.0.0.

!ENTRY org.eclipse.update.configurator 2005-06-14 08:58:23.159
!MESSAGE Could not install bundle plugins/org.eclipse.jst.source_1.0.0/   
Error converting plugin at c:\eclipse-SDK-I20050609-1605
\eclipse\plugins\org.eclipse.jst.source_1.0.0.

!ENTRY org.eclipse.update.configurator 2005-06-14 08:58:23.810
!MESSAGE Could not install bundle plugins/org.eclipse.wst.doc.isv_1.0.0/   
Error converting plugin at c:\eclipse-SDK-I20050609-1605
\eclipse\plugins\org.eclipse.wst.doc.isv_1.0.0.

!ENTRY org.eclipse.update.configurator 2005-06-14 08:58:24.260
!MESSAGE Could not install bundle plugins/org.eclipse.wst.source_1.0.0/   
Error converting plugin at c:\eclipse-SDK-I20050609-1605
\eclipse\plugins\org.eclipse.wst.source_1.0.0.
Problem can be worked around by manually adding the source folder to Plugin
Target Platform.

The problem also seem to be solved in I20050614. 


*** This bug has been marked as a duplicate of 99616 ***
Verified in I20050624</WithStack>
    <WithOutStack>Downloaded wtp-sdk-I20050603.zip and the source plug-ins are missing the OSGi 
resource bundle files META-INF/MANIFEST.MF. This means the source is not 
available when developing plug-ins dependent on WTP.

!ENTRY org.eclipse.update.configurator 2005-06-14 08:58:18.712
!MESSAGE Plugin does not have a valid identifier: 
plugins/org.eclipse.jst.doc.isv_1.0.0/

!ENTRY org.eclipse.update.configurator 2005-06-14 08:58:18.722
!MESSAGE Plugin does not have a valid version: 
plugins/org.eclipse.jst.doc.isv_1.0.0/

!ENTRY org.eclipse.update.configurator 2005-06-14 08:58:18.772
!MESSAGE Plugin does not have a valid identifier: 
plugins/org.eclipse.jst.source_1.0.0/

!ENTRY org.eclipse.update.configurator 2005-06-14 08:58:18.772
!MESSAGE Plugin does not have a valid version: 
plugins/org.eclipse.jst.source_1.0.0/

!ENTRY org.eclipse.update.configurator 2005-06-14 08:58:18.943
!MESSAGE Plugin does not have a valid identifier: 
plugins/org.eclipse.wst.doc.isv_1.0.0/

!ENTRY org.eclipse.update.configurator 2005-06-14 08:58:18.943
!MESSAGE Plugin does not have a valid version: 
plugins/org.eclipse.wst.doc.isv_1.0.0/

!ENTRY org.eclipse.update.configurator 2005-06-14 08:58:19.13
!MESSAGE Plugin does not have a valid identifier: 
plugins/org.eclipse.wst.source_1.0.0/

!ENTRY org.eclipse.update.configurator 2005-06-14 08:58:19.23
!MESSAGE Plugin does not have a valid version: 
plugins/org.eclipse.wst.source_1.0.0/

!ENTRY org.eclipse.update.configurator 2005-06-14 08:58:22.998
!MESSAGE Could not install bundle plugins/org.eclipse.jst.doc.isv_1.0.0/   
Error converting plugin at c:\eclipse-SDK-I20050609-1605
\eclipse\plugins\org.eclipse.jst.doc.isv_1.0.0.

!ENTRY org.eclipse.update.configurator 2005-06-14 08:58:23.159
!MESSAGE Could not install bundle plugins/org.eclipse.jst.source_1.0.0/   
Error converting plugin at c:\eclipse-SDK-I20050609-1605
\eclipse\plugins\org.eclipse.jst.source_1.0.0.

!ENTRY org.eclipse.update.configurator 2005-06-14 08:58:23.810
!MESSAGE Could not install bundle plugins/org.eclipse.wst.doc.isv_1.0.0/   
Error converting plugin at c:\eclipse-SDK-I20050609-1605
\eclipse\plugins\org.eclipse.wst.doc.isv_1.0.0.

!ENTRY org.eclipse.update.configurator 2005-06-14 08:58:24.260
!MESSAGE Could not install bundle plugins/org.eclipse.wst.source_1.0.0/   
Error converting plugin at c:\eclipse-SDK-I20050609-1605
\eclipse\plugins\org.eclipse.wst.source_1.0.0.
Problem can be worked around by manually adding the source folder to Plugin
Target Platform.

The problem also seem to be solved in I20050614. 


*** This bug has been marked as a duplicate of 99616 ***
Verified in I20050624</WithOutStack>
  </Bug>
  <Bug>
    <BugId amount="100218" />
    <CreationDate amount="2005-06-15 11:39:00 -0400" />
    <DupId amount="100182" />
    <classification amount="Eclipse" />
    <Product amount="JDT" />
    <component amount="Core" />
    <Version amount="3.1" />
    <rep_platform amount="PC" />
    <op_sys amount="Windows XP" />
    <priority amount="P3" />
    <bug_severity amount="normal" />
    <Summery>unecessary cast in case of boxing</Summery>
    <Patches amount="0" />
    <Stacktraces amount="0" />
    <SourceCodeRegions amount="1">
      <source_code type="functioncall">
        <location start="77" end="111" />
        <code>System.out.println("%d\n",(int)c);</code>
      </source_code>
    </SourceCodeRegions>
    <Enumerations amount="0" />
    <bug_status amount="VERIFIED" />
    <resolution amount="DUPLICATE" />
    <WithStack>eclipse raise an unecessary cast in a case that require a cast :

char c=...
System.out.println("%d\n",(int)c);

in this case, the cast is usefull because c must be box in Integer.


*** This bug has been marked as a duplicate of 100182 ***</WithStack>
    <WithOutStack>eclipse raise an unecessary cast in a case that require a cast :

char c=...
System.out.println("%d\n",(int)c);

in this case, the cast is usefull because c must be box in Integer.


*** This bug has been marked as a duplicate of 100182 ***</WithOutStack>
  </Bug>
  <Bug>
    <BugId amount="100219" />
    <CreationDate amount="2005-06-15 11:52:00 -0400" />
    <DupId amount="99725" />
    <classification amount="Eclipse" />
    <Product amount="JDT" />
    <component amount="Text" />
    <Version amount="3.1" />
    <rep_platform amount="PC" />
    <op_sys amount="All" />
    <priority amount="P3" />
    <bug_severity amount="normal" />
    <Summery>[typing] Move line does not indent javadoc lines properly after unindenting them</Summery>
    <Patches amount="0" />
    <Stacktraces amount="0" />
    <SourceCodeRegions amount="1">
      <source_code type="multicomment">
        <location start="36" end="64" />
        <code>/**
 * line 1
 * line 2
 */</code>
      </source_code>
    </SourceCodeRegions>
    <Enumerations amount="1">
      <Enumeration lines="3">
        <Lines>
          <Line>- select lines 1 &amp; 2 and move downwards - lines are indented to column 0, which</Line>
          <Line>is ok</Line>
          <Line>- move the lines back up</Line>
        </Lines>
      </Enumeration>
    </Enumerations>
    <bug_status amount="RESOLVED" />
    <resolution amount="DUPLICATE" />
    <WithStack>3.1-RC2

From bug 100196 comment 6:

/**
 * line 1
 * line 2
 */

- select lines 1 &amp; 2 and move downwards - lines are indented to column 0, which
is ok
- move the lines back up

expected: lines are indented by one space to fit javadoc
actual: lines are not indented.
A fix could either add javadoc/comment awareness to JavaIndenter, or implement
something similar to what IndentAction does in IndentUtil. Not for 3.1


*** This bug has been marked as a duplicate of 99725 ***</WithStack>
    <WithOutStack>3.1-RC2

From bug 100196 comment 6:

/**
 * line 1
 * line 2
 */

- select lines 1 &amp; 2 and move downwards - lines are indented to column 0, which
is ok
- move the lines back up

expected: lines are indented by one space to fit javadoc
actual: lines are not indented.
A fix could either add javadoc/comment awareness to JavaIndenter, or implement
something similar to what IndentAction does in IndentUtil. Not for 3.1


*** This bug has been marked as a duplicate of 99725 ***</WithOutStack>
  </Bug>
  <Bug>
    <BugId amount="100220" />
    <CreationDate amount="2005-06-15 11:53:00 -0400" />
    <DupId amount="99203" />
    <classification amount="Tools" />
    <Product amount="GEF" />
    <component amount="GEF (MVC) [GEF 3.x / Zest 1.x]" />
    <Version amount="3.1" />
    <rep_platform amount="PC" />
    <op_sys amount="Windows XP" />
    <priority amount="P3" />
    <bug_severity amount="normal" />
    <Summery>When you type in Direct Edit  cell editor the text scrolls off too quickly</Summery>
    <Patches amount="0" />
    <Stacktraces amount="0" />
    <SourceCodeRegions amount="0" />
    <Enumerations amount="0" />
    <bug_status amount="RESOLVED" />
    <resolution amount="DUPLICATE" />
    <WithStack>When you click on a figure and go into direct edit mode, the text cell editor
comes up.  As I start to type, the left-most characters immediately get scrolled
off to the left.  As I continue to type, the cell editor automatically expands.
 The problem is I can see all of the text, except for the first few characters.
 This makes in-line editing quite annoying and awkward.  It seems like all
characters should be visible.
What is the problem? Steps to reproduce?


*** This bug has been marked as a duplicate of 99203 ***</WithStack>
    <WithOutStack>When you click on a figure and go into direct edit mode, the text cell editor
comes up.  As I start to type, the left-most characters immediately get scrolled
off to the left.  As I continue to type, the cell editor automatically expands.
 The problem is I can see all of the text, except for the first few characters.
 This makes in-line editing quite annoying and awkward.  It seems like all
characters should be visible.
What is the problem? Steps to reproduce?


*** This bug has been marked as a duplicate of 99203 ***</WithOutStack>
  </Bug>
  <Bug>
    <BugId amount="100221" />
    <CreationDate amount="2005-06-15 11:54:00 -0400" />
    <DupId amount="" />
    <classification amount="WebTools" />
    <Product amount="WTP Webservices" />
    <component amount="jst.ws" />
    <Version amount="0.7" />
    <rep_platform amount="PC" />
    <op_sys amount="Windows 2000" />
    <priority amount="P3" />
    <bug_severity amount="blocker" />
    <Summery>Project validator forbids EJB scenario to go on</Summery>
    <Patches amount="0" />
    <Stacktraces amount="0" />
    <SourceCodeRegions amount="0" />
    <Enumerations amount="0" />
    <bug_status amount="CLOSED" />
    <resolution amount="FIXED" />
    <WithStack>I started with I20050614 and then manually added all the plugins we need on top 
(driver based on I20050610 seems to run fine).  On page 3, after selecting our 
Web Service runtime, ejb module/project, ear module/project, the validator 
complains that the "ejbProject is not a Web project. Choose a Web project, or 
enter a new Web project name."  The "Next" and "Finish" buttons are all greyed 
out.
Created attachment 23636
apply to org.eclipse.jst.ws.internal.consumption.ui.wsrt.WebServiceRuntimeExtensionUtils

patch 1 of 1
The attached patch is ready to be committed. The bug was that we were comparing 
the component type supported by the EJB serviceType with the obselete EJB 
nature id instead of the id in IModuleConstants. Since the validation code was 
not getting a match, it was not recognizing that this serviceType requires an 
EJB project.
The patch has been committed. Will add another comment once it's been released 
to this week's integration build.
Fix has been released to the integration build.
Verified during FVT</WithStack>
    <WithOutStack>I started with I20050614 and then manually added all the plugins we need on top 
(driver based on I20050610 seems to run fine).  On page 3, after selecting our 
Web Service runtime, ejb module/project, ear module/project, the validator 
complains that the "ejbProject is not a Web project. Choose a Web project, or 
enter a new Web project name."  The "Next" and "Finish" buttons are all greyed 
out.
Created attachment 23636
apply to org.eclipse.jst.ws.internal.consumption.ui.wsrt.WebServiceRuntimeExtensionUtils

patch 1 of 1
The attached patch is ready to be committed. The bug was that we were comparing 
the component type supported by the EJB serviceType with the obselete EJB 
nature id instead of the id in IModuleConstants. Since the validation code was 
not getting a match, it was not recognizing that this serviceType requires an 
EJB project.
The patch has been committed. Will add another comment once it's been released 
to this week's integration build.
Fix has been released to the integration build.
Verified during FVT</WithOutStack>
  </Bug>
  <Bug>
    <BugId amount="100222" />
    <CreationDate amount="2005-06-15 11:57:00 -0400" />
    <DupId amount="" />
    <classification amount="WebTools" />
    <Product amount="WTP Webservices" />
    <component amount="wst.ws" />
    <Version amount="0.7" />
    <rep_platform amount="PC" />
    <op_sys amount="Windows 2000" />
    <priority amount="P3" />
    <bug_severity amount="normal" />
    <Summery>DNF error in wst.ws.tests</Summery>
    <Patches amount="0" />
    <Stacktraces amount="0" />
    <SourceCodeRegions amount="0" />
    <Enumerations amount="0" />
    <bug_status amount="CLOSED" />
    <resolution amount="FIXED" />
    <WithStack>wst.ws.tests is showing "DNF" in the test result page.

On investigation it appears that there is a duplicate of the TestsPlugin.java
file in CVS that is likely creating a problem.  Will attach a patch without that
file to correct the problem.
Created attachment 23210
patch for 100222

patch for 100222 eliminating duplicate file
Patch applied and will be released for the 3:00 pm build.
Released as v20050615_1430.

Please change the state to "resolve".
Released as v20050615_1430.
done.</WithStack>
    <WithOutStack>wst.ws.tests is showing "DNF" in the test result page.

On investigation it appears that there is a duplicate of the TestsPlugin.java
file in CVS that is likely creating a problem.  Will attach a patch without that
file to correct the problem.
Created attachment 23210
patch for 100222

patch for 100222 eliminating duplicate file
Patch applied and will be released for the 3:00 pm build.
Released as v20050615_1430.

Please change the state to "resolve".
Released as v20050615_1430.
done.</WithOutStack>
  </Bug>
  <Bug>
    <BugId amount="100223" />
    <CreationDate amount="2005-06-15 12:04:00 -0400" />
    <DupId amount="" />
    <classification amount="Eclipse" />
    <Product amount="JDT" />
    <component amount="Debug" />
    <Version amount="3.1" />
    <rep_platform amount="PC" />
    <op_sys amount="Windows XP" />
    <priority amount="P3" />
    <bug_severity amount="critical" />
    <Summery>J9 Debug crit bug (fix provided)</Summery>
    <Patches amount="0" />
    <Stacktraces amount="0" />
    <SourceCodeRegions amount="5">
      <source_code type="assignment">
        <location start="906" end="981" />
        <code>IntegerArgument argument = (IntegerArgument) connectionArgs.get(attribute);</code>
      </source_code>
      <source_code type="ifstatement">
        <location start="982" end="1041" />
        <code>if (argument != null) {
  fTimeout = argument.intValue();
}</code>
      </source_code>
      <source_code type="elsestatement">
        <location start="1040" end="1066" />
        <code>} else {
  fTimeout = 0;
}</code>
      </source_code>
      <source_code type="ifstatement">
        <location start="1805" end="1951" />
        <code>if (timeoutArg != null) {
  int timeout =
JavaRuntime.getPreferences().getInt(JavaRuntime.PREF_CONNECT_TIMEOUT);
  timeoutArg.setValue(timeout);
}</code>
      </source_code>
      <source_code type="ifstatement">
        <location start="2330" end="2558" />
        <code>if (timeoutArg != null) {
    try {
      int timeout =
JavaRuntime.getPreferences().getInt(JavaRuntime.PREF_CONNECT_TIMEOUT);
      timeoutArg.setValue(timeout);
    } catch (Exception e) {
      timeoutArg.setValue(0);
  }
}</code>
      </source_code>
    </SourceCodeRegions>
    <Enumerations amount="1">
      <Enumeration lines="8">
        <Lines>
          <Line>1) The executable is called j9.exe, not java.exe. You could of course rename the</Line>
          <Line>executable if you wanted.</Line>
          <Line>2) J9 doesn't specify a System property for "sun.boot.class.path" or</Line>
          <Line>"java.ext.dirs". This means that your</Line>
          <Line>org.eclipse.jdt.internal.launching.support.LibraryDetector that attempts to find</Line>
          <Line>the library locations will not find any, and the</Line>
          <Line>StandardVMType.canDetectDefaultSystemLibraries() will return false since the</Line>
          <Line>locations array is empty.</Line>
        </Lines>
      </Enumeration>
    </Enumerations>
    <bug_status amount="RESOLVED" />
    <resolution amount="WONTFIX" />
    <WithStack>I downloaded the "20040318 org.eclipse.jdt.launching.j9" Eclipse J9 JRE Support
plugin from the following site:
http://dev.eclipse.org/viewcvs/index.cgi/%7Echeckout%7E/jdt-debug-home/plugins/org.eclipse.jdt.launching.j9/index.html

There is a bug in org.eclipse.jdt.internal.launching.j9.J9DebugVMRunner that
prevents J9 debugging from within Eclipse (I am using 3.1M7, but this bug should
be reproducible on any 3.1 version, and possibly 3.0x as well). This happens
because a NullPointerException is thrown before the ListeningConnector can start
to listen.

The bug is that the "timeout" Connector.IntegerArgument value never gets set.
The org.eclipse.jdi.internal.connect.SocketListeningConnectorImpl
startListening(Map) method is called from J9DebugVMRunner.run(). This method in
turn calls its getConnectionArguments(Map) method. Here is a portion of that code: 

attribute = "timeout"; //$NON-NLS-1$
IntegerArgument argument = (IntegerArgument) connectionArgs.get(attribute);
if (argument != null) {
  fTimeout = argument.intValue();
} else {
  fTimeout = 0;
}

If the "timeout" value of this IntegerArgument has not been set (but the
argument itself is not null since the wrapper exists), "argument.intValue()"
will throw a NullPointerException. The implementation class for IntegerArgument
is org.eclipse.jdi.internal.connect.IntegerArgumentImpl. Its intValue() method
implement returns "fValue.intValue()". fValue is of type Integer. So if it is
null, then IntegerArgumentImpl.intValue() will throw the NullPointerException.

*** HERE IS THE FIX ***

Looking at the org.eclipse.jdt.internal.launching.StandardVMDebugger class, the
specifyArguments(Map, int) method contains the following code:

Connector.IntegerArgument timeoutArg = (Connector.IntegerArgument)
map.get("timeout"); //$NON-NLS-1$
if (timeoutArg != null) {
  int timeout =
JavaRuntime.getPreferences().getInt(JavaRuntime.PREF_CONNECT_TIMEOUT);
  timeoutArg.setValue(timeout);
}

This code sets the "timeout" value from the Eclipse Java Preferences.

I simply copied this code to the J9DebugVMRunner.specifyArguments(Map, int)
method and added an extra try/catch in case the "timeout" preference cannot be
retrieved from the JavaRuntime. Here is my code:

Connector.IntegerArgument timeoutArg = (Connector.IntegerArgument)
map.get("timeout"); //$NON-NLS-1$
  if (timeoutArg != null) {
    try {
      int timeout =
JavaRuntime.getPreferences().getInt(JavaRuntime.PREF_CONNECT_TIMEOUT);
      timeoutArg.setValue(timeout);
    } catch (Exception e) {
      timeoutArg.setValue(0);
  }
}
We no longer support the seperate J9 launching plug-in - it was never part of 
the Eclipse SDK. The current IBM VMs that include j9 work with the standard 
command line options - i.e. the org.eclipse.jdt.launching plug-in.
I am not sure what you mean by your reply. Do you mean that I can simply use my
J9 VM as a "Standard VM" using the org.eclipse.jdt.launching plugin?

Tying to use J9 as a Standard VM That won't work for 2 reason:
1) The executable is called j9.exe, not java.exe. You could of course rename the
executable if you wanted.
2) J9 doesn't specify a System property for "sun.boot.class.path" or
"java.ext.dirs". This means that your
org.eclipse.jdt.internal.launching.support.LibraryDetector that attempts to find
the library locations will not find any, and the
StandardVMType.canDetectDefaultSystemLibraries() will return false since the
locations array is empty.

A workaround is to hack the
.metadata\.plugins\org.eclipse.jdt.launching\libraryInfos.xml and manually add
the entry for J9 (specifying the bootpath with the J9 JCL). For example, I can
get my J9 to work by adding the following to the libraryInfos.xml file:
&lt;libraryInfo version="J2ME Foundation Specification v1.0" home="C:\Java\J9"&gt;
  &lt;bootpath&gt;
  &lt;entry path="C:\Java\J9\lib\jclMax\classes.zip"/&gt;
  &lt;entry path="C:\Java\J9\lib\jclMax\locale.zip"/&gt;
  &lt;entry path="C:\Java\J9\lib\charconv.zip"/&gt;
  &lt;/bootpath&gt;
&lt;/libraryInfo&gt;

Of course, this is not a very elegant solution at all.

Is there a better way of doing this that doesn't involve hacking a .metadata
file? Thanks
The current ibm VM's include J9. It can be launched via the command "java -Xj9" from the command line 
or using a standard vm type in eclipse and adding -Xj9 to the VM arguments.</WithStack>
    <WithOutStack>I downloaded the "20040318 org.eclipse.jdt.launching.j9" Eclipse J9 JRE Support
plugin from the following site:
http://dev.eclipse.org/viewcvs/index.cgi/%7Echeckout%7E/jdt-debug-home/plugins/org.eclipse.jdt.launching.j9/index.html

There is a bug in org.eclipse.jdt.internal.launching.j9.J9DebugVMRunner that
prevents J9 debugging from within Eclipse (I am using 3.1M7, but this bug should
be reproducible on any 3.1 version, and possibly 3.0x as well). This happens
because a NullPointerException is thrown before the ListeningConnector can start
to listen.

The bug is that the "timeout" Connector.IntegerArgument value never gets set.
The org.eclipse.jdi.internal.connect.SocketListeningConnectorImpl
startListening(Map) method is called from J9DebugVMRunner.run(). This method in
turn calls its getConnectionArguments(Map) method. Here is a portion of that code: 

attribute = "timeout"; //$NON-NLS-1$
IntegerArgument argument = (IntegerArgument) connectionArgs.get(attribute);
if (argument != null) {
  fTimeout = argument.intValue();
} else {
  fTimeout = 0;
}

If the "timeout" value of this IntegerArgument has not been set (but the
argument itself is not null since the wrapper exists), "argument.intValue()"
will throw a NullPointerException. The implementation class for IntegerArgument
is org.eclipse.jdi.internal.connect.IntegerArgumentImpl. Its intValue() method
implement returns "fValue.intValue()". fValue is of type Integer. So if it is
null, then IntegerArgumentImpl.intValue() will throw the NullPointerException.

*** HERE IS THE FIX ***

Looking at the org.eclipse.jdt.internal.launching.StandardVMDebugger class, the
specifyArguments(Map, int) method contains the following code:

Connector.IntegerArgument timeoutArg = (Connector.IntegerArgument)
map.get("timeout"); //$NON-NLS-1$
if (timeoutArg != null) {
  int timeout =
JavaRuntime.getPreferences().getInt(JavaRuntime.PREF_CONNECT_TIMEOUT);
  timeoutArg.setValue(timeout);
}

This code sets the "timeout" value from the Eclipse Java Preferences.

I simply copied this code to the J9DebugVMRunner.specifyArguments(Map, int)
method and added an extra try/catch in case the "timeout" preference cannot be
retrieved from the JavaRuntime. Here is my code:

Connector.IntegerArgument timeoutArg = (Connector.IntegerArgument)
map.get("timeout"); //$NON-NLS-1$
  if (timeoutArg != null) {
    try {
      int timeout =
JavaRuntime.getPreferences().getInt(JavaRuntime.PREF_CONNECT_TIMEOUT);
      timeoutArg.setValue(timeout);
    } catch (Exception e) {
      timeoutArg.setValue(0);
  }
}
We no longer support the seperate J9 launching plug-in - it was never part of 
the Eclipse SDK. The current IBM VMs that include j9 work with the standard 
command line options - i.e. the org.eclipse.jdt.launching plug-in.
I am not sure what you mean by your reply. Do you mean that I can simply use my
J9 VM as a "Standard VM" using the org.eclipse.jdt.launching plugin?

Tying to use J9 as a Standard VM That won't work for 2 reason:
1) The executable is called j9.exe, not java.exe. You could of course rename the
executable if you wanted.
2) J9 doesn't specify a System property for "sun.boot.class.path" or
"java.ext.dirs". This means that your
org.eclipse.jdt.internal.launching.support.LibraryDetector that attempts to find
the library locations will not find any, and the
StandardVMType.canDetectDefaultSystemLibraries() will return false since the
locations array is empty.

A workaround is to hack the
.metadata\.plugins\org.eclipse.jdt.launching\libraryInfos.xml and manually add
the entry for J9 (specifying the bootpath with the J9 JCL). For example, I can
get my J9 to work by adding the following to the libraryInfos.xml file:
&lt;libraryInfo version="J2ME Foundation Specification v1.0" home="C:\Java\J9"&gt;
  &lt;bootpath&gt;
  &lt;entry path="C:\Java\J9\lib\jclMax\classes.zip"/&gt;
  &lt;entry path="C:\Java\J9\lib\jclMax\locale.zip"/&gt;
  &lt;entry path="C:\Java\J9\lib\charconv.zip"/&gt;
  &lt;/bootpath&gt;
&lt;/libraryInfo&gt;

Of course, this is not a very elegant solution at all.

Is there a better way of doing this that doesn't involve hacking a .metadata
file? Thanks
The current ibm VM's include J9. It can be launched via the command "java -Xj9" from the command line 
or using a standard vm type in eclipse and adding -Xj9 to the VM arguments.</WithOutStack>
  </Bug>
  <Bug>
    <BugId amount="100224" />
    <CreationDate amount="2005-06-15 12:04:00 -0400" />
    <DupId amount="" />
    <classification amount="BIRT" />
    <Product amount="BIRT" />
    <component amount="Report Engine" />
    <Version amount="1.0.0" />
    <rep_platform amount="PC" />
    <op_sys amount="Linux" />
    <priority amount="P3" />
    <bug_severity amount="normal" />
    <Summery>Date format problems at report runtime</Summery>
    <Patches amount="0" />
    <Stacktraces amount="0" />
    <SourceCodeRegions amount="0" />
    <Enumerations amount="1">
      <Enumeration lines="13">
        <Lines>
          <Line>- I created a query w/o any date/time parameters and ran my report, everything</Line>
          <Line>was fine did to validate my query and connection info), the report displayed fine.</Line>
          <Line>- I added two columns in my where clause that reference a bind parameter</Line>
          <Line>select ....</Line>
          <Line>from   ....</Line>
          <Line>where  ....</Line>
          <Line>and  start_time &gt; ?</Line>
          <Line>and  end_time &lt; ?</Line>
          <Line>- I created two query parameters in the edit data set screen/window</Line>
          <Line>- I made the parameters of type "Date Time" and gave them a default value of</Line>
          <Line>"01/01/2005 00:00:00 AM"</Line>
          <Line>- when I then go to the preview I get the error pasted in above (same happens if</Line>
          <Line>I go ahead and deploy to my tomcat installation).</Line>
        </Lines>
      </Enumeration>
    </Enumerations>
    <bug_status amount="RESOLVED" />
    <resolution amount="INVALID" />
    <WithStack>I am trying to constrain a query in the designer to a given date range (columns
in my query have a start_time and end_time).  I created a query parameter and
assigned a default and then when i run the report i get the following error:

There are errors on the report page:
Error1:Failed to evaluate 01/01/2005 00:00:00 AM
missing ; before statement (#1)
Error2:Failed to evaluate 01/01/2006 00:00:00 AM
missing ; before statement (#1)
Error3:Cannot convert the parameter value [Sat Jan 01 00:00:00 CST 2005] to type
[class java.util.Date]
Can not convert it to Date.
Can not convert it to Date.

Here is my process and version info:
- I created a query w/o any date/time parameters and ran my report, everything
was fine did to validate my query and connection info), the report displayed fine.
- I added two columns in my where clause that reference a bind parameter
  select ....
  from   ....
  where  ....
    and  start_time &gt; ?
    and  end_time &lt; ?
- I created two query parameters in the edit data set screen/window
- I made the parameters of type "Date Time" and gave them a default value of
"01/01/2005 00:00:00 AM"
- when I then go to the preview I get the error pasted in above (same happens if
 I go ahead and deploy to my tomcat installation).

I read somewhere that was the date/time format spec, but I'm sorry I don't
remember where.  I've tried a number of different date formats to see if maybe
it was just a date string format issue but didn't have much luck.  Unfortunately
I don't remember all formats I've tried.

BIRT report designer version:  1.0.0
EMF SDK:  2.0.1
GEF SDK:  3.0.1
Eclipse version:  3.0.2
sorry, after more analysis, this is actually a report designer issue.  the
errors i'm getting are related to the user input portion of the report, not the
query section.  i will open a bug there.
Verified (20051222)</WithStack>
    <WithOutStack>I am trying to constrain a query in the designer to a given date range (columns
in my query have a start_time and end_time).  I created a query parameter and
assigned a default and then when i run the report i get the following error:

There are errors on the report page:
Error1:Failed to evaluate 01/01/2005 00:00:00 AM
missing ; before statement (#1)
Error2:Failed to evaluate 01/01/2006 00:00:00 AM
missing ; before statement (#1)
Error3:Cannot convert the parameter value [Sat Jan 01 00:00:00 CST 2005] to type
[class java.util.Date]
Can not convert it to Date.
Can not convert it to Date.

Here is my process and version info:
- I created a query w/o any date/time parameters and ran my report, everything
was fine did to validate my query and connection info), the report displayed fine.
- I added two columns in my where clause that reference a bind parameter
  select ....
  from   ....
  where  ....
    and  start_time &gt; ?
    and  end_time &lt; ?
- I created two query parameters in the edit data set screen/window
- I made the parameters of type "Date Time" and gave them a default value of
"01/01/2005 00:00:00 AM"
- when I then go to the preview I get the error pasted in above (same happens if
 I go ahead and deploy to my tomcat installation).

I read somewhere that was the date/time format spec, but I'm sorry I don't
remember where.  I've tried a number of different date formats to see if maybe
it was just a date string format issue but didn't have much luck.  Unfortunately
I don't remember all formats I've tried.

BIRT report designer version:  1.0.0
EMF SDK:  2.0.1
GEF SDK:  3.0.1
Eclipse version:  3.0.2
sorry, after more analysis, this is actually a report designer issue.  the
errors i'm getting are related to the user input portion of the report, not the
query section.  i will open a bug there.
Verified (20051222)</WithOutStack>
  </Bug>
  <Bug>
    <BugId amount="100225" />
    <CreationDate amount="2005-06-15 12:11:00 -0400" />
    <DupId amount="" />
    <classification amount="Eclipse" />
    <Product amount="Platform" />
    <component amount="User Assistance" />
    <Version amount="3.2" />
    <rep_platform amount="PC" />
    <op_sys amount="Windows XP" />
    <priority amount="P3" />
    <bug_severity amount="normal" />
    <Summery>[Help] Back does not retain position in page</Summery>
    <Patches amount="0" />
    <Stacktraces amount="0" />
    <SourceCodeRegions amount="0" />
    <Enumerations amount="0" />
    <bug_status amount="NEW" />
    <resolution amount="" />
    <WithStack>When using the back function in help, the previous [scroll] position in the page
"backed" to is retained -- you are always positioned at the start of the page.
The position in the previous page should be retained.
This is a difference in behavior between the Help View and the browser window. In the browser the back button restores the scroll position of the previous page.
Reproduced in 3.3 RC4.</WithStack>
    <WithOutStack>When using the back function in help, the previous [scroll] position in the page
"backed" to is retained -- you are always positioned at the start of the page.
The position in the previous page should be retained.
This is a difference in behavior between the Help View and the browser window. In the browser the back button restores the scroll position of the previous page.
Reproduced in 3.3 RC4.</WithOutStack>
  </Bug>
  <Bug>
    <BugId amount="100226" />
    <CreationDate amount="2005-06-15 12:21:00 -0400" />
    <DupId amount="" />
    <classification amount="Tools" />
    <Product amount="TPTP Profiling" />
    <component amount="Platform.Doc" />
    <Version amount="4.0" />
    <rep_platform amount="All" />
    <op_sys amount="All" />
    <priority amount="P3" />
    <bug_severity amount="major" />
    <Summery>README: Add entry in section 1.2 for bug 98031</Summery>
    <Patches amount="0" />
    <Stacktraces amount="0" />
    <SourceCodeRegions amount="0" />
    <Enumerations amount="0" />
    <bug_status amount="CLOSED" />
    <resolution amount="FIXED" />
    <WithStack>The problem is that Zone Labs firewall is dropping data bytes when profiling
data is transferred through the firewall. The workaround is to disable the
firewall especially the amount of profiling data is huge.
Readme entry added.
Verified</WithStack>
    <WithOutStack>The problem is that Zone Labs firewall is dropping data bytes when profiling
data is transferred through the firewall. The workaround is to disable the
firewall especially the amount of profiling data is huge.
Readme entry added.
Verified</WithOutStack>
  </Bug>
  <Bug>
    <BugId amount="100227" />
    <CreationDate amount="2005-06-15 12:24:00 -0400" />
    <DupId amount="" />
    <classification amount="Tools" />
    <Product amount="AspectJ" />
    <component amount="Compiler" />
    <Version amount="DEVELOPMENT" />
    <rep_platform amount="PC" />
    <op_sys amount="Linux" />
    <priority amount="P3" />
    <bug_severity amount="normal" />
    <Summery>[generics][itds] inner class with generic enclosing class</Summery>
    <Patches amount="0" />
    <Stacktraces amount="1">
      <Stacktrace timestamp="1437330544383">
        <Exception>java.lang.NullPointerException</Exception>
        <Reason />
        <Frames>
          <Frame depth="0">org.aspectj.ajdt.internal.compiler.lookup.EclipseFactory.fromBinding(EclipseFactory.java:202)</Frame>
          <Frame depth="1">org.aspectj.ajdt.internal.compiler.ast.InterTypeFieldDeclaration.build(InterTypeFieldDeclaration.java:173)</Frame>
          <Frame depth="2">org.aspectj.ajdt.internal.compiler.ast.AspectDeclaration.buildInterTypeAndPerClause(AspectDeclaration.java:1020)</Frame>
          <Frame depth="3">org.aspectj.ajdt.internal.compiler.lookup.AjLookupEnvironment.buildInterTypeAndPerClause(AjLookupEnvironment.java:306)</Frame>
          <Frame depth="4">org.aspectj.ajdt.internal.compiler.lookup.AjLookupEnvironment.completeTypeBindings(AjLookupEnvironment.java:122)</Frame>
          <Frame depth="5">org.aspectj.org.eclipse.jdt.internal.compiler.Compiler.beginToCompile(Compiler.java:302)</Frame>
          <Frame depth="6">org.aspectj.org.eclipse.jdt.internal.compiler.Compiler.compile(Compiler.java:316)</Frame>
        </Frames>
      </Stacktrace>
    </Stacktraces>
    <SourceCodeRegions amount="2">
      <source_code type="class">
        <location start="146" end="178" />
        <code>class Outer {
  class Inner {}
}</code>
      </source_code>
      <source_code type="class">
        <location start="180" end="223" />
        <code>class Generic_Outer&lt;T&gt; {
  class Inner {}
}</code>
      </source_code>
    </SourceCodeRegions>
    <Enumerations amount="0" />
    <bug_status amount="RESOLVED" />
    <resolution amount="FIXED" />
    <WithStack>ajc crashes with a NullPointerException when an intertype declaration tries to
modify an inner class, if the enclosing (outer) class is generic:

class Outer {
  class Inner {}
}

class Generic_Outer&lt;T&gt; {
  class Inner {}
}

aspect Injector {
  int Outer.outer; // works
  int Outer.Inner.inner; // works
  int Generic_Outer.outer; // works
  int Generic_Outer.Inner.inner; // crashes
}


/home/user/sgelin3/dev/java/ajc/new_bug/Bug.java [error] Internal compiler error
java.lang.NullPointerException
        at
org.aspectj.ajdt.internal.compiler.lookup.EclipseFactory.fromBinding(EclipseFactory.java:202)
        at
org.aspectj.ajdt.internal.compiler.ast.InterTypeFieldDeclaration.build(InterTypeFieldDeclaration.java:173)
        at
org.aspectj.ajdt.internal.compiler.ast.AspectDeclaration.buildInterTypeAndPerClause(AspectDeclaration.java:1020)
        at
org.aspectj.ajdt.internal.compiler.lookup.AjLookupEnvironment.buildInterTypeAndPerClause(AjLookupEnvironment.java:306)
        at
org.aspectj.ajdt.internal.compiler.lookup.AjLookupEnvironment.completeTypeBindings(AjLookupEnvironment.java:122)
        at
org.aspectj.org.eclipse.jdt.internal.compiler.Compiler.beginToCompile(Compiler.java:302)
        at
org.aspectj.org.eclipse.jdt.internal.compiler.Compiler.compile(Compiler.java:316)
...
I've sent quite a few bug reports on the interaction of ITD with generics, so by
now I know that they all get "1.5.0 M3" as a target. I'd save you the trouble of
setting that target every time but:

"You tried to change the Target Milestone field from --- to 1.5.0 M3, but only
the owner or submitter of the bug, or a sufficiently empowered user, may change
that field."

strange, since I _am_ the submitter of the bug!


anyway, sorry to bother you with so many similar looking bugs (98320, 98592,
99168, 99228 and now 100227), I know that I am not supposed to expect generics
to work completely until M3, and keep up the good work!
Its great that you are spending time creating these minimal testcases for bugs
that I can work on, keep it up!  You are bound to hit something we've not
created testcases for yet.

In this case it appears there is a special form of ParameterizedTypeBinding
known to the compiler.  It is a PTB whose arguments (type parameters) are null -
this doesn't mean it is a raw type as raw type is a subtype of
ParameterizedTypeBinding.  From a quick look round the JDT compiler, it *looks*
like a PTB with null arguments represents an inner type of a parameterized type
that itself specifies no type parameters.  Presumably it 'inherits' any from the
enclosing type.

So, the fix is to allow for null type parameters - and ensure we don't
misintepret the null as a raw type ref.
Fix checked in, waiting on build.
Dev build available from the download page: 
aspectj-DEVELOPMENT-20050620091600.jar</WithStack>
    <WithOutStack>ajc crashes with a NullPointerException when an intertype declaration tries to
modify an inner class, if the enclosing (outer) class is generic:

class Outer {
  class Inner {}
}

class Generic_Outer&lt;T&gt; {
  class Inner {}
}

aspect Injector {
  int Outer.outer; // works
  int Outer.Inner.inner; // works
  int Generic_Outer.outer; // works
  int Generic_Outer.Inner.inner; // crashes
}


/home/user/sgelin3/dev/java/ajc/new_bug/Bug.java [error] Internal compiler error

...
I've sent quite a few bug reports on the interaction of ITD with generics, so by
now I know that they all get "1.5.0 M3" as a target. I'd save you the trouble of
setting that target every time but:

"You tried to change the Target Milestone field from --- to 1.5.0 M3, but only
the owner or submitter of the bug, or a sufficiently empowered user, may change
that field."

strange, since I _am_ the submitter of the bug!


anyway, sorry to bother you with so many similar looking bugs (98320, 98592,
99168, 99228 and now 100227), I know that I am not supposed to expect generics
to work completely until M3, and keep up the good work!
Its great that you are spending time creating these minimal testcases for bugs
that I can work on, keep it up!  You are bound to hit something we've not
created testcases for yet.

In this case it appears there is a special form of ParameterizedTypeBinding
known to the compiler.  It is a PTB whose arguments (type parameters) are null -
this doesn't mean it is a raw type as raw type is a subtype of
ParameterizedTypeBinding.  From a quick look round the JDT compiler, it *looks*
like a PTB with null arguments represents an inner type of a parameterized type
that itself specifies no type parameters.  Presumably it 'inherits' any from the
enclosing type.

So, the fix is to allow for null type parameters - and ensure we don't
misintepret the null as a raw type ref.
Fix checked in, waiting on build.
Dev build available from the download page: 
aspectj-DEVELOPMENT-20050620091600.jar</WithOutStack>
  </Bug>
  <Bug>
    <BugId amount="100228" />
    <CreationDate amount="2005-06-15 12:24:00 -0400" />
    <DupId amount="218477" />
    <classification amount="Eclipse" />
    <Product amount="Platform" />
    <component amount="UI" />
    <Version amount="3.1" />
    <rep_platform amount="PC" />
    <op_sys amount="Windows XP" />
    <priority amount="P5" />
    <bug_severity amount="normal" />
    <Summery>[PropertiesDialog] Property Dialog changes height when using sash</Summery>
    <Patches amount="0" />
    <Stacktraces amount="0" />
    <SourceCodeRegions amount="0" />
    <Enumerations amount="1">
      <Enumeration lines="8">
        <Lines>
          <Line>- open the property dialog e.g. on a JAR</Line>
          <Line>- makes the dialog smaller</Line>
          <Line>- move the sash</Line>
          <Line>-&gt; dialog becomes big again</Line>
          <Line>The dialog resizes to be able to display the full contents of the preference</Line>
          <Line>page. We should really only resize when we make the tree bigger though.</Line>
          <Line>There are currently no plans to work on this although we would be happy to review a patch</Line>
          <Line>marking as a duplicate of the newer bug because that one has more detail.</Line>
        </Lines>
      </Enumeration>
    </Enumerations>
    <bug_status amount="RESOLVED" />
    <resolution amount="DUPLICATE" />
    <WithStack>20050615

- open the property dialog e.g. on a JAR
- makes the dialog smaller 
- move the sash
   -&gt; dialog becomes big again
The dialog resizes to be able to display the full contents of the preference
page. We should really only resize when we make the tree bigger though.
There are currently no plans to work on this although we would be happy to review a patch
marking as a duplicate of the newer bug because that one has more detail.

*** This bug has been marked as a duplicate of bug 218477 ***</WithStack>
    <WithOutStack>20050615

- open the property dialog e.g. on a JAR
- makes the dialog smaller 
- move the sash
   -&gt; dialog becomes big again
The dialog resizes to be able to display the full contents of the preference
page. We should really only resize when we make the tree bigger though.
There are currently no plans to work on this although we would be happy to review a patch
marking as a duplicate of the newer bug because that one has more detail.

*** This bug has been marked as a duplicate of bug 218477 ***</WithOutStack>
  </Bug>
  <Bug>
    <BugId amount="100229" />
    <CreationDate amount="2005-06-15 12:25:00 -0400" />
    <DupId amount="" />
    <classification amount="Eclipse" />
    <Product amount="Platform" />
    <component amount="Releng" />
    <Version amount="3.1" />
    <rep_platform amount="PC" />
    <op_sys amount="Windows XP" />
    <priority amount="P3" />
    <bug_severity amount="normal" />
    <Summery>Chkpii bug for about.html</Summery>
    <Patches amount="0" />
    <Stacktraces amount="0" />
    <SourceCodeRegions amount="0" />
    <Enumerations amount="1">
      <Enumeration lines="5">
        <Lines>
          <Line>2005. This page is made available under license. For full details see the LEGAL</Line>
          <Line>in the documentation book that contains this page." &gt;</Line>
          <Line>&lt;title&gt;About&lt;/title&gt;</Line>
          <Line>&lt;meta http-equiv=Content-Type content="text/html; charset=ISO-8859-1"&gt;</Line>
          <Line>&lt;/head&gt;</Line>
        </Lines>
      </Enumeration>
    </Enumerations>
    <bug_status amount="RESOLVED" />
    <resolution amount="WONTFIX" />
    <WithStack>I found a chkpii error checking about.html in jdt.doc.isv plugins.

&lt;head&gt;
&lt;meta name="copyright" content="Copyright (c) IBM Corporation and others 2000,
2005. This page is made available under license. For full details see the LEGAL
in the documentation book that contains this page." &gt;
&lt;title&gt;About&lt;/title&gt;
&lt;meta http-equiv=Content-Type content="text/html; charset=ISO-8859-1"&gt;
&lt;/head&gt;

The html code looked like this.
And I got:ABOUT.HTML    HTML-40     868   Translatable text on line 5 must be
defined after CHARSET &lt;META&gt; tag.  Line: 6

If the title tag is moved on line below:

&lt;head&gt;
&lt;meta name="copyright" content="Copyright (c) IBM Corporation and others 2000,
2005. This page is made available under license. For full details see the LEGAL
in the documentation book that contains this page." &gt;
&lt;meta http-equiv=Content-Type content="text/html; charset=ISO-8859-1"&gt;
&lt;title&gt;About&lt;/title&gt;
&lt;/head&gt;

chkpii doesn't report any error. So we need to find out if this is indeed a
valid error that should be reported and is not reported anymore or if the first
error is invalid.
Also it doesn't seem that about.html files are checked during the build. Any
reason for that?
I checked both permutation of Oliviers markup using the w3 validator
(http://validator.w3.org/) and both ways pass as HTML Strict so this is not
invalid markup.
This file is ignored in our tests because it does not get translated.
Adding Adrian to cc: to fix master copies of these files if deemed appropriate.
Closing, reopen if required.</WithStack>
    <WithOutStack>I found a chkpii error checking about.html in jdt.doc.isv plugins.

&lt;head&gt;
&lt;meta name="copyright" content="Copyright (c) IBM Corporation and others 2000,
2005. This page is made available under license. For full details see the LEGAL
in the documentation book that contains this page." &gt;
&lt;title&gt;About&lt;/title&gt;
&lt;meta http-equiv=Content-Type content="text/html; charset=ISO-8859-1"&gt;
&lt;/head&gt;

The html code looked like this.
And I got:ABOUT.HTML    HTML-40     868   Translatable text on line 5 must be
defined after CHARSET &lt;META&gt; tag.  Line: 6

If the title tag is moved on line below:

&lt;head&gt;
&lt;meta name="copyright" content="Copyright (c) IBM Corporation and others 2000,
2005. This page is made available under license. For full details see the LEGAL
in the documentation book that contains this page." &gt;
&lt;meta http-equiv=Content-Type content="text/html; charset=ISO-8859-1"&gt;
&lt;title&gt;About&lt;/title&gt;
&lt;/head&gt;

chkpii doesn't report any error. So we need to find out if this is indeed a
valid error that should be reported and is not reported anymore or if the first
error is invalid.
Also it doesn't seem that about.html files are checked during the build. Any
reason for that?
I checked both permutation of Oliviers markup using the w3 validator
(http://validator.w3.org/) and both ways pass as HTML Strict so this is not
invalid markup.
This file is ignored in our tests because it does not get translated.
Adding Adrian to cc: to fix master copies of these files if deemed appropriate.
Closing, reopen if required.</WithOutStack>
  </Bug>
  <Bug>
    <BugId amount="100230" />
    <CreationDate amount="2005-06-15 12:26:00 -0400" />
    <DupId amount="" />
    <classification amount="Eclipse" />
    <Product amount="JDT" />
    <component amount="Text" />
    <Version amount="3.1" />
    <rep_platform amount="PC" />
    <op_sys amount="Windows XP" />
    <priority amount="P3" />
    <bug_severity amount="normal" />
    <Summery>[KeyBindings] Search All Occurrences in File command does not work</Summery>
    <Patches amount="0" />
    <Stacktraces amount="0" />
    <SourceCodeRegions amount="0" />
    <Enumerations amount="0" />
    <bug_status amount="RESOLVED" />
    <resolution amount="WORKSFORME" />
    <WithStack>RC2:
Ctrl-Shift-U key combination is mapped to Search All Occurrences in File, but 
pressing these keys produces no effect. This is a recent regression in RC2. It 
did work in RC1.
Created attachment 23215
Screen shot showing key mapping
The problem seems to be intermittent. It sometimes goes away after Eclipse 
restart. There are no related errors in the log.
There's no sense i defining all those bindings since the contexts inherit from
each other. Please try fresh R3.1 and reopen if the problem persists.

Works for me using R3.1.</WithStack>
    <WithOutStack>RC2:
Ctrl-Shift-U key combination is mapped to Search All Occurrences in File, but 
pressing these keys produces no effect. This is a recent regression in RC2. It 
did work in RC1.
Created attachment 23215
Screen shot showing key mapping
The problem seems to be intermittent. It sometimes goes away after Eclipse 
restart. There are no related errors in the log.
There's no sense i defining all those bindings since the contexts inherit from
each other. Please try fresh R3.1 and reopen if the problem persists.

Works for me using R3.1.</WithOutStack>
  </Bug>
  <Bug>
    <BugId amount="100231" />
    <CreationDate amount="2005-06-15 12:26:00 -0400" />
    <DupId amount="" />
    <classification amount="Eclipse" />
    <Product amount="Platform" />
    <component amount="SWT" />
    <Version amount="3.1" />
    <rep_platform amount="PC" />
    <op_sys amount="Linux-GTK" />
    <priority amount="P3" />
    <bug_severity amount="critical" />
    <Summery>Name Conflict dialog appears behind Progress dialog</Summery>
    <Patches amount="0" />
    <Stacktraces amount="0" />
    <SourceCodeRegions amount="2">
      <source_code type="functiondef">
        <location start="343" end="1052" />
        <code>public static void main(String[] args) {
	final Display display = new Display();
	final Shell shell = new Shell(display);
	shell.setLayout(new FillLayout());
	Button button = new Button(shell, SWT.NONE);
	button.setText("Show dialogs");
	button.addListener(SWT.Selection, new Listener() {
		public void handleEvent(Event event) {
			Shell dialog1 = new Shell(shell);
			dialog1.setText("Dialog 1");
			dialog1.setSize(320, 240);
			dialog1.open();
			Shell dialog2 = new Shell(shell);
			dialog2.setText("Dialog 2");
			dialog2.setSize(320, 240);
			dialog2.open();
		}
	});
	shell.pack();
	shell.open();
	while(!shell.isDisposed()) {
		if(!display.readAndDispatch()) display.sleep();
	}
	display.dispose();
}</code>
      </source_code>
      <source_code type="functiondef">
        <location start="1302" end="2204" />
        <code>public static void main(String[] args) {
	final Display display = new Display();
	final Shell shell = new Shell(display);
	shell.setLayout(new FillLayout());
	Button button = new Button(shell, SWT.NONE);
	button.setText("Show dialogs");
	button.addListener(SWT.Selection, new Listener() {
		public void handleEvent(Event event) {
			Shell dialog1 = new Shell(shell);
			dialog1.setText("Dialog 1");
			dialog1.setLayout(new FillLayout());
			Button button = new Button(dialog1, SWT.NONE);
			dialog1.setSize(320, 240);
			dialog1.open();
			Shell dialog2 = new Shell(shell);
			dialog2.setText("Dialog 2");
			dialog2.setLayout(new FillLayout());
			button = new Button(dialog2, SWT.NONE);
			dialog2.setSize(320, 240);
			dialog2.open();
			dialog1.close();
		}
	});
	shell.pack();
	shell.open();
	while(!shell.isDisposed()) {
		if(!display.readAndDispatch()) display.sleep();
	}
	display.dispose();
}</code>
      </source_code>
    </SourceCodeRegions>
    <Enumerations amount="1">
      <Enumeration lines="3">
        <Lines>
          <Line>1. Select a file in the resource navigator</Line>
          <Line>2. Hit Ctrl+C</Line>
          <Line>3. Hit Ctrl+V</Line>
        </Lines>
      </Enumeration>
    </Enumerations>
    <bug_status amount="VERIFIED" />
    <resolution amount="FIXED" />
    <WithStack>3.1RC2, GTK+ 2.6.7, metacity 2.10

1. Select a file in the resource navigator
2. Hit Ctrl+C
3. Hit Ctrl+V

A progress dialog appears, and it is immediately followed by a "Name Conflict"
dialog.  Unfortunately, the progress dialog is above the conflict dialog in the
stacking order, obscuring it from view.
This reproduces the problem for me.

public static void main(String[] args) {
	final Display display = new Display();
	final Shell shell = new Shell(display);
	shell.setLayout(new FillLayout());
	Button button = new Button(shell, SWT.NONE);
	button.setText("Show dialogs");
	button.addListener(SWT.Selection, new Listener() {
		public void handleEvent(Event event) {
			Shell dialog1 = new Shell(shell);
			dialog1.setText("Dialog 1");
			dialog1.setSize(320, 240);
			dialog1.open();
			Shell dialog2 = new Shell(shell);
			dialog2.setText("Dialog 2");
			dialog2.setSize(320, 240);
			dialog2.open();
		}
	});
	shell.pack();
	shell.open();
	while(!shell.isDisposed()) {
		if(!display.readAndDispatch()) display.sleep();
	}
	display.dispose();
}
I have filed the following bug upstream:

  http://bugzilla.gnome.org/show_bug.cgi?id=307875
Another focus problem with similar properties, I suspect it is the same one.  If
a dialog is closed after a new one is displayed, focus does not transfer.

public static void main(String[] args) {
	final Display display = new Display();
	final Shell shell = new Shell(display);
	shell.setLayout(new FillLayout());
	Button button = new Button(shell, SWT.NONE);
	button.setText("Show dialogs");
	button.addListener(SWT.Selection, new Listener() {
		public void handleEvent(Event event) {
			Shell dialog1 = new Shell(shell);
			dialog1.setText("Dialog 1");
			dialog1.setLayout(new FillLayout());
			Button button = new Button(dialog1, SWT.NONE);
			dialog1.setSize(320, 240);
			dialog1.open();
			Shell dialog2 = new Shell(shell);
			dialog2.setText("Dialog 2");
			dialog2.setLayout(new FillLayout());
			button = new Button(dialog2, SWT.NONE);
			dialog2.setSize(320, 240);
			dialog2.open();
			dialog1.close();
		}
	});
	shell.pack();
	shell.open();
	while(!shell.isDisposed()) {
		if(!display.readAndDispatch()) display.sleep();
	}
	display.dispose();
}
This seems to be caused by the fix for bug 96090.
Fixed &gt; 20050617, approved by McQ

The change only affects metacity.
Verified on I20050617-1227
*** Bug 99749 has been marked as a duplicate of this bug. ***</WithStack>
    <WithOutStack>3.1RC2, GTK+ 2.6.7, metacity 2.10

1. Select a file in the resource navigator
2. Hit Ctrl+C
3. Hit Ctrl+V

A progress dialog appears, and it is immediately followed by a "Name Conflict"
dialog.  Unfortunately, the progress dialog is above the conflict dialog in the
stacking order, obscuring it from view.
This reproduces the problem for me.

public static void main(String[] args) {
	final Display display = new Display();
	final Shell shell = new Shell(display);
	shell.setLayout(new FillLayout());
	Button button = new Button(shell, SWT.NONE);
	button.setText("Show dialogs");
	button.addListener(SWT.Selection, new Listener() {
		public void handleEvent(Event event) {
			Shell dialog1 = new Shell(shell);
			dialog1.setText("Dialog 1");
			dialog1.setSize(320, 240);
			dialog1.open();
			Shell dialog2 = new Shell(shell);
			dialog2.setText("Dialog 2");
			dialog2.setSize(320, 240);
			dialog2.open();
		}
	});
	shell.pack();
	shell.open();
	while(!shell.isDisposed()) {
		if(!display.readAndDispatch()) display.sleep();
	}
	display.dispose();
}
I have filed the following bug upstream:

  http://bugzilla.gnome.org/show_bug.cgi?id=307875
Another focus problem with similar properties, I suspect it is the same one.  If
a dialog is closed after a new one is displayed, focus does not transfer.

public static void main(String[] args) {
	final Display display = new Display();
	final Shell shell = new Shell(display);
	shell.setLayout(new FillLayout());
	Button button = new Button(shell, SWT.NONE);
	button.setText("Show dialogs");
	button.addListener(SWT.Selection, new Listener() {
		public void handleEvent(Event event) {
			Shell dialog1 = new Shell(shell);
			dialog1.setText("Dialog 1");
			dialog1.setLayout(new FillLayout());
			Button button = new Button(dialog1, SWT.NONE);
			dialog1.setSize(320, 240);
			dialog1.open();
			Shell dialog2 = new Shell(shell);
			dialog2.setText("Dialog 2");
			dialog2.setLayout(new FillLayout());
			button = new Button(dialog2, SWT.NONE);
			dialog2.setSize(320, 240);
			dialog2.open();
			dialog1.close();
		}
	});
	shell.pack();
	shell.open();
	while(!shell.isDisposed()) {
		if(!display.readAndDispatch()) display.sleep();
	}
	display.dispose();
}
This seems to be caused by the fix for bug 96090.
Fixed &gt; 20050617, approved by McQ

The change only affects metacity.
Verified on I20050617-1227
*** Bug 99749 has been marked as a duplicate of this bug. ***</WithOutStack>
  </Bug>
  <Bug>
    <BugId amount="100232" />
    <CreationDate amount="2005-06-15 12:39:00 -0400" />
    <DupId amount="" />
    <classification amount="Tools" />
    <Product amount="TPTP Profiling" />
    <component amount="Platform.UI" />
    <Version amount="4.0" />
    <rep_platform amount="PC" />
    <op_sys amount="Windows 2000" />
    <priority amount="P3" />
    <bug_severity amount="normal" />
    <Summery>Clicking Profile As-&gt;JUnit and Profile As-&gt;JUnit Plugin test has odd behaviour when having multple launch configurations</Summery>
    <Patches amount="0" />
    <Stacktraces amount="0" />
    <SourceCodeRegions amount="0" />
    <Enumerations amount="0" />
    <bug_status amount="CLOSED" />
    <resolution amount="FIXED" />
    <WithStack>build TPTP-4.0.0-200506140100

Ensure there are 2 or more launch configurations so that a dialog prompts, 
querying which launch configuration to select.  Selecting a launch 
configuration and pressing okay works, loading the configuration in question.

However if one is to click cancel in this dialog, a new launch configuration is 
created for the type as opposed to nothing happening.  This is different from 
the behaviour of the other types.  It occurs for JUnit and JUnit Plugin Test.
Is this happening if you do a run instead of profile ?
In 4.0, it is not happening when we run instead of profile.
fixed in TPTP 4.0i4
verified, build (TPTP-4.0.0-200507051032).
As of TPTP 4.6.0, TPTP is in maintenance mode and focusing on improving quality by resolving relevant enhancements/defects and increasing test coverage through test creation, automation, Build Verification Tests (BVTs), and expanded run-time execution. As part of the TPTP Bugzilla housecleaning process (see http://wiki.eclipse.org/Bugzilla_Housecleaning_Processes), this enhancement/defect is verified/closed by the Project Lead since this enhancement/defect has been resolved and unverified for more than 1 year and considered to be fixed. If this enhancement/defect is still unresolved and reproducible in the latest TPTP release (http://www.eclipse.org/tptp/home/downloads/), please re-open.</WithStack>
    <WithOutStack>build TPTP-4.0.0-200506140100

Ensure there are 2 or more launch configurations so that a dialog prompts, 
querying which launch configuration to select.  Selecting a launch 
configuration and pressing okay works, loading the configuration in question.

However if one is to click cancel in this dialog, a new launch configuration is 
created for the type as opposed to nothing happening.  This is different from 
the behaviour of the other types.  It occurs for JUnit and JUnit Plugin Test.
Is this happening if you do a run instead of profile ?
In 4.0, it is not happening when we run instead of profile.
fixed in TPTP 4.0i4
verified, build (TPTP-4.0.0-200507051032).
As of TPTP 4.6.0, TPTP is in maintenance mode and focusing on improving quality by resolving relevant enhancements/defects and increasing test coverage through test creation, automation, Build Verification Tests (BVTs), and expanded run-time execution. As part of the TPTP Bugzilla housecleaning process (see http://wiki.eclipse.org/Bugzilla_Housecleaning_Processes), this enhancement/defect is verified/closed by the Project Lead since this enhancement/defect has been resolved and unverified for more than 1 year and considered to be fixed. If this enhancement/defect is still unresolved and reproducible in the latest TPTP release (http://www.eclipse.org/tptp/home/downloads/), please re-open.</WithOutStack>
  </Bug>
  <Bug>
    <BugId amount="100233" />
    <CreationDate amount="2005-06-15 12:44:00 -0400" />
    <DupId amount="" />
    <classification amount="Eclipse" />
    <Product amount="JDT" />
    <component amount="UI" />
    <Version amount="3.1" />
    <rep_platform amount="PC" />
    <op_sys amount="Windows 2000" />
    <priority amount="P3" />
    <bug_severity amount="normal" />
    <Summery>[1.5] Incorrect overriding marker for bad overriding with generics</Summery>
    <Patches amount="0" />
    <Stacktraces amount="0" />
    <SourceCodeRegions amount="2">
      <source_code type="class">
        <location start="75" end="224" />
        <code>abstract class A&lt;T&gt; {
  void g1 (T t) {
    System.out.println("g1 base: " + t);
  }
  void g2 (T t) {
    System.out.println("g2 base: " + t);
  }
}</code>
      </source_code>
      <source_code type="class">
        <location start="226" end="604" />
        <code>public class B extends A&lt;java.util.List&lt;Number&gt;&gt; {
  void g1 (java.util.List&lt;?&gt; t) {
    System.out.println("g1 derived: " + t);
  }
  void g2 (java.util.List&lt;Number&gt; t) {
    System.out.println("g2 derived: " + t);
  }
  public static void main (String[] args) {
    B b = new B();
    b.g1(new java.util.ArrayList&lt;Number&gt;());
    b.g2(new java.util.ArrayList&lt;Number&gt;());
  }
}</code>
      </source_code>
    </SourceCodeRegions>
    <Enumerations amount="0" />
    <bug_status amount="VERIFIED" />
    <resolution amount="FIXED" />
    <WithStack>Hi.  The following code contains a bug in inheritance of generic methods:

abstract class A&lt;T&gt; {
  void g1 (T t) {
    System.out.println("g1 base: " + t);
  }
  void g2 (T t) {
    System.out.println("g2 base: " + t);
  }
}

public class B extends A&lt;java.util.List&lt;Number&gt;&gt; {
  void g1 (java.util.List&lt;?&gt; t) {
    System.out.println("g1 derived: " + t);
  }
  void g2 (java.util.List&lt;Number&gt; t) {
    System.out.println("g2 derived: " + t);
  }
  public static void main (String[] args) {
    B b = new B();
    b.g1(new java.util.ArrayList&lt;Number&gt;());
    b.g2(new java.util.ArrayList&lt;Number&gt;());
  }
}

Notice that B.g1() does not override A.g1() because it declares a type parameter
incompatible with the bound T-&gt;List&lt;Number&gt; established by class B.

The JDT compiler is working correctly; output is:

g1 base: []
g2 derived: []

and in the bytecode, B has a stub for erasure delegation g2(Object)-&gt;g2(List)
but not for g1(Object)-&gt;g1(List).

The problem is in the editor.  There is a marker saying that B.g1() overrides
A.g1(); it's wrong as there is no overriding in this case, only overloading.
I performed some experiments with variations of this example, and it seems that
the source editor ignores completely the parameters' generic types to infer
inheritance, even though it considers generic type info from class hierarchy:
if I declare B.g2(String), the overriding marker disappears because String is
not compatible with B's T-&gt;List&lt;Number&gt;.

If I tag B's methods with the annotation @Override, the behavior is correct.
The annotation is OK for g2(), but at g1() the compiler flags an error:
"The method g1(List&lt;?&gt;) of type B must override a superclass method".
This shows that the compiler and the editor's code responsible for marker
generation are not using the same strategy to validate method overriding.

This wrong marker is an usability problem, but a relatively severe one because
it induces the programmer to error.  I just had this kind of error in my app
and it was difficult to analyse because I failed to inherit a method, so the
wrong method was being invoked, but inspection of the source didn't reveal the
problem because I blindly trusted the overriding marker -- shame on me for not
using the @Override tag, I know -- so I only caught this bug after laborious
step-by-step debugging.
Another case related to bug 97027
Markus, as discussed the problem is with taking the erasure of the left hand
side in equals.

Although the fix is trivial it is risky since the method is called in various
other situations as well and we have to understand how these clients use the method.

We should investigate for 3.1.1
Created attachment 23829
Proposed path
If we decide to keep our implementation of the override checking code, then we
should also rename isEqualMethod(..) to isSubsignature(..) and check all clients
and both implementations whether they are only used for override checking and
only in the right direction. Furthermore, bug 97027 should also be fixed then
(we currently don't compare method type parameters).

The alternative would be to switch to IMethodBinding#overrides(..) in cases
where we have bindings. Clients that have less strict requirements such as quick
fix (doesn't want to check return types) should then still use the old code,
unless IMethodBinding#overrides(..) gets loosened to not checking return types.
Created attachment 25674
Better patch
The patch from comment 5 also fixes the override indicator bug 97027. I updated
all clients of
isEqualMethod(IMethodBinding method, String methodName, ITypeBinding[]
parameters) to isSubsignature(IMethodBinding, IMethodBinding) where I think it
is safe.
Released the patch to HEAD.
Although this is not a one line fix, I opt to put it into 3.1.1 if we see that
it works fine in the 3.2 branch.

Markus, here are some comments/questions regarding the fix:

Class Bindings:

- isSubSignature: to avoid some false positives shouldn't we only take the
  erasure of the m1Parameters when the parameter itself contains a type
  variable. Otherwise I think it isn't needed.

- areSubTypeCompatible: please check the method with Tobias and look if 
  we can remove it in favour of isSubSignature. The current implementation
  of areSubTypeCompatible doesn't look quite right either ;-)

Class StubUtility2

- findOverridingMethod: checking both isSubSignature and areSubTypeCompatible
  looks strange to me. Please check with Tobias.

Martin, Tobias can you please have a look at the patch as well and cast your votes.
Regarding StubUtility2#findOverridingMethod:

The conditional expression in this method can be replaced by 
Bindings#isSubSignature only, because the method Bindings#areOverriddenMethods 
effectively should implement the same behavior as Bindings#isSubSignature. The 
implementation suggested by the patch works, but does or'ed checks for the 
same thing. Method invocations to Bindings#areOverriddenMethods should 
therefore be replaced by isSubSignature

Regarding Bindings#areSubTypeCompatible

The method occurrence in areOverriddenMethods can be eliminated (see above).
The occurrence in isSignatureEquivalentConstructor actually corresponds to a 
call to isSubSignature, but without checking for the method name.

With the current API of isSubSignature, this is not possible. IMO we should be 
more flexible and offer an API where the components of a signature (name, 
parameters, exception, etc.) can be passed in separately.

+1 for 3.1.1
*** Bug 97027 has been marked as a duplicate of this bug. ***
patch looks ok to me.
Created attachment 26185
Patch 3

This (last) patch only takes the erasure where the parameters contain type
variables (Dirk's comment 8) and fixes several other issues found while writing
test cases.

The only changes w.r.t. "Better Patch" are in Bindings#isSubsignature(..) and
three new private methods.
Created attachment 26186
Tests for Patch 3
Improved patch looks OK to me.
patch is OK. We now also have much more test cases -&gt; ok to release.
Released to 3.1.1 (and HEAD).
verifying...
verified scenarios in comment 0 and bug 97027 work correctly.</WithStack>
    <WithOutStack>Hi.  The following code contains a bug in inheritance of generic methods:

abstract class A&lt;T&gt; {
  void g1 (T t) {
    System.out.println("g1 base: " + t);
  }
  void g2 (T t) {
    System.out.println("g2 base: " + t);
  }
}

public class B extends A&lt;java.util.List&lt;Number&gt;&gt; {
  void g1 (java.util.List&lt;?&gt; t) {
    System.out.println("g1 derived: " + t);
  }
  void g2 (java.util.List&lt;Number&gt; t) {
    System.out.println("g2 derived: " + t);
  }
  public static void main (String[] args) {
    B b = new B();
    b.g1(new java.util.ArrayList&lt;Number&gt;());
    b.g2(new java.util.ArrayList&lt;Number&gt;());
  }
}

Notice that B.g1() does not override A.g1() because it declares a type parameter
incompatible with the bound T-&gt;List&lt;Number&gt; established by class B.

The JDT compiler is working correctly; output is:

g1 base: []
g2 derived: []

and in the bytecode, B has a stub for erasure delegation g2(Object)-&gt;g2(List)
but not for g1(Object)-&gt;g1(List).

The problem is in the editor.  There is a marker saying that B.g1() overrides
A.g1(); it's wrong as there is no overriding in this case, only overloading.
I performed some experiments with variations of this example, and it seems that
the source editor ignores completely the parameters' generic types to infer
inheritance, even though it considers generic type info from class hierarchy:
if I declare B.g2(String), the overriding marker disappears because String is
not compatible with B's T-&gt;List&lt;Number&gt;.

If I tag B's methods with the annotation @Override, the behavior is correct.
The annotation is OK for g2(), but at g1() the compiler flags an error:
"The method g1(List&lt;?&gt;) of type B must override a superclass method".
This shows that the compiler and the editor's code responsible for marker
generation are not using the same strategy to validate method overriding.

This wrong marker is an usability problem, but a relatively severe one because
it induces the programmer to error.  I just had this kind of error in my app
and it was difficult to analyse because I failed to inherit a method, so the
wrong method was being invoked, but inspection of the source didn't reveal the
problem because I blindly trusted the overriding marker -- shame on me for not
using the @Override tag, I know -- so I only caught this bug after laborious
step-by-step debugging.
Another case related to bug 97027
Markus, as discussed the problem is with taking the erasure of the left hand
side in equals.

Although the fix is trivial it is risky since the method is called in various
other situations as well and we have to understand how these clients use the method.

We should investigate for 3.1.1
Created attachment 23829
Proposed path
If we decide to keep our implementation of the override checking code, then we
should also rename isEqualMethod(..) to isSubsignature(..) and check all clients
and both implementations whether they are only used for override checking and
only in the right direction. Furthermore, bug 97027 should also be fixed then
(we currently don't compare method type parameters).

The alternative would be to switch to IMethodBinding#overrides(..) in cases
where we have bindings. Clients that have less strict requirements such as quick
fix (doesn't want to check return types) should then still use the old code,
unless IMethodBinding#overrides(..) gets loosened to not checking return types.
Created attachment 25674
Better patch
The patch from comment 5 also fixes the override indicator bug 97027. I updated
all clients of
isEqualMethod(IMethodBinding method, String methodName, ITypeBinding[]
parameters) to isSubsignature(IMethodBinding, IMethodBinding) where I think it
is safe.
Released the patch to HEAD.
Although this is not a one line fix, I opt to put it into 3.1.1 if we see that
it works fine in the 3.2 branch.

Markus, here are some comments/questions regarding the fix:

Class Bindings:

- isSubSignature: to avoid some false positives shouldn't we only take the
  erasure of the m1Parameters when the parameter itself contains a type
  variable. Otherwise I think it isn't needed.

- areSubTypeCompatible: please check the method with Tobias and look if 
  we can remove it in favour of isSubSignature. The current implementation
  of areSubTypeCompatible doesn't look quite right either ;-)

Class StubUtility2

- findOverridingMethod: checking both isSubSignature and areSubTypeCompatible
  looks strange to me. Please check with Tobias.

Martin, Tobias can you please have a look at the patch as well and cast your votes.
Regarding StubUtility2#findOverridingMethod:

The conditional expression in this method can be replaced by 
Bindings#isSubSignature only, because the method Bindings#areOverriddenMethods 
effectively should implement the same behavior as Bindings#isSubSignature. The 
implementation suggested by the patch works, but does or'ed checks for the 
same thing. Method invocations to Bindings#areOverriddenMethods should 
therefore be replaced by isSubSignature

Regarding Bindings#areSubTypeCompatible

The method occurrence in areOverriddenMethods can be eliminated (see above).
The occurrence in isSignatureEquivalentConstructor actually corresponds to a 
call to isSubSignature, but without checking for the method name.

With the current API of isSubSignature, this is not possible. IMO we should be 
more flexible and offer an API where the components of a signature (name, 
parameters, exception, etc.) can be passed in separately.

+1 for 3.1.1
*** Bug 97027 has been marked as a duplicate of this bug. ***
patch looks ok to me.
Created attachment 26185
Patch 3

This (last) patch only takes the erasure where the parameters contain type
variables (Dirk's comment 8) and fixes several other issues found while writing
test cases.

The only changes w.r.t. "Better Patch" are in Bindings#isSubsignature(..) and
three new private methods.
Created attachment 26186
Tests for Patch 3
Improved patch looks OK to me.
patch is OK. We now also have much more test cases -&gt; ok to release.
Released to 3.1.1 (and HEAD).
verifying...
verified scenarios in comment 0 and bug 97027 work correctly.</WithOutStack>
  </Bug>
  <Bug>
    <BugId amount="100234" />
    <CreationDate amount="2005-06-15 12:47:00 -0400" />
    <DupId amount="99811" />
    <classification amount="Eclipse" />
    <Product amount="JDT" />
    <component amount="Core" />
    <Version amount="3.1" />
    <rep_platform amount="PC" />
    <op_sys amount="Windows XP" />
    <priority amount="P3" />
    <bug_severity amount="normal" />
    <Summery>NPE while trying to browse into a class (F3)</Summery>
    <Patches amount="0" />
    <Stacktraces amount="1">
      <Stacktrace timestamp="1437330544399">
        <Exception>java.lang.NullPointerException</Exception>
        <Reason />
        <Frames>
          <Frame depth="0">org.eclipse.jdt.internal.compiler.lookup.ClassScope.checkForInheritedMemberTypes(ClassScope.java:652)</Frame>
          <Frame depth="1">org.eclipse.jdt.internal.compiler.lookup.ClassScope.connectTypeHierarchy(ClassScope.java:924)</Frame>
          <Frame depth="2">org.eclipse.jdt.internal.compiler.lookup.ClassScope.connectMemberTypes(ClassScope.java:709)</Frame>
          <Frame depth="3">org.eclipse.jdt.internal.compiler.lookup.ClassScope.connectTypeHierarchy(ClassScope.java:922)</Frame>
          <Frame depth="4">org.eclipse.jdt.internal.compiler.lookup.CompilationUnitScope.connectTypeHierarchy(CompilationUnitScope.java:254)</Frame>
          <Frame depth="5">org.eclipse.jdt.internal.compiler.lookup.LookupEnvironment.completeTypeBindings(LookupEnvironment.java:249)</Frame>
          <Frame depth="6">org.eclipse.jdt.internal.codeassist.impl.Engine.accept(Engine.java:92)</Frame>
          <Frame depth="7">org.eclipse.jdt.internal.compiler.lookup.LookupEnvironment.askForType(LookupEnvironment.java:131)</Frame>
          <Frame depth="8">org.eclipse.jdt.internal.compiler.lookup.PackageBinding.getTypeOrPackage(PackageBinding.java:178)</Frame>
          <Frame depth="9">org.eclipse.jdt.internal.compiler.lookup.Scope.getTypeOrPackage(Scope.java:2386)</Frame>
          <Frame depth="10">org.eclipse.jdt.internal.compiler.lookup.Scope.getType(Scope.java:2131)</Frame>
          <Frame depth="11">org.eclipse.jdt.internal.compiler.ast.SingleTypeReference.getTypeBinding(SingleTypeReference.java:39)</Frame>
          <Frame depth="12">org.eclipse.jdt.internal.compiler.ast.TypeReference.resolveType(TypeReference.java:141)</Frame>
          <Frame depth="13">org.eclipse.jdt.internal.compiler.ast.TypeReference.resolveSuperType(TypeReference.java:104)</Frame>
          <Frame depth="14">org.eclipse.jdt.internal.compiler.lookup.ClassScope.findSupertype(ClassScope.java:1074)</Frame>
          <Frame depth="15">org.eclipse.jdt.internal.compiler.lookup.ClassScope.connectSuperInterfaces(ClassScope.java:823)</Frame>
          <Frame depth="16">org.eclipse.jdt.internal.compiler.lookup.ClassScope.connectTypeHierarchy(ClassScope.java:914)</Frame>
          <Frame depth="17">org.eclipse.jdt.internal.compiler.lookup.CompilationUnitScope.connectTypeHierarchy(CompilationUnitScope.java:254)</Frame>
          <Frame depth="18">org.eclipse.jdt.internal.compiler.lookup.LookupEnvironment.completeTypeBindings(LookupEnvironment.java:249)</Frame>
          <Frame depth="19">org.eclipse.jdt.internal.codeassist.impl.Engine.accept(Engine.java:92)</Frame>
          <Frame depth="20">org.eclipse.jdt.internal.compiler.lookup.LookupEnvironment.askForType(LookupEnvironment.java:131)</Frame>
          <Frame depth="21">org.eclipse.jdt.internal.compiler.lookup.PackageBinding.getTypeOrPackage(PackageBinding.java:178)</Frame>
          <Frame depth="22">org.eclipse.jdt.internal.compiler.lookup.Scope.getTypeOrPackage(Scope.java:2386)</Frame>
          <Frame depth="23">org.eclipse.jdt.internal.compiler.lookup.Scope.getType(Scope.java:2131)</Frame>
          <Frame depth="24">org.eclipse.jdt.internal.compiler.ast.SingleTypeReference.getTypeBinding(SingleTypeReference.java:39)</Frame>
          <Frame depth="25">org.eclipse.jdt.internal.compiler.ast.TypeReference.resolveType(TypeReference.java:141)</Frame>
          <Frame depth="26">org.eclipse.jdt.internal.compiler.ast.TypeReference.resolveSuperType(TypeReference.java:104)</Frame>
          <Frame depth="27">org.eclipse.jdt.internal.compiler.lookup.ClassScope.findSupertype(ClassScope.java:1074)</Frame>
          <Frame depth="28">org.eclipse.jdt.internal.compiler.lookup.ClassScope.connectSuperclass(ClassScope.java:741)</Frame>
          <Frame depth="29">org.eclipse.jdt.internal.compiler.lookup.ClassScope.connectTypeHierarchy(ClassScope.java:913)</Frame>
          <Frame depth="30">org.eclipse.jdt.internal.compiler.lookup.CompilationUnitScope.connectTypeHierarchy(CompilationUnitScope.java:254)</Frame>
          <Frame depth="31">org.eclipse.jdt.internal.compiler.lookup.LookupEnvironment.completeTypeBindings(LookupEnvironment.java:249)</Frame>
          <Frame depth="32">org.eclipse.jdt.internal.codeassist.impl.Engine.accept(Engine.java:92)</Frame>
          <Frame depth="33">org.eclipse.jdt.internal.compiler.lookup.LookupEnvironment.askForType(LookupEnvironment.java:131)</Frame>
          <Frame depth="34">org.eclipse.jdt.internal.compiler.lookup.PackageBinding.getTypeOrPackage(PackageBinding.java:178)</Frame>
          <Frame depth="35">org.eclipse.jdt.internal.compiler.lookup.CompilationUnitScope.findImport(CompilationUnitScope.java:403)</Frame>
          <Frame depth="36">org.eclipse.jdt.internal.compiler.lookup.CompilationUnitScope.findSingleImport(CompilationUnitScope.java:456)</Frame>
          <Frame depth="37">org.eclipse.jdt.internal.compiler.lookup.CompilationUnitScope.faultInImports(CompilationUnitScope.java:321)</Frame>
          <Frame depth="38">org.eclipse.jdt.internal.compiler.lookup.CompilationUnitScope.faultInTypes(CompilationUnitScope.java:390)</Frame>
          <Frame depth="39">org.eclipse.jdt.internal.codeassist.SelectionEngine.select(SelectionEngine.java:659)</Frame>
          <Frame depth="40">org.eclipse.jdt.internal.core.Openable.codeSelect(Openable.java:165)</Frame>
          <Frame depth="41">org.eclipse.jdt.internal.core.CompilationUnit.codeSelect(CompilationUnit.java:314)</Frame>
          <Frame depth="42">org.eclipse.jdt.internal.core.CompilationUnit.codeSelect(CompilationUnit.java:308)</Frame>
          <Frame depth="43">org.eclipse.jdt.internal.ui.actions.SelectionConverter.codeResolve(SelectionConverter.java:219)</Frame>
          <Frame depth="44">org.eclipse.jdt.internal.ui.actions.SelectionConverter.codeResolve(SelectionConverter.java:153)</Frame>
          <Frame depth="45">org.eclipse.jdt.internal.ui.actions.SelectionConverter.codeResolve(SelectionConverter.java:162)</Frame>
          <Frame depth="46">org.eclipse.jdt.ui.actions.OpenAction.run(OpenAction.java:128)</Frame>
          <Frame depth="47">org.eclipse.jdt.ui.actions.SelectionDispatchAction.dispatchRun(SelectionDispatchAction.java:226)</Frame>
          <Frame depth="48">org.eclipse.jdt.ui.actions.SelectionDispatchAction.run(SelectionDispatchAction.java:198)</Frame>
          <Frame depth="49">org.eclipse.jface.action.Action.runWithEvent(Action.java:996)</Frame>
          <Frame depth="50">org.eclipse.ui.commands.ActionHandler.execute(ActionHandler.java:182)</Frame>
          <Frame depth="51">org.eclipse.ui.internal.handlers.LegacyHandlerWrapper.execute(LegacyHandlerWrapper.java:108)</Frame>
          <Frame depth="52">org.eclipse.core.commands.Command.execute(Command.java:311)</Frame>
          <Frame depth="53">org.eclipse.core.commands.ParameterizedCommand.execute(ParameterizedCommand.java:396)</Frame>
          <Frame depth="54">org.eclipse.ui.internal.keys.WorkbenchKeyboard.executeCommand(WorkbenchKeyboard.java:459)</Frame>
          <Frame depth="55">org.eclipse.ui.internal.keys.WorkbenchKeyboard.press(WorkbenchKeyboard.java:781)</Frame>
          <Frame depth="56">org.eclipse.ui.internal.keys.WorkbenchKeyboard.processKeyEvent(WorkbenchKeyboard.java:828)</Frame>
          <Frame depth="57">org.eclipse.ui.internal.keys.WorkbenchKeyboard.filterKeySequenceBindings(WorkbenchKeyboard.java:550)</Frame>
          <Frame depth="58">org.eclipse.ui.internal.keys.WorkbenchKeyboard.access$3(WorkbenchKeyboard.java:493)</Frame>
          <Frame depth="59">org.eclipse.ui.internal.keys.WorkbenchKeyboard$KeyDownFilter.handleEvent(WorkbenchKeyboard.java:117)</Frame>
          <Frame depth="60">org.eclipse.swt.widgets.EventTable.sendEvent(EventTable.java:66)</Frame>
          <Frame depth="61">org.eclipse.swt.widgets.Display.filterEvent(Display.java:910)</Frame>
          <Frame depth="62">org.eclipse.swt.widgets.Widget.sendEvent(Widget.java:843)</Frame>
          <Frame depth="63">org.eclipse.swt.widgets.Widget.sendEvent(Widget.java:868)</Frame>
          <Frame depth="64">org.eclipse.swt.widgets.Widget.sendEvent(Widget.java:853)</Frame>
          <Frame depth="65">org.eclipse.swt.widgets.Widget.sendKeyEvent(Widget.java:881)</Frame>
          <Frame depth="66">org.eclipse.swt.widgets.Widget.sendKeyEvent(Widget.java:877)</Frame>
          <Frame depth="67">org.eclipse.swt.widgets.Widget.wmKeyDown(Widget.java:1474)</Frame>
          <Frame depth="68">org.eclipse.swt.widgets.Control.WM_KEYDOWN(Control.java:3347)</Frame>
          <Frame depth="69">org.eclipse.swt.widgets.Control.windowProc(Control.java:3066)</Frame>
          <Frame depth="70">org.eclipse.swt.widgets.Display.windowProc(Display.java:3682)</Frame>
          <Frame depth="71">org.eclipse.swt.internal.win32.OS.DispatchMessageW(Native Method)</Frame>
          <Frame depth="72">org.eclipse.swt.internal.win32.OS.DispatchMessage(OS.java:1655)</Frame>
          <Frame depth="73">org.eclipse.swt.widgets.Display.readAndDispatch(Display.java:2689)</Frame>
          <Frame depth="74">org.eclipse.ui.internal.Workbench.runEventLoop(Workbench.java:1716)</Frame>
          <Frame depth="75">org.eclipse.ui.internal.Workbench.runUI(Workbench.java:1680)</Frame>
          <Frame depth="76">org.eclipse.ui.internal.Workbench.createAndRunWorkbench(Workbench.java:365)</Frame>
          <Frame depth="77">org.eclipse.ui.PlatformUI.createAndRunWorkbench(PlatformUI.java:143)</Frame>
          <Frame depth="78">org.eclipse.ui.internal.ide.IDEApplication.run(IDEApplication.java:103)</Frame>
          <Frame depth="79">org.eclipse.core.internal.runtime.PlatformActivator$1.run(PlatformActivator.java:226)</Frame>
          <Frame depth="80">org.eclipse.core.runtime.adaptor.EclipseStarter.run(EclipseStarter.java:376)</Frame>
          <Frame depth="81">org.eclipse.core.runtime.adaptor.EclipseStarter.run(EclipseStarter.java:163)</Frame>
          <Frame depth="82">sun.reflect.NativeMethodAccessorImpl.invoke0(Native Method)</Frame>
          <Frame depth="83">sun.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:39)</Frame>
          <Frame depth="84">sun.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:25)</Frame>
          <Frame depth="85">java.lang.reflect.Method.invoke(Method.java:585)</Frame>
          <Frame depth="86">org.eclipse.core.launcher.Main.invokeFramework(Main.java:334)</Frame>
          <Frame depth="87">org.eclipse.core.launcher.Main.basicRun(Main.java:278)</Frame>
          <Frame depth="88">org.eclipse.core.launcher.Main.run(Main.java:973)</Frame>
          <Frame depth="89">org.eclipse.core.launcher.Main.main(Main.java:948)</Frame>
        </Frames>
      </Stacktrace>
    </Stacktraces>
    <SourceCodeRegions amount="0" />
    <Enumerations amount="0" />
    <bug_status amount="RESOLVED" />
    <resolution amount="DUPLICATE" />
    <WithStack>I was browsing around the visual editor code using Eclipse 3.1RC2
(I20050610-1757) and tried to F3 into JavaSourceTranslator from line 264 of
JavaVisualEditorPart.  I got an error message about the operation not completing
normally and saw the following NPE in the log:

java.lang.NullPointerException
	at
org.eclipse.jdt.internal.compiler.lookup.ClassScope.checkForInheritedMemberTypes(ClassScope.java:652)
	at
org.eclipse.jdt.internal.compiler.lookup.ClassScope.connectTypeHierarchy(ClassScope.java:924)
	at
org.eclipse.jdt.internal.compiler.lookup.ClassScope.connectMemberTypes(ClassScope.java:709)
	at
org.eclipse.jdt.internal.compiler.lookup.ClassScope.connectTypeHierarchy(ClassScope.java:922)
	at
org.eclipse.jdt.internal.compiler.lookup.CompilationUnitScope.connectTypeHierarchy(CompilationUnitScope.java:254)
	at
org.eclipse.jdt.internal.compiler.lookup.LookupEnvironment.completeTypeBindings(LookupEnvironment.java:249)
	at org.eclipse.jdt.internal.codeassist.impl.Engine.accept(Engine.java:92)
	at
org.eclipse.jdt.internal.compiler.lookup.LookupEnvironment.askForType(LookupEnvironment.java:131)
	at
org.eclipse.jdt.internal.compiler.lookup.PackageBinding.getTypeOrPackage(PackageBinding.java:178)
	at org.eclipse.jdt.internal.compiler.lookup.Scope.getTypeOrPackage(Scope.java:2386)
	at org.eclipse.jdt.internal.compiler.lookup.Scope.getType(Scope.java:2131)
	at
org.eclipse.jdt.internal.compiler.ast.SingleTypeReference.getTypeBinding(SingleTypeReference.java:39)
	at
org.eclipse.jdt.internal.compiler.ast.TypeReference.resolveType(TypeReference.java:141)
	at
org.eclipse.jdt.internal.compiler.ast.TypeReference.resolveSuperType(TypeReference.java:104)
	at
org.eclipse.jdt.internal.compiler.lookup.ClassScope.findSupertype(ClassScope.java:1074)
	at
org.eclipse.jdt.internal.compiler.lookup.ClassScope.connectSuperInterfaces(ClassScope.java:823)
	at
org.eclipse.jdt.internal.compiler.lookup.ClassScope.connectTypeHierarchy(ClassScope.java:914)
	at
org.eclipse.jdt.internal.compiler.lookup.CompilationUnitScope.connectTypeHierarchy(CompilationUnitScope.java:254)
	at
org.eclipse.jdt.internal.compiler.lookup.LookupEnvironment.completeTypeBindings(LookupEnvironment.java:249)
	at org.eclipse.jdt.internal.codeassist.impl.Engine.accept(Engine.java:92)
	at
org.eclipse.jdt.internal.compiler.lookup.LookupEnvironment.askForType(LookupEnvironment.java:131)
	at
org.eclipse.jdt.internal.compiler.lookup.PackageBinding.getTypeOrPackage(PackageBinding.java:178)
	at org.eclipse.jdt.internal.compiler.lookup.Scope.getTypeOrPackage(Scope.java:2386)
	at org.eclipse.jdt.internal.compiler.lookup.Scope.getType(Scope.java:2131)
	at
org.eclipse.jdt.internal.compiler.ast.SingleTypeReference.getTypeBinding(SingleTypeReference.java:39)
	at
org.eclipse.jdt.internal.compiler.ast.TypeReference.resolveType(TypeReference.java:141)
	at
org.eclipse.jdt.internal.compiler.ast.TypeReference.resolveSuperType(TypeReference.java:104)
	at
org.eclipse.jdt.internal.compiler.lookup.ClassScope.findSupertype(ClassScope.java:1074)
	at
org.eclipse.jdt.internal.compiler.lookup.ClassScope.connectSuperclass(ClassScope.java:741)
	at
org.eclipse.jdt.internal.compiler.lookup.ClassScope.connectTypeHierarchy(ClassScope.java:913)
	at
org.eclipse.jdt.internal.compiler.lookup.CompilationUnitScope.connectTypeHierarchy(CompilationUnitScope.java:254)
	at
org.eclipse.jdt.internal.compiler.lookup.LookupEnvironment.completeTypeBindings(LookupEnvironment.java:249)
	at org.eclipse.jdt.internal.codeassist.impl.Engine.accept(Engine.java:92)
	at
org.eclipse.jdt.internal.compiler.lookup.LookupEnvironment.askForType(LookupEnvironment.java:131)
	at
org.eclipse.jdt.internal.compiler.lookup.PackageBinding.getTypeOrPackage(PackageBinding.java:178)
	at
org.eclipse.jdt.internal.compiler.lookup.CompilationUnitScope.findImport(CompilationUnitScope.java:403)
	at
org.eclipse.jdt.internal.compiler.lookup.CompilationUnitScope.findSingleImport(CompilationUnitScope.java:456)
	at
org.eclipse.jdt.internal.compiler.lookup.CompilationUnitScope.faultInImports(CompilationUnitScope.java:321)
	at
org.eclipse.jdt.internal.compiler.lookup.CompilationUnitScope.faultInTypes(CompilationUnitScope.java:390)
	at
org.eclipse.jdt.internal.codeassist.SelectionEngine.select(SelectionEngine.java:659)
	at org.eclipse.jdt.internal.core.Openable.codeSelect(Openable.java:165)
	at
org.eclipse.jdt.internal.core.CompilationUnit.codeSelect(CompilationUnit.java:314)
	at
org.eclipse.jdt.internal.core.CompilationUnit.codeSelect(CompilationUnit.java:308)
	at
org.eclipse.jdt.internal.ui.actions.SelectionConverter.codeResolve(SelectionConverter.java:219)
	at
org.eclipse.jdt.internal.ui.actions.SelectionConverter.codeResolve(SelectionConverter.java:153)
	at
org.eclipse.jdt.internal.ui.actions.SelectionConverter.codeResolve(SelectionConverter.java:162)
	at org.eclipse.jdt.ui.actions.OpenAction.run(OpenAction.java:128)
	at
org.eclipse.jdt.ui.actions.SelectionDispatchAction.dispatchRun(SelectionDispatchAction.java:226)
	at
org.eclipse.jdt.ui.actions.SelectionDispatchAction.run(SelectionDispatchAction.java:198)
	at org.eclipse.jface.action.Action.runWithEvent(Action.java:996)
	at org.eclipse.ui.commands.ActionHandler.execute(ActionHandler.java:182)
	at
org.eclipse.ui.internal.handlers.LegacyHandlerWrapper.execute(LegacyHandlerWrapper.java:108)
	at org.eclipse.core.commands.Command.execute(Command.java:311)
	at
org.eclipse.core.commands.ParameterizedCommand.execute(ParameterizedCommand.java:396)
	at
org.eclipse.ui.internal.keys.WorkbenchKeyboard.executeCommand(WorkbenchKeyboard.java:459)
	at org.eclipse.ui.internal.keys.WorkbenchKeyboard.press(WorkbenchKeyboard.java:781)
	at
org.eclipse.ui.internal.keys.WorkbenchKeyboard.processKeyEvent(WorkbenchKeyboard.java:828)
	at
org.eclipse.ui.internal.keys.WorkbenchKeyboard.filterKeySequenceBindings(WorkbenchKeyboard.java:550)
	at
org.eclipse.ui.internal.keys.WorkbenchKeyboard.access$3(WorkbenchKeyboard.java:493)
	at
org.eclipse.ui.internal.keys.WorkbenchKeyboard$KeyDownFilter.handleEvent(WorkbenchKeyboard.java:117)
	at org.eclipse.swt.widgets.EventTable.sendEvent(EventTable.java:66)
	at org.eclipse.swt.widgets.Display.filterEvent(Display.java:910)
	at org.eclipse.swt.widgets.Widget.sendEvent(Widget.java:843)
	at org.eclipse.swt.widgets.Widget.sendEvent(Widget.java:868)
	at org.eclipse.swt.widgets.Widget.sendEvent(Widget.java:853)
	at org.eclipse.swt.widgets.Widget.sendKeyEvent(Widget.java:881)
	at org.eclipse.swt.widgets.Widget.sendKeyEvent(Widget.java:877)
	at org.eclipse.swt.widgets.Widget.wmKeyDown(Widget.java:1474)
	at org.eclipse.swt.widgets.Control.WM_KEYDOWN(Control.java:3347)
	at org.eclipse.swt.widgets.Control.windowProc(Control.java:3066)
	at org.eclipse.swt.widgets.Display.windowProc(Display.java:3682)
	at org.eclipse.swt.internal.win32.OS.DispatchMessageW(Native Method)
	at org.eclipse.swt.internal.win32.OS.DispatchMessage(OS.java:1655)
	at org.eclipse.swt.widgets.Display.readAndDispatch(Display.java:2689)
	at org.eclipse.ui.internal.Workbench.runEventLoop(Workbench.java:1716)
	at org.eclipse.ui.internal.Workbench.runUI(Workbench.java:1680)
	at org.eclipse.ui.internal.Workbench.createAndRunWorkbench(Workbench.java:365)
	at org.eclipse.ui.PlatformUI.createAndRunWorkbench(PlatformUI.java:143)
	at org.eclipse.ui.internal.ide.IDEApplication.run(IDEApplication.java:103)
	at
org.eclipse.core.internal.runtime.PlatformActivator$1.run(PlatformActivator.java:226)
	at org.eclipse.core.runtime.adaptor.EclipseStarter.run(EclipseStarter.java:376)
	at org.eclipse.core.runtime.adaptor.EclipseStarter.run(EclipseStarter.java:163)
	at sun.reflect.NativeMethodAccessorImpl.invoke0(Native Method)
	at sun.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:39)
	at
sun.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:25)
	at java.lang.reflect.Method.invoke(Method.java:585)
	at org.eclipse.core.launcher.Main.invokeFramework(Main.java:334)
	at org.eclipse.core.launcher.Main.basicRun(Main.java:278)
	at org.eclipse.core.launcher.Main.run(Main.java:973)
	at org.eclipse.core.launcher.Main.main(Main.java:948)


*** This bug has been marked as a duplicate of 99811 ***</WithStack>
    <WithOutStack>I was browsing around the visual editor code using Eclipse 3.1RC2
(I20050610-1757) and tried to F3 into JavaSourceTranslator from line 264 of
JavaVisualEditorPart.  I got an error message about the operation not completing
normally and saw the following NPE in the log:




*** This bug has been marked as a duplicate of 99811 ***</WithOutStack>
  </Bug>
  <Bug>
    <BugId amount="100235" />
    <CreationDate amount="2005-06-15 12:50:00 -0400" />
    <DupId amount="" />
    <classification amount="Eclipse" />
    <Product amount="JDT" />
    <component amount="Core" />
    <Version amount="3.1" />
    <rep_platform amount="PC" />
    <op_sys amount="Windows XP" />
    <priority amount="P3" />
    <bug_severity amount="normal" />
    <Summery>[javadoc] Strange source range for methods with non javadoc and Javadoc in front</Summery>
    <Patches amount="0" />
    <Stacktraces amount="0" />
    <SourceCodeRegions amount="4">
      <source_code type="class">
        <location start="5" end="308" />
        <code>public class TestClass {

	/**
	 * Javadoc of a method
	 */
	private void calcSomething() {
	}

	/*
	 * Some lengthy comment
	 * that
	 * spans
	 * several
	 * lines
	 * 
	 */


	/**
	 * Javadoc of a method 
	 */
	public void parse() {
	}

	/**
	 * More Javadoc 
	 */
	private void addSomething() {
	}
}</code>
      </source_code>
      <source_code type="multicomment">
        <location start="437" end="524" />
        <code>/*
	 * Some lengthy comment
	 * that
	 * spans
	 * several
	 * lines
	 * 
	 */</code>
      </source_code>
      <source_code type="multicomment">
        <location start="526" end="562" />
        <code>/**
	 * Javadoc of a method 
	 */</code>
      </source_code>
      <source_code type="functiondef">
        <location start="563" end="588" />
        <code>public void parse() {
	}</code>
      </source_code>
    </SourceCodeRegions>
    <Enumerations amount="0" />
    <bug_status amount="RESOLVED" />
    <resolution amount="WORKSFORME" />
    <WithStack>RC2

public class TestClass {

	/**
	 * Javadoc of a method
	 */
	private void calcSomething() {
	}

	/*
	 * Some lengthy comment
	 * that
	 * spans
	 * several
	 * lines
	 * 
	 */


	/**
	 * Javadoc of a method 
	 */
	public void parse() {
	}

	/**
	 * More Javadoc 
	 */
	private void addSomething() {
	}
}

Asking the source method parse for its range returns a range including the non
Java doc comment in front of it. So I get back 

        /*
	 * Some lengthy comment
	 * that
	 * spans
	 * several
	 * lines
	 * 
	 */	
	
	/**
	 * Javadoc of a method 
	 */
	public void parse() {
	}

Is this on purpose ?
I am not sure this is intended.
You would say that only the javadoc should be within the source range.
I do not think this is intentional, I'll look at it post 3.1
Reopen for 3.2
Cannot reproduce using AST View with 3.2 RC1 and 3.1.x builds.</WithStack>
    <WithOutStack>RC2

public class TestClass {

	/**
	 * Javadoc of a method
	 */
	private void calcSomething() {
	}

	/*
	 * Some lengthy comment
	 * that
	 * spans
	 * several
	 * lines
	 * 
	 */


	/**
	 * Javadoc of a method 
	 */
	public void parse() {
	}

	/**
	 * More Javadoc 
	 */
	private void addSomething() {
	}
}

Asking the source method parse for its range returns a range including the non
Java doc comment in front of it. So I get back 

        /*
	 * Some lengthy comment
	 * that
	 * spans
	 * several
	 * lines
	 * 
	 */	
	
	/**
	 * Javadoc of a method 
	 */
	public void parse() {
	}

Is this on purpose ?
I am not sure this is intended.
You would say that only the javadoc should be within the source range.
I do not think this is intentional, I'll look at it post 3.1
Reopen for 3.2
Cannot reproduce using AST View with 3.2 RC1 and 3.1.x builds.</WithOutStack>
  </Bug>
  <Bug>
    <BugId amount="100236" />
    <CreationDate amount="2005-06-15 12:58:00 -0400" />
    <DupId amount="" />
    <classification amount="Eclipse" />
    <Product amount="JDT" />
    <component amount="UI" />
    <Version amount="3.1" />
    <rep_platform amount="PC" />
    <op_sys amount="Windows XP" />
    <priority amount="P3" />
    <bug_severity amount="normal" />
    <Summery>[quick fix] Strange quick fix suggestion for mismatching type</Summery>
    <Patches amount="0" />
    <Stacktraces amount="0" />
    <SourceCodeRegions amount="2">
      <source_code type="class">
        <location start="4" end="79" />
        <code>public class A&lt;T&gt; {

	void foo() {
		A&lt;String1&gt; list= new A&lt;String&gt;();
	}
}</code>
      </source_code>
      <source_code type="assignment">
        <location start="96" end="134" />
        <code>A&lt;A&lt;String&gt;&gt; list= new A&lt;String&gt;();</code>
      </source_code>
    </SourceCodeRegions>
    <Enumerations amount="0" />
    <bug_status amount="RESOLVED" />
    <resolution amount="FIXED" />
    <WithStack>RC2
public class A&lt;T&gt; {

	void foo() {
		A&lt;String1&gt; list= new A&lt;String&gt;();
	}
}

will end up in
   A&lt;A&lt;String&gt;&gt; list= new A&lt;String&gt;();
patch for bug 99389 solves this problem
has been fixed for 3.2 M1</WithStack>
    <WithOutStack>RC2
public class A&lt;T&gt; {

	void foo() {
		A&lt;String1&gt; list= new A&lt;String&gt;();
	}
}

will end up in
   A&lt;A&lt;String&gt;&gt; list= new A&lt;String&gt;();
patch for bug 99389 solves this problem
has been fixed for 3.2 M1</WithOutStack>
  </Bug>
  <Bug>
    <BugId amount="100237" />
    <CreationDate amount="2005-06-15 13:00:00 -0400" />
    <DupId amount="" />
    <classification amount="Eclipse" />
    <Product amount="JDT" />
    <component amount="Debug" />
    <Version amount="3.1" />
    <rep_platform amount="PC" />
    <op_sys amount="Windows XP" />
    <priority amount="P3" />
    <bug_severity amount="critical" />
    <Summery>Eclipse crashes with OutOfMemory when inspecting variable during debug</Summery>
    <Patches amount="0" />
    <Stacktraces amount="0" />
    <SourceCodeRegions amount="0" />
    <Enumerations amount="0" />
    <bug_status amount="RESOLVED" />
    <resolution amount="INVALID" />
    <WithStack>I'm trying to inspect a variable while debugging some code and Eclipse
constantly crashes.

After pressing Ctrl-Shift-I, a "fetching children from debug target" message is
displayed (progress notification?) and I leave it there for a while until it
throws an OutOfMemoryException with the message:
"An out of memory error has occured. You can prevent these errors in the future
by increasing your heap size (...)"
I'm already using -Xmx256m and it just isn't possible to extend this further as
the machine only has 512MB of memory and this wasn't a problem with Eclipse 3.0.1.

The following stuff is in the log:
java.version=1.4.2_05
java.vendor=Sun Microsystems Inc.
BootLoader constants: OS=win32, ARCH=x86, WS=win32, NL=en_US
Command-line arguments:  -os win32 -ws win32 -arch x86

!ENTRY org.eclipse.core.runtime 4 2 2005-06-15 17:54:12.841
!MESSAGE An internal error occurred during: "Fetching children from debug target".
!STACK 0
java.lang.OutOfMemoryError

!ENTRY org.eclipse.ui 4 4 2005-06-15 17:54:12.857
!MESSAGE Unhandled event loop exception

!ENTRY org.eclipse.ui 4 0 2005-06-15 17:54:12.888
!MESSAGE java.lang.OutOfMemoryError
!STACK 0
java.lang.OutOfMemoryError
This bug seems to be fixed in the latest RC (RC2) which I just installed.</WithStack>
    <WithOutStack>I'm trying to inspect a variable while debugging some code and Eclipse
constantly crashes.

After pressing Ctrl-Shift-I, a "fetching children from debug target" message is
displayed (progress notification?) and I leave it there for a while until it
throws an OutOfMemoryException with the message:
"An out of memory error has occured. You can prevent these errors in the future
by increasing your heap size (...)"
I'm already using -Xmx256m and it just isn't possible to extend this further as
the machine only has 512MB of memory and this wasn't a problem with Eclipse 3.0.1.

The following stuff is in the log:
java.version=1.4.2_05
java.vendor=Sun Microsystems Inc.
BootLoader constants: OS=win32, ARCH=x86, WS=win32, NL=en_US
Command-line arguments:  -os win32 -ws win32 -arch x86

!ENTRY org.eclipse.core.runtime 4 2 2005-06-15 17:54:12.841
!MESSAGE An internal error occurred during: "Fetching children from debug target".
!STACK 0
java.lang.OutOfMemoryError

!ENTRY org.eclipse.ui 4 4 2005-06-15 17:54:12.857
!MESSAGE Unhandled event loop exception

!ENTRY org.eclipse.ui 4 0 2005-06-15 17:54:12.888
!MESSAGE java.lang.OutOfMemoryError
!STACK 0
java.lang.OutOfMemoryError
This bug seems to be fixed in the latest RC (RC2) which I just installed.</WithOutStack>
  </Bug>
  <Bug>
    <BugId amount="100238" />
    <CreationDate amount="2005-06-15 13:03:00 -0400" />
    <DupId amount="88289" />
    <classification amount="WebTools" />
    <Product amount="WTP ServerTools" />
    <component amount="wst.server" />
    <Version amount="0.7" />
    <rep_platform amount="PC" />
    <op_sys amount="Windows 2000" />
    <priority amount="P2" />
    <bug_severity amount="major" />
    <Summery>Adding ear project to generic server not possible</Summery>
    <Patches amount="0" />
    <Stacktraces amount="0" />
    <SourceCodeRegions amount="0" />
    <Enumerations amount="0" />
    <bug_status amount="CLOSED" />
    <resolution amount="DUPLICATE" />
    <WithStack>Even though the ear project has a generic server defined in it's .runtime file,
one cannot add that ear to the server. This seems to work with war files. Also,
from looking at the generic server build files in the serverdefinitions plugin
deploying ears does not seem to be supported: they only have deploy.j2ee.ejb and
deploy.j2ee.web targets, which deploy .jar and .war files. Clearly one should
also be able to deploy .ear files.


*** This bug has been marked as a duplicate of 88289 ***
See my comment of #88289:

Does not work yet for the jboss3.2.3 server definition. It needs the following
additional module definition.

&lt;module&gt;
&lt;type&gt;j2ee.ear&lt;/type&gt;
&lt;publishDir&gt;${serverRootDirectory}/server/${serverConfig}/deploy&lt;/publishDir&gt;	
&lt;publisherReference&gt;org.eclipse.jst.server.generic.antpublisher&lt;/publisherReference&gt;
&lt;/module&gt;
Seems that is has been assigned to me by error


*** This bug has been marked as a duplicate of 88289 ***
Closing old bugs that haven't had any activity in a long time.</WithStack>
    <WithOutStack>Even though the ear project has a generic server defined in it's .runtime file,
one cannot add that ear to the server. This seems to work with war files. Also,
from looking at the generic server build files in the serverdefinitions plugin
deploying ears does not seem to be supported: they only have deploy.j2ee.ejb and
deploy.j2ee.web targets, which deploy .jar and .war files. Clearly one should
also be able to deploy .ear files.


*** This bug has been marked as a duplicate of 88289 ***
See my comment of #88289:

Does not work yet for the jboss3.2.3 server definition. It needs the following
additional module definition.

&lt;module&gt;
&lt;type&gt;j2ee.ear&lt;/type&gt;
&lt;publishDir&gt;${serverRootDirectory}/server/${serverConfig}/deploy&lt;/publishDir&gt;	
&lt;publisherReference&gt;org.eclipse.jst.server.generic.antpublisher&lt;/publisherReference&gt;
&lt;/module&gt;
Seems that is has been assigned to me by error


*** This bug has been marked as a duplicate of 88289 ***
Closing old bugs that haven't had any activity in a long time.</WithOutStack>
  </Bug>
  <Bug>
    <BugId amount="100239" />
    <CreationDate amount="2005-06-15 13:03:00 -0400" />
    <DupId amount="" />
    <classification amount="Tools" />
    <Product amount="TPTP Profiling" />
    <component amount="Platform.UI.Charting" />
    <Version amount="4.0" />
    <rep_platform amount="PC" />
    <op_sys amount="Windows XP" />
    <priority amount="P3" />
    <bug_severity amount="critical" />
    <Summery>SWT renderer does not render meter charts correctly.</Summery>
    <Patches amount="0" />
    <Stacktraces amount="0" />
    <SourceCodeRegions amount="0" />
    <Enumerations amount="0" />
    <bug_status amount="CLOSED" />
    <resolution amount="FIXED" />
    <WithStack>The meter charts don't show a needle or hot zones.  The only thing that is 
displayed are the scale and a dot in the middle of the meter.  I will attached 
what the svg file shows and what the swt renderer shows so that you can 
compare.  I'll also provide the input file.
Created attachment 23221
meter input file
Created attachment 23222
swt meter chart image
Created attachment 23223
svg meter chart image
EM: fixed
Created attachment 23362
image showing the problem with the swt renderer
Created attachment 23363
common input file that produces the problem.
I get a problem with one of the test cases.  The SWT renderer can't seem to 
produce a meter that problem rendering meter chart that does not have any 
marker lines defined.  I'm attaching the meter file that is causing a problem 
and the image it produces.  This problem occurs in the following test cases:

org.eclipse.tptp.platform.report.tests\testcases\cim\meter\meter2.xml
org.eclipse.tptp.platform.report.tests\testcases\cim\meter\meter4.xml
org.eclipse.tptp.platform.report.tests\testcases\cim\meter\meter5.xml
org.eclipse.tptp.platform.report.tests\testcases\cim\meter\meter6.xml
org.eclipse.tptp.platform.report.tests\testcases\cim\meter\meter7.xml
EM: fixed
Verified with testcases.</WithStack>
    <WithOutStack>The meter charts don't show a needle or hot zones.  The only thing that is 
displayed are the scale and a dot in the middle of the meter.  I will attached 
what the svg file shows and what the swt renderer shows so that you can 
compare.  I'll also provide the input file.
Created attachment 23221
meter input file
Created attachment 23222
swt meter chart image
Created attachment 23223
svg meter chart image
EM: fixed
Created attachment 23362
image showing the problem with the swt renderer
Created attachment 23363
common input file that produces the problem.
I get a problem with one of the test cases.  The SWT renderer can't seem to 
produce a meter that problem rendering meter chart that does not have any 
marker lines defined.  I'm attaching the meter file that is causing a problem 
and the image it produces.  This problem occurs in the following test cases:

org.eclipse.tptp.platform.report.tests\testcases\cim\meter\meter2.xml
org.eclipse.tptp.platform.report.tests\testcases\cim\meter\meter4.xml
org.eclipse.tptp.platform.report.tests\testcases\cim\meter\meter5.xml
org.eclipse.tptp.platform.report.tests\testcases\cim\meter\meter6.xml
org.eclipse.tptp.platform.report.tests\testcases\cim\meter\meter7.xml
EM: fixed
Verified with testcases.</WithOutStack>
  </Bug>
  <Bug>
    <BugId amount="100240" />
    <CreationDate amount="2005-06-15 13:08:00 -0400" />
    <DupId amount="" />
    <classification amount="Eclipse" />
    <Product amount="JDT" />
    <component amount="UI" />
    <Version amount="3.1" />
    <rep_platform amount="PC" />
    <op_sys amount="Windows XP" />
    <priority amount="P3" />
    <bug_severity amount="normal" />
    <Summery>[package explorer] Open/Close Project while Filter Dropdown is visible results in strange Popup resizing</Summery>
    <Patches amount="0" />
    <Stacktraces amount="0" />
    <SourceCodeRegions amount="0" />
    <Enumerations amount="1">
      <Enumeration lines="3">
        <Lines>
          <Line>1.) Open or Close a Project that is quite big. I used org.eclipse.swt</Line>
          <Line>2.) While the operation is performing in the background, open the dropdown (see</Line>
          <Line>attached screenshot)</Line>
        </Lines>
      </Enumeration>
    </Enumerations>
    <bug_status amount="RESOLVED" />
    <resolution amount="WONTFIX" />
    <WithStack>Version: 3.1.0
Build id: I20050610-1757 (RC2)

Steps to reproduce:
1.) Open or Close a Project that is quite big. I used org.eclipse.swt
2.) While the operation is performing in the background, open the dropdown (see
attached screenshot)

Actual Results:
The Popup is resizing and flashing for some time

Expected Results:
No flashing

Regards,
Ben
Created attachment 23225
Dropdown looking good
Created attachment 23226
Dropdown looking bad while operation is running
Unhappy, but not critical for 3.1.
As of now 'LATER' and 'REMIND' resolutions are no longer supported.
Please reopen this bug if it is still valid for you.</WithStack>
    <WithOutStack>Version: 3.1.0
Build id: I20050610-1757 (RC2)

Steps to reproduce:
1.) Open or Close a Project that is quite big. I used org.eclipse.swt
2.) While the operation is performing in the background, open the dropdown (see
attached screenshot)

Actual Results:
The Popup is resizing and flashing for some time

Expected Results:
No flashing

Regards,
Ben
Created attachment 23225
Dropdown looking good
Created attachment 23226
Dropdown looking bad while operation is running
Unhappy, but not critical for 3.1.
As of now 'LATER' and 'REMIND' resolutions are no longer supported.
Please reopen this bug if it is still valid for you.</WithOutStack>
  </Bug>
  <Bug>
    <BugId amount="100241" />
    <CreationDate amount="2005-06-15 13:35:00 -0400" />
    <DupId amount="" />
    <classification amount="Eclipse" />
    <Product amount="Platform" />
    <component amount="Ant" />
    <Version amount="3.0.2" />
    <rep_platform amount="All" />
    <op_sys amount="All" />
    <priority amount="P3" />
    <bug_severity amount="enhancement" />
    <Summery>Split up org.eclipse.ui.externaltools into core and ui components</Summery>
    <Patches amount="0" />
    <Stacktraces amount="0" />
    <SourceCodeRegions amount="0" />
    <Enumerations amount="0" />
    <bug_status amount="RESOLVED" />
    <resolution amount="WONTFIX" />
    <WithStack>MontaVista Software provides a command-line build tool which must not have any
dependency on any UI components.  It does not work on projects which has one or
more external builder defined because of the dependency on
org.eclipse.ui.externaltools.

This is a request to split up the externaltools plugin into a core and ui
component and have the external builder attributes (ATTR_RUN_BUILD_KINDS.
ATTR_WORKING_DIRECTORY,ATTR_LOCATION,  ProgramBuilderLaunchConfigurationType,
etc.) saved in the core component.
Deferred for post 3.1 consideration.
As of now 'LATER' and 'REMIND' resolutions are no longer supported.
Please reopen this bug if it is still valid for you.</WithStack>
    <WithOutStack>MontaVista Software provides a command-line build tool which must not have any
dependency on any UI components.  It does not work on projects which has one or
more external builder defined because of the dependency on
org.eclipse.ui.externaltools.

This is a request to split up the externaltools plugin into a core and ui
component and have the external builder attributes (ATTR_RUN_BUILD_KINDS.
ATTR_WORKING_DIRECTORY,ATTR_LOCATION,  ProgramBuilderLaunchConfigurationType,
etc.) saved in the core component.
Deferred for post 3.1 consideration.
As of now 'LATER' and 'REMIND' resolutions are no longer supported.
Please reopen this bug if it is still valid for you.</WithOutStack>
  </Bug>
  <Bug>
    <BugId amount="100242" />
    <CreationDate amount="2005-06-15 13:36:00 -0400" />
    <DupId amount="" />
    <classification amount="Tools" />
    <Product amount="CDT" />
    <component amount="cdt-build" />
    <Version amount="3.0" />
    <rep_platform amount="PC" />
    <op_sys amount="Windows XP" />
    <priority amount="P3" />
    <bug_severity amount="normal" />
    <Summery>[Managed Builder Project]: Some UI issues on the dialog New Project</Summery>
    <Patches amount="0" />
    <Stacktraces amount="0" />
    <SourceCodeRegions amount="0" />
    <Enumerations amount="1">
      <Enumeration lines="6">
        <Lines>
          <Line>1. checking "Show All Project Types" will also check "Show All Configurations"</Line>
          <Line>2. Uncheck one of configurations, and check/uncheck any check box below, the</Line>
          <Line>configuration will be re-checked.</Line>
          <Line>bring this issue the managed builder folks</Line>
          <Line>The behavior of this dialog is actually more complex than described below, and</Line>
          <Line>for reasons that may not be immediately apparent.</Line>
        </Lines>
      </Enumeration>
    </Enumerations>
    <bug_status amount="RESOLVED" />
    <resolution amount="INVALID" />
    <WithStack>New-&gt;managed make C project-&gt;enter name and next:
1. checking "Show All Project Types" will also check "Show All Configurations"
2. Uncheck one of configurations, and check/uncheck any check box below, the 
configuration will be re-checked.
bring this issue the managed builder folks
The behavior of this dialog is actually more complex than described below, and 
for reasons that may not be immediately apparent.  

Regarding #1, when the user checks "Show All Project Types", project types will 
be displayed that are not supported on the host system.  When one of these 
project types is selected, if "Show All Configurations" is not selected, no 
configurations will be displayed, becuase if the project type is not supported, 
the configurations are not supported either.  If you select a supported project 
type, you'll notice that the "Show All Configurations" state will revert to the 
state that the user selected.  That is, "Show All Configurations" is only 
automatically set for unsupported project types.

Regarding #2, when the user changes the setting of "Show All Project Types", 
often the selected project type changes and therefore the list of selected 
configurations changes - we default to selecting all supported configurations.

Let me know whether this explains the behavior you are seeing.  I hope we will 
have time to update the documentation of this dialog.

The UI has changed since this was filed, and does not behave like this any more.</WithStack>
    <WithOutStack>New-&gt;managed make C project-&gt;enter name and next:
1. checking "Show All Project Types" will also check "Show All Configurations"
2. Uncheck one of configurations, and check/uncheck any check box below, the 
configuration will be re-checked.
bring this issue the managed builder folks
The behavior of this dialog is actually more complex than described below, and 
for reasons that may not be immediately apparent.  

Regarding #1, when the user checks "Show All Project Types", project types will 
be displayed that are not supported on the host system.  When one of these 
project types is selected, if "Show All Configurations" is not selected, no 
configurations will be displayed, becuase if the project type is not supported, 
the configurations are not supported either.  If you select a supported project 
type, you'll notice that the "Show All Configurations" state will revert to the 
state that the user selected.  That is, "Show All Configurations" is only 
automatically set for unsupported project types.

Regarding #2, when the user changes the setting of "Show All Project Types", 
often the selected project type changes and therefore the list of selected 
configurations changes - we default to selecting all supported configurations.

Let me know whether this explains the behavior you are seeing.  I hope we will 
have time to update the documentation of this dialog.

The UI has changed since this was filed, and does not behave like this any more.</WithOutStack>
  </Bug>
  <Bug>
    <BugId amount="100243" />
    <CreationDate amount="2005-06-15 13:40:00 -0400" />
    <DupId amount="" />
    <classification amount="Eclipse" />
    <Product amount="JDT" />
    <component amount="UI" />
    <Version amount="3.1" />
    <rep_platform amount="PC" />
    <op_sys amount="Linux" />
    <priority amount="P3" />
    <bug_severity amount="trivial" />
    <Summery>Punctuation error in RC1</Summery>
    <Patches amount="0" />
    <Stacktraces amount="0" />
    <SourceCodeRegions amount="0" />
    <Enumerations amount="0" />
    <bug_status amount="VERIFIED" />
    <resolution amount="FIXED" />
    <WithStack>"Show in Package Explorer" brings up a dialog box that says "Cannot reveal the
selected element. Do you want to remove some filters to reveal the element."
Should be a period at the end, not a question mark.
Created attachment 23252
Proposed patch
+1 for RC3.

Daniel, can you please cast your vote.
+1 for 3.1 RC3
Fix reviewed by Markus Keller. Released for &gt;= 20050616-1200
Verified by code inspection using N20050616-0010 + ZRH plugin export</WithStack>
    <WithOutStack>"Show in Package Explorer" brings up a dialog box that says "Cannot reveal the
selected element. Do you want to remove some filters to reveal the element."
Should be a period at the end, not a question mark.
Created attachment 23252
Proposed patch
+1 for RC3.

Daniel, can you please cast your vote.
+1 for 3.1 RC3
Fix reviewed by Markus Keller. Released for &gt;= 20050616-1200
Verified by code inspection using N20050616-0010 + ZRH plugin export</WithOutStack>
  </Bug>
  <Bug>
    <BugId amount="100244" />
    <CreationDate amount="2005-06-15 13:46:00 -0400" />
    <DupId amount="" />
    <classification amount="Eclipse" />
    <Product amount="JDT" />
    <component amount="UI" />
    <Version amount="3.1" />
    <rep_platform amount="PC" />
    <op_sys amount="Windows XP" />
    <priority amount="P3" />
    <bug_severity amount="normal" />
    <Summery>[package explorer] Callers to #members need to check accessibility</Summery>
    <Patches amount="0" />
    <Stacktraces amount="0" />
    <SourceCodeRegions amount="1">
      <source_code type="functioncall">
        <location start="313" end="343" />
        <code>return project.members();</code>
      </source_code>
    </SourceCodeRegions>
    <Enumerations amount="0" />
    <bug_status amount="VERIFIED" />
    <resolution amount="FIXED" />
    <WithStack>build n0615

IContainer#members is spec'd to throw a CoreException if it is called on a
closed project. This has not been behaving correctly and will be changed in 3.2.
(bug 98740)

Proper behaviour is to check to see if the project exists and is open before
asking for its children.
   if (project.isAccessible)
     return project.members();

See PackageExplorerContentProvider#getChildren for one example of a place that
doesn't check.
Created attachment 98425
proposed patch
ok, except unnecessary cast in JavaEditorBreadcrumb, use 'project' instead.
patch released &gt; 20080507
Verified in I20080516-1333.</WithStack>
    <WithOutStack>build n0615

IContainer#members is spec'd to throw a CoreException if it is called on a
closed project. This has not been behaving correctly and will be changed in 3.2.
(bug 98740)

Proper behaviour is to check to see if the project exists and is open before
asking for its children.
   if (project.isAccessible)
     return project.members();

See PackageExplorerContentProvider#getChildren for one example of a place that
doesn't check.
Created attachment 98425
proposed patch
ok, except unnecessary cast in JavaEditorBreadcrumb, use 'project' instead.
patch released &gt; 20080507
Verified in I20080516-1333.</WithOutStack>
  </Bug>
  <Bug>
    <BugId amount="100245" />
    <CreationDate amount="2005-06-15 13:52:00 -0400" />
    <DupId amount="" />
    <classification amount="Eclipse" />
    <Product amount="Platform" />
    <component amount="SWT" />
    <Version amount="3.1" />
    <rep_platform amount="PC" />
    <op_sys amount="Windows XP" />
    <priority amount="P3" />
    <bug_severity amount="enhancement" />
    <Summery>[DND] Make it possible to drag the selected text out of the Text widget</Summery>
    <Patches amount="0" />
    <Stacktraces amount="0" />
    <SourceCodeRegions amount="0" />
    <Enumerations amount="1">
      <Enumeration lines="9">
        <Lines>
          <Line>- if the button is pressed outside the selection, a new range is selected and</Line>
          <Line>the drag operation is not started</Line>
          <Line>- if the button is pressed inside the selection, the drag operation is started</Line>
          <Line>It's not possible to implement such a behaviour in a Text widget because:</Line>
          <Line>- as soon as the button is pressed, the selection is reset, so</Line>
          <Line>Text.getSelectionCount() always returns 0 when invoked from</Line>
          <Line>DragSourceListener.dragStart()</Line>
          <Line>- there's no API to check if the drag operation started over the selection (the</Line>
          <Line>closest thing is Text.getCaretPosition())</Line>
        </Lines>
      </Enumeration>
    </Enumerations>
    <bug_status amount="RESOLVED" />
    <resolution amount="WORKSFORME" />
    <WithStack>While it is possible to start the drag operation from the Text widget, the way
it works makes it impossible to drag the selected text. In some editors it works
as follows:
- if the button is pressed outside the selection, a new range is selected and
the drag operation is not started
- if the button is pressed inside the selection, the drag operation is started
It's not possible to implement such a behaviour in a Text widget because:
- as soon as the button is pressed, the selection is reset, so
Text.getSelectionCount() always returns 0 when invoked from
DragSourceListener.dragStart()
- there's no API to check if the drag operation started over the selection (the
closest thing is Text.getCaretPosition())

I know this functionality might be not available directly from the widget (or
maybe on other platforms it is?), so I'm just looking for a way to implement it
myself.
See also bug 106372.
Tested with the DNDExample and there doesn't appear to be a problem.
WORKSFORME.</WithStack>
    <WithOutStack>While it is possible to start the drag operation from the Text widget, the way
it works makes it impossible to drag the selected text. In some editors it works
as follows:
- if the button is pressed outside the selection, a new range is selected and
the drag operation is not started
- if the button is pressed inside the selection, the drag operation is started
It's not possible to implement such a behaviour in a Text widget because:
- as soon as the button is pressed, the selection is reset, so
Text.getSelectionCount() always returns 0 when invoked from
DragSourceListener.dragStart()
- there's no API to check if the drag operation started over the selection (the
closest thing is Text.getCaretPosition())

I know this functionality might be not available directly from the widget (or
maybe on other platforms it is?), so I'm just looking for a way to implement it
myself.
See also bug 106372.
Tested with the DNDExample and there doesn't appear to be a problem.
WORKSFORME.</WithOutStack>
  </Bug>
  <Bug>
    <BugId amount="100246" />
    <CreationDate amount="2005-06-15 13:54:00 -0400" />
    <DupId amount="" />
    <classification amount="Eclipse" />
    <Product amount="Platform" />
    <component amount="Resources" />
    <Version amount="3.1" />
    <rep_platform amount="PC" />
    <op_sys amount="Windows XP" />
    <priority amount="P3" />
    <bug_severity amount="normal" />
    <Summery>Forever refresh when creating new closed project on previous content</Summery>
    <Patches amount="0" />
    <Stacktraces amount="0" />
    <SourceCodeRegions amount="0" />
    <Enumerations amount="1">
      <Enumeration lines="9">
        <Lines>
          <Line>- create project foo</Line>
          <Line>- delete project, do not delete contents</Line>
          <Line>- programatically create project but do not open it</Line>
          <Line>- look in the Navigator view</Line>
          <Line>- open the Progress View</Line>
          <Line>- note that there is a refresh job that never completes</Line>
          <Line>This is happening because we haven't fixed bug 98740. We will investigate</Line>
          <Line>putting in a work-around for this and then fix the related bug for 3.2. (since</Line>
          <Line>we don't know the effect that it will have on downstream clients)</Line>
        </Lines>
      </Enumeration>
    </Enumerations>
    <bug_status amount="RESOLVED" />
    <resolution amount="FIXED" />
    <WithStack>build n0615


- create project foo
- delete project, do not delete contents
- programatically create project but do not open it
- look in the Navigator view
- open the Progress View
- note that there is a refresh job that never completes
This is happening because we haven't fixed bug 98740. We will investigate
putting in a work-around for this and then fix the related bug for 3.2. (since
we don't know the effect that it will have on downstream clients)

Created attachment 23329
patch for Container.java

Patch which works around bug 98740.
Rafael, please review.
+1 
Patch looks good.

DJ, could you clarify on why the refresh job never finishes?
The job actually almost finishes at the end when it is cleaning up it asks the
project for its members which calls #refresh again because the
has_unknown_children flag is still set. 

Rather than playing with the value of this flag, I decided to only do the
refresh if the resource is accessible. The answer isn't completely right (if you
expand the closed project in the Package Explorer you will see the .project
file) but playing with that flag is risky at this point.
Released to HEAD.</WithStack>
    <WithOutStack>build n0615


- create project foo
- delete project, do not delete contents
- programatically create project but do not open it
- look in the Navigator view
- open the Progress View
- note that there is a refresh job that never completes
This is happening because we haven't fixed bug 98740. We will investigate
putting in a work-around for this and then fix the related bug for 3.2. (since
we don't know the effect that it will have on downstream clients)

Created attachment 23329
patch for Container.java

Patch which works around bug 98740.
Rafael, please review.
+1 
Patch looks good.

DJ, could you clarify on why the refresh job never finishes?
The job actually almost finishes at the end when it is cleaning up it asks the
project for its members which calls #refresh again because the
has_unknown_children flag is still set. 

Rather than playing with the value of this flag, I decided to only do the
refresh if the resource is accessible. The answer isn't completely right (if you
expand the closed project in the Package Explorer you will see the .project
file) but playing with that flag is risky at this point.
Released to HEAD.</WithOutStack>
  </Bug>
  <Bug>
    <BugId amount="100247" />
    <CreationDate amount="2005-06-15 13:54:00 -0400" />
    <DupId amount="" />
    <classification amount="WebTools" />
    <Product amount="WTP EJB Tools" />
    <component amount="jst.ejb" />
    <Version amount="0.7" />
    <rep_platform amount="PC" />
    <op_sys amount="Windows XP" />
    <priority amount="P3" />
    <bug_severity amount="blocker" />
    <Summery>Deployment Descriptor always loads dirty when...</Summery>
    <Patches amount="0" />
    <Stacktraces amount="0" />
    <SourceCodeRegions amount="4">
      <source_code type="assignment">
        <location start="307" end="335" />
        <code>EJBArtifactEdit edit = null;</code>
      </source_code>
      <source_code type="singlecomment">
        <location start="443" end="479" />
        <code>//doing some work</code>
      </source_code>
      <source_code type="functioncall">
        <location start="507" end="554" />
        <code>edit.saveIfNecessary(null);</code>
      </source_code>
      <source_code type="functioncall">
        <location start="555" end="590" />
        <code>edit.dispose();</code>
      </source_code>
    </SourceCodeRegions>
    <Enumerations amount="0" />
    <bug_status amount="CLOSED" />
    <resolution amount="FIXED" />
    <WithStack>Ater modifing the EJBArtifactEdit the deployment descriptor always loads dirty
and is locked from me saving the file.  The Navigator view shows the updates to 
the model, but the underlying deployment descriptor does not.

I am doing classic release save an release access, but it file always opens dirty.

EJBArtifactEdit edit = null;
                try {
                    edit = EJBArtifactEdit.getEJBArtifactEditForWrite(handle);      
                  //doing some work
                } finally {
                    edit.saveIfNecessary(null);
                    edit.dispose();
                }
This is fixed in the 0615I WTP build
We moved up to the 6/17 WTP and this is still a problem.
As per our discussion I can not reproduce in current builds....please reopne if
you still see it in the 6.23 Ibuild.  Also add any source code you can that
would help us create a test case to reproduce.
This is still a problem.  I put in some debug info and it seems as if
the model is not saving because the client access registry count is greater then
0.  I do not know what is bumping it up as I am accessing the edit model in only
one place.
Sachin,
I'm unable to reproduce when doing this accessing shown below (obviously i don't
know what "work" you are doing but my guess is that would be were the count is
getting messed up.  The only way to get ot the root of this is to get me the
exact code you are running and the exact situation you are doing it in otherwise
the senerio is useless or you can put a break point where the editmodel
read/write count get and release methods .  Please just email the details and
code i need or there is no way to reproduce on my end.
Fix released 6.27.  I'll let you know which build it will be in for you to verify
Fixed
This ia part of a mass update, marking fixed blockers older than 6 months as automatically verified (the logic being it must be fixed or we sure would have heard about it!) As always, feel free to re-open if not fixed! 

Closing.</WithStack>
    <WithOutStack>Ater modifing the EJBArtifactEdit the deployment descriptor always loads dirty
and is locked from me saving the file.  The Navigator view shows the updates to 
the model, but the underlying deployment descriptor does not.

I am doing classic release save an release access, but it file always opens dirty.

EJBArtifactEdit edit = null;
                try {
                    edit = EJBArtifactEdit.getEJBArtifactEditForWrite(handle);      
                  //doing some work
                } finally {
                    edit.saveIfNecessary(null);
                    edit.dispose();
                }
This is fixed in the 0615I WTP build
We moved up to the 6/17 WTP and this is still a problem.
As per our discussion I can not reproduce in current builds....please reopne if
you still see it in the 6.23 Ibuild.  Also add any source code you can that
would help us create a test case to reproduce.
This is still a problem.  I put in some debug info and it seems as if
the model is not saving because the client access registry count is greater then
0.  I do not know what is bumping it up as I am accessing the edit model in only
one place.
Sachin,
I'm unable to reproduce when doing this accessing shown below (obviously i don't
know what "work" you are doing but my guess is that would be were the count is
getting messed up.  The only way to get ot the root of this is to get me the
exact code you are running and the exact situation you are doing it in otherwise
the senerio is useless or you can put a break point where the editmodel
read/write count get and release methods .  Please just email the details and
code i need or there is no way to reproduce on my end.
Fix released 6.27.  I'll let you know which build it will be in for you to verify
Fixed
This ia part of a mass update, marking fixed blockers older than 6 months as automatically verified (the logic being it must be fixed or we sure would have heard about it!) As always, feel free to re-open if not fixed! 

Closing.</WithOutStack>
  </Bug>
  <Bug>
    <BugId amount="100248" />
    <CreationDate amount="2005-06-15 13:56:00 -0400" />
    <DupId amount="" />
    <classification amount="Tools" />
    <Product amount="CDT" />
    <component amount="cdt-parser" />
    <Version amount="3.0" />
    <rep_platform amount="PC" />
    <op_sys amount="Windows XP" />
    <priority amount="P3" />
    <bug_severity amount="normal" />
    <Summery>[DOM AST] NPE in AbstractGNUSourceCodeParser.calculateEndOffset(..)</Summery>
    <Patches amount="0" />
    <Stacktraces amount="1">
      <Stacktrace timestamp="1437330544414">
        <Exception>java.lang.NullPointerException</Exception>
        <Reason />
        <Frames>
          <Frame depth="0">org.eclipse.cdt.internal.core.dom.parser.AbstractGNUSourceCodeParser.calculateEndOffset(AbstractGNUSourceCodeParser.java:182)</Frame>
          <Frame depth="1">org.eclipse.cdt.internal.core.dom.parser.cpp.GNUCPPSourceParser.postfixExpression(GNUCPPSourceParser.java:1627)</Frame>
          <Frame depth="2">org.eclipse.cdt.internal.core.dom.parser.cpp.GNUCPPSourceParser.unaryExpression(GNUCPPSourceParser.java:1357)</Frame>
          <Frame depth="3">org.eclipse.cdt.internal.core.dom.parser.cpp.GNUCPPSourceParser.castExpression(GNUCPPSourceParser.java:937)</Frame>
          <Frame depth="4">org.eclipse.cdt.internal.core.dom.parser.cpp.GNUCPPSourceParser.pmExpression(GNUCPPSourceParser.java:869)</Frame>
          <Frame depth="5">org.eclipse.cdt.internal.core.dom.parser.cpp.GNUCPPSourceParser.multiplicativeExpression(GNUCPPSourceParser.java:832)</Frame>
          <Frame depth="6">org.eclipse.cdt.internal.core.dom.parser.AbstractGNUSourceCodeParser.additiveExpression(AbstractGNUSourceCodeParser.java:836)</Frame>
          <Frame depth="7">org.eclipse.cdt.internal.core.dom.parser.AbstractGNUSourceCodeParser.shiftExpression(AbstractGNUSourceCodeParser.java:811)</Frame>
          <Frame depth="8">org.eclipse.cdt.internal.core.dom.parser.cpp.GNUCPPSourceParser.relationalExpression(GNUCPPSourceParser.java:760)</Frame>
          <Frame depth="9">org.eclipse.cdt.internal.core.dom.parser.AbstractGNUSourceCodeParser.equalityExpression(AbstractGNUSourceCodeParser.java:765)</Frame>
          <Frame depth="10">org.eclipse.cdt.internal.core.dom.parser.AbstractGNUSourceCodeParser.andExpression(AbstractGNUSourceCodeParser.java:748)</Frame>
          <Frame depth="11">org.eclipse.cdt.internal.core.dom.parser.AbstractGNUSourceCodeParser.exclusiveOrExpression(AbstractGNUSourceCodeParser.java:730)</Frame>
          <Frame depth="12">org.eclipse.cdt.internal.core.dom.parser.AbstractGNUSourceCodeParser.inclusiveOrExpression(AbstractGNUSourceCodeParser.java:713)</Frame>
          <Frame depth="13">org.eclipse.cdt.internal.core.dom.parser.AbstractGNUSourceCodeParser.logicalAndExpression(AbstractGNUSourceCodeParser.java:696)</Frame>
          <Frame depth="14">org.eclipse.cdt.internal.core.dom.parser.AbstractGNUSourceCodeParser.logicalOrExpression(AbstractGNUSourceCodeParser.java:679)</Frame>
          <Frame depth="15">org.eclipse.cdt.internal.core.dom.parser.AbstractGNUSourceCodeParser.conditionalExpression(AbstractGNUSourceCodeParser.java:862)</Frame>
          <Frame depth="16">org.eclipse.cdt.internal.core.dom.parser.cpp.GNUCPPSourceParser.assignmentExpression(GNUCPPSourceParser.java:685)</Frame>
          <Frame depth="17">org.eclipse.cdt.internal.core.dom.parser.AbstractGNUSourceCodeParser.expression(AbstractGNUSourceCodeParser.java:602)</Frame>
          <Frame depth="18">org.eclipse.cdt.internal.core.dom.parser.cpp.GNUCPPSourceParser.declarator(GNUCPPSourceParser.java:3843)</Frame>
          <Frame depth="19">org.eclipse.cdt.internal.core.dom.parser.cpp.GNUCPPSourceParser.initDeclarator(GNUCPPSourceParser.java:3644)</Frame>
          <Frame depth="20">org.eclipse.cdt.internal.core.dom.parser.cpp.GNUCPPSourceParser.initDeclarator(GNUCPPSourceParser.java:3626)</Frame>
          <Frame depth="21">org.eclipse.cdt.internal.core.dom.parser.AbstractGNUSourceCodeParser.lookAheadForDeclarator(AbstractGNUSourceCodeParser.java:1072)</Frame>
          <Frame depth="22">org.eclipse.cdt.internal.core.dom.parser.cpp.GNUCPPSourceParser.declSpecifierSeq(GNUCPPSourceParser.java:3352)</Frame>
          <Frame depth="23">org.eclipse.cdt.internal.core.dom.parser.cpp.GNUCPPSourceParser.simpleDeclaration(GNUCPPSourceParser.java:2840)</Frame>
          <Frame depth="24">org.eclipse.cdt.internal.core.dom.parser.cpp.GNUCPPSourceParser.simpleDeclarationStrategyUnion(GNUCPPSourceParser.java:2462)</Frame>
          <Frame depth="25">org.eclipse.cdt.internal.core.dom.parser.cpp.GNUCPPSourceParser.declaration(GNUCPPSourceParser.java:2452)</Frame>
          <Frame depth="26">org.eclipse.cdt.internal.core.dom.parser.cpp.GNUCPPSourceParser.classSpecifier(GNUCPPSourceParser.java:4278)</Frame>
          <Frame depth="27">org.eclipse.cdt.internal.core.dom.parser.cpp.GNUCPPSourceParser.declSpecifierSeq(GNUCPPSourceParser.java:3409)</Frame>
          <Frame depth="28">org.eclipse.cdt.internal.core.dom.parser.cpp.GNUCPPSourceParser.simpleDeclaration(GNUCPPSourceParser.java:2840)</Frame>
          <Frame depth="29">org.eclipse.cdt.internal.core.dom.parser.cpp.GNUCPPSourceParser.simpleDeclarationStrategyUnion(GNUCPPSourceParser.java:2462)</Frame>
          <Frame depth="30">org.eclipse.cdt.internal.core.dom.parser.cpp.GNUCPPSourceParser.declaration(GNUCPPSourceParser.java:2452)</Frame>
          <Frame depth="31">org.eclipse.cdt.internal.core.dom.parser.cpp.GNUCPPSourceParser.translationUnit(GNUCPPSourceParser.java:4593)</Frame>
          <Frame depth="32">org.eclipse.cdt.internal.core.dom.parser.AbstractGNUSourceCodeParser.parse(AbstractGNUSourceCodeParser.java:405)</Frame>
          <Frame depth="33">org.eclipse.cdt.internal.core.dom.InternalASTServiceProvider.getTranslationUnit(InternalASTServiceProvider.java:168)</Frame>
          <Frame depth="34">org.eclipse.cdt.internal.core.dom.InternalASTServiceProvider.getTranslationUnit(InternalASTServiceProvider.java:78)</Frame>
          <Frame depth="35">org.eclipse.cdt.core.dom.CDOM.getTranslationUnit(CDOM.java:130)</Frame>
          <Frame depth="36">org.eclipse.cdt.internal.core.index.domsourceindexer.DOMSourceIndexerRunner.indexFile(DOMSourceIndexerRunner.java:116)</Frame>
          <Frame depth="37">org.eclipse.cdt.internal.core.index.domsourceindexer.AbstractIndexerRunner.index(AbstractIndexerRunner.java:76)</Frame>
          <Frame depth="38">org.eclipse.cdt.internal.core.index.cindexstorage.Index.add(Index.java:110)</Frame>
          <Frame depth="39">org.eclipse.cdt.internal.core.index.domsourceindexer.DOMAddCompilationUnitToIndex.indexDocument(DOMAddCompilationUnitToIndex.java:29)</Frame>
          <Frame depth="40">org.eclipse.cdt.internal.core.index.domsourceindexer.DOMAddFileToIndex.execute(DOMAddFileToIndex.java:60)</Frame>
          <Frame depth="41">org.eclipse.cdt.internal.core.search.processing.JobManager.run(JobManager.java:466)</Frame>
          <Frame depth="42">java.lang.Thread.run(Thread.java:534)</Frame>
        </Frames>
      </Stacktrace>
    </Stacktraces>
    <SourceCodeRegions amount="0" />
    <Enumerations amount="0" />
    <bug_status amount="RESOLVED" />
    <resolution amount="FIXED" />
    <WithStack>File parsed:
...\wxWidgets-2.6.0\include\wx\dynarray.h line: 957

Translation unit:
...\wxWidgets-2.6.0\src\xrc\xh_wizrd.cpp

Stack trace:

GNUCPPSourceParser(AbstractGNUSourceCodeParser).calculateEndOffset(IASTNode)
line: 184
GNUCPPSourceParser(AbstractGNUSourceCodeParser).figureEndOffset(IASTDeclSpecifier,
IASTDeclarator) line: 2075
GNUCPPSourceParser.typeId(boolean) line: 962
GNUCPPSourceParser.castExpression() line: 912
GNUCPPSourceParser.castExpression() line: 923
GNUCPPSourceParser.pmExpression() line: 867
GNUCPPSourceParser.multiplicativeExpression() line: 830
GNUCPPSourceParser(AbstractGNUSourceCodeParser).additiveExpression() line: 838
GNUCPPSourceParser(AbstractGNUSourceCodeParser).shiftExpression() line: 813
GNUCPPSourceParser.relationalExpression() line: 758
GNUCPPSourceParser(AbstractGNUSourceCodeParser).equalityExpression() line: 767
GNUCPPSourceParser(AbstractGNUSourceCodeParser).andExpression() line: 750
GNUCPPSourceParser(AbstractGNUSourceCodeParser).exclusiveOrExpression() line: 732
GNUCPPSourceParser(AbstractGNUSourceCodeParser).inclusiveOrExpression() line: 715
GNUCPPSourceParser(AbstractGNUSourceCodeParser).logicalAndExpression() line: 698
GNUCPPSourceParser(AbstractGNUSourceCodeParser).logicalOrExpression() line: 681
GNUCPPSourceParser(AbstractGNUSourceCodeParser).conditionalExpression() line: 864
GNUCPPSourceParser.assignmentExpression() line: 683
GNUCPPSourceParser(AbstractGNUSourceCodeParser).expression() line: 604
GNUCPPSourceParser(AbstractGNUSourceCodeParser).parseReturnStatement() line: 1793
GNUCPPSourceParser.statement() line: 4973
GNUCPPSourceParser(AbstractGNUSourceCodeParser).compoundStatement() line: 515
GNUCPPSourceParser(AbstractGNUSourceCodeParser).functionBody() line: 1046
GNUCPPSourceParser.functionBody() line: 5306
GNUCPPSourceParser(AbstractGNUSourceCodeParser).handleFunctionBody() line: 1033
GNUCPPSourceParser.simpleDeclaration(SimpleDeclarationStrategy, boolean) line: 2954
GNUCPPSourceParser.simpleDeclarationStrategyUnion() line: 2460
GNUCPPSourceParser.declaration() line: 2450
GNUCPPSourceParser.classSpecifier() line: 4267
GNUCPPSourceParser.declSpecifierSeq(boolean, boolean) line: 3398
GNUCPPSourceParser.simpleDeclaration(SimpleDeclarationStrategy, boolean) line: 2836
GNUCPPSourceParser.simpleDeclarationStrategyUnion() line: 2460
GNUCPPSourceParser.declaration() line: 2450
GNUCPPSourceParser.translationUnit() line: 4574
GNUCPPSourceParser(AbstractGNUSourceCodeParser).parse() line: 407
InternalASTServiceProvider.getTranslationUnit(IStorage, String, IProject,
ICodeReaderFactory, IParserConfiguration) line: 174
InternalASTServiceProvider.getTranslationUnit(IFile, ICodeReaderFactory) line: 79
CDOM.getTranslationUnit(IFile, ICodeReaderFactory) line: 130
Devin can you look into this one? 
My take on it is as follows: 
a type-id should consume at least one token.  If both the declarator &amp; declspec
are null then we should backtrack out of typeId().  
I get a different stack trace when I see this NPE so originally I wanted to 
just return -1 if node==null from AbstractGNUSourceCodeParser#calculateEndOffset
().

The NPE I see is caused by a null IASTName parsed from 
GNUCPPSourceParser#idExpression().

java.lang.NullPointerException
	at 
org.eclipse.cdt.internal.core.dom.parser.AbstractGNUSourceCodeParser.calculateEn
dOffset(AbstractGNUSourceCodeParser.java:182)
	at 
org.eclipse.cdt.internal.core.dom.parser.cpp.GNUCPPSourceParser.postfixExpressio
n(GNUCPPSourceParser.java:1627)
	at 
org.eclipse.cdt.internal.core.dom.parser.cpp.GNUCPPSourceParser.unaryExpression
(GNUCPPSourceParser.java:1357)
	at 
org.eclipse.cdt.internal.core.dom.parser.cpp.GNUCPPSourceParser.castExpression
(GNUCPPSourceParser.java:937)
	at 
org.eclipse.cdt.internal.core.dom.parser.cpp.GNUCPPSourceParser.pmExpression
(GNUCPPSourceParser.java:869)
	at 
org.eclipse.cdt.internal.core.dom.parser.cpp.GNUCPPSourceParser.multiplicativeEx
pression(GNUCPPSourceParser.java:832)
	at 
org.eclipse.cdt.internal.core.dom.parser.AbstractGNUSourceCodeParser.additiveExp
ression(AbstractGNUSourceCodeParser.java:836)
	at 
org.eclipse.cdt.internal.core.dom.parser.AbstractGNUSourceCodeParser.shiftExpres
sion(AbstractGNUSourceCodeParser.java:811)
	at 
org.eclipse.cdt.internal.core.dom.parser.cpp.GNUCPPSourceParser.relationalExpres
sion(GNUCPPSourceParser.java:760)
	at 
org.eclipse.cdt.internal.core.dom.parser.AbstractGNUSourceCodeParser.equalityExp
ression(AbstractGNUSourceCodeParser.java:765)
	at 
org.eclipse.cdt.internal.core.dom.parser.AbstractGNUSourceCodeParser.andExpressi
on(AbstractGNUSourceCodeParser.java:748)
	at 
org.eclipse.cdt.internal.core.dom.parser.AbstractGNUSourceCodeParser.exclusiveOr
Expression(AbstractGNUSourceCodeParser.java:730)
	at 
org.eclipse.cdt.internal.core.dom.parser.AbstractGNUSourceCodeParser.inclusiveOr
Expression(AbstractGNUSourceCodeParser.java:713)
	at 
org.eclipse.cdt.internal.core.dom.parser.AbstractGNUSourceCodeParser.logicalAndE
xpression(AbstractGNUSourceCodeParser.java:696)
	at 
org.eclipse.cdt.internal.core.dom.parser.AbstractGNUSourceCodeParser.logicalOrEx
pression(AbstractGNUSourceCodeParser.java:679)
	at 
org.eclipse.cdt.internal.core.dom.parser.AbstractGNUSourceCodeParser.conditional
Expression(AbstractGNUSourceCodeParser.java:862)
	at 
org.eclipse.cdt.internal.core.dom.parser.cpp.GNUCPPSourceParser.assignmentExpres
sion(GNUCPPSourceParser.java:685)
	at 
org.eclipse.cdt.internal.core.dom.parser.AbstractGNUSourceCodeParser.expression
(AbstractGNUSourceCodeParser.java:602)
	at 
org.eclipse.cdt.internal.core.dom.parser.cpp.GNUCPPSourceParser.declarator
(GNUCPPSourceParser.java:3843)
	at 
org.eclipse.cdt.internal.core.dom.parser.cpp.GNUCPPSourceParser.initDeclarator
(GNUCPPSourceParser.java:3644)
	at 
org.eclipse.cdt.internal.core.dom.parser.cpp.GNUCPPSourceParser.initDeclarator
(GNUCPPSourceParser.java:3626)
	at 
org.eclipse.cdt.internal.core.dom.parser.AbstractGNUSourceCodeParser.lookAheadFo
rDeclarator(AbstractGNUSourceCodeParser.java:1072)
	at 
org.eclipse.cdt.internal.core.dom.parser.cpp.GNUCPPSourceParser.declSpecifierSeq
(GNUCPPSourceParser.java:3352)
	at 
org.eclipse.cdt.internal.core.dom.parser.cpp.GNUCPPSourceParser.simpleDeclaratio
n(GNUCPPSourceParser.java:2840)
	at 
org.eclipse.cdt.internal.core.dom.parser.cpp.GNUCPPSourceParser.simpleDeclaratio
nStrategyUnion(GNUCPPSourceParser.java:2462)
	at 
org.eclipse.cdt.internal.core.dom.parser.cpp.GNUCPPSourceParser.declaration
(GNUCPPSourceParser.java:2452)
	at 
org.eclipse.cdt.internal.core.dom.parser.cpp.GNUCPPSourceParser.classSpecifier
(GNUCPPSourceParser.java:4278)
	at 
org.eclipse.cdt.internal.core.dom.parser.cpp.GNUCPPSourceParser.declSpecifierSeq
(GNUCPPSourceParser.java:3409)
	at 
org.eclipse.cdt.internal.core.dom.parser.cpp.GNUCPPSourceParser.simpleDeclaratio
n(GNUCPPSourceParser.java:2840)
	at 
org.eclipse.cdt.internal.core.dom.parser.cpp.GNUCPPSourceParser.simpleDeclaratio
nStrategyUnion(GNUCPPSourceParser.java:2462)
	at 
org.eclipse.cdt.internal.core.dom.parser.cpp.GNUCPPSourceParser.declaration
(GNUCPPSourceParser.java:2452)
	at 
org.eclipse.cdt.internal.core.dom.parser.cpp.GNUCPPSourceParser.translationUnit
(GNUCPPSourceParser.java:4593)
	at 
org.eclipse.cdt.internal.core.dom.parser.AbstractGNUSourceCodeParser.parse
(AbstractGNUSourceCodeParser.java:405)
	at 
org.eclipse.cdt.internal.core.dom.InternalASTServiceProvider.getTranslationUnit
(InternalASTServiceProvider.java:168)
	at 
org.eclipse.cdt.internal.core.dom.InternalASTServiceProvider.getTranslationUnit
(InternalASTServiceProvider.java:78)
	at org.eclipse.cdt.core.dom.CDOM.getTranslationUnit(CDOM.java:130)
	at 
org.eclipse.cdt.internal.core.index.domsourceindexer.DOMSourceIndexerRunner.inde
xFile(DOMSourceIndexerRunner.java:116)
	at 
org.eclipse.cdt.internal.core.index.domsourceindexer.AbstractIndexerRunner.index
(AbstractIndexerRunner.java:76)
	at org.eclipse.cdt.internal.core.index.cindexstorage.Index.add
(Index.java:110)
	at 
org.eclipse.cdt.internal.core.index.domsourceindexer.DOMAddCompilationUnitToInde
x.indexDocument(DOMAddCompilationUnitToIndex.java:29)
	at 
org.eclipse.cdt.internal.core.index.domsourceindexer.DOMAddFileToIndex.execute
(DOMAddFileToIndex.java:60)
	at org.eclipse.cdt.internal.core.search.processing.JobManager.run
(JobManager.java:466)
	at java.lang.Thread.run(Thread.java:534)

The -1 is a bad idea.

This is the example from Mozilla that causes the NPE I see:
NS_FORWARD_NSIHTTPPROTOCOLHANDLER    (gHttpHandler-&gt;)

GNUCPPSourceParser#postfixExpression() parses the gHttpHandler, then the -&gt; and 
then assumes that there is a name to the right side of the -&gt; and so a null is 
passed into calculateEndOffset... although even if -1 is returned here, there 
will still be a NPE a couple of lines later via name.setParent(fieldReference)

Agreed, returning  -1 is a bad idea. 
We need to fix the grammar so that we do not encounter null nodes.  
The NPE I am seeing is being caused in Windows because the grammar is invalid.

NS_FORWARD_NSIHTTPPROTOCOLHANDLER is only defined in the object directory when 
Mozilla is built (since we are not building Mozilla in Windows, we are missing 
the object directory and corresponding source code).  An example is the file 
mozilla/netwerk/protocol/http/src/nsHttpHandler.h, which has several broken 
#includes.  The broken #include nsIHttpProtocolHandler.h is found in Linux in 
the object directory.

So in this case the grammar is completely broken.  I'll attach a patch that 
fixes the NPE in this case so you can take a look at it.  I'll have to get the 
wxWidgets project to try and reproduce the typeId NPE vlad raised initially.
Created attachment 24325
fix for the NPE I appended to this PR
Created attachment 24343
fix for this PR (both NPE)

This patch fixes the NPE that Vlad raised from wxWidgets and the NPE that I
raised from Mozilla.
Please take a look at the attached patch and apply/reject it.
The grammar requires that the -&gt; is followed by a name. 
What does NS_FORWARD_NSIHTTPPROTOCOLHANDLER(gHttpHandler-&gt;) expand to? 
I assume NS_FORWARD_NSIHTTPPROTOCOLHANDLER is a macro, otherwise this cannot
compile.  

If idExpression returns a null object, you should throw backtrack instead. 
Also, pls update the C parser to do the same. 
Last comment was intended for Devin, who is not on the CC list.
That is the problem.

NS_FORWARD_NSIHTTPPROTOCOLHANDLER is not defined and the code does not 
compile.  The code only compiles in Linux because it requires the intermediate 
object directory (and code) to be created in order for this macro to properly 
be defined.

Do you still prefer that a backtrack is thrown?  I don't think there's a proper 
way to parse this code since it is bad grammar.  I thought that having a null 
in the AST would be the best way to handle this case.

I prefer the backtrack.  It will lead to an syntax IASTProblem, which then can
be tagged and fixed @ a later date. 
Created attachment 24359
updated fix for this PR to use backtrack

Note: The NPE Vlad raised doesn't seem to apply to the C parser because it just
throws the original backtrack instead of trying to create a new one like the
CPP parser does.
Patch applied.  Thanks!</WithStack>
    <WithOutStack>File parsed:
...\wxWidgets-2.6.0\include\wx\dynarray.h line: 957

Translation unit:
...\wxWidgets-2.6.0\src\xrc\xh_wizrd.cpp

Stack trace:

GNUCPPSourceParser(AbstractGNUSourceCodeParser).calculateEndOffset(IASTNode)
line: 184
GNUCPPSourceParser(AbstractGNUSourceCodeParser).figureEndOffset(IASTDeclSpecifier,
IASTDeclarator) line: 2075
GNUCPPSourceParser.typeId(boolean) line: 962
GNUCPPSourceParser.castExpression() line: 912
GNUCPPSourceParser.castExpression() line: 923
GNUCPPSourceParser.pmExpression() line: 867
GNUCPPSourceParser.multiplicativeExpression() line: 830
GNUCPPSourceParser(AbstractGNUSourceCodeParser).additiveExpression() line: 838
GNUCPPSourceParser(AbstractGNUSourceCodeParser).shiftExpression() line: 813
GNUCPPSourceParser.relationalExpression() line: 758
GNUCPPSourceParser(AbstractGNUSourceCodeParser).equalityExpression() line: 767
GNUCPPSourceParser(AbstractGNUSourceCodeParser).andExpression() line: 750
GNUCPPSourceParser(AbstractGNUSourceCodeParser).exclusiveOrExpression() line: 732
GNUCPPSourceParser(AbstractGNUSourceCodeParser).inclusiveOrExpression() line: 715
GNUCPPSourceParser(AbstractGNUSourceCodeParser).logicalAndExpression() line: 698
GNUCPPSourceParser(AbstractGNUSourceCodeParser).logicalOrExpression() line: 681
GNUCPPSourceParser(AbstractGNUSourceCodeParser).conditionalExpression() line: 864
GNUCPPSourceParser.assignmentExpression() line: 683
GNUCPPSourceParser(AbstractGNUSourceCodeParser).expression() line: 604
GNUCPPSourceParser(AbstractGNUSourceCodeParser).parseReturnStatement() line: 1793
GNUCPPSourceParser.statement() line: 4973
GNUCPPSourceParser(AbstractGNUSourceCodeParser).compoundStatement() line: 515
GNUCPPSourceParser(AbstractGNUSourceCodeParser).functionBody() line: 1046
GNUCPPSourceParser.functionBody() line: 5306
GNUCPPSourceParser(AbstractGNUSourceCodeParser).handleFunctionBody() line: 1033
GNUCPPSourceParser.simpleDeclaration(SimpleDeclarationStrategy, boolean) line: 2954
GNUCPPSourceParser.simpleDeclarationStrategyUnion() line: 2460
GNUCPPSourceParser.declaration() line: 2450
GNUCPPSourceParser.classSpecifier() line: 4267
GNUCPPSourceParser.declSpecifierSeq(boolean, boolean) line: 3398
GNUCPPSourceParser.simpleDeclaration(SimpleDeclarationStrategy, boolean) line: 2836
GNUCPPSourceParser.simpleDeclarationStrategyUnion() line: 2460
GNUCPPSourceParser.declaration() line: 2450
GNUCPPSourceParser.translationUnit() line: 4574
GNUCPPSourceParser(AbstractGNUSourceCodeParser).parse() line: 407
InternalASTServiceProvider.getTranslationUnit(IStorage, String, IProject,
ICodeReaderFactory, IParserConfiguration) line: 174
InternalASTServiceProvider.getTranslationUnit(IFile, ICodeReaderFactory) line: 79
CDOM.getTranslationUnit(IFile, ICodeReaderFactory) line: 130
Devin can you look into this one? 
My take on it is as follows: 
a type-id should consume at least one token.  If both the declarator &amp; declspec
are null then we should backtrack out of typeId().  
I get a different stack trace when I see this NPE so originally I wanted to 
just return -1 if node==null from AbstractGNUSourceCodeParser#calculateEndOffset
().

The NPE I see is caused by a null IASTName parsed from 
GNUCPPSourceParser#idExpression().



The -1 is a bad idea.

This is the example from Mozilla that causes the NPE I see:
NS_FORWARD_NSIHTTPPROTOCOLHANDLER    (gHttpHandler-&gt;)

GNUCPPSourceParser#postfixExpression() parses the gHttpHandler, then the -&gt; and 
then assumes that there is a name to the right side of the -&gt; and so a null is 
passed into calculateEndOffset... although even if -1 is returned here, there 
will still be a NPE a couple of lines later via name.setParent(fieldReference)

Agreed, returning  -1 is a bad idea. 
We need to fix the grammar so that we do not encounter null nodes.  
The NPE I am seeing is being caused in Windows because the grammar is invalid.

NS_FORWARD_NSIHTTPPROTOCOLHANDLER is only defined in the object directory when 
Mozilla is built (since we are not building Mozilla in Windows, we are missing 
the object directory and corresponding source code).  An example is the file 
mozilla/netwerk/protocol/http/src/nsHttpHandler.h, which has several broken 
#includes.  The broken #include nsIHttpProtocolHandler.h is found in Linux in 
the object directory.

So in this case the grammar is completely broken.  I'll attach a patch that 
fixes the NPE in this case so you can take a look at it.  I'll have to get the 
wxWidgets project to try and reproduce the typeId NPE vlad raised initially.
Created attachment 24325
fix for the NPE I appended to this PR
Created attachment 24343
fix for this PR (both NPE)

This patch fixes the NPE that Vlad raised from wxWidgets and the NPE that I
raised from Mozilla.
Please take a look at the attached patch and apply/reject it.
The grammar requires that the -&gt; is followed by a name. 
What does NS_FORWARD_NSIHTTPPROTOCOLHANDLER(gHttpHandler-&gt;) expand to? 
I assume NS_FORWARD_NSIHTTPPROTOCOLHANDLER is a macro, otherwise this cannot
compile.  

If idExpression returns a null object, you should throw backtrack instead. 
Also, pls update the C parser to do the same. 
Last comment was intended for Devin, who is not on the CC list.
That is the problem.

NS_FORWARD_NSIHTTPPROTOCOLHANDLER is not defined and the code does not 
compile.  The code only compiles in Linux because it requires the intermediate 
object directory (and code) to be created in order for this macro to properly 
be defined.

Do you still prefer that a backtrack is thrown?  I don't think there's a proper 
way to parse this code since it is bad grammar.  I thought that having a null 
in the AST would be the best way to handle this case.

I prefer the backtrack.  It will lead to an syntax IASTProblem, which then can
be tagged and fixed @ a later date. 
Created attachment 24359
updated fix for this PR to use backtrack

Note: The NPE Vlad raised doesn't seem to apply to the C parser because it just
throws the original backtrack instead of trying to create a new one like the
CPP parser does.
Patch applied.  Thanks!</WithOutStack>
  </Bug>
  <Bug>
    <BugId amount="100249" />
    <CreationDate amount="2005-06-15 14:00:00 -0400" />
    <DupId amount="" />
    <classification amount="WebTools" />
    <Product amount="WTP Webservices" />
    <component amount="jst.ws" />
    <Version amount="0.7" />
    <rep_platform amount="PC" />
    <op_sys amount="Windows 2000" />
    <priority amount="P3" />
    <bug_severity amount="blocker" />
    <Summery>Failure to analyze the Java bean in Web service creation scenario</Summery>
    <Patches amount="0" />
    <Stacktraces amount="0" />
    <SourceCodeRegions amount="0" />
    <Enumerations amount="1">
      <Enumeration lines="3">
        <Lines>
          <Line>- In a new workspace, create a new J2EE Web project.</Line>
          <Line>- Go through creating Web service from Echo.java.</Line>
          <Line>- After clicking Next on the 3rd page, you'll get:</Line>
        </Lines>
      </Enumeration>
    </Enumerations>
    <bug_status amount="CLOSED" />
    <resolution amount="WORKSFORME" />
    <WithStack>Driver:  0615I 18:14

- In a new workspace, create a new J2EE Web project.
- Go through creating Web service from Echo.java.
- After clicking Next on the 3rd page, you'll get:

Failure to analyze Java bean Echo.echo.

If I use an older workspace (created using 0613N) with an existing flexible 
project, I can go through the Web service creation wizard no problem.
Peter, could you please take a look?
Peter could not reproduce this problem with his driver.  I found out there's 
some problem with my unzipped driver.  With a proper unzipped driver, I am 
running into defect 100308.
Closing.</WithStack>
    <WithOutStack>Driver:  0615I 18:14

- In a new workspace, create a new J2EE Web project.
- Go through creating Web service from Echo.java.
- After clicking Next on the 3rd page, you'll get:

Failure to analyze Java bean Echo.echo.

If I use an older workspace (created using 0613N) with an existing flexible 
project, I can go through the Web service creation wizard no problem.
Peter, could you please take a look?
Peter could not reproduce this problem with his driver.  I found out there's 
some problem with my unzipped driver.  With a proper unzipped driver, I am 
running into defect 100308.
Closing.</WithOutStack>
  </Bug>
  <Bug>
    <BugId amount="100250" />
    <CreationDate amount="2005-06-15 14:04:00 -0400" />
    <DupId amount="" />
    <classification amount="Eclipse" />
    <Product amount="JDT" />
    <component amount="UI" />
    <Version amount="3.1" />
    <rep_platform amount="All" />
    <op_sys amount="All" />
    <priority amount="P3" />
    <bug_severity amount="enhancement" />
    <Summery>[WorkingSets] Improved working set editing</Summery>
    <Patches amount="0" />
    <Stacktraces amount="0" />
    <SourceCodeRegions amount="0" />
    <Enumerations amount="0" />
    <bug_status amount="RESOLVED" />
    <resolution amount="WONTFIX" />
    <WithStack>While reading about bug 92818 (https://bugs.eclipse.org/bugs/show_bug.cgi?id=92818)
it occured to me that the ability to quickly apply filters (like referenced
libraries in the JDT) to edit a working set would allow better control over
searches.
I'm not sure what this means.  Could you please reopen if you have a clear example?
I was thinking of something like the filters dialog in the package explorer that allows you to hide things like 'libraries from external', '.* resources', etc. Buttons/menus in the 'edit working set' dialog that permit selecting/deselecting by such classifications would be useful. My favourite would be to deselect 'libraries from external' so that a search could be done without considering external sources.
This would have to be done on a per working set (type) basis.  Ie: Java Working sets, Plug-in Working sets.  I dont think it makes sense for resource working sets... punting to JDT for comment.
in 3.3 we imporved th JDT search page, where you can, additionally to working sets, define if you want to search in application libraries, JREs or sources.
Would that be good enough?

I don't think we should complicate the working set configuration dialog.</WithStack>
    <WithOutStack>While reading about bug 92818 (https://bugs.eclipse.org/bugs/show_bug.cgi?id=92818)
it occured to me that the ability to quickly apply filters (like referenced
libraries in the JDT) to edit a working set would allow better control over
searches.
I'm not sure what this means.  Could you please reopen if you have a clear example?
I was thinking of something like the filters dialog in the package explorer that allows you to hide things like 'libraries from external', '.* resources', etc. Buttons/menus in the 'edit working set' dialog that permit selecting/deselecting by such classifications would be useful. My favourite would be to deselect 'libraries from external' so that a search could be done without considering external sources.
This would have to be done on a per working set (type) basis.  Ie: Java Working sets, Plug-in Working sets.  I dont think it makes sense for resource working sets... punting to JDT for comment.
in 3.3 we imporved th JDT search page, where you can, additionally to working sets, define if you want to search in application libraries, JREs or sources.
Would that be good enough?

I don't think we should complicate the working set configuration dialog.</WithOutStack>
  </Bug>
  <Bug>
    <BugId amount="100251" />
    <CreationDate amount="2005-06-15 14:09:00 -0400" />
    <DupId amount="100252" />
    <classification amount="Eclipse" />
    <Product amount="Platform" />
    <component amount="Runtime" />
    <Version amount="3.0.2" />
    <rep_platform amount="All" />
    <op_sys amount="All" />
    <priority amount="P3" />
    <bug_severity amount="normal" />
    <Summery>Selecting Browse button after entering a non-existent folder name in New Source/Header File wizard causes Eclipse to hang</Summery>
    <Patches amount="0" />
    <Stacktraces amount="0" />
    <SourceCodeRegions amount="0" />
    <Enumerations amount="0" />
    <bug_status amount="CLOSED" />
    <resolution amount="DUPLICATE" />
    <WithStack>If the Browse... button is selected after entering a non-existent source folder
name in the New Source File or New Header File wizard, Eclipse will hang.

The offending code is in removeLastSegment(int) in
org.eclipse.core.runtime/src/org/eclipse/core/runtime/Path.java.  If count &gt;
segments.length, HAS_LEADING should be turned off; otherwise, path.isEmpty()
will return false even though there's no segment left. Consequently, a
while-loop that uses path.isEmpty() will loop forever.


*** This bug has been marked as a duplicate of 100252 ***
closing.</WithStack>
    <WithOutStack>If the Browse... button is selected after entering a non-existent source folder
name in the New Source File or New Header File wizard, Eclipse will hang.

The offending code is in removeLastSegment(int) in
org.eclipse.core.runtime/src/org/eclipse/core/runtime/Path.java.  If count &gt;
segments.length, HAS_LEADING should be turned off; otherwise, path.isEmpty()
will return false even though there's no segment left. Consequently, a
while-loop that uses path.isEmpty() will loop forever.


*** This bug has been marked as a duplicate of 100252 ***
closing.</WithOutStack>
  </Bug>
  <Bug>
    <BugId amount="100252" />
    <CreationDate amount="2005-06-15 14:09:00 -0400" />
    <DupId amount="" />
    <classification amount="Eclipse" />
    <Product amount="Platform" />
    <component amount="Runtime" />
    <Version amount="3.0.2" />
    <rep_platform amount="All" />
    <op_sys amount="All" />
    <priority amount="P3" />
    <bug_severity amount="normal" />
    <Summery>Selecting Browse button after entering a non-existent folder name in New Source/Header File wizard causes Eclipse to hang</Summery>
    <Patches amount="0" />
    <Stacktraces amount="0" />
    <SourceCodeRegions amount="4">
      <source_code type="functiondef">
        <location start="770" end="1876" />
        <code>private ICElement getSourceFolderFromPath(IPath path) {
            if (path == null)
                return null;
            while (!path.isEmpty()) {
                    IResource res = fWorkspaceRoot.findMember(path);
                        if (res != null &amp;&amp; res.exists()) {
                                int resType = res.getType();
                                if (resType == IResource.PROJECT || resType ==
IResource.FOLDER) {
                                    ICElement elem =
CoreModel.getDefault().create(res.getFullPath());
                                    ICContainer sourceFolder =
CModelUtil.getSourceFolder(elem);
                                    if (sourceFolder != null)
                                        return sourceFolder;
                                    if (resType == IResource.PROJECT) {
                                        return elem;
                                    }
                                }
                        }
                        path = path.removeLastSegments(1);
            }
                return null;
        }</code>
      </source_code>
      <source_code type="multicomment">
        <location start="2628" end="3123" />
        <code>/*
			 * Bug 10104: The offending code is actually in
			 * org.eclipse.core.runtime.Path::removeLastSegments(int count) where if
count is greater
			 * than remaining segments in path, the leading prefix bit is set.  This
causes path.isEmpty() 
			 * above to always return false, causing the while-loop to loop forever.
			 * 
			 * Instead of touching platform code, a check is added here for whether
remaining segment
			 * count is 0 and if so, return null to exit the while loop.
			 */</code>
      </source_code>
      <source_code type="ifstatement">
        <location start="3124" end="3180" />
        <code>if (path.segmentCount() == 0) {
				return null;
			}</code>
      </source_code>
      <source_code type="elsestatement">
        <location start="3176" end="3231" />
        <code>} else {
				path = path.removeLastSegments(1);
			}</code>
      </source_code>
    </SourceCodeRegions>
    <Enumerations amount="0" />
    <bug_status amount="RESOLVED" />
    <resolution amount="FIXED" />
    <WithStack>If the Browse... button is selected after entering a non-existent source folder
name in the New Source File or New Header File wizard, Eclipse will hang.

The offending code is in removeLastSegment(int) in
org.eclipse.core.runtime/src/org/eclipse/core/runtime/Path.java.  If count &gt;
segments.length, HAS_LEADING should be turned off; otherwise, path.isEmpty()
will return false even though there's no segment left. Consequently, a
while-loop that uses path.isEmpty() will loop forever.
*** Bug 100251 has been marked as a duplicate of this bug. ***
I selected Source File and Header File under the C and C++ categories in the New
wizard.  This is the while-loop in
org/eclipse/cdt/internal/ui/wizards/filewizard/AbstractFileCreationWizardPage.java
which loops forever:

        private ICElement getSourceFolderFromPath(IPath path) {
            if (path == null)
                return null;
            while (!path.isEmpty()) {
                    IResource res = fWorkspaceRoot.findMember(path);
                        if (res != null &amp;&amp; res.exists()) {
                                int resType = res.getType();
                                if (resType == IResource.PROJECT || resType ==
IResource.FOLDER) {
                                    ICElement elem =
CoreModel.getDefault().create(res.getFullPath());
                                    ICContainer sourceFolder =
CModelUtil.getSourceFolder(elem);
                                    if (sourceFolder != null)
                                        return sourceFolder;
                                    if (resType == IResource.PROJECT) {
                                        return elem;
                                    }
                                }
                        }
                        path = path.removeLastSegments(1);
            }
                return null;
        }

Indeed. The javadoc for removeLastSegments says:

"If the number equals or exceeds the number of segments in this path, an empty
path is returned."

An the definition of isEmpty() says:

"Returns whether this path has no segments and is not a root path."

So returning a root path as we do is not correct.

Joanne, are you involved in the CDT development? This is something that will
probably not be fixed for 3.1, so CDT has to put a workaround. Checking for the
segment count == 0 instead should work.
I'm responsible for CDT at MontaVista Software and have contributed patches to
the CDT project.  I've already worked around this in CDT 2.1.1 in our Eclipse
product DevRocket as follows in
AbstractFileCreationWizardPage::getSourceFolderFromPath:
			/*
			 * Bug 10104: The offending code is actually in
			 * org.eclipse.core.runtime.Path::removeLastSegments(int count) where if
count is greater
			 * than remaining segments in path, the leading prefix bit is set.  This
causes path.isEmpty() 
			 * above to always return false, causing the while-loop to loop forever.
			 * 
			 * Instead of touching platform code, a check is added here for whether
remaining segment
			 * count is 0 and if so, return null to exit the while loop.
			 */
			if (path.segmentCount() == 0) {
				return null;
			} else {
				path = path.removeLastSegments(1);
			}
I'll open a bug for CDT to apply a workaround for this for now.  Thanks!
That would be great, thank you.
I think this is a typo in the IPath.removeLastSegments(int) spec, rather than in the implementation. Note that the spec for removeFirstSegments says an "empty relative path is returned" for this case, and removeLastSegments(int) says an "empty path is returned."  I think it should instead say "a path with no segments is returned."

The current behaviour makes sense because IPath always tries to preserve separators.  If an empty path was returned, then someone trying to replace the suffix by calling path.removeLastSegments(1).append("value") could cause the path to be converted to a relative path. Finally, it would be less risky to update the spec to match the long-standing implementation than to change the implementation.  For example, someone with similar looping code using path.isRoot() as the break condition would currently work, but would become an infinite loop if we changed the current implementation.
Created attachment 37232
Patch to IPath.java

Here is a patch to the spec
Patch released in HEAD.</WithStack>
    <WithOutStack>If the Browse... button is selected after entering a non-existent source folder
name in the New Source File or New Header File wizard, Eclipse will hang.

The offending code is in removeLastSegment(int) in
org.eclipse.core.runtime/src/org/eclipse/core/runtime/Path.java.  If count &gt;
segments.length, HAS_LEADING should be turned off; otherwise, path.isEmpty()
will return false even though there's no segment left. Consequently, a
while-loop that uses path.isEmpty() will loop forever.
*** Bug 100251 has been marked as a duplicate of this bug. ***
I selected Source File and Header File under the C and C++ categories in the New
wizard.  This is the while-loop in
org/eclipse/cdt/internal/ui/wizards/filewizard/AbstractFileCreationWizardPage.java
which loops forever:

        private ICElement getSourceFolderFromPath(IPath path) {
            if (path == null)
                return null;
            while (!path.isEmpty()) {
                    IResource res = fWorkspaceRoot.findMember(path);
                        if (res != null &amp;&amp; res.exists()) {
                                int resType = res.getType();
                                if (resType == IResource.PROJECT || resType ==
IResource.FOLDER) {
                                    ICElement elem =
CoreModel.getDefault().create(res.getFullPath());
                                    ICContainer sourceFolder =
CModelUtil.getSourceFolder(elem);
                                    if (sourceFolder != null)
                                        return sourceFolder;
                                    if (resType == IResource.PROJECT) {
                                        return elem;
                                    }
                                }
                        }
                        path = path.removeLastSegments(1);
            }
                return null;
        }

Indeed. The javadoc for removeLastSegments says:

"If the number equals or exceeds the number of segments in this path, an empty
path is returned."

An the definition of isEmpty() says:

"Returns whether this path has no segments and is not a root path."

So returning a root path as we do is not correct.

Joanne, are you involved in the CDT development? This is something that will
probably not be fixed for 3.1, so CDT has to put a workaround. Checking for the
segment count == 0 instead should work.
I'm responsible for CDT at MontaVista Software and have contributed patches to
the CDT project.  I've already worked around this in CDT 2.1.1 in our Eclipse
product DevRocket as follows in
AbstractFileCreationWizardPage::getSourceFolderFromPath:
			/*
			 * Bug 10104: The offending code is actually in
			 * org.eclipse.core.runtime.Path::removeLastSegments(int count) where if
count is greater
			 * than remaining segments in path, the leading prefix bit is set.  This
causes path.isEmpty() 
			 * above to always return false, causing the while-loop to loop forever.
			 * 
			 * Instead of touching platform code, a check is added here for whether
remaining segment
			 * count is 0 and if so, return null to exit the while loop.
			 */
			if (path.segmentCount() == 0) {
				return null;
			} else {
				path = path.removeLastSegments(1);
			}
I'll open a bug for CDT to apply a workaround for this for now.  Thanks!
That would be great, thank you.
I think this is a typo in the IPath.removeLastSegments(int) spec, rather than in the implementation. Note that the spec for removeFirstSegments says an "empty relative path is returned" for this case, and removeLastSegments(int) says an "empty path is returned."  I think it should instead say "a path with no segments is returned."

The current behaviour makes sense because IPath always tries to preserve separators.  If an empty path was returned, then someone trying to replace the suffix by calling path.removeLastSegments(1).append("value") could cause the path to be converted to a relative path. Finally, it would be less risky to update the spec to match the long-standing implementation than to change the implementation.  For example, someone with similar looping code using path.isRoot() as the break condition would currently work, but would become an infinite loop if we changed the current implementation.
Created attachment 37232
Patch to IPath.java

Here is a patch to the spec
Patch released in HEAD.</WithOutStack>
  </Bug>
  <Bug>
    <BugId amount="100253" />
    <CreationDate amount="2005-06-15 14:15:00 -0400" />
    <DupId amount="" />
    <classification amount="WebTools" />
    <Product amount="WTP ServerTools" />
    <component amount="jst.server" />
    <Version amount="1.0" />
    <rep_platform amount="All" />
    <op_sys amount="All" />
    <priority amount="P4" />
    <bug_severity amount="enhancement" />
    <Summery>Enabling the "Start Server in Profiling Mode" for Generic Server support</Summery>
    <Patches amount="0" />
    <Stacktraces amount="0" />
    <SourceCodeRegions amount="0" />
    <Enumerations amount="0" />
    <bug_status amount="CLOSED" />
    <resolution amount="WONTFIX" />
    <WithStack>Hi..

The "Start Server in Profiling Mode" is disabled for Generics Server support by
default...this is very crucial requirement for us in current context...if there
is a plan to enable this I would like to know that...and if some help is
required for coding this...I would like to volunteer...

Regards

Raghavendra Vaidya
Although it is fairly simple for generic server framework to support profiling,
the base eclipse platform does not come with a IVMRunner implementation that
supports profile mode. I can enable this support for other plugins that may
provide this support but for the base eclipse it will fail with a no suitable VM
error.
Part of a mass update. Based on 9/22/2005 development review meeting, it's 
determined this was an open bug/enhancement with tartget mistakenly set to M8. 
Since this will not be in M8, I am changing to "unspecified". 

If this is an error, please correct (for example the bug really has been fixed
in M8, change back to M8, and "fixed".)

It is possible to provide a profiling launch configuration for generic servers
using the org.eclipse.jst.server.generic.core.launchConfigurationType extension
point. Since WTP is not the proper project to provide testing tools, I am
closing this.
changing target from 1.5 M2 to 1.5 M6 to reflect new numbering scheme as we join Collisto train. 
This is part of a mass update to close out all stale WTP resolved bugs from the 1.0.x and 1.5.0 timeframe.  If you feel this bug was closed inappropriately, please reopen.

Thanks, John Lanuti</WithStack>
    <WithOutStack>Hi..

The "Start Server in Profiling Mode" is disabled for Generics Server support by
default...this is very crucial requirement for us in current context...if there
is a plan to enable this I would like to know that...and if some help is
required for coding this...I would like to volunteer...

Regards

Raghavendra Vaidya
Although it is fairly simple for generic server framework to support profiling,
the base eclipse platform does not come with a IVMRunner implementation that
supports profile mode. I can enable this support for other plugins that may
provide this support but for the base eclipse it will fail with a no suitable VM
error.
Part of a mass update. Based on 9/22/2005 development review meeting, it's 
determined this was an open bug/enhancement with tartget mistakenly set to M8. 
Since this will not be in M8, I am changing to "unspecified". 

If this is an error, please correct (for example the bug really has been fixed
in M8, change back to M8, and "fixed".)

It is possible to provide a profiling launch configuration for generic servers
using the org.eclipse.jst.server.generic.core.launchConfigurationType extension
point. Since WTP is not the proper project to provide testing tools, I am
closing this.
changing target from 1.5 M2 to 1.5 M6 to reflect new numbering scheme as we join Collisto train. 
This is part of a mass update to close out all stale WTP resolved bugs from the 1.0.x and 1.5.0 timeframe.  If you feel this bug was closed inappropriately, please reopen.

Thanks, John Lanuti</WithOutStack>
  </Bug>
  <Bug>
    <BugId amount="100254" />
    <CreationDate amount="2005-06-15 14:20:00 -0400" />
    <DupId amount="" />
    <classification amount="Eclipse" />
    <Product amount="PDE" />
    <component amount="Build" />
    <Version amount="3.1" />
    <rep_platform amount="PC" />
    <op_sys amount="Windows XP" />
    <priority amount="P3" />
    <bug_severity amount="normal" />
    <Summery>3.1: Files to be fixed for translation</Summery>
    <Patches amount="0" />
    <Stacktraces amount="0" />
    <SourceCodeRegions amount="0" />
    <Enumerations amount="0" />
    <bug_status amount="RESOLVED" />
    <resolution amount="FIXED" />
    <WithStack>These files were picked up during chkpii run for translation.

ECLIPSE\PLUGINS\ORG.ECLIPSE.PDE.BUILD\NOTES\
  M2 NOTES.HTML  HTML-32     128   (W) UNIX file (newline=x'0A') should be
converted to PC-DOS (newline=x'0D0A') format in order to be translated.
                             827   CHARSET language value should be 'ISO-8859-1'
or 'UTF-8'.  Value found: 'WINDOWS-1252'.  Line: 5
                             840   FACE attribute should not be used in FONT
tag.  Line: 20                        
                             840   FACE attribute should not be used in FONT
tag.  Line: 22                        
                             840   FACE attribute should not be used in FONT
tag.  Line: 70                        
                             840   FACE attribute should not be used in FONT
tag.  Line: 73                        
                             840   FACE attribute should not be used in FONT
tag.  Line: 111                       
                             840   FACE attribute should not be used in FONT
tag.  Line: 113                       
                             840   FACE attribute should not be used in FONT
tag.  Line: 132                       
                             840   FACE attribute should not be used in FONT
tag.  Line: 134                       
                             840   FACE attribute should not be used in FONT
tag.  Line: 156                       
                             840   FACE attribute should not be used in FONT
tag.  Line: 158                       
                             840   FACE attribute should not be used in FONT
tag.  Line: 189                       
                             840   FACE attribute should not be used in FONT
tag.  Line: 191                       
                             840   FACE attribute should not be used in FONT
tag.  Line: 204                       
                             840   FACE attribute should not be used in FONT
tag.  Line: 206                       
                             810   Unmatched (UL /UL) tag on/after NLV line: 89
                                   
                             831   Missing DOCTYPE tag.  Required to define
version of HTML being used.  Line: 1   
  USINGPDEBUILD.HTML  HTML-40           OK 

ECLIPSE\PLUGINS\ORG.ECLIPSE.PDE.BUILD\SCRIPTS\
  GENERICTARGETS.XML  XML-10      962   '&lt;?xml' declaration must be defined in
line 1, column 1.  Line: 1               
                                  969   (W) XML tag attribute (name) may contain
translatable text which cannot be translated.  Line: 1
                                  969   (W) XML tag attribute (description) may
contain translatable text which cannot be translated.  Line: 24
                                  969   (W) XML tag attribute (description) may
contain translatable text which cannot be translated.  Line: 48
                                  969   (W) XML tag attribute (description) may
contain translatable text which cannot be translated.  Line: 56
                                  969   (W) XML tag attribute (description) may
contain translatable text which cannot be translated.  Line: 73
                                  969   (W) XML tag attribute (description) may
contain translatable text which cannot be translated.  Line: 93
                                  969   (W) XML tag attribute (description) may
contain translatable text which cannot be translated.  Line: 104
                                  969   (W) XML tag attribute (description) may
contain translatable text which cannot be translated.  Line: 120
                                  969   (W) XML tag attribute (message) may
contain translatable text which cannot be translated.  Line: 130
                                  969   (W) XML tag attribute (description) may
contain translatable text which cannot be translated.  Line: 136
                                  969   (W) XML tag attribute (description) may
contain translatable text which cannot be translated.  Line: 143
                                  973   '&lt;?xml' declaration must be the first
XML statement.  Line: 1                   
  PACKAGE.XML         XML-10      962   '&lt;?xml' declaration must be defined in
line 1, column 1.  Line: 1               
                                  969   (W) XML tag attribute (description) may
contain translatable text which cannot be translated.  Line: 52
                                  973   '&lt;?xml' declaration must be the first
XML statement.  Line: 1                   

ECLIPSE\PLUGINS\ORG.ECLIPSE.PDE.BUILD\TEMPLATES\
  CUSTOMTARGETS.XML  XML-10      962   '&lt;?xml' declaration must be defined in
line 1, column 1.  Line: 1               
                                 969   (W) XML tag attribute (name) may contain
translatable text which cannot be translated.  Line: 1
                                 961   Found '&lt;' before attribute's closing
quote.  Line: 9                            
                                 961   Found '&lt;' before attribute's closing
quote.  Line: 10                           
                                 955   XML end tag &lt;/ant&gt; found before expected
end tag for &lt;element.id&gt; (on line 10).  Line: 11
                                 955   XML end tag &lt;/target&gt; found before
expected end tag for &lt;element.id&gt; (on line 10).  Line: 12
                                 961   Found '&lt;' before attribute's closing
quote.  Line: 21                           
                                 955   XML end tag &lt;/target&gt; found before
expected end tag for &lt;element.id&gt; (on line 21).  Line: 23
                                 969   (W) XML tag attribute (message) may
contain translatable text which cannot be translated.  Line: 170
                                 955   XML end tag &lt;/project&gt; found before
expected end tag for &lt;element.id&gt; (on line 21).  Line: 173
                                 957   XML tag &lt;element.id&gt; does not have
matching end tag &lt;/element.id&gt; or should be an empty tag &lt;element.id /&gt;.  Line: 21
                                 957   XML tag &lt;target&gt; does not have matching
end tag &lt;/target&gt; or should be an empty tag &lt;target /&gt;.  Line: 21
                                 957   XML tag &lt;element.id&gt; does not have
matching end tag &lt;/element.id&gt; or should be an empty tag &lt;element.id /&gt;.  Line: 10
                                 957   XML tag &lt;property&gt; does not have matching
end tag &lt;/property&gt; or should be an empty tag &lt;property /&gt;.  Line: 10
                                 957   XML tag &lt;feature&gt; does not have matching
end tag &lt;/feature&gt; or should be an empty tag &lt;feature /&gt;.  Line: 9
                                 957   XML tag &lt;property&gt; does not have matching
end tag &lt;/property&gt; or should be an empty tag &lt;property /&gt;.  Line: 9
                                 957   XML tag &lt;ant&gt; does not have matching end
tag &lt;/ant&gt; or should be an empty tag &lt;ant /&gt;.  Line: 8
                                 957   XML tag &lt;target&gt; does not have matching
end tag &lt;/target&gt; or should be an empty tag &lt;target /&gt;.  Line: 7
                                 957   XML tag &lt;project&gt; does not have matching
end tag &lt;/project&gt; or should be an empty tag &lt;project /&gt;.  Line: 1
                                 973   '&lt;?xml' declaration must be the first XML
statement.  Line: 1
Fixed in HEAD.
The errors in the customTargets.xml are normal since this file is incomplete.
Your tool should ignore it.</WithStack>
    <WithOutStack>These files were picked up during chkpii run for translation.

ECLIPSE\PLUGINS\ORG.ECLIPSE.PDE.BUILD\NOTES\
  M2 NOTES.HTML  HTML-32     128   (W) UNIX file (newline=x'0A') should be
converted to PC-DOS (newline=x'0D0A') format in order to be translated.
                             827   CHARSET language value should be 'ISO-8859-1'
or 'UTF-8'.  Value found: 'WINDOWS-1252'.  Line: 5
                             840   FACE attribute should not be used in FONT
tag.  Line: 20                        
                             840   FACE attribute should not be used in FONT
tag.  Line: 22                        
                             840   FACE attribute should not be used in FONT
tag.  Line: 70                        
                             840   FACE attribute should not be used in FONT
tag.  Line: 73                        
                             840   FACE attribute should not be used in FONT
tag.  Line: 111                       
                             840   FACE attribute should not be used in FONT
tag.  Line: 113                       
                             840   FACE attribute should not be used in FONT
tag.  Line: 132                       
                             840   FACE attribute should not be used in FONT
tag.  Line: 134                       
                             840   FACE attribute should not be used in FONT
tag.  Line: 156                       
                             840   FACE attribute should not be used in FONT
tag.  Line: 158                       
                             840   FACE attribute should not be used in FONT
tag.  Line: 189                       
                             840   FACE attribute should not be used in FONT
tag.  Line: 191                       
                             840   FACE attribute should not be used in FONT
tag.  Line: 204                       
                             840   FACE attribute should not be used in FONT
tag.  Line: 206                       
                             810   Unmatched (UL /UL) tag on/after NLV line: 89
                                   
                             831   Missing DOCTYPE tag.  Required to define
version of HTML being used.  Line: 1   
  USINGPDEBUILD.HTML  HTML-40           OK 

ECLIPSE\PLUGINS\ORG.ECLIPSE.PDE.BUILD\SCRIPTS\
  GENERICTARGETS.XML  XML-10      962   '&lt;?xml' declaration must be defined in
line 1, column 1.  Line: 1               
                                  969   (W) XML tag attribute (name) may contain
translatable text which cannot be translated.  Line: 1
                                  969   (W) XML tag attribute (description) may
contain translatable text which cannot be translated.  Line: 24
                                  969   (W) XML tag attribute (description) may
contain translatable text which cannot be translated.  Line: 48
                                  969   (W) XML tag attribute (description) may
contain translatable text which cannot be translated.  Line: 56
                                  969   (W) XML tag attribute (description) may
contain translatable text which cannot be translated.  Line: 73
                                  969   (W) XML tag attribute (description) may
contain translatable text which cannot be translated.  Line: 93
                                  969   (W) XML tag attribute (description) may
contain translatable text which cannot be translated.  Line: 104
                                  969   (W) XML tag attribute (description) may
contain translatable text which cannot be translated.  Line: 120
                                  969   (W) XML tag attribute (message) may
contain translatable text which cannot be translated.  Line: 130
                                  969   (W) XML tag attribute (description) may
contain translatable text which cannot be translated.  Line: 136
                                  969   (W) XML tag attribute (description) may
contain translatable text which cannot be translated.  Line: 143
                                  973   '&lt;?xml' declaration must be the first
XML statement.  Line: 1                   
  PACKAGE.XML         XML-10      962   '&lt;?xml' declaration must be defined in
line 1, column 1.  Line: 1               
                                  969   (W) XML tag attribute (description) may
contain translatable text which cannot be translated.  Line: 52
                                  973   '&lt;?xml' declaration must be the first
XML statement.  Line: 1                   

ECLIPSE\PLUGINS\ORG.ECLIPSE.PDE.BUILD\TEMPLATES\
  CUSTOMTARGETS.XML  XML-10      962   '&lt;?xml' declaration must be defined in
line 1, column 1.  Line: 1               
                                 969   (W) XML tag attribute (name) may contain
translatable text which cannot be translated.  Line: 1
                                 961   Found '&lt;' before attribute's closing
quote.  Line: 9                            
                                 961   Found '&lt;' before attribute's closing
quote.  Line: 10                           
                                 955   XML end tag &lt;/ant&gt; found before expected
end tag for &lt;element.id&gt; (on line 10).  Line: 11
                                 955   XML end tag &lt;/target&gt; found before
expected end tag for &lt;element.id&gt; (on line 10).  Line: 12
                                 961   Found '&lt;' before attribute's closing
quote.  Line: 21                           
                                 955   XML end tag &lt;/target&gt; found before
expected end tag for &lt;element.id&gt; (on line 21).  Line: 23
                                 969   (W) XML tag attribute (message) may
contain translatable text which cannot be translated.  Line: 170
                                 955   XML end tag &lt;/project&gt; found before
expected end tag for &lt;element.id&gt; (on line 21).  Line: 173
                                 957   XML tag &lt;element.id&gt; does not have
matching end tag &lt;/element.id&gt; or should be an empty tag &lt;element.id /&gt;.  Line: 21
                                 957   XML tag &lt;target&gt; does not have matching
end tag &lt;/target&gt; or should be an empty tag &lt;target /&gt;.  Line: 21
                                 957   XML tag &lt;element.id&gt; does not have
matching end tag &lt;/element.id&gt; or should be an empty tag &lt;element.id /&gt;.  Line: 10
                                 957   XML tag &lt;property&gt; does not have matching
end tag &lt;/property&gt; or should be an empty tag &lt;property /&gt;.  Line: 10
                                 957   XML tag &lt;feature&gt; does not have matching
end tag &lt;/feature&gt; or should be an empty tag &lt;feature /&gt;.  Line: 9
                                 957   XML tag &lt;property&gt; does not have matching
end tag &lt;/property&gt; or should be an empty tag &lt;property /&gt;.  Line: 9
                                 957   XML tag &lt;ant&gt; does not have matching end
tag &lt;/ant&gt; or should be an empty tag &lt;ant /&gt;.  Line: 8
                                 957   XML tag &lt;target&gt; does not have matching
end tag &lt;/target&gt; or should be an empty tag &lt;target /&gt;.  Line: 7
                                 957   XML tag &lt;project&gt; does not have matching
end tag &lt;/project&gt; or should be an empty tag &lt;project /&gt;.  Line: 1
                                 973   '&lt;?xml' declaration must be the first XML
statement.  Line: 1
Fixed in HEAD.
The errors in the customTargets.xml are normal since this file is incomplete.
Your tool should ignore it.</WithOutStack>
  </Bug>
  <Bug>
    <BugId amount="100255" />
    <CreationDate amount="2005-06-15 14:20:00 -0400" />
    <DupId amount="70554" />
    <classification amount="Eclipse" />
    <Product amount="Platform" />
    <component amount="Resources" />
    <Version amount="3.3" />
    <rep_platform amount="PC" />
    <op_sys amount="Linux" />
    <priority amount="P3" />
    <bug_severity amount="normal" />
    <Summery>Entire workspace is built when Clean selected projects is selected in Project -&gt; Clean... dialog</Summery>
    <Patches amount="0" />
    <Stacktraces amount="0" />
    <SourceCodeRegions amount="1">
      <source_code type="functioncall">
        <location start="1273" end="1334" />
        <code>basicBuildLoop(ordered, unordered, trigger, status, monitor);</code>
      </source_code>
    </SourceCodeRegions>
    <Enumerations amount="0" />
    <bug_status amount="RESOLVED" />
    <resolution amount="DUPLICATE" />
    <WithStack>When Clean selected projects is selected and only on project is selected in the
Project -&gt; Clean... dialog and Start a build immediately is selected, the entire
workspace is built rather than just the selected project.  Is this intentional?
 If so, it's not intuitive.  I would expect the all projects to be built only if
I had selected Clean all projects and Start a build immediately.
If other projects depend on that project then they will also be cleaned and built... could that be what 
you're seeing?
It would be a good thing for dependent projects to be built but that's not what
I'm seeing, however.  All non-related projects were also built.
Are these Java projects or some other type of projects? 
I've only used the feature in the C/C++ perspective so I've only seen this
behavior on C and C++ projects.
Passing to CDT for comment.
What version of CDT are you using?  3.0?
I'm using CDT 2.1.1.
We are seeing the same behavior, and users of our plugins are getting upset.  We have a combination of our own projects with their own builders, as well as referenced C projects.  Any 'clean selected project(s)' with 'start a build immediately' iterates through all projects in the workspace and builds them.  It should only build the selected project(s).

This line:
basicBuildLoop(ordered, unordered, trigger, status, monitor);
in BuildManager.java seems to be the problem  (in the build(...) function) -- it iterates through the entire workspace.
This is not a CDT bug.  It is a bug for our product too which is based on the platform runtime.  We also use a toolchain such that most users do not run with autobuild turned on.  However, the Clean dialog will rebuild the entire workspace - no matter what subset of projects you have selected - if you check the "Start a build immediately" box.

Can you please change it this bug back to the platform, and whatever component the resources/build is encapsulated in?  I may look at submitting a patch if time permits and it is relatively simple.
Tossing back to the platform.
Thanks, Chris.

Platform people:  I may have a look at this after 3.3 if someone doesn't beat me to it. ;O)


*** This bug has been marked as a duplicate of bug 70554 ***</WithStack>
    <WithOutStack>When Clean selected projects is selected and only on project is selected in the
Project -&gt; Clean... dialog and Start a build immediately is selected, the entire
workspace is built rather than just the selected project.  Is this intentional?
 If so, it's not intuitive.  I would expect the all projects to be built only if
I had selected Clean all projects and Start a build immediately.
If other projects depend on that project then they will also be cleaned and built... could that be what 
you're seeing?
It would be a good thing for dependent projects to be built but that's not what
I'm seeing, however.  All non-related projects were also built.
Are these Java projects or some other type of projects? 
I've only used the feature in the C/C++ perspective so I've only seen this
behavior on C and C++ projects.
Passing to CDT for comment.
What version of CDT are you using?  3.0?
I'm using CDT 2.1.1.
We are seeing the same behavior, and users of our plugins are getting upset.  We have a combination of our own projects with their own builders, as well as referenced C projects.  Any 'clean selected project(s)' with 'start a build immediately' iterates through all projects in the workspace and builds them.  It should only build the selected project(s).

This line:
basicBuildLoop(ordered, unordered, trigger, status, monitor);
in BuildManager.java seems to be the problem  (in the build(...) function) -- it iterates through the entire workspace.
This is not a CDT bug.  It is a bug for our product too which is based on the platform runtime.  We also use a toolchain such that most users do not run with autobuild turned on.  However, the Clean dialog will rebuild the entire workspace - no matter what subset of projects you have selected - if you check the "Start a build immediately" box.

Can you please change it this bug back to the platform, and whatever component the resources/build is encapsulated in?  I may look at submitting a patch if time permits and it is relatively simple.
Tossing back to the platform.
Thanks, Chris.

Platform people:  I may have a look at this after 3.3 if someone doesn't beat me to it. ;O)


*** This bug has been marked as a duplicate of bug 70554 ***</WithOutStack>
  </Bug>
  <Bug>
    <BugId amount="100256" />
    <CreationDate amount="2005-06-15 14:21:00 -0400" />
    <DupId amount="" />
    <classification amount="Eclipse" />
    <Product amount="PDE" />
    <component amount="UI" />
    <Version amount="3.1" />
    <rep_platform amount="PC" />
    <op_sys amount="Windows XP" />
    <priority amount="P3" />
    <bug_severity amount="normal" />
    <Summery>3.1: Files to be fixed for translation</Summery>
    <Patches amount="0" />
    <Stacktraces amount="0" />
    <SourceCodeRegions amount="0" />
    <Enumerations amount="0" />
    <bug_status amount="RESOLVED" />
    <resolution amount="INVALID" />
    <WithStack>These errors were picked up by CHKPII.  Then need to be corrected for translation.

ECLIPSE\PLUGINS\ORG.ECLIPSE.PDE.UI\TEMPLATES\HELP\
  TESTTOC.XML   XML-WSWECL        OK 
  TOC.XML       XML-WSWECL  965   Found '&amp;' in text which should be replaced
with '&amp;amp;' symbol.  Line: 9        
                            965   Found '&amp;' in text which should be replaced
with '&amp;amp;' symbol.  Line: 9        
                            965   Found '&amp;' in text which should be replaced
with '&amp;amp;' symbol.  Line: 14       
                            965   Found '&amp;' in text which should be replaced
with '&amp;amp;' symbol.  Line: 14
Part of the error message got removed, I apologize:

ECLIPSE\PLUGINS\ORG.ECLIPSE.PDE.UI\TEMPLATES\HELP\
  TESTTOC.XML   XML-WSWECL        OK 
  TOC.XML       XML-WSWECL  965   Found '&amp;' in text which should be replaced
with '&amp;amp;' symbol.  Line: 9        
                            965   Found '&amp;' in text which should be replaced
with '&amp;amp;' symbol.  Line: 9        
                            965   Found '&amp;' in text which should be replaced
with '&amp;amp;' symbol.  Line: 14       
                            965   Found '&amp;' in text which should be replaced
with '&amp;amp;' symbol.  Line: 14       
                            965   Found '&amp;' in text which should be replaced
with '&amp;amp;' symbol.  Line: 19       
                            965   Found '&amp;' in text which should be replaced
with '&amp;amp;' symbol.  Line: 19       
                            965   Found '&amp;' in text which should be replaced
with '&amp;amp;' symbol.  Line: 24       
                            965   Found '&amp;' in text which should be replaced
with '&amp;amp;' symbol.  Line: 24       
                            965   Found '&amp;' in text which should be replaced
with '&amp;amp;' symbol.  Line: 29       
                            965   Found '&amp;' in text which should be replaced
with '&amp;amp;' symbol.  Line: 29       
                            965   Found '&amp;' in text which should be replaced
with '&amp;amp;' symbol.  Line: 34       
                            965   Found '&amp;' in text which should be replaced
with '&amp;amp;' symbol.  Line: 34       
                            957   XML tag &lt;toc&gt; does not have matching end tag
&lt;/toc&gt; or should be an empty tag &lt;toc /&gt;.  Line: 5

ECLIPSE\PLUGINS\ORG.ECLIPSE.PDE.UI\TEMPLATES_3.0\HELP\
  TESTTOC.XML   XML-WSWECL        OK 
  TOC.XML       XML-WSWECL  965   Found '&amp;' in text which should be replaced
with '&amp;amp;' symbol.  Line: 9        
                            965   Found '&amp;' in text which should be replaced
with '&amp;amp;' symbol.  Line: 9        
                            965   Found '&amp;' in text which should be replaced
with '&amp;amp;' symbol.  Line: 14       
                            965   Found '&amp;' in text which should be replaced
with '&amp;amp;' symbol.  Line: 14       
                            965   Found '&amp;' in text which should be replaced
with '&amp;amp;' symbol.  Line: 19       
                            965   Found '&amp;' in text which should be replaced
with '&amp;amp;' symbol.  Line: 19       
                            965   Found '&amp;' in text which should be replaced
with '&amp;amp;' symbol.  Line: 24       
                            965   Found '&amp;' in text which should be replaced
with '&amp;amp;' symbol.  Line: 24       
                            965   Found '&amp;' in text which should be replaced
with '&amp;amp;' symbol.  Line: 29       
                            965   Found '&amp;' in text which should be replaced
with '&amp;amp;' symbol.  Line: 29       
                            965   Found '&amp;' in text which should be replaced
with '&amp;amp;' symbol.  Line: 34       
                            965   Found '&amp;' in text which should be replaced
with '&amp;amp;' symbol.  Line: 34       
                            957   XML tag &lt;toc&gt; does not have matching end tag
&lt;/toc&gt; or should be an empty tag &lt;toc /&gt;.  Line: 5

All folder under templates* should be ignored.  They are not meant to be 
translated.</WithStack>
    <WithOutStack>These errors were picked up by CHKPII.  Then need to be corrected for translation.

ECLIPSE\PLUGINS\ORG.ECLIPSE.PDE.UI\TEMPLATES\HELP\
  TESTTOC.XML   XML-WSWECL        OK 
  TOC.XML       XML-WSWECL  965   Found '&amp;' in text which should be replaced
with '&amp;amp;' symbol.  Line: 9        
                            965   Found '&amp;' in text which should be replaced
with '&amp;amp;' symbol.  Line: 9        
                            965   Found '&amp;' in text which should be replaced
with '&amp;amp;' symbol.  Line: 14       
                            965   Found '&amp;' in text which should be replaced
with '&amp;amp;' symbol.  Line: 14
Part of the error message got removed, I apologize:

ECLIPSE\PLUGINS\ORG.ECLIPSE.PDE.UI\TEMPLATES\HELP\
  TESTTOC.XML   XML-WSWECL        OK 
  TOC.XML       XML-WSWECL  965   Found '&amp;' in text which should be replaced
with '&amp;amp;' symbol.  Line: 9        
                            965   Found '&amp;' in text which should be replaced
with '&amp;amp;' symbol.  Line: 9        
                            965   Found '&amp;' in text which should be replaced
with '&amp;amp;' symbol.  Line: 14       
                            965   Found '&amp;' in text which should be replaced
with '&amp;amp;' symbol.  Line: 14       
                            965   Found '&amp;' in text which should be replaced
with '&amp;amp;' symbol.  Line: 19       
                            965   Found '&amp;' in text which should be replaced
with '&amp;amp;' symbol.  Line: 19       
                            965   Found '&amp;' in text which should be replaced
with '&amp;amp;' symbol.  Line: 24       
                            965   Found '&amp;' in text which should be replaced
with '&amp;amp;' symbol.  Line: 24       
                            965   Found '&amp;' in text which should be replaced
with '&amp;amp;' symbol.  Line: 29       
                            965   Found '&amp;' in text which should be replaced
with '&amp;amp;' symbol.  Line: 29       
                            965   Found '&amp;' in text which should be replaced
with '&amp;amp;' symbol.  Line: 34       
                            965   Found '&amp;' in text which should be replaced
with '&amp;amp;' symbol.  Line: 34       
                            957   XML tag &lt;toc&gt; does not have matching end tag
&lt;/toc&gt; or should be an empty tag &lt;toc /&gt;.  Line: 5

ECLIPSE\PLUGINS\ORG.ECLIPSE.PDE.UI\TEMPLATES_3.0\HELP\
  TESTTOC.XML   XML-WSWECL        OK 
  TOC.XML       XML-WSWECL  965   Found '&amp;' in text which should be replaced
with '&amp;amp;' symbol.  Line: 9        
                            965   Found '&amp;' in text which should be replaced
with '&amp;amp;' symbol.  Line: 9        
                            965   Found '&amp;' in text which should be replaced
with '&amp;amp;' symbol.  Line: 14       
                            965   Found '&amp;' in text which should be replaced
with '&amp;amp;' symbol.  Line: 14       
                            965   Found '&amp;' in text which should be replaced
with '&amp;amp;' symbol.  Line: 19       
                            965   Found '&amp;' in text which should be replaced
with '&amp;amp;' symbol.  Line: 19       
                            965   Found '&amp;' in text which should be replaced
with '&amp;amp;' symbol.  Line: 24       
                            965   Found '&amp;' in text which should be replaced
with '&amp;amp;' symbol.  Line: 24       
                            965   Found '&amp;' in text which should be replaced
with '&amp;amp;' symbol.  Line: 29       
                            965   Found '&amp;' in text which should be replaced
with '&amp;amp;' symbol.  Line: 29       
                            965   Found '&amp;' in text which should be replaced
with '&amp;amp;' symbol.  Line: 34       
                            965   Found '&amp;' in text which should be replaced
with '&amp;amp;' symbol.  Line: 34       
                            957   XML tag &lt;toc&gt; does not have matching end tag
&lt;/toc&gt; or should be an empty tag &lt;toc /&gt;.  Line: 5

All folder under templates* should be ignored.  They are not meant to be 
translated.</WithOutStack>
  </Bug>
  <Bug>
    <BugId amount="100257" />
    <CreationDate amount="2005-06-15 14:22:00 -0400" />
    <DupId amount="" />
    <classification amount="Eclipse" />
    <Product amount="Platform" />
    <component amount="CVS" />
    <Version amount="3.1" />
    <rep_platform amount="All" />
    <op_sys amount="All" />
    <priority amount="P3" />
    <bug_severity amount="enhancement" />
    <Summery>[Operations] "Add To Version Control" should be recursive</Summery>
    <Patches amount="0" />
    <Stacktraces amount="0" />
    <SourceCodeRegions amount="0" />
    <Enumerations amount="0" />
    <bug_status amount="RESOLVED" />
    <resolution amount="WONTFIX" />
    <WithStack>Right clicking an IContainer should provide a Team-&gt;Add To Version Control
(recursive) menu item that adds all child resources and/or containers to version
control that are not already in the repository.  Command-line SVN and CVS
provide this functionality, as do TortoiseCVS and TortoiseSVN.  A very useful
feature when multiple new files are to be added from multiple packages, helps to
avoid forgetting to add a new file.
I belive that Add to Version call is recursive by default but will not be 
under certain circunmstances (i.e. the children of the folder being added are 
derived resources or are in some other way ignored). Regardless of what the 
current behavior is, we should offer the user the option to perform it 
recursively and configure whether ignored child resources should be added as 
well.
It should be noted that the "Add To Version Control" menu is disabled for
containers that are already known by the version control system, even if the
container has children that have not been added.  With this feature request this
menu item should be enabled such that new files can be added recursively even if
the parent folder is already in version control.
I agree. I could see such a dialog showing the user the list of all eligible 
files to be added in a checkbox tree and allowing them to check which ones get 
added. It could even have a "show ignored" checkbox that would allow the user 
to add ignored resources to version control for those rare cases where that is 
desired.
Great.  Sounds good.  Newer versions of TortoiseCVS have this style of UI.  It
is very well done, I recommend taking a look to get some ideas about what works
well and what doesn't.
We currently do not hav the manpower to address this issue. Patches are welcome.
It should be noted that "Synchronize with repository" has similar functionality.
As of now 'LATER' and 'REMIND' resolutions are no longer supported.
Please reopen this bug if it is still valid for you.</WithStack>
    <WithOutStack>Right clicking an IContainer should provide a Team-&gt;Add To Version Control
(recursive) menu item that adds all child resources and/or containers to version
control that are not already in the repository.  Command-line SVN and CVS
provide this functionality, as do TortoiseCVS and TortoiseSVN.  A very useful
feature when multiple new files are to be added from multiple packages, helps to
avoid forgetting to add a new file.
I belive that Add to Version call is recursive by default but will not be 
under certain circunmstances (i.e. the children of the folder being added are 
derived resources or are in some other way ignored). Regardless of what the 
current behavior is, we should offer the user the option to perform it 
recursively and configure whether ignored child resources should be added as 
well.
It should be noted that the "Add To Version Control" menu is disabled for
containers that are already known by the version control system, even if the
container has children that have not been added.  With this feature request this
menu item should be enabled such that new files can be added recursively even if
the parent folder is already in version control.
I agree. I could see such a dialog showing the user the list of all eligible 
files to be added in a checkbox tree and allowing them to check which ones get 
added. It could even have a "show ignored" checkbox that would allow the user 
to add ignored resources to version control for those rare cases where that is 
desired.
Great.  Sounds good.  Newer versions of TortoiseCVS have this style of UI.  It
is very well done, I recommend taking a look to get some ideas about what works
well and what doesn't.
We currently do not hav the manpower to address this issue. Patches are welcome.
It should be noted that "Synchronize with repository" has similar functionality.
As of now 'LATER' and 'REMIND' resolutions are no longer supported.
Please reopen this bug if it is still valid for you.</WithOutStack>
  </Bug>
  <Bug>
    <BugId amount="100258" />
    <CreationDate amount="2005-06-15 14:24:00 -0400" />
    <DupId amount="" />
    <classification amount="Eclipse" />
    <Product amount="Platform" />
    <component amount="SWT" />
    <Version amount="3.1" />
    <rep_platform amount="PC" />
    <op_sys amount="Windows XP" />
    <priority amount="P3" />
    <bug_severity amount="enhancement" />
    <Summery>[DND] Provide a feedback (a drag under effect) when drop is being performed on a Text widget</Summery>
    <Patches amount="0" />
    <Stacktraces amount="0" />
    <SourceCodeRegions amount="0" />
    <Enumerations amount="0" />
    <bug_status amount="RESOLVED" />
    <resolution amount="WONTFIX" />
    <WithStack>Some applications provide a feedback when an object is being dragged over the
text to indicate where that object would be dropped. The feedback is simply an
i-beam like cursor following the mouse pointer. It would be nice to be able to
provide such a feedback in a Text widget using flags like
DND.FEEDBACK_INSERT_BEFORE and DND.FEEDBACK_INSERT_AFTER. I know that the widget
might not provide such a functionality itself, but maybe it could be implemented
inside the SWT layer. At last, it could probably be implemented by the user
himself inside DropTargetListener.dragOver() method, if only there was an API in
Text class to get the desired feedback (text cursor) position given mouse
pointer coordinates, which is missing.
There's no default drop target feedback for Text but one is available for StyledText. There's now API for the user to provide their own feedback.</WithStack>
    <WithOutStack>Some applications provide a feedback when an object is being dragged over the
text to indicate where that object would be dropped. The feedback is simply an
i-beam like cursor following the mouse pointer. It would be nice to be able to
provide such a feedback in a Text widget using flags like
DND.FEEDBACK_INSERT_BEFORE and DND.FEEDBACK_INSERT_AFTER. I know that the widget
might not provide such a functionality itself, but maybe it could be implemented
inside the SWT layer. At last, it could probably be implemented by the user
himself inside DropTargetListener.dragOver() method, if only there was an API in
Text class to get the desired feedback (text cursor) position given mouse
pointer coordinates, which is missing.
There's no default drop target feedback for Text but one is available for StyledText. There's now API for the user to provide their own feedback.</WithOutStack>
  </Bug>
  <Bug>
    <BugId amount="100259" />
    <CreationDate amount="2005-06-15 14:28:00 -0400" />
    <DupId amount="155275" />
    <classification amount="Tools" />
    <Product amount="CDT" />
    <component amount="cdt-debug" />
    <Version amount="3.0" />
    <rep_platform amount="PC" />
    <op_sys amount="Windows XP" />
    <priority amount="P3" />
    <bug_severity amount="normal" />
    <Summery>IndexOutOfBoundsException while dispatching debug events</Summery>
    <Patches amount="0" />
    <Stacktraces amount="1">
      <Stacktrace timestamp="1437330544430">
        <Exception>java.lang.IndexOutOfBoundsException</Exception>
        <Reason>Index: 10, Size: 10</Reason>
        <Frames>
          <Frame depth="0">java.util.ArrayList.RangeCheck(Unknown Source)</Frame>
          <Frame depth="1">java.util.ArrayList.get(Unknown Source)</Frame>
          <Frame depth="2">org.eclipse.cdt.debug.internal.core.model.CThread.updateStackFrames(CThread.java:242)</Frame>
          <Frame depth="3">org.eclipse.cdt.debug.internal.core.model.CThread.computeStackFrames(CThread.java:171)</Frame>
          <Frame depth="4">org.eclipse.cdt.debug.internal.core.model.CThread.computeStackFrames(CThread.java:277)</Frame>
          <Frame depth="5">org.eclipse.cdt.debug.internal.core.model.CStackFrame.exists(CStackFrame.java:459)</Frame>
          <Frame depth="6">org.eclipse.cdt.debug.internal.core.model.CStackFrame.canStepInto(CStackFrame.java:256)</Frame>
          <Frame depth="7">org.eclipse.debug.internal.ui.actions.StepIntoActionDelegate.checkCapability(StepIntoActionDelegate.java:24)</Frame>
          <Frame depth="8">org.eclipse.debug.internal.ui.actions.StepActionDelegate.isEnabledFor(StepActionDelegate.java:41)</Frame>
          <Frame depth="9">org.eclipse.debug.internal.ui.actions.AbstractDebugActionDelegate.getEnableStateForSelection(AbstractDebugActionDelegate.java:400)</Frame>
          <Frame depth="10">org.eclipse.debug.internal.ui.actions.AbstractDebugActionDelegate.update(AbstractDebugActionDelegate.java:252)</Frame>
          <Frame depth="11">org.eclipse.debug.internal.ui.actions.AbstractListenerActionDelegate.doHandleDebugEvent(AbstractListenerActionDelegate.java:79)</Frame>
          <Frame depth="12">org.eclipse.debug.internal.ui.actions.AbstractListenerActionDelegate.handleDebugEvents(AbstractListenerActionDelegate.java:57)</Frame>
          <Frame depth="13">org.eclipse.debug.core.DebugPlugin$EventNotifier.run(DebugPlugin.java:1080)</Frame>
          <Frame depth="14">org.eclipse.core.internal.runtime.InternalPlatform.run(InternalPlatform.java:1029)</Frame>
          <Frame depth="15">org.eclipse.core.runtime.Platform.run(Platform.java:775)</Frame>
          <Frame depth="16">org.eclipse.debug.core.DebugPlugin$EventNotifier.dispatch(DebugPlugin.java:1112)</Frame>
          <Frame depth="17">org.eclipse.debug.core.DebugPlugin$EventDispatchJob.run(DebugPlugin.java:342)</Frame>
          <Frame depth="18">org.eclipse.core.internal.jobs.Worker.run(Worker.java:67)</Frame>
        </Frames>
      </Stacktrace>
    </Stacktraces>
    <SourceCodeRegions amount="0" />
    <Enumerations amount="0" />
    <bug_status amount="RESOLVED" />
    <resolution amount="DUPLICATE" />
    <WithStack>Eclipse 3.1 M7 + CDT 3.0.0 Build I200506141049


Error 2005-06-15 13:57:46.55 An exception occurred while dispatching debug 
events.
java.lang.IndexOutOfBoundsException: Index: 10, Size: 10
at java.util.ArrayList.RangeCheck(Unknown Source)
at java.util.ArrayList.get(Unknown Source)
at org.eclipse.cdt.debug.internal.core.model.CThread.updateStackFrames
(CThread.java:242)
at org.eclipse.cdt.debug.internal.core.model.CThread.computeStackFrames
(CThread.java:171)
at org.eclipse.cdt.debug.internal.core.model.CThread.computeStackFrames
(CThread.java:277)
at org.eclipse.cdt.debug.internal.core.model.CStackFrame.exists
(CStackFrame.java:459)
at org.eclipse.cdt.debug.internal.core.model.CStackFrame.canStepInto
(CStackFrame.java:256)
at org.eclipse.debug.internal.ui.actions.StepIntoActionDelegate.checkCapability
(StepIntoActionDelegate.java:24)
at org.eclipse.debug.internal.ui.actions.StepActionDelegate.isEnabledFor
(StepActionDelegate.java:41)
at 
org.eclipse.debug.internal.ui.actions.AbstractDebugActionDelegate.getEnableStat
eForSelection(AbstractDebugActionDelegate.java:400)
at org.eclipse.debug.internal.ui.actions.AbstractDebugActionDelegate.update
(AbstractDebugActionDelegate.java:252)
at 
org.eclipse.debug.internal.ui.actions.AbstractListenerActionDelegate.doHandleDe
bugEvent(AbstractListenerActionDelegate.java:79)
at 
org.eclipse.debug.internal.ui.actions.AbstractListenerActionDelegate.handleDebu
gEvents(AbstractListenerActionDelegate.java:57)
at org.eclipse.debug.core.DebugPlugin$EventNotifier.run(DebugPlugin.java:1080)
at org.eclipse.core.internal.runtime.InternalPlatform.run
(InternalPlatform.java:1029)
at org.eclipse.core.runtime.Platform.run(Platform.java:775)
at org.eclipse.debug.core.DebugPlugin$EventNotifier.dispatch
(DebugPlugin.java:1112)
at org.eclipse.debug.core.DebugPlugin$EventDispatchJob.run
(DebugPlugin.java:342)
at org.eclipse.core.internal.jobs.Worker.run(Worker.java:67)
Reassigning to the pool.


*** This bug has been marked as a duplicate of 155275 ***</WithStack>
    <WithOutStack>Eclipse 3.1 M7 + CDT 3.0.0 Build I200506141049


Error 2005-06-15 13:57:46.55 An exception occurred while dispatching debug 
events.

Reassigning to the pool.


*** This bug has been marked as a duplicate of 155275 ***</WithOutStack>
  </Bug>
  <Bug>
    <BugId amount="100260" />
    <CreationDate amount="2005-06-15 14:29:00 -0400" />
    <DupId amount="" />
    <classification amount="Tools" />
    <Product amount="AspectJ" />
    <component amount="Compiler" />
    <Version amount="DEVELOPMENT" />
    <rep_platform amount="PC" />
    <op_sys amount="Linux" />
    <priority amount="P3" />
    <bug_severity amount="normal" />
    <Summery>[generics][itds] methods inherited from a generic parent</Summery>
    <Patches amount="0" />
    <Stacktraces amount="0" />
    <SourceCodeRegions amount="5">
      <source_code type="class">
        <location start="270" end="296" />
        <code>class Generic_Parent&lt;T&gt; {}</code>
      </source_code>
      <source_code type="class">
        <location start="298" end="344" />
        <code>class Child extends Generic_Parent&lt;Integer&gt; {}</code>
      </source_code>
      <source_code type="class">
        <location start="346" end="403" />
        <code>class Generic_Child&lt;T&gt; extends Generic_Parent&lt;Integer&gt; {}</code>
      </source_code>
      <source_code type="functiondef">
        <location start="423" end="473" />
        <code>public void Generic_Parent.inherited_method() {}</code>
      </source_code>
      <source_code type="functiondef">
        <location start="520" end="947" />
        <code>public void test() {
    int inherited_field;
    inherited_field = new Generic_Child().inherited_field; // works
    inherited_field = new Generic_Child&lt;Integer&gt;().inherited_field; // works
    inherited_field = new Child().inherited_field; // works

    new Generic_Child().inherited_method(); // works
    new Generic_Child&lt;Integer&gt;().inherited_method(); // unresolved
    new Child().inherited_method(); // unresolved
  }</code>
      </source_code>
    </SourceCodeRegions>
    <Enumerations amount="0" />
    <bug_status amount="RESOLVED" />
    <resolution amount="FIXED" />
    <WithStack>when using an intertype declaration to add a method to a generic class, the
method is not correctly inherited. the bug doesn't apply to fields.

Strangely enough, raw types (generic types instantiated without specifying a
type parameter) inherit the methods properly:


class Generic_Parent&lt;T&gt; {}

class Child extends Generic_Parent&lt;Integer&gt; {}

class Generic_Child&lt;T&gt; extends Generic_Parent&lt;Integer&gt; {}

aspect Injector {
  public void Generic_Parent.inherited_method() {}
  public int Generic_Parent.inherited_field;

  public void test() {
    int inherited_field;
    inherited_field = new Generic_Child().inherited_field; // works
    inherited_field = new Generic_Child&lt;Integer&gt;().inherited_field; // works
    inherited_field = new Child().inherited_field; // works

    new Generic_Child().inherited_method(); // works
    new Generic_Child&lt;Integer&gt;().inherited_method(); // unresolved
    new Child().inherited_method(); // unresolved
  }
}
Related to bug 99228 which fixed this problem for fields - and I also noted in
that bug that I was concerned about methods :)   Similar fix works here - we
ensure that when asked for methods on a parameterized type binding that we
delegate to a potential itd member finder on the source generic type.

fix checked in, waiting on build.
Dev build available from the download page: 
aspectj-DEVELOPMENT-20050620091600.jar</WithStack>
    <WithOutStack>when using an intertype declaration to add a method to a generic class, the
method is not correctly inherited. the bug doesn't apply to fields.

Strangely enough, raw types (generic types instantiated without specifying a
type parameter) inherit the methods properly:


class Generic_Parent&lt;T&gt; {}

class Child extends Generic_Parent&lt;Integer&gt; {}

class Generic_Child&lt;T&gt; extends Generic_Parent&lt;Integer&gt; {}

aspect Injector {
  public void Generic_Parent.inherited_method() {}
  public int Generic_Parent.inherited_field;

  public void test() {
    int inherited_field;
    inherited_field = new Generic_Child().inherited_field; // works
    inherited_field = new Generic_Child&lt;Integer&gt;().inherited_field; // works
    inherited_field = new Child().inherited_field; // works

    new Generic_Child().inherited_method(); // works
    new Generic_Child&lt;Integer&gt;().inherited_method(); // unresolved
    new Child().inherited_method(); // unresolved
  }
}
Related to bug 99228 which fixed this problem for fields - and I also noted in
that bug that I was concerned about methods :)   Similar fix works here - we
ensure that when asked for methods on a parameterized type binding that we
delegate to a potential itd member finder on the source generic type.

fix checked in, waiting on build.
Dev build available from the download page: 
aspectj-DEVELOPMENT-20050620091600.jar</WithOutStack>
  </Bug>
  <Bug>
    <BugId amount="100261" />
    <CreationDate amount="2005-06-15 14:33:00 -0400" />
    <DupId amount="" />
    <classification amount="Tools" />
    <Product amount="CDT" />
    <component amount="cdt-debug" />
    <Version amount="3.0" />
    <rep_platform amount="PC" />
    <op_sys amount="Windows XP" />
    <priority amount="P3" />
    <bug_severity amount="normal" />
    <Summery>Memory veiw:  Renderings content disappears when click on Vairable/Module... view</Summery>
    <Patches amount="0" />
    <Stacktraces amount="0" />
    <SourceCodeRegions amount="0" />
    <Enumerations amount="0" />
    <bug_status amount="CLOSED" />
    <resolution amount="FIXED" />
    <WithStack>Eclipse 3.1 M7 + CDT 3.0.0 Build I200506141049


First create a memory rendering, then click vairable or modules view, the 
rendering will be blank. Have to select the memory monitor again.


*** This bug has been marked as a duplicate of 99985 ***
Comment from Samantha Chan:

Memory View listens for selection events from all views and will try to bring 
up memory blocks from the same memory block retrieval.  Make sure that all your 
debug elements return the same memory block retrievals.  

I have worked around the problem by creating an adapter to adapt our debug 
elements to IMemoryBlockRetrieval and return the correct IMemoryBlockRetrieval 
when #getAdapter(...) is called.


Fixed.
Verified on CDT 3.0 RC3 (I200508081313)</WithStack>
    <WithOutStack>Eclipse 3.1 M7 + CDT 3.0.0 Build I200506141049


First create a memory rendering, then click vairable or modules view, the 
rendering will be blank. Have to select the memory monitor again.


*** This bug has been marked as a duplicate of 99985 ***
Comment from Samantha Chan:

Memory View listens for selection events from all views and will try to bring 
up memory blocks from the same memory block retrieval.  Make sure that all your 
debug elements return the same memory block retrievals.  

I have worked around the problem by creating an adapter to adapt our debug 
elements to IMemoryBlockRetrieval and return the correct IMemoryBlockRetrieval 
when #getAdapter(...) is called.


Fixed.
Verified on CDT 3.0 RC3 (I200508081313)</WithOutStack>
  </Bug>
  <Bug>
    <BugId amount="100262" />
    <CreationDate amount="2005-06-15 14:35:00 -0400" />
    <DupId amount="" />
    <classification amount="Tools" />
    <Product amount="TPTP Agent Controller" />
    <component amount="Platform.Communication" />
    <Version amount="4.0" />
    <rep_platform amount="PC" />
    <op_sys amount="Windows XP" />
    <priority amount="P3" />
    <bug_severity amount="enhancement" />
    <Summery>(Provisional) Console support in process controller</Summery>
    <Patches amount="0" />
    <Stacktraces amount="0" />
    <SourceCodeRegions amount="0" />
    <Enumerations amount="0" />
    <bug_status amount="CLOSED" />
    <resolution amount="FIXED" />
    <WithStack>The new process controller agent needs to support redirection of 
stdin/stdout/stderr to a client.
Feature work is completed.
As of TPTP 4.6.0, TPTP is in maintenance mode and focusing on improving quality by resolving relevant enhancements/defects and increasing test coverage through test creation, automation, Build Verification Tests (BVTs), and expanded run-time execution. As part of the TPTP Bugzilla housecleaning process (see http://wiki.eclipse.org/Bugzilla_Housecleaning_Processes), this enhancement/defect is verified/closed by the Project Lead since this enhancement/defect has been resolved and unverified for more than 1 year and considered to be fixed. If this enhancement/defect is still unresolved and reproducible in the latest TPTP release (http://www.eclipse.org/tptp/home/downloads/), please re-open.</WithStack>
    <WithOutStack>The new process controller agent needs to support redirection of 
stdin/stdout/stderr to a client.
Feature work is completed.
As of TPTP 4.6.0, TPTP is in maintenance mode and focusing on improving quality by resolving relevant enhancements/defects and increasing test coverage through test creation, automation, Build Verification Tests (BVTs), and expanded run-time execution. As part of the TPTP Bugzilla housecleaning process (see http://wiki.eclipse.org/Bugzilla_Housecleaning_Processes), this enhancement/defect is verified/closed by the Project Lead since this enhancement/defect has been resolved and unverified for more than 1 year and considered to be fixed. If this enhancement/defect is still unresolved and reproducible in the latest TPTP release (http://www.eclipse.org/tptp/home/downloads/), please re-open.</WithOutStack>
  </Bug>
  <Bug>
    <BugId amount="100263" />
    <CreationDate amount="2005-06-15 14:36:00 -0400" />
    <DupId amount="" />
    <classification amount="Tools" />
    <Product amount="CDT" />
    <component amount="cdt-core" />
    <Version amount="3.0" />
    <rep_platform amount="PC" />
    <op_sys amount="Windows XP" />
    <priority amount="P3" />
    <bug_severity amount="normal" />
    <Summery>typo in "New PathEntry Variable" dialog... extra overConfigurationBlock string</Summery>
    <Patches amount="0" />
    <Stacktraces amount="0" />
    <SourceCodeRegions amount="0" />
    <Enumerations amount="0" />
    <bug_status amount="VERIFIED" />
    <resolution amount="FIXED" />
    <WithStack>Window-&gt;Preferences-&gt;C/C++-&gt;PathEntry Variables-&gt;New

The string
"Name:overConfigurationBlock"
should be
"Name:"
Created attachment 23233
fix for this PR
Thanks Devin, I'll take a look
Fix in the head please verify
Looks good.</WithStack>
    <WithOutStack>Window-&gt;Preferences-&gt;C/C++-&gt;PathEntry Variables-&gt;New

The string
"Name:overConfigurationBlock"
should be
"Name:"
Created attachment 23233
fix for this PR
Thanks Devin, I'll take a look
Fix in the head please verify
Looks good.</WithOutStack>
  </Bug>
  <Bug>
    <BugId amount="100264" />
    <CreationDate amount="2005-06-15 14:36:00 -0400" />
    <DupId amount="" />
    <classification amount="Eclipse Foundation" />
    <Product amount="z_Archived" />
    <component amount="TPTP.monitoring" />
    <Version amount="unspecified" />
    <rep_platform amount="PC" />
    <op_sys amount="Windows XP" />
    <priority amount="P3" />
    <bug_severity amount="normal" />
    <Summery>3.1: Files to be fixed for translation</Summery>
    <Patches amount="0" />
    <Stacktraces amount="0" />
    <SourceCodeRegions amount="0" />
    <Enumerations amount="0" />
    <bug_status amount="CLOSED" />
    <resolution amount="FIXED" />
    <WithStack>We ran into a couple errors while running the CHKPII tool.  These files need to
be fixed for translation:

ECLIPSE\PLUGINS\ORG.ECLIPSE.HYADES.LOGGING.ADAPTER\HGLA_JAR\
  ORG.ECLIPSE.HYADES.LOGGING.ADAPTER.IMPL.COMPONENT.EVENT.XML  XML-10      969 
 (W) XML tag attribute (component) may contain translatable text which cannot be
translated.  Line: 4
Hubert, this file should be excluded from the CHKPII run.  Thanks.
I checked the chkpii log of the TPTP-4.0.0-200506161819 build.  
This file is already excluded from chkpii.  
As of TPTP 4.6.0, TPTP is in maintenance mode and focusing on improving quality by resolving relevant enhancements/defects and increasing test coverage through test creation, automation, Build Verification Tests (BVTs), and expanded run-time execution. As part of the TPTP Bugzilla housecleaning process (see http://wiki.eclipse.org/Bugzilla_Housecleaning_Processes), this enhancement/defect is verified/closed by the Project Lead since this enhancement/defect has been resolved and unverified for more than 1 year and considered to be fixed. If this enhancement/defect is still unresolved and reproducible in the latest TPTP release (http://www.eclipse.org/tptp/home/downloads/), please re-open.</WithStack>
    <WithOutStack>We ran into a couple errors while running the CHKPII tool.  These files need to
be fixed for translation:

ECLIPSE\PLUGINS\ORG.ECLIPSE.HYADES.LOGGING.ADAPTER\HGLA_JAR\
  ORG.ECLIPSE.HYADES.LOGGING.ADAPTER.IMPL.COMPONENT.EVENT.XML  XML-10      969 
 (W) XML tag attribute (component) may contain translatable text which cannot be
translated.  Line: 4
Hubert, this file should be excluded from the CHKPII run.  Thanks.
I checked the chkpii log of the TPTP-4.0.0-200506161819 build.  
This file is already excluded from chkpii.  
As of TPTP 4.6.0, TPTP is in maintenance mode and focusing on improving quality by resolving relevant enhancements/defects and increasing test coverage through test creation, automation, Build Verification Tests (BVTs), and expanded run-time execution. As part of the TPTP Bugzilla housecleaning process (see http://wiki.eclipse.org/Bugzilla_Housecleaning_Processes), this enhancement/defect is verified/closed by the Project Lead since this enhancement/defect has been resolved and unverified for more than 1 year and considered to be fixed. If this enhancement/defect is still unresolved and reproducible in the latest TPTP release (http://www.eclipse.org/tptp/home/downloads/), please re-open.</WithOutStack>
  </Bug>
  <Bug>
    <BugId amount="100265" />
    <CreationDate amount="2005-06-15 14:38:00 -0400" />
    <DupId amount="" />
    <classification amount="Tools" />
    <Product amount="TPTP Profiling" />
    <component amount="Platform.UI" />
    <Version amount="4.0" />
    <rep_platform amount="PC" />
    <op_sys amount="Windows XP" />
    <priority amount="P3" />
    <bug_severity amount="normal" />
    <Summery>3.1: Files to be fixed for translation</Summery>
    <Patches amount="0" />
    <Stacktraces amount="0" />
    <SourceCodeRegions amount="0" />
    <Enumerations amount="1">
      <Enumeration lines="7">
        <Lines>
          <Line>1. blocker</Line>
          <Line>2. critical</Line>
          <Line>3. major</Line>
          <Line>4. README</Line>
          <Line>5. web documentation</Line>
          <Line>I didn't read each defect individually, so if I've mistakenly deferred your</Line>
          <Line>bugzilla when I shouldn't have, then please change the target back to 4.0 i4.</Line>
        </Lines>
      </Enumeration>
    </Enumerations>
    <bug_status amount="CLOSED" />
    <resolution amount="FIXED" />
    <WithStack>The following errrors were found when we ran the CHKPII tool.  These files need
to be fixed for translation:

ECLIPSE\PLUGINS\ORG.ECLIPSE.HYADES.TRACE.SAMPLE\ARCHIVE\ANALYSISENGINESAMPLE\
  ANALYSISENGINESAMPLESYMPTOMDATABASE.XML  XML-10      969   (W) XML tag
attribute (value) may contain translatable text which cannot be translated. 
Line: 49
                                                       969   (W) XML tag
attribute (value) may contain translatable text which cannot be translated. 
Line: 52
                                                       969   (W) XML tag
attribute (value) may contain translatable text which cannot be translated. 
Line: 55
                                                       969   (W) XML tag
attribute (description) may contain translatable text which cannot be
translated.  Line: 69
                                                       969   (W) XML tag
attribute (description) may contain translatable text which cannot be
translated.  Line: 70
                                                       969   (W) XML tag
attribute (description) may contain translatable text which cannot be
translated.  Line: 71
                                                       969   (W) XML tag
attribute (description) may contain translatable text which cannot be
translated.  Line: 72
                                                       969   (W) XML tag
attribute (description) may contain translatable text which cannot be
translated.  Line: 73
                                                       969   (W) XML tag
attribute (description) may contain translatable text which cannot be
translated.  Line: 74
                                                       969   (W) XML tag
attribute (description) may contain translatable text which cannot be
translated.  Line: 78
                                                       969   (W) XML tag
attribute (description) may contain translatable text which cannot be
translated.  Line: 79
                                                       969   (W) XML tag
attribute (description) may contain translatable text which cannot be
translated.  Line: 80
                                                       969   (W) XML tag
attribute (description) may contain translatable text which cannot be
translated.  Line: 81
                                                       969   (W) XML tag
attribute (description) may contain translatable text which cannot be
translated.  Line: 82
  PLUGIN.PROPERTIES                        JAVA2-PRB         OK 

ECLIPSE\PLUGINS\ORG.ECLIPSE.HYADES.TRACE.SAMPLE\ARCHIVE\LOGANALYZERSAMPLE\
  SYMPTOMDB.XML  XML-10      969   (W) XML tag attribute (description) may
contain translatable text which cannot be translated.  Line: 47
                             969   (W) XML tag attribute (description) may
contain translatable text which cannot be translated.  Line: 50
                             969   (W) XML tag attribute (description) may
contain translatable text which cannot be translated.  Line: 57
                             969   (W) XML tag attribute (description) may
contain translatable text which cannot be translated.  Line: 61

ECLIPSE\PLUGINS\ORG.ECLIPSE.TPTP.PLATFORM.REPORT.CORE\PREFERENCES\EN\
  216_PALETTE.HTML  HTML-40           OK 
  BAR.HTM           HTML-40     868   Translatable text on line 21 must be
defined after CHARSET &lt;META&gt; tag.  Line: 22
  COLOUR_LABEL.HTML  HTML-40           OK 
  CONTROLS.HTML      HTML-40           OK 
  DATA_LABEL.HTML    HTML-40           OK 
  FONT_SCALE.HTML    HTML-40           OK 
  INDEXS.HTML        HTML-32           OK 
  LABELS.HTML        HTML-40           OK 
  LEFT.HTML          HTML-40           OK 
  LINE.HTM           HTML-40     868   Translatable text on line 21 must be
defined after CHARSET &lt;META&gt; tag.  Line: 22
  METER.HTM          HTML-40     868   Translatable text on line 21 must be
defined after CHARSET &lt;META&gt; tag.  Line: 22
  PATTERN.HTML       HTML-40           OK 
  PIE.HTM            HTML-40     868   Translatable text on line 21 must be
defined after CHARSET &lt;META&gt; tag.  Line: 22
  RIGHT.HTML         HTML-40           OK 
  SHAPES.HTML        HTML-40           OK 
  SHAPES_NULL.HTML   HTML-40           OK 
  VALUES.HTML        HTML-40     868   Translatable text on line 16 must be
defined after CHARSET &lt;META&gt; tag.  Line: 17
I am not sure which component this should be targeted. Please redirect as 
appropriate.
Switched to Platform.Execution as listed on TPTP Project Matrix: 
http://www.eclipse.org/tptp/home/project_info/structure/TPTP_Project_Matrix.html
Bulk deferral of all defects except for the following:
   1. blocker
   2. critical
   3. major
   4. README
   5. web documentation
I didn't read each defect individually, so if I've mistakenly deferred your
bugzilla when I shouldn't have, then please change the target back to 4.0 i4.

Reassigning to Valentina for a better dispatch of the updates.
For example, we know that ECLIPSE\PLUGINS\ORG.ECLIPSE.TPTP.PLATFORM.REPORT.
CORE\PREFERENCES\EN\ belongs to Sheldon Leeloy.
Alex, please fix the trace sample plugin then assign the defect to Sheldon for 
report fixes
The analysis engine symptom databases should not be translated!
We currently don't have a mechanism of loading the symptom database 
corresponding to the current locale so translating it would not help the user, 
he would still see english strings in the analysis results pane. More then that 
the sample log files used for analysis are not translated. 
If we want to provide a fully NL enabled sample that would work on locales on 
which the workbench is translated, then we would need to provide translated 
versions of the sample log files used to analyze and a mechanism to import the 
log file corresponding to the current locale and load the corresponding symptom 
datatabse on each. Until then I would disregard these files.
Sheldon, assigning to you for the rest of the files.
Files under 

ECLIPSE\PLUGINS\ORG.ECLIPSE.TPTP.PLATFORM.REPORT.CORE\PREFERENCES

should not be translated.  These files have already gone through translation. 

I'm marking this bug as fixed since there seems to be no other issues.
As of TPTP 4.6.0, TPTP is in maintenance mode and focusing on improving quality by resolving relevant enhancements/defects and increasing test coverage through test creation, automation, Build Verification Tests (BVTs), and expanded run-time execution. As part of the TPTP Bugzilla housecleaning process (see http://wiki.eclipse.org/Bugzilla_Housecleaning_Processes), this enhancement/defect is verified/closed by the Project Lead since this enhancement/defect has been resolved and unverified for more than 1 year and considered to be fixed. If this enhancement/defect is still unresolved and reproducible in the latest TPTP release (http://www.eclipse.org/tptp/home/downloads/), please re-open.</WithStack>
    <WithOutStack>The following errrors were found when we ran the CHKPII tool.  These files need
to be fixed for translation:

ECLIPSE\PLUGINS\ORG.ECLIPSE.HYADES.TRACE.SAMPLE\ARCHIVE\ANALYSISENGINESAMPLE\
  ANALYSISENGINESAMPLESYMPTOMDATABASE.XML  XML-10      969   (W) XML tag
attribute (value) may contain translatable text which cannot be translated. 
Line: 49
                                                       969   (W) XML tag
attribute (value) may contain translatable text which cannot be translated. 
Line: 52
                                                       969   (W) XML tag
attribute (value) may contain translatable text which cannot be translated. 
Line: 55
                                                       969   (W) XML tag
attribute (description) may contain translatable text which cannot be
translated.  Line: 69
                                                       969   (W) XML tag
attribute (description) may contain translatable text which cannot be
translated.  Line: 70
                                                       969   (W) XML tag
attribute (description) may contain translatable text which cannot be
translated.  Line: 71
                                                       969   (W) XML tag
attribute (description) may contain translatable text which cannot be
translated.  Line: 72
                                                       969   (W) XML tag
attribute (description) may contain translatable text which cannot be
translated.  Line: 73
                                                       969   (W) XML tag
attribute (description) may contain translatable text which cannot be
translated.  Line: 74
                                                       969   (W) XML tag
attribute (description) may contain translatable text which cannot be
translated.  Line: 78
                                                       969   (W) XML tag
attribute (description) may contain translatable text which cannot be
translated.  Line: 79
                                                       969   (W) XML tag
attribute (description) may contain translatable text which cannot be
translated.  Line: 80
                                                       969   (W) XML tag
attribute (description) may contain translatable text which cannot be
translated.  Line: 81
                                                       969   (W) XML tag
attribute (description) may contain translatable text which cannot be
translated.  Line: 82
  PLUGIN.PROPERTIES                        JAVA2-PRB         OK 

ECLIPSE\PLUGINS\ORG.ECLIPSE.HYADES.TRACE.SAMPLE\ARCHIVE\LOGANALYZERSAMPLE\
  SYMPTOMDB.XML  XML-10      969   (W) XML tag attribute (description) may
contain translatable text which cannot be translated.  Line: 47
                             969   (W) XML tag attribute (description) may
contain translatable text which cannot be translated.  Line: 50
                             969   (W) XML tag attribute (description) may
contain translatable text which cannot be translated.  Line: 57
                             969   (W) XML tag attribute (description) may
contain translatable text which cannot be translated.  Line: 61

ECLIPSE\PLUGINS\ORG.ECLIPSE.TPTP.PLATFORM.REPORT.CORE\PREFERENCES\EN\
  216_PALETTE.HTML  HTML-40           OK 
  BAR.HTM           HTML-40     868   Translatable text on line 21 must be
defined after CHARSET &lt;META&gt; tag.  Line: 22
  COLOUR_LABEL.HTML  HTML-40           OK 
  CONTROLS.HTML      HTML-40           OK 
  DATA_LABEL.HTML    HTML-40           OK 
  FONT_SCALE.HTML    HTML-40           OK 
  INDEXS.HTML        HTML-32           OK 
  LABELS.HTML        HTML-40           OK 
  LEFT.HTML          HTML-40           OK 
  LINE.HTM           HTML-40     868   Translatable text on line 21 must be
defined after CHARSET &lt;META&gt; tag.  Line: 22
  METER.HTM          HTML-40     868   Translatable text on line 21 must be
defined after CHARSET &lt;META&gt; tag.  Line: 22
  PATTERN.HTML       HTML-40           OK 
  PIE.HTM            HTML-40     868   Translatable text on line 21 must be
defined after CHARSET &lt;META&gt; tag.  Line: 22
  RIGHT.HTML         HTML-40           OK 
  SHAPES.HTML        HTML-40           OK 
  SHAPES_NULL.HTML   HTML-40           OK 
  VALUES.HTML        HTML-40     868   Translatable text on line 16 must be
defined after CHARSET &lt;META&gt; tag.  Line: 17
I am not sure which component this should be targeted. Please redirect as 
appropriate.
Switched to Platform.Execution as listed on TPTP Project Matrix: 
http://www.eclipse.org/tptp/home/project_info/structure/TPTP_Project_Matrix.html
Bulk deferral of all defects except for the following:
   1. blocker
   2. critical
   3. major
   4. README
   5. web documentation
I didn't read each defect individually, so if I've mistakenly deferred your
bugzilla when I shouldn't have, then please change the target back to 4.0 i4.

Reassigning to Valentina for a better dispatch of the updates.
For example, we know that ECLIPSE\PLUGINS\ORG.ECLIPSE.TPTP.PLATFORM.REPORT.
CORE\PREFERENCES\EN\ belongs to Sheldon Leeloy.
Alex, please fix the trace sample plugin then assign the defect to Sheldon for 
report fixes
The analysis engine symptom databases should not be translated!
We currently don't have a mechanism of loading the symptom database 
corresponding to the current locale so translating it would not help the user, 
he would still see english strings in the analysis results pane. More then that 
the sample log files used for analysis are not translated. 
If we want to provide a fully NL enabled sample that would work on locales on 
which the workbench is translated, then we would need to provide translated 
versions of the sample log files used to analyze and a mechanism to import the 
log file corresponding to the current locale and load the corresponding symptom 
datatabse on each. Until then I would disregard these files.
Sheldon, assigning to you for the rest of the files.
Files under 

ECLIPSE\PLUGINS\ORG.ECLIPSE.TPTP.PLATFORM.REPORT.CORE\PREFERENCES

should not be translated.  These files have already gone through translation. 

I'm marking this bug as fixed since there seems to be no other issues.
As of TPTP 4.6.0, TPTP is in maintenance mode and focusing on improving quality by resolving relevant enhancements/defects and increasing test coverage through test creation, automation, Build Verification Tests (BVTs), and expanded run-time execution. As part of the TPTP Bugzilla housecleaning process (see http://wiki.eclipse.org/Bugzilla_Housecleaning_Processes), this enhancement/defect is verified/closed by the Project Lead since this enhancement/defect has been resolved and unverified for more than 1 year and considered to be fixed. If this enhancement/defect is still unresolved and reproducible in the latest TPTP release (http://www.eclipse.org/tptp/home/downloads/), please re-open.</WithOutStack>
  </Bug>
  <Bug>
    <BugId amount="100266" />
    <CreationDate amount="2005-06-15 14:41:00 -0400" />
    <DupId amount="" />
    <classification amount="Eclipse" />
    <Product amount="JDT" />
    <component amount="UI" />
    <Version amount="3.1" />
    <rep_platform amount="All" />
    <op_sys amount="All" />
    <priority amount="P3" />
    <bug_severity amount="normal" />
    <Summery>[type wizards] "generate comments" not left enabled in new class and new type wizards</Summery>
    <Patches amount="0" />
    <Stacktraces amount="0" />
    <SourceCodeRegions amount="0" />
    <Enumerations amount="1">
      <Enumeration lines="7">
        <Lines>
          <Line>- keep the checkbox behavior as it is</Line>
          <Line>- move the 'Automatically add comments...' from 'Code Style' to 'Code Templates'</Line>
          <Line>page so that users see it when they click on the 'properties' link</Line>
          <Line>- improve the text with the 'properties' link so that it is obvious where the</Line>
          <Line>default can be changed</Line>
          <Line>fixed as suggested in comment 7</Line>
          <Line>&gt; 20070822</Line>
        </Lines>
      </Enumeration>
    </Enumerations>
    <bug_status amount="RESOLVED" />
    <resolution amount="FIXED" />
    <WithStack>Every time I create a new class by right-clicking on a package and choosing
New-&gt;Class, the "Generate comments" checkbox is not selected.  So, I have to
manually select it every time.  It would be nice if it retained the value from
the last use of the dialog.  (I seem to recall that this used to be the default
behavior, but in 3.1RC1 and 3.1RC2 this value does not seem to stick.)
David, 

we deceided to change the behavior to bring the check box more in sync with the
other code style preferences. The check box is now initialized from the code
style preference "Automatically add comments to new types and methods". The
check box on the wizard is only to temporarily override the setting.

With Eclipse 3.1 the code style settings can be configured per project.
Thanks a lot!  That solves the problem.
*** Bug 107222 has been marked as a duplicate of this bug. ***
*** Bug 119426 has been marked as a duplicate of this bug. ***
*** Bug 186377 has been marked as a duplicate of this bug. ***
*** Bug 154244 has been marked as a duplicate of this bug. ***
Martin and I discussed how we could improve this but still allow users to temporarily override the current properties:

- keep the checkbox behavior as it is
- move the 'Automatically add comments...' from 'Code Style' to 'Code Templates'
  page so that users see it when they click on the 'properties' link
- improve the text with the 'properties' link so that it is obvious where the
  default can be changed
fixed as suggested in comment 7
&gt; 20070822</WithStack>
    <WithOutStack>Every time I create a new class by right-clicking on a package and choosing
New-&gt;Class, the "Generate comments" checkbox is not selected.  So, I have to
manually select it every time.  It would be nice if it retained the value from
the last use of the dialog.  (I seem to recall that this used to be the default
behavior, but in 3.1RC1 and 3.1RC2 this value does not seem to stick.)
David, 

we deceided to change the behavior to bring the check box more in sync with the
other code style preferences. The check box is now initialized from the code
style preference "Automatically add comments to new types and methods". The
check box on the wizard is only to temporarily override the setting.

With Eclipse 3.1 the code style settings can be configured per project.
Thanks a lot!  That solves the problem.
*** Bug 107222 has been marked as a duplicate of this bug. ***
*** Bug 119426 has been marked as a duplicate of this bug. ***
*** Bug 186377 has been marked as a duplicate of this bug. ***
*** Bug 154244 has been marked as a duplicate of this bug. ***
Martin and I discussed how we could improve this but still allow users to temporarily override the current properties:

- keep the checkbox behavior as it is
- move the 'Automatically add comments...' from 'Code Style' to 'Code Templates'
  page so that users see it when they click on the 'properties' link
- improve the text with the 'properties' link so that it is obvious where the
  default can be changed
fixed as suggested in comment 7
&gt; 20070822</WithOutStack>
  </Bug>
  <Bug>
    <BugId amount="100267" />
    <CreationDate amount="2005-06-15 14:42:00 -0400" />
    <DupId amount="" />
    <classification amount="Eclipse" />
    <Product amount="JDT" />
    <component amount="Core" />
    <Version amount="3.0.1" />
    <rep_platform amount="All" />
    <op_sys amount="All" />
    <priority amount="P3" />
    <bug_severity amount="enhancement" />
    <Summery>Fine-grained IElementChangedListener notification on content change that is not a structural change</Summery>
    <Patches amount="0" />
    <Stacktraces amount="0" />
    <SourceCodeRegions amount="5">
      <source_code type="functiondef">
        <location start="1438" end="1486" />
        <code>foo(String, int)[*]: {CHILDREN | FINE GRAINED}</code>
      </source_code>
      <source_code type="functiondef">
        <location start="1742" end="1779" />
        <code>foo(String, int)[*]: {FINE GRAINED}</code>
      </source_code>
      <source_code type="functiondef">
        <location start="2582" end="2629" />
        <code>foo(String, int)[*]: {CONTENT | FINE GRAINED}</code>
      </source_code>
      <source_code type="functiondef">
        <location start="3229" end="3284" />
        <code>&gt;         foo(String, int)[*]: {CONTENT | FINE GRAINED}</code>
      </source_code>
      <source_code type="functiondef">
        <location start="3572" end="3610" />
        <code>foo(String, int)[*]: {CONTENT}</code>
      </source_code>
    </SourceCodeRegions>
    <Enumerations amount="2">
      <Enumeration lines="20">
        <Lines>
          <Line>A.java[*]: {CHILDREN | FINE GRAINED | PRIMARY RESOURCE}</Line>
          <Line>A[*]: {CHILDREN | FINE GRAINED}</Line>
          <Line />
          <Line>(In reply to comment #4)</Line>
          <Line>&gt; Markus, what problem do you see with this?</Line>
          <Line />
          <Line>It breaks the contracts of IJavaElementDelta#F_CONTENT and #F_FINE_GRAINED. The latter is mentioned in the IJavaElementDelta Javadoc, where it talks about "structural changes". Changing that silently to also also include non-structural changes would be a breaking change.</Line>
          <Line />
          <Line>Furthermore, it can be a performance problem or just reveal other problems in existing listeners that don't expect these additional child elements in deltas.</Line>
          <Line />
          <Line>&gt; A.java[*]: {CHILDREN | FINE GRAINED | PRIMARY RESOURCE}</Line>
          <Line>&gt;     A[*]: {CHILDREN | FINE GRAINED}</Line>
          <Line />
          <Line>I don't know if this is a stupid question and I think I should have asked 'this' first.</Line>
          <Line />
          <Line>Why isn't a simple IJavaElementDelta#F_CONTENT enough to cover the cases mentioned in comment #0?</Line>
          <Line />
          <Line>e.g.,</Line>
          <Line>A.java[*]: {CHILDREN | FINE GRAINED | PRIMARY RESOURCE}</Line>
          <Line>A[*]: {CHILDREN | FINE GRAINED}</Line>
        </Lines>
      </Enumeration>
      <Enumeration lines="7">
        <Lines>
          <Line>1) modifying field initializer</Line>
          <Line>2) modifying method body</Line>
          <Line>3) modifying method throws clause</Line>
          <Line>4) changing parameter name</Line>
          <Line>We provide fine grain deltas during reconcile operations.</Line>
          <Line>We do not provide more than a converted platform delta in case the file got</Line>
          <Line>changed as a result of regular resource changes.</Line>
        </Lines>
      </Enumeration>
    </Enumerations>
    <bug_status amount="REOPENED" />
    <resolution amount="" />
    <WithStack>Several types of changes do not notify the listener of the specific element 
that was modified. The listener only receives the modified class. Our plugin 
provides warning markers when elements with @generated have been modified. 
Without the specific element, we can only generate a warning for the class, and 
not also for the element as we would prefer.

The cases where we would like to receive the specific element modified:

1) modifying field initializer
2) modifying method body
3) modifying method throws clause
4) changing parameter name
We provide fine grain deltas during reconcile operations. 
We do not provide more than a converted platform delta in case the file got
changed as a result of regular resource changes.

Providing a fine grain delta in all cases would require holding an entire
picture of the workspace before a change so as to tell how different it became.

Please explain better your testcase, to see if there is more we can do to help.
Closing since there was no response
This would be helpful for all clients that compute and cache their own state based on an analysis of method content (e.g. for interprocedural analysis). 

Currently, they just get this change event:

[Working copy] Try.java[*]: {CONTENT | FINE GRAINED}

But when e.g. a local class is added (a structural change), then they get:

[Working copy] Try.java[*]: {CHILDREN | FINE GRAINED | AST AFFECTED}
	Try[*]: {CHILDREN | FINE GRAINED}
		foo(String, int)[*]: {CHILDREN | FINE GRAINED}
			Local[+]: {}

It would be nice if they could get a delta like this if the content of a method changed (but the method didn't change structurally):

[Working copy] Try.java[*]: {CHILDREN | FINE GRAINED | AST AFFECTED}
	Try[*]: {CHILDREN | FINE GRAINED}
		foo(String, int)[*]: {FINE GRAINED}

Since existing element delta listeners don't expect such events, I guess we need a new ElementChangedEvent constant so that clients can explicitly request the additional information, e.g. #FINE_GRAINED_CONTENT_CHANGE.


(In reply to comment #1)
&gt; We do not provide more than a converted platform delta in case the file got
&gt; changed as a result of regular resource changes.

Yes, I guess we have to live with that.
(In reply to comment #3)
&gt; 
&gt; Since existing element delta listeners don't expect such events, I guess we
&gt; need a new ElementChangedEvent constant so that clients can explicitly request
&gt; the additional information, e.g. #FINE_GRAINED_CONTENT_CHANGE.


Markus, what problem do you see with this?
A.java[*]: {CHILDREN | FINE GRAINED | PRIMARY RESOURCE}
	A[*]: {CHILDREN | FINE GRAINED}
		foo(String, int)[*]: {CONTENT | FINE GRAINED}
(In reply to comment #4)
&gt; Markus, what problem do you see with this?

It breaks the contracts of IJavaElementDelta#F_CONTENT and #F_FINE_GRAINED. The latter is mentioned in the IJavaElementDelta Javadoc, where it talks about "structural changes". Changing that silently to also also include non-structural changes would be a breaking change.

Furthermore, it can be a performance problem or just reveal other problems in existing listeners that don't expect these additional child elements in deltas.

&gt; A.java[*]: {CHILDREN | FINE GRAINED | PRIMARY RESOURCE}
&gt;     A[*]: {CHILDREN | FINE GRAINED}
&gt;         foo(String, int)[*]: {CONTENT | FINE GRAINED}
I don't know if this is a stupid question and I think I should have asked 'this' first.

Why isn't a simple IJavaElementDelta#F_CONTENT enough to cover the cases mentioned in comment #0?

e.g., 
A.java[*]: {CHILDREN | FINE GRAINED | PRIMARY RESOURCE}
    A[*]: {CHILDREN | FINE GRAINED}
        foo(String, int)[*]: {CONTENT}
Since we can report the modified elements only when listeners are registered with a new flag, it will be OK to reuse the existing F_CONTENT and F_FINE_GRAINED flags. The Javadoc just has to tell about the additional meaning of the reused flags for ElementChangedEvent#FINE_GRAINED_CONTENT_CHANGE listeners.

Since all changes below a CU currently have F_FINE_GRAINED set, I think it would be best to keep this. The Javadoc of F_FINE_GRAINED already tells that this flag doesn't indicate a change -- it just tells that the analysis has been made.

Setting F_CONTENT to an element delta that doesn't have F_CHILDREN set would be OK, but it's redundant: The absence of F_CHILDREN and the fact that the delta node exists already tell that. Every F_CHILDREN change is also a content change.</WithStack>
    <WithOutStack>Several types of changes do not notify the listener of the specific element 
that was modified. The listener only receives the modified class. Our plugin 
provides warning markers when elements with @generated have been modified. 
Without the specific element, we can only generate a warning for the class, and 
not also for the element as we would prefer.

The cases where we would like to receive the specific element modified:

1) modifying field initializer
2) modifying method body
3) modifying method throws clause
4) changing parameter name
We provide fine grain deltas during reconcile operations. 
We do not provide more than a converted platform delta in case the file got
changed as a result of regular resource changes.

Providing a fine grain delta in all cases would require holding an entire
picture of the workspace before a change so as to tell how different it became.

Please explain better your testcase, to see if there is more we can do to help.
Closing since there was no response
This would be helpful for all clients that compute and cache their own state based on an analysis of method content (e.g. for interprocedural analysis). 

Currently, they just get this change event:

[Working copy] Try.java[*]: {CONTENT | FINE GRAINED}

But when e.g. a local class is added (a structural change), then they get:

[Working copy] Try.java[*]: {CHILDREN | FINE GRAINED | AST AFFECTED}
	Try[*]: {CHILDREN | FINE GRAINED}
		foo(String, int)[*]: {CHILDREN | FINE GRAINED}
			Local[+]: {}

It would be nice if they could get a delta like this if the content of a method changed (but the method didn't change structurally):

[Working copy] Try.java[*]: {CHILDREN | FINE GRAINED | AST AFFECTED}
	Try[*]: {CHILDREN | FINE GRAINED}
		foo(String, int)[*]: {FINE GRAINED}

Since existing element delta listeners don't expect such events, I guess we need a new ElementChangedEvent constant so that clients can explicitly request the additional information, e.g. #FINE_GRAINED_CONTENT_CHANGE.


(In reply to comment #1)
&gt; We do not provide more than a converted platform delta in case the file got
&gt; changed as a result of regular resource changes.

Yes, I guess we have to live with that.
(In reply to comment #3)
&gt; 
&gt; Since existing element delta listeners don't expect such events, I guess we
&gt; need a new ElementChangedEvent constant so that clients can explicitly request
&gt; the additional information, e.g. #FINE_GRAINED_CONTENT_CHANGE.


Markus, what problem do you see with this?
A.java[*]: {CHILDREN | FINE GRAINED | PRIMARY RESOURCE}
	A[*]: {CHILDREN | FINE GRAINED}
		foo(String, int)[*]: {CONTENT | FINE GRAINED}
(In reply to comment #4)
&gt; Markus, what problem do you see with this?

It breaks the contracts of IJavaElementDelta#F_CONTENT and #F_FINE_GRAINED. The latter is mentioned in the IJavaElementDelta Javadoc, where it talks about "structural changes". Changing that silently to also also include non-structural changes would be a breaking change.

Furthermore, it can be a performance problem or just reveal other problems in existing listeners that don't expect these additional child elements in deltas.

&gt; A.java[*]: {CHILDREN | FINE GRAINED | PRIMARY RESOURCE}
&gt;     A[*]: {CHILDREN | FINE GRAINED}
&gt;         foo(String, int)[*]: {CONTENT | FINE GRAINED}
I don't know if this is a stupid question and I think I should have asked 'this' first.

Why isn't a simple IJavaElementDelta#F_CONTENT enough to cover the cases mentioned in comment #0?

e.g., 
A.java[*]: {CHILDREN | FINE GRAINED | PRIMARY RESOURCE}
    A[*]: {CHILDREN | FINE GRAINED}
        foo(String, int)[*]: {CONTENT}
Since we can report the modified elements only when listeners are registered with a new flag, it will be OK to reuse the existing F_CONTENT and F_FINE_GRAINED flags. The Javadoc just has to tell about the additional meaning of the reused flags for ElementChangedEvent#FINE_GRAINED_CONTENT_CHANGE listeners.

Since all changes below a CU currently have F_FINE_GRAINED set, I think it would be best to keep this. The Javadoc of F_FINE_GRAINED already tells that this flag doesn't indicate a change -- it just tells that the analysis has been made.

Setting F_CONTENT to an element delta that doesn't have F_CHILDREN set would be OK, but it's redundant: The absence of F_CHILDREN and the fact that the delta node exists already tell that. Every F_CHILDREN change is also a content change.</WithOutStack>
  </Bug>
  <Bug>
    <BugId amount="100268" />
    <CreationDate amount="2005-06-15 14:43:00 -0400" />
    <DupId amount="87522" />
    <classification amount="Eclipse" />
    <Product amount="JDT" />
    <component amount="UI" />
    <Version amount="3.1" />
    <rep_platform amount="PC" />
    <op_sys amount="Windows XP" />
    <priority amount="P3" />
    <bug_severity amount="normal" />
    <Summery>[quick fix] Quick fix for field never read locally doesn't work properly</Summery>
    <Patches amount="0" />
    <Stacktraces amount="0" />
    <SourceCodeRegions amount="2">
      <source_code type="assignment">
        <location start="214" end="253" />
        <code>val = Integer.parseInt("ABC123.4");</code>
      </source_code>
      <source_code type="functiondef">
        <location start="254" end="326" />
        <code>} catch (final NumberFormatException err) {
    err.printStackTrace();
}</code>
      </source_code>
    </SourceCodeRegions>
    <Enumerations amount="0" />
    <bug_status amount="RESOLVED" />
    <resolution amount="DUPLICATE" />
    <WithStack>I'm using 3.1RC2.

The "Remove...assigments without possible side effects" portions of this actions
doesn't work: the right side of the assignment is also removed.  Thus, if I have
something like:

int val;

try {
    val = Integer.parseInt("ABC123.4");
} catch (final NumberFormatException err) {
    err.printStackTrace();
}

I would expect the quick fix to remove the declaration for and assignment to
"val", but keep the "Integer.parseInt("ABC123.4");" statement, since I would
still be interested in a thrown NumberFormatException.


*** This bug has been marked as a duplicate of 87522 ***</WithStack>
    <WithOutStack>I'm using 3.1RC2.

The "Remove...assigments without possible side effects" portions of this actions
doesn't work: the right side of the assignment is also removed.  Thus, if I have
something like:

int val;

try {
    val = Integer.parseInt("ABC123.4");
} catch (final NumberFormatException err) {
    err.printStackTrace();
}

I would expect the quick fix to remove the declaration for and assignment to
"val", but keep the "Integer.parseInt("ABC123.4");" statement, since I would
still be interested in a thrown NumberFormatException.


*** This bug has been marked as a duplicate of 87522 ***</WithOutStack>
  </Bug>
  <Bug>
    <BugId amount="100269" />
    <CreationDate amount="2005-06-15 14:47:00 -0400" />
    <DupId amount="" />
    <classification amount="RT" />
    <Product amount="ERCP" />
    <component amount="Mobile" />
    <Version amount="M2" />
    <rep_platform amount="Other" />
    <op_sys amount="SymbianOS" />
    <priority amount="P3" />
    <bug_severity amount="normal" />
    <Summery>Some demo problems</Summery>
    <Patches amount="0" />
    <Stacktraces amount="0" />
    <SourceCodeRegions amount="0" />
    <Enumerations amount="2">
      <Enumeration lines="18">
        <Lines>
          <Line>1) PhoneBook:  Initially when a contact is selected, focus transfers to the</Line>
          <Line>details window. However, once focus leaves that window, you can never get it back.</Line>
          <Line />
          <Line>2) Simple Layouts: once the view is shrunk, there is not way to grow it.</Line>
          <Line />
          <Line>3) Complex Layout: There is no way to navigate out of the text field (this</Line>
          <Line>problem exists on all such CaptionedControls.) Tab inserts a tab character</Line>
          <Line>rather than acts as navigation key.</Line>
          <Line />
          <Line>4) MultiPageDialog displayed the first time I launched it. Thereafter, it causes</Line>
          <Line>some exception that ends the demo.</Line>
          <Line />
          <Line>5) The "error" message box does not display an error icon.</Line>
          <Line>1) PhoneBook:  Initially when a contact is selected, focus transfers to the</Line>
          <Line>details window. However, once focus leaves that window, you can never get it</Line>
          <Line>back.</Line>
          <Line>-&gt; This has been fixed in eSwt implementation for Series 80 (Fix in shell</Line>
          <Line>activation and focus).</Line>
        </Lines>
      </Enumeration>
      <Enumeration lines="23">
        <Lines>
          <Line>1) PhoneBook:  Initially when a contact is selected, focus transfers to the</Line>
          <Line>details window. However, once focus leaves that window, you can never get it</Line>
          <Line>back.</Line>
          <Line>-&gt; This has been fixed in eSwt implementation for Series 80 (Fix in shell</Line>
          <Line>activation and focus).</Line>
          <Line />
          <Line>2) Simple Layouts: once the view is shrunk, there is not way to grow it.</Line>
          <Line>-&gt; This has been fixed in eSwt implementation for Series 80 (Fix in priority</Line>
          <Line>handling for Command mapping to CBA and their ordering in menu).</Line>
          <Line />
          <Line>3) Complex Layout: There is no way to navigate out of the text field (this</Line>
          <Line>problem exists on all such CaptionedControls.) Tab inserts a tab character</Line>
          <Line>rather than acts as navigation key.</Line>
          <Line>-&gt; This is the normal behaviour of Series 80. In a text field, Tab inserts a</Line>
          <Line>tab character. To change the focus, you must use Ctrl + Tab.</Line>
          <Line />
          <Line>4) MultiPageDialog displayed the first time I launched it. Thereafter, it causes</Line>
          <Line>some exception that ends the demo.</Line>
          <Line>-&gt; This has been fixed in the Demo.</Line>
          <Line />
          <Line>5) The "error" message box does not display an error icon.</Line>
          <Line>-&gt; This is also the normal behaviour of Series 80, because it does not have an</Line>
          <Line>error icon. The information icon is displayed in error messages.</Line>
        </Lines>
      </Enumeration>
    </Enumerations>
    <bug_status amount="CLOSED" />
    <resolution amount="FIXED" />
    <WithStack>Overall, the 6/15/2005 demo is looking pretty good, but I found a few problems
(predominately in navigation).

1) PhoneBook:  Initially when a contact is selected, focus transfers to the
details window. However, once focus leaves that window, you can never get it back.

2) Simple Layouts: once the view is shrunk, there is not way to grow it.

3) Complex Layout: There is no way to navigate out of the text field (this
problem exists on all such CaptionedControls.) Tab inserts a tab character
rather than acts as navigation key.

4) MultiPageDialog displayed the first time I launched it. Thereafter, it causes
some exception that ends the demo.

5) The "error" message box does not display an error icon.
1) PhoneBook:  Initially when a contact is selected, focus transfers to the
details window. However, once focus leaves that window, you can never get it 
back.
-&gt; This has been fixed in eSwt implementation for Series 80 (Fix in shell 
activation and focus).

2) Simple Layouts: once the view is shrunk, there is not way to grow it.
-&gt; This has been fixed in eSwt implementation for Series 80 (Fix in priority 
handling for Command mapping to CBA and their ordering in menu).

3) Complex Layout: There is no way to navigate out of the text field (this
problem exists on all such CaptionedControls.) Tab inserts a tab character
rather than acts as navigation key.
-&gt; This is the normal behaviour of Series 80. In a text field, Tab inserts a 
tab character. To change the focus, you must use Ctrl + Tab.

4) MultiPageDialog displayed the first time I launched it. Thereafter, it causes
some exception that ends the demo.
-&gt; This has been fixed in the Demo.

5) The "error" message box does not display an error icon.
-&gt; This is also the normal behaviour of Series 80, because it does not have an 
error icon. The information icon is displayed in error messages.

Regarding #3. If that's the way you want the tab key to work it's your 
perogative; however, from a usability standpoint, I found it very surprising 
that the more commonly desrired option requires the more difficult user key 
entry.
Regarding #3, we have checked Series 80 style and it seems that you are right. 
The tab key is only considered as a tab character in multiline Texts, and not 
in single line. We will modify the implementation to make the tab key in a 
single Text change the focus.
all these things have been fixed
verified on various builds a long time ago
completed</WithStack>
    <WithOutStack>Overall, the 6/15/2005 demo is looking pretty good, but I found a few problems
(predominately in navigation).

1) PhoneBook:  Initially when a contact is selected, focus transfers to the
details window. However, once focus leaves that window, you can never get it back.

2) Simple Layouts: once the view is shrunk, there is not way to grow it.

3) Complex Layout: There is no way to navigate out of the text field (this
problem exists on all such CaptionedControls.) Tab inserts a tab character
rather than acts as navigation key.

4) MultiPageDialog displayed the first time I launched it. Thereafter, it causes
some exception that ends the demo.

5) The "error" message box does not display an error icon.
1) PhoneBook:  Initially when a contact is selected, focus transfers to the
details window. However, once focus leaves that window, you can never get it 
back.
-&gt; This has been fixed in eSwt implementation for Series 80 (Fix in shell 
activation and focus).

2) Simple Layouts: once the view is shrunk, there is not way to grow it.
-&gt; This has been fixed in eSwt implementation for Series 80 (Fix in priority 
handling for Command mapping to CBA and their ordering in menu).

3) Complex Layout: There is no way to navigate out of the text field (this
problem exists on all such CaptionedControls.) Tab inserts a tab character
rather than acts as navigation key.
-&gt; This is the normal behaviour of Series 80. In a text field, Tab inserts a 
tab character. To change the focus, you must use Ctrl + Tab.

4) MultiPageDialog displayed the first time I launched it. Thereafter, it causes
some exception that ends the demo.
-&gt; This has been fixed in the Demo.

5) The "error" message box does not display an error icon.
-&gt; This is also the normal behaviour of Series 80, because it does not have an 
error icon. The information icon is displayed in error messages.

Regarding #3. If that's the way you want the tab key to work it's your 
perogative; however, from a usability standpoint, I found it very surprising 
that the more commonly desrired option requires the more difficult user key 
entry.
Regarding #3, we have checked Series 80 style and it seems that you are right. 
The tab key is only considered as a tab character in multiline Texts, and not 
in single line. We will modify the implementation to make the tab key in a 
single Text change the focus.
all these things have been fixed
verified on various builds a long time ago
completed</WithOutStack>
  </Bug>
  <Bug>
    <BugId amount="100270" />
    <CreationDate amount="2005-06-15 14:47:00 -0400" />
    <DupId amount="" />
    <classification amount="Eclipse" />
    <Product amount="Platform" />
    <component amount="UI" />
    <Version amount="3.1" />
    <rep_platform amount="PC" />
    <op_sys amount="Windows XP" />
    <priority amount="P3" />
    <bug_severity amount="normal" />
    <Summery>Need to update the copyrights in our examples</Summery>
    <Patches amount="0" />
    <Stacktraces amount="0" />
    <SourceCodeRegions amount="0" />
    <Enumerations amount="0" />
    <bug_status amount="VERIFIED" />
    <resolution amount="FIXED" />
    <WithStack>RC2

The html in our examples need to have the copyrights updated (adding the meta
tag and removing the copyright gif).

org.eclipse.platform.doc.isv\buildDoc.xml lists the platform UI examples as the
following:

	   		&lt;include name="org.eclipse.ui.examples.javaeditor/doc-html/"/&gt;
	    	&lt;include name="org.eclipse.ui.examples.multipageeditor/doc-html/"/&gt;
	    	&lt;include name="org.eclipse.ui.examples.propertysheet/doc-html/"/&gt;
	   		&lt;include name="org.eclipse.ui.examples.readmetool/doc-html/"/&gt;
cc'ing Sonia...looks like she signed up to do this in bug #99017
I have updated and released these 4. Adding Dani as I forgot the javaeditor
example was his and made the changes in it.
Thanks Tod.
actually, javaeditor doesn't look quite right.  

In doc-html\ui-javaeditor-ex.html
the meta tag was added correctly but there is still a paragraph at the bottom 
that says:
&lt;p&gt;&lt;a href="notices.html"&gt;&lt;img src="cpy.gif" alt="Copyright IBM Corporation 
and others 2000, 2004" border="0"&gt;&lt;/a&gt;

Note this is different than the format of those that were removed, which is 
why the tool wouldn't catch it.  So you may want to review others for this 
problem and change manually.

Also, shouldn't we delete the gif and hglegal.htm from each doc-html?

Yes we should Dani - thanks. I was checking for these and must have missed this one.
I have removed the copyright gifs as well
Verified in 20050616-1200
Re-verified, as best I can, in I20050617-1618, Solaris Motif.

verified by searching for "org.eclipse.ui.examples.javaeditor" in the doc and
looking at the bottom of the page on Linux/Motif 3.1 RC3</WithStack>
    <WithOutStack>RC2

The html in our examples need to have the copyrights updated (adding the meta
tag and removing the copyright gif).

org.eclipse.platform.doc.isv\buildDoc.xml lists the platform UI examples as the
following:

	   		&lt;include name="org.eclipse.ui.examples.javaeditor/doc-html/"/&gt;
	    	&lt;include name="org.eclipse.ui.examples.multipageeditor/doc-html/"/&gt;
	    	&lt;include name="org.eclipse.ui.examples.propertysheet/doc-html/"/&gt;
	   		&lt;include name="org.eclipse.ui.examples.readmetool/doc-html/"/&gt;
cc'ing Sonia...looks like she signed up to do this in bug #99017
I have updated and released these 4. Adding Dani as I forgot the javaeditor
example was his and made the changes in it.
Thanks Tod.
actually, javaeditor doesn't look quite right.  

In doc-html\ui-javaeditor-ex.html
the meta tag was added correctly but there is still a paragraph at the bottom 
that says:
&lt;p&gt;&lt;a href="notices.html"&gt;&lt;img src="cpy.gif" alt="Copyright IBM Corporation 
and others 2000, 2004" border="0"&gt;&lt;/a&gt;

Note this is different than the format of those that were removed, which is 
why the tool wouldn't catch it.  So you may want to review others for this 
problem and change manually.

Also, shouldn't we delete the gif and hglegal.htm from each doc-html?

Yes we should Dani - thanks. I was checking for these and must have missed this one.
I have removed the copyright gifs as well
Verified in 20050616-1200
Re-verified, as best I can, in I20050617-1618, Solaris Motif.

verified by searching for "org.eclipse.ui.examples.javaeditor" in the doc and
looking at the bottom of the page on Linux/Motif 3.1 RC3</WithOutStack>
  </Bug>
  <Bug>
    <BugId amount="100271" />
    <CreationDate amount="2005-06-15 14:47:00 -0400" />
    <DupId amount="" />
    <classification amount="Eclipse" />
    <Product amount="JDT" />
    <component amount="Core" />
    <Version amount="3.1" />
    <rep_platform amount="PC" />
    <op_sys amount="Windows XP" />
    <priority amount="P3" />
    <bug_severity amount="normal" />
    <Summery>Cast to generic type within "for" iterator no longer works under 3.1RC2</Summery>
    <Patches amount="0" />
    <Stacktraces amount="0" />
    <SourceCodeRegions amount="6">
      <source_code type="import">
        <location start="255" end="283" />
        <code>import java.util.ArrayList;</code>
      </source_code>
      <source_code type="import">
        <location start="284" end="306" />
        <code>import java.util.List;</code>
      </source_code>
      <source_code type="class">
        <location start="308" end="490" />
        <code>public class Test1 {  
    static &lt;T&gt; List&lt;T&gt; foo() { return new ArrayList&lt;T&gt;(); }
    public static void main(String[] args) {
        for (String s: (List&lt;String&gt;)foo()) {}
    }
}</code>
      </source_code>
      <source_code type="import">
        <location start="757" end="784" />
        <code>import java.util.ArrayList;</code>
      </source_code>
      <source_code type="import">
        <location start="785" end="807" />
        <code>import java.util.List;</code>
      </source_code>
      <source_code type="class">
        <location start="809" end="1006" />
        <code>public class Test1 {  
    static &lt;T&gt; List&lt;T&gt; foo() { return new ArrayList&lt;T&gt;(); }
    public static void main(String[] args) {
    	List&lt;String&gt; foo = foo();
        for (String s: foo) {}
    }
}</code>
      </source_code>
    </SourceCodeRegions>
    <Enumerations amount="0" />
    <bug_status amount="RESOLVED" />
    <resolution amount="INVALID" />
    <WithStack>I just moved up to 3.1RC2 from 3.1M6 and some of my 1.5 code no longer compiles.
Here is a simple test case to demonstrate the problem. It compiles without error
under 3.1M6, but fails with an obscure error under 3.1RC2:

--------------------------------

import java.util.ArrayList;
import java.util.List;

public class Test1 {  
    static &lt;T&gt; List&lt;T&gt; foo() { return new ArrayList&lt;T&gt;(); }
    public static void main(String[] args) {
        for (String s: (List&lt;String&gt;)foo()) {}
    }
}
M6 was too permissive. We now flag an error, and javac agrees with us.

Our compiler was incorrectly using type expectation from cast to drive
inference, which is against the spec. So really, if the spec was changing we
would revert to old behavior.

Write instead:
import java.util.ArrayList;
import java.util.List;

public class Test1 {  
    static &lt;T&gt; List&lt;T&gt; foo() { return new ArrayList&lt;T&gt;(); }
    public static void main(String[] args) {
    	List&lt;String&gt; foo = foo();
        for (String s: foo) {}
    }
}
*** Bug 100879 has been marked as a duplicate of this bug. ***</WithStack>
    <WithOutStack>I just moved up to 3.1RC2 from 3.1M6 and some of my 1.5 code no longer compiles.
Here is a simple test case to demonstrate the problem. It compiles without error
under 3.1M6, but fails with an obscure error under 3.1RC2:

--------------------------------

import java.util.ArrayList;
import java.util.List;

public class Test1 {  
    static &lt;T&gt; List&lt;T&gt; foo() { return new ArrayList&lt;T&gt;(); }
    public static void main(String[] args) {
        for (String s: (List&lt;String&gt;)foo()) {}
    }
}
M6 was too permissive. We now flag an error, and javac agrees with us.

Our compiler was incorrectly using type expectation from cast to drive
inference, which is against the spec. So really, if the spec was changing we
would revert to old behavior.

Write instead:
import java.util.ArrayList;
import java.util.List;

public class Test1 {  
    static &lt;T&gt; List&lt;T&gt; foo() { return new ArrayList&lt;T&gt;(); }
    public static void main(String[] args) {
    	List&lt;String&gt; foo = foo();
        for (String s: foo) {}
    }
}
*** Bug 100879 has been marked as a duplicate of this bug. ***</WithOutStack>
  </Bug>
  <Bug>
    <BugId amount="100272" />
    <CreationDate amount="2005-06-15 14:49:00 -0400" />
    <DupId amount="" />
    <classification amount="Eclipse" />
    <Product amount="Platform" />
    <component amount="Compare" />
    <Version amount="3.1" />
    <rep_platform amount="PC" />
    <op_sys amount="Windows XP" />
    <priority amount="P3" />
    <bug_severity amount="normal" />
    <Summery>Need to update the copyrights in the compare examples</Summery>
    <Patches amount="0" />
    <Stacktraces amount="0" />
    <SourceCodeRegions amount="0" />
    <Enumerations amount="0" />
    <bug_status amount="RESOLVED" />
    <resolution amount="FIXED" />
    <WithStack>RC2

The html in the compare examples need to have the copyrights updated (adding the
meta tag and removing the copyright gif). I have a  tool if you need it (Dani
already has it).

org.eclipse.platform.doc.isv\buildDoc.xml lists the compare examples as the
following:

&lt;include name="org.eclipse.compare.examples/doc-html/"/&gt;
 &lt;include name="org.eclipse.compare.examples.xml/doc-html/"/&gt;
fixed for RC3</WithStack>
    <WithOutStack>RC2

The html in the compare examples need to have the copyrights updated (adding the
meta tag and removing the copyright gif). I have a  tool if you need it (Dani
already has it).

org.eclipse.platform.doc.isv\buildDoc.xml lists the compare examples as the
following:

&lt;include name="org.eclipse.compare.examples/doc-html/"/&gt;
 &lt;include name="org.eclipse.compare.examples.xml/doc-html/"/&gt;
fixed for RC3</WithOutStack>
  </Bug>
  <Bug>
    <BugId amount="100273" />
    <CreationDate amount="2005-06-15 14:51:00 -0400" />
    <DupId amount="" />
    <classification amount="Eclipse" />
    <Product amount="Platform" />
    <component amount="Debug" />
    <Version amount="3.1" />
    <rep_platform amount="PC" />
    <op_sys amount="Windows XP" />
    <priority amount="P3" />
    <bug_severity amount="normal" />
    <Summery>[Memory View]: Preference Table Renderings UI bug</Summery>
    <Patches amount="0" />
    <Stacktraces amount="0" />
    <SourceCodeRegions amount="0" />
    <Enumerations amount="1">
      <Enumeration lines="9">
        <Lines>
          <Line>- open up Preference Table Renderings dialog, the "number of line per page..."</Line>
          <Line>is greyed out.</Line>
          <Line>-uncheck "automatically load next page....", the "number of line per page..."</Line>
          <Line>should be enabled</Line>
          <Line>- click  button "Restore Defaults", both widgets mentioned above are enabled.</Line>
          <Line>Reassigning to the platform.</Line>
          <Line>Deferred</Line>
          <Line>Reopen for 3.2.</Line>
          <Line>Fixed in TableRenderingPreferencePage.</Line>
        </Lines>
      </Enumeration>
    </Enumerations>
    <bug_status amount="VERIFIED" />
    <resolution amount="FIXED" />
    <WithStack>Eclipse 3.1 M7 + CDT 3.0.0 Build I200506141049


- open up Preference Table Renderings dialog, the "number of line per page..." 
is greyed out.
-uncheck "automatically load next page....", the "number of line per page..." 
should be enabled 
- click  button "Restore Defaults", both widgets mentioned above are enabled.
Reassigning to the platform.
Deferred
Reopen for 3.2.
Fixed in TableRenderingPreferencePage.

Fixed in HEAD and async_viewer_branch_2.
Darin - 
Please verify.  Thanks...
Samantha
Verified.</WithStack>
    <WithOutStack>Eclipse 3.1 M7 + CDT 3.0.0 Build I200506141049


- open up Preference Table Renderings dialog, the "number of line per page..." 
is greyed out.
-uncheck "automatically load next page....", the "number of line per page..." 
should be enabled 
- click  button "Restore Defaults", both widgets mentioned above are enabled.
Reassigning to the platform.
Deferred
Reopen for 3.2.
Fixed in TableRenderingPreferencePage.

Fixed in HEAD and async_viewer_branch_2.
Darin - 
Please verify.  Thanks...
Samantha
Verified.</WithOutStack>
  </Bug>
  <Bug>
    <BugId amount="100274" />
    <CreationDate amount="2005-06-15 14:51:00 -0400" />
    <DupId amount="" />
    <classification amount="Eclipse" />
    <Product amount="Platform" />
    <component amount="User Assistance" />
    <Version amount="3.1" />
    <rep_platform amount="PC" />
    <op_sys amount="Windows XP" />
    <priority amount="P3" />
    <bug_severity amount="normal" />
    <Summery>Need to update the copyrights in the help examples</Summery>
    <Patches amount="0" />
    <Stacktraces amount="0" />
    <SourceCodeRegions amount="0" />
    <Enumerations amount="0" />
    <bug_status amount="RESOLVED" />
    <resolution amount="FIXED" />
    <WithStack>RC2

The html in the help examples need to have the copyrights updated (adding the
meta tag and removing the copyright gif). I have a  tool if you need it.


org.eclipse.platform.doc.isv\buildDoc.xml lists the help examples as the
following:
    		&lt;include name="org.eclipse.help.examples.ex1/doc-html/"/&gt;
Lend me the tool with a user manual.  Thanks.
Created attachment 23234
Our tool

Here is the tool. Instructions are in the class comment.
I ran the tool.  All HTML files in the example have been updated.
Marking as fixed.</WithStack>
    <WithOutStack>RC2

The html in the help examples need to have the copyrights updated (adding the
meta tag and removing the copyright gif). I have a  tool if you need it.


org.eclipse.platform.doc.isv\buildDoc.xml lists the help examples as the
following:
    		&lt;include name="org.eclipse.help.examples.ex1/doc-html/"/&gt;
Lend me the tool with a user manual.  Thanks.
Created attachment 23234
Our tool

Here is the tool. Instructions are in the class comment.
I ran the tool.  All HTML files in the example have been updated.
Marking as fixed.</WithOutStack>
  </Bug>
  <Bug>
    <BugId amount="100275" />
    <CreationDate amount="2005-06-15 14:52:00 -0400" />
    <DupId amount="" />
    <classification amount="Eclipse" />
    <Product amount="JDT" />
    <component amount="Core" />
    <Version amount="3.1" />
    <rep_platform amount="PC" />
    <op_sys amount="Windows XP" />
    <priority amount="P3" />
    <bug_severity amount="normal" />
    <Summery>Method never used locally messages generated inappropriately</Summery>
    <Patches amount="0" />
    <Stacktraces amount="0" />
    <SourceCodeRegions amount="0" />
    <Enumerations amount="0" />
    <bug_status amount="RESOLVED" />
    <resolution amount="INVALID" />
    <WithStack>It looks like RC2 is now generating these messages for one apparently random
publi c method defined within anonymous inner classes.
Could you please give an example? If this is within an anonymous, it might mean
that the method is not overriding another method from the superclass.
That is true. The compiler can now detect dead local code. If you believe it is
flagging a method which gets used somehow, then please provide steps to reproduce.

It is already aware of overriding scenario, and should be fine (all early
reactions got proven to be unsound, so you may be the one).
Ah, this isn't a bug after all.  My example was with
getPreferredScrollableViewportSize() in JList, but it turns out the author of
the code misspelled "Preferred" as "Prefrered".  So this bug just became a cool
new feature for us.  Thanks!
Glad it found you a bug.
Closing as invalid.</WithStack>
    <WithOutStack>It looks like RC2 is now generating these messages for one apparently random
publi c method defined within anonymous inner classes.
Could you please give an example? If this is within an anonymous, it might mean
that the method is not overriding another method from the superclass.
That is true. The compiler can now detect dead local code. If you believe it is
flagging a method which gets used somehow, then please provide steps to reproduce.

It is already aware of overriding scenario, and should be fine (all early
reactions got proven to be unsound, so you may be the one).
Ah, this isn't a bug after all.  My example was with
getPreferredScrollableViewportSize() in JList, but it turns out the author of
the code misspelled "Preferred" as "Prefrered".  So this bug just became a cool
new feature for us.  Thanks!
Glad it found you a bug.
Closing as invalid.</WithOutStack>
  </Bug>
  <Bug>
    <BugId amount="100276" />
    <CreationDate amount="2005-06-15 14:53:00 -0400" />
    <DupId amount="" />
    <classification amount="Eclipse" />
    <Product amount="Platform" />
    <component amount="Team" />
    <Version amount="3.1" />
    <rep_platform amount="PC" />
    <op_sys amount="Windows XP" />
    <priority amount="P3" />
    <bug_severity amount="normal" />
    <Summery>Need to update the copyrights in the team examples</Summery>
    <Patches amount="0" />
    <Stacktraces amount="0" />
    <SourceCodeRegions amount="0" />
    <Enumerations amount="0" />
    <bug_status amount="RESOLVED" />
    <resolution amount="FIXED" />
    <WithStack>RC2

The html in the team examples need to have the copyrights updated (adding the
meta tag and removing the copyright gif). I have a  tool in the ui internal
repository called CopyrightFixer in org.eclipse.doc.tools.

org.eclipse.platform.doc.isv\buildDoc.xml lists the team examples as the
following:

&lt;include name="org.eclipse.team.examples.filesystem/doc-html/"/&gt;
Fixed</WithStack>
    <WithOutStack>RC2

The html in the team examples need to have the copyrights updated (adding the
meta tag and removing the copyright gif). I have a  tool in the ui internal
repository called CopyrightFixer in org.eclipse.doc.tools.

org.eclipse.platform.doc.isv\buildDoc.xml lists the team examples as the
following:

&lt;include name="org.eclipse.team.examples.filesystem/doc-html/"/&gt;
Fixed</WithOutStack>
  </Bug>
  <Bug>
    <BugId amount="100277" />
    <CreationDate amount="2005-06-15 14:59:00 -0400" />
    <DupId amount="" />
    <classification amount="Tools" />
    <Product amount="TPTP Release Engineering" />
    <component amount="Build" />
    <Version amount="4.0" />
    <rep_platform amount="PC" />
    <op_sys amount="Windows XP" />
    <priority amount="P3" />
    <bug_severity amount="normal" />
    <Summery>3.1: Files need to be fixed for translation</Summery>
    <Patches amount="0" />
    <Stacktraces amount="0" />
    <SourceCodeRegions amount="0" />
    <Enumerations amount="0" />
    <bug_status amount="CLOSED" />
    <resolution amount="FIXED" />
    <WithStack>These errors were found when running the CHKPII tool.  These files need to be
fixed for translation:

ECLIPSE\PLUGINS\ORG.ECLIPSE.TPTP.PLATFORM.REPORT.CORE\REPORT_JAR\ORG\ECLIPSE\TPTP\PLATFORM\REPORT\DRIVERS\HTML\
  DHTML.XML     XML-10      968   XML decimal/hex symbol should not be used:
&amp;#x22;.  Use named symbols instead.  Line: 24
                            968   XML decimal/hex symbol should not be used:
&amp;#x22;.  Use named symbols instead.  Line: 24
                            968   XML decimal/hex symbol should not be used:
&amp;#x22;.  Use named symbols instead.  Line: 24
                            968   XML decimal/hex symbol should not be used:
&amp;#x22;.  Use named symbols instead.  Line: 24
                            968   XML decimal/hex symbol should not be used:
&amp;#x22;.  Use named symbols instead.  Line: 26
                            968   XML decimal/hex symbol should not be used:
&amp;#x22;.  Use named symbols instead.  Line: 26
                            968   XML decimal/hex symbol should not be used:
&amp;#x22;.  Use named symbols instead.  Line: 55
                            968   XML decimal/hex symbol should not be used:
&amp;#x22;.  Use named symbols instead.  Line: 55
                            968   XML decimal/hex symbol should not be used:
&amp;#x22;.  Use named symbols instead.  Line: 61
                            968   XML decimal/hex symbol should not be used:
&amp;#x22;.  Use named symbols instead.  Line: 61
                            968   XML decimal/hex symbol should not be used:
&amp;#x22;.  Use named symbols instead.  Line: 68
                            968   XML decimal/hex symbol should not be used:
&amp;#x22;.  Use named symbols instead.  Line: 68
                            968   XML decimal/hex symbol should not be used:
&amp;#x22;.  Use named symbols instead.  Line: 80
                            968   XML decimal/hex symbol should not be used:
&amp;#x22;.  Use named symbols instead.  Line: 80
                            968   XML decimal/hex symbol should not be used:
&amp;#x22;.  Use named symbols instead.  Line: 81
                            968   XML decimal/hex symbol should not be used:
&amp;#x22;.  Use named symbols instead.  Line: 81
                            968   XML decimal/hex symbol should not be used:
&amp;#x22;.  Use named symbols instead.  Line: 94
                            968   XML decimal/hex symbol should not be used:
&amp;#x22;.  Use named symbols instead.  Line: 94
                            968   XML decimal/hex symbol should not be used:
&amp;#x22;.  Use named symbols instead.  Line: 94
                            968   XML decimal/hex symbol should not be used:
&amp;#x22;.  Use named symbols instead.  Line: 94
                            968   XML decimal/hex symbol should not be used:
&amp;#x22;.  Use named symbols instead.  Line: 95
                            968   XML decimal/hex symbol should not be used:
&amp;#x22;.  Use named symbols instead.  Line: 95
                            968   XML decimal/hex symbol should not be used:
&amp;#x22;.  Use named symbols instead.  Line: 95
                            968   XML decimal/hex symbol should not be used:
&amp;#x22;.  Use named symbols instead.  Line: 95
                            968   XML decimal/hex symbol should not be used:
&amp;#x22;.  Use named symbols instead.  Line: 95
                            968   XML decimal/hex symbol should not be used:
&amp;#x22;.  Use named symbols instead.  Line: 95
                            968   XML decimal/hex symbol should not be used:
&amp;#x22;.  Use named symbols instead.  Line: 111
                            968   XML decimal/hex symbol should not be used:
&amp;#x22;.  Use named symbols instead.  Line: 111
                            968   XML decimal/hex symbol should not be used:
&amp;#x22;.  Use named symbols instead.  Line: 111
                            968   XML decimal/hex symbol should not be used:
&amp;#x22;.  Use named symbols instead.  Line: 111
                            968   XML decimal/hex symbol should not be used:
&amp;#x22;.  Use named symbols instead.  Line: 111
                            968   XML decimal/hex symbol should not be used:
&amp;#x22;.  Use named symbols instead.  Line: 111
                            968   XML decimal/hex symbol should not be used:
&amp;#x22;.  Use named symbols instead.  Line: 111
                            968   XML decimal/hex symbol should not be used:
&amp;#x22;.  Use named symbols instead.  Line: 111
                            968   XML decimal/hex symbol should not be used:
&amp;#x22;.  Use named symbols instead.  Line: 111
                            968   XML decimal/hex symbol should not be used:
&amp;#x22;.  Use named symbols instead.  Line: 111
                            968   XML decimal/hex symbol should not be used:
&amp;#x22;.  Use named symbols instead.  Line: 116
                            968   XML decimal/hex symbol should not be used:
&amp;#x22;.  Use named symbols instead.  Line: 116
                            968   XML decimal/hex symbol should not be used:
&amp;#x22;.  Use named symbols instead.  Line: 116
                            968   XML decimal/hex symbol should not be used:
&amp;#x22;.  Use named symbols instead.  Line: 116
                            968   XML decimal/hex symbol should not be used:
&amp;#x22;.  Use named symbols instead.  Line: 116
                            968   XML decimal/hex symbol should not be used:
&amp;#x22;.  Use named symbols instead.  Line: 116
                            968   XML decimal/hex symbol should not be used:
&amp;#x22;.  Use named symbols instead.  Line: 116
                            968   XML decimal/hex symbol should not be used:
&amp;#x22;.  Use named symbols instead.  Line: 116
                            968   XML decimal/hex symbol should not be used:
&amp;#x22;.  Use named symbols instead.  Line: 116
                            968   XML decimal/hex symbol should not be used:
&amp;#x22;.  Use named symbols instead.  Line: 116
                            968   XML decimal/hex symbol should not be used:
&amp;#x22;.  Use named symbols instead.  Line: 121
                            968   XML decimal/hex symbol should not be used:
&amp;#x22;.  Use named symbols instead.  Line: 121
                            968   XML decimal/hex symbol should not be used:
&amp;#x22;.  Use named symbols instead.  Line: 133
                            968   XML decimal/hex symbol should not be used:
&amp;#x22;.  Use named symbols instead.  Line: 133
                            968   XML decimal/hex symbol should not be used:
&amp;#x22;.  Use named symbols instead.  Line: 133
                            968   XML decimal/hex symbol should not be used:
&amp;#x22;.  Use named symbols instead.  Line: 133
                            968   XML decimal/hex symbol should not be used:
&amp;#x22;.  Use named symbols instead.  Line: 138
                            968   XML decimal/hex symbol should not be used:
&amp;#x22;.  Use named symbols instead.  Line: 138
                            968   XML decimal/hex symbol should not be used:
&amp;#x22;.  Use named symbols instead.  Line: 138
                            968   XML decimal/hex symbol should not be used:
&amp;#x22;.  Use named symbols instead.  Line: 138
                            968   XML decimal/hex symbol should not be used:
&amp;#x22;.  Use named symbols instead.  Line: 143
                            968   XML decimal/hex symbol should not be used:
&amp;#x22;.  Use named symbols instead.  Line: 143
                            968   XML decimal/hex symbol should not be used:
&amp;#x22;.  Use named symbols instead.  Line: 149
                            968   XML decimal/hex symbol should not be used:
&amp;#x22;.  Use named symbols instead.  Line: 149
  DHTMLGRAPHICAPPLET.XML  XML-10      968   XML decimal/hex symbol should not be
used: &amp;#34;.  Use named symbols instead.  Line: 24
                                      968   XML decimal/hex symbol should not be
used: &amp;#34;.  Use named symbols instead.  Line: 24
                                      968   XML decimal/hex symbol should not be
used: &amp;#34;.  Use named symbols instead.  Line: 25
                                      968   XML decimal/hex symbol should not be
used: &amp;#34;.  Use named symbols instead.  Line: 25
                                      968   XML decimal/hex symbol should not be
used: &amp;#34;.  Use named symbols instead.  Line: 26
                                      968   XML decimal/hex symbol should not be
used: &amp;#34;.  Use named symbols instead.  Line: 26
                                      968   XML decimal/hex symbol should not be
used: &amp;#34;.  Use named symbols instead.  Line: 26
                                      968   XML decimal/hex symbol should not be
used: &amp;#34;.  Use named symbols instead.  Line: 26
                                      968   XML decimal/hex symbol should not be
used: &amp;#34;.  Use named symbols instead.  Line: 27
                                      968   XML decimal/hex symbol should not be
used: &amp;#34;.  Use named symbols instead.  Line: 27
                                      968   XML decimal/hex symbol should not be
used: &amp;#34;.  Use named symbols instead.  Line: 27
                                      968   XML decimal/hex symbol should not be
used: &amp;#34;.  Use named symbols instead.  Line: 27
  DHTMLGRAPHICSVG.XML     XML-10      968   XML decimal/hex symbol should not be
used: &amp;#34;.  Use named symbols instead.  Line: 18
                                      968   XML decimal/hex symbol should not be
used: &amp;#34;.  Use named symbols instead.  Line: 18
                                      968   XML decimal/hex symbol should not be
used: &amp;#34;.  Use named symbols instead.  Line: 19
                                      968   XML decimal/hex symbol should not be
used: &amp;#34;.  Use named symbols instead.  Line: 19
                                      968   XML decimal/hex symbol should not be
used: &amp;#34;.  Use named symbols instead.  Line: 20
                                      968   XML decimal/hex symbol should not be
used: &amp;#34;.  Use named symbols instead.  Line: 20
                                      968   XML decimal/hex symbol should not be
used: &amp;#34;.  Use named symbols instead.  Line: 21
                                      968   XML decimal/hex symbol should not be
used: &amp;#34;.  Use named symbols instead.  Line: 21

ECLIPSE\PLUGINS\ORG.ECLIPSE.TPTP.PLATFORM.REPORT.SAMPLES\INPUT\
  LINE.XML      XML-10      969   (W) XML tag attribute (label) may contain
translatable text which cannot be translated.  Line: 4
Sheldon, I think you own these files, right? If no, then reassign to Dan.
The only files in org.eclipse.tptp.platform.report.core that should be 
translated is plugin.properties

The only files org.eclipse.tptp.platform.report.samples  that should be 
translated is plugin.properties


Reassign this bug since this is build related.
these files have already been excluded from chkpii.  No changes needed for the 
build. 
Hubert, could you send me your CHKPII ignore list (to kitlo@us.ibm.com) so I 
can remove all the files you don't expect to be translated. Thanks.
As of TPTP 4.6.0, TPTP is in maintenance mode and focusing on improving quality by resolving relevant enhancements/defects and increasing test coverage through test creation, automation, Build Verification Tests (BVTs), and expanded run-time execution. As part of the TPTP Bugzilla housecleaning process (see http://wiki.eclipse.org/Bugzilla_Housecleaning_Processes), this enhancement/defect is verified/closed by the Project Lead since this enhancement/defect has been resolved and unverified for more than 1 year and considered to be fixed. If this enhancement/defect is still unresolved and reproducible in the latest TPTP release (http://www.eclipse.org/tptp/home/downloads/), please re-open.</WithStack>
    <WithOutStack>These errors were found when running the CHKPII tool.  These files need to be
fixed for translation:

ECLIPSE\PLUGINS\ORG.ECLIPSE.TPTP.PLATFORM.REPORT.CORE\REPORT_JAR\ORG\ECLIPSE\TPTP\PLATFORM\REPORT\DRIVERS\HTML\
  DHTML.XML     XML-10      968   XML decimal/hex symbol should not be used:
&amp;#x22;.  Use named symbols instead.  Line: 24
                            968   XML decimal/hex symbol should not be used:
&amp;#x22;.  Use named symbols instead.  Line: 24
                            968   XML decimal/hex symbol should not be used:
&amp;#x22;.  Use named symbols instead.  Line: 24
                            968   XML decimal/hex symbol should not be used:
&amp;#x22;.  Use named symbols instead.  Line: 24
                            968   XML decimal/hex symbol should not be used:
&amp;#x22;.  Use named symbols instead.  Line: 26
                            968   XML decimal/hex symbol should not be used:
&amp;#x22;.  Use named symbols instead.  Line: 26
                            968   XML decimal/hex symbol should not be used:
&amp;#x22;.  Use named symbols instead.  Line: 55
                            968   XML decimal/hex symbol should not be used:
&amp;#x22;.  Use named symbols instead.  Line: 55
                            968   XML decimal/hex symbol should not be used:
&amp;#x22;.  Use named symbols instead.  Line: 61
                            968   XML decimal/hex symbol should not be used:
&amp;#x22;.  Use named symbols instead.  Line: 61
                            968   XML decimal/hex symbol should not be used:
&amp;#x22;.  Use named symbols instead.  Line: 68
                            968   XML decimal/hex symbol should not be used:
&amp;#x22;.  Use named symbols instead.  Line: 68
                            968   XML decimal/hex symbol should not be used:
&amp;#x22;.  Use named symbols instead.  Line: 80
                            968   XML decimal/hex symbol should not be used:
&amp;#x22;.  Use named symbols instead.  Line: 80
                            968   XML decimal/hex symbol should not be used:
&amp;#x22;.  Use named symbols instead.  Line: 81
                            968   XML decimal/hex symbol should not be used:
&amp;#x22;.  Use named symbols instead.  Line: 81
                            968   XML decimal/hex symbol should not be used:
&amp;#x22;.  Use named symbols instead.  Line: 94
                            968   XML decimal/hex symbol should not be used:
&amp;#x22;.  Use named symbols instead.  Line: 94
                            968   XML decimal/hex symbol should not be used:
&amp;#x22;.  Use named symbols instead.  Line: 94
                            968   XML decimal/hex symbol should not be used:
&amp;#x22;.  Use named symbols instead.  Line: 94
                            968   XML decimal/hex symbol should not be used:
&amp;#x22;.  Use named symbols instead.  Line: 95
                            968   XML decimal/hex symbol should not be used:
&amp;#x22;.  Use named symbols instead.  Line: 95
                            968   XML decimal/hex symbol should not be used:
&amp;#x22;.  Use named symbols instead.  Line: 95
                            968   XML decimal/hex symbol should not be used:
&amp;#x22;.  Use named symbols instead.  Line: 95
                            968   XML decimal/hex symbol should not be used:
&amp;#x22;.  Use named symbols instead.  Line: 95
                            968   XML decimal/hex symbol should not be used:
&amp;#x22;.  Use named symbols instead.  Line: 95
                            968   XML decimal/hex symbol should not be used:
&amp;#x22;.  Use named symbols instead.  Line: 111
                            968   XML decimal/hex symbol should not be used:
&amp;#x22;.  Use named symbols instead.  Line: 111
                            968   XML decimal/hex symbol should not be used:
&amp;#x22;.  Use named symbols instead.  Line: 111
                            968   XML decimal/hex symbol should not be used:
&amp;#x22;.  Use named symbols instead.  Line: 111
                            968   XML decimal/hex symbol should not be used:
&amp;#x22;.  Use named symbols instead.  Line: 111
                            968   XML decimal/hex symbol should not be used:
&amp;#x22;.  Use named symbols instead.  Line: 111
                            968   XML decimal/hex symbol should not be used:
&amp;#x22;.  Use named symbols instead.  Line: 111
                            968   XML decimal/hex symbol should not be used:
&amp;#x22;.  Use named symbols instead.  Line: 111
                            968   XML decimal/hex symbol should not be used:
&amp;#x22;.  Use named symbols instead.  Line: 111
                            968   XML decimal/hex symbol should not be used:
&amp;#x22;.  Use named symbols instead.  Line: 111
                            968   XML decimal/hex symbol should not be used:
&amp;#x22;.  Use named symbols instead.  Line: 116
                            968   XML decimal/hex symbol should not be used:
&amp;#x22;.  Use named symbols instead.  Line: 116
                            968   XML decimal/hex symbol should not be used:
&amp;#x22;.  Use named symbols instead.  Line: 116
                            968   XML decimal/hex symbol should not be used:
&amp;#x22;.  Use named symbols instead.  Line: 116
                            968   XML decimal/hex symbol should not be used:
&amp;#x22;.  Use named symbols instead.  Line: 116
                            968   XML decimal/hex symbol should not be used:
&amp;#x22;.  Use named symbols instead.  Line: 116
                            968   XML decimal/hex symbol should not be used:
&amp;#x22;.  Use named symbols instead.  Line: 116
                            968   XML decimal/hex symbol should not be used:
&amp;#x22;.  Use named symbols instead.  Line: 116
                            968   XML decimal/hex symbol should not be used:
&amp;#x22;.  Use named symbols instead.  Line: 116
                            968   XML decimal/hex symbol should not be used:
&amp;#x22;.  Use named symbols instead.  Line: 116
                            968   XML decimal/hex symbol should not be used:
&amp;#x22;.  Use named symbols instead.  Line: 121
                            968   XML decimal/hex symbol should not be used:
&amp;#x22;.  Use named symbols instead.  Line: 121
                            968   XML decimal/hex symbol should not be used:
&amp;#x22;.  Use named symbols instead.  Line: 133
                            968   XML decimal/hex symbol should not be used:
&amp;#x22;.  Use named symbols instead.  Line: 133
                            968   XML decimal/hex symbol should not be used:
&amp;#x22;.  Use named symbols instead.  Line: 133
                            968   XML decimal/hex symbol should not be used:
&amp;#x22;.  Use named symbols instead.  Line: 133
                            968   XML decimal/hex symbol should not be used:
&amp;#x22;.  Use named symbols instead.  Line: 138
                            968   XML decimal/hex symbol should not be used:
&amp;#x22;.  Use named symbols instead.  Line: 138
                            968   XML decimal/hex symbol should not be used:
&amp;#x22;.  Use named symbols instead.  Line: 138
                            968   XML decimal/hex symbol should not be used:
&amp;#x22;.  Use named symbols instead.  Line: 138
                            968   XML decimal/hex symbol should not be used:
&amp;#x22;.  Use named symbols instead.  Line: 143
                            968   XML decimal/hex symbol should not be used:
&amp;#x22;.  Use named symbols instead.  Line: 143
                            968   XML decimal/hex symbol should not be used:
&amp;#x22;.  Use named symbols instead.  Line: 149
                            968   XML decimal/hex symbol should not be used:
&amp;#x22;.  Use named symbols instead.  Line: 149
  DHTMLGRAPHICAPPLET.XML  XML-10      968   XML decimal/hex symbol should not be
used: &amp;#34;.  Use named symbols instead.  Line: 24
                                      968   XML decimal/hex symbol should not be
used: &amp;#34;.  Use named symbols instead.  Line: 24
                                      968   XML decimal/hex symbol should not be
used: &amp;#34;.  Use named symbols instead.  Line: 25
                                      968   XML decimal/hex symbol should not be
used: &amp;#34;.  Use named symbols instead.  Line: 25
                                      968   XML decimal/hex symbol should not be
used: &amp;#34;.  Use named symbols instead.  Line: 26
                                      968   XML decimal/hex symbol should not be
used: &amp;#34;.  Use named symbols instead.  Line: 26
                                      968   XML decimal/hex symbol should not be
used: &amp;#34;.  Use named symbols instead.  Line: 26
                                      968   XML decimal/hex symbol should not be
used: &amp;#34;.  Use named symbols instead.  Line: 26
                                      968   XML decimal/hex symbol should not be
used: &amp;#34;.  Use named symbols instead.  Line: 27
                                      968   XML decimal/hex symbol should not be
used: &amp;#34;.  Use named symbols instead.  Line: 27
                                      968   XML decimal/hex symbol should not be
used: &amp;#34;.  Use named symbols instead.  Line: 27
                                      968   XML decimal/hex symbol should not be
used: &amp;#34;.  Use named symbols instead.  Line: 27
  DHTMLGRAPHICSVG.XML     XML-10      968   XML decimal/hex symbol should not be
used: &amp;#34;.  Use named symbols instead.  Line: 18
                                      968   XML decimal/hex symbol should not be
used: &amp;#34;.  Use named symbols instead.  Line: 18
                                      968   XML decimal/hex symbol should not be
used: &amp;#34;.  Use named symbols instead.  Line: 19
                                      968   XML decimal/hex symbol should not be
used: &amp;#34;.  Use named symbols instead.  Line: 19
                                      968   XML decimal/hex symbol should not be
used: &amp;#34;.  Use named symbols instead.  Line: 20
                                      968   XML decimal/hex symbol should not be
used: &amp;#34;.  Use named symbols instead.  Line: 20
                                      968   XML decimal/hex symbol should not be
used: &amp;#34;.  Use named symbols instead.  Line: 21
                                      968   XML decimal/hex symbol should not be
used: &amp;#34;.  Use named symbols instead.  Line: 21

ECLIPSE\PLUGINS\ORG.ECLIPSE.TPTP.PLATFORM.REPORT.SAMPLES\INPUT\
  LINE.XML      XML-10      969   (W) XML tag attribute (label) may contain
translatable text which cannot be translated.  Line: 4
Sheldon, I think you own these files, right? If no, then reassign to Dan.
The only files in org.eclipse.tptp.platform.report.core that should be 
translated is plugin.properties

The only files org.eclipse.tptp.platform.report.samples  that should be 
translated is plugin.properties


Reassign this bug since this is build related.
these files have already been excluded from chkpii.  No changes needed for the 
build. 
Hubert, could you send me your CHKPII ignore list (to kitlo@us.ibm.com) so I 
can remove all the files you don't expect to be translated. Thanks.
As of TPTP 4.6.0, TPTP is in maintenance mode and focusing on improving quality by resolving relevant enhancements/defects and increasing test coverage through test creation, automation, Build Verification Tests (BVTs), and expanded run-time execution. As part of the TPTP Bugzilla housecleaning process (see http://wiki.eclipse.org/Bugzilla_Housecleaning_Processes), this enhancement/defect is verified/closed by the Project Lead since this enhancement/defect has been resolved and unverified for more than 1 year and considered to be fixed. If this enhancement/defect is still unresolved and reproducible in the latest TPTP release (http://www.eclipse.org/tptp/home/downloads/), please re-open.</WithOutStack>
  </Bug>
  <Bug>
    <BugId amount="100278" />
    <CreationDate amount="2005-06-15 15:02:00 -0400" />
    <DupId amount="" />
    <classification amount="Eclipse" />
    <Product amount="JDT" />
    <component amount="Core" />
    <Version amount="3.1" />
    <rep_platform amount="PC" />
    <op_sys amount="Windows XP" />
    <priority amount="P3" />
    <bug_severity amount="enhancement" />
    <Summery>[compiler] Add compiler warning for explicitly declared runtime exceptions</Summery>
    <Patches amount="0" />
    <Stacktraces amount="0" />
    <SourceCodeRegions amount="4">
      <source_code type="functiondef">
        <location start="36" end="125" />
        <code>public void test() throws FileNotFoundException, IOException {
		throwsIOException();
	}</code>
      </source_code>
      <source_code type="functiondef">
        <location start="126" end="174" />
        <code>public void anotherTest() throws Exception {
	}</code>
      </source_code>
      <source_code type="singlecomment">
        <location start="4605" end="4679" />
        <code>// override defaults: references that are embedded in javadoc are ignored</code>
      </source_code>
      <source_code type="singlecomment">
        <location start="4679" end="4745" />
        <code>// from the perspective of parameters and thrown exceptions usage</code>
      </source_code>
    </SourceCodeRegions>
    <Enumerations amount="1">
      <Enumeration lines="11">
        <Lines>
          <Line>1. the JavaCore constant value has two typos and hence doesn't match the</Line>
          <Line>option (string) defined in the internal CompilerOptions</Line>
          <Line>2. test case seems to be broken or not test the public API as used by clients</Line>
          <Line>3. not sure about this one but it seems that the option is not initialized for</Line>
          <Line>batch compiler(org.eclipse.jdt.internal.compiler.batch.Main.configure(String[])</Line>
          <Line>Created attachment 87631</Line>
          <Line>Proposed fix (without additional tests)</Line>
          <Line>Created attachment 87638</Line>
          <Line>Proposed fix (without additional tests)</Line>
          <Line>Created attachment 87639</Line>
          <Line>Proposed fix (without additional tests)</Line>
        </Lines>
      </Enumeration>
    </Enumerations>
    <bug_status amount="VERIFIED" />
    <resolution amount="FIXED" />
    <WithStack>Consider the following two methods

	public void test() throws FileNotFoundException, IOException {
		throwsIOException();
	}
	public void anotherTest() throws Exception {
	}

There is no "unnecessary declaration of thrown exception" warnings as of Eclipse
3.1RC2 for these two methods. 

I can kinda understand rationale why throws FileNotFoundException is not
considered redundant but throws Exception does not make any sense to me and
makes this feature pretty much useless.
There is no warning for Exception because this type can potentially catch an
unchecked exception. Same treatment for Throwable.
I hope that this clarifies the way this warning works.
Did you notice any change in the way we handle this warning between RC1 and RC2?
Thank you for the quick reply, Olivier, but I think you missed my point.

The only reason a developer would care about unnecessary "throws" declarations
is because such exceptions have to be dealt with by every caller of the method.
The callers' code will either become polluted with unnecessary catch blocks, or
it will further propagate declaration of these unnecessary exceptions. In either
case, the codebase grows with the code which not only redundant but is also a
likely source of programming errors. Throws Exception/Throwable is especially
bad since it forces the callers to (implicitly) catch RuntimeException/Error.

In other words, the goal of this warning is to help limit number of exception
types that *have* to be caught by the callers, not number of exception types
that *can* possibly be caught by the callers.

Hope this makes sense...

Philippe, any comment?
The debate is legite, and I could agree with it.
I think all we need to know at this stage (3.1RC3) is whether RC2 changed
behavior for you.

If not, then I would defer any change in this area. Not that it isn't a valid
concern, but not critical at this stage.
Indeed, the behaviour did not change. That only makes me wonder how I missed
this before. And I agree this should wait until after 3.1.
We could consider a suboption to not consider unchecked exception as being thrown by default. This option would be off by default (keep current behavior by default).
removing target
*** Bug 132420 has been marked as a duplicate of this bug. ***
Changing the title to reflect the discussion. May have to consider both unchecked exceptions and exceptions that unchecked exceptions extend (with separate messages, but same tuning devices). Also need to discuss whether we warn upon unchecked exceptions that are explicitly declared, or only upon unchecked exceptions that are explicitly declared *and not thrown* (which was the point of bug 132420).
I *often* declare throws clauses for exceptions not thrown by an API method when I anticipate a subclass may need to throw such an exception, or when I anticipate some future version of the code may need to throw such an exception (ie, I may hard code a method return value today which I eventually may want to read from a database [possibly causing an exception]).  If I specifically declare such an exception, I think the default behavior should be for the compiler to assume I know what I am doing.

What I was asking for in the bug which was (I think incorrectly) marked as a dup of this, is that if I specifically declare a method as throwing an *unchecked* exception, that callers not specifically catching/handling that runtime exception should issue a warning.

I see. Reopening bug 132420, with a slightly different title. Please check it matches your thoughts.
Created attachment 86913
Fix + test cases

Adds an option to include all exceptions in the diagnostic, disabled by default.
Kent, would you please let me know what you think?
Released for 3.4 M5.
Opened bug 216233 for UI consideration of the new option.
I have to reopen as this does not work:
1. the JavaCore constant value has two typos and hence doesn't match the
   option (string) defined in the internal CompilerOptions
2. test case seems to be broken or not test the public API as used by clients
3. not sure about this one but it seems that the option is not initialized for 
   batch compiler(org.eclipse.jdt.internal.compiler.batch.Main.configure(String[])
Created attachment 87631
Proposed fix (without additional tests)
Created attachment 87638
Proposed fix (without additional tests)
Created attachment 87639
Proposed fix (without additional tests)

Sorry about the previous patches. I got tricked by the wizard.
Thanks for the patch. 

The change to Main is not strictly needed, and given the fact that the code comments what it is doing to some length:
// override defaults: references that are embedded in javadoc are ignored
// from the perspective of parameters and thrown exceptions usage
I won't adopt it, but the other part is more than welcome. I released it along with a test variant that uses the API constant. I'll open a separate bug to suggest that we factorize constants or else test that they are consistent (I think I can see why we do not factorize them... but the mistake I made calls for some safeguards at least).

Released (again) for 3.4 M5.
Verified for 3.4M5 using build I20080204-0010</WithStack>
    <WithOutStack>Consider the following two methods

	public void test() throws FileNotFoundException, IOException {
		throwsIOException();
	}
	public void anotherTest() throws Exception {
	}

There is no "unnecessary declaration of thrown exception" warnings as of Eclipse
3.1RC2 for these two methods. 

I can kinda understand rationale why throws FileNotFoundException is not
considered redundant but throws Exception does not make any sense to me and
makes this feature pretty much useless.
There is no warning for Exception because this type can potentially catch an
unchecked exception. Same treatment for Throwable.
I hope that this clarifies the way this warning works.
Did you notice any change in the way we handle this warning between RC1 and RC2?
Thank you for the quick reply, Olivier, but I think you missed my point.

The only reason a developer would care about unnecessary "throws" declarations
is because such exceptions have to be dealt with by every caller of the method.
The callers' code will either become polluted with unnecessary catch blocks, or
it will further propagate declaration of these unnecessary exceptions. In either
case, the codebase grows with the code which not only redundant but is also a
likely source of programming errors. Throws Exception/Throwable is especially
bad since it forces the callers to (implicitly) catch RuntimeException/Error.

In other words, the goal of this warning is to help limit number of exception
types that *have* to be caught by the callers, not number of exception types
that *can* possibly be caught by the callers.

Hope this makes sense...

Philippe, any comment?
The debate is legite, and I could agree with it.
I think all we need to know at this stage (3.1RC3) is whether RC2 changed
behavior for you.

If not, then I would defer any change in this area. Not that it isn't a valid
concern, but not critical at this stage.
Indeed, the behaviour did not change. That only makes me wonder how I missed
this before. And I agree this should wait until after 3.1.
We could consider a suboption to not consider unchecked exception as being thrown by default. This option would be off by default (keep current behavior by default).
removing target
*** Bug 132420 has been marked as a duplicate of this bug. ***
Changing the title to reflect the discussion. May have to consider both unchecked exceptions and exceptions that unchecked exceptions extend (with separate messages, but same tuning devices). Also need to discuss whether we warn upon unchecked exceptions that are explicitly declared, or only upon unchecked exceptions that are explicitly declared *and not thrown* (which was the point of bug 132420).
I *often* declare throws clauses for exceptions not thrown by an API method when I anticipate a subclass may need to throw such an exception, or when I anticipate some future version of the code may need to throw such an exception (ie, I may hard code a method return value today which I eventually may want to read from a database [possibly causing an exception]).  If I specifically declare such an exception, I think the default behavior should be for the compiler to assume I know what I am doing.

What I was asking for in the bug which was (I think incorrectly) marked as a dup of this, is that if I specifically declare a method as throwing an *unchecked* exception, that callers not specifically catching/handling that runtime exception should issue a warning.

I see. Reopening bug 132420, with a slightly different title. Please check it matches your thoughts.
Created attachment 86913
Fix + test cases

Adds an option to include all exceptions in the diagnostic, disabled by default.
Kent, would you please let me know what you think?
Released for 3.4 M5.
Opened bug 216233 for UI consideration of the new option.
I have to reopen as this does not work:
1. the JavaCore constant value has two typos and hence doesn't match the
   option (string) defined in the internal CompilerOptions
2. test case seems to be broken or not test the public API as used by clients
3. not sure about this one but it seems that the option is not initialized for 
   batch compiler(org.eclipse.jdt.internal.compiler.batch.Main.configure(String[])
Created attachment 87631
Proposed fix (without additional tests)
Created attachment 87638
Proposed fix (without additional tests)
Created attachment 87639
Proposed fix (without additional tests)

Sorry about the previous patches. I got tricked by the wizard.
Thanks for the patch. 

The change to Main is not strictly needed, and given the fact that the code comments what it is doing to some length:
// override defaults: references that are embedded in javadoc are ignored
// from the perspective of parameters and thrown exceptions usage
I won't adopt it, but the other part is more than welcome. I released it along with a test variant that uses the API constant. I'll open a separate bug to suggest that we factorize constants or else test that they are consistent (I think I can see why we do not factorize them... but the mistake I made calls for some safeguards at least).

Released (again) for 3.4 M5.
Verified for 3.4M5 using build I20080204-0010</WithOutStack>
  </Bug>
  <Bug>
    <BugId amount="100279" />
    <CreationDate amount="2005-06-15 15:07:00 -0400" />
    <DupId amount="" />
    <classification amount="Eclipse Foundation" />
    <Product amount="z_Archived" />
    <component amount="VE" />
    <Version amount="unspecified" />
    <rep_platform amount="PC" />
    <op_sys amount="Windows XP" />
    <priority amount="P3" />
    <bug_severity amount="normal" />
    <Summery>Events should come at the end of a bean's expressions</Summery>
    <Patches amount="0" />
    <Stacktraces amount="0" />
    <SourceCodeRegions amount="4">
      <source_code type="functioncall">
        <location start="255" end="279" />
        <code>sShell.setText("Shell");</code>
      </source_code>
      <source_code type="functioncall">
        <location start="280" end="315" />
        <code>sShell.setLayout(new GridLayout());</code>
      </source_code>
      <source_code type="functiondef">
        <location start="316" end="553" />
        <code>sShell.addShellListener(new org.eclipse.swt.events.ShellAdapter() { 
	public void shellActivated(org.eclipse.swt.events.ShellEvent e) {    
		System.out.println("shellActivated()"); // TODO Auto-generated Event stub
shellActivated()
	}
}</code>
      </source_code>
      <source_code type="functioncall">
        <location start="556" end="616" />
        <code>sShell.setSize(new org.eclipse.swt.graphics.Point(300,200));</code>
      </source_code>
    </SourceCodeRegions>
    <Enumerations amount="0" />
    <bug_status amount="CLOSED" />
    <resolution amount="FIXED" />
    <WithStack>When we create an event for a bean, it is inserted before some expressions. This
shouldnt happen as it doesnt look good. The events should always come at the end
of the set of expressions for a bean.
Ex:
sShell = new org.eclipse.swt.widgets.Shell();		   
sShell.setText("Shell");
sShell.setLayout(new GridLayout());
sShell.addShellListener(new org.eclipse.swt.events.ShellAdapter() { 
	public void shellActivated(org.eclipse.swt.events.ShellEvent e) {    
		System.out.println("shellActivated()"); // TODO Auto-generated Event stub
shellActivated()
	}
});
sShell.setSize(new org.eclipse.swt.graphics.Point(300,200));
should be done for 1.1. Most probably will involve adjusting priorities on
events so that they always come after regular expressions.
Set events to be a lower priority than add statements with indexing. 
Released classes 
IJavaFeatureMapper.java
IEventDecoderHelper.java
AllocationStyleHelper.java
AbstractEventDecoder.java
InnerClassStyleHelper.java
PropertyChangedAllocationStyleHellper.java
PropertyChangedInnerStyleHelper.java
EventDecoderHelper.java.
Verified in VE 1.1 RC2</WithStack>
    <WithOutStack>When we create an event for a bean, it is inserted before some expressions. This
shouldnt happen as it doesnt look good. The events should always come at the end
of the set of expressions for a bean.
Ex:
sShell = new org.eclipse.swt.widgets.Shell();		   
sShell.setText("Shell");
sShell.setLayout(new GridLayout());
sShell.addShellListener(new org.eclipse.swt.events.ShellAdapter() { 
	public void shellActivated(org.eclipse.swt.events.ShellEvent e) {    
		System.out.println("shellActivated()"); // TODO Auto-generated Event stub
shellActivated()
	}
});
sShell.setSize(new org.eclipse.swt.graphics.Point(300,200));
should be done for 1.1. Most probably will involve adjusting priorities on
events so that they always come after regular expressions.
Set events to be a lower priority than add statements with indexing. 
Released classes 
IJavaFeatureMapper.java
IEventDecoderHelper.java
AllocationStyleHelper.java
AbstractEventDecoder.java
InnerClassStyleHelper.java
PropertyChangedAllocationStyleHellper.java
PropertyChangedInnerStyleHelper.java
EventDecoderHelper.java.
Verified in VE 1.1 RC2</WithOutStack>
  </Bug>
  <Bug>
    <BugId amount="100280" />
    <CreationDate amount="2005-06-15 15:08:00 -0400" />
    <DupId amount="100534" />
    <classification amount="Eclipse" />
    <Product amount="PDE" />
    <component amount="Build" />
    <Version amount="3.1" />
    <rep_platform amount="PC" />
    <op_sys amount="Windows XP" />
    <priority amount="P3" />
    <bug_severity amount="normal" />
    <Summery>genericTarget.xml do not invoke signJar on the build script task</Summery>
    <Patches amount="0" />
    <Stacktraces amount="0" />
    <SourceCodeRegions amount="0" />
    <Enumerations amount="0" />
    <bug_status amount="RESOLVED" />
    <resolution amount="DUPLICATE" />
    <WithStack>genericTarget.xml do not invoke signJar on the build script task which prevents
any script generated to support jar signing.


*** This bug has been marked as a duplicate of 100534 ***</WithStack>
    <WithOutStack>genericTarget.xml do not invoke signJar on the build script task which prevents
any script generated to support jar signing.


*** This bug has been marked as a duplicate of 100534 ***</WithOutStack>
  </Bug>
  <Bug>
    <BugId amount="100281" />
    <CreationDate amount="2005-06-15 15:25:00 -0400" />
    <DupId amount="" />
    <classification amount="Eclipse" />
    <Product amount="JDT" />
    <component amount="Text" />
    <Version amount="3.1" />
    <rep_platform amount="PC" />
    <op_sys amount="Linux-GTK" />
    <priority amount="P3" />
    <bug_severity amount="normal" />
    <Summery>[navigation] comment text gets marked</Summery>
    <Patches amount="0" />
    <Stacktraces amount="0" />
    <SourceCodeRegions amount="0" />
    <Enumerations amount="0" />
    <bug_status amount="ASSIGNED" />
    <resolution amount="" />
    <WithStack>3.1RC2

I have found that while typing long comments in /* */ blocks while "Toggle Mark
Occurences" is enabled, sometimes small sections of the text I am typing go
yellow as if it has found a match.  This seems to happen near punctuation or
parentheses, but I am unable to find a consistent set of steps to get it to occur.
anything in .log?</WithStack>
    <WithOutStack>3.1RC2

I have found that while typing long comments in /* */ blocks while "Toggle Mark
Occurences" is enabled, sometimes small sections of the text I am typing go
yellow as if it has found a match.  This seems to happen near punctuation or
parentheses, but I am unable to find a consistent set of steps to get it to occur.
anything in .log?</WithOutStack>
  </Bug>
  <Bug>
    <BugId amount="100282" />
    <CreationDate amount="2005-06-15 15:31:00 -0400" />
    <DupId amount="" />
    <classification amount="Eclipse" />
    <Product amount="Platform" />
    <component amount="Compare" />
    <Version amount="3.1" />
    <rep_platform amount="PC" />
    <op_sys amount="Windows XP" />
    <priority amount="P3" />
    <bug_severity amount="normal" />
    <Summery>Attempt to switch to compare view - focus switches to editor of file being compared</Summery>
    <Patches amount="0" />
    <Stacktraces amount="0" />
    <SourceCodeRegions amount="0" />
    <Enumerations amount="0" />
    <bug_status amount="RESOLVED" />
    <resolution amount="INVALID" />
    <WithStack>Using Eclipse 3.1 RC2

I'm raising a new issue here even though I believe this is related to issue
#100102. I reported that issue thinking that it was a problem in the
synchronization view, but found the same behaviourin the Java perspective as
described below. Feel free to close either of these issues if they're dupes.

In Java perspective, open a compare view for a modified file against latest in
HEAD by selecting from the context menu in the editor. Switch to another editor.
Try to return to the compare editor by clicking its tab (using the next editor
command shows the same glitch) and focus goes to the editor from which (and
against which) the compare editor was created instead of the compare editor. The
next attempt to switch to the compare editor is successful.
Accidentally reposted this bug. Sorry all.</WithStack>
    <WithOutStack>Using Eclipse 3.1 RC2

I'm raising a new issue here even though I believe this is related to issue
#100102. I reported that issue thinking that it was a problem in the
synchronization view, but found the same behaviourin the Java perspective as
described below. Feel free to close either of these issues if they're dupes.

In Java perspective, open a compare view for a modified file against latest in
HEAD by selecting from the context menu in the editor. Switch to another editor.
Try to return to the compare editor by clicking its tab (using the next editor
command shows the same glitch) and focus goes to the editor from which (and
against which) the compare editor was created instead of the compare editor. The
next attempt to switch to the compare editor is successful.
Accidentally reposted this bug. Sorry all.</WithOutStack>
  </Bug>
  <Bug>
    <BugId amount="100283" />
    <CreationDate amount="2005-06-15 15:32:00 -0400" />
    <DupId amount="" />
    <classification amount="Eclipse" />
    <Product amount="Platform" />
    <component amount="Debug" />
    <Version amount="3.1" />
    <rep_platform amount="PC" />
    <op_sys amount="Windows XP" />
    <priority amount="P3" />
    <bug_severity amount="normal" />
    <Summery>[Memory View]: SWTException when launch a session with Memory view open</Summery>
    <Patches amount="0" />
    <Stacktraces amount="1">
      <Stacktrace timestamp="1437330544461">
        <Exception>org.eclipse.swt.SWTException</Exception>
        <Reason>Invalid thread access</Reason>
        <Frames>
          <Frame depth="0">org.eclipse.swt.SWT.error(SWT.java:2940)</Frame>
          <Frame depth="1">org.eclipse.swt.SWT.error(SWT.java:2863)</Frame>
          <Frame depth="2">org.eclipse.swt.SWT.error(SWT.java:2834)</Frame>
          <Frame depth="3">org.eclipse.swt.widgets.Widget.error(Widget.java:393)</Frame>
          <Frame depth="4">org.eclipse.swt.widgets.Widget.checkWidget(Widget.java:296)</Frame>
          <Frame depth="5">org.eclipse.swt.widgets.Tree.getSelection(Tree.java:1207)</Frame>
          <Frame depth="6">org.eclipse.jface.viewers.TreeViewer.getSelection(TreeViewer.java:413)</Frame>
          <Frame depth="7">org.eclipse.jface.viewers.TreeViewer.setSelection(TreeViewer.java:580)</Frame>
          <Frame depth="8">org.eclipse.jface.viewers.AbstractTreeViewer.setSelectionToWidget(AbstractTreeViewer.java:1596)</Frame>
          <Frame depth="9">org.eclipse.jface.viewers.StructuredViewer.setSelectionToWidget(StructuredViewer.java:1496)</Frame>
          <Frame depth="10">org.eclipse.jface.viewers.StructuredViewer.preservingSelection(StructuredViewer.java:1208)</Frame>
          <Frame depth="11">org.eclipse.jface.viewers.StructuredViewer.refresh(StructuredViewer.java:1262)</Frame>
          <Frame depth="12">org.eclipse.jface.viewers.StructuredViewer.refresh(StructuredViewer.java:1221)</Frame>
          <Frame depth="13">org.eclipse.debug.internal.ui.views.memory.MemoryBlocksTreeViewPane$MemoryBlocksViewerContentProvider.memoryBlocksAdded(MemoryBlocksTreeViewPane.java:238)</Frame>
          <Frame depth="14">org.eclipse.debug.internal.core.MemoryBlockManager$MemoryBlockNotifier.run(MemoryBlockManager.java:73)</Frame>
          <Frame depth="15">org.eclipse.core.internal.runtime.InternalPlatform.run(InternalPlatform.java:1029)</Frame>
          <Frame depth="16">org.eclipse.core.runtime.Platform.run(Platform.java:775)</Frame>
          <Frame depth="17">org.eclipse.debug.internal.core.MemoryBlockManager$MemoryBlockNotifier.notify(MemoryBlockManager.java:91)</Frame>
          <Frame depth="18">org.eclipse.debug.internal.core.MemoryBlockManager.notifyListeners(MemoryBlockManager.java:269)</Frame>
          <Frame depth="19">org.eclipse.debug.internal.core.MemoryBlockManager.addMemoryBlocks(MemoryBlockManager.java:136)</Frame>
          <Frame depth="20">org.eclipse.cdt.debug.internal.core.CMemoryBlockRetrievalExtension.createMemoryBlocks(CMemoryBlockRetrievalExtension.java:113)</Frame>
          <Frame depth="21">org.eclipse.cdt.debug.internal.core.CMemoryBlockRetrievalExtension.initializeFromMemento(CMemoryBlockRetrievalExtension.java:99)</Frame>
          <Frame depth="22">org.eclipse.cdt.debug.internal.core.CMemoryBlockRetrievalExtension.initialize(CMemoryBlockRetrievalExtension.java:75)</Frame>
          <Frame depth="23">org.eclipse.cdt.debug.internal.core.model.CDebugTarget.initializeMemoryBlocks(CDebugTarget.java:357)</Frame>
          <Frame depth="24">org.eclipse.cdt.debug.internal.core.model.CDebugTarget.initialize(CDebugTarget.java:259)</Frame>
          <Frame depth="25">org.eclipse.cdt.debug.internal.core.model.CDebugTarget.&lt;init&gt;(CDebugTarget.java:244)</Frame>
          <Frame depth="26">org.eclipse.cdt.debug.core.CDIDebugModel$1.run(CDIDebugModel.java:96)</Frame>
          <Frame depth="27">org.eclipse.core.internal.resources.Workspace.run(Workspace.java:1716)</Frame>
          <Frame depth="28">org.eclipse.core.internal.resources.Workspace.run(Workspace.java:1736)</Frame>
          <Frame depth="29">org.eclipse.cdt.debug.core.CDIDebugModel.newDebugTarget(CDIDebugModel.java:107)</Frame>
          <Frame depth="30">org.eclipse.cdt.launch.internal.LocalRunLaunchDelegate.launch(LocalRunLaunchDelegate.java:105)</Frame>
          <Frame depth="31">org.eclipse.debug.internal.core.LaunchConfiguration.launch(LaunchConfiguration.java:590)</Frame>
          <Frame depth="32">org.eclipse.debug.internal.core.LaunchConfiguration.launch(LaunchConfiguration.java:515)</Frame>
          <Frame depth="33">org.eclipse.debug.internal.ui.DebugUIPlugin.buildAndLaunch(DebugUIPlugin.java:734)</Frame>
          <Frame depth="34">org.eclipse.debug.internal.ui.DebugUIPlugin$6.run(DebugUIPlugin.java:932)</Frame>
          <Frame depth="35">org.eclipse.core.internal.jobs.Worker.run(Worker.java:67)</Frame>
        </Frames>
      </Stacktrace>
    </Stacktraces>
    <SourceCodeRegions amount="0" />
    <Enumerations amount="1">
      <Enumeration lines="12">
        <Lines>
          <Line>- moved events handling onto UI thread</Line>
          <Line>- made sure the events are handled properly, removing any assumptions about the</Line>
          <Line>orders of events.</Line>
          <Line>- made sure renderings are not created in a pane again if it's already created</Line>
          <Line>- register a memory block to a view if added via the AddMemoryBlockAction or</Line>
          <Line>GoToAddressAction.  This is to force the memory view to show new memory blocks</Line>
          <Line>even though the view is pinned.</Line>
          <Line>- check that the controls are not disposed before removing listeners</Line>
          <Line>- removed unnecessary listener in ASCII rendering</Line>
          <Line>Darin, please verify.</Line>
          <Line>fixed</Line>
          <Line>+1</Line>
        </Lines>
      </Enumeration>
    </Enumerations>
    <bug_status amount="VERIFIED" />
    <resolution amount="FIXED" />
    <WithStack>Eclipse 3.1 M7 + CDT 3.0.0 Build I200506141049

If memory view is added in Debug perspecitve, launching a debug session will 
generate an error log:

Error 2005-06-15 15:32:47.555 Problems occurred when invoking code from plug-
in: "org.eclipse.debug.core".
org.eclipse.swt.SWTException: Invalid thread access
	at org.eclipse.swt.SWT.error(SWT.java:2940)
	at org.eclipse.swt.SWT.error(SWT.java:2863)
	at org.eclipse.swt.SWT.error(SWT.java:2834)
	at org.eclipse.swt.widgets.Widget.error(Widget.java:393)
	at org.eclipse.swt.widgets.Widget.checkWidget(Widget.java:296)
	at org.eclipse.swt.widgets.Tree.getSelection(Tree.java:1207)
	at org.eclipse.jface.viewers.TreeViewer.getSelection
(TreeViewer.java:413)
	at org.eclipse.jface.viewers.TreeViewer.setSelection
(TreeViewer.java:580)
	at org.eclipse.jface.viewers.AbstractTreeViewer.setSelectionToWidget
(AbstractTreeViewer.java:1596)
	at org.eclipse.jface.viewers.StructuredViewer.setSelectionToWidget
(StructuredViewer.java:1496)
	at org.eclipse.jface.viewers.StructuredViewer.preservingSelection
(StructuredViewer.java:1208)
	at org.eclipse.jface.viewers.StructuredViewer.refresh
(StructuredViewer.java:1262)
	at org.eclipse.jface.viewers.StructuredViewer.refresh
(StructuredViewer.java:1221)
	at 
org.eclipse.debug.internal.ui.views.memory.MemoryBlocksTreeViewPane$MemoryBlock
sViewerContentProvider.memoryBlocksAdded(MemoryBlocksTreeViewPane.java:238)
	at 
org.eclipse.debug.internal.core.MemoryBlockManager$MemoryBlockNotifier.run
(MemoryBlockManager.java:73)
	at org.eclipse.core.internal.runtime.InternalPlatform.run
(InternalPlatform.java:1029)
	at org.eclipse.core.runtime.Platform.run(Platform.java:775)
	at 
org.eclipse.debug.internal.core.MemoryBlockManager$MemoryBlockNotifier.notify
(MemoryBlockManager.java:91)
	at org.eclipse.debug.internal.core.MemoryBlockManager.notifyListeners
(MemoryBlockManager.java:269)
	at org.eclipse.debug.internal.core.MemoryBlockManager.addMemoryBlocks
(MemoryBlockManager.java:136)
	at 
org.eclipse.cdt.debug.internal.core.CMemoryBlockRetrievalExtension.createMemory
Blocks(CMemoryBlockRetrievalExtension.java:113)
	at 
org.eclipse.cdt.debug.internal.core.CMemoryBlockRetrievalExtension.initializeFr
omMemento(CMemoryBlockRetrievalExtension.java:99)
	at 
org.eclipse.cdt.debug.internal.core.CMemoryBlockRetrievalExtension.initialize
(CMemoryBlockRetrievalExtension.java:75)
	at 
org.eclipse.cdt.debug.internal.core.model.CDebugTarget.initializeMemoryBlocks
(CDebugTarget.java:357)
	at org.eclipse.cdt.debug.internal.core.model.CDebugTarget.initialize
(CDebugTarget.java:259)
	at org.eclipse.cdt.debug.internal.core.model.CDebugTarget.&lt;init&gt;
(CDebugTarget.java:244)
	at org.eclipse.cdt.debug.core.CDIDebugModel$1.run
(CDIDebugModel.java:96)
	at org.eclipse.core.internal.resources.Workspace.run
(Workspace.java:1716)
	at org.eclipse.core.internal.resources.Workspace.run
(Workspace.java:1736)
	at org.eclipse.cdt.debug.core.CDIDebugModel.newDebugTarget
(CDIDebugModel.java:107)
	at org.eclipse.cdt.launch.internal.LocalRunLaunchDelegate.launch
(LocalRunLaunchDelegate.java:105)
	at org.eclipse.debug.internal.core.LaunchConfiguration.launch
(LaunchConfiguration.java:590)
	at org.eclipse.debug.internal.core.LaunchConfiguration.launch
(LaunchConfiguration.java:515)
	at org.eclipse.debug.internal.ui.DebugUIPlugin.buildAndLaunch
(DebugUIPlugin.java:734)
	at org.eclipse.debug.internal.ui.DebugUIPlugin$6.run
(DebugUIPlugin.java:932)
	at org.eclipse.core.internal.jobs.Worker.run(Worker.java:67)
In this case the "addMemoryBlocks" method of IMemoryBlockManager is called from 
the non-UI thread. As a result the "refresh" method is called for 
StructuredViewer. The notifications of the UI components should be done in the 
UI thread.
Created attachment 23366
patch to org.eclipse.debug.ui

Hi James -

I have created a patch to org.eclipse.debug.ui for this problem.  Would you be
able to help me test out this patch and make sure that it fixes your problem? 
Thanks... Let me know if you have any quesiton.

Samantha
Fixed in:
* AddMemoryBlockAction
* MemoryBlocksTreeViewPane
* MemoryView
* RenderingViewPane
* ASCIIRendering
* GoToAddressAction
* AbstractTableRendering

- moved events handling onto UI thread
- made sure the events are handled properly, removing any assumptions about the 
orders of events.
- made sure renderings are not created in a pane again if it's already created
- register a memory block to a view if added via the AddMemoryBlockAction or 
GoToAddressAction.  This is to force the memory view to show new memory blocks 
even though the view is pinned.
- check that the controls are not disposed before removing listeners
- removed unnecessary listener in ASCII rendering
Darin, please verify.
fixed
+1

CC'ing Darin (S) for secondary approval.
+1
I am assuming the TestJob in the patch will not be released?
Darin - where is TestJob (I did not see it).
OK - I see TestJob is in the patch, but it was not released :-)
(In reply to comment #2)
&gt; Created an attachment (id=23366) [edit]
&gt; patch to org.eclipse.debug.ui
&gt; Hi James -
&gt; I have created a patch to org.eclipse.debug.ui for this problem.  Would you be
&gt; able to help me test out this patch and make sure that it fixes your problem? 
&gt; Thanks... Let me know if you have any quesiton.
&gt; Samantha

Hi Samantha,

Since I am testing on system build level, so until we get a newer build from 
Doug, I cannot test you fix. I will update the bug report once I test on the 
new build. 

Thx,
James
I removed that job from the actual code and was not released.
Verified.</WithStack>
    <WithOutStack>Eclipse 3.1 M7 + CDT 3.0.0 Build I200506141049

If memory view is added in Debug perspecitve, launching a debug session will 
generate an error log:

Error 2005-06-15 15:32:47.555 Problems occurred when invoking code from plug-
in: "org.eclipse.debug.core".

In this case the "addMemoryBlocks" method of IMemoryBlockManager is called from 
the non-UI thread. As a result the "refresh" method is called for 
StructuredViewer. The notifications of the UI components should be done in the 
UI thread.
Created attachment 23366
patch to org.eclipse.debug.ui

Hi James -

I have created a patch to org.eclipse.debug.ui for this problem.  Would you be
able to help me test out this patch and make sure that it fixes your problem? 
Thanks... Let me know if you have any quesiton.

Samantha
Fixed in:
* AddMemoryBlockAction
* MemoryBlocksTreeViewPane
* MemoryView
* RenderingViewPane
* ASCIIRendering
* GoToAddressAction
* AbstractTableRendering

- moved events handling onto UI thread
- made sure the events are handled properly, removing any assumptions about the 
orders of events.
- made sure renderings are not created in a pane again if it's already created
- register a memory block to a view if added via the AddMemoryBlockAction or 
GoToAddressAction.  This is to force the memory view to show new memory blocks 
even though the view is pinned.
- check that the controls are not disposed before removing listeners
- removed unnecessary listener in ASCII rendering
Darin, please verify.
fixed
+1

CC'ing Darin (S) for secondary approval.
+1
I am assuming the TestJob in the patch will not be released?
Darin - where is TestJob (I did not see it).
OK - I see TestJob is in the patch, but it was not released :-)
(In reply to comment #2)
&gt; Created an attachment (id=23366) [edit]
&gt; patch to org.eclipse.debug.ui
&gt; Hi James -
&gt; I have created a patch to org.eclipse.debug.ui for this problem.  Would you be
&gt; able to help me test out this patch and make sure that it fixes your problem? 
&gt; Thanks... Let me know if you have any quesiton.
&gt; Samantha

Hi Samantha,

Since I am testing on system build level, so until we get a newer build from 
Doug, I cannot test you fix. I will update the bug report once I test on the 
new build. 

Thx,
James
I removed that job from the actual code and was not released.
Verified.</WithOutStack>
  </Bug>
  <Bug>
    <BugId amount="100284" />
    <CreationDate amount="2005-06-15 15:37:00 -0400" />
    <DupId amount="" />
    <classification amount="WebTools" />
    <Product amount="WTP Source Editing" />
    <component amount="wst.dtd" />
    <Version amount="0.7" />
    <rep_platform amount="PC" />
    <op_sys amount="Windows XP" />
    <priority amount="P3" />
    <bug_severity amount="normal" />
    <Summery>extra Source menu items for dtd editor</Summery>
    <Patches amount="0" />
    <Stacktraces amount="0" />
    <SourceCodeRegions amount="0" />
    <Enumerations amount="1">
      <Enumeration lines="4">
        <Lines>
          <Line>1. open a dtd editor</Line>
          <Line>2. look at items under Source in main menu</Line>
          <Line>3. there are 3 extra items, toggle comments, add block comments, remove block</Line>
          <Line>comments</Line>
        </Lines>
      </Enumeration>
    </Enumerations>
    <bug_status amount="CLOSED" />
    <resolution amount="FIXED" />
    <WithStack>1. open a dtd editor
2. look at items under Source in main menu
3. there are 3 extra items, toggle comments, add block comments, remove block 
comments

At first i thought just the labels were missing, but it turns out, there is no 
function behind those menu items anyways.  So those menu items should just be 
removed. (leaving just Shift Left and Shift Right)
Created attachment 23244
ActionContributorDTD.patch
I attached a patch for 
org.eclipse.wst.dtd.ui.internal.editor.ActionContributorDTD

In it, I basically override addToMenu and specify the main menu items for DTD 
editor rather than inheriting what was in the subclass.

Additional code for fix:
The following should be added to the end of 
org.eclipse.wst.dtd.ui.internal/DTDUIPluginResources.properties:
# Copied from sse.ui
SourceMenu_label=&amp;Source

The following should be added to the end of the public static string fields in 
org.eclipse.wst.dtd.ui.internal.DTDUIMessages:
	public static String SourceMenu_label;
Nitin, please see my previous comment for fix details.
I am assigning this bug to you to apply the patch and make the additional code 
changes.
I am assigning this to you because I believe you are making other changes to 
the dtd.ui plugin so it may be easiest for you to know how to merge.
Patch applied, thanks, Amy.
verified in I20050617
moving verified bugs to closed.</WithStack>
    <WithOutStack>1. open a dtd editor
2. look at items under Source in main menu
3. there are 3 extra items, toggle comments, add block comments, remove block 
comments

At first i thought just the labels were missing, but it turns out, there is no 
function behind those menu items anyways.  So those menu items should just be 
removed. (leaving just Shift Left and Shift Right)
Created attachment 23244
ActionContributorDTD.patch
I attached a patch for 
org.eclipse.wst.dtd.ui.internal.editor.ActionContributorDTD

In it, I basically override addToMenu and specify the main menu items for DTD 
editor rather than inheriting what was in the subclass.

Additional code for fix:
The following should be added to the end of 
org.eclipse.wst.dtd.ui.internal/DTDUIPluginResources.properties:
# Copied from sse.ui
SourceMenu_label=&amp;Source

The following should be added to the end of the public static string fields in 
org.eclipse.wst.dtd.ui.internal.DTDUIMessages:
	public static String SourceMenu_label;
Nitin, please see my previous comment for fix details.
I am assigning this bug to you to apply the patch and make the additional code 
changes.
I am assigning this to you because I believe you are making other changes to 
the dtd.ui plugin so it may be easiest for you to know how to merge.
Patch applied, thanks, Amy.
verified in I20050617
moving verified bugs to closed.</WithOutStack>
  </Bug>
  <Bug>
    <BugId amount="100285" />
    <CreationDate amount="2005-06-15 15:45:00 -0400" />
    <DupId amount="85133" />
    <classification amount="Eclipse" />
    <Product amount="Platform" />
    <component amount="Debug" />
    <Version amount="3.1" />
    <rep_platform amount="Macintosh" />
    <op_sys amount="All" />
    <priority amount="P3" />
    <bug_severity amount="normal" />
    <Summery>Refactor/Move causes NPE with breakpoint in InnerClass</Summery>
    <Patches amount="0" />
    <Stacktraces amount="0" />
    <SourceCodeRegions amount="1">
      <source_code type="class">
        <location start="266" end="467" />
        <code>public class ABug85133 {
	class Inner {
		void foo() {
			System.out.println(); // breakpoint here
		}	
		class InsideInner {
			void foo() {
				System.out.println(); // breakpoint here
			}	
		}
	}
}</code>
      </source_code>
    </SourceCodeRegions>
    <Enumerations amount="0" />
    <bug_status amount="RESOLVED" />
    <resolution amount="DUPLICATE" />
    <WithStack>while fixing bug 85133, noticed that we often call getFullyQualifiedName() instead of 
getFullyQualifiedName('.') in JavaBreakpointTypeChange. IJavaProject.findType(String) will not find the 
type if $ is used.

for instance refactor/move the folling class will NPE
public class ABug85133 {
	class Inner {
		void foo() {
			System.out.println(); // breakpoint here
		}	
		class InsideInner {
			void foo() {
				System.out.println(); // breakpoint here
			}	
		}
	}
}
Created attachment 23239
patch to JavaBreakpointTypeChange

patch fixes:
performPackageMove
performPackageRename
performProjectRename
performTypeMove
Candidate for RC3.

CC Darin (S) for approval.
+1
released patch
Darins, please verify
.
Reopen, with bug 85133
This is really a dup of bug 85133

*** This bug has been marked as a duplicate of 85133 ***</WithStack>
    <WithOutStack>while fixing bug 85133, noticed that we often call getFullyQualifiedName() instead of 
getFullyQualifiedName('.') in JavaBreakpointTypeChange. IJavaProject.findType(String) will not find the 
type if $ is used.

for instance refactor/move the folling class will NPE
public class ABug85133 {
	class Inner {
		void foo() {
			System.out.println(); // breakpoint here
		}	
		class InsideInner {
			void foo() {
				System.out.println(); // breakpoint here
			}	
		}
	}
}
Created attachment 23239
patch to JavaBreakpointTypeChange

patch fixes:
performPackageMove
performPackageRename
performProjectRename
performTypeMove
Candidate for RC3.

CC Darin (S) for approval.
+1
released patch
Darins, please verify
.
Reopen, with bug 85133
This is really a dup of bug 85133

*** This bug has been marked as a duplicate of 85133 ***</WithOutStack>
  </Bug>
  <Bug>
    <BugId amount="100286" />
    <CreationDate amount="2005-06-15 15:49:00 -0400" />
    <DupId amount="99811" />
    <classification amount="Eclipse" />
    <Product amount="JDT" />
    <component amount="Core" />
    <Version amount="3.1" />
    <rep_platform amount="PC" />
    <op_sys amount="Windows XP" />
    <priority amount="P3" />
    <bug_severity amount="normal" />
    <Summery>NPE when trying to bring up the outliner</Summery>
    <Patches amount="0" />
    <Stacktraces amount="0" />
    <SourceCodeRegions amount="0" />
    <Enumerations amount="0" />
    <bug_status amount="RESOLVED" />
    <resolution amount="DUPLICATE" />
    <WithStack>It only happends on a certain classes that I bring up.
.log attached.
Created attachment 23236
.log
Created attachment 23237
JavaVisualEditorPart.java
This is on RC2
+1 for 3.1 RC3 ;-)


*** This bug has been marked as a duplicate of 99811 ***</WithStack>
    <WithOutStack>It only happends on a certain classes that I bring up.
.log attached.
Created attachment 23236
.log
Created attachment 23237
JavaVisualEditorPart.java
This is on RC2
+1 for 3.1 RC3 ;-)


*** This bug has been marked as a duplicate of 99811 ***</WithOutStack>
  </Bug>
  <Bug>
    <BugId amount="100287" />
    <CreationDate amount="2005-06-15 15:50:00 -0400" />
    <DupId amount="" />
    <classification amount="Eclipse" />
    <Product amount="Platform" />
    <component amount="SWT" />
    <Version amount="3.1" />
    <rep_platform amount="PC" />
    <op_sys amount="Linux" />
    <priority amount="P3" />
    <bug_severity amount="normal" />
    <Summery>table incorrectly computes item image bounds</Summery>
    <Patches amount="0" />
    <Stacktraces amount="0" />
    <SourceCodeRegions amount="5">
      <source_code type="import">
        <location start="1299" end="1325" />
        <code>import org.eclipse.swt.*;</code>
      </source_code>
      <source_code type="import">
        <location start="1326" end="1359" />
        <code>import org.eclipse.swt.widgets.*;</code>
      </source_code>
      <source_code type="import">
        <location start="1360" end="1394" />
        <code>import org.eclipse.swt.graphics.*;</code>
      </source_code>
      <source_code type="import">
        <location start="1395" end="1427" />
        <code>import org.eclipse.swt.layout.*;</code>
      </source_code>
      <source_code type="class">
        <location start="1429" end="2048" />
        <code>public class PR_100287 {
public static void main (String [] args) {
	Display display = new Display ();
	Image image = new Image (display, PR_100287.class.getResourceAsStream
("sortDown-small.gif"));
	Shell shell = new Shell (display);
	shell.setLayout (new FillLayout ());
	Table table = new Table (shell, SWT.BORDER);
	TableItem item = new TableItem (table, SWT.NULL);
	item.setText ("FRED");
	item.setImage (image);
	System.out.println ("BOUNDS=" + image.getBounds ());
	shell.open ();
	while (!shell.isDisposed ()) {
		if (!display.readAndDispatch ()) display.sleep ();
	}
	image.dispose ();
	display.dispose ();
}
}</code>
      </source_code>
    </SourceCodeRegions>
    <Enumerations amount="0" />
    <bug_status amount="RESOLVED" />
    <resolution amount="WONTFIX" />
    <WithStack>I have a gif image which is 16x16, but the image data is 8x7.  The table appears
to be using the data bounds rather than the image bounds to compute the size for
table images.  I'll attach the image.
Created attachment 23238
16x16 image which has 8x7 data
note that Image.getBounds() correctly reports the image size as 16x16
Image.getBounds() is poorly named.  It returns the width and height of the 
image (the origin is always zero).
Nothing to fix.
Wait -- the table is behaving as if the image is 8x7, but it is really 16x16. 
Nothing to fix?
Here are the steps to reproduce:

1 create a table
2 set an item's image to the attached image
3 set another item's image to another 16x16 image
4 the image will be scaled to 8x7

This is wrong behavior, because the image is a 16x16 image
To clarify, the attached image IS a 16x16 image, but tables behave as if it is
an 8x7 image.

Here is a discrepency: although Table behaves incorrectly, Image.getBounds()
does correctly report the image size as 16x16

The gif file has a PAGE GEOMETRY of 16x16, but its data is 8x7.

Either Image.getBounds() should return 8x7 or else Table objects should treat
this image as 16x16.

The current situation is an inconsistency in image size handling.
Here is some code that uses your image and shows the 8x7 size:

import org.eclipse.swt.*;
import org.eclipse.swt.widgets.*;
import org.eclipse.swt.graphics.*;
import org.eclipse.swt.layout.*;

public class PR_100287 {
public static void main (String [] args) {
	Display display = new Display ();
	Image image = new Image (display, PR_100287.class.getResourceAsStream
("sortDown-small.gif"));
	Shell shell = new Shell (display);
	shell.setLayout (new FillLayout ());
	Table table = new Table (shell, SWT.BORDER);
	TableItem item = new TableItem (table, SWT.NULL);
	item.setText ("FRED");
	item.setImage (image);
	System.out.println ("BOUNDS=" + image.getBounds ());
	shell.open ();
	while (!shell.isDisposed ()) {
		if (!display.readAndDispatch ()) display.sleep ();
	}
	image.dispose ();
	display.dispose ();
}
}
CAR, are we using the wrong property to decide how big to make the image that 
is created from the .GIF?  If you run the snippet, Image.getBounds() is 
returning 8x7.
I guess I didn't refresh my resources when I was testing that behavior. 
Image.getBounds() returns 8x7 in my test code too.  So I apologize. The behavior
is indeed consistent and I guess it's up to interpretation whether to use page
geometry for the image size or not.

Gimp shows a canvas size of 16x16, with one 8x7 layer (I encountered this
problem in the first place by enlarging an image in Gimp), but I suppose Gimp
isn't the world's authority on how to interpret the GIF format (or maybe it is...).
Nothing to apologize for!
It's an interesting GIF. If you really do want to see the "page size" (the GIF 
spec calls this the "logical screen width" and "logical screen height"), then 
you need to use an ImageLoader to load the image, and look at the 
logicalScreenWidth and logicalScreenHeight fields after the image is loaded.
Usually, the 'logical screen' is used as a coordinate system in which to 
display the multiple images of an animated GIF. Your GIF will look like 16 x 
16 in any image viewer, even though the actual size is only 8x7. Take a look 
at it using SWT's ImageAnalyzer example, which can be downloaded with the 
eclipse examples and launched by going to Window-&gt;Show View-&gt;Other...SWT 
Examples -- ImageAnalyzer.</WithStack>
    <WithOutStack>I have a gif image which is 16x16, but the image data is 8x7.  The table appears
to be using the data bounds rather than the image bounds to compute the size for
table images.  I'll attach the image.
Created attachment 23238
16x16 image which has 8x7 data
note that Image.getBounds() correctly reports the image size as 16x16
Image.getBounds() is poorly named.  It returns the width and height of the 
image (the origin is always zero).
Nothing to fix.
Wait -- the table is behaving as if the image is 8x7, but it is really 16x16. 
Nothing to fix?
Here are the steps to reproduce:

1 create a table
2 set an item's image to the attached image
3 set another item's image to another 16x16 image
4 the image will be scaled to 8x7

This is wrong behavior, because the image is a 16x16 image
To clarify, the attached image IS a 16x16 image, but tables behave as if it is
an 8x7 image.

Here is a discrepency: although Table behaves incorrectly, Image.getBounds()
does correctly report the image size as 16x16

The gif file has a PAGE GEOMETRY of 16x16, but its data is 8x7.

Either Image.getBounds() should return 8x7 or else Table objects should treat
this image as 16x16.

The current situation is an inconsistency in image size handling.
Here is some code that uses your image and shows the 8x7 size:

import org.eclipse.swt.*;
import org.eclipse.swt.widgets.*;
import org.eclipse.swt.graphics.*;
import org.eclipse.swt.layout.*;

public class PR_100287 {
public static void main (String [] args) {
	Display display = new Display ();
	Image image = new Image (display, PR_100287.class.getResourceAsStream
("sortDown-small.gif"));
	Shell shell = new Shell (display);
	shell.setLayout (new FillLayout ());
	Table table = new Table (shell, SWT.BORDER);
	TableItem item = new TableItem (table, SWT.NULL);
	item.setText ("FRED");
	item.setImage (image);
	System.out.println ("BOUNDS=" + image.getBounds ());
	shell.open ();
	while (!shell.isDisposed ()) {
		if (!display.readAndDispatch ()) display.sleep ();
	}
	image.dispose ();
	display.dispose ();
}
}
CAR, are we using the wrong property to decide how big to make the image that 
is created from the .GIF?  If you run the snippet, Image.getBounds() is 
returning 8x7.
I guess I didn't refresh my resources when I was testing that behavior. 
Image.getBounds() returns 8x7 in my test code too.  So I apologize. The behavior
is indeed consistent and I guess it's up to interpretation whether to use page
geometry for the image size or not.

Gimp shows a canvas size of 16x16, with one 8x7 layer (I encountered this
problem in the first place by enlarging an image in Gimp), but I suppose Gimp
isn't the world's authority on how to interpret the GIF format (or maybe it is...).
Nothing to apologize for!
It's an interesting GIF. If you really do want to see the "page size" (the GIF 
spec calls this the "logical screen width" and "logical screen height"), then 
you need to use an ImageLoader to load the image, and look at the 
logicalScreenWidth and logicalScreenHeight fields after the image is loaded.
Usually, the 'logical screen' is used as a coordinate system in which to 
display the multiple images of an animated GIF. Your GIF will look like 16 x 
16 in any image viewer, even though the actual size is only 8x7. Take a look 
at it using SWT's ImageAnalyzer example, which can be downloaded with the 
eclipse examples and launched by going to Window-&gt;Show View-&gt;Other...SWT 
Examples -- ImageAnalyzer.</WithOutStack>
  </Bug>
  <Bug>
    <BugId amount="100288" />
    <CreationDate amount="2005-06-15 15:52:00 -0400" />
    <DupId amount="101574" />
    <classification amount="WebTools" />
    <Product amount="WTP Source Editing" />
    <component amount="wst.xsd" />
    <Version amount="0.7" />
    <rep_platform amount="PC" />
    <op_sys amount="Windows XP" />
    <priority amount="P3" />
    <bug_severity amount="normal" />
    <Summery>XSD content model is broken</Summery>
    <Patches amount="0" />
    <Stacktraces amount="0" />
    <SourceCodeRegions amount="0" />
    <Enumerations amount="0" />
    <bug_status amount="CLOSED" />
    <resolution amount="DUPLICATE" />
    <WithStack>XML content assist based on XSD content model and constrained editing does not
work on wtp-sdk-I20050615.  I think it was working
It was working on I-build 20050610
Ella, I understand you have an idea of where this problem was introduced. 
Assigning to you in hopes you have a patch.
Hmm.. I see you've provide a patch already on a dup'd bug.  Thanks Ella.

*** This bug has been marked as a duplicate of 101574 ***
Verified on WTP M5.
Closing bug on behalf of Ella.</WithStack>
    <WithOutStack>XML content assist based on XSD content model and constrained editing does not
work on wtp-sdk-I20050615.  I think it was working
It was working on I-build 20050610
Ella, I understand you have an idea of where this problem was introduced. 
Assigning to you in hopes you have a patch.
Hmm.. I see you've provide a patch already on a dup'd bug.  Thanks Ella.

*** This bug has been marked as a duplicate of 101574 ***
Verified on WTP M5.
Closing bug on behalf of Ella.</WithOutStack>
  </Bug>
  <Bug>
    <BugId amount="100289" />
    <CreationDate amount="2005-06-15 15:57:00 -0400" />
    <DupId amount="" />
    <classification amount="Eclipse" />
    <Product amount="Platform" />
    <component amount="SWT" />
    <Version amount="3.1" />
    <rep_platform amount="PC" />
    <op_sys amount="QNX-Photon" />
    <priority amount="P3" />
    <bug_severity amount="normal" />
    <Summery>ToolItem needs to setup certain resources on photon widgets</Summery>
    <Patches amount="0" />
    <Stacktraces amount="0" />
    <SourceCodeRegions amount="0" />
    <Enumerations amount="0" />
    <bug_status amount="CLOSED" />
    <resolution amount="WONTFIX" />
    <WithStack>In order for the toolitem to look an behave as it does on other platforms,
certain resources have to be setup on the underlying photon buttons
Created attachment 23240
Patch to setup the resources on the toolitem widgets
ToolBars should only be flat if they are created with the SWT.FLAT style. The
patch is making all toolbars have a flat look. I am not sure the flat look
applies to Photon, since I have not seen other apps in Photon with that look.

There are other changes in this patch that changes to DROP_DOWN arrow width. Why
are they necessary?
I was trying to make the look and feel Eclipse more like windwos.  Plus the
toolbars that were beside a view in a CTabFolder were shifted down because the
buttons where bigger than what was considered an acceptable size.
Closing report, platform is discontinued.</WithStack>
    <WithOutStack>In order for the toolitem to look an behave as it does on other platforms,
certain resources have to be setup on the underlying photon buttons
Created attachment 23240
Patch to setup the resources on the toolitem widgets
ToolBars should only be flat if they are created with the SWT.FLAT style. The
patch is making all toolbars have a flat look. I am not sure the flat look
applies to Photon, since I have not seen other apps in Photon with that look.

There are other changes in this patch that changes to DROP_DOWN arrow width. Why
are they necessary?
I was trying to make the look and feel Eclipse more like windwos.  Plus the
toolbars that were beside a view in a CTabFolder were shifted down because the
buttons where bigger than what was considered an acceptable size.
Closing report, platform is discontinued.</WithOutStack>
  </Bug>
  <Bug>
    <BugId amount="100290" />
    <CreationDate amount="2005-06-15 16:06:00 -0400" />
    <DupId amount="" />
    <classification amount="Eclipse Foundation" />
    <Product amount="z_Archived" />
    <component amount="Hyades" />
    <Version amount="unspecified" />
    <rep_platform amount="PC" />
    <op_sys amount="Linux-GTK" />
    <priority amount="P3" />
    <bug_severity amount="normal" />
    <Summery>Product Configuration dialog indicates that three Hyade features aren’t configured properly</Summery>
    <Patches amount="0" />
    <Stacktraces amount="0" />
    <SourceCodeRegions amount="0" />
    <Enumerations amount="1">
      <Enumeration lines="16">
        <Lines>
          <Line>1. Install IES M20050610 and its language packs on Linux.</Line>
          <Line>2. Start Eclipse.</Line>
          <Line>3. Once the installation is complete, open the Product Configuration dialog by</Line>
          <Line>selecting “Help -&gt; Software Updates -&gt; Manage Configuration” from the main</Line>
          <Line>menu. The Product Configuration dialog is displayed.</Line>
          <Line>4. Expand “Eclipse Platform -&gt; &lt;install location&gt;\eclipse” from the tree list</Line>
          <Line>in the left hand pane of the Product configuration dialog.</Line>
          <Line />
          <Line>Actual Behavior: The icon of the above mentioned features carries an “X” on</Line>
          <Line>them indicating that the corresponding features have errors.</Line>
          <Line />
          <Line>5. Double click on each of the above mentioned feature to open their</Line>
          <Line>properties dialog.</Line>
          <Line />
          <Line>6. Select “Status” from the tree list in the left hand pane of the property</Line>
          <Line>dialog. The “Status” page is displayed.</Line>
        </Lines>
      </Enumeration>
    </Enumerations>
    <bug_status amount="CLOSED" />
    <resolution amount="FIXED" />
    <WithStack>Problem Description: The Product Configuration dialog indicates that three 
Hyade features are not configured properly due to the following reason. 

Feature ID: org.eclipse.hyades.test.examples.nls1_3.3.0
Feature Name: %featureName
Reason: 
-Plug-in "org.eclipse.hyades.test.examples.nl1" version "3.3.0" referenced by 
this feature is missing.

Feature ID: org.eclipse.hyades.nls1_3.3.0
Feature Name: %featureName
-Plug-in "org.eclipse.hyades.nl1" version "3.3.0" referenced by this feature 
is missing.

Feature ID: org.eclipse.hyades.test.example.junit.nls1_3.3.0
Feature Name: %featureName
Reason: 
-Plug-in "org.eclipse.hyades.test.example.junit.nl1" version "3.3.0" 
referenced by this feature is missing.

You may complete the following steps in order to reproduce this scenario: 
1. Install IES M20050610 and its language packs on Linux.
2. Start Eclipse. 
3. Once the installation is complete, open the Product Configuration dialog by 
selecting “Help -&gt; Software Updates -&gt; Manage Configuration” from the main 
menu. The Product Configuration dialog is displayed. 
4. Expand “Eclipse Platform -&gt; &lt;install location&gt;\eclipse” from the tree list 
in the left hand pane of the Product configuration dialog. 

Actual Behavior: The icon of the above mentioned features carries an “X” on 
them indicating that the corresponding features have errors. 

5. Double click on each of the above mentioned feature to open their 
properties dialog. 

6. Select “Status” from the tree list in the left hand pane of the property 
dialog. The “Status” page is displayed.     

Actual Behavior: The “Status” page states that the corresponding feature is 
not configured properly due to the above mentioned reasons.
There were a lot of discussions about these features about 6 weeks ago, and I 
thought the decision was to leave things as they had been.  This defect sounds 
like there was some regression introduced?

Hubert, can you take a look at this?
This problem has been fixed in the translation updates over the past few weeks. 
I verified it with NL build on June 16. 
As of TPTP 4.6.0, TPTP is in maintenance mode and focusing on improving quality by resolving relevant enhancements/defects and increasing test coverage through test creation, automation, Build Verification Tests (BVTs), and expanded run-time execution. As part of the TPTP Bugzilla housecleaning process (see http://wiki.eclipse.org/Bugzilla_Housecleaning_Processes), this enhancement/defect is verified/closed by the Project Lead since this enhancement/defect has been resolved and unverified for more than 1 year and considered to be fixed. If this enhancement/defect is still unresolved and reproducible in the latest TPTP release (http://www.eclipse.org/tptp/home/downloads/), please re-open.</WithStack>
    <WithOutStack>Problem Description: The Product Configuration dialog indicates that three 
Hyade features are not configured properly due to the following reason. 

Feature ID: org.eclipse.hyades.test.examples.nls1_3.3.0
Feature Name: %featureName
Reason: 
-Plug-in "org.eclipse.hyades.test.examples.nl1" version "3.3.0" referenced by 
this feature is missing.

Feature ID: org.eclipse.hyades.nls1_3.3.0
Feature Name: %featureName
-Plug-in "org.eclipse.hyades.nl1" version "3.3.0" referenced by this feature 
is missing.

Feature ID: org.eclipse.hyades.test.example.junit.nls1_3.3.0
Feature Name: %featureName
Reason: 
-Plug-in "org.eclipse.hyades.test.example.junit.nl1" version "3.3.0" 
referenced by this feature is missing.

You may complete the following steps in order to reproduce this scenario: 
1. Install IES M20050610 and its language packs on Linux.
2. Start Eclipse. 
3. Once the installation is complete, open the Product Configuration dialog by 
selecting “Help -&gt; Software Updates -&gt; Manage Configuration” from the main 
menu. The Product Configuration dialog is displayed. 
4. Expand “Eclipse Platform -&gt; &lt;install location&gt;\eclipse” from the tree list 
in the left hand pane of the Product configuration dialog. 

Actual Behavior: The icon of the above mentioned features carries an “X” on 
them indicating that the corresponding features have errors. 

5. Double click on each of the above mentioned feature to open their 
properties dialog. 

6. Select “Status” from the tree list in the left hand pane of the property 
dialog. The “Status” page is displayed.     

Actual Behavior: The “Status” page states that the corresponding feature is 
not configured properly due to the above mentioned reasons.
There were a lot of discussions about these features about 6 weeks ago, and I 
thought the decision was to leave things as they had been.  This defect sounds 
like there was some regression introduced?

Hubert, can you take a look at this?
This problem has been fixed in the translation updates over the past few weeks. 
I verified it with NL build on June 16. 
As of TPTP 4.6.0, TPTP is in maintenance mode and focusing on improving quality by resolving relevant enhancements/defects and increasing test coverage through test creation, automation, Build Verification Tests (BVTs), and expanded run-time execution. As part of the TPTP Bugzilla housecleaning process (see http://wiki.eclipse.org/Bugzilla_Housecleaning_Processes), this enhancement/defect is verified/closed by the Project Lead since this enhancement/defect has been resolved and unverified for more than 1 year and considered to be fixed. If this enhancement/defect is still unresolved and reproducible in the latest TPTP release (http://www.eclipse.org/tptp/home/downloads/), please re-open.</WithOutStack>
  </Bug>
  <Bug>
    <BugId amount="100291" />
    <CreationDate amount="2005-06-15 16:09:00 -0400" />
    <DupId amount="" />
    <classification amount="WebTools" />
    <Product amount="WTP Source Editing" />
    <component amount="wst.xml" />
    <Version amount="0.7" />
    <rep_platform amount="PC" />
    <op_sys amount="Windows XP" />
    <priority amount="P3" />
    <bug_severity amount="normal" />
    <Summery>Add new icons for XML Catalog list and dialog</Summery>
    <Patches amount="0" />
    <Stacktraces amount="0" />
    <SourceCodeRegions amount="0" />
    <Enumerations amount="0" />
    <bug_status amount="CLOSED" />
    <resolution amount="FIXED" />
    <WithStack>Fixed in wtp-I20050616
Verified on WTP M5.
Closing on behalf of Ella.</WithStack>
    <WithOutStack>Fixed in wtp-I20050616
Verified on WTP M5.
Closing on behalf of Ella.</WithOutStack>
  </Bug>
  <Bug>
    <BugId amount="100292" />
    <CreationDate amount="2005-06-15 16:10:00 -0400" />
    <DupId amount="" />
    <classification amount="Tools" />
    <Product amount="TPTP Profiling" />
    <component amount="Platform.UI" />
    <Version amount="4.0" />
    <rep_platform amount="PC" />
    <op_sys amount="Windows 2000" />
    <priority amount="P3" />
    <bug_severity amount="normal" />
    <Summery>Refresh view action does not apply to Execution Flow statistic table.</Summery>
    <Patches amount="0" />
    <Stacktraces amount="0" />
    <SourceCodeRegions amount="0" />
    <Enumerations amount="1">
      <Enumeration lines="6">
        <Lines>
          <Line>- Launch any Java application with Execution Time Analysis - Graphical Detail.</Line>
          <Line>- Open Execution Flow view, see graphical view in upper portion, and statistic</Line>
          <Line>table in lower portion.</Line>
          <Line>- Interact with Java app under profile to collect more data</Line>
          <Line>- Click 'refresh' button and see graphical update with latest data, but</Line>
          <Line>statistic table is not refreshed.</Line>
        </Lines>
      </Enumeration>
    </Enumerations>
    <bug_status amount="CLOSED" />
    <resolution amount="FIXED" />
    <WithStack>To Reproduce:

- Launch any Java application with Execution Time Analysis - Graphical Detail.
- Open Execution Flow view, see graphical view in upper portion, and statistic
table in lower portion.
- Interact with Java app under profile to collect more data
- Click 'refresh' button and see graphical update with latest data, but
statistic table is not refreshed.

Workaroud : close the Execution Flow view and reopen it again.
fixed
verified in 
tptp.runtime-TPTP-4.0.0-200507141319</WithStack>
    <WithOutStack>To Reproduce:

- Launch any Java application with Execution Time Analysis - Graphical Detail.
- Open Execution Flow view, see graphical view in upper portion, and statistic
table in lower portion.
- Interact with Java app under profile to collect more data
- Click 'refresh' button and see graphical update with latest data, but
statistic table is not refreshed.

Workaroud : close the Execution Flow view and reopen it again.
fixed
verified in 
tptp.runtime-TPTP-4.0.0-200507141319</WithOutStack>
  </Bug>
  <Bug>
    <BugId amount="100293" />
    <CreationDate amount="2005-06-15 16:10:00 -0400" />
    <DupId amount="" />
    <classification amount="Eclipse" />
    <Product amount="JDT" />
    <component amount="Core" />
    <Version amount="3.1" />
    <rep_platform amount="PC" />
    <op_sys amount="Windows XP" />
    <priority amount="P3" />
    <bug_severity amount="critical" />
    <Summery>1.5 compiler - Methods using non-generic inner types of concreted generic classes generate wrong signatures</Summery>
    <Patches amount="0" />
    <Stacktraces amount="0" />
    <SourceCodeRegions amount="6">
      <source_code type="class">
        <location start="575" end="735" />
        <code>public class Parent&lt;K extends Parent.Key&gt; {
    public abstract static class Key {
         public abstract String getName();
    }
    public class Holder();
}</code>
      </source_code>
      <source_code type="class">
        <location start="2015" end="2331" />
        <code>public class X&lt;K extends X.Key&gt; {
    public abstract static class Key {
         public abstract String getName();
    }
    public class Holder {}
    X&lt;K&gt;.Holder foo() { return null; }
    
    static void bar() {
    	Object o = new X&lt;Key&gt;().foo();
    	class Local&lt;U&gt; {
    		X&lt;Key&gt;.Holder field;
    	}
    }
}</code>
      </source_code>
      <source_code type="assignment">
        <location start="2847" end="2884" />
        <code>1)    	Object o = new X&lt;Key&gt;().foo();</code>
      </source_code>
      <source_code type="class">
        <location start="3008" end="3063" />
        <code>class Local&lt;U&gt; {
    		X&lt;Key&gt;.Holder field;
    	}</code>
      </source_code>
      <source_code type="singlecomment">
        <location start="3688" end="3724" />
        <code>// Signature: LX&lt;LX$Key;&gt;.Holder;</code>
      </source_code>
      <source_code type="singlecomment">
        <location start="3737" end="3775" />
        <code>// Signature: LX&lt;LX$Key;&gt;.Holder&lt;&gt;;</code>
      </source_code>
    </SourceCodeRegions>
    <Enumerations amount="0" />
    <bug_status amount="VERIFIED" />
    <resolution amount="FIXED" />
    <WithStack>RC2 isn't correctly generating methods signatures for methods involving the
concrete non-static inner class of a generic method.  

The problem is that ParameterizedTypeBinding is being initialized with a zero
length number of arguments, but every test inside that class is testing for
null.  Since the arguments are substituted from a MemberTypeBinding which uses
TypeConstants.NoTypeVariables, ParameterizedTypeBinding is being initialized
with a zero length array for its arguments which causes the following problem.

If you have the following classes in different files
public class Parent&lt;K extends Parent.Key&gt; {
    public abstract static class Key {
         public abstract String getName();
    }
    public class Holder();
}

Methods that refer to Holder are sometimes generating method signatures of the form

(LParent&lt;LKey;&gt;.Holder&lt;&gt;;)V

The Holder&lt;&gt; is incorrect and causes all of my code that refers to the inner
class to break.  However, I'm finding it nearly impossible to create a reduction
for this test case.  But I tracked it down to
internal.compiler.lookup.ParameterizedTypeBinding.genericTypeSignature (line330)
is testing for this.arguments != null.  this.arguments is set to a zero length
array for the inner type.  

Tracing back, it seems that the problem is in Scope.substitute in the case
Binding.GENERIC_TYPE. The originalGenericType is a MemberTypeBinding which has
it's typeVariable set to NoTypeVariables.  This is being directly substituted
into the ParamaterizedTypeBinding.

The quickest fix for me was to change ParameterizeTypeBinding.initialize() to
test for someArguments != null &amp;&amp; someArguments.length &gt; 0.  However this is
probably just a symptom.
Good find. This is another symptom of bug 98322, however the consequence is more
drastic.

Need to investigate for RC3.
It's very much related to 98322, When I try the proposed fix for 98322, it still
fails because someArguments != null, but someArguments.length == 0.
I would fix both at once.

Reproducing test would be:
public class X&lt;K extends X.Key&gt; {
    public abstract static class Key {
         public abstract String getName();
    }
    public class Holder {}
    X&lt;K&gt;.Holder foo() { return null; }
    
    static void bar() {
    	Object o = new X&lt;Key&gt;().foo();
    	class Local&lt;U&gt; {
    		X&lt;Key&gt;.Holder field;
    	}
    }
}

The generic signature for 'field' gets the offending trailing '&lt;&gt;' incorrectly.
I am enclined to think that the fix should occur in code performing the
substitution (Scope) since it shouldn't rely on ParameterizedTypeBinding to
clear the mess. Senders have to behave.
Problem comes from a caching issue. In order to cause grief, the offending
parameterized type needs to get cached before it gets used elsewhere in a
visible spot where its signature would get corrupted and persisted in some
classfile construct.

1)    	Object o = new X&lt;Key&gt;().foo();

   performs the offending substitution from X&lt;K&gt;.Holder (for msg return  
   type)into: X&lt;Key&gt;.Holder, and caches it.

2)
    	class Local&lt;U&gt; {
    		X&lt;Key&gt;.Holder field;
    	}
    finds binding for 'X&lt;Key&gt;.Holder' already in the cache (as it treats 0 arg 
    as if null), and thus reuses it.

From thereon offending binding (and thus signature) can get persisted into a
classfile.
+1 for RC3

Dani - pls cast your vote. Without a fix for it, we generate bogus signatures
which can break incremental compile or tooling rendering signatures.
(Forgot to CC Dani)
Dani - pls cast your vote. Without a fix for it, we generate bogus signatures
which can break incremental compile or tooling rendering signatures.
Added GenericTypeSignatureTest#test019
+1 for 3.1 RC3.
Fixed
The signature of the field is:
  // Signature: LX&lt;LX$Key;&gt;.Holder;

instead of:
  // Signature: LX&lt;LX$Key;&gt;.Holder&lt;&gt;;
using RC2.

Verified using N20050616-0010 + JDT/Core HEAD</WithStack>
    <WithOutStack>RC2 isn't correctly generating methods signatures for methods involving the
concrete non-static inner class of a generic method.  

The problem is that ParameterizedTypeBinding is being initialized with a zero
length number of arguments, but every test inside that class is testing for
null.  Since the arguments are substituted from a MemberTypeBinding which uses
TypeConstants.NoTypeVariables, ParameterizedTypeBinding is being initialized
with a zero length array for its arguments which causes the following problem.

If you have the following classes in different files
public class Parent&lt;K extends Parent.Key&gt; {
    public abstract static class Key {
         public abstract String getName();
    }
    public class Holder();
}

Methods that refer to Holder are sometimes generating method signatures of the form

(LParent&lt;LKey;&gt;.Holder&lt;&gt;;)V

The Holder&lt;&gt; is incorrect and causes all of my code that refers to the inner
class to break.  However, I'm finding it nearly impossible to create a reduction
for this test case.  But I tracked it down to
internal.compiler.lookup.ParameterizedTypeBinding.genericTypeSignature (line330)
is testing for this.arguments != null.  this.arguments is set to a zero length
array for the inner type.  

Tracing back, it seems that the problem is in Scope.substitute in the case
Binding.GENERIC_TYPE. The originalGenericType is a MemberTypeBinding which has
it's typeVariable set to NoTypeVariables.  This is being directly substituted
into the ParamaterizedTypeBinding.

The quickest fix for me was to change ParameterizeTypeBinding.initialize() to
test for someArguments != null &amp;&amp; someArguments.length &gt; 0.  However this is
probably just a symptom.
Good find. This is another symptom of bug 98322, however the consequence is more
drastic.

Need to investigate for RC3.
It's very much related to 98322, When I try the proposed fix for 98322, it still
fails because someArguments != null, but someArguments.length == 0.
I would fix both at once.

Reproducing test would be:
public class X&lt;K extends X.Key&gt; {
    public abstract static class Key {
         public abstract String getName();
    }
    public class Holder {}
    X&lt;K&gt;.Holder foo() { return null; }
    
    static void bar() {
    	Object o = new X&lt;Key&gt;().foo();
    	class Local&lt;U&gt; {
    		X&lt;Key&gt;.Holder field;
    	}
    }
}

The generic signature for 'field' gets the offending trailing '&lt;&gt;' incorrectly.
I am enclined to think that the fix should occur in code performing the
substitution (Scope) since it shouldn't rely on ParameterizedTypeBinding to
clear the mess. Senders have to behave.
Problem comes from a caching issue. In order to cause grief, the offending
parameterized type needs to get cached before it gets used elsewhere in a
visible spot where its signature would get corrupted and persisted in some
classfile construct.

1)    	Object o = new X&lt;Key&gt;().foo();

   performs the offending substitution from X&lt;K&gt;.Holder (for msg return  
   type)into: X&lt;Key&gt;.Holder, and caches it.

2)
    	class Local&lt;U&gt; {
    		X&lt;Key&gt;.Holder field;
    	}
    finds binding for 'X&lt;Key&gt;.Holder' already in the cache (as it treats 0 arg 
    as if null), and thus reuses it.

From thereon offending binding (and thus signature) can get persisted into a
classfile.
+1 for RC3

Dani - pls cast your vote. Without a fix for it, we generate bogus signatures
which can break incremental compile or tooling rendering signatures.
(Forgot to CC Dani)
Dani - pls cast your vote. Without a fix for it, we generate bogus signatures
which can break incremental compile or tooling rendering signatures.
Added GenericTypeSignatureTest#test019
+1 for 3.1 RC3.
Fixed
The signature of the field is:
  // Signature: LX&lt;LX$Key;&gt;.Holder;

instead of:
  // Signature: LX&lt;LX$Key;&gt;.Holder&lt;&gt;;
using RC2.

Verified using N20050616-0010 + JDT/Core HEAD</WithOutStack>
  </Bug>
  <Bug>
    <BugId amount="100294" />
    <CreationDate amount="2005-06-15 16:14:00 -0400" />
    <DupId amount="" />
    <classification amount="Tools" />
    <Product amount="TPTP Log Analyzer" />
    <component amount="Platform.UI.LogView" />
    <Version amount="4.0" />
    <rep_platform amount="PC" />
    <op_sys amount="Windows 2000" />
    <priority amount="P3" />
    <bug_severity amount="normal" />
    <Summery>When importing the cbe xml log file in test case "Log view timestamp formatting" in suite "RAS_Other_Log_Views", one of the creation times is different than expected</Summery>
    <Patches amount="0" />
    <Stacktraces amount="0" />
    <SourceCodeRegions amount="0" />
    <Enumerations amount="1">
      <Enumeration lines="4">
        <Lines>
          <Line>1. Import the CBE XML file provided in "Log view sort" and sort on creationTime</Line>
          <Line>2. Verify the first two records have the following time stamps:</Line>
          <Line>1904-02-04T21:51:57.157008-05:00</Line>
          <Line>1969-12-30T21:51:57.049065-05:00</Line>
        </Lines>
      </Enumeration>
    </Enumerations>
    <bug_status amount="CLOSED" />
    <resolution amount="WONTFIX" />
    <WithStack>This bug is also visible in 3.3.

In test suite RAS_Other_Log_Views, test case "Log view timestamp formatting" is 
not working as expected.

Steps:
1. Import the CBE XML file provided in "Log view sort" and sort on creationTime
2. Verify the first two records have the following time stamps:
1904-02-04T21:51:57.157008-05:00
1969-12-30T21:51:57.049065-05:00

However one gets:
Feb 4, 1904 10:08:05.157008 PM GMT-05:00
Dec 30, 1969 9:51:57.049065 PM GMT-05:00

The 1904 time value is different.
I tested this anomaly with a test program and I found that on IBM JRE1.4.1 the 
formatted date is the one expected but running it with JRE1.4.2 both IBM and 
Sun produces some strange delta of 16 min and 8 sec, apparently for all time 
stamps between 1899-12-31T23:43:52 and 1912-01-01T00:16:07 (including these 
values).
I don't have an explanation for this issue, we should probably contact the jdk 
team in Hursley for this matter.
jdk problem
verified
As of TPTP 4.6.0, TPTP is in maintenance mode and focusing on improving quality by resolving relevant enhancements/defects and increasing test coverage through test creation, automation, Build Verification Tests (BVTs), and expanded run-time execution. As part of the TPTP Bugzilla housecleaning process (see http://wiki.eclipse.org/Bugzilla_Housecleaning_Processes), this enhancement/defect is verified/closed by the Project Lead since this enhancement/defect has been resolved and unverified for more than 1 year and considered to be fixed. If this enhancement/defect is still unresolved and reproducible in the latest TPTP release (http://www.eclipse.org/tptp/home/downloads/), please re-open.</WithStack>
    <WithOutStack>This bug is also visible in 3.3.

In test suite RAS_Other_Log_Views, test case "Log view timestamp formatting" is 
not working as expected.

Steps:
1. Import the CBE XML file provided in "Log view sort" and sort on creationTime
2. Verify the first two records have the following time stamps:
1904-02-04T21:51:57.157008-05:00
1969-12-30T21:51:57.049065-05:00

However one gets:
Feb 4, 1904 10:08:05.157008 PM GMT-05:00
Dec 30, 1969 9:51:57.049065 PM GMT-05:00

The 1904 time value is different.
I tested this anomaly with a test program and I found that on IBM JRE1.4.1 the 
formatted date is the one expected but running it with JRE1.4.2 both IBM and 
Sun produces some strange delta of 16 min and 8 sec, apparently for all time 
stamps between 1899-12-31T23:43:52 and 1912-01-01T00:16:07 (including these 
values).
I don't have an explanation for this issue, we should probably contact the jdk 
team in Hursley for this matter.
jdk problem
verified
As of TPTP 4.6.0, TPTP is in maintenance mode and focusing on improving quality by resolving relevant enhancements/defects and increasing test coverage through test creation, automation, Build Verification Tests (BVTs), and expanded run-time execution. As part of the TPTP Bugzilla housecleaning process (see http://wiki.eclipse.org/Bugzilla_Housecleaning_Processes), this enhancement/defect is verified/closed by the Project Lead since this enhancement/defect has been resolved and unverified for more than 1 year and considered to be fixed. If this enhancement/defect is still unresolved and reproducible in the latest TPTP release (http://www.eclipse.org/tptp/home/downloads/), please re-open.</WithOutStack>
  </Bug>
  <Bug>
    <BugId amount="100295" />
    <CreationDate amount="2005-06-15 16:15:00 -0400" />
    <DupId amount="" />
    <classification amount="Eclipse" />
    <Product amount="JDT" />
    <component amount="Core" />
    <Version amount="3.1" />
    <rep_platform amount="PC" />
    <op_sys amount="Windows XP" />
    <priority amount="P3" />
    <bug_severity amount="normal" />
    <Summery>ASTNode creation using K_STATEMENTS does not include ConstructorInvocation, SuperConstructorInvocation</Summery>
    <Patches amount="0" />
    <Stacktraces amount="0" />
    <SourceCodeRegions amount="3">
      <source_code type="functioncall">
        <location start="286" end="293" />
        <code>this();</code>
      </source_code>
      <source_code type="assignment">
        <location start="294" end="304" />
        <code>int i = 0;</code>
      </source_code>
      <source_code type="ifstatement">
        <location start="1271" end="1428" />
        <code>if(constructorDeclaration.constructorCall != null) {
   block.statements().add(
      converter.convert(
         constructorDeclaration.constructorCall));
}</code>
      </source_code>
    </SourceCodeRegions>
    <Enumerations amount="0" />
    <bug_status amount="RESOLVED" />
    <resolution amount="WONTFIX" />
    <WithStack>Using Eclipse 3.1RC2, I run into a problem when I try to generate an ASTNode 
using ASTParser.createAST(IProgressMonitor) and the kind K_STATEMENTS.

For example, if I take an ASTParser, call setKind(K_STATEMENTS), and set the 
source to the following...
------------------------------
this();
int i = 0;
------------------------------

... when I actually call createAST(IProgressMonitor), the ASTNode (it is 
actually a Block) does not contain any reference to "this();" (it does 
contain "int i = 0;"). In general, I have found that it does not contain any 
references to ConstructorInvocation or SuperConstructorInvocation.

I presume that this is not the desired behavior, as K_STATEMENTS returns a 
Block, of which ConstructorInvocation and SuperConstructorInvocation are valid 
parts. In addition, K_STATEMENTS implies that elements of type Statement 
should be parsed, and ConstructorInvocation and SuperConstructorInvocation are 
subclasses of Statement.


The problem seems to be in 
org.eclipse.jdt.core.dom.ASTParser.internalCreateASTForKind(). In this method, 
it seems that if you inserted the following code at line 916 (before Statement
[] statements), the problem would be solved (note that this code is 
_untested_):
-----------------------------------
if(constructorDeclaration.constructorCall != null) {
   block.statements().add(
      converter.convert(
         constructorDeclaration.constructorCall));
}
-----------------------------------

Thanks!
I will investigate.
This is not something new. It will be fixed post 3.1.
A workaround is to include your code within a pseudo-constructor and parse as a
body_declaration.
As of now 'LATER' and 'REMIND' resolutions are no longer supported.
Please reopen this bug if it is still valid for you.</WithStack>
    <WithOutStack>Using Eclipse 3.1RC2, I run into a problem when I try to generate an ASTNode 
using ASTParser.createAST(IProgressMonitor) and the kind K_STATEMENTS.

For example, if I take an ASTParser, call setKind(K_STATEMENTS), and set the 
source to the following...
------------------------------
this();
int i = 0;
------------------------------

... when I actually call createAST(IProgressMonitor), the ASTNode (it is 
actually a Block) does not contain any reference to "this();" (it does 
contain "int i = 0;"). In general, I have found that it does not contain any 
references to ConstructorInvocation or SuperConstructorInvocation.

I presume that this is not the desired behavior, as K_STATEMENTS returns a 
Block, of which ConstructorInvocation and SuperConstructorInvocation are valid 
parts. In addition, K_STATEMENTS implies that elements of type Statement 
should be parsed, and ConstructorInvocation and SuperConstructorInvocation are 
subclasses of Statement.


The problem seems to be in 
org.eclipse.jdt.core.dom.ASTParser.internalCreateASTForKind(). In this method, 
it seems that if you inserted the following code at line 916 (before Statement
[] statements), the problem would be solved (note that this code is 
_untested_):
-----------------------------------
if(constructorDeclaration.constructorCall != null) {
   block.statements().add(
      converter.convert(
         constructorDeclaration.constructorCall));
}
-----------------------------------

Thanks!
I will investigate.
This is not something new. It will be fixed post 3.1.
A workaround is to include your code within a pseudo-constructor and parse as a
body_declaration.
As of now 'LATER' and 'REMIND' resolutions are no longer supported.
Please reopen this bug if it is still valid for you.</WithOutStack>
  </Bug>
  <Bug>
    <BugId amount="100296" />
    <CreationDate amount="2005-06-15 16:21:00 -0400" />
    <DupId amount="" />
    <classification amount="WebTools" />
    <Product amount="WTP Java EE Tools" />
    <component amount="jst.j2ee" />
    <Version amount="1.0" />
    <rep_platform amount="PC" />
    <op_sys amount="Windows XP" />
    <priority amount="P4" />
    <bug_severity amount="normal" />
    <Summery>Add Advanced controls to DataModelWizardPage</Summery>
    <Patches amount="0" />
    <Stacktraces amount="0" />
    <SourceCodeRegions amount="0" />
    <Enumerations amount="0" />
    <bug_status amount="CLOSED" />
    <resolution amount="WONTFIX" />
    <WithStack>By adding at this level we can insure things are consistent if users wish to
create a wizard w/ and advanced button.  Also we need to provide a way to auto
expand if the property in the advance tab is causing a validation error which
limits the wizard from finishing.....
*** Bug 98044 has been marked as a duplicate of this bug. ***
*** Bug 91538 has been marked as a duplicate of this bug. ***
advanced controls have been removed altogether.
closing.</WithStack>
    <WithOutStack>By adding at this level we can insure things are consistent if users wish to
create a wizard w/ and advanced button.  Also we need to provide a way to auto
expand if the property in the advance tab is causing a validation error which
limits the wizard from finishing.....
*** Bug 98044 has been marked as a duplicate of this bug. ***
*** Bug 91538 has been marked as a duplicate of this bug. ***
advanced controls have been removed altogether.
closing.</WithOutStack>
  </Bug>
  <Bug>
    <BugId amount="100297" />
    <CreationDate amount="2005-06-15 16:22:00 -0400" />
    <DupId amount="" />
    <classification amount="Eclipse" />
    <Product amount="Platform" />
    <component amount="Ant" />
    <Version amount="3.1" />
    <rep_platform amount="PC" />
    <op_sys amount="Windows 2000" />
    <priority amount="P3" />
    <bug_severity amount="normal" />
    <Summery>UI background colour problems for the Ant Runtime preferences</Summery>
    <Patches amount="0" />
    <Stacktraces amount="0" />
    <SourceCodeRegions amount="0" />
    <Enumerations amount="1">
      <Enumeration lines="4">
        <Lines>
          <Line>(1) Classpath - the 'Contributed Entries' section is white while everything is</Line>
          <Line>the default OS colour.</Line>
          <Line>(2) Tasks - All of the default Tasks added have a white background colour.</Line>
          <Line>(3) Properties - All of the default Tasks added have a white background colour.</Line>
        </Lines>
      </Enumeration>
    </Enumerations>
    <bug_status amount="RESOLVED" />
    <resolution amount="WONTFIX" />
    <WithStack>On Windows, try changing the 'Window' colour to something other than the default
white (i.e. I typically use a light-gray colour).  Then open the Ant &gt; Runtime
preferences page and notice the background colours for entries in the following
tabs is still white:

(1) Classpath - the 'Contributed Entries' section is white while everything is
the default OS colour.
(2) Tasks - All of the default Tasks added have a white background colour.
(3) Properties - All of the default Tasks added have a white background colour.

It looks like the default values that Eclipse provides for all of these tab
entries have a white background colour... If this is the intended behaviour,
could you either make the background colour for the 'Contriubted Entries' text
use the OS background colour or alternatively make its [+] button have a white
background colour?

I will attach a screenshot to show what I am looking at.
Created attachment 23245
Ant runtime screenshot
The color of these entries is set to be different from the default background 
color to indicate that they are read-only entries not under the users direct 
control (as they are contributed via extension points).

AFAIK, the '+' background color cannot be set.

no plans to change.
Marking as wontfix</WithStack>
    <WithOutStack>On Windows, try changing the 'Window' colour to something other than the default
white (i.e. I typically use a light-gray colour).  Then open the Ant &gt; Runtime
preferences page and notice the background colours for entries in the following
tabs is still white:

(1) Classpath - the 'Contributed Entries' section is white while everything is
the default OS colour.
(2) Tasks - All of the default Tasks added have a white background colour.
(3) Properties - All of the default Tasks added have a white background colour.

It looks like the default values that Eclipse provides for all of these tab
entries have a white background colour... If this is the intended behaviour,
could you either make the background colour for the 'Contriubted Entries' text
use the OS background colour or alternatively make its [+] button have a white
background colour?

I will attach a screenshot to show what I am looking at.
Created attachment 23245
Ant runtime screenshot
The color of these entries is set to be different from the default background 
color to indicate that they are read-only entries not under the users direct 
control (as they are contributed via extension points).

AFAIK, the '+' background color cannot be set.

no plans to change.
Marking as wontfix</WithOutStack>
  </Bug>
  <Bug>
    <BugId amount="100298" />
    <CreationDate amount="2005-06-15 16:22:00 -0400" />
    <DupId amount="" />
    <classification amount="Tools" />
    <Product amount="CDT" />
    <component amount="cdt-debug" />
    <Version amount="3.0" />
    <rep_platform amount="PC" />
    <op_sys amount="Windows XP" />
    <priority amount="P3" />
    <bug_severity amount="major" />
    <Summery>[Memory View] Changing variable's value from variables view or memory view doesn't sync to each other</Summery>
    <Patches amount="0" />
    <Stacktraces amount="0" />
    <SourceCodeRegions amount="0" />
    <Enumerations amount="2">
      <Enumeration lines="11">
        <Lines>
          <Line>- Create a memory monitor for a variable.</Line>
          <Line>- Change the variable's value in variables view, nothing is changed in memory</Line>
          <Line>renderings view</Line>
          <Line>- Change the value from memory renderings view, nothing is changed in variales</Line>
          <Line>view until you select the variable and it shows the updated value in detailed</Line>
          <Line>pane but still shows old value on variable itself.</Line>
          <Line>- Try to change it from variables  view again, it will fail and a error dialog</Line>
          <Line>pops up.</Line>
          <Line>- step the program will set it to right value.</Line>
          <Line>The changing of memory may affect other views(side effect) and we should</Line>
          <Line>pobably trigger an update/refresh of:</Line>
        </Lines>
      </Enumeration>
      <Enumeration lines="3">
        <Lines>
          <Line>- variable view</Line>
          <Line>- expression view</Line>
          <Line>- Register view</Line>
        </Lines>
      </Enumeration>
    </Enumerations>
    <bug_status amount="RESOLVED" />
    <resolution amount="FIXED" />
    <WithStack>Eclipse 3.1 M7 + CDT 3.0.0 Build I200506141049


Basically you need to step the program to make the variable updated.


- Create a memory monitor for a variable.
- Change the variable's value in variables view, nothing is changed in memory 
renderings view
- Change the value from memory renderings view, nothing is changed in variales 
view until you select the variable and it shows the updated value in detailed 
pane but still shows old value on variable itself.
- Try to change it from variables  view again, it will fail and a error dialog 
pops up.
- step the program will set it to right value.
The changing of memory may affect other views(side effect) and we should
pobably trigger an update/refresh of:

- variable view
- expression view
- Register view

and vice-versa, changin a variable may affect the expressios/memoryblocks etc..

Not sure if should be in CDT-3.1 or we should consider this as fix for
CDT-3.0.1(if there will be such thing).
(In reply to comment #1)
&gt; Not sure if should be in CDT-3.1 or we should consider this as fix for
&gt; CDT-3.0.1(if there will be such thing).
I would prefer 3.0.1, if changes are not major.

Hi,

One of our developers at PalmSource discovered this as well.

Thanks,
Ewa.
(In reply to comment #2)
&gt; (In reply to comment #1)
&gt; &gt; Not sure if should be in CDT-3.1 or we should consider this as fix for
&gt; &gt; CDT-3.0.1(if there will be such thing).
&gt; I would prefer 3.0.1, if changes are not major.
&gt; 

Any other feedbacks? 3.0.1 vs 3.1 CDT

3.1 CDT maybe in 3-6 months.
Altera would prefer to have this fixed in 3.0.1.

(In reply to comment #5)
&gt; Altera would prefer to have this fixed in 3.0.1.
&gt; 

Allright.
Target milestone to 3.0.1
Returning to the pool.
*** Bug 116351 has been marked as a duplicate of this bug. ***
Fixed in the HEAD and 3.0.1 branch.</WithStack>
    <WithOutStack>Eclipse 3.1 M7 + CDT 3.0.0 Build I200506141049


Basically you need to step the program to make the variable updated.


- Create a memory monitor for a variable.
- Change the variable's value in variables view, nothing is changed in memory 
renderings view
- Change the value from memory renderings view, nothing is changed in variales 
view until you select the variable and it shows the updated value in detailed 
pane but still shows old value on variable itself.
- Try to change it from variables  view again, it will fail and a error dialog 
pops up.
- step the program will set it to right value.
The changing of memory may affect other views(side effect) and we should
pobably trigger an update/refresh of:

- variable view
- expression view
- Register view

and vice-versa, changin a variable may affect the expressios/memoryblocks etc..

Not sure if should be in CDT-3.1 or we should consider this as fix for
CDT-3.0.1(if there will be such thing).
(In reply to comment #1)
&gt; Not sure if should be in CDT-3.1 or we should consider this as fix for
&gt; CDT-3.0.1(if there will be such thing).
I would prefer 3.0.1, if changes are not major.

Hi,

One of our developers at PalmSource discovered this as well.

Thanks,
Ewa.
(In reply to comment #2)
&gt; (In reply to comment #1)
&gt; &gt; Not sure if should be in CDT-3.1 or we should consider this as fix for
&gt; &gt; CDT-3.0.1(if there will be such thing).
&gt; I would prefer 3.0.1, if changes are not major.
&gt; 

Any other feedbacks? 3.0.1 vs 3.1 CDT

3.1 CDT maybe in 3-6 months.
Altera would prefer to have this fixed in 3.0.1.

(In reply to comment #5)
&gt; Altera would prefer to have this fixed in 3.0.1.
&gt; 

Allright.
Target milestone to 3.0.1
Returning to the pool.
*** Bug 116351 has been marked as a duplicate of this bug. ***
Fixed in the HEAD and 3.0.1 branch.</WithOutStack>
  </Bug>
  <Bug>
    <BugId amount="100299" />
    <CreationDate amount="2005-06-15 16:24:00 -0400" />
    <DupId amount="" />
    <classification amount="Eclipse" />
    <Product amount="PDE" />
    <component amount="Build" />
    <Version amount="3.1" />
    <rep_platform amount="PC" />
    <op_sys amount="Windows XP" />
    <priority amount="P3" />
    <bug_severity amount="normal" />
    <Summery>RCP Export Won't Find Features in Workspace</Summery>
    <Patches amount="0" />
    <Stacktraces amount="0" />
    <SourceCodeRegions amount="1">
      <source_code type="import">
        <location start="1770" end="1834" />
        <code>import net.sourceforge.nomadpim.schedule.core.IDateInformation;</code>
      </source_code>
    </SourceCodeRegions>
    <Enumerations amount="0" />
    <bug_status amount="RESOLVED" />
    <resolution amount="WORKSFORME" />
    <WithStack>I currently have several features (and their plugins) imported into my
workspace.  The RCP export seems unable to find them.  However, I can launch the
application based on the .product file fine.
Could you please give more details on your setup and how to reproduce the problem?
I imported a feature (lets say GEF for instance) into my workspace.  GEF is not installed in the Eclipse IDE 
itself.  It only lives in the workspace.  My product/feature is dependent on GEF.  Running the product from 
the launch configuration works fine.  However on going to export, I receive errors about the exporter not 
being able to find GEF plugins.  It seems to not be looking in the workspace.
Did you import it as binary, did you used linked folders?
Plugins were imported as binaries as well as the feature.
Are you sure you did not use import as binary with with links?


Positive I used just binary.  We import all the Eclipse Platform and other
plugins we need (GEF, EMF, etc) into our workspace as binaries.  Our CVS
repository contains all the plugin projects to allow sharing.  We then upgrade
the entire plugin project in CVS if we say upgrade EMF to a new version.
Given that I still haven't been able to reproduce, can you provide me with some
detailed steps (and the options that are checked when you use the wizards) so I
can try to reproduce.
I believe I got the same problem, but with the rcp features only. The operation
system is linux.

when I launch the product via "Launch the product", there are no problems, but
when I export it, there are. And they are all basically of the following form:

----------
1. ERROR in
/home/larsg/workspace_nomadpim/person/src/java/net/sourceforge/nomadpim/person/core/birthday/BirthdayDateInformationAdapter.java
 (at line 20)
	import net.sourceforge.nomadpim.schedule.core.IDateInformation;
	       ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
The import net.sourceforge.nomadpim.schedule cannot be resolved
----------

I think another important observation is that it only seems to happen if the
required feature comes "after" the feature that need its classes in the
alphabet, for example, feature "note" depends on feature "core" -&gt; no problem,
feature "diary" depends on "schedule" -&gt; problems during export.
Please re-open with the required detailed steps.</WithStack>
    <WithOutStack>I currently have several features (and their plugins) imported into my
workspace.  The RCP export seems unable to find them.  However, I can launch the
application based on the .product file fine.
Could you please give more details on your setup and how to reproduce the problem?
I imported a feature (lets say GEF for instance) into my workspace.  GEF is not installed in the Eclipse IDE 
itself.  It only lives in the workspace.  My product/feature is dependent on GEF.  Running the product from 
the launch configuration works fine.  However on going to export, I receive errors about the exporter not 
being able to find GEF plugins.  It seems to not be looking in the workspace.
Did you import it as binary, did you used linked folders?
Plugins were imported as binaries as well as the feature.
Are you sure you did not use import as binary with with links?


Positive I used just binary.  We import all the Eclipse Platform and other
plugins we need (GEF, EMF, etc) into our workspace as binaries.  Our CVS
repository contains all the plugin projects to allow sharing.  We then upgrade
the entire plugin project in CVS if we say upgrade EMF to a new version.
Given that I still haven't been able to reproduce, can you provide me with some
detailed steps (and the options that are checked when you use the wizards) so I
can try to reproduce.
I believe I got the same problem, but with the rcp features only. The operation
system is linux.

when I launch the product via "Launch the product", there are no problems, but
when I export it, there are. And they are all basically of the following form:

----------
1. ERROR in
/home/larsg/workspace_nomadpim/person/src/java/net/sourceforge/nomadpim/person/core/birthday/BirthdayDateInformationAdapter.java
 (at line 20)
	import net.sourceforge.nomadpim.schedule.core.IDateInformation;
	       ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
The import net.sourceforge.nomadpim.schedule cannot be resolved
----------

I think another important observation is that it only seems to happen if the
required feature comes "after" the feature that need its classes in the
alphabet, for example, feature "note" depends on feature "core" -&gt; no problem,
feature "diary" depends on "schedule" -&gt; problems during export.
Please re-open with the required detailed steps.</WithOutStack>
  </Bug>
  <Bug>
    <BugId amount="100300" />
    <CreationDate amount="2005-06-15 16:29:00 -0400" />
    <DupId amount="" />
    <classification amount="Tools" />
    <Product amount="CDT" />
    <component amount="cdt-core" />
    <Version amount="2.1.1" />
    <rep_platform amount="All" />
    <op_sys amount="All" />
    <priority amount="P3" />
    <bug_severity amount="normal" />
    <Summery>Selecting Browse button after entering a non-existent folder name in New Source/Header File wizard causes Eclipse to hang</Summery>
    <Patches amount="0" />
    <Stacktraces amount="0" />
    <SourceCodeRegions amount="2">
      <source_code type="functiondef">
        <location start="638" end="1744" />
        <code>private ICElement getSourceFolderFromPath(IPath path) {
            if (path == null)
                return null;
            while (!path.isEmpty()) {
                    IResource res = fWorkspaceRoot.findMember(path);
                        if (res != null &amp;&amp; res.exists()) {
                                int resType = res.getType();
                                if (resType == IResource.PROJECT || resType ==
IResource.FOLDER) {
                                    ICElement elem =
CoreModel.getDefault().create(res.getFullPath());
                                    ICContainer sourceFolder =
CModelUtil.getSourceFolder(elem);
                                    if (sourceFolder != null)
                                        return sourceFolder;
                                    if (resType == IResource.PROJECT) {
                                        return elem;
                                    }
                                }
                        }
                        path = path.removeLastSegments(1);
            }
                return null;
        }</code>
      </source_code>
      <source_code type="functiondef">
        <location start="1927" end="3186" />
        <code>private ICElement getSourceFolderFromPath(IPath path) {
	    if (path == null)
	        return null;
	    while (!path.isEmpty()) {
		    IResource res = fWorkspaceRoot.findMember(path);
			if (res != null &amp;&amp; res.exists()) {
				int resType = res.getType();
				if (resType == IResource.PROJECT || resType == IResource.FOLDER) {
				    ICElement elem = CoreModel.getDefault().create(res.getFullPath());
				    ICContainer sourceFolder = CModelUtil.getSourceFolder(elem);
				    if (sourceFolder != null)
				        return sourceFolder;
				    if (resType == IResource.PROJECT) {
				        return elem;
				    }
				}
			}
			/*
			 * Bug 10104: The offending code is actually in
			 * org.eclipse.core.runtime.Path::removeLastSegments(int count) where if
count is greater
			 * than remaining segments in path, the leading prefix bit is set.  This
causes path.isEmpty() 
			 * above to always return false, causing the while-loop to loop forever.
			 * 
			 * Instead of touching platform code, a check is added here for whether
remaining segment
			 * count is 0 and if so, return null to exit the while loop.
			 */
			if (path.segmentCount() == 0) {
				return null;
			} else {
				path = path.removeLastSegments(1);
			}
	    }
		return null;
	}</code>
      </source_code>
    </SourceCodeRegions>
    <Enumerations amount="0" />
    <bug_status amount="RESOLVED" />
    <resolution amount="FIXED" />
    <WithStack>If the Browse... button is selected after entering a non-existent source folder
name in the New Source File or New Header File wizard for a C/C++ project,
Eclipse will hang.

The offending code is in removeLastSegment(int) in
org.eclipse.core.runtime/src/org/eclipse/core/runtime/Path.java.  If count &gt;
segments.length, HAS_LEADING should be turned off; otherwise, path.isEmpty()
will return false even though there's no segment left. Consequently, a
while-loop that uses path.isEmpty() will loop forever.

This is the while-loop in
org/eclipse/cdt/internal/ui/wizards/filewizard/AbstractFileCreationWizardPage.java
which loops forever:

        private ICElement getSourceFolderFromPath(IPath path) {
            if (path == null)
                return null;
            while (!path.isEmpty()) {
                    IResource res = fWorkspaceRoot.findMember(path);
                        if (res != null &amp;&amp; res.exists()) {
                                int resType = res.getType();
                                if (resType == IResource.PROJECT || resType ==
IResource.FOLDER) {
                                    ICElement elem =
CoreModel.getDefault().create(res.getFullPath());
                                    ICContainer sourceFolder =
CModelUtil.getSourceFolder(elem);
                                    if (sourceFolder != null)
                                        return sourceFolder;
                                    if (resType == IResource.PROJECT) {
                                        return elem;
                                    }
                                }
                        }
                        path = path.removeLastSegments(1);
            }
                return null;
        }


I've been told this will not be fixed until post Eclipse 3.1 so a workaround
should be applied in CDT.  This is what I did for CDT 2.1.1 in MontaVista
Software's Eclipse product:

	private ICElement getSourceFolderFromPath(IPath path) {
	    if (path == null)
	        return null;
	    while (!path.isEmpty()) {
		    IResource res = fWorkspaceRoot.findMember(path);
			if (res != null &amp;&amp; res.exists()) {
				int resType = res.getType();
				if (resType == IResource.PROJECT || resType == IResource.FOLDER) {
				    ICElement elem = CoreModel.getDefault().create(res.getFullPath());
				    ICContainer sourceFolder = CModelUtil.getSourceFolder(elem);
				    if (sourceFolder != null)
				        return sourceFolder;
				    if (resType == IResource.PROJECT) {
				        return elem;
				    }
				}
			}
			/*
			 * Bug 10104: The offending code is actually in
			 * org.eclipse.core.runtime.Path::removeLastSegments(int count) where if
count is greater
			 * than remaining segments in path, the leading prefix bit is set.  This
causes path.isEmpty() 
			 * above to always return false, causing the while-loop to loop forever.
			 * 
			 * Instead of touching platform code, a check is added here for whether
remaining segment
			 * count is 0 and if so, return null to exit the while loop.
			 */
			if (path.segmentCount() == 0) {
				return null;
			} else {
				path = path.removeLastSegments(1);
			}
	    }
		return null;
	}



Bug 100252 was opened against platform-runtime.
Problem still remains in Eclipse 3.1.1 and CDT 3.0.1
As Platform does not change its code (they changed the docu of the API) I have updated the loop.</WithStack>
    <WithOutStack>If the Browse... button is selected after entering a non-existent source folder
name in the New Source File or New Header File wizard for a C/C++ project,
Eclipse will hang.

The offending code is in removeLastSegment(int) in
org.eclipse.core.runtime/src/org/eclipse/core/runtime/Path.java.  If count &gt;
segments.length, HAS_LEADING should be turned off; otherwise, path.isEmpty()
will return false even though there's no segment left. Consequently, a
while-loop that uses path.isEmpty() will loop forever.

This is the while-loop in
org/eclipse/cdt/internal/ui/wizards/filewizard/AbstractFileCreationWizardPage.java
which loops forever:

        private ICElement getSourceFolderFromPath(IPath path) {
            if (path == null)
                return null;
            while (!path.isEmpty()) {
                    IResource res = fWorkspaceRoot.findMember(path);
                        if (res != null &amp;&amp; res.exists()) {
                                int resType = res.getType();
                                if (resType == IResource.PROJECT || resType ==
IResource.FOLDER) {
                                    ICElement elem =
CoreModel.getDefault().create(res.getFullPath());
                                    ICContainer sourceFolder =
CModelUtil.getSourceFolder(elem);
                                    if (sourceFolder != null)
                                        return sourceFolder;
                                    if (resType == IResource.PROJECT) {
                                        return elem;
                                    }
                                }
                        }
                        path = path.removeLastSegments(1);
            }
                return null;
        }


I've been told this will not be fixed until post Eclipse 3.1 so a workaround
should be applied in CDT.  This is what I did for CDT 2.1.1 in MontaVista
Software's Eclipse product:

	private ICElement getSourceFolderFromPath(IPath path) {
	    if (path == null)
	        return null;
	    while (!path.isEmpty()) {
		    IResource res = fWorkspaceRoot.findMember(path);
			if (res != null &amp;&amp; res.exists()) {
				int resType = res.getType();
				if (resType == IResource.PROJECT || resType == IResource.FOLDER) {
				    ICElement elem = CoreModel.getDefault().create(res.getFullPath());
				    ICContainer sourceFolder = CModelUtil.getSourceFolder(elem);
				    if (sourceFolder != null)
				        return sourceFolder;
				    if (resType == IResource.PROJECT) {
				        return elem;
				    }
				}
			}
			/*
			 * Bug 10104: The offending code is actually in
			 * org.eclipse.core.runtime.Path::removeLastSegments(int count) where if
count is greater
			 * than remaining segments in path, the leading prefix bit is set.  This
causes path.isEmpty() 
			 * above to always return false, causing the while-loop to loop forever.
			 * 
			 * Instead of touching platform code, a check is added here for whether
remaining segment
			 * count is 0 and if so, return null to exit the while loop.
			 */
			if (path.segmentCount() == 0) {
				return null;
			} else {
				path = path.removeLastSegments(1);
			}
	    }
		return null;
	}



Bug 100252 was opened against platform-runtime.
Problem still remains in Eclipse 3.1.1 and CDT 3.0.1
As Platform does not change its code (they changed the docu of the API) I have updated the loop.</WithOutStack>
  </Bug>
</infozilla-output>

