<?xml version="1.0" encoding="UTF-8"?>
<infozilla-output>
  <Bug>
    <BugId amount="102401" />
    <CreationDate amount="2005-06-30 16:30:00 -0400" />
    <DupId amount="" />
    <classification amount="WebTools" />
    <Product amount="WTP Java EE Tools" />
    <component amount="jst.j2ee" />
    <Version amount="0.7" />
    <rep_platform amount="PC" />
    <op_sys amount="Windows XP" />
    <priority amount="P3" />
    <bug_severity amount="major" />
    <Summery>Info pop id's - Send this info to id team.</Summery>
    <Patches amount="0" />
    <Stacktraces amount="0" />
    <SourceCodeRegions amount="0" />
    <Enumerations amount="0" />
    <bug_status amount="CLOSED" />
    <resolution amount="FIXED" />
    <WithStack>We need an inventory of all our id's in WTP.

Every wizard page, property sheet needs one.  
We already have a list of these in the J2EEUIContextIds class
These id's were sent to id team....
Verified
Closing already verified defects</WithStack>
    <WithOutStack>We need an inventory of all our id's in WTP.

Every wizard page, property sheet needs one.  
We already have a list of these in the J2EEUIContextIds class
These id's were sent to id team....
Verified
Closing already verified defects</WithOutStack>
  </Bug>
  <Bug>
    <BugId amount="102402" />
    <CreationDate amount="2005-06-30 16:32:00 -0400" />
    <DupId amount="" />
    <classification amount="Eclipse" />
    <Product amount="JDT" />
    <component amount="Core" />
    <Version amount="3.1" />
    <rep_platform amount="PC" />
    <op_sys amount="Windows 2000" />
    <priority amount="P3" />
    <bug_severity amount="normal" />
    <Summery>No option to 'remove  file from project' without deleting it.</Summery>
    <Patches amount="0" />
    <Stacktraces amount="0" />
    <SourceCodeRegions amount="0" />
    <Enumerations amount="0" />
    <bug_status amount="RESOLVED" />
    <resolution amount="WORKSFORME" />
    <WithStack>We should be able to remove a file from a project without deleting it.  That 
option is not presented ie 'remove file from project' should be an option.
Yes, you can remove the file by deselecting the source under the project's 
compile build options but it is more straight forward to add this to the 
navigator's left click options just above delete   -   ie 'remove from project' 
or with a checkbox option, 'remove from project only' in the delete item 
popup.  (Please forward this to the UI staff!)

Thanks,

Ken
Select file to exclude, and in pkg explorer do: Build path&gt;Exclude
The exclusion filters will be automatically configured on classpath entry.
No need to delete the actual file itself.</WithStack>
    <WithOutStack>We should be able to remove a file from a project without deleting it.  That 
option is not presented ie 'remove file from project' should be an option.
Yes, you can remove the file by deselecting the source under the project's 
compile build options but it is more straight forward to add this to the 
navigator's left click options just above delete   -   ie 'remove from project' 
or with a checkbox option, 'remove from project only' in the delete item 
popup.  (Please forward this to the UI staff!)

Thanks,

Ken
Select file to exclude, and in pkg explorer do: Build path&gt;Exclude
The exclusion filters will be automatically configured on classpath entry.
No need to delete the actual file itself.</WithOutStack>
  </Bug>
  <Bug>
    <BugId amount="102403" />
    <CreationDate amount="2005-06-30 16:39:00 -0400" />
    <DupId amount="83094" />
    <classification amount="Tools" />
    <Product amount="TPTP Testing" />
    <component amount="Test.Execution.ManualRunner" />
    <Version amount="4.0" />
    <rep_platform amount="PC" />
    <op_sys amount="Windows XP" />
    <priority amount="P1" />
    <bug_severity amount="normal" />
    <Summery>Nested Tests cause inaccurate execution histories</Summery>
    <Patches amount="0" />
    <Stacktraces amount="0" />
    <SourceCodeRegions amount="0" />
    <Enumerations amount="1">
      <Enumeration lines="3">
        <Lines>
          <Line>- Test A</Line>
          <Line>- test AA</Line>
          <Line>- test AAA</Line>
        </Lines>
      </Enumeration>
    </Enumerations>
    <bug_status amount="CLOSED" />
    <resolution amount="DUPLICATE" />
    <WithStack>For URL Test, the manual tests are composes of modularized units.  Since the 
tests are run on multiple platforms, it makes it convenient to create a 
LinuxUI test and a Windows UI tests and have them use the same set of test 
cases.  Unfortunately, the execution histories that result cause problems for 
the test reporting structure because the verdicts don't roll up properly.  

- Test A
   - test AA
      - test AAA

For some reason, the verdicts for AA show as inconclusive unless test AAA has 
a fail verdict.  

To reproduct this problem, run the following URL Test manual test, and view 
the execution history and/or test pass report: 

/test-
results/test/org.eclipse.hyades.test.URLTest.tests/manual/basic_tests/WindowsUR
LTest.testsuite
Retargeting to 4.1 because only blocker/critical/major or web documentation
updates can be considered for 4.0 this close to GA.

Re-assigning to Paul per his request.


*** This bug has been marked as a duplicate of 83094 ***
ACTION: Please verify/close this defect.
Closing by default since not closed by the originator in the 7+ months since being resolved.  

Please reopen if the issue is still present in the latest TPTP release or the resolution is not correct.</WithStack>
    <WithOutStack>For URL Test, the manual tests are composes of modularized units.  Since the 
tests are run on multiple platforms, it makes it convenient to create a 
LinuxUI test and a Windows UI tests and have them use the same set of test 
cases.  Unfortunately, the execution histories that result cause problems for 
the test reporting structure because the verdicts don't roll up properly.  

- Test A
   - test AA
      - test AAA

For some reason, the verdicts for AA show as inconclusive unless test AAA has 
a fail verdict.  

To reproduct this problem, run the following URL Test manual test, and view 
the execution history and/or test pass report: 

/test-
results/test/org.eclipse.hyades.test.URLTest.tests/manual/basic_tests/WindowsUR
LTest.testsuite
Retargeting to 4.1 because only blocker/critical/major or web documentation
updates can be considered for 4.0 this close to GA.

Re-assigning to Paul per his request.


*** This bug has been marked as a duplicate of 83094 ***
ACTION: Please verify/close this defect.
Closing by default since not closed by the originator in the 7+ months since being resolved.  

Please reopen if the issue is still present in the latest TPTP release or the resolution is not correct.</WithOutStack>
  </Bug>
  <Bug>
    <BugId amount="102404" />
    <CreationDate amount="2005-06-30 16:51:00 -0400" />
    <DupId amount="" />
    <classification amount="WebTools" />
    <Product amount="WTP ServerTools" />
    <component amount="wst.server" />
    <Version amount="0.7" />
    <rep_platform amount="PC" />
    <op_sys amount="Windows XP" />
    <priority amount="P3" />
    <bug_severity amount="normal" />
    <Summery>Adding and removing projects from a server should always call publish</Summery>
    <Patches amount="0" />
    <Stacktraces amount="0" />
    <SourceCodeRegions amount="0" />
    <Enumerations amount="0" />
    <bug_status amount="CLOSED" />
    <resolution amount="FIXED" />
    <WithStack>Currently, we need to manually execute a publish whenever we add/remove
projects from a server using the Add/Remove Projects wizard. Shouldn't the 
wizard automatically run a publish if changes occur?
Fixed in HEAD, will be tagged for I-build shortly.
Map file updated for next I-build.
Verified.</WithStack>
    <WithOutStack>Currently, we need to manually execute a publish whenever we add/remove
projects from a server using the Add/Remove Projects wizard. Shouldn't the 
wizard automatically run a publish if changes occur?
Fixed in HEAD, will be tagged for I-build shortly.
Map file updated for next I-build.
Verified.</WithOutStack>
  </Bug>
  <Bug>
    <BugId amount="102405" />
    <CreationDate amount="2005-06-30 16:57:00 -0400" />
    <DupId amount="" />
    <classification amount="BIRT" />
    <Product amount="BIRT" />
    <component amount="Data Access" />
    <Version amount="1.0.0" />
    <rep_platform amount="PC" />
    <op_sys amount="Windows XP" />
    <priority amount="P3" />
    <bug_severity amount="major" />
    <Summery>Broken display names when Qry has Dup col names</Summery>
    <Patches amount="0" />
    <Stacktraces amount="0" />
    <SourceCodeRegions amount="0" />
    <Enumerations amount="0" />
    <bug_status amount="RESOLVED" />
    <resolution amount="FIXED" />
    <WithStack>My reporting query, developed outside of BIRT, involves many joins, resulting in
a result set that contains several columns named 'shortName'. When I try to
assign display names (or aliases, for that matter), like 'Category', 'Event' and
'Currency' to the various 'shortName' colunms, BIRT seems to accept my entries
but loses them once I run the report preview. To me, this looks a lot like bug
90950, but in a slightly different context.

I've tried aliasing the Dup columns withing the query itself, like 'select
shortName as Currency...', but to no avail.

Thank you!
When a duplicate columns or an unnamed column is detected in UI, UI will give 
this column a unique, and add a result set column in Model.
Some changes are made in odaconsumer.

Verified in the build 20051221</WithStack>
    <WithOutStack>My reporting query, developed outside of BIRT, involves many joins, resulting in
a result set that contains several columns named 'shortName'. When I try to
assign display names (or aliases, for that matter), like 'Category', 'Event' and
'Currency' to the various 'shortName' colunms, BIRT seems to accept my entries
but loses them once I run the report preview. To me, this looks a lot like bug
90950, but in a slightly different context.

I've tried aliasing the Dup columns withing the query itself, like 'select
shortName as Currency...', but to no avail.

Thank you!
When a duplicate columns or an unnamed column is detected in UI, UI will give 
this column a unique, and add a result set column in Model.
Some changes are made in odaconsumer.

Verified in the build 20051221</WithOutStack>
  </Bug>
  <Bug>
    <BugId amount="102406" />
    <CreationDate amount="2005-06-30 17:04:00 -0400" />
    <DupId amount="" />
    <classification amount="Tools" />
    <Product amount="CDT" />
    <component amount="cdt-debug" />
    <Version amount="3.0" />
    <rep_platform amount="PC" />
    <op_sys amount="Linux" />
    <priority amount="P3" />
    <bug_severity amount="normal" />
    <Summery>Expressions are not reevaluated when CDT believes that there is a problem with the stack frame</Summery>
    <Patches amount="0" />
    <Stacktraces amount="0" />
    <SourceCodeRegions amount="0" />
    <Enumerations amount="0" />
    <bug_status amount="NEW" />
    <resolution amount="" />
    <WithStack>CDT does not evaluate expressions if stack-info-depth returns an error.

As can be seen from the "print *p" commands there is nothing wrong, the program
executes normally.




[1,120,165,265,881] 1503-interpreter-exec console "print *p"
[1,120,165,265,889] ~"$2 = 0x10184b4 &lt;_GLOBAL__I.47000_cygmem_pool_heap1&gt;\n"
[1,120,165,265,890] 1503^done
[1,120,165,265,890] (gdb) 
[1,120,165,306,312] 1504 c
[1,120,165,306,313] &amp;"c\n"
[1,120,165,306,393]
1504^done,reason="breakpoint-hit",bkptno="1",thread-id="0",frame={addr="0x01013f\
a4",func="cyg_hal_invoke_constructors",args=[],file="/home/oyvind/workspace/ecosboard/zpu/ecos/packa\
ges/hal/arm/arch/current/src/hal_misc.c",line="202"}
[1,120,165,306,401] (gdb) 
[1,120,165,306,405] 1505 info threads
[1,120,165,306,406] &amp;"info threads\n"
[1,120,165,306,430] &amp;"warning: RMT ERROR : failed to get remote thread list\n"
[1,120,165,306,430] &amp;"\n"
[1,120,165,306,432] 1505^done
[1,120,165,306,432] (gdb) 
[1,120,165,306,433] 1506-stack-info-depth
[1,120,165,306,527] &amp;"Previous frame identical to this frame (corrupt stack?)\n"
[1,120,165,306,527] 1506^error,msg="Previous frame identical to this frame
(corrupt stack?)"
[1,120,165,306,527] (gdb) 
[1,120,165,306,528] 1506-stack-info-depth
[1,120,165,306,528] 1507-stack-list-frames 0 0
[1,120,165,306,529] 1506^done,depth="3"
[1,120,165,306,529] (gdb) 
[1,120,165,306,530]
1507^done,stack=[frame={level="0",addr="0x01013fa4",func="cyg_hal_invoke_constru\
ctors",file="/home/oyvind/workspace/ecosboard/zpu/ecos/packages/hal/arm/arch/current/src/hal_misc.c"\
,line="202"}]
[1,120,165,306,530] (gdb) 
[1,120,165,306,530] 1508-var-update var1
[1,120,165,306,552]
1508^done,changelist=[{name="var1",in_scope="true",type_changed="false"}]
[1,120,165,306,553] (gdb) 
[1,120,165,306,553] 1509-data-list-changed-registers
[1,120,165,306,554] 1509^done,changed-registers=["0","1","2","3","4","12","14"]
[1,120,165,306,555] (gdb) 
[1,120,165,306,556] 1510-stack-info-depth
[1,120,165,306,651] &amp;"Previous frame identical to this frame (corrupt stack?)\n"
[1,120,165,306,651] 1510^error,msg="Previous frame identical to this frame
(corrupt stack?)"
[1,120,165,306,652] (gdb) 
[1,120,165,306,652] 1510-stack-info-depth
[1,120,165,306,656] 1510^done,depth="3"
[1,120,165,306,656] (gdb) 
[1,120,165,307,971] 1511-interpreter-exec console "print *p"
[1,120,165,307,979] ~"$3 = 0x1010440
&lt;_GLOBAL__I.49000__home_oyvind_workspace_ecosboard_zpu_ecos_pac\
kages_io_common_current_src_ioinit.cxx_B4AC3E94_FC9F24CA&gt;\n"
[1,120,165,307,980] 1511^done
[1,120,165,307,980] (gdb)
The breakpoint was set on the line below.

----
    for (p = &amp;__CTOR_END__[-1]; p &gt;= __CTOR_LIST__; p--)
        (*p) ();  // the breakpoint was set on this line
----
*** Bug 103778 has been marked as a duplicate of this bug. ***</WithStack>
    <WithOutStack>CDT does not evaluate expressions if stack-info-depth returns an error.

As can be seen from the "print *p" commands there is nothing wrong, the program
executes normally.




[1,120,165,265,881] 1503-interpreter-exec console "print *p"
[1,120,165,265,889] ~"$2 = 0x10184b4 &lt;_GLOBAL__I.47000_cygmem_pool_heap1&gt;\n"
[1,120,165,265,890] 1503^done
[1,120,165,265,890] (gdb) 
[1,120,165,306,312] 1504 c
[1,120,165,306,313] &amp;"c\n"
[1,120,165,306,393]
1504^done,reason="breakpoint-hit",bkptno="1",thread-id="0",frame={addr="0x01013f\
a4",func="cyg_hal_invoke_constructors",args=[],file="/home/oyvind/workspace/ecosboard/zpu/ecos/packa\
ges/hal/arm/arch/current/src/hal_misc.c",line="202"}
[1,120,165,306,401] (gdb) 
[1,120,165,306,405] 1505 info threads
[1,120,165,306,406] &amp;"info threads\n"
[1,120,165,306,430] &amp;"warning: RMT ERROR : failed to get remote thread list\n"
[1,120,165,306,430] &amp;"\n"
[1,120,165,306,432] 1505^done
[1,120,165,306,432] (gdb) 
[1,120,165,306,433] 1506-stack-info-depth
[1,120,165,306,527] &amp;"Previous frame identical to this frame (corrupt stack?)\n"
[1,120,165,306,527] 1506^error,msg="Previous frame identical to this frame
(corrupt stack?)"
[1,120,165,306,527] (gdb) 
[1,120,165,306,528] 1506-stack-info-depth
[1,120,165,306,528] 1507-stack-list-frames 0 0
[1,120,165,306,529] 1506^done,depth="3"
[1,120,165,306,529] (gdb) 
[1,120,165,306,530]
1507^done,stack=[frame={level="0",addr="0x01013fa4",func="cyg_hal_invoke_constru\
ctors",file="/home/oyvind/workspace/ecosboard/zpu/ecos/packages/hal/arm/arch/current/src/hal_misc.c"\
,line="202"}]
[1,120,165,306,530] (gdb) 
[1,120,165,306,530] 1508-var-update var1
[1,120,165,306,552]
1508^done,changelist=[{name="var1",in_scope="true",type_changed="false"}]
[1,120,165,306,553] (gdb) 
[1,120,165,306,553] 1509-data-list-changed-registers
[1,120,165,306,554] 1509^done,changed-registers=["0","1","2","3","4","12","14"]
[1,120,165,306,555] (gdb) 
[1,120,165,306,556] 1510-stack-info-depth
[1,120,165,306,651] &amp;"Previous frame identical to this frame (corrupt stack?)\n"
[1,120,165,306,651] 1510^error,msg="Previous frame identical to this frame
(corrupt stack?)"
[1,120,165,306,652] (gdb) 
[1,120,165,306,652] 1510-stack-info-depth
[1,120,165,306,656] 1510^done,depth="3"
[1,120,165,306,656] (gdb) 
[1,120,165,307,971] 1511-interpreter-exec console "print *p"
[1,120,165,307,979] ~"$3 = 0x1010440
&lt;_GLOBAL__I.49000__home_oyvind_workspace_ecosboard_zpu_ecos_pac\
kages_io_common_current_src_ioinit.cxx_B4AC3E94_FC9F24CA&gt;\n"
[1,120,165,307,980] 1511^done
[1,120,165,307,980] (gdb)
The breakpoint was set on the line below.

----
    for (p = &amp;__CTOR_END__[-1]; p &gt;= __CTOR_LIST__; p--)
        (*p) ();  // the breakpoint was set on this line
----
*** Bug 103778 has been marked as a duplicate of this bug. ***</WithOutStack>
  </Bug>
  <Bug>
    <BugId amount="102407" />
    <CreationDate amount="2005-06-30 17:19:00 -0400" />
    <DupId amount="" />
    <classification amount="Tools" />
    <Product amount="CDT" />
    <component amount="cdt-core" />
    <Version amount="3.0" />
    <rep_platform amount="PC" />
    <op_sys amount="Windows XP" />
    <priority amount="P3" />
    <bug_severity amount="normal" />
    <Summery>cdt m7 Ceditor syntax highlight error</Summery>
    <Patches amount="0" />
    <Stacktraces amount="0" />
    <SourceCodeRegions amount="0" />
    <Enumerations amount="0" />
    <bug_status amount="RESOLVED" />
    <resolution amount="FIXED" />
    <WithStack>Example :
#include &lt;stdio.h&gt;

and my color settings is: 
keywords:c1
operators:c2

I get the syntax-highlighted text like the following:

"&lt;" and "&gt;" with c2 color,not what they should be
the syntax-highlighter must mistake it for an operator except preprocessor
Fixed in 4.0 &gt; 20060929.</WithStack>
    <WithOutStack>Example :
#include &lt;stdio.h&gt;

and my color settings is: 
keywords:c1
operators:c2

I get the syntax-highlighted text like the following:

"&lt;" and "&gt;" with c2 color,not what they should be
the syntax-highlighter must mistake it for an operator except preprocessor
Fixed in 4.0 &gt; 20060929.</WithOutStack>
  </Bug>
  <Bug>
    <BugId amount="102408" />
    <CreationDate amount="2005-06-30 17:21:00 -0400" />
    <DupId amount="" />
    <classification amount="Eclipse" />
    <Product amount="JDT" />
    <component amount="Text" />
    <Version amount="3.1" />
    <rep_platform amount="All" />
    <op_sys amount="Windows 2000" />
    <priority amount="P3" />
    <bug_severity amount="normal" />
    <Summery>Opening external files doens't respect contentType extensions</Summery>
    <Patches amount="0" />
    <Stacktraces amount="0" />
    <SourceCodeRegions amount="1">
      <source_code type="functiondef">
        <location start="63" end="276" />
        <code>private IEditorInput createEditorInput(File file) {
  IFile workspaceFile= getWorkspaceFile(file);
  if (workspaceFile != null)
	return new FileEditorInput(workspaceFile);
  return new JavaFileEditorInput(file);
}</code>
      </source_code>
    </SourceCodeRegions>
    <Enumerations amount="1">
      <Enumeration lines="2">
        <Lines>
          <Line>1. open external *.properties file ==&gt; Properties File editor is opened</Line>
          <Line>2. open external *.java file ==&gt; Java file is opened</Line>
        </Lines>
      </Enumeration>
    </Enumerations>
    <bug_status amount="RESOLVED" />
    <resolution amount="INVALID" />
    <WithStack>In package org.eclipse.ui.internal.editors.text

The method: 

private IEditorInput createEditorInput(File file) {
  IFile workspaceFile= getWorkspaceFile(file);
  if (workspaceFile != null)
	return new FileEditorInput(workspaceFile);
  return new JavaFileEditorInput(file);
}

should consult the registry somehow (wish I could whip out the fix myself - soon
maybe) and respect contentType extensions intead of just assuming
all external files are Java.

This is my first official bug report so be gentle :-)
Sorry about the poor naming: JavaFile... stands for java.io.File which means it
is an external file and not an Eclipse IFile.
(In reply to comment #1)
&gt; Sorry about the poor naming: JavaFile... stands for java.io.File which means it
&gt; is an external file and not an Eclipse IFile.

&lt;confused&gt;

OK, you lost me.  The issue as I see it is the logic not the naming.  There's
nothing in the method body that selects the correct editor based on the
registered  contentType.

RP

My scenario, using R3.1:
1. open external *.properties file ==&gt; Properties File editor is opened
2. open external *.java file ==&gt; Java file is opened

==&gt; the content is honored when opening external files

The code you're pointing at only defines which kind of editor input is used for
the given file/storage.

If you have a concrete problem opening (a concrete) external file I suggest to
describe what exactly the problem is you're seeing (step to reproduce).</WithStack>
    <WithOutStack>In package org.eclipse.ui.internal.editors.text

The method: 

private IEditorInput createEditorInput(File file) {
  IFile workspaceFile= getWorkspaceFile(file);
  if (workspaceFile != null)
	return new FileEditorInput(workspaceFile);
  return new JavaFileEditorInput(file);
}

should consult the registry somehow (wish I could whip out the fix myself - soon
maybe) and respect contentType extensions intead of just assuming
all external files are Java.

This is my first official bug report so be gentle :-)
Sorry about the poor naming: JavaFile... stands for java.io.File which means it
is an external file and not an Eclipse IFile.
(In reply to comment #1)
&gt; Sorry about the poor naming: JavaFile... stands for java.io.File which means it
&gt; is an external file and not an Eclipse IFile.

&lt;confused&gt;

OK, you lost me.  The issue as I see it is the logic not the naming.  There's
nothing in the method body that selects the correct editor based on the
registered  contentType.

RP

My scenario, using R3.1:
1. open external *.properties file ==&gt; Properties File editor is opened
2. open external *.java file ==&gt; Java file is opened

==&gt; the content is honored when opening external files

The code you're pointing at only defines which kind of editor input is used for
the given file/storage.

If you have a concrete problem opening (a concrete) external file I suggest to
describe what exactly the problem is you're seeing (step to reproduce).</WithOutStack>
  </Bug>
  <Bug>
    <BugId amount="102409" />
    <CreationDate amount="2005-06-30 17:27:00 -0400" />
    <DupId amount="" />
    <classification amount="Mylyn" />
    <Product amount="Mylyn" />
    <component amount="Tasks" />
    <Version amount="0.2" />
    <rep_platform amount="PC" />
    <op_sys amount="Windows XP" />
    <priority amount="P2" />
    <bug_severity amount="normal" />
    <Summery>task list drag and drop</Summery>
    <Patches amount="0" />
    <Stacktraces amount="0" />
    <SourceCodeRegions amount="0" />
    <Enumerations amount="0" />
    <bug_status amount="RESOLVED" />
    <resolution amount="FIXED" />
    <WithStack>Make sure that tasks can't be dragged onto other tasks (preventing subtasks)

Allow dragging of bugzilla reports to a category (therby adding them)
- fixed with patch for Bug 101916

Fixed.  Very nice.</WithStack>
    <WithOutStack>Make sure that tasks can't be dragged onto other tasks (preventing subtasks)

Allow dragging of bugzilla reports to a category (therby adding them)
- fixed with patch for Bug 101916

Fixed.  Very nice.</WithOutStack>
  </Bug>
  <Bug>
    <BugId amount="102410" />
    <CreationDate amount="2005-06-30 17:29:00 -0400" />
    <DupId amount="" />
    <classification amount="Eclipse" />
    <Product amount="Platform" />
    <component amount="SWT" />
    <Version amount="3.1" />
    <rep_platform amount="Sun" />
    <op_sys amount="Solaris-Motif" />
    <priority amount="P3" />
    <bug_severity amount="normal" />
    <Summery>Takes over 30 Minutes to Start</Summery>
    <Patches amount="0" />
    <Stacktraces amount="0" />
    <SourceCodeRegions amount="0" />
    <Enumerations amount="0" />
    <bug_status amount="RESOLVED" />
    <resolution amount="WORKSFORME" />
    <WithStack>I originally thought that eclipse was hanging during startup but it just takes 
a really long time to start. Once eclipse came up I tried to create a new 
project and it hung again while using over 30% CPU. The same thing happened 
with 3.0.2

I am running with 
   SunOS barney 5.8 Generic_108528-20 sun4u sparc SUNW,Sun-Blade-1000
   java 1.4.2_08
   xwin-32 6.1.3
The process Information dialog box indicates

 Loaded org.eclipse.ui.externaltools      Eclipse SDK
Please take multiple thread dumps (run from the console then "kill -3 &lt;JVM PID&gt;"
every now and then) and provide the resulting output here (attachment would be
good). This will allows us to understand where all this time is being spent.
Created attachment 24381
Ran Kill -3 on JVM 5 times

I updated the patch level of the box based on Sun's recommendations for java.

http://patches.sun.com/clusters/J2SE_Solaris_8_Recommended.README

It did not make a difference.
One more clue, After Eclipse finally starts the menu now work buth slowly. I 
tried to set preferences but eclipse freezes again.
Thanks. The slowness is apparently related to calling the Motif libraries. Looks
similar to bug 39333 (if in that case the user was just not being patient
enough). Moving to SWT.
Something is definitely wrong.  You mentioned 'xwin-32', are you using remote X
to display to a Win32 machine?  How fast is the network connection?  Can you
compare the performance with another large X application such as Mozilla or
OpenOffice?
I am using a remote connection. The unix box is 1 hop away on a fast corporate 
network. I have no performance issues running netscape.  

I just reviewed the patches installed by my administrator. The box never had 
openGL 1.3 installed so the patch was not applied. I am having OpenGL installed 
to see it it helps.

From bug 39333:

The workaround is to use a non UTF8 locale (e.g. en_US instead of en_US.UTF8). 
You can set your locale by "setenv LANG en_US" before starting eclipse.

Can you try this?  Could be font related.

What is the current locale ?
Does it take 30 min to start up when you run locally (not over xwin)?

In the login screen you can choose the locale/encoding. try to use C or 
en_US.ISO8859-1. Since you are running remotely you might need to use command 
line to do the same, I not sure how to do it on solaris but you can try:
setenv LANG C
export LANG=C
Use the command line 'locale' to check what is the current locale.


Ok, marking as WORKSFORME because we never saw it here and Mitchell didn't get back to us.  Mitchell, hope it WORKSFORYOU.</WithStack>
    <WithOutStack>I originally thought that eclipse was hanging during startup but it just takes 
a really long time to start. Once eclipse came up I tried to create a new 
project and it hung again while using over 30% CPU. The same thing happened 
with 3.0.2

I am running with 
   SunOS barney 5.8 Generic_108528-20 sun4u sparc SUNW,Sun-Blade-1000
   java 1.4.2_08
   xwin-32 6.1.3
The process Information dialog box indicates

 Loaded org.eclipse.ui.externaltools      Eclipse SDK
Please take multiple thread dumps (run from the console then "kill -3 &lt;JVM PID&gt;"
every now and then) and provide the resulting output here (attachment would be
good). This will allows us to understand where all this time is being spent.
Created attachment 24381
Ran Kill -3 on JVM 5 times

I updated the patch level of the box based on Sun's recommendations for java.

http://patches.sun.com/clusters/J2SE_Solaris_8_Recommended.README

It did not make a difference.
One more clue, After Eclipse finally starts the menu now work buth slowly. I 
tried to set preferences but eclipse freezes again.
Thanks. The slowness is apparently related to calling the Motif libraries. Looks
similar to bug 39333 (if in that case the user was just not being patient
enough). Moving to SWT.
Something is definitely wrong.  You mentioned 'xwin-32', are you using remote X
to display to a Win32 machine?  How fast is the network connection?  Can you
compare the performance with another large X application such as Mozilla or
OpenOffice?
I am using a remote connection. The unix box is 1 hop away on a fast corporate 
network. I have no performance issues running netscape.  

I just reviewed the patches installed by my administrator. The box never had 
openGL 1.3 installed so the patch was not applied. I am having OpenGL installed 
to see it it helps.

From bug 39333:

The workaround is to use a non UTF8 locale (e.g. en_US instead of en_US.UTF8). 
You can set your locale by "setenv LANG en_US" before starting eclipse.

Can you try this?  Could be font related.

What is the current locale ?
Does it take 30 min to start up when you run locally (not over xwin)?

In the login screen you can choose the locale/encoding. try to use C or 
en_US.ISO8859-1. Since you are running remotely you might need to use command 
line to do the same, I not sure how to do it on solaris but you can try:
setenv LANG C
export LANG=C
Use the command line 'locale' to check what is the current locale.


Ok, marking as WORKSFORME because we never saw it here and Mitchell didn't get back to us.  Mitchell, hope it WORKSFORYOU.</WithOutStack>
  </Bug>
  <Bug>
    <BugId amount="102411" />
    <CreationDate amount="2005-06-30 17:41:00 -0400" />
    <DupId amount="" />
    <classification amount="Tools" />
    <Product amount="TPTP Profiling" />
    <component amount="Platform.Doc" />
    <Version amount="4.0" />
    <rep_platform amount="PC" />
    <op_sys amount="Windows 2000" />
    <priority amount="P3" />
    <bug_severity amount="normal" />
    <Summery>Minor updates to the Agent Controller getting_started.html files</Summery>
    <Patches amount="0" />
    <Stacktraces amount="0" />
    <SourceCodeRegions amount="0" />
    <Enumerations amount="0" />
    <bug_status amount="CLOSED" />
    <resolution amount="FIXED" />
    <WithStack>Here are some minor changes to the getting_started.html files to make them more 
useful:

Replace "Hyades" with "TPTP" or the expanded "Test and Performance Tools 
Platform" everywhere in the file.

Configuring and starting Agent Controller
Update the line that begins with "Generate the configuration file ..." to:

Generate the configuration file that provides the rules for the applications 
that can be executed by the server.


Invoking the Java Profiler
Add a link to http://dev.eclipse.org/viewcvs/indextools.cgi/~checkout~/hyades-
home/docs/components/data_collection/docs/XML4Profiling.htm instead of 
including the URL.

Invocation of the Java Profiler from the TPTP Workbench
Change the paragraph to:
The Java Profiler can be launched from the Test and Performance Tools Platform 
workbench. From the Profiling and Logging Perspective of TPTP workbench you can 
launch applications using the 'Run -&gt; Profile...' menu contribution or the 
toolbar button. Applications in the current TPTP workbench's workspace or 
external Java applications located in the file system can be launched and 
profilied.

Invocation of the Java Profiler from the Command Line
Change the first line to:

The Java Profiler is invoked from a command line using the -Xrun JVM option as 
follows:
Retargeting to 4.1 because only blocker/critical/major or web documentation
updates can be considered for 4.0 this close to GA.

Plug-in files updated:
org.eclipse.tptp.platform.agentcontroller/src-native/collection/packaging_md/
Have to synch up the files with the Web site versions. Keeping the defect open 
until this is done.
Updates made to both plug-in version of the files and Web versions:
Plug-in: plugins/org.eclipse.tptp.platform.agentcontroller/src-
native/collection/packaging_md/&lt;platform&gt;
Web: http://eclipse.org/tptp/home/downloads/installguide/AgentController40.html
As of TPTP 4.6.0, TPTP is in maintenance mode and focusing on improving quality by resolving relevant enhancements/defects and increasing test coverage through test creation, automation, Build Verification Tests (BVTs), and expanded run-time execution. As part of the TPTP Bugzilla housecleaning process (see http://wiki.eclipse.org/Bugzilla_Housecleaning_Processes), this enhancement/defect is verified/closed by the Project Lead since this enhancement/defect has been resolved and unverified for more than 1 year and considered to be fixed. If this enhancement/defect is still unresolved and reproducible in the latest TPTP release (http://www.eclipse.org/tptp/home/downloads/), please re-open.</WithStack>
    <WithOutStack>Here are some minor changes to the getting_started.html files to make them more 
useful:

Replace "Hyades" with "TPTP" or the expanded "Test and Performance Tools 
Platform" everywhere in the file.

Configuring and starting Agent Controller
Update the line that begins with "Generate the configuration file ..." to:

Generate the configuration file that provides the rules for the applications 
that can be executed by the server.


Invoking the Java Profiler
Add a link to http://dev.eclipse.org/viewcvs/indextools.cgi/~checkout~/hyades-
home/docs/components/data_collection/docs/XML4Profiling.htm instead of 
including the URL.

Invocation of the Java Profiler from the TPTP Workbench
Change the paragraph to:
The Java Profiler can be launched from the Test and Performance Tools Platform 
workbench. From the Profiling and Logging Perspective of TPTP workbench you can 
launch applications using the 'Run -&gt; Profile...' menu contribution or the 
toolbar button. Applications in the current TPTP workbench's workspace or 
external Java applications located in the file system can be launched and 
profilied.

Invocation of the Java Profiler from the Command Line
Change the first line to:

The Java Profiler is invoked from a command line using the -Xrun JVM option as 
follows:
Retargeting to 4.1 because only blocker/critical/major or web documentation
updates can be considered for 4.0 this close to GA.

Plug-in files updated:
org.eclipse.tptp.platform.agentcontroller/src-native/collection/packaging_md/
Have to synch up the files with the Web site versions. Keeping the defect open 
until this is done.
Updates made to both plug-in version of the files and Web versions:
Plug-in: plugins/org.eclipse.tptp.platform.agentcontroller/src-
native/collection/packaging_md/&lt;platform&gt;
Web: http://eclipse.org/tptp/home/downloads/installguide/AgentController40.html
As of TPTP 4.6.0, TPTP is in maintenance mode and focusing on improving quality by resolving relevant enhancements/defects and increasing test coverage through test creation, automation, Build Verification Tests (BVTs), and expanded run-time execution. As part of the TPTP Bugzilla housecleaning process (see http://wiki.eclipse.org/Bugzilla_Housecleaning_Processes), this enhancement/defect is verified/closed by the Project Lead since this enhancement/defect has been resolved and unverified for more than 1 year and considered to be fixed. If this enhancement/defect is still unresolved and reproducible in the latest TPTP release (http://www.eclipse.org/tptp/home/downloads/), please re-open.</WithOutStack>
  </Bug>
  <Bug>
    <BugId amount="102412" />
    <CreationDate amount="2005-06-30 17:43:00 -0400" />
    <DupId amount="" />
    <classification amount="Eclipse" />
    <Product amount="Platform" />
    <component amount="Ant" />
    <Version amount="3.0.1" />
    <rep_platform amount="PC" />
    <op_sys amount="Windows XP" />
    <priority amount="P3" />
    <bug_severity amount="minor" />
    <Summery>Standard Fix for large build commands doesn't work inside of Eclipse</Summery>
    <Patches amount="0" />
    <Stacktraces amount="0" />
    <SourceCodeRegions amount="0" />
    <Enumerations amount="0" />
    <bug_status amount="RESOLVED" />
    <resolution amount="WORKSFORME" />
    <WithStack>Though precious little is said about it, there is apparently a limit to the size
that commands constructed by ant can be.  This can be worked around by setting
the useexternalfile attribute to true for the task.  I have a javadoc task which
requires such a workaround that will work from the command line, but will fail
when issued by eclipse.  I'm using Ant 1.6.2 from both locations.  The error I
recieve in eclipse (below) is very similar to the error I received before
setting useexternalfile in the ant file to begin with; which is basically that
an error is caused, commonly an IOException, due to the generated command being
prematurely truncated.

Cut and Paste of Error------------------------------------------------

javadoc-api:
  [javadoc] Generating Javadoc
  [javadoc] Javadoc execution
BUILD FAILED: W:\msn_workgroups\avid\build\build.xml:23: The following error
occurred while executing this line:
W:\msn_workgroups\avid\workgroups\build.xml:411: Javadoc failed:
java.io.IOException: CreateProcess: javadoc.exe -d
W:\msn_workgroups\avid\build\javadoc -classpath
C:\j2sdk1.4.2_08\jre\lib\charsets.jar;C:\j2sdk1.4.2_08\jre\lib\ext\dnsns.jar;C:\j2sdk1.4.2_08\jre\lib\ext\ldapsec.jar;C:\j2sdk1.4.2_08\jre\lib\ext\localedata.jar;C:\j2sdk1.4.2_08\jre\lib\ext\sunjce_provider.jar;C:\j2sdk1.4.2_08\jre\lib\jce.jar;C:\j2sdk1.4.2_08\jre\lib\jsse.jar;C:\j2sdk1.4.2_08\jre\lib\plugin.jar;C:\j2sdk1.4.2_08\jre\lib\rt.jar;C:\j2sdk1.4.2_08\jre\lib\sunrsasign.jar;W:\msn_workgroups\third-party\sun\jini2_0_002\lib\jini-core.jar;W:\msn_workgroups\third-party\sun\jini2_0_002\lib\jini-ext.jar;W:\msn_workgroups\third-party\sun\jini2_0_002\lib\sun-util.jar;W:\msn_workgroups\third-party\sun\jini2_0_002\lib\tools.jar
-sourcepath
W:\msn_workgroups\avid\diagnostics\api\src;W:\msn_workgroups\avid\health\api\src;W:\msn_workgroups\avid\timesync\api\src;W:\msn_workgroups\avid\configuration\api\src;W:\msn_workgroups\avid\workgroups\api\src
-version -author -link http://java.sun.com/j2se/1.4.2/docs/api -link
http://java.sun.com/p”
Total time: 1 minute 17 seconds
Thank you for the bug report.
Would it possible for you to provide a test buildfile that exhibits the problem?
In the 8 months since I posted this, we have switched versions of Java, Ant and Eclipse, and I can not get this error to occur in our new enviornment.  I checked the build from when I was having the error out and tried running the build under my new Eclipse (3.2M3) and ant (1.6.5) with the old java (1.4.2).  The build occured normally.  Since I can't repeat this, I guess go ahead and close the bug.  Thanks
Thank you very much for reporting back.</WithStack>
    <WithOutStack>Though precious little is said about it, there is apparently a limit to the size
that commands constructed by ant can be.  This can be worked around by setting
the useexternalfile attribute to true for the task.  I have a javadoc task which
requires such a workaround that will work from the command line, but will fail
when issued by eclipse.  I'm using Ant 1.6.2 from both locations.  The error I
recieve in eclipse (below) is very similar to the error I received before
setting useexternalfile in the ant file to begin with; which is basically that
an error is caused, commonly an IOException, due to the generated command being
prematurely truncated.

Cut and Paste of Error------------------------------------------------

javadoc-api:
  [javadoc] Generating Javadoc
  [javadoc] Javadoc execution
BUILD FAILED: W:\msn_workgroups\avid\build\build.xml:23: The following error
occurred while executing this line:
W:\msn_workgroups\avid\workgroups\build.xml:411: Javadoc failed:
java.io.IOException: CreateProcess: javadoc.exe -d
W:\msn_workgroups\avid\build\javadoc -classpath
C:\j2sdk1.4.2_08\jre\lib\charsets.jar;C:\j2sdk1.4.2_08\jre\lib\ext\dnsns.jar;C:\j2sdk1.4.2_08\jre\lib\ext\ldapsec.jar;C:\j2sdk1.4.2_08\jre\lib\ext\localedata.jar;C:\j2sdk1.4.2_08\jre\lib\ext\sunjce_provider.jar;C:\j2sdk1.4.2_08\jre\lib\jce.jar;C:\j2sdk1.4.2_08\jre\lib\jsse.jar;C:\j2sdk1.4.2_08\jre\lib\plugin.jar;C:\j2sdk1.4.2_08\jre\lib\rt.jar;C:\j2sdk1.4.2_08\jre\lib\sunrsasign.jar;W:\msn_workgroups\third-party\sun\jini2_0_002\lib\jini-core.jar;W:\msn_workgroups\third-party\sun\jini2_0_002\lib\jini-ext.jar;W:\msn_workgroups\third-party\sun\jini2_0_002\lib\sun-util.jar;W:\msn_workgroups\third-party\sun\jini2_0_002\lib\tools.jar
-sourcepath
W:\msn_workgroups\avid\diagnostics\api\src;W:\msn_workgroups\avid\health\api\src;W:\msn_workgroups\avid\timesync\api\src;W:\msn_workgroups\avid\configuration\api\src;W:\msn_workgroups\avid\workgroups\api\src
-version -author -link http://java.sun.com/j2se/1.4.2/docs/api -link
http://java.sun.com/p”
Total time: 1 minute 17 seconds
Thank you for the bug report.
Would it possible for you to provide a test buildfile that exhibits the problem?
In the 8 months since I posted this, we have switched versions of Java, Ant and Eclipse, and I can not get this error to occur in our new enviornment.  I checked the build from when I was having the error out and tried running the build under my new Eclipse (3.2M3) and ant (1.6.5) with the old java (1.4.2).  The build occured normally.  Since I can't repeat this, I guess go ahead and close the bug.  Thanks
Thank you very much for reporting back.</WithOutStack>
  </Bug>
  <Bug>
    <BugId amount="102413" />
    <CreationDate amount="2005-06-30 17:47:00 -0400" />
    <DupId amount="" />
    <classification amount="Tools" />
    <Product amount="CDT" />
    <component amount="cdt-debug" />
    <Version amount="3.0" />
    <rep_platform amount="PC" />
    <op_sys amount="Linux" />
    <priority amount="P3" />
    <bug_severity amount="normal" />
    <Summery>NPE when trying to add a source lookup path via the tab in the Debug Session modal dialog box editor</Summery>
    <Patches amount="0" />
    <Stacktraces amount="0" />
    <SourceCodeRegions amount="5">
      <source_code type="ifstatement">
        <location start="27" end="80" />
        <code>if (fDirector.supportsSourceContainerType(type)) {</code>
      </source_code>
      <source_code type="functioncall">
        <location start="134" end="194" />
        <code>SourceLookupUIUtils.getSourceContainerBrowser(type.getId());</code>
      </source_code>
      <source_code type="functioncall">
        <location start="7414" end="7428" />
        <code>(String)null);</code>
      </source_code>
      <source_code type="ifstatement">
        <location start="7429" end="7451" />
        <code>if (type == null) {</code>
      </source_code>
      <source_code type="assignment">
        <location start="7452" end="7508" />
        <code>type = configuration.getType().getSourceLocatorId();</code>
      </source_code>
    </SourceCodeRegions>
    <Enumerations amount="0" />
    <bug_status amount="RESOLVED" />
    <resolution amount="INVALID" />
    <WithStack>-- culprit line below ----
			if (fDirector.supportsSourceContainerType(type)) {
				ISourceContainerBrowser sourceContainerBrowser =
SourceLookupUIUtils.getSourceContainerBrowser(type.getId());

------------------

this= AddSourceContainerDialog  (id=2517)
	block= true
	bottomFillerLabel= Label  (id=2548)
	buttonBar= null
	buttons= HashMap  (id=2549)
	contents= null
	dialogArea= null
	errorMessage= null
	errorMsgAreaBackground= null
	errorMsgImage= null
	fDirector= null
	fDoubleClickSelects= true
	fontChangeListener= Window$FontChangeListener  (id=2551)
	fontMetrics= FontMetrics  (id=2554)
	fSourceContainerViewer= SourceContainerViewer  (id=2556)
	fViewer= null
	leftFillerLabel= Label  (id=2560)
	message= ""
	messageImage= null
	messageImageLabel= Label  (id=2562)
	messageLabel= Text  (id=2563)
	messageLabelHeight= 26
	normalMsgAreaBackground= null
	parentShell= SameShellProvider  (id=2565)
	resizeHasOccurred= false
	resizeListener= Window$2  (id=2567)
	returnCode= 0
	shell= Shell  (id=2570)
	shellStyle= 67696
	showingError= false
	titleAreaColor= null
	titleAreaRGB= null
	titleImage= Label  (id=2573)
	titleImageLargest= true
	titleLabel= Label  (id=2574)
	windowManager= null
	workArea= Composite  (id=2575)



Thread [main] (Suspended (exception NullPointerException))
	AddSourceContainerDialog.filterTypes(ISourceContainerType[]) line: 130
	AddSourceContainerDialog.createDialogArea(Composite) line: 83
	AddSourceContainerDialog(TitleAreaDialog).createContents(Composite) line: 157
	AddSourceContainerDialog(Window).create() line: 418
	AddSourceContainerDialog(Dialog).create() line: 996
	AddSourceContainerDialog(Window).open() line: 776
	AddContainerAction.run() line: 36
	SourceContainerAction$1.widgetSelected(SelectionEvent) line: 141
	TypedListener.handleEvent(Event) line: 90
	EventTable.sendEvent(Event) line: 66
	Button(Widget).sendEvent(Event) line: 1021
	Display.runDeferredEvents() line: 2867
	Display.readAndDispatch() line: 2572
	LaunchConfigurationsDialog(Window).runEventLoop(Shell) line: 809
	LaunchConfigurationsDialog(Window).open() line: 787
	LaunchConfigurationsDialog.open() line: 439
	DebugUITools$1.run() line: 356
	BusyIndicator.showWhile(Display, Runnable) line: 69
	DebugUITools.openLaunchConfigurationDialogOnGroup(Shell, IStructuredSelection,
String, IStatus) line: 360
	DebugUITools.openLaunchConfigurationDialogOnGroup(Shell, IStructuredSelection,
String) line: 302
	OpenDebugConfigurations(OpenLaunchDialogAction).run() line: 80
	OpenDebugConfigurations(OpenLaunchDialogAction).run(IAction) line: 99
	WWinPluginAction(PluginAction).runWithEvent(Event) line: 246
	WWinPluginAction.runWithEvent(Event) line: 223
	PluginActionContributionItem(ActionContributionItem).handleWidgetSelection(Event,
boolean) line: 538
	ActionContributionItem.access$2(ActionContributionItem, Event, boolean) line: 488
	ActionContributionItem$5.handleEvent(Event) line: 400
	EventTable.sendEvent(Event) line: 66
	MenuItem(Widget).sendEvent(Event) line: 1021
	Display.runDeferredEvents() line: 2867
	Display.readAndDispatch() line: 2572
	Workbench.runEventLoop(Window$IExceptionHandler, Display) line: 1699
	Workbench.runUI() line: 1663
	Workbench.createAndRunWorkbench(Display, WorkbenchAdvisor) line: 367
	PlatformUI.createAndRunWorkbench(Display, WorkbenchAdvisor) line: 143
	IDEApplication.run(Object) line: 103
	PlatformActivator$1.run(Object) line: 226
	EclipseStarter.run(Object) line: 376
	EclipseStarter.run(String[], Runnable) line: 163
	NativeMethodAccessorImpl.invoke0(Method, Object, Object[]) line: not available
[native method]
	NativeMethodAccessorImpl.invoke(Object, Object[]) line: 39
	DelegatingMethodAccessorImpl.invoke(Object, Object[]) line: 25
	Method.invoke(Object, Object[]) line: 324
	Main.invokeFramework(String[], URL[]) line: 334
	Main.basicRun(String[]) line: 278
	Main.run(String[]) line: 973
	Main.main(String[]) line: 948
Created attachment 24256
The NPE happens when clicking add button
Oyvind, did you set the "sourcePathComputerId" and "sourceLocatorId" attributes 
fo the "org.eclipse.debug.core.launchConfigurationTypes" extension point? You 
can copy the content of the same fields from CDT.

&gt;Oyvind, did you set the "sourcePathComputerId" and "sourceLocatorId" attributes
&gt;fo the "org.eclipse.debug.core.launchConfigurationTypes" extension point?
&gt; You can copy the content of the same fields from CDT.

I've done it now.

I get this NPE now:





Thread [main] (Suspended (exception NullPointerException))
	AddSourceContainerDialog.filterTypes(ISourceContainerType[]) line: 130
	AddSourceContainerDialog.createDialogArea(Composite) line: 83
	AddSourceContainerDialog(TitleAreaDialog).createContents(Composite) line: 157
	AddSourceContainerDialog(Window).create() line: 418
	AddSourceContainerDialog(Dialog).create() line: 996
	AddSourceContainerDialog(Window).open() line: 776
	AddContainerAction.run() line: 36
	SourceContainerAction$1.widgetSelected(SelectionEvent) line: 141
	TypedListener.handleEvent(Event) line: 90
	EventTable.sendEvent(Event) line: 66
	Button(Widget).sendEvent(Event) line: 1021
	Display.runDeferredEvents() line: 2867
	Display.readAndDispatch() line: 2572
	LaunchConfigurationsDialog(Window).runEventLoop(Shell) line: 809
	LaunchConfigurationsDialog(Window).open() line: 787
	LaunchConfigurationsDialog.open() line: 439
	DebugUITools$1.run() line: 356
	BusyIndicator.showWhile(Display, Runnable) line: 69
	DebugUITools.openLaunchConfigurationDialogOnGroup(Shell, IStructuredSelection,
String, IStatus) line: 360
	DebugUITools.openLaunchConfigurationDialogOnGroup(Shell, IStructuredSelection,
String) line: 302
	OpenDebugConfigurations(OpenLaunchDialogAction).run() line: 80
	OpenDebugConfigurations(OpenLaunchDialogAction).run(IAction) line: 99
	WWinPluginAction(PluginAction).runWithEvent(Event) line: 246
	WWinPluginAction.runWithEvent(Event) line: 223
	PluginActionContributionItem(ActionContributionItem).handleWidgetSelection(Event,
boolean) line: 538
	ActionContributionItem.access$2(ActionContributionItem, Event, boolean) line: 488
	ActionContributionItem$5.handleEvent(Event) line: 400
	EventTable.sendEvent(Event) line: 66
	MenuItem(Widget).sendEvent(Event) line: 1021
	Display.runDeferredEvents() line: 2867
	Display.readAndDispatch() line: 2572
	Workbench.runEventLoop(Window$IExceptionHandler, Display) line: 1699
	Workbench.runUI() line: 1663
	Workbench.createAndRunWorkbench(Display, WorkbenchAdvisor) line: 367
	PlatformUI.createAndRunWorkbench(Display, WorkbenchAdvisor) line: 143
	IDEApplication.run(Object) line: 103
	PlatformActivator$1.run(Object) line: 226
	EclipseStarter.run(Object) line: 376
	EclipseStarter.run(String[], Runnable) line: 163
	NativeMethodAccessorImpl.invoke0(Method, Object, Object[]) line: not available
[native method]
	NativeMethodAccessorImpl.invoke(Object, Object[]) line: 39
	DelegatingMethodAccessorImpl.invoke(Object, Object[]) line: 25
	Method.invoke(Object, Object[]) line: 324
	Main.invokeFramework(String[], URL[]) line: 334
	Main.basicRun(String[]) line: 278
	Main.run(String[]) line: 973
	Main.main(String[]) line: 948

Created attachment 24285
My plugin.xml after I made the modifications
Created attachment 24286
Shows error message

The NPE happens when I click "Add"
I only see this problem under Linux.

One of these two statements should have returned type!=null, I think.

			type =
configuration.getAttribute(ILaunchConfiguration.ATTR_SOURCE_LOCATOR_ID,
(String)null);
			if (type == null) {
				type = configuration.getType().getSourceLocatorId();


Thread [main] (Suspended (breakpoint at line 259 in SourceLookupPanel))
	SourceLookupPanel.initializeFrom(ILaunchConfiguration) line: 259
	SourceLookupTab.initializeFrom(ILaunchConfiguration) line: 79
	LaunchConfigurationTabGroup(AbstractLaunchConfigurationTabGroup).initializeFrom(ILaunchConfiguration)
line: 86
	LaunchConfigurationTabGroupViewer.displayInstanceTabs() line: 543
	LaunchConfigurationTabGroupViewer$5.run() line: 471
	BusyIndicator.showWhile(Display, Runnable) line: 69
	LaunchConfigurationTabGroupViewer.inputChanged(Object) line: 488
	LaunchConfigurationTabGroupViewer.setInput(Object) line: 452
	LaunchConfigurationsDialog.handleLaunchConfigurationSelectionChanged(SelectionChangedEvent)
line: 789
	LaunchConfigurationsDialog$3.selectionChanged(SelectionChangedEvent) line: 601
	StructuredViewer$3.run() line: 763
	InternalPlatform.run(ISafeRunnable) line: 1044
	Platform.run(ISafeRunnable) line: 783
	JFaceUtil$1.run(ISafeRunnable) line: 44
	SafeRunnable.run(ISafeRunnable) line: 148
	TreeViewer(StructuredViewer).firePostSelectionChanged(SelectionChangedEvent)
line: 761
	TreeViewer(StructuredViewer).setSelection(ISelection, boolean) line: 1453
	TreeViewer(Viewer).setSelection(ISelection) line: 379
	LaunchConfigurationsDialog.doInitialTreeSelection() line: 376
	LaunchConfigurationsDialog.initializeContent() line: 317
	LaunchConfigurationsDialog.createContents(Composite) line: 312
	LaunchConfigurationsDialog(Window).create() line: 418
	LaunchConfigurationsDialog(Dialog).create() line: 996
	LaunchConfigurationsDialog.create() line: 1597
	LaunchConfigurationsDialog(Window).open() line: 776
	LaunchConfigurationsDialog.open() line: 439
	DebugUITools$1.run() line: 356
	BusyIndicator.showWhile(Display, Runnable) line: 69
	DebugUITools.openLaunchConfigurationDialogOnGroup(Shell, IStructuredSelection,
String, IStatus) line: 360
	DebugUITools.openLaunchConfigurationDialogOnGroup(Shell, IStructuredSelection,
String) line: 302
	OpenDebugConfigurations(OpenLaunchDialogAction).run() line: 80
	OpenDebugConfigurations(OpenLaunchDialogAction).run(IAction) line: 99
	WWinPluginAction(PluginAction).runWithEvent(Event) line: 246
	WWinPluginAction.runWithEvent(Event) line: 223
	PluginActionContributionItem(ActionContributionItem).handleWidgetSelection(Event,
boolean) line: 538
	ActionContributionItem.access$2(ActionContributionItem, Event, boolean) line: 488
	ActionContributionItem$5.handleEvent(Event) line: 400
	EventTable.sendEvent(Event) line: 66
	MenuItem(Widget).sendEvent(Event) line: 1021
	Display.runDeferredEvents() line: 2867
	Display.readAndDispatch() line: 2572
	Workbench.runEventLoop(Window$IExceptionHandler, Display) line: 1699
	Workbench.runUI() line: 1663
	Workbench.createAndRunWorkbench(Display, WorkbenchAdvisor) line: 367
	PlatformUI.createAndRunWorkbench(Display, WorkbenchAdvisor) line: 143
	IDEApplication.run(Object) line: 103
	PlatformActivator$1.run(Object) line: 226
	EclipseStarter.run(Object) line: 376
	EclipseStarter.run(String[], Runnable) line: 163
	NativeMethodAccessorImpl.invoke0(Method, Object, Object[]) line: not available
[native method]
	NativeMethodAccessorImpl.invoke(Object, Object[]) line: 39
	DelegatingMethodAccessorImpl.invoke(Object, Object[]) line: 25
	Method.invoke(Object, Object[]) line: 324
	Main.invokeFramework(String[], URL[]) line: 334
	Main.basicRun(String[]) line: 278
	Main.run(String[]) line: 973
	Main.main(String[]) line: 948

I've found the culprit.

The problem is that there is a syntax error in plugin.xml.

However, I would have expected syntax errors to be flagged by the Eclipse when I
launch/build my plugin....???

Is there a PR for Eclipse not flagging syntax errors in plugin.xml's?
(In reply to comment #7)
&gt; I've found the culprit.
&gt; The problem is that there is a syntax error in plugin.xml.
&gt; However, I would have expected syntax errors to be flagged by the Eclipse 
when I
&gt; launch/build my plugin....???
&gt; Is there a PR for Eclipse not flagging syntax errors in plugin.xml's?
I don't know, but you can submit one :)
Marking as INVALID - it's definitely not a CDT debugger problem.
&gt;I don't know, but you can submit one :)

Oh joy! My name is on 0.5% of all the PRs reported to Eclipse(518 out of 100k,
147 of which are marked as fixed), so shoot me if I don't pursue everything that
I find or if some of my PR's are a bit thin. :-)

Øyvind</WithStack>
    <WithOutStack>-- culprit line below ----
			if (fDirector.supportsSourceContainerType(type)) {
				ISourceContainerBrowser sourceContainerBrowser =
SourceLookupUIUtils.getSourceContainerBrowser(type.getId());

------------------

this= AddSourceContainerDialog  (id=2517)
	block= true
	bottomFillerLabel= Label  (id=2548)
	buttonBar= null
	buttons= HashMap  (id=2549)
	contents= null
	dialogArea= null
	errorMessage= null
	errorMsgAreaBackground= null
	errorMsgImage= null
	fDirector= null
	fDoubleClickSelects= true
	fontChangeListener= Window$FontChangeListener  (id=2551)
	fontMetrics= FontMetrics  (id=2554)
	fSourceContainerViewer= SourceContainerViewer  (id=2556)
	fViewer= null
	leftFillerLabel= Label  (id=2560)
	message= ""
	messageImage= null
	messageImageLabel= Label  (id=2562)
	messageLabel= Text  (id=2563)
	messageLabelHeight= 26
	normalMsgAreaBackground= null
	parentShell= SameShellProvider  (id=2565)
	resizeHasOccurred= false
	resizeListener= Window$2  (id=2567)
	returnCode= 0
	shell= Shell  (id=2570)
	shellStyle= 67696
	showingError= false
	titleAreaColor= null
	titleAreaRGB= null
	titleImage= Label  (id=2573)
	titleImageLargest= true
	titleLabel= Label  (id=2574)
	windowManager= null
	workArea= Composite  (id=2575)



Thread [main] (Suspended (exception NullPointerException))
	AddSourceContainerDialog.filterTypes(ISourceContainerType[]) line: 130
	AddSourceContainerDialog.createDialogArea(Composite) line: 83
	AddSourceContainerDialog(TitleAreaDialog).createContents(Composite) line: 157
	AddSourceContainerDialog(Window).create() line: 418
	AddSourceContainerDialog(Dialog).create() line: 996
	AddSourceContainerDialog(Window).open() line: 776
	AddContainerAction.run() line: 36
	SourceContainerAction$1.widgetSelected(SelectionEvent) line: 141
	TypedListener.handleEvent(Event) line: 90
	EventTable.sendEvent(Event) line: 66
	Button(Widget).sendEvent(Event) line: 1021
	Display.runDeferredEvents() line: 2867
	Display.readAndDispatch() line: 2572
	LaunchConfigurationsDialog(Window).runEventLoop(Shell) line: 809
	LaunchConfigurationsDialog(Window).open() line: 787
	LaunchConfigurationsDialog.open() line: 439
	DebugUITools$1.run() line: 356
	BusyIndicator.showWhile(Display, Runnable) line: 69
	DebugUITools.openLaunchConfigurationDialogOnGroup(Shell, IStructuredSelection,
String, IStatus) line: 360
	DebugUITools.openLaunchConfigurationDialogOnGroup(Shell, IStructuredSelection,
String) line: 302
	OpenDebugConfigurations(OpenLaunchDialogAction).run() line: 80
	OpenDebugConfigurations(OpenLaunchDialogAction).run(IAction) line: 99
	WWinPluginAction(PluginAction).runWithEvent(Event) line: 246
	WWinPluginAction.runWithEvent(Event) line: 223
	PluginActionContributionItem(ActionContributionItem).handleWidgetSelection(Event,
boolean) line: 538
	ActionContributionItem.access$2(ActionContributionItem, Event, boolean) line: 488
	ActionContributionItem$5.handleEvent(Event) line: 400
	EventTable.sendEvent(Event) line: 66
	MenuItem(Widget).sendEvent(Event) line: 1021
	Display.runDeferredEvents() line: 2867
	Display.readAndDispatch() line: 2572
	Workbench.runEventLoop(Window$IExceptionHandler, Display) line: 1699
	Workbench.runUI() line: 1663
	Workbench.createAndRunWorkbench(Display, WorkbenchAdvisor) line: 367
	PlatformUI.createAndRunWorkbench(Display, WorkbenchAdvisor) line: 143
	IDEApplication.run(Object) line: 103
	PlatformActivator$1.run(Object) line: 226
	EclipseStarter.run(Object) line: 376
	EclipseStarter.run(String[], Runnable) line: 163
	NativeMethodAccessorImpl.invoke0(Method, Object, Object[]) line: not available
[native method]
	NativeMethodAccessorImpl.invoke(Object, Object[]) line: 39
	DelegatingMethodAccessorImpl.invoke(Object, Object[]) line: 25
	Method.invoke(Object, Object[]) line: 324
	Main.invokeFramework(String[], URL[]) line: 334
	Main.basicRun(String[]) line: 278
	Main.run(String[]) line: 973
	Main.main(String[]) line: 948
Created attachment 24256
The NPE happens when clicking add button
Oyvind, did you set the "sourcePathComputerId" and "sourceLocatorId" attributes 
fo the "org.eclipse.debug.core.launchConfigurationTypes" extension point? You 
can copy the content of the same fields from CDT.

&gt;Oyvind, did you set the "sourcePathComputerId" and "sourceLocatorId" attributes
&gt;fo the "org.eclipse.debug.core.launchConfigurationTypes" extension point?
&gt; You can copy the content of the same fields from CDT.

I've done it now.

I get this NPE now:





Thread [main] (Suspended (exception NullPointerException))
	AddSourceContainerDialog.filterTypes(ISourceContainerType[]) line: 130
	AddSourceContainerDialog.createDialogArea(Composite) line: 83
	AddSourceContainerDialog(TitleAreaDialog).createContents(Composite) line: 157
	AddSourceContainerDialog(Window).create() line: 418
	AddSourceContainerDialog(Dialog).create() line: 996
	AddSourceContainerDialog(Window).open() line: 776
	AddContainerAction.run() line: 36
	SourceContainerAction$1.widgetSelected(SelectionEvent) line: 141
	TypedListener.handleEvent(Event) line: 90
	EventTable.sendEvent(Event) line: 66
	Button(Widget).sendEvent(Event) line: 1021
	Display.runDeferredEvents() line: 2867
	Display.readAndDispatch() line: 2572
	LaunchConfigurationsDialog(Window).runEventLoop(Shell) line: 809
	LaunchConfigurationsDialog(Window).open() line: 787
	LaunchConfigurationsDialog.open() line: 439
	DebugUITools$1.run() line: 356
	BusyIndicator.showWhile(Display, Runnable) line: 69
	DebugUITools.openLaunchConfigurationDialogOnGroup(Shell, IStructuredSelection,
String, IStatus) line: 360
	DebugUITools.openLaunchConfigurationDialogOnGroup(Shell, IStructuredSelection,
String) line: 302
	OpenDebugConfigurations(OpenLaunchDialogAction).run() line: 80
	OpenDebugConfigurations(OpenLaunchDialogAction).run(IAction) line: 99
	WWinPluginAction(PluginAction).runWithEvent(Event) line: 246
	WWinPluginAction.runWithEvent(Event) line: 223
	PluginActionContributionItem(ActionContributionItem).handleWidgetSelection(Event,
boolean) line: 538
	ActionContributionItem.access$2(ActionContributionItem, Event, boolean) line: 488
	ActionContributionItem$5.handleEvent(Event) line: 400
	EventTable.sendEvent(Event) line: 66
	MenuItem(Widget).sendEvent(Event) line: 1021
	Display.runDeferredEvents() line: 2867
	Display.readAndDispatch() line: 2572
	Workbench.runEventLoop(Window$IExceptionHandler, Display) line: 1699
	Workbench.runUI() line: 1663
	Workbench.createAndRunWorkbench(Display, WorkbenchAdvisor) line: 367
	PlatformUI.createAndRunWorkbench(Display, WorkbenchAdvisor) line: 143
	IDEApplication.run(Object) line: 103
	PlatformActivator$1.run(Object) line: 226
	EclipseStarter.run(Object) line: 376
	EclipseStarter.run(String[], Runnable) line: 163
	NativeMethodAccessorImpl.invoke0(Method, Object, Object[]) line: not available
[native method]
	NativeMethodAccessorImpl.invoke(Object, Object[]) line: 39
	DelegatingMethodAccessorImpl.invoke(Object, Object[]) line: 25
	Method.invoke(Object, Object[]) line: 324
	Main.invokeFramework(String[], URL[]) line: 334
	Main.basicRun(String[]) line: 278
	Main.run(String[]) line: 973
	Main.main(String[]) line: 948

Created attachment 24285
My plugin.xml after I made the modifications
Created attachment 24286
Shows error message

The NPE happens when I click "Add"
I only see this problem under Linux.

One of these two statements should have returned type!=null, I think.

			type =
configuration.getAttribute(ILaunchConfiguration.ATTR_SOURCE_LOCATOR_ID,
(String)null);
			if (type == null) {
				type = configuration.getType().getSourceLocatorId();


Thread [main] (Suspended (breakpoint at line 259 in SourceLookupPanel))
	SourceLookupPanel.initializeFrom(ILaunchConfiguration) line: 259
	SourceLookupTab.initializeFrom(ILaunchConfiguration) line: 79
	LaunchConfigurationTabGroup(AbstractLaunchConfigurationTabGroup).initializeFrom(ILaunchConfiguration)
line: 86
	LaunchConfigurationTabGroupViewer.displayInstanceTabs() line: 543
	LaunchConfigurationTabGroupViewer$5.run() line: 471
	BusyIndicator.showWhile(Display, Runnable) line: 69
	LaunchConfigurationTabGroupViewer.inputChanged(Object) line: 488
	LaunchConfigurationTabGroupViewer.setInput(Object) line: 452
	LaunchConfigurationsDialog.handleLaunchConfigurationSelectionChanged(SelectionChangedEvent)
line: 789
	LaunchConfigurationsDialog$3.selectionChanged(SelectionChangedEvent) line: 601
	StructuredViewer$3.run() line: 763
	InternalPlatform.run(ISafeRunnable) line: 1044
	Platform.run(ISafeRunnable) line: 783
	JFaceUtil$1.run(ISafeRunnable) line: 44
	SafeRunnable.run(ISafeRunnable) line: 148
	TreeViewer(StructuredViewer).firePostSelectionChanged(SelectionChangedEvent)
line: 761
	TreeViewer(StructuredViewer).setSelection(ISelection, boolean) line: 1453
	TreeViewer(Viewer).setSelection(ISelection) line: 379
	LaunchConfigurationsDialog.doInitialTreeSelection() line: 376
	LaunchConfigurationsDialog.initializeContent() line: 317
	LaunchConfigurationsDialog.createContents(Composite) line: 312
	LaunchConfigurationsDialog(Window).create() line: 418
	LaunchConfigurationsDialog(Dialog).create() line: 996
	LaunchConfigurationsDialog.create() line: 1597
	LaunchConfigurationsDialog(Window).open() line: 776
	LaunchConfigurationsDialog.open() line: 439
	DebugUITools$1.run() line: 356
	BusyIndicator.showWhile(Display, Runnable) line: 69
	DebugUITools.openLaunchConfigurationDialogOnGroup(Shell, IStructuredSelection,
String, IStatus) line: 360
	DebugUITools.openLaunchConfigurationDialogOnGroup(Shell, IStructuredSelection,
String) line: 302
	OpenDebugConfigurations(OpenLaunchDialogAction).run() line: 80
	OpenDebugConfigurations(OpenLaunchDialogAction).run(IAction) line: 99
	WWinPluginAction(PluginAction).runWithEvent(Event) line: 246
	WWinPluginAction.runWithEvent(Event) line: 223
	PluginActionContributionItem(ActionContributionItem).handleWidgetSelection(Event,
boolean) line: 538
	ActionContributionItem.access$2(ActionContributionItem, Event, boolean) line: 488
	ActionContributionItem$5.handleEvent(Event) line: 400
	EventTable.sendEvent(Event) line: 66
	MenuItem(Widget).sendEvent(Event) line: 1021
	Display.runDeferredEvents() line: 2867
	Display.readAndDispatch() line: 2572
	Workbench.runEventLoop(Window$IExceptionHandler, Display) line: 1699
	Workbench.runUI() line: 1663
	Workbench.createAndRunWorkbench(Display, WorkbenchAdvisor) line: 367
	PlatformUI.createAndRunWorkbench(Display, WorkbenchAdvisor) line: 143
	IDEApplication.run(Object) line: 103
	PlatformActivator$1.run(Object) line: 226
	EclipseStarter.run(Object) line: 376
	EclipseStarter.run(String[], Runnable) line: 163
	NativeMethodAccessorImpl.invoke0(Method, Object, Object[]) line: not available
[native method]
	NativeMethodAccessorImpl.invoke(Object, Object[]) line: 39
	DelegatingMethodAccessorImpl.invoke(Object, Object[]) line: 25
	Method.invoke(Object, Object[]) line: 324
	Main.invokeFramework(String[], URL[]) line: 334
	Main.basicRun(String[]) line: 278
	Main.run(String[]) line: 973
	Main.main(String[]) line: 948

I've found the culprit.

The problem is that there is a syntax error in plugin.xml.

However, I would have expected syntax errors to be flagged by the Eclipse when I
launch/build my plugin....???

Is there a PR for Eclipse not flagging syntax errors in plugin.xml's?
(In reply to comment #7)
&gt; I've found the culprit.
&gt; The problem is that there is a syntax error in plugin.xml.
&gt; However, I would have expected syntax errors to be flagged by the Eclipse 
when I
&gt; launch/build my plugin....???
&gt; Is there a PR for Eclipse not flagging syntax errors in plugin.xml's?
I don't know, but you can submit one :)
Marking as INVALID - it's definitely not a CDT debugger problem.
&gt;I don't know, but you can submit one :)

Oh joy! My name is on 0.5% of all the PRs reported to Eclipse(518 out of 100k,
147 of which are marked as fixed), so shoot me if I don't pursue everything that
I find or if some of my PR's are a bit thin. :-)

Øyvind</WithOutStack>
  </Bug>
  <Bug>
    <BugId amount="102414" />
    <CreationDate amount="2005-06-30 18:07:00 -0400" />
    <DupId amount="" />
    <classification amount="Eclipse" />
    <Product amount="Platform" />
    <component amount="SWT" />
    <Version amount="3.1" />
    <rep_platform amount="PC" />
    <op_sys amount="Windows 2000" />
    <priority amount="P3" />
    <bug_severity amount="normal" />
    <Summery>Deleting folder causes crash with exit status 128</Summery>
    <Patches amount="0" />
    <Stacktraces amount="0" />
    <SourceCodeRegions amount="0" />
    <Enumerations amount="4">
      <Enumeration lines="6">
        <Lines>
          <Line>1. On any project, open the project properties.</Line>
          <Line>2. Select Java Build Path.</Line>
          <Line>3. Click add external JARs.</Line>
          <Line>4. Click the create a new folder button.</Line>
          <Line>5. Try to delete the new folder.</Line>
          <Line>6. Eclipse crashes with exit status 128</Line>
        </Lines>
      </Enumeration>
      <Enumeration lines="5">
        <Lines>
          <Line>1) Go to Import</Line>
          <Line>2) Choose "File System"</Line>
          <Line>3) Click Browse to choose the "From directory"</Line>
          <Line>4) Right-click "My Documents" (sometimes it takes two simultaneous right-clicks)</Line>
          <Line>5) POW!</Line>
        </Lines>
      </Enumeration>
      <Enumeration lines="2">
        <Lines>
          <Line>- running eclispe 3.0: saw the problem</Line>
          <Line>- running WSAD 5.1: did not see the problem.</Line>
        </Lines>
      </Enumeration>
      <Enumeration lines="3">
        <Lines>
          <Line>- running eclispe 3.0: did not see the problem</Line>
          <Line>- running eclispe 3.1: did not see the problem</Line>
          <Line>I cannot reproduce this problem on win2000.</Line>
        </Lines>
      </Enumeration>
    </Enumerations>
    <bug_status amount="RESOLVED" />
    <resolution amount="WORKSFORME" />
    <WithStack>Trying to delete a folder in the file selection box causes eclipse to crash.

Steps to reproduce:
1. On any project, open the project properties.
2. Select Java Build Path.
3. Click add external JARs.
4. Click the create a new folder button.
5. Try to delete the new folder.
6. Eclipse crashes with exit status 128

Variations of these steps also create the problem (deleting existing folders, etc).
Can you attach the core dump?  This usually appears as an hs_err_pid file for
Sun's VM.
We've had crashes in the file dialog on win2k before IIRC.  I can't find the bug report(s) at the moment, 
however...
I could not find any evidence of a core dump related to this crash. I searched
the entire disk for files including the name hs_err_pid. The crash happens very
quickly and without any disk I/O, so I doubt that a core dump gets generated.
This WORKSFORME on Windows XP.  GG to try 2000.  CAR, the bug appears to be 
happening in the native file dialog when a folder is deleted.  Do you remember 
any problems in this area?  I seem to remember that we found a third party 
Windows program that was causing the crash ...

Tyler, does the problem happen in native applications when you delete a 
folder, say from notepad.exe?
(In reply to comment #4)
&gt; This WORKSFORME on Windows XP.  GG to try 2000.  CAR, the bug appears to be 
&gt; happening in the native file dialog when a folder is deleted.  Do you remember 
&gt; any problems in this area?  I seem to remember that we found a third party 
&gt; Windows program that was causing the crash ...
&gt; 
&gt; Tyler, does the problem happen in native applications when you delete a 
&gt; folder, say from notepad.exe?

The problem does not occur in native applications like notepad. I also tried to
recreate the problem with Eclipse 3.0 and saw the problem behavior there as
well. I then tried a different machine running 2000 and Eclipse 3.0 and the
problem happened again, this time giving an exit code of -1. I will try again
later on an XP machine running 3.0 and 3.1.
I tested this problem on several other machines

Similarly configured Windows 2000 machines
 - running eclispe 3.0: saw the problem
 - running WSAD 5.1: did not see the problem. 

Differently configured XP machine:
 - running eclispe 3.0: did not see the problem
 - running eclispe 3.1: did not see the problem
I cannot reproduce this problem on win2000.

Steve, the external app you referred to in comment 4 is Synergy (see bug 
87798).  Tyler, is this running on the machines that you see the crash on by 
any chance?

I checked, and Synergy is not running on any of the machines.

I also did another test with 3.1 on a machine configured similarly to the
problem machines, but running Windows XP instead of Windows 2000. This machine
did not show the problem. Are there any tests that I can run to give more
detailed information about the crash?
I work at the same company as Tyler and am experiencing the same problem but
through a different variation.  

1) Go to Import
2) Choose "File System"
3) Click Browse to choose the "From directory"
4) Right-click "My Documents" (sometimes it takes two simultaneous right-clicks)
5) POW!

Likely due to some common evil process running.  Possibly Veritas NetBackup
Proffesional?

CAR, please see comment #4.
Steve, please see comment #7.   :)
Sorry, I missed your answer.  I was hoping the crash was fixed.

Tyler, does the problem still happen?
I have since upgraded my machine to XP and am using Eclipse 3.1.2, the problem no longer occurs for me.
Ok, closing for now, reopen if necessary.</WithStack>
    <WithOutStack>Trying to delete a folder in the file selection box causes eclipse to crash.

Steps to reproduce:
1. On any project, open the project properties.
2. Select Java Build Path.
3. Click add external JARs.
4. Click the create a new folder button.
5. Try to delete the new folder.
6. Eclipse crashes with exit status 128

Variations of these steps also create the problem (deleting existing folders, etc).
Can you attach the core dump?  This usually appears as an hs_err_pid file for
Sun's VM.
We've had crashes in the file dialog on win2k before IIRC.  I can't find the bug report(s) at the moment, 
however...
I could not find any evidence of a core dump related to this crash. I searched
the entire disk for files including the name hs_err_pid. The crash happens very
quickly and without any disk I/O, so I doubt that a core dump gets generated.
This WORKSFORME on Windows XP.  GG to try 2000.  CAR, the bug appears to be 
happening in the native file dialog when a folder is deleted.  Do you remember 
any problems in this area?  I seem to remember that we found a third party 
Windows program that was causing the crash ...

Tyler, does the problem happen in native applications when you delete a 
folder, say from notepad.exe?
(In reply to comment #4)
&gt; This WORKSFORME on Windows XP.  GG to try 2000.  CAR, the bug appears to be 
&gt; happening in the native file dialog when a folder is deleted.  Do you remember 
&gt; any problems in this area?  I seem to remember that we found a third party 
&gt; Windows program that was causing the crash ...
&gt; 
&gt; Tyler, does the problem happen in native applications when you delete a 
&gt; folder, say from notepad.exe?

The problem does not occur in native applications like notepad. I also tried to
recreate the problem with Eclipse 3.0 and saw the problem behavior there as
well. I then tried a different machine running 2000 and Eclipse 3.0 and the
problem happened again, this time giving an exit code of -1. I will try again
later on an XP machine running 3.0 and 3.1.
I tested this problem on several other machines

Similarly configured Windows 2000 machines
 - running eclispe 3.0: saw the problem
 - running WSAD 5.1: did not see the problem. 

Differently configured XP machine:
 - running eclispe 3.0: did not see the problem
 - running eclispe 3.1: did not see the problem
I cannot reproduce this problem on win2000.

Steve, the external app you referred to in comment 4 is Synergy (see bug 
87798).  Tyler, is this running on the machines that you see the crash on by 
any chance?

I checked, and Synergy is not running on any of the machines.

I also did another test with 3.1 on a machine configured similarly to the
problem machines, but running Windows XP instead of Windows 2000. This machine
did not show the problem. Are there any tests that I can run to give more
detailed information about the crash?
I work at the same company as Tyler and am experiencing the same problem but
through a different variation.  

1) Go to Import
2) Choose "File System"
3) Click Browse to choose the "From directory"
4) Right-click "My Documents" (sometimes it takes two simultaneous right-clicks)
5) POW!

Likely due to some common evil process running.  Possibly Veritas NetBackup
Proffesional?

CAR, please see comment #4.
Steve, please see comment #7.   :)
Sorry, I missed your answer.  I was hoping the crash was fixed.

Tyler, does the problem still happen?
I have since upgraded my machine to XP and am using Eclipse 3.1.2, the problem no longer occurs for me.
Ok, closing for now, reopen if necessary.</WithOutStack>
  </Bug>
  <Bug>
    <BugId amount="102415" />
    <CreationDate amount="2005-06-30 18:15:00 -0400" />
    <DupId amount="" />
    <classification amount="Eclipse Foundation" />
    <Product amount="z_Archived" />
    <component amount="VE" />
    <Version amount="unspecified" />
    <rep_platform amount="PC" />
    <op_sys amount="Windows XP" />
    <priority amount="P3" />
    <bug_severity amount="normal" />
    <Summery>PDE 3.0.1 target ClassCast exception</Summery>
    <Patches amount="0" />
    <Stacktraces amount="0" />
    <SourceCodeRegions amount="0" />
    <Enumerations amount="0" />
    <bug_status amount="CLOSED" />
    <resolution amount="FIXED" />
    <WithStack>When using a 3.0.1 target (with the SWT container), openning the included file
will cause a class cast exception (control mgr. 3.0)
Created attachment 24245
Java File
Note also, that an open (when a cache is available) will not show the file
correctly; a reload (reverse parsing) will do.
The fix has been released to HEAD.
VE 1.1 is released. Moving to closed.</WithStack>
    <WithOutStack>When using a 3.0.1 target (with the SWT container), openning the included file
will cause a class cast exception (control mgr. 3.0)
Created attachment 24245
Java File
Note also, that an open (when a cache is available) will not show the file
correctly; a reload (reverse parsing) will do.
The fix has been released to HEAD.
VE 1.1 is released. Moving to closed.</WithOutStack>
  </Bug>
  <Bug>
    <BugId amount="102416" />
    <CreationDate amount="2005-06-30 18:16:00 -0400" />
    <DupId amount="99825" />
    <classification amount="Eclipse" />
    <Product amount="JDT" />
    <component amount="Debug" />
    <Version amount="3.1" />
    <rep_platform amount="PC" />
    <op_sys amount="Windows XP" />
    <priority amount="P3" />
    <bug_severity amount="normal" />
    <Summery>Inspecting a variable very slow when Detail Formatters is "As the label for all variables"</Summery>
    <Patches amount="0" />
    <Stacktraces amount="0" />
    <SourceCodeRegions amount="0" />
    <Enumerations amount="0" />
    <bug_status amount="RESOLVED" />
    <resolution amount="DUPLICATE" />
    <WithStack>When debugging, the Inspect option is VERY slow (particularly for collections 
or other complex variable types) when the Detail Formatters preference is set 
to "As the label for all variables."

In my particular setup, I have no Types entered.


*** This bug has been marked as a duplicate of 99825 ***</WithStack>
    <WithOutStack>When debugging, the Inspect option is VERY slow (particularly for collections 
or other complex variable types) when the Detail Formatters preference is set 
to "As the label for all variables."

In my particular setup, I have no Types entered.


*** This bug has been marked as a duplicate of 99825 ***</WithOutStack>
  </Bug>
  <Bug>
    <BugId amount="102417" />
    <CreationDate amount="2005-06-30 18:38:00 -0400" />
    <DupId amount="" />
    <classification amount="BIRT" />
    <Product amount="BIRT" />
    <component amount="Chart" />
    <Version amount="1.0.1" />
    <rep_platform amount="PC" />
    <op_sys amount="Windows XP" />
    <priority amount="P3" />
    <bug_severity amount="normal" />
    <Summery>[Regression]Chart title is set to Chinese, can not be previewed correctly.</Summery>
    <Patches amount="0" />
    <Stacktraces amount="0" />
    <SourceCodeRegions amount="0" />
    <Enumerations amount="2">
      <Enumeration lines="3">
        <Lines>
          <Line>1.Create a chart</Line>
          <Line>2.Input Chinese characters in the chart title</Line>
          <Line>3.preview</Line>
        </Lines>
      </Enumeration>
      <Enumeration lines="5">
        <Lines>
          <Line>- Use a speciialized font that contains chinese characters, like Arial Unicode</Line>
          <Line>MS for instance.</Line>
          <Line>- Start eclipse with the following command line:</Line>
          <Line>-vmargs -Duser.language=zh</Line>
          <Line />
        </Lines>
      </Enumeration>
    </Enumerations>
    <bug_status amount="RESOLVED" />
    <resolution amount="WONTFIX" />
    <WithStack>Chart title is set to Chinese, can not be previewed correctly.

Steps:
1.Create a chart
2.Input Chinese characters in the chart title
3.preview

Actual Result:
Chinese characters can not be previewed

Expected Result
Chinese characters can be previewed.
There are known Swing limitations regarding the rendering of non-latin 
characters with some fonts.

Several solutions are available:

- Use a speciialized font that contains chinese characters, like Arial Unicode 
MS for instance.
- Start eclipse with the following command line:
-vmargs -Duser.language=zh  
   

Cancel</WithStack>
    <WithOutStack>Chart title is set to Chinese, can not be previewed correctly.

Steps:
1.Create a chart
2.Input Chinese characters in the chart title
3.preview

Actual Result:
Chinese characters can not be previewed

Expected Result
Chinese characters can be previewed.
There are known Swing limitations regarding the rendering of non-latin 
characters with some fonts.

Several solutions are available:

- Use a speciialized font that contains chinese characters, like Arial Unicode 
MS for instance.
- Start eclipse with the following command line:
-vmargs -Duser.language=zh  
   

Cancel</WithOutStack>
  </Bug>
  <Bug>
    <BugId amount="102418" />
    <CreationDate amount="2005-06-30 19:01:00 -0400" />
    <DupId amount="" />
    <classification amount="Mylyn" />
    <Product amount="Mylyn" />
    <component amount="UI" />
    <Version amount="0.2" />
    <rep_platform amount="PC" />
    <op_sys amount="Windows XP" />
    <priority amount="P1" />
    <bug_severity amount="normal" />
    <Summery>Java Browsing views don't update properly</Summery>
    <Patches amount="0" />
    <Stacktraces amount="0" />
    <SourceCodeRegions amount="0" />
    <Enumerations amount="0" />
    <bug_status amount="RESOLVED" />
    <resolution amount="FIXED" />
    <WithStack>Java Browsing views don't update properly, they are too lazy
This is related to REMOVE deltas of Java elements.

Java browsing perspective now supported.</WithStack>
    <WithOutStack>Java Browsing views don't update properly, they are too lazy
This is related to REMOVE deltas of Java elements.

Java browsing perspective now supported.</WithOutStack>
  </Bug>
  <Bug>
    <BugId amount="102419" />
    <CreationDate amount="2005-06-30 19:16:00 -0400" />
    <DupId amount="" />
    <classification amount="Eclipse" />
    <Product amount="PDE" />
    <component amount="UI" />
    <Version amount="3.1" />
    <rep_platform amount="All" />
    <op_sys amount="All" />
    <priority amount="P3" />
    <bug_severity amount="minor" />
    <Summery>Variable substitition in Eclipse app launch configuration</Summery>
    <Patches amount="0" />
    <Stacktraces amount="0" />
    <SourceCodeRegions amount="0" />
    <Enumerations amount="0" />
    <bug_status amount="RESOLVED" />
    <resolution amount="FIXED" />
    <WithStack>Currently it is possible to include in a Java Application launch configuration 
an entry for VM arguments like "-Djava.library.path=${env_var:MYAPP_LIBS}".  
This does not work for an Eclipse Application launch configuration.
PDE launchers now support variables.</WithStack>
    <WithOutStack>Currently it is possible to include in a Java Application launch configuration 
an entry for VM arguments like "-Djava.library.path=${env_var:MYAPP_LIBS}".  
This does not work for an Eclipse Application launch configuration.
PDE launchers now support variables.</WithOutStack>
  </Bug>
  <Bug>
    <BugId amount="102420" />
    <CreationDate amount="2005-06-30 19:18:00 -0400" />
    <DupId amount="" />
    <classification amount="Tools" />
    <Product amount="GEF" />
    <component amount="GEF (MVC) [GEF 3.x / Zest 1.x]" />
    <Version amount="3.1" />
    <rep_platform amount="All" />
    <op_sys amount="All" />
    <priority amount="P3" />
    <bug_severity amount="enhancement" />
    <Summery>add the capability to have a single-selection mode.</Summery>
    <Patches amount="0" />
    <Stacktraces amount="0" />
    <SourceCodeRegions amount="0" />
    <Enumerations amount="0" />
    <bug_status amount="RESOLVED" />
    <resolution amount="WONTFIX" />
    <WithStack>By default GEF is a multiple selection framework.

Sometimes it is beneficial to be able to restrict selection to a single item, 
as this can simplify the interaction for the user. Also, in some graphical 
editing scenarios, selecting more than 1 thing does not provide any particular 
value.

Currently the way to enforce single selection is to override the drag tracker 
and also to override the keyhandler. There's probably a much cleaner way to 
incorporate this feature into GEF.
This should now be possible with exchanging the SelectionManager. Resolving as WONTFIX though.</WithStack>
    <WithOutStack>By default GEF is a multiple selection framework.

Sometimes it is beneficial to be able to restrict selection to a single item, 
as this can simplify the interaction for the user. Also, in some graphical 
editing scenarios, selecting more than 1 thing does not provide any particular 
value.

Currently the way to enforce single selection is to override the drag tracker 
and also to override the keyhandler. There's probably a much cleaner way to 
incorporate this feature into GEF.
This should now be possible with exchanging the SelectionManager. Resolving as WONTFIX though.</WithOutStack>
  </Bug>
  <Bug>
    <BugId amount="102421" />
    <CreationDate amount="2005-06-30 19:33:00 -0400" />
    <DupId amount="90100" />
    <classification amount="WebTools" />
    <Product amount="WTP ServerTools" />
    <component amount="jst.server" />
    <Version amount="0.7" />
    <rep_platform amount="PC" />
    <op_sys amount="Windows XP" />
    <priority amount="P3" />
    <bug_severity amount="normal" />
    <Summery>JBoss support....</Summery>
    <Patches amount="0" />
    <Stacktraces amount="0" />
    <SourceCodeRegions amount="0" />
    <Enumerations amount="0" />
    <bug_status amount="CLOSED" />
    <resolution amount="DUPLICATE" />
    <WithStack>Don't support JBoss v4 ? (can only choose a v3)
Bug (forgot) or enhancement (too hardly to do at the same time as the v3)?
will update that in a RC ?
Because i'm waiting for the WebTools a long time ago, and if cannot integrate 
JBoss v4, its ennoying....

Thanks to report me 'bout that....

Sincerly,

Yann Fotnaine
Java Technology Architect


*** This bug has been marked as a duplicate of 90100 ***
Closing old bugs that haven't had any activity in a long time.</WithStack>
    <WithOutStack>Don't support JBoss v4 ? (can only choose a v3)
Bug (forgot) or enhancement (too hardly to do at the same time as the v3)?
will update that in a RC ?
Because i'm waiting for the WebTools a long time ago, and if cannot integrate 
JBoss v4, its ennoying....

Thanks to report me 'bout that....

Sincerly,

Yann Fotnaine
Java Technology Architect


*** This bug has been marked as a duplicate of 90100 ***
Closing old bugs that haven't had any activity in a long time.</WithOutStack>
  </Bug>
  <Bug>
    <BugId amount="102422" />
    <CreationDate amount="2005-06-30 19:35:00 -0400" />
    <DupId amount="" />
    <classification amount="Eclipse" />
    <Product amount="JDT" />
    <component amount="Core" />
    <Version amount="3.1" />
    <rep_platform amount="PC" />
    <op_sys amount="Windows XP" />
    <priority amount="P3" />
    <bug_severity amount="normal" />
    <Summery>Exception referencing class in large jar files</Summery>
    <Patches amount="0" />
    <Stacktraces amount="0" />
    <SourceCodeRegions amount="0" />
    <Enumerations amount="0" />
    <bug_status amount="VERIFIED" />
    <resolution amount="FIXED" />
    <WithStack>(This is in 3.1 RC1.) The build path of a project in my workspace includes a 48
Mb jar with 30,000 files in it scattered among 1000-2000 packages. (The jar file
is proprietary so I can't attach it.) The Java editor frequently indicates that
references to classes in this jar cannot be resolved, even though the classes
are there. The attached stack trace shows what seems to be the root cause of
this behavior. (The JavaModelException is caught and ignored.)
Thread [Text Viewer Hover Presenter] (Suspended (breakpoint at line 468 in
JavaElement))
	JarPackageFragment(JavaElement).newNotPresentException() line: 468
	JarPackageFragment(JavaElement).openWhenClosed(Object, IProgressMonitor) line: 499
	JarPackageFragment(JavaElement).getElementInfo(IProgressMonitor) line: 232
	JarPackageFragment(JavaElement).getElementInfo() line: 218
	JarPackageFragment(JavaElement).getChildren() line: 173
	JarPackageFragment(JavaElement).getChildrenOfType(int) line: 187
	JarPackageFragment.getClassFiles() line: 120
	NameLookup.seekTypesInBinaryPackage(String, IPackageFragment, boolean, int,
IJavaElementRequestor) line: 792
	NameLookup.seekTypes(String, IPackageFragment, boolean, int,
IJavaElementRequestor) line: 769
	NameLookup.findType(String, IPackageFragment, boolean, int) line: 542
	NameLookup.findType(String, String, boolean, int) line: 501
	SearchableEnvironment.find(String, String) line: 85
	SearchableEnvironment.findType(char[], char[][]) line: 188
	LookupEnvironment.askForType(PackageBinding, char[]) line: 119
	PackageBinding.getTypeOrPackage(char[]) line: 178
	ClassScope(Scope).getPackage(char[][]) line: 2211
	QualifiedTypeReference.getTypeBinding(Scope) line: 62
	QualifiedTypeReference(TypeReference).resolveType(ClassScope) line: 141
	QualifiedTypeReference(TypeReference).resolveSuperType(ClassScope) line: 104
	ClassScope.findSupertype(TypeReference) line: 1072
	ClassScope.connectSuperclass() line: 741
	ClassScope.connectTypeHierarchy() line: 878
	CompilationUnitScope.connectTypeHierarchy() line: 274
	LookupEnvironment.completeTypeBindings(CompilationUnitDeclaration, boolean)
line: 250
	SelectionEngine.select(ICompilationUnit, int, int) line: 657
	CompilationUnit(Openable).codeSelect(ICompilationUnit, int, int,
WorkingCopyOwner) line: 165
	CompilationUnit.codeSelect(int, int, WorkingCopyOwner) line: 314
	CompilationUnit.codeSelect(int, int) line: 308
	JavadocHover(AbstractJavaEditorTextHover).getHoverInfo(ITextViewer, IRegion)
line: 110
	BestMatchHover.getHoverInfo(ITextViewer, IRegion) line: 102
	JavaEditorTextHoverProxy.getHoverInfo(ITextViewer, IRegion) line: 69
	TextViewerHoverManager$4.run() line: 160
FWIW, to me this looked like a bug in JavaModelCache and friends: the huge jar
file gets dropped from the cache, and isn't correctly brought back in when needed.
As supporting evidence, I forgot to mention that when I reduced the size of the
jar file from 48 Mb to 36 Mb by removing unneeded stuff, the problem went away.
I've been working on getting to the root of this problem, and have found
something interesting: if the jar is uncompressed, the problem appears to go
away. Carl, could you give this a try?

Also, though we can't attach the proprietary jar directly, we can provide it
directly to a JDT member working on this bug.
Yep, exploding the jar made the problem go away for me.

Created attachment 25542
Ensure that JarPackageFragmentRoot make it into the cache before its contents. 

The problem is believed to reside in the LRU package cache. When a
JarPackageFragment is flushed from the cache before its root
(JarPackageFragmentRoot) is added to the cache, the cache will be left in an
inconsistent state. 

Do not quite understand why the problem does not occur with an uncompressed
jar. Could be related to the hash code though.
Patch is good. Released it in both HEAD and 3.1 maintenance branches.
Thanks a lot for investigating and providing the patch Theodora.

Note it is not possible to write a regression test as the bug is dependent on
the implementation of HashMap.
Verified in I20050920-0010 for 3.2M2.
Verified by looking code.
Verified for 3.1.1 using M20050923-1430.
*** Bug 110840 has been marked as a duplicate of this bug. ***</WithStack>
    <WithOutStack>(This is in 3.1 RC1.) The build path of a project in my workspace includes a 48
Mb jar with 30,000 files in it scattered among 1000-2000 packages. (The jar file
is proprietary so I can't attach it.) The Java editor frequently indicates that
references to classes in this jar cannot be resolved, even though the classes
are there. The attached stack trace shows what seems to be the root cause of
this behavior. (The JavaModelException is caught and ignored.)
Thread [Text Viewer Hover Presenter] (Suspended (breakpoint at line 468 in
JavaElement))
	JarPackageFragment(JavaElement).newNotPresentException() line: 468
	JarPackageFragment(JavaElement).openWhenClosed(Object, IProgressMonitor) line: 499
	JarPackageFragment(JavaElement).getElementInfo(IProgressMonitor) line: 232
	JarPackageFragment(JavaElement).getElementInfo() line: 218
	JarPackageFragment(JavaElement).getChildren() line: 173
	JarPackageFragment(JavaElement).getChildrenOfType(int) line: 187
	JarPackageFragment.getClassFiles() line: 120
	NameLookup.seekTypesInBinaryPackage(String, IPackageFragment, boolean, int,
IJavaElementRequestor) line: 792
	NameLookup.seekTypes(String, IPackageFragment, boolean, int,
IJavaElementRequestor) line: 769
	NameLookup.findType(String, IPackageFragment, boolean, int) line: 542
	NameLookup.findType(String, String, boolean, int) line: 501
	SearchableEnvironment.find(String, String) line: 85
	SearchableEnvironment.findType(char[], char[][]) line: 188
	LookupEnvironment.askForType(PackageBinding, char[]) line: 119
	PackageBinding.getTypeOrPackage(char[]) line: 178
	ClassScope(Scope).getPackage(char[][]) line: 2211
	QualifiedTypeReference.getTypeBinding(Scope) line: 62
	QualifiedTypeReference(TypeReference).resolveType(ClassScope) line: 141
	QualifiedTypeReference(TypeReference).resolveSuperType(ClassScope) line: 104
	ClassScope.findSupertype(TypeReference) line: 1072
	ClassScope.connectSuperclass() line: 741
	ClassScope.connectTypeHierarchy() line: 878
	CompilationUnitScope.connectTypeHierarchy() line: 274
	LookupEnvironment.completeTypeBindings(CompilationUnitDeclaration, boolean)
line: 250
	SelectionEngine.select(ICompilationUnit, int, int) line: 657
	CompilationUnit(Openable).codeSelect(ICompilationUnit, int, int,
WorkingCopyOwner) line: 165
	CompilationUnit.codeSelect(int, int, WorkingCopyOwner) line: 314
	CompilationUnit.codeSelect(int, int) line: 308
	JavadocHover(AbstractJavaEditorTextHover).getHoverInfo(ITextViewer, IRegion)
line: 110
	BestMatchHover.getHoverInfo(ITextViewer, IRegion) line: 102
	JavaEditorTextHoverProxy.getHoverInfo(ITextViewer, IRegion) line: 69
	TextViewerHoverManager$4.run() line: 160
FWIW, to me this looked like a bug in JavaModelCache and friends: the huge jar
file gets dropped from the cache, and isn't correctly brought back in when needed.
As supporting evidence, I forgot to mention that when I reduced the size of the
jar file from 48 Mb to 36 Mb by removing unneeded stuff, the problem went away.
I've been working on getting to the root of this problem, and have found
something interesting: if the jar is uncompressed, the problem appears to go
away. Carl, could you give this a try?

Also, though we can't attach the proprietary jar directly, we can provide it
directly to a JDT member working on this bug.
Yep, exploding the jar made the problem go away for me.

Created attachment 25542
Ensure that JarPackageFragmentRoot make it into the cache before its contents. 

The problem is believed to reside in the LRU package cache. When a
JarPackageFragment is flushed from the cache before its root
(JarPackageFragmentRoot) is added to the cache, the cache will be left in an
inconsistent state. 

Do not quite understand why the problem does not occur with an uncompressed
jar. Could be related to the hash code though.
Patch is good. Released it in both HEAD and 3.1 maintenance branches.
Thanks a lot for investigating and providing the patch Theodora.

Note it is not possible to write a regression test as the bug is dependent on
the implementation of HashMap.
Verified in I20050920-0010 for 3.2M2.
Verified by looking code.
Verified for 3.1.1 using M20050923-1430.
*** Bug 110840 has been marked as a duplicate of this bug. ***</WithOutStack>
  </Bug>
  <Bug>
    <BugId amount="102423" />
    <CreationDate amount="2005-06-30 19:55:00 -0400" />
    <DupId amount="" />
    <classification amount="Eclipse" />
    <Product amount="JDT" />
    <component amount="UI" />
    <Version amount="3.1" />
    <rep_platform amount="PC" />
    <op_sys amount="Windows 2000" />
    <priority amount="P3" />
    <bug_severity amount="normal" />
    <Summery>No option to set package relative path root for a Project</Summery>
    <Patches amount="0" />
    <Stacktraces amount="0" />
    <SourceCodeRegions amount="0" />
    <Enumerations amount="0" />
    <bug_status amount="RESOLVED" />
    <resolution amount="WORKSFORME" />
    <WithStack>There is no option to set package relative path root for a Project.  In the 
build options for the project the relative root point for the compiler to 
ascribe as root for package paths on all source files should not necessarily be 
the same as one directory under the project's location.  Rather that should be 
a default and the package relative root should be selectable/changeable from 
the project's build options.
This is possible. The concept to use are source folders. To create one use
New-&gt;Source folder from the context menu of a project or add a source folder via
the build path properties pane (Project-&gt;Context Menu-&gt;Properties-&gt;Java Build
path-&gt;Source-&gt;Add Folder).</WithStack>
    <WithOutStack>There is no option to set package relative path root for a Project.  In the 
build options for the project the relative root point for the compiler to 
ascribe as root for package paths on all source files should not necessarily be 
the same as one directory under the project's location.  Rather that should be 
a default and the package relative root should be selectable/changeable from 
the project's build options.
This is possible. The concept to use are source folders. To create one use
New-&gt;Source folder from the context menu of a project or add a source folder via
the build path properties pane (Project-&gt;Context Menu-&gt;Properties-&gt;Java Build
path-&gt;Source-&gt;Add Folder).</WithOutStack>
  </Bug>
  <Bug>
    <BugId amount="102424" />
    <CreationDate amount="2005-06-30 20:03:00 -0400" />
    <DupId amount="" />
    <classification amount="Eclipse" />
    <Product amount="Platform" />
    <component amount="IDE" />
    <Version amount="3.1" />
    <rep_platform amount="PC" />
    <op_sys amount="Windows 2000" />
    <priority amount="P5" />
    <bug_severity amount="enhancement" />
    <Summery>[IDE] File "save as" should auto-suggest name and folder based on package name in file</Summery>
    <Patches amount="0" />
    <Stacktraces amount="0" />
    <SourceCodeRegions amount="2">
      <source_code type="package">
        <location start="59" end="71" />
        <code>package a.b;</code>
      </source_code>
      <source_code type="class">
        <location start="73" end="90" />
        <code>class Widget {

}</code>
      </source_code>
    </SourceCodeRegions>
    <Enumerations amount="1">
      <Enumeration lines="3">
        <Lines>
          <Line>- switch to the correct editor</Line>
          <Line>- create the correct project structure and/or build path</Line>
          <Line>...</Line>
        </Lines>
      </Enumeration>
    </Enumerations>
    <bug_status amount="NEW" />
    <resolution amount="" />
    <WithStack>when a new untitled document is opened and the user adds:

package a.b;

class Widget {

}

When the "save as" button is selected,  the code should be automatically 
anlyzed and a pop-up suggesting "save as a/b/Widget.java and add source 
structure to project?" should be displayed.  Upon answering yes, the source 
folder structure a/b should be automatically generated AND added to the project 
and the file should be saved as a/b/Widget.java.   All at the touch of a single 
defualt option.  This is what most top level IDE's have.  This would save the 
developer boatloads of time!
The untitled text document is created by Platform Text and at that level we
don't know anything about Java, C++ or any other project type and its expected
setup or structure for its files.

There would have to be something like a 'saveAsParticipant' extension point
where clients could plug-in code that is run when a file is saved under a
different/new content type, e.g.
- switch to the correct editor
- create the correct project structure and/or build path
...

Note: you could use the New Class wizard to create the class.
I think that at a minimum we should offer to save the file as "Untitled1" or
some name that just allows the user to quickly save it to something.
Well,

Having a java plug-in created by your team and shipped automatically with the Eclipse executable would be very good (as well as other plug-ins for other languages.)   It should simply look at the line "package a.b.c"  and then create the directory structure and then suggest adding the file with the same class name.

There should be a Default plug-in selector on the menu so a user could easily change default plug-ins provided by your team - and added to by the user if desired.  In fact,  a set of plug-ins should be loadable based on the user selcting a radio button: "java", "c++" or etc...  Then a whole set of default plug-ins may be loaded and swapped with others at the touch of a radio button, each mapping to a set of plug-ins where each set are in sub-directories that map to what button is selected.

(In reply to comment #1)
&gt; The untitled text document is created by Platform Text and at that level we
&gt; don't know anything about Java, C++ or any other project type and its expected
&gt; setup or structure for its files.
&gt; There would have to be something like a 'saveAsParticipant' extension point
&gt; where clients could plug-in code that is run when a file is saved under a
&gt; different/new content type, e.g.
&gt; - switch to the correct editor
&gt; - create the correct project structure and/or build path
&gt; ...
&gt; Note: you could use the New Class wizard to create the class.


"As per http://wiki.eclipse.org/Platform_UI/Bug_Triage_Change_2009"</WithStack>
    <WithOutStack>when a new untitled document is opened and the user adds:

package a.b;

class Widget {

}

When the "save as" button is selected,  the code should be automatically 
anlyzed and a pop-up suggesting "save as a/b/Widget.java and add source 
structure to project?" should be displayed.  Upon answering yes, the source 
folder structure a/b should be automatically generated AND added to the project 
and the file should be saved as a/b/Widget.java.   All at the touch of a single 
defualt option.  This is what most top level IDE's have.  This would save the 
developer boatloads of time!
The untitled text document is created by Platform Text and at that level we
don't know anything about Java, C++ or any other project type and its expected
setup or structure for its files.

There would have to be something like a 'saveAsParticipant' extension point
where clients could plug-in code that is run when a file is saved under a
different/new content type, e.g.
- switch to the correct editor
- create the correct project structure and/or build path
...

Note: you could use the New Class wizard to create the class.
I think that at a minimum we should offer to save the file as "Untitled1" or
some name that just allows the user to quickly save it to something.
Well,

Having a java plug-in created by your team and shipped automatically with the Eclipse executable would be very good (as well as other plug-ins for other languages.)   It should simply look at the line "package a.b.c"  and then create the directory structure and then suggest adding the file with the same class name.

There should be a Default plug-in selector on the menu so a user could easily change default plug-ins provided by your team - and added to by the user if desired.  In fact,  a set of plug-ins should be loadable based on the user selcting a radio button: "java", "c++" or etc...  Then a whole set of default plug-ins may be loaded and swapped with others at the touch of a radio button, each mapping to a set of plug-ins where each set are in sub-directories that map to what button is selected.

(In reply to comment #1)
&gt; The untitled text document is created by Platform Text and at that level we
&gt; don't know anything about Java, C++ or any other project type and its expected
&gt; setup or structure for its files.
&gt; There would have to be something like a 'saveAsParticipant' extension point
&gt; where clients could plug-in code that is run when a file is saved under a
&gt; different/new content type, e.g.
&gt; - switch to the correct editor
&gt; - create the correct project structure and/or build path
&gt; ...
&gt; Note: you could use the New Class wizard to create the class.


"As per http://wiki.eclipse.org/Platform_UI/Bug_Triage_Change_2009"</WithOutStack>
  </Bug>
  <Bug>
    <BugId amount="102425" />
    <CreationDate amount="2005-06-30 20:18:00 -0400" />
    <DupId amount="" />
    <classification amount="Tools" />
    <Product amount="TPTP Profiling" />
    <component amount="Platform.Execution" />
    <Version amount="4.0" />
    <rep_platform amount="PC" />
    <op_sys amount="Windows XP" />
    <priority amount="P3" />
    <bug_severity amount="normal" />
    <Summery>Console support in the execution plugin to incorporate DIME protocol</Summery>
    <Patches amount="0" />
    <Stacktraces amount="0" />
    <SourceCodeRegions amount="0" />
    <Enumerations amount="0" />
    <bug_status amount="CLOSED" />
    <resolution amount="FIXED" />
    <WithStack>Console support in the execution plugin to incorporate DIME protocol
Retargeting to 4.1 because only blocker/critical/major or web documentation
updates can be considered for 4.0 this close to GA.
Added console support to Client
As of TPTP 4.6.0, TPTP is in maintenance mode and focusing on improving quality by resolving relevant enhancements/defects and increasing test coverage through test creation, automation, Build Verification Tests (BVTs), and expanded run-time execution. As part of the TPTP Bugzilla housecleaning process (see http://wiki.eclipse.org/Bugzilla_Housecleaning_Processes), this enhancement/defect is verified/closed by the Project Lead since this enhancement/defect has been resolved and unverified for more than 1 year and considered to be fixed. If this enhancement/defect is still unresolved and reproducible in the latest TPTP release (http://www.eclipse.org/tptp/home/downloads/), please re-open.</WithStack>
    <WithOutStack>Console support in the execution plugin to incorporate DIME protocol
Retargeting to 4.1 because only blocker/critical/major or web documentation
updates can be considered for 4.0 this close to GA.
Added console support to Client
As of TPTP 4.6.0, TPTP is in maintenance mode and focusing on improving quality by resolving relevant enhancements/defects and increasing test coverage through test creation, automation, Build Verification Tests (BVTs), and expanded run-time execution. As part of the TPTP Bugzilla housecleaning process (see http://wiki.eclipse.org/Bugzilla_Housecleaning_Processes), this enhancement/defect is verified/closed by the Project Lead since this enhancement/defect has been resolved and unverified for more than 1 year and considered to be fixed. If this enhancement/defect is still unresolved and reproducible in the latest TPTP release (http://www.eclipse.org/tptp/home/downloads/), please re-open.</WithOutStack>
  </Bug>
  <Bug>
    <BugId amount="102426" />
    <CreationDate amount="2005-06-30 20:20:00 -0400" />
    <DupId amount="" />
    <classification amount="Eclipse" />
    <Product amount="PDE" />
    <component amount="UI" />
    <Version amount="3.1" />
    <rep_platform amount="All" />
    <op_sys amount="All" />
    <priority amount="P3" />
    <bug_severity amount="normal" />
    <Summery>"Clear workspace data before launching" is being ignored</Summery>
    <Patches amount="0" />
    <Stacktraces amount="0" />
    <SourceCodeRegions amount="0" />
    <Enumerations amount="0" />
    <bug_status amount="RESOLVED" />
    <resolution amount="FIXED" />
    <WithStack>The "Clear workspace data before launching" settings have no effect when using 
variable substitution in the workspace setting of an Eclipse Application launch 
configuration.  For example, I have my Workspace Data Location set to "@user.
home/.myapp", which otherwise works great for both Windows(in "Documents and 
Settings\user" and Linux(user home).
@user.home does not work.  use ${system_property:user.home}, which is now 
supported in PDE launchers.</WithStack>
    <WithOutStack>The "Clear workspace data before launching" settings have no effect when using 
variable substitution in the workspace setting of an Eclipse Application launch 
configuration.  For example, I have my Workspace Data Location set to "@user.
home/.myapp", which otherwise works great for both Windows(in "Documents and 
Settings\user" and Linux(user home).
@user.home does not work.  use ${system_property:user.home}, which is now 
supported in PDE launchers.</WithOutStack>
  </Bug>
  <Bug>
    <BugId amount="102427" />
    <CreationDate amount="2005-06-30 20:45:00 -0400" />
    <DupId amount="" />
    <classification amount="Eclipse" />
    <Product amount="JDT" />
    <component amount="Debug" />
    <Version amount="3.1" />
    <rep_platform amount="PC" />
    <op_sys amount="Windows XP" />
    <priority amount="P3" />
    <bug_severity amount="normal" />
    <Summery>Cannot inspect/display static import methods</Summery>
    <Patches amount="0" />
    <Stacktraces amount="0" />
    <SourceCodeRegions amount="7">
      <source_code type="class">
        <location start="15" end="77" />
        <code>public class Helper {
    public static int getValue() {...}
}</code>
      </source_code>
      <source_code type="import">
        <location start="82" end="105" />
        <code>import static Helper.*;</code>
      </source_code>
      <source_code type="class">
        <location start="107" end="187" />
        <code>public class Doer {
    public void doit() {
        int i = getValue();
    }
}</code>
      </source_code>
      <source_code type="package">
        <location start="446" end="459" />
        <code>package test;</code>
      </source_code>
      <source_code type="class">
        <location start="460" end="552" />
        <code>public class A {
	public static void main(String[] args) {
		System.out.println(HELLO);
	}
}</code>
      </source_code>
      <source_code type="package">
        <location start="554" end="567" />
        <code>package test;</code>
      </source_code>
      <source_code type="class">
        <location start="568" end="625" />
        <code>public class B {
	protected final static int HELLO = 1;
}</code>
      </source_code>
    </SourceCodeRegions>
    <Enumerations amount="0" />
    <bug_status amount="VERIFIED" />
    <resolution amount="FIXED" />
    <WithStack>Consider:

---
public class Helper {
    public static int getValue() {...}
}
---
import static Helper.*;

public class Doer {
    public void doit() {
        int i = getValue();
    }
}
---

When debugging, if you select 'getValue()' in the method 'doit' and execute
display (or inspect) you get an error indicating that the method 'getValue()' is
not undefined for type Doer.
I've found that this also applies for constant fields. Test case:

package test;
public class A {
	public static void main(String[] args) {
		System.out.println(HELLO);
	}
}

package test;
public class B {
	protected final static int HELLO = 1;
}

Suspending on the line in main() and doing an inspect on HELLO fails. Comment
out the static import, add "B." in front of HELLO, and it works.

Sorry, I should add this is 3.1 RC4, haven't had chance to test on release yet.

eclipse.buildId=I20050624-1300
java.version=1.5.0_04
java.vendor=Sun Microsystems Inc.
BootLoader constants: OS=linux, ARCH=x86, WS=gtk, NL=en_GB
Command-line arguments:  -os linux -ws gtk -arch x86

Fix released to HEAD. Changes to SourceBasedSourceGenerator.
Released fix to 3.1 maintenance stream as well.
Please verify, Luc.
Verified.</WithStack>
    <WithOutStack>Consider:

---
public class Helper {
    public static int getValue() {...}
}
---
import static Helper.*;

public class Doer {
    public void doit() {
        int i = getValue();
    }
}
---

When debugging, if you select 'getValue()' in the method 'doit' and execute
display (or inspect) you get an error indicating that the method 'getValue()' is
not undefined for type Doer.
I've found that this also applies for constant fields. Test case:

package test;
public class A {
	public static void main(String[] args) {
		System.out.println(HELLO);
	}
}

package test;
public class B {
	protected final static int HELLO = 1;
}

Suspending on the line in main() and doing an inspect on HELLO fails. Comment
out the static import, add "B." in front of HELLO, and it works.

Sorry, I should add this is 3.1 RC4, haven't had chance to test on release yet.

eclipse.buildId=I20050624-1300
java.version=1.5.0_04
java.vendor=Sun Microsystems Inc.
BootLoader constants: OS=linux, ARCH=x86, WS=gtk, NL=en_GB
Command-line arguments:  -os linux -ws gtk -arch x86

Fix released to HEAD. Changes to SourceBasedSourceGenerator.
Released fix to 3.1 maintenance stream as well.
Please verify, Luc.
Verified.</WithOutStack>
  </Bug>
  <Bug>
    <BugId amount="102428" />
    <CreationDate amount="2005-06-30 21:02:00 -0400" />
    <DupId amount="" />
    <classification amount="Tools" />
    <Product amount="CDT" />
    <component amount="cdt-core" />
    <Version amount="3.0" />
    <rep_platform amount="Macintosh" />
    <op_sys amount="All" />
    <priority amount="P3" />
    <bug_severity amount="normal" />
    <Summery>NPE in CDocHover</Summery>
    <Patches amount="0" />
    <Stacktraces amount="0" />
    <SourceCodeRegions amount="0" />
    <Enumerations amount="0" />
    <bug_status amount="RESOLVED" />
    <resolution amount="WORKSFORME" />
    <WithStack>I spotted this one when I had NPE java breakpoints turned on.  Nothing is show up in the error log.

It happened right after I started up CDT.  No editors were open.

TextViewerHoverManager$4.run() line: 160
CEditorTextHoverProxy.getHoverInfo(ITextViewer, IRegion) line: 64
BestMatchHover.getHoverInfo(ITextViewer, IRegion) line: 100
CDocHover.getHoverInfo(ITextViewer, IRegion) line: 46
Thread [Text Viewer Hover Presenter] (Suspended (exception NullPointerException))
	CDocHover.getHoverInfo(ITextViewer, IRegion) line: 46
	BestMatchHover.getHoverInfo(ITextViewer, IRegion) line: 100
	CEditorTextHoverProxy.getHoverInfo(ITextViewer, IRegion) line: 64
	TextViewerHoverManager$4.run() line: 160

It appears that viewer.getDocument() is unexpectedly returning null.  There is a check right above that 
line of code:
		if (getEditor() == null) 
			return null;

Even though I have no editors open it would appear that getEditor() != null.

Unfortunately I don't have a reproducible case.
I was unable to reproduce, and even closer edit of the code
did not reveal a possible case of NPE.

Would like to flip this to worksforme until a reproduceable case
objections ?
I haven't been able to reproduce this one either.  I think the NPE was happening deeper in the TextViewer 
code somewhere but I wasn't able to step through the code.  Go ahead and flip it to WORKSFORME.
(In reply to comment #2)
&gt; I haven't been able to reproduce this one either.  I think the NPE was
happening deeper in the TextViewer 
&gt; code somewhere but I wasn't able to step through the code.  Go ahead and flip
it to WORKSFORME.

Cool Thanks</WithStack>
    <WithOutStack>I spotted this one when I had NPE java breakpoints turned on.  Nothing is show up in the error log.

It happened right after I started up CDT.  No editors were open.

TextViewerHoverManager$4.run() line: 160
CEditorTextHoverProxy.getHoverInfo(ITextViewer, IRegion) line: 64
BestMatchHover.getHoverInfo(ITextViewer, IRegion) line: 100
CDocHover.getHoverInfo(ITextViewer, IRegion) line: 46
Thread [Text Viewer Hover Presenter] (Suspended (exception NullPointerException))
	CDocHover.getHoverInfo(ITextViewer, IRegion) line: 46
	BestMatchHover.getHoverInfo(ITextViewer, IRegion) line: 100
	CEditorTextHoverProxy.getHoverInfo(ITextViewer, IRegion) line: 64
	TextViewerHoverManager$4.run() line: 160

It appears that viewer.getDocument() is unexpectedly returning null.  There is a check right above that 
line of code:
		if (getEditor() == null) 
			return null;

Even though I have no editors open it would appear that getEditor() != null.

Unfortunately I don't have a reproducible case.
I was unable to reproduce, and even closer edit of the code
did not reveal a possible case of NPE.

Would like to flip this to worksforme until a reproduceable case
objections ?
I haven't been able to reproduce this one either.  I think the NPE was happening deeper in the TextViewer 
code somewhere but I wasn't able to step through the code.  Go ahead and flip it to WORKSFORME.
(In reply to comment #2)
&gt; I haven't been able to reproduce this one either.  I think the NPE was
happening deeper in the TextViewer 
&gt; code somewhere but I wasn't able to step through the code.  Go ahead and flip
it to WORKSFORME.

Cool Thanks</WithOutStack>
  </Bug>
  <Bug>
    <BugId amount="102429" />
    <CreationDate amount="2005-06-30 21:22:00 -0400" />
    <DupId amount="" />
    <classification amount="Tools" />
    <Product amount="CDT" />
    <component amount="cdt-core" />
    <Version amount="3.0" />
    <rep_platform amount="Macintosh" />
    <op_sys amount="All" />
    <priority amount="P3" />
    <bug_severity amount="normal" />
    <Summery>Please change Open Declaration / Open Definition key bindings</Summery>
    <Patches amount="0" />
    <Stacktraces amount="0" />
    <SourceCodeRegions amount="0" />
    <Enumerations amount="0" />
    <bug_status amount="RESOLVED" />
    <resolution amount="FIXED" />
    <WithStack>In the JDT editor, the F2 key is bound to "show tooltip description".  This brings up a little pop up 
tooltip window which contains the javadoc description for the selected element.  Shift-F2 brings up the 
external javadoc.  In the JDT Package Explorer view, F2 is mapped to "Rename".  Note, this is also the 
same in the C/C++ projects view.

Assuming CDT will eventually have better support for documentation/help (via CppDoc/Doxygen etc), I 
think F2 and shift-F2 should be reserved for this purpose.  Otherwise I will be fighting muscle memory 
every time I need to look something up... ;)

My suggestion is to use F3 and Ctrl+F3.  This would also be more analogous to what the JDT currently 
does (Open Declaration / Open Structure).
I knew we'd run into trouble with F2. I'm not sure Open Definition is analogous
to Open Structure, though. Actually there isn't anything analogous since all
decls in Java are also defs (except maybe import statements).

Having said that, I don't mind Ctrl-F3 if it's open for us to use.
Created attachment 24320
fix for this PR

Ctrl+F3 is open for use in CDT
Patch applied.  Thanks Devin!
Thomas, you may have to update New &amp; Noteworthy.</WithStack>
    <WithOutStack>In the JDT editor, the F2 key is bound to "show tooltip description".  This brings up a little pop up 
tooltip window which contains the javadoc description for the selected element.  Shift-F2 brings up the 
external javadoc.  In the JDT Package Explorer view, F2 is mapped to "Rename".  Note, this is also the 
same in the C/C++ projects view.

Assuming CDT will eventually have better support for documentation/help (via CppDoc/Doxygen etc), I 
think F2 and shift-F2 should be reserved for this purpose.  Otherwise I will be fighting muscle memory 
every time I need to look something up... ;)

My suggestion is to use F3 and Ctrl+F3.  This would also be more analogous to what the JDT currently 
does (Open Declaration / Open Structure).
I knew we'd run into trouble with F2. I'm not sure Open Definition is analogous
to Open Structure, though. Actually there isn't anything analogous since all
decls in Java are also defs (except maybe import statements).

Having said that, I don't mind Ctrl-F3 if it's open for us to use.
Created attachment 24320
fix for this PR

Ctrl+F3 is open for use in CDT
Patch applied.  Thanks Devin!
Thomas, you may have to update New &amp; Noteworthy.</WithOutStack>
  </Bug>
  <Bug>
    <BugId amount="102430" />
    <CreationDate amount="2005-06-30 21:31:00 -0400" />
    <DupId amount="" />
    <classification amount="WebTools" />
    <Product amount="WTP Source Editing" />
    <component amount="wst.xsd" />
    <Version amount="0.7" />
    <rep_platform amount="PC" />
    <op_sys amount="Windows XP" />
    <priority amount="P3" />
    <bug_severity amount="normal" />
    <Summery>XSD validation : Problems when validating the 'xml:lang' potions of the j2ee schema</Summery>
    <Patches amount="0" />
    <Stacktraces amount="0" />
    <SourceCodeRegions amount="0" />
    <Enumerations amount="0" />
    <bug_status amount="CLOSED" />
    <resolution amount="WORKSFORME" />
    <WithStack>I'm trying to validate the j2ee_1_4.xsd schema (as found here :
http://java.sun.com/xml/ns/j2ee/#resources).  I noticed validation errors where
attribute references are made to the xml:lang component (defined in the
'http://www.w3.org/XML/1998/namespace' schema).  I'm assuming these schemas
should validate correctly.

    &lt;xsd:simpleContent&gt;
      &lt;xsd:extension base="j2ee:string"&gt;
    	&lt;xsd:attribute ref="xml:lang"/&gt;  &lt;!-- here's the problematic att ref--&gt;
      &lt;/xsd:extension&gt;
    &lt;/xsd:simpleContent&gt;
Craig, while it's very likely this was a problem on WTP 0.7, I'm unable to reproduce on S-1.5RC2-200605010522. 

Please reopen if you can reproduce this problem on a current WTP driver.
This is part of a mass update to close out all stale WTP bugs which are in the resolved state without an appropriate targeted version.  If you feel this bug was closed inappropriately, please reopen.</WithStack>
    <WithOutStack>I'm trying to validate the j2ee_1_4.xsd schema (as found here :
http://java.sun.com/xml/ns/j2ee/#resources).  I noticed validation errors where
attribute references are made to the xml:lang component (defined in the
'http://www.w3.org/XML/1998/namespace' schema).  I'm assuming these schemas
should validate correctly.

    &lt;xsd:simpleContent&gt;
      &lt;xsd:extension base="j2ee:string"&gt;
    	&lt;xsd:attribute ref="xml:lang"/&gt;  &lt;!-- here's the problematic att ref--&gt;
      &lt;/xsd:extension&gt;
    &lt;/xsd:simpleContent&gt;
Craig, while it's very likely this was a problem on WTP 0.7, I'm unable to reproduce on S-1.5RC2-200605010522. 

Please reopen if you can reproduce this problem on a current WTP driver.
This is part of a mass update to close out all stale WTP bugs which are in the resolved state without an appropriate targeted version.  If you feel this bug was closed inappropriately, please reopen.</WithOutStack>
  </Bug>
  <Bug>
    <BugId amount="102431" />
    <CreationDate amount="2005-06-30 21:40:00 -0400" />
    <DupId amount="" />
    <classification amount="BIRT" />
    <Product amount="BIRT" />
    <component amount="Report Designer" />
    <Version amount="1.0.1" />
    <rep_platform amount="PC" />
    <op_sys amount="Windows XP" />
    <priority amount="P3" />
    <bug_severity amount="enhancement" />
    <Summery>"OK" should be enabled after edit the paremeter</Summery>
    <Patches amount="0" />
    <Stacktraces amount="0" />
    <SourceCodeRegions amount="0" />
    <Enumerations amount="1">
      <Enumeration lines="2">
        <Lines>
          <Line>1.Edit the attached report parameter</Line>
          <Line>2.Uncheck "Sort alphabetically"</Line>
        </Lines>
      </Enumeration>
    </Enumerations>
    <bug_status amount="CLOSED" />
    <resolution amount="FIXED" />
    <WithStack>descrption:
"OK" should be enabled after edit the paremeter

steps to reproduce:
1.Edit the attached report parameter
2.Uncheck "Sort alphabetically"

actual result:
"OK" button is disabeld 

expected result:
"OK" should be enabled after edit the paremeter
Created attachment 24248
report

report
It's not a bug. When the parameter control type is selected to Combo or Radio,
a default value must be set, or OK button will not be enabled.
Lower the severity to enhanacement.
Reopen the bug because after edit the prarameter without set default value, OK 
button is still disabled.
This is not user friendly.
Suggest some message should show to warn user to choose a default value

*** Bug 103132 has been marked as a duplicate of this bug. ***
Add warning message on parameter dialog to ask you input default value.s
verified in build 20051018</WithStack>
    <WithOutStack>descrption:
"OK" should be enabled after edit the paremeter

steps to reproduce:
1.Edit the attached report parameter
2.Uncheck "Sort alphabetically"

actual result:
"OK" button is disabeld 

expected result:
"OK" should be enabled after edit the paremeter
Created attachment 24248
report

report
It's not a bug. When the parameter control type is selected to Combo or Radio,
a default value must be set, or OK button will not be enabled.
Lower the severity to enhanacement.
Reopen the bug because after edit the prarameter without set default value, OK 
button is still disabled.
This is not user friendly.
Suggest some message should show to warn user to choose a default value

*** Bug 103132 has been marked as a duplicate of this bug. ***
Add warning message on parameter dialog to ask you input default value.s
verified in build 20051018</WithOutStack>
  </Bug>
  <Bug>
    <BugId amount="102432" />
    <CreationDate amount="2005-06-30 22:06:00 -0400" />
    <DupId amount="" />
    <classification amount="BIRT" />
    <Product amount="BIRT" />
    <component amount="Report Viewer" />
    <Version amount="unspecified" />
    <rep_platform amount="PC" />
    <op_sys amount="Windows XP" />
    <priority amount="P3" />
    <bug_severity amount="normal" />
    <Summery>Design file is not found when run report named "&amp;lt;".</Summery>
    <Patches amount="0" />
    <Stacktraces amount="0" />
    <SourceCodeRegions amount="0" />
    <Enumerations amount="1">
      <Enumeration lines="2">
        <Lines>
          <Line>1.Create a design file named "&amp;lt;".</Line>
          <Line>2.Preview in html and click on "run report" in web viewer.</Line>
        </Lines>
      </Enumeration>
    </Enumerations>
    <bug_status amount="CLOSED" />
    <resolution amount="FIXED" />
    <WithStack>Description: Error message pops up "Design file '&lt;' is not found" when run a 
report named "&amp;lt;".

Steps to reproduce:
1.Create a design file named "&amp;lt;".
2.Preview in html and click on "run report" in web viewer.

Expected result: Correct report is generated.
Actual result: Error message pops up say "Design file '&lt;' is not found".
encoding issue.
Verified in version 20050705.</WithStack>
    <WithOutStack>Description: Error message pops up "Design file '&lt;' is not found" when run a 
report named "&amp;lt;".

Steps to reproduce:
1.Create a design file named "&amp;lt;".
2.Preview in html and click on "run report" in web viewer.

Expected result: Correct report is generated.
Actual result: Error message pops up say "Design file '&lt;' is not found".
encoding issue.
Verified in version 20050705.</WithOutStack>
  </Bug>
  <Bug>
    <BugId amount="102433" />
    <CreationDate amount="2005-06-30 22:14:00 -0400" />
    <DupId amount="" />
    <classification amount="BIRT" />
    <Product amount="BIRT" />
    <component amount="Report Viewer" />
    <Version amount="unspecified" />
    <rep_platform amount="PC" />
    <op_sys amount="Windows XP" />
    <priority amount="P3" />
    <bug_severity amount="normal" />
    <Summery>Hyperlink content which is edited through file editor and expression builder can't be saved.</Summery>
    <Patches amount="0" />
    <Stacktraces amount="0" />
    <SourceCodeRegions amount="0" />
    <Enumerations amount="1">
      <Enumeration lines="5">
        <Lines>
          <Line>1. Select a label in layout view.</Line>
          <Line>2. Edit hyperlink in property editor.</Line>
          <Line>3. Click on button to pop up image editor or expression editor.</Line>
          <Line>4. Enter related file name or expression value.</Line>
          <Line>5. Click "Preview" tab.</Line>
        </Lines>
      </Enumeration>
    </Enumerations>
    <bug_status amount="CLOSED" />
    <resolution amount="FIXED" />
    <WithStack>Description: Hyperlink content which is edited through image editor and 
expression builder can't be saved.

Steps to reproduce:
1. Select a label in layout view.
2. Edit hyperlink in property editor.
3. Click on button to pop up image editor or expression editor.
4. Enter related file name or expression value.
5. Click "Preview" tab.

Actual result: Hyperlink doesn't take effect.
Now, the url for hyperlink will be saved automatically after edited.
Verified in version 20050705.</WithStack>
    <WithOutStack>Description: Hyperlink content which is edited through image editor and 
expression builder can't be saved.

Steps to reproduce:
1. Select a label in layout view.
2. Edit hyperlink in property editor.
3. Click on button to pop up image editor or expression editor.
4. Enter related file name or expression value.
5. Click "Preview" tab.

Actual result: Hyperlink doesn't take effect.
Now, the url for hyperlink will be saved automatically after edited.
Verified in version 20050705.</WithOutStack>
  </Bug>
  <Bug>
    <BugId amount="102434" />
    <CreationDate amount="2005-06-30 22:15:00 -0400" />
    <DupId amount="" />
    <classification amount="Tools" />
    <Product amount="CDT" />
    <component amount="cdt-core" />
    <Version amount="3.0" />
    <rep_platform amount="PC" />
    <op_sys amount="Linux" />
    <priority amount="P3" />
    <bug_severity amount="normal" />
    <Summery>Trying to create ELF archive for non-archive binary files causes problems (patch included)</Summery>
    <Patches amount="0" />
    <Stacktraces amount="0" />
    <SourceCodeRegions amount="0" />
    <Enumerations amount="1">
      <Enumeration lines="2">
        <Lines>
          <Line>1) public IBinaryFile getBinary(IPath path) throws IOException</Line>
          <Line>2) public IBinaryFile getBinary(byte[] hints, IPath path) throws IOException</Line>
        </Lines>
      </Enumeration>
    </Enumerations>
    <bug_status amount="RESOLVED" />
    <resolution amount="FIXED" />
    <WithStack>When CModelManager sees a binary file it can't identify, it calls
IBinaryParser.getBinary for each binary parser available. ElfParser sees that
it's not an ELF file and calls createBinaryArchive on it, which eventually
constructs an AR object to see if the file exists. The AR object examines the
file by opening it and calling readLine(); if it's not a real ar file, then it
throws an exception which is caught by CModelManager. Unfortunately if you have
a very large non-ELF binary file in your project directories which happens to
not contain newlines, this causes massive memory allocation and I/O when we only
really needed to look at the first few bytes.

I have a patch that fixes this problem. It makes CModelManager call
parser.isBinary before we actually do a getBinary. To get that to work
correctly, I had to fix an issue in the code that reads the file header hints;
we must ensure that the number of bytes returned in the hints array is no less
than the number of bytes available in the file. Currently it just calls
readBytes once, which may return less 'hints' bytes even if there is more data
available in the file. The patch also removes isBinary calls that are now redundant.
Created attachment 24249
fix

patch as described
This would be a good fix for 3.0.  
patch applied
Unfortunately this patch totally breaks the MachO parser.  I don't get any binaries showing up at all.

If I revert CModelManager back to revision 1.95 it starts working again.

Created attachment 24453
fix to detect the mach-o header correctly

This should fix the problem.  I don't know how this could have ever worked -
must be exercising this code path for the first time. :)
Created attachment 24484
patch to ensure the inputstream gets closed

make sure the inputstream gets closed if an exception is thrown
Patches are in,
Please verify.
Part 2 of the same problem is as follows:

The ElfParser has two methods to create an IBinaryFile. 
1) public IBinaryFile getBinary(IPath path) throws IOException
2) public IBinaryFile getBinary(byte[] hints, IPath path) throws IOException

The second method is called from CModelManager. This flow checks that the file is indeed a binary or archive by reading the hint bytes.

However, the flow which calls the method 1 does not read hint bytes from the candidate file. Hence, the problem which is already solved for the flow in the method 2 again occurs for method 1. 

To fix this, I have contributed a patch which reads hint bytes from the candidate file in the constructor of AR. 
The number of bytes read is not the same as the hint number indicated by the ElfParser (i.e. 128 bytes) but just enough to cover the AR magic string "!&lt;arch&gt;" (i.e. 7 bytes).

-------------------

Also, the patch fixes the method:
private String removeBlanks(String str)
from class ARHeader.

The problem encountered here was unsafe decoding of int. removeblanks(...) was only removing trailing spaces. The method now uses trim() which does a better job.
Created attachment 88376
Read magic bytes from the candidate archive file in constructor of AR
(In reply to comment #9)
&gt; Created an attachment (id=88376) [details]
&gt; Read magic bytes from the candidate archive file in constructor of AR

Thanks for the patch. I have fixed the issue re-using parts of your patch together with some performance improvements. Please verify.</WithStack>
    <WithOutStack>When CModelManager sees a binary file it can't identify, it calls
IBinaryParser.getBinary for each binary parser available. ElfParser sees that
it's not an ELF file and calls createBinaryArchive on it, which eventually
constructs an AR object to see if the file exists. The AR object examines the
file by opening it and calling readLine(); if it's not a real ar file, then it
throws an exception which is caught by CModelManager. Unfortunately if you have
a very large non-ELF binary file in your project directories which happens to
not contain newlines, this causes massive memory allocation and I/O when we only
really needed to look at the first few bytes.

I have a patch that fixes this problem. It makes CModelManager call
parser.isBinary before we actually do a getBinary. To get that to work
correctly, I had to fix an issue in the code that reads the file header hints;
we must ensure that the number of bytes returned in the hints array is no less
than the number of bytes available in the file. Currently it just calls
readBytes once, which may return less 'hints' bytes even if there is more data
available in the file. The patch also removes isBinary calls that are now redundant.
Created attachment 24249
fix

patch as described
This would be a good fix for 3.0.  
patch applied
Unfortunately this patch totally breaks the MachO parser.  I don't get any binaries showing up at all.

If I revert CModelManager back to revision 1.95 it starts working again.

Created attachment 24453
fix to detect the mach-o header correctly

This should fix the problem.  I don't know how this could have ever worked -
must be exercising this code path for the first time. :)
Created attachment 24484
patch to ensure the inputstream gets closed

make sure the inputstream gets closed if an exception is thrown
Patches are in,
Please verify.
Part 2 of the same problem is as follows:

The ElfParser has two methods to create an IBinaryFile. 
1) public IBinaryFile getBinary(IPath path) throws IOException
2) public IBinaryFile getBinary(byte[] hints, IPath path) throws IOException

The second method is called from CModelManager. This flow checks that the file is indeed a binary or archive by reading the hint bytes.

However, the flow which calls the method 1 does not read hint bytes from the candidate file. Hence, the problem which is already solved for the flow in the method 2 again occurs for method 1. 

To fix this, I have contributed a patch which reads hint bytes from the candidate file in the constructor of AR. 
The number of bytes read is not the same as the hint number indicated by the ElfParser (i.e. 128 bytes) but just enough to cover the AR magic string "!&lt;arch&gt;" (i.e. 7 bytes).

-------------------

Also, the patch fixes the method:
private String removeBlanks(String str)
from class ARHeader.

The problem encountered here was unsafe decoding of int. removeblanks(...) was only removing trailing spaces. The method now uses trim() which does a better job.
Created attachment 88376
Read magic bytes from the candidate archive file in constructor of AR
(In reply to comment #9)
&gt; Created an attachment (id=88376) [details]
&gt; Read magic bytes from the candidate archive file in constructor of AR

Thanks for the patch. I have fixed the issue re-using parts of your patch together with some performance improvements. Please verify.</WithOutStack>
  </Bug>
  <Bug>
    <BugId amount="102435" />
    <CreationDate amount="2005-06-30 22:16:00 -0400" />
    <DupId amount="" />
    <classification amount="BIRT" />
    <Product amount="BIRT" />
    <component amount="Data" />
    <Version amount="1.0.1" />
    <rep_platform amount="PC" />
    <op_sys amount="Windows XP" />
    <priority amount="P3" />
    <bug_severity amount="normal" />
    <Summery>Smoke:Sample DataBase doesn't work</Summery>
    <Patches amount="0" />
    <Stacktraces amount="1">
      <Stacktrace timestamp="1437330551732">
        <Exception>java.lang.IllegalArgumentException</Exception>
        <Reason />
        <Frames>
          <Frame depth="0">org.eclipse.birt.data.engine.odaconsumer.manager.OdaQuery.doPrepare(OdaQuery.java:146)</Frame>
          <Frame depth="1">org.eclipse.birt.data.engine.odaconsumer.manager.OdaQuery.prepare(OdaQuery.java:112)</Frame>
          <Frame depth="2">org.eclipse.birt.data.engine.odaconsumer.Connection.prepareOdaQuery(Connection.java:218)</Frame>
          <Frame depth="3">org.eclipse.birt.data.engine.odaconsumer.Connection.prepareStatement(Connection.java:155)</Frame>
          <Frame depth="4">org.eclipse.birt.data.engine.executor.DataSource.prepareStatement(DataSource.java:187)</Frame>
          <Frame depth="5">org.eclipse.birt.data.engine.executor.DataSourceQuery.prepare(DataSourceQuery.java:290)</Frame>
          <Frame depth="6">org.eclipse.birt.data.engine.impl.PreparedExtendedDSQuery$ExtendedDSQueryExecutor.prepareOdiQuery(PreparedExtendedDSQuery.java:243)</Frame>
          <Frame depth="7">org.eclipse.birt.data.engine.impl.PreparedQuery$Executor.prepareExecution(PreparedQuery.java:465)</Frame>
          <Frame depth="8">org.eclipse.birt.data.engine.impl.PreparedQuery$Executor.access$000(PreparedQuery.java:379)</Frame>
          <Frame depth="9">org.eclipse.birt.data.engine.impl.PreparedQuery.doPrepare(PreparedQuery.java:171)</Frame>
          <Frame depth="10">org.eclipse.birt.data.engine.impl.PreparedDataSourceQuery.execute(PreparedDataSourceQuery.java:137)</Frame>
          <Frame depth="11">org.eclipse.birt.report.designer.internal.ui.util.DataSetManager.execute(DataSetManager.java:230)</Frame>
          <Frame depth="12">org.eclipse.birt.report.designer.internal.ui.util.DataSetManager.execute(DataSetManager.java:214)</Frame>
          <Frame depth="13">org.eclipse.birt.report.designer.internal.ui.dialogs.ResultSetPreviewPage.updateResults(ResultSetPreviewPage.java:89)</Frame>
          <Frame depth="14">org.eclipse.birt.report.designer.internal.ui.dialogs.ResultSetPreviewPage$1.run(ResultSetPreviewPage.java:259)</Frame>
          <Frame depth="15">org.eclipse.swt.widgets.RunnableLock.run(RunnableLock.java:35)</Frame>
          <Frame depth="16">org.eclipse.swt.widgets.Synchronizer.runAsyncMessages(Synchronizer.java:106)</Frame>
          <Frame depth="17">org.eclipse.swt.widgets.Display.runAsyncMessages(Display.java:2749)</Frame>
          <Frame depth="18">org.eclipse.swt.widgets.Display.readAndDispatch(Display.java:2434)</Frame>
          <Frame depth="19">org.eclipse.jface.window.Window.runEventLoop(Window.java:668)</Frame>
          <Frame depth="20">org.eclipse.jface.window.Window.open(Window.java:648)</Frame>
          <Frame depth="21">org.eclipse.birt.report.designer.internal.ui.dialogs.BaseDialog.open(BaseDialog.java:138)</Frame>
          <Frame depth="22">org.eclipse.birt.report.designer.internal.ui.views.data.providers.DataSetNodeProvider.performEdit(DataSetNodeProvider.java:123)</Frame>
          <Frame depth="23">org.eclipse.birt.report.designer.internal.ui.views.DefaultNodeProvider.performRequest(DefaultNodeProvider.java:302)</Frame>
          <Frame depth="24">org.eclipse.birt.report.designer.internal.ui.views.actions.EditAction.doAction(EditAction.java:70)</Frame>
          <Frame depth="25">org.eclipse.birt.report.designer.internal.ui.views.actions.AbstractElementAction.run(AbstractElementAction.java:52)</Frame>
          <Frame depth="26">org.eclipse.birt.report.designer.internal.ui.views.RenameListener.doubleClick(RenameListener.java:211)</Frame>
          <Frame depth="27">org.eclipse.jface.viewers.StructuredViewer$1.run(StructuredViewer.java:409)</Frame>
          <Frame depth="28">org.eclipse.core.internal.runtime.InternalPlatform.run(InternalPlatform.java:616)</Frame>
          <Frame depth="29">org.eclipse.core.runtime.Platform.run(Platform.java:747)</Frame>
          <Frame depth="30">org.eclipse.jface.viewers.StructuredViewer.fireDoubleClick(StructuredViewer.java:407)</Frame>
          <Frame depth="31">org.eclipse.jface.viewers.StructuredViewer.handleDoubleSelect(StructuredViewer.java:618)</Frame>
          <Frame depth="32">org.eclipse.jface.viewers.StructuredViewer$4.widgetDefaultSelected(StructuredViewer.java:721)</Frame>
          <Frame depth="33">org.eclipse.jface.util.OpenStrategy.fireDefaultSelectionEvent(OpenStrategy.java:189)</Frame>
          <Frame depth="34">org.eclipse.jface.util.OpenStrategy.access$0(OpenStrategy.java:186)</Frame>
          <Frame depth="35">org.eclipse.jface.util.OpenStrategy$1.handleEvent(OpenStrategy.java:236)</Frame>
          <Frame depth="36">org.eclipse.swt.widgets.EventTable.sendEvent(EventTable.java:82)</Frame>
          <Frame depth="37">org.eclipse.swt.widgets.Widget.sendEvent(Widget.java:796)</Frame>
          <Frame depth="38">org.eclipse.swt.widgets.Display.runDeferredEvents(Display.java:2772)</Frame>
          <Frame depth="39">org.eclipse.swt.widgets.Display.readAndDispatch(Display.java:2431)</Frame>
          <Frame depth="40">org.eclipse.ui.internal.Workbench.runEventLoop(Workbench.java:1377)</Frame>
          <Frame depth="41">org.eclipse.ui.internal.Workbench.runUI(Workbench.java:1348)</Frame>
          <Frame depth="42">org.eclipse.ui.internal.Workbench.createAndRunWorkbench(Workbench.java:254)</Frame>
          <Frame depth="43">org.eclipse.ui.PlatformUI.createAndRunWorkbench(PlatformUI.java:141)</Frame>
        </Frames>
      </Stacktrace>
    </Stacktraces>
    <SourceCodeRegions amount="0" />
    <Enumerations amount="1">
      <Enumeration lines="4">
        <Lines>
          <Line>1. New a Sample Database data source and dataset</Line>
          <Line>2. In Edit Data Set dailog, Query tab disppear</Line>
          <Line>3. "An unexpected internal exception occured." messge pops up</Line>
          <Line>"java.lang.IllegalArgumentException" throw out</Line>
        </Lines>
      </Enumeration>
    </Enumerations>
    <bug_status amount="CLOSED" />
    <resolution amount="FIXED" />
    <WithStack>description:

steps to reproduce:
1. New a Sample Database data source and dataset
2. In Edit Data Set dailog, Query tab disppear
3. "An unexpected internal exception occured." messge pops up
"java.lang.IllegalArgumentException" throw out

actual result:
Sample data set can't be created

expected result:
Sample database can work well
exception stack trace:
java.lang.IllegalArgumentException
	at org.eclipse.birt.data.engine.odaconsumer.manager.OdaQuery.doPrepare
(OdaQuery.java:146)
	at org.eclipse.birt.data.engine.odaconsumer.manager.OdaQuery.prepare
(OdaQuery.java:112)
	at org.eclipse.birt.data.engine.odaconsumer.Connection.prepareOdaQuery
(Connection.java:218)
	at org.eclipse.birt.data.engine.odaconsumer.Connection.prepareStatement
(Connection.java:155)
	at org.eclipse.birt.data.engine.executor.DataSource.prepareStatement
(DataSource.java:187)
	at org.eclipse.birt.data.engine.executor.DataSourceQuery.prepare
(DataSourceQuery.java:290)
	at 
org.eclipse.birt.data.engine.impl.PreparedExtendedDSQuery$ExtendedDSQueryExecut
or.prepareOdiQuery(PreparedExtendedDSQuery.java:243)
	at 
org.eclipse.birt.data.engine.impl.PreparedQuery$Executor.prepareExecution
(PreparedQuery.java:465)
	at org.eclipse.birt.data.engine.impl.PreparedQuery$Executor.access$000
(PreparedQuery.java:379)
	at org.eclipse.birt.data.engine.impl.PreparedQuery.doPrepare
(PreparedQuery.java:171)
	at org.eclipse.birt.data.engine.impl.PreparedDataSourceQuery.execute
(PreparedDataSourceQuery.java:137)
	at 
org.eclipse.birt.report.designer.internal.ui.util.DataSetManager.execute
(DataSetManager.java:230)
	at 
org.eclipse.birt.report.designer.internal.ui.util.DataSetManager.execute
(DataSetManager.java:214)
	at 
org.eclipse.birt.report.designer.internal.ui.dialogs.ResultSetPreviewPage.updat
eResults(ResultSetPreviewPage.java:89)
	at 
org.eclipse.birt.report.designer.internal.ui.dialogs.ResultSetPreviewPage$1.run
(ResultSetPreviewPage.java:259)
	at org.eclipse.swt.widgets.RunnableLock.run(RunnableLock.java:35)
	at org.eclipse.swt.widgets.Synchronizer.runAsyncMessages
(Synchronizer.java:106)
	at org.eclipse.swt.widgets.Display.runAsyncMessages(Display.java:2749)
	at org.eclipse.swt.widgets.Display.readAndDispatch(Display.java:2434)
	at org.eclipse.jface.window.Window.runEventLoop(Window.java:668)
	at org.eclipse.jface.window.Window.open(Window.java:648)
	at org.eclipse.birt.report.designer.internal.ui.dialogs.BaseDialog.open
(BaseDialog.java:138)
	at 
org.eclipse.birt.report.designer.internal.ui.views.data.providers.DataSetNodePr
ovider.performEdit(DataSetNodeProvider.java:123)
	at 
org.eclipse.birt.report.designer.internal.ui.views.DefaultNodeProvider.performR
equest(DefaultNodeProvider.java:302)
	at 
org.eclipse.birt.report.designer.internal.ui.views.actions.EditAction.doAction
(EditAction.java:70)
	at 
org.eclipse.birt.report.designer.internal.ui.views.actions.AbstractElementActio
n.run(AbstractElementAction.java:52)
	at 
org.eclipse.birt.report.designer.internal.ui.views.RenameListener.doubleClick
(RenameListener.java:211)
	at org.eclipse.jface.viewers.StructuredViewer$1.run
(StructuredViewer.java:409)
	at org.eclipse.core.internal.runtime.InternalPlatform.run
(InternalPlatform.java:616)
	at org.eclipse.core.runtime.Platform.run(Platform.java:747)
	at org.eclipse.jface.viewers.StructuredViewer.fireDoubleClick
(StructuredViewer.java:407)
	at org.eclipse.jface.viewers.StructuredViewer.handleDoubleSelect
(StructuredViewer.java:618)
	at org.eclipse.jface.viewers.StructuredViewer$4.widgetDefaultSelected
(StructuredViewer.java:721)
	at org.eclipse.jface.util.OpenStrategy.fireDefaultSelectionEvent
(OpenStrategy.java:189)
	at org.eclipse.jface.util.OpenStrategy.access$0(OpenStrategy.java:186)
	at org.eclipse.jface.util.OpenStrategy$1.handleEvent
(OpenStrategy.java:236)
	at org.eclipse.swt.widgets.EventTable.sendEvent(EventTable.java:82)
	at org.eclipse.swt.widgets.Widget.sendEvent(Widget.java:796)
	at org.eclipse.swt.widgets.Display.runDeferredEvents(Display.java:2772)
	at org.eclipse.swt.widgets.Display.readAndDispatch(Display.java:2431)
	at org.eclipse.ui.internal.Workbench.runEventLoop(Workbench.java:1377)
	at org.eclipse.ui.internal.Workbench.runUI(Workbench.java:1348)
	at org.eclipse.ui.internal.Workbench.createAndRunWorkbench
(Workbench.java:254)
	at org.eclipse.ui.PlatformUI.createAndRunWorkbench(PlatformUI.java:141)
This is caused by an illegal attribute in plugin header of sampledb.ui 
project. Fixed in source.

verified in build 20050706</WithStack>
    <WithOutStack>description:

steps to reproduce:
1. New a Sample Database data source and dataset
2. In Edit Data Set dailog, Query tab disppear
3. "An unexpected internal exception occured." messge pops up
"java.lang.IllegalArgumentException" throw out

actual result:
Sample data set can't be created

expected result:
Sample database can work well
exception stack trace:

This is caused by an illegal attribute in plugin header of sampledb.ui 
project. Fixed in source.

verified in build 20050706</WithOutStack>
  </Bug>
  <Bug>
    <BugId amount="102436" />
    <CreationDate amount="2005-06-30 22:59:00 -0400" />
    <DupId amount="" />
    <classification amount="BIRT" />
    <Product amount="BIRT" />
    <component amount="Report" />
    <Version amount="1.0.0" />
    <rep_platform amount="PC" />
    <op_sys amount="Windows 2000" />
    <priority amount="P2" />
    <bug_severity amount="major" />
    <Summery>Date/time value not stored correctly in report design</Summery>
    <Patches amount="0" />
    <Stacktraces amount="0" />
    <SourceCodeRegions amount="0" />
    <Enumerations amount="2">
      <Enumeration lines="25">
        <Lines>
          <Line>(1) Model should have stored a dateTime type constant using the XML schema</Line>
          <Line>date/time format ( yyyy-mm-ddThh:mm:ss, see</Line>
          <Line>[http://www.w3.org/TR/xmlschema-2/]), which is locale-independent, to ensure</Line>
          <Line>portability.</Line>
          <Line />
          <Line>(2) The date value should have been validated by UI or Model. An invalid</Line>
          <Line>date/time string (which does not conform to a univeral format or the system</Line>
          <Line>default locale format) should have been rejected.</Line>
          <Line>Since the user can also create a report by model APIs.</Line>
          <Line>I think it is better that model does this work.</Line>
          <Line>Or the users should know the standard date/time format which Birt defines and</Line>
          <Line>do the validation and conversion by themselves if they want to create a report</Line>
          <Line>by codes. It's not very frieldly.</Line>
          <Line>This bug is under review within teams.</Line>
          <Line>Agree that model API is the layer that validates data formats</Line>
          <Line>I agree to store the value in design as local &amp; format independent string.  UI</Line>
          <Line>should take responsibility to separate the property real type and Model should</Line>
          <Line>take responsibility to store the value. Now the parameter default value is</Line>
          <Line>expression type, so the value could be an expression, or a constant. As we</Line>
          <Line>know, if the value is expression, then there is nothing that we should do for</Line>
          <Line>the validation. Just store it in the design file. If the value is a constant,</Line>
          <Line>UI should know that. Then UI should call the validation method that we’ve</Line>
          <Line>already provided to parse the String. If the value is DateTime and valid,  a</Line>
          <Line>java.lang.Date object will be returned.  By this step, I think everybody</Line>
          <Line>should no problem with this?</Line>
        </Lines>
      </Enumeration>
      <Enumeration lines="4">
        <Lines>
          <Line>1. ROM should change the property type of "defaultValue" for parameter to "String".</Line>
          <Line>2. the UI of parameter dialog window should behave the same as it does now:  it will display the input format based on the current locale. Intetnally, the entered default values should be stored as locale-independent format.</Line>
          <Line>3. When the paramter is displayed in the viewer's parameter, the default value will be displayed based on the current locale again. The conversion should be handled by the engine getReportParameterTask, which may internally call to DE's conversion utility.</Line>
          <Line>4. All expression property should be stored with double quoted because they will be evaluated at the runtime.</Line>
        </Lines>
      </Enumeration>
    </Enumerations>
    <bug_status amount="RESOLVED" />
    <resolution amount="FIXED" />
    <WithStack>New a "DateTime" type report parameter in BIRT report designer, in the "default
value" field, type in some invalid date string, say "55/66/9999". The invalid
value is accepted, and the following definition shows up in the report design:

    &lt;parameters&gt;
        &lt;scalar-parameter name="dateParam1"&gt;
            &lt;property name="dataType"&gt;dateTime&lt;/property&gt;
            &lt;property name="allowBlank"&gt;false&lt;/property&gt;
            &lt;property name="format"&gt;Unformatted&lt;/property&gt;
            &lt;property name="controlType"&gt;text-box&lt;/property&gt;
            &lt;expression name="defaultValue"&gt;55/66/9999&lt;/expression&gt;
        &lt;/scalar-parameter&gt;
    &lt;/parameters&gt;

Two problems here:
(1) Model should have stored a dateTime type constant using the XML schema
date/time format ( yyyy-mm-ddThh:mm:ss, see
[http://www.w3.org/TR/xmlschema-2/]), which is locale-independent, to ensure
portability.

(2) The date value should have been validated by UI or Model. An invalid
date/time string (which does not conform to a univeral format or the system
default locale format) should have been rejected.
Since the user can also create a report by model APIs.
I think it is better that model does this work.
Or the users should know the standard date/time format which Birt defines and 
do the validation and conversion by themselves if they want to create a report 
by codes. It's not very frieldly.
This bug is under review within teams.
Agree that model API is the layer that validates data formats
I agree to store the value in design as local &amp; format independent string.  UI 
should take responsibility to separate the property real type and Model should 
take responsibility to store the value. Now the parameter default value is 
expression type, so the value could be an expression, or a constant. As we 
know, if the value is expression, then there is nothing that we should do for 
the validation. Just store it in the design file. If the value is a constant, 
UI should know that. Then UI should call the validation method that we’ve 
already provided to parse the String. If the value is DateTime and valid,  a 
java.lang.Date object will be returned.  By this step, I think everybody 
should no problem with this? 

 

Gary suggested that we should provide API to setProperty take the argument 
DataTime/Number. That means we should add 

ScalarParameterHandle:: setDefaultValue(Date date), ScalarParameterHandle:: 
setDefaultValue(Number number).

 

And the generic method setProperty on parameter element should be overwritten. 
Also, as Jianqiang said in an other email, the same problem existed on table. 
When you create a table add the filters, the property could also be DateTime 
or Number but with expression type. If we do the API change, we need to 
rewrite the setProperty() everywhere. That also makes the API expands too much 
large. 

 

So I think the procedure should be:

 

UI have the user input string, call the validation method to do the 
validation. If the value is valid, A Java class DateTime/Number will be 
returned. We have corresponding method to convert the Date into a locale 
independent string. UI set the locale independent string to the proeprty and 
the string will be saved in design file. When they do get proeprty, the locale 
independent string still can be convert into Date to display.

 


(In reply to comment #4)
&gt; I agree to store the value in design as local &amp; format independent string.  
UI 
&gt; should take responsibility to separate the property real type and Model 
should 
&gt; take responsibility to store the value. Now the parameter default value is 
&gt; expression type, so the value could be an expression, or a constant. As we 
&gt; know, if the value is expression, then there is nothing that we should do for 
&gt; the validation. Just store it in the design file. If the value is a constant, 
&gt; UI should know that. Then UI should call the validation method that we’ve 
&gt; already provided to parse the String. If the value is DateTime and valid,  a 
&gt; java.lang.Date object will be returned.  By this step, I think everybody 
&gt; should no problem with this? 
&gt;  
&gt; Gary suggested that we should provide API to setProperty take the argument 
&gt; DataTime/Number. That means we should add 
&gt; ScalarParameterHandle:: setDefaultValue(Date date), ScalarParameterHandle:: 
&gt; setDefaultValue(Number number).
&gt;  
&gt; And the generic method setProperty on parameter element should be 
overwritten. 
&gt; Also, as Jianqiang said in an other email, the same problem existed on table. 
&gt; When you create a table add the filters, the property could also be DateTime 
&gt; or Number but with expression type. If we do the API change, we need to 
&gt; rewrite the setProperty() everywhere. That also makes the API expands too 
much 
&gt; large. 
&gt;  
&gt; So I think the procedure should be:
&gt;  
&gt; UI have the user input string, call the validation method to do the 
&gt; validation. If the value is valid, A Java class DateTime/Number will be 
&gt; returned. We have corresponding method to convert the Date into a locale 
&gt; independent string. UI set the locale independent string to the proeprty and 
&gt; the string will be saved in design file. When they do get proeprty, the 
locale 
&gt; independent string still can be convert into Date to display.
&gt;  


Agreed with this solution. That should also be the generic rule how the 
validation should be performed: UI should call the DE's validation API to 
verify user's input, if the input is valid, UI should ceate the right object, 
and set it to the report element/properties.
 
Please provide the method or utility.
The methods were added in the API/Util package almost HALF year ago.
ParameterValidationUtil.java
The validate utility cannot resolve the storage problem.
DtE team also used this utility class to do the locale independent value storage. I am not sure what kind of problem that you can not resolve. If you need a localed independedt value to save in the design file, Please use:
ParameterValidationUtil ::static public String getDisplayValue( String dataType, String format,Object value ) 
You give the value might be a Date object, but we will convert it to a string.
I can't agree that GUI can know if the input string is a expressoin or constant.
The definition of expression or constant is defined in low level api. It's not definition by GUI layer.
I think we can't resolve this problem
Actually there is no place for people to enter the default value as an expression, and the value is not even stored as an expression in the current implementation. 

So I am proposing to change its definition to String:

1. ROM should change the property type of "defaultValue" for parameter to "String".
2. the UI of parameter dialog window should behave the same as it does now:  it will display the input format based on the current locale. Intetnally, the entered default values should be stored as locale-independent format.
3. When the paramter is displayed in the viewer's parameter, the default value will be displayed based on the current locale again. The conversion should be handled by the engine getReportParameterTask, which may internally call to DE's conversion utility.
4. All expression property should be stored with double quoted because they will be evaluated at the runtime.

DE needs to handle the backcompatbility issue for this change. An simple way to handle this is to ingore the default value stored as as expression property.


Please change the default value for parameter from expression type to string. See if there any parsing compatible issue need to handle.
Change the default value for parameter from expression type to string.
Verified in build 20051227.
the default value for parameter has been changed from expression type to string.</WithStack>
    <WithOutStack>New a "DateTime" type report parameter in BIRT report designer, in the "default
value" field, type in some invalid date string, say "55/66/9999". The invalid
value is accepted, and the following definition shows up in the report design:

    &lt;parameters&gt;
        &lt;scalar-parameter name="dateParam1"&gt;
            &lt;property name="dataType"&gt;dateTime&lt;/property&gt;
            &lt;property name="allowBlank"&gt;false&lt;/property&gt;
            &lt;property name="format"&gt;Unformatted&lt;/property&gt;
            &lt;property name="controlType"&gt;text-box&lt;/property&gt;
            &lt;expression name="defaultValue"&gt;55/66/9999&lt;/expression&gt;
        &lt;/scalar-parameter&gt;
    &lt;/parameters&gt;

Two problems here:
(1) Model should have stored a dateTime type constant using the XML schema
date/time format ( yyyy-mm-ddThh:mm:ss, see
[http://www.w3.org/TR/xmlschema-2/]), which is locale-independent, to ensure
portability.

(2) The date value should have been validated by UI or Model. An invalid
date/time string (which does not conform to a univeral format or the system
default locale format) should have been rejected.
Since the user can also create a report by model APIs.
I think it is better that model does this work.
Or the users should know the standard date/time format which Birt defines and 
do the validation and conversion by themselves if they want to create a report 
by codes. It's not very frieldly.
This bug is under review within teams.
Agree that model API is the layer that validates data formats
I agree to store the value in design as local &amp; format independent string.  UI 
should take responsibility to separate the property real type and Model should 
take responsibility to store the value. Now the parameter default value is 
expression type, so the value could be an expression, or a constant. As we 
know, if the value is expression, then there is nothing that we should do for 
the validation. Just store it in the design file. If the value is a constant, 
UI should know that. Then UI should call the validation method that we’ve 
already provided to parse the String. If the value is DateTime and valid,  a 
java.lang.Date object will be returned.  By this step, I think everybody 
should no problem with this? 

 

Gary suggested that we should provide API to setProperty take the argument 
DataTime/Number. That means we should add 

ScalarParameterHandle:: setDefaultValue(Date date), ScalarParameterHandle:: 
setDefaultValue(Number number).

 

And the generic method setProperty on parameter element should be overwritten. 
Also, as Jianqiang said in an other email, the same problem existed on table. 
When you create a table add the filters, the property could also be DateTime 
or Number but with expression type. If we do the API change, we need to 
rewrite the setProperty() everywhere. That also makes the API expands too much 
large. 

 

So I think the procedure should be:

 

UI have the user input string, call the validation method to do the 
validation. If the value is valid, A Java class DateTime/Number will be 
returned. We have corresponding method to convert the Date into a locale 
independent string. UI set the locale independent string to the proeprty and 
the string will be saved in design file. When they do get proeprty, the locale 
independent string still can be convert into Date to display.

 


(In reply to comment #4)
&gt; I agree to store the value in design as local &amp; format independent string.  
UI 
&gt; should take responsibility to separate the property real type and Model 
should 
&gt; take responsibility to store the value. Now the parameter default value is 
&gt; expression type, so the value could be an expression, or a constant. As we 
&gt; know, if the value is expression, then there is nothing that we should do for 
&gt; the validation. Just store it in the design file. If the value is a constant, 
&gt; UI should know that. Then UI should call the validation method that we’ve 
&gt; already provided to parse the String. If the value is DateTime and valid,  a 
&gt; java.lang.Date object will be returned.  By this step, I think everybody 
&gt; should no problem with this? 
&gt;  
&gt; Gary suggested that we should provide API to setProperty take the argument 
&gt; DataTime/Number. That means we should add 
&gt; ScalarParameterHandle:: setDefaultValue(Date date), ScalarParameterHandle:: 
&gt; setDefaultValue(Number number).
&gt;  
&gt; And the generic method setProperty on parameter element should be 
overwritten. 
&gt; Also, as Jianqiang said in an other email, the same problem existed on table. 
&gt; When you create a table add the filters, the property could also be DateTime 
&gt; or Number but with expression type. If we do the API change, we need to 
&gt; rewrite the setProperty() everywhere. That also makes the API expands too 
much 
&gt; large. 
&gt;  
&gt; So I think the procedure should be:
&gt;  
&gt; UI have the user input string, call the validation method to do the 
&gt; validation. If the value is valid, A Java class DateTime/Number will be 
&gt; returned. We have corresponding method to convert the Date into a locale 
&gt; independent string. UI set the locale independent string to the proeprty and 
&gt; the string will be saved in design file. When they do get proeprty, the 
locale 
&gt; independent string still can be convert into Date to display.
&gt;  


Agreed with this solution. That should also be the generic rule how the 
validation should be performed: UI should call the DE's validation API to 
verify user's input, if the input is valid, UI should ceate the right object, 
and set it to the report element/properties.
 
Please provide the method or utility.
The methods were added in the API/Util package almost HALF year ago.
ParameterValidationUtil.java
The validate utility cannot resolve the storage problem.
DtE team also used this utility class to do the locale independent value storage. I am not sure what kind of problem that you can not resolve. If you need a localed independedt value to save in the design file, Please use:
ParameterValidationUtil ::static public String getDisplayValue( String dataType, String format,Object value ) 
You give the value might be a Date object, but we will convert it to a string.
I can't agree that GUI can know if the input string is a expressoin or constant.
The definition of expression or constant is defined in low level api. It's not definition by GUI layer.
I think we can't resolve this problem
Actually there is no place for people to enter the default value as an expression, and the value is not even stored as an expression in the current implementation. 

So I am proposing to change its definition to String:

1. ROM should change the property type of "defaultValue" for parameter to "String".
2. the UI of parameter dialog window should behave the same as it does now:  it will display the input format based on the current locale. Intetnally, the entered default values should be stored as locale-independent format.
3. When the paramter is displayed in the viewer's parameter, the default value will be displayed based on the current locale again. The conversion should be handled by the engine getReportParameterTask, which may internally call to DE's conversion utility.
4. All expression property should be stored with double quoted because they will be evaluated at the runtime.

DE needs to handle the backcompatbility issue for this change. An simple way to handle this is to ingore the default value stored as as expression property.


Please change the default value for parameter from expression type to string. See if there any parsing compatible issue need to handle.
Change the default value for parameter from expression type to string.
Verified in build 20051227.
the default value for parameter has been changed from expression type to string.</WithOutStack>
  </Bug>
  <Bug>
    <BugId amount="102437" />
    <CreationDate amount="2005-06-30 23:02:00 -0400" />
    <DupId amount="" />
    <classification amount="BIRT" />
    <Product amount="BIRT" />
    <component amount="Report Designer" />
    <Version amount="1.0.1" />
    <rep_platform amount="PC" />
    <op_sys amount="Windows XP" />
    <priority amount="P3" />
    <bug_severity amount="minor" />
    <Summery>file path should be processed when add a hyperlink to a local file.</Summery>
    <Patches amount="0" />
    <Stacktraces amount="0" />
    <SourceCodeRegions amount="0" />
    <Enumerations amount="1">
      <Enumeration lines="3">
        <Lines>
          <Line>1. add a hyperlink from file system</Line>
          <Line>2. preview and click on the hyperlink</Line>
          <Line>3. the hyperlink file can't be retrived</Line>
        </Lines>
      </Enumeration>
    </Enumerations>
    <bug_status amount="CLOSED" />
    <resolution amount="FIXED" />
    <WithStack>description:

steps to reproduce:
1. add a hyperlink from file system
2. preview and click on the hyperlink
3. the hyperlink file can't be retrived

actual result:
"file not found" message will pop up

expected result:
file path directory should be processed when add a hyperlink to a local file.
Slash should be converted double slash or back slash so that when click on it, 
the local file can be retrived
Processed the file path according to the Java Script regulation, now it works 
correctly.
Verified in build 20050705</WithStack>
    <WithOutStack>description:

steps to reproduce:
1. add a hyperlink from file system
2. preview and click on the hyperlink
3. the hyperlink file can't be retrived

actual result:
"file not found" message will pop up

expected result:
file path directory should be processed when add a hyperlink to a local file.
Slash should be converted double slash or back slash so that when click on it, 
the local file can be retrived
Processed the file path according to the Java Script regulation, now it works 
correctly.
Verified in build 20050705</WithOutStack>
  </Bug>
  <Bug>
    <BugId amount="102438" />
    <CreationDate amount="2005-06-30 23:13:00 -0400" />
    <DupId amount="" />
    <classification amount="BIRT" />
    <Product amount="BIRT" />
    <component amount="Report Designer" />
    <Version amount="unspecified" />
    <rep_platform amount="PC" />
    <op_sys amount="Windows XP" />
    <priority amount="P3" />
    <bug_severity amount="enhancement" />
    <Summery>Focus is lost when select a value during importing values for parameter.</Summery>
    <Patches amount="0" />
    <Stacktraces amount="0" />
    <SourceCodeRegions amount="0" />
    <Enumerations amount="1">
      <Enumeration lines="4">
        <Lines>
          <Line>1.Create a parameter.Select type as "List Box".</Line>
          <Line>2.Click on "import values".</Line>
          <Line>3.Select a value from left pane to right pane.</Line>
          <Line>4.After click on "&gt;".</Line>
        </Lines>
      </Enumeration>
    </Enumerations>
    <bug_status amount="CLOSED" />
    <resolution amount="FIXED" />
    <WithStack>Description: Focus is lost when select a value during importing values for 
parameter.

Steps to reproduce:
1.Create a parameter.Select type as "List Box".
2.Click on "import values".
3.Select a value from left pane to right pane.
4.After click on "&gt;".

Actual result: focus is lost.
This bug has been fixed together with 100739
Verified in version 20050708.
*** Bug 109717 has been marked as a duplicate of this bug. ***</WithStack>
    <WithOutStack>Description: Focus is lost when select a value during importing values for 
parameter.

Steps to reproduce:
1.Create a parameter.Select type as "List Box".
2.Click on "import values".
3.Select a value from left pane to right pane.
4.After click on "&gt;".

Actual result: focus is lost.
This bug has been fixed together with 100739
Verified in version 20050708.
*** Bug 109717 has been marked as a duplicate of this bug. ***</WithOutStack>
  </Bug>
  <Bug>
    <BugId amount="102439" />
    <CreationDate amount="2005-07-01 00:24:00 -0400" />
    <DupId amount="" />
    <classification amount="Eclipse" />
    <Product amount="Platform" />
    <component amount="UI" />
    <Version amount="3.1" />
    <rep_platform amount="PC" />
    <op_sys amount="Windows XP" />
    <priority amount="P3" />
    <bug_severity amount="normal" />
    <Summery>[PropertiesView] PropertySheetEntry should format error message when calling setErrorText</Summery>
    <Patches amount="0" />
    <Stacktraces amount="0" />
    <SourceCodeRegions amount="1">
      <source_code type="functiondef">
        <location start="274" end="362" />
        <code>setErrorText (MessageFormat.format (editor.getErrorMessage (), new Object[] 
{editValue}</code>
      </source_code>
    </SourceCodeRegions>
    <Enumerations amount="0" />
    <bug_status amount="VERIFIED" />
    <resolution amount="FIXED" />
    <WithStack>Using Eclipse 3.1M4.  When using property validation, if property is invalid 
to start with, the error text is not formatted properly.  

Looking at source, PropertySheetEntry.getEditor (Composite parent), it calls:
setErrorText (editor.getErrorMessage ())

It should call:
setErrorText (MessageFormat.format (editor.getErrorMessage (), new Object[] 
{editValue})); (similar to how error message is set in 
TextCellEditor.editOccured(ModifyEvent e))
I agree there is a problem here, but I disagree with the suggested fix.

It's the cell editor's responsibility to provide a fully formatted error
message.  PropertySheetEntry should not do the formatting.  It knows nothing
about the kind of value and whether it needs any special formatting.

The problem is that TextCellEditor (and some of the other cell editors) do not
do the formatting in all places that they should.  Actually, given the default
implementation of CellEditor.isCorrect, which calls isValid on the validator, it
seems like it's the validator's responsibility to provide a fully formatted
message, and the cell editors should not do any extra formatting.

Which validator(s) are you using?  The only implementations of
ICellEditorValidator in the SDK are in PDE, and they do their own formatting to
include the erronous value.

I created a custom validator (implements ICellEditorValidator) to basically 
delegate validation of the property elsewhere.  What the behaviour seems to 
be, is that the TextCellEditor will populate the value into the error string 
if there is a spot for it (ie: if it's not already fully formatted).  There is 
a similar thing done in other property editors (DialogCellEditor, 
ComboBoxCellEditor)...it seems that PropertySheetEntry is the odd one out in 
not handling partially formatted strings.

This gives the user the option of passing back a fully formatted string, or 
passing back a string that can have the value formatted in.  
PropertySheetEntry has the ability to do the same thing as the editors do...or 
perhaps this part should somehow be delegated to the cell editor rather than 
be done in PropertySheetEntry?
That's what I'm saying.  It's not PropertySheetEntry's responsibility to do the
formatting.  Given the existing specs for CellEditor.get/setErrorMessage and
ICellEditorValidator.isValid, which don't mention anything about returning
unresolved format strings, I would expect the error messages to be fully
formatted already.  The current formatting code in the cell editors is bogus. 
The best approach is for the validator to do any necessary formatting.

Created attachment 24774
Small mod to the javadoc for the ICellEditorValidator's 'isValid' method

No JUnit updates needed, only comment changes
Patch applied, with closing &lt;p&gt; changed to &lt;/p&gt;.

Should also clarify CellEditor.getErrorMessage and setErrorMessage.

Created attachment 24908
Update the javadoc for the 'setErrorMessage' method.


I didn't update the 'getErrorMessage' javadoc because I don't think it's ever
been an issue (nobody expects that 'getErrorMessage' would format the
output...).
Patch applied (excluding the 'int i = 0;' in activate()).


The javadoc's for both the 'setMessage' and 'setErrorMessage' have been updated 
to indicate that the incoming string should be full formatted...</WithStack>
    <WithOutStack>Using Eclipse 3.1M4.  When using property validation, if property is invalid 
to start with, the error text is not formatted properly.  

Looking at source, PropertySheetEntry.getEditor (Composite parent), it calls:
setErrorText (editor.getErrorMessage ())

It should call:
setErrorText (MessageFormat.format (editor.getErrorMessage (), new Object[] 
{editValue})); (similar to how error message is set in 
TextCellEditor.editOccured(ModifyEvent e))
I agree there is a problem here, but I disagree with the suggested fix.

It's the cell editor's responsibility to provide a fully formatted error
message.  PropertySheetEntry should not do the formatting.  It knows nothing
about the kind of value and whether it needs any special formatting.

The problem is that TextCellEditor (and some of the other cell editors) do not
do the formatting in all places that they should.  Actually, given the default
implementation of CellEditor.isCorrect, which calls isValid on the validator, it
seems like it's the validator's responsibility to provide a fully formatted
message, and the cell editors should not do any extra formatting.

Which validator(s) are you using?  The only implementations of
ICellEditorValidator in the SDK are in PDE, and they do their own formatting to
include the erronous value.

I created a custom validator (implements ICellEditorValidator) to basically 
delegate validation of the property elsewhere.  What the behaviour seems to 
be, is that the TextCellEditor will populate the value into the error string 
if there is a spot for it (ie: if it's not already fully formatted).  There is 
a similar thing done in other property editors (DialogCellEditor, 
ComboBoxCellEditor)...it seems that PropertySheetEntry is the odd one out in 
not handling partially formatted strings.

This gives the user the option of passing back a fully formatted string, or 
passing back a string that can have the value formatted in.  
PropertySheetEntry has the ability to do the same thing as the editors do...or 
perhaps this part should somehow be delegated to the cell editor rather than 
be done in PropertySheetEntry?
That's what I'm saying.  It's not PropertySheetEntry's responsibility to do the
formatting.  Given the existing specs for CellEditor.get/setErrorMessage and
ICellEditorValidator.isValid, which don't mention anything about returning
unresolved format strings, I would expect the error messages to be fully
formatted already.  The current formatting code in the cell editors is bogus. 
The best approach is for the validator to do any necessary formatting.

Created attachment 24774
Small mod to the javadoc for the ICellEditorValidator's 'isValid' method

No JUnit updates needed, only comment changes
Patch applied, with closing &lt;p&gt; changed to &lt;/p&gt;.

Should also clarify CellEditor.getErrorMessage and setErrorMessage.

Created attachment 24908
Update the javadoc for the 'setErrorMessage' method.


I didn't update the 'getErrorMessage' javadoc because I don't think it's ever
been an issue (nobody expects that 'getErrorMessage' would format the
output...).
Patch applied (excluding the 'int i = 0;' in activate()).


The javadoc's for both the 'setMessage' and 'setErrorMessage' have been updated 
to indicate that the incoming string should be full formatted...</WithOutStack>
  </Bug>
  <Bug>
    <BugId amount="102440" />
    <CreationDate amount="2005-07-01 00:29:00 -0400" />
    <DupId amount="" />
    <classification amount="Eclipse" />
    <Product amount="Platform" />
    <component amount="UI" />
    <Version amount="3.1" />
    <rep_platform amount="PC" />
    <op_sys amount="Windows XP" />
    <priority amount="P3" />
    <bug_severity amount="normal" />
    <Summery>[Viewers] StructuredViewer.update() loops unnecessarily</Summery>
    <Patches amount="0" />
    <Stacktraces amount="0" />
    <SourceCodeRegions amount="2">
      <source_code type="functiondef">
        <location start="24" end="166" />
        <code>public void update(Object[] elements, String[] properties) {
		for (int i = 0; i &lt; elements.length; ++i)
			update(elements[i], properties);
}</code>
      </source_code>
      <source_code type="ifstatement">
        <location start="408" end="453" />
        <code>if (needsRefilter) {
  refresh();
  return;
}</code>
      </source_code>
    </SourceCodeRegions>
    <Enumerations amount="0" />
    <bug_status amount="RESOLVED" />
    <resolution amount="FIXED" />
    <WithStack>StructuredViewer.java:

public void update(Object[] elements, String[] properties) {
		for (int i = 0; i &lt; elements.length; ++i)
			update(elements[i], properties);
}
This loops through all the elements fed to it, which calls 

update(Object element, String[] properties) 

which calls

internalUpdate(Widget widget, Object element, String[] properties)

which checks the properties with the filter&amp;sorter:

if (needsRefilter) {
  refresh();
  return;
}

And if successful a full refresh has been done, yet update() is still looping 
over more elements to update.  The full refresh gets/filters/sorts _all_ the 
elements as far as I understand it.  There is no need to continue.

Updating with an Object[] of 1000 elements that triggers the refresh() on the 
first element need not call update() on the remaining 999 elements.  They could 
theoretically be 999 elements that trigger a refresh() (resulting in a bogged 
down gui thread..)
It will be easier to fix this one once we made StructuralViewer.internalUpdate
private again.
Therefore, I have added a dependency on bug 89606.
Created attachment 34572
possible patch against org.eclipse.jface

Since we haven't been able to make internalUpdate private again, I don't think I can release the fix for this yet.
Moving to 3.2M6. I'll try my best to convince JDT to not use internalUpdate anymore, which would allow fixing this.
Sorry, bug I didn't have the time for lobbying. Deferring to 3.3.
Deferring again.  Workaround is to pass null for the properties array, which avoids the inner loop if you don't need a refresh, or calling refresh directly if you need it.
Created attachment 72079
new patch
Michael, this patch will likely break CommonViewer because it relies on an unspecified implementation detail: StructuredViewer.update(Object[], String[]) currently calls update(Object, String[]) but after applying this patch, it won't do that anymore.

Would it be possible that you override update(Object[], String[]) as well?
Moving to M3.
Michael, could you please have a look at this and comment?  I would be interested in your opinion as to how likely it is that someone else (the original WTP common navigator?) made the assumption that StructuredViewer.update(Object[], String[]) calls update(Object, String[]).
So far as I'm aware, most of the implementations of content extensions from WTP land make use of update(obj, null); I'm not aware of any implementation that makes use of the string array for properties. 

Until 3.3, the CNF actually called refresh() as a result of it's update(obj, ..) method because of deficiencies with known notification patterns from existent content providers. 


Fixed in HEAD &gt; 20080203. I made no assumptions about who calls what in my fix. It is really ugly because of that but should work.

Rutger, would you be able to confirm that this fixes the problem you reported? Thanks
Rutger, I would appreciate if you could download a recent integration build (for example, I20080205-0010) and confirm that the fix solves the reported problem.</WithStack>
    <WithOutStack>StructuredViewer.java:

public void update(Object[] elements, String[] properties) {
		for (int i = 0; i &lt; elements.length; ++i)
			update(elements[i], properties);
}
This loops through all the elements fed to it, which calls 

update(Object element, String[] properties) 

which calls

internalUpdate(Widget widget, Object element, String[] properties)

which checks the properties with the filter&amp;sorter:

if (needsRefilter) {
  refresh();
  return;
}

And if successful a full refresh has been done, yet update() is still looping 
over more elements to update.  The full refresh gets/filters/sorts _all_ the 
elements as far as I understand it.  There is no need to continue.

Updating with an Object[] of 1000 elements that triggers the refresh() on the 
first element need not call update() on the remaining 999 elements.  They could 
theoretically be 999 elements that trigger a refresh() (resulting in a bogged 
down gui thread..)
It will be easier to fix this one once we made StructuralViewer.internalUpdate
private again.
Therefore, I have added a dependency on bug 89606.
Created attachment 34572
possible patch against org.eclipse.jface

Since we haven't been able to make internalUpdate private again, I don't think I can release the fix for this yet.
Moving to 3.2M6. I'll try my best to convince JDT to not use internalUpdate anymore, which would allow fixing this.
Sorry, bug I didn't have the time for lobbying. Deferring to 3.3.
Deferring again.  Workaround is to pass null for the properties array, which avoids the inner loop if you don't need a refresh, or calling refresh directly if you need it.
Created attachment 72079
new patch
Michael, this patch will likely break CommonViewer because it relies on an unspecified implementation detail: StructuredViewer.update(Object[], String[]) currently calls update(Object, String[]) but after applying this patch, it won't do that anymore.

Would it be possible that you override update(Object[], String[]) as well?
Moving to M3.
Michael, could you please have a look at this and comment?  I would be interested in your opinion as to how likely it is that someone else (the original WTP common navigator?) made the assumption that StructuredViewer.update(Object[], String[]) calls update(Object, String[]).
So far as I'm aware, most of the implementations of content extensions from WTP land make use of update(obj, null); I'm not aware of any implementation that makes use of the string array for properties. 

Until 3.3, the CNF actually called refresh() as a result of it's update(obj, ..) method because of deficiencies with known notification patterns from existent content providers. 


Fixed in HEAD &gt; 20080203. I made no assumptions about who calls what in my fix. It is really ugly because of that but should work.

Rutger, would you be able to confirm that this fixes the problem you reported? Thanks
Rutger, I would appreciate if you could download a recent integration build (for example, I20080205-0010) and confirm that the fix solves the reported problem.</WithOutStack>
  </Bug>
  <Bug>
    <BugId amount="102441" />
    <CreationDate amount="2005-07-01 02:00:00 -0400" />
    <DupId amount="" />
    <classification amount="WebTools" />
    <Product amount="WTP Website" />
    <component amount="website" />
    <Version amount="0.7" />
    <rep_platform amount="PC" />
    <op_sys amount="Windows XP" />
    <priority amount="P3" />
    <bug_severity amount="normal" />
    <Summery>Move help section to top of right column</Summery>
    <Patches amount="0" />
    <Stacktraces amount="0" />
    <SourceCodeRegions amount="0" />
    <Enumerations amount="0" />
    <bug_status amount="CLOSED" />
    <resolution amount="FIXED" />
    <WithStack>The Help section should be one of the easiest set of links to find, so it should
be moved above the download and news sections.  As it is, users frequently have
to scroll down just to find it.
Adding M5 links, so doing this at the same time.
Verified, closing.</WithStack>
    <WithOutStack>The Help section should be one of the easiest set of links to find, so it should
be moved above the download and news sections.  As it is, users frequently have
to scroll down just to find it.
Adding M5 links, so doing this at the same time.
Verified, closing.</WithOutStack>
  </Bug>
  <Bug>
    <BugId amount="102442" />
    <CreationDate amount="2005-07-01 02:15:00 -0400" />
    <DupId amount="" />
    <classification amount="WebTools" />
    <Product amount="WTP Website" />
    <component amount="website" />
    <Version amount="0.7" />
    <rep_platform amount="All" />
    <op_sys amount="All" />
    <priority amount="P3" />
    <bug_severity amount="normal" />
    <Summery>Update with M5 content</Summery>
    <Patches amount="0" />
    <Stacktraces amount="0" />
    <SourceCodeRegions amount="0" />
    <Enumerations amount="0" />
    <bug_status amount="CLOSED" />
    <resolution amount="FIXED" />
    <WithStack>Creating for book keeping.
Changes committed.
Verified, closing.</WithStack>
    <WithOutStack>Creating for book keeping.
Changes committed.
Verified, closing.</WithOutStack>
  </Bug>
  <Bug>
    <BugId amount="102443" />
    <CreationDate amount="2005-07-01 02:20:00 -0400" />
    <DupId amount="" />
    <classification amount="Tools" />
    <Product amount="CDT" />
    <component amount="cdt-core" />
    <Version amount="3.0" />
    <rep_platform amount="PC" />
    <op_sys amount="Windows XP" />
    <priority amount="P3" />
    <bug_severity amount="normal" />
    <Summery>NPE when right clicking on text</Summery>
    <Patches amount="0" />
    <Stacktraces amount="0" />
    <SourceCodeRegions amount="0" />
    <Enumerations amount="1">
      <Enumeration lines="6">
        <Lines>
          <Line>- break pc_serial_init which is a fn in a file inside eCos(i.e. not part of</Line>
          <Line>the CDT project)</Line>
          <Line>- double click on breakpoint in breakpoints view to open file</Line>
          <Line>- file opens correctly</Line>
          <Line>- right click</Line>
          <Line>- NPE</Line>
        </Lines>
      </Enumeration>
    </Enumerations>
    <bug_status amount="RESOLVED" />
    <resolution amount="WORKSFORME" />
    <WithStack>Will attach log
Created attachment 24253
Shows NPE
celement==NULL on offending line
Wrong component. Reassigning to UI.
Oyvind could you retry this please.
I believe it was corrected by another PR, indirectly
I left myself too few notes to verify. Shame on me. When was this fixed? I
haven't seen it lately.
(In reply to comment #5)
&gt; I left myself too few notes to verify. Shame on me. When was this fixed? I
&gt; haven't seen it lately.

Someone reported an NPE when using the context menu on external file,
ChangeLog entry:
	Fix PR 102159: NPE in the referencesSearchGroup: fillcontextMenu.
	* src/org/eclipse/cdt/internal/ui/editor/CEditor.java
	* 
src/org/eclipse/cdt/internal/ui/search/actions/ReferencesSearchGroup.java

&gt;Someone reported an NPE when using the context menu on external file,

The problem is still there. The notes below are for myself as well as for you  :-)

- break pc_serial_init which is a fn in a file inside eCos(i.e. not part of
  the CDT project)
- double click on breakpoint in breakpoints view to open file
- file opens correctly 
- right click 
- NPE




Created attachment 24654
Shows where problems start
Created attachment 24655
Shows poisoned celement
Blindly moving exceptions to target 3.0. ;-)
Actually your snapshots are showing version 1.8 of ReferencesSearchGroup. We are
now at version 1.10. I don't see this problem on external files. If you see this
again, please provide an up-to-date view. Thanks.</WithStack>
    <WithOutStack>Will attach log
Created attachment 24253
Shows NPE
celement==NULL on offending line
Wrong component. Reassigning to UI.
Oyvind could you retry this please.
I believe it was corrected by another PR, indirectly
I left myself too few notes to verify. Shame on me. When was this fixed? I
haven't seen it lately.
(In reply to comment #5)
&gt; I left myself too few notes to verify. Shame on me. When was this fixed? I
&gt; haven't seen it lately.

Someone reported an NPE when using the context menu on external file,
ChangeLog entry:
	Fix PR 102159: NPE in the referencesSearchGroup: fillcontextMenu.
	* src/org/eclipse/cdt/internal/ui/editor/CEditor.java
	* 
src/org/eclipse/cdt/internal/ui/search/actions/ReferencesSearchGroup.java

&gt;Someone reported an NPE when using the context menu on external file,

The problem is still there. The notes below are for myself as well as for you  :-)

- break pc_serial_init which is a fn in a file inside eCos(i.e. not part of
  the CDT project)
- double click on breakpoint in breakpoints view to open file
- file opens correctly 
- right click 
- NPE




Created attachment 24654
Shows where problems start
Created attachment 24655
Shows poisoned celement
Blindly moving exceptions to target 3.0. ;-)
Actually your snapshots are showing version 1.8 of ReferencesSearchGroup. We are
now at version 1.10. I don't see this problem on external files. If you see this
again, please provide an up-to-date view. Thanks.</WithOutStack>
  </Bug>
  <Bug>
    <BugId amount="102444" />
    <CreationDate amount="2005-07-01 02:41:00 -0400" />
    <DupId amount="" />
    <classification amount="WebTools" />
    <Product amount="WTP Java EE Tools" />
    <component amount="jst.j2ee" />
    <Version amount="unspecified" />
    <rep_platform amount="PC" />
    <op_sys amount="All" />
    <priority amount="P3" />
    <bug_severity amount="enhancement" />
    <Summery>Server tab to allow configuration of dependant project class files needed atr runtime</Summery>
    <Patches amount="0" />
    <Stacktraces amount="0" />
    <SourceCodeRegions amount="0" />
    <Enumerations amount="0" />
    <bug_status amount="CLOSED" />
    <resolution amount="WORKSFORME" />
    <WithStack>3.1.0 I20050627-1435

There seems to be no facility to instruct the Server tab to auto-manage the
publishing of dependant project .class files into the temporary webapp
deployment tree, so that they are available at runtime from the webapp container
class loader.


We have excellent compilation support for dependant projects. It is possible to
configure the Build Path to compile my project by locating the dependant project
class folder.  

We have excellent container runtime configuration support.  It is possible to
modify the runtime classpath of the container started under the Server tab. 
This is the containers classpath not the web-app classpath.

Support for dependant projects seems to be incomplete as we can't launch a
working webapp without manually updating.


The behaviour I'm expecting:

When I edit the source of a dependant project, it gets auto-compiled.  My main
project detects an update has occured within on of its dependants and then
rebuild itself.

Now when I go the publish the main project in the Server tab there should be
some way of making the WEB-INF/classes folder import/merge all the .class files
from the dependant project(s) inside the temporary webapp folder.  Just like it
already does for the main projects class files.


At the moment the only work arounds I have found are:

* Export the dependant project files into a JAR.  Copy this JAR manually (after
each update) into the main projects WEB-INF/lib directory.

* Modify the output location for the class files in the dependant projects Build
Path.  This technique does not work when you have more than one Main project all
sharing a dependant project, since the Output Directory can only be set to one
setting.
Which team is responsible for Project -&gt; Properties -&gt; Java JAR Dependancies
functionality ?

Maybe this report can be closed if that team can give it the once over and
confirm this issue is dealt with.

The "Java JAR Dependancies functionalty" did not exist within the pre-0.7
milestone releases, it seemed to appear at 0.7.


I have also found that sometime the Property page would not pickup any utility
candidates.  But its too soon for me to say if this is a bug or due to my usage
issues like not marking the utility project in the "Project References"
properties page.

Hi Darryl,
The J2EE team (jst.j2ee) is responsible for the Java JAR dependancies function.
If you think this bug should go there, you can transfer it to that component
(please reassign to jst.j2ee-inbox@eclipse.org at the same time), or you can try
cc'ing someone from that team or open a new bug.
Reassigned to jst.j2ee, I believe this issue maybe already be dealt with.

A simple web-app with a dependant project, needs the dependant projects class
files exported into the web-app runtime class path during debugging.

Its not clear what scope the "Java JAR dependancies" properties page has.
this works as expected.
Can somebody explain how this is fixed?
At the moment if I have a servlet in a Dynamic project which uses code in a different eclipse project I have to manually copy the .class files into the .deployables directory. Is there something I am missing? what does "exported into the web-app runtime class path during debugging." mean?
The concern at the time was addressed with the "JAR Dependancies" project properties page, which is usable from within a J2EE Dynamic Web Project.

Your dependant projects have to be of type "J2EE Utility Project" and the resulting projects are packaged into JARs and exported as WEB-INF/lib/MyProjectName.jar during testing from Servers view.


&gt; "exported into the web-app runtime class path during debugging." mean?

Exported meant during project building the dependant jst.utilty project would be compiled and exported into WEB-INF/lib/ directory of the jst.web project (automatically).

Debuging meant using jst.server component (Servers view) to launch your dynamic web-project under Tomcat with the JVM in debug mode, so you can breakpoint your servlet.


If you still have a .deployable directory, sound like you are still using WTP 0.7.1 or older, I would advise you to update to WTP 1.0 as things have improved.

Maybe one of the user support channels (newgroups, mailing list) would be a better place to assist you further.  Feel free to CC: me in.

Verified, closing.</WithStack>
    <WithOutStack>3.1.0 I20050627-1435

There seems to be no facility to instruct the Server tab to auto-manage the
publishing of dependant project .class files into the temporary webapp
deployment tree, so that they are available at runtime from the webapp container
class loader.


We have excellent compilation support for dependant projects. It is possible to
configure the Build Path to compile my project by locating the dependant project
class folder.  

We have excellent container runtime configuration support.  It is possible to
modify the runtime classpath of the container started under the Server tab. 
This is the containers classpath not the web-app classpath.

Support for dependant projects seems to be incomplete as we can't launch a
working webapp without manually updating.


The behaviour I'm expecting:

When I edit the source of a dependant project, it gets auto-compiled.  My main
project detects an update has occured within on of its dependants and then
rebuild itself.

Now when I go the publish the main project in the Server tab there should be
some way of making the WEB-INF/classes folder import/merge all the .class files
from the dependant project(s) inside the temporary webapp folder.  Just like it
already does for the main projects class files.


At the moment the only work arounds I have found are:

* Export the dependant project files into a JAR.  Copy this JAR manually (after
each update) into the main projects WEB-INF/lib directory.

* Modify the output location for the class files in the dependant projects Build
Path.  This technique does not work when you have more than one Main project all
sharing a dependant project, since the Output Directory can only be set to one
setting.
Which team is responsible for Project -&gt; Properties -&gt; Java JAR Dependancies
functionality ?

Maybe this report can be closed if that team can give it the once over and
confirm this issue is dealt with.

The "Java JAR Dependancies functionalty" did not exist within the pre-0.7
milestone releases, it seemed to appear at 0.7.


I have also found that sometime the Property page would not pickup any utility
candidates.  But its too soon for me to say if this is a bug or due to my usage
issues like not marking the utility project in the "Project References"
properties page.

Hi Darryl,
The J2EE team (jst.j2ee) is responsible for the Java JAR dependancies function.
If you think this bug should go there, you can transfer it to that component
(please reassign to jst.j2ee-inbox@eclipse.org at the same time), or you can try
cc'ing someone from that team or open a new bug.
Reassigned to jst.j2ee, I believe this issue maybe already be dealt with.

A simple web-app with a dependant project, needs the dependant projects class
files exported into the web-app runtime class path during debugging.

Its not clear what scope the "Java JAR dependancies" properties page has.
this works as expected.
Can somebody explain how this is fixed?
At the moment if I have a servlet in a Dynamic project which uses code in a different eclipse project I have to manually copy the .class files into the .deployables directory. Is there something I am missing? what does "exported into the web-app runtime class path during debugging." mean?
The concern at the time was addressed with the "JAR Dependancies" project properties page, which is usable from within a J2EE Dynamic Web Project.

Your dependant projects have to be of type "J2EE Utility Project" and the resulting projects are packaged into JARs and exported as WEB-INF/lib/MyProjectName.jar during testing from Servers view.


&gt; "exported into the web-app runtime class path during debugging." mean?

Exported meant during project building the dependant jst.utilty project would be compiled and exported into WEB-INF/lib/ directory of the jst.web project (automatically).

Debuging meant using jst.server component (Servers view) to launch your dynamic web-project under Tomcat with the JVM in debug mode, so you can breakpoint your servlet.


If you still have a .deployable directory, sound like you are still using WTP 0.7.1 or older, I would advise you to update to WTP 1.0 as things have improved.

Maybe one of the user support channels (newgroups, mailing list) would be a better place to assist you further.  Feel free to CC: me in.

Verified, closing.</WithOutStack>
  </Bug>
  <Bug>
    <BugId amount="102445" />
    <CreationDate amount="2005-07-01 02:51:00 -0400" />
    <DupId amount="" />
    <classification amount="Tools" />
    <Product amount="CDT" />
    <component amount="cdt-core" />
    <Version amount="3.0" />
    <rep_platform amount="PC" />
    <op_sys amount="Linux" />
    <priority amount="P3" />
    <bug_severity amount="normal" />
    <Summery>Right clicking on a C/C++ source file in a Resource project caused NPE</Summery>
    <Patches amount="0" />
    <Stacktraces amount="0" />
    <SourceCodeRegions amount="0" />
    <Enumerations amount="0" />
    <bug_status amount="VERIFIED" />
    <resolution amount="FIXED" />
    <WithStack>this= ReferencesSearchGroup  (id=4287)
	actions= null
	context= null
	fEditor= CEditor  (id=4289)
		compatibilityTitleListener= null
		configElement= ConfigurationElementHandle  (id=4349)
		contentDescription= ""
		editorInput= FileEditorInput  (id=4352)
		fActions= HashMap  (id=4356)
		fActivationCodes= ArrayList  (id=4357)
		fActivationCodeTrigger= AbstractTextEditor$ActivationCodeTrigger  (id=4358)
		fActivationListener= AbstractTextEditor$ActivationListener  (id=4362)
		fAnnotationAccess= DefaultMarkerAnnotationAccess  (id=4364)
		fAnnotationPreferences= MarkerAnnotationPreferences  (id=4366)
		fAnnotationRulerColumn= AnnotationRulerColumn  (id=4368)
		fBackgroundColor= null
		fBracketMatcher= CPairMatcher  (id=4372)
		fCEditorErrorTickUpdater= CEditorErrorTickUpdater  (id=4373)
		fChangeRulerColumn= ChangeRulerColumn  (id=4374)
		fColumnLabel= AbstractTextEditor$PositionLabelValue  (id=4377)
		fCompatibilityMode= true
		fConfiguration= CSourceViewerConfiguration  (id=4379)
		fContentActions= ArrayList  (id=4380)
		fCursorListener= AbstractTextEditor$15  (id=4381)
		fDefaultComposite= Composite  (id=4384)
		fDeleteLineTarget= DeleteLineTarget  (id=4385)
		fEditorContextMenuId= "#CEditorContext"
		fEditorSelectionChangedListener= CEditor$EditorSelectionChangedListener  (id=4387)
		fEditorStatusLine= EditorStatusLine  (id=4388)
		fElementStateListener= AbstractTextEditor$ElementStateListener  (id=4390)
		fEncodingSupport= DefaultEncodingSupport  (id=4394)
		fErrorCorrectionOnSave= 0
		fErrorLabel= "?"
		fExplicitDocumentProvider= CDocumentProvider  (id=4397)
		fFindReplaceTarget= FindReplaceTarget  (id=4403)
		fFindScopeHighlightColor= null
		fFoldingGroup= FoldingActionGroup  (id=4408)
		fFont= null
		fFontPropertyChangeListener= AbstractTextEditor$FontPropertyChangeListener 
(id=4409)
		fForegroundColor= null
		fGotoMarkerAdapter= AbstractDecoratedTextEditor$GotoMarkerAdapter  (id=4411)
		fHelpContextId= null
		fImplicitDocumentProvider= TextFileDocumentProvider  (id=4413)
		fIncrementalFindTarget= IncrementalFindTarget  (id=4414)
		fInitialCaret= Caret  (id=4415)
		fInsertMode= ITextEditorExtension3$InsertMode  (id=4345)
		fInsertModeLabel= "Insert"
		fIsChangeInformationShown= true
		fIsOverwriteModeEnabled= true
		fIsOverwriting= false
		fIsSanityCheckEnabled= true
		fIsStateValidationEnabled= false
		fIsUpdatingAnnotationViews= false
		fKeyBindingScopes= String[1]  (id=4418)
		fLastMarkerTarget= null
		fLegalInsertModes= ArrayList  (id=4419)
		fLinearUndoViolationApprover= LinearUndoViolationUserApprover  (id=4420)
		fLineLabel= AbstractTextEditor$PositionLabelValue  (id=4424)
		fLineNumberRulerColumn= null
		fMarkRegionTarget= null
		fMenuListener= AbstractTextEditor$11  (id=4290)
		fModificationStamp= 1102278176000
		fMouseListener= AbstractTextEditor$12  (id=4425)
		fNonDefaultCaret= Caret  (id=4427)
		fNonDefaultCaretImage= null
		fNonLocalOperationApprover= NonLocalUndoUserApprover  (id=4428)
		fOutlinePage= CContentOutlinePage  (id=4430)
		fOutlinerContextMenuId= "#CEditorOutlinerContext"
		fOverviewRuler= OverviewRuler  (id=4432)
		fOverwriteModeLabel= "Overwrite"
		fParent= Composite  (id=4437)
		fPositionLabelPattern= "{0} : {1}"
		fPositionLabelPatternArguments= Object[2]  (id=4439)
		fPreferenceStore= ChainedPreferenceStore  (id=4440)
		fProjectionModelUpdater= DefaultCFoldingStructureProvider  (id=4441)
		fProjectionSupport= ProjectionSupport  (id=4442)
		fPropertyActions= ArrayList  (id=4443)
		fPropertyChangeListener= AbstractTextEditor$PropertyChangeListener  (id=4444)
		fRangeIndicator= DefaultRangeIndicator  (id=4446)
		fReadOnlyLabel= "Read-Only"
		fRefactoringActionGroup= RefactoringActionGroup  (id=4448)
		fRememberedSelection= null
		fRulerContextMenu= Menu  (id=4449)
		fRulerContextMenuId= "#CEditorRulerContext"
		fRulerContextMenuListeners= ArrayList  (id=4451)
		fSelectionActions= ArrayList  (id=4452)
		fSelectionBackgroundColor= null
		fSelectionChangedListener= AbstractTextEditor$13  (id=4453)
		fSelectionForegroundColor= null
		fSelectionListener= AbstractTextEditor$SelectionListener  (id=4455)
		fSelectionProvider= AbstractTextEditor$SelectionProvider  (id=4457)
		fSelectionSearchGroup= SelectionSearchGroup  (id=4288)
		fSelectionUpdateListener= null
		fShowHighlightRangeOnly= false
		fShowInCViewAction= ShowInCViewAction  (id=4460)
		fSmartInsertModeLabel= "Smart Insert"
		fSourceViewer= CSourceViewer  (id=4462)
		fSourceViewerDecorationSupport= SourceViewerDecorationSupport  (id=4472)
		fStackLayout= StackLayout  (id=4473)
		fStateActions= ArrayList  (id=4474)
		fStatusControl= null
		fStatusFields= HashMap  (id=4475)
		fStatusLineClearer= null
		fTabConverter= null
		fTextContextMenu= Menu  (id=4295)
		fTextInputListener= AbstractTextEditor$TextInputListener  (id=4476)
		fTextListener= AbstractTextEditor$TextListener  (id=4479)
		fTitleImage= Image  (id=4481)
		fVerticalRuler= CompositeRuler  (id=4483)
		fWritableLabel= "Writable"
		imageDescriptor= null
		partName= "mutex.cxx"
		partSite= EditorSite  (id=4488)
		propChangeListeners= ListenerList  (id=4491)
		title= "mutex.cxx"
		titleImage= null
		toolTip= ""
	fFindRefsAction= FindRefsAction  (id=4298)
	fFindRefsInWorkingSetAction= FindRefsInWorkingSetAction  (id=4299)
	fSite= null




Thread [main] (Suspended (exception NullPointerException))
	ReferencesSearchGroup.fillContextMenu(IMenuManager) line: 88
	SelectionSearchGroup.fillContextMenu(IMenuManager) line: 59
	CEditor.editorContextMenuAboutToShow(IMenuManager) line: 771
	AbstractTextEditor$11.menuAboutToShow(IMenuManager) line: 2213
	MenuManager.fireAboutToShow(IMenuManager) line: 285
	MenuManager.handleAboutToShow() line: 372
	MenuManager.access$0(MenuManager) line: 369
	MenuManager$2.menuShown(MenuEvent) line: 386
	TypedListener.handleEvent(Event) line: 117
	EventTable.sendEvent(Event) line: 66
	Menu(Widget).sendEvent(Event) line: 1021
	Menu(Widget).sendEvent(int, Event, boolean) line: 1045
	Menu(Widget).sendEvent(int) line: 1026
	Menu._setVisible(boolean) line: 175
	Display.runPopups() line: 2893
	Display.readAndDispatch() line: 2569
	Workbench.runEventLoop(Window$IExceptionHandler, Display) line: 1699
	Workbench.runUI() line: 1663
	Workbench.createAndRunWorkbench(Display, WorkbenchAdvisor) line: 367
	PlatformUI.createAndRunWorkbench(Display, WorkbenchAdvisor) line: 143
	IDEApplication.run(Object) line: 103
	PlatformActivator$1.run(Object) line: 226
	EclipseStarter.run(Object) line: 376
	EclipseStarter.run(String[], Runnable) line: 163
	NativeMethodAccessorImpl.invoke0(Method, Object, Object[]) line: not available
[native method]
	NativeMethodAccessorImpl.invoke(Object, Object[]) line: 39
	DelegatingMethodAccessorImpl.invoke(Object, Object[]) line: 25
	Method.invoke(Object, Object[]) line: 324
	Main.invokeFramework(String[], URL[]) line: 334
	Main.basicRun(String[]) line: 278
	Main.run(String[]) line: 973
	Main.main(String[]) line: 948
Thanks fix in the head. Please verify
Not able to verify. This happened only once. Glad to see that the exception
stack trace was useful.

Øyvind
(In reply to comment #2)
&gt; Not able to verify.

Done.

&gt; This happened only once. Glad to see that the exception
&gt; stack trace was useful.
&gt;

Yes, Thank you. 
&gt; Øyvind</WithStack>
    <WithOutStack>this= ReferencesSearchGroup  (id=4287)
	actions= null
	context= null
	fEditor= CEditor  (id=4289)
		compatibilityTitleListener= null
		configElement= ConfigurationElementHandle  (id=4349)
		contentDescription= ""
		editorInput= FileEditorInput  (id=4352)
		fActions= HashMap  (id=4356)
		fActivationCodes= ArrayList  (id=4357)
		fActivationCodeTrigger= AbstractTextEditor$ActivationCodeTrigger  (id=4358)
		fActivationListener= AbstractTextEditor$ActivationListener  (id=4362)
		fAnnotationAccess= DefaultMarkerAnnotationAccess  (id=4364)
		fAnnotationPreferences= MarkerAnnotationPreferences  (id=4366)
		fAnnotationRulerColumn= AnnotationRulerColumn  (id=4368)
		fBackgroundColor= null
		fBracketMatcher= CPairMatcher  (id=4372)
		fCEditorErrorTickUpdater= CEditorErrorTickUpdater  (id=4373)
		fChangeRulerColumn= ChangeRulerColumn  (id=4374)
		fColumnLabel= AbstractTextEditor$PositionLabelValue  (id=4377)
		fCompatibilityMode= true
		fConfiguration= CSourceViewerConfiguration  (id=4379)
		fContentActions= ArrayList  (id=4380)
		fCursorListener= AbstractTextEditor$15  (id=4381)
		fDefaultComposite= Composite  (id=4384)
		fDeleteLineTarget= DeleteLineTarget  (id=4385)
		fEditorContextMenuId= "#CEditorContext"
		fEditorSelectionChangedListener= CEditor$EditorSelectionChangedListener  (id=4387)
		fEditorStatusLine= EditorStatusLine  (id=4388)
		fElementStateListener= AbstractTextEditor$ElementStateListener  (id=4390)
		fEncodingSupport= DefaultEncodingSupport  (id=4394)
		fErrorCorrectionOnSave= 0
		fErrorLabel= "?"
		fExplicitDocumentProvider= CDocumentProvider  (id=4397)
		fFindReplaceTarget= FindReplaceTarget  (id=4403)
		fFindScopeHighlightColor= null
		fFoldingGroup= FoldingActionGroup  (id=4408)
		fFont= null
		fFontPropertyChangeListener= AbstractTextEditor$FontPropertyChangeListener 
(id=4409)
		fForegroundColor= null
		fGotoMarkerAdapter= AbstractDecoratedTextEditor$GotoMarkerAdapter  (id=4411)
		fHelpContextId= null
		fImplicitDocumentProvider= TextFileDocumentProvider  (id=4413)
		fIncrementalFindTarget= IncrementalFindTarget  (id=4414)
		fInitialCaret= Caret  (id=4415)
		fInsertMode= ITextEditorExtension3$InsertMode  (id=4345)
		fInsertModeLabel= "Insert"
		fIsChangeInformationShown= true
		fIsOverwriteModeEnabled= true
		fIsOverwriting= false
		fIsSanityCheckEnabled= true
		fIsStateValidationEnabled= false
		fIsUpdatingAnnotationViews= false
		fKeyBindingScopes= String[1]  (id=4418)
		fLastMarkerTarget= null
		fLegalInsertModes= ArrayList  (id=4419)
		fLinearUndoViolationApprover= LinearUndoViolationUserApprover  (id=4420)
		fLineLabel= AbstractTextEditor$PositionLabelValue  (id=4424)
		fLineNumberRulerColumn= null
		fMarkRegionTarget= null
		fMenuListener= AbstractTextEditor$11  (id=4290)
		fModificationStamp= 1102278176000
		fMouseListener= AbstractTextEditor$12  (id=4425)
		fNonDefaultCaret= Caret  (id=4427)
		fNonDefaultCaretImage= null
		fNonLocalOperationApprover= NonLocalUndoUserApprover  (id=4428)
		fOutlinePage= CContentOutlinePage  (id=4430)
		fOutlinerContextMenuId= "#CEditorOutlinerContext"
		fOverviewRuler= OverviewRuler  (id=4432)
		fOverwriteModeLabel= "Overwrite"
		fParent= Composite  (id=4437)
		fPositionLabelPattern= "{0} : {1}"
		fPositionLabelPatternArguments= Object[2]  (id=4439)
		fPreferenceStore= ChainedPreferenceStore  (id=4440)
		fProjectionModelUpdater= DefaultCFoldingStructureProvider  (id=4441)
		fProjectionSupport= ProjectionSupport  (id=4442)
		fPropertyActions= ArrayList  (id=4443)
		fPropertyChangeListener= AbstractTextEditor$PropertyChangeListener  (id=4444)
		fRangeIndicator= DefaultRangeIndicator  (id=4446)
		fReadOnlyLabel= "Read-Only"
		fRefactoringActionGroup= RefactoringActionGroup  (id=4448)
		fRememberedSelection= null
		fRulerContextMenu= Menu  (id=4449)
		fRulerContextMenuId= "#CEditorRulerContext"
		fRulerContextMenuListeners= ArrayList  (id=4451)
		fSelectionActions= ArrayList  (id=4452)
		fSelectionBackgroundColor= null
		fSelectionChangedListener= AbstractTextEditor$13  (id=4453)
		fSelectionForegroundColor= null
		fSelectionListener= AbstractTextEditor$SelectionListener  (id=4455)
		fSelectionProvider= AbstractTextEditor$SelectionProvider  (id=4457)
		fSelectionSearchGroup= SelectionSearchGroup  (id=4288)
		fSelectionUpdateListener= null
		fShowHighlightRangeOnly= false
		fShowInCViewAction= ShowInCViewAction  (id=4460)
		fSmartInsertModeLabel= "Smart Insert"
		fSourceViewer= CSourceViewer  (id=4462)
		fSourceViewerDecorationSupport= SourceViewerDecorationSupport  (id=4472)
		fStackLayout= StackLayout  (id=4473)
		fStateActions= ArrayList  (id=4474)
		fStatusControl= null
		fStatusFields= HashMap  (id=4475)
		fStatusLineClearer= null
		fTabConverter= null
		fTextContextMenu= Menu  (id=4295)
		fTextInputListener= AbstractTextEditor$TextInputListener  (id=4476)
		fTextListener= AbstractTextEditor$TextListener  (id=4479)
		fTitleImage= Image  (id=4481)
		fVerticalRuler= CompositeRuler  (id=4483)
		fWritableLabel= "Writable"
		imageDescriptor= null
		partName= "mutex.cxx"
		partSite= EditorSite  (id=4488)
		propChangeListeners= ListenerList  (id=4491)
		title= "mutex.cxx"
		titleImage= null
		toolTip= ""
	fFindRefsAction= FindRefsAction  (id=4298)
	fFindRefsInWorkingSetAction= FindRefsInWorkingSetAction  (id=4299)
	fSite= null




Thread [main] (Suspended (exception NullPointerException))
	ReferencesSearchGroup.fillContextMenu(IMenuManager) line: 88
	SelectionSearchGroup.fillContextMenu(IMenuManager) line: 59
	CEditor.editorContextMenuAboutToShow(IMenuManager) line: 771
	AbstractTextEditor$11.menuAboutToShow(IMenuManager) line: 2213
	MenuManager.fireAboutToShow(IMenuManager) line: 285
	MenuManager.handleAboutToShow() line: 372
	MenuManager.access$0(MenuManager) line: 369
	MenuManager$2.menuShown(MenuEvent) line: 386
	TypedListener.handleEvent(Event) line: 117
	EventTable.sendEvent(Event) line: 66
	Menu(Widget).sendEvent(Event) line: 1021
	Menu(Widget).sendEvent(int, Event, boolean) line: 1045
	Menu(Widget).sendEvent(int) line: 1026
	Menu._setVisible(boolean) line: 175
	Display.runPopups() line: 2893
	Display.readAndDispatch() line: 2569
	Workbench.runEventLoop(Window$IExceptionHandler, Display) line: 1699
	Workbench.runUI() line: 1663
	Workbench.createAndRunWorkbench(Display, WorkbenchAdvisor) line: 367
	PlatformUI.createAndRunWorkbench(Display, WorkbenchAdvisor) line: 143
	IDEApplication.run(Object) line: 103
	PlatformActivator$1.run(Object) line: 226
	EclipseStarter.run(Object) line: 376
	EclipseStarter.run(String[], Runnable) line: 163
	NativeMethodAccessorImpl.invoke0(Method, Object, Object[]) line: not available
[native method]
	NativeMethodAccessorImpl.invoke(Object, Object[]) line: 39
	DelegatingMethodAccessorImpl.invoke(Object, Object[]) line: 25
	Method.invoke(Object, Object[]) line: 324
	Main.invokeFramework(String[], URL[]) line: 334
	Main.basicRun(String[]) line: 278
	Main.run(String[]) line: 973
	Main.main(String[]) line: 948
Thanks fix in the head. Please verify
Not able to verify. This happened only once. Glad to see that the exception
stack trace was useful.

Øyvind
(In reply to comment #2)
&gt; Not able to verify.

Done.

&gt; This happened only once. Glad to see that the exception
&gt; stack trace was useful.
&gt;

Yes, Thank you. 
&gt; Øyvind</WithOutStack>
  </Bug>
  <Bug>
    <BugId amount="102446" />
    <CreationDate amount="2005-07-01 03:00:00 -0400" />
    <DupId amount="" />
    <classification amount="Eclipse" />
    <Product amount="JDT" />
    <component amount="Debug" />
    <Version amount="3.1" />
    <rep_platform amount="PC" />
    <op_sys amount="Windows XP" />
    <priority amount="P3" />
    <bug_severity amount="normal" />
    <Summery>Intalled JREs preference pages not in synch with help</Summery>
    <Patches amount="0" />
    <Stacktraces amount="0" />
    <SourceCodeRegions amount="0" />
    <Enumerations amount="0" />
    <bug_status amount="VERIFIED" />
    <resolution amount="FIXED" />
    <WithStack>Release Build 3.1

You can managed installed JREs via Window -&gt; Preferences -&gt; Java -&gt; Installed
JREs. In 3.1 the JRE definition editing dialog lost the field "Javadoc URL".
Thus, it's not possible to enter the URL for the Javadoc there. However, the
context help (pressing F1 inside this dialog) brings up a dynamic help topic
"Editing a JRE definition", which still mentions this field.
Maybe the help doesn't need to be updated if bug 89474 will be fixed.
Fix in conjunction with bug 89474.
Fixed in contexts_JDT_debugger.xml.
Please verify, Kevin.
verified</WithStack>
    <WithOutStack>Release Build 3.1

You can managed installed JREs via Window -&gt; Preferences -&gt; Java -&gt; Installed
JREs. In 3.1 the JRE definition editing dialog lost the field "Javadoc URL".
Thus, it's not possible to enter the URL for the Javadoc there. However, the
context help (pressing F1 inside this dialog) brings up a dynamic help topic
"Editing a JRE definition", which still mentions this field.
Maybe the help doesn't need to be updated if bug 89474 will be fixed.
Fix in conjunction with bug 89474.
Fixed in contexts_JDT_debugger.xml.
Please verify, Kevin.
verified</WithOutStack>
  </Bug>
  <Bug>
    <BugId amount="102447" />
    <CreationDate amount="2005-07-01 03:09:00 -0400" />
    <DupId amount="" />
    <classification amount="BIRT" />
    <Product amount="BIRT" />
    <component amount="Report Designer" />
    <Version amount="1.0.1" />
    <rep_platform amount="PC" />
    <op_sys amount="Windows XP" />
    <priority amount="P3" />
    <bug_severity amount="minor" />
    <Summery>parameter can't take some date time to be default in parameter dialog</Summery>
    <Patches amount="0" />
    <Stacktraces amount="0" />
    <SourceCodeRegions amount="0" />
    <Enumerations amount="1">
      <Enumeration lines="3">
        <Lines>
          <Line>1. open attached file</Line>
          <Line>2. edit parameter</Line>
          <Line>3. set some date time to be default</Line>
        </Lines>
      </Enumeration>
    </Enumerations>
    <bug_status amount="RESOLVED" />
    <resolution amount="WONTFIX" />
    <WithStack>Description:
parameter can't take any date time to be default
steps to reproduce:
1. open attached file 
2. edit parameter
3. set some date time to be default 

actual result:
some date time can't set to be default

expected result:
parameter can take any date time to be default
*** Bug 115977 has been marked as a duplicate of this bug. ***
A rare case we can't reproduce now.

What are those date/times that can't set as default?
Cannot reproduce this problem</WithStack>
    <WithOutStack>Description:
parameter can't take any date time to be default
steps to reproduce:
1. open attached file 
2. edit parameter
3. set some date time to be default 

actual result:
some date time can't set to be default

expected result:
parameter can take any date time to be default
*** Bug 115977 has been marked as a duplicate of this bug. ***
A rare case we can't reproduce now.

What are those date/times that can't set as default?
Cannot reproduce this problem</WithOutStack>
  </Bug>
  <Bug>
    <BugId amount="102448" />
    <CreationDate amount="2005-07-01 03:38:00 -0400" />
    <DupId amount="" />
    <classification amount="WebTools" />
    <Product amount="WTP Source Editing" />
    <component amount="wst.html" />
    <Version amount="unspecified" />
    <rep_platform amount="PC" />
    <op_sys amount="Windows XP" />
    <priority amount="P3" />
    <bug_severity amount="normal" />
    <Summery>Access input element with JavaScript</Summery>
    <Patches amount="0" />
    <Stacktraces amount="0" />
    <SourceCodeRegions amount="2">
      <source_code type="functiondef">
        <location start="666" end="724" />
        <code>So sorry. My mistake. In block with (document.frm_name) {}</code>
      </source_code>
      <source_code type="functiondef">
        <location start="990" end="1050" />
        <code>&gt; So sorry. My mistake. In block with (document.frm_name) {}</code>
      </source_code>
    </SourceCodeRegions>
    <Enumerations amount="0" />
    <bug_status amount="CLOSED" />
    <resolution amount="FIXED" />
    <WithStack>Hello,
I try write html page with form and inputs. In javascript block I write.
...
document.frm_name.inp_name.       
...
In version M4(eclipse M6) I get list of input properties, but in M5(eclipse 
3.1) nothing.
Maybe it's my mistake in some settings or some other.
Thanks for your time.
Cheers
Georg Black.
Georg, can you attach a small sample document that exhibits the change in behavior?

Amy, can you take a preliminary look to narrow down the origin of the change in
behavior?

Created attachment 24315
javascript

forms elements access example
(In reply to comment #2)
&gt; Created an attachment (id=24315) [edit]
&gt; javascript
&gt; forms elements access example

So sorry. My mistake. In block with (document.frm_name) {} it work correct.

Only phrase 'document.frm_name.' doesn't show inputs in form properties list
(both versions).

(In reply to comment #3)
&gt; (In reply to comment #2)
&gt; &gt; Created an attachment (id=24315) [edit] [edit]
&gt; &gt; javascript
&gt; &gt; forms elements access example
&gt; So sorry. My mistake. In block with (document.frm_name) {} it work correct.
&gt; Only phrase 'document.frm_name.' doesn't show inputs in form properties list
&gt; (both versions).

Uf, I feel like an idiot. I know that this didn't work correctly and here is 
the result. If is character '_' (inp_1) in the input name  then list of input 
properties doesn't show.(block with (document.frm_name)).

I mean that this character is allowed there.
So sorry for my previous mistakes.
Created attachment 24508
org.eclipse.wst.javascript.ui.patch

The fix is actually a 1-line fix in
JavaScriptContentAssistProcessor#getExistingString.

It basically boiled down to a place where code was parsing through the name and
it was checking if each character was isLetterOrDigit and it did not like the
'_'  The fix is to check if each character is isJavaIdentifierPart.
thanks georg, for catching the '_' issue.  It made finding the bug easier.

reassigning to david to apply patch.
George and Amy, thanks to you both for tracking down this bothersome bug. 
Patch applied, released for I-builds &gt; I 7/10. 

Patch applied, released for I-builds &gt; I 7/10. 
(In reply to comment #8)
&gt; Patch applied, released for I-builds &gt; I 7/10. 

I try it on I 7/11 version and it's OK.
My thanks for your time and work.
Gerog Black
Georg's comment #9 verified this bug was fixed.
marking as verified/closed</WithStack>
    <WithOutStack>Hello,
I try write html page with form and inputs. In javascript block I write.
...
document.frm_name.inp_name.       
...
In version M4(eclipse M6) I get list of input properties, but in M5(eclipse 
3.1) nothing.
Maybe it's my mistake in some settings or some other.
Thanks for your time.
Cheers
Georg Black.
Georg, can you attach a small sample document that exhibits the change in behavior?

Amy, can you take a preliminary look to narrow down the origin of the change in
behavior?

Created attachment 24315
javascript

forms elements access example
(In reply to comment #2)
&gt; Created an attachment (id=24315) [edit]
&gt; javascript
&gt; forms elements access example

So sorry. My mistake. In block with (document.frm_name) {} it work correct.

Only phrase 'document.frm_name.' doesn't show inputs in form properties list
(both versions).

(In reply to comment #3)
&gt; (In reply to comment #2)
&gt; &gt; Created an attachment (id=24315) [edit] [edit]
&gt; &gt; javascript
&gt; &gt; forms elements access example
&gt; So sorry. My mistake. In block with (document.frm_name) {} it work correct.
&gt; Only phrase 'document.frm_name.' doesn't show inputs in form properties list
&gt; (both versions).

Uf, I feel like an idiot. I know that this didn't work correctly and here is 
the result. If is character '_' (inp_1) in the input name  then list of input 
properties doesn't show.(block with (document.frm_name)).

I mean that this character is allowed there.
So sorry for my previous mistakes.
Created attachment 24508
org.eclipse.wst.javascript.ui.patch

The fix is actually a 1-line fix in
JavaScriptContentAssistProcessor#getExistingString.

It basically boiled down to a place where code was parsing through the name and
it was checking if each character was isLetterOrDigit and it did not like the
'_'  The fix is to check if each character is isJavaIdentifierPart.
thanks georg, for catching the '_' issue.  It made finding the bug easier.

reassigning to david to apply patch.
George and Amy, thanks to you both for tracking down this bothersome bug. 
Patch applied, released for I-builds &gt; I 7/10. 

Patch applied, released for I-builds &gt; I 7/10. 
(In reply to comment #8)
&gt; Patch applied, released for I-builds &gt; I 7/10. 

I try it on I 7/11 version and it's OK.
My thanks for your time and work.
Gerog Black
Georg's comment #9 verified this bug was fixed.
marking as verified/closed</WithOutStack>
  </Bug>
  <Bug>
    <BugId amount="102449" />
    <CreationDate amount="2005-07-01 04:13:00 -0400" />
    <DupId amount="" />
    <classification amount="WebTools" />
    <Product amount="WTP Java EE Tools" />
    <component amount="jst.j2ee" />
    <Version amount="0.7" />
    <rep_platform amount="PC" />
    <op_sys amount="Windows XP" />
    <priority amount="P2" />
    <bug_severity amount="normal" />
    <Summery>Improve usability of Java Jar Dependencies property page</Summery>
    <Patches amount="0" />
    <Stacktraces amount="0" />
    <SourceCodeRegions amount="0" />
    <Enumerations amount="1">
      <Enumeration lines="27">
        <Lines>
          <Line>1) The current design hides controls in the layout depending on the kind of</Line>
          <Line>module selected.  This leaves unsightly gaps that don't make any sense--can we</Line>
          <Line>just not create the Controls for that case?  Is this why the project selection</Line>
          <Line>table sometimes has a large gap from what looks like its label</Line>
          <Line>(http://www.eclipse.org/webtools/jst/components/j2ee/M5/news/images/WLPSettingStandaloneWeb.jpg)?</Line>
          <Line />
          <Line />
          <Line>2) The page uses the term "Web Library Project" and that might be an</Line>
          <Line>company-specific term.  If the J2EE specifications don't mention anything by</Line>
          <Line>that name, we should refer to them in Eclipse terms, i.e. Java project instead</Line>
          <Line>of WLP.</Line>
          <Line />
          <Line>3) The project selection table and associated buttons should be disabled if no</Line>
          <Line>valid projects are in the workspace--or better yet, link to a way to define them</Line>
          <Line>on the spot.</Line>
          <Line />
          <Line>4) The "References to EJB JARs with EJB Client JARs" group should have "Use</Line>
          <Line>both" as an option instead of "Allow both" since the other two options lead with</Line>
          <Line>the ver "Use", although it might be better off as two checkboxes instead of</Line>
          <Line>three radio buttons.</Line>
          <Line>deferring to M8</Line>
          <Line>We have improved the usability of this J2EE Dependencies in all. These fixes</Line>
          <Line>should be available in 08/12 integration build. We have taken care of items 1</Line>
          <Line>and 3 and have not considered 2 and 4 as we think that the existing naming is</Line>
          <Line>right and valid.</Line>
          <Line>I agree with you on #4 but I'm still not sure about #2.</Line>
          <Line>Closing</Line>
        </Lines>
      </Enumeration>
    </Enumerations>
    <bug_status amount="CLOSED" />
    <resolution amount="FIXED" />
    <WithStack>1) The current design hides controls in the layout depending on the kind of
module selected.  This leaves unsightly gaps that don't make any sense--can we
just not create the Controls for that case?  Is this why the project selection
table sometimes has a large gap from what looks like its label
(http://www.eclipse.org/webtools/jst/components/j2ee/M5/news/images/WLPSettingStandaloneWeb.jpg)?


2) The page uses the term "Web Library Project" and that might be an
company-specific term.  If the J2EE specifications don't mention anything by
that name, we should refer to them in Eclipse terms, i.e. Java project instead
of WLP.

3) The project selection table and associated buttons should be disabled if no
valid projects are in the workspace--or better yet, link to a way to define them
on the spot.

4) The "References to EJB JARs with EJB Client JARs" group should have "Use
both" as an option instead of "Allow both" since the other two options lead with
the ver "Use", although it might be better off as two checkboxes instead of
three radio buttons.
deferring to M8
We have improved the usability of this J2EE Dependencies in all. These fixes
should be available in 08/12 integration build. We have taken care of items 1
and 3 and have not considered 2 and 4 as we think that the existing naming is
right and valid.
I agree with you on #4 but I'm still not sure about #2.
Closing</WithStack>
    <WithOutStack>1) The current design hides controls in the layout depending on the kind of
module selected.  This leaves unsightly gaps that don't make any sense--can we
just not create the Controls for that case?  Is this why the project selection
table sometimes has a large gap from what looks like its label
(http://www.eclipse.org/webtools/jst/components/j2ee/M5/news/images/WLPSettingStandaloneWeb.jpg)?


2) The page uses the term "Web Library Project" and that might be an
company-specific term.  If the J2EE specifications don't mention anything by
that name, we should refer to them in Eclipse terms, i.e. Java project instead
of WLP.

3) The project selection table and associated buttons should be disabled if no
valid projects are in the workspace--or better yet, link to a way to define them
on the spot.

4) The "References to EJB JARs with EJB Client JARs" group should have "Use
both" as an option instead of "Allow both" since the other two options lead with
the ver "Use", although it might be better off as two checkboxes instead of
three radio buttons.
deferring to M8
We have improved the usability of this J2EE Dependencies in all. These fixes
should be available in 08/12 integration build. We have taken care of items 1
and 3 and have not considered 2 and 4 as we think that the existing naming is
right and valid.
I agree with you on #4 but I'm still not sure about #2.
Closing</WithOutStack>
  </Bug>
  <Bug>
    <BugId amount="102450" />
    <CreationDate amount="2005-07-01 04:32:00 -0400" />
    <DupId amount="" />
    <classification amount="WebTools" />
    <Product amount="WTP ServerTools" />
    <component amount="wst.server" />
    <Version amount="0.7" />
    <rep_platform amount="PC" />
    <op_sys amount="Windows 2000" />
    <priority amount="P4" />
    <bug_severity amount="enhancement" />
    <Summery>Create new server wizzard should allow to edit server name</Summery>
    <Patches amount="0" />
    <Stacktraces amount="0" />
    <SourceCodeRegions amount="0" />
    <Enumerations amount="0" />
    <bug_status amount="CLOSED" />
    <resolution amount="FIXED" />
    <WithStack>If a server is created with the new server wizzard it always gets the default
name. There should be a way to edit the name of a specific server instance at
creation time.

Workaround: in the server view, choose open and then edit the server name.
*** Bug 150903 has been marked as a duplicate of this bug. ***
I also find it more intuitive to allow users to edit the server name in the server creation wizard. I like the current wizard will assign a default value for the user but having the ability for the user to change the name will be very convenient.  This change will also make it to become consistent with other resource creation wizard since other wizards do allow user to change the resource name during resource creation.
Targeting for 3.0 M2. The UI will allow you to edit the server name after the host  name and server type selection (since these drive the default name) and provide an option to revert to the default name once users have made a change.
Change released to 3.0 M2 builds.
Verified, closing.
Excuse me, i just tried few moments ago the 3.0M4 build, but the wizard is not yet working correctly.

I just tried the JBoss server creation and i see the following behavior.

The server name in the server creation wizard is initialized with &lt;serverType&gt; name attribute, within &lt;extension point="org.eclipse.wst.server.core.serverTypes"&gt;, joined with "at &lt;host name&gt;".

Then if i override that value and press the finish button the servers are created with name equal to the text box content.

But if i ever press next button to get the panel where i can alter the server address, port, etc. from that moment on, until i close and restart eclipse, no matter how i overwrite the name in the wizard, anything i can enter is always ignored and the server name of the created server is ALWAYS the value in the "name" attribute in &lt;tns:ServerRuntime/&gt; tag in the serverdef file.

If i need to create a server with different name from default one i still have to change it after server creation.
Anybody that cares to comment?

Pls reopen, the wizard is not yet working.
Gabriele - In a case like this where the original bug was closed long ago, you can open a new bug to make sure the issue can be tracked. FYI, I've released a fix to M5 builds.

FYI to Gorkem, I've released a one line fix to generic.server.ui.</WithStack>
    <WithOutStack>If a server is created with the new server wizzard it always gets the default
name. There should be a way to edit the name of a specific server instance at
creation time.

Workaround: in the server view, choose open and then edit the server name.
*** Bug 150903 has been marked as a duplicate of this bug. ***
I also find it more intuitive to allow users to edit the server name in the server creation wizard. I like the current wizard will assign a default value for the user but having the ability for the user to change the name will be very convenient.  This change will also make it to become consistent with other resource creation wizard since other wizards do allow user to change the resource name during resource creation.
Targeting for 3.0 M2. The UI will allow you to edit the server name after the host  name and server type selection (since these drive the default name) and provide an option to revert to the default name once users have made a change.
Change released to 3.0 M2 builds.
Verified, closing.
Excuse me, i just tried few moments ago the 3.0M4 build, but the wizard is not yet working correctly.

I just tried the JBoss server creation and i see the following behavior.

The server name in the server creation wizard is initialized with &lt;serverType&gt; name attribute, within &lt;extension point="org.eclipse.wst.server.core.serverTypes"&gt;, joined with "at &lt;host name&gt;".

Then if i override that value and press the finish button the servers are created with name equal to the text box content.

But if i ever press next button to get the panel where i can alter the server address, port, etc. from that moment on, until i close and restart eclipse, no matter how i overwrite the name in the wizard, anything i can enter is always ignored and the server name of the created server is ALWAYS the value in the "name" attribute in &lt;tns:ServerRuntime/&gt; tag in the serverdef file.

If i need to create a server with different name from default one i still have to change it after server creation.
Anybody that cares to comment?

Pls reopen, the wizard is not yet working.
Gabriele - In a case like this where the original bug was closed long ago, you can open a new bug to make sure the issue can be tracked. FYI, I've released a fix to M5 builds.

FYI to Gorkem, I've released a one line fix to generic.server.ui.</WithOutStack>
  </Bug>
  <Bug>
    <BugId amount="102451" />
    <CreationDate amount="2005-07-01 04:40:00 -0400" />
    <DupId amount="" />
    <classification amount="WebTools" />
    <Product amount="WTP Source Editing" />
    <component amount="wst.xml" />
    <Version amount="0.7" />
    <rep_platform amount="PC" />
    <op_sys amount="Windows XP" />
    <priority amount="P3" />
    <bug_severity amount="major" />
    <Summery>XML Source Page Editor got lost</Summery>
    <Patches amount="0" />
    <Stacktraces amount="1">
      <Stacktrace timestamp="1437330551748">
        <Exception>org.eclipse.ui.PartInitException</Exception>
        <Reason>No editor descriptor for id
org.eclipse.core.runtime.xml.source</Reason>
        <Frames>
          <Frame depth="0">org.eclipse.ui.internal.EditorReference.createPartHelper(EditorReference.java:534)</Frame>
          <Frame depth="1">org.eclipse.ui.internal.EditorReference.createPart(EditorReference.java:365)</Frame>
          <Frame depth="2">org.eclipse.ui.internal.WorkbenchPartReference.getPart(WorkbenchPartReference.java:552)</Frame>
          <Frame depth="3">org.eclipse.ui.internal.PartPane.setVisible(PartPane.java:283)</Frame>
          <Frame depth="4">org.eclipse.ui.internal.presentations.PresentablePart.setVisible(PresentablePart.java:126)</Frame>
          <Frame depth="5">org.eclipse.ui.internal.presentations.util.PresentablePartFolder.select(PresentablePartFolder.java:268)</Frame>
          <Frame depth="6">org.eclipse.ui.internal.presentations.util.LeftToRightTabOrder.select(LeftToRightTabOrder.java:65)</Frame>
          <Frame depth="7">org.eclipse.ui.internal.presentations.util.TabbedStackPresentation.selectPart(TabbedStackPresentation.java:391)</Frame>
          <Frame depth="8">org.eclipse.ui.internal.PartStack.refreshPresentationSelection(PartStack.java:1102)</Frame>
          <Frame depth="9">org.eclipse.ui.internal.PartStack.setSelection(PartStack.java:1051)</Frame>
          <Frame depth="10">org.eclipse.ui.internal.PartStack.presentationSelectionChanged(PartStack.java:785)</Frame>
          <Frame depth="11">org.eclipse.ui.internal.PartStack.access$0(PartStack.java:771)</Frame>
          <Frame depth="12">org.eclipse.ui.internal.PartStack$1.selectPart(PartStack.java:119)</Frame>
          <Frame depth="13">org.eclipse.ui.internal.presentations.util.TabbedStackPresentation$1.handleEvent(TabbedStackPresentation.java:126)</Frame>
          <Frame depth="14">org.eclipse.ui.internal.presentations.util.AbstractTabFolder.fireEvent(AbstractTabFolder.java:267)</Frame>
          <Frame depth="15">org.eclipse.ui.internal.presentations.util.AbstractTabFolder.fireEvent(AbstractTabFolder.java:276)</Frame>
          <Frame depth="16">org.eclipse.ui.internal.presentations.defaultpresentation.DefaultTabFolder.access$1(DefaultTabFolder.java:1)</Frame>
          <Frame depth="17">org.eclipse.ui.internal.presentations.defaultpresentation.DefaultTabFolder$2.handleEvent(DefaultTabFolder.java:84)</Frame>
          <Frame depth="18">org.eclipse.swt.widgets.EventTable.sendEvent(EventTable.java:66)</Frame>
          <Frame depth="19">org.eclipse.swt.widgets.Widget.sendEvent(Widget.java:843)</Frame>
          <Frame depth="20">org.eclipse.swt.widgets.Widget.sendEvent(Widget.java:867)</Frame>
          <Frame depth="21">org.eclipse.swt.widgets.Widget.sendEvent(Widget.java:852)</Frame>
          <Frame depth="22">org.eclipse.swt.widgets.Widget.notifyListeners(Widget.java:660)</Frame>
          <Frame depth="23">org.eclipse.swt.custom.CTabFolder.setSelection(CTabFolder.java:3138)</Frame>
          <Frame depth="24">org.eclipse.swt.custom.CTabFolder.onMouse(CTabFolder.java:1922)</Frame>
          <Frame depth="25">org.eclipse.swt.custom.CTabFolder$1.handleEvent(CTabFolder.java:288)</Frame>
          <Frame depth="26">org.eclipse.swt.widgets.EventTable.sendEvent(EventTable.java:66)</Frame>
          <Frame depth="27">org.eclipse.swt.widgets.Widget.sendEvent(Widget.java:843)</Frame>
          <Frame depth="28">org.eclipse.swt.widgets.Display.runDeferredEvents(Display.java:3080)</Frame>
          <Frame depth="29">org.eclipse.swt.widgets.Display.readAndDispatch(Display.java:2713)</Frame>
          <Frame depth="30">org.eclipse.ui.internal.Workbench.runEventLoop(Workbench.java:1699)</Frame>
          <Frame depth="31">org.eclipse.ui.internal.Workbench.runUI(Workbench.java:1663)</Frame>
          <Frame depth="32">org.eclipse.ui.internal.Workbench.createAndRunWorkbench(Workbench.java:367)</Frame>
          <Frame depth="33">org.eclipse.ui.PlatformUI.createAndRunWorkbench(PlatformUI.java:143)</Frame>
          <Frame depth="34">org.eclipse.ui.internal.ide.IDEApplication.run(IDEApplication.java:103)</Frame>
          <Frame depth="35">org.eclipse.core.internal.runtime.PlatformActivator$1.run(PlatformActivator.java:226)</Frame>
          <Frame depth="36">org.eclipse.core.runtime.adaptor.EclipseStarter.run(EclipseStarter.java:376)</Frame>
          <Frame depth="37">org.eclipse.core.runtime.adaptor.EclipseStarter.run(EclipseStarter.java:163)</Frame>
          <Frame depth="38">sun.reflect.NativeMethodAccessorImpl.invoke0(Native Method)</Frame>
          <Frame depth="39">sun.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:39)</Frame>
          <Frame depth="40">sun.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:25)</Frame>
          <Frame depth="41">java.lang.reflect.Method.invoke(Method.java:585)</Frame>
          <Frame depth="42">org.eclipse.core.launcher.Main.invokeFramework(Main.java:334)</Frame>
          <Frame depth="43">org.eclipse.core.launcher.Main.basicRun(Main.java:278)</Frame>
          <Frame depth="44">org.eclipse.core.launcher.Main.run(Main.java:973)</Frame>
          <Frame depth="45">org.eclipse.core.launcher.Main.main(Main.java:948)</Frame>
        </Frames>
      </Stacktrace>
    </Stacktraces>
    <SourceCodeRegions amount="0" />
    <Enumerations amount="0" />
    <bug_status amount="CLOSED" />
    <resolution amount="WONTFIX" />
    <WithStack>I installed everything (but for Windows) from
http://download.eclipse.org/webtools/downloads/drops/S-1.0M5-200506302219/

and now the XML Source Page Editor is missing.

I had an project with open XML editors which have now a small red square in the tab.
Using "Open with ..." doesn't help either.

The error log says:

Error 2005-07-01 10:28:40.130 Unable to create editor ID
org.eclipse.core.runtime.xml.source: No editor descriptor for id
org.eclipse.core.runtime.xml.source
org.eclipse.ui.PartInitException: No editor descriptor for id
org.eclipse.core.runtime.xml.source
at
org.eclipse.ui.internal.EditorReference.createPartHelper(EditorReference.java:534)
at org.eclipse.ui.internal.EditorReference.createPart(EditorReference.java:365)
at
org.eclipse.ui.internal.WorkbenchPartReference.getPart(WorkbenchPartReference.java:552)
at org.eclipse.ui.internal.PartPane.setVisible(PartPane.java:283)
at
org.eclipse.ui.internal.presentations.PresentablePart.setVisible(PresentablePart.java:126)
at
org.eclipse.ui.internal.presentations.util.PresentablePartFolder.select(PresentablePartFolder.java:268)
at
org.eclipse.ui.internal.presentations.util.LeftToRightTabOrder.select(LeftToRightTabOrder.java:65)
at
org.eclipse.ui.internal.presentations.util.TabbedStackPresentation.selectPart(TabbedStackPresentation.java:391)
at
org.eclipse.ui.internal.PartStack.refreshPresentationSelection(PartStack.java:1102)
at org.eclipse.ui.internal.PartStack.setSelection(PartStack.java:1051)
at
org.eclipse.ui.internal.PartStack.presentationSelectionChanged(PartStack.java:785)
at org.eclipse.ui.internal.PartStack.access$0(PartStack.java:771)
at org.eclipse.ui.internal.PartStack$1.selectPart(PartStack.java:119)
at
org.eclipse.ui.internal.presentations.util.TabbedStackPresentation$1.handleEvent(TabbedStackPresentation.java:126)
at
org.eclipse.ui.internal.presentations.util.AbstractTabFolder.fireEvent(AbstractTabFolder.java:267)
at
org.eclipse.ui.internal.presentations.util.AbstractTabFolder.fireEvent(AbstractTabFolder.java:276)
at
org.eclipse.ui.internal.presentations.defaultpresentation.DefaultTabFolder.access$1(DefaultTabFolder.java:1)
at
org.eclipse.ui.internal.presentations.defaultpresentation.DefaultTabFolder$2.handleEvent(DefaultTabFolder.java:84)
at org.eclipse.swt.widgets.EventTable.sendEvent(EventTable.java:66)
at org.eclipse.swt.widgets.Widget.sendEvent(Widget.java:843)
at org.eclipse.swt.widgets.Widget.sendEvent(Widget.java:867)
at org.eclipse.swt.widgets.Widget.sendEvent(Widget.java:852)
at org.eclipse.swt.widgets.Widget.notifyListeners(Widget.java:660)
at org.eclipse.swt.custom.CTabFolder.setSelection(CTabFolder.java:3138)
at org.eclipse.swt.custom.CTabFolder.onMouse(CTabFolder.java:1922)
at org.eclipse.swt.custom.CTabFolder$1.handleEvent(CTabFolder.java:288)
at org.eclipse.swt.widgets.EventTable.sendEvent(EventTable.java:66)
at org.eclipse.swt.widgets.Widget.sendEvent(Widget.java:843)
at org.eclipse.swt.widgets.Display.runDeferredEvents(Display.java:3080)
at org.eclipse.swt.widgets.Display.readAndDispatch(Display.java:2713)
at org.eclipse.ui.internal.Workbench.runEventLoop(Workbench.java:1699)
at org.eclipse.ui.internal.Workbench.runUI(Workbench.java:1663)
at org.eclipse.ui.internal.Workbench.createAndRunWorkbench(Workbench.java:367)
at org.eclipse.ui.PlatformUI.createAndRunWorkbench(PlatformUI.java:143)
at org.eclipse.ui.internal.ide.IDEApplication.run(IDEApplication.java:103)
at
org.eclipse.core.internal.runtime.PlatformActivator$1.run(PlatformActivator.java:226)
at org.eclipse.core.runtime.adaptor.EclipseStarter.run(EclipseStarter.java:376)
at org.eclipse.core.runtime.adaptor.EclipseStarter.run(EclipseStarter.java:163)
at sun.reflect.NativeMethodAccessorImpl.invoke0(Native Method)
at sun.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:39)
at
sun.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:25)
at java.lang.reflect.Method.invoke(Method.java:585)
at org.eclipse.core.launcher.Main.invokeFramework(Main.java:334)
at org.eclipse.core.launcher.Main.basicRun(Main.java:278)
at org.eclipse.core.launcher.Main.run(Main.java:973)
at org.eclipse.core.launcher.Main.main(Main.java:948)
Greatest apologies. It is still there, but we did not leave propoer "migration"
for people who would have had editors open. In bug 96170 we were asked to reduce
"clutter" by providing only the 2 page XML Editor. The source page of that
editor *should* be exactly the same as the XML Source Editor you used before. In
that editor, it always remembers the last page you were on, you should only ever
see the source editor, and never know that tree view was there. 

The idea was that we would leave it this way (just one) in the interest of
reducing the complexity of the "Open with ... " menu under the assumption that
1) there'd be no adverse impacts, such as for performance or loss of function,
and 2) there would not be some other community outcry that for some reason they
did not like it that way. So, will have to re-open your documents with the XML
Editor, and once you go the the source page, you should have the same experience
you had before. If that's not the case ... feel free to let us know and/or
re-open this or another bug. 

I'm marking as "won't fix", just because its "working as designed", but you at
least pointed out our mistake of not providing correct "migration" for IDs that
would have been stored in workspace already. We'll have to learn to do that
better, but have no plans to change M5. 
I like your approach much better than the previous version.

I didn't notice the tabs to choose between tree and source view before reading
your post and all editors opend in the tree view.
Hence I thought that the source page editor was not "registered" anymore.

I would appreciate a preference setting to be able to det the default editor mode.
Marking as verified as I know this issue is fixed (or correctly categorized).
If, as originator, you disagree or still see, please re-open, or open a new bug. 

Thanks very much for reporting and helping make WTP better. 

Closing</WithStack>
    <WithOutStack>I installed everything (but for Windows) from
http://download.eclipse.org/webtools/downloads/drops/S-1.0M5-200506302219/

and now the XML Source Page Editor is missing.

I had an project with open XML editors which have now a small red square in the tab.
Using "Open with ..." doesn't help either.

The error log says:

Error 2005-07-01 10:28:40.130 Unable to create editor ID
org.eclipse.core.runtime.xml.source: No editor descriptor for id
org.eclipse.core.runtime.xml.source

Greatest apologies. It is still there, but we did not leave propoer "migration"
for people who would have had editors open. In bug 96170 we were asked to reduce
"clutter" by providing only the 2 page XML Editor. The source page of that
editor *should* be exactly the same as the XML Source Editor you used before. In
that editor, it always remembers the last page you were on, you should only ever
see the source editor, and never know that tree view was there. 

The idea was that we would leave it this way (just one) in the interest of
reducing the complexity of the "Open with ... " menu under the assumption that
1) there'd be no adverse impacts, such as for performance or loss of function,
and 2) there would not be some other community outcry that for some reason they
did not like it that way. So, will have to re-open your documents with the XML
Editor, and once you go the the source page, you should have the same experience
you had before. If that's not the case ... feel free to let us know and/or
re-open this or another bug. 

I'm marking as "won't fix", just because its "working as designed", but you at
least pointed out our mistake of not providing correct "migration" for IDs that
would have been stored in workspace already. We'll have to learn to do that
better, but have no plans to change M5. 
I like your approach much better than the previous version.

I didn't notice the tabs to choose between tree and source view before reading
your post and all editors opend in the tree view.
Hence I thought that the source page editor was not "registered" anymore.

I would appreciate a preference setting to be able to det the default editor mode.
Marking as verified as I know this issue is fixed (or correctly categorized).
If, as originator, you disagree or still see, please re-open, or open a new bug. 

Thanks very much for reporting and helping make WTP better. 

Closing</WithOutStack>
  </Bug>
  <Bug>
    <BugId amount="102452" />
    <CreationDate amount="2005-07-01 04:55:00 -0400" />
    <DupId amount="17523" />
    <classification amount="Eclipse" />
    <Product amount="Platform" />
    <component amount="Resources" />
    <Version amount="3.1" />
    <rep_platform amount="PC" />
    <op_sys amount="Linux" />
    <priority amount="P3" />
    <bug_severity amount="major" />
    <Summery>import existing project into workspace: copy project to workspace</Summery>
    <Patches amount="0" />
    <Stacktraces amount="0" />
    <SourceCodeRegions amount="0" />
    <Enumerations amount="0" />
    <bug_status amount="RESOLVED" />
    <resolution amount="DUPLICATE" />
    <WithStack>i'm not sure whether this is a bug or a wishlist item.
importing existing project into worspace does not copy the project to the workspace -- a 
doubtful default imho, the number of people wishing to edit a project outside may be 
equal to the number wishing to have the project copied inside.

however, there seems to be no way to get a project from outside into the workspace: 
import does not copy to workspace and if one copies the project into the workspace-
folder before import is impossible:
"invalid project description"
"$projectpath overlaps the workspace location: $workspace"

how do i get an existing project into the workspace?
i make it major -- maybe somebody feels obliged to react then.
i just stumbled over this bug again and it drives me really nuts -- imho it's a bug, a very grave 
bug actually.
what's so hard in leaving the decision where the source should reside to the user and adding a 
simple checkbox?
Copy your project directory and then import it in your workspace is the correct
way to do it. I use it quite often and do not doubt that this functionality
works properly. There's surely something wrong or broken in your configuration.
Can you import this project without copying it?
Which version of eclipse are you using?
May you attach your .project file to this bug?

I have the same problem: I got a project as zip, unzipped it into the workspace
and tried to import it.

Invalid project description.
  D:\eclipseworkspace\Myproject overlaps the workspace location: D:\eclipseworkspace

I compared the .project with another one, it looks ok.
I moved the project to d:\temp and imported it from there, it works now. But
this workaround is not perfect, as the project content is not where I want it to
have but in the temp folder.

Moving to Platform Resources for comments.
(In reply to comment #4)
&gt; I moved the project to d:\temp and imported it from there, it works now. But
&gt; this workaround is not perfect, as the project content is not where I want it to
&gt; have but in the temp folder.
&gt; 

I have this same issue.  The problem seems to be confused at some points in this
discussion.  

The issue is not that the "Import" fails (not as I understand it anyway) - but
rather than the "Import" works but does not do an import.  Rather after the
import the project shows up in the IDE as a project, but the files on the file
system are not within the "workspace" - the files are simply in the same
location as specified in the import. 

Import should import.

The current import (using 3.1) really is just an alias to some files OUTSIDE of
the workspace (will not allow an import of files on the same path as the
workspace).  

Maybe there should be an option, make an alias to files where they are, or
actually import them into the workspace (copy them).


Workspace and workspace location are different things.

The default location for a project in the workspace is under the workspace
location, but they can be anywhere in your file system. Regardless their
location, all projects have the same status and are handled the same way by
Eclipse. "Importing" an external project into your workspace has a different
meaning from importing folders and files from the file system into a project.
The second will actually copy files and folders. The first adds the project to
the workspace, making Eclipse aware of its existence. You have to do that even
if the external project is located under your workspace location (Eclipse will
*not* automatically add those).

Regarding your use case: after importing the external project, if you want it to
be located under the workspace, just select the project, right click on it and
select "Refactor &gt; Move..." (or only "Move..." on the resource navigator). Check
the "Use default location" check box and confirm, and its contents will be moved
(not copied) from the non-default location to the default location (under the
workspace location).
imo anybody ingenously using the "import project to workspace"-feature expects the whole 
project to reside in the ws afterwards, not just the meta-informations.
default should by all means be to move both the meta-infos and the project's data into the ws.
the meaning of having a ws is obviously to have all stuff at one place not distributed over 
several places -- so following that it's clear importing a project to the ws should move the 
whole stuff there. 


*** This bug has been marked as a duplicate of 17523 ***</WithStack>
    <WithOutStack>i'm not sure whether this is a bug or a wishlist item.
importing existing project into worspace does not copy the project to the workspace -- a 
doubtful default imho, the number of people wishing to edit a project outside may be 
equal to the number wishing to have the project copied inside.

however, there seems to be no way to get a project from outside into the workspace: 
import does not copy to workspace and if one copies the project into the workspace-
folder before import is impossible:
"invalid project description"
"$projectpath overlaps the workspace location: $workspace"

how do i get an existing project into the workspace?
i make it major -- maybe somebody feels obliged to react then.
i just stumbled over this bug again and it drives me really nuts -- imho it's a bug, a very grave 
bug actually.
what's so hard in leaving the decision where the source should reside to the user and adding a 
simple checkbox?
Copy your project directory and then import it in your workspace is the correct
way to do it. I use it quite often and do not doubt that this functionality
works properly. There's surely something wrong or broken in your configuration.
Can you import this project without copying it?
Which version of eclipse are you using?
May you attach your .project file to this bug?

I have the same problem: I got a project as zip, unzipped it into the workspace
and tried to import it.

Invalid project description.
  D:\eclipseworkspace\Myproject overlaps the workspace location: D:\eclipseworkspace

I compared the .project with another one, it looks ok.
I moved the project to d:\temp and imported it from there, it works now. But
this workaround is not perfect, as the project content is not where I want it to
have but in the temp folder.

Moving to Platform Resources for comments.
(In reply to comment #4)
&gt; I moved the project to d:\temp and imported it from there, it works now. But
&gt; this workaround is not perfect, as the project content is not where I want it to
&gt; have but in the temp folder.
&gt; 

I have this same issue.  The problem seems to be confused at some points in this
discussion.  

The issue is not that the "Import" fails (not as I understand it anyway) - but
rather than the "Import" works but does not do an import.  Rather after the
import the project shows up in the IDE as a project, but the files on the file
system are not within the "workspace" - the files are simply in the same
location as specified in the import. 

Import should import.

The current import (using 3.1) really is just an alias to some files OUTSIDE of
the workspace (will not allow an import of files on the same path as the
workspace).  

Maybe there should be an option, make an alias to files where they are, or
actually import them into the workspace (copy them).


Workspace and workspace location are different things.

The default location for a project in the workspace is under the workspace
location, but they can be anywhere in your file system. Regardless their
location, all projects have the same status and are handled the same way by
Eclipse. "Importing" an external project into your workspace has a different
meaning from importing folders and files from the file system into a project.
The second will actually copy files and folders. The first adds the project to
the workspace, making Eclipse aware of its existence. You have to do that even
if the external project is located under your workspace location (Eclipse will
*not* automatically add those).

Regarding your use case: after importing the external project, if you want it to
be located under the workspace, just select the project, right click on it and
select "Refactor &gt; Move..." (or only "Move..." on the resource navigator). Check
the "Use default location" check box and confirm, and its contents will be moved
(not copied) from the non-default location to the default location (under the
workspace location).
imo anybody ingenously using the "import project to workspace"-feature expects the whole 
project to reside in the ws afterwards, not just the meta-informations.
default should by all means be to move both the meta-infos and the project's data into the ws.
the meaning of having a ws is obviously to have all stuff at one place not distributed over 
several places -- so following that it's clear importing a project to the ws should move the 
whole stuff there. 


*** This bug has been marked as a duplicate of 17523 ***</WithOutStack>
  </Bug>
  <Bug>
    <BugId amount="102453" />
    <CreationDate amount="2005-07-01 05:23:00 -0400" />
    <DupId amount="" />
    <classification amount="Eclipse" />
    <Product amount="JDT" />
    <component amount="Core" />
    <Version amount="3.0.2" />
    <rep_platform amount="PC" />
    <op_sys amount="Windows XP" />
    <priority amount="P3" />
    <bug_severity amount="normal" />
    <Summery>When source is attached to rt.jar, JCE cannot create</Summery>
    <Patches amount="0" />
    <Stacktraces amount="0" />
    <SourceCodeRegions amount="0" />
    <Enumerations amount="0" />
    <bug_status amount="RESOLVED" />
    <resolution amount="WORKSFORME" />
    <WithStack>When a source attachment is made to rt.jar, JCE is no longer able to create 
algorithm objects. If the attachment is removed (which by the way is hard to 
do because removed attachments seem to reattach) the JCE code executes ok.

This happens when I run my application from the eclipse IDE. I would think 
that the problem occurs at least on 3.0.0, 3.0.1 and 3.0.2.

Regards
Magnus
Could you please provide a test case and try how it behaves on 3.1?
I could not recreate the bug in 3.1

/Magnus
Closing as WORKSFORME.
Please reopen if you get it again.</WithStack>
    <WithOutStack>When a source attachment is made to rt.jar, JCE is no longer able to create 
algorithm objects. If the attachment is removed (which by the way is hard to 
do because removed attachments seem to reattach) the JCE code executes ok.

This happens when I run my application from the eclipse IDE. I would think 
that the problem occurs at least on 3.0.0, 3.0.1 and 3.0.2.

Regards
Magnus
Could you please provide a test case and try how it behaves on 3.1?
I could not recreate the bug in 3.1

/Magnus
Closing as WORKSFORME.
Please reopen if you get it again.</WithOutStack>
  </Bug>
  <Bug>
    <BugId amount="102454" />
    <CreationDate amount="2005-07-01 05:40:00 -0400" />
    <DupId amount="" />
    <classification amount="Eclipse" />
    <Product amount="Platform" />
    <component amount="Runtime" />
    <Version amount="3.1" />
    <rep_platform amount="PC" />
    <op_sys amount="Windows XP" />
    <priority amount="P3" />
    <bug_severity amount="major" />
    <Summery>core tools runtime spy failed since 3.1RC1</Summery>
    <Patches amount="0" />
    <Stacktraces amount="0" />
    <SourceCodeRegions amount="0" />
    <Enumerations amount="1">
      <Enumeration lines="2">
        <Lines>
          <Line>- Checkout the project from CVS</Line>
          <Line>- File &gt; Export &gt; Deployable Plugins and Fragments &gt; Finish</Line>
        </Lines>
      </Enumeration>
    </Enumerations>
    <bug_status amount="RESOLVED" />
    <resolution amount="FIXED" />
    <WithStack>hi,

the runtime spy doesn't work any longer since 3.1rc1 and higher.
with 3.1m7 the core tools 1.2.0 worked fine.

see the attached log file for further information.

lg
tobias
Created attachment 24257
eclipse log file
I believe the StatsManager changed packages. We need to provide a new drop with
the latest code.

Meanwhile, you can get the Core tools from dev.eclipse.org (path is /home/eclipse). 

 
I think we should stop providing the tools as a zip on our web page - it is
always out of date.  We should just replace it with instructions on how to build
the plugin yourself:

 - Checkout the project from CVS
 - File &gt; Export &gt; Deployable Plugins and Fragments &gt; Finish

I agree that it would make it much more manageable for us. But couldn't we do a
bit of both? We retag and build a drop of the Core tools for every release to
come (but not during the release cycle). During a release cycle, people should
get the sources from HEAD and build by themselves (we should not bother creating
new drops during the cycle).

It is important we keep making drops available so people using older versions
(for which HEAD would not work) can run the right Core tools. Also, I would
guess people living on the bleeding edge would be fine if they had to build the
plug-ins themselves, but I am not sure if the same applies to people that only
use releases.
*** Bug 103256 has been marked as a duplicate of this bug. ***
I have added a new version to the web and updated the core update site.</WithStack>
    <WithOutStack>hi,

the runtime spy doesn't work any longer since 3.1rc1 and higher.
with 3.1m7 the core tools 1.2.0 worked fine.

see the attached log file for further information.

lg
tobias
Created attachment 24257
eclipse log file
I believe the StatsManager changed packages. We need to provide a new drop with
the latest code.

Meanwhile, you can get the Core tools from dev.eclipse.org (path is /home/eclipse). 

 
I think we should stop providing the tools as a zip on our web page - it is
always out of date.  We should just replace it with instructions on how to build
the plugin yourself:

 - Checkout the project from CVS
 - File &gt; Export &gt; Deployable Plugins and Fragments &gt; Finish

I agree that it would make it much more manageable for us. But couldn't we do a
bit of both? We retag and build a drop of the Core tools for every release to
come (but not during the release cycle). During a release cycle, people should
get the sources from HEAD and build by themselves (we should not bother creating
new drops during the cycle).

It is important we keep making drops available so people using older versions
(for which HEAD would not work) can run the right Core tools. Also, I would
guess people living on the bleeding edge would be fine if they had to build the
plug-ins themselves, but I am not sure if the same applies to people that only
use releases.
*** Bug 103256 has been marked as a duplicate of this bug. ***
I have added a new version to the web and updated the core update site.</WithOutStack>
  </Bug>
  <Bug>
    <BugId amount="102455" />
    <CreationDate amount="2005-07-01 05:58:00 -0400" />
    <DupId amount="" />
    <classification amount="BIRT" />
    <Product amount="BIRT" />
    <component amount="Chart" />
    <Version amount="1.0.0" />
    <rep_platform amount="PC" />
    <op_sys amount="Windows XP" />
    <priority amount="P3" />
    <bug_severity amount="normal" />
    <Summery>Pie Chart is not round</Summery>
    <Patches amount="0" />
    <Stacktraces amount="0" />
    <SourceCodeRegions amount="0" />
    <Enumerations amount="0" />
    <bug_status amount="CLOSED" />
    <resolution amount="FIXED" />
    <WithStack>Create a pie chart in the report designer: the pie chart is ovale. It should 
be perfectly round at least by default.
Adjusted the default chart size, set default slice explosion=0.
fixed
closed</WithStack>
    <WithOutStack>Create a pie chart in the report designer: the pie chart is ovale. It should 
be perfectly round at least by default.
Adjusted the default chart size, set default slice explosion=0.
fixed
closed</WithOutStack>
  </Bug>
  <Bug>
    <BugId amount="102456" />
    <CreationDate amount="2005-07-01 06:08:00 -0400" />
    <DupId amount="" />
    <classification amount="Eclipse" />
    <Product amount="JDT" />
    <component amount="UI" />
    <Version amount="3.1" />
    <rep_platform amount="PC" />
    <op_sys amount="Windows 2000" />
    <priority amount="P3" />
    <bug_severity amount="major" />
    <Summery>Can not  view java core source as part of package explorer for a project</Summery>
    <Patches amount="0" />
    <Stacktraces amount="0" />
    <SourceCodeRegions amount="0" />
    <Enumerations amount="0" />
    <bug_status amount="RESOLVED" />
    <resolution amount="WORKSFORME" />
    <WithStack>No matter what - a project MUST be a parent of its source files.  That to me is 
a problem.  How then, do you keep source folders uncorrupted so multiple 
editors can work on it without copying (ie importing) the entire source tree?

MORE IMPORTANTLY, how do you import java core source code to be VIEWED in the 
package explorer associated with a project conveniently but NOT to be 
compiled.  I'll take it either way, I just want the convenience of clicking on, 
for example, java.util.TreeMap from within the package explorer for my project 
to QUICKLY see the code for core source code while in my project and seemlessly 
then click on one of my own source files to continue coding.  But of course all 
java core classes are not going to be a child folder of your project folder - 
see the problem?

PS  The Outline view (ie list of class methods in alphabetical order) should be 
accessible as a dropdown so you do not have to take up screen space with the 
outline view and still quickly navigate to a method.
Use Quick Outline (Ctrl+O) in the editor.

The first complain I don't understand. You can view the source of all library
classes as long as you have source attached to them by either clicking on them
in the package explorer or by opening the type via Open Type dialog.

Regarding source folders not being a direct child of a parent in the file
system: this is doable as well using linked folders. Create a new source folder
and use the advanced option to link it to any folder in our file system.</WithStack>
    <WithOutStack>No matter what - a project MUST be a parent of its source files.  That to me is 
a problem.  How then, do you keep source folders uncorrupted so multiple 
editors can work on it without copying (ie importing) the entire source tree?

MORE IMPORTANTLY, how do you import java core source code to be VIEWED in the 
package explorer associated with a project conveniently but NOT to be 
compiled.  I'll take it either way, I just want the convenience of clicking on, 
for example, java.util.TreeMap from within the package explorer for my project 
to QUICKLY see the code for core source code while in my project and seemlessly 
then click on one of my own source files to continue coding.  But of course all 
java core classes are not going to be a child folder of your project folder - 
see the problem?

PS  The Outline view (ie list of class methods in alphabetical order) should be 
accessible as a dropdown so you do not have to take up screen space with the 
outline view and still quickly navigate to a method.
Use Quick Outline (Ctrl+O) in the editor.

The first complain I don't understand. You can view the source of all library
classes as long as you have source attached to them by either clicking on them
in the package explorer or by opening the type via Open Type dialog.

Regarding source folders not being a direct child of a parent in the file
system: this is doable as well using linked folders. Create a new source folder
and use the advanced option to link it to any folder in our file system.</WithOutStack>
  </Bug>
  <Bug>
    <BugId amount="102457" />
    <CreationDate amount="2005-07-01 06:18:00 -0400" />
    <DupId amount="" />
    <classification amount="Eclipse" />
    <Product amount="Platform" />
    <component amount="Update  (deprecated - use RT&gt;Equinox&gt;p2)" />
    <Version amount="3.1" />
    <rep_platform amount="PC" />
    <op_sys amount="Windows 2000" />
    <priority amount="P3" />
    <bug_severity amount="minor" />
    <Summery>Update manager fails with two-place feature versions</Summery>
    <Patches amount="0" />
    <Stacktraces amount="1">
      <Stacktrace timestamp="1437330551764">
        <Exception>java.io.FileNotFoundException</Exception>
        <Reason>T:\projects\workspace.yoxos\s\plugins\p_1.0.0.jar
(Das System kann die angegebene Datei nicht finden)</Reason>
        <Frames>
          <Frame depth="0">java.io.FileInputStream.open(Native Method)</Frame>
          <Frame depth="1">java.io.FileInputStream.&lt;init&gt;(Unknown Source)</Frame>
          <Frame depth="2">java.io.FileInputStream.&lt;init&gt;(Unknown Source)</Frame>
          <Frame depth="3">sun.net.www.protocol.file.FileURLConnection.connect(Unknown Source)</Frame>
          <Frame depth="4">sun.net.www.protocol.file.FileURLConnection.getInputStream(Unknown Source)</Frame>
          <Frame depth="5">java.net.URL.openStream(Unknown Source)</Frame>
          <Frame depth="6">org.eclipse.update.internal.core.FileResponse.getInputStream(FileResponse.java:27)</Frame>
          <Frame depth="7">org.eclipse.update.core.ContentReference.getInputStream(ContentReference.java:146)</Frame>
          <Frame depth="8">org.eclipse.update.core.FeatureContentProvider.asLocalReference(FeatureContentProvider.java:250)</Frame>
          <Frame depth="9">org.eclipse.update.internal.core.FeaturePackagedContentProvider.getPluginEntryArchiveReferences(FeaturePackagedContentProvider.java:165)</Frame>
          <Frame depth="10">org.eclipse.update.internal.operations.UpdateUtils.downloadFeatureContent(UpdateUtils.java:627)</Frame>
          <Frame depth="11">org.eclipse.update.internal.ui.wizards.InstallWizard2.download(InstallWizard2.java:405)</Frame>
          <Frame depth="12">org.eclipse.update.internal.ui.wizards.InstallWizard2.access$3(InstallWizard2.java:394)</Frame>
          <Frame depth="13">org.eclipse.update.internal.ui.wizards.InstallWizard2$4.run(InstallWizard2.java:350)</Frame>
          <Frame depth="14">org.eclipse.core.internal.jobs.Worker.run(Worker.java:76)</Frame>
        </Frames>
      </Stacktrace>
    </Stacktraces>
    <SourceCodeRegions amount="0" />
    <Enumerations amount="0" />
    <bug_status amount="RESOLVED" />
    <resolution amount="WONTFIX" />
    <WithStack>Some plugin authors use an incomplete version number (like 1.0 instead of 
1.0.0). I'm not sure whether this is permissible (i.e. how 'hard' is the 
requirement of a three-place version), but at least PDE handles it without 
complaint, and so does the platform runtime. But putting such a feature on an 
update site can cause problems in some cases.

For instance, if there is a feature f that has in the feature.xml version 1.0, 
the site.xml generated by PDE looks like:

&lt;site&gt;
   &lt;feature url="features/f_1.0.jar" id="f" version="1.0"/&gt;
&lt;/site&gt;

The feature jar created by the PDE Export wizard has f_1.0.0.jar. 
If the user corrects this into f_1.0.jar, like it says in the site.xml, the
Update Manager fails to install from the site, because it seems to implicitely
correct the version to 1.0.0 and then cannot find f_1.0.0.jar.
Created attachment 24259
Eclipse projects with the scenario described in the PR
Actually, the sample was not yet quite sufficient to reproduce the problem. The
feature.xml must specify the precise version (1.0), and both archives must be
renamed to display the version that is in the manifest. Attaching corrected sample.

The error message in the workspace is then

!ENTRY org.eclipse.update.core 4 0 2005-07-05 11:19:29.709
!MESSAGE Unable to retrieve remote reference
"file:/T:/projects/workspace.yoxos/s/plugins/p_1.0.0.jar".
[T:\projects\workspace.yoxos\s\plugins\p_1.0.0.jar (Das System kann die
angegebene Datei nicht finden)]
!STACK 0
java.io.FileNotFoundException: T:\projects\workspace.yoxos\s\plugins\p_1.0.0.jar
(Das System kann die angegebene Datei nicht finden)
	at java.io.FileInputStream.open(Native Method)
	at java.io.FileInputStream.&lt;init&gt;(Unknown Source)
	at java.io.FileInputStream.&lt;init&gt;(Unknown Source)
	at sun.net.www.protocol.file.FileURLConnection.connect(Unknown Source)
	at sun.net.www.protocol.file.FileURLConnection.getInputStream(Unknown Source)
	at java.net.URL.openStream(Unknown Source)
	at
org.eclipse.update.internal.core.FileResponse.getInputStream(FileResponse.java:27)
	at
org.eclipse.update.core.ContentReference.getInputStream(ContentReference.java:146)
	at
org.eclipse.update.core.FeatureContentProvider.asLocalReference(FeatureContentProvider.java:250)
	at
org.eclipse.update.internal.core.FeaturePackagedContentProvider.getPluginEntryArchiveReferences(FeaturePackagedContentProvider.java:165)
	at
org.eclipse.update.internal.operations.UpdateUtils.downloadFeatureContent(UpdateUtils.java:627)
	at
org.eclipse.update.internal.ui.wizards.InstallWizard2.download(InstallWizard2.java:405)
	at
org.eclipse.update.internal.ui.wizards.InstallWizard2.access$3(InstallWizard2.java:394)
	at
org.eclipse.update.internal.ui.wizards.InstallWizard2$4.run(InstallWizard2.java:350)
	at org.eclipse.core.internal.jobs.Worker.run(Worker.java:76)
Created attachment 24340
corrected sample projects
This is a mass update of Platform Update bugs that have had no activity in three years. Platform Update was replaced in Eclipse 3.4 (2008) by a new provisioning system called Equinox p2. If this bug or enhancement is not already addressed in p2 please enter a new bug report against p2 (RT &gt; Equinox &gt; p2). If you still want to see this bug addressed in the deprecated Platform Update component, please reopen this bug. Patches welcome.</WithStack>
    <WithOutStack>Some plugin authors use an incomplete version number (like 1.0 instead of 
1.0.0). I'm not sure whether this is permissible (i.e. how 'hard' is the 
requirement of a three-place version), but at least PDE handles it without 
complaint, and so does the platform runtime. But putting such a feature on an 
update site can cause problems in some cases.

For instance, if there is a feature f that has in the feature.xml version 1.0, 
the site.xml generated by PDE looks like:

&lt;site&gt;
   &lt;feature url="features/f_1.0.jar" id="f" version="1.0"/&gt;
&lt;/site&gt;

The feature jar created by the PDE Export wizard has f_1.0.0.jar. 
If the user corrects this into f_1.0.jar, like it says in the site.xml, the
Update Manager fails to install from the site, because it seems to implicitely
correct the version to 1.0.0 and then cannot find f_1.0.0.jar.
Created attachment 24259
Eclipse projects with the scenario described in the PR
Actually, the sample was not yet quite sufficient to reproduce the problem. The
feature.xml must specify the precise version (1.0), and both archives must be
renamed to display the version that is in the manifest. Attaching corrected sample.

The error message in the workspace is then

!ENTRY org.eclipse.update.core 4 0 2005-07-05 11:19:29.709
!MESSAGE Unable to retrieve remote reference
"file:/T:/projects/workspace.yoxos/s/plugins/p_1.0.0.jar".
[T:\projects\workspace.yoxos\s\plugins\p_1.0.0.jar (Das System kann die
angegebene Datei nicht finden)]
!STACK 0

Created attachment 24340
corrected sample projects
This is a mass update of Platform Update bugs that have had no activity in three years. Platform Update was replaced in Eclipse 3.4 (2008) by a new provisioning system called Equinox p2. If this bug or enhancement is not already addressed in p2 please enter a new bug report against p2 (RT &gt; Equinox &gt; p2). If you still want to see this bug addressed in the deprecated Platform Update component, please reopen this bug. Patches welcome.</WithOutStack>
  </Bug>
  <Bug>
    <BugId amount="102458" />
    <CreationDate amount="2005-07-01 06:26:00 -0400" />
    <DupId amount="102395" />
    <classification amount="Eclipse" />
    <Product amount="JDT" />
    <component amount="Core" />
    <Version amount="3.1" />
    <rep_platform amount="PC" />
    <op_sys amount="Windows 2000" />
    <priority amount="P3" />
    <bug_severity amount="normal" />
    <Summery>Source folders should stand alone from project - NOT AS CHILD</Summery>
    <Patches amount="0" />
    <Stacktraces amount="0" />
    <SourceCodeRegions amount="0" />
    <Enumerations amount="0" />
    <bug_status amount="RESOLVED" />
    <resolution amount="DUPLICATE" />
    <WithStack>A project MUST be a parent of its source files.  That to me is a problem.  How 
then, do you keep source folders uncorrupted so multiple editors can work on it 
without copying (ie importing) the entire source tree?  Source should stand 
alone and not be required to be under 2 levels of directories!  

For example, this (or deeper) is currently 
required: "eclipse_projects/project_name/top_level_source_folder"  

Rather, the java compiler should be given (by eclipse) a separate root source 
to correctly parse import statements, where such source root is INDEPENDENT of 
the project's root - not a required child of it.

MORE IMPORTANTLY, how do you import java core source code to be VIEWED in the 
package explorer associated with a project conveniently but NOT to be 
compiled.  I'll take it either way, I just want the convenience of clicking on, 
for example, java.util.TreeMap from within the package explorer for my project 
to QUICKLY see the code for core source code while in my project and seemlessly 
then click on one of my own source files to continue coding.  But of course all 
java core classes are not going to be a child folder of your project folder - 
see the problem?
This is not a bug but more a project setup question you'd better post on newsgroup.

I think you need to have a look on following tutorial:
"Products sharing a common source framework"
Using "Help" menu, click on "Help contents" and then go to:
Java Dvpt User Guide
  + Getting Started
    + Project configuration tutorial

This tutorial shows how to setup your projects to have access to source based on
another location and which may be shared among several developpers/projects.
No need to copy/import the entire source tree, the hit is to create a specific
"linked" source folder...

This should match your requirement as your source folder is physically
independent of your project's root. It's just linked to it and allow you to look
at the source classes defined in it easily.

Note that with this solution, you will be able to modify and compile common
source files. All other developper using same shared source folder will be
automatically informed that resources have been modified.

If you do not want to be able to modify these common source files then you have
to use another project setup.

Add a "Class Folder..." to your project build path ("Libraries" tab on "Java
Build Path" project properties page) and specify the class folder where your
common source files have been compiled (use "Create folder...", "Advanced&gt;&gt;&gt;"
and "Link to folder in file system" if your folder is outside workspace). Then
specify source directory of these common source file to "Source Attachment" of
this class folder.

With this setup you'll be able to look at source without having to compile it
each time you build the entire project (really similar to attach a jar to your
project's build path).

HTH



*** This bug has been marked as a duplicate of 102395 ***</WithStack>
    <WithOutStack>A project MUST be a parent of its source files.  That to me is a problem.  How 
then, do you keep source folders uncorrupted so multiple editors can work on it 
without copying (ie importing) the entire source tree?  Source should stand 
alone and not be required to be under 2 levels of directories!  

For example, this (or deeper) is currently 
required: "eclipse_projects/project_name/top_level_source_folder"  

Rather, the java compiler should be given (by eclipse) a separate root source 
to correctly parse import statements, where such source root is INDEPENDENT of 
the project's root - not a required child of it.

MORE IMPORTANTLY, how do you import java core source code to be VIEWED in the 
package explorer associated with a project conveniently but NOT to be 
compiled.  I'll take it either way, I just want the convenience of clicking on, 
for example, java.util.TreeMap from within the package explorer for my project 
to QUICKLY see the code for core source code while in my project and seemlessly 
then click on one of my own source files to continue coding.  But of course all 
java core classes are not going to be a child folder of your project folder - 
see the problem?
This is not a bug but more a project setup question you'd better post on newsgroup.

I think you need to have a look on following tutorial:
"Products sharing a common source framework"
Using "Help" menu, click on "Help contents" and then go to:
Java Dvpt User Guide
  + Getting Started
    + Project configuration tutorial

This tutorial shows how to setup your projects to have access to source based on
another location and which may be shared among several developpers/projects.
No need to copy/import the entire source tree, the hit is to create a specific
"linked" source folder...

This should match your requirement as your source folder is physically
independent of your project's root. It's just linked to it and allow you to look
at the source classes defined in it easily.

Note that with this solution, you will be able to modify and compile common
source files. All other developper using same shared source folder will be
automatically informed that resources have been modified.

If you do not want to be able to modify these common source files then you have
to use another project setup.

Add a "Class Folder..." to your project build path ("Libraries" tab on "Java
Build Path" project properties page) and specify the class folder where your
common source files have been compiled (use "Create folder...", "Advanced&gt;&gt;&gt;"
and "Link to folder in file system" if your folder is outside workspace). Then
specify source directory of these common source file to "Source Attachment" of
this class folder.

With this setup you'll be able to look at source without having to compile it
each time you build the entire project (really similar to attach a jar to your
project's build path).

HTH



*** This bug has been marked as a duplicate of 102395 ***</WithOutStack>
  </Bug>
  <Bug>
    <BugId amount="102459" />
    <CreationDate amount="2005-07-01 06:48:00 -0400" />
    <DupId amount="" />
    <classification amount="Tools" />
    <Product amount="AspectJ" />
    <component amount="Compiler" />
    <Version amount="unspecified" />
    <rep_platform amount="PC" />
    <op_sys amount="Windows XP" />
    <priority amount="P3" />
    <bug_severity amount="enhancement" />
    <Summery>provide more detail in -showWeaveInfo messages</Summery>
    <Patches amount="0" />
    <Stacktraces amount="0" />
    <SourceCodeRegions amount="0" />
    <Enumerations amount="0" />
    <bug_status amount="RESOLVED" />
    <resolution amount="FIXED" />
    <WithStack>When advice is executed, the object you have to work with is the joinpoint. This
can then be queried to get various information out of it. It would be nice, if
as part of the weaving you could get hold of the same information. 

This is particularly useful in the case of writing a coverage tool. In order to
measure where you've been, you have to know all the places you could possibly
go. The introduction of the -showWeaveInfo option means that we can record these
places, however, this would be greatly enhanced by providing similar information
as to that which is collected as the program is running.

The information which would be good is the same as that obtained from

JoinPoint.StaticPart.getSignature().toLongString().
try and look at this for 1.5.0
weave info messages for advice execution now have the form:

Join point 'method-execution(void Simple.method())' in Type 'Simple' (Simple.java:17) advised by 
afterThrowing advice from aspect 'AspectAdvice' (AspectAdvice.aj:20)

etc.

The new part is the prefix containing the join point information. I didn't change the tail end of the 
message because it would have upset too many test cases.

I actually prefer this new message since it makes the primary abstraction one of join points being 
advised, and not source locations.</WithStack>
    <WithOutStack>When advice is executed, the object you have to work with is the joinpoint. This
can then be queried to get various information out of it. It would be nice, if
as part of the weaving you could get hold of the same information. 

This is particularly useful in the case of writing a coverage tool. In order to
measure where you've been, you have to know all the places you could possibly
go. The introduction of the -showWeaveInfo option means that we can record these
places, however, this would be greatly enhanced by providing similar information
as to that which is collected as the program is running.

The information which would be good is the same as that obtained from

JoinPoint.StaticPart.getSignature().toLongString().
try and look at this for 1.5.0
weave info messages for advice execution now have the form:

Join point 'method-execution(void Simple.method())' in Type 'Simple' (Simple.java:17) advised by 
afterThrowing advice from aspect 'AspectAdvice' (AspectAdvice.aj:20)

etc.

The new part is the prefix containing the join point information. I didn't change the tail end of the 
message because it would have upset too many test cases.

I actually prefer this new message since it makes the primary abstraction one of join points being 
advised, and not source locations.</WithOutStack>
  </Bug>
  <Bug>
    <BugId amount="102460" />
    <CreationDate amount="2005-07-01 06:57:00 -0400" />
    <DupId amount="" />
    <classification amount="Eclipse" />
    <Product amount="JDT" />
    <component amount="UI" />
    <Version amount="3.1" />
    <rep_platform amount="All" />
    <op_sys amount="All" />
    <priority amount="P3" />
    <bug_severity amount="enhancement" />
    <Summery>[code templates] Simple expressions in code templates</Summery>
    <Patches amount="0" />
    <Stacktraces amount="0" />
    <SourceCodeRegions amount="2">
      <source_code type="assignment">
        <location start="1085" end="1108" />
        <code>this.${field} = value;</code>
      </source_code>
      <source_code type="assignment">
        <location start="1611" end="1649" />
        <code>this.${property:camelCasing} = value;</code>
      </source_code>
    </SourceCodeRegions>
    <Enumerations amount="0" />
    <bug_status amount="ASSIGNED" />
    <resolution amount="" />
    <WithStack>Support for simple expressions involving template variable would be nice. 

There is one particular use for expressions that I am looking for the most:
given a property name, create the method name for a setter or a getter. To do
this correct in all cases, knowledge of types would be necessary. For most
cases, capitalization of the first character of a variable is enough.
I use templates for repetitive code that involves properties, for example code
to fire PropertyChangeEvents in setter methods.

I would be happy with a special-purpose modification to allow upper/lowercasing,
but perhaps a more generic approach involving functions and expressions is
possible? Plugins could add functions to a library.

I have no idea how complex this would be, but I would like to offer this as a
suggestion for enhancement.
If I understand this correctly, I think you are looking for something that will take a Template that looks like this:

=================

private ${type} ${field};
public ${type} get${property}()
{
	return this.${field};
}
public void set${property}(${type} value)
{
	this.${field} = value;
}

=================

and instead of typing three separate variables, I would type two: the ${type} and ${property}. Then, the template would reformat the ${property} as either camelCasing or PascalCasing, depending on some feature of the variable. For example, I could have a template like this:

=================

private ${type} ${property:camelCasing};
public ${type} get${property:PascalCasing}()
{
	return this.${property:camelCasing};
}
public void set${property:PascalCasing}(${type} value)
{
	this.${property:camelCasing} = value;
}

=================

If this is what you would like, I absolutely agree. I have a lot of templates that I use frequently where I have to type the same thing twice to match both casings.
Yes, that is exactly what I would like.

(BTW: wow, that's a blast from the past. 2005! :-) )

But I believe other people may want different functions on the field name, and if this were implemented, it probably wouldn't be much harder to make the functions like 'camelCase' or 'PascalCase' extensible through a plugin.</WithStack>
    <WithOutStack>Support for simple expressions involving template variable would be nice. 

There is one particular use for expressions that I am looking for the most:
given a property name, create the method name for a setter or a getter. To do
this correct in all cases, knowledge of types would be necessary. For most
cases, capitalization of the first character of a variable is enough.
I use templates for repetitive code that involves properties, for example code
to fire PropertyChangeEvents in setter methods.

I would be happy with a special-purpose modification to allow upper/lowercasing,
but perhaps a more generic approach involving functions and expressions is
possible? Plugins could add functions to a library.

I have no idea how complex this would be, but I would like to offer this as a
suggestion for enhancement.
If I understand this correctly, I think you are looking for something that will take a Template that looks like this:

=================

private ${type} ${field};
public ${type} get${property}()
{
	return this.${field};
}
public void set${property}(${type} value)
{
	this.${field} = value;
}

=================

and instead of typing three separate variables, I would type two: the ${type} and ${property}. Then, the template would reformat the ${property} as either camelCasing or PascalCasing, depending on some feature of the variable. For example, I could have a template like this:

=================

private ${type} ${property:camelCasing};
public ${type} get${property:PascalCasing}()
{
	return this.${property:camelCasing};
}
public void set${property:PascalCasing}(${type} value)
{
	this.${property:camelCasing} = value;
}

=================

If this is what you would like, I absolutely agree. I have a lot of templates that I use frequently where I have to type the same thing twice to match both casings.
Yes, that is exactly what I would like.

(BTW: wow, that's a blast from the past. 2005! :-) )

But I believe other people may want different functions on the field name, and if this were implemented, it probably wouldn't be much harder to make the functions like 'camelCase' or 'PascalCase' extensible through a plugin.</WithOutStack>
  </Bug>
  <Bug>
    <BugId amount="102461" />
    <CreationDate amount="2005-07-01 07:00:00 -0400" />
    <DupId amount="" />
    <classification amount="Eclipse" />
    <Product amount="Platform" />
    <component amount="CVS" />
    <Version amount="3.0" />
    <rep_platform amount="All" />
    <op_sys amount="All" />
    <priority amount="P3" />
    <bug_severity amount="enhancement" />
    <Summery>(PatchAttached) Allow for keeping commit comments permanent</Summery>
    <Patches amount="0" />
    <Stacktraces amount="0" />
    <SourceCodeRegions amount="0" />
    <Enumerations amount="3">
      <Enumeration lines="10">
        <Lines>
          <Line>1. Rename "permanent comments" to "comment templates": Good idea. Personally I</Line>
          <Line>don't have that much use for templates, but I guess folks at Apache could use</Line>
          <Line>that (think "Submitted by: / Approved by: " etc.). Nice.</Line>
          <Line />
          <Line>2. What do you think about removing the checkbox, and adding some linked text</Line>
          <Line>label, that when clicked will bring you to the templates prefs page directly?</Line>
          <Line>That way it's not as intrusive because you don't have to cancel the whole commit</Line>
          <Line>process but can edit the templates "right there". When finished, just select it</Line>
          <Line>from the combo and off you go. Sounds quite nice to me :)</Line>
          <Line>Sounds good. Just to summarize, what is required is</Line>
        </Lines>
      </Enumeration>
      <Enumeration lines="11">
        <Lines>
          <Line>1) A combo list that shows an MRU and templates comments in such a way that</Line>
          <Line>the two are easily distinguishable.</Line>
          <Line />
          <Line>2) A preference page for managing commit templates</Line>
          <Line />
          <Line>3) A link from the commit dialog to the commit template preference page. The</Line>
          <Line>easy approach is to use the help to mention the preferences page. A deluxe</Line>
          <Line>solution involves adding a button or link to the commit dialog that opens a</Line>
          <Line>separate dialog that contains the commit templatge preference page.</Line>
          <Line>Created attachment 24894</Line>
          <Line>new patch as per comment #5</Line>
        </Lines>
      </Enumeration>
      <Enumeration lines="7">
        <Lines>
          <Line>1) Neumonics for labels and buttons need to be added (so that ALT key</Line>
          <Line>navigation works).</Line>
          <Line>2) The TEMPL prefix needs to be externalized and changed it to Template: as</Line>
          <Line>TEMPL is not something the average user will undrstand.</Line>
          <Line>3) There is a bug when a comment is added using the Configure link. Basically,</Line>
          <Line>the item gets added but selecting it puts the text that was previously at that</Line>
          <Line>index in the comment field.</Line>
        </Lines>
      </Enumeration>
    </Enumerations>
    <bug_status amount="VERIFIED" />
    <resolution amount="FIXED" />
    <WithStack>While being able to choose from recently-used commit messages, I think it would
be nice to be able to choose from user-configured "canned" commit messages, too.
Created attachment 24301
patch for org.eclipse.team.cvs.ui to add canned comments feature

This patch adds canned comments to org.eclipse.team.cvs.ui. Most notably it
adds a "Add as canned comment" check box to the commit comment dialog. Please
note that there's no way to delete canned comments yet.
Created attachment 24310
new patch version

New version of the patch. This version changes the checkbox to a more intuitive
"Keep permanent". Each previously entered commit comment can now be made
permanent by selecting the comment, then activating the checkbox. A newly
entered comment can be made permanent right away by activating the same
checkbox. Comments that are permanent already can be made non-permanent by
selecting them and deactivating the checkbox.

Perhaps permanent comments should be marked in the combobox? What do you think?
I like the idea. However, I would prefer if you provided a preference page for 
managing the template comments. Adding buttons for managing the comments to 
the commit dialog will just confuse most users. We can point the users from 
the dialog to the preference page using the help. As for the appearance in the 
Combo box, I think it would be enough to have the template comments appear 
first, followed by a separator of some kind and then the comment history. I 
will consider a patch with these changes (of course, there is also room for 
negotiation if you have other ideas).
Sorry about the delay, but here goes...

1. Rename "permanent comments" to "comment templates": Good idea. Personally I
don't have that much use for templates, but I guess folks at Apache could use
that (think "Submitted by: / Approved by: " etc.). Nice.

2. What do you think about removing the checkbox, and adding some linked text
label, that when clicked will bring you to the templates prefs page directly?
That way it's not as intrusive because you don't have to cancel the whole commit
process but can edit the templates "right there". When finished, just select it
from the combo and off you go. Sounds quite nice to me :)
Sounds good. Just to summarize, what is required is

1) A combo list that shows an MRU and templates comments in such a way that 
the two are easily distinguishable.

2) A preference page for managing commit templates

3) A link from the commit dialog to the commit template preference page. The 
easy approach is to use the help to mention the preferences page. A deluxe 
solution involves adding a button or link to the commit dialog that opens a 
separate dialog that contains the commit templatge preference page.
Created attachment 24894
new patch as per comment #5

This patch implements the features mentioned in comment #5.

Minor glitches (I've added TODO's):

- Combo box shows "TEMPL:" where a comment is actually a template. This must be
changed to not showing "TEMPL:" and adding a divider between the templates and
the regular comments.

- When saving the templates list XML file fails when clicking "OK" in the
preference page, no error message is displayed. Instead, the TeamException is
swallowed silently.
Just to make sure: The latest patch is not incremental, rendering the first two
patches obsolete. Please do not apply those.
Thanks for the patch. I'll have a look when I have time (sometime in the next 
few weeks)
Alright.
I can't release this patch. You need to add a suitable copyright to any new 
files. Two of the three new files have an IBM copyright (do you work for 
IBM?). A third file is missing a copyright altogether. Here is a link that 
describes what the copyright should look like:

http://www.eclipse.org/legal/copyrightandlicensenotice.html

Also, the following things need to be fixed.

1) Neumonics for labels and buttons need to be added (so that ALT key 
navigation works).
2) The TEMPL prefix needs to be externalized and changed it to Template: as 
TEMPL is not something the average user will undrstand. 
3) There is a bug when a comment is added using the Configure link. Basically, 
the item gets added but selecting it puts the text that was previously at that 
index in the comment field.

Other than that, the patch looks good. So, I need the copyrights, neumonics 
and NLSed Template prefix (although I would still prefer a separator;-). As 
for the link, I'm not actually convinced I want to have it there. It is a good 
indicator but it would set a precedent (i.e. I haven't seen any other dialogs 
that link to preference pages this way). I'll need to consult with the UI guys 
about that one.
Oh, I wasn't aiming to have it applied the fast way :)
Just trying things out and see what you say. I will fix the things you mentioned.

Re separator in combo: The only thing I can think of is a "-----------", which I
do think would be rather ugly. Aside from that, the user could select it (having
no effect of course). Unfortunately, I can't see how to add an option that is
disabled :-/

As for the link in the dialog, the Java project properties dialog has one, too.
For example, the "Java Code Style" page there has a link to the respective
global preference page. Not sure if that counts, though :)
Re copyrights: Two of the files are actually copied &amp; pasted, with _extremely_
minor modifications. I'm not quite sure what to do with those. I could add
myself as contributor, but I think that's asking too much already ;)
Created attachment 24963
new patch as per comment #10

Things fixed:

- Added copyrights/contributor statements. For two of the new files that are
really just copied and pasted, I haven't modified the copyright statements at
all.

- Mnemonics added.

- "TEMPL:" prefix changed to "Template:" and NLS'ed.


I don't seem to be able to reproduce the bug you mentioned, though. I can add
new templates using the link and select them in the combo just fine. Perhaps
you can provide me with the exact steps to reproduce that?
Created attachment 25364
new version of the patch

This version of the patch fixes the bug you mentioned where entering a comment
could erase a comment template having the same text.
Patch released. I had to make a few modifications mostly due to changes made 
since you generated the patch.
That's great news. What would be the next integration build where I can test the
new feature?
The next integration build should be on Tuesday.
Verified in I20050920-0010</WithStack>
    <WithOutStack>While being able to choose from recently-used commit messages, I think it would
be nice to be able to choose from user-configured "canned" commit messages, too.
Created attachment 24301
patch for org.eclipse.team.cvs.ui to add canned comments feature

This patch adds canned comments to org.eclipse.team.cvs.ui. Most notably it
adds a "Add as canned comment" check box to the commit comment dialog. Please
note that there's no way to delete canned comments yet.
Created attachment 24310
new patch version

New version of the patch. This version changes the checkbox to a more intuitive
"Keep permanent". Each previously entered commit comment can now be made
permanent by selecting the comment, then activating the checkbox. A newly
entered comment can be made permanent right away by activating the same
checkbox. Comments that are permanent already can be made non-permanent by
selecting them and deactivating the checkbox.

Perhaps permanent comments should be marked in the combobox? What do you think?
I like the idea. However, I would prefer if you provided a preference page for 
managing the template comments. Adding buttons for managing the comments to 
the commit dialog will just confuse most users. We can point the users from 
the dialog to the preference page using the help. As for the appearance in the 
Combo box, I think it would be enough to have the template comments appear 
first, followed by a separator of some kind and then the comment history. I 
will consider a patch with these changes (of course, there is also room for 
negotiation if you have other ideas).
Sorry about the delay, but here goes...

1. Rename "permanent comments" to "comment templates": Good idea. Personally I
don't have that much use for templates, but I guess folks at Apache could use
that (think "Submitted by: / Approved by: " etc.). Nice.

2. What do you think about removing the checkbox, and adding some linked text
label, that when clicked will bring you to the templates prefs page directly?
That way it's not as intrusive because you don't have to cancel the whole commit
process but can edit the templates "right there". When finished, just select it
from the combo and off you go. Sounds quite nice to me :)
Sounds good. Just to summarize, what is required is

1) A combo list that shows an MRU and templates comments in such a way that 
the two are easily distinguishable.

2) A preference page for managing commit templates

3) A link from the commit dialog to the commit template preference page. The 
easy approach is to use the help to mention the preferences page. A deluxe 
solution involves adding a button or link to the commit dialog that opens a 
separate dialog that contains the commit templatge preference page.
Created attachment 24894
new patch as per comment #5

This patch implements the features mentioned in comment #5.

Minor glitches (I've added TODO's):

- Combo box shows "TEMPL:" where a comment is actually a template. This must be
changed to not showing "TEMPL:" and adding a divider between the templates and
the regular comments.

- When saving the templates list XML file fails when clicking "OK" in the
preference page, no error message is displayed. Instead, the TeamException is
swallowed silently.
Just to make sure: The latest patch is not incremental, rendering the first two
patches obsolete. Please do not apply those.
Thanks for the patch. I'll have a look when I have time (sometime in the next 
few weeks)
Alright.
I can't release this patch. You need to add a suitable copyright to any new 
files. Two of the three new files have an IBM copyright (do you work for 
IBM?). A third file is missing a copyright altogether. Here is a link that 
describes what the copyright should look like:

http://www.eclipse.org/legal/copyrightandlicensenotice.html

Also, the following things need to be fixed.

1) Neumonics for labels and buttons need to be added (so that ALT key 
navigation works).
2) The TEMPL prefix needs to be externalized and changed it to Template: as 
TEMPL is not something the average user will undrstand. 
3) There is a bug when a comment is added using the Configure link. Basically, 
the item gets added but selecting it puts the text that was previously at that 
index in the comment field.

Other than that, the patch looks good. So, I need the copyrights, neumonics 
and NLSed Template prefix (although I would still prefer a separator;-). As 
for the link, I'm not actually convinced I want to have it there. It is a good 
indicator but it would set a precedent (i.e. I haven't seen any other dialogs 
that link to preference pages this way). I'll need to consult with the UI guys 
about that one.
Oh, I wasn't aiming to have it applied the fast way :)
Just trying things out and see what you say. I will fix the things you mentioned.

Re separator in combo: The only thing I can think of is a "-----------", which I
do think would be rather ugly. Aside from that, the user could select it (having
no effect of course). Unfortunately, I can't see how to add an option that is
disabled :-/

As for the link in the dialog, the Java project properties dialog has one, too.
For example, the "Java Code Style" page there has a link to the respective
global preference page. Not sure if that counts, though :)
Re copyrights: Two of the files are actually copied &amp; pasted, with _extremely_
minor modifications. I'm not quite sure what to do with those. I could add
myself as contributor, but I think that's asking too much already ;)
Created attachment 24963
new patch as per comment #10

Things fixed:

- Added copyrights/contributor statements. For two of the new files that are
really just copied and pasted, I haven't modified the copyright statements at
all.

- Mnemonics added.

- "TEMPL:" prefix changed to "Template:" and NLS'ed.


I don't seem to be able to reproduce the bug you mentioned, though. I can add
new templates using the link and select them in the combo just fine. Perhaps
you can provide me with the exact steps to reproduce that?
Created attachment 25364
new version of the patch

This version of the patch fixes the bug you mentioned where entering a comment
could erase a comment template having the same text.
Patch released. I had to make a few modifications mostly due to changes made 
since you generated the patch.
That's great news. What would be the next integration build where I can test the
new feature?
The next integration build should be on Tuesday.
Verified in I20050920-0010</WithOutStack>
  </Bug>
  <Bug>
    <BugId amount="102462" />
    <CreationDate amount="2005-07-01 07:21:00 -0400" />
    <DupId amount="" />
    <classification amount="Eclipse" />
    <Product amount="Platform" />
    <component amount="Ant" />
    <Version amount="3.1" />
    <rep_platform amount="PC" />
    <op_sys amount="Windows 2000" />
    <priority amount="P3" />
    <bug_severity amount="normal" />
    <Summery>Return key does not work when editing ant cvs file</Summery>
    <Patches amount="0" />
    <Stacktraces amount="0" />
    <SourceCodeRegions amount="0" />
    <Enumerations amount="0" />
    <bug_status amount="RESOLVED" />
    <resolution amount="WORKSFORME" />
    <WithStack>In an Eclipse java project which is shared with CVS, open an ant build file 
which is CVS shared but not yet in edit state.

In the file, hit the Return key...

Result:
The file CVS state change to "edit", but *NO* new line is inserted. In fact you 
can see the line being inserted and removed in a fraction of second.

N.B. : Any other character works correctly and the problem does not occur in 
Java files.
Thank you for the bug report.
On a standard Eclipse 3.1 install I cannot reproduce your problem.

Have you added any third party plugins?
I only added the project sets plugin which can be found 
at "http://www.ejbprovider.de/homepage/" (version 1.3.1.1)

On my PC, I can reproduce it every time...

As we propagate the 3.1 version on all our development PCs, I will check if the 
problem can be reproduced on other PCs with or without this plugin.

anything further to report?
I have been unable to reproduce.</WithStack>
    <WithOutStack>In an Eclipse java project which is shared with CVS, open an ant build file 
which is CVS shared but not yet in edit state.

In the file, hit the Return key...

Result:
The file CVS state change to "edit", but *NO* new line is inserted. In fact you 
can see the line being inserted and removed in a fraction of second.

N.B. : Any other character works correctly and the problem does not occur in 
Java files.
Thank you for the bug report.
On a standard Eclipse 3.1 install I cannot reproduce your problem.

Have you added any third party plugins?
I only added the project sets plugin which can be found 
at "http://www.ejbprovider.de/homepage/" (version 1.3.1.1)

On my PC, I can reproduce it every time...

As we propagate the 3.1 version on all our development PCs, I will check if the 
problem can be reproduced on other PCs with or without this plugin.

anything further to report?
I have been unable to reproduce.</WithOutStack>
  </Bug>
  <Bug>
    <BugId amount="102463" />
    <CreationDate amount="2005-07-01 07:49:00 -0400" />
    <DupId amount="" />
    <classification amount="Eclipse" />
    <Product amount="Platform" />
    <component amount="Ant" />
    <Version amount="3.1" />
    <rep_platform amount="PC" />
    <op_sys amount="Windows 2000" />
    <priority amount="P3" />
    <bug_severity amount="major" />
    <Summery>ANT targets do nothing - not even show output in console</Summery>
    <Patches amount="0" />
    <Stacktraces amount="4">
      <Stacktrace timestamp="1437330551779">
        <Exception>java.net.SocketTimeoutException</Exception>
        <Reason>Accept timed out</Reason>
        <Frames>
          <Frame depth="0">java.net.PlainSocketImpl.socketAccept(Native Method)</Frame>
          <Frame depth="1">java.net.PlainSocketImpl.accept(PlainSocketImpl.java:384)</Frame>
          <Frame depth="2">java.net.ServerSocket.implAccept(ServerSocket.java:450)</Frame>
          <Frame depth="3">java.net.ServerSocket.accept(ServerSocket.java:421)</Frame>
          <Frame depth="4">org.eclipse.ant.internal.ui.launchConfigurations.RemoteAntBuildListener$ServerConnection.run(RemoteAntBuildListener.java:97)</Frame>
        </Frames>
      </Stacktrace>
      <Stacktrace timestamp="1437330551779">
        <Exception>java.net.SocketTimeoutException</Exception>
        <Reason>Accept timed out</Reason>
        <Frames>
          <Frame depth="0">java.net.PlainSocketImpl.socketAccept(Native Method)</Frame>
          <Frame depth="1">java.net.PlainSocketImpl.accept(PlainSocketImpl.java:353)</Frame>
          <Frame depth="2">java.net.ServerSocket.implAccept(ServerSocket.java:448)</Frame>
          <Frame depth="3">java.net.ServerSocket.accept(ServerSocket.java:419)</Frame>
          <Frame depth="4">org.eclipse.ant.internal.ui.launchConfigurations.RemoteAntBuildListener$ServerConnection.run(RemoteAntBuildListener.java:97)</Frame>
        </Frames>
      </Stacktrace>
      <Stacktrace timestamp="1437330551779">
        <Exception>java.net.SocketTimeoutException</Exception>
        <Reason>Accept timed out</Reason>
        <Frames>
          <Frame depth="0">java.net.PlainSocketImpl.socketAccept(Native Method)</Frame>
          <Frame depth="1">java.net.PlainSocketImpl.accept(PlainSocketImpl.java:384)</Frame>
          <Frame depth="2">java.net.ServerSocket.implAccept(ServerSocket.java:449)</Frame>
          <Frame depth="3">java.net.ServerSocket.accept(ServerSocket.java:420)</Frame>
          <Frame depth="4">org.eclipse.ant.internal.ui.launchConfigurations.RemoteAntBuildListener$ServerConnection.run(RemoteAntBuildListener.java:97)</Frame>
        </Frames>
      </Stacktrace>
      <Stacktrace timestamp="1437330551779">
        <Exception>java.lang.NoClassDefFoundError</Exception>
        <Reason>org/apache/tools/ant/BuildException.

That prompted me to check my ant home - which at the time 
was "plugins/org.apache.ant_1.6.5".  It looked okay, so I click the Ant Home 
button and browsed to the same directory (plugins/org.apache.ant_1.6.5), then 
clicked OK.  That must have done somthing because it worked after that.

-Matt
I too have this problem.  Sometimes it is fixed by restarting eclipse, sometimes
not.  The Ant task does appear to be running anyway, at least for simple tasks
(such as a clean).  For more complex tasks, it appears to work at least part way
through the task but then dies silently. 

I encountered this bug by trying to research another issues that I'm working on,
wherein Ant will show some output to the console but stops partway through the
output even though the Ant task is still running. 
Scott, the stopping of output is likely a different bug...you don't happen to 
be running on linux? See bug 102300.
(In reply to comment #28)
&gt; Scott, the stopping of output is likely a different bug...you don't happen to 
&gt; be running on linux? See bug 102300.

Nope, Windows for me.  I discovered that the issue seems to have something to do
with inclusion of other build.xml files over a network.  When I copy them
locally, the build works fine.  But when I include them via an UNC file path, it
stops partway through. 
I also have seen that particular behaviour: ANT target freeze, error log shows 
a 'Error logged from Ant UI: java.net.SocketTimeoutException: Accept timed out' 
message.
My config: eclipse3.2M2 launched with a jdk1.5_05, eclipse using a jre1.4.2_09, 
on WXPSP1.
Launching ant using "the same jre than the workspace" does work though.

In my case, the cause was the recent installation of Permeo e-border5.1, a 
proxy SOCKS programs which obviously has fiddled a little too muck with the 
socks layer...
If I remove it, all returns to normal
If I install an older version of e-border (4.2), ANT works also just fine...

To summarize, it seems this behavious should always been associated with a 
network communication problem (firewall, socks proxy, ...)
We have the same problem with the same exception noted in comment #4 &amp; #5
Some tests showed that running the project builder in a separate VM caused the
ant tasks to fail silently, where as running in the same VM still failed but
opened a dialog box in the workspace warning (as in comment #26) that the ant
taskdef class (xmlc in this case) could not be found.

We tested the targets as external tools and they ran successfully, it was only
defined as a project builder that it failed, and identical targets on other
projects did not fail.

A workaround that worked here was to find the .launch file containing the
failing builders config, delete it and replace it with a similar one from
another project that works. Then go into the project builder options window and
reconfigure it to the correct values for that project. Attempting to manually
modify the original broken .launch config did not have the same affect.

running:
win XP pro SP2
eclipse 3.1
j2sdk1.4.2_07
ant 1.6.5 (eclipse 3.1 default)

I had the same problem as in comment #4 and comment #5 after an upgrade from
Eclipse 3.0.2 on Windows.  I tried recreating my workspace, but the same problem
occurred.  I finally managed to work around the problem... I had been setting
"env.HOME" in Preferences-&gt;Ant Runtime-&gt;Properties as our build scripts look for
$HOME (they're really meant for *NIX rather than Windows).  However, when this
is set, the problem occurs.  Removing the setting of this property, and instead
setting the HOME environment variable in Windows and restarting Eclipse solved
the problem.

Perhaps the problem is related to the setting of custom Ant properties?
I had the same problem. When I called ant, no output was produced in the console. However the error log got the "java.net.SocketTimeoutException: Accept timed out". This problem started after I modified an ant runtime property in Windows.Preferences. It disappeared when I used the "restore defaults" button, but reappeared when I reentered the properties containing windows paths. I could solver the problem by replacing the backslashes in the paths by normal slashes
Comments #32 and #33 (at least) seem to be manifestations of bug #102641.  Is anyone experiencing this problem *without* having custom Ant properties set with backslashes in them?  If not, this can probably be set as a dupe.
(In reply to comment #34)
&gt; Comments #32 and #33 (at least) seem to be manifestations of bug #102641.  Is
&gt; anyone experiencing this problem *without* having custom Ant properties set
&gt; with backslashes in them?  If not, this can probably be set as a dupe.
&gt; 
Like Alistair, the only way I have been able to produce symptoms similar to this bug report is from bug 102641.

A more general description of the problem is that we are generating an incorrect commandline for the Ant execution.

If others do not have Ant properties set as indicated above, please attach your commandline to this bug report.
To get the commandline, go to the Debug view, right click on the Process&gt;Properties&gt;Command Line

Without further input from the reporters I will be closing this bug as a duplicate in the near future.

Thanks for your help.

(In reply to comment #35)
&gt; Like Alistair, the only way I have been able to produce symptoms similar to
&gt; this bug report is from bug 102641.

I had similar symptoms, but it turns out to be because I moved my entire eclipse installation to a new location on the filesystem.  The core ant home was still set to the old location.  After fixing this in prefereces -&gt; ant -&gt; runtime life is good again.  If you've overridden the defualt ant home in your launcher then I imagine fixing the ant home there will give similar results.
With nothing specific in this bug report I am going to close it marking wontfix as I believe it is handled by fixes to various other bugs in the 3.2 cycle.

For 3.2 we have implemented bug 101090 which allows the user to set the default timeout for the Ant socket communication (and the default has been increased from 5 to 20 seconds)...this may have been a factor. A timeout would result in:
 java.net.SocketTimeoutException: Accept timed out</Reason>
        <Frames>
          <Frame depth="0">java.net.PlainSocketImpl.socketAccept(Native Method)</Frame>
          <Frame depth="1">java.net.PlainSocketImpl.accept(PlainSocketImpl.java:353)</Frame>
          <Frame depth="2">java.net.ServerSocket.implAccept(ServerSocket.java:448)</Frame>
          <Frame depth="3">java.net.ServerSocket.accept(ServerSocket.java:419)</Frame>
        </Frames>
      </Stacktrace>
    </Stacktraces>
    <SourceCodeRegions amount="1">
      <source_code type="assignment">
        <location start="13914" end="13930" />
        <code>path.separator=;</code>
      </source_code>
    </SourceCodeRegions>
    <Enumerations amount="0" />
    <bug_status amount="RESOLVED" />
    <resolution amount="WONTFIX" />
    <WithStack>I upgraded today from Eclipse 3.1RC3 to final Eclipse 3.1. Unfortunately, just 
like the former 3.1x Versions ANT is not working again. This time, when I 
double click an ANT target, the little progress bar in the bottom right corner 
of Eclipse just displays "Launching: ..." for a short time and then ends. The 
console view stays empty - no error, no indication if it run or not.
I notice that this might be a problem of the Console view as it doesn't show 
anything at all anymore ... ??? I tried to close the Console view and open a 
new one, but it never shows anything (Compilation, Run, etc.).
In addition, when I start a project (which seems to run as the applications log 
file is written properly) I also don't see it anymore in the debug view. I 
browsed the preferences to find some indication what changed in 3.1 but I can't 
believe that this is a new behaviour. Eclipse doesn't show anything of running 
applications!
This is all pretty surprising behavior which I have never seen nor have any 
idea how you are in this state.

I have been using Eclipse 3.1 daily for Ant and Java development since it was 
released.

Lets start with any indication in the log file?
I have the same problem on all versions of 3.1 that I've tried (including final).

The PDE logs the following:
Error logged from Ant UI:
java.net.SocketTimeoutException: Accept timed out
at java.net.PlainSocketImpl.socketAccept(Native Method)
at java.net.PlainSocketImpl.accept(PlainSocketImpl.java:384)
at java.net.ServerSocket.implAccept(ServerSocket.java:450)
at java.net.ServerSocket.accept(ServerSocket.java:421)
at
org.eclipse.ant.internal.ui.launchConfigurations.RemoteAntBuildListener$ServerConnection.run(RemoteAntBuildListener.java:97)

This works correctly on 3.0.2.

This works correctly on a different computer on 3.1.

I get a similar problem since switching from 3.0.2 to 3.1 on Windows 2000.
When using right-click/Run as/Ant Build on my build.xml, I get a popup saying
"Could not find the main class. Program will exit".

In the Error log view, I get:
Message: Error logged from Ant UI: 
Exception Stack Trace:
java.net.SocketTimeoutException: Accept timed out
	at java.net.PlainSocketImpl.socketAccept(Native Method)
	at java.net.PlainSocketImpl.accept(PlainSocketImpl.java:353)
	at java.net.ServerSocket.implAccept(ServerSocket.java:448)
	at java.net.ServerSocket.accept(ServerSocket.java:419)
	at
org.eclipse.ant.internal.ui.launchConfigurations.RemoteAntBuildListener$ServerConnection.run(RemoteAntBuildListener.java:97)

I have the same problem as well in 3.1 final.

Error logged from Ant UI: 
java.net.SocketTimeoutException: Accept timed out
	at java.net.PlainSocketImpl.socketAccept(Native Method)
	at java.net.PlainSocketImpl.accept(PlainSocketImpl.java:384)
	at java.net.ServerSocket.implAccept(ServerSocket.java:449)
	at java.net.ServerSocket.accept(ServerSocket.java:420)
	at
org.eclipse.ant.internal.ui.launchConfigurations.RemoteAntBuildListener$ServerConnection.run(RemoteAntBuildListener.java:97)


  However- it only appears in one project of mine.  It happens in that project
consistently.  I was running ant builds in that project all day yesterday until
this appeared (probably 40+ builds).  Today I can run ant builds in other
projects in the exact same Eclipse instance and workspace (so far).  Try running
a particular build a gajillion times and see if that makes it eventually conk out.
Ensure to check that the Ant runtime classpath is not pointing to the old 
Eclipse Ant plugin (1.6.4 instead of 1.6.5 for example).
My Ant runtime classpath is pointing to eclipse-3.1\plugins\org.apache.ant_1.6.5
for both the projects that will build and the one that won't.
My Ant runtime is pointing to the instance in the 3.1 final plugins directory of
Eclipse.

I don't know if this is relevant, but I also get this error every time I start 3.1:

A workspace crash was detected. The previous session did not exit normally.

No stack trace is available.

I also verified that 3.0.2 still works correctly on the same computer building
the same project.

I also tried "-clean" on startup with 3.1, to no avail.

I also created a new workspace and imported the projects and still get the same
error/problem with 3.1.


On Windows XP SP2, I get the same type of problem. Console shows "a console is
not available" and that's all. It was OK with prior Eclipse version (3.0) and I
did not change anything but updated Eclipse...

Ant run ok in DOS command.

Jacques
I see the same problem as well going from 3.0.2 to 3.1. Worked find previously.

One additional piece of information. I have an older version of ant installed on
the system (1.6.2) and my ANT_HOME environment variable (in windows, no eclipse)
points to this directory. I know that ANT really wants this variable set or it
will not run. Is having this point to the ant outside of eclipse a problem? Does
eclipse create the environment wrong when calling out to ant?
Dan,

I don't think it's the point. Because ant seems running but we have no log.
Am-I wrong ?

Jacques
You are correct Jacques. I just did an experiment. My project does build
correctly when invoking the ant task from Eclipse, there is just no log.

Can you all please check that there is no firewall etc. interferring with 
socket communication on your computers.
Do same JRE ant builds provide output (no socket communication)? This can be 
set on the JRE tab for any particular Ant build.
Setting it to use the same JRE does in fact allow the output to display!

As for the firewalls question; there is nothing that I know of.
No software firewall on my XP machine. All is done by my router.

"Run in the same JRE as the workspace" was not a solution for me :(

Jacques
I do have a firewall on my machine -- corporate mandate.  I believe it is
"RealSecure Desktop Protector".  OS is Windows XP/PRO.

Matching or mis-matched JRE makes no difference, I still get no output.

And, my ant tasks are not actually running at all.  That is, if I do an "ant
clean" from the command line to clean things up, then, in Eclipse, select the
"test" target, I get a "jvm terminated" on the "heading" line of the console,
and no output directories are built.




On my box (Suse Linux 9.1) I encounter a simular problem. The output of Ant is
shown in the console, but as soon as the compiling starts, nothing is shown
anymore (even though the Ant task still continues to work fine).

I am using J2ME Polish (http://www.j2mepolish.org) for building J2ME
applications. Internally J2ME Polish uses a Javac task for compiling. In the 3.1
final no output is shown anymore from the momenet the Javac task is executed. In
Eclipse  3.0.x, other IDEs as well as on the commandline, the complete output is
shown.

When the "Run in the same JRE" option is activated, all is well.

Best,
   Robert
"Run in the same JRE" is a successful workaround for me.

&gt; I am using J2ME Polish (http://www.j2mepolish.org) for building J2ME
&gt; applications. Internally J2ME Polish uses a Javac task for compiling. In the 
3.1
&gt; final no output is shown anymore from the momenet the Javac task is executed. 
In
&gt; Eclipse  3.0.x, other IDEs as well as on the commandline, the complete output 
is shown.
Most likely this is bug 102300...check your log

My apologies.  After reading more replies and checking the referring bug, I
realize I wasn't correctly setting "run in same JRE".  When I set this, I now
get output correctly in the console window.

Sorry to mass poll but I am trying to still grok the real root problem causing 
the bug (I have not been able to reproduce):

Does anyone on this bug report NOT have success if they set to run the Ant 
build in the same JRE?

(In reply to comment #20)
&gt; &gt; In Eclipse  3.0.x, other IDEs as well as on the commandline, the complete
output 
&gt; &gt; is shown.
&gt; Most likely this is bug 102300...check your log

Nope, there is nothing to be seen in workspace/.metadata/.log


In reply to Comment #22 From Darin Swanson,

Yes I still have the message "A console is not available"  if I set "Run in the
same JRE as the workspace". Fortunately the ant task run, and I can see its end
in the status bar as I also set "Refresh ressources upon completion".

Windows XP SP2, with was OK before in Eclipse 3.0.2

I run eclipse with java jre1.5.0_02

But I have j2sdk1.4.2_05 installed because I need it to work on my project
(OFBiz) (+ j2re1.4.2_03 and j2re1.4.2_06 BTW)

Outside I run ant with j2sdk1.4.2_05

Jacques

Thanks for your commitment !

Here are some of the "Configuration details" :

*** Date: Tue Jul 19 21:04:04 CEST 2005

*** Platform Details:

*** System properties:
ant.home=c:\Program Files\Eclipse\plugins\org.apache.ant_1.6.5
ant.library.dir=c:\Program Files\Eclipse\plugins\org.apache.ant_1.6.5\lib
awt.toolkit=sun.awt.windows.WToolkit
eclipse.application=org.eclipse.ui.ide.workbench
eclipse.buildId=I20050627-1435
eclipse.commands=-os
win32
-ws
win32
-arch
x86
-launcher
C:\Program Files\Eclipse\eclipse.exe
-name
Eclipse
-showsplash
600
-exitdata
2f4_2c
-data
d:\workspace
-vm
C:\WINDOWS\system32\javaw.exe
eclipse.product=org.eclipse.platform.ide
eclipse.startTime=1121799499421
eclipse.vm=C:\WINDOWS\system32\javaw.exe
eclipse.vmargs=-Xms40m
-Xmx256m
-jar
C:\Program Files\Eclipse\startup.jar
eof=eof
file.encoding=Cp1252
file.encoding.pkg=sun.io
file.separator=\
java.awt.graphicsenv=sun.awt.Win32GraphicsEnvironment
java.awt.printerjob=sun.awt.windows.WPrinterJob
java.class.path=C:\Program Files\Eclipse\startup.jar
java.class.version=49.0
java.endorsed.dirs=C:\Program Files\Java\jre1.5.0_02\lib\endorsed
java.ext.dirs=C:\Program Files\Java\jre1.5.0_02\lib\ext
java.home=C:\Program Files\Java\jre1.5.0_02
java.io.tmpdir=C:\DOCUME~1\JACQUE~1\LOCALS~1\Temp\
java.library.path=C:\WINDOWS\system32;.;C:\WINDOWS\system32;C:\WINDOWS;C:\WINDOWS\system32;C:\WINDOWS;C:\WINDOWS\System32\Wbem;D:\workspace\Neogia\Utilitaires\apache-ant-1.6.2\bin;D:\workspace\Neogia\Utilitaires\CVS;D:\workspace\Neogia\Utilitaires\SSH;D:\workspace\Neogia\Utilitaires\Patch\bin;D:\workspace\Neogia\Utilitaires\Subversion\bin;D:\workspace\Neogia\Utilitaires\Maven-1.0.2\bin;C:\Java\j2sdk1.4.2_05\bin;C:\PROGRA~1\ULTRAEDT;D:\workspace\Neogia\Utilitaires\Diff\bin;C:\Program
Files\Executive Software\Diskeeper Home Edition\;C:\Program Files\Microsoft
Visual Studio\Common\Tools\WinNT;C:\Program Files\Microsoft Visual
Studio\Common\MSDev98\Bin;C:\Program Files\Microsoft Visual
Studio\Common\Tools;C:\Program Files\Microsoft Visual Studio\VC98\bin
java.runtime.name=Java(TM) 2 Runtime Environment, Standard Edition
java.runtime.version=1.5.0_02-b09
java.specification.name=Java Platform API Specification
java.specification.vendor=Sun Microsystems Inc.
java.specification.version=1.5
java.vendor=Sun Microsystems Inc.
java.vendor.url=http://java.sun.com/
java.vendor.url.bug=http://java.sun.com/cgi-bin/bugreport.cgi
java.version=1.5.0_02
java.vm.info=mixed mode, sharing
java.vm.name=Java HotSpot(TM) Client VM
java.vm.specification.name=Java Virtual Machine Specification
java.vm.specification.vendor=Sun Microsystems Inc.
java.vm.specification.version=1.0
java.vm.vendor=Sun Microsystems Inc.
java.vm.version=1.5.0_02-b09
line.separator=

org.eclipse.jdt.debug.ui.scrapbookActive=false
org.osgi.framework.bootdelegation=*
org.osgi.framework.executionenvironment=J2SE-1.5
org.osgi.framework.language=fr
org.osgi.framework.os.name=WindowsXP
org.osgi.framework.os.version=5.1
org.osgi.framework.processor=x86
org.osgi.framework.system.packages=javax.accessibility,javax.activity,javax.crypto,javax.crypto.interfaces,javax.crypto.spec,javax.imageio,javax.imageio.event,javax.imageio.metadata,javax.imageio.plugins.bmp,javax.imageio.plugins.jpeg,javax.imageio.spi,javax.imageio.stream,javax.management,javax.management.loading,javax.management.modelmbean,javax.management.monitor,javax.management.openmbean,javax.management.relation,javax.management.remote,javax.management.remote.rmi,javax.management.timer,javax.naming,javax.naming.directory,javax.naming.event,javax.naming.ldap,javax.naming.spi,javax.net,javax.net.ssl,javax.print,javax.print.attribute,javax.print.attribute.standard,javax.print.event,javax.rmi,javax.rmi.CORBA,javax.rmi.ssl,javax.security.auth,javax.security.auth.callback,javax.security.auth.kerberos,javax.security.auth.login,javax.security.auth.spi,javax.security.auth.x500,javax.security.cert,javax.security.sasl,javax.sound.midi,javax.sound.midi.spi,javax.sound.sampled,javax.sound.sampled.spi,javax.sql,javax.sql.rowset,javax.sql.rowset.serial,javax.sql.rowset.spi,javax.swing,javax.swing.border,javax.swing.colorchooser,javax.swing.event,javax.swing.filechooser,javax.swing.plaf,javax.swing.plaf.basic,javax.swing.plaf.metal,javax.swing.plaf.multi,javax.swing.plaf.synth,javax.swing.table,javax.swing.text,javax.swing.text.html,javax.swing.text.html.parser,javax.swing.text.rtf,javax.swing.tree,javax.swing.undo,javax.transaction,javax.transaction.xa,javax.xml,javax.xml.datatype,javax.xml.namespace,javax.xml.parsers,javax.xml.transform,javax.xml.transform.dom,javax.xml.transform.sax,javax.xml.transform.stream,javax.xml.validation,javax.xml.xpath,org.ietf.jgss,org.omg.CORBA,org.omg.CORBA_2_3,org.omg.CORBA_2_3.portable,org.omg.CORBA.DynAnyPackage,org.omg.CORBA.ORBPackage,org.omg.CORBA.portable,org.omg.CORBA.TypeCodePackage,org.omg.CosNaming,org.omg.CosNaming.NamingContextExtPackage,org.omg.CosNaming.NamingContextPackage,org.omg.Dynamic,org.omg.DynamicAny,org.omg.DynamicAny.DynAnyFactoryPackage,org.omg.DynamicAny.DynAnyPackage,org.omg.IOP,org.omg.IOP.CodecFactoryPackage,org.omg.IOP.CodecPackage,org.omg.Messaging,org.omg.PortableInterceptor,org.omg.PortableInterceptor.ORBInitInfoPackage,org.omg.PortableServer,org.omg.PortableServer.CurrentPackage,org.omg.PortableServer.POAManagerPackage,org.omg.PortableServer.POAPackage,org.omg.PortableServer.portable,org.omg.PortableServer.ServantLocatorPackage,org.omg.SendingContext,org.omg.stub.java.rmi,org.w3c.dom,org.w3c.dom.bootstrap,org.w3c.dom.events,org.w3c.dom.ls,org.xml.sax,org.xml.sax.ext,org.xml.sax.helpers
org.osgi.framework.vendor=Eclipse
org.osgi.framework.version=1.3.0
org.osgi.supports.framework.extension=true
os.arch=x86
os.name=Windows XP
os.version=5.1
osgi.arch=x86
osgi.bundles=org.eclipse.core.runtime@2:start,
org.eclipse.update.configurator@3:start
osgi.bundlestore=c:\Program Files\Eclipse\configuration\org.eclipse.osgi\bundles
osgi.configuration.area=file:/c:/Program Files/Eclipse/configuration/
osgi.framework=file:/c:/Program Files/Eclipse/plugins/org.eclipse.osgi_3.1.0.jar
osgi.framework.beginningstartlevel=1
osgi.framework.shape=jar
osgi.framework.version=3.0.0
osgi.install.area=file:/c:/Program Files/Eclipse/
osgi.instance.area=file:/d:/workspace/
osgi.instance.area.default=file:/C:/Documents and Settings/Jacques Le
Roux/workspace/
osgi.logfile=d:\workspace\.metadata\.log
osgi.manifest.cache=c:\Program
Files\Eclipse\configuration\org.eclipse.osgi\manifests
osgi.nl=fr_FR
osgi.os=win32
osgi.splashLocation=c:\Program
Files\Eclipse\plugins\org.eclipse.platform_3.1.0\splash.bmp
osgi.splashPath=platform:/base/plugins/org.eclipse.platform
osgi.syspath=c:\Program Files\Eclipse\plugins
osgi.ws=win32
path.separator=;
sun.arch.data.model=32
sun.boot.class.path=C:\Program Files\Java\jre1.5.0_02\lib\rt.jar;C:\Program
Files\Java\jre1.5.0_02\lib\i18n.jar;C:\Program
Files\Java\jre1.5.0_02\lib\sunrsasign.jar;C:\Program
Files\Java\jre1.5.0_02\lib\jsse.jar;C:\Program
Files\Java\jre1.5.0_02\lib\jce.jar;C:\Program
Files\Java\jre1.5.0_02\lib\charsets.jar;C:\Program Files\Java\jre1.5.0_02\classes
sun.boot.library.path=C:\Program Files\Java\jre1.5.0_02\bin
sun.cpu.endian=little
sun.cpu.isalist=
sun.desktop=windows
sun.io.unicode.encoding=UnicodeLittle
sun.jnu.encoding=Cp1252
sun.management.compiler=HotSpot Client Compiler
sun.os.patch.level=Service Pack 2
user.country=FR
user.dir=C:\Program Files\eclipse
user.home=C:\Documents and Settings\Jacques Le Roux
user.language=fr
user.name=Jacques Le Roux
user.timezone=Europe/Paris
user.variant=

*** Features:
net.sf.colorer (0.6.1) "Eclipse Colorer Library Plugin"
org.eclipse.emf (2.0.3.M200505311255) "Eclipse Modeling Framework (EMF)"
org.eclipse.emf.doc (2.0.3.M200505311255) "Eclipse Modeling Framework (EMF)
Programmers Guide"
org.eclipse.emf.ecore.sdo (2.0.3.M200505311255) "EMF Service Data Objects (SDO)"
org.eclipse.emf.ecore.sdo.doc (2.0.3.M200505311255) "EMF Service Data Objects
(SDO) Programmers Guide"
org.eclipse.emf.ecore.sdo.source (2.0.3.M200505311255) "EMF Service Data Objects
(SDO) Source"
org.eclipse.emf.source (2.0.3.M200505311255) "Eclipse Modeling Framework (EMF)
Source"
org.eclipse.gef (3.0.1) "Graphical Editing Framework"
org.eclipse.gef.sdk (3.0.1) "Graphical Editing Framework Developer Resources"
org.eclipse.gef.source (3.0.1) "Graphical Editing Framework Developer Resources"
org.eclipse.jdt (3.0.2) "Eclipse Java Development Tools"
org.eclipse.jdt.source (3.0.2) "Eclipse Java Development Tools SDK"
org.eclipse.jem (1.0.2.1) "Java EMF Model"
org.eclipse.jem.sdk (1.0.2.1) "Java EMF Model SDK"
org.eclipse.jem.source (1.0.2.1) "Java EMF Model Source"
org.eclipse.pde (3.0.2) "Eclipse Plug-in Development Environment"
org.eclipse.pde.source (3.0.2) "Eclipse Plug-in Development Environment
Developer Resources"
org.eclipse.platform (3.1.0) "Eclipse Platform"
org.eclipse.platform.source (3.0.2) "Eclipse Platform Plug-in Developer Resources"
org.eclipse.rcp (3.1.0) "Eclipse RCP"
org.eclipse.sdk (3.0.2) "Eclipse Project SDK"
org.eclipse.sdk.examples (3.0.1) "Eclipse SDK Examples"
org.eclipse.team.extras (3.0.0) "Eclipse FTP and WebDAV Support"
org.eclipse.ve (1.0.2.1) "Visual Editor"
org.eclipse.ve.sdk (1.0.2.1) "Visual Editor SDK"
org.eclipse.ve.source (1.0.2.1) "Visual Editor Source"
org.eclipse.xsd (2.0.2.M200505311255) "XML Schema Infoset Model (XSD)"
org.eclipse.xsd.doc (2.0.2.M200505311255) "XML Schema Infoset Model (XSD)
Programmers Guide"
org.eclipse.xsd.source (2.0.2.M200505311255) "XML Schema Infoset Model (XSD) Source"
org.tigris.subversion.book (1.1.1) "Version Control with Subversion"
org.tigris.subversion.subclipse (0.9.31) "Subclipse"


*** Current Install Configuration:
Install configuration:
 Last changed on 15 juil. 2005
 Location: file:/c:/Program
Files/Eclipse/configuration/org.eclipse.update/platform.xml

 Configured sites:
  platform:/base/

 Configured features:
  ID: com.ibm.wtp.emf.integration.core, Version: 1.0.1.2
  ID: org.eclipse.jdt.source, Version: 3.0.2
  ID: org.eclipse.emf.ecore.sdo.source, Version: 2.0.3.M200505311255
  ID: org.eclipse.pde.source, Version: 3.0.2
  ID: org.eclipse.sdk, Version: 3.0.2
  ID: com.simontuffs.eclipse.jarplug.feature, Version: 0.6.0
  ID: com.simontuffs.eclipse.jarlaunch.feature, Version: 0.5.0
  ID: org.eclipse.emf.ecore.sdo.doc, Version: 2.0.3.200505261142
  ID: org.eclipse.team.extras, Version: 3.0.0
  ID: org.eclipse.platform, Version: 3.1.0
  ID: org.visigoths.freemarker.feature, Version: 0.3.1
  ID: org.eclipse.emf.source, Version: 2.0.3.M200505311255
  ID: org.eclipse.gef.source, Version: 3.0.1
  ID: org.tigris.subversion.book, Version: 1.1.1
  ID: org.eclipse.jdt, Version: 3.0.2
  ID: org.eclipse.jem, Version: 1.0.2
  ID: org.eclipse.ve.source, Version: 1.0.2.1
  ID: org.eclipse.gef, Version: 3.0.1
  ID: org.eclipse.sdk.examples, Version: 3.0.1
  ID: org.eclipse.gef.source, Version: 3.0.1
  ID: org.eclipse.emf, Version: 2.0.3.200505261142
  ID: org.eclipse.jem.source, Version: 1.0.2.1
  ID: org.eclipse.ve.sdk, Version: 1.0.1
  ID: org.eclipse.rcp, Version: 3.1.0
  ID: org.eclipse.platform.source, Version: 3.0.2
  ID: org.eclipse.emf.sdk, Version: 2.0.3.M200505311255
  ID: org.eclipse.ve, Version: 1.0.1
  ID: org.eclipse.xsd.doc, Version: 2.0.2.200505261142
  ID: org.eclipse.xsd.source, Version: 2.0.2.M200505311255
  ID: com.ibm.wtp.common.utilities, Version: 1.0.1
  ID: org.eclipse.pde, Version: 3.0.1
  ID: org.eclipse.emf.ecore.sdo, Version: 2.0.3.200505261142
  ID: org.eclipse.xsd, Version: 2.0.2.200505261142
  ID: org.eclipse.emf.doc, Version: 2.0.3.200505261142
  ID: org.eclipse.jem.sdk, Version: 1.0.1
  ID: org.tigris.subversion.subclipse, Version: 0.9.31
  ID: net.sf.colorer, Version: 0.6.1

Finally I'm not sure that even the ant task run correctly. When I launch a sub
ant task  (a build.xml file deep in the tree of directories) It seems not to
work. I have to launch ant externally to get it done.

Before it was 2 o 3 seconds for a such task, now it's 20 or 30, rather annoying :(

Jacques
(In reply to comment #19)
&gt; "Run in the same JRE" is a successful workaround for me.

I tried the "Run in the same JRE", and I recv'd a different error: 
java.lang.NoClassDefFoundError: org/apache/tools/ant/BuildException.

That prompted me to check my ant home - which at the time 
was "plugins/org.apache.ant_1.6.5".  It looked okay, so I click the Ant Home 
button and browsed to the same directory (plugins/org.apache.ant_1.6.5), then 
clicked OK.  That must have done somthing because it worked after that.

-Matt
I too have this problem.  Sometimes it is fixed by restarting eclipse, sometimes
not.  The Ant task does appear to be running anyway, at least for simple tasks
(such as a clean).  For more complex tasks, it appears to work at least part way
through the task but then dies silently. 

I encountered this bug by trying to research another issues that I'm working on,
wherein Ant will show some output to the console but stops partway through the
output even though the Ant task is still running. 
Scott, the stopping of output is likely a different bug...you don't happen to 
be running on linux? See bug 102300.
(In reply to comment #28)
&gt; Scott, the stopping of output is likely a different bug...you don't happen to 
&gt; be running on linux? See bug 102300.

Nope, Windows for me.  I discovered that the issue seems to have something to do
with inclusion of other build.xml files over a network.  When I copy them
locally, the build works fine.  But when I include them via an UNC file path, it
stops partway through. 
I also have seen that particular behaviour: ANT target freeze, error log shows 
a 'Error logged from Ant UI: java.net.SocketTimeoutException: Accept timed out' 
message.
My config: eclipse3.2M2 launched with a jdk1.5_05, eclipse using a jre1.4.2_09, 
on WXPSP1.
Launching ant using "the same jre than the workspace" does work though.

In my case, the cause was the recent installation of Permeo e-border5.1, a 
proxy SOCKS programs which obviously has fiddled a little too muck with the 
socks layer...
If I remove it, all returns to normal
If I install an older version of e-border (4.2), ANT works also just fine...

To summarize, it seems this behavious should always been associated with a 
network communication problem (firewall, socks proxy, ...)
We have the same problem with the same exception noted in comment #4 &amp; #5
Some tests showed that running the project builder in a separate VM caused the
ant tasks to fail silently, where as running in the same VM still failed but
opened a dialog box in the workspace warning (as in comment #26) that the ant
taskdef class (xmlc in this case) could not be found.

We tested the targets as external tools and they ran successfully, it was only
defined as a project builder that it failed, and identical targets on other
projects did not fail.

A workaround that worked here was to find the .launch file containing the
failing builders config, delete it and replace it with a similar one from
another project that works. Then go into the project builder options window and
reconfigure it to the correct values for that project. Attempting to manually
modify the original broken .launch config did not have the same affect.

running:
win XP pro SP2
eclipse 3.1
j2sdk1.4.2_07
ant 1.6.5 (eclipse 3.1 default)

I had the same problem as in comment #4 and comment #5 after an upgrade from
Eclipse 3.0.2 on Windows.  I tried recreating my workspace, but the same problem
occurred.  I finally managed to work around the problem... I had been setting
"env.HOME" in Preferences-&gt;Ant Runtime-&gt;Properties as our build scripts look for
$HOME (they're really meant for *NIX rather than Windows).  However, when this
is set, the problem occurs.  Removing the setting of this property, and instead
setting the HOME environment variable in Windows and restarting Eclipse solved
the problem.

Perhaps the problem is related to the setting of custom Ant properties?
I had the same problem. When I called ant, no output was produced in the console. However the error log got the "java.net.SocketTimeoutException: Accept timed out". This problem started after I modified an ant runtime property in Windows.Preferences. It disappeared when I used the "restore defaults" button, but reappeared when I reentered the properties containing windows paths. I could solver the problem by replacing the backslashes in the paths by normal slashes
Comments #32 and #33 (at least) seem to be manifestations of bug #102641.  Is anyone experiencing this problem *without* having custom Ant properties set with backslashes in them?  If not, this can probably be set as a dupe.
(In reply to comment #34)
&gt; Comments #32 and #33 (at least) seem to be manifestations of bug #102641.  Is
&gt; anyone experiencing this problem *without* having custom Ant properties set
&gt; with backslashes in them?  If not, this can probably be set as a dupe.
&gt; 
Like Alistair, the only way I have been able to produce symptoms similar to this bug report is from bug 102641.

A more general description of the problem is that we are generating an incorrect commandline for the Ant execution.

If others do not have Ant properties set as indicated above, please attach your commandline to this bug report.
To get the commandline, go to the Debug view, right click on the Process&gt;Properties&gt;Command Line

Without further input from the reporters I will be closing this bug as a duplicate in the near future.

Thanks for your help.

(In reply to comment #35)
&gt; Like Alistair, the only way I have been able to produce symptoms similar to
&gt; this bug report is from bug 102641.

I had similar symptoms, but it turns out to be because I moved my entire eclipse installation to a new location on the filesystem.  The core ant home was still set to the old location.  After fixing this in prefereces -&gt; ant -&gt; runtime life is good again.  If you've overridden the defualt ant home in your launcher then I imagine fixing the ant home there will give similar results.
With nothing specific in this bug report I am going to close it marking wontfix as I believe it is handled by fixes to various other bugs in the 3.2 cycle.

For 3.2 we have implemented bug 101090 which allows the user to set the default timeout for the Ant socket communication (and the default has been increased from 5 to 20 seconds)...this may have been a factor. A timeout would result in:
 java.net.SocketTimeoutException: Accept timed out
	at java.net.PlainSocketImpl.socketAccept(Native Method)
	at java.net.PlainSocketImpl.accept(PlainSocketImpl.java:353)
	at java.net.ServerSocket.implAccept(ServerSocket.java:448)
	at java.net.ServerSocket.accept(ServerSocket.java:419)
	at

As well we have fixed bug 102641 which would give similar symptoms.
Created attachment 175872
Image for eclipse
Created attachment 175873
image from eclipse
I had the same problem as in description upgraded eclipse and ANt is not working
when I double click an ANT target, the little progress bar in the bottom right corner of Eclipse just displays "Launching: ..." for a short time and then ends. The console view stays empty - no error, no indication if it run or not.

Solution :-1)Check eclipse.ini in C:\eclipse directory

If it has entry like this then it should point to JRE that you are using for Eclipse 
Check eclipse JRE go to windows-preferences-java - Installed JRE's both should match
-vm 
C:\Progra~1\Java\jdk1.6.0_21\jre\bin\javaw

2) go to windows-preferences-ant - runtime- classpath -add ant home 
C:\eclipse\plugins\org.apache.ant_1.7.1.v20100518-1145 (this should be any version of ant ) but ant home should point to whatever version you have in C:\eclipse\plugins\

In case of upgrade some time it will point to older version of ant from older version of eclipse.
I was experienceing the same problem but  option two fixed the probelm.

"2) go to windows-preferences-ant - runtime- classpath -add ant home 
C:\eclipse\plugins\org.apache.ant_1.7.1.v20100518-1145 (this should be any version of ant ) but ant home should point to whatever version you have in C:\eclipse\plugins\"</WithStack>
    <WithOutStack>I upgraded today from Eclipse 3.1RC3 to final Eclipse 3.1. Unfortunately, just 
like the former 3.1x Versions ANT is not working again. This time, when I 
double click an ANT target, the little progress bar in the bottom right corner 
of Eclipse just displays "Launching: ..." for a short time and then ends. The 
console view stays empty - no error, no indication if it run or not.
I notice that this might be a problem of the Console view as it doesn't show 
anything at all anymore ... ??? I tried to close the Console view and open a 
new one, but it never shows anything (Compilation, Run, etc.).
In addition, when I start a project (which seems to run as the applications log 
file is written properly) I also don't see it anymore in the debug view. I 
browsed the preferences to find some indication what changed in 3.1 but I can't 
believe that this is a new behaviour. Eclipse doesn't show anything of running 
applications!
This is all pretty surprising behavior which I have never seen nor have any 
idea how you are in this state.

I have been using Eclipse 3.1 daily for Ant and Java development since it was 
released.

Lets start with any indication in the log file?
I have the same problem on all versions of 3.1 that I've tried (including final).

The PDE logs the following:
Error logged from Ant UI:

This works correctly on 3.0.2.

This works correctly on a different computer on 3.1.

I get a similar problem since switching from 3.0.2 to 3.1 on Windows 2000.
When using right-click/Run as/Ant Build on my build.xml, I get a popup saying
"Could not find the main class. Program will exit".

In the Error log view, I get:
Message: Error logged from Ant UI: 
Exception Stack Trace:

I have the same problem as well in 3.1 final.

Error logged from Ant UI: 


  However- it only appears in one project of mine.  It happens in that project
consistently.  I was running ant builds in that project all day yesterday until
this appeared (probably 40+ builds).  Today I can run ant builds in other
projects in the exact same Eclipse instance and workspace (so far).  Try running
a particular build a gajillion times and see if that makes it eventually conk out.
Ensure to check that the Ant runtime classpath is not pointing to the old 
Eclipse Ant plugin (1.6.4 instead of 1.6.5 for example).
My Ant runtime classpath is pointing to eclipse-3.1\plugins\org.apache.ant_1.6.5
for both the projects that will build and the one that won't.
My Ant runtime is pointing to the instance in the 3.1 final plugins directory of
Eclipse.

I don't know if this is relevant, but I also get this error every time I start 3.1:

A workspace crash was detected. The previous session did not exit normally.

No stack trace is available.

I also verified that 3.0.2 still works correctly on the same computer building
the same project.

I also tried "-clean" on startup with 3.1, to no avail.

I also created a new workspace and imported the projects and still get the same
error/problem with 3.1.


On Windows XP SP2, I get the same type of problem. Console shows "a console is
not available" and that's all. It was OK with prior Eclipse version (3.0) and I
did not change anything but updated Eclipse...

Ant run ok in DOS command.

Jacques
I see the same problem as well going from 3.0.2 to 3.1. Worked find previously.

One additional piece of information. I have an older version of ant installed on
the system (1.6.2) and my ANT_HOME environment variable (in windows, no eclipse)
points to this directory. I know that ANT really wants this variable set or it
will not run. Is having this point to the ant outside of eclipse a problem? Does
eclipse create the environment wrong when calling out to ant?
Dan,

I don't think it's the point. Because ant seems running but we have no log.
Am-I wrong ?

Jacques
You are correct Jacques. I just did an experiment. My project does build
correctly when invoking the ant task from Eclipse, there is just no log.

Can you all please check that there is no firewall etc. interferring with 
socket communication on your computers.
Do same JRE ant builds provide output (no socket communication)? This can be 
set on the JRE tab for any particular Ant build.
Setting it to use the same JRE does in fact allow the output to display!

As for the firewalls question; there is nothing that I know of.
No software firewall on my XP machine. All is done by my router.

"Run in the same JRE as the workspace" was not a solution for me :(

Jacques
I do have a firewall on my machine -- corporate mandate.  I believe it is
"RealSecure Desktop Protector".  OS is Windows XP/PRO.

Matching or mis-matched JRE makes no difference, I still get no output.

And, my ant tasks are not actually running at all.  That is, if I do an "ant
clean" from the command line to clean things up, then, in Eclipse, select the
"test" target, I get a "jvm terminated" on the "heading" line of the console,
and no output directories are built.




On my box (Suse Linux 9.1) I encounter a simular problem. The output of Ant is
shown in the console, but as soon as the compiling starts, nothing is shown
anymore (even though the Ant task still continues to work fine).

I am using J2ME Polish (http://www.j2mepolish.org) for building J2ME
applications. Internally J2ME Polish uses a Javac task for compiling. In the 3.1
final no output is shown anymore from the momenet the Javac task is executed. In
Eclipse  3.0.x, other IDEs as well as on the commandline, the complete output is
shown.

When the "Run in the same JRE" option is activated, all is well.

Best,
   Robert
"Run in the same JRE" is a successful workaround for me.

&gt; I am using J2ME Polish (http://www.j2mepolish.org) for building J2ME
&gt; applications. Internally J2ME Polish uses a Javac task for compiling. In the 
3.1
&gt; final no output is shown anymore from the momenet the Javac task is executed. 
In
&gt; Eclipse  3.0.x, other IDEs as well as on the commandline, the complete output 
is shown.
Most likely this is bug 102300...check your log

My apologies.  After reading more replies and checking the referring bug, I
realize I wasn't correctly setting "run in same JRE".  When I set this, I now
get output correctly in the console window.

Sorry to mass poll but I am trying to still grok the real root problem causing 
the bug (I have not been able to reproduce):

Does anyone on this bug report NOT have success if they set to run the Ant 
build in the same JRE?

(In reply to comment #20)
&gt; &gt; In Eclipse  3.0.x, other IDEs as well as on the commandline, the complete
output 
&gt; &gt; is shown.
&gt; Most likely this is bug 102300...check your log

Nope, there is nothing to be seen in workspace/.metadata/.log


In reply to Comment #22 From Darin Swanson,

Yes I still have the message "A console is not available"  if I set "Run in the
same JRE as the workspace". Fortunately the ant task run, and I can see its end
in the status bar as I also set "Refresh ressources upon completion".

Windows XP SP2, with was OK before in Eclipse 3.0.2

I run eclipse with java jre1.5.0_02

But I have j2sdk1.4.2_05 installed because I need it to work on my project
(OFBiz) (+ j2re1.4.2_03 and j2re1.4.2_06 BTW)

Outside I run ant with j2sdk1.4.2_05

Jacques

Thanks for your commitment !

Here are some of the "Configuration details" :

*** Date: Tue Jul 19 21:04:04 CEST 2005

*** Platform Details:

*** System properties:
ant.home=c:\Program Files\Eclipse\plugins\org.apache.ant_1.6.5
ant.library.dir=c:\Program Files\Eclipse\plugins\org.apache.ant_1.6.5\lib
awt.toolkit=sun.awt.windows.WToolkit
eclipse.application=org.eclipse.ui.ide.workbench
eclipse.buildId=I20050627-1435
eclipse.commands=-os
win32
-ws
win32
-arch
x86
-launcher
C:\Program Files\Eclipse\eclipse.exe
-name
Eclipse
-showsplash
600
-exitdata
2f4_2c
-data
d:\workspace
-vm
C:\WINDOWS\system32\javaw.exe
eclipse.product=org.eclipse.platform.ide
eclipse.startTime=1121799499421
eclipse.vm=C:\WINDOWS\system32\javaw.exe
eclipse.vmargs=-Xms40m
-Xmx256m
-jar
C:\Program Files\Eclipse\startup.jar
eof=eof
file.encoding=Cp1252
file.encoding.pkg=sun.io
file.separator=\
java.awt.graphicsenv=sun.awt.Win32GraphicsEnvironment
java.awt.printerjob=sun.awt.windows.WPrinterJob
java.class.path=C:\Program Files\Eclipse\startup.jar
java.class.version=49.0
java.endorsed.dirs=C:\Program Files\Java\jre1.5.0_02\lib\endorsed
java.ext.dirs=C:\Program Files\Java\jre1.5.0_02\lib\ext
java.home=C:\Program Files\Java\jre1.5.0_02
java.io.tmpdir=C:\DOCUME~1\JACQUE~1\LOCALS~1\Temp\
java.library.path=C:\WINDOWS\system32;.;C:\WINDOWS\system32;C:\WINDOWS;C:\WINDOWS\system32;C:\WINDOWS;C:\WINDOWS\System32\Wbem;D:\workspace\Neogia\Utilitaires\apache-ant-1.6.2\bin;D:\workspace\Neogia\Utilitaires\CVS;D:\workspace\Neogia\Utilitaires\SSH;D:\workspace\Neogia\Utilitaires\Patch\bin;D:\workspace\Neogia\Utilitaires\Subversion\bin;D:\workspace\Neogia\Utilitaires\Maven-1.0.2\bin;C:\Java\j2sdk1.4.2_05\bin;C:\PROGRA~1\ULTRAEDT;D:\workspace\Neogia\Utilitaires\Diff\bin;C:\Program
Files\Executive Software\Diskeeper Home Edition\;C:\Program Files\Microsoft
Visual Studio\Common\Tools\WinNT;C:\Program Files\Microsoft Visual
Studio\Common\MSDev98\Bin;C:\Program Files\Microsoft Visual
Studio\Common\Tools;C:\Program Files\Microsoft Visual Studio\VC98\bin
java.runtime.name=Java(TM) 2 Runtime Environment, Standard Edition
java.runtime.version=1.5.0_02-b09
java.specification.name=Java Platform API Specification
java.specification.vendor=Sun Microsystems Inc.
java.specification.version=1.5
java.vendor=Sun Microsystems Inc.
java.vendor.url=http://java.sun.com/
java.vendor.url.bug=http://java.sun.com/cgi-bin/bugreport.cgi
java.version=1.5.0_02
java.vm.info=mixed mode, sharing
java.vm.name=Java HotSpot(TM) Client VM
java.vm.specification.name=Java Virtual Machine Specification
java.vm.specification.vendor=Sun Microsystems Inc.
java.vm.specification.version=1.0
java.vm.vendor=Sun Microsystems Inc.
java.vm.version=1.5.0_02-b09
line.separator=

org.eclipse.jdt.debug.ui.scrapbookActive=false
org.osgi.framework.bootdelegation=*
org.osgi.framework.executionenvironment=J2SE-1.5
org.osgi.framework.language=fr
org.osgi.framework.os.name=WindowsXP
org.osgi.framework.os.version=5.1
org.osgi.framework.processor=x86
org.osgi.framework.system.packages=javax.accessibility,javax.activity,javax.crypto,javax.crypto.interfaces,javax.crypto.spec,javax.imageio,javax.imageio.event,javax.imageio.metadata,javax.imageio.plugins.bmp,javax.imageio.plugins.jpeg,javax.imageio.spi,javax.imageio.stream,javax.management,javax.management.loading,javax.management.modelmbean,javax.management.monitor,javax.management.openmbean,javax.management.relation,javax.management.remote,javax.management.remote.rmi,javax.management.timer,javax.naming,javax.naming.directory,javax.naming.event,javax.naming.ldap,javax.naming.spi,javax.net,javax.net.ssl,javax.print,javax.print.attribute,javax.print.attribute.standard,javax.print.event,javax.rmi,javax.rmi.CORBA,javax.rmi.ssl,javax.security.auth,javax.security.auth.callback,javax.security.auth.kerberos,javax.security.auth.login,javax.security.auth.spi,javax.security.auth.x500,javax.security.cert,javax.security.sasl,javax.sound.midi,javax.sound.midi.spi,javax.sound.sampled,javax.sound.sampled.spi,javax.sql,javax.sql.rowset,javax.sql.rowset.serial,javax.sql.rowset.spi,javax.swing,javax.swing.border,javax.swing.colorchooser,javax.swing.event,javax.swing.filechooser,javax.swing.plaf,javax.swing.plaf.basic,javax.swing.plaf.metal,javax.swing.plaf.multi,javax.swing.plaf.synth,javax.swing.table,javax.swing.text,javax.swing.text.html,javax.swing.text.html.parser,javax.swing.text.rtf,javax.swing.tree,javax.swing.undo,javax.transaction,javax.transaction.xa,javax.xml,javax.xml.datatype,javax.xml.namespace,javax.xml.parsers,javax.xml.transform,javax.xml.transform.dom,javax.xml.transform.sax,javax.xml.transform.stream,javax.xml.validation,javax.xml.xpath,org.ietf.jgss,org.omg.CORBA,org.omg.CORBA_2_3,org.omg.CORBA_2_3.portable,org.omg.CORBA.DynAnyPackage,org.omg.CORBA.ORBPackage,org.omg.CORBA.portable,org.omg.CORBA.TypeCodePackage,org.omg.CosNaming,org.omg.CosNaming.NamingContextExtPackage,org.omg.CosNaming.NamingContextPackage,org.omg.Dynamic,org.omg.DynamicAny,org.omg.DynamicAny.DynAnyFactoryPackage,org.omg.DynamicAny.DynAnyPackage,org.omg.IOP,org.omg.IOP.CodecFactoryPackage,org.omg.IOP.CodecPackage,org.omg.Messaging,org.omg.PortableInterceptor,org.omg.PortableInterceptor.ORBInitInfoPackage,org.omg.PortableServer,org.omg.PortableServer.CurrentPackage,org.omg.PortableServer.POAManagerPackage,org.omg.PortableServer.POAPackage,org.omg.PortableServer.portable,org.omg.PortableServer.ServantLocatorPackage,org.omg.SendingContext,org.omg.stub.java.rmi,org.w3c.dom,org.w3c.dom.bootstrap,org.w3c.dom.events,org.w3c.dom.ls,org.xml.sax,org.xml.sax.ext,org.xml.sax.helpers
org.osgi.framework.vendor=Eclipse
org.osgi.framework.version=1.3.0
org.osgi.supports.framework.extension=true
os.arch=x86
os.name=Windows XP
os.version=5.1
osgi.arch=x86
osgi.bundles=org.eclipse.core.runtime@2:start,
org.eclipse.update.configurator@3:start
osgi.bundlestore=c:\Program Files\Eclipse\configuration\org.eclipse.osgi\bundles
osgi.configuration.area=file:/c:/Program Files/Eclipse/configuration/
osgi.framework=file:/c:/Program Files/Eclipse/plugins/org.eclipse.osgi_3.1.0.jar
osgi.framework.beginningstartlevel=1
osgi.framework.shape=jar
osgi.framework.version=3.0.0
osgi.install.area=file:/c:/Program Files/Eclipse/
osgi.instance.area=file:/d:/workspace/
osgi.instance.area.default=file:/C:/Documents and Settings/Jacques Le
Roux/workspace/
osgi.logfile=d:\workspace\.metadata\.log
osgi.manifest.cache=c:\Program
Files\Eclipse\configuration\org.eclipse.osgi\manifests
osgi.nl=fr_FR
osgi.os=win32
osgi.splashLocation=c:\Program
Files\Eclipse\plugins\org.eclipse.platform_3.1.0\splash.bmp
osgi.splashPath=platform:/base/plugins/org.eclipse.platform
osgi.syspath=c:\Program Files\Eclipse\plugins
osgi.ws=win32
path.separator=;
sun.arch.data.model=32
sun.boot.class.path=C:\Program Files\Java\jre1.5.0_02\lib\rt.jar;C:\Program
Files\Java\jre1.5.0_02\lib\i18n.jar;C:\Program
Files\Java\jre1.5.0_02\lib\sunrsasign.jar;C:\Program
Files\Java\jre1.5.0_02\lib\jsse.jar;C:\Program
Files\Java\jre1.5.0_02\lib\jce.jar;C:\Program
Files\Java\jre1.5.0_02\lib\charsets.jar;C:\Program Files\Java\jre1.5.0_02\classes
sun.boot.library.path=C:\Program Files\Java\jre1.5.0_02\bin
sun.cpu.endian=little
sun.cpu.isalist=
sun.desktop=windows
sun.io.unicode.encoding=UnicodeLittle
sun.jnu.encoding=Cp1252
sun.management.compiler=HotSpot Client Compiler
sun.os.patch.level=Service Pack 2
user.country=FR
user.dir=C:\Program Files\eclipse
user.home=C:\Documents and Settings\Jacques Le Roux
user.language=fr
user.name=Jacques Le Roux
user.timezone=Europe/Paris
user.variant=

*** Features:
net.sf.colorer (0.6.1) "Eclipse Colorer Library Plugin"
org.eclipse.emf (2.0.3.M200505311255) "Eclipse Modeling Framework (EMF)"
org.eclipse.emf.doc (2.0.3.M200505311255) "Eclipse Modeling Framework (EMF)
Programmers Guide"
org.eclipse.emf.ecore.sdo (2.0.3.M200505311255) "EMF Service Data Objects (SDO)"
org.eclipse.emf.ecore.sdo.doc (2.0.3.M200505311255) "EMF Service Data Objects
(SDO) Programmers Guide"
org.eclipse.emf.ecore.sdo.source (2.0.3.M200505311255) "EMF Service Data Objects
(SDO) Source"
org.eclipse.emf.source (2.0.3.M200505311255) "Eclipse Modeling Framework (EMF)
Source"
org.eclipse.gef (3.0.1) "Graphical Editing Framework"
org.eclipse.gef.sdk (3.0.1) "Graphical Editing Framework Developer Resources"
org.eclipse.gef.source (3.0.1) "Graphical Editing Framework Developer Resources"
org.eclipse.jdt (3.0.2) "Eclipse Java Development Tools"
org.eclipse.jdt.source (3.0.2) "Eclipse Java Development Tools SDK"
org.eclipse.jem (1.0.2.1) "Java EMF Model"
org.eclipse.jem.sdk (1.0.2.1) "Java EMF Model SDK"
org.eclipse.jem.source (1.0.2.1) "Java EMF Model Source"
org.eclipse.pde (3.0.2) "Eclipse Plug-in Development Environment"
org.eclipse.pde.source (3.0.2) "Eclipse Plug-in Development Environment
Developer Resources"
org.eclipse.platform (3.1.0) "Eclipse Platform"
org.eclipse.platform.source (3.0.2) "Eclipse Platform Plug-in Developer Resources"
org.eclipse.rcp (3.1.0) "Eclipse RCP"
org.eclipse.sdk (3.0.2) "Eclipse Project SDK"
org.eclipse.sdk.examples (3.0.1) "Eclipse SDK Examples"
org.eclipse.team.extras (3.0.0) "Eclipse FTP and WebDAV Support"
org.eclipse.ve (1.0.2.1) "Visual Editor"
org.eclipse.ve.sdk (1.0.2.1) "Visual Editor SDK"
org.eclipse.ve.source (1.0.2.1) "Visual Editor Source"
org.eclipse.xsd (2.0.2.M200505311255) "XML Schema Infoset Model (XSD)"
org.eclipse.xsd.doc (2.0.2.M200505311255) "XML Schema Infoset Model (XSD)
Programmers Guide"
org.eclipse.xsd.source (2.0.2.M200505311255) "XML Schema Infoset Model (XSD) Source"
org.tigris.subversion.book (1.1.1) "Version Control with Subversion"
org.tigris.subversion.subclipse (0.9.31) "Subclipse"


*** Current Install Configuration:
Install configuration:
 Last changed on 15 juil. 2005
 Location: file:/c:/Program
Files/Eclipse/configuration/org.eclipse.update/platform.xml

 Configured sites:
  platform:/base/

 Configured features:
  ID: com.ibm.wtp.emf.integration.core, Version: 1.0.1.2
  ID: org.eclipse.jdt.source, Version: 3.0.2
  ID: org.eclipse.emf.ecore.sdo.source, Version: 2.0.3.M200505311255
  ID: org.eclipse.pde.source, Version: 3.0.2
  ID: org.eclipse.sdk, Version: 3.0.2
  ID: com.simontuffs.eclipse.jarplug.feature, Version: 0.6.0
  ID: com.simontuffs.eclipse.jarlaunch.feature, Version: 0.5.0
  ID: org.eclipse.emf.ecore.sdo.doc, Version: 2.0.3.200505261142
  ID: org.eclipse.team.extras, Version: 3.0.0
  ID: org.eclipse.platform, Version: 3.1.0
  ID: org.visigoths.freemarker.feature, Version: 0.3.1
  ID: org.eclipse.emf.source, Version: 2.0.3.M200505311255
  ID: org.eclipse.gef.source, Version: 3.0.1
  ID: org.tigris.subversion.book, Version: 1.1.1
  ID: org.eclipse.jdt, Version: 3.0.2
  ID: org.eclipse.jem, Version: 1.0.2
  ID: org.eclipse.ve.source, Version: 1.0.2.1
  ID: org.eclipse.gef, Version: 3.0.1
  ID: org.eclipse.sdk.examples, Version: 3.0.1
  ID: org.eclipse.gef.source, Version: 3.0.1
  ID: org.eclipse.emf, Version: 2.0.3.200505261142
  ID: org.eclipse.jem.source, Version: 1.0.2.1
  ID: org.eclipse.ve.sdk, Version: 1.0.1
  ID: org.eclipse.rcp, Version: 3.1.0
  ID: org.eclipse.platform.source, Version: 3.0.2
  ID: org.eclipse.emf.sdk, Version: 2.0.3.M200505311255
  ID: org.eclipse.ve, Version: 1.0.1
  ID: org.eclipse.xsd.doc, Version: 2.0.2.200505261142
  ID: org.eclipse.xsd.source, Version: 2.0.2.M200505311255
  ID: com.ibm.wtp.common.utilities, Version: 1.0.1
  ID: org.eclipse.pde, Version: 3.0.1
  ID: org.eclipse.emf.ecore.sdo, Version: 2.0.3.200505261142
  ID: org.eclipse.xsd, Version: 2.0.2.200505261142
  ID: org.eclipse.emf.doc, Version: 2.0.3.200505261142
  ID: org.eclipse.jem.sdk, Version: 1.0.1
  ID: org.tigris.subversion.subclipse, Version: 0.9.31
  ID: net.sf.colorer, Version: 0.6.1

Finally I'm not sure that even the ant task run correctly. When I launch a sub
ant task  (a build.xml file deep in the tree of directories) It seems not to
work. I have to launch ant externally to get it done.

Before it was 2 o 3 seconds for a such task, now it's 20 or 30, rather annoying :(

Jacques
(In reply to comment #19)
&gt; "Run in the same JRE" is a successful workaround for me.

I tried the "Run in the same JRE", and I recv'd a different error: 

	at

As well we have fixed bug 102641 which would give similar symptoms.
Created attachment 175872
Image for eclipse
Created attachment 175873
image from eclipse
I had the same problem as in description upgraded eclipse and ANt is not working
when I double click an ANT target, the little progress bar in the bottom right corner of Eclipse just displays "Launching: ..." for a short time and then ends. The console view stays empty - no error, no indication if it run or not.

Solution :-1)Check eclipse.ini in C:\eclipse directory

If it has entry like this then it should point to JRE that you are using for Eclipse 
Check eclipse JRE go to windows-preferences-java - Installed JRE's both should match
-vm 
C:\Progra~1\Java\jdk1.6.0_21\jre\bin\javaw

2) go to windows-preferences-ant - runtime- classpath -add ant home 
C:\eclipse\plugins\org.apache.ant_1.7.1.v20100518-1145 (this should be any version of ant ) but ant home should point to whatever version you have in C:\eclipse\plugins\

In case of upgrade some time it will point to older version of ant from older version of eclipse.
I was experienceing the same problem but  option two fixed the probelm.

"2) go to windows-preferences-ant - runtime- classpath -add ant home 
C:\eclipse\plugins\org.apache.ant_1.7.1.v20100518-1145 (this should be any version of ant ) but ant home should point to whatever version you have in C:\eclipse\plugins\"</WithOutStack>
  </Bug>
  <Bug>
    <BugId amount="102464" />
    <CreationDate amount="2005-07-01 08:00:00 -0400" />
    <DupId amount="" />
    <classification amount="Modeling" />
    <Product amount="EMF" />
    <component amount="Edit" />
    <Version amount="2.1" />
    <rep_platform amount="PC" />
    <op_sys amount="Windows 2000" />
    <priority amount="P3" />
    <bug_severity amount="normal" />
    <Summery>Fix icon for ViewPane drop down</Summery>
    <Patches amount="0" />
    <Stacktraces amount="0" />
    <SourceCodeRegions amount="0" />
    <Enumerations amount="0" />
    <bug_status amount="VERIFIED" />
    <resolution amount="FIXED" />
    <WithStack>Need newer graphic for the view pane drop down that matches latest Eclipse look.
The change is committed to CVS.
Fixed or closed in EMF 2.1.0 final release build (R200507070200).
Move to verified as per bug 206558.</WithStack>
    <WithOutStack>Need newer graphic for the view pane drop down that matches latest Eclipse look.
The change is committed to CVS.
Fixed or closed in EMF 2.1.0 final release build (R200507070200).
Move to verified as per bug 206558.</WithOutStack>
  </Bug>
  <Bug>
    <BugId amount="102465" />
    <CreationDate amount="2005-07-01 08:01:00 -0400" />
    <DupId amount="" />
    <classification amount="Eclipse" />
    <Product amount="Platform" />
    <component amount="Text" />
    <Version amount="3.1" />
    <rep_platform amount="PC" />
    <op_sys amount="Windows XP" />
    <priority amount="P2" />
    <bug_severity amount="normal" />
    <Summery>Menu based on RetargetTextEditorAction isn't enabled</Summery>
    <Patches amount="0" />
    <Stacktraces amount="0" />
    <SourceCodeRegions amount="0" />
    <Enumerations amount="1">
      <Enumeration lines="9">
        <Lines>
          <Line>- Install attached plugin(mpe)</Line>
          <Line>- Create a project</Line>
          <Line>- Create two html files</Line>
          <Line>- Click an html file, open its context menu, Open With &gt;</Line>
          <Line>Sample Multi-page Editor</Line>
          <Line>- Meke sure that Edit &gt; my submenu : XMLEditor &gt; Action1 : XMLEditor</Line>
          <Line>and Action2 : XMLEditor are enabled</Line>
          <Line>- Click another html file, open its context menu, Open With &gt;</Line>
          <Line>Sample Multi-page Editor</Line>
        </Lines>
      </Enumeration>
    </Enumerations>
    <bug_status amount="CLOSED" />
    <resolution amount="WORKSFORME" />
    <WithStack>Menus which are based on RetargetTextEditorAction aren't enabled when
the editor is up. Once other view/editor is clicked and the editor is
clicked again, the menus are enabled. Here are how to:

- Install attached plugin(mpe)
- Create a project
- Create two html files
- Click an html file, open its context menu, Open With &gt;
  Sample Multi-page Editor
- Meke sure that Edit &gt; my submenu : XMLEditor &gt; Action1 : XMLEditor
  and Action2 : XMLEditor are enabled
- Click another html file, open its context menu, Open With &gt; 
  Sample Multi-page Editor

In this timing, Edit &gt; my submenu : XMLEditor &gt; Action1 : XMLEditor
and Action2 : XMLEditor are disabled. They should be enabled.
Created attachment 24260
test case

test case
This does not belong here. What plug-in provides this class?
What would you be asking ?? 
RetargetTextEditorAction 
is from 
org.eclipse.ui.texteditor

was there something more specific you were asking, Rafael, 
or was your remark intended for another bug?



I guess this is rather a multi-page editor problem but we'll have to investigate
first.

What about other global retarget actions like cut/copy/paste/undo?
To repeat my question: What about other global retarget actions like cut/copy/paste/undo?
I chekced the attached test case with  M20050929-0840 3.1.1
build and this was fixed, so closing.
.</WithStack>
    <WithOutStack>Menus which are based on RetargetTextEditorAction aren't enabled when
the editor is up. Once other view/editor is clicked and the editor is
clicked again, the menus are enabled. Here are how to:

- Install attached plugin(mpe)
- Create a project
- Create two html files
- Click an html file, open its context menu, Open With &gt;
  Sample Multi-page Editor
- Meke sure that Edit &gt; my submenu : XMLEditor &gt; Action1 : XMLEditor
  and Action2 : XMLEditor are enabled
- Click another html file, open its context menu, Open With &gt; 
  Sample Multi-page Editor

In this timing, Edit &gt; my submenu : XMLEditor &gt; Action1 : XMLEditor
and Action2 : XMLEditor are disabled. They should be enabled.
Created attachment 24260
test case

test case
This does not belong here. What plug-in provides this class?
What would you be asking ?? 
RetargetTextEditorAction 
is from 
org.eclipse.ui.texteditor

was there something more specific you were asking, Rafael, 
or was your remark intended for another bug?



I guess this is rather a multi-page editor problem but we'll have to investigate
first.

What about other global retarget actions like cut/copy/paste/undo?
To repeat my question: What about other global retarget actions like cut/copy/paste/undo?
I chekced the attached test case with  M20050929-0840 3.1.1
build and this was fixed, so closing.
.</WithOutStack>
  </Bug>
  <Bug>
    <BugId amount="102466" />
    <CreationDate amount="2005-07-01 08:18:00 -0400" />
    <DupId amount="" />
    <classification amount="BIRT" />
    <Product amount="BIRT" />
    <component amount="Report" />
    <Version amount="1.0.0" />
    <rep_platform amount="All" />
    <op_sys amount="All" />
    <priority amount="P3" />
    <bug_severity amount="enhancement" />
    <Summery>Provide library support as documented in the specification</Summery>
    <Patches amount="0" />
    <Stacktraces amount="0" />
    <SourceCodeRegions amount="0" />
    <Enumerations amount="0" />
    <bug_status amount="RESOLVED" />
    <resolution amount="FIXED" />
    <WithStack>For many of the custom web-based applications that our company writes, the
ability to build templates which are then used for the development of the actual
report is very important.  These templates allow a common look to be provided
for all of the reports as well as a common place for changes to that look to be
made by our services team or our customers.

Please strongly consider adding the library implementation documented in the ROM
specification into the 2.0 release.
Report library feature (specpfied in BPS10) is available in BIRT 2.0 M3 build. 
Verified in build 20051222.
library is supported now.</WithStack>
    <WithOutStack>For many of the custom web-based applications that our company writes, the
ability to build templates which are then used for the development of the actual
report is very important.  These templates allow a common look to be provided
for all of the reports as well as a common place for changes to that look to be
made by our services team or our customers.

Please strongly consider adding the library implementation documented in the ROM
specification into the 2.0 release.
Report library feature (specpfied in BPS10) is available in BIRT 2.0 M3 build. 
Verified in build 20051222.
library is supported now.</WithOutStack>
  </Bug>
  <Bug>
    <BugId amount="102467" />
    <CreationDate amount="2005-07-01 08:19:00 -0400" />
    <DupId amount="" />
    <classification amount="WebTools" />
    <Product amount="WTP Java EE Tools" />
    <component amount="jst.j2ee" />
    <Version amount="0.7" />
    <rep_platform amount="PC" />
    <op_sys amount="Windows 2000" />
    <priority amount="P2" />
    <bug_severity amount="major" />
    <Summery>Paste to XML Editor into &lt;welcome-file-list&gt; causes exception</Summery>
    <Patches amount="0" />
    <Stacktraces amount="1">
      <Stacktrace timestamp="1437330551779">
        <Exception>java.lang.NullPointerException</Exception>
        <Reason />
        <Frames>
          <Frame depth="0">org.eclipse.emf.common.util.BasicEList.getNonDuplicates(BasicEList.java:1829)</Frame>
          <Frame depth="1">org.eclipse.emf.common.util.BasicEList.addAll(BasicEList.java:684)</Frame>
          <Frame depth="2">org.eclipse.jst.j2ee.internal.webapplication.impl.WelcomeFileListImpl.eSet(WelcomeFileListImpl.java:199)</Frame>
          <Frame depth="3">org.eclipse.wst.common.internal.emf.utilities.ExtendedEcoreUtil.eSetOrAdd(ExtendedEcoreUtil.java:76)</Frame>
          <Frame depth="4">org.eclipse.wst.common.internal.emf.resource.Translator.setMOFValue(Translator.java:605)</Frame>
          <Frame depth="5">org.eclipse.wst.common.internal.emf.resource.EMF2DOMAdapterImpl.primUpdateMOFMultiFeature(EMF2DOMAdapterImpl.java:399)</Frame>
          <Frame depth="6">org.eclipse.wst.common.internal.emf.resource.EMF2DOMAdapterImpl.primUpdateMOFMultiFeature(EMF2DOMAdapterImpl.java:1444)</Frame>
          <Frame depth="7">org.eclipse.wst.common.internal.emf.resource.EMF2DOMAdapterImpl.updateMOFMultiFeature(EMF2DOMAdapterImpl.java:1658)</Frame>
          <Frame depth="8">org.eclipse.wst.common.internal.emf.resource.EMF2DOMAdapterImpl.updateMOFFeature(EMF2DOMAdapterImpl.java:1700)</Frame>
          <Frame depth="9">org.eclipse.wst.common.internal.emf.resource.EMF2DOMAdapterImpl.primUpdateMOF(EMF2DOMAdapterImpl.java:892)</Frame>
          <Frame depth="10">org.eclipse.wst.common.internal.emf.resource.EMF2DOMAdapterImpl.updateMOF(EMF2DOMAdapterImpl.java:872)</Frame>
          <Frame depth="11">org.eclipse.wst.common.internal.emf.resource.EMF2DOMAdapterImpl.primUpdateMOFFeature(EMF2DOMAdapterImpl.java:1399)</Frame>
          <Frame depth="12">org.eclipse.wst.common.internal.emf.resource.EMF2DOMAdapterImpl.updateMOFFeature(EMF2DOMAdapterImpl.java:1718)</Frame>
          <Frame depth="13">org.eclipse.wst.common.internal.emf.resource.EMF2DOMAdapterImpl.primUpdateMOF(EMF2DOMAdapterImpl.java:892)</Frame>
          <Frame depth="14">org.eclipse.wst.common.internal.emf.resource.EMF2DOMAdapterImpl.updateMOF(EMF2DOMAdapterImpl.java:872)</Frame>
          <Frame depth="15">org.eclipse.jst.j2ee.internal.emf2xml.sed.EMF2DOMSedAdapter.notifyChanged(EMF2DOMSedAdapter.java:71)</Frame>
          <Frame depth="16">org.eclipse.wst.sse.core.internal.provisional.AbstractNotifier.notify(AbstractNotifier.java:202)</Frame>
          <Frame depth="17">org.eclipse.wst.xml.core.internal.document.XMLModelNotifierImpl.notifyStructureChanged(XMLModelNotifierImpl.java:361)</Frame>
          <Frame depth="18">org.eclipse.wst.xml.core.internal.document.XMLModelNotifierImpl.endChanging(XMLModelNotifierImpl.java:177)</Frame>
          <Frame depth="19">org.eclipse.wst.xml.core.internal.document.DOMModelImpl.changedModel(DOMModelImpl.java:161)</Frame>
          <Frame depth="20">org.eclipse.wst.sse.core.internal.model.AbstractStructuredModel$DocumentToModelNotifier.nodesReplaced(AbstractStructuredModel.java:151)</Frame>
          <Frame depth="21">org.eclipse.wst.sse.core.internal.text.BasicStructuredDocument._fireEvent(BasicStructuredDocument.java:606)</Frame>
          <Frame depth="22">org.eclipse.wst.sse.core.internal.text.BasicStructuredDocument.fireStructuredDocumentEvent(BasicStructuredDocument.java:1214)</Frame>
          <Frame depth="23">org.eclipse.wst.sse.core.internal.text.BasicStructuredDocument.internalReplaceText(BasicStructuredDocument.java:1875)</Frame>
          <Frame depth="24">org.eclipse.wst.sse.core.internal.text.BasicStructuredDocument.replaceText(BasicStructuredDocument.java:2297)</Frame>
          <Frame depth="25">org.eclipse.wst.sse.core.internal.text.JobSafeStructuredDocument.access$0(JobSafeStructuredDocument.java:1)</Frame>
          <Frame depth="26">org.eclipse.wst.sse.core.internal.text.JobSafeStructuredDocument$1.run(JobSafeStructuredDocument.java:100)</Frame>
          <Frame depth="27">org.eclipse.wst.sse.ui.internal.editor.EditorExecutionContext.execute(EditorExecutionContext.java:43)</Frame>
          <Frame depth="28">org.eclipse.wst.sse.core.internal.text.JobSafeStructuredDocument.replaceText(JobSafeStructuredDocument.java:110)</Frame>
          <Frame depth="29">org.eclipse.wst.sse.core.internal.text.BasicStructuredDocument.replaceText(BasicStructuredDocument.java:2293)</Frame>
          <Frame depth="30">org.eclipse.wst.sse.ui.internal.StructuredDocumentToTextAdapter.replaceTextRange(StructuredDocumentToTextAdapter.java:1187)</Frame>
          <Frame depth="31">org.eclipse.swt.custom.StyledText.modifyContent(StyledText.java:5787)</Frame>
          <Frame depth="32">org.eclipse.swt.custom.StyledText.sendKeyEvent(StyledText.java:6625)</Frame>
          <Frame depth="33">org.eclipse.swt.custom.StyledText.paste(StyledText.java:5823)</Frame>
          <Frame depth="34">org.eclipse.jface.text.TextViewer.doOperation(TextViewer.java:3515)</Frame>
          <Frame depth="35">org.eclipse.jface.text.source.SourceViewer.doOperation(SourceViewer.java:801)</Frame>
          <Frame depth="36">org.eclipse.jface.text.source.projection.ProjectionViewer.doOperation(ProjectionViewer.java:1397)</Frame>
          <Frame depth="37">org.eclipse.wst.sse.ui.internal.StructuredTextViewer.doOperation(StructuredTextViewer.java:474)</Frame>
          <Frame depth="38">org.eclipse.ui.texteditor.TextOperationAction$1.run(TextOperationAction.java:122)</Frame>
          <Frame depth="39">org.eclipse.swt.custom.BusyIndicator.showWhile(BusyIndicator.java:69)</Frame>
          <Frame depth="40">org.eclipse.ui.texteditor.TextOperationAction.run(TextOperationAction.java:120)</Frame>
          <Frame depth="41">org.eclipse.jface.action.Action.runWithEvent(Action.java:996)</Frame>
          <Frame depth="42">org.eclipse.ui.commands.ActionHandler.execute(ActionHandler.java:182)</Frame>
          <Frame depth="43">org.eclipse.ui.internal.handlers.LegacyHandlerWrapper.execute(LegacyHandlerWrapper.java:108)</Frame>
          <Frame depth="44">org.eclipse.core.commands.Command.execute(Command.java:311)</Frame>
          <Frame depth="45">org.eclipse.core.commands.ParameterizedCommand.execute(ParameterizedCommand.java:396)</Frame>
          <Frame depth="46">org.eclipse.ui.internal.keys.WorkbenchKeyboard.executeCommand(WorkbenchKeyboard.java:459)</Frame>
          <Frame depth="47">org.eclipse.ui.internal.keys.WorkbenchKeyboard.press(WorkbenchKeyboard.java:781)</Frame>
          <Frame depth="48">org.eclipse.ui.internal.keys.WorkbenchKeyboard.processKeyEvent(WorkbenchKeyboard.java:828)</Frame>
          <Frame depth="49">org.eclipse.ui.internal.keys.WorkbenchKeyboard.filterKeySequenceBindings(WorkbenchKeyboard.java:550)</Frame>
          <Frame depth="50">org.eclipse.ui.internal.keys.WorkbenchKeyboard.access$3(WorkbenchKeyboard.java:493)</Frame>
          <Frame depth="51">org.eclipse.ui.internal.keys.WorkbenchKeyboard$KeyDownFilter.handleEvent(WorkbenchKeyboard.java:117)</Frame>
          <Frame depth="52">org.eclipse.swt.widgets.EventTable.sendEvent(EventTable.java:66)</Frame>
          <Frame depth="53">org.eclipse.swt.widgets.Display.filterEvent(Display.java:917)</Frame>
          <Frame depth="54">org.eclipse.swt.widgets.Widget.sendEvent(Widget.java:842)</Frame>
          <Frame depth="55">org.eclipse.swt.widgets.Widget.sendEvent(Widget.java:867)</Frame>
          <Frame depth="56">org.eclipse.swt.widgets.Widget.sendEvent(Widget.java:852)</Frame>
          <Frame depth="57">org.eclipse.swt.widgets.Widget.sendKeyEvent(Widget.java:880)</Frame>
          <Frame depth="58">org.eclipse.swt.widgets.Widget.sendKeyEvent(Widget.java:876)</Frame>
          <Frame depth="59">org.eclipse.swt.widgets.Widget.wmChar(Widget.java:1190)</Frame>
          <Frame depth="60">org.eclipse.swt.widgets.Control.WM_CHAR(Control.java:3135)</Frame>
          <Frame depth="61">org.eclipse.swt.widgets.Control.windowProc(Control.java:3038)</Frame>
          <Frame depth="62">org.eclipse.swt.widgets.Display.windowProc(Display.java:3706)</Frame>
          <Frame depth="63">org.eclipse.swt.internal.win32.OS.DispatchMessageW(Native Method)</Frame>
          <Frame depth="64">org.eclipse.swt.internal.win32.OS.DispatchMessage(OS.java:1656)</Frame>
          <Frame depth="65">org.eclipse.swt.widgets.Display.readAndDispatch(Display.java:2711)</Frame>
          <Frame depth="66">org.eclipse.ui.internal.Workbench.runEventLoop(Workbench.java:1699)</Frame>
          <Frame depth="67">org.eclipse.ui.internal.Workbench.runUI(Workbench.java:1663)</Frame>
          <Frame depth="68">org.eclipse.ui.internal.Workbench.createAndRunWorkbench(Workbench.java:367)</Frame>
          <Frame depth="69">org.eclipse.ui.PlatformUI.createAndRunWorkbench(PlatformUI.java:143)</Frame>
          <Frame depth="70">org.eclipse.ui.internal.ide.IDEApplication.run(IDEApplication.java:103)</Frame>
          <Frame depth="71">org.eclipse.core.internal.runtime.PlatformActivator$1.run(PlatformActivator.java:226)</Frame>
          <Frame depth="72">org.eclipse.core.runtime.adaptor.EclipseStarter.run(EclipseStarter.java:376)</Frame>
          <Frame depth="73">org.eclipse.core.runtime.adaptor.EclipseStarter.run(EclipseStarter.java:163)</Frame>
          <Frame depth="74">sun.reflect.NativeMethodAccessorImpl.invoke0(Native Method)</Frame>
          <Frame depth="75">sun.reflect.NativeMethodAccessorImpl.invoke(Unknown Source)</Frame>
          <Frame depth="76">sun.reflect.DelegatingMethodAccessorImpl.invoke(Unknown Source)</Frame>
          <Frame depth="77">java.lang.reflect.Method.invoke(Unknown Source)</Frame>
          <Frame depth="78">org.eclipse.core.launcher.Main.invokeFramework(Main.java:334)</Frame>
          <Frame depth="79">org.eclipse.core.launcher.Main.basicRun(Main.java:278)</Frame>
          <Frame depth="80">org.eclipse.core.launcher.Main.run(Main.java:973)</Frame>
          <Frame depth="81">org.eclipse.core.launcher.Main.main(Main.java:948)</Frame>
        </Frames>
      </Stacktrace>
    </Stacktraces>
    <SourceCodeRegions amount="0" />
    <Enumerations amount="1">
      <Enumeration lines="22">
        <Lines>
          <Line>1. Open web.xml by XML Editor.</Line>
          <Line>2. Find in (or insert into) it code (in all text examples, character " is used</Line>
          <Line>as 'beqin quote' and 'end quote'):</Line>
          <Line>"&lt;welcome-file-list&gt;</Line>
          <Line>&lt;welcome-file&gt;index.jsp&lt;/welcome-file&gt;</Line>
          <Line>&lt;/welcome-file-list&gt;"</Line>
          <Line>3. In external text editor, prepare the code:</Line>
          <Line>"session-config&gt;</Line>
          <Line>&lt;session-timeout&gt;7&lt;/session-timeout&gt;</Line>
          <Line>&lt;/session-config&gt;</Line>
          <Line>&lt;"</Line>
          <Line>Here break lines are important.</Line>
          <Line>4. Copy the prepared code to clipboard and paste it after first symbol '&lt;' in</Line>
          <Line>the first code example in web.xml to obtain the resulting code</Line>
          <Line>"&lt;session-config&gt;</Line>
          <Line>&lt;session-timeout&gt;7&lt;/session-timeout&gt;</Line>
          <Line>&lt;/session-config&gt;</Line>
          <Line>&lt;welcome-file-list&gt;</Line>
          <Line>&lt;welcome-file&gt;index.jsp&lt;/welcome-file&gt;</Line>
          <Line>&lt;/welcome-file-list&gt;"</Line>
          <Line />
          <Line>5. Log file contains the exception:</Line>
        </Lines>
      </Enumeration>
    </Enumerations>
    <bug_status amount="CLOSED" />
    <resolution amount="FIXED" />
    <WithStack>1. Open web.xml by XML Editor. 
2. Find in (or insert into) it code (in all text examples, character " is used 
as 'beqin quote' and 'end quote'):
"&lt;welcome-file-list&gt;
 &lt;welcome-file&gt;index.jsp&lt;/welcome-file&gt;
&lt;/welcome-file-list&gt;"
3. In external text editor, prepare the code:
"session-config&gt;
 &lt;session-timeout&gt;7&lt;/session-timeout&gt;
&lt;/session-config&gt;
&lt;"
Here break lines are important.
4. Copy the prepared code to clipboard and paste it after first symbol '&lt;' in 
the first code example in web.xml to obtain the resulting code
"&lt;session-config&gt;
 &lt;session-timeout&gt;7&lt;/session-timeout&gt;
&lt;/session-config&gt;
&lt;welcome-file-list&gt;
 &lt;welcome-file&gt;index.jsp&lt;/welcome-file&gt;
&lt;/welcome-file-list&gt;"

5. Log file contains the exception:

!ENTRY org.eclipse.wst.sse.core 4 4 2005-07-01 16:03:44.92
!MESSAGE A structured model client, EMF2DOMSedAdapter(web-app,WebAppImpl) threw 
following exception during adapter notification (STRUCUTRED_CHANGED )
!STACK 0
java.lang.NullPointerException
	at org.eclipse.emf.common.util.BasicEList.getNonDuplicates
(BasicEList.java:1829)
	at org.eclipse.emf.common.util.BasicEList.addAll(BasicEList.java:684)
	at 
org.eclipse.jst.j2ee.internal.webapplication.impl.WelcomeFileListImpl.eSet
(WelcomeFileListImpl.java:199)
	at 
org.eclipse.wst.common.internal.emf.utilities.ExtendedEcoreUtil.eSetOrAdd
(ExtendedEcoreUtil.java:76)
	at org.eclipse.wst.common.internal.emf.resource.Translator.setMOFValue
(Translator.java:605)
	at 
org.eclipse.wst.common.internal.emf.resource.EMF2DOMAdapterImpl.primUpdateMOFMul
tiFeature(EMF2DOMAdapterImpl.java:399)
	at 
org.eclipse.wst.common.internal.emf.resource.EMF2DOMAdapterImpl.primUpdateMOFMul
tiFeature(EMF2DOMAdapterImpl.java:1444)
	at 
org.eclipse.wst.common.internal.emf.resource.EMF2DOMAdapterImpl.updateMOFMultiFe
ature(EMF2DOMAdapterImpl.java:1658)
	at 
org.eclipse.wst.common.internal.emf.resource.EMF2DOMAdapterImpl.updateMOFFeature
(EMF2DOMAdapterImpl.java:1700)
	at 
org.eclipse.wst.common.internal.emf.resource.EMF2DOMAdapterImpl.primUpdateMOF
(EMF2DOMAdapterImpl.java:892)
	at 
org.eclipse.wst.common.internal.emf.resource.EMF2DOMAdapterImpl.updateMOF
(EMF2DOMAdapterImpl.java:872)
	at 
org.eclipse.wst.common.internal.emf.resource.EMF2DOMAdapterImpl.primUpdateMOFFea
ture(EMF2DOMAdapterImpl.java:1399)
	at 
org.eclipse.wst.common.internal.emf.resource.EMF2DOMAdapterImpl.updateMOFFeature
(EMF2DOMAdapterImpl.java:1718)
	at 
org.eclipse.wst.common.internal.emf.resource.EMF2DOMAdapterImpl.primUpdateMOF
(EMF2DOMAdapterImpl.java:892)
	at 
org.eclipse.wst.common.internal.emf.resource.EMF2DOMAdapterImpl.updateMOF
(EMF2DOMAdapterImpl.java:872)
	at 
org.eclipse.jst.j2ee.internal.emf2xml.sed.EMF2DOMSedAdapter.notifyChanged
(EMF2DOMSedAdapter.java:71)
	at org.eclipse.wst.sse.core.internal.provisional.AbstractNotifier.notify
(AbstractNotifier.java:202)
	at 
org.eclipse.wst.xml.core.internal.document.XMLModelNotifierImpl.notifyStructureC
hanged(XMLModelNotifierImpl.java:361)
	at 
org.eclipse.wst.xml.core.internal.document.XMLModelNotifierImpl.endChanging
(XMLModelNotifierImpl.java:177)
	at org.eclipse.wst.xml.core.internal.document.DOMModelImpl.changedModel
(DOMModelImpl.java:161)
	at 
org.eclipse.wst.sse.core.internal.model.AbstractStructuredModel$DocumentToModelN
otifier.nodesReplaced(AbstractStructuredModel.java:151)
	at 
org.eclipse.wst.sse.core.internal.text.BasicStructuredDocument._fireEvent
(BasicStructuredDocument.java:606)
	at 
org.eclipse.wst.sse.core.internal.text.BasicStructuredDocument.fireStructuredDoc
umentEvent(BasicStructuredDocument.java:1214)
	at 
org.eclipse.wst.sse.core.internal.text.BasicStructuredDocument.internalReplaceTe
xt(BasicStructuredDocument.java:1875)
	at 
org.eclipse.wst.sse.core.internal.text.BasicStructuredDocument.replaceText
(BasicStructuredDocument.java:2297)
	at 
org.eclipse.wst.sse.core.internal.text.JobSafeStructuredDocument.access$0
(JobSafeStructuredDocument.java:1)
	at 
org.eclipse.wst.sse.core.internal.text.JobSafeStructuredDocument$1.run
(JobSafeStructuredDocument.java:100)
	at org.eclipse.wst.sse.ui.internal.editor.EditorExecutionContext.execute
(EditorExecutionContext.java:43)
	at 
org.eclipse.wst.sse.core.internal.text.JobSafeStructuredDocument.replaceText
(JobSafeStructuredDocument.java:110)
	at 
org.eclipse.wst.sse.core.internal.text.BasicStructuredDocument.replaceText
(BasicStructuredDocument.java:2293)
	at 
org.eclipse.wst.sse.ui.internal.StructuredDocumentToTextAdapter.replaceTextRange
(StructuredDocumentToTextAdapter.java:1187)
	at org.eclipse.swt.custom.StyledText.modifyContent(StyledText.java:5787)
	at org.eclipse.swt.custom.StyledText.sendKeyEvent(StyledText.java:6625)
	at org.eclipse.swt.custom.StyledText.paste(StyledText.java:5823)
	at org.eclipse.jface.text.TextViewer.doOperation(TextViewer.java:3515)
	at org.eclipse.jface.text.source.SourceViewer.doOperation
(SourceViewer.java:801)
	at org.eclipse.jface.text.source.projection.ProjectionViewer.doOperation
(ProjectionViewer.java:1397)
	at org.eclipse.wst.sse.ui.internal.StructuredTextViewer.doOperation
(StructuredTextViewer.java:474)
	at org.eclipse.ui.texteditor.TextOperationAction$1.run
(TextOperationAction.java:122)
	at org.eclipse.swt.custom.BusyIndicator.showWhile(BusyIndicator.java:69)
	at org.eclipse.ui.texteditor.TextOperationAction.run
(TextOperationAction.java:120)
	at org.eclipse.jface.action.Action.runWithEvent(Action.java:996)
	at org.eclipse.ui.commands.ActionHandler.execute(ActionHandler.java:182)
	at org.eclipse.ui.internal.handlers.LegacyHandlerWrapper.execute
(LegacyHandlerWrapper.java:108)
	at org.eclipse.core.commands.Command.execute(Command.java:311)
	at org.eclipse.core.commands.ParameterizedCommand.execute
(ParameterizedCommand.java:396)
	at org.eclipse.ui.internal.keys.WorkbenchKeyboard.executeCommand
(WorkbenchKeyboard.java:459)
	at org.eclipse.ui.internal.keys.WorkbenchKeyboard.press
(WorkbenchKeyboard.java:781)
	at org.eclipse.ui.internal.keys.WorkbenchKeyboard.processKeyEvent
(WorkbenchKeyboard.java:828)
	at 
org.eclipse.ui.internal.keys.WorkbenchKeyboard.filterKeySequenceBindings
(WorkbenchKeyboard.java:550)
	at org.eclipse.ui.internal.keys.WorkbenchKeyboard.access$3
(WorkbenchKeyboard.java:493)
	at 
org.eclipse.ui.internal.keys.WorkbenchKeyboard$KeyDownFilter.handleEvent
(WorkbenchKeyboard.java:117)
	at org.eclipse.swt.widgets.EventTable.sendEvent(EventTable.java:66)
	at org.eclipse.swt.widgets.Display.filterEvent(Display.java:917)
	at org.eclipse.swt.widgets.Widget.sendEvent(Widget.java:842)
	at org.eclipse.swt.widgets.Widget.sendEvent(Widget.java:867)
	at org.eclipse.swt.widgets.Widget.sendEvent(Widget.java:852)
	at org.eclipse.swt.widgets.Widget.sendKeyEvent(Widget.java:880)
	at org.eclipse.swt.widgets.Widget.sendKeyEvent(Widget.java:876)
	at org.eclipse.swt.widgets.Widget.wmChar(Widget.java:1190)
	at org.eclipse.swt.widgets.Control.WM_CHAR(Control.java:3135)
	at org.eclipse.swt.widgets.Control.windowProc(Control.java:3038)
	at org.eclipse.swt.widgets.Display.windowProc(Display.java:3706)
	at org.eclipse.swt.internal.win32.OS.DispatchMessageW(Native Method)
	at org.eclipse.swt.internal.win32.OS.DispatchMessage(OS.java:1656)
	at org.eclipse.swt.widgets.Display.readAndDispatch(Display.java:2711)
	at org.eclipse.ui.internal.Workbench.runEventLoop(Workbench.java:1699)
	at org.eclipse.ui.internal.Workbench.runUI(Workbench.java:1663)
	at org.eclipse.ui.internal.Workbench.createAndRunWorkbench
(Workbench.java:367)
	at org.eclipse.ui.PlatformUI.createAndRunWorkbench(PlatformUI.java:143)
	at org.eclipse.ui.internal.ide.IDEApplication.run
(IDEApplication.java:103)
	at org.eclipse.core.internal.runtime.PlatformActivator$1.run
(PlatformActivator.java:226)
	at org.eclipse.core.runtime.adaptor.EclipseStarter.run
(EclipseStarter.java:376)
	at org.eclipse.core.runtime.adaptor.EclipseStarter.run
(EclipseStarter.java:163)
	at sun.reflect.NativeMethodAccessorImpl.invoke0(Native Method)
	at sun.reflect.NativeMethodAccessorImpl.invoke(Unknown Source)
	at sun.reflect.DelegatingMethodAccessorImpl.invoke(Unknown Source)
	at java.lang.reflect.Method.invoke(Unknown Source)
	at org.eclipse.core.launcher.Main.invokeFramework(Main.java:334)
	at org.eclipse.core.launcher.Main.basicRun(Main.java:278)
	at org.eclipse.core.launcher.Main.run(Main.java:973)
	at org.eclipse.core.launcher.Main.main(Main.java:948)
*** Bug 102468 has been marked as a duplicate of this bug. ***
released into repo on 2005/07/18.
Closing already verified defects</WithStack>
    <WithOutStack>1. Open web.xml by XML Editor. 
2. Find in (or insert into) it code (in all text examples, character " is used 
as 'beqin quote' and 'end quote'):
"&lt;welcome-file-list&gt;
 &lt;welcome-file&gt;index.jsp&lt;/welcome-file&gt;
&lt;/welcome-file-list&gt;"
3. In external text editor, prepare the code:
"session-config&gt;
 &lt;session-timeout&gt;7&lt;/session-timeout&gt;
&lt;/session-config&gt;
&lt;"
Here break lines are important.
4. Copy the prepared code to clipboard and paste it after first symbol '&lt;' in 
the first code example in web.xml to obtain the resulting code
"&lt;session-config&gt;
 &lt;session-timeout&gt;7&lt;/session-timeout&gt;
&lt;/session-config&gt;
&lt;welcome-file-list&gt;
 &lt;welcome-file&gt;index.jsp&lt;/welcome-file&gt;
&lt;/welcome-file-list&gt;"

5. Log file contains the exception:

!ENTRY org.eclipse.wst.sse.core 4 4 2005-07-01 16:03:44.92
!MESSAGE A structured model client, EMF2DOMSedAdapter(web-app,WebAppImpl) threw 
following exception during adapter notification (STRUCUTRED_CHANGED )
!STACK 0

*** Bug 102468 has been marked as a duplicate of this bug. ***
released into repo on 2005/07/18.
Closing already verified defects</WithOutStack>
  </Bug>
  <Bug>
    <BugId amount="102468" />
    <CreationDate amount="2005-07-01 08:37:00 -0400" />
    <DupId amount="102467" />
    <classification amount="WebTools" />
    <Product amount="WTP Java EE Tools" />
    <component amount="jst.j2ee" />
    <Version amount="0.7" />
    <rep_platform amount="PC" />
    <op_sys amount="Windows 2000" />
    <priority amount="P3" />
    <bug_severity amount="normal" />
    <Summery>Paste to XML Editor into &lt;welcome-file-list&gt; causes exception</Summery>
    <Patches amount="0" />
    <Stacktraces amount="1">
      <Stacktrace timestamp="1437330551779">
        <Exception>java.lang.NullPointerException</Exception>
        <Reason />
        <Frames>
          <Frame depth="0">org.eclipse.emf.common.util.BasicEList.getNonDuplicates(BasicEList.java:1829)</Frame>
          <Frame depth="1">org.eclipse.emf.common.util.BasicEList.addAll(BasicEList.java:684)</Frame>
          <Frame depth="2">org.eclipse.jst.j2ee.internal.webapplication.impl.WelcomeFileListImpl.eSet(WelcomeFileListImpl.java:199)</Frame>
          <Frame depth="3">org.eclipse.wst.common.internal.emf.utilities.ExtendedEcoreUtil.eSetOrAdd(ExtendedEcoreUtil.java:76)</Frame>
          <Frame depth="4">org.eclipse.wst.common.internal.emf.resource.Translator.setMOFValue(Translator.java:605)</Frame>
          <Frame depth="5">org.eclipse.wst.common.internal.emf.resource.EMF2DOMAdapterImpl.primUpdateMOFMultiFeature(EMF2DOMAdapterImpl.java:399)</Frame>
          <Frame depth="6">org.eclipse.wst.common.internal.emf.resource.EMF2DOMAdapterImpl.primUpdateMOFMultiFeature(EMF2DOMAdapterImpl.java:1444)</Frame>
          <Frame depth="7">org.eclipse.wst.common.internal.emf.resource.EMF2DOMAdapterImpl.updateMOFMultiFeature(EMF2DOMAdapterImpl.java:1658)</Frame>
          <Frame depth="8">org.eclipse.wst.common.internal.emf.resource.EMF2DOMAdapterImpl.updateMOFFeature(EMF2DOMAdapterImpl.java:1700)</Frame>
          <Frame depth="9">org.eclipse.wst.common.internal.emf.resource.EMF2DOMAdapterImpl.primUpdateMOF(EMF2DOMAdapterImpl.java:892)</Frame>
          <Frame depth="10">org.eclipse.wst.common.internal.emf.resource.EMF2DOMAdapterImpl.updateMOF(EMF2DOMAdapterImpl.java:872)</Frame>
          <Frame depth="11">org.eclipse.wst.common.internal.emf.resource.EMF2DOMAdapterImpl.primUpdateMOFFeature(EMF2DOMAdapterImpl.java:1399)</Frame>
          <Frame depth="12">org.eclipse.wst.common.internal.emf.resource.EMF2DOMAdapterImpl.updateMOFFeature(EMF2DOMAdapterImpl.java:1718)</Frame>
          <Frame depth="13">org.eclipse.wst.common.internal.emf.resource.EMF2DOMAdapterImpl.primUpdateMOF(EMF2DOMAdapterImpl.java:892)</Frame>
          <Frame depth="14">org.eclipse.wst.common.internal.emf.resource.EMF2DOMAdapterImpl.updateMOF(EMF2DOMAdapterImpl.java:872)</Frame>
          <Frame depth="15">org.eclipse.jst.j2ee.internal.emf2xml.sed.EMF2DOMSedAdapter.notifyChanged(EMF2DOMSedAdapter.java:71)</Frame>
          <Frame depth="16">org.eclipse.wst.sse.core.internal.provisional.AbstractNotifier.notify(AbstractNotifier.java:202)</Frame>
          <Frame depth="17">org.eclipse.wst.xml.core.internal.document.XMLModelNotifierImpl.notifyStructureChanged(XMLModelNotifierImpl.java:361)</Frame>
          <Frame depth="18">org.eclipse.wst.xml.core.internal.document.XMLModelNotifierImpl.endChanging(XMLModelNotifierImpl.java:177)</Frame>
          <Frame depth="19">org.eclipse.wst.xml.core.internal.document.DOMModelImpl.changedModel(DOMModelImpl.java:161)</Frame>
          <Frame depth="20">org.eclipse.wst.sse.core.internal.model.AbstractStructuredModel$DocumentToModelNotifier.nodesReplaced(AbstractStructuredModel.java:151)</Frame>
          <Frame depth="21">org.eclipse.wst.sse.core.internal.text.BasicStructuredDocument._fireEvent(BasicStructuredDocument.java:606)</Frame>
          <Frame depth="22">org.eclipse.wst.sse.core.internal.text.BasicStructuredDocument.fireStructuredDocumentEvent(BasicStructuredDocument.java:1214)</Frame>
          <Frame depth="23">org.eclipse.wst.sse.core.internal.text.BasicStructuredDocument.internalReplaceText(BasicStructuredDocument.java:1875)</Frame>
          <Frame depth="24">org.eclipse.wst.sse.core.internal.text.BasicStructuredDocument.replaceText(BasicStructuredDocument.java:2297)</Frame>
          <Frame depth="25">org.eclipse.wst.sse.core.internal.text.JobSafeStructuredDocument.access$0(JobSafeStructuredDocument.java:1)</Frame>
          <Frame depth="26">org.eclipse.wst.sse.core.internal.text.JobSafeStructuredDocument$1.run(JobSafeStructuredDocument.java:100)</Frame>
          <Frame depth="27">org.eclipse.wst.sse.ui.internal.editor.EditorExecutionContext.execute(EditorExecutionContext.java:43)</Frame>
          <Frame depth="28">org.eclipse.wst.sse.core.internal.text.JobSafeStructuredDocument.replaceText(JobSafeStructuredDocument.java:110)</Frame>
          <Frame depth="29">org.eclipse.wst.sse.core.internal.text.BasicStructuredDocument.replaceText(BasicStructuredDocument.java:2293)</Frame>
          <Frame depth="30">org.eclipse.wst.sse.ui.internal.StructuredDocumentToTextAdapter.replaceTextRange(StructuredDocumentToTextAdapter.java:1187)</Frame>
          <Frame depth="31">org.eclipse.swt.custom.StyledText.modifyContent(StyledText.java:5787)</Frame>
          <Frame depth="32">org.eclipse.swt.custom.StyledText.sendKeyEvent(StyledText.java:6625)</Frame>
          <Frame depth="33">org.eclipse.swt.custom.StyledText.paste(StyledText.java:5823)</Frame>
          <Frame depth="34">org.eclipse.jface.text.TextViewer.doOperation(TextViewer.java:3515)</Frame>
          <Frame depth="35">org.eclipse.jface.text.source.SourceViewer.doOperation(SourceViewer.java:801)</Frame>
          <Frame depth="36">org.eclipse.jface.text.source.projection.ProjectionViewer.doOperation(ProjectionViewer.java:1397)</Frame>
          <Frame depth="37">org.eclipse.wst.sse.ui.internal.StructuredTextViewer.doOperation(StructuredTextViewer.java:474)</Frame>
          <Frame depth="38">org.eclipse.ui.texteditor.TextOperationAction$1.run(TextOperationAction.java:122)</Frame>
          <Frame depth="39">org.eclipse.swt.custom.BusyIndicator.showWhile(BusyIndicator.java:69)</Frame>
          <Frame depth="40">org.eclipse.ui.texteditor.TextOperationAction.run(TextOperationAction.java:120)</Frame>
          <Frame depth="41">org.eclipse.jface.action.Action.runWithEvent(Action.java:996)</Frame>
          <Frame depth="42">org.eclipse.ui.commands.ActionHandler.execute(ActionHandler.java:182)</Frame>
          <Frame depth="43">org.eclipse.ui.internal.handlers.LegacyHandlerWrapper.execute(LegacyHandlerWrapper.java:108)</Frame>
          <Frame depth="44">org.eclipse.core.commands.Command.execute(Command.java:311)</Frame>
          <Frame depth="45">org.eclipse.core.commands.ParameterizedCommand.execute(ParameterizedCommand.java:396)</Frame>
          <Frame depth="46">org.eclipse.ui.internal.keys.WorkbenchKeyboard.executeCommand(WorkbenchKeyboard.java:459)</Frame>
          <Frame depth="47">org.eclipse.ui.internal.keys.WorkbenchKeyboard.press(WorkbenchKeyboard.java:781)</Frame>
          <Frame depth="48">org.eclipse.ui.internal.keys.WorkbenchKeyboard.processKeyEvent(WorkbenchKeyboard.java:828)</Frame>
          <Frame depth="49">org.eclipse.ui.internal.keys.WorkbenchKeyboard.filterKeySequenceBindings(WorkbenchKeyboard.java:550)</Frame>
          <Frame depth="50">org.eclipse.ui.internal.keys.WorkbenchKeyboard.access$3(WorkbenchKeyboard.java:493)</Frame>
          <Frame depth="51">org.eclipse.ui.internal.keys.WorkbenchKeyboard$KeyDownFilter.handleEvent(WorkbenchKeyboard.java:117)</Frame>
          <Frame depth="52">org.eclipse.swt.widgets.EventTable.sendEvent(EventTable.java:66)</Frame>
          <Frame depth="53">org.eclipse.swt.widgets.Display.filterEvent(Display.java:917)</Frame>
          <Frame depth="54">org.eclipse.swt.widgets.Widget.sendEvent(Widget.java:842)</Frame>
          <Frame depth="55">org.eclipse.swt.widgets.Widget.sendEvent(Widget.java:867)</Frame>
          <Frame depth="56">org.eclipse.swt.widgets.Widget.sendEvent(Widget.java:852)</Frame>
          <Frame depth="57">org.eclipse.swt.widgets.Widget.sendKeyEvent(Widget.java:880)</Frame>
          <Frame depth="58">org.eclipse.swt.widgets.Widget.sendKeyEvent(Widget.java:876)</Frame>
          <Frame depth="59">org.eclipse.swt.widgets.Widget.wmChar(Widget.java:1190)</Frame>
          <Frame depth="60">org.eclipse.swt.widgets.Control.WM_CHAR(Control.java:3135)</Frame>
          <Frame depth="61">org.eclipse.swt.widgets.Control.windowProc(Control.java:3038)</Frame>
          <Frame depth="62">org.eclipse.swt.widgets.Display.windowProc(Display.java:3706)</Frame>
          <Frame depth="63">org.eclipse.swt.internal.win32.OS.DispatchMessageW(Native Method)</Frame>
          <Frame depth="64">org.eclipse.swt.internal.win32.OS.DispatchMessage(OS.java:1656)</Frame>
          <Frame depth="65">org.eclipse.swt.widgets.Display.readAndDispatch(Display.java:2711)</Frame>
          <Frame depth="66">org.eclipse.ui.internal.Workbench.runEventLoop(Workbench.java:1699)</Frame>
          <Frame depth="67">org.eclipse.ui.internal.Workbench.runUI(Workbench.java:1663)</Frame>
          <Frame depth="68">org.eclipse.ui.internal.Workbench.createAndRunWorkbench(Workbench.java:367)</Frame>
          <Frame depth="69">org.eclipse.ui.PlatformUI.createAndRunWorkbench(PlatformUI.java:143)</Frame>
          <Frame depth="70">org.eclipse.ui.internal.ide.IDEApplication.run(IDEApplication.java:103)</Frame>
          <Frame depth="71">org.eclipse.core.internal.runtime.PlatformActivator$1.run(PlatformActivator.java:226)</Frame>
          <Frame depth="72">org.eclipse.core.runtime.adaptor.EclipseStarter.run(EclipseStarter.java:376)</Frame>
          <Frame depth="73">org.eclipse.core.runtime.adaptor.EclipseStarter.run(EclipseStarter.java:163)</Frame>
          <Frame depth="74">sun.reflect.NativeMethodAccessorImpl.invoke0(Native Method)</Frame>
          <Frame depth="75">sun.reflect.NativeMethodAccessorImpl.invoke(Unknown Source)</Frame>
          <Frame depth="76">sun.reflect.DelegatingMethodAccessorImpl.invoke(Unknown Source)</Frame>
          <Frame depth="77">java.lang.reflect.Method.invoke(Unknown Source)</Frame>
          <Frame depth="78">org.eclipse.core.launcher.Main.invokeFramework(Main.java:334)</Frame>
          <Frame depth="79">org.eclipse.core.launcher.Main.basicRun(Main.java:278)</Frame>
          <Frame depth="80">org.eclipse.core.launcher.Main.run(Main.java:973)</Frame>
          <Frame depth="81">org.eclipse.core.launcher.Main.main(Main.java:948)</Frame>
        </Frames>
      </Stacktrace>
    </Stacktraces>
    <SourceCodeRegions amount="0" />
    <Enumerations amount="1">
      <Enumeration lines="22">
        <Lines>
          <Line>1. Open web.xml by XML Editor.</Line>
          <Line>2. Find in (or insert into) it code (in all text examples, character " is used</Line>
          <Line>as 'beqin quote' and 'end quote'):</Line>
          <Line>"&lt;welcome-file-list&gt;</Line>
          <Line>&lt;welcome-file&gt;index.jsp&lt;/welcome-file&gt;</Line>
          <Line>&lt;/welcome-file-list&gt;"</Line>
          <Line>3. In external text editor, prepare the code:</Line>
          <Line>"session-config&gt;</Line>
          <Line>&lt;session-timeout&gt;7&lt;/session-timeout&gt;</Line>
          <Line>&lt;/session-config&gt;</Line>
          <Line>&lt;"</Line>
          <Line>Here break lines are important.</Line>
          <Line>4. Copy the prepared code to clipboard and paste it after first symbol '&lt;' in</Line>
          <Line>the first code example in web.xml to obtain the resulting code</Line>
          <Line>"&lt;session-config&gt;</Line>
          <Line>&lt;session-timeout&gt;7&lt;/session-timeout&gt;</Line>
          <Line>&lt;/session-config&gt;</Line>
          <Line>&lt;welcome-file-list&gt;</Line>
          <Line>&lt;welcome-file&gt;index.jsp&lt;/welcome-file&gt;</Line>
          <Line>&lt;/welcome-file-list&gt;"</Line>
          <Line />
          <Line>5. Log file contains the exception:</Line>
        </Lines>
      </Enumeration>
    </Enumerations>
    <bug_status amount="CLOSED" />
    <resolution amount="DUPLICATE" />
    <WithStack>1. Open web.xml by XML Editor. 
2. Find in (or insert into) it code (in all text examples, character " is used 
as 'beqin quote' and 'end quote'):
"&lt;welcome-file-list&gt;
 &lt;welcome-file&gt;index.jsp&lt;/welcome-file&gt;
&lt;/welcome-file-list&gt;"
3. In external text editor, prepare the code:
"session-config&gt;
 &lt;session-timeout&gt;7&lt;/session-timeout&gt;
&lt;/session-config&gt;
&lt;"
Here break lines are important.
4. Copy the prepared code to clipboard and paste it after first symbol '&lt;' in 
the first code example in web.xml to obtain the resulting code
"&lt;session-config&gt;
 &lt;session-timeout&gt;7&lt;/session-timeout&gt;
&lt;/session-config&gt;
&lt;welcome-file-list&gt;
 &lt;welcome-file&gt;index.jsp&lt;/welcome-file&gt;
&lt;/welcome-file-list&gt;"

5. Log file contains the exception:

!ENTRY org.eclipse.wst.sse.core 4 4 2005-07-01 16:03:44.92
!MESSAGE A structured model client, EMF2DOMSedAdapter(web-app,WebAppImpl) threw 
following exception during adapter notification (STRUCUTRED_CHANGED )
!STACK 0
java.lang.NullPointerException
	at org.eclipse.emf.common.util.BasicEList.getNonDuplicates
(BasicEList.java:1829)
	at org.eclipse.emf.common.util.BasicEList.addAll(BasicEList.java:684)
	at 
org.eclipse.jst.j2ee.internal.webapplication.impl.WelcomeFileListImpl.eSet
(WelcomeFileListImpl.java:199)
	at 
org.eclipse.wst.common.internal.emf.utilities.ExtendedEcoreUtil.eSetOrAdd
(ExtendedEcoreUtil.java:76)
	at org.eclipse.wst.common.internal.emf.resource.Translator.setMOFValue
(Translator.java:605)
	at 
org.eclipse.wst.common.internal.emf.resource.EMF2DOMAdapterImpl.primUpdateMOFMul
tiFeature(EMF2DOMAdapterImpl.java:399)
	at 
org.eclipse.wst.common.internal.emf.resource.EMF2DOMAdapterImpl.primUpdateMOFMul
tiFeature(EMF2DOMAdapterImpl.java:1444)
	at 
org.eclipse.wst.common.internal.emf.resource.EMF2DOMAdapterImpl.updateMOFMultiFe
ature(EMF2DOMAdapterImpl.java:1658)
	at 
org.eclipse.wst.common.internal.emf.resource.EMF2DOMAdapterImpl.updateMOFFeature
(EMF2DOMAdapterImpl.java:1700)
	at 
org.eclipse.wst.common.internal.emf.resource.EMF2DOMAdapterImpl.primUpdateMOF
(EMF2DOMAdapterImpl.java:892)
	at 
org.eclipse.wst.common.internal.emf.resource.EMF2DOMAdapterImpl.updateMOF
(EMF2DOMAdapterImpl.java:872)
	at 
org.eclipse.wst.common.internal.emf.resource.EMF2DOMAdapterImpl.primUpdateMOFFea
ture(EMF2DOMAdapterImpl.java:1399)
	at 
org.eclipse.wst.common.internal.emf.resource.EMF2DOMAdapterImpl.updateMOFFeature
(EMF2DOMAdapterImpl.java:1718)
	at 
org.eclipse.wst.common.internal.emf.resource.EMF2DOMAdapterImpl.primUpdateMOF
(EMF2DOMAdapterImpl.java:892)
	at 
org.eclipse.wst.common.internal.emf.resource.EMF2DOMAdapterImpl.updateMOF
(EMF2DOMAdapterImpl.java:872)
	at 
org.eclipse.jst.j2ee.internal.emf2xml.sed.EMF2DOMSedAdapter.notifyChanged
(EMF2DOMSedAdapter.java:71)
	at org.eclipse.wst.sse.core.internal.provisional.AbstractNotifier.notify
(AbstractNotifier.java:202)
	at 
org.eclipse.wst.xml.core.internal.document.XMLModelNotifierImpl.notifyStructureC
hanged(XMLModelNotifierImpl.java:361)
	at 
org.eclipse.wst.xml.core.internal.document.XMLModelNotifierImpl.endChanging
(XMLModelNotifierImpl.java:177)
	at org.eclipse.wst.xml.core.internal.document.DOMModelImpl.changedModel
(DOMModelImpl.java:161)
	at 
org.eclipse.wst.sse.core.internal.model.AbstractStructuredModel$DocumentToModelN
otifier.nodesReplaced(AbstractStructuredModel.java:151)
	at 
org.eclipse.wst.sse.core.internal.text.BasicStructuredDocument._fireEvent
(BasicStructuredDocument.java:606)
	at 
org.eclipse.wst.sse.core.internal.text.BasicStructuredDocument.fireStructuredDoc
umentEvent(BasicStructuredDocument.java:1214)
	at 
org.eclipse.wst.sse.core.internal.text.BasicStructuredDocument.internalReplaceTe
xt(BasicStructuredDocument.java:1875)
	at 
org.eclipse.wst.sse.core.internal.text.BasicStructuredDocument.replaceText
(BasicStructuredDocument.java:2297)
	at 
org.eclipse.wst.sse.core.internal.text.JobSafeStructuredDocument.access$0
(JobSafeStructuredDocument.java:1)
	at 
org.eclipse.wst.sse.core.internal.text.JobSafeStructuredDocument$1.run
(JobSafeStructuredDocument.java:100)
	at org.eclipse.wst.sse.ui.internal.editor.EditorExecutionContext.execute
(EditorExecutionContext.java:43)
	at 
org.eclipse.wst.sse.core.internal.text.JobSafeStructuredDocument.replaceText
(JobSafeStructuredDocument.java:110)
	at 
org.eclipse.wst.sse.core.internal.text.BasicStructuredDocument.replaceText
(BasicStructuredDocument.java:2293)
	at 
org.eclipse.wst.sse.ui.internal.StructuredDocumentToTextAdapter.replaceTextRange
(StructuredDocumentToTextAdapter.java:1187)
	at org.eclipse.swt.custom.StyledText.modifyContent(StyledText.java:5787)
	at org.eclipse.swt.custom.StyledText.sendKeyEvent(StyledText.java:6625)
	at org.eclipse.swt.custom.StyledText.paste(StyledText.java:5823)
	at org.eclipse.jface.text.TextViewer.doOperation(TextViewer.java:3515)
	at org.eclipse.jface.text.source.SourceViewer.doOperation
(SourceViewer.java:801)
	at org.eclipse.jface.text.source.projection.ProjectionViewer.doOperation
(ProjectionViewer.java:1397)
	at org.eclipse.wst.sse.ui.internal.StructuredTextViewer.doOperation
(StructuredTextViewer.java:474)
	at org.eclipse.ui.texteditor.TextOperationAction$1.run
(TextOperationAction.java:122)
	at org.eclipse.swt.custom.BusyIndicator.showWhile(BusyIndicator.java:69)
	at org.eclipse.ui.texteditor.TextOperationAction.run
(TextOperationAction.java:120)
	at org.eclipse.jface.action.Action.runWithEvent(Action.java:996)
	at org.eclipse.ui.commands.ActionHandler.execute(ActionHandler.java:182)
	at org.eclipse.ui.internal.handlers.LegacyHandlerWrapper.execute
(LegacyHandlerWrapper.java:108)
	at org.eclipse.core.commands.Command.execute(Command.java:311)
	at org.eclipse.core.commands.ParameterizedCommand.execute
(ParameterizedCommand.java:396)
	at org.eclipse.ui.internal.keys.WorkbenchKeyboard.executeCommand
(WorkbenchKeyboard.java:459)
	at org.eclipse.ui.internal.keys.WorkbenchKeyboard.press
(WorkbenchKeyboard.java:781)
	at org.eclipse.ui.internal.keys.WorkbenchKeyboard.processKeyEvent
(WorkbenchKeyboard.java:828)
	at 
org.eclipse.ui.internal.keys.WorkbenchKeyboard.filterKeySequenceBindings
(WorkbenchKeyboard.java:550)
	at org.eclipse.ui.internal.keys.WorkbenchKeyboard.access$3
(WorkbenchKeyboard.java:493)
	at 
org.eclipse.ui.internal.keys.WorkbenchKeyboard$KeyDownFilter.handleEvent
(WorkbenchKeyboard.java:117)
	at org.eclipse.swt.widgets.EventTable.sendEvent(EventTable.java:66)
	at org.eclipse.swt.widgets.Display.filterEvent(Display.java:917)
	at org.eclipse.swt.widgets.Widget.sendEvent(Widget.java:842)
	at org.eclipse.swt.widgets.Widget.sendEvent(Widget.java:867)
	at org.eclipse.swt.widgets.Widget.sendEvent(Widget.java:852)
	at org.eclipse.swt.widgets.Widget.sendKeyEvent(Widget.java:880)
	at org.eclipse.swt.widgets.Widget.sendKeyEvent(Widget.java:876)
	at org.eclipse.swt.widgets.Widget.wmChar(Widget.java:1190)
	at org.eclipse.swt.widgets.Control.WM_CHAR(Control.java:3135)
	at org.eclipse.swt.widgets.Control.windowProc(Control.java:3038)
	at org.eclipse.swt.widgets.Display.windowProc(Display.java:3706)
	at org.eclipse.swt.internal.win32.OS.DispatchMessageW(Native Method)
	at org.eclipse.swt.internal.win32.OS.DispatchMessage(OS.java:1656)
	at org.eclipse.swt.widgets.Display.readAndDispatch(Display.java:2711)
	at org.eclipse.ui.internal.Workbench.runEventLoop(Workbench.java:1699)
	at org.eclipse.ui.internal.Workbench.runUI(Workbench.java:1663)
	at org.eclipse.ui.internal.Workbench.createAndRunWorkbench
(Workbench.java:367)
	at org.eclipse.ui.PlatformUI.createAndRunWorkbench(PlatformUI.java:143)
	at org.eclipse.ui.internal.ide.IDEApplication.run
(IDEApplication.java:103)
	at org.eclipse.core.internal.runtime.PlatformActivator$1.run
(PlatformActivator.java:226)
	at org.eclipse.core.runtime.adaptor.EclipseStarter.run
(EclipseStarter.java:376)
	at org.eclipse.core.runtime.adaptor.EclipseStarter.run
(EclipseStarter.java:163)
	at sun.reflect.NativeMethodAccessorImpl.invoke0(Native Method)
	at sun.reflect.NativeMethodAccessorImpl.invoke(Unknown Source)
	at sun.reflect.DelegatingMethodAccessorImpl.invoke(Unknown Source)
	at java.lang.reflect.Method.invoke(Unknown Source)
	at org.eclipse.core.launcher.Main.invokeFramework(Main.java:334)
	at org.eclipse.core.launcher.Main.basicRun(Main.java:278)
	at org.eclipse.core.launcher.Main.run(Main.java:973)
	at org.eclipse.core.launcher.Main.main(Main.java:948)
Duplicate

*** This bug has been marked as a duplicate of 102467 ***
Closing dup, track this problem with: 102467</WithStack>
    <WithOutStack>1. Open web.xml by XML Editor. 
2. Find in (or insert into) it code (in all text examples, character " is used 
as 'beqin quote' and 'end quote'):
"&lt;welcome-file-list&gt;
 &lt;welcome-file&gt;index.jsp&lt;/welcome-file&gt;
&lt;/welcome-file-list&gt;"
3. In external text editor, prepare the code:
"session-config&gt;
 &lt;session-timeout&gt;7&lt;/session-timeout&gt;
&lt;/session-config&gt;
&lt;"
Here break lines are important.
4. Copy the prepared code to clipboard and paste it after first symbol '&lt;' in 
the first code example in web.xml to obtain the resulting code
"&lt;session-config&gt;
 &lt;session-timeout&gt;7&lt;/session-timeout&gt;
&lt;/session-config&gt;
&lt;welcome-file-list&gt;
 &lt;welcome-file&gt;index.jsp&lt;/welcome-file&gt;
&lt;/welcome-file-list&gt;"

5. Log file contains the exception:

!ENTRY org.eclipse.wst.sse.core 4 4 2005-07-01 16:03:44.92
!MESSAGE A structured model client, EMF2DOMSedAdapter(web-app,WebAppImpl) threw 
following exception during adapter notification (STRUCUTRED_CHANGED )
!STACK 0

Duplicate

*** This bug has been marked as a duplicate of 102467 ***
Closing dup, track this problem with: 102467</WithOutStack>
  </Bug>
  <Bug>
    <BugId amount="102469" />
    <CreationDate amount="2005-07-01 08:42:00 -0400" />
    <DupId amount="" />
    <classification amount="BIRT" />
    <Product amount="BIRT" />
    <component amount="Report Engine" />
    <Version amount="1.0.0" />
    <rep_platform amount="All" />
    <op_sys amount="All" />
    <priority amount="P3" />
    <bug_severity amount="enhancement" />
    <Summery>Provide support for interactivity in generated reports</Summery>
    <Patches amount="0" />
    <Stacktraces amount="0" />
    <SourceCodeRegions amount="0" />
    <Enumerations amount="0" />
    <bug_status amount="RESOLVED" />
    <resolution amount="FIXED" />
    <WithStack>With many reports, it would be nice to be able to have the capability to
interact with the reports that were generated.  Changing the sort column, doing
"pivoting" and other operations of that type improve the user experience of
these reporting "applications" tremendously.

Please consider adding the ability to interact with rendered reports.  Such
interactivity should take advantage of the best of breed options for
interactivity such as AJAX for HTML.  The addition of specific "viewers" should
be avoided where possible to allow rendered reports to be placed within the
context of a larger web application.  The use of extra non-standard plugins or 
applets should be avoided where possible as well, although something "standard"
such as Macromedia Flash might be ok.
In birt 2.0 final release, new web viewer is based on ajax framework. It supports certain interactivities such as page nav, toc, highlighting report element, and export data from designated report item. See BPS5 for detail.
These features will be supported in birt 2.0 release candidate.
Verified this bug.
Can you tell me if column sorting will be supported in the 2.0 release?  It appears there are references to the functionality in the javascript files that implement the viewer, but it doesn't appear to work.

It will not be supported in Birt 2.0.</WithStack>
    <WithOutStack>With many reports, it would be nice to be able to have the capability to
interact with the reports that were generated.  Changing the sort column, doing
"pivoting" and other operations of that type improve the user experience of
these reporting "applications" tremendously.

Please consider adding the ability to interact with rendered reports.  Such
interactivity should take advantage of the best of breed options for
interactivity such as AJAX for HTML.  The addition of specific "viewers" should
be avoided where possible to allow rendered reports to be placed within the
context of a larger web application.  The use of extra non-standard plugins or 
applets should be avoided where possible as well, although something "standard"
such as Macromedia Flash might be ok.
In birt 2.0 final release, new web viewer is based on ajax framework. It supports certain interactivities such as page nav, toc, highlighting report element, and export data from designated report item. See BPS5 for detail.
These features will be supported in birt 2.0 release candidate.
Verified this bug.
Can you tell me if column sorting will be supported in the 2.0 release?  It appears there are references to the functionality in the javascript files that implement the viewer, but it doesn't appear to work.

It will not be supported in Birt 2.0.</WithOutStack>
  </Bug>
  <Bug>
    <BugId amount="102470" />
    <CreationDate amount="2005-07-01 08:45:00 -0400" />
    <DupId amount="" />
    <classification amount="BIRT" />
    <Product amount="BIRT" />
    <component amount="Report Engine" />
    <Version amount="1.0.0" />
    <rep_platform amount="All" />
    <op_sys amount="All" />
    <priority amount="P3" />
    <bug_severity amount="enhancement" />
    <Summery>Separate report generation and rendering per specification</Summery>
    <Patches amount="0" />
    <Stacktraces amount="0" />
    <SourceCodeRegions amount="0" />
    <Enumerations amount="0" />
    <bug_status amount="RESOLVED" />
    <resolution amount="FIXED" />
    <WithStack>The separation of report generation and rendering as defined in the ROM
specification is an important function for our customer base and will provide
support for other functions such as report interactivity as requested in
enhancement request #102469.  Please consider adding this functionality in the
2.0 release of BIRT.
This feature is now down though some bugs still exist. Those bugs are traces separately.
The separation of report generation and rendering has done.
This bug is verified.</WithStack>
    <WithOutStack>The separation of report generation and rendering as defined in the ROM
specification is an important function for our customer base and will provide
support for other functions such as report interactivity as requested in
enhancement request #102469.  Please consider adding this functionality in the
2.0 release of BIRT.
This feature is now down though some bugs still exist. Those bugs are traces separately.
The separation of report generation and rendering has done.
This bug is verified.</WithOutStack>
  </Bug>
  <Bug>
    <BugId amount="102471" />
    <CreationDate amount="2005-07-01 09:03:00 -0400" />
    <DupId amount="" />
    <classification amount="Eclipse" />
    <Product amount="Platform" />
    <component amount="Update  (deprecated - use RT&gt;Equinox&gt;p2)" />
    <Version amount="3.1" />
    <rep_platform amount="PC" />
    <op_sys amount="Windows 2000" />
    <priority amount="P3" />
    <bug_severity amount="normal" />
    <Summery>Standalone update doc has wrong syntax for verifyOnly</Summery>
    <Patches amount="0" />
    <Stacktraces amount="0" />
    <SourceCodeRegions amount="0" />
    <Enumerations amount="0" />
    <bug_status amount="RESOLVED" />
    <resolution amount="WONTFIX" />
    <WithStack>The docs at
http://dev.eclipse.org/viewcvs/index.cgi/%7Echeckout%7E/platform-update-home/doc/working/documentation/standalone_update.html

state 'add -verifyOnly=true to the list of arguments.' It seems it must be
'-verifyOnly true' (without the equals sign).
This is a mass update of Platform Update bugs that have had no activity in three years. Platform Update was replaced in Eclipse 3.4 (2008) by a new provisioning system called Equinox p2. If this bug or enhancement is not already addressed in p2 please enter a new bug report against p2 (RT &gt; Equinox &gt; p2). If you still want to see this bug addressed in the deprecated Platform Update component, please reopen this bug. Patches welcome.</WithStack>
    <WithOutStack>The docs at
http://dev.eclipse.org/viewcvs/index.cgi/%7Echeckout%7E/platform-update-home/doc/working/documentation/standalone_update.html

state 'add -verifyOnly=true to the list of arguments.' It seems it must be
'-verifyOnly true' (without the equals sign).
This is a mass update of Platform Update bugs that have had no activity in three years. Platform Update was replaced in Eclipse 3.4 (2008) by a new provisioning system called Equinox p2. If this bug or enhancement is not already addressed in p2 please enter a new bug report against p2 (RT &gt; Equinox &gt; p2). If you still want to see this bug addressed in the deprecated Platform Update component, please reopen this bug. Patches welcome.</WithOutStack>
  </Bug>
  <Bug>
    <BugId amount="102472" />
    <CreationDate amount="2005-07-01 09:07:00 -0400" />
    <DupId amount="" />
    <classification amount="Eclipse" />
    <Product amount="Platform" />
    <component amount="SWT" />
    <Version amount="3.1" />
    <rep_platform amount="PC" />
    <op_sys amount="Linux-GTK" />
    <priority amount="P3" />
    <bug_severity amount="normal" />
    <Summery>GC.setXORMode() does not work when advanced is true</Summery>
    <Patches amount="0" />
    <Stacktraces amount="0" />
    <SourceCodeRegions amount="2">
      <source_code type="functioncall">
        <location start="3573" end="3608" />
        <code>tr.translate(cellsize,cellsize);</code>
      </source_code>
      <source_code type="functioncall">
        <location start="3609" end="3627" />
        <code>tr.rotate(180);</code>
      </source_code>
    </SourceCodeRegions>
    <Enumerations amount="2">
      <Enumeration lines="12">
        <Lines>
          <Line>1) fish does not appear at all.</Line>
          <Line />
          <Line>This is a problem in the example. I will attach a version of the example the</Line>
          <Line>show the fish in all directions.</Line>
          <Line />
          <Line>2) gradient only has two colors (green on the left and white on the right)</Line>
          <Line />
          <Line>Which version of cairo are you using? This looks like a bug in cairo 0.1.x</Line>
          <Line>that was fixed in cairo 0.4.0. Anyway, the code in HEAD has been fixed to draw</Line>
          <Line>gradients properly (See bug#102481). You will need cairo 0.5.1.</Line>
          <Line />
          <Line>3) the fish is not oval</Line>
        </Lines>
      </Enumeration>
      <Enumeration lines="24">
        <Lines>
          <Line>1) You're right that the reason the fish didn't show was the translations in the</Line>
          <Line>example being wrong.  I have changed my local copy to match the changes you</Line>
          <Line>made, and it does appear in all directions now.</Line>
          <Line />
          <Line>I am still not totally clear on the translations though...I don't understand why</Line>
          <Line>you do the translations before the rotations.  For WEST, it could have also been</Line>
          <Line>done that way, i.e.:</Line>
          <Line />
          <Line />
          <Line>which just the same is the translation I would expect, I just don't understand</Line>
          <Line>why before the rotation and not afterward.</Line>
          <Line />
          <Line>2) I apologize for not running with the Cairo 0.4.0 before posting the</Line>
          <Line>screenshot.  That was a Cairo 0.1.23 problem, and running the example with the</Line>
          <Line>Cairo 0.4.0 included with Eclipse 3.1, the gradient is correctly drawn.  I</Line>
          <Line>wasn't meaning to make an issue with that in this bug, so sorry for the noise</Line>
          <Line>there.  Anyway you sufficiently addressed that in my Pattern bug.  Thank you.</Line>
          <Line />
          <Line>3) So the drawing routine doesn't use Cairo until I set a transform?  That would</Line>
          <Line>explain why setting an identity transform would start making it buggy.  I am</Line>
          <Line>going to change the program I am pulling all of this code from to use a Pattern</Line>
          <Line>to do the gradient and eliminating all use of the XOR mode, so that won't be an</Line>
          <Line>issue for me.  I already did some work on what that changed code would look like</Line>
          <Line>in my Pattern bug here, but thanks for your example.</Line>
        </Lines>
      </Enumeration>
    </Enumerations>
    <bug_status amount="RESOLVED" />
    <resolution amount="WONTFIX" />
    <WithStack>First a note that I've only been able to test this on Linux/Gtk. 
 
I have made a testcase in which I set a transform to a GC that is either an 
identity transform or a rotation.  I apologize that the testcase isn't as 
simple as it could be.  Maybe I just don't understand the whole Transform 
thing as it's not documented at all, but I think what I'm seeing here is a 
bug. 
 
As you can see from the drawFish() method, whether the transform is actually 
rotated is dependent on what direction the Fish was given when it was declared 
in main.  For Direction.EAST, which is what I have it set to in the testcase I 
am attaching, the transform (set in the drawFish() method) should be an 
identity transform, and should, as far I know, do the same as if I had done 
gc.setTransform(null) or nothing at all.  You can try that and see what it's 
supposed to look like, and then set the transform back and see that it's not 
right. 
 
Then, if you change the direction of the Fish, or just add a rotation to the 
transform, the whole drawing disappears completely.  This doesn't seem right 
either.
Created attachment 24261
SWT program to demonstrate the problems
Created attachment 24549
new example 

Note that rotation happens around the origin (0,0). You need to translate the
drawing to go back to the first quadrant. Here is your sample with the
necessary modifications.
This is the correct behavior.
Actually I figured out later that you needed the translations and I failed to
mention that, sorry.  BTW, wouldn't the translation for WEST be
tr.translate(cellsize,cellsize);?

Anyway, it doesn't matter, even if you do the translations, for anything other
than EAST the drawing still disappears, and for EAST where it should be an
identity transform, as I explained in my original bug report, the picture gets
screwed up.

I'll attach pictures to show you.
Created attachment 24577
Correct Fish drawing, facing EAST.  No transform has been set.
Created attachment 24578
Screwed up Fish drawing, still facing EAST.  Identity transform has been set.
Ok, I believe there are three problems here:

1) fish does not appear at all.

   This is a problem in the example. I will attach a version of the example the
show the fish in all directions.

2) gradient only has two colors (green on the left and white on the right)

    Which version of cairo are you using? This looks like a bug in cairo 0.1.x
that was fixed in cairo 0.4.0. Anyway, the code in HEAD has been fixed to draw
gradients properly (See bug#102481). You will need cairo 0.5.1.

3) the fish is not oval

    You are using XOR to achieve a gradient oval by drawing a gradient
rectangle. GC.setXORMode() cannot be implemented in Quartz, GDI+ and cairo.  We
have deprecated the API because of that and I believe there is nothing SWT can
do about this. Note that it is possible to achieve the same results by using a
gradient Pattern and drawing an oval with GC.drawOval(). I will attach an
example that uses that.

Silenio

Created attachment 24620
new example
Created attachment 24622
screen shot of example running with cairo 0.5.1
Created attachment 24623
new example

Sorry the example was running the old code.
OK:

1) You're right that the reason the fish didn't show was the translations in the
example being wrong.  I have changed my local copy to match the changes you
made, and it does appear in all directions now.

I am still not totally clear on the translations though...I don't understand why
you do the translations before the rotations.  For WEST, it could have also been
done that way, i.e.:
			tr.translate(cellsize,cellsize);
			tr.rotate(180);
which just the same is the translation I would expect, I just don't understand
why before the rotation and not afterward.

2) I apologize for not running with the Cairo 0.4.0 before posting the
screenshot.  That was a Cairo 0.1.23 problem, and running the example with the
Cairo 0.4.0 included with Eclipse 3.1, the gradient is correctly drawn.  I
wasn't meaning to make an issue with that in this bug, so sorry for the noise
there.  Anyway you sufficiently addressed that in my Pattern bug.  Thank you.

3) So the drawing routine doesn't use Cairo until I set a transform?  That would
explain why setting an identity transform would start making it buggy.  I am
going to change the program I am pulling all of this code from to use a Pattern
to do the gradient and eliminating all use of the XOR mode, so that won't be an
issue for me.  I already did some work on what that changed code would look like
in my Pattern bug here, but thanks for your example.

I would like to test all of this if I can get an SWT built from CVS as well as
upgrade my system Cairo lib to 0.5.1.
Rotation happens around the Z axis. So originaly the coord. system is like 
this:

cellsize
.---------|-&gt;
|
|
|
|
-
|
V

Translating it like tr.translate(CELLSIZE, CELLSIZE)

. device origin




           user origin
           .---------|-&gt;
           |
           |
           |
           |
           -
           |
           V          

And than rotating like tr.rotate(180)

. device origin
            A
            |
            -
            |
            |
            |
            |
&lt;-|---------. user origin

I hope this helps and look nice after commit :-).

Yes, some APIs will make GC use cairo (including GC.setTransform()). Take a 
look at the java doc of GC.setAdvanced() for more details. You can use 
GC.setAdvanced()/getAdvanced() to put/check if the GC is using cairo.

I am going to change the summary to reflect problem 3), since it is the only 
outstanding problem here. As I said GC.setXORMode() cannot be implemented, so 
I will mark this bug as WONTFIX. Is that OK for you?

Silenio

Yes, your diagrams helped a lot!  I didn't realize calling translate() moved   
the origin around which the rotation would be done.  That explains why it   
*does* work to translate first and rotate second.  That should be mentioned in   
the Javadoc documentation I think.  It doesn't explain why it *doesn't* work   
to rotate first and translate second, but I figured that out.  The translation   
is done as if the rotation had not been done.  That should be explained in the   
Javadoc too. 
 
Yes, please mark the setXORmode problem as WONTFIX, that is not important 
anymore. 
 
Thank you! 
Closing. Thanks David.</WithStack>
    <WithOutStack>First a note that I've only been able to test this on Linux/Gtk. 
 
I have made a testcase in which I set a transform to a GC that is either an 
identity transform or a rotation.  I apologize that the testcase isn't as 
simple as it could be.  Maybe I just don't understand the whole Transform 
thing as it's not documented at all, but I think what I'm seeing here is a 
bug. 
 
As you can see from the drawFish() method, whether the transform is actually 
rotated is dependent on what direction the Fish was given when it was declared 
in main.  For Direction.EAST, which is what I have it set to in the testcase I 
am attaching, the transform (set in the drawFish() method) should be an 
identity transform, and should, as far I know, do the same as if I had done 
gc.setTransform(null) or nothing at all.  You can try that and see what it's 
supposed to look like, and then set the transform back and see that it's not 
right. 
 
Then, if you change the direction of the Fish, or just add a rotation to the 
transform, the whole drawing disappears completely.  This doesn't seem right 
either.
Created attachment 24261
SWT program to demonstrate the problems
Created attachment 24549
new example 

Note that rotation happens around the origin (0,0). You need to translate the
drawing to go back to the first quadrant. Here is your sample with the
necessary modifications.
This is the correct behavior.
Actually I figured out later that you needed the translations and I failed to
mention that, sorry.  BTW, wouldn't the translation for WEST be
tr.translate(cellsize,cellsize);?

Anyway, it doesn't matter, even if you do the translations, for anything other
than EAST the drawing still disappears, and for EAST where it should be an
identity transform, as I explained in my original bug report, the picture gets
screwed up.

I'll attach pictures to show you.
Created attachment 24577
Correct Fish drawing, facing EAST.  No transform has been set.
Created attachment 24578
Screwed up Fish drawing, still facing EAST.  Identity transform has been set.
Ok, I believe there are three problems here:

1) fish does not appear at all.

   This is a problem in the example. I will attach a version of the example the
show the fish in all directions.

2) gradient only has two colors (green on the left and white on the right)

    Which version of cairo are you using? This looks like a bug in cairo 0.1.x
that was fixed in cairo 0.4.0. Anyway, the code in HEAD has been fixed to draw
gradients properly (See bug#102481). You will need cairo 0.5.1.

3) the fish is not oval

    You are using XOR to achieve a gradient oval by drawing a gradient
rectangle. GC.setXORMode() cannot be implemented in Quartz, GDI+ and cairo.  We
have deprecated the API because of that and I believe there is nothing SWT can
do about this. Note that it is possible to achieve the same results by using a
gradient Pattern and drawing an oval with GC.drawOval(). I will attach an
example that uses that.

Silenio

Created attachment 24620
new example
Created attachment 24622
screen shot of example running with cairo 0.5.1
Created attachment 24623
new example

Sorry the example was running the old code.
OK:

1) You're right that the reason the fish didn't show was the translations in the
example being wrong.  I have changed my local copy to match the changes you
made, and it does appear in all directions now.

I am still not totally clear on the translations though...I don't understand why
you do the translations before the rotations.  For WEST, it could have also been
done that way, i.e.:
			tr.translate(cellsize,cellsize);
			tr.rotate(180);
which just the same is the translation I would expect, I just don't understand
why before the rotation and not afterward.

2) I apologize for not running with the Cairo 0.4.0 before posting the
screenshot.  That was a Cairo 0.1.23 problem, and running the example with the
Cairo 0.4.0 included with Eclipse 3.1, the gradient is correctly drawn.  I
wasn't meaning to make an issue with that in this bug, so sorry for the noise
there.  Anyway you sufficiently addressed that in my Pattern bug.  Thank you.

3) So the drawing routine doesn't use Cairo until I set a transform?  That would
explain why setting an identity transform would start making it buggy.  I am
going to change the program I am pulling all of this code from to use a Pattern
to do the gradient and eliminating all use of the XOR mode, so that won't be an
issue for me.  I already did some work on what that changed code would look like
in my Pattern bug here, but thanks for your example.

I would like to test all of this if I can get an SWT built from CVS as well as
upgrade my system Cairo lib to 0.5.1.
Rotation happens around the Z axis. So originaly the coord. system is like 
this:

cellsize
.---------|-&gt;
|
|
|
|
-
|
V

Translating it like tr.translate(CELLSIZE, CELLSIZE)

. device origin




           user origin
           .---------|-&gt;
           |
           |
           |
           |
           -
           |
           V          

And than rotating like tr.rotate(180)

. device origin
            A
            |
            -
            |
            |
            |
            |
&lt;-|---------. user origin

I hope this helps and look nice after commit :-).

Yes, some APIs will make GC use cairo (including GC.setTransform()). Take a 
look at the java doc of GC.setAdvanced() for more details. You can use 
GC.setAdvanced()/getAdvanced() to put/check if the GC is using cairo.

I am going to change the summary to reflect problem 3), since it is the only 
outstanding problem here. As I said GC.setXORMode() cannot be implemented, so 
I will mark this bug as WONTFIX. Is that OK for you?

Silenio

Yes, your diagrams helped a lot!  I didn't realize calling translate() moved   
the origin around which the rotation would be done.  That explains why it   
*does* work to translate first and rotate second.  That should be mentioned in   
the Javadoc documentation I think.  It doesn't explain why it *doesn't* work   
to rotate first and translate second, but I figured that out.  The translation   
is done as if the rotation had not been done.  That should be explained in the   
Javadoc too. 
 
Yes, please mark the setXORmode problem as WONTFIX, that is not important 
anymore. 
 
Thank you! 
Closing. Thanks David.</WithOutStack>
  </Bug>
  <Bug>
    <BugId amount="102473" />
    <CreationDate amount="2005-07-01 09:10:00 -0400" />
    <DupId amount="" />
    <classification amount="Eclipse" />
    <Product amount="JDT" />
    <component amount="Core" />
    <Version amount="3.1" />
    <rep_platform amount="PC" />
    <op_sys amount="Windows XP" />
    <priority amount="P3" />
    <bug_severity amount="normal" />
    <Summery>code assist: parameter names not harvested from debug info in class files</Summery>
    <Patches amount="0" />
    <Stacktraces amount="0" />
    <SourceCodeRegions amount="0" />
    <Enumerations amount="0" />
    <bug_status amount="VERIFIED" />
    <resolution amount="FIXED" />
    <WithStack>3.1
get this zip 
http://prdownloads.sourceforge.net/jggapi/jggapi-1.0.1-bin.zip?download

extract the jar file from it and put on build path

open the class file editor for LoginContext. Look at constructor. You see that
both parameter names are known: uin, password

Now, try completing:
new LoginContext(&lt;CODEASSIST&gt;

you get 2 not informative parameter hints: arg0, arg1


I seem to remember this worked before. It's either a code assist problem or a
settings problem. It should work out of the box.
Do you have a source attachment to this jar?
No source attachment should be needed here for the names of parameters. They are
contained in the debug info. 
I see them when I open the classfile editor.

For reference, the sources are available here:
http://sourceforge.net/project/showfiles.php?group_id=79198
It's version 1.0.1.
I'll investigate current behavior.
We never looked for arguments names inside debug attribute.
I'll see if this can be added without a major hit on performance.
Created attachment 59172
Proposed fix
Created attachment 59173
Regression tests
Philippe,

Let me know if you are interested by such a support. It doesn't seem to have an noticeable impact on performances.

Frédéric,

Could you please run the performance tests with this patch?
Thanks.
Adam,

Note that this implies the library to be compiled with local variable table attribute. By default this attribute is not provided.
However in the library that you refer to, they are included.
(In reply to comment #7)
&gt; Frédéric,
&gt; 
&gt; Could you please run the performance tests with this patch?
&gt; Thanks.
&gt; 
Performance tests are OK with this patch...

Released for 3.3M6
Regression tests added in org.eclipse.jdt.core.tests.compiler.regression.ClassFileReaderTest_1_4#test078/080
Verified for 3.3 M6 using build I20070320-0010
*** Bug 168657 has been marked as a duplicate of this bug. ***</WithStack>
    <WithOutStack>3.1
get this zip 
http://prdownloads.sourceforge.net/jggapi/jggapi-1.0.1-bin.zip?download

extract the jar file from it and put on build path

open the class file editor for LoginContext. Look at constructor. You see that
both parameter names are known: uin, password

Now, try completing:
new LoginContext(&lt;CODEASSIST&gt;

you get 2 not informative parameter hints: arg0, arg1


I seem to remember this worked before. It's either a code assist problem or a
settings problem. It should work out of the box.
Do you have a source attachment to this jar?
No source attachment should be needed here for the names of parameters. They are
contained in the debug info. 
I see them when I open the classfile editor.

For reference, the sources are available here:
http://sourceforge.net/project/showfiles.php?group_id=79198
It's version 1.0.1.
I'll investigate current behavior.
We never looked for arguments names inside debug attribute.
I'll see if this can be added without a major hit on performance.
Created attachment 59172
Proposed fix
Created attachment 59173
Regression tests
Philippe,

Let me know if you are interested by such a support. It doesn't seem to have an noticeable impact on performances.

Frédéric,

Could you please run the performance tests with this patch?
Thanks.
Adam,

Note that this implies the library to be compiled with local variable table attribute. By default this attribute is not provided.
However in the library that you refer to, they are included.
(In reply to comment #7)
&gt; Frédéric,
&gt; 
&gt; Could you please run the performance tests with this patch?
&gt; Thanks.
&gt; 
Performance tests are OK with this patch...

Released for 3.3M6
Regression tests added in org.eclipse.jdt.core.tests.compiler.regression.ClassFileReaderTest_1_4#test078/080
Verified for 3.3 M6 using build I20070320-0010
*** Bug 168657 has been marked as a duplicate of this bug. ***</WithOutStack>
  </Bug>
  <Bug>
    <BugId amount="102474" />
    <CreationDate amount="2005-07-01 09:13:00 -0400" />
    <DupId amount="" />
    <classification amount="WebTools" />
    <Product amount="WTP Java EE Tools" />
    <component amount="jst.jem" />
    <Version amount="unspecified" />
    <rep_platform amount="PC" />
    <op_sys amount="Windows XP" />
    <priority amount="P3" />
    <bug_severity amount="normal" />
    <Summery>Exceptions thrown for new JFrame in new workspace</Summery>
    <Patches amount="0" />
    <Stacktraces amount="0" />
    <SourceCodeRegions amount="0" />
    <Enumerations amount="0" />
    <bug_status amount="CLOSED" />
    <resolution amount="WORKSFORME" />
    <WithStack>VE I20050630, GEF I20050630, Eclipse 3.1 final, EMF 2.1RC0.
Using a new workspace, create a class extending JFrame using the New Visual
Class wizard. Exceptions thrown while opening the editor although everything
shows fine in the graph view and other views.
See attached .log for the stack trace info.
Created attachment 24262
stack trace
I couldn't reproduce it.
I didn't get this either on a brand new workspace/install.
If this happens again, let's see what we can do, if anything. Till then I'm
closing as works for me.
VE 1.1 is released. Moving to closed.</WithStack>
    <WithOutStack>VE I20050630, GEF I20050630, Eclipse 3.1 final, EMF 2.1RC0.
Using a new workspace, create a class extending JFrame using the New Visual
Class wizard. Exceptions thrown while opening the editor although everything
shows fine in the graph view and other views.
See attached .log for the stack trace info.
Created attachment 24262
stack trace
I couldn't reproduce it.
I didn't get this either on a brand new workspace/install.
If this happens again, let's see what we can do, if anything. Till then I'm
closing as works for me.
VE 1.1 is released. Moving to closed.</WithOutStack>
  </Bug>
  <Bug>
    <BugId amount="102475" />
    <CreationDate amount="2005-07-01 09:16:00 -0400" />
    <DupId amount="" />
    <classification amount="Eclipse" />
    <Product amount="Platform" />
    <component amount="SWT" />
    <Version amount="3.1" />
    <rep_platform amount="PC" />
    <op_sys amount="Linux-GTK" />
    <priority amount="P3" />
    <bug_severity amount="normal" />
    <Summery>Transform seems to not work in some cases</Summery>
    <Patches amount="0" />
    <Stacktraces amount="0" />
    <SourceCodeRegions amount="0" />
    <Enumerations amount="0" />
    <bug_status amount="RESOLVED" />
    <resolution amount="WORKSFORME" />
    <WithStack>I've only tested this on Linux/Gtk, but if you run Snippet10: 
http://dev.eclipse.org/viewcvs/index.cgi/org.eclipse.swt.snippets/src/org/eclipse/swt/snippets/Snippet10.java?rev=HEAD&amp;content-type=text/vnd.viewcvs-markup 
 
and comment out tr.rotate(-30), when you run the program you see the SWT text 
appear for a moment, then disappear.
I tried this and it worked for me.  Was this fixed by upgrading cairo as in bug
102481?
Yes indeed.
OK, marking as WORKSFORME.</WithStack>
    <WithOutStack>I've only tested this on Linux/Gtk, but if you run Snippet10: 
http://dev.eclipse.org/viewcvs/index.cgi/org.eclipse.swt.snippets/src/org/eclipse/swt/snippets/Snippet10.java?rev=HEAD&amp;content-type=text/vnd.viewcvs-markup 
 
and comment out tr.rotate(-30), when you run the program you see the SWT text 
appear for a moment, then disappear.
I tried this and it worked for me.  Was this fixed by upgrading cairo as in bug
102481?
Yes indeed.
OK, marking as WORKSFORME.</WithOutStack>
  </Bug>
  <Bug>
    <BugId amount="102476" />
    <CreationDate amount="2005-07-01 09:20:00 -0400" />
    <DupId amount="" />
    <classification amount="Eclipse" />
    <Product amount="Platform" />
    <component amount="SWT" />
    <Version amount="3.1" />
    <rep_platform amount="PC" />
    <op_sys amount="Linux" />
    <priority amount="P3" />
    <bug_severity amount="normal" />
    <Summery>GC drawing problems</Summery>
    <Patches amount="0" />
    <Stacktraces amount="0" />
    <SourceCodeRegions amount="0" />
    <Enumerations amount="0" />
    <bug_status amount="RESOLVED" />
    <resolution amount="INVALID" />
    <WithStack>Sorry for the vague Summary, I'm not sure exactly how to explain this one. 
 
I made a few minor modifications to Snippet10, basically just moved things 
around a little and done the drawing on a Label rather than directly on the 
Shell.  I will attach my modified Snippet10.  Unless I am missing something, I 
think should it look the same as the unmodified Snippet10, but it doesn't.  
I've only tested on Linux/Gtk.
Created attachment 24263
Modified Snippet10
Created attachment 24271
Screenshot

Here is what it looks like for me.  Is this what it looks like for you?

The problem is that the image is 640 x 480 and so it is larger than the label. 
The label is trying to center it so you're seeing like the middle of the image.
Created attachment 24272
Modified Snippet10

Here is a modified version of the snippet that draws on the label, and shows it
at its full size to explain the above screenshot.
Yes, that matches what I am seeing.  I see from your explanation that this was
my mistake.  I could have just set the label's bounds to the *image*'s bounds
and not the shells, and all would have been fine.

This bug can be closed.</WithStack>
    <WithOutStack>Sorry for the vague Summary, I'm not sure exactly how to explain this one. 
 
I made a few minor modifications to Snippet10, basically just moved things 
around a little and done the drawing on a Label rather than directly on the 
Shell.  I will attach my modified Snippet10.  Unless I am missing something, I 
think should it look the same as the unmodified Snippet10, but it doesn't.  
I've only tested on Linux/Gtk.
Created attachment 24263
Modified Snippet10
Created attachment 24271
Screenshot

Here is what it looks like for me.  Is this what it looks like for you?

The problem is that the image is 640 x 480 and so it is larger than the label. 
The label is trying to center it so you're seeing like the middle of the image.
Created attachment 24272
Modified Snippet10

Here is a modified version of the snippet that draws on the label, and shows it
at its full size to explain the above screenshot.
Yes, that matches what I am seeing.  I see from your explanation that this was
my mistake.  I could have just set the label's bounds to the *image*'s bounds
and not the shells, and all would have been fine.

This bug can be closed.</WithOutStack>
  </Bug>
  <Bug>
    <BugId amount="102477" />
    <CreationDate amount="2005-07-01 09:24:00 -0400" />
    <DupId amount="96234" />
    <classification amount="Eclipse" />
    <Product amount="JDT" />
    <component amount="Text" />
    <Version amount="3.1" />
    <rep_platform amount="PC" />
    <op_sys amount="Linux" />
    <priority amount="P3" />
    <bug_severity amount="normal" />
    <Summery>Method parameters tooltip: Bad highlighting with Generics</Summery>
    <Patches amount="0" />
    <Stacktraces amount="0" />
    <SourceCodeRegions amount="1">
      <source_code type="functiondef">
        <location start="30" end="78" />
        <code>void foo(String bar, Map&lt;String, String&gt; baz) {}</code>
      </source_code>
    </SourceCodeRegions>
    <Enumerations amount="0" />
    <bug_status amount="RESOLVED" />
    <resolution amount="DUPLICATE" />
    <WithStack>Assume the following method:

void foo(String bar, Map&lt;String, String&gt; baz) {}


Now, when displaying the method parameters tooltip for that method
(Ctrl+Shift+Space) it would highlight the first parameter correctly, but would
highlight only "Map&lt;String" for the second parameter (see screenshot).

Looks like some parsing bug with comma delimiters.
Created attachment 24264
screenshot showing bug

Upper half shows tooltip highlight for parameter "parameterMap" of method

executeInternal(ActionMapping mapping, Map&lt;String, Object&gt; parameterMap,
HttpServletRequest request, HttpServletResponse response);

Lower half shows highlight for parameter "request".


*** This bug has been marked as a duplicate of 96234 ***</WithStack>
    <WithOutStack>Assume the following method:

void foo(String bar, Map&lt;String, String&gt; baz) {}


Now, when displaying the method parameters tooltip for that method
(Ctrl+Shift+Space) it would highlight the first parameter correctly, but would
highlight only "Map&lt;String" for the second parameter (see screenshot).

Looks like some parsing bug with comma delimiters.
Created attachment 24264
screenshot showing bug

Upper half shows tooltip highlight for parameter "parameterMap" of method

executeInternal(ActionMapping mapping, Map&lt;String, Object&gt; parameterMap,
HttpServletRequest request, HttpServletResponse response);

Lower half shows highlight for parameter "request".


*** This bug has been marked as a duplicate of 96234 ***</WithOutStack>
  </Bug>
  <Bug>
    <BugId amount="102478" />
    <CreationDate amount="2005-07-01 09:27:00 -0400" />
    <DupId amount="" />
    <classification amount="Eclipse" />
    <Product amount="PDE" />
    <component amount="Build" />
    <Version amount="3.1" />
    <rep_platform amount="PC" />
    <op_sys amount="Windows 2000" />
    <priority amount="P3" />
    <bug_severity amount="normal" />
    <Summery>Problems with long names (files - classes, folders-packages) when packaging plugins or features</Summery>
    <Patches amount="0" />
    <Stacktraces amount="0" />
    <SourceCodeRegions amount="0" />
    <Enumerations amount="0" />
    <bug_status amount="RESOLVED" />
    <resolution amount="WONTFIX" />
    <WithStack>Some problems have been found when files, classes, folders or packages has long
names.

When building a plugin with some folders and files with long path and names: 
the generated compressed file for the feature doesn't include some of the files
with larger names.

The problem is not a limit of the compressed file, because it's possible to add
the same files with long names to the compressed file by hand.

The same applies to packages and classes.  If a class includes a inner class,
both with long names, the compiler doesn't report any problem, but the
compressed file doesn't includes the classes as expected.
The problem comes from a file system limitation that can't be worked around.
*** Bug 117685 has been marked as a duplicate of this bug. ***</WithStack>
    <WithOutStack>Some problems have been found when files, classes, folders or packages has long
names.

When building a plugin with some folders and files with long path and names: 
the generated compressed file for the feature doesn't include some of the files
with larger names.

The problem is not a limit of the compressed file, because it's possible to add
the same files with long names to the compressed file by hand.

The same applies to packages and classes.  If a class includes a inner class,
both with long names, the compiler doesn't report any problem, but the
compressed file doesn't includes the classes as expected.
The problem comes from a file system limitation that can't be worked around.
*** Bug 117685 has been marked as a duplicate of this bug. ***</WithOutStack>
  </Bug>
  <Bug>
    <BugId amount="102479" />
    <CreationDate amount="2005-07-01 09:30:00 -0400" />
    <DupId amount="" />
    <classification amount="Tools" />
    <Product amount="AspectJ" />
    <component amount="Compiler" />
    <Version amount="unspecified" />
    <rep_platform amount="PC" />
    <op_sys amount="Windows XP" />
    <priority amount="P3" />
    <bug_severity amount="normal" />
    <Summery>unable to specify a custom IMessageHolder class with ajc</Summery>
    <Patches amount="0" />
    <Stacktraces amount="0" />
    <SourceCodeRegions amount="13">
      <source_code type="import">
        <location start="3486" end="3509" />
        <code>import java.util.List;</code>
      </source_code>
      <source_code type="import">
        <location start="3510" end="3552" />
        <code>import org.aspectj.bridge.AbortException;</code>
      </source_code>
      <source_code type="import">
        <location start="3553" end="3588" />
        <code>import org.aspectj.bridge.IMessage;</code>
      </source_code>
      <source_code type="import">
        <location start="3589" end="3630" />
        <code>import org.aspectj.bridge.IMessageHolder;</code>
      </source_code>
      <source_code type="import">
        <location start="3631" end="3671" />
        <code>import org.aspectj.bridge.IMessage.Kind;</code>
      </source_code>
      <source_code type="import">
        <location start="3672" end="3706" />
        <code>import org.aspectj.tools.ajc.Main;</code>
      </source_code>
      <source_code type="class">
        <location start="3708" end="3860" />
        <code>public class RunCompiler { 
  public static void main(String[] args) {
    Main compiler = new Main();
    compiler.run(args,new MyLocalHolder());
  }
}</code>
      </source_code>
      <source_code type="class">
        <location start="3862" end="4487" />
        <code>class MyLocalHolder implements IMessageHolder {

	public boolean hasAnyMessage(Kind kind, boolean orGreater) {return false;}
	public int numMessages(Kind kind, boolean orGreater) {return 0;}
	public IMessage[] getMessages(Kind kind, boolean orGreater) {return null;}
	public List getUnmodifiableListView() {	return null;}
	public void clearMessages() throws UnsupportedOperationException {}
	public boolean isIgnoring(Kind kind) {	return false;}
	public void dontIgnore(Kind kind) {}

	public boolean handleMessage(IMessage message) throws AbortException {
		System.err.println("Intercepted: "+message);
		return false;
	}

}</code>
      </source_code>
      <source_code type="import">
        <location start="5812" end="5841" />
        <code>import org.aspectj.bridge.*;</code>
      </source_code>
      <source_code type="import">
        <location start="5842" end="5876" />
        <code>import org.aspectj.tools.ajc.Main;</code>
      </source_code>
      <source_code type="import">
        <location start="5877" end="5901" />
        <code>import java.util.Arrays;</code>
      </source_code>
      <source_code type="class">
        <location start="5903" end="5925" />
        <code>public class WrapAjc {</code>
      </source_code>
      <source_code type="functiondef">
        <location start="5926" end="6181" />
        <code>public static void main(String[] args) {
    Main compiler = new Main();
    MessageHandler m = new MessageHandler();
    compiler.run(args, m);
    IMessage[] ms = m.getMessages(null, true);
    System.out.println("messages: " + Arrays.asList(ms));
  }</code>
      </source_code>
    </SourceCodeRegions>
    <Enumerations amount="0" />
    <bug_status amount="RESOLVED" />
    <resolution amount="FIXED" />
    <WithStack>You can currently provide your own implementation of IMessageHolder and use it
via iajc (using messageHolderClass="myMessageHolderClass" and
showWeaveInfo="true"), however, you can't do a similar thing when using ajc.
try and look at this for 1.5.0 ...
Extended Ajde to allow specification of a custom IMessageHandler (which would also allow passing an 
IMessageHolder since that is a sub-interface). 

AJDT would call Ajde.init(....) as normal.

Then optionally can call Ajde.getDefault().setMessageHandler(IMessageHandler aHandler). If this call is 
made all messages will be routed to the user-supplied handler bypassing the default handler (which 
pushes messages out to the TaskListManager).

A subsequent call to setMessageHandler(null) will remove any custom handler and restore default 
processing.
Reopening this bug to cover the remaining issues.....

There is currently the "-XmessageHandlerClass" option which is used for LTW and
requires a class which implements IMessageHandler.

On the other hand, with iajc there is the messageHolderClass option which
requires a class which implements IMessageHolder.

IMessageHolder extends IMessageHandler.

The remaining issues are based around how best to surface this in ajdt and the
corresponding implementation that is required for this. Do we use the ltw -X
option and loose the consistency between what users can do with ant and the
compiler in AJDT, or do we provide another option which keeps the consistency
with ant but is different to the ltw option? Also, should it be a -X option?
Hmmm.  I think I need to clear up what exactly we want here - from Helens last
note on the bug, I might have been getting a couple of cases mixed up....  

I thought Helen wanted the extension to 'ajc' so that she could collect messages
and sift through them for the purposes of analysing coverage.  If so, we should
properly support -XmessageHandlerClass that LTW uses.  As with all -X options,
if it proves useful we'll migrate it to be a standard option.  Any old user can
exploit this with:

ajc -XmessageHandlerClass:Someclass A.java X.aj


If, however, we just want to enable users of *AJDT* to specify their own message
handler class then what Adrian has done should be sufficient and AJDT just needs
the ability for a user to set and remember a class name which can then be set
via the usual interface with AJDE.

The difference between a holder and a handler is that a holder is expected to
maintain the set of messages for querying sometime later - a handler is free to
process each one and then move on.  We wouldnt want the LTW to have a holder
(think of the memory use over time...) - we might do for the ANT support as some
operation after the compiler has run could process the output - probably don't
want a holder for inside AJDT either..I think.
I looked at what it takes to add this option.  There is already a bunch of
infrastructure for intercepting messages and it seems a shame to make it even
more complicated for this option.  Given that ajc is supposedly comparable with
javac, I don't see a similar option in javac.  And it does seem a little odd to
me that I could write a class to pass to the command line compiler.

Anyway, the easiest way to run the compiler and intercept the messages is like
this - and maybe the problem all along is that the ease with which this can be
done has not been documented and thats what we should do.  In order to continue
after the compiler finishes, may need to pass -noExit.

import java.util.List;

import org.aspectj.bridge.AbortException;
import org.aspectj.bridge.IMessage;
import org.aspectj.bridge.IMessageHolder;
import org.aspectj.bridge.IMessage.Kind;
import org.aspectj.tools.ajc.Main;

public class RunCompiler { 
  public static void main(String[] args) {
    Main compiler = new Main();
    compiler.run(args,new MyLocalHolder());
  }
}

class MyLocalHolder implements IMessageHolder {

	public boolean hasAnyMessage(Kind kind, boolean orGreater) {return false;}
	public int numMessages(Kind kind, boolean orGreater) {return 0;}
	public IMessage[] getMessages(Kind kind, boolean orGreater) {return null;}
	public List getUnmodifiableListView() {	return null;}
	public void clearMessages() throws UnsupportedOperationException {}
	public boolean isIgnoring(Kind kind) {	return false;}
	public void dontIgnore(Kind kind) {}

	public boolean handleMessage(IMessage message) throws AbortException {
		System.err.println("Intercepted: "+message);
		return false;
	}

}

java RunCompiler A.java B.aj -noExit -showWeaveInfo

The handleMessage() gets full control to do whatever it wants.

I think this would give Helen ample ability to process the IMessage objects to
confirm code coverage.
Hi Wes - just wondered if I could get a 2nd opinion.  What do you think about us
doc'ing my final comment here?  For users who want to process compiler output.
Sounds good -- I can add to end of devguideDB/ajc.xml.  I'd use (poorly-named)
MessageHandler rather than MyLocalHolder.  The compiler plumbing might downcast
from IMessageHandler to IMessageHolder (for incremental mode to check whether to
bail?), so without further review I'd agree ..Holder is the safe way.
thanks Wes - I also thought you'd know where it would live in the docs.  If you
could put it in for me, that would be great!  Another bug down...
This was already documented in the devguide ajc section:  "To access compiler
messages programmatically, use the methods setHolder(IMessageHolder holder)
and/or run(String[] args, IMessageHolder holder)."

I added to ajc.xml:1.14
----------
ajc reports each message to the holder using IMessageHolder.handleMessage(..).
If you just want to collect the messages, use MessageHandler as your
IMessageHolder. For example, compile and run the following with aspectjtools.jar
on the classpath:

import org.aspectj.bridge.*;
import org.aspectj.tools.ajc.Main;
import java.util.Arrays;

public class WrapAjc {
  public static void main(String[] args) {
    Main compiler = new Main();
    MessageHandler m = new MessageHandler();
    compiler.run(args, m);
    IMessage[] ms = m.getMessages(null, true);
    System.out.println("messages: " + Arrays.asList(ms));
  }
----------

Ok to close?
thanks Wes!</WithStack>
    <WithOutStack>You can currently provide your own implementation of IMessageHolder and use it
via iajc (using messageHolderClass="myMessageHolderClass" and
showWeaveInfo="true"), however, you can't do a similar thing when using ajc.
try and look at this for 1.5.0 ...
Extended Ajde to allow specification of a custom IMessageHandler (which would also allow passing an 
IMessageHolder since that is a sub-interface). 

AJDT would call Ajde.init(....) as normal.

Then optionally can call Ajde.getDefault().setMessageHandler(IMessageHandler aHandler). If this call is 
made all messages will be routed to the user-supplied handler bypassing the default handler (which 
pushes messages out to the TaskListManager).

A subsequent call to setMessageHandler(null) will remove any custom handler and restore default 
processing.
Reopening this bug to cover the remaining issues.....

There is currently the "-XmessageHandlerClass" option which is used for LTW and
requires a class which implements IMessageHandler.

On the other hand, with iajc there is the messageHolderClass option which
requires a class which implements IMessageHolder.

IMessageHolder extends IMessageHandler.

The remaining issues are based around how best to surface this in ajdt and the
corresponding implementation that is required for this. Do we use the ltw -X
option and loose the consistency between what users can do with ant and the
compiler in AJDT, or do we provide another option which keeps the consistency
with ant but is different to the ltw option? Also, should it be a -X option?
Hmmm.  I think I need to clear up what exactly we want here - from Helens last
note on the bug, I might have been getting a couple of cases mixed up....  

I thought Helen wanted the extension to 'ajc' so that she could collect messages
and sift through them for the purposes of analysing coverage.  If so, we should
properly support -XmessageHandlerClass that LTW uses.  As with all -X options,
if it proves useful we'll migrate it to be a standard option.  Any old user can
exploit this with:

ajc -XmessageHandlerClass:Someclass A.java X.aj


If, however, we just want to enable users of *AJDT* to specify their own message
handler class then what Adrian has done should be sufficient and AJDT just needs
the ability for a user to set and remember a class name which can then be set
via the usual interface with AJDE.

The difference between a holder and a handler is that a holder is expected to
maintain the set of messages for querying sometime later - a handler is free to
process each one and then move on.  We wouldnt want the LTW to have a holder
(think of the memory use over time...) - we might do for the ANT support as some
operation after the compiler has run could process the output - probably don't
want a holder for inside AJDT either..I think.
I looked at what it takes to add this option.  There is already a bunch of
infrastructure for intercepting messages and it seems a shame to make it even
more complicated for this option.  Given that ajc is supposedly comparable with
javac, I don't see a similar option in javac.  And it does seem a little odd to
me that I could write a class to pass to the command line compiler.

Anyway, the easiest way to run the compiler and intercept the messages is like
this - and maybe the problem all along is that the ease with which this can be
done has not been documented and thats what we should do.  In order to continue
after the compiler finishes, may need to pass -noExit.

import java.util.List;

import org.aspectj.bridge.AbortException;
import org.aspectj.bridge.IMessage;
import org.aspectj.bridge.IMessageHolder;
import org.aspectj.bridge.IMessage.Kind;
import org.aspectj.tools.ajc.Main;

public class RunCompiler { 
  public static void main(String[] args) {
    Main compiler = new Main();
    compiler.run(args,new MyLocalHolder());
  }
}

class MyLocalHolder implements IMessageHolder {

	public boolean hasAnyMessage(Kind kind, boolean orGreater) {return false;}
	public int numMessages(Kind kind, boolean orGreater) {return 0;}
	public IMessage[] getMessages(Kind kind, boolean orGreater) {return null;}
	public List getUnmodifiableListView() {	return null;}
	public void clearMessages() throws UnsupportedOperationException {}
	public boolean isIgnoring(Kind kind) {	return false;}
	public void dontIgnore(Kind kind) {}

	public boolean handleMessage(IMessage message) throws AbortException {
		System.err.println("Intercepted: "+message);
		return false;
	}

}

java RunCompiler A.java B.aj -noExit -showWeaveInfo

The handleMessage() gets full control to do whatever it wants.

I think this would give Helen ample ability to process the IMessage objects to
confirm code coverage.
Hi Wes - just wondered if I could get a 2nd opinion.  What do you think about us
doc'ing my final comment here?  For users who want to process compiler output.
Sounds good -- I can add to end of devguideDB/ajc.xml.  I'd use (poorly-named)
MessageHandler rather than MyLocalHolder.  The compiler plumbing might downcast
from IMessageHandler to IMessageHolder (for incremental mode to check whether to
bail?), so without further review I'd agree ..Holder is the safe way.
thanks Wes - I also thought you'd know where it would live in the docs.  If you
could put it in for me, that would be great!  Another bug down...
This was already documented in the devguide ajc section:  "To access compiler
messages programmatically, use the methods setHolder(IMessageHolder holder)
and/or run(String[] args, IMessageHolder holder)."

I added to ajc.xml:1.14
----------
ajc reports each message to the holder using IMessageHolder.handleMessage(..).
If you just want to collect the messages, use MessageHandler as your
IMessageHolder. For example, compile and run the following with aspectjtools.jar
on the classpath:

import org.aspectj.bridge.*;
import org.aspectj.tools.ajc.Main;
import java.util.Arrays;

public class WrapAjc {
  public static void main(String[] args) {
    Main compiler = new Main();
    MessageHandler m = new MessageHandler();
    compiler.run(args, m);
    IMessage[] ms = m.getMessages(null, true);
    System.out.println("messages: " + Arrays.asList(ms));
  }
----------

Ok to close?
thanks Wes!</WithOutStack>
  </Bug>
  <Bug>
    <BugId amount="102480" />
    <CreationDate amount="2005-07-01 09:39:00 -0400" />
    <DupId amount="" />
    <classification amount="Eclipse" />
    <Product amount="JDT" />
    <component amount="Core" />
    <Version amount="3.1" />
    <rep_platform amount="PC" />
    <op_sys amount="Linux" />
    <priority amount="P3" />
    <bug_severity amount="normal" />
    <Summery>Unable to assign external javadoc to project libraries</Summery>
    <Patches amount="0" />
    <Stacktraces amount="0" />
    <SourceCodeRegions amount="0" />
    <Enumerations amount="0" />
    <bug_status amount="RESOLVED" />
    <resolution amount="WORKSFORME" />
    <WithStack>Trying to specify external javadoc via HTTP protocol fails validation.

Using direct connection no packets to remote port 80 leave the host interface.
But enabling proxy it's visible through captured packets that original URL
(http://host/package/doc/api) is broken:

one forward slash is missing, i.e. http:/host/package/doc/api/

Eclipse SDK
Version: 3.1.0
Build id: Gentoo Linux eclipse-sdk-3.1
I didn't get any troubles specifying project Javadoc location with an URL.
I tried with http://java.sun.com/j2se/1.4.2/docs/api and validation succeeded both on Windows and Linux boxes using 3.1.0 version.

Please reopen with more detailed steps to help us to reproduce if you still have this issue, thanks</WithStack>
    <WithOutStack>Trying to specify external javadoc via HTTP protocol fails validation.

Using direct connection no packets to remote port 80 leave the host interface.
But enabling proxy it's visible through captured packets that original URL
(http://host/package/doc/api) is broken:

one forward slash is missing, i.e. http:/host/package/doc/api/

Eclipse SDK
Version: 3.1.0
Build id: Gentoo Linux eclipse-sdk-3.1
I didn't get any troubles specifying project Javadoc location with an URL.
I tried with http://java.sun.com/j2se/1.4.2/docs/api and validation succeeded both on Windows and Linux boxes using 3.1.0 version.

Please reopen with more detailed steps to help us to reproduce if you still have this issue, thanks</WithOutStack>
  </Bug>
  <Bug>
    <BugId amount="102481" />
    <CreationDate amount="2005-07-01 09:57:00 -0400" />
    <DupId amount="" />
    <classification amount="Eclipse" />
    <Product amount="Platform" />
    <component amount="SWT" />
    <Version amount="3.1" />
    <rep_platform amount="PC" />
    <op_sys amount="Linux-GTK" />
    <priority amount="P3" />
    <bug_severity amount="normal" />
    <Summery>Pattern doesn't make a gradient</Summery>
    <Patches amount="0" />
    <Stacktraces amount="0" />
    <SourceCodeRegions amount="0" />
    <Enumerations amount="0" />
    <bug_status amount="VERIFIED" />
    <resolution amount="FIXED" />
    <WithStack>I've tried the new Pattern thing on Linux/Gtk and it doesn't seem to work.  
Rather than make a gradient, it just makes one half one color and the other 
half the other color.  Testcase attached.
Created attachment 24265
SWT program to demonstrate the bug
What version of cairo do you have installed?  The test case works fine for me (I
see a gradient).
Cairo version 0.1.23
For Eclipse 3.1, SWT requires cairo 0.4.0 (and not 0.5.0, as they've changed the
API since), maybe this is the problem?  In eclipse 3.1, we shipped a precompiled
version of cairo 0.4.0: it's in the standalone swt .zip file, and it should be
at the root of your eclipse install.  Can you put the directory with
libcairo.so.1 in your LD_LIBRARY_PATH and see if that helps?
Created attachment 24278
Another SWT program to demonstrate bugs

Well using Eclipse's libcairo fixed this testcase, but I have attached a new
testcase that still shows a problem.
Is there something Eclipse could do to make sure it links in its own libcairo?  
Even the latest Mandriva release for instance only has cairo 0.3.0, and it's 
not even that old. 
Oh, and I should also mention that the development version of Mandriva has 
cairo 0.5.1 in it currently, so the next Mandriva release will have at least 
that; there will never be a shipped 0.4.0. 
Clearly we can't expect distributions to have cairo 0.4.0, but trying to do
something more complicated is tricky and prone to failure (and will be obsolete
when cairo goes 1.0 in the next few months).  For eclipse 3.1, we decided to
provide the library, and let the application developer decide if and how they
want to ship it for their app.
I suppose that makes sense then.  Hopefully it'll all be sorted out by Eclipse
3.1.1.
SSQ to see whether the bugs happen in the latest Cairo.  If not, then close.  
We will continue shipping a binary that matches our version until a binary 
compatible Cario is generally available in the various Linux distributions.
SSQ?  I tried it with the Cairo lib shipped with Eclipse 3.1 and it didn't work.

Are you asking me to try something now?  If you want me to test something, just
let me know.
I think steve just missed comment #5 which seems like a potential bug.

SSQ is the guy who now owns this bug.
Yes, this bug still happens with the latest cairo. It seems to be a bug in cairo
that affects filling and stroking gradients with cairo_arc_negative(). I have
worked around the problem. Note that the code in HEAD now uses cairo 0.5.1 and
higher. You won't be able to run with cairo 0.4.0 anymore.

Fixed &gt; 20050712.
Verified with Cairo 0.5.1 and SWT CVS as of right now.</WithStack>
    <WithOutStack>I've tried the new Pattern thing on Linux/Gtk and it doesn't seem to work.  
Rather than make a gradient, it just makes one half one color and the other 
half the other color.  Testcase attached.
Created attachment 24265
SWT program to demonstrate the bug
What version of cairo do you have installed?  The test case works fine for me (I
see a gradient).
Cairo version 0.1.23
For Eclipse 3.1, SWT requires cairo 0.4.0 (and not 0.5.0, as they've changed the
API since), maybe this is the problem?  In eclipse 3.1, we shipped a precompiled
version of cairo 0.4.0: it's in the standalone swt .zip file, and it should be
at the root of your eclipse install.  Can you put the directory with
libcairo.so.1 in your LD_LIBRARY_PATH and see if that helps?
Created attachment 24278
Another SWT program to demonstrate bugs

Well using Eclipse's libcairo fixed this testcase, but I have attached a new
testcase that still shows a problem.
Is there something Eclipse could do to make sure it links in its own libcairo?  
Even the latest Mandriva release for instance only has cairo 0.3.0, and it's 
not even that old. 
Oh, and I should also mention that the development version of Mandriva has 
cairo 0.5.1 in it currently, so the next Mandriva release will have at least 
that; there will never be a shipped 0.4.0. 
Clearly we can't expect distributions to have cairo 0.4.0, but trying to do
something more complicated is tricky and prone to failure (and will be obsolete
when cairo goes 1.0 in the next few months).  For eclipse 3.1, we decided to
provide the library, and let the application developer decide if and how they
want to ship it for their app.
I suppose that makes sense then.  Hopefully it'll all be sorted out by Eclipse
3.1.1.
SSQ to see whether the bugs happen in the latest Cairo.  If not, then close.  
We will continue shipping a binary that matches our version until a binary 
compatible Cario is generally available in the various Linux distributions.
SSQ?  I tried it with the Cairo lib shipped with Eclipse 3.1 and it didn't work.

Are you asking me to try something now?  If you want me to test something, just
let me know.
I think steve just missed comment #5 which seems like a potential bug.

SSQ is the guy who now owns this bug.
Yes, this bug still happens with the latest cairo. It seems to be a bug in cairo
that affects filling and stroking gradients with cairo_arc_negative(). I have
worked around the problem. Note that the code in HEAD now uses cairo 0.5.1 and
higher. You won't be able to run with cairo 0.4.0 anymore.

Fixed &gt; 20050712.
Verified with Cairo 0.5.1 and SWT CVS as of right now.</WithOutStack>
  </Bug>
  <Bug>
    <BugId amount="102482" />
    <CreationDate amount="2005-07-01 10:26:00 -0400" />
    <DupId amount="" />
    <classification amount="Tools" />
    <Product amount="AspectJ" />
    <component amount="Docs" />
    <Version amount="unspecified" />
    <rep_platform amount="PC" />
    <op_sys amount="Windows XP" />
    <priority amount="P3" />
    <bug_severity amount="normal" />
    <Summery>AJ5 Developer notebook doesn't wrap properly in Internet Explorer</Summery>
    <Patches amount="0" />
    <Stacktraces amount="0" />
    <SourceCodeRegions amount="0" />
    <Enumerations amount="0" />
    <bug_status amount="RESOLVED" />
    <resolution amount="FIXED" />
    <WithStack>If you open up the AspectJ 5 Development Kit Deveopers Notebook
(http://www.eclipse.org/aspectj/doc/next/adk15notebook/index.html) in Internet
Explorer and then shrink the window (width wise), the title "The AspectJ 5
Development Kit Deveopers Notebook" doesn't wrap properly. Instead of splitting
onto two lines (as it does in Firefox) it puts the words on top of each other.

This bug becomes apparent when the docs are packaged up for use in AJDT as the
browser size isn't as big.
verified.  There might be an easy fix for this by doing something with
aspectj-docs.css:  maybe

h1.title {
  line-height: 1em;
}

which should cascade from the existing h1 spec and hopefully base its em
measurement on the font size for h1.  Note: this is completely untested.
fixed - a few minutes light relief from generics :)</WithStack>
    <WithOutStack>If you open up the AspectJ 5 Development Kit Deveopers Notebook
(http://www.eclipse.org/aspectj/doc/next/adk15notebook/index.html) in Internet
Explorer and then shrink the window (width wise), the title "The AspectJ 5
Development Kit Deveopers Notebook" doesn't wrap properly. Instead of splitting
onto two lines (as it does in Firefox) it puts the words on top of each other.

This bug becomes apparent when the docs are packaged up for use in AJDT as the
browser size isn't as big.
verified.  There might be an easy fix for this by doing something with
aspectj-docs.css:  maybe

h1.title {
  line-height: 1em;
}

which should cascade from the existing h1 spec and hopefully base its em
measurement on the font size for h1.  Note: this is completely untested.
fixed - a few minutes light relief from generics :)</WithOutStack>
  </Bug>
  <Bug>
    <BugId amount="102483" />
    <CreationDate amount="2005-07-01 10:33:00 -0400" />
    <DupId amount="101863" />
    <classification amount="Eclipse" />
    <Product amount="JDT" />
    <component amount="UI" />
    <Version amount="3.1" />
    <rep_platform amount="PC" />
    <op_sys amount="Linux" />
    <priority amount="P3" />
    <bug_severity amount="normal" />
    <Summery>"Move Member Type to New File" refactoring fails with enums</Summery>
    <Patches amount="0" />
    <Stacktraces amount="0" />
    <SourceCodeRegions amount="1">
      <source_code type="class">
        <location start="0" end="54" />
        <code>public class Test {
  public static enum Foo { BAR }
}</code>
      </source_code>
    </SourceCodeRegions>
    <Enumerations amount="0" />
    <bug_status amount="RESOLVED" />
    <resolution amount="DUPLICATE" />
    <WithStack>public class Test {
  public static enum Foo { BAR }
}


Trying to move the Foo enum into a new file fails with an internal error and an
exception in &lt;workspace&gt;/.metadata/.log (see attachment).
Created attachment 24266
exception stacktrace in &lt;workspace&gt;/.metadata/.log
Refactoring works well when project compliance is correctly set to 1.5.
This exception only occurs when project compliance is set to 1.4 and class has
many compiler errors...
Move to JDT/UI for comment
Actually, my project _is_ set to 5.0 and the class compiles perfectly.


*** This bug has been marked as a duplicate of 101863 ***</WithStack>
    <WithOutStack>public class Test {
  public static enum Foo { BAR }
}


Trying to move the Foo enum into a new file fails with an internal error and an
exception in &lt;workspace&gt;/.metadata/.log (see attachment).
Created attachment 24266
exception stacktrace in &lt;workspace&gt;/.metadata/.log
Refactoring works well when project compliance is correctly set to 1.5.
This exception only occurs when project compliance is set to 1.4 and class has
many compiler errors...
Move to JDT/UI for comment
Actually, my project _is_ set to 5.0 and the class compiles perfectly.


*** This bug has been marked as a duplicate of 101863 ***</WithOutStack>
  </Bug>
  <Bug>
    <BugId amount="102484" />
    <CreationDate amount="2005-07-01 10:36:00 -0400" />
    <DupId amount="" />
    <classification amount="Eclipse" />
    <Product amount="JDT" />
    <component amount="Debug" />
    <Version amount="3.1" />
    <rep_platform amount="PC" />
    <op_sys amount="Windows 2000" />
    <priority amount="P3" />
    <bug_severity amount="normal" />
    <Summery>Drop to frame disabled</Summery>
    <Patches amount="0" />
    <Stacktraces amount="0" />
    <SourceCodeRegions amount="0" />
    <Enumerations amount="0" />
    <bug_status amount="RESOLVED" />
    <resolution amount="WORKSFORME" />
    <WithStack>"Drop to frame" is presented in the context menu but always disabled by 
debugging in Eclipse with WebSphere AppServer. The version of the VM is 1.4.2.
This bug report is unclead. The title of the bug report claims the action is 
enabled, and the text claims it is disabled? Either way - what is the issue? 
I.e. is the action disabled when it should be enabled or visa versa? Or do you 
think the action should not be present when disabled?
Sorry, typo -&gt; "This bug report is unclear" :-)
Sorry, was my error. 
The action "drop to frame" in the context menu is always disabled when it 
should be enabled. I would like to use the function.

I don´t mean that the action should not be present when disabled.

What can i do?
The action only enables when the program you are debugging supports the 
operation. For example, the Java debugger supports the operation when 
debugging on a VM that supports it (1.4.x or higher), and there are no native 
methods on the call stack above the point you want to drop to.</WithStack>
    <WithOutStack>"Drop to frame" is presented in the context menu but always disabled by 
debugging in Eclipse with WebSphere AppServer. The version of the VM is 1.4.2.
This bug report is unclead. The title of the bug report claims the action is 
enabled, and the text claims it is disabled? Either way - what is the issue? 
I.e. is the action disabled when it should be enabled or visa versa? Or do you 
think the action should not be present when disabled?
Sorry, typo -&gt; "This bug report is unclear" :-)
Sorry, was my error. 
The action "drop to frame" in the context menu is always disabled when it 
should be enabled. I would like to use the function.

I don´t mean that the action should not be present when disabled.

What can i do?
The action only enables when the program you are debugging supports the 
operation. For example, the Java debugger supports the operation when 
debugging on a VM that supports it (1.4.x or higher), and there are no native 
methods on the call stack above the point you want to drop to.</WithOutStack>
  </Bug>
  <Bug>
    <BugId amount="102485" />
    <CreationDate amount="2005-07-01 10:54:00 -0400" />
    <DupId amount="" />
    <classification amount="Eclipse" />
    <Product amount="Platform" />
    <component amount="UI" />
    <Version amount="3.1" />
    <rep_platform amount="PC" />
    <op_sys amount="Windows XP" />
    <priority amount="P3" />
    <bug_severity amount="normal" />
    <Summery>[Import/Export] Export to filesystem loses current selection in Package Explorer</Summery>
    <Patches amount="0" />
    <Stacktraces amount="0" />
    <SourceCodeRegions amount="0" />
    <Enumerations amount="0" />
    <bug_status amount="VERIFIED" />
    <resolution amount="FIXED" />
    <WithStack>In the Package Explorer (in "Show Working Sets" mode), I have several projects
selected, with one of them being expanded in the Package Explorer tree. Now when
my selection includes the "JRE System Library" entry in that project, and when I
then chose "Export"-"To Filesystem", the wizard coming up has nothing selected
for export, i.e. it loses completely the current selection in the Package
Explorer View.
Created attachment 24267
Selection in Package Explorer that  causes the problem
The happens for elements which aren't convertable to resources. The export
wizard should be more graceful here when the parent is selected as well.
Created attachment 26459
apply patch to WorkbenchWizardElement.java

This fix ignores any non-resource selections, instead of returning empty
selection if a non-resource is selected amongst the resources.
Kim, can you check this patch?  Thanks.
Fix in HEAD.
verified in 0920</WithStack>
    <WithOutStack>In the Package Explorer (in "Show Working Sets" mode), I have several projects
selected, with one of them being expanded in the Package Explorer tree. Now when
my selection includes the "JRE System Library" entry in that project, and when I
then chose "Export"-"To Filesystem", the wizard coming up has nothing selected
for export, i.e. it loses completely the current selection in the Package
Explorer View.
Created attachment 24267
Selection in Package Explorer that  causes the problem
The happens for elements which aren't convertable to resources. The export
wizard should be more graceful here when the parent is selected as well.
Created attachment 26459
apply patch to WorkbenchWizardElement.java

This fix ignores any non-resource selections, instead of returning empty
selection if a non-resource is selected amongst the resources.
Kim, can you check this patch?  Thanks.
Fix in HEAD.
verified in 0920</WithOutStack>
  </Bug>
  <Bug>
    <BugId amount="102486" />
    <CreationDate amount="2005-07-01 10:55:00 -0400" />
    <DupId amount="" />
    <classification amount="Eclipse" />
    <Product amount="JDT" />
    <component amount="Core" />
    <Version amount="3.0.1" />
    <rep_platform amount="PC" />
    <op_sys amount="Windows 2000" />
    <priority amount="P3" />
    <bug_severity amount="major" />
    <Summery>Generated .class files compatibility is set to 1.2, even though the documentation says it is 1.1</Summery>
    <Patches amount="0" />
    <Stacktraces amount="0" />
    <SourceCodeRegions amount="0" />
    <Enumerations amount="0" />
    <bug_status amount="RESOLVED" />
    <resolution amount="WONTFIX" />
    <WithStack>In compiler options, Generated .class files compatibility is set to 1.2, even 
though the documentation says it is 1.1. The applets thus compiled for 1.2 
would throw a "Class Not Found" exception in Microsoft VM which is based on 1.1
This caused me lots of pain yesterday..... I was trying to get my applet to 
work in MS VM in IE and wasted lots of time until I discovered the compliance 
was wrong.  I have V3.0.2 not 3.0.1.
Created attachment 24268
Compliance level dialog,,,,, 

Not when "Use default compliance settings" is checked it reverts the .class
compatibility to 1.2
What is exactly the problem ? 

You may select the target level to meet your needs. By default, JDK1.4 is
targeting 1.2 runtimes in source 1.3 mode.

What are you looking for ?
i.e. what documentation are you referring to ?
Created attachment 24387
eclipse 3.0.2 help dialog

This is the help dialog from V3.0.2.... note that it says 1.1 is the class
compliance by default but it is really 1.2
I believe this documentation refers to the batch compiler, and not to the
default settings of the IDE. 
Olivier - can you pls double check ?
This has been fixed in the 3.1 help.
Indeed default is 1.2. So if you want 1.1, you need to set it explicitely and in
this case you should use 1.1 libraries on your classpath to prevent the code
from calling 1.2 or above specific methods.
Once you have the proper settings, the compiler behaves as expected.
Closing as INVALID.
Reopen.
This would need to be fixed in 3.0.3 if there is any.
Closing as LATER. Will be reopen if we ship a 3.0.3.
As of now 'LATER' and 'REMIND' resolutions are no longer supported.
Please reopen this bug if it is still valid for you.</WithStack>
    <WithOutStack>In compiler options, Generated .class files compatibility is set to 1.2, even 
though the documentation says it is 1.1. The applets thus compiled for 1.2 
would throw a "Class Not Found" exception in Microsoft VM which is based on 1.1
This caused me lots of pain yesterday..... I was trying to get my applet to 
work in MS VM in IE and wasted lots of time until I discovered the compliance 
was wrong.  I have V3.0.2 not 3.0.1.
Created attachment 24268
Compliance level dialog,,,,, 

Not when "Use default compliance settings" is checked it reverts the .class
compatibility to 1.2
What is exactly the problem ? 

You may select the target level to meet your needs. By default, JDK1.4 is
targeting 1.2 runtimes in source 1.3 mode.

What are you looking for ?
i.e. what documentation are you referring to ?
Created attachment 24387
eclipse 3.0.2 help dialog

This is the help dialog from V3.0.2.... note that it says 1.1 is the class
compliance by default but it is really 1.2
I believe this documentation refers to the batch compiler, and not to the
default settings of the IDE. 
Olivier - can you pls double check ?
This has been fixed in the 3.1 help.
Indeed default is 1.2. So if you want 1.1, you need to set it explicitely and in
this case you should use 1.1 libraries on your classpath to prevent the code
from calling 1.2 or above specific methods.
Once you have the proper settings, the compiler behaves as expected.
Closing as INVALID.
Reopen.
This would need to be fixed in 3.0.3 if there is any.
Closing as LATER. Will be reopen if we ship a 3.0.3.
As of now 'LATER' and 'REMIND' resolutions are no longer supported.
Please reopen this bug if it is still valid for you.</WithOutStack>
  </Bug>
  <Bug>
    <BugId amount="102487" />
    <CreationDate amount="2005-07-01 10:57:00 -0400" />
    <DupId amount="" />
    <classification amount="WebTools" />
    <Product amount="WTP Java EE Tools" />
    <component amount="jst.j2ee" />
    <Version amount="0.7" />
    <rep_platform amount="PC" />
    <op_sys amount="Windows XP" />
    <priority amount="P4" />
    <bug_severity amount="major" />
    <Summery>Flexible Java Project Preference Considered Harmful</Summery>
    <Patches amount="0" />
    <Stacktraces amount="0" />
    <SourceCodeRegions amount="0" />
    <Enumerations amount="0" />
    <bug_status amount="CLOSED" />
    <resolution amount="FIXED" />
    <WithStack>I strongly recommend that we remove this preference since it is causing 
confusion and poor usability. For example, I created a project before this 
preference was available, or at least before the default was to not allow 
multiple modules per project. I then worked on the project a week later and 
tried to create a Web service, at which time the Web service wizard failed. It 
insisted that my project was not a Web project even though it was a perfectlt 
valid J2EE project with a single Web module. I had no idea what was going 
wrong. I was informed by Peter Moogk that the Web service wizard was now 
looking at this preference and refused to work on projects that didn't follow 
the precise naming rules of the single module projects. I do not want to see 
this kind of bimodal logic propagate throughout the project. Our tools must 
work on any valid projects irrespective of the way they were created. We need 
to come up with a better story asap.
Naci, I am cc'ing you on this because you were one of the advocates of the 
multiple module per project requirement. The current situation has serious 
usability implications since we now have a special mode. It seems that we are 
treating projects that have a single module with the same name as the project 
specially, and our tools (at least the Web service wizard) are behaving in a 
modal way, i.e. they look at the global preference and won't work on the 
general projects if the single module mode is set. Do you agree this is a 
serious usability problem? I feel this will impair tool interoperability. As 
the JST lead, I'd appreciate it if you could take the lead on resolving this 
problem. I think WTP tools should handle any valid project without looking at 
this mode. If some vendors only want to support single module projects, that's 
their decision. Thx.
Arthur,

The intent of this preference is to change the look and feel of the Import and
Creation wizards, by allowing multiple modules per project.

The problems you described below are just bugs, and have nothing to do with the
preference.  The user shouldn't see any difference once the module is created
other than different folder layouts.

Maybe an additional bug can be opened describing the problem below?  (Web wizard
failing)
This is definitely a bug in the web services wizard, it should not make any such
assumptions.   The project name and the module inside a project are two seperate
things and, even if we use single project per module model, the project name
should not have anything to do with module naming/context path etc.

-The fact that they are the same should be treated as a coincidence.

-The only issue there is with multiple modules in a project that is troublesome
is the shared classpath.  This is one of the issues we are raising with the
platform/jdt team.  I presume this issue will be discussed in detail when we
review how the platform will adapt flexible projects.

The preference itseld was proposed by BEA, to make it a bit convoluted to create
muliple modules per project to make sure the developer knew what he was doing if
he enabled it.
I cc'ed Peter and Chris because we need to fix the behaviour of the Web service 
wizard. I also discussed this at the PMC call today and Tim Wagner agreed that 
the preference was just for the creation wizard and was not to be used by other 
tools. We do not want bimodal behavior. After a project or module has been 
created, all of the tools should work with them, irrespective of the setting of 
the preference.
I agree that from a usability point of view that our wizard should work no 
matter how the project is created.  However, our wizard also does project 
creation so we must respect the flexible project preference.  The current 
functionality of the wizard shows a module combo box if the flexible projects 
preference is on and it is invisible when it is off.  This was done to emulate 
the behaviour of the the j2ee project creation wizards did.  Note: if the user 
enters a project and module that doesn't exist we will create it for them.
So our wizard has the dual role of both the selection of a project/module and 
the creation of these projects/modules if necessary.
My recommendation would be that we always display the module text even if the 
flexible project preference is not enabled.  This would allow existing flexible 
projects to work with our wizard.  One of the down sides would be that the user 
would see a module field and perhaps get confused by it since the flexible 
project preference would be turned off.  Of course we would default the module 
field to the same name as the project name.

If we go down this path it opens up a potential problem.  We would be allowing 
the user to create projects and modules irrespective of the flexible project 
preference.  I'm not sure what the behaviour of the j2ee project creation api 
will be if we try to create a project and module with different names when the 
flexible project preference is turned off.  If the api can handle this then no 
extra work is required.  If this scenario is not supported then we will need to 
put in validation logic to prevent the user from doing this.

I think we should be treating this preference as a preference, i.e. this
indicates the prefered way for the user to create projects. However, the user
should be able to override this in any dialog. The preference should be treated
as the initial value which the user can override in any given dialog.

This would suggest we add a check box to the wizards. The initial setting comes
from the preference but the user can change it in the dialog.

To permanently change the value, use the Preference page. To temporarily change
it, use the check box on the creation wizard. This would apply to both the
Project creation and the Web service wizards.
After further discussion with Peter, I think there is very little value in this 
preference and no point in adding checkboxes to dialogs. I think we should 
eliminate this preference.

I think this preference was added because the initial creation dialog was 
awkward. But now its fairly painless, so what's the real value of keeping this 
preference.

Unless someone can prvoide a convincing argument to keep it, I'd like to 
eliminate it ASAP. Please Vote!
BTW, the Web service bug is 102244 which depends on this one.
Reassigning back to Chuck, since this defect is about the flexible project 
preference.
Summarizing my comments on wtp-dev mailing list to indicate that I'm against
simply making this change:

Multiple modules per project as the default is undesireable to the user,
primarily due to the unnecessary added folder-level complexity for the very
common case of a single-module project.

Suggest that the final solution needs to make more clear the difference between
what's a project and what's a module.  Initial suggestion is as follows (copied
directly from wtp-dev e-mail):

------------
When you create a new web app project, it should be a simple
single-module project.  It should have an advanced option to create it
as a module attached to an existing "module-container project" (please
replace with some better name), with the option to create it at the
same time, just as the current wizard allows.

The gist here is that the Project that can contain multiple modules
should be its own seperate wizard, and it's own kind of Project, from
the user point of view.  I think, in the long run, that's a lot more
clear than the current behavior.  Now the module-container is clearly
what it is, rather than being a side-effect of creating the first
module in the project.
-------------

I apologize if this is considered bug-spam; the divergent conversations in the
bug vs. the mailing list leave it unclear where best to register my stance
against the concept.
I agree 100% with this:
----
Multiple modules per project as the default is undesireable to the user,
primarily due to the unnecessary added folder-level complexity for the very
common case of a single-module project.
Adjusting component to j2ee.
We will solve this confusion post 0.7.  We will be sure to put any design
discussion out on mailing list.
"I think this preference was added because the initial creation dialog was 
awkward. But now its fairly painless, so what's the real value of keeping this 
preference."

"Multiple modules per project as the default is undesireable to the user..."


I agree on both of these statement. 

The shared classpath issue is severe, and it limits the usefulness of multiple
modules per project. And, we do not use multiple modules per project.

As long as MMPP is disabled by default, we are happy with it. I will confirm
with other folk in BEA.



*** Bug 103366 has been marked as a duplicate of this bug. ***
I am going to mark this defect fixed, as it originally was opened concerning the
global preference which is now gone  (Each component creation instance can
choose multiple component per project)

The Bigger question of how we handle classpath etc... is still open...
Verfied since the global preference is gone.
Verified / Closing</WithStack>
    <WithOutStack>I strongly recommend that we remove this preference since it is causing 
confusion and poor usability. For example, I created a project before this 
preference was available, or at least before the default was to not allow 
multiple modules per project. I then worked on the project a week later and 
tried to create a Web service, at which time the Web service wizard failed. It 
insisted that my project was not a Web project even though it was a perfectlt 
valid J2EE project with a single Web module. I had no idea what was going 
wrong. I was informed by Peter Moogk that the Web service wizard was now 
looking at this preference and refused to work on projects that didn't follow 
the precise naming rules of the single module projects. I do not want to see 
this kind of bimodal logic propagate throughout the project. Our tools must 
work on any valid projects irrespective of the way they were created. We need 
to come up with a better story asap.
Naci, I am cc'ing you on this because you were one of the advocates of the 
multiple module per project requirement. The current situation has serious 
usability implications since we now have a special mode. It seems that we are 
treating projects that have a single module with the same name as the project 
specially, and our tools (at least the Web service wizard) are behaving in a 
modal way, i.e. they look at the global preference and won't work on the 
general projects if the single module mode is set. Do you agree this is a 
serious usability problem? I feel this will impair tool interoperability. As 
the JST lead, I'd appreciate it if you could take the lead on resolving this 
problem. I think WTP tools should handle any valid project without looking at 
this mode. If some vendors only want to support single module projects, that's 
their decision. Thx.
Arthur,

The intent of this preference is to change the look and feel of the Import and
Creation wizards, by allowing multiple modules per project.

The problems you described below are just bugs, and have nothing to do with the
preference.  The user shouldn't see any difference once the module is created
other than different folder layouts.

Maybe an additional bug can be opened describing the problem below?  (Web wizard
failing)
This is definitely a bug in the web services wizard, it should not make any such
assumptions.   The project name and the module inside a project are two seperate
things and, even if we use single project per module model, the project name
should not have anything to do with module naming/context path etc.

-The fact that they are the same should be treated as a coincidence.

-The only issue there is with multiple modules in a project that is troublesome
is the shared classpath.  This is one of the issues we are raising with the
platform/jdt team.  I presume this issue will be discussed in detail when we
review how the platform will adapt flexible projects.

The preference itseld was proposed by BEA, to make it a bit convoluted to create
muliple modules per project to make sure the developer knew what he was doing if
he enabled it.
I cc'ed Peter and Chris because we need to fix the behaviour of the Web service 
wizard. I also discussed this at the PMC call today and Tim Wagner agreed that 
the preference was just for the creation wizard and was not to be used by other 
tools. We do not want bimodal behavior. After a project or module has been 
created, all of the tools should work with them, irrespective of the setting of 
the preference.
I agree that from a usability point of view that our wizard should work no 
matter how the project is created.  However, our wizard also does project 
creation so we must respect the flexible project preference.  The current 
functionality of the wizard shows a module combo box if the flexible projects 
preference is on and it is invisible when it is off.  This was done to emulate 
the behaviour of the the j2ee project creation wizards did.  Note: if the user 
enters a project and module that doesn't exist we will create it for them.
So our wizard has the dual role of both the selection of a project/module and 
the creation of these projects/modules if necessary.
My recommendation would be that we always display the module text even if the 
flexible project preference is not enabled.  This would allow existing flexible 
projects to work with our wizard.  One of the down sides would be that the user 
would see a module field and perhaps get confused by it since the flexible 
project preference would be turned off.  Of course we would default the module 
field to the same name as the project name.

If we go down this path it opens up a potential problem.  We would be allowing 
the user to create projects and modules irrespective of the flexible project 
preference.  I'm not sure what the behaviour of the j2ee project creation api 
will be if we try to create a project and module with different names when the 
flexible project preference is turned off.  If the api can handle this then no 
extra work is required.  If this scenario is not supported then we will need to 
put in validation logic to prevent the user from doing this.

I think we should be treating this preference as a preference, i.e. this
indicates the prefered way for the user to create projects. However, the user
should be able to override this in any dialog. The preference should be treated
as the initial value which the user can override in any given dialog.

This would suggest we add a check box to the wizards. The initial setting comes
from the preference but the user can change it in the dialog.

To permanently change the value, use the Preference page. To temporarily change
it, use the check box on the creation wizard. This would apply to both the
Project creation and the Web service wizards.
After further discussion with Peter, I think there is very little value in this 
preference and no point in adding checkboxes to dialogs. I think we should 
eliminate this preference.

I think this preference was added because the initial creation dialog was 
awkward. But now its fairly painless, so what's the real value of keeping this 
preference.

Unless someone can prvoide a convincing argument to keep it, I'd like to 
eliminate it ASAP. Please Vote!
BTW, the Web service bug is 102244 which depends on this one.
Reassigning back to Chuck, since this defect is about the flexible project 
preference.
Summarizing my comments on wtp-dev mailing list to indicate that I'm against
simply making this change:

Multiple modules per project as the default is undesireable to the user,
primarily due to the unnecessary added folder-level complexity for the very
common case of a single-module project.

Suggest that the final solution needs to make more clear the difference between
what's a project and what's a module.  Initial suggestion is as follows (copied
directly from wtp-dev e-mail):

------------
When you create a new web app project, it should be a simple
single-module project.  It should have an advanced option to create it
as a module attached to an existing "module-container project" (please
replace with some better name), with the option to create it at the
same time, just as the current wizard allows.

The gist here is that the Project that can contain multiple modules
should be its own seperate wizard, and it's own kind of Project, from
the user point of view.  I think, in the long run, that's a lot more
clear than the current behavior.  Now the module-container is clearly
what it is, rather than being a side-effect of creating the first
module in the project.
-------------

I apologize if this is considered bug-spam; the divergent conversations in the
bug vs. the mailing list leave it unclear where best to register my stance
against the concept.
I agree 100% with this:
----
Multiple modules per project as the default is undesireable to the user,
primarily due to the unnecessary added folder-level complexity for the very
common case of a single-module project.
Adjusting component to j2ee.
We will solve this confusion post 0.7.  We will be sure to put any design
discussion out on mailing list.
"I think this preference was added because the initial creation dialog was 
awkward. But now its fairly painless, so what's the real value of keeping this 
preference."

"Multiple modules per project as the default is undesireable to the user..."


I agree on both of these statement. 

The shared classpath issue is severe, and it limits the usefulness of multiple
modules per project. And, we do not use multiple modules per project.

As long as MMPP is disabled by default, we are happy with it. I will confirm
with other folk in BEA.



*** Bug 103366 has been marked as a duplicate of this bug. ***
I am going to mark this defect fixed, as it originally was opened concerning the
global preference which is now gone  (Each component creation instance can
choose multiple component per project)

The Bigger question of how we handle classpath etc... is still open...
Verfied since the global preference is gone.
Verified / Closing</WithOutStack>
  </Bug>
  <Bug>
    <BugId amount="102488" />
    <CreationDate amount="2005-07-01 11:00:00 -0400" />
    <DupId amount="" />
    <classification amount="WebTools" />
    <Product amount="WTP Java EE Tools" />
    <component amount="jst.j2ee" />
    <Version amount="0.7" />
    <rep_platform amount="PC" />
    <op_sys amount="Windows XP" />
    <priority amount="P2" />
    <bug_severity amount="enhancement" />
    <Summery>Add create/remove EJB Client jars on existing EJB modules</Summery>
    <Patches amount="0" />
    <Stacktraces amount="0" />
    <SourceCodeRegions amount="0" />
    <Enumerations amount="0" />
    <bug_status amount="CLOSED" />
    <resolution amount="FIXED" />
    <WithStack>We need an action off the ejb modules to create ejb client jars on ejb modules
that do not have one. For instance i create an ejb module as part of the default
modules creation during ear creation, where i do not get an ejb client jar and
then later would like to get one. 
We also need a remove ejb client jar action off the ejb module to remove an
existing ejb client jar off the ejb modules
This functionality will be added post 0.7
This does not drastically hinder the user experience in 0.7, deferring to 1.0
*** Bug 102489 has been marked as a duplicate of this bug. ***
We will add this capability as a line item for WTP 1.5
changing target from 1.5 M1 to 1.5 M5 to reflect new numbering system as we join Collisto. 
*** Bug 91392 has been marked as a duplicate of this bug. ***
fixed, should be in next build
Closing as verified</WithStack>
    <WithOutStack>We need an action off the ejb modules to create ejb client jars on ejb modules
that do not have one. For instance i create an ejb module as part of the default
modules creation during ear creation, where i do not get an ejb client jar and
then later would like to get one. 
We also need a remove ejb client jar action off the ejb module to remove an
existing ejb client jar off the ejb modules
This functionality will be added post 0.7
This does not drastically hinder the user experience in 0.7, deferring to 1.0
*** Bug 102489 has been marked as a duplicate of this bug. ***
We will add this capability as a line item for WTP 1.5
changing target from 1.5 M1 to 1.5 M5 to reflect new numbering system as we join Collisto. 
*** Bug 91392 has been marked as a duplicate of this bug. ***
fixed, should be in next build
Closing as verified</WithOutStack>
  </Bug>
  <Bug>
    <BugId amount="102489" />
    <CreationDate amount="2005-07-01 11:00:00 -0400" />
    <DupId amount="102488" />
    <classification amount="WebTools" />
    <Product amount="WTP Java EE Tools" />
    <component amount="jst.j2ee" />
    <Version amount="0.7" />
    <rep_platform amount="PC" />
    <op_sys amount="Windows XP" />
    <priority amount="P3" />
    <bug_severity amount="major" />
    <Summery>Need a way to create EJB Client jars on existing EJB modules</Summery>
    <Patches amount="0" />
    <Stacktraces amount="0" />
    <SourceCodeRegions amount="0" />
    <Enumerations amount="0" />
    <bug_status amount="CLOSED" />
    <resolution amount="DUPLICATE" />
    <WithStack>We need an action off the ejb modules to create ejb client jars on ejb modules
that do not have one. For instance i create an ejb module as part of the default
modules creation during ear creation, where i do not get an ejb client jar and
then later would like to get one. 
We also need a remove ejb client jar action off the ejb module to remove an
existing ejb client jar off the ejb modules
This does not drastically hinder the user experience in 0.7, deferring to 1.0


*** This bug has been marked as a duplicate of 102488 ***
closing as it is a duplicate</WithStack>
    <WithOutStack>We need an action off the ejb modules to create ejb client jars on ejb modules
that do not have one. For instance i create an ejb module as part of the default
modules creation during ear creation, where i do not get an ejb client jar and
then later would like to get one. 
We also need a remove ejb client jar action off the ejb module to remove an
existing ejb client jar off the ejb modules
This does not drastically hinder the user experience in 0.7, deferring to 1.0


*** This bug has been marked as a duplicate of 102488 ***
closing as it is a duplicate</WithOutStack>
  </Bug>
  <Bug>
    <BugId amount="102490" />
    <CreationDate amount="2005-07-01 11:13:00 -0400" />
    <DupId amount="71987" />
    <classification amount="Eclipse" />
    <Product amount="JDT" />
    <component amount="Core" />
    <Version amount="3.1" />
    <rep_platform amount="PC" />
    <op_sys amount="Windows 2000" />
    <priority amount="P2" />
    <bug_severity amount="critical" />
    <Summery>[WorkbenchLauncher] eclipse / JVM crash on startup</Summery>
    <Patches amount="0" />
    <Stacktraces amount="0" />
    <SourceCodeRegions amount="0" />
    <Enumerations amount="0" />
    <bug_status amount="RESOLVED" />
    <resolution amount="DUPLICATE" />
    <WithStack>Since loading 3.1 RC3 I've experienced clusters of crashes at the 
end of launching eclipse.  These crashes occur just as the initial
window is being displayed.  Typically, I keep retrying and keep crashing
until I get lucky.  This makes me suspect the problem is related to
a timing issue in multithreading.  Also, TWICE this crash has also
been coincident with BSOD on win2k - which has always been an extremely
rare event on my system.  This "startup crash" problem occurred a few
times with earlier builds, but seems to be endemic in this one.

Here is a typical crash log
#
# An unexpected error has been detected by HotSpot Virtual Machine:
#
#  EXCEPTION_FLT_STACK_CHECK (0xc0000092) at pc=0x00c7ec58, pid=988, tid=1900
#
# Java VM: Java HotSpot(TM) Client VM (1.5.0_02-b09 mixed mode)
# Problematic frame:
# v  ~RuntimeStub::range_check_failed Runtime1 stub
#

---------------  T H R E A D  ---------------

Current thread (0x00734ba0):  JavaThread "main" [_thread_in_Java, id=1900]

siginfo: ExceptionCode=0xc0000092, ExceptionInformation=0x00000000 0x0006eab0 

Registers:
EAX=0x00000006, EBX=0x02e1be98, ECX=0x04538148, EDX=0x00d8bad1
ESP=0x0006eab0, EBP=0x0006eb88, ESI=0x04538148, EDI=0x00000006
EIP=0x00c7ec58, EFLAGS=0x00010202

Top of Stack: (sp=0x0006eab0)
0x0006eab0:   6d6a3ebd 00735024 00734ba0 0006eb30
0x0006eac0:   6d730f1b 00000315 015fbc82 0073501c
0x0006ead0:   00735028 00735024 00000003 00000000
0x0006eae0:   0006eb04 00c20155 043f27c0 13b17e58
0x0006eaf0:   ffff1372 ffff0000 ffffffff 00c7fb51
0x0006eb00:   0089001b 02e172c0 ffff0023 ffffffff
0x0006eb10:   ffffffff 0000ffff 00000000 ffff0000
0x0006eb20:   00fe00fe 00fe00fe 00feffff 00fe00fe 

Instructions: (pc=0x00c7ec58)
0x00c7ec48:   83 ec 6c dd 34 24 9b d9 24 24 83 ec 40 dd 1c 24
0x00c7ec58:   dd 5c 24 08 dd 5c 24 10 dd 5c 24 18 dd 5c 24 20 


Stack: [0x00030000,0x00070000),  sp=0x0006eab0,  free space=250k
Native frames: (J=compiled Java code, j=interpreted, Vv=VM code, C=native code)
v  ~RuntimeStub::range_check_failed Runtime1 stub
J  org.eclipse.jdt.internal.compiler.parser.Scanner.getNextToken()I
v  ~RuntimeStub::alignment_frame_return Runtime1 stub
j  org.eclipse.jdt.core.JavaConventions.scannedIdentifier(Ljava/lang/String;)[C+54
j 
org.eclipse.jdt.core.JavaConventions.validateIdentifier(Ljava/lang/String;)Lorg/eclipse/core/runtime/IStatus;+1
j 
org.eclipse.jdt.internal.core.util.Util.isValidFolderNameForPackage(Ljava/lang/String;)Z+1
j 
org.eclipse.jdt.internal.core.util.Util.packageName(Lorg/eclipse/core/runtime/IPath;)Ljava/lang/String;+34
j 
org.eclipse.jdt.internal.core.JavaModelManager.determineIfOnClasspath(Lorg/eclipse/core/resources/IResource;Lorg/eclipse/jdt/core/IJavaProject;)Lorg/eclipse/jdt/core/IJavaElement;+200
j 
org.eclipse.jdt.internal.core.JavaModelManager.createCompilationUnitFrom(Lorg/eclipse/core/resources/IFile;Lorg/eclipse/jdt/core/IJavaProject;)Lorg/eclipse/jdt/core/ICompilationUnit;+22
j 
org.eclipse.jdt.internal.core.JavaModelManager.create(Lorg/eclipse/core/resources/IFile;Lorg/eclipse/jdt/core/IJavaProject;)Lorg/eclipse/jdt/core/IJavaElement;+45
j 
org.eclipse.jdt.internal.core.JavaModelManager.create(Lorg/eclipse/core/resources/IResource;Lorg/eclipse/jdt/core/IJavaProject;)Lorg/eclipse/jdt/core/IJavaElement;+73
j 
org.eclipse.jdt.core.JavaCore.create(Lorg/eclipse/core/resources/IResource;)Lorg/eclipse/jdt/core/IJavaElement;+2
j 
org.eclipse.jdt.internal.ui.ResourceAdapterFactory.getAdapter(Ljava/lang/Object;Ljava/lang/Class;)Ljava/lang/Object;+43
j 
org.eclipse.core.internal.runtime.AdapterFactoryProxy.getAdapter(Ljava/lang/Object;Ljava/lang/Class;)Ljava/lang/Object;+30
j 
org.eclipse.core.internal.runtime.AdapterManager.getAdapter(Ljava/lang/Object;Ljava/lang/Class;)Ljava/lang/Object;+31
j 
org.eclipse.core.runtime.PlatformObject.getAdapter(Ljava/lang/Class;)Ljava/lang/Object;+8
j 
org.eclipse.ui.part.FileEditorInput.getAdapter(Ljava/lang/Class;)Ljava/lang/Object;+46
j 
org.eclipse.jdt.internal.ui.viewsupport.SelectionListenerWithASTManager$PartListenerGroup.getJavaElement()Lorg/eclipse/jdt/core/IJavaElement;+47
j 
org.eclipse.jdt.internal.ui.viewsupport.SelectionListenerWithASTManager$PartListenerGroup.firePostSelectionChanged(Lorg/eclipse/jface/text/ITextSelection;)V+16
j 
org.eclipse.jdt.internal.ui.viewsupport.SelectionListenerWithASTManager$2.selectionChanged(Lorg/eclipse/jface/viewers/SelectionChangedEvent;)V+20
j 
org.eclipse.jface.text.TextViewer.firePostSelectionChanged(Lorg/eclipse/jface/viewers/SelectionChangedEvent;)V+38
j  org.eclipse.jface.text.TextViewer.firePostSelectionChanged(II)V+71
j  org.eclipse.jface.text.TextViewer$4.run()V+113
j  org.eclipse.swt.widgets.Display.runTimer(I)Z+69
j  org.eclipse.swt.widgets.Display.messageProc(IIII)I+476
v  ~StubRoutines::call_stub
V  [jvm.dll+0x818e8]
V  [jvm.dll+0xd4989]
V  [jvm.dll+0x817b9]
V  [jvm.dll+0x865a3]
C  [swt-win32-3138.dll+0x29514]
C  [swt-win32-3138.dll+0x1d95c]
C  [USER32.dll+0x4605]
C  [USER32.dll+0xa7ba]
j 
org.eclipse.swt.internal.win32.OS.DispatchMessageW(Lorg/eclipse/swt/internal/win32/MSG;)I+0
j 
org.eclipse.swt.internal.win32.OS.DispatchMessage(Lorg/eclipse/swt/internal/win32/MSG;)I+7
j  org.eclipse.swt.widgets.Display.readAndDispatch()Z+50
j 
org.eclipse.ui.internal.Workbench.runEventLoop(Lorg/eclipse/jface/window/Window$IExceptionHandler;Lorg/eclipse/swt/widgets/Display;)V+9
j  org.eclipse.ui.internal.Workbench.runUI()I+108
j 
org.eclipse.ui.internal.Workbench.createAndRunWorkbench(Lorg/eclipse/swt/widgets/Display;Lorg/eclipse/ui/application/WorkbenchAdvisor;)I+11
j 
org.eclipse.ui.PlatformUI.createAndRunWorkbench(Lorg/eclipse/swt/widgets/Display;Lorg/eclipse/ui/application/WorkbenchAdvisor;)I+2
j 
org.eclipse.ui.internal.ide.IDEApplication.run(Ljava/lang/Object;)Ljava/lang/Object;+98
j 
org.eclipse.core.internal.runtime.PlatformActivator$1.run(Ljava/lang/Object;)Ljava/lang/Object;+257
j 
org.eclipse.core.runtime.adaptor.EclipseStarter.run(Ljava/lang/Object;)Ljava/lang/Object;+170
j 
org.eclipse.core.runtime.adaptor.EclipseStarter.run([Ljava/lang/String;Ljava/lang/Runnable;)Ljava/lang/Object;+57
v  ~StubRoutines::call_stub
V  [jvm.dll+0x818e8]
V  [jvm.dll+0xd4989]
V  [jvm.dll+0x817b9]
V  [jvm.dll+0xe4c04]
V  [jvm.dll+0x9f94f]
C  [java.dll+0x6c08]
j 
sun.reflect.NativeMethodAccessorImpl.invoke(Ljava/lang/Object;[Ljava/lang/Object;)Ljava/lang/Object;+87
j 
sun.reflect.DelegatingMethodAccessorImpl.invoke(Ljava/lang/Object;[Ljava/lang/Object;)Ljava/lang/Object;+6
j 
java.lang.reflect.Method.invoke(Ljava/lang/Object;[Ljava/lang/Object;)Ljava/lang/Object;+111
j 
org.eclipse.core.launcher.Main.invokeFramework([Ljava/lang/String;[Ljava/net/URL;)V+181
j  org.eclipse.core.launcher.Main.basicRun([Ljava/lang/String;)V+107
j  org.eclipse.core.launcher.Main.run([Ljava/lang/String;)I+4
j  org.eclipse.core.launcher.Main.main([Ljava/lang/String;)V+10
v  ~StubRoutines::call_stub
V  [jvm.dll+0x818e8]
V  [jvm.dll+0xd4989]
V  [jvm.dll+0x817b9]
V  [jvm.dll+0x88747]
C  [javaw.exe+0x14c0]
C  [javaw.exe+0x313d]
C  [KERNEL32.DLL+0x2893d]


---------------  P R O C E S S  ---------------

Java Threads: ( =&gt; current thread )
  0x170e36f0 JavaThread "Worker-1" [_thread_new, id=500]
  0x175cb780 JavaThread "org.eclipse.jdt.internal.ui.text.JavaReconciler" daemon
[_thread_blocked, id=600]
  0x1728e6b0 JavaThread "org.eclipse.jdt.internal.ui.text.JavaReconciler" daemon
[_thread_in_native, id=3300]
  0x1746b3d0 JavaThread "Java indexing" daemon [_thread_blocked, id=1804]
  0x173e4438 JavaThread "Worker-0" [_thread_blocked, id=1092]
  0x171bd4b0 JavaThread "Start Level Event Dispatcher" daemon [_thread_blocked,
id=3080]
  0x17207598 JavaThread "Framework Event Dispatcher" daemon [_thread_blocked,
id=2196]
  0x17207008 JavaThread "State Data Manager" daemon [_thread_blocked, id=2552]
  0x00be2380 JavaThread "Low Memory Detector" daemon [_thread_blocked, id=1940]
  0x00be0e88 JavaThread "CompilerThread0" daemon [_thread_blocked, id=544]
  0x00be00c0 JavaThread "Signal Dispatcher" daemon [_thread_blocked, id=2088]
  0x00bd7688 JavaThread "Finalizer" daemon [_thread_blocked, id=3152]
  0x00bd6198 JavaThread "Reference Handler" daemon [_thread_blocked, id=3084]
=&gt;0x00734ba0 JavaThread "main" [_thread_in_Java, id=1900]

Other Threads:
  0x00b93f48 VMThread [id=3088]
  0x00be3918 WatcherThread [id=3264]

VM state:not at safepoint (normal execution)

VM Mutex/Monitor currently owned by a thread: None

Heap
 def new generation   total 2880K, used 1642K [0x02ca0000, 0x02fc0000, 0x04050000)
  eden
[error occurred during error reporting, step 190, id 0xc0000092]

Dynamic libraries:
0x00400000 - 0x0040c000 	C:\WINNT\system32\javaw.exe
0x77f80000 - 0x77ffd000 	C:\WINNT\system32\ntdll.dll
0x7c2d0000 - 0x7c332000 	C:\WINNT\system32\ADVAPI32.dll
0x7c570000 - 0x7c623000 	C:\WINNT\system32\KERNEL32.DLL
0x77d30000 - 0x77da1000 	C:\WINNT\system32\RPCRT4.DLL
0x77e10000 - 0x77e6f000 	C:\WINNT\system32\USER32.dll
0x77f40000 - 0x77f7b000 	C:\WINNT\system32\GDI32.dll
0x78000000 - 0x78045000 	C:\WINNT\system32\MSVCRT.dll
0x75e60000 - 0x75e7a000 	C:\WINNT\system32\IMM32.DLL
0x6d640000 - 0x6d7c5000 	C:\Java\jre1.5\bin\client\jvm.dll
0x77570000 - 0x775a0000 	C:\WINNT\system32\WINMM.dll
0x6bc00000 - 0x6bc14000 	C:\WINNT\system32\DrvTrNTm.dll
0x6bc20000 - 0x6bc3c000 	C:\WINNT\system32\DrvTrNTl.dll
0x6d280000 - 0x6d288000 	C:\Java\jre1.5\bin\hpi.dll
0x690a0000 - 0x690ab000 	C:\WINNT\system32\PSAPI.DLL
0x6d610000 - 0x6d61c000 	C:\Java\jre1.5\bin\verify.dll
0x6d300000 - 0x6d31d000 	C:\Java\jre1.5\bin\java.dll
0x6d630000 - 0x6d63f000 	C:\Java\jre1.5\bin\zip.dll
0x6d4c0000 - 0x6d4d3000 	C:\java\jre1.5\bin\net.dll
0x75030000 - 0x75044000 	C:\WINNT\system32\WS2_32.dll
0x75020000 - 0x75028000 	C:\WINNT\system32\WS2HELP.DLL
0x6d4e0000 - 0x6d4e9000 	C:\java\jre1.5\bin\nio.dll
0x17690000 - 0x176e0000 
C:\java\eclipse\configuration\org.eclipse.osgi\bundles\61\1\.cp\swt-win32-3138.dll
0x77a50000 - 0x77b3f000 	C:\WINNT\system32\ole32.dll
0x71710000 - 0x71794000 	C:\WINNT\system32\COMCTL32.dll
0x76b30000 - 0x76b6e000 	C:\WINNT\system32\comdlg32.dll
0x70a70000 - 0x70ad6000 	C:\WINNT\system32\SHLWAPI.DLL
0x782f0000 - 0x78535000 	C:\WINNT\system32\SHELL32.DLL
0x779b0000 - 0x77a4b000 	C:\WINNT\system32\OLEAUT32.dll
0x66650000 - 0x666a4000 	C:\WINNT\system32\USP10.dll
0x17c10000 - 0x17c19000 	C:\WINNT\system32\PGPhk.dll
0x17d70000 - 0x17d78000 
C:\java\eclipse\configuration\org.eclipse.osgi\bundles\13\1\.cp\os\win32\x86\core_3_1_0.dll
0x69640000 - 0x6965f000 	C:\WINNT\system32\oleacc.dll
0x775a0000 - 0x77630000 	C:\WINNT\system32\CLBCATQ.DLL
0x70440000 - 0x704cf000 	C:\WINNT\System32\mlang.dll
0x77820000 - 0x77827000 	C:\WINNT\system32\VERSION.dll
0x759b0000 - 0x759b6000 	C:\WINNT\system32\LZ32.DLL
0x6b2c0000 - 0x6b2c5000 	C:\WINNT\system32\msimg32.dll
0x18b60000 - 0x18b66000 	C:\Program Files\utilities\WinRoll\winroll.dll
0x18b70000 - 0x18b82000 	C:\imagers\peepshowlite\peepsmhk.dll

VM Arguments:
jvm_args: -Xms40m -Xmx256m
java_command: C:\java\eclipse\startup.jar -os win32 -ws win32 -arch x86
-launcher C:\java\eclipse\eclipse.exe -name Eclipse -showsplash 600 -exitdata
144_44 -vm C:\WINNT\system32\javaw.exe -vmargs -Xms40m -Xmx256m -jar
C:\java\eclipse\startup.jar

Environment Variables:
PATH=C:\Perl\bin\;F:\Perl\bin\;C:\WINNT\system32;C:\WINNT;C:\WINNT\System32\Wbem;C:\Program
Files\Common Files\Adaptec Shared\System;C:\Program Files\Sonic\MyDVD;C:\Program
Files\Network
Associates\PGPNT;f:\perl\bin;f:\rktools\bin;f:\mysql\bin;C:\Program
Files\Symantec\pcAnywhere\;C:\Program
Files\cvsnt;c:\java\run;c:\programs\python;C:\Program Files\Microsoft Visual
Studio\Common\MSDev98\Bin;
USERNAME=ddyer
OS=Windows_NT
PROCESSOR_IDENTIFIER=x86 Family 15 Model 2 Stepping 7, GenuineIntel


---------------  S Y S T E M  ---------------

OS: Windows 2000 Build 2195 Service Pack 4

CPU:total 1 family 15, cmov, cx8, fxsr, mmx, sse, sse2, ht

Memory: 4k page, physical 523244k(124220k free), swap 2022288k(1404484k free)

vm_info: Java HotSpot(TM) Client VM (1.5.0_02-b09) for windows-x86, built on Mar
 4 2005 01:53:53 by "java_re" with MS VC++ 6.0
Dup/related to bug 102139?
Try a newer build.

If you still get it, please report the problem to the VM vendor.
Closing as INVALID.
This is an extremely serious problem.  Besides the JVM crash, I also
mentioned BSOD twice (which is now 3 times BTW). 

If there is something in Eclipse that is tickling a JVM bug, or a 
Win2K bug, you're going to have to deal with it one way or another,
and you (as a representative of a truely major application) are in
a much better position than I am to get the attention of Sun or Microsoft.

You should at least leave this bug open to act as a collection point
for similar reports.

Please provide exact steps to reproduce. We usually see VM crashes under linux
AMD64 mostly. As to reporting to VM vendor, we don't have a reproducing case
which you seem to have. Our sources/binaries are freely available, so there is
nothing we do not expose to get the bug out of the VM.

Also trying a newer VM version may improve the behavior. Last, remember that
Eclipse only needs a 1.4 level JRE to run on.

Pls reopen once detailed steps are available.
BTW, we have lots of similar configs, and never observed such a crash over time. 
There are no steps to reproduce, other than having my project
environment.  The crash occurs just as the initial splash
screen is being produced.   Historically, these JVM crashes
occur a few up to a dozen times before I get a successful
launch or achieve BSOD status. 

As for trying a newer build, RC3 was the newest I could find.
One related datum is that I backed out of RC3 to  I20050401-1645
and the problem has vanished, which I take as good evidence that
the crash is not caused by a damaged JVM or Win2K installation.

Unfortunately, my initial startup involves a huge project with over 
200 source files, which I am not able to simply post for you to
take or leave at your leisure.  I would consider working directly
with some partular developer who is going to spend a substantial
amount of time trying to reproduce the problem.
Close as there have been no activity for 6 months.
Please reopen if you still experiment this issue with latest eclipse build and 1.5 VM, thanks

Today I have this bug too. It occurs every time I starts my Eclipse JBossIDE 1.5.
After a while and with comparison of the configuration path, I found out, that the bug occurs because in the variable RECENT_WORKSPACES a not existing path was set.
Interesting find.
Moving to UI which defines this field.
Boris, can you investigate the last point?

I don't see why we think there is any link between the bug in comment #8 and the initial report. He says it occurs every time (not sometimes).

I'll log a new bug for Achims problem?  If you disagree and are seeing the same stack trace in your log etc... please let us know.

I'm moving this bug back to JDT Core.
logged 137986 for the bug from Achim
Achim, please see last 2 comments from me.
According to the initial trace, this is a JIT bug that is fixed by taking the latest 1.5.0 JRE from Sun.

*** This bug has been marked as a duplicate of 71987 ***</WithStack>
    <WithOutStack>Since loading 3.1 RC3 I've experienced clusters of crashes at the 
end of launching eclipse.  These crashes occur just as the initial
window is being displayed.  Typically, I keep retrying and keep crashing
until I get lucky.  This makes me suspect the problem is related to
a timing issue in multithreading.  Also, TWICE this crash has also
been coincident with BSOD on win2k - which has always been an extremely
rare event on my system.  This "startup crash" problem occurred a few
times with earlier builds, but seems to be endemic in this one.

Here is a typical crash log
#
# An unexpected error has been detected by HotSpot Virtual Machine:
#
#  EXCEPTION_FLT_STACK_CHECK (0xc0000092) at pc=0x00c7ec58, pid=988, tid=1900
#
# Java VM: Java HotSpot(TM) Client VM (1.5.0_02-b09 mixed mode)
# Problematic frame:
# v  ~RuntimeStub::range_check_failed Runtime1 stub
#

---------------  T H R E A D  ---------------

Current thread (0x00734ba0):  JavaThread "main" [_thread_in_Java, id=1900]

siginfo: ExceptionCode=0xc0000092, ExceptionInformation=0x00000000 0x0006eab0 

Registers:
EAX=0x00000006, EBX=0x02e1be98, ECX=0x04538148, EDX=0x00d8bad1
ESP=0x0006eab0, EBP=0x0006eb88, ESI=0x04538148, EDI=0x00000006
EIP=0x00c7ec58, EFLAGS=0x00010202

Top of Stack: (sp=0x0006eab0)
0x0006eab0:   6d6a3ebd 00735024 00734ba0 0006eb30
0x0006eac0:   6d730f1b 00000315 015fbc82 0073501c
0x0006ead0:   00735028 00735024 00000003 00000000
0x0006eae0:   0006eb04 00c20155 043f27c0 13b17e58
0x0006eaf0:   ffff1372 ffff0000 ffffffff 00c7fb51
0x0006eb00:   0089001b 02e172c0 ffff0023 ffffffff
0x0006eb10:   ffffffff 0000ffff 00000000 ffff0000
0x0006eb20:   00fe00fe 00fe00fe 00feffff 00fe00fe 

Instructions: (pc=0x00c7ec58)
0x00c7ec48:   83 ec 6c dd 34 24 9b d9 24 24 83 ec 40 dd 1c 24
0x00c7ec58:   dd 5c 24 08 dd 5c 24 10 dd 5c 24 18 dd 5c 24 20 


Stack: [0x00030000,0x00070000),  sp=0x0006eab0,  free space=250k
Native frames: (J=compiled Java code, j=interpreted, Vv=VM code, C=native code)
v  ~RuntimeStub::range_check_failed Runtime1 stub
J  org.eclipse.jdt.internal.compiler.parser.Scanner.getNextToken()I
v  ~RuntimeStub::alignment_frame_return Runtime1 stub
j  org.eclipse.jdt.core.JavaConventions.scannedIdentifier(Ljava/lang/String;)[C+54
j 
org.eclipse.jdt.core.JavaConventions.validateIdentifier(Ljava/lang/String;)Lorg/eclipse/core/runtime/IStatus;+1
j 
org.eclipse.jdt.internal.core.util.Util.isValidFolderNameForPackage(Ljava/lang/String;)Z+1
j 
org.eclipse.jdt.internal.core.util.Util.packageName(Lorg/eclipse/core/runtime/IPath;)Ljava/lang/String;+34
j 
org.eclipse.jdt.internal.core.JavaModelManager.determineIfOnClasspath(Lorg/eclipse/core/resources/IResource;Lorg/eclipse/jdt/core/IJavaProject;)Lorg/eclipse/jdt/core/IJavaElement;+200
j 
org.eclipse.jdt.internal.core.JavaModelManager.createCompilationUnitFrom(Lorg/eclipse/core/resources/IFile;Lorg/eclipse/jdt/core/IJavaProject;)Lorg/eclipse/jdt/core/ICompilationUnit;+22
j 
org.eclipse.jdt.internal.core.JavaModelManager.create(Lorg/eclipse/core/resources/IFile;Lorg/eclipse/jdt/core/IJavaProject;)Lorg/eclipse/jdt/core/IJavaElement;+45
j 
org.eclipse.jdt.internal.core.JavaModelManager.create(Lorg/eclipse/core/resources/IResource;Lorg/eclipse/jdt/core/IJavaProject;)Lorg/eclipse/jdt/core/IJavaElement;+73
j 
org.eclipse.jdt.core.JavaCore.create(Lorg/eclipse/core/resources/IResource;)Lorg/eclipse/jdt/core/IJavaElement;+2
j 
org.eclipse.jdt.internal.ui.ResourceAdapterFactory.getAdapter(Ljava/lang/Object;Ljava/lang/Class;)Ljava/lang/Object;+43
j 
org.eclipse.core.internal.runtime.AdapterFactoryProxy.getAdapter(Ljava/lang/Object;Ljava/lang/Class;)Ljava/lang/Object;+30
j 
org.eclipse.core.internal.runtime.AdapterManager.getAdapter(Ljava/lang/Object;Ljava/lang/Class;)Ljava/lang/Object;+31
j 
org.eclipse.core.runtime.PlatformObject.getAdapter(Ljava/lang/Class;)Ljava/lang/Object;+8
j 
org.eclipse.ui.part.FileEditorInput.getAdapter(Ljava/lang/Class;)Ljava/lang/Object;+46
j 
org.eclipse.jdt.internal.ui.viewsupport.SelectionListenerWithASTManager$PartListenerGroup.getJavaElement()Lorg/eclipse/jdt/core/IJavaElement;+47
j 
org.eclipse.jdt.internal.ui.viewsupport.SelectionListenerWithASTManager$PartListenerGroup.firePostSelectionChanged(Lorg/eclipse/jface/text/ITextSelection;)V+16
j 
org.eclipse.jdt.internal.ui.viewsupport.SelectionListenerWithASTManager$2.selectionChanged(Lorg/eclipse/jface/viewers/SelectionChangedEvent;)V+20
j 
org.eclipse.jface.text.TextViewer.firePostSelectionChanged(Lorg/eclipse/jface/viewers/SelectionChangedEvent;)V+38
j  org.eclipse.jface.text.TextViewer.firePostSelectionChanged(II)V+71
j  org.eclipse.jface.text.TextViewer$4.run()V+113
j  org.eclipse.swt.widgets.Display.runTimer(I)Z+69
j  org.eclipse.swt.widgets.Display.messageProc(IIII)I+476
v  ~StubRoutines::call_stub
V  [jvm.dll+0x818e8]
V  [jvm.dll+0xd4989]
V  [jvm.dll+0x817b9]
V  [jvm.dll+0x865a3]
C  [swt-win32-3138.dll+0x29514]
C  [swt-win32-3138.dll+0x1d95c]
C  [USER32.dll+0x4605]
C  [USER32.dll+0xa7ba]
j 
org.eclipse.swt.internal.win32.OS.DispatchMessageW(Lorg/eclipse/swt/internal/win32/MSG;)I+0
j 
org.eclipse.swt.internal.win32.OS.DispatchMessage(Lorg/eclipse/swt/internal/win32/MSG;)I+7
j  org.eclipse.swt.widgets.Display.readAndDispatch()Z+50
j 
org.eclipse.ui.internal.Workbench.runEventLoop(Lorg/eclipse/jface/window/Window$IExceptionHandler;Lorg/eclipse/swt/widgets/Display;)V+9
j  org.eclipse.ui.internal.Workbench.runUI()I+108
j 
org.eclipse.ui.internal.Workbench.createAndRunWorkbench(Lorg/eclipse/swt/widgets/Display;Lorg/eclipse/ui/application/WorkbenchAdvisor;)I+11
j 
org.eclipse.ui.PlatformUI.createAndRunWorkbench(Lorg/eclipse/swt/widgets/Display;Lorg/eclipse/ui/application/WorkbenchAdvisor;)I+2
j 
org.eclipse.ui.internal.ide.IDEApplication.run(Ljava/lang/Object;)Ljava/lang/Object;+98
j 
org.eclipse.core.internal.runtime.PlatformActivator$1.run(Ljava/lang/Object;)Ljava/lang/Object;+257
j 
org.eclipse.core.runtime.adaptor.EclipseStarter.run(Ljava/lang/Object;)Ljava/lang/Object;+170
j 
org.eclipse.core.runtime.adaptor.EclipseStarter.run([Ljava/lang/String;Ljava/lang/Runnable;)Ljava/lang/Object;+57
v  ~StubRoutines::call_stub
V  [jvm.dll+0x818e8]
V  [jvm.dll+0xd4989]
V  [jvm.dll+0x817b9]
V  [jvm.dll+0xe4c04]
V  [jvm.dll+0x9f94f]
C  [java.dll+0x6c08]
j 
sun.reflect.NativeMethodAccessorImpl.invoke(Ljava/lang/Object;[Ljava/lang/Object;)Ljava/lang/Object;+87
j 
sun.reflect.DelegatingMethodAccessorImpl.invoke(Ljava/lang/Object;[Ljava/lang/Object;)Ljava/lang/Object;+6
j 
java.lang.reflect.Method.invoke(Ljava/lang/Object;[Ljava/lang/Object;)Ljava/lang/Object;+111
j 
org.eclipse.core.launcher.Main.invokeFramework([Ljava/lang/String;[Ljava/net/URL;)V+181
j  org.eclipse.core.launcher.Main.basicRun([Ljava/lang/String;)V+107
j  org.eclipse.core.launcher.Main.run([Ljava/lang/String;)I+4
j  org.eclipse.core.launcher.Main.main([Ljava/lang/String;)V+10
v  ~StubRoutines::call_stub
V  [jvm.dll+0x818e8]
V  [jvm.dll+0xd4989]
V  [jvm.dll+0x817b9]
V  [jvm.dll+0x88747]
C  [javaw.exe+0x14c0]
C  [javaw.exe+0x313d]
C  [KERNEL32.DLL+0x2893d]


---------------  P R O C E S S  ---------------

Java Threads: ( =&gt; current thread )
  0x170e36f0 JavaThread "Worker-1" [_thread_new, id=500]
  0x175cb780 JavaThread "org.eclipse.jdt.internal.ui.text.JavaReconciler" daemon
[_thread_blocked, id=600]
  0x1728e6b0 JavaThread "org.eclipse.jdt.internal.ui.text.JavaReconciler" daemon
[_thread_in_native, id=3300]
  0x1746b3d0 JavaThread "Java indexing" daemon [_thread_blocked, id=1804]
  0x173e4438 JavaThread "Worker-0" [_thread_blocked, id=1092]
  0x171bd4b0 JavaThread "Start Level Event Dispatcher" daemon [_thread_blocked,
id=3080]
  0x17207598 JavaThread "Framework Event Dispatcher" daemon [_thread_blocked,
id=2196]
  0x17207008 JavaThread "State Data Manager" daemon [_thread_blocked, id=2552]
  0x00be2380 JavaThread "Low Memory Detector" daemon [_thread_blocked, id=1940]
  0x00be0e88 JavaThread "CompilerThread0" daemon [_thread_blocked, id=544]
  0x00be00c0 JavaThread "Signal Dispatcher" daemon [_thread_blocked, id=2088]
  0x00bd7688 JavaThread "Finalizer" daemon [_thread_blocked, id=3152]
  0x00bd6198 JavaThread "Reference Handler" daemon [_thread_blocked, id=3084]
=&gt;0x00734ba0 JavaThread "main" [_thread_in_Java, id=1900]

Other Threads:
  0x00b93f48 VMThread [id=3088]
  0x00be3918 WatcherThread [id=3264]

VM state:not at safepoint (normal execution)

VM Mutex/Monitor currently owned by a thread: None

Heap
 def new generation   total 2880K, used 1642K [0x02ca0000, 0x02fc0000, 0x04050000)
  eden
[error occurred during error reporting, step 190, id 0xc0000092]

Dynamic libraries:
0x00400000 - 0x0040c000 	C:\WINNT\system32\javaw.exe
0x77f80000 - 0x77ffd000 	C:\WINNT\system32\ntdll.dll
0x7c2d0000 - 0x7c332000 	C:\WINNT\system32\ADVAPI32.dll
0x7c570000 - 0x7c623000 	C:\WINNT\system32\KERNEL32.DLL
0x77d30000 - 0x77da1000 	C:\WINNT\system32\RPCRT4.DLL
0x77e10000 - 0x77e6f000 	C:\WINNT\system32\USER32.dll
0x77f40000 - 0x77f7b000 	C:\WINNT\system32\GDI32.dll
0x78000000 - 0x78045000 	C:\WINNT\system32\MSVCRT.dll
0x75e60000 - 0x75e7a000 	C:\WINNT\system32\IMM32.DLL
0x6d640000 - 0x6d7c5000 	C:\Java\jre1.5\bin\client\jvm.dll
0x77570000 - 0x775a0000 	C:\WINNT\system32\WINMM.dll
0x6bc00000 - 0x6bc14000 	C:\WINNT\system32\DrvTrNTm.dll
0x6bc20000 - 0x6bc3c000 	C:\WINNT\system32\DrvTrNTl.dll
0x6d280000 - 0x6d288000 	C:\Java\jre1.5\bin\hpi.dll
0x690a0000 - 0x690ab000 	C:\WINNT\system32\PSAPI.DLL
0x6d610000 - 0x6d61c000 	C:\Java\jre1.5\bin\verify.dll
0x6d300000 - 0x6d31d000 	C:\Java\jre1.5\bin\java.dll
0x6d630000 - 0x6d63f000 	C:\Java\jre1.5\bin\zip.dll
0x6d4c0000 - 0x6d4d3000 	C:\java\jre1.5\bin\net.dll
0x75030000 - 0x75044000 	C:\WINNT\system32\WS2_32.dll
0x75020000 - 0x75028000 	C:\WINNT\system32\WS2HELP.DLL
0x6d4e0000 - 0x6d4e9000 	C:\java\jre1.5\bin\nio.dll
0x17690000 - 0x176e0000 
C:\java\eclipse\configuration\org.eclipse.osgi\bundles\61\1\.cp\swt-win32-3138.dll
0x77a50000 - 0x77b3f000 	C:\WINNT\system32\ole32.dll
0x71710000 - 0x71794000 	C:\WINNT\system32\COMCTL32.dll
0x76b30000 - 0x76b6e000 	C:\WINNT\system32\comdlg32.dll
0x70a70000 - 0x70ad6000 	C:\WINNT\system32\SHLWAPI.DLL
0x782f0000 - 0x78535000 	C:\WINNT\system32\SHELL32.DLL
0x779b0000 - 0x77a4b000 	C:\WINNT\system32\OLEAUT32.dll
0x66650000 - 0x666a4000 	C:\WINNT\system32\USP10.dll
0x17c10000 - 0x17c19000 	C:\WINNT\system32\PGPhk.dll
0x17d70000 - 0x17d78000 
C:\java\eclipse\configuration\org.eclipse.osgi\bundles\13\1\.cp\os\win32\x86\core_3_1_0.dll
0x69640000 - 0x6965f000 	C:\WINNT\system32\oleacc.dll
0x775a0000 - 0x77630000 	C:\WINNT\system32\CLBCATQ.DLL
0x70440000 - 0x704cf000 	C:\WINNT\System32\mlang.dll
0x77820000 - 0x77827000 	C:\WINNT\system32\VERSION.dll
0x759b0000 - 0x759b6000 	C:\WINNT\system32\LZ32.DLL
0x6b2c0000 - 0x6b2c5000 	C:\WINNT\system32\msimg32.dll
0x18b60000 - 0x18b66000 	C:\Program Files\utilities\WinRoll\winroll.dll
0x18b70000 - 0x18b82000 	C:\imagers\peepshowlite\peepsmhk.dll

VM Arguments:
jvm_args: -Xms40m -Xmx256m
java_command: C:\java\eclipse\startup.jar -os win32 -ws win32 -arch x86
-launcher C:\java\eclipse\eclipse.exe -name Eclipse -showsplash 600 -exitdata
144_44 -vm C:\WINNT\system32\javaw.exe -vmargs -Xms40m -Xmx256m -jar
C:\java\eclipse\startup.jar

Environment Variables:
PATH=C:\Perl\bin\;F:\Perl\bin\;C:\WINNT\system32;C:\WINNT;C:\WINNT\System32\Wbem;C:\Program
Files\Common Files\Adaptec Shared\System;C:\Program Files\Sonic\MyDVD;C:\Program
Files\Network
Associates\PGPNT;f:\perl\bin;f:\rktools\bin;f:\mysql\bin;C:\Program
Files\Symantec\pcAnywhere\;C:\Program
Files\cvsnt;c:\java\run;c:\programs\python;C:\Program Files\Microsoft Visual
Studio\Common\MSDev98\Bin;
USERNAME=ddyer
OS=Windows_NT
PROCESSOR_IDENTIFIER=x86 Family 15 Model 2 Stepping 7, GenuineIntel


---------------  S Y S T E M  ---------------

OS: Windows 2000 Build 2195 Service Pack 4

CPU:total 1 family 15, cmov, cx8, fxsr, mmx, sse, sse2, ht

Memory: 4k page, physical 523244k(124220k free), swap 2022288k(1404484k free)

vm_info: Java HotSpot(TM) Client VM (1.5.0_02-b09) for windows-x86, built on Mar
 4 2005 01:53:53 by "java_re" with MS VC++ 6.0
Dup/related to bug 102139?
Try a newer build.

If you still get it, please report the problem to the VM vendor.
Closing as INVALID.
This is an extremely serious problem.  Besides the JVM crash, I also
mentioned BSOD twice (which is now 3 times BTW). 

If there is something in Eclipse that is tickling a JVM bug, or a 
Win2K bug, you're going to have to deal with it one way or another,
and you (as a representative of a truely major application) are in
a much better position than I am to get the attention of Sun or Microsoft.

You should at least leave this bug open to act as a collection point
for similar reports.

Please provide exact steps to reproduce. We usually see VM crashes under linux
AMD64 mostly. As to reporting to VM vendor, we don't have a reproducing case
which you seem to have. Our sources/binaries are freely available, so there is
nothing we do not expose to get the bug out of the VM.

Also trying a newer VM version may improve the behavior. Last, remember that
Eclipse only needs a 1.4 level JRE to run on.

Pls reopen once detailed steps are available.
BTW, we have lots of similar configs, and never observed such a crash over time. 
There are no steps to reproduce, other than having my project
environment.  The crash occurs just as the initial splash
screen is being produced.   Historically, these JVM crashes
occur a few up to a dozen times before I get a successful
launch or achieve BSOD status. 

As for trying a newer build, RC3 was the newest I could find.
One related datum is that I backed out of RC3 to  I20050401-1645
and the problem has vanished, which I take as good evidence that
the crash is not caused by a damaged JVM or Win2K installation.

Unfortunately, my initial startup involves a huge project with over 
200 source files, which I am not able to simply post for you to
take or leave at your leisure.  I would consider working directly
with some partular developer who is going to spend a substantial
amount of time trying to reproduce the problem.
Close as there have been no activity for 6 months.
Please reopen if you still experiment this issue with latest eclipse build and 1.5 VM, thanks

Today I have this bug too. It occurs every time I starts my Eclipse JBossIDE 1.5.
After a while and with comparison of the configuration path, I found out, that the bug occurs because in the variable RECENT_WORKSPACES a not existing path was set.
Interesting find.
Moving to UI which defines this field.
Boris, can you investigate the last point?

I don't see why we think there is any link between the bug in comment #8 and the initial report. He says it occurs every time (not sometimes).

I'll log a new bug for Achims problem?  If you disagree and are seeing the same stack trace in your log etc... please let us know.

I'm moving this bug back to JDT Core.
logged 137986 for the bug from Achim
Achim, please see last 2 comments from me.
According to the initial trace, this is a JIT bug that is fixed by taking the latest 1.5.0 JRE from Sun.

*** This bug has been marked as a duplicate of 71987 ***</WithOutStack>
  </Bug>
  <Bug>
    <BugId amount="102491" />
    <CreationDate amount="2005-07-01 11:18:00 -0400" />
    <DupId amount="" />
    <classification amount="Tools" />
    <Product amount="CDT" />
    <component amount="cdt-build" />
    <Version amount="3.0" />
    <rep_platform amount="PC" />
    <op_sys amount="Windows XP" />
    <priority amount="P3" />
    <bug_severity amount="normal" />
    <Summery>error exercute "cygpath" command</Summery>
    <Patches amount="0" />
    <Stacktraces amount="0" />
    <SourceCodeRegions amount="0" />
    <Enumerations amount="0" />
    <bug_status amount="RESOLVED" />
    <resolution amount="FIXED" />
    <WithStack>I installed MinGW with gcc3.4 and properly set up the system path.But every time
I create a new c/c++ project ,The c build console give me the warning message:
error executing  "cygpath" command 

It is just a warning . There is nothing serious.but This makes the cdt not
perfect.I hope u can solve this problem .and would u please do me a favor by
sending me a reply ? Thank u for your work. (-_-)
I would like to see first class support for msys/mingw, and some day 
Microsoft's Visual C++ Toolkit. We shouldn't be assuming that we are using 
cygwin tools on Windows.

I'm going to guess this is coming from build-land (scanner discovery?)
I can only confirm this bug with a class of "beginner" students. Many of them
were confused about the "cygpath" error and thought they made a mistake in the
installation / configuration.
*** Bug 119015 has been marked as a duplicate of this bug. ***
Yea this is an annoying bug...
This is more than just an annoyance. It prevents users from even compiling. I have both Cygwin and MingGW installed, and made sure that mingw\bin was first in my path, followed by cygwin\bin, however, this is STILL a problem, as I could not even compile my 'hello world' app with the error message stating that "cygpath" could not be found.

I had to move cygpath.exe and cygwin1.dll to my MinGW\bin directory in order for  things to finally compile.
_____
Eclipse SDK: Version: 3.2.2
CDT Eclipse C/C++ Development Tools: Version: 3.1.2.200702150621
Upon further inspection, it seems as though the real "bug" is in Eclipse or CDT not properly handling the Project -&gt; Environment variables correctly. 

If I close Eclipse, and make sure my System PATH environment variable (outside of Eclipse) is perfect-- meaning it starts with MinGW's bin directory, followed by Cygwin's bin directory, like I want it (so CDT uses MinGW), then when I create a new managed C++ project in Eclipse, things work fine.

But if the PATH environment variable isn't set up correctly initially, no amount of mucking with the project's environment variables ever seemed to solve this issue. 

Hope this helps someone else so that they don't spend half the day working on this like I did today.

-Maverick530
Proper support for cygwin versus mingw is coming in CDT 4.0.
(In reply to comment #7)
&gt; Proper support for cygwin versus mingw is coming in CDT 4.0.
&gt; 

This is still present in CDT 4.0 RC1.

When I'm using the MinGW toolchain, I don't see any warnings or errors due to cygpath stuff. If you do see something, please reopen and provide more details on what you've seen and how your projects are setup.</WithStack>
    <WithOutStack>I installed MinGW with gcc3.4 and properly set up the system path.But every time
I create a new c/c++ project ,The c build console give me the warning message:
error executing  "cygpath" command 

It is just a warning . There is nothing serious.but This makes the cdt not
perfect.I hope u can solve this problem .and would u please do me a favor by
sending me a reply ? Thank u for your work. (-_-)
I would like to see first class support for msys/mingw, and some day 
Microsoft's Visual C++ Toolkit. We shouldn't be assuming that we are using 
cygwin tools on Windows.

I'm going to guess this is coming from build-land (scanner discovery?)
I can only confirm this bug with a class of "beginner" students. Many of them
were confused about the "cygpath" error and thought they made a mistake in the
installation / configuration.
*** Bug 119015 has been marked as a duplicate of this bug. ***
Yea this is an annoying bug...
This is more than just an annoyance. It prevents users from even compiling. I have both Cygwin and MingGW installed, and made sure that mingw\bin was first in my path, followed by cygwin\bin, however, this is STILL a problem, as I could not even compile my 'hello world' app with the error message stating that "cygpath" could not be found.

I had to move cygpath.exe and cygwin1.dll to my MinGW\bin directory in order for  things to finally compile.
_____
Eclipse SDK: Version: 3.2.2
CDT Eclipse C/C++ Development Tools: Version: 3.1.2.200702150621
Upon further inspection, it seems as though the real "bug" is in Eclipse or CDT not properly handling the Project -&gt; Environment variables correctly. 

If I close Eclipse, and make sure my System PATH environment variable (outside of Eclipse) is perfect-- meaning it starts with MinGW's bin directory, followed by Cygwin's bin directory, like I want it (so CDT uses MinGW), then when I create a new managed C++ project in Eclipse, things work fine.

But if the PATH environment variable isn't set up correctly initially, no amount of mucking with the project's environment variables ever seemed to solve this issue. 

Hope this helps someone else so that they don't spend half the day working on this like I did today.

-Maverick530
Proper support for cygwin versus mingw is coming in CDT 4.0.
(In reply to comment #7)
&gt; Proper support for cygwin versus mingw is coming in CDT 4.0.
&gt; 

This is still present in CDT 4.0 RC1.

When I'm using the MinGW toolchain, I don't see any warnings or errors due to cygpath stuff. If you do see something, please reopen and provide more details on what you've seen and how your projects are setup.</WithOutStack>
  </Bug>
  <Bug>
    <BugId amount="102492" />
    <CreationDate amount="2005-07-01 11:28:00 -0400" />
    <DupId amount="" />
    <classification amount="Eclipse" />
    <Product amount="JDT" />
    <component amount="UI" />
    <Version amount="3.1" />
    <rep_platform amount="PC" />
    <op_sys amount="Windows XP" />
    <priority amount="P3" />
    <bug_severity amount="normal" />
    <Summery>[quick fix] Halt in Computing serial version ID...</Summery>
    <Patches amount="0" />
    <Stacktraces amount="0" />
    <SourceCodeRegions amount="16">
      <source_code type="class">
        <location start="806" end="861" />
        <code>[*] public class FileUploader extends HttpServlet {...}</code>
      </source_code>
      <source_code type="class">
        <location start="1044" end="1100" />
        <code>[*] public class TimestampTag extends MyTagSupport {...}</code>
      </source_code>
      <source_code type="class">
        <location start="1102" end="1165" />
        <code>abstract public class MyTagSupport extends TagSupport {...}</code>
      </source_code>
      <source_code type="package">
        <location start="2918" end="2938" />
        <code>package abc.servlet;</code>
      </source_code>
      <source_code type="import">
        <location start="2939" end="2978" />
        <code>import javax.servlet.ServletException;</code>
      </source_code>
      <source_code type="import">
        <location start="2979" end="3017" />
        <code>import javax.servlet.http.HttpServlet;</code>
      </source_code>
      <source_code type="import">
        <location start="3018" end="3063" />
        <code>import javax.servlet.http.HttpServletRequest;</code>
      </source_code>
      <source_code type="import">
        <location start="3064" end="3110" />
        <code>import javax.servlet.http.HttpServletResponse;</code>
      </source_code>
      <source_code type="class">
        <location start="3116" end="3444" />
        <code>public class FileUploader extends HttpServlet {

    private static boolean COMPLETED_CLEANING = false;
    
    public FileUploader() {
        super();
    }

    public void destroy() {
        super.destroy();
        ...
    }

    public void doPost(HttpServletRequest request, HttpServletResponse response)
    	...
    }</code>
      </source_code>
      <source_code type="functiondef">
        <location start="3446" end="3509" />
        <code>public void init() throws ServletException {
    	...
    }</code>
      </source_code>
      <source_code type="package">
        <location start="6244" end="6286" />
        <code>package performance.monitoringagent.agent;</code>
      </source_code>
      <source_code type="import">
        <location start="6287" end="6316" />
        <code>import java.util.Properties;</code>
      </source_code>
      <source_code type="import">
        <location start="6317" end="6348" />
        <code>import java.io.FileInputStream;</code>
      </source_code>
      <source_code type="import">
        <location start="6349" end="6376" />
        <code>import java.io.IOException;</code>
      </source_code>
      <source_code type="multicomment">
        <location start="6377" end="6442" />
        <code>/**
 * User: Peskovsky
 * Date: 23.01.2006
 * Time: 18:45:15
 */</code>
      </source_code>
      <source_code type="class">
        <location start="6443" end="7503" />
        <code>public class AgentProperties extends Properties {
	public static final String FILENAME = "./agent.properties";

	public static final String LISTENING_PORT = "listeningPort";
	public static final String MEASUREMENTS_GETTING_PERIOD = "measurementsPeriod";
	public static final String HISTORY_PERIOD = "historyPeriod";
	public static final String CONNECTION_ACCEPTING_TIMEOUT = "connectionAcceptingTimeout";
	public static final String MEASUREMENTS_CLEANING_PERIOD = "measurementsCleaningPeriod";
	public static final String MEASUREMENTS_OVERFLOW_CHECK_DELAY = "measurementsOverflowCheckDelay";
	public static final String INTER_REQUESTS_DELAY = "interRequestsDelay";

	private static AgentProperties agentProperties = new AgentProperties();
	static {
		try {
			agentProperties.load(new FileInputStream(FILENAME));
		} catch (IOException e) {
			System.out.println("Error reading agent.properties file.");
			e.printStackTrace();
		}
	}

	public static final String getValue(String property) {
		return AgentProperties.agentProperties.getProperty(property);
	}
}</code>
      </source_code>
    </SourceCodeRegions>
    <Enumerations amount="0" />
    <bug_status amount="VERIFIED" />
    <resolution amount="FIXED" />
    <WithStack>Hello,

My work environments are like the following.
   Eclipse: 3.1
   J2SDK: j2sdk1.4.2_08
   OS: Windows XP Professional
   Plug-in: MyEclipse, XMLBuddy
   Framworks in the working project: Hibernate 3.0.5, Struts, ...

After newly installing Eclipse 3.1, I imported a project created by earlier 
versions of Eclipse from v2.1. After importing, a list of Problems were 
detected. Many of them were "The serializable class XxxxXxxx does not declare 
serialVersionUID..." in the "Problems" view. 

For the problems, I used the Quick Fix (Cntr-1) menu to "Add generated serial 
version ID." By doing this way, I created many sercialVersionUID for classes 
missing them. But the system got halt when I did the same thing for some 
classes. Those classes are marked with [*] in the list below, as examples.

[*] public class FileUploader extends HttpServlet {...}

[*] public class SysProfileWrapperImpl implements
        ProfileWrapper,
        HttpSessionBindingListener {...}

    public interface ProfileWrapper extends Serializable  {...}

[*] public class TimestampTag extends MyTagSupport {...}

    abstract public class MyTagSupport extends TagSupport {...}


The error message poped up in the [Progress Information] dialog box is 

   +---------------------------------------------------------+
   |     Computing serial version ID...                      |
   |  ||||||||||||||||||||||||||||||||                       |   
   |  Starting virtual machine...                            |
   |                                  [Cancel] [Details &gt;&gt;]  |
   +---------------------------------------------------------+

And it never advanced from a certain point. I clicked the [Cancel] button, and 
the button became disabled. I waited but nothing happened after that. I 
couldn't kill the dialog box and so I could get back to the main eclipse 
window. The [Detail &gt;&gt;] button initially appeared with disabled status.

I hope you may simulate the situation I had and fix the problem whatever the 
solution is...

I thank you very much for providing Elipse, very nice development tool for 
developers like me...

Sincerely,


Yunseuk Kim
Tobias, can you please investigate. Might be a 3.1.1. candidate.
Tagging as 3.1.1. Tobias, can you please investigate and explain how risky a fix
would be. 
Just want to note that I also have this problem - for some classes, quick-fixing
to generate the serial version ID hangs with the same dialog box reported above.

Note that I have MyEclipse installed - the 4.0M2 development release.

(In reply to comment #2)
&gt; Tagging as 3.1.1. Tobias, can you please investigate and explain how risky a fix
&gt; would be. 


Yunseuk or Larry: Could you please attach a code snippet where the defect is 
reproducible?
Tobias: I was kind of busy... Here I attached the code produced the defect. 
Please let me know if you need more info. 

Thanks!

----------------------------------------
package abc.servlet;

import javax.servlet.ServletException;
import javax.servlet.http.HttpServlet;
import javax.servlet.http.HttpServletRequest;
import javax.servlet.http.HttpServletResponse;
...

public class FileUploader extends HttpServlet {

    private static boolean COMPLETED_CLEANING = false;
    
    public FileUploader() {
        super();
    }

    public void destroy() {
        super.destroy();
        ...
    }

    public void doPost(HttpServletRequest request, HttpServletResponse response)
    	...
    }

    public void init() throws ServletException {
    	...
    }
    
    ...

}
----------------------------------------------
I could not possibly reproduce the defect with this snippet. You would best 
attach the project which contains the class FileUploader (or at least a 
compilable subset)
Found another test case: Class path containers which are explicitely put on 
the bootstrap class path. This is the setup used to put j2ee.jar on the class 
path

Attaching patch...
Created attachment 26369
Patch to correctly handle bootstrap class path entries
Dirk, Markus, can you please cast your vote?
Tobias,

it looks like that classes that are on the boot class path for the project are
passed as normal class path entries to the target VM. Can this cause any problems ?
The only thing that matters is the order on the class path of the secondary 
VM. The appropriate JRE is the only thing which is put on the system class 
path, the rest is put on the user class path in correct order.

The only case where problems could occur are nameclashes with JRE classes.
Fix looks good and solves the problem. Go for 3.1.1.
Fixed in 3.1.1 maintenance branch &gt; 20050823
Fixed in HEAD &gt; 20050824

File bug 107826 for remaining issues and improvements
Markus please set to Verified in M20050831-1200
Hi, im new here. How do I apply this patch in my eclipse ?

tks,
Rafael
You don't need to. This is fixed in Eclipse 3.1.1, 3.1.2 or any version released after 2005 08 24.

You can create a patch in the Team Synchronizing perspective.
You can apply a patch by right clicking on any package in the package explorer -&gt; Team -&gt; Apply Patch...
Hi,
I had the mentioned problem, saw this bug and installed Eclipse 3.1.2, but I still have the problem.

Can anyone tell me, how this can happen?

Thanks
Susanne
Remaining issues have been fixed with bug 107826
Thank you for the hint, Tobias and sorry for bothering you again:

Now I've installed Version 3.2M5. When I choose "Add generated serial Version Id", eclipse only generates "private static final long serialVersionUID = 1L;"

Is it my fault or yours?

Thanks,
Susanne

Does the class to generate an SUID for reference any SWT classes? If yes, we cannot fix this right now, since we are missing information about native libraries on the classpath. If not, please file a new bug report against JDT UI with exact steps to reproduce.
FYI: The problem with SWT (and therefore most Eclipse UI plugins) is bug 127647.
Hi,
I've got the mentioned bug with Eclipse 3.1.2 with the following plugins: CDT, WTP (with prerequisites EMF,GEF,JEM and XSD), ResourceBundleEditor_0.7.2. All plugins except for the last one were downloaded yesterday. The same is for the Eclipse itself. I use JDK 1.5.0.

The problem reliably exists while generating Serial ID for the class:

package performance.monitoringagent.agent;

import java.util.Properties;
import java.io.FileInputStream;
import java.io.IOException;

/**
 * User: Peskovsky
 * Date: 23.01.2006
 * Time: 18:45:15
 */
public class AgentProperties extends Properties {
	public static final String FILENAME = "./agent.properties";

	public static final String LISTENING_PORT = "listeningPort";
	public static final String MEASUREMENTS_GETTING_PERIOD = "measurementsPeriod";
	public static final String HISTORY_PERIOD = "historyPeriod";
	public static final String CONNECTION_ACCEPTING_TIMEOUT = "connectionAcceptingTimeout";
	public static final String MEASUREMENTS_CLEANING_PERIOD = "measurementsCleaningPeriod";
	public static final String MEASUREMENTS_OVERFLOW_CHECK_DELAY = "measurementsOverflowCheckDelay";
	public static final String INTER_REQUESTS_DELAY = "interRequestsDelay";

	private static AgentProperties agentProperties = new AgentProperties();
	static {
		try {
			agentProperties.load(new FileInputStream(FILENAME));
		} catch (IOException e) {
			System.out.println("Error reading agent.properties file.");
			e.printStackTrace();
		}
	}

	public static final String getValue(String property) {
		return AgentProperties.agentProperties.getProperty(property);
	}
}

Thanks for paying attention.
Peter
Sorry, I've not mentioned your last comment.
Please do not comment on already closed bugs, but rather open a new one if the problem has not been fixed in the 3.2 stream.</WithStack>
    <WithOutStack>Hello,

My work environments are like the following.
   Eclipse: 3.1
   J2SDK: j2sdk1.4.2_08
   OS: Windows XP Professional
   Plug-in: MyEclipse, XMLBuddy
   Framworks in the working project: Hibernate 3.0.5, Struts, ...

After newly installing Eclipse 3.1, I imported a project created by earlier 
versions of Eclipse from v2.1. After importing, a list of Problems were 
detected. Many of them were "The serializable class XxxxXxxx does not declare 
serialVersionUID..." in the "Problems" view. 

For the problems, I used the Quick Fix (Cntr-1) menu to "Add generated serial 
version ID." By doing this way, I created many sercialVersionUID for classes 
missing them. But the system got halt when I did the same thing for some 
classes. Those classes are marked with [*] in the list below, as examples.

[*] public class FileUploader extends HttpServlet {...}

[*] public class SysProfileWrapperImpl implements
        ProfileWrapper,
        HttpSessionBindingListener {...}

    public interface ProfileWrapper extends Serializable  {...}

[*] public class TimestampTag extends MyTagSupport {...}

    abstract public class MyTagSupport extends TagSupport {...}


The error message poped up in the [Progress Information] dialog box is 

   +---------------------------------------------------------+
   |     Computing serial version ID...                      |
   |  ||||||||||||||||||||||||||||||||                       |   
   |  Starting virtual machine...                            |
   |                                  [Cancel] [Details &gt;&gt;]  |
   +---------------------------------------------------------+

And it never advanced from a certain point. I clicked the [Cancel] button, and 
the button became disabled. I waited but nothing happened after that. I 
couldn't kill the dialog box and so I could get back to the main eclipse 
window. The [Detail &gt;&gt;] button initially appeared with disabled status.

I hope you may simulate the situation I had and fix the problem whatever the 
solution is...

I thank you very much for providing Elipse, very nice development tool for 
developers like me...

Sincerely,


Yunseuk Kim
Tobias, can you please investigate. Might be a 3.1.1. candidate.
Tagging as 3.1.1. Tobias, can you please investigate and explain how risky a fix
would be. 
Just want to note that I also have this problem - for some classes, quick-fixing
to generate the serial version ID hangs with the same dialog box reported above.

Note that I have MyEclipse installed - the 4.0M2 development release.

(In reply to comment #2)
&gt; Tagging as 3.1.1. Tobias, can you please investigate and explain how risky a fix
&gt; would be. 


Yunseuk or Larry: Could you please attach a code snippet where the defect is 
reproducible?
Tobias: I was kind of busy... Here I attached the code produced the defect. 
Please let me know if you need more info. 

Thanks!

----------------------------------------
package abc.servlet;

import javax.servlet.ServletException;
import javax.servlet.http.HttpServlet;
import javax.servlet.http.HttpServletRequest;
import javax.servlet.http.HttpServletResponse;
...

public class FileUploader extends HttpServlet {

    private static boolean COMPLETED_CLEANING = false;
    
    public FileUploader() {
        super();
    }

    public void destroy() {
        super.destroy();
        ...
    }

    public void doPost(HttpServletRequest request, HttpServletResponse response)
    	...
    }

    public void init() throws ServletException {
    	...
    }
    
    ...

}
----------------------------------------------
I could not possibly reproduce the defect with this snippet. You would best 
attach the project which contains the class FileUploader (or at least a 
compilable subset)
Found another test case: Class path containers which are explicitely put on 
the bootstrap class path. This is the setup used to put j2ee.jar on the class 
path

Attaching patch...
Created attachment 26369
Patch to correctly handle bootstrap class path entries
Dirk, Markus, can you please cast your vote?
Tobias,

it looks like that classes that are on the boot class path for the project are
passed as normal class path entries to the target VM. Can this cause any problems ?
The only thing that matters is the order on the class path of the secondary 
VM. The appropriate JRE is the only thing which is put on the system class 
path, the rest is put on the user class path in correct order.

The only case where problems could occur are nameclashes with JRE classes.
Fix looks good and solves the problem. Go for 3.1.1.
Fixed in 3.1.1 maintenance branch &gt; 20050823
Fixed in HEAD &gt; 20050824

File bug 107826 for remaining issues and improvements
Markus please set to Verified in M20050831-1200
Hi, im new here. How do I apply this patch in my eclipse ?

tks,
Rafael
You don't need to. This is fixed in Eclipse 3.1.1, 3.1.2 or any version released after 2005 08 24.

You can create a patch in the Team Synchronizing perspective.
You can apply a patch by right clicking on any package in the package explorer -&gt; Team -&gt; Apply Patch...
Hi,
I had the mentioned problem, saw this bug and installed Eclipse 3.1.2, but I still have the problem.

Can anyone tell me, how this can happen?

Thanks
Susanne
Remaining issues have been fixed with bug 107826
Thank you for the hint, Tobias and sorry for bothering you again:

Now I've installed Version 3.2M5. When I choose "Add generated serial Version Id", eclipse only generates "private static final long serialVersionUID = 1L;"

Is it my fault or yours?

Thanks,
Susanne

Does the class to generate an SUID for reference any SWT classes? If yes, we cannot fix this right now, since we are missing information about native libraries on the classpath. If not, please file a new bug report against JDT UI with exact steps to reproduce.
FYI: The problem with SWT (and therefore most Eclipse UI plugins) is bug 127647.
Hi,
I've got the mentioned bug with Eclipse 3.1.2 with the following plugins: CDT, WTP (with prerequisites EMF,GEF,JEM and XSD), ResourceBundleEditor_0.7.2. All plugins except for the last one were downloaded yesterday. The same is for the Eclipse itself. I use JDK 1.5.0.

The problem reliably exists while generating Serial ID for the class:

package performance.monitoringagent.agent;

import java.util.Properties;
import java.io.FileInputStream;
import java.io.IOException;

/**
 * User: Peskovsky
 * Date: 23.01.2006
 * Time: 18:45:15
 */
public class AgentProperties extends Properties {
	public static final String FILENAME = "./agent.properties";

	public static final String LISTENING_PORT = "listeningPort";
	public static final String MEASUREMENTS_GETTING_PERIOD = "measurementsPeriod";
	public static final String HISTORY_PERIOD = "historyPeriod";
	public static final String CONNECTION_ACCEPTING_TIMEOUT = "connectionAcceptingTimeout";
	public static final String MEASUREMENTS_CLEANING_PERIOD = "measurementsCleaningPeriod";
	public static final String MEASUREMENTS_OVERFLOW_CHECK_DELAY = "measurementsOverflowCheckDelay";
	public static final String INTER_REQUESTS_DELAY = "interRequestsDelay";

	private static AgentProperties agentProperties = new AgentProperties();
	static {
		try {
			agentProperties.load(new FileInputStream(FILENAME));
		} catch (IOException e) {
			System.out.println("Error reading agent.properties file.");
			e.printStackTrace();
		}
	}

	public static final String getValue(String property) {
		return AgentProperties.agentProperties.getProperty(property);
	}
}

Thanks for paying attention.
Peter
Sorry, I've not mentioned your last comment.
Please do not comment on already closed bugs, but rather open a new one if the problem has not been fixed in the 3.2 stream.</WithOutStack>
  </Bug>
  <Bug>
    <BugId amount="102493" />
    <CreationDate amount="2005-07-01 11:35:00 -0400" />
    <DupId amount="" />
    <classification amount="Tools" />
    <Product amount="AJDT" />
    <component amount="UI" />
    <Version amount="1.2.0" />
    <rep_platform amount="PC" />
    <op_sys amount="Windows XP" />
    <priority amount="P3" />
    <bug_severity amount="normal" />
    <Summery>creating new src folder causes all src folders to be included in active build configuration</Summery>
    <Patches amount="0" />
    <Stacktraces amount="0" />
    <SourceCodeRegions amount="0" />
    <Enumerations amount="0" />
    <bug_status amount="RESOLVED" />
    <resolution amount="FIXED" />
    <WithStack>If you have a project with multiple src folders and in the active build
configuration, one of those source folders is excluded (as in the case of
org.aspectj.ajdt.core). If you create another src folder then all src folders
are included in the active build configuration.
Forgot to say that this is with Eclipse 3.1 and AJDT build: 1.2.1.20050630163114
- I haven't tried it on Eclipse 3.0.
Confirmed on Eclipse 3.0
Fixed</WithStack>
    <WithOutStack>If you have a project with multiple src folders and in the active build
configuration, one of those source folders is excluded (as in the case of
org.aspectj.ajdt.core). If you create another src folder then all src folders
are included in the active build configuration.
Forgot to say that this is with Eclipse 3.1 and AJDT build: 1.2.1.20050630163114
- I haven't tried it on Eclipse 3.0.
Confirmed on Eclipse 3.0
Fixed</WithOutStack>
  </Bug>
  <Bug>
    <BugId amount="102494" />
    <CreationDate amount="2005-07-01 11:38:00 -0400" />
    <DupId amount="" />
    <classification amount="Eclipse" />
    <Product amount="JDT" />
    <component amount="Text" />
    <Version amount="3.1" />
    <rep_platform amount="PC" />
    <op_sys amount="Windows XP" />
    <priority amount="P3" />
    <bug_severity amount="normal" />
    <Summery>[navigation] NPE finding occurences of static initializer</Summery>
    <Patches amount="0" />
    <Stacktraces amount="1">
      <Stacktrace timestamp="1437330551826">
        <Exception>java.lang.NullPointerException</Exception>
        <Reason />
        <Frames>
          <Frame depth="0">org.eclipse.jdt.ui.actions.FindOccurrencesInFileAction.run(FindOccurrencesInFileAction.java:157)</Frame>
          <Frame depth="1">org.eclipse.jdt.ui.actions.SelectionDispatchAction.dispatchRun(SelectionDispatchAction.java:222)</Frame>
          <Frame depth="2">org.eclipse.jdt.ui.actions.SelectionDispatchAction.run(SelectionDispatchAction.java:198)</Frame>
          <Frame depth="3">org.eclipse.jface.action.Action.runWithEvent(Action.java:996)</Frame>
        </Frames>
      </Stacktrace>
    </Stacktraces>
    <SourceCodeRegions amount="1">
      <source_code type="class">
        <location start="433" end="547" />
        <code>public class A {
	{
		System.out.println("Static initializer");
	}
	void foo() {
		Collections.&lt;B&gt;emptySet();
	}
}</code>
      </source_code>
    </SourceCodeRegions>
    <Enumerations amount="1">
      <Enumeration lines="5">
        <Lines>
          <Line>1) Open the type hierarchy of a source class that has a static initializer.</Line>
          <Line />
          <Line>2) In the lower pane of the Hiearchy tab, rightclick on the static initializer</Line>
          <Line>and pick menu item OccurencesInFile&gt;&gt;Identifier.  See this NPE in the Error</Line>
          <Line>Log:</Line>
        </Lines>
      </Enumeration>
    </Enumerations>
    <bug_status amount="VERIFIED" />
    <resolution amount="FIXED" />
    <WithStack>I20050627

Steps:

1) Open the type hierarchy of a source class that has a static initializer.

2) In the lower pane of the Hiearchy tab, rightclick on the static initializer 
and pick menu item OccurencesInFile&gt;&gt;Identifier.  See this NPE in the Error 
Log:

java.lang.NullPointerException
	at org.eclipse.jdt.ui.actions.FindOccurrencesInFileAction.run
(FindOccurrencesInFileAction.java:157)
	at org.eclipse.jdt.ui.actions.SelectionDispatchAction.dispatchRun
(SelectionDispatchAction.java:222)
	at org.eclipse.jdt.ui.actions.SelectionDispatchAction.run
(SelectionDispatchAction.java:198)
	at org.eclipse.jface.action.Action.runWithEvent(Action.java:996)
        ...
Same if static initializer is selected in Outline view.


Backported this one to 3.1.1.
Start verifying...
Test on M20050804-1200 using the follwing test case:

public class A {
	{
		System.out.println("Static initializer");
	}
	void foo() {
		Collections.&lt;B&gt;emptySet();
	}
}

The OccurencesInFile&gt;&gt;Identifier is now disabled which avoids the exception. 

Daniel, please let me know if this is not the expected behaviour.
It is the intended behavior.</WithStack>
    <WithOutStack>I20050627

Steps:

1) Open the type hierarchy of a source class that has a static initializer.

2) In the lower pane of the Hiearchy tab, rightclick on the static initializer 
and pick menu item OccurencesInFile&gt;&gt;Identifier.  See this NPE in the Error 
Log:


        ...
Same if static initializer is selected in Outline view.


Backported this one to 3.1.1.
Start verifying...
Test on M20050804-1200 using the follwing test case:

public class A {
	{
		System.out.println("Static initializer");
	}
	void foo() {
		Collections.&lt;B&gt;emptySet();
	}
}

The OccurencesInFile&gt;&gt;Identifier is now disabled which avoids the exception. 

Daniel, please let me know if this is not the expected behaviour.
It is the intended behavior.</WithOutStack>
  </Bug>
  <Bug>
    <BugId amount="102495" />
    <CreationDate amount="2005-07-01 11:40:00 -0400" />
    <DupId amount="" />
    <classification amount="WebTools" />
    <Product amount="WTP Source Editing" />
    <component amount="jst.jsp" />
    <Version amount="unspecified" />
    <rep_platform amount="PC" />
    <op_sys amount="Windows XP" />
    <priority amount="P2" />
    <bug_severity amount="major" />
    <Summery>JSP Formatter Adds Significant Whitespace</Summery>
    <Patches amount="0" />
    <Stacktraces amount="0" />
    <SourceCodeRegions amount="2">
      <source_code type="class">
        <location start="1790" end="1824" />
        <code>class ThisPage extends ErrorPage
{</code>
      </source_code>
      <source_code type="class">
        <location start="1990" end="2024" />
        <code>class ThisPage extends ErrorPage
{</code>
      </source_code>
    </SourceCodeRegions>
    <Enumerations amount="0" />
    <bug_status amount="CLOSED" />
    <resolution amount="FIXED" />
    <WithStack>In M5, if you have a JSP file that contains, e.g.:

-------------------Begin
Welcome to WTP, &lt;%=message%&gt;!
-------------------End

and you format the document, then you get:

-------------------Begin
Welcome to WTP,
&lt;%=message%&gt;
!
-------------------End

which is wrong because there is now whitespace between &gt;% and !
+1

Please, increase Severity to "mayor". Prevents from using formatter.
ok, just for you Sergey. :) 
I suspect that is more accurate ... but sadly, doubt that will help it get fixed faster (it was already a P2). 


This bug has been open for almost one year. When are you going to assign it to someone?
Is the content surrounding the expression, in your example, HTML, Arthur?

Also, David has been known to fix a bug here and there himeself.
Nitin, Yes, the JSP expression is in a &lt;p&gt; element. The addition of the significant whitespace is a showstopper. I avoid the format command. Too bad since it can make the code more readable. 
Arthur or Sergey, I just tried reproducing this on a recent WTP 2.0 build, and I was not able to see this.  Could you guys confirm if this is still an issue or not?  I just tried creating a new jsp file and putting the following in the body:
&lt;p&gt;Welcome to WTP, &lt;%="message"%&gt;!&lt;/p&gt;

And formatting appeared to leave the jsp expression alone.  If the &lt;p&gt; tags are missing though, then the ! was moved to the line below.
&gt; then the ! was moved to the line below

Well, that'd be wrong, right? We should add a rule in our formatter that if a JSP expression is followed by anything other than whitespace, then we should not add whitespace. 

I have not idea how easy/hard that would be to do, but seems the right conceptual rule. 


Amy,

I have a slight different case:

&lt;%@ page
    isErrorPage = "true"
    import = "java.io.File"
%&gt;&lt;%!
class ThisPage extends ErrorPage
{
...

After applying format command in old version of WTP formatter split "%&gt;&lt;%!" in two lines:

&lt;%@ page
    isErrorPage = "true"
    import = "java.io.File"
%&gt;
&lt;%!
class ThisPage extends ErrorPage
{
...

So formatter adds one more line in front of page:

&lt;empty line&gt;
&lt;HTML&gt;
...

This is wrong and can be source of bugs in some cases, when empty lines are not allowed at the beginning, for example with XML output.

Current M version of WTP doesn't work for me, looking forward for new M build.
Created attachment 64956
jsp.core.jsp.ui.tests.html.core.patch

Fix was in HTMLFormatter canInsertBreakAfter &amp; canInsertBreakBefore.  A check was added so that if there is no whitespace between a text/tag and a jsp tag, then formatter will not add one.  If there was a whitespace, then whitespace can be added.

Also added unit test in jsp.ui.tests to ensure this bug stays fixed.

Also found a bug in JSPTranslationUtil where there was a case where jsp translation was not being found, so added a fix to call ModelHandlerForJSP.ensureTranslationAdapterFactory.
Both Arthur's &amp; Sergey's scenarios should work in this week's wtp 2.0 rc0 ifix build.
verified in wtp2.0 RC0 sdk 200705151648</WithStack>
    <WithOutStack>In M5, if you have a JSP file that contains, e.g.:

-------------------Begin
Welcome to WTP, &lt;%=message%&gt;!
-------------------End

and you format the document, then you get:

-------------------Begin
Welcome to WTP,
&lt;%=message%&gt;
!
-------------------End

which is wrong because there is now whitespace between &gt;% and !
+1

Please, increase Severity to "mayor". Prevents from using formatter.
ok, just for you Sergey. :) 
I suspect that is more accurate ... but sadly, doubt that will help it get fixed faster (it was already a P2). 


This bug has been open for almost one year. When are you going to assign it to someone?
Is the content surrounding the expression, in your example, HTML, Arthur?

Also, David has been known to fix a bug here and there himeself.
Nitin, Yes, the JSP expression is in a &lt;p&gt; element. The addition of the significant whitespace is a showstopper. I avoid the format command. Too bad since it can make the code more readable. 
Arthur or Sergey, I just tried reproducing this on a recent WTP 2.0 build, and I was not able to see this.  Could you guys confirm if this is still an issue or not?  I just tried creating a new jsp file and putting the following in the body:
&lt;p&gt;Welcome to WTP, &lt;%="message"%&gt;!&lt;/p&gt;

And formatting appeared to leave the jsp expression alone.  If the &lt;p&gt; tags are missing though, then the ! was moved to the line below.
&gt; then the ! was moved to the line below

Well, that'd be wrong, right? We should add a rule in our formatter that if a JSP expression is followed by anything other than whitespace, then we should not add whitespace. 

I have not idea how easy/hard that would be to do, but seems the right conceptual rule. 


Amy,

I have a slight different case:

&lt;%@ page
    isErrorPage = "true"
    import = "java.io.File"
%&gt;&lt;%!
class ThisPage extends ErrorPage
{
...

After applying format command in old version of WTP formatter split "%&gt;&lt;%!" in two lines:

&lt;%@ page
    isErrorPage = "true"
    import = "java.io.File"
%&gt;
&lt;%!
class ThisPage extends ErrorPage
{
...

So formatter adds one more line in front of page:

&lt;empty line&gt;
&lt;HTML&gt;
...

This is wrong and can be source of bugs in some cases, when empty lines are not allowed at the beginning, for example with XML output.

Current M version of WTP doesn't work for me, looking forward for new M build.
Created attachment 64956
jsp.core.jsp.ui.tests.html.core.patch

Fix was in HTMLFormatter canInsertBreakAfter &amp; canInsertBreakBefore.  A check was added so that if there is no whitespace between a text/tag and a jsp tag, then formatter will not add one.  If there was a whitespace, then whitespace can be added.

Also added unit test in jsp.ui.tests to ensure this bug stays fixed.

Also found a bug in JSPTranslationUtil where there was a case where jsp translation was not being found, so added a fix to call ModelHandlerForJSP.ensureTranslationAdapterFactory.
Both Arthur's &amp; Sergey's scenarios should work in this week's wtp 2.0 rc0 ifix build.
verified in wtp2.0 RC0 sdk 200705151648</WithOutStack>
  </Bug>
  <Bug>
    <BugId amount="102496" />
    <CreationDate amount="2005-07-01 11:42:00 -0400" />
    <DupId amount="" />
    <classification amount="BIRT" />
    <Product amount="BIRT" />
    <component amount="Report" />
    <Version amount="1.0.0" />
    <rep_platform amount="PC" />
    <op_sys amount="Windows XP" />
    <priority amount="P3" />
    <bug_severity amount="normal" />
    <Summery>onRender of Data item isn't executed</Summery>
    <Patches amount="0" />
    <Stacktraces amount="0" />
    <SourceCodeRegions amount="0" />
    <Enumerations amount="0" />
    <bug_status amount="RESOLVED" />
    <resolution amount="FIXED" />
    <WithStack>The onRender method of a Data item in a report doesn't appear to be called by
BIRT 1.0. Searching on
org.eclipse.birt.report.engine.ir.ReportItemDesign.getOnRender() returns no
references. It appears the onCreate method of the Data item is being
called/executed. The onRender method is displayed in the Designer. I would
prefer to see onRender be called, but as a short term fix remove the onRender
method from the Designer to avoid confusion.
Created attachment 24269
Example report that calls onRender

This is an example report that is using onRender in a Data item
Report Engine plans to support onRender in BIRT 2.0. It is better to remove the
onRender in BIRT 1.0.1 temporarily
The "onRender" has been removed from ReportItem temporarily.
Verified in build 20051220.
OnRender is supported in BIRT 2.0</WithStack>
    <WithOutStack>The onRender method of a Data item in a report doesn't appear to be called by
BIRT 1.0. Searching on
org.eclipse.birt.report.engine.ir.ReportItemDesign.getOnRender() returns no
references. It appears the onCreate method of the Data item is being
called/executed. The onRender method is displayed in the Designer. I would
prefer to see onRender be called, but as a short term fix remove the onRender
method from the Designer to avoid confusion.
Created attachment 24269
Example report that calls onRender

This is an example report that is using onRender in a Data item
Report Engine plans to support onRender in BIRT 2.0. It is better to remove the
onRender in BIRT 1.0.1 temporarily
The "onRender" has been removed from ReportItem temporarily.
Verified in build 20051220.
OnRender is supported in BIRT 2.0</WithOutStack>
  </Bug>
  <Bug>
    <BugId amount="102497" />
    <CreationDate amount="2005-07-01 11:45:00 -0400" />
    <DupId amount="" />
    <classification amount="Eclipse" />
    <Product amount="JDT" />
    <component amount="Core" />
    <Version amount="3.1" />
    <rep_platform amount="PC" />
    <op_sys amount="Windows XP" />
    <priority amount="P3" />
    <bug_severity amount="minor" />
    <Summery>[model] Static initializer not listed for binary class with source.</Summery>
    <Patches amount="0" />
    <Stacktraces amount="0" />
    <SourceCodeRegions amount="0" />
    <Enumerations amount="0" />
    <bug_status amount="RESOLVED" />
    <resolution amount="WONTFIX" />
    <WithStack>Open class java.lang.System in the Java Browsing perspective and see that the 
static initializer isn't listed in the Members tab.
Martin, can you please comment. It isn't listed in Outliner, package explorer
either.
It isn't returned by the Java model. Suggest to move it to core if this is
important.
What is shown in the Outline view is not the outline of the attached source, but the outline of the .class file. However the .class file doesn't contain any information about the static initializer.

To solve this issue, one possibility would be to create a working copy on the .class file (using IClassFile#getWorkingCopy(...)) and have the Outline view show the outline of the working copy. 

Martin, what do you think ?
Couldn't jdt.core automatically use the source if available?
Using the working copy in the editor would introduce new elements that don't exist at other places.
We will have to able to handle them everywhery else (in all actions) and even have to update all other tooling to not use classfile children but go through the working copy. That's not somthing we should start.

i just experienced this bug using 3.3m6 (looking at java.io.Console).

From looking at rt.jar it seems that static initializers are defined in Foo$i.class, just like anonymous inner classes (which are also not shown in the outline of a .class with source attached).

Maybe its possible to include Foo$i.class when creating the model? That way, it would even work without source attachment.
Foo$i.class is present in the model. It is filtered out by default in the Package Explorer. You can disable this filtering using the Package Explorer filter.

No action planned on JDT/Core side.</WithStack>
    <WithOutStack>Open class java.lang.System in the Java Browsing perspective and see that the 
static initializer isn't listed in the Members tab.
Martin, can you please comment. It isn't listed in Outliner, package explorer
either.
It isn't returned by the Java model. Suggest to move it to core if this is
important.
What is shown in the Outline view is not the outline of the attached source, but the outline of the .class file. However the .class file doesn't contain any information about the static initializer.

To solve this issue, one possibility would be to create a working copy on the .class file (using IClassFile#getWorkingCopy(...)) and have the Outline view show the outline of the working copy. 

Martin, what do you think ?
Couldn't jdt.core automatically use the source if available?
Using the working copy in the editor would introduce new elements that don't exist at other places.
We will have to able to handle them everywhery else (in all actions) and even have to update all other tooling to not use classfile children but go through the working copy. That's not somthing we should start.

i just experienced this bug using 3.3m6 (looking at java.io.Console).

From looking at rt.jar it seems that static initializers are defined in Foo$i.class, just like anonymous inner classes (which are also not shown in the outline of a .class with source attached).

Maybe its possible to include Foo$i.class when creating the model? That way, it would even work without source attachment.
Foo$i.class is present in the model. It is filtered out by default in the Package Explorer. You can disable this filtering using the Package Explorer filter.

No action planned on JDT/Core side.</WithOutStack>
  </Bug>
  <Bug>
    <BugId amount="102498" />
    <CreationDate amount="2005-07-01 11:46:00 -0400" />
    <DupId amount="" />
    <classification amount="BIRT" />
    <Product amount="BIRT" />
    <component amount="Data" />
    <Version amount="1.0.0" />
    <rep_platform amount="PC" />
    <op_sys amount="Windows XP" />
    <priority amount="P3" />
    <bug_severity amount="normal" />
    <Summery>Script execution performance problems</Summery>
    <Patches amount="0" />
    <Stacktraces amount="0" />
    <SourceCodeRegions amount="11">
      <source_code type="assignment">
        <location start="3062" end="3085" />
        <code>Object result = null;</code>
      </source_code>
      <source_code type="assignment">
        <location start="3096" end="3155" />
        <code>Script script = (Script) scriptCache.get(scriptText);</code>
      </source_code>
      <source_code type="ifstatement">
        <location start="3156" end="3315" />
        <code>if (script == null)
		    {
		        script = cx.compileString(scriptText, source, lineNo, null);
		        scriptCache.put(scriptText, script);
		    }</code>
      </source_code>
      <source_code type="assignment">
        <location start="3316" end="3354" />
        <code>result = script.exec(cx, scope);</code>
      </source_code>
      <source_code type="singlecomment">
        <location start="3355" end="3430" />
        <code>// result = cx.evaluateString(scope, scriptText, source, lineNo, null);</code>
      </source_code>
      <source_code type="singlecomment">
        <location start="3430" end="3508" />
        <code>// It seems Rhino 1.6 has changed its way to process incorrect expression.</code>
      </source_code>
      <source_code type="singlecomment">
        <location start="3508" end="3592" />
        <code>// When there is an error, exception will not be thrown, but rather an Undefined</code>
      </source_code>
      <source_code type="singlecomment">
        <location start="3592" end="3667" />
        <code>// instance will be returned. Here its return value is changed to null.</code>
      </source_code>
      <source_code type="ifstatement">
        <location start="3667" end="3802" />
        <code>if ( result instanceof Undefined )
			{
				//throw new Exception( scriptText + " is not valid expression." );
				return null;
			}</code>
      </source_code>
      <source_code type="functioncall">
        <location start="3839" end="3898" />
        <code>RethrowJSEvalException( e, scriptText, source, lineNo );</code>
      </source_code>
      <source_code type="functioncall">
        <location start="3903" end="3946" />
        <code>return convertNativeObjToJavaObj(result);</code>
      </source_code>
    </SourceCodeRegions>
    <Enumerations amount="0" />
    <bug_status amount="RESOLVED" />
    <resolution amount="FIXED" />
    <WithStack>While testing the suitability of the BIRT report engine on the IBM iSeries,
unexpectedly poor performance was encountered.  This was especially apparent
with the simple chart example report that is attached to this bug report.  After
doing a bit of profiling using TPTP, the cause became apparent.

The method call stack causing the performance problem is as follows:

org.eclipse.birt.data.engine.executor.CachedResultSet#init
org.eclipse.birt.data.engine.executor.CachedResultSet#copyAndFilterDataRows(Object)
org.eclipse.birt.data.engine.executor.CachedResultSet#processFetchEvent(IResultObject)
org.eclipse.birt.data.engine.impl.FilterByRow#process(IResultObject)
org.eclipse.birt.data.engine.script.ScriptEvalUtil#evalExpr(IBaseExpression,
Context, Scriptable, String, int)
org.eclipse.birt.data.engine.script.ScriptEvalUtil#evaluateJSAsExpr(Context,
Scriptable, String, String, int)
org.eclipse.birt.data.engine.script.ScriptEvalUtil#evaluateJSScript(Context,
Scriptable, String, String, int)
org.mozilla.javascript.Context#evaluateString(Scriptable, String, String, int,
Object)

In this case, Rhino will compile the specified Javascript string into an
optimized Java class that implements that script.  It then runs the compiled
script class and once it is done with the execution, the class instance and
definition is thrown away.  This happens over and over, costing time in the
parsing, class generation and class load.  In the simple (attached) case, there
were only 5 unique scripts that were being run via this method and yet over 500
Javascript implementation classes were generated due to the number of times the
script evaluation code was executed for those scripts.  It is unclear why this
particular path evaluates the string on each call rather than caching the
compiled script results from Rhino and executing the compiled script instead. 
The class org.eclipse.birt.data.engine.impl.CompiledExpression and its
subclasses shows that the BIRT team understands the need for compilation and
reuse in other parts of the system.

There are obviously many approaches that could be used to fix this problem.  The
most architecturally sound approach would be to have the FilterByRow (and more
abstractly, all implementations of
org.eclipse.birt.data.engine.odi.IResultObjectEvent to compile and cache the
necessary script object rather than always evaluating the string.  It is unclear
to us with our limited knowledge of the code just how widespread this problem is
within the BIRT codebase and therefore how much work this would be to implement.
 A simpler, less elegant, solution would be to build a Least Recently Used cache
into ScriptEvalUtil to cache the recent script evaluations based on the text of
the script.

To test the performance improvement gained by caching the compiled script, a
naive change was made to the evaluateJSScript method to compile and cache the
string to be evaluated:

	private static Object evaluateJSScript(Context cx, Scriptable scope,
			String scriptText, String source, int lineNo)
			throws DataException 
	{
		Object result = null;
		try
		{
		    Script script = (Script) scriptCache.get(scriptText);
		    if (script == null)
		    {
		        script = cx.compileString(scriptText, source, lineNo, null);
		        scriptCache.put(scriptText, script);
		    }
		    result = script.exec(cx, scope);
			// result = cx.evaluateString(scope, scriptText, source, lineNo, null);
			// It seems Rhino 1.6 has changed its way to process incorrect expression.
			// When there is an error, exception will not be thrown, but rather an Undefined
			// instance will be returned. Here its return value is changed to null.
			if ( result instanceof Undefined )
			{
				//throw new Exception( scriptText + " is not valid expression." );
				return null;
			}
		}
		catch ( RhinoException e)
		{
			RethrowJSEvalException( e, scriptText, source, lineNo );
		}
		return convertNativeObjToJavaObj(result);
	}

This change showed significant improvement on the attached report rendering 
(times in minutes/seconds):

		Windows (1.3Ghz)	Windows			iSeries				iSeries
		without change		with change		without change		with change
First	0:14				0:08			1:28				0:42
Load

Reload	0:04				0:02			0:35				0:05

As you can see, this had a huge impact on both the first touch render of the
chart as well as the reload of the report.  This naive implementation does not
take into account the fact that there may be an ever-growing script cache, but
does prove that caching the results using LRU or similar will have a significant
positive impact.

Please do whatever you possibly can to get a performance fix in place for 1.0.1.
 If it is not possible to do the most architecturally sound approach in that
timeframe, an LRU cache would be a good second choice.  If there is anything
more that we can do to see these changes implemented, please let us know.
Created attachment 24270
Simple chart report that was used in testing
Thanks for Craig's investigation and proposed solution.
Verified in the build 20051220</WithStack>
    <WithOutStack>While testing the suitability of the BIRT report engine on the IBM iSeries,
unexpectedly poor performance was encountered.  This was especially apparent
with the simple chart example report that is attached to this bug report.  After
doing a bit of profiling using TPTP, the cause became apparent.

The method call stack causing the performance problem is as follows:

org.eclipse.birt.data.engine.executor.CachedResultSet#init
org.eclipse.birt.data.engine.executor.CachedResultSet#copyAndFilterDataRows(Object)
org.eclipse.birt.data.engine.executor.CachedResultSet#processFetchEvent(IResultObject)
org.eclipse.birt.data.engine.impl.FilterByRow#process(IResultObject)
org.eclipse.birt.data.engine.script.ScriptEvalUtil#evalExpr(IBaseExpression,
Context, Scriptable, String, int)
org.eclipse.birt.data.engine.script.ScriptEvalUtil#evaluateJSAsExpr(Context,
Scriptable, String, String, int)
org.eclipse.birt.data.engine.script.ScriptEvalUtil#evaluateJSScript(Context,
Scriptable, String, String, int)
org.mozilla.javascript.Context#evaluateString(Scriptable, String, String, int,
Object)

In this case, Rhino will compile the specified Javascript string into an
optimized Java class that implements that script.  It then runs the compiled
script class and once it is done with the execution, the class instance and
definition is thrown away.  This happens over and over, costing time in the
parsing, class generation and class load.  In the simple (attached) case, there
were only 5 unique scripts that were being run via this method and yet over 500
Javascript implementation classes were generated due to the number of times the
script evaluation code was executed for those scripts.  It is unclear why this
particular path evaluates the string on each call rather than caching the
compiled script results from Rhino and executing the compiled script instead. 
The class org.eclipse.birt.data.engine.impl.CompiledExpression and its
subclasses shows that the BIRT team understands the need for compilation and
reuse in other parts of the system.

There are obviously many approaches that could be used to fix this problem.  The
most architecturally sound approach would be to have the FilterByRow (and more
abstractly, all implementations of
org.eclipse.birt.data.engine.odi.IResultObjectEvent to compile and cache the
necessary script object rather than always evaluating the string.  It is unclear
to us with our limited knowledge of the code just how widespread this problem is
within the BIRT codebase and therefore how much work this would be to implement.
 A simpler, less elegant, solution would be to build a Least Recently Used cache
into ScriptEvalUtil to cache the recent script evaluations based on the text of
the script.

To test the performance improvement gained by caching the compiled script, a
naive change was made to the evaluateJSScript method to compile and cache the
string to be evaluated:

	private static Object evaluateJSScript(Context cx, Scriptable scope,
			String scriptText, String source, int lineNo)
			throws DataException 
	{
		Object result = null;
		try
		{
		    Script script = (Script) scriptCache.get(scriptText);
		    if (script == null)
		    {
		        script = cx.compileString(scriptText, source, lineNo, null);
		        scriptCache.put(scriptText, script);
		    }
		    result = script.exec(cx, scope);
			// result = cx.evaluateString(scope, scriptText, source, lineNo, null);
			// It seems Rhino 1.6 has changed its way to process incorrect expression.
			// When there is an error, exception will not be thrown, but rather an Undefined
			// instance will be returned. Here its return value is changed to null.
			if ( result instanceof Undefined )
			{
				//throw new Exception( scriptText + " is not valid expression." );
				return null;
			}
		}
		catch ( RhinoException e)
		{
			RethrowJSEvalException( e, scriptText, source, lineNo );
		}
		return convertNativeObjToJavaObj(result);
	}

This change showed significant improvement on the attached report rendering 
(times in minutes/seconds):

		Windows (1.3Ghz)	Windows			iSeries				iSeries
		without change		with change		without change		with change
First	0:14				0:08			1:28				0:42
Load

Reload	0:04				0:02			0:35				0:05

As you can see, this had a huge impact on both the first touch render of the
chart as well as the reload of the report.  This naive implementation does not
take into account the fact that there may be an ever-growing script cache, but
does prove that caching the results using LRU or similar will have a significant
positive impact.

Please do whatever you possibly can to get a performance fix in place for 1.0.1.
 If it is not possible to do the most architecturally sound approach in that
timeframe, an LRU cache would be a good second choice.  If there is anything
more that we can do to see these changes implemented, please let us know.
Created attachment 24270
Simple chart report that was used in testing
Thanks for Craig's investigation and proposed solution.
Verified in the build 20051220</WithOutStack>
  </Bug>
  <Bug>
    <BugId amount="102499" />
    <CreationDate amount="2005-07-01 12:11:00 -0400" />
    <DupId amount="" />
    <classification amount="WebTools" />
    <Product amount="WTP Java EE Tools" />
    <component amount="jst.j2ee" />
    <Version amount="0.7" />
    <rep_platform amount="PC" />
    <op_sys amount="Windows 2000" />
    <priority amount="P3" />
    <bug_severity amount="normal" />
    <Summery>Additional generic servers will only use the default values for input parameters</Summery>
    <Patches amount="0" />
    <Stacktraces amount="0" />
    <SourceCodeRegions amount="0" />
    <Enumerations amount="0" />
    <bug_status amount="CLOSED" />
    <resolution amount="WORKSFORME" />
    <WithStack>Do the following to reproduce:

create JBoss minimal config, start (this creates a launcher with a "-c minimal"
argument), stop, delete

create JBoss all config, start; The launcher that will be created will not use
the  all configuration, as entered, but fall back to the default ("-c default").
I am testing with the WTP M5 and JBoss 3.2.2 and I could not reproduce yet. What
is the WTP version you have seen this behaviour.
I think I used the last integration before M5 - but I cannot reproduce it
anymore right now. It might have had to do with me adding my own generic server
definition plugin, I am not sure. 
closing</WithStack>
    <WithOutStack>Do the following to reproduce:

create JBoss minimal config, start (this creates a launcher with a "-c minimal"
argument), stop, delete

create JBoss all config, start; The launcher that will be created will not use
the  all configuration, as entered, but fall back to the default ("-c default").
I am testing with the WTP M5 and JBoss 3.2.2 and I could not reproduce yet. What
is the WTP version you have seen this behaviour.
I think I used the last integration before M5 - but I cannot reproduce it
anymore right now. It might have had to do with me adding my own generic server
definition plugin, I am not sure. 
closing</WithOutStack>
  </Bug>
  <Bug>
    <BugId amount="102500" />
    <CreationDate amount="2005-07-01 12:29:00 -0400" />
    <DupId amount="92538" />
    <classification amount="Eclipse Foundation" />
    <Product amount="z_Archived" />
    <component amount="WTP Datatools" />
    <Version amount="unspecified" />
    <rep_platform amount="PC" />
    <op_sys amount="Windows XP" />
    <priority amount="P3" />
    <bug_severity amount="normal" />
    <Summery>Text Decorations Appear Twice in Database Server Explorer</Summery>
    <Patches amount="0" />
    <Stacktraces amount="0" />
    <SourceCodeRegions amount="0" />
    <Enumerations amount="0" />
    <bug_status amount="CLOSED" />
    <resolution amount="DUPLICATE" />
    <WithStack>All text is repeated, e.g. my connection says [Derby 10.0][Derby 10.0], my 
table columns say [CHAR(8)PK][CHAR(8)PK].
Created attachment 24273
Server Explorer with Text Decorations Repeated Twice

This screen shot shows the doubled text decorations.
Arthur,

Good catch! We filed a defect against navigator framework with J2EE.

Der Ping

*** This bug has been marked as a duplicate of 92538 ***
OK.
This is part of a mass update to close out all stale WTP defects already verified by the reporter but awaiting closure by the assignee.  If you feel this defect was closed inappropriately, please reopen.

Thanks, John Lanuti</WithStack>
    <WithOutStack>All text is repeated, e.g. my connection says [Derby 10.0][Derby 10.0], my 
table columns say [CHAR(8)PK][CHAR(8)PK].
Created attachment 24273
Server Explorer with Text Decorations Repeated Twice

This screen shot shows the doubled text decorations.
Arthur,

Good catch! We filed a defect against navigator framework with J2EE.

Der Ping

*** This bug has been marked as a duplicate of 92538 ***
OK.
This is part of a mass update to close out all stale WTP defects already verified by the reporter but awaiting closure by the assignee.  If you feel this defect was closed inappropriately, please reopen.

Thanks, John Lanuti</WithOutStack>
  </Bug>
</infozilla-output>

