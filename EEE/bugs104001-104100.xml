<?xml version="1.0" encoding="UTF-8"?>
<infozilla-output>
  <Bug>
    <BugId amount="104001" />
    <CreationDate amount="2005-07-15 09:45:00 -0400" />
    <DupId amount="" />
    <classification amount="WebTools" />
    <Product amount="WTP Source Editing" />
    <component amount="wst.xml" />
    <Version amount="0.7" />
    <rep_platform amount="PC" />
    <op_sys amount="Windows XP" />
    <priority amount="P2" />
    <bug_severity amount="enhancement" />
    <Summery>[XML Catalog] Need to support catalog entries that specify 'baseName' as the key</Summery>
    <Patches amount="0" />
    <Stacktraces amount="0" />
    <SourceCodeRegions amount="0" />
    <Enumerations amount="0" />
    <bug_status amount="CLOSED" />
    <resolution amount="FIXED" />
    <WithStack>In the XML Catalog I added a user entry for a dtd with these values:

URI:   		platform:/resource/TIPD-EclipseEnv/config/prod/rootcfg.dtd
Key Type:	System ID
Key:		rootcfg.dtd

Then I refer in an XML file to this DTD like this:

&lt;?xml version="1.0" encoding="ISO-8859-1" ?&gt;
&lt;!DOCTYPE root SYSTEM "rootcfg.dtd"&gt;

but code assist does not work at all (only inferred code assist).

With WTP M4 this worked fine, but with WTP M5 and also WTP 0.7RC1 this does not
work.
Hanspeter, can you attach your DTD? Or one that would illustrate the problem? 
I'm wondering if related to some of the other problems in this area, such as 
one discussed in bug 96155?

Craig, can you please test this case as you fix related bugs?

Created attachment 24897
The DTD used 

As I mentioned before, the same DTD worked with Eclipse 3.1M7 in combination
with WTP 1.0M4 using the same aproach with an XML Catalog entry referring to
it.
Currently relative file names are not supported as a 'key' in the XML Catalog. 
This is because URIs are expanded before that are compared to the catalog
entries (in accordance with the OASIS XML Catalog 1.0 spec).

Note however that if the 'key' is a fully qualified URI such as this..

&lt;!DOCTYPE root SYSTEM "http://www.example.com/rootcfg.dtd"&gt;

then you can specify an XML Catalog entry using
"http://www.example.com/rootcfg.dtd" as the key.

In the latest OASIS XML Catalog 1.1 spec an additional capability has been
introduced to provide for 'suffix matching' in which case you could specify a
catalog entry that would match any URI that ended with 'rootcfg.dtd'.  We don't
currently support the 1.1 spec, but I'm open to a feature request to add this
support.

 
Why does/did it work with WTP 1.0M4 but is now not supported by WTP 0.7RC1? Am 
I due to stick with WTP 1.0M4 because there it works?

I would like to have that "suffix matching" according to OASIS XML Catalog 1.1 
spec be supported but I think I cannot place the "change request" for that.

But somehow WTP now is inconsistent - it allows to enter such entries in the 
XML Catalog - but they will be unusable:

URI:   		platform:/resource/TIPD-EclipseEnv/config/prod/rootcfg.dtd
Key Type:	System ID
Key:		rootcfg.dtd

In the XML Edit "Design" view then I can edit the DOCTYPE and select that user 
entry from the XML Catalog. All fine - I would think, but code assist does not 
work. I think either this kind of entry is not allowed or should be supported 
also in code assist.



This support can be achieved in a 'standards compliant' way by supporting the
OASIS XML Catalog 1.1 specification.
Craig, I'm changing back to bug status as 'normal', since, if I understand this
right, that's how Hanspeter entered it and our WTP/Eclispe convention is to let
originator's set the bug/severity/enhancement setting except in rare
circumstances. [And, apologies to you both if you've already discussed and in
agreement about it being an enhancement instead]. 

And, I think, Hanspeter makes some argument for considering it a bug ..
definitely not "working as expected". [Although, Hanspeter, its not really
because it used to work that way in M4 ... you have to allow that in a
pre-released product there is going to be some changes]. 

But, to me, the "bug" seem to be that a user could use the instance document,
and its doctype as it is if the DTD existed in the workspace, in the same
directory as the instance document ... and then, just because they want to
"move" the dtd to the catalog, their instance document no longer "works" and
would have to be changed? That doesn't seem quite right (certainly not as
expected). 

Hanspeter (and/or Craig) is a more appropriate work-around -- if not outright
good-xml-practice "requirement" -- is that if someone wants to do this sort of
thing without specifing a full URL in their instance document's SYSTEM (since,
presumably, that could be invalid in other locations the document was used) to
specify a PUBLIC part of the doctype, and then use that PUBLIC part in their
instance document AND in their catalog entry? [Of course, that would also be
invalid elsewhere, but sort of invalid in the expected way, I'd think, ... not
just "not found" ... but just "unknown". 

Hope this convoluted ramble makes sense and is helpful. 



Hello. When having te DhTD in the same location as the XML-file, code assist 
works. when I move the DTD to another location and define it in the XML 
Catalog , code assist does no longer work.

For me it is a bug (it does not work as I expect) - but for you this might be 
an enhancement - I don't care how this issue is handled as long as it will work 
in a future version.

Ok, I tried using a public id with a full URL - then when I create a new XML 
file using the Wizard, the encoding always has a "null" value instead of "UTF-
8" or "ISO-8859-1" - making the file invalid for the editors. And that I think 
is definitely a BUG.


Ok, thanks Hanspeter, I will (re) mark as enhancemnent, given your comment #7. 

I did "test" with the "Invoice example", which uses 
&lt;!DOCTYPE Invoice PUBLIC "InvoiceId" "Invoice.dtd" &gt;

I moved the Invoice.dtd to the file system, and deleted it from the sample
project, and then defined a catalog entry that used a publicid of "InvoiceId"
and it worked quite nicely. As I *think* this is the more standard way of
declaring and coordinating doctypes and cataloged dtd's, I'd encourage you to
try that out. 

I'm not sure why you are seeing the 'null' from the encoding value in the new
file templates ... if you see with a recent build (e.g. RC3 or release 0.7, then
that sounds worthy of a new bug report. 

*** Bug 118690 has been marked as a duplicate of this bug. ***
*** Bug 85221 has been marked as a duplicate of this bug. ***
*** Bug 147444 has been marked as a duplicate of this bug. ***
*** Bug 158824 has been marked as a duplicate of this bug. ***
It's an interesting idea, but we don't have people to work on this just now.  We would accept high quality patches, though.

Comments on this bug:

Yes, one good way of doing this is by using a publicId entry as David suggests.

Another good way is to use systemSuffix matching. This is implemeted in the patch for bug 112284, but will have to be specified manually in a catalog file which is then linked. The UI for making this work is suggested in bug 273402.
This bug should be closed with the release of Helios, since we support suffix entries now in the UI as well as in the resolution. I just tested this exact scenario, and it really works :-)

I know it's been a few years, but can the original bug author please verify?
I (the original author) tested it also a little ans I think this issue is fixed well with support in catalog and UI. 

Thanks everybody.
Great - resolved, then
Marked as closed in 3.2.</WithStack>
    <WithOutStack>In the XML Catalog I added a user entry for a dtd with these values:

URI:   		platform:/resource/TIPD-EclipseEnv/config/prod/rootcfg.dtd
Key Type:	System ID
Key:		rootcfg.dtd

Then I refer in an XML file to this DTD like this:

&lt;?xml version="1.0" encoding="ISO-8859-1" ?&gt;
&lt;!DOCTYPE root SYSTEM "rootcfg.dtd"&gt;

but code assist does not work at all (only inferred code assist).

With WTP M4 this worked fine, but with WTP M5 and also WTP 0.7RC1 this does not
work.
Hanspeter, can you attach your DTD? Or one that would illustrate the problem? 
I'm wondering if related to some of the other problems in this area, such as 
one discussed in bug 96155?

Craig, can you please test this case as you fix related bugs?

Created attachment 24897
The DTD used 

As I mentioned before, the same DTD worked with Eclipse 3.1M7 in combination
with WTP 1.0M4 using the same aproach with an XML Catalog entry referring to
it.
Currently relative file names are not supported as a 'key' in the XML Catalog. 
This is because URIs are expanded before that are compared to the catalog
entries (in accordance with the OASIS XML Catalog 1.0 spec).

Note however that if the 'key' is a fully qualified URI such as this..

&lt;!DOCTYPE root SYSTEM "http://www.example.com/rootcfg.dtd"&gt;

then you can specify an XML Catalog entry using
"http://www.example.com/rootcfg.dtd" as the key.

In the latest OASIS XML Catalog 1.1 spec an additional capability has been
introduced to provide for 'suffix matching' in which case you could specify a
catalog entry that would match any URI that ended with 'rootcfg.dtd'.  We don't
currently support the 1.1 spec, but I'm open to a feature request to add this
support.

 
Why does/did it work with WTP 1.0M4 but is now not supported by WTP 0.7RC1? Am 
I due to stick with WTP 1.0M4 because there it works?

I would like to have that "suffix matching" according to OASIS XML Catalog 1.1 
spec be supported but I think I cannot place the "change request" for that.

But somehow WTP now is inconsistent - it allows to enter such entries in the 
XML Catalog - but they will be unusable:

URI:   		platform:/resource/TIPD-EclipseEnv/config/prod/rootcfg.dtd
Key Type:	System ID
Key:		rootcfg.dtd

In the XML Edit "Design" view then I can edit the DOCTYPE and select that user 
entry from the XML Catalog. All fine - I would think, but code assist does not 
work. I think either this kind of entry is not allowed or should be supported 
also in code assist.



This support can be achieved in a 'standards compliant' way by supporting the
OASIS XML Catalog 1.1 specification.
Craig, I'm changing back to bug status as 'normal', since, if I understand this
right, that's how Hanspeter entered it and our WTP/Eclispe convention is to let
originator's set the bug/severity/enhancement setting except in rare
circumstances. [And, apologies to you both if you've already discussed and in
agreement about it being an enhancement instead]. 

And, I think, Hanspeter makes some argument for considering it a bug ..
definitely not "working as expected". [Although, Hanspeter, its not really
because it used to work that way in M4 ... you have to allow that in a
pre-released product there is going to be some changes]. 

But, to me, the "bug" seem to be that a user could use the instance document,
and its doctype as it is if the DTD existed in the workspace, in the same
directory as the instance document ... and then, just because they want to
"move" the dtd to the catalog, their instance document no longer "works" and
would have to be changed? That doesn't seem quite right (certainly not as
expected). 

Hanspeter (and/or Craig) is a more appropriate work-around -- if not outright
good-xml-practice "requirement" -- is that if someone wants to do this sort of
thing without specifing a full URL in their instance document's SYSTEM (since,
presumably, that could be invalid in other locations the document was used) to
specify a PUBLIC part of the doctype, and then use that PUBLIC part in their
instance document AND in their catalog entry? [Of course, that would also be
invalid elsewhere, but sort of invalid in the expected way, I'd think, ... not
just "not found" ... but just "unknown". 

Hope this convoluted ramble makes sense and is helpful. 



Hello. When having te DhTD in the same location as the XML-file, code assist 
works. when I move the DTD to another location and define it in the XML 
Catalog , code assist does no longer work.

For me it is a bug (it does not work as I expect) - but for you this might be 
an enhancement - I don't care how this issue is handled as long as it will work 
in a future version.

Ok, I tried using a public id with a full URL - then when I create a new XML 
file using the Wizard, the encoding always has a "null" value instead of "UTF-
8" or "ISO-8859-1" - making the file invalid for the editors. And that I think 
is definitely a BUG.


Ok, thanks Hanspeter, I will (re) mark as enhancemnent, given your comment #7. 

I did "test" with the "Invoice example", which uses 
&lt;!DOCTYPE Invoice PUBLIC "InvoiceId" "Invoice.dtd" &gt;

I moved the Invoice.dtd to the file system, and deleted it from the sample
project, and then defined a catalog entry that used a publicid of "InvoiceId"
and it worked quite nicely. As I *think* this is the more standard way of
declaring and coordinating doctypes and cataloged dtd's, I'd encourage you to
try that out. 

I'm not sure why you are seeing the 'null' from the encoding value in the new
file templates ... if you see with a recent build (e.g. RC3 or release 0.7, then
that sounds worthy of a new bug report. 

*** Bug 118690 has been marked as a duplicate of this bug. ***
*** Bug 85221 has been marked as a duplicate of this bug. ***
*** Bug 147444 has been marked as a duplicate of this bug. ***
*** Bug 158824 has been marked as a duplicate of this bug. ***
It's an interesting idea, but we don't have people to work on this just now.  We would accept high quality patches, though.

Comments on this bug:

Yes, one good way of doing this is by using a publicId entry as David suggests.

Another good way is to use systemSuffix matching. This is implemeted in the patch for bug 112284, but will have to be specified manually in a catalog file which is then linked. The UI for making this work is suggested in bug 273402.
This bug should be closed with the release of Helios, since we support suffix entries now in the UI as well as in the resolution. I just tested this exact scenario, and it really works :-)

I know it's been a few years, but can the original bug author please verify?
I (the original author) tested it also a little ans I think this issue is fixed well with support in catalog and UI. 

Thanks everybody.
Great - resolved, then
Marked as closed in 3.2.</WithOutStack>
  </Bug>
  <Bug>
    <BugId amount="104002" />
    <CreationDate amount="2005-07-15 09:54:00 -0400" />
    <DupId amount="" />
    <classification amount="Eclipse" />
    <Product amount="Platform" />
    <component amount="User Assistance" />
    <Version amount="3.1" />
    <rep_platform amount="PC" />
    <op_sys amount="Windows XP" />
    <priority amount="P3" />
    <bug_severity amount="normal" />
    <Summery>[Forms] FormEditor addPage(IFormPage) adds null object</Summery>
    <Patches amount="0" />
    <Stacktraces amount="1">
      <Stacktrace timestamp="1437330556491">
        <Exception>org.eclipse.ui.internal.misc.AssertionFailedException</Exception>
        <Reason>null argument;</Reason>
        <Frames>
          <Frame depth="0">org.eclipse.ui.internal.misc.Assert.isNotNull(Assert.java:81)</Frame>
          <Frame depth="1">org.eclipse.ui.internal.misc.Assert.isNotNull(Assert.java:68)</Frame>
          <Frame depth="2">org.eclipse.ui.internal.PartTester.testWorkbenchPart(PartTester.java:101)</Frame>
          <Frame depth="3">org.eclipse.ui.internal.PartTester.testEditor(PartTester.java:37)</Frame>
          <Frame depth="4">org.eclipse.ui.internal.EditorReference.createPartHelper(EditorReference.java:595)</Frame>
          <Frame depth="5">org.eclipse.ui.internal.EditorReference.createPart(EditorReference.java:365)</Frame>
          <Frame depth="6">org.eclipse.ui.internal.WorkbenchPartReference.getPart(WorkbenchPartReference.java:552)</Frame>
          <Frame depth="7">org.eclipse.ui.internal.PartPane.setVisible(PartPane.java:283)</Frame>
          <Frame depth="8">org.eclipse.ui.internal.presentations.PresentablePart.setVisible(PresentablePart.java:126)</Frame>
          <Frame depth="9">org.eclipse.ui.internal.presentations.util.PresentablePartFolder.select(PresentablePartFolder.java:268)</Frame>
          <Frame depth="10">org.eclipse.ui.internal.presentations.util.LeftToRightTabOrder.select(LeftToRightTabOrder.java:65)</Frame>
          <Frame depth="11">org.eclipse.ui.internal.presentations.util.TabbedStackPresentation.selectPart(TabbedStackPresentation.java:391)</Frame>
        </Frames>
      </Stacktrace>
    </Stacktraces>
    <SourceCodeRegions amount="6">
      <source_code type="functiondef">
        <location start="1129" end="1275" />
        <code>public int addPage(IFormPage page) throws PartInitException {
	int i = super.addPage(page.getPartControl());
	configurePage(i, page);
	return i;
}</code>
      </source_code>
      <source_code type="functiondef">
        <location start="1607" end="1784" />
        <code>&gt; public int addPage(IFormPage page) throws PartInitException {
&gt;         int i = super.addPage(page.getPartControl());
&gt;         configurePage(i, page);
&gt;         return i;
&gt; }</code>
      </source_code>
      <source_code type="functiondef">
        <location start="2130" end="2307" />
        <code>&gt; public int addPage(IFormPage page) throws PartInitException {
&gt;         int i = super.addPage(page.getPartControl());
&gt;         configurePage(i, page);
&gt;         return i;
&gt; }</code>
      </source_code>
      <source_code type="functiondef">
        <location start="2497" end="2914" />
        <code>protected void addPages() {
        try {
            /* MAGIC CODE START */   
           this.createPartControl(this.getContainer());
            /* MAGIC CODE END */   
            super.addPage(MyPage(this,"OK","My Title") ,super.getEditorInput());            
            
        } catch (PartInitException e) {
            // TODO Auto-generated catch block
            e.printStackTrace();
        }
    }</code>
      </source_code>
      <source_code type="functiondef">
        <location start="3131" end="3386" />
        <code>protected void createFormContent(IManagedForm managedForm) {
		ScrolledForm form = managedForm.getForm();
		form.setText(getTitle());
		form.getBody().setLayout(new GridLayout());
		managedForm.getToolkit().createLabel( form.getBody(), "Test Label" );
	}</code>
      </source_code>
      <source_code type="functiondef">
        <location start="3843" end="3941" />
        <code>for (FormPage page : (Vector&lt;FormPage&gt;)pages) {
	if (page != null) {
		page.doSave(_monitor);
	}
}</code>
      </source_code>
    </SourceCodeRegions>
    <Enumerations amount="0" />
    <bug_status amount="NEW" />
    <resolution amount="" />
    <WithStack>I am not sure if this is related to bug 53657 or not, but this worked just fine
in 3.0.x and now does not. 

The first time I call addPage(FormPage) on the editor a null object is first
added to the pages attribute and then the page is added.  So after the call the
pages.size() now returns 2 instead of 1 as expected.  Adding additional pages
only increments the size of the pages vector by one as expected.  However, now
since the size is off by one and there is a null object in that slot, I get the
following when attempting to open a FormEditor:

org.eclipse.ui.internal.misc.AssertionFailedException: null argument;
	at org.eclipse.ui.internal.misc.Assert.isNotNull(Assert.java:81)
	at org.eclipse.ui.internal.misc.Assert.isNotNull(Assert.java:68)
	at org.eclipse.ui.internal.PartTester.testWorkbenchPart(PartTester.java:101)
	at org.eclipse.ui.internal.PartTester.testEditor(PartTester.java:37)
	at
org.eclipse.ui.internal.EditorReference.createPartHelper(EditorReference.java:595)
	at org.eclipse.ui.internal.EditorReference.createPart(EditorReference.java:365)
	at
org.eclipse.ui.internal.WorkbenchPartReference.getPart(WorkbenchPartReference.java:552)
	at org.eclipse.ui.internal.PartPane.setVisible(PartPane.java:283)
	at
org.eclipse.ui.internal.presentations.PresentablePart.setVisible(PresentablePart.java:126)
	at
org.eclipse.ui.internal.presentations.util.PresentablePartFolder.select(PresentablePartFolder.java:268)
	at
org.eclipse.ui.internal.presentations.util.LeftToRightTabOrder.select(LeftToRightTabOrder.java:65)
	at
org.eclipse.ui.internal.presentations.util.TabbedStackPresentation.selectPart(TabbedStackPresentation.java:391)
[snip]

Upon inspecting the FormEditor source I noticed there is an addition in
registerPage(int, Object) that seems to be introducing the extra null object in
the pages vector.

I will attached a zip that contains an exported plugin that demonstrates the
problem.  If you set a breakpoint at line 13 in MyFormEditor and step over it
the first time, you will notice that the pages vector now stands at a size of 2.
Created attachment 24838
Sample Plugin
It seems as if the call of page.getPartControl() in the method FormEditor.addPage() causes the insertion of null:

&lt;code&gt;
public int addPage(IFormPage page) throws PartInitException {
	int i = super.addPage(page.getPartControl());
	configurePage(i, page);
	return i;
}
&lt;/code&gt;

The FormPage.getPartControl() returns the FormPage's ManagedForm, which is not yet created when FormEditor.addPages() and FormEditor.addPage() respectively is called.
(In reply to comment #2)
&gt; It seems as if the call of page.getPartControl() in the method
&gt; FormEditor.addPage() causes the insertion of null:
&gt; 
&gt; &lt;code&gt;
&gt; public int addPage(IFormPage page) throws PartInitException {
&gt;         int i = super.addPage(page.getPartControl());
&gt;         configurePage(i, page);
&gt;         return i;
&gt; }
&gt; &lt;/code&gt;
&gt; 
&gt; The FormPage.getPartControl() returns the FormPage's ManagedForm, which is not
&gt; yet created when FormEditor.addPages() and FormEditor.addPage() respectively is
&gt; called.
&gt; 

(In reply to comment #2)
&gt; It seems as if the call of page.getPartControl() in the method
&gt; FormEditor.addPage() causes the insertion of null:
&gt; 
&gt; &lt;code&gt;
&gt; public int addPage(IFormPage page) throws PartInitException {
&gt;         int i = super.addPage(page.getPartControl());
&gt;         configurePage(i, page);
&gt;         return i;
&gt; }
&gt; &lt;/code&gt;
&gt; 
&gt; The FormPage.getPartControl() returns the FormPage's ManagedForm, which is not
&gt; yet created when FormEditor.addPages() and FormEditor.addPage() respectively is
&gt; called.
&gt; 
    protected void addPages() {
        try {
            /* MAGIC CODE START */   
           this.createPartControl(this.getContainer());
            /* MAGIC CODE END */   
            super.addPage(MyPage(this,"OK","My Title") ,super.getEditorInput());            
            
        } catch (PartInitException e) {
            // TODO Auto-generated catch block
            e.printStackTrace();
        }
    }


When I added the "magic code section", the assertion error disappeared. The editor appears but contains no pages. 
The attached plug-in works when tested with RC1. I needed to modify MyFormPage.java a bit though:

	protected void createFormContent(IManagedForm managedForm) {
		ScrolledForm form = managedForm.getForm();
		form.setText(getTitle());
		form.getBody().setLayout(new GridLayout());
		managedForm.getToolkit().createLabel( form.getBody(), "Test Label" );
	}	

With this change, all three pages have titles and the label shows up.
A problem with addPage(IFormPage) in 3.3M6 is that it assumes the control was already created, which is not the case with lazily created page controls.
The problem still seems to persist in 3.4. After adding the first page, the pages array contains a null element.
Apart from that, everything works fine, it just causes a slight uglyness when iterating over the array during doSave:

for (FormPage page : (Vector&lt;FormPage&gt;)pages) {
	if (page != null) {
		page.doSave(_monitor);
	}
}
Just bumped in this old bug and I was curious if there are plans do resolve it or this won´t be fixed at all...

Im using 4.3.2.M20140221-1700 and was surprised to see that this bug was reported back in 2005.

Tks</WithStack>
    <WithOutStack>I am not sure if this is related to bug 53657 or not, but this worked just fine
in 3.0.x and now does not. 

The first time I call addPage(FormPage) on the editor a null object is first
added to the pages attribute and then the page is added.  So after the call the
pages.size() now returns 2 instead of 1 as expected.  Adding additional pages
only increments the size of the pages vector by one as expected.  However, now
since the size is off by one and there is a null object in that slot, I get the
following when attempting to open a FormEditor:


[snip]

Upon inspecting the FormEditor source I noticed there is an addition in
registerPage(int, Object) that seems to be introducing the extra null object in
the pages vector.

I will attached a zip that contains an exported plugin that demonstrates the
problem.  If you set a breakpoint at line 13 in MyFormEditor and step over it
the first time, you will notice that the pages vector now stands at a size of 2.
Created attachment 24838
Sample Plugin
It seems as if the call of page.getPartControl() in the method FormEditor.addPage() causes the insertion of null:

&lt;code&gt;
public int addPage(IFormPage page) throws PartInitException {
	int i = super.addPage(page.getPartControl());
	configurePage(i, page);
	return i;
}
&lt;/code&gt;

The FormPage.getPartControl() returns the FormPage's ManagedForm, which is not yet created when FormEditor.addPages() and FormEditor.addPage() respectively is called.
(In reply to comment #2)
&gt; It seems as if the call of page.getPartControl() in the method
&gt; FormEditor.addPage() causes the insertion of null:
&gt; 
&gt; &lt;code&gt;
&gt; public int addPage(IFormPage page) throws PartInitException {
&gt;         int i = super.addPage(page.getPartControl());
&gt;         configurePage(i, page);
&gt;         return i;
&gt; }
&gt; &lt;/code&gt;
&gt; 
&gt; The FormPage.getPartControl() returns the FormPage's ManagedForm, which is not
&gt; yet created when FormEditor.addPages() and FormEditor.addPage() respectively is
&gt; called.
&gt; 

(In reply to comment #2)
&gt; It seems as if the call of page.getPartControl() in the method
&gt; FormEditor.addPage() causes the insertion of null:
&gt; 
&gt; &lt;code&gt;
&gt; public int addPage(IFormPage page) throws PartInitException {
&gt;         int i = super.addPage(page.getPartControl());
&gt;         configurePage(i, page);
&gt;         return i;
&gt; }
&gt; &lt;/code&gt;
&gt; 
&gt; The FormPage.getPartControl() returns the FormPage's ManagedForm, which is not
&gt; yet created when FormEditor.addPages() and FormEditor.addPage() respectively is
&gt; called.
&gt; 
    protected void addPages() {
        try {
            /* MAGIC CODE START */   
           this.createPartControl(this.getContainer());
            /* MAGIC CODE END */   
            super.addPage(MyPage(this,"OK","My Title") ,super.getEditorInput());            
            
        } catch (PartInitException e) {
            // TODO Auto-generated catch block
            e.printStackTrace();
        }
    }


When I added the "magic code section", the assertion error disappeared. The editor appears but contains no pages. 
The attached plug-in works when tested with RC1. I needed to modify MyFormPage.java a bit though:

	protected void createFormContent(IManagedForm managedForm) {
		ScrolledForm form = managedForm.getForm();
		form.setText(getTitle());
		form.getBody().setLayout(new GridLayout());
		managedForm.getToolkit().createLabel( form.getBody(), "Test Label" );
	}	

With this change, all three pages have titles and the label shows up.
A problem with addPage(IFormPage) in 3.3M6 is that it assumes the control was already created, which is not the case with lazily created page controls.
The problem still seems to persist in 3.4. After adding the first page, the pages array contains a null element.
Apart from that, everything works fine, it just causes a slight uglyness when iterating over the array during doSave:

for (FormPage page : (Vector&lt;FormPage&gt;)pages) {
	if (page != null) {
		page.doSave(_monitor);
	}
}
Just bumped in this old bug and I was curious if there are plans do resolve it or this won´t be fixed at all...

Im using 4.3.2.M20140221-1700 and was surprised to see that this bug was reported back in 2005.

Tks</WithOutStack>
  </Bug>
  <Bug>
    <BugId amount="104003" />
    <CreationDate amount="2005-07-15 09:58:00 -0400" />
    <DupId amount="" />
    <classification amount="Tools" />
    <Product amount="TPTP Profiling" />
    <component amount="Platform.UI.Charting" />
    <Version amount="4.1" />
    <rep_platform amount="All" />
    <op_sys amount="Windows XP" />
    <priority amount="P1" />
    <bug_severity amount="major" />
    <Summery>Should remove some plugin dependencies from plugin.xml</Summery>
    <Patches amount="0" />
    <Stacktraces amount="0" />
    <SourceCodeRegions amount="0" />
    <Enumerations amount="0" />
    <bug_status amount="CLOSED" />
    <resolution amount="FIXED" />
    <WithStack>I notice that the plugin.xml in org.eclipse.tptp.platform.report.core contains 
plugin dependencies that aren't used.  These dependecies are:

	&lt;import plugin="org.eclipse.ui.ide"/&gt;
	&lt;import plugin="org.eclipse.ui.editors"/&gt;

Also the plugin.xml in org.eclipse.tptp.platform.report.ui contains plugin 
dependencies that aren't used:

      &lt;import plugin="org.eclipse.ui.ide"/&gt;
      &lt;import plugin="org.eclipse.ui.workbench.texteditor"/&gt;

These should be removed from the plugin.xml file since there will be dependency 
issues for other products.
EM: the depedencies are removed
Closing verified bugs</WithStack>
    <WithOutStack>I notice that the plugin.xml in org.eclipse.tptp.platform.report.core contains 
plugin dependencies that aren't used.  These dependecies are:

	&lt;import plugin="org.eclipse.ui.ide"/&gt;
	&lt;import plugin="org.eclipse.ui.editors"/&gt;

Also the plugin.xml in org.eclipse.tptp.platform.report.ui contains plugin 
dependencies that aren't used:

      &lt;import plugin="org.eclipse.ui.ide"/&gt;
      &lt;import plugin="org.eclipse.ui.workbench.texteditor"/&gt;

These should be removed from the plugin.xml file since there will be dependency 
issues for other products.
EM: the depedencies are removed
Closing verified bugs</WithOutStack>
  </Bug>
  <Bug>
    <BugId amount="104004" />
    <CreationDate amount="2005-07-15 10:01:00 -0400" />
    <DupId amount="264112" />
    <classification amount="Eclipse" />
    <Product amount="JDT" />
    <component amount="Core" />
    <Version amount="3.1" />
    <rep_platform amount="PC" />
    <op_sys amount="Windows 2000" />
    <priority amount="P3" />
    <bug_severity amount="normal" />
    <Summery>Incorrect source formatting</Summery>
    <Patches amount="0" />
    <Stacktraces amount="0" />
    <SourceCodeRegions amount="2">
      <source_code type="class">
        <location start="35" end="143" />
        <code>class C {
	void foo() {
		a.b(1234567890, 1234567890, 1234567890, 1234567890, 1234567890,
				1234567);
	}
}</code>
      </source_code>
      <source_code type="class">
        <location start="228" end="343" />
        <code>class C {
	void foo() {
		a
				.b(1234567890, 1234567890, 1234567890, 1234567890, 1234567890,
						1234567);
	}
}</code>
      </source_code>
    </SourceCodeRegions>
    <Enumerations amount="0" />
    <bug_status amount="VERIFIED" />
    <resolution amount="DUPLICATE" />
    <WithStack>If in a file I type in this code:

class C {
	void foo() {
		a.b(1234567890, 1234567890, 1234567890, 1234567890, 1234567890,
				1234567);
	}
}

and choose Source-&gt;Format from the menus, the source is incorrectly formatted as:

class C {
	void foo() {
		a
				.b(1234567890, 1234567890, 1234567890, 1234567890, 1234567890,
						1234567);
	}
}
*** Bug 189983 has been marked as a duplicate of this bug. ***
(In reply to comment #1)
&gt; *** Bug 189983 has been marked as a duplicate of this bug. ***
&gt; 

I see this has been around since 05.  Is this difficult to fix, or proper formatting just not a priority atm?
It is a matter of getting time allocated to work on it.
Hopefully I'll be able to do it for 3.4.
This is really annoying bug and is THE reason that keeps me from regularly using the source code formatting.

All the other automated source code formatting weirdnesses I can live with, but the very reason to have automatic code wrapping is to constrain lines within certain screen width and this bug effectively defeats this by making the wrapped line even longer than original.

As far as the readability goes - personally for me, this bug reduces it as well. By creating visual white space between object and the method call, it disconnects these two visually in a way that also disconnects them mentally.

Please fix it - this should not be difficult fix.
(or at least point me to the packages/classes that handle this line breaking logic so that me or anybody with few minutes of spare time can have a stab at this problem...)
This is too late for 3.3.
If it bothers people so much, then a patch is welcome.


*** This bug has been marked as a duplicate of bug 59891 ***
It was in fact more a duplicate of bug 264112, hence it's fixed since 3.6M5.

*** This bug has been marked as a duplicate of bug 264112 ***
Verified for 3.6M7 using build I20100424-2000
Verified.</WithStack>
    <WithOutStack>If in a file I type in this code:

class C {
	void foo() {
		a.b(1234567890, 1234567890, 1234567890, 1234567890, 1234567890,
				1234567);
	}
}

and choose Source-&gt;Format from the menus, the source is incorrectly formatted as:

class C {
	void foo() {
		a
				.b(1234567890, 1234567890, 1234567890, 1234567890, 1234567890,
						1234567);
	}
}
*** Bug 189983 has been marked as a duplicate of this bug. ***
(In reply to comment #1)
&gt; *** Bug 189983 has been marked as a duplicate of this bug. ***
&gt; 

I see this has been around since 05.  Is this difficult to fix, or proper formatting just not a priority atm?
It is a matter of getting time allocated to work on it.
Hopefully I'll be able to do it for 3.4.
This is really annoying bug and is THE reason that keeps me from regularly using the source code formatting.

All the other automated source code formatting weirdnesses I can live with, but the very reason to have automatic code wrapping is to constrain lines within certain screen width and this bug effectively defeats this by making the wrapped line even longer than original.

As far as the readability goes - personally for me, this bug reduces it as well. By creating visual white space between object and the method call, it disconnects these two visually in a way that also disconnects them mentally.

Please fix it - this should not be difficult fix.
(or at least point me to the packages/classes that handle this line breaking logic so that me or anybody with few minutes of spare time can have a stab at this problem...)
This is too late for 3.3.
If it bothers people so much, then a patch is welcome.


*** This bug has been marked as a duplicate of bug 59891 ***
It was in fact more a duplicate of bug 264112, hence it's fixed since 3.6M5.

*** This bug has been marked as a duplicate of bug 264112 ***
Verified for 3.6M7 using build I20100424-2000
Verified.</WithOutStack>
  </Bug>
  <Bug>
    <BugId amount="104005" />
    <CreationDate amount="2005-07-15 10:08:00 -0400" />
    <DupId amount="" />
    <classification amount="Modeling" />
    <Product amount="EMF" />
    <component amount="Core" />
    <Version amount="2.2" />
    <rep_platform amount="PC" />
    <op_sys amount="Windows 2000" />
    <priority amount="P3" />
    <bug_severity amount="enhancement" />
    <Summery>[Plan Item] Define content types for file types we know about</Summery>
    <Patches amount="0" />
    <Stacktraces amount="0" />
    <SourceCodeRegions amount="0" />
    <Enumerations amount="1">
      <Enumeration lines="12">
        <Lines>
          <Line>1. In order to properly handle the XML and XMI content types using the EMF reflective editors, we would need to be able to define our editors to never be used as default.  This way the text editor would be the default editor for XML/XMI file and ours would be just an option under the "Open With" menu</Line>
          <Line />
          <Line>2. Bugzilla 134331</Line>
          <Line>https://bugs.eclipse.org/bugs/show_bug.cgi?id=134331</Line>
          <Line />
          <Line>3. The XML and Text content type describers provided by the platform are in internal package making it really hard to provide an XMI describer (we would need to code it from scratch).</Line>
          <Line>Created attachment 37563</Line>
          <Line>Patch implementing the content type support</Line>
          <Line>*** Bug 131813 has been marked as a duplicate of this bug. ***</Line>
          <Line>Note that support for this will come via https://bugs.eclipse.org/bugs/show_bug.cgi?id=191077 which contains working patches for the generalized URI converter support we plan to add for 2.4.</Line>
          <Line>What is the status of this plan item? It's targeted for M4, but M4 has come and gone...</Line>
          <Line>The book is taking at least until the end of Feb and I need Marcelo's and Dave's help to get some of these things done or even with helping maintain the schedule, so even M5 is unlikely, but you never know...</Line>
        </Lines>
      </Enumeration>
    </Enumerations>
    <bug_status amount="VERIFIED" />
    <resolution amount="FIXED" />
    <WithStack>In https://bugs.eclipse.org/bugs/show_bug.cgi?id=103083 they've defined a
content type for "xmi" which is probably something EMF should do itself. 
Similarly for all the file types we know about, e.g., "xsd", "xmi", "ecore", and
so on.  We need to find out what happens if there are conflicting registrations
since one could imagine more than one project defining a content type for the
same extension.  We should also consider generating content type registrations
in the generated plugins that register a resource factory.
*** Bug 103543 has been marked as a duplicate of this bug. ***
I am attaching here a patch with changes that would implement this feature request.  These changes were not committed is because it seems that the Editor support for content types is not sufficient for everything we want/need to do:

1. In order to properly handle the XML and XMI content types using the EMF reflective editors, we would need to be able to define our editors to never be used as default.  This way the text editor would be the default editor for XML/XMI file and ours would be just an option under the "Open With" menu

2. Bugzilla 134331
https://bugs.eclipse.org/bugs/show_bug.cgi?id=134331

3. The XML and Text content type describers provided by the platform are in internal package making it really hard to provide an XMI describer (we would need to code it from scratch).
Created attachment 37563
Patch implementing the content type support
*** Bug 131813 has been marked as a duplicate of this bug. ***
Note that support for this will come via https://bugs.eclipse.org/bugs/show_bug.cgi?id=191077 which contains working patches for the generalized URI converter support we plan to add for 2.4.
What is the status of this plan item? It's targeted for M4, but M4 has come and gone...
The book is taking at least until the end of Feb and I need Marcelo's and Dave's help to get some of these things done or even with helping maintain the schedule, so even M5 is unlikely, but you never know...

Is this holding you up somehow?  All the enabling work for it is completed so you can define all the content types you know about.  :-P
No, it's not holding me up, but I was thinking that the content types defined by EMF may need to be used in various ways by UML2.
Just adding my two pennies here since we've had trouble in EMF Compare with conflicting content-type definitions (on .ecore mainly, see discussion here http://dev.eclipse.org/newslists/news.eclipse.technology.emft/msg04438.html).

The main issue was EMF 2.4 defining a content-type "Ecore File" on files with extension .ecore, while EMF Compare defined its own content-type "Model File" on .ecore, .uml and .emfdiff files. Content-type "Model File" was used to register the files on which our comparison should be called, yet with this new "Ecore File" we are no longer called on .ecore comparisons.

For now, we have found a workaround by refactoring our content-type to make it use EMF's "Ecore File" as "base-type", which effectively makes us inherit the definition of your content-type and allows EMF Compare to be called anew for .ecore files comparisons.

What we would like to see is somewhat of a "base" content-type that EMF would define for all model files, allowing downstream plug-ins to register content-type bindings on this "base" instead of creating binding for each and every content-type they know of. This base content-type would be defined "blank" : only an ID and a name, and all plug-ins defining content-types for models should use this a base type.

This would give something like :
   &lt;extension
         point="org.eclipse.core.runtime.contentTypes"&gt;
      &lt;content-type
            base-type="org.eclipse.core.runtime.xml"
            id="org.eclipse.emf.ModelContentType"
            name="Model"
            priority="normal"&gt;
      &lt;/content-type&gt;
   &lt;/extension&gt;
for this "base" content-type, and something like :
   &lt;extension
       point="org.eclipse.core.runtime.contentTypes"&gt;
    &lt;content-type
          base-type="org.eclipse.emf.ModelContentType"
          file-extensions="ecore,xmi"
          id="org.eclipse.emf.ecore"
          name="%_UI_Ecore_content_type"
          priority="normal"&gt;
       &lt;describer
             class="org.eclipse.emf.ecore.xmi.impl.RootXMLContentHandlerImpl$Describer"&gt;
          &lt;parameter
                name="namespace"
                value="http://www.eclipse.org/emf/2002/Ecore"&gt;
          &lt;/parameter&gt;
          &lt;parameter
                name="kind"
                value="xmi"&gt;
          &lt;/parameter&gt;
       &lt;/describer&gt;
    &lt;/content-type&gt;
 &lt;/extension&gt;
for EMF's "Ecore file" content-type to stay with this example.

Such a base would be useful for EMF Compare to allow comparison as models for everything under this "Model" content-type, it could also be used for bindings with editors ...
Coming back here after a little more research on this particular issue. It appears this new content type that was added in EMF 2.4 breaks any backward compatibility attempt we can make to allow our compare editor to work on both Eclipse 3.3 and Eclipse 3.4. Our best shot still logs an error in the error log when loading our plug-in ( see https://bugs.eclipse.org/bugs/show_bug.cgi?id=217986 ).

The same issue will arise for any third party plug-in defining an editor on ecore files via content-type binding (extension point "org.eclipse.ui.editors", right-click &gt; New &gt; Editor then on this editor right-click &gt; New &gt; contentTypeBinding). As we aim to maintain backward compatibility as much as possible with Eclipse 3.3, this kind of issue is quite a blocker.

Obviously, this also means that if a content-type has been registered on other "model" files such as uml or xsd, creating an editor (or maintaining compatibility) will force us into creating one contentTypeBinding for each distinct content-type declared we know of ... logging an error in the user's error log for each that is declared by a plug-in he has not installed.

I'm attaching here three patches that would implement something like I described on my comment above on EMF 2.2, EMF 2.3 and EMF 2.4 (so as to allow true backward compatibility for EMF based third-party plug-ins defining content-types on ecore). Also attached is a screenshot of the result on the content-type preference page. AFAIK, this cannot break anything in the existing plug-ins (both EMF and EMF based third-party) and can be implemented on all versions of EMF since content-types appeared in Eclipse.

Can this be a possible/acceptable addition to EMF? This would null out every compatibility problems we've add at least with EMF Compare.
Created attachment 89003
patch aimed at R2_2_maintenance branch
Created attachment 89004
patch aimed at R2_3_maintenance branch
Created attachment 89005
patch aimed at the CVS HEAD for EMF 2.4
Created attachment 89006
screenshot of the resulting preference page
I'll need to review these changes when I have time (I just got back from vacation), but I don't believe we can go back and add content types to maintenance stream.
Laurent,

Defining kind of an abstract base content type for EMF seems problematic to me.  Consider if/when we complete the work for https://bugs.eclipse.org/bugs/show_bug.cgi?id=206267 that we'll can have resource type that contains a binary serialization that isn't XML.  Consider also resources like Emfatic, or ones based on an xText textual (non-XML) serialization.  Such things cannot derive from the same abstract base type. And our Java model even has support for building a model for *.java resources but there's no way JDT will use EMF's content types. 

I wonder, since EMF can read any XML file, could you use org.eclipse.core.runtime.xml as your base to achieve close to the same goal?
Created attachment 95422
Poorly tests patch for an XMI content type.
Created attachment 95475
Update of the previous patch

I've added an EMOF content type in org.eclipse.emf.ecore.xmi and switched all of the file extension based editor registrations in org.eclipse.emf.ecore.editor to use content types instead.

I also changed the name of the XMI content type to "XML Metadata Interchange (XMI)". I noticed that the heavily extended base content types (Text and XML) don't include the word "File". Also, I thought some users might not recognize XMI (after all, this will show up in the preferences whenever EMF is installed).

Oh, and I just noticed that there are ecore and emof team file types declared in org.eclipse.emf.ecore.xmi that are already declared in org.eclipse.emf.ecore. Those should probably be removed.
I'm now using the new XMI content type as the base (when appropriate) in bug 204987.  So, it depends on this one.
It seems to me that content types that are recognized by namespace should be version-specific (particularly in cases where the namespace includes version information). For example, the "EMOF File" content type should be labeled "EMOF 2.0 File" and defined something like this (similar to the definition for CMOF in UML2):

  &lt;extension
        point="org.eclipse.core.runtime.contentTypes"&gt;
     &lt;content-type
           base-type="org.eclipse.emf.ecore.xmi"
           file-extensions="emof,xmi"
           id="org.omg.mof.emof_2_0"
           name="%_UI_EMOF_2_0_content_type"
           priority="normal"&gt;
        &lt;describer
              class="org.eclipse.emf.ecore.xmi.impl.RootXMLContentHandlerImpl$Describer"&gt;
           &lt;parameter
                 name="namespace"
                 value="http://schema.omg.orb/spec/MOF/2.0/emof.xml"&gt;
           &lt;/parameter&gt;
           &lt;parameter
                 name="kind"
                 value="xmi"&gt;
           &lt;/parameter&gt;
        &lt;/describer&gt;
     &lt;/content-type&gt;
  &lt;/extension&gt;

Note here that the namespace value has been changed to the correct namespace URI as defined in the MOF 2.0 specification (this is a bug with the current namespace used by EMF).
#20 perpetuates a typo with "http://schema.omg.orb/spec/MOF/2.0/emof.xml"

UML 2 Issue 7783 in http://www.omg.org/docs/ptc/06-04-01.pdf gives

    "http://schema.omg.org/spec/MOF/2.0/emof.xml"
(In reply to comment #21)
&gt; #20 perpetuates a typo with "http://schema.omg.orb/spec/MOF/2.0/emof.xml"
&gt; 
&gt; UML 2 Issue 7783 in http://www.omg.org/docs/ptc/06-04-01.pdf gives
&gt; 
&gt;     "http://schema.omg.org/spec/MOF/2.0/emof.xml"
&gt; 

Oops, of course I meant "http://schema.omg.org/spec/MOF/2.0/emof.xml". That's what I get for copying and pasting from the spec. My intent here was to point out the upper casing of "MOF" and the use of "xml" instead of "xmi" as the extension used in the URI.
I want to check in my changes for bug 204987, and that requires the new XMI content type.  So, I'll check in just that part.  I'll leave the EMOF part out pending further discussion.
Those changes are committed.
Created attachment 96130
Changes for EMOF support

These changes are to support EMOF content type and also fixes the namespace used to serialize EMOF to be the new correct one.  The old one can still be consumed for backwards compatibility purposes.

Note that these changes also support a namespace pattern for specifying the namespace, since this allows one to use "|" for choice and any other pattern that might be useful.
Created attachment 96145
Fixes

Kenn noticed I cross wired the Ecore/EMOF labels.
I've removed the extensions registration from the Ecore editor declaration (since there's a content type one now) and committed the changes for EMOF.  More to come...
Created attachment 96702
Should EcorePackage have eCONTENT_TYPE

It would seem more consistent if EcorePackage had an eCONTENT_TYPE which means it ought to be specified in Ecore.genmodel.  What do you think?

Maybe EMOFExtendedMetaData ought to have a CONTENT_TYPE constant as well?
Sure, both of those make sense.  I'll do that.
Created attachment 97619
Patch for remaining content types
Created attachment 97646
Patch for library example
Created attachment 97736
Remaining change to SDOUtil

Almost everything's committed.  I have one pending change to SDOUtil, where I noticed that the resource set for a datagraph gets initialized with overriding registrations for .datagraph, .ecore, .emof, and .xmi if the global registry doesn't have the expected registrations, and I corresponding ones for content types.  I'm not really sure if this is necessary or desirable, I only noticed it while looking over the existing uses of Resource.Factory.Registry.getFactory(URI) and ResourceSet.createResource(URI).  Ed, thoughts?
Created attachment 97737
Latest changes to library example

I also haven't committed the changes to the library example yet. This patch adds one additional change in the model wizard, which we're also generating now: performFinish() uses the content type when creating the resource.

If no one has any objections to these changes, I'll commit them for our build on Tuesday.
I'm abandoning the proposed change to SDOUtil.  Content types aren't relevant in the SDO case since we don't actually end up with distinct files.

Having heard no objection to the library example changes, I'm committing that for our M7 build tomorrow.
All of the changes for this bug are committed to CVS for EMF 2.4.
*** Bug 230261 has been marked as a duplicate of this bug. ***
Fix available in HEAD: 2.4.0M7 (S200805052017).
Fix available in HEAD: 2.4.0.I200804291800.</WithStack>
    <WithOutStack>In https://bugs.eclipse.org/bugs/show_bug.cgi?id=103083 they've defined a
content type for "xmi" which is probably something EMF should do itself. 
Similarly for all the file types we know about, e.g., "xsd", "xmi", "ecore", and
so on.  We need to find out what happens if there are conflicting registrations
since one could imagine more than one project defining a content type for the
same extension.  We should also consider generating content type registrations
in the generated plugins that register a resource factory.
*** Bug 103543 has been marked as a duplicate of this bug. ***
I am attaching here a patch with changes that would implement this feature request.  These changes were not committed is because it seems that the Editor support for content types is not sufficient for everything we want/need to do:

1. In order to properly handle the XML and XMI content types using the EMF reflective editors, we would need to be able to define our editors to never be used as default.  This way the text editor would be the default editor for XML/XMI file and ours would be just an option under the "Open With" menu

2. Bugzilla 134331
https://bugs.eclipse.org/bugs/show_bug.cgi?id=134331

3. The XML and Text content type describers provided by the platform are in internal package making it really hard to provide an XMI describer (we would need to code it from scratch).
Created attachment 37563
Patch implementing the content type support
*** Bug 131813 has been marked as a duplicate of this bug. ***
Note that support for this will come via https://bugs.eclipse.org/bugs/show_bug.cgi?id=191077 which contains working patches for the generalized URI converter support we plan to add for 2.4.
What is the status of this plan item? It's targeted for M4, but M4 has come and gone...
The book is taking at least until the end of Feb and I need Marcelo's and Dave's help to get some of these things done or even with helping maintain the schedule, so even M5 is unlikely, but you never know...

Is this holding you up somehow?  All the enabling work for it is completed so you can define all the content types you know about.  :-P
No, it's not holding me up, but I was thinking that the content types defined by EMF may need to be used in various ways by UML2.
Just adding my two pennies here since we've had trouble in EMF Compare with conflicting content-type definitions (on .ecore mainly, see discussion here http://dev.eclipse.org/newslists/news.eclipse.technology.emft/msg04438.html).

The main issue was EMF 2.4 defining a content-type "Ecore File" on files with extension .ecore, while EMF Compare defined its own content-type "Model File" on .ecore, .uml and .emfdiff files. Content-type "Model File" was used to register the files on which our comparison should be called, yet with this new "Ecore File" we are no longer called on .ecore comparisons.

For now, we have found a workaround by refactoring our content-type to make it use EMF's "Ecore File" as "base-type", which effectively makes us inherit the definition of your content-type and allows EMF Compare to be called anew for .ecore files comparisons.

What we would like to see is somewhat of a "base" content-type that EMF would define for all model files, allowing downstream plug-ins to register content-type bindings on this "base" instead of creating binding for each and every content-type they know of. This base content-type would be defined "blank" : only an ID and a name, and all plug-ins defining content-types for models should use this a base type.

This would give something like :
   &lt;extension
         point="org.eclipse.core.runtime.contentTypes"&gt;
      &lt;content-type
            base-type="org.eclipse.core.runtime.xml"
            id="org.eclipse.emf.ModelContentType"
            name="Model"
            priority="normal"&gt;
      &lt;/content-type&gt;
   &lt;/extension&gt;
for this "base" content-type, and something like :
   &lt;extension
       point="org.eclipse.core.runtime.contentTypes"&gt;
    &lt;content-type
          base-type="org.eclipse.emf.ModelContentType"
          file-extensions="ecore,xmi"
          id="org.eclipse.emf.ecore"
          name="%_UI_Ecore_content_type"
          priority="normal"&gt;
       &lt;describer
             class="org.eclipse.emf.ecore.xmi.impl.RootXMLContentHandlerImpl$Describer"&gt;
          &lt;parameter
                name="namespace"
                value="http://www.eclipse.org/emf/2002/Ecore"&gt;
          &lt;/parameter&gt;
          &lt;parameter
                name="kind"
                value="xmi"&gt;
          &lt;/parameter&gt;
       &lt;/describer&gt;
    &lt;/content-type&gt;
 &lt;/extension&gt;
for EMF's "Ecore file" content-type to stay with this example.

Such a base would be useful for EMF Compare to allow comparison as models for everything under this "Model" content-type, it could also be used for bindings with editors ...
Coming back here after a little more research on this particular issue. It appears this new content type that was added in EMF 2.4 breaks any backward compatibility attempt we can make to allow our compare editor to work on both Eclipse 3.3 and Eclipse 3.4. Our best shot still logs an error in the error log when loading our plug-in ( see https://bugs.eclipse.org/bugs/show_bug.cgi?id=217986 ).

The same issue will arise for any third party plug-in defining an editor on ecore files via content-type binding (extension point "org.eclipse.ui.editors", right-click &gt; New &gt; Editor then on this editor right-click &gt; New &gt; contentTypeBinding). As we aim to maintain backward compatibility as much as possible with Eclipse 3.3, this kind of issue is quite a blocker.

Obviously, this also means that if a content-type has been registered on other "model" files such as uml or xsd, creating an editor (or maintaining compatibility) will force us into creating one contentTypeBinding for each distinct content-type declared we know of ... logging an error in the user's error log for each that is declared by a plug-in he has not installed.

I'm attaching here three patches that would implement something like I described on my comment above on EMF 2.2, EMF 2.3 and EMF 2.4 (so as to allow true backward compatibility for EMF based third-party plug-ins defining content-types on ecore). Also attached is a screenshot of the result on the content-type preference page. AFAIK, this cannot break anything in the existing plug-ins (both EMF and EMF based third-party) and can be implemented on all versions of EMF since content-types appeared in Eclipse.

Can this be a possible/acceptable addition to EMF? This would null out every compatibility problems we've add at least with EMF Compare.
Created attachment 89003
patch aimed at R2_2_maintenance branch
Created attachment 89004
patch aimed at R2_3_maintenance branch
Created attachment 89005
patch aimed at the CVS HEAD for EMF 2.4
Created attachment 89006
screenshot of the resulting preference page
I'll need to review these changes when I have time (I just got back from vacation), but I don't believe we can go back and add content types to maintenance stream.
Laurent,

Defining kind of an abstract base content type for EMF seems problematic to me.  Consider if/when we complete the work for https://bugs.eclipse.org/bugs/show_bug.cgi?id=206267 that we'll can have resource type that contains a binary serialization that isn't XML.  Consider also resources like Emfatic, or ones based on an xText textual (non-XML) serialization.  Such things cannot derive from the same abstract base type. And our Java model even has support for building a model for *.java resources but there's no way JDT will use EMF's content types. 

I wonder, since EMF can read any XML file, could you use org.eclipse.core.runtime.xml as your base to achieve close to the same goal?
Created attachment 95422
Poorly tests patch for an XMI content type.
Created attachment 95475
Update of the previous patch

I've added an EMOF content type in org.eclipse.emf.ecore.xmi and switched all of the file extension based editor registrations in org.eclipse.emf.ecore.editor to use content types instead.

I also changed the name of the XMI content type to "XML Metadata Interchange (XMI)". I noticed that the heavily extended base content types (Text and XML) don't include the word "File". Also, I thought some users might not recognize XMI (after all, this will show up in the preferences whenever EMF is installed).

Oh, and I just noticed that there are ecore and emof team file types declared in org.eclipse.emf.ecore.xmi that are already declared in org.eclipse.emf.ecore. Those should probably be removed.
I'm now using the new XMI content type as the base (when appropriate) in bug 204987.  So, it depends on this one.
It seems to me that content types that are recognized by namespace should be version-specific (particularly in cases where the namespace includes version information). For example, the "EMOF File" content type should be labeled "EMOF 2.0 File" and defined something like this (similar to the definition for CMOF in UML2):

  &lt;extension
        point="org.eclipse.core.runtime.contentTypes"&gt;
     &lt;content-type
           base-type="org.eclipse.emf.ecore.xmi"
           file-extensions="emof,xmi"
           id="org.omg.mof.emof_2_0"
           name="%_UI_EMOF_2_0_content_type"
           priority="normal"&gt;
        &lt;describer
              class="org.eclipse.emf.ecore.xmi.impl.RootXMLContentHandlerImpl$Describer"&gt;
           &lt;parameter
                 name="namespace"
                 value="http://schema.omg.orb/spec/MOF/2.0/emof.xml"&gt;
           &lt;/parameter&gt;
           &lt;parameter
                 name="kind"
                 value="xmi"&gt;
           &lt;/parameter&gt;
        &lt;/describer&gt;
     &lt;/content-type&gt;
  &lt;/extension&gt;

Note here that the namespace value has been changed to the correct namespace URI as defined in the MOF 2.0 specification (this is a bug with the current namespace used by EMF).
#20 perpetuates a typo with "http://schema.omg.orb/spec/MOF/2.0/emof.xml"

UML 2 Issue 7783 in http://www.omg.org/docs/ptc/06-04-01.pdf gives

    "http://schema.omg.org/spec/MOF/2.0/emof.xml"
(In reply to comment #21)
&gt; #20 perpetuates a typo with "http://schema.omg.orb/spec/MOF/2.0/emof.xml"
&gt; 
&gt; UML 2 Issue 7783 in http://www.omg.org/docs/ptc/06-04-01.pdf gives
&gt; 
&gt;     "http://schema.omg.org/spec/MOF/2.0/emof.xml"
&gt; 

Oops, of course I meant "http://schema.omg.org/spec/MOF/2.0/emof.xml". That's what I get for copying and pasting from the spec. My intent here was to point out the upper casing of "MOF" and the use of "xml" instead of "xmi" as the extension used in the URI.
I want to check in my changes for bug 204987, and that requires the new XMI content type.  So, I'll check in just that part.  I'll leave the EMOF part out pending further discussion.
Those changes are committed.
Created attachment 96130
Changes for EMOF support

These changes are to support EMOF content type and also fixes the namespace used to serialize EMOF to be the new correct one.  The old one can still be consumed for backwards compatibility purposes.

Note that these changes also support a namespace pattern for specifying the namespace, since this allows one to use "|" for choice and any other pattern that might be useful.
Created attachment 96145
Fixes

Kenn noticed I cross wired the Ecore/EMOF labels.
I've removed the extensions registration from the Ecore editor declaration (since there's a content type one now) and committed the changes for EMOF.  More to come...
Created attachment 96702
Should EcorePackage have eCONTENT_TYPE

It would seem more consistent if EcorePackage had an eCONTENT_TYPE which means it ought to be specified in Ecore.genmodel.  What do you think?

Maybe EMOFExtendedMetaData ought to have a CONTENT_TYPE constant as well?
Sure, both of those make sense.  I'll do that.
Created attachment 97619
Patch for remaining content types
Created attachment 97646
Patch for library example
Created attachment 97736
Remaining change to SDOUtil

Almost everything's committed.  I have one pending change to SDOUtil, where I noticed that the resource set for a datagraph gets initialized with overriding registrations for .datagraph, .ecore, .emof, and .xmi if the global registry doesn't have the expected registrations, and I corresponding ones for content types.  I'm not really sure if this is necessary or desirable, I only noticed it while looking over the existing uses of Resource.Factory.Registry.getFactory(URI) and ResourceSet.createResource(URI).  Ed, thoughts?
Created attachment 97737
Latest changes to library example

I also haven't committed the changes to the library example yet. This patch adds one additional change in the model wizard, which we're also generating now: performFinish() uses the content type when creating the resource.

If no one has any objections to these changes, I'll commit them for our build on Tuesday.
I'm abandoning the proposed change to SDOUtil.  Content types aren't relevant in the SDO case since we don't actually end up with distinct files.

Having heard no objection to the library example changes, I'm committing that for our M7 build tomorrow.
All of the changes for this bug are committed to CVS for EMF 2.4.
*** Bug 230261 has been marked as a duplicate of this bug. ***
Fix available in HEAD: 2.4.0M7 (S200805052017).
Fix available in HEAD: 2.4.0.I200804291800.</WithOutStack>
  </Bug>
  <Bug>
    <BugId amount="104006" />
    <CreationDate amount="2005-07-15 10:17:00 -0400" />
    <DupId amount="" />
    <classification amount="Eclipse Foundation" />
    <Product amount="z_Archived" />
    <component amount="VE" />
    <Version amount="unspecified" />
    <rep_platform amount="PC" />
    <op_sys amount="Windows XP" />
    <priority amount="P3" />
    <bug_severity amount="normal" />
    <Summery>[JVERCP01] createPartControl(Composite arg0) should be "parent"</Summery>
    <Patches amount="0" />
    <Stacktraces amount="0" />
    <SourceCodeRegions amount="1">
      <source_code type="assignment">
        <location start="110" end="148" />
        <code>top = new Composite(parent, SWT.NONE);</code>
      </source_code>
    </SourceCodeRegions>
    <Enumerations amount="0" />
    <bug_status amount="CLOSED" />
    <resolution amount="FIXED" />
    <WithStack>I20050715

Creating a new empty view will result in the Composite arg0 being passed in,
while the statement:

top = new Composite(parent, SWT.NONE);

is still being generated.  this is a recent regression.  I am following the test
exactly, so i have a bare RCP install as my target... don't think this would
have any effect though.
Now the templates check the target source to generate appropriate variable name.
Released files
IVisualClassCreationSourceGenerator.java
NewVisualClassCreationWizard.java
RCPEditorTemplate.javajet
RCPViewTemplate.javajet


Verified in VE build I20050719.</WithStack>
    <WithOutStack>I20050715

Creating a new empty view will result in the Composite arg0 being passed in,
while the statement:

top = new Composite(parent, SWT.NONE);

is still being generated.  this is a recent regression.  I am following the test
exactly, so i have a bare RCP install as my target... don't think this would
have any effect though.
Now the templates check the target source to generate appropriate variable name.
Released files
IVisualClassCreationSourceGenerator.java
NewVisualClassCreationWizard.java
RCPEditorTemplate.javajet
RCPViewTemplate.javajet


Verified in VE build I20050719.</WithOutStack>
  </Bug>
  <Bug>
    <BugId amount="104007" />
    <CreationDate amount="2005-07-15 10:20:00 -0400" />
    <DupId amount="" />
    <classification amount="Eclipse" />
    <Product amount="JDT" />
    <component amount="UI" />
    <Version amount="3.1" />
    <rep_platform amount="PC" />
    <op_sys amount="Windows XP" />
    <priority amount="P3" />
    <bug_severity amount="normal" />
    <Summery>[reorg] move of inner interfaces results in incompilable code [refactoring]</Summery>
    <Patches amount="0" />
    <Stacktraces amount="0" />
    <SourceCodeRegions amount="4">
      <source_code type="assignment">
        <location start="199" end="264" />
        <code>public package1.A.InnerInterface2 lnkInnerInterface2 = null;</code>
      </source_code>
      <source_code type="package">
        <location start="362" end="379" />
        <code>package package1;</code>
      </source_code>
      <source_code type="import">
        <location start="380" end="414" />
        <code>import package1.A.InnerInterface2;</code>
      </source_code>
      <source_code type="class">
        <location start="415" end="587" />
        <code>public class B {
   public interface InnerInterface2 {
   }
   public interface InnerInterface1 {
       public package1.A.InnerInterface2 lnkInnerInterface2 = null;
   }
}</code>
      </source_code>
    </SourceCodeRegions>
    <Enumerations amount="0" />
    <bug_status amount="NEW" />
    <resolution amount="" />
    <WithStack>Create "package1" package, in "package1" create the "A" and "B" classes.
create 2 inner interfaces in class A as follows:

 public interface InnerInterface2 {
 }

 public interface InnerInterface1 {
     public package1.A.InnerInterface2 lnkInnerInterface2 = null;
 }


select refactor-&gt;move them at once into the package1.B class.

The resulting code is this:

package package1;
import package1.A.InnerInterface2;
public class B {
   public interface InnerInterface2 {
   }
   public interface InnerInterface1 {
       public package1.A.InnerInterface2 lnkInnerInterface2 = null;
   }
}
which is wrong.
Tobias, please have a look.
The problem is probably that member interfaces are always implicitly static.</WithStack>
    <WithOutStack>Create "package1" package, in "package1" create the "A" and "B" classes.
create 2 inner interfaces in class A as follows:

 public interface InnerInterface2 {
 }

 public interface InnerInterface1 {
     public package1.A.InnerInterface2 lnkInnerInterface2 = null;
 }


select refactor-&gt;move them at once into the package1.B class.

The resulting code is this:

package package1;
import package1.A.InnerInterface2;
public class B {
   public interface InnerInterface2 {
   }
   public interface InnerInterface1 {
       public package1.A.InnerInterface2 lnkInnerInterface2 = null;
   }
}
which is wrong.
Tobias, please have a look.
The problem is probably that member interfaces are always implicitly static.</WithOutStack>
  </Bug>
  <Bug>
    <BugId amount="104008" />
    <CreationDate amount="2005-07-15 10:22:00 -0400" />
    <DupId amount="" />
    <classification amount="WebTools" />
    <Product amount="WTP Java EE Tools" />
    <component amount="jst.j2ee" />
    <Version amount="unspecified" />
    <rep_platform amount="PC" />
    <op_sys amount="Windows XP" />
    <priority amount="P3" />
    <bug_severity amount="major" />
    <Summery>Modules cannot be removed from  EAR</Summery>
    <Patches amount="0" />
    <Stacktraces amount="0" />
    <SourceCodeRegions amount="0" />
    <Enumerations amount="0" />
    <bug_status amount="CLOSED" />
    <resolution amount="FIXED" />
    <WithStack>Go to EAR project=&gt;Properties and uncheck the modules, 
the modules are not removed from the EAR.
fixed, EAR modules can be removed now from the EAR.
verified</WithStack>
    <WithOutStack>Go to EAR project=&gt;Properties and uncheck the modules, 
the modules are not removed from the EAR.
fixed, EAR modules can be removed now from the EAR.
verified</WithOutStack>
  </Bug>
  <Bug>
    <BugId amount="104009" />
    <CreationDate amount="2005-07-15 10:27:00 -0400" />
    <DupId amount="" />
    <classification amount="Eclipse Foundation" />
    <Product amount="z_Archived" />
    <component amount="VE" />
    <Version amount="unspecified" />
    <rep_platform amount="PC" />
    <op_sys amount="Windows XP" />
    <priority amount="P3" />
    <bug_severity amount="normal" />
    <Summery>Changing the look and feel does does not recycle the VM</Summery>
    <Patches amount="0" />
    <Stacktraces amount="0" />
    <SourceCodeRegions amount="0" />
    <Enumerations amount="0" />
    <bug_status amount="NEW" />
    <resolution amount="" />
    <WithStack>Channging the look and feel on the pref. page implies that the new look and feel
will not come up the next time around, but rather after the spare VM is exuasted.
We don't really need to recycle the VM on the L&amp;F change... this can be
accomplished by calling UIManager.setLookAndFeel(lnf); on the remote vm.

It's also possible to switch the existing UI at runtime by calling
SwingUtilities.updateComponentTreeUI() on the root UI elements being shown on
the display (probably any Frames and the dialog hosting the free form elements).
 Doing this would allow us to switch Look and Feels from a context menu or a
toolbar menu.</WithStack>
    <WithOutStack>Channging the look and feel on the pref. page implies that the new look and feel
will not come up the next time around, but rather after the spare VM is exuasted.
We don't really need to recycle the VM on the L&amp;F change... this can be
accomplished by calling UIManager.setLookAndFeel(lnf); on the remote vm.

It's also possible to switch the existing UI at runtime by calling
SwingUtilities.updateComponentTreeUI() on the root UI elements being shown on
the display (probably any Frames and the dialog hosting the free form elements).
 Doing this would allow us to switch Look and Feels from a context menu or a
toolbar menu.</WithOutStack>
  </Bug>
  <Bug>
    <BugId amount="104010" />
    <CreationDate amount="2005-07-15 10:28:00 -0400" />
    <DupId amount="151853" />
    <classification amount="Eclipse" />
    <Product amount="JDT" />
    <component amount="UI" />
    <Version amount="3.1" />
    <rep_platform amount="PC" />
    <op_sys amount="Windows XP" />
    <priority amount="P3" />
    <bug_severity amount="normal" />
    <Summery>exception in new test case wizard if opened on non-java project</Summery>
    <Patches amount="0" />
    <Stacktraces amount="0" />
    <SourceCodeRegions amount="0" />
    <Enumerations amount="1">
      <Enumeration lines="2">
        <Lines>
          <Line>1. have a simple, non-java project</Line>
          <Line>2. ctrl+N, Java &gt; Junit test case</Line>
        </Lines>
      </Enumeration>
    </Enumerations>
    <bug_status amount="RESOLVED" />
    <resolution amount="DUPLICATE" />
    <WithStack>3.1
1. have a simple, non-java project
2. ctrl+N, Java &gt; Junit test case

this gets logged:

Java Model Exception: Java Model Status [parametrization-paper does not exist]
	at
org.eclipse.jdt.internal.core.JavaElement.newNotPresentException(JavaElement.java:468)
	at
org.eclipse.jdt.internal.core.JavaModelManager.getPerProjectInfoCheckExistence(JavaModelManager.java:1223)
	at
org.eclipse.jdt.internal.core.JavaProject.getPerProjectInfo(JavaProject.java:1785)
	at
org.eclipse.jdt.internal.core.JavaProject.getResolvedClasspath(JavaProject.java:1923)
	at org.eclipse.jdt.internal.core.JavaProject.buildStructure(JavaProject.java:332)
	at org.eclipse.jdt.internal.core.Openable.generateInfos(Openable.java:233)
	at org.eclipse.jdt.internal.core.JavaElement.openWhenClosed(JavaElement.java:488)
	at org.eclipse.jdt.internal.core.JavaElement.getElementInfo(JavaElement.java:232)
	at org.eclipse.jdt.internal.core.JavaElement.getElementInfo(JavaElement.java:218)
	at
org.eclipse.jdt.internal.core.JavaProject.getJavaProjectElementInfo(JavaProject.java:1513)
	at org.eclipse.jdt.internal.core.JavaProject.newNameLookup(JavaProject.java:2419)
	at org.eclipse.jdt.internal.core.JavaProject.newNameLookup(JavaProject.java:2429)
	at org.eclipse.jdt.internal.core.JavaProject.findType(JavaProject.java:1133)
	at org.eclipse.jdt.internal.core.JavaProject.findType(JavaProject.java:1106)
	at
org.eclipse.jdt.junit.wizards.NewTestCaseWizardPageOne.resolveClassNameToType(NewTestCaseWizardPageOne.java:859)
	at
org.eclipse.jdt.junit.wizards.NewTestCaseWizardPageOne.superClassChanged(NewTestCaseWizardPageOne.java:829)
	at
org.eclipse.jdt.ui.wizards.NewTypeWizardPage.typePageDialogFieldChanged(NewTypeWizardPage.java:903)
	at
org.eclipse.jdt.ui.wizards.NewTypeWizardPage.access$2(NewTypeWizardPage.java:867)
	at
org.eclipse.jdt.ui.wizards.NewTypeWizardPage$TypeFieldsAdapter.dialogFieldChanged(NewTypeWizardPage.java:810)
	at
org.eclipse.jdt.internal.ui.wizards.dialogfields.DialogField.dialogFieldChanged(DialogField.java:70)
	at
org.eclipse.jdt.internal.ui.wizards.dialogfields.StringDialogField.doModifyText(StringDialogField.java:130)
	at
org.eclipse.jdt.internal.ui.wizards.dialogfields.StringDialogField.access$0(StringDialogField.java:126)
	at
org.eclipse.jdt.internal.ui.wizards.dialogfields.StringDialogField$1.modifyText(StringDialogField.java:108)
	at org.eclipse.swt.widgets.TypedListener.handleEvent(TypedListener.java:188)
	at org.eclipse.swt.widgets.EventTable.sendEvent(EventTable.java:66)
	at org.eclipse.swt.widgets.Widget.sendEvent(Widget.java:843)
	at org.eclipse.swt.widgets.Widget.sendEvent(Widget.java:867)
	at org.eclipse.swt.widgets.Widget.sendEvent(Widget.java:848)
	at org.eclipse.swt.widgets.Text.wmCommandChild(Text.java:2061)
	at org.eclipse.swt.widgets.Control.WM_COMMAND(Control.java:3164)
	at org.eclipse.swt.widgets.Control.windowProc(Control.java:3041)
	at org.eclipse.swt.widgets.Display.windowProc(Display.java:3706)
	at org.eclipse.swt.internal.win32.OS.CallWindowProcW(Native Method)
	at org.eclipse.swt.internal.win32.OS.CallWindowProc(OS.java:1580)
	at org.eclipse.swt.widgets.Text.callWindowProc(Text.java:131)
	at org.eclipse.swt.widgets.Control.windowProc(Control.java:3123)
	at org.eclipse.swt.widgets.Text.windowProc(Text.java:1777)
	at org.eclipse.swt.widgets.Display.windowProc(Display.java:3706)
	at org.eclipse.swt.internal.win32.OS.SetWindowTextW(Native Method)
	at org.eclipse.swt.internal.win32.OS.SetWindowText(OS.java:2355)
	at org.eclipse.swt.widgets.Text.setText(Text.java:1593)
	at
org.eclipse.jdt.internal.ui.wizards.dialogfields.StringDialogField.setText(StringDialogField.java:160)
	at
org.eclipse.jdt.ui.wizards.NewTypeWizardPage.setSuperClass(NewTypeWizardPage.java:1139)
	at
org.eclipse.jdt.junit.wizards.NewTestCaseWizardPageOne.createControl(NewTestCaseWizardPageOne.java:261)
	at org.eclipse.jface.wizard.Wizard.createPageControls(Wizard.java:179)
	at org.eclipse.jface.wizard.WizardDialog.createPageControls(WizardDialog.java:611)
	at org.eclipse.jface.wizard.WizardDialog.setWizard(WizardDialog.java:965)
	at org.eclipse.jface.wizard.WizardDialog.updateForPage(WizardDialog.java:1016)
	at org.eclipse.jface.wizard.WizardDialog.access$2(WizardDialog.java:1013)
	at org.eclipse.jface.wizard.WizardDialog$4.run(WizardDialog.java:1003)
	at org.eclipse.swt.custom.BusyIndicator.showWhile(BusyIndicator.java:69)
	at org.eclipse.jface.wizard.WizardDialog.showPage(WizardDialog.java:1001)
	at
org.eclipse.ui.internal.dialogs.NewWizardSelectionPage.advanceToNextPageOrFinish(NewWizardSelectionPage.java:71)
	at
org.eclipse.ui.internal.dialogs.NewWizardNewPage$2.doubleClick(NewWizardNewPage.java:372)
	at org.eclipse.jface.viewers.StructuredViewer$1.run(StructuredViewer.java:720)
	at
org.eclipse.core.internal.runtime.InternalPlatform.run(InternalPlatform.java:1044)
	at org.eclipse.core.runtime.Platform.run(Platform.java:783)
	at org.eclipse.ui.internal.JFaceUtil$1.run(JFaceUtil.java:44)
	at org.eclipse.jface.util.SafeRunnable.run(SafeRunnable.java:148)
	at
org.eclipse.jface.viewers.StructuredViewer.fireDoubleClick(StructuredViewer.java:718)
	at
org.eclipse.jface.viewers.StructuredViewer.handleDoubleSelect(StructuredViewer.java:950)
	at
org.eclipse.jface.viewers.StructuredViewer$4.widgetDefaultSelected(StructuredViewer.java:1057)
	at
org.eclipse.jface.util.OpenStrategy.fireDefaultSelectionEvent(OpenStrategy.java:219)
	at org.eclipse.jface.util.OpenStrategy.access$0(OpenStrategy.java:216)
	at org.eclipse.jface.util.OpenStrategy$1.handleEvent(OpenStrategy.java:275)
	at org.eclipse.swt.widgets.EventTable.sendEvent(EventTable.java:66)
	at org.eclipse.swt.widgets.Widget.sendEvent(Widget.java:843)
	at org.eclipse.swt.widgets.Display.runDeferredEvents(Display.java:3080)
	at org.eclipse.swt.widgets.Display.readAndDispatch(Display.java:2713)
	at org.eclipse.jface.window.Window.runEventLoop(Window.java:809)
	at org.eclipse.jface.window.Window.open(Window.java:787)
	at org.eclipse.ui.actions.NewWizardAction.run(NewWizardAction.java:181)
	at org.eclipse.jface.action.Action.runWithEvent(Action.java:996)
	at org.eclipse.jface.commands.ActionHandler.execute(ActionHandler.java:117)
	at org.eclipse.core.commands.Command.execute(Command.java:311)
	at
org.eclipse.core.commands.ParameterizedCommand.execute(ParameterizedCommand.java:396)
	at
org.eclipse.ui.internal.keys.WorkbenchKeyboard.executeCommand(WorkbenchKeyboard.java:459)
	at org.eclipse.ui.internal.keys.WorkbenchKeyboard.press(WorkbenchKeyboard.java:781)
	at
org.eclipse.ui.internal.keys.WorkbenchKeyboard.processKeyEvent(WorkbenchKeyboard.java:828)
	at
org.eclipse.ui.internal.keys.WorkbenchKeyboard.filterKeySequenceBindings(WorkbenchKeyboard.java:550)
	at
org.eclipse.ui.internal.keys.WorkbenchKeyboard.access$3(WorkbenchKeyboard.java:493)
	at
org.eclipse.ui.internal.keys.WorkbenchKeyboard$KeyDownFilter.handleEvent(WorkbenchKeyboard.java:117)
	at org.eclipse.swt.widgets.EventTable.sendEvent(EventTable.java:66)
	at org.eclipse.swt.widgets.Display.filterEvent(Display.java:917)
	at org.eclipse.swt.widgets.Widget.sendEvent(Widget.java:842)
	at org.eclipse.swt.widgets.Widget.sendEvent(Widget.java:867)
	at org.eclipse.swt.widgets.Widget.sendEvent(Widget.java:852)
	at org.eclipse.swt.widgets.Widget.sendKeyEvent(Widget.java:880)
	at org.eclipse.swt.widgets.Widget.sendKeyEvent(Widget.java:876)
	at org.eclipse.swt.widgets.Widget.wmChar(Widget.java:1190)
	at org.eclipse.swt.widgets.Control.WM_CHAR(Control.java:3135)
	at org.eclipse.swt.widgets.Tree.WM_CHAR(Tree.java:2431)
	at org.eclipse.swt.widgets.Control.windowProc(Control.java:3038)
	at org.eclipse.swt.widgets.Tree.windowProc(Tree.java:2391)
	at org.eclipse.swt.widgets.Display.windowProc(Display.java:3706)
	at org.eclipse.swt.internal.win32.OS.DispatchMessageW(Native Method)
	at org.eclipse.swt.internal.win32.OS.DispatchMessage(OS.java:1656)
	at org.eclipse.swt.widgets.Display.readAndDispatch(Display.java:2711)
	at org.eclipse.ui.internal.Workbench.runEventLoop(Workbench.java:1699)
	at org.eclipse.ui.internal.Workbench.runUI(Workbench.java:1663)
	at org.eclipse.ui.internal.Workbench.createAndRunWorkbench(Workbench.java:367)
	at org.eclipse.ui.PlatformUI.createAndRunWorkbench(PlatformUI.java:143)
	at org.eclipse.ui.internal.ide.IDEApplication.run(IDEApplication.java:103)
	at
org.eclipse.core.internal.runtime.PlatformActivator$1.run(PlatformActivator.java:226)
	at org.eclipse.core.runtime.adaptor.EclipseStarter.run(EclipseStarter.java:376)
	at org.eclipse.core.runtime.adaptor.EclipseStarter.run(EclipseStarter.java:163)
	at sun.reflect.NativeMethodAccessorImpl.invoke0(Native Method)
	at sun.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:39)
	at
sun.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:25)
	at java.lang.reflect.Method.invoke(Method.java:585)
	at org.eclipse.core.launcher.Main.invokeFramework(Main.java:334)
	at org.eclipse.core.launcher.Main.basicRun(Main.java:278)
	at org.eclipse.core.launcher.Main.run(Main.java:973)
	at org.eclipse.core.launcher.Main.main(Main.java:948)
Martin, NewTestCaseWizardPageOne#superClassChanged() (and other clients) assume
that NewContainerWizardPage#getPackageFragmentRoot() only returns a root iff its
java project exists (and null otherwise).

Could NewContainerWizardPage#getPackageFragmentRoot() be changed to follow this
assumption? If not, we have to fix all clients (e.g. also the content assistant
in the new type dialog) to check this.
I think we have to fix this in the clients:
NewContainerWizardPage is API. An implementation could allow to create types in
non-java projects or non-existing projects.

Note that you can check the fContainerStatus if the validation of the root is ok.

 


*** This bug has been marked as a duplicate of 151853 ***</WithStack>
    <WithOutStack>3.1
1. have a simple, non-java project
2. ctrl+N, Java &gt; Junit test case

this gets logged:

Java Model Exception: Java Model Status [parametrization-paper does not exist]
	at
org.eclipse.jdt.internal.core.JavaElement.newNotPresentException(JavaElement.java:468)
	at
org.eclipse.jdt.internal.core.JavaModelManager.getPerProjectInfoCheckExistence(JavaModelManager.java:1223)
	at
org.eclipse.jdt.internal.core.JavaProject.getPerProjectInfo(JavaProject.java:1785)
	at
org.eclipse.jdt.internal.core.JavaProject.getResolvedClasspath(JavaProject.java:1923)
	at org.eclipse.jdt.internal.core.JavaProject.buildStructure(JavaProject.java:332)
	at org.eclipse.jdt.internal.core.Openable.generateInfos(Openable.java:233)
	at org.eclipse.jdt.internal.core.JavaElement.openWhenClosed(JavaElement.java:488)
	at org.eclipse.jdt.internal.core.JavaElement.getElementInfo(JavaElement.java:232)
	at org.eclipse.jdt.internal.core.JavaElement.getElementInfo(JavaElement.java:218)
	at
org.eclipse.jdt.internal.core.JavaProject.getJavaProjectElementInfo(JavaProject.java:1513)
	at org.eclipse.jdt.internal.core.JavaProject.newNameLookup(JavaProject.java:2419)
	at org.eclipse.jdt.internal.core.JavaProject.newNameLookup(JavaProject.java:2429)
	at org.eclipse.jdt.internal.core.JavaProject.findType(JavaProject.java:1133)
	at org.eclipse.jdt.internal.core.JavaProject.findType(JavaProject.java:1106)
	at
org.eclipse.jdt.junit.wizards.NewTestCaseWizardPageOne.resolveClassNameToType(NewTestCaseWizardPageOne.java:859)
	at
org.eclipse.jdt.junit.wizards.NewTestCaseWizardPageOne.superClassChanged(NewTestCaseWizardPageOne.java:829)
	at
org.eclipse.jdt.ui.wizards.NewTypeWizardPage.typePageDialogFieldChanged(NewTypeWizardPage.java:903)
	at
org.eclipse.jdt.ui.wizards.NewTypeWizardPage.access$2(NewTypeWizardPage.java:867)
	at
org.eclipse.jdt.ui.wizards.NewTypeWizardPage$TypeFieldsAdapter.dialogFieldChanged(NewTypeWizardPage.java:810)
	at
org.eclipse.jdt.internal.ui.wizards.dialogfields.DialogField.dialogFieldChanged(DialogField.java:70)
	at
org.eclipse.jdt.internal.ui.wizards.dialogfields.StringDialogField.doModifyText(StringDialogField.java:130)
	at
org.eclipse.jdt.internal.ui.wizards.dialogfields.StringDialogField.access$0(StringDialogField.java:126)
	at
org.eclipse.jdt.internal.ui.wizards.dialogfields.StringDialogField$1.modifyText(StringDialogField.java:108)
	at org.eclipse.swt.widgets.TypedListener.handleEvent(TypedListener.java:188)
	at org.eclipse.swt.widgets.EventTable.sendEvent(EventTable.java:66)
	at org.eclipse.swt.widgets.Widget.sendEvent(Widget.java:843)
	at org.eclipse.swt.widgets.Widget.sendEvent(Widget.java:867)
	at org.eclipse.swt.widgets.Widget.sendEvent(Widget.java:848)
	at org.eclipse.swt.widgets.Text.wmCommandChild(Text.java:2061)
	at org.eclipse.swt.widgets.Control.WM_COMMAND(Control.java:3164)
	at org.eclipse.swt.widgets.Control.windowProc(Control.java:3041)
	at org.eclipse.swt.widgets.Display.windowProc(Display.java:3706)
	at org.eclipse.swt.internal.win32.OS.CallWindowProcW(Native Method)
	at org.eclipse.swt.internal.win32.OS.CallWindowProc(OS.java:1580)
	at org.eclipse.swt.widgets.Text.callWindowProc(Text.java:131)
	at org.eclipse.swt.widgets.Control.windowProc(Control.java:3123)
	at org.eclipse.swt.widgets.Text.windowProc(Text.java:1777)
	at org.eclipse.swt.widgets.Display.windowProc(Display.java:3706)
	at org.eclipse.swt.internal.win32.OS.SetWindowTextW(Native Method)
	at org.eclipse.swt.internal.win32.OS.SetWindowText(OS.java:2355)
	at org.eclipse.swt.widgets.Text.setText(Text.java:1593)
	at
org.eclipse.jdt.internal.ui.wizards.dialogfields.StringDialogField.setText(StringDialogField.java:160)
	at
org.eclipse.jdt.ui.wizards.NewTypeWizardPage.setSuperClass(NewTypeWizardPage.java:1139)
	at
org.eclipse.jdt.junit.wizards.NewTestCaseWizardPageOne.createControl(NewTestCaseWizardPageOne.java:261)
	at org.eclipse.jface.wizard.Wizard.createPageControls(Wizard.java:179)
	at org.eclipse.jface.wizard.WizardDialog.createPageControls(WizardDialog.java:611)
	at org.eclipse.jface.wizard.WizardDialog.setWizard(WizardDialog.java:965)
	at org.eclipse.jface.wizard.WizardDialog.updateForPage(WizardDialog.java:1016)
	at org.eclipse.jface.wizard.WizardDialog.access$2(WizardDialog.java:1013)
	at org.eclipse.jface.wizard.WizardDialog$4.run(WizardDialog.java:1003)
	at org.eclipse.swt.custom.BusyIndicator.showWhile(BusyIndicator.java:69)
	at org.eclipse.jface.wizard.WizardDialog.showPage(WizardDialog.java:1001)
	at
org.eclipse.ui.internal.dialogs.NewWizardSelectionPage.advanceToNextPageOrFinish(NewWizardSelectionPage.java:71)
	at
org.eclipse.ui.internal.dialogs.NewWizardNewPage$2.doubleClick(NewWizardNewPage.java:372)
	at org.eclipse.jface.viewers.StructuredViewer$1.run(StructuredViewer.java:720)
	at
org.eclipse.core.internal.runtime.InternalPlatform.run(InternalPlatform.java:1044)
	at org.eclipse.core.runtime.Platform.run(Platform.java:783)
	at org.eclipse.ui.internal.JFaceUtil$1.run(JFaceUtil.java:44)
	at org.eclipse.jface.util.SafeRunnable.run(SafeRunnable.java:148)
	at
org.eclipse.jface.viewers.StructuredViewer.fireDoubleClick(StructuredViewer.java:718)
	at
org.eclipse.jface.viewers.StructuredViewer.handleDoubleSelect(StructuredViewer.java:950)
	at
org.eclipse.jface.viewers.StructuredViewer$4.widgetDefaultSelected(StructuredViewer.java:1057)
	at
org.eclipse.jface.util.OpenStrategy.fireDefaultSelectionEvent(OpenStrategy.java:219)
	at org.eclipse.jface.util.OpenStrategy.access$0(OpenStrategy.java:216)
	at org.eclipse.jface.util.OpenStrategy$1.handleEvent(OpenStrategy.java:275)
	at org.eclipse.swt.widgets.EventTable.sendEvent(EventTable.java:66)
	at org.eclipse.swt.widgets.Widget.sendEvent(Widget.java:843)
	at org.eclipse.swt.widgets.Display.runDeferredEvents(Display.java:3080)
	at org.eclipse.swt.widgets.Display.readAndDispatch(Display.java:2713)
	at org.eclipse.jface.window.Window.runEventLoop(Window.java:809)
	at org.eclipse.jface.window.Window.open(Window.java:787)
	at org.eclipse.ui.actions.NewWizardAction.run(NewWizardAction.java:181)
	at org.eclipse.jface.action.Action.runWithEvent(Action.java:996)
	at org.eclipse.jface.commands.ActionHandler.execute(ActionHandler.java:117)
	at org.eclipse.core.commands.Command.execute(Command.java:311)
	at
org.eclipse.core.commands.ParameterizedCommand.execute(ParameterizedCommand.java:396)
	at
org.eclipse.ui.internal.keys.WorkbenchKeyboard.executeCommand(WorkbenchKeyboard.java:459)
	at org.eclipse.ui.internal.keys.WorkbenchKeyboard.press(WorkbenchKeyboard.java:781)
	at
org.eclipse.ui.internal.keys.WorkbenchKeyboard.processKeyEvent(WorkbenchKeyboard.java:828)
	at
org.eclipse.ui.internal.keys.WorkbenchKeyboard.filterKeySequenceBindings(WorkbenchKeyboard.java:550)
	at
org.eclipse.ui.internal.keys.WorkbenchKeyboard.access$3(WorkbenchKeyboard.java:493)
	at
org.eclipse.ui.internal.keys.WorkbenchKeyboard$KeyDownFilter.handleEvent(WorkbenchKeyboard.java:117)
	at org.eclipse.swt.widgets.EventTable.sendEvent(EventTable.java:66)
	at org.eclipse.swt.widgets.Display.filterEvent(Display.java:917)
	at org.eclipse.swt.widgets.Widget.sendEvent(Widget.java:842)
	at org.eclipse.swt.widgets.Widget.sendEvent(Widget.java:867)
	at org.eclipse.swt.widgets.Widget.sendEvent(Widget.java:852)
	at org.eclipse.swt.widgets.Widget.sendKeyEvent(Widget.java:880)
	at org.eclipse.swt.widgets.Widget.sendKeyEvent(Widget.java:876)
	at org.eclipse.swt.widgets.Widget.wmChar(Widget.java:1190)
	at org.eclipse.swt.widgets.Control.WM_CHAR(Control.java:3135)
	at org.eclipse.swt.widgets.Tree.WM_CHAR(Tree.java:2431)
	at org.eclipse.swt.widgets.Control.windowProc(Control.java:3038)
	at org.eclipse.swt.widgets.Tree.windowProc(Tree.java:2391)
	at org.eclipse.swt.widgets.Display.windowProc(Display.java:3706)
	at org.eclipse.swt.internal.win32.OS.DispatchMessageW(Native Method)
	at org.eclipse.swt.internal.win32.OS.DispatchMessage(OS.java:1656)
	at org.eclipse.swt.widgets.Display.readAndDispatch(Display.java:2711)
	at org.eclipse.ui.internal.Workbench.runEventLoop(Workbench.java:1699)
	at org.eclipse.ui.internal.Workbench.runUI(Workbench.java:1663)
	at org.eclipse.ui.internal.Workbench.createAndRunWorkbench(Workbench.java:367)
	at org.eclipse.ui.PlatformUI.createAndRunWorkbench(PlatformUI.java:143)
	at org.eclipse.ui.internal.ide.IDEApplication.run(IDEApplication.java:103)
	at
org.eclipse.core.internal.runtime.PlatformActivator$1.run(PlatformActivator.java:226)
	at org.eclipse.core.runtime.adaptor.EclipseStarter.run(EclipseStarter.java:376)
	at org.eclipse.core.runtime.adaptor.EclipseStarter.run(EclipseStarter.java:163)
	at sun.reflect.NativeMethodAccessorImpl.invoke0(Native Method)
	at sun.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:39)
	at
sun.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:25)
	at java.lang.reflect.Method.invoke(Method.java:585)
	at org.eclipse.core.launcher.Main.invokeFramework(Main.java:334)
	at org.eclipse.core.launcher.Main.basicRun(Main.java:278)
	at org.eclipse.core.launcher.Main.run(Main.java:973)
	at org.eclipse.core.launcher.Main.main(Main.java:948)
Martin, NewTestCaseWizardPageOne#superClassChanged() (and other clients) assume
that NewContainerWizardPage#getPackageFragmentRoot() only returns a root iff its
java project exists (and null otherwise).

Could NewContainerWizardPage#getPackageFragmentRoot() be changed to follow this
assumption? If not, we have to fix all clients (e.g. also the content assistant
in the new type dialog) to check this.
I think we have to fix this in the clients:
NewContainerWizardPage is API. An implementation could allow to create types in
non-java projects or non-existing projects.

Note that you can check the fContainerStatus if the validation of the root is ok.

 


*** This bug has been marked as a duplicate of 151853 ***</WithOutStack>
  </Bug>
  <Bug>
    <BugId amount="104011" />
    <CreationDate amount="2005-07-15 10:30:00 -0400" />
    <DupId amount="104058" />
    <classification amount="Eclipse Foundation" />
    <Product amount="z_Archived" />
    <component amount="VE" />
    <Version amount="unspecified" />
    <rep_platform amount="PC" />
    <op_sys amount="Windows XP" />
    <priority amount="P3" />
    <bug_severity amount="normal" />
    <Summery>[JVERCP01] non-UI plugin has no feedback why i can't create a View</Summery>
    <Patches amount="0" />
    <Stacktraces amount="0" />
    <SourceCodeRegions amount="0" />
    <Enumerations amount="0" />
    <bug_status amount="CLOSED" />
    <resolution amount="DUPLICATE" />
    <WithStack>I20050715

If I try to create a View in a non-plugin project i get a message "must be in a
plugin to create an RCP ....."   However, if i am in a non-UI plugin I am not
allowed to create a View, but it does not tell me why.


*** This bug has been marked as a duplicate of 104058 ***
closed as duplicate of bug 104058 for 1.1</WithStack>
    <WithOutStack>I20050715

If I try to create a View in a non-plugin project i get a message "must be in a
plugin to create an RCP ....."   However, if i am in a non-UI plugin I am not
allowed to create a View, but it does not tell me why.


*** This bug has been marked as a duplicate of 104058 ***
closed as duplicate of bug 104058 for 1.1</WithOutStack>
  </Bug>
  <Bug>
    <BugId amount="104012" />
    <CreationDate amount="2005-07-15 10:30:00 -0400" />
    <DupId amount="" />
    <classification amount="Eclipse Foundation" />
    <Product amount="z_Archived" />
    <component amount="VE" />
    <Version amount="unspecified" />
    <rep_platform amount="PC" />
    <op_sys amount="Windows XP" />
    <priority amount="P3" />
    <bug_severity amount="normal" />
    <Summery>JVEWRKB01: Test script needs to be update to using Eclipse 3.1</Summery>
    <Patches amount="0" />
    <Stacktraces amount="0" />
    <SourceCodeRegions amount="0" />
    <Enumerations amount="0" />
    <bug_status amount="CLOSED" />
    <resolution amount="FIXED" />
    <WithStack>The script is outdated and instructs you navigate through menus/menuitems that
are incorrect.
updated and commited test case.
closing, was fixed for 1.1.0.1</WithStack>
    <WithOutStack>The script is outdated and instructs you navigate through menus/menuitems that
are incorrect.
updated and commited test case.
closing, was fixed for 1.1.0.1</WithOutStack>
  </Bug>
  <Bug>
    <BugId amount="104013" />
    <CreationDate amount="2005-07-15 10:36:00 -0400" />
    <DupId amount="" />
    <classification amount="Eclipse Foundation" />
    <Product amount="z_Archived" />
    <component amount="VE" />
    <Version amount="unspecified" />
    <rep_platform amount="PC" />
    <op_sys amount="Windows XP" />
    <priority amount="P3" />
    <bug_severity amount="normal" />
    <Summery>Drop on a paused editor have an hour glass cursor</Summery>
    <Patches amount="0" />
    <Stacktraces amount="0" />
    <SourceCodeRegions amount="0" />
    <Enumerations amount="0" />
    <bug_status amount="NEW" />
    <resolution amount="" />
    <WithStack>Should be a not cursor... see attachement
Created attachment 24839
Cursor</WithStack>
    <WithOutStack>Should be a not cursor... see attachement
Created attachment 24839
Cursor</WithOutStack>
  </Bug>
  <Bug>
    <BugId amount="104014" />
    <CreationDate amount="2005-07-15 10:39:00 -0400" />
    <DupId amount="" />
    <classification amount="Tools" />
    <Product amount="CDT" />
    <component amount="cdt-parser" />
    <Version amount="3.0" />
    <rep_platform amount="PC" />
    <op_sys amount="Windows XP" />
    <priority amount="P3" />
    <bug_severity amount="normal" />
    <Summery>Scanner doesn't handle ampty argument for function macros</Summery>
    <Patches amount="0" />
    <Stacktraces amount="0" />
    <SourceCodeRegions amount="2">
      <source_code type="functiondef">
        <location start="308" end="353" />
        <code>#define MYMACRO(a,b)\
{\
 stdcout &lt;&lt; a &lt;&lt; b;}</code>
      </source_code>
      <source_code type="functiondef">
        <location start="594" end="648" />
        <code>#define MYMACRO(a,b)\
{\
  std::cout &lt;&lt; "a" &lt;&lt; "b";\
}</code>
      </source_code>
    </SourceCodeRegions>
    <Enumerations amount="0" />
    <bug_status amount="RESOLVED" />
    <resolution amount="FIXED" />
    <WithStack>See AST2CSpecFailingTest.test6_10_3_5s7()

In general, we don't handle an empty argument into a function style macro, and
instead we raise a problem.
(In reply to comment #0)
&gt; See AST2CSpecFailingTest.test6_10_3_5s7()

I don't know what this means, but I've come here to report the following annoying bug:

#define MYMACRO(a,b)\
{\
 stdcout &lt;&lt; a &lt;&lt; b;}
}
MYMACRO ("a",)

compiles fine, but eclipse says:
C/C++ Indexer Problem: Macro usage error for macro MYMACRO

Is that what you mean?

Btw.: The spelling error in the summary should be fixed to make it easier to find this bug.

Should be:

#define MYMACRO(a,b)\
{\
  std::cout &lt;&lt; "a" &lt;&lt; "b";\
}
MYMACRO(a,)
The C99 preprocessor handles empty arguments. The given example works fine with the C99 parser.
*** Bug 195610 has been marked as a duplicate of this bug. ***
Thanks Sergey, I have applied your patch attached to bug 195610.
Fixed in 4.0.1 &gt; 20070723.</WithStack>
    <WithOutStack>See AST2CSpecFailingTest.test6_10_3_5s7()

In general, we don't handle an empty argument into a function style macro, and
instead we raise a problem.
(In reply to comment #0)
&gt; See AST2CSpecFailingTest.test6_10_3_5s7()

I don't know what this means, but I've come here to report the following annoying bug:

#define MYMACRO(a,b)\
{\
 stdcout &lt;&lt; a &lt;&lt; b;}
}
MYMACRO ("a",)

compiles fine, but eclipse says:
C/C++ Indexer Problem: Macro usage error for macro MYMACRO

Is that what you mean?

Btw.: The spelling error in the summary should be fixed to make it easier to find this bug.

Should be:

#define MYMACRO(a,b)\
{\
  std::cout &lt;&lt; "a" &lt;&lt; "b";\
}
MYMACRO(a,)
The C99 preprocessor handles empty arguments. The given example works fine with the C99 parser.
*** Bug 195610 has been marked as a duplicate of this bug. ***
Thanks Sergey, I have applied your patch attached to bug 195610.
Fixed in 4.0.1 &gt; 20070723.</WithOutStack>
  </Bug>
  <Bug>
    <BugId amount="104015" />
    <CreationDate amount="2005-07-15 10:40:00 -0400" />
    <DupId amount="103877" />
    <classification amount="Eclipse Foundation" />
    <Product amount="z_Archived" />
    <component amount="VE" />
    <Version amount="unspecified" />
    <rep_platform amount="PC" />
    <op_sys amount="Linux" />
    <priority amount="P3" />
    <bug_severity amount="major" />
    <Summery>JVELAYT04 CardLayout image refresh problems</Summery>
    <Patches amount="0" />
    <Stacktraces amount="0" />
    <SourceCodeRegions amount="0" />
    <Enumerations amount="0" />
    <bug_status amount="CLOSED" />
    <resolution amount="DUPLICATE" />
    <WithStack>I had a JPanel in CardLayout with JTable, JTree, JRadioButton and JOptionPane as
children. On the default cardlayout I set the hgap, so the property got promoted
and hgap was set. (i had image refresh problems here itself). i added in the source 
    cardLayout.setVGap(20); 
and though it updated in the propertysheet, the UI didnt refresh. It could be
that my machine is slow and this manifests in those conditions.
The problem happens also when switching from CardLayout &gt; BorderLayout
Sri, not sure but this might be related to the problems you had with CardLayout
in bug 103893 (and a slow Linux box). I could not recreated this problem either.
The graph view always updated when I set and commented out the setVgap statement.
Peter, it could be the similar bug but switching layouts is also broke in that i
switch from CardLayout to BorderLayout and the EditParts remain the same. Only
source gets generated. I have this reproduceable on a dev environment on linux
machine.
I couldn't reproduce the problem with switching layouts on my SUSE 9.0 linux
machine. But there are definite problems with CardLayout not refreshing
correctly on Linux. But I think this is all one big related problem with
CardLayout so we'll track this via bug 103877. After we fix that and there is
still a problem with switching layouts, please reopen.

*** This bug has been marked as a duplicate of 103877 ***
VE 1.1 is released. Moving to closed.</WithStack>
    <WithOutStack>I had a JPanel in CardLayout with JTable, JTree, JRadioButton and JOptionPane as
children. On the default cardlayout I set the hgap, so the property got promoted
and hgap was set. (i had image refresh problems here itself). i added in the source 
    cardLayout.setVGap(20); 
and though it updated in the propertysheet, the UI didnt refresh. It could be
that my machine is slow and this manifests in those conditions.
The problem happens also when switching from CardLayout &gt; BorderLayout
Sri, not sure but this might be related to the problems you had with CardLayout
in bug 103893 (and a slow Linux box). I could not recreated this problem either.
The graph view always updated when I set and commented out the setVgap statement.
Peter, it could be the similar bug but switching layouts is also broke in that i
switch from CardLayout to BorderLayout and the EditParts remain the same. Only
source gets generated. I have this reproduceable on a dev environment on linux
machine.
I couldn't reproduce the problem with switching layouts on my SUSE 9.0 linux
machine. But there are definite problems with CardLayout not refreshing
correctly on Linux. But I think this is all one big related problem with
CardLayout so we'll track this via bug 103877. After we fix that and there is
still a problem with switching layouts, please reopen.

*** This bug has been marked as a duplicate of 103877 ***
VE 1.1 is released. Moving to closed.</WithOutStack>
  </Bug>
  <Bug>
    <BugId amount="104016" />
    <CreationDate amount="2005-07-15 10:41:00 -0400" />
    <DupId amount="" />
    <classification amount="WebTools" />
    <Product amount="WTP Common Tools" />
    <component amount="wst.validation" />
    <Version amount="0.7" />
    <rep_platform amount="PC" />
    <op_sys amount="Windows XP" />
    <priority amount="P2" />
    <bug_severity amount="critical" />
    <Summery>Validation Framework should ignore validation of files in .deployables folder</Summery>
    <Patches amount="0" />
    <Stacktraces amount="0" />
    <SourceCodeRegions amount="0" />
    <Enumerations amount="0" />
    <bug_status amount="CLOSED" />
    <resolution amount="FIXED" />
    <WithStack>The validation framework needs to ignore the validation of files in the
.deployables folder. Without this fix each validator is forced to add in code to
igonre this folder during validation. This is a temporory fix for 0.7 that needs
to be removed once the .deployables folder is removed in M8
Will be fixed in 0.7 RC2 timeframe.
Fix released. Will be available in the 0720 I build
closing resolved defect</WithStack>
    <WithOutStack>The validation framework needs to ignore the validation of files in the
.deployables folder. Without this fix each validator is forced to add in code to
igonre this folder during validation. This is a temporory fix for 0.7 that needs
to be removed once the .deployables folder is removed in M8
Will be fixed in 0.7 RC2 timeframe.
Fix released. Will be available in the 0720 I build
closing resolved defect</WithOutStack>
  </Bug>
  <Bug>
    <BugId amount="104017" />
    <CreationDate amount="2005-07-15 10:44:00 -0400" />
    <DupId amount="" />
    <classification amount="Tools" />
    <Product amount="CDT" />
    <component amount="cdt-core" />
    <Version amount="3.0" />
    <rep_platform amount="PC" />
    <op_sys amount="Windows XP" />
    <priority amount="P3" />
    <bug_severity amount="normal" />
    <Summery>[Open Declarations/Definition] last attempt with linked resources and a problem AST does not work because of the scope</Summery>
    <Patches amount="0" />
    <Stacktraces amount="0" />
    <SourceCodeRegions amount="3">
      <source_code type="singlecomment">
        <location start="245" end="281" />
        <code>// example.h is a linked resource:</code>
      </source_code>
      <source_code type="singlecomment">
        <location start="288" end="326" />
        <code>// example.cpp is a linked resource:</code>
      </source_code>
      <source_code type="functiondef">
        <location start="348" end="398" />
        <code>int foo() {
   abc
   return x; // F3 on x fails
}</code>
      </source_code>
    </SourceCodeRegions>
    <Enumerations amount="1">
      <Enumeration lines="5">
        <Lines>
          <Line>- there is an IASTProblemDeclaration so it is not found via the DOM AST</Line>
          <Line>- the files are linked resources so for some reason they can not be found via</Line>
          <Line>the index (the reason seems to be because of the scope)</Line>
          <Line>int x;</Line>
          <Line>#include "example.h"</Line>
        </Lines>
      </Enumeration>
    </Enumerations>
    <bug_status amount="RESOLVED" />
    <resolution amount="WORKSFORME" />
    <WithStack>F3 on x in example.cpp fails because:
- there is an IASTProblemDeclaration so it is not found via the DOM AST
- the files are linked resources so for some reason they can not be found via 
the index (the reason seems to be because of the scope)

// example.h is a linked resource:
int x;

// example.cpp is a linked resource:
#include "example.h"

int foo() {
   abc
   return x; // F3 on x fails
}
This has already been fixed.</WithStack>
    <WithOutStack>F3 on x in example.cpp fails because:
- there is an IASTProblemDeclaration so it is not found via the DOM AST
- the files are linked resources so for some reason they can not be found via 
the index (the reason seems to be because of the scope)

// example.h is a linked resource:
int x;

// example.cpp is a linked resource:
#include "example.h"

int foo() {
   abc
   return x; // F3 on x fails
}
This has already been fixed.</WithOutStack>
  </Bug>
  <Bug>
    <BugId amount="104018" />
    <CreationDate amount="2005-07-15 10:49:00 -0400" />
    <DupId amount="105050" />
    <classification amount="WebTools" />
    <Product amount="WTP Java EE Tools" />
    <component amount="jst.j2ee" />
    <Version amount="0.7" />
    <rep_platform amount="PC" />
    <op_sys amount="Windows XP" />
    <priority amount="P4" />
    <bug_severity amount="major" />
    <Summery>EAR Import that contains modules with same name breaks</Summery>
    <Patches amount="0" />
    <Stacktraces amount="0" />
    <SourceCodeRegions amount="0" />
    <Enumerations amount="0" />
    <bug_status amount="CLOSED" />
    <resolution amount="DUPLICATE" />
    <WithStack>Tried Importing an EAR (MultiEJBJar.ear) that contains join.jar and join.war

It created one component (join)  and combined the contents of both...
Update data model to verify and increment the module names by adding a 1.  I can
send you the EAR.
Deferring to M8 - Not a mainstream scenario


*** This bug has been marked as a duplicate of 105050 ***
Verified on M9 candidate
dup</WithStack>
    <WithOutStack>Tried Importing an EAR (MultiEJBJar.ear) that contains join.jar and join.war

It created one component (join)  and combined the contents of both...
Update data model to verify and increment the module names by adding a 1.  I can
send you the EAR.
Deferring to M8 - Not a mainstream scenario


*** This bug has been marked as a duplicate of 105050 ***
Verified on M9 candidate
dup</WithOutStack>
  </Bug>
  <Bug>
    <BugId amount="104019" />
    <CreationDate amount="2005-07-15 10:50:00 -0400" />
    <DupId amount="22536" />
    <classification amount="Eclipse" />
    <Product amount="JDT" />
    <component amount="Debug" />
    <Version amount="3.1" />
    <rep_platform amount="PC" />
    <op_sys amount="Windows XP" />
    <priority amount="P3" />
    <bug_severity amount="normal" />
    <Summery>jdt hits breakpoint of another project not involved in classpath</Summery>
    <Patches amount="0" />
    <Stacktraces amount="0" />
    <SourceCodeRegions amount="0" />
    <Enumerations amount="0" />
    <bug_status amount="RESOLVED" />
    <resolution amount="DUPLICATE" />
    <WithStack>I have 2 version of similar code (the cvs head and the cvs branch).
In project 1, I added breakpoint in a source X line Y.
In project 2, I don't have that breakpoint, but I do have the source X and line Y.
I launch/debug the version 2, but it unexpectedly breaks at the breakpoint in
project 1.

Meanwhile, breakpoint clearly belongs to projects, since many of them disappear
when I close a project. If they do belong to projects, then when the JDI starts
up, the jdt should register only the breakpoint of the current projects and the
projects in the classpath and/or source path.
known problem

*** This bug has been marked as a duplicate of 22536 ***</WithStack>
    <WithOutStack>I have 2 version of similar code (the cvs head and the cvs branch).
In project 1, I added breakpoint in a source X line Y.
In project 2, I don't have that breakpoint, but I do have the source X and line Y.
I launch/debug the version 2, but it unexpectedly breaks at the breakpoint in
project 1.

Meanwhile, breakpoint clearly belongs to projects, since many of them disappear
when I close a project. If they do belong to projects, then when the JDI starts
up, the jdt should register only the breakpoint of the current projects and the
projects in the classpath and/or source path.
known problem

*** This bug has been marked as a duplicate of 22536 ***</WithOutStack>
  </Bug>
  <Bug>
    <BugId amount="104020" />
    <CreationDate amount="2005-07-15 10:58:00 -0400" />
    <DupId amount="" />
    <classification amount="WebTools" />
    <Product amount="WTP Common Tools" />
    <component amount="wst.internet" />
    <Version amount="0.7" />
    <rep_platform amount="PC" />
    <op_sys amount="Windows XP" />
    <priority amount="P3" />
    <bug_severity amount="enhancement" />
    <Summery>TCP/IP Monitor Should Display Content According to Type</Summery>
    <Patches amount="0" />
    <Stacktraces amount="0" />
    <SourceCodeRegions amount="0" />
    <Enumerations amount="0" />
    <bug_status amount="CLOSED" />
    <resolution amount="WONTFIX" />
    <WithStack>The TCP/IP should look at the HTTP Content Type Header, and select the correct 
display format, e.g. XML for text/xml.
Assigning to myself.
I'd love to fix this but I can't find the time. I'm closing as WONTFIX. I'll reopen if I find some time.
Closing as part of mass query to clean up old resolved bugs in untargetted milestones.</WithStack>
    <WithOutStack>The TCP/IP should look at the HTTP Content Type Header, and select the correct 
display format, e.g. XML for text/xml.
Assigning to myself.
I'd love to fix this but I can't find the time. I'm closing as WONTFIX. I'll reopen if I find some time.
Closing as part of mass query to clean up old resolved bugs in untargetted milestones.</WithOutStack>
  </Bug>
  <Bug>
    <BugId amount="104021" />
    <CreationDate amount="2005-07-15 11:00:00 -0400" />
    <DupId amount="" />
    <classification amount="Eclipse" />
    <Product amount="JDT" />
    <component amount="UI" />
    <Version amount="3.1" />
    <rep_platform amount="PC" />
    <op_sys amount="Windows XP" />
    <priority amount="P3" />
    <bug_severity amount="minor" />
    <Summery>[quick fix] Introduce new local with casted type applied more than once</Summery>
    <Patches amount="0" />
    <Stacktraces amount="0" />
    <SourceCodeRegions amount="2">
      <source_code type="class">
        <location start="118" end="189" />
        <code>class Foo {
	void bar(Object o) {
		if (o instanceof String) {
		}
	}
}</code>
      </source_code>
      <source_code type="class">
        <location start="220" end="351" />
        <code>class Foo {
	void bar(Object o) {
		if (o instanceof String) {
			String string= (String) o;
			String string= (String) o;
		}
	}
}</code>
      </source_code>
    </SourceCodeRegions>
    <Enumerations amount="0" />
    <bug_status amount="RESOLVED" />
    <resolution amount="FIXED" />
    <WithStack>3.1

"Introduce new local with casted type" can be applied more than once resulting
in compile errors. Starting with:
class Foo {
	void bar(Object o) {
		if (o instanceof String) {
		}
	}
}
applying it twice results in:
class Foo {
	void bar(Object o) {
		if (o instanceof String) {
			String string= (String) o;
			String string= (String) o;
		}
	}
}
Created attachment 93195
exclude defined var names

Excludes already defined variable names in this context
fix released &gt; 20080411 (minor changes to the patch)
Thanks Benjamin.
*** Bug 114305 has been marked as a duplicate of this bug. ***</WithStack>
    <WithOutStack>3.1

"Introduce new local with casted type" can be applied more than once resulting
in compile errors. Starting with:
class Foo {
	void bar(Object o) {
		if (o instanceof String) {
		}
	}
}
applying it twice results in:
class Foo {
	void bar(Object o) {
		if (o instanceof String) {
			String string= (String) o;
			String string= (String) o;
		}
	}
}
Created attachment 93195
exclude defined var names

Excludes already defined variable names in this context
fix released &gt; 20080411 (minor changes to the patch)
Thanks Benjamin.
*** Bug 114305 has been marked as a duplicate of this bug. ***</WithOutStack>
  </Bug>
  <Bug>
    <BugId amount="104022" />
    <CreationDate amount="2005-07-15 11:06:00 -0400" />
    <DupId amount="" />
    <classification amount="Eclipse" />
    <Product amount="Platform" />
    <component amount="Text" />
    <Version amount="3.1" />
    <rep_platform amount="PC" />
    <op_sys amount="Linux" />
    <priority amount="P3" />
    <bug_severity amount="normal" />
    <Summery>[spell checking] spell checking with IBM VM doesn`t work if there are encoding errors</Summery>
    <Patches amount="0" />
    <Stacktraces amount="0" />
    <SourceCodeRegions amount="0" />
    <Enumerations amount="6">
      <Enumeration lines="17">
        <Lines>
          <Line>1) Original dict file contains about 112749 lines (words). May be it contains</Line>
          <Line>some 8-bit characters... I don`t know, but it is english dictionary... The</Line>
          <Line>'file' reports:</Line>
          <Line>=========</Line>
          <Line>cind@gold$ file words_new.dict</Line>
          <Line>words_new.dict: ISO-8859 text</Line>
          <Line>=========</Line>
          <Line />
          <Line>2) I have tranceted the words_new.dict upto 20 lines. Now `file` reports:</Line>
          <Line>=========</Line>
          <Line>cind@gold$ file words_small.dict</Line>
          <Line>words_small.dict: ASCII text</Line>
          <Line>=========</Line>
          <Line>Spell checking works fine whith this file!</Line>
          <Line />
          <Line>3) Next, I have trancated the main dict file again upto 200 lines. It become</Line>
          <Line>ISO-8859`encoded. Spell cheking stop working with it.</Line>
        </Lines>
      </Enumeration>
      <Enumeration lines="5">
        <Lines>
          <Line>- what's your locale?</Line>
          <Line>- is the -vm parameter the only one you specify?</Line>
          <Line>- if you open the preference in Genereal &gt; Editors &gt; Text Editors &gt; Spelling, do</Line>
          <Line>you see the correct user dictionary?</Line>
          <Line>- anything in .log?</Line>
        </Lines>
      </Enumeration>
      <Enumeration lines="18">
        <Lines>
          <Line>- what's your locale?</Line>
          <Line>- is the -vm parameter the only one you specify?</Line>
          <Line>========</Line>
          <Line>cind@gold:/opt/eclipse$ locale</Line>
          <Line>LANG=POSIX</Line>
          <Line>LC_CTYPE=ru_RU.UTF-8</Line>
          <Line>LC_NUMERIC="POSIX"</Line>
          <Line>LC_TIME="POSIX"</Line>
          <Line>LC_COLLATE="POSIX"</Line>
          <Line>LC_MONETARY="POSIX"</Line>
          <Line>LC_MESSAGES="POSIX"</Line>
          <Line>LC_PAPER="POSIX"</Line>
          <Line>LC_NAME="POSIX"</Line>
          <Line>LC_ADDRESS="POSIX"</Line>
          <Line>LC_TELEPHONE="POSIX"</Line>
          <Line>LC_MEASUREMENT="POSIX"</Line>
          <Line>LC_IDENTIFICATION="POSIX"</Line>
          <Line>LC_ALL=</Line>
        </Lines>
      </Enumeration>
      <Enumeration lines="7">
        <Lines>
          <Line>- anything in .log?</Line>
          <Line>Nothing.</Line>
          <Line>Tom, can you reproduce this?</Line>
          <Line>Andrey,</Line>
          <Line>- what's the encoding of your user dictionary file?</Line>
          <Line>- can you change to a (new) user dictionary which only contains some entries and</Line>
          <Line>check whether this works?</Line>
        </Lines>
      </Enumeration>
      <Enumeration lines="12">
        <Lines>
          <Line>- we use the default encoding for saving and reading dictionary files (should be</Line>
          <Line>UTF8 in this case)</Line>
          <Line>- in the past IBM VMs have been less tolerant with regard to illegal characters</Line>
          <Line>in encoded strings</Line>
          <Line>Well, it seems there are encoding propblems...</Line>
          <Line>1) Original dict file contains about 112749 lines (words). May be it contains</Line>
          <Line>some 8-bit characters... I don`t know, but it is english dictionary... The</Line>
          <Line>'file' reports:</Line>
          <Line>=========</Line>
          <Line>cind@gold$ file words_new.dict</Line>
          <Line>words_new.dict: ISO-8859 text</Line>
          <Line>=========</Line>
        </Lines>
      </Enumeration>
      <Enumeration lines="3">
        <Lines>
          <Line>- AbstractSpellDictionary.load(URL)</Line>
          <Line>- PersistentSpellDictionary.addWord(String)</Line>
          <Line>I've fixed this in HEAD to better detect problems in the future.</Line>
        </Lines>
      </Enumeration>
    </Enumerations>
    <bug_status amount="VERIFIED" />
    <resolution amount="FIXED" />
    <WithStack>Eclipse started with IBM JDK 1.4.2SR2. All correct words in Java and Properties
editors marked as misspelled. The "user dictionary" contains about 113000 words. 
All works just fine on Sun JDK.

Eclipse: 3.1 (I20050627-1435) on Linux
JDK: J2RE 1.4.2 IBM build cxia32142-20050609 (JIT enabled: jitc)
Maybe the default locale is different or your locale is not supported by the IBM VM?

- what's your locale?
- is the -vm parameter the only one you specify?
- if you open the preference in Genereal &gt; Editors &gt; Text Editors &gt; Spelling, do 
  you see the correct user dictionary?
- anything in .log?

Please reopen after the requested information has been provided.
The dict file contains english words only.

- what's your locale?
- is the -vm parameter the only one you specify?
========
cind@gold:/opt/eclipse$ locale
LANG=POSIX
LC_CTYPE=ru_RU.UTF-8
LC_NUMERIC="POSIX"
LC_TIME="POSIX"
LC_COLLATE="POSIX"
LC_MONETARY="POSIX"
LC_MESSAGES="POSIX"
LC_PAPER="POSIX"
LC_NAME="POSIX"
LC_ADDRESS="POSIX"
LC_TELEPHONE="POSIX"
LC_MEASUREMENT="POSIX"
LC_IDENTIFICATION="POSIX"
LC_ALL=

(Next the snips from Help &gt; About &gt; Configuration Details with IBM JDK)
eclipse.commands=-os
linux
-ws
gtk
-arch
x86
-launcher
/opt/eclipse/eclipse
-name
Eclipse
-showsplash
600
-exitdata
468017
-data
/home/cind/workspace
-vm
/opt/IBMJava2-142/bin/java
eclipse.product=org.eclipse.sdk.ide
eclipse.startTime=1121439235646
eclipse.vm=/opt/IBMJava2-142/bin/java
eclipse.vmargs=-Xverify:none
-Xmx256m
-Xms128m
-jar
/opt/eclipse/startup.jar

file.encoding=UTF-8
ibm.system.encoding=UTF-8
user.country=RU
user.language=ru
=======================
Next the same properties when running with SUN JDK:
========================
eclipse.commands=-os
linux
-ws
gtk
-arch
x86
-launcher
/opt/eclipse/eclipse
-name
Eclipse
-showsplash
600
-exitdata
768017
-data
/home/cind/workspace
-vm
/opt/j2sdk1.4.2_07/bin/java
eclipse.product=org.eclipse.sdk.ide
eclipse.startTime=1121756490339
eclipse.vm=/opt/j2sdk1.4.2_07/bin/java
eclipse.vmargs=-Xverify:none
-Xmx256m
-Xms128m
-jar
/opt/eclipse/startup.jar

file.encoding=UTF-8
user.country=RU
user.language=ru
====================

- if you open the preference in Genereal &gt; Editors &gt; Text Editors &gt; Spelling, do 
  you see the correct user dictionary?
Yes.

- anything in .log?
Nothing.
Tom, can you reproduce this?
Andrey, 
- what's the encoding of your user dictionary file?
- can you change to a (new) user dictionary which only contains some entries and
check whether this works?


Notes:
- we use the default encoding for saving and reading dictionary files (should be
UTF8 in this case)
- in the past IBM VMs have been less tolerant with regard to illegal characters
in encoded strings
Well, it seems there are encoding propblems...
1) Original dict file contains about 112749 lines (words). May be it contains
some 8-bit characters... I don`t know, but it is english dictionary... The
'file' reports:
=========
cind@gold$ file words_new.dict
words_new.dict: ISO-8859 text
=========

2) I have tranceted the words_new.dict upto 20 lines. Now `file` reports:
=========
cind@gold$ file words_small.dict
words_small.dict: ASCII text
=========
Spell checking works fine whith this file!

3) Next, I have trancated the main dict file again upto 200 lines. It become
ISO-8859`encoded. Spell cheking stop working with it.

I can attach last 200-words-sized dict (1,8 Kb).
An IOException is ignored in
- AbstractSpellDictionary.load(URL)
- PersistentSpellDictionary.addWord(String)
I've fixed this in HEAD to better detect problems in the future.

*** Bug 105293 has been marked as a duplicate of this bug. ***
*** Bug 156288 has been marked as a duplicate of this bug. ***
I've now fixed this in HEAD the following way:
1. an error will be reported telling about the encoding problem and showing
   which word failed (with '?' in place of the malformed characters
2. the line is ignored and reading the dictionary continues on the next line

Available in builds &gt;= I20061121-0800.

Could this fix be backported to 3.2.2?
The fix is pretty new and uses nio. I would need to have an additional committer review the code to make sure not to break 3.2.2. Maybe Rafael, he encoding work for Platform Resources.
Any update since comment 12?
No. I still wait for someone willing to review and I would need a PMC +1 for this.
McQ, would you be the one to review this for 3.2.2?

If we get the +1 from the PMC I can also find a reviewer in zrh.
Does using NIO introduce new constraints on execution environment?
Nope. it's in JDT UI and this requires 1.4 which contains nio.

If you want to take a look compare AbstractSpellDictionary.load(URL) from HEAD with R3_2 (the file contains several other changes but they are irrelevant for this fix).
I'm fine with the change (+1) if you can get it reviewed by someone competent. ;-)
Reopening for inclusion into 3.2.2.
Backported the fix to R3_2_maintenance and released into M20070110-0800.
Reviewed by Martin.

Verified in M20070112-1200.</WithStack>
    <WithOutStack>Eclipse started with IBM JDK 1.4.2SR2. All correct words in Java and Properties
editors marked as misspelled. The "user dictionary" contains about 113000 words. 
All works just fine on Sun JDK.

Eclipse: 3.1 (I20050627-1435) on Linux
JDK: J2RE 1.4.2 IBM build cxia32142-20050609 (JIT enabled: jitc)
Maybe the default locale is different or your locale is not supported by the IBM VM?

- what's your locale?
- is the -vm parameter the only one you specify?
- if you open the preference in Genereal &gt; Editors &gt; Text Editors &gt; Spelling, do 
  you see the correct user dictionary?
- anything in .log?

Please reopen after the requested information has been provided.
The dict file contains english words only.

- what's your locale?
- is the -vm parameter the only one you specify?
========
cind@gold:/opt/eclipse$ locale
LANG=POSIX
LC_CTYPE=ru_RU.UTF-8
LC_NUMERIC="POSIX"
LC_TIME="POSIX"
LC_COLLATE="POSIX"
LC_MONETARY="POSIX"
LC_MESSAGES="POSIX"
LC_PAPER="POSIX"
LC_NAME="POSIX"
LC_ADDRESS="POSIX"
LC_TELEPHONE="POSIX"
LC_MEASUREMENT="POSIX"
LC_IDENTIFICATION="POSIX"
LC_ALL=

(Next the snips from Help &gt; About &gt; Configuration Details with IBM JDK)
eclipse.commands=-os
linux
-ws
gtk
-arch
x86
-launcher
/opt/eclipse/eclipse
-name
Eclipse
-showsplash
600
-exitdata
468017
-data
/home/cind/workspace
-vm
/opt/IBMJava2-142/bin/java
eclipse.product=org.eclipse.sdk.ide
eclipse.startTime=1121439235646
eclipse.vm=/opt/IBMJava2-142/bin/java
eclipse.vmargs=-Xverify:none
-Xmx256m
-Xms128m
-jar
/opt/eclipse/startup.jar

file.encoding=UTF-8
ibm.system.encoding=UTF-8
user.country=RU
user.language=ru
=======================
Next the same properties when running with SUN JDK:
========================
eclipse.commands=-os
linux
-ws
gtk
-arch
x86
-launcher
/opt/eclipse/eclipse
-name
Eclipse
-showsplash
600
-exitdata
768017
-data
/home/cind/workspace
-vm
/opt/j2sdk1.4.2_07/bin/java
eclipse.product=org.eclipse.sdk.ide
eclipse.startTime=1121756490339
eclipse.vm=/opt/j2sdk1.4.2_07/bin/java
eclipse.vmargs=-Xverify:none
-Xmx256m
-Xms128m
-jar
/opt/eclipse/startup.jar

file.encoding=UTF-8
user.country=RU
user.language=ru
====================

- if you open the preference in Genereal &gt; Editors &gt; Text Editors &gt; Spelling, do 
  you see the correct user dictionary?
Yes.

- anything in .log?
Nothing.
Tom, can you reproduce this?
Andrey, 
- what's the encoding of your user dictionary file?
- can you change to a (new) user dictionary which only contains some entries and
check whether this works?


Notes:
- we use the default encoding for saving and reading dictionary files (should be
UTF8 in this case)
- in the past IBM VMs have been less tolerant with regard to illegal characters
in encoded strings
Well, it seems there are encoding propblems...
1) Original dict file contains about 112749 lines (words). May be it contains
some 8-bit characters... I don`t know, but it is english dictionary... The
'file' reports:
=========
cind@gold$ file words_new.dict
words_new.dict: ISO-8859 text
=========

2) I have tranceted the words_new.dict upto 20 lines. Now `file` reports:
=========
cind@gold$ file words_small.dict
words_small.dict: ASCII text
=========
Spell checking works fine whith this file!

3) Next, I have trancated the main dict file again upto 200 lines. It become
ISO-8859`encoded. Spell cheking stop working with it.

I can attach last 200-words-sized dict (1,8 Kb).
An IOException is ignored in
- AbstractSpellDictionary.load(URL)
- PersistentSpellDictionary.addWord(String)
I've fixed this in HEAD to better detect problems in the future.

*** Bug 105293 has been marked as a duplicate of this bug. ***
*** Bug 156288 has been marked as a duplicate of this bug. ***
I've now fixed this in HEAD the following way:
1. an error will be reported telling about the encoding problem and showing
   which word failed (with '?' in place of the malformed characters
2. the line is ignored and reading the dictionary continues on the next line

Available in builds &gt;= I20061121-0800.

Could this fix be backported to 3.2.2?
The fix is pretty new and uses nio. I would need to have an additional committer review the code to make sure not to break 3.2.2. Maybe Rafael, he encoding work for Platform Resources.
Any update since comment 12?
No. I still wait for someone willing to review and I would need a PMC +1 for this.
McQ, would you be the one to review this for 3.2.2?

If we get the +1 from the PMC I can also find a reviewer in zrh.
Does using NIO introduce new constraints on execution environment?
Nope. it's in JDT UI and this requires 1.4 which contains nio.

If you want to take a look compare AbstractSpellDictionary.load(URL) from HEAD with R3_2 (the file contains several other changes but they are irrelevant for this fix).
I'm fine with the change (+1) if you can get it reviewed by someone competent. ;-)
Reopening for inclusion into 3.2.2.
Backported the fix to R3_2_maintenance and released into M20070110-0800.
Reviewed by Martin.

Verified in M20070112-1200.</WithOutStack>
  </Bug>
  <Bug>
    <BugId amount="104023" />
    <CreationDate amount="2005-07-15 11:07:00 -0400" />
    <DupId amount="" />
    <classification amount="Eclipse Foundation" />
    <Product amount="z_Archived" />
    <component amount="VE" />
    <Version amount="unspecified" />
    <rep_platform amount="PC" />
    <op_sys amount="Linux-GTK" />
    <priority amount="P3" />
    <bug_severity amount="major" />
    <Summery>RCP View.java cannot run as Java Bean - can't find swt library</Summery>
    <Patches amount="0" />
    <Stacktraces amount="0" />
    <SourceCodeRegions amount="0" />
    <Enumerations amount="0" />
    <bug_status amount="CLOSED" />
    <resolution amount="FIXED" />
    <WithStack>Testing JVERCP01 - trying to launch View.java using Run as --&gt; Java Bean

Exception in thread "main" java.lang.UnsatisfiedLinkError: no swt-pi-gtk-3138 in
java.library.path
Gili, I'll get linux development workspace setup so we can debug this.
released to CVS.

Tested both with spaces/nospaces path for the cache on linux and windows
Tested on both Windows and Linux using VE 1.1RC1</WithStack>
    <WithOutStack>Testing JVERCP01 - trying to launch View.java using Run as --&gt; Java Bean

Exception in thread "main" java.lang.UnsatisfiedLinkError: no swt-pi-gtk-3138 in
java.library.path
Gili, I'll get linux development workspace setup so we can debug this.
released to CVS.

Tested both with spaces/nospaces path for the cache on linux and windows
Tested on both Windows and Linux using VE 1.1RC1</WithOutStack>
  </Bug>
  <Bug>
    <BugId amount="104024" />
    <CreationDate amount="2005-07-15 11:16:00 -0400" />
    <DupId amount="" />
    <classification amount="Tools" />
    <Product amount="AspectJ" />
    <component amount="Compiler" />
    <Version amount="DEVELOPMENT" />
    <rep_platform amount="PC" />
    <op_sys amount="Linux" />
    <priority amount="P3" />
    <bug_severity amount="normal" />
    <Summery>combining varargs and inner classes crashes the parser</Summery>
    <Patches amount="0" />
    <Stacktraces amount="0" />
    <SourceCodeRegions amount="2">
      <source_code type="class">
        <location start="0" end="39" />
        <code>class Outer {
  public class Inner {}
}</code>
      </source_code>
      <source_code type="class">
        <location start="42" end="261" />
        <code>public class Bug {
  public void varargs(Object... varargs) {}

  public void test() {
    Outer.Inner inner = new Outer().new Inner();
    varargs(inner); // works
    varargs(new Outer().new Inner()); // crashes
  }
}</code>
      </source_code>
    </SourceCodeRegions>
    <Enumerations amount="0" />
    <bug_status amount="RESOLVED" />
    <resolution amount="FIXED" />
    <WithStack>class Outer {
  public class Inner {}
}


public class Bug {
  public void varargs(Object... varargs) {}

  public void test() {
    Outer.Inner inner = new Outer().new Inner();
    varargs(inner); // works
    varargs(new Outer().new Inner()); // crashes
  }
}
for M4
This is fixed with the latest builds of the compiler (and quite probably in M3 too).</WithStack>
    <WithOutStack>class Outer {
  public class Inner {}
}


public class Bug {
  public void varargs(Object... varargs) {}

  public void test() {
    Outer.Inner inner = new Outer().new Inner();
    varargs(inner); // works
    varargs(new Outer().new Inner()); // crashes
  }
}
for M4
This is fixed with the latest builds of the compiler (and quite probably in M3 too).</WithOutStack>
  </Bug>
  <Bug>
    <BugId amount="104025" />
    <CreationDate amount="2005-07-15 11:22:00 -0400" />
    <DupId amount="" />
    <classification amount="Eclipse Foundation" />
    <Product amount="z_Archived" />
    <component amount="VE" />
    <Version amount="unspecified" />
    <rep_platform amount="PC" />
    <op_sys amount="Linux-GTK" />
    <priority amount="P3" />
    <bug_severity amount="major" />
    <Summery>RCP app re-ordering does not work correcly</Summery>
    <Patches amount="0" />
    <Stacktraces amount="0" />
    <SourceCodeRegions amount="0" />
    <Enumerations amount="0" />
    <bug_status amount="CLOSED" />
    <resolution amount="FIXED" />
    <WithStack>Testing JVERCP01 - in section that says: " Try to move the Subject, Subject
msg., From, Data labels around within the grid.. These labels re-use the local
instance variable and require special codegen handling.

verify that the right code is generated/updated.  ... you can verify this by
ensuring that there are no errors in the source code, and press the reload
button and ensure that the reverse parsing redraw the label right where you
placed them."

The script is a bit out of date because the grid layout has been re-written but
if you move the "From" into the first cell, move "Subject" into the cell the
"From" was in, and move the Subject msg left into the second column, everything
looks good in the graph view and beans view. But the code is in the incorrect order.

Do a reload and everything is in the wrong locations.
Turned out that the SF/index schema did not take into account that it is
possible to have multiple containers in the same method, and the SF/index of
different containers (banner, and parent) were mixed
VE 1.1 is released. Moving to closed.</WithStack>
    <WithOutStack>Testing JVERCP01 - in section that says: " Try to move the Subject, Subject
msg., From, Data labels around within the grid.. These labels re-use the local
instance variable and require special codegen handling.

verify that the right code is generated/updated.  ... you can verify this by
ensuring that there are no errors in the source code, and press the reload
button and ensure that the reverse parsing redraw the label right where you
placed them."

The script is a bit out of date because the grid layout has been re-written but
if you move the "From" into the first cell, move "Subject" into the cell the
"From" was in, and move the Subject msg left into the second column, everything
looks good in the graph view and beans view. But the code is in the incorrect order.

Do a reload and everything is in the wrong locations.
Turned out that the SF/index schema did not take into account that it is
possible to have multiple containers in the same method, and the SF/index of
different containers (banner, and parent) were mixed
VE 1.1 is released. Moving to closed.</WithOutStack>
  </Bug>
  <Bug>
    <BugId amount="104026" />
    <CreationDate amount="2005-07-15 11:22:00 -0400" />
    <DupId amount="" />
    <classification amount="Eclipse Foundation" />
    <Product amount="z_Archived" />
    <component amount="VE" />
    <Version amount="unspecified" />
    <rep_platform amount="PC" />
    <op_sys amount="Windows XP" />
    <priority amount="P3" />
    <bug_severity amount="critical" />
    <Summery>error trying to use visual editor version 1.xxx or 1.1xxx</Summery>
    <Patches amount="0" />
    <Stacktraces amount="0" />
    <SourceCodeRegions amount="0" />
    <Enumerations amount="1">
      <Enumeration lines="11">
        <Lines>
          <Line>1-Create Remote VM for Visual Editor for Java (Time of...)</Line>
          <Line>An internal error occurred during: "Create Remote VM for Visual Editor for</Line>
          <Line>Java".</Line>
          <Line>tryed to access method</Line>
          <Line>org.eclipse.pde.internal.core.WorkspaceModelManager.getWorkspacePluginModel</Line>
          <Line>(Lorg/eclipse/core/resources/OProject;)</Line>
          <Line>Lorg/eclipse/pde/core/plugin/OPluginModelBase; from class</Line>
          <Line>org.eclipse.jem.inernal.proxy.core.PDEProcessForPlugin</Line>
          <Line>2-Setup Java Visual Editor(Time...)</Line>
          <Line>An internal error occurred during: "Setup Visual Editor".</Line>
          <Line>org/eclipse(jdt/internal/ui/TabForderLayout</Line>
        </Lines>
      </Enumeration>
    </Enumerations>
    <bug_status amount="CLOSED" />
    <resolution amount="WORKSFORME" />
    <WithStack>can´t use visual editor, i have always the same problem :
i have eclipse 3.1, and downloaded all the last emf,gef and ve versions (also 
tryed ve 1.1M2 which was that this the version i wanted, but tryed first the 
last version of 1.0XXX) but occurs an error thay says that ve can't allocate 
virtual machine
general message error : An internal error occurred during: "Create Remote VM 
for Visual Editor for Java".

Current installed modules :
error occurred both with SDK versions and Runnabable Versions
VE SDK 1.0.2.1
EMF SDK 2.1.0
GEM 3.0.1
     

errors :
1-Create Remote VM for Visual Editor for Java (Time of...)
     An internal error occurred during: "Create Remote VM for Visual Editor for 
Java".
     tryed to access method 
org.eclipse.pde.internal.core.WorkspaceModelManager.getWorkspacePluginModel
(Lorg/eclipse/core/resources/OProject;)
Lorg/eclipse/pde/core/plugin/OPluginModelBase; from class 
org.eclipse.jem.inernal.proxy.core.PDEProcessForPlugin
2-Setup Java Visual Editor(Time...)
     An internal error occurred during: "Setup Visual Editor".
     org/eclipse(jdt/internal/ui/TabForderLayout


Another thing, you should improve your bug submittion quickly, because it's 
very bad for using it.
I even couldn't copy/paste the error, i hyad to manually rewwrite all this this 
mail
suggestion : when an error occurs, it should appear a message invinting to send 
the error by an email to eclipse.org, or at least, allow make copy/paste to the 
error messages
to use the visual editor on eclipse 3.1 download eclipse 3.1 SDK final, GEF 3.1
final, EMF 2.1 final, and VE.

VE is nearing its 1.1 final release, but the I20050715 build and later will work
with eclipse 3.1.
Please reopen if presist on the latest VE driver
closing</WithStack>
    <WithOutStack>can´t use visual editor, i have always the same problem :
i have eclipse 3.1, and downloaded all the last emf,gef and ve versions (also 
tryed ve 1.1M2 which was that this the version i wanted, but tryed first the 
last version of 1.0XXX) but occurs an error thay says that ve can't allocate 
virtual machine
general message error : An internal error occurred during: "Create Remote VM 
for Visual Editor for Java".

Current installed modules :
error occurred both with SDK versions and Runnabable Versions
VE SDK 1.0.2.1
EMF SDK 2.1.0
GEM 3.0.1
     

errors :
1-Create Remote VM for Visual Editor for Java (Time of...)
     An internal error occurred during: "Create Remote VM for Visual Editor for 
Java".
     tryed to access method 
org.eclipse.pde.internal.core.WorkspaceModelManager.getWorkspacePluginModel
(Lorg/eclipse/core/resources/OProject;)
Lorg/eclipse/pde/core/plugin/OPluginModelBase; from class 
org.eclipse.jem.inernal.proxy.core.PDEProcessForPlugin
2-Setup Java Visual Editor(Time...)
     An internal error occurred during: "Setup Visual Editor".
     org/eclipse(jdt/internal/ui/TabForderLayout


Another thing, you should improve your bug submittion quickly, because it's 
very bad for using it.
I even couldn't copy/paste the error, i hyad to manually rewwrite all this this 
mail
suggestion : when an error occurs, it should appear a message invinting to send 
the error by an email to eclipse.org, or at least, allow make copy/paste to the 
error messages
to use the visual editor on eclipse 3.1 download eclipse 3.1 SDK final, GEF 3.1
final, EMF 2.1 final, and VE.

VE is nearing its 1.1 final release, but the I20050715 build and later will work
with eclipse 3.1.
Please reopen if presist on the latest VE driver
closing</WithOutStack>
  </Bug>
  <Bug>
    <BugId amount="104027" />
    <CreationDate amount="2005-07-15 11:24:00 -0400" />
    <DupId amount="" />
    <classification amount="Eclipse" />
    <Product amount="JDT" />
    <component amount="UI" />
    <Version amount="3.1" />
    <rep_platform amount="PC" />
    <op_sys amount="Windows XP" />
    <priority amount="P3" />
    <bug_severity amount="normal" />
    <Summery>[infer type arguments] compile errors after refactoring JLex benchmarks</Summery>
    <Patches amount="0" />
    <Stacktraces amount="0" />
    <SourceCodeRegions amount="0" />
    <Enumerations amount="0" />
    <bug_status amount="ASSIGNED" />
    <resolution amount="" />
    <WithStack>3.1

(may be a dup)
in the simple JLex benchmarks the refactoring introduces compile errors.
Will attach the file.
Created attachment 24841
the benchmark

after refactoring there are 2 compile errors:
"The method intValue() is undefined for the type Object"
in lines 7784 and 7790
Created attachment 24843
benchmark *before* the refactoring

arrgh, attached the refactored source by mistake. fixed now.</WithStack>
    <WithOutStack>3.1

(may be a dup)
in the simple JLex benchmarks the refactoring introduces compile errors.
Will attach the file.
Created attachment 24841
the benchmark

after refactoring there are 2 compile errors:
"The method intValue() is undefined for the type Object"
in lines 7784 and 7790
Created attachment 24843
benchmark *before* the refactoring

arrgh, attached the refactored source by mistake. fixed now.</WithOutStack>
  </Bug>
  <Bug>
    <BugId amount="104028" />
    <CreationDate amount="2005-07-15 11:30:00 -0400" />
    <DupId amount="" />
    <classification amount="Eclipse" />
    <Product amount="Platform" />
    <component amount="Update  (deprecated - use RT&gt;Equinox&gt;p2)" />
    <Version amount="3.0.2" />
    <rep_platform amount="PC" />
    <op_sys amount="Windows XP" />
    <priority amount="P3" />
    <bug_severity amount="normal" />
    <Summery>Lost Plugin Manager and Update Options in Menu</Summery>
    <Patches amount="0" />
    <Stacktraces amount="0" />
    <SourceCodeRegions amount="0" />
    <Enumerations amount="0" />
    <bug_status amount="RESOLVED" />
    <resolution amount="INVALID" />
    <WithStack>Hi,

After I installed some plugins, I lost some basic elements from the GUI. I lost 
the actions from Help menu for managing installed plugins or 
updating/installing plugins. 
I can't see any errors or tracebacks in the .metadata logfile. In workspace 
preferences the update options are still there.
How can I find out which plugin is causing that? How can I remove it?

Regards,
Kai
Created attachment 24846
This ist the current configuration
Note this is 3.0.2. This is similar to what was reported in bug 97154 comment 2.
Maybe this should be moved to the UI instead.
Found, that the missing update/install options are missing in my Java View, but 
are available in the Resources View.</WithStack>
    <WithOutStack>Hi,

After I installed some plugins, I lost some basic elements from the GUI. I lost 
the actions from Help menu for managing installed plugins or 
updating/installing plugins. 
I can't see any errors or tracebacks in the .metadata logfile. In workspace 
preferences the update options are still there.
How can I find out which plugin is causing that? How can I remove it?

Regards,
Kai
Created attachment 24846
This ist the current configuration
Note this is 3.0.2. This is similar to what was reported in bug 97154 comment 2.
Maybe this should be moved to the UI instead.
Found, that the missing update/install options are missing in my Java View, but 
are available in the Resources View.</WithOutStack>
  </Bug>
  <Bug>
    <BugId amount="104029" />
    <CreationDate amount="2005-07-15 11:35:00 -0400" />
    <DupId amount="91967" />
    <classification amount="WebTools" />
    <Product amount="WTP Java EE Tools" />
    <component amount="jst.j2ee" />
    <Version amount="0.7" />
    <rep_platform amount="PC" />
    <op_sys amount="Windows XP" />
    <priority amount="P3" />
    <bug_severity amount="normal" />
    <Summery>delete connector project thrwos exceptions</Summery>
    <Patches amount="0" />
    <Stacktraces amount="2">
      <Stacktrace timestamp="1437330556538">
        <Exception>ecore.internal.exception.ArchiveWrappedException</Exception>
        <Reason>!Stack_trace_of_nested_exce!
    java.lang.NullPointerException</Reason>
        <Frames>
          <Frame depth="0">org.eclipse.wst.common.componentcore.ModuleCoreNature.getModuleCoreNature(ModuleCoreNature.java:152)</Frame>
          <Frame depth="1">org.eclipse.wst.common.componentcore.internal.StructureEdit.getStructureEditForRead(StructureEdit.java:115)</Frame>
          <Frame depth="2">org.eclipse.wst.common.componentcore.internal.resources.VirtualComponent.getComponentTypeId(VirtualComponent.java:88)</Frame>
          <Frame depth="3">org.eclipse.jst.j2ee.componentcore.util.EARArtifactEdit.getComponentReferences(EARArtifactEdit.java:483)</Frame>
          <Frame depth="4">org.eclipse.jst.j2ee.componentcore.util.EARArtifactEdit.getJ2EEModuleReferences(EARArtifactEdit.java:459)</Frame>
          <Frame depth="5">org.eclipse.jst.j2ee.componentcore.util.EARArtifactEdit.getModule(EARArtifactEdit.java:435)</Frame>
          <Frame depth="6">org.eclipse.jst.j2ee.componentcore.util.EARArtifactEdit.getModuleURI(EARArtifactEdit.java:408)</Frame>
          <Frame depth="7">org.eclipse.jst.j2ee.internal.archive.operations.EARComponentLoadStrategyImpl.addModulesAndUtilities(EARComponentLoadStrategyImpl.java:58)</Frame>
          <Frame depth="8">org.eclipse.jst.j2ee.internal.archive.operations.EARComponentLoadStrategyImpl.getFiles(EARComponentLoadStrategyImpl.java:40)</Frame>
          <Frame depth="9">org.eclipse.jst.j2ee.commonarchivecore.internal.strategy.LoadStrategyImpl.collectFiles(LoadStrategyImpl.java:274)</Frame>
          <Frame depth="10">org.eclipse.jst.j2ee.commonarchivecore.internal.impl.ContainerImpl.getFiles(ContainerImpl.java:239)</Frame>
          <Frame depth="11">org.eclipse.jst.j2ee.commonarchivecore.internal.impl.ContainerImpl.getFile(ContainerImpl.java:199)</Frame>
          <Frame depth="12">org.eclipse.jst.j2ee.commonarchivecore.internal.impl.ModuleRefImpl.initModuleFileFromEAR(ModuleRefImpl.java:123)</Frame>
          <Frame depth="13">org.eclipse.jst.j2ee.commonarchivecore.internal.impl.ModuleRefImpl.getModuleFile(ModuleRefImpl.java:106)</Frame>
          <Frame depth="14">org.eclipse.jst.j2ee.commonarchivecore.internal.impl.EARFileImpl.getModuleFile(EARFileImpl.java:96)</Frame>
          <Frame depth="15">org.eclipse.jst.j2ee.commonarchivecore.internal.impl.EARFileImpl.getDeploymentDescriptor(EARFileImpl.java:337)</Frame>
          <Frame depth="16">org.eclipse.jst.j2ee.commonarchivecore.internal.impl.ModuleRefImpl.getDeploymentDescriptor(ModuleRefImpl.java:217)</Frame>
          <Frame depth="17">org.eclipse.jst.j2ee.model.internal.validation.EarValidator.validateWebAppRefs(EarValidator.java:403)</Frame>
          <Frame depth="18">org.eclipse.jst.j2ee.model.internal.validation.EarValidator.validateRefs(EarValidator.java:360)</Frame>
          <Frame depth="19">org.eclipse.jst.j2ee.model.internal.validation.EarValidator.validate(EarValidator.java:112)</Frame>
          <Frame depth="20">org.eclipse.jst.j2ee.model.internal.validation.EarValidator.validate(EarValidator.java:128)</Frame>
          <Frame depth="21">org.eclipse.jst.j2ee.internal.validation.UIEarValidator.validate(UIEarValidator.java:212)</Frame>
          <Frame depth="22">org.eclipse.wst.validation.internal.core.ValidatorLauncher.start(ValidatorLauncher.java:90)</Frame>
          <Frame depth="23">org.eclipse.wst.validation.internal.operations.ValidationOperation.launchValidator(ValidationOperation.java:1196)</Frame>
          <Frame depth="24">org.eclipse.wst.validation.internal.operations.ValidationOperation.internalValidate(ValidationOperation.java:1022)</Frame>
          <Frame depth="25">org.eclipse.wst.validation.internal.operations.ValidationOperation.validate(ValidationOperation.java:928)</Frame>
          <Frame depth="26">org.eclipse.wst.validation.internal.operations.ValidationOperation.run(ValidationOperation.java:639)</Frame>
          <Frame depth="27">org.eclipse.wst.validation.internal.operations.ValidationBuilder.build(ValidationBuilder.java:209)</Frame>
          <Frame depth="28">org.eclipse.core.internal.events.BuildManager$2.run(BuildManager.java:593)</Frame>
          <Frame depth="29">org.eclipse.core.internal.runtime.InternalPlatform.run(InternalPlatform.java:1044)</Frame>
          <Frame depth="30">org.eclipse.core.runtime.Platform.run(Platform.java:783)</Frame>
          <Frame depth="31">org.eclipse.core.internal.events.BuildManager.basicBuild(BuildManager.java:168)</Frame>
          <Frame depth="32">org.eclipse.core.internal.events.BuildManager.basicBuild(BuildManager.java:202)</Frame>
          <Frame depth="33">org.eclipse.core.internal.events.BuildManager$1.run(BuildManager.java:231)</Frame>
          <Frame depth="34">org.eclipse.core.internal.runtime.InternalPlatform.run(InternalPlatform.java:1044)</Frame>
          <Frame depth="35">org.eclipse.core.runtime.Platform.run(Platform.java:783)</Frame>
          <Frame depth="36">org.eclipse.core.internal.events.BuildManager.basicBuild(BuildManager.java:234)</Frame>
          <Frame depth="37">org.eclipse.core.internal.events.BuildManager.basicBuildLoop(BuildManager.java:253)</Frame>
          <Frame depth="38">org.eclipse.core.internal.events.BuildManager.build(BuildManager.java:282)</Frame>
          <Frame depth="39">org.eclipse.core.internal.events.AutoBuildJob.doBuild(AutoBuildJob.java:139)</Frame>
          <Frame depth="40">org.eclipse.core.internal.events.AutoBuildJob.run(AutoBuildJob.java:200)</Frame>
          <Frame depth="41">org.eclipse.core.internal.jobs.Worker.run(Worker.java:76)</Frame>
        </Frames>
      </Stacktrace>
      <Stacktrace timestamp="1437330556538">
        <Exception>ecore.internal.exception.ArchiveWrappedException</Exception>
        <Reason>!Stack_trace_of_nested_exce!
    java.lang.NullPointerException</Reason>
        <Frames>
          <Frame depth="0">org.eclipse.wst.common.componentcore.ModuleCoreNature.getModuleCoreNature(ModuleCoreNature.java:152)</Frame>
          <Frame depth="1">org.eclipse.wst.common.componentcore.internal.StructureEdit.getStructureEditForRead(StructureEdit.java:115)</Frame>
          <Frame depth="2">org.eclipse.wst.common.componentcore.internal.resources.VirtualComponent.getComponentTypeId(VirtualComponent.java:88)</Frame>
          <Frame depth="3">org.eclipse.jst.j2ee.componentcore.util.EARArtifactEdit.getComponentReferences(EARArtifactEdit.java:483)</Frame>
          <Frame depth="4">org.eclipse.jst.j2ee.componentcore.util.EARArtifactEdit.getJ2EEModuleReferences(EARArtifactEdit.java:459)</Frame>
          <Frame depth="5">org.eclipse.jst.j2ee.componentcore.util.EARArtifactEdit.getModule(EARArtifactEdit.java:435)</Frame>
          <Frame depth="6">org.eclipse.jst.j2ee.componentcore.util.EARArtifactEdit.getModuleURI(EARArtifactEdit.java:408)</Frame>
          <Frame depth="7">org.eclipse.jst.j2ee.internal.archive.operations.EARComponentLoadStrategyImpl.addModulesAndUtilities(EARComponentLoadStrategyImpl.java:58)</Frame>
          <Frame depth="8">org.eclipse.jst.j2ee.internal.archive.operations.EARComponentLoadStrategyImpl.getFiles(EARComponentLoadStrategyImpl.java:40)</Frame>
          <Frame depth="9">org.eclipse.jst.j2ee.commonarchivecore.internal.strategy.LoadStrategyImpl.collectFiles(LoadStrategyImpl.java:274)</Frame>
          <Frame depth="10">org.eclipse.jst.j2ee.commonarchivecore.internal.impl.ContainerImpl.getFiles(ContainerImpl.java:239)</Frame>
          <Frame depth="11">org.eclipse.jst.j2ee.commonarchivecore.internal.impl.ContainerImpl.getFile(ContainerImpl.java:199)</Frame>
          <Frame depth="12">org.eclipse.jst.j2ee.commonarchivecore.internal.impl.ModuleRefImpl.initModuleFileFromEAR(ModuleRefImpl.java:123)</Frame>
          <Frame depth="13">org.eclipse.jst.j2ee.commonarchivecore.internal.impl.ModuleRefImpl.getModuleFile(ModuleRefImpl.java:106)</Frame>
          <Frame depth="14">org.eclipse.jst.j2ee.commonarchivecore.internal.impl.EARFileImpl.getModuleFile(EARFileImpl.java:96)</Frame>
          <Frame depth="15">org.eclipse.jst.j2ee.commonarchivecore.internal.impl.EARFileImpl.getDeploymentDescriptor(EARFileImpl.java:337)</Frame>
          <Frame depth="16">org.eclipse.jst.j2ee.commonarchivecore.internal.impl.ModuleRefImpl.getDeploymentDescriptor(ModuleRefImpl.java:217)</Frame>
          <Frame depth="17">org.eclipse.jst.j2ee.model.internal.validation.EarValidator.validateAppClientRefs(EarValidator.java:379)</Frame>
          <Frame depth="18">org.eclipse.jst.j2ee.model.internal.validation.EarValidator.validateRefs(EarValidator.java:364)</Frame>
          <Frame depth="19">org.eclipse.jst.j2ee.model.internal.validation.EarValidator.validate(EarValidator.java:112)</Frame>
          <Frame depth="20">org.eclipse.jst.j2ee.model.internal.validation.EarValidator.validate(EarValidator.java:128)</Frame>
          <Frame depth="21">org.eclipse.jst.j2ee.internal.validation.UIEarValidator.validate(UIEarValidator.java:212)</Frame>
          <Frame depth="22">org.eclipse.wst.validation.internal.core.ValidatorLauncher.start(ValidatorLauncher.java:90)</Frame>
          <Frame depth="23">org.eclipse.wst.validation.internal.operations.ValidationOperation.launchValidator(ValidationOperation.java:1196)</Frame>
          <Frame depth="24">org.eclipse.wst.validation.internal.operations.ValidationOperation.internalValidate(ValidationOperation.java:1022)</Frame>
          <Frame depth="25">org.eclipse.wst.validation.internal.operations.ValidationOperation.validate(ValidationOperation.java:928)</Frame>
          <Frame depth="26">org.eclipse.wst.validation.internal.operations.ValidationOperation.run(ValidationOperation.java:639)</Frame>
          <Frame depth="27">org.eclipse.wst.validation.internal.operations.ValidationBuilder.build(ValidationBuilder.java:209)</Frame>
          <Frame depth="28">org.eclipse.core.internal.events.BuildManager$2.run(BuildManager.java:593)</Frame>
          <Frame depth="29">org.eclipse.core.internal.runtime.InternalPlatform.run(InternalPlatform.java:1044)</Frame>
          <Frame depth="30">org.eclipse.core.runtime.Platform.run(Platform.java:783)</Frame>
          <Frame depth="31">org.eclipse.core.internal.events.BuildManager.basicBuild(BuildManager.java:168)</Frame>
          <Frame depth="32">org.eclipse.core.internal.events.BuildManager.basicBuild(BuildManager.java:202)</Frame>
          <Frame depth="33">org.eclipse.core.internal.events.BuildManager$1.run(BuildManager.java:231)</Frame>
          <Frame depth="34">org.eclipse.core.internal.runtime.InternalPlatform.run(InternalPlatform.java:1044)</Frame>
          <Frame depth="35">org.eclipse.core.runtime.Platform.run(Platform.java:783)</Frame>
          <Frame depth="36">org.eclipse.core.internal.events.BuildManager.basicBuild(BuildManager.java:234)</Frame>
          <Frame depth="37">org.eclipse.core.internal.events.BuildManager.basicBuildLoop(BuildManager.java:253)</Frame>
          <Frame depth="38">org.eclipse.core.internal.events.BuildManager.build(BuildManager.java:282)</Frame>
          <Frame depth="39">org.eclipse.core.internal.events.AutoBuildJob.doBuild(AutoBuildJob.java:139)</Frame>
          <Frame depth="40">org.eclipse.core.internal.events.AutoBuildJob.run(AutoBuildJob.java:200)</Frame>
          <Frame depth="41">org.eclipse.core.internal.jobs.Worker.run(Worker.java:76)</Frame>
        </Frames>
      </Stacktrace>
    </Stacktraces>
    <SourceCodeRegions amount="0" />
    <Enumerations amount="1">
      <Enumeration lines="73">
        <Lines>
          <Line>1. Create A J2ee EAR project, named as Test1, with 4 components (app client,</Line>
          <Line>connector, ejb and web). accept all defaults.</Line>
          <Line>2. In the Project Explorer view, expand Connector projects node, and right</Line>
          <Line>click the Test1Connector project, and select delete.</Line>
          <Line>3. In the delete dialog, check radio button Also delete contents under...</Line>
          <Line>4. Stacktrace is as:</Line>
          <Line>JBModuleRefs(EarValidator.java:426)</Line>
          <Line>at</Line>
          <Line>org.eclipse.jst.j2ee.model.internal.validation.EarValidator.validateR</Line>
          <Line>efs(EarValidator.java:362)</Line>
          <Line>at org.eclipse.jst.j2ee.model.internal.validation.EarValidator.validate</Line>
          <Line>(</Line>
          <Line>EarValidator.java:112)</Line>
          <Line>at org.eclipse.jst.j2ee.model.internal.validation.EarValidator.validate</Line>
          <Line>(</Line>
          <Line>EarValidator.java:128)</Line>
          <Line>at org.eclipse.jst.j2ee.internal.validation.UIEarValidator.validate</Line>
          <Line>(UIEa</Line>
          <Line>rValidator.java:212)</Line>
          <Line>at org.eclipse.wst.validation.internal.core.ValidatorLauncher.start</Line>
          <Line>(Vali</Line>
          <Line>datorLauncher.java:90)</Line>
          <Line>at</Line>
          <Line>org.eclipse.wst.validation.internal.operations.ValidationOperation.la</Line>
          <Line>unchValidator(ValidationOperation.java:1196)</Line>
          <Line>at</Line>
          <Line>org.eclipse.wst.validation.internal.operations.ValidationOperation.in</Line>
          <Line>ternalValidate(ValidationOperation.java:1022)</Line>
          <Line>at</Line>
          <Line>org.eclipse.wst.validation.internal.operations.ValidationOperation.va</Line>
          <Line>lidate(ValidationOperation.java:928)</Line>
          <Line>at</Line>
          <Line>org.eclipse.wst.validation.internal.operations.ValidationOperation.ru</Line>
          <Line>n(ValidationOperation.java:639)</Line>
          <Line>at</Line>
          <Line>org.eclipse.wst.validation.internal.operations.ValidationBuilder.buil</Line>
          <Line>d(ValidationBuilder.java:209)</Line>
          <Line>at org.eclipse.core.internal.events.BuildManager$2.run</Line>
          <Line>(BuildManager.java</Line>
          <Line>:593)</Line>
          <Line>at org.eclipse.core.internal.runtime.InternalPlatform.run</Line>
          <Line>(InternalPlatfo</Line>
          <Line>rm.java:1044)</Line>
          <Line>at org.eclipse.core.runtime.Platform.run(Platform.java:783)</Line>
          <Line>at org.eclipse.core.internal.events.BuildManager.basicBuild</Line>
          <Line>(BuildManager</Line>
          <Line>.java:168)</Line>
          <Line>at org.eclipse.core.internal.events.BuildManager.basicBuild</Line>
          <Line>(BuildManager</Line>
          <Line>.java:202)</Line>
          <Line>at org.eclipse.core.internal.events.BuildManager$1.run</Line>
          <Line>(BuildManager.java</Line>
          <Line>:231)</Line>
          <Line>at org.eclipse.core.internal.runtime.InternalPlatform.run</Line>
          <Line>(InternalPlatfo</Line>
          <Line>rm.java:1044)</Line>
          <Line>at org.eclipse.core.runtime.Platform.run(Platform.java:783)</Line>
          <Line>at org.eclipse.core.internal.events.BuildManager.basicBuild</Line>
          <Line>(BuildManager</Line>
          <Line>.java:234)</Line>
          <Line>at org.eclipse.core.internal.events.BuildManager.basicBuildLoop</Line>
          <Line>(BuildMan</Line>
          <Line>ager.java:253)</Line>
          <Line>at org.eclipse.core.internal.events.BuildManager.build</Line>
          <Line>(BuildManager.java</Line>
          <Line>:282)</Line>
          <Line>at org.eclipse.core.internal.events.AutoBuildJob.doBuild</Line>
          <Line>(AutoBuildJob.ja</Line>
          <Line>va:139)</Line>
          <Line>at org.eclipse.core.internal.events.AutoBuildJob.run</Line>
          <Line>(AutoBuildJob.java:2</Line>
          <Line>00)</Line>
          <Line>at org.eclipse.core.internal.jobs.Worker.run(Worker.java:76)</Line>
        </Lines>
      </Enumeration>
    </Enumerations>
    <bug_status amount="CLOSED" />
    <resolution amount="DUPLICATE" />
    <WithStack>1. Create A J2ee EAR project, named as Test1, with 4 components (app client, 
connector, ejb and web). accept all defaults.
2. In the Project Explorer view, expand Connector projects node, and right 
click the Test1Connector project, and select delete.
3. In the delete dialog, check radio button Also delete contents under...
4. Stacktrace is as:
JBModuleRefs(EarValidator.java:426)
        at 
org.eclipse.jst.j2ee.model.internal.validation.EarValidator.validateR
efs(EarValidator.java:362)
        at org.eclipse.jst.j2ee.model.internal.validation.EarValidator.validate
(
EarValidator.java:112)
        at org.eclipse.jst.j2ee.model.internal.validation.EarValidator.validate
(
EarValidator.java:128)
        at org.eclipse.jst.j2ee.internal.validation.UIEarValidator.validate
(UIEa
rValidator.java:212)
        at org.eclipse.wst.validation.internal.core.ValidatorLauncher.start
(Vali
datorLauncher.java:90)
        at 
org.eclipse.wst.validation.internal.operations.ValidationOperation.la
unchValidator(ValidationOperation.java:1196)
        at 
org.eclipse.wst.validation.internal.operations.ValidationOperation.in
ternalValidate(ValidationOperation.java:1022)
        at 
org.eclipse.wst.validation.internal.operations.ValidationOperation.va
lidate(ValidationOperation.java:928)
        at 
org.eclipse.wst.validation.internal.operations.ValidationOperation.ru
n(ValidationOperation.java:639)
        at 
org.eclipse.wst.validation.internal.operations.ValidationBuilder.buil
d(ValidationBuilder.java:209)
        at org.eclipse.core.internal.events.BuildManager$2.run
(BuildManager.java
:593)
        at org.eclipse.core.internal.runtime.InternalPlatform.run
(InternalPlatfo
rm.java:1044)
        at org.eclipse.core.runtime.Platform.run(Platform.java:783)
        at org.eclipse.core.internal.events.BuildManager.basicBuild
(BuildManager
.java:168)
        at org.eclipse.core.internal.events.BuildManager.basicBuild
(BuildManager
.java:202)
        at org.eclipse.core.internal.events.BuildManager$1.run
(BuildManager.java
:231)
        at org.eclipse.core.internal.runtime.InternalPlatform.run
(InternalPlatfo
rm.java:1044)
        at org.eclipse.core.runtime.Platform.run(Platform.java:783)
        at org.eclipse.core.internal.events.BuildManager.basicBuild
(BuildManager
.java:234)
        at org.eclipse.core.internal.events.BuildManager.basicBuildLoop
(BuildMan
ager.java:253)
        at org.eclipse.core.internal.events.BuildManager.build
(BuildManager.java
:282)
        at org.eclipse.core.internal.events.AutoBuildJob.doBuild
(AutoBuildJob.ja
va:139)
        at org.eclipse.core.internal.events.AutoBuildJob.run
(AutoBuildJob.java:2
00)
        at org.eclipse.core.internal.jobs.Worker.run(Worker.java:76)

*** ERROR ***: Fri Jul 15 11:27:01 EDT 2005    
org.eclipse.jst.j2ee.commonarchiv
ecore.internal.exception.ArchiveWrappedException
    !Stack_trace_of_nested_exce!
    java.lang.NullPointerException
        at 
org.eclipse.wst.common.componentcore.ModuleCoreNature.getModuleCoreNa
ture(ModuleCoreNature.java:152)
        at 
org.eclipse.wst.common.componentcore.internal.StructureEdit.getStruct
ureEditForRead(StructureEdit.java:115)
        at 
org.eclipse.wst.common.componentcore.internal.resources.VirtualCompon
ent.getComponentTypeId(VirtualComponent.java:88)
        at 
org.eclipse.jst.j2ee.componentcore.util.EARArtifactEdit.getComponentR
eferences(EARArtifactEdit.java:483)
        at 
org.eclipse.jst.j2ee.componentcore.util.EARArtifactEdit.getJ2EEModule
References(EARArtifactEdit.java:459)
        at org.eclipse.jst.j2ee.componentcore.util.EARArtifactEdit.getModule
(EAR
ArtifactEdit.java:435)
        at org.eclipse.jst.j2ee.componentcore.util.EARArtifactEdit.getModuleURI
(
EARArtifactEdit.java:408)
        at 
org.eclipse.jst.j2ee.internal.archive.operations.EARComponentLoadStra
tegyImpl.addModulesAndUtilities(EARComponentLoadStrategyImpl.java:58)
        at 
org.eclipse.jst.j2ee.internal.archive.operations.EARComponentLoadStra
tegyImpl.getFiles(EARComponentLoadStrategyImpl.java:40)
        at 
org.eclipse.jst.j2ee.commonarchivecore.internal.strategy.LoadStrategy
Impl.collectFiles(LoadStrategyImpl.java:274)
        at 
org.eclipse.jst.j2ee.commonarchivecore.internal.impl.ContainerImpl.ge
tFiles(ContainerImpl.java:239)
        at 
org.eclipse.jst.j2ee.commonarchivecore.internal.impl.ContainerImpl.ge
tFile(ContainerImpl.java:199)
        at 
org.eclipse.jst.j2ee.commonarchivecore.internal.impl.ModuleRefImpl.in
itModuleFileFromEAR(ModuleRefImpl.java:123)
        at 
org.eclipse.jst.j2ee.commonarchivecore.internal.impl.ModuleRefImpl.ge
tModuleFile(ModuleRefImpl.java:106)
        at 
org.eclipse.jst.j2ee.commonarchivecore.internal.impl.EARFileImpl.getM
oduleFile(EARFileImpl.java:96)
        at 
org.eclipse.jst.j2ee.commonarchivecore.internal.impl.EARFileImpl.getD
eploymentDescriptor(EARFileImpl.java:337)
        at 
org.eclipse.jst.j2ee.commonarchivecore.internal.impl.ModuleRefImpl.ge
tDeploymentDescriptor(ModuleRefImpl.java:217)
        at 
org.eclipse.jst.j2ee.model.internal.validation.EarValidator.validateW
ebAppRefs(EarValidator.java:403)
        at 
org.eclipse.jst.j2ee.model.internal.validation.EarValidator.validateR
efs(EarValidator.java:360)
        at org.eclipse.jst.j2ee.model.internal.validation.EarValidator.validate
(
EarValidator.java:112)
        at org.eclipse.jst.j2ee.model.internal.validation.EarValidator.validate
(
EarValidator.java:128)
        at org.eclipse.jst.j2ee.internal.validation.UIEarValidator.validate
(UIEa
rValidator.java:212)
        at org.eclipse.wst.validation.internal.core.ValidatorLauncher.start
(Vali
datorLauncher.java:90)
        at 
org.eclipse.wst.validation.internal.operations.ValidationOperation.la
unchValidator(ValidationOperation.java:1196)
        at 
org.eclipse.wst.validation.internal.operations.ValidationOperation.in
ternalValidate(ValidationOperation.java:1022)
        at 
org.eclipse.wst.validation.internal.operations.ValidationOperation.va
lidate(ValidationOperation.java:928)
        at 
org.eclipse.wst.validation.internal.operations.ValidationOperation.ru
n(ValidationOperation.java:639)
        at 
org.eclipse.wst.validation.internal.operations.ValidationBuilder.buil
d(ValidationBuilder.java:209)
        at org.eclipse.core.internal.events.BuildManager$2.run
(BuildManager.java
:593)
        at org.eclipse.core.internal.runtime.InternalPlatform.run
(InternalPlatfo
rm.java:1044)
        at org.eclipse.core.runtime.Platform.run(Platform.java:783)
        at org.eclipse.core.internal.events.BuildManager.basicBuild
(BuildManager
.java:168)
        at org.eclipse.core.internal.events.BuildManager.basicBuild
(BuildManager
.java:202)
        at org.eclipse.core.internal.events.BuildManager$1.run
(BuildManager.java
:231)
        at org.eclipse.core.internal.runtime.InternalPlatform.run
(InternalPlatfo
rm.java:1044)
        at org.eclipse.core.runtime.Platform.run(Platform.java:783)
        at org.eclipse.core.internal.events.BuildManager.basicBuild
(BuildManager
.java:234)
        at org.eclipse.core.internal.events.BuildManager.basicBuildLoop
(BuildMan
ager.java:253)
        at org.eclipse.core.internal.events.BuildManager.build
(BuildManager.java
:282)
        at org.eclipse.core.internal.events.AutoBuildJob.doBuild
(AutoBuildJob.ja
va:139)
        at org.eclipse.core.internal.events.AutoBuildJob.run
(AutoBuildJob.java:2
00)
        at org.eclipse.core.internal.jobs.Worker.run(Worker.java:76)

*** ERROR ***: Fri Jul 15 11:27:01 EDT 2005    
org.eclipse.jst.j2ee.commonarchiv
ecore.internal.exception.ArchiveWrappedException
    !Stack_trace_of_nested_exce!
    java.lang.NullPointerException
        at 
org.eclipse.wst.common.componentcore.ModuleCoreNature.getModuleCoreNa
ture(ModuleCoreNature.java:152)
        at 
org.eclipse.wst.common.componentcore.internal.StructureEdit.getStruct
ureEditForRead(StructureEdit.java:115)
        at 
org.eclipse.wst.common.componentcore.internal.resources.VirtualCompon
ent.getComponentTypeId(VirtualComponent.java:88)
        at 
org.eclipse.jst.j2ee.componentcore.util.EARArtifactEdit.getComponentR
eferences(EARArtifactEdit.java:483)
        at 
org.eclipse.jst.j2ee.componentcore.util.EARArtifactEdit.getJ2EEModule
References(EARArtifactEdit.java:459)
        at org.eclipse.jst.j2ee.componentcore.util.EARArtifactEdit.getModule
(EAR
ArtifactEdit.java:435)
        at org.eclipse.jst.j2ee.componentcore.util.EARArtifactEdit.getModuleURI
(
EARArtifactEdit.java:408)
        at 
org.eclipse.jst.j2ee.internal.archive.operations.EARComponentLoadStra
tegyImpl.addModulesAndUtilities(EARComponentLoadStrategyImpl.java:58)
        at 
org.eclipse.jst.j2ee.internal.archive.operations.EARComponentLoadStra
tegyImpl.getFiles(EARComponentLoadStrategyImpl.java:40)
        at 
org.eclipse.jst.j2ee.commonarchivecore.internal.strategy.LoadStrategy
Impl.collectFiles(LoadStrategyImpl.java:274)
        at 
org.eclipse.jst.j2ee.commonarchivecore.internal.impl.ContainerImpl.ge
tFiles(ContainerImpl.java:239)
        at 
org.eclipse.jst.j2ee.commonarchivecore.internal.impl.ContainerImpl.ge
tFile(ContainerImpl.java:199)
        at 
org.eclipse.jst.j2ee.commonarchivecore.internal.impl.ModuleRefImpl.in
itModuleFileFromEAR(ModuleRefImpl.java:123)
        at 
org.eclipse.jst.j2ee.commonarchivecore.internal.impl.ModuleRefImpl.ge
tModuleFile(ModuleRefImpl.java:106)
        at 
org.eclipse.jst.j2ee.commonarchivecore.internal.impl.EARFileImpl.getM
oduleFile(EARFileImpl.java:96)
        at 
org.eclipse.jst.j2ee.commonarchivecore.internal.impl.EARFileImpl.getD
eploymentDescriptor(EARFileImpl.java:337)
        at 
org.eclipse.jst.j2ee.commonarchivecore.internal.impl.ModuleRefImpl.ge
tDeploymentDescriptor(ModuleRefImpl.java:217)
        at 
org.eclipse.jst.j2ee.model.internal.validation.EarValidator.validateA
ppClientRefs(EarValidator.java:379)
        at 
org.eclipse.jst.j2ee.model.internal.validation.EarValidator.validateR
efs(EarValidator.java:364)
        at org.eclipse.jst.j2ee.model.internal.validation.EarValidator.validate
(
EarValidator.java:112)
        at org.eclipse.jst.j2ee.model.internal.validation.EarValidator.validate
(
EarValidator.java:128)
        at org.eclipse.jst.j2ee.internal.validation.UIEarValidator.validate
(UIEa
rValidator.java:212)
        at org.eclipse.wst.validation.internal.core.ValidatorLauncher.start
(Vali
datorLauncher.java:90)
        at 
org.eclipse.wst.validation.internal.operations.ValidationOperation.la
unchValidator(ValidationOperation.java:1196)
        at 
org.eclipse.wst.validation.internal.operations.ValidationOperation.in
ternalValidate(ValidationOperation.java:1022)
        at 
org.eclipse.wst.validation.internal.operations.ValidationOperation.va
lidate(ValidationOperation.java:928)
        at 
org.eclipse.wst.validation.internal.operations.ValidationOperation.ru
n(ValidationOperation.java:639)
        at 
org.eclipse.wst.validation.internal.operations.ValidationBuilder.buil
d(ValidationBuilder.java:209)
        at org.eclipse.core.internal.events.BuildManager$2.run
(BuildManager.java
:593)
        at org.eclipse.core.internal.runtime.InternalPlatform.run
(InternalPlatfo
rm.java:1044)
        at org.eclipse.core.runtime.Platform.run(Platform.java:783)
        at org.eclipse.core.internal.events.BuildManager.basicBuild
(BuildManager
.java:168)
        at org.eclipse.core.internal.events.BuildManager.basicBuild
(BuildManager
.java:202)
        at org.eclipse.core.internal.events.BuildManager$1.run
(BuildManager.java
:231)
        at org.eclipse.core.internal.runtime.InternalPlatform.run
(InternalPlatfo
rm.java:1044)
        at org.eclipse.core.runtime.Platform.run(Platform.java:783)
        at org.eclipse.core.internal.events.BuildManager.basicBuild
(BuildManager
.java:234)
        at org.eclipse.core.internal.events.BuildManager.basicBuildLoop
(BuildMan
ager.java:253)
        at org.eclipse.core.internal.events.BuildManager.build
(BuildManager.java
:282)
        at org.eclipse.core.internal.events.AutoBuildJob.doBuild
(AutoBuildJob.ja
va:139)
        at org.eclipse.core.internal.events.AutoBuildJob.run
(AutoBuildJob.java:2
00)
        at org.eclipse.core.internal.jobs.Worker.run(Worker.java:76)

*** ERROR ***: Fri Jul 15 11:27:01 EDT 2005    java.lang.NullPointerException
        at 
org.eclipse.wst.common.componentcore.ModuleCoreNature.getModuleCoreNa
ture(ModuleCoreNature.java:152)
        at 
org.eclipse.wst.common.componentcore.internal.StructureEdit.getStruct
ureEditForRead(StructureEdit.java:115)
        at 
org.eclipse.wst.common.componentcore.internal.resources.VirtualCompon
ent.getComponentTypeId(VirtualComponent.java:88)
        at 
org.eclipse.jst.j2ee.componentcore.util.EARArtifactEdit.getComponentR
eferences(EARArtifactEdit.java:483)
        at 
org.eclipse.jst.j2ee.componentcore.util.EARArtifactEdit.getJ2EEModule
References(EARArtifactEdit.java:459)
        at org.eclipse.jst.j2ee.componentcore.util.EARArtifactEdit.getModule
(EAR
ArtifactEdit.java:435)
        at org.eclipse.jst.j2ee.componentcore.util.EARArtifactEdit.getModuleURI
(
EARArtifactEdit.java:408)
        at 
org.eclipse.jst.j2ee.internal.archive.operations.EARComponentLoadStra
tegyImpl.addModulesAndUtilities(EARComponentLoadStrategyImpl.java:58)
        at 
org.eclipse.jst.j2ee.internal.archive.operations.EARComponentLoadStra
tegyImpl.getFiles(EARComponentLoadStrategyImpl.java:40)
        at 
org.eclipse.jst.j2ee.commonarchivecore.internal.strategy.LoadStrategy
Impl.collectFiles(LoadStrategyImpl.java:274)
        at 
org.eclipse.jst.j2ee.commonarchivecore.internal.impl.ContainerImpl.ge
tFiles(ContainerImpl.java:239)
        at 
org.eclipse.jst.j2ee.commonarchivecore.internal.impl.EARFileImpl.getM
oduleFiles(EARFileImpl.java:501)
        at 
org.eclipse.jst.j2ee.model.internal.validation.EarValidator.validateS
pecLevel(EarValidator.java:673)
        at org.eclipse.jst.j2ee.model.internal.validation.EarValidator.validate
(
EarValidator.java:114)
        at org.eclipse.jst.j2ee.model.internal.validation.EarValidator.validate
(
EarValidator.java:128)
        at org.eclipse.jst.j2ee.internal.validation.UIEarValidator.validate
(UIEa
rValidator.java:212)
        at org.eclipse.wst.validation.internal.core.ValidatorLauncher.start
(Vali
datorLauncher.java:90)
        at 
org.eclipse.wst.validation.internal.operations.ValidationOperation.la
unchValidator(ValidationOperation.java:1196)
        at 
org.eclipse.wst.validation.internal.operations.ValidationOperation.in
ternalValidate(ValidationOperation.java:1022)
        at 
org.eclipse.wst.validation.internal.operations.ValidationOperation.va
lidate(ValidationOperation.java:928)
        at 
org.eclipse.wst.validation.internal.operations.ValidationOperation.ru
n(ValidationOperation.java:639)
        at 
org.eclipse.wst.validation.internal.operations.ValidationBuilder.buil
d(ValidationBuilder.java:209)
        at org.eclipse.core.internal.events.BuildManager$2.run
(BuildManager.java
:593)
        at org.eclipse.core.internal.runtime.InternalPlatform.run
(InternalPlatfo
rm.java:1044)
        at org.eclipse.core.runtime.Platform.run(Platform.java:783)
        at org.eclipse.core.internal.events.BuildManager.basicBuild
(BuildManager
.java:168)
        at org.eclipse.core.internal.events.BuildManager.basicBuild
(BuildManager
.java:202)
        at org.eclipse.core.internal.events.BuildManager$1.run
(BuildManager.java
:231)
        at org.eclipse.core.internal.runtime.InternalPlatform.run
(InternalPlatfo
rm.java:1044)
        at org.eclipse.core.runtime.Platform.run(Platform.java:783)
        at org.eclipse.core.internal.events.BuildManager.basicBuild
(BuildManager
.java:234)
        at org.eclipse.core.internal.events.BuildManager.basicBuildLoop
(BuildMan
ager.java:253)
        at org.eclipse.core.internal.events.BuildManager.build
(BuildManager.java
:282)
        at org.eclipse.core.internal.events.AutoBuildJob.doBuild
(AutoBuildJob.ja
va:139)
        at org.eclipse.core.internal.events.AutoBuildJob.run
(AutoBuildJob.java:2
00)
        at org.eclipse.core.internal.jobs.Worker.run(Worker.java:76)

!ENTRY org.eclipse.wst.validation 4 0 2005-07-15 11:27:01.200
!MESSAGE
*** ERROR ***: Fri Jul 15 11:27:01 EDT 2005    
org.eclipse.wst.validation.intern
al.core.ValidationException: IWAE0053E An internal error has occurred running 
va
lidation on project:Test2]:Test2, check the log file for details

!ENTRY org.eclipse.wst.validation 4 0 2005-07-15 11:27:01.210
!MESSAGE
*** ERROR ***: Fri Jul 15 11:27:01 EDT 2005    java.lang.NullPointerException


*** This bug has been marked as a duplicate of 91967 ***
verified on RC4 build.</WithStack>
    <WithOutStack>1. Create A J2ee EAR project, named as Test1, with 4 components (app client, 
connector, ejb and web). accept all defaults.
2. In the Project Explorer view, expand Connector projects node, and right 
click the Test1Connector project, and select delete.
3. In the delete dialog, check radio button Also delete contents under...
4. Stacktrace is as:
JBModuleRefs(EarValidator.java:426)
        at 
org.eclipse.jst.j2ee.model.internal.validation.EarValidator.validateR
efs(EarValidator.java:362)
        at org.eclipse.jst.j2ee.model.internal.validation.EarValidator.validate
(
EarValidator.java:112)
        at org.eclipse.jst.j2ee.model.internal.validation.EarValidator.validate
(
EarValidator.java:128)
        at org.eclipse.jst.j2ee.internal.validation.UIEarValidator.validate
(UIEa
rValidator.java:212)
        at org.eclipse.wst.validation.internal.core.ValidatorLauncher.start
(Vali
datorLauncher.java:90)
        at 
org.eclipse.wst.validation.internal.operations.ValidationOperation.la
unchValidator(ValidationOperation.java:1196)
        at 
org.eclipse.wst.validation.internal.operations.ValidationOperation.in
ternalValidate(ValidationOperation.java:1022)
        at 
org.eclipse.wst.validation.internal.operations.ValidationOperation.va
lidate(ValidationOperation.java:928)
        at 
org.eclipse.wst.validation.internal.operations.ValidationOperation.ru
n(ValidationOperation.java:639)
        at 
org.eclipse.wst.validation.internal.operations.ValidationBuilder.buil
d(ValidationBuilder.java:209)
        at org.eclipse.core.internal.events.BuildManager$2.run
(BuildManager.java
:593)
        at org.eclipse.core.internal.runtime.InternalPlatform.run
(InternalPlatfo
rm.java:1044)
        at org.eclipse.core.runtime.Platform.run(Platform.java:783)
        at org.eclipse.core.internal.events.BuildManager.basicBuild
(BuildManager
.java:168)
        at org.eclipse.core.internal.events.BuildManager.basicBuild
(BuildManager
.java:202)
        at org.eclipse.core.internal.events.BuildManager$1.run
(BuildManager.java
:231)
        at org.eclipse.core.internal.runtime.InternalPlatform.run
(InternalPlatfo
rm.java:1044)
        at org.eclipse.core.runtime.Platform.run(Platform.java:783)
        at org.eclipse.core.internal.events.BuildManager.basicBuild
(BuildManager
.java:234)
        at org.eclipse.core.internal.events.BuildManager.basicBuildLoop
(BuildMan
ager.java:253)
        at org.eclipse.core.internal.events.BuildManager.build
(BuildManager.java
:282)
        at org.eclipse.core.internal.events.AutoBuildJob.doBuild
(AutoBuildJob.ja
va:139)
        at org.eclipse.core.internal.events.AutoBuildJob.run
(AutoBuildJob.java:2
00)
        at org.eclipse.core.internal.jobs.Worker.run(Worker.java:76)

*** ERROR ***: Fri Jul 15 11:27:01 EDT 2005    
org.eclipse.jst.j2ee.commonarchiv

*** ERROR ***: Fri Jul 15 11:27:01 EDT 2005    
org.eclipse.jst.j2ee.commonarchiv

*** ERROR ***: Fri Jul 15 11:27:01 EDT 2005    java.lang.NullPointerException
        at 
org.eclipse.wst.common.componentcore.ModuleCoreNature.getModuleCoreNa
ture(ModuleCoreNature.java:152)
        at 
org.eclipse.wst.common.componentcore.internal.StructureEdit.getStruct
ureEditForRead(StructureEdit.java:115)
        at 
org.eclipse.wst.common.componentcore.internal.resources.VirtualCompon
ent.getComponentTypeId(VirtualComponent.java:88)
        at 
org.eclipse.jst.j2ee.componentcore.util.EARArtifactEdit.getComponentR
eferences(EARArtifactEdit.java:483)
        at 
org.eclipse.jst.j2ee.componentcore.util.EARArtifactEdit.getJ2EEModule
References(EARArtifactEdit.java:459)
        at org.eclipse.jst.j2ee.componentcore.util.EARArtifactEdit.getModule
(EAR
ArtifactEdit.java:435)
        at org.eclipse.jst.j2ee.componentcore.util.EARArtifactEdit.getModuleURI
(
EARArtifactEdit.java:408)
        at 
org.eclipse.jst.j2ee.internal.archive.operations.EARComponentLoadStra
tegyImpl.addModulesAndUtilities(EARComponentLoadStrategyImpl.java:58)
        at 
org.eclipse.jst.j2ee.internal.archive.operations.EARComponentLoadStra
tegyImpl.getFiles(EARComponentLoadStrategyImpl.java:40)
        at 
org.eclipse.jst.j2ee.commonarchivecore.internal.strategy.LoadStrategy
Impl.collectFiles(LoadStrategyImpl.java:274)
        at 
org.eclipse.jst.j2ee.commonarchivecore.internal.impl.ContainerImpl.ge
tFiles(ContainerImpl.java:239)
        at 
org.eclipse.jst.j2ee.commonarchivecore.internal.impl.EARFileImpl.getM
oduleFiles(EARFileImpl.java:501)
        at 
org.eclipse.jst.j2ee.model.internal.validation.EarValidator.validateS
pecLevel(EarValidator.java:673)
        at org.eclipse.jst.j2ee.model.internal.validation.EarValidator.validate
(
EarValidator.java:114)
        at org.eclipse.jst.j2ee.model.internal.validation.EarValidator.validate
(
EarValidator.java:128)
        at org.eclipse.jst.j2ee.internal.validation.UIEarValidator.validate
(UIEa
rValidator.java:212)
        at org.eclipse.wst.validation.internal.core.ValidatorLauncher.start
(Vali
datorLauncher.java:90)
        at 
org.eclipse.wst.validation.internal.operations.ValidationOperation.la
unchValidator(ValidationOperation.java:1196)
        at 
org.eclipse.wst.validation.internal.operations.ValidationOperation.in
ternalValidate(ValidationOperation.java:1022)
        at 
org.eclipse.wst.validation.internal.operations.ValidationOperation.va
lidate(ValidationOperation.java:928)
        at 
org.eclipse.wst.validation.internal.operations.ValidationOperation.ru
n(ValidationOperation.java:639)
        at 
org.eclipse.wst.validation.internal.operations.ValidationBuilder.buil
d(ValidationBuilder.java:209)
        at org.eclipse.core.internal.events.BuildManager$2.run
(BuildManager.java
:593)
        at org.eclipse.core.internal.runtime.InternalPlatform.run
(InternalPlatfo
rm.java:1044)
        at org.eclipse.core.runtime.Platform.run(Platform.java:783)
        at org.eclipse.core.internal.events.BuildManager.basicBuild
(BuildManager
.java:168)
        at org.eclipse.core.internal.events.BuildManager.basicBuild
(BuildManager
.java:202)
        at org.eclipse.core.internal.events.BuildManager$1.run
(BuildManager.java
:231)
        at org.eclipse.core.internal.runtime.InternalPlatform.run
(InternalPlatfo
rm.java:1044)
        at org.eclipse.core.runtime.Platform.run(Platform.java:783)
        at org.eclipse.core.internal.events.BuildManager.basicBuild
(BuildManager
.java:234)
        at org.eclipse.core.internal.events.BuildManager.basicBuildLoop
(BuildMan
ager.java:253)
        at org.eclipse.core.internal.events.BuildManager.build
(BuildManager.java
:282)
        at org.eclipse.core.internal.events.AutoBuildJob.doBuild
(AutoBuildJob.ja
va:139)
        at org.eclipse.core.internal.events.AutoBuildJob.run
(AutoBuildJob.java:2
00)
        at org.eclipse.core.internal.jobs.Worker.run(Worker.java:76)

!ENTRY org.eclipse.wst.validation 4 0 2005-07-15 11:27:01.200
!MESSAGE
*** ERROR ***: Fri Jul 15 11:27:01 EDT 2005    
org.eclipse.wst.validation.intern
al.core.ValidationException: IWAE0053E An internal error has occurred running 
va
lidation on project:Test2]:Test2, check the log file for details

!ENTRY org.eclipse.wst.validation 4 0 2005-07-15 11:27:01.210
!MESSAGE
*** ERROR ***: Fri Jul 15 11:27:01 EDT 2005    java.lang.NullPointerException


*** This bug has been marked as a duplicate of 91967 ***
verified on RC4 build.</WithOutStack>
  </Bug>
  <Bug>
    <BugId amount="104030" />
    <CreationDate amount="2005-07-15 11:46:00 -0400" />
    <DupId amount="" />
    <classification amount="Eclipse" />
    <Product amount="JDT" />
    <component amount="UI" />
    <Version amount="3.1" />
    <rep_platform amount="PC" />
    <op_sys amount="Windows XP" />
    <priority amount="P3" />
    <bug_severity amount="normal" />
    <Summery>[refactoring] extract interface:NPE in SuperTypeConstraintsModel</Summery>
    <Patches amount="0" />
    <Stacktraces amount="1">
      <Stacktrace timestamp="1437330556538">
        <Exception>java.lang.NullPointerException</Exception>
        <Reason />
        <Frames>
          <Frame depth="0">org.eclipse.jdt.internal.corext.refactoring.structure.constraints.SuperTypeConstraintsModel.createTypeVariable(SuperTypeConstraintsModel.java:478)</Frame>
          <Frame depth="1">org.eclipse.jdt.internal.corext.refactoring.structure.constraints.SuperTypeConstraintsCreator.endVisit(SuperTypeConstraintsCreator.java:685)</Frame>
          <Frame depth="2">org.eclipse.jdt.internal.corext.dom.HierarchicalASTVisitor.endVisit(HierarchicalASTVisitor.java:707)</Frame>
          <Frame depth="3">org.eclipse.jdt.core.dom.SimpleType.accept0(SimpleType.java:138)</Frame>
          <Frame depth="4">org.eclipse.jdt.core.dom.ASTNode.accept(ASTNode.java:2450)</Frame>
          <Frame depth="5">org.eclipse.jdt.core.dom.ASTNode.acceptChild(ASTNode.java:2497)</Frame>
          <Frame depth="6">org.eclipse.jdt.core.dom.MethodDeclaration.accept0(MethodDeclaration.java:495)</Frame>
          <Frame depth="7">org.eclipse.jdt.core.dom.ASTNode.accept(ASTNode.java:2450)</Frame>
          <Frame depth="8">org.eclipse.jdt.core.dom.ASTNode.acceptChildren(ASTNode.java:2520)</Frame>
          <Frame depth="9">org.eclipse.jdt.core.dom.TypeDeclaration.accept0(TypeDeclaration.java:483)</Frame>
          <Frame depth="10">org.eclipse.jdt.core.dom.ASTNode.accept(ASTNode.java:2450)</Frame>
          <Frame depth="11">org.eclipse.jdt.core.dom.ASTNode.acceptChildren(ASTNode.java:2520)</Frame>
          <Frame depth="12">org.eclipse.jdt.core.dom.CompilationUnit.accept0(CompilationUnit.java:299)</Frame>
          <Frame depth="13">org.eclipse.jdt.core.dom.ASTNode.accept(ASTNode.java:2450)</Frame>
          <Frame depth="14">org.eclipse.jdt.internal.corext.refactoring.structure.constraints.SuperTypeRefactoringProcessor.performFirstPass(SuperTypeRefactoringProcessor.java:306)</Frame>
          <Frame depth="15">org.eclipse.jdt.internal.corext.refactoring.structure.constraints.SuperTypeRefactoringProcessor$3.acceptAST(SuperTypeRefactoringProcessor.java:656)</Frame>
          <Frame depth="16">org.eclipse.jdt.core.dom.CompilationUnitResolver.resolve(CompilationUnitResolver.java:691)</Frame>
          <Frame depth="17">org.eclipse.jdt.core.dom.CompilationUnitResolver.resolve(CompilationUnitResolver.java:455)</Frame>
          <Frame depth="18">org.eclipse.jdt.core.dom.ASTParser.createASTs(ASTParser.java:664)</Frame>
          <Frame depth="19">org.eclipse.jdt.internal.corext.refactoring.structure.constraints.SuperTypeRefactoringProcessor.solveSuperTypeConstraints(SuperTypeRefactoringProcessor.java:650)</Frame>
          <Frame depth="20">org.eclipse.jdt.internal.corext.refactoring.structure.ExtractInterfaceProcessor.access$2(ExtractInterfaceProcessor.java:1)</Frame>
          <Frame depth="21">org.eclipse.jdt.internal.corext.refactoring.structure.ExtractInterfaceProcessor$2.acceptAST(ExtractInterfaceProcessor.java:1106)</Frame>
          <Frame depth="22">org.eclipse.jdt.core.dom.CompilationUnitResolver.resolve(CompilationUnitResolver.java:691)</Frame>
          <Frame depth="23">org.eclipse.jdt.core.dom.CompilationUnitResolver.resolve(CompilationUnitResolver.java:455)</Frame>
          <Frame depth="24">org.eclipse.jdt.core.dom.ASTParser.createASTs(ASTParser.java:664)</Frame>
          <Frame depth="25">org.eclipse.jdt.internal.corext.refactoring.structure.ExtractInterfaceProcessor.rewriteTypeOccurrences(ExtractInterfaceProcessor.java:1088)</Frame>
          <Frame depth="26">org.eclipse.jdt.internal.corext.refactoring.structure.ExtractInterfaceProcessor.createChangeManager(ExtractInterfaceProcessor.java:359)</Frame>
          <Frame depth="27">org.eclipse.jdt.internal.corext.refactoring.structure.ExtractInterfaceProcessor.checkFinalConditions(ExtractInterfaceProcessor.java:224)</Frame>
          <Frame depth="28">org.eclipse.ltk.core.refactoring.participants.ProcessorBasedRefactoring.checkFinalConditions(ProcessorBasedRefactoring.java:169)</Frame>
          <Frame depth="29">org.eclipse.ltk.core.refactoring.CheckConditionsOperation.run(CheckConditionsOperation.java:84)</Frame>
          <Frame depth="30">org.eclipse.ltk.core.refactoring.CreateChangeOperation.run(CreateChangeOperation.java:114)</Frame>
          <Frame depth="31">org.eclipse.core.internal.resources.Workspace.run(Workspace.java:1719)</Frame>
          <Frame depth="32">org.eclipse.ltk.internal.ui.refactoring.WorkbenchRunnableAdapter.run(WorkbenchRunnableAdapter.java:86)</Frame>
          <Frame depth="33">org.eclipse.jface.operation.ModalContext$ModalContextThread.run(ModalContext.java:113)</Frame>
        </Frames>
      </Stacktrace>
    </Stacktraces>
    <SourceCodeRegions amount="0" />
    <Enumerations amount="0" />
    <bug_status amount="VERIFIED" />
    <resolution amount="FIXED" />
    <WithStack>3.1
extract the attached source
open interace Node
'Extract Interface', select all methods

java.lang.NullPointerException
at
org.eclipse.jdt.internal.corext.refactoring.structure.constraints.SuperTypeConstraintsModel.createTypeVariable(SuperTypeConstraintsModel.java:478)
at
org.eclipse.jdt.internal.corext.refactoring.structure.constraints.SuperTypeConstraintsCreator.endVisit(SuperTypeConstraintsCreator.java:685)
at
org.eclipse.jdt.internal.corext.dom.HierarchicalASTVisitor.endVisit(HierarchicalASTVisitor.java:707)
at org.eclipse.jdt.core.dom.SimpleType.accept0(SimpleType.java:138)
at org.eclipse.jdt.core.dom.ASTNode.accept(ASTNode.java:2450)
at org.eclipse.jdt.core.dom.ASTNode.acceptChild(ASTNode.java:2497)
at org.eclipse.jdt.core.dom.MethodDeclaration.accept0(MethodDeclaration.java:495)
at org.eclipse.jdt.core.dom.ASTNode.accept(ASTNode.java:2450)
at org.eclipse.jdt.core.dom.ASTNode.acceptChildren(ASTNode.java:2520)
at org.eclipse.jdt.core.dom.TypeDeclaration.accept0(TypeDeclaration.java:483)
at org.eclipse.jdt.core.dom.ASTNode.accept(ASTNode.java:2450)
at org.eclipse.jdt.core.dom.ASTNode.acceptChildren(ASTNode.java:2520)
at org.eclipse.jdt.core.dom.CompilationUnit.accept0(CompilationUnit.java:299)
at org.eclipse.jdt.core.dom.ASTNode.accept(ASTNode.java:2450)
at
org.eclipse.jdt.internal.corext.refactoring.structure.constraints.SuperTypeRefactoringProcessor.performFirstPass(SuperTypeRefactoringProcessor.java:306)
at
org.eclipse.jdt.internal.corext.refactoring.structure.constraints.SuperTypeRefactoringProcessor$3.acceptAST(SuperTypeRefactoringProcessor.java:656)
at
org.eclipse.jdt.core.dom.CompilationUnitResolver.resolve(CompilationUnitResolver.java:691)
at
org.eclipse.jdt.core.dom.CompilationUnitResolver.resolve(CompilationUnitResolver.java:455)
at org.eclipse.jdt.core.dom.ASTParser.createASTs(ASTParser.java:664)
at
org.eclipse.jdt.internal.corext.refactoring.structure.constraints.SuperTypeRefactoringProcessor.solveSuperTypeConstraints(SuperTypeRefactoringProcessor.java:650)
at
org.eclipse.jdt.internal.corext.refactoring.structure.ExtractInterfaceProcessor.access$2(ExtractInterfaceProcessor.java:1)
at
org.eclipse.jdt.internal.corext.refactoring.structure.ExtractInterfaceProcessor$2.acceptAST(ExtractInterfaceProcessor.java:1106)
at
org.eclipse.jdt.core.dom.CompilationUnitResolver.resolve(CompilationUnitResolver.java:691)
at
org.eclipse.jdt.core.dom.CompilationUnitResolver.resolve(CompilationUnitResolver.java:455)
at org.eclipse.jdt.core.dom.ASTParser.createASTs(ASTParser.java:664)
at
org.eclipse.jdt.internal.corext.refactoring.structure.ExtractInterfaceProcessor.rewriteTypeOccurrences(ExtractInterfaceProcessor.java:1088)
at
org.eclipse.jdt.internal.corext.refactoring.structure.ExtractInterfaceProcessor.createChangeManager(ExtractInterfaceProcessor.java:359)
at
org.eclipse.jdt.internal.corext.refactoring.structure.ExtractInterfaceProcessor.checkFinalConditions(ExtractInterfaceProcessor.java:224)
at
org.eclipse.ltk.core.refactoring.participants.ProcessorBasedRefactoring.checkFinalConditions(ProcessorBasedRefactoring.java:169)
at
org.eclipse.ltk.core.refactoring.CheckConditionsOperation.run(CheckConditionsOperation.java:84)
at
org.eclipse.ltk.core.refactoring.CreateChangeOperation.run(CreateChangeOperation.java:114)
at org.eclipse.core.internal.resources.Workspace.run(Workspace.java:1719)
at
org.eclipse.ltk.internal.ui.refactoring.WorkbenchRunnableAdapter.run(WorkbenchRunnableAdapter.java:86)
at
org.eclipse.jface.operation.ModalContext$ModalContextThread.run(ModalContext.java:113)
Created attachment 24845
the benchmark
Tobias, please also investigate how risky a fix would be for 3.1.1.
The scenario works for me using a fresh 5.0 project with imported source.

However, the resolved binding in SuperTypeConstraintsModel#createTypeVariable 
is accessed without null check.

Fix is trivial and absolutely safe

Attaching patch
Created attachment 24898
proposed fix
Approved for 3.1.1
Martin, can you approve for 3.1.1?
Fixed in HEAD 20050808
patch looks good, ok for 3.1.1.
Fixed in 3.1.1 maintenance stream &gt; 20050810
Start verification...
Could also not reproduce with attached example. Verified in source:
M20050831-1200\plugins\org.eclipse.jdt.source_3.1.1\src\org.eclipse.jdt.ui_3.1.1</WithStack>
    <WithOutStack>3.1
extract the attached source
open interace Node
'Extract Interface', select all methods


Created attachment 24845
the benchmark
Tobias, please also investigate how risky a fix would be for 3.1.1.
The scenario works for me using a fresh 5.0 project with imported source.

However, the resolved binding in SuperTypeConstraintsModel#createTypeVariable 
is accessed without null check.

Fix is trivial and absolutely safe

Attaching patch
Created attachment 24898
proposed fix
Approved for 3.1.1
Martin, can you approve for 3.1.1?
Fixed in HEAD 20050808
patch looks good, ok for 3.1.1.
Fixed in 3.1.1 maintenance stream &gt; 20050810
Start verification...
Could also not reproduce with attached example. Verified in source:
M20050831-1200\plugins\org.eclipse.jdt.source_3.1.1\src\org.eclipse.jdt.ui_3.1.1</WithOutStack>
  </Bug>
  <Bug>
    <BugId amount="104031" />
    <CreationDate amount="2005-07-15 11:59:00 -0400" />
    <DupId amount="" />
    <classification amount="Eclipse Foundation" />
    <Product amount="z_Archived" />
    <component amount="VE" />
    <Version amount="unspecified" />
    <rep_platform amount="PC" />
    <op_sys amount="Linux-GTK" />
    <priority amount="P3" />
    <bug_severity amount="major" />
    <Summery>"Create Container" not enabled on context menu for ViewPart</Summery>
    <Patches amount="0" />
    <Stacktraces amount="0" />
    <SourceCodeRegions amount="2">
      <source_code type="functiondef">
        <location start="195" end="324" />
        <code>public void createPartControl(Composite arg0) {
		// TODO Auto-generated method stub
		top = new Composite(parent, SWT.NONE);
	}</code>
      </source_code>
      <source_code type="functiondef">
        <location start="1359" end="1457" />
        <code>public void createComposite(Composite parent){
  Composite top = new Composite(parent,SWT.NONE);
}</code>
      </source_code>
    </SourceCodeRegions>
    <Enumerations amount="0" />
    <bug_status amount="CLOSED" />
    <resolution amount="WONTFIX" />
    <WithStack>Testing JVERCP01 
First problem is that the following code generated is incorrect and produces a
compile error because arg0 is passed in but the Composite is created with parent
as the argument:
	public void createPartControl(Composite arg0) {
		// TODO Auto-generated method stub
		top = new Composite(parent, SWT.NONE);
	}
But I think bug 104006 handles this. So I corrected this by changing parent to
arg0. Following the test script I tried to drop a Button onto the ViewPart which
showed a message "Select 'Create Container' in context menu to populate empty
container". Brought up the popup menu and this option is disabled. So I can't
drop anything on the ViewPart.
Joe, this is the problem where the code is in error because the argument passed
into the method is different in name to the one used by top Composite. When one
fixes the problem in source and snippet update finishes, the top Composite is
added as a child of the parent in the tree, but no EditPart is shown in the UI
and further problems arise. 
This is a problem with the target VM not actually refreshing the composite 
visuals.  The code here has changed quite a bit because the 
validate/invalidate stuff is all done on the target now.  However, I do feel 
that bug isn't that critical to fix for 3.1 GA because the only circumstance 
it occurs is if
a) user creates a ViewPart like
public void createComposite(Composite parent){
  Composite top = new Composite(parent,SWT.NONE);
}
then the "parent" is renamed to "foo" in the argument to the method
the GUI refreshes correctly showing "top" in the beans list as a free form 
child with a parse error
then the user changes the parent in the constructor argument to "foo" to fix 
the error.  The tree fixes itself but the graph viewer doesn't without a 
reload.
I'll leave the bug open as I will continue to work on it but don't hold up any 
builds for it as the scenario under which it shows up is rare
This no longer seems to be a problem. I went through this part of the JVERCP01 scenario w/o any problems. Also... you cannot rename "parent" from the GUI.
If you rename "parent" in the source code after dropping controls, they disappear from the beans view but reload works.

Nothing is to be done here so closing this bug report.
Closing...</WithStack>
    <WithOutStack>Testing JVERCP01 
First problem is that the following code generated is incorrect and produces a
compile error because arg0 is passed in but the Composite is created with parent
as the argument:
	public void createPartControl(Composite arg0) {
		// TODO Auto-generated method stub
		top = new Composite(parent, SWT.NONE);
	}
But I think bug 104006 handles this. So I corrected this by changing parent to
arg0. Following the test script I tried to drop a Button onto the ViewPart which
showed a message "Select 'Create Container' in context menu to populate empty
container". Brought up the popup menu and this option is disabled. So I can't
drop anything on the ViewPart.
Joe, this is the problem where the code is in error because the argument passed
into the method is different in name to the one used by top Composite. When one
fixes the problem in source and snippet update finishes, the top Composite is
added as a child of the parent in the tree, but no EditPart is shown in the UI
and further problems arise. 
This is a problem with the target VM not actually refreshing the composite 
visuals.  The code here has changed quite a bit because the 
validate/invalidate stuff is all done on the target now.  However, I do feel 
that bug isn't that critical to fix for 3.1 GA because the only circumstance 
it occurs is if
a) user creates a ViewPart like
public void createComposite(Composite parent){
  Composite top = new Composite(parent,SWT.NONE);
}
then the "parent" is renamed to "foo" in the argument to the method
the GUI refreshes correctly showing "top" in the beans list as a free form 
child with a parse error
then the user changes the parent in the constructor argument to "foo" to fix 
the error.  The tree fixes itself but the graph viewer doesn't without a 
reload.
I'll leave the bug open as I will continue to work on it but don't hold up any 
builds for it as the scenario under which it shows up is rare
This no longer seems to be a problem. I went through this part of the JVERCP01 scenario w/o any problems. Also... you cannot rename "parent" from the GUI.
If you rename "parent" in the source code after dropping controls, they disappear from the beans view but reload works.

Nothing is to be done here so closing this bug report.
Closing...</WithOutStack>
  </Bug>
  <Bug>
    <BugId amount="104032" />
    <CreationDate amount="2005-07-15 12:00:00 -0400" />
    <DupId amount="" />
    <classification amount="Eclipse" />
    <Product amount="JDT" />
    <component amount="APT" />
    <Version amount="3.1" />
    <rep_platform amount="PC" />
    <op_sys amount="Windows XP" />
    <priority amount="P3" />
    <bug_severity amount="normal" />
    <Summery>NPE at AptConfig$ChangeListener.preferenceChange</Summery>
    <Patches amount="0" />
    <Stacktraces amount="0" />
    <SourceCodeRegions amount="3">
      <source_code type="singlecomment">
        <location start="151" end="205" />
        <code>// project is an IProject, that currently does exist</code>
      </source_code>
      <source_code type="functiondef">
        <location start="205" end="270" />
        <code>ResourcesPlugin.getWorkspace().delete(new IResource[] { project }</code>
      </source_code>
      <source_code type="functioncall">
        <location start="205" end="284" />
        <code>ResourcesPlugin.getWorkspace().delete(new IResource[] { project }, true, null);</code>
      </source_code>
    </SourceCodeRegions>
    <Enumerations amount="0" />
    <bug_status amount="RESOLVED" />
    <resolution amount="FIXED" />
    <WithStack>We're seeing an intermittent NPE when deleting a project in eclipse, coming from
AptConfig. The project is being deleted programmatically, by calling:

// project is an IProject, that currently does exist
ResourcesPlugin.getWorkspace().delete(new IResource[] { project }, true, null);

The NPE is:

    [java] java.lang.NullPointerException
    [java] at
org.eclipse.jdt.apt.core.util.AptConfig$ChangeListener.preferenceChange(AptConfig.java:383)
    [java] at
org.eclipse.core.internal.preferences.EclipsePreferences$2.run(EclipsePreferences.java:767)
    [java] at
org.eclipse.core.internal.runtime.InternalPlatform.run(InternalPlatform.java:1044)
    [java] at org.eclipse.core.runtime.Platform.run(Platform.java:783)
    [java] at
org.eclipse.core.internal.preferences.EclipsePreferences.firePreferenceEvent(EclipsePreferences.java:770)
    [java] at
org.eclipse.core.internal.preferences.EclipsePreferences.internalRemove(EclipsePreferences.java:588)
    [java] at
org.eclipse.core.internal.preferences.EclipsePreferences.remove(EclipsePreferences.java:877)
    [java] at
org.eclipse.core.internal.preferences.EclipsePreferences.removeNode(EclipsePreferences.java:890)
    [java] at
org.eclipse.core.internal.preferences.EclipsePreferences.removeNode(EclipsePreferences.java:901)
    [java] at
org.eclipse.core.internal.resources.ProjectPreferences.removeNode(ProjectPreferences.java:446)
    [java] at
org.eclipse.core.internal.resources.ProjectPreferences.deleted(ProjectPreferences.java:551)
    [java] at
org.eclipse.core.internal.resources.ProjectPreferences.deleted(ProjectPreferences.java:527)
    [java] at
org.eclipse.core.internal.resources.Resource.deleteResource(Resource.java:745)
    [java] at
org.eclipse.core.internal.localstore.DeleteVisitor.delete(DeleteVisitor.java:82)
    [java] at
org.eclipse.core.internal.localstore.DeleteVisitor.delete(DeleteVisitor.java:61)
    [java] at
org.eclipse.core.internal.localstore.DeleteVisitor.visit(DeleteVisitor.java:141)
    [java] at
org.eclipse.core.internal.localstore.UnifiedTree.accept(UnifiedTree.java:83)
    [java] at
org.eclipse.core.internal.localstore.FileSystemResourceManager.delete(FileSystemResourceManager.java:179)
    [java] at
org.eclipse.core.internal.resources.ResourceTree.standardDeleteProject(ResourceTree.java:771)
    [java] at
org.eclipse.core.internal.resources.Resource.unprotectedDelete(Resource.java:1558)
    [java] at org.eclipse.core.internal.resources.Resource.delete(Resource.java:664)
    [java] at
org.eclipse.core.internal.resources.Workspace.delete(Workspace.java:803)
    [java] at
org.eclipse.core.internal.resources.Workspace.delete(Workspace.java:834)
    [java] at
com.bea.test.common.testhelpers.ProjectHelper$2.execute(ProjectHelper.java:298)
    [java] at
org.eclipse.ui.actions.WorkspaceModifyOperation$1.run(WorkspaceModifyOperation.java:98)
    [java] at org.eclipse.core.internal.resources.Workspace.run(Workspace.java:1719)
    [java] at
org.eclipse.ui.actions.WorkspaceModifyOperation.run(WorkspaceModifyOperation.java:110)
    [java] at
com.bea.test.common.testhelpers.ProjectHelper.deleteProject(ProjectHelper.java:306)

Walter, this looks like yours.  It looks like the stack is out of date wrt the 
code, so I'm not sure what is actually null.

Hopefully fixed.  Keeping bug open till I write a regression test.
Regression test written; in tests.apt.RegressionTests.  Verified in debugger 
that expected code is entered and that it would have caused an NPE without the 
fix.</WithStack>
    <WithOutStack>We're seeing an intermittent NPE when deleting a project in eclipse, coming from
AptConfig. The project is being deleted programmatically, by calling:

// project is an IProject, that currently does exist
ResourcesPlugin.getWorkspace().delete(new IResource[] { project }, true, null);

The NPE is:

    [java] java.lang.NullPointerException
    [java] at
org.eclipse.jdt.apt.core.util.AptConfig$ChangeListener.preferenceChange(AptConfig.java:383)
    [java] at
org.eclipse.core.internal.preferences.EclipsePreferences$2.run(EclipsePreferences.java:767)
    [java] at
org.eclipse.core.internal.runtime.InternalPlatform.run(InternalPlatform.java:1044)
    [java] at org.eclipse.core.runtime.Platform.run(Platform.java:783)
    [java] at
org.eclipse.core.internal.preferences.EclipsePreferences.firePreferenceEvent(EclipsePreferences.java:770)
    [java] at
org.eclipse.core.internal.preferences.EclipsePreferences.internalRemove(EclipsePreferences.java:588)
    [java] at
org.eclipse.core.internal.preferences.EclipsePreferences.remove(EclipsePreferences.java:877)
    [java] at
org.eclipse.core.internal.preferences.EclipsePreferences.removeNode(EclipsePreferences.java:890)
    [java] at
org.eclipse.core.internal.preferences.EclipsePreferences.removeNode(EclipsePreferences.java:901)
    [java] at
org.eclipse.core.internal.resources.ProjectPreferences.removeNode(ProjectPreferences.java:446)
    [java] at
org.eclipse.core.internal.resources.ProjectPreferences.deleted(ProjectPreferences.java:551)
    [java] at
org.eclipse.core.internal.resources.ProjectPreferences.deleted(ProjectPreferences.java:527)
    [java] at
org.eclipse.core.internal.resources.Resource.deleteResource(Resource.java:745)
    [java] at
org.eclipse.core.internal.localstore.DeleteVisitor.delete(DeleteVisitor.java:82)
    [java] at
org.eclipse.core.internal.localstore.DeleteVisitor.delete(DeleteVisitor.java:61)
    [java] at
org.eclipse.core.internal.localstore.DeleteVisitor.visit(DeleteVisitor.java:141)
    [java] at
org.eclipse.core.internal.localstore.UnifiedTree.accept(UnifiedTree.java:83)
    [java] at
org.eclipse.core.internal.localstore.FileSystemResourceManager.delete(FileSystemResourceManager.java:179)
    [java] at
org.eclipse.core.internal.resources.ResourceTree.standardDeleteProject(ResourceTree.java:771)
    [java] at
org.eclipse.core.internal.resources.Resource.unprotectedDelete(Resource.java:1558)
    [java] at org.eclipse.core.internal.resources.Resource.delete(Resource.java:664)
    [java] at
org.eclipse.core.internal.resources.Workspace.delete(Workspace.java:803)
    [java] at
org.eclipse.core.internal.resources.Workspace.delete(Workspace.java:834)
    [java] at
com.bea.test.common.testhelpers.ProjectHelper$2.execute(ProjectHelper.java:298)
    [java] at
org.eclipse.ui.actions.WorkspaceModifyOperation$1.run(WorkspaceModifyOperation.java:98)
    [java] at org.eclipse.core.internal.resources.Workspace.run(Workspace.java:1719)
    [java] at
org.eclipse.ui.actions.WorkspaceModifyOperation.run(WorkspaceModifyOperation.java:110)
    [java] at
com.bea.test.common.testhelpers.ProjectHelper.deleteProject(ProjectHelper.java:306)

Walter, this looks like yours.  It looks like the stack is out of date wrt the 
code, so I'm not sure what is actually null.

Hopefully fixed.  Keeping bug open till I write a regression test.
Regression test written; in tests.apt.RegressionTests.  Verified in debugger 
that expected code is entered and that it would have caused an NPE without the 
fix.</WithOutStack>
  </Bug>
  <Bug>
    <BugId amount="104033" />
    <CreationDate amount="2005-07-15 12:02:00 -0400" />
    <DupId amount="" />
    <classification amount="WebTools" />
    <Product amount="WTP Webservices" />
    <component amount="wst.wsdl" />
    <Version amount="1.5" />
    <rep_platform amount="PC" />
    <op_sys amount="Windows XP" />
    <priority amount="P3" />
    <bug_severity amount="major" />
    <Summery>null WSDL namespace validation error</Summery>
    <Patches amount="0" />
    <Stacktraces amount="0" />
    <SourceCodeRegions amount="0" />
    <Enumerations amount="0" />
    <bug_status amount="CLOSED" />
    <resolution amount="FIXED" />
    <WithStack>I will attach our widely used AddressBook.wsdl. It validates fine in RAD V6 and
prior to the 20050715 driver. With the 20050715 driver, the WSDL file is marked
with a red X and the corresponding error in the Problems view is:

The namespace null specified is not a valid WSDL namespace.
Created attachment 24847
WSDL file
*** Bug 103675 has been marked as a duplicate of this bug. ***
Yen, please verify on RC2. I can't reproduce this problem on the 20050721 WTP
driver.
Lawrence, I am still seeing this validation error on RC2. Perhaps it is my JDK?
Here's my JDK's full version:

java full version "J2RE 1.4.2 IBM Windows 32 build cn142sr1a-20050209"
Thanks Yen. I am able to reproduce with that JRE so this seems to be a problem
specific to the JRE you are using.

I need to investigate further to find the source of the problem.
(In reply to comment #4)

&gt; 
&gt; java full version "J2RE 1.4.2 IBM Windows 32 build cn142sr1a-20050209"

Is there an SR2 version of this JDK? Perhaps a good "quick check" would be to 
see if occurs on it ... or just SR1?


I tried a newer IBM JVM:

cn142-20050609

but the result is the same.
*** Bug 107662 has been marked as a duplicate of this bug. ***
This bug occurs when a different version of Xerces is on the classpath.
I've fixed the WSDL and WS-I validators. They now use a method in Xerces that
has not changed in several releases rather than an updated method. We can go
back to the updated method once WTP and its consumers move up to Java 5.0.
Please test on a WTP driver from 20050913 or later.
*** Bug 106627 has been marked as a duplicate of this bug. ***
I don't want to reopen this bug just yet, but I am seeing this same error
running Eclipse WTP on 

C:\Documents and Settings\joshea&gt;java -version
java version "1.4.2_09"
Java(TM) 2 Runtime Environment, Standard Edition (build 1.4.2_09-b05)
Java HotSpot(TM) Client VM (build 1.4.2_09-b05, mixed mode)

The main doubt currently in my mind is that I'm seeing it in an eclipse
installation that is using a &lt;eclipse-dir&gt;/links/my.link file to load some
plugins from another location.  We have a plugin in that location that contains
a different xerces imlementation - it shouldn't interfere since the plugin name
is different to "org.apache" and the WTP wsdl plugins would have no dependencies
on it _but_ I have noticed, on occasion, that when a links/ file is used to load
extra plugins, the eclipse classloaders can get a little confused and load
classes from the wrong plugins.  I need to do a little more searching to verify
this is the cause though.
Sorry, I meant to ask, Lawrence would you have a patch for the changes you made
to resolve this (you mention driver 20050913)?  Unfortunately we are stuck on
0.7 at the moment and may have to re-do the changes on the 0.7 source and ship
patched plugins...

thanks,

John.  
Created attachment 28670
WSDL validator patch for 0.7
Created attachment 28671
WS-I validator patch for 0.7
John, I back-ported the fix for 0.7 and attached two patches: one for the WSDL
validator and one for the WS-I validator. These patches should solve your
problem. Let me know if you run into any trouble. 
This change is a bulk update of all _un_targeted, fixed, resolved bugs upon release of M5. This particular bug _might_ have been fixed earlier than M5. (Feel free to correct). 


Thanks for verifying Yen. Closing bug.</WithStack>
    <WithOutStack>I will attach our widely used AddressBook.wsdl. It validates fine in RAD V6 and
prior to the 20050715 driver. With the 20050715 driver, the WSDL file is marked
with a red X and the corresponding error in the Problems view is:

The namespace null specified is not a valid WSDL namespace.
Created attachment 24847
WSDL file
*** Bug 103675 has been marked as a duplicate of this bug. ***
Yen, please verify on RC2. I can't reproduce this problem on the 20050721 WTP
driver.
Lawrence, I am still seeing this validation error on RC2. Perhaps it is my JDK?
Here's my JDK's full version:

java full version "J2RE 1.4.2 IBM Windows 32 build cn142sr1a-20050209"
Thanks Yen. I am able to reproduce with that JRE so this seems to be a problem
specific to the JRE you are using.

I need to investigate further to find the source of the problem.
(In reply to comment #4)

&gt; 
&gt; java full version "J2RE 1.4.2 IBM Windows 32 build cn142sr1a-20050209"

Is there an SR2 version of this JDK? Perhaps a good "quick check" would be to 
see if occurs on it ... or just SR1?


I tried a newer IBM JVM:

cn142-20050609

but the result is the same.
*** Bug 107662 has been marked as a duplicate of this bug. ***
This bug occurs when a different version of Xerces is on the classpath.
I've fixed the WSDL and WS-I validators. They now use a method in Xerces that
has not changed in several releases rather than an updated method. We can go
back to the updated method once WTP and its consumers move up to Java 5.0.
Please test on a WTP driver from 20050913 or later.
*** Bug 106627 has been marked as a duplicate of this bug. ***
I don't want to reopen this bug just yet, but I am seeing this same error
running Eclipse WTP on 

C:\Documents and Settings\joshea&gt;java -version
java version "1.4.2_09"
Java(TM) 2 Runtime Environment, Standard Edition (build 1.4.2_09-b05)
Java HotSpot(TM) Client VM (build 1.4.2_09-b05, mixed mode)

The main doubt currently in my mind is that I'm seeing it in an eclipse
installation that is using a &lt;eclipse-dir&gt;/links/my.link file to load some
plugins from another location.  We have a plugin in that location that contains
a different xerces imlementation - it shouldn't interfere since the plugin name
is different to "org.apache" and the WTP wsdl plugins would have no dependencies
on it _but_ I have noticed, on occasion, that when a links/ file is used to load
extra plugins, the eclipse classloaders can get a little confused and load
classes from the wrong plugins.  I need to do a little more searching to verify
this is the cause though.
Sorry, I meant to ask, Lawrence would you have a patch for the changes you made
to resolve this (you mention driver 20050913)?  Unfortunately we are stuck on
0.7 at the moment and may have to re-do the changes on the 0.7 source and ship
patched plugins...

thanks,

John.  
Created attachment 28670
WSDL validator patch for 0.7
Created attachment 28671
WS-I validator patch for 0.7
John, I back-ported the fix for 0.7 and attached two patches: one for the WSDL
validator and one for the WS-I validator. These patches should solve your
problem. Let me know if you run into any trouble. 
This change is a bulk update of all _un_targeted, fixed, resolved bugs upon release of M5. This particular bug _might_ have been fixed earlier than M5. (Feel free to correct). 


Thanks for verifying Yen. Closing bug.</WithOutStack>
  </Bug>
  <Bug>
    <BugId amount="104034" />
    <CreationDate amount="2005-07-15 12:10:00 -0400" />
    <DupId amount="50492" />
    <classification amount="Eclipse" />
    <Product amount="Platform" />
    <component amount="UI" />
    <Version amount="3.1" />
    <rep_platform amount="PC" />
    <op_sys amount="Windows XP" />
    <priority amount="P3" />
    <bug_severity amount="major" />
    <Summery>[Markers] Task view does not work properly</Summery>
    <Patches amount="0" />
    <Stacktraces amount="0" />
    <SourceCodeRegions amount="0" />
    <Enumerations amount="0" />
    <bug_status amount="RESOLVED" />
    <resolution amount="DUPLICATE" />
    <WithStack>I did define a new High priority task called "TOD" in task tags and added it to
java code. Tasks view is not showing up "High priority task" icon.

Filters are also not working properly. I did select "on any resource in the same
project" from filters of task view, tasks view is cleared up. similarly "where
priority" check box is not working either when I select "high" priority
Same as bug 50492 ?


*** This bug has been marked as a duplicate of 50492 ***</WithStack>
    <WithOutStack>I did define a new High priority task called "TOD" in task tags and added it to
java code. Tasks view is not showing up "High priority task" icon.

Filters are also not working properly. I did select "on any resource in the same
project" from filters of task view, tasks view is cleared up. similarly "where
priority" check box is not working either when I select "high" priority
Same as bug 50492 ?


*** This bug has been marked as a duplicate of 50492 ***</WithOutStack>
  </Bug>
  <Bug>
    <BugId amount="104035" />
    <CreationDate amount="2005-07-15 12:11:00 -0400" />
    <DupId amount="" />
    <classification amount="WebTools" />
    <Product amount="WTP Java EE Tools" />
    <component amount="jst.j2ee" />
    <Version amount="0.7" />
    <rep_platform amount="PC" />
    <op_sys amount="Windows 2000" />
    <priority amount="P4" />
    <bug_severity amount="major" />
    <Summery>RAR Import</Summery>
    <Patches amount="0" />
    <Stacktraces amount="0" />
    <SourceCodeRegions amount="1">
      <source_code type="assignment">
        <location start="155" end="217" />
        <code>IType fileType = unit.findType(managedConnectionFactoryClass);</code>
      </source_code>
    </SourceCodeRegions>
    <Enumerations amount="0" />
    <bug_status amount="CLOSED" />
    <resolution amount="FIXED" />
    <WithStack>Import the RAR file of a J2C Connector project. The RAR file contains JARs, but 
the JARs were not added to the Build path.

The line of code that I have:
IType fileType = unit.findType(managedConnectionFactoryClass);
returns null instead of returning BinaryType which it was the case before.

Let me know if you need my sample of the RAR file.
We are going to remove RAR import ext for 0.7 and adding comments to the release
notes. We have already removed RAR export. Will be adding it back post 0.7
code dropped in cvs.
This bug is being moved to the "closed" state since it has been in the fixed state for a so long it is being assumed fixed, without explicit verification from the originator. If there is still a problem, in the most recent 1.5.x builds, please reopen or open another bug.</WithStack>
    <WithOutStack>Import the RAR file of a J2C Connector project. The RAR file contains JARs, but 
the JARs were not added to the Build path.

The line of code that I have:
IType fileType = unit.findType(managedConnectionFactoryClass);
returns null instead of returning BinaryType which it was the case before.

Let me know if you need my sample of the RAR file.
We are going to remove RAR import ext for 0.7 and adding comments to the release
notes. We have already removed RAR export. Will be adding it back post 0.7
code dropped in cvs.
This bug is being moved to the "closed" state since it has been in the fixed state for a so long it is being assumed fixed, without explicit verification from the originator. If there is still a problem, in the most recent 1.5.x builds, please reopen or open another bug.</WithOutStack>
  </Bug>
  <Bug>
    <BugId amount="104036" />
    <CreationDate amount="2005-07-15 12:18:00 -0400" />
    <DupId amount="" />
    <classification amount="WebTools" />
    <Product amount="WTP Java EE Tools" />
    <component amount="jst.j2ee" />
    <Version amount="1.0" />
    <rep_platform amount="PC" />
    <op_sys amount="Windows 2000" />
    <priority amount="P2" />
    <bug_severity amount="normal" />
    <Summery>Add new API to the Module Component based on module URI</Summery>
    <Patches amount="0" />
    <Stacktraces amount="0" />
    <SourceCodeRegions amount="0" />
    <Enumerations amount="0" />
    <bug_status amount="CLOSED" />
    <resolution amount="FIXED" />
    <WithStack>Add api to get module component based on module uri.
*** Bug 103335 has been marked as a duplicate of this bug. ***
*** Bug 102567 has been marked as a duplicate of this bug. ***
Using this defect to track the problem of component name/module uri
synchronization.   Need to track the module uri's (mapped to components)in the
ear component properties
Dropped to IB - Ref Component now has a link to the Module  (getReferencedObject())
This bug was moved to 'closed' state, since it is so old and it is assumed really fixed and no longer useful or need further attention. Feel free to re-open, or open a new bug, if this semi-automatic processing was done in error.</WithStack>
    <WithOutStack>Add api to get module component based on module uri.
*** Bug 103335 has been marked as a duplicate of this bug. ***
*** Bug 102567 has been marked as a duplicate of this bug. ***
Using this defect to track the problem of component name/module uri
synchronization.   Need to track the module uri's (mapped to components)in the
ear component properties
Dropped to IB - Ref Component now has a link to the Module  (getReferencedObject())
This bug was moved to 'closed' state, since it is so old and it is assumed really fixed and no longer useful or need further attention. Feel free to re-open, or open a new bug, if this semi-automatic processing was done in error.</WithOutStack>
  </Bug>
  <Bug>
    <BugId amount="104037" />
    <CreationDate amount="2005-07-15 12:20:00 -0400" />
    <DupId amount="" />
    <classification amount="Mylyn" />
    <Product amount="Mylyn" />
    <component amount="Monitor" />
    <Version amount="unspecified" />
    <rep_platform amount="Other" />
    <op_sys amount="other" />
    <priority amount="P1" />
    <bug_severity amount="normal" />
    <Summery>ensure that monitor can progress through phases</Summery>
    <Patches amount="0" />
    <Stacktraces amount="0" />
    <SourceCodeRegions amount="0" />
    <Enumerations amount="0" />
    <bug_status amount="RESOLVED" />
    <resolution amount="FIXED" />
    <WithStack>It currently seems to fail to automatically move into phase 1.
Done.</WithStack>
    <WithOutStack>It currently seems to fail to automatically move into phase 1.
Done.</WithOutStack>
  </Bug>
  <Bug>
    <BugId amount="104038" />
    <CreationDate amount="2005-07-15 12:25:00 -0400" />
    <DupId amount="" />
    <classification amount="Eclipse" />
    <Product amount="JDT" />
    <component amount="UI" />
    <Version amount="3.1" />
    <rep_platform amount="PC" />
    <op_sys amount="Windows XP" />
    <priority amount="P3" />
    <bug_severity amount="minor" />
    <Summery>[reorg] move of fields does not save source files [refactoring]</Summery>
    <Patches amount="0" />
    <Stacktraces amount="0" />
    <SourceCodeRegions amount="0" />
    <Enumerations amount="1">
      <Enumeration lines="8">
        <Lines>
          <Line>1) the file is not saved even though the preference "Save all modified resources</Line>
          <Line>automatically prior to refactoring" is checked</Line>
          <Line />
          <Line>2) if the preference "Save all modified resources automatically prior to</Line>
          <Line>refactoring" is not checked a dialog is shown which says all resources must be</Line>
          <Line>saved before starting the refactoring but in fact the file won't be saved.</Line>
          <Line>We have to distinguish between saving before the refactoring and saving after</Line>
          <Line>the refactoring.</Line>
        </Lines>
      </Enumeration>
    </Enumerations>
    <bug_status amount="NEW" />
    <resolution amount="" />
    <WithStack>create a "package1" package, classes "A" and "B" inside. Create
private int field1;
in the "A" class. Refactor | Move the field into the "B" class. The 
resulting "A" and "B" sources are not saved after the refactoring.
Refactorings that only touch one file don't save the file by design. There are
however two problems:

1) the file is not saved even though the preference "Save all modified resources
automatically prior to refactoring" is checked

2) if the preference "Save all modified resources automatically prior to
refactoring" is not checked a dialog is shown which says all resources must be
saved before starting the refactoring but in fact the file won't be saved.
We have to distinguish between saving before the refactoring and saving after
the refactoring.

The problem from comment 1 is IMO no problem, since dirty editors are indeed
saved before the refactoring is applied. (Sorry, Dani, I misinformed you: The
Move refactoring is not one of the refactorings that can guarantee that they
will only touch one file, such as Extract Local Variable, etc.)

IIRC, the reason for not saving files after a textual move was to make it easier
 to undo such a move in the affected dirty editors.

Dirk, should we reconsider this with the new undo story and try to combine the
reorg move operations into one undo?
Agree that we should reconsider this in the context of the new undo story.
Tobias, can you please investigate. What should happen is that if the files are
saved before the refactoring they are saved afterwards as well. If they are
dirty they should be left dirty. 
Not for 3.3
&gt;Not for 3.3
Wow!</WithStack>
    <WithOutStack>create a "package1" package, classes "A" and "B" inside. Create
private int field1;
in the "A" class. Refactor | Move the field into the "B" class. The 
resulting "A" and "B" sources are not saved after the refactoring.
Refactorings that only touch one file don't save the file by design. There are
however two problems:

1) the file is not saved even though the preference "Save all modified resources
automatically prior to refactoring" is checked

2) if the preference "Save all modified resources automatically prior to
refactoring" is not checked a dialog is shown which says all resources must be
saved before starting the refactoring but in fact the file won't be saved.
We have to distinguish between saving before the refactoring and saving after
the refactoring.

The problem from comment 1 is IMO no problem, since dirty editors are indeed
saved before the refactoring is applied. (Sorry, Dani, I misinformed you: The
Move refactoring is not one of the refactorings that can guarantee that they
will only touch one file, such as Extract Local Variable, etc.)

IIRC, the reason for not saving files after a textual move was to make it easier
 to undo such a move in the affected dirty editors.

Dirk, should we reconsider this with the new undo story and try to combine the
reorg move operations into one undo?
Agree that we should reconsider this in the context of the new undo story.
Tobias, can you please investigate. What should happen is that if the files are
saved before the refactoring they are saved afterwards as well. If they are
dirty they should be left dirty. 
Not for 3.3
&gt;Not for 3.3
Wow!</WithOutStack>
  </Bug>
  <Bug>
    <BugId amount="104039" />
    <CreationDate amount="2005-07-15 12:28:00 -0400" />
    <DupId amount="" />
    <classification amount="WebTools" />
    <Product amount="WTP Releng" />
    <component amount="releng" />
    <Version amount="0.7" />
    <rep_platform amount="PC" />
    <op_sys amount="Windows 2000" />
    <priority amount="P3" />
    <bug_severity amount="normal" />
    <Summery>Add option to bypass tagging of map files</Summery>
    <Patches amount="0" />
    <Stacktraces amount="0" />
    <SourceCodeRegions amount="0" />
    <Enumerations amount="0" />
    <bug_status amount="CLOSED" />
    <resolution amount="FIXED" />
    <WithStack>As discussed:

There is no reason for a local build to run that 
piece of the code (which tags the map files in CVS) , so we should have 
a variable that allows you to bypass it for a local trial build.
Added a property named

build.trial , which if set to true (default), will by pass tagging, notification
emails and rsync to download.eclipse.org.
Looks good.
Closing bug</WithStack>
    <WithOutStack>As discussed:

There is no reason for a local build to run that 
piece of the code (which tags the map files in CVS) , so we should have 
a variable that allows you to bypass it for a local trial build.
Added a property named

build.trial , which if set to true (default), will by pass tagging, notification
emails and rsync to download.eclipse.org.
Looks good.
Closing bug</WithOutStack>
  </Bug>
  <Bug>
    <BugId amount="104040" />
    <CreationDate amount="2005-07-15 12:55:00 -0400" />
    <DupId amount="104651" />
    <classification amount="Eclipse Foundation" />
    <Product amount="z_Archived" />
    <component amount="VE" />
    <Version amount="unspecified" />
    <rep_platform amount="PC" />
    <op_sys amount="Windows XP" />
    <priority amount="P3" />
    <bug_severity amount="normal" />
    <Summery>Setting rowlayout margin and spacing properties doesn't reflect immediately in design</Summery>
    <Patches amount="0" />
    <Stacktraces amount="0" />
    <SourceCodeRegions amount="0" />
    <Enumerations amount="0" />
    <bug_status amount="CLOSED" />
    <resolution amount="DUPLICATE" />
    <WithStack>Using RowLayout on a SWT composite, if I set the spacing or margin properties in
the Properties view, the design view doesn't reflect immediately. After I move a
widget, the spacing property is reflected.
Same thing happens when using the Customize Layout dialog. Spacing or margins
are not reflected in design until I move a widget.
hey sri,

peter said to ask you about timers on this one... the code, property sheet, and
everything else gets updated, but the remote vm doesn't pick it up and hence we
don't see the changes.
The timers/snoozealarm() thing is for snippet update problems (source&gt;UI).
Please correct me if i am wrong, but the change is being made top-down
(UI&gt;source) right? For top-down changes, I dont think codegen mucks about with
remote-vm, it just reflects the changes in the emf model to source. 

Seth, all the changes being made are being done in the graphical side, and None
in the source right?
Problem occurs when I change the spacing or margin in the Properties view or in
the Customize Layout dialog. I did not try in source. The graphical design view
does not show the changes (until I move a widget in the design).
the properties sheet and customize layout view work via source/model
manipulation i believe.  they have no direct effect on the graph view, so i
think this would count as a bottom up.

to test i tried changing something directly from the source.  I had a spacing
property set to 30, i tried with the cutomize dialog to make it 10.  the source
updated but the graph view did not.  i undid the change.  then i tried to set
the source directly to 10.  still no update.

does this sound right as to bottom-&gt;up sri??
Hi Jon, the changes in the PS/customize dialog directly change the EMF model, to
which codegen reacts in source. If a change was made in the dialog/PS which is
shown in the source code, then codegen got the notification from EMF model and
changed the source. the PS/dialogs dont directly change the source. If codegen
picks it but the graphical viewer doesnt, then somehow the notification is not
going to the remoteVM/editparts to pick it up.
From debugging, the SET for applying the rowlayout value to the rowlayout
happens and the rowlayout is re-applied to the composite. For some reason it's
not being applied the composite in the remote vm. Looks like another one for
Rich (although he's already overloaded). Perhaps if I get this setup in my
workspace, Rich and I  can debug it together to figure this out.
Turns out to be caused by the same thing as this other bug.

*** This bug has been marked as a duplicate of 104561 ***
Got dup digits reversed.


*** This bug has been marked as a duplicate of 104651 ***
Uh -- what? I think you picked the wrong other bug. Check again -- my "bug"
104651 is abiout writing a "Search" article!
No, thats bug 104561 not bug 104651 
VE 1.1 is released. Moving to closed.</WithStack>
    <WithOutStack>Using RowLayout on a SWT composite, if I set the spacing or margin properties in
the Properties view, the design view doesn't reflect immediately. After I move a
widget, the spacing property is reflected.
Same thing happens when using the Customize Layout dialog. Spacing or margins
are not reflected in design until I move a widget.
hey sri,

peter said to ask you about timers on this one... the code, property sheet, and
everything else gets updated, but the remote vm doesn't pick it up and hence we
don't see the changes.
The timers/snoozealarm() thing is for snippet update problems (source&gt;UI).
Please correct me if i am wrong, but the change is being made top-down
(UI&gt;source) right? For top-down changes, I dont think codegen mucks about with
remote-vm, it just reflects the changes in the emf model to source. 

Seth, all the changes being made are being done in the graphical side, and None
in the source right?
Problem occurs when I change the spacing or margin in the Properties view or in
the Customize Layout dialog. I did not try in source. The graphical design view
does not show the changes (until I move a widget in the design).
the properties sheet and customize layout view work via source/model
manipulation i believe.  they have no direct effect on the graph view, so i
think this would count as a bottom up.

to test i tried changing something directly from the source.  I had a spacing
property set to 30, i tried with the cutomize dialog to make it 10.  the source
updated but the graph view did not.  i undid the change.  then i tried to set
the source directly to 10.  still no update.

does this sound right as to bottom-&gt;up sri??
Hi Jon, the changes in the PS/customize dialog directly change the EMF model, to
which codegen reacts in source. If a change was made in the dialog/PS which is
shown in the source code, then codegen got the notification from EMF model and
changed the source. the PS/dialogs dont directly change the source. If codegen
picks it but the graphical viewer doesnt, then somehow the notification is not
going to the remoteVM/editparts to pick it up.
From debugging, the SET for applying the rowlayout value to the rowlayout
happens and the rowlayout is re-applied to the composite. For some reason it's
not being applied the composite in the remote vm. Looks like another one for
Rich (although he's already overloaded). Perhaps if I get this setup in my
workspace, Rich and I  can debug it together to figure this out.
Turns out to be caused by the same thing as this other bug.

*** This bug has been marked as a duplicate of 104561 ***
Got dup digits reversed.


*** This bug has been marked as a duplicate of 104651 ***
Uh -- what? I think you picked the wrong other bug. Check again -- my "bug"
104651 is abiout writing a "Search" article!
No, thats bug 104561 not bug 104651 
VE 1.1 is released. Moving to closed.</WithOutStack>
  </Bug>
  <Bug>
    <BugId amount="104041" />
    <CreationDate amount="2005-07-15 12:56:00 -0400" />
    <DupId amount="" />
    <classification amount="Eclipse" />
    <Product amount="Platform" />
    <component amount="SWT" />
    <Version amount="3.1" />
    <rep_platform amount="PC" />
    <op_sys amount="Windows XP" />
    <priority amount="P3" />
    <bug_severity amount="normal" />
    <Summery>[browser]browser.execute() fails when Acrobat Reader v7 is displayed in browser</Summery>
    <Patches amount="0" />
    <Stacktraces amount="0" />
    <SourceCodeRegions amount="1">
      <source_code type="functioncall">
        <location start="111" end="145" />
        <code>browser.execute("window.print()");</code>
      </source_code>
    </SourceCodeRegions>
    <Enumerations amount="0" />
    <bug_status amount="RESOLVED" />
    <resolution amount="FIXED" />
    <WithStack>I have a pdf document which I am displaying in the browser. Then, to print the 
contents of the browser I do 

browser.execute("window.print()");

The above works fine for Acrobat Reader v5, but throws a NullPointerException 
for Acrobat Reader v7. After debugging, I found that it cannot find the value 
of "parentWindow" for some reason. Therefore, not only printing, but ANY 
javascript passed in to execute method will throw a NullPointerException.

Thanx,
  - Kalman
Fixed &gt; 1012, added a check to Browser.execute() to no longer assume that its 
Document is of type IHTMLDocument2.  It was not intended that javascript 
commands be executed in non-html documents, but if some other Document type 
does answer the parentWindow property then it sneaks through.  This must be 
what was happening for Acrobat Reader &lt; 7.</WithStack>
    <WithOutStack>I have a pdf document which I am displaying in the browser. Then, to print the 
contents of the browser I do 

browser.execute("window.print()");

The above works fine for Acrobat Reader v5, but throws a NullPointerException 
for Acrobat Reader v7. After debugging, I found that it cannot find the value 
of "parentWindow" for some reason. Therefore, not only printing, but ANY 
javascript passed in to execute method will throw a NullPointerException.

Thanx,
  - Kalman
Fixed &gt; 1012, added a check to Browser.execute() to no longer assume that its 
Document is of type IHTMLDocument2.  It was not intended that javascript 
commands be executed in non-html documents, but if some other Document type 
does answer the parentWindow property then it sneaks through.  This must be 
what was happening for Acrobat Reader &lt; 7.</WithOutStack>
  </Bug>
  <Bug>
    <BugId amount="104042" />
    <CreationDate amount="2005-07-15 13:00:00 -0400" />
    <DupId amount="" />
    <classification amount="Tools" />
    <Product amount="AspectJ" />
    <component amount="Compiler" />
    <Version amount="DEVELOPMENT" />
    <rep_platform amount="PC" />
    <op_sys amount="Windows XP" />
    <priority amount="P3" />
    <bug_severity amount="normal" />
    <Summery>NPE in CVS HEAD</Summery>
    <Patches amount="0" />
    <Stacktraces amount="0" />
    <SourceCodeRegions amount="0" />
    <Enumerations amount="0" />
    <bug_status amount="RESOLVED" />
    <resolution amount="FIXED" />
    <WithStack>This is from building a project that builds just fine with the July 5th 
developer build. See attached ajcore file
Created attachment 24849
ajcore
Ron - can you retry this now?  We've changed quite a lot of stuff in the last
few days relating to generics/erasure (I see your stack trace includes erasure
related methods).  If it still occurs, any way I can have access to the failing
project?
Building from CVS HEAD is now working for this project (hooray)... after adding 
in public static IMessage warn(String message, ISourceLocation location) to 
MessageUtil so CVS HEAD will compile.</WithStack>
    <WithOutStack>This is from building a project that builds just fine with the July 5th 
developer build. See attached ajcore file
Created attachment 24849
ajcore
Ron - can you retry this now?  We've changed quite a lot of stuff in the last
few days relating to generics/erasure (I see your stack trace includes erasure
related methods).  If it still occurs, any way I can have access to the failing
project?
Building from CVS HEAD is now working for this project (hooray)... after adding 
in public static IMessage warn(String message, ISourceLocation location) to 
MessageUtil so CVS HEAD will compile.</WithOutStack>
  </Bug>
  <Bug>
    <BugId amount="104043" />
    <CreationDate amount="2005-07-15 13:09:00 -0400" />
    <DupId amount="" />
    <classification amount="Tools" />
    <Product amount="CDT" />
    <component amount="cdt-core" />
    <Version amount="3.0" />
    <rep_platform amount="PC" />
    <op_sys amount="Windows XP" />
    <priority amount="P3" />
    <bug_severity amount="major" />
    <Summery>NPE in CModelBuilder when deleting project</Summery>
    <Patches amount="0" />
    <Stacktraces amount="0" />
    <SourceCodeRegions amount="0" />
    <Enumerations amount="0" />
    <bug_status amount="RESOLVED" />
    <resolution amount="FIXED" />
    <WithStack>I was going through the Managed Make Tutorial in order to update the text and 
screen shots.  After I was done, I deleted the project and go the following 
stack trace:  (I think it was while deleting...)

Thread [main] (Suspended (exception NullPointerException))
	CModelBuilder.parse(boolean, boolean) line: 168
	CModelBuilder.parse(boolean) line: 202
	WorkingCopy(TranslationUnit).parse(Map) line: 575
	WorkingCopy(TranslationUnit).buildStructure(OpenableInfo, 
IProgressMonitor, Map, IResource) line: 405
	WorkingCopy(Openable).generateInfos(Object, Map, IProgressMonitor) 
line: 292
	Include(SourceManipulation).generateInfos(Object, Map, 
IProgressMonitor) line: 183
	Include(CElement).openWhenClosed(CElementInfo, IProgressMonitor) line: 
364
	Include(CElement).getElementInfo(IProgressMonitor) line: 244
	Include(CElement).getElementInfo() line: 234
	Include(SourceManipulation).getSourceManipulationInfo() line: 164
	Include(SourceManipulation).getTranslationUnit() line: 103
	WorkingCopy.getOriginal(ICElement) line: 180
	CViewElementComparer.hashCode(Object) line: 65
	CustomHashtable.hashCode(Object) line: 247
	CustomHashtable.get(Object) line: 219
	ProblemTreeViewer(StructuredViewer).findItem(Object) line: 700
	ProblemTreeViewer(StructuredViewer).update(Object, String[]) line: 1693
	ProblemTreeViewer(StructuredViewer).update(Object[], String[]) line: 
1651
	ProblemTreeViewer(StructuredViewer).handleLabelProviderChanged
(LabelProviderChangedEvent) line: 1007
	ProblemTreeViewer.handleLabelProviderChanged(LabelProviderChangedEvent) 
line: 119
	ContentViewer$1.labelProviderChanged(LabelProviderChangedEvent) line: 74
	DecoratorManager$1.run() line: 235
	InternalPlatform.run(ISafeRunnable) line: 1044
	Platform.run(ISafeRunnable) line: 783
	DecoratorManager.fireListener(LabelProviderChangedEvent, 
ILabelProviderListener) line: 233
	DecorationScheduler$3.runInUIThread(IProgressMonitor) line: 475
	UIJob$1.run() line: 93
	RunnableLock.run() line: 35
	UISynchronizer(Synchronizer).runAsyncMessages(boolean) line: 123
	Display.runAsyncMessages(boolean) line: 3057
	Display.readAndDispatch() line: 2716
	Workbench.runEventLoop(Window$IExceptionHandler, Display) line: 1699
	Workbench.runUI() line: 1663
	Workbench.createAndRunWorkbench(Display, WorkbenchAdvisor) line: 367
	PlatformUI.createAndRunWorkbench(Display, WorkbenchAdvisor) line: 143
	IDEApplication.run(Object) line: 103
	PlatformActivator$1.run(Object) line: 226
	EclipseStarter.run(Object) line: 376
	EclipseStarter.run(String[], Runnable) line: 163
	NativeMethodAccessorImpl.invoke0(Method, Object, Object[]) line: not 
available [native method]
	NativeMethodAccessorImpl.invoke(Object, Object[]) line: not available
	DelegatingMethodAccessorImpl.invoke(Object, Object[]) line: not 
available
	Method.invoke(Object, Object[]) line: not available
	Main.invokeFramework(String[], URL[]) line: 334
	Main.basicRun(String[]) line: 278
	Main.run(String[]) line: 973
	Main.main(String[]) line: 948
By the way, continuing from the NPE appears to have worked.  I exited 
immediately with no problem, and the project was gone.


Looks like a race condition. I think we've seen reports of this before.

Since this is an exception, I'll tag it as 3.0.
Since there was no ill behavior, I'll move it off the 3.0 list.
Future means you commit to fix it in the Future. Inboxes can't make committments. Moving to '--'.
CModelBuilder has been replaced by CModelBuilder2.</WithStack>
    <WithOutStack>I was going through the Managed Make Tutorial in order to update the text and 
screen shots.  After I was done, I deleted the project and go the following 
stack trace:  (I think it was while deleting...)

Thread [main] (Suspended (exception NullPointerException))
	CModelBuilder.parse(boolean, boolean) line: 168
	CModelBuilder.parse(boolean) line: 202
	WorkingCopy(TranslationUnit).parse(Map) line: 575
	WorkingCopy(TranslationUnit).buildStructure(OpenableInfo, 
IProgressMonitor, Map, IResource) line: 405
	WorkingCopy(Openable).generateInfos(Object, Map, IProgressMonitor) 
line: 292
	Include(SourceManipulation).generateInfos(Object, Map, 
IProgressMonitor) line: 183
	Include(CElement).openWhenClosed(CElementInfo, IProgressMonitor) line: 
364
	Include(CElement).getElementInfo(IProgressMonitor) line: 244
	Include(CElement).getElementInfo() line: 234
	Include(SourceManipulation).getSourceManipulationInfo() line: 164
	Include(SourceManipulation).getTranslationUnit() line: 103
	WorkingCopy.getOriginal(ICElement) line: 180
	CViewElementComparer.hashCode(Object) line: 65
	CustomHashtable.hashCode(Object) line: 247
	CustomHashtable.get(Object) line: 219
	ProblemTreeViewer(StructuredViewer).findItem(Object) line: 700
	ProblemTreeViewer(StructuredViewer).update(Object, String[]) line: 1693
	ProblemTreeViewer(StructuredViewer).update(Object[], String[]) line: 
1651
	ProblemTreeViewer(StructuredViewer).handleLabelProviderChanged
(LabelProviderChangedEvent) line: 1007
	ProblemTreeViewer.handleLabelProviderChanged(LabelProviderChangedEvent) 
line: 119
	ContentViewer$1.labelProviderChanged(LabelProviderChangedEvent) line: 74
	DecoratorManager$1.run() line: 235
	InternalPlatform.run(ISafeRunnable) line: 1044
	Platform.run(ISafeRunnable) line: 783
	DecoratorManager.fireListener(LabelProviderChangedEvent, 
ILabelProviderListener) line: 233
	DecorationScheduler$3.runInUIThread(IProgressMonitor) line: 475
	UIJob$1.run() line: 93
	RunnableLock.run() line: 35
	UISynchronizer(Synchronizer).runAsyncMessages(boolean) line: 123
	Display.runAsyncMessages(boolean) line: 3057
	Display.readAndDispatch() line: 2716
	Workbench.runEventLoop(Window$IExceptionHandler, Display) line: 1699
	Workbench.runUI() line: 1663
	Workbench.createAndRunWorkbench(Display, WorkbenchAdvisor) line: 367
	PlatformUI.createAndRunWorkbench(Display, WorkbenchAdvisor) line: 143
	IDEApplication.run(Object) line: 103
	PlatformActivator$1.run(Object) line: 226
	EclipseStarter.run(Object) line: 376
	EclipseStarter.run(String[], Runnable) line: 163
	NativeMethodAccessorImpl.invoke0(Method, Object, Object[]) line: not 
available [native method]
	NativeMethodAccessorImpl.invoke(Object, Object[]) line: not available
	DelegatingMethodAccessorImpl.invoke(Object, Object[]) line: not 
available
	Method.invoke(Object, Object[]) line: not available
	Main.invokeFramework(String[], URL[]) line: 334
	Main.basicRun(String[]) line: 278
	Main.run(String[]) line: 973
	Main.main(String[]) line: 948
By the way, continuing from the NPE appears to have worked.  I exited 
immediately with no problem, and the project was gone.


Looks like a race condition. I think we've seen reports of this before.

Since this is an exception, I'll tag it as 3.0.
Since there was no ill behavior, I'll move it off the 3.0 list.
Future means you commit to fix it in the Future. Inboxes can't make committments. Moving to '--'.
CModelBuilder has been replaced by CModelBuilder2.</WithOutStack>
  </Bug>
  <Bug>
    <BugId amount="104044" />
    <CreationDate amount="2005-07-15 13:10:00 -0400" />
    <DupId amount="100145" />
    <classification amount="Eclipse Foundation" />
    <Product amount="z_Archived" />
    <component amount="VE" />
    <Version amount="unspecified" />
    <rep_platform amount="PC" />
    <op_sys amount="Windows XP" />
    <priority amount="P3" />
    <bug_severity amount="normal" />
    <Summery>On New&gt;Other&gt;Java we should put SWT and RCP examples</Summery>
    <Patches amount="0" />
    <Stacktraces amount="0" />
    <SourceCodeRegions amount="0" />
    <Enumerations amount="0" />
    <bug_status amount="CLOSED" />
    <resolution amount="DUPLICATE" />
    <WithStack>The New&gt;Other&gt;Java&gt; wizard has Swing and AWT examples that open the New Visual
Class wizard with pre-selected options.  We should add the two SWT and RCP templates
Peter just added the SWT/RCP categories in bug 100145.

*** This bug has been marked as a duplicate of 100145 ***
closing</WithStack>
    <WithOutStack>The New&gt;Other&gt;Java&gt; wizard has Swing and AWT examples that open the New Visual
Class wizard with pre-selected options.  We should add the two SWT and RCP templates
Peter just added the SWT/RCP categories in bug 100145.

*** This bug has been marked as a duplicate of 100145 ***
closing</WithOutStack>
  </Bug>
  <Bug>
    <BugId amount="104045" />
    <CreationDate amount="2005-07-15 13:11:00 -0400" />
    <DupId amount="" />
    <classification amount="Eclipse" />
    <Product amount="Platform" />
    <component amount="UI" />
    <Version amount="3.1" />
    <rep_platform amount="PC" />
    <op_sys amount="Windows 2000" />
    <priority amount="P3" />
    <bug_severity amount="minor" />
    <Summery>[misc] open external file dialog doesn´t remember last directory after eclipse is closed</Summery>
    <Patches amount="0" />
    <Stacktraces amount="0" />
    <SourceCodeRegions amount="0" />
    <Enumerations amount="0" />
    <bug_status amount="RESOLVED" />
    <resolution amount="WORKSFORME" />
    <WithStack>When I open an external file using "File" -&gt; "Open File"  in the same session,
Eclipse remembers the last directory I used for that operation, but after I
close and reopen Eclipse it loses that information and always prompt me a
default directory, in this case my user´s home directory.
Just clarifying, by always I mean all the first operations after a reopen.

Since I choose a file in a new session it remembers the last directory used in
that session.
The problem is caused by some code in OpenExternalFileAction.java. It has a "fFilterPath" member which is re-initiatized to the system "user" folder every time the Workbench is restarted. On Windows, this is the C:\Documents and Settings\&lt;user&gt; folder and is a rather odd place to end up; most apps would put you in "My Documents" if they did anything special).

If you remove the filterPath code from the open action, you should get the correct behaviour, at least on Windows, where the last folder is always remembered. Not sure how it works on Linux/Sol/Mac.


And additional reason in favor of changing this behaviour is that it would make the OpenExternalFileAction more reusable in RCP apps.
I second Damian's final request:
And additional reason in favor of changing this behaviour is that it would make
the OpenExternalFileAction more reusable in RCP apps.

OpenExternalFileAction has been removed and is now provided by Platform UI as OpenLocalFileAction.
&gt;On Windows, this is the C:\Documents and
&gt;Settings\&lt;user&gt; folder and is a rather odd place to end up; most apps would put
&gt;you in "My Documents" if they did anything special).
Great. So why don't you simply set the user.dir on startup?

Suggest to close as WORKSFORME.
Closing as requested</WithStack>
    <WithOutStack>When I open an external file using "File" -&gt; "Open File"  in the same session,
Eclipse remembers the last directory I used for that operation, but after I
close and reopen Eclipse it loses that information and always prompt me a
default directory, in this case my user´s home directory.
Just clarifying, by always I mean all the first operations after a reopen.

Since I choose a file in a new session it remembers the last directory used in
that session.
The problem is caused by some code in OpenExternalFileAction.java. It has a "fFilterPath" member which is re-initiatized to the system "user" folder every time the Workbench is restarted. On Windows, this is the C:\Documents and Settings\&lt;user&gt; folder and is a rather odd place to end up; most apps would put you in "My Documents" if they did anything special).

If you remove the filterPath code from the open action, you should get the correct behaviour, at least on Windows, where the last folder is always remembered. Not sure how it works on Linux/Sol/Mac.


And additional reason in favor of changing this behaviour is that it would make the OpenExternalFileAction more reusable in RCP apps.
I second Damian's final request:
And additional reason in favor of changing this behaviour is that it would make
the OpenExternalFileAction more reusable in RCP apps.

OpenExternalFileAction has been removed and is now provided by Platform UI as OpenLocalFileAction.
&gt;On Windows, this is the C:\Documents and
&gt;Settings\&lt;user&gt; folder and is a rather odd place to end up; most apps would put
&gt;you in "My Documents" if they did anything special).
Great. So why don't you simply set the user.dir on startup?

Suggest to close as WORKSFORME.
Closing as requested</WithOutStack>
  </Bug>
  <Bug>
    <BugId amount="104046" />
    <CreationDate amount="2005-07-15 13:16:00 -0400" />
    <DupId amount="" />
    <classification amount="Tools" />
    <Product amount="AspectJ" />
    <component amount="Compiler" />
    <Version amount="DEVELOPMENT" />
    <rep_platform amount="PC" />
    <op_sys amount="Linux" />
    <priority amount="P3" />
    <bug_severity amount="minor" />
    <Summery>duplicated interfaces due to symbolic links crash ajc</Summery>
    <Patches amount="0" />
    <Stacktraces amount="0" />
    <SourceCodeRegions amount="1">
      <source_code type="import">
        <location start="639" end="655" />
        <code>import once.*;</code>
      </source_code>
    </SourceCodeRegions>
    <Enumerations amount="0" />
    <bug_status amount="RESOLVED" />
    <resolution amount="FIXED" />
    <WithStack>first, a quick motivation of how it could happen:

java forces the filenames to correspond to package names. thus, the lazy will
use symbolic links in order to refer to org/eclipse/bugs using a shorter name.

when using java to recursively list all the java file in the current directory,
the symbolic link would cause all the files to be repeated twice. the compiler
should then report a (possibly confusing) error message, but instead it crashes:

#!/bin/bash
mkdir once
tee once/Bug.java &lt;&lt;-"end"
  package once;
  
  public interface Bug {} // works if it's a class
end
ln -s once twice # the fatal mistake!
tee Injector.java &lt;&lt;-"end"
  import once.*;
  
  public aspect Injector {
    private int Bug.field; // crashes
  }
end
ajc once/Bug.java twice/Bug.java Injector.java # crashes


it also crashes if twice/Bug.java is a symbolic link to once/Bug.java (as
opposed to twice being a symbolic link to once)
it doesn't crash if twice/Bug.java is a hard link, or if it is an ordinary copy.
the given test case passes using the latest build.</WithStack>
    <WithOutStack>first, a quick motivation of how it could happen:

java forces the filenames to correspond to package names. thus, the lazy will
use symbolic links in order to refer to org/eclipse/bugs using a shorter name.

when using java to recursively list all the java file in the current directory,
the symbolic link would cause all the files to be repeated twice. the compiler
should then report a (possibly confusing) error message, but instead it crashes:

#!/bin/bash
mkdir once
tee once/Bug.java &lt;&lt;-"end"
  package once;
  
  public interface Bug {} // works if it's a class
end
ln -s once twice # the fatal mistake!
tee Injector.java &lt;&lt;-"end"
  import once.*;
  
  public aspect Injector {
    private int Bug.field; // crashes
  }
end
ajc once/Bug.java twice/Bug.java Injector.java # crashes


it also crashes if twice/Bug.java is a symbolic link to once/Bug.java (as
opposed to twice being a symbolic link to once)
it doesn't crash if twice/Bug.java is a hard link, or if it is an ordinary copy.
the given test case passes using the latest build.</WithOutStack>
  </Bug>
  <Bug>
    <BugId amount="104047" />
    <CreationDate amount="2005-07-15 13:17:00 -0400" />
    <DupId amount="" />
    <classification amount="Eclipse" />
    <Product amount="Platform" />
    <component amount="UI" />
    <Version amount="3.1" />
    <rep_platform amount="PC" />
    <op_sys amount="All" />
    <priority amount="P3" />
    <bug_severity amount="normal" />
    <Summery>[Dialogs] Incorrect Output from DialogSettings.save()</Summery>
    <Patches amount="0" />
    <Stacktraces amount="0" />
    <SourceCodeRegions amount="7">
      <source_code type="assignment">
        <location start="207" end="264" />
        <code>IDialogSettings export = new DialogSettings("Example");</code>
      </source_code>
      <source_code type="assignment">
        <location start="265" end="309" />
        <code>String[] values1 = { "value1", "value2" };</code>
      </source_code>
      <source_code type="functioncall">
        <location start="310" end="341" />
        <code>export.put("key1", values1 );</code>
      </source_code>
      <source_code type="assignment">
        <location start="342" end="386" />
        <code>String[] values2 = { "value3", "value4" };</code>
      </source_code>
      <source_code type="functioncall">
        <location start="387" end="418" />
        <code>export.put("key2", values2 );</code>
      </source_code>
      <source_code type="functioncall">
        <location start="427" end="458" />
        <code>export.save("C:\\test.xml");</code>
      </source_code>
      <source_code type="functiondef">
        <location start="463" end="509" />
        <code>catch (IOException e) {
			// Do Nothing
		}</code>
      </source_code>
    </SourceCodeRegions>
    <Enumerations amount="0" />
    <bug_status amount="VERIFIED" />
    <resolution amount="FIXED" />
    <WithStack>The XML produced by the DialogSettings.save() method is not correct. If 
multiple arrayItems exist, every element after the first will have an 
extra "value" attribute. Here is a code snipet to illustrate:

		IDialogSettings export = new DialogSettings("Example");
		String[] values1 = { "value1", "value2" };
		export.put("key1", values1 );
		String[] values2 = { "value3", "value4" };
		export.put("key2", values2 );
		try {
			export.save("C:\\test.xml");
		}
		catch (IOException e) {
			// Do Nothing
		}

The output of this is:

&lt;?xml version="1.0" encoding="UTF-8"?&gt;
&lt;section name="Example"&gt;
	&lt;list key="key1"&gt;
		&lt;item value="value1"/&gt;
		&lt;item value="value2"/&gt;
	&lt;/list&gt;
	&lt;list key="key2" value="value2"&gt;
		&lt;item value="value3"/&gt;
		&lt;item value="value4"/&gt;
	&lt;/list&gt;
&lt;/section&gt;

As you can see, the second "list" has an attribute "value" which it shouldn't. 
The reason is the value from the previous list element is not cleared before 
writing the second element. I.E. "value2" from the first list element is used 
as the value attribute for the second list element.

Suggested fix:
In DialogSettings.save(), add another "attributes.clear();" for the loop that 
iterates over the aarryItems field.
Fixed &gt;20051012.
Not easily added to DialogSettingsTests given the test structure (which 
compares read and written settings, not the string itself), so I just manually 
verified using the provided snippet.
verified in I20051101-1204 on windows using provided snippet.
*** Bug 145311 has been marked as a duplicate of this bug. ***</WithStack>
    <WithOutStack>The XML produced by the DialogSettings.save() method is not correct. If 
multiple arrayItems exist, every element after the first will have an 
extra "value" attribute. Here is a code snipet to illustrate:

		IDialogSettings export = new DialogSettings("Example");
		String[] values1 = { "value1", "value2" };
		export.put("key1", values1 );
		String[] values2 = { "value3", "value4" };
		export.put("key2", values2 );
		try {
			export.save("C:\\test.xml");
		}
		catch (IOException e) {
			// Do Nothing
		}

The output of this is:

&lt;?xml version="1.0" encoding="UTF-8"?&gt;
&lt;section name="Example"&gt;
	&lt;list key="key1"&gt;
		&lt;item value="value1"/&gt;
		&lt;item value="value2"/&gt;
	&lt;/list&gt;
	&lt;list key="key2" value="value2"&gt;
		&lt;item value="value3"/&gt;
		&lt;item value="value4"/&gt;
	&lt;/list&gt;
&lt;/section&gt;

As you can see, the second "list" has an attribute "value" which it shouldn't. 
The reason is the value from the previous list element is not cleared before 
writing the second element. I.E. "value2" from the first list element is used 
as the value attribute for the second list element.

Suggested fix:
In DialogSettings.save(), add another "attributes.clear();" for the loop that 
iterates over the aarryItems field.
Fixed &gt;20051012.
Not easily added to DialogSettingsTests given the test structure (which 
compares read and written settings, not the string itself), so I just manually 
verified using the provided snippet.
verified in I20051101-1204 on windows using provided snippet.
*** Bug 145311 has been marked as a duplicate of this bug. ***</WithOutStack>
  </Bug>
  <Bug>
    <BugId amount="104048" />
    <CreationDate amount="2005-07-15 13:18:00 -0400" />
    <DupId amount="" />
    <classification amount="Eclipse" />
    <Product amount="Platform" />
    <component amount="Runtime" />
    <Version amount="3.1" />
    <rep_platform amount="Macintosh" />
    <op_sys amount="Mac OS X - Carbon (unsup.)" />
    <priority amount="P3" />
    <bug_severity amount="normal" />
    <Summery>configuration/.settings/org.eclipse.ui.ide.prefs in the wrong place for multiuser environment</Summery>
    <Patches amount="0" />
    <Stacktraces amount="0" />
    <SourceCodeRegions amount="0" />
    <Enumerations amount="0" />
    <bug_status amount="RESOLVED" />
    <resolution amount="WORKSFORME" />
    <WithStack>org.eclipse.ui.ide.prefs is a per-user setting and should be in ~/.eclipse rather than a shared location
The configuration area (where those settings live) is not supposed to be shared
between users. Please see:

http://help.eclipse.org/help31/index.jsp?topic=/org.eclipse.platform.doc.isv/reference/misc/multi_user_installs.html

You need to either mark your brand new install as read-only or explicitly set
the configuration area to something private to the user.

Please reopen if that does not work for you.
Thanks for the link to the docs ... I didn't realize that was a setting.

I'm curious -- Why is the default not shared-install private-configuration?  It seems like it would be the 
"more correct" default, but I may not be seeing all the ramifications of that.
A configuration area is bound to a specific Eclipse install. Putting it under
the install makes the life of the majority of users that do not share an install
easier (there is no risk of a new build trying to reuse the configuration area
created by a previous build). But we do default to a user private directory if
it turns out the user has no permissions to write to the install (common when
the install is shared).</WithStack>
    <WithOutStack>org.eclipse.ui.ide.prefs is a per-user setting and should be in ~/.eclipse rather than a shared location
The configuration area (where those settings live) is not supposed to be shared
between users. Please see:

http://help.eclipse.org/help31/index.jsp?topic=/org.eclipse.platform.doc.isv/reference/misc/multi_user_installs.html

You need to either mark your brand new install as read-only or explicitly set
the configuration area to something private to the user.

Please reopen if that does not work for you.
Thanks for the link to the docs ... I didn't realize that was a setting.

I'm curious -- Why is the default not shared-install private-configuration?  It seems like it would be the 
"more correct" default, but I may not be seeing all the ramifications of that.
A configuration area is bound to a specific Eclipse install. Putting it under
the install makes the life of the majority of users that do not share an install
easier (there is no risk of a new build trying to reuse the configuration area
created by a previous build). But we do default to a user private directory if
it turns out the user has no permissions to write to the install (common when
the install is shared).</WithOutStack>
  </Bug>
  <Bug>
    <BugId amount="104049" />
    <CreationDate amount="2005-07-15 13:20:00 -0400" />
    <DupId amount="97940" />
    <classification amount="Eclipse" />
    <Product amount="Platform" />
    <component amount="UI" />
    <Version amount="3.1" />
    <rep_platform amount="PC" />
    <op_sys amount="Windows XP" />
    <priority amount="P3" />
    <bug_severity amount="enhancement" />
    <Summery>[WorkbenchLauncher] Startup progress window should display user friendly names and icons</Summery>
    <Patches amount="0" />
    <Stacktraces amount="0" />
    <SourceCodeRegions amount="0" />
    <Enumerations amount="0" />
    <bug_status amount="RESOLVED" />
    <resolution amount="DUPLICATE" />
    <WithStack>Instead of plug-in IDs, it would be more interesting for the user to see [NLed]
names that mean something.  Such as "Java Development Tooling". Another
possibility is to display an Image for the plug-in, feature, or maybe just
provider, perhaps as accumulating icons similar to the way Mac OS boots.


*** This bug has been marked as a duplicate of 97940 ***</WithStack>
    <WithOutStack>Instead of plug-in IDs, it would be more interesting for the user to see [NLed]
names that mean something.  Such as "Java Development Tooling". Another
possibility is to display an Image for the plug-in, feature, or maybe just
provider, perhaps as accumulating icons similar to the way Mac OS boots.


*** This bug has been marked as a duplicate of 97940 ***</WithOutStack>
  </Bug>
  <Bug>
    <BugId amount="104050" />
    <CreationDate amount="2005-07-15 13:26:00 -0400" />
    <DupId amount="" />
    <classification amount="Eclipse Foundation" />
    <Product amount="z_Archived" />
    <component amount="VE" />
    <Version amount="unspecified" />
    <rep_platform amount="PC" />
    <op_sys amount="Linux-GTK" />
    <priority amount="P3" />
    <bug_severity amount="major" />
    <Summery>Primitive variable test fails</Summery>
    <Patches amount="0" />
    <Stacktraces amount="0" />
    <SourceCodeRegions amount="1">
      <source_code type="assignment">
        <location start="1093" end="1123" />
        <code>String tex = "SOME CAPITALS";</code>
      </source_code>
    </SourceCodeRegions>
    <Enumerations amount="0" />
    <bug_status amount="CLOSED" />
    <resolution amount="FIXED" />
    <WithStack>In JVESMOKE01, the last test is for testing the ability of codegen to handle
primitive variable inputs for properties. See
http://dev.eclipse.org/viewcvs/indextools.cgi/%7Echeckout%7E/vep-home/WebContent/docs/testcases/smoketest1/smoketest1.htm

Bringing up PrimitiveVariableTest throws many exceptions in the log. See
attachment for the stack trace.
Created attachment 24851
.log file containing stack trace
The basic problem is that codegen doesnt support declarations in the fields
itself. Bug 93533 has been created for this purpose, and it will be addressed in
1.2. 
Since we currently model *everything* and discard upon no reference, the old
support for primitive variables was removed. For 1.1 I would like to bring this
back to provide some kind of support. However when trying to debug the target
IDE maxes out the CPU so much so that event JDT debug cannot work. Rich, I would
need your help on this defect to figure out what is maxing out the cpu in EMF
initialization.
Thanks to Rich's help the problem turned out to be a statement in the testcase
that we currently dont support:
	String tex = "SOME CAPITALS";
	tex = tex.toLowerCase(); // Tests infinite loop evaluation
because of the second line EMF went into a recursive loop and maxed out the CPU.
Now back to fixing the original problem.
Added back primitive variable support we had. Another defect to track field init
strings should make this redundant and will be removed in 1.2. Releasing
ConstructorDecoderHelper.
VE 1.1 is released. Moving to closed.</WithStack>
    <WithOutStack>In JVESMOKE01, the last test is for testing the ability of codegen to handle
primitive variable inputs for properties. See
http://dev.eclipse.org/viewcvs/indextools.cgi/%7Echeckout%7E/vep-home/WebContent/docs/testcases/smoketest1/smoketest1.htm

Bringing up PrimitiveVariableTest throws many exceptions in the log. See
attachment for the stack trace.
Created attachment 24851
.log file containing stack trace
The basic problem is that codegen doesnt support declarations in the fields
itself. Bug 93533 has been created for this purpose, and it will be addressed in
1.2. 
Since we currently model *everything* and discard upon no reference, the old
support for primitive variables was removed. For 1.1 I would like to bring this
back to provide some kind of support. However when trying to debug the target
IDE maxes out the CPU so much so that event JDT debug cannot work. Rich, I would
need your help on this defect to figure out what is maxing out the cpu in EMF
initialization.
Thanks to Rich's help the problem turned out to be a statement in the testcase
that we currently dont support:
	String tex = "SOME CAPITALS";
	tex = tex.toLowerCase(); // Tests infinite loop evaluation
because of the second line EMF went into a recursive loop and maxed out the CPU.
Now back to fixing the original problem.
Added back primitive variable support we had. Another defect to track field init
strings should make this redundant and will be removed in 1.2. Releasing
ConstructorDecoderHelper.
VE 1.1 is released. Moving to closed.</WithOutStack>
  </Bug>
  <Bug>
    <BugId amount="104051" />
    <CreationDate amount="2005-07-15 13:34:00 -0400" />
    <DupId amount="" />
    <classification amount="WebTools" />
    <Product amount="WTP Java EE Tools" />
    <component amount="jst.j2ee" />
    <Version amount="0.7" />
    <rep_platform amount="PC" />
    <op_sys amount="Windows XP" />
    <priority amount="P3" />
    <bug_severity amount="major" />
    <Summery>Cache components rather than component name in j2ee export dm's</Summery>
    <Patches amount="0" />
    <Stacktraces amount="0" />
    <SourceCodeRegions amount="0" />
    <Enumerations amount="0" />
    <bug_status amount="CLOSED" />
    <resolution amount="FIXED" />
    <WithStack>We need to cache the actual components rather than the component names in the
j2ee export data models as the ComponentUtilities.getWorkbenchComponents is
expensive and causes threading access/timing issues and should be called once
and all components should be cached.
Fix released...will be the next I build
Fix released..available in the next I Build
Verified in 07/19 I Build</WithStack>
    <WithOutStack>We need to cache the actual components rather than the component names in the
j2ee export data models as the ComponentUtilities.getWorkbenchComponents is
expensive and causes threading access/timing issues and should be called once
and all components should be cached.
Fix released...will be the next I build
Fix released..available in the next I Build
Verified in 07/19 I Build</WithOutStack>
  </Bug>
  <Bug>
    <BugId amount="104052" />
    <CreationDate amount="2005-07-15 13:43:00 -0400" />
    <DupId amount="" />
    <classification amount="Mylyn" />
    <Product amount="Mylyn" />
    <component amount="UI" />
    <Version amount="unspecified" />
    <rep_platform amount="Other" />
    <op_sys amount="other" />
    <priority amount="P5" />
    <bug_severity amount="enhancement" />
    <Summery>active search of local context</Summery>
    <Patches amount="0" />
    <Stacktraces amount="0" />
    <SourceCodeRegions amount="0" />
    <Enumerations amount="0" />
    <bug_status amount="NEW" />
    <resolution amount="" />
    <WithStack>Perhaps we should have a local context section in the active search view that
behaves similarly to Ctrl+Shift+U?
I think that this is worth implementing.  It would sort of be like "mark 
occurrences", but work in the DoS=1 (interesting files) context.  And it would 
always run in the background for the current element.  Needless to say the 
results would have to be cached because it would run so often.  And they would 
have to be properly invalidated on resource change.

I'm not sure about the UI, but for now there could be a 'fake' landmark 
called "current selection".
Regarding Shawn's comment:

&gt; i don't know if this should get done until we get the active search working 
solidly since this is a weird little case that adding in could cause 
instability.  Plus the context model will probably need to know about 
this "temp landmark"

That sounds right.  Lowering priority to P3 for us to look at the week of the 
8th.  And once we get the infrastructure right actually doing it shouldn't be 
too hard.
Marking the original report a duplicate because the description in the new one
is more thorough (and it gets prioritized higerh if I'm not the reporter :)

*** This bug has been marked as a duplicate of 111290 ***
This was not a duplicate after all, but bug 111290 deals with related functionality.
Deferring post 1.0.</WithStack>
    <WithOutStack>Perhaps we should have a local context section in the active search view that
behaves similarly to Ctrl+Shift+U?
I think that this is worth implementing.  It would sort of be like "mark 
occurrences", but work in the DoS=1 (interesting files) context.  And it would 
always run in the background for the current element.  Needless to say the 
results would have to be cached because it would run so often.  And they would 
have to be properly invalidated on resource change.

I'm not sure about the UI, but for now there could be a 'fake' landmark 
called "current selection".
Regarding Shawn's comment:

&gt; i don't know if this should get done until we get the active search working 
solidly since this is a weird little case that adding in could cause 
instability.  Plus the context model will probably need to know about 
this "temp landmark"

That sounds right.  Lowering priority to P3 for us to look at the week of the 
8th.  And once we get the infrastructure right actually doing it shouldn't be 
too hard.
Marking the original report a duplicate because the description in the new one
is more thorough (and it gets prioritized higerh if I'm not the reporter :)

*** This bug has been marked as a duplicate of 111290 ***
This was not a duplicate after all, but bug 111290 deals with related functionality.
Deferring post 1.0.</WithOutStack>
  </Bug>
  <Bug>
    <BugId amount="104053" />
    <CreationDate amount="2005-07-15 13:48:00 -0400" />
    <DupId amount="" />
    <classification amount="Eclipse Foundation" />
    <Product amount="z_Archived" />
    <component amount="TPTP.monitoring" />
    <Version amount="unspecified" />
    <rep_platform amount="PC" />
    <op_sys amount="Windows 2000" />
    <priority amount="P1" />
    <bug_severity amount="major" />
    <Summery>Parsing a log file that requires a converter command executed on AIX does not always work</Summery>
    <Patches amount="0" />
    <Stacktraces amount="0" />
    <SourceCodeRegions amount="0" />
    <Enumerations amount="0" />
    <bug_status amount="CLOSED" />
    <resolution amount="FIXED" />
    <WithStack>When the GLA sensor executes the converter command specified in the adapter 
file to perform some conversion on the log data before parsing, on AIX, it 
prepends the "sh" command to the converter command if there is no shell value 
specified in the adapter file.  This does not work for all converter commands.  
It works for converter commands that are shell scripts but does not work for 
other commands like java commands.  The converter command fails to 
execute. "sh" should not be prepended to the converter command by default if 
there is no shell value specified in the adapter file.

The change is required in 
org.eclipse.hyades.logging.adapter.util.BufferedPeriodicReader.prepare().
This change may affect existing adapters that expect "sh" to be prepended on 
AIX.
Could not be contained in iteration 1. Retargetting to iteration 2.
Deferring to 4.2 because it is not containable in 4.1 and is not required by 
consuming products until 4.2.  Increasing the severity to major because it 
limits the use of sensor converter commands executing on AIX.
A readme item was added for this in 4.1 Release notes - see https://bugs.eclipse.org/bugs/show_bug.cgi?id=118710.
Change to BufferedPeriodicReader.prepare() committed to TPTP Head CVS.
As of TPTP 4.6.0, TPTP is in maintenance mode and focusing on improving quality by resolving relevant enhancements/defects and increasing test coverage through test creation, automation, Build Verification Tests (BVTs), and expanded run-time execution. As part of the TPTP Bugzilla housecleaning process (see http://wiki.eclipse.org/Bugzilla_Housecleaning_Processes), this enhancement/defect is verified/closed by the Project Lead since this originator of this enhancement/defect has an inactive Bugzilla account and considered to be fixed. If this enhancement/defect is still unresolved and reproducible in the latest TPTP release (http://www.eclipse.org/tptp/home/downloads/), please re-open.</WithStack>
    <WithOutStack>When the GLA sensor executes the converter command specified in the adapter 
file to perform some conversion on the log data before parsing, on AIX, it 
prepends the "sh" command to the converter command if there is no shell value 
specified in the adapter file.  This does not work for all converter commands.  
It works for converter commands that are shell scripts but does not work for 
other commands like java commands.  The converter command fails to 
execute. "sh" should not be prepended to the converter command by default if 
there is no shell value specified in the adapter file.

The change is required in 
org.eclipse.hyades.logging.adapter.util.BufferedPeriodicReader.prepare().
This change may affect existing adapters that expect "sh" to be prepended on 
AIX.
Could not be contained in iteration 1. Retargetting to iteration 2.
Deferring to 4.2 because it is not containable in 4.1 and is not required by 
consuming products until 4.2.  Increasing the severity to major because it 
limits the use of sensor converter commands executing on AIX.
A readme item was added for this in 4.1 Release notes - see https://bugs.eclipse.org/bugs/show_bug.cgi?id=118710.
Change to BufferedPeriodicReader.prepare() committed to TPTP Head CVS.
As of TPTP 4.6.0, TPTP is in maintenance mode and focusing on improving quality by resolving relevant enhancements/defects and increasing test coverage through test creation, automation, Build Verification Tests (BVTs), and expanded run-time execution. As part of the TPTP Bugzilla housecleaning process (see http://wiki.eclipse.org/Bugzilla_Housecleaning_Processes), this enhancement/defect is verified/closed by the Project Lead since this originator of this enhancement/defect has an inactive Bugzilla account and considered to be fixed. If this enhancement/defect is still unresolved and reproducible in the latest TPTP release (http://www.eclipse.org/tptp/home/downloads/), please re-open.</WithOutStack>
  </Bug>
  <Bug>
    <BugId amount="104054" />
    <CreationDate amount="2005-07-15 13:48:00 -0400" />
    <DupId amount="" />
    <classification amount="WebTools" />
    <Product amount="WTP Java EE Tools" />
    <component amount="jst.j2ee" />
    <Version amount="0.7" />
    <rep_platform amount="PC" />
    <op_sys amount="All" />
    <priority amount="P2" />
    <bug_severity amount="major" />
    <Summery>No extension point to extend EJBComponentImportOperation</Summery>
    <Patches amount="0" />
    <Stacktraces amount="0" />
    <SourceCodeRegions amount="0" />
    <Enumerations amount="0" />
    <bug_status amount="CLOSED" />
    <resolution amount="FIXED" />
    <WithStack>EJBComponentImportOperation cannot be extended.  The following is needed in 
plugin.xml for org.eclipse.jst.j2ee.ejb:

      &lt;extendableOperation
           
class="org.eclipse.jst.j2ee.internal.ejb.archiveoperations.EJBComponentImportOperation"
           
id="org.eclipse.jst.j2ee.internal.ejb.archiveoperations.EJBComponentImportOperation"&gt;
      &lt;/extendableOperation&gt;


Thanks!
Fix released will be available in the next WTP I build
closing verified defect
Closing already verified defects</WithStack>
    <WithOutStack>EJBComponentImportOperation cannot be extended.  The following is needed in 
plugin.xml for org.eclipse.jst.j2ee.ejb:

      &lt;extendableOperation
           
class="org.eclipse.jst.j2ee.internal.ejb.archiveoperations.EJBComponentImportOperation"
           
id="org.eclipse.jst.j2ee.internal.ejb.archiveoperations.EJBComponentImportOperation"&gt;
      &lt;/extendableOperation&gt;


Thanks!
Fix released will be available in the next WTP I build
closing verified defect
Closing already verified defects</WithOutStack>
  </Bug>
  <Bug>
    <BugId amount="104055" />
    <CreationDate amount="2005-07-15 13:51:00 -0400" />
    <DupId amount="" />
    <classification amount="WebTools" />
    <Product amount="WTP Java EE Tools" />
    <component amount="jst.j2ee" />
    <Version amount="0.7" />
    <rep_platform amount="PC" />
    <op_sys amount="Windows XP" />
    <priority amount="P3" />
    <bug_severity amount="normal" />
    <Summery>EAR Application Project error message confusing</Summery>
    <Patches amount="0" />
    <Stacktraces amount="0" />
    <SourceCodeRegions amount="0" />
    <Enumerations amount="0" />
    <bug_status amount="CLOSED" />
    <resolution amount="INVALID" />
    <WithStack>New | Project | EAR Application Project
Type in a project name.

Error message says:
"The selected version is not supported by the server."

A new user would be pretty confused as to what needs to be done now.

Should say something like:
"You must select a target server."

Better yet, the target server widget wouldn't be hidden under advanced.
This can be fixed as part of your server feature work.
Part of a mass update. Based on 9/22/2005 development review meeting, it's 
determined this was an open bug/enhancement with tartget mistakenly set to M8. 
Since this will not be in M8, I am changing to "unspecified". 

If this is an error, please correct (for example the bug really has been fixed
in M8, change back to M8, and "fixed".)

is this a dup? Been fixed already? 


No longer applicable.
closing as no longer applicable</WithStack>
    <WithOutStack>New | Project | EAR Application Project
Type in a project name.

Error message says:
"The selected version is not supported by the server."

A new user would be pretty confused as to what needs to be done now.

Should say something like:
"You must select a target server."

Better yet, the target server widget wouldn't be hidden under advanced.
This can be fixed as part of your server feature work.
Part of a mass update. Based on 9/22/2005 development review meeting, it's 
determined this was an open bug/enhancement with tartget mistakenly set to M8. 
Since this will not be in M8, I am changing to "unspecified". 

If this is an error, please correct (for example the bug really has been fixed
in M8, change back to M8, and "fixed".)

is this a dup? Been fixed already? 


No longer applicable.
closing as no longer applicable</WithOutStack>
  </Bug>
  <Bug>
    <BugId amount="104056" />
    <CreationDate amount="2005-07-15 13:57:00 -0400" />
    <DupId amount="" />
    <classification amount="Eclipse Foundation" />
    <Product amount="z_Archived" />
    <component amount="VE" />
    <Version amount="unspecified" />
    <rep_platform amount="PC" />
    <op_sys amount="Windows XP" />
    <priority amount="P3" />
    <bug_severity amount="normal" />
    <Summery>NPE Refactoring class name while editor is open</Summery>
    <Patches amount="0" />
    <Stacktraces amount="0" />
    <SourceCodeRegions amount="0" />
    <Enumerations amount="0" />
    <bug_status amount="CLOSED" />
    <resolution amount="FIXED" />
    <WithStack>Create a new JavaProject
Create a new Visual extending Composite named Hi.java
While the editor is opened, rename the class (right click on it on the pkg.
view) to MyComposite. You will get the attached .log
Created attachment 24852
.log
Difficult to see how to fix this.  The problem occurs in the 
JavaVisualEditorPart release job where the exception is thrown.  I could 
squelch it but this is dangerous, and even so there are circumstances where 
other worse downstream errors occur.  I think this is too risky to attempt a 
fix for 1.1 unless Rich has the time, and it's a pretty rare scenario (to 
rename while the class is open).  As a hack if I had to get this done in an 
hurry what I'd do is just close the class when it is renamed to force the user 
to manually open up the new one with the new name.
Actually I may of just fixed this! :-) (bug #103924) I was having other problems
and I noticed that the registry was being closed by another thread while doing a
release of the model on the setup thread. I changed it so that the registry
would not be closed on the other thread. It instead would be closed on the setup
thread but not until after the release. Mine was due to a save as, which is like
a rename except the old class stays around but a new one comes in.

I'll have to verify, but the only problem could be that a rename causes a
classpath change of some kind that causes a registry to be closed on its own
outside of the setup job. Need to see if this is possible, if not, then this has
been fixed. 
It wasn't the same, close, but no cigar.

I had to restructure how I release the old model. Before I was doing it in two
locations and they were conflicting. I had to move to only be in the Setup job
and not in two places.
*** Bug 96509 has been marked as a duplicate of this bug. ***
VE 1.1 is released. Moving to closed.</WithStack>
    <WithOutStack>Create a new JavaProject
Create a new Visual extending Composite named Hi.java
While the editor is opened, rename the class (right click on it on the pkg.
view) to MyComposite. You will get the attached .log
Created attachment 24852
.log
Difficult to see how to fix this.  The problem occurs in the 
JavaVisualEditorPart release job where the exception is thrown.  I could 
squelch it but this is dangerous, and even so there are circumstances where 
other worse downstream errors occur.  I think this is too risky to attempt a 
fix for 1.1 unless Rich has the time, and it's a pretty rare scenario (to 
rename while the class is open).  As a hack if I had to get this done in an 
hurry what I'd do is just close the class when it is renamed to force the user 
to manually open up the new one with the new name.
Actually I may of just fixed this! :-) (bug #103924) I was having other problems
and I noticed that the registry was being closed by another thread while doing a
release of the model on the setup thread. I changed it so that the registry
would not be closed on the other thread. It instead would be closed on the setup
thread but not until after the release. Mine was due to a save as, which is like
a rename except the old class stays around but a new one comes in.

I'll have to verify, but the only problem could be that a rename causes a
classpath change of some kind that causes a registry to be closed on its own
outside of the setup job. Need to see if this is possible, if not, then this has
been fixed. 
It wasn't the same, close, but no cigar.

I had to restructure how I release the old model. Before I was doing it in two
locations and they were conflicting. I had to move to only be in the Setup job
and not in two places.
*** Bug 96509 has been marked as a duplicate of this bug. ***
VE 1.1 is released. Moving to closed.</WithOutStack>
  </Bug>
  <Bug>
    <BugId amount="104057" />
    <CreationDate amount="2005-07-15 13:58:00 -0400" />
    <DupId amount="" />
    <classification amount="Mylyn" />
    <Product amount="Mylyn" />
    <component amount="UI" />
    <Version amount="unspecified" />
    <rep_platform amount="Other" />
    <op_sys amount="other" />
    <priority amount="P1" />
    <bug_severity amount="normal" />
    <Summery>on startup active task's context is inactive</Summery>
    <Patches amount="0" />
    <Stacktraces amount="0" />
    <SourceCodeRegions amount="0" />
    <Enumerations amount="0" />
    <bug_status amount="RESOLVED" />
    <resolution amount="FIXED" />
    <WithStack>This is bad and makes it seem that the task has no context.
Probably only happens for bugzilla tasks.

This was fixed by adding new TaskActivateAction(task).run(); to the DefaultTaskListExternalizer
to make sure that everything gets notified of an active task</WithStack>
    <WithOutStack>This is bad and makes it seem that the task has no context.
Probably only happens for bugzilla tasks.

This was fixed by adding new TaskActivateAction(task).run(); to the DefaultTaskListExternalizer
to make sure that everything gets notified of an active task</WithOutStack>
  </Bug>
  <Bug>
    <BugId amount="104058" />
    <CreationDate amount="2005-07-15 13:59:00 -0400" />
    <DupId amount="" />
    <classification amount="Eclipse Foundation" />
    <Product amount="z_Archived" />
    <component amount="VE" />
    <Version amount="unspecified" />
    <rep_platform amount="PC" />
    <op_sys amount="Windows XP" />
    <priority amount="P3" />
    <bug_severity amount="normal" />
    <Summery>Need better error message when dealing with no plugin.xml</Summery>
    <Patches amount="0" />
    <Stacktraces amount="0" />
    <SourceCodeRegions amount="0" />
    <Enumerations amount="1">
      <Enumeration lines="6">
        <Lines>
          <Line>1. Create a Java project</Line>
          <Line>2. try to create a new visual class&gt;viewpart or editorpart</Line>
          <Line>3. You can't... so convert the java project to a plugin (note that you won't</Line>
          <Line>have a plugin.xml when you do this)</Line>
          <Line>4. Try #2 again. This time you won't have an error in the wizard, but the OK</Line>
          <Line>button is disabled.</Line>
        </Lines>
      </Enumeration>
    </Enumerations>
    <bug_status amount="NEW" />
    <resolution amount="" />
    <WithStack>1. Create a Java project
2. try to create a new visual class&gt;viewpart or editorpart
3. You can't... so convert the java project to a plugin (note that you won't
have a plugin.xml when you do this)
4. Try #2 again. This time you won't have an error in the wizard, but the OK
button is disabled.

I had Sri take a look at this and he said it was because I had no plugin.xml.  I
think we should have a message in the wizard to address this possibility.
*** Bug 104011 has been marked as a duplicate of this bug. ***</WithStack>
    <WithOutStack>1. Create a Java project
2. try to create a new visual class&gt;viewpart or editorpart
3. You can't... so convert the java project to a plugin (note that you won't
have a plugin.xml when you do this)
4. Try #2 again. This time you won't have an error in the wizard, but the OK
button is disabled.

I had Sri take a look at this and he said it was because I had no plugin.xml.  I
think we should have a message in the wizard to address this possibility.
*** Bug 104011 has been marked as a duplicate of this bug. ***</WithOutStack>
  </Bug>
  <Bug>
    <BugId amount="104059" />
    <CreationDate amount="2005-07-15 14:04:00 -0400" />
    <DupId amount="" />
    <classification amount="Eclipse" />
    <Product amount="Platform" />
    <component amount="User Assistance" />
    <Version amount="3.2" />
    <rep_platform amount="PC" />
    <op_sys amount="Windows XP" />
    <priority amount="P3" />
    <bug_severity amount="enhancement" />
    <Summery>[Help] Allow user to rename Help bookmarks</Summery>
    <Patches amount="0" />
    <Stacktraces amount="0" />
    <SourceCodeRegions amount="0" />
    <Enumerations amount="0" />
    <bug_status amount="NEW" />
    <resolution amount="" />
    <WithStack>Request from usability testing of an Eclipse-based product. Users would like the
ability to rename Help bookmarks. 

The rationale is that users are expecting Help bookmarks to behave the same way
as browser bookmarks.</WithStack>
    <WithOutStack>Request from usability testing of an Eclipse-based product. Users would like the
ability to rename Help bookmarks. 

The rationale is that users are expecting Help bookmarks to behave the same way
as browser bookmarks.</WithOutStack>
  </Bug>
  <Bug>
    <BugId amount="104060" />
    <CreationDate amount="2005-07-15 14:06:00 -0400" />
    <DupId amount="" />
    <classification amount="Eclipse" />
    <Product amount="Platform" />
    <component amount="User Assistance" />
    <Version amount="3.2" />
    <rep_platform amount="PC" />
    <op_sys amount="Windows XP" />
    <priority amount="P3" />
    <bug_severity amount="normal" />
    <Summery>[Help] Give users the ability to re-order Help bookmarks</Summery>
    <Patches amount="0" />
    <Stacktraces amount="0" />
    <SourceCodeRegions amount="0" />
    <Enumerations amount="0" />
    <bug_status amount="NEW" />
    <resolution amount="" />
    <WithStack>User feedback for an Eclipse-based product: users would like the ability to
re-order the Help bookmarks.

Rationale: Users are expecting Help bookmarks to behave the same way as browser
bookmarks.</WithStack>
    <WithOutStack>User feedback for an Eclipse-based product: users would like the ability to
re-order the Help bookmarks.

Rationale: Users are expecting Help bookmarks to behave the same way as browser
bookmarks.</WithOutStack>
  </Bug>
  <Bug>
    <BugId amount="104061" />
    <CreationDate amount="2005-07-15 14:10:00 -0400" />
    <DupId amount="" />
    <classification amount="Eclipse Foundation" />
    <Product amount="z_Archived" />
    <component amount="VE" />
    <Version amount="unspecified" />
    <rep_platform amount="PC" />
    <op_sys amount="Windows XP" />
    <priority amount="P3" />
    <bug_severity amount="normal" />
    <Summery>NPE adding a dependent project while the VE is opened</Summery>
    <Patches amount="0" />
    <Stacktraces amount="0" />
    <SourceCodeRegions amount="0" />
    <Enumerations amount="0" />
    <bug_status amount="CLOSED" />
    <resolution amount="FIXED" />
    <WithStack>Create a MyShell class.
While the editor is opened, update the class path of the project to include
another project.  You will get the following .log
Created attachment 24853
.log
Similarly if you drop a composite (from a dependant project) on a shell, changes
to the composite, and a save will create similar errors.
The fix has been released to HEAD.
VE 1.1 is released. Moving to closed.</WithStack>
    <WithOutStack>Create a MyShell class.
While the editor is opened, update the class path of the project to include
another project.  You will get the following .log
Created attachment 24853
.log
Similarly if you drop a composite (from a dependant project) on a shell, changes
to the composite, and a save will create similar errors.
The fix has been released to HEAD.
VE 1.1 is released. Moving to closed.</WithOutStack>
  </Bug>
  <Bug>
    <BugId amount="104062" />
    <CreationDate amount="2005-07-15 14:13:00 -0400" />
    <DupId amount="" />
    <classification amount="Mylyn" />
    <Product amount="Mylyn Tasks" />
    <component amount="Framework" />
    <Version amount="unspecified" />
    <rep_platform amount="Other" />
    <op_sys amount="other" />
    <priority amount="P3" />
    <bug_severity amount="enhancement" />
    <Summery>in "new bug report", put the previously-submitted to components on top</Summery>
    <Patches amount="0" />
    <Stacktraces amount="0" />
    <SourceCodeRegions amount="0" />
    <Enumerations amount="0" />
    <bug_status amount="NEW" />
    <resolution amount="" />
    <WithStack>Something like:

Components:

Mylar
PDE
-----------
AspectJ
AJDT
....
+1
Rob, the right way for us to do this is by via the task activity context, since it will be more accurate than an MRU list.
We should use the Task Activity context for this.  Very tentatively scheduling for 1.0 in case we can get to that.</WithStack>
    <WithOutStack>Something like:

Components:

Mylar
PDE
-----------
AspectJ
AJDT
....
+1
Rob, the right way for us to do this is by via the task activity context, since it will be more accurate than an MRU list.
We should use the Task Activity context for this.  Very tentatively scheduling for 1.0 in case we can get to that.</WithOutStack>
  </Bug>
  <Bug>
    <BugId amount="104063" />
    <CreationDate amount="2005-07-15 14:14:00 -0400" />
    <DupId amount="104110" />
    <classification amount="Mylyn" />
    <Product amount="Mylyn" />
    <component amount="UI" />
    <Version amount="unspecified" />
    <rep_platform amount="Other" />
    <op_sys amount="other" />
    <priority amount="P1" />
    <bug_severity amount="normal" />
    <Summery>toggling related element providers fails to remove the search hits</Summery>
    <Patches amount="0" />
    <Stacktraces amount="0" />
    <SourceCodeRegions amount="0" />
    <Enumerations amount="0" />
    <bug_status amount="RESOLVED" />
    <resolution amount="DUPLICATE" />
    <WithStack>They should be removed, and the corresponding edges taken away.
This is closely tied into removing edges, which is now schedule for 0.4.




*** This bug has been marked as a duplicate of 104110 ***</WithStack>
    <WithOutStack>They should be removed, and the corresponding edges taken away.
This is closely tied into removing edges, which is now schedule for 0.4.




*** This bug has been marked as a duplicate of 104110 ***</WithOutStack>
  </Bug>
  <Bug>
    <BugId amount="104064" />
    <CreationDate amount="2005-07-15 14:21:00 -0400" />
    <DupId amount="" />
    <classification amount="WebTools" />
    <Product amount="WTP Java EE Tools" />
    <component amount="jst.j2ee" />
    <Version amount="0.7" />
    <rep_platform amount="PC" />
    <op_sys amount="Windows XP" />
    <priority amount="P2" />
    <bug_severity amount="major" />
    <Summery>Export and importing ear with dependent jars throws exceptions</Summery>
    <Patches amount="0" />
    <Stacktraces amount="0" />
    <SourceCodeRegions amount="0" />
    <Enumerations amount="3">
      <Enumeration lines="97">
        <Lines>
          <Line>r.run(RunnableOperationWrapper.java:32)</Line>
          <Line>at org.eclipse.jface.operation.ModalContext.runInCurrentThread</Line>
          <Line>(ModalCont</Line>
          <Line>ext.java:346)</Line>
          <Line>at org.eclipse.jface.operation.ModalContext.run(ModalContext.java:291)</Line>
          <Line>at org.eclipse.jface.wizard.WizardDialog.run(WizardDialog.java:830)</Line>
          <Line>at</Line>
          <Line>org.eclipse.wst.common.frameworks.internal.datamodel.ui.DataModelWiza</Line>
          <Line>rd.performFinish(DataModelWizard.java:245)</Line>
          <Line>at org.eclipse.jface.wizard.WizardDialog.finishPressed</Line>
          <Line>(WizardDialog.java</Line>
          <Line>:676)</Line>
          <Line>at org.eclipse.jface.wizard.WizardDialog.buttonPressed</Line>
          <Line>(WizardDialog.java</Line>
          <Line>:349)</Line>
          <Line>at org.eclipse.jface.dialogs.Dialog$2.widgetSelected(Dialog.java:556)</Line>
          <Line>at org.eclipse.swt.widgets.TypedListener.handleEvent</Line>
          <Line>(TypedListener.java:</Line>
          <Line>90)</Line>
          <Line>at org.eclipse.swt.widgets.EventTable.sendEvent(EventTable.java</Line>
          <Line>(Compiled</Line>
          <Line>Code))</Line>
          <Line>at org.eclipse.swt.widgets.Widget.sendEvent(Widget.java(Inlined</Line>
          <Line>Compiled</Line>
          <Line>Code))</Line>
          <Line>at org.eclipse.swt.widgets.Display.runDeferredEvents(Display.java</Line>
          <Line>(Compil</Line>
          <Line>ed Code))</Line>
          <Line>at org.eclipse.swt.widgets.Display.readAndDispatch(Display.java</Line>
          <Line>(Compiled</Line>
          <Line>Code))</Line>
          <Line>at org.eclipse.jface.window.Window.runEventLoop(Window.java(Compiled</Line>
          <Line>Cod</Line>
          <Line>e))</Line>
          <Line>at org.eclipse.jface.window.Window.open(Window.java:787)</Line>
          <Line>at org.eclipse.ui.actions.ImportResourcesAction.run</Line>
          <Line>(ImportResourcesActio</Line>
          <Line>n.java:159)</Line>
          <Line>at org.eclipse.ui.actions.BaseSelectionListenerAction.runWithEvent</Line>
          <Line>(BaseS</Line>
          <Line>electionListenerAction.java:167)</Line>
          <Line>at</Line>
          <Line>org.eclipse.jface.action.ActionContributionItem.handleWidgetSelection</Line>
          <Line>(ActionContributionItem.java:538)</Line>
          <Line>at org.eclipse.jface.action.ActionContributionItem.access$2</Line>
          <Line>(ActionContri</Line>
          <Line>butionItem.java:488)</Line>
          <Line>at org.eclipse.jface.action.ActionContributionItem$5.handleEvent</Line>
          <Line>(ActionC</Line>
          <Line>ontributionItem.java:400)</Line>
          <Line>at org.eclipse.swt.widgets.EventTable.sendEvent(EventTable.java</Line>
          <Line>(Compiled</Line>
          <Line>Code))</Line>
          <Line>at org.eclipse.swt.widgets.Widget.sendEvent(Widget.java(Inlined</Line>
          <Line>Compiled</Line>
          <Line>Code))</Line>
          <Line>at org.eclipse.swt.widgets.Display.runDeferredEvents(Display.java</Line>
          <Line>(Compil</Line>
          <Line>ed Code))</Line>
          <Line>at org.eclipse.swt.widgets.Display.readAndDispatch(Display.java</Line>
          <Line>(Compiled</Line>
          <Line>Code))</Line>
          <Line>at org.eclipse.ui.internal.Workbench.runEventLoop(Workbench.java</Line>
          <Line>(Compile</Line>
          <Line>d Code))</Line>
          <Line>at org.eclipse.ui.internal.Workbench.runUI(Workbench.java:1663)</Line>
          <Line>at org.eclipse.ui.internal.Workbench.createAndRunWorkbench</Line>
          <Line>(Workbench.jav</Line>
          <Line>a:367)</Line>
          <Line>at org.eclipse.ui.PlatformUI.createAndRunWorkbench(PlatformUI.java:143)</Line>
          <Line>at org.eclipse.ui.internal.ide.IDEApplication.run</Line>
          <Line>(IDEApplication.java:10</Line>
          <Line>3)</Line>
          <Line>at org.eclipse.core.internal.runtime.PlatformActivator$1.run</Line>
          <Line>(PlatformAct</Line>
          <Line>ivator.java:226)</Line>
          <Line>at org.eclipse.core.runtime.adaptor.EclipseStarter.run</Line>
          <Line>(EclipseStarter.ja</Line>
          <Line>va:376)</Line>
          <Line>at org.eclipse.core.runtime.adaptor.EclipseStarter.run</Line>
          <Line>(EclipseStarter.ja</Line>
          <Line>va:163)</Line>
          <Line>at sun.reflect.NativeMethodAccessorImpl.invoke0(Native Method)</Line>
          <Line>at sun.reflect.NativeMethodAccessorImpl.invoke</Line>
          <Line>(NativeMethodAccessorImpl.</Line>
          <Line>java:85)</Line>
          <Line>at sun.reflect.NativeMethodAccessorImpl.invoke</Line>
          <Line>(NativeMethodAccessorImpl.</Line>
          <Line>java:58)</Line>
          <Line>at sun.reflect.DelegatingMethodAccessorImpl.invoke</Line>
          <Line>(DelegatingMethodAcces</Line>
          <Line>sorImpl.java:60)</Line>
          <Line>at java.lang.reflect.Method.invoke(Method.java:391)</Line>
          <Line>at org.eclipse.core.launcher.Main.invokeFramework(Main.java:334)</Line>
          <Line>at org.eclipse.core.launcher.Main.basicRun(Main.java:278)</Line>
          <Line>at org.eclipse.core.launcher.Main.run(Main.java:973)</Line>
          <Line>at org.eclipse.core.launcher.Main.main(Main.java:948)</Line>
        </Lines>
      </Enumeration>
      <Enumeration lines="217">
        <Lines>
          <Line>n.java:159)</Line>
          <Line>at org.eclipse.ui.actions.BaseSelectionListenerAction.runWithEvent</Line>
          <Line>(BaseS</Line>
          <Line>electionListenerAction.java:167)</Line>
          <Line>at</Line>
          <Line>org.eclipse.jface.action.ActionContributionItem.handleWidgetSelection</Line>
          <Line>(ActionContributionItem.java:538)</Line>
          <Line>at org.eclipse.jface.action.ActionContributionItem.access$2</Line>
          <Line>(ActionContri</Line>
          <Line>butionItem.java:488)</Line>
          <Line>at org.eclipse.jface.action.ActionContributionItem$5.handleEvent</Line>
          <Line>(ActionC</Line>
          <Line>ontributionItem.java:400)</Line>
          <Line>at org.eclipse.swt.widgets.EventTable.sendEvent(EventTable.java</Line>
          <Line>(Compiled</Line>
          <Line>Code))</Line>
          <Line>at org.eclipse.swt.widgets.Widget.sendEvent(Widget.java(Inlined</Line>
          <Line>Compiled</Line>
          <Line>Code))</Line>
          <Line>at org.eclipse.swt.widgets.Display.runDeferredEvents(Display.java</Line>
          <Line>(Compil</Line>
          <Line>ed Code))</Line>
          <Line>at org.eclipse.swt.widgets.Display.readAndDispatch(Display.java</Line>
          <Line>(Compiled</Line>
          <Line>Code))</Line>
          <Line>at org.eclipse.ui.internal.Workbench.runEventLoop(Workbench.java</Line>
          <Line>(Compile</Line>
          <Line>d Code))</Line>
          <Line>at org.eclipse.ui.internal.Workbench.runUI(Workbench.java:1663)</Line>
          <Line>at org.eclipse.ui.internal.Workbench.createAndRunWorkbench</Line>
          <Line>(Workbench.jav</Line>
          <Line>a:367)</Line>
          <Line>at org.eclipse.ui.PlatformUI.createAndRunWorkbench(PlatformUI.java:143)</Line>
          <Line>at org.eclipse.ui.internal.ide.IDEApplication.run</Line>
          <Line>(IDEApplication.java:10</Line>
          <Line>3)</Line>
          <Line>at org.eclipse.core.internal.runtime.PlatformActivator$1.run</Line>
          <Line>(PlatformAct</Line>
          <Line>ivator.java:226)</Line>
          <Line>at org.eclipse.core.runtime.adaptor.EclipseStarter.run</Line>
          <Line>(EclipseStarter.ja</Line>
          <Line>va:376)</Line>
          <Line>at org.eclipse.core.runtime.adaptor.EclipseStarter.run</Line>
          <Line>(EclipseStarter.ja</Line>
          <Line>va:163)</Line>
          <Line>at sun.reflect.NativeMethodAccessorImpl.invoke0(Native Method)</Line>
          <Line>at sun.reflect.NativeMethodAccessorImpl.invoke</Line>
          <Line>(NativeMethodAccessorImpl.</Line>
          <Line>java:85)</Line>
          <Line>at sun.reflect.NativeMethodAccessorImpl.invoke</Line>
          <Line>(NativeMethodAccessorImpl.</Line>
          <Line>java:58)</Line>
          <Line>at sun.reflect.DelegatingMethodAccessorImpl.invoke</Line>
          <Line>(DelegatingMethodAcces</Line>
          <Line>sorImpl.java:60)</Line>
          <Line>at java.lang.reflect.Method.invoke(Method.java:391)</Line>
          <Line>at org.eclipse.core.launcher.Main.invokeFramework(Main.java:334)</Line>
          <Line>at org.eclipse.core.launcher.Main.basicRun(Main.java:278)</Line>
          <Line>at org.eclipse.core.launcher.Main.run(Main.java:973)</Line>
          <Line>at org.eclipse.core.launcher.Main.main(Main.java:948)</Line>
          <Line />
          <Line>*** ERROR ***: Fri Jul 15 13:54:37 EDT 2005    Java Model Exception: Java Model</Line>
          <Line>Status [Build path contains duplicate</Line>
          <Line>entry: 'D:common/IBM_JDK1.4.2/jre/lib/core</Line>
          <Line>.jar' for project JavaUtil2]</Line>
          <Line>at org.eclipse.jdt.internal.core.JavaModelOperation.runOperation</Line>
          <Line>(JavaMod</Line>
          <Line>elOperation.java:773)</Line>
          <Line>at org.eclipse.jdt.internal.core.JavaProject.setRawClasspath</Line>
          <Line>(JavaProject</Line>
          <Line>.java:2834)</Line>
          <Line>at org.eclipse.jdt.internal.core.JavaProject.setRawClasspath</Line>
          <Line>(JavaProject</Line>
          <Line>.java:2850)</Line>
          <Line>at</Line>
          <Line>org.eclipse.jem.workbench.utility.JemProjectUtilities.appendJavaClass</Line>
          <Line>Path(JemProjectUtilities.java:573)</Line>
          <Line>at</Line>
          <Line>org.eclipse.jst.j2ee.application.internal.operations.J2EEUtilityJarIm</Line>
          <Line>portOperationNew.execute(J2EEUtilityJarImportOperationNew.java:60)</Line>
          <Line>at</Line>
          <Line>org.eclipse.wst.common.frameworks.internal.datamodel.ExtendableOperat</Line>
          <Line>ionImpl.doExecute(ExtendableOperationImpl.java:129)</Line>
          <Line>at</Line>
          <Line>org.eclipse.wst.common.frameworks.internal.datamodel.ExtendableOperat</Line>
          <Line>ionImpl$1.run(ExtendableOperationImpl.java:109)</Line>
          <Line>at org.eclipse.core.internal.resources.Workspace.run</Line>
          <Line>(Workspace.java:1719</Line>
          <Line>)</Line>
          <Line>at org.eclipse.core.internal.resources.Workspace.run</Line>
          <Line>(Workspace.java:1739</Line>
          <Line>)</Line>
          <Line>at</Line>
          <Line>org.eclipse.wst.common.frameworks.internal.datamodel.ExtendableOperat</Line>
          <Line>ionImpl.execute(ExtendableOperationImpl.java:115)</Line>
          <Line>at</Line>
          <Line>org.eclipse.jst.j2ee.internal.archive.operations.EARComponentImportOp</Line>
          <Line>eration.doExecute(EARComponentImportOperation.java:65)</Line>
          <Line>at</Line>
          <Line>org.eclipse.jst.j2ee.internal.archive.operations.J2EEArtifactImportOp</Line>
          <Line>eration.execute(J2EEArtifactImportOperation.java:46)</Line>
          <Line>at</Line>
          <Line>org.eclipse.wst.common.frameworks.internal.datamodel.ExtendableOperat</Line>
          <Line>ionImpl.doExecute(ExtendableOperationImpl.java:129)</Line>
          <Line>at</Line>
          <Line>org.eclipse.wst.common.frameworks.internal.datamodel.ExtendableOperat</Line>
          <Line>ionImpl$1.run(ExtendableOperationImpl.java:109)</Line>
          <Line>at org.eclipse.core.internal.resources.Workspace.run</Line>
          <Line>(Workspace.java:1719</Line>
          <Line>)</Line>
          <Line>at org.eclipse.core.internal.resources.Workspace.run</Line>
          <Line>(Workspace.java:1739</Line>
          <Line>)</Line>
          <Line>at</Line>
          <Line>org.eclipse.wst.common.frameworks.internal.datamodel.ExtendableOperat</Line>
          <Line>ionImpl.execute(ExtendableOperationImpl.java:115)</Line>
          <Line>at</Line>
          <Line>org.eclipse.wst.common.frameworks.internal.ui.RunnableOperationWrappe</Line>
          <Line>r.run(RunnableOperationWrapper.java:32)</Line>
          <Line>at org.eclipse.jface.operation.ModalContext.runInCurrentThread</Line>
          <Line>(ModalCont</Line>
          <Line>ext.java:346)</Line>
          <Line>at org.eclipse.jface.operation.ModalContext.run(ModalContext.java:291)</Line>
          <Line>at org.eclipse.jface.wizard.WizardDialog.run(WizardDialog.java:830)</Line>
          <Line>at</Line>
          <Line>org.eclipse.wst.common.frameworks.internal.datamodel.ui.DataModelWiza</Line>
          <Line>rd.performFinish(DataModelWizard.java:245)</Line>
          <Line>at org.eclipse.jface.wizard.WizardDialog.finishPressed</Line>
          <Line>(WizardDialog.java</Line>
          <Line>:676)</Line>
          <Line>at org.eclipse.jface.wizard.WizardDialog.buttonPressed</Line>
          <Line>(WizardDialog.java</Line>
          <Line>:349)</Line>
          <Line>at org.eclipse.jface.dialogs.Dialog$2.widgetSelected(Dialog.java:556)</Line>
          <Line>at org.eclipse.swt.widgets.TypedListener.handleEvent</Line>
          <Line>(TypedListener.java:</Line>
          <Line>90)</Line>
          <Line>at org.eclipse.swt.widgets.EventTable.sendEvent(EventTable.java</Line>
          <Line>(Compiled</Line>
          <Line>Code))</Line>
          <Line>at org.eclipse.swt.widgets.Widget.sendEvent(Widget.java(Inlined</Line>
          <Line>Compiled</Line>
          <Line>Code))</Line>
          <Line>at org.eclipse.swt.widgets.Display.runDeferredEvents(Display.java</Line>
          <Line>(Compil</Line>
          <Line>ed Code))</Line>
          <Line>at org.eclipse.swt.widgets.Display.readAndDispatch(Display.java</Line>
          <Line>(Compiled</Line>
          <Line>Code))</Line>
          <Line>at org.eclipse.jface.window.Window.runEventLoop(Window.java(Compiled</Line>
          <Line>Cod</Line>
          <Line>e))</Line>
          <Line>at org.eclipse.jface.window.Window.open(Window.java:787)</Line>
          <Line>at org.eclipse.ui.actions.ImportResourcesAction.run</Line>
          <Line>(ImportResourcesActio</Line>
          <Line>n.java:159)</Line>
          <Line>at org.eclipse.ui.actions.BaseSelectionListenerAction.runWithEvent</Line>
          <Line>(BaseS</Line>
          <Line>electionListenerAction.java:167)</Line>
          <Line>at</Line>
          <Line>org.eclipse.jface.action.ActionContributionItem.handleWidgetSelection</Line>
          <Line>(ActionContributionItem.java:538)</Line>
          <Line>at org.eclipse.jface.action.ActionContributionItem.access$2</Line>
          <Line>(ActionContri</Line>
          <Line>butionItem.java:488)</Line>
          <Line>at org.eclipse.jface.action.ActionContributionItem$5.handleEvent</Line>
          <Line>(ActionC</Line>
          <Line>ontributionItem.java:400)</Line>
          <Line>at org.eclipse.swt.widgets.EventTable.sendEvent(EventTable.java</Line>
          <Line>(Compiled</Line>
          <Line>Code))</Line>
          <Line>at org.eclipse.swt.widgets.Widget.sendEvent(Widget.java(Inlined</Line>
          <Line>Compiled</Line>
          <Line>Code))</Line>
          <Line>at org.eclipse.swt.widgets.Display.runDeferredEvents(Display.java</Line>
          <Line>(Compil</Line>
          <Line>ed Code))</Line>
          <Line>at org.eclipse.swt.widgets.Display.readAndDispatch(Display.java</Line>
          <Line>(Compiled</Line>
          <Line>Code))</Line>
          <Line>at org.eclipse.ui.internal.Workbench.runEventLoop(Workbench.java</Line>
          <Line>(Compile</Line>
          <Line>d Code))</Line>
          <Line>at org.eclipse.ui.internal.Workbench.runUI(Workbench.java:1663)</Line>
          <Line>at org.eclipse.ui.internal.Workbench.createAndRunWorkbench</Line>
          <Line>(Workbench.jav</Line>
          <Line>a:367)</Line>
          <Line>at org.eclipse.ui.PlatformUI.createAndRunWorkbench(PlatformUI.java:143)</Line>
          <Line>at org.eclipse.ui.internal.ide.IDEApplication.run</Line>
          <Line>(IDEApplication.java:10</Line>
          <Line>3)</Line>
          <Line>at org.eclipse.core.internal.runtime.PlatformActivator$1.run</Line>
          <Line>(PlatformAct</Line>
          <Line>ivator.java:226)</Line>
          <Line>at org.eclipse.core.runtime.adaptor.EclipseStarter.run</Line>
          <Line>(EclipseStarter.ja</Line>
          <Line>va:376)</Line>
          <Line>at org.eclipse.core.runtime.adaptor.EclipseStarter.run</Line>
          <Line>(EclipseStarter.ja</Line>
          <Line>va:163)</Line>
          <Line>at sun.reflect.NativeMethodAccessorImpl.invoke0(Native Method)</Line>
          <Line>at sun.reflect.NativeMethodAccessorImpl.invoke</Line>
          <Line>(NativeMethodAccessorImpl.</Line>
          <Line>java:85)</Line>
          <Line>at sun.reflect.NativeMethodAccessorImpl.invoke</Line>
          <Line>(NativeMethodAccessorImpl.</Line>
          <Line>java:58)</Line>
          <Line>at sun.reflect.DelegatingMethodAccessorImpl.invoke</Line>
          <Line>(DelegatingMethodAcces</Line>
          <Line>sorImpl.java:60)</Line>
          <Line>at java.lang.reflect.Method.invoke(Method.java:391)</Line>
          <Line>at org.eclipse.core.launcher.Main.invokeFramework(Main.java:334)</Line>
          <Line>at org.eclipse.core.launcher.Main.basicRun(Main.java:278)</Line>
          <Line>at org.eclipse.core.launcher.Main.run(Main.java:973)</Line>
          <Line>at org.eclipse.core.launcher.Main.main(Main.java:948)</Line>
          <Line>released into repo on 2005/07/18.</Line>
          <Line>tested against 0615 build</Line>
        </Lines>
      </Enumeration>
      <Enumeration lines="8">
        <Lines>
          <Line>1. Create an ear with web module.</Line>
          <Line>2. create a java project.</Line>
          <Line>3. Add the java project to ear as dependent (using ear properties page)</Line>
          <Line>4. Export the ear.</Line>
          <Line>5. delete all projects.</Line>
          <Line>6. import the ear, be sure check the jar file on the second page of the import</Line>
          <Line>wizard.</Line>
          <Line>7. stacktrace:</Line>
        </Lines>
      </Enumeration>
    </Enumerations>
    <bug_status amount="CLOSED" />
    <resolution amount="FIXED" />
    <WithStack>1. Create an ear with web module.
2. create a java project.
3. Add the java project to ear as dependent (using ear properties page)
4. Export the ear.
5. delete all projects.
6. import the ear, be sure check the jar file on the second page of the import 
wizard.
7. stacktrace:

*** ERROR ***: Fri Jul 15 13:54:37 EDT 2005    Java Model Exception: Java Model
Status [Build path contains duplicate 
entry: 'D:common/IBM_JDK1.4.2/jre/lib/core
.jar' for project JavaUtil1]
        at org.eclipse.jdt.internal.core.JavaModelOperation.runOperation
(JavaMod
elOperation.java:773)
        at org.eclipse.jdt.internal.core.JavaProject.setRawClasspath
(JavaProject
.java:2834)
        at org.eclipse.jdt.internal.core.JavaProject.setRawClasspath
(JavaProject
.java:2850)
        at 
org.eclipse.jem.workbench.utility.JemProjectUtilities.appendJavaClass
Path(JemProjectUtilities.java:573)
        at 
org.eclipse.jst.j2ee.application.internal.operations.J2EEUtilityJarIm
portOperationNew.execute(J2EEUtilityJarImportOperationNew.java:60)
        at 
org.eclipse.wst.common.frameworks.internal.datamodel.ExtendableOperat
ionImpl.doExecute(ExtendableOperationImpl.java:129)
        at 
org.eclipse.wst.common.frameworks.internal.datamodel.ExtendableOperat
ionImpl$1.run(ExtendableOperationImpl.java:109)
        at org.eclipse.core.internal.resources.Workspace.run
(Workspace.java:1719
)
        at org.eclipse.core.internal.resources.Workspace.run
(Workspace.java:1739
)
        at 
org.eclipse.wst.common.frameworks.internal.datamodel.ExtendableOperat
ionImpl.execute(ExtendableOperationImpl.java:115)
        at 
org.eclipse.jst.j2ee.internal.archive.operations.EARComponentImportOp
eration.doExecute(EARComponentImportOperation.java:65)
        at 
org.eclipse.jst.j2ee.internal.archive.operations.J2EEArtifactImportOp
eration.execute(J2EEArtifactImportOperation.java:46)
        at 
org.eclipse.wst.common.frameworks.internal.datamodel.ExtendableOperat
ionImpl.doExecute(ExtendableOperationImpl.java:129)
        at 
org.eclipse.wst.common.frameworks.internal.datamodel.ExtendableOperat
ionImpl$1.run(ExtendableOperationImpl.java:109)
        at org.eclipse.core.internal.resources.Workspace.run
(Workspace.java:1719
)
        at org.eclipse.core.internal.resources.Workspace.run
(Workspace.java:1739
)
        at 
org.eclipse.wst.common.frameworks.internal.datamodel.ExtendableOperat
ionImpl.execute(ExtendableOperationImpl.java:115)
        at 
org.eclipse.wst.common.frameworks.internal.ui.RunnableOperationWrappe
r.run(RunnableOperationWrapper.java:32)
        at org.eclipse.jface.operation.ModalContext.runInCurrentThread
(ModalCont
ext.java:346)
        at org.eclipse.jface.operation.ModalContext.run(ModalContext.java:291)
        at org.eclipse.jface.wizard.WizardDialog.run(WizardDialog.java:830)
        at 
org.eclipse.wst.common.frameworks.internal.datamodel.ui.DataModelWiza
rd.performFinish(DataModelWizard.java:245)
        at org.eclipse.jface.wizard.WizardDialog.finishPressed
(WizardDialog.java
:676)
        at org.eclipse.jface.wizard.WizardDialog.buttonPressed
(WizardDialog.java
:349)
        at org.eclipse.jface.dialogs.Dialog$2.widgetSelected(Dialog.java:556)
        at org.eclipse.swt.widgets.TypedListener.handleEvent
(TypedListener.java:
90)
        at org.eclipse.swt.widgets.EventTable.sendEvent(EventTable.java
(Compiled
 Code))
        at org.eclipse.swt.widgets.Widget.sendEvent(Widget.java(Inlined 
Compiled
 Code))
        at org.eclipse.swt.widgets.Display.runDeferredEvents(Display.java
(Compil
ed Code))
        at org.eclipse.swt.widgets.Display.readAndDispatch(Display.java
(Compiled
 Code))
        at org.eclipse.jface.window.Window.runEventLoop(Window.java(Compiled 
Cod
e))
        at org.eclipse.jface.window.Window.open(Window.java:787)
        at org.eclipse.ui.actions.ImportResourcesAction.run
(ImportResourcesActio
n.java:159)
        at org.eclipse.ui.actions.BaseSelectionListenerAction.runWithEvent
(BaseS
electionListenerAction.java:167)
        at 
org.eclipse.jface.action.ActionContributionItem.handleWidgetSelection
(ActionContributionItem.java:538)
        at org.eclipse.jface.action.ActionContributionItem.access$2
(ActionContri
butionItem.java:488)
        at org.eclipse.jface.action.ActionContributionItem$5.handleEvent
(ActionC
ontributionItem.java:400)
        at org.eclipse.swt.widgets.EventTable.sendEvent(EventTable.java
(Compiled
 Code))
        at org.eclipse.swt.widgets.Widget.sendEvent(Widget.java(Inlined 
Compiled
 Code))
        at org.eclipse.swt.widgets.Display.runDeferredEvents(Display.java
(Compil
ed Code))
        at org.eclipse.swt.widgets.Display.readAndDispatch(Display.java
(Compiled
 Code))
        at org.eclipse.ui.internal.Workbench.runEventLoop(Workbench.java
(Compile
d Code))
        at org.eclipse.ui.internal.Workbench.runUI(Workbench.java:1663)
        at org.eclipse.ui.internal.Workbench.createAndRunWorkbench
(Workbench.jav
a:367)
        at org.eclipse.ui.PlatformUI.createAndRunWorkbench(PlatformUI.java:143)
        at org.eclipse.ui.internal.ide.IDEApplication.run
(IDEApplication.java:10
3)
        at org.eclipse.core.internal.runtime.PlatformActivator$1.run
(PlatformAct
ivator.java:226)
        at org.eclipse.core.runtime.adaptor.EclipseStarter.run
(EclipseStarter.ja
va:376)
        at org.eclipse.core.runtime.adaptor.EclipseStarter.run
(EclipseStarter.ja
va:163)
        at sun.reflect.NativeMethodAccessorImpl.invoke0(Native Method)
        at sun.reflect.NativeMethodAccessorImpl.invoke
(NativeMethodAccessorImpl.
java:85)
        at sun.reflect.NativeMethodAccessorImpl.invoke
(NativeMethodAccessorImpl.
java:58)
        at sun.reflect.DelegatingMethodAccessorImpl.invoke
(DelegatingMethodAcces
sorImpl.java:60)
        at java.lang.reflect.Method.invoke(Method.java:391)
        at org.eclipse.core.launcher.Main.invokeFramework(Main.java:334)
        at org.eclipse.core.launcher.Main.basicRun(Main.java:278)
        at org.eclipse.core.launcher.Main.run(Main.java:973)
        at org.eclipse.core.launcher.Main.main(Main.java:948)

*** ERROR ***: Fri Jul 15 13:54:37 EDT 2005    Java Model Exception: Java Model
Status [Build path contains duplicate 
entry: 'D:common/IBM_JDK1.4.2/jre/lib/core
.jar' for project JavaUtil2]
        at org.eclipse.jdt.internal.core.JavaModelOperation.runOperation
(JavaMod
elOperation.java:773)
        at org.eclipse.jdt.internal.core.JavaProject.setRawClasspath
(JavaProject
.java:2834)
        at org.eclipse.jdt.internal.core.JavaProject.setRawClasspath
(JavaProject
.java:2850)
        at 
org.eclipse.jem.workbench.utility.JemProjectUtilities.appendJavaClass
Path(JemProjectUtilities.java:573)
        at 
org.eclipse.jst.j2ee.application.internal.operations.J2EEUtilityJarIm
portOperationNew.execute(J2EEUtilityJarImportOperationNew.java:60)
        at 
org.eclipse.wst.common.frameworks.internal.datamodel.ExtendableOperat
ionImpl.doExecute(ExtendableOperationImpl.java:129)
        at 
org.eclipse.wst.common.frameworks.internal.datamodel.ExtendableOperat
ionImpl$1.run(ExtendableOperationImpl.java:109)
        at org.eclipse.core.internal.resources.Workspace.run
(Workspace.java:1719
)
        at org.eclipse.core.internal.resources.Workspace.run
(Workspace.java:1739
)
        at 
org.eclipse.wst.common.frameworks.internal.datamodel.ExtendableOperat
ionImpl.execute(ExtendableOperationImpl.java:115)
        at 
org.eclipse.jst.j2ee.internal.archive.operations.EARComponentImportOp
eration.doExecute(EARComponentImportOperation.java:65)
        at 
org.eclipse.jst.j2ee.internal.archive.operations.J2EEArtifactImportOp
eration.execute(J2EEArtifactImportOperation.java:46)
        at 
org.eclipse.wst.common.frameworks.internal.datamodel.ExtendableOperat
ionImpl.doExecute(ExtendableOperationImpl.java:129)
        at 
org.eclipse.wst.common.frameworks.internal.datamodel.ExtendableOperat
ionImpl$1.run(ExtendableOperationImpl.java:109)
        at org.eclipse.core.internal.resources.Workspace.run
(Workspace.java:1719
)
        at org.eclipse.core.internal.resources.Workspace.run
(Workspace.java:1739
)
        at 
org.eclipse.wst.common.frameworks.internal.datamodel.ExtendableOperat
ionImpl.execute(ExtendableOperationImpl.java:115)
        at 
org.eclipse.wst.common.frameworks.internal.ui.RunnableOperationWrappe
r.run(RunnableOperationWrapper.java:32)
        at org.eclipse.jface.operation.ModalContext.runInCurrentThread
(ModalCont
ext.java:346)
        at org.eclipse.jface.operation.ModalContext.run(ModalContext.java:291)
        at org.eclipse.jface.wizard.WizardDialog.run(WizardDialog.java:830)
        at 
org.eclipse.wst.common.frameworks.internal.datamodel.ui.DataModelWiza
rd.performFinish(DataModelWizard.java:245)
        at org.eclipse.jface.wizard.WizardDialog.finishPressed
(WizardDialog.java
:676)
        at org.eclipse.jface.wizard.WizardDialog.buttonPressed
(WizardDialog.java
:349)
        at org.eclipse.jface.dialogs.Dialog$2.widgetSelected(Dialog.java:556)
        at org.eclipse.swt.widgets.TypedListener.handleEvent
(TypedListener.java:
90)
        at org.eclipse.swt.widgets.EventTable.sendEvent(EventTable.java
(Compiled
 Code))
        at org.eclipse.swt.widgets.Widget.sendEvent(Widget.java(Inlined 
Compiled
 Code))
        at org.eclipse.swt.widgets.Display.runDeferredEvents(Display.java
(Compil
ed Code))
        at org.eclipse.swt.widgets.Display.readAndDispatch(Display.java
(Compiled
 Code))
        at org.eclipse.jface.window.Window.runEventLoop(Window.java(Compiled 
Cod
e))
        at org.eclipse.jface.window.Window.open(Window.java:787)
        at org.eclipse.ui.actions.ImportResourcesAction.run
(ImportResourcesActio
n.java:159)
        at org.eclipse.ui.actions.BaseSelectionListenerAction.runWithEvent
(BaseS
electionListenerAction.java:167)
        at 
org.eclipse.jface.action.ActionContributionItem.handleWidgetSelection
(ActionContributionItem.java:538)
        at org.eclipse.jface.action.ActionContributionItem.access$2
(ActionContri
butionItem.java:488)
        at org.eclipse.jface.action.ActionContributionItem$5.handleEvent
(ActionC
ontributionItem.java:400)
        at org.eclipse.swt.widgets.EventTable.sendEvent(EventTable.java
(Compiled
 Code))
        at org.eclipse.swt.widgets.Widget.sendEvent(Widget.java(Inlined 
Compiled
 Code))
        at org.eclipse.swt.widgets.Display.runDeferredEvents(Display.java
(Compil
ed Code))
        at org.eclipse.swt.widgets.Display.readAndDispatch(Display.java
(Compiled
 Code))
        at org.eclipse.ui.internal.Workbench.runEventLoop(Workbench.java
(Compile
d Code))
        at org.eclipse.ui.internal.Workbench.runUI(Workbench.java:1663)
        at org.eclipse.ui.internal.Workbench.createAndRunWorkbench
(Workbench.jav
a:367)
        at org.eclipse.ui.PlatformUI.createAndRunWorkbench(PlatformUI.java:143)
        at org.eclipse.ui.internal.ide.IDEApplication.run
(IDEApplication.java:10
3)
        at org.eclipse.core.internal.runtime.PlatformActivator$1.run
(PlatformAct
ivator.java:226)
        at org.eclipse.core.runtime.adaptor.EclipseStarter.run
(EclipseStarter.ja
va:376)
        at org.eclipse.core.runtime.adaptor.EclipseStarter.run
(EclipseStarter.ja
va:163)
        at sun.reflect.NativeMethodAccessorImpl.invoke0(Native Method)
        at sun.reflect.NativeMethodAccessorImpl.invoke
(NativeMethodAccessorImpl.
java:85)
        at sun.reflect.NativeMethodAccessorImpl.invoke
(NativeMethodAccessorImpl.
java:58)
        at sun.reflect.DelegatingMethodAccessorImpl.invoke
(DelegatingMethodAcces
sorImpl.java:60)
        at java.lang.reflect.Method.invoke(Method.java:391)
        at org.eclipse.core.launcher.Main.invokeFramework(Main.java:334)
        at org.eclipse.core.launcher.Main.basicRun(Main.java:278)
        at org.eclipse.core.launcher.Main.run(Main.java:973)
        at org.eclipse.core.launcher.Main.main(Main.java:948)
released into repo on 2005/07/18.
tested against 0615 build</WithStack>
    <WithOutStack>1. Create an ear with web module.
2. create a java project.
3. Add the java project to ear as dependent (using ear properties page)
4. Export the ear.
5. delete all projects.
6. import the ear, be sure check the jar file on the second page of the import 
wizard.
7. stacktrace:

*** ERROR ***: Fri Jul 15 13:54:37 EDT 2005    Java Model Exception: Java Model
Status [Build path contains duplicate 
entry: 'D:common/IBM_JDK1.4.2/jre/lib/core
.jar' for project JavaUtil1]
        at org.eclipse.jdt.internal.core.JavaModelOperation.runOperation
(JavaMod
elOperation.java:773)
        at org.eclipse.jdt.internal.core.JavaProject.setRawClasspath
(JavaProject
.java:2834)
        at org.eclipse.jdt.internal.core.JavaProject.setRawClasspath
(JavaProject
.java:2850)
        at 
org.eclipse.jem.workbench.utility.JemProjectUtilities.appendJavaClass
Path(JemProjectUtilities.java:573)
        at 
org.eclipse.jst.j2ee.application.internal.operations.J2EEUtilityJarIm
portOperationNew.execute(J2EEUtilityJarImportOperationNew.java:60)
        at 
org.eclipse.wst.common.frameworks.internal.datamodel.ExtendableOperat
ionImpl.doExecute(ExtendableOperationImpl.java:129)
        at 
org.eclipse.wst.common.frameworks.internal.datamodel.ExtendableOperat
ionImpl$1.run(ExtendableOperationImpl.java:109)
        at org.eclipse.core.internal.resources.Workspace.run
(Workspace.java:1719
)
        at org.eclipse.core.internal.resources.Workspace.run
(Workspace.java:1739
)
        at 
org.eclipse.wst.common.frameworks.internal.datamodel.ExtendableOperat
ionImpl.execute(ExtendableOperationImpl.java:115)
        at 
org.eclipse.jst.j2ee.internal.archive.operations.EARComponentImportOp
eration.doExecute(EARComponentImportOperation.java:65)
        at 
org.eclipse.jst.j2ee.internal.archive.operations.J2EEArtifactImportOp
eration.execute(J2EEArtifactImportOperation.java:46)
        at 
org.eclipse.wst.common.frameworks.internal.datamodel.ExtendableOperat
ionImpl.doExecute(ExtendableOperationImpl.java:129)
        at 
org.eclipse.wst.common.frameworks.internal.datamodel.ExtendableOperat
ionImpl$1.run(ExtendableOperationImpl.java:109)
        at org.eclipse.core.internal.resources.Workspace.run
(Workspace.java:1719
)
        at org.eclipse.core.internal.resources.Workspace.run
(Workspace.java:1739
)
        at 
org.eclipse.wst.common.frameworks.internal.datamodel.ExtendableOperat
ionImpl.execute(ExtendableOperationImpl.java:115)
        at 
org.eclipse.wst.common.frameworks.internal.ui.RunnableOperationWrappe
r.run(RunnableOperationWrapper.java:32)
        at org.eclipse.jface.operation.ModalContext.runInCurrentThread
(ModalCont
ext.java:346)
        at org.eclipse.jface.operation.ModalContext.run(ModalContext.java:291)
        at org.eclipse.jface.wizard.WizardDialog.run(WizardDialog.java:830)
        at 
org.eclipse.wst.common.frameworks.internal.datamodel.ui.DataModelWiza
rd.performFinish(DataModelWizard.java:245)
        at org.eclipse.jface.wizard.WizardDialog.finishPressed
(WizardDialog.java
:676)
        at org.eclipse.jface.wizard.WizardDialog.buttonPressed
(WizardDialog.java
:349)
        at org.eclipse.jface.dialogs.Dialog$2.widgetSelected(Dialog.java:556)
        at org.eclipse.swt.widgets.TypedListener.handleEvent
(TypedListener.java:
90)
        at org.eclipse.swt.widgets.EventTable.sendEvent(EventTable.java
(Compiled
 Code))
        at org.eclipse.swt.widgets.Widget.sendEvent(Widget.java(Inlined 
Compiled
 Code))
        at org.eclipse.swt.widgets.Display.runDeferredEvents(Display.java
(Compil
ed Code))
        at org.eclipse.swt.widgets.Display.readAndDispatch(Display.java
(Compiled
 Code))
        at org.eclipse.jface.window.Window.runEventLoop(Window.java(Compiled 
Cod
e))
        at org.eclipse.jface.window.Window.open(Window.java:787)
        at org.eclipse.ui.actions.ImportResourcesAction.run
(ImportResourcesActio
n.java:159)
        at org.eclipse.ui.actions.BaseSelectionListenerAction.runWithEvent
(BaseS
electionListenerAction.java:167)
        at 
org.eclipse.jface.action.ActionContributionItem.handleWidgetSelection
(ActionContributionItem.java:538)
        at org.eclipse.jface.action.ActionContributionItem.access$2
(ActionContri
butionItem.java:488)
        at org.eclipse.jface.action.ActionContributionItem$5.handleEvent
(ActionC
ontributionItem.java:400)
        at org.eclipse.swt.widgets.EventTable.sendEvent(EventTable.java
(Compiled
 Code))
        at org.eclipse.swt.widgets.Widget.sendEvent(Widget.java(Inlined 
Compiled
 Code))
        at org.eclipse.swt.widgets.Display.runDeferredEvents(Display.java
(Compil
ed Code))
        at org.eclipse.swt.widgets.Display.readAndDispatch(Display.java
(Compiled
 Code))
        at org.eclipse.ui.internal.Workbench.runEventLoop(Workbench.java
(Compile
d Code))
        at org.eclipse.ui.internal.Workbench.runUI(Workbench.java:1663)
        at org.eclipse.ui.internal.Workbench.createAndRunWorkbench
(Workbench.jav
a:367)
        at org.eclipse.ui.PlatformUI.createAndRunWorkbench(PlatformUI.java:143)
        at org.eclipse.ui.internal.ide.IDEApplication.run
(IDEApplication.java:10
3)
        at org.eclipse.core.internal.runtime.PlatformActivator$1.run
(PlatformAct
ivator.java:226)
        at org.eclipse.core.runtime.adaptor.EclipseStarter.run
(EclipseStarter.ja
va:376)
        at org.eclipse.core.runtime.adaptor.EclipseStarter.run
(EclipseStarter.ja
va:163)
        at sun.reflect.NativeMethodAccessorImpl.invoke0(Native Method)
        at sun.reflect.NativeMethodAccessorImpl.invoke
(NativeMethodAccessorImpl.
java:85)
        at sun.reflect.NativeMethodAccessorImpl.invoke
(NativeMethodAccessorImpl.
java:58)
        at sun.reflect.DelegatingMethodAccessorImpl.invoke
(DelegatingMethodAcces
sorImpl.java:60)
        at java.lang.reflect.Method.invoke(Method.java:391)
        at org.eclipse.core.launcher.Main.invokeFramework(Main.java:334)
        at org.eclipse.core.launcher.Main.basicRun(Main.java:278)
        at org.eclipse.core.launcher.Main.run(Main.java:973)
        at org.eclipse.core.launcher.Main.main(Main.java:948)

*** ERROR ***: Fri Jul 15 13:54:37 EDT 2005    Java Model Exception: Java Model
Status [Build path contains duplicate 
entry: 'D:common/IBM_JDK1.4.2/jre/lib/core
.jar' for project JavaUtil2]
        at org.eclipse.jdt.internal.core.JavaModelOperation.runOperation
(JavaMod
elOperation.java:773)
        at org.eclipse.jdt.internal.core.JavaProject.setRawClasspath
(JavaProject
.java:2834)
        at org.eclipse.jdt.internal.core.JavaProject.setRawClasspath
(JavaProject
.java:2850)
        at 
org.eclipse.jem.workbench.utility.JemProjectUtilities.appendJavaClass
Path(JemProjectUtilities.java:573)
        at 
org.eclipse.jst.j2ee.application.internal.operations.J2EEUtilityJarIm
portOperationNew.execute(J2EEUtilityJarImportOperationNew.java:60)
        at 
org.eclipse.wst.common.frameworks.internal.datamodel.ExtendableOperat
ionImpl.doExecute(ExtendableOperationImpl.java:129)
        at 
org.eclipse.wst.common.frameworks.internal.datamodel.ExtendableOperat
ionImpl$1.run(ExtendableOperationImpl.java:109)
        at org.eclipse.core.internal.resources.Workspace.run
(Workspace.java:1719
)
        at org.eclipse.core.internal.resources.Workspace.run
(Workspace.java:1739
)
        at 
org.eclipse.wst.common.frameworks.internal.datamodel.ExtendableOperat
ionImpl.execute(ExtendableOperationImpl.java:115)
        at 
org.eclipse.jst.j2ee.internal.archive.operations.EARComponentImportOp
eration.doExecute(EARComponentImportOperation.java:65)
        at 
org.eclipse.jst.j2ee.internal.archive.operations.J2EEArtifactImportOp
eration.execute(J2EEArtifactImportOperation.java:46)
        at 
org.eclipse.wst.common.frameworks.internal.datamodel.ExtendableOperat
ionImpl.doExecute(ExtendableOperationImpl.java:129)
        at 
org.eclipse.wst.common.frameworks.internal.datamodel.ExtendableOperat
ionImpl$1.run(ExtendableOperationImpl.java:109)
        at org.eclipse.core.internal.resources.Workspace.run
(Workspace.java:1719
)
        at org.eclipse.core.internal.resources.Workspace.run
(Workspace.java:1739
)
        at 
org.eclipse.wst.common.frameworks.internal.datamodel.ExtendableOperat
ionImpl.execute(ExtendableOperationImpl.java:115)
        at 
org.eclipse.wst.common.frameworks.internal.ui.RunnableOperationWrappe
r.run(RunnableOperationWrapper.java:32)
        at org.eclipse.jface.operation.ModalContext.runInCurrentThread
(ModalCont
ext.java:346)
        at org.eclipse.jface.operation.ModalContext.run(ModalContext.java:291)
        at org.eclipse.jface.wizard.WizardDialog.run(WizardDialog.java:830)
        at 
org.eclipse.wst.common.frameworks.internal.datamodel.ui.DataModelWiza
rd.performFinish(DataModelWizard.java:245)
        at org.eclipse.jface.wizard.WizardDialog.finishPressed
(WizardDialog.java
:676)
        at org.eclipse.jface.wizard.WizardDialog.buttonPressed
(WizardDialog.java
:349)
        at org.eclipse.jface.dialogs.Dialog$2.widgetSelected(Dialog.java:556)
        at org.eclipse.swt.widgets.TypedListener.handleEvent
(TypedListener.java:
90)
        at org.eclipse.swt.widgets.EventTable.sendEvent(EventTable.java
(Compiled
 Code))
        at org.eclipse.swt.widgets.Widget.sendEvent(Widget.java(Inlined 
Compiled
 Code))
        at org.eclipse.swt.widgets.Display.runDeferredEvents(Display.java
(Compil
ed Code))
        at org.eclipse.swt.widgets.Display.readAndDispatch(Display.java
(Compiled
 Code))
        at org.eclipse.jface.window.Window.runEventLoop(Window.java(Compiled 
Cod
e))
        at org.eclipse.jface.window.Window.open(Window.java:787)
        at org.eclipse.ui.actions.ImportResourcesAction.run
(ImportResourcesActio
n.java:159)
        at org.eclipse.ui.actions.BaseSelectionListenerAction.runWithEvent
(BaseS
electionListenerAction.java:167)
        at 
org.eclipse.jface.action.ActionContributionItem.handleWidgetSelection
(ActionContributionItem.java:538)
        at org.eclipse.jface.action.ActionContributionItem.access$2
(ActionContri
butionItem.java:488)
        at org.eclipse.jface.action.ActionContributionItem$5.handleEvent
(ActionC
ontributionItem.java:400)
        at org.eclipse.swt.widgets.EventTable.sendEvent(EventTable.java
(Compiled
 Code))
        at org.eclipse.swt.widgets.Widget.sendEvent(Widget.java(Inlined 
Compiled
 Code))
        at org.eclipse.swt.widgets.Display.runDeferredEvents(Display.java
(Compil
ed Code))
        at org.eclipse.swt.widgets.Display.readAndDispatch(Display.java
(Compiled
 Code))
        at org.eclipse.ui.internal.Workbench.runEventLoop(Workbench.java
(Compile
d Code))
        at org.eclipse.ui.internal.Workbench.runUI(Workbench.java:1663)
        at org.eclipse.ui.internal.Workbench.createAndRunWorkbench
(Workbench.jav
a:367)
        at org.eclipse.ui.PlatformUI.createAndRunWorkbench(PlatformUI.java:143)
        at org.eclipse.ui.internal.ide.IDEApplication.run
(IDEApplication.java:10
3)
        at org.eclipse.core.internal.runtime.PlatformActivator$1.run
(PlatformAct
ivator.java:226)
        at org.eclipse.core.runtime.adaptor.EclipseStarter.run
(EclipseStarter.ja
va:376)
        at org.eclipse.core.runtime.adaptor.EclipseStarter.run
(EclipseStarter.ja
va:163)
        at sun.reflect.NativeMethodAccessorImpl.invoke0(Native Method)
        at sun.reflect.NativeMethodAccessorImpl.invoke
(NativeMethodAccessorImpl.
java:85)
        at sun.reflect.NativeMethodAccessorImpl.invoke
(NativeMethodAccessorImpl.
java:58)
        at sun.reflect.DelegatingMethodAccessorImpl.invoke
(DelegatingMethodAcces
sorImpl.java:60)
        at java.lang.reflect.Method.invoke(Method.java:391)
        at org.eclipse.core.launcher.Main.invokeFramework(Main.java:334)
        at org.eclipse.core.launcher.Main.basicRun(Main.java:278)
        at org.eclipse.core.launcher.Main.run(Main.java:973)
        at org.eclipse.core.launcher.Main.main(Main.java:948)
released into repo on 2005/07/18.
tested against 0615 build</WithOutStack>
  </Bug>
  <Bug>
    <BugId amount="104065" />
    <CreationDate amount="2005-07-15 14:30:00 -0400" />
    <DupId amount="" />
    <classification amount="Eclipse" />
    <Product amount="JDT" />
    <component amount="UI" />
    <Version amount="3.1" />
    <rep_platform amount="PC" />
    <op_sys amount="Windows XP" />
    <priority amount="P3" />
    <bug_severity amount="normal" />
    <Summery>[quick fix] No Quick Fixes for marker with IMarker.LINE_NUMBER and no IMarker.CHAR_START and IMarker.CHAR_END</Summery>
    <Patches amount="0" />
    <Stacktraces amount="0" />
    <SourceCodeRegions amount="1">
      <source_code type="functiondef">
        <location start="991" end="1102" />
        <code>private static boolean isInside(int offset, int start, int end) {
		return offset &gt;= start &amp;&amp; offset &lt; end;
	}</code>
      </source_code>
    </SourceCodeRegions>
    <Enumerations amount="0" />
    <bug_status amount="VERIFIED" />
    <resolution amount="FIXED" />
    <WithStack>I'm creating (problem) markers for a java file and I only have a line number
available when I create the marker. I add the IMarker.LINE_NUMBER attribute to
the marker attributes, but do not specify a CHAR_START or CHAR_END. The marker
shows up in the file, but there are no Quick Fixes available for it (using
Ctrl+1 or right click on the marker). When I click on the marker in the problems
view, however, I get the quick fixes that are possible. (This used to work in
3.0, doesnt now in 3.1)

I traced through the code and found that the markers with a line number get
their end and start range set to be the same in:
AbstractMarkerAnnotationModel.createPositionFromMarker(IMarker marker).  Because
the start and end are both -1 coming into the method, end = start. 

In JavaCorrectionAssistant.collectQuickFixableAnnotations(), there is a check to
see if the Position for the offset is within the range -- its a call to
JavaCorrectionAssistant.isInside(). isInside has the following body:
	private static boolean isInside(int offset, int start, int end) {
		return offset &gt;= start &amp;&amp; offset &lt; end;
	}

BUT, because the start and end are set to be the same, its NEVER inside. The net
effect: any markers with a position set via LINE_NUMBER will not get a quick fix.
Martin, this is probably something that should be fixed for 3.1.1.
Created attachment 25234
patch for JavaCorrectionAssistant
Dirk, I also support this as a 3.1.1 candidate. The fix is trivial and makes
sure that also 0-length markers get quick assist support.
fix released in 3.2 HEAD stream
+1 for 3.1.1
Patched reviewed.
Reviewed by Tom, patch released in 3.1.1
Verifying...
Verified in M20050804-1200.
.</WithStack>
    <WithOutStack>I'm creating (problem) markers for a java file and I only have a line number
available when I create the marker. I add the IMarker.LINE_NUMBER attribute to
the marker attributes, but do not specify a CHAR_START or CHAR_END. The marker
shows up in the file, but there are no Quick Fixes available for it (using
Ctrl+1 or right click on the marker). When I click on the marker in the problems
view, however, I get the quick fixes that are possible. (This used to work in
3.0, doesnt now in 3.1)

I traced through the code and found that the markers with a line number get
their end and start range set to be the same in:
AbstractMarkerAnnotationModel.createPositionFromMarker(IMarker marker).  Because
the start and end are both -1 coming into the method, end = start. 

In JavaCorrectionAssistant.collectQuickFixableAnnotations(), there is a check to
see if the Position for the offset is within the range -- its a call to
JavaCorrectionAssistant.isInside(). isInside has the following body:
	private static boolean isInside(int offset, int start, int end) {
		return offset &gt;= start &amp;&amp; offset &lt; end;
	}

BUT, because the start and end are set to be the same, its NEVER inside. The net
effect: any markers with a position set via LINE_NUMBER will not get a quick fix.
Martin, this is probably something that should be fixed for 3.1.1.
Created attachment 25234
patch for JavaCorrectionAssistant
Dirk, I also support this as a 3.1.1 candidate. The fix is trivial and makes
sure that also 0-length markers get quick assist support.
fix released in 3.2 HEAD stream
+1 for 3.1.1
Patched reviewed.
Reviewed by Tom, patch released in 3.1.1
Verifying...
Verified in M20050804-1200.
.</WithOutStack>
  </Bug>
  <Bug>
    <BugId amount="104066" />
    <CreationDate amount="2005-07-15 14:30:00 -0400" />
    <DupId amount="" />
    <classification amount="WebTools" />
    <Product amount="WTP Java EE Tools" />
    <component amount="jst.j2ee" />
    <Version amount="0.7" />
    <rep_platform amount="PC" />
    <op_sys amount="Windows XP" />
    <priority amount="P1" />
    <bug_severity amount="critical" />
    <Summery>http://java.sun.com/xml/ns/j2ee/jsp_2_0.xsd does not have license associated</Summery>
    <Patches amount="0" />
    <Stacktraces amount="0" />
    <SourceCodeRegions amount="0" />
    <Enumerations amount="0" />
    <bug_status amount="CLOSED" />
    <resolution amount="FIXED" />
    <WithStack>The resource http://java.sun.com/xml/ns/j2ee/jsp_2_0.xsd does not have a license
associated. This resource is being cached without prompting the user for license
acceptance. The license that should be associated with the resource is
http://developers.sun.com/license/berkeley_license.html.

This defect is critical for 0.7 as WTP does not have the rights to silently
cache this schema.
The following two DTD's also need license definitions:
http://java.sun.com/dtd/web-app_2_3.dtd
http://java.sun.com/j2ee/dtds/web-app_2_2.dtd

Although definitions are provided for their publicIds:
&lt;cacheresource
            license="http://developers.sun.com/license/berkeley_license.html"
            url="-//Sun Microsystems, Inc.//DTD Web Application 2.2//EN"/&gt;
&lt;cacheresource
            license="http://developers.sun.com/license/berkeley_license.html"
            url="-//Sun Microsystems, Inc.//DTD Web Application 2.3//EN"/&gt;
      
licenses should also be specified for their systemId as follows
&lt;cacheresource
            license="http://developers.sun.com/license/berkeley_license.html"
            url="http://java.sun.com/dtd/web-app_2_3.dtd"/&gt;
&lt;cacheresource
            license="http://developers.sun.com/license/berkeley_license.html"
            url="http://java.sun.com/j2ee/dtds/web-app_2_2.dtd"/&gt;

Dropped to 7/18 build.

I removed public id entries and replaced them with the system id's
Verified on WTP driver from 20050721.
Closing bug.</WithStack>
    <WithOutStack>The resource http://java.sun.com/xml/ns/j2ee/jsp_2_0.xsd does not have a license
associated. This resource is being cached without prompting the user for license
acceptance. The license that should be associated with the resource is
http://developers.sun.com/license/berkeley_license.html.

This defect is critical for 0.7 as WTP does not have the rights to silently
cache this schema.
The following two DTD's also need license definitions:
http://java.sun.com/dtd/web-app_2_3.dtd
http://java.sun.com/j2ee/dtds/web-app_2_2.dtd

Although definitions are provided for their publicIds:
&lt;cacheresource
            license="http://developers.sun.com/license/berkeley_license.html"
            url="-//Sun Microsystems, Inc.//DTD Web Application 2.2//EN"/&gt;
&lt;cacheresource
            license="http://developers.sun.com/license/berkeley_license.html"
            url="-//Sun Microsystems, Inc.//DTD Web Application 2.3//EN"/&gt;
      
licenses should also be specified for their systemId as follows
&lt;cacheresource
            license="http://developers.sun.com/license/berkeley_license.html"
            url="http://java.sun.com/dtd/web-app_2_3.dtd"/&gt;
&lt;cacheresource
            license="http://developers.sun.com/license/berkeley_license.html"
            url="http://java.sun.com/j2ee/dtds/web-app_2_2.dtd"/&gt;

Dropped to 7/18 build.

I removed public id entries and replaced them with the system id's
Verified on WTP driver from 20050721.
Closing bug.</WithOutStack>
  </Bug>
  <Bug>
    <BugId amount="104067" />
    <CreationDate amount="2005-07-15 14:31:00 -0400" />
    <DupId amount="" />
    <classification amount="Eclipse" />
    <Product amount="JDT" />
    <component amount="Core" />
    <Version amount="3.1" />
    <rep_platform amount="PC" />
    <op_sys amount="Windows XP" />
    <priority amount="P3" />
    <bug_severity amount="normal" />
    <Summery>ability to supress java compile warnings</Summery>
    <Patches amount="0" />
    <Stacktraces amount="0" />
    <SourceCodeRegions amount="0" />
    <Enumerations amount="0" />
    <bug_status amount="RESOLVED" />
    <resolution amount="WORKSFORME" />
    <WithStack>As part of some of my projects are steps that launch tools that generate java
code, such as wsdl.   

The generated code contains many java compile warnings and it would be nice to
be able to supress warnings for certain directory hierarchies.
assigning to JCORE for comment.
@SuppressWarnings is now supported in source 1.5 mode.</WithStack>
    <WithOutStack>As part of some of my projects are steps that launch tools that generate java
code, such as wsdl.   

The generated code contains many java compile warnings and it would be nice to
be able to supress warnings for certain directory hierarchies.
assigning to JCORE for comment.
@SuppressWarnings is now supported in source 1.5 mode.</WithOutStack>
  </Bug>
  <Bug>
    <BugId amount="104068" />
    <CreationDate amount="2005-07-15 14:37:00 -0400" />
    <DupId amount="" />
    <classification amount="Eclipse Foundation" />
    <Product amount="z_Archived" />
    <component amount="WTP Datatools" />
    <Version amount="unspecified" />
    <rep_platform amount="PC" />
    <op_sys amount="Windows XP" />
    <priority amount="P3" />
    <bug_severity amount="normal" />
    <Summery>Sybase IMAGE data type does not have a specified length</Summery>
    <Patches amount="0" />
    <Stacktraces amount="0" />
    <SourceCodeRegions amount="0" />
    <Enumerations amount="0" />
    <bug_status amount="CLOSED" />
    <resolution amount="FIXED" />
    <WithStack>The IMAGE datatype in Sybase does not support a length and the data unit is byte
not bit, according to the reference manual from Sybase:
http://sybooks.sybase.com/onlinebooks/group-as/asg1250e/refman/@Generic__BookTextView/4429;pt=4429#X

"image columns are variable-length columns that can hold up to 2,147,483,647
(231 - 1) bytes of hexadecimal-like data."
"text and image datatype definitions do not include lengths."

Current WTP implementation shown as:

  &lt;predefinedDataTypeDefinitions xmi:id="BINARY_LARGE_OBJECT_3"
lengthSupported="true" lengthUnit="BIT" multipleColumnsSupported="true"
maximumLength="2147483647" primitiveType="BINARY_LARGE_OBJECT"
jdbcEnumType="2004" javaClassName="java.sql.Blob"&gt;
    &lt;defaultValueTypes&gt;NULL&lt;/defaultValueTypes&gt;
    &lt;name&gt;IMAGE&lt;/name&gt;
  &lt;/predefinedDataTypeDefinitions&gt;
Fix applied on July 19th, 2005.
This issues have been fixed.
Verified fixed.</WithStack>
    <WithOutStack>The IMAGE datatype in Sybase does not support a length and the data unit is byte
not bit, according to the reference manual from Sybase:
http://sybooks.sybase.com/onlinebooks/group-as/asg1250e/refman/@Generic__BookTextView/4429;pt=4429#X

"image columns are variable-length columns that can hold up to 2,147,483,647
(231 - 1) bytes of hexadecimal-like data."
"text and image datatype definitions do not include lengths."

Current WTP implementation shown as:

  &lt;predefinedDataTypeDefinitions xmi:id="BINARY_LARGE_OBJECT_3"
lengthSupported="true" lengthUnit="BIT" multipleColumnsSupported="true"
maximumLength="2147483647" primitiveType="BINARY_LARGE_OBJECT"
jdbcEnumType="2004" javaClassName="java.sql.Blob"&gt;
    &lt;defaultValueTypes&gt;NULL&lt;/defaultValueTypes&gt;
    &lt;name&gt;IMAGE&lt;/name&gt;
  &lt;/predefinedDataTypeDefinitions&gt;
Fix applied on July 19th, 2005.
This issues have been fixed.
Verified fixed.</WithOutStack>
  </Bug>
  <Bug>
    <BugId amount="104069" />
    <CreationDate amount="2005-07-15 14:38:00 -0400" />
    <DupId amount="" />
    <classification amount="Eclipse" />
    <Product amount="Platform" />
    <component amount="Runtime" />
    <Version amount="3.1" />
    <rep_platform amount="PC" />
    <op_sys amount="Windows XP" />
    <priority amount="P3" />
    <bug_severity amount="normal" />
    <Summery>[osgi] FilterImpl should check constructor accessibility</Summery>
    <Patches amount="0" />
    <Stacktraces amount="0" />
    <SourceCodeRegions amount="0" />
    <Enumerations amount="0" />
    <bug_status amount="RESOLVED" />
    <resolution amount="FIXED" />
    <WithStack>When evaluating a filter against arbitrary objects the FilterImpl uses 
reflection to construct the arbitrary objects.  If the class being constructed 
happens to be non-public then a SecurityException is thrown.  FilterImpl 
should check the accessibility of the constructor and use 
Constructor#setAccessible to force the creation of a non-public class objects.
Created attachment 24856
Proposed Fix
Fixed in HEAD.
should backport fix to 3.1.1</WithStack>
    <WithOutStack>When evaluating a filter against arbitrary objects the FilterImpl uses 
reflection to construct the arbitrary objects.  If the class being constructed 
happens to be non-public then a SecurityException is thrown.  FilterImpl 
should check the accessibility of the constructor and use 
Constructor#setAccessible to force the creation of a non-public class objects.
Created attachment 24856
Proposed Fix
Fixed in HEAD.
should backport fix to 3.1.1</WithOutStack>
  </Bug>
  <Bug>
    <BugId amount="104070" />
    <CreationDate amount="2005-07-15 14:39:00 -0400" />
    <DupId amount="" />
    <classification amount="Mylyn" />
    <Product amount="Mylyn" />
    <component amount="Tasks" />
    <Version amount="unspecified" />
    <rep_platform amount="Other" />
    <op_sys amount="other" />
    <priority amount="P2" />
    <bug_severity amount="normal" />
    <Summery>put back drill-down adapter on task list</Summery>
    <Patches amount="0" />
    <Stacktraces amount="0" />
    <SourceCodeRegions amount="0" />
    <Enumerations amount="0" />
    <bug_status amount="RESOLVED" />
    <resolution amount="FIXED" />
    <WithStack>This allows us to focus in on a category.
I broke this.
Fixed.  We may want to move some actions out of the local pull-down at some 
point.</WithStack>
    <WithOutStack>This allows us to focus in on a category.
I broke this.
Fixed.  We may want to move some actions out of the local pull-down at some 
point.</WithOutStack>
  </Bug>
  <Bug>
    <BugId amount="104071" />
    <CreationDate amount="2005-07-15 14:43:00 -0400" />
    <DupId amount="" />
    <classification amount="Eclipse Foundation" />
    <Product amount="z_Archived" />
    <component amount="WTP Datatools" />
    <Version amount="unspecified" />
    <rep_platform amount="PC" />
    <op_sys amount="Windows XP" />
    <priority amount="P3" />
    <bug_severity amount="normal" />
    <Summery>Sybase vendor doc specifys incorrect unit length for binary data types</Summery>
    <Patches amount="0" />
    <Stacktraces amount="0" />
    <SourceCodeRegions amount="0" />
    <Enumerations amount="0" />
    <bug_status amount="CLOSED" />
    <resolution amount="FIXED" />
    <WithStack>According to the Sybase reference manual lengths of BINARY and VARBINARY data
types are specified in bytes not bits:

http://sybooks.sybase.com/onlinebooks/group-as/asg1250e/refman/@Generic__BookTextView/4099;pt=4099#X

"Use the binary datatypes, binary(n) and varbinary(n) ... Use n to specify the
column length in bytes"

Current WTP documents show unit length as BIT

  &lt;predefinedDataTypeDefinitions xmi:id="BINARY_1" lengthSupported="true"
lengthUnit="BIT" multipleColumnsSupported="true" maximumLength="8000"
primitiveType="BINARY_LARGE_OBJECT" jdbcEnumType="-2" javaClassName="byte[]"&gt;
    &lt;defaultValueTypes&gt;NULL&lt;/defaultValueTypes&gt;
    &lt;name&gt;BINARY&lt;/name&gt;
  &lt;/predefinedDataTypeDefinitions&gt;

The VARBINARY type in not modeled in the Sybase_12.x.xmi document.
Fix applied on July 19th, 2005.
These issues have been fixed.
Verified fixed.</WithStack>
    <WithOutStack>According to the Sybase reference manual lengths of BINARY and VARBINARY data
types are specified in bytes not bits:

http://sybooks.sybase.com/onlinebooks/group-as/asg1250e/refman/@Generic__BookTextView/4099;pt=4099#X

"Use the binary datatypes, binary(n) and varbinary(n) ... Use n to specify the
column length in bytes"

Current WTP documents show unit length as BIT

  &lt;predefinedDataTypeDefinitions xmi:id="BINARY_1" lengthSupported="true"
lengthUnit="BIT" multipleColumnsSupported="true" maximumLength="8000"
primitiveType="BINARY_LARGE_OBJECT" jdbcEnumType="-2" javaClassName="byte[]"&gt;
    &lt;defaultValueTypes&gt;NULL&lt;/defaultValueTypes&gt;
    &lt;name&gt;BINARY&lt;/name&gt;
  &lt;/predefinedDataTypeDefinitions&gt;

The VARBINARY type in not modeled in the Sybase_12.x.xmi document.
Fix applied on July 19th, 2005.
These issues have been fixed.
Verified fixed.</WithOutStack>
  </Bug>
  <Bug>
    <BugId amount="104072" />
    <CreationDate amount="2005-07-15 14:45:00 -0400" />
    <DupId amount="" />
    <classification amount="WebTools" />
    <Product amount="WTP Java EE Tools" />
    <component amount="jst.jem" />
    <Version amount="unspecified" />
    <rep_platform amount="PC" />
    <op_sys amount="Windows XP" />
    <priority amount="P3" />
    <bug_severity amount="blocker" />
    <Summery>Can't start  VE</Summery>
    <Patches amount="0" />
    <Stacktraces amount="0" />
    <SourceCodeRegions amount="0" />
    <Enumerations amount="0" />
    <bug_status amount="CLOSED" />
    <resolution amount="WORKSFORME" />
    <WithStack>Selecting Open with-&gt;Visual Editor opens an empty window titled "Visual Editor".
 Just upgraded to Eclipse 3.1 with VE 1.1.0.
What VE/GEF/EMF Eclipse levels are you using?
(In reply to comment #1)
&gt; What VE/GEF/EMF Eclipse levels are you using?

VE 1.1.0
GEF SDK 3.0.1
EMF 2.1.0
Did auto updates
The VE 1.1.0 page lists that you need GEF 3.1, not 3.0.1. Please us that and if
it still fails, please reopen the defect. (Make sure that after installing GEF
3.1 that you start once with the -clean option on the command line to pick up
the updates).
(In reply to comment #3)
&gt; The VE 1.1.0 page lists that you need GEF 3.1, not 3.0.1. Please us that and if
&gt; it still fails, please reopen the defect. (Make sure that after installing GEF
&gt; 3.1 that you start once with the -clean option on the command line to pick up
&gt; the updates).</WithStack>
    <WithOutStack>Selecting Open with-&gt;Visual Editor opens an empty window titled "Visual Editor".
 Just upgraded to Eclipse 3.1 with VE 1.1.0.
What VE/GEF/EMF Eclipse levels are you using?
(In reply to comment #1)
&gt; What VE/GEF/EMF Eclipse levels are you using?

VE 1.1.0
GEF SDK 3.0.1
EMF 2.1.0
Did auto updates
The VE 1.1.0 page lists that you need GEF 3.1, not 3.0.1. Please us that and if
it still fails, please reopen the defect. (Make sure that after installing GEF
3.1 that you start once with the -clean option on the command line to pick up
the updates).
(In reply to comment #3)
&gt; The VE 1.1.0 page lists that you need GEF 3.1, not 3.0.1. Please us that and if
&gt; it still fails, please reopen the defect. (Make sure that after installing GEF
&gt; 3.1 that you start once with the -clean option on the command line to pick up
&gt; the updates).</WithOutStack>
  </Bug>
  <Bug>
    <BugId amount="104073" />
    <CreationDate amount="2005-07-15 14:51:00 -0400" />
    <DupId amount="" />
    <classification amount="Eclipse" />
    <Product amount="Platform" />
    <component amount="Runtime" />
    <Version amount="3.1" />
    <rep_platform amount="PC" />
    <op_sys amount="Windows XP" />
    <priority amount="P3" />
    <bug_severity amount="normal" />
    <Summery>[osgi] new org.osgi.framework.FrameworkUtil class</Summery>
    <Patches amount="0" />
    <Stacktraces amount="0" />
    <SourceCodeRegions amount="0" />
    <Enumerations amount="0" />
    <bug_status amount="RESOLVED" />
    <resolution amount="FIXED" />
    <WithStack>A new class org.osgi.framework.FrameworkUtil has been added to the OSGi R4 
spec.  We need to include this class.
Created attachment 24858
New FrameworkUtil class
Fixed in Head.
should backport fix to 3.1.1</WithStack>
    <WithOutStack>A new class org.osgi.framework.FrameworkUtil has been added to the OSGi R4 
spec.  We need to include this class.
Created attachment 24858
New FrameworkUtil class
Fixed in Head.
should backport fix to 3.1.1</WithOutStack>
  </Bug>
  <Bug>
    <BugId amount="104074" />
    <CreationDate amount="2005-07-15 14:54:00 -0400" />
    <DupId amount="" />
    <classification amount="Mylyn" />
    <Product amount="Mylyn" />
    <component amount="UI" />
    <Version amount="unspecified" />
    <rep_platform amount="Other" />
    <op_sys amount="other" />
    <priority amount="P1" />
    <bug_severity amount="normal" />
    <Summery>make all Java active search categories one and add drop-downs</Summery>
    <Patches amount="0" />
    <Stacktraces amount="0" />
    <SourceCodeRegions amount="0" />
    <Enumerations amount="1">
      <Enumeration lines="4">
        <Lines>
          <Line>- Java</Line>
          <Line>- JUnit tests</Line>
          <Line>- XML</Line>
          <Line>- Bugzilla</Line>
        </Lines>
      </Enumeration>
    </Enumerations>
    <bug_status amount="RESOLVED" />
    <resolution amount="FIXED" />
    <WithStack>Merge the 4 toggles into a single one.  Also sort them to put "J" stuff first,
a hack, but will help.

- Java
- JUnit tests
- XML
- Bugzilla

For Java/JUnit/XML
we have the following
Degrees of separation:
0: disabled
1: landmark files
2:
interesting files
3: interesting project
4: project dependancies
5: entire
workspace

Bugzilla: 
0: disabled
1: local, fully qualified matches
2:
local, unqualified matches
3: server, fully quaified matches
4: server, unqualified
matches
All of the relationship provider actions now have drop downs.

The java searches
are still all separate since some thought needs to go into how it will work
as 1 button making sure to get the type of search correct

Another thing that needs to be fixed with these is that their state is not stored,
meaning that on eclipse startup they all default to being disabled

This is now fully fixed.  Relationsip providers are contained within the structure
bridge and not added separately.  This means that there is only 1 control per
structure bridge that has at least 1 relationship provider.  Also, the state
is stored based on the generic id</WithStack>
    <WithOutStack>Merge the 4 toggles into a single one.  Also sort them to put "J" stuff first,
a hack, but will help.

- Java
- JUnit tests
- XML
- Bugzilla

For Java/JUnit/XML
we have the following
Degrees of separation:
0: disabled
1: landmark files
2:
interesting files
3: interesting project
4: project dependancies
5: entire
workspace

Bugzilla: 
0: disabled
1: local, fully qualified matches
2:
local, unqualified matches
3: server, fully quaified matches
4: server, unqualified
matches
All of the relationship provider actions now have drop downs.

The java searches
are still all separate since some thought needs to go into how it will work
as 1 button making sure to get the type of search correct

Another thing that needs to be fixed with these is that their state is not stored,
meaning that on eclipse startup they all default to being disabled

This is now fully fixed.  Relationsip providers are contained within the structure
bridge and not added separately.  This means that there is only 1 control per
structure bridge that has at least 1 relationship provider.  Also, the state
is stored based on the generic id</WithOutStack>
  </Bug>
  <Bug>
    <BugId amount="104075" />
    <CreationDate amount="2005-07-15 14:57:00 -0400" />
    <DupId amount="" />
    <classification amount="Tools" />
    <Product amount="AspectJ" />
    <component amount="Compiler" />
    <Version amount="DEVELOPMENT" />
    <rep_platform amount="All" />
    <op_sys amount="All" />
    <priority amount="P3" />
    <bug_severity amount="normal" />
    <Summery>LTW Includes Should be Or'ed ... with Patch</Summery>
    <Patches amount="0" />
    <Stacktraces amount="0" />
    <SourceCodeRegions amount="0" />
    <Enumerations amount="0" />
    <bug_status amount="RESOLVED" />
    <resolution amount="FIXED" />
    <WithStack>The aj5 developer handbook shows an example that implies that a file should 
match if ANY weaver includes match, not if all of them do. The current code in 
CVS HEAD matches only if all of them match. I think the behavior described in 
the handbook is strongly preferable to requiring all includes to match.

To test this try adding &lt;include within="nowhere"/&gt; into any aop.xml, e.g.,
    &lt;weaver options="-proceedOnError"&gt;
        &lt;include within="*..*"/&gt;
        &lt;include within="x"/&gt;
    &lt;/weaver&gt;

I have attached a patch to ClassLoaderWeavingAdaptor that fixes this issue.
Created attachment 24859
patch to accept includes if none specified or if any match
One additional thought: I think the default case for no includes should be to 
NOT weave. That way if you are loading classes into a classloader environment 
with no definitions (no aop.xml file), it doesn't impose the hit of weaving.

For example, I have an instance of Tomcat with one small Web App in it, which 
has an aop.xml file associated with it. But my Tomcat &amp; system classloader do 
not. With the current rule that no include includes something, (and my first 
patch) start up times for Tomcat with LTW are about three times as long (11 
seconds versus 4.5 seconds) as they are when you only weave into a classloader 
when there are includes. 

An even better approach for this would be allowing no includes to include 
everything but not accepting any classes if there's no aop.xml for this 
classloader (nor a system-wide AJ5 def file). At a minimum, it would be good to 
restore optimized support for the "weave everything" case.

Anyhow, here's another patch that allows includes if any match AND that refuses 
to include anything if no includes exist. 
Created attachment 24864
this version only weaves if there's an include for this weaving container

Significantly speeds up loading when many classes are not being woven (e.g.,
weaving into a Web app but not a container).
1/ OR the &lt;include ..&gt;
Can we all vote (Andy / Adrian / Jonas).
ie should we AND or OR the &lt;include&gt; in aop.xml ?
I am fine with both. I think we should OR them as Ron suggest (it is like a
list, if someone needs an AND, he can use it in one type pattern)

2/ have &lt;include&gt; mandatory for LTW
Ron suggest that &lt;include within="*"&gt; be mandatory for LTW
the reason is to speed up things.
I don't agree on that one - this makes it cumbersome (and even contradictory
with 1/ if ones want to refine the "*"...). LTW sure needs to be optimized, but
thru other means.
include is OR (was a bug, not a spec issue)

by default no include means weave ALL and we won't change that

committing in some minutes
remind to close with M3
was M3 remind
was M3 remind</WithStack>
    <WithOutStack>The aj5 developer handbook shows an example that implies that a file should 
match if ANY weaver includes match, not if all of them do. The current code in 
CVS HEAD matches only if all of them match. I think the behavior described in 
the handbook is strongly preferable to requiring all includes to match.

To test this try adding &lt;include within="nowhere"/&gt; into any aop.xml, e.g.,
    &lt;weaver options="-proceedOnError"&gt;
        &lt;include within="*..*"/&gt;
        &lt;include within="x"/&gt;
    &lt;/weaver&gt;

I have attached a patch to ClassLoaderWeavingAdaptor that fixes this issue.
Created attachment 24859
patch to accept includes if none specified or if any match
One additional thought: I think the default case for no includes should be to 
NOT weave. That way if you are loading classes into a classloader environment 
with no definitions (no aop.xml file), it doesn't impose the hit of weaving.

For example, I have an instance of Tomcat with one small Web App in it, which 
has an aop.xml file associated with it. But my Tomcat &amp; system classloader do 
not. With the current rule that no include includes something, (and my first 
patch) start up times for Tomcat with LTW are about three times as long (11 
seconds versus 4.5 seconds) as they are when you only weave into a classloader 
when there are includes. 

An even better approach for this would be allowing no includes to include 
everything but not accepting any classes if there's no aop.xml for this 
classloader (nor a system-wide AJ5 def file). At a minimum, it would be good to 
restore optimized support for the "weave everything" case.

Anyhow, here's another patch that allows includes if any match AND that refuses 
to include anything if no includes exist. 
Created attachment 24864
this version only weaves if there's an include for this weaving container

Significantly speeds up loading when many classes are not being woven (e.g.,
weaving into a Web app but not a container).
1/ OR the &lt;include ..&gt;
Can we all vote (Andy / Adrian / Jonas).
ie should we AND or OR the &lt;include&gt; in aop.xml ?
I am fine with both. I think we should OR them as Ron suggest (it is like a
list, if someone needs an AND, he can use it in one type pattern)

2/ have &lt;include&gt; mandatory for LTW
Ron suggest that &lt;include within="*"&gt; be mandatory for LTW
the reason is to speed up things.
I don't agree on that one - this makes it cumbersome (and even contradictory
with 1/ if ones want to refine the "*"...). LTW sure needs to be optimized, but
thru other means.
include is OR (was a bug, not a spec issue)

by default no include means weave ALL and we won't change that

committing in some minutes
remind to close with M3
was M3 remind
was M3 remind</WithOutStack>
  </Bug>
  <Bug>
    <BugId amount="104076" />
    <CreationDate amount="2005-07-15 14:57:00 -0400" />
    <DupId amount="" />
    <classification amount="Eclipse Foundation" />
    <Product amount="z_Archived" />
    <component amount="WTP Datatools" />
    <Version amount="unspecified" />
    <rep_platform amount="PC" />
    <op_sys amount="Windows XP" />
    <priority amount="P3" />
    <bug_severity amount="normal" />
    <Summery>SQL Server binary types have incorrect unit length and maximum length</Summery>
    <Patches amount="0" />
    <Stacktraces amount="0" />
    <SourceCodeRegions amount="0" />
    <Enumerations amount="0" />
    <bug_status amount="CLOSED" />
    <resolution amount="FIXED" />
    <WithStack>The binary types for SQL server according to the msdn documentation support up
to legnth of 8000 bytes as opposed to 510 bits which is currently specified in
the SQL Server_2000.xmi document.

http://msdn.microsoft.com/library/en-us/tsqlref/ts_ba-bz_75yx.asp?frame=true

"binary [ ( n ) ]

Fixed-length binary data of n bytes. n must be a value from 1 through 8,000.
Storage size is n+4 bytes."

"varbinary [ ( n ) ]

Variable-length binary data of n bytes. n must be a value from 1 through 8,000."

Current WTP implementation shows as follows:

  &lt;predefinedDataTypeDefinitions xmi:id="BINARY_1" lengthSupported="true"
lengthUnit="BIT" multipleColumnsSupported="true" maximumLength="510"
primitiveType="BINARY" jdbcEnumType="-2" javaClassName="byte[]"&gt;
    &lt;defaultValueTypes&gt;NULL&lt;/defaultValueTypes&gt;
    &lt;name&gt;BINARY&lt;/name&gt;
  &lt;/predefinedDataTypeDefinitions&gt;
  &lt;predefinedDataTypeDefinitions xmi:id="BINARY_VARYING_1"
lengthSupported="true" lengthUnit="BIT" multipleColumnsSupported="true"
maximumLength="510" primitiveType="BINARY_VARYING" jdbcEnumType="-3"
javaClassName="byte[]"&gt;
    &lt;defaultValueTypes&gt;NULL&lt;/defaultValueTypes&gt;
    &lt;name&gt;VARBINARY&lt;/name&gt;
  &lt;/predefinedDataTypeDefinitions&gt;
Fix applied on July 19th, 2005.
These issues have been fixed.
Verified fixed.</WithStack>
    <WithOutStack>The binary types for SQL server according to the msdn documentation support up
to legnth of 8000 bytes as opposed to 510 bits which is currently specified in
the SQL Server_2000.xmi document.

http://msdn.microsoft.com/library/en-us/tsqlref/ts_ba-bz_75yx.asp?frame=true

"binary [ ( n ) ]

Fixed-length binary data of n bytes. n must be a value from 1 through 8,000.
Storage size is n+4 bytes."

"varbinary [ ( n ) ]

Variable-length binary data of n bytes. n must be a value from 1 through 8,000."

Current WTP implementation shows as follows:

  &lt;predefinedDataTypeDefinitions xmi:id="BINARY_1" lengthSupported="true"
lengthUnit="BIT" multipleColumnsSupported="true" maximumLength="510"
primitiveType="BINARY" jdbcEnumType="-2" javaClassName="byte[]"&gt;
    &lt;defaultValueTypes&gt;NULL&lt;/defaultValueTypes&gt;
    &lt;name&gt;BINARY&lt;/name&gt;
  &lt;/predefinedDataTypeDefinitions&gt;
  &lt;predefinedDataTypeDefinitions xmi:id="BINARY_VARYING_1"
lengthSupported="true" lengthUnit="BIT" multipleColumnsSupported="true"
maximumLength="510" primitiveType="BINARY_VARYING" jdbcEnumType="-3"
javaClassName="byte[]"&gt;
    &lt;defaultValueTypes&gt;NULL&lt;/defaultValueTypes&gt;
    &lt;name&gt;VARBINARY&lt;/name&gt;
  &lt;/predefinedDataTypeDefinitions&gt;
Fix applied on July 19th, 2005.
These issues have been fixed.
Verified fixed.</WithOutStack>
  </Bug>
  <Bug>
    <BugId amount="104077" />
    <CreationDate amount="2005-07-15 14:58:00 -0400" />
    <DupId amount="" />
    <classification amount="WebTools" />
    <Product amount="WTP Java EE Tools" />
    <component amount="jst.j2ee" />
    <Version amount="0.7" />
    <rep_platform amount="PC" />
    <op_sys amount="Windows XP" />
    <priority amount="P3" />
    <bug_severity amount="normal" />
    <Summery>Workbench Component docs on eclipse.org are out of date</Summery>
    <Patches amount="0" />
    <Stacktraces amount="0" />
    <SourceCodeRegions amount="0" />
    <Enumerations amount="0" />
    <bug_status amount="CLOSED" />
    <resolution amount="FIXED" />
    <WithStack>All of our information under the J2EE component on eclipse org for workbench
components, component core, artifact edits is out of date.  We need to update
these docs and diagrams.  They still reference modules and modulecore.
This work will be done the week of July 25th
Changes committed last week
OK</WithStack>
    <WithOutStack>All of our information under the J2EE component on eclipse org for workbench
components, component core, artifact edits is out of date.  We need to update
these docs and diagrams.  They still reference modules and modulecore.
This work will be done the week of July 25th
Changes committed last week
OK</WithOutStack>
  </Bug>
  <Bug>
    <BugId amount="104078" />
    <CreationDate amount="2005-07-15 15:00:00 -0400" />
    <DupId amount="" />
    <classification amount="Eclipse" />
    <Product amount="Platform" />
    <component amount="UI" />
    <Version amount="3.2" />
    <rep_platform amount="PC" />
    <op_sys amount="Windows XP" />
    <priority amount="P3" />
    <bug_severity amount="normal" />
    <Summery>[CommonNavigator] Double click on expanded item should not collapse it</Summery>
    <Patches amount="0" />
    <Stacktraces amount="0" />
    <SourceCodeRegions amount="0" />
    <Enumerations amount="0" />
    <bug_status amount="CLOSED" />
    <resolution amount="WONTFIX" />
    <WithStack>When you double click on a non-expanded item in the prject explorer, it expands
and opens the file.  If the object is already expanded, we should not collapse
it, we should just open the editor, or perform whatever other action.
Moving to Platform for tracking in the Common Navigator for Platform 3.2
*** Bug 86007 has been marked as a duplicate of this bug. ***
Note that this behaviour would be inconsistent with the (old) Navigator, Package
Explorer and other views in the Platform.  Why should the Common Navigator be
different?


I agree with Nick. Closing this defect as WONTFIX.
OK</WithStack>
    <WithOutStack>When you double click on a non-expanded item in the prject explorer, it expands
and opens the file.  If the object is already expanded, we should not collapse
it, we should just open the editor, or perform whatever other action.
Moving to Platform for tracking in the Common Navigator for Platform 3.2
*** Bug 86007 has been marked as a duplicate of this bug. ***
Note that this behaviour would be inconsistent with the (old) Navigator, Package
Explorer and other views in the Platform.  Why should the Common Navigator be
different?


I agree with Nick. Closing this defect as WONTFIX.
OK</WithOutStack>
  </Bug>
  <Bug>
    <BugId amount="104079" />
    <CreationDate amount="2005-07-15 15:03:00 -0400" />
    <DupId amount="" />
    <classification amount="WebTools" />
    <Product amount="Web Tools" />
    <component amount="Web Standard Tools" />
    <Version amount="0.7" />
    <rep_platform amount="PC" />
    <op_sys amount="Windows XP" />
    <priority amount="P3" />
    <bug_severity amount="normal" />
    <Summery>TVT: all WTP feature names are not externalized</Summery>
    <Patches amount="0" />
    <Stacktraces amount="0" />
    <SourceCodeRegions amount="0" />
    <Enumerations amount="0" />
    <bug_status amount="CLOSED" />
    <resolution amount="FIXED" />
    <WithStack>All the feature labels for WTP and the included features are not externalized. 
Here is an example from the feature.xml in org.eclipse.jst_0.7.0:

&lt;feature
      id="org.eclipse.jst"
      label="J2EE Standard Tools Feature"
      version="0.7.0"
      provider-name="%providerName"&gt;

FYI, these feature names show up in Help&gt;Software Updates&gt;Manage Configuration
Reassinging bug to wst-inbox@eclipse.org.
Fixed.
closing old bug</WithStack>
    <WithOutStack>All the feature labels for WTP and the included features are not externalized. 
Here is an example from the feature.xml in org.eclipse.jst_0.7.0:

&lt;feature
      id="org.eclipse.jst"
      label="J2EE Standard Tools Feature"
      version="0.7.0"
      provider-name="%providerName"&gt;

FYI, these feature names show up in Help&gt;Software Updates&gt;Manage Configuration
Reassinging bug to wst-inbox@eclipse.org.
Fixed.
closing old bug</WithOutStack>
  </Bug>
  <Bug>
    <BugId amount="104080" />
    <CreationDate amount="2005-07-15 15:05:00 -0400" />
    <DupId amount="" />
    <classification amount="Eclipse" />
    <Product amount="JDT" />
    <component amount="APT" />
    <Version amount="3.1" />
    <rep_platform amount="PC" />
    <op_sys amount="Windows XP" />
    <priority amount="P3" />
    <bug_severity amount="normal" />
    <Summery>refactor test annotation processors</Summery>
    <Patches amount="0" />
    <Stacktraces amount="0" />
    <SourceCodeRegions amount="0" />
    <Enumerations amount="0" />
    <bug_status amount="VERIFIED" />
    <resolution amount="FIXED" />
    <WithStack>There's a lot of duplicated code in the test annotation processors (in 
apt.test).  We should refactor this into a simple set of base classes, to keep 
it from proliferating.
Updated processors and factories to have common base classes, and moved static
behavior into a utility class.</WithStack>
    <WithOutStack>There's a lot of duplicated code in the test annotation processors (in 
apt.test).  We should refactor this into a simple set of base classes, to keep 
it from proliferating.
Updated processors and factories to have common base classes, and moved static
behavior into a utility class.</WithOutStack>
  </Bug>
  <Bug>
    <BugId amount="104081" />
    <CreationDate amount="2005-07-15 15:10:00 -0400" />
    <DupId amount="" />
    <classification amount="Tools" />
    <Product amount="AspectJ" />
    <component amount="Compiler" />
    <Version amount="DEVELOPMENT" />
    <rep_platform amount="All" />
    <op_sys amount="All" />
    <priority amount="P3" />
    <bug_severity amount="normal" />
    <Summery>LTW errors when weaving with JMX remote proxies</Summery>
    <Patches amount="0" />
    <Stacktraces amount="3">
      <Stacktrace timestamp="1437330556616">
        <Exception>java.lang.ClassCastException</Exception>
        <Reason>org.aspectj.weaver.ResolvedTypeX$Missing</Reason>
        <Frames>
          <Frame depth="0">org.aspectj.weaver.bcel.BcelWorld.addSourceObjectType(BcelWorld.java:273)</Frame>
          <Frame depth="1">org.aspectj.weaver.tools.WeavingAdaptor$WeavingClassFileProvider.&lt;init&gt;(WeavingAdaptor.java:353)</Frame>
          <Frame depth="2">org.aspectj.weaver.tools.WeavingAdaptor.getWovenBytes(WeavingAdaptor.java:227)</Frame>
          <Frame depth="3">org.aspectj.weaver.tools.WeavingAdaptor.weaveClass(WeavingAdaptor.java:178)</Frame>
          <Frame depth="4">org.aspectj.weaver.loadtime.Aj.preProcess(Aj.java:55)</Frame>
          <Frame depth="5">org.aspectj.weaver.loadtime.ClassPreProcessorAgentAdapter.transform(ClassPreProcessorAgentAdapter.java:52)</Frame>
          <Frame depth="6">sun.instrument.TransformerManager.transform(Unknown Source)</Frame>
          <Frame depth="7">sun.instrument.InstrumentationImpl.transform(Unknown Source)</Frame>
          <Frame depth="8">java.lang.ClassLoader.defineClass1(Native Method)</Frame>
          <Frame depth="9">java.lang.ClassLoader.defineClass(Unknown Source)</Frame>
          <Frame depth="10">javax.management.remote.rmi.NoCallStackClassLoader.findClass(Unknown Source)</Frame>
          <Frame depth="11">java.lang.ClassLoader.loadClass(Unknown Source)</Frame>
          <Frame depth="12">java.lang.ClassLoader.loadClass(Unknown Source)</Frame>
          <Frame depth="13">javax.management.remote.rmi.RMIConnector$1.run(Unknown Source)</Frame>
          <Frame depth="14">java.security.AccessController.doPrivileged(Native Method)</Frame>
          <Frame depth="15">javax.management.remote.rmi.RMIConnector.&lt;clinit&gt;(Unknown Source)</Frame>
          <Frame depth="16">javax.management.remote.rmi.RMIConnectorServer.objectToBind(Unknown Source)</Frame>
          <Frame depth="17">javax.management.remote.rmi.RMIConnectorServer.start(Unknown Source)</Frame>
          <Frame depth="18">aspectPerfManage.config.SimpleConfig.doConfig(SimpleConfig.aj:40)</Frame>
          <Frame depth="19">aspectPerfManage.config.SimpleConfig.ajc$before$aspectPerfManage_config_SimpleConfig$1$81249c3e_aroundBody0(SimpleConfig.aj:64)</Frame>
          <Frame depth="20">aspectPerfManage.config.SimpleConfig$AjcClosure1.run(SimpleConfig.aj:1)</Frame>
          <Frame depth="21">aspectPerfManage.error.ErrorHandling.ajc$around$aspectPerfManage_error_ErrorHandling$1$ed5f19b0proceed(ErrorHandling.aj)</Frame>
          <Frame depth="22">aspectPerfManage.error.ErrorHandling.ajc$around$aspectPerfManage_error_ErrorHandling$1$ed5f19b0(ErrorHandling.aj:48)</Frame>
          <Frame depth="23">aspectPerfManage.config.SimpleConfig.ajc$before$aspectPerfManage_config_SimpleConfig$1$81249c3e(SimpleConfig.aj:1)</Frame>
          <Frame depth="24">servlets.BookStoreServlet.&lt;clinit&gt;(Unknown Source)</Frame>
          <Frame depth="25">sun.reflect.NativeConstructorAccessorImpl.newInstance0(Native Method)</Frame>
          <Frame depth="26">sun.reflect.NativeConstructorAccessorImpl.newInstance(Unknown Source)</Frame>
          <Frame depth="27">sun.reflect.DelegatingConstructorAccessorImpl.newInstance(Unknown Source)</Frame>
          <Frame depth="28">java.lang.reflect.Constructor.newInstance(Unknown Source)</Frame>
          <Frame depth="29">java.lang.Class.newInstance0(Unknown Source)</Frame>
          <Frame depth="30">java.lang.Class.newInstance(Unknown Source)</Frame>
          <Frame depth="31">org.apache.catalina.core.StandardWrapper.loadServlet(StandardWrapper.java:1048)</Frame>
          <Frame depth="32">org.apache.catalina.core.StandardWrapper.allocate(StandardWrapper.java:750)</Frame>
          <Frame depth="33">org.apache.catalina.core.StandardWrapperValve.invoke(StandardWrapperValve.java:130)</Frame>
          <Frame depth="34">org.apache.catalina.core.StandardContextValve.invoke(StandardContextValve.java:178)</Frame>
          <Frame depth="35">org.apache.catalina.core.StandardHostValve.invoke(StandardHostValve.java:126)</Frame>
          <Frame depth="36">org.apache.catalina.valves.ErrorReportValve.invoke(ErrorReportValve.java:105)</Frame>
          <Frame depth="37">org.apache.catalina.core.StandardEngineValve.invoke(StandardEngineValve.java:107)</Frame>
          <Frame depth="38">org.apache.catalina.connector.CoyoteAdapter.service(CoyoteAdapter.java:148)</Frame>
          <Frame depth="39">org.apache.coyote.http11.Http11Processor.process(Http11Processor.java:856)</Frame>
          <Frame depth="40">org.apache.coyote.http11.Http11Protocol$Http11ConnectionHandler.processConnection(Http11Protocol.java:744)</Frame>
          <Frame depth="41">org.apache.tomcat.util.net.PoolTcpEndpoint.processSocket(PoolTcpEndpoint.java:527)</Frame>
          <Frame depth="42">org.apache.tomcat.util.net.LeaderFollowerWorkerThread.runIt(LeaderFollowerWorkerThread.java:80)</Frame>
          <Frame depth="43">org.apache.tomcat.util.threads.ThreadPool$ControlRunnable.run(ThreadPool.java:684)</Frame>
        </Frames>
      </Stacktrace>
      <Stacktrace timestamp="1437330556616">
        <Exception>java.lang.ClassCastException</Exception>
        <Reason>org.aspectj.weaver.ResolvedTypeX$Missing</Reason>
        <Frames>
          <Frame depth="0">org.aspectj.weaver.bcel.BcelWorld.addSourceObjectType(BcelWorld.java:273)</Frame>
          <Frame depth="1">org.aspectj.weaver.tools.WeavingAdaptor$WeavingClassFileProvider.&lt;init&gt;(WeavingAdaptor.java:353)</Frame>
          <Frame depth="2">org.aspectj.weaver.tools.WeavingAdaptor.getWovenBytes(WeavingAdaptor.java:227)</Frame>
          <Frame depth="3">org.aspectj.weaver.tools.WeavingAdaptor.weaveClass(WeavingAdaptor.java:178)</Frame>
          <Frame depth="4">org.aspectj.weaver.loadtime.Aj.preProcess(Aj.java:55)</Frame>
          <Frame depth="5">org.aspectj.weaver.loadtime.ClassPreProcessorAgentAdapter.transform(ClassPreProcessorAgentAdapter.java:52)</Frame>
          <Frame depth="6">sun.instrument.TransformerManager.transform(Unknown Source)</Frame>
          <Frame depth="7">sun.instrument.InstrumentationImpl.transform(Unknown Source)</Frame>
          <Frame depth="8">java.lang.ClassLoader.defineClass1(Native Method)</Frame>
          <Frame depth="9">java.lang.ClassLoader.defineClass(Unknown Source)</Frame>
          <Frame depth="10">javax.management.remote.rmi.NoCallStackClassLoader.findClass(Unknown Source)</Frame>
          <Frame depth="11">java.lang.ClassLoader.loadClass(Unknown Source)</Frame>
          <Frame depth="12">java.lang.ClassLoader.loadClass(Unknown Source)</Frame>
          <Frame depth="13">javax.management.remote.rmi.RMIConnector$2.run(Unknown Source)</Frame>
          <Frame depth="14">java.security.AccessController.doPrivileged(Native Method)</Frame>
          <Frame depth="15">javax.management.remote.rmi.RMIConnector.&lt;clinit&gt;(Unknown Source)</Frame>
          <Frame depth="16">javax.management.remote.rmi.RMIConnectorServer.objectToBind(Unknown Source)</Frame>
          <Frame depth="17">javax.management.remote.rmi.RMIConnectorServer.start(Unknown Source)</Frame>
          <Frame depth="18">aspectPerfManage.config.SimpleConfig.doConfig(SimpleConfig.aj:40)</Frame>
          <Frame depth="19">aspectPerfManage.config.SimpleConfig.ajc$before$aspectPerfManage_config_SimpleConfig$1$81249c3e_aroundBody0(SimpleConfig.aj:64)</Frame>
          <Frame depth="20">aspectPerfManage.config.SimpleConfig$AjcClosure1.run(SimpleConfig.aj:1)</Frame>
          <Frame depth="21">aspectPerfManage.error.ErrorHandling.ajc$around$aspectPerfManage_error_ErrorHandling$1$ed5f19b0proceed(ErrorHandling.aj)</Frame>
          <Frame depth="22">aspectPerfManage.error.ErrorHandling.ajc$around$aspectPerfManage_error_ErrorHandling$1$ed5f19b0(ErrorHandling.aj:48)</Frame>
          <Frame depth="23">aspectPerfManage.config.SimpleConfig.ajc$before$aspectPerfManage_config_SimpleConfig$1$81249c3e(SimpleConfig.aj:1)</Frame>
          <Frame depth="24">servlets.BookStoreServlet.&lt;clinit&gt;(Unknown Source)</Frame>
          <Frame depth="25">sun.reflect.NativeConstructorAccessorImpl.newInstance0(Native Method)</Frame>
          <Frame depth="26">sun.reflect.NativeConstructorAccessorImpl.newInstance(Unknown Source)</Frame>
          <Frame depth="27">sun.reflect.DelegatingConstructorAccessorImpl.newInstance(Unknown Source)</Frame>
          <Frame depth="28">java.lang.reflect.Constructor.newInstance(Unknown Source)</Frame>
          <Frame depth="29">java.lang.Class.newInstance0(Unknown Source)</Frame>
          <Frame depth="30">java.lang.Class.newInstance(Unknown Source)</Frame>
          <Frame depth="31">org.apache.catalina.core.StandardWrapper.loadServlet(StandardWrapper.java:1048)</Frame>
          <Frame depth="32">org.apache.catalina.core.StandardWrapper.allocate(StandardWrapper.java:750)</Frame>
          <Frame depth="33">org.apache.catalina.core.StandardWrapperValve.invoke(StandardWrapperValve.java:130)</Frame>
          <Frame depth="34">org.apache.catalina.core.StandardContextValve.invoke(StandardContextValve.java:178)</Frame>
          <Frame depth="35">org.apache.catalina.core.StandardHostValve.invoke(StandardHostValve.java:126)</Frame>
          <Frame depth="36">org.apache.catalina.valves.ErrorReportValve.invoke(ErrorReportValve.java:105)</Frame>
          <Frame depth="37">org.apache.catalina.core.StandardEngineValve.invoke(StandardEngineValve.java:107)</Frame>
          <Frame depth="38">org.apache.catalina.connector.CoyoteAdapter.service(CoyoteAdapter.java:148)</Frame>
          <Frame depth="39">org.apache.coyote.http11.Http11Processor.process(Http11Processor.java:856)</Frame>
          <Frame depth="40">org.apache.coyote.http11.Http11Protocol$Http11ConnectionHandler.processConnection(Http11Protocol.java:744)</Frame>
          <Frame depth="41">org.apache.tomcat.util.net.PoolTcpEndpoint.processSocket(PoolTcpEndpoint.java:527)</Frame>
          <Frame depth="42">org.apache.tomcat.util.net.LeaderFollowerWorkerThread.runIt(LeaderFollowerWorkerThread.java:80)</Frame>
          <Frame depth="43">org.apache.tomcat.util.threads.ThreadPool$ControlRunnable.run(ThreadPool.java:684)</Frame>
        </Frames>
      </Stacktrace>
      <Stacktrace timestamp="1437330556616">
        <Exception>java.lang.ClassCastException</Exception>
        <Reason>org.aspectj.weaver.ResolvedTypeX$Missing</Reason>
        <Frames>
          <Frame depth="0">org.aspectj.weaver.bcel.BcelWorld.addSourceObjectType(BcelWorld.java:273)</Frame>
          <Frame depth="1">org.aspectj.weaver.tools.WeavingAdaptor$WeavingClassFileProvider.&lt;init&gt;(WeavingAdaptor.java:353)</Frame>
          <Frame depth="2">org.aspectj.weaver.tools.WeavingAdaptor.getWovenBytes(WeavingAdaptor.java:227)</Frame>
          <Frame depth="3">org.aspectj.weaver.tools.WeavingAdaptor.weaveClass(WeavingAdaptor.java:178)</Frame>
          <Frame depth="4">org.aspectj.weaver.loadtime.Aj.preProcess(Aj.java:55)</Frame>
          <Frame depth="5">org.aspectj.weaver.loadtime.ClassPreProcessorAgentAdapter.transform(ClassPreProcessorAgentAdapter.java:52)</Frame>
          <Frame depth="6">sun.instrument.TransformerManager.transform(Unknown Source)</Frame>
          <Frame depth="7">sun.instrument.InstrumentationImpl.transform(Unknown Source)</Frame>
          <Frame depth="8">java.lang.ClassLoader.defineClass1(Native Method)</Frame>
          <Frame depth="9">java.lang.ClassLoader.defineClass(Unknown Source)</Frame>
          <Frame depth="10">javax.management.remote.rmi.NoCallStackClassLoader.findClass(Unknown Source)</Frame>
          <Frame depth="11">java.lang.ClassLoader.loadClass(Unknown Source)</Frame>
          <Frame depth="12">java.lang.ClassLoader.loadClass(Unknown Source)</Frame>
          <Frame depth="13">javax.management.remote.rmi.RMIConnector$2.run(Unknown Source)</Frame>
          <Frame depth="14">java.security.AccessController.doPrivileged(Native Method)</Frame>
          <Frame depth="15">javax.management.remote.rmi.RMIConnector.&lt;clinit&gt;(Unknown Source)</Frame>
          <Frame depth="16">javax.management.remote.rmi.RMIConnectorServer.objectToBind(Unknown Source)</Frame>
          <Frame depth="17">javax.management.remote.rmi.RMIConnectorServer.start(Unknown Source)</Frame>
          <Frame depth="18">aspectPerfManage.config.SimpleConfig.doConfig(SimpleConfig.aj:40)</Frame>
          <Frame depth="19">aspectPerfManage.config.SimpleConfig.ajc$before$aspectPerfManage_config_SimpleConfig$1$81249c3e_aroundBody0(SimpleConfig.aj:64)</Frame>
          <Frame depth="20">aspectPerfManage.config.SimpleConfig$AjcClosure1.run(SimpleConfig.aj:1)</Frame>
          <Frame depth="21">aspectPerfManage.error.ErrorHandling.ajc$around$aspectPerfManage_error_ErrorHandling$1$ed5f19b0proceed(ErrorHandling.aj)</Frame>
          <Frame depth="22">aspectPerfManage.error.ErrorHandling.ajc$around$aspectPerfManage_error_ErrorHandling$1$ed5f19b0(ErrorHandling.aj:48)</Frame>
          <Frame depth="23">aspectPerfManage.config.SimpleConfig.ajc$before$aspectPerfManage_config_SimpleConfig$1$81249c3e(SimpleConfig.aj:1)</Frame>
          <Frame depth="24">servlets.BookStoreServlet.&lt;clinit&gt;(Unknown Source)</Frame>
          <Frame depth="25">sun.reflect.NativeConstructorAccessorImpl.newInstance0(Native Method)</Frame>
          <Frame depth="26">sun.reflect.NativeConstructorAccessorImpl.newInstance(Unknown Source)</Frame>
          <Frame depth="27">sun.reflect.DelegatingConstructorAccessorImpl.newInstance(Unknown Source)</Frame>
          <Frame depth="28">java.lang.reflect.Constructor.newInstance(Unknown Source)</Frame>
          <Frame depth="29">java.lang.Class.newInstance0(Unknown Source)</Frame>
          <Frame depth="30">java.lang.Class.newInstance(Unknown Source)</Frame>
          <Frame depth="31">org.apache.catalina.core.StandardWrapper.loadServlet(StandardWrapper.java:1048)</Frame>
          <Frame depth="32">org.apache.catalina.core.StandardWrapper.allocate(StandardWrapper.java:750)</Frame>
          <Frame depth="33">org.apache.catalina.core.StandardWrapperValve.invoke(StandardWrapperValve.java:130)</Frame>
          <Frame depth="34">org.apache.catalina.core.StandardContextValve.invoke(StandardContextValve.java:178)</Frame>
          <Frame depth="35">org.apache.catalina.core.StandardHostValve.invoke(StandardHostValve.java:126)</Frame>
          <Frame depth="36">org.apache.catalina.valves.ErrorReportValve.invoke(ErrorReportValve.java:105)</Frame>
          <Frame depth="37">org.apache.catalina.core.StandardEngineValve.invoke(StandardEngineValve.java:107)</Frame>
          <Frame depth="38">org.apache.catalina.connector.CoyoteAdapter.service(CoyoteAdapter.java:148)</Frame>
          <Frame depth="39">org.apache.coyote.http11.Http11Processor.process(Http11Processor.java:856)</Frame>
          <Frame depth="40">org.apache.coyote.http11.Http11Protocol$Http11ConnectionHandler.processConnection(Http11Protocol.java:744)</Frame>
          <Frame depth="41">org.apache.tomcat.util.net.PoolTcpEndpoint.processSocket(PoolTcpEndpoint.java:527)</Frame>
          <Frame depth="42">org.apache.tomcat.util.net.LeaderFollowerWorkerThread.runIt(LeaderFollowerWorkerThread.java:80)</Frame>
          <Frame depth="43">org.apache.tomcat.util.threads.ThreadPool$ControlRunnable.run(ThreadPool.java:684)</Frame>
        </Frames>
      </Stacktrace>
    </Stacktraces>
    <SourceCodeRegions amount="2">
      <source_code type="functioncall">
        <location start="446" end="503" />
        <code>("service:jmx:rmi:///jndi/rmi://localhost:7132/perfmon");</code>
      </source_code>
      <source_code type="functioncall">
        <location start="551" end="618" />
        <code>JMXConnectorServerFactory.newJMXConnectorServer(url, null, server);</code>
      </source_code>
    </SourceCodeRegions>
    <Enumerations amount="0" />
    <bug_status amount="RESOLVED" />
    <resolution amount="FIXED" />
    <WithStack>When I try to start up a JMX connector server with load-time weaving enabled I 
get these error messages for what look like proxies. This happens on JRockIT 
1.5.0_02 and also on the Sun 1.5.0_02 VM. I think the easiest thing would be to 
put them on the not woven list in WeavingAdaptor (see patch).

Here is sample code that generates the problem with LTW enabled in the web app 
using it:
       
        JMXServiceURL url = new JMXServiceURL
("service:jmx:rmi:///jndi/rmi://localhost:7132/perfmon");

        JMXConnectorServer connectorServer = 
JMXConnectorServerFactory.newJMXConnectorServer(url, null, server);
        connectorServer.start(); // error happens here

Stack Traces:
error can't find type com.sun.jmx.remote.internal.PRef
java.lang.ClassCastException: org.aspectj.weaver.ResolvedTypeX$Missing
	at org.aspectj.weaver.bcel.BcelWorld.addSourceObjectType
(BcelWorld.java:273)
	at 
org.aspectj.weaver.tools.WeavingAdaptor$WeavingClassFileProvider.&lt;init&gt;
(WeavingAdaptor.java:353)
	at org.aspectj.weaver.tools.WeavingAdaptor.getWovenBytes
(WeavingAdaptor.java:227)
	at org.aspectj.weaver.tools.WeavingAdaptor.weaveClass
(WeavingAdaptor.java:178)
	at org.aspectj.weaver.loadtime.Aj.preProcess(Aj.java:55)
	at org.aspectj.weaver.loadtime.ClassPreProcessorAgentAdapter.transform
(ClassPreProcessorAgentAdapter.java:52)
	at sun.instrument.TransformerManager.transform(Unknown Source)
	at sun.instrument.InstrumentationImpl.transform(Unknown Source)
	at java.lang.ClassLoader.defineClass1(Native Method)
	at java.lang.ClassLoader.defineClass(Unknown Source)
	at javax.management.remote.rmi.NoCallStackClassLoader.findClass(Unknown 
Source)
	at java.lang.ClassLoader.loadClass(Unknown Source)
	at java.lang.ClassLoader.loadClass(Unknown Source)
	at javax.management.remote.rmi.RMIConnector$1.run(Unknown Source)
	at java.security.AccessController.doPrivileged(Native Method)
	at javax.management.remote.rmi.RMIConnector.&lt;clinit&gt;(Unknown Source)
	at javax.management.remote.rmi.RMIConnectorServer.objectToBind(Unknown 
Source)
	at javax.management.remote.rmi.RMIConnectorServer.start(Unknown Source)
	at aspectPerfManage.config.SimpleConfig.doConfig(SimpleConfig.aj:40)
	at 
aspectPerfManage.config.SimpleConfig.ajc$before$aspectPerfManage_config_SimpleCo
nfig$1$81249c3e_aroundBody0(SimpleConfig.aj:64)
	at aspectPerfManage.config.SimpleConfig$AjcClosure1.run
(SimpleConfig.aj:1)
	at 
aspectPerfManage.error.ErrorHandling.ajc$around$aspectPerfManage_error_ErrorHand
ling$1$ed5f19b0proceed(ErrorHandling.aj)
	at 
aspectPerfManage.error.ErrorHandling.ajc$around$aspectPerfManage_error_ErrorHand
ling$1$ed5f19b0(ErrorHandling.aj:48)
	at 
aspectPerfManage.config.SimpleConfig.ajc$before$aspectPerfManage_config_SimpleCo
nfig$1$81249c3e(SimpleConfig.aj:1)
	at servlets.BookStoreServlet.&lt;clinit&gt;(Unknown Source)
	at sun.reflect.NativeConstructorAccessorImpl.newInstance0(Native Method)
	at sun.reflect.NativeConstructorAccessorImpl.newInstance(Unknown Source)
	at sun.reflect.DelegatingConstructorAccessorImpl.newInstance(Unknown 
Source)
	at java.lang.reflect.Constructor.newInstance(Unknown Source)
	at java.lang.Class.newInstance0(Unknown Source)
	at java.lang.Class.newInstance(Unknown Source)
	at org.apache.catalina.core.StandardWrapper.loadServlet
(StandardWrapper.java:1048)
	at org.apache.catalina.core.StandardWrapper.allocate
(StandardWrapper.java:750)
	at org.apache.catalina.core.StandardWrapperValve.invoke
(StandardWrapperValve.java:130)
	at org.apache.catalina.core.StandardContextValve.invoke
(StandardContextValve.java:178)
	at org.apache.catalina.core.StandardHostValve.invoke
(StandardHostValve.java:126)
	at org.apache.catalina.valves.ErrorReportValve.invoke
(ErrorReportValve.java:105)
	at org.apache.catalina.core.StandardEngineValve.invoke
(StandardEngineValve.java:107)
	at org.apache.catalina.connector.CoyoteAdapter.service
(CoyoteAdapter.java:148)
	at org.apache.coyote.http11.Http11Processor.process
(Http11Processor.java:856)
	at 
org.apache.coyote.http11.Http11Protocol$Http11ConnectionHandler.processConnectio
n(Http11Protocol.java:744)
	at org.apache.tomcat.util.net.PoolTcpEndpoint.processSocket
(PoolTcpEndpoint.java:527)
	at org.apache.tomcat.util.net.LeaderFollowerWorkerThread.runIt
(LeaderFollowerWorkerThread.java:80)
	at org.apache.tomcat.util.threads.ThreadPool$ControlRunnable.run
(ThreadPool.java:684)
	at java.lang.Thread.run(Unknown Source)
error can't find type com.sun.jmx.remote.internal.ProxyStub
java.lang.ClassCastException: org.aspectj.weaver.ResolvedTypeX$Missing
	at org.aspectj.weaver.bcel.BcelWorld.addSourceObjectType
(BcelWorld.java:273)
	at 
org.aspectj.weaver.tools.WeavingAdaptor$WeavingClassFileProvider.&lt;init&gt;
(WeavingAdaptor.java:353)
	at org.aspectj.weaver.tools.WeavingAdaptor.getWovenBytes
(WeavingAdaptor.java:227)
	at org.aspectj.weaver.tools.WeavingAdaptor.weaveClass
(WeavingAdaptor.java:178)
	at org.aspectj.weaver.loadtime.Aj.preProcess(Aj.java:55)
	at org.aspectj.weaver.loadtime.ClassPreProcessorAgentAdapter.transform
(ClassPreProcessorAgentAdapter.java:52)
	at sun.instrument.TransformerManager.transform(Unknown Source)
	at sun.instrument.InstrumentationImpl.transform(Unknown Source)
	at java.lang.ClassLoader.defineClass1(Native Method)
	at java.lang.ClassLoader.defineClass(Unknown Source)
	at javax.management.remote.rmi.NoCallStackClassLoader.findClass(Unknown 
Source)
	at java.lang.ClassLoader.loadClass(Unknown Source)
	at java.lang.ClassLoader.loadClass(Unknown Source)
	at javax.management.remote.rmi.RMIConnector$2.run(Unknown Source)
	at java.security.AccessController.doPrivileged(Native Method)
	at javax.management.remote.rmi.RMIConnector.&lt;clinit&gt;(Unknown Source)
	at javax.management.remote.rmi.RMIConnectorServer.objectToBind(Unknown 
Source)
	at javax.management.remote.rmi.RMIConnectorServer.start(Unknown Source)
	at aspectPerfManage.config.SimpleConfig.doConfig(SimpleConfig.aj:40)
	at 
aspectPerfManage.config.SimpleConfig.ajc$before$aspectPerfManage_config_SimpleCo
nfig$1$81249c3e_aroundBody0(SimpleConfig.aj:64)
	at aspectPerfManage.config.SimpleConfig$AjcClosure1.run
(SimpleConfig.aj:1)
	at 
aspectPerfManage.error.ErrorHandling.ajc$around$aspectPerfManage_error_ErrorHand
ling$1$ed5f19b0proceed(ErrorHandling.aj)
	at 
aspectPerfManage.error.ErrorHandling.ajc$around$aspectPerfManage_error_ErrorHand
ling$1$ed5f19b0(ErrorHandling.aj:48)
	at 
aspectPerfManage.config.SimpleConfig.ajc$before$aspectPerfManage_config_SimpleCo
nfig$1$81249c3e(SimpleConfig.aj:1)
	at servlets.BookStoreServlet.&lt;clinit&gt;(Unknown Source)
	at sun.reflect.NativeConstructorAccessorImpl.newInstance0(Native Method)
	at sun.reflect.NativeConstructorAccessorImpl.newInstance(Unknown Source)
	at sun.reflect.DelegatingConstructorAccessorImpl.newInstance(Unknown 
Source)
	at java.lang.reflect.Constructor.newInstance(Unknown Source)
	at java.lang.Class.newInstance0(Unknown Source)
	at java.lang.Class.newInstance(Unknown Source)
	at org.apache.catalina.core.StandardWrapper.loadServlet
(StandardWrapper.java:1048)
	at org.apache.catalina.core.StandardWrapper.allocate
(StandardWrapper.java:750)
	at org.apache.catalina.core.StandardWrapperValve.invoke
(StandardWrapperValve.java:130)
	at org.apache.catalina.core.StandardContextValve.invoke
(StandardContextValve.java:178)
	at org.apache.catalina.core.StandardHostValve.invoke
(StandardHostValve.java:126)
	at org.apache.catalina.valves.ErrorReportValve.invoke
(ErrorReportValve.java:105)
	at org.apache.catalina.core.StandardEngineValve.invoke
(StandardEngineValve.java:107)
	at org.apache.catalina.connector.CoyoteAdapter.service
(CoyoteAdapter.java:148)
	at org.apache.coyote.http11.Http11Processor.process
(Http11Processor.java:856)
	at 
org.apache.coyote.http11.Http11Protocol$Http11ConnectionHandler.processConnectio
n(Http11Protocol.java:744)
	at org.apache.tomcat.util.net.PoolTcpEndpoint.processSocket
(PoolTcpEndpoint.java:527)
	at org.apache.tomcat.util.net.LeaderFollowerWorkerThread.runIt
(LeaderFollowerWorkerThread.java:80)
	at org.apache.tomcat.util.threads.ThreadPool$ControlRunnable.run
(ThreadPool.java:684)
	at java.lang.Thread.run(Unknown Source)
error can't find type com.sun.jmx.remote.internal.ProxyStub
java.lang.ClassCastException: org.aspectj.weaver.ResolvedTypeX$Missing
	at org.aspectj.weaver.bcel.BcelWorld.addSourceObjectType
(BcelWorld.java:273)
	at 
org.aspectj.weaver.tools.WeavingAdaptor$WeavingClassFileProvider.&lt;init&gt;
(WeavingAdaptor.java:353)
	at org.aspectj.weaver.tools.WeavingAdaptor.getWovenBytes
(WeavingAdaptor.java:227)
	at org.aspectj.weaver.tools.WeavingAdaptor.weaveClass
(WeavingAdaptor.java:178)
	at org.aspectj.weaver.loadtime.Aj.preProcess(Aj.java:55)
	at org.aspectj.weaver.loadtime.ClassPreProcessorAgentAdapter.transform
(ClassPreProcessorAgentAdapter.java:52)
	at sun.instrument.TransformerManager.transform(Unknown Source)
	at sun.instrument.InstrumentationImpl.transform(Unknown Source)
	at java.lang.ClassLoader.defineClass1(Native Method)
	at java.lang.ClassLoader.defineClass(Unknown Source)
	at javax.management.remote.rmi.NoCallStackClassLoader.findClass(Unknown 
Source)
	at java.lang.ClassLoader.loadClass(Unknown Source)
	at java.lang.ClassLoader.loadClass(Unknown Source)
	at javax.management.remote.rmi.RMIConnector$2.run(Unknown Source)
	at java.security.AccessController.doPrivileged(Native Method)
	at javax.management.remote.rmi.RMIConnector.&lt;clinit&gt;(Unknown Source)
	at javax.management.remote.rmi.RMIConnectorServer.objectToBind(Unknown 
Source)
	at javax.management.remote.rmi.RMIConnectorServer.start(Unknown Source)
	at aspectPerfManage.config.SimpleConfig.doConfig(SimpleConfig.aj:40)
	at 
aspectPerfManage.config.SimpleConfig.ajc$before$aspectPerfManage_config_SimpleCo
nfig$1$81249c3e_aroundBody0(SimpleConfig.aj:64)
	at aspectPerfManage.config.SimpleConfig$AjcClosure1.run
(SimpleConfig.aj:1)
	at 
aspectPerfManage.error.ErrorHandling.ajc$around$aspectPerfManage_error_ErrorHand
ling$1$ed5f19b0proceed(ErrorHandling.aj)
	at 
aspectPerfManage.error.ErrorHandling.ajc$around$aspectPerfManage_error_ErrorHand
ling$1$ed5f19b0(ErrorHandling.aj:48)
	at 
aspectPerfManage.config.SimpleConfig.ajc$before$aspectPerfManage_config_SimpleCo
nfig$1$81249c3e(SimpleConfig.aj:1)
	at servlets.BookStoreServlet.&lt;clinit&gt;(Unknown Source)
	at sun.reflect.NativeConstructorAccessorImpl.newInstance0(Native Method)
	at sun.reflect.NativeConstructorAccessorImpl.newInstance(Unknown Source)
	at sun.reflect.DelegatingConstructorAccessorImpl.newInstance(Unknown 
Source)
	at java.lang.reflect.Constructor.newInstance(Unknown Source)
	at java.lang.Class.newInstance0(Unknown Source)
	at java.lang.Class.newInstance(Unknown Source)
	at org.apache.catalina.core.StandardWrapper.loadServlet
(StandardWrapper.java:1048)
	at org.apache.catalina.core.StandardWrapper.allocate
(StandardWrapper.java:750)
	at org.apache.catalina.core.StandardWrapperValve.invoke
(StandardWrapperValve.java:130)
	at org.apache.catalina.core.StandardContextValve.invoke
(StandardContextValve.java:178)
	at org.apache.catalina.core.StandardHostValve.invoke
(StandardHostValve.java:126)
	at org.apache.catalina.valves.ErrorReportValve.invoke
(ErrorReportValve.java:105)
	at org.apache.catalina.core.StandardEngineValve.invoke
(StandardEngineValve.java:107)
	at org.apache.catalina.connector.CoyoteAdapter.service
(CoyoteAdapter.java:148)
	at org.apache.coyote.http11.Http11Processor.process
(Http11Processor.java:856)
	at 
org.apache.coyote.http11.Http11Protocol$Http11ConnectionHandler.processConnectio
n(Http11Protocol.java:744)
	at org.apache.tomcat.util.net.PoolTcpEndpoint.processSocket
(PoolTcpEndpoint.java:527)
	at org.apache.tomcat.util.net.LeaderFollowerWorkerThread.runIt
(LeaderFollowerWorkerThread.java:80)
	at org.apache.tomcat.util.threads.ThreadPool$ControlRunnable.run
(ThreadPool.java:684)
	at java.lang.Thread.run(Unknown Source)
Created attachment 24860
adds the jmx remote internal package to the set that's excluded from weaving; since that also appears to include dynamic proxies
oops - I edited the wrong bug. Please ignore the last comment. It belongs to 
bug #104075.
Actually, it posted in the right place, so the last comment stands. I was 
confused by bugzilla showing me this bug after editing the other one. Sorry!

(In reply to comment #2)
&gt; oops - I edited the wrong bug. Please ignore the last comment. It belongs to 
&gt; bug #104075.


were u using -Daj5.def ?

I can now have it working thanks to a small fix. -Daj5.def was beeing assigned
to an odd jmx internal classloader without valid reasons.

Please confirm / infirm just for reference.
I 'll commit in some hours
committed
I am not using aj5.def; I am just using an aop.xml file and I see these errors.
can you give it another try with cvs head, and tell me if your aop.xml is in
system classpath or some deployed webapp instead.

I ll attach my sample here so that u can try it as well
cannot reproduce

please attach a test case / sample app that fails on cvs head

f.e.: log for attached app when -Daj.weaving.verbose=true
attached and shows correct loading of proxy things
Created attachment 25119
working sample app
should be fine based on sample
remind to fix when M3 ships
This seems to be working even for aop.xml files. I tried the CVS HEAD version in
one environment and it now looks like it is working without having to exclude a
number of, but still need to get another application working properly against
CVS HEAD to confirm that it's working for me.
was M3 remind
was M3 remind</WithStack>
    <WithOutStack>When I try to start up a JMX connector server with load-time weaving enabled I 
get these error messages for what look like proxies. This happens on JRockIT 
1.5.0_02 and also on the Sun 1.5.0_02 VM. I think the easiest thing would be to 
put them on the not woven list in WeavingAdaptor (see patch).

Here is sample code that generates the problem with LTW enabled in the web app 
using it:
       
        JMXServiceURL url = new JMXServiceURL
("service:jmx:rmi:///jndi/rmi://localhost:7132/perfmon");

        JMXConnectorServer connectorServer = 
JMXConnectorServerFactory.newJMXConnectorServer(url, null, server);
        connectorServer.start(); // error happens here

Stack Traces:
error can't find type com.sun.jmx.remote.internal.PRef
	at java.lang.Thread.run(Unknown Source)
error can't find type com.sun.jmx.remote.internal.ProxyStub
	at java.lang.Thread.run(Unknown Source)
error can't find type com.sun.jmx.remote.internal.ProxyStub

	at java.lang.Thread.run(Unknown Source)
Created attachment 24860
adds the jmx remote internal package to the set that's excluded from weaving; since that also appears to include dynamic proxies
oops - I edited the wrong bug. Please ignore the last comment. It belongs to 
bug #104075.
Actually, it posted in the right place, so the last comment stands. I was 
confused by bugzilla showing me this bug after editing the other one. Sorry!

(In reply to comment #2)
&gt; oops - I edited the wrong bug. Please ignore the last comment. It belongs to 
&gt; bug #104075.


were u using -Daj5.def ?

I can now have it working thanks to a small fix. -Daj5.def was beeing assigned
to an odd jmx internal classloader without valid reasons.

Please confirm / infirm just for reference.
I 'll commit in some hours
committed
I am not using aj5.def; I am just using an aop.xml file and I see these errors.
can you give it another try with cvs head, and tell me if your aop.xml is in
system classpath or some deployed webapp instead.

I ll attach my sample here so that u can try it as well
cannot reproduce

please attach a test case / sample app that fails on cvs head

f.e.: log for attached app when -Daj.weaving.verbose=true
attached and shows correct loading of proxy things
Created attachment 25119
working sample app
should be fine based on sample
remind to fix when M3 ships
This seems to be working even for aop.xml files. I tried the CVS HEAD version in
one environment and it now looks like it is working without having to exclude a
number of, but still need to get another application working properly against
CVS HEAD to confirm that it's working for me.
was M3 remind
was M3 remind</WithOutStack>
  </Bug>
  <Bug>
    <BugId amount="104082" />
    <CreationDate amount="2005-07-15 15:12:00 -0400" />
    <DupId amount="" />
    <classification amount="Eclipse" />
    <Product amount="JDT" />
    <component amount="Core" />
    <Version amount="3.1" />
    <rep_platform amount="PC" />
    <op_sys amount="Windows XP" />
    <priority amount="P3" />
    <bug_severity amount="critical" />
    <Summery>[1.5][compiler] 1.5 source code gets internal eclipse null pointer error</Summery>
    <Patches amount="0" />
    <Stacktraces amount="0" />
    <SourceCodeRegions amount="15">
      <source_code type="package">
        <location start="797" end="828" />
        <code>package com.mm.rs.jccs.ui.jccs;</code>
      </source_code>
      <source_code type="import">
        <location start="829" end="854" />
        <code>import com.mm.rs.jccs.*;</code>
      </source_code>
      <source_code type="import">
        <location start="855" end="882" />
        <code>import java.lang.reflect.*;</code>
      </source_code>
      <source_code type="functioncall">
        <location start="930" end="947" />
        <code>String getUid();</code>
      </source_code>
      <source_code type="functioncall">
        <location start="950" end="968" />
        <code>String getName();</code>
      </source_code>
      <source_code type="functioncall">
        <location start="971" end="996" />
        <code>String getDescription();</code>
      </source_code>
      <source_code type="assignment">
        <location start="1699" end="1724" />
        <code>model = argModel;</code>
      </source_code>
      <source_code type="assignment">
        <location start="1725" end="1752" />
        <code>parent = argParent;</code>
      </source_code>
      <source_code type="assignment">
        <location start="1753" end="1780" />
        <code>object = argObject;</code>
      </source_code>
      <source_code type="functioncall">
        <location start="2291" end="2306" />
        <code>ObjectType&gt;&gt;();</code>
      </source_code>
      <source_code type="assignment">
        <location start="2382" end="2430" />
        <code>ChildType next = argData.next();</code>
      </source_code>
      <source_code type="functioncall">
        <location start="2720" end="2791" />
        <code>output.add(constructor.newInstance(model, this, next));</code>
      </source_code>
      <source_code type="functioncall">
        <location start="2854" end="2886" />
        <code>x.printStackTrace();</code>
      </source_code>
      <source_code type="assignment">
        <location start="3091" end="3112" />
        <code>parent = argParent;</code>
      </source_code>
      <source_code type="class">
        <location start="3179" end="3296" />
        <code>public class X&lt;T, U&gt; {
	X&lt;? extends U, ?&gt; parent;

	public X(X&lt;? extends U, ?&gt; parent) {
		this.parent = parent;
	}
}</code>
      </source_code>
    </SourceCodeRegions>
    <Enumerations amount="0" />
    <bug_status amount="VERIFIED" />
    <resolution amount="FIXED" />
    <WithStack>We have a large 1.5 codebase and when we put it into the new version of eclipse 
we found that one class wouldn't compile.  The issue was an internal eclipse 
null pointer error and it just put the exception at the first line of one of 
our classes.  We were able to strip out all of the other classes and strip down 
the broken class and found that one complex method seemed to be the cause.  

This class compiles fine using suns 1.5.0_02-b09 compiler.  We've tested this 
on several diferent machines running eclipse 3.1 and we have eclipse set to 
compile as a 1.5 file.  

eclipse version
Version: 3.1.0
Build id: I20050627-1435


If you would like more information about this or a screen print of the error 
eclipse is giving please email me at jbienkowski@comcast.net

Here is the class:


package com.mm.rs.jccs.ui.jccs;

import com.mm.rs.jccs.*;
import java.lang.reflect.*;
import java.util.*; 

interface StoredObject {
	String getUid();
	
	String getName();
	
	String getDescription();
	
}

interface GraphDiagramNode //extends Comparable
{

}

public class JccsGraphDiagramNode
    &lt;ObjectType extends StoredObject,
     ParentType extends StoredObject&gt;
    implements GraphDiagramNode
{
    private final JccsGraphDiagramModel model;
    private final JccsGraphDiagramNode&lt;? extends ParentType, ?&gt; parent;
    private final ObjectType object;

    public class JccsGraphDiagramModel 
    {
    }
 
    public interface GraphDiagramModel
    {
       
    }
    
    public class Dependency
    {
     
    }
   
    public JccsGraphDiagramNode(
        JccsGraphDiagramModel argModel,
        JccsGraphDiagramNode&lt;? extends ParentType, ?&gt; argParent,
        ObjectType argObject)
    {
        model = argModel;
        parent = argParent;
        object = argObject;
    }

    protected
        &lt;ChildType extends StoredObject&gt;
        Collection&lt;? extends JccsGraphDiagramNode&lt;ChildType, ? super 
ObjectType&gt;&gt; createChildren(
            Iterator&lt;ChildType&gt; argData,
            Class&lt;? extends JccsGraphDiagramNode&lt;ChildType, ? super 
ObjectType&gt;&gt; argChildNodeClass,
        Class&lt;? extends StoredObject&gt; argInterface)
    {
        Collection&lt;JccsGraphDiagramNode&lt;ChildType, ? super ObjectType&gt;&gt; output
            = new LinkedList&lt;JccsGraphDiagramNode&lt;ChildType, ? super 
ObjectType&gt;&gt;();

        try
        {
            while (argData.hasNext())
            {
                ChildType next = argData.next();
                Constructor&lt;? extends JccsGraphDiagramNode&lt;ChildType, ? super 
ObjectType&gt;&gt;
                    constructor = argChildNodeClass.getConstructor(
                        JccsGraphDiagramModel.class,
                        getClass(),
                        argInterface);

                output.add(constructor.newInstance(model, this, next));
            }
        }
        catch (Exception x)
        {
            x.printStackTrace();
        }

        return output;
    }
}
NPE is likely a dup of bug 101456, which got addressed since 3.1 release.
However, on the code sample, I am still seeing a compile error being detected on
line:

		parent = argParent;

due to some type mismatch.
Simpler testcase for remaining issue:
public class X&lt;T, U&gt; {
	X&lt;? extends U, ?&gt; parent;

	public X(X&lt;? extends U, ?&gt; parent) {
		this.parent = parent;
	}
}
Unexpected error is: Type mismatch: cannot convert from X&lt;capture-of ? extends 
 U,capture-of ?&gt; to X&lt;? extends U,?&gt;
Issue comes from unneeded substitution from wildcard bound (U) during capture
mechanism, leading the supertype of 'capture-of ? extends U' to be 'capture-of
?' instead of 'U'.

Added GenericTypeTest#test782 &amp; test784.
Fixed
Verified for 3.2M1 (I20050808-2000)
Verified using M20050923-1430 for 3.1.1</WithStack>
    <WithOutStack>We have a large 1.5 codebase and when we put it into the new version of eclipse 
we found that one class wouldn't compile.  The issue was an internal eclipse 
null pointer error and it just put the exception at the first line of one of 
our classes.  We were able to strip out all of the other classes and strip down 
the broken class and found that one complex method seemed to be the cause.  

This class compiles fine using suns 1.5.0_02-b09 compiler.  We've tested this 
on several diferent machines running eclipse 3.1 and we have eclipse set to 
compile as a 1.5 file.  

eclipse version
Version: 3.1.0
Build id: I20050627-1435


If you would like more information about this or a screen print of the error 
eclipse is giving please email me at jbienkowski@comcast.net

Here is the class:


package com.mm.rs.jccs.ui.jccs;

import com.mm.rs.jccs.*;
import java.lang.reflect.*;
import java.util.*; 

interface StoredObject {
	String getUid();
	
	String getName();
	
	String getDescription();
	
}

interface GraphDiagramNode //extends Comparable
{

}

public class JccsGraphDiagramNode
    &lt;ObjectType extends StoredObject,
     ParentType extends StoredObject&gt;
    implements GraphDiagramNode
{
    private final JccsGraphDiagramModel model;
    private final JccsGraphDiagramNode&lt;? extends ParentType, ?&gt; parent;
    private final ObjectType object;

    public class JccsGraphDiagramModel 
    {
    }
 
    public interface GraphDiagramModel
    {
       
    }
    
    public class Dependency
    {
     
    }
   
    public JccsGraphDiagramNode(
        JccsGraphDiagramModel argModel,
        JccsGraphDiagramNode&lt;? extends ParentType, ?&gt; argParent,
        ObjectType argObject)
    {
        model = argModel;
        parent = argParent;
        object = argObject;
    }

    protected
        &lt;ChildType extends StoredObject&gt;
        Collection&lt;? extends JccsGraphDiagramNode&lt;ChildType, ? super 
ObjectType&gt;&gt; createChildren(
            Iterator&lt;ChildType&gt; argData,
            Class&lt;? extends JccsGraphDiagramNode&lt;ChildType, ? super 
ObjectType&gt;&gt; argChildNodeClass,
        Class&lt;? extends StoredObject&gt; argInterface)
    {
        Collection&lt;JccsGraphDiagramNode&lt;ChildType, ? super ObjectType&gt;&gt; output
            = new LinkedList&lt;JccsGraphDiagramNode&lt;ChildType, ? super 
ObjectType&gt;&gt;();

        try
        {
            while (argData.hasNext())
            {
                ChildType next = argData.next();
                Constructor&lt;? extends JccsGraphDiagramNode&lt;ChildType, ? super 
ObjectType&gt;&gt;
                    constructor = argChildNodeClass.getConstructor(
                        JccsGraphDiagramModel.class,
                        getClass(),
                        argInterface);

                output.add(constructor.newInstance(model, this, next));
            }
        }
        catch (Exception x)
        {
            x.printStackTrace();
        }

        return output;
    }
}
NPE is likely a dup of bug 101456, which got addressed since 3.1 release.
However, on the code sample, I am still seeing a compile error being detected on
line:

		parent = argParent;

due to some type mismatch.
Simpler testcase for remaining issue:
public class X&lt;T, U&gt; {
	X&lt;? extends U, ?&gt; parent;

	public X(X&lt;? extends U, ?&gt; parent) {
		this.parent = parent;
	}
}
Unexpected error is: Type mismatch: cannot convert from X&lt;capture-of ? extends 
 U,capture-of ?&gt; to X&lt;? extends U,?&gt;
Issue comes from unneeded substitution from wildcard bound (U) during capture
mechanism, leading the supertype of 'capture-of ? extends U' to be 'capture-of
?' instead of 'U'.

Added GenericTypeTest#test782 &amp; test784.
Fixed
Verified for 3.2M1 (I20050808-2000)
Verified using M20050923-1430 for 3.1.1</WithOutStack>
  </Bug>
  <Bug>
    <BugId amount="104083" />
    <CreationDate amount="2005-07-15 15:13:00 -0400" />
    <DupId amount="130144" />
    <classification amount="Tools" />
    <Product amount="TPTP Testing" />
    <component amount="Test.Execution.URLRunner" />
    <Version amount="4.0" />
    <rep_platform amount="PC" />
    <op_sys amount="Windows XP" />
    <priority amount="P3" />
    <bug_severity amount="normal" />
    <Summery>Failure to correctly process chunked HTTP response</Summery>
    <Patches amount="0" />
    <Stacktraces amount="0" />
    <SourceCodeRegions amount="0" />
    <Enumerations amount="1">
      <Enumeration lines="9">
        <Lines>
          <Line>1. Request the Duke's Bank home page, e.g. http://localhost:8080/bank/main</Line>
          <Line>2. Enter a valid Customer ID and Password (e.g. 200 and j2ee) and press Submit</Line>
          <Line>3. Click on the ATM link</Line>
          <Line>4. Select Deposit from the action dropdown; Enter an amount (e.g. 1000.00),</Line>
          <Line>press Submit</Line>
          <Line>5. Click again on the ATM link</Line>
          <Line>6. Select Withdraw from the action dropdown if not already selected and enter</Line>
          <Line>an amount (e.g. 100.00), press Submit</Line>
          <Line>7. Repeat steps 5 several times</Line>
        </Lines>
      </Enumeration>
    </Enumerations>
    <bug_status amount="CLOSED" />
    <resolution amount="DUPLICATE" />
    <WithStack>I began encountering test failures while executing a TPTP URL Test script that 
was recorded against the J2EE Duke's Bank example application running on JBoss 
4.0.  Tests were failing with the text: "java.lang.Exception: rc=1..."

The failure's were tracked down to a problem handling "chunking" introduced in 
revision 1.3 
of /org/eclipse/hyades/test/http/runner/internal/exec/HttpRequestHandler.java. 
 I am able to download the previous revision, 1.2, and successfully complete 
my test.

This problem can be reproduced by recording the following actions against a 
J2EE JBoss example application running on JBoss 4.0:

1. Request the Duke's Bank home page, e.g. http://localhost:8080/bank/main
2. Enter a valid Customer ID and Password (e.g. 200 and j2ee) and press Submit
3. Click on the ATM link
4. Select Deposit from the action dropdown; Enter an amount (e.g. 1000.00), 
press Submit
5. Click again on the ATM link
6. Select Withdraw from the action dropdown if not already selected and enter 
an amount (e.g. 100.00), press Submit
7. Repeat steps 5 several times

Generate code for this script and run the generated test.  The test should 
fail on the first request to /bank/atm?accountId=...
This was recently assigned to me but had been lying about for quite some time.  The chunk encoded test execution issue is fixed in TPTP 4.2 Iteration 2 and I am marking this defect as a duplicate of 130144.

*** This bug has been marked as a duplicate of 130144 ***
ACTION: Please verify/close this defect.
Closing by default since not closed by the originator in the 7+ months since being resolved.  

Please reopen if the issue is still present in the latest TPTP release or the resolution is not correct.</WithStack>
    <WithOutStack>I began encountering test failures while executing a TPTP URL Test script that 
was recorded against the J2EE Duke's Bank example application running on JBoss 
4.0.  Tests were failing with the text: "java.lang.Exception: rc=1..."

The failure's were tracked down to a problem handling "chunking" introduced in 
revision 1.3 
of /org/eclipse/hyades/test/http/runner/internal/exec/HttpRequestHandler.java. 
 I am able to download the previous revision, 1.2, and successfully complete 
my test.

This problem can be reproduced by recording the following actions against a 
J2EE JBoss example application running on JBoss 4.0:

1. Request the Duke's Bank home page, e.g. http://localhost:8080/bank/main
2. Enter a valid Customer ID and Password (e.g. 200 and j2ee) and press Submit
3. Click on the ATM link
4. Select Deposit from the action dropdown; Enter an amount (e.g. 1000.00), 
press Submit
5. Click again on the ATM link
6. Select Withdraw from the action dropdown if not already selected and enter 
an amount (e.g. 100.00), press Submit
7. Repeat steps 5 several times

Generate code for this script and run the generated test.  The test should 
fail on the first request to /bank/atm?accountId=...
This was recently assigned to me but had been lying about for quite some time.  The chunk encoded test execution issue is fixed in TPTP 4.2 Iteration 2 and I am marking this defect as a duplicate of 130144.

*** This bug has been marked as a duplicate of 130144 ***
ACTION: Please verify/close this defect.
Closing by default since not closed by the originator in the 7+ months since being resolved.  

Please reopen if the issue is still present in the latest TPTP release or the resolution is not correct.</WithOutStack>
  </Bug>
  <Bug>
    <BugId amount="104084" />
    <CreationDate amount="2005-07-15 15:15:00 -0400" />
    <DupId amount="" />
    <classification amount="Mylyn" />
    <Product amount="Mylyn" />
    <component amount="UI" />
    <Version amount="unspecified" />
    <rep_platform amount="Other" />
    <op_sys amount="other" />
    <priority amount="P4" />
    <bug_severity amount="normal" />
    <Summery>active search jobs should be terminated before shutdown</Summery>
    <Patches amount="0" />
    <Stacktraces amount="0" />
    <SourceCodeRegions amount="0" />
    <Enumerations amount="0" />
    <bug_status amount="RESOLVED" />
    <resolution amount="INVALID" />
    <WithStack>These are the warning messages that we get:

Job found still running after
platform shutdown.  Jobs should be canceled by the plugin that scheduled them
during shutdown: org.eclipse.mylar.java.search.AbstractJavaRelationshipProvider$JavaSearchJob
Once the stop button is added to the active search view, there will be a 
method on the relationship providers to cancel all running jobs.  Calling this 
should get rid of this error
Looking into this, it seems as though the BugzillaSearchJob does not complete
fast enough on cancel since it is waiting for the server.  The above fix has
been added to MylarPlugin.stop() as well as the stop methods of the plugins
with relationship providers (Java, XML, Bugzilla) as a backup.  Will need to
look into this more to get rid of this warning

So, the only time that this error will happen now is while the stream that we
want to read from is being opened, meaning waiting for a response.  Lowering
priority so that we know that this bug still exists, but currently cannot be
fixed

This is now a very minor issue, so lowering priority until someone reports a
related problem.

No longer an issue.</WithStack>
    <WithOutStack>These are the warning messages that we get:

Job found still running after
platform shutdown.  Jobs should be canceled by the plugin that scheduled them
during shutdown: org.eclipse.mylar.java.search.AbstractJavaRelationshipProvider$JavaSearchJob
Once the stop button is added to the active search view, there will be a 
method on the relationship providers to cancel all running jobs.  Calling this 
should get rid of this error
Looking into this, it seems as though the BugzillaSearchJob does not complete
fast enough on cancel since it is waiting for the server.  The above fix has
been added to MylarPlugin.stop() as well as the stop methods of the plugins
with relationship providers (Java, XML, Bugzilla) as a backup.  Will need to
look into this more to get rid of this warning

So, the only time that this error will happen now is while the stream that we
want to read from is being opened, meaning waiting for a response.  Lowering
priority so that we know that this bug still exists, but currently cannot be
fixed

This is now a very minor issue, so lowering priority until someone reports a
related problem.

No longer an issue.</WithOutStack>
  </Bug>
  <Bug>
    <BugId amount="104085" />
    <CreationDate amount="2005-07-15 15:28:00 -0400" />
    <DupId amount="104086" />
    <classification amount="WebTools" />
    <Product amount="WTP Java EE Tools" />
    <component amount="jst.j2ee" />
    <Version amount="0.7" />
    <rep_platform amount="PC" />
    <op_sys amount="Windows XP" />
    <priority amount="P3" />
    <bug_severity amount="major" />
    <Summery>Cache IBM WS DTD's for performance benefit</Summery>
    <Patches amount="0" />
    <Stacktraces amount="0" />
    <SourceCodeRegions amount="0" />
    <Enumerations amount="0" />
    <bug_status amount="CLOSED" />
    <resolution amount="DUPLICATE" />
    <WithStack>The following DTD's, copyright IBM, are used by the WTP J2EE tools. 

http://www.ibm.com/webservices/dtd/j2ee_web_services_1_0.dtd  
http://www.ibm.com/webservices/dtd/j2ee_web_services_client_1_0.dtd 
http://www.ibm.com/webservices/dtd/j2ee_jaxrpc_mapping_1_0.dtd  

These DTD's should be added to the XML catalog to remove the need to retrieve
them from the internet and decrease validation time. I've marked this defect as
major as the fix will benefit the performance of the WTP and improve the user
experience.

Arthur - can we get legal approval to bundle ship these DTD's in the WTP XML
catalog.

Chuck - assuming we get legal approval, please add the definition for these
DTD's in the appropriate plugin.
Dupping this with the other....   waiting on word from Arthur - will add files
and catalog entry if possible

*** This bug has been marked as a duplicate of 104086 ***
Chuck, I opened the two defects because the files listed here contain only an
IBM license while the file in bug 104086 contains both IBM and Sun licenses. I
don't have a problem with dealing with all of this in one defect but don't think
the Sun license should hold up the three DTD's listed here.
Hold off releasing this fix until I get legal approval from EMO.
Closing bug in favour of the dup.</WithStack>
    <WithOutStack>The following DTD's, copyright IBM, are used by the WTP J2EE tools. 

http://www.ibm.com/webservices/dtd/j2ee_web_services_1_0.dtd  
http://www.ibm.com/webservices/dtd/j2ee_web_services_client_1_0.dtd 
http://www.ibm.com/webservices/dtd/j2ee_jaxrpc_mapping_1_0.dtd  

These DTD's should be added to the XML catalog to remove the need to retrieve
them from the internet and decrease validation time. I've marked this defect as
major as the fix will benefit the performance of the WTP and improve the user
experience.

Arthur - can we get legal approval to bundle ship these DTD's in the WTP XML
catalog.

Chuck - assuming we get legal approval, please add the definition for these
DTD's in the appropriate plugin.
Dupping this with the other....   waiting on word from Arthur - will add files
and catalog entry if possible

*** This bug has been marked as a duplicate of 104086 ***
Chuck, I opened the two defects because the files listed here contain only an
IBM license while the file in bug 104086 contains both IBM and Sun licenses. I
don't have a problem with dealing with all of this in one defect but don't think
the Sun license should hold up the three DTD's listed here.
Hold off releasing this fix until I get legal approval from EMO.
Closing bug in favour of the dup.</WithOutStack>
  </Bug>
  <Bug>
    <BugId amount="104086" />
    <CreationDate amount="2005-07-15 15:32:00 -0400" />
    <DupId amount="" />
    <classification amount="WebTools" />
    <Product amount="WTP Java EE Tools" />
    <component amount="jst.j2ee" />
    <Version amount="0.7" />
    <rep_platform amount="PC" />
    <op_sys amount="Windows XP" />
    <priority amount="P4" />
    <bug_severity amount="normal" />
    <Summery>Add  IBM hosted J2EE schema to the XML catalog</Summery>
    <Patches amount="0" />
    <Stacktraces amount="0" />
    <SourceCodeRegions amount="0" />
    <Enumerations amount="1">
      <Enumeration lines="1">
        <Lines>
          <Line>U.S. and other countries.</Line>
        </Lines>
      </Enumeration>
    </Enumerations>
    <bug_status amount="CLOSED" />
    <resolution amount="WONTFIX" />
    <WithStack>The following schema is used by the WTP J2EE tools. 

http://www.ibm.com/webservices/xsd/j2ee_web_services_client_1_1.xsd

This schema is hosted on an IBM server and has the following copyrights on it.

&lt;xsd:annotation&gt;
 &lt;xsd:documentation&gt;
      Copyright 2002 Sun Microsystems, Inc., 901 San Antonio
      Road, Palo Alto, California 94303, U.S.A. All rights
      reserved.

      Sun Microsystems, Inc. has intellectual property rights
      relating to technology described in this document. In
      particular, and without limitation, these intellectual
      property rights may include one or more of the U.S. patents
      listed at http://www.sun.com/patents and one or more
      additional patents or pending patent applications in the
      U.S. and other countries.

      This document and the technology which it describes are
      distributed under licenses restricting their use, copying,
      distribution, and decompilation. No part of this document
      may be reproduced in any form by any means without prior
      written authorization of Sun and its licensors, if any.

      Third-party software, including font technology, is
      copyrighted and licensed from Sun suppliers.

      Sun, Sun Microsystems, the Sun logo, Solaris, Java, J2EE,
      JavaServer Pages, Enterprise JavaBeans and the Java Coffee
      Cup logo are trademarks or registered trademarks of Sun
      Microsystems, Inc. in the U.S. and other countries.

      Federal Acquisitions: Commercial Software - Government Users
      Subject to Standard License Terms and Conditions.
 &lt;/xsd:documentation&gt;
&lt;/xsd:annotation&gt;
&lt;xsd:annotation&gt;
 &lt;xsd:documentation&gt;
      (C) Copyright International Business Machines Corporation 2002
 &lt;/xsd:documentation&gt;
&lt;/xsd:annotation&gt;

These schema should be added to the XML catalog to remove the need to retrieve
it from the internet and decrease validation time. I've marked this defect as
major as the fix will benefit the performance of the WTP and improve the user
experience.

Arthur - Both Sun and IBM have copyright statements on this schema. Can we get
legal approval to ship this schema in the WTP XML catalog.

Chuck - Assuming we get legal approval, please add the definition for this
schema in the appropriate plugin.
*** Bug 104085 has been marked as a duplicate of this bug. ***
Bug 104085 has been marked as a dup of this bug. This bug should now also handle
the following resources:

http://www.ibm.com/webservices/dtd/j2ee_web_services_1_0.dtd  
http://www.ibm.com/webservices/dtd/j2ee_web_services_client_1_0.dtd 
http://www.ibm.com/webservices/dtd/j2ee_jaxrpc_mapping_1_0.dtd  
What's the status of the approval for this bug?  Should we drop this to M8?
We do not have all the legal approvals in place to redistribute these. I am
changing the target to 1.0 M8. I have asked Lawrence to handle the legal
approval process.
Part of a mass update. Based on 9/22/2005 development review meeting, it's 
determined this was an open bug/enhancement with tartget mistakenly set to M8. 
Since this will not be in M8, I am changing to "unspecified". 

If this is an error, please correct (for example the bug really has been fixed
in M8, change back to M8, and "fixed".)

Lawrence,

I asked you to request legal approval for these DTD's and schema. What's the status? Thx.
Arthur, I'm going to assign this bug to myself. Not sure why it wasn't. I'll follow up with Eclipse legal.
Correcting severity to normal.
*** Bug 105560 has been marked as a duplicate of this bug. ***
Tim, any update on the IP approval of this bug?
Only requests from Janet for additional information. We need to check in again.

Pasting the location to the browser results in a redirect to:
http://www-128.ibm.com/developerworks/webservices/jsrproject/j2ee_web_services_client_1_1.xsd

This error now comes up whenever an EAR application.xml is validated, which has nothing to do with the web services client.
That's true because the published J2EE schema [1] imports the schema you've identified. As we cannot change this schema I think our best course of action is to continue to pursue methods of including these schemas locally in Eclipse.

[1]http://java.sun.com/xml/ns/j2ee/j2ee_1_4.xsd
Eclipse legal has approved the addition of the Java EE schemas and DTDs from another source. I'm resolving this bug as won't fix.
Closing bug.</WithStack>
    <WithOutStack>The following schema is used by the WTP J2EE tools. 

http://www.ibm.com/webservices/xsd/j2ee_web_services_client_1_1.xsd

This schema is hosted on an IBM server and has the following copyrights on it.

&lt;xsd:annotation&gt;
 &lt;xsd:documentation&gt;
      Copyright 2002 Sun Microsystems, Inc., 901 San Antonio
      Road, Palo Alto, California 94303, U.S.A. All rights
      reserved.

      Sun Microsystems, Inc. has intellectual property rights
      relating to technology described in this document. In
      particular, and without limitation, these intellectual
      property rights may include one or more of the U.S. patents
      listed at http://www.sun.com/patents and one or more
      additional patents or pending patent applications in the
      U.S. and other countries.

      This document and the technology which it describes are
      distributed under licenses restricting their use, copying,
      distribution, and decompilation. No part of this document
      may be reproduced in any form by any means without prior
      written authorization of Sun and its licensors, if any.

      Third-party software, including font technology, is
      copyrighted and licensed from Sun suppliers.

      Sun, Sun Microsystems, the Sun logo, Solaris, Java, J2EE,
      JavaServer Pages, Enterprise JavaBeans and the Java Coffee
      Cup logo are trademarks or registered trademarks of Sun
      Microsystems, Inc. in the U.S. and other countries.

      Federal Acquisitions: Commercial Software - Government Users
      Subject to Standard License Terms and Conditions.
 &lt;/xsd:documentation&gt;
&lt;/xsd:annotation&gt;
&lt;xsd:annotation&gt;
 &lt;xsd:documentation&gt;
      (C) Copyright International Business Machines Corporation 2002
 &lt;/xsd:documentation&gt;
&lt;/xsd:annotation&gt;

These schema should be added to the XML catalog to remove the need to retrieve
it from the internet and decrease validation time. I've marked this defect as
major as the fix will benefit the performance of the WTP and improve the user
experience.

Arthur - Both Sun and IBM have copyright statements on this schema. Can we get
legal approval to ship this schema in the WTP XML catalog.

Chuck - Assuming we get legal approval, please add the definition for this
schema in the appropriate plugin.
*** Bug 104085 has been marked as a duplicate of this bug. ***
Bug 104085 has been marked as a dup of this bug. This bug should now also handle
the following resources:

http://www.ibm.com/webservices/dtd/j2ee_web_services_1_0.dtd  
http://www.ibm.com/webservices/dtd/j2ee_web_services_client_1_0.dtd 
http://www.ibm.com/webservices/dtd/j2ee_jaxrpc_mapping_1_0.dtd  
What's the status of the approval for this bug?  Should we drop this to M8?
We do not have all the legal approvals in place to redistribute these. I am
changing the target to 1.0 M8. I have asked Lawrence to handle the legal
approval process.
Part of a mass update. Based on 9/22/2005 development review meeting, it's 
determined this was an open bug/enhancement with tartget mistakenly set to M8. 
Since this will not be in M8, I am changing to "unspecified". 

If this is an error, please correct (for example the bug really has been fixed
in M8, change back to M8, and "fixed".)

Lawrence,

I asked you to request legal approval for these DTD's and schema. What's the status? Thx.
Arthur, I'm going to assign this bug to myself. Not sure why it wasn't. I'll follow up with Eclipse legal.
Correcting severity to normal.
*** Bug 105560 has been marked as a duplicate of this bug. ***
Tim, any update on the IP approval of this bug?
Only requests from Janet for additional information. We need to check in again.

Pasting the location to the browser results in a redirect to:
http://www-128.ibm.com/developerworks/webservices/jsrproject/j2ee_web_services_client_1_1.xsd

This error now comes up whenever an EAR application.xml is validated, which has nothing to do with the web services client.
That's true because the published J2EE schema [1] imports the schema you've identified. As we cannot change this schema I think our best course of action is to continue to pursue methods of including these schemas locally in Eclipse.

[1]http://java.sun.com/xml/ns/j2ee/j2ee_1_4.xsd
Eclipse legal has approved the addition of the Java EE schemas and DTDs from another source. I'm resolving this bug as won't fix.
Closing bug.</WithOutStack>
  </Bug>
  <Bug>
    <BugId amount="104087" />
    <CreationDate amount="2005-07-15 15:36:00 -0400" />
    <DupId amount="" />
    <classification amount="Eclipse Foundation" />
    <Product amount="z_Archived" />
    <component amount="TPTP.monitoring" />
    <Version amount="unspecified" />
    <rep_platform amount="All" />
    <op_sys amount="All" />
    <priority amount="P2" />
    <bug_severity amount="enhancement" />
    <Summery>Add ability to specify a range of indices in the position field of a rule</Summery>
    <Patches amount="0" />
    <Stacktraces amount="0" />
    <SourceCodeRegions amount="0" />
    <Enumerations amount="1">
      <Enumeration lines="6">
        <Lines>
          <Line>1) 2-6 which means values at index 2 to index 6 would be concatenated,</Line>
          <Line>separated by the @@ symbols.  This can replace the specification 2@@3@@4@@5@@6</Line>
          <Line />
          <Line>2) use position constants like #BEGIN, #END etc.  An example specification</Line>
          <Line>would be 5-#END which means values at index 5 to the end of the record would be</Line>
          <Line>concatenated, separated by the @@ symbols.</Line>
        </Lines>
      </Enumeration>
    </Enumerations>
    <bug_status amount="CLOSED" />
    <resolution amount="WONTFIX" />
    <WithStack>In substitution rules, it would be useful to be able to specify a range of 
position indices in the Positions field.  

For example:

1) 2-6 which means values at index 2 to index 6 would be concatenated, 
separated by the @@ symbols.  This can replace the specification 2@@3@@4@@5@@6

2) use position constants like #BEGIN, #END etc.  An example specification 
would be 5-#END which means values at index 5 to the end of the record would be 
concatenated, separated by the @@ symbols.

Theme: Ease of Use
This feature would make it easier to write GLA parsing rules and therefore 
improve the usability of GLA
This feature should be added to the help documentation.
Setting target to future so it doesn't show up in 4.2 feature query.
Due to lack of resources this enhancement request is resolved as WONTFIX. Please feel free to reopen if you consider it's a required enhancement.
Closing.
As of TPTP 4.6.0, TPTP is in maintenance mode and focusing on improving quality by resolving relevant defects and increasing test coverage through test creation, automation, Build Verification Tests (BVTs), and expanded run-time execution. As such, TPTP is not delivering enhancements. As part of the TPTP Bugzilla housecleaning process (see http://wiki.eclipse.org/Bugzilla_Housecleaning_Processes), this enhancement is resolved as WONTFIX. For this enhancement to be considered, please re-open with an attached patch including the Description Document (see http://www.eclipse.org/tptp/home/documents/process/development/description_documents.html), code (see http://www.eclipse.org/tptp/home/documents/resources/TPTPDevGuide.htm), and test cases (see http://www.eclipse.org/tptp/home/documents/process/TPTP_Testing_Strategy.html).</WithStack>
    <WithOutStack>In substitution rules, it would be useful to be able to specify a range of 
position indices in the Positions field.  

For example:

1) 2-6 which means values at index 2 to index 6 would be concatenated, 
separated by the @@ symbols.  This can replace the specification 2@@3@@4@@5@@6

2) use position constants like #BEGIN, #END etc.  An example specification 
would be 5-#END which means values at index 5 to the end of the record would be 
concatenated, separated by the @@ symbols.

Theme: Ease of Use
This feature would make it easier to write GLA parsing rules and therefore 
improve the usability of GLA
This feature should be added to the help documentation.
Setting target to future so it doesn't show up in 4.2 feature query.
Due to lack of resources this enhancement request is resolved as WONTFIX. Please feel free to reopen if you consider it's a required enhancement.
Closing.
As of TPTP 4.6.0, TPTP is in maintenance mode and focusing on improving quality by resolving relevant defects and increasing test coverage through test creation, automation, Build Verification Tests (BVTs), and expanded run-time execution. As such, TPTP is not delivering enhancements. As part of the TPTP Bugzilla housecleaning process (see http://wiki.eclipse.org/Bugzilla_Housecleaning_Processes), this enhancement is resolved as WONTFIX. For this enhancement to be considered, please re-open with an attached patch including the Description Document (see http://www.eclipse.org/tptp/home/documents/process/development/description_documents.html), code (see http://www.eclipse.org/tptp/home/documents/resources/TPTPDevGuide.htm), and test cases (see http://www.eclipse.org/tptp/home/documents/process/TPTP_Testing_Strategy.html).</WithOutStack>
  </Bug>
  <Bug>
    <BugId amount="104088" />
    <CreationDate amount="2005-07-15 15:43:00 -0400" />
    <DupId amount="" />
    <classification amount="Tools" />
    <Product amount="CDT" />
    <component amount="cdt-core" />
    <Version amount="3.0" />
    <rep_platform amount="PC" />
    <op_sys amount="Windows XP" />
    <priority amount="P3" />
    <bug_severity amount="normal" />
    <Summery>[Content Assist] invalid proposal nested class</Summery>
    <Patches amount="0" />
    <Stacktraces amount="0" />
    <SourceCodeRegions amount="5">
      <source_code type="functiondef">
        <location start="19" end="74" />
        <code>int main() {
  std::string s;
  s.b[^SPC]
  return 0;
}</code>
      </source_code>
      <source_code type="functiondef">
        <location start="200" end="270" />
        <code>int main() {
  std::string s;
  s.basic_string::begin();
  return 0;
}</code>
      </source_code>
      <source_code type="class">
        <location start="509" end="533" />
        <code>class DEF
{
	int blah;
}</code>
      </source_code>
      <source_code type="class">
        <location start="536" end="564" />
        <code>class XYZ : public DEF
{
	
}</code>
      </source_code>
      <source_code type="functiondef">
        <location start="570" end="659" />
        <code>int main() {
	DEF d;
	d.//[^SPC] yields DEF but there is nothing it can do. 
	return 0;
}</code>
      </source_code>
    </SourceCodeRegions>
    <Enumerations amount="0" />
    <bug_status amount="REOPENED" />
    <resolution amount="" />
    <WithStack>#include &lt;string&gt;

int main() {
  std::string s;
  s.b[^SPC]
  return 0;
}

basic string is a proposal.
Created attachment 24861
Screengrab that shows this.
Actually, it is valid:

#include &lt;string&gt;

int main() {
  std::string s;
  s.basic_string::begin();
  return 0;
}

The name of a class is inserted into the scope of the class itself (C++ spec
9-2).  and string is a typedef of basic_string.

Generally, for member completions, the class name appears in the list of
proposals when it matches the prefix.
class DEF
{
	int blah;
};

class XYZ : public DEF
{
	
};
		

int main() {
	DEF d;
	d.//[^SPC] yields DEF but there is nothing it can do. 
	return 0;
}


(In reply to comment #3)
&gt; The name of a class is inserted into the scope of the class itself (C++ spec
&gt; 9-2).  and string is a typedef of basic_string.
&gt; 
&gt; Generally, for member completions, the class name appears in the list of
&gt; proposals when it matches the prefix.

-1
It's still a valid proposal, although in this case since there are no public
members on DEF, there no valid use of DEF::. But that's the anomoly.

I'll mark this as future so that we can fine tune the relevance metric in the
proposals to make sure these have a low relevance. If people are annoyed by them
in the list at all, we could allow them to specify a relevance threshold.
Future means you commit to fix it in the Future. Inboxes can't make committments. Moving to '--'.</WithStack>
    <WithOutStack>#include &lt;string&gt;

int main() {
  std::string s;
  s.b[^SPC]
  return 0;
}

basic string is a proposal.
Created attachment 24861
Screengrab that shows this.
Actually, it is valid:

#include &lt;string&gt;

int main() {
  std::string s;
  s.basic_string::begin();
  return 0;
}

The name of a class is inserted into the scope of the class itself (C++ spec
9-2).  and string is a typedef of basic_string.

Generally, for member completions, the class name appears in the list of
proposals when it matches the prefix.
class DEF
{
	int blah;
};

class XYZ : public DEF
{
	
};
		

int main() {
	DEF d;
	d.//[^SPC] yields DEF but there is nothing it can do. 
	return 0;
}


(In reply to comment #3)
&gt; The name of a class is inserted into the scope of the class itself (C++ spec
&gt; 9-2).  and string is a typedef of basic_string.
&gt; 
&gt; Generally, for member completions, the class name appears in the list of
&gt; proposals when it matches the prefix.

-1
It's still a valid proposal, although in this case since there are no public
members on DEF, there no valid use of DEF::. But that's the anomoly.

I'll mark this as future so that we can fine tune the relevance metric in the
proposals to make sure these have a low relevance. If people are annoyed by them
in the list at all, we could allow them to specify a relevance threshold.
Future means you commit to fix it in the Future. Inboxes can't make committments. Moving to '--'.</WithOutStack>
  </Bug>
  <Bug>
    <BugId amount="104089" />
    <CreationDate amount="2005-07-15 15:48:00 -0400" />
    <DupId amount="" />
    <classification amount="Mylyn" />
    <Product amount="Mylyn" />
    <component amount="Bugzilla" />
    <Version amount="unspecified" />
    <rep_platform amount="Other" />
    <op_sys amount="other" />
    <priority amount="P1" />
    <bug_severity amount="enhancement" />
    <Summery>on bug change refresh</Summery>
    <Patches amount="0" />
    <Stacktraces amount="0" />
    <SourceCodeRegions amount="0" />
    <Enumerations amount="0" />
    <bug_status amount="RESOLVED" />
    <resolution amount="FIXED" />
    <WithStack>Currently setting a bug to RESOLVED forces a 2 minute long refresh on my machine.
 It scale be better if only the categories containing the bug were refreshed.
A better way to solve this might be to only refresh reports visible in the tree?

Support has been added to only refresh reports that are not completed, meaning
that they have not been resolved. I am leaving this open until it is determined
whether this is enough of a change or not

This might be enough for now.  I'll let you know how it works on my task list.
Still too slow on large task lists (see the other report I just submitted), so 
seems worth doing next week.
So, after some discussion, it seems that by only refreshing ones that are visible
seems to be an issue since that means that the set that was refreshed is not
consistant in any way.  We are going to leave it refreshing only the non-completed
tasks for now.  Bug 104927 has some information on how the refresh is now being
done to attempt to be less intrusive</WithStack>
    <WithOutStack>Currently setting a bug to RESOLVED forces a 2 minute long refresh on my machine.
 It scale be better if only the categories containing the bug were refreshed.
A better way to solve this might be to only refresh reports visible in the tree?

Support has been added to only refresh reports that are not completed, meaning
that they have not been resolved. I am leaving this open until it is determined
whether this is enough of a change or not

This might be enough for now.  I'll let you know how it works on my task list.
Still too slow on large task lists (see the other report I just submitted), so 
seems worth doing next week.
So, after some discussion, it seems that by only refreshing ones that are visible
seems to be an issue since that means that the set that was refreshed is not
consistant in any way.  We are going to leave it refreshing only the non-completed
tasks for now.  Bug 104927 has some information on how the refresh is now being
done to attempt to be less intrusive</WithOutStack>
  </Bug>
  <Bug>
    <BugId amount="104090" />
    <CreationDate amount="2005-07-15 15:49:00 -0400" />
    <DupId amount="" />
    <classification amount="Tools" />
    <Product amount="CDT" />
    <component amount="cdt-parser" />
    <Version amount="3.0" />
    <rep_platform amount="PC" />
    <op_sys amount="Windows XP" />
    <priority amount="P3" />
    <bug_severity amount="normal" />
    <Summery>[Parser] NPE in Parser.provideSelectionNode when running JUnit AIS</Summery>
    <Patches amount="0" />
    <Stacktraces amount="0" />
    <SourceCodeRegions amount="0" />
    <Enumerations amount="0" />
    <bug_status amount="RESOLVED" />
    <resolution amount="FIXED" />
    <WithStack>Stack trace:

Parser.provideSelectionNode(ITokenDuple) line: 6651
Parser.reconcileTokenDuple() line: 6634
Parser.parse(int, int) line: 6252
SelectionRegressionTest.getSelection(IFile, int, int, ParserLanguage) line: 150
SelectionRegressionTest.getSelection(IFile, int, int) line: 124
SelectionRegressionTest.testMethod78118() line: 486
Does this happen everytime you run the AIS or is it one of those strange NPEs 
that only occur every now and then?

I just ran AIS and the only NPE I saw was in CPPSemantics#lookupInScope() line: 
1455 and I raised PR 104214.

ok.  I see it now.
Created attachment 24917
fix for this PR

take a look at this patch when you get a minute
For future ref, pls assign defect to me if you want me to apply the patch.
I may lose it in the emails.
Applied.  Thanks</WithStack>
    <WithOutStack>Stack trace:

Parser.provideSelectionNode(ITokenDuple) line: 6651
Parser.reconcileTokenDuple() line: 6634
Parser.parse(int, int) line: 6252
SelectionRegressionTest.getSelection(IFile, int, int, ParserLanguage) line: 150
SelectionRegressionTest.getSelection(IFile, int, int) line: 124
SelectionRegressionTest.testMethod78118() line: 486
Does this happen everytime you run the AIS or is it one of those strange NPEs 
that only occur every now and then?

I just ran AIS and the only NPE I saw was in CPPSemantics#lookupInScope() line: 
1455 and I raised PR 104214.

ok.  I see it now.
Created attachment 24917
fix for this PR

take a look at this patch when you get a minute
For future ref, pls assign defect to me if you want me to apply the patch.
I may lose it in the emails.
Applied.  Thanks</WithOutStack>
  </Bug>
  <Bug>
    <BugId amount="104091" />
    <CreationDate amount="2005-07-15 15:49:00 -0400" />
    <DupId amount="" />
    <classification amount="Mylyn" />
    <Product amount="Mylyn" />
    <component amount="Core" />
    <Version amount="unspecified" />
    <rep_platform amount="Other" />
    <op_sys amount="other" />
    <priority amount="P1" />
    <bug_severity amount="normal" />
    <Summery>predicted interest items are never removed from the contest</Summery>
    <Patches amount="0" />
    <Stacktraces amount="0" />
    <SourceCodeRegions amount="0" />
    <Enumerations amount="0" />
    <bug_status amount="RESOLVED" />
    <resolution amount="FIXED" />
    <WithStack>This is a problem for errorrs and active search items.
Fixed.  The one hack right now is that predicted items have a fixed numerical
interest that isn't parametrized.</WithStack>
    <WithOutStack>This is a problem for errorrs and active search items.
Fixed.  The one hack right now is that predicted items have a fixed numerical
interest that isn't parametrized.</WithOutStack>
  </Bug>
  <Bug>
    <BugId amount="104092" />
    <CreationDate amount="2005-07-15 15:51:00 -0400" />
    <DupId amount="" />
    <classification amount="Eclipse Foundation" />
    <Product amount="Community" />
    <component amount="Bugzilla" />
    <Version amount="unspecified" />
    <rep_platform amount="All" />
    <op_sys amount="All" />
    <priority amount="P3" />
    <bug_severity amount="enhancement" />
    <Summery>Self management of Bugzilla</Summery>
    <Patches amount="0" />
    <Stacktraces amount="0" />
    <SourceCodeRegions amount="0" />
    <Enumerations amount="3">
      <Enumeration lines="4">
        <Lines>
          <Line>a) manage who on their team can manage Bugzilla versions and milestones</Line>
          <Line>b) add milestones and versions themselves</Line>
          <Line>c) add Components</Line>
          <Line>d) change Component owners</Line>
        </Lines>
      </Enumeration>
      <Enumeration lines="7">
        <Lines>
          <Line>1)Only PLs and PMCs can grant committers access to edit bugzilla.</Line>
          <Line>2)Changes(edits) are limited to the following items:</Line>
          <Line>Editing the details of the base product(excluding the name)</Line>
          <Line>Editing the details of subcomponents(excluding the name)</Line>
          <Line>3)You can add as many versions and milestones as you like, but they cannot be edited or deleted once you commit them, so be sure before you click submit.</Line>
          <Line>4)When you create a new subcomponent, you can specify the name, but once added you cannot change the name.</Line>
          <Line>5)All email addresses have to be valid bugzilla accounts.</Line>
        </Lines>
      </Enumeration>
      <Enumeration lines="5">
        <Lines>
          <Line>- Sort out which sub projects PM/PD's have access to.</Line>
          <Line>- Improve the on page documentaion.</Line>
          <Line>- Corrected some of the error handlers.</Line>
          <Line>- Fixed an issue with the menu bar.</Line>
          <Line>- Altered the default milestone selection to a drop box of current milestones.</Line>
        </Lines>
      </Enumeration>
    </Enumerations>
    <bug_status amount="VERIFIED" />
    <resolution amount="FIXED" />
    <WithStack>Project leaders and PMCs should be able to use self-managment to add/remove
components, change component owners, and add versions and targets.
Bugzilla self-management is planned for this Quarter, but bugzilla has no
security model to identify a project lead or PMC.  My suggestion is to open
component, version and target management to committers as a whole.

This would imply that a committer on ProjectX could add targets in ProjectY, but
I'm assuming this will never happen.

Would this level of openness be a workable solution?
Denis, I suggest using the Foundation database to identify the project leads.
Thus if the bugzilla email address is the same as the project leads' or PMCs'
email address, then you can enable to self-service.  
(In reply to comment #1)
&gt; Bugzilla self-management is planned for this Quarter, but bugzilla has no
&gt; security model to identify a project lead or PMC.  My suggestion is to open
&gt; component, version and target management to committers as a whole.

Denis, I disagree. Bugzilla has a quite configurable security model. However, it
causes headaches to administrate it.

I'm administrating the Bugzilla in our company and we have successfully
established the roles of developers/committers and project leads. However, I
agree that project leads would be able to modify components/versions/target
milestones of all products.

(In reply to comment #2)
&gt; Denis, I suggest using the Foundation database to identify the project leads.
&gt; Thus if the bugzilla email address is the same as the project leads' or PMCs'
&gt; email address, then you can enable to self-service.  

Bjorn, this won't work without hacking into Bugzilla, which would make Bugzilla
upgrades terrible.
(In reply to comment #3)
&gt; Bugzilla has a quite configurable security model. However, it
&gt; causes headaches to administrate it.
Ugh.

 
&gt; I'm administrating the Bugzilla in our company and we have successfully
&gt; established the roles of developers/committers and project leads. However, I
&gt; agree that project leads would be able to modify components/versions/target
&gt; milestones of all products.

Can you allow Project leads to manage targets and versions of their products?


&gt; Bjorn, this won't work without hacking into Bugzilla, which would make Bugzilla
&gt; upgrades terrible.

We won't touch Bugzilla source. We'll simply create some PHP scripts that write
the information in the Bugzilla database. We'll launch this from Committer
Tools, which authenticates using the committer userid.

Bjorn, if we simply map userid's to bugzilla products, this would allow any
committer appointed by PMC or Project Lead to manage the bugzilla components of
that product.  How's that sound?

D.
Where are we going to keep the mapping? And the mapping would be created by the
project leads, right?  And so that means we need to map the project leads to
permissions to create the mappings for the users. But once we figure all that
out - in a way that doesn't duplicate the data that we are keeping in the
Foundation database or the eclipse-project-info.xml files, then I think it's a
good idea.
(In reply to comment #5)
&gt; Where are we going to keep the mapping?

In some table, somewhere.

&gt; And the mapping would be created by the
&gt; project leads, right?

Yup.

&gt;  And so that means we need to map the project leads to
&gt; permissions to create the mappings for the users. But once we figure all that
&gt; out - in a way that doesn't duplicate the data that we are keeping in the
&gt; Foundation database or the eclipse-project-info.xml files, then I think it's a
&gt; good idea.

I'm not sure what that XML file is, but I'd definitely pull the info from our
master database.

D.
(In reply to comment 6)
http://www.eclipse.org/org/processes/Guidelines_for_Eclipse_Development_Process/status-and-planning-reporting.html
We're currently working on separate tools to allow PMC's to 

a) manage who on their team can manage Bugzilla versions and milestones
b) add milestones and versions themselves
c) add Components
d) change Component owners

One caveat however is that dummy inboxes (product.component-inbox AT eclipse.org) still need to be done by WebMaster.

These tools are to be made available by the end of the quarter.

D.
Tools for committers to manage bugzilla are now available in the committer tool s section of the website.  Simply click on the bugzilla menu item to be taken to the main interface.

Things to be aware of:
1)Only PLs and PMCs can grant committers access to edit bugzilla.
2)Changes(edits) are limited to the following items:
  Editing the details of the base product(excluding the name)
  Editing the details of subcomponents(excluding the name)
3)You can add as many versions and milestones as you like, but they cannot be edited or deleted once you commit them, so be sure before you click submit.
4)When you create a new subcomponent, you can specify the name, but once added you cannot change the name.
5)All email addresses have to be valid bugzilla accounts.

If you have any questions email the webmaster or or reopen this bug.

-M
Verifying and/or closing.
We're getting reports that the Bugzilla self-management tools are flaky.  We need to run some tests and make sure this is rock-solid.
Matt, what's left to do here?
I've updated the code to:

- Sort out which sub projects PM/PD's have access to.
- Improve the on page documentaion.
- Corrected some of the error handlers.
- Fixed an issue with the menu bar.
- Altered the default milestone selection to a drop box of current milestones.

It's the first item that should make the biggest difference. 

I'll leave this bug as reopened for a couple of weeks and if I haven't heard anything I'll close this bug.

-Matt.
Closing as fixed
Verified</WithStack>
    <WithOutStack>Project leaders and PMCs should be able to use self-managment to add/remove
components, change component owners, and add versions and targets.
Bugzilla self-management is planned for this Quarter, but bugzilla has no
security model to identify a project lead or PMC.  My suggestion is to open
component, version and target management to committers as a whole.

This would imply that a committer on ProjectX could add targets in ProjectY, but
I'm assuming this will never happen.

Would this level of openness be a workable solution?
Denis, I suggest using the Foundation database to identify the project leads.
Thus if the bugzilla email address is the same as the project leads' or PMCs'
email address, then you can enable to self-service.  
(In reply to comment #1)
&gt; Bugzilla self-management is planned for this Quarter, but bugzilla has no
&gt; security model to identify a project lead or PMC.  My suggestion is to open
&gt; component, version and target management to committers as a whole.

Denis, I disagree. Bugzilla has a quite configurable security model. However, it
causes headaches to administrate it.

I'm administrating the Bugzilla in our company and we have successfully
established the roles of developers/committers and project leads. However, I
agree that project leads would be able to modify components/versions/target
milestones of all products.

(In reply to comment #2)
&gt; Denis, I suggest using the Foundation database to identify the project leads.
&gt; Thus if the bugzilla email address is the same as the project leads' or PMCs'
&gt; email address, then you can enable to self-service.  

Bjorn, this won't work without hacking into Bugzilla, which would make Bugzilla
upgrades terrible.
(In reply to comment #3)
&gt; Bugzilla has a quite configurable security model. However, it
&gt; causes headaches to administrate it.
Ugh.

 
&gt; I'm administrating the Bugzilla in our company and we have successfully
&gt; established the roles of developers/committers and project leads. However, I
&gt; agree that project leads would be able to modify components/versions/target
&gt; milestones of all products.

Can you allow Project leads to manage targets and versions of their products?


&gt; Bjorn, this won't work without hacking into Bugzilla, which would make Bugzilla
&gt; upgrades terrible.

We won't touch Bugzilla source. We'll simply create some PHP scripts that write
the information in the Bugzilla database. We'll launch this from Committer
Tools, which authenticates using the committer userid.

Bjorn, if we simply map userid's to bugzilla products, this would allow any
committer appointed by PMC or Project Lead to manage the bugzilla components of
that product.  How's that sound?

D.
Where are we going to keep the mapping? And the mapping would be created by the
project leads, right?  And so that means we need to map the project leads to
permissions to create the mappings for the users. But once we figure all that
out - in a way that doesn't duplicate the data that we are keeping in the
Foundation database or the eclipse-project-info.xml files, then I think it's a
good idea.
(In reply to comment #5)
&gt; Where are we going to keep the mapping?

In some table, somewhere.

&gt; And the mapping would be created by the
&gt; project leads, right?

Yup.

&gt;  And so that means we need to map the project leads to
&gt; permissions to create the mappings for the users. But once we figure all that
&gt; out - in a way that doesn't duplicate the data that we are keeping in the
&gt; Foundation database or the eclipse-project-info.xml files, then I think it's a
&gt; good idea.

I'm not sure what that XML file is, but I'd definitely pull the info from our
master database.

D.
(In reply to comment 6)
http://www.eclipse.org/org/processes/Guidelines_for_Eclipse_Development_Process/status-and-planning-reporting.html
We're currently working on separate tools to allow PMC's to 

a) manage who on their team can manage Bugzilla versions and milestones
b) add milestones and versions themselves
c) add Components
d) change Component owners

One caveat however is that dummy inboxes (product.component-inbox AT eclipse.org) still need to be done by WebMaster.

These tools are to be made available by the end of the quarter.

D.
Tools for committers to manage bugzilla are now available in the committer tool s section of the website.  Simply click on the bugzilla menu item to be taken to the main interface.

Things to be aware of:
1)Only PLs and PMCs can grant committers access to edit bugzilla.
2)Changes(edits) are limited to the following items:
  Editing the details of the base product(excluding the name)
  Editing the details of subcomponents(excluding the name)
3)You can add as many versions and milestones as you like, but they cannot be edited or deleted once you commit them, so be sure before you click submit.
4)When you create a new subcomponent, you can specify the name, but once added you cannot change the name.
5)All email addresses have to be valid bugzilla accounts.

If you have any questions email the webmaster or or reopen this bug.

-M
Verifying and/or closing.
We're getting reports that the Bugzilla self-management tools are flaky.  We need to run some tests and make sure this is rock-solid.
Matt, what's left to do here?
I've updated the code to:

- Sort out which sub projects PM/PD's have access to.
- Improve the on page documentaion.
- Corrected some of the error handlers.
- Fixed an issue with the menu bar.
- Altered the default milestone selection to a drop box of current milestones.

It's the first item that should make the biggest difference. 

I'll leave this bug as reopened for a couple of weeks and if I haven't heard anything I'll close this bug.

-Matt.
Closing as fixed
Verified</WithOutStack>
  </Bug>
  <Bug>
    <BugId amount="104093" />
    <CreationDate amount="2005-07-15 15:52:00 -0400" />
    <DupId amount="" />
    <classification amount="Eclipse Foundation" />
    <Product amount="Community" />
    <component amount="MailingLists" />
    <Version amount="unspecified" />
    <rep_platform amount="All" />
    <op_sys amount="All" />
    <priority amount="P3" />
    <bug_severity amount="enhancement" />
    <Summery>Self management of mailing lists</Summery>
    <Patches amount="0" />
    <Stacktraces amount="0" />
    <SourceCodeRegions amount="0" />
    <Enumerations amount="0" />
    <bug_status amount="VERIFIED" />
    <resolution amount="WORKSFORME" />
    <WithStack>Project leads and PMCs should be able to use self-management web pages to create
and remove mailing lists, turn moderation on the mailing lists on and off, and
all the usual kinds of mailing list management.
Mailing lists need to be set up by the webmaster for archiving/search engine
purposes, and to enforce standards.  We are enabling list managemement once the
list is created, however.

I'd close this as PARTLYFIXED, but there is no such status, so I'll close as
WORKSFORME.

D.</WithStack>
    <WithOutStack>Project leads and PMCs should be able to use self-management web pages to create
and remove mailing lists, turn moderation on the mailing lists on and off, and
all the usual kinds of mailing list management.
Mailing lists need to be set up by the webmaster for archiving/search engine
purposes, and to enforce standards.  We are enabling list managemement once the
list is created, however.

I'd close this as PARTLYFIXED, but there is no such status, so I'll close as
WORKSFORME.

D.</WithOutStack>
  </Bug>
  <Bug>
    <BugId amount="104094" />
    <CreationDate amount="2005-07-15 15:52:00 -0400" />
    <DupId amount="" />
    <classification amount="Tools" />
    <Product amount="CDT" />
    <component amount="cdt-parser" />
    <Version amount="3.0" />
    <rep_platform amount="PC" />
    <op_sys amount="Windows XP" />
    <priority amount="P3" />
    <bug_severity amount="normal" />
    <Summery>[CodeReaderCache] Leaks listeners</Summery>
    <Patches amount="0" />
    <Stacktraces amount="0" />
    <SourceCodeRegions amount="1">
      <source_code type="functiondef">
        <location start="0" end="243" />
        <code>public CodeReaderCache(int size) {
		cache = new CodeReaderLRUCache(size * MB_TO_KB_FACTOR);
		if (ResourcesPlugin.getWorkspace() != null)
			ResourcesPlugin.getWorkspace().addResourceChangeListener(new
UpdateCodeReaderCacheListener(this));
	}</code>
      </source_code>
    </SourceCodeRegions>
    <Enumerations amount="0" />
    <bug_status amount="RESOLVED" />
    <resolution amount="FIXED" />
    <WithStack>public CodeReaderCache(int size) {
		cache = new CodeReaderLRUCache(size * MB_TO_KB_FACTOR);
		if (ResourcesPlugin.getWorkspace() != null)
			ResourcesPlugin.getWorkspace().addResourceChangeListener(new
UpdateCodeReaderCacheListener(this));
	}

UpdatedCodeReaderCacheListener is not saved as a member.  Thus, when the cache
is garbage collected it is not garbage collected.  You need to add a finalize()
method which removes the listener from the workspace.
Created attachment 24906
fix for this PR

Take a look at this when you get a minute.
Looks great! Applied.
Thanks!</WithStack>
    <WithOutStack>public CodeReaderCache(int size) {
		cache = new CodeReaderLRUCache(size * MB_TO_KB_FACTOR);
		if (ResourcesPlugin.getWorkspace() != null)
			ResourcesPlugin.getWorkspace().addResourceChangeListener(new
UpdateCodeReaderCacheListener(this));
	}

UpdatedCodeReaderCacheListener is not saved as a member.  Thus, when the cache
is garbage collected it is not garbage collected.  You need to add a finalize()
method which removes the listener from the workspace.
Created attachment 24906
fix for this PR

Take a look at this when you get a minute.
Looks great! Applied.
Thanks!</WithOutStack>
  </Bug>
  <Bug>
    <BugId amount="104095" />
    <CreationDate amount="2005-07-15 15:53:00 -0400" />
    <DupId amount="" />
    <classification amount="Eclipse Foundation" />
    <Product amount="Community" />
    <component amount="CVS" />
    <Version amount="unspecified" />
    <rep_platform amount="All" />
    <op_sys amount="All" />
    <priority amount="P3" />
    <bug_severity amount="enhancement" />
    <Summery>Self management of CVS</Summery>
    <Patches amount="0" />
    <Stacktraces amount="0" />
    <SourceCodeRegions amount="0" />
    <Enumerations amount="0" />
    <bug_status amount="CLOSED" />
    <resolution amount="WONTFIX" />
    <WithStack>Project leads and PMCs should be able to create new top-level CVS components
using self-management web pages.
Further suggestion: project leads and PMCs should have self management of the
ACLs for the CVS modules.  This would enable them to add/remove component rights
without having to go through webmaster.  The lead would still have to follow the
Charter voting process, of course.
(In reply to comment #0)
&gt; Project leads and PMCs should be able to create new top-level CVS components
&gt; using self-management web pages.

This is already enabled for every new project. It is not currently enabled for
older projects because the project leads never requested the functionality, and
the setup was done prior to Oct 1.04.
(In reply to comment #1)
&gt; Further suggestion: project leads and PMCs should have self management of the
&gt; ACLs for the CVS modules.  This would enable them to add/remove component rights
&gt; without having to go through webmaster.  The lead would still have to follow the
&gt; Charter voting process, of course.

-1

CVS uses UNIX ACLs, file system ACLs and UNIX groups - it has no separate ACL or
group-management mechanism, therefore any changes done through a webpage would
require some form of superuser access to modify file permissions and user
groups. The security risk in doing this is huge.

D.
Actually, there is some stuff that is workable, like the groups - It is possible
to allow users to modify group information if the LDAP database is structure
properly - which it currently is not - but I would have to examine the OpenLDAP
security model in more detail. 

But creating new groups and assigning group ownership to directories (cvs
modules) requires superuser access.

The requests requiring superuser access could be queued in a file that could be
reviewed my a human, then run as superuser after it's been untainted.

D.
Bjorn, suggested I add a comment or two to this thread. I have suggested that 
the ACLs etc. not be part of the committer request form. I believe the process 
of approving a committer is separate from what access they actually need or get.

I am not going ot argue that each project should actually do teh ACL 
modifications, as there ar many advantages to keeping this under tight control. 
However letting the PMCs determine the access who has should be simple and they 
should have a direct path to submit access control changes (as we do in TPTP 
via Hubert to Denis often).

Bjorn needs to approve the names on the committer list and the PMCs need to 
work wiht Denis on what access those people have.
A web page with lists of CVS modules and bugzilla components that can be 
directly edited by special people would be great, but I think Denis iwl ahve ot 
review the changes for validity. The web page could at lest ensure requests are 
in formats that are consistent.

Perhaps some one in WTP would be willing to help construct such a set of pages.
(In reply to comment #5)
&gt; A web page with lists of CVS modules and bugzilla components that can be 
&gt; directly edited by special people would be great, but I think Denis iwl ahve 

I think the concept of a CVS module is very hard to define.

- In /cvsroot/eclipse, all cvs modules are lumped in one directory, despite the
presence of Eclipse subprojects.  Same applies to Tools

- In Birt, all the CVS modules are under a container called "source"

- In Technology, all projects have one directory. In each directory, it's
free-for-all.

In most cases, we assign the PMC as the owner of the top-level directory of
their project, so they can add directories as best they please.

As per comment 3, and understanding the inconsistencies between projects, I have
a hard time seeing how permissions management can be possible without a total
re-mapping of unix groups/permissions to some layer of abstraction.

D.
I'm going to close this as WONTFIX.  I have no idea how this could be done without both a large investment of time and possibly breaking many things.

Feel free to reopen with implementation details/code.

D.
Verifying and/or closing.</WithStack>
    <WithOutStack>Project leads and PMCs should be able to create new top-level CVS components
using self-management web pages.
Further suggestion: project leads and PMCs should have self management of the
ACLs for the CVS modules.  This would enable them to add/remove component rights
without having to go through webmaster.  The lead would still have to follow the
Charter voting process, of course.
(In reply to comment #0)
&gt; Project leads and PMCs should be able to create new top-level CVS components
&gt; using self-management web pages.

This is already enabled for every new project. It is not currently enabled for
older projects because the project leads never requested the functionality, and
the setup was done prior to Oct 1.04.
(In reply to comment #1)
&gt; Further suggestion: project leads and PMCs should have self management of the
&gt; ACLs for the CVS modules.  This would enable them to add/remove component rights
&gt; without having to go through webmaster.  The lead would still have to follow the
&gt; Charter voting process, of course.

-1

CVS uses UNIX ACLs, file system ACLs and UNIX groups - it has no separate ACL or
group-management mechanism, therefore any changes done through a webpage would
require some form of superuser access to modify file permissions and user
groups. The security risk in doing this is huge.

D.
Actually, there is some stuff that is workable, like the groups - It is possible
to allow users to modify group information if the LDAP database is structure
properly - which it currently is not - but I would have to examine the OpenLDAP
security model in more detail. 

But creating new groups and assigning group ownership to directories (cvs
modules) requires superuser access.

The requests requiring superuser access could be queued in a file that could be
reviewed my a human, then run as superuser after it's been untainted.

D.
Bjorn, suggested I add a comment or two to this thread. I have suggested that 
the ACLs etc. not be part of the committer request form. I believe the process 
of approving a committer is separate from what access they actually need or get.

I am not going ot argue that each project should actually do teh ACL 
modifications, as there ar many advantages to keeping this under tight control. 
However letting the PMCs determine the access who has should be simple and they 
should have a direct path to submit access control changes (as we do in TPTP 
via Hubert to Denis often).

Bjorn needs to approve the names on the committer list and the PMCs need to 
work wiht Denis on what access those people have.
A web page with lists of CVS modules and bugzilla components that can be 
directly edited by special people would be great, but I think Denis iwl ahve ot 
review the changes for validity. The web page could at lest ensure requests are 
in formats that are consistent.

Perhaps some one in WTP would be willing to help construct such a set of pages.
(In reply to comment #5)
&gt; A web page with lists of CVS modules and bugzilla components that can be 
&gt; directly edited by special people would be great, but I think Denis iwl ahve 

I think the concept of a CVS module is very hard to define.

- In /cvsroot/eclipse, all cvs modules are lumped in one directory, despite the
presence of Eclipse subprojects.  Same applies to Tools

- In Birt, all the CVS modules are under a container called "source"

- In Technology, all projects have one directory. In each directory, it's
free-for-all.

In most cases, we assign the PMC as the owner of the top-level directory of
their project, so they can add directories as best they please.

As per comment 3, and understanding the inconsistencies between projects, I have
a hard time seeing how permissions management can be possible without a total
re-mapping of unix groups/permissions to some layer of abstraction.

D.
I'm going to close this as WONTFIX.  I have no idea how this could be done without both a large investment of time and possibly breaking many things.

Feel free to reopen with implementation details/code.

D.
Verifying and/or closing.</WithOutStack>
  </Bug>
  <Bug>
    <BugId amount="104096" />
    <CreationDate amount="2005-07-15 15:55:00 -0400" />
    <DupId amount="" />
    <classification amount="WebTools" />
    <Product amount="WTP ServerTools" />
    <component amount="jst.server" />
    <Version amount="unspecified" />
    <rep_platform amount="PC" />
    <op_sys amount="Windows XP" />
    <priority amount="P3" />
    <bug_severity amount="normal" />
    <Summery>JonAS: Run on Server for Servlet issue</Summery>
    <Patches amount="0" />
    <Stacktraces amount="0" />
    <SourceCodeRegions amount="0" />
    <Enumerations amount="1">
      <Enumeration lines="7">
        <Lines>
          <Line>1. Create a Web project in an EAR</Line>
          <Line>2. Create a Servlet in the Web.</Line>
          <Line>3. Deploy the EAR.</Line>
          <Line>4. In the server installation you can see EAR in  the apps folder.</Line>
          <Line>5. Now if you try to run Servlet from within the J2EE perspective, the Web</Line>
          <Line>project whihch was in the EAR is picked up for deployment and a .war file is</Line>
          <Line>deployed in the  webapps folder of the server.</Line>
        </Lines>
      </Enumeration>
    </Enumerations>
    <bug_status amount="CLOSED" />
    <resolution amount="FIXED" />
    <WithStack>1. Create a Web project in an EAR
2. Create a Servlet in the Web.
3. Deploy the EAR.
4. In the server installation you can see EAR in  the apps folder.
5. Now if you try to run Servlet from within the J2EE perspective, the Web 
project whihch was in the EAR is picked up for deployment and a .war file is 
deployed in the  webapps folder of the server.

   This is a bug since .war  file is already the part of .ear, Servlet should 
be run from  that and not an additional copy be deployed
changing severity to normal since it has a workaround and does not cause a major
loss of functionality.
fixes are in HEAD
I cannot create EAR when JonAS is selected, i have 4.1.4, is that the fix 
which you have put?
No, the deployment issue was independent from the ears. We had to remove the ear
support because of EJB deployment related issues.
This defect cannot be validated since the EAR support is removed for JonAS.
verified</WithStack>
    <WithOutStack>1. Create a Web project in an EAR
2. Create a Servlet in the Web.
3. Deploy the EAR.
4. In the server installation you can see EAR in  the apps folder.
5. Now if you try to run Servlet from within the J2EE perspective, the Web 
project whihch was in the EAR is picked up for deployment and a .war file is 
deployed in the  webapps folder of the server.

   This is a bug since .war  file is already the part of .ear, Servlet should 
be run from  that and not an additional copy be deployed
changing severity to normal since it has a workaround and does not cause a major
loss of functionality.
fixes are in HEAD
I cannot create EAR when JonAS is selected, i have 4.1.4, is that the fix 
which you have put?
No, the deployment issue was independent from the ears. We had to remove the ear
support because of EJB deployment related issues.
This defect cannot be validated since the EAR support is removed for JonAS.
verified</WithOutStack>
  </Bug>
  <Bug>
    <BugId amount="104097" />
    <CreationDate amount="2005-07-15 15:56:00 -0400" />
    <DupId amount="" />
    <classification amount="Eclipse Foundation" />
    <Product amount="Community" />
    <component amount="CommitterTools" />
    <Version amount="unspecified" />
    <rep_platform amount="All" />
    <op_sys amount="All" />
    <priority amount="P3" />
    <bug_severity amount="enhancement" />
    <Summery>Work request tracking system</Summery>
    <Patches amount="0" />
    <Stacktraces amount="0" />
    <SourceCodeRegions amount="0" />
    <Enumerations amount="1">
      <Enumeration lines="24">
        <Lines>
          <Line>1. Infrastructure issues causing outage or performance loss of any kind, or that</Line>
          <Line>can potentially cause outage or performance loss (kernel updates, security</Line>
          <Line>advisories, monitoring, enforcing proper usage of resources, etc).</Line>
          <Line />
          <Line>2. Issues blocking committers from working: password resets, permissions, locked</Line>
          <Line>accounts, firewall issues, slow performance, etc.</Line>
          <Line />
          <Line />
          <Line>The priority of anything below this can be overridden by a) Mike's request  b)</Line>
          <Line>PMC request c) large committer support d) a combination of those</Line>
          <Line />
          <Line>3. Other committer/project issues: new CVS or bugzilla components, new project</Line>
          <Line>provisioning, new lists or groups for projects, new account provisioning,</Line>
          <Line>helping committers get up and going, project reorganizations, etc.</Line>
          <Line />
          <Line>4. General community requests that don't involve infrastructure change,</Line>
          <Line>forwarding e-mail, fixing broken links, etc.</Line>
          <Line />
          <Line>5. Our MBO's, as defined by Mike</Line>
          <Line />
          <Line>6. Enhancement requests and infrastructure changes not covered by the above, and</Line>
          <Line>for which enough community support warrants its execution: anything in bugzilla,</Line>
          <Line>ordered by priority, enhancements last.  Again, anything in this pile can be</Line>
          <Line>brought up higher (or lower) by Mike, Committer/community support, or PMCs.</Line>
        </Lines>
      </Enumeration>
    </Enumerations>
    <bug_status amount="VERIFIED" />
    <resolution amount="WORKSFORME" />
    <WithStack>The webmaster@ email alias should be retired and replaced with a web-based work
request tracking system. If desired, the webmaster@ alias can be retain and
automatically directed to the tracking system.  A work request tracking system
will allow all members and committers to understand the work queue, where their
request fits in the queue, and be able to track the progress of their specific
requests through the queue.  The webmaster@ email is not an open and transparent
work request tracking system.
I think this is a great idea, and I think we should ask the committers to vote
on this issue, since it will impact them the most (after myself).

D.
Do you mean something like http://otrs.org/? If yes then I agree. Although this
makes the webmaster email feel like a support hotline, I think it's a good idea
especially if multiple persons respond with that alias. Tickets can be assigned
to a person and you can track your ticket.

It might be even possible to build a whole helpdesk@eclipse.org around this.
However, I don't know how these systems handle SPAM. But I guess they do.

+1
(In reply to comment #2)
&gt; Do you mean something like http://otrs.org/? If yes then I agree.

I think OTRS would be a good choice.  Sujay had started looking into it back in
the day, and agreed it was a good package.

&gt; It might be even possible to build a whole helpdesk@eclipse.org around this.

Egad no.  If anything, it would have to be an alias that indicates we're the
infra hotline, otherwise I'll get bombarded with "How do I install plugin XYZ"
requests.

D.
+1 for web based work tracking system
So be it. This is likely to be done for Q3 or early Q4.

D.
A work request tracking system has been sandboxed.  We will be declining
requests to webmaster@eclipse.org and Bugzilla components in favor of this
system so we can determine if it's appropriate for our environment. We can
gather feedback here.  I'll be advising committers shortly.

Details:

In order to use the new ticket system you have a couple of options.  You can
send an email to infra-support@eclipse.org which will automatically create a new
ticket and reply with your new ticket number.  Or committers can log in at
phoenix.eclipse.org/customer.pl using their cvs account information and using
the web interface they can create a new ticket.

To track the status of your ticket you must login to
phoenix.eclipse.org/customer.pl, at which point you will be able to search
tickets, examine tickets you have and update your ticket information. 

D.
The URL "phoenix.eclipse.org/customer.pl" appears to be invalid.
What does it mean to "retire" webmaster@eclipse.org? Will emails sent to that
address bounce or receive an automated reply?

Also, what does it mean for the tracking system to be "transparent"? Does that
mean that support requests will all be publicly visible? That loss of
(perceived) privacy seems less than desirable.
The URL appears to be working now. It looks like we need to create another
account to use this system?

It seems like too much hassle for something as simple as "I locked myself out of
CVS again."
Your cvs login information will let you log in to the ticket system.  Or you can
simply send your 'i locked myself out of cvs' message to
infra-support@eclipse.org and it will create a ticket for you.

-M.
Will there be notifications when the status changes or will we have to poll the
system?

Will it still be possible to drop an e-mail? I could imagine that the work queue
system (like bugzilla) might be down while e-mail is still working.
FWIW, here's how we (webmasters) handle our workload, in order of priority. 
It's not written anywhere, and it wasn't imposed on us, but it's how we think it
should be handled.

1. Infrastructure issues causing outage or performance loss of any kind, or that
can potentially cause outage or performance loss (kernel updates, security
advisories, monitoring, enforcing proper usage of resources, etc).

2. Issues blocking committers from working: password resets, permissions, locked
accounts, firewall issues, slow performance, etc.


The priority of anything below this can be overridden by a) Mike's request  b)
PMC request c) large committer support d) a combination of those

3. Other committer/project issues: new CVS or bugzilla components, new project
provisioning, new lists or groups for projects, new account provisioning,
helping committers get up and going, project reorganizations, etc.

4. General community requests that don't involve infrastructure change,
forwarding e-mail, fixing broken links, etc.

5. Our MBO's, as defined by Mike

6. Enhancement requests and infrastructure changes not covered by the above, and
for which enough community support warrants its execution: anything in bugzilla,
ordered by priority, enhancements last.  Again, anything in this pile can be
brought up higher (or lower) by Mike, Committer/community support, or PMCs.


With this being said, I believe that answers one of the initial bug questions in
that it "allows all members and committers to understand the work queue".  I
believe we should discontinue OTRS, as I feel it is redundant and doesn't buy us
anything more than what we have now (Bugzilla/e-mail), but adds another
application we need to maintain, and a fourth location for us to track our own
work.  I suggest we keep using webmaster@eclipse.org and Bugzilla like we have
been, but would propose the following changes in procedure:

- We encourage folks to use Bugzilla for any request that is 4. or higher
numerically. Anything 3. or lower numerically can come to our inbox or Bugzilla,
because we handle them as fast as we can anyways.

- When a work request is sent to our inbox (which is 4. or higher numerically),
we move it to a Bugzilla bug so we can track the work that needs to be done, and
so that it can be open.

- Folks who use Bugzilla and who want to know *when* a priority 4. or higher
numerically will be done should ask for a guesstimated timeframe. 

- Folks who are not happy with where their priority 4. (or higher numerically)
requests are in the queue can gather PMC support, committer support or Mike
support to increase the priority

- Folks understand that if a priority 6 is bumped up to priority 3, it will have
an impact on everything else in 3., 4., 5. and 6.

Comments?
I agree. Closing.
For the sake of documentation, I have added my last blurb to the WebMaster FAQ page:

http://wiki.eclipse.org/index.php/Webmaster_FAQ#Committers</WithStack>
    <WithOutStack>The webmaster@ email alias should be retired and replaced with a web-based work
request tracking system. If desired, the webmaster@ alias can be retain and
automatically directed to the tracking system.  A work request tracking system
will allow all members and committers to understand the work queue, where their
request fits in the queue, and be able to track the progress of their specific
requests through the queue.  The webmaster@ email is not an open and transparent
work request tracking system.
I think this is a great idea, and I think we should ask the committers to vote
on this issue, since it will impact them the most (after myself).

D.
Do you mean something like http://otrs.org/? If yes then I agree. Although this
makes the webmaster email feel like a support hotline, I think it's a good idea
especially if multiple persons respond with that alias. Tickets can be assigned
to a person and you can track your ticket.

It might be even possible to build a whole helpdesk@eclipse.org around this.
However, I don't know how these systems handle SPAM. But I guess they do.

+1
(In reply to comment #2)
&gt; Do you mean something like http://otrs.org/? If yes then I agree.

I think OTRS would be a good choice.  Sujay had started looking into it back in
the day, and agreed it was a good package.

&gt; It might be even possible to build a whole helpdesk@eclipse.org around this.

Egad no.  If anything, it would have to be an alias that indicates we're the
infra hotline, otherwise I'll get bombarded with "How do I install plugin XYZ"
requests.

D.
+1 for web based work tracking system
So be it. This is likely to be done for Q3 or early Q4.

D.
A work request tracking system has been sandboxed.  We will be declining
requests to webmaster@eclipse.org and Bugzilla components in favor of this
system so we can determine if it's appropriate for our environment. We can
gather feedback here.  I'll be advising committers shortly.

Details:

In order to use the new ticket system you have a couple of options.  You can
send an email to infra-support@eclipse.org which will automatically create a new
ticket and reply with your new ticket number.  Or committers can log in at
phoenix.eclipse.org/customer.pl using their cvs account information and using
the web interface they can create a new ticket.

To track the status of your ticket you must login to
phoenix.eclipse.org/customer.pl, at which point you will be able to search
tickets, examine tickets you have and update your ticket information. 

D.
The URL "phoenix.eclipse.org/customer.pl" appears to be invalid.
What does it mean to "retire" webmaster@eclipse.org? Will emails sent to that
address bounce or receive an automated reply?

Also, what does it mean for the tracking system to be "transparent"? Does that
mean that support requests will all be publicly visible? That loss of
(perceived) privacy seems less than desirable.
The URL appears to be working now. It looks like we need to create another
account to use this system?

It seems like too much hassle for something as simple as "I locked myself out of
CVS again."
Your cvs login information will let you log in to the ticket system.  Or you can
simply send your 'i locked myself out of cvs' message to
infra-support@eclipse.org and it will create a ticket for you.

-M.
Will there be notifications when the status changes or will we have to poll the
system?

Will it still be possible to drop an e-mail? I could imagine that the work queue
system (like bugzilla) might be down while e-mail is still working.
FWIW, here's how we (webmasters) handle our workload, in order of priority. 
It's not written anywhere, and it wasn't imposed on us, but it's how we think it
should be handled.

1. Infrastructure issues causing outage or performance loss of any kind, or that
can potentially cause outage or performance loss (kernel updates, security
advisories, monitoring, enforcing proper usage of resources, etc).

2. Issues blocking committers from working: password resets, permissions, locked
accounts, firewall issues, slow performance, etc.


The priority of anything below this can be overridden by a) Mike's request  b)
PMC request c) large committer support d) a combination of those

3. Other committer/project issues: new CVS or bugzilla components, new project
provisioning, new lists or groups for projects, new account provisioning,
helping committers get up and going, project reorganizations, etc.

4. General community requests that don't involve infrastructure change,
forwarding e-mail, fixing broken links, etc.

5. Our MBO's, as defined by Mike

6. Enhancement requests and infrastructure changes not covered by the above, and
for which enough community support warrants its execution: anything in bugzilla,
ordered by priority, enhancements last.  Again, anything in this pile can be
brought up higher (or lower) by Mike, Committer/community support, or PMCs.


With this being said, I believe that answers one of the initial bug questions in
that it "allows all members and committers to understand the work queue".  I
believe we should discontinue OTRS, as I feel it is redundant and doesn't buy us
anything more than what we have now (Bugzilla/e-mail), but adds another
application we need to maintain, and a fourth location for us to track our own
work.  I suggest we keep using webmaster@eclipse.org and Bugzilla like we have
been, but would propose the following changes in procedure:

- We encourage folks to use Bugzilla for any request that is 4. or higher
numerically. Anything 3. or lower numerically can come to our inbox or Bugzilla,
because we handle them as fast as we can anyways.

- When a work request is sent to our inbox (which is 4. or higher numerically),
we move it to a Bugzilla bug so we can track the work that needs to be done, and
so that it can be open.

- Folks who use Bugzilla and who want to know *when* a priority 4. or higher
numerically will be done should ask for a guesstimated timeframe. 

- Folks who are not happy with where their priority 4. (or higher numerically)
requests are in the queue can gather PMC support, committer support or Mike
support to increase the priority

- Folks understand that if a priority 6 is bumped up to priority 3, it will have
an impact on everything else in 3., 4., 5. and 6.

Comments?
I agree. Closing.
For the sake of documentation, I have added my last blurb to the WebMaster FAQ page:

http://wiki.eclipse.org/index.php/Webmaster_FAQ#Committers</WithOutStack>
  </Bug>
  <Bug>
    <BugId amount="104098" />
    <CreationDate amount="2005-07-15 15:58:00 -0400" />
    <DupId amount="" />
    <classification amount="Eclipse Foundation" />
    <Product amount="Community" />
    <component amount="CommitterTools" />
    <Version amount="unspecified" />
    <rep_platform amount="All" />
    <op_sys amount="All" />
    <priority amount="P3" />
    <bug_severity amount="enhancement" />
    <Summery>Webmaster newsletter emails should be available on website</Summery>
    <Patches amount="0" />
    <Stacktraces amount="0" />
    <SourceCodeRegions amount="0" />
    <Enumerations amount="0" />
    <bug_status amount="VERIFIED" />
    <resolution amount="FIXED" />
    <WithStack>Email is a nice event-based mechanism, but it is ephemeral.  All the nice status
messages that the webmaster is sending are being read and then lost - we cannot
go back and look at previous notes.  The Councils have published minutes
recorded on the website - the webmaster notes should be as well.
Webmaster updates are sent to the eclipse.org-committers mailing list. All
Eclipse.org mailing lists support HTML archiving. Historically, eclipse.org-
lists have not been archived for whatever reason. My vote is to enable archiving
of all the Eclipse.org mailing lists, this way I wouldn't have to publish the
same information twice.

D.
Sounds good. There should also be a link from the committers tools and perhaps
the mail eclipse.org site to the mail archives.
Done.  Committer Mail archives are in the committer tools menu. 

D.</WithStack>
    <WithOutStack>Email is a nice event-based mechanism, but it is ephemeral.  All the nice status
messages that the webmaster is sending are being read and then lost - we cannot
go back and look at previous notes.  The Councils have published minutes
recorded on the website - the webmaster notes should be as well.
Webmaster updates are sent to the eclipse.org-committers mailing list. All
Eclipse.org mailing lists support HTML archiving. Historically, eclipse.org-
lists have not been archived for whatever reason. My vote is to enable archiving
of all the Eclipse.org mailing lists, this way I wouldn't have to publish the
same information twice.

D.
Sounds good. There should also be a link from the committers tools and perhaps
the mail eclipse.org site to the mail archives.
Done.  Committer Mail archives are in the committer tools menu. 

D.</WithOutStack>
  </Bug>
  <Bug>
    <BugId amount="104099" />
    <CreationDate amount="2005-07-15 15:59:00 -0400" />
    <DupId amount="" />
    <classification amount="Eclipse Foundation" />
    <Product amount="Community" />
    <component amount="Bugzilla" />
    <Version amount="unspecified" />
    <rep_platform amount="All" />
    <op_sys amount="All" />
    <priority amount="P5" />
    <bug_severity amount="enhancement" />
    <Summery>Search should search in attachments</Summery>
    <Patches amount="0" />
    <Stacktraces amount="0" />
    <SourceCodeRegions amount="0" />
    <Enumerations amount="0" />
    <bug_status amount="REOPENED" />
    <resolution amount="" />
    <WithStack>Searching is a problem since stack traces are often in attachments which are not
searched. Stack traces are good means to find duplicates. However stack traces
are often attached. So search in attachments must be supported as well.
Unless this is a feature of Bugzilla I'm not aware of, this is beyond the scope
of what I can do.

Opening a defect against Bugzilla would be advisable.

D.
This is an issue that causes projects with a high number of problem reports a
considerable amount of manual work. This request focuses on lowering the burden
of administrative work for the projects and make them more productive in their
direct project work. Please consult Mike on this subject before resolving. 

This issues is closely releated to bug 104100.
Please comment/vote for this bug at Mozilla.org:

https://bugzilla.mozilla.org/show_bug.cgi?id=142188

D.
This is absolutely not a good idea.  I regularly see Bugzilla searches that take 60+ seconds, some requiring temp tables to disk, causing table locks for other searches.  Below is an example taken ... 5 minutes ago.  The second column is the query runtime, in seconds.

Query   | 75       | Copying to tmp table                   | SELECT bugs.bug_id, bugs.bug_severity, bugs.priority, bugs.bug_status, bugs.resolution, map_products |
Query   | 50       | Locked                                 | SELECT DISTINCT bugs.bug_id, MIN(group_control_map.membercontrol) FROM bugs INNER JOIN bug_group_map |
Query   | 48       | Locked                                 | SELECT bugs.bug_id, bugs.bug_severity, bugs.priority, bugs.bug_status, bugs.resolution, map_products |
Query   | 47       | Locked                                 | SELECT bug_id FROM bugs WHERE bug_id = 74003                                                         |
Query   | 45       | Locked                                 | SELECT bugs.bug_id, bugs.bug_severity, bugs.priority, bugs.bug_status, bugs.resolution, map_products |
Query   | 45       | Locked                                 | SELECT bugs.

As long as MySQL is unable to perform row locking, the more data in a select, the greater the odds of it locking tables for the rest. Performing fulltext search will only compound the problem, and bugzilla is slow enough as it is.

As an alternative, projects can use PHP to programatically access bugzilla databases.

D.
If the described approach does not work and the database can be programmatically accessed using PHP than I propose to use PHP to provide the search functionality we  request. It should not be that each project has to invent their own way to search the content of attachment. 
Kae, I feel you are abusing your Bugzilla privileges by constantly reopening this bug. Please read comment #6 very carefully - it doesn't matter what language you use:

full text search will kill bugzilla performance using Bugzilla
full text search will kill bugzilla performance using Perl
full text search will kill bugzilla performance using PHP
full text search will kill bugzilla performance using C
full text search will kill bugzilla performance using Assembler

There is a reason Mozilla isn't implementing this - since 2002!!  When this feature can be used on bugzilla.mozilla.org without sacrificing their performance, then we'll implement it here.

D.
The only way I can think of to implement this in a performance friendly way is by using an external search engine that is capable of indexing database entries. It will go through the database an build an index. A search would not be performed in the database but in an index which has links to Bugzilla ids. 

However, I'm afraid that there is no existing solution. It has to be implemented. Denis, can the search engine running on Eclipse.org be extended to support this? What technology is it based on?
Reopening, as there seems to be too much insistance in getting this done.

(In reply to comment #7)
&gt; The only way I can think of to implement this in a performance friendly way is
&gt; by using an external search engine that is capable of indexing database
&gt; entries.

I don't think that would be much better. In any case, one could use google to see if using the search engine would satisfy this requirement - Google should have everything at this point. A couple of months ago I contacted Google and asked them to be less aggressive with their bugzilla index - they were putting servers in the red.  Actually, the same goes for the numerous folks that run recursive wget's in a loop, to fetch all the bugs recursively.

It seems that using our search engine would result in a duplicate store of the bugzilla data, while causing bad bugzilla performance while indexing.

One solution would be to use a second slave database server only for bugzilla attachment searches. Then again, we still don't have any code that will actually do the search, but this would remove the hardware bottleneck.

D.
(In reply to comment #8)
&gt; It seems that using our search engine would result in a duplicate store of the
&gt; bugzilla data, while causing bad bugzilla performance while indexing.

I think that's the nature of indexing. You create an indexed list of references to items. And indexing has a lot advantages. Bugzilla entries AND attachments would be searchable from within the main Eclipse.org search feature.

The Eclipse search engine could run in low traffic hours. But I'm wondering if there is a general way to handle aggressive robots? Maybe something like catching aggressive search robots at Apache level and sending them to a proxy that caches content for 24 hours or longer?


(In reply to comment #9)
&gt; But I'm wondering if
&gt; there is a general way to handle aggressive robots? Maybe something like
&gt; catching aggressive search robots at Apache level and sending them to a proxy
&gt; that caches content for 24 hours or longer?

Don't forget we run a cluster of 3-5 servers, so unlike in a single-server environment, Apache on any given host is not aware of its surroundings.

I agree that a squid cache would be our next step, but if we go this route, we'd enable it site-wide.


&gt; The Eclipse search engine could run in low traffic hours.

I'll tell you what - I've enabled indexing for Bugzilla content.  It's set to run tonight, at 8:00PM Eastern.  Let's see what happens.

D.
I've discontinued indexing the bugzilla content for the following reasons:

- Bugzilla doesn't have a low-traffic period. Because tables can be locked for any amount of time for any query, some folks get frustrated because of the induced lag. Committers have been quite vocal in expressing that Bugzilla functionality and performance are critical; however, attachment search doesn't appear to be.

- Seems redundant to index content that already has a nice search front-end to it; just missing a feature

- Indexing bugzilla never really worked; the search engine indexer kept returning errors. I believe it has to do with the https port mapping we're doing to enable our wildcard cert to work on the same IP address.


I'll close this as LATER to keep track of the Mozilla bug.  We [the Foundation] currently don't have any concrete plans to do anything with this. I suggest you vote for the actual Mozilla enhancement (link below), or convince The Powers Above Me that this needs to be a priority. Right now, I'm way too scared to do anything that will tamper with Bugzilla.

https://bugzilla.mozilla.org/show_bug.cgi?id=142188

D.

*** Bug 147474 has been marked as a duplicate of this bug. ***
Reopening LATER/REMIND bugs.</WithStack>
    <WithOutStack>Searching is a problem since stack traces are often in attachments which are not
searched. Stack traces are good means to find duplicates. However stack traces
are often attached. So search in attachments must be supported as well.
Unless this is a feature of Bugzilla I'm not aware of, this is beyond the scope
of what I can do.

Opening a defect against Bugzilla would be advisable.

D.
This is an issue that causes projects with a high number of problem reports a
considerable amount of manual work. This request focuses on lowering the burden
of administrative work for the projects and make them more productive in their
direct project work. Please consult Mike on this subject before resolving. 

This issues is closely releated to bug 104100.
Please comment/vote for this bug at Mozilla.org:

https://bugzilla.mozilla.org/show_bug.cgi?id=142188

D.
This is absolutely not a good idea.  I regularly see Bugzilla searches that take 60+ seconds, some requiring temp tables to disk, causing table locks for other searches.  Below is an example taken ... 5 minutes ago.  The second column is the query runtime, in seconds.

Query   | 75       | Copying to tmp table                   | SELECT bugs.bug_id, bugs.bug_severity, bugs.priority, bugs.bug_status, bugs.resolution, map_products |
Query   | 50       | Locked                                 | SELECT DISTINCT bugs.bug_id, MIN(group_control_map.membercontrol) FROM bugs INNER JOIN bug_group_map |
Query   | 48       | Locked                                 | SELECT bugs.bug_id, bugs.bug_severity, bugs.priority, bugs.bug_status, bugs.resolution, map_products |
Query   | 47       | Locked                                 | SELECT bug_id FROM bugs WHERE bug_id = 74003                                                         |
Query   | 45       | Locked                                 | SELECT bugs.bug_id, bugs.bug_severity, bugs.priority, bugs.bug_status, bugs.resolution, map_products |
Query   | 45       | Locked                                 | SELECT bugs.

As long as MySQL is unable to perform row locking, the more data in a select, the greater the odds of it locking tables for the rest. Performing fulltext search will only compound the problem, and bugzilla is slow enough as it is.

As an alternative, projects can use PHP to programatically access bugzilla databases.

D.
If the described approach does not work and the database can be programmatically accessed using PHP than I propose to use PHP to provide the search functionality we  request. It should not be that each project has to invent their own way to search the content of attachment. 
Kae, I feel you are abusing your Bugzilla privileges by constantly reopening this bug. Please read comment #6 very carefully - it doesn't matter what language you use:

full text search will kill bugzilla performance using Bugzilla
full text search will kill bugzilla performance using Perl
full text search will kill bugzilla performance using PHP
full text search will kill bugzilla performance using C
full text search will kill bugzilla performance using Assembler

There is a reason Mozilla isn't implementing this - since 2002!!  When this feature can be used on bugzilla.mozilla.org without sacrificing their performance, then we'll implement it here.

D.
The only way I can think of to implement this in a performance friendly way is by using an external search engine that is capable of indexing database entries. It will go through the database an build an index. A search would not be performed in the database but in an index which has links to Bugzilla ids. 

However, I'm afraid that there is no existing solution. It has to be implemented. Denis, can the search engine running on Eclipse.org be extended to support this? What technology is it based on?
Reopening, as there seems to be too much insistance in getting this done.

(In reply to comment #7)
&gt; The only way I can think of to implement this in a performance friendly way is
&gt; by using an external search engine that is capable of indexing database
&gt; entries.

I don't think that would be much better. In any case, one could use google to see if using the search engine would satisfy this requirement - Google should have everything at this point. A couple of months ago I contacted Google and asked them to be less aggressive with their bugzilla index - they were putting servers in the red.  Actually, the same goes for the numerous folks that run recursive wget's in a loop, to fetch all the bugs recursively.

It seems that using our search engine would result in a duplicate store of the bugzilla data, while causing bad bugzilla performance while indexing.

One solution would be to use a second slave database server only for bugzilla attachment searches. Then again, we still don't have any code that will actually do the search, but this would remove the hardware bottleneck.

D.
(In reply to comment #8)
&gt; It seems that using our search engine would result in a duplicate store of the
&gt; bugzilla data, while causing bad bugzilla performance while indexing.

I think that's the nature of indexing. You create an indexed list of references to items. And indexing has a lot advantages. Bugzilla entries AND attachments would be searchable from within the main Eclipse.org search feature.

The Eclipse search engine could run in low traffic hours. But I'm wondering if there is a general way to handle aggressive robots? Maybe something like catching aggressive search robots at Apache level and sending them to a proxy that caches content for 24 hours or longer?


(In reply to comment #9)
&gt; But I'm wondering if
&gt; there is a general way to handle aggressive robots? Maybe something like
&gt; catching aggressive search robots at Apache level and sending them to a proxy
&gt; that caches content for 24 hours or longer?

Don't forget we run a cluster of 3-5 servers, so unlike in a single-server environment, Apache on any given host is not aware of its surroundings.

I agree that a squid cache would be our next step, but if we go this route, we'd enable it site-wide.


&gt; The Eclipse search engine could run in low traffic hours.

I'll tell you what - I've enabled indexing for Bugzilla content.  It's set to run tonight, at 8:00PM Eastern.  Let's see what happens.

D.
I've discontinued indexing the bugzilla content for the following reasons:

- Bugzilla doesn't have a low-traffic period. Because tables can be locked for any amount of time for any query, some folks get frustrated because of the induced lag. Committers have been quite vocal in expressing that Bugzilla functionality and performance are critical; however, attachment search doesn't appear to be.

- Seems redundant to index content that already has a nice search front-end to it; just missing a feature

- Indexing bugzilla never really worked; the search engine indexer kept returning errors. I believe it has to do with the https port mapping we're doing to enable our wildcard cert to work on the same IP address.


I'll close this as LATER to keep track of the Mozilla bug.  We [the Foundation] currently don't have any concrete plans to do anything with this. I suggest you vote for the actual Mozilla enhancement (link below), or convince The Powers Above Me that this needs to be a priority. Right now, I'm way too scared to do anything that will tamper with Bugzilla.

https://bugzilla.mozilla.org/show_bug.cgi?id=142188

D.

*** Bug 147474 has been marked as a duplicate of this bug. ***
Reopening LATER/REMIND bugs.</WithOutStack>
  </Bug>
  <Bug>
    <BugId amount="104100" />
    <CreationDate amount="2005-07-15 16:00:00 -0400" />
    <DupId amount="" />
    <classification amount="Eclipse Foundation" />
    <Product amount="Community" />
    <component amount="Bugzilla" />
    <Version amount="unspecified" />
    <rep_platform amount="All" />
    <op_sys amount="All" />
    <priority amount="P5" />
    <bug_severity amount="enhancement" />
    <Summery>Enable Duplicate Bug Detection</Summery>
    <Patches amount="0" />
    <Stacktraces amount="0" />
    <SourceCodeRegions amount="0" />
    <Enumerations amount="1">
      <Enumeration lines="18">
        <Lines>
          <Line>(a) I think that a group of concerned committers need to work with Bjorn and</Line>
          <Line>Denis to really get a handle on *all* the required changes. If this has already</Line>
          <Line>been done, then let's get a document out for community review and comment. Or do</Line>
          <Line>we really believe that this bug is the only thing people want? (Translation:</Line>
          <Line>starting a never-ending series of incremental changes is not my idea of fun.)</Line>
          <Line />
          <Line>(b) If many changes are required, perhaps its time to think outside the box.</Line>
          <Line>Look at alternatives ranging from switching to JIRA and Subversion to</Line>
          <Line>outsourcing the whole thing to SourceForge or Collabnet that are in this</Line>
          <Line>business. (Translation: Let's have a clear strategy.)</Line>
          <Line />
          <Line>(c) Every other open source project I know of approaches this problem as a</Line>
          <Line>community issue. If the committers are unhappy with the infrastructure, one</Line>
          <Line>obvious solution is to create a project led by Denis or Bjorn with help from</Line>
          <Line>concerned committers where they build and maintain the modifications. Making</Line>
          <Line>this work entirely a Foundation issue does not scale and is missing an</Line>
          <Line>opportunity for community building IMHO. (Translation: Let's see if we can</Line>
          <Line>engage the community.)</Line>
        </Lines>
      </Enumeration>
    </Enumerations>
    <bug_status amount="RESOLVED" />
    <resolution amount="FIXED" />
    <WithStack>The current bug tracking mechanism/tool imposes lots of work on the committers
doing the bug triage. Given that most committers spend a noticeable amount of
time in Bugzilla there should be improvements to make committer's live easier. 

Bugs are often incomplete or duplicates of existing bugs. Other projects for
example have mandatory fields (e.g. the build id, log entries, reproducible
steps, …) and show a list of possible related bugs which the bug reporter can
check for duplicates before reporting a new one.
These FRs could be opened against Bugzilla.

We have agreed that we would keep running "vanilla" applications on the
eclipse.org infrastructure to ensure we have a clean, simple upgrade path.

D.
When you say "we", who are you referring to? Is that Mike?
This is an issue that causes projects with a high number of problem reports a
considerable amount of manual work. This request focuses on lowering the burden
of administrative work for the projects and make them more productive in their
direct project work. Please consult Mike on this subject before resolving.
(In reply to comment #1)
&gt; These FRs could be opened against Bugzilla.
&gt; 
&gt; We have agreed that we would keep running "vanilla" applications on the
&gt; eclipse.org infrastructure to ensure we have a clean, simple upgrade path.

Bugzilla provides support for "guided" bug reporting. However, this requires to
maintain a wizard for filling bugs.

Example:
http://bugzilla.mozilla.org/enter_bug.cgi?product=Bugzilla 

This might not solve alle problems but might be a workaround to force a user to
enter more information when reporting bugs.
(In reply to comment #2)
&gt; When you say "we", who are you referring to? Is that Mike?

We discussed this at our staff meeting in July.  Even Skip agreed that running
vanilla software was the way to go  =)

Although we agreed to not touch the bugzilla code, nothing stops us from
developing third-party tools to access and manipulate the bugzilla database.
These tools could potentially impact data integrity and could break when
upgrading Bugzilla, but at least the core bugzilla code hasn't been changed.

Adding Mike to the CC. Mike, can you comment on this?

D.
(In reply to comment #5)
&gt; (In reply to comment #2)
&gt; &gt; When you say "we", who are you referring to? Is that Mike?
&gt; Adding Mike to the CC. Mike, can you comment on this?

Ah yes. The omnipresent Mike. 

First, let me say that I think that bug triage is a big problem that we need to
fix. Far too much committer time is being wasted on dups and poorly written bugs.

Unfortunately I have a personality disorder that causes me to immediately start
to wonder about the macro case.

We have always resisted modifying the source code for our tools (primarily
Bugzilla and CVS) because of the obvious support burden this would put on us. In
fact, my recollection was that we discussed and agreed to this at the Board.

But all of this is a statement in time, not a religious position. If we decide
that the pain of using Bugzilla "as is" is greater than the pain to change it,
then we could look at making the changes and supporting them. (Or perhaps
contributing resources to the Bugzilla project??)

But where does this stop? I am pretty worried that we are getting onto a
slippery slope if we start making and supporting major modifications to our
development infrastructure. If that is really the way we need to go, then:

(a) I think that a group of concerned committers need to work with Bjorn and
Denis to really get a handle on *all* the required changes. If this has already
been done, then let's get a document out for community review and comment. Or do
we really believe that this bug is the only thing people want? (Translation:
starting a never-ending series of incremental changes is not my idea of fun.)

(b) If many changes are required, perhaps its time to think outside the box.
Look at alternatives ranging from switching to JIRA and Subversion to
outsourcing the whole thing to SourceForge or Collabnet that are in this
business. (Translation: Let's have a clear strategy.)

(c) Every other open source project I know of approaches this problem as a
community issue. If the committers are unhappy with the infrastructure, one
obvious solution is to create a project led by Denis or Bjorn with help from
concerned committers where they build and maintain the modifications. Making
this work entirely a Foundation issue does not scale and is missing an
opportunity for community building IMHO. (Translation: Let's see if we can
engage the community.)

If, in the end, we decide that staffing a position at the Foundation to build
and maintain these mods is the right thing to do, I am certainly willing to
consider it. But right now I am neither convinced that is necessary or the right
thing for the community. 

But I know Bjorn can be persuasive :-)
This issue seems to be open with Mozilla since 1999:

https://bugzilla.mozilla.org/show_bug.cgi?id=22353
I'm closing this as LATER.  Feel free to reopen if you have a follow-up to comment 6.

D.
(In reply to comment #6)
&gt; First, let me say that I think that bug triage is a big problem that we need to
&gt; fix. Far too much committer time is being wasted on dups and poorly written bugs.

You might want to have a look at what the KDE project did to bugzilla -- basically a PHP frontend that guides bugreporters in a wizard-like manner to submit better reports.

To avoid as many dupes as possible, the reporter needs to enter some keywords (typically the summary line) with which a bug database search is performed.

The reporter is presented the results and is asked to look for reports that look like his own problem.

If he finds one, he usually adds a comment to that bugreport and adds himself to the CC list.

If he doesn't he can go on and submit a new one.

That process helped tremendously in preventing dupes.

To see it in action, visit http://bugs.kde.org -- you need to create an account to access the reporting wizard, though.
(In reply to comment #9)
&gt; You might want to have a look at what the KDE project did to bugzilla --
&gt; basically a PHP frontend that guides bugreporters in a wizard-like manner to
&gt; submit better reports.
&gt; 
&gt; To avoid as many dupes as possible, the reporter needs to enter some keywords
&gt; (typically the summary line) with which a bug database search is performed.
&gt; 
&gt; The reporter is presented the results and is asked to look for reports that
&gt; look like his own problem.
&gt; 
&gt; If he finds one, he usually adds a comment to that bugreport and adds himself
&gt; to the CC list.
&gt; 
&gt; If he doesn't he can go on and submit a new one.
&gt; 
&gt; That process helped tremendously in preventing dupes.
&gt; 
&gt; To see it in action, visit http://bugs.kde.org -- you need to create an account
&gt; to access the reporting wizard, though.

I think that this one could be a really good enhancement for Mylar. There was few others that should simplify process of submitting bugs agaianst the Eclipse itself...
Regarding enhancing Bugzilla by Regarding enhancing Bugzilla, I think it would be a bad idea to fork the codebase.  That's what CollabNet has done and they haven't kept up with the improvements, since Bugzilla does have a steady momentum behind it.  Also, Bugzilla.org seems quite responsive to patches so many of the desired improvements could come in that form if the foundation singed up for it.  In general I'm +1 for some foundation resources going to Bugzilla improvements, and think it would be great if Eclipse eventually had a committer on the project that could help tailor Bugzilla to eclipse.org's needs.

Regarding other options, I think that as an open source brand we need to build and work on other open source technologies whenver possible.  Not just for the open source principles that guide us, but also because we are large enough that the ability to contribute, or fork if all else fails, is probably both more valuable and less expensive than being tied into a vendor (even if they are OSS friendly like JIRA).  Regarding specific options, I judged the project management and bug tracker categories for the Jolt Awards and so reviewed the two dozen leading solutions.  As a quick summary of the ones that could scale to ecipse.org I think that CollabNet and SourceForge EE would work worse that our current infrastructure and not add much.  Wrt to bug trackers JIRA is probably the best.  But it's only big improvement over Bugzilla is a better web UI. Unsurprisingly I believe that Bugzilla+Mylar is a much better user experience than JIRA, thanks to the Eclipse integration and all that it enables.  Let me know if you want more opinions on any of the leading solutions.

Regarding Eugene's suggestion and the description, yes, this is something we could do pretty easily if there was interest (bug 143567).  We already have a prototype backround search facility that will find related reports based on stack trace matches but have not enabled this in the UI since we were concerned about overloading the Bugzilla.  But making it work on submission makes sense and would probably result in fewer searches in the end ;)  Also, the automatic creation of a bug report from an Eclipse Error Log view that we're planning (bug 135605) would greatly benefit from finding reports with the same stack trace.

I would like to suggest tikal open source Bugzilla (2.20) enhancement which has great improvment over the regular bugzilla:
* Issue Type, which enable issue tracking
* Version Control Integration CVS and Subversion
* Multi Target and Fixed in versions
* Sub-tasks issues
* Keyword helper
* Browse Dashboard
* and more...

Please, feel free to use this version
 https://dev.tikalk.com/bugzilla_tr
Browser Prompt:
User: eclipse
Password: eclipse


Reopening LATER/REMIND bugs.
https://bugzilla.mozilla.org/show_bug.cgi?id=22353

This is RESOLVED/FIXED with BZ 4.0, which we will be deploying in a couple of weeks.
There's a JSON perl library that's not installing properly.  This is preventing us from enabling the Duplicate Bug Detection.
Duplicate bug detection is enabled.</WithStack>
    <WithOutStack>The current bug tracking mechanism/tool imposes lots of work on the committers
doing the bug triage. Given that most committers spend a noticeable amount of
time in Bugzilla there should be improvements to make committer's live easier. 

Bugs are often incomplete or duplicates of existing bugs. Other projects for
example have mandatory fields (e.g. the build id, log entries, reproducible
steps, …) and show a list of possible related bugs which the bug reporter can
check for duplicates before reporting a new one.
These FRs could be opened against Bugzilla.

We have agreed that we would keep running "vanilla" applications on the
eclipse.org infrastructure to ensure we have a clean, simple upgrade path.

D.
When you say "we", who are you referring to? Is that Mike?
This is an issue that causes projects with a high number of problem reports a
considerable amount of manual work. This request focuses on lowering the burden
of administrative work for the projects and make them more productive in their
direct project work. Please consult Mike on this subject before resolving.
(In reply to comment #1)
&gt; These FRs could be opened against Bugzilla.
&gt; 
&gt; We have agreed that we would keep running "vanilla" applications on the
&gt; eclipse.org infrastructure to ensure we have a clean, simple upgrade path.

Bugzilla provides support for "guided" bug reporting. However, this requires to
maintain a wizard for filling bugs.

Example:
http://bugzilla.mozilla.org/enter_bug.cgi?product=Bugzilla 

This might not solve alle problems but might be a workaround to force a user to
enter more information when reporting bugs.
(In reply to comment #2)
&gt; When you say "we", who are you referring to? Is that Mike?

We discussed this at our staff meeting in July.  Even Skip agreed that running
vanilla software was the way to go  =)

Although we agreed to not touch the bugzilla code, nothing stops us from
developing third-party tools to access and manipulate the bugzilla database.
These tools could potentially impact data integrity and could break when
upgrading Bugzilla, but at least the core bugzilla code hasn't been changed.

Adding Mike to the CC. Mike, can you comment on this?

D.
(In reply to comment #5)
&gt; (In reply to comment #2)
&gt; &gt; When you say "we", who are you referring to? Is that Mike?
&gt; Adding Mike to the CC. Mike, can you comment on this?

Ah yes. The omnipresent Mike. 

First, let me say that I think that bug triage is a big problem that we need to
fix. Far too much committer time is being wasted on dups and poorly written bugs.

Unfortunately I have a personality disorder that causes me to immediately start
to wonder about the macro case.

We have always resisted modifying the source code for our tools (primarily
Bugzilla and CVS) because of the obvious support burden this would put on us. In
fact, my recollection was that we discussed and agreed to this at the Board.

But all of this is a statement in time, not a religious position. If we decide
that the pain of using Bugzilla "as is" is greater than the pain to change it,
then we could look at making the changes and supporting them. (Or perhaps
contributing resources to the Bugzilla project??)

But where does this stop? I am pretty worried that we are getting onto a
slippery slope if we start making and supporting major modifications to our
development infrastructure. If that is really the way we need to go, then:

(a) I think that a group of concerned committers need to work with Bjorn and
Denis to really get a handle on *all* the required changes. If this has already
been done, then let's get a document out for community review and comment. Or do
we really believe that this bug is the only thing people want? (Translation:
starting a never-ending series of incremental changes is not my idea of fun.)

(b) If many changes are required, perhaps its time to think outside the box.
Look at alternatives ranging from switching to JIRA and Subversion to
outsourcing the whole thing to SourceForge or Collabnet that are in this
business. (Translation: Let's have a clear strategy.)

(c) Every other open source project I know of approaches this problem as a
community issue. If the committers are unhappy with the infrastructure, one
obvious solution is to create a project led by Denis or Bjorn with help from
concerned committers where they build and maintain the modifications. Making
this work entirely a Foundation issue does not scale and is missing an
opportunity for community building IMHO. (Translation: Let's see if we can
engage the community.)

If, in the end, we decide that staffing a position at the Foundation to build
and maintain these mods is the right thing to do, I am certainly willing to
consider it. But right now I am neither convinced that is necessary or the right
thing for the community. 

But I know Bjorn can be persuasive :-)
This issue seems to be open with Mozilla since 1999:

https://bugzilla.mozilla.org/show_bug.cgi?id=22353
I'm closing this as LATER.  Feel free to reopen if you have a follow-up to comment 6.

D.
(In reply to comment #6)
&gt; First, let me say that I think that bug triage is a big problem that we need to
&gt; fix. Far too much committer time is being wasted on dups and poorly written bugs.

You might want to have a look at what the KDE project did to bugzilla -- basically a PHP frontend that guides bugreporters in a wizard-like manner to submit better reports.

To avoid as many dupes as possible, the reporter needs to enter some keywords (typically the summary line) with which a bug database search is performed.

The reporter is presented the results and is asked to look for reports that look like his own problem.

If he finds one, he usually adds a comment to that bugreport and adds himself to the CC list.

If he doesn't he can go on and submit a new one.

That process helped tremendously in preventing dupes.

To see it in action, visit http://bugs.kde.org -- you need to create an account to access the reporting wizard, though.
(In reply to comment #9)
&gt; You might want to have a look at what the KDE project did to bugzilla --
&gt; basically a PHP frontend that guides bugreporters in a wizard-like manner to
&gt; submit better reports.
&gt; 
&gt; To avoid as many dupes as possible, the reporter needs to enter some keywords
&gt; (typically the summary line) with which a bug database search is performed.
&gt; 
&gt; The reporter is presented the results and is asked to look for reports that
&gt; look like his own problem.
&gt; 
&gt; If he finds one, he usually adds a comment to that bugreport and adds himself
&gt; to the CC list.
&gt; 
&gt; If he doesn't he can go on and submit a new one.
&gt; 
&gt; That process helped tremendously in preventing dupes.
&gt; 
&gt; To see it in action, visit http://bugs.kde.org -- you need to create an account
&gt; to access the reporting wizard, though.

I think that this one could be a really good enhancement for Mylar. There was few others that should simplify process of submitting bugs agaianst the Eclipse itself...
Regarding enhancing Bugzilla by Regarding enhancing Bugzilla, I think it would be a bad idea to fork the codebase.  That's what CollabNet has done and they haven't kept up with the improvements, since Bugzilla does have a steady momentum behind it.  Also, Bugzilla.org seems quite responsive to patches so many of the desired improvements could come in that form if the foundation singed up for it.  In general I'm +1 for some foundation resources going to Bugzilla improvements, and think it would be great if Eclipse eventually had a committer on the project that could help tailor Bugzilla to eclipse.org's needs.

Regarding other options, I think that as an open source brand we need to build and work on other open source technologies whenver possible.  Not just for the open source principles that guide us, but also because we are large enough that the ability to contribute, or fork if all else fails, is probably both more valuable and less expensive than being tied into a vendor (even if they are OSS friendly like JIRA).  Regarding specific options, I judged the project management and bug tracker categories for the Jolt Awards and so reviewed the two dozen leading solutions.  As a quick summary of the ones that could scale to ecipse.org I think that CollabNet and SourceForge EE would work worse that our current infrastructure and not add much.  Wrt to bug trackers JIRA is probably the best.  But it's only big improvement over Bugzilla is a better web UI. Unsurprisingly I believe that Bugzilla+Mylar is a much better user experience than JIRA, thanks to the Eclipse integration and all that it enables.  Let me know if you want more opinions on any of the leading solutions.

Regarding Eugene's suggestion and the description, yes, this is something we could do pretty easily if there was interest (bug 143567).  We already have a prototype backround search facility that will find related reports based on stack trace matches but have not enabled this in the UI since we were concerned about overloading the Bugzilla.  But making it work on submission makes sense and would probably result in fewer searches in the end ;)  Also, the automatic creation of a bug report from an Eclipse Error Log view that we're planning (bug 135605) would greatly benefit from finding reports with the same stack trace.

I would like to suggest tikal open source Bugzilla (2.20) enhancement which has great improvment over the regular bugzilla:
* Issue Type, which enable issue tracking
* Version Control Integration CVS and Subversion
* Multi Target and Fixed in versions
* Sub-tasks issues
* Keyword helper
* Browse Dashboard
* and more...

Please, feel free to use this version
 https://dev.tikalk.com/bugzilla_tr
Browser Prompt:
User: eclipse
Password: eclipse


Reopening LATER/REMIND bugs.
https://bugzilla.mozilla.org/show_bug.cgi?id=22353

This is RESOLVED/FIXED with BZ 4.0, which we will be deploying in a couple of weeks.
There's a JSON perl library that's not installing properly.  This is preventing us from enabling the Duplicate Bug Detection.
Duplicate bug detection is enabled.</WithOutStack>
  </Bug>
</infozilla-output>

