<?xml version="1.0" encoding="UTF-8"?>
<infozilla-output>
  <Bug>
    <BugId amount="107601" />
    <CreationDate amount="2005-08-22 10:15:00 -0400" />
    <DupId amount="" />
    <classification amount="Eclipse Foundation" />
    <Product amount="z_Archived" />
    <component amount="TPTP.monitoring" />
    <Version amount="unspecified" />
    <rep_platform amount="All" />
    <op_sys amount="All" />
    <priority amount="P3" />
    <bug_severity amount="normal" />
    <Summery>'Add' dialog box for adding new hosts doesn't have the correct label</Summery>
    <Patches amount="0" />
    <Stacktraces amount="0" />
    <SourceCodeRegions amount="0" />
    <Enumerations amount="0" />
    <bug_status amount="CLOSED" />
    <resolution amount="FIXED" />
    <WithStack>Create a new attach launch configuration -&gt; click on the Add button on the
'host' tab -&gt; Notice that the label for the host name appears as 'STR_PREF_HOST_IP'

Doesn't seem to be properly resolved.
fixed
Verified in: TPTP-4.1.0-200509160100\eclipse
Closing.</WithStack>
    <WithOutStack>Create a new attach launch configuration -&gt; click on the Add button on the
'host' tab -&gt; Notice that the label for the host name appears as 'STR_PREF_HOST_IP'

Doesn't seem to be properly resolved.
fixed
Verified in: TPTP-4.1.0-200509160100\eclipse
Closing.</WithOutStack>
  </Bug>
  <Bug>
    <BugId amount="107602" />
    <CreationDate amount="2005-08-22 10:17:00 -0400" />
    <DupId amount="" />
    <classification amount="Eclipse" />
    <Product amount="Platform" />
    <component amount="User Assistance" />
    <Version amount="3.1" />
    <rep_platform amount="PC" />
    <op_sys amount="Windows XP" />
    <priority amount="P3" />
    <bug_severity amount="normal" />
    <Summery>[Intro] NL fragments can cause missing images in jarred Intro plugins</Summery>
    <Patches amount="0" />
    <Stacktraces amount="0" />
    <SourceCodeRegions amount="0" />
    <Enumerations amount="0" />
    <bug_status amount="VERIFIED" />
    <resolution amount="FIXED" />
    <WithStack>NL support is intro has a bug that appears when plugins that have intro comtent 
are jarred.
when a plugin that contains intro content is jarred, the intro code extracts 
all resources from the directory that contains that intro content file. (The 
assumption is that all resources must be relative to the intro content file and 
so extracting the parent folder is sufficient to expose all resource to the SWT 
browser on the file system).
However, when there is an NL fragment for the jarred intro plugin, the 
extraction code in intro is not sufficient to extract all resources. What is 
happening is that resources from under the fragment are being extracted but the 
original host plugin reousrces are not. This is bad because "delta" resources 
(eg: images and CSS files) can not be dropped in NL fragments. All resources 
need to be copied to the NL fragment to work around this problem.  

Currently, the runtime apis do not have convenience/util apis that return a 
list of URLs that represent a given folder (or IPath) when multiple matches are 
found. The Runtime team supplied a workaround in bug 107374 (btw, that runtime 
team). 

Intro component will use this workaround for 3.1.1. In 3.2, the runtime team 
might posibly include these apis and make them public.
Runtime workaround in bug 107374 is released in intro R3_1_maintanence stream.
Map file will be updated today after more testing.  
map file updated and released. 
Tested on Linux.
verified on eclipse-SDK-M20050923-1430-win32.zip with the following IES NL 
fragments: 
  
NLpack1_FeatureOverlay-eclipse-SDK-M20050923-1430.zip
NLpack1-eclipse-SDK-M20050923-1430-win32.zip
NLpack2_FeatureOverlay-eclipse-SDK-M20050923-1430.zip
NLpack2-eclipse-SDK-M20050923-1430-win32.zip
NLpackBidi_FeatureOverlay-eclipse-SDK-M20050923-1430.zip
NLpackBidi-eclipse-SDK-M20050923-1430-win32.zip</WithStack>
    <WithOutStack>NL support is intro has a bug that appears when plugins that have intro comtent 
are jarred.
when a plugin that contains intro content is jarred, the intro code extracts 
all resources from the directory that contains that intro content file. (The 
assumption is that all resources must be relative to the intro content file and 
so extracting the parent folder is sufficient to expose all resource to the SWT 
browser on the file system).
However, when there is an NL fragment for the jarred intro plugin, the 
extraction code in intro is not sufficient to extract all resources. What is 
happening is that resources from under the fragment are being extracted but the 
original host plugin reousrces are not. This is bad because "delta" resources 
(eg: images and CSS files) can not be dropped in NL fragments. All resources 
need to be copied to the NL fragment to work around this problem.  

Currently, the runtime apis do not have convenience/util apis that return a 
list of URLs that represent a given folder (or IPath) when multiple matches are 
found. The Runtime team supplied a workaround in bug 107374 (btw, that runtime 
team). 

Intro component will use this workaround for 3.1.1. In 3.2, the runtime team 
might posibly include these apis and make them public.
Runtime workaround in bug 107374 is released in intro R3_1_maintanence stream.
Map file will be updated today after more testing.  
map file updated and released. 
Tested on Linux.
verified on eclipse-SDK-M20050923-1430-win32.zip with the following IES NL 
fragments: 
  
NLpack1_FeatureOverlay-eclipse-SDK-M20050923-1430.zip
NLpack1-eclipse-SDK-M20050923-1430-win32.zip
NLpack2_FeatureOverlay-eclipse-SDK-M20050923-1430.zip
NLpack2-eclipse-SDK-M20050923-1430-win32.zip
NLpackBidi_FeatureOverlay-eclipse-SDK-M20050923-1430.zip
NLpackBidi-eclipse-SDK-M20050923-1430-win32.zip</WithOutStack>
  </Bug>
  <Bug>
    <BugId amount="107603" />
    <CreationDate amount="2005-08-22 10:19:00 -0400" />
    <DupId amount="" />
    <classification amount="Eclipse" />
    <Product amount="Platform" />
    <component amount="Releng" />
    <Version amount="3.2" />
    <rep_platform amount="PC" />
    <op_sys amount="All" />
    <priority amount="P3" />
    <bug_severity amount="normal" />
    <Summery>Remove feature.xml from source template directories</Summery>
    <Patches amount="0" />
    <Stacktraces amount="0" />
    <SourceCodeRegions amount="0" />
    <Enumerations amount="0" />
    <bug_status amount="RESOLVED" />
    <resolution amount="FIXED" />
    <WithStack>A reminder bug to remove the feature.xml files from the source template
directories in org.eclipse.platform and org.eclipse.jdt.
Fix released for builds &gt; 20060209-1100.</WithStack>
    <WithOutStack>A reminder bug to remove the feature.xml files from the source template
directories in org.eclipse.platform and org.eclipse.jdt.
Fix released for builds &gt; 20060209-1100.</WithOutStack>
  </Bug>
  <Bug>
    <BugId amount="107604" />
    <CreationDate amount="2005-08-22 10:22:00 -0400" />
    <DupId amount="107636" />
    <classification amount="Tools" />
    <Product amount="AJDT" />
    <component amount="UI" />
    <Version amount="unspecified" />
    <rep_platform amount="PC" />
    <op_sys amount="Windows XP" />
    <priority amount="P3" />
    <bug_severity amount="normal" />
    <Summery>Crosscutting comparison view doesn't update after build</Summery>
    <Patches amount="0" />
    <Stacktraces amount="0" />
    <SourceCodeRegions amount="0" />
    <Enumerations amount="0" />
    <bug_status amount="RESOLVED" />
    <resolution amount="DUPLICATE" />
    <WithStack>Saving the cross cutting information to a .ajmap file, then comparing it with
the current build shows nothing in the view (as expected). However, when you
then include an aspect which you know to introduce more cross cutting
information, the view doesn't update with this new information (even after a
build). The view continues to show no differences. Even if you save out the
current information to another .ajmap file and compare the two there are no
differences.

For reference, this is Manual Test CCDIFF_5.
This is caused by the relationship map not being updated.


*** This bug has been marked as a duplicate of 107636 ***</WithStack>
    <WithOutStack>Saving the cross cutting information to a .ajmap file, then comparing it with
the current build shows nothing in the view (as expected). However, when you
then include an aspect which you know to introduce more cross cutting
information, the view doesn't update with this new information (even after a
build). The view continues to show no differences. Even if you save out the
current information to another .ajmap file and compare the two there are no
differences.

For reference, this is Manual Test CCDIFF_5.
This is caused by the relationship map not being updated.


*** This bug has been marked as a duplicate of 107636 ***</WithOutStack>
  </Bug>
  <Bug>
    <BugId amount="107605" />
    <CreationDate amount="2005-08-22 10:27:00 -0400" />
    <DupId amount="" />
    <classification amount="Eclipse" />
    <Product amount="Platform" />
    <component amount="Runtime" />
    <Version amount="3.1" />
    <rep_platform amount="PC" />
    <op_sys amount="Windows XP" />
    <priority amount="P3" />
    <bug_severity amount="normal" />
    <Summery>[osgi] Bundle.findEntries does not find directory entries in the root of a bundle</Summery>
    <Patches amount="0" />
    <Stacktraces amount="0" />
    <SourceCodeRegions amount="1">
      <source_code type="assignment">
        <location start="131" end="192" />
        <code>Enumeration fooDirs = bundle.findEntries("/", "foo/", false);</code>
      </source_code>
    </SourceCodeRegions>
    <Enumerations amount="0" />
    <bug_status amount="RESOLVED" />
    <resolution amount="FIXED" />
    <WithStack>If a bundle has a root directory "foo/" then the following call should return 
an enumeration containing a URL to that directory:

Enumeration fooDirs = bundle.findEntries("/", "foo/", false);

Currently null is returned because the code incorrectly substrings the 
matching string "foo/" at the last '/' char.
Fixed in head.  Will attach a patch for 3.1.1.
Created attachment 26337
Proposed fix for 3.1.1

Pascal, please review for 3.1.1, thanks.
Created attachment 26357
Proposed fix for 3.1.1

The first fix had some issues.	This patch correctly uses the last segment of
the bundle entry paths to match against the filePattern.
Pascal, please take a look at the latest patch to the maintenance branch.  I 
already released the new patch to HEAD since the current fix in HEAD was bogus.

Patch reviewed. Good to go.
Fixed in maintenance branch.</WithStack>
    <WithOutStack>If a bundle has a root directory "foo/" then the following call should return 
an enumeration containing a URL to that directory:

Enumeration fooDirs = bundle.findEntries("/", "foo/", false);

Currently null is returned because the code incorrectly substrings the 
matching string "foo/" at the last '/' char.
Fixed in head.  Will attach a patch for 3.1.1.
Created attachment 26337
Proposed fix for 3.1.1

Pascal, please review for 3.1.1, thanks.
Created attachment 26357
Proposed fix for 3.1.1

The first fix had some issues.	This patch correctly uses the last segment of
the bundle entry paths to match against the filePattern.
Pascal, please take a look at the latest patch to the maintenance branch.  I 
already released the new patch to HEAD since the current fix in HEAD was bogus.

Patch reviewed. Good to go.
Fixed in maintenance branch.</WithOutStack>
  </Bug>
  <Bug>
    <BugId amount="107606" />
    <CreationDate amount="2005-08-22 10:28:00 -0400" />
    <DupId amount="" />
    <classification amount="Tools" />
    <Product amount="AJDT" />
    <component amount="UI" />
    <Version amount="unspecified" />
    <rep_platform amount="PC" />
    <op_sys amount="Windows XP" />
    <priority amount="P3" />
    <bug_severity amount="normal" />
    <Summery>Able to set breakpoint in strange places in AJ editor</Summery>
    <Patches amount="0" />
    <Stacktraces amount="0" />
    <SourceCodeRegions amount="0" />
    <Enumerations amount="0" />
    <bug_status amount="RESOLVED" />
    <resolution amount="FIXED" />
    <WithStack>When you open files in the AJ editor, you are able to set breakpoints in strange
places, for example, alongside empty lines, or variable declarations. In the
java editor, the breakpoint immediately jumps to the next "sensible" place.
Updated ToggleBreakpointAdapter and related classes to check for breakpoint suitability using the AjModel intead of the AJDE model. This is still an approximation until we have full AST support. Fixed in the following builds:

1.2.1:
BUILD COMPLETE -  build.594
Date of build: 11/30/2005 10:32:03
Time to build: 36 minutes 40 seconds
Last changed: 11/30/2005 10:16:42
Last log entry: 107606: Able to set breakpoint in strange places in AJ editor

1.3.0:
BUILD COMPLETE -  build.35
Date of build:	11/29/2005 12:18:44
Time to build:	15 minutes 39 seconds
Last changed:	11/29/2005 12:03:44
Last log entry:	updating aj build to be 1.5.0.20051129161753</WithStack>
    <WithOutStack>When you open files in the AJ editor, you are able to set breakpoints in strange
places, for example, alongside empty lines, or variable declarations. In the
java editor, the breakpoint immediately jumps to the next "sensible" place.
Updated ToggleBreakpointAdapter and related classes to check for breakpoint suitability using the AjModel intead of the AJDE model. This is still an approximation until we have full AST support. Fixed in the following builds:

1.2.1:
BUILD COMPLETE -  build.594
Date of build: 11/30/2005 10:32:03
Time to build: 36 minutes 40 seconds
Last changed: 11/30/2005 10:16:42
Last log entry: 107606: Able to set breakpoint in strange places in AJ editor

1.3.0:
BUILD COMPLETE -  build.35
Date of build:	11/29/2005 12:18:44
Time to build:	15 minutes 39 seconds
Last changed:	11/29/2005 12:03:44
Last log entry:	updating aj build to be 1.5.0.20051129161753</WithOutStack>
  </Bug>
  <Bug>
    <BugId amount="107607" />
    <CreationDate amount="2005-08-22 10:33:00 -0400" />
    <DupId amount="" />
    <classification amount="Eclipse" />
    <Product amount="Platform" />
    <component amount="User Assistance" />
    <Version amount="3.2" />
    <rep_platform amount="PC" />
    <op_sys amount="Windows 2000" />
    <priority amount="P3" />
    <bug_severity amount="enhancement" />
    <Summery>[Help] Ability to provide ToC files that work properly with associated hrefs both when linked into as branches in a larger collection and when loaded as primary on their own</Summery>
    <Patches amount="0" />
    <Stacktraces amount="0" />
    <SourceCodeRegions amount="0" />
    <Enumerations amount="1">
      <Enumeration lines="6">
        <Lines>
          <Line>- If plug-in A provides the container for plug-in B's topics (and links to its</Line>
          <Line>topic 1), then this container shows up empty when plug-in B is not installed.</Line>
          <Line>This isn't acceptable.</Line>
          <Line>- If plug-in B provides the container for its topics (and links to its topic 1),</Line>
          <Line>then when plug-in B is installed alone, there is a duplicate container (label</Line>
          <Line>from the primary toc &gt; container &gt; topics). This isn't acceptable.</Line>
        </Lines>
      </Enumeration>
    </Enumerations>
    <bug_status amount="NEW" />
    <resolution amount="" />
    <WithStack>Support for this is needed in all help deployment scenarios
(standalone/infocenter and integrated scenarios).

Given a model where you want to be able to provide a plug-in for a doc component
that may be deployed at one time as a primary entry for one valid configuration,
or may be part of a larger body of help for a larger valid configuration
(depending on the install scenario), there is currently no way to have the top
level of the component help link to a page in the contents pane when the
component help is part of the larger body of help.

Picture of success to achieve is for a top-level topic appearing in the
right-hand frame, regardless of that doc plug-in used in a component install vs.
a product install of the component. This allows for portability/reuse of doc
plug-ins in any valid configuration. 

Here is the scenario:
Two plug-ins, each with a primary toc. Plug-in A holds the primary toc for the
larger body of help and plug-in B holds the toc for the component help (must be
primary for it to be able to stand alone). The primary toc in plug-in A links to
the primary toc in plug-in B - however, there are cases where plug-in B installs
alone and there are cases where plug-in B doesn't get installed at all. (fyi -
'links to'  here means either by a link tag or via an anchor)

When both plug-ins are installed, the help should look like this at runtime:
    A (primary)
    |
    |- B (links to topic 1 in plug-in B that displays in the right-hand frame)
        |
        |- topic 2
        |- topic 3
    |- other help that A links to that we don't care about for this scenario

When plug-in B is installed alone, the help should look like this at runtime:
    B (primary)(links to topic 1 in plug-in B that displays in the right-hand frame)
    |
    |- topic 2
    |- topic 3

When plug-in A is installed alone, there should be no evidence of plug-in B at
runtime. (Plug-in A does have other content - it is still necessary.)

At all times, clicking on an entry in the Contents frame produces content in the
right-hand frame.

Currently this cannot be implemented in an acceptable way for content
presentation to the user:
- If plug-in A provides the container for plug-in B's topics (and links to its
topic 1), then this container shows up empty when plug-in B is not installed.
This isn't acceptable.
- If plug-in B provides the container for its topics (and links to its topic 1),
then when plug-in B is installed alone, there is a duplicate container (label
from the primary toc &gt; container &gt; topics). This isn't acceptable.

Suggestion:
Plug-in A's primary toc does this:
   &lt;topic label="Some label"&gt;
      &lt;anchor id="some_anchor"/&gt;
   &lt;/topic&gt;
If nothing anchors in, this topic container will not show up (this is current
help system functionality). Allow toc's that anchor in to provide the href
attribute to this topic (let the href be an extension point of some sort). If
more than one toc anchors in to some_anchor and extends the href, have the
right-hand topic pane contain a combination of both href's. 

Potential problems identified with this suggested solution: if many toc's anchor
in, you'd have many parts of help in the topic pane and this could affect
readability. However, in reality, rarely would one get many (or even multiple)
toc's anchoring in to the same anchor.

--Lee Anne Kowalski
IBM User Assistance Technologies
In 3.3 there has been new API added to allow you to create your own toc provider. It would be possible to write the logic for this sort of scenario yourself.

See the AbstractTocProvider class.

Furthermore, if operating in workbench mode, it would be possible to filter the toc entry out depending on the presence of plug-in B. See the following help document:

http://help.eclipse.org/stable/topic/org.eclipse.platform.doc.isv/guide/ua_dynamic_filters.htm

You would need to put a tag like this as a child of the topic to be filtered:

&lt;enablement&gt;
  &lt;with variable="platform"&gt;
    &lt;test property="org.eclipse.core.runtime.isBundleInstalled" args="&lt;pluginB_id&gt;"/&gt;
  &lt;/with&gt;
&lt;/enablement&gt;</WithStack>
    <WithOutStack>Support for this is needed in all help deployment scenarios
(standalone/infocenter and integrated scenarios).

Given a model where you want to be able to provide a plug-in for a doc component
that may be deployed at one time as a primary entry for one valid configuration,
or may be part of a larger body of help for a larger valid configuration
(depending on the install scenario), there is currently no way to have the top
level of the component help link to a page in the contents pane when the
component help is part of the larger body of help.

Picture of success to achieve is for a top-level topic appearing in the
right-hand frame, regardless of that doc plug-in used in a component install vs.
a product install of the component. This allows for portability/reuse of doc
plug-ins in any valid configuration. 

Here is the scenario:
Two plug-ins, each with a primary toc. Plug-in A holds the primary toc for the
larger body of help and plug-in B holds the toc for the component help (must be
primary for it to be able to stand alone). The primary toc in plug-in A links to
the primary toc in plug-in B - however, there are cases where plug-in B installs
alone and there are cases where plug-in B doesn't get installed at all. (fyi -
'links to'  here means either by a link tag or via an anchor)

When both plug-ins are installed, the help should look like this at runtime:
    A (primary)
    |
    |- B (links to topic 1 in plug-in B that displays in the right-hand frame)
        |
        |- topic 2
        |- topic 3
    |- other help that A links to that we don't care about for this scenario

When plug-in B is installed alone, the help should look like this at runtime:
    B (primary)(links to topic 1 in plug-in B that displays in the right-hand frame)
    |
    |- topic 2
    |- topic 3

When plug-in A is installed alone, there should be no evidence of plug-in B at
runtime. (Plug-in A does have other content - it is still necessary.)

At all times, clicking on an entry in the Contents frame produces content in the
right-hand frame.

Currently this cannot be implemented in an acceptable way for content
presentation to the user:
- If plug-in A provides the container for plug-in B's topics (and links to its
topic 1), then this container shows up empty when plug-in B is not installed.
This isn't acceptable.
- If plug-in B provides the container for its topics (and links to its topic 1),
then when plug-in B is installed alone, there is a duplicate container (label
from the primary toc &gt; container &gt; topics). This isn't acceptable.

Suggestion:
Plug-in A's primary toc does this:
   &lt;topic label="Some label"&gt;
      &lt;anchor id="some_anchor"/&gt;
   &lt;/topic&gt;
If nothing anchors in, this topic container will not show up (this is current
help system functionality). Allow toc's that anchor in to provide the href
attribute to this topic (let the href be an extension point of some sort). If
more than one toc anchors in to some_anchor and extends the href, have the
right-hand topic pane contain a combination of both href's. 

Potential problems identified with this suggested solution: if many toc's anchor
in, you'd have many parts of help in the topic pane and this could affect
readability. However, in reality, rarely would one get many (or even multiple)
toc's anchoring in to the same anchor.

--Lee Anne Kowalski
IBM User Assistance Technologies
In 3.3 there has been new API added to allow you to create your own toc provider. It would be possible to write the logic for this sort of scenario yourself.

See the AbstractTocProvider class.

Furthermore, if operating in workbench mode, it would be possible to filter the toc entry out depending on the presence of plug-in B. See the following help document:

http://help.eclipse.org/stable/topic/org.eclipse.platform.doc.isv/guide/ua_dynamic_filters.htm

You would need to put a tag like this as a child of the topic to be filtered:

&lt;enablement&gt;
  &lt;with variable="platform"&gt;
    &lt;test property="org.eclipse.core.runtime.isBundleInstalled" args="&lt;pluginB_id&gt;"/&gt;
  &lt;/with&gt;
&lt;/enablement&gt;</WithOutStack>
  </Bug>
  <Bug>
    <BugId amount="107608" />
    <CreationDate amount="2005-08-22 10:35:00 -0400" />
    <DupId amount="" />
    <classification amount="Tools" />
    <Product amount="AJDT" />
    <component amount="UI" />
    <Version amount="unspecified" />
    <rep_platform amount="PC" />
    <op_sys amount="Windows XP" />
    <priority amount="P3" />
    <bug_severity amount="normal" />
    <Summery>Eclipse 3.1: aspectj icons no longer appear on welcome pages</Summery>
    <Patches amount="0" />
    <Stacktraces amount="0" />
    <SourceCodeRegions amount="0" />
    <Enumerations amount="0" />
    <bug_status amount="RESOLVED" />
    <resolution amount="FIXED" />
    <WithStack>When you bring up the welcome pages, the aspectj/ajdt entries no longer have
their icons - this is a regression since AJDT 1.2.
This is specific to Eclipse 3.1. The latest AJDT development drop on eclipse 3.0
has the icons appearing as expected.
The fix is that in the .xml files, for example
intro/eclipse/ajdtOverviewExtensionContext.xml, the paths to the ajdt.properties
file were intro/eclipse/css/ajdt.properties when on eclispe 3.1 they should have
been css/ajdt.properties (relative to the current position).

This is an Eclipse 3.1 specific change because putting this fix into the eclipse
3.0 stream (AJDT 1.2) causes this bug to be seen when it was all fine.

The fix has been integrated - just waiting for a clean build to close the bug.
The build which contains this fix is AJDT 1.3:

BUILD COMPLETE -  build.70
Date of build: 08/22/2005 16:34:06
Time to build: 35 minutes 46 seconds
Last changed: 08/22/2005 16:12:26
Last log entry: Fix for bug 107608

Therefore, closing this bug.</WithStack>
    <WithOutStack>When you bring up the welcome pages, the aspectj/ajdt entries no longer have
their icons - this is a regression since AJDT 1.2.
This is specific to Eclipse 3.1. The latest AJDT development drop on eclipse 3.0
has the icons appearing as expected.
The fix is that in the .xml files, for example
intro/eclipse/ajdtOverviewExtensionContext.xml, the paths to the ajdt.properties
file were intro/eclipse/css/ajdt.properties when on eclispe 3.1 they should have
been css/ajdt.properties (relative to the current position).

This is an Eclipse 3.1 specific change because putting this fix into the eclipse
3.0 stream (AJDT 1.2) causes this bug to be seen when it was all fine.

The fix has been integrated - just waiting for a clean build to close the bug.
The build which contains this fix is AJDT 1.3:

BUILD COMPLETE -  build.70
Date of build: 08/22/2005 16:34:06
Time to build: 35 minutes 46 seconds
Last changed: 08/22/2005 16:12:26
Last log entry: Fix for bug 107608

Therefore, closing this bug.</WithOutStack>
  </Bug>
  <Bug>
    <BugId amount="107609" />
    <CreationDate amount="2005-08-22 10:40:00 -0400" />
    <DupId amount="" />
    <classification amount="Eclipse Foundation" />
    <Product amount="Community" />
    <component amount="Process" />
    <Version amount="unspecified" />
    <rep_platform amount="All" />
    <op_sys amount="All" />
    <priority amount="P2" />
    <bug_severity amount="enhancement" />
    <Summery>Mailing list to RSS archive [was: Members only newsgroup]</Summery>
    <Patches amount="0" />
    <Stacktraces amount="0" />
    <SourceCodeRegions amount="0" />
    <Enumerations amount="1">
      <Enumeration lines="6">
        <Lines>
          <Line>1. A standard website location that we (Denis and Bjorn and whomever else) puts files to send to the committers.</Line>
          <Line>2. A webpage that automatically (through a script) shows all the files in chronological order).</Line>
          <Line>3. An RSS feed, also automatically generated from the directory of files.</Line>
          <Line>4. A by-request email list (in other words, not to all committers - only to those who want it), automatically generate from the RSS feed once a day.</Line>
          <Line>5. A read-only newsgroup, also automatically generated from the RSS feed.</Line>
          <Line>That should cover everyone, yah?</Line>
        </Lines>
      </Enumeration>
    </Enumerations>
    <bug_status amount="RESOLVED" />
    <resolution amount="FIXED" />
    <WithStack>Bjorn has started using RSS feeds for some membership-related stuff that he 
used to email instead.  While I have an RSS reader, it's just another place I 
have to go and look for information to stay on top of things.

Instead, I'd prefer to have a members-only newsgroup that can receive auto-
posts from an RSS feed.

This newsgroup could also be used for other members-only content.
I suggest the membership-related stuff be e-mailed like it used to; however, an
RSS file could be built from the mail archives.

We currently have a maillist -&gt; html converter, a maillist -&gt; rss shouldn't be
too hard to brew up.

Ultimately, the foundation needs to define a common source for anouncements...
Be it a mailing list, a newsgroup, an RSS feed or an XML file. We can't maintain
multidirectional communication between various data sources efficiently without
going nuts.

-D.
Moving to Community/Process

Bjorn, would it make sense to define a standard way of communicating information to our committers?  I use the committers mailing list, but Doug sais here that there are RSS files.  What's your take on this?

D.

Yes, we should define a standard mechanism. And probably (because Denis has infinite time to maintain such) we should have multiple synchronized mechanisms.

How about:
1. A standard website location that we (Denis and Bjorn and whomever else) puts files to send to the committers.
2. A webpage that automatically (through a script) shows all the files in chronological order).
3. An RSS feed, also automatically generated from the directory of files.
4. A by-request email list (in other words, not to all committers - only to those who want it), automatically generate from the RSS feed once a day.
5. A read-only newsgroup, also automatically generated from the RSS feed.
That should cover everyone, yah?

Currently, I send emails (a few, but people ignore them) and I auto-generate an RSS feed of announcements from a small text database.  We could merge that in with the Committer RSS/mail/news or we could keep it separate.

But I do think a consistent mechanism would be good. I thought RSS was going to be a good choice, but apparently it's not a happy choice for everyone. So having four separate mechanisms (web, RSS, email, news) might be the best choice.

At our last staff meeting, Bjorn and I agreed that we would use mailing lists as the communication medium for committers - and possible for members, but I'm not sure.

From there, we already have a mail-to-HTML archive software (the mailing list archives) than can be levraged to produce RSS feeds.  This offers three different media for receiving communications from us.

I don't think we can levrage newsgroups into the equation, because some lists, like the membership list and the committers list, are moderated and non-public.  I can't easily control access to the news server.

D.
Renaming this bug
RSS feeds are now available for all lists that meet the following requirements:

* They are archived
* They have had at least one mail since Aug 18, 2007

Each list's HTML page will now show whether or not it has an RSS feed available.  Feeds are generated every few minutes and could lag behind slightly.</WithStack>
    <WithOutStack>Bjorn has started using RSS feeds for some membership-related stuff that he 
used to email instead.  While I have an RSS reader, it's just another place I 
have to go and look for information to stay on top of things.

Instead, I'd prefer to have a members-only newsgroup that can receive auto-
posts from an RSS feed.

This newsgroup could also be used for other members-only content.
I suggest the membership-related stuff be e-mailed like it used to; however, an
RSS file could be built from the mail archives.

We currently have a maillist -&gt; html converter, a maillist -&gt; rss shouldn't be
too hard to brew up.

Ultimately, the foundation needs to define a common source for anouncements...
Be it a mailing list, a newsgroup, an RSS feed or an XML file. We can't maintain
multidirectional communication between various data sources efficiently without
going nuts.

-D.
Moving to Community/Process

Bjorn, would it make sense to define a standard way of communicating information to our committers?  I use the committers mailing list, but Doug sais here that there are RSS files.  What's your take on this?

D.

Yes, we should define a standard mechanism. And probably (because Denis has infinite time to maintain such) we should have multiple synchronized mechanisms.

How about:
1. A standard website location that we (Denis and Bjorn and whomever else) puts files to send to the committers.
2. A webpage that automatically (through a script) shows all the files in chronological order).
3. An RSS feed, also automatically generated from the directory of files.
4. A by-request email list (in other words, not to all committers - only to those who want it), automatically generate from the RSS feed once a day.
5. A read-only newsgroup, also automatically generated from the RSS feed.
That should cover everyone, yah?

Currently, I send emails (a few, but people ignore them) and I auto-generate an RSS feed of announcements from a small text database.  We could merge that in with the Committer RSS/mail/news or we could keep it separate.

But I do think a consistent mechanism would be good. I thought RSS was going to be a good choice, but apparently it's not a happy choice for everyone. So having four separate mechanisms (web, RSS, email, news) might be the best choice.

At our last staff meeting, Bjorn and I agreed that we would use mailing lists as the communication medium for committers - and possible for members, but I'm not sure.

From there, we already have a mail-to-HTML archive software (the mailing list archives) than can be levraged to produce RSS feeds.  This offers three different media for receiving communications from us.

I don't think we can levrage newsgroups into the equation, because some lists, like the membership list and the committers list, are moderated and non-public.  I can't easily control access to the news server.

D.
Renaming this bug
RSS feeds are now available for all lists that meet the following requirements:

* They are archived
* They have had at least one mail since Aug 18, 2007

Each list's HTML page will now show whether or not it has an RSS feed available.  Feeds are generated every few minutes and could lag behind slightly.</WithOutStack>
  </Bug>
  <Bug>
    <BugId amount="107610" />
    <CreationDate amount="2005-08-22 10:40:00 -0400" />
    <DupId amount="" />
    <classification amount="Tools" />
    <Product amount="TPTP Profiling" />
    <component amount="Trace.UI" />
    <Version amount="4.1" />
    <rep_platform amount="PC" />
    <op_sys amount="Windows 2000" />
    <priority amount="P3" />
    <bug_severity amount="normal" />
    <Summery>Some icons missing in build TPTP-4.1.0-200508220150</Summery>
    <Patches amount="0" />
    <Stacktraces amount="0" />
    <SourceCodeRegions amount="0" />
    <Enumerations amount="0" />
    <bug_status amount="CLOSED" />
    <resolution amount="FIXED" />
    <WithStack>build: TPTP-4.1.0-200508220150

The images/icons are missing for the buttons in the profiling and logging 
perspective.  For the "Execution Flow," "Memory Statistics," "Execution 
Statistics," "Coverage Statistics," and "Object References."
fixed

icon path in plugin.xml is not recognized after distributing plugin as jar
fixed also sdb and log import icons
verified, build: TPTP-4.1.0-200508230100</WithStack>
    <WithOutStack>build: TPTP-4.1.0-200508220150

The images/icons are missing for the buttons in the profiling and logging 
perspective.  For the "Execution Flow," "Memory Statistics," "Execution 
Statistics," "Coverage Statistics," and "Object References."
fixed

icon path in plugin.xml is not recognized after distributing plugin as jar
fixed also sdb and log import icons
verified, build: TPTP-4.1.0-200508230100</WithOutStack>
  </Bug>
  <Bug>
    <BugId amount="107611" />
    <CreationDate amount="2005-08-22 10:41:00 -0400" />
    <DupId amount="97756" />
    <classification amount="WebTools" />
    <Product amount="WTP Java EE Tools" />
    <component amount="jst.j2ee" />
    <Version amount="0.7" />
    <rep_platform amount="PC" />
    <op_sys amount="Windows XP" />
    <priority amount="P3" />
    <bug_severity amount="normal" />
    <Summery>Servlet cannot be updated for WebLogic 8.1</Summery>
    <Patches amount="0" />
    <Stacktraces amount="0" />
    <SourceCodeRegions amount="0" />
    <Enumerations amount="0" />
    <bug_status amount="CLOSED" />
    <resolution amount="DUPLICATE" />
    <WithStack>I wrote a simple J2EE project, including only a WAR module.  Inside that 
module, there is only 1 simple Servlet.
I used WTP0.7 to deploy on Generic WebLogic 8.1.  It worked well.
However, when I changed the source code for the Servlet, and run the "deploy" 
to re-deploy the changed Servlet to the server, I got unchanged.  The one run 
on the server was still the old one.  Even I tried to restart the WebLogic 
server and Eclipse, the same problem was there.
You can assign this one to me. 

Neil: one potential cause: if you don't have auto-build turned on, you'll need
to explicitly execute a build prior to redeploying the app (also, the generic
WLS adapter uses the auto-deploy dir for deployment and it can take the server a
variable amount of time to pick up the changes; the deployment script does pause
to give the server time to process the new deployment but it may have been
insufficient for this case).
Based on some further investigation by Neil, it looks like the problem in this
case is that the WAR file within the EAR project's .deployables is sporadically
not being rebuilt (the WLS generic adapter never even redeploys in this case
since it is comparing timestamps). I'm going to redirect the bug (may be related
to 104533).
This should be resolved as part of solution for removal of .deployables.

*** This bug has been marked as a duplicate of 97756 ***
This bug was moved to 'closed' state, since it is so old and since it is a dup, worksforme, invalid bug that its unlikely to still be useful or need further attention. Feel free to re-open, or open a new bug, if this semi-automatic processing was done in error.</WithStack>
    <WithOutStack>I wrote a simple J2EE project, including only a WAR module.  Inside that 
module, there is only 1 simple Servlet.
I used WTP0.7 to deploy on Generic WebLogic 8.1.  It worked well.
However, when I changed the source code for the Servlet, and run the "deploy" 
to re-deploy the changed Servlet to the server, I got unchanged.  The one run 
on the server was still the old one.  Even I tried to restart the WebLogic 
server and Eclipse, the same problem was there.
You can assign this one to me. 

Neil: one potential cause: if you don't have auto-build turned on, you'll need
to explicitly execute a build prior to redeploying the app (also, the generic
WLS adapter uses the auto-deploy dir for deployment and it can take the server a
variable amount of time to pick up the changes; the deployment script does pause
to give the server time to process the new deployment but it may have been
insufficient for this case).
Based on some further investigation by Neil, it looks like the problem in this
case is that the WAR file within the EAR project's .deployables is sporadically
not being rebuilt (the WLS generic adapter never even redeploys in this case
since it is comparing timestamps). I'm going to redirect the bug (may be related
to 104533).
This should be resolved as part of solution for removal of .deployables.

*** This bug has been marked as a duplicate of 97756 ***
This bug was moved to 'closed' state, since it is so old and since it is a dup, worksforme, invalid bug that its unlikely to still be useful or need further attention. Feel free to re-open, or open a new bug, if this semi-automatic processing was done in error.</WithOutStack>
  </Bug>
  <Bug>
    <BugId amount="107612" />
    <CreationDate amount="2005-08-22 10:43:00 -0400" />
    <DupId amount="" />
    <classification amount="WebTools" />
    <Product amount="WTP Source Editing" />
    <component amount="wst.html" />
    <Version amount="unspecified" />
    <rep_platform amount="PC" />
    <op_sys amount="Windows XP" />
    <priority amount="P3" />
    <bug_severity amount="normal" />
    <Summery>Create a JUnit performance testcase for bug 106158</Summery>
    <Patches amount="0" />
    <Stacktraces amount="0" />
    <SourceCodeRegions amount="0" />
    <Enumerations amount="0" />
    <bug_status amount="CLOSED" />
    <resolution amount="FIXED" />
    <WithStack>Create a JUnit performance testcase for bug 106158. Refer to bug 106158 for 
details.
fixed.
verified.
closing bug.</WithStack>
    <WithOutStack>Create a JUnit performance testcase for bug 106158. Refer to bug 106158 for 
details.
fixed.
verified.
closing bug.</WithOutStack>
  </Bug>
  <Bug>
    <BugId amount="107613" />
    <CreationDate amount="2005-08-22 10:46:00 -0400" />
    <DupId amount="" />
    <classification amount="WebTools" />
    <Product amount="WTP EJB Tools" />
    <component amount="jst.ejb" />
    <Version amount="1.5" />
    <rep_platform amount="PC" />
    <op_sys amount="Windows XP" />
    <priority amount="P3" />
    <bug_severity amount="normal" />
    <Summery>Wizard cannot omit local/remote interfaces.</Summery>
    <Patches amount="0" />
    <Stacktraces amount="0" />
    <SourceCodeRegions amount="0" />
    <Enumerations amount="0" />
    <bug_status amount="CLOSED" />
    <resolution amount="FIXED" />
    <WithStack>Like WSAD, wizard allows user to choose if he wanna only local or only remote 
interfaces.
But using WTP, there is no such machanism.  The code generated by the WTP 
always includes all the 5 interfaces.  Even in the utililty class, all 
local/remote interfaces are co-existing.
I think it's much better to allow user to only generate local/remote 
interfaces, since for SSB, ususally only local interfaces make sense.
I will check and see if there is a resonable way of doing this.  The generation
of  local/remote interfaces is an xdoclet task.  I will need to see how
configurable that is per bean.


Added ejbdoclet pereferences to optionally generate local/remote interfaces.

--WARNING--

If you generate a utilobject, xdoclet does not handle combinations of these
tasks. i.e. not generatingf remote interfaces but adding util object creates a
uil object that still creates method for the remote interface.  You should open
a bug for this at xdoclet.

 
Just a note.

If you need to generate local session beans only make sure to include the
"view-type" annotation in your bean class 

 @ejb.bean name="My"	
 *           description="A session bean named My"
 *           view-type="local"
 *           display-name="My"
 *           jndi-name="My"
 *           type="Stateless" 
 *           transaction-type="Container"
This change is a bulk update of all _un_targeted, fixed, resolved bugs upon release of M5. This particular bug _might_ have been fixed earlier than M5. (Feel free to correct). 


This is part of a mass update to close out all stale WTP resolved bugs from the 1.0.x and 1.5.0 timeframe.  If you feel this bug was closed inappropriately, please reopen.

Thanks, John Lanuti</WithStack>
    <WithOutStack>Like WSAD, wizard allows user to choose if he wanna only local or only remote 
interfaces.
But using WTP, there is no such machanism.  The code generated by the WTP 
always includes all the 5 interfaces.  Even in the utililty class, all 
local/remote interfaces are co-existing.
I think it's much better to allow user to only generate local/remote 
interfaces, since for SSB, ususally only local interfaces make sense.
I will check and see if there is a resonable way of doing this.  The generation
of  local/remote interfaces is an xdoclet task.  I will need to see how
configurable that is per bean.


Added ejbdoclet pereferences to optionally generate local/remote interfaces.

--WARNING--

If you generate a utilobject, xdoclet does not handle combinations of these
tasks. i.e. not generatingf remote interfaces but adding util object creates a
uil object that still creates method for the remote interface.  You should open
a bug for this at xdoclet.

 
Just a note.

If you need to generate local session beans only make sure to include the
"view-type" annotation in your bean class 

 @ejb.bean name="My"	
 *           description="A session bean named My"
 *           view-type="local"
 *           display-name="My"
 *           jndi-name="My"
 *           type="Stateless" 
 *           transaction-type="Container"
This change is a bulk update of all _un_targeted, fixed, resolved bugs upon release of M5. This particular bug _might_ have been fixed earlier than M5. (Feel free to correct). 


This is part of a mass update to close out all stale WTP resolved bugs from the 1.0.x and 1.5.0 timeframe.  If you feel this bug was closed inappropriately, please reopen.

Thanks, John Lanuti</WithOutStack>
  </Bug>
  <Bug>
    <BugId amount="107614" />
    <CreationDate amount="2005-08-22 10:52:00 -0400" />
    <DupId amount="" />
    <classification amount="Eclipse" />
    <Product amount="Platform" />
    <component amount="SWT" />
    <Version amount="3.1" />
    <rep_platform amount="Macintosh" />
    <op_sys amount="Mac OS X - Carbon (unsup.)" />
    <priority amount="P3" />
    <bug_severity amount="minor" />
    <Summery>Bad dialog size/layout for SWT-GTK on OSX</Summery>
    <Patches amount="0" />
    <Stacktraces amount="1">
      <Stacktrace timestamp="1437330570105">
        <Exception>java.lang.NullPointerException</Exception>
        <Reason />
        <Frames>
          <Frame depth="0">org.eclipse.swt.custom.StyledText.computeSize(StyledText.java:2101)</Frame>
          <Frame depth="1">org.eclipse.swt.layout.FormData.computeSize(FormData.java:116)</Frame>
          <Frame depth="2">org.eclipse.swt.layout.FormData.getWidth(FormData.java:145)</Frame>
          <Frame depth="3">org.eclipse.swt.layout.FormData.getRightAttachment(FormData.java:246)</Frame>
          <Frame depth="4">org.eclipse.swt.layout.FormLayout.layout(FormLayout.java:305)</Frame>
          <Frame depth="5">org.eclipse.swt.layout.FormLayout.layout(FormLayout.java:284)</Frame>
          <Frame depth="6">org.eclipse.swt.widgets.Composite.updateLayout(Composite.java:1133)</Frame>
          <Frame depth="7">org.eclipse.swt.widgets.Shell.resizeBounds(Shell.java:1071)</Frame>
          <Frame depth="8">org.eclipse.swt.widgets.Shell.gtk_size_allocate(Shell.java:876)</Frame>
          <Frame depth="9">org.eclipse.swt.widgets.Widget.windowProc(Widget.java:1375)</Frame>
          <Frame depth="10">org.eclipse.swt.widgets.Display.windowProc(Display.java:3442)</Frame>
          <Frame depth="11">org.eclipse.swt.internal.gtk.OS._gtk_widget_realize(Native Method)</Frame>
          <Frame depth="12">org.eclipse.swt.internal.gtk.OS.gtk_widget_realize(OS.java:7154)</Frame>
          <Frame depth="13">org.eclipse.swt.widgets.Control.getFgColor(Control.java:1615)</Frame>
          <Frame depth="14">org.eclipse.swt.widgets.Control.getForegroundColor(Control.java:1610)</Frame>
          <Frame depth="15">org.eclipse.swt.widgets.Control.setForeground(Control.java:2766)</Frame>
          <Frame depth="16">org.eclipse.swt.custom.StyledText.&lt;init&gt;(StyledText.java:1620)</Frame>
          <Frame depth="17">org.gudy.azureus2.ui.swt.sharing.progress.ProgressWindow$progressDialog.&lt;init&gt;(ProgressWindow.java:104)</Frame>
          <Frame depth="18">org.gudy.azureus2.ui.swt.sharing.progress.ProgressWindow.&lt;init&gt;(ProgressWindow.java:74)</Frame>
          <Frame depth="19">org.gudy.azureus2.ui.swt.mainwindow.MainWindow.openMainWindow(MainWindow.java:706)</Frame>
          <Frame depth="20">org.gudy.azureus2.ui.swt.mainwindow.MainWindow.access$15(MainWindow.java:703)</Frame>
          <Frame depth="21">org.gudy.azureus2.ui.swt.mainwindow.MainWindow$31.runSupport(MainWindow.java:1491)</Frame>
          <Frame depth="22">org.gudy.azureus2.core3.util.AERunnable.run(AERunnable.java:38)</Frame>
          <Frame depth="23">org.eclipse.swt.widgets.RunnableLock.run(RunnableLock.java:35)</Frame>
          <Frame depth="24">org.eclipse.swt.widgets.Synchronizer.runAsyncMessages(Synchronizer.java:123)</Frame>
          <Frame depth="25">org.eclipse.swt.widgets.Display.runAsyncMessages(Display.java:2844)</Frame>
          <Frame depth="26">org.eclipse.swt.widgets.Display.readAndDispatch(Display.java:2575)</Frame>
          <Frame depth="27">org.gudy.azureus2.ui.swt.mainwindow.SWTThread.&lt;init&gt;(SWTThread.java:114)</Frame>
          <Frame depth="28">org.gudy.azureus2.ui.swt.mainwindow.SWTThread.createInstance(SWTThread.java:58)</Frame>
          <Frame depth="29">org.gudy.azureus2.ui.swt.mainwindow.Initializer.&lt;init&gt;(Initializer.java:107)</Frame>
          <Frame depth="30">org.gudy.azureus2.ui.swt.Main.&lt;init&gt;(Main.java:71)</Frame>
          <Frame depth="31">org.gudy.azureus2.ui.swt.Main.main(Main.java:98)</Frame>
        </Frames>
      </Stacktrace>
    </Stacktraces>
    <SourceCodeRegions amount="0" />
    <Enumerations amount="0" />
    <bug_status amount="RESOLVED" />
    <resolution amount="WONTFIX" />
    <WithStack>When running eclipse using GTK on OSX, many dialogs are badly sized.  I
documented my setup of eclipse/gtk/osx at
http://simplygenius.com/geekblog/2005/08/22/1124720745359.html


I'd much rather performance fixes for SWT/carbon, but Billy Biggs suggested I
submit these screenshots of badly sized dialogs for gtk on osx as they may also
impact non-standard configurations of linux/gtk.

I'm attaching screenshots of the find dialog and cycle part dialog (next/prev
editor)
Created attachment 26338
find dialog
Created attachment 26339
next/prev editor popup
You mentioned you tried multiple window managers (good idea).  For kicks, could
you also try in fullscreen X?

Also, can you get this program, compile it, run it, and attach the output here:
   http://vektor.ca/bugs/gtkinfo.c

The compile line is at the top of the file.
Tried in fullscreen X (OSX's built in X), with both quartz-wm and metacity, same
effect.

Attaching gtkinfo

Created attachment 26355
gtkinfo output
Created attachment 26910
gtkinfo on OS X 10.4.2 build 8C46 &amp; Apple X11, Fink GTK+
Wow, more interest in this? :)

I haven't had time to look into this yet, but the font size information from the
gtkinfo output seems sane, which leaves me confused about where the problem
could be.
I guess its not just me who thinks eclipse-carbon is slow :)
You know it must be _really_ slow for us to go to the lengths we have to try and
eke out some speed ;)

Let me know what I can do to help.

If your main motivation is the speed of eclipse/carbon, have you tried profiling
it at all using the profiling tools?  Could it be that there's something wrong
with your system?  Worth discussing in another bug I guess.

My main motivation for this bug is that I suspect there's a bug in GTK+ or SWT/GTK+.
Might be a hint, Azureus throws an interesting exception and doesn't display the main window with the 
gtk-x11 jnilibs (uh, it comes with swt3106, I'm using 3138 for the gtk-x11).

java.lang.NullPointerException
        at org.eclipse.swt.custom.StyledText.computeSize(StyledText.java:2101)
        at org.eclipse.swt.layout.FormData.computeSize(FormData.java:116)
        at org.eclipse.swt.layout.FormData.getWidth(FormData.java:145)
        at org.eclipse.swt.layout.FormData.getRightAttachment(FormData.java:246)
        at org.eclipse.swt.layout.FormLayout.layout(FormLayout.java:305)
        at org.eclipse.swt.layout.FormLayout.layout(FormLayout.java:284)
        at org.eclipse.swt.widgets.Composite.updateLayout(Composite.java:1133)
        at org.eclipse.swt.widgets.Shell.resizeBounds(Shell.java:1071)
        at org.eclipse.swt.widgets.Shell.gtk_size_allocate(Shell.java:876)
        at org.eclipse.swt.widgets.Widget.windowProc(Widget.java:1375)
        at org.eclipse.swt.widgets.Display.windowProc(Display.java:3442)
        at org.eclipse.swt.internal.gtk.OS._gtk_widget_realize(Native Method)
        at org.eclipse.swt.internal.gtk.OS.gtk_widget_realize(OS.java:7154)
        at org.eclipse.swt.widgets.Control.getFgColor(Control.java:1615)
        at org.eclipse.swt.widgets.Control.getForegroundColor(Control.java:1610)
        at org.eclipse.swt.widgets.Control.setForeground(Control.java:2766)
        at org.eclipse.swt.custom.StyledText.&lt;init&gt;(StyledText.java:1620)
        at org.gudy.azureus2.ui.swt.sharing.progress.ProgressWindow$progressDialog.&lt;init&gt;
(ProgressWindow.java:104)
        at org.gudy.azureus2.ui.swt.sharing.progress.ProgressWindow.&lt;init&gt;(ProgressWindow.java:74)
        at org.gudy.azureus2.ui.swt.mainwindow.MainWindow.openMainWindow(MainWindow.java:706)
        at org.gudy.azureus2.ui.swt.mainwindow.MainWindow.access$15(MainWindow.java:703)
        at org.gudy.azureus2.ui.swt.mainwindow.MainWindow$31.runSupport(MainWindow.java:1491)
        at org.gudy.azureus2.core3.util.AERunnable.run(AERunnable.java:38)
        at org.eclipse.swt.widgets.RunnableLock.run(RunnableLock.java:35)
        at org.eclipse.swt.widgets.Synchronizer.runAsyncMessages(Synchronizer.java:123)
        at org.eclipse.swt.widgets.Display.runAsyncMessages(Display.java:2844)
        at org.eclipse.swt.widgets.Display.readAndDispatch(Display.java:2575)
        at org.gudy.azureus2.ui.swt.mainwindow.SWTThread.&lt;init&gt;(SWTThread.java:114)
        at org.gudy.azureus2.ui.swt.mainwindow.SWTThread.createInstance(SWTThread.java:58)
        at org.gudy.azureus2.ui.swt.mainwindow.Initializer.&lt;init&gt;(Initializer.java:107)
        at org.gudy.azureus2.ui.swt.Main.&lt;init&gt;(Main.java:71)
        at org.gudy.azureus2.ui.swt.Main.main(Main.java:98)

I'm not sure about the NPE in Azureus, but after debugging bug 110412 with some
FreeBSD users on IRC and here, I have a theory about what's going on.  I bet the
some of the dlopen() calls are failing, and maybe we're not finding the
libraries we're looking for.

Can you attach the version of os_custom.h you're using for your OSX build of SWT?
I'm one of the "Lazy" so I'm using the libraries as built by you on your website :)
http://vektor.ca/eclipse/swt-gtk-darwin/
Yup, someone is running GTK on OS X.  Bogdan, of course this isn't officially supported.  You can close this as WONTFIX if you want (but I hate to discourage these wild and wonderful guys).
I don't actually need this anymore since the speed of os x eclipse has gotten better, so thas what I'm using now.
Feel free to fix or not as you desire :)
Closing report.</WithStack>
    <WithOutStack>When running eclipse using GTK on OSX, many dialogs are badly sized.  I
documented my setup of eclipse/gtk/osx at
http://simplygenius.com/geekblog/2005/08/22/1124720745359.html


I'd much rather performance fixes for SWT/carbon, but Billy Biggs suggested I
submit these screenshots of badly sized dialogs for gtk on osx as they may also
impact non-standard configurations of linux/gtk.

I'm attaching screenshots of the find dialog and cycle part dialog (next/prev
editor)
Created attachment 26338
find dialog
Created attachment 26339
next/prev editor popup
You mentioned you tried multiple window managers (good idea).  For kicks, could
you also try in fullscreen X?

Also, can you get this program, compile it, run it, and attach the output here:
   http://vektor.ca/bugs/gtkinfo.c

The compile line is at the top of the file.
Tried in fullscreen X (OSX's built in X), with both quartz-wm and metacity, same
effect.

Attaching gtkinfo

Created attachment 26355
gtkinfo output
Created attachment 26910
gtkinfo on OS X 10.4.2 build 8C46 &amp; Apple X11, Fink GTK+
Wow, more interest in this? :)

I haven't had time to look into this yet, but the font size information from the
gtkinfo output seems sane, which leaves me confused about where the problem
could be.
I guess its not just me who thinks eclipse-carbon is slow :)
You know it must be _really_ slow for us to go to the lengths we have to try and
eke out some speed ;)

Let me know what I can do to help.

If your main motivation is the speed of eclipse/carbon, have you tried profiling
it at all using the profiling tools?  Could it be that there's something wrong
with your system?  Worth discussing in another bug I guess.

My main motivation for this bug is that I suspect there's a bug in GTK+ or SWT/GTK+.
Might be a hint, Azureus throws an interesting exception and doesn't display the main window with the 
gtk-x11 jnilibs (uh, it comes with swt3106, I'm using 3138 for the gtk-x11).



I'm not sure about the NPE in Azureus, but after debugging bug 110412 with some
FreeBSD users on IRC and here, I have a theory about what's going on.  I bet the
some of the dlopen() calls are failing, and maybe we're not finding the
libraries we're looking for.

Can you attach the version of os_custom.h you're using for your OSX build of SWT?
I'm one of the "Lazy" so I'm using the libraries as built by you on your website :)
http://vektor.ca/eclipse/swt-gtk-darwin/
Yup, someone is running GTK on OS X.  Bogdan, of course this isn't officially supported.  You can close this as WONTFIX if you want (but I hate to discourage these wild and wonderful guys).
I don't actually need this anymore since the speed of os x eclipse has gotten better, so thas what I'm using now.
Feel free to fix or not as you desire :)
Closing report.</WithOutStack>
  </Bug>
  <Bug>
    <BugId amount="107615" />
    <CreationDate amount="2005-08-22 10:53:00 -0400" />
    <DupId amount="" />
    <classification amount="Tools" />
    <Product amount="TPTP Release Engineering" />
    <component amount="TPTP.Web" />
    <Version amount="4.1" />
    <rep_platform amount="All" />
    <op_sys amount="All" />
    <priority amount="P1" />
    <bug_severity amount="normal" />
    <Summery>Update the project matrix</Summery>
    <Patches amount="0" />
    <Stacktraces amount="0" />
    <SourceCodeRegions amount="0" />
    <Enumerations amount="0" />
    <bug_status amount="CLOSED" />
    <resolution amount="FIXED" />
    <WithStack>As per the email from Mark Dunn &amp; Scott Schneider, the default owner of the
following components changes:
   Test Perspective: from Joe Toomey to Scott
   Artifact: from Joe Toomey to Mark Dunn
   TestSuite: from Joe Toomey to Mark Dunn
Confirmed:
Platform.UI.SequenceDiagram: from Dominique to Valentina
Test.Execution: to Kent Siefkes

Tentative:
Test.UI.JUnit: Jerome Gout
Test.Execution.JUnitRunner: Jerome Gout
Test.UI.DatapoolEditor: Jerome Gout
Test.UI.Reporting: Jerome Gout
Test.Analysis: Scott Schneider

TBD:
Trace.UI
Platform.UI.Charting
Which bugzilla component owns "org.eclipse.tptp.test.samples"?
Test Charting (no bugzilla component for Test Charting)
New Test component for Test UI macro record/playback


Committer Changes:
Steve Gutz to Platform.Analysis
Kim Letkeman to Platform.Analysis
Randy Smith to Agent Controller Components (list?)
Kevin O'Leary to Agent Controller Components (list?)
Ali Mehregani to the new Test UI macro record/playback component 
Ruth Lee now a committer in the Documentation cells

Confirmed:
Trace.UI: Eugene
Test.UI.JUnit: Jerome Gout
Test.Execution.JUnitRunner: Jerome Gout
Test.UI.DatapoolEditor: Jerome Gout
Test.UI.Reporting: Jerome Gout

New components for Ali: 
Test.Execution.AutoGUIRunner
Test.UI.AutoGUIRunner

Fixed.
As of TPTP 4.6.0, TPTP is in maintenance mode and focusing on improving quality by resolving relevant enhancements/defects and increasing test coverage through test creation, automation, Build Verification Tests (BVTs), and expanded run-time execution. As part of the TPTP Bugzilla housecleaning process (see http://wiki.eclipse.org/Bugzilla_Housecleaning_Processes), this enhancement/defect is verified/closed by the Project Lead since this enhancement/defect has been resolved and unverified for more than 1 year and considered to be fixed. If this enhancement/defect is still unresolved and reproducible in the latest TPTP release (http://www.eclipse.org/tptp/home/downloads/), please re-open.</WithStack>
    <WithOutStack>As per the email from Mark Dunn &amp; Scott Schneider, the default owner of the
following components changes:
   Test Perspective: from Joe Toomey to Scott
   Artifact: from Joe Toomey to Mark Dunn
   TestSuite: from Joe Toomey to Mark Dunn
Confirmed:
Platform.UI.SequenceDiagram: from Dominique to Valentina
Test.Execution: to Kent Siefkes

Tentative:
Test.UI.JUnit: Jerome Gout
Test.Execution.JUnitRunner: Jerome Gout
Test.UI.DatapoolEditor: Jerome Gout
Test.UI.Reporting: Jerome Gout
Test.Analysis: Scott Schneider

TBD:
Trace.UI
Platform.UI.Charting
Which bugzilla component owns "org.eclipse.tptp.test.samples"?
Test Charting (no bugzilla component for Test Charting)
New Test component for Test UI macro record/playback


Committer Changes:
Steve Gutz to Platform.Analysis
Kim Letkeman to Platform.Analysis
Randy Smith to Agent Controller Components (list?)
Kevin O'Leary to Agent Controller Components (list?)
Ali Mehregani to the new Test UI macro record/playback component 
Ruth Lee now a committer in the Documentation cells

Confirmed:
Trace.UI: Eugene
Test.UI.JUnit: Jerome Gout
Test.Execution.JUnitRunner: Jerome Gout
Test.UI.DatapoolEditor: Jerome Gout
Test.UI.Reporting: Jerome Gout

New components for Ali: 
Test.Execution.AutoGUIRunner
Test.UI.AutoGUIRunner

Fixed.
As of TPTP 4.6.0, TPTP is in maintenance mode and focusing on improving quality by resolving relevant enhancements/defects and increasing test coverage through test creation, automation, Build Verification Tests (BVTs), and expanded run-time execution. As part of the TPTP Bugzilla housecleaning process (see http://wiki.eclipse.org/Bugzilla_Housecleaning_Processes), this enhancement/defect is verified/closed by the Project Lead since this enhancement/defect has been resolved and unverified for more than 1 year and considered to be fixed. If this enhancement/defect is still unresolved and reproducible in the latest TPTP release (http://www.eclipse.org/tptp/home/downloads/), please re-open.</WithOutStack>
  </Bug>
  <Bug>
    <BugId amount="107616" />
    <CreationDate amount="2005-08-22 11:03:00 -0400" />
    <DupId amount="" />
    <classification amount="Eclipse Foundation" />
    <Product amount="z_Archived" />
    <component amount="VE" />
    <Version amount="unspecified" />
    <rep_platform amount="PC" />
    <op_sys amount="Windows XP" />
    <priority amount="P1" />
    <bug_severity amount="enhancement" />
    <Summery>Selecting a TabFolder Tab in GraphView should Switch to Tab</Summery>
    <Patches amount="0" />
    <Stacktraces amount="0" />
    <SourceCodeRegions amount="0" />
    <Enumerations amount="0" />
    <bug_status amount="NEW" />
    <resolution amount="" />
    <WithStack>Selecting a Tab on an SWT TabFolder in the Graph View should swith to that tab.
 We have this working for JTabbedPane and CTabFolder, but not on TabFolder.
put in a request for us on bug 54883 for some sort of getItem(point) API, this
would allow an easy implementation like we have for CTabFolder and JTabbedPane</WithStack>
    <WithOutStack>Selecting a Tab on an SWT TabFolder in the Graph View should swith to that tab.
 We have this working for JTabbedPane and CTabFolder, but not on TabFolder.
put in a request for us on bug 54883 for some sort of getItem(point) API, this
would allow an easy implementation like we have for CTabFolder and JTabbedPane</WithOutStack>
  </Bug>
  <Bug>
    <BugId amount="107617" />
    <CreationDate amount="2005-08-22 11:05:00 -0400" />
    <DupId amount="" />
    <classification amount="Modeling" />
    <Product amount="EMF" />
    <component amount="Website" />
    <Version amount="2.2" />
    <rep_platform amount="PC" />
    <op_sys amount="Windows XP" />
    <priority amount="P1" />
    <bug_severity amount="enhancement" />
    <Summery>[Plan Item] EMFT build/web infrastructure and process</Summery>
    <Patches amount="0" />
    <Stacktraces amount="0" />
    <SourceCodeRegions amount="0" />
    <Enumerations amount="0" />
    <bug_status amount="VERIFIED" />
    <resolution amount="FIXED" />
    <WithStack>Helping to set up EMFT builds and web site so that EMF build and web 
infrastructure can be reused.
While this is something that could be forever ongoing, the intent is to close out once release notes / what's new is completed. Subsequent enhancements can be opened as new bugs. This bug may or may not include setting up a RedHat build server, as time permits.
Completed, including 5 projects (eodm, ocl, query, validation, translation), release notes, news, What's New, Bugzilla? pages, etc.

net4j, which will require another server, and jet, which will be added shortly, can (if required) be handled under new bugs.
The fix is available in EMF 2.2.0M5.
Move to verified as per bug 206558.</WithStack>
    <WithOutStack>Helping to set up EMFT builds and web site so that EMF build and web 
infrastructure can be reused.
While this is something that could be forever ongoing, the intent is to close out once release notes / what's new is completed. Subsequent enhancements can be opened as new bugs. This bug may or may not include setting up a RedHat build server, as time permits.
Completed, including 5 projects (eodm, ocl, query, validation, translation), release notes, news, What's New, Bugzilla? pages, etc.

net4j, which will require another server, and jet, which will be added shortly, can (if required) be handled under new bugs.
The fix is available in EMF 2.2.0M5.
Move to verified as per bug 206558.</WithOutStack>
  </Bug>
  <Bug>
    <BugId amount="107618" />
    <CreationDate amount="2005-08-22 11:11:00 -0400" />
    <DupId amount="" />
    <classification amount="Eclipse" />
    <Product amount="Platform" />
    <component amount="User Assistance" />
    <Version amount="3.2" />
    <rep_platform amount="PC" />
    <op_sys amount="Windows 2000" />
    <priority amount="P3" />
    <bug_severity amount="enhancement" />
    <Summery>[Webapp][Search] Extend federated search to help system web app as in Workbench Help view</Summery>
    <Patches amount="0" />
    <Stacktraces amount="0" />
    <SourceCodeRegions amount="0" />
    <Enumerations amount="0" />
    <bug_status amount="NEW" />
    <resolution amount="" />
    <WithStack>Eclipse 3.1 help view in the Workbench has the ability to present results from a
number of search engines (federated search) in one view (see attachment).

This request for enhancement is to have this type of search view and
functionality (federated search results) in the help display for the webapp help
system. This is going to be especially key for adopting by large development
organizations that want to hook in search engines into the information centers
they deploy on their LANs.

The requirement is needed in standalone/infocenter scenarios as well as
integrated scenario for the webapp Help Contents. The function that enables
federated returned search results must be available for the minimal subset of
plug-ins and deployments used for the standalone/infocenter scenarios.

--Lee Anne Kowalski
IBM User Assistance Technologies
Created attachment 26342
Screen grab of Help View with search results
Targeting Eclipse 3.4
I'm starting to look into this.

There are two issues to consider, one relates to search engines registered with help ( eclipse.org and google in the case of the platform ) the other relates to lucene search participants (cheat sheets, intro ).

I believe that all lucene search participants should be searched when running the help system from Eclipse. In infocenter mode neither cheat sheets nor intro make any sense as a search participant and I suspect that most user contributed search participants would be the same way so I am inclined to think that they would never get searched from the infocenter.

As for the google.com and eclipse.org search I don't think that either of them works very well in the help view unless it is maximized and we have had more than one user complain about the way we show one hit initially and then you have to click that to search a second time. I'm wondering how many people actually use this feature and whether there is a better user interface design for if we support these from the Web App.
Chris, the real deal for external sites is to use web services to get the search results and render them as we do with local or remote help hits. At the moment, Google provides a SOAP API to get search results as a service but it requires a license and there is a monthly cap (for the number of requests). Therefore we cannot ship a service engine of that kind in an open source app (or we could but its activation would require a license for each individual end-user).
As for Eclipse.org search, you can talk to Denis about the search engine used by Eclipse (I think it is Mnogo) and if a URL exists to fetch the results as an XML. Again, it would allow you to render the results directly.
I would think that even if we had a way of searching eclipse.org directly we would not want to do so unless the user specifically requested it. If every help search by a user ended up requesting search results from eclipse.org then that would be a lot of extra traffic for eclipse.org to handle. My objection is more to the way we claim there is 1 hit for each of eclipse.org and google when in reality we don't know how many hits there are.
Lee Anne, can you clarify what you are looking for here. When I first read this bug report I assumed that it meant to allow matches for cheatsheets and intro items etc. to be shown in and opened from the Webapp. I realize that there are other aspects to the federated search, which would be the Google and Eclipse searches but I'm assuming that it's the things like cheatshees and welcome that you are more interested in - is that correct?
Hi Chris,

Thanks for the ping on this one. I will review the history of this request and comment back here. 

--Lee Anne
Targeting week of January 28 to come back with clarification on this one. Is that soon enough? I have some prior commitments to attend to the rest of this week.

--Lee Anne
Yes that is soon enough.
Unfortunately I am not going to have time to do this for Eclipse 3.4.
Lowering priority to better match reality.</WithStack>
    <WithOutStack>Eclipse 3.1 help view in the Workbench has the ability to present results from a
number of search engines (federated search) in one view (see attachment).

This request for enhancement is to have this type of search view and
functionality (federated search results) in the help display for the webapp help
system. This is going to be especially key for adopting by large development
organizations that want to hook in search engines into the information centers
they deploy on their LANs.

The requirement is needed in standalone/infocenter scenarios as well as
integrated scenario for the webapp Help Contents. The function that enables
federated returned search results must be available for the minimal subset of
plug-ins and deployments used for the standalone/infocenter scenarios.

--Lee Anne Kowalski
IBM User Assistance Technologies
Created attachment 26342
Screen grab of Help View with search results
Targeting Eclipse 3.4
I'm starting to look into this.

There are two issues to consider, one relates to search engines registered with help ( eclipse.org and google in the case of the platform ) the other relates to lucene search participants (cheat sheets, intro ).

I believe that all lucene search participants should be searched when running the help system from Eclipse. In infocenter mode neither cheat sheets nor intro make any sense as a search participant and I suspect that most user contributed search participants would be the same way so I am inclined to think that they would never get searched from the infocenter.

As for the google.com and eclipse.org search I don't think that either of them works very well in the help view unless it is maximized and we have had more than one user complain about the way we show one hit initially and then you have to click that to search a second time. I'm wondering how many people actually use this feature and whether there is a better user interface design for if we support these from the Web App.
Chris, the real deal for external sites is to use web services to get the search results and render them as we do with local or remote help hits. At the moment, Google provides a SOAP API to get search results as a service but it requires a license and there is a monthly cap (for the number of requests). Therefore we cannot ship a service engine of that kind in an open source app (or we could but its activation would require a license for each individual end-user).
As for Eclipse.org search, you can talk to Denis about the search engine used by Eclipse (I think it is Mnogo) and if a URL exists to fetch the results as an XML. Again, it would allow you to render the results directly.
I would think that even if we had a way of searching eclipse.org directly we would not want to do so unless the user specifically requested it. If every help search by a user ended up requesting search results from eclipse.org then that would be a lot of extra traffic for eclipse.org to handle. My objection is more to the way we claim there is 1 hit for each of eclipse.org and google when in reality we don't know how many hits there are.
Lee Anne, can you clarify what you are looking for here. When I first read this bug report I assumed that it meant to allow matches for cheatsheets and intro items etc. to be shown in and opened from the Webapp. I realize that there are other aspects to the federated search, which would be the Google and Eclipse searches but I'm assuming that it's the things like cheatshees and welcome that you are more interested in - is that correct?
Hi Chris,

Thanks for the ping on this one. I will review the history of this request and comment back here. 

--Lee Anne
Targeting week of January 28 to come back with clarification on this one. Is that soon enough? I have some prior commitments to attend to the rest of this week.

--Lee Anne
Yes that is soon enough.
Unfortunately I am not going to have time to do this for Eclipse 3.4.
Lowering priority to better match reality.</WithOutStack>
  </Bug>
  <Bug>
    <BugId amount="107619" />
    <CreationDate amount="2005-08-22 11:16:00 -0400" />
    <DupId amount="" />
    <classification amount="Eclipse" />
    <Product amount="JDT" />
    <component amount="Core" />
    <Version amount="3.1" />
    <rep_platform amount="PC" />
    <op_sys amount="Windows XP" />
    <priority amount="P3" />
    <bug_severity amount="normal" />
    <Summery>Reloading newly built external jar triggers new build/refresh</Summery>
    <Patches amount="0" />
    <Stacktraces amount="0" />
    <SourceCodeRegions amount="0" />
    <Enumerations amount="0" />
    <bug_status amount="RESOLVED" />
    <resolution amount="INVALID" />
    <WithStack>Currently, I require an external jar(s) which has to be
re-generated by a third party tool from time to time.
These kinds of jars can be on the order of several MB in 
size.

This jar is not used directly by my code at all, but
by yet another jar.  In other words, the source code
in Eclipse is not directly (compile-time) affected.
No interfaces have changed.  It is a runtime dependency 
only.

Yet everytime this jar is re-generated, Eclipse decides
to do some kind of rebuild or refresh, which can take
several minutes -- in some cases, actually longer than a 
clean build normally would take.

Another developer in my group has observed this same
behavior.

I searched to no avail for a similar question or bug.

Perhaps Eclipse is doing some caching or auto-discovery?
Is this a known behavior?  Is there a way to turn this off?
Do you have this jar on the compiler's classpath?
(In reply to comment #0)
&gt; Currently, I require an external jar(s) which has to be
&gt; re-generated by a third party tool from time to time.
&gt; These kinds of jars can be on the order of several MB in 
&gt; size.
&gt; 
&gt; This jar is not used directly by my code at all, but
&gt; by yet another jar.  In other words, the source code
&gt; in Eclipse is not directly (compile-time) affected.
&gt; No interfaces have changed.  It is a runtime dependency 
&gt; only.
&gt; 
&gt; Yet everytime this jar is re-generated, Eclipse decides
&gt; to do some kind of rebuild or refresh, which can take
&gt; several minutes -- in some cases, actually longer than a 
&gt; clean build normally would take.
&gt; 
&gt; Another developer in my group has observed this same
&gt; behavior.
&gt; 
&gt; I searched to no avail for a similar question or bug.
&gt; 
&gt; Perhaps Eclipse is doing some caching or auto-discovery?
&gt; Is this a known behavior?  Is there a way to turn this off?

(In reply to comment #1)
&gt; Do you have this jar on the compiler's classpath?

Thanks for the reply.  It prompted me to re-examine my
configuration.

Actually, it had to be in the build classpath before recently
because the usage of custom classloaders was leading to 
NoClassDefFoundError exceptions.  This has been recently
fixed, and when I removed the guilty jar fro the classpath,
the problem went away.  So for me, the problem is solved now

However, I am curious if there is someway to disable this
"massive" refresh behavior.  Thanks.
Reopen to set correct resolution
This was a user error =&gt; close as INVALID</WithStack>
    <WithOutStack>Currently, I require an external jar(s) which has to be
re-generated by a third party tool from time to time.
These kinds of jars can be on the order of several MB in 
size.

This jar is not used directly by my code at all, but
by yet another jar.  In other words, the source code
in Eclipse is not directly (compile-time) affected.
No interfaces have changed.  It is a runtime dependency 
only.

Yet everytime this jar is re-generated, Eclipse decides
to do some kind of rebuild or refresh, which can take
several minutes -- in some cases, actually longer than a 
clean build normally would take.

Another developer in my group has observed this same
behavior.

I searched to no avail for a similar question or bug.

Perhaps Eclipse is doing some caching or auto-discovery?
Is this a known behavior?  Is there a way to turn this off?
Do you have this jar on the compiler's classpath?
(In reply to comment #0)
&gt; Currently, I require an external jar(s) which has to be
&gt; re-generated by a third party tool from time to time.
&gt; These kinds of jars can be on the order of several MB in 
&gt; size.
&gt; 
&gt; This jar is not used directly by my code at all, but
&gt; by yet another jar.  In other words, the source code
&gt; in Eclipse is not directly (compile-time) affected.
&gt; No interfaces have changed.  It is a runtime dependency 
&gt; only.
&gt; 
&gt; Yet everytime this jar is re-generated, Eclipse decides
&gt; to do some kind of rebuild or refresh, which can take
&gt; several minutes -- in some cases, actually longer than a 
&gt; clean build normally would take.
&gt; 
&gt; Another developer in my group has observed this same
&gt; behavior.
&gt; 
&gt; I searched to no avail for a similar question or bug.
&gt; 
&gt; Perhaps Eclipse is doing some caching or auto-discovery?
&gt; Is this a known behavior?  Is there a way to turn this off?

(In reply to comment #1)
&gt; Do you have this jar on the compiler's classpath?

Thanks for the reply.  It prompted me to re-examine my
configuration.

Actually, it had to be in the build classpath before recently
because the usage of custom classloaders was leading to 
NoClassDefFoundError exceptions.  This has been recently
fixed, and when I removed the guilty jar fro the classpath,
the problem went away.  So for me, the problem is solved now

However, I am curious if there is someway to disable this
"massive" refresh behavior.  Thanks.
Reopen to set correct resolution
This was a user error =&gt; close as INVALID</WithOutStack>
  </Bug>
  <Bug>
    <BugId amount="107620" />
    <CreationDate amount="2005-08-22 11:19:00 -0400" />
    <DupId amount="" />
    <classification amount="Eclipse" />
    <Product amount="Platform" />
    <component amount="Team" />
    <Version amount="3.2" />
    <rep_platform amount="PC" />
    <op_sys amount="Windows XP" />
    <priority amount="P3" />
    <bug_severity amount="normal" />
    <Summery>NPE in log</Summery>
    <Patches amount="0" />
    <Stacktraces amount="1">
      <Stacktrace timestamp="1437330570120">
        <Exception>java.lang.NullPointerException</Exception>
        <Reason />
        <Frames>
          <Frame depth="0">org.eclipse.team.internal.core.subscribers.SubscriberSyncInfoCollector.getSubscriberSyncInfoSet(SubscriberSyncInfoCollector.java:158)</Frame>
          <Frame depth="1">org.eclipse.team.internal.core.subscribers.SubscriberSyncInfoCollector.hasMembers(SubscriberSyncInfoCollector.java:185)</Frame>
          <Frame depth="2">org.eclipse.team.internal.core.subscribers.SubscriberResourceCollector.processDelta(SubscriberResourceCollector.java:131)</Frame>
          <Frame depth="3">org.eclipse.team.internal.core.subscribers.SubscriberResourceCollector.processDelta(SubscriberResourceCollector.java:164)</Frame>
          <Frame depth="4">org.eclipse.team.internal.core.subscribers.SubscriberResourceCollector.resourceChanged(SubscriberResourceCollector.java:109)</Frame>
          <Frame depth="5">org.eclipse.core.internal.events.NotificationManager$2.run(NotificationManager.java:276)</Frame>
          <Frame depth="6">org.eclipse.core.internal.runtime.InternalPlatform.run(InternalPlatform.java:1044)</Frame>
          <Frame depth="7">org.eclipse.core.runtime.Platform.run(Platform.java:783)</Frame>
          <Frame depth="8">org.eclipse.core.internal.events.NotificationManager.notify(NotificationManager.java:270)</Frame>
          <Frame depth="9">org.eclipse.core.internal.events.NotificationManager.broadcastChanges(NotificationManager.java:144)</Frame>
          <Frame depth="10">org.eclipse.core.internal.resources.Workspace.broadcastPostChange(Workspace.java:180)</Frame>
          <Frame depth="11">org.eclipse.core.internal.resources.Workspace.endOperation(Workspace.java:914)</Frame>
          <Frame depth="12">org.eclipse.core.internal.resources.Workspace.run(Workspace.java:1728)</Frame>
          <Frame depth="13">org.eclipse.core.internal.events.NotificationManager$NotifyJob.run(NotificationManager.java:38)</Frame>
          <Frame depth="14">org.eclipse.core.internal.jobs.Worker.run(Worker.java:76)</Frame>
        </Frames>
      </Stacktrace>
    </Stacktraces>
    <SourceCodeRegions amount="0" />
    <Enumerations amount="0" />
    <bug_status amount="RESOLVED" />
    <resolution amount="INVALID" />
    <WithStack>I found this NPE in my log

!ENTRY org.eclipse.core.resources 4 2 2005-08-22 10:26:10.875
!MESSAGE Problems occurred when invoking code from plug-
in: "org.eclipse.core.resources".
!STACK 0
java.lang.NullPointerException
	at 
org.eclipse.team.internal.core.subscribers.SubscriberSyncInfoCollector.getSubsc
riberSyncInfoSet(SubscriberSyncInfoCollector.java:158)
	at 
org.eclipse.team.internal.core.subscribers.SubscriberSyncInfoCollector.hasMembe
rs(SubscriberSyncInfoCollector.java:185)
	at 
org.eclipse.team.internal.core.subscribers.SubscriberResourceCollector.processD
elta(SubscriberResourceCollector.java:131)
	at 
org.eclipse.team.internal.core.subscribers.SubscriberResourceCollector.processD
elta(SubscriberResourceCollector.java:164)
	at 
org.eclipse.team.internal.core.subscribers.SubscriberResourceCollector.resource
Changed(SubscriberResourceCollector.java:109)
	at org.eclipse.core.internal.events.NotificationManager$2.run
(NotificationManager.java:276)
	at org.eclipse.core.internal.runtime.InternalPlatform.run
(InternalPlatform.java:1044)
	at org.eclipse.core.runtime.Platform.run(Platform.java:783)
	at org.eclipse.core.internal.events.NotificationManager.notify
(NotificationManager.java:270)
	at 
org.eclipse.core.internal.events.NotificationManager.broadcastChanges
(NotificationManager.java:144)
	at org.eclipse.core.internal.resources.Workspace.broadcastPostChange
(Workspace.java:180)
	at org.eclipse.core.internal.resources.Workspace.endOperation
(Workspace.java:914)
	at org.eclipse.core.internal.resources.Workspace.run
(Workspace.java:1728)
	at org.eclipse.core.internal.events.NotificationManager$NotifyJob.run
(NotificationManager.java:38)
	at org.eclipse.core.internal.jobs.Worker.run(Worker.java:76)
Instance variable is final and set in constructor</WithStack>
    <WithOutStack>I found this NPE in my log

!ENTRY org.eclipse.core.resources 4 2 2005-08-22 10:26:10.875
!MESSAGE Problems occurred when invoking code from plug-
in: "org.eclipse.core.resources".
!STACK 0

Instance variable is final and set in constructor</WithOutStack>
  </Bug>
  <Bug>
    <BugId amount="107621" />
    <CreationDate amount="2005-08-22 11:20:00 -0400" />
    <DupId amount="" />
    <classification amount="Eclipse" />
    <Product amount="JDT" />
    <component amount="Text" />
    <Version amount="3.1" />
    <rep_platform amount="PC" />
    <op_sys amount="Windows XP" />
    <priority amount="P2" />
    <bug_severity amount="normal" />
    <Summery>[implementation] JavaSpellingReconcileStrategy  calls getContentType() and it is not used</Summery>
    <Patches amount="0" />
    <Stacktraces amount="0" />
    <SourceCodeRegions amount="1">
      <source_code type="functiondef">
        <location start="789" end="1124" />
        <code>public void reconcile(IRegion region) {
		if (fRequestor != null) {
			try {
				SpellingContext context= new SpellingContext();
				context.setContentType(getContentType());
				EditorsUI.getSpellingService().check(fDocument, context, fCollector,
fProgressMonitor);
			} catch (CoreException x) {
				// swallow exception
			}
		}
	}</code>
      </source_code>
    </SourceCodeRegions>
    <Enumerations amount="0" />
    <bug_status amount="VERIFIED" />
    <resolution amount="FIXED" />
    <WithStack>I wanted to create a content type that was a subtype of JavaSource so that we
can have our own default editor for special java classes. To determine if it was
our type we created a content describer that looks through the code to see if it
is our type. 

The problem is that the JavaSpellingReconcileStrategy class is calling the
getContentType() twice for every keystroke (reconcile) so that it can put it
into the SpellingContext. Then the spelling context never even uses this content
type. 

This is very inefficient, causes the class to parsed twice like that and never
even use the result. If this is absolutely necessary, then SpellingContext
should be changed to lazily request the content type instead of having it put it
 into it right away.

From JavaSpellingReconcileStrategy:
	public void reconcile(IRegion region) {
		if (fRequestor != null) {
			try {
				SpellingContext context= new SpellingContext();
				context.setContentType(getContentType());
				EditorsUI.getSpellingService().check(fDocument, context, fCollector,
fProgressMonitor);
			} catch (CoreException x) {
				// swallow exception
			}
		}
	}
Note that the following comments are based on 3.2 M6 and I did not verify whether they were true at the time this bug got filed.

&gt;The problem is that the JavaSpellingReconcileStrategy class is calling the
&gt;getContentType() twice for every keystroke (reconcile) 
Using 3.2 M6, the method is invoked only once per keystroke.

&gt;This is very inefficient, causes the class to parsed twice like that and never
&gt;even use the result.
The class is not parsed at all normally: Platform Core will only need to consult the reader if the content type descriptor needs to look into the file. This is normally no the case if the extension ends with ".java".

&gt;This is very inefficient, causes the class to parsed twice like that and never
&gt;even use the result. 
This is not true: the content type is used to retrieve the correct spelling engine, see DefaultSpellingEngine.check(...)

Having said all that, the code is just plain wrong: the reconciler is a Java reconciler working on Java source files and hence we can simply always use the Java Source content type.

Same applies to the Java properties file editor.

Fixed in HEAD.
Available in builds &gt; N20060404-0010.
Verified in N20060426-0010 that getContentType() is no longer called by the JavaSpellingReconcileStrategy.</WithStack>
    <WithOutStack>I wanted to create a content type that was a subtype of JavaSource so that we
can have our own default editor for special java classes. To determine if it was
our type we created a content describer that looks through the code to see if it
is our type. 

The problem is that the JavaSpellingReconcileStrategy class is calling the
getContentType() twice for every keystroke (reconcile) so that it can put it
into the SpellingContext. Then the spelling context never even uses this content
type. 

This is very inefficient, causes the class to parsed twice like that and never
even use the result. If this is absolutely necessary, then SpellingContext
should be changed to lazily request the content type instead of having it put it
 into it right away.

From JavaSpellingReconcileStrategy:
	public void reconcile(IRegion region) {
		if (fRequestor != null) {
			try {
				SpellingContext context= new SpellingContext();
				context.setContentType(getContentType());
				EditorsUI.getSpellingService().check(fDocument, context, fCollector,
fProgressMonitor);
			} catch (CoreException x) {
				// swallow exception
			}
		}
	}
Note that the following comments are based on 3.2 M6 and I did not verify whether they were true at the time this bug got filed.

&gt;The problem is that the JavaSpellingReconcileStrategy class is calling the
&gt;getContentType() twice for every keystroke (reconcile) 
Using 3.2 M6, the method is invoked only once per keystroke.

&gt;This is very inefficient, causes the class to parsed twice like that and never
&gt;even use the result.
The class is not parsed at all normally: Platform Core will only need to consult the reader if the content type descriptor needs to look into the file. This is normally no the case if the extension ends with ".java".

&gt;This is very inefficient, causes the class to parsed twice like that and never
&gt;even use the result. 
This is not true: the content type is used to retrieve the correct spelling engine, see DefaultSpellingEngine.check(...)

Having said all that, the code is just plain wrong: the reconciler is a Java reconciler working on Java source files and hence we can simply always use the Java Source content type.

Same applies to the Java properties file editor.

Fixed in HEAD.
Available in builds &gt; N20060404-0010.
Verified in N20060426-0010 that getContentType() is no longer called by the JavaSpellingReconcileStrategy.</WithOutStack>
  </Bug>
  <Bug>
    <BugId amount="107622" />
    <CreationDate amount="2005-08-22 11:26:00 -0400" />
    <DupId amount="" />
    <classification amount="Eclipse" />
    <Product amount="Platform" />
    <component amount="Runtime" />
    <Version amount="3.1" />
    <rep_platform amount="PC" />
    <op_sys amount="Windows XP" />
    <priority amount="P3" />
    <bug_severity amount="normal" />
    <Summery>[osgi] Bundle#getEntryPaths must return null when no entries are found</Summery>
    <Patches amount="0" />
    <Stacktraces amount="0" />
    <SourceCodeRegions amount="0" />
    <Enumerations amount="0" />
    <bug_status amount="RESOLVED" />
    <resolution amount="FIXED" />
    <WithStack>When no entries are found Bundle#getEntryPaths must return null according to 
the javadoc.  The current implementation returns a empty Enumeration.
Fixed in Head.

I will attach a patch for 3.1.1.
Created attachment 26348
Proposed fix for 3.1.1

Pascal, please review for 3.1.1.  Thanks.
Patch reviewed. Good to release in maintenance stream and HEAD.
Fixed in maintenance stream.</WithStack>
    <WithOutStack>When no entries are found Bundle#getEntryPaths must return null according to 
the javadoc.  The current implementation returns a empty Enumeration.
Fixed in Head.

I will attach a patch for 3.1.1.
Created attachment 26348
Proposed fix for 3.1.1

Pascal, please review for 3.1.1.  Thanks.
Patch reviewed. Good to release in maintenance stream and HEAD.
Fixed in maintenance stream.</WithOutStack>
  </Bug>
  <Bug>
    <BugId amount="107623" />
    <CreationDate amount="2005-08-22 11:29:00 -0400" />
    <DupId amount="" />
    <classification amount="Eclipse" />
    <Product amount="Platform" />
    <component amount="User Assistance" />
    <Version amount="3.2" />
    <rep_platform amount="PC" />
    <op_sys amount="Windows 2000" />
    <priority amount="P4" />
    <bug_severity amount="enhancement" />
    <Summery>[Webapp] Help system webapp: Provide footer area like banner area (persistent, across browser window, optional)</Summery>
    <Patches amount="0" />
    <Stacktraces amount="0" />
    <SourceCodeRegions amount="0" />
    <Enumerations amount="1">
      <Enumeration lines="4">
        <Lines>
          <Line>- Is persistent</Line>
          <Line>- Spans the length of the window</Line>
          <Line>- Is optional. Developers can choose to provide it or not for their deployments.</Line>
          <Line>- Has parameters that can be set (height, associated HTM file).</Line>
        </Lines>
      </Enumeration>
    </Enumerations>
    <bug_status amount="RESOLVED" />
    <resolution amount="FIXED" />
    <WithStack>Problem we’re trying to solve is there is a set of information that tends to be
required to be persistently displayed in the help system: copyright statement,
attribution statements, legal terms of use, links to Web sites or pages like
“About this company”, “eclipse.org”,  etc. Currently, we either place links on
the welcome page, which gets replaced when the user navigates to other topics;
or place them at the bottom of every topic, which is repetition of text and is
usually out of sight of the user unless he scrolls to the bottom of the topic.
Both have their drawbacks.

It would be advantageous to have a "footer space" that is persistent where such
information and links can be placed. Currently, we have to figure out how to
place that information at the bottom of every topic, and that increases disk
footprint and translation effort as the lines are in every topic HTML file.

Today, the help system layout has a banner area that:
- Is persistent
- Spans the length of the window
- Is optional. Developers can choose to provide it or not for their deployments.
- Has parameters that can be set (height, associated HTM file).

The request here is to provide a footer space that spans the bottom, with the
same capabilities the banner area currently has (optional display, set width, etc)

Eclipse Theme: Appealing to a Broad Community

--Lee Anne Kowalski
IBM User Assistance Technologies
Hi,

Many of our product infocenters are going to need a "footer" area in the infocenter like the current banner area, due to some company wide standards under discussion. Can you give an indication on whether this item can be contained in Eclipse 3.3?

Thanks!
--Lee Anne
Lee-Anne, we have already activated the standard browser-driven status line. We need to know real use cases and have some screen shots (the type of content you envision in that area.

Personally, I am against it. Eclipse help system is open and many different plug-ins can contribute help content. I don't want to see 'company-wide content' being shown below my document because it does not apply to me, only to documents of other plug-ins that share the help system web app. I think that any legal statements should go with the documents they apply to.
Hi Dejan, thanks for that view. Yeah, I see your point about legal statements when you have documentation plug-ins from different contributors/owners in the same webapp.

I was more envisioning this footer area as a place that runs across which an exploiter of the help system--RCP application or infocenter--could populate with links to sites that he wants to not "scroll away" when his user is clicking through the content in his system. So for example, if an RCP application has a Help-&gt;Help Contents, it would launch the help system and that footer space could have links to his company's Web site, a link to his Blog about his RCP app, a newsgroup, etc.

The RCP app creator *could* use the banner space, but he might think that's too "in your face" for his help user. But a footer area makes it unobtrusive, and gives flexibility.

And part of this request was to have a preference to have it not appear, like the banner area, so an exploiter can turn it off if he has no use for it.

I'll mock up some illustrations so that people can see if they think there's some merit in having such a space. As usage of Eclipse RCP grows for making any desktop app, there are probably more examples than I can imagine, but I will try to show some diverse uses of it. :-)

--Lee Anne
This will not be in 3.3, lowering priority to P4.

Targeting Eclipse 3.6
Created attachment 142292
Patch
Patch applied, Fixed in HEAD
Chris, this is fan-tabulous! :-) Thank you so much.

Let me know if you're ever in the Boston area and I'll treat you to a beverage of your choice.

Thanks again,
Lee Anne</WithStack>
    <WithOutStack>Problem we’re trying to solve is there is a set of information that tends to be
required to be persistently displayed in the help system: copyright statement,
attribution statements, legal terms of use, links to Web sites or pages like
“About this company”, “eclipse.org”,  etc. Currently, we either place links on
the welcome page, which gets replaced when the user navigates to other topics;
or place them at the bottom of every topic, which is repetition of text and is
usually out of sight of the user unless he scrolls to the bottom of the topic.
Both have their drawbacks.

It would be advantageous to have a "footer space" that is persistent where such
information and links can be placed. Currently, we have to figure out how to
place that information at the bottom of every topic, and that increases disk
footprint and translation effort as the lines are in every topic HTML file.

Today, the help system layout has a banner area that:
- Is persistent
- Spans the length of the window
- Is optional. Developers can choose to provide it or not for their deployments.
- Has parameters that can be set (height, associated HTM file).

The request here is to provide a footer space that spans the bottom, with the
same capabilities the banner area currently has (optional display, set width, etc)

Eclipse Theme: Appealing to a Broad Community

--Lee Anne Kowalski
IBM User Assistance Technologies
Hi,

Many of our product infocenters are going to need a "footer" area in the infocenter like the current banner area, due to some company wide standards under discussion. Can you give an indication on whether this item can be contained in Eclipse 3.3?

Thanks!
--Lee Anne
Lee-Anne, we have already activated the standard browser-driven status line. We need to know real use cases and have some screen shots (the type of content you envision in that area.

Personally, I am against it. Eclipse help system is open and many different plug-ins can contribute help content. I don't want to see 'company-wide content' being shown below my document because it does not apply to me, only to documents of other plug-ins that share the help system web app. I think that any legal statements should go with the documents they apply to.
Hi Dejan, thanks for that view. Yeah, I see your point about legal statements when you have documentation plug-ins from different contributors/owners in the same webapp.

I was more envisioning this footer area as a place that runs across which an exploiter of the help system--RCP application or infocenter--could populate with links to sites that he wants to not "scroll away" when his user is clicking through the content in his system. So for example, if an RCP application has a Help-&gt;Help Contents, it would launch the help system and that footer space could have links to his company's Web site, a link to his Blog about his RCP app, a newsgroup, etc.

The RCP app creator *could* use the banner space, but he might think that's too "in your face" for his help user. But a footer area makes it unobtrusive, and gives flexibility.

And part of this request was to have a preference to have it not appear, like the banner area, so an exploiter can turn it off if he has no use for it.

I'll mock up some illustrations so that people can see if they think there's some merit in having such a space. As usage of Eclipse RCP grows for making any desktop app, there are probably more examples than I can imagine, but I will try to show some diverse uses of it. :-)

--Lee Anne
This will not be in 3.3, lowering priority to P4.

Targeting Eclipse 3.6
Created attachment 142292
Patch
Patch applied, Fixed in HEAD
Chris, this is fan-tabulous! :-) Thank you so much.

Let me know if you're ever in the Boston area and I'll treat you to a beverage of your choice.

Thanks again,
Lee Anne</WithOutStack>
  </Bug>
  <Bug>
    <BugId amount="107624" />
    <CreationDate amount="2005-08-22 11:31:00 -0400" />
    <DupId amount="" />
    <classification amount="Eclipse" />
    <Product amount="Platform" />
    <component amount="UI" />
    <Version amount="3.2" />
    <rep_platform amount="PC" />
    <op_sys amount="Windows XP" />
    <priority amount="P3" />
    <bug_severity amount="normal" />
    <Summery>Needed to remove Display.sleep() from RCP tests</Summery>
    <Patches amount="0" />
    <Stacktraces amount="0" />
    <SourceCodeRegions amount="0" />
    <Enumerations amount="0" />
    <bug_status amount="RESOLVED" />
    <resolution amount="WORKSFORME" />
    <WithStack>20050822 

We had to remove the call to Display#sleep in the RCPWorkbenchAdvisor as it was
hanging the tests on Windows likely due to some reduction in events from SWT.

We need to determine if this should still be there and if so we need to add it
back somehow without hanging our tests.
Eh?  Can't do much without some code.  Do you guys have a simple test case?
This doesn't seem to have caused any problems.</WithStack>
    <WithOutStack>20050822 

We had to remove the call to Display#sleep in the RCPWorkbenchAdvisor as it was
hanging the tests on Windows likely due to some reduction in events from SWT.

We need to determine if this should still be there and if so we need to add it
back somehow without hanging our tests.
Eh?  Can't do much without some code.  Do you guys have a simple test case?
This doesn't seem to have caused any problems.</WithOutStack>
  </Bug>
  <Bug>
    <BugId amount="107625" />
    <CreationDate amount="2005-08-22 11:37:00 -0400" />
    <DupId amount="" />
    <classification amount="Tools" />
    <Product amount="TPTP Profiling" />
    <component amount="Trace.UI" />
    <Version amount="4.1" />
    <rep_platform amount="PC" />
    <op_sys amount="Windows 2000" />
    <priority amount="P3" />
    <bug_severity amount="normal" />
    <Summery>The filter drop down button is missing in the stats views</Summery>
    <Patches amount="0" />
    <Stacktraces amount="0" />
    <SourceCodeRegions amount="0" />
    <Enumerations amount="0" />
    <bug_status amount="CLOSED" />
    <resolution amount="FIXED" />
    <WithStack>build: TPTP-4.1.0-200508220150

The filter drop down menu is missing in the stats views.
assign to Terry, as discussed.
fixed
verified, TPTP-4.1.0-200508230100</WithStack>
    <WithOutStack>build: TPTP-4.1.0-200508220150

The filter drop down menu is missing in the stats views.
assign to Terry, as discussed.
fixed
verified, TPTP-4.1.0-200508230100</WithOutStack>
  </Bug>
  <Bug>
    <BugId amount="107626" />
    <CreationDate amount="2005-08-22 12:05:00 -0400" />
    <DupId amount="" />
    <classification amount="Eclipse" />
    <Product amount="Platform" />
    <component amount="User Assistance" />
    <Version amount="3.2" />
    <rep_platform amount="PC" />
    <op_sys amount="Windows 2000" />
    <priority amount="P3" />
    <bug_severity amount="enhancement" />
    <Summery>[Webapp] Help system webapp: Move tabs for Contents, Search, Bookmark, Links from bottom to top of view (UI change)</Summery>
    <Patches amount="0" />
    <Stacktraces amount="0" />
    <SourceCodeRegions amount="0" />
    <Enumerations amount="0" />
    <bug_status amount="NEW" />
    <resolution amount="" />
    <WithStack>Our end users continue to complain in feedback that these tabs are not easy to
use. They state that it is difficult for them to spot the tabs at the bottom of
the view when they first enter the main help system webapp. The tab placement
obscures useful end user functions like the Bookmarks: users don’t easily see
that they can bookmark topics and have the list in that view and so they miss
this function entirely.

Accessibility test feedback also indicates that it would be more accessible for
screen reader users if the tabs were relocated to the top of that view--because
then the frame that governs their placement in the layout is one of the first
ones in the lists they get in their screen readers.

Now that there is the embedded Help view for the Workbench, there is less of an
imperative driving the placement of the tabs in the help system webapp to match
the Workbench's normal placement of tabs. The embedded Help view can maintain
the bottom-placed tabs to be consistent with the Workbench layout, while the
help system web app can better match industry Web application standards and put
the tabs toward the top of the web app user interface.

Eclipse Theme: Simple to Use

--Lee Anne Kowalski
IBM User Assistance Technologies
Dejan, Curtis, do you have any opinions on this? I don't feel strongly either way.
Ideally they should be at the same location and style as the workbench (workbench can be customized to use traditional style tabs and can move them at the bottom). It doesn't make sense for the tabs in one window to be on the top then the opposite for another, for the same kind of tab. Realistically with a webapp we can move them to the top and not have them customizable. At least it will cover the default common case where people don't tweak their workbench.
+1

The tabs for Index, Search results, and bookmarks are non-obvious to our users. Putting them in a series of tabs (or some other UI mechanism) with Contents would be more industry standard.
I would suggest that a bigger source of confusion is that the tabs have icons only, the standard for tabs is labels with no icon. 

For the Webapp I think that moving the tabs to the top but leaving them as icons will not clear up all the confusion. Replacing the tab metaphor with hyperlinks may work better.
Good point. Adding the tab title would help a lot. Would you truncate the word like View tabs do when space is restricted? Could it have icon + title like View tabs?

I still think it best to move them to the top by default also. If the user wants View tabs at bottom, then they go at bottom. (Or are these not implemented as Views? Editor tabs? Or neither?)
I agree that the tabs should, ideally, be at the top, but I also think that they should be consistent with the help view. So if the webapp tabs/links are moved to the top I think the same should be done in the view.

This proposition, however, makes me worried about clutter. The top of both the view and the webapp navigation frame are very busy already.

I think adding text instead of (or in addition to) icons is a much more important change to alleviate confusion and will go a long way towards consistency with the view.

I'm not saying the tabs/links should not be moved to the top, but I think that, if it's done, it should be done with caution and scrutinized carefully.
Note also that Eclipse has mechanisms to cope with clipping (using elipses, dropping text alltogether). We cannot just cram all the tabs hoping they will look good for all font and language combinations.

Having said that, I do think that text and tabs on top would be better, if we find a way to handle text overflow.
Hi,

Actually, as the person who originally opened this one, I recall that the users never reported that lack of Text labels was the issue for them. While I agree that having both icons and text is better, I think Dejan's point is spot on about the potential problems that might occur in font/language combinations.

Chris makes a good point about having them customizable like the Workbench's. If their position was customizable by the user (or at least by the deployer/product), then that would alleviate the reported pain point.

(It just might be  unfairly limiting our imaginations by not opening up the question whether the placement of the tabs in Webapp really should ("must", "ought", etc) be the same as their placement in the Help view. In a way, the webapp is already 'inconsistent' because the Help view is on the right hand side of the Workbench window but on the left hand side of the full help window. :-)

--Lee Anne
I don't have any objection to moving the tabs above the view (where view = TOC/search/Index/Bookmarks). I would however like to see some labels added for clarity. The Help View does not use tabs, but instead shows hyperlinks for the different pages. This may be a good model to follow for the Webapp since it solves the problem of labels getting truncated in tabs if they are too long. Copying Joe Pesot to solicit his opinion.</WithStack>
    <WithOutStack>Our end users continue to complain in feedback that these tabs are not easy to
use. They state that it is difficult for them to spot the tabs at the bottom of
the view when they first enter the main help system webapp. The tab placement
obscures useful end user functions like the Bookmarks: users don’t easily see
that they can bookmark topics and have the list in that view and so they miss
this function entirely.

Accessibility test feedback also indicates that it would be more accessible for
screen reader users if the tabs were relocated to the top of that view--because
then the frame that governs their placement in the layout is one of the first
ones in the lists they get in their screen readers.

Now that there is the embedded Help view for the Workbench, there is less of an
imperative driving the placement of the tabs in the help system webapp to match
the Workbench's normal placement of tabs. The embedded Help view can maintain
the bottom-placed tabs to be consistent with the Workbench layout, while the
help system web app can better match industry Web application standards and put
the tabs toward the top of the web app user interface.

Eclipse Theme: Simple to Use

--Lee Anne Kowalski
IBM User Assistance Technologies
Dejan, Curtis, do you have any opinions on this? I don't feel strongly either way.
Ideally they should be at the same location and style as the workbench (workbench can be customized to use traditional style tabs and can move them at the bottom). It doesn't make sense for the tabs in one window to be on the top then the opposite for another, for the same kind of tab. Realistically with a webapp we can move them to the top and not have them customizable. At least it will cover the default common case where people don't tweak their workbench.
+1

The tabs for Index, Search results, and bookmarks are non-obvious to our users. Putting them in a series of tabs (or some other UI mechanism) with Contents would be more industry standard.
I would suggest that a bigger source of confusion is that the tabs have icons only, the standard for tabs is labels with no icon. 

For the Webapp I think that moving the tabs to the top but leaving them as icons will not clear up all the confusion. Replacing the tab metaphor with hyperlinks may work better.
Good point. Adding the tab title would help a lot. Would you truncate the word like View tabs do when space is restricted? Could it have icon + title like View tabs?

I still think it best to move them to the top by default also. If the user wants View tabs at bottom, then they go at bottom. (Or are these not implemented as Views? Editor tabs? Or neither?)
I agree that the tabs should, ideally, be at the top, but I also think that they should be consistent with the help view. So if the webapp tabs/links are moved to the top I think the same should be done in the view.

This proposition, however, makes me worried about clutter. The top of both the view and the webapp navigation frame are very busy already.

I think adding text instead of (or in addition to) icons is a much more important change to alleviate confusion and will go a long way towards consistency with the view.

I'm not saying the tabs/links should not be moved to the top, but I think that, if it's done, it should be done with caution and scrutinized carefully.
Note also that Eclipse has mechanisms to cope with clipping (using elipses, dropping text alltogether). We cannot just cram all the tabs hoping they will look good for all font and language combinations.

Having said that, I do think that text and tabs on top would be better, if we find a way to handle text overflow.
Hi,

Actually, as the person who originally opened this one, I recall that the users never reported that lack of Text labels was the issue for them. While I agree that having both icons and text is better, I think Dejan's point is spot on about the potential problems that might occur in font/language combinations.

Chris makes a good point about having them customizable like the Workbench's. If their position was customizable by the user (or at least by the deployer/product), then that would alleviate the reported pain point.

(It just might be  unfairly limiting our imaginations by not opening up the question whether the placement of the tabs in Webapp really should ("must", "ought", etc) be the same as their placement in the Help view. In a way, the webapp is already 'inconsistent' because the Help view is on the right hand side of the Workbench window but on the left hand side of the full help window. :-)

--Lee Anne
I don't have any objection to moving the tabs above the view (where view = TOC/search/Index/Bookmarks). I would however like to see some labels added for clarity. The Help View does not use tabs, but instead shows hyperlinks for the different pages. This may be a good model to follow for the Webapp since it solves the problem of labels getting truncated in tabs if they are too long. Copying Joe Pesot to solicit his opinion.</WithOutStack>
  </Bug>
  <Bug>
    <BugId amount="107627" />
    <CreationDate amount="2005-08-22 12:05:00 -0400" />
    <DupId amount="" />
    <classification amount="Eclipse Foundation" />
    <Product amount="z_Archived" />
    <component amount="VE" />
    <Version amount="unspecified" />
    <rep_platform amount="PC" />
    <op_sys amount="Windows XP" />
    <priority amount="P3" />
    <bug_severity amount="major" />
    <Summery>Change NewVisualClassWizard to use API instead of internals</Summery>
    <Patches amount="0" />
    <Stacktraces amount="0" />
    <SourceCodeRegions amount="0" />
    <Enumerations amount="1">
      <Enumeration lines="5">
        <Lines>
          <Line>- Creating API is a lot of work especially in the long term as we have to</Line>
          <Line>maintain the code and keep it API compatible.</Line>
          <Line>- NewElementWizard is not doing that much. Some that it does, e.g. the error</Line>
          <Line>handling also can't be offered by jdt.ui, but should be done by the implementing</Line>
          <Line>plugin.</Line>
        </Lines>
      </Enumeration>
    </Enumerations>
    <bug_status amount="CLOSED" />
    <resolution amount="FIXED" />
    <WithStack>We are currently subclassing the NewClassCreationWizard to allow us to add
capability to it and to customize the produced class.

We are opening this enhancement to ask to please have this classed API'd.
Also the NewElementWizard because we create some pre-defined classes.
All the pages used by the wizards are public API (NewClassWizardPage,
NewInterface...). Our idea is that clients reimplement the wizard and reuse the
pages.


We could do our own NewClassCreationWizard, but please API NewElementWizard.
That does many important things that we would have to duplicate for our wizard.
Sorry, but we don't want to make the NewElementWizard API for the following reasons:
- Creating API is a lot of work especially in the long term as we have to
maintain the code and keep it API compatible. 
- NewElementWizard is not doing that much. Some that it does, e.g. the error
handling also can't be offered by jdt.ui, but should be done by the implementing
plugin.

If there are no plans to make them extendable, VE should make its wizard mimic
the new class wizard using whatever public api available.
Reassigning to Peter.
Bug 90750 is a related defect to make the contributors more capable.
You could mark this bug as a dup of bug 110643. I just added new API to allow
you to open the type wizards programmatically. You can also initialize the
wizard with values.

Note that the idea is that as soon as you extend the type wizard pages with your
own new options, you should also implement your own wizard, with new wizard
images, description, labels ect.. The actions are thought to open our wizards as-is.

Done.
NewVisualClassCreationWizard now extends Wizard and implements INewWizard... no longer extends the JDT internal class NewElementWizard. But had to couple of few methods down to work correctly.

NewVisualClassWizardPage now extends NewTypeWizardPage instead of the JDT internal class NewClassWizardPage. Here again I had to copy methods, especially createControl, in order to ensure the controls for new type and new class wizards were included and the layout next to the VE Style tree. If the new class wizard changes, the NewVisualClassWizardPage will have to be refactored to get enure the same function.

Release to HEAD for 1.2M1
The NewClassWizardPage is marked as non-subclassable, but in fact I can change that. Please file a bug against jdt.ui and I can do that for M4.
Closing</WithStack>
    <WithOutStack>We are currently subclassing the NewClassCreationWizard to allow us to add
capability to it and to customize the produced class.

We are opening this enhancement to ask to please have this classed API'd.
Also the NewElementWizard because we create some pre-defined classes.
All the pages used by the wizards are public API (NewClassWizardPage,
NewInterface...). Our idea is that clients reimplement the wizard and reuse the
pages.


We could do our own NewClassCreationWizard, but please API NewElementWizard.
That does many important things that we would have to duplicate for our wizard.
Sorry, but we don't want to make the NewElementWizard API for the following reasons:
- Creating API is a lot of work especially in the long term as we have to
maintain the code and keep it API compatible. 
- NewElementWizard is not doing that much. Some that it does, e.g. the error
handling also can't be offered by jdt.ui, but should be done by the implementing
plugin.

If there are no plans to make them extendable, VE should make its wizard mimic
the new class wizard using whatever public api available.
Reassigning to Peter.
Bug 90750 is a related defect to make the contributors more capable.
You could mark this bug as a dup of bug 110643. I just added new API to allow
you to open the type wizards programmatically. You can also initialize the
wizard with values.

Note that the idea is that as soon as you extend the type wizard pages with your
own new options, you should also implement your own wizard, with new wizard
images, description, labels ect.. The actions are thought to open our wizards as-is.

Done.
NewVisualClassCreationWizard now extends Wizard and implements INewWizard... no longer extends the JDT internal class NewElementWizard. But had to couple of few methods down to work correctly.

NewVisualClassWizardPage now extends NewTypeWizardPage instead of the JDT internal class NewClassWizardPage. Here again I had to copy methods, especially createControl, in order to ensure the controls for new type and new class wizards were included and the layout next to the VE Style tree. If the new class wizard changes, the NewVisualClassWizardPage will have to be refactored to get enure the same function.

Release to HEAD for 1.2M1
The NewClassWizardPage is marked as non-subclassable, but in fact I can change that. Please file a bug against jdt.ui and I can do that for M4.
Closing</WithOutStack>
  </Bug>
  <Bug>
    <BugId amount="107628" />
    <CreationDate amount="2005-08-22 12:09:00 -0400" />
    <DupId amount="" />
    <classification amount="WebTools" />
    <Product amount="WTP Common Tools" />
    <component amount="wst.common" />
    <Version amount="0.7" />
    <rep_platform amount="All" />
    <op_sys amount="All" />
    <priority amount="P3" />
    <bug_severity amount="enhancement" />
    <Summery>[emfworkbench] Need ArtifactEdit support for Resource.Factory registration via content type</Summery>
    <Patches amount="0" />
    <Stacktraces amount="0" />
    <SourceCodeRegions amount="0" />
    <Enumerations amount="0" />
    <bug_status amount="RESOLVED" />
    <resolution amount="FIXED" />
    <WithStack>I have an EMF meta-model, instances of which are persisted as arbitrarily-named
XML files (which must comform to a particular DTD).  There can be an arbitrary
number of them per WTP component/module, and they can reside anywhere beneath a
module's /WEB-INF directory.  I'd like to exploit the ArtifactEdit framework by
defining my own ArtifactEdit subclass.  However, in WTP 0.7 there's no way for
me to correctly register my Resource.Factory.  It currently support registration
via file name or extension, neither of which are knowable statically in my case.
 I need to be able to register my Resource.Factory by the content type I have
defined for it.  See
http://help.eclipse.org/help31/topic/org.eclipse.platform.doc.isv/reference/extension-points/org_eclipse_core_runtime_contentTypes.html
Note that this is a requirement that could be implemented relatively easily by
by WTP, but probably should ultimately be pushed down into EMF itself.
Please contact me if you have any question, but content type support for registering resource factories has been completed in WTP 2</WithStack>
    <WithOutStack>I have an EMF meta-model, instances of which are persisted as arbitrarily-named
XML files (which must comform to a particular DTD).  There can be an arbitrary
number of them per WTP component/module, and they can reside anywhere beneath a
module's /WEB-INF directory.  I'd like to exploit the ArtifactEdit framework by
defining my own ArtifactEdit subclass.  However, in WTP 0.7 there's no way for
me to correctly register my Resource.Factory.  It currently support registration
via file name or extension, neither of which are knowable statically in my case.
 I need to be able to register my Resource.Factory by the content type I have
defined for it.  See
http://help.eclipse.org/help31/topic/org.eclipse.platform.doc.isv/reference/extension-points/org_eclipse_core_runtime_contentTypes.html
Note that this is a requirement that could be implemented relatively easily by
by WTP, but probably should ultimately be pushed down into EMF itself.
Please contact me if you have any question, but content type support for registering resource factories has been completed in WTP 2</WithOutStack>
  </Bug>
  <Bug>
    <BugId amount="107629" />
    <CreationDate amount="2005-08-22 12:09:00 -0400" />
    <DupId amount="" />
    <classification amount="Eclipse" />
    <Product amount="Platform" />
    <component amount="SWT" />
    <Version amount="3.1" />
    <rep_platform amount="PC" />
    <op_sys amount="Linux-GTK" />
    <priority amount="P3" />
    <bug_severity amount="critical" />
    <Summery>mozilla widget blocks workbench</Summery>
    <Patches amount="0" />
    <Stacktraces amount="0" />
    <SourceCodeRegions amount="6">
      <source_code type="multicomment">
        <location start="4481" end="5014" />
        <code>/**
 * Sets the foreground color. The foreground color is used
 * for drawing operations including when text is drawn.
 * &lt;a href="http://www.eclipse.org/swt/"&gt;foo&lt;/a&gt;
 *
 * @param color the new foreground color for the receiver
 *
 * @exception IllegalArgumentException &lt;ul&gt;
 *    &lt;li&gt;ERROR_NULL_ARGUMENT - if the color is null&lt;/li&gt;
 *    &lt;li&gt;ERROR_INVALID_ARGUMENT - if the color has been disposed&lt;/li&gt;
 * &lt;/ul&gt;
 * @exception SWTException &lt;ul&gt;
 *    &lt;li&gt;ERROR_GRAPHIC_DISPOSED - if the receiver has been disposed&lt;/li&gt;
 * &lt;/ul&gt;
 */</code>
      </source_code>
      <source_code type="functiondef">
        <location start="5015" end="5056" />
        <code>public void setForeground(Color color) {}</code>
      </source_code>
      <source_code type="package">
        <location start="5527" end="5544" />
        <code>package pr119326;</code>
      </source_code>
      <source_code type="multicomment">
        <location start="5545" end="5680" />
        <code>/**
 * Javadoc, see &lt;a href="http://eclipse.org"&gt;eclipse.org&lt;/a&gt;
 * &lt;br&gt;
 * Also, see the &lt;a href="../foo.html"&gt;relative link&lt;/a&gt;.
 */</code>
      </source_code>
      <source_code type="class">
        <location start="5681" end="5707" />
        <code>public class BarClass {

}</code>
      </source_code>
      <source_code type="functiondef">
        <location start="11271" end="11767" />
        <code>public static void main(String[] args) {
	Display display = new Display();
	Shell parent = new Shell(display);
	parent.open();
	Shell shell = new Shell(parent, SWT.ON_TOP);
	shell.setLayout(new FillLayout());
	Browser browser = new Browser(shell, SWT.NONE);
	browser.setText("&lt;html&gt;&lt;body&gt;&lt;a href=\"../foo.html\"&gt;link&lt;/a&gt;&lt;/body&gt;&lt;/html&gt;");
	shell.setBounds(500, 500, 100,100);
	shell.open();
	while (!shell.isDisposed()) {
		if (!display.readAndDispatch()) display.sleep();
	}
	display.dispose();
}</code>
      </source_code>
    </SourceCodeRegions>
    <Enumerations amount="3">
      <Enumeration lines="3">
        <Lines>
          <Line>a) click on the link to eclipse.org -&gt; this works, and clicking the editor area will hide the hover</Line>
          <Line />
          <Line>b) click on the relative link to "../foo.html". This will lock the hover. Selecting text in the hover is still possible, but there is no way to get out of it besides killing the workbench.</Line>
        </Lines>
      </Enumeration>
      <Enumeration lines="5">
        <Lines>
          <Line>- hover over a java element (java.util.Iterator)</Line>
          <Line>- press F2 to bring up the persistent hover using the browser widget to display</Line>
          <Line>javadoc</Line>
          <Line>- select the hyperlink in the javadoc for the 'Java Collections Framework'</Line>
          <Line>-&gt; the link does not open, which is expected (it is relative)</Line>
        </Lines>
      </Enumeration>
      <Enumeration lines="2">
        <Lines>
          <Line>- hover over the BarClass class definition until the hover appears</Line>
          <Line>- press F2 to persist the hover</Line>
        </Lines>
      </Enumeration>
    </Enumerations>
    <bug_status amount="RESOLVED" />
    <resolution amount="WORKSFORME" />
    <WithStack>Version: 3.1.0
Build id: I20050818-0800

I just got into a situation where the browser widget blocks the workbench.

Here's what I did:
- hover over a java element (java.util.Iterator)
- press F2 to bring up the persistent hover using the browser widget to display
javadoc
- select the hyperlink in the javadoc for the 'Java Collections Framework' 
-&gt; the link does not open, which is expected (it is relative)

From now on, I cannot close the popup any longer. No keystrokes or mouse
gestures make it through to the workbench, I have to kill eclipse -&gt; lost work.

The mouse still works inside the popup (I can select text, scroll, etc.).
Keyboard does not work any longer even inside the popup.

I got the following vm dump (excerpt):

1XMTHDINFO     All Thread Details
NULL           ------------------
NULL
2XMFULLTHDDUMP Full thread dump J9SE VM (J2RE 5.0 IBM J9 2.3 Linux x86-32 build
20050718_02494_lHdSMR, native threads):
3XMTHREADINFO      "main" (TID:0x0841B200, sys_thread_t:0x0838BB9C, state:CW,
native ID:0x0838BDC4) prio=6
4XESTACKTRACE          at org/eclipse/swt/internal/gtk/OS._gtk_dialog_run(Native
Method)
4XESTACKTRACE          at
org/eclipse/swt/internal/gtk/OS.gtk_dialog_run(OS.java:3625)
4XESTACKTRACE          at
org/eclipse/swt/widgets/MessageBox.open(MessageBox.java:150)
4XESTACKTRACE          at
org/eclipse/swt/browser/PromptService.Alert(PromptService.java:174)
4XESTACKTRACE          at
org/eclipse/swt/browser/PromptService$2.method3(PromptService.java:44)
4XESTACKTRACE          at
org/eclipse/swt/internal/mozilla/XPCOMObject.callback3(XPCOMObject.java:258)
4XESTACKTRACE          at
org/eclipse/swt/internal/gtk/OS._g_main_context_iteration(Native Method)
4XESTACKTRACE          at
org/eclipse/swt/internal/gtk/OS.g_main_context_iteration(OS.java:1176)
4XESTACKTRACE          at
org/eclipse/swt/widgets/Display.readAndDispatch(Display.java:2566)
4XESTACKTRACE          at
org/eclipse/ui/internal/Workbench.runEventLoop(Workbench.java:1734)
4XESTACKTRACE          at
org/eclipse/ui/internal/Workbench.runUI(Workbench.java:1698)
4XESTACKTRACE          at
org/eclipse/ui/internal/Workbench.createAndRunWorkbench(Workbench.java:367)
4XESTACKTRACE          at
org/eclipse/ui/PlatformUI.createAndRunWorkbench(PlatformUI.java:143)
4XESTACKTRACE          at
org/eclipse/ui/internal/ide/IDEApplication.run(IDEApplication.java:103)
4XESTACKTRACE          at
org/eclipse/core/internal/runtime/PlatformActivator$1.run(PlatformActivator.java:226)
4XESTACKTRACE          at
org/eclipse/core/runtime/adaptor/EclipseStarter.run(EclipseStarter.java:376)
4XESTACKTRACE          at
org/eclipse/core/runtime/adaptor/EclipseStarter.run(EclipseStarter.java:163)
4XESTACKTRACE          at sun/reflect/NativeMethodAccessorImpl.invoke0(Native
Method)
4XESTACKTRACE          at
sun/reflect/NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:64)
4XESTACKTRACE          at
sun/reflect/DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43)
4XESTACKTRACE          at java/lang/reflect/Method.invoke(Method.java:615)
4XESTACKTRACE          at
org/eclipse/core/launcher/Main.invokeFramework(Main.java:338)
4XESTACKTRACE          at org/eclipse/core/launcher/Main.basicRun(Main.java:282)
4XESTACKTRACE          at org/eclipse/core/launcher/Main.run(Main.java:977)
4XESTACKTRACE          at org/eclipse/core/launcher/Main.main(Main.java:952)
3XMTHREADINFO      "[system]" (TID:0x0841B600, sys_thread_t:0x0838C09C,
state:CW, native ID:0x0838C2C4) prio=11
3XMTHREADINFO      "Signal Dispatcher" (TID:0x0841BA00, sys_thread_t:0x0838C59C,
state:R, native ID:0x0838C7C4) prio=5
4XESTACKTRACE          at com/ibm/misc/SignalDispatcher.waitForSignal(Native Method)
4XESTACKTRACE          at
com/ibm/misc/SignalDispatcher.run(SignalDispatcher.java:84)

[...]
A fix could be provided if #89091 was implemented.

Ben
3.2 M4

This is much worse now that javadoc can be extracted from attached javadoc, in which case there are a lot more hyperlinks in the persisted (F2) javadoc hover.

Users will start to click on these links and they will have their workbench blocked. This means lost work. Bumping severity to critical.
Tom, I hacked up the following Javadoc in Eclipse.  I hit F2, clicked on the link, and was able to browse around without problems.  Clicking back in Eclipse makes the dialog disappear, as does ESC.

In the original stack trace, it looks like there is a dialog which is trying to show from the browser.  How do you get this to happen?

/**
 * Sets the foreground color. The foreground color is used
 * for drawing operations including when text is drawn.
 * &lt;a href="http://www.eclipse.org/swt/"&gt;foo&lt;/a&gt;
 *
 * @param color the new foreground color for the receiver
 *
 * @exception IllegalArgumentException &lt;ul&gt;
 *    &lt;li&gt;ERROR_NULL_ARGUMENT - if the color is null&lt;/li&gt;
 *    &lt;li&gt;ERROR_INVALID_ARGUMENT - if the color has been disposed&lt;/li&gt;
 * &lt;/ul&gt;
 * @exception SWTException &lt;ul&gt;
 *    &lt;li&gt;ERROR_GRAPHIC_DISPOSED - if the receiver has been disposed&lt;/li&gt;
 * &lt;/ul&gt;
 */
public void setForeground(Color color) {}
Billy, did you try the test case that Tom mentions in comment 0?
No, I do not have the source code or javadoc for the JDK.  An example from Eclipse's Javadoc would be best.
&gt;No, I do not have the source code or javadoc for the JDK.  
Are you working in "clean room"?
Please attach some example Javadoc that shows the problem.
Any update on this?
coming in 20 minutes.
Steps to reproduce:

- have a Java editor open on the following CU:

========= BarClass.java ========
package pr119326;

/**
 * Javadoc, see &lt;a href="http://eclipse.org"&gt;eclipse.org&lt;/a&gt;
 * &lt;br&gt;
 * Also, see the &lt;a href="../foo.html"&gt;relative link&lt;/a&gt;.
 */
public class BarClass {

}
================================

- hover over the BarClass class definition until the hover appears
- press F2 to persist the hover

a) click on the link to eclipse.org -&gt; this works, and clicking the editor area will hide the hover

b) click on the relative link to "../foo.html". This will lock the hover. Selecting text in the hover is still possible, but there is no way to get out of it besides killing the workbench.

The thread dump was taken after being locked (case b) above):


org.eclipse.core.launcher.Main at localhost:35785 (Suspended)
	Thread [YJP CPU Sampler] (Suspended)
	Thread [YJP RequestServer] (Suspended)
		owns: SocksSocketImpl  (id=70)
		PlainSocketImpl.socketAccept(SocketImpl) line: not available [native method]
		SocksSocketImpl(PlainSocketImpl).accept(SocketImpl) line: 384
		ServerSocket.implAccept(Socket) line: 450
		ServerSocket.accept() line: 421
		RequestServer.doIt(ServerSocket) line: 240
		RequestServer.access$000(ServerSocket) line: 12
		RequestServer$1.run() line: 229
	System Thread [Finalizer] (Suspended)
		waiting for: ReferenceQueue$Lock  (id=90)
		Object.wait(long) line: not available [native method]
		ReferenceQueue&lt;T&gt;.remove(long) line: 116
		ReferenceQueue&lt;T&gt;.remove() line: 132
		Finalizer$FinalizerThread.run() line: 159
	System Thread [Reference Handler] (Suspended)
		waiting for: Reference$Lock  (id=89)
		Object.wait(long) line: not available [native method]
		Reference$Lock(Object).wait() line: 492
		Reference$ReferenceHandler.run() line: 116
	Thread [main] (Suspended)
		OS._gtk_dialog_run(int) line: not available [native method]
		OS.gtk_dialog_run(int) line: 3848
		MessageBox.open() line: 150
		PromptService.Alert(int, int, int) line: 174
		PromptService$2.method3(int[]) line: 44
		XPCOMObject.callback3(int[]) line: 258
		OS._g_main_context_iteration(int, boolean) line: not available [native method]
		OS.g_main_context_iteration(int, boolean) line: 1344
		Display.readAndDispatch() line: 2741
		Workbench.runEventLoop(Window$IExceptionHandler, Display) line: 1762
		Workbench.runUI() line: 1726
		Workbench.createAndRunWorkbench(Display, WorkbenchAdvisor) line: 397
		PlatformUI.createAndRunWorkbench(Display, WorkbenchAdvisor) line: 143
		IDEApplication.run(Object) line: 106
		PlatformActivator$1.run(Object) line: 109
		EclipseAppLauncher.runApplication(Object) line: 92
		EclipseAppLauncher.start(Object) line: 68
		EclipseStarter.run(Object) line: 379
		EclipseStarter.run(String[], Runnable) line: 177
		NativeMethodAccessorImpl.invoke0(Method, Object, Object[]) line: not available [native method]
		NativeMethodAccessorImpl.invoke(Object, Object[]) line: 39
		DelegatingMethodAccessorImpl.invoke(Object, Object[]) line: 25
		Method.invoke(Object, Object...) line: 585
		Main.invokeFramework(String[], URL[]) line: 338
		Main.basicRun(String[]) line: 282
		Main.run(String[]) line: 977
		Main.main(String[]) line: 952
	System Thread [Signal Dispatcher] (Suspended)
		
	Thread [Framework Event Dispatcher] (Suspended)
		waiting for: EventManager$EventThread  (id=12)
		Object.wait(long) line: not available [native method]
		EventManager$EventThread(Object).wait() line: 492
		EventManager$EventThread.getNextEvent() line: 349
		EventManager$EventThread.run() line: 287
	Thread [Start Level Event Dispatcher] (Suspended)
		waiting for: EventManager$EventThread  (id=15)
		Object.wait(long) line: not available [native method]
		EventManager$EventThread(Object).wait() line: 492
		EventManager$EventThread.getNextEvent() line: 349
		EventManager$EventThread.run() line: 287
	Thread [Java indexing] (Suspended)
		waiting for: IndexManager  (id=78)
		Object.wait(long) line: not available [native method]
		IndexManager(Object).wait() line: 492
		IndexManager(JobManager).run() line: 349
		Thread.run() line: 595
	Thread [org.eclipse.jdt.internal.ui.text.JavaReconciler] (Suspended)
		waiting for: DirtyRegionQueue  (id=76)
		Object.wait(long) line: not available [native method]
		AbstractReconciler$BackgroundThread.run() line: 176
	Thread [Worker-3] (Suspended)
		waiting for: WorkerPool  (id=51)
		Object.wait(long) line: not available [native method]
		WorkerPool.sleep(long) line: 173
		WorkerPool.startJob(Worker) line: 205
		Worker.run() line: 51
	Thread [Worker-4] (Suspended)
		waiting for: WorkerPool  (id=51)
		Object.wait(long) line: not available [native method]
		WorkerPool.sleep(long) line: 173
		WorkerPool.startJob(Worker) line: 205
		Worker.run() line: 51
	Thread [YJP Listener Thread] (Suspended)
		owns: SocksSocketImpl  (id=80)
		PlainSocketImpl.socketAccept(SocketImpl) line: not available [native method]
		SocksSocketImpl(PlainSocketImpl).accept(SocketImpl) line: 384
		ServerSocket.implAccept(Socket) line: 450
		ServerSocket.accept() line: 421
		a(a).run() line: 47
	Thread [Worker-5] (Suspended)
		waiting for: WorkerPool  (id=51)
		Object.wait(long) line: not available [native method]
		WorkerPool.sleep(long) line: 173
		WorkerPool.startJob(Worker) line: 205
		Worker.run() line: 51

Hm, clicking the relative link from the 'Javadoc' view shows an modal error dialog, telling me that the file was not found. From the stack dump it seems that the same is tried from the hover, but somehow does not succeed.
It actually does succeed, but since the javadoc tooltip is ON_TOP, the message box is being obscured by it.  The example below makes this a little more obvious.

Since ON_TOP under GTK+/X is implemented as an override_redirect window, I am not sure what can be done about this. The window manager can't control the stacking of the tooltip window.


public static void main(String[] args) {
	Display display = new Display();
	Shell parent = new Shell(display);
	parent.open();
	Shell shell = new Shell(parent, SWT.ON_TOP);
	shell.setLayout(new FillLayout());
	Browser browser = new Browser(shell, SWT.NONE);
	browser.setText("&lt;html&gt;&lt;body&gt;&lt;a href=\"../foo.html\"&gt;link&lt;/a&gt;&lt;/body&gt;&lt;/html&gt;");
	shell.setBounds(500, 500, 100,100);
	shell.open();
	while (!shell.isDisposed()) {
		if (!display.readAndDispatch()) display.sleep();
	}
	display.dispose();
}
Tom, does the Javadoc tooltip window, when it gains focus, need to be
ON_TOP?  Why not promote it to a normal window once the user asks it
to get focus - it would then be resizable too ;-)
(In reply to comment #13)
&gt; Tom, does the Javadoc tooltip window, when it gains focus, need to be
&gt; ON_TOP?  Why not promote it to a normal window once the user asks it
&gt; to get focus - it would then be resizable too ;-)

We'd like to do that - but besides giving the wanted resizability, omitting ON_TOP will cause the hover to have full window decorations (system menu, close button...) which we don't want. As long as there is no way to avoid this on GTK, we need ON_TOP.

The good news: there *is* a way to get rid of the seemingly stuck hover: simply press 'Return' after clicking the link. This will probably press the 'Ok' button on the dialog and close the hover.


Avoiding the decorations by using NO_TRIM is much safer.  If this degrades the experience under Windows, I'd recommend a platform check.
As outlined before, we do not want full window decorations (system menu, close
button...). If SWT gave us a (custom?) Shell widget that has no such side-effects but hopefully some handles for resizing then we wouldn't need to use ON_TOP.

To reduce the problem we'll try to catch the error, so that there isn't a dialog. Note however, that it is SWT who brings up that modal dialog resulting in the current behavior.

However, as far as I can tell, it is not a good idea from the framework to bring up a dialog when the client requested an ON_TOP shell. You should let the client handle all the callbacks i.e. offer a listener to handle such situtations.
&gt;As outlined before, we do not want full window decorations (system menu,
&gt;close button...). If SWT gave us a (custom?) Shell widget that has no such
&gt;side-effects but hopefully some handles for resizing then we wouldn't need
&gt;to use ON_TOP.

So don't ask for them.  If you create a shell with SWT.RESIZE, it will only have resize handles (provided the stupid @#%$@ window manager on X platforms honours the request).

&gt;To reduce the problem we'll try to catch the error, so that there isn't
&gt;a dialog. Note however, that it is SWT who brings up that modal dialog
&gt;resulting in the current behavior.
&gt;
&gt;However, as far as I can tell, it is not a good idea from the framework to
&gt;bring up a dialog when the client requested an ON_TOP shell. You should let
&gt;the client handle all the callbacks i.e. offer a listener to handle such
&gt;situtations.

I agree and tried to stop the code going in.  The problem is that Windows handles this for you with automatic built in dialogs.  We had to add the dialogs in order to be portable.
&gt;I agree and tried to stop the code going in.  The problem is that Windows
&gt;handles this for you with automatic built in dialogs. We had to add the
&gt;dialogs in order to be portable.
Mmh, strange 'cause I don't get a dialog on Windows. It just works fine.

Could't you do what you do now but offer a hook for clients to take care of the callback themselves if desired?
Do we even know why we are getting prompted?  Let's figure that out.  As for Windows, we need to check to see the hooks are available and then we could consider adding API.
Well, in the foo.html example above, Mozilla is opening a dialog to say that the file does not exist, while IE seems to give a generic blank error page.  It looks a little broken though, so maybe there's a bug with broken pages in the Win32 Browser code.

Still, I don't think it explains the case described in the original bug post above.  What link are you trying to open there?  Why would you have a broken link in the javadoc?
See comment 10: the problem are relative URLs: currently we serve the Javadoc as provided to us and this Javadoc contains local URLs. In the future we want to patch them or intercept the navigation to show the correct document.
&gt;Well, in the foo.html example above, Mozilla is opening a dialog to say that
&gt;the file does not exist, while IE seems to give a generic blank error page.
The browsers itself (i.e. not the Browser widget) behave the same on WindowsXP i.e. they both popup a dialog.

Is this still an issue?
Markus will verify...
Created attachment 95547
Patch (remove workaround)

This works for me (with Seamonkey 1.0.9). It looks like Mozilla also stopped showing dialogs when an URL could not be opened.

Note that relative links currently don't work well from Javadoc hovers (will be dealt with in bug 8112).

Dani, could you please release the patch to remove the workaround and then set this bug to WORKSFORME?
.</WithStack>
    <WithOutStack>Version: 3.1.0
Build id: I20050818-0800

I just got into a situation where the browser widget blocks the workbench.

Here's what I did:
- hover over a java element (java.util.Iterator)
- press F2 to bring up the persistent hover using the browser widget to display
javadoc
- select the hyperlink in the javadoc for the 'Java Collections Framework' 
-&gt; the link does not open, which is expected (it is relative)

From now on, I cannot close the popup any longer. No keystrokes or mouse
gestures make it through to the workbench, I have to kill eclipse -&gt; lost work.

The mouse still works inside the popup (I can select text, scroll, etc.).
Keyboard does not work any longer even inside the popup.

I got the following vm dump (excerpt):

1XMTHDINFO     All Thread Details
NULL           ------------------
NULL
2XMFULLTHDDUMP Full thread dump J9SE VM (J2RE 5.0 IBM J9 2.3 Linux x86-32 build
20050718_02494_lHdSMR, native threads):
3XMTHREADINFO      "main" (TID:0x0841B200, sys_thread_t:0x0838BB9C, state:CW,
native ID:0x0838BDC4) prio=6
4XESTACKTRACE          at org/eclipse/swt/internal/gtk/OS._gtk_dialog_run(Native
Method)
4XESTACKTRACE          at
org/eclipse/swt/internal/gtk/OS.gtk_dialog_run(OS.java:3625)
4XESTACKTRACE          at
org/eclipse/swt/widgets/MessageBox.open(MessageBox.java:150)
4XESTACKTRACE          at
org/eclipse/swt/browser/PromptService.Alert(PromptService.java:174)
4XESTACKTRACE          at
org/eclipse/swt/browser/PromptService$2.method3(PromptService.java:44)
4XESTACKTRACE          at
org/eclipse/swt/internal/mozilla/XPCOMObject.callback3(XPCOMObject.java:258)
4XESTACKTRACE          at
org/eclipse/swt/internal/gtk/OS._g_main_context_iteration(Native Method)
4XESTACKTRACE          at
org/eclipse/swt/internal/gtk/OS.g_main_context_iteration(OS.java:1176)
4XESTACKTRACE          at
org/eclipse/swt/widgets/Display.readAndDispatch(Display.java:2566)
4XESTACKTRACE          at
org/eclipse/ui/internal/Workbench.runEventLoop(Workbench.java:1734)
4XESTACKTRACE          at
org/eclipse/ui/internal/Workbench.runUI(Workbench.java:1698)
4XESTACKTRACE          at
org/eclipse/ui/internal/Workbench.createAndRunWorkbench(Workbench.java:367)
4XESTACKTRACE          at
org/eclipse/ui/PlatformUI.createAndRunWorkbench(PlatformUI.java:143)
4XESTACKTRACE          at
org/eclipse/ui/internal/ide/IDEApplication.run(IDEApplication.java:103)
4XESTACKTRACE          at
org/eclipse/core/internal/runtime/PlatformActivator$1.run(PlatformActivator.java:226)
4XESTACKTRACE          at
org/eclipse/core/runtime/adaptor/EclipseStarter.run(EclipseStarter.java:376)
4XESTACKTRACE          at
org/eclipse/core/runtime/adaptor/EclipseStarter.run(EclipseStarter.java:163)
4XESTACKTRACE          at sun/reflect/NativeMethodAccessorImpl.invoke0(Native
Method)
4XESTACKTRACE          at
sun/reflect/NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:64)
4XESTACKTRACE          at
sun/reflect/DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43)
4XESTACKTRACE          at java/lang/reflect/Method.invoke(Method.java:615)
4XESTACKTRACE          at
org/eclipse/core/launcher/Main.invokeFramework(Main.java:338)
4XESTACKTRACE          at org/eclipse/core/launcher/Main.basicRun(Main.java:282)
4XESTACKTRACE          at org/eclipse/core/launcher/Main.run(Main.java:977)
4XESTACKTRACE          at org/eclipse/core/launcher/Main.main(Main.java:952)
3XMTHREADINFO      "[system]" (TID:0x0841B600, sys_thread_t:0x0838C09C,
state:CW, native ID:0x0838C2C4) prio=11
3XMTHREADINFO      "Signal Dispatcher" (TID:0x0841BA00, sys_thread_t:0x0838C59C,
state:R, native ID:0x0838C7C4) prio=5
4XESTACKTRACE          at com/ibm/misc/SignalDispatcher.waitForSignal(Native Method)
4XESTACKTRACE          at
com/ibm/misc/SignalDispatcher.run(SignalDispatcher.java:84)

[...]
A fix could be provided if #89091 was implemented.

Ben
3.2 M4

This is much worse now that javadoc can be extracted from attached javadoc, in which case there are a lot more hyperlinks in the persisted (F2) javadoc hover.

Users will start to click on these links and they will have their workbench blocked. This means lost work. Bumping severity to critical.
Tom, I hacked up the following Javadoc in Eclipse.  I hit F2, clicked on the link, and was able to browse around without problems.  Clicking back in Eclipse makes the dialog disappear, as does ESC.

In the original stack trace, it looks like there is a dialog which is trying to show from the browser.  How do you get this to happen?

/**
 * Sets the foreground color. The foreground color is used
 * for drawing operations including when text is drawn.
 * &lt;a href="http://www.eclipse.org/swt/"&gt;foo&lt;/a&gt;
 *
 * @param color the new foreground color for the receiver
 *
 * @exception IllegalArgumentException &lt;ul&gt;
 *    &lt;li&gt;ERROR_NULL_ARGUMENT - if the color is null&lt;/li&gt;
 *    &lt;li&gt;ERROR_INVALID_ARGUMENT - if the color has been disposed&lt;/li&gt;
 * &lt;/ul&gt;
 * @exception SWTException &lt;ul&gt;
 *    &lt;li&gt;ERROR_GRAPHIC_DISPOSED - if the receiver has been disposed&lt;/li&gt;
 * &lt;/ul&gt;
 */
public void setForeground(Color color) {}
Billy, did you try the test case that Tom mentions in comment 0?
No, I do not have the source code or javadoc for the JDK.  An example from Eclipse's Javadoc would be best.
&gt;No, I do not have the source code or javadoc for the JDK.  
Are you working in "clean room"?
Please attach some example Javadoc that shows the problem.
Any update on this?
coming in 20 minutes.
Steps to reproduce:

- have a Java editor open on the following CU:

========= BarClass.java ========
package pr119326;

/**
 * Javadoc, see &lt;a href="http://eclipse.org"&gt;eclipse.org&lt;/a&gt;
 * &lt;br&gt;
 * Also, see the &lt;a href="../foo.html"&gt;relative link&lt;/a&gt;.
 */
public class BarClass {

}
================================

- hover over the BarClass class definition until the hover appears
- press F2 to persist the hover

a) click on the link to eclipse.org -&gt; this works, and clicking the editor area will hide the hover

b) click on the relative link to "../foo.html". This will lock the hover. Selecting text in the hover is still possible, but there is no way to get out of it besides killing the workbench.

The thread dump was taken after being locked (case b) above):


org.eclipse.core.launcher.Main at localhost:35785 (Suspended)
	Thread [YJP CPU Sampler] (Suspended)
	Thread [YJP RequestServer] (Suspended)
		owns: SocksSocketImpl  (id=70)
		PlainSocketImpl.socketAccept(SocketImpl) line: not available [native method]
		SocksSocketImpl(PlainSocketImpl).accept(SocketImpl) line: 384
		ServerSocket.implAccept(Socket) line: 450
		ServerSocket.accept() line: 421
		RequestServer.doIt(ServerSocket) line: 240
		RequestServer.access$000(ServerSocket) line: 12
		RequestServer$1.run() line: 229
	System Thread [Finalizer] (Suspended)
		waiting for: ReferenceQueue$Lock  (id=90)
		Object.wait(long) line: not available [native method]
		ReferenceQueue&lt;T&gt;.remove(long) line: 116
		ReferenceQueue&lt;T&gt;.remove() line: 132
		Finalizer$FinalizerThread.run() line: 159
	System Thread [Reference Handler] (Suspended)
		waiting for: Reference$Lock  (id=89)
		Object.wait(long) line: not available [native method]
		Reference$Lock(Object).wait() line: 492
		Reference$ReferenceHandler.run() line: 116
	Thread [main] (Suspended)
		OS._gtk_dialog_run(int) line: not available [native method]
		OS.gtk_dialog_run(int) line: 3848
		MessageBox.open() line: 150
		PromptService.Alert(int, int, int) line: 174
		PromptService$2.method3(int[]) line: 44
		XPCOMObject.callback3(int[]) line: 258
		OS._g_main_context_iteration(int, boolean) line: not available [native method]
		OS.g_main_context_iteration(int, boolean) line: 1344
		Display.readAndDispatch() line: 2741
		Workbench.runEventLoop(Window$IExceptionHandler, Display) line: 1762
		Workbench.runUI() line: 1726
		Workbench.createAndRunWorkbench(Display, WorkbenchAdvisor) line: 397
		PlatformUI.createAndRunWorkbench(Display, WorkbenchAdvisor) line: 143
		IDEApplication.run(Object) line: 106
		PlatformActivator$1.run(Object) line: 109
		EclipseAppLauncher.runApplication(Object) line: 92
		EclipseAppLauncher.start(Object) line: 68
		EclipseStarter.run(Object) line: 379
		EclipseStarter.run(String[], Runnable) line: 177
		NativeMethodAccessorImpl.invoke0(Method, Object, Object[]) line: not available [native method]
		NativeMethodAccessorImpl.invoke(Object, Object[]) line: 39
		DelegatingMethodAccessorImpl.invoke(Object, Object[]) line: 25
		Method.invoke(Object, Object...) line: 585
		Main.invokeFramework(String[], URL[]) line: 338
		Main.basicRun(String[]) line: 282
		Main.run(String[]) line: 977
		Main.main(String[]) line: 952
	System Thread [Signal Dispatcher] (Suspended)
		
	Thread [Framework Event Dispatcher] (Suspended)
		waiting for: EventManager$EventThread  (id=12)
		Object.wait(long) line: not available [native method]
		EventManager$EventThread(Object).wait() line: 492
		EventManager$EventThread.getNextEvent() line: 349
		EventManager$EventThread.run() line: 287
	Thread [Start Level Event Dispatcher] (Suspended)
		waiting for: EventManager$EventThread  (id=15)
		Object.wait(long) line: not available [native method]
		EventManager$EventThread(Object).wait() line: 492
		EventManager$EventThread.getNextEvent() line: 349
		EventManager$EventThread.run() line: 287
	Thread [Java indexing] (Suspended)
		waiting for: IndexManager  (id=78)
		Object.wait(long) line: not available [native method]
		IndexManager(Object).wait() line: 492
		IndexManager(JobManager).run() line: 349
		Thread.run() line: 595
	Thread [org.eclipse.jdt.internal.ui.text.JavaReconciler] (Suspended)
		waiting for: DirtyRegionQueue  (id=76)
		Object.wait(long) line: not available [native method]
		AbstractReconciler$BackgroundThread.run() line: 176
	Thread [Worker-3] (Suspended)
		waiting for: WorkerPool  (id=51)
		Object.wait(long) line: not available [native method]
		WorkerPool.sleep(long) line: 173
		WorkerPool.startJob(Worker) line: 205
		Worker.run() line: 51
	Thread [Worker-4] (Suspended)
		waiting for: WorkerPool  (id=51)
		Object.wait(long) line: not available [native method]
		WorkerPool.sleep(long) line: 173
		WorkerPool.startJob(Worker) line: 205
		Worker.run() line: 51
	Thread [YJP Listener Thread] (Suspended)
		owns: SocksSocketImpl  (id=80)
		PlainSocketImpl.socketAccept(SocketImpl) line: not available [native method]
		SocksSocketImpl(PlainSocketImpl).accept(SocketImpl) line: 384
		ServerSocket.implAccept(Socket) line: 450
		ServerSocket.accept() line: 421
		a(a).run() line: 47
	Thread [Worker-5] (Suspended)
		waiting for: WorkerPool  (id=51)
		Object.wait(long) line: not available [native method]
		WorkerPool.sleep(long) line: 173
		WorkerPool.startJob(Worker) line: 205
		Worker.run() line: 51

Hm, clicking the relative link from the 'Javadoc' view shows an modal error dialog, telling me that the file was not found. From the stack dump it seems that the same is tried from the hover, but somehow does not succeed.
It actually does succeed, but since the javadoc tooltip is ON_TOP, the message box is being obscured by it.  The example below makes this a little more obvious.

Since ON_TOP under GTK+/X is implemented as an override_redirect window, I am not sure what can be done about this. The window manager can't control the stacking of the tooltip window.


public static void main(String[] args) {
	Display display = new Display();
	Shell parent = new Shell(display);
	parent.open();
	Shell shell = new Shell(parent, SWT.ON_TOP);
	shell.setLayout(new FillLayout());
	Browser browser = new Browser(shell, SWT.NONE);
	browser.setText("&lt;html&gt;&lt;body&gt;&lt;a href=\"../foo.html\"&gt;link&lt;/a&gt;&lt;/body&gt;&lt;/html&gt;");
	shell.setBounds(500, 500, 100,100);
	shell.open();
	while (!shell.isDisposed()) {
		if (!display.readAndDispatch()) display.sleep();
	}
	display.dispose();
}
Tom, does the Javadoc tooltip window, when it gains focus, need to be
ON_TOP?  Why not promote it to a normal window once the user asks it
to get focus - it would then be resizable too ;-)
(In reply to comment #13)
&gt; Tom, does the Javadoc tooltip window, when it gains focus, need to be
&gt; ON_TOP?  Why not promote it to a normal window once the user asks it
&gt; to get focus - it would then be resizable too ;-)

We'd like to do that - but besides giving the wanted resizability, omitting ON_TOP will cause the hover to have full window decorations (system menu, close button...) which we don't want. As long as there is no way to avoid this on GTK, we need ON_TOP.

The good news: there *is* a way to get rid of the seemingly stuck hover: simply press 'Return' after clicking the link. This will probably press the 'Ok' button on the dialog and close the hover.


Avoiding the decorations by using NO_TRIM is much safer.  If this degrades the experience under Windows, I'd recommend a platform check.
As outlined before, we do not want full window decorations (system menu, close
button...). If SWT gave us a (custom?) Shell widget that has no such side-effects but hopefully some handles for resizing then we wouldn't need to use ON_TOP.

To reduce the problem we'll try to catch the error, so that there isn't a dialog. Note however, that it is SWT who brings up that modal dialog resulting in the current behavior.

However, as far as I can tell, it is not a good idea from the framework to bring up a dialog when the client requested an ON_TOP shell. You should let the client handle all the callbacks i.e. offer a listener to handle such situtations.
&gt;As outlined before, we do not want full window decorations (system menu,
&gt;close button...). If SWT gave us a (custom?) Shell widget that has no such
&gt;side-effects but hopefully some handles for resizing then we wouldn't need
&gt;to use ON_TOP.

So don't ask for them.  If you create a shell with SWT.RESIZE, it will only have resize handles (provided the stupid @#%$@ window manager on X platforms honours the request).

&gt;To reduce the problem we'll try to catch the error, so that there isn't
&gt;a dialog. Note however, that it is SWT who brings up that modal dialog
&gt;resulting in the current behavior.
&gt;
&gt;However, as far as I can tell, it is not a good idea from the framework to
&gt;bring up a dialog when the client requested an ON_TOP shell. You should let
&gt;the client handle all the callbacks i.e. offer a listener to handle such
&gt;situtations.

I agree and tried to stop the code going in.  The problem is that Windows handles this for you with automatic built in dialogs.  We had to add the dialogs in order to be portable.
&gt;I agree and tried to stop the code going in.  The problem is that Windows
&gt;handles this for you with automatic built in dialogs. We had to add the
&gt;dialogs in order to be portable.
Mmh, strange 'cause I don't get a dialog on Windows. It just works fine.

Could't you do what you do now but offer a hook for clients to take care of the callback themselves if desired?
Do we even know why we are getting prompted?  Let's figure that out.  As for Windows, we need to check to see the hooks are available and then we could consider adding API.
Well, in the foo.html example above, Mozilla is opening a dialog to say that the file does not exist, while IE seems to give a generic blank error page.  It looks a little broken though, so maybe there's a bug with broken pages in the Win32 Browser code.

Still, I don't think it explains the case described in the original bug post above.  What link are you trying to open there?  Why would you have a broken link in the javadoc?
See comment 10: the problem are relative URLs: currently we serve the Javadoc as provided to us and this Javadoc contains local URLs. In the future we want to patch them or intercept the navigation to show the correct document.
&gt;Well, in the foo.html example above, Mozilla is opening a dialog to say that
&gt;the file does not exist, while IE seems to give a generic blank error page.
The browsers itself (i.e. not the Browser widget) behave the same on WindowsXP i.e. they both popup a dialog.

Is this still an issue?
Markus will verify...
Created attachment 95547
Patch (remove workaround)

This works for me (with Seamonkey 1.0.9). It looks like Mozilla also stopped showing dialogs when an URL could not be opened.

Note that relative links currently don't work well from Javadoc hovers (will be dealt with in bug 8112).

Dani, could you please release the patch to remove the workaround and then set this bug to WORKSFORME?
.</WithOutStack>
  </Bug>
  <Bug>
    <BugId amount="107630" />
    <CreationDate amount="2005-08-22 12:23:00 -0400" />
    <DupId amount="" />
    <classification amount="Tools" />
    <Product amount="CDT" />
    <component amount="cdt-build" />
    <Version amount="3.0" />
    <rep_platform amount="PC" />
    <op_sys amount="Windows XP" />
    <priority amount="P3" />
    <bug_severity amount="normal" />
    <Summery>Return status of IMakeTarget.build()</Summery>
    <Patches amount="0" />
    <Stacktraces amount="0" />
    <SourceCodeRegions amount="0" />
    <Enumerations amount="0" />
    <bug_status amount="ASSIGNED" />
    <resolution amount="" />
    <WithStack>We utilize the Standard Make CDT projects heavily in our environment.  One tool
that will play a vital role in our development lifecycle is our internal build
manager.  Via this tool, we can queue multiple Eclipse events to run in serial.
 One of these event types is a MakeTarget build.  One piece of information we
need from the IMakeTarget is whether its build returned warnings or errors. 
Currently, we cannot query the IMakeTarget for this information directly.

I would like IMakeTarget to maintain an IStatus object indicating an OK build, a
build with WARNINGs, or a build with ERRORs.  

Our only workaround currently is to find all the C problem markers on a project
after the build.  Although effective, it is a bit messy and round-a-bout.

Chad Barnes
Rockwell Collins, Inc.</WithStack>
    <WithOutStack>We utilize the Standard Make CDT projects heavily in our environment.  One tool
that will play a vital role in our development lifecycle is our internal build
manager.  Via this tool, we can queue multiple Eclipse events to run in serial.
 One of these event types is a MakeTarget build.  One piece of information we
need from the IMakeTarget is whether its build returned warnings or errors. 
Currently, we cannot query the IMakeTarget for this information directly.

I would like IMakeTarget to maintain an IStatus object indicating an OK build, a
build with WARNINGs, or a build with ERRORs.  

Our only workaround currently is to find all the C problem markers on a project
after the build.  Although effective, it is a bit messy and round-a-bout.

Chad Barnes
Rockwell Collins, Inc.</WithOutStack>
  </Bug>
  <Bug>
    <BugId amount="107631" />
    <CreationDate amount="2005-08-22 12:25:00 -0400" />
    <DupId amount="" />
    <classification amount="Eclipse" />
    <Product amount="Platform" />
    <component amount="SWT" />
    <Version amount="3.1" />
    <rep_platform amount="PC" />
    <op_sys amount="Windows XP" />
    <priority amount="P3" />
    <bug_severity amount="normal" />
    <Summery>Editor tabs not showing filename</Summery>
    <Patches amount="0" />
    <Stacktraces amount="0" />
    <SourceCodeRegions amount="0" />
    <Enumerations amount="1">
      <Enumeration lines="7">
        <Lines>
          <Line>1. Turn on clear text in Windows XP.</Line>
          <Line>2. Get a laptop with a second monitor.</Line>
          <Line>3. Maximize Eclipse window in the second monitor.</Line>
          <Line>Result (on my machine at least):</Line>
          <Line>The editor windows only show "      .java" instead of "SomeClass.java". Some of</Line>
          <Line>the other tabs are also blank. However, if I move another window over the tabs,</Line>
          <Line>causing a redraw, then I see the correct file names in the tabs.</Line>
        </Lines>
      </Enumeration>
    </Enumerations>
    <bug_status amount="RESOLVED" />
    <resolution amount="WORKSFORME" />
    <WithStack>Steps to reproduce:
1. Turn on clear text in Windows XP.
2. Get a laptop with a second monitor.
3. Maximize Eclipse window in the second monitor.
Result (on my machine at least):
The editor windows only show "      .java" instead of "SomeClass.java". Some of
the other tabs are also blank. However, if I move another window over the tabs,
causing a redraw, then I see the correct file names in the tabs.

Note: this does not happen if I turn off cleartext, or if I use the built-in
laptop screen, or my Eclipse window is not maximized.

For more info: my machine is IBM ThinkPad R40 PMC 1.4 with 1GB RAM. I'm running
under Java 5.0.2.

Best of luck. I think you'll need it!
This is a really old bug.  I'm sorry that nobody followed up on it.  Is it still happening?
Steve,
I've just had a flashback to the Davod Carridine TV series "Kung Fu".

Student: O Master, how do I fix a difficult bug?
Master: You must wait and have patience. And then the bug will fix itself.

You'll be delighted to know the bug seems to be gone. For what its worth, I'm still using the same machine, but I've moved up to Java 1.5.09, and I'm running Easy Eclipse 1.2.1, which I think is based on Eclipse 3.2.1.

If only all bugs were so easy to fix!

You can mark this as fixed/closed.
Jonathan

Hilarious!  I just rented the corny old Kung Fu series that I watched when I was a kid.

I'll mark is as WORKSFORME (where "ME" = "me" and not "you").
Created attachment 71816
Screenshot of Run Configuration window

It seems to be back. I turned on Cleartype today, and although the main editor tabs were fine, the Run Configuration window was bad. Again, it only is a problem when the window is on my secondary monitor. I suppose it could be something wierd in the screen driver. I seem to remember funny stuff happening on Vista, although I'm still using Windows XP SP2.

Yes, Steve, I had forgotten that our hero was called Grasshopper. Great stuff!
See comment on screenshot for more details.
Can you confirm 100% that turning ClearType on and off fixes the problem?
Steve,
I have never had any problem with ClearText turned off. Normally I run without, but I saw some articles about true text and clear text, and thought I'd see what happened. Sadly the bug is still there.

However, if I move the window over to my laptop screen, then the text comes back, and when I move it back to  my secondary monitor, the text stays. After that the text always seems to be there, even if I close and reopen the Run Configuration window.

I'll switch on clear text for the next week, and let you know if I find anymore problems.
Ok, let me know.  It'd be nice to narrow it down to ClearType.  If we can do that, then I can give you code to try.

In the meantime, does it happen with the ControlExample and the CustomControlExample?
Steve,
I have no idea what you mean by ControlExample and CustomControlExample. Do I download these from the standard download page? Apart from about 2 weeks work 3 years ago, I have avoided writing any SWT or plugins, so forgive the ignorance.
What are you developing these days?

See http://www.eclipse.org/swt/examples.php for instructions.
Any more on this, "Grasshopper"?
Master,
sorry I was swamped with work over the summer, and then I got a new laptop with Vista on it, so that problem has gone away, although I don't like the way the  tree control scrolls seemingly randomly as the mouse hovers over it. See bug 164437 for my comments.

However, before I dumped my old XP machine, it was still blacking out selected entries on the Package Explorer.

I'm guessing its some combination of graphics driver, second monitor and SWT.
Ok ... wince ... WORKSFORME?  I'm sorry we couldn't get to the bottom of it for you.</WithStack>
    <WithOutStack>Steps to reproduce:
1. Turn on clear text in Windows XP.
2. Get a laptop with a second monitor.
3. Maximize Eclipse window in the second monitor.
Result (on my machine at least):
The editor windows only show "      .java" instead of "SomeClass.java". Some of
the other tabs are also blank. However, if I move another window over the tabs,
causing a redraw, then I see the correct file names in the tabs.

Note: this does not happen if I turn off cleartext, or if I use the built-in
laptop screen, or my Eclipse window is not maximized.

For more info: my machine is IBM ThinkPad R40 PMC 1.4 with 1GB RAM. I'm running
under Java 5.0.2.

Best of luck. I think you'll need it!
This is a really old bug.  I'm sorry that nobody followed up on it.  Is it still happening?
Steve,
I've just had a flashback to the Davod Carridine TV series "Kung Fu".

Student: O Master, how do I fix a difficult bug?
Master: You must wait and have patience. And then the bug will fix itself.

You'll be delighted to know the bug seems to be gone. For what its worth, I'm still using the same machine, but I've moved up to Java 1.5.09, and I'm running Easy Eclipse 1.2.1, which I think is based on Eclipse 3.2.1.

If only all bugs were so easy to fix!

You can mark this as fixed/closed.
Jonathan

Hilarious!  I just rented the corny old Kung Fu series that I watched when I was a kid.

I'll mark is as WORKSFORME (where "ME" = "me" and not "you").
Created attachment 71816
Screenshot of Run Configuration window

It seems to be back. I turned on Cleartype today, and although the main editor tabs were fine, the Run Configuration window was bad. Again, it only is a problem when the window is on my secondary monitor. I suppose it could be something wierd in the screen driver. I seem to remember funny stuff happening on Vista, although I'm still using Windows XP SP2.

Yes, Steve, I had forgotten that our hero was called Grasshopper. Great stuff!
See comment on screenshot for more details.
Can you confirm 100% that turning ClearType on and off fixes the problem?
Steve,
I have never had any problem with ClearText turned off. Normally I run without, but I saw some articles about true text and clear text, and thought I'd see what happened. Sadly the bug is still there.

However, if I move the window over to my laptop screen, then the text comes back, and when I move it back to  my secondary monitor, the text stays. After that the text always seems to be there, even if I close and reopen the Run Configuration window.

I'll switch on clear text for the next week, and let you know if I find anymore problems.
Ok, let me know.  It'd be nice to narrow it down to ClearType.  If we can do that, then I can give you code to try.

In the meantime, does it happen with the ControlExample and the CustomControlExample?
Steve,
I have no idea what you mean by ControlExample and CustomControlExample. Do I download these from the standard download page? Apart from about 2 weeks work 3 years ago, I have avoided writing any SWT or plugins, so forgive the ignorance.
What are you developing these days?

See http://www.eclipse.org/swt/examples.php for instructions.
Any more on this, "Grasshopper"?
Master,
sorry I was swamped with work over the summer, and then I got a new laptop with Vista on it, so that problem has gone away, although I don't like the way the  tree control scrolls seemingly randomly as the mouse hovers over it. See bug 164437 for my comments.

However, before I dumped my old XP machine, it was still blacking out selected entries on the Package Explorer.

I'm guessing its some combination of graphics driver, second monitor and SWT.
Ok ... wince ... WORKSFORME?  I'm sorry we couldn't get to the bottom of it for you.</WithOutStack>
  </Bug>
  <Bug>
    <BugId amount="107632" />
    <CreationDate amount="2005-08-22 12:28:00 -0400" />
    <DupId amount="" />
    <classification amount="Eclipse Foundation" />
    <Product amount="z_Archived" />
    <component amount="VE" />
    <Version amount="unspecified" />
    <rep_platform amount="PC" />
    <op_sys amount="Windows XP" />
    <priority amount="P3" />
    <bug_severity amount="major" />
    <Summery>Revert File causes many exceptions</Summery>
    <Patches amount="0" />
    <Stacktraces amount="1">
      <Stacktrace timestamp="1437330570137">
        <Exception>java.lang.NoClassDefFoundError</Exception>
        <Reason>:
org/eclipse/jem/internal/instantiation/ParseVisitor$StopVisiting</Reason>
        <Frames>
          <Frame depth="0">org.eclipse.ve.internal.java.codegen.util.CodeGenUtil.areParseTreesEqual(CodeGenUtil.java:550)</Frame>
          <Frame depth="1">org.eclipse.ve.internal.java.codegen.java.SimpleAttributeDecoderHelper.addFeature(SimpleAttributeDecoderHelper.java:166)</Frame>
          <Frame depth="2">org.eclipse.ve.internal.java.codegen.java.SimpleAttributeDecoderHelper.decode(SimpleAttributeDecoderHelper.java:294)</Frame>
          <Frame depth="3">org.eclipse.ve.internal.java.codegen.java.AbstractExpressionDecoder.decode(AbstractExpressionDecoder.java:166)</Frame>
          <Frame depth="4">org.eclipse.ve.internal.java.codegen.model.CodeExpressionRef.refreshFromJOM(CodeExpressionRef.java:490)</Frame>
          <Frame depth="5">org.eclipse.ve.internal.java.codegen.java.BDMMerger.processEquivalentExpressions(BDMMerger.java:606)</Frame>
          <Frame depth="6">org.eclipse.ve.internal.java.codegen.java.BDMMerger.processExpressions(BDMMerger.java:760)</Frame>
          <Frame depth="7">org.eclipse.ve.internal.java.codegen.java.BDMMerger.updateRegularBeanPartExpressions(BDMMerger.java:1056)</Frame>
          <Frame depth="8">org.eclipse.ve.internal.java.codegen.java.BDMMerger.mergeAllBeans(BDMMerger.java:957)</Frame>
          <Frame depth="9">org.eclipse.ve.internal.java.codegen.java.BDMMerger.merge(BDMMerger.java:104)</Frame>
          <Frame depth="10">org.eclipse.ve.internal.java.codegen.core.JavaSourceTranslator$SharedToLocalUpdater.merge(JavaSourceTranslator.java:374)</Frame>
          <Frame depth="11">org.eclipse.ve.internal.java.codegen.core.JavaSourceTranslator$SharedToLocalUpdater.handleParseable(JavaSourceTranslator.java:420)</Frame>
          <Frame depth="12">org.eclipse.ve.internal.java.codegen.core.JavaSourceTranslator$SharedToLocalUpdater.run(JavaSourceTranslator.java:489)</Frame>
          <Frame depth="13">org.eclipse.ve.internal.java.codegen.java.SnippetParseJob.doRun(SnippetParseJob.java:92)</Frame>
          <Frame depth="14">org.eclipse.ve.internal.java.codegen.util.ReverseParserJob.run(ReverseParserJob.java:56)</Frame>
          <Frame depth="15">org.eclipse.core.internal.jobs.Worker.run(Worker.java:76)</Frame>
        </Frames>
      </Stacktrace>
    </Stacktraces>
    <SourceCodeRegions amount="0" />
    <Enumerations amount="0" />
    <bug_status amount="CLOSED" />
    <resolution amount="INVALID" />
    <WithStack>M20050817

Attached is a class in with GridBagLayout, that if you drop a label in an open
cell and then in the source use MB2-&gt;Revert File everything seems to update
correctly, but you get a lot of exceptions in the log.
Created attachment 26347
GridBagLayoutExample
The log has some snippet stuff in it, so I think it might be for Sri, if not
someone else can take a look at it.


Error 2005-08-22 12:29:21.988 Exception thrown.
java.lang.NoClassDefFoundError:
org/eclipse/jem/internal/instantiation/ParseVisitor$StopVisiting
	at
org.eclipse.ve.internal.java.codegen.util.CodeGenUtil.areParseTreesEqual(CodeGenUtil.java:550)
	at
org.eclipse.ve.internal.java.codegen.java.SimpleAttributeDecoderHelper.addFeature(SimpleAttributeDecoderHelper.java:166)
	at
org.eclipse.ve.internal.java.codegen.java.SimpleAttributeDecoderHelper.decode(SimpleAttributeDecoderHelper.java:294)
	at
org.eclipse.ve.internal.java.codegen.java.AbstractExpressionDecoder.decode(AbstractExpressionDecoder.java:166)
	at
org.eclipse.ve.internal.java.codegen.model.CodeExpressionRef.refreshFromJOM(CodeExpressionRef.java:490)
	at
org.eclipse.ve.internal.java.codegen.java.BDMMerger.processEquivalentExpressions(BDMMerger.java:606)
	at
org.eclipse.ve.internal.java.codegen.java.BDMMerger.processExpressions(BDMMerger.java:760)
	at
org.eclipse.ve.internal.java.codegen.java.BDMMerger.updateRegularBeanPartExpressions(BDMMerger.java:1056)
	at
org.eclipse.ve.internal.java.codegen.java.BDMMerger.mergeAllBeans(BDMMerger.java:957)
	at org.eclipse.ve.internal.java.codegen.java.BDMMerger.merge(BDMMerger.java:104)
	at
org.eclipse.ve.internal.java.codegen.core.JavaSourceTranslator$SharedToLocalUpdater.merge(JavaSourceTranslator.java:374)
	at
org.eclipse.ve.internal.java.codegen.core.JavaSourceTranslator$SharedToLocalUpdater.handleParseable(JavaSourceTranslator.java:420)
	at
org.eclipse.ve.internal.java.codegen.core.JavaSourceTranslator$SharedToLocalUpdater.run(JavaSourceTranslator.java:489)
	at
org.eclipse.ve.internal.java.codegen.java.SnippetParseJob.doRun(SnippetParseJob.java:92)
	at
org.eclipse.ve.internal.java.codegen.util.ReverseParserJob.run(ReverseParserJob.java:56)
	at org.eclipse.core.internal.jobs.Worker.run(Worker.java:76)


Jon, looks like JEM is not there in the loaded plugins. Could you verify it is
loaded. Or JEM is older than it should be and it doesnt have the new internal
class ParseVisitor$StopVisiting. Rich made some changes in this area - Rich, is
this a new class which might not have been picked up?

This was released last week, but I just noticed that this class
"ParseVisitor$Stopping" was in the org.eclipse.jem plugin, and that plugin did
not have its version updated to 1.1.0.1. 

I've updated the plugin version and Peter will be rebuilding. Give it a try then
with the new one.
tried with a fresh install of M20050822 and all is well, not a problem.
invalid, closing</WithStack>
    <WithOutStack>M20050817

Attached is a class in with GridBagLayout, that if you drop a label in an open
cell and then in the source use MB2-&gt;Revert File everything seems to update
correctly, but you get a lot of exceptions in the log.
Created attachment 26347
GridBagLayoutExample
The log has some snippet stuff in it, so I think it might be for Sri, if not
someone else can take a look at it.


Error 2005-08-22 12:29:21.988 Exception thrown.



Jon, looks like JEM is not there in the loaded plugins. Could you verify it is
loaded. Or JEM is older than it should be and it doesnt have the new internal
class ParseVisitor$StopVisiting. Rich made some changes in this area - Rich, is
this a new class which might not have been picked up?

This was released last week, but I just noticed that this class
"ParseVisitor$Stopping" was in the org.eclipse.jem plugin, and that plugin did
not have its version updated to 1.1.0.1. 

I've updated the plugin version and Peter will be rebuilding. Give it a try then
with the new one.
tried with a fresh install of M20050822 and all is well, not a problem.
invalid, closing</WithOutStack>
  </Bug>
  <Bug>
    <BugId amount="107633" />
    <CreationDate amount="2005-08-22 12:32:00 -0400" />
    <DupId amount="76936" />
    <classification amount="Eclipse" />
    <Product amount="Platform" />
    <component amount="Debug" />
    <Version amount="3.1" />
    <rep_platform amount="PC" />
    <op_sys amount="Linux" />
    <priority amount="P3" />
    <bug_severity amount="minor" />
    <Summery>Backspace in printf to console does nothing</Summery>
    <Patches amount="0" />
    <Stacktraces amount="0" />
    <SourceCodeRegions amount="0" />
    <Enumerations amount="0" />
    <bug_status amount="RESOLVED" />
    <resolution amount="DUPLICATE" />
    <WithStack>In my code I havea lot of info output to the stdout which comes out of the
console when run through gdb under eclipse. Everything works fine except that a
backspace isnt interpretted correctly and displayed as  instead.


*** This bug has been marked as a duplicate of 76936 ***</WithStack>
    <WithOutStack>In my code I havea lot of info output to the stdout which comes out of the
console when run through gdb under eclipse. Everything works fine except that a
backspace isnt interpretted correctly and displayed as  instead.


*** This bug has been marked as a duplicate of 76936 ***</WithOutStack>
  </Bug>
  <Bug>
    <BugId amount="107634" />
    <CreationDate amount="2005-08-22 12:32:00 -0400" />
    <DupId amount="" />
    <classification amount="Tools" />
    <Product amount="AJDT" />
    <component amount="UI" />
    <Version amount="1.3.0" />
    <rep_platform amount="PC" />
    <op_sys amount="Windows XP" />
    <priority amount="P3" />
    <bug_severity amount="normal" />
    <Summery>Eclipse 3.1: Missing convert to .java file entry</Summery>
    <Patches amount="0" />
    <Stacktraces amount="0" />
    <SourceCodeRegions amount="0" />
    <Enumerations amount="0" />
    <bug_status amount="RESOLVED" />
    <resolution amount="FIXED" />
    <WithStack>You should be able to right click on .aj files and select
AspectJ Tools &gt; Convert File Extension to .java
However this entry is not currently appearing (the convert to .aj operation does
appear for .java files).
This is because registering .aj as a java file extension (see bug 98547) causes
CompilationUnits to be created for .aj files, instead of AJCompilationUnits, and
the convert to .java action is currently defined in plugin.xml to only apply to 
AJCompilationUnits.
The change from bug 98547 has been reverted, so this problem has gone away.
It would be possible to add the contribution with a *.aj name filter instead of
using an instanceof test for AJCompilationUnits, but there doesn't seem to be
anything to be gained from doing that now.</WithStack>
    <WithOutStack>You should be able to right click on .aj files and select
AspectJ Tools &gt; Convert File Extension to .java
However this entry is not currently appearing (the convert to .aj operation does
appear for .java files).
This is because registering .aj as a java file extension (see bug 98547) causes
CompilationUnits to be created for .aj files, instead of AJCompilationUnits, and
the convert to .java action is currently defined in plugin.xml to only apply to 
AJCompilationUnits.
The change from bug 98547 has been reverted, so this problem has gone away.
It would be possible to add the contribution with a *.aj name filter instead of
using an instanceof test for AJCompilationUnits, but there doesn't seem to be
anything to be gained from doing that now.</WithOutStack>
  </Bug>
  <Bug>
    <BugId amount="107635" />
    <CreationDate amount="2005-08-22 12:41:00 -0400" />
    <DupId amount="" />
    <classification amount="Eclipse" />
    <Product amount="Platform" />
    <component amount="User Assistance" />
    <Version amount="3.2" />
    <rep_platform amount="PC" />
    <op_sys amount="Windows 2000" />
    <priority amount="P3" />
    <bug_severity amount="enhancement" />
    <Summery>[Help] Support for primary toc that has a topic defined for it, but no children topics</Summery>
    <Patches amount="0" />
    <Stacktraces amount="0" />
    <SourceCodeRegions amount="0" />
    <Enumerations amount="0" />
    <bug_status amount="RESOLVED" />
    <resolution amount="WONTFIX" />
    <WithStack>Prior to Eclipse 3.0, a &lt;toc&gt; that had a topic but no children would display as
a top-level entry ("book" icon) that when clicked, would display its associated
topic in the right hand side.

In Eclipse 3.0, as a response to an RFE, the code was changed such that if a
&lt;toc&gt; had no children, its heading would not be displayed in the contents tree,
regardless of whether it has an associated topic. (For &lt;topic&gt;, if there is an
href but no children, the heading will be displayed in the tree.)

We understand the background of that RFE. However, feedback from Eclipse 3.x
consumers and doc plug-in authors indicates that one-page entries in the
navigation are still useful (ie. toc's that do not contain topics or anchors
that are used - toc's that are primary and whose sole purpose is to contribute a
topic attribute in the toc tag). We are finding help system content situations
where it is valid to support particular user tasks to have a primary toc entry
that only links to a page in the right-hand frame and that contains no sub-nodes.

This request is to provide for &lt;toc&gt;s that have a topic attribute associated
with them to display in the navigation tree, even if those have no nested children.

--Lee Anne Kowalski
IBM User Assistance Technologies
I have a fairly small help system at the moment. Two of the pages in it deal with Concepts and References, and each page is a single html file. As per the related bug fix for 54372, these two topics ultimately do not display in the application.

TOC.XML:
&lt;toc label="NGEDA User Guide"&gt;
	&lt;topic label="Getting Started"&gt;
		&lt;link toc="tocgettingstarted.xml" /&gt;
	&lt;/topic&gt;
	&lt;topic label="Functional User Guides"&gt;
		&lt;link toc="tocfuncUG.xml" /&gt;
	&lt;/topic&gt;
	&lt;topic label="Concepts"&gt;
		&lt;link toc="concepts.xml" /&gt;
	&lt;/topic&gt;
	&lt;topic label="References"&gt;
		&lt;link toc="references.xml" /&gt;
	&lt;/topic&gt;
&lt;/toc&gt;

CONCEPTS.XML:
&lt;toc label="Concepts" href="html/concepts.htm"&gt;&lt;/toc&gt;

REFERENCES.XML:
&lt;toc label="References" href="html/References.htm"&gt;&lt;/toc&gt;

These topics need to be displayed in the application. I infer from 107635 that such topics used to be displayed, pre-Eclipse 3.0. Please reinstate that feature.
Hi Dimi. If your nav is really that small, perhaps you could structure it more simply and directly, like this:

&lt;toc label="NGEDA User Guide"&gt;
        &lt;topic label="Getting Started"&gt;
                &lt;link toc="tocgettingstarted.xml" /&gt;
        &lt;/topic&gt;
        &lt;topic label="Functional User Guides"&gt;
                &lt;link toc="tocfuncUG.xml" /&gt;
        &lt;/topic&gt;
        &lt;topic label="Concepts" href="html/concepts.htm"&gt;&lt;/topic&gt;
        &lt;topic label="References"href="html/References.htm"&gt;&lt;/topic&gt;
&lt;/toc&gt;

and then have no concepts.xml and references.xml files. Just because you *can* use multiple files to create a TOC doesn't mean you always *should*. 

Which is not to say that the different treatment of &lt;toc&gt; elements and &lt;topic&gt; elements isn't confusing or complicated. However, hundreds (maybe thousands) of TOC files (not to mention authoring tools for TOCs) have been built on the current understanding of how things work, and it would break a lot of people, tools, and products were it to suddenly change. I think this bug: https://bugs.eclipse.org/bugs/show_bug.cgi?id=195577 is tracking some of that, and Chris has suggested we post suggestions for the next design to platform-ua-dev@eclipse.org.

Kari, thank you so much! That is exactly what I needed. I'm sure I would have figured that out if I weren't using nested TOCs. However, I inherited it with the nested TOCs and haven't made the jump because the Getting Started and FunctionalUG TOCs are very long and I haven't wanted to mess up the XML (even more ;)).

I appreciate your help,

Dimi Everette
Sr. Technical Writer
Advanced Micro Devices, Inc.
It was probably a mistake to change the behavior in Eclipse 3.0 because users
who relied on things working a particular way suddenly found that their manuals
stopped displaying. Having said that changing things back to pre Eclipse 3.0
behavior would be likely to affect a new generation of users who have been
working with the current rules for TOC exclusion. At this stage I think the
least disruptive thing to do would be to leave the behavior as is, particularly since there is a workaround.
Hi Chris,

How can I 'cancel' this Bugzilla entry? 

Or, if it makes sense, mark it as a duplicate of 195577?

Thanks in advance!
I'll close it as WONTFIX.
Great, thanks!</WithStack>
    <WithOutStack>Prior to Eclipse 3.0, a &lt;toc&gt; that had a topic but no children would display as
a top-level entry ("book" icon) that when clicked, would display its associated
topic in the right hand side.

In Eclipse 3.0, as a response to an RFE, the code was changed such that if a
&lt;toc&gt; had no children, its heading would not be displayed in the contents tree,
regardless of whether it has an associated topic. (For &lt;topic&gt;, if there is an
href but no children, the heading will be displayed in the tree.)

We understand the background of that RFE. However, feedback from Eclipse 3.x
consumers and doc plug-in authors indicates that one-page entries in the
navigation are still useful (ie. toc's that do not contain topics or anchors
that are used - toc's that are primary and whose sole purpose is to contribute a
topic attribute in the toc tag). We are finding help system content situations
where it is valid to support particular user tasks to have a primary toc entry
that only links to a page in the right-hand frame and that contains no sub-nodes.

This request is to provide for &lt;toc&gt;s that have a topic attribute associated
with them to display in the navigation tree, even if those have no nested children.

--Lee Anne Kowalski
IBM User Assistance Technologies
I have a fairly small help system at the moment. Two of the pages in it deal with Concepts and References, and each page is a single html file. As per the related bug fix for 54372, these two topics ultimately do not display in the application.

TOC.XML:
&lt;toc label="NGEDA User Guide"&gt;
	&lt;topic label="Getting Started"&gt;
		&lt;link toc="tocgettingstarted.xml" /&gt;
	&lt;/topic&gt;
	&lt;topic label="Functional User Guides"&gt;
		&lt;link toc="tocfuncUG.xml" /&gt;
	&lt;/topic&gt;
	&lt;topic label="Concepts"&gt;
		&lt;link toc="concepts.xml" /&gt;
	&lt;/topic&gt;
	&lt;topic label="References"&gt;
		&lt;link toc="references.xml" /&gt;
	&lt;/topic&gt;
&lt;/toc&gt;

CONCEPTS.XML:
&lt;toc label="Concepts" href="html/concepts.htm"&gt;&lt;/toc&gt;

REFERENCES.XML:
&lt;toc label="References" href="html/References.htm"&gt;&lt;/toc&gt;

These topics need to be displayed in the application. I infer from 107635 that such topics used to be displayed, pre-Eclipse 3.0. Please reinstate that feature.
Hi Dimi. If your nav is really that small, perhaps you could structure it more simply and directly, like this:

&lt;toc label="NGEDA User Guide"&gt;
        &lt;topic label="Getting Started"&gt;
                &lt;link toc="tocgettingstarted.xml" /&gt;
        &lt;/topic&gt;
        &lt;topic label="Functional User Guides"&gt;
                &lt;link toc="tocfuncUG.xml" /&gt;
        &lt;/topic&gt;
        &lt;topic label="Concepts" href="html/concepts.htm"&gt;&lt;/topic&gt;
        &lt;topic label="References"href="html/References.htm"&gt;&lt;/topic&gt;
&lt;/toc&gt;

and then have no concepts.xml and references.xml files. Just because you *can* use multiple files to create a TOC doesn't mean you always *should*. 

Which is not to say that the different treatment of &lt;toc&gt; elements and &lt;topic&gt; elements isn't confusing or complicated. However, hundreds (maybe thousands) of TOC files (not to mention authoring tools for TOCs) have been built on the current understanding of how things work, and it would break a lot of people, tools, and products were it to suddenly change. I think this bug: https://bugs.eclipse.org/bugs/show_bug.cgi?id=195577 is tracking some of that, and Chris has suggested we post suggestions for the next design to platform-ua-dev@eclipse.org.

Kari, thank you so much! That is exactly what I needed. I'm sure I would have figured that out if I weren't using nested TOCs. However, I inherited it with the nested TOCs and haven't made the jump because the Getting Started and FunctionalUG TOCs are very long and I haven't wanted to mess up the XML (even more ;)).

I appreciate your help,

Dimi Everette
Sr. Technical Writer
Advanced Micro Devices, Inc.
It was probably a mistake to change the behavior in Eclipse 3.0 because users
who relied on things working a particular way suddenly found that their manuals
stopped displaying. Having said that changing things back to pre Eclipse 3.0
behavior would be likely to affect a new generation of users who have been
working with the current rules for TOC exclusion. At this stage I think the
least disruptive thing to do would be to leave the behavior as is, particularly since there is a workaround.
Hi Chris,

How can I 'cancel' this Bugzilla entry? 

Or, if it makes sense, mark it as a duplicate of 195577?

Thanks in advance!
I'll close it as WONTFIX.
Great, thanks!</WithOutStack>
  </Bug>
  <Bug>
    <BugId amount="107636" />
    <CreationDate amount="2005-08-22 12:46:00 -0400" />
    <DupId amount="107005" />
    <classification amount="Tools" />
    <Product amount="AJDT" />
    <component amount="UI" />
    <Version amount="1.3.0" />
    <rep_platform amount="PC" />
    <op_sys amount="Windows XP" />
    <priority amount="P3" />
    <bug_severity amount="normal" />
    <Summery>AJDT relationship model is sometimes lost</Summery>
    <Patches amount="0" />
    <Stacktraces amount="0" />
    <SourceCodeRegions amount="0" />
    <Enumerations amount="1">
      <Enumeration lines="8">
        <Lines>
          <Line>- create Bean Example</Line>
          <Line>- switch to Visualiser perspective and view that project</Line>
          <Line>- shutdown and restart</Line>
          <Line>- click Bean Example</Line>
          <Line>The visualiser view should render quickly, complete with the appropriate</Line>
          <Line>stripes. Sometimes clicking on the project as above also triggers a build (as</Line>
          <Line>shown in the bottom right status line). Sometimes when this build finishes, the</Line>
          <Line>stripes of the visualisation disppear.</Line>
        </Lines>
      </Enumeration>
    </Enumerations>
    <bug_status amount="RESOLVED" />
    <resolution amount="DUPLICATE" />
    <WithStack>Scenario:
 - create Bean Example
 - switch to Visualiser perspective and view that project
 - shutdown and restart
 - click Bean Example
The visualiser view should render quickly, complete with the appropriate
stripes. Sometimes clicking on the project as above also triggers a build (as
shown in the bottom right status line). Sometimes when this build finishes, the
stripes of the visualisation disppear.

When this happens, the editor markers for the advises/advised by etc
relationships are also missing. Therefore the problem is with the relationship
map. Here are some entries from the entry trace view:

17:38:03	 Timer event: 50ms: Load serialized element map (22 rels in project:
Bean Example)
...
17:38:08	 Build kind = AUTOBUILD
17:38:08	 AJDTContentProvider.updateData() executed - took 1612ms
17:38:08	 Project=Bean Example         kind of build requested =Full AspectJ
compilation
17:38:08	 Builder: Tidied output folder, deleted 3 .class files from
E:\AJDTversions\eclipse-SDK-3.1-win32-0822\eclipse\workspace\Bean Example\bin
17:38:09	 Timer event: 471ms: Time to first compiled message
17:38:09	 Timer event: 591ms: Time to first woven message
17:38:09	 AspectJ reports build successful, build was: FULL
17:38:09	 Timer event: 811ms: Total time spent in AJDE
17:38:09	 Timer event: 0ms: Create element map (0 rels in project: Bean Example)
17:38:09	 Types affected during build = 3
17:38:09	 Timer event: 0ms: Add markers (0 markers)
17:38:09	 AJDTContentProvider.updateData() executed - took 0ms
17:38:09	 Timer event: 1101ms: Total time spent in AJBuilder.build()

So the serialized model was loaded okay, but then for some reason no
relationships were found after the build completes. Pressing the build button
doesn't restore the relationships, but closing and reopening the project does.
*** Bug 107604 has been marked as a duplicate of this bug. ***
This is pretty much the same issue as bug 107005 - both result from registering
.aj as a java file extension.

*** This bug has been marked as a duplicate of 107005 ***</WithStack>
    <WithOutStack>Scenario:
 - create Bean Example
 - switch to Visualiser perspective and view that project
 - shutdown and restart
 - click Bean Example
The visualiser view should render quickly, complete with the appropriate
stripes. Sometimes clicking on the project as above also triggers a build (as
shown in the bottom right status line). Sometimes when this build finishes, the
stripes of the visualisation disppear.

When this happens, the editor markers for the advises/advised by etc
relationships are also missing. Therefore the problem is with the relationship
map. Here are some entries from the entry trace view:

17:38:03	 Timer event: 50ms: Load serialized element map (22 rels in project:
Bean Example)
...
17:38:08	 Build kind = AUTOBUILD
17:38:08	 AJDTContentProvider.updateData() executed - took 1612ms
17:38:08	 Project=Bean Example         kind of build requested =Full AspectJ
compilation
17:38:08	 Builder: Tidied output folder, deleted 3 .class files from
E:\AJDTversions\eclipse-SDK-3.1-win32-0822\eclipse\workspace\Bean Example\bin
17:38:09	 Timer event: 471ms: Time to first compiled message
17:38:09	 Timer event: 591ms: Time to first woven message
17:38:09	 AspectJ reports build successful, build was: FULL
17:38:09	 Timer event: 811ms: Total time spent in AJDE
17:38:09	 Timer event: 0ms: Create element map (0 rels in project: Bean Example)
17:38:09	 Types affected during build = 3
17:38:09	 Timer event: 0ms: Add markers (0 markers)
17:38:09	 AJDTContentProvider.updateData() executed - took 0ms
17:38:09	 Timer event: 1101ms: Total time spent in AJBuilder.build()

So the serialized model was loaded okay, but then for some reason no
relationships were found after the build completes. Pressing the build button
doesn't restore the relationships, but closing and reopening the project does.
*** Bug 107604 has been marked as a duplicate of this bug. ***
This is pretty much the same issue as bug 107005 - both result from registering
.aj as a java file extension.

*** This bug has been marked as a duplicate of 107005 ***</WithOutStack>
  </Bug>
  <Bug>
    <BugId amount="107637" />
    <CreationDate amount="2005-08-22 13:02:00 -0400" />
    <DupId amount="" />
    <classification amount="Eclipse" />
    <Product amount="JDT" />
    <component amount="UI" />
    <Version amount="3.1" />
    <rep_platform amount="PC" />
    <op_sys amount="Windows 2000" />
    <priority amount="P3" />
    <bug_severity amount="enhancement" />
    <Summery>CopyParticipant needs more detailed information about refactoring destination (Java)</Summery>
    <Patches amount="0" />
    <Stacktraces amount="0" />
    <SourceCodeRegions amount="0" />
    <Enumerations amount="0" />
    <bug_status amount="VERIFIED" />
    <resolution amount="FIXED" />
    <WithStack>Hi,

I'm using a custom CopyParticipant to participate in Java refactorings. With the
public API, it's only possible to find out the compilation unit which is the
destination (e.g. of a copied method). More precisely, the method
CopyArguments.getDestination():Object returns an instance of
org.eclipse.jdt.internal.core.CompilationUnit which can be cast to
ICompilationUnit. Thus, when an inner class is the destination of the
refacotring, it's not possible to get a reference to that class (only the
compilation unit containing it). It would be possible to get a reference to the
inner class (or another specific java element) by using internal API (via
JavaCopyProcessor, ICopyPolicy...). Is there a chance that the public API could
be enhanced, like CopyArguments.getDestination() returning the IType instead of
the ICompilationUnit?


Thanks,
Joachim
Moving to JDT/UI
Fixed.
Verified using I20050920</WithStack>
    <WithOutStack>Hi,

I'm using a custom CopyParticipant to participate in Java refactorings. With the
public API, it's only possible to find out the compilation unit which is the
destination (e.g. of a copied method). More precisely, the method
CopyArguments.getDestination():Object returns an instance of
org.eclipse.jdt.internal.core.CompilationUnit which can be cast to
ICompilationUnit. Thus, when an inner class is the destination of the
refacotring, it's not possible to get a reference to that class (only the
compilation unit containing it). It would be possible to get a reference to the
inner class (or another specific java element) by using internal API (via
JavaCopyProcessor, ICopyPolicy...). Is there a chance that the public API could
be enhanced, like CopyArguments.getDestination() returning the IType instead of
the ICompilationUnit?


Thanks,
Joachim
Moving to JDT/UI
Fixed.
Verified using I20050920</WithOutStack>
  </Bug>
  <Bug>
    <BugId amount="107638" />
    <CreationDate amount="2005-08-22 13:03:00 -0400" />
    <DupId amount="" />
    <classification amount="Eclipse" />
    <Product amount="Platform" />
    <component amount="User Assistance" />
    <Version amount="3.2" />
    <rep_platform amount="PC" />
    <op_sys amount="Windows 2000" />
    <priority amount="P3" />
    <bug_severity amount="enhancement" />
    <Summery>[Webapp] Official support of help system webapp UI in Opera browser when identified as IE as done for IE itself</Summery>
    <Patches amount="0" />
    <Stacktraces amount="0" />
    <SourceCodeRegions amount="0" />
    <Enumerations amount="0" />
    <bug_status amount="NEW" />
    <resolution amount="" />
    <WithStack>The help system webapp presents the user interface that it does for Internet
Explorer when the webapp is loaded in Opera browser set to identify as IE. That
is, it does not present the "basic" UI.

However, there are some user interface oddities that appear when the webapp is
loaded into Opera set to identify as IE that are not showing in IE itself.

This RFE is to provide the same treatment of the help system UI running Opera
when set to identify as IE as is provided for IE itself.

In many enterprises, customers are stating that they are using Opera as their
system browser, so this will become a more desirable requirement for Eclipse in
the enterprise customer domain.

--Lee Anne Kowalski
IBM User Assistance Technologies
Can you elaborate on some of the user interface oddities? Screen shots would be useful.
OK, will put some together over the weekend and post.

Thanks!
--Lee Anne
Here are some examples of things that don't work well in Opera in the "advanced" mode.

The tree in the TOC is overindented.
Unable to type into the text box in the index tab.
Frames are separated by a heavy black line.
Keystrokes and arrow keys don't always behave as expected. For example the arrow keys in the TOC view do not always work, it seems that you have to persuade the browser that the TOC view should be recieving the keystrokes, sometimes they end up changing the focus from one tab to another even though the TOC appears to have focus.
Chris, it would be useful to search for well known and documented CSS quirks in Opera and how to overcome them. 
These two problems have been fixed:

The tree in the TOC is overindented.
Unable to type into the text box in the index tab.

This leaves 

Frames are separated by a heavy black line.
Keystrokes and arrow keys don't always behave as expected.

If you see any other bugs when using Opera please open a new bug report so that we don't end up tracking too many issues in one bug report.</WithStack>
    <WithOutStack>The help system webapp presents the user interface that it does for Internet
Explorer when the webapp is loaded in Opera browser set to identify as IE. That
is, it does not present the "basic" UI.

However, there are some user interface oddities that appear when the webapp is
loaded into Opera set to identify as IE that are not showing in IE itself.

This RFE is to provide the same treatment of the help system UI running Opera
when set to identify as IE as is provided for IE itself.

In many enterprises, customers are stating that they are using Opera as their
system browser, so this will become a more desirable requirement for Eclipse in
the enterprise customer domain.

--Lee Anne Kowalski
IBM User Assistance Technologies
Can you elaborate on some of the user interface oddities? Screen shots would be useful.
OK, will put some together over the weekend and post.

Thanks!
--Lee Anne
Here are some examples of things that don't work well in Opera in the "advanced" mode.

The tree in the TOC is overindented.
Unable to type into the text box in the index tab.
Frames are separated by a heavy black line.
Keystrokes and arrow keys don't always behave as expected. For example the arrow keys in the TOC view do not always work, it seems that you have to persuade the browser that the TOC view should be recieving the keystrokes, sometimes they end up changing the focus from one tab to another even though the TOC appears to have focus.
Chris, it would be useful to search for well known and documented CSS quirks in Opera and how to overcome them. 
These two problems have been fixed:

The tree in the TOC is overindented.
Unable to type into the text box in the index tab.

This leaves 

Frames are separated by a heavy black line.
Keystrokes and arrow keys don't always behave as expected.

If you see any other bugs when using Opera please open a new bug report so that we don't end up tracking too many issues in one bug report.</WithOutStack>
  </Bug>
  <Bug>
    <BugId amount="107639" />
    <CreationDate amount="2005-08-22 13:06:00 -0400" />
    <DupId amount="" />
    <classification amount="Tools" />
    <Product amount="TPTP Release Engineering" />
    <component amount="TPTP.Reports" />
    <Version amount="4.1" />
    <rep_platform amount="All" />
    <op_sys amount="All" />
    <priority amount="P3" />
    <bug_severity amount="enhancement" />
    <Summery>Hyades reports improvements (part 2)</Summery>
    <Patches amount="0" />
    <Stacktraces amount="0" />
    <SourceCodeRegions amount="0" />
    <Enumerations amount="0" />
    <bug_status amount="CLOSED" />
    <resolution amount="FIXED" />
    <WithStack>This is the second part of feature 75014 ((Test) Hyades reports improvements).  

This enhancement entails integrating with the BIRT report engine and adding new 
BIRT reports in the report wizard list.   This also entails the ability to 
launch the BIRT report designer from the Test report wizard.
Will integrate with the BIRT 2.0 report engine.
Retargeting this to TPTP.reports
This also involves integrating the charting services with the BIRT chart engine.
Updated url to design doc.
Target set to 4.2
Sub-feature of 109657 to be investigated (removing plan keyword)
No considered for 4.2, Version=future
Sorry, forget about the previous change and comment. (Version back to = 4.2)
Enhancements not considered for 4.2 release (setting Target to future)
Changed title since there are changes to test, profile and monitor reports.
The final BIRT integration is for the 4.1.0.1 release.
Changed the wrong field in my previous update.
Added code and testcaes for these new reports.
Closing</WithStack>
    <WithOutStack>This is the second part of feature 75014 ((Test) Hyades reports improvements).  

This enhancement entails integrating with the BIRT report engine and adding new 
BIRT reports in the report wizard list.   This also entails the ability to 
launch the BIRT report designer from the Test report wizard.
Will integrate with the BIRT 2.0 report engine.
Retargeting this to TPTP.reports
This also involves integrating the charting services with the BIRT chart engine.
Updated url to design doc.
Target set to 4.2
Sub-feature of 109657 to be investigated (removing plan keyword)
No considered for 4.2, Version=future
Sorry, forget about the previous change and comment. (Version back to = 4.2)
Enhancements not considered for 4.2 release (setting Target to future)
Changed title since there are changes to test, profile and monitor reports.
The final BIRT integration is for the 4.1.0.1 release.
Changed the wrong field in my previous update.
Added code and testcaes for these new reports.
Closing</WithOutStack>
  </Bug>
  <Bug>
    <BugId amount="107640" />
    <CreationDate amount="2005-08-22 13:23:00 -0400" />
    <DupId amount="" />
    <classification amount="Eclipse" />
    <Product amount="Platform" />
    <component amount="CVS" />
    <Version amount="3.1" />
    <rep_platform amount="PC" />
    <op_sys amount="Windows XP" />
    <priority amount="P5" />
    <bug_severity amount="major" />
    <Summery>[Commands] CVS not updating root level folders</Summery>
    <Patches amount="0" />
    <Stacktraces amount="0" />
    <SourceCodeRegions amount="0" />
    <Enumerations amount="1">
      <Enumeration lines="6">
        <Lines>
          <Line>(1) If new folders are added to cvs AT THE ROOT LEVEL, an update via the</Line>
          <Line>eclipse cvs perspective does not retreive the new folders. Sub directories,</Line>
          <Line>however, are retrieved.</Line>
          <Line />
          <Line>(2) Adding new folders to a cvs repository AT THE ROOT LEVEL fails in the</Line>
          <Line>eclipse cvs perspective. Sub directories in existing cvs folders can be added.</Line>
        </Lines>
      </Enumeration>
    </Enumerations>
    <bug_status amount="RESOLVED" />
    <resolution amount="WORKSFORME" />
    <WithStack>(1) If new folders are added to cvs AT THE ROOT LEVEL, an update via the 
eclipse cvs perspective does not retreive the new folders. Sub directories, 
however, are retrieved.

(2) Adding new folders to a cvs repository AT THE ROOT LEVEL fails in the 
eclipse cvs perspective. Sub directories in existing cvs folders can be added.

Noticed over SSH with sourceforge cvs.
Move to Platform/CVS
I tried to reproduce it using I20090430-2300 (3.5 M7) with no success. Please provide more detailed steps or confirm the problem is gone.
Marking as WORKSFORME, please reopen if the problem still occurs and details are available.</WithStack>
    <WithOutStack>(1) If new folders are added to cvs AT THE ROOT LEVEL, an update via the 
eclipse cvs perspective does not retreive the new folders. Sub directories, 
however, are retrieved.

(2) Adding new folders to a cvs repository AT THE ROOT LEVEL fails in the 
eclipse cvs perspective. Sub directories in existing cvs folders can be added.

Noticed over SSH with sourceforge cvs.
Move to Platform/CVS
I tried to reproduce it using I20090430-2300 (3.5 M7) with no success. Please provide more detailed steps or confirm the problem is gone.
Marking as WORKSFORME, please reopen if the problem still occurs and details are available.</WithOutStack>
  </Bug>
  <Bug>
    <BugId amount="107641" />
    <CreationDate amount="2005-08-22 13:26:00 -0400" />
    <DupId amount="" />
    <classification amount="WebTools" />
    <Product amount="WTP Releng" />
    <component amount="releng" />
    <Version amount="unspecified" />
    <rep_platform amount="PC" />
    <op_sys amount="Windows XP" />
    <priority amount="P3" />
    <bug_severity amount="normal" />
    <Summery>Temporary disable piagent</Summery>
    <Patches amount="0" />
    <Stacktraces amount="0" />
    <SourceCodeRegions amount="0" />
    <Enumerations amount="0" />
    <bug_status amount="CLOSED" />
    <resolution amount="FIXED" />
    <WithStack>Temporary disable piagent
Fixed.
Close.</WithStack>
    <WithOutStack>Temporary disable piagent
Fixed.
Close.</WithOutStack>
  </Bug>
  <Bug>
    <BugId amount="107642" />
    <CreationDate amount="2005-08-22 13:38:00 -0400" />
    <DupId amount="" />
    <classification amount="Tools" />
    <Product amount="TPTP Profiling" />
    <component amount="Trace.UI" />
    <Version amount="4.1" />
    <rep_platform amount="PC" />
    <op_sys amount="Windows 2000" />
    <priority amount="P3" />
    <bug_severity amount="normal" />
    <Summery>When selecting "restore columns" in the "choose columns" dialog, the column attribute keys are displayed rather than their resolved names</Summery>
    <Patches amount="0" />
    <Stacktraces amount="0" />
    <SourceCodeRegions amount="0" />
    <Enumerations amount="0" />
    <bug_status amount="CLOSED" />
    <resolution amount="FIXED" />
    <WithStack>When selecting "restore columns" in the "choose columns" dialog, the column 
attribute keys are displayed rather than their resolved names.

Note:  The operation works, and reloading the "choose columns" dialog shows the 
data appropriately again.
patch submitted
verified, TPTP-4.1.0-200508230100</WithStack>
    <WithOutStack>When selecting "restore columns" in the "choose columns" dialog, the column 
attribute keys are displayed rather than their resolved names.

Note:  The operation works, and reloading the "choose columns" dialog shows the 
data appropriately again.
patch submitted
verified, TPTP-4.1.0-200508230100</WithOutStack>
  </Bug>
  <Bug>
    <BugId amount="107643" />
    <CreationDate amount="2005-08-22 13:40:00 -0400" />
    <DupId amount="" />
    <classification amount="Tools" />
    <Product amount="TPTP Testing" />
    <component amount="Test.UI.ConfigEditors" />
    <Version amount="4.1" />
    <rep_platform amount="PC" />
    <op_sys amount="Windows XP" />
    <priority amount="P3" />
    <bug_severity amount="major" />
    <Summery>Update marker job failed after executing a test which generates a large log viewer</Summery>
    <Patches amount="0" />
    <Stacktraces amount="1">
      <Stacktrace timestamp="1437330570152">
        <Exception>org.eclipse.core.internal.utils.AssertionFailedException</Exception>
        <Reason>Assertion failed:
Marker property value is too long: &lt;?xml version="1.0" encoding="UTF-8"?&gt;
&lt;proxyStateMemento name="JUnit1 [Aug 22, 2005 1:28:49 PM EDT]"
nodeKind="executionResultNode"
type="org.eclipse.hyades.test.java.junit.testSuite"
uriFragment="C5F5CB9281CB718491ED8A80133111DA" verdict="3"&gt;
&lt;childNode name="unamed [test 1]" nodeKind="executionResultNode"
type="org.eclipse.hyades.test.java.junit.testCase"
uriFragment="C5F5CB9281CB71849AA300B0133111DA" verdict="1"/&gt;
&lt;childNode name="unamed [test 2]" nodeKind="executionResultNode"
type="org.eclipse.hyades.test.java.junit.testCase"
uriFragment="C5F5CB9281CB71849AAAA1D0133111DA" verdict="2"/&gt;
&lt;childNode name="unamed [test 3]" nodeKind="executionResultNode"
type="org.eclipse.hyades.test.java.junit.testCase"
uriFragment="C5F5CB9281CB71849F899490133111DA" verdict="3"/&gt;
&lt;childNode name="unamed [test 4]" nodeKind="executionResultNode"
type="org.eclipse.hyades.test.java.junit.testCase"
uriFragment="C5F5CB9281CB71849F8B1B30133111DA" verdict="1"/&gt;
&lt;childNode name="unamed [test 3]" nodeKind="executionResultNode"
type="org.eclipse.hyades.test.java.junit.testCase" uriFragment="C5F5CB9281CB</Reason>
        <Frames>
          <Frame depth="0">org.eclipse.core.internal.utils.Assert.isTrue(Assert.java:109)</Frame>
          <Frame depth="1">org.eclipse.core.internal.resources.MarkerInfo.checkValidAttribute(MarkerInfo.java:57)</Frame>
          <Frame depth="2">org.eclipse.core.internal.resources.MarkerInfo.setAttribute(MarkerInfo.java:120)</Frame>
          <Frame depth="3">org.eclipse.core.internal.resources.Marker.setAttribute(Marker.java:243)</Frame>
          <Frame depth="4">org.eclipse.hyades.test.ui.internal.navigator.proxy.FileProxyManager$UpdateMarkerJob$MarkerRecord.performMark(FileProxyManager.java:394)</Frame>
          <Frame depth="5">org.eclipse.hyades.test.ui.internal.navigator.proxy.FileProxyManager$UpdateMarkerJob.runInWorkspace(FileProxyManager.java:458)</Frame>
          <Frame depth="6">org.eclipse.core.internal.resources.InternalWorkspaceJob.run(InternalWorkspaceJob.java:38)</Frame>
          <Frame depth="7">org.eclipse.core.internal.jobs.Worker.run(Worker.java:76)</Frame>
        </Frames>
      </Stacktrace>
    </Stacktraces>
    <SourceCodeRegions amount="0" />
    <Enumerations amount="0" />
    <bug_status amount="CLOSED" />
    <resolution amount="FIXED" />
    <WithStack>When execution of the attached JUnit test suite is finished, there is an update
marker job failed error:

org.eclipse.core.internal.utils.AssertionFailedException: Assertion failed:
Marker property value is too long: &lt;?xml version="1.0" encoding="UTF-8"?&gt;
&lt;proxyStateMemento name="JUnit1 [Aug 22, 2005 1:28:49 PM EDT]"
nodeKind="executionResultNode"
type="org.eclipse.hyades.test.java.junit.testSuite"
uriFragment="C5F5CB9281CB718491ED8A80133111DA" verdict="3"&gt;
&lt;childNode name="unamed [test 1]" nodeKind="executionResultNode"
type="org.eclipse.hyades.test.java.junit.testCase"
uriFragment="C5F5CB9281CB71849AA300B0133111DA" verdict="1"/&gt;
&lt;childNode name="unamed [test 2]" nodeKind="executionResultNode"
type="org.eclipse.hyades.test.java.junit.testCase"
uriFragment="C5F5CB9281CB71849AAAA1D0133111DA" verdict="2"/&gt;
&lt;childNode name="unamed [test 3]" nodeKind="executionResultNode"
type="org.eclipse.hyades.test.java.junit.testCase"
uriFragment="C5F5CB9281CB71849F899490133111DA" verdict="3"/&gt;
&lt;childNode name="unamed [test 4]" nodeKind="executionResultNode"
type="org.eclipse.hyades.test.java.junit.testCase"
uriFragment="C5F5CB9281CB71849F8B1B30133111DA" verdict="1"/&gt;
&lt;childNode name="unamed [test 3]" nodeKind="executionResultNode"
type="org.eclipse.hyades.test.java.junit.testCase" uriFragment="C5F5CB9281CB
at org.eclipse.core.internal.utils.Assert.isTrue(Assert.java:109)
at
org.eclipse.core.internal.resources.MarkerInfo.checkValidAttribute(MarkerInfo.java:57)
at org.eclipse.core.internal.resources.MarkerInfo.setAttribute(MarkerInfo.java:120)
at org.eclipse.core.internal.resources.Marker.setAttribute(Marker.java:243)
at
org.eclipse.hyades.test.ui.internal.navigator.proxy.FileProxyManager$UpdateMarkerJob$MarkerRecord.performMark(FileProxyManager.java:394)
at
org.eclipse.hyades.test.ui.internal.navigator.proxy.FileProxyManager$UpdateMarkerJob.runInWorkspace(FileProxyManager.java:458)
at
org.eclipse.core.internal.resources.InternalWorkspaceJob.run(InternalWorkspaceJob.java:38)
at org.eclipse.core.internal.jobs.Worker.run(Worker.java:76)

As a result, Test Log Viewer will contain an empty events tree.
Created attachment 26350
JUnit test that will generate a big result.
Created attachment 26536
Patch to FileProxyManager.java class
Attached the fix patch file. 

Jerome, could you please take a look if this is a valid fix since you are the 
owner of the component?  Let me know if I can help with anything else.  Thanks.
The fix proposed by Bianca is not acceptable. It breaks the proxy persistency
mechanism.
A small fix can be provided for 4.1 but a much more complete solution would be
developed for future release.
If the proxy node content to save exceeds the marker property value limit (65535
bytes) it is not saved.
This fix breaks performance on huge element (such as big execution log) because
proxy node conversion of such elements should be done each time the test
navigator is open.
ACTION: Please verify/close this defect.
Closing by default since not closed by the originator in the 7+ months since being resolved.  

Please reopen if the issue is still present in the latest TPTP release or the resolution is not correct.
Correcting component.</WithStack>
    <WithOutStack>When execution of the attached JUnit test suite is finished, there is an update
marker job failed error:



As a result, Test Log Viewer will contain an empty events tree.
Created attachment 26350
JUnit test that will generate a big result.
Created attachment 26536
Patch to FileProxyManager.java class
Attached the fix patch file. 

Jerome, could you please take a look if this is a valid fix since you are the 
owner of the component?  Let me know if I can help with anything else.  Thanks.
The fix proposed by Bianca is not acceptable. It breaks the proxy persistency
mechanism.
A small fix can be provided for 4.1 but a much more complete solution would be
developed for future release.
If the proxy node content to save exceeds the marker property value limit (65535
bytes) it is not saved.
This fix breaks performance on huge element (such as big execution log) because
proxy node conversion of such elements should be done each time the test
navigator is open.
ACTION: Please verify/close this defect.
Closing by default since not closed by the originator in the 7+ months since being resolved.  

Please reopen if the issue is still present in the latest TPTP release or the resolution is not correct.
Correcting component.</WithOutStack>
  </Bug>
  <Bug>
    <BugId amount="107644" />
    <CreationDate amount="2005-08-22 13:45:00 -0400" />
    <DupId amount="" />
    <classification amount="Eclipse" />
    <Product amount="Platform" />
    <component amount="User Assistance" />
    <Version amount="3.2" />
    <rep_platform amount="PC" />
    <op_sys amount="Windows 2000" />
    <priority amount="P3" />
    <bug_severity amount="enhancement" />
    <Summery>[Help][Search] ability to find result on search queries containing special characters</Summery>
    <Patches amount="0" />
    <Stacktraces amount="0" />
    <SourceCodeRegions amount="0" />
    <Enumerations amount="0" />
    <bug_status amount="NEW" />
    <resolution amount="" />
    <WithStack>Currently, in the help system webapp search function, searching for special
characters that are used in programming environments like operators (&lt;=, !=,
etc) or terms containing special characters is giving unpredictable results. As
more large development organizations adopt Eclipse and provide code plug-ins and
associated doc plug-ins, this functionality is critical to their success to
search across programming-type of content.

For example, in some programming situations, there are commands that start with
the slash (/) and hyphen (-) characters. Also “$!” is a Perl special variable
that readers might search on if the content topics are describing something
related to that language. Operators “&lt;=” and “!=” are often used in a
programming environment. One user task that this supports is where a user
suspects there is sample code in a topic in the help system contents and types
in a presumed function (e.g., “&lt;= n”) into the search field, expecting to see
some search results.

It would be acceptable to require the exact (quote surrounded) search string.
Currently, even with quoted strings, the results are unpredictable. If I search
for string "&lt;= n", I get a list of search results; however, there is nothing
highlighted in the resulting topics and IE "Find on this page" doesn't find the
phrase, so something is amiss.

Our requirement is to have this for all of the help system webapp scenarios
(standalone/infocenter/integrated).

--Lee Anne Kowalski
IBM User Assistance Technologies
*** Bug 32792 has been marked as a duplicate of this bug. ***</WithStack>
    <WithOutStack>Currently, in the help system webapp search function, searching for special
characters that are used in programming environments like operators (&lt;=, !=,
etc) or terms containing special characters is giving unpredictable results. As
more large development organizations adopt Eclipse and provide code plug-ins and
associated doc plug-ins, this functionality is critical to their success to
search across programming-type of content.

For example, in some programming situations, there are commands that start with
the slash (/) and hyphen (-) characters. Also “$!” is a Perl special variable
that readers might search on if the content topics are describing something
related to that language. Operators “&lt;=” and “!=” are often used in a
programming environment. One user task that this supports is where a user
suspects there is sample code in a topic in the help system contents and types
in a presumed function (e.g., “&lt;= n”) into the search field, expecting to see
some search results.

It would be acceptable to require the exact (quote surrounded) search string.
Currently, even with quoted strings, the results are unpredictable. If I search
for string "&lt;= n", I get a list of search results; however, there is nothing
highlighted in the resulting topics and IE "Find on this page" doesn't find the
phrase, so something is amiss.

Our requirement is to have this for all of the help system webapp scenarios
(standalone/infocenter/integrated).

--Lee Anne Kowalski
IBM User Assistance Technologies
*** Bug 32792 has been marked as a duplicate of this bug. ***</WithOutStack>
  </Bug>
  <Bug>
    <BugId amount="107645" />
    <CreationDate amount="2005-08-22 13:46:00 -0400" />
    <DupId amount="" />
    <classification amount="Mylyn" />
    <Product amount="Mylyn" />
    <component amount="Java" />
    <Version amount="0.3" />
    <rep_platform amount="All" />
    <op_sys amount="All" />
    <priority amount="P4" />
    <bug_severity amount="normal" />
    <Summery>content assist not available on initial startup</Summery>
    <Patches amount="0" />
    <Stacktraces amount="0" />
    <SourceCodeRegions amount="0" />
    <Enumerations amount="0" />
    <bug_status amount="RESOLVED" />
    <resolution amount="FIXED" />
    <WithStack>It seems as though on initial startup of eclipse, if it opens an editor for
us it is not properly applying our SourceViewerConfiguration.  This means that
we are unable to have content assist or the hyperlinks to bug reports in these
editors.  If the editors are closed and reopened, things work again
Folding now works on startup, but we still have this wierd viewer 
configuration issue.
This may improve with the 3.2M3 based content assit support.
Done.</WithStack>
    <WithOutStack>It seems as though on initial startup of eclipse, if it opens an editor for
us it is not properly applying our SourceViewerConfiguration.  This means that
we are unable to have content assist or the hyperlinks to bug reports in these
editors.  If the editors are closed and reopened, things work again
Folding now works on startup, but we still have this wierd viewer 
configuration issue.
This may improve with the 3.2M3 based content assit support.
Done.</WithOutStack>
  </Bug>
  <Bug>
    <BugId amount="107646" />
    <CreationDate amount="2005-08-22 14:02:00 -0400" />
    <DupId amount="" />
    <classification amount="Tools" />
    <Product amount="TPTP Profiling" />
    <component amount="Trace.UI" />
    <Version amount="4.1" />
    <rep_platform amount="PC" />
    <op_sys amount="Windows 2000" />
    <priority amount="P3" />
    <bug_severity amount="normal" />
    <Summery>When a delta value is &gt; 0 the delta image is not appearing in the content of the field changed</Summery>
    <Patches amount="0" />
    <Stacktraces amount="0" />
    <SourceCodeRegions amount="0" />
    <Enumerations amount="0" />
    <bug_status amount="CLOSED" />
    <resolution amount="FIXED" />
    <WithStack>In the execution stats view and memory stats view the delta behaviour is not 
working appropriately.  When a delta value is &gt; 0 the delta image is not 
appearing in the content of the field changed.
terry. this may be related to 107610. 
patch submitted
verified, TPTP-4.1.0-200508230100</WithStack>
    <WithOutStack>In the execution stats view and memory stats view the delta behaviour is not 
working appropriately.  When a delta value is &gt; 0 the delta image is not 
appearing in the content of the field changed.
terry. this may be related to 107610. 
patch submitted
verified, TPTP-4.1.0-200508230100</WithOutStack>
  </Bug>
  <Bug>
    <BugId amount="107647" />
    <CreationDate amount="2005-08-22 14:03:00 -0400" />
    <DupId amount="" />
    <classification amount="WebTools" />
    <Product amount="WTP Source Editing" />
    <component amount="wst.css" />
    <Version amount="0.7" />
    <rep_platform amount="PC" />
    <op_sys amount="Windows XP" />
    <priority amount="P3" />
    <bug_severity amount="major" />
    <Summery>[CSS Editor] Line delimiter setting ignored</Summery>
    <Patches amount="0" />
    <Stacktraces amount="0" />
    <SourceCodeRegions amount="8">
      <source_code type="assignment">
        <location start="3643" end="3703" />
        <code>String lineDelimiter = getPreferredNewLineDelimiter(iFile);</code>
      </source_code>
      <source_code type="functioncall">
        <location start="3732" end="3794" />
        <code>structuredDocument.setPreferredLineDelimiter(lineDelimiter);</code>
      </source_code>
      <source_code type="functiondef">
        <location start="3809" end="4457" />
        <code>private String getPlatformLineDelimiterPreference(IFile file) {
	IScopeContext[] scopeContext;
	if (file != null &amp;&amp; file.getProject() != null) {
		// project preference
		scopeContext = new IScopeContext[]{new ProjectScope(file.getProject())};
		String lineDelimiter = Platform.getPreferencesService().getString(Platform.PI_RUNTIME, Platform.PREF_LINE_SEPARATOR, null, scopeContext);
		if (lineDelimiter != null)
			return lineDelimiter;
	}
	// workspace preference
	scopeContext = new IScopeContext[]{new InstanceScope()};
	return Platform.getPreferencesService().getString(Platform.PI_RUNTIME, Platform.PREF_LINE_SEPARATOR, null, scopeContext);
}</code>
      </source_code>
      <source_code type="functiondef">
        <location start="4515" end="4626" />
        <code>protected String getPreferredNewLineDelimiter(IFile file) {
	return getPlatformLineDelimiterPreference(file);
}</code>
      </source_code>
      <source_code type="functiondef">
        <location start="4763" end="5433" />
        <code>private String getDefaultLineDelimiter() {
	// specific preferred line delimiter
	if (preferedDelimiter != null)
		return preferedDelimiter;

	// no line delimiter has been used so just use platform's default
	String lineDelimiter = null;
	String sysLineDelimiter = PlatformLineDelimiter;
	String[] delimiters = getLegalLineDelimiters();
	Assert.isTrue(delimiters.length &gt; 0);
	for (int i = 0; i &lt; delimiters.length; i++) {
		if (delimiters[i].equals(sysLineDelimiter)) {
			lineDelimiter = sysLineDelimiter;
			break;
		}
	}
	// no platform default so just use first legal delimiter
	if (lineDelimiter == null)
		lineDelimiter = delimiters[0];

	return lineDelimiter;
}</code>
      </source_code>
      <source_code type="functiondef">
        <location start="5605" end="6032" />
        <code>private void setInitialLineDelimiter(String delimiter) {
	// make sure our preferred delimiter is
	// one of the legal ones
	if (Utilities.containsString(getLegalLineDelimiters(), delimiter)) {
		preferedDelimiter = delimiter;
	}
	else {
		if (Logger.DEBUG_DOCUMENT)
			Logger.log(Logger.INFO, "Attempt to set linedelimiter to non-legal delimiter"); //$NON-NLS-1$ //$NON-NLS-2$
		preferedDelimiter = PlatformLineDelimiter;
	}
}</code>
      </source_code>
      <source_code type="assignment">
        <location start="6120" end="6215" />
        <code>String delimiter = ContentTypeEncodingPreferences.getPreferredNewLineDelimiter(contentTypeId);</code>
      </source_code>
      <source_code type="assignment">
        <location start="6243" end="6301" />
        <code>==&gt;		delimiter = super.getPreferredNewLineDelimiter(file);</code>
      </source_code>
    </SourceCodeRegions>
    <Enumerations amount="0" />
    <bug_status amount="CLOSED" />
    <resolution amount="FIXED" />
    <WithStack>I have set "Web and XML" -&gt; "CSS Files" -&gt; "Line delimiter to "UNIX". When I
edit CSS files, the modified lines get DOS line endings.

As a test I created a new CSS file, typed the following:

body {
  font-size: 12pt;
}

Here's the content as seen by hexdump:

$ hexdump -C test.css
00000000  62 6f 64 79 20 7b 0d 0a  20 20 66 6f 6e 74 2d 73  |body {..  font-s|
00000010  69 7a 65 3a 20 31 32 70  74 3b 0d 0a 7d 0d 0a     |ize: 12pt;..}..|
0000001f
Note the problem only seems to apply to lines that have been inserted (directly
or by pasting); modifying a single line does not introduce a DOS line ending.
maybe the line delimiter preference should just be removed from all XXX files 
preference pages and just use the preference specified in 

General-&gt;Editors-&gt;New text file line delimiter

Is there any reason why line delimiters would be different for different 
content types?
I would rather have a single option controlling all text files; but then I use
Unix endings exclusively even on Windows: in my opinion there's no reason to
ever use DOS endings anymore, since about every application out there is able to
handle both forms. The only exception I can think of is Notepad.

I have reported the same bug against the HTML editor in bug 107651. Curiously
enough the JavaScript editor seems unaffected by the problem.
I would like to still have the *option* of having seperate settings per content
type. 

The use case I've heard (I'll admit a while ago) is that some some wanted it for
some types (e.g. HTML) but not all (e.g. Java) since the former were "moved" to
other platforms and used with other tools, but the latter wasn't. 

Its a good idea to have a setting (and the default?) of "use global setting". 
I'm not sure if we've lost the ability, but used to have another dimension of 
choice about "leave existing ones alone" vs. "actively convert all cases". 

The way the base currently handles delimiters is users can specify the line delimiter for new files in general via the preference:
  General-&gt;Editors-&gt;New text file line delimiter
Users can also specify the line delimiter for new files for each project via project properties (right click project in navigator, select Properties, in the Info section, "New text file line delimiter")

If we want to keep the option of line delimiters per content type, that seems doable.  We could just have a radio button in the preferences to either use a specific line delimiter or use whatever the base's preference is.

An extra problem seems to be that our line delimiter preferences say we will convert all line delimiters to the line delimiter preference upon saving of the file (what David said about "leave existing ones alone" vs. "actively convert all cases").  But we're not really doing that.  That should be a separate bug.

But from my understanding, this bug is that we're just not using the line delimiter preference when users create new file/insert new line delimiters.  So I'll look into that.
&gt; An extra problem seems to be that our line delimiter preferences say we will
&gt; convert all line delimiters to the line delimiter preference upon saving of the
&gt; file (what David said about "leave existing ones alone" vs. "actively convert
&gt; all cases").  But we're not really doing that.  That should be a separate bug.

I have opened base bug 123287
*** Bug 107651 has been marked as a duplicate of this bug. ***
plugins affected:
jst.jsp.core
jst.jsp.core.tests
wst.css.core
wst.css.core.tests
wst.dtd.core
wst.html.core
wst.html.core.tests
wst.sse.core
wst.xml.core
wst.xml.core.tests

AbstractDocumentLoader
-modified createNewStructuredDocument(..) and added:
	String lineDelimiter = getPreferredNewLineDelimiter(iFile);
	if (lineDelimiter != null)
		structuredDocument.setPreferredLineDelimiter(lineDelimiter);

-new method:
private String getPlatformLineDelimiterPreference(IFile file) {
	IScopeContext[] scopeContext;
	if (file != null &amp;&amp; file.getProject() != null) {
		// project preference
		scopeContext = new IScopeContext[]{new ProjectScope(file.getProject())};
		String lineDelimiter = Platform.getPreferencesService().getString(Platform.PI_RUNTIME, Platform.PREF_LINE_SEPARATOR, null, scopeContext);
		if (lineDelimiter != null)
			return lineDelimiter;
	}
	// workspace preference
	scopeContext = new IScopeContext[]{new InstanceScope()};
	return Platform.getPreferencesService().getString(Platform.PI_RUNTIME, Platform.PREF_LINE_SEPARATOR, null, scopeContext);
}

-deprecated getPreferredNewLineDelimiter()
-new method:
protected String getPreferredNewLineDelimiter(IFile file) {
	return getPlatformLineDelimiterPreference(file);
}

BasicStructuredDocument
-make getLineDelimiter() &amp; getPreferredLineDelimiter() call new method, getDefaultLineDelimiter()
-new method:
private String getDefaultLineDelimiter() {
	// specific preferred line delimiter
	if (preferedDelimiter != null)
		return preferedDelimiter;

	// no line delimiter has been used so just use platform's default
	String lineDelimiter = null;
	String sysLineDelimiter = PlatformLineDelimiter;
	String[] delimiters = getLegalLineDelimiters();
	Assert.isTrue(delimiters.length &gt; 0);
	for (int i = 0; i &lt; delimiters.length; i++) {
		if (delimiters[i].equals(sysLineDelimiter)) {
			lineDelimiter = sysLineDelimiter;
			break;
		}
	}
	// no platform default so just use first legal delimiter
	if (lineDelimiter == null)
		lineDelimiter = delimiters[0];

	return lineDelimiter;
}
-make setLineDelimiter(String delimiter) &amp; setPreferredLineDelimiter(String probableLineDelimiter) call new method, setInitialLineDelimiter(String delimiter)
-new method:
private void setInitialLineDelimiter(String delimiter) {
	// make sure our preferred delimiter is
	// one of the legal ones
	if (Utilities.containsString(getLegalLineDelimiters(), delimiter)) {
		preferedDelimiter = delimiter;
	}
	else {
		if (Logger.DEBUG_DOCUMENT)
			Logger.log(Logger.INFO, "Attempt to set linedelimiter to non-legal delimiter"); //$NON-NLS-1$ //$NON-NLS-2$
		preferedDelimiter = PlatformLineDelimiter;
	}
}

CSS/HTML/JSP/XML/DTD DocumentLoader
modified getPreferredNewLineDelimiter(IFile file)
	String delimiter = ContentTypeEncodingPreferences.getPreferredNewLineDelimiter(contentTypeId);
==&gt;	if (delimiter == null)
==&gt;		delimiter = super.getPreferredNewLineDelimiter(file);
	return delimiter;
Okay, I've fixed this bug so that preferences for line delimiters will be followed for content type, and if "No translation" is selected, the eclipse platform default line delimiter (Preferences-&gt;General-&gt;Workspace-&gt;New text file line delimiter) will be used instead.  I can't quite get the project preferred line delimiter to work due to a limitation in the info I have at document creation.  However, once bug 101860 is fixed, this issue will automatically be fixed as well.  In fact, once bug 101860 is fixed, content type-specific line delimiter preferences may be removed because project-specific line delimiter preferences should be specific enough for users.

released for this week's 1.5 m6 build.
This bug is being moved to the "closed" state since it has been in the fixed state for a so long it is being assumed fixed, without explicit verification from the originator. If there is still a problem, in the most recent 1.5.x builds, please reopen or open another bug.</WithStack>
    <WithOutStack>I have set "Web and XML" -&gt; "CSS Files" -&gt; "Line delimiter to "UNIX". When I
edit CSS files, the modified lines get DOS line endings.

As a test I created a new CSS file, typed the following:

body {
  font-size: 12pt;
}

Here's the content as seen by hexdump:

$ hexdump -C test.css
00000000  62 6f 64 79 20 7b 0d 0a  20 20 66 6f 6e 74 2d 73  |body {..  font-s|
00000010  69 7a 65 3a 20 31 32 70  74 3b 0d 0a 7d 0d 0a     |ize: 12pt;..}..|
0000001f
Note the problem only seems to apply to lines that have been inserted (directly
or by pasting); modifying a single line does not introduce a DOS line ending.
maybe the line delimiter preference should just be removed from all XXX files 
preference pages and just use the preference specified in 

General-&gt;Editors-&gt;New text file line delimiter

Is there any reason why line delimiters would be different for different 
content types?
I would rather have a single option controlling all text files; but then I use
Unix endings exclusively even on Windows: in my opinion there's no reason to
ever use DOS endings anymore, since about every application out there is able to
handle both forms. The only exception I can think of is Notepad.

I have reported the same bug against the HTML editor in bug 107651. Curiously
enough the JavaScript editor seems unaffected by the problem.
I would like to still have the *option* of having seperate settings per content
type. 

The use case I've heard (I'll admit a while ago) is that some some wanted it for
some types (e.g. HTML) but not all (e.g. Java) since the former were "moved" to
other platforms and used with other tools, but the latter wasn't. 

Its a good idea to have a setting (and the default?) of "use global setting". 
I'm not sure if we've lost the ability, but used to have another dimension of 
choice about "leave existing ones alone" vs. "actively convert all cases". 

The way the base currently handles delimiters is users can specify the line delimiter for new files in general via the preference:
  General-&gt;Editors-&gt;New text file line delimiter
Users can also specify the line delimiter for new files for each project via project properties (right click project in navigator, select Properties, in the Info section, "New text file line delimiter")

If we want to keep the option of line delimiters per content type, that seems doable.  We could just have a radio button in the preferences to either use a specific line delimiter or use whatever the base's preference is.

An extra problem seems to be that our line delimiter preferences say we will convert all line delimiters to the line delimiter preference upon saving of the file (what David said about "leave existing ones alone" vs. "actively convert all cases").  But we're not really doing that.  That should be a separate bug.

But from my understanding, this bug is that we're just not using the line delimiter preference when users create new file/insert new line delimiters.  So I'll look into that.
&gt; An extra problem seems to be that our line delimiter preferences say we will
&gt; convert all line delimiters to the line delimiter preference upon saving of the
&gt; file (what David said about "leave existing ones alone" vs. "actively convert
&gt; all cases").  But we're not really doing that.  That should be a separate bug.

I have opened base bug 123287
*** Bug 107651 has been marked as a duplicate of this bug. ***
plugins affected:
jst.jsp.core
jst.jsp.core.tests
wst.css.core
wst.css.core.tests
wst.dtd.core
wst.html.core
wst.html.core.tests
wst.sse.core
wst.xml.core
wst.xml.core.tests

AbstractDocumentLoader
-modified createNewStructuredDocument(..) and added:
	String lineDelimiter = getPreferredNewLineDelimiter(iFile);
	if (lineDelimiter != null)
		structuredDocument.setPreferredLineDelimiter(lineDelimiter);

-new method:
private String getPlatformLineDelimiterPreference(IFile file) {
	IScopeContext[] scopeContext;
	if (file != null &amp;&amp; file.getProject() != null) {
		// project preference
		scopeContext = new IScopeContext[]{new ProjectScope(file.getProject())};
		String lineDelimiter = Platform.getPreferencesService().getString(Platform.PI_RUNTIME, Platform.PREF_LINE_SEPARATOR, null, scopeContext);
		if (lineDelimiter != null)
			return lineDelimiter;
	}
	// workspace preference
	scopeContext = new IScopeContext[]{new InstanceScope()};
	return Platform.getPreferencesService().getString(Platform.PI_RUNTIME, Platform.PREF_LINE_SEPARATOR, null, scopeContext);
}

-deprecated getPreferredNewLineDelimiter()
-new method:
protected String getPreferredNewLineDelimiter(IFile file) {
	return getPlatformLineDelimiterPreference(file);
}

BasicStructuredDocument
-make getLineDelimiter() &amp; getPreferredLineDelimiter() call new method, getDefaultLineDelimiter()
-new method:
private String getDefaultLineDelimiter() {
	// specific preferred line delimiter
	if (preferedDelimiter != null)
		return preferedDelimiter;

	// no line delimiter has been used so just use platform's default
	String lineDelimiter = null;
	String sysLineDelimiter = PlatformLineDelimiter;
	String[] delimiters = getLegalLineDelimiters();
	Assert.isTrue(delimiters.length &gt; 0);
	for (int i = 0; i &lt; delimiters.length; i++) {
		if (delimiters[i].equals(sysLineDelimiter)) {
			lineDelimiter = sysLineDelimiter;
			break;
		}
	}
	// no platform default so just use first legal delimiter
	if (lineDelimiter == null)
		lineDelimiter = delimiters[0];

	return lineDelimiter;
}
-make setLineDelimiter(String delimiter) &amp; setPreferredLineDelimiter(String probableLineDelimiter) call new method, setInitialLineDelimiter(String delimiter)
-new method:
private void setInitialLineDelimiter(String delimiter) {
	// make sure our preferred delimiter is
	// one of the legal ones
	if (Utilities.containsString(getLegalLineDelimiters(), delimiter)) {
		preferedDelimiter = delimiter;
	}
	else {
		if (Logger.DEBUG_DOCUMENT)
			Logger.log(Logger.INFO, "Attempt to set linedelimiter to non-legal delimiter"); //$NON-NLS-1$ //$NON-NLS-2$
		preferedDelimiter = PlatformLineDelimiter;
	}
}

CSS/HTML/JSP/XML/DTD DocumentLoader
modified getPreferredNewLineDelimiter(IFile file)
	String delimiter = ContentTypeEncodingPreferences.getPreferredNewLineDelimiter(contentTypeId);
==&gt;	if (delimiter == null)
==&gt;		delimiter = super.getPreferredNewLineDelimiter(file);
	return delimiter;
Okay, I've fixed this bug so that preferences for line delimiters will be followed for content type, and if "No translation" is selected, the eclipse platform default line delimiter (Preferences-&gt;General-&gt;Workspace-&gt;New text file line delimiter) will be used instead.  I can't quite get the project preferred line delimiter to work due to a limitation in the info I have at document creation.  However, once bug 101860 is fixed, this issue will automatically be fixed as well.  In fact, once bug 101860 is fixed, content type-specific line delimiter preferences may be removed because project-specific line delimiter preferences should be specific enough for users.

released for this week's 1.5 m6 build.
This bug is being moved to the "closed" state since it has been in the fixed state for a so long it is being assumed fixed, without explicit verification from the originator. If there is still a problem, in the most recent 1.5.x builds, please reopen or open another bug.</WithOutStack>
  </Bug>
  <Bug>
    <BugId amount="107648" />
    <CreationDate amount="2005-08-22 14:07:00 -0400" />
    <DupId amount="" />
    <classification amount="Eclipse" />
    <Product amount="Platform" />
    <component amount="User Assistance" />
    <Version amount="3.2" />
    <rep_platform amount="PC" />
    <op_sys amount="Windows 2000" />
    <priority amount="P3" />
    <bug_severity amount="enhancement" />
    <Summery>[Help] Boost rank of Search hits when content match is in &lt;title&gt;</Summery>
    <Patches amount="0" />
    <Stacktraces amount="0" />
    <SourceCodeRegions amount="6">
      <source_code type="assignment">
        <location start="3695" end="3741" />
        <code>fields = new String[fieldNames.size() + 2];</code>
      </source_code>
      <source_code type="assignment">
        <location start="3742" end="3787" />
        <code>boosts = new float[fieldNames.size() + 2];</code>
      </source_code>
      <source_code type="assignment">
        <location start="3788" end="3837" />
        <code>Iterator fieldNamesIt = fieldNames.iterator();</code>
      </source_code>
      <source_code type="functiondef">
        <location start="3838" end="3959" />
        <code>for (int i = 0; i &lt; fieldNames.size(); i++) {
				fields[i] = (String) fieldNamesIt.next();
				boosts[i] = 5.0f;
			}</code>
      </source_code>
      <source_code type="assignment">
        <location start="4017" end="4053" />
        <code>boosts[fieldNames.size()] = 1.0f;</code>
      </source_code>
      <source_code type="assignment">
        <location start="4110" end="4148" />
        <code>boosts[fieldNames.size()+1] = 1.0f;</code>
      </source_code>
    </SourceCodeRegions>
    <Enumerations amount="0" />
    <bug_status amount="RESOLVED" />
    <resolution amount="FIXED" />
    <WithStack>See also Bugzilla 60773 (https://bugs.eclipse.org/bugs/show_bug.cgi?id=60773)

The overarching desired function remains: to human logic, if I'm searching for a
 particular phrase, it makes more sense to me that the topic that has that
phrase in the title of the topic would be a closer match than a topic that might
mention the phrase. For example,  when I currently search for 'icons' or 'icon'
in the SDK help, the
page 'Java Development User Guide &gt; Reference &gt; Icons' with
&lt;title&gt;JDT icons&lt;/title&gt; and &lt;h1&gt;JDT icons&lt;/h1&gt;
is only found as 13% match, after a long list of pages that talk about icons but
don't show them.

One issue is that a topic that is all about a subject, and that phrase is in the
&lt;title&gt; is likely a longer topic than topics that simply mention the subject
phrase in passing (like "See JDT icons for more information"). Currently, the
search engine unfairly penalizes the longer, more applicable topic, even though
human logic says that one is *more* applicable and should be in the top of the
results list.

In the other Bugzilla, Konrad proposed:
boosts[fieldNames.size() + 1] = 0.1f; // or 0.2f
to give documents with matches in the title a reasonable (several times) 
boost, but also not disqualify everything else that much.

For 3.2, request is for some improvement in this area to better match human
logic expectations.

--Lee Anne Kowalski
IBM User Assistance Technologies
This would greatly improve the results obtained by the help search engine. We should strongly consider this and bug 60773 for 3.4.
See also Bug 122816 which relates to the way in which relevance is computed.
A very high relevance rank for the &lt;title&gt; would go a long way
toward solving the problem we have with searches through our
doc set. It would also be very useful if there were some other 
way for HTML authors to influence the ranking.

Another idea that occurs to me is an adjustment to the relative
ranking of long and short documents. It *appears* that a short
document that contains, say, 3 instances of the search term
ranks higher than a very long document that contains 20+
instances of the term AND has the term in the &lt;title&gt; element.
In other words, it appears that a higher proportion of occurrences
of the search term outweighs both sheer number of occurrences
(and the &lt;title&gt;), and by quite a lot. Perhaps this could be 
adjusted as well.

Of course, making ranking algorithms tweakable via configuration
files or something would be useful too, but I know I'm reaching...
This is really great! 

Perhaps we could give, say, a double boost to the nouns or verbs in the title, and a single boost to the index entries, compared to all the rest of the words in the topic.

Index entries represent a huge pool of authored metadata that can be harvested to improve search results. They help discriminate between the content of different topics. The index entries are in the header of the transformed topic. They reflect the author's or editor's understanding of what's important in the topic, and might or might not use the same words as the title plus some other words. The scale is about 2-8 index entries, with a main entry and subentry (and sometimes a tertiary entry). 

I can provide examples if that would help.

Tentatively targeting 3.4. I'm not familiar with the search code so I don't have a good estimate of the difficulty or risk involved with making this change. If I determine that the change can be made safely I will get it into 3.4. 
Possible patch, similar to the one from bug 60773:

In org.eclipse.help.base/org.eclipse.help.internal.search.QueryBuilder, in QueryBuilder#buildLuceneQuery(), around line 408 (Eclipse 3.3 code base), change the code to:

			fields = new String[fieldNames.size() + 2];
			boosts = new float[fieldNames.size() + 2];
			Iterator fieldNamesIt = fieldNames.iterator();
			for (int i = 0; i &lt; fieldNames.size(); i++) {
				fields[i] = (String) fieldNamesIt.next();
				boosts[i] = 5.0f;
			}
			fields[fieldNames.size()] = "contents"; //$NON-NLS-1$
			boosts[fieldNames.size()] = 1.0f;
			fields[fieldNames.size()+1] = "title"; //$NON-NLS-1$
			boosts[fieldNames.size()+1] = 1.0f;

Note that the boost for the "title" field is set to 1.0. There was some concern in bug 60773 about this boost value, and hence nothing was done. However, since we no longer include the ranking with the search hits, and we don't filter out low rank hits, then there shouldn't be a problem.

The boost of 1.0 gives the same weighting for a match in the "title" field as a match in the "contents" field. This seems to make sense - if you have a match in the title, you want that match to float to the top of the search list. All of the other "content" matches will still be there, they will just be below the title match.

With our own documentation set, prior to this change we had terrible search results - sometimes a search for a particular topic would put that topic so far down in the list that it would be lost in the noise. As mentioned by other comments, this is because for a reference guide, the main page for a certain topic tends to be very long, and doesn't actually contain the topic words that often. With this code change, the search results are consistently better - the search *always* puts the main topic page at the top of the list.

It would be great to get this fix into Eclipse 3.4, so we don't have to ship our own modified version of org.eclipse.help.base.
Thanks for the patch! Is this something that you have been successfully using for a while?
(In reply to comment #7)
&gt; Thanks for the patch! Is this something that you have been successfully using
&gt; for a while?
&gt; 
We just released the first version of our Eclipse-based IDE, with the unmodified org.eclipse.help.base. We knew that the help search wasn't ideal, but it wasn't until our customers started complaining that we seriously looked at changing the code.

So, we've been using the patch in-house for a while, but it hasn't made it out to our customers yet. Our internal developers are much happier, and we are definitely going to include this fix in our next point release.

It would be great if some other people (Lee Anne, Adam, Ronnie?) could try out the modified code with their own documentation plugins. This would boost our confidence (no pun intended) that this is the appropriate fix.

Actually, it's fun to drop this fix into your Eclipse install. Before you make the change, fire up the Help and search for "org.eclipse.help". Notice that some sort of "RCP help" topic is the first hit - totally useless. Now change the code to include the fix, and try your search again - The org.eclipse.help package will now appear at the top.
Created attachment 88066
Patch

I just tried out those changes and they are a major improvement. Anything that matches in the title now ends up at or close to the top of the list of search hits.
Fixed in HEAD.</WithStack>
    <WithOutStack>See also Bugzilla 60773 (https://bugs.eclipse.org/bugs/show_bug.cgi?id=60773)

The overarching desired function remains: to human logic, if I'm searching for a
 particular phrase, it makes more sense to me that the topic that has that
phrase in the title of the topic would be a closer match than a topic that might
mention the phrase. For example,  when I currently search for 'icons' or 'icon'
in the SDK help, the
page 'Java Development User Guide &gt; Reference &gt; Icons' with
&lt;title&gt;JDT icons&lt;/title&gt; and &lt;h1&gt;JDT icons&lt;/h1&gt;
is only found as 13% match, after a long list of pages that talk about icons but
don't show them.

One issue is that a topic that is all about a subject, and that phrase is in the
&lt;title&gt; is likely a longer topic than topics that simply mention the subject
phrase in passing (like "See JDT icons for more information"). Currently, the
search engine unfairly penalizes the longer, more applicable topic, even though
human logic says that one is *more* applicable and should be in the top of the
results list.

In the other Bugzilla, Konrad proposed:
boosts[fieldNames.size() + 1] = 0.1f; // or 0.2f
to give documents with matches in the title a reasonable (several times) 
boost, but also not disqualify everything else that much.

For 3.2, request is for some improvement in this area to better match human
logic expectations.

--Lee Anne Kowalski
IBM User Assistance Technologies
This would greatly improve the results obtained by the help search engine. We should strongly consider this and bug 60773 for 3.4.
See also Bug 122816 which relates to the way in which relevance is computed.
A very high relevance rank for the &lt;title&gt; would go a long way
toward solving the problem we have with searches through our
doc set. It would also be very useful if there were some other 
way for HTML authors to influence the ranking.

Another idea that occurs to me is an adjustment to the relative
ranking of long and short documents. It *appears* that a short
document that contains, say, 3 instances of the search term
ranks higher than a very long document that contains 20+
instances of the term AND has the term in the &lt;title&gt; element.
In other words, it appears that a higher proportion of occurrences
of the search term outweighs both sheer number of occurrences
(and the &lt;title&gt;), and by quite a lot. Perhaps this could be 
adjusted as well.

Of course, making ranking algorithms tweakable via configuration
files or something would be useful too, but I know I'm reaching...
This is really great! 

Perhaps we could give, say, a double boost to the nouns or verbs in the title, and a single boost to the index entries, compared to all the rest of the words in the topic.

Index entries represent a huge pool of authored metadata that can be harvested to improve search results. They help discriminate between the content of different topics. The index entries are in the header of the transformed topic. They reflect the author's or editor's understanding of what's important in the topic, and might or might not use the same words as the title plus some other words. The scale is about 2-8 index entries, with a main entry and subentry (and sometimes a tertiary entry). 

I can provide examples if that would help.

Tentatively targeting 3.4. I'm not familiar with the search code so I don't have a good estimate of the difficulty or risk involved with making this change. If I determine that the change can be made safely I will get it into 3.4. 
Possible patch, similar to the one from bug 60773:

In org.eclipse.help.base/org.eclipse.help.internal.search.QueryBuilder, in QueryBuilder#buildLuceneQuery(), around line 408 (Eclipse 3.3 code base), change the code to:

			fields = new String[fieldNames.size() + 2];
			boosts = new float[fieldNames.size() + 2];
			Iterator fieldNamesIt = fieldNames.iterator();
			for (int i = 0; i &lt; fieldNames.size(); i++) {
				fields[i] = (String) fieldNamesIt.next();
				boosts[i] = 5.0f;
			}
			fields[fieldNames.size()] = "contents"; //$NON-NLS-1$
			boosts[fieldNames.size()] = 1.0f;
			fields[fieldNames.size()+1] = "title"; //$NON-NLS-1$
			boosts[fieldNames.size()+1] = 1.0f;

Note that the boost for the "title" field is set to 1.0. There was some concern in bug 60773 about this boost value, and hence nothing was done. However, since we no longer include the ranking with the search hits, and we don't filter out low rank hits, then there shouldn't be a problem.

The boost of 1.0 gives the same weighting for a match in the "title" field as a match in the "contents" field. This seems to make sense - if you have a match in the title, you want that match to float to the top of the search list. All of the other "content" matches will still be there, they will just be below the title match.

With our own documentation set, prior to this change we had terrible search results - sometimes a search for a particular topic would put that topic so far down in the list that it would be lost in the noise. As mentioned by other comments, this is because for a reference guide, the main page for a certain topic tends to be very long, and doesn't actually contain the topic words that often. With this code change, the search results are consistently better - the search *always* puts the main topic page at the top of the list.

It would be great to get this fix into Eclipse 3.4, so we don't have to ship our own modified version of org.eclipse.help.base.
Thanks for the patch! Is this something that you have been successfully using for a while?
(In reply to comment #7)
&gt; Thanks for the patch! Is this something that you have been successfully using
&gt; for a while?
&gt; 
We just released the first version of our Eclipse-based IDE, with the unmodified org.eclipse.help.base. We knew that the help search wasn't ideal, but it wasn't until our customers started complaining that we seriously looked at changing the code.

So, we've been using the patch in-house for a while, but it hasn't made it out to our customers yet. Our internal developers are much happier, and we are definitely going to include this fix in our next point release.

It would be great if some other people (Lee Anne, Adam, Ronnie?) could try out the modified code with their own documentation plugins. This would boost our confidence (no pun intended) that this is the appropriate fix.

Actually, it's fun to drop this fix into your Eclipse install. Before you make the change, fire up the Help and search for "org.eclipse.help". Notice that some sort of "RCP help" topic is the first hit - totally useless. Now change the code to include the fix, and try your search again - The org.eclipse.help package will now appear at the top.
Created attachment 88066
Patch

I just tried out those changes and they are a major improvement. Anything that matches in the title now ends up at or close to the top of the list of search hits.
Fixed in HEAD.</WithOutStack>
  </Bug>
  <Bug>
    <BugId amount="107649" />
    <CreationDate amount="2005-08-22 14:07:00 -0400" />
    <DupId amount="" />
    <classification amount="Eclipse" />
    <Product amount="JDT" />
    <component amount="APT" />
    <Version amount="3.1" />
    <rep_platform amount="PC" />
    <op_sys amount="Windows XP" />
    <priority amount="P3" />
    <bug_severity amount="normal" />
    <Summery>Annotation processor fails if enum are used</Summery>
    <Patches amount="0" />
    <Stacktraces amount="0" />
    <SourceCodeRegions amount="6">
      <source_code type="assignment">
        <location start="312" end="343" />
        <code>Messager m = env.getMessager();</code>
      </source_code>
      <source_code type="functiondef">
        <location start="345" end="368" />
        <code>switch (todo.level()) {</code>
      </source_code>
      <source_code type="functioncall">
        <location start="419" end="467" />
        <code>decl.getSimpleName() + " : " + todo.value() );</code>
      </source_code>
      <source_code type="functioncall">
        <location start="525" end="573" />
        <code>decl.getSimpleName() + " : " + todo.value() );</code>
      </source_code>
      <source_code type="functioncall">
        <location start="630" end="678" />
        <code>decl.getSimpleName() + " : " + todo.value() );</code>
      </source_code>
      <source_code type="functioncall">
        <location start="982" end="1029" />
        <code>decl.getSimpleName() + " : " + todo.value() );</code>
      </source_code>
    </SourceCodeRegions>
    <Enumerations amount="1">
      <Enumeration lines="1">
        <Lines>
          <Line>m.printError(decl.getPosition(),</Line>
        </Lines>
      </Enumeration>
    </Enumerations>
    <bug_status amount="VERIFIED" />
    <resolution amount="FIXED" />
    <WithStack>If an enum is used in the AnnotationProcessor (or the Visitor), jdt-apt fails
(no errors but no message are printed on the "Problems" panel, and "others"
AnnotationProcessor was ignored).


For example (where todo.level() is an enum-type) :
----------------------------------------------------------------------
Messager m = env.getMessager();

switch (todo.level()) {
case IMPORTANT:
	m.printError(decl.getPosition(),
		decl.getSimpleName() + " : " + todo.value() );
	break;
case NORMAL:
	m.printWarning(decl.getPosition(),
		decl.getSimpleName() + " : " + todo.value() );
	break;
case MINEUR:
	m.printNotice(decl.getPosition(),
		decl.getSimpleName() + " : " + todo.value() );
	break;
----------------------------------------------------------------------


If I replace the code by the following code there was no problem (the "notice"
is printed on the "Problems panel") :
----------------------------------------------------------------------
m.printNotice(decl.getPosition(),
	decl.getSimpleName() + " : " + todo.value() );
----------------------------------------------------------------------


The full code of the processor and annotation can be found here :
ftp://ftp-developpez.com/adiguba/tutoriels/java/tiger/annotations/annotations-src.zip
Thanks for the bug report!

This problem is now fixed in CVS. We hope to make a new alpha release available
on the website this week.
I have just tested it : it's works fine now.

It's all Good ;)
Thanks...</WithStack>
    <WithOutStack>If an enum is used in the AnnotationProcessor (or the Visitor), jdt-apt fails
(no errors but no message are printed on the "Problems" panel, and "others"
AnnotationProcessor was ignored).


For example (where todo.level() is an enum-type) :
----------------------------------------------------------------------
Messager m = env.getMessager();

switch (todo.level()) {
case IMPORTANT:
	m.printError(decl.getPosition(),
		decl.getSimpleName() + " : " + todo.value() );
	break;
case NORMAL:
	m.printWarning(decl.getPosition(),
		decl.getSimpleName() + " : " + todo.value() );
	break;
case MINEUR:
	m.printNotice(decl.getPosition(),
		decl.getSimpleName() + " : " + todo.value() );
	break;
----------------------------------------------------------------------


If I replace the code by the following code there was no problem (the "notice"
is printed on the "Problems panel") :
----------------------------------------------------------------------
m.printNotice(decl.getPosition(),
	decl.getSimpleName() + " : " + todo.value() );
----------------------------------------------------------------------


The full code of the processor and annotation can be found here :
ftp://ftp-developpez.com/adiguba/tutoriels/java/tiger/annotations/annotations-src.zip
Thanks for the bug report!

This problem is now fixed in CVS. We hope to make a new alpha release available
on the website this week.
I have just tested it : it's works fine now.

It's all Good ;)
Thanks...</WithOutStack>
  </Bug>
  <Bug>
    <BugId amount="107650" />
    <CreationDate amount="2005-08-22 14:12:00 -0400" />
    <DupId amount="" />
    <classification amount="Eclipse" />
    <Product amount="Platform" />
    <component amount="CVS" />
    <Version amount="3.1" />
    <rep_platform amount="PC" />
    <op_sys amount="Windows XP" />
    <priority amount="P5" />
    <bug_severity amount="normal" />
    <Summery>[Patch] Create patch option to ignore line ending differences</Summery>
    <Patches amount="0" />
    <Stacktraces amount="0" />
    <SourceCodeRegions amount="0" />
    <Enumerations amount="0" />
    <bug_status amount="ASSIGNED" />
    <resolution amount="" />
    <WithStack>The create patch wizard is not cr/lf aware.  If the CR/LF encoding is different
between the version in CVS and the version stored in eclipse, then the patch
generated is for the entire file (delete full existing contents, add new contents).

If you perform a compare, it properly identifies the differences (i.e. it
ignores cr/lf differences).  The Create Patch wizard should do the same.

- K
There may be an option to pass to "cvs diff" for this (although I took a quick 
look and didn't see an obvious one). This would be less work than implementing 
a diff engine in Eclipse.
I just noticed that the Compare Editor doesn't ignore cr/lf differences either.
Getting this fixed would be useful for any cross platform development (ie making
enhancements to an eclipse plugin in Linux when the plugin was originally
written using Windows). As it stands now, I have to drop down to the command
line to get any useful information when the line endings are messed up.
I made a mistake, the reason the compare editor wasn't working correctly was
because the file I was trying to compare was marked as binary. 

Having the create patch wizard sort out line endings automatically would still
be great. Thanks.
Not sure if this is completely related, but I have Project line endings set to Unix and even have tried unchecking Team &gt; CVS &gt; Files and folders &gt; Convert text files to use platform line ending.

But when I create a patch, the line endings are ALWAYS Windows (I'm on XP, Eclipse 3.2). How can I easily create CVS patches with Unix line endings without opening and manually converting each patch file?
Rob, there's currently no way to do this as we don't consult the setting when creating the patch. Please open a new bug for this.
I created a bug for my issue at https://bugs.eclipse.org/bugs/show_bug.cgi?id=159894</WithStack>
    <WithOutStack>The create patch wizard is not cr/lf aware.  If the CR/LF encoding is different
between the version in CVS and the version stored in eclipse, then the patch
generated is for the entire file (delete full existing contents, add new contents).

If you perform a compare, it properly identifies the differences (i.e. it
ignores cr/lf differences).  The Create Patch wizard should do the same.

- K
There may be an option to pass to "cvs diff" for this (although I took a quick 
look and didn't see an obvious one). This would be less work than implementing 
a diff engine in Eclipse.
I just noticed that the Compare Editor doesn't ignore cr/lf differences either.
Getting this fixed would be useful for any cross platform development (ie making
enhancements to an eclipse plugin in Linux when the plugin was originally
written using Windows). As it stands now, I have to drop down to the command
line to get any useful information when the line endings are messed up.
I made a mistake, the reason the compare editor wasn't working correctly was
because the file I was trying to compare was marked as binary. 

Having the create patch wizard sort out line endings automatically would still
be great. Thanks.
Not sure if this is completely related, but I have Project line endings set to Unix and even have tried unchecking Team &gt; CVS &gt; Files and folders &gt; Convert text files to use platform line ending.

But when I create a patch, the line endings are ALWAYS Windows (I'm on XP, Eclipse 3.2). How can I easily create CVS patches with Unix line endings without opening and manually converting each patch file?
Rob, there's currently no way to do this as we don't consult the setting when creating the patch. Please open a new bug for this.
I created a bug for my issue at https://bugs.eclipse.org/bugs/show_bug.cgi?id=159894</WithOutStack>
  </Bug>
  <Bug>
    <BugId amount="107651" />
    <CreationDate amount="2005-08-22 14:14:00 -0400" />
    <DupId amount="107647" />
    <classification amount="WebTools" />
    <Product amount="WTP Source Editing" />
    <component amount="wst.html" />
    <Version amount="0.7" />
    <rep_platform amount="PC" />
    <op_sys amount="Windows XP" />
    <priority amount="P3" />
    <bug_severity amount="normal" />
    <Summery>[HTML Editor] Line delimiter setting ignored</Summery>
    <Patches amount="0" />
    <Stacktraces amount="0" />
    <SourceCodeRegions amount="0" />
    <Enumerations amount="0" />
    <bug_status amount="CLOSED" />
    <resolution amount="DUPLICATE" />
    <WithStack>Same problem as bug 107647; probably the same underlying editor code.

The problem only seems to apply to lines that have been inserted (directly or by
pasting); these get DOS line endings regardless of the setting configured under
Preferences. Modifying a single line does not introduce a DOS line ending.
Same issue as bug 107647 so marking this a duplicate.

*** This bug has been marked as a duplicate of 107647 ***
This is part of a mass update to close out all stale WTP resolved bugs from the 1.0.x and 1.5.0 timeframe.  If you feel this bug was closed inappropriately, please reopen.

Thanks, John Lanuti</WithStack>
    <WithOutStack>Same problem as bug 107647; probably the same underlying editor code.

The problem only seems to apply to lines that have been inserted (directly or by
pasting); these get DOS line endings regardless of the setting configured under
Preferences. Modifying a single line does not introduce a DOS line ending.
Same issue as bug 107647 so marking this a duplicate.

*** This bug has been marked as a duplicate of 107647 ***
This is part of a mass update to close out all stale WTP resolved bugs from the 1.0.x and 1.5.0 timeframe.  If you feel this bug was closed inappropriately, please reopen.

Thanks, John Lanuti</WithOutStack>
  </Bug>
  <Bug>
    <BugId amount="107652" />
    <CreationDate amount="2005-08-22 14:22:00 -0400" />
    <DupId amount="" />
    <classification amount="Tools" />
    <Product amount="TPTP Testing" />
    <component amount="Test.UI.ConfigEditors" />
    <Version amount="4.1" />
    <rep_platform amount="PC" />
    <op_sys amount="Windows XP" />
    <priority amount="P2" />
    <bug_severity amount="normal" />
    <Summery>[Launch Configuration]  Test Should Not Be Launchable If Compile Errors Exist</Summery>
    <Patches amount="0" />
    <Stacktraces amount="0" />
    <SourceCodeRegions amount="0" />
    <Enumerations amount="0" />
    <bug_status amount="CLOSED" />
    <resolution amount="FIXED" />
    <WithStack>Sometimes a dependent JAR is not found or the classpath for the test project is
incorrect and the tool does not prevent the user from launching.  The test
execution then fails with a class not found exception which is found in the test
log under the events tab.

This defect fix would be to prevent launch when errors occur or at least bring
up the standard Eclipse dialog that asks if the user wants to continue launch
even with errors in project.
target for 4.2 since we don't have Test UI resources to fix in 4.1.
Reassign to Jerome for tptp 4.2. in accordance with discussion in Test project meeting 12/12/2005.
Build path or compilation errors are now displayed to the user if encountered for the enclosing 'test' project.
ACTION: Please verify/close this defect.
Closing...</WithStack>
    <WithOutStack>Sometimes a dependent JAR is not found or the classpath for the test project is
incorrect and the tool does not prevent the user from launching.  The test
execution then fails with a class not found exception which is found in the test
log under the events tab.

This defect fix would be to prevent launch when errors occur or at least bring
up the standard Eclipse dialog that asks if the user wants to continue launch
even with errors in project.
target for 4.2 since we don't have Test UI resources to fix in 4.1.
Reassign to Jerome for tptp 4.2. in accordance with discussion in Test project meeting 12/12/2005.
Build path or compilation errors are now displayed to the user if encountered for the enclosing 'test' project.
ACTION: Please verify/close this defect.
Closing...</WithOutStack>
  </Bug>
  <Bug>
    <BugId amount="107653" />
    <CreationDate amount="2005-08-22 14:32:00 -0400" />
    <DupId amount="" />
    <classification amount="Eclipse" />
    <Product amount="Platform" />
    <component amount="User Assistance" />
    <Version amount="3.2" />
    <rep_platform amount="PC" />
    <op_sys amount="Windows 2000" />
    <priority amount="P3" />
    <bug_severity amount="enhancement" />
    <Summery>[Help][Search] Provide for end user filtering and sorting of returned search results (e.g., "search within")</Summery>
    <Patches amount="0" />
    <Stacktraces amount="0" />
    <SourceCodeRegions amount="0" />
    <Enumerations amount="0" />
    <bug_status amount="NEW" />
    <resolution amount="" />
    <WithStack>After a user gets a set of search results back, we're seeing indications that
they want to take further action on the returned list: sort it, filter it
according to some criteria, "Search within...". The problem is especially
evident in large documentation sets when they get back 100 search hits and want
to do a more refined search within that returned set.

There might be a connection to the Capabilities support, and roles and
componentization: sorting search results according to role or capability;
"search within" a returned set for those results that are applicable to a
certain capability.

However, we also need such functionality for the standalone/infocenter scenarios
as well--not just the integrated scenario.

--Lee Anne Kowalski
IBM User Assistance Technologies</WithStack>
    <WithOutStack>After a user gets a set of search results back, we're seeing indications that
they want to take further action on the returned list: sort it, filter it
according to some criteria, "Search within...". The problem is especially
evident in large documentation sets when they get back 100 search hits and want
to do a more refined search within that returned set.

There might be a connection to the Capabilities support, and roles and
componentization: sorting search results according to role or capability;
"search within" a returned set for those results that are applicable to a
certain capability.

However, we also need such functionality for the standalone/infocenter scenarios
as well--not just the integrated scenario.

--Lee Anne Kowalski
IBM User Assistance Technologies</WithOutStack>
  </Bug>
  <Bug>
    <BugId amount="107654" />
    <CreationDate amount="2005-08-22 14:32:00 -0400" />
    <DupId amount="" />
    <classification amount="Tools" />
    <Product amount="TPTP Profiling" />
    <component amount="Platform.UI" />
    <Version amount="4.0.1" />
    <rep_platform amount="PC" />
    <op_sys amount="Linux-GTK" />
    <priority amount="P1" />
    <bug_severity amount="blocker" />
    <Summery>TVT 3.1 - TCT 561 "Probe" content type not externalized</Summery>
    <Patches amount="0" />
    <Stacktraces amount="0" />
    <SourceCodeRegions amount="0" />
    <Enumerations amount="1">
      <Enumeration lines="6">
        <Lines>
          <Line>- select Windows&gt;Preferences... pulldown menu</Line>
          <Line>- select General&gt;Content Types on tree view on the left</Line>
          <Line>- expand Text in Content Types pane on the right</Line>
          <Line>- "Probe" is not externalized/translated</Line>
          <Line>fixed for TPTP 4.1 and TPTP 4.0.1</Line>
          <Line>closing old bug</Line>
        </Lines>
      </Enumeration>
    </Enumerations>
    <bug_status amount="CLOSED" />
    <resolution amount="FIXED" />
    <WithStack>"Probe" content type not externalized

This is one of the TVT defects marked to be fixed before GA.
Created attachment 26351
screen capture
Can you attach an English screen capture or English instructions on how to find
this page, please?
Created attachment 26352
screen capture

testcase:

- select Windows&gt;Preferences... pulldown menu
- select General&gt;Content Types on tree view on the left
- expand Text in Content Types pane on the right
- "Probe" is not externalized/translated
fixed for TPTP 4.1 and TPTP 4.0.1
closing old bug</WithStack>
    <WithOutStack>"Probe" content type not externalized

This is one of the TVT defects marked to be fixed before GA.
Created attachment 26351
screen capture
Can you attach an English screen capture or English instructions on how to find
this page, please?
Created attachment 26352
screen capture

testcase:

- select Windows&gt;Preferences... pulldown menu
- select General&gt;Content Types on tree view on the left
- expand Text in Content Types pane on the right
- "Probe" is not externalized/translated
fixed for TPTP 4.1 and TPTP 4.0.1
closing old bug</WithOutStack>
  </Bug>
  <Bug>
    <BugId amount="107655" />
    <CreationDate amount="2005-08-22 14:44:00 -0400" />
    <DupId amount="" />
    <classification amount="Tools" />
    <Product amount="TPTP Release Engineering" />
    <component amount="Build" />
    <Version amount="4.0" />
    <rep_platform amount="PC" />
    <op_sys amount="Windows XP" />
    <priority amount="P3" />
    <bug_severity amount="minor" />
    <Summery>Incorrect compiler settings in build (debugger complains of missing line numbers)</Summery>
    <Patches amount="0" />
    <Stacktraces amount="0" />
    <SourceCodeRegions amount="0" />
    <Enumerations amount="0" />
    <bug_status amount="CLOSED" />
    <resolution amount="INVALID" />
    <WithStack>Found using 3.3. This may have been fixed in 4.0 or later... please close if
this is the case.

I'm developing something on top of TPTP. I have some plugins in my workspace,
but I don't have the TPTP source in my workspace, I'm using the source plugin
from TPTP to view the source whenever I need to. If I try to put a breakpoint in
TPTP code, the debugger says at run time that it can't place the breakpoint
there because the code was compiled with the wrong settings, and that it can't
find the line numbers. It works fine when I do this with eclipse classes. Not
the end of the world since I can just import the source and compile it, but
since TPTP is a platform I shouldn't have to do this...
In TPTP 4.x builds, we have set a flag to include debug info for the PDE.

# Whether or not to include debug info in the output jars
javacDebugInfo=true

This should include line number in the binary.  
Great. thanks.. closing bug.</WithStack>
    <WithOutStack>Found using 3.3. This may have been fixed in 4.0 or later... please close if
this is the case.

I'm developing something on top of TPTP. I have some plugins in my workspace,
but I don't have the TPTP source in my workspace, I'm using the source plugin
from TPTP to view the source whenever I need to. If I try to put a breakpoint in
TPTP code, the debugger says at run time that it can't place the breakpoint
there because the code was compiled with the wrong settings, and that it can't
find the line numbers. It works fine when I do this with eclipse classes. Not
the end of the world since I can just import the source and compile it, but
since TPTP is a platform I shouldn't have to do this...
In TPTP 4.x builds, we have set a flag to include debug info for the PDE.

# Whether or not to include debug info in the output jars
javacDebugInfo=true

This should include line number in the binary.  
Great. thanks.. closing bug.</WithOutStack>
  </Bug>
  <Bug>
    <BugId amount="107656" />
    <CreationDate amount="2005-08-22 14:55:00 -0400" />
    <DupId amount="" />
    <classification amount="Eclipse" />
    <Product amount="Platform" />
    <component amount="UI" />
    <Version amount="3.0.2" />
    <rep_platform amount="All" />
    <op_sys amount="All" />
    <priority amount="P2" />
    <bug_severity amount="normal" />
    <Summery>[Viewers] DeferredTreeContentManager has API methods that take internal parameters</Summery>
    <Patches amount="0" />
    <Stacktraces amount="0" />
    <SourceCodeRegions amount="0" />
    <Enumerations amount="0" />
    <bug_status amount="VERIFIED" />
    <resolution amount="FIXED" />
    <WithStack>In the class DeferredTreeContentManager (public API), there are some protected
methods, which in turn are also API (it doesn't say anywhere not to override
these), however, some of these methods, like startFetchingDeferredChildren, take
non-API classes as parameters. Namely, PendingUpdateAdapter.

I don't think it's correct to have an API method that takes non-API parameters.
You could change the class name of that internal class and break anyone who
overrides this method.

I suggest deprecating the current methods that take this internal parameter and
adding a new method for each of them that takes a more general, API parameter
such as IAdaptable or IWorkbenchAdapter. That way you can hide the
implementation of the actual item behind that interface, without breaking anyone
currently using the one with internal parameters.
*** Bug 111028 has been marked as a duplicate of this bug. ***
Jim, what is the policy for cases like this? The original suggestion makes sense
to me, or is there something else I could do? I guess just removing the method
is not an option, but what about widening the parameter type?
The simple solution would be to move PendingUpdateAdapter out of internal. 
AFAICT, there is no need for it to stay.

Personally all I want is to change the name displayed while the children are
being fetched.  A simple method on the ContentManager would work better for me.
 Or I suppose I could write my own.  so I think as stated its on the
architecture to send a clear message.
Made PendingUpdateAdapter API. This is a potential breaking change for subclasses of DeferredTreeContentManager. However, since there was no way for subclasses to override these methods, or to call them with anything other than null (which is not permitted), I believe this is still an OK change.

Released &gt;20060213.
Introduced a factory method in DeferredTreeContentProvider, made the constructor of PendingUpdateAdapter public, and added @since 3.2 tags.

Released for I20060214-1600.
[I20060214-0800]

Verfied on Windows XP.</WithStack>
    <WithOutStack>In the class DeferredTreeContentManager (public API), there are some protected
methods, which in turn are also API (it doesn't say anywhere not to override
these), however, some of these methods, like startFetchingDeferredChildren, take
non-API classes as parameters. Namely, PendingUpdateAdapter.

I don't think it's correct to have an API method that takes non-API parameters.
You could change the class name of that internal class and break anyone who
overrides this method.

I suggest deprecating the current methods that take this internal parameter and
adding a new method for each of them that takes a more general, API parameter
such as IAdaptable or IWorkbenchAdapter. That way you can hide the
implementation of the actual item behind that interface, without breaking anyone
currently using the one with internal parameters.
*** Bug 111028 has been marked as a duplicate of this bug. ***
Jim, what is the policy for cases like this? The original suggestion makes sense
to me, or is there something else I could do? I guess just removing the method
is not an option, but what about widening the parameter type?
The simple solution would be to move PendingUpdateAdapter out of internal. 
AFAICT, there is no need for it to stay.

Personally all I want is to change the name displayed while the children are
being fetched.  A simple method on the ContentManager would work better for me.
 Or I suppose I could write my own.  so I think as stated its on the
architecture to send a clear message.
Made PendingUpdateAdapter API. This is a potential breaking change for subclasses of DeferredTreeContentManager. However, since there was no way for subclasses to override these methods, or to call them with anything other than null (which is not permitted), I believe this is still an OK change.

Released &gt;20060213.
Introduced a factory method in DeferredTreeContentProvider, made the constructor of PendingUpdateAdapter public, and added @since 3.2 tags.

Released for I20060214-1600.
[I20060214-0800]

Verfied on Windows XP.</WithOutStack>
  </Bug>
  <Bug>
    <BugId amount="107657" />
    <CreationDate amount="2005-08-22 14:56:00 -0400" />
    <DupId amount="" />
    <classification amount="WebTools" />
    <Product amount="WTP Common Tools" />
    <component amount="wst.common" />
    <Version amount="1.5" />
    <rep_platform amount="PC" />
    <op_sys amount="Windows XP" />
    <priority amount="P3" />
    <bug_severity amount="enhancement" />
    <Summery>Organize and drop Project Interchange feature</Summery>
    <Patches amount="0" />
    <Stacktraces amount="0" />
    <SourceCodeRegions amount="0" />
    <Enumerations amount="0" />
    <bug_status amount="CLOSED" />
    <resolution amount="WONTFIX" />
    <WithStack>The Project Interchange feature should be donated to the open source.  Get all
approvals and coordinate migration effort.  The wizard and data model framework
will have to be ported to the provider IDataModel framework.
And, I'll add, brought up to date to "platform qualtiy" with scheduileing rules,
etc. The goal, I assume is to make it platoform quality, then re-suggest it be
an improved "import/export" function in base eclpse? 

Is this a task we should list as "help wanted"?


Moving this to 1.5 - not realistic in this timeframe....
This will be provided by the eclipse base now.
OK</WithStack>
    <WithOutStack>The Project Interchange feature should be donated to the open source.  Get all
approvals and coordinate migration effort.  The wizard and data model framework
will have to be ported to the provider IDataModel framework.
And, I'll add, brought up to date to "platform qualtiy" with scheduileing rules,
etc. The goal, I assume is to make it platoform quality, then re-suggest it be
an improved "import/export" function in base eclpse? 

Is this a task we should list as "help wanted"?


Moving this to 1.5 - not realistic in this timeframe....
This will be provided by the eclipse base now.
OK</WithOutStack>
  </Bug>
  <Bug>
    <BugId amount="107658" />
    <CreationDate amount="2005-08-22 14:57:00 -0400" />
    <DupId amount="" />
    <classification amount="Tools" />
    <Product amount="TPTP Profiling" />
    <component amount="Trace.UI" />
    <Version amount="4.1" />
    <rep_platform amount="PC" />
    <op_sys amount="Windows 2000" />
    <priority amount="P3" />
    <bug_severity amount="normal" />
    <Summery>NPE when open statistic view in an profile to file trace session</Summery>
    <Patches amount="0" />
    <Stacktraces amount="1">
      <Stacktrace timestamp="1437330570168">
        <Exception>java.lang.NullPointerException</Exception>
        <Reason />
        <Frames>
          <Frame depth="0">org.eclipse.hyades.trace.views.internal.StatisticView.update(StatisticView.java:840)</Frame>
          <Frame depth="1">org.eclipse.hyades.trace.views.internal.MultiLevelStatisticView.update(MultiLevelStatisticView.java:740)</Frame>
          <Frame depth="2">org.eclipse.hyades.trace.views.internal.StatisticView.updateUI(StatisticView.java:781)</Frame>
          <Frame depth="3">org.eclipse.hyades.trace.views.adapter.internal.MultiLevelStatisticPage.update(MultiLevelStatisticPage.java:144)</Frame>
          <Frame depth="4">org.eclipse.hyades.trace.ui.TraceViewer.addViewPage(TraceViewer.java:195)</Frame>
          <Frame depth="5">org.eclipse.hyades.trace.ui.TraceViewer.addViewPage(TraceViewer.java:209)</Frame>
          <Frame depth="6">org.eclipse.hyades.trace.ui.TraceViewer.createPartControl(TraceViewer.java:253)</Frame>
          <Frame depth="7">org.eclipse.ui.internal.ViewReference.createPartHelper(ViewReference.java:305)</Frame>
          <Frame depth="8">org.eclipse.ui.internal.ViewReference.createPart(ViewReference.java:180)</Frame>
          <Frame depth="9">org.eclipse.ui.internal.WorkbenchPartReference.getPart(WorkbenchPartReference.java:552)</Frame>
          <Frame depth="10">org.eclipse.ui.internal.Perspective.showView(Perspective.java:1655)</Frame>
          <Frame depth="11">org.eclipse.ui.internal.WorkbenchPage.busyShowView(WorkbenchPage.java:930)</Frame>
          <Frame depth="12">org.eclipse.ui.internal.WorkbenchPage.access$12(WorkbenchPage.java:913)</Frame>
          <Frame depth="13">org.eclipse.ui.internal.WorkbenchPage$13.run(WorkbenchPage.java:3148)</Frame>
          <Frame depth="14">org.eclipse.swt.custom.BusyIndicator.showWhile(BusyIndicator.java:69)</Frame>
          <Frame depth="15">org.eclipse.ui.internal.WorkbenchPage.showView(WorkbenchPage.java:3145)</Frame>
          <Frame depth="16">org.eclipse.ui.internal.WorkbenchPage.showView(WorkbenchPage.java:3123)</Frame>
          <Frame depth="17">org.eclipse.hyades.trace.views.actions.internal.OpenCoverageViewAction.run(OpenCoverageViewAction.java:80)</Frame>
          <Frame depth="18">org.eclipse.hyades.trace.views.actions.internal.OpenCoverageViewAction.run(OpenCoverageViewAction.java:109)</Frame>
          <Frame depth="19">org.eclipse.ui.internal.PluginAction.runWithEvent(PluginAction.java:246)</Frame>
          <Frame depth="20">org.eclipse.ui.internal.WWinPluginAction.runWithEvent(WWinPluginAction.java:223)</Frame>
          <Frame depth="21">org.eclipse.jface.action.ActionContributionItem.handleWidgetSelection(ActionContributionItem.java:538)</Frame>
          <Frame depth="22">org.eclipse.jface.action.ActionContributionItem.access$2(ActionContributionItem.java:488)</Frame>
          <Frame depth="23">org.eclipse.jface.action.ActionContributionItem$6.handleEvent(ActionContributionItem.java:441)</Frame>
          <Frame depth="24">org.eclipse.swt.widgets.EventTable.sendEvent(EventTable.java(Compiled Code))</Frame>
          <Frame depth="25">org.eclipse.swt.widgets.Widget.sendEvent(Widget.java(Inlined Compiled Code))</Frame>
          <Frame depth="26">org.eclipse.swt.widgets.Display.runDeferredEvents(Display.java(Compiled Code))</Frame>
          <Frame depth="27">org.eclipse.swt.widgets.Display.readAndDispatch(Display.java(Compiled Code))</Frame>
          <Frame depth="28">org.eclipse.ui.internal.Workbench.runEventLoop(Workbench.java(Compiled Code))</Frame>
          <Frame depth="29">org.eclipse.ui.internal.Workbench.runUI(Workbench.java:1663)</Frame>
          <Frame depth="30">org.eclipse.ui.internal.Workbench.createAndRunWorkbench(Workbench.java:367)</Frame>
          <Frame depth="31">org.eclipse.ui.PlatformUI.createAndRunWorkbench(PlatformUI.java:143)</Frame>
          <Frame depth="32">org.eclipse.ui.internal.ide.IDEApplication.run(IDEApplication.java:103)</Frame>
          <Frame depth="33">org.eclipse.core.internal.runtime.PlatformActivator$1.run(PlatformActivator.java:226)</Frame>
          <Frame depth="34">org.eclipse.core.runtime.adaptor.EclipseStarter.run(EclipseStarter.java:376)</Frame>
          <Frame depth="35">org.eclipse.core.runtime.adaptor.EclipseStarter.run(EclipseStarter.java:163)</Frame>
          <Frame depth="36">sun.reflect.NativeMethodAccessorImpl.invoke0(Native Method)</Frame>
          <Frame depth="37">sun.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:84)</Frame>
          <Frame depth="38">sun.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:57)</Frame>
          <Frame depth="39">sun.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:59)</Frame>
          <Frame depth="40">java.lang.reflect.Method.invoke(Method.java:390)</Frame>
          <Frame depth="41">org.eclipse.core.launcher.Main.invokeFramework(Main.java:334)</Frame>
          <Frame depth="42">org.eclipse.core.launcher.Main.basicRun(Main.java:278)</Frame>
          <Frame depth="43">org.eclipse.core.launcher.Main.run(Main.java:973)</Frame>
          <Frame depth="44">org.eclipse.core.launcher.Main.main(Main.java:948)</Frame>
        </Frames>
      </Stacktrace>
    </Stacktraces>
    <SourceCodeRegions amount="0" />
    <Enumerations amount="0" />
    <bug_status amount="CLOSED" />
    <resolution amount="FIXED" />
    <WithStack>to reproduece:
&gt;launch a fresh workbench
&gt;attach to a trace, and set it profile to file
&gt;once trace attached in monitor view, open any statistic view.
&gt; following exception is thrown:

java.lang.NullPointerException
	at
org.eclipse.hyades.trace.views.internal.StatisticView.update(StatisticView.java:840)
	at
org.eclipse.hyades.trace.views.internal.MultiLevelStatisticView.update(MultiLevelStatisticView.java:740)
	at
org.eclipse.hyades.trace.views.internal.StatisticView.updateUI(StatisticView.java:781)
	at
org.eclipse.hyades.trace.views.adapter.internal.MultiLevelStatisticPage.update(MultiLevelStatisticPage.java:144)
	at org.eclipse.hyades.trace.ui.TraceViewer.addViewPage(TraceViewer.java:195)
	at org.eclipse.hyades.trace.ui.TraceViewer.addViewPage(TraceViewer.java:209)
	at org.eclipse.hyades.trace.ui.TraceViewer.createPartControl(TraceViewer.java:253)
	at org.eclipse.ui.internal.ViewReference.createPartHelper(ViewReference.java:305)
	at org.eclipse.ui.internal.ViewReference.createPart(ViewReference.java:180)
	at
org.eclipse.ui.internal.WorkbenchPartReference.getPart(WorkbenchPartReference.java:552)
	at org.eclipse.ui.internal.Perspective.showView(Perspective.java:1655)
	at org.eclipse.ui.internal.WorkbenchPage.busyShowView(WorkbenchPage.java:930)
	at org.eclipse.ui.internal.WorkbenchPage.access$12(WorkbenchPage.java:913)
	at org.eclipse.ui.internal.WorkbenchPage$13.run(WorkbenchPage.java:3148)
	at org.eclipse.swt.custom.BusyIndicator.showWhile(BusyIndicator.java:69)
	at org.eclipse.ui.internal.WorkbenchPage.showView(WorkbenchPage.java:3145)
	at org.eclipse.ui.internal.WorkbenchPage.showView(WorkbenchPage.java:3123)
	at
org.eclipse.hyades.trace.views.actions.internal.OpenCoverageViewAction.run(OpenCoverageViewAction.java:80)
	at
org.eclipse.hyades.trace.views.actions.internal.OpenCoverageViewAction.run(OpenCoverageViewAction.java:109)
	at org.eclipse.ui.internal.PluginAction.runWithEvent(PluginAction.java:246)
	at org.eclipse.ui.internal.WWinPluginAction.runWithEvent(WWinPluginAction.java:223)
	at
org.eclipse.jface.action.ActionContributionItem.handleWidgetSelection(ActionContributionItem.java:538)
	at
org.eclipse.jface.action.ActionContributionItem.access$2(ActionContributionItem.java:488)
	at
org.eclipse.jface.action.ActionContributionItem$6.handleEvent(ActionContributionItem.java:441)
	at org.eclipse.swt.widgets.EventTable.sendEvent(EventTable.java(Compiled Code))
	at org.eclipse.swt.widgets.Widget.sendEvent(Widget.java(Inlined Compiled Code))
	at org.eclipse.swt.widgets.Display.runDeferredEvents(Display.java(Compiled Code))
	at org.eclipse.swt.widgets.Display.readAndDispatch(Display.java(Compiled Code))
	at org.eclipse.ui.internal.Workbench.runEventLoop(Workbench.java(Compiled Code))
	at org.eclipse.ui.internal.Workbench.runUI(Workbench.java:1663)
	at org.eclipse.ui.internal.Workbench.createAndRunWorkbench(Workbench.java:367)
	at org.eclipse.ui.PlatformUI.createAndRunWorkbench(PlatformUI.java:143)
	at org.eclipse.ui.internal.ide.IDEApplication.run(IDEApplication.java:103)
	at
org.eclipse.core.internal.runtime.PlatformActivator$1.run(PlatformActivator.java:226)
	at org.eclipse.core.runtime.adaptor.EclipseStarter.run(EclipseStarter.java:376)
	at org.eclipse.core.runtime.adaptor.EclipseStarter.run(EclipseStarter.java:163)
	at sun.reflect.NativeMethodAccessorImpl.invoke0(Native Method)
	at
sun.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:84)
	at sun.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:57)
	at
sun.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:59)
	at java.lang.reflect.Method.invoke(Method.java:390)
	at org.eclipse.core.launcher.Main.invokeFramework(Main.java:334)
	at org.eclipse.core.launcher.Main.basicRun(Main.java:278)
	at org.eclipse.core.launcher.Main.run(Main.java:973)
	at org.eclipse.core.launcher.Main.main(Main.java:948)
fixed
verified and fixed in tptp.runtime-TPTP-4.1.0-200508260100</WithStack>
    <WithOutStack>to reproduece:
&gt;launch a fresh workbench
&gt;attach to a trace, and set it profile to file
&gt;once trace attached in monitor view, open any statistic view.
&gt; following exception is thrown:


fixed
verified and fixed in tptp.runtime-TPTP-4.1.0-200508260100</WithOutStack>
  </Bug>
  <Bug>
    <BugId amount="107659" />
    <CreationDate amount="2005-08-22 15:10:00 -0400" />
    <DupId amount="" />
    <classification amount="Mylyn" />
    <Product amount="Mylyn" />
    <component amount="Tasks" />
    <Version amount="unspecified" />
    <rep_platform amount="Other" />
    <op_sys amount="other" />
    <priority amount="P2" />
    <bug_severity amount="normal" />
    <Summery>make sure that tooltip works for bugzilla hits</Summery>
    <Patches amount="0" />
    <Stacktraces amount="0" />
    <SourceCodeRegions amount="0" />
    <Enumerations amount="0" />
    <bug_status amount="RESOLVED" />
    <resolution amount="FIXED" />
    <WithStack>Should work for all ITaskListElement's.
This is fixed.  BugzillaHit was only returning a tooltip if there was an associated
task (The tooltip for that task).  Now they return the label if there is no
task</WithStack>
    <WithOutStack>Should work for all ITaskListElement's.
This is fixed.  BugzillaHit was only returning a tooltip if there was an associated
task (The tooltip for that task).  Now they return the label if there is no
task</WithOutStack>
  </Bug>
  <Bug>
    <BugId amount="107660" />
    <CreationDate amount="2005-08-22 15:14:00 -0400" />
    <DupId amount="" />
    <classification amount="Eclipse" />
    <Product amount="Platform" />
    <component amount="UI" />
    <Version amount="3.1" />
    <rep_platform amount="All" />
    <op_sys amount="All" />
    <priority amount="P3" />
    <bug_severity amount="normal" />
    <Summery>[Themes] Busy cursor on Font Editing doesn't go away</Summery>
    <Patches amount="0" />
    <Stacktraces amount="0" />
    <SourceCodeRegions amount="0" />
    <Enumerations amount="0" />
    <bug_status amount="VERIFIED" />
    <resolution amount="FIXED" />
    <WithStack>a busy cursor was introduced on the opening of the font dialog to address some slowness on OS X.  
Unfortunately, the slow part was opening the font editing dialog.  This meant the busy cursor was set as 
the dialog opened and remained until it was closed, giving the impression that the app was busy when it 
was not.  This slowness has since been addressed (presumably by SWT, but possibly by Apple) so the busy 
cursor should be removed.
Fix in HEAD.
Verified in I20050920-0010</WithStack>
    <WithOutStack>a busy cursor was introduced on the opening of the font dialog to address some slowness on OS X.  
Unfortunately, the slow part was opening the font editing dialog.  This meant the busy cursor was set as 
the dialog opened and remained until it was closed, giving the impression that the app was busy when it 
was not.  This slowness has since been addressed (presumably by SWT, but possibly by Apple) so the busy 
cursor should be removed.
Fix in HEAD.
Verified in I20050920-0010</WithOutStack>
  </Bug>
  <Bug>
    <BugId amount="107661" />
    <CreationDate amount="2005-08-22 15:36:00 -0400" />
    <DupId amount="65310" />
    <classification amount="Eclipse" />
    <Product amount="JDT" />
    <component amount="Text" />
    <Version amount="3.1" />
    <rep_platform amount="PC" />
    <op_sys amount="Windows 2000" />
    <priority amount="P3" />
    <bug_severity amount="normal" />
    <Summery>JavaDoc view and JavaDoc hover doesn't show images</Summery>
    <Patches amount="0" />
    <Stacktraces amount="0" />
    <SourceCodeRegions amount="2">
      <source_code type="multicomment">
        <location start="338" end="411" />
        <code>/**
 * Some message text
 * &lt;p&gt;
 * &lt;img src="doc-files/diagram.gif"&gt;

*/</code>
      </source_code>
      <source_code type="functiondef">
        <location start="412" end="433" />
        <code>void someMethod() {
}</code>
      </source_code>
    </SourceCodeRegions>
    <Enumerations amount="0" />
    <bug_status amount="RESOLVED" />
    <resolution amount="DUPLICATE" />
    <WithStack>Since JavaDoc view and JavaDoc hover both using IE on Windows to show rich html
it is expectable to see images referenced in JavaDoc declaration.

For example
for the following method JavaDoc I only see broken image placeholder. diagram.gif
is actually in doc-files folder within package folder and IE actually able to
show it correctly.

/**
 * Some message text
 * &lt;p&gt;
 * &lt;img src="doc-files/diagram.gif"&gt;

*/
void someMethod() {
}
Note: the normal Javadoc hover uses a text widget. Only if you use F2 it uses
the Browser widget.


*** This bug has been marked as a duplicate of 65310 ***
I'd be fine if F2 would use text widget with simplified formatting and
heawiweight JavaDoc correctly shown in JavaDoc view...</WithStack>
    <WithOutStack>Since JavaDoc view and JavaDoc hover both using IE on Windows to show rich html
it is expectable to see images referenced in JavaDoc declaration.

For example
for the following method JavaDoc I only see broken image placeholder. diagram.gif
is actually in doc-files folder within package folder and IE actually able to
show it correctly.

/**
 * Some message text
 * &lt;p&gt;
 * &lt;img src="doc-files/diagram.gif"&gt;

*/
void someMethod() {
}
Note: the normal Javadoc hover uses a text widget. Only if you use F2 it uses
the Browser widget.


*** This bug has been marked as a duplicate of 65310 ***
I'd be fine if F2 would use text widget with simplified formatting and
heawiweight JavaDoc correctly shown in JavaDoc view...</WithOutStack>
  </Bug>
  <Bug>
    <BugId amount="107662" />
    <CreationDate amount="2005-08-22 15:36:00 -0400" />
    <DupId amount="104033" />
    <classification amount="WebTools" />
    <Product amount="WTP Webservices" />
    <component amount="wst.wsdl" />
    <Version amount="1.0" />
    <rep_platform amount="All" />
    <op_sys amount="Windows 2000" />
    <priority amount="P3" />
    <bug_severity amount="major" />
    <Summery>wsdl validation errors</Summery>
    <Patches amount="0" />
    <Stacktraces amount="0" />
    <SourceCodeRegions amount="0" />
    <Enumerations amount="0" />
    <bug_status amount="CLOSED" />
    <resolution amount="DUPLICATE" />
    <WithStack>Run headless deploy on the attached test case and we get this error during
validation.  This is using wtp 8/22

Validating com.ibm.websphere.samples.bank.ejb.BankListenerBean.
  Validation of BankCMRQLEJB by EJB Validator is complete. All known problems 
have been reported.
[*Information] ejbModule/com/ibm/websphere/samples/bank/ejb/Customer.java(55): 
CHKJ2500I: java.util.Collection must be serializable at runtime (EJB 2.0: 
10.6.9).
[*Error] ejbModule/META-INF/wsdl/Transfer_SEI.wsdl(1): The namespace null 
specified is not a valid WSDL namespace.
[*Error] An unexpected exception was thrown.  Halting execution.
Shutting down workbench.
Created attachment 26353
ear test case

ear test case
This sounds like a dup of 104033.


*** This bug has been marked as a duplicate of 104033 ***
This is part of a mass update to close out all stale WTP defects already verified by the reporter but awaiting closure by the assignee.  If you feel this defect was closed inappropriately, please reopen.

Thanks, John Lanuti</WithStack>
    <WithOutStack>Run headless deploy on the attached test case and we get this error during
validation.  This is using wtp 8/22

Validating com.ibm.websphere.samples.bank.ejb.BankListenerBean.
  Validation of BankCMRQLEJB by EJB Validator is complete. All known problems 
have been reported.
[*Information] ejbModule/com/ibm/websphere/samples/bank/ejb/Customer.java(55): 
CHKJ2500I: java.util.Collection must be serializable at runtime (EJB 2.0: 
10.6.9).
[*Error] ejbModule/META-INF/wsdl/Transfer_SEI.wsdl(1): The namespace null 
specified is not a valid WSDL namespace.
[*Error] An unexpected exception was thrown.  Halting execution.
Shutting down workbench.
Created attachment 26353
ear test case

ear test case
This sounds like a dup of 104033.


*** This bug has been marked as a duplicate of 104033 ***
This is part of a mass update to close out all stale WTP defects already verified by the reporter but awaiting closure by the assignee.  If you feel this defect was closed inappropriately, please reopen.

Thanks, John Lanuti</WithOutStack>
  </Bug>
  <Bug>
    <BugId amount="107663" />
    <CreationDate amount="2005-08-22 15:43:00 -0400" />
    <DupId amount="" />
    <classification amount="Eclipse Foundation" />
    <Product amount="z_Archived" />
    <component amount="VE" />
    <Version amount="unspecified" />
    <rep_platform amount="PC" />
    <op_sys amount="Windows XP" />
    <priority amount="P3" />
    <bug_severity amount="normal" />
    <Summery>Undo of move of a container does not get moved back on undo.</Summery>
    <Patches amount="0" />
    <Stacktraces amount="0" />
    <SourceCodeRegions amount="0" />
    <Enumerations amount="0" />
    <bug_status amount="CLOSED" />
    <resolution amount="FIXED" />
    <WithStack>Take the example project that I'll attach. (Make sure you catch up first, needed
to release some other new code to get even this far). Then just drag
testComposite under fillLayout on FromShell and drop on fillLayoutTo in ToShell.
Then hit undo. The testComposite disappears in the model from fillLayoutTo but
doesn't show up in fillLayout.
Created attachment 26354
Project zip
Basically codegen was not handling the possibility moving a container within
containers for SWT. Added logic to handle such cases. Releasing classes
BDMMerger.java
AbstractContainerAddDecoderHelper.java
ConstructorDecoderHelper.java
CompositeAddDecoderHelper.java
SWTConstructorDecoderHelper.java

Forgot to mark as FIXED
verified with M20050824
closing</WithStack>
    <WithOutStack>Take the example project that I'll attach. (Make sure you catch up first, needed
to release some other new code to get even this far). Then just drag
testComposite under fillLayout on FromShell and drop on fillLayoutTo in ToShell.
Then hit undo. The testComposite disappears in the model from fillLayoutTo but
doesn't show up in fillLayout.
Created attachment 26354
Project zip
Basically codegen was not handling the possibility moving a container within
containers for SWT. Added logic to handle such cases. Releasing classes
BDMMerger.java
AbstractContainerAddDecoderHelper.java
ConstructorDecoderHelper.java
CompositeAddDecoderHelper.java
SWTConstructorDecoderHelper.java

Forgot to mark as FIXED
verified with M20050824
closing</WithOutStack>
  </Bug>
  <Bug>
    <BugId amount="107664" />
    <CreationDate amount="2005-08-22 15:52:00 -0400" />
    <DupId amount="" />
    <classification amount="WebTools" />
    <Product amount="WTP Java EE Tools" />
    <component amount="jst.j2ee" />
    <Version amount="0.7" />
    <rep_platform amount="PC" />
    <op_sys amount="Windows XP" />
    <priority amount="P3" />
    <bug_severity amount="minor" />
    <Summery>&lt;reentrant&gt;False&lt;/reentrant&gt;</Summery>
    <Patches amount="0" />
    <Stacktraces amount="0" />
    <SourceCodeRegions amount="0" />
    <Enumerations amount="0" />
    <bug_status amount="CLOSED" />
    <resolution amount="INVALID" />
    <WithStack>I always get an error when I use annotation in my EJB project :
In the ejb-jar.xml, ejb-jar/entreprise-beans/entity/reentrant, the xdoclet (or
something else ?) generate always &lt;reentrant&gt;False&lt;/reentrant&gt; ('False' is
wrong, must be 'false') and I must always rename 'False' to 'false' manually.
ejb-jar.xml is generated by xdoclet.  Please report the bug in that project. 
Thank you
This bug was moved to 'closed' state, since it is so old and since it is a dup, worksforme, invalid bug that its unlikely to still be useful or need further attention. Feel free to re-open, or open a new bug, if this semi-automatic processing was done in error.</WithStack>
    <WithOutStack>I always get an error when I use annotation in my EJB project :
In the ejb-jar.xml, ejb-jar/entreprise-beans/entity/reentrant, the xdoclet (or
something else ?) generate always &lt;reentrant&gt;False&lt;/reentrant&gt; ('False' is
wrong, must be 'false') and I must always rename 'False' to 'false' manually.
ejb-jar.xml is generated by xdoclet.  Please report the bug in that project. 
Thank you
This bug was moved to 'closed' state, since it is so old and since it is a dup, worksforme, invalid bug that its unlikely to still be useful or need further attention. Feel free to re-open, or open a new bug, if this semi-automatic processing was done in error.</WithOutStack>
  </Bug>
  <Bug>
    <BugId amount="107665" />
    <CreationDate amount="2005-08-22 16:09:00 -0400" />
    <DupId amount="" />
    <classification amount="Modeling" />
    <Product amount="MDT.UML2" />
    <component amount="Core" />
    <Version amount="1.1.0" />
    <rep_platform amount="PC" />
    <op_sys amount="Windows XP" />
    <priority amount="P3" />
    <bug_severity amount="normal" />
    <Summery>NPE in UML22Ecore converter if (duplicate) type is null</Summery>
    <Patches amount="0" />
    <Stacktraces amount="0" />
    <SourceCodeRegions amount="0" />
    <Enumerations amount="0" />
    <bug_status amount="VERIFIED" />
    <resolution amount="FIXED" />
    <WithStack>A null pointer exception will occur during the processing of duplicates 
(features or operations) if the type of either feature/operation is null. Note 
that it is valid for operations to have a null type (i.e. in the case of no 
return result).
The fix has been committed to CVS.
The fix is available in build M200508251101.
Move to verified as per bug 206558.</WithStack>
    <WithOutStack>A null pointer exception will occur during the processing of duplicates 
(features or operations) if the type of either feature/operation is null. Note 
that it is valid for operations to have a null type (i.e. in the case of no 
return result).
The fix has been committed to CVS.
The fix is available in build M200508251101.
Move to verified as per bug 206558.</WithOutStack>
  </Bug>
  <Bug>
    <BugId amount="107666" />
    <CreationDate amount="2005-08-22 16:09:00 -0400" />
    <DupId amount="" />
    <classification amount="Eclipse Foundation" />
    <Product amount="z_Archived" />
    <component amount="VE" />
    <Version amount="unspecified" />
    <rep_platform amount="PC" />
    <op_sys amount="Windows XP" />
    <priority amount="P3" />
    <bug_severity amount="normal" />
    <Summery>Orphan/Add on GridLayout has problems</Summery>
    <Patches amount="0" />
    <Stacktraces amount="0" />
    <SourceCodeRegions amount="0" />
    <Enumerations amount="0" />
    <bug_status amount="CLOSED" />
    <resolution amount="FIXED" />
    <WithStack>Created attachment 26356
Project zip
Orphan didn't call the orphan request on the container policy, and Add just
wouldn't let me drop at all.
If you catch up, I fixed Orphan. Just need to work on Add.
I overrode the getAddCommand method and forwarded it onto the getMoveCommand
method which does 95% of the same processing. I had to put some ugly checks to
see if it's an add request, not a move request to avoid some extra processing
the move does (e.g. inserting fillers where the move control was originally, etc.).

This should be refactored in 1.2 to separate the helper stuff from the main
layout edit policy so that the beans viewer can be used as well as the graph view.

Released to HEAD for 1.1.0.1
verified in M20040824
closing</WithStack>
    <WithOutStack>Created attachment 26356
Project zip
Orphan didn't call the orphan request on the container policy, and Add just
wouldn't let me drop at all.
If you catch up, I fixed Orphan. Just need to work on Add.
I overrode the getAddCommand method and forwarded it onto the getMoveCommand
method which does 95% of the same processing. I had to put some ugly checks to
see if it's an add request, not a move request to avoid some extra processing
the move does (e.g. inserting fillers where the move control was originally, etc.).

This should be refactored in 1.2 to separate the helper stuff from the main
layout edit policy so that the beans viewer can be used as well as the graph view.

Released to HEAD for 1.1.0.1
verified in M20040824
closing</WithOutStack>
  </Bug>
  <Bug>
    <BugId amount="107667" />
    <CreationDate amount="2005-08-22 16:12:00 -0400" />
    <DupId amount="" />
    <classification amount="Tools" />
    <Product amount="TPTP Profiling" />
    <component amount="Platform.Doc" />
    <Version amount="4.1" />
    <rep_platform amount="PC" />
    <op_sys amount="Windows 2000" />
    <priority amount="P2" />
    <bug_severity amount="normal" />
    <Summery>[DOC] Update documentation to cover the work done in  feature 50681</Summery>
    <Patches amount="0" />
    <Stacktraces amount="0" />
    <SourceCodeRegions amount="0" />
    <Enumerations amount="0" />
    <bug_status amount="CLOSED" />
    <resolution amount="FIXED" />
    <WithStack>Reassigning as per my "Change in TPTP documentation process for IBMers" email.
Setting target to "---" to reflect that the new owner needs to choose when this
fits in their schedule.
i3 is allocated for any unsolved defect in i2, there should have no defect
assign to i3 for now.
Finished.
Reviewed Alex's doc and after discussing it with him, made some slight
adjustments and checked it into CVS under this defect.
As of TPTP 4.6.0, TPTP is in maintenance mode and focusing on improving quality by resolving relevant enhancements/defects and increasing test coverage through test creation, automation, Build Verification Tests (BVTs), and expanded run-time execution. As part of the TPTP Bugzilla housecleaning process (see http://wiki.eclipse.org/Bugzilla_Housecleaning_Processes), this enhancement/defect is verified/closed by the Project Lead since this enhancement/defect has been resolved and unverified for more than 1 year and considered to be fixed. If this enhancement/defect is still unresolved and reproducible in the latest TPTP release (http://www.eclipse.org/tptp/home/downloads/), please re-open.</WithStack>
    <WithOutStack>Reassigning as per my "Change in TPTP documentation process for IBMers" email.
Setting target to "---" to reflect that the new owner needs to choose when this
fits in their schedule.
i3 is allocated for any unsolved defect in i2, there should have no defect
assign to i3 for now.
Finished.
Reviewed Alex's doc and after discussing it with him, made some slight
adjustments and checked it into CVS under this defect.
As of TPTP 4.6.0, TPTP is in maintenance mode and focusing on improving quality by resolving relevant enhancements/defects and increasing test coverage through test creation, automation, Build Verification Tests (BVTs), and expanded run-time execution. As part of the TPTP Bugzilla housecleaning process (see http://wiki.eclipse.org/Bugzilla_Housecleaning_Processes), this enhancement/defect is verified/closed by the Project Lead since this enhancement/defect has been resolved and unverified for more than 1 year and considered to be fixed. If this enhancement/defect is still unresolved and reproducible in the latest TPTP release (http://www.eclipse.org/tptp/home/downloads/), please re-open.</WithOutStack>
  </Bug>
  <Bug>
    <BugId amount="107668" />
    <CreationDate amount="2005-08-22 16:17:00 -0400" />
    <DupId amount="260762" />
    <classification amount="Eclipse" />
    <Product amount="Platform" />
    <component amount="User Assistance" />
    <Version amount="3.2" />
    <rep_platform amount="PC" />
    <op_sys amount="Windows 2000" />
    <priority amount="P3" />
    <bug_severity amount="enhancement" />
    <Summery>[Webapp] UI and function to initiate search of topics from navigation tree entry "downward" through nested children</Summery>
    <Patches amount="0" />
    <Stacktraces amount="0" />
    <SourceCodeRegions amount="0" />
    <Enumerations amount="0" />
    <bug_status amount="RESOLVED" />
    <resolution amount="DUPLICATE" />
    <WithStack>Item related to scoped search, improvement of ease of use of searching
information within the webapp help system.

Problem space is the user scenario where a user has been browsing through the
navigation tree and has found a section of topics and wants to search only
through that hierarchical branch. Maybe he's tired of the slowness of browsing
and reading in the hierarchy and wants to now use the quickness of search--but
doesn't want the search results to return the topics he's already browsed
through. Currently, the user has to leave his "browsing for information" task,
go to the search scope, and drill down in that dialog through the headings to
scope his search to the point in the navigation tree where he had been. This is
error prone because he might forget where he had been in the navigation tree and
choose the wrong path in the Search scope dialog.

Alternative is that instead of having to go into the Search scope dialog,
provide ability for user to initiate the scoped search at the heading of the
topic in the tree and have the search scoped to the topics that are nested
"underneath" that branch.

Requested same function across all help system webapp scenarios
(standalone/infocenter/integrated).

Eclipse theme: Simple to Use

--Lee Anne
IBM User Assistance Technologies


*** This bug has been marked as a duplicate of bug 260762 ***</WithStack>
    <WithOutStack>Item related to scoped search, improvement of ease of use of searching
information within the webapp help system.

Problem space is the user scenario where a user has been browsing through the
navigation tree and has found a section of topics and wants to search only
through that hierarchical branch. Maybe he's tired of the slowness of browsing
and reading in the hierarchy and wants to now use the quickness of search--but
doesn't want the search results to return the topics he's already browsed
through. Currently, the user has to leave his "browsing for information" task,
go to the search scope, and drill down in that dialog through the headings to
scope his search to the point in the navigation tree where he had been. This is
error prone because he might forget where he had been in the navigation tree and
choose the wrong path in the Search scope dialog.

Alternative is that instead of having to go into the Search scope dialog,
provide ability for user to initiate the scoped search at the heading of the
topic in the tree and have the search scoped to the topics that are nested
"underneath" that branch.

Requested same function across all help system webapp scenarios
(standalone/infocenter/integrated).

Eclipse theme: Simple to Use

--Lee Anne
IBM User Assistance Technologies


*** This bug has been marked as a duplicate of bug 260762 ***</WithOutStack>
  </Bug>
  <Bug>
    <BugId amount="107669" />
    <CreationDate amount="2005-08-22 16:26:00 -0400" />
    <DupId amount="" />
    <classification amount="Eclipse" />
    <Product amount="Platform" />
    <component amount="User Assistance" />
    <Version amount="3.2" />
    <rep_platform amount="PC" />
    <op_sys amount="Windows 2000" />
    <priority amount="P3" />
    <bug_severity amount="enhancement" />
    <Summery>[Webapp] Improve error and log messages for help system webapp</Summery>
    <Patches amount="0" />
    <Stacktraces amount="0" />
    <SourceCodeRegions amount="0" />
    <Enumerations amount="0" />
    <bug_status amount="NEW" />
    <resolution amount="" />
    <WithStack>Our adopters that use the help system webapp in standalone/infocenter scenarios
have identified places where error messages and log messages can be improved to
enable them to debug more easily and recover from problematic situations:
•	Standalone/infocenter mode: we’re using command line commands to start up in
this mode. Users have requested a feedback response message such as “Help system
started successfully” or “Error: xxxx. See xxx log file for more information” to
be displayed back.
•	When a user goes to a topic from a search result that is not in the navigation
tree and uses the Show in Table of Contents button, there is no error message
window to say “This topic is not in the table of contents, so you cannot show it
in the table of contents”. There is some indication in the browser status
message bar; however, many end users miss this message. The requirement is to
have such an error message box be displayed.
•	Log errors for fragments. When an error with an NL fragment occurs, the
message written to the log file does not indicate that the error occurred in the
fragment. Requirement requested is that when the error is written, it includes
the path to the actual file that failed.

The problem to be solved is that many adopters can debug and address problems in
their setup if they can see from the error messages or log messages more clearly
where the problem is occurring. This could in turn reduce the number of bugs
posted to Eclipse Bugzilla due to symptoms in setups, etc.

--Lee Anne Kowalski
IBM User Assistance Technologies</WithStack>
    <WithOutStack>Our adopters that use the help system webapp in standalone/infocenter scenarios
have identified places where error messages and log messages can be improved to
enable them to debug more easily and recover from problematic situations:
•	Standalone/infocenter mode: we’re using command line commands to start up in
this mode. Users have requested a feedback response message such as “Help system
started successfully” or “Error: xxxx. See xxx log file for more information” to
be displayed back.
•	When a user goes to a topic from a search result that is not in the navigation
tree and uses the Show in Table of Contents button, there is no error message
window to say “This topic is not in the table of contents, so you cannot show it
in the table of contents”. There is some indication in the browser status
message bar; however, many end users miss this message. The requirement is to
have such an error message box be displayed.
•	Log errors for fragments. When an error with an NL fragment occurs, the
message written to the log file does not indicate that the error occurred in the
fragment. Requirement requested is that when the error is written, it includes
the path to the actual file that failed.

The problem to be solved is that many adopters can debug and address problems in
their setup if they can see from the error messages or log messages more clearly
where the problem is occurring. This could in turn reduce the number of bugs
posted to Eclipse Bugzilla due to symptoms in setups, etc.

--Lee Anne Kowalski
IBM User Assistance Technologies</WithOutStack>
  </Bug>
  <Bug>
    <BugId amount="107670" />
    <CreationDate amount="2005-08-22 16:39:00 -0400" />
    <DupId amount="" />
    <classification amount="Eclipse" />
    <Product amount="Platform" />
    <component amount="User Assistance" />
    <Version amount="3.2" />
    <rep_platform amount="PC" />
    <op_sys amount="Windows 2000" />
    <priority amount="P3" />
    <bug_severity amount="enhancement" />
    <Summery>[Help] Provide attribute for doc plugin author to indicate navigation entry should open outside of webapp</Summery>
    <Patches amount="0" />
    <Stacktraces amount="0" />
    <SourceCodeRegions amount="0" />
    <Enumerations amount="0" />
    <bug_status amount="NEW" />
    <resolution amount="" />
    <WithStack>Problem scenario to be addressed: sometimes doc plug-in developers and authors
must include entries in the navigation that go to content that is remote to the
help system: PDFs, other web sites. They want the entry to be shown in the
hierarchy, to show it in context as the user is learning the subject, so that
the user sees that such valuable information exists.

For example, the Workbench navigation tree might want to show the titles of the
articles at eclipse.org as entries in the contents. However, if the URL to
eclipse.org is put as the href of the &lt;topic&gt;, the frameset of the eclipse.org
site then gets loaded into the contents pane. This makes it hard for the user to
use the loaded "page" because there are now multiple framed designs to deal with.

This request for enhancement is to have an optional attribute on the toc.xml
entry where the doc plugin developer can specify that particular href (URLs,
PDFs, etc) should be opened in a new noframes browser window.

--Lee Anne Kowalski
IBM User Assistance Technologies</WithStack>
    <WithOutStack>Problem scenario to be addressed: sometimes doc plug-in developers and authors
must include entries in the navigation that go to content that is remote to the
help system: PDFs, other web sites. They want the entry to be shown in the
hierarchy, to show it in context as the user is learning the subject, so that
the user sees that such valuable information exists.

For example, the Workbench navigation tree might want to show the titles of the
articles at eclipse.org as entries in the contents. However, if the URL to
eclipse.org is put as the href of the &lt;topic&gt;, the frameset of the eclipse.org
site then gets loaded into the contents pane. This makes it hard for the user to
use the loaded "page" because there are now multiple framed designs to deal with.

This request for enhancement is to have an optional attribute on the toc.xml
entry where the doc plugin developer can specify that particular href (URLs,
PDFs, etc) should be opened in a new noframes browser window.

--Lee Anne Kowalski
IBM User Assistance Technologies</WithOutStack>
  </Bug>
  <Bug>
    <BugId amount="107671" />
    <CreationDate amount="2005-08-22 16:41:00 -0400" />
    <DupId amount="" />
    <classification amount="Eclipse" />
    <Product amount="Platform" />
    <component amount="UI" />
    <Version amount="3.1" />
    <rep_platform amount="PC" />
    <op_sys amount="Windows XP" />
    <priority amount="P3" />
    <bug_severity amount="normal" />
    <Summery>[Workbench] Problems occurred when invoking code from plug-in: "org.eclipse.jface".</Summery>
    <Patches amount="0" />
    <Stacktraces amount="1">
      <Stacktrace timestamp="1437330570168">
        <Exception>java.lang.IndexOutOfBoundsException</Exception>
        <Reason>Index: -1, Size: 18</Reason>
        <Frames>
          <Frame depth="0">java.util.ArrayList.RangeCheck(ArrayList.java(Inlined Compiled Code))</Frame>
          <Frame depth="1">java.util.ArrayList.get(ArrayList.java(Compiled Code))</Frame>
          <Frame depth="2">org.eclipse.ui.internal.WorkbenchPage$ActivationList.bringToTop(WorkbenchPage.java:3499)</Frame>
          <Frame depth="3">org.eclipse.ui.internal.WorkbenchPage.internalBringToTop(WorkbenchPage.java:726)</Frame>
          <Frame depth="4">org.eclipse.ui.internal.WorkbenchPage.activate(WorkbenchPage.java:551)</Frame>
          <Frame depth="5">org.eclipse.ui.internal.WorkbenchPage.showEditor(WorkbenchPage.java:2351)</Frame>
          <Frame depth="6">org.eclipse.ui.internal.WorkbenchPage.busyOpenEditorBatched(WorkbenchPage.java:2314)</Frame>
          <Frame depth="7">org.eclipse.ui.internal.WorkbenchPage.busyOpenEditor(WorkbenchPage.java:2258)</Frame>
          <Frame depth="8">org.eclipse.ui.internal.WorkbenchPage.access$9(WorkbenchPage.java:2250)</Frame>
          <Frame depth="9">org.eclipse.ui.internal.WorkbenchPage$9.run(WorkbenchPage.java:2236)</Frame>
          <Frame depth="10">org.eclipse.swt.custom.BusyIndicator.showWhile(BusyIndicator.java:69)</Frame>
          <Frame depth="11">org.eclipse.ui.internal.WorkbenchPage.openEditor(WorkbenchPage.java:2231)</Frame>
          <Frame depth="12">org.eclipse.ui.internal.WorkbenchPage.openEditor(WorkbenchPage.java:2212)</Frame>
          <Frame depth="13">org.eclipse.ui.ide.IDE.openEditor(IDE.java:371)</Frame>
          <Frame depth="14">org.eclipse.ui.ide.IDE.openEditor(IDE.java:334)</Frame>
          <Frame depth="15">org.eclipse.ui.actions.OpenFileAction.openFile(OpenFileAction.java:98)</Frame>
          <Frame depth="16">org.eclipse.ui.actions.OpenSystemEditorAction.run(OpenSystemEditorAction.java:98)</Frame>
          <Frame depth="17">org.eclipse.ui.views.navigator.OpenActionGroup.runDefaultAction(OpenActionGroup.java:120)</Frame>
          <Frame depth="18">org.eclipse.ui.views.navigator.MainActionGroup.runDefaultAction(MainActionGroup.java:326)</Frame>
          <Frame depth="19">org.eclipse.ui.views.navigator.ResourceNavigator.handleOpen(ResourceNavigator.java:650)</Frame>
          <Frame depth="20">org.eclipse.ui.views.navigator.ResourceNavigator$6.open(ResourceNavigator.java:409)</Frame>
          <Frame depth="21">org.eclipse.jface.viewers.StructuredViewer$2.run(StructuredViewer.java:741)</Frame>
          <Frame depth="22">org.eclipse.core.internal.runtime.InternalPlatform.run(InternalPlatform.java(InlinedCompiled Code))</Frame>
          <Frame depth="23">org.eclipse.core.runtime.Platform.run(Platform.java(Compiled Code))</Frame>
          <Frame depth="24">org.eclipse.ui.internal.JFaceUtil$1.run(JFaceUtil.java:44)</Frame>
          <Frame depth="25">org.eclipse.jface.util.SafeRunnable.run(SafeRunnable.java:148)</Frame>
          <Frame depth="26">org.eclipse.jface.viewers.StructuredViewer.fireOpen(StructuredViewer.java:739)</Frame>
          <Frame depth="27">org.eclipse.jface.viewers.StructuredViewer.handleOpen(StructuredViewer.java:968)</Frame>
          <Frame depth="28">org.eclipse.jface.viewers.StructuredViewer$6.handleOpen(StructuredViewer.java:1067)</Frame>
          <Frame depth="29">org.eclipse.jface.util.OpenStrategy.fireOpenEvent(OpenStrategy.java:243)</Frame>
          <Frame depth="30">org.eclipse.jface.util.OpenStrategy.access$2(OpenStrategy.java(InlinedCompiled Code))</Frame>
          <Frame depth="31">org.eclipse.jface.util.OpenStrategy$1.handleEvent(OpenStrategy.java(CompiledCode))</Frame>
          <Frame depth="32">org.eclipse.swt.widgets.EventTable.sendEvent(EventTable.java(Compiled Code))</Frame>
          <Frame depth="33">org.eclipse.swt.widgets.Widget.sendEvent(Widget.java(Inlined Compiled Code))</Frame>
          <Frame depth="34">org.eclipse.swt.widgets.Display.runDeferredEvents(Display.java(Compiled Code))</Frame>
          <Frame depth="35">org.eclipse.swt.widgets.Display.readAndDispatch(Display.java(Compiled Code))</Frame>
          <Frame depth="36">org.eclipse.ui.internal.Workbench.runEventLoop(Workbench.java(Compiled Code))</Frame>
          <Frame depth="37">org.eclipse.ui.internal.Workbench.runUI(Workbench.java:1663)</Frame>
          <Frame depth="38">org.eclipse.ui.internal.Workbench.createAndRunWorkbench(Workbench.java:367)</Frame>
          <Frame depth="39">org.eclipse.ui.PlatformUI.createAndRunWorkbench(PlatformUI.java:143)</Frame>
          <Frame depth="40">org.eclipse.ui.internal.ide.IDEApplication.run(IDEApplication.java:103)</Frame>
          <Frame depth="41">org.eclipse.core.internal.runtime.PlatformActivator$1.run(PlatformActivator.java:226)</Frame>
          <Frame depth="42">org.eclipse.core.runtime.adaptor.EclipseStarter.run(EclipseStarter.java:376)</Frame>
          <Frame depth="43">org.eclipse.core.runtime.adaptor.EclipseStarter.run(EclipseStarter.java:163)</Frame>
          <Frame depth="44">sun.reflect.NativeMethodAccessorImpl.invoke0(Native Method)</Frame>
          <Frame depth="45">sun.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:79)</Frame>
          <Frame depth="46">sun.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:41)</Frame>
          <Frame depth="47">java.lang.reflect.Method.invoke(Method.java:386)</Frame>
          <Frame depth="48">org.eclipse.core.launcher.Main.invokeFramework(Main.java:334)</Frame>
          <Frame depth="49">org.eclipse.core.launcher.Main.basicRun(Main.java:278)</Frame>
          <Frame depth="50">org.eclipse.core.launcher.Main.run(Main.java:973)</Frame>
          <Frame depth="51">org.eclipse.core.launcher.Main.main(Main.java:948)</Frame>
        </Frames>
      </Stacktrace>
    </Stacktraces>
    <SourceCodeRegions amount="0" />
    <Enumerations amount="0" />
    <bug_status amount="RESOLVED" />
    <resolution amount="WORKSFORME" />
    <WithStack>Some times when i try to open xml file i get this exception. Sometimes it also
happens with any java sources file, so its not just with xml files.

----------------------------------
java.lang.IndexOutOfBoundsException: Index: -1, Size: 18
	at java.util.ArrayList.RangeCheck(ArrayList.java(Inlined Compiled Code))
	at java.util.ArrayList.get(ArrayList.java(Compiled Code))
	at
org.eclipse.ui.internal.WorkbenchPage$ActivationList.bringToTop(WorkbenchPage.java:3499)
	at org.eclipse.ui.internal.WorkbenchPage.internalBringToTop(WorkbenchPage.java:726)
	at org.eclipse.ui.internal.WorkbenchPage.activate(WorkbenchPage.java:551)
	at org.eclipse.ui.internal.WorkbenchPage.showEditor(WorkbenchPage.java:2351)
	at
org.eclipse.ui.internal.WorkbenchPage.busyOpenEditorBatched(WorkbenchPage.java:2314)
	at org.eclipse.ui.internal.WorkbenchPage.busyOpenEditor(WorkbenchPage.java:2258)
	at org.eclipse.ui.internal.WorkbenchPage.access$9(WorkbenchPage.java:2250)
	at org.eclipse.ui.internal.WorkbenchPage$9.run(WorkbenchPage.java:2236)
	at org.eclipse.swt.custom.BusyIndicator.showWhile(BusyIndicator.java:69)
	at org.eclipse.ui.internal.WorkbenchPage.openEditor(WorkbenchPage.java:2231)
	at org.eclipse.ui.internal.WorkbenchPage.openEditor(WorkbenchPage.java:2212)
	at org.eclipse.ui.ide.IDE.openEditor(IDE.java:371)
	at org.eclipse.ui.ide.IDE.openEditor(IDE.java:334)
	at org.eclipse.ui.actions.OpenFileAction.openFile(OpenFileAction.java:98)
	at
org.eclipse.ui.actions.OpenSystemEditorAction.run(OpenSystemEditorAction.java:98)
	at
org.eclipse.ui.views.navigator.OpenActionGroup.runDefaultAction(OpenActionGroup.java:120)
	at
org.eclipse.ui.views.navigator.MainActionGroup.runDefaultAction(MainActionGroup.java:326)
	at
org.eclipse.ui.views.navigator.ResourceNavigator.handleOpen(ResourceNavigator.java:650)
	at
org.eclipse.ui.views.navigator.ResourceNavigator$6.open(ResourceNavigator.java:409)
	at org.eclipse.jface.viewers.StructuredViewer$2.run(StructuredViewer.java:741)
	at
org.eclipse.core.internal.runtime.InternalPlatform.run(InternalPlatform.java(Inlined
Compiled Code))
	at org.eclipse.core.runtime.Platform.run(Platform.java(Compiled Code))
	at org.eclipse.ui.internal.JFaceUtil$1.run(JFaceUtil.java:44)
	at org.eclipse.jface.util.SafeRunnable.run(SafeRunnable.java:148)
	at org.eclipse.jface.viewers.StructuredViewer.fireOpen(StructuredViewer.java:739)
	at org.eclipse.jface.viewers.StructuredViewer.handleOpen(StructuredViewer.java:968)
	at
org.eclipse.jface.viewers.StructuredViewer$6.handleOpen(StructuredViewer.java:1067)
	at org.eclipse.jface.util.OpenStrategy.fireOpenEvent(OpenStrategy.java:243)
	at org.eclipse.jface.util.OpenStrategy.access$2(OpenStrategy.java(Inlined
Compiled Code))
	at org.eclipse.jface.util.OpenStrategy$1.handleEvent(OpenStrategy.java(Compiled
Code))
	at org.eclipse.swt.widgets.EventTable.sendEvent(EventTable.java(Compiled Code))
	at org.eclipse.swt.widgets.Widget.sendEvent(Widget.java(Inlined Compiled Code))
	at org.eclipse.swt.widgets.Display.runDeferredEvents(Display.java(Compiled Code))
	at org.eclipse.swt.widgets.Display.readAndDispatch(Display.java(Compiled Code))
	at org.eclipse.ui.internal.Workbench.runEventLoop(Workbench.java(Compiled Code))
	at org.eclipse.ui.internal.Workbench.runUI(Workbench.java:1663)
	at org.eclipse.ui.internal.Workbench.createAndRunWorkbench(Workbench.java:367)
	at org.eclipse.ui.PlatformUI.createAndRunWorkbench(PlatformUI.java:143)
	at org.eclipse.ui.internal.ide.IDEApplication.run(IDEApplication.java:103)
	at
org.eclipse.core.internal.runtime.PlatformActivator$1.run(PlatformActivator.java:226)
	at org.eclipse.core.runtime.adaptor.EclipseStarter.run(EclipseStarter.java:376)
	at org.eclipse.core.runtime.adaptor.EclipseStarter.run(EclipseStarter.java:163)
	at sun.reflect.NativeMethodAccessorImpl.invoke0(Native Method)
	at sun.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:79)
	at
sun.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:41)
	at java.lang.reflect.Method.invoke(Method.java:386)
	at org.eclipse.core.launcher.Main.invokeFramework(Main.java:334)
	at org.eclipse.core.launcher.Main.basicRun(Main.java:278)
	at org.eclipse.core.launcher.Main.run(Main.java:973)
	at org.eclipse.core.launcher.Main.main(Main.java:948)


----------------------------------
Session Data:

eclipse.buildId=I20050627-1435
java.fullversion=J2RE 1.4.1 IBM Windows 32 build cn1411-20031011 (JIT enabled: jitc)
BootLoader constants: OS=win32, ARCH=x86, WS=win32, NL=en_US
Command-line arguments:  -os win32 -ws win32 -arch x86
This is a continuation of log file D:\eclipse\workspace\.metadata\.b
Reassing to platform UI to investigate, since stack trace doesn't look related
to us in WTP. 
And reporter says "Java editor too". 


Just an update. I was also using myeclipse plugin, and this problem got fixed, i thought this info might help the investigator. I am not sure if we really want to investigate more...

After upgradeing the myeclipseide plug in this problem got fixed, i don’t recall which plug version i was using at that time but upgrading to this version fixes the issue.

*** MyEclipse details:
MyEclipse Enterprise Workbench

Version: 4.1.0 GA
Build id: 20060122-4.1-GA

Here is rest of the system details.

*** System properties:
OS=WindowsXP
OS version=5.1
Java version=1.4.2


*** Eclipse details:
Eclipse SDK

Version: 3.1.0
Build id: I20050627-1435

Eclipse Platform

Version: 3.1.0
Build id: I20050627-1435

Eclipse RCP

Version: 3.1.0
Build id: I20050627-1435

Eclipse Java Development Tools

Version: 3.1.0
Build id: I20050627-1435

Eclipse Plug-in Development Environment

Version: 3.1.0
Build id: I20050627-1435

Eclipse Project SDK

Version: 3.1.0
Build id: I20050627-1435

Eclipse startup command=-os
win32
-ws
win32
-arch
x86
-launcher
D:\eclipse31\eclipse.exe
-name
Eclipse
-showsplash
600
-exitdata
dc0_58
-vm
D:\WebSphere\AppServer\java\bin\javaw.exe
Marking as WORKSFORME</WithStack>
    <WithOutStack>Some times when i try to open xml file i get this exception. Sometimes it also
happens with any java sources file, so its not just with xml files.

----------------------------------



----------------------------------
Session Data:

eclipse.buildId=I20050627-1435
java.fullversion=J2RE 1.4.1 IBM Windows 32 build cn1411-20031011 (JIT enabled: jitc)
BootLoader constants: OS=win32, ARCH=x86, WS=win32, NL=en_US
Command-line arguments:  -os win32 -ws win32 -arch x86
This is a continuation of log file D:\eclipse\workspace\.metadata\.b
Reassing to platform UI to investigate, since stack trace doesn't look related
to us in WTP. 
And reporter says "Java editor too". 


Just an update. I was also using myeclipse plugin, and this problem got fixed, i thought this info might help the investigator. I am not sure if we really want to investigate more...

After upgradeing the myeclipseide plug in this problem got fixed, i don’t recall which plug version i was using at that time but upgrading to this version fixes the issue.

*** MyEclipse details:
MyEclipse Enterprise Workbench

Version: 4.1.0 GA
Build id: 20060122-4.1-GA

Here is rest of the system details.

*** System properties:
OS=WindowsXP
OS version=5.1
Java version=1.4.2


*** Eclipse details:
Eclipse SDK

Version: 3.1.0
Build id: I20050627-1435

Eclipse Platform

Version: 3.1.0
Build id: I20050627-1435

Eclipse RCP

Version: 3.1.0
Build id: I20050627-1435

Eclipse Java Development Tools

Version: 3.1.0
Build id: I20050627-1435

Eclipse Plug-in Development Environment

Version: 3.1.0
Build id: I20050627-1435

Eclipse Project SDK

Version: 3.1.0
Build id: I20050627-1435

Eclipse startup command=-os
win32
-ws
win32
-arch
x86
-launcher
D:\eclipse31\eclipse.exe
-name
Eclipse
-showsplash
600
-exitdata
dc0_58
-vm
D:\WebSphere\AppServer\java\bin\javaw.exe
Marking as WORKSFORME</WithOutStack>
  </Bug>
  <Bug>
    <BugId amount="107672" />
    <CreationDate amount="2005-08-22 16:52:00 -0400" />
    <DupId amount="286177" />
    <classification amount="Eclipse" />
    <Product amount="Platform" />
    <component amount="User Assistance" />
    <Version amount="3.2" />
    <rep_platform amount="PC" />
    <op_sys amount="Windows 2000" />
    <priority amount="P3" />
    <bug_severity amount="enhancement" />
    <Summery>[Help] Provide ability to supplement/add to default Help System webapp without having to replace the whole thing</Summery>
    <Patches amount="0" />
    <Stacktraces amount="0" />
    <SourceCodeRegions amount="0" />
    <Enumerations amount="0" />
    <bug_status amount="RESOLVED" />
    <resolution amount="DUPLICATE" />
    <WithStack>The Eclipse *Workbench* UI itself is very easy to extend and add to due to its
underlying technology.

In contrast, adopters cannot make additions to the Help System webapp to extend
or supplement its functionality for particular installation scenarios; for
example, to add a toolbar icon or add a new tabbed view. Adopters can replace
with their own webapp code plugins of course, but that seems a drastic route if
all they want to do is add some functionality for their particular situation and
extend what is already there.

What is requested is the ability to easily supplement the help system webapp. At
a minimum, to add buttons along with the standard buttons and add new views for
the tabbed view. Extension points to extend.

--Lee Anne Kowalski
IBM User Assistance Technologies
"Adding a new tabbed view" is now covered in bug 286177.

As that was the more desired request in this bug (vs the adding new toolbar buttons), and as the reporter for this enhancement request, I'm marking this one as a duplicate of 286177. No need to keep this one open now.



*** This bug has been marked as a duplicate of bug 286177 ***</WithStack>
    <WithOutStack>The Eclipse *Workbench* UI itself is very easy to extend and add to due to its
underlying technology.

In contrast, adopters cannot make additions to the Help System webapp to extend
or supplement its functionality for particular installation scenarios; for
example, to add a toolbar icon or add a new tabbed view. Adopters can replace
with their own webapp code plugins of course, but that seems a drastic route if
all they want to do is add some functionality for their particular situation and
extend what is already there.

What is requested is the ability to easily supplement the help system webapp. At
a minimum, to add buttons along with the standard buttons and add new views for
the tabbed view. Extension points to extend.

--Lee Anne Kowalski
IBM User Assistance Technologies
"Adding a new tabbed view" is now covered in bug 286177.

As that was the more desired request in this bug (vs the adding new toolbar buttons), and as the reporter for this enhancement request, I'm marking this one as a duplicate of 286177. No need to keep this one open now.



*** This bug has been marked as a duplicate of bug 286177 ***</WithOutStack>
  </Bug>
  <Bug>
    <BugId amount="107673" />
    <CreationDate amount="2005-08-22 17:06:00 -0400" />
    <DupId amount="" />
    <classification amount="WebTools" />
    <Product amount="WTP Webservices" />
    <component amount="jst.ws" />
    <Version amount="0.7" />
    <rep_platform amount="PC" />
    <op_sys amount="Windows 2000" />
    <priority amount="P3" />
    <bug_severity amount="enhancement" />
    <Summery>Optionally perform WSDL validation through Web service wizards</Summery>
    <Patches amount="0" />
    <Stacktraces amount="0" />
    <SourceCodeRegions amount="0" />
    <Enumerations amount="3">
      <Enumeration lines="3">
        <Lines>
          <Line>- Do not validate WSDL</Line>
          <Line>- Only validate remote WSDL</Line>
          <Line>- Validate all WSDL (local and remote)</Line>
        </Lines>
      </Enumeration>
      <Enumeration lines="3">
        <Lines>
          <Line>- Ignore the pending WSDL validation and continue with the wizard</Line>
          <Line>- Ignore ALL WSDL validation that had not completed in the future and continue</Line>
          <Line>- Cancel the request and stay on the WSDL selection page</Line>
        </Lines>
      </Enumeration>
      <Enumeration lines="6">
        <Lines>
          <Line>- org.eclipse.wst.ws</Line>
          <Line>- org.eclipse.wst.ws.ui</Line>
          <Line>- org.eclipse.jst.ws.consumption.ui</Line>
          <Line>Released as v20050823_1620.</Line>
          <Line>Verified on 0826I.</Line>
          <Line>Setting approximate target milestone for posterity.</Line>
        </Lines>
      </Enumeration>
    </Enumerations>
    <bug_status amount="CLOSED" />
    <resolution amount="FIXED" />
    <WithStack>This enhancement allows the user to optionally validate WSDL documents before 
being processed by wizards that consume WSDL documents (e.g. Web Service wizard 
in top-down scenario and Web Service Client wizard).

The user can set the Web Service Profile Validation preferences (renamed from 
WS-I preference) to do one of the following:

- Do not validate WSDL 
- Only validate remote WSDL
- Validate all WSDL (local and remote) 

The default is "Do not validate WSDL".

The call to WSDL validation is done via a Job (i.e. done asynchronously without 
holding up the wizard flow).  The WSDL validation messages are displayed in the 
WSDL selection page in a table form.

If the user click Next or Finish before WSDL validation is complete, a dialog 
would pop-up to ask the user if they want to:

- Ignore the pending WSDL validation and continue with the wizard
- Ignore ALL WSDL validation that had not completed in the future and continue
- Cancel the request and stay on the WSDL selection page

The user's selection to wait for WSDL validation to complete or not is also 
stored in the profile validation preference page. The default is to wait for 
WSDL validation to complete before proceeding.
Enhancement committed to the following plugins:

- org.eclipse.wst.ws
- org.eclipse.wst.ws.ui
- org.eclipse.jst.ws.consumption.ui
Released as v20050823_1620.
Verified on 0826I.
Setting approximate target milestone for posterity.</WithStack>
    <WithOutStack>This enhancement allows the user to optionally validate WSDL documents before 
being processed by wizards that consume WSDL documents (e.g. Web Service wizard 
in top-down scenario and Web Service Client wizard).

The user can set the Web Service Profile Validation preferences (renamed from 
WS-I preference) to do one of the following:

- Do not validate WSDL 
- Only validate remote WSDL
- Validate all WSDL (local and remote) 

The default is "Do not validate WSDL".

The call to WSDL validation is done via a Job (i.e. done asynchronously without 
holding up the wizard flow).  The WSDL validation messages are displayed in the 
WSDL selection page in a table form.

If the user click Next or Finish before WSDL validation is complete, a dialog 
would pop-up to ask the user if they want to:

- Ignore the pending WSDL validation and continue with the wizard
- Ignore ALL WSDL validation that had not completed in the future and continue
- Cancel the request and stay on the WSDL selection page

The user's selection to wait for WSDL validation to complete or not is also 
stored in the profile validation preference page. The default is to wait for 
WSDL validation to complete before proceeding.
Enhancement committed to the following plugins:

- org.eclipse.wst.ws
- org.eclipse.wst.ws.ui
- org.eclipse.jst.ws.consumption.ui
Released as v20050823_1620.
Verified on 0826I.
Setting approximate target milestone for posterity.</WithOutStack>
  </Bug>
  <Bug>
    <BugId amount="107674" />
    <CreationDate amount="2005-08-22 17:29:00 -0400" />
    <DupId amount="55797" />
    <classification amount="Eclipse" />
    <Product amount="Platform" />
    <component amount="Text" />
    <Version amount="3.1" />
    <rep_platform amount="PC" />
    <op_sys amount="Windows XP" />
    <priority amount="P3" />
    <bug_severity amount="normal" />
    <Summery>Eclipse Editors become very sluggish with large amounts of markers</Summery>
    <Patches amount="0" />
    <Stacktraces amount="0" />
    <SourceCodeRegions amount="0" />
    <Enumerations amount="0" />
    <bug_status amount="RESOLVED" />
    <resolution amount="DUPLICATE" />
    <WithStack>Eclipse editors (Java Editor as well as Text Editor) become extremely sluggish 
if there are a large amount of markers in the displayed resource.

I am reporting on behalf of the Eclipse Checkstyle Plugin project.
We had a user reporting extrem performance problems using the plugin.
Investigation showed that he used the plugin on some very large java files 
(about 10,000 lines). For such a file the Checkstyle plugin generated a large 
amount of warnings (Checkstyle markers), 15,000 to count.

Opening the Java or Text editor on this file takes about 1 minute to open, if it 
is finally open the editor behaves extremely slow.

While I admit this to be a very extreme use case, maybe it is possible to fix 
performance in this case.
The (temporary?) solution I built into the plugin is to limit the number of 
markers generated per resource. For instance if I limit the number of markers to 
 100 the editor behaves with normal performance.
This circumstance seems to point out that the problem is directly related to the 
amout of markers per resource.
I wonder how someone would ever fix 15000 markers in single file ;-)


*** This bug has been marked as a duplicate of 55797 ***
*** Bug 107699 has been marked as a duplicate of this bug. ***</WithStack>
    <WithOutStack>Eclipse editors (Java Editor as well as Text Editor) become extremely sluggish 
if there are a large amount of markers in the displayed resource.

I am reporting on behalf of the Eclipse Checkstyle Plugin project.
We had a user reporting extrem performance problems using the plugin.
Investigation showed that he used the plugin on some very large java files 
(about 10,000 lines). For such a file the Checkstyle plugin generated a large 
amount of warnings (Checkstyle markers), 15,000 to count.

Opening the Java or Text editor on this file takes about 1 minute to open, if it 
is finally open the editor behaves extremely slow.

While I admit this to be a very extreme use case, maybe it is possible to fix 
performance in this case.
The (temporary?) solution I built into the plugin is to limit the number of 
markers generated per resource. For instance if I limit the number of markers to 
 100 the editor behaves with normal performance.
This circumstance seems to point out that the problem is directly related to the 
amout of markers per resource.
I wonder how someone would ever fix 15000 markers in single file ;-)


*** This bug has been marked as a duplicate of 55797 ***
*** Bug 107699 has been marked as a duplicate of this bug. ***</WithOutStack>
  </Bug>
  <Bug>
    <BugId amount="107675" />
    <CreationDate amount="2005-08-22 17:34:00 -0400" />
    <DupId amount="" />
    <classification amount="Mylyn" />
    <Product amount="Mylyn" />
    <component amount="UI" />
    <Version amount="unspecified" />
    <rep_platform amount="Other" />
    <op_sys amount="other" />
    <priority amount="P4" />
    <bug_severity amount="normal" />
    <Summery>newly created resources should become interesting</Summery>
    <Patches amount="0" />
    <Stacktraces amount="0" />
    <SourceCodeRegions amount="0" />
    <Enumerations amount="0" />
    <bug_status amount="RESOLVED" />
    <resolution amount="FIXED" />
    <WithStack>E.g. foders, files, classes.
They now consitently become interesting once selected in the editor.  It may be
a bit off-putting that the don't become intersting immediately after being
added, but making elements interesting based on addition deltas would probably
be too wierd.</WithStack>
    <WithOutStack>E.g. foders, files, classes.
They now consitently become interesting once selected in the editor.  It may be
a bit off-putting that the don't become intersting immediately after being
added, but making elements interesting based on addition deltas would probably
be too wierd.</WithOutStack>
  </Bug>
  <Bug>
    <BugId amount="107676" />
    <CreationDate amount="2005-08-22 17:47:00 -0400" />
    <DupId amount="" />
    <classification amount="Mylyn" />
    <Product amount="Mylyn" />
    <component amount="XML" />
    <Version amount="unspecified" />
    <rep_platform amount="Other" />
    <op_sys amount="other" />
    <priority amount="P2" />
    <bug_severity amount="normal" />
    <Summery>package explorer flickers on plugin.xml selections</Summery>
    <Patches amount="0" />
    <Stacktraces amount="0" />
    <SourceCodeRegions amount="0" />
    <Enumerations amount="0" />
    <bug_status amount="RESOLVED" />
    <resolution amount="FIXED" />
    <WithStack>This is too eager of a refresh, should not to entire projects but just the project
the file is in.
Too many selection events are sent, and this also raises interest way too 
high.  If the manifest editor grouped selection events the way that the java 
editor does this would not be a problem.
Fixed on 3.2M3 by improvemetns to their post selection firing.</WithStack>
    <WithOutStack>This is too eager of a refresh, should not to entire projects but just the project
the file is in.
Too many selection events are sent, and this also raises interest way too 
high.  If the manifest editor grouped selection events the way that the java 
editor does this would not be a problem.
Fixed on 3.2M3 by improvemetns to their post selection firing.</WithOutStack>
  </Bug>
  <Bug>
    <BugId amount="107677" />
    <CreationDate amount="2005-08-22 18:08:00 -0400" />
    <DupId amount="" />
    <classification amount="Eclipse Foundation" />
    <Product amount="z_Archived" />
    <component amount="TPTP.monitoring" />
    <Version amount="unspecified" />
    <rep_platform amount="PC" />
    <op_sys amount="Windows 2000" />
    <priority amount="P3" />
    <bug_severity amount="normal" />
    <Summery>Run from record fails on value larger then integer.max</Summery>
    <Patches amount="0" />
    <Stacktraces amount="0" />
    <SourceCodeRegions amount="0" />
    <Enumerations amount="0" />
    <bug_status amount="CLOSED" />
    <resolution amount="FIXED" />
    <WithStack>testcase: Monitor.UI.GLARules -&gt; Start_from_record_with_invalid_input - invocation

try any value larger then 2147483647 and the show preious/next are enabled.
fixed

testcases updated
fixed in tptp.runtime-TPTP-4.1.0-200508260100</WithStack>
    <WithOutStack>testcase: Monitor.UI.GLARules -&gt; Start_from_record_with_invalid_input - invocation

try any value larger then 2147483647 and the show preious/next are enabled.
fixed

testcases updated
fixed in tptp.runtime-TPTP-4.1.0-200508260100</WithOutStack>
  </Bug>
  <Bug>
    <BugId amount="107678" />
    <CreationDate amount="2005-08-22 18:30:00 -0400" />
    <DupId amount="22233" />
    <classification amount="Eclipse" />
    <Product amount="Platform" />
    <component amount="Resources" />
    <Version amount="3.2" />
    <rep_platform amount="PC" />
    <op_sys amount="Windows 2000" />
    <priority amount="P3" />
    <bug_severity amount="normal" />
    <Summery>Some messages not NLS'd</Summery>
    <Patches amount="0" />
    <Stacktraces amount="0" />
    <SourceCodeRegions amount="0" />
    <Enumerations amount="0" />
    <bug_status amount="RESOLVED" />
    <resolution amount="DUPLICATE" />
    <WithStack>I was looking a bug 22233 and noticed the the message in question exists in 
Workspace.newResource(IPath, int).  Then I noticed that these messages are hard-
coded in English and marked NON-NLS.  There are situations where these messages 
could bubble up to the surface (in this example, through the UI's 
ImportOperation) so shouldn't these messages be externalized?
I have added comments in bug 22233.

*** This bug has been marked as a duplicate of 22233 ***</WithStack>
    <WithOutStack>I was looking a bug 22233 and noticed the the message in question exists in 
Workspace.newResource(IPath, int).  Then I noticed that these messages are hard-
coded in English and marked NON-NLS.  There are situations where these messages 
could bubble up to the surface (in this example, through the UI's 
ImportOperation) so shouldn't these messages be externalized?
I have added comments in bug 22233.

*** This bug has been marked as a duplicate of 22233 ***</WithOutStack>
  </Bug>
  <Bug>
    <BugId amount="107679" />
    <CreationDate amount="2005-08-22 18:40:00 -0400" />
    <DupId amount="147027" />
    <classification amount="Eclipse" />
    <Product amount="Platform" />
    <component amount="UI" />
    <Version amount="3.2" />
    <rep_platform amount="PC" />
    <op_sys amount="Windows 2000" />
    <priority amount="P3" />
    <bug_severity amount="normal" />
    <Summery>[IDE] Should make ResourceTreeAndListGroup class API</Summery>
    <Patches amount="0" />
    <Stacktraces amount="0" />
    <SourceCodeRegions amount="0" />
    <Enumerations amount="0" />
    <bug_status amount="RESOLVED" />
    <resolution amount="DUPLICATE" />
    <WithStack>JDT implemented a CheckboxTreeAndListGroup class very similar to this.  I think 
this would be useful to make public for other products too.


*** This bug has been marked as a duplicate of 147027 ***</WithStack>
    <WithOutStack>JDT implemented a CheckboxTreeAndListGroup class very similar to this.  I think 
this would be useful to make public for other products too.


*** This bug has been marked as a duplicate of 147027 ***</WithOutStack>
  </Bug>
  <Bug>
    <BugId amount="107680" />
    <CreationDate amount="2005-08-22 19:00:00 -0400" />
    <DupId amount="" />
    <classification amount="WebTools" />
    <Product amount="WTP Source Editing" />
    <component amount="wst.xsd" />
    <Version amount="1.5" />
    <rep_platform amount="PC" />
    <op_sys amount="Windows XP" />
    <priority amount="P3" />
    <bug_severity amount="normal" />
    <Summery>Error updating "Other" properties tab when two XSD editors are open</Summery>
    <Patches amount="0" />
    <Stacktraces amount="1">
      <Stacktrace timestamp="1437330570184">
        <Exception>org.eclipse.swt.SWTException</Exception>
        <Reason>Widget is disposed</Reason>
        <Frames>
          <Frame depth="0">org.eclipse.swt.SWT.error(SWT.java:2942)</Frame>
          <Frame depth="1">org.eclipse.swt.SWT.error(SWT.java:2865)</Frame>
          <Frame depth="2">org.eclipse.swt.SWT.error(SWT.java:2836)</Frame>
          <Frame depth="3">org.eclipse.swt.widgets.Widget.error(Widget.java:395)</Frame>
          <Frame depth="4">org.eclipse.swt.widgets.Widget.checkWidget(Widget.java:297)</Frame>
          <Frame depth="5">org.eclipse.swt.widgets.Control.setEnabled(Control.java:2092)</Frame>
          <Frame depth="6">org.eclipse.wst.xsd.ui.internal.properties.section.OtherAttributesSection.refresh(OtherAttributesSection.java:87)</Frame>
          <Frame depth="7">org.eclipse.wst.common.ui.properties.internal.view.Tab$6.run(Tab.java:203)</Frame>
          <Frame depth="8">org.eclipse.core.internal.runtime.InternalPlatform.run(InternalPlatform.java:1044)</Frame>
          <Frame depth="9">org.eclipse.core.runtime.Platform.run(Platform.java:783)</Frame>
          <Frame depth="10">org.eclipse.wst.common.ui.properties.internal.view.Tab.refresh(Tab.java:210)</Frame>
          <Frame depth="11">org.eclipse.wst.common.ui.properties.internal.provisional.TabbedPropertySheetPage$SelectionChangedListener.selectionChanged(TabbedPropertySheetPage.java:182)</Frame>
          <Frame depth="12">org.eclipse.jface.viewers.Viewer$2.run(Viewer.java:162)</Frame>
        </Frames>
      </Stacktrace>
    </Stacktraces>
    <SourceCodeRegions amount="0" />
    <Enumerations amount="1">
      <Enumeration lines="9">
        <Lines>
          <Line>1. open one XSD editor and switch to the Other properties tab.  Select an</Line>
          <Line>Outline element having the other tab.</Line>
          <Line />
          <Line>2. open a second XSD file in a new editor, select an element or type and</Line>
          <Line>select the Other properties tab.</Line>
          <Line />
          <Line>3. go back to the first editor and the Other tab (that contains a</Line>
          <Line>PropertySheetPage) will be be updated and is locked onto the element/type that</Line>
          <Line>was selected before opening the second XSD editor.</Line>
        </Lines>
      </Enumeration>
    </Enumerations>
    <bug_status amount="CLOSED" />
    <resolution amount="FIXED" />
    <WithStack>I don't know if this bug is in the common.ui.properties component or in the 
way property tabs are used in the XSD editor, but the bug appears when using 
the XSD editor.

To reproduce this error:

1. open one XSD editor and switch to the Other properties tab.  Select an 
Outline element having the other tab.

2. open a second XSD file in a new editor, select an element or type and 
select the Other properties tab.

3. go back to the first editor and the Other tab (that contains a 
PropertySheetPage) will be be updated and is locked onto the element/type that 
was selected before opening the second XSD editor.

If you now close the second XSD editor, the following stack trace is displayed:

org.eclipse.swt.SWTException: Widget is disposed
	at org.eclipse.swt.SWT.error(SWT.java:2942)
	at org.eclipse.swt.SWT.error(SWT.java:2865)
	at org.eclipse.swt.SWT.error(SWT.java:2836)
	at org.eclipse.swt.widgets.Widget.error(Widget.java:395)
	at org.eclipse.swt.widgets.Widget.checkWidget(Widget.java:297)
	at org.eclipse.swt.widgets.Control.setEnabled(Control.java:2092)
	at 
org.eclipse.wst.xsd.ui.internal.properties.section.OtherAttributesSection.refre
sh(OtherAttributesSection.java:87)
	at org.eclipse.wst.common.ui.properties.internal.view.Tab$6.run
(Tab.java:203)
	at org.eclipse.core.internal.runtime.InternalPlatform.run
(InternalPlatform.java:1044)
	at org.eclipse.core.runtime.Platform.run(Platform.java:783)
	at org.eclipse.wst.common.ui.properties.internal.view.Tab.refresh
(Tab.java:210)
	at 
org.eclipse.wst.common.ui.properties.internal.provisional.TabbedPropertySheetPa
ge$SelectionChangedListener.selectionChanged(TabbedPropertySheetPage.java:182)
	at org.eclipse.jface.viewers.Viewer$2.run(Viewer.java:162)
Re-reading my description, the step 3 is not very clear.  Here is more detail:

3. go back to the first editor and the Other tab (that contains a 
PropertySheetPage) will NOT be refreshed and is locked onto the element/type 
that was selected before opening the second XSD editor.  Selecting different 
elements or types with not update the Other tab content.

No errors are logged at this point.  Debugging the source for 
OtherAttributesSection it appears that the tab controls are shared between 
editors -- when a second editor is opened, the propertySheetPage already has a 
value.  But a new value is assigned for the second editor, which seems to 
screw up the use of this tab section in the first editor.

Craig please assign this to me
The descriptor was not returning a new instance of the section.
This fix should be in the next I-build
This change is a bulk update of all _un_targeted, fixed, resolved bugs upon release of M5. This particular bug _might_ have been fixed earlier than M5. (Feel free to correct). 


This is part of a mass update to close out all stale WTP resolved bugs from the 1.0.x and 1.5.0 timeframe.  If you feel this bug was closed inappropriately, please reopen.

Thanks, John Lanuti</WithStack>
    <WithOutStack>I don't know if this bug is in the common.ui.properties component or in the 
way property tabs are used in the XSD editor, but the bug appears when using 
the XSD editor.

To reproduce this error:

1. open one XSD editor and switch to the Other properties tab.  Select an 
Outline element having the other tab.

2. open a second XSD file in a new editor, select an element or type and 
select the Other properties tab.

3. go back to the first editor and the Other tab (that contains a 
PropertySheetPage) will be be updated and is locked onto the element/type that 
was selected before opening the second XSD editor.

If you now close the second XSD editor, the following stack trace is displayed:


Re-reading my description, the step 3 is not very clear.  Here is more detail:

3. go back to the first editor and the Other tab (that contains a 
PropertySheetPage) will NOT be refreshed and is locked onto the element/type 
that was selected before opening the second XSD editor.  Selecting different 
elements or types with not update the Other tab content.

No errors are logged at this point.  Debugging the source for 
OtherAttributesSection it appears that the tab controls are shared between 
editors -- when a second editor is opened, the propertySheetPage already has a 
value.  But a new value is assigned for the second editor, which seems to 
screw up the use of this tab section in the first editor.

Craig please assign this to me
The descriptor was not returning a new instance of the section.
This fix should be in the next I-build
This change is a bulk update of all _un_targeted, fixed, resolved bugs upon release of M5. This particular bug _might_ have been fixed earlier than M5. (Feel free to correct). 


This is part of a mass update to close out all stale WTP resolved bugs from the 1.0.x and 1.5.0 timeframe.  If you feel this bug was closed inappropriately, please reopen.

Thanks, John Lanuti</WithOutStack>
  </Bug>
  <Bug>
    <BugId amount="107681" />
    <CreationDate amount="2005-08-22 19:46:00 -0400" />
    <DupId amount="" />
    <classification amount="Eclipse" />
    <Product amount="JDT" />
    <component amount="Core" />
    <Version amount="3.1" />
    <rep_platform amount="PC" />
    <op_sys amount="Windows XP" />
    <priority amount="P3" />
    <bug_severity amount="normal" />
    <Summery>[1.5][compiler] invalid ambiguous invocation diagnostic</Summery>
    <Patches amount="0" />
    <Stacktraces amount="0" />
    <SourceCodeRegions amount="4">
      <source_code type="import">
        <location start="155" end="186" />
        <code>import java.lang.reflect.Type;</code>
      </source_code>
      <source_code type="functioncall">
        <location start="217" end="245" />
        <code>&lt;T&gt; TypeT erasure(TypeT x);</code>
      </source_code>
      <source_code type="class">
        <location start="249" end="359" />
        <code>class ReflectionNavigator implements Navigator&lt;Type&gt; {
	public &lt;T&gt; Class&lt;T&gt; erasure(Type t) { return null; }
}</code>
      </source_code>
      <source_code type="class">
        <location start="361" end="445" />
        <code>class Usage {
	public void foo(ReflectionNavigator r, Type t) {
		r.erasure(t);
	}
}</code>
      </source_code>
    </SourceCodeRegions>
    <Enumerations amount="0" />
    <bug_status amount="VERIFIED" />
    <resolution amount="FIXED" />
    <WithStack>The 3.1 compiler complains about the invocation of erasure claiming the
invocation is ambiguous. This isn't possible since the method must be an override.

import java.lang.reflect.Type;

interface Navigator&lt;TypeT&gt; {
	&lt;T&gt; TypeT erasure(TypeT x);
}

class ReflectionNavigator implements Navigator&lt;Type&gt; {
	public &lt;T&gt; Class&lt;T&gt; erasure(Type t) { return null; }
}

class Usage {
	public void foo(ReflectionNavigator r, Type t) {
		r.erasure(t);
	}
}
fixed &amp; released in 3.1.1 stream
Added MethodVerify test068
released in 3.2 HEAD stream
Verified for 3.2 M2 with build I20050920-0010.
Verified for 3.1.1 using M20050923-1430.</WithStack>
    <WithOutStack>The 3.1 compiler complains about the invocation of erasure claiming the
invocation is ambiguous. This isn't possible since the method must be an override.

import java.lang.reflect.Type;

interface Navigator&lt;TypeT&gt; {
	&lt;T&gt; TypeT erasure(TypeT x);
}

class ReflectionNavigator implements Navigator&lt;Type&gt; {
	public &lt;T&gt; Class&lt;T&gt; erasure(Type t) { return null; }
}

class Usage {
	public void foo(ReflectionNavigator r, Type t) {
		r.erasure(t);
	}
}
fixed &amp; released in 3.1.1 stream
Added MethodVerify test068
released in 3.2 HEAD stream
Verified for 3.2 M2 with build I20050920-0010.
Verified for 3.1.1 using M20050923-1430.</WithOutStack>
  </Bug>
  <Bug>
    <BugId amount="107682" />
    <CreationDate amount="2005-08-22 20:44:00 -0400" />
    <DupId amount="" />
    <classification amount="Eclipse" />
    <Product amount="Platform" />
    <component amount="Text" />
    <Version amount="3.1" />
    <rep_platform amount="PC" />
    <op_sys amount="Windows XP" />
    <priority amount="P2" />
    <bug_severity amount="normal" />
    <Summery>[implementation] Random documentProvider API must die!</Summery>
    <Patches amount="0" />
    <Stacktraces amount="1">
      <Stacktrace timestamp="1437330570199">
        <Exception>org.eclipse.jface.util.Assert$AssertionFailedException</Exception>
        <Reason>Assertion failed:</Reason>
        <Frames>
          <Frame depth="0">org.eclipse.jface.util.Assert.isTrue(Assert.java:180)</Frame>
          <Frame depth="1">org.eclipse.jface.util.Assert.isTrue(Assert.java:165)</Frame>
          <Frame depth="2">com.objfac.xmleditor.partition.Partitioner.computePartitioning(Partitioner.java)</Frame>
          <Frame depth="3">org.eclipse.wst.sse.core.internal.text.BasicStructuredDocument.computePartitioning(BasicStructuredDocument.java:1059)</Frame>
          <Frame depth="4">org.eclipse.jface.text.TextUtilities.computePartitioning(TextUtilities.java:426)</Frame>
          <Frame depth="5">org.eclipse.jface.text.presentation.PresentationReconciler.createPresentation(PresentationReconciler.java:443)</Frame>
          <Frame depth="6">org.eclipse.jface.text.presentation.PresentationReconciler.processDamage(PresentationReconciler.java:560)</Frame>
          <Frame depth="7">org.eclipse.jface.text.presentation.PresentationReconciler.access$3(PresentationReconciler.java:558)</Frame>
          <Frame depth="8">org.eclipse.jface.text.presentation.PresentationReconciler$InternalListener.inputDocumentChanged(PresentationReconciler.java:118)</Frame>
          <Frame depth="9">org.eclipse.jface.text.TextViewer.fireInputDocumentChanged(TextViewer.java:2439)</Frame>
          <Frame depth="10">org.eclipse.jface.text.TextViewer.setDocument(TextViewer.java:2488)</Frame>
          <Frame depth="11">org.eclipse.jface.text.source.SourceViewer.setDocument(SourceViewer.java:491)</Frame>
          <Frame depth="12">org.eclipse.jface.text.source.SourceViewer.setDocument(SourceViewer.java:435)</Frame>
          <Frame depth="13">org.eclipse.ui.texteditor.AbstractTextEditor.initializeSourceViewer(AbstractTextEditor.java:2882)</Frame>
          <Frame depth="14">org.eclipse.ui.texteditor.AbstractTextEditor.createPartControl(AbstractTextEditor.java:2649)</Frame>
          <Frame depth="15">org.eclipse.ui.texteditor.StatusTextEditor.createPartControl(StatusTextEditor.java:53)</Frame>
          <Frame depth="16">org.eclipse.ui.texteditor.AbstractDecoratedTextEditor.createPartControl(AbstractDecoratedTextEditor.java:314)</Frame>
          <Frame depth="17">com.objfac.xmleditor.BaseEditor.createPartControl(BaseEditor.java)</Frame>
          <Frame depth="18">com.objfac.xmleditor.XMLEditor.createPartControl(XMLEditor.java)</Frame>
          <Frame depth="19">org.eclipse.ui.internal.EditorReference.createPartHelper(EditorReference.java:585)</Frame>
          <Frame depth="20">org.eclipse.ui.internal.EditorReference.createPart(EditorReference.java:365)</Frame>
          <Frame depth="21">org.eclipse.ui.internal.WorkbenchPartReference.getPart(WorkbenchPartReference.java:552)</Frame>
          <Frame depth="22">org.eclipse.ui.internal.PartPane.setVisible(PartPane.java:283)</Frame>
          <Frame depth="23">org.eclipse.ui.internal.presentations.PresentablePart.setVisible(PresentablePart.java:126)</Frame>
          <Frame depth="24">org.eclipse.ui.internal.presentations.util.PresentablePartFolder.select(PresentablePartFolder.java:268)</Frame>
          <Frame depth="25">org.eclipse.ui.internal.presentations.util.LeftToRightTabOrder.select(LeftToRightTabOrder.java:65)</Frame>
          <Frame depth="26">org.eclipse.ui.internal.presentations.util.TabbedStackPresentation.selectPart(TabbedStackPresentation.java:391)</Frame>
          <Frame depth="27">org.eclipse.ui.internal.PartStack.refreshPresentationSelection(PartStack.java:1102)</Frame>
          <Frame depth="28">org.eclipse.ui.internal.PartStack.setSelection(PartStack.java:1051)</Frame>
          <Frame depth="29">org.eclipse.ui.internal.PartStack.showPart(PartStack.java:1256)</Frame>
          <Frame depth="30">org.eclipse.ui.internal.PartStack.add(PartStack.java:442)</Frame>
          <Frame depth="31">org.eclipse.ui.internal.EditorStack.add(EditorStack.java:109)</Frame>
          <Frame depth="32">org.eclipse.ui.internal.EditorSashContainer.addEditor(EditorSashContainer.java:60)</Frame>
          <Frame depth="33">org.eclipse.ui.internal.EditorAreaHelper.addToLayout(EditorAreaHelper.java:212)</Frame>
          <Frame depth="34">org.eclipse.ui.internal.EditorAreaHelper.addEditor(EditorAreaHelper.java:202)</Frame>
          <Frame depth="35">org.eclipse.ui.internal.EditorManager.createEditorTab(EditorManager.java:753)</Frame>
          <Frame depth="36">org.eclipse.ui.internal.EditorManager.openEditorFromDescriptor(EditorManager.java:665)</Frame>
          <Frame depth="37">org.eclipse.ui.internal.EditorManager.openEditor(EditorManager.java:628)</Frame>
          <Frame depth="38">org.eclipse.ui.internal.WorkbenchPage.busyOpenEditorBatched(WorkbenchPage.java:2323)</Frame>
          <Frame depth="39">org.eclipse.ui.internal.WorkbenchPage.busyOpenEditor(WorkbenchPage.java:2258)</Frame>
          <Frame depth="40">org.eclipse.ui.internal.WorkbenchPage.access$9(WorkbenchPage.java:2250)</Frame>
          <Frame depth="41">org.eclipse.ui.internal.WorkbenchPage$9.run(WorkbenchPage.java:2236)</Frame>
          <Frame depth="42">org.eclipse.swt.custom.BusyIndicator.showWhile(BusyIndicator.java:69)</Frame>
          <Frame depth="43">org.eclipse.ui.internal.WorkbenchPage.openEditor(WorkbenchPage.java:2231)</Frame>
          <Frame depth="44">org.eclipse.ui.internal.WorkbenchPage.openEditor(WorkbenchPage.java:2204)</Frame>
          <Frame depth="45">org.eclipse.ui.internal.editors.text.OpenExternalFileAction.run(OpenExternalFileAction.java:129)</Frame>
          <Frame depth="46">org.eclipse.ui.internal.editors.text.OpenExternalFileAction.run(OpenExternalFileAction.java:98)</Frame>
          <Frame depth="47">org.eclipse.ui.internal.PluginAction.runWithEvent(PluginAction.java:246)</Frame>
          <Frame depth="48">org.eclipse.ui.internal.WWinPluginAction.runWithEvent(WWinPluginAction.java:223)</Frame>
          <Frame depth="49">org.eclipse.jface.action.ActionContributionItem.handleWidgetSelection(ActionContributionItem.java:538)</Frame>
          <Frame depth="50">org.eclipse.jface.action.ActionContributionItem.access$2(ActionContributionItem.java:488)</Frame>
          <Frame depth="51">org.eclipse.jface.action.ActionContributionItem$5.handleEvent(ActionContributionItem.java:400)</Frame>
          <Frame depth="52">org.eclipse.swt.widgets.EventTable.sendEvent(EventTable.java:66)</Frame>
          <Frame depth="53">org.eclipse.swt.widgets.Widget.sendEvent(Widget.java:843)</Frame>
          <Frame depth="54">org.eclipse.swt.widgets.Display.runDeferredEvents(Display.java:3080)</Frame>
          <Frame depth="55">org.eclipse.swt.widgets.Display.readAndDispatch(Display.java:2713)</Frame>
          <Frame depth="56">org.eclipse.ui.internal.Workbench.runEventLoop(Workbench.java:1699)</Frame>
          <Frame depth="57">org.eclipse.ui.internal.Workbench.runUI(Workbench.java:1663)</Frame>
          <Frame depth="58">org.eclipse.ui.internal.Workbench.createAndRunWorkbench(Workbench.java:367)</Frame>
          <Frame depth="59">org.eclipse.ui.PlatformUI.createAndRunWorkbench(PlatformUI.java:143)</Frame>
          <Frame depth="60">org.eclipse.ui.internal.ide.IDEApplication.run(IDEApplication.java:103)</Frame>
          <Frame depth="61">org.eclipse.core.internal.runtime.PlatformActivator$1.run(PlatformActivator.java:226)</Frame>
          <Frame depth="62">org.eclipse.core.runtime.adaptor.EclipseStarter.run(EclipseStarter.java:376)</Frame>
          <Frame depth="63">org.eclipse.core.runtime.adaptor.EclipseStarter.run(EclipseStarter.java:163)</Frame>
          <Frame depth="64">sun.reflect.NativeMethodAccessorImpl.invoke0(Native Method)</Frame>
          <Frame depth="65">sun.reflect.NativeMethodAccessorImpl.invoke(Unknown Source)</Frame>
          <Frame depth="66">sun.reflect.DelegatingMethodAccessorImpl.invoke(Unknown Source)</Frame>
          <Frame depth="67">java.lang.reflect.Method.invoke(Unknown Source)</Frame>
          <Frame depth="68">org.eclipse.core.launcher.Main.invokeFramework(Main.java:334)</Frame>
          <Frame depth="69">org.eclipse.core.launcher.Main.basicRun(Main.java:278)</Frame>
          <Frame depth="70">org.eclipse.core.launcher.Main.run(Main.java:973)</Frame>
          <Frame depth="71">org.eclipse.core.launcher.Main.main(Main.java:948)</Frame>
        </Frames>
      </Stacktrace>
    </Stacktraces>
    <SourceCodeRegions amount="0" />
    <Enumerations amount="4">
      <Enumeration lines="27">
        <Lines>
          <Line>1. The bug described in comment 2 ... "BasicStructuredDocument has no</Line>
          <Line>business being in this stack trace" ... is really just a bug against</Line>
          <Line>wtp.sse ... we are not meeting the spec of IDocument and Partioners,</Line>
          <Line>I'd guess, and otherwise, an editor shouldn't mind (too much) who implements</Line>
          <Line>IDocument.</Line>
          <Line />
          <Line>2. bug 89195 is not really the same problem as this one, IMHO. That issue would</Line>
          <Line>be a problem if no editors (or even documents) were involved at all. Its a case</Line>
          <Line>that "ant" is not a very distinct "language" but the ant team is (rightfully)</Line>
          <Line>trying to make things easier for users by identifying ant content, and providing</Line>
          <Line>special functions for cases a resource is ant content. (And they are just an</Line>
          <Line>over eager bunch :)</Line>
          <Line />
          <Line>3. The participant pattern (and actually the whole plugin pattern) in Eclipse</Line>
          <Line>does not have a well organized story for what to do if there are "conflicting"</Line>
          <Line>contributions for something. Who wins? Ultimately, there will be cases where a</Line>
          <Line>user will have to "pick one" .... but I have not seen any general infrastructure</Line>
          <Line>for this, or good examples, or an overall design recommendation for how to</Line>
          <Line>handle  it in a consistent fashion. [And, I know, everyone hopes it shouldn't be</Line>
          <Line>needed,</Line>
          <Line>that we could be intuitive and know exactly what the users wants ... but ... ]</Line>
          <Line />
          <Line>4. I know to "editor people" it seems no big deal, but plesae don't think of a</Line>
          <Line>Document as just an editor construct. It should be a full fledged "text model"</Line>
          <Line>object all in its own right, no matter what UI is modifying it. Which makes it</Line>
          <Line>this general problem all the worse (but the solution needs to apply to</Line>
          <Line>non-editor use cases as well).</Line>
        </Lines>
      </Enumeration>
      <Enumeration lines="9">
        <Lines>
          <Line>1) if you can live with the fact that your editor's document is only shared</Line>
          <Line>between your editors you can provide your own document provider which does not</Line>
          <Line>use file buffers (e.g. FileDocumentProvider)</Line>
          <Line>2) if you want sharing but expect a special document and setup you can implement</Line>
          <Line>your own document provider that gets the document from file buffers and wraps it</Line>
          <Line>and you would not contribute any file buffer extensions. Note that this solution</Line>
          <Line>might still fail if there's are documentSetup contributions from different</Line>
          <Line>providers for the same content type.</Line>
          <Line>(In reply to comment #10)</Line>
        </Lines>
      </Enumeration>
      <Enumeration lines="15">
        <Lines>
          <Line>1. WTP document start using documentChanged2 instead of the very old</Line>
          <Line>documentChange (I'm not really sure what this accomplishes, I guess we are</Line>
          <Line>supposed to do something with the region that's returned from it, but its unclear</Line>
          <Line>what the constract is, exactly.</Line>
          <Line>2. WTP stop setting default partition at all (and be on the look out for NPE's).</Line>
          <Line>3. WTP AND XML Buddy implement getFileDocumentProvider in their editor to return</Line>
          <Line>an instance of their document provider (and * not use * the plugin.xml extension</Line>
          <Line>point for it. (I'm not sure what XMLBuddy needs for a document, I assume the</Line>
          <Line>"generic" one, but with their own partioner?).</Line>
          <Line>5. WTP's documentProvider would still "force" use the common StrucutredDocument</Line>
          <Line>and all we need from it. When an editor is not used, we'd still use document</Line>
          <Line>factory so it would still be the common ground shared document. When someone</Line>
          <Line>besides an editor got a document. (And, recall, that's actually our greatest</Line>
          <Line>concern ... editors could work perfectly, but if our document is not used when</Line>
          <Line>someone tries to use our model, then they are hosed).</Line>
        </Lines>
      </Enumeration>
      <Enumeration lines="7">
        <Lines>
          <Line>- open a file with whatever editor would always work</Line>
          <Line>- open the same file again with above editor would also always work and they would</Line>
          <Line>be in sync as long a file buffers and/or text file document provider is used</Line>
          <Line>- open the same file again with a different editor might fail if that editor</Line>
          <Line>expects more from a document than what's speced in IDocument</Line>
          <Line>I'm not sure I follow your proposal, Dani. But, will chime in on some of the</Line>
          <Line>general issues in this area -- and there are many.</Line>
        </Lines>
      </Enumeration>
    </Enumerations>
    <bug_status amount="VERIFIED" />
    <resolution amount="FIXED" />
    <WithStack>Or at least work.

When two or more plugins extend org.eclipse.ui.editors.documentProviders for the
same file extension and/or content type, Eclipse makes a random* choice of one
of them to create the document for the content. Since almost no editors work at
all when their own document class is not used to open a file, using this API
guarantees that all but one plugins in this situation are broken.

* The choice is random enough that under certain circumstances one
documentProvider will be used while at other times the other is. This leads to
_both_ plugins being broken for different use cases.
To reproduce this, install the WTP editors and XMLBuddy (free download). Use
File &gt; Open File to open an "external" XML file. Change the default editor back
and forth between XMLBuddy and the WTP XML editor and Open File. One of the
editors will fail. The stack trace when XMLBuddy is used to edit the file but
WTP is chosen to create the document looks like this:

org.eclipse.jface.util.Assert$AssertionFailedException: Assertion failed: 
	at org.eclipse.jface.util.Assert.isTrue(Assert.java:180)
	at org.eclipse.jface.util.Assert.isTrue(Assert.java:165)
	at com.objfac.xmleditor.partition.Partitioner.computePartitioning(Partitioner.java)
	at
org.eclipse.wst.sse.core.internal.text.BasicStructuredDocument.computePartitioning(BasicStructuredDocument.java:1059)
	at org.eclipse.jface.text.TextUtilities.computePartitioning(TextUtilities.java:426)
	at
org.eclipse.jface.text.presentation.PresentationReconciler.createPresentation(PresentationReconciler.java:443)
	at
org.eclipse.jface.text.presentation.PresentationReconciler.processDamage(PresentationReconciler.java:560)
	at
org.eclipse.jface.text.presentation.PresentationReconciler.access$3(PresentationReconciler.java:558)
	at
org.eclipse.jface.text.presentation.PresentationReconciler$InternalListener.inputDocumentChanged(PresentationReconciler.java:118)
	at org.eclipse.jface.text.TextViewer.fireInputDocumentChanged(TextViewer.java:2439)
	at org.eclipse.jface.text.TextViewer.setDocument(TextViewer.java:2488)
	at org.eclipse.jface.text.source.SourceViewer.setDocument(SourceViewer.java:491)
	at org.eclipse.jface.text.source.SourceViewer.setDocument(SourceViewer.java:435)
	at
org.eclipse.ui.texteditor.AbstractTextEditor.initializeSourceViewer(AbstractTextEditor.java:2882)
	at
org.eclipse.ui.texteditor.AbstractTextEditor.createPartControl(AbstractTextEditor.java:2649)
	at
org.eclipse.ui.texteditor.StatusTextEditor.createPartControl(StatusTextEditor.java:53)
	at
org.eclipse.ui.texteditor.AbstractDecoratedTextEditor.createPartControl(AbstractDecoratedTextEditor.java:314)
	at com.objfac.xmleditor.BaseEditor.createPartControl(BaseEditor.java)
	at com.objfac.xmleditor.XMLEditor.createPartControl(XMLEditor.java)
	at
org.eclipse.ui.internal.EditorReference.createPartHelper(EditorReference.java:585)
	at org.eclipse.ui.internal.EditorReference.createPart(EditorReference.java:365)
	at
org.eclipse.ui.internal.WorkbenchPartReference.getPart(WorkbenchPartReference.java:552)
	at org.eclipse.ui.internal.PartPane.setVisible(PartPane.java:283)
	at
org.eclipse.ui.internal.presentations.PresentablePart.setVisible(PresentablePart.java:126)
	at
org.eclipse.ui.internal.presentations.util.PresentablePartFolder.select(PresentablePartFolder.java:268)
	at
org.eclipse.ui.internal.presentations.util.LeftToRightTabOrder.select(LeftToRightTabOrder.java:65)
	at
org.eclipse.ui.internal.presentations.util.TabbedStackPresentation.selectPart(TabbedStackPresentation.java:391)
	at
org.eclipse.ui.internal.PartStack.refreshPresentationSelection(PartStack.java:1102)
	at org.eclipse.ui.internal.PartStack.setSelection(PartStack.java:1051)
	at org.eclipse.ui.internal.PartStack.showPart(PartStack.java:1256)
	at org.eclipse.ui.internal.PartStack.add(PartStack.java:442)
	at org.eclipse.ui.internal.EditorStack.add(EditorStack.java:109)
	at
org.eclipse.ui.internal.EditorSashContainer.addEditor(EditorSashContainer.java:60)
	at org.eclipse.ui.internal.EditorAreaHelper.addToLayout(EditorAreaHelper.java:212)
	at org.eclipse.ui.internal.EditorAreaHelper.addEditor(EditorAreaHelper.java:202)
	at org.eclipse.ui.internal.EditorManager.createEditorTab(EditorManager.java:753)
	at
org.eclipse.ui.internal.EditorManager.openEditorFromDescriptor(EditorManager.java:665)
	at org.eclipse.ui.internal.EditorManager.openEditor(EditorManager.java:628)
	at
org.eclipse.ui.internal.WorkbenchPage.busyOpenEditorBatched(WorkbenchPage.java:2323)
	at org.eclipse.ui.internal.WorkbenchPage.busyOpenEditor(WorkbenchPage.java:2258)
	at org.eclipse.ui.internal.WorkbenchPage.access$9(WorkbenchPage.java:2250)
	at org.eclipse.ui.internal.WorkbenchPage$9.run(WorkbenchPage.java:2236)
	at org.eclipse.swt.custom.BusyIndicator.showWhile(BusyIndicator.java:69)
	at org.eclipse.ui.internal.WorkbenchPage.openEditor(WorkbenchPage.java:2231)
	at org.eclipse.ui.internal.WorkbenchPage.openEditor(WorkbenchPage.java:2204)
	at
org.eclipse.ui.internal.editors.text.OpenExternalFileAction.run(OpenExternalFileAction.java:129)
	at
org.eclipse.ui.internal.editors.text.OpenExternalFileAction.run(OpenExternalFileAction.java:98)
	at org.eclipse.ui.internal.PluginAction.runWithEvent(PluginAction.java:246)
	at org.eclipse.ui.internal.WWinPluginAction.runWithEvent(WWinPluginAction.java:223)
	at
org.eclipse.jface.action.ActionContributionItem.handleWidgetSelection(ActionContributionItem.java:538)
	at
org.eclipse.jface.action.ActionContributionItem.access$2(ActionContributionItem.java:488)
	at
org.eclipse.jface.action.ActionContributionItem$5.handleEvent(ActionContributionItem.java:400)
	at org.eclipse.swt.widgets.EventTable.sendEvent(EventTable.java:66)
	at org.eclipse.swt.widgets.Widget.sendEvent(Widget.java:843)
	at org.eclipse.swt.widgets.Display.runDeferredEvents(Display.java:3080)
	at org.eclipse.swt.widgets.Display.readAndDispatch(Display.java:2713)
	at org.eclipse.ui.internal.Workbench.runEventLoop(Workbench.java:1699)
	at org.eclipse.ui.internal.Workbench.runUI(Workbench.java:1663)
	at org.eclipse.ui.internal.Workbench.createAndRunWorkbench(Workbench.java:367)
	at org.eclipse.ui.PlatformUI.createAndRunWorkbench(PlatformUI.java:143)
	at org.eclipse.ui.internal.ide.IDEApplication.run(IDEApplication.java:103)
	at
org.eclipse.core.internal.runtime.PlatformActivator$1.run(PlatformActivator.java:226)
	at org.eclipse.core.runtime.adaptor.EclipseStarter.run(EclipseStarter.java:376)
	at org.eclipse.core.runtime.adaptor.EclipseStarter.run(EclipseStarter.java:163)
	at sun.reflect.NativeMethodAccessorImpl.invoke0(Native Method)
	at sun.reflect.NativeMethodAccessorImpl.invoke(Unknown Source)
	at sun.reflect.DelegatingMethodAccessorImpl.invoke(Unknown Source)
	at java.lang.reflect.Method.invoke(Unknown Source)
	at org.eclipse.core.launcher.Main.invokeFramework(Main.java:334)
	at org.eclipse.core.launcher.Main.basicRun(Main.java:278)
	at org.eclipse.core.launcher.Main.run(Main.java:973)
	at org.eclipse.core.launcher.Main.main(Main.java:948)

Note that org.eclipse.wst.sse.core.internal.text.BasicStructuredDocument has no
business being in this stack trace!
*** Bug 49594 has been marked as a duplicate of this bug. ***
(In reply to comment #2)
&gt; *** Bug 49594 has been marked as a duplicate of this bug. ***

Bug 49594 is not quite a duplicate, it describes a similar problem with a
different extension point (org.eclipse.core.filebuffers.documentCreation).  I
assume same is true of org.eclipse.core.filebuffers.documentSetup and
org.eclipse.core.filebuffers.annotationModelCreation.
Actually it is the same problem. org.eclipse.core.filebuffers.documentCreation
extensions can also conflict _and_ they can conflict with
org.eclipse.ui.editors.documentProviders extensions. (The latter is actually
what is happening in my earlier stack trace. WST uses documentCreation while
XMLBuddy uses documentProviders.)

Like you, I'm suspicious that
org.eclipse.core.filebuffers.annotationModelCreation has the same issue, but I
haven't actually seen an example. Since viewers are not shared it could be this
works ok.

I don't see a conflict problem with org.eclipse.core.filebuffers.documentSetup.
See Bug 89195 for a horrible example. It should be possible for multiple
different content types to be detected for the same file without interference;
indeed, it is intrinsic that any file in XML syntax - Ant, Maven, J2EE, XSLT -
is also an XML file and can be edited by any XML editor. The conceptual problem
is that there is not, nor will ever be, a single "best" document creator
associated with a file. The document creator that must be used when a file is
opened is the one required by the plugin that opens it.

Historically, I know Text got in this state by trying to satisfy two requirements:

- If a user makes a change in one editor and the file is also open in another
editor, the change should be reflected in the other.

- It should be possible to open files outside the workspace in Eclipse.

while losing sight of this requirement:

- It should be possible for the user (or Eclipse) to choose any editor for any file.

The whole "content type" thing has just been a distraction. As Bug 89195 shows,
each editor is trying to use content types to force creation of the document
class appropriate for that editor. Completely wrong-headed.

I note this is marked for 3.2. Some discussion of the proposed solution would
sure be nice. 
Would a solution be acceptable where the problem we see now only might happen if
two different editors are used to open the same file i.e.
- open a file with whatever editor would always work
- open the same file again with above editor would also always work and they would
  be in sync as long a file buffers and/or text file document provider is used
- open the same file again with a different editor might fail if that editor
  expects more from a document than what's speced in IDocument
I'm not sure I follow your proposal, Dani. But, will chime in on some of the 
general issues in this area -- and there are many. 

1. The bug described in comment 2 ... "BasicStructuredDocument has no
business being in this stack trace" ... is really just a bug against 
wtp.sse ... we are not meeting the spec of IDocument and Partioners, 
I'd guess, and otherwise, an editor shouldn't mind (too much) who implements 
IDocument. 

2. bug 89195 is not really the same problem as this one, IMHO. That issue would
be a problem if no editors (or even documents) were involved at all. Its a case
that "ant" is not a very distinct "language" but the ant team is (rightfully)
trying to make things easier for users by identifying ant content, and providing
special functions for cases a resource is ant content. (And they are just an
over eager bunch :)

3. The participant pattern (and actually the whole plugin pattern) in Eclipse
does not have a well organized story for what to do if there are "conflicting"
contributions for something. Who wins? Ultimately, there will be cases where a
user will have to "pick one" .... but I have not seen any general infrastructure
for this, or good examples, or an overall design recommendation for how to
handle  it in a consistent fashion. [And, I know, everyone hopes it shouldn't be
needed, 
that we could be intuitive and know exactly what the users wants ... but ... ]

4. I know to "editor people" it seems no big deal, but plesae don't think of a
Document as just an editor construct. It should be a full fledged "text model"
object all in its own right, no matter what UI is modifying it. Which makes it
this general problem all the worse (but the solution needs to apply to
non-editor use cases as well). 

So ... where to from here? Has anyone else thought of any of the above issues? 
Would it help to take a step back and detail the requirements, design, and
direction of "Document"? and FileBuffers? and DocumentProviders? (And, apologies
in advance if these design documents already exist and I just don't know about
them). 

Thanks for reading. 



(In reply to comment #6)
&gt; Would a solution be acceptable where the problem we see now only might happen if
&gt; two different editors are used to open the same file i.e.

Doesn't sound like a solution to me, especially now that it is possible (and
easy) to open a file again in the same window with a different editor.

Why can't we just establish as reality what is already true in practice? A
plugin that opens a file needs to be able to specify the document class used for
the file. Data sharing and multi-editor synchronization is great, but the
document belongs to the plugin, not to Eclipse. So a way needs to be found to
share data without forcing editors to share the IDocument object.
(In reply to comment #7)

I very much agree with most of David's comments. I say that up front because it
is sometimes not obvious to people I am agreeing with them. ;-}

&gt; 1. ...an editor shouldn't mind (too much) who implements 
&gt; IDocument.

But the horse is already out of the barn. The Java editor won't work unless it
gets a synchronizable document. The WTP editors won't work unless they get a
structured document. It was quite a struggle to get XMLBuddy to be as
document-neutral as it is, and it is still crippled when it isn't able to use
its own DocumentProvider.

OTOH, if Text were to declare that an editor _must_ not depend on the class of
its IDocument (or IDocumentProvider) objects - and all existing editors could
get the functionality they currently depend on in other ways - that would be fine.

&gt; 2. bug 89195 is not really the same problem as this one, IMHO. 

IMHO it is. ;-} The editors are trying to use content type to force selection of
their own document creators. I cry foul. This is just a hack to overcome the
problem described in this bug. Eliminate the need for the hack and you will
eliminate Bug 89195 as well.

&gt; 3. The participant pattern (and actually the whole plugin pattern) in Eclipse
&gt; does not have a well organized story for what to do if there are "conflicting"
&gt; contributions for something. Who wins? Ultimately, there will be cases where a
&gt; user will have to "pick one" .... but I have not seen any general infrastructure
&gt; for this, or good examples, or an overall design recommendation for how to
&gt; handle  it in a consistent fashion.

I snipped the part that seemed to suggest, gee, maybe we can't do this right. Of
course we can. For the editor case, user picks editor (or Eclipse picks default
editor) and everything else is determined by the selection of the editor. For
the programmable case, plugin picks editor (or whatever, see below) and
everything else is determined by the selection of the editor.

&gt; 4. I know to "editor people" it seems no big deal, but plesae don't think of a
&gt; Document as just an editor construct. It should be a full fledged "text model"
&gt; object all in its own right, no matter what UI is modifying it. Which makes it
&gt; this general problem all the worse (but the solution needs to apply to
&gt; non-editor use cases as well).

I don't agree, but mostly because IDocument seems hopelessly contaminated by
history. There needs to be a text model, that's for sure, but it seems unlikely
it can be the document object. Water under the bridge.

&gt; So ... where to from here? Has anyone else thought of any of the above issues? 
&gt; Would it help to take a step back and detail the requirements, design, and
&gt; direction of "Document"? and FileBuffers? and DocumentProviders? (And, apologies
&gt; in advance if these design documents already exist and I just don't know about
&gt; them).

Yes! The right thing to do is stop trying to make the current broken API work,
step back and find the right abstractions, move forward from there.

David is dead right that there needs to be an abstraction that is not
necessarily an editor but is a "file opener". There needs to be an abstraction
for the data model of a file to allow sharing transparent to the current
document object. From current requirements, the data model needs to be
synchronized to prevent collisions and allow atomic "transactions". What are its
other requirements?

I personally believe that error/warning/info annotations are not data model
properties but properties of the "file opener". Different views of the data
induce different error states. E.g., is the file an XML file, an XSLT file or a
specific type of transform?

Like David, if there are any design documentation or proposals, I would love to
see them. Just a requirements list would be great!
I agree that the current situation is a problem.

File buffers intent was to offer access to a shared document to several clients
(actions, models, editors) that need the document and want to share it, however,
it was not the intent to make this editor specific or aware. The idea was that
this shared document is the common ground i.e. documentCreation and setup should
only be used if it is seen as *the* common ground (i.e. master). If an editor
would require a special document type and/or setup then the idea was that it
should achieve this using its own file document provider (eventually wrapping
the document it gets from file buffers) because the document provider was
invented to provide the correct document and setup for a given editor family. It
was not the intent that each editor uses the file buffer extension points. This
should only be done if the intent is to share the creation and setup to all
clients (which should be rare).

Having said that, the problems started  with implementation provided for the
Java editor (and others in the Eclipse SDK) which exactly gave the impression
that those extension points should be used by editor providers. In addition the
Java editor's implementation of IDocumentSetupParticipant contradicts to the
spec of IDocumentSetupParticipant by setting a partitioner for the default
partitioning in case the document doesn't implement IDocumentExtension3.

Until we have better solution (a fix without any changes on the client side will
most likely not be possible) there are several things clients could do:
1) if you can live with the fact that your editor's document is only shared
between your editors you can provide your own document provider which does not
use file buffers (e.g. FileDocumentProvider)
2) if you want sharing but expect a special document and setup you can implement
your own document provider that gets the document from file buffers and wraps it
and you would not contribute any file buffer extensions. Note that this solution
might still fail if there's are documentSetup contributions from different
providers for the same content type.
(In reply to comment #10)

Dani, I'm not sure I understand your response. In the first place, document
creation and setup (the assignment of a partitioner) are very different cases.
An editor may be able to work with any IDocument implementation but I have never
seen one that would work with any partitioner other than its own. Unless I am
missing something I subtract "and setup" from your reply.

The suggestion that an editor provide its own documentprovider to wrap the
filebuffers-created document seems to forget that filebuffers also creates the
documentprovider for external files.

Lastly, "*the* common ground" makes no sense to me. IDocument is the common
ground. Everything else is a plugin extension, and you can hardly expect two
independently developed plugins to agree on what the common ground would be for
a file type. (Moreover, if an API is undocumented as to intent you can hardly
expect plugins to use it according to its intent.) I see the document creation
APIs as an ugly hack to satisfy the Java editor, which needed its document class
to be synchronized so multiple threads could use it at once. The true ugliness
is revealed by the fact it only works if there is only one document creator for
*.java files.

The root question is: why do editors/views/models need their own document type?
I see two use cases.

Every editor of any sophistication has multiple threads that need to
simultaneously access the document. There are two possible implementations: make
a copy of the document contents on the UI thread for each background thread to
use and validate the results of the background thread with the mod stamp, or
synchronize access to the document. The latter is the only performant solution
for large files (XML has use cases in the hundreds of megabytes). Therefore
synchronization should be implemented in the base documents created by file
buffers. This would eliminate the need for Java and Ant to have special document
classes (Ant's doesn't work, anyway).

The second important use case is implementing IDocument to add extensions
related to the editor-specific document model, which is apparently why the WTP
editors do it. In the MVC paradigm, the sourceviewer is the viewer, the document
is the model and the editor (or whatever) is the controller. So naturally when
applications have more sophisticated models than plain text, e.g., Java's AST or
XML's tree, they tend to lump these together. I personally believe it is a
mistake to extend the IDocument implementation for this purpose; all that is
required is that the editor-specific model be 1-1 to the shared document. I
believe I have seen a comment to this effect from David. It would be simple
enough to hang the editor-specific model on the editor-specific partitioner
already stored in the document object.

Therefore, lacking any valid use cases, the document creator extension points
should be deprecated in 3.2 and all misleading examples removed from the core
distribution. Plugins should not provide document creators _or_
documentproviders - the latter don't work for external files, for which
filebuffers creates a documentprovider that actually works.

While you are up, please deprecate setDocumentPartitioner() and
getDocumentPartitioner() in IDocument. These have no place in the world of
shared documents and I don't believe there are any valid use cases that don't
want sharing. The fact that there are some cases where users don't *get* sharing
is just an implementation artifact; these cases should be eliminated. If there
is a need to read/write a file in a non-shared way, java.io.File is there for
the purpose. It should not be possible using IDocument.
Let me see if I can summarize one short term solution to at least do better than
we are now for the specific "interested parties". 

1. WTP document start using documentChanged2 instead of the very old
documentChange (I'm not really sure what this accomplishes, I guess we are 
supposed to do something with the region that's returned from it, but its unclear
what the constract is, exactly. 
2. WTP stop setting default partition at all (and be on the look out for NPE's). 
3. WTP AND XML Buddy implement getFileDocumentProvider in their editor to return 
an instance of their document provider (and * not use * the plugin.xml extension
point for it. (I'm not sure what XMLBuddy needs for a document, I assume the
"generic" one, but with their own partioner?). 
5. WTP's documentProvider would still "force" use the common StrucutredDocument
and all we need from it. When an editor is not used, we'd still use document
factory so it would still be the common ground shared document. When someone
besides an editor got a document. (And, recall, that's actually our greatest
concern ... editors could work perfectly, but if our document is not used when
someone tries to use our model, then they are hosed). 

Not sure the above will work as all expect, but I think that's the next step to
try. And we'll try to sort out the higher level theoretical things later? 


As for our documents special needs, there is quite a few. Thread safety (job
safety) is one. Another is to be able to call 'replace' (or add positions) from
non-Dispaly thread. 

More imporantly, even then document is changed, we 'reparse' a certain amount of
our strucuture, and send out more specific document events than generic document
does. (I do not like the reconciler thread concept). Its for this reason, I do
not think we could ever simply "wrap" an existing document that others might
have access to (in an unwrapped fashion) since we could not then control the
exact sequence of events and parses. And, recall, we often need to get a
document, even when we are not editing! To build other models, refactor links, etc. 

Lastly, there's some improvements I think need to be made to document that I
assumed another implemetation would be the best way to solve. But that's a long
story, so let's focus on the specific short term solution to see if any better. 


(In reply to comment #12)
Sounds good and moves in the right direction, but I think there are at least two
issues.

- If XMLBuddy opens a file and then WTP opens the same file, either there is not
going to be any sharing or WTP isn't going to work. (XMLBuddy is pretty
document-agnostic as we do the stupid thing and copy the document for background
threads.)

- For external files, I think Eclipse creates the documentprovider and the
editor doesn't really get any say in the matter. Could be wrong. Dani?

I still don't understand why WTP needs to specify the document class. The part
of your requirements I understood all seem to deal with concurrent access. If
the default document created by filebuffers provided synchronization, what else
would you need?
re comment 11:

Bob, let me try to answer your comment:

&gt;An editor may be able to work with any IDocument implementation but I have never
&gt;seen one that would work with any partitioner other than its own.
An editor requires his own partitioning being in place but it should be
irrelevant whether there are other partitionings around. Problems arise if the
editor does not have its own partitioning but uses the default partitioning and
someone else also registers a partitioner for the default partitioning. I
IDocumentSetupParticipant specifies this and those who do otherwise basically
violate the spec. Initially we considered not to call the participant if the
document doesn't implement IDocumentExtension3 but there might be other aspects
that someone would like to setup (be it simply to know when this happens). Up to
know the extension point itself only mentioned that IDocumentSetupParticipant
must be implemented. I've now also explicitly written that into the extension
point doc.

&gt;The suggestion that an editor provide its own documentprovider to wrap the
&gt;filebuffers-created document seems to forget that filebuffers also creates the
&gt;documentprovider for external files.
File buffers don't create documentProviders. But yes, we provide a default
document provider for external files for those using the implicit document
provider but every editor can define its own (explicit) document provider by
calling AbstractTextEditor.setDocumentProvider(IDocumentProvider provider).

&gt;Lastly, "*the* common ground" makes no sense to me. IDocument is the common
&gt;ground. Everything else is a plugin extension, 
This is true for IDEs and other tools that are developed to be extensible but
many clients use Eclipse to build their applications (see rcp) and they might
well have some other common ground.

&gt;...for large files (XML has use cases in the hundreds of megabytes). Therefore
&gt;synchronization should be implemented in the base documents created by file
&gt;buffers.
That's my current thinking i.e. you'll get synchronized document that's shared
and that implements IDocument. Whoever wants more can do more based on that
document.

&gt;Therefore, lacking any valid use cases, the document creator extension points
&gt;should be deprecated in 3.2
That's again my plan.

&gt;While you are up, please deprecate setDocumentPartitioner() and
&gt;getDocumentPartitioner() in IDocument. These have no place in the world of
&gt;shared documents 
This can't happen because lots of clients will never need/use that sharing and
are fully happy with the default partitioning.
&gt;- For external files, I think Eclipse creates the documentprovider and the
&gt;editor doesn't really get any say in the matter. Could be wrong. Dani?
As outline in the previous comment every editor is free to use its own document
provider.

&gt;I still don't understand why WTP needs to specify the document class.
David, can you give a short explanation for Bob?
Answer to comment 12 will follow this weekend.
(In reply to comment #14)
&gt; Problems arise if the
&gt; editor does not have its own partitioning but uses the default partitioning
&gt; and someone else also registers a partitioner for the default partitioning.

What default partitioning? In my experience the default partitioning is no
partitioning, i.e., getDocumentPartitioner() returns null.

&gt; Up to
&gt; know the extension point itself only mentioned that IDocumentSetupParticipant
&gt; must be implemented. I've now also explicitly written that into the extension
&gt; point doc.

That's good, but I fear you're not writing to the right audience. The people who
need to know there's a collision problem with setDocumentPartitioner() and
shared documents are those who don't know about the extension point.

&gt; File buffers don't create documentProviders. But yes, we provide a default
&gt; document provider for external files for those using the implicit document
&gt; provider

;-}

&gt; but every editor can define its own (explicit) document provider by
&gt; calling AbstractTextEditor.setDocumentProvider(IDocumentProvider provider).

Sure you can, but the external file example shows that editors that do define
their own document providers wind up broken because of assumptions in the
document provider about specific IEditorInput types. When the next release
introduces an input type that uses a URI instead of any sort of file, all
existing document providers will be hopelessly broken. It's not even possible to
adjust to the external file input type - it's not API. This whole (input) area
is crap. It should be possible to read and write documents without having to
cast, excuse me, adapt, down to specific input types. But that's a digression.

Leaving aside the impossibility of writing a general-purpose document provider,
what is the provider supposed to do? One would guess from the name it should
provide a document. But if it creates its own document object, it won't get
sharing. What is the code sequence that allows a document provider to fetch a
shared document object from filebuffers?

You can probably answer the last question, but do you see why I think that
document users are better off not implementing document providers? They have far
better insulation from future extensions if they leave the matter to Eclipse.

&gt; &gt;Lastly, "*the* common ground" makes no sense to me. IDocument is the common
&gt; &gt;ground. Everything else is a plugin extension, 
&gt; This is true for IDEs and other tools that are developed to be extensible but
&gt; many clients use Eclipse to build their applications (see rcp) and they might
&gt; well have some other common ground.

They might want UI that doesn't assume toolbars, too, but they don't get one
from RCP. RCP is not a blank slate.

&gt; That's my current thinking i.e. you'll get synchronized document that's shared
&gt; and that implements IDocument. Whoever wants more can do more based on that
&gt; document.

Hooray! Please note my comment to Bug 75767.

&gt; &gt;Therefore, lacking any valid use cases, the document creator extension points
&gt; &gt;should be deprecated in 3.2
&gt; That's again my plan.

+1

&gt; &gt;While you are up, please deprecate setDocumentPartitioner() and
&gt; &gt;getDocumentPartitioner() in IDocument. These have no place in the world of
&gt; &gt;shared documents 
&gt; This can't happen because lots of clients will never need/use that sharing and
&gt; are fully happy with the default partitioning.

Of course it can happen. The alternative, using a named document partitioner, is
just as easy to use and has no hidden pitfalls. It's not like you would be
removing functionality.


&gt;What default partitioning? In my experience the default partitioning is no
&gt;partitioning, i.e., getDocumentPartitioner() returns null.
Correct. What I meant was: clients registering their partitioner either via
setDocumentPartitioner(IDocumentPartitioner) or as
IDocumentExtension3.DEFAULT_PARTITIONING.

&gt; It's not even possible to
&gt;adjust to the external file input type - it's not API.
This should probably be changed so that clients can use it.

If we'd deprecate get/setDocumentPartitioner(IDocumentPartitioner) then we
should also deprecate the IDocumentExtension3.DEFAULT_PARTITIONING constant
otherwise this could result in the same conflict again. The problem with the
deprecation is that those who want to get rid of the deprecation are force to
implement IDocumentExtension3 even if the eventually live in a closed world.
In reply to comment 12:


&gt;1. WTP document start using documentChanged2 instead of the very old
&gt;documentChange (I'm not really sure what this accomplishes, I guess we are 
Is a good idea but not really connected to this PR.

&gt;supposed to do something with the region that's returned from it,
For example the DocumentPartitioningChangedEvent.setPartitionChange(...) can be
reduced to the region that changed instead of using 0..length.

&gt; but its unclear what the constract is, exactly. 
The minimal region that includes all partition changes caused by the invocation
of the document partitioner.

&gt;3. WTP AND XML Buddy implement getFileDocumentProvider in their editor to &gt;return 
&gt;an instance of their document provider (and * not use * the plugin.xml
&gt;extension point for it. 
Do not overwrite getDocumentProvider() [I assume that's what you meant with
getFileDocumentProvider]. Instead call setDocumentProvider(...) in your editor's
constructor to set the explicit document provider.

&gt;5. WTP's documentProvider would still "force" use the common StrucutredDocument
&gt;and all we need from it. When an editor is not used, we'd still use document
&gt;factory so it would still be the common ground shared document.
Stay away form using the documentCreation extension point. I plan to deprecate
it for 3.2. If you need your special document type then you could introduce your
own document factory from where clients can get the specialized document.

(In reply to comment #18)

What is the API that allows a document provider to fetch a shared document
object from filebuffers (so it can be shadowed)?

&gt; &gt; It's not even possible to
&gt; &gt;adjust to the external file input type - it's not API.
&gt; This should probably be changed so that clients can use it.

You might want to change its name, as well, to e.g. PathEditorInput, to stop
needing to explain what "JavaFile" means.

&gt; If we'd deprecate get/setDocumentPartitioner(IDocumentPartitioner) then we
&gt; should also deprecate the IDocumentExtension3.DEFAULT_PARTITIONING constant
&gt; otherwise this could result in the same conflict again. The problem with the
&gt; deprecation is that those who want to get rid of the deprecation are force to
&gt; implement IDocumentExtension3 even if the eventually live in a closed world.

That kind of inconvenience is all over Eclipse. "Deprecated; use
IDocumentExtension3.setDocumentPartitioner()". No biggie. (There are a number of
other methods in IDocumentExtension3 that should be deprecated in IDocument, as
well. IIRC, they must all be used together.

As for "closed world", I think of that as a state of blissful ignorance that
ends the first time a document must be opened by two different processes. ;-}
Just thought of this: When you make JavaFileEditorInput API, you should also
provide a single documentprovider for JavaFileEditorInput, IFileEditorInput and
IStorageEditorInput. IIRC, except for getting the input and output streams most
of the code is common, including getting encoding right per content types. Then
"external files" wouldn't need to be a special case.
Question for David: If the shared document object produced by filebuffers allows
synchronization, why do need your own IDocument implementation? If you hang
other "model" data off it, why don't you just hang that data elsewhere? Maybe
subclassing isn't the best solution. (It's certainly not the easiest.)
Please refere to bug 111313
Fixed in HEAD.
Available in builds &gt; N20060105-0010.

See for details see bug 96917, comment 17.
verifying...
verified in I20060214-0010
*** Bug 101846 has been marked as a duplicate of this bug. ***
Sorry to ask a stupid question, but: Can someone please summarize what the right course of action should be for plugin authors that are implementing editors derived from CompilationUnitEditor and need to create custom documents? Do we extend at org.eclipse.core.internal.filebuffers.ExtensionsRegistry? Do we need to define a content type as well? Or do we need to implement our own document provider that does buffering, compilation unit creation, etc. just to add some additional state to the Document object?
It depends whether your editor edits Java files or soemthing different (e.g. non *.java files). If so, a different content type makes sense.

Best way is to have your own document provider that adapts the file buffer document.</WithStack>
    <WithOutStack>Or at least work.

When two or more plugins extend org.eclipse.ui.editors.documentProviders for the
same file extension and/or content type, Eclipse makes a random* choice of one
of them to create the document for the content. Since almost no editors work at
all when their own document class is not used to open a file, using this API
guarantees that all but one plugins in this situation are broken.

* The choice is random enough that under certain circumstances one
documentProvider will be used while at other times the other is. This leads to
_both_ plugins being broken for different use cases.
To reproduce this, install the WTP editors and XMLBuddy (free download). Use
File &gt; Open File to open an "external" XML file. Change the default editor back
and forth between XMLBuddy and the WTP XML editor and Open File. One of the
editors will fail. The stack trace when XMLBuddy is used to edit the file but
WTP is chosen to create the document looks like this:



Note that org.eclipse.wst.sse.core.internal.text.BasicStructuredDocument has no
business being in this stack trace!
*** Bug 49594 has been marked as a duplicate of this bug. ***
(In reply to comment #2)
&gt; *** Bug 49594 has been marked as a duplicate of this bug. ***

Bug 49594 is not quite a duplicate, it describes a similar problem with a
different extension point (org.eclipse.core.filebuffers.documentCreation).  I
assume same is true of org.eclipse.core.filebuffers.documentSetup and
org.eclipse.core.filebuffers.annotationModelCreation.
Actually it is the same problem. org.eclipse.core.filebuffers.documentCreation
extensions can also conflict _and_ they can conflict with
org.eclipse.ui.editors.documentProviders extensions. (The latter is actually
what is happening in my earlier stack trace. WST uses documentCreation while
XMLBuddy uses documentProviders.)

Like you, I'm suspicious that
org.eclipse.core.filebuffers.annotationModelCreation has the same issue, but I
haven't actually seen an example. Since viewers are not shared it could be this
works ok.

I don't see a conflict problem with org.eclipse.core.filebuffers.documentSetup.
See Bug 89195 for a horrible example. It should be possible for multiple
different content types to be detected for the same file without interference;
indeed, it is intrinsic that any file in XML syntax - Ant, Maven, J2EE, XSLT -
is also an XML file and can be edited by any XML editor. The conceptual problem
is that there is not, nor will ever be, a single "best" document creator
associated with a file. The document creator that must be used when a file is
opened is the one required by the plugin that opens it.

Historically, I know Text got in this state by trying to satisfy two requirements:

- If a user makes a change in one editor and the file is also open in another
editor, the change should be reflected in the other.

- It should be possible to open files outside the workspace in Eclipse.

while losing sight of this requirement:

- It should be possible for the user (or Eclipse) to choose any editor for any file.

The whole "content type" thing has just been a distraction. As Bug 89195 shows,
each editor is trying to use content types to force creation of the document
class appropriate for that editor. Completely wrong-headed.

I note this is marked for 3.2. Some discussion of the proposed solution would
sure be nice. 
Would a solution be acceptable where the problem we see now only might happen if
two different editors are used to open the same file i.e.
- open a file with whatever editor would always work
- open the same file again with above editor would also always work and they would
  be in sync as long a file buffers and/or text file document provider is used
- open the same file again with a different editor might fail if that editor
  expects more from a document than what's speced in IDocument
I'm not sure I follow your proposal, Dani. But, will chime in on some of the 
general issues in this area -- and there are many. 

1. The bug described in comment 2 ... "BasicStructuredDocument has no
business being in this stack trace" ... is really just a bug against 
wtp.sse ... we are not meeting the spec of IDocument and Partioners, 
I'd guess, and otherwise, an editor shouldn't mind (too much) who implements 
IDocument. 

2. bug 89195 is not really the same problem as this one, IMHO. That issue would
be a problem if no editors (or even documents) were involved at all. Its a case
that "ant" is not a very distinct "language" but the ant team is (rightfully)
trying to make things easier for users by identifying ant content, and providing
special functions for cases a resource is ant content. (And they are just an
over eager bunch :)

3. The participant pattern (and actually the whole plugin pattern) in Eclipse
does not have a well organized story for what to do if there are "conflicting"
contributions for something. Who wins? Ultimately, there will be cases where a
user will have to "pick one" .... but I have not seen any general infrastructure
for this, or good examples, or an overall design recommendation for how to
handle  it in a consistent fashion. [And, I know, everyone hopes it shouldn't be
needed, 
that we could be intuitive and know exactly what the users wants ... but ... ]

4. I know to "editor people" it seems no big deal, but plesae don't think of a
Document as just an editor construct. It should be a full fledged "text model"
object all in its own right, no matter what UI is modifying it. Which makes it
this general problem all the worse (but the solution needs to apply to
non-editor use cases as well). 

So ... where to from here? Has anyone else thought of any of the above issues? 
Would it help to take a step back and detail the requirements, design, and
direction of "Document"? and FileBuffers? and DocumentProviders? (And, apologies
in advance if these design documents already exist and I just don't know about
them). 

Thanks for reading. 



(In reply to comment #6)
&gt; Would a solution be acceptable where the problem we see now only might happen if
&gt; two different editors are used to open the same file i.e.

Doesn't sound like a solution to me, especially now that it is possible (and
easy) to open a file again in the same window with a different editor.

Why can't we just establish as reality what is already true in practice? A
plugin that opens a file needs to be able to specify the document class used for
the file. Data sharing and multi-editor synchronization is great, but the
document belongs to the plugin, not to Eclipse. So a way needs to be found to
share data without forcing editors to share the IDocument object.
(In reply to comment #7)

I very much agree with most of David's comments. I say that up front because it
is sometimes not obvious to people I am agreeing with them. ;-}

&gt; 1. ...an editor shouldn't mind (too much) who implements 
&gt; IDocument.

But the horse is already out of the barn. The Java editor won't work unless it
gets a synchronizable document. The WTP editors won't work unless they get a
structured document. It was quite a struggle to get XMLBuddy to be as
document-neutral as it is, and it is still crippled when it isn't able to use
its own DocumentProvider.

OTOH, if Text were to declare that an editor _must_ not depend on the class of
its IDocument (or IDocumentProvider) objects - and all existing editors could
get the functionality they currently depend on in other ways - that would be fine.

&gt; 2. bug 89195 is not really the same problem as this one, IMHO. 

IMHO it is. ;-} The editors are trying to use content type to force selection of
their own document creators. I cry foul. This is just a hack to overcome the
problem described in this bug. Eliminate the need for the hack and you will
eliminate Bug 89195 as well.

&gt; 3. The participant pattern (and actually the whole plugin pattern) in Eclipse
&gt; does not have a well organized story for what to do if there are "conflicting"
&gt; contributions for something. Who wins? Ultimately, there will be cases where a
&gt; user will have to "pick one" .... but I have not seen any general infrastructure
&gt; for this, or good examples, or an overall design recommendation for how to
&gt; handle  it in a consistent fashion.

I snipped the part that seemed to suggest, gee, maybe we can't do this right. Of
course we can. For the editor case, user picks editor (or Eclipse picks default
editor) and everything else is determined by the selection of the editor. For
the programmable case, plugin picks editor (or whatever, see below) and
everything else is determined by the selection of the editor.

&gt; 4. I know to "editor people" it seems no big deal, but plesae don't think of a
&gt; Document as just an editor construct. It should be a full fledged "text model"
&gt; object all in its own right, no matter what UI is modifying it. Which makes it
&gt; this general problem all the worse (but the solution needs to apply to
&gt; non-editor use cases as well).

I don't agree, but mostly because IDocument seems hopelessly contaminated by
history. There needs to be a text model, that's for sure, but it seems unlikely
it can be the document object. Water under the bridge.

&gt; So ... where to from here? Has anyone else thought of any of the above issues? 
&gt; Would it help to take a step back and detail the requirements, design, and
&gt; direction of "Document"? and FileBuffers? and DocumentProviders? (And, apologies
&gt; in advance if these design documents already exist and I just don't know about
&gt; them).

Yes! The right thing to do is stop trying to make the current broken API work,
step back and find the right abstractions, move forward from there.

David is dead right that there needs to be an abstraction that is not
necessarily an editor but is a "file opener". There needs to be an abstraction
for the data model of a file to allow sharing transparent to the current
document object. From current requirements, the data model needs to be
synchronized to prevent collisions and allow atomic "transactions". What are its
other requirements?

I personally believe that error/warning/info annotations are not data model
properties but properties of the "file opener". Different views of the data
induce different error states. E.g., is the file an XML file, an XSLT file or a
specific type of transform?

Like David, if there are any design documentation or proposals, I would love to
see them. Just a requirements list would be great!
I agree that the current situation is a problem.

File buffers intent was to offer access to a shared document to several clients
(actions, models, editors) that need the document and want to share it, however,
it was not the intent to make this editor specific or aware. The idea was that
this shared document is the common ground i.e. documentCreation and setup should
only be used if it is seen as *the* common ground (i.e. master). If an editor
would require a special document type and/or setup then the idea was that it
should achieve this using its own file document provider (eventually wrapping
the document it gets from file buffers) because the document provider was
invented to provide the correct document and setup for a given editor family. It
was not the intent that each editor uses the file buffer extension points. This
should only be done if the intent is to share the creation and setup to all
clients (which should be rare).

Having said that, the problems started  with implementation provided for the
Java editor (and others in the Eclipse SDK) which exactly gave the impression
that those extension points should be used by editor providers. In addition the
Java editor's implementation of IDocumentSetupParticipant contradicts to the
spec of IDocumentSetupParticipant by setting a partitioner for the default
partitioning in case the document doesn't implement IDocumentExtension3.

Until we have better solution (a fix without any changes on the client side will
most likely not be possible) there are several things clients could do:
1) if you can live with the fact that your editor's document is only shared
between your editors you can provide your own document provider which does not
use file buffers (e.g. FileDocumentProvider)
2) if you want sharing but expect a special document and setup you can implement
your own document provider that gets the document from file buffers and wraps it
and you would not contribute any file buffer extensions. Note that this solution
might still fail if there's are documentSetup contributions from different
providers for the same content type.
(In reply to comment #10)

Dani, I'm not sure I understand your response. In the first place, document
creation and setup (the assignment of a partitioner) are very different cases.
An editor may be able to work with any IDocument implementation but I have never
seen one that would work with any partitioner other than its own. Unless I am
missing something I subtract "and setup" from your reply.

The suggestion that an editor provide its own documentprovider to wrap the
filebuffers-created document seems to forget that filebuffers also creates the
documentprovider for external files.

Lastly, "*the* common ground" makes no sense to me. IDocument is the common
ground. Everything else is a plugin extension, and you can hardly expect two
independently developed plugins to agree on what the common ground would be for
a file type. (Moreover, if an API is undocumented as to intent you can hardly
expect plugins to use it according to its intent.) I see the document creation
APIs as an ugly hack to satisfy the Java editor, which needed its document class
to be synchronized so multiple threads could use it at once. The true ugliness
is revealed by the fact it only works if there is only one document creator for
*.java files.

The root question is: why do editors/views/models need their own document type?
I see two use cases.

Every editor of any sophistication has multiple threads that need to
simultaneously access the document. There are two possible implementations: make
a copy of the document contents on the UI thread for each background thread to
use and validate the results of the background thread with the mod stamp, or
synchronize access to the document. The latter is the only performant solution
for large files (XML has use cases in the hundreds of megabytes). Therefore
synchronization should be implemented in the base documents created by file
buffers. This would eliminate the need for Java and Ant to have special document
classes (Ant's doesn't work, anyway).

The second important use case is implementing IDocument to add extensions
related to the editor-specific document model, which is apparently why the WTP
editors do it. In the MVC paradigm, the sourceviewer is the viewer, the document
is the model and the editor (or whatever) is the controller. So naturally when
applications have more sophisticated models than plain text, e.g., Java's AST or
XML's tree, they tend to lump these together. I personally believe it is a
mistake to extend the IDocument implementation for this purpose; all that is
required is that the editor-specific model be 1-1 to the shared document. I
believe I have seen a comment to this effect from David. It would be simple
enough to hang the editor-specific model on the editor-specific partitioner
already stored in the document object.

Therefore, lacking any valid use cases, the document creator extension points
should be deprecated in 3.2 and all misleading examples removed from the core
distribution. Plugins should not provide document creators _or_
documentproviders - the latter don't work for external files, for which
filebuffers creates a documentprovider that actually works.

While you are up, please deprecate setDocumentPartitioner() and
getDocumentPartitioner() in IDocument. These have no place in the world of
shared documents and I don't believe there are any valid use cases that don't
want sharing. The fact that there are some cases where users don't *get* sharing
is just an implementation artifact; these cases should be eliminated. If there
is a need to read/write a file in a non-shared way, java.io.File is there for
the purpose. It should not be possible using IDocument.
Let me see if I can summarize one short term solution to at least do better than
we are now for the specific "interested parties". 

1. WTP document start using documentChanged2 instead of the very old
documentChange (I'm not really sure what this accomplishes, I guess we are 
supposed to do something with the region that's returned from it, but its unclear
what the constract is, exactly. 
2. WTP stop setting default partition at all (and be on the look out for NPE's). 
3. WTP AND XML Buddy implement getFileDocumentProvider in their editor to return 
an instance of their document provider (and * not use * the plugin.xml extension
point for it. (I'm not sure what XMLBuddy needs for a document, I assume the
"generic" one, but with their own partioner?). 
5. WTP's documentProvider would still "force" use the common StrucutredDocument
and all we need from it. When an editor is not used, we'd still use document
factory so it would still be the common ground shared document. When someone
besides an editor got a document. (And, recall, that's actually our greatest
concern ... editors could work perfectly, but if our document is not used when
someone tries to use our model, then they are hosed). 

Not sure the above will work as all expect, but I think that's the next step to
try. And we'll try to sort out the higher level theoretical things later? 


As for our documents special needs, there is quite a few. Thread safety (job
safety) is one. Another is to be able to call 'replace' (or add positions) from
non-Dispaly thread. 

More imporantly, even then document is changed, we 'reparse' a certain amount of
our strucuture, and send out more specific document events than generic document
does. (I do not like the reconciler thread concept). Its for this reason, I do
not think we could ever simply "wrap" an existing document that others might
have access to (in an unwrapped fashion) since we could not then control the
exact sequence of events and parses. And, recall, we often need to get a
document, even when we are not editing! To build other models, refactor links, etc. 

Lastly, there's some improvements I think need to be made to document that I
assumed another implemetation would be the best way to solve. But that's a long
story, so let's focus on the specific short term solution to see if any better. 


(In reply to comment #12)
Sounds good and moves in the right direction, but I think there are at least two
issues.

- If XMLBuddy opens a file and then WTP opens the same file, either there is not
going to be any sharing or WTP isn't going to work. (XMLBuddy is pretty
document-agnostic as we do the stupid thing and copy the document for background
threads.)

- For external files, I think Eclipse creates the documentprovider and the
editor doesn't really get any say in the matter. Could be wrong. Dani?

I still don't understand why WTP needs to specify the document class. The part
of your requirements I understood all seem to deal with concurrent access. If
the default document created by filebuffers provided synchronization, what else
would you need?
re comment 11:

Bob, let me try to answer your comment:

&gt;An editor may be able to work with any IDocument implementation but I have never
&gt;seen one that would work with any partitioner other than its own.
An editor requires his own partitioning being in place but it should be
irrelevant whether there are other partitionings around. Problems arise if the
editor does not have its own partitioning but uses the default partitioning and
someone else also registers a partitioner for the default partitioning. I
IDocumentSetupParticipant specifies this and those who do otherwise basically
violate the spec. Initially we considered not to call the participant if the
document doesn't implement IDocumentExtension3 but there might be other aspects
that someone would like to setup (be it simply to know when this happens). Up to
know the extension point itself only mentioned that IDocumentSetupParticipant
must be implemented. I've now also explicitly written that into the extension
point doc.

&gt;The suggestion that an editor provide its own documentprovider to wrap the
&gt;filebuffers-created document seems to forget that filebuffers also creates the
&gt;documentprovider for external files.
File buffers don't create documentProviders. But yes, we provide a default
document provider for external files for those using the implicit document
provider but every editor can define its own (explicit) document provider by
calling AbstractTextEditor.setDocumentProvider(IDocumentProvider provider).

&gt;Lastly, "*the* common ground" makes no sense to me. IDocument is the common
&gt;ground. Everything else is a plugin extension, 
This is true for IDEs and other tools that are developed to be extensible but
many clients use Eclipse to build their applications (see rcp) and they might
well have some other common ground.

&gt;...for large files (XML has use cases in the hundreds of megabytes). Therefore
&gt;synchronization should be implemented in the base documents created by file
&gt;buffers.
That's my current thinking i.e. you'll get synchronized document that's shared
and that implements IDocument. Whoever wants more can do more based on that
document.

&gt;Therefore, lacking any valid use cases, the document creator extension points
&gt;should be deprecated in 3.2
That's again my plan.

&gt;While you are up, please deprecate setDocumentPartitioner() and
&gt;getDocumentPartitioner() in IDocument. These have no place in the world of
&gt;shared documents 
This can't happen because lots of clients will never need/use that sharing and
are fully happy with the default partitioning.
&gt;- For external files, I think Eclipse creates the documentprovider and the
&gt;editor doesn't really get any say in the matter. Could be wrong. Dani?
As outline in the previous comment every editor is free to use its own document
provider.

&gt;I still don't understand why WTP needs to specify the document class.
David, can you give a short explanation for Bob?
Answer to comment 12 will follow this weekend.
(In reply to comment #14)
&gt; Problems arise if the
&gt; editor does not have its own partitioning but uses the default partitioning
&gt; and someone else also registers a partitioner for the default partitioning.

What default partitioning? In my experience the default partitioning is no
partitioning, i.e., getDocumentPartitioner() returns null.

&gt; Up to
&gt; know the extension point itself only mentioned that IDocumentSetupParticipant
&gt; must be implemented. I've now also explicitly written that into the extension
&gt; point doc.

That's good, but I fear you're not writing to the right audience. The people who
need to know there's a collision problem with setDocumentPartitioner() and
shared documents are those who don't know about the extension point.

&gt; File buffers don't create documentProviders. But yes, we provide a default
&gt; document provider for external files for those using the implicit document
&gt; provider

;-}

&gt; but every editor can define its own (explicit) document provider by
&gt; calling AbstractTextEditor.setDocumentProvider(IDocumentProvider provider).

Sure you can, but the external file example shows that editors that do define
their own document providers wind up broken because of assumptions in the
document provider about specific IEditorInput types. When the next release
introduces an input type that uses a URI instead of any sort of file, all
existing document providers will be hopelessly broken. It's not even possible to
adjust to the external file input type - it's not API. This whole (input) area
is crap. It should be possible to read and write documents without having to
cast, excuse me, adapt, down to specific input types. But that's a digression.

Leaving aside the impossibility of writing a general-purpose document provider,
what is the provider supposed to do? One would guess from the name it should
provide a document. But if it creates its own document object, it won't get
sharing. What is the code sequence that allows a document provider to fetch a
shared document object from filebuffers?

You can probably answer the last question, but do you see why I think that
document users are better off not implementing document providers? They have far
better insulation from future extensions if they leave the matter to Eclipse.

&gt; &gt;Lastly, "*the* common ground" makes no sense to me. IDocument is the common
&gt; &gt;ground. Everything else is a plugin extension, 
&gt; This is true for IDEs and other tools that are developed to be extensible but
&gt; many clients use Eclipse to build their applications (see rcp) and they might
&gt; well have some other common ground.

They might want UI that doesn't assume toolbars, too, but they don't get one
from RCP. RCP is not a blank slate.

&gt; That's my current thinking i.e. you'll get synchronized document that's shared
&gt; and that implements IDocument. Whoever wants more can do more based on that
&gt; document.

Hooray! Please note my comment to Bug 75767.

&gt; &gt;Therefore, lacking any valid use cases, the document creator extension points
&gt; &gt;should be deprecated in 3.2
&gt; That's again my plan.

+1

&gt; &gt;While you are up, please deprecate setDocumentPartitioner() and
&gt; &gt;getDocumentPartitioner() in IDocument. These have no place in the world of
&gt; &gt;shared documents 
&gt; This can't happen because lots of clients will never need/use that sharing and
&gt; are fully happy with the default partitioning.

Of course it can happen. The alternative, using a named document partitioner, is
just as easy to use and has no hidden pitfalls. It's not like you would be
removing functionality.


&gt;What default partitioning? In my experience the default partitioning is no
&gt;partitioning, i.e., getDocumentPartitioner() returns null.
Correct. What I meant was: clients registering their partitioner either via
setDocumentPartitioner(IDocumentPartitioner) or as
IDocumentExtension3.DEFAULT_PARTITIONING.

&gt; It's not even possible to
&gt;adjust to the external file input type - it's not API.
This should probably be changed so that clients can use it.

If we'd deprecate get/setDocumentPartitioner(IDocumentPartitioner) then we
should also deprecate the IDocumentExtension3.DEFAULT_PARTITIONING constant
otherwise this could result in the same conflict again. The problem with the
deprecation is that those who want to get rid of the deprecation are force to
implement IDocumentExtension3 even if the eventually live in a closed world.
In reply to comment 12:


&gt;1. WTP document start using documentChanged2 instead of the very old
&gt;documentChange (I'm not really sure what this accomplishes, I guess we are 
Is a good idea but not really connected to this PR.

&gt;supposed to do something with the region that's returned from it,
For example the DocumentPartitioningChangedEvent.setPartitionChange(...) can be
reduced to the region that changed instead of using 0..length.

&gt; but its unclear what the constract is, exactly. 
The minimal region that includes all partition changes caused by the invocation
of the document partitioner.

&gt;3. WTP AND XML Buddy implement getFileDocumentProvider in their editor to &gt;return 
&gt;an instance of their document provider (and * not use * the plugin.xml
&gt;extension point for it. 
Do not overwrite getDocumentProvider() [I assume that's what you meant with
getFileDocumentProvider]. Instead call setDocumentProvider(...) in your editor's
constructor to set the explicit document provider.

&gt;5. WTP's documentProvider would still "force" use the common StrucutredDocument
&gt;and all we need from it. When an editor is not used, we'd still use document
&gt;factory so it would still be the common ground shared document.
Stay away form using the documentCreation extension point. I plan to deprecate
it for 3.2. If you need your special document type then you could introduce your
own document factory from where clients can get the specialized document.

(In reply to comment #18)

What is the API that allows a document provider to fetch a shared document
object from filebuffers (so it can be shadowed)?

&gt; &gt; It's not even possible to
&gt; &gt;adjust to the external file input type - it's not API.
&gt; This should probably be changed so that clients can use it.

You might want to change its name, as well, to e.g. PathEditorInput, to stop
needing to explain what "JavaFile" means.

&gt; If we'd deprecate get/setDocumentPartitioner(IDocumentPartitioner) then we
&gt; should also deprecate the IDocumentExtension3.DEFAULT_PARTITIONING constant
&gt; otherwise this could result in the same conflict again. The problem with the
&gt; deprecation is that those who want to get rid of the deprecation are force to
&gt; implement IDocumentExtension3 even if the eventually live in a closed world.

That kind of inconvenience is all over Eclipse. "Deprecated; use
IDocumentExtension3.setDocumentPartitioner()". No biggie. (There are a number of
other methods in IDocumentExtension3 that should be deprecated in IDocument, as
well. IIRC, they must all be used together.

As for "closed world", I think of that as a state of blissful ignorance that
ends the first time a document must be opened by two different processes. ;-}
Just thought of this: When you make JavaFileEditorInput API, you should also
provide a single documentprovider for JavaFileEditorInput, IFileEditorInput and
IStorageEditorInput. IIRC, except for getting the input and output streams most
of the code is common, including getting encoding right per content types. Then
"external files" wouldn't need to be a special case.
Question for David: If the shared document object produced by filebuffers allows
synchronization, why do need your own IDocument implementation? If you hang
other "model" data off it, why don't you just hang that data elsewhere? Maybe
subclassing isn't the best solution. (It's certainly not the easiest.)
Please refere to bug 111313
Fixed in HEAD.
Available in builds &gt; N20060105-0010.

See for details see bug 96917, comment 17.
verifying...
verified in I20060214-0010
*** Bug 101846 has been marked as a duplicate of this bug. ***
Sorry to ask a stupid question, but: Can someone please summarize what the right course of action should be for plugin authors that are implementing editors derived from CompilationUnitEditor and need to create custom documents? Do we extend at org.eclipse.core.internal.filebuffers.ExtensionsRegistry? Do we need to define a content type as well? Or do we need to implement our own document provider that does buffering, compilation unit creation, etc. just to add some additional state to the Document object?
It depends whether your editor edits Java files or soemthing different (e.g. non *.java files). If so, a different content type makes sense.

Best way is to have your own document provider that adapts the file buffer document.</WithOutStack>
  </Bug>
  <Bug>
    <BugId amount="107683" />
    <CreationDate amount="2005-08-22 21:13:00 -0400" />
    <DupId amount="" />
    <classification amount="Eclipse" />
    <Product amount="Platform" />
    <component amount="User Assistance" />
    <Version amount="3.2" />
    <rep_platform amount="PC" />
    <op_sys amount="Windows XP" />
    <priority amount="P3" />
    <bug_severity amount="minor" />
    <Summery>[Help][Search] with double byte blank on the Information Center</Summery>
    <Patches amount="0" />
    <Stacktraces amount="0" />
    <SourceCodeRegions amount="0" />
    <Enumerations amount="1">
      <Enumeration lines="4">
        <Lines>
          <Line>1. Access InfoCenter from IE on Japanese Windows</Line>
          <Line>(Top of language priority of IE must be ja.)</Line>
          <Line />
          <Line>2. Try search with double byte blank</Line>
        </Lines>
      </Enumeration>
    </Enumerations>
    <bug_status amount="NEW" />
    <resolution amount="" />
    <WithStack>1. Access InfoCenter from IE on Japanese Windows
   (Top of language priority of IE must be ja.)

2. Try search with double byte blank

   I used KENSAKUKU, which is 3 characters -- KEN, SAKU and KU -- in Japanese.
   KENSAKU means search and KU means word. 

   "KENSAKUKU" works fine.

   "KENSAKU(double byte blank)KU" can return result.
     But any search words are not highlighted.
     And this page has KENSAKU, KU and KENSAKUKU, 
     but it does not have KENSAKU(double byte blank)KU.

   "KENSAKU(double byte blank)and KU" returns not found.

   "KENSAKU(double byte blank) and KU" returns result.
     But only KU is highlighted.

double byte blank is a double byte character
defined in Shift_JIS, EUC-JP, and UTF-8 also.

Shift_JIS: 0x8140
EUC-JP: 0xA1A1
Unicode: 0x3000

It can be entered by hitting space when Japanese input method is enabled.
It is usually recognized as a single byte space(0x20) in search engines like 
Google.</WithStack>
    <WithOutStack>1. Access InfoCenter from IE on Japanese Windows
   (Top of language priority of IE must be ja.)

2. Try search with double byte blank

   I used KENSAKUKU, which is 3 characters -- KEN, SAKU and KU -- in Japanese.
   KENSAKU means search and KU means word. 

   "KENSAKUKU" works fine.

   "KENSAKU(double byte blank)KU" can return result.
     But any search words are not highlighted.
     And this page has KENSAKU, KU and KENSAKUKU, 
     but it does not have KENSAKU(double byte blank)KU.

   "KENSAKU(double byte blank)and KU" returns not found.

   "KENSAKU(double byte blank) and KU" returns result.
     But only KU is highlighted.

double byte blank is a double byte character
defined in Shift_JIS, EUC-JP, and UTF-8 also.

Shift_JIS: 0x8140
EUC-JP: 0xA1A1
Unicode: 0x3000

It can be entered by hitting space when Japanese input method is enabled.
It is usually recognized as a single byte space(0x20) in search engines like 
Google.</WithOutStack>
  </Bug>
  <Bug>
    <BugId amount="107684" />
    <CreationDate amount="2005-08-22 21:18:00 -0400" />
    <DupId amount="" />
    <classification amount="Eclipse" />
    <Product amount="Platform" />
    <component amount="SWT" />
    <Version amount="3.2" />
    <rep_platform amount="PC" />
    <op_sys amount="Windows 2000" />
    <priority amount="P3" />
    <bug_severity amount="normal" />
    <Summery>Resetting of clipping region does not work if gc.setTransform was called</Summery>
    <Patches amount="0" />
    <Stacktraces amount="0" />
    <SourceCodeRegions amount="1">
      <source_code type="functiondef">
        <location start="133" end="1462" />
        <code>public static void main(String[] args) {
        final Display display = new Display();
        final Shell shell = new Shell(display);

        shell.addPaintListener(new PaintListener() {
            public void paintControl(PaintEvent event) {
                GC gc = event.gc;
                Display display = event.display;
                Transform transform = new Transform(display);
                gc.setTransform(transform); // &lt;-- clipping is fine if I comment
out this line

                /* Set the clipping region. */
                Region region = new Region(display);
                gc.getClipping(region);
                gc.setClipping(50, 50, 100, 100);

                /* Do some painting. */
                gc.setBackground(display.getSystemColor(SWT.COLOR_RED));
                gc.fillRectangle(50, 50, 100, 100);

                /* Reset the clipping region. */
                gc.setClipping(/* (Region)null */region);

                /* Do some more painting. */
                gc.fillRectangle(200, 50, 100, 100);

                transform.dispose();
                region.dispose();
            }
        });

        shell.open();
        while (!shell.isDisposed()) {
            if (!display.readAndDispatch())
                display.sleep();
        }
        display.dispose();
    }</code>
      </source_code>
    </SourceCodeRegions>
    <Enumerations amount="0" />
    <bug_status amount="RESOLVED" />
    <resolution amount="FIXED" />
    <WithStack>On Windows, I was trying to set a clipping region on the GC, do some painting,
reset the clipping region and do some more painting:

public static void main(String[] args) {
        final Display display = new Display();
        final Shell shell = new Shell(display);

        shell.addPaintListener(new PaintListener() {
            public void paintControl(PaintEvent event) {
                GC gc = event.gc;
                Display display = event.display;
                Transform transform = new Transform(display);
                gc.setTransform(transform); // &lt;-- clipping is fine if I comment
out this line

                /* Set the clipping region. */
                Region region = new Region(display);
                gc.getClipping(region);
                gc.setClipping(50, 50, 100, 100);

                /* Do some painting. */
                gc.setBackground(display.getSystemColor(SWT.COLOR_RED));
                gc.fillRectangle(50, 50, 100, 100);

                /* Reset the clipping region. */
                gc.setClipping(/* (Region)null */region);

                /* Do some more painting. */
                gc.fillRectangle(200, 50, 100, 100);

                transform.dispose();
                region.dispose();
            }
        });

        shell.open();
        while (!shell.isDisposed()) {
            if (!display.readAndDispatch())
                display.sleep();
        }
        display.dispose();
    }

Whatever is painted after restoring the clipping region does not show up on the
shell - it seems that the clipping region is not reset properly. However,
clipping works fine if I restore the clipping region by calling
gc.setClipping((Region)null) or if I don't set the transform on the GC.
Fixed &gt; 20050901.</WithStack>
    <WithOutStack>On Windows, I was trying to set a clipping region on the GC, do some painting,
reset the clipping region and do some more painting:

public static void main(String[] args) {
        final Display display = new Display();
        final Shell shell = new Shell(display);

        shell.addPaintListener(new PaintListener() {
            public void paintControl(PaintEvent event) {
                GC gc = event.gc;
                Display display = event.display;
                Transform transform = new Transform(display);
                gc.setTransform(transform); // &lt;-- clipping is fine if I comment
out this line

                /* Set the clipping region. */
                Region region = new Region(display);
                gc.getClipping(region);
                gc.setClipping(50, 50, 100, 100);

                /* Do some painting. */
                gc.setBackground(display.getSystemColor(SWT.COLOR_RED));
                gc.fillRectangle(50, 50, 100, 100);

                /* Reset the clipping region. */
                gc.setClipping(/* (Region)null */region);

                /* Do some more painting. */
                gc.fillRectangle(200, 50, 100, 100);

                transform.dispose();
                region.dispose();
            }
        });

        shell.open();
        while (!shell.isDisposed()) {
            if (!display.readAndDispatch())
                display.sleep();
        }
        display.dispose();
    }

Whatever is painted after restoring the clipping region does not show up on the
shell - it seems that the clipping region is not reset properly. However,
clipping works fine if I restore the clipping region by calling
gc.setClipping((Region)null) or if I don't set the transform on the GC.
Fixed &gt; 20050901.</WithOutStack>
  </Bug>
  <Bug>
    <BugId amount="107685" />
    <CreationDate amount="2005-08-22 21:22:00 -0400" />
    <DupId amount="68069" />
    <classification amount="Eclipse" />
    <Product amount="Platform" />
    <component amount="Text" />
    <Version amount="3.1" />
    <rep_platform amount="Macintosh" />
    <op_sys amount="All" />
    <priority amount="P3" />
    <bug_severity amount="normal" />
    <Summery>copying selected text to clipboard becomes unusably slow</Summery>
    <Patches amount="0" />
    <Stacktraces amount="0" />
    <SourceCodeRegions amount="0" />
    <Enumerations amount="0" />
    <bug_status amount="RESOLVED" />
    <resolution amount="DUPLICATE" />
    <WithStack>After running eclipse for a while, the copy-to-clipboard behaviour becomes unusable.  In the java text 
editor, if I double-click to select some text, then immediately do a copy (Command-C) it does not work 
50% of the time, so when I do a paste I get the previous clipboard contents instead of what I was 
expecting.  Then I have to undo and try again.  And then try again, sometimes several times before it 
"takes."  This is such a common workflow pattern (select-copy-paste) that it is a huge impediment 
when it doesn't as expected.  It doesn't seem to matter how big the file I'm editing is.

The only workaround is to double-click to select and then wait about 2 seconds before doing a copy, or 
alternatively, quit and restart Eclipse.  After restarting things return to normal for a while but inevitably 
after a while (perhaps 1-2 hours?) it gets slow again.


*** This bug has been marked as a duplicate of 68069 ***</WithStack>
    <WithOutStack>After running eclipse for a while, the copy-to-clipboard behaviour becomes unusable.  In the java text 
editor, if I double-click to select some text, then immediately do a copy (Command-C) it does not work 
50% of the time, so when I do a paste I get the previous clipboard contents instead of what I was 
expecting.  Then I have to undo and try again.  And then try again, sometimes several times before it 
"takes."  This is such a common workflow pattern (select-copy-paste) that it is a huge impediment 
when it doesn't as expected.  It doesn't seem to matter how big the file I'm editing is.

The only workaround is to double-click to select and then wait about 2 seconds before doing a copy, or 
alternatively, quit and restart Eclipse.  After restarting things return to normal for a while but inevitably 
after a while (perhaps 1-2 hours?) it gets slow again.


*** This bug has been marked as a duplicate of 68069 ***</WithOutStack>
  </Bug>
  <Bug>
    <BugId amount="107686" />
    <CreationDate amount="2005-08-22 21:33:00 -0400" />
    <DupId amount="20486" />
    <classification amount="Eclipse" />
    <Product amount="Platform" />
    <component amount="SWT" />
    <Version amount="3.2" />
    <rep_platform amount="PC" />
    <op_sys amount="Linux" />
    <priority amount="P3" />
    <bug_severity amount="enhancement" />
    <Summery>Add Qt/KDE frontend.</Summery>
    <Patches amount="0" />
    <Stacktraces amount="0" />
    <SourceCodeRegions amount="0" />
    <Enumerations amount="0" />
    <bug_status amount="RESOLVED" />
    <resolution amount="DUPLICATE" />
    <WithStack>Adding a Qt/KDE frontend to eclipse would make it more viable and useable for
those of us who do not like to use GTK. Also, with the Google Summer of code
projects kicking in and one of them being a KDE-project plugin more KDE users
will be moving over to the Eclipse Platform. A Qt/KDE frontend would be awesome.
Moving to SWT
There's a licensing problem.

*** This bug has been marked as a duplicate of 20486 ***</WithStack>
    <WithOutStack>Adding a Qt/KDE frontend to eclipse would make it more viable and useable for
those of us who do not like to use GTK. Also, with the Google Summer of code
projects kicking in and one of them being a KDE-project plugin more KDE users
will be moving over to the Eclipse Platform. A Qt/KDE frontend would be awesome.
Moving to SWT
There's a licensing problem.

*** This bug has been marked as a duplicate of 20486 ***</WithOutStack>
  </Bug>
  <Bug>
    <BugId amount="107687" />
    <CreationDate amount="2005-08-22 22:09:00 -0400" />
    <DupId amount="" />
    <classification amount="WebTools" />
    <Product amount="WTP Source Editing" />
    <component amount="wst.html" />
    <Version amount="0.7" />
    <rep_platform amount="PC" />
    <op_sys amount="Windows XP" />
    <priority amount="P3" />
    <bug_severity amount="major" />
    <Summery>[CSS and HTML Editors] Undo/redo do not scroll editor</Summery>
    <Patches amount="0" />
    <Stacktraces amount="0" />
    <SourceCodeRegions amount="0" />
    <Enumerations amount="1">
      <Enumeration lines="4">
        <Lines>
          <Line>1) Go the bottom of the file.</Line>
          <Line>2) Make a modification.</Line>
          <Line>3) Go to the top of the file.</Line>
          <Line>4) Undo.</Line>
        </Lines>
      </Enumeration>
    </Enumerations>
    <bug_status amount="CLOSED" />
    <resolution amount="FIXED" />
    <WithStack>In a CSS or HTML file that covers several scrollable pages:

1) Go the bottom of the file.
2) Make a modification.
3) Go to the top of the file.
4) Undo.

The undo operation will be performed on the modification, but the editor will
not scroll to the undo location.
StructuredTextViewer#undoOperationSelectionChanged
setSelectedRange(offset, length) was being called instead of setSelection(selection, reveal)

Fix released to next WTP 1.5 build.
*** Bug 138099 has been marked as a duplicate of this bug. ***
*** Bug 142225 has been marked as a duplicate of this bug. ***
verified on wtp 1.5.1 9/23/06</WithStack>
    <WithOutStack>In a CSS or HTML file that covers several scrollable pages:

1) Go the bottom of the file.
2) Make a modification.
3) Go to the top of the file.
4) Undo.

The undo operation will be performed on the modification, but the editor will
not scroll to the undo location.
StructuredTextViewer#undoOperationSelectionChanged
setSelectedRange(offset, length) was being called instead of setSelection(selection, reveal)

Fix released to next WTP 1.5 build.
*** Bug 138099 has been marked as a duplicate of this bug. ***
*** Bug 142225 has been marked as a duplicate of this bug. ***
verified on wtp 1.5.1 9/23/06</WithOutStack>
  </Bug>
  <Bug>
    <BugId amount="107688" />
    <CreationDate amount="2005-08-22 22:09:00 -0400" />
    <DupId amount="" />
    <classification amount="BIRT" />
    <Product amount="BIRT" />
    <component amount="Report" />
    <Version amount="1.0.1" />
    <rep_platform amount="PC" />
    <op_sys amount="Windows XP" />
    <priority amount="P3" />
    <bug_severity amount="critical" />
    <Summery>Smoke Test: NullPointerException is thrown out when adding a group.</Summery>
    <Patches amount="0" />
    <Stacktraces amount="1">
      <Stacktrace timestamp="1437330570215">
        <Exception>java.lang.NullPointerException</Exception>
        <Reason />
        <Frames>
          <Frame depth="0">org.eclipse.birt.report.model.api.elements.table.LayoutTable.getColumnPos(LayoutTable.java:327)</Frame>
          <Frame depth="1">org.eclipse.birt.report.model.elements.TableItem.getColumnPosition4Cell(TableItem.java:245)</Frame>
          <Frame depth="2">org.eclipse.birt.report.model.elements.TableItem.getPropertyFromColumn(TableItem.java:205)</Frame>
          <Frame depth="3">org.eclipse.birt.report.model.elements.Cell.getColumnProperty(Cell.java:202)</Frame>
          <Frame depth="4">org.eclipse.birt.report.model.elements.Cell.getPropertyRelatedToContainer(Cell.java:240)</Frame>
          <Frame depth="5">org.eclipse.birt.report.model.core.DesignElement.getProperty(DesignElement.java:1001)</Frame>
          <Frame depth="6">org.eclipse.birt.report.model.api.ComplexValueHandle.getValue(ComplexValueHandle.java:121)</Frame>
          <Frame depth="7">org.eclipse.birt.report.designer.util.DEUtil.getFontSizeIntValue(DEUtil.java:1038)</Frame>
          <Frame depth="8">org.eclipse.birt.report.designer.core.model.DesignElementHandleAdapter.getPadding(DesignElementHandleAdapter.java:186)</Frame>
          <Frame depth="9">org.eclipse.birt.report.designer.internal.ui.editors.schematic.editparts.TableCellEditPart.refreshFigure(TableCellEditPart.java:195)</Frame>
          <Frame depth="10">org.eclipse.birt.report.designer.internal.ui.editors.notification.DeferredRefreshManager.markEditPartForRefreshVisuals(DeferredRefreshManager.java:107)</Frame>
          <Frame depth="11">org.eclipse.birt.report.designer.internal.ui.editors.schematic.editparts.ReportElementEditPart.refreshVisuals(ReportElementEditPart.java:507)</Frame>
          <Frame depth="12">org.eclipse.gef.editparts.AbstractEditPart.refresh(AbstractEditPart.java:699)</Frame>
          <Frame depth="13">org.eclipse.gef.editparts.AbstractGraphicalEditPart.refresh(AbstractGraphicalEditPart.java:554)</Frame>
          <Frame depth="14">org.eclipse.gef.editparts.AbstractEditPart.addNotify(AbstractEditPart.java:233)</Frame>
          <Frame depth="15">org.eclipse.gef.editparts.AbstractGraphicalEditPart.addNotify(AbstractGraphicalEditPart.java:212)</Frame>
          <Frame depth="16">org.eclipse.gef.editparts.AbstractEditPart.addChild(AbstractEditPart.java:196)</Frame>
          <Frame depth="17">org.eclipse.gef.editparts.AbstractEditPart.refreshChildren(AbstractEditPart.java:750)</Frame>
          <Frame depth="18">org.eclipse.birt.report.designer.internal.ui.editors.schematic.editparts.ReportElementEditPart.refreshChildrenFigures(ReportElementEditPart.java:517)</Frame>
          <Frame depth="19">org.eclipse.birt.report.designer.internal.ui.editors.notification.DeferredRefreshManager.refreshChildrenEditParts(DeferredRefreshManager.java:70)</Frame>
          <Frame depth="20">org.eclipse.birt.report.designer.internal.ui.editors.notification.DeferredRefreshManager.refreshEditParts(DeferredRefreshManager.java:41)</Frame>
          <Frame depth="21">org.eclipse.birt.report.designer.internal.ui.editors.notification.ReportDeferredUpdateManager.performUpdate(ReportDeferredUpdateManager.java:32)</Frame>
          <Frame depth="22">org.eclipse.draw2d.DeferredUpdateManager.performUpdate(DeferredUpdateManager.java:123)</Frame>
          <Frame depth="23">org.eclipse.draw2d.LightweightSystem.paint(LightweightSystem.java:223)</Frame>
          <Frame depth="24">org.eclipse.draw2d.LightweightSystem$4.handleEvent(LightweightSystem.java:127)</Frame>
          <Frame depth="25">org.eclipse.swt.widgets.EventTable.sendEvent(EventTable.java:66)</Frame>
          <Frame depth="26">org.eclipse.swt.widgets.Widget.sendEvent(Widget.java:843)</Frame>
          <Frame depth="27">org.eclipse.swt.widgets.Widget.sendEvent(Widget.java:867)</Frame>
          <Frame depth="28">org.eclipse.swt.widgets.Widget.sendEvent(Widget.java:852)</Frame>
          <Frame depth="29">org.eclipse.swt.widgets.Composite.WM_PAINT(Composite.java:1153)</Frame>
          <Frame depth="30">org.eclipse.swt.widgets.Control.windowProc(Control.java:3090)</Frame>
          <Frame depth="31">org.eclipse.swt.widgets.Display.windowProc(Display.java:3706)</Frame>
          <Frame depth="32">org.eclipse.swt.internal.win32.OS.RedrawWindow(Native Method)</Frame>
          <Frame depth="33">org.eclipse.swt.widgets.Control.update(Control.java:2920)</Frame>
          <Frame depth="34">org.eclipse.swt.widgets.Display.update(Display.java:3588)</Frame>
          <Frame depth="35">org.eclipse.jface.window.Window.runEventLoop(Window.java:815)</Frame>
          <Frame depth="36">org.eclipse.jface.window.Window.open(Window.java:787)</Frame>
          <Frame depth="37">org.eclipse.birt.report.designer.internal.ui.dialogs.BaseDialog.open(BaseDialog.java:145)</Frame>
          <Frame depth="38">org.eclipse.birt.report.designer.internal.ui.util.UIUtil.addGroup(UIUtil.java:395)</Frame>
          <Frame depth="39">org.eclipse.birt.report.designer.internal.ui.util.UIUtil.createGroup(UIUtil.java:358)</Frame>
          <Frame depth="40">org.eclipse.birt.report.designer.internal.ui.editors.schematic.editparts.TableEditPart.insertGroup(TableEditPart.java:1334)</Frame>
          <Frame depth="41">org.eclipse.birt.report.designer.internal.ui.editors.schematic.actions.InsertPositionGroupAction.run(InsertGroupActionFactory.java:157)</Frame>
          <Frame depth="42">org.eclipse.jface.action.Action.runWithEvent(Action.java:996)</Frame>
          <Frame depth="43">org.eclipse.jface.action.ActionContributionItem.handleWidgetSelection(ActionContributionItem.java:538)</Frame>
          <Frame depth="44">org.eclipse.jface.action.ActionContributionItem.access$2(ActionContributionItem.java:488)</Frame>
          <Frame depth="45">org.eclipse.jface.action.ActionContributionItem$5.handleEvent(ActionContributionItem.java:400)</Frame>
          <Frame depth="46">org.eclipse.swt.widgets.EventTable.sendEvent(EventTable.java:66)</Frame>
          <Frame depth="47">org.eclipse.swt.widgets.Widget.sendEvent(Widget.java:843)</Frame>
          <Frame depth="48">org.eclipse.swt.widgets.Display.runDeferredEvents(Display.java:3080)</Frame>
          <Frame depth="49">org.eclipse.swt.widgets.Display.readAndDispatch(Display.java:2713)</Frame>
          <Frame depth="50">org.eclipse.ui.internal.Workbench.runEventLoop(Workbench.java:1699)</Frame>
          <Frame depth="51">org.eclipse.ui.internal.Workbench.runUI(Workbench.java:1663)</Frame>
          <Frame depth="52">org.eclipse.ui.internal.Workbench.createAndRunWorkbench(Workbench.java:367)</Frame>
          <Frame depth="53">org.eclipse.ui.PlatformUI.createAndRunWorkbench(PlatformUI.java:143)</Frame>
          <Frame depth="54">org.eclipse.ui.internal.ide.IDEApplication.run(IDEApplication.java:103)</Frame>
          <Frame depth="55">org.eclipse.core.internal.runtime.PlatformActivator$1.run(PlatformActivator.java:226)</Frame>
          <Frame depth="56">org.eclipse.core.runtime.adaptor.EclipseStarter.run(EclipseStarter.java:376)</Frame>
          <Frame depth="57">org.eclipse.core.runtime.adaptor.EclipseStarter.run(EclipseStarter.java:163)</Frame>
          <Frame depth="58">sun.reflect.NativeMethodAccessorImpl.invoke0(Native Method)</Frame>
          <Frame depth="59">sun.reflect.NativeMethodAccessorImpl.invoke(Unknown Source)</Frame>
          <Frame depth="60">sun.reflect.DelegatingMethodAccessorImpl.invoke(Unknown Source)</Frame>
          <Frame depth="61">java.lang.reflect.Method.invoke(Unknown Source)</Frame>
          <Frame depth="62">org.eclipse.core.launcher.Main.invokeFramework(Main.java:334)</Frame>
          <Frame depth="63">org.eclipse.core.launcher.Main.basicRun(Main.java:278)</Frame>
          <Frame depth="64">org.eclipse.core.launcher.Main.run(Main.java:973)</Frame>
          <Frame depth="65">org.eclipse.core.launcher.Main.main(Main.java:948)</Frame>
        </Frames>
      </Stacktrace>
    </Stacktraces>
    <SourceCodeRegions amount="0" />
    <Enumerations amount="0" />
    <bug_status amount="CLOSED" />
    <resolution amount="FIXED" />
    <WithStack>Description: NullPointerException is thrown out when adding a group.
Eclipse Version 3.1

Steps to reproduce:
1.Add a group for a table which is binded to a data set.

Actual result: NPE is thrown out.
java.lang.NullPointerException
	at 
org.eclipse.birt.report.model.api.elements.table.LayoutTable.getColumnPos
(LayoutTable.java:327)
	at 
org.eclipse.birt.report.model.elements.TableItem.getColumnPosition4Cell
(TableItem.java:245)
	at 
org.eclipse.birt.report.model.elements.TableItem.getPropertyFromColumn
(TableItem.java:205)
	at org.eclipse.birt.report.model.elements.Cell.getColumnProperty
(Cell.java:202)
	at 
org.eclipse.birt.report.model.elements.Cell.getPropertyRelatedToContainer
(Cell.java:240)
	at org.eclipse.birt.report.model.core.DesignElement.getProperty
(DesignElement.java:1001)
	at org.eclipse.birt.report.model.api.ComplexValueHandle.getValue
(ComplexValueHandle.java:121)
	at org.eclipse.birt.report.designer.util.DEUtil.getFontSizeIntValue
(DEUtil.java:1038)
	at 
org.eclipse.birt.report.designer.core.model.DesignElementHandleAdapter.getPaddi
ng(DesignElementHandleAdapter.java:186)
	at 
org.eclipse.birt.report.designer.internal.ui.editors.schematic.editparts.TableC
ellEditPart.refreshFigure(TableCellEditPart.java:195)
	at 
org.eclipse.birt.report.designer.internal.ui.editors.notification.DeferredRefre
shManager.markEditPartForRefreshVisuals(DeferredRefreshManager.java:107)
	at 
org.eclipse.birt.report.designer.internal.ui.editors.schematic.editparts.Report
ElementEditPart.refreshVisuals(ReportElementEditPart.java:507)
	at org.eclipse.gef.editparts.AbstractEditPart.refresh
(AbstractEditPart.java:699)
	at org.eclipse.gef.editparts.AbstractGraphicalEditPart.refresh
(AbstractGraphicalEditPart.java:554)
	at org.eclipse.gef.editparts.AbstractEditPart.addNotify
(AbstractEditPart.java:233)
	at org.eclipse.gef.editparts.AbstractGraphicalEditPart.addNotify
(AbstractGraphicalEditPart.java:212)
	at org.eclipse.gef.editparts.AbstractEditPart.addChild
(AbstractEditPart.java:196)
	at org.eclipse.gef.editparts.AbstractEditPart.refreshChildren
(AbstractEditPart.java:750)
	at 
org.eclipse.birt.report.designer.internal.ui.editors.schematic.editparts.Report
ElementEditPart.refreshChildrenFigures(ReportElementEditPart.java:517)
	at 
org.eclipse.birt.report.designer.internal.ui.editors.notification.DeferredRefre
shManager.refreshChildrenEditParts(DeferredRefreshManager.java:70)
	at 
org.eclipse.birt.report.designer.internal.ui.editors.notification.DeferredRefre
shManager.refreshEditParts(DeferredRefreshManager.java:41)
	at 
org.eclipse.birt.report.designer.internal.ui.editors.notification.ReportDeferre
dUpdateManager.performUpdate(ReportDeferredUpdateManager.java:32)
	at org.eclipse.draw2d.DeferredUpdateManager.performUpdate
(DeferredUpdateManager.java:123)
	at org.eclipse.draw2d.LightweightSystem.paint
(LightweightSystem.java:223)
	at org.eclipse.draw2d.LightweightSystem$4.handleEvent
(LightweightSystem.java:127)
	at org.eclipse.swt.widgets.EventTable.sendEvent(EventTable.java:66)
	at org.eclipse.swt.widgets.Widget.sendEvent(Widget.java:843)
	at org.eclipse.swt.widgets.Widget.sendEvent(Widget.java:867)
	at org.eclipse.swt.widgets.Widget.sendEvent(Widget.java:852)
	at org.eclipse.swt.widgets.Composite.WM_PAINT(Composite.java:1153)
	at org.eclipse.swt.widgets.Control.windowProc(Control.java:3090)
	at org.eclipse.swt.widgets.Display.windowProc(Display.java:3706)
	at org.eclipse.swt.internal.win32.OS.RedrawWindow(Native Method)
	at org.eclipse.swt.widgets.Control.update(Control.java:2920)
	at org.eclipse.swt.widgets.Display.update(Display.java:3588)
	at org.eclipse.jface.window.Window.runEventLoop(Window.java:815)
	at org.eclipse.jface.window.Window.open(Window.java:787)
	at org.eclipse.birt.report.designer.internal.ui.dialogs.BaseDialog.open
(BaseDialog.java:145)
	at org.eclipse.birt.report.designer.internal.ui.util.UIUtil.addGroup
(UIUtil.java:395)
	at org.eclipse.birt.report.designer.internal.ui.util.UIUtil.createGroup
(UIUtil.java:358)
	at 
org.eclipse.birt.report.designer.internal.ui.editors.schematic.editparts.TableE
ditPart.insertGroup(TableEditPart.java:1334)
	at 
org.eclipse.birt.report.designer.internal.ui.editors.schematic.actions.InsertPo
sitionGroupAction.run(InsertGroupActionFactory.java:157)
	at org.eclipse.jface.action.Action.runWithEvent(Action.java:996)
	at 
org.eclipse.jface.action.ActionContributionItem.handleWidgetSelection
(ActionContributionItem.java:538)
	at org.eclipse.jface.action.ActionContributionItem.access$2
(ActionContributionItem.java:488)
	at org.eclipse.jface.action.ActionContributionItem$5.handleEvent
(ActionContributionItem.java:400)
	at org.eclipse.swt.widgets.EventTable.sendEvent(EventTable.java:66)
	at org.eclipse.swt.widgets.Widget.sendEvent(Widget.java:843)
	at org.eclipse.swt.widgets.Display.runDeferredEvents(Display.java:3080)
	at org.eclipse.swt.widgets.Display.readAndDispatch(Display.java:2713)
	at org.eclipse.ui.internal.Workbench.runEventLoop(Workbench.java:1699)
	at org.eclipse.ui.internal.Workbench.runUI(Workbench.java:1663)
	at org.eclipse.ui.internal.Workbench.createAndRunWorkbench
(Workbench.java:367)
	at org.eclipse.ui.PlatformUI.createAndRunWorkbench(PlatformUI.java:143)
	at org.eclipse.ui.internal.ide.IDEApplication.run
(IDEApplication.java:103)
	at org.eclipse.core.internal.runtime.PlatformActivator$1.run
(PlatformActivator.java:226)
	at org.eclipse.core.runtime.adaptor.EclipseStarter.run
(EclipseStarter.java:376)
	at org.eclipse.core.runtime.adaptor.EclipseStarter.run
(EclipseStarter.java:163)
	at sun.reflect.NativeMethodAccessorImpl.invoke0(Native Method)
	at sun.reflect.NativeMethodAccessorImpl.invoke(Unknown Source)
	at sun.reflect.DelegatingMethodAccessorImpl.invoke(Unknown Source)
	at java.lang.reflect.Method.invoke(Unknown Source)
	at org.eclipse.core.launcher.Main.invokeFramework(Main.java:334)
	at org.eclipse.core.launcher.Main.basicRun(Main.java:278)
	at org.eclipse.core.launcher.Main.run(Main.java:973)
	at org.eclipse.core.launcher.Main.main(Main.java:948)
This is related with the new added table model.
This is a problem that when to do post-tasks in model activity stack. It
requires  a new mechanism -- silent transaction for internal use in model. 
Verified in build 20050825.</WithStack>
    <WithOutStack>Description: NullPointerException is thrown out when adding a group.
Eclipse Version 3.1

Steps to reproduce:
1.Add a group for a table which is binded to a data set.

Actual result: NPE is thrown out.

This is related with the new added table model.
This is a problem that when to do post-tasks in model activity stack. It
requires  a new mechanism -- silent transaction for internal use in model. 
Verified in build 20050825.</WithOutStack>
  </Bug>
  <Bug>
    <BugId amount="107689" />
    <CreationDate amount="2005-08-22 22:18:00 -0400" />
    <DupId amount="" />
    <classification amount="Modeling" />
    <Product amount="GMF-Runtime" />
    <component amount="General" />
    <Version amount="1.0" />
    <rep_platform amount="All" />
    <op_sys amount="Windows XP" />
    <priority amount="P1" />
    <bug_severity amount="critical" />
    <Summery>Remove dependency on non-contributed plugins from the digaram.ui.tests</Summery>
    <Patches amount="0" />
    <Stacktraces amount="0" />
    <SourceCodeRegions amount="0" />
    <Enumerations amount="0" />
    <bug_status amount="RESOLVED" />
    <resolution amount="FIXED" />
    <WithStack>The com.ibm.xtools.diagrams.ui.tests dependes indirectly on non-contributed 
plugins. This is causing some of the tests to fail
This has been fixed.  All diagram tests run clean in GMF only environment.
[GMF Restructure] Bug 319140 : product GMF and component
Runtime Common was the original product and component for this bug</WithStack>
    <WithOutStack>The com.ibm.xtools.diagrams.ui.tests dependes indirectly on non-contributed 
plugins. This is causing some of the tests to fail
This has been fixed.  All diagram tests run clean in GMF only environment.
[GMF Restructure] Bug 319140 : product GMF and component
Runtime Common was the original product and component for this bug</WithOutStack>
  </Bug>
  <Bug>
    <BugId amount="107690" />
    <CreationDate amount="2005-08-22 22:19:00 -0400" />
    <DupId amount="" />
    <classification amount="Mylyn" />
    <Product amount="Mylyn" />
    <component amount="Tasks" />
    <Version amount="unspecified" />
    <rep_platform amount="Other" />
    <op_sys amount="other" />
    <priority amount="P4" />
    <bug_severity amount="normal" />
    <Summery>list not refreshed on modification if text filter on</Summery>
    <Patches amount="0" />
    <Stacktraces amount="0" />
    <SourceCodeRegions amount="0" />
    <Enumerations amount="1">
      <Enumeration lines="8">
        <Lines>
          <Line>- type a filter that has some matches</Line>
          <Line>- delete a match</Line>
          <Line>-</Line>
          <Line>match won't disappear until the next refresh (e.g. filter removed)</Line>
          <Line>This is a limitation of the filtered tree.</Line>
          <Line>THis change needs to happen in the filtered tree support, marking for later.</Line>
          <Line>Reopening to mark as resolved as per message from webmaster: http://dev.eclipse.org/mhonarc/lists/eclipse.org-committers/msg00778.html.</Line>
          <Line>Marking resolved.</Line>
        </Lines>
      </Enumeration>
    </Enumerations>
    <bug_status amount="RESOLVED" />
    <resolution amount="FIXED" />
    <WithStack>This triggers it:
- type a filter that has some matches
- delete a match
-
match won't disappear until the next refresh (e.g. filter removed)
This is a limitation of the filtered tree.
THis change needs to happen in the filtered tree support, marking for later.
Reopening to mark as resolved as per message from webmaster: http://dev.eclipse.org/mhonarc/lists/eclipse.org-committers/msg00778.html.
Marking resolved.</WithStack>
    <WithOutStack>This triggers it:
- type a filter that has some matches
- delete a match
-
match won't disappear until the next refresh (e.g. filter removed)
This is a limitation of the filtered tree.
THis change needs to happen in the filtered tree support, marking for later.
Reopening to mark as resolved as per message from webmaster: http://dev.eclipse.org/mhonarc/lists/eclipse.org-committers/msg00778.html.
Marking resolved.</WithOutStack>
  </Bug>
  <Bug>
    <BugId amount="107691" />
    <CreationDate amount="2005-08-22 22:21:00 -0400" />
    <DupId amount="" />
    <classification amount="Modeling" />
    <Product amount="GMF-Runtime" />
    <component amount="General" />
    <Version amount="1.0" />
    <rep_platform amount="All" />
    <op_sys amount="Windows XP" />
    <priority amount="P1" />
    <bug_severity amount="critical" />
    <Summery>Remove dependency on non-contributed plugins from emf.msl.core.tests plugin</Summery>
    <Patches amount="0" />
    <Stacktraces amount="0" />
    <SourceCodeRegions amount="0" />
    <Enumerations amount="0" />
    <bug_status amount="RESOLVED" />
    <resolution amount="FIXED" />
    <WithStack>The com.ibm.xtools.msl.core.tests dependes indirectly on non-contributed 
plugins. This is causing some of the tests to fail
The JUnits were depending on certain semantic procedures that did not exist.

The JUnits have been fixed.
[GMF Restructure] Bug 319140 : product GMF and component
Runtime Common was the original product and component for this bug</WithStack>
    <WithOutStack>The com.ibm.xtools.msl.core.tests dependes indirectly on non-contributed 
plugins. This is causing some of the tests to fail
The JUnits were depending on certain semantic procedures that did not exist.

The JUnits have been fixed.
[GMF Restructure] Bug 319140 : product GMF and component
Runtime Common was the original product and component for this bug</WithOutStack>
  </Bug>
  <Bug>
    <BugId amount="107692" />
    <CreationDate amount="2005-08-22 22:23:00 -0400" />
    <DupId amount="" />
    <classification amount="BIRT" />
    <Product amount="BIRT" />
    <component amount="Report" />
    <Version amount="1.0.1" />
    <rep_platform amount="PC" />
    <op_sys amount="Windows XP" />
    <priority amount="P3" />
    <bug_severity amount="critical" />
    <Summery>Smoke Test: Error message always pops up when previewing a report with parameter.</Summery>
    <Patches amount="0" />
    <Stacktraces amount="0" />
    <SourceCodeRegions amount="0" />
    <Enumerations amount="1">
      <Enumeration lines="2">
        <Lines>
          <Line>1. Create a parameter in report file.</Line>
          <Line>2. Preview in html.</Line>
        </Lines>
      </Enumeration>
    </Enumerations>
    <bug_status amount="CLOSED" />
    <resolution amount="FIXED" />
    <WithStack>Description: Error message always pops up when previewing a report with 
parameter.
Tested in Eclipse Version 3.1

Steps to reproduce:
1. Create a parameter in report file.
2. Preview in html.

Actual result: error message pops up and report can't be previewed.
Created attachment 26363
screen captured
Remove restriction on name property type.
Verified in build 20050829.</WithStack>
    <WithOutStack>Description: Error message always pops up when previewing a report with 
parameter.
Tested in Eclipse Version 3.1

Steps to reproduce:
1. Create a parameter in report file.
2. Preview in html.

Actual result: error message pops up and report can't be previewed.
Created attachment 26363
screen captured
Remove restriction on name property type.
Verified in build 20050829.</WithOutStack>
  </Bug>
  <Bug>
    <BugId amount="107693" />
    <CreationDate amount="2005-08-22 22:38:00 -0400" />
    <DupId amount="" />
    <classification amount="BIRT" />
    <Product amount="BIRT" />
    <component amount="Report" />
    <Version amount="1.0.1" />
    <rep_platform amount="PC" />
    <op_sys amount="Windows XP" />
    <priority amount="P3" />
    <bug_severity amount="normal" />
    <Summery>Error message pops up when adding attached image into layout.</Summery>
    <Patches amount="0" />
    <Stacktraces amount="0" />
    <SourceCodeRegions amount="0" />
    <Enumerations amount="0" />
    <bug_status amount="CLOSED" />
    <resolution amount="FIXED" />
    <WithStack>Description: Error message pops up when adding attached image into layout.

Steps to reproduce:
1. Add an image into layout view.

Actual result: error message pops up.
Created attachment 26364
screen captured.
A Birt exception occurred.
  Plug-in Provider:Eclipse.org
  Plug-in Name:BIRT Model
  Plug-in ID:org.eclipse.birt.report.model
  Version:1.0.1
  Error Code:Error.PropertyValueException.INVALID_VALUE
  Error Message:The value "12460859.jpg" is invalid with the type "name".

Name validation rule was added, but the image name should be an exception case 
for the check.
Allow name property value to starts with number.
Verified in build 20050825.</WithStack>
    <WithOutStack>Description: Error message pops up when adding attached image into layout.

Steps to reproduce:
1. Add an image into layout view.

Actual result: error message pops up.
Created attachment 26364
screen captured.
A Birt exception occurred.
  Plug-in Provider:Eclipse.org
  Plug-in Name:BIRT Model
  Plug-in ID:org.eclipse.birt.report.model
  Version:1.0.1
  Error Code:Error.PropertyValueException.INVALID_VALUE
  Error Message:The value "12460859.jpg" is invalid with the type "name".

Name validation rule was added, but the image name should be an exception case 
for the check.
Allow name property value to starts with number.
Verified in build 20050825.</WithOutStack>
  </Bug>
  <Bug>
    <BugId amount="107694" />
    <CreationDate amount="2005-08-22 23:20:00 -0400" />
    <DupId amount="" />
    <classification amount="BIRT" />
    <Product amount="BIRT" />
    <component amount="Report Engine" />
    <Version amount="unspecified" />
    <rep_platform amount="PC" />
    <op_sys amount="Windows XP" />
    <priority amount="P3" />
    <bug_severity amount="normal" />
    <Summery>inconsistant in col span when testing subReport1.xml</Summery>
    <Patches amount="0" />
    <Stacktraces amount="0" />
    <SourceCodeRegions amount="0" />
    <Enumerations amount="1">
      <Enumeration lines="5">
        <Lines>
          <Line>1.Obtain the latest version of engine, model, data, etc of IRAD</Line>
          <Line>2.Extract them to related eclipse workspace</Line>
          <Line>3.Set Project as engine project, Program arguments as subReport1.xml,</Line>
          <Line>VM arguments set to</Line>
          <Line>-DBIRT_HOME="D:\workspace"  -Xmx512M -ea and click Run button.</Line>
        </Lines>
      </Enumeration>
    </Enumerations>
    <bug_status amount="CLOSED" />
    <resolution amount="FIXED" />
    <WithStack>The Step of Reproduce:
1.Obtain the latest version of engine, model, data, etc of IRAD
2.Extract them to related eclipse workspace
3.Set Project as engine project, Program arguments as subReport1.xml, 
VM arguments set to 
-DBIRT_HOME="D:\workspace"  -Xmx512M -ea and click Run button.

Expected Result:
col span = "5"

Actual Result:
col span = "4"
Revert model's change.

The design file and golden file need be upgraded</WithStack>
    <WithOutStack>The Step of Reproduce:
1.Obtain the latest version of engine, model, data, etc of IRAD
2.Extract them to related eclipse workspace
3.Set Project as engine project, Program arguments as subReport1.xml, 
VM arguments set to 
-DBIRT_HOME="D:\workspace"  -Xmx512M -ea and click Run button.

Expected Result:
col span = "5"

Actual Result:
col span = "4"
Revert model's change.

The design file and golden file need be upgraded</WithOutStack>
  </Bug>
  <Bug>
    <BugId amount="107695" />
    <CreationDate amount="2005-08-22 23:24:00 -0400" />
    <DupId amount="" />
    <classification amount="BIRT" />
    <Product amount="BIRT" />
    <component amount="Data" />
    <Version amount="1.0.1" />
    <rep_platform amount="PC" />
    <op_sys amount="Windows XP" />
    <priority amount="P3" />
    <bug_severity amount="enhancement" />
    <Summery>When click on "restore" in driver manager, the first column is refreshed strangely.</Summery>
    <Patches amount="0" />
    <Stacktraces amount="0" />
    <SourceCodeRegions amount="0" />
    <Enumerations amount="1">
      <Enumeration lines="2">
        <Lines>
          <Line>1. Add a data source and manage driver.</Line>
          <Line>2. Select one file and click on "restore".</Line>
        </Lines>
      </Enumeration>
    </Enumerations>
    <bug_status amount="CLOSED" />
    <resolution amount="FIXED" />
    <WithStack>Description: When click on "restore" in driver manager, the first column is 
refreshed strangely.

Steps to reproduce:
1. Add a data source and manage driver.
2. Select one file and click on "restore".

Actual result: the first column is refreshed. See captured image.
Created attachment 26365
screen captured
fixed
Verified in build 20050825.</WithStack>
    <WithOutStack>Description: When click on "restore" in driver manager, the first column is 
refreshed strangely.

Steps to reproduce:
1. Add a data source and manage driver.
2. Select one file and click on "restore".

Actual result: the first column is refreshed. See captured image.
Created attachment 26365
screen captured
fixed
Verified in build 20050825.</WithOutStack>
  </Bug>
  <Bug>
    <BugId amount="107696" />
    <CreationDate amount="2005-08-23 00:52:00 -0400" />
    <DupId amount="" />
    <classification amount="WebTools" />
    <Product amount="WTP Webservices" />
    <component amount="wst.ws" />
    <Version amount="unspecified" />
    <rep_platform amount="PC" />
    <op_sys amount="Windows XP" />
    <priority amount="P3" />
    <bug_severity amount="normal" />
    <Summery>Could not access the External Web Services using Web Services Explorer</Summery>
    <Patches amount="0" />
    <Stacktraces amount="0" />
    <SourceCodeRegions amount="0" />
    <Enumerations amount="0" />
    <bug_status amount="CLOSED" />
    <resolution amount="FIXED" />
    <WithStack>I am behind a proxy server.I tried using Web Services Explorer to access the 
external the web service but its showing an error.

The internet preference page was updated with the proxy information, however, 
I am still getting the following exception:

IWAB0135E An unexpected error has occurred.
502
Proxy Error ( The Uniform Resource Locator (URL) does not use a 
recognized protocol. Either the protocol is not supported or the 
request was not typed correctly. Confirm that a valid protocol is in use (for 
example, HTTP for a Web request).)

I am using the same proxy information in a standalone Java Client to invoke 
the Web Service,then its working fine.So then there must be some kind of 
problem in the Internet Proxy Settings Page.

The proxy Host Server is: http://192.168.127.79/hyd.pac

I think it is a bug.
Please let me know.

Anshuk
Gil/Chris, when it comes to sending SOAP messages, the Explorer cracks open the 
socket itself, it doesn't use the java.net.URL packages. Perhapes the Explorer 
did not create the socket or the HTTP message correctly...
(In reply to comment #1)
&gt; Gil/Chris, when it comes to sending SOAP messages, the Explorer cracks open the 
&gt; socket itself, it doesn't use the java.net.URL packages. Perhapes the Explorer 
&gt; did not create the socket or the HTTP message correctly...

Hello, I am also trying to use a webservice on the internet from the Web
Services Explorer. I am behind a squid proxy. Ethereal shows the following
traffic between me and squid:

My HTTP Request:

POST /webservices.asmx HTTP/1.1
Host www.dlask.nl:80
...

Response from squid:

HTTP/1.0 400 Bad Request (text/html)
...
    &lt;H1&gt;ERROR&lt;/H1&gt;
    &lt;H2&gt;The requested URL could not be retrieved&lt;/H2&gt;
    While trying to retrieve the URL:
    &lt;A HREF="/webservice.asmx"&gt;/webservice.asmx&lt;/A&gt;
    The following error was encountered:
    &lt;STRONG&gt;
    Invalid URL
    &lt;/STRONG&gt;
    Some aspect of the requested URL is incorrect.  Possible problems:
    &lt;UL&gt;
    &lt;LI&gt;Missing or incorrect access protocol (should be `http://'' or similar)
    &lt;LI&gt;Missing hostname
    &lt;LI&gt;Illegal double-escape in the URL-Path
    &lt;LI&gt;Illegal character in hostname; underscores are not allowed
    &lt;/UL&gt;

Apparently squid expects an absolute URI instead of a relative URI. And in the
HTTP specification (http://www.w3.org/Protocols/rfc2616/rfc2616-sec5.html#sec5)
I read: "The absoluteURI form is REQUIRED when the request is being made to a
proxy.".

So, is this a bug?

Dirk
I am also behind a proxy server, and the error is identical to that reported by
Anshuk. Using Ethereal to capture network traffic, I found that the request sent
to the proxy was:

POST /site/webservices/web-service-page.php HTTP/1.1
Host: www.host.com:80
...

Using another tool to send the same request with my modifications, I sent the
following request:

POST http://www.host.com:80/site/webservices/web-service-page.php HTTP/1.1
Host: www.host.com:80
...

And the proxy returned the response correctly as expected. So I believe that
simply correcting the url sent to the proxy, the problem can be corrected.

Panisson
So that means that, when Eclipse is configured to go out via a proxy server, 
that the first HTTP line used bij Web Services Explorer should be

POST &lt;absolute path&gt; HTTP/&lt;version&gt;

instead of

POST &lt;relative path&gt; HTTP/&lt;version&gt;
Refining component to wst.ws so that it starts showing up on me queries.

BTW, I've reproduced the problem insofar as I have the "relative" path 
appearing in the HTTP header. I suspect the cause lies in the WSExplorer's 
HTTPTransport.getMethod(URL) method which is where we compute the POST entry in 
the HTTP header. The logic looks a bit wonky. Stay tuned.

Created attachment 29539
Web Services Explorer WAR

Backup and replace
eclipse\plugins\org.eclipse.wst.ws.explorer_0.7.0\wsexplorer.war by this
attachment, then retry your scenarios.
Changes committed and released with tag v20051108_0950.
Yes that works for me! Thanks a lot for your prompt replies and solution!

So now what is going to happen with this new .war file. When will it be in an
official update?
Glad to here it worked for you. The fix is in for M9.
replaced eclipse\plugins\org.eclipse.wst.ws.explorer_0.7.1\wsexplorer.war by the
attachment and worked perfectly. Thanks!
I am now having problems with access through https protocol. Web Services Explorer ignores all proxy configuration, and tries to connect directly to the host. I tried the following URLs:

http://ws.xwebservices.com/XWeb1003/XWeb1003.asmx?wsdl
and
https://ws.xwebservices.com/XWeb1003/XWeb1003.asmx?wsdl

The first works ok, but the second returns the following error:

IWAB0379E Unable to open https://ws.xwebservices.com/XWeb1003/XWeb1003.asmx?wsdl.
IWAB0135E An unexpected error has occurred.
WSDLException
WSDLException: faultCode=OTHER_ERROR: Connection timed out: connect

is it a case to reopen this bug?
I don't think you need to reopen this bug. I believe the symptom you described falls under bug 102677. Thanks - CB.
*** Bug 118019 has been marked as a duplicate of this bug. ***
Web Services Explorer is still useless to who is behind a proxy server, accessing https urls.
Although accessing the wsdl document works well and the WSDLException
is resolved, when the user calls an operation, the message "An unexpected error has occurred. Exception null" is returned. Seems that there is no network traffic in this case.


Anshuk, I'm verifying/closing on your behalf since others have verified the fix and there's been little other activity in the last 10 months or so. 

André, bug 99034 was fixed recently in WTP 1.5.1 and enables support for HTTPS with and without proxies. Give it a whirl, and if you're still having trouble, please open a fresh bug.

Thanks - CB.
Closed.</WithStack>
    <WithOutStack>I am behind a proxy server.I tried using Web Services Explorer to access the 
external the web service but its showing an error.

The internet preference page was updated with the proxy information, however, 
I am still getting the following exception:

IWAB0135E An unexpected error has occurred.
502
Proxy Error ( The Uniform Resource Locator (URL) does not use a 
recognized protocol. Either the protocol is not supported or the 
request was not typed correctly. Confirm that a valid protocol is in use (for 
example, HTTP for a Web request).)

I am using the same proxy information in a standalone Java Client to invoke 
the Web Service,then its working fine.So then there must be some kind of 
problem in the Internet Proxy Settings Page.

The proxy Host Server is: http://192.168.127.79/hyd.pac

I think it is a bug.
Please let me know.

Anshuk
Gil/Chris, when it comes to sending SOAP messages, the Explorer cracks open the 
socket itself, it doesn't use the java.net.URL packages. Perhapes the Explorer 
did not create the socket or the HTTP message correctly...
(In reply to comment #1)
&gt; Gil/Chris, when it comes to sending SOAP messages, the Explorer cracks open the 
&gt; socket itself, it doesn't use the java.net.URL packages. Perhapes the Explorer 
&gt; did not create the socket or the HTTP message correctly...

Hello, I am also trying to use a webservice on the internet from the Web
Services Explorer. I am behind a squid proxy. Ethereal shows the following
traffic between me and squid:

My HTTP Request:

POST /webservices.asmx HTTP/1.1
Host www.dlask.nl:80
...

Response from squid:

HTTP/1.0 400 Bad Request (text/html)
...
    &lt;H1&gt;ERROR&lt;/H1&gt;
    &lt;H2&gt;The requested URL could not be retrieved&lt;/H2&gt;
    While trying to retrieve the URL:
    &lt;A HREF="/webservice.asmx"&gt;/webservice.asmx&lt;/A&gt;
    The following error was encountered:
    &lt;STRONG&gt;
    Invalid URL
    &lt;/STRONG&gt;
    Some aspect of the requested URL is incorrect.  Possible problems:
    &lt;UL&gt;
    &lt;LI&gt;Missing or incorrect access protocol (should be `http://'' or similar)
    &lt;LI&gt;Missing hostname
    &lt;LI&gt;Illegal double-escape in the URL-Path
    &lt;LI&gt;Illegal character in hostname; underscores are not allowed
    &lt;/UL&gt;

Apparently squid expects an absolute URI instead of a relative URI. And in the
HTTP specification (http://www.w3.org/Protocols/rfc2616/rfc2616-sec5.html#sec5)
I read: "The absoluteURI form is REQUIRED when the request is being made to a
proxy.".

So, is this a bug?

Dirk
I am also behind a proxy server, and the error is identical to that reported by
Anshuk. Using Ethereal to capture network traffic, I found that the request sent
to the proxy was:

POST /site/webservices/web-service-page.php HTTP/1.1
Host: www.host.com:80
...

Using another tool to send the same request with my modifications, I sent the
following request:

POST http://www.host.com:80/site/webservices/web-service-page.php HTTP/1.1
Host: www.host.com:80
...

And the proxy returned the response correctly as expected. So I believe that
simply correcting the url sent to the proxy, the problem can be corrected.

Panisson
So that means that, when Eclipse is configured to go out via a proxy server, 
that the first HTTP line used bij Web Services Explorer should be

POST &lt;absolute path&gt; HTTP/&lt;version&gt;

instead of

POST &lt;relative path&gt; HTTP/&lt;version&gt;
Refining component to wst.ws so that it starts showing up on me queries.

BTW, I've reproduced the problem insofar as I have the "relative" path 
appearing in the HTTP header. I suspect the cause lies in the WSExplorer's 
HTTPTransport.getMethod(URL) method which is where we compute the POST entry in 
the HTTP header. The logic looks a bit wonky. Stay tuned.

Created attachment 29539
Web Services Explorer WAR

Backup and replace
eclipse\plugins\org.eclipse.wst.ws.explorer_0.7.0\wsexplorer.war by this
attachment, then retry your scenarios.
Changes committed and released with tag v20051108_0950.
Yes that works for me! Thanks a lot for your prompt replies and solution!

So now what is going to happen with this new .war file. When will it be in an
official update?
Glad to here it worked for you. The fix is in for M9.
replaced eclipse\plugins\org.eclipse.wst.ws.explorer_0.7.1\wsexplorer.war by the
attachment and worked perfectly. Thanks!
I am now having problems with access through https protocol. Web Services Explorer ignores all proxy configuration, and tries to connect directly to the host. I tried the following URLs:

http://ws.xwebservices.com/XWeb1003/XWeb1003.asmx?wsdl
and
https://ws.xwebservices.com/XWeb1003/XWeb1003.asmx?wsdl

The first works ok, but the second returns the following error:

IWAB0379E Unable to open https://ws.xwebservices.com/XWeb1003/XWeb1003.asmx?wsdl.
IWAB0135E An unexpected error has occurred.
WSDLException
WSDLException: faultCode=OTHER_ERROR: Connection timed out: connect

is it a case to reopen this bug?
I don't think you need to reopen this bug. I believe the symptom you described falls under bug 102677. Thanks - CB.
*** Bug 118019 has been marked as a duplicate of this bug. ***
Web Services Explorer is still useless to who is behind a proxy server, accessing https urls.
Although accessing the wsdl document works well and the WSDLException
is resolved, when the user calls an operation, the message "An unexpected error has occurred. Exception null" is returned. Seems that there is no network traffic in this case.


Anshuk, I'm verifying/closing on your behalf since others have verified the fix and there's been little other activity in the last 10 months or so. 

André, bug 99034 was fixed recently in WTP 1.5.1 and enables support for HTTPS with and without proxies. Give it a whirl, and if you're still having trouble, please open a fresh bug.

Thanks - CB.
Closed.</WithOutStack>
  </Bug>
  <Bug>
    <BugId amount="107697" />
    <CreationDate amount="2005-08-23 01:32:00 -0400" />
    <DupId amount="" />
    <classification amount="WebTools" />
    <Product amount="WTP ServerTools" />
    <component amount="wst.server" />
    <Version amount="unspecified" />
    <rep_platform amount="PC" />
    <op_sys amount="Windows XP" />
    <priority amount="P3" />
    <bug_severity amount="normal" />
    <Summery>Hang  in Server UI Tests, so removed</Summery>
    <Patches amount="0" />
    <Stacktraces amount="0" />
    <SourceCodeRegions amount="0" />
    <Enumerations amount="0" />
    <bug_status amount="CLOSED" />
    <resolution amount="FIXED" />
    <WithStack>I'll attach thread dump, but appears the "Wizard Test Case" re-added to test
suite is (again) cause the builds to hang.
Created attachment 26366
thread dump (thanks Naci) during build test hang
I'm going to try a little bullet proofing in ServerUIUtilTestCase.java, revision
1.3 ... if it works, test will still fail, but won't hang ... you can invesigate
odd 'display' behavior, if desired. 

The little bullet proofing I did didn't fix. 
So, commented out the whole WizardTestCase from junit suite. 

We should know soon if it * that * fixes it. 

= = = = =

BTW, I have seen this "Server Runtime Dialog" also hang in a local, Windows
based build ... so is not just our semi-headless build machine. Must be
something about the "ant environment" or "part activation and focus" ... or
something. 

(By "hang", I mean its just sitting there waiting for input. 

Not sure why the test cases 'close' is not getting called. 
Ok, its good that taking the test out made the test not hang any longer :) 

I changed title to add "removed". I will leave defect open, as 'removed tests'
should be tracked. I'll leave it up to component team to decide how to proceed --
to fix the problem and re-introduce the tests, or ...?. 

(Just be sure to test on a local build first -- not in dev. workbench :)




Fix dropped to HEAD, released, and running ok in current builds.
Confirming fixed. 
Closing.</WithStack>
    <WithOutStack>I'll attach thread dump, but appears the "Wizard Test Case" re-added to test
suite is (again) cause the builds to hang.
Created attachment 26366
thread dump (thanks Naci) during build test hang
I'm going to try a little bullet proofing in ServerUIUtilTestCase.java, revision
1.3 ... if it works, test will still fail, but won't hang ... you can invesigate
odd 'display' behavior, if desired. 

The little bullet proofing I did didn't fix. 
So, commented out the whole WizardTestCase from junit suite. 

We should know soon if it * that * fixes it. 

= = = = =

BTW, I have seen this "Server Runtime Dialog" also hang in a local, Windows
based build ... so is not just our semi-headless build machine. Must be
something about the "ant environment" or "part activation and focus" ... or
something. 

(By "hang", I mean its just sitting there waiting for input. 

Not sure why the test cases 'close' is not getting called. 
Ok, its good that taking the test out made the test not hang any longer :) 

I changed title to add "removed". I will leave defect open, as 'removed tests'
should be tracked. I'll leave it up to component team to decide how to proceed --
to fix the problem and re-introduce the tests, or ...?. 

(Just be sure to test on a local build first -- not in dev. workbench :)




Fix dropped to HEAD, released, and running ok in current builds.
Confirming fixed. 
Closing.</WithOutStack>
  </Bug>
  <Bug>
    <BugId amount="107698" />
    <CreationDate amount="2005-08-23 01:49:00 -0400" />
    <DupId amount="86750" />
    <classification amount="Eclipse" />
    <Product amount="Platform" />
    <component amount="User Assistance" />
    <Version amount="3.1" />
    <rep_platform amount="PC" />
    <op_sys amount="Windows 2000" />
    <priority amount="P3" />
    <bug_severity amount="normal" />
    <Summery>[Intro] Intro is shown on every startup of RCP</Summery>
    <Patches amount="0" />
    <Stacktraces amount="0" />
    <SourceCodeRegions amount="0" />
    <Enumerations amount="0" />
    <bug_status amount="RESOLVED" />
    <resolution amount="DUPLICATE" />
    <WithStack>Having migrated my RCP from eclipse 3.0 to 3.1, my intro is shown now on every
startup of the exported RCP (only the exported RCP has this behaviour not the
RCP in debug mode!). Overwriting the openIntro() method in the
WorkbenchWindowAdvisor did not help, either. Eclipse seems to be failing when
trying to save the API prefs in the PrefUtils.saveAPIPrefs() call.
I also have the same problem with Eclipse, and I know from other developers that
they are getting the same problem. Even more, if you create a sample RCP
application from the wizards, and declare the default intro page
(org.eclipse.platform), and export it using the product export wizard, then
you'll see that the intro page always appear! And is a project very, very simple.
Kim,
can you please take a look at this defect.

Generate a PDE project (file -&gt; new -&gt; pde project) and choose Rich client 
application, the RCP application with an Intro) 

If you self host and try it, intro page opens up only as needed (only if you 
shutdown with intro).

but if you export as an rcp product, intro is opened each time. 
ping me if its quicker..
I seem to recall that there is a problem writing out the property that says the
intro page has been shown, with the result that when the application starts up,
it doesn't think the intro page has been shown before.
See bug 86750 for the underlying cause.
this is not an Intro defect. This is a runtime/ui defect (bug 86750).
A workaround: Explicitly passing -data to specify the specific location of thw 
workspace. 
 


*** This bug has been marked as a duplicate of 86750 ***
Verified on Windows XP, build M20050923-1430.</WithStack>
    <WithOutStack>Having migrated my RCP from eclipse 3.0 to 3.1, my intro is shown now on every
startup of the exported RCP (only the exported RCP has this behaviour not the
RCP in debug mode!). Overwriting the openIntro() method in the
WorkbenchWindowAdvisor did not help, either. Eclipse seems to be failing when
trying to save the API prefs in the PrefUtils.saveAPIPrefs() call.
I also have the same problem with Eclipse, and I know from other developers that
they are getting the same problem. Even more, if you create a sample RCP
application from the wizards, and declare the default intro page
(org.eclipse.platform), and export it using the product export wizard, then
you'll see that the intro page always appear! And is a project very, very simple.
Kim,
can you please take a look at this defect.

Generate a PDE project (file -&gt; new -&gt; pde project) and choose Rich client 
application, the RCP application with an Intro) 

If you self host and try it, intro page opens up only as needed (only if you 
shutdown with intro).

but if you export as an rcp product, intro is opened each time. 
ping me if its quicker..
I seem to recall that there is a problem writing out the property that says the
intro page has been shown, with the result that when the application starts up,
it doesn't think the intro page has been shown before.
See bug 86750 for the underlying cause.
this is not an Intro defect. This is a runtime/ui defect (bug 86750).
A workaround: Explicitly passing -data to specify the specific location of thw 
workspace. 
 


*** This bug has been marked as a duplicate of 86750 ***
Verified on Windows XP, build M20050923-1430.</WithOutStack>
  </Bug>
  <Bug>
    <BugId amount="107699" />
    <CreationDate amount="2005-08-23 02:05:00 -0400" />
    <DupId amount="107674" />
    <classification amount="Eclipse" />
    <Product amount="Platform" />
    <component amount="Text" />
    <Version amount="3.1" />
    <rep_platform amount="PC" />
    <op_sys amount="Windows XP" />
    <priority amount="P3" />
    <bug_severity amount="normal" />
    <Summery>Eclipse Editors become very sluggish with large amounts of markers</Summery>
    <Patches amount="0" />
    <Stacktraces amount="0" />
    <SourceCodeRegions amount="0" />
    <Enumerations amount="0" />
    <bug_status amount="RESOLVED" />
    <resolution amount="DUPLICATE" />
    <WithStack>Eclipse editors (Java Editor as well as Text Editor) become extremely sluggish 
if there are a large amount of markers in the displayed resource.

I am reporting on behalf of the Eclipse Checkstyle Plugin project.
We had a user reporting extrem performance problems using the plugin.
Investigation showed that he used the plugin on some very large java files 
(about 10,000 lines). For such a file the Checkstyle plugin generated a large 
amount of warnings (Checkstyle markers), 15,000 to count.

Opening the Java or Text editor on this file takes about 1 minute to open, if it 
is finally open the editor behaves extremely slow.

While I admit this to be a very extreme use case, maybe it is possible to fix 
performance in this case.
The (temporary?) solution I built into the plugin is to limit the number of 
markers generated per resource. For instance if I limit the number of markers to 
 100 the editor behaves with normal performance.
This circumstance seems to point out that the problem is directly related to the 
amout of markers per resource.


*** This bug has been marked as a duplicate of 107674 ***</WithStack>
    <WithOutStack>Eclipse editors (Java Editor as well as Text Editor) become extremely sluggish 
if there are a large amount of markers in the displayed resource.

I am reporting on behalf of the Eclipse Checkstyle Plugin project.
We had a user reporting extrem performance problems using the plugin.
Investigation showed that he used the plugin on some very large java files 
(about 10,000 lines). For such a file the Checkstyle plugin generated a large 
amount of warnings (Checkstyle markers), 15,000 to count.

Opening the Java or Text editor on this file takes about 1 minute to open, if it 
is finally open the editor behaves extremely slow.

While I admit this to be a very extreme use case, maybe it is possible to fix 
performance in this case.
The (temporary?) solution I built into the plugin is to limit the number of 
markers generated per resource. For instance if I limit the number of markers to 
 100 the editor behaves with normal performance.
This circumstance seems to point out that the problem is directly related to the 
amout of markers per resource.


*** This bug has been marked as a duplicate of 107674 ***</WithOutStack>
  </Bug>
  <Bug>
    <BugId amount="107700" />
    <CreationDate amount="2005-08-23 03:14:00 -0400" />
    <DupId amount="" />
    <classification amount="Eclipse Foundation" />
    <Product amount="z_Archived" />
    <component amount="WTP Datatools" />
    <Version amount="unspecified" />
    <rep_platform amount="PC" />
    <op_sys amount="Linux" />
    <priority amount="P3" />
    <bug_severity amount="normal" />
    <Summery>Invoking AddConnectionAction without Database Explorer open causes NPE</Summery>
    <Patches amount="0" />
    <Stacktraces amount="1">
      <Stacktrace timestamp="1437330570215">
        <Exception>java.lang.NullPointerException</Exception>
        <Reason />
        <Frames>
          <Frame depth="0">org.eclipse.wst.rdb.server.internal.ui.explorer.content.ServerExplorerRefreshListener.notifyChanged(ServerExplorerRefreshListener.java:30)</Frame>
          <Frame depth="1">org.eclipse.wst.rdb.internal.core.rte.RefreshManager.referesh(RefreshManager.java:73)</Frame>
          <Frame depth="2">org.eclipse.wst.rdb.internal.core.rte.jdbc.JDBCDatabase.refresh(JDBCDatabase.java:49)</Frame>
          <Frame depth="3">org.eclipse.wst.rdb.server.internal.ui.wizards.NewConnectionWizard.performFinish(NewConnectionWizard.java:258)</Frame>
          <Frame depth="4">org.eclipse.jface.wizard.WizardDialog.finishPressed(WizardDialog.java:676)</Frame>
          <Frame depth="5">org.eclipse.jface.wizard.WizardDialog.buttonPressed(WizardDialog.java:349)</Frame>
          <Frame depth="6">org.eclipse.jface.dialogs.Dialog$2.widgetSelected(Dialog.java:556)</Frame>
          <Frame depth="7">org.eclipse.swt.widgets.TypedListener.handleEvent(TypedListener.java:90)</Frame>
          <Frame depth="8">org.eclipse.swt.widgets.EventTable.sendEvent(EventTable.java:66)</Frame>
          <Frame depth="9">org.eclipse.swt.widgets.Widget.sendEvent(Widget.java:1021)</Frame>
          <Frame depth="10">org.eclipse.swt.widgets.Display.runDeferredEvents(Display.java:2867)</Frame>
          <Frame depth="11">org.eclipse.swt.widgets.Display.readAndDispatch(Display.java:2572)</Frame>
          <Frame depth="12">org.eclipse.jface.window.Window.runEventLoop(Window.java:809)</Frame>
          <Frame depth="13">org.eclipse.jface.window.Window.open(Window.java:787)</Frame>
          <Frame depth="14">org.eclipse.wst.rdb.server.internal.ui.explorer.actions.popup.AddConnectionAction.run(AddConnectionAction.java:65)</Frame>
        </Frames>
      </Stacktrace>
    </Stacktraces>
    <SourceCodeRegions amount="0" />
    <Enumerations amount="0" />
    <bug_status amount="CLOSED" />
    <resolution amount="INVALID" />
    <WithStack>Invoking AddConnectionAction without Database Explorer view open causes a NPE.

java.lang.NullPointerException
at
org.eclipse.wst.rdb.server.internal.ui.explorer.content.ServerExplorerRefreshListener.notifyChanged(ServerExplorerRefreshListener.java:30)
at
org.eclipse.wst.rdb.internal.core.rte.RefreshManager.referesh(RefreshManager.java:73)
at
org.eclipse.wst.rdb.internal.core.rte.jdbc.JDBCDatabase.refresh(JDBCDatabase.java:49)
at
org.eclipse.wst.rdb.server.internal.ui.wizards.NewConnectionWizard.performFinish(NewConnectionWizard.java:258)
at org.eclipse.jface.wizard.WizardDialog.finishPressed(WizardDialog.java:676)
at org.eclipse.jface.wizard.WizardDialog.buttonPressed(WizardDialog.java:349)
at org.eclipse.jface.dialogs.Dialog$2.widgetSelected(Dialog.java:556)
at org.eclipse.swt.widgets.TypedListener.handleEvent(TypedListener.java:90)
at org.eclipse.swt.widgets.EventTable.sendEvent(EventTable.java:66)
at org.eclipse.swt.widgets.Widget.sendEvent(Widget.java:1021)
at org.eclipse.swt.widgets.Display.runDeferredEvents(Display.java:2867)
at org.eclipse.swt.widgets.Display.readAndDispatch(Display.java:2572)
at org.eclipse.jface.window.Window.runEventLoop(Window.java:809)
at org.eclipse.jface.window.Window.open(Window.java:787)
at
org.eclipse.wst.rdb.server.internal.ui.explorer.actions.popup.AddConnectionAction.run(AddConnectionAction.java:65)
at ...
This bug is critical for the Dali EJB3 ORM Project as currently a user must know to open the Database Explorer View before they create a persistence enabled java project.  Connection creation is an optional part of the persistence enablement wizard, which currently fails (as described above) unless the user has previously opened the Database Explorer view.  

Connection creation should not be dependent on the Database Explorer View being open.

Larry,

Does the embedded connection wizard also have dependency on database Explorer.

Thanks,

Der Ping
Invoking AddConnectionAction.run() is not a supported scenario. The supported scenario is to host the connection wizard pages directly in your wizard.  Please refer to the RDB whitepaper for information on how to do this and sample code at:  http://www.eclipse.org/webtools/wst/components/rdb/Data%20Tools%20Open%20Source%20Overview%20for%20Eclipse%20database%20Developer.html.
Information provided in comments.</WithStack>
    <WithOutStack>Invoking AddConnectionAction without Database Explorer view open causes a NPE.


at ...
This bug is critical for the Dali EJB3 ORM Project as currently a user must know to open the Database Explorer View before they create a persistence enabled java project.  Connection creation is an optional part of the persistence enablement wizard, which currently fails (as described above) unless the user has previously opened the Database Explorer view.  

Connection creation should not be dependent on the Database Explorer View being open.

Larry,

Does the embedded connection wizard also have dependency on database Explorer.

Thanks,

Der Ping
Invoking AddConnectionAction.run() is not a supported scenario. The supported scenario is to host the connection wizard pages directly in your wizard.  Please refer to the RDB whitepaper for information on how to do this and sample code at:  http://www.eclipse.org/webtools/wst/components/rdb/Data%20Tools%20Open%20Source%20Overview%20for%20Eclipse%20database%20Developer.html.
Information provided in comments.</WithOutStack>
  </Bug>
</infozilla-output>

