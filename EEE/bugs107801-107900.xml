<?xml version="1.0" encoding="UTF-8"?>
<infozilla-output>
  <Bug>
    <BugId amount="107801" />
    <CreationDate amount="2005-08-23 17:59:00 -0400" />
    <DupId amount="" />
    <classification amount="Eclipse" />
    <Product amount="Platform" />
    <component amount="Update  (deprecated - use RT&gt;Equinox&gt;p2)" />
    <Version amount="3.1" />
    <rep_platform amount="PC" />
    <op_sys amount="Windows XP" />
    <priority amount="P3" />
    <bug_severity amount="normal" />
    <Summery>"/" is not supported in category name</Summery>
    <Patches amount="0" />
    <Stacktraces amount="0" />
    <SourceCodeRegions amount="0" />
    <Enumerations amount="0" />
    <bug_status amount="RESOLVED" />
    <resolution amount="WORKSFORME" />
    <WithStack>In the site.xml of my update site, there is a catogory like the following.
&lt;category-def name="z/OS Documentation" label="z/OS Documentation 3.0.0"&gt;
The features under this category are moved to Other category.
When you say "moved", do you mean that when you browse the site from the update
UI, the features are not properly listed?
I didn't see the category "z/OS Documentation" when I browsed the update site. 
The feature under this category appeared under "Other" category. 
[looking at this issue with I20051108-1011]

Actually, there seem several things to go wrong here, so I'm not sure if
I'm missing something. The docs for the site.xml specify that the 'name'
attribute is for identifying the category, whereas the 'label' attribute
is for a human-readable (possibly localized) label that may be displayed
to the user. (Most other places would have called these 'id' and 'name' 
resp., which in itself is a bit confusing.) 

But the only attribute that seems to be used at all is the 'name'. The 
'label' is not asked for from the UI. (The content provider for the tree
on the review page asks for the name, and there seems to be no other 
call to the getLabel() methods on any of the interfaces that look to
me as if they would represent a category.) I was also not able to create
a site.xml with a label so that it shows up in the Update Manager UI, 
I always see the name.

In addition, following the docs, the name may be a path expression, 
which is made of slash-separated segments. This allows nested categories. 
But again, I was not able to use this feature in a site.xml, nor could
I find this actually supported in the code. So, is this indeed not yet 
implemented, or am I just looking in the wrong place?

Hm, I suppose I should first try to make the name/label pair work as
expected in the docs and then we'll see about that path thing.

Seeing that the initial report was about slashes, I'd think that a clean 
separation between name and label would help here. Once labels show up
correctly in the UI, something like 

  name="zosdocs" label="z/OS Documentation"

should get us the desired result. Samuel, do you think that would help in your
case? Branko, is it ok if I work in that direction?
It sounds good to me. Thanks.
In eclipse 3.0, the Update Manager UI did display the label, as documented. The behavior changed some time after that.
I'm running eclipse 3.1.2 now and the problem seems gone
per last comment i am closing this bug.</WithStack>
    <WithOutStack>In the site.xml of my update site, there is a catogory like the following.
&lt;category-def name="z/OS Documentation" label="z/OS Documentation 3.0.0"&gt;
The features under this category are moved to Other category.
When you say "moved", do you mean that when you browse the site from the update
UI, the features are not properly listed?
I didn't see the category "z/OS Documentation" when I browsed the update site. 
The feature under this category appeared under "Other" category. 
[looking at this issue with I20051108-1011]

Actually, there seem several things to go wrong here, so I'm not sure if
I'm missing something. The docs for the site.xml specify that the 'name'
attribute is for identifying the category, whereas the 'label' attribute
is for a human-readable (possibly localized) label that may be displayed
to the user. (Most other places would have called these 'id' and 'name' 
resp., which in itself is a bit confusing.) 

But the only attribute that seems to be used at all is the 'name'. The 
'label' is not asked for from the UI. (The content provider for the tree
on the review page asks for the name, and there seems to be no other 
call to the getLabel() methods on any of the interfaces that look to
me as if they would represent a category.) I was also not able to create
a site.xml with a label so that it shows up in the Update Manager UI, 
I always see the name.

In addition, following the docs, the name may be a path expression, 
which is made of slash-separated segments. This allows nested categories. 
But again, I was not able to use this feature in a site.xml, nor could
I find this actually supported in the code. So, is this indeed not yet 
implemented, or am I just looking in the wrong place?

Hm, I suppose I should first try to make the name/label pair work as
expected in the docs and then we'll see about that path thing.

Seeing that the initial report was about slashes, I'd think that a clean 
separation between name and label would help here. Once labels show up
correctly in the UI, something like 

  name="zosdocs" label="z/OS Documentation"

should get us the desired result. Samuel, do you think that would help in your
case? Branko, is it ok if I work in that direction?
It sounds good to me. Thanks.
In eclipse 3.0, the Update Manager UI did display the label, as documented. The behavior changed some time after that.
I'm running eclipse 3.1.2 now and the problem seems gone
per last comment i am closing this bug.</WithOutStack>
  </Bug>
  <Bug>
    <BugId amount="107802" />
    <CreationDate amount="2005-08-23 18:06:00 -0400" />
    <DupId amount="" />
    <classification amount="Tools" />
    <Product amount="TPTP Release Engineering" />
    <component amount="TPTP.Testing" />
    <Version amount="4.1" />
    <rep_platform amount="PC" />
    <op_sys amount="Windows 2000" />
    <priority amount="P3" />
    <bug_severity amount="normal" />
    <Summery>Check in test results for Platform.UI</Summery>
    <Patches amount="0" />
    <Stacktraces amount="0" />
    <SourceCodeRegions amount="0" />
    <Enumerations amount="0" />
    <bug_status amount="CLOSED" />
    <resolution amount="FIXED" />
    <WithStack>Check in test results for Platform.UI
Done.
As of TPTP 4.6.0, TPTP is in maintenance mode and focusing on improving quality by resolving relevant enhancements/defects and increasing test coverage through test creation, automation, Build Verification Tests (BVTs), and expanded run-time execution. As part of the TPTP Bugzilla housecleaning process (see http://wiki.eclipse.org/Bugzilla_Housecleaning_Processes), this enhancement/defect is verified/closed by the Project Lead since this enhancement/defect has been resolved and unverified for more than 1 year and considered to be fixed. If this enhancement/defect is still unresolved and reproducible in the latest TPTP release (http://www.eclipse.org/tptp/home/downloads/), please re-open.</WithStack>
    <WithOutStack>Check in test results for Platform.UI
Done.
As of TPTP 4.6.0, TPTP is in maintenance mode and focusing on improving quality by resolving relevant enhancements/defects and increasing test coverage through test creation, automation, Build Verification Tests (BVTs), and expanded run-time execution. As part of the TPTP Bugzilla housecleaning process (see http://wiki.eclipse.org/Bugzilla_Housecleaning_Processes), this enhancement/defect is verified/closed by the Project Lead since this enhancement/defect has been resolved and unverified for more than 1 year and considered to be fixed. If this enhancement/defect is still unresolved and reproducible in the latest TPTP release (http://www.eclipse.org/tptp/home/downloads/), please re-open.</WithOutStack>
  </Bug>
  <Bug>
    <BugId amount="107803" />
    <CreationDate amount="2005-08-23 18:25:00 -0400" />
    <DupId amount="" />
    <classification amount="Eclipse" />
    <Product amount="JDT" />
    <component amount="Core" />
    <Version amount="3.1" />
    <rep_platform amount="PC" />
    <op_sys amount="Windows XP" />
    <priority amount="P3" />
    <bug_severity amount="enhancement" />
    <Summery>[compiler] Warning for infinite recursion in code</Summery>
    <Patches amount="0" />
    <Stacktraces amount="0" />
    <SourceCodeRegions amount="1">
      <source_code type="functiondef">
        <location start="110" end="182" />
        <code>void doSomething()
{
    doSomething() ///There should be warning here
}</code>
      </source_code>
    </SourceCodeRegions>
    <Enumerations amount="0" />
    <bug_status amount="NEW" />
    <resolution amount="" />
    <WithStack>The compiler should check for and generate a warning when it sees an obvious
infinite recursion in code.
Eg-

void doSomething()
{
    doSomething() ///There should be warning here
}</WithStack>
    <WithOutStack>The compiler should check for and generate a warning when it sees an obvious
infinite recursion in code.
Eg-

void doSomething()
{
    doSomething() ///There should be warning here
}</WithOutStack>
  </Bug>
  <Bug>
    <BugId amount="107804" />
    <CreationDate amount="2005-08-23 18:29:00 -0400" />
    <DupId amount="110030" />
    <classification amount="Eclipse" />
    <Product amount="JDT" />
    <component amount="Core" />
    <Version amount="3.1" />
    <rep_platform amount="PC" />
    <op_sys amount="Windows XP" />
    <priority amount="P3" />
    <bug_severity amount="enhancement" />
    <Summery>Warning for possible NullPointerException</Summery>
    <Patches amount="0" />
    <Stacktraces amount="0" />
    <SourceCodeRegions amount="2">
      <source_code type="functiondef">
        <location start="88" end="191" />
        <code>public void asd(MyObj a)
{

   if(a!=null)
      a.doSomething();

   a.doSomething(); //warning here
}</code>
      </source_code>
      <source_code type="functiondef">
        <location start="506" end="573" />
        <code>public void asd(MyObj a)
{
   a.doSomething(); // NO warning here
}</code>
      </source_code>
    </SourceCodeRegions>
    <Enumerations amount="0" />
    <bug_status amount="RESOLVED" />
    <resolution amount="DUPLICATE" />
    <WithStack>The compiler should give a warning when it sees a possible null pointer exception.
Eg-

public void asd(MyObj a)
{

   if(a!=null)
      a.doSomething();

   a.doSomething(); //warning here
}

Basically it should check if some var is checked for null.
If it is, and there is some portion of the code which exccutes code on that var
without checking it for null then there can be a possible nullpointer excpetion.

For example this wont produce warning in the following code as no check for null
is done-


public void asd(MyObj a)
{
   a.doSomething(); // NO warning here
}
Sorry, missed this one when implementing 110030. The behaviors you ask for were included in 3.2.

*** This bug has been marked as a duplicate of 110030 ***</WithStack>
    <WithOutStack>The compiler should give a warning when it sees a possible null pointer exception.
Eg-

public void asd(MyObj a)
{

   if(a!=null)
      a.doSomething();

   a.doSomething(); //warning here
}

Basically it should check if some var is checked for null.
If it is, and there is some portion of the code which exccutes code on that var
without checking it for null then there can be a possible nullpointer excpetion.

For example this wont produce warning in the following code as no check for null
is done-


public void asd(MyObj a)
{
   a.doSomething(); // NO warning here
}
Sorry, missed this one when implementing 110030. The behaviors you ask for were included in 3.2.

*** This bug has been marked as a duplicate of 110030 ***</WithOutStack>
  </Bug>
  <Bug>
    <BugId amount="107805" />
    <CreationDate amount="2005-08-23 18:30:00 -0400" />
    <DupId amount="" />
    <classification amount="Eclipse" />
    <Product amount="JDT" />
    <component amount="UI" />
    <Version amount="3.1" />
    <rep_platform amount="PC" />
    <op_sys amount="Windows XP" />
    <priority amount="P3" />
    <bug_severity amount="normal" />
    <Summery>Quickfix for @Override</Summery>
    <Patches amount="0" />
    <Stacktraces amount="0" />
    <SourceCodeRegions amount="0" />
    <Enumerations amount="0" />
    <bug_status amount="RESOLVED" />
    <resolution amount="WORKSFORME" />
    <WithStack>Currently the compiler only warns that a method does not have the @Overrride
annotation.
Instead it should simply offer a quickfix there to add the annotation to the method.
This works for me using 3.1.0. If you are still seeing it please provide steps
to reproduce where such an error/warning doesn't provide a corresponding quick fix.</WithStack>
    <WithOutStack>Currently the compiler only warns that a method does not have the @Overrride
annotation.
Instead it should simply offer a quickfix there to add the annotation to the method.
This works for me using 3.1.0. If you are still seeing it please provide steps
to reproduce where such an error/warning doesn't provide a corresponding quick fix.</WithOutStack>
  </Bug>
  <Bug>
    <BugId amount="107806" />
    <CreationDate amount="2005-08-23 18:33:00 -0400" />
    <DupId amount="" />
    <classification amount="Tools" />
    <Product amount="TPTP Profiling" />
    <component amount="Platform.Doc" />
    <Version amount="4.1" />
    <rep_platform amount="PC" />
    <op_sys amount="Windows 2000" />
    <priority amount="P3" />
    <bug_severity amount="normal" />
    <Summery>Refactor the TPTP test suite to contain the name of the bugzilla component</Summery>
    <Patches amount="0" />
    <Stacktraces amount="0" />
    <SourceCodeRegions amount="0" />
    <Enumerations amount="0" />
    <bug_status amount="CLOSED" />
    <resolution amount="FIXED" />
    <WithStack>Refactor the "Documentation" test suite to "Platform.Doc".
Fixed.
As of TPTP 4.6.0, TPTP is in maintenance mode and focusing on improving quality by resolving relevant enhancements/defects and increasing test coverage through test creation, automation, Build Verification Tests (BVTs), and expanded run-time execution. As part of the TPTP Bugzilla housecleaning process (see http://wiki.eclipse.org/Bugzilla_Housecleaning_Processes), this enhancement/defect is verified/closed by the Project Lead since this enhancement/defect has been resolved and unverified for more than 1 year and considered to be fixed. If this enhancement/defect is still unresolved and reproducible in the latest TPTP release (http://www.eclipse.org/tptp/home/downloads/), please re-open.</WithStack>
    <WithOutStack>Refactor the "Documentation" test suite to "Platform.Doc".
Fixed.
As of TPTP 4.6.0, TPTP is in maintenance mode and focusing on improving quality by resolving relevant enhancements/defects and increasing test coverage through test creation, automation, Build Verification Tests (BVTs), and expanded run-time execution. As part of the TPTP Bugzilla housecleaning process (see http://wiki.eclipse.org/Bugzilla_Housecleaning_Processes), this enhancement/defect is verified/closed by the Project Lead since this enhancement/defect has been resolved and unverified for more than 1 year and considered to be fixed. If this enhancement/defect is still unresolved and reproducible in the latest TPTP release (http://www.eclipse.org/tptp/home/downloads/), please re-open.</WithOutStack>
  </Bug>
  <Bug>
    <BugId amount="107807" />
    <CreationDate amount="2005-08-23 18:34:00 -0400" />
    <DupId amount="" />
    <classification amount="Eclipse" />
    <Product amount="JDT" />
    <component amount="Core" />
    <Version amount="3.1" />
    <rep_platform amount="PC" />
    <op_sys amount="Windows XP" />
    <priority amount="P3" />
    <bug_severity amount="enhancement" />
    <Summery>Warning for redundant check for null</Summery>
    <Patches amount="0" />
    <Stacktraces amount="0" />
    <SourceCodeRegions amount="1">
      <source_code type="functiondef">
        <location start="202" end="348" />
        <code>void asd(Object a)
{
   a.toString();
    
    if(a==null) //warning here as 'a' has already been used previously
     throw new MyException();

}</code>
      </source_code>
    </SourceCodeRegions>
    <Enumerations amount="0" />
    <bug_status amount="RESOLVED" />
    <resolution amount="INVALID" />
    <WithStack>The compiler should give a warning when it sees a redundant check for null
pointer. That is when the var has already been used before in the method and
then the check is done later in the method.

Eg-

void asd(Object a)
{
   a.toString();
    
    if(a==null) //warning here as 'a' has already been used previously
     throw new MyException();

}
In the batch compiler this is already done.
If compiled with -warn:+null, you get:

----------
1. WARNING in d:\tests_sources\X.java
 (at line 6)
	if(a==null) //warning here as 'a' has already been used previously
	   ^
The variable a cannot be null; it was either set to a non-null value or assumed
to be non-null when last used
----------
1 problem (1 warning)

We simply need to expose this option.
Closing as INVALID.</WithStack>
    <WithOutStack>The compiler should give a warning when it sees a redundant check for null
pointer. That is when the var has already been used before in the method and
then the check is done later in the method.

Eg-

void asd(Object a)
{
   a.toString();
    
    if(a==null) //warning here as 'a' has already been used previously
     throw new MyException();

}
In the batch compiler this is already done.
If compiled with -warn:+null, you get:

----------
1. WARNING in d:\tests_sources\X.java
 (at line 6)
	if(a==null) //warning here as 'a' has already been used previously
	   ^
The variable a cannot be null; it was either set to a non-null value or assumed
to be non-null when last used
----------
1 problem (1 warning)

We simply need to expose this option.
Closing as INVALID.</WithOutStack>
  </Bug>
  <Bug>
    <BugId amount="107808" />
    <CreationDate amount="2005-08-23 18:45:00 -0400" />
    <DupId amount="" />
    <classification amount="WebTools" />
    <Product amount="WTP Webservices" />
    <component amount="jst.ws" />
    <Version amount="0.7" />
    <rep_platform amount="PC" />
    <op_sys amount="Windows XP" />
    <priority amount="P3" />
    <bug_severity amount="major" />
    <Summery>null pointer exception when constructing web service (bottom up)</Summery>
    <Patches amount="0" />
    <Stacktraces amount="1">
      <Stacktrace timestamp="1437330570699">
        <Exception>java.lang.NoClassDefFoundError</Exception>
        <Reason>ca/simakis/test/Employee
9)Remove jar from buildpath
-compile errors again
10) move jar into C:\workspace\TestWebProject\WebContent\WEB-INF\lib
-compile errors gone
11) Try Generating Web Service 
- works but there is a compile error in the generate Result.jsp of the client.
I can also confirm this bug, and I can reproduce it in both WTP 0.70 and the
latest integration build listed on the download page (I20050916).

I get the same error and stacktrace after following the same steps. The bug is
triggered when any other project is linked in the build path of the web service
project. If I remove the build path dependency, the problem goes away (although
obviously this leads to most web service projects not being able to build).

Windows XP, fresh install with all the correct versions and a brand new workspace.
Not trying to spam the buglist, but I just thought I'd add that this bug is
still present and affecting me on the WTP 0.7.1 release and 1.0M8 (either one).
I can work around it by tossing all of our code into a single package, but I'd
really rather not do this for numerous reasons. As far as I can tell, WTP is
totally broken for any code setup in which the web services project references
code in any other project, at least on my particular code and server setup. This
bug seems rather serious to me since it is seriously impeding my development of
a large server application - I have to manually copy and sync up code between
projects because of it.
Changing severity to major based on user input.

I've been able to recreate the NPE problem with ClasspathUtil.  I'll look into 
providing a fix for this.  In the meanwhile, one workaround is to define a Web 
project as the dependent project rather than Java project, that avoids the 
problem with ClasspathUtil and the wizard is able to finish successfully.
Fix in ClasspathUtils committed and released as v20051006_1145.  This fix will 
be available in this week's integration build.

Please note that when creating a Web service from a Web project A depending on 
another project B, including project B in the build path of project A only 
satisfy the build time requirement.  You would also need to JAR up the class 
file in project B and add it to project A's WebContent/WEB-INF/lib directory in 
order for the Web service to deploy properly.  Ohterwise, when you try to 
invoke the Web service, you'll get "No target service found" error.

Also, if you go through a Web service creation scenario with the files provided 
in comment 4 as is, you'll run into "no serializer found error" when attempting 
to run the Web service.  This is because the Employee class has a non-default 
constructor:

	public Employee( int id, String name )
	{
		_id = id;
		_name = name;
	}

So this class does not satisfy the bean specification of requiring a public 
default constructor taking no argument.

The way to solve this problem is either to add a default constructor:

        public Employee() {
		
	}

OR

remove the constructor Employee( int id, String name ) and instead use setters 
to set the bean attributes.

After I added a default constructor taking no argument, I was able to create 
and run a Web service with EmployeeService.java (from comment 4) which is 
depending on the TestProject Java project.

*** Bug 105207 has been marked as a duplicate of this bug. ***
Problem still exists in M9 and RC1.  I created 119291 because I can't figure out how to reopen 107808. 
Still get execption in wizard trying to create Web service for a java bean.
Steps:
- create EAR with client, WS, and EJB components
- create simple session EJB using all default values (bean name is MyBean)
- Attempt to create a web service for MyBean.   Wizard completes to the portion
where you select the methods to expose.  For this example, just select the
default method "foo".    Wizard gets the following exception:
IWAB0398E Error in generating WSDL from Java java.lang.ClassNotFoundException:
e3.MyBean

As we are trying to close down WTP 1.5, please get the latest WTP 1.5 driver to verify the bug and reopen if the problem had not been fixed.  If this defect is not verified/reopened by end of day 06/16, I'll attempt to verify the defect by reproducing the problem as described in the defect.  However, since you know your scenario best, it would be more appropriate if you verify the fix.
Sorry it took so long for me to verify this.  It still doesn't work for me.  
- I created a J2EE project with a simple EJB with just boiler plate code
- I ran the create bottom up web service and get the following:

- I did get a warning saying I needed a public constructor in my bean, but I chose to ignore it for now because I was just exercising the wizard.

IWAB0398E Error in generating WSDL from Java:  java.lang.ClassNotFoundException: x.MyBean
    java.lang.ClassNotFoundException: x.MyBean</Reason>
        <Frames>
          <Frame depth="0">org.eclipse.osgi.framework.internal.core.BundleLoader.findClass(BundleLoader.java:407)</Frame>
          <Frame depth="1">org.eclipse.osgi.framework.internal.core.BundleLoader.findClass(BundleLoader.java:352)</Frame>
          <Frame depth="2">org.eclipse.osgi.internal.baseadaptor.DefaultClassLoader.loadClass(DefaultClassLoader.java:83)</Frame>
          <Frame depth="3">java.lang.ClassLoader.loadClass(Unknown Source)</Frame>
          <Frame depth="4">org.apache.tools.ant.AntClassLoader.findBaseClass(AntClassLoader.java:1197)</Frame>
          <Frame depth="5">org.apache.tools.ant.AntClassLoader.loadClass(AntClassLoader.java:990)</Frame>
          <Frame depth="6">java.lang.ClassLoader.loadClass(Unknown Source)</Frame>
          <Frame depth="7">org.apache.axis.utils.ClassUtils$2.run(ClassUtils.java:187)</Frame>
          <Frame depth="8">java.security.AccessController.doPrivileged(Native Method)</Frame>
          <Frame depth="9">org.apache.axis.utils.ClassUtils.loadClass(ClassUtils.java:160)</Frame>
          <Frame depth="10">org.apache.axis.utils.ClassUtils.forName(ClassUtils.java:100)</Frame>
          <Frame depth="11">org.apache.axis.wsdl.fromJava.Emitter.setCls(Emitter.java:2079)</Frame>
          <Frame depth="12">org.apache.axis.tools.ant.wsdl.Java2WsdlAntTask.execute(Java2WsdlAntTask.java:188)</Frame>
          <Frame depth="13">org.eclipse.jst.ws.internal.axis.consumption.core.command.Java2WSDLCommand.executeAntTask(Java2WSDLCommand.java:179)</Frame>
          <Frame depth="14">org.eclipse.jst.ws.internal.axis.consumption.core.command.Java2WSDLCommand.execute(Java2WSDLCommand.java:94)</Frame>
          <Frame depth="15">org.eclipse.jst.ws.internal.axis.creation.ui.command.BUCodeGenOperation$BottomUpWSModifyOperation.execute(BUCodeGenOperation.java:116)</Frame>
          <Frame depth="16">org.eclipse.jst.ws.internal.axis.creation.ui.command.BUCodeGenOperation.execute(BUCodeGenOperation.java:80)</Frame>
          <Frame depth="17">org.eclipse.wst.command.internal.env.core.fragment.CommandFragmentEngine.runCommand(CommandFragmentEngine.java:413)</Frame>
          <Frame depth="18">org.eclipse.wst.command.internal.env.core.fragment.CommandFragmentEngine.visitTop(CommandFragmentEngine.java:353)</Frame>
          <Frame depth="19">org.eclipse.wst.command.internal.env.core.fragment.CommandFragmentEngine.moveForwardToNextStop(CommandFragmentEngine.java:251)</Frame>
          <Frame depth="20">org.eclipse.wst.command.internal.env.ui.widgets.SimpleCommandEngineManager$5.run(SimpleCommandEngineManager.java:250)</Frame>
          <Frame depth="21">org.eclipse.jface.operation.ModalContext.runInCurrentThread(ModalContext.java:369)</Frame>
          <Frame depth="22">org.eclipse.jface.operation.ModalContext.run(ModalContext.java:313)</Frame>
          <Frame depth="23">org.eclipse.jface.wizard.WizardDialog.run(WizardDialog.java:851)</Frame>
          <Frame depth="24">org.eclipse.wst.command.internal.env.ui.widgets.SimpleCommandEngineManager.runForwardToNextStop(SimpleCommandEngineManager.java:220)</Frame>
          <Frame depth="25">org.eclipse.wst.command.internal.env.ui.widgets.WizardPageManager.runForwardToNextStop(WizardPageManager.java:94)</Frame>
          <Frame depth="26">org.eclipse.wst.command.internal.env.ui.widgets.WizardPageManager.getNextPage(WizardPageManager.java:145)</Frame>
          <Frame depth="27">org.eclipse.wst.command.internal.env.ui.widgets.SimpleWizardPage.getNextPage(SimpleWizardPage.java:119)</Frame>
          <Frame depth="28">org.eclipse.jface.wizard.WizardDialog.nextPressed(WizardDialog.java:751)</Frame>
          <Frame depth="29">org.eclipse.jface.wizard.WizardDialog.buttonPressed(WizardDialog.java:351)</Frame>
          <Frame depth="30">org.eclipse.jface.dialogs.Dialog$3.widgetSelected(Dialog.java:660)</Frame>
          <Frame depth="31">org.eclipse.swt.widgets.TypedListener.handleEvent(TypedListener.java:90)</Frame>
          <Frame depth="32">org.eclipse.swt.widgets.EventTable.sendEvent(EventTable.java:66)</Frame>
          <Frame depth="33">org.eclipse.swt.widgets.Widget.sendEvent(Widget.java:928)</Frame>
          <Frame depth="34">org.eclipse.swt.widgets.Display.runDeferredEvents(Display.java:3348)</Frame>
          <Frame depth="35">org.eclipse.swt.widgets.Display.readAndDispatch(Display.java:2968)</Frame>
          <Frame depth="36">org.eclipse.jface.window.Window.runEventLoop(Window.java:820)</Frame>
          <Frame depth="37">org.eclipse.jface.window.Window.open(Window.java:796)</Frame>
          <Frame depth="38">org.eclipse.ui.actions.NewWizardAction.run(NewWizardAction.java:181)</Frame>
          <Frame depth="39">org.eclipse.jface.action.Action.runWithEvent(Action.java:499)</Frame>
          <Frame depth="40">org.eclipse.jface.action.ActionContributionItem.handleWidgetSelection(ActionContributionItem.java:539)</Frame>
          <Frame depth="41">org.eclipse.jface.action.ActionContributionItem.access$2(ActionContributionItem.java:488)</Frame>
          <Frame depth="42">org.eclipse.jface.action.ActionContributionItem$5.handleEvent(ActionContributionItem.java:400)</Frame>
          <Frame depth="43">org.eclipse.swt.widgets.EventTable.sendEvent(EventTable.java:66)</Frame>
          <Frame depth="44">org.eclipse.swt.widgets.Widget.sendEvent(Widget.java:928)</Frame>
          <Frame depth="45">org.eclipse.swt.widgets.Display.runDeferredEvents(Display.java:3348)</Frame>
          <Frame depth="46">org.eclipse.swt.widgets.Display.readAndDispatch(Display.java:2968)</Frame>
          <Frame depth="47">org.eclipse.ui.internal.Workbench.runEventLoop(Workbench.java:1914)</Frame>
          <Frame depth="48">org.eclipse.ui.internal.Workbench.runUI(Workbench.java:1878)</Frame>
          <Frame depth="49">org.eclipse.ui.internal.Workbench.createAndRunWorkbench(Workbench.java:419)</Frame>
          <Frame depth="50">org.eclipse.ui.PlatformUI.createAndRunWorkbench(PlatformUI.java:149)</Frame>
          <Frame depth="51">org.eclipse.ui.internal.ide.IDEApplication.run(IDEApplication.java:95)</Frame>
          <Frame depth="52">org.eclipse.core.internal.runtime.PlatformActivator$1.run(PlatformActivator.java:78)</Frame>
          <Frame depth="53">org.eclipse.core.runtime.internal.adaptor.EclipseAppLauncher.runApplication(EclipseAppLauncher.java:92)</Frame>
          <Frame depth="54">org.eclipse.core.runtime.internal.adaptor.EclipseAppLauncher.start(EclipseAppLauncher.java:68)</Frame>
          <Frame depth="55">org.eclipse.core.runtime.adaptor.EclipseStarter.run(EclipseStarter.java:400)</Frame>
          <Frame depth="56">org.eclipse.core.runtime.adaptor.EclipseStarter.run(EclipseStarter.java:177)</Frame>
          <Frame depth="57">sun.reflect.NativeMethodAccessorImpl.invoke0(Native Method)</Frame>
          <Frame depth="58">sun.reflect.NativeMethodAccessorImpl.invoke(Unknown Source)</Frame>
          <Frame depth="59">sun.reflect.DelegatingMethodAccessorImpl.invoke(Unknown Source)</Frame>
          <Frame depth="60">java.lang.reflect.Method.invoke(Unknown Source)</Frame>
          <Frame depth="61">org.eclipse.core.launcher.Main.invokeFramework(Main.java:336)</Frame>
          <Frame depth="62">org.eclipse.core.launcher.Main.basicRun(Main.java:280)</Frame>
          <Frame depth="63">org.eclipse.core.launcher.Main.run(Main.java:977)</Frame>
          <Frame depth="64">org.eclipse.core.launcher.Main.main(Main.java:952)</Frame>
        </Frames>
      </Stacktrace>
    </Stacktraces>
    <SourceCodeRegions amount="0" />
    <Enumerations amount="2">
      <Enumeration lines="11">
        <Lines>
          <Line>1) take a Java class that includes classes from several projects, including the</Line>
          <Line>project it is in.</Line>
          <Line />
          <Line>2) import it into the dynamic web project.  You'll immediately get compile errors.</Line>
          <Line />
          <Line>3) add the other projects as dependencies to the web project you added the file</Line>
          <Line>to to fix the compile errors</Line>
          <Line />
          <Line>4) try to make a web service from the said file.</Line>
          <Line>Created attachment 27185</Line>
          <Line>Zip  of workspace to reproduce the problem</Line>
        </Lines>
      </Enumeration>
      <Enumeration lines="15">
        <Lines>
          <Line>1) Create TestProject and implemented the 3 classes (Employee, EmployeeFactory</Line>
          <Line>and EmployeeService)</Line>
          <Line>2) Created TestWebProject and imported the EmployeeService class.</Line>
          <Line>-Result had compile errors due to missing types.</Line>
          <Line>3) Added TestProject to the build path for TestWebProject</Line>
          <Line>-Compile errors gone</Line>
          <Line>4) Tried to create Bottom up web service from EmployeeService</Line>
          <Line>-Bug occurs</Line>
          <Line>5) Remove TestProject from the build path.</Line>
          <Line>-compile errors return</Line>
          <Line>6) Export TestProject as a jar</Line>
          <Line>7) Include TestProject jar in TestWebProject's buildpath</Line>
          <Line>-compile errors gone</Line>
          <Line>8) try to generate Web service again</Line>
          <Line>- get IWAB0398E: Error generating WSDL from Java.</Line>
        </Lines>
      </Enumeration>
    </Enumerations>
    <bug_status amount="CLOSED" />
    <resolution amount="FIXED" />
    <WithStack>I've been Following the tutorial on how to create a bottom-up web service,
"Bottom Up Web Service Supporting Flexible Projects".

Instead of importing the sample java file I tried to import a java file from my
product that uses many other of our java classes.  To fix the compilation errors
I included the projects that the java file is from into the project.

I then tried to create a web service from it by doing right-click-&gt;Create New
WebService.

On this page I selected Generate Proxy, Test the web service, Monitor the web
service.

The I pressed next, and next again, and next again.

After the last dialog "Service Deployment Configuration" I get an error dialog
with "IWAB0014E Unexpected exception occured." in it.

The details show:

IWAB0014E Unexpected exception occured.
  null
      java.lang.NullPointerException
      at
org.eclipse.jst.ws.internal.axis.consumption.ui.util.ClasspathUtils.getClasspath(ClasspathUtils.java:88)
      at
org.eclipse.jst.ws.internal.axis.consumption.ui.util.ClasspathUtils.classpathEntry2String(ClasspathUtils.java:262)
      at
org.eclipse.jst.ws.internal.axis.consumption.ui.util.ClasspathUtils.getClasspathForJavaProject(ClasspathUtils.java:227)
      at
org.eclipse.jst.ws.internal.axis.consumption.ui.util.ClasspathUtils.getClasspath(ClasspathUtils.java:130)
      at
org.eclipse.jst.ws.internal.axis.consumption.ui.util.ClasspathUtils.getClasspathString(ClasspathUtils.java:61)
      at
org.eclipse.jst.ws.internal.axis.creation.ui.task.DefaultsForServerJavaWSDLCommand.execute(DefaultsForServerJavaWSDLCommand.java:118)
      at
org.eclipse.wst.command.internal.env.core.fragment.CommandFragmentEngine.runCommand(CommandFragmentEngine.java:335)
      at
org.eclipse.wst.command.internal.env.core.fragment.CommandFragmentEngine.visitTop(CommandFragmentEngine.java:301)
      at
org.eclipse.wst.command.internal.env.core.fragment.CommandFragmentEngine.moveForwardToNextStop(CommandFragmentEngine.java:217)
      at
org.eclipse.wst.command.internal.env.ui.widgets.SimpleCommandEngineManager$4.run(SimpleCommandEngineManager.java:208)
      at
org.eclipse.jface.operation.ModalContext.runInCurrentThread(ModalContext.java:346)
      at org.eclipse.jface.operation.ModalContext.run(ModalContext.java:291)
      at org.eclipse.jface.wizard.WizardDialog.run(WizardDialog.java:830)
      at
org.eclipse.wst.command.internal.env.ui.widgets.SimpleCommandEngineManager.runForwardToNextStop(SimpleCommandEngineManager.java:177)
      at
org.eclipse.wst.command.internal.env.ui.widgets.WizardPageManager.runForwardToNextStop(WizardPageManager.java:80)
      at
org.eclipse.wst.command.internal.env.ui.widgets.WizardPageManager.getNextPage(WizardPageManager.java:119)
      at
org.eclipse.wst.command.internal.env.ui.widgets.SimpleWizardPage.getNextPage(SimpleWizardPage.java:120)
      at org.eclipse.jface.wizard.WizardDialog.nextPressed(WizardDialog.java:747)
      at org.eclipse.jface.wizard.WizardDialog.buttonPressed(WizardDialog.java:345)
      at org.eclipse.jface.dialogs.Dialog$2.widgetSelected(Dialog.java:556)
      at org.eclipse.swt.widgets.TypedListener.handleEvent(TypedListener.java:90)
      at org.eclipse.swt.widgets.EventTable.sendEvent(EventTable.java:66)
      at org.eclipse.swt.widgets.Widget.sendEvent(Widget.java:843)
      at org.eclipse.swt.widgets.Display.runDeferredEvents(Display.java:3080)
      at org.eclipse.swt.widgets.Display.readAndDispatch(Display.java:2713)
      at org.eclipse.jface.window.Window.runEventLoop(Window.java:809)
      at org.eclipse.jface.window.Window.open(Window.java:787)
      at org.eclipse.ui.actions.NewWizardAction.run(NewWizardAction.java:181)
      at org.eclipse.jface.action.Action.runWithEvent(Action.java:996)
      at
org.eclipse.jface.action.ActionContributionItem.handleWidgetSelection(ActionContributionItem.java:538)
      at
org.eclipse.jface.action.ActionContributionItem.access$2(ActionContributionItem.java:488)
      at
org.eclipse.jface.action.ActionContributionItem$5.handleEvent(ActionContributionItem.java:400)
      at org.eclipse.swt.widgets.EventTable.sendEvent(EventTable.java:66)
      at org.eclipse.swt.widgets.Widget.sendEvent(Widget.java:843)
      at org.eclipse.swt.widgets.Display.runDeferredEvents(Display.java:3080)
      at org.eclipse.swt.widgets.Display.readAndDispatch(Display.java:2713)
      at org.eclipse.ui.internal.Workbench.runEventLoop(Workbench.java:1699)
      at org.eclipse.ui.internal.Workbench.runUI(Workbench.java:1663)
      at org.eclipse.ui.internal.Workbench.createAndRunWorkbench(Workbench.java:367)
      at org.eclipse.ui.PlatformUI.createAndRunWorkbench(PlatformUI.java:143)
      at org.eclipse.ui.internal.ide.IDEApplication.run(IDEApplication.java:103)
      at
org.eclipse.core.internal.runtime.PlatformActivator$1.run(PlatformActivator.java:226)
      at
org.eclipse.core.runtime.adaptor.EclipseStarter.run(EclipseStarter.java:376)
      at
org.eclipse.core.runtime.adaptor.EclipseStarter.run(EclipseStarter.java:163)
      at sun.reflect.NativeMethodAccessorImpl.invoke0(Native Method)
      at
sun.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:39)
      at
sun.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:25)
      at java.lang.reflect.Method.invoke(Method.java:324)
      at org.eclipse.core.launcher.Main.invokeFramework(Main.java:334)
      at org.eclipse.core.launcher.Main.basicRun(Main.java:278)
      at org.eclipse.core.launcher.Main.run(Main.java:973)
      at org.eclipse.core.launcher.Main.main(Main.java:948)
Kathy Chan reassigning defect on behalf of Chris Brealey:

Please attach a zip of the files you import into the Web project to create 
bottom-up Web service and include detail instruction on what file to select to 
reproduce the problem.
When I get some free cycles I will try to make a simplier case to reproduce the
problem.

I cannot zip up and send over the source, the file I tried to make web service
from includes too many other classes over several projects.

I think it should be fairly easy to reproduce the problem;

1) take a Java class that includes classes from several projects, including the
project it is in.

2) import it into the dynamic web project.  You'll immediately get compile errors.

3) add the other projects as dependencies to the web project you added the file
to to fix the compile errors

4) try to make a web service from the said file.
Created attachment 27185
Zip  of workspace to reproduce the problem

Contains the projects with code to reproduce the problem.
I get the same error. I have attached sample code to reproduce the problem. 
Here are the steps I followed and what happened along the way.

1) Create TestProject and implemented the 3 classes (Employee, EmployeeFactory 
and EmployeeService)
2) Created TestWebProject and imported the EmployeeService class. 
-Result had compile errors due to missing types.
3) Added TestProject to the build path for TestWebProject
-Compile errors gone
4) Tried to create Bottom up web service from EmployeeService
-Bug occurs
5) Remove TestProject from the build path.
-compile errors return
6) Export TestProject as a jar
7) Include TestProject jar in TestWebProject's buildpath
-compile errors gone
8) try to generate Web service again
- get IWAB0398E: Error generating WSDL from Java. 
java.lang.NoClassDefFoundError: ca/simakis/test/Employee
9)Remove jar from buildpath
-compile errors again
10) move jar into C:\workspace\TestWebProject\WebContent\WEB-INF\lib
-compile errors gone
11) Try Generating Web Service 
- works but there is a compile error in the generate Result.jsp of the client.
I can also confirm this bug, and I can reproduce it in both WTP 0.70 and the
latest integration build listed on the download page (I20050916).

I get the same error and stacktrace after following the same steps. The bug is
triggered when any other project is linked in the build path of the web service
project. If I remove the build path dependency, the problem goes away (although
obviously this leads to most web service projects not being able to build).

Windows XP, fresh install with all the correct versions and a brand new workspace.
Not trying to spam the buglist, but I just thought I'd add that this bug is
still present and affecting me on the WTP 0.7.1 release and 1.0M8 (either one).
I can work around it by tossing all of our code into a single package, but I'd
really rather not do this for numerous reasons. As far as I can tell, WTP is
totally broken for any code setup in which the web services project references
code in any other project, at least on my particular code and server setup. This
bug seems rather serious to me since it is seriously impeding my development of
a large server application - I have to manually copy and sync up code between
projects because of it.
Changing severity to major based on user input.

I've been able to recreate the NPE problem with ClasspathUtil.  I'll look into 
providing a fix for this.  In the meanwhile, one workaround is to define a Web 
project as the dependent project rather than Java project, that avoids the 
problem with ClasspathUtil and the wizard is able to finish successfully.
Fix in ClasspathUtils committed and released as v20051006_1145.  This fix will 
be available in this week's integration build.

Please note that when creating a Web service from a Web project A depending on 
another project B, including project B in the build path of project A only 
satisfy the build time requirement.  You would also need to JAR up the class 
file in project B and add it to project A's WebContent/WEB-INF/lib directory in 
order for the Web service to deploy properly.  Ohterwise, when you try to 
invoke the Web service, you'll get "No target service found" error.

Also, if you go through a Web service creation scenario with the files provided 
in comment 4 as is, you'll run into "no serializer found error" when attempting 
to run the Web service.  This is because the Employee class has a non-default 
constructor:

	public Employee( int id, String name )
	{
		_id = id;
		_name = name;
	}

So this class does not satisfy the bean specification of requiring a public 
default constructor taking no argument.

The way to solve this problem is either to add a default constructor:

        public Employee() {
		
	}

OR

remove the constructor Employee( int id, String name ) and instead use setters 
to set the bean attributes.

After I added a default constructor taking no argument, I was able to create 
and run a Web service with EmployeeService.java (from comment 4) which is 
depending on the TestProject Java project.

*** Bug 105207 has been marked as a duplicate of this bug. ***
Problem still exists in M9 and RC1.  I created 119291 because I can't figure out how to reopen 107808. 
Still get execption in wizard trying to create Web service for a java bean.
Steps:
- create EAR with client, WS, and EJB components
- create simple session EJB using all default values (bean name is MyBean)
- Attempt to create a web service for MyBean.   Wizard completes to the portion
where you select the methods to expose.  For this example, just select the
default method "foo".    Wizard gets the following exception:
IWAB0398E Error in generating WSDL from Java java.lang.ClassNotFoundException:
e3.MyBean

As we are trying to close down WTP 1.5, please get the latest WTP 1.5 driver to verify the bug and reopen if the problem had not been fixed.  If this defect is not verified/reopened by end of day 06/16, I'll attempt to verify the defect by reproducing the problem as described in the defect.  However, since you know your scenario best, it would be more appropriate if you verify the fix.
Sorry it took so long for me to verify this.  It still doesn't work for me.  
- I created a J2EE project with a simple EJB with just boiler plate code
- I ran the create bottom up web service and get the following:

- I did get a warning saying I needed a public constructor in my bean, but I chose to ignore it for now because I was just exercising the wizard.

IWAB0398E Error in generating WSDL from Java:  java.lang.ClassNotFoundException: x.MyBean
    java.lang.ClassNotFoundException: x.MyBean
    at org.eclipse.osgi.framework.internal.core.BundleLoader.findClass(BundleLoader.java:407)
    at org.eclipse.osgi.framework.internal.core.BundleLoader.findClass(BundleLoader.java:352)
    at org.eclipse.osgi.internal.baseadaptor.DefaultClassLoader.loadClass(DefaultClassLoader.java:83)
    at java.lang.ClassLoader.loadClass(Unknown Source)
    at org.apache.tools.ant.AntClassLoader.findBaseClass(AntClassLoader.java:1197)
    at org.apache.tools.ant.AntClassLoader.loadClass(AntClassLoader.java:990)
    at java.lang.ClassLoader.loadClass(Unknown Source)
    at org.apache.axis.utils.ClassUtils$2.run(ClassUtils.java:187)
    at java.security.AccessController.doPrivileged(Native Method)
    at org.apache.axis.utils.ClassUtils.loadClass(ClassUtils.java:160)
    at org.apache.axis.utils.ClassUtils.forName(ClassUtils.java:100)
    at org.apache.axis.wsdl.fromJava.Emitter.setCls(Emitter.java:2079)
    at org.apache.axis.tools.ant.wsdl.Java2WsdlAntTask.execute(Java2WsdlAntTask.java:188)
    at org.eclipse.jst.ws.internal.axis.consumption.core.command.Java2WSDLCommand.executeAntTask(Java2WSDLCommand.java:179)
    at org.eclipse.jst.ws.internal.axis.consumption.core.command.Java2WSDLCommand.execute(Java2WSDLCommand.java:94)
    at org.eclipse.jst.ws.internal.axis.creation.ui.command.BUCodeGenOperation$BottomUpWSModifyOperation.execute(BUCodeGenOperation.java:116)
    at org.eclipse.jst.ws.internal.axis.creation.ui.command.BUCodeGenOperation.execute(BUCodeGenOperation.java:80)
    at org.eclipse.wst.command.internal.env.core.fragment.CommandFragmentEngine.runCommand(CommandFragmentEngine.java:413)
    at org.eclipse.wst.command.internal.env.core.fragment.CommandFragmentEngine.visitTop(CommandFragmentEngine.java:353)
    at org.eclipse.wst.command.internal.env.core.fragment.CommandFragmentEngine.moveForwardToNextStop(CommandFragmentEngine.java:251)
    at org.eclipse.wst.command.internal.env.ui.widgets.SimpleCommandEngineManager$5.run(SimpleCommandEngineManager.java:250)
    at org.eclipse.jface.operation.ModalContext.runInCurrentThread(ModalContext.java:369)
    at org.eclipse.jface.operation.ModalContext.run(ModalContext.java:313)
    at org.eclipse.jface.wizard.WizardDialog.run(WizardDialog.java:851)
    at org.eclipse.wst.command.internal.env.ui.widgets.SimpleCommandEngineManager.runForwardToNextStop(SimpleCommandEngineManager.java:220)
    at org.eclipse.wst.command.internal.env.ui.widgets.WizardPageManager.runForwardToNextStop(WizardPageManager.java:94)
    at org.eclipse.wst.command.internal.env.ui.widgets.WizardPageManager.getNextPage(WizardPageManager.java:145)
    at org.eclipse.wst.command.internal.env.ui.widgets.SimpleWizardPage.getNextPage(SimpleWizardPage.java:119)
    at org.eclipse.jface.wizard.WizardDialog.nextPressed(WizardDialog.java:751)
    at org.eclipse.jface.wizard.WizardDialog.buttonPressed(WizardDialog.java:351)
    at org.eclipse.jface.dialogs.Dialog$3.widgetSelected(Dialog.java:660)
    at org.eclipse.swt.widgets.TypedListener.handleEvent(TypedListener.java:90)
    at org.eclipse.swt.widgets.EventTable.sendEvent(EventTable.java:66)
    at org.eclipse.swt.widgets.Widget.sendEvent(Widget.java:928)
    at org.eclipse.swt.widgets.Display.runDeferredEvents(Display.java:3348)
    at org.eclipse.swt.widgets.Display.readAndDispatch(Display.java:2968)
    at org.eclipse.jface.window.Window.runEventLoop(Window.java:820)
    at org.eclipse.jface.window.Window.open(Window.java:796)
    at org.eclipse.ui.actions.NewWizardAction.run(NewWizardAction.java:181)
    at org.eclipse.jface.action.Action.runWithEvent(Action.java:499)
    at org.eclipse.jface.action.ActionContributionItem.handleWidgetSelection(ActionContributionItem.java:539)
    at org.eclipse.jface.action.ActionContributionItem.access$2(ActionContributionItem.java:488)
    at org.eclipse.jface.action.ActionContributionItem$5.handleEvent(ActionContributionItem.java:400)
    at org.eclipse.swt.widgets.EventTable.sendEvent(EventTable.java:66)
    at org.eclipse.swt.widgets.Widget.sendEvent(Widget.java:928)
    at org.eclipse.swt.widgets.Display.runDeferredEvents(Display.java:3348)
    at org.eclipse.swt.widgets.Display.readAndDispatch(Display.java:2968)
    at org.eclipse.ui.internal.Workbench.runEventLoop(Workbench.java:1914)
    at org.eclipse.ui.internal.Workbench.runUI(Workbench.java:1878)
    at org.eclipse.ui.internal.Workbench.createAndRunWorkbench(Workbench.java:419)
    at org.eclipse.ui.PlatformUI.createAndRunWorkbench(PlatformUI.java:149)
    at org.eclipse.ui.internal.ide.IDEApplication.run(IDEApplication.java:95)
    at org.eclipse.core.internal.runtime.PlatformActivator$1.run(PlatformActivator.java:78)
    at org.eclipse.core.runtime.internal.adaptor.EclipseAppLauncher.runApplication(EclipseAppLauncher.java:92)
    at org.eclipse.core.runtime.internal.adaptor.EclipseAppLauncher.start(EclipseAppLauncher.java:68)
    at org.eclipse.core.runtime.adaptor.EclipseStarter.run(EclipseStarter.java:400)
    at org.eclipse.core.runtime.adaptor.EclipseStarter.run(EclipseStarter.java:177)
    at sun.reflect.NativeMethodAccessorImpl.invoke0(Native Method)
    at sun.reflect.NativeMethodAccessorImpl.invoke(Unknown Source)
    at sun.reflect.DelegatingMethodAccessorImpl.invoke(Unknown Source)
    at java.lang.reflect.Method.invoke(Unknown Source)
    at org.eclipse.core.launcher.Main.invokeFramework(Main.java:336)
    at org.eclipse.core.launcher.Main.basicRun(Main.java:280)
    at org.eclipse.core.launcher.Main.run(Main.java:977)
    at org.eclipse.core.launcher.Main.main(Main.java:952)

WTP does not support deployment of Web services from EJBs yet. See RFE 89922 [1].

[1] https://bugs.eclipse.org/bugs/show_bug.cgi?id=89922

The original problem reported in this bug had been fixed in WTP 1.0.  Closing this bug.  Please open new bugs for other problems.</WithStack>
    <WithOutStack>I've been Following the tutorial on how to create a bottom-up web service,
"Bottom Up Web Service Supporting Flexible Projects".

Instead of importing the sample java file I tried to import a java file from my
product that uses many other of our java classes.  To fix the compilation errors
I included the projects that the java file is from into the project.

I then tried to create a web service from it by doing right-click-&gt;Create New
WebService.

On this page I selected Generate Proxy, Test the web service, Monitor the web
service.

The I pressed next, and next again, and next again.

After the last dialog "Service Deployment Configuration" I get an error dialog
with "IWAB0014E Unexpected exception occured." in it.

The details show:

IWAB0014E Unexpected exception occured.
  null
      java.lang.NullPointerException
      at
org.eclipse.jst.ws.internal.axis.consumption.ui.util.ClasspathUtils.getClasspath(ClasspathUtils.java:88)
      at
org.eclipse.jst.ws.internal.axis.consumption.ui.util.ClasspathUtils.classpathEntry2String(ClasspathUtils.java:262)
      at
org.eclipse.jst.ws.internal.axis.consumption.ui.util.ClasspathUtils.getClasspathForJavaProject(ClasspathUtils.java:227)
      at
org.eclipse.jst.ws.internal.axis.consumption.ui.util.ClasspathUtils.getClasspath(ClasspathUtils.java:130)
      at
org.eclipse.jst.ws.internal.axis.consumption.ui.util.ClasspathUtils.getClasspathString(ClasspathUtils.java:61)
      at
org.eclipse.jst.ws.internal.axis.creation.ui.task.DefaultsForServerJavaWSDLCommand.execute(DefaultsForServerJavaWSDLCommand.java:118)
      at
org.eclipse.wst.command.internal.env.core.fragment.CommandFragmentEngine.runCommand(CommandFragmentEngine.java:335)
      at
org.eclipse.wst.command.internal.env.core.fragment.CommandFragmentEngine.visitTop(CommandFragmentEngine.java:301)
      at
org.eclipse.wst.command.internal.env.core.fragment.CommandFragmentEngine.moveForwardToNextStop(CommandFragmentEngine.java:217)
      at
org.eclipse.wst.command.internal.env.ui.widgets.SimpleCommandEngineManager$4.run(SimpleCommandEngineManager.java:208)
      at
org.eclipse.jface.operation.ModalContext.runInCurrentThread(ModalContext.java:346)
      at org.eclipse.jface.operation.ModalContext.run(ModalContext.java:291)
      at org.eclipse.jface.wizard.WizardDialog.run(WizardDialog.java:830)
      at
org.eclipse.wst.command.internal.env.ui.widgets.SimpleCommandEngineManager.runForwardToNextStop(SimpleCommandEngineManager.java:177)
      at
org.eclipse.wst.command.internal.env.ui.widgets.WizardPageManager.runForwardToNextStop(WizardPageManager.java:80)
      at
org.eclipse.wst.command.internal.env.ui.widgets.WizardPageManager.getNextPage(WizardPageManager.java:119)
      at
org.eclipse.wst.command.internal.env.ui.widgets.SimpleWizardPage.getNextPage(SimpleWizardPage.java:120)
      at org.eclipse.jface.wizard.WizardDialog.nextPressed(WizardDialog.java:747)
      at org.eclipse.jface.wizard.WizardDialog.buttonPressed(WizardDialog.java:345)
      at org.eclipse.jface.dialogs.Dialog$2.widgetSelected(Dialog.java:556)
      at org.eclipse.swt.widgets.TypedListener.handleEvent(TypedListener.java:90)
      at org.eclipse.swt.widgets.EventTable.sendEvent(EventTable.java:66)
      at org.eclipse.swt.widgets.Widget.sendEvent(Widget.java:843)
      at org.eclipse.swt.widgets.Display.runDeferredEvents(Display.java:3080)
      at org.eclipse.swt.widgets.Display.readAndDispatch(Display.java:2713)
      at org.eclipse.jface.window.Window.runEventLoop(Window.java:809)
      at org.eclipse.jface.window.Window.open(Window.java:787)
      at org.eclipse.ui.actions.NewWizardAction.run(NewWizardAction.java:181)
      at org.eclipse.jface.action.Action.runWithEvent(Action.java:996)
      at
org.eclipse.jface.action.ActionContributionItem.handleWidgetSelection(ActionContributionItem.java:538)
      at
org.eclipse.jface.action.ActionContributionItem.access$2(ActionContributionItem.java:488)
      at
org.eclipse.jface.action.ActionContributionItem$5.handleEvent(ActionContributionItem.java:400)
      at org.eclipse.swt.widgets.EventTable.sendEvent(EventTable.java:66)
      at org.eclipse.swt.widgets.Widget.sendEvent(Widget.java:843)
      at org.eclipse.swt.widgets.Display.runDeferredEvents(Display.java:3080)
      at org.eclipse.swt.widgets.Display.readAndDispatch(Display.java:2713)
      at org.eclipse.ui.internal.Workbench.runEventLoop(Workbench.java:1699)
      at org.eclipse.ui.internal.Workbench.runUI(Workbench.java:1663)
      at org.eclipse.ui.internal.Workbench.createAndRunWorkbench(Workbench.java:367)
      at org.eclipse.ui.PlatformUI.createAndRunWorkbench(PlatformUI.java:143)
      at org.eclipse.ui.internal.ide.IDEApplication.run(IDEApplication.java:103)
      at
org.eclipse.core.internal.runtime.PlatformActivator$1.run(PlatformActivator.java:226)
      at
org.eclipse.core.runtime.adaptor.EclipseStarter.run(EclipseStarter.java:376)
      at
org.eclipse.core.runtime.adaptor.EclipseStarter.run(EclipseStarter.java:163)
      at sun.reflect.NativeMethodAccessorImpl.invoke0(Native Method)
      at
sun.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:39)
      at
sun.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:25)
      at java.lang.reflect.Method.invoke(Method.java:324)
      at org.eclipse.core.launcher.Main.invokeFramework(Main.java:334)
      at org.eclipse.core.launcher.Main.basicRun(Main.java:278)
      at org.eclipse.core.launcher.Main.run(Main.java:973)
      at org.eclipse.core.launcher.Main.main(Main.java:948)
Kathy Chan reassigning defect on behalf of Chris Brealey:

Please attach a zip of the files you import into the Web project to create 
bottom-up Web service and include detail instruction on what file to select to 
reproduce the problem.
When I get some free cycles I will try to make a simplier case to reproduce the
problem.

I cannot zip up and send over the source, the file I tried to make web service
from includes too many other classes over several projects.

I think it should be fairly easy to reproduce the problem;

1) take a Java class that includes classes from several projects, including the
project it is in.

2) import it into the dynamic web project.  You'll immediately get compile errors.

3) add the other projects as dependencies to the web project you added the file
to to fix the compile errors

4) try to make a web service from the said file.
Created attachment 27185
Zip  of workspace to reproduce the problem

Contains the projects with code to reproduce the problem.
I get the same error. I have attached sample code to reproduce the problem. 
Here are the steps I followed and what happened along the way.

1) Create TestProject and implemented the 3 classes (Employee, EmployeeFactory 
and EmployeeService)
2) Created TestWebProject and imported the EmployeeService class. 
-Result had compile errors due to missing types.
3) Added TestProject to the build path for TestWebProject
-Compile errors gone
4) Tried to create Bottom up web service from EmployeeService
-Bug occurs
5) Remove TestProject from the build path.
-compile errors return
6) Export TestProject as a jar
7) Include TestProject jar in TestWebProject's buildpath
-compile errors gone
8) try to generate Web service again
- get IWAB0398E: Error generating WSDL from Java. 


WTP does not support deployment of Web services from EJBs yet. See RFE 89922 [1].

[1] https://bugs.eclipse.org/bugs/show_bug.cgi?id=89922

The original problem reported in this bug had been fixed in WTP 1.0.  Closing this bug.  Please open new bugs for other problems.</WithOutStack>
  </Bug>
  <Bug>
    <BugId amount="107809" />
    <CreationDate amount="2005-08-23 21:35:00 -0400" />
    <DupId amount="" />
    <classification amount="Mylyn" />
    <Product amount="Mylyn" />
    <component amount="Core" />
    <Version amount="unspecified" />
    <rep_platform amount="Other" />
    <op_sys amount="other" />
    <priority amount="P1" />
    <bug_severity amount="normal" />
    <Summery>make error logging more verbose</Summery>
    <Patches amount="0" />
    <Stacktraces amount="0" />
    <SourceCodeRegions amount="0" />
    <Enumerations amount="0" />
    <bug_status amount="RESOLVED" />
    <resolution amount="FIXED" />
    <WithStack>Need to see stack traces to address logs like the following:

[2005-08-20,
20:46:53] Status ERROR: org.eclipse.mylar.core code=0  org.eclipse.jdt.core.compiler.InvalidInputException:
Invalid_Char_In_String, exception: org.eclipse.jdt.internal.core.util.PublicScanner.getNextToken(PublicScanner.java:1238)
[2005-08-21,
5:2:12] Status ERROR: org.eclipse.mylar.core code=0 Failed to update model based
on selection. Java Model Exception: Java Model Status [&lt;obfuscated&gt; does not
exist], exception: org.eclipse.jdt.internal.core.JavaElement.newNotPresentException(JavaElement.java:468)
Also need to store Eclipse version to determine 3.2-specific errors
Done.</WithStack>
    <WithOutStack>Need to see stack traces to address logs like the following:

[2005-08-20,
20:46:53] Status ERROR: org.eclipse.mylar.core code=0  org.eclipse.jdt.core.compiler.InvalidInputException:
Invalid_Char_In_String, exception: org.eclipse.jdt.internal.core.util.PublicScanner.getNextToken(PublicScanner.java:1238)
[2005-08-21,
5:2:12] Status ERROR: org.eclipse.mylar.core code=0 Failed to update model based
on selection. Java Model Exception: Java Model Status [&lt;obfuscated&gt; does not
exist], exception: org.eclipse.jdt.internal.core.JavaElement.newNotPresentException(JavaElement.java:468)
Also need to store Eclipse version to determine 3.2-specific errors
Done.</WithOutStack>
  </Bug>
  <Bug>
    <BugId amount="107810" />
    <CreationDate amount="2005-08-23 21:44:00 -0400" />
    <DupId amount="" />
    <classification amount="Mylyn" />
    <Product amount="Mylyn" />
    <component amount="Java" />
    <Version amount="0.4" />
    <rep_platform amount="PC" />
    <op_sys amount="Windows XP" />
    <priority amount="P2" />
    <bug_severity amount="normal" />
    <Summery>toggle of folding can cause file modification when using VSSPlugin</Summery>
    <Patches amount="0" />
    <Stacktraces amount="0" />
    <SourceCodeRegions amount="0" />
    <Enumerations amount="0" />
    <bug_status amount="RESOLVED" />
    <resolution amount="FIXED" />
    <WithStack>Reported by David Morash:

toggling code folding seems to "modify" the file in a way that VSSPlugin thinks
the file is being edited and thus prompts me to check out the file.
This is fixed in the Mylar 0.3.9 release which will be available on Monday.  The problem
was that we were resetting folding state by setting input on the editor, which the VSS
Plugin is probably misunderstanding to be a delta on the resource.</WithStack>
    <WithOutStack>Reported by David Morash:

toggling code folding seems to "modify" the file in a way that VSSPlugin thinks
the file is being edited and thus prompts me to check out the file.
This is fixed in the Mylar 0.3.9 release which will be available on Monday.  The problem
was that we were resetting folding state by setting input on the editor, which the VSS
Plugin is probably misunderstanding to be a delta on the resource.</WithOutStack>
  </Bug>
  <Bug>
    <BugId amount="107811" />
    <CreationDate amount="2005-08-23 22:33:00 -0400" />
    <DupId amount="" />
    <classification amount="WebTools" />
    <Product amount="WTP Source Editing" />
    <component amount="wst.sse" />
    <Version amount="0.7" />
    <rep_platform amount="PC" />
    <op_sys amount="Windows XP" />
    <priority amount="P3" />
    <bug_severity amount="critical" />
    <Summery>FileBufferModelManager.releaseModel does not disconnect TextFileBuffer when model is created by IModelManager.getModelForRead(IStructuredDocument) method.</Summery>
    <Patches amount="0" />
    <Stacktraces amount="0" />
    <SourceCodeRegions amount="6">
      <source_code type="assignment">
        <location start="405" end="476" />
        <code>ITextFileBufferManager manager= FileBuffers.getTextFileBufferManager();</code>
      </source_code>
      <source_code type="functioncall">
        <location start="477" end="531" />
        <code>manager.connect(fullIPath, new NullProgressMonitor());</code>
      </source_code>
      <source_code type="assignment">
        <location start="532" end="598" />
        <code>ITextFileBuffer fileBuffer = manager.getTextFileBuffer(fullIPath);</code>
      </source_code>
      <source_code type="assignment">
        <location start="599" end="645" />
        <code>IDocument document = fileBuffer.getDocument();</code>
      </source_code>
      <source_code type="functioncall">
        <location start="710" end="742" />
        <code>((IStructuredDocument)document);</code>
      </source_code>
      <source_code type="functiondef">
        <location start="1101" end="1357" />
        <code>public void releaseModel(IDocument document) {
DocumentInfo info = (DocumentInfo) fDocumentMap.get(document);
    if (info.selfConnected) {
        FileBuffers.getTextFileBufferManager().disconnect
(info.buffer.getLocation(), getProgressMonitor());
    }
}</code>
      </source_code>
    </SourceCodeRegions>
    <Enumerations amount="0" />
    <bug_status amount="CLOSED" />
    <resolution amount="INVALID" />
    <WithStack>FileBufferModelManager.releaseModel() does not disconnect TextFileBuffer when 
model is created by IModelManager.getModelForRead(IStructuredDocument) method.

To create model from file that are located out of workspace, we create 
IStructuredDocument and call IModelManager.getModelForRead
(IStructuredDocument) like following snippet code.

IPath fullpath; // file path that are located out of workspace
ITextFileBufferManager manager= FileBuffers.getTextFileBufferManager();
manager.connect(fullIPath, new NullProgressMonitor());
ITextFileBuffer fileBuffer = manager.getTextFileBuffer(fullIPath);
IDocument document = fileBuffer.getDocument();
IStructuredModel model = StructuredModelManager.getModelForRead
((IStructuredDocument)document);

In this code, getModelForRead call FileBufferModelManager.getModel
(IStructuredModel), never call FileBufferModelManager.getModel(IFile).

To release created model, we call IStructuredModel.releaseFromRead().
releaseFromRead() call FileBufferModelManager.releaseModel(IDocument).
Here is the snippet code of FileBufferModelManager.releaseModel(IDocument).

public void releaseModel(IDocument document) {
DocumentInfo info = (DocumentInfo) fDocumentMap.get(document);
    if (info.selfConnected) {
        FileBuffers.getTextFileBufferManager().disconnect
(info.buffer.getLocation(), getProgressMonitor());
    }
}

In this code, TextFileBuffer.disconnect method is called when 
DocumentInfo.selfConnected is "true". But this field is setted as true when 
FileBufferModelManager.getModel(IFile) is called. So if model is created by 
calling directly FileBufferModelManager.getModel(IStructuredDocument), it's 
TextFileBuffer never disconnected. This will cause memory leaks.
The *caller* of IFileBufferManager.connect() is expected to call
IFileBufferManager.disconnect() with the same IPath.  The FileBufferManager did
not call connect() therefore it does not call disconnect() in this scenario. 
Only when the same number of disconnects have been called will the file buffer
be disposed of.

While it's possible for a Structured Document from a FileBuffer to still be
referenced inside of a Structured Model after the buffer has been disconnected,
this won't result in a buffer being leaked, just an invalid model state (which
we currently aren't able to report).
.
This is a pretty big design change, which requires our editor to
make a big design change as well. In our understanding is that
if we create a managed model through IModelManager apis, we need to
release it by calling IStructuredModel api. However, if what you said
is right, sometimes we need to call just IStructuredModel api but
sometimes we need to call another api. Because there is no way for
us to see we need to call another api from just the model, we need to
manage model with additional meta data. This is really quite a big
design change for us. We would like to request to make an api which
can create a model from the file outside of the workspace and which
can be same behaviour as the other model ( i.e. calling releaseFrom
api release all associated memory. )

We are looking at the possiblitiy to use ModelLifesycleEvent to
catch the 'releasing' timing to call this new api for this specific
model, but I would still like to see that IModelManager api and
IStructuredModel apig should be full responsibility for 
getting/releasing the 'memory'.


.







I'm confused, but can say you should not hook into anything to do the release. 

I think Nitin's point was that if you (as in your snippet) call bot "connect" to
get document, and model manager's get, then you need to call release on model,
and also call disconnect on document. 

The 'document' form of the API is primarily intended for those cases where some
client ALREADY has a documnt (as passed on many "editor framework" API's and
want's to get the corresponding model. 

What am I missing?


I think the important point is that we use these apis( 
ITextFileBufferManager and IModelManager ) to create a model
for the file outside of the workspace because

IModelManager#getModelForRead(String, InputStream, URIResolver)
IModelManager#getModelForEdit(String, InputStream, URIResolver)

are marked as a deprecated and we were asked to use them instead.

I think I understand your point. That is once we create a model by
calling :

ITextFileBufferManager#connect()
IModelManager#getModelFor...()

then we need to call :

IStructuredModel#releaseFor...()
ITextFileBufferManager#disconnect()

But for us, this is really a big design change. In our code, and
in the preveous release, what we needed to do was to call :

IModelManager#getModelFor...()

and

IStructuredModel#releaseFor...()

only and we didn't have to take care of ITextFileBufferManager.
So we are tracking only the created IStructuredModel.
So in our editor, once we get the model by calling 

IModelManager#getModelFor...()

we keep tacking the only created model, and we didn't record that
this model is created by only calling IModelManager and not calling
ITextFileBufferManager. However if we need to take care of the case
that the model is created by only IModelManager#getModelFor...() 
and the case the model is created by IModelManager#getModelFor...()
and ITextFileBufferManager#connect(), we need to make a big design
change for our model management code. ( We need to track the
information that this model is created by only IModelManager api
but that model is created by IModelManager and ITextFileBufferManager)

We would like to see an api(IModelManager#getModelFor...) for the file
in the outside of the workspace to create a model and an api
(IStructuredModel#releaseFor...) to release that model.

Or, we would like to get the following two apis back to
non-deprecated.

IModelManager#getModelForRead(String, InputStream, URIResolver)
IModelManager#getModelForEdit(String, InputStream, URIResolver)






Yes. And, this code, the document/model approach will not be ideal once we do 
the new model manager. 

Besides the deprecation, does the other (old) API not work? If still works, I'd
recommend you leave that transition till later, close this bug as invalid, and
we'll discuss new model manager API in other bugs. 


Ok, we are going to check the deprecated apis to see if they
are still working. If so, we are going to get them back to the
deprecated one and will wait for the new ModelManager apis.

.

I confirmed that deprecated methods works fine for file that are located out 
of workspace. But the problem "Different id is generated by 
IModelManager#calculateId() for IFile"(Bugzilla 107316) also remains in this 
methods.
I'm marking as verified, as component owner. If origantor disagrees, or sees other similar bugs, please open new ones (with reference to this one). 

Closing</WithStack>
    <WithOutStack>FileBufferModelManager.releaseModel() does not disconnect TextFileBuffer when 
model is created by IModelManager.getModelForRead(IStructuredDocument) method.

To create model from file that are located out of workspace, we create 
IStructuredDocument and call IModelManager.getModelForRead
(IStructuredDocument) like following snippet code.

IPath fullpath; // file path that are located out of workspace
ITextFileBufferManager manager= FileBuffers.getTextFileBufferManager();
manager.connect(fullIPath, new NullProgressMonitor());
ITextFileBuffer fileBuffer = manager.getTextFileBuffer(fullIPath);
IDocument document = fileBuffer.getDocument();
IStructuredModel model = StructuredModelManager.getModelForRead
((IStructuredDocument)document);

In this code, getModelForRead call FileBufferModelManager.getModel
(IStructuredModel), never call FileBufferModelManager.getModel(IFile).

To release created model, we call IStructuredModel.releaseFromRead().
releaseFromRead() call FileBufferModelManager.releaseModel(IDocument).
Here is the snippet code of FileBufferModelManager.releaseModel(IDocument).

public void releaseModel(IDocument document) {
DocumentInfo info = (DocumentInfo) fDocumentMap.get(document);
    if (info.selfConnected) {
        FileBuffers.getTextFileBufferManager().disconnect
(info.buffer.getLocation(), getProgressMonitor());
    }
}

In this code, TextFileBuffer.disconnect method is called when 
DocumentInfo.selfConnected is "true". But this field is setted as true when 
FileBufferModelManager.getModel(IFile) is called. So if model is created by 
calling directly FileBufferModelManager.getModel(IStructuredDocument), it's 
TextFileBuffer never disconnected. This will cause memory leaks.
The *caller* of IFileBufferManager.connect() is expected to call
IFileBufferManager.disconnect() with the same IPath.  The FileBufferManager did
not call connect() therefore it does not call disconnect() in this scenario. 
Only when the same number of disconnects have been called will the file buffer
be disposed of.

While it's possible for a Structured Document from a FileBuffer to still be
referenced inside of a Structured Model after the buffer has been disconnected,
this won't result in a buffer being leaked, just an invalid model state (which
we currently aren't able to report).
.
This is a pretty big design change, which requires our editor to
make a big design change as well. In our understanding is that
if we create a managed model through IModelManager apis, we need to
release it by calling IStructuredModel api. However, if what you said
is right, sometimes we need to call just IStructuredModel api but
sometimes we need to call another api. Because there is no way for
us to see we need to call another api from just the model, we need to
manage model with additional meta data. This is really quite a big
design change for us. We would like to request to make an api which
can create a model from the file outside of the workspace and which
can be same behaviour as the other model ( i.e. calling releaseFrom
api release all associated memory. )

We are looking at the possiblitiy to use ModelLifesycleEvent to
catch the 'releasing' timing to call this new api for this specific
model, but I would still like to see that IModelManager api and
IStructuredModel apig should be full responsibility for 
getting/releasing the 'memory'.


.







I'm confused, but can say you should not hook into anything to do the release. 

I think Nitin's point was that if you (as in your snippet) call bot "connect" to
get document, and model manager's get, then you need to call release on model,
and also call disconnect on document. 

The 'document' form of the API is primarily intended for those cases where some
client ALREADY has a documnt (as passed on many "editor framework" API's and
want's to get the corresponding model. 

What am I missing?


I think the important point is that we use these apis( 
ITextFileBufferManager and IModelManager ) to create a model
for the file outside of the workspace because

IModelManager#getModelForRead(String, InputStream, URIResolver)
IModelManager#getModelForEdit(String, InputStream, URIResolver)

are marked as a deprecated and we were asked to use them instead.

I think I understand your point. That is once we create a model by
calling :

ITextFileBufferManager#connect()
IModelManager#getModelFor...()

then we need to call :

IStructuredModel#releaseFor...()
ITextFileBufferManager#disconnect()

But for us, this is really a big design change. In our code, and
in the preveous release, what we needed to do was to call :

IModelManager#getModelFor...()

and

IStructuredModel#releaseFor...()

only and we didn't have to take care of ITextFileBufferManager.
So we are tracking only the created IStructuredModel.
So in our editor, once we get the model by calling 

IModelManager#getModelFor...()

we keep tacking the only created model, and we didn't record that
this model is created by only calling IModelManager and not calling
ITextFileBufferManager. However if we need to take care of the case
that the model is created by only IModelManager#getModelFor...() 
and the case the model is created by IModelManager#getModelFor...()
and ITextFileBufferManager#connect(), we need to make a big design
change for our model management code. ( We need to track the
information that this model is created by only IModelManager api
but that model is created by IModelManager and ITextFileBufferManager)

We would like to see an api(IModelManager#getModelFor...) for the file
in the outside of the workspace to create a model and an api
(IStructuredModel#releaseFor...) to release that model.

Or, we would like to get the following two apis back to
non-deprecated.

IModelManager#getModelForRead(String, InputStream, URIResolver)
IModelManager#getModelForEdit(String, InputStream, URIResolver)






Yes. And, this code, the document/model approach will not be ideal once we do 
the new model manager. 

Besides the deprecation, does the other (old) API not work? If still works, I'd
recommend you leave that transition till later, close this bug as invalid, and
we'll discuss new model manager API in other bugs. 


Ok, we are going to check the deprecated apis to see if they
are still working. If so, we are going to get them back to the
deprecated one and will wait for the new ModelManager apis.

.

I confirmed that deprecated methods works fine for file that are located out 
of workspace. But the problem "Different id is generated by 
IModelManager#calculateId() for IFile"(Bugzilla 107316) also remains in this 
methods.
I'm marking as verified, as component owner. If origantor disagrees, or sees other similar bugs, please open new ones (with reference to this one). 

Closing</WithOutStack>
  </Bug>
  <Bug>
    <BugId amount="107812" />
    <CreationDate amount="2005-08-23 23:00:00 -0400" />
    <DupId amount="" />
    <classification amount="Mylyn" />
    <Product amount="Mylyn" />
    <component amount="Monitor" />
    <Version amount="unspecified" />
    <rep_platform amount="Other" />
    <op_sys amount="other" />
    <priority amount="P1" />
    <bug_severity amount="normal" />
    <Summery>add prompt to view tutorial video on phase1 start</Summery>
    <Patches amount="0" />
    <Stacktraces amount="0" />
    <SourceCodeRegions amount="0" />
    <Enumerations amount="0" />
    <bug_status amount="RESOLVED" />
    <resolution amount="FIXED" />
    <WithStack>Seems that too many people are now looking at the docs.
Add as last page in preference setting wizard.
Done.</WithStack>
    <WithOutStack>Seems that too many people are now looking at the docs.
Add as last page in preference setting wizard.
Done.</WithOutStack>
  </Bug>
  <Bug>
    <BugId amount="107813" />
    <CreationDate amount="2005-08-24 00:28:00 -0400" />
    <DupId amount="" />
    <classification amount="Eclipse" />
    <Product amount="Platform" />
    <component amount="Ant" />
    <Version amount="3.1" />
    <rep_platform amount="PC" />
    <op_sys amount="Windows XP" />
    <priority amount="P3" />
    <bug_severity amount="normal" />
    <Summery>BadLocationException when using Ant with DocType Entity</Summery>
    <Patches amount="0" />
    <Stacktraces amount="2">
      <Stacktrace timestamp="1437330570715">
        <Exception>org.eclipse.jface.text.BadLocationException</Exception>
        <Reason />
        <Frames>
          <Frame depth="0">org.eclipse.jface.text.AbstractDocument.get(AbstractDocument.java:991)</Frame>
          <Frame depth="1">org.eclipse.ant.internal.ui.editor.text.PartiallySynchronizedDocument.get(PartiallySynchronizedDocument.java:51)</Frame>
          <Frame depth="2">org.eclipse.ant.internal.ui.model.AntModel.computeOffsetUsingPrefix(AntModel.java:1003)</Frame>
          <Frame depth="3">org.eclipse.ant.internal.ui.model.AntModel.computeOffset(AntModel.java:997)</Frame>
          <Frame depth="4">org.eclipse.ant.internal.ui.model.AntModel.addComment(AntModel.java:1436)</Frame>
          <Frame depth="5">org.eclipse.ant.internal.ui.editor.utils.ProjectHelper$LexHandler.comment(ProjectHelper.java:475)</Frame>
          <Frame depth="6">org.apache.xerces.parsers.AbstractSAXParser.comment(Unknown Source)</Frame>
          <Frame depth="7">org.apache.xerces.impl.dtd.XMLDTDValidator.comment(Unknown Source)</Frame>
          <Frame depth="8">org.apache.xerces.impl.XMLDocumentFragmentScannerImpl.scanComment(Unknown Source)</Frame>
          <Frame depth="9">org.apache.xerces.impl.XMLDocumentFragmentScannerImpl$FragmentContentDispatcher.dispatch(Unknown Source)</Frame>
          <Frame depth="10">org.apache.xerces.impl.XMLDocumentFragmentScannerImpl.scanDocument(Unknown Source)</Frame>
          <Frame depth="11">org.apache.xerces.parsers.XML11Configuration.parse(Unknown Source)</Frame>
          <Frame depth="12">org.apache.xerces.parsers.XML11Configuration.parse(Unknown Source)</Frame>
          <Frame depth="13">org.apache.xerces.parsers.XMLParser.parse(Unknown Source)</Frame>
          <Frame depth="14">org.apache.xerces.parsers.AbstractSAXParser.parse(Unknown Source)</Frame>
          <Frame depth="15">org.eclipse.ant.internal.ui.editor.utils.ProjectHelper.parse(ProjectHelper.java:568)</Frame>
          <Frame depth="16">org.eclipse.ant.internal.ui.editor.utils.ProjectHelper.parse(ProjectHelper.java:642)</Frame>
          <Frame depth="17">org.eclipse.ant.internal.ui.model.AntModel.parseDocument(AntModel.java:312)</Frame>
          <Frame depth="18">org.eclipse.ant.internal.ui.model.AntModel.reconcile(AntModel.java:260)</Frame>
          <Frame depth="19">org.eclipse.ant.internal.ui.editor.text.XMLReconcilingStrategy.internalReconcile(XMLReconcilingStrategy.java:43)</Frame>
          <Frame depth="20">org.eclipse.ant.internal.ui.editor.text.XMLReconcilingStrategy.reconcile(XMLReconcilingStrategy.java:56)</Frame>
          <Frame depth="21">org.eclipse.jface.text.reconciler.MonoReconciler.process(MonoReconciler.java:75)</Frame>
          <Frame depth="22">org.eclipse.ant.internal.ui.editor.text.NotifyingReconciler.process(NotifyingReconciler.java:39)</Frame>
          <Frame depth="23">org.eclipse.jface.text.reconciler.AbstractReconciler$BackgroundThread.run(AbstractReconciler.java:204)</Frame>
        </Frames>
      </Stacktrace>
      <Stacktrace timestamp="1437330570715">
        <Exception>org.eclipse.jface.text.BadLocationException</Exception>
        <Reason />
        <Frames>
          <Frame depth="0">org.eclipse.jface.text.AbstractLineTracker.fail(AbstractLineTracker.java:1006)</Frame>
          <Frame depth="1">org.eclipse.jface.text.AbstractLineTracker.nodeByLine(AbstractLineTracker.java:291)</Frame>
          <Frame depth="2">org.eclipse.jface.text.AbstractLineTracker.getLineDelimiter(AbstractLineTracker.java:1024)</Frame>
          <Frame depth="3">org.eclipse.jface.text.AbstractDocument.getLineDelimiter(AbstractDocument.java:807)</Frame>
          <Frame depth="4">org.eclipse.ant.internal.ui.model.AntModel.getLastCharColumn(AntModel.java:1037)</Frame>
          <Frame depth="5">org.eclipse.ant.internal.ui.model.AntModel.computeOffsetUsingPrefix(AntModel.java:1008)</Frame>
          <Frame depth="6">org.eclipse.ant.internal.ui.model.AntModel.computeOffsetUsingPrefix(AntModel.java:1008)</Frame>
          <Frame depth="7">org.eclipse.ant.internal.ui.model.AntModel.computeOffsetUsingPrefix(AntModel.java:1008)</Frame>
          <Frame depth="8">org.eclipse.ant.internal.ui.model.AntModel.computeOffsetUsingPrefix(AntModel.java:1008)</Frame>
          <Frame depth="9">org.eclipse.ant.internal.ui.model.AntModel.computeOffsetUsingPrefix(AntModel.java:1008)</Frame>
          <Frame depth="10">org.eclipse.ant.internal.ui.model.AntModel.computeOffsetUsingPrefix(AntModel.java:1008)</Frame>
          <Frame depth="11">org.eclipse.ant.internal.ui.model.AntModel.computeOffsetUsingPrefix(AntModel.java:1008)</Frame>
          <Frame depth="12">org.eclipse.ant.internal.ui.model.AntModel.computeOffsetUsingPrefix(AntModel.java:1008)</Frame>
          <Frame depth="13">org.eclipse.ant.internal.ui.model.AntModel.computeOffsetUsingPrefix(AntModel.java:1008)</Frame>
          <Frame depth="14">org.eclipse.ant.internal.ui.model.AntModel.computeOffset(AntModel.java:994)</Frame>
          <Frame depth="15">org.eclipse.ant.internal.ui.model.AntModel.addComment(AntModel.java:1436)</Frame>
          <Frame depth="16">org.eclipse.ant.internal.ui.editor.utils.ProjectHelper$LexHandler.comment(ProjectHelper.java:475)</Frame>
          <Frame depth="17">org.apache.crimson.parser.Parser2.maybeComment(Parser2.java:1117)</Frame>
          <Frame depth="18">org.apache.crimson.parser.Parser2.content(Parser2.java:1972)</Frame>
          <Frame depth="19">org.apache.crimson.parser.Parser2.externalParsedEntity(Parser2.java:3021)</Frame>
          <Frame depth="20">org.apache.crimson.parser.Parser2.expandEntityInContent(Parser2.java:2739)</Frame>
          <Frame depth="21">org.apache.crimson.parser.Parser2.maybeReferenceInContent(Parser2.java:2606)</Frame>
          <Frame depth="22">org.apache.crimson.parser.Parser2.content(Parser2.java:2017)</Frame>
          <Frame depth="23">org.apache.crimson.parser.Parser2.maybeElement(Parser2.java:1691)</Frame>
          <Frame depth="24">org.apache.crimson.parser.Parser2.parseInternal(Parser2.java:667)</Frame>
          <Frame depth="25">org.apache.crimson.parser.Parser2.parse(Parser2.java:337)</Frame>
          <Frame depth="26">org.apache.crimson.parser.XMLReaderImpl.parse(XMLReaderImpl.java:448)</Frame>
          <Frame depth="27">org.eclipse.ant.internal.ui.editor.utils.ProjectHelper.parse(ProjectHelper.java:568)</Frame>
          <Frame depth="28">org.eclipse.ant.internal.ui.editor.utils.ProjectHelper.parse(ProjectHelper.java:642)</Frame>
          <Frame depth="29">org.eclipse.ant.internal.ui.model.AntModel.parseDocument(AntModel.java:312)</Frame>
          <Frame depth="30">org.eclipse.ant.internal.ui.model.AntModel.reconcile(AntModel.java:260)</Frame>
          <Frame depth="31">org.eclipse.ant.internal.ui.model.AntModel.getProjectNode(AntModel.java:1378)</Frame>
          <Frame depth="32">org.eclipse.ant.internal.ui.model.AntModel.getProjectNode(AntModel.java:1388)</Frame>
          <Frame depth="33">org.eclipse.ant.internal.ui.editor.text.AntFoldingStructureProvider.updateFoldingRegions(AntFoldingStructureProvider.java:88)</Frame>
          <Frame depth="34">org.eclipse.ant.internal.ui.editor.AntEditor.projectionEnabled(AntEditor.java:1355)</Frame>
          <Frame depth="35">org.eclipse.jface.text.source.projection.ProjectionViewer.fireProjectionEnabled(ProjectionViewer.java:481)</Frame>
          <Frame depth="36">org.eclipse.jface.text.source.projection.ProjectionViewer.enableProjection(ProjectionViewer.java:529)</Frame>
          <Frame depth="37">org.eclipse.jface.text.source.projection.ProjectionViewer.doOperation(ProjectionViewer.java:1399)</Frame>
          <Frame depth="38">org.eclipse.ant.internal.ui.editor.AntEditor$StatusLineSourceViewer.doOperation(AntEditor.java:301)</Frame>
          <Frame depth="39">org.eclipse.ant.internal.ui.editor.AntEditor.createPartControl(AntEditor.java:1096)</Frame>
          <Frame depth="40">org.eclipse.ui.internal.EditorReference.createPartHelper(EditorReference.java:598)</Frame>
          <Frame depth="41">org.eclipse.ui.internal.EditorReference.createPart(EditorReference.java:374)</Frame>
          <Frame depth="42">org.eclipse.ui.internal.WorkbenchPartReference.getPart(WorkbenchPartReference.java:552)</Frame>
          <Frame depth="43">org.eclipse.ui.internal.EditorReference.getEditor(EditorReference.java:213)</Frame>
          <Frame depth="44">org.eclipse.ui.internal.WorkbenchPage.busyOpenEditorBatched(WorkbenchPage.java:2383)</Frame>
          <Frame depth="45">org.eclipse.ui.internal.WorkbenchPage.busyOpenEditor(WorkbenchPage.java:2316)</Frame>
          <Frame depth="46">org.eclipse.ui.internal.WorkbenchPage.access$10(WorkbenchPage.java:2308)</Frame>
          <Frame depth="47">org.eclipse.ui.internal.WorkbenchPage$9.run(WorkbenchPage.java:2294)</Frame>
          <Frame depth="48">org.eclipse.swt.custom.BusyIndicator.showWhile(BusyIndicator.java:69)</Frame>
          <Frame depth="49">org.eclipse.ui.internal.WorkbenchPage.openEditor(WorkbenchPage.java:2289)</Frame>
          <Frame depth="50">org.eclipse.ui.internal.WorkbenchPage.openEditor(WorkbenchPage.java:2266)</Frame>
          <Frame depth="51">org.eclipse.ui.internal.ReopenEditorMenu.open(ReopenEditorMenu.java:265)</Frame>
          <Frame depth="52">org.eclipse.ui.internal.ReopenEditorMenu.access$2(ReopenEditorMenu.java:249)</Frame>
          <Frame depth="53">org.eclipse.ui.internal.ReopenEditorMenu$3.widgetSelected(ReopenEditorMenu.java:217)</Frame>
          <Frame depth="54">org.eclipse.swt.widgets.TypedListener.handleEvent(TypedListener.java:90)</Frame>
          <Frame depth="55">org.eclipse.swt.widgets.EventTable.sendEvent(EventTable.java:66)</Frame>
          <Frame depth="56">org.eclipse.swt.widgets.Widget.sendEvent(Widget.java:914)</Frame>
          <Frame depth="57">org.eclipse.swt.widgets.Display.runDeferredEvents(Display.java:3285)</Frame>
          <Frame depth="58">org.eclipse.swt.widgets.Display.readAndDispatch(Display.java:2905)</Frame>
          <Frame depth="59">org.eclipse.ui.internal.Workbench.runEventLoop(Workbench.java:1762)</Frame>
          <Frame depth="60">org.eclipse.ui.internal.Workbench.runUI(Workbench.java:1726)</Frame>
          <Frame depth="61">org.eclipse.ui.internal.Workbench.createAndRunWorkbench(Workbench.java:397)</Frame>
          <Frame depth="62">org.eclipse.ui.PlatformUI.createAndRunWorkbench(PlatformUI.java:143)</Frame>
          <Frame depth="63">org.eclipse.ui.internal.ide.IDEApplication.run(IDEApplication.java:106)</Frame>
          <Frame depth="64">org.eclipse.core.internal.runtime.PlatformActivator$1.run(PlatformActivator.java:109)</Frame>
          <Frame depth="65">org.eclipse.core.runtime.internal.adaptor.EclipseAppLauncher.runApplication(EclipseAppLauncher.java:92)</Frame>
          <Frame depth="66">org.eclipse.core.runtime.internal.adaptor.EclipseAppLauncher.start(EclipseAppLauncher.java:68)</Frame>
          <Frame depth="67">org.eclipse.core.runtime.adaptor.EclipseStarter.run(EclipseStarter.java:379)</Frame>
          <Frame depth="68">org.eclipse.core.runtime.adaptor.EclipseStarter.run(EclipseStarter.java:177)</Frame>
          <Frame depth="69">sun.reflect.NativeMethodAccessorImpl.invoke0(Native Method)</Frame>
          <Frame depth="70">sun.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:39)</Frame>
          <Frame depth="71">sun.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:25)</Frame>
          <Frame depth="72">java.lang.reflect.Method.invoke(Method.java:324)</Frame>
          <Frame depth="73">org.eclipse.core.launcher.Main.invokeFramework(Main.java:338)</Frame>
          <Frame depth="74">org.eclipse.core.launcher.Main.basicRun(Main.java:282)</Frame>
          <Frame depth="75">org.eclipse.core.launcher.Main.run(Main.java:977)</Frame>
          <Frame depth="76">org.eclipse.core.launcher.Main.main(Main.java:952)</Frame>
        </Frames>
      </Stacktrace>
    </Stacktraces>
    <SourceCodeRegions amount="0" />
    <Enumerations amount="0" />
    <bug_status amount="VERIFIED" />
    <resolution amount="FIXED" />
    <WithStack>I have the following Ant script and whenever I load it or change anything in 
it I get a BadLocationException error logged in the .log file. Eventually 
Eclipse crashes. In 3.0 this used to take ages to crash. Now that I'm using 
3.1 it crashes quickly (which is better) but it still crashes with an 
OutOfMemory fault.

I suspect it has something to do with the &lt;path&gt; in the entity file 
(definition.xml), as when I remove this I get no errors.

Here's the Ant script:
----- faultyBuildScript.xml -------------------------
&lt;?xml version="1.0"?&gt;
&lt;!DOCTYPE project [
   &lt;!ENTITY definition SYSTEM "file:../../../includes/definition.xml"&gt;
]&gt;
&lt;project name="project" default="build" basedir="../../../../../"&gt;
    &lt;property file="test/web/properties/common.properties"/&gt;
	&amp;definition;
	&lt;target name="build" depends="webtestTaskdef" &gt;
    &lt;/target&gt;
&lt;/project&gt;
 
----- definition.xml -------------------------
&lt;target name="webtestTaskdef" unless="webtest.taskdef.defined"&gt;
	&lt;path id="webtest.classpath"&gt;
		&lt;pathelement path="${webtest.home}/lib"/&gt;
		&lt;fileset dir="${webtest.home}" includes="**/*.jar"/&gt;
	&lt;/path&gt;
	&lt;property name="webtest.taskdef.defined" value="true" /&gt;
&lt;/target&gt;

----------------------------------------------
And here's the log output:

!ENTRY org.eclipse.ant.ui 4 120 2005-08-24 13:52:28.171
!MESSAGE Error logged from Ant UI: 
!STACK 0
org.eclipse.jface.text.BadLocationException
	at org.eclipse.jface.text.AbstractDocument.get
(AbstractDocument.java:991)
	at 
org.eclipse.ant.internal.ui.editor.text.PartiallySynchronizedDocument.get
(PartiallySynchronizedDocument.java:51)
	at org.eclipse.ant.internal.ui.model.AntModel.computeOffsetUsingPrefix
(AntModel.java:1003)
	at org.eclipse.ant.internal.ui.model.AntModel.computeOffset
(AntModel.java:997)
	at org.eclipse.ant.internal.ui.model.AntModel.addComment
(AntModel.java:1436)
	at 
org.eclipse.ant.internal.ui.editor.utils.ProjectHelper$LexHandler.comment
(ProjectHelper.java:475)
	at org.apache.xerces.parsers.AbstractSAXParser.comment(Unknown Source)
	at org.apache.xerces.impl.dtd.XMLDTDValidator.comment(Unknown Source)
	at org.apache.xerces.impl.XMLDocumentFragmentScannerImpl.scanComment
(Unknown Source)
	at 
org.apache.xerces.impl.XMLDocumentFragmentScannerImpl$FragmentContentDispatcher
.dispatch(Unknown Source)
	at org.apache.xerces.impl.XMLDocumentFragmentScannerImpl.scanDocument
(Unknown Source)
	at org.apache.xerces.parsers.XML11Configuration.parse(Unknown Source)
	at org.apache.xerces.parsers.XML11Configuration.parse(Unknown Source)
	at org.apache.xerces.parsers.XMLParser.parse(Unknown Source)
	at org.apache.xerces.parsers.AbstractSAXParser.parse(Unknown Source)
	at org.eclipse.ant.internal.ui.editor.utils.ProjectHelper.parse
(ProjectHelper.java:568)
	at org.eclipse.ant.internal.ui.editor.utils.ProjectHelper.parse
(ProjectHelper.java:642)
	at org.eclipse.ant.internal.ui.model.AntModel.parseDocument
(AntModel.java:312)
	at org.eclipse.ant.internal.ui.model.AntModel.reconcile
(AntModel.java:260)
	at 
org.eclipse.ant.internal.ui.editor.text.XMLReconcilingStrategy.internalReconcil
e(XMLReconcilingStrategy.java:43)
	at 
org.eclipse.ant.internal.ui.editor.text.XMLReconcilingStrategy.reconcile
(XMLReconcilingStrategy.java:56)
	at org.eclipse.jface.text.reconciler.MonoReconciler.process
(MonoReconciler.java:75)
	at org.eclipse.ant.internal.ui.editor.text.NotifyingReconciler.process
(NotifyingReconciler.java:39)
	at 
org.eclipse.jface.text.reconciler.AbstractReconciler$BackgroundThread.run
(AbstractReconciler.java:204)
Thank you for the bug report.

I have attempted to reproduce this problem and have had no success.

From the stack trace from the log it would appear that the edit is adding a 
comment to the Ant buildfile?
Any further steps would be appreciated.
Created attachment 28164
Test case that triggers the badlocationexception

This test case triggers a badlocationexcpetion in eclipse when opening
build.xml with the ant editor. This looks like it is the cause of the ant
editor eventually crashing.

The behaviour seems to come from the fact that elcipse tries to read the
comments from the included xml files, but tries to match the line numbers to
the build.xml file instead of the included files. Sort of hard to explain,
hence the test case.

I've tried to patch this but can't find where the included files are coming
from in the code
The actual crash of eclipse seems to be coming from a leak in the ant class
loader. We're now using XX:PermSize=128m -XX:MaxPermSize=128m at Eclipse startup
and the crashing seems to be minimised.
Thankyou for the test case.

Exception on the latest code base:

ENTRY org.eclipse.ant.ui 4 120 2006-01-05 12:19:02.607
!MESSAGE Error logged from Ant UI: 
!STACK 0
org.eclipse.jface.text.BadLocationException
	at org.eclipse.jface.text.AbstractLineTracker.fail(AbstractLineTracker.java:1006)
	at org.eclipse.jface.text.AbstractLineTracker.nodeByLine(AbstractLineTracker.java:291)
	at org.eclipse.jface.text.AbstractLineTracker.getLineDelimiter(AbstractLineTracker.java:1024)
	at org.eclipse.jface.text.AbstractDocument.getLineDelimiter(AbstractDocument.java:807)
	at org.eclipse.ant.internal.ui.model.AntModel.getLastCharColumn(AntModel.java:1037)
	at org.eclipse.ant.internal.ui.model.AntModel.computeOffsetUsingPrefix(AntModel.java:1008)
	at org.eclipse.ant.internal.ui.model.AntModel.computeOffsetUsingPrefix(AntModel.java:1008)
	at org.eclipse.ant.internal.ui.model.AntModel.computeOffsetUsingPrefix(AntModel.java:1008)
	at org.eclipse.ant.internal.ui.model.AntModel.computeOffsetUsingPrefix(AntModel.java:1008)
	at org.eclipse.ant.internal.ui.model.AntModel.computeOffsetUsingPrefix(AntModel.java:1008)
	at org.eclipse.ant.internal.ui.model.AntModel.computeOffsetUsingPrefix(AntModel.java:1008)
	at org.eclipse.ant.internal.ui.model.AntModel.computeOffsetUsingPrefix(AntModel.java:1008)
	at org.eclipse.ant.internal.ui.model.AntModel.computeOffsetUsingPrefix(AntModel.java:1008)
	at org.eclipse.ant.internal.ui.model.AntModel.computeOffsetUsingPrefix(AntModel.java:1008)
	at org.eclipse.ant.internal.ui.model.AntModel.computeOffset(AntModel.java:994)
	at org.eclipse.ant.internal.ui.model.AntModel.addComment(AntModel.java:1436)
	at org.eclipse.ant.internal.ui.editor.utils.ProjectHelper$LexHandler.comment(ProjectHelper.java:475)
	at org.apache.crimson.parser.Parser2.maybeComment(Parser2.java:1117)
	at org.apache.crimson.parser.Parser2.content(Parser2.java:1972)
	at org.apache.crimson.parser.Parser2.externalParsedEntity(Parser2.java:3021)
	at org.apache.crimson.parser.Parser2.expandEntityInContent(Parser2.java:2739)
	at org.apache.crimson.parser.Parser2.maybeReferenceInContent(Parser2.java:2606)
	at org.apache.crimson.parser.Parser2.content(Parser2.java:2017)
	at org.apache.crimson.parser.Parser2.maybeElement(Parser2.java:1691)
	at org.apache.crimson.parser.Parser2.parseInternal(Parser2.java:667)
	at org.apache.crimson.parser.Parser2.parse(Parser2.java:337)
	at org.apache.crimson.parser.XMLReaderImpl.parse(XMLReaderImpl.java:448)
	at org.eclipse.ant.internal.ui.editor.utils.ProjectHelper.parse(ProjectHelper.java:568)
	at org.eclipse.ant.internal.ui.editor.utils.ProjectHelper.parse(ProjectHelper.java:642)
	at org.eclipse.ant.internal.ui.model.AntModel.parseDocument(AntModel.java:312)
	at org.eclipse.ant.internal.ui.model.AntModel.reconcile(AntModel.java:260)
	at org.eclipse.ant.internal.ui.model.AntModel.getProjectNode(AntModel.java:1378)
	at org.eclipse.ant.internal.ui.model.AntModel.getProjectNode(AntModel.java:1388)
	at org.eclipse.ant.internal.ui.editor.text.AntFoldingStructureProvider.updateFoldingRegions(AntFoldingStructureProvider.java:88)
	at org.eclipse.ant.internal.ui.editor.AntEditor.projectionEnabled(AntEditor.java:1355)
	at org.eclipse.jface.text.source.projection.ProjectionViewer.fireProjectionEnabled(ProjectionViewer.java:481)
	at org.eclipse.jface.text.source.projection.ProjectionViewer.enableProjection(ProjectionViewer.java:529)
	at org.eclipse.jface.text.source.projection.ProjectionViewer.doOperation(ProjectionViewer.java:1399)
	at org.eclipse.ant.internal.ui.editor.AntEditor$StatusLineSourceViewer.doOperation(AntEditor.java:301)
	at org.eclipse.ant.internal.ui.editor.AntEditor.createPartControl(AntEditor.java:1096)
	at org.eclipse.ui.internal.EditorReference.createPartHelper(EditorReference.java:598)
	at org.eclipse.ui.internal.EditorReference.createPart(EditorReference.java:374)
	at org.eclipse.ui.internal.WorkbenchPartReference.getPart(WorkbenchPartReference.java:552)
	at org.eclipse.ui.internal.EditorReference.getEditor(EditorReference.java:213)
	at org.eclipse.ui.internal.WorkbenchPage.busyOpenEditorBatched(WorkbenchPage.java:2383)
	at org.eclipse.ui.internal.WorkbenchPage.busyOpenEditor(WorkbenchPage.java:2316)
	at org.eclipse.ui.internal.WorkbenchPage.access$10(WorkbenchPage.java:2308)
	at org.eclipse.ui.internal.WorkbenchPage$9.run(WorkbenchPage.java:2294)
	at org.eclipse.swt.custom.BusyIndicator.showWhile(BusyIndicator.java:69)
	at org.eclipse.ui.internal.WorkbenchPage.openEditor(WorkbenchPage.java:2289)
	at org.eclipse.ui.internal.WorkbenchPage.openEditor(WorkbenchPage.java:2266)
	at org.eclipse.ui.internal.ReopenEditorMenu.open(ReopenEditorMenu.java:265)
	at org.eclipse.ui.internal.ReopenEditorMenu.access$2(ReopenEditorMenu.java:249)
	at org.eclipse.ui.internal.ReopenEditorMenu$3.widgetSelected(ReopenEditorMenu.java:217)
	at org.eclipse.swt.widgets.TypedListener.handleEvent(TypedListener.java:90)
	at org.eclipse.swt.widgets.EventTable.sendEvent(EventTable.java:66)
	at org.eclipse.swt.widgets.Widget.sendEvent(Widget.java:914)
	at org.eclipse.swt.widgets.Display.runDeferredEvents(Display.java:3285)
	at org.eclipse.swt.widgets.Display.readAndDispatch(Display.java:2905)
	at org.eclipse.ui.internal.Workbench.runEventLoop(Workbench.java:1762)
	at org.eclipse.ui.internal.Workbench.runUI(Workbench.java:1726)
	at org.eclipse.ui.internal.Workbench.createAndRunWorkbench(Workbench.java:397)
	at org.eclipse.ui.PlatformUI.createAndRunWorkbench(PlatformUI.java:143)
	at org.eclipse.ui.internal.ide.IDEApplication.run(IDEApplication.java:106)
	at org.eclipse.core.internal.runtime.PlatformActivator$1.run(PlatformActivator.java:109)
	at org.eclipse.core.runtime.internal.adaptor.EclipseAppLauncher.runApplication(EclipseAppLauncher.java:92)
	at org.eclipse.core.runtime.internal.adaptor.EclipseAppLauncher.start(EclipseAppLauncher.java:68)
	at org.eclipse.core.runtime.adaptor.EclipseStarter.run(EclipseStarter.java:379)
	at org.eclipse.core.runtime.adaptor.EclipseStarter.run(EclipseStarter.java:177)
	at sun.reflect.NativeMethodAccessorImpl.invoke0(Native Method)
	at sun.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:39)
	at sun.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:25)
	at java.lang.reflect.Method.invoke(Method.java:324)
	at org.eclipse.core.launcher.Main.invokeFramework(Main.java:338)
	at org.eclipse.core.launcher.Main.basicRun(Main.java:282)
	at org.eclipse.core.launcher.Main.run(Main.java:977)
	at org.eclipse.core.launcher.Main.main(Main.java:952)

Fixed in AntModel to handle comments that are external.
Please verify Kevin.
verified</WithStack>
    <WithOutStack>I have the following Ant script and whenever I load it or change anything in 
it I get a BadLocationException error logged in the .log file. Eventually 
Eclipse crashes. In 3.0 this used to take ages to crash. Now that I'm using 
3.1 it crashes quickly (which is better) but it still crashes with an 
OutOfMemory fault.

I suspect it has something to do with the &lt;path&gt; in the entity file 
(definition.xml), as when I remove this I get no errors.

Here's the Ant script:
----- faultyBuildScript.xml -------------------------
&lt;?xml version="1.0"?&gt;
&lt;!DOCTYPE project [
   &lt;!ENTITY definition SYSTEM "file:../../../includes/definition.xml"&gt;
]&gt;
&lt;project name="project" default="build" basedir="../../../../../"&gt;
    &lt;property file="test/web/properties/common.properties"/&gt;
	&amp;definition;
	&lt;target name="build" depends="webtestTaskdef" &gt;
    &lt;/target&gt;
&lt;/project&gt;
 
----- definition.xml -------------------------
&lt;target name="webtestTaskdef" unless="webtest.taskdef.defined"&gt;
	&lt;path id="webtest.classpath"&gt;
		&lt;pathelement path="${webtest.home}/lib"/&gt;
		&lt;fileset dir="${webtest.home}" includes="**/*.jar"/&gt;
	&lt;/path&gt;
	&lt;property name="webtest.taskdef.defined" value="true" /&gt;
&lt;/target&gt;

----------------------------------------------
And here's the log output:

!ENTRY org.eclipse.ant.ui 4 120 2005-08-24 13:52:28.171
!MESSAGE Error logged from Ant UI: 
!STACK 0
Thank you for the bug report.

I have attempted to reproduce this problem and have had no success.

From the stack trace from the log it would appear that the edit is adding a 
comment to the Ant buildfile?
Any further steps would be appreciated.
Created attachment 28164
Test case that triggers the badlocationexception

This test case triggers a badlocationexcpetion in eclipse when opening
build.xml with the ant editor. This looks like it is the cause of the ant
editor eventually crashing.

The behaviour seems to come from the fact that elcipse tries to read the
comments from the included xml files, but tries to match the line numbers to
the build.xml file instead of the included files. Sort of hard to explain,
hence the test case.

I've tried to patch this but can't find where the included files are coming
from in the code
The actual crash of eclipse seems to be coming from a leak in the ant class
loader. We're now using XX:PermSize=128m -XX:MaxPermSize=128m at Eclipse startup
and the crashing seems to be minimised.
Thankyou for the test case.

Exception on the latest code base:

ENTRY org.eclipse.ant.ui 4 120 2006-01-05 12:19:02.607
!MESSAGE Error logged from Ant UI: 
!STACK 0


Fixed in AntModel to handle comments that are external.
Please verify Kevin.
verified</WithOutStack>
  </Bug>
  <Bug>
    <BugId amount="107814" />
    <CreationDate amount="2005-08-24 00:54:00 -0400" />
    <DupId amount="" />
    <classification amount="Eclipse" />
    <Product amount="JDT" />
    <component amount="Core" />
    <Version amount="3.1" />
    <rep_platform amount="PC" />
    <op_sys amount="Windows XP" />
    <priority amount="P3" />
    <bug_severity amount="normal" />
    <Summery>@SuppressWarnings("unused") requires additional  //$NON-NLS-1$</Summery>
    <Patches amount="0" />
    <Stacktraces amount="0" />
    <SourceCodeRegions amount="3">
      <source_code type="functiondef">
        <location start="88" end="161" />
        <code>protected final void test(@SuppressWarnings("unused") int pExitCode) 
{
}</code>
      </source_code>
      <source_code type="functiondef">
        <location start="295" end="382" />
        <code>protected final void test(@SuppressWarnings("unused") int pExitCode) //$NON-NLS-1$ 
{
}</code>
      </source_code>
      <source_code type="class">
        <location start="2489" end="2549" />
        <code>public class X {
	@SuppressWarnings("nls")
	String s = "";
}</code>
      </source_code>
    </SourceCodeRegions>
    <Enumerations amount="0" />
    <bug_status amount="VERIFIED" />
    <resolution amount="FIXED" />
    <WithStack>if you have an unused parameter and you apply a quick fix to suppress warnings
you get

protected final void test(@SuppressWarnings("unused") int pExitCode) 
{
}

after this Eclipse editor says "unused"  should be externalised

So then you have to quick fix that with //$NON-NLS-1$ and you get

protected final void test(@SuppressWarnings("unused") int pExitCode) //$NON-NLS-1$ 
{
}

This looks ugly (as if the annotation did not contribute enough ugliness).

I have seen in other situations eclipse does not complain about "unresourced
strings" inside annotations ?
Moving to core. We should indeed not flag strings used inside of
@SuppressWarnings as non nlsed.
The filtering is done only for warnings. It is not done for errors.
This should be fixed.
Did you set non-externalized string literal to error or warning?
If you use a 3.2M1 build, it works fine for warnings, but when set to error, it
is still reported.
Please confirm your settings and provide build id.
The filtering of the non-externalized string literal inside annotations must be
done earlier. If it is done only in the compilation result, it won't work when
it is set to error, because the reference context has been tagged as having
error and therefore it is not analysed.
Philippe, I will review my changes to filter them in the parser. Hopefully I
will be able to get enough context to do so.
The only way to get enough context in the parser is to remember the ranges of
the annotations in the parsing.
In order to do that properly, this means that the detection of non-externalized
string literals has to be done in the diet parse and in the parsing of the
method bodies.
Right now the diet parse is sufficient. If we have to do it in the parsing of
method bodies, this means that in invalid code it won't be possible to report
all non-externalized string literals.
Another solution would be to keep the existing code and do the filtering in the
compilation result, but not tagged the reference context as having errors if the
error is only a non-externalized string literal. We would then be able to report
all non-externalized string literals even if the code is syntactically wrong and
we could resolve the reference context even if contains non-externalized string
literals.
Philippe, which one do you prefer?
For the second option, we could use the same trick than for bug 107332.
But we still need to make a distinction when filtering nls inside annotation'
ranges and within annotation scopes.

For example:
public class X {
	@SuppressWarnings("nls")
	String s = "";
}

In this code, when nls is report as an error, I don't want the error on the
literal "nls", but I do want an error for the literal "".
So we cannot simply reuse the support for SuppressWarnings to filter out nls
errors/warnings inside annotation's ranges.
Created attachment 26404
Proposed fix

First draft. It is still using the suppress warnings support to filter out the
nls errors/warnings. So it doesn't report an error for the literal "", but it
shows how to handle the detection of nls literals in the code without tagging
the reference context as having errors.
(In reply to comment #3)
&gt; Did you set non-externalized string literal to error or warning?
&gt; If you use a 3.2M1 build, it works fine for warnings, but when set to error, it
&gt; is still reported.
&gt; Please confirm your settings and provide build id.

I use Eclipse 3.1 and non-externalized string literal is set to "warning"
Then if you use 3.2M1, your problem will be fixed. But we still need to find a
good solution for the error case.
This bug also applies to @SuppressWarnings("deprecated") on the same platform

Same thing happens and requires additional  //$NON-NLS-1$
Are you using 3.1 or 3.2M1?
(In reply to comment #11)
&gt; Are you using 3.1 or 3.2M1?

I have already mentioned I use 3.1.
My preference would be to not report the offending problem, rather than
filtering it out in the end, due to side effects when ERROR severity is set.


I understand, but this would have an impact on performance and we would not be
able to return the nls string literals warnings/errors where there are syntax
errors.
In order not to report the problem, we need to know if we are within an
annotation  (normal annotation, marker annotation or single member annotation).
These annotations can be located on types, methods, fields or locals. So in diet
mode, we could get them fine for types, methods and fields, but not for locals
since we don't actually "parse" the method bodies when we are in diet mode. The
detection of nls string literals is done during the diet parse to return them
even if the code is syntactically wrong. If we move the code inside the parsing
of method bodies, we would lose that information when we have syntax errors.
Considering this, I believe we need to do this filtering before we report the
problem.
Did I miss anything?
If we decide that code with syntax errors might not provide these warnings, we
could move the detection of code inside method bodies instead of the diet parse.
Then this would allow us to "know" that the string is located within an annotation.
Fixed and released in HEAD.
Regression tests in
org.eclipse.jdt.core.tests.compiler.regression.ExternalizeStringLiteralsTest.
Verified for 3.2 M3 using build I20051031-0010</WithStack>
    <WithOutStack>if you have an unused parameter and you apply a quick fix to suppress warnings
you get

protected final void test(@SuppressWarnings("unused") int pExitCode) 
{
}

after this Eclipse editor says "unused"  should be externalised

So then you have to quick fix that with //$NON-NLS-1$ and you get

protected final void test(@SuppressWarnings("unused") int pExitCode) //$NON-NLS-1$ 
{
}

This looks ugly (as if the annotation did not contribute enough ugliness).

I have seen in other situations eclipse does not complain about "unresourced
strings" inside annotations ?
Moving to core. We should indeed not flag strings used inside of
@SuppressWarnings as non nlsed.
The filtering is done only for warnings. It is not done for errors.
This should be fixed.
Did you set non-externalized string literal to error or warning?
If you use a 3.2M1 build, it works fine for warnings, but when set to error, it
is still reported.
Please confirm your settings and provide build id.
The filtering of the non-externalized string literal inside annotations must be
done earlier. If it is done only in the compilation result, it won't work when
it is set to error, because the reference context has been tagged as having
error and therefore it is not analysed.
Philippe, I will review my changes to filter them in the parser. Hopefully I
will be able to get enough context to do so.
The only way to get enough context in the parser is to remember the ranges of
the annotations in the parsing.
In order to do that properly, this means that the detection of non-externalized
string literals has to be done in the diet parse and in the parsing of the
method bodies.
Right now the diet parse is sufficient. If we have to do it in the parsing of
method bodies, this means that in invalid code it won't be possible to report
all non-externalized string literals.
Another solution would be to keep the existing code and do the filtering in the
compilation result, but not tagged the reference context as having errors if the
error is only a non-externalized string literal. We would then be able to report
all non-externalized string literals even if the code is syntactically wrong and
we could resolve the reference context even if contains non-externalized string
literals.
Philippe, which one do you prefer?
For the second option, we could use the same trick than for bug 107332.
But we still need to make a distinction when filtering nls inside annotation'
ranges and within annotation scopes.

For example:
public class X {
	@SuppressWarnings("nls")
	String s = "";
}

In this code, when nls is report as an error, I don't want the error on the
literal "nls", but I do want an error for the literal "".
So we cannot simply reuse the support for SuppressWarnings to filter out nls
errors/warnings inside annotation's ranges.
Created attachment 26404
Proposed fix

First draft. It is still using the suppress warnings support to filter out the
nls errors/warnings. So it doesn't report an error for the literal "", but it
shows how to handle the detection of nls literals in the code without tagging
the reference context as having errors.
(In reply to comment #3)
&gt; Did you set non-externalized string literal to error or warning?
&gt; If you use a 3.2M1 build, it works fine for warnings, but when set to error, it
&gt; is still reported.
&gt; Please confirm your settings and provide build id.

I use Eclipse 3.1 and non-externalized string literal is set to "warning"
Then if you use 3.2M1, your problem will be fixed. But we still need to find a
good solution for the error case.
This bug also applies to @SuppressWarnings("deprecated") on the same platform

Same thing happens and requires additional  //$NON-NLS-1$
Are you using 3.1 or 3.2M1?
(In reply to comment #11)
&gt; Are you using 3.1 or 3.2M1?

I have already mentioned I use 3.1.
My preference would be to not report the offending problem, rather than
filtering it out in the end, due to side effects when ERROR severity is set.


I understand, but this would have an impact on performance and we would not be
able to return the nls string literals warnings/errors where there are syntax
errors.
In order not to report the problem, we need to know if we are within an
annotation  (normal annotation, marker annotation or single member annotation).
These annotations can be located on types, methods, fields or locals. So in diet
mode, we could get them fine for types, methods and fields, but not for locals
since we don't actually "parse" the method bodies when we are in diet mode. The
detection of nls string literals is done during the diet parse to return them
even if the code is syntactically wrong. If we move the code inside the parsing
of method bodies, we would lose that information when we have syntax errors.
Considering this, I believe we need to do this filtering before we report the
problem.
Did I miss anything?
If we decide that code with syntax errors might not provide these warnings, we
could move the detection of code inside method bodies instead of the diet parse.
Then this would allow us to "know" that the string is located within an annotation.
Fixed and released in HEAD.
Regression tests in
org.eclipse.jdt.core.tests.compiler.regression.ExternalizeStringLiteralsTest.
Verified for 3.2 M3 using build I20051031-0010</WithOutStack>
  </Bug>
  <Bug>
    <BugId amount="107815" />
    <CreationDate amount="2005-08-24 01:01:00 -0400" />
    <DupId amount="" />
    <classification amount="Eclipse" />
    <Product amount="JDT" />
    <component amount="Debug" />
    <Version amount="3.1" />
    <rep_platform amount="PC" />
    <op_sys amount="Windows XP" />
    <priority amount="P3" />
    <bug_severity amount="normal" />
    <Summery>Debug view does not restore itself and jump to source code in content area</Summery>
    <Patches amount="0" />
    <Stacktraces amount="0" />
    <SourceCodeRegions amount="0" />
    <Enumerations amount="0" />
    <bug_status amount="RESOLVED" />
    <resolution amount="WONTFIX" />
    <WithStack>Presently if the Console view is maximised and you "single click" on a "trace
item link"  it will restore the Console view and jump to the point in the source
code.

The Debug view does not have the same behaviour. i.e. 

If you have the Debug view maximised and you single click on a "call stack" 
entry  it does not restore the Debug view and jump to the point in the source code.

You have to manually restore the debug view.
This is intentional. The user may select a stack frame for other purposes than 
showing source - i.e. to step over, return, etc. Thus, we do not change the 
view state in this case.
With all due respect to the excellent work you guys have done on Eclipse,
this is not consistent with other views and not good user interface design.

Is it possible to control this via a "Preference option"  and/or do the "stack
frame"  selection using "Ctrl/Shit" modifiers ? while the single selection
behaves the same as the "Console View" behaves?

The most frequently availed "use case" should get the easiest ui gesture i.e
"single click with mouse". Others should get "Double Click","Ctrl Click " ..... etc.

Please consider this in your UI design.

Could it be, that such finer aspects of UI design becomes a casuality of "plugin
based development" ? Where each "group of developers" follow their own set of
rules and once the code is baselined it gets (naturally) buried under heaps of
other features requiring higher priority ?

How can we evolve Eclipse with such "usablity" issues in mind ? For example the
context menu on the Java Editor brings up a long menu. Only some of these
options are used most frequently.  We can move the "secondary use cases" to a
context menu which comes up on "Ctrl+RightClick" instead of putting them all in
one monolithic menu with the "primary use cases"

Cheers and goodwill










There are a few things to consider here:

* bug 12905 - originally reported for the opposite reason, the user complained 
when the view was unmaximized when a stack frame was selected
* when selecting a stack trace line in the console, the operation is to show 
source (i.e. it's the only purpose of the selection). When selecting a stack 
frame in the debug view there are other purposes/reasons/actions.
* adding more preferences adds to the preference pollution problem

However, I see the general use case as follows:

* a user maximizes the debug view to easily see a large list of stack frames 
because they are searching for a specific frame. They then select the frame 
and want to see source.

So I agree that the common case is to show source and the view should not 
remain maximized. Unfortunately, we will have to add a preference for the 
debug view to 'remain maximized during source lookup' (needs better wording).
Deferred
As of now 'LATER' and 'REMIND' resolutions are no longer supported.
Please reopen this bug if it is still valid for you.</WithStack>
    <WithOutStack>Presently if the Console view is maximised and you "single click" on a "trace
item link"  it will restore the Console view and jump to the point in the source
code.

The Debug view does not have the same behaviour. i.e. 

If you have the Debug view maximised and you single click on a "call stack" 
entry  it does not restore the Debug view and jump to the point in the source code.

You have to manually restore the debug view.
This is intentional. The user may select a stack frame for other purposes than 
showing source - i.e. to step over, return, etc. Thus, we do not change the 
view state in this case.
With all due respect to the excellent work you guys have done on Eclipse,
this is not consistent with other views and not good user interface design.

Is it possible to control this via a "Preference option"  and/or do the "stack
frame"  selection using "Ctrl/Shit" modifiers ? while the single selection
behaves the same as the "Console View" behaves?

The most frequently availed "use case" should get the easiest ui gesture i.e
"single click with mouse". Others should get "Double Click","Ctrl Click " ..... etc.

Please consider this in your UI design.

Could it be, that such finer aspects of UI design becomes a casuality of "plugin
based development" ? Where each "group of developers" follow their own set of
rules and once the code is baselined it gets (naturally) buried under heaps of
other features requiring higher priority ?

How can we evolve Eclipse with such "usablity" issues in mind ? For example the
context menu on the Java Editor brings up a long menu. Only some of these
options are used most frequently.  We can move the "secondary use cases" to a
context menu which comes up on "Ctrl+RightClick" instead of putting them all in
one monolithic menu with the "primary use cases"

Cheers and goodwill










There are a few things to consider here:

* bug 12905 - originally reported for the opposite reason, the user complained 
when the view was unmaximized when a stack frame was selected
* when selecting a stack trace line in the console, the operation is to show 
source (i.e. it's the only purpose of the selection). When selecting a stack 
frame in the debug view there are other purposes/reasons/actions.
* adding more preferences adds to the preference pollution problem

However, I see the general use case as follows:

* a user maximizes the debug view to easily see a large list of stack frames 
because they are searching for a specific frame. They then select the frame 
and want to see source.

So I agree that the common case is to show source and the view should not 
remain maximized. Unfortunately, we will have to add a preference for the 
debug view to 'remain maximized during source lookup' (needs better wording).
Deferred
As of now 'LATER' and 'REMIND' resolutions are no longer supported.
Please reopen this bug if it is still valid for you.</WithOutStack>
  </Bug>
  <Bug>
    <BugId amount="107816" />
    <CreationDate amount="2005-08-24 02:47:00 -0400" />
    <DupId amount="" />
    <classification amount="BIRT" />
    <Product amount="BIRT" />
    <component amount="Report Designer" />
    <Version amount="1.0.1" />
    <rep_platform amount="PC" />
    <op_sys amount="Windows XP" />
    <priority amount="P3" />
    <bug_severity amount="normal" />
    <Summery>If I enter "Currency" as a Format Code of Number, it can't be applied properly.</Summery>
    <Patches amount="0" />
    <Stacktraces amount="0" />
    <SourceCodeRegions amount="0" />
    <Enumerations amount="1">
      <Enumeration lines="3">
        <Lines>
          <Line>1. Create a new style of format number.</Line>
          <Line>2. Enter "Currency" as format code.</Line>
          <Line>3. Apply it to a data.</Line>
        </Lines>
      </Enumeration>
    </Enumerations>
    <bug_status amount="CLOSED" />
    <resolution amount="FIXED" />
    <WithStack>Description: If I enter "Currency" as a Format Code of Number, it can't be 
applied properly.

Steps:
1. Create a new style of format number.
2. Enter "Currency" as format code.
3. Apply it to a data.

Actual result: it isn't displayed as "$1,234.56". It is displayed 
as "Currency1234.56".
Revised display text for the example formats of custom page.
Add a default dateTime(current date &amp; time) for FormatDateTimePage.

We do not support directly inputting "Currency" as a format code.
Verified in build 20050829.</WithStack>
    <WithOutStack>Description: If I enter "Currency" as a Format Code of Number, it can't be 
applied properly.

Steps:
1. Create a new style of format number.
2. Enter "Currency" as format code.
3. Apply it to a data.

Actual result: it isn't displayed as "$1,234.56". It is displayed 
as "Currency1234.56".
Revised display text for the example formats of custom page.
Add a default dateTime(current date &amp; time) for FormatDateTimePage.

We do not support directly inputting "Currency" as a format code.
Verified in build 20050829.</WithOutStack>
  </Bug>
  <Bug>
    <BugId amount="107817" />
    <CreationDate amount="2005-08-24 04:05:00 -0400" />
    <DupId amount="107818" />
    <classification amount="Eclipse" />
    <Product amount="JDT" />
    <component amount="UI" />
    <Version amount="3.1" />
    <rep_platform amount="PC" />
    <op_sys amount="Windows 2000" />
    <priority amount="P3" />
    <bug_severity amount="normal" />
    <Summery>Curly closing losing brace can not be typed</Summery>
    <Patches amount="0" />
    <Stacktraces amount="0" />
    <SourceCodeRegions amount="0" />
    <Enumerations amount="0" />
    <bug_status amount="RESOLVED" />
    <resolution amount="DUPLICATE" />
    <WithStack>It is not possible to type the curly closing brace "}". It is not generated
automatic by entering the opening brace "{" too. All other braces "(), []" are
working fine.


*** This bug has been marked as a duplicate of 107818 ***</WithStack>
    <WithOutStack>It is not possible to type the curly closing brace "}". It is not generated
automatic by entering the opening brace "{" too. All other braces "(), []" are
working fine.


*** This bug has been marked as a duplicate of 107818 ***</WithOutStack>
  </Bug>
  <Bug>
    <BugId amount="107818" />
    <CreationDate amount="2005-08-24 04:05:00 -0400" />
    <DupId amount="" />
    <classification amount="Eclipse" />
    <Product amount="JDT" />
    <component amount="Text" />
    <Version amount="3.1" />
    <rep_platform amount="PC" />
    <op_sys amount="Windows 2000" />
    <priority amount="P3" />
    <bug_severity amount="normal" />
    <Summery>Curly closing brace can not be typed</Summery>
    <Patches amount="0" />
    <Stacktraces amount="0" />
    <SourceCodeRegions amount="0" />
    <Enumerations amount="0" />
    <bug_status amount="RESOLVED" />
    <resolution amount="WORKSFORME" />
    <WithStack>It is not possible to type the curly closing brace "}". It is not generated
automatic by entering the opening brace "{" too. All other braces "(), []" are
working fine.
*** Bug 107817 has been marked as a duplicate of this bug. ***
Do you have JBoss installed (might be a duplicate of bug 99911)?

Works for me using R3.1 or newer. See also:
http://dev.eclipse.org/viewcvs/index.cgi/%7Echeckout%7E/platform-text-home/development/bug-incomplete.htm
It really was the same bug. Direct link to the solution:
http://jira.jboss.com/jira/browse/JBIDE-192

The search for "closing brace" didn't return anything, so i thought the bug was
unknown.</WithStack>
    <WithOutStack>It is not possible to type the curly closing brace "}". It is not generated
automatic by entering the opening brace "{" too. All other braces "(), []" are
working fine.
*** Bug 107817 has been marked as a duplicate of this bug. ***
Do you have JBoss installed (might be a duplicate of bug 99911)?

Works for me using R3.1 or newer. See also:
http://dev.eclipse.org/viewcvs/index.cgi/%7Echeckout%7E/platform-text-home/development/bug-incomplete.htm
It really was the same bug. Direct link to the solution:
http://jira.jboss.com/jira/browse/JBIDE-192

The search for "closing brace" didn't return anything, so i thought the bug was
unknown.</WithOutStack>
  </Bug>
  <Bug>
    <BugId amount="107819" />
    <CreationDate amount="2005-08-24 04:40:00 -0400" />
    <DupId amount="" />
    <classification amount="Eclipse" />
    <Product amount="Platform" />
    <component amount="UI" />
    <Version amount="3.1" />
    <rep_platform amount="PC" />
    <op_sys amount="All" />
    <priority amount="P5" />
    <bug_severity amount="normal" />
    <Summery>[WorkbenchParts] [RCP] Minimized views should not show toolbar buttons</Summery>
    <Patches amount="0" />
    <Stacktraces amount="0" />
    <SourceCodeRegions amount="0" />
    <Enumerations amount="0" />
    <bug_status amount="ASSIGNED" />
    <resolution amount="" />
    <WithStack>3.1

Minimized views keep showing their toolbar with all kinds of distracting
buttons. I think that minimizing views should hide their toolbars (maybe even
their min/max buttons, or even the close button). This would clean up the look
of a workbench with many minimized view stacks.

Rationale: most buttons on a minimized view are not needed as it would not be
clear what they do anyway. Many (all?) views restore themselves anyway and
ignore the click when I press a toolbar item when its minimzed (e.g. the Console
does that).

Removing the toolbar would allow to to have many minimized view stacks that do
not distract the user. This would become even more important if vertical views
get vertical view tabs when minimized (see bug 88239 comment 7 for a mock up,
and imagine how much cleaner it would look without the view toolbars).

As a reference, consider how acrobat reader lays out its side panes when they
are minimized - the tabs are very slim and do not distract at all.
I like!

What about something akin to the Mac OS X dock when minimized -- as the mouse rolls over, the object enlarges to give the user a better chance of seeing small hit targets.

The drawback is that unless it's done only at the natural edges of the window, the behavior can be non-linear (always reminded me of the rule for differentiability in calculus where the limit from the left equals the limit from the right).

That said it does a good job at assisting users to the most probable target at the small expense of initial surprise.
Is this still a problem in 3.3?

PW

Yes.
The entire behaviour of minimize/maximize will be changed by the 3.3 presentation.

PW

Sorry Paul, but this is still an issue for RCP applications with their own window layout (and thus no trim managed by the Workbench), because they won't be able to use the new presentation.  I understand that this is not a high priority item for you, so I'm marking it as helpwanted for now.
In the RCP application that I'm working on, if I maximize a view everything  behaves normally, but if I close and reopen the application, toolbars of the other minimized views are displayed over the maximized view. Extra toolbars disappears when changing the perspective or sometimes the view. Could this happen because of this bug?</WithStack>
    <WithOutStack>3.1

Minimized views keep showing their toolbar with all kinds of distracting
buttons. I think that minimizing views should hide their toolbars (maybe even
their min/max buttons, or even the close button). This would clean up the look
of a workbench with many minimized view stacks.

Rationale: most buttons on a minimized view are not needed as it would not be
clear what they do anyway. Many (all?) views restore themselves anyway and
ignore the click when I press a toolbar item when its minimzed (e.g. the Console
does that).

Removing the toolbar would allow to to have many minimized view stacks that do
not distract the user. This would become even more important if vertical views
get vertical view tabs when minimized (see bug 88239 comment 7 for a mock up,
and imagine how much cleaner it would look without the view toolbars).

As a reference, consider how acrobat reader lays out its side panes when they
are minimized - the tabs are very slim and do not distract at all.
I like!

What about something akin to the Mac OS X dock when minimized -- as the mouse rolls over, the object enlarges to give the user a better chance of seeing small hit targets.

The drawback is that unless it's done only at the natural edges of the window, the behavior can be non-linear (always reminded me of the rule for differentiability in calculus where the limit from the left equals the limit from the right).

That said it does a good job at assisting users to the most probable target at the small expense of initial surprise.
Is this still a problem in 3.3?

PW

Yes.
The entire behaviour of minimize/maximize will be changed by the 3.3 presentation.

PW

Sorry Paul, but this is still an issue for RCP applications with their own window layout (and thus no trim managed by the Workbench), because they won't be able to use the new presentation.  I understand that this is not a high priority item for you, so I'm marking it as helpwanted for now.
In the RCP application that I'm working on, if I maximize a view everything  behaves normally, but if I close and reopen the application, toolbars of the other minimized views are displayed over the maximized view. Extra toolbars disappears when changing the perspective or sometimes the view. Could this happen because of this bug?</WithOutStack>
  </Bug>
  <Bug>
    <BugId amount="107820" />
    <CreationDate amount="2005-08-24 05:10:00 -0400" />
    <DupId amount="" />
    <classification amount="Eclipse" />
    <Product amount="Platform" />
    <component amount="Runtime" />
    <Version amount="3.1" />
    <rep_platform amount="Other" />
    <op_sys amount="other" />
    <priority amount="P3" />
    <bug_severity amount="normal" />
    <Summery>[osgi] ServiceRegistrationImpl$Properties.cloneValue(..) throws IllegalAccessError</Summery>
    <Patches amount="0" />
    <Stacktraces amount="0" />
    <SourceCodeRegions amount="0" />
    <Enumerations amount="0" />
    <bug_status amount="RESOLVED" />
    <resolution amount="FIXED" />
    <WithStack>Under Open VMS 7.3+ (Platform DECAlpha, VM: HP FastVM 1.4.2-4p2, which "should"
be comliant to Sun's 1.4.2_05) the system bundle crashes with an
IllegalAccessError when trying to clone a String[]. Obviously the HP VM offers
no public clone method for this type.
Since the relevant portion of Eclipse does not wrap the clone operations in a
try-catch, Eclipse is not starting (we are using OSGI+Runtime only).
Of course this may be considered as a bug in the HP VM, since the Java Spec
requires Arrays to be cloneable. But on the other hand it's not a great deal to
make cloneValue() failsafe. 
Copying arrays the way cloneValue does it is imho worth a discussion. Why not
use System.arraycopy?

PS: Yes, I know that OpenVMS is NOT a target system. But running Eclipse on VMS
would do no harm either
Can you provide us with some error logs or stacktraces when it fails? Thanks.

Created attachment 26524
log of IllegalAccessError
The above log was faked on a windows machine. (exchanged the header though).
We have altered the cloneValue method so that is fails on exactly the same
location it fails under OpenVMS.
The reason is that we fixed the issue ourselves and already deployed the fix to
our VMS testing system, so we cannot reproduce the error there.

PS: I have filed a bug report to HP as well.

Created attachment 26529
Proposed fix

The original framework code base was designed to run on a very small J2ME
profile which apparently did not have java.lang.reflect package!!  That is the
reason we did not use the java.lang.reflect.Array class to copy arrays.  

Well now our minimum profile is the OSGi minimum execution environment which
does have this package.  Here is a patch to fix this problem.  This makes the
method much smaller :)
Maybe consider for 3.1.1?

I'm reducing the severity because this is a VM bug and you have a fix for 
yourself.
I released the fix in HEAD for 3.2.

Leaving defect open for consideration in 3.1.1
patch reviewed, good to go
Fixed for 3.1.1.</WithStack>
    <WithOutStack>Under Open VMS 7.3+ (Platform DECAlpha, VM: HP FastVM 1.4.2-4p2, which "should"
be comliant to Sun's 1.4.2_05) the system bundle crashes with an
IllegalAccessError when trying to clone a String[]. Obviously the HP VM offers
no public clone method for this type.
Since the relevant portion of Eclipse does not wrap the clone operations in a
try-catch, Eclipse is not starting (we are using OSGI+Runtime only).
Of course this may be considered as a bug in the HP VM, since the Java Spec
requires Arrays to be cloneable. But on the other hand it's not a great deal to
make cloneValue() failsafe. 
Copying arrays the way cloneValue does it is imho worth a discussion. Why not
use System.arraycopy?

PS: Yes, I know that OpenVMS is NOT a target system. But running Eclipse on VMS
would do no harm either
Can you provide us with some error logs or stacktraces when it fails? Thanks.

Created attachment 26524
log of IllegalAccessError
The above log was faked on a windows machine. (exchanged the header though).
We have altered the cloneValue method so that is fails on exactly the same
location it fails under OpenVMS.
The reason is that we fixed the issue ourselves and already deployed the fix to
our VMS testing system, so we cannot reproduce the error there.

PS: I have filed a bug report to HP as well.

Created attachment 26529
Proposed fix

The original framework code base was designed to run on a very small J2ME
profile which apparently did not have java.lang.reflect package!!  That is the
reason we did not use the java.lang.reflect.Array class to copy arrays.  

Well now our minimum profile is the OSGi minimum execution environment which
does have this package.  Here is a patch to fix this problem.  This makes the
method much smaller :)
Maybe consider for 3.1.1?

I'm reducing the severity because this is a VM bug and you have a fix for 
yourself.
I released the fix in HEAD for 3.2.

Leaving defect open for consideration in 3.1.1
patch reviewed, good to go
Fixed for 3.1.1.</WithOutStack>
  </Bug>
  <Bug>
    <BugId amount="107821" />
    <CreationDate amount="2005-08-24 05:15:00 -0400" />
    <DupId amount="" />
    <classification amount="Tools" />
    <Product amount="CDT" />
    <component amount="cdt-core" />
    <Version amount="3.0" />
    <rep_platform amount="PC" />
    <op_sys amount="Linux-GTK" />
    <priority amount="P3" />
    <bug_severity amount="major" />
    <Summery>Indexer crashes Eclipse on code from www.boost.org</Summery>
    <Patches amount="0" />
    <Stacktraces amount="4">
      <Stacktrace timestamp="1437330570715">
        <Exception>java.lang.ClassCastException</Exception>
        <Reason>org.eclipse.core.internal.resources.Project</Reason>
        <Frames>
          <Frame depth="0">org.eclipse.cdt.internal.core.index.ctagsindexer.CTagsFileReader.parse(CTagsFileReader.java(Compiled Code))</Frame>
          <Frame depth="1">org.eclipse.cdt.internal.core.index.ctagsindexer.CTagsIndexAll.execute(CTagsIndexAll.java:115)</Frame>
          <Frame depth="2">org.eclipse.cdt.internal.core.search.processing.JobManager.run(JobManager.java:466)</Frame>
          <Frame depth="3">java.lang.Thread.run(Thread.java:567)</Frame>
        </Frames>
      </Stacktrace>
      <Stacktrace timestamp="1437330570715">
        <Exception>java.lang.ClassCastException</Exception>
        <Reason>org.eclipse.core.internal.resources.Project</Reason>
        <Frames>
          <Frame depth="0">org.eclipse.cdt.internal.core.index.ctagsindexer.CTagsFileReader.parse(CTagsFileReader.java:85)</Frame>
          <Frame depth="1">org.eclipse.cdt.internal.core.index.ctagsindexer.CTagsIndexAll.execute(CTagsIndexAll.java:115)</Frame>
          <Frame depth="2">org.eclipse.cdt.internal.core.search.processing.JobManager.run(JobManager.java:466)</Frame>
          <Frame depth="3">java.lang.Thread.run(Thread.java:534)</Frame>
        </Frames>
      </Stacktrace>
      <Stacktrace timestamp="1437330570715">
        <Exception>java.lang.ClassCastException</Exception>
        <Reason>org.eclipse.cdt.internal.core.dom.parser.cpp.CPPASTQualifiedName</Reason>
        <Frames>
          <Frame depth="0">org.eclipse.cdt.internal.core.dom.parser.cpp.CPPFunctionTemplate.takesVarArgs(CPPFunctionTemplate.java:369)</Frame>
          <Frame depth="1">org.eclipse.cdt.internal.core.index.domsourceindexer.IndexVisitorUtil.getParameters(IndexVisitorUtil.java:231)</Frame>
          <Frame depth="2">org.eclipse.cdt.internal.core.index.domsourceindexer.CPPGenerateIndexVisitor.processNameBinding(CPPGenerateIndexVisitor.java:316)</Frame>
          <Frame depth="3">org.eclipse.cdt.internal.core.index.domsourceindexer.CPPGenerateIndexVisitor.processName(CPPGenerateIndexVisitor.java:169)</Frame>
          <Frame depth="4">org.eclipse.cdt.internal.core.index.domsourceindexer.CPPGenerateIndexVisitor.visit(CPPGenerateIndexVisitor.java:112)</Frame>
          <Frame depth="5">org.eclipse.cdt.internal.core.dom.parser.cpp.CPPASTName.accept(CPPASTName.java:90)</Frame>
          <Frame depth="6">org.eclipse.cdt.internal.core.dom.parser.cpp.CPPASTQualifiedName.accept(CPPASTQualifiedName.java:175)</Frame>
          <Frame depth="7">org.eclipse.cdt.internal.core.dom.parser.cpp.CPPASTDeclarator.accept(CPPASTDeclarator.java:126)</Frame>
          <Frame depth="8">org.eclipse.cdt.internal.core.dom.parser.cpp.CPPASTFunctionDefinition.accept(CPPASTFunctionDefinition.java:92)</Frame>
          <Frame depth="9">org.eclipse.cdt.internal.core.dom.parser.cpp.CPPASTTemplateDeclaration.accept(CPPASTTemplateDeclaration.java:95)</Frame>
          <Frame depth="10">org.eclipse.cdt.internal.core.dom.parser.cpp.CPPASTNamespaceDefinition.accept(CPPASTNamespaceDefinition.java:87)</Frame>
          <Frame depth="11">org.eclipse.cdt.internal.core.dom.parser.cpp.CPPASTNamespaceDefinition.accept(CPPASTNamespaceDefinition.java:87)</Frame>
          <Frame depth="12">org.eclipse.cdt.internal.core.dom.parser.cpp.CPPASTTranslationUnit.accept(CPPASTTranslationUnit.java:520)</Frame>
          <Frame depth="13">org.eclipse.cdt.internal.core.index.domsourceindexer.DOMSourceIndexerRunner.indexFile(DOMSourceIndexerRunner.java:133)</Frame>
          <Frame depth="14">org.eclipse.cdt.internal.core.index.domsourceindexer.AbstractIndexerRunner.index(AbstractIndexerRunner.java:76)</Frame>
          <Frame depth="15">org.eclipse.cdt.internal.core.index.cindexstorage.Index.add(Index.java:110)</Frame>
          <Frame depth="16">org.eclipse.cdt.internal.core.index.domsourceindexer.DOMAddCompilationUnitToIndex.indexDocument(DOMAddCompilationUnitToIndex.java:29)</Frame>
          <Frame depth="17">org.eclipse.cdt.internal.core.index.domsourceindexer.DOMAddFileToIndex.execute(DOMAddFileToIndex.java:60)</Frame>
          <Frame depth="18">org.eclipse.cdt.internal.core.search.processing.JobManager.run(JobManager.java:466)</Frame>
          <Frame depth="19">java.lang.Thread.run(Thread.java:534)</Frame>
        </Frames>
      </Stacktrace>
      <Stacktrace timestamp="1437330570715">
        <Exception>java.lang.IllegalArgumentException</Exception>
        <Reason>:</Reason>
        <Frames>
          <Frame depth="0">org.eclipse.core.internal.runtime.Assert.isLegal(Assert.java(InlinedCompiled Code))</Frame>
          <Frame depth="1">org.eclipse.core.internal.runtime.Assert.isLegal(Assert.java(InlinedCompiled Code))</Frame>
          <Frame depth="2">org.eclipse.core.runtime.Path.removeFirstSegments(Path.java(Compiled Code))</Frame>
          <Frame depth="3">org.eclipse.cdt.make.internal.core.scannerconfig.gnu.ScannerInfoConsoleParserUtility.translateRelativePaths(ScannerInfoConsoleParserUtility.java:219)</Frame>
          <Frame depth="4">org.eclipse.cdt.make.internal.core.scannerconfig.gnu.GCCScannerInfoConsoleParser.processSingleLine(GCCScannerInfoConsoleParser.java:138)</Frame>
          <Frame depth="5">org.eclipse.cdt.make.internal.core.scannerconfig.gnu.AbstractGCCBOPConsoleParser.processLine(AbstractGCCBOPConsoleParser.java:118)</Frame>
          <Frame depth="6">org.eclipse.cdt.internal.core.ConsoleOutputSniffer.processLine(ConsoleOutputSniffer.java:178)</Frame>
        </Frames>
      </Stacktrace>
    </Stacktraces>
    <SourceCodeRegions amount="0" />
    <Enumerations amount="0" />
    <bug_status amount="RESOLVED" />
    <resolution amount="FIXED" />
    <WithStack>I will attach a tar-file with some of our base classes. It also includes a 
large number of files from boost.org. If you remove the library Basic/Boost, 
everything works fine, but when you include it the (full) indexer will crash 
Eclipse with a java-core. When running with the CTags indexer you get the 
following stack:
java.lang.ClassCastException: org.eclipse.core.internal.resources.Project
        at 
org.eclipse.cdt.internal.core.index.ctagsindexer.CTagsFileReader.parse
(CTagsFileReader.java(Compiled Code))
        at 
org.eclipse.cdt.internal.core.index.ctagsindexer.CTagsIndexAll.execute
(CTagsIndexAll.java:115)
        at org.eclipse.cdt.internal.core.search.processing.JobManager.run
(JobManager.java:466)
        at java.lang.Thread.run(Thread.java:567)
Created attachment 26398
Code producing the crash - part 1

zip:ed tar file created with gtar cvfz
Created attachment 26399
Code producing the crash - part 2
I've found a workaround... By setting an exclusion filter on the source code 
(under C/C++ Project Paths, tab "Source") that excludes 
Optimization/Basic/Boost/boost/** the indexer will never try to index the code 
from boost.org, and the crash is avoided.

However, the original problem is of course there... During my experimenting it 
seems that the indexer always crashes when working with variant.hpp and 
variant/**.

Btw, my java -version says:
java version "1.4.2"
Java(TM) 2 Runtime Environment, Standard Edition (build 1.4.2)
Classic VM (build 1.4.2, J2RE 1.4.2 IBM build cxia321420-20040626 (JIT enabled: 
jitc))

What do you mean by "crash Eclipse"?  I'm assuming that you mean that Eclipse 
freezes or closes.  I can't reproduce this in Windows but I'll give Linux/GTK a 
try.

I get a ClassCastException with the CTags indexer that seems to halt the CTags 
indexer and prevents anything from going into the index.
java.lang.ClassCastException: org.eclipse.core.internal.resources.Project
	at 
org.eclipse.cdt.internal.core.index.ctagsindexer.CTagsFileReader.parse
(CTagsFileReader.java:85)
	at 
org.eclipse.cdt.internal.core.index.ctagsindexer.CTagsIndexAll.execute
(CTagsIndexAll.java:115)
	at org.eclipse.cdt.internal.core.search.processing.JobManager.run
(JobManager.java:466)
	at java.lang.Thread.run(Thread.java:534)

I see several ClassCastExceptions with the boost source code with the full 
indexer (but no crash):
java.lang.ClassCastException: 
org.eclipse.cdt.internal.core.dom.parser.cpp.CPPASTQualifiedName
	at 
org.eclipse.cdt.internal.core.dom.parser.cpp.CPPFunctionTemplate.takesVarArgs
(CPPFunctionTemplate.java:369)
	at 
org.eclipse.cdt.internal.core.index.domsourceindexer.IndexVisitorUtil.getParamet
ers(IndexVisitorUtil.java:231)
	at 
org.eclipse.cdt.internal.core.index.domsourceindexer.CPPGenerateIndexVisitor.pro
cessNameBinding(CPPGenerateIndexVisitor.java:316)
	at 
org.eclipse.cdt.internal.core.index.domsourceindexer.CPPGenerateIndexVisitor.pro
cessName(CPPGenerateIndexVisitor.java:169)
	at 
org.eclipse.cdt.internal.core.index.domsourceindexer.CPPGenerateIndexVisitor.vis
it(CPPGenerateIndexVisitor.java:112)
	at org.eclipse.cdt.internal.core.dom.parser.cpp.CPPASTName.accept
(CPPASTName.java:90)
	at 
org.eclipse.cdt.internal.core.dom.parser.cpp.CPPASTQualifiedName.accept
(CPPASTQualifiedName.java:175)
	at org.eclipse.cdt.internal.core.dom.parser.cpp.CPPASTDeclarator.accept
(CPPASTDeclarator.java:126)
	at 
org.eclipse.cdt.internal.core.dom.parser.cpp.CPPASTFunctionDefinition.accept
(CPPASTFunctionDefinition.java:92)
	at 
org.eclipse.cdt.internal.core.dom.parser.cpp.CPPASTTemplateDeclaration.accept
(CPPASTTemplateDeclaration.java:95)
	at 
org.eclipse.cdt.internal.core.dom.parser.cpp.CPPASTNamespaceDefinition.accept
(CPPASTNamespaceDefinition.java:87)
	at 
org.eclipse.cdt.internal.core.dom.parser.cpp.CPPASTNamespaceDefinition.accept
(CPPASTNamespaceDefinition.java:87)
	at 
org.eclipse.cdt.internal.core.dom.parser.cpp.CPPASTTranslationUnit.accept
(CPPASTTranslationUnit.java:520)
	at 
org.eclipse.cdt.internal.core.index.domsourceindexer.DOMSourceIndexerRunner.inde
xFile(DOMSourceIndexerRunner.java:133)
	at 
org.eclipse.cdt.internal.core.index.domsourceindexer.AbstractIndexerRunner.index
(AbstractIndexerRunner.java:76)
	at org.eclipse.cdt.internal.core.index.cindexstorage.Index.add
(Index.java:110)
	at 
org.eclipse.cdt.internal.core.index.domsourceindexer.DOMAddCompilationUnitToInde
x.indexDocument(DOMAddCompilationUnitToIndex.java:29)
	at 
org.eclipse.cdt.internal.core.index.domsourceindexer.DOMAddFileToIndex.execute
(DOMAddFileToIndex.java:60)
	at org.eclipse.cdt.internal.core.search.processing.JobManager.run
(JobManager.java:466)
	at java.lang.Thread.run(Thread.java:534)
Try running Eclipse with more virtual machine memory:
./eclipse -vmargs -Xmx512M

This should fix your problem with the full indexer.  It's because you are 
working with such a large project that you need to have more memory reserved 
for the virtual machine than default.


Created attachment 26418
bandaid for this PR (for CTags)

I'm not sure why the fileName is "" and this patch is probably just a bandaid
to the problem.  When applied, the CTags index for the attached project goes
from 0 IEntryResults and 0 files indexed to 55350 IEntryResults and 2862 files
indexed with this patch for CTags.
It also fixes the ClassCastException.
Sorry, increasing the memory does not help for me (I've tried 1024M as well). 
The full indexer still crashes (again the last file mentioned is variant.hh). 
By "crashing" I mean that I get the following:
Unrecoverable Stack Overflow: addr=b7351ddf, ee=b20aed10, er=b21e2b00
JVMDG217: Dump Handler is Processing a Signal - Please Wait.
JVMDG303: JVM Requesting Java core file
JVMDG304: Java core file written 
to /users/liden/javacore.20050825.093552.11117.txt
JVMDG215: Dump Handler has Processed Exception Signal 11.

Do you want the core file?

Sometimes I also get a stack that starts with:
java.lang.IllegalArgumentException:
        at
org.eclipse.core.internal.runtime.Assert.isLegal(Assert.java(Inlined
Compiled Code))
        at
org.eclipse.core.internal.runtime.Assert.isLegal(Assert.java(Inlined
Compiled Code))
        at
org.eclipse.core.runtime.Path.removeFirstSegments(Path.java(Compiled Code))
        at
org.eclipse.cdt.make.internal.core.scannerconfig.gnu.ScannerInfoConsoleParse
rUtility.translateRelativePaths
(ScannerInfoConsoleParserUtility.java:219)
        at
org.eclipse.cdt.make.internal.core.scannerconfig.gnu.GCCScannerInfoConsolePa
rser.processSingleLine(GCCScannerInfoConsoleParser.java:138)
        at
org.eclipse.cdt.make.internal.core.scannerconfig.gnu.AbstractGCCBOPConsolePa
rser.processLine(AbstractGCCBOPConsoleParser.java:118)
        at
org.eclipse.cdt.internal.core.ConsoleOutputSniffer.processLine(ConsoleOutput
Sniffer.java:178)
...

(Now I will try the CTags bandaid..)


I gave up regarding the bandaid, since it requires me to get the source code, 
patch and rebuild the appropriate CDT parts - too much work for me...

For us this is a rather serious problem - hoping to hear more from you soon!
I have started looking at this and have a couple of questions. First, what is 
part1 and what is part2 in the attachments. I tried running ctags on part1 and 
had no problem. Am I doing something wrong?
I had to upload all the code in two parts, since bugzilla has a limit on 2Mb 
for attachments.

(If you were able to run on part1, that might be another indication on 
something fishy about variant.hh (which is in part2)).
I do get an StackOverflowError using the FullIndexer in 4.0, the FastIndexer works fine.
I'll try to fix this.
That's nice..
But due to this bug and the lack of support for local CVS I gave up on Eclipse and CDT long ago - now using good old Xemacs as the rest of the team..
Fixed in 4.0 &gt; 20070619.</WithStack>
    <WithOutStack>I will attach a tar-file with some of our base classes. It also includes a 
large number of files from boost.org. If you remove the library Basic/Boost, 
everything works fine, but when you include it the (full) indexer will crash 
Eclipse with a java-core. When running with the CTags indexer you get the 
following stack:
Created attachment 26398
Code producing the crash - part 1

zip:ed tar file created with gtar cvfz
Created attachment 26399
Code producing the crash - part 2
I've found a workaround... By setting an exclusion filter on the source code 
(under C/C++ Project Paths, tab "Source") that excludes 
Optimization/Basic/Boost/boost/** the indexer will never try to index the code 
from boost.org, and the crash is avoided.

However, the original problem is of course there... During my experimenting it 
seems that the indexer always crashes when working with variant.hpp and 
variant/**.

Btw, my java -version says:
java version "1.4.2"
Java(TM) 2 Runtime Environment, Standard Edition (build 1.4.2)
Classic VM (build 1.4.2, J2RE 1.4.2 IBM build cxia321420-20040626 (JIT enabled: 
jitc))

What do you mean by "crash Eclipse"?  I'm assuming that you mean that Eclipse 
freezes or closes.  I can't reproduce this in Windows but I'll give Linux/GTK a 
try.

I get a ClassCastException with the CTags indexer that seems to halt the CTags 
indexer and prevents anything from going into the index.

I see several ClassCastExceptions with the boost source code with the full 
indexer (but no crash):
Try running Eclipse with more virtual machine memory:
./eclipse -vmargs -Xmx512M

This should fix your problem with the full indexer.  It's because you are 
working with such a large project that you need to have more memory reserved 
for the virtual machine than default.


Created attachment 26418
bandaid for this PR (for CTags)

I'm not sure why the fileName is "" and this patch is probably just a bandaid
to the problem.  When applied, the CTags index for the attached project goes
from 0 IEntryResults and 0 files indexed to 55350 IEntryResults and 2862 files
indexed with this patch for CTags.
It also fixes the ClassCastException.
Sorry, increasing the memory does not help for me (I've tried 1024M as well). 
The full indexer still crashes (again the last file mentioned is variant.hh). 
By "crashing" I mean that I get the following:
Unrecoverable Stack Overflow: addr=b7351ddf, ee=b20aed10, er=b21e2b00
JVMDG217: Dump Handler is Processing a Signal - Please Wait.
JVMDG303: JVM Requesting Java core file
JVMDG304: Java core file written 
to /users/liden/javacore.20050825.093552.11117.txt
JVMDG215: Dump Handler has Processed Exception Signal 11.

Do you want the core file?

Sometimes I also get a stack that starts with:

...

(Now I will try the CTags bandaid..)


I gave up regarding the bandaid, since it requires me to get the source code, 
patch and rebuild the appropriate CDT parts - too much work for me...

For us this is a rather serious problem - hoping to hear more from you soon!
I have started looking at this and have a couple of questions. First, what is 
part1 and what is part2 in the attachments. I tried running ctags on part1 and 
had no problem. Am I doing something wrong?
I had to upload all the code in two parts, since bugzilla has a limit on 2Mb 
for attachments.

(If you were able to run on part1, that might be another indication on 
something fishy about variant.hh (which is in part2)).
I do get an StackOverflowError using the FullIndexer in 4.0, the FastIndexer works fine.
I'll try to fix this.
That's nice..
But due to this bug and the lack of support for local CVS I gave up on Eclipse and CDT long ago - now using good old Xemacs as the rest of the team..
Fixed in 4.0 &gt; 20070619.</WithOutStack>
  </Bug>
  <Bug>
    <BugId amount="107822" />
    <CreationDate amount="2005-08-24 05:16:00 -0400" />
    <DupId amount="129983" />
    <classification amount="Eclipse" />
    <Product amount="JDT" />
    <component amount="Core" />
    <Version amount="3.1" />
    <rep_platform amount="PC" />
    <op_sys amount="Windows XP" />
    <priority amount="P3" />
    <bug_severity amount="normal" />
    <Summery>Code Completion for Annotations needs at least one character</Summery>
    <Patches amount="0" />
    <Stacktraces amount="0" />
    <SourceCodeRegions amount="3">
      <source_code type="functioncall">
        <location start="93" end="111" />
        <code>String name();</code>
      </source_code>
      <source_code type="functioncall">
        <location start="112" end="142" />
        <code>String usage() default "";</code>
      </source_code>
      <source_code type="functioncall">
        <location start="143" end="175" />
        <code>String metaVar() default "";</code>
      </source_code>
    </SourceCodeRegions>
    <Enumerations amount="0" />
    <bug_status amount="RESOLVED" />
    <resolution amount="DUPLICATE" />
    <WithStack>I have an Annotation

@Retention(RUNTIME)
@Target({FIELD,METHOD})
public @interface Option {
    String name();
    String usage() default "";
    String metaVar() default "";
}

If I want to use this annotation, I have to type "@o" to get code completion.
Same for its arguments (n-name u-usage m-metachar). When using code completion
in the normal Java space I´ll get suggestions directly with Ctrl-Space.

So would expect to get a list of available annotations directly (or after "@")
and all available arguments inside the annotation.

First I thought here is no completion, but Bug 87987 sais it´s buildin. But not
correctly (IMHO) - you have to type the first character.
Sorry, I used Eclipse 3.1

Version: 3.1.0
Build id: I20050627-1435
This is a change that would need to be made to JDT core.

Agree that typing "@o" is more than should be required. Would prefer "@" though,
as the suggestions list would be very cluttered if we offered annotations in all
places they could be used. 
Defer post 3.2
Reopened


*** This bug has been marked as a duplicate of 129983 ***</WithStack>
    <WithOutStack>I have an Annotation

@Retention(RUNTIME)
@Target({FIELD,METHOD})
public @interface Option {
    String name();
    String usage() default "";
    String metaVar() default "";
}

If I want to use this annotation, I have to type "@o" to get code completion.
Same for its arguments (n-name u-usage m-metachar). When using code completion
in the normal Java space I´ll get suggestions directly with Ctrl-Space.

So would expect to get a list of available annotations directly (or after "@")
and all available arguments inside the annotation.

First I thought here is no completion, but Bug 87987 sais it´s buildin. But not
correctly (IMHO) - you have to type the first character.
Sorry, I used Eclipse 3.1

Version: 3.1.0
Build id: I20050627-1435
This is a change that would need to be made to JDT core.

Agree that typing "@o" is more than should be required. Would prefer "@" though,
as the suggestions list would be very cluttered if we offered annotations in all
places they could be used. 
Defer post 3.2
Reopened


*** This bug has been marked as a duplicate of 129983 ***</WithOutStack>
  </Bug>
  <Bug>
    <BugId amount="107823" />
    <CreationDate amount="2005-08-24 05:17:00 -0400" />
    <DupId amount="" />
    <classification amount="BIRT" />
    <Product amount="BIRT" />
    <component amount="Chart" />
    <Version amount="1.0.1" />
    <rep_platform amount="PC" />
    <op_sys amount="Windows XP" />
    <priority amount="P3" />
    <bug_severity amount="normal" />
    <Summery>Stock Chart can not get data in table or list</Summery>
    <Patches amount="0" />
    <Stacktraces amount="0" />
    <SourceCodeRegions amount="0" />
    <Enumerations amount="0" />
    <bug_status amount="CLOSED" />
    <resolution amount="WORKSFORME" />
    <WithStack>Insert a Stock Chart into a table or list. Bind data set to table or list but 
don't bind data set to the chart. The Chart can not get data whereas other 
types of Chart can do.
No problem in my machine.
fixed
fixed</WithStack>
    <WithOutStack>Insert a Stock Chart into a table or list. Bind data set to table or list but 
don't bind data set to the chart. The Chart can not get data whereas other 
types of Chart can do.
No problem in my machine.
fixed
fixed</WithOutStack>
  </Bug>
  <Bug>
    <BugId amount="107824" />
    <CreationDate amount="2005-08-24 05:26:00 -0400" />
    <DupId amount="" />
    <classification amount="Eclipse" />
    <Product amount="JDT" />
    <component amount="UI" />
    <Version amount="3.1" />
    <rep_platform amount="PC" />
    <op_sys amount="Windows XP" />
    <priority amount="P3" />
    <bug_severity amount="normal" />
    <Summery>[quick fix] Quick Fix for "annotation must define..."</Summery>
    <Patches amount="0" />
    <Stacktraces amount="0" />
    <SourceCodeRegions amount="3">
      <source_code type="functioncall">
        <location start="167" end="185" />
        <code>String name();</code>
      </source_code>
      <source_code type="functioncall">
        <location start="186" end="216" />
        <code>String usage() default "";</code>
      </source_code>
      <source_code type="functioncall">
        <location start="217" end="249" />
        <code>String metaVar() default "";</code>
      </source_code>
    </SourceCodeRegions>
    <Enumerations amount="0" />
    <bug_status amount="VERIFIED" />
    <resolution amount="FIXED" />
    <WithStack>Eclipse Version
---------------
Version: 3.1.0
Build id: I20050627-1435


Annotation
----------
@Retention(RUNTIME)
@Target({FIELD,METHOD})
public @interface Option {
    String name();
    String usage() default "";
    String metaVar() default "";
}


Java-Class
----------
...
@Option
String s;


That gives me an error "The annotation @Option must define the attribute name".
The QuickFix on @Option gives me only "Rename in file". Adding a '(name="")'
would more helpful.
JDT-Core defines this error. Assigning to core to see about creating a
corresponding quick-fix for it.
Quickfix is handled in JDT/UI.
Move to JDT/UI

added &gt; 20051212

There are still pending issues, e.g. with the default value. (bug 120352)
Verified quick fix is implemented and shows up correctly in I20051214-0010.</WithStack>
    <WithOutStack>Eclipse Version
---------------
Version: 3.1.0
Build id: I20050627-1435


Annotation
----------
@Retention(RUNTIME)
@Target({FIELD,METHOD})
public @interface Option {
    String name();
    String usage() default "";
    String metaVar() default "";
}


Java-Class
----------
...
@Option
String s;


That gives me an error "The annotation @Option must define the attribute name".
The QuickFix on @Option gives me only "Rename in file". Adding a '(name="")'
would more helpful.
JDT-Core defines this error. Assigning to core to see about creating a
corresponding quick-fix for it.
Quickfix is handled in JDT/UI.
Move to JDT/UI

added &gt; 20051212

There are still pending issues, e.g. with the default value. (bug 120352)
Verified quick fix is implemented and shows up correctly in I20051214-0010.</WithOutStack>
  </Bug>
  <Bug>
    <BugId amount="107825" />
    <CreationDate amount="2005-08-24 05:31:00 -0400" />
    <DupId amount="" />
    <classification amount="Tools" />
    <Product amount="AJDT" />
    <component amount="Doc" />
    <Version amount="1.2.0" />
    <rep_platform amount="PC" />
    <op_sys amount="Windows XP" />
    <priority amount="P3" />
    <bug_severity amount="normal" />
    <Summery>Eclipse 3.0: update doc to take into account the branch for AJDT 1.2</Summery>
    <Patches amount="0" />
    <Stacktraces amount="0" />
    <SourceCodeRegions amount="0" />
    <Enumerations amount="0" />
    <bug_status amount="RESOLVED" />
    <resolution amount="FIXED" />
    <WithStack>The info in the Help system &gt; AJDT User Guide &gt; Questions index &gt; How to setup a
development environment and possibly, where will I find the source for ajdt,
need to be updated in AJDT 1.2 to include the new instructions regarding the branch.
I can do this. AJDT 1.3 needs updates too.
Done.
For consistency, the latest version from the faq has been put into both releases.</WithStack>
    <WithOutStack>The info in the Help system &gt; AJDT User Guide &gt; Questions index &gt; How to setup a
development environment and possibly, where will I find the source for ajdt,
need to be updated in AJDT 1.2 to include the new instructions regarding the branch.
I can do this. AJDT 1.3 needs updates too.
Done.
For consistency, the latest version from the faq has been put into both releases.</WithOutStack>
  </Bug>
  <Bug>
    <BugId amount="107826" />
    <CreationDate amount="2005-08-24 06:10:00 -0400" />
    <DupId amount="" />
    <classification amount="Eclipse" />
    <Product amount="JDT" />
    <component amount="UI" />
    <Version amount="3.1" />
    <rep_platform amount="PC" />
    <op_sys amount="All" />
    <priority amount="P3" />
    <bug_severity amount="normal" />
    <Summery>Serial version quick fix improvements [quick fix]</Summery>
    <Patches amount="0" />
    <Stacktraces amount="0" />
    <SourceCodeRegions amount="0" />
    <Enumerations amount="1">
      <Enumeration lines="10">
        <Lines>
          <Line>- Do not put everything on the user class path</Line>
          <Line>- Use only the standard output for result and error messages</Line>
          <Line>- Remove waitFor()</Line>
          <Line>- Read from stream until -1</Line>
          <Line>I tried to run QuickFixTest, but during the first test</Line>
          <Line>(SerialVersionQuickFixTest#testAnonymousClass()), the runtime eclipse showed a</Line>
          <Line>progress monitor with message "Computing" serial version ID..." and "Starting</Line>
          <Line>virtual machine...", but with no apparent progress. A thread dump showed that</Line>
          <Line>the runtime was waiting in Win32Process.waitFor(), and not in a stream reader.</Line>
          <Line>Had to kill the runtime and restart the tests.</Line>
        </Lines>
      </Enumeration>
    </Enumerations>
    <bug_status amount="RESOLVED" />
    <resolution amount="FIXED" />
    <WithStack>- Do not put everything on the user class path
- Use only the standard output for result and error messages
- Remove waitFor()
- Read from stream until -1
I tried to run QuickFixTest, but during the first test
(SerialVersionQuickFixTest#testAnonymousClass()), the runtime eclipse showed a
progress monitor with message "Computing" serial version ID..." and "Starting
virtual machine...", but with no apparent progress. A thread dump showed that
the runtime was waiting in Win32Process.waitFor(), and not in a stream reader.
Had to kill the runtime and restart the tests.

I cannot reproduce reliably (but I could reproduce occasionally).

Thread [ModalContext] (Suspended)
	Win32Process.waitFor() line: not available [native method]
	SerialVersionLaunchConfigurationDelegate$SerialVersionRunner.run(VMRunnerConfiguration,
ILaunch, IProgressMonitor) line: 188
	SerialVersionLaunchConfigurationDelegate.launch(ILaunchConfiguration, String,
ILaunch, IProgressMonitor) line: 341
	LaunchConfiguration.launch(String, IProgressMonitor, boolean, boolean) line: 590
	SerialVersionHashProposal.computeDefaultExpression(IProgressMonitor) line: 250
	SerialVersionHashProposal$3.run(IProgressMonitor) line: 184
	ModalContext$ModalContextThread.run() line: 113

Fixed in HEAD &gt; 20060111

Changed implementation to use temp file. Case described in comment 1 cannot happen anymore, since the second VM does not try to write to buffered System.out streams anymore, which resulted in the mentioned deadlock.

Order of bootclasspath is not respected as well</WithStack>
    <WithOutStack>- Do not put everything on the user class path
- Use only the standard output for result and error messages
- Remove waitFor()
- Read from stream until -1
I tried to run QuickFixTest, but during the first test
(SerialVersionQuickFixTest#testAnonymousClass()), the runtime eclipse showed a
progress monitor with message "Computing" serial version ID..." and "Starting
virtual machine...", but with no apparent progress. A thread dump showed that
the runtime was waiting in Win32Process.waitFor(), and not in a stream reader.
Had to kill the runtime and restart the tests.

I cannot reproduce reliably (but I could reproduce occasionally).

Thread [ModalContext] (Suspended)
	Win32Process.waitFor() line: not available [native method]
	SerialVersionLaunchConfigurationDelegate$SerialVersionRunner.run(VMRunnerConfiguration,
ILaunch, IProgressMonitor) line: 188
	SerialVersionLaunchConfigurationDelegate.launch(ILaunchConfiguration, String,
ILaunch, IProgressMonitor) line: 341
	LaunchConfiguration.launch(String, IProgressMonitor, boolean, boolean) line: 590
	SerialVersionHashProposal.computeDefaultExpression(IProgressMonitor) line: 250
	SerialVersionHashProposal$3.run(IProgressMonitor) line: 184
	ModalContext$ModalContextThread.run() line: 113

Fixed in HEAD &gt; 20060111

Changed implementation to use temp file. Case described in comment 1 cannot happen anymore, since the second VM does not try to write to buffered System.out streams anymore, which resulted in the mentioned deadlock.

Order of bootclasspath is not respected as well</WithOutStack>
  </Bug>
  <Bug>
    <BugId amount="107827" />
    <CreationDate amount="2005-08-24 06:22:00 -0400" />
    <DupId amount="" />
    <classification amount="Eclipse" />
    <Product amount="JDT" />
    <component amount="UI" />
    <Version amount="3.1" />
    <rep_platform amount="PC" />
    <op_sys amount="All" />
    <priority amount="P3" />
    <bug_severity amount="normal" />
    <Summery>[build path] Edit Library dialog error status stays after wrong selection</Summery>
    <Patches amount="0" />
    <Stacktraces amount="0" />
    <SourceCodeRegions amount="0" />
    <Enumerations amount="1">
      <Enumeration lines="5">
        <Lines>
          <Line>- Create a new user library and put it on the build path as container</Line>
          <Line>- Make sure this is the only user library</Line>
          <Line>- Invoke "Configure..." from the Package Explorer context menu on the container</Line>
          <Line>- Edit Library dialog appears</Line>
          <Line>- Try to unselect the user library</Line>
        </Lines>
      </Enumeration>
    </Enumerations>
    <bug_status amount="RESOLVED" />
    <resolution amount="FIXED" />
    <WithStack>I20050818-0800

Steps to reproduce:
- Create a new user library and put it on the build path as container
- Make sure this is the only user library
- Invoke "Configure..." from the Package Explorer context menu on the container
- Edit Library dialog appears
- Try to unselect the user library

-&gt; Error status appears, but library is still selected
-&gt; Error status only disappears if the dialog is cancelled and redisplayed or 
the "User Libraries..." button is pressed
fixed &gt; 20060103</WithStack>
    <WithOutStack>I20050818-0800

Steps to reproduce:
- Create a new user library and put it on the build path as container
- Make sure this is the only user library
- Invoke "Configure..." from the Package Explorer context menu on the container
- Edit Library dialog appears
- Try to unselect the user library

-&gt; Error status appears, but library is still selected
-&gt; Error status only disappears if the dialog is cancelled and redisplayed or 
the "User Libraries..." button is pressed
fixed &gt; 20060103</WithOutStack>
  </Bug>
  <Bug>
    <BugId amount="107828" />
    <CreationDate amount="2005-08-24 06:27:00 -0400" />
    <DupId amount="101966" />
    <classification amount="Eclipse" />
    <Product amount="PDE" />
    <component amount="Build" />
    <Version amount="3.1" />
    <rep_platform amount="PC" />
    <op_sys amount="Linux" />
    <priority amount="P3" />
    <bug_severity amount="major" />
    <Summery>export of plugin fail because of missing eclipse libs</Summery>
    <Patches amount="0" />
    <Stacktraces amount="0" />
    <SourceCodeRegions amount="3">
      <source_code type="import">
        <location start="228" end="267" />
        <code>import org.eclipse.ui.plugin.*;</code>
      </source_code>
      <source_code type="import">
        <location start="431" end="489" />
        <code>import org.eclipse.jface.resource.ImageDescriptor;</code>
      </source_code>
      <source_code type="functioncall">
        <location start="654" end="682" />
        <code>return getText(obj);</code>
      </source_code>
    </SourceCodeRegions>
    <Enumerations amount="1">
      <Enumeration lines="12">
        <Lines>
          <Line>1. ERROR in .../workspace2/Bug/source/src/bug/BugPlugin.java</Line>
          <Line>(at line 3)</Line>
          <Line />
          <Line>^^^^^^^^^^^^^^^^^^^^^</Line>
          <Line>The import org.eclipse.ui.plugin cannot be resolved</Line>
          <Line>2. ERROR in .../workspace2/Bug/source/src/bug/BugPlugin.java</Line>
          <Line>(at line 4)</Line>
          <Line />
          <Line>^^^^^^^^^^^^^^^^^</Line>
          <Line>The import org.eclipse.jface cannot be resolved</Line>
          <Line>22. ERROR in .../workspace2/Bug/source/src/bug/views/SampleView.java</Line>
          <Line>(at line 60)</Line>
        </Lines>
      </Enumeration>
    </Enumerations>
    <bug_status amount="RESOLVED" />
    <resolution amount="DUPLICATE" />
    <WithStack>I created the sample view from the examples in the new plugin project wizard and 
tried to export it as a plugin. A error log was dumped with lines like

1. ERROR in .../workspace2/Bug/source/src/bug/BugPlugin.java
 (at line 3)
        import org.eclipse.ui.plugin.*;
               ^^^^^^^^^^^^^^^^^^^^^
The import org.eclipse.ui.plugin cannot be resolved
2. ERROR in .../workspace2/Bug/source/src/bug/BugPlugin.java
 (at line 4)
        import org.eclipse.jface.resource.ImageDescriptor;
               ^^^^^^^^^^^^^^^^^
The import org.eclipse.jface cannot be resolved
22. ERROR in .../workspace2/Bug/source/src/bug/views/SampleView.java
 (at line 60)
        return getText(obj);
               ^^^^^^^
The method getText(Object) is undefined for the type SampleView.ViewLabelProvide
r

and several other similar errors. The workspace log remains silent in this 
process. Within the IDE no errors are indicated and using the plugin is no 
problem. When I switch to a fresh workspace the export succeeds.

The only "unusual" I did was changing the target platform from linux to windows 
as my rcp application is for windows. The export of this application yields the 
same "bla cannot be resolved" errors. And this export indeed succeded several 
times in the past but stopped working all of the sudden.

Where in the workspace is the data located which seems to be messed up here? 
Knowing this I can restore only this portion of the workspace and do not need to 
recreate it every time from scratch.
Do you have UI and JFace loaded as linked project in your workspace?
(In reply to comment #1)
yes, I imported every eclipse plugin as project with linked content and put them 
into a working set. But this setup worked for me in the past.

Hmm, trying to switch to another workspace results in new errors which might be 
related. I checked correctly configured projects into cvs, switched the 
workspace and checked them out again. Now eclipse cant resolve the packages of 
one of my plugins which are referenced from a second one and it doesnt even 
compile in the IDE. Very strange. I try now an old windows trick and reinstall 
eclipse...



*** This bug has been marked as a duplicate of 101966 ***</WithStack>
    <WithOutStack>I created the sample view from the examples in the new plugin project wizard and 
tried to export it as a plugin. A error log was dumped with lines like

1. ERROR in .../workspace2/Bug/source/src/bug/BugPlugin.java
 (at line 3)
        import org.eclipse.ui.plugin.*;
               ^^^^^^^^^^^^^^^^^^^^^
The import org.eclipse.ui.plugin cannot be resolved
2. ERROR in .../workspace2/Bug/source/src/bug/BugPlugin.java
 (at line 4)
        import org.eclipse.jface.resource.ImageDescriptor;
               ^^^^^^^^^^^^^^^^^
The import org.eclipse.jface cannot be resolved
22. ERROR in .../workspace2/Bug/source/src/bug/views/SampleView.java
 (at line 60)
        return getText(obj);
               ^^^^^^^
The method getText(Object) is undefined for the type SampleView.ViewLabelProvide
r

and several other similar errors. The workspace log remains silent in this 
process. Within the IDE no errors are indicated and using the plugin is no 
problem. When I switch to a fresh workspace the export succeeds.

The only "unusual" I did was changing the target platform from linux to windows 
as my rcp application is for windows. The export of this application yields the 
same "bla cannot be resolved" errors. And this export indeed succeded several 
times in the past but stopped working all of the sudden.

Where in the workspace is the data located which seems to be messed up here? 
Knowing this I can restore only this portion of the workspace and do not need to 
recreate it every time from scratch.
Do you have UI and JFace loaded as linked project in your workspace?
(In reply to comment #1)
yes, I imported every eclipse plugin as project with linked content and put them 
into a working set. But this setup worked for me in the past.

Hmm, trying to switch to another workspace results in new errors which might be 
related. I checked correctly configured projects into cvs, switched the 
workspace and checked them out again. Now eclipse cant resolve the packages of 
one of my plugins which are referenced from a second one and it doesnt even 
compile in the IDE. Very strange. I try now an old windows trick and reinstall 
eclipse...



*** This bug has been marked as a duplicate of 101966 ***</WithOutStack>
  </Bug>
  <Bug>
    <BugId amount="107829" />
    <CreationDate amount="2005-08-24 07:23:00 -0400" />
    <DupId amount="" />
    <classification amount="Eclipse" />
    <Product amount="JDT" />
    <component amount="Debug" />
    <Version amount="3.2" />
    <rep_platform amount="PC" />
    <op_sys amount="Windows XP" />
    <priority amount="P3" />
    <bug_severity amount="normal" />
    <Summery>OpenBreakpointMarkerAction fails</Summery>
    <Patches amount="0" />
    <Stacktraces amount="1">
      <Stacktrace timestamp="1437330570731">
        <Exception>org.eclipse.ui.internal.misc.AssertionFailedException</Exception>
        <Reason>null argument;</Reason>
        <Frames>
          <Frame depth="0">org.eclipse.ui.internal.misc.Assert.isNotNull(Assert.java:81)</Frame>
          <Frame depth="1">org.eclipse.ui.internal.misc.Assert.isNotNull(Assert.java:68)</Frame>
          <Frame depth="2">org.eclipse.ui.internal.EditorSite.&lt;init&gt;(EditorSite.java:47)</Frame>
          <Frame depth="3">org.eclipse.ui.internal.EditorReference.createPart(EditorReference.java:389)</Frame>
          <Frame depth="4">org.eclipse.ui.internal.WorkbenchPartReference.getPart(WorkbenchPartReference.java:552)</Frame>
          <Frame depth="5">org.eclipse.ui.internal.EditorReference.getEditor(EditorReference.java:204)</Frame>
          <Frame depth="6">org.eclipse.ui.internal.EditorManager.findEditor(EditorManager.java:477)</Frame>
          <Frame depth="7">org.eclipse.ui.internal.EditorManager.findEditor(EditorManager.java:402)</Frame>
          <Frame depth="8">org.eclipse.ui.internal.WorkbenchPage.busyOpenEditorBatched(WorkbenchPage.java:2274)</Frame>
          <Frame depth="9">org.eclipse.ui.internal.WorkbenchPage.busyOpenEditor(WorkbenchPage.java:2258)</Frame>
          <Frame depth="10">org.eclipse.ui.internal.WorkbenchPage.access$9(WorkbenchPage.java:2250)</Frame>
          <Frame depth="11">org.eclipse.ui.internal.WorkbenchPage$9.run(WorkbenchPage.java:2236)</Frame>
          <Frame depth="12">org.eclipse.swt.custom.BusyIndicator.showWhile(BusyIndicator.java:69)</Frame>
          <Frame depth="13">org.eclipse.ui.internal.WorkbenchPage.openEditor(WorkbenchPage.java:2231)</Frame>
          <Frame depth="14">org.eclipse.ui.internal.WorkbenchPage.openEditor(WorkbenchPage.java:2204)</Frame>
          <Frame depth="15">org.eclipse.debug.internal.ui.actions.OpenBreakpointMarkerAction.run(OpenBreakpointMarkerAction.java:69)</Frame>
          <Frame depth="16">org.eclipse.debug.ui.AbstractDebugView.doubleClick(AbstractDebugView.java:725)</Frame>
          <Frame depth="17">org.eclipse.debug.internal.ui.views.breakpoints.BreakpointsView.doubleClick(BreakpointsView.java:640)</Frame>
          <Frame depth="18">org.eclipse.jface.viewers.StructuredViewer$1.run(StructuredViewer.java:720)</Frame>
          <Frame depth="19">org.eclipse.core.internal.runtime.InternalPlatform.run(InternalPlatform.java:1044)</Frame>
          <Frame depth="20">org.eclipse.core.runtime.Platform.run(Platform.java:783)</Frame>
          <Frame depth="21">org.eclipse.ui.internal.JFaceUtil$1.run(JFaceUtil.java:44)</Frame>
          <Frame depth="22">org.eclipse.jface.util.SafeRunnable.run(SafeRunnable.java:148)</Frame>
          <Frame depth="23">org.eclipse.jface.viewers.StructuredViewer.fireDoubleClick(StructuredViewer.java:718)</Frame>
          <Frame depth="24">org.eclipse.jface.viewers.StructuredViewer.handleDoubleSelect(StructuredViewer.java:950)</Frame>
          <Frame depth="25">org.eclipse.jface.viewers.CheckboxTreeViewer.handleDoubleSelect(CheckboxTreeViewer.java:247)</Frame>
          <Frame depth="26">org.eclipse.jface.viewers.StructuredViewer$4.widgetDefaultSelected(StructuredViewer.java:1057)</Frame>
          <Frame depth="27">org.eclipse.jface.util.OpenStrategy.fireDefaultSelectionEvent(OpenStrategy.java:219)</Frame>
          <Frame depth="28">org.eclipse.jface.util.OpenStrategy.access$0(OpenStrategy.java:216)</Frame>
          <Frame depth="29">org.eclipse.jface.util.OpenStrategy$1.handleEvent(OpenStrategy.java:275)</Frame>
          <Frame depth="30">org.eclipse.swt.widgets.EventTable.sendEvent(EventTable.java:66)</Frame>
          <Frame depth="31">org.eclipse.swt.widgets.Widget.sendEvent(Widget.java:868)</Frame>
          <Frame depth="32">org.eclipse.swt.widgets.Display.runDeferredEvents(Display.java:3137)</Frame>
          <Frame depth="33">org.eclipse.swt.widgets.Display.readAndDispatch(Display.java:2765)</Frame>
          <Frame depth="34">org.eclipse.ui.internal.Workbench.runEventLoop(Workbench.java:1734)</Frame>
          <Frame depth="35">org.eclipse.ui.internal.Workbench.runUI(Workbench.java:1698)</Frame>
          <Frame depth="36">org.eclipse.ui.internal.Workbench.createAndRunWorkbench(Workbench.java:367)</Frame>
          <Frame depth="37">org.eclipse.ui.PlatformUI.createAndRunWorkbench(PlatformUI.java:143)</Frame>
          <Frame depth="38">org.eclipse.ui.internal.ide.IDEApplication.run(IDEApplication.java:103)</Frame>
          <Frame depth="39">org.eclipse.core.internal.runtime.PlatformActivator$1.run(PlatformActivator.java:226)</Frame>
          <Frame depth="40">org.eclipse.core.runtime.adaptor.EclipseStarter.run(EclipseStarter.java:376)</Frame>
          <Frame depth="41">org.eclipse.core.runtime.adaptor.EclipseStarter.run(EclipseStarter.java:163)</Frame>
          <Frame depth="42">sun.reflect.NativeMethodAccessorImpl.invoke0(Native Method)</Frame>
          <Frame depth="43">sun.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:39)</Frame>
          <Frame depth="44">sun.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:25)</Frame>
          <Frame depth="45">java.lang.reflect.Method.invoke(Method.java:585)</Frame>
          <Frame depth="46">org.eclipse.core.launcher.Main.invokeFramework(Main.java:338)</Frame>
          <Frame depth="47">org.eclipse.core.launcher.Main.basicRun(Main.java:282)</Frame>
          <Frame depth="48">org.eclipse.core.launcher.Main.run(Main.java:977)</Frame>
          <Frame depth="49">org.eclipse.core.launcher.Main.main(Main.java:952)</Frame>
        </Frames>
      </Stacktrace>
    </Stacktraces>
    <SourceCodeRegions amount="0" />
    <Enumerations amount="0" />
    <bug_status amount="RESOLVED" />
    <resolution amount="WORKSFORME" />
    <WithStack>When I double-click on a certain breakpoint in the Breakpoints View, I get the
following error. The breakpoint in question has this signature and is disabled:

JDOImplHelper$Meta [line: 516] [conditional] - Meta(String[], Class[], byte[],
Class, PersistenceCapable)

The code in question is coming from a jar that has a source attachment, although
I'm not sure whether I had set the breakpoint in the .java or the .class file.

The resulting error is:
Error 2005-08-24 13:10:09.588 Problems occurred when invoking code from plug-in:
"org.eclipse.jface".
org.eclipse.ui.internal.misc.AssertionFailedException: null argument;
	at org.eclipse.ui.internal.misc.Assert.isNotNull(Assert.java:81)
	at org.eclipse.ui.internal.misc.Assert.isNotNull(Assert.java:68)
	at org.eclipse.ui.internal.EditorSite.&lt;init&gt;(EditorSite.java:47)
	at org.eclipse.ui.internal.EditorReference.createPart(EditorReference.java:389)
	at
org.eclipse.ui.internal.WorkbenchPartReference.getPart(WorkbenchPartReference.java:552)
	at org.eclipse.ui.internal.EditorReference.getEditor(EditorReference.java:204)
	at org.eclipse.ui.internal.EditorManager.findEditor(EditorManager.java:477)
	at org.eclipse.ui.internal.EditorManager.findEditor(EditorManager.java:402)
	at
org.eclipse.ui.internal.WorkbenchPage.busyOpenEditorBatched(WorkbenchPage.java:2274)
	at org.eclipse.ui.internal.WorkbenchPage.busyOpenEditor(WorkbenchPage.java:2258)
	at org.eclipse.ui.internal.WorkbenchPage.access$9(WorkbenchPage.java:2250)
	at org.eclipse.ui.internal.WorkbenchPage$9.run(WorkbenchPage.java:2236)
	at org.eclipse.swt.custom.BusyIndicator.showWhile(BusyIndicator.java:69)
	at org.eclipse.ui.internal.WorkbenchPage.openEditor(WorkbenchPage.java:2231)
	at org.eclipse.ui.internal.WorkbenchPage.openEditor(WorkbenchPage.java:2204)
	at
org.eclipse.debug.internal.ui.actions.OpenBreakpointMarkerAction.run(OpenBreakpointMarkerAction.java:69)
	at org.eclipse.debug.ui.AbstractDebugView.doubleClick(AbstractDebugView.java:725)
	at
org.eclipse.debug.internal.ui.views.breakpoints.BreakpointsView.doubleClick(BreakpointsView.java:640)
	at org.eclipse.jface.viewers.StructuredViewer$1.run(StructuredViewer.java:720)
	at
org.eclipse.core.internal.runtime.InternalPlatform.run(InternalPlatform.java:1044)
	at org.eclipse.core.runtime.Platform.run(Platform.java:783)
	at org.eclipse.ui.internal.JFaceUtil$1.run(JFaceUtil.java:44)
	at org.eclipse.jface.util.SafeRunnable.run(SafeRunnable.java:148)
	at
org.eclipse.jface.viewers.StructuredViewer.fireDoubleClick(StructuredViewer.java:718)
	at
org.eclipse.jface.viewers.StructuredViewer.handleDoubleSelect(StructuredViewer.java:950)
	at
org.eclipse.jface.viewers.CheckboxTreeViewer.handleDoubleSelect(CheckboxTreeViewer.java:247)
	at
org.eclipse.jface.viewers.StructuredViewer$4.widgetDefaultSelected(StructuredViewer.java:1057)
	at
org.eclipse.jface.util.OpenStrategy.fireDefaultSelectionEvent(OpenStrategy.java:219)
	at org.eclipse.jface.util.OpenStrategy.access$0(OpenStrategy.java:216)
	at org.eclipse.jface.util.OpenStrategy$1.handleEvent(OpenStrategy.java:275)
	at org.eclipse.swt.widgets.EventTable.sendEvent(EventTable.java:66)
	at org.eclipse.swt.widgets.Widget.sendEvent(Widget.java:868)
	at org.eclipse.swt.widgets.Display.runDeferredEvents(Display.java:3137)
	at org.eclipse.swt.widgets.Display.readAndDispatch(Display.java:2765)
	at org.eclipse.ui.internal.Workbench.runEventLoop(Workbench.java:1734)
	at org.eclipse.ui.internal.Workbench.runUI(Workbench.java:1698)
	at org.eclipse.ui.internal.Workbench.createAndRunWorkbench(Workbench.java:367)
	at org.eclipse.ui.PlatformUI.createAndRunWorkbench(PlatformUI.java:143)
	at org.eclipse.ui.internal.ide.IDEApplication.run(IDEApplication.java:103)
	at
org.eclipse.core.internal.runtime.PlatformActivator$1.run(PlatformActivator.java:226)
	at org.eclipse.core.runtime.adaptor.EclipseStarter.run(EclipseStarter.java:376)
	at org.eclipse.core.runtime.adaptor.EclipseStarter.run(EclipseStarter.java:163)
	at sun.reflect.NativeMethodAccessorImpl.invoke0(Native Method)
	at sun.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:39)
	at
sun.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:25)
	at java.lang.reflect.Method.invoke(Method.java:585)
	at org.eclipse.core.launcher.Main.invokeFramework(Main.java:338)
	at org.eclipse.core.launcher.Main.basicRun(Main.java:282)
	at org.eclipse.core.launcher.Main.run(Main.java:977)
	at org.eclipse.core.launcher.Main.main(Main.java:952)
I just saw the I had an editor open on the .class file, and the editor had a red
square in the editor list, and I couldn't view it. Closing the editor resolved
the problem.
Are there any steps to reproduce the problem? (i.e open the editor that caused 
the problem)?
Marking as works for me unless there are steps to reproduce.</WithStack>
    <WithOutStack>When I double-click on a certain breakpoint in the Breakpoints View, I get the
following error. The breakpoint in question has this signature and is disabled:

JDOImplHelper$Meta [line: 516] [conditional] - Meta(String[], Class[], byte[],
Class, PersistenceCapable)

The code in question is coming from a jar that has a source attachment, although
I'm not sure whether I had set the breakpoint in the .java or the .class file.

The resulting error is:
Error 2005-08-24 13:10:09.588 Problems occurred when invoking code from plug-in:
"org.eclipse.jface".

I just saw the I had an editor open on the .class file, and the editor had a red
square in the editor list, and I couldn't view it. Closing the editor resolved
the problem.
Are there any steps to reproduce the problem? (i.e open the editor that caused 
the problem)?
Marking as works for me unless there are steps to reproduce.</WithOutStack>
  </Bug>
  <Bug>
    <BugId amount="107830" />
    <CreationDate amount="2005-08-24 07:23:00 -0400" />
    <DupId amount="" />
    <classification amount="Eclipse" />
    <Product amount="Platform" />
    <component amount="UI" />
    <Version amount="3.1" />
    <rep_platform amount="PC" />
    <op_sys amount="Windows XP" />
    <priority amount="P5" />
    <bug_severity amount="normal" />
    <Summery>[Workbench] Save dialog upon exit has wrong title</Summery>
    <Patches amount="0" />
    <Stacktraces amount="0" />
    <SourceCodeRegions amount="2">
      <source_code type="ifstatement">
        <location start="935" end="952" />
        <code>-		if (closing) {</code>
      </source_code>
      <source_code type="ifstatement">
        <location start="1232" end="1257" />
        <code>&gt; -        if (closing) {</code>
      </source_code>
    </SourceCodeRegions>
    <Enumerations amount="0" />
    <bug_status amount="NEW" />
    <resolution amount="" />
    <WithStack>R3.1 and I20050823-0800

Change a file but don't save then exit the workbench. The dialog which asks to
save has the following title: "Save Resource". It is not obvious that 'Cancel'
will not only cancel the save operation but also cancels exiting the workspace.

The title would better be "Exit Workspace".
Actually looking at other applications the typical title is the name of the
product in these types of dialogs.  I suggest we do this as well.
Sounds good.
Created attachment 161118
Add class name to title

Hi All,

Bug posted a long time.

But I've been thinking about it. So wrote a patch to solution, based on others open-source software (GIMP) (Agreed with Michael Van Meekeren) when you close a document show a message: Close Untitled.xcf.

The patch add the class name to title. 

Example:

Close Class.java


Best regards,

Mario C. Ponciano - a.k.a Razec
Did you remove the following code on purpose, and if so, why?

-
-		if (closing) {
-			// if the parts are going to be closed, then we only save those that
-			// need to be saved when closed, see bug 272070
...
Created attachment 170463
Add class name to the title
(In reply to comment #4)
&gt; Did you remove the following code on purpose, and if so, why?
&gt; 
&gt; -
&gt; -        if (closing) {
&gt; -            // if the parts are going to be closed, then we only save those
&gt; that
&gt; -            // need to be saved when closed, see bug 272070
&gt; ...

I deleted wrong code line. I don't have much experience. Sorry
I posted new patch.

Thank you very much.
I don't see any improvement with the patch. For me the important part is to change the dialog title to: "Exit Workbench" or "Exit Eclipse SDK", so that it's clear what happens when the dialog closes (see also comment 1).
(In reply to comment #7)
&gt;I don't see any improvement with the patch. For me the important part is to
&gt;change the dialog title to: "Exit Workbench" or "Exit Eclipse SDK", so that
&gt;it's clear what happens when the dialog closes (see also comment 1).

I apologize if I misunderstood (see also comment 1).

I thought when closes the Eclipse dialog, shows the title class name that was not saved, similar others application. 

Thank you very much for your feedback.</WithStack>
    <WithOutStack>R3.1 and I20050823-0800

Change a file but don't save then exit the workbench. The dialog which asks to
save has the following title: "Save Resource". It is not obvious that 'Cancel'
will not only cancel the save operation but also cancels exiting the workspace.

The title would better be "Exit Workspace".
Actually looking at other applications the typical title is the name of the
product in these types of dialogs.  I suggest we do this as well.
Sounds good.
Created attachment 161118
Add class name to title

Hi All,

Bug posted a long time.

But I've been thinking about it. So wrote a patch to solution, based on others open-source software (GIMP) (Agreed with Michael Van Meekeren) when you close a document show a message: Close Untitled.xcf.

The patch add the class name to title. 

Example:

Close Class.java


Best regards,

Mario C. Ponciano - a.k.a Razec
Did you remove the following code on purpose, and if so, why?

-
-		if (closing) {
-			// if the parts are going to be closed, then we only save those that
-			// need to be saved when closed, see bug 272070
...
Created attachment 170463
Add class name to the title
(In reply to comment #4)
&gt; Did you remove the following code on purpose, and if so, why?
&gt; 
&gt; -
&gt; -        if (closing) {
&gt; -            // if the parts are going to be closed, then we only save those
&gt; that
&gt; -            // need to be saved when closed, see bug 272070
&gt; ...

I deleted wrong code line. I don't have much experience. Sorry
I posted new patch.

Thank you very much.
I don't see any improvement with the patch. For me the important part is to change the dialog title to: "Exit Workbench" or "Exit Eclipse SDK", so that it's clear what happens when the dialog closes (see also comment 1).
(In reply to comment #7)
&gt;I don't see any improvement with the patch. For me the important part is to
&gt;change the dialog title to: "Exit Workbench" or "Exit Eclipse SDK", so that
&gt;it's clear what happens when the dialog closes (see also comment 1).

I apologize if I misunderstood (see also comment 1).

I thought when closes the Eclipse dialog, shows the title class name that was not saved, similar others application. 

Thank you very much for your feedback.</WithOutStack>
  </Bug>
  <Bug>
    <BugId amount="107831" />
    <CreationDate amount="2005-08-24 07:40:00 -0400" />
    <DupId amount="99497" />
    <classification amount="Eclipse" />
    <Product amount="JDT" />
    <component amount="Core" />
    <Version amount="3.2" />
    <rep_platform amount="All" />
    <op_sys amount="All" />
    <priority amount="P3" />
    <bug_severity amount="minor" />
    <Summery>Removing generated classes doesn't trigger automatic rebuild</Summery>
    <Patches amount="0" />
    <Stacktraces amount="0" />
    <SourceCodeRegions amount="0" />
    <Enumerations amount="0" />
    <bug_status amount="RESOLVED" />
    <resolution amount="DUPLICATE" />
    <WithStack>Removing generated classes from output directory doesn't trigger automatic
rebuild. I'm not sure if this is intended or not, but Project-&gt;Build Project
menu entry is disabled when automatic rebuilding is enabled so I suppose it's
not intended behavior. However if current behavior is correct then I suggest to
enable Project-&gt;Build Project and Project-&gt;Build All menu entries so that there
is an intuitive way to trigger rebuild manually.

Workaround is to clean the project, but it may not be obvious, especially for
less experienced users.
As far as I know, the output folder is not supposed to be managed by the user.
The builder is responsible of putting files there.
Kent any comment?
Why are you removing .class files?
Our release script did it, which I ran by accident. It was obviously my fault
but the point is, I believe there should be an obvious way of fixing such
situation or detect it and fix automatically.
The obvious way is to clean the project so its rebuilt.

We are looking into some automated detection, but that is being tracked in bug 
99497

*** This bug has been marked as a duplicate of 99497 ***
*** Bug 112053 has been marked as a duplicate of this bug. ***</WithStack>
    <WithOutStack>Removing generated classes from output directory doesn't trigger automatic
rebuild. I'm not sure if this is intended or not, but Project-&gt;Build Project
menu entry is disabled when automatic rebuilding is enabled so I suppose it's
not intended behavior. However if current behavior is correct then I suggest to
enable Project-&gt;Build Project and Project-&gt;Build All menu entries so that there
is an intuitive way to trigger rebuild manually.

Workaround is to clean the project, but it may not be obvious, especially for
less experienced users.
As far as I know, the output folder is not supposed to be managed by the user.
The builder is responsible of putting files there.
Kent any comment?
Why are you removing .class files?
Our release script did it, which I ran by accident. It was obviously my fault
but the point is, I believe there should be an obvious way of fixing such
situation or detect it and fix automatically.
The obvious way is to clean the project so its rebuilt.

We are looking into some automated detection, but that is being tracked in bug 
99497

*** This bug has been marked as a duplicate of 99497 ***
*** Bug 112053 has been marked as a duplicate of this bug. ***</WithOutStack>
  </Bug>
  <Bug>
    <BugId amount="107832" />
    <CreationDate amount="2005-08-24 07:57:00 -0400" />
    <DupId amount="" />
    <classification amount="Eclipse" />
    <Product amount="Platform" />
    <component amount="WebDAV" />
    <Version amount="3.1" />
    <rep_platform amount="PC" />
    <op_sys amount="Windows 2000" />
    <priority amount="P3" />
    <bug_severity amount="normal" />
    <Summery>hi</Summery>
    <Patches amount="0" />
    <Stacktraces amount="0" />
    <SourceCodeRegions amount="0" />
    <Enumerations amount="0" />
    <bug_status amount="RESOLVED" />
    <resolution amount="INVALID" />
    <WithStack>hi
bye.</WithStack>
    <WithOutStack>hi
bye.</WithOutStack>
  </Bug>
  <Bug>
    <BugId amount="107833" />
    <CreationDate amount="2005-08-24 08:55:00 -0400" />
    <DupId amount="65317" />
    <classification amount="Eclipse" />
    <Product amount="JDT" />
    <component amount="Text" />
    <Version amount="3.1" />
    <rep_platform amount="Macintosh" />
    <op_sys amount="All" />
    <priority amount="P3" />
    <bug_severity amount="normal" />
    <Summery>Pasting Java code changes indent incorrectly</Summery>
    <Patches amount="0" />
    <Stacktraces amount="0" />
    <SourceCodeRegions amount="2">
      <source_code type="class">
        <location start="53" end="192" />
        <code>public class Test {
    {
        String test = toString().toString().toString().toString().toString()
                .toString();
    }
}</code>
      </source_code>
      <source_code type="class">
        <location start="376" end="507" />
        <code>public class Test {
    {
        String test = toString().toString().toString().toString().toString()
        .toString();
    }
}</code>
      </source_code>
    </SourceCodeRegions>
    <Enumerations amount="1">
      <Enumeration lines="3">
        <Lines>
          <Line>1) Select the two lines comprising the assignment.</Line>
          <Line>2) Cut.</Line>
          <Line>3) Paste.</Line>
        </Lines>
      </Enumeration>
    </Enumerations>
    <bug_status amount="RESOLVED" />
    <resolution amount="DUPLICATE" />
    <WithStack>Eclipse SDK
Version: 3.1.0
Build id: I20050627-1435

public class Test {
    {
        String test = toString().toString().toString().toString().toString()
                .toString();
    }
}

1) Select the two lines comprising the assignment.
2) Cut.
3) Paste.

The second line of the assignment will incorrectly be aligned with the first line of the assignment, like 
so:

public class Test {
    {
        String test = toString().toString().toString().toString().toString()
        .toString();
    }
}

Invoking the formatter restores the correct indentation.
Move to JDT/Text


*** This bug has been marked as a duplicate of 65317 ***</WithStack>
    <WithOutStack>Eclipse SDK
Version: 3.1.0
Build id: I20050627-1435

public class Test {
    {
        String test = toString().toString().toString().toString().toString()
                .toString();
    }
}

1) Select the two lines comprising the assignment.
2) Cut.
3) Paste.

The second line of the assignment will incorrectly be aligned with the first line of the assignment, like 
so:

public class Test {
    {
        String test = toString().toString().toString().toString().toString()
        .toString();
    }
}

Invoking the formatter restores the correct indentation.
Move to JDT/Text


*** This bug has been marked as a duplicate of 65317 ***</WithOutStack>
  </Bug>
  <Bug>
    <BugId amount="107834" />
    <CreationDate amount="2005-08-24 09:14:00 -0400" />
    <DupId amount="" />
    <classification amount="Modeling" />
    <Product amount="EMF" />
    <component amount="XML/XMI" />
    <Version amount="2.1" />
    <rep_platform amount="PC" />
    <op_sys amount="Windows XP" />
    <priority amount="P3" />
    <bug_severity amount="normal" />
    <Summery>Cannot load XML resource twice using same ExtendedMetaData</Summery>
    <Patches amount="0" />
    <Stacktraces amount="0" />
    <SourceCodeRegions amount="0" />
    <Enumerations amount="1">
      <Enumeration lines="12">
        <Lines>
          <Line>1.  Using the Library example metamodel, create a small library model.</Line>
          <Line>2.  Using a text editor, mangle the XML namespace declaration for the library</Line>
          <Line>namespace.</Line>
          <Line>3.  In a JUnit test case, load the library model using a BasicExtendedMetaData</Line>
          <Line>and the option to record unknown features.  Save the resource, unload it,</Line>
          <Line>then load it again using the same load options as before (including the</Line>
          <Line>extended metadata instance).  Observe that it fails to load the second time.</Line>
          <Line>Created attachment 26402</Line>
          <Line>Ed's fix for this problem</Line>
          <Line>The fix is committed to CVS.</Line>
          <Line>Fixed in 2.2.0 I200509010200</Line>
          <Line>Move to verified as per bug 206558.</Line>
        </Lines>
      </Enumeration>
    </Enumerations>
    <bug_status amount="VERIFIED" />
    <resolution amount="FIXED" />
    <WithStack>There seems to be a problem in the ExtendedMetaData's cache of demand-created
packages for namespaces that cannot be resolved.  Using the extended metadata
and option to record unknown features, I can load a resource that uses a schema
that cannot be found and save it without data loss.  However, using the same
extended metadata instance, I cannot load the resource again.  I get an error
about "DocumentRoot.Library" (the schema that cannot be found is the Library
example).

This problem has been investigated by Ed; I have implemented his fix and will
attach it as a patch.

Steps to reproduce:

1.  Using the Library example metamodel, create a small library model.
2.  Using a text editor, mangle the XML namespace declaration for the library
    namespace.
3.  In a JUnit test case, load the library model using a BasicExtendedMetaData
    and the option to record unknown features.  Save the resource, unload it,
    then load it again using the same load options as before (including the
    extended metadata instance).  Observe that it fails to load the second time.
Created attachment 26402
Ed's fix for this problem
The fix is committed to CVS.
Fixed in 2.2.0 I200509010200
Move to verified as per bug 206558.</WithStack>
    <WithOutStack>There seems to be a problem in the ExtendedMetaData's cache of demand-created
packages for namespaces that cannot be resolved.  Using the extended metadata
and option to record unknown features, I can load a resource that uses a schema
that cannot be found and save it without data loss.  However, using the same
extended metadata instance, I cannot load the resource again.  I get an error
about "DocumentRoot.Library" (the schema that cannot be found is the Library
example).

This problem has been investigated by Ed; I have implemented his fix and will
attach it as a patch.

Steps to reproduce:

1.  Using the Library example metamodel, create a small library model.
2.  Using a text editor, mangle the XML namespace declaration for the library
    namespace.
3.  In a JUnit test case, load the library model using a BasicExtendedMetaData
    and the option to record unknown features.  Save the resource, unload it,
    then load it again using the same load options as before (including the
    extended metadata instance).  Observe that it fails to load the second time.
Created attachment 26402
Ed's fix for this problem
The fix is committed to CVS.
Fixed in 2.2.0 I200509010200
Move to verified as per bug 206558.</WithOutStack>
  </Bug>
  <Bug>
    <BugId amount="107835" />
    <CreationDate amount="2005-08-24 09:17:00 -0400" />
    <DupId amount="" />
    <classification amount="WebTools" />
    <Product amount="WTP Common Tools" />
    <component amount="wst.common" />
    <Version amount="0.7" />
    <rep_platform amount="PC" />
    <op_sys amount="Windows 2000" />
    <priority amount="P3" />
    <bug_severity amount="normal" />
    <Summery>Only one version of DataModelFactory.createDataModel( ... ) works</Summery>
    <Patches amount="0" />
    <Stacktraces amount="0" />
    <SourceCodeRegions amount="3">
      <source_code type="functioncall">
        <location start="101" end="142" />
        <code>WebComponentExportDataModelProvider() ) ;</code>
      </source_code>
      <source_code type="functioncall">
        <location start="301" end="350" />
        <code>WebComponentExportDataModelProvider().getID() ) ;</code>
      </source_code>
      <source_code type="functioncall">
        <location start="636" end="685" />
        <code>WebComponentExportDataModelProvider().getID() ) ;</code>
      </source_code>
    </SourceCodeRegions>
    <Enumerations amount="0" />
    <bug_status amount="CLOSED" />
    <resolution amount="INVALID" />
    <WithStack>If you have the following snippet of code:

IDataModel model = DataModelFactory.createDataModel( new
WebComponentExportDataModelProvider() ) ;
IDataModel model2 = DataModelFactory.createDataModel(
WebComponentExportDataModelProvider.class ) ;
IDataModel model3 = DataModelFactory.createDataModel( new
WebComponentExportDataModelProvider().getID() ) ;

Only the first model is successfully created. The other two creation methods
fail and return null.
It works, to use 

IDataModel model2 = DataModelFactory.createDataModel(
WebComponentExportDataModelProvider.class ) ;

and 


IDataModel model3 = DataModelFactory.createDataModel( new
WebComponentExportDataModelProvider().getID() ) ;


you have to define followoing exten point in your  plugin.xml


&lt;extension
         point="org.eclipse.wst.common.frameworks.DataModelProviderExtension"&gt;
        &lt;DataModelProvider
class="org.eclipse.test.MyDataModelProvider"
id="org.eclipse.test.MyDataModelProvider"/&gt;         
&lt;/extension&gt;
This is part of a mass update to close out all stale WTP bugs which are in the resolved state without an appropriate targeted version.  If you feel this bug was closed inappropriately, please reopen.</WithStack>
    <WithOutStack>If you have the following snippet of code:

IDataModel model = DataModelFactory.createDataModel( new
WebComponentExportDataModelProvider() ) ;
IDataModel model2 = DataModelFactory.createDataModel(
WebComponentExportDataModelProvider.class ) ;
IDataModel model3 = DataModelFactory.createDataModel( new
WebComponentExportDataModelProvider().getID() ) ;

Only the first model is successfully created. The other two creation methods
fail and return null.
It works, to use 

IDataModel model2 = DataModelFactory.createDataModel(
WebComponentExportDataModelProvider.class ) ;

and 


IDataModel model3 = DataModelFactory.createDataModel( new
WebComponentExportDataModelProvider().getID() ) ;


you have to define followoing exten point in your  plugin.xml


&lt;extension
         point="org.eclipse.wst.common.frameworks.DataModelProviderExtension"&gt;
        &lt;DataModelProvider
class="org.eclipse.test.MyDataModelProvider"
id="org.eclipse.test.MyDataModelProvider"/&gt;         
&lt;/extension&gt;
This is part of a mass update to close out all stale WTP bugs which are in the resolved state without an appropriate targeted version.  If you feel this bug was closed inappropriately, please reopen.</WithOutStack>
  </Bug>
  <Bug>
    <BugId amount="107836" />
    <CreationDate amount="2005-08-24 09:44:00 -0400" />
    <DupId amount="" />
    <classification amount="Eclipse" />
    <Product amount="Platform" />
    <component amount="User Assistance" />
    <Version amount="3.2" />
    <rep_platform amount="All" />
    <op_sys amount="All" />
    <priority amount="P3" />
    <bug_severity amount="normal" />
    <Summery>[Help] org.eclipse.help starts too early</Summery>
    <Patches amount="0" />
    <Stacktraces amount="0" />
    <SourceCodeRegions amount="0" />
    <Enumerations amount="0" />
    <bug_status amount="CLOSED" />
    <resolution amount="WONTFIX" />
    <WithStack>The startup progress display shows org.eclipse.help as one of the first plugins
to be loaded. Surely it could be delayed until the user requests help?
Do you know how much is loaded and what is initialized?
I think this is due to the dependency between workbench and help.

Moving to help
This dependency has been around for a long time. org.eclipse.help is activated first by a call to PlatformUI.getWorkbench().getHelpSystem().setHelp(this,
				IIDEHelpContextIds.OPEN_WORKSPACE_FILE_ACTION); 

org.eclipse.help has Eclipse-LazyStart set to true in its manifest, most of the help packages are not loaded until a request has been made to start the help system, very little is loaded at startup. Closing as WONTFIX because there is no plan to change the startup sequence of Eclipse to remove the dependency on org.eclipse.help.
I'm satisfied if the plugin loads to satisfy the use of PlatformUI.getWorkbench().getHelpSystem() and not before that.</WithStack>
    <WithOutStack>The startup progress display shows org.eclipse.help as one of the first plugins
to be loaded. Surely it could be delayed until the user requests help?
Do you know how much is loaded and what is initialized?
I think this is due to the dependency between workbench and help.

Moving to help
This dependency has been around for a long time. org.eclipse.help is activated first by a call to PlatformUI.getWorkbench().getHelpSystem().setHelp(this,
				IIDEHelpContextIds.OPEN_WORKSPACE_FILE_ACTION); 

org.eclipse.help has Eclipse-LazyStart set to true in its manifest, most of the help packages are not loaded until a request has been made to start the help system, very little is loaded at startup. Closing as WONTFIX because there is no plan to change the startup sequence of Eclipse to remove the dependency on org.eclipse.help.
I'm satisfied if the plugin loads to satisfy the use of PlatformUI.getWorkbench().getHelpSystem() and not before that.</WithOutStack>
  </Bug>
  <Bug>
    <BugId amount="107837" />
    <CreationDate amount="2005-08-24 09:47:00 -0400" />
    <DupId amount="" />
    <classification amount="Eclipse" />
    <Product amount="Platform" />
    <component amount="Resources" />
    <Version amount="3.1" />
    <rep_platform amount="PC" />
    <op_sys amount="Windows XP" />
    <priority amount="P3" />
    <bug_severity amount="major" />
    <Summery>frequent workspace crashes</Summery>
    <Patches amount="0" />
    <Stacktraces amount="0" />
    <SourceCodeRegions amount="0" />
    <Enumerations amount="0" />
    <bug_status amount="RESOLVED" />
    <resolution amount="INVALID" />
    <WithStack>JDK/JRE 1.4.2_08, 1.5.0_02, 1.5.0_04
P4 3GHz, 1GB memory

I'm having very frequent crashes while using Eclipse, after using Eclipse
smoothly for almost a year on the same machine.  The problem began while using
the Visual Editor (1.1), and I can't seem to shake it (even after clean
installs).  Scrolling with the mouse, holding the mouse over some text, and
typing have all caused the failure, in which Eclipse stops responding, the I-bar
remains the only cursor, and after a few seconds Eclipse disappears, leaving
behind a JVM Terminated dialog (text below).

JVM terminated. Exit code=-2147483641
C:\Java\j2sdk1.4.2_08\bin\javaw.exe
-Xms128M
-Xmx512M
-jar C:\Program Files\eclipse\startup.jar
-os win32
-ws win32
-arch x86
-launcher C:\Program Files\eclipse\eclipse.exe
-name Eclipse
-showsplash 600
-exitdata 578_68
-vm C:\Java\j2sdk1.4.2_08\bin\javaw.exe
-vmargs
-Xms128M
-Xmx512M
-jar C:\Program Files\eclipse\startup.jar



The exit code is always the same.  I'm unable to get any sort of JVM stack trace
after the crash.  Even running from the command line (java -jar startup.jar) it
just returns to the prompt after the crash.  The Eclipse log just shows the
following:

!ENTRY org.eclipse.core.resources 2 10035 2005-08-18 14:52:31.20
!MESSAGE A workspace crash was detected. The previous session did not exit normally.
!SESSION 2005-08-18 15:49:00.488 -----------------------------------------------
eclipse.buildId=I20050627-1435
java.version=1.4.2_08
java.vendor=Sun Microsystems Inc.
BootLoader constants: OS=win32, ARCH=x86, WS=win32, NL=en_US
Command-line arguments:  -os win32 -ws win32 -arch x86

I've completely uninstalled Java (all JDKs and JREs) from my machine, and
completely wiped Eclipse off as well (including all workspaces).  With a clean
install of Eclipse 3.1 (and CDT 3.0) I'm getting the same problem, regardless of
whether I'm working on a Java or C project (in C or Java perspective), and
regardless of which JDK/JRE I use (I've tried 1.4.2_08, 1.5.0_02 and 1.5.0_04).

I think I'm going to need guidance on how to gather better data on the crash itself.
There should be a file called hs_err_pid2880.log or similar in the directory
with the Eclipse executable.  This is the crash log from the JVM.  If you can
find one, can you attach it to the bug?
I'm not getting a typical JVM crash (where a stack trace is printed to the
console) and there is no crash log being generated.  I just ran startup.jar from
the command line with verbose messaging on, and I caught an
AssertionFailedException due to a malformed tree right before it crashed.  I'm
attaching the output of this as verbose_error_log.txt
Created attachment 26414
An exception is caught while running Eclipse with verbose messaging.
This may be related to bug #43386, but I am not using Eclipse's CVS/Team
functionality at all.  And my crashes all seem to occur while I'm interacting
with an editor.
I'm reassigning to core to see if they have any ideas based on the exception.
The stack trace is interesting, but doesn't seem to be the cause of the crash. 
The error occurs in a background thread that would not cause the application to
exit.  This must be appearing in your workspace/.metadata/.log file?  If so,
please attach the log file.  From the trace, it looks like it continues on after
the "malformed tree" exception and loads other classes. If the trace is
complete, the last classes it loads before crashing are:

Loaded org.eclipse.swt.dnd.OleEnumFORMATETC$1
Loaded org.eclipse.swt.dnd.OleEnumFORMATETC$2
Loaded org.eclipse.swt.internal.ole.win32.STGMEDIUM 

It would be interesting to see traces from other crashes you are getting to see
if there is a consistent pattern... the malformed tree exception and/or these
OLE classes might be related to your crash, but more crash instances would help
us see if there is a pattern.
Created attachment 26457
workspace .metadata\.log

Here's my workspace log file. There are some legitimate resource out of sync
errors logged near the bottom, which, from my experience, have nothing to do
with the crashes. As you can see, nothing is logged immediately prior to the
crash.	I'll keep running from the command line in verbose mode, which seems to
be the only way to get some indication of whats going wrong.
Created attachment 26464
Another trace from verbose mode

Here's another trace leading up to a crash.  No exceptions on this one, but the
OLE classes are loaded just before the crash again.  The previous trace was
obtained using JRE 1.5.0_02, and this one was obtained using JRE 1.4.2_08. 
Next I'll obtain a trace using the JRE built into JDK 1.4.2_08.
Although Eclipse is the only application exhibiting problems, this may be a
motherboard/RAM problem.  I'm looking into that possibility right now.
The problem was apparently a symptom of an overheating system.  The heat issue
has been resolved, and Eclipse is back to its great stable self!</WithStack>
    <WithOutStack>JDK/JRE 1.4.2_08, 1.5.0_02, 1.5.0_04
P4 3GHz, 1GB memory

I'm having very frequent crashes while using Eclipse, after using Eclipse
smoothly for almost a year on the same machine.  The problem began while using
the Visual Editor (1.1), and I can't seem to shake it (even after clean
installs).  Scrolling with the mouse, holding the mouse over some text, and
typing have all caused the failure, in which Eclipse stops responding, the I-bar
remains the only cursor, and after a few seconds Eclipse disappears, leaving
behind a JVM Terminated dialog (text below).

JVM terminated. Exit code=-2147483641
C:\Java\j2sdk1.4.2_08\bin\javaw.exe
-Xms128M
-Xmx512M
-jar C:\Program Files\eclipse\startup.jar
-os win32
-ws win32
-arch x86
-launcher C:\Program Files\eclipse\eclipse.exe
-name Eclipse
-showsplash 600
-exitdata 578_68
-vm C:\Java\j2sdk1.4.2_08\bin\javaw.exe
-vmargs
-Xms128M
-Xmx512M
-jar C:\Program Files\eclipse\startup.jar



The exit code is always the same.  I'm unable to get any sort of JVM stack trace
after the crash.  Even running from the command line (java -jar startup.jar) it
just returns to the prompt after the crash.  The Eclipse log just shows the
following:

!ENTRY org.eclipse.core.resources 2 10035 2005-08-18 14:52:31.20
!MESSAGE A workspace crash was detected. The previous session did not exit normally.
!SESSION 2005-08-18 15:49:00.488 -----------------------------------------------
eclipse.buildId=I20050627-1435
java.version=1.4.2_08
java.vendor=Sun Microsystems Inc.
BootLoader constants: OS=win32, ARCH=x86, WS=win32, NL=en_US
Command-line arguments:  -os win32 -ws win32 -arch x86

I've completely uninstalled Java (all JDKs and JREs) from my machine, and
completely wiped Eclipse off as well (including all workspaces).  With a clean
install of Eclipse 3.1 (and CDT 3.0) I'm getting the same problem, regardless of
whether I'm working on a Java or C project (in C or Java perspective), and
regardless of which JDK/JRE I use (I've tried 1.4.2_08, 1.5.0_02 and 1.5.0_04).

I think I'm going to need guidance on how to gather better data on the crash itself.
There should be a file called hs_err_pid2880.log or similar in the directory
with the Eclipse executable.  This is the crash log from the JVM.  If you can
find one, can you attach it to the bug?
I'm not getting a typical JVM crash (where a stack trace is printed to the
console) and there is no crash log being generated.  I just ran startup.jar from
the command line with verbose messaging on, and I caught an
AssertionFailedException due to a malformed tree right before it crashed.  I'm
attaching the output of this as verbose_error_log.txt
Created attachment 26414
An exception is caught while running Eclipse with verbose messaging.
This may be related to bug #43386, but I am not using Eclipse's CVS/Team
functionality at all.  And my crashes all seem to occur while I'm interacting
with an editor.
I'm reassigning to core to see if they have any ideas based on the exception.
The stack trace is interesting, but doesn't seem to be the cause of the crash. 
The error occurs in a background thread that would not cause the application to
exit.  This must be appearing in your workspace/.metadata/.log file?  If so,
please attach the log file.  From the trace, it looks like it continues on after
the "malformed tree" exception and loads other classes. If the trace is
complete, the last classes it loads before crashing are:

Loaded org.eclipse.swt.dnd.OleEnumFORMATETC$1
Loaded org.eclipse.swt.dnd.OleEnumFORMATETC$2
Loaded org.eclipse.swt.internal.ole.win32.STGMEDIUM 

It would be interesting to see traces from other crashes you are getting to see
if there is a consistent pattern... the malformed tree exception and/or these
OLE classes might be related to your crash, but more crash instances would help
us see if there is a pattern.
Created attachment 26457
workspace .metadata\.log

Here's my workspace log file. There are some legitimate resource out of sync
errors logged near the bottom, which, from my experience, have nothing to do
with the crashes. As you can see, nothing is logged immediately prior to the
crash.	I'll keep running from the command line in verbose mode, which seems to
be the only way to get some indication of whats going wrong.
Created attachment 26464
Another trace from verbose mode

Here's another trace leading up to a crash.  No exceptions on this one, but the
OLE classes are loaded just before the crash again.  The previous trace was
obtained using JRE 1.5.0_02, and this one was obtained using JRE 1.4.2_08. 
Next I'll obtain a trace using the JRE built into JDK 1.4.2_08.
Although Eclipse is the only application exhibiting problems, this may be a
motherboard/RAM problem.  I'm looking into that possibility right now.
The problem was apparently a symptom of an overheating system.  The heat issue
has been resolved, and Eclipse is back to its great stable self!</WithOutStack>
  </Bug>
  <Bug>
    <BugId amount="107838" />
    <CreationDate amount="2005-08-24 09:47:00 -0400" />
    <DupId amount="" />
    <classification amount="Modeling" />
    <Product amount="EMF" />
    <component amount="Tools" />
    <Version amount="2.2" />
    <rep_platform amount="PC" />
    <op_sys amount="Windows XP" />
    <priority amount="P3" />
    <bug_severity amount="normal" />
    <Summery>EditorPart.setInput is deprecated in Eclipse 3.2</Summery>
    <Patches amount="0" />
    <Stacktraces amount="0" />
    <SourceCodeRegions amount="0" />
    <Enumerations amount="0" />
    <bug_status amount="VERIFIED" />
    <resolution amount="FIXED" />
    <WithStack>setInputWithNotification should be used instead.
The change is committed to CVS.
Fixed in 2.2.0 I200508251028
Move to verified as per bug 206558.</WithStack>
    <WithOutStack>setInputWithNotification should be used instead.
The change is committed to CVS.
Fixed in 2.2.0 I200508251028
Move to verified as per bug 206558.</WithOutStack>
  </Bug>
  <Bug>
    <BugId amount="107839" />
    <CreationDate amount="2005-08-24 09:54:00 -0400" />
    <DupId amount="" />
    <classification amount="Eclipse" />
    <Product amount="Platform" />
    <component amount="UI" />
    <Version amount="3.1" />
    <rep_platform amount="All" />
    <op_sys amount="All" />
    <priority amount="P3" />
    <bug_severity amount="minor" />
    <Summery>[WorkbenchLauncher] Startup progress bar should announce loading, not loaded</Summery>
    <Patches amount="0" />
    <Stacktraces amount="0" />
    <SourceCodeRegions amount="0" />
    <Enumerations amount="0" />
    <bug_status amount="VERIFIED" />
    <resolution amount="FIXED" />
    <WithStack>It would be more informative it the progress bar said
  "Loading &lt;plugin&gt;..."
rather than
  "Loaded &lt;plugin&gt;..."
That way if it takes a while to load a certain plugin you
have a better idea of what's happening.
The only thing that is actually reported by osgi is the time spent in the
activator start method, which is in most of the time close to null.

What actually takes time is classloading and initialization of various data
structure that is not happening in the startup code.

The progress is a best effort, and is just here to show that something is
happening to the user.
The point I'm trying to make is that telling the user what *is* happening is
more helpful than was *has* happened.
I agree that this would be better.  Unfortunately, we cannot tell which plug-
in is to "blame" for the wait since plug-in activation is a recursive process. 

For example, if a plug-in does a lot of work in its start() method, but also 
triggers the activation of three other plug-ins while doing that work, we have 
no good way of communicating this to the user with a single message.
*** Bug 116996 has been marked as a duplicate of this bug. ***
Should this bug be moved to Core as it would at least be more useful to see what
plug-in is laoding instead of which one loaded.
Let's illustrate the problem with an example with
the Workbench and four plug-ins A,B,C,D.

The Workbench is starting up and loading plug-ins A
and D (e.g. restoring views contributed by A and D).
Assume that A is first activated, then the workbench
does some work, after which it calls A to create the
view contents. A's createPartControl implementation
calls into B right away, so B starts up. B has
start-up code that happens to call into C. This call
is expensive, etc. etc.

Graphically:

Workbench x--------------------------&gt;
Plug-in A   x- ------------------    &gt;
Plug-in B      xxxxxxxxxx------      &gt;
Plug-in C       x-------             &gt;
Plug-in D                         x--&gt;

- code of this plug-in executes (is on the call stack)
x plug-in is being loaded (activation)

This is what we could report:

"Loaded"  W A   C       B         D
"Loading" W A  B?BBBBBBBB         D
"Blame"   WWAAWBCCCCCCCCBBBBBBBAAWDDD

We currently report "Loaded", which provides not much
information and mainly entertains the user.

"Loading" is not what you want, at least not if the
intent is to provide information about which plug-in
is responsible for long start-up times. Note that B
would be reported as loading for a long time, but it
is actually C that is to blame. There is also the
question what you would report at the "?", because
both B and C are loading, and what you would report
in between - since no plug-in is loading, you cannot
just let the last "Loading" message stay...

"Blame" is more interesting, sort of like the Task
List on Windows or "top" on Linux, but how do you
present that graphically? Chris Laffra's Eclipse
Monitor tries to present this information, but I
don't think we should try to do something like it
as part of the start-up experience:
http://www.eclipsefaq.org/chris/monitor/index.html

I'm inclined to resolve this as INVALID, what do
you think?
Invalid is good for me.
I think if something should be done, it should be in the area of tracking the
background jobs (I think there is another bug).
Yes, bug 111539.

Closing this as invalid. Please reopen if you have a good idea and/or I missed
something important in my analysis.
(In reply to comment #6)
&gt; We currently report "Loaded", which provides not much
&gt; information and mainly entertains the user.
This is the essence of the point I am making.

&gt; I'm inclined to resolve this as INVALID, what do you think?
You say we could report 'loading': what about the request is invalid?

I think your analysis is flawed. I don't understand how the dashes in
your diagram are relevant. When the the start method of a plugin finishes
control is returned to the class that triggered loading of the bundle
and it becomes the reason that the user is waiting. When control is
returned to the workbench the message could say 'Restoring workbench...'
or something similar.

 It should read:
&gt; Workbench x--------------------------&gt;
&gt; Plug-in A   x- ------------------    &gt;
&gt; Plug-in B      xxxxxxxxxx------      &gt;
&gt; Plug-in C       x-------             &gt;
&gt; Plug-in D                         x--&gt;
&gt;
&gt; "Loaded"  W A   C       B         D
&gt; "Loading" WWAWWBCBBBBBBBBWWWWWWWDDD

The name of a plugin could be pushed on the 'loading' stack with the
BundleEvent.STARTING event and popped with the BundleEvent.STARTED
event. The UI should indicate that it is loading the plugin whose name
is on the top of that stack. When the stack is empty the message would
be 'Restoring workbench...'.
Thanks for your suggestion. There are two problems with it:

1 - We would give a false impression that the plug-ins displayed are the ones to "blame" for long start-up times. With my example, I wanted to show that "B" might be shown for a long time where the time is really used by "C".

2 - While starting up, there are multiple threads acitvating plug-ins in parallel. Using a stack of currently loading would not work I think.

(In reply to comment #10)
&gt; Thanks for your suggestion. There are two problems with it:
&gt; 
&gt; 1 - We would give a false impression that the plug-ins displayed are the ones
&gt; to "blame" for long start-up times. With my example, I wanted to show that "B"
&gt; might be shown for a long time where the time is really used by "C".
I don't understand why you think "C" should be displayed after its plugin
has finished its start method. If some of its code is executing on behalf
of another plugin I think the other plugin is "to blame".

&gt; 2 - While starting up, there are multiple threads acitvating plug-ins in
&gt; parallel. Using a stack of currently loading would not work I think.
We only need to synchronize on the stack to properly handle multiple threads.
Please prototype and provide a patch.
Created attachment 30391
proposed patch

Here is a patch that yields the behaviour I described: The changes are
confined to Workbench.StartupProgressBundleListener.

With this applied the problem described in bug 103839, for example,
would leave the text 'Loading org.eclipse.jdt.core' visible for several
seconds making it immediately clear where the issue lies.
Created attachment 30412
updated patch, also fixes bug 96846
Frankly, I don't think this is an improvement. When starting the Eclipse SDK, the messages just flash by, and most of the time you just see "Loading Workbench."

Let's give it a try though - updated patch committed for builds &gt;20051122.
If things are working as they should, plugins should load very quickly.
It's when things go wrong that it's helpful to know why.

Thanks for giving this a try.
I noticed that the updated patch no longer worries about which thread
updates the progress monitor. Bundle events can fire on any thread so
how do we avoid SWT InvalidThreadAccess exceptions?
The splash (including progress bar and message) comes from a native executable, SWT has nothing to do with this.
Created attachment 30563
Fix for race condition.

The version at HEAD has a race condition: another thread might finish
loading a bundle between the call to 'starting.size()' and the call
to 'starting.get(size - 1)' resulting in an IndexOutOfBoundsException.
This patch captures the bundle name within the synchronized block.
Reopened for consideration of a new fix.
Fix released for builds &gt;20051124. Thanks for the patch!
Marking as fixed.
Verified on Windows XP using I20051213-0010.</WithStack>
    <WithOutStack>It would be more informative it the progress bar said
  "Loading &lt;plugin&gt;..."
rather than
  "Loaded &lt;plugin&gt;..."
That way if it takes a while to load a certain plugin you
have a better idea of what's happening.
The only thing that is actually reported by osgi is the time spent in the
activator start method, which is in most of the time close to null.

What actually takes time is classloading and initialization of various data
structure that is not happening in the startup code.

The progress is a best effort, and is just here to show that something is
happening to the user.
The point I'm trying to make is that telling the user what *is* happening is
more helpful than was *has* happened.
I agree that this would be better.  Unfortunately, we cannot tell which plug-
in is to "blame" for the wait since plug-in activation is a recursive process. 

For example, if a plug-in does a lot of work in its start() method, but also 
triggers the activation of three other plug-ins while doing that work, we have 
no good way of communicating this to the user with a single message.
*** Bug 116996 has been marked as a duplicate of this bug. ***
Should this bug be moved to Core as it would at least be more useful to see what
plug-in is laoding instead of which one loaded.
Let's illustrate the problem with an example with
the Workbench and four plug-ins A,B,C,D.

The Workbench is starting up and loading plug-ins A
and D (e.g. restoring views contributed by A and D).
Assume that A is first activated, then the workbench
does some work, after which it calls A to create the
view contents. A's createPartControl implementation
calls into B right away, so B starts up. B has
start-up code that happens to call into C. This call
is expensive, etc. etc.

Graphically:

Workbench x--------------------------&gt;
Plug-in A   x- ------------------    &gt;
Plug-in B      xxxxxxxxxx------      &gt;
Plug-in C       x-------             &gt;
Plug-in D                         x--&gt;

- code of this plug-in executes (is on the call stack)
x plug-in is being loaded (activation)

This is what we could report:

"Loaded"  W A   C       B         D
"Loading" W A  B?BBBBBBBB         D
"Blame"   WWAAWBCCCCCCCCBBBBBBBAAWDDD

We currently report "Loaded", which provides not much
information and mainly entertains the user.

"Loading" is not what you want, at least not if the
intent is to provide information about which plug-in
is responsible for long start-up times. Note that B
would be reported as loading for a long time, but it
is actually C that is to blame. There is also the
question what you would report at the "?", because
both B and C are loading, and what you would report
in between - since no plug-in is loading, you cannot
just let the last "Loading" message stay...

"Blame" is more interesting, sort of like the Task
List on Windows or "top" on Linux, but how do you
present that graphically? Chris Laffra's Eclipse
Monitor tries to present this information, but I
don't think we should try to do something like it
as part of the start-up experience:
http://www.eclipsefaq.org/chris/monitor/index.html

I'm inclined to resolve this as INVALID, what do
you think?
Invalid is good for me.
I think if something should be done, it should be in the area of tracking the
background jobs (I think there is another bug).
Yes, bug 111539.

Closing this as invalid. Please reopen if you have a good idea and/or I missed
something important in my analysis.
(In reply to comment #6)
&gt; We currently report "Loaded", which provides not much
&gt; information and mainly entertains the user.
This is the essence of the point I am making.

&gt; I'm inclined to resolve this as INVALID, what do you think?
You say we could report 'loading': what about the request is invalid?

I think your analysis is flawed. I don't understand how the dashes in
your diagram are relevant. When the the start method of a plugin finishes
control is returned to the class that triggered loading of the bundle
and it becomes the reason that the user is waiting. When control is
returned to the workbench the message could say 'Restoring workbench...'
or something similar.

 It should read:
&gt; Workbench x--------------------------&gt;
&gt; Plug-in A   x- ------------------    &gt;
&gt; Plug-in B      xxxxxxxxxx------      &gt;
&gt; Plug-in C       x-------             &gt;
&gt; Plug-in D                         x--&gt;
&gt;
&gt; "Loaded"  W A   C       B         D
&gt; "Loading" WWAWWBCBBBBBBBBWWWWWWWDDD

The name of a plugin could be pushed on the 'loading' stack with the
BundleEvent.STARTING event and popped with the BundleEvent.STARTED
event. The UI should indicate that it is loading the plugin whose name
is on the top of that stack. When the stack is empty the message would
be 'Restoring workbench...'.
Thanks for your suggestion. There are two problems with it:

1 - We would give a false impression that the plug-ins displayed are the ones to "blame" for long start-up times. With my example, I wanted to show that "B" might be shown for a long time where the time is really used by "C".

2 - While starting up, there are multiple threads acitvating plug-ins in parallel. Using a stack of currently loading would not work I think.

(In reply to comment #10)
&gt; Thanks for your suggestion. There are two problems with it:
&gt; 
&gt; 1 - We would give a false impression that the plug-ins displayed are the ones
&gt; to "blame" for long start-up times. With my example, I wanted to show that "B"
&gt; might be shown for a long time where the time is really used by "C".
I don't understand why you think "C" should be displayed after its plugin
has finished its start method. If some of its code is executing on behalf
of another plugin I think the other plugin is "to blame".

&gt; 2 - While starting up, there are multiple threads acitvating plug-ins in
&gt; parallel. Using a stack of currently loading would not work I think.
We only need to synchronize on the stack to properly handle multiple threads.
Please prototype and provide a patch.
Created attachment 30391
proposed patch

Here is a patch that yields the behaviour I described: The changes are
confined to Workbench.StartupProgressBundleListener.

With this applied the problem described in bug 103839, for example,
would leave the text 'Loading org.eclipse.jdt.core' visible for several
seconds making it immediately clear where the issue lies.
Created attachment 30412
updated patch, also fixes bug 96846
Frankly, I don't think this is an improvement. When starting the Eclipse SDK, the messages just flash by, and most of the time you just see "Loading Workbench."

Let's give it a try though - updated patch committed for builds &gt;20051122.
If things are working as they should, plugins should load very quickly.
It's when things go wrong that it's helpful to know why.

Thanks for giving this a try.
I noticed that the updated patch no longer worries about which thread
updates the progress monitor. Bundle events can fire on any thread so
how do we avoid SWT InvalidThreadAccess exceptions?
The splash (including progress bar and message) comes from a native executable, SWT has nothing to do with this.
Created attachment 30563
Fix for race condition.

The version at HEAD has a race condition: another thread might finish
loading a bundle between the call to 'starting.size()' and the call
to 'starting.get(size - 1)' resulting in an IndexOutOfBoundsException.
This patch captures the bundle name within the synchronized block.
Reopened for consideration of a new fix.
Fix released for builds &gt;20051124. Thanks for the patch!
Marking as fixed.
Verified on Windows XP using I20051213-0010.</WithOutStack>
  </Bug>
  <Bug>
    <BugId amount="107840" />
    <CreationDate amount="2005-08-24 09:58:00 -0400" />
    <DupId amount="24378" />
    <classification amount="Eclipse" />
    <Product amount="JDT" />
    <component amount="Core" />
    <Version amount="3.1" />
    <rep_platform amount="PC" />
    <op_sys amount="Windows XP" />
    <priority amount="P3" />
    <bug_severity amount="enhancement" />
    <Summery>warning on dead/useless assignment (store)</Summery>
    <Patches amount="0" />
    <Stacktraces amount="0" />
    <SourceCodeRegions amount="3">
      <source_code type="functioncall">
        <location start="241" end="248" />
        <code>bar(4);</code>
      </source_code>
      <source_code type="assignment">
        <location start="249" end="263" />
        <code>baz(42 != 17);</code>
      </source_code>
      <source_code type="assignment">
        <location start="264" end="286" />
        <code>foo= "something else";</code>
      </source_code>
    </SourceCodeRegions>
    <Enumerations amount="0" />
    <bug_status amount="RESOLVED" />
    <resolution amount="DUPLICATE" />
    <WithStack>3.1
if a lhs of an assignment to a local is not read until the next assignment to
the same lhs then it's as good as dead. It'd be good to have a warning for it.
It's useless code.

for example

Object foo = "something"; //useless assignment
bar(4);
baz(42 != 17);
foo= "something else";
dup of bug 24378
can it be reopened?

*** This bug has been marked as a duplicate of 24378 ***</WithStack>
    <WithOutStack>3.1
if a lhs of an assignment to a local is not read until the next assignment to
the same lhs then it's as good as dead. It'd be good to have a warning for it.
It's useless code.

for example

Object foo = "something"; //useless assignment
bar(4);
baz(42 != 17);
foo= "something else";
dup of bug 24378
can it be reopened?

*** This bug has been marked as a duplicate of 24378 ***</WithOutStack>
  </Bug>
  <Bug>
    <BugId amount="107841" />
    <CreationDate amount="2005-08-24 10:05:00 -0400" />
    <DupId amount="" />
    <classification amount="Eclipse" />
    <Product amount="JDT" />
    <component amount="Core" />
    <Version amount="3.1" />
    <rep_platform amount="PC" />
    <op_sys amount="Windows XP" />
    <priority amount="P3" />
    <bug_severity amount="enhancement" />
    <Summery>warning on unwritten field</Summery>
    <Patches amount="0" />
    <Stacktraces amount="0" />
    <SourceCodeRegions amount="0" />
    <Enumerations amount="0" />
    <bug_status amount="NEW" />
    <resolution amount="" />
    <WithStack>3.1
When a local is unwritten and read you get an error which is great.
When field is unwritten and read, you see nothing because it does get
initialized to a default value and thus it's ok to read it. But that's still a
very bad smell.

It'd bee good to have a warning for it.</WithStack>
    <WithOutStack>3.1
When a local is unwritten and read you get an error which is great.
When field is unwritten and read, you see nothing because it does get
initialized to a default value and thus it's ok to read it. But that's still a
very bad smell.

It'd bee good to have a warning for it.</WithOutStack>
  </Bug>
  <Bug>
    <BugId amount="107842" />
    <CreationDate amount="2005-08-24 10:06:00 -0400" />
    <DupId amount="" />
    <classification amount="Eclipse" />
    <Product amount="Platform" />
    <component amount="Doc" />
    <Version amount="3.0.2" />
    <rep_platform amount="PC" />
    <op_sys amount="Linux" />
    <priority amount="P3" />
    <bug_severity amount="normal" />
    <Summery>3.0.2 Release notes contains 337 broken links</Summery>
    <Patches amount="0" />
    <Stacktraces amount="0" />
    <SourceCodeRegions amount="0" />
    <Enumerations amount="0" />
    <bug_status amount="RESOLVED" />
    <resolution amount="FIXED" />
    <WithStack>http://eclipse.org/eclipse/development/readme_eclipse_3_0_2.html

All the links in 7. Defects Fixed in Maintenance Releases link to "show_bug.cgi"
instead of https://bugs.eclipse.org/bugs/show_bug.cgi and generate 404 File Not
Found errors.

D.
Fixed. No milestone set because this is web site doc.</WithStack>
    <WithOutStack>http://eclipse.org/eclipse/development/readme_eclipse_3_0_2.html

All the links in 7. Defects Fixed in Maintenance Releases link to "show_bug.cgi"
instead of https://bugs.eclipse.org/bugs/show_bug.cgi and generate 404 File Not
Found errors.

D.
Fixed. No milestone set because this is web site doc.</WithOutStack>
  </Bug>
  <Bug>
    <BugId amount="107843" />
    <CreationDate amount="2005-08-24 10:08:00 -0400" />
    <DupId amount="75539" />
    <classification amount="Eclipse" />
    <Product amount="Platform" />
    <component amount="CVS" />
    <Version amount="3.2" />
    <rep_platform amount="PC" />
    <op_sys amount="Windows XP" />
    <priority amount="P3" />
    <bug_severity amount="enhancement" />
    <Summery>Task oriented programming with CVS</Summery>
    <Patches amount="0" />
    <Stacktraces amount="0" />
    <SourceCodeRegions amount="0" />
    <Enumerations amount="0" />
    <bug_status amount="RESOLVED" />
    <resolution amount="DUPLICATE" />
    <WithStack>Hello,
It could be good to be able to have a task oriented programming like for
instance in Clearcase or others. We could easily mimics such a feature by having
the ability to get every changes in a view by using the cvs tag set when
committing changes.
So each time we end a task , we need to commit all the changes in the CVS
database, and we can get, compare, ..., two versions of a same task by comparing
the date of commited elements with the same tag...
regards
Xavier
I knew this sounded familiar. You logged a similar request a while ago;-)

*** This bug has been marked as a duplicate of 75539 ***</WithStack>
    <WithOutStack>Hello,
It could be good to be able to have a task oriented programming like for
instance in Clearcase or others. We could easily mimics such a feature by having
the ability to get every changes in a view by using the cvs tag set when
committing changes.
So each time we end a task , we need to commit all the changes in the CVS
database, and we can get, compare, ..., two versions of a same task by comparing
the date of commited elements with the same tag...
regards
Xavier
I knew this sounded familiar. You logged a similar request a while ago;-)

*** This bug has been marked as a duplicate of 75539 ***</WithOutStack>
  </Bug>
  <Bug>
    <BugId amount="107844" />
    <CreationDate amount="2005-08-24 10:13:00 -0400" />
    <DupId amount="" />
    <classification amount="Eclipse Foundation" />
    <Product amount="z_Archived" />
    <component amount="WTP Datatools" />
    <Version amount="unspecified" />
    <rep_platform amount="PC" />
    <op_sys amount="Windows XP" />
    <priority amount="P3" />
    <bug_severity amount="critical" />
    <Summery>Incorrect copyrights in org/eclipse/wst/rdb/core/internal/ui/util/ElementIDUtil.java</Summery>
    <Patches amount="0" />
    <Stacktraces amount="0" />
    <SourceCodeRegions amount="0" />
    <Enumerations amount="0" />
    <bug_status amount="CLOSED" />
    <resolution amount="FIXED" />
    <WithStack>Incorrect copyrights in 
org/eclipse/wst/rdb/core/internal/ui/util/ElementIDUtil.java (the 
org.eclipse.wst.rdb.core.ui plugin)
Can we get this one fixed for 3.1.1?  There are words in the copyright comment 
that are making lawyers concerned.
fixed.
Verified.</WithStack>
    <WithOutStack>Incorrect copyrights in 
org/eclipse/wst/rdb/core/internal/ui/util/ElementIDUtil.java (the 
org.eclipse.wst.rdb.core.ui plugin)
Can we get this one fixed for 3.1.1?  There are words in the copyright comment 
that are making lawyers concerned.
fixed.
Verified.</WithOutStack>
  </Bug>
  <Bug>
    <BugId amount="107845" />
    <CreationDate amount="2005-08-24 10:16:00 -0400" />
    <DupId amount="" />
    <classification amount="WebTools" />
    <Product amount="WTP Source Editing" />
    <component amount="jst.jsp" />
    <Version amount="unspecified" />
    <rep_platform amount="All" />
    <op_sys amount="Windows XP" />
    <priority amount="P3" />
    <bug_severity amount="critical" />
    <Summery>Incorrect copyrights in org/eclipse/jst/jsp/core/internal/java/jspel/ELGenerator.java</Summery>
    <Patches amount="0" />
    <Stacktraces amount="0" />
    <SourceCodeRegions amount="1">
      <source_code type="multicomment">
        <location start="273" end="801" />
        <code>/*******************************************************************************
 * Copyright (c) 2005 BEA Systems and others.
 * All rights reserved. This program and the accompanying materials
 * are made available under the terms of the Eclipse Public License v1.0
 * which accompanies this distribution, and is available at
 * http://www.eclipse.org/legal/epl-v10.html
 * 
 * Contributors:
 *     BEA Systems - initial implementation
 *     
 *******************************************************************************/</code>
      </source_code>
    </SourceCodeRegions>
    <Enumerations amount="0" />
    <bug_status amount="CLOSED" />
    <resolution amount="FIXED" />
    <WithStack>Incorrect copyrights in 
org/eclipse/jst/jsp/core/internal/java/jspel/ELGenerator.java (the 
org.eclipse.jst.jsp.core plugin).
Setting copyright comment for all *.java files in the
org.eclipse.jst.jsp.core.internal.java.jspel package and the JSPELValidator.java
source to:

/*******************************************************************************
 * Copyright (c) 2005 BEA Systems and others.
 * All rights reserved. This program and the accompanying materials
 * are made available under the terms of the Eclipse Public License v1.0
 * which accompanies this distribution, and is available at
 * http://www.eclipse.org/legal/epl-v10.html
 * 
 * Contributors:
 *     BEA Systems - initial implementation
 *     
 *******************************************************************************/

This follows the template that IBM contributors use specifying the EPL license
and contributing entities.
I'm marking as verified, as component owner. If origantor disagrees, or sees other similar bugs, please open new ones (with reference to this one). 

Verified. Closing bug.</WithStack>
    <WithOutStack>Incorrect copyrights in 
org/eclipse/jst/jsp/core/internal/java/jspel/ELGenerator.java (the 
org.eclipse.jst.jsp.core plugin).
Setting copyright comment for all *.java files in the
org.eclipse.jst.jsp.core.internal.java.jspel package and the JSPELValidator.java
source to:

/*******************************************************************************
 * Copyright (c) 2005 BEA Systems and others.
 * All rights reserved. This program and the accompanying materials
 * are made available under the terms of the Eclipse Public License v1.0
 * which accompanies this distribution, and is available at
 * http://www.eclipse.org/legal/epl-v10.html
 * 
 * Contributors:
 *     BEA Systems - initial implementation
 *     
 *******************************************************************************/

This follows the template that IBM contributors use specifying the EPL license
and contributing entities.
I'm marking as verified, as component owner. If origantor disagrees, or sees other similar bugs, please open new ones (with reference to this one). 

Verified. Closing bug.</WithOutStack>
  </Bug>
  <Bug>
    <BugId amount="107846" />
    <CreationDate amount="2005-08-24 10:22:00 -0400" />
    <DupId amount="" />
    <classification amount="Eclipse" />
    <Product amount="Platform" />
    <component amount="UI" />
    <Version amount="3.1" />
    <rep_platform amount="PC" />
    <op_sys amount="Windows XP" />
    <priority amount="P3" />
    <bug_severity amount="enhancement" />
    <Summery>Add Drag and Drop extension point(s)</Summery>
    <Patches amount="0" />
    <Stacktraces amount="0" />
    <SourceCodeRegions amount="0" />
    <Enumerations amount="1">
      <Enumeration lines="10">
        <Lines>
          <Line>1) The dragSource mentions as part of the priority attribute about registered</Line>
          <Line>transfer names but I dont see it in the schema for the dragsource. The idea</Line>
          <Line>behind a drag source listener is that the listener will be able to contribute</Line>
          <Line>data in the formats it supports for the specified element types or its children</Line>
          <Line>(adding a an optional attribute to indicate including subtypes should be</Line>
          <Line>considered in order to provide the flexibility to clients).</Line>
          <Line>2) The droptarget doesnt seem to have the classspec attribute. The reason we</Line>
          <Line>may want this is to allow clients to handle drop events on specfic targets or</Line>
          <Line>their subtypes. I did not see it in the schema and was wondering why in drag</Line>
          <Line>and why not in drop</Line>
        </Lines>
      </Enumeration>
    </Enumerations>
    <bug_status amount="RESOLVED" />
    <resolution amount="WONTFIX" />
    <WithStack>We have a need to allow plugins to override / extend the drag and drop handling 
for existing views (i.e. extend the existing TasksView to allow the drop of new 
elements onto it or extending the PackageExplorer's drag to allow for new 
transfer types to be proferred to the drop handling...)
Created attachment 26562
JFace extensions for prototype
Created attachment 26563
UI extensions for prototype
Created attachment 26564
ui.ide extensions for prototype
Created attachment 26565
ui.workbench extensions for prototype
Created attachment 26594
Update to the schema containing initial documentation
Are text editors affected in any way by this work item?
Shouldn't be...unless I get it wrong there should be no apparent change in 
current behaviour.

You -could- make the editors capable of supporting the new extesnions (there'll 
be a doc on how to do this) if you want or Users request it but I see this as 
less useful thatn it would be for some other editor types that are more 
artifact based (i.e. GEF...).

Take a look at the latest schema (in the attachments)...

If you need or want more info let me know. I'm most interested if you think 
that the 'acceptance' criteria need tightening (i.e. should I supply a flag to 
explicitly indicate that sub-classes should be included?) or anything I've 
missed.

Also, implementation of this will require that any existing WorkbenchPart for 
which we want extension support will have to make changes in that part's drag 
and drop handling. If you can supply a list of places (views, editors, Editor 
Area...) that you currently anticipate needing to add extensions I can start 
the process of ensuring that the changes are made in a timely manner, even for 
parts that we don't own here (i.e. JDT views...). My understanding is that in 
cases like this we get very quick turnaround on these requests as long as the 
cost of adoption is not too high (which it isn't in this case).

Hi Eric,
The following are my observations:

1) The dragSource mentions as part of the priority attribute about registered 
transfer names but I dont see it in the schema for the dragsource. The idea 
behind a drag source listener is that the listener will be able to contribute 
data in the formats it supports for the specified element types or its children 
(adding a an optional attribute to indicate including subtypes should be 
considered in order to provide the flexibility to clients).
2) The droptarget doesnt seem to have the classspec attribute. The reason we 
may want this is to allow clients to handle drop events on specfic targets or 
their subtypes. I did not see it in the schema and was wondering why in drag 
and why not in drop

Other than that it looks great.

The areas that we would need support are:
1) EditorParts (we have graphical editors - these are subclasses of GEF 
graphical editors.The gef editors subclass Eclipse EditorParts)
2) ViewParts (all our views extend the Eclipse ViewParts)

Let me know if you have any more questions
Thanks
Vishy


Vish, my comments...

for 1) The only reason that I mention the existing set of registered transfer 
types here is to cover off a (likely rare) case where you -may- want to 
override the current use of an existing transfer. The extension never needs to 
define its transfer in the XML since there is no scenario where its needed. I 
probably gave too much info...;-).

for 2) Hmmm, this is a fine-grained optimization, allowing the loading of the 
drop extension's plugin until the drop 'target' matches the spec. I'm not sure 
that this is necessary but I'll see if I can arrange to have an optional att.

We have to be careful not to go overboard on the delay-loading optimizations; 
we could end up with an extremely complex 'language' a la actionSets but I'm 
not convinced that it's worth the cost...remember that if the drag/drop 
extensions are registered in the same plugin that is supplying the objects for 
the drag source then it's (by definition) already loaded so intantiating the 
real drop listener is cheap (so load it and then let it decde if the 'target' 
is appropriate as it currently would if it was directly implemented without 
using extensions...).

Your mileage may vary...I'm not married to this and can be convinced with a 
suitable Use Case.

The 'targetID' is agnostic; it can identify either a View or Editor part. There 
is a presumption (as with all part ids) that they're unique within a given 
runtime.

BTW, could you add Anthony to the CC list?? the email address you gave me 
didn't work...


Created attachment 27269
Current Drag and Drop extension source (prototype)


This zip contains two stand-alone projects:

Dnd Prototype: contains the source and definition of the proposed extension
point.

DndTestHarness: Contains two views that use the new Dnd extension point.

Simply unzip into your workspace, import the projects and fire up a runtime.
Marking as later for 3.2.  I don't see UI doing something that is not definitely
required by preferably more than one source.  Shipping untested API in 3.2 that
will in that case have a high probability of not solving the problem.



*** Bug 96978 has been marked as a duplicate of this bug. ***
As of now 'LATER' and 'REMIND' resolutions are no longer supported.
Please reopen this bug if it is still valid for you.</WithStack>
    <WithOutStack>We have a need to allow plugins to override / extend the drag and drop handling 
for existing views (i.e. extend the existing TasksView to allow the drop of new 
elements onto it or extending the PackageExplorer's drag to allow for new 
transfer types to be proferred to the drop handling...)
Created attachment 26562
JFace extensions for prototype
Created attachment 26563
UI extensions for prototype
Created attachment 26564
ui.ide extensions for prototype
Created attachment 26565
ui.workbench extensions for prototype
Created attachment 26594
Update to the schema containing initial documentation
Are text editors affected in any way by this work item?
Shouldn't be...unless I get it wrong there should be no apparent change in 
current behaviour.

You -could- make the editors capable of supporting the new extesnions (there'll 
be a doc on how to do this) if you want or Users request it but I see this as 
less useful thatn it would be for some other editor types that are more 
artifact based (i.e. GEF...).

Take a look at the latest schema (in the attachments)...

If you need or want more info let me know. I'm most interested if you think 
that the 'acceptance' criteria need tightening (i.e. should I supply a flag to 
explicitly indicate that sub-classes should be included?) or anything I've 
missed.

Also, implementation of this will require that any existing WorkbenchPart for 
which we want extension support will have to make changes in that part's drag 
and drop handling. If you can supply a list of places (views, editors, Editor 
Area...) that you currently anticipate needing to add extensions I can start 
the process of ensuring that the changes are made in a timely manner, even for 
parts that we don't own here (i.e. JDT views...). My understanding is that in 
cases like this we get very quick turnaround on these requests as long as the 
cost of adoption is not too high (which it isn't in this case).

Hi Eric,
The following are my observations:

1) The dragSource mentions as part of the priority attribute about registered 
transfer names but I dont see it in the schema for the dragsource. The idea 
behind a drag source listener is that the listener will be able to contribute 
data in the formats it supports for the specified element types or its children 
(adding a an optional attribute to indicate including subtypes should be 
considered in order to provide the flexibility to clients).
2) The droptarget doesnt seem to have the classspec attribute. The reason we 
may want this is to allow clients to handle drop events on specfic targets or 
their subtypes. I did not see it in the schema and was wondering why in drag 
and why not in drop

Other than that it looks great.

The areas that we would need support are:
1) EditorParts (we have graphical editors - these are subclasses of GEF 
graphical editors.The gef editors subclass Eclipse EditorParts)
2) ViewParts (all our views extend the Eclipse ViewParts)

Let me know if you have any more questions
Thanks
Vishy


Vish, my comments...

for 1) The only reason that I mention the existing set of registered transfer 
types here is to cover off a (likely rare) case where you -may- want to 
override the current use of an existing transfer. The extension never needs to 
define its transfer in the XML since there is no scenario where its needed. I 
probably gave too much info...;-).

for 2) Hmmm, this is a fine-grained optimization, allowing the loading of the 
drop extension's plugin until the drop 'target' matches the spec. I'm not sure 
that this is necessary but I'll see if I can arrange to have an optional att.

We have to be careful not to go overboard on the delay-loading optimizations; 
we could end up with an extremely complex 'language' a la actionSets but I'm 
not convinced that it's worth the cost...remember that if the drag/drop 
extensions are registered in the same plugin that is supplying the objects for 
the drag source then it's (by definition) already loaded so intantiating the 
real drop listener is cheap (so load it and then let it decde if the 'target' 
is appropriate as it currently would if it was directly implemented without 
using extensions...).

Your mileage may vary...I'm not married to this and can be convinced with a 
suitable Use Case.

The 'targetID' is agnostic; it can identify either a View or Editor part. There 
is a presumption (as with all part ids) that they're unique within a given 
runtime.

BTW, could you add Anthony to the CC list?? the email address you gave me 
didn't work...


Created attachment 27269
Current Drag and Drop extension source (prototype)


This zip contains two stand-alone projects:

Dnd Prototype: contains the source and definition of the proposed extension
point.

DndTestHarness: Contains two views that use the new Dnd extension point.

Simply unzip into your workspace, import the projects and fire up a runtime.
Marking as later for 3.2.  I don't see UI doing something that is not definitely
required by preferably more than one source.  Shipping untested API in 3.2 that
will in that case have a high probability of not solving the problem.



*** Bug 96978 has been marked as a duplicate of this bug. ***
As of now 'LATER' and 'REMIND' resolutions are no longer supported.
Please reopen this bug if it is still valid for you.</WithOutStack>
  </Bug>
  <Bug>
    <BugId amount="107847" />
    <CreationDate amount="2005-08-24 10:23:00 -0400" />
    <DupId amount="" />
    <classification amount="Eclipse" />
    <Product amount="Platform" />
    <component amount="Runtime" />
    <Version amount="3.1" />
    <rep_platform amount="PC" />
    <op_sys amount="Windows XP" />
    <priority amount="P3" />
    <bug_severity amount="major" />
    <Summery>[osgi] Security Error in URL Stream Handler</Summery>
    <Patches amount="0" />
    <Stacktraces amount="1">
      <Stacktrace timestamp="1437330570746">
        <Exception>java.security.AccessControlException</Exception>
        <Reason>Access denied
(org.osgi.framework.ServicePermission
org.osgi.service.url.URLStreamHandlerService get)</Reason>
        <Frames>
          <Frame depth="0">java.security.AccessController.checkPermission(AccessController.java:107)</Frame>
          <Frame depth="1">java.lang.SecurityManager.checkPermission(SecurityManager.java:547)</Frame>
          <Frame depth="2">com.ibm.ws.security.core.SecurityManager.checkPermission(SecurityManager.java:188)</Frame>
          <Frame depth="3">org.eclipse.osgi.framework.internal.core.Framework.checkGetServicePermission(Framework.java:1300)</Frame>
          <Frame depth="4">org.eclipse.osgi.framework.internal.core.Framework.getServiceReferences(Framework.java:1174)</Frame>
          <Frame depth="5">org.eclipse.osgi.framework.internal.core.BundleContextImpl.getServiceReferences(BundleContextImpl.java:718)</Frame>
          <Frame depth="6">org.osgi.util.tracker.ServiceTracker.getInitialReferences(ServiceTracker.java:305)</Frame>
          <Frame depth="7">org.osgi.util.tracker.ServiceTracker.open(ServiceTracker.java:264)</Frame>
          <Frame depth="8">org.osgi.util.tracker.ServiceTracker.open(ServiceTracker.java:218)</Frame>
          <Frame depth="9">org.eclipse.osgi.framework.internal.protocol.URLStreamHandlerProxy.&lt;init&gt;(URLStreamHandlerProxy.java:61)</Frame>
          <Frame depth="10">org.eclipse.osgi.framework.internal.protocol.StreamHandlerFactory.createURLStreamHandler(StreamHandlerFactory.java:110)</Frame>
          <Frame depth="11">java.net.URL.getURLStreamHandler(URL.java:1137)</Frame>
          <Frame depth="12">java.net.URL.&lt;init&gt;(URL.java:605)</Frame>
          <Frame depth="13">java.net.URL.&lt;init&gt;(URL.java:497)</Frame>
          <Frame depth="14">java.net.URL.&lt;init&gt;(URL.java:446)</Frame>
          <Frame depth="15">com.acme.foo.TestUrlEJB.performTests(TestUrlEJB.java)</Frame>
        </Frames>
      </Stacktrace>
    </Stacktraces>
    <SourceCodeRegions amount="0" />
    <Enumerations amount="0" />
    <bug_status amount="RESOLVED" />
    <resolution amount="FIXED" />
    <WithStack>This is the same problem reported by bug 90980.  I've looked through
the code and don't see any doPrivs (nor do they show up in the stack
trace below).  Perhaps the fix was dropped?   

A fix for this in 3.1.1 or 3.1.2 would be quite helpful.

Here is the stack trace:

java.security.AccessControlException: Access denied
(org.osgi.framework.ServicePermission
org.osgi.service.url.URLStreamHandlerService get)
	at java.security.AccessController.checkPermission(AccessController.java:107)
	at java.lang.SecurityManager.checkPermission(SecurityManager.java:547)
	at
com.ibm.ws.security.core.SecurityManager.checkPermission(SecurityManager.java:188)
	at
org.eclipse.osgi.framework.internal.core.Framework.checkGetServicePermission(Framework.java:1300)
	at
org.eclipse.osgi.framework.internal.core.Framework.getServiceReferences(Framework.java:1174)
	at
org.eclipse.osgi.framework.internal.core.BundleContextImpl.getServiceReferences(BundleContextImpl.java:718)
	at
org.osgi.util.tracker.ServiceTracker.getInitialReferences(ServiceTracker.java:305)
	at org.osgi.util.tracker.ServiceTracker.open(ServiceTracker.java:264)
	at org.osgi.util.tracker.ServiceTracker.open(ServiceTracker.java:218)
	at
org.eclipse.osgi.framework.internal.protocol.URLStreamHandlerProxy.&lt;init&gt;(URLStreamHandlerProxy.java:61)
	at
org.eclipse.osgi.framework.internal.protocol.StreamHandlerFactory.createURLStreamHandler(StreamHandlerFactory.java:110)
	at java.net.URL.getURLStreamHandler(URL.java:1137)
	at java.net.URL.&lt;init&gt;(URL.java:605)
	at java.net.URL.&lt;init&gt;(URL.java:497)
	at java.net.URL.&lt;init&gt;(URL.java:446)
	at com.acme.foo.TestUrlEJB.performTests(TestUrlEJB.java)
I will investigate ...
Created attachment 26413
Proposed fix

wraps doPriv around calls to ServiceTracker.open and System.getProperty
I want to get confirmation from Tom Musta that this patch fixes his problem.  

Pascal, please review patch for 3.1.1 once Tom confirms the fix.  Thanks.
I've tested out the change made by Thomas and it works.
Fix released in HEAD (3.2).  Waiting for review from Pascal for 3.1.1 
maintenance release.
Aren't you now opening the Tracker twice when you have no SecurityManager installed?
Yes, Michael we are.  Nice catch, thanks!  I will post a new patch.
Created attachment 26445
Better proposed fix

Modified fix to avoid opening the ServiceTracker object twice.
This is good to go.
Fixed in 3.1 maintenance branch and HEAD.</WithStack>
    <WithOutStack>This is the same problem reported by bug 90980.  I've looked through
the code and don't see any doPrivs (nor do they show up in the stack
trace below).  Perhaps the fix was dropped?   

A fix for this in 3.1.1 or 3.1.2 would be quite helpful.

Here is the stack trace:


I will investigate ...
Created attachment 26413
Proposed fix

wraps doPriv around calls to ServiceTracker.open and System.getProperty
I want to get confirmation from Tom Musta that this patch fixes his problem.  

Pascal, please review patch for 3.1.1 once Tom confirms the fix.  Thanks.
I've tested out the change made by Thomas and it works.
Fix released in HEAD (3.2).  Waiting for review from Pascal for 3.1.1 
maintenance release.
Aren't you now opening the Tracker twice when you have no SecurityManager installed?
Yes, Michael we are.  Nice catch, thanks!  I will post a new patch.
Created attachment 26445
Better proposed fix

Modified fix to avoid opening the ServiceTracker object twice.
This is good to go.
Fixed in 3.1 maintenance branch and HEAD.</WithOutStack>
  </Bug>
  <Bug>
    <BugId amount="107848" />
    <CreationDate amount="2005-08-24 10:24:00 -0400" />
    <DupId amount="" />
    <classification amount="WebTools" />
    <Product amount="WTP Common Tools" />
    <component amount="wst.common" />
    <Version amount="unspecified" />
    <rep_platform amount="PC" />
    <op_sys amount="Windows XP" />
    <priority amount="P3" />
    <bug_severity amount="critical" />
    <Summery>Incorrect copyrights in wst.frameworks.ui</Summery>
    <Patches amount="0" />
    <Stacktraces amount="0" />
    <SourceCodeRegions amount="0" />
    <Enumerations amount="0" />
    <bug_status amount="CLOSED" />
    <resolution amount="FIXED" />
    <WithStack>The following files have incorrect copyrights:

org/eclipse/wst/common/frameworks/internal/ui/OverlayIcon.java
org/eclipse/wst/common/frameworks/internal/enablement/FunctionGroup.java 
org/eclipse/wst/common/frameworks/internal/enablement/FunctionGroupRegistry.java
 
org/eclipse/wst/common/frameworks/internal/operation/extensionui/ExtensibleViewR
egistry.java 
org/eclipse/wst/common/frameworks/internal/SaveHandlerRegister.java
One more:

org/eclipse/wst/common/frameworks/internal/ui/ErrorDialog.java
Dropped to build
Closing bug.</WithStack>
    <WithOutStack>The following files have incorrect copyrights:

org/eclipse/wst/common/frameworks/internal/ui/OverlayIcon.java
org/eclipse/wst/common/frameworks/internal/enablement/FunctionGroup.java 
org/eclipse/wst/common/frameworks/internal/enablement/FunctionGroupRegistry.java
 
org/eclipse/wst/common/frameworks/internal/operation/extensionui/ExtensibleViewR
egistry.java 
org/eclipse/wst/common/frameworks/internal/SaveHandlerRegister.java
One more:

org/eclipse/wst/common/frameworks/internal/ui/ErrorDialog.java
Dropped to build
Closing bug.</WithOutStack>
  </Bug>
  <Bug>
    <BugId amount="107849" />
    <CreationDate amount="2005-08-24 10:25:00 -0400" />
    <DupId amount="" />
    <classification amount="WebTools" />
    <Product amount="WTP Java EE Tools" />
    <component amount="jst.j2ee" />
    <Version amount="unspecified" />
    <rep_platform amount="PC" />
    <op_sys amount="Windows XP" />
    <priority amount="P3" />
    <bug_severity amount="critical" />
    <Summery>Incorrect copyrights in jst.j2ee</Summery>
    <Patches amount="0" />
    <Stacktraces amount="0" />
    <SourceCodeRegions amount="0" />
    <Enumerations amount="0" />
    <bug_status amount="CLOSED" />
    <resolution amount="FIXED" />
    <WithStack>The following files have incorrect copyrights:

org/eclipse/jst/j2ee/internal/project/IWebNatureConstants.java 
org/eclipse/jst/j2ee/internal/project/ProjectSupportResourceHandler.java 
org/eclipse/jst/j2ee/internal/web/operations/ProjectSupportResourceHandler.java
Dropped to build 8/26
Closing bug.</WithStack>
    <WithOutStack>The following files have incorrect copyrights:

org/eclipse/jst/j2ee/internal/project/IWebNatureConstants.java 
org/eclipse/jst/j2ee/internal/project/ProjectSupportResourceHandler.java 
org/eclipse/jst/j2ee/internal/web/operations/ProjectSupportResourceHandler.java
Dropped to build 8/26
Closing bug.</WithOutStack>
  </Bug>
  <Bug>
    <BugId amount="107850" />
    <CreationDate amount="2005-08-24 10:25:00 -0400" />
    <DupId amount="" />
    <classification amount="WebTools" />
    <Product amount="WTP Java EE Tools" />
    <component amount="jst.servlet" />
    <Version amount="unspecified" />
    <rep_platform amount="PC" />
    <op_sys amount="Windows XP" />
    <priority amount="P3" />
    <bug_severity amount="critical" />
    <Summery>Incorrect copyrights in jst.servlet</Summery>
    <Patches amount="0" />
    <Stacktraces amount="0" />
    <SourceCodeRegions amount="0" />
    <Enumerations amount="0" />
    <bug_status amount="CLOSED" />
    <resolution amount="FIXED" />
    <WithStack>The following files have incorrect copyrights:

org/eclipse/jst/servlet/ui/internal/actions/ConvertToWebModuleTypeAction.java 
org/eclipse/jst/servlet/ui/internal/wizard/ConvertToWebComponentTypeWizard.java
Dropped to 8/26 build
Closing bug.</WithStack>
    <WithOutStack>The following files have incorrect copyrights:

org/eclipse/jst/servlet/ui/internal/actions/ConvertToWebModuleTypeAction.java 
org/eclipse/jst/servlet/ui/internal/wizard/ConvertToWebComponentTypeWizard.java
Dropped to 8/26 build
Closing bug.</WithOutStack>
  </Bug>
  <Bug>
    <BugId amount="107851" />
    <CreationDate amount="2005-08-24 10:26:00 -0400" />
    <DupId amount="" />
    <classification amount="Tools" />
    <Product amount="TPTP Release Engineering" />
    <component amount="TPTP.Web" />
    <Version amount="4.1" />
    <rep_platform amount="PC" />
    <op_sys amount="Windows XP" />
    <priority amount="P3" />
    <bug_severity amount="normal" />
    <Summery>Broken link in Project architecture page</Summery>
    <Patches amount="0" />
    <Stacktraces amount="0" />
    <SourceCodeRegions amount="0" />
    <Enumerations amount="0" />
    <bug_status amount="CLOSED" />
    <resolution amount="FIXED" />
    <WithStack>In http://www.eclipse.org/tptp/groups/Architecture/documents/arch_main.html, 
in the architecture diagram, the hotspot for the "BIRT" box 
is "http://eclipse.org/birt/index.html".  It should 
be "http://www.eclipse.org/birt/"
fixed. please verify.
verified and closed.</WithStack>
    <WithOutStack>In http://www.eclipse.org/tptp/groups/Architecture/documents/arch_main.html, 
in the architecture diagram, the hotspot for the "BIRT" box 
is "http://eclipse.org/birt/index.html".  It should 
be "http://www.eclipse.org/birt/"
fixed. please verify.
verified and closed.</WithOutStack>
  </Bug>
  <Bug>
    <BugId amount="107852" />
    <CreationDate amount="2005-08-24 10:27:00 -0400" />
    <DupId amount="84344" />
    <classification amount="Eclipse" />
    <Product amount="Platform" />
    <component amount="Releng" />
    <Version amount="3.1" />
    <rep_platform amount="PC" />
    <op_sys amount="Solaris-GTK" />
    <priority amount="P3" />
    <bug_severity amount="normal" />
    <Summery>Eclipse doesn't allow  install on Solaris10/x86 with GTK</Summery>
    <Patches amount="0" />
    <Stacktraces amount="1">
      <Stacktrace timestamp="1437330570746">
        <Exception>java.lang.NoClassDefFoundError</Exception>
        <Reason>:
org/apache/tools/ant/taskdefs/compilers/DefaultCompilerAdapter</Reason>
        <Frames>
          <Frame depth="0">java.lang.ClassLoader.defineClass0(Native Method)</Frame>
          <Frame depth="1">java.lang.ClassLoader.defineClass(ClassLoader.java:537)</Frame>
          <Frame depth="2">java.security.SecureClassLoader.defineClass(SecureClassLoader.java:123)</Frame>
          <Frame depth="3">java.net.URLClassLoader.defineClass(URLClassLoader.java:251)</Frame>
          <Frame depth="4">java.net.URLClassLoader.access$100(URLClassLoader.java:55)</Frame>
          <Frame depth="5">java.net.URLClassLoader$1.run(URLClassLoader.java:194)</Frame>
          <Frame depth="6">java.security.AccessController.doPrivileged(Native Method)</Frame>
          <Frame depth="7">java.net.URLClassLoader.findClass(URLClassLoader.java:187)</Frame>
          <Frame depth="8">java.lang.ClassLoader.loadClass(ClassLoader.java:289)</Frame>
          <Frame depth="9">sun.misc.Launcher$AppClassLoader.loadClass(Launcher.java:274)</Frame>
          <Frame depth="10">java.lang.ClassLoader.loadClass(ClassLoader.java:282)</Frame>
          <Frame depth="11">java.lang.ClassLoader.loadClass(ClassLoader.java:235)</Frame>
          <Frame depth="12">java.lang.ClassLoader.loadClassInternal(ClassLoader.java:302)</Frame>
          <Frame depth="13">java.lang.Class.forName0(Native Method)</Frame>
          <Frame depth="14">java.lang.Class.forName(Class.java:141)</Frame>
          <Frame depth="15">org.apache.tools.ant.taskdefs.compilers.CompilerAdapterFactory.resolveClassName(CompilerAdapterFactory.java:162)</Frame>
          <Frame depth="16">org.apache.tools.ant.taskdefs.compilers.CompilerAdapterFactory.getCompiler(CompilerAdapterFactory.java:130)</Frame>
          <Frame depth="17">org.apache.tools.ant.taskdefs.Javac.compile(Javac.java:929)</Frame>
          <Frame depth="18">org.apache.tools.ant.taskdefs.Javac.execute(Javac.java:758)</Frame>
          <Frame depth="19">org.apache.tools.ant.UnknownElement.execute(UnknownElement.java:275)</Frame>
          <Frame depth="20">org.apache.tools.ant.Task.perform(Task.java:364)</Frame>
          <Frame depth="21">org.apache.tools.ant.Target.execute(Target.java:341)</Frame>
          <Frame depth="22">org.apache.tools.ant.Target.performTasks(Target.java:369)</Frame>
          <Frame depth="23">org.apache.tools.ant.Project.executeTarget(Project.java:1214)</Frame>
          <Frame depth="24">org.apache.tools.ant.Project.executeTargets(Project.java:1062)</Frame>
          <Frame depth="25">org.apache.tools.ant.Main.runBuild(Main.java:673)</Frame>
          <Frame depth="26">org.apache.tools.ant.Main.startAnt(Main.java:188)</Frame>
          <Frame depth="27">org.apache.tools.ant.launch.Launcher.run(Launcher.java:196)</Frame>
          <Frame depth="28">org.apache.tools.ant.launch.Launcher.main(Launcher.java:55)</Frame>
        </Frames>
      </Stacktrace>
    </Stacktraces>
    <SourceCodeRegions amount="0" />
    <Enumerations amount="0" />
    <bug_status amount="RESOLVED" />
    <resolution amount="DUPLICATE" />
    <WithStack>I downloaded the sourcebuild of Eclipse 3.1. I wanted to create the build for
Solaris-gtk-x86 but there's an error which i don't know how to fix.

The following is displayed in my terminal after he has done something:

BUILD SUCCESSFUL
Total time: 1 minute 15 seconds
Assuming RHEL CLASSPATH compatible.
     [echo] TARGET: compiler2
     [echo] compilerArg -encoding ISO-8859-1
     [echo] build compiler org.eclipse.jdt.core.JDTCompilerAdapter

BUILD FAILED
/Desktop/eclipse/jdtcoresrc/compilejdtcore.xml:47: Compiler Adapter
'org.eclipse.jdt.core.JDTCompilerAdapter' can't be found.

Total time: 5 seconds
Assuming RHEL CLASSPATH compatible.

BUILD FAILED
/Desktop/eclipse/build.xml:238: The Eclipse compiler (ecj.jar) cannot be found.

Total time: 4 seconds 


Ich hope you can help me.
I have the same problem on another platform, debian (sarge), j2sdk 1.4.2, and
ant 1.6.2. Build is ran for linux,gtk,x86.

It sounds like a more apt summary for this bug would be along the lines, "
Eclipse can not get compiler from CompilerAdapterFactory". It is also not
specific to Solaris-GTK. (Assuming we are seeing the same bug.)

compilelog2.txt:

    [javac] Compiling 297 source files to
/home/chris/school/archive/grad/1/spring/cs239-4/eclipse/jdtcoresrc/compiler2

BUILD FAILED

/home/chris/school/archive/grad/1/spring/cs239-4/eclipse/jdtcoresrc/compilejdtcore.xml:47:
Compiler Adapter org.eclipse.jdt.core.JDTCompilerAdapter caused an interesting
exception.
        at
org.apache.tools.ant.taskdefs.compilers.CompilerAdapterFactory.resolveClassName(CompilerAdapterFactory.java:173)
        at
org.apache.tools.ant.taskdefs.compilers.CompilerAdapterFactory.getCompiler(CompilerAdapterFactory.java:130)
        at org.apache.tools.ant.taskdefs.Javac.compile(Javac.java:929)
        at org.apache.tools.ant.taskdefs.Javac.execute(Javac.java:758)
        at org.apache.tools.ant.UnknownElement.execute(UnknownElement.java:275)
        at org.apache.tools.ant.Task.perform(Task.java:364)
        at org.apache.tools.ant.Target.execute(Target.java:341)
        at org.apache.tools.ant.Target.performTasks(Target.java:369)
        at org.apache.tools.ant.Project.executeTarget(Project.java:1214)
        at org.apache.tools.ant.Project.executeTargets(Project.java:1062)
        at org.apache.tools.ant.Main.runBuild(Main.java:673)
        at org.apache.tools.ant.Main.startAnt(Main.java:188)
        at org.apache.tools.ant.launch.Launcher.run(Launcher.java:196)
        at org.apache.tools.ant.launch.Launcher.main(Launcher.java:55)
Caused by: java.lang.NoClassDefFoundError:
org/apache/tools/ant/taskdefs/compilers/DefaultCompilerAdapter
        at java.lang.ClassLoader.defineClass0(Native Method)
        at java.lang.ClassLoader.defineClass(ClassLoader.java:537)
        at java.security.SecureClassLoader.defineClass(SecureClassLoader.java:123)
        at java.net.URLClassLoader.defineClass(URLClassLoader.java:251)
        at java.net.URLClassLoader.access$100(URLClassLoader.java:55)
        at java.net.URLClassLoader$1.run(URLClassLoader.java:194)
        at java.security.AccessController.doPrivileged(Native Method)
        at java.net.URLClassLoader.findClass(URLClassLoader.java:187)
        at java.lang.ClassLoader.loadClass(ClassLoader.java:289)
        at sun.misc.Launcher$AppClassLoader.loadClass(Launcher.java:274)
        at java.lang.ClassLoader.loadClass(ClassLoader.java:282)
        at java.lang.ClassLoader.loadClass(ClassLoader.java:235)
        at java.lang.ClassLoader.loadClassInternal(ClassLoader.java:302)
        at java.lang.Class.forName0(Native Method)
        at java.lang.Class.forName(Class.java:141)
        at
org.apache.tools.ant.taskdefs.compilers.CompilerAdapterFactory.resolveClassName(CompilerAdapterFactory.java:162)
        ... 13 more
--- Nested Exception ---
java.lang.NoClassDefFoundError:
org/apache/tools/ant/taskdefs/compilers/DefaultCompilerAdapter
        at java.lang.ClassLoader.defineClass0(Native Method)
        at java.lang.ClassLoader.defineClass(ClassLoader.java:537)
        at java.security.SecureClassLoader.defineClass(SecureClassLoader.java:123)
        at java.net.URLClassLoader.defineClass(URLClassLoader.java:251)
        at java.net.URLClassLoader.access$100(URLClassLoader.java:55)
        at java.net.URLClassLoader$1.run(URLClassLoader.java:194)
        at java.security.AccessController.doPrivileged(Native Method)
        at java.net.URLClassLoader.findClass(URLClassLoader.java:187)
        at java.lang.ClassLoader.loadClass(ClassLoader.java:289)
        at sun.misc.Launcher$AppClassLoader.loadClass(Launcher.java:274)
        at java.lang.ClassLoader.loadClass(ClassLoader.java:282)
        at java.lang.ClassLoader.loadClass(ClassLoader.java:235)
        at java.lang.ClassLoader.loadClassInternal(ClassLoader.java:302)
        at java.lang.Class.forName0(Native Method)
        at java.lang.Class.forName(Class.java:141)
        at
org.apache.tools.ant.taskdefs.compilers.CompilerAdapterFactory.resolveClassName(CompilerAdapterFactory.java:162)
        at
org.apache.tools.ant.taskdefs.compilers.CompilerAdapterFactory.getCompiler(CompilerAdapterFactory.java:130)
        at org.apache.tools.ant.taskdefs.Javac.compile(Javac.java:929)
        at org.apache.tools.ant.taskdefs.Javac.execute(Javac.java:758)
        at org.apache.tools.ant.UnknownElement.execute(UnknownElement.java:275)
        at org.apache.tools.ant.Task.perform(Task.java:364)
        at org.apache.tools.ant.Target.execute(Target.java:341)
        at org.apache.tools.ant.Target.performTasks(Target.java:369)
        at org.apache.tools.ant.Project.executeTarget(Project.java:1214)
        at org.apache.tools.ant.Project.executeTargets(Project.java:1062)
        at org.apache.tools.ant.Main.runBuild(Main.java:673)
        at org.apache.tools.ant.Main.startAnt(Main.java:188)
        at org.apache.tools.ant.launch.Launcher.run(Launcher.java:196)
        at org.apache.tools.ant.launch.Launcher.main(Launcher.java:55)
Same problem with j2sdk1.5 on Debian Linux GTK. I changed the build.xml file to
javacSource=1.4 as instructed.
I have had this problem with Solaris Express 8/05, j2sdk1.5.0_01 and ant 1.6.5.
It is apparently caused by ant not finding the ecj.jar when it builds the
ecj.jar with itself (the jdtcoresrc/compiler2 stuff). I managed to get past that
point with the build with a simple trick:

First unpack the eclipse SDK 3.1 sources in some directory $ECLIPSE_SRC. If you
are building for Solaris x86, you will have to create the file structure for it
just like the sparc structure that is already there.

From here use the following commands:
cd $ECLIPSE_SRC/jdtcoresrc
ant -buildfile compilejdtcorewithjavac.xml
CLASSPATH=./ecj.jar ant -buildfile compilejdtcore.xml
cd ..
CLASSPATH=./ecj.jar ./build -os solaris -ws gtk -arch i386 -compilelibs
CLASSPATH=./ecj.jar ./build -os solaris -ws motif -arch i386 -compilelibs

I have tested this on Solaris, but in principle any Unix-like platform will work
accordingly. I also got lots of compilation warnings but I guess this is caused
by the JDK 1.5.0 I am using.

Now someone who knows one's way through ant could fix this small classpath
problem and save us all this trouble.

Doug
Thanks Doug.
Trying this on the platform I mentioned (but with jdk 1.5 instead of 1.4.2), it
appears that the ./build still goes to generate ecj.jar and fails. The failure
does seem to be a bit different, some output from compilelog.txt:

build.jars:

properties:

init:

@dot:
    [mkdir] Created dir:
/home/chris/school/archive/grad/1/spring/cs239-4/eclipse/plugins/org.eclipse.osgi/temp.folder/@dot.bin
    [javac] Compiling 261 source files to
/home/chris/school/archive/grad/1/spring/cs239-4/eclipse/plugins/org.eclipse.osgi/temp.folder/@dot.bin

BUILD FAILED

/home/chris/school/archive/grad/1/spring/cs239-4/eclipse/build.xml:37: The
following error occurred while executing this line:
/home/chris/school/archive/grad/1/spring/cs239-4/eclipse/build.xml:8: The
following error occurred while executing this line:
/home/chris/school/archive/grad/1/spring/cs239-4/eclipse/features/org.eclipse.sdk/build.xml:35:
The following error occurred while executing this line:
/home/chris/school/archive/grad/1/spring/cs239-4/eclipse/features/org.eclipse.sdk/build.xml:17:
The following error occurred while executing this line:
/home/chris/school/archive/grad/1/spring/cs239-4/eclipse/features/org.eclipse.platform/build.xml:305:
The following error occurred while executing this line:
/home/chris/school/archive/grad/1/spring/cs239-4/eclipse/features/org.eclipse.platform/build.xml:292:
The following error occurred while executing this line:
/home/chris/school/archive/grad/1/spring/cs239-4/eclipse/features/org.eclipse.rcp/build.xml:144:
The following error occurred while executing this line:
/home/chris/school/archive/grad/1/spring/cs239-4/eclipse/features/org.eclipse.rcp/build.xml:15:
The following error occurred while executing this line:
/home/chris/school/archive/grad/1/spring/cs239-4/eclipse/plugins/org.eclipse.osgi/build.xml:100:
The following error occurred while executing this line:
/home/chris/school/archive/grad/1/spring/cs239-4/eclipse/plugins/org.eclipse.osgi/build.xml:56:
Compiler Adapter org.eclipse.jdt.core.JDTCompilerAdapter caused an interesting
exception.
        at
org.apache.tools.ant.ProjectHelper.addLocationToBuildException(ProjectHelper.java:539)
        at org.apache.tools.ant.taskdefs.Ant.execute(Ant.java:388)
        at org.apache.tools.ant.taskdefs.CallTarget.execute(CallTarget.java:106)
        at org.apache.tools.ant.UnknownElement.execute(UnknownElement.java:275)
        at org.apache.tools.ant.Task.perform(Task.java:364)
        at org.apache.tools.ant.Target.execute(Target.java:341)
        at org.apache.tools.ant.Target.performTasks(Target.java:369)
        at org.apache.tools.ant.Project.executeTarget(Project.java:1214)
        at org.apache.tools.ant.Project.executeTargets(Project.java:1062)
        at org.apache.tools.ant.Main.runBuild(Main.java:673)
        at org.apache.tools.ant.Main.startAnt(Main.java:188)
        at org.apache.tools.ant.launch.Launcher.run(Launcher.java:196)
        at org.apache.tools.ant.launch.Launcher.main(Launcher.java:55)


Dozens more org.eclipse.jdt.core.JDTCompilerAdapter exceptions are generated
following this one.
Chris,
I don´t have the code right here (I´m at work now) but I´ll look into it later.
Maybe you can take a look at the build.xml line 37 to try to figure out what the
script was trying to do when it issued the first error.
BTW, I just forgot to mention yesterday. I defined the following variable in my
shell before trying to build the ecj.jar as the build would fail right at the
beginning because of memory exhaustion:
ANT_OPTS=-Xmx1024m;export ANT_OPTS
Maybe this will solve your problem before we try to look into the build scripts.
Cheers,
Doug
build.xml:37 is an antcall for allElements's build.jars. The exception bottoms
out doing a javac for the @dot target at plugins/org.eclipse.osgi/build.xml:56.

(thanks again for the help)
Solaris 10-gtk-x86 is not a supported platform for eclipse 3.1

http://www.eclipse.org/eclipse/development/eclipse_project_plan_3_1.html#TargetOperatingEnvironments

If you would like this architecture to be added to the source build scripts for
the 3.2 stream, please provide a patch. We are not adding additional platform
support to 3.1.1 stream builds.

The majority of comments in this bug occur on the linux platform. As this bug is
marked for solaris and this configuration of solaris is not yet supported, I
have created bug #109351 for these build problems on linux.


*** This bug has been marked as a duplicate of 84344 ***</WithStack>
    <WithOutStack>I downloaded the sourcebuild of Eclipse 3.1. I wanted to create the build for
Solaris-gtk-x86 but there's an error which i don't know how to fix.

The following is displayed in my terminal after he has done something:

BUILD SUCCESSFUL
Total time: 1 minute 15 seconds
Assuming RHEL CLASSPATH compatible.
     [echo] TARGET: compiler2
     [echo] compilerArg -encoding ISO-8859-1
     [echo] build compiler org.eclipse.jdt.core.JDTCompilerAdapter

BUILD FAILED
/Desktop/eclipse/jdtcoresrc/compilejdtcore.xml:47: Compiler Adapter
'org.eclipse.jdt.core.JDTCompilerAdapter' can't be found.

Total time: 5 seconds
Assuming RHEL CLASSPATH compatible.

BUILD FAILED
/Desktop/eclipse/build.xml:238: The Eclipse compiler (ecj.jar) cannot be found.

Total time: 4 seconds 


Ich hope you can help me.
I have the same problem on another platform, debian (sarge), j2sdk 1.4.2, and
ant 1.6.2. Build is ran for linux,gtk,x86.

It sounds like a more apt summary for this bug would be along the lines, "
Eclipse can not get compiler from CompilerAdapterFactory". It is also not
specific to Solaris-GTK. (Assuming we are seeing the same bug.)

compilelog2.txt:

    [javac] Compiling 297 source files to
/home/chris/school/archive/grad/1/spring/cs239-4/eclipse/jdtcoresrc/compiler2

BUILD FAILED

/home/chris/school/archive/grad/1/spring/cs239-4/eclipse/jdtcoresrc/compilejdtcore.xml:47:
Compiler Adapter org.eclipse.jdt.core.JDTCompilerAdapter caused an interesting
exception.
        at
org.apache.tools.ant.taskdefs.compilers.CompilerAdapterFactory.resolveClassName(CompilerAdapterFactory.java:173)
        at
org.apache.tools.ant.taskdefs.compilers.CompilerAdapterFactory.getCompiler(CompilerAdapterFactory.java:130)
        at org.apache.tools.ant.taskdefs.Javac.compile(Javac.java:929)
        at org.apache.tools.ant.taskdefs.Javac.execute(Javac.java:758)
        at org.apache.tools.ant.UnknownElement.execute(UnknownElement.java:275)
        at org.apache.tools.ant.Task.perform(Task.java:364)
        at org.apache.tools.ant.Target.execute(Target.java:341)
        at org.apache.tools.ant.Target.performTasks(Target.java:369)
        at org.apache.tools.ant.Project.executeTarget(Project.java:1214)
        at org.apache.tools.ant.Project.executeTargets(Project.java:1062)
        at org.apache.tools.ant.Main.runBuild(Main.java:673)
        at org.apache.tools.ant.Main.startAnt(Main.java:188)
        at org.apache.tools.ant.launch.Launcher.run(Launcher.java:196)
        at org.apache.tools.ant.launch.Launcher.main(Launcher.java:55)
Caused by: java.lang.NoClassDefFoundError:
org/apache/tools/ant/taskdefs/compilers/DefaultCompilerAdapter
        at java.lang.ClassLoader.defineClass0(Native Method)
        at java.lang.ClassLoader.defineClass(ClassLoader.java:537)
        at java.security.SecureClassLoader.defineClass(SecureClassLoader.java:123)
        at java.net.URLClassLoader.defineClass(URLClassLoader.java:251)
        at java.net.URLClassLoader.access$100(URLClassLoader.java:55)
        at java.net.URLClassLoader$1.run(URLClassLoader.java:194)
        at java.security.AccessController.doPrivileged(Native Method)
        at java.net.URLClassLoader.findClass(URLClassLoader.java:187)
        at java.lang.ClassLoader.loadClass(ClassLoader.java:289)
        at sun.misc.Launcher$AppClassLoader.loadClass(Launcher.java:274)
        at java.lang.ClassLoader.loadClass(ClassLoader.java:282)
        at java.lang.ClassLoader.loadClass(ClassLoader.java:235)
        at java.lang.ClassLoader.loadClassInternal(ClassLoader.java:302)
        at java.lang.Class.forName0(Native Method)
        at java.lang.Class.forName(Class.java:141)
        at
org.apache.tools.ant.taskdefs.compilers.CompilerAdapterFactory.resolveClassName(CompilerAdapterFactory.java:162)
        ... 13 more
--- Nested Exception ---

Same problem with j2sdk1.5 on Debian Linux GTK. I changed the build.xml file to
javacSource=1.4 as instructed.
I have had this problem with Solaris Express 8/05, j2sdk1.5.0_01 and ant 1.6.5.
It is apparently caused by ant not finding the ecj.jar when it builds the
ecj.jar with itself (the jdtcoresrc/compiler2 stuff). I managed to get past that
point with the build with a simple trick:

First unpack the eclipse SDK 3.1 sources in some directory $ECLIPSE_SRC. If you
are building for Solaris x86, you will have to create the file structure for it
just like the sparc structure that is already there.

From here use the following commands:
cd $ECLIPSE_SRC/jdtcoresrc
ant -buildfile compilejdtcorewithjavac.xml
CLASSPATH=./ecj.jar ant -buildfile compilejdtcore.xml
cd ..
CLASSPATH=./ecj.jar ./build -os solaris -ws gtk -arch i386 -compilelibs
CLASSPATH=./ecj.jar ./build -os solaris -ws motif -arch i386 -compilelibs

I have tested this on Solaris, but in principle any Unix-like platform will work
accordingly. I also got lots of compilation warnings but I guess this is caused
by the JDK 1.5.0 I am using.

Now someone who knows one's way through ant could fix this small classpath
problem and save us all this trouble.

Doug
Thanks Doug.
Trying this on the platform I mentioned (but with jdk 1.5 instead of 1.4.2), it
appears that the ./build still goes to generate ecj.jar and fails. The failure
does seem to be a bit different, some output from compilelog.txt:

build.jars:

properties:

init:

@dot:
    [mkdir] Created dir:
/home/chris/school/archive/grad/1/spring/cs239-4/eclipse/plugins/org.eclipse.osgi/temp.folder/@dot.bin
    [javac] Compiling 261 source files to
/home/chris/school/archive/grad/1/spring/cs239-4/eclipse/plugins/org.eclipse.osgi/temp.folder/@dot.bin

BUILD FAILED

/home/chris/school/archive/grad/1/spring/cs239-4/eclipse/build.xml:37: The
following error occurred while executing this line:
/home/chris/school/archive/grad/1/spring/cs239-4/eclipse/build.xml:8: The
following error occurred while executing this line:
/home/chris/school/archive/grad/1/spring/cs239-4/eclipse/features/org.eclipse.sdk/build.xml:35:
The following error occurred while executing this line:
/home/chris/school/archive/grad/1/spring/cs239-4/eclipse/features/org.eclipse.sdk/build.xml:17:
The following error occurred while executing this line:
/home/chris/school/archive/grad/1/spring/cs239-4/eclipse/features/org.eclipse.platform/build.xml:305:
The following error occurred while executing this line:
/home/chris/school/archive/grad/1/spring/cs239-4/eclipse/features/org.eclipse.platform/build.xml:292:
The following error occurred while executing this line:
/home/chris/school/archive/grad/1/spring/cs239-4/eclipse/features/org.eclipse.rcp/build.xml:144:
The following error occurred while executing this line:
/home/chris/school/archive/grad/1/spring/cs239-4/eclipse/features/org.eclipse.rcp/build.xml:15:
The following error occurred while executing this line:
/home/chris/school/archive/grad/1/spring/cs239-4/eclipse/plugins/org.eclipse.osgi/build.xml:100:
The following error occurred while executing this line:
/home/chris/school/archive/grad/1/spring/cs239-4/eclipse/plugins/org.eclipse.osgi/build.xml:56:
Compiler Adapter org.eclipse.jdt.core.JDTCompilerAdapter caused an interesting
exception.
        at
org.apache.tools.ant.ProjectHelper.addLocationToBuildException(ProjectHelper.java:539)
        at org.apache.tools.ant.taskdefs.Ant.execute(Ant.java:388)
        at org.apache.tools.ant.taskdefs.CallTarget.execute(CallTarget.java:106)
        at org.apache.tools.ant.UnknownElement.execute(UnknownElement.java:275)
        at org.apache.tools.ant.Task.perform(Task.java:364)
        at org.apache.tools.ant.Target.execute(Target.java:341)
        at org.apache.tools.ant.Target.performTasks(Target.java:369)
        at org.apache.tools.ant.Project.executeTarget(Project.java:1214)
        at org.apache.tools.ant.Project.executeTargets(Project.java:1062)
        at org.apache.tools.ant.Main.runBuild(Main.java:673)
        at org.apache.tools.ant.Main.startAnt(Main.java:188)
        at org.apache.tools.ant.launch.Launcher.run(Launcher.java:196)
        at org.apache.tools.ant.launch.Launcher.main(Launcher.java:55)


Dozens more org.eclipse.jdt.core.JDTCompilerAdapter exceptions are generated
following this one.
Chris,
I don´t have the code right here (I´m at work now) but I´ll look into it later.
Maybe you can take a look at the build.xml line 37 to try to figure out what the
script was trying to do when it issued the first error.
BTW, I just forgot to mention yesterday. I defined the following variable in my
shell before trying to build the ecj.jar as the build would fail right at the
beginning because of memory exhaustion:
ANT_OPTS=-Xmx1024m;export ANT_OPTS
Maybe this will solve your problem before we try to look into the build scripts.
Cheers,
Doug
build.xml:37 is an antcall for allElements's build.jars. The exception bottoms
out doing a javac for the @dot target at plugins/org.eclipse.osgi/build.xml:56.

(thanks again for the help)
Solaris 10-gtk-x86 is not a supported platform for eclipse 3.1

http://www.eclipse.org/eclipse/development/eclipse_project_plan_3_1.html#TargetOperatingEnvironments

If you would like this architecture to be added to the source build scripts for
the 3.2 stream, please provide a patch. We are not adding additional platform
support to 3.1.1 stream builds.

The majority of comments in this bug occur on the linux platform. As this bug is
marked for solaris and this configuration of solaris is not yet supported, I
have created bug #109351 for these build problems on linux.


*** This bug has been marked as a duplicate of 84344 ***</WithOutStack>
  </Bug>
  <Bug>
    <BugId amount="107853" />
    <CreationDate amount="2005-08-24 10:33:00 -0400" />
    <DupId amount="" />
    <classification amount="Eclipse" />
    <Product amount="Platform" />
    <component amount="SWT" />
    <Version amount="3.1" />
    <rep_platform amount="PC" />
    <op_sys amount="Windows XP" />
    <priority amount="P3" />
    <bug_severity amount="enhancement" />
    <Summery>Need GridLayout column widths and row heights as an API</Summery>
    <Patches amount="0" />
    <Stacktraces amount="0" />
    <SourceCodeRegions amount="0" />
    <Enumerations amount="0" />
    <bug_status amount="NEW" />
    <resolution amount="" />
    <WithStack>The Visual Editor provides the capability to draw grid lines in a Composite that
has a grid layout. This provides visualization cues for the user in order to
drag/drop/move controls within the Composite.

In order to draw acurate grid lines, VE needs to know the column widths and row
heights of the grid based on the position of the children after the layout is
complete.

The way this is done today is VE uses algorithms similar to the way
GridLayout.layout works such that the lines are fairly accurate but this
requires a lot maintenance and updating everytime the SWT GridLayout changes.

Please provide the capability to get the column widths and row heights from the
GridLayout instance.
Please consider for 3.4</WithStack>
    <WithOutStack>The Visual Editor provides the capability to draw grid lines in a Composite that
has a grid layout. This provides visualization cues for the user in order to
drag/drop/move controls within the Composite.

In order to draw acurate grid lines, VE needs to know the column widths and row
heights of the grid based on the position of the children after the layout is
complete.

The way this is done today is VE uses algorithms similar to the way
GridLayout.layout works such that the lines are fairly accurate but this
requires a lot maintenance and updating everytime the SWT GridLayout changes.

Please provide the capability to get the column widths and row heights from the
GridLayout instance.
Please consider for 3.4</WithOutStack>
  </Bug>
  <Bug>
    <BugId amount="107854" />
    <CreationDate amount="2005-08-24 10:38:00 -0400" />
    <DupId amount="" />
    <classification amount="Eclipse" />
    <Product amount="Platform" />
    <component amount="UI" />
    <Version amount="3.1" />
    <rep_platform amount="PC" />
    <op_sys amount="Linux-GTK" />
    <priority amount="P3" />
    <bug_severity amount="normal" />
    <Summery>[Contributions] errors: Context menu missing</Summery>
    <Patches amount="0" />
    <Stacktraces amount="1">
      <Stacktrace timestamp="1437330570746">
        <Exception>org.eclipse.swt.SWTException</Exception>
        <Reason>Unsupported or unrecognized format</Reason>
        <Frames>
          <Frame depth="0">org.eclipse.swt.SWT.error(SWT.java:2942)</Frame>
          <Frame depth="1">org.eclipse.swt.SWT.error(SWT.java:2865)</Frame>
          <Frame depth="2">org.eclipse.swt.SWT.error(SWT.java:2836)</Frame>
          <Frame depth="3">org.eclipse.swt.internal.image.FileFormat.load(FileFormat.java:73)</Frame>
          <Frame depth="4">org.eclipse.swt.graphics.ImageLoader.load(ImageLoader.java:126)</Frame>
          <Frame depth="5">org.eclipse.swt.graphics.ImageDataLoader.load(ImageDataLoader.java:18)</Frame>
          <Frame depth="6">org.eclipse.swt.graphics.ImageData.&lt;init&gt;(ImageData.java:327)</Frame>
          <Frame depth="7">org.eclipse.jface.resource.URLImageDescriptor.getImageData(URLImageDescriptor.java:57)</Frame>
          <Frame depth="8">org.eclipse.jface.resource.ImageDescriptor.createImage(ImageDescriptor.java:279)</Frame>
          <Frame depth="9">org.eclipse.jface.resource.ImageDescriptor.createResource(ImageDescriptor.java:171)</Frame>
          <Frame depth="10">org.eclipse.jface.resource.DeviceResourceManager.allocate(DeviceResourceManager.java:56)</Frame>
          <Frame depth="11">org.eclipse.jface.resource.AbstractResourceManager.create(AbstractResourceManager.java:87)</Frame>
          <Frame depth="12">org.eclipse.jface.resource.LocalResourceManager.allocate(LocalResourceManager.java:83)</Frame>
          <Frame depth="13">org.eclipse.jface.resource.AbstractResourceManager.create(AbstractResourceManager.java:87)</Frame>
          <Frame depth="14">org.eclipse.jface.resource.ResourceManager.createImageWithDefault(ResourceManager.java:107)</Frame>
          <Frame depth="15">org.eclipse.jface.action.ActionContributionItem.updateImages(ActionContributionItem.java:958)</Frame>
          <Frame depth="16">org.eclipse.jface.action.ActionContributionItem.update(ActionContributionItem.java:812)</Frame>
          <Frame depth="17">org.eclipse.jface.action.ActionContributionItem.fill(ActionContributionItem.java:281)</Frame>
          <Frame depth="18">org.eclipse.jface.action.MenuManager.update(MenuManager.java:627)</Frame>
          <Frame depth="19">org.eclipse.jface.action.MenuManager.update(MenuManager.java:549)</Frame>
          <Frame depth="20">org.eclipse.jface.action.MenuManager.fill(MenuManager.java:232)</Frame>
          <Frame depth="21">org.eclipse.jface.action.MenuManager.update(MenuManager.java:627)</Frame>
          <Frame depth="22">org.eclipse.jface.action.MenuManager.handleAboutToShow(MenuManager.java:373)</Frame>
          <Frame depth="23">org.eclipse.jface.action.MenuManager.access$0(MenuManager.java:369)</Frame>
          <Frame depth="24">org.eclipse.jface.action.MenuManager$2.menuShown(MenuManager.java:386)</Frame>
          <Frame depth="25">org.eclipse.swt.widgets.TypedListener.handleEvent(TypedListener.java:117)</Frame>
          <Frame depth="26">org.eclipse.swt.widgets.EventTable.sendEvent(EventTable.java:66)</Frame>
          <Frame depth="27">org.eclipse.swt.widgets.Widget.sendEvent(Widget.java:1021)</Frame>
          <Frame depth="28">org.eclipse.swt.widgets.Widget.sendEvent(Widget.java:1045)</Frame>
          <Frame depth="29">org.eclipse.swt.widgets.Widget.sendEvent(Widget.java:1026)</Frame>
          <Frame depth="30">org.eclipse.swt.widgets.Menu._setVisible(Menu.java:175)</Frame>
          <Frame depth="31">org.eclipse.swt.widgets.Display.runPopups(Display.java:2893)</Frame>
          <Frame depth="32">org.eclipse.swt.widgets.Display.readAndDispatch(Display.java:2569)</Frame>
          <Frame depth="33">org.eclipse.ui.internal.Workbench.runEventLoop(Workbench.java:1699)</Frame>
          <Frame depth="34">org.eclipse.ui.internal.Workbench.runUI(Workbench.java:1663)</Frame>
          <Frame depth="35">org.eclipse.ui.internal.Workbench.createAndRunWorkbench(Workbench.java:367)</Frame>
          <Frame depth="36">org.eclipse.ui.PlatformUI.createAndRunWorkbench(PlatformUI.java:143)</Frame>
          <Frame depth="37">org.eclipse.ui.internal.ide.IDEApplication.run(IDEApplication.java:103)</Frame>
          <Frame depth="38">org.eclipse.core.internal.runtime.PlatformActivator$1.run(PlatformActivator.java:226)</Frame>
          <Frame depth="39">org.eclipse.core.runtime.adaptor.EclipseStarter.run(EclipseStarter.java:376)</Frame>
          <Frame depth="40">org.eclipse.core.runtime.adaptor.EclipseStarter.run(EclipseStarter.java:163)</Frame>
          <Frame depth="41">sun.reflect.NativeMethodAccessorImpl.invoke0(Native Method)</Frame>
          <Frame depth="42">sun.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:39)</Frame>
          <Frame depth="43">sun.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:25)</Frame>
          <Frame depth="44">java.lang.reflect.Method.invoke(Method.java:324)</Frame>
          <Frame depth="45">org.eclipse.core.launcher.Main.invokeFramework(Main.java:334)</Frame>
          <Frame depth="46">org.eclipse.core.launcher.Main.basicRun(Main.java:278)</Frame>
          <Frame depth="47">org.eclipse.core.launcher.Main.run(Main.java:973)</Frame>
          <Frame depth="48">org.eclipse.core.launcher.Main.main(Main.java:948)</Frame>
        </Frames>
      </Stacktrace>
    </Stacktraces>
    <SourceCodeRegions amount="0" />
    <Enumerations amount="0" />
    <bug_status amount="CLOSED" />
    <resolution amount="FIXED" />
    <WithStack>right click on any file in Package Explorer or Navigator, no context menu shows up.

Error log shows:

!SESSION 2005-08-24 10:23:33.934 -----------------------------------------------
eclipse.buildId=I20050627-1435
java.version=1.4.2_07
java.vendor=Sun Microsystems Inc.
BootLoader constants: OS=linux, ARCH=x86, WS=gtk, NL=en_CA
Command-line arguments:  -os linux -ws gtk -arch x86

This is a continuation of log file /home/lihui/dms_NC50/poc/.metadata/.bak_0.log
Created Time: 2005-08-24 10:23:50.749

!ENTRY org.eclipse.ui 4 4 2005-08-24 10:23:50.749
!MESSAGE Unhandled event loop exception

!ENTRY org.eclipse.ui 4 0 2005-08-24 10:23:50.750
!MESSAGE Unsupported or unrecognized format
!STACK 0
org.eclipse.swt.SWTException: Unsupported or unrecognized format
	at org.eclipse.swt.SWT.error(SWT.java:2942)
	at org.eclipse.swt.SWT.error(SWT.java:2865)
	at org.eclipse.swt.SWT.error(SWT.java:2836)
	at org.eclipse.swt.internal.image.FileFormat.load(FileFormat.java:73)
	at org.eclipse.swt.graphics.ImageLoader.load(ImageLoader.java:126)
	at org.eclipse.swt.graphics.ImageDataLoader.load(ImageDataLoader.java:18)
	at org.eclipse.swt.graphics.ImageData.&lt;init&gt;(ImageData.java:327)
	at
org.eclipse.jface.resource.URLImageDescriptor.getImageData(URLImageDescriptor.java:57)
	at org.eclipse.jface.resource.ImageDescriptor.createImage(ImageDescriptor.java:279)
	at
org.eclipse.jface.resource.ImageDescriptor.createResource(ImageDescriptor.java:171)
	at
org.eclipse.jface.resource.DeviceResourceManager.allocate(DeviceResourceManager.java:56)
	at
org.eclipse.jface.resource.AbstractResourceManager.create(AbstractResourceManager.java:87)
	at
org.eclipse.jface.resource.LocalResourceManager.allocate(LocalResourceManager.java:83)
	at
org.eclipse.jface.resource.AbstractResourceManager.create(AbstractResourceManager.java:87)
	at
org.eclipse.jface.resource.ResourceManager.createImageWithDefault(ResourceManager.java:107)
	at
org.eclipse.jface.action.ActionContributionItem.updateImages(ActionContributionItem.java:958)
	at
org.eclipse.jface.action.ActionContributionItem.update(ActionContributionItem.java:812)
	at
org.eclipse.jface.action.ActionContributionItem.fill(ActionContributionItem.java:281)
	at org.eclipse.jface.action.MenuManager.update(MenuManager.java:627)
	at org.eclipse.jface.action.MenuManager.update(MenuManager.java:549)
	at org.eclipse.jface.action.MenuManager.fill(MenuManager.java:232)
	at org.eclipse.jface.action.MenuManager.update(MenuManager.java:627)
	at org.eclipse.jface.action.MenuManager.handleAboutToShow(MenuManager.java:373)
	at org.eclipse.jface.action.MenuManager.access$0(MenuManager.java:369)
	at org.eclipse.jface.action.MenuManager$2.menuShown(MenuManager.java:386)
	at org.eclipse.swt.widgets.TypedListener.handleEvent(TypedListener.java:117)
	at org.eclipse.swt.widgets.EventTable.sendEvent(EventTable.java:66)
	at org.eclipse.swt.widgets.Widget.sendEvent(Widget.java:1021)
	at org.eclipse.swt.widgets.Widget.sendEvent(Widget.java:1045)
	at org.eclipse.swt.widgets.Widget.sendEvent(Widget.java:1026)
	at org.eclipse.swt.widgets.Menu._setVisible(Menu.java:175)
	at org.eclipse.swt.widgets.Display.runPopups(Display.java:2893)
	at org.eclipse.swt.widgets.Display.readAndDispatch(Display.java:2569)
	at org.eclipse.ui.internal.Workbench.runEventLoop(Workbench.java:1699)
	at org.eclipse.ui.internal.Workbench.runUI(Workbench.java:1663)
	at org.eclipse.ui.internal.Workbench.createAndRunWorkbench(Workbench.java:367)
	at org.eclipse.ui.PlatformUI.createAndRunWorkbench(PlatformUI.java:143)
	at org.eclipse.ui.internal.ide.IDEApplication.run(IDEApplication.java:103)
	at
org.eclipse.core.internal.runtime.PlatformActivator$1.run(PlatformActivator.java:226)
	at org.eclipse.core.runtime.adaptor.EclipseStarter.run(EclipseStarter.java:376)
	at org.eclipse.core.runtime.adaptor.EclipseStarter.run(EclipseStarter.java:163)
	at sun.reflect.NativeMethodAccessorImpl.invoke0(Native Method)
	at sun.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:39)
	at
sun.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:25)
	at java.lang.reflect.Method.invoke(Method.java:324)
	at org.eclipse.core.launcher.Main.invokeFramework(Main.java:334)
	at org.eclipse.core.launcher.Main.basicRun(Main.java:278)
	at org.eclipse.core.launcher.Main.run(Main.java:973)
	at org.eclipse.core.launcher.Main.main(Main.java:948)
This happened after I switched to a new workspace. The context menu showed up
fine in the original workspace.
Do you have any third party plugins installed?  I'm guessing someone is using an icon in an action that's 
contributed to these views that is not in a supported format.
I do have viplugin and clay installed, yet after disabling them, the problem
persists.

Weird thing is, the problem exists in one workspace not another. Maybe something
is missing in the .metadata/.plugin directory when I created the new workspace?
It was done with the "file - switch workspace" wizard.
I would suggest trying a clean install of eclipse with no 3rd party plugins on the workspace that's giving 
you grief.  It's possible that some remnants of those two plug-ins may be lingering.  If that still produces 
an error, would it be possible to get a copy of your workspace?
If you're feeling adventurous, you can also try debugging Eclipse itself?  
Create a workspace and import external plug-ins and fragments.  You'll 
"org.eclipse.swt", "org.eclipse.swt.gtk.linux.x86" and "org.eclipse.jface". 
 
On the first line of "ActionContributionItem.updateImages(boolean)", add  
 
    System.out.println(action.getId()); 
 
On the first line of "URLImageDescriptor.getImageData()", add 
 
    System.out.println(url); 
 
Created attachment 26416
Patched "ResourceManager" class

I've applied a patch to ResourceManager that will prevent JFace from failing to
open the context menu in the event of an SWTException.	It also provides more
debugging information.

An alternative to my above comment is to replace
"org/eclipse/jface/resource/ResourceManager.class" with the class I am
attaching.  This class is found in the "org.eclipse.jface_3.1.0.jar".
The patch I've applied allow the context menu to open.  Any further problems I 
would believe to be either a rogue plug-in or a corrupted install. 
(In reply to comment #5)
&gt; If you're feeling adventurous, you can also try debugging Eclipse itself?  
&gt; Create a workspace and import external plug-ins and fragments.  You'll 
&gt; "org.eclipse.swt", "org.eclipse.swt.gtk.linux.x86" and "org.eclipse.jface". 
&gt;  
&gt; On the first line of "ActionContributionItem.updateImages(boolean)", add  
&gt;  
&gt;     System.out.println(action.getId()); 
&gt;  
&gt; On the first line of "URLImageDescriptor.getImageData()", add 
&gt;  
&gt;     System.out.println(url); 
&gt;  

It turns out to be xmleditor is referencing newprj_wiz.gif, somehow the image is
empty. It'll be nice to log the image when the exception is thrown.</WithStack>
    <WithOutStack>right click on any file in Package Explorer or Navigator, no context menu shows up.

Error log shows:

!SESSION 2005-08-24 10:23:33.934 -----------------------------------------------
eclipse.buildId=I20050627-1435
java.version=1.4.2_07
java.vendor=Sun Microsystems Inc.
BootLoader constants: OS=linux, ARCH=x86, WS=gtk, NL=en_CA
Command-line arguments:  -os linux -ws gtk -arch x86

This is a continuation of log file /home/lihui/dms_NC50/poc/.metadata/.bak_0.log
Created Time: 2005-08-24 10:23:50.749

!ENTRY org.eclipse.ui 4 4 2005-08-24 10:23:50.749
!MESSAGE Unhandled event loop exception

!ENTRY org.eclipse.ui 4 0 2005-08-24 10:23:50.750
!MESSAGE Unsupported or unrecognized format
!STACK 0

This happened after I switched to a new workspace. The context menu showed up
fine in the original workspace.
Do you have any third party plugins installed?  I'm guessing someone is using an icon in an action that's 
contributed to these views that is not in a supported format.
I do have viplugin and clay installed, yet after disabling them, the problem
persists.

Weird thing is, the problem exists in one workspace not another. Maybe something
is missing in the .metadata/.plugin directory when I created the new workspace?
It was done with the "file - switch workspace" wizard.
I would suggest trying a clean install of eclipse with no 3rd party plugins on the workspace that's giving 
you grief.  It's possible that some remnants of those two plug-ins may be lingering.  If that still produces 
an error, would it be possible to get a copy of your workspace?
If you're feeling adventurous, you can also try debugging Eclipse itself?  
Create a workspace and import external plug-ins and fragments.  You'll 
"org.eclipse.swt", "org.eclipse.swt.gtk.linux.x86" and "org.eclipse.jface". 
 
On the first line of "ActionContributionItem.updateImages(boolean)", add  
 
    System.out.println(action.getId()); 
 
On the first line of "URLImageDescriptor.getImageData()", add 
 
    System.out.println(url); 
 
Created attachment 26416
Patched "ResourceManager" class

I've applied a patch to ResourceManager that will prevent JFace from failing to
open the context menu in the event of an SWTException.	It also provides more
debugging information.

An alternative to my above comment is to replace
"org/eclipse/jface/resource/ResourceManager.class" with the class I am
attaching.  This class is found in the "org.eclipse.jface_3.1.0.jar".
The patch I've applied allow the context menu to open.  Any further problems I 
would believe to be either a rogue plug-in or a corrupted install. 
(In reply to comment #5)
&gt; If you're feeling adventurous, you can also try debugging Eclipse itself?  
&gt; Create a workspace and import external plug-ins and fragments.  You'll 
&gt; "org.eclipse.swt", "org.eclipse.swt.gtk.linux.x86" and "org.eclipse.jface". 
&gt;  
&gt; On the first line of "ActionContributionItem.updateImages(boolean)", add  
&gt;  
&gt;     System.out.println(action.getId()); 
&gt;  
&gt; On the first line of "URLImageDescriptor.getImageData()", add 
&gt;  
&gt;     System.out.println(url); 
&gt;  

It turns out to be xmleditor is referencing newprj_wiz.gif, somehow the image is
empty. It'll be nice to log the image when the exception is thrown.</WithOutStack>
  </Bug>
  <Bug>
    <BugId amount="107855" />
    <CreationDate amount="2005-08-24 10:40:00 -0400" />
    <DupId amount="53507" />
    <classification amount="Eclipse" />
    <Product amount="JDT" />
    <component amount="UI" />
    <Version amount="3.1" />
    <rep_platform amount="PC" />
    <op_sys amount="Windows XP" />
    <priority amount="P3" />
    <bug_severity amount="enhancement" />
    <Summery>[refactoring] reverse of "introduce parameter"</Summery>
    <Patches amount="0" />
    <Stacktraces amount="0" />
    <SourceCodeRegions amount="4">
      <source_code type="functiondef">
        <location start="149" end="196" />
        <code>private void foo(Set s){
   bar(s, s.size());
}</code>
      </source_code>
      <source_code type="functiondef">
        <location start="198" end="242" />
        <code>private void bar(Set c, int size){
   ....
}</code>
      </source_code>
      <source_code type="functiondef">
        <location start="312" end="349" />
        <code>private void foo(Set s){
   bar(s);
}</code>
      </source_code>
      <source_code type="functiondef">
        <location start="351" end="418" />
        <code>private void bar(Set c, int size){
   int size= c.size();
   ....
}</code>
      </source_code>
    </SourceCodeRegions>
    <Enumerations amount="0" />
    <bug_status amount="RESOLVED" />
    <resolution amount="DUPLICATE" />
    <WithStack>3.1
sometimes i have an argument that is a method call and could 
as well be computed by passing the args to the callee

example will make it clear:
private void foo(Set s){
   bar(s, s.size());
}

private void bar(Set c, int size){
   ....
}

the second parameter of bar is useless. It could be just computed:

private void foo(Set s){
   bar(s);
}

private void bar(Set c, int size){
   int size= c.size();
   ....
}

That of course only works sometimes. But maybe there's a simple and broad enough
pattern of useful cases.
Move to JDT/UI
oops. thx


*** This bug has been marked as a duplicate of 53507 ***</WithStack>
    <WithOutStack>3.1
sometimes i have an argument that is a method call and could 
as well be computed by passing the args to the callee

example will make it clear:
private void foo(Set s){
   bar(s, s.size());
}

private void bar(Set c, int size){
   ....
}

the second parameter of bar is useless. It could be just computed:

private void foo(Set s){
   bar(s);
}

private void bar(Set c, int size){
   int size= c.size();
   ....
}

That of course only works sometimes. But maybe there's a simple and broad enough
pattern of useful cases.
Move to JDT/UI
oops. thx


*** This bug has been marked as a duplicate of 53507 ***</WithOutStack>
  </Bug>
  <Bug>
    <BugId amount="107856" />
    <CreationDate amount="2005-08-24 10:50:00 -0400" />
    <DupId amount="" />
    <classification amount="Tools" />
    <Product amount="TPTP Static Analysis" />
    <component amount="Platform.Analysis" />
    <Version amount="future" />
    <rep_platform amount="All" />
    <op_sys amount="All" />
    <priority amount="P1" />
    <bug_severity amount="enhancement" />
    <Summery>Add support to static analysis for checking for problems in the docs</Summery>
    <Patches amount="0" />
    <Stacktraces amount="0" />
    <SourceCodeRegions amount="0" />
    <Enumerations amount="0" />
    <bug_status amount="CLOSED" />
    <resolution amount="WONTFIX" />
    <WithStack>Enable the static analysis framework in TPTP to check for broken links in our
TPTP documentation. Our build needs to run this check, produce a report that can
be parsed, and send an email automatically to any plug-in owner whose
documentation has broken links.

The framework also needs to support our TPTP ID commiters' validating their docs
in our UI before committing them (broken links is all that I'm thinking of now,
but as we create documentation guidelines, likely we'd need to add rules to
check for other problems.)
Upgrading this to a P1.
Forgot to mention that our docs use HTML and a toc.xml file that is an index for
the Eclipse Help documentation guides. Plus there's our web site.

Any rules that could be written to check for things like missing "alt" tags (for
screen readers) or translation problems would be nice in future, too. I'll
investigate and see what rules we'd need drawn up.
Would also be great if we could find a list of files that aren't referenced by
other files. This can flag files that are obsolete and can be removed. Not every
unreferenced file needs to be removed, obviously (e.g. index.html).
The current analysis engine works only with Java files since it uses the JDT 
to parse them.  Performing analysis on HTML/XML files would require a new 
engine.  This is fairly major feature, but certainly possible.
I'm going to scale back this enhancement and remove the need for the build to be
able to run static analysis and produce a report. Just being able to invoke
these sorts of rules from the UI would be an improvement.

FYI, Abdullah (cc-ed) has been writing a script that parses our TOC .xml files
and checks them for problems. I'm hoping that maybe some of the work that he's
done can be ported to the new static analysis framework. I didn't want him
writing rules for the framework that's already deprecated. For this test pass
we're going to use just a script because we need a tool quickly, but for next
test pass it would be wonderful if we could start to integrate the script with
the static analysis framework. Can you point him to any consumer/extender
documentation that exists so that he can take a quick look at it?

The affected code is no longer supported by the commiter community and all change requests are being closed. If you are impacted or feel strongly otherwise, please reopen the bugzilla with comments and suggestions for follow up action.
As of TPTP 4.6.0, TPTP is in maintenance mode and focusing on improving quality by resolving relevant defects and increasing test coverage through test creation, automation, Build Verification Tests (BVTs), and expanded run-time execution. As such, TPTP is not delivering enhancements. As part of the TPTP Bugzilla housecleaning process (see http://wiki.eclipse.org/Bugzilla_Housecleaning_Processes), this enhancement is resolved as WONTFIX. For this enhancement to be considered, please re-open with an attached patch including the Description Document (see http://www.eclipse.org/tptp/home/documents/process/development/description_documents.html), code (see http://www.eclipse.org/tptp/home/documents/resources/TPTPDevGuide.htm), and test cases (see http://www.eclipse.org/tptp/home/documents/process/TPTP_Testing_Strategy.html).
As of TPTP 4.6.0, TPTP is in maintenance mode and focusing on improving quality by resolving relevant enhancements/defects and increasing test coverage through test creation, automation, Build Verification Tests (BVTs), and expanded run-time execution. As part of the TPTP Bugzilla housecleaning process (see http://wiki.eclipse.org/Bugzilla_Housecleaning_Processes), this enhancement/defect is verified/closed by the Project Lead since this originator of this enhancement/defect has an inactive Bugzilla account and considered to be fixed. If this enhancement/defect is still unresolved and reproducible in the latest TPTP release (http://www.eclipse.org/tptp/home/downloads/), please re-open.
As of TPTP 4.6.0, TPTP is in maintenance mode and focusing on improving quality by resolving relevant enhancements/defects and increasing test coverage through test creation, automation, Build Verification Tests (BVTs), and expanded run-time execution. As part of the TPTP Bugzilla housecleaning process (see http://wiki.eclipse.org/Bugzilla_Housecleaning_Processes), this enhancement/defect is verified/closed by the Project Lead since this originator of this enhancement/defect has an inactive Bugzilla account and considered to be fixed. If this enhancement/defect is still unresolved and reproducible in the latest TPTP release (http://www.eclipse.org/tptp/home/downloads/), please re-open.</WithStack>
    <WithOutStack>Enable the static analysis framework in TPTP to check for broken links in our
TPTP documentation. Our build needs to run this check, produce a report that can
be parsed, and send an email automatically to any plug-in owner whose
documentation has broken links.

The framework also needs to support our TPTP ID commiters' validating their docs
in our UI before committing them (broken links is all that I'm thinking of now,
but as we create documentation guidelines, likely we'd need to add rules to
check for other problems.)
Upgrading this to a P1.
Forgot to mention that our docs use HTML and a toc.xml file that is an index for
the Eclipse Help documentation guides. Plus there's our web site.

Any rules that could be written to check for things like missing "alt" tags (for
screen readers) or translation problems would be nice in future, too. I'll
investigate and see what rules we'd need drawn up.
Would also be great if we could find a list of files that aren't referenced by
other files. This can flag files that are obsolete and can be removed. Not every
unreferenced file needs to be removed, obviously (e.g. index.html).
The current analysis engine works only with Java files since it uses the JDT 
to parse them.  Performing analysis on HTML/XML files would require a new 
engine.  This is fairly major feature, but certainly possible.
I'm going to scale back this enhancement and remove the need for the build to be
able to run static analysis and produce a report. Just being able to invoke
these sorts of rules from the UI would be an improvement.

FYI, Abdullah (cc-ed) has been writing a script that parses our TOC .xml files
and checks them for problems. I'm hoping that maybe some of the work that he's
done can be ported to the new static analysis framework. I didn't want him
writing rules for the framework that's already deprecated. For this test pass
we're going to use just a script because we need a tool quickly, but for next
test pass it would be wonderful if we could start to integrate the script with
the static analysis framework. Can you point him to any consumer/extender
documentation that exists so that he can take a quick look at it?

The affected code is no longer supported by the commiter community and all change requests are being closed. If you are impacted or feel strongly otherwise, please reopen the bugzilla with comments and suggestions for follow up action.
As of TPTP 4.6.0, TPTP is in maintenance mode and focusing on improving quality by resolving relevant defects and increasing test coverage through test creation, automation, Build Verification Tests (BVTs), and expanded run-time execution. As such, TPTP is not delivering enhancements. As part of the TPTP Bugzilla housecleaning process (see http://wiki.eclipse.org/Bugzilla_Housecleaning_Processes), this enhancement is resolved as WONTFIX. For this enhancement to be considered, please re-open with an attached patch including the Description Document (see http://www.eclipse.org/tptp/home/documents/process/development/description_documents.html), code (see http://www.eclipse.org/tptp/home/documents/resources/TPTPDevGuide.htm), and test cases (see http://www.eclipse.org/tptp/home/documents/process/TPTP_Testing_Strategy.html).
As of TPTP 4.6.0, TPTP is in maintenance mode and focusing on improving quality by resolving relevant enhancements/defects and increasing test coverage through test creation, automation, Build Verification Tests (BVTs), and expanded run-time execution. As part of the TPTP Bugzilla housecleaning process (see http://wiki.eclipse.org/Bugzilla_Housecleaning_Processes), this enhancement/defect is verified/closed by the Project Lead since this originator of this enhancement/defect has an inactive Bugzilla account and considered to be fixed. If this enhancement/defect is still unresolved and reproducible in the latest TPTP release (http://www.eclipse.org/tptp/home/downloads/), please re-open.
As of TPTP 4.6.0, TPTP is in maintenance mode and focusing on improving quality by resolving relevant enhancements/defects and increasing test coverage through test creation, automation, Build Verification Tests (BVTs), and expanded run-time execution. As part of the TPTP Bugzilla housecleaning process (see http://wiki.eclipse.org/Bugzilla_Housecleaning_Processes), this enhancement/defect is verified/closed by the Project Lead since this originator of this enhancement/defect has an inactive Bugzilla account and considered to be fixed. If this enhancement/defect is still unresolved and reproducible in the latest TPTP release (http://www.eclipse.org/tptp/home/downloads/), please re-open.</WithOutStack>
  </Bug>
  <Bug>
    <BugId amount="107857" />
    <CreationDate amount="2005-08-24 10:52:00 -0400" />
    <DupId amount="" />
    <classification amount="Tools" />
    <Product amount="TPTP Release Engineering" />
    <component amount="Build" />
    <Version amount="future" />
    <rep_platform amount="All" />
    <op_sys amount="All" />
    <priority amount="P3" />
    <bug_severity amount="enhancement" />
    <Summery>Run links checking as part of the build</Summery>
    <Patches amount="0" />
    <Stacktraces amount="0" />
    <SourceCodeRegions amount="0" />
    <Enumerations amount="0" />
    <bug_status amount="CLOSED" />
    <resolution amount="WORKSFORME" />
    <WithStack>When enhancement 107856 is implemented, we will need to run links checking as
part of our build.
In TPTP 4.2, I'd say that this is more of a nice-to-have rather than a should-do.
I'm going to cancel this request because if TPTP ever starts self-hosting ("eating its own dogfood") then it will need to run the other static analysis rules, not just the doc ones. Having a static analysis rule set that checks our HTML, XHTML, _toc.xml, etc. files isn't in the cards at this time, unfortunately.
As of TPTP 4.6.0, TPTP is in maintenance mode and focusing on improving quality by resolving relevant defects and increasing test coverage through test creation, automation, Build Verification Tests (BVTs), and expanded run-time execution. As such, TPTP is not delivering enhancements. As part of the TPTP Bugzilla housecleaning process (see http://wiki.eclipse.org/Bugzilla_Housecleaning_Processes), this enhancement is resolved as WONTFIX. For this enhancement to be considered, please re-open with an attached patch including the Description Document (see http://www.eclipse.org/tptp/home/documents/process/development/description_documents.html), code (see http://www.eclipse.org/tptp/home/documents/resources/TPTPDevGuide.htm), and test cases (see http://www.eclipse.org/tptp/home/documents/process/TPTP_Testing_Strategy.html).
As of TPTP 4.6.0, TPTP is in maintenance mode and focusing on improving quality by resolving relevant enhancements/defects and increasing test coverage through test creation, automation, Build Verification Tests (BVTs), and expanded run-time execution. As part of the TPTP Bugzilla housecleaning process (see http://wiki.eclipse.org/Bugzilla_Housecleaning_Processes), this enhancement/defect is verified/closed by the Project Lead since this originator of this enhancement/defect has an inactive Bugzilla account and considered to be fixed. If this enhancement/defect is still unresolved and reproducible in the latest TPTP release (http://www.eclipse.org/tptp/home/downloads/), please re-open.
As of TPTP 4.6.0, TPTP is in maintenance mode and focusing on improving quality by resolving relevant enhancements/defects and increasing test coverage through test creation, automation, Build Verification Tests (BVTs), and expanded run-time execution. As part of the TPTP Bugzilla housecleaning process (see http://wiki.eclipse.org/Bugzilla_Housecleaning_Processes), this enhancement/defect is verified/closed by the Project Lead since this originator of this enhancement/defect has an inactive Bugzilla account and considered to be fixed. If this enhancement/defect is still unresolved and reproducible in the latest TPTP release (http://www.eclipse.org/tptp/home/downloads/), please re-open.</WithStack>
    <WithOutStack>When enhancement 107856 is implemented, we will need to run links checking as
part of our build.
In TPTP 4.2, I'd say that this is more of a nice-to-have rather than a should-do.
I'm going to cancel this request because if TPTP ever starts self-hosting ("eating its own dogfood") then it will need to run the other static analysis rules, not just the doc ones. Having a static analysis rule set that checks our HTML, XHTML, _toc.xml, etc. files isn't in the cards at this time, unfortunately.
As of TPTP 4.6.0, TPTP is in maintenance mode and focusing on improving quality by resolving relevant defects and increasing test coverage through test creation, automation, Build Verification Tests (BVTs), and expanded run-time execution. As such, TPTP is not delivering enhancements. As part of the TPTP Bugzilla housecleaning process (see http://wiki.eclipse.org/Bugzilla_Housecleaning_Processes), this enhancement is resolved as WONTFIX. For this enhancement to be considered, please re-open with an attached patch including the Description Document (see http://www.eclipse.org/tptp/home/documents/process/development/description_documents.html), code (see http://www.eclipse.org/tptp/home/documents/resources/TPTPDevGuide.htm), and test cases (see http://www.eclipse.org/tptp/home/documents/process/TPTP_Testing_Strategy.html).
As of TPTP 4.6.0, TPTP is in maintenance mode and focusing on improving quality by resolving relevant enhancements/defects and increasing test coverage through test creation, automation, Build Verification Tests (BVTs), and expanded run-time execution. As part of the TPTP Bugzilla housecleaning process (see http://wiki.eclipse.org/Bugzilla_Housecleaning_Processes), this enhancement/defect is verified/closed by the Project Lead since this originator of this enhancement/defect has an inactive Bugzilla account and considered to be fixed. If this enhancement/defect is still unresolved and reproducible in the latest TPTP release (http://www.eclipse.org/tptp/home/downloads/), please re-open.
As of TPTP 4.6.0, TPTP is in maintenance mode and focusing on improving quality by resolving relevant enhancements/defects and increasing test coverage through test creation, automation, Build Verification Tests (BVTs), and expanded run-time execution. As part of the TPTP Bugzilla housecleaning process (see http://wiki.eclipse.org/Bugzilla_Housecleaning_Processes), this enhancement/defect is verified/closed by the Project Lead since this originator of this enhancement/defect has an inactive Bugzilla account and considered to be fixed. If this enhancement/defect is still unresolved and reproducible in the latest TPTP release (http://www.eclipse.org/tptp/home/downloads/), please re-open.</WithOutStack>
  </Bug>
  <Bug>
    <BugId amount="107858" />
    <CreationDate amount="2005-08-24 10:53:00 -0400" />
    <DupId amount="" />
    <classification amount="Tools" />
    <Product amount="AspectJ" />
    <component amount="Compiler" />
    <Version amount="DEVELOPMENT" />
    <rep_platform amount="PC" />
    <op_sys amount="Linux" />
    <priority amount="P3" />
    <bug_severity amount="normal" />
    <Summery>illegal argument to proceed crashes the parser</Summery>
    <Patches amount="0" />
    <Stacktraces amount="1">
      <Stacktrace timestamp="1437330570762">
        <Exception>java.lang.NullPointerException</Exception>
        <Reason />
        <Frames>
          <Frame depth="0">org.aspectj.ajdt.internal.compiler.ast.AccessForInlineVisitor.getAccessibleField(AccessForInlineVisitor.java:145)</Frame>
          <Frame depth="1">org.aspectj.ajdt.internal.compiler.ast.AccessForInlineVisitor.endVisit(AccessForInlineVisitor.java:108)</Frame>
          <Frame depth="2">org.aspectj.org.eclipse.jdt.internal.compiler.ast.FieldReference.traverse(FieldReference.java:609)</Frame>
          <Frame depth="3">org.aspectj.org.eclipse.jdt.internal.compiler.ast.MessageSend.traverse(MessageSend.java:467)</Frame>
          <Frame depth="4">org.aspectj.org.eclipse.jdt.internal.compiler.ast.MethodDeclaration.traverse(MethodDeclaration.java:212)</Frame>
        </Frames>
      </Stacktrace>
    </Stacktraces>
    <SourceCodeRegions amount="2">
      <source_code type="class">
        <location start="154" end="197" />
        <code>class Foo {
  Foo field;
  void test() {}
}</code>
      </source_code>
      <source_code type="functiondef">
        <location start="219" end="380" />
        <code>void around() : call(void Foo.test()) {
    Foo foo = new Foo().field;
    proceed(foo); // caught at compile time
    proceed(new Foo().field); // crashes
  }</code>
      </source_code>
    </SourceCodeRegions>
    <Enumerations amount="0" />
    <bug_status amount="RESOLVED" />
    <resolution amount="FIXED" />
    <WithStack>in a context where proceed requires zero arguments, calling it with an extra
argument crashes the compiler, but only if that argument is a field access:

class Foo {
  Foo field;
  void test() {}
}

public aspect Bug {
  void around() : call(void Foo.test()) {
    Foo foo = new Foo().field;
    proceed(foo); // caught at compile time
    proceed(new Foo().field); // crashes
  }
}


/home/user/sgelin3/dev/java/ajc/new_bug/Bug.java [error] Internal compiler error
java.lang.NullPointerException
        at
org.aspectj.ajdt.internal.compiler.ast.AccessForInlineVisitor.getAccessibleField(AccessForInlineVisitor.java:145)
        at
org.aspectj.ajdt.internal.compiler.ast.AccessForInlineVisitor.endVisit(AccessForInlineVisitor.java:108)
        at
org.aspectj.org.eclipse.jdt.internal.compiler.ast.FieldReference.traverse(FieldReference.java:609)
        at
org.aspectj.org.eclipse.jdt.internal.compiler.ast.MessageSend.traverse(MessageSend.java:467)
        at
org.aspectj.org.eclipse.jdt.internal.compiler.ast.MethodDeclaration.traverse(MethodDeclaration.java:212)
for M4
now fixed in tree, will be available in published build from AspectJ download
page later on today.
now available in published build</WithStack>
    <WithOutStack>in a context where proceed requires zero arguments, calling it with an extra
argument crashes the compiler, but only if that argument is a field access:

class Foo {
  Foo field;
  void test() {}
}

public aspect Bug {
  void around() : call(void Foo.test()) {
    Foo foo = new Foo().field;
    proceed(foo); // caught at compile time
    proceed(new Foo().field); // crashes
  }
}


/home/user/sgelin3/dev/java/ajc/new_bug/Bug.java [error] Internal compiler error

for M4
now fixed in tree, will be available in published build from AspectJ download
page later on today.
now available in published build</WithOutStack>
  </Bug>
  <Bug>
    <BugId amount="107859" />
    <CreationDate amount="2005-08-24 10:53:00 -0400" />
    <DupId amount="" />
    <classification amount="Eclipse" />
    <Product amount="Platform" />
    <component amount="UI" />
    <Version amount="3.1" />
    <rep_platform amount="PC" />
    <op_sys amount="Windows XP" />
    <priority amount="P3" />
    <bug_severity amount="normal" />
    <Summery>Problems occurred when invoking code from plug-in: "org.eclipse.ui.workbench".</Summery>
    <Patches amount="0" />
    <Stacktraces amount="1">
      <Stacktrace timestamp="1437330570762">
        <Exception>java.lang.NoSuchMethodError</Exception>
        <Reason>org.vssplugin.ui.actions.BaseAction.getAdaptedSelection(Ljava/lang/Class;)
[Ljava/lang/Object;</Reason>
        <Frames>
          <Frame depth="0">org.vssplugin.ui.actions.BaseAction.getSelectedResources(BaseAction.java:96)</Frame>
          <Frame depth="1">org.vssplugin.ui.actions.BaseAction.isEnabled(BaseAction.java:51)</Frame>
          <Frame depth="2">org.eclipse.team.internal.ui.actions.TeamAction.setActionEnablement(TeamAction.java:303)</Frame>
          <Frame depth="3">org.eclipse.team.internal.ui.actions.TeamAction.selectionChanged(TeamAction.java:287)</Frame>
          <Frame depth="4">org.vssplugin.ui.menuactions.ActionAdaptor.updateState(ActionAdaptor.java:97)</Frame>
          <Frame depth="5">org.vssplugin.ui.menuactions.MenuAction.selectionChanged(MenuAction.java:159)</Frame>
          <Frame depth="6">org.eclipse.ui.internal.PluginAction.refreshEnablement(PluginAction.java:200)</Frame>
          <Frame depth="7">org.eclipse.ui.internal.PluginAction.selectionChanged(PluginAction.java:271)</Frame>
          <Frame depth="8">org.eclipse.ui.internal.PluginAction.selectionChanged(PluginAction.java:292)</Frame>
          <Frame depth="9">org.eclipse.ui.internal.AbstractSelectionService$3.run(AbstractSelectionService.java:160)</Frame>
          <Frame depth="10">org.eclipse.core.internal.runtime.InternalPlatform.run(InternalPlatform.java:1021)</Frame>
          <Frame depth="11">org.eclipse.core.runtime.Platform.run(Platform.java:757)</Frame>
          <Frame depth="12">org.eclipse.ui.internal.AbstractSelectionService.fireSelection(AbstractSelectionService.java:158)</Frame>
          <Frame depth="13">org.eclipse.ui.internal.AbstractSelectionService.reset(AbstractSelectionService.java:322)</Frame>
          <Frame depth="14">org.eclipse.ui.internal.AbstractSelectionService.partClosed(AbstractSelectionService.java:284)</Frame>
          <Frame depth="15">org.eclipse.ui.internal.WWinPartService.firePartClosed(WWinPartService.java:234)</Frame>
          <Frame depth="16">org.eclipse.ui.internal.WWinPartService.access$2(WWinPartService.java:230)</Frame>
          <Frame depth="17">org.eclipse.ui.internal.WWinPartService$1.partClosed(WWinPartService.java:44)</Frame>
          <Frame depth="18">org.eclipse.ui.internal.PartListenerList2$3.run(PartListenerList2.java:98)</Frame>
          <Frame depth="19">org.eclipse.core.internal.runtime.InternalPlatform.run(InternalPlatform.java:1021)</Frame>
          <Frame depth="20">org.eclipse.core.runtime.Platform.run(Platform.java:757)</Frame>
          <Frame depth="21">org.eclipse.ui.internal.PartListenerList2.fireEvent(PartListenerList2.java:54)</Frame>
          <Frame depth="22">org.eclipse.ui.internal.PartListenerList2.firePartClosed(PartListenerList2.java:96)</Frame>
          <Frame depth="23">org.eclipse.ui.internal.WorkbenchPage.firePartClosed(WorkbenchPage.java:1500)</Frame>
          <Frame depth="24">org.eclipse.ui.internal.WorkbenchPage.closeEditor(WorkbenchPage.java:1093)</Frame>
          <Frame depth="25">org.eclipse.ui.internal.WorkbenchPage.closeEditor(WorkbenchPage.java:1051)</Frame>
          <Frame depth="26">org.eclipse.ui.internal.EditorPane.doHide(EditorPane.java:54)</Frame>
          <Frame depth="27">org.eclipse.ui.internal.PartStack.close(PartStack.java:465)</Frame>
          <Frame depth="28">org.eclipse.ui.internal.EditorStack.close(EditorStack.java:208)</Frame>
          <Frame depth="29">org.eclipse.ui.internal.PartStack$1.close(PartStack.java:98)</Frame>
          <Frame depth="30">org.eclipse.ui.internal.presentations.newapi.TabbedStackPresentation$1.handleEvent(TabbedStackPresentation.java:81)</Frame>
          <Frame depth="31">org.eclipse.ui.internal.presentations.newapi.AbstractTabFolder.fireEvent(AbstractTabFolder.java:263)</Frame>
          <Frame depth="32">org.eclipse.ui.internal.presentations.newapi.AbstractTabFolder.fireEvent(AbstractTabFolder.java:272)</Frame>
          <Frame depth="33">org.eclipse.ui.internal.presentations.defaultpresentation.DefaultTabFolder.access$1(DefaultTabFolder.java:1)</Frame>
          <Frame depth="34">org.eclipse.ui.internal.presentations.defaultpresentation.DefaultTabFolder$1.closeButtonPressed(DefaultTabFolder.java:64)</Frame>
          <Frame depth="35">org.eclipse.ui.internal.presentations.PaneFolder.notifyCloseListeners(PaneFolder.java:546)</Frame>
          <Frame depth="36">org.eclipse.ui.internal.presentations.PaneFolder$3.close(PaneFolder.java:190)</Frame>
          <Frame depth="37">org.eclipse.swt.custom.CTabFolder.onMouse(CTabFolder.java:2078)</Frame>
          <Frame depth="38">org.eclipse.swt.custom.CTabFolder$1.handleEvent(CTabFolder.java:291)</Frame>
          <Frame depth="39">org.eclipse.swt.widgets.EventTable.sendEvent(EventTable.java:82)</Frame>
          <Frame depth="40">org.eclipse.swt.widgets.Widget.sendEvent(Widget.java:842)</Frame>
          <Frame depth="41">org.eclipse.swt.widgets.Display.runDeferredEvents(Display.java:2894)</Frame>
          <Frame depth="42">org.eclipse.swt.widgets.Display.readAndDispatch(Display.java:2527)</Frame>
          <Frame depth="43">org.eclipse.ui.internal.Workbench.runEventLoop(Workbench.java:1570)</Frame>
          <Frame depth="44">org.eclipse.ui.internal.Workbench.runUI(Workbench.java:1534)</Frame>
          <Frame depth="45">org.eclipse.ui.internal.Workbench.createAndRunWorkbench(Workbench.java:306)</Frame>
          <Frame depth="46">org.eclipse.ui.PlatformUI.createAndRunWorkbench(PlatformUI.java:143)</Frame>
          <Frame depth="47">org.eclipse.ui.internal.ide.IDEApplication.run(IDEApplication.java:103)</Frame>
          <Frame depth="48">org.eclipse.core.internal.runtime.PlatformActivator$1.run(PlatformActivator.java:228)</Frame>
          <Frame depth="49">org.eclipse.core.runtime.adaptor.EclipseStarter.run(EclipseStarter.java:344)</Frame>
          <Frame depth="50">org.eclipse.core.runtime.adaptor.EclipseStarter.run(EclipseStarter.java:156)</Frame>
          <Frame depth="51">sun.reflect.NativeMethodAccessorImpl.invoke0(Native Method)</Frame>
          <Frame depth="52">sun.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:39)</Frame>
          <Frame depth="53">sun.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:25)</Frame>
          <Frame depth="54">java.lang.reflect.Method.invoke(Method.java:585)</Frame>
          <Frame depth="55">org.eclipse.core.launcher.Main.invokeFramework(Main.java:315)</Frame>
          <Frame depth="56">org.eclipse.core.launcher.Main.basicRun(Main.java:268)</Frame>
          <Frame depth="57">org.eclipse.core.launcher.Main.run(Main.java:942)</Frame>
          <Frame depth="58">org.eclipse.core.launcher.Main.main(Main.java:926)</Frame>
        </Frames>
      </Stacktrace>
    </Stacktraces>
    <SourceCodeRegions amount="0" />
    <Enumerations amount="0" />
    <bug_status amount="RESOLVED" />
    <resolution amount="INVALID" />
    <WithStack>When I'm trying to debug programm inside the my own jar files, I get this 
error.
How can I avoid this?


!ENTRY org.eclipse.ui.workbench 4 2 2005-08-23 11:58:51.593
!MESSAGE Problems occurred when invoking code from plug-
in: "org.eclipse.ui.workbench".
!STACK 0
java.lang.NoSuchMethodError: 
org.vssplugin.ui.actions.BaseAction.getAdaptedSelection(Ljava/lang/Class;)
[Ljava/lang/Object;
at org.vssplugin.ui.actions.BaseAction.getSelectedResources(BaseAction.java:96)
at org.vssplugin.ui.actions.BaseAction.isEnabled(BaseAction.java:51)
at org.eclipse.team.internal.ui.actions.TeamAction.setActionEnablement
(TeamAction.java:303)
at org.eclipse.team.internal.ui.actions.TeamAction.selectionChanged
(TeamAction.java:287)
at org.vssplugin.ui.menuactions.ActionAdaptor.updateState
(ActionAdaptor.java:97)
at org.vssplugin.ui.menuactions.MenuAction.selectionChanged
(MenuAction.java:159)
at org.eclipse.ui.internal.PluginAction.refreshEnablement
(PluginAction.java:200)
at org.eclipse.ui.internal.PluginAction.selectionChanged(PluginAction.java:271)
at org.eclipse.ui.internal.PluginAction.selectionChanged(PluginAction.java:292)
at org.eclipse.ui.internal.AbstractSelectionService$3.run
(AbstractSelectionService.java:160)
at org.eclipse.core.internal.runtime.InternalPlatform.run
(InternalPlatform.java:1021)
at org.eclipse.core.runtime.Platform.run(Platform.java:757)
at org.eclipse.ui.internal.AbstractSelectionService.fireSelection
(AbstractSelectionService.java:158)
at org.eclipse.ui.internal.AbstractSelectionService.reset
(AbstractSelectionService.java:322)
at org.eclipse.ui.internal.AbstractSelectionService.partClosed
(AbstractSelectionService.java:284)
at org.eclipse.ui.internal.WWinPartService.firePartClosed
(WWinPartService.java:234)
at org.eclipse.ui.internal.WWinPartService.access$2(WWinPartService.java:230)
at org.eclipse.ui.internal.WWinPartService$1.partClosed
(WWinPartService.java:44)
at org.eclipse.ui.internal.PartListenerList2$3.run(PartListenerList2.java:98)
at org.eclipse.core.internal.runtime.InternalPlatform.run
(InternalPlatform.java:1021)
at org.eclipse.core.runtime.Platform.run(Platform.java:757)
at org.eclipse.ui.internal.PartListenerList2.fireEvent
(PartListenerList2.java:54)
at org.eclipse.ui.internal.PartListenerList2.firePartClosed
(PartListenerList2.java:96)
at org.eclipse.ui.internal.WorkbenchPage.firePartClosed
(WorkbenchPage.java:1500)
at org.eclipse.ui.internal.WorkbenchPage.closeEditor(WorkbenchPage.java:1093)
at org.eclipse.ui.internal.WorkbenchPage.closeEditor(WorkbenchPage.java:1051)
at org.eclipse.ui.internal.EditorPane.doHide(EditorPane.java:54)
at org.eclipse.ui.internal.PartStack.close(PartStack.java:465)
at org.eclipse.ui.internal.EditorStack.close(EditorStack.java:208)
at org.eclipse.ui.internal.PartStack$1.close(PartStack.java:98)
at 
org.eclipse.ui.internal.presentations.newapi.TabbedStackPresentation$1.handleEv
ent(TabbedStackPresentation.java:81)
at org.eclipse.ui.internal.presentations.newapi.AbstractTabFolder.fireEvent
(AbstractTabFolder.java:263)
at org.eclipse.ui.internal.presentations.newapi.AbstractTabFolder.fireEvent
(AbstractTabFolder.java:272)
at 
org.eclipse.ui.internal.presentations.defaultpresentation.DefaultTabFolder.acce
ss$1(DefaultTabFolder.java:1)
at 
org.eclipse.ui.internal.presentations.defaultpresentation.DefaultTabFolder$1.cl
oseButtonPressed(DefaultTabFolder.java:64)
at org.eclipse.ui.internal.presentations.PaneFolder.notifyCloseListeners
(PaneFolder.java:546)
at org.eclipse.ui.internal.presentations.PaneFolder$3.close
(PaneFolder.java:190)
at org.eclipse.swt.custom.CTabFolder.onMouse(CTabFolder.java:2078)
at org.eclipse.swt.custom.CTabFolder$1.handleEvent(CTabFolder.java:291)
at org.eclipse.swt.widgets.EventTable.sendEvent(EventTable.java:82)
at org.eclipse.swt.widgets.Widget.sendEvent(Widget.java:842)
at org.eclipse.swt.widgets.Display.runDeferredEvents(Display.java:2894)
at org.eclipse.swt.widgets.Display.readAndDispatch(Display.java:2527)
at org.eclipse.ui.internal.Workbench.runEventLoop(Workbench.java:1570)
at org.eclipse.ui.internal.Workbench.runUI(Workbench.java:1534)
at org.eclipse.ui.internal.Workbench.createAndRunWorkbench(Workbench.java:306)
at org.eclipse.ui.PlatformUI.createAndRunWorkbench(PlatformUI.java:143)
at org.eclipse.ui.internal.ide.IDEApplication.run(IDEApplication.java:103)
at org.eclipse.core.internal.runtime.PlatformActivator$1.run
(PlatformActivator.java:228)
at org.eclipse.core.runtime.adaptor.EclipseStarter.run(EclipseStarter.java:344)
at org.eclipse.core.runtime.adaptor.EclipseStarter.run(EclipseStarter.java:156)
at sun.reflect.NativeMethodAccessorImpl.invoke0(Native Method)
at sun.reflect.NativeMethodAccessorImpl.invoke
(NativeMethodAccessorImpl.java:39)
at sun.reflect.DelegatingMethodAccessorImpl.invoke
(DelegatingMethodAccessorImpl.java:25)
at java.lang.reflect.Method.invoke(Method.java:585)
at org.eclipse.core.launcher.Main.invokeFramework(Main.java:315)
at org.eclipse.core.launcher.Main.basicRun(Main.java:268)
at org.eclipse.core.launcher.Main.run(Main.java:942)
at org.eclipse.core.launcher.Main.main(Main.java:926)
!ENTRY org.eclipse.ui.workbench 4 2 2005-08-23 11:58:51.796


Thank you.
The problem is that the VSS plugin seems to be relying on functionality that doesn't exist in the version of 
eclipse you are using.  This could be simply a matter of them requiring API that doesn't exist in your 
Eclipse version or it could be that they're relying on internal classes that have since been removed or 
changed.  You should report this bug against the VSS plug-in developers.</WithStack>
    <WithOutStack>When I'm trying to debug programm inside the my own jar files, I get this 
error.
How can I avoid this?


!ENTRY org.eclipse.ui.workbench 4 2 2005-08-23 11:58:51.593
!MESSAGE Problems occurred when invoking code from plug-
in: "org.eclipse.ui.workbench".
!STACK 0

!ENTRY org.eclipse.ui.workbench 4 2 2005-08-23 11:58:51.796


Thank you.
The problem is that the VSS plugin seems to be relying on functionality that doesn't exist in the version of 
eclipse you are using.  This could be simply a matter of them requiring API that doesn't exist in your 
Eclipse version or it could be that they're relying on internal classes that have since been removed or 
changed.  You should report this bug against the VSS plug-in developers.</WithOutStack>
  </Bug>
  <Bug>
    <BugId amount="107860" />
    <CreationDate amount="2005-08-24 11:00:00 -0400" />
    <DupId amount="" />
    <classification amount="Eclipse" />
    <Product amount="Platform" />
    <component amount="UI" />
    <Version amount="3.1" />
    <rep_platform amount="PC" />
    <op_sys amount="All" />
    <priority amount="P3" />
    <bug_severity amount="trivial" />
    <Summery>javadoc: KeySequence specifies itself in deprecation message</Summery>
    <Patches amount="0" />
    <Stacktraces amount="0" />
    <SourceCodeRegions amount="0" />
    <Enumerations amount="0" />
    <bug_status amount="RESOLVED" />
    <resolution amount="INVALID" />
    <WithStack>3.1

org.eclipse.jface.bindings.keys.KeySequence specifies to use itself in its
deprecation message. It should probably reference KeyBinding.
sorry, I was mistaken by eclipse resolving the wrong class. forget about it...</WithStack>
    <WithOutStack>3.1

org.eclipse.jface.bindings.keys.KeySequence specifies to use itself in its
deprecation message. It should probably reference KeyBinding.
sorry, I was mistaken by eclipse resolving the wrong class. forget about it...</WithOutStack>
  </Bug>
  <Bug>
    <BugId amount="107861" />
    <CreationDate amount="2005-08-24 11:06:00 -0400" />
    <DupId amount="" />
    <classification amount="Eclipse" />
    <Product amount="JDT" />
    <component amount="UI" />
    <Version amount="3.1" />
    <rep_platform amount="PC" />
    <op_sys amount="All" />
    <priority amount="P3" />
    <bug_severity amount="normal" />
    <Summery>[search] Incorrect group by type for imports</Summery>
    <Patches amount="0" />
    <Stacktraces amount="0" />
    <SourceCodeRegions amount="0" />
    <Enumerations amount="1">
      <Enumeration lines="3">
        <Lines>
          <Line>- Disable filters for imports in Java search</Line>
          <Line>- Do a reference search for e.g. Refactoring</Line>
          <Line>- Enable grouping by Type</Line>
        </Lines>
      </Enumeration>
    </Enumerations>
    <bug_status amount="RESOLVED" />
    <resolution amount="WONTFIX" />
    <WithStack>I20050818-0800

Steps to reproduce:
- Disable filters for imports in Java search
- Do a reference search for e.g. Refactoring
- Enable grouping by Type

-&gt; Import declarations are shown as one block
-&gt; Grouping by Type would should take cu name as sorting criterion
-&gt; Otherwise, it would better be called Group by Kind and produce a list of 
import declarations, followed by javadoc occurrences and java references.
Agree. But since most have the filter imports on not so cirtical. Deferring for now.
As of now 'LATER' and 'REMIND' resolutions are no longer supported.
Please reopen this bug if it is still valid for you.</WithStack>
    <WithOutStack>I20050818-0800

Steps to reproduce:
- Disable filters for imports in Java search
- Do a reference search for e.g. Refactoring
- Enable grouping by Type

-&gt; Import declarations are shown as one block
-&gt; Grouping by Type would should take cu name as sorting criterion
-&gt; Otherwise, it would better be called Group by Kind and produce a list of 
import declarations, followed by javadoc occurrences and java references.
Agree. But since most have the filter imports on not so cirtical. Deferring for now.
As of now 'LATER' and 'REMIND' resolutions are no longer supported.
Please reopen this bug if it is still valid for you.</WithOutStack>
  </Bug>
  <Bug>
    <BugId amount="107862" />
    <CreationDate amount="2005-08-24 11:06:00 -0400" />
    <DupId amount="107881" />
    <classification amount="Eclipse Foundation" />
    <Product amount="z_Archived" />
    <component amount="VE" />
    <Version amount="unspecified" />
    <rep_platform amount="PC" />
    <op_sys amount="Windows XP" />
    <priority amount="P1" />
    <bug_severity amount="major" />
    <Summery>NPE on copy/paste group in SWT GridLayout then Undo</Summery>
    <Patches amount="0" />
    <Stacktraces amount="0" />
    <SourceCodeRegions amount="0" />
    <Enumerations amount="0" />
    <bug_status amount="CLOSED" />
    <resolution amount="DUPLICATE" />
    <WithStack>M20050824

I have attached a class with a Shell and some controls in it.  To reproduce the
error, copy the group on the right, then paste it on the left in a new column. 
Then undo it.

You should receive the attached error log as well as a compile error in the
source code.
Created attachment 26406
SWTGrid3.java
Created attachment 26407
error log
The .log file is dup of bug 91914. So that bug will be fixing that problem.
However, if there is a compile error, then that is a more serious problem, so
this bug should be for the compile error.
The bad code generation is due to bug 107881.

*** This bug has been marked as a duplicate of 107881 ***
closing</WithStack>
    <WithOutStack>M20050824

I have attached a class with a Shell and some controls in it.  To reproduce the
error, copy the group on the right, then paste it on the left in a new column. 
Then undo it.

You should receive the attached error log as well as a compile error in the
source code.
Created attachment 26406
SWTGrid3.java
Created attachment 26407
error log
The .log file is dup of bug 91914. So that bug will be fixing that problem.
However, if there is a compile error, then that is a more serious problem, so
this bug should be for the compile error.
The bad code generation is due to bug 107881.

*** This bug has been marked as a duplicate of 107881 ***
closing</WithOutStack>
  </Bug>
  <Bug>
    <BugId amount="107863" />
    <CreationDate amount="2005-08-24 11:08:00 -0400" />
    <DupId amount="" />
    <classification amount="Eclipse" />
    <Product amount="Platform" />
    <component amount="Debug" />
    <Version amount="3.1" />
    <rep_platform amount="PC" />
    <op_sys amount="Windows XP" />
    <priority amount="P3" />
    <bug_severity amount="enhancement" />
    <Summery>Order variables in Variables View</Summery>
    <Patches amount="0" />
    <Stacktraces amount="0" />
    <SourceCodeRegions amount="0" />
    <Enumerations amount="0" />
    <bug_status amount="RESOLVED" />
    <resolution amount="WONTFIX" />
    <WithStack>It would be extremely helpful if the variables in the Variables view were 
order alphabetically.  When there are many variables, visually searching the 
list is time consuming.
Variables are displayed as they are declared / intialized in the code.
This is unlikely to change.

Have you tried using the Find Variable (Ctrl-F) functionality?
Hi Darin,

Thanks!  That will do the trick.  Just so much to learn.

Thank you,
Don
NP.</WithStack>
    <WithOutStack>It would be extremely helpful if the variables in the Variables view were 
order alphabetically.  When there are many variables, visually searching the 
list is time consuming.
Variables are displayed as they are declared / intialized in the code.
This is unlikely to change.

Have you tried using the Find Variable (Ctrl-F) functionality?
Hi Darin,

Thanks!  That will do the trick.  Just so much to learn.

Thank you,
Don
NP.</WithOutStack>
  </Bug>
  <Bug>
    <BugId amount="107864" />
    <CreationDate amount="2005-08-24 11:08:00 -0400" />
    <DupId amount="71660" />
    <classification amount="Eclipse" />
    <Product amount="Platform" />
    <component amount="SWT" />
    <Version amount="3.2" />
    <rep_platform amount="PC" />
    <op_sys amount="Linux-GTK" />
    <priority amount="P3" />
    <bug_severity amount="normal" />
    <Summery>Switching toolbar to coolbar makes it disappear</Summery>
    <Patches amount="0" />
    <Stacktraces amount="0" />
    <SourceCodeRegions amount="3">
      <source_code type="functioncall">
        <location start="691" end="725" />
        <code>citem.setPreferredSize(preferred);</code>
      </source_code>
      <source_code type="assignment">
        <location start="1026" end="1064" />
        <code>CoolItem[] items = coolbar.getItems();</code>
      </source_code>
      <source_code type="functiondef">
        <location start="1065" end="1325" />
        <code>for (i=0;i&lt;items.length;i++) {
 Control c = items[i].getControl();
 Point size = c.computeSize(-1,-1);
 Point itemSize = items[i].computeSize (size.x, size.y);
 items[i].setMinimumSize(size);
 items[i].setPrefferedSize(itemSize);
 items[i].setSize(itemSize);
}</code>
      </source_code>
    </SourceCodeRegions>
    <Enumerations amount="2">
      <Enumeration lines="2">
        <Lines>
          <Line>- create all the items</Line>
          <Line>- use setItemLayout (null, null, sizes)</Line>
        </Lines>
      </Enumeration>
      <Enumeration lines="2">
        <Lines>
          <Line>- create all the items</Line>
          <Line>- set  minimum size, preferred size, size of each item after them all be created:</Line>
        </Lines>
      </Enumeration>
    </Enumerations>
    <bug_status amount="RESOLVED" />
    <resolution amount="DUPLICATE" />
    <WithStack>I had a composite with a toolbar and a Tree in a RowLayout.  I switched the
toolbar to a coolbar, using the snippet from:

http://dev.eclipse.org/viewcvs/index.cgi/org.eclipse.swt.snippets/src/org/eclipse/swt/snippets/Snippet150.java?rev=HEAD&amp;content-type=text/vnd.viewcvs-markup

My icons disappeared, they seem to be flattened into the top of the space where
the toolbar was.

Later,
Paul
Created attachment 26408
SWT project with example

The code I was working on was between the "CODE SNIPPET" comments.

I'm running the 3.2 Build id: N20050822-0010

PW
I'm not sure.  The height of the CoolItem is zero when the coolbar does its
layout...
Right now just call setsize in the coolitem:

citem.setPreferredSize(preferred);
citem.setSize(preferred); //add this line to your code.

Paul, to set sizes to coolitems do the following:
- create all the items
- use setItemLayout (null, null, sizes)

or, a better option is:
- create all the items
- set  minimum size, preferred size, size of each item after them all be created:
CoolItem[] items = coolbar.getItems();
for (i=0;i&lt;items.length;i++) {
 Control c = items[i].getControl();
 Point size = c.computeSize(-1,-1);
 Point itemSize = items[i].computeSize (size.x, size.y);
 items[i].setMinimumSize(size);
 items[i].setPrefferedSize(itemSize);
 items[i].setSize(itemSize);
}


*** This bug has been marked as a duplicate of 71660 ***</WithStack>
    <WithOutStack>I had a composite with a toolbar and a Tree in a RowLayout.  I switched the
toolbar to a coolbar, using the snippet from:

http://dev.eclipse.org/viewcvs/index.cgi/org.eclipse.swt.snippets/src/org/eclipse/swt/snippets/Snippet150.java?rev=HEAD&amp;content-type=text/vnd.viewcvs-markup

My icons disappeared, they seem to be flattened into the top of the space where
the toolbar was.

Later,
Paul
Created attachment 26408
SWT project with example

The code I was working on was between the "CODE SNIPPET" comments.

I'm running the 3.2 Build id: N20050822-0010

PW
I'm not sure.  The height of the CoolItem is zero when the coolbar does its
layout...
Right now just call setsize in the coolitem:

citem.setPreferredSize(preferred);
citem.setSize(preferred); //add this line to your code.

Paul, to set sizes to coolitems do the following:
- create all the items
- use setItemLayout (null, null, sizes)

or, a better option is:
- create all the items
- set  minimum size, preferred size, size of each item after them all be created:
CoolItem[] items = coolbar.getItems();
for (i=0;i&lt;items.length;i++) {
 Control c = items[i].getControl();
 Point size = c.computeSize(-1,-1);
 Point itemSize = items[i].computeSize (size.x, size.y);
 items[i].setMinimumSize(size);
 items[i].setPrefferedSize(itemSize);
 items[i].setSize(itemSize);
}


*** This bug has been marked as a duplicate of 71660 ***</WithOutStack>
  </Bug>
  <Bug>
    <BugId amount="107865" />
    <CreationDate amount="2005-08-24 11:13:00 -0400" />
    <DupId amount="" />
    <classification amount="Mylyn" />
    <Product amount="Mylyn" />
    <component amount="Java" />
    <Version amount="0.3" />
    <rep_platform amount="PC" />
    <op_sys amount="Windows XP" />
    <priority amount="P2" />
    <bug_severity amount="normal" />
    <Summery>decrement interest fails to refresh label when not in filtered mode</Summery>
    <Patches amount="0" />
    <Stacktraces amount="0" />
    <SourceCodeRegions amount="0" />
    <Enumerations amount="0" />
    <bug_status amount="RESOLVED" />
    <resolution amount="FIXED" />
    <WithStack>Reported by Sean Flanigan:
Even with filters off, I can see what is in the task context by looking for
boldface in the syntax tree.  It would be nice if I could remove things from the
task context in that case.
---------

The issue here is that the decorator is not updated when views are not filtered,
even though the interest level is changed.
Fixed for 0.3.12, planned for release later today.
Marking fixed.</WithStack>
    <WithOutStack>Reported by Sean Flanigan:
Even with filters off, I can see what is in the task context by looking for
boldface in the syntax tree.  It would be nice if I could remove things from the
task context in that case.
---------

The issue here is that the decorator is not updated when views are not filtered,
even though the interest level is changed.
Fixed for 0.3.12, planned for release later today.
Marking fixed.</WithOutStack>
  </Bug>
  <Bug>
    <BugId amount="107866" />
    <CreationDate amount="2005-08-24 11:16:00 -0400" />
    <DupId amount="" />
    <classification amount="Tools" />
    <Product amount="TPTP Profiling" />
    <component amount="Platform.Doc" />
    <Version amount="4.1" />
    <rep_platform amount="PC" />
    <op_sys amount="Windows 2000" />
    <priority amount="P1" />
    <bug_severity amount="normal" />
    <Summery>[DOC] The infopop help for the method invocation view, the execution flow view, and the object references table view do not mention the "Choose Columns" action</Summery>
    <Patches amount="0" />
    <Stacktraces amount="0" />
    <SourceCodeRegions amount="0" />
    <Enumerations amount="1">
      <Enumeration lines="2">
        <Lines>
          <Line>- #2, #3, #4, and #5 above.</Line>
          <Line>- #6, #7, and #13 above.</Line>
        </Lines>
      </Enumeration>
    </Enumerations>
    <bug_status amount="CLOSED" />
    <resolution amount="FIXED" />
    <WithStack>The infopop help for the method invocation view, the execution flow view, and 
the object references table view do not mention the "Choose Columns" action.  

This action is mentioned in the execution statistics view, memory statistics 
view, and coverage statistics view infopop help.
The method details view does not have its own infopop help docs.  It uses the 
method invocation help doc.  It probably should have its own?
In the previous comment, I meant the "Method Invocation Details" view.
Infopops belong to the UI component
Hi. What Terry referring as infopop help is the actually help content linked
from infopop. 
Terry, can you attach the file path of the help that is missing column infomation.
The following view docs do not mention the "Choose Columns" action.

Execution Flow view
  - "../org.eclipse.tptp.platform.doc.user/ref/reexflwvw.htm"

Method Invocation view
  - "../org.eclipse.tptp.platform.doc.user/ref/remipane.htm"

Object references table
  - "../org.eclipse.tptp.platform.doc.user/ref/reorpane.htm"

The Method Invocation Details view does not have its own doc right now and is 
just reusing the Method Invocation view doc.  It probably should have its own 
doc.
Moving to a valid target
Reassigning as per my "Change in TPTP documentation process for IBMers" email.
i3 is allocated for any unsolved defect in i2, there should have no defect
assign to i3 for now.
Created attachment 27218
Fixes varous out-of-date and incorrect items in the view documentation

It turns out that the method invocation view, execution flow view, and object
references view documentation DO display the Choose Columns option. However,
you have to find these using "Related References" links in the docs.

Also, the Method Invocation Details documentation DOES exist -- the UI is
linking to the wrong document. Initially, I thought this was a problem with
traceview.xml but I cannot find the associated entry here. We might want to
open a new bug for this.

Now, analyzing each view I found a number of outdated or incorrect
documentation. The patch 107866_patch_1.txt should fix these problems. However,
I am emailing new icon graphics to Ruth Lee for submission.

Object References View
======================
#1 - The "Object references view controls" section should not be a separate
section. We should delete  "Object references view controls"
(robjref_controls.htm) add the controls info to "Object References table".
#2 - We need to add the Manage filters option (icon and accompanying
description). I created an icon for this (filterdropdown_co.gif).
#3 - The Choose columns option should be removed from the toolbar controls
section.
#4 - The  Choose columns option should be added to the toolbar drop down list
options
#5 - The Sort by column option should be added to the toolbar drop down list
options. I created an icon for this new UI component (sortcolumns_co.gif).
#6 - The pop up menu requires the Filter out option. I created an icon for this
(filter_co.gif).
#7 - The pop up menu requires the Sort by column option.

Method Invocation View
======================
Same as #1, except the file to delete is rmthinv_controls.htm.
#8 - There are a bunch of erroneous entries in the pop-up menu controls listing
(related to showing Threads and Repetitions). Eugene noted that this was
probably a doc-bug to begin with.
#9 - The Show Caller, Show Called, Next, and Previous options should be added
to the drop down menu controls. 

Method Invocation Details View
==============================
#10 - The title should be changed from "Method Details Invocation" to "Method
Invocation Details".
#11 - The toolbar controls section is missing (from the UI, I can see that the
toolbar requires, the Export html, Open source, and Show percentage options)

Execution Flow View
======================
- #1, except the file to delete is rexflwvw_controls.htm.
#12 - the pop up menu requires the Choose columns option
#13 - the pop up menu requires the Show method invocation and Show method
invocation details options.
#14 - I could not manage to bring up the "Show execution flow view table
option". I emailed Eugene, asking if this option still exists. He confirmed
that this should be removed (the table always exists as of 40).


Memory Statistics View
=======================
-#2,  #3, #4 and #5 above.


Execution Statistics View
==========================
- #2, #3, #4, and #5 above.
- #6, #7, and #13 above.

Code Coverage View
===================
- For some reason the documentation source appears in the "concepts" folder...
i.e. concepts/cecovsta.htm. The documentation for other views appears ini the
ref folder. Should we move cecovsta.htm to the ref folder ?
All out-of-date documentation is P1 (must be fixed in this release). Thanks for
the great work, Abdullah!
Abdullah's changed were checked in Sept 19, 2005.
Thanks Abdullah and Ruth.
As of TPTP 4.6.0, TPTP is in maintenance mode and focusing on improving quality by resolving relevant enhancements/defects and increasing test coverage through test creation, automation, Build Verification Tests (BVTs), and expanded run-time execution. As part of the TPTP Bugzilla housecleaning process (see http://wiki.eclipse.org/Bugzilla_Housecleaning_Processes), this enhancement/defect is verified/closed by the Project Lead since this enhancement/defect has been resolved and unverified for more than 1 year and considered to be fixed. If this enhancement/defect is still unresolved and reproducible in the latest TPTP release (http://www.eclipse.org/tptp/home/downloads/), please re-open.</WithStack>
    <WithOutStack>The infopop help for the method invocation view, the execution flow view, and 
the object references table view do not mention the "Choose Columns" action.  

This action is mentioned in the execution statistics view, memory statistics 
view, and coverage statistics view infopop help.
The method details view does not have its own infopop help docs.  It uses the 
method invocation help doc.  It probably should have its own?
In the previous comment, I meant the "Method Invocation Details" view.
Infopops belong to the UI component
Hi. What Terry referring as infopop help is the actually help content linked
from infopop. 
Terry, can you attach the file path of the help that is missing column infomation.
The following view docs do not mention the "Choose Columns" action.

Execution Flow view
  - "../org.eclipse.tptp.platform.doc.user/ref/reexflwvw.htm"

Method Invocation view
  - "../org.eclipse.tptp.platform.doc.user/ref/remipane.htm"

Object references table
  - "../org.eclipse.tptp.platform.doc.user/ref/reorpane.htm"

The Method Invocation Details view does not have its own doc right now and is 
just reusing the Method Invocation view doc.  It probably should have its own 
doc.
Moving to a valid target
Reassigning as per my "Change in TPTP documentation process for IBMers" email.
i3 is allocated for any unsolved defect in i2, there should have no defect
assign to i3 for now.
Created attachment 27218
Fixes varous out-of-date and incorrect items in the view documentation

It turns out that the method invocation view, execution flow view, and object
references view documentation DO display the Choose Columns option. However,
you have to find these using "Related References" links in the docs.

Also, the Method Invocation Details documentation DOES exist -- the UI is
linking to the wrong document. Initially, I thought this was a problem with
traceview.xml but I cannot find the associated entry here. We might want to
open a new bug for this.

Now, analyzing each view I found a number of outdated or incorrect
documentation. The patch 107866_patch_1.txt should fix these problems. However,
I am emailing new icon graphics to Ruth Lee for submission.

Object References View
======================
#1 - The "Object references view controls" section should not be a separate
section. We should delete  "Object references view controls"
(robjref_controls.htm) add the controls info to "Object References table".
#2 - We need to add the Manage filters option (icon and accompanying
description). I created an icon for this (filterdropdown_co.gif).
#3 - The Choose columns option should be removed from the toolbar controls
section.
#4 - The  Choose columns option should be added to the toolbar drop down list
options
#5 - The Sort by column option should be added to the toolbar drop down list
options. I created an icon for this new UI component (sortcolumns_co.gif).
#6 - The pop up menu requires the Filter out option. I created an icon for this
(filter_co.gif).
#7 - The pop up menu requires the Sort by column option.

Method Invocation View
======================
Same as #1, except the file to delete is rmthinv_controls.htm.
#8 - There are a bunch of erroneous entries in the pop-up menu controls listing
(related to showing Threads and Repetitions). Eugene noted that this was
probably a doc-bug to begin with.
#9 - The Show Caller, Show Called, Next, and Previous options should be added
to the drop down menu controls. 

Method Invocation Details View
==============================
#10 - The title should be changed from "Method Details Invocation" to "Method
Invocation Details".
#11 - The toolbar controls section is missing (from the UI, I can see that the
toolbar requires, the Export html, Open source, and Show percentage options)

Execution Flow View
======================
- #1, except the file to delete is rexflwvw_controls.htm.
#12 - the pop up menu requires the Choose columns option
#13 - the pop up menu requires the Show method invocation and Show method
invocation details options.
#14 - I could not manage to bring up the "Show execution flow view table
option". I emailed Eugene, asking if this option still exists. He confirmed
that this should be removed (the table always exists as of 40).


Memory Statistics View
=======================
-#2,  #3, #4 and #5 above.


Execution Statistics View
==========================
- #2, #3, #4, and #5 above.
- #6, #7, and #13 above.

Code Coverage View
===================
- For some reason the documentation source appears in the "concepts" folder...
i.e. concepts/cecovsta.htm. The documentation for other views appears ini the
ref folder. Should we move cecovsta.htm to the ref folder ?
All out-of-date documentation is P1 (must be fixed in this release). Thanks for
the great work, Abdullah!
Abdullah's changed were checked in Sept 19, 2005.
Thanks Abdullah and Ruth.
As of TPTP 4.6.0, TPTP is in maintenance mode and focusing on improving quality by resolving relevant enhancements/defects and increasing test coverage through test creation, automation, Build Verification Tests (BVTs), and expanded run-time execution. As part of the TPTP Bugzilla housecleaning process (see http://wiki.eclipse.org/Bugzilla_Housecleaning_Processes), this enhancement/defect is verified/closed by the Project Lead since this enhancement/defect has been resolved and unverified for more than 1 year and considered to be fixed. If this enhancement/defect is still unresolved and reproducible in the latest TPTP release (http://www.eclipse.org/tptp/home/downloads/), please re-open.</WithOutStack>
  </Bug>
  <Bug>
    <BugId amount="107867" />
    <CreationDate amount="2005-08-24 11:19:00 -0400" />
    <DupId amount="" />
    <classification amount="Eclipse" />
    <Product amount="Platform" />
    <component amount="UI" />
    <Version amount="3.2" />
    <rep_platform amount="PC" />
    <op_sys amount="Windows XP" />
    <priority amount="P3" />
    <bug_severity amount="normal" />
    <Summery>[Workbench][JFace] Review uses of new Boolean(boolean)</Summery>
    <Patches amount="0" />
    <Stacktraces amount="0" />
    <SourceCodeRegions amount="0" />
    <Enumerations amount="0" />
    <bug_status amount="VERIFIED" />
    <resolution amount="FIXED" />
    <WithStack>There are many references to new Boolean(boolean) in JFace and UI.  This is
obviously not efficient because it creates a new object that is not necessary. 
If these objects are held for long periods it is even worse. We should review
these and replace with:

b ? Boolean.TRUE : Boolean.FALSE

Note that we cannot use Boolean.valueOf() because it is in the 1.4 class libraries.
MvM to route.
I'll take this
Fixed. Replaced as follows:

new Boolean(b) --&gt; b ? Boolean.TRUE : Boolean.FALSE
new Boolean(true) --&gt; Boolean.TRUE
new Boolean(false) --&gt; Boolean.FALSE</WithStack>
    <WithOutStack>There are many references to new Boolean(boolean) in JFace and UI.  This is
obviously not efficient because it creates a new object that is not necessary. 
If these objects are held for long periods it is even worse. We should review
these and replace with:

b ? Boolean.TRUE : Boolean.FALSE

Note that we cannot use Boolean.valueOf() because it is in the 1.4 class libraries.
MvM to route.
I'll take this
Fixed. Replaced as follows:

new Boolean(b) --&gt; b ? Boolean.TRUE : Boolean.FALSE
new Boolean(true) --&gt; Boolean.TRUE
new Boolean(false) --&gt; Boolean.FALSE</WithOutStack>
  </Bug>
  <Bug>
    <BugId amount="107868" />
    <CreationDate amount="2005-08-24 11:22:00 -0400" />
    <DupId amount="" />
    <classification amount="Eclipse" />
    <Product amount="Platform" />
    <component amount="Team" />
    <Version amount="3.2" />
    <rep_platform amount="PC" />
    <op_sys amount="Windows XP" />
    <priority amount="P3" />
    <bug_severity amount="normal" />
    <Summery>Don't use Boolean constructor</Summery>
    <Patches amount="0" />
    <Stacktraces amount="0" />
    <SourceCodeRegions amount="0" />
    <Enumerations amount="0" />
    <bug_status amount="RESOLVED" />
    <resolution amount="FIXED" />
    <WithStack>We should use Boolean.valueOf instead of the constructor to save a bit of 
space.
Fix released to HEAD</WithStack>
    <WithOutStack>We should use Boolean.valueOf instead of the constructor to save a bit of 
space.
Fix released to HEAD</WithOutStack>
  </Bug>
  <Bug>
    <BugId amount="107869" />
    <CreationDate amount="2005-08-24 11:23:00 -0400" />
    <DupId amount="" />
    <classification amount="Tools" />
    <Product amount="TPTP Profiling" />
    <component amount="Platform.UI" />
    <Version amount="4.1" />
    <rep_platform amount="PC" />
    <op_sys amount="Windows 2000" />
    <priority amount="P3" />
    <bug_severity amount="normal" />
    <Summery>Minor problems with the Analyzer Extension Sample.</Summery>
    <Patches amount="0" />
    <Stacktraces amount="0" />
    <SourceCodeRegions amount="0" />
    <Enumerations amount="1">
      <Enumeration lines="25">
        <Lines>
          <Line>(1) The description for the Analyzer Extension Sample in the New Example</Line>
          <Line>diaglog reads:</Line>
          <Line />
          <Line>"Creates a sample project for the analyzer extension point."</Line>
          <Line />
          <Line>However, all the other UI samples description start with "This sample</Line>
          <Line>creates...".  So I suggest we use</Line>
          <Line>the same style in the Analyzer Extension Sample.  That is, the description</Line>
          <Line>should read:</Line>
          <Line />
          <Line>"The sample creates a sample project for the analyzer extension point."</Line>
          <Line />
          <Line>(2) The description in the Analyzer Extension Sample dialog reads:</Line>
          <Line />
          <Line>"Creates a sample project for the analyzer extension point."</Line>
          <Line />
          <Line>However, all the other UI samples dialog start with "Specify a project for</Line>
          <Line>the...".  So I suggest we use</Line>
          <Line>the same style in the Analyzer Extension Sample dialog.  That is, the</Line>
          <Line>description should read:</Line>
          <Line />
          <Line>"Specify a project for the analyzer extension point."</Line>
          <Line />
          <Line>(3) In the "Working with the Analyzer Extension sample" help file, bullet 3 in</Line>
          <Line>the second set of bullets reads:</Line>
        </Lines>
      </Enumeration>
    </Enumerations>
    <bug_status amount="CLOSED" />
    <resolution amount="FIXED" />
    <WithStack>The following are some minor problems with the Analyzer Extension Sample in the 
TPTP 4.1 build 200508211651.

(1) The description for the Analyzer Extension Sample in the New Example 
diaglog reads:

        "Creates a sample project for the analyzer extension point."

    However, all the other UI samples description start with "This sample 
creates...".  So I suggest we use
    the same style in the Analyzer Extension Sample.  That is, the description 
should read:

        "The sample creates a sample project for the analyzer extension point."

(2) The description in the Analyzer Extension Sample dialog reads:

        "Creates a sample project for the analyzer extension point."

    However, all the other UI samples dialog start with "Specify a project for 
the...".  So I suggest we use
    the same style in the Analyzer Extension Sample dialog.  That is, the 
description should read:

        "Specify a project for the analyzer extension point."

(3) In the "Working with the Analyzer Extension sample" help file, bullet 3 in 
the second set of bullets reads:

        "Populate the Profiling Monitor view by either profiling an application 
or importing a profiling file.
         The navigator should contain a Project, Monitor, Node, Process, and an 
Agent."

    But the navigator only displays: Monitor, Node, Process and Agent.  So the 
word "Project" should be deleted
    from bullet 3 (unless this is a bug in the code and Project should be 
displayed; or I've missed something).
patch submitted.

The last point (3) is not totally correct, user can enable Project to be
displayed under checkbox in Preference-&gt;Profiling and Logging-&gt;Apperance
As of TPTP 4.6.0, TPTP is in maintenance mode and focusing on improving quality by resolving relevant enhancements/defects and increasing test coverage through test creation, automation, Build Verification Tests (BVTs), and expanded run-time execution. As part of the TPTP Bugzilla housecleaning process (see http://wiki.eclipse.org/Bugzilla_Housecleaning_Processes), this enhancement/defect is verified/closed by the Project Lead since this enhancement/defect has been resolved and unverified for more than 1 year and considered to be fixed. If this enhancement/defect is still unresolved and reproducible in the latest TPTP release (http://www.eclipse.org/tptp/home/downloads/), please re-open.</WithStack>
    <WithOutStack>The following are some minor problems with the Analyzer Extension Sample in the 
TPTP 4.1 build 200508211651.

(1) The description for the Analyzer Extension Sample in the New Example 
diaglog reads:

        "Creates a sample project for the analyzer extension point."

    However, all the other UI samples description start with "This sample 
creates...".  So I suggest we use
    the same style in the Analyzer Extension Sample.  That is, the description 
should read:

        "The sample creates a sample project for the analyzer extension point."

(2) The description in the Analyzer Extension Sample dialog reads:

        "Creates a sample project for the analyzer extension point."

    However, all the other UI samples dialog start with "Specify a project for 
the...".  So I suggest we use
    the same style in the Analyzer Extension Sample dialog.  That is, the 
description should read:

        "Specify a project for the analyzer extension point."

(3) In the "Working with the Analyzer Extension sample" help file, bullet 3 in 
the second set of bullets reads:

        "Populate the Profiling Monitor view by either profiling an application 
or importing a profiling file.
         The navigator should contain a Project, Monitor, Node, Process, and an 
Agent."

    But the navigator only displays: Monitor, Node, Process and Agent.  So the 
word "Project" should be deleted
    from bullet 3 (unless this is a bug in the code and Project should be 
displayed; or I've missed something).
patch submitted.

The last point (3) is not totally correct, user can enable Project to be
displayed under checkbox in Preference-&gt;Profiling and Logging-&gt;Apperance
As of TPTP 4.6.0, TPTP is in maintenance mode and focusing on improving quality by resolving relevant enhancements/defects and increasing test coverage through test creation, automation, Build Verification Tests (BVTs), and expanded run-time execution. As part of the TPTP Bugzilla housecleaning process (see http://wiki.eclipse.org/Bugzilla_Housecleaning_Processes), this enhancement/defect is verified/closed by the Project Lead since this enhancement/defect has been resolved and unverified for more than 1 year and considered to be fixed. If this enhancement/defect is still unresolved and reproducible in the latest TPTP release (http://www.eclipse.org/tptp/home/downloads/), please re-open.</WithOutStack>
  </Bug>
  <Bug>
    <BugId amount="107870" />
    <CreationDate amount="2005-08-24 11:24:00 -0400" />
    <DupId amount="" />
    <classification amount="Tools" />
    <Product amount="TPTP Profiling" />
    <component amount="Platform.UI" />
    <Version amount="4.1" />
    <rep_platform amount="PC" />
    <op_sys amount="Windows 2000" />
    <priority amount="P3" />
    <bug_severity amount="normal" />
    <Summery>Minor problems with the Column Extension Sample.</Summery>
    <Patches amount="0" />
    <Stacktraces amount="0" />
    <SourceCodeRegions amount="2">
      <source_code type="assignment">
        <location start="536" end="568" />
        <code>String name1 = null;</code>
      </source_code>
      <source_code type="assignment">
        <location start="569" end="601" />
        <code>String name2 = null;</code>
      </source_code>
    </SourceCodeRegions>
    <Enumerations amount="2">
      <Enumeration lines="17">
        <Lines>
          <Line>(a) Replace</Line>
          <Line />
          <Line>name="line missed"</Line>
          <Line />
          <Line>with</Line>
          <Line />
          <Line>name="lines missed"</Line>
          <Line />
          <Line>(b) Replace</Line>
          <Line />
          <Line>align="rigth"</Line>
          <Line />
          <Line>with</Line>
          <Line />
          <Line>align="right"</Line>
          <Line />
          <Line>(c) Replace</Line>
        </Lines>
      </Enumeration>
      <Enumeration lines="48">
        <Lines>
          <Line>(1) In the plugin.xml file:</Line>
          <Line />
          <Line>(a) Replace</Line>
          <Line />
          <Line>name="line missed"</Line>
          <Line />
          <Line>with</Line>
          <Line />
          <Line>name="lines missed"</Line>
          <Line />
          <Line>(b) Replace</Line>
          <Line />
          <Line>align="rigth"</Line>
          <Line />
          <Line>with</Line>
          <Line />
          <Line>align="right"</Line>
          <Line />
          <Line>(c) Replace</Line>
          <Line />
          <Line>name=" &amp;quot;%&amp;quot; lines hit"</Line>
          <Line />
          <Line>with</Line>
          <Line />
          <Line>name="% lines hit"</Line>
          <Line />
          <Line>(2) Clean up the warnings in the ColumnExtensionProvider.java file.  In</Line>
          <Line>particular, delete these two lines</Line>
          <Line />
          <Line />
          <Line />
          <Line />
          <Line>as "name1" and "name2" are never used.</Line>
          <Line />
          <Line>(3) In the "Working with the column Extension sample" help file, there is a</Line>
          <Line>reference to the applyTo element.</Line>
          <Line />
          <Line>"However, additions can be made to any other TPTP statistics views</Line>
          <Line>using the applyTo element of the extension point."</Line>
          <Line />
          <Line>What is this?  We should include it in the sample.  Or provide more</Line>
          <Line>information.  I couldn't find anything on it.</Line>
          <Line />
          <Line>(4) When you run the sample, you see the three new columns that are added.  I</Line>
          <Line>noticed the "lines hit" column</Line>
          <Line>has the same value as the "Methods hit" column.  Is this intentional?</Line>
          <Line>patch submitted</Line>
          <Line>As of TPTP 4.6.0, TPTP is in maintenance mode and focusing on improving quality by resolving relevant enhancements/defects and increasing test coverage through test creation, automation, Build Verification Tests (BVTs), and expanded run-time execution. As part of the TPTP Bugzilla housecleaning process (see http://wiki.eclipse.org/Bugzilla_Housecleaning_Processes), this enhancement/defect is verified/closed by the Project Lead since this enhancement/defect has been resolved and unverified for more than 1 year and considered to be fixed. If this enhancement/defect is still unresolved and reproducible in the latest TPTP release (http://www.eclipse.org/tptp/home/downloads/), please re-open.</Line>
        </Lines>
      </Enumeration>
    </Enumerations>
    <bug_status amount="CLOSED" />
    <resolution amount="FIXED" />
    <WithStack>The following are some minor problems with the Column Extension Sample in the 
TPTP 4.1 build 200508211651.

(1) In the plugin.xml file:

    (a) Replace

            name="line missed"

        with

            name="lines missed"

    (b) Replace

            align="rigth"

        with

            align="right"

    (c) Replace

            name=" &amp;quot;%&amp;quot; lines hit"

        with

            name="% lines hit"

(2) Clean up the warnings in the ColumnExtensionProvider.java file.  In 
particular, delete these two lines

            String name1 = null;
            String name2 = null;

     as "name1" and "name2" are never used.

(3) In the "Working with the column Extension sample" help file, there is a 
reference to the applyTo element.

        "However, additions can be made to any other TPTP statistics views 
using the applyTo element of the extension point."

    What is this?  We should include it in the sample.  Or provide more 
information.  I couldn't find anything on it.     

(4) When you run the sample, you see the three new columns that are added.  I 
noticed the "lines hit" column
    has the same value as the "Methods hit" column.  Is this intentional?
patch submitted
As of TPTP 4.6.0, TPTP is in maintenance mode and focusing on improving quality by resolving relevant enhancements/defects and increasing test coverage through test creation, automation, Build Verification Tests (BVTs), and expanded run-time execution. As part of the TPTP Bugzilla housecleaning process (see http://wiki.eclipse.org/Bugzilla_Housecleaning_Processes), this enhancement/defect is verified/closed by the Project Lead since this enhancement/defect has been resolved and unverified for more than 1 year and considered to be fixed. If this enhancement/defect is still unresolved and reproducible in the latest TPTP release (http://www.eclipse.org/tptp/home/downloads/), please re-open.</WithStack>
    <WithOutStack>The following are some minor problems with the Column Extension Sample in the 
TPTP 4.1 build 200508211651.

(1) In the plugin.xml file:

    (a) Replace

            name="line missed"

        with

            name="lines missed"

    (b) Replace

            align="rigth"

        with

            align="right"

    (c) Replace

            name=" &amp;quot;%&amp;quot; lines hit"

        with

            name="% lines hit"

(2) Clean up the warnings in the ColumnExtensionProvider.java file.  In 
particular, delete these two lines

            String name1 = null;
            String name2 = null;

     as "name1" and "name2" are never used.

(3) In the "Working with the column Extension sample" help file, there is a 
reference to the applyTo element.

        "However, additions can be made to any other TPTP statistics views 
using the applyTo element of the extension point."

    What is this?  We should include it in the sample.  Or provide more 
information.  I couldn't find anything on it.     

(4) When you run the sample, you see the three new columns that are added.  I 
noticed the "lines hit" column
    has the same value as the "Methods hit" column.  Is this intentional?
patch submitted
As of TPTP 4.6.0, TPTP is in maintenance mode and focusing on improving quality by resolving relevant enhancements/defects and increasing test coverage through test creation, automation, Build Verification Tests (BVTs), and expanded run-time execution. As part of the TPTP Bugzilla housecleaning process (see http://wiki.eclipse.org/Bugzilla_Housecleaning_Processes), this enhancement/defect is verified/closed by the Project Lead since this enhancement/defect has been resolved and unverified for more than 1 year and considered to be fixed. If this enhancement/defect is still unresolved and reproducible in the latest TPTP release (http://www.eclipse.org/tptp/home/downloads/), please re-open.</WithOutStack>
  </Bug>
  <Bug>
    <BugId amount="107871" />
    <CreationDate amount="2005-08-24 11:26:00 -0400" />
    <DupId amount="" />
    <classification amount="Tools" />
    <Product amount="TPTP Profiling" />
    <component amount="Platform.UI" />
    <Version amount="4.1" />
    <rep_platform amount="PC" />
    <op_sys amount="Windows 2000" />
    <priority amount="P3" />
    <bug_severity amount="normal" />
    <Summery>Minor problems with the Filter Type Sample.</Summery>
    <Patches amount="0" />
    <Stacktraces amount="0" />
    <SourceCodeRegions amount="0" />
    <Enumerations amount="0" />
    <bug_status amount="CLOSED" />
    <resolution amount="FIXED" />
    <WithStack>The following are some minor problems with the Filter Type Sample in the TPTP 
4.1 build 200508211651.

(1) In the "Working with the Filter Type sample" help file, replace all 
references of

        org.eclipse.tptp.filtertype.extension.*

    with

        org.eclipse.tptp.filtertype.extension.sample.*

    as this is what appears in the sample code.
fixed
As of TPTP 4.6.0, TPTP is in maintenance mode and focusing on improving quality by resolving relevant enhancements/defects and increasing test coverage through test creation, automation, Build Verification Tests (BVTs), and expanded run-time execution. As part of the TPTP Bugzilla housecleaning process (see http://wiki.eclipse.org/Bugzilla_Housecleaning_Processes), this enhancement/defect is verified/closed by the Project Lead since this enhancement/defect has been resolved and unverified for more than 1 year and considered to be fixed. If this enhancement/defect is still unresolved and reproducible in the latest TPTP release (http://www.eclipse.org/tptp/home/downloads/), please re-open.</WithStack>
    <WithOutStack>The following are some minor problems with the Filter Type Sample in the TPTP 
4.1 build 200508211651.

(1) In the "Working with the Filter Type sample" help file, replace all 
references of

        org.eclipse.tptp.filtertype.extension.*

    with

        org.eclipse.tptp.filtertype.extension.sample.*

    as this is what appears in the sample code.
fixed
As of TPTP 4.6.0, TPTP is in maintenance mode and focusing on improving quality by resolving relevant enhancements/defects and increasing test coverage through test creation, automation, Build Verification Tests (BVTs), and expanded run-time execution. As part of the TPTP Bugzilla housecleaning process (see http://wiki.eclipse.org/Bugzilla_Housecleaning_Processes), this enhancement/defect is verified/closed by the Project Lead since this enhancement/defect has been resolved and unverified for more than 1 year and considered to be fixed. If this enhancement/defect is still unresolved and reproducible in the latest TPTP release (http://www.eclipse.org/tptp/home/downloads/), please re-open.</WithOutStack>
  </Bug>
  <Bug>
    <BugId amount="107872" />
    <CreationDate amount="2005-08-24 11:32:00 -0400" />
    <DupId amount="" />
    <classification amount="RT" />
    <Product amount="ERCP" />
    <component amount="Mobile" />
    <Version amount="RC1" />
    <rep_platform amount="PC" />
    <op_sys amount="Windows XP" />
    <priority amount="P3" />
    <bug_severity amount="normal" />
    <Summery>ListBox in CaptionControl behaving oddly</Summery>
    <Patches amount="0" />
    <Stacktraces amount="0" />
    <SourceCodeRegions amount="0" />
    <Enumerations amount="1">
      <Enumeration lines="3">
        <Lines>
          <Line>1) ListBox caption does not stay highlighted when ListBox control has focus.</Line>
          <Line>2) ListBox shows a vertical scroll bar that is grayed out and has no thumb.</Line>
          <Line>3) items in list box do not highlight when clicked on</Line>
        </Lines>
      </Enumeration>
    </Enumerations>
    <bug_status amount="CLOSED" />
    <resolution amount="FIXED" />
    <WithStack>Running RC1 eSWT and Mobile Ext., latest demo app (8/24/05):
Start CaptionedControl showcase
switch to Mobile 2 tab
click on "ListBox" text
Note: text highlights appropriately, but arrow keys have no effect in changing
the list box selection which is wrong.

click on a list box item
Note: "ListBox" text becomes normal which is wrong. List box item does not
highlight which is wrong. However, arrow keys now function correctly.
If you click on an item and then use arrow keys you can see that the item
apparently was selected but just does not show it.
Note: problems occur on both win32 and wm2003
We'll investigate this problem.
Fixed and checked in.
ListBox is still not acting right.  With latest Mobile Ext. binaries and demoApp
from 9/22/05:

1) ListBox caption does not stay highlighted when ListBox control has focus.
2) ListBox shows a vertical scroll bar that is grayed out and has no thumb.
3) items in list box do not highlight when clicked on

Just look at the ListView widget to the right for a good example of how ListBox
should be working.
Fixed and checked in
completed</WithStack>
    <WithOutStack>Running RC1 eSWT and Mobile Ext., latest demo app (8/24/05):
Start CaptionedControl showcase
switch to Mobile 2 tab
click on "ListBox" text
Note: text highlights appropriately, but arrow keys have no effect in changing
the list box selection which is wrong.

click on a list box item
Note: "ListBox" text becomes normal which is wrong. List box item does not
highlight which is wrong. However, arrow keys now function correctly.
If you click on an item and then use arrow keys you can see that the item
apparently was selected but just does not show it.
Note: problems occur on both win32 and wm2003
We'll investigate this problem.
Fixed and checked in.
ListBox is still not acting right.  With latest Mobile Ext. binaries and demoApp
from 9/22/05:

1) ListBox caption does not stay highlighted when ListBox control has focus.
2) ListBox shows a vertical scroll bar that is grayed out and has no thumb.
3) items in list box do not highlight when clicked on

Just look at the ListView widget to the right for a good example of how ListBox
should be working.
Fixed and checked in
completed</WithOutStack>
  </Bug>
  <Bug>
    <BugId amount="107873" />
    <CreationDate amount="2005-08-24 11:35:00 -0400" />
    <DupId amount="" />
    <classification amount="Eclipse" />
    <Product amount="JDT" />
    <component amount="Core" />
    <Version amount="3.1" />
    <rep_platform amount="PC" />
    <op_sys amount="Windows XP" />
    <priority amount="P3" />
    <bug_severity amount="enhancement" />
    <Summery>$NON-NLS-n$ - support for a wildcard to avoid multiple markers on the same line</Summery>
    <Patches amount="0" />
    <Stacktraces amount="0" />
    <SourceCodeRegions amount="2">
      <source_code type="singlecomment">
        <location start="34" end="49" />
        <code>//$NON-NLS-*$</code>
      </source_code>
      <source_code type="singlecomment">
        <location start="62" end="98" />
        <code>//$NON-NLS-1 $NON-NLS-2 $NON-NLS-3</code>
      </source_code>
    </SourceCodeRegions>
    <Enumerations amount="0" />
    <bug_status amount="NEW" />
    <resolution amount="" />
    <WithStack>It would be great if I could use:

//$NON-NLS-*$

instead of:

//$NON-NLS-1 $NON-NLS-2 $NON-NLS-3

Granted I dont have many use cases for this but when it does happen it is ugly and
also tends to make the line very long.</WithStack>
    <WithOutStack>It would be great if I could use:

//$NON-NLS-*$

instead of:

//$NON-NLS-1 $NON-NLS-2 $NON-NLS-3

Granted I dont have many use cases for this but when it does happen it is ugly and
also tends to make the line very long.</WithOutStack>
  </Bug>
  <Bug>
    <BugId amount="107874" />
    <CreationDate amount="2005-08-24 11:36:00 -0400" />
    <DupId amount="99753" />
    <classification amount="Eclipse" />
    <Product amount="JDT" />
    <component amount="Debug" />
    <Version amount="3.2" />
    <rep_platform amount="PC" />
    <op_sys amount="Windows XP" />
    <priority amount="P3" />
    <bug_severity amount="normal" />
    <Summery>new Boolean(boolean) -&gt; Boolean.valueOf(boolean)</Summery>
    <Patches amount="0" />
    <Stacktraces amount="0" />
    <SourceCodeRegions amount="0" />
    <Enumerations amount="0" />
    <bug_status amount="RESOLVED" />
    <resolution amount="DUPLICATE" />
    <WithStack>There are many references in debug classes to new Boolean(boolean). Consider
reviewing these and replacing with Boolean.valueOf() that avoids object
creations.  If these objects are held onto for long periods, there is also a
space savings. Here are the current references I found:

org.ecli.debu.core.model.Breakpoint.setPersisted(boolean) (2 matches)
org.ecli.debu.inte.core.LaunchConfiguration.getMemento()
org.ecli.debu.inte.core.LaunchConfigurationWorkingCopy.setAttribute(String, boolean)
org.ecli.debu.inte.ui.launchConfigurations.CompileErrorProjectPromptStatusHandler.handleStatus(IStatus,
Object) (4 matches)
org.ecli.debu.inte.ui.launchConfigurations.CompileErrorPromptStatusHandler.handleStatus(IStatus,
Object) (4 matches)
org.ecli.debu.inte.ui.launchConfigurations.DebugModePromptStatusHandler.handleStatus(IStatus,
Object) (6 matches)
org.ecli.debu.inte.ui.launchConfigurations.LaunchConfigurationsDialog.saveEnableStateAndSet(Control,
Map, String, boolean)
org.ecli.debu.inte.ui.WorkingDirectoryStatusHandler.handleStatus(IStatus, Object)
org.ecli.jdi.internal.VirtualMachineImpl.mirrorOf(boolean)
org.ecli.jdt.debu.ui.JavaUISourceLocator.getMemento()
org.ecli.jdt.debu.ui.launchConfigurations.JavaConnectTab.performApply(ILaunchConfigurationWorkingCopy)
org.ecli.jdt.inte.debu.core.breakpoints.JavaExceptionBreakpoint.JavaExceptionBreakpoint(IResource,
String, boolean, boolean, boolean, boolean, Map) (3 matches)
org.ecli.jdt.inte.debu.core.breakpoints.JavaExceptionBreakpoint.setCaughtAndUncaught(boolean,
boolean) (2 matches)
org.ecli.jdt.inte.debu.core.breakpoints.JavaLineBreakpoint.addLineBreakpointAttributes(Map,
String, boolean, int, int, int)
org.ecli.jdt.inte.debu.core.breakpoints.JavaLineBreakpoint.setConditionEnabled(boolean)
org.ecli.jdt.inte.debu.core.breakpoints.JavaLineBreakpoint.setConditionSuspendOnTrue(boolean)
org.ecli.jdt.inte.debu.core.breakpoints.JavaMethodBreakpoint.JavaMethodBreakpoint(IResource,
String, String, String, boolean, boolean, boolean, int, int, int, int, boolean,
Map) (3 matches)
org.ecli.jdt.inte.debu.core.breakpoints.JavaMethodBreakpoint.usesTypePattern()
org.ecli.jdt.inte.debu.eval.ast.instructions.PlusOperator.getString(IJavaValue, int)
org.ecli.jdt.inte.debu.ui.launcher.VMConnectTimeoutStatusHandler.handleStatus(IStatus,
Object)
org.ecli.jdt.inte.debu.ui.propertypages.InstanceFilterEditor.createViewer()
Not sure of your definition of current :-)

These were all covered and have been fixed via bug 99753.

*** This bug has been marked as a duplicate of 99753 ***
Sorry, I was on R3.1...</WithStack>
    <WithOutStack>There are many references in debug classes to new Boolean(boolean). Consider
reviewing these and replacing with Boolean.valueOf() that avoids object
creations.  If these objects are held onto for long periods, there is also a
space savings. Here are the current references I found:

org.ecli.debu.core.model.Breakpoint.setPersisted(boolean) (2 matches)
org.ecli.debu.inte.core.LaunchConfiguration.getMemento()
org.ecli.debu.inte.core.LaunchConfigurationWorkingCopy.setAttribute(String, boolean)
org.ecli.debu.inte.ui.launchConfigurations.CompileErrorProjectPromptStatusHandler.handleStatus(IStatus,
Object) (4 matches)
org.ecli.debu.inte.ui.launchConfigurations.CompileErrorPromptStatusHandler.handleStatus(IStatus,
Object) (4 matches)
org.ecli.debu.inte.ui.launchConfigurations.DebugModePromptStatusHandler.handleStatus(IStatus,
Object) (6 matches)
org.ecli.debu.inte.ui.launchConfigurations.LaunchConfigurationsDialog.saveEnableStateAndSet(Control,
Map, String, boolean)
org.ecli.debu.inte.ui.WorkingDirectoryStatusHandler.handleStatus(IStatus, Object)
org.ecli.jdi.internal.VirtualMachineImpl.mirrorOf(boolean)
org.ecli.jdt.debu.ui.JavaUISourceLocator.getMemento()
org.ecli.jdt.debu.ui.launchConfigurations.JavaConnectTab.performApply(ILaunchConfigurationWorkingCopy)
org.ecli.jdt.inte.debu.core.breakpoints.JavaExceptionBreakpoint.JavaExceptionBreakpoint(IResource,
String, boolean, boolean, boolean, boolean, Map) (3 matches)
org.ecli.jdt.inte.debu.core.breakpoints.JavaExceptionBreakpoint.setCaughtAndUncaught(boolean,
boolean) (2 matches)
org.ecli.jdt.inte.debu.core.breakpoints.JavaLineBreakpoint.addLineBreakpointAttributes(Map,
String, boolean, int, int, int)
org.ecli.jdt.inte.debu.core.breakpoints.JavaLineBreakpoint.setConditionEnabled(boolean)
org.ecli.jdt.inte.debu.core.breakpoints.JavaLineBreakpoint.setConditionSuspendOnTrue(boolean)
org.ecli.jdt.inte.debu.core.breakpoints.JavaMethodBreakpoint.JavaMethodBreakpoint(IResource,
String, String, String, boolean, boolean, boolean, int, int, int, int, boolean,
Map) (3 matches)
org.ecli.jdt.inte.debu.core.breakpoints.JavaMethodBreakpoint.usesTypePattern()
org.ecli.jdt.inte.debu.eval.ast.instructions.PlusOperator.getString(IJavaValue, int)
org.ecli.jdt.inte.debu.ui.launcher.VMConnectTimeoutStatusHandler.handleStatus(IStatus,
Object)
org.ecli.jdt.inte.debu.ui.propertypages.InstanceFilterEditor.createViewer()
Not sure of your definition of current :-)

These were all covered and have been fixed via bug 99753.

*** This bug has been marked as a duplicate of 99753 ***
Sorry, I was on R3.1...</WithOutStack>
  </Bug>
  <Bug>
    <BugId amount="107875" />
    <CreationDate amount="2005-08-24 11:41:00 -0400" />
    <DupId amount="" />
    <classification amount="WebTools" />
    <Product amount="WTP ServerTools" />
    <component amount="jst.server" />
    <Version amount="0.7" />
    <rep_platform amount="PC" />
    <op_sys amount="Windows 2000" />
    <priority amount="P3" />
    <bug_severity amount="blocker" />
    <Summery>Cannot create New Server Runtime</Summery>
    <Patches amount="0" />
    <Stacktraces amount="0" />
    <SourceCodeRegions amount="0" />
    <Enumerations amount="0" />
    <bug_status amount="CLOSED" />
    <resolution amount="FIXED" />
    <WithStack>Driver:  0824I

I trying to create server runtime by using Windows-&gt;Preferences-&gt;Server-
&gt;Installed Runtimes, click Add button.  However, no matter what type of runtime 
I chose (e.g. Apahce Tomcat v5.0), the Next and Finish buttons are disabled.  
So I'm not able to create any server runtime.
This problem was found last night, fixed earlier this morning, and tagged for
the I-build.
Already fixed.
Verified on 0825I.</WithStack>
    <WithOutStack>Driver:  0824I

I trying to create server runtime by using Windows-&gt;Preferences-&gt;Server-
&gt;Installed Runtimes, click Add button.  However, no matter what type of runtime 
I chose (e.g. Apahce Tomcat v5.0), the Next and Finish buttons are disabled.  
So I'm not able to create any server runtime.
This problem was found last night, fixed earlier this morning, and tagged for
the I-build.
Already fixed.
Verified on 0825I.</WithOutStack>
  </Bug>
  <Bug>
    <BugId amount="107876" />
    <CreationDate amount="2005-08-24 11:43:00 -0400" />
    <DupId amount="" />
    <classification amount="Modeling" />
    <Product amount="GMF-Runtime" />
    <component amount="General" />
    <Version amount="1.0" />
    <rep_platform amount="All" />
    <op_sys amount="Windows XP" />
    <priority amount="P2" />
    <bug_severity amount="major" />
    <Summery>MSLEventBroker uses an incorrect strategy to propagate events generated by MListeners that perform writes</Summery>
    <Patches amount="0" />
    <Stacktraces amount="0" />
    <SourceCodeRegions amount="0" />
    <Enumerations amount="0" />
    <bug_status amount="RESOLVED" />
    <resolution amount="FIXED" />
    <WithStack>The MSLEventBroker is responsible for gathering notifications that should be
propagated to MListeners. It is possible for an MListener to open a write action
during its onEvent() call. Whenever this happens, the notifications generated by
the write action of the listener are handled in a special way in the
MSLEventBroker. The MSLEventBroker will begin to give the original notifications
to the next MListener in the list plus the notifications produced by the
previous MListener.

This creates a level of non-determinism with respect to the ordering of the
listeners. In effect, the position of the MListener in the list will allow it to
receive events before an MListener that generated the events itself. The latter
MListener will have to wait for a second-pass before it receives those events.

My suggestion is that all MListeners should receive the same collection of
notifications in the one pass. Whether those listeners generated more
notifications during that pass may necessitate another pass over the listeners
but not until all listeners have received the original list of notifications.
This bug will be fixed indirectly by the resolution of Bug 121508, which is currently in progress.
The MSL now implements a TransactionalEditingDomain, which ensures that all notifications from writes performed by post-commit listeners are queued and sent after all of the original events have been sent to all of the listeners.

Basically, exactly as suggested by Chris.  :-)
[GMF Restructure] Bug 319140 : product GMF and component
Runtime EMF was the original product and component for this bug</WithStack>
    <WithOutStack>The MSLEventBroker is responsible for gathering notifications that should be
propagated to MListeners. It is possible for an MListener to open a write action
during its onEvent() call. Whenever this happens, the notifications generated by
the write action of the listener are handled in a special way in the
MSLEventBroker. The MSLEventBroker will begin to give the original notifications
to the next MListener in the list plus the notifications produced by the
previous MListener.

This creates a level of non-determinism with respect to the ordering of the
listeners. In effect, the position of the MListener in the list will allow it to
receive events before an MListener that generated the events itself. The latter
MListener will have to wait for a second-pass before it receives those events.

My suggestion is that all MListeners should receive the same collection of
notifications in the one pass. Whether those listeners generated more
notifications during that pass may necessitate another pass over the listeners
but not until all listeners have received the original list of notifications.
This bug will be fixed indirectly by the resolution of Bug 121508, which is currently in progress.
The MSL now implements a TransactionalEditingDomain, which ensures that all notifications from writes performed by post-commit listeners are queued and sent after all of the original events have been sent to all of the listeners.

Basically, exactly as suggested by Chris.  :-)
[GMF Restructure] Bug 319140 : product GMF and component
Runtime EMF was the original product and component for this bug</WithOutStack>
  </Bug>
  <Bug>
    <BugId amount="107877" />
    <CreationDate amount="2005-08-24 11:43:00 -0400" />
    <DupId amount="" />
    <classification amount="Eclipse" />
    <Product amount="Platform" />
    <component amount="SWT" />
    <Version amount="3.2" />
    <rep_platform amount="PC" />
    <op_sys amount="Linux-GTK" />
    <priority amount="P3" />
    <bug_severity amount="normal" />
    <Summery>TreeEditor inconsistency</Summery>
    <Patches amount="0" />
    <Stacktraces amount="0" />
    <SourceCodeRegions amount="4">
      <source_code type="functiondef">
        <location start="159" end="760" />
        <code>public static void main(String[] args) {
	Display display = new Display();
	Shell shell = new Shell(display);
	shell.setBounds(10,10,200,200);
	Tree tree = new Tree(shell, SWT.NONE);
	tree.setBounds(10,10,150,150);
	shell.open();
	for (int i = 0; i &lt; 3; i++) {
		TreeItem item = new TreeItem(tree, SWT.NONE);
		ProgressBar pb = new ProgressBar(tree, SWT.SMOOTH);
		pb.setSelection(50);
		TreeEditor editor = new TreeEditor(tree);
		editor.grabHorizontal = true;
		editor.setEditor(pb, item);
	}
	while (!shell.isDisposed()) {
		if (!display.readAndDispatch()) display.sleep();
	}
	display.dispose();
}</code>
      </source_code>
      <source_code type="functiondef">
        <location start="1195" end="1836" />
        <code>&gt; public static void main(String[] args) {
&gt; 	Display display = new Display();
&gt; 	Shell shell = new Shell(display);
&gt; 	shell.setBounds(10,10,200,200);
&gt; 	Tree tree = new Tree(shell, SWT.NONE);
&gt; 	tree.setBounds(10,10,150,150);
&gt; 	shell.open();
&gt; 	for (int i = 0; i &lt; 3; i++) {
&gt; 		TreeItem item = new TreeItem(tree, SWT.NONE);
&gt; 		ProgressBar pb = new ProgressBar(tree, SWT.SMOOTH);
&gt; 		pb.setSelection(50);
&gt; 		TreeEditor editor = new TreeEditor(tree);
&gt; 		editor.grabHorizontal = true;
&gt; 		editor.setEditor(pb, item);
&gt; 	}
&gt; 	while (!shell.isDisposed()) {
&gt; 		if (!display.readAndDispatch()) display.sleep();
&gt; 	}
&gt; 	display.dispose();
&gt; }</code>
      </source_code>
      <source_code type="functiondef">
        <location start="2024" end="2676" />
        <code>public static void main(String[] args) {
	Display display = new Display();
	Shell shell = new Shell(display);
	shell.setBounds(10,10,200,200);
	Tree tree = new Tree(shell, SWT.NONE);
	tree.setBounds(10,10,150,150);
	shell.open();
	for (int i = 0; i &lt; 3; i++) {
		TreeItem item = new TreeItem(tree, SWT.NONE);
                item.setText("Item"+i); //NEW LINE
		ProgressBar pb = new ProgressBar(tree, SWT.SMOOTH);
		pb.setSelection(50);
		TreeEditor editor = new TreeEditor(tree);
		editor.grabHorizontal = true;
		editor.setEditor(pb, item);
	}
	while (!shell.isDisposed()) {
		if (!display.readAndDispatch()) display.sleep();
	}
	display.dispose();
}</code>
      </source_code>
      <source_code type="functiondef">
        <location start="3157" end="3809" />
        <code>public static void main(String[] args) {
	Display display = new Display();
	Shell shell = new Shell(display);
	shell.setBounds(10,10,200,200);
	Tree tree = new Tree(shell, SWT.NONE);
	tree.setBounds(10,10,150,150);
	shell.open();
	for (int i = 0; i &lt; 3; i++) {
		TreeItem item = new TreeItem(tree, SWT.NONE);
                item.setText("Item"+i); //NEW LINE
		ProgressBar pb = new ProgressBar(tree, SWT.SMOOTH);
		pb.setSelection(50);
		TreeEditor editor = new TreeEditor(tree);
		editor.grabHorizontal = true;
		editor.setEditor(pb, item);
	}
	while (!shell.isDisposed()) {
		if (!display.readAndDispatch()) display.sleep();
	}
	display.dispose();
}</code>
      </source_code>
    </SourceCodeRegions>
    <Enumerations amount="1">
      <Enumeration lines="4">
        <Lines>
          <Line>- run the snippet below</Line>
          <Line>- on win32 and motif this shows three tree items, each with a ProgressBar as</Line>
          <Line>its editor</Line>
          <Line>- on GTK only the first ProgressBar is shown</Line>
        </Lines>
      </Enumeration>
    </Enumerations>
    <bug_status amount="NEW" />
    <resolution amount="" />
    <WithStack>- run the snippet below
- on win32 and motif this shows three tree items, each with a ProgressBar as 
its editor
- on GTK only the first ProgressBar is shown

public static void main(String[] args) {
	Display display = new Display();
	Shell shell = new Shell(display);
	shell.setBounds(10,10,200,200);
	Tree tree = new Tree(shell, SWT.NONE);
	tree.setBounds(10,10,150,150);
	shell.open();
	for (int i = 0; i &lt; 3; i++) {
		TreeItem item = new TreeItem(tree, SWT.NONE);
		ProgressBar pb = new ProgressBar(tree, SWT.SMOOTH);
		pb.setSelection(50);
		TreeEditor editor = new TreeEditor(tree);
		editor.grabHorizontal = true;
		editor.setEditor(pb, item);
	}
	while (!shell.isDisposed()) {
		if (!display.readAndDispatch()) display.sleep();
	}
	display.dispose();
}
That was what I think several days ago .
and I found the other ProgressBars will be shown only 
when I resize the Tree.  I tried to invoke the tree.redraw() after
I have created ProgressBars ,but it didn't work !
and it works well in win32.(In reply to comment #0)
&gt; - run the snippet below
&gt; - on win32 and motif this shows three tree items, each with a ProgressBar as 
&gt; its editor
&gt; - on GTK only the first ProgressBar is shown
&gt; 
&gt; public static void main(String[] args) {
&gt; 	Display display = new Display();
&gt; 	Shell shell = new Shell(display);
&gt; 	shell.setBounds(10,10,200,200);
&gt; 	Tree tree = new Tree(shell, SWT.NONE);
&gt; 	tree.setBounds(10,10,150,150);
&gt; 	shell.open();
&gt; 	for (int i = 0; i &lt; 3; i++) {
&gt; 		TreeItem item = new TreeItem(tree, SWT.NONE);
&gt; 		ProgressBar pb = new ProgressBar(tree, SWT.SMOOTH);
&gt; 		pb.setSelection(50);
&gt; 		TreeEditor editor = new TreeEditor(tree);
&gt; 		editor.grabHorizontal = true;
&gt; 		editor.setEditor(pb, item);
&gt; 	}
&gt; 	while (!shell.isDisposed()) {
&gt; 		if (!display.readAndDispatch()) display.sleep();
&gt; 	}
&gt; 	display.dispose();
&gt; }
In Addition (not sure if this should be a new bug or its the same bug...sorry)..

There seems to be an alignment problem under linux (works fine under windows).

add the following line:

public static void main(String[] args) {
	Display display = new Display();
	Shell shell = new Shell(display);
	shell.setBounds(10,10,200,200);
	Tree tree = new Tree(shell, SWT.NONE);
	tree.setBounds(10,10,150,150);
	shell.open();
	for (int i = 0; i &lt; 3; i++) {
		TreeItem item = new TreeItem(tree, SWT.NONE);
                item.setText("Item"+i); //NEW LINE
		ProgressBar pb = new ProgressBar(tree, SWT.SMOOTH);
		pb.setSelection(50);
		TreeEditor editor = new TreeEditor(tree);
		editor.grabHorizontal = true;
		editor.setEditor(pb, item);
	}
	while (!shell.isDisposed()) {
		if (!display.readAndDispatch()) display.sleep();
	}
	display.dispose();
}

If you look at this under windows it the progress bars cover the treeitem correctly. Under Linux you can see the text. I found this when trying to edit a treeitem and it looks messy under linux (you can see part of the underlying treeitem). 

Again sorry if this should be a new bug.

thanks
In Addition (not sure if this should be a new bug or its the same bug...sorry)..

There seems to be an alignment problem under linux (works fine under windows).

add the following line:

public static void main(String[] args) {
	Display display = new Display();
	Shell shell = new Shell(display);
	shell.setBounds(10,10,200,200);
	Tree tree = new Tree(shell, SWT.NONE);
	tree.setBounds(10,10,150,150);
	shell.open();
	for (int i = 0; i &lt; 3; i++) {
		TreeItem item = new TreeItem(tree, SWT.NONE);
                item.setText("Item"+i); //NEW LINE
		ProgressBar pb = new ProgressBar(tree, SWT.SMOOTH);
		pb.setSelection(50);
		TreeEditor editor = new TreeEditor(tree);
		editor.grabHorizontal = true;
		editor.setEditor(pb, item);
	}
	while (!shell.isDisposed()) {
		if (!display.readAndDispatch()) display.sleep();
	}
	display.dispose();
}

If you look at this under windows it the progress bars cover the treeitem correctly. Under Linux you can see the text. I found this when trying to edit a treeitem and it looks messy under linux (you can see part of the underlying treeitem). 

Again sorry if this should be a new bug.

thanks</WithStack>
    <WithOutStack>- run the snippet below
- on win32 and motif this shows three tree items, each with a ProgressBar as 
its editor
- on GTK only the first ProgressBar is shown

public static void main(String[] args) {
	Display display = new Display();
	Shell shell = new Shell(display);
	shell.setBounds(10,10,200,200);
	Tree tree = new Tree(shell, SWT.NONE);
	tree.setBounds(10,10,150,150);
	shell.open();
	for (int i = 0; i &lt; 3; i++) {
		TreeItem item = new TreeItem(tree, SWT.NONE);
		ProgressBar pb = new ProgressBar(tree, SWT.SMOOTH);
		pb.setSelection(50);
		TreeEditor editor = new TreeEditor(tree);
		editor.grabHorizontal = true;
		editor.setEditor(pb, item);
	}
	while (!shell.isDisposed()) {
		if (!display.readAndDispatch()) display.sleep();
	}
	display.dispose();
}
That was what I think several days ago .
and I found the other ProgressBars will be shown only 
when I resize the Tree.  I tried to invoke the tree.redraw() after
I have created ProgressBars ,but it didn't work !
and it works well in win32.(In reply to comment #0)
&gt; - run the snippet below
&gt; - on win32 and motif this shows three tree items, each with a ProgressBar as 
&gt; its editor
&gt; - on GTK only the first ProgressBar is shown
&gt; 
&gt; public static void main(String[] args) {
&gt; 	Display display = new Display();
&gt; 	Shell shell = new Shell(display);
&gt; 	shell.setBounds(10,10,200,200);
&gt; 	Tree tree = new Tree(shell, SWT.NONE);
&gt; 	tree.setBounds(10,10,150,150);
&gt; 	shell.open();
&gt; 	for (int i = 0; i &lt; 3; i++) {
&gt; 		TreeItem item = new TreeItem(tree, SWT.NONE);
&gt; 		ProgressBar pb = new ProgressBar(tree, SWT.SMOOTH);
&gt; 		pb.setSelection(50);
&gt; 		TreeEditor editor = new TreeEditor(tree);
&gt; 		editor.grabHorizontal = true;
&gt; 		editor.setEditor(pb, item);
&gt; 	}
&gt; 	while (!shell.isDisposed()) {
&gt; 		if (!display.readAndDispatch()) display.sleep();
&gt; 	}
&gt; 	display.dispose();
&gt; }
In Addition (not sure if this should be a new bug or its the same bug...sorry)..

There seems to be an alignment problem under linux (works fine under windows).

add the following line:

public static void main(String[] args) {
	Display display = new Display();
	Shell shell = new Shell(display);
	shell.setBounds(10,10,200,200);
	Tree tree = new Tree(shell, SWT.NONE);
	tree.setBounds(10,10,150,150);
	shell.open();
	for (int i = 0; i &lt; 3; i++) {
		TreeItem item = new TreeItem(tree, SWT.NONE);
                item.setText("Item"+i); //NEW LINE
		ProgressBar pb = new ProgressBar(tree, SWT.SMOOTH);
		pb.setSelection(50);
		TreeEditor editor = new TreeEditor(tree);
		editor.grabHorizontal = true;
		editor.setEditor(pb, item);
	}
	while (!shell.isDisposed()) {
		if (!display.readAndDispatch()) display.sleep();
	}
	display.dispose();
}

If you look at this under windows it the progress bars cover the treeitem correctly. Under Linux you can see the text. I found this when trying to edit a treeitem and it looks messy under linux (you can see part of the underlying treeitem). 

Again sorry if this should be a new bug.

thanks
In Addition (not sure if this should be a new bug or its the same bug...sorry)..

There seems to be an alignment problem under linux (works fine under windows).

add the following line:

public static void main(String[] args) {
	Display display = new Display();
	Shell shell = new Shell(display);
	shell.setBounds(10,10,200,200);
	Tree tree = new Tree(shell, SWT.NONE);
	tree.setBounds(10,10,150,150);
	shell.open();
	for (int i = 0; i &lt; 3; i++) {
		TreeItem item = new TreeItem(tree, SWT.NONE);
                item.setText("Item"+i); //NEW LINE
		ProgressBar pb = new ProgressBar(tree, SWT.SMOOTH);
		pb.setSelection(50);
		TreeEditor editor = new TreeEditor(tree);
		editor.grabHorizontal = true;
		editor.setEditor(pb, item);
	}
	while (!shell.isDisposed()) {
		if (!display.readAndDispatch()) display.sleep();
	}
	display.dispose();
}

If you look at this under windows it the progress bars cover the treeitem correctly. Under Linux you can see the text. I found this when trying to edit a treeitem and it looks messy under linux (you can see part of the underlying treeitem). 

Again sorry if this should be a new bug.

thanks</WithOutStack>
  </Bug>
  <Bug>
    <BugId amount="107878" />
    <CreationDate amount="2005-08-24 11:45:00 -0400" />
    <DupId amount="109047" />
    <classification amount="RT" />
    <Product amount="ERCP" />
    <component amount="Mobile" />
    <Version amount="RC1" />
    <rep_platform amount="PC" />
    <op_sys amount="Windows XP" />
    <priority amount="P3" />
    <bug_severity amount="normal" />
    <Summery>Focus difference between win32 and wm2003</Summery>
    <Patches amount="0" />
    <Stacktraces amount="0" />
    <SourceCodeRegions amount="0" />
    <Enumerations amount="0" />
    <bug_status amount="CLOSED" />
    <resolution amount="DUPLICATE" />
    <WithStack>Running RC1 eSWT and Mobile Ext., latest demo app (8/24/05):
Start CaptionedControl showcase
Note: on PPC, the first CaptionedControl(List) has focus when dialog appears.
On x86, nothing in the dialog page has focus (and thus, Command menu does not
appear).

What accounts for this difference in behavior? The lack of something getting
focus by default within various parts of the DemoApp often keeps the Command
menu from displaying when we would like it to. Is this a platform thing? Does an
app always need to explicitly give focus to something?
Will look into this problem.


*** This bug has been marked as a duplicate of 109047 ***
verified fixed on 9/22/05 binaries
completed</WithStack>
    <WithOutStack>Running RC1 eSWT and Mobile Ext., latest demo app (8/24/05):
Start CaptionedControl showcase
Note: on PPC, the first CaptionedControl(List) has focus when dialog appears.
On x86, nothing in the dialog page has focus (and thus, Command menu does not
appear).

What accounts for this difference in behavior? The lack of something getting
focus by default within various parts of the DemoApp often keeps the Command
menu from displaying when we would like it to. Is this a platform thing? Does an
app always need to explicitly give focus to something?
Will look into this problem.


*** This bug has been marked as a duplicate of 109047 ***
verified fixed on 9/22/05 binaries
completed</WithOutStack>
  </Bug>
  <Bug>
    <BugId amount="107879" />
    <CreationDate amount="2005-08-24 11:45:00 -0400" />
    <DupId amount="" />
    <classification amount="Modeling" />
    <Product amount="GMF-Runtime" />
    <component amount="General" />
    <Version amount="1.0" />
    <rep_platform amount="All" />
    <op_sys amount="Windows XP" />
    <priority amount="P2" />
    <bug_severity amount="normal" />
    <Summery>MSLEventBroker could dispatch filtered notifications more efficiently</Summery>
    <Patches amount="0" />
    <Stacktraces amount="0" />
    <SourceCodeRegions amount="0" />
    <Enumerations amount="0" />
    <bug_status amount="RESOLVED" />
    <resolution amount="FIXED" />
    <WithStack>The MSLEventBroker currently generates a custom list of notifications for each
MListener individually. In many cases, MListeners are using some of our
predefined MFilters. Many of our most commonly used MFilters are singleton and
stateless. Therefore, once a list of notifications is filtered, that list will
remain the same for all other listeners using an equivalent filter.
After looking at many typical MListeners I discovered that most are using either MFilter.WILDCARD_FILTER or some tree of MFilters ANDed/ORed together. The MFilter.WILDCARD_FILTER case is already optimal in the event broker class. Also, because MFilter is public API and anyone can subclass it for their listener, there is no guarantee that even an identical MFilter will give the same response even with the same Notification. Attempting to normalize an AND/ORed tree of MFilters is a complex problem with significant performance impact.

A simpler solution that can actually solve some performance issues in the short term would be to reuse one list object for all listeners. This will save significant time in the garbage collector if there are alot of listeners.
Some testing shows that reuse of the list can save up to 15% of the time to perform an action and propagate the event to a large number of listeners.
Created attachment 35072
A patch to the org.eclipse.gmf.runtime.emf.core.compatibility plugin.
Reviewed and applied patch
[GMF Restructure] Bug 319140 : product GMF and component
Runtime EMF was the original product and component for this bug</WithStack>
    <WithOutStack>The MSLEventBroker currently generates a custom list of notifications for each
MListener individually. In many cases, MListeners are using some of our
predefined MFilters. Many of our most commonly used MFilters are singleton and
stateless. Therefore, once a list of notifications is filtered, that list will
remain the same for all other listeners using an equivalent filter.
After looking at many typical MListeners I discovered that most are using either MFilter.WILDCARD_FILTER or some tree of MFilters ANDed/ORed together. The MFilter.WILDCARD_FILTER case is already optimal in the event broker class. Also, because MFilter is public API and anyone can subclass it for their listener, there is no guarantee that even an identical MFilter will give the same response even with the same Notification. Attempting to normalize an AND/ORed tree of MFilters is a complex problem with significant performance impact.

A simpler solution that can actually solve some performance issues in the short term would be to reuse one list object for all listeners. This will save significant time in the garbage collector if there are alot of listeners.
Some testing shows that reuse of the list can save up to 15% of the time to perform an action and propagate the event to a large number of listeners.
Created attachment 35072
A patch to the org.eclipse.gmf.runtime.emf.core.compatibility plugin.
Reviewed and applied patch
[GMF Restructure] Bug 319140 : product GMF and component
Runtime EMF was the original product and component for this bug</WithOutStack>
  </Bug>
  <Bug>
    <BugId amount="107880" />
    <CreationDate amount="2005-08-24 11:45:00 -0400" />
    <DupId amount="" />
    <classification amount="Modeling" />
    <Product amount="GMF-Runtime" />
    <component amount="General" />
    <Version amount="1.0" />
    <rep_platform amount="All" />
    <op_sys amount="Windows XP" />
    <priority amount="P2" />
    <bug_severity amount="normal" />
    <Summery>ClipboardUtil should support copying of resource roots</Summery>
    <Patches amount="0" />
    <Stacktraces amount="0" />
    <SourceCodeRegions amount="0" />
    <Enumerations amount="0" />
    <bug_status amount="RESOLVED" />
    <resolution amount="FIXED" />
    <WithStack>When copying one of the roots of a resource, the
ClipboardUtil.copyElementsToString() method will return null. There are likely
legitimate use cases where a client would like to copy a whole root in a
multi-rooted resource.
Created attachment 29022
zip containing patches and new test module (org.eclipse.gmf.tests.runtime.emf.clipboard.core)
Added support to EMF clipboard for copying roots of a resource and for pasting
into a resource to add new roots.

Pasting into a resource is done in the same way as pasting into an EObject.
Simply pass the Resource, as oppose to an EObject, as the target to the
ClipboardUtil.pasteElementsFromString(..) method:

public static Collection pasteElementsFromString(String string, Resource
targetElement, final Map hints, IProgressMonitor monitor) {
...
}

A new test module, org.eclipse.gmf.tests.runtime.emf.clipboard.core, was added
along with regression tests for this bug.

As a result of this, further enhancements to the EMF clipboard could be looked
into for adding functionality to IClipboardSupport to handle clipboard paste
operations on the resource.
[GMF Restructure] Bug 319140 : product GMF and component
Runtime EMF was the original product and component for this bug</WithStack>
    <WithOutStack>When copying one of the roots of a resource, the
ClipboardUtil.copyElementsToString() method will return null. There are likely
legitimate use cases where a client would like to copy a whole root in a
multi-rooted resource.
Created attachment 29022
zip containing patches and new test module (org.eclipse.gmf.tests.runtime.emf.clipboard.core)
Added support to EMF clipboard for copying roots of a resource and for pasting
into a resource to add new roots.

Pasting into a resource is done in the same way as pasting into an EObject.
Simply pass the Resource, as oppose to an EObject, as the target to the
ClipboardUtil.pasteElementsFromString(..) method:

public static Collection pasteElementsFromString(String string, Resource
targetElement, final Map hints, IProgressMonitor monitor) {
...
}

A new test module, org.eclipse.gmf.tests.runtime.emf.clipboard.core, was added
along with regression tests for this bug.

As a result of this, further enhancements to the EMF clipboard could be looked
into for adding functionality to IClipboardSupport to handle clipboard paste
operations on the resource.
[GMF Restructure] Bug 319140 : product GMF and component
Runtime EMF was the original product and component for this bug</WithOutStack>
  </Bug>
  <Bug>
    <BugId amount="107881" />
    <CreationDate amount="2005-08-24 12:03:00 -0400" />
    <DupId amount="" />
    <classification amount="Eclipse Foundation" />
    <Product amount="z_Archived" />
    <component amount="VE" />
    <Version amount="unspecified" />
    <rep_platform amount="PC" />
    <op_sys amount="Windows XP" />
    <priority amount="P3" />
    <bug_severity amount="critical" />
    <Summery>Rename is causing bad code</Summery>
    <Patches amount="0" />
    <Stacktraces amount="0" />
    <SourceCodeRegions amount="0" />
    <Enumerations amount="0" />
    <bug_status amount="CLOSED" />
    <resolution amount="FIXED" />
    <WithStack>Created attachment 26410
The class to use.

Rename either jpanel or jpanel2a through the popup menu on the beans viewer and
bad code is generated.
The problem was happening due to the new code checked in for the Menu support.
When disposing a bean, it physically goes and removes some code from the
document. When a rename happend and snippet update kicked in, it tried to
dispose the old child JPanel, which inturn went and removed the add statement
among other things. Beanpart's dispose has been changed not to mess with the
source if it is in snippet update. Releasing BeanPart.
*** Bug 107862 has been marked as a duplicate of this bug. ***
closed</WithStack>
    <WithOutStack>Created attachment 26410
The class to use.

Rename either jpanel or jpanel2a through the popup menu on the beans viewer and
bad code is generated.
The problem was happening due to the new code checked in for the Menu support.
When disposing a bean, it physically goes and removes some code from the
document. When a rename happend and snippet update kicked in, it tried to
dispose the old child JPanel, which inturn went and removed the add statement
among other things. Beanpart's dispose has been changed not to mess with the
source if it is in snippet update. Releasing BeanPart.
*** Bug 107862 has been marked as a duplicate of this bug. ***
closed</WithOutStack>
  </Bug>
  <Bug>
    <BugId amount="107882" />
    <CreationDate amount="2005-08-24 12:07:00 -0400" />
    <DupId amount="" />
    <classification amount="WebTools" />
    <Product amount="WTP Source Editing" />
    <component amount="wst.html" />
    <Version amount="unspecified" />
    <rep_platform amount="PC" />
    <op_sys amount="Windows XP" />
    <priority amount="P3" />
    <bug_severity amount="normal" />
    <Summery>[formatting] Formatting and auto completion for &lt;div&gt; tags + slow formatting</Summery>
    <Patches amount="0" />
    <Stacktraces amount="0" />
    <SourceCodeRegions amount="0" />
    <Enumerations amount="0" />
    <bug_status amount="RESOLVED" />
    <resolution amount="INVALID" />
    <WithStack>In the JSP Editor when you have an open HTML tag (e.g. &lt;a&gt;) when you type &lt;/ it
autocompletes the last open tag. It does this for most tags but if there is an
open &lt;div&gt; tag and no other open tags after it typing &lt;/ does not auto complete.

Also when formatting the &lt;div&gt; tag is not treated as a block level tag and is
not indented like a &lt;table&gt; tag would be. Maybe this is intentional as some
people wouldn't want it to be formatted, maybe an option in the formatter as how
to treat the tag would be useful.

Formmating a JSP page also seems to take rather a long time &gt; 20 seconds for
pages that are about 3 full screens of text on a 1024x768 monitor. While it is
formatting the eclipse application is blocked so no other actions are possible
Thanks, we'll look at fixing in future release (though not for 0.7.1). 
This bug is reporting 3 issues:
-&lt;div&gt; does not autocomplete when you type &lt;/
i cannot reproduce this in the latest wtp 3.0 build

-&lt;div&gt; is int formatted like a block level tag
this will be tracked in bug 176343

-formatting takes a long time
this has been improved/fixed by bug 136902, bug 154899, bug 102822


Based on all this, I'm going to close this as invalid.  If you still see the div, autocomplete issue, feel free to reopen with a reproducible scenario.</WithStack>
    <WithOutStack>In the JSP Editor when you have an open HTML tag (e.g. &lt;a&gt;) when you type &lt;/ it
autocompletes the last open tag. It does this for most tags but if there is an
open &lt;div&gt; tag and no other open tags after it typing &lt;/ does not auto complete.

Also when formatting the &lt;div&gt; tag is not treated as a block level tag and is
not indented like a &lt;table&gt; tag would be. Maybe this is intentional as some
people wouldn't want it to be formatted, maybe an option in the formatter as how
to treat the tag would be useful.

Formmating a JSP page also seems to take rather a long time &gt; 20 seconds for
pages that are about 3 full screens of text on a 1024x768 monitor. While it is
formatting the eclipse application is blocked so no other actions are possible
Thanks, we'll look at fixing in future release (though not for 0.7.1). 
This bug is reporting 3 issues:
-&lt;div&gt; does not autocomplete when you type &lt;/
i cannot reproduce this in the latest wtp 3.0 build

-&lt;div&gt; is int formatted like a block level tag
this will be tracked in bug 176343

-formatting takes a long time
this has been improved/fixed by bug 136902, bug 154899, bug 102822


Based on all this, I'm going to close this as invalid.  If you still see the div, autocomplete issue, feel free to reopen with a reproducible scenario.</WithOutStack>
  </Bug>
  <Bug>
    <BugId amount="107883" />
    <CreationDate amount="2005-08-24 12:08:00 -0400" />
    <DupId amount="" />
    <classification amount="RT" />
    <Product amount="ERCP" />
    <component amount="eSWT" />
    <Version amount="RC1" />
    <rep_platform amount="PC" />
    <op_sys amount="Windows XP" />
    <priority amount="P3" />
    <bug_severity amount="normal" />
    <Summery>Menu text overwriting cascase menu arrow</Summery>
    <Patches amount="0" />
    <Stacktraces amount="0" />
    <SourceCodeRegions amount="0" />
    <Enumerations amount="0" />
    <bug_status amount="RESOLVED" />
    <resolution amount="FIXED" />
    <WithStack>Running RC1 level eSWT and DemoApp (or later):
Start Menu Showcase
click on Draw menu
Observe Text of Rectangle Menu item overlaps right pointing arrow indicating
this item opens a cascade menu.
Tried to recreate and do not see the problem, so it is particular to what is 
happening in the demo code.  

Loaded from HEAD

org.eclipse.ercp.swt.core.win
org.eclipse.ercp.swt.expanded.win
org.eclipse.ercp.swt.mobile.win
org.eclipse.ercp.swt.demo.win

Fixed compile error in demo project.  Ran Demo class, but I do not see a "menu 
showcase" item.
After launching the demo, you should see a list of items starting with
"Calendar". These bring up "showcases" of various eSWT and Mobile Ext.
functionality.
Click on the one that says "Menu"
Then click on "Draw" in the menu bar.
When I run the Demo, I get the following list.  We must be running with 
different code.  I loaded what is in the ercp technology repository.

PhoneBook
MessageBox
Low level graphics
MobileShell
ListBox
Calendar
Command
Composite
Workaround for this problem is to set the images after the menus are created.  
Doing so in the MenuShowCase&gt;&gt;createDrawMenu(Menu) fixes the problem.
if image is set before the menuitems become casading, we need to make sure the image retains when menuitem cascades, code is modified to keep the menuiteminfo mask to have the bit set for image.</WithStack>
    <WithOutStack>Running RC1 level eSWT and DemoApp (or later):
Start Menu Showcase
click on Draw menu
Observe Text of Rectangle Menu item overlaps right pointing arrow indicating
this item opens a cascade menu.
Tried to recreate and do not see the problem, so it is particular to what is 
happening in the demo code.  

Loaded from HEAD

org.eclipse.ercp.swt.core.win
org.eclipse.ercp.swt.expanded.win
org.eclipse.ercp.swt.mobile.win
org.eclipse.ercp.swt.demo.win

Fixed compile error in demo project.  Ran Demo class, but I do not see a "menu 
showcase" item.
After launching the demo, you should see a list of items starting with
"Calendar". These bring up "showcases" of various eSWT and Mobile Ext.
functionality.
Click on the one that says "Menu"
Then click on "Draw" in the menu bar.
When I run the Demo, I get the following list.  We must be running with 
different code.  I loaded what is in the ercp technology repository.

PhoneBook
MessageBox
Low level graphics
MobileShell
ListBox
Calendar
Command
Composite
Workaround for this problem is to set the images after the menus are created.  
Doing so in the MenuShowCase&gt;&gt;createDrawMenu(Menu) fixes the problem.
if image is set before the menuitems become casading, we need to make sure the image retains when menuitem cascades, code is modified to keep the menuiteminfo mask to have the bit set for image.</WithOutStack>
  </Bug>
  <Bug>
    <BugId amount="107884" />
    <CreationDate amount="2005-08-24 12:12:00 -0400" />
    <DupId amount="" />
    <classification amount="Eclipse" />
    <Product amount="JDT" />
    <component amount="UI" />
    <Version amount="3.1" />
    <rep_platform amount="PC" />
    <op_sys amount="Windows XP" />
    <priority amount="P3" />
    <bug_severity amount="enhancement" />
    <Summery>[api] Allow OpenViewAction actions to handle selections which can be adapted to IJavaElement.</Summery>
    <Patches amount="0" />
    <Stacktraces amount="0" />
    <SourceCodeRegions amount="2">
      <source_code type="functioncall">
        <location start="1684" end="1754" />
        <code>ConvertingSelectionProvider.create(viewPart.getSelectionProvider));</code>
      </source_code>
      <source_code type="functioncall">
        <location start="1935" end="2005" />
        <code>ConvertingSelectionProvider.create(viewPart.getSelectionProvider));</code>
      </source_code>
    </SourceCodeRegions>
    <Enumerations amount="0" />
    <bug_status amount="VERIFIED" />
    <resolution amount="FIXED" />
    <WithStack>We have an editor (the Visual Editor) that edits java classes. We have
components on a graphical surface that can represent IType's, for example. But
they aren't ITypes, but using the IAdaptable interface they can be adapted to
IJavaElements.

We would like to use the OpenViewActionGroup in our editor to be able to open
these ITypes. We can't actually make the ITypes be the selections because other
listeners to selections need the actual components.

Right now I've subclasses of Open and OpenTypeHierarchy that translate the
selection into IJavaElements. The problem is that we can't keep up with changes
made by JDT, like we are missing Open With and others.

If Open actions looked getAdapter(IJavaElement.class) too then we could just use
the OpenViewActionGroup. Thanks.
I have fixed this for M4 in the following way:

- the open view action group now additionally allows to pass in a selection
  provider instead of using the site's selection provider

- their is additional API in jdt.ui.actions to create a selection provider 
  which is based on a site's selection provider and a converter. The conveter
  defines a strategy how to convert the selection.

This has the following benefits:

- on selection change the selection is only converted once not for every
  action

- the client has full control over how to convert the selection. For example
  the client can even convert one model element into n Java elements or
  resources.

I also added a default Java selection converter which should be sufficient for
most use cases.

To reuse the OpenViewActionGroup in your context simply create the group using
the following code:

new OpenViewActionGroup(
   viewPart, 
   ConvertingSelectionProvider.create(viewPart.getSelectionProvider));

Richard, can you please comment on whether this will satisfy your needs.
I don't have the code yet, but this is a little bit of a concern:

new OpenViewActionGroup(
   viewPart, 
   ConvertingSelectionProvider.create(viewPart.getSelectionProvider));

The problem is that we are not an IViewPart, we are an IEditorPart, so can this
constructor be expanded to take an IWorkbenchPart instead of an IViewPart?

Other than this it sounds good. I'll give it a try later to see what actually
happens.
Does the editor provide a structured selection for which we can adapt the elements. 

The actions in the OpenViewActionGroup working on an editor assume that the
editor is at least a JavaEditor. They use API from the JavaEditor to figure out
the input element and the Java element under the cursor. This functionality
can't be provided using an IEditorPart.
That's not necessary in my case. I want it treated like the IViewPart, which is
you grab the selection provider. The other parts that are required for a
JavaEditor are not required for us, the selection converter will handle that
part for us. You can still keep the constructor that takes a JavaEditor, just
add one for IWorkbenchPart. That way it will work correctly for JavaEditors.
Just to clarify: the selection provider we retrieve from the IEditorPart you are
providing to the new constructor will provide structured selections, not text
selections. 
That is correct. The selection provider converter will make sure of that.
I have added a constructor OpenViewActionGroup(IWorkbenchSite site,
ISelectionProvider selectionProvider) which should give you the needed flexibility.
Verifying...
Verified API (I20051213-0010) - please reopen if this does not work for you.</WithStack>
    <WithOutStack>We have an editor (the Visual Editor) that edits java classes. We have
components on a graphical surface that can represent IType's, for example. But
they aren't ITypes, but using the IAdaptable interface they can be adapted to
IJavaElements.

We would like to use the OpenViewActionGroup in our editor to be able to open
these ITypes. We can't actually make the ITypes be the selections because other
listeners to selections need the actual components.

Right now I've subclasses of Open and OpenTypeHierarchy that translate the
selection into IJavaElements. The problem is that we can't keep up with changes
made by JDT, like we are missing Open With and others.

If Open actions looked getAdapter(IJavaElement.class) too then we could just use
the OpenViewActionGroup. Thanks.
I have fixed this for M4 in the following way:

- the open view action group now additionally allows to pass in a selection
  provider instead of using the site's selection provider

- their is additional API in jdt.ui.actions to create a selection provider 
  which is based on a site's selection provider and a converter. The conveter
  defines a strategy how to convert the selection.

This has the following benefits:

- on selection change the selection is only converted once not for every
  action

- the client has full control over how to convert the selection. For example
  the client can even convert one model element into n Java elements or
  resources.

I also added a default Java selection converter which should be sufficient for
most use cases.

To reuse the OpenViewActionGroup in your context simply create the group using
the following code:

new OpenViewActionGroup(
   viewPart, 
   ConvertingSelectionProvider.create(viewPart.getSelectionProvider));

Richard, can you please comment on whether this will satisfy your needs.
I don't have the code yet, but this is a little bit of a concern:

new OpenViewActionGroup(
   viewPart, 
   ConvertingSelectionProvider.create(viewPart.getSelectionProvider));

The problem is that we are not an IViewPart, we are an IEditorPart, so can this
constructor be expanded to take an IWorkbenchPart instead of an IViewPart?

Other than this it sounds good. I'll give it a try later to see what actually
happens.
Does the editor provide a structured selection for which we can adapt the elements. 

The actions in the OpenViewActionGroup working on an editor assume that the
editor is at least a JavaEditor. They use API from the JavaEditor to figure out
the input element and the Java element under the cursor. This functionality
can't be provided using an IEditorPart.
That's not necessary in my case. I want it treated like the IViewPart, which is
you grab the selection provider. The other parts that are required for a
JavaEditor are not required for us, the selection converter will handle that
part for us. You can still keep the constructor that takes a JavaEditor, just
add one for IWorkbenchPart. That way it will work correctly for JavaEditors.
Just to clarify: the selection provider we retrieve from the IEditorPart you are
providing to the new constructor will provide structured selections, not text
selections. 
That is correct. The selection provider converter will make sure of that.
I have added a constructor OpenViewActionGroup(IWorkbenchSite site,
ISelectionProvider selectionProvider) which should give you the needed flexibility.
Verifying...
Verified API (I20051213-0010) - please reopen if this does not work for you.</WithOutStack>
  </Bug>
  <Bug>
    <BugId amount="107885" />
    <CreationDate amount="2005-08-24 12:15:00 -0400" />
    <DupId amount="" />
    <classification amount="Tools" />
    <Product amount="TPTP Agent Controller" />
    <component amount="Platform.Communication" />
    <Version amount="4.1" />
    <rep_platform amount="All" />
    <op_sys amount="All" />
    <priority amount="P3" />
    <bug_severity amount="blocker" />
    <Summery>Missing OSGi plugin jar file in the Agent Controller packaging</Summery>
    <Patches amount="0" />
    <Stacktraces amount="0" />
    <SourceCodeRegions amount="0" />
    <Enumerations amount="1">
      <Enumeration lines="4">
        <Lines>
          <Line>- org.apache.jakarta_commons_logging</Line>
          <Line>- org.eclipse.hyades.logging.adapter</Line>
          <Line>- org.eclipse.hyades.logging.core</Line>
          <Line>- org.eclipse.hyades.logging.parsers</Line>
        </Lines>
      </Enumeration>
    </Enumerations>
    <bug_status amount="CLOSED" />
    <resolution amount="FIXED" />
    <WithStack>Those OSGi bundles that are used to be shipped under the "plugins" directory
should be packaged with the Agent Controller under the "plugins" folder like this:

&lt;Agent Controller&gt;/plugins/org.eclipse.hyades.logging.core_4.1.0.jar
...

I am not sure how many plugins are like this but they should be packaged with
the Agent Controller in order for the plugins to load properly.
Please do not migrate to OSGi during 4.1 for the following plugins:
- org.apache.jakarta_commons_logging
- org.eclipse.hyades.logging.adapter
- org.eclipse.hyades.logging.core
- org.eclipse.hyades.logging.parsers

Otherwise RAC cannot load these plugins.
fixed in TPTP-4.1.0-200508241748 (IBM local build).
Verified
Closing.</WithStack>
    <WithOutStack>Those OSGi bundles that are used to be shipped under the "plugins" directory
should be packaged with the Agent Controller under the "plugins" folder like this:

&lt;Agent Controller&gt;/plugins/org.eclipse.hyades.logging.core_4.1.0.jar
...

I am not sure how many plugins are like this but they should be packaged with
the Agent Controller in order for the plugins to load properly.
Please do not migrate to OSGi during 4.1 for the following plugins:
- org.apache.jakarta_commons_logging
- org.eclipse.hyades.logging.adapter
- org.eclipse.hyades.logging.core
- org.eclipse.hyades.logging.parsers

Otherwise RAC cannot load these plugins.
fixed in TPTP-4.1.0-200508241748 (IBM local build).
Verified
Closing.</WithOutStack>
  </Bug>
  <Bug>
    <BugId amount="107886" />
    <CreationDate amount="2005-08-24 12:21:00 -0400" />
    <DupId amount="" />
    <classification amount="RT" />
    <Product amount="ERCP" />
    <component amount="eSWT" />
    <Version amount="RC1" />
    <rep_platform amount="PC" />
    <op_sys amount="Windows XP" />
    <priority amount="P3" />
    <bug_severity amount="normal" />
    <Summery>Browser's setText(String) not implemented</Summery>
    <Patches amount="0" />
    <Stacktraces amount="0" />
    <SourceCodeRegions amount="0" />
    <Enumerations amount="0" />
    <bug_status amount="VERIFIED" />
    <resolution amount="FIXED" />
    <WithStack>On both win32 and wm2003, the Browser widget's setText(String) function needs 
to be implemented.
We made fix to this missing method for both platforms. 

Lynne,

Would you please give it a try to see if they suffice or not?
Created attachment 30297
Browser.c
Created attachment 30298
Browser.h
Created attachment 30299
Browser.java
Created attachment 30300
Browser_Listener.idl
Created attachment 30301
jni_Browser.c
Created attachment 30302
OS.java
Could you please provide changes that are merged with the code that is currently released in the repository.  Also, could you please add comments to your code.  OS.java should include a comment explaining the API.  And it would be helpful if you include comments about your code in Browser.c.  For example, what is the helper method doing?  Why is the string copy you are doing in setUrl and setText necessary, etc.
I also noticed some miscellaneous code that can be removed (e.g. htmlLock not used, commented out code).
Created attachment 30465
Code merged with latest repository code(11/23) and have setText
Created attachment 30466
Code merged with latest repository code(11/23) and have setText
Created attachment 30467
Code merged with latest repository code(11/23) and have setText
Created attachment 30468
Code merged with latest repository code(11/23) and have setText
Created attachment 30470
Code merged with latest repository code(11/23) and have setText
Created attachment 30471
Code merged with latest repository code(11/23) and have setText
Lynne, I synchronized with the latest code but I don't have the right to commit the code, I have attached them here, can you please check them in for me before more changes occur?  Thank you.
Browser.setText(String) implemented
verified on M7</WithStack>
    <WithOutStack>On both win32 and wm2003, the Browser widget's setText(String) function needs 
to be implemented.
We made fix to this missing method for both platforms. 

Lynne,

Would you please give it a try to see if they suffice or not?
Created attachment 30297
Browser.c
Created attachment 30298
Browser.h
Created attachment 30299
Browser.java
Created attachment 30300
Browser_Listener.idl
Created attachment 30301
jni_Browser.c
Created attachment 30302
OS.java
Could you please provide changes that are merged with the code that is currently released in the repository.  Also, could you please add comments to your code.  OS.java should include a comment explaining the API.  And it would be helpful if you include comments about your code in Browser.c.  For example, what is the helper method doing?  Why is the string copy you are doing in setUrl and setText necessary, etc.
I also noticed some miscellaneous code that can be removed (e.g. htmlLock not used, commented out code).
Created attachment 30465
Code merged with latest repository code(11/23) and have setText
Created attachment 30466
Code merged with latest repository code(11/23) and have setText
Created attachment 30467
Code merged with latest repository code(11/23) and have setText
Created attachment 30468
Code merged with latest repository code(11/23) and have setText
Created attachment 30470
Code merged with latest repository code(11/23) and have setText
Created attachment 30471
Code merged with latest repository code(11/23) and have setText
Lynne, I synchronized with the latest code but I don't have the right to commit the code, I have attached them here, can you please check them in for me before more changes occur?  Thank you.
Browser.setText(String) implemented
verified on M7</WithOutStack>
  </Bug>
  <Bug>
    <BugId amount="107887" />
    <CreationDate amount="2005-08-24 12:30:00 -0400" />
    <DupId amount="" />
    <classification amount="Eclipse" />
    <Product amount="JDT" />
    <component amount="Debug" />
    <Version amount="3.1" />
    <rep_platform amount="PC" />
    <op_sys amount="Linux" />
    <priority amount="P3" />
    <bug_severity amount="normal" />
    <Summery>Program suspend should take you to the suspended thread</Summery>
    <Patches amount="0" />
    <Stacktraces amount="0" />
    <SourceCodeRegions amount="5">
      <source_code type="functioncall">
        <location start="826" end="858" />
        <code>- On main's: Thread.sleep(5000);</code>
      </source_code>
      <source_code type="assignment">
        <location start="860" end="881" />
        <code>- On run's: b += ".";</code>
      </source_code>
      <source_code type="import">
        <location start="1560" end="1585" />
        <code>import java.util.Random;</code>
      </source_code>
      <source_code type="class">
        <location start="1587" end="1796" />
        <code>public class Main {

  public static void main(String[] args) throws InterruptedException {
    for (int i = 0; i &lt; 4; i++)
      new Watcher().start();
    while (true) {
      Thread.sleep(5000);
    }
  }
}</code>
      </source_code>
      <source_code type="class">
        <location start="1798" end="2153" />
        <code>class Watcher extends Thread {

  static Random r = new Random();

  public void run() {

    String b = "";
    while (true) {
      synchronized (r) {
        if (r.nextFloat() &gt; .7) {
          b += ".";
        }
      }
      try {
        Thread.sleep(1000);
      } catch (InterruptedException e) {
        e.printStackTrace();
      }

    }
  }
}</code>
      </source_code>
    </SourceCodeRegions>
    <Enumerations amount="2">
      <Enumeration lines="5">
        <Lines>
          <Line>a) (less likely) the thread you just resumed will again suspend, and the debug</Line>
          <Line>context will be set on it</Line>
          <Line />
          <Line>b) (more likely) another thread will suspend and the debugging context will be</Line>
          <Line>on Main</Line>
        </Lines>
      </Enumeration>
      <Enumeration lines="14">
        <Lines>
          <Line>(1) When a thread suspends, if there is no suspended thread currently selected</Line>
          <Line>in the debug view, the newly suspended thread is selected. If a previously</Line>
          <Line>suspended thread is already selected, the selection is not changed (to avoid</Line>
          <Line>changing the user's focus as many threads suspend).</Line>
          <Line>(2) When a thread is resumed, we automatically select the next suspeneded</Line>
          <Line>thread (in this case "main"), and then when the next watcher thread suspends,</Line>
          <Line>rule #1 prevents it from being selected (there is already a suspended thread</Line>
          <Line>selected).</Line>
          <Line>Well, clearly there is some other "smart" rule that can be seen in action if you</Line>
          <Line>reduce the number of threads created by main to 1: in that case, when the</Line>
          <Line>Watcher thread is resumed, control temporarily goes to main, until Watcher is</Line>
          <Line>again suspended. Then, focus is taken away from main and into Watcher.</Line>
          <Line>Need to address with new "debug view update policies" in 3.2</Line>
          <Line>This is now fixed 3.2 RC2</Line>
        </Lines>
      </Enumeration>
    </Enumerations>
    <bug_status amount="VERIFIED" />
    <resolution amount="FIXED" />
    <WithStack>Every time a program is suspended at a breakpoint, Eclipse will put the
debugging context on the first suspended thread of the Debug console, forcing
the developer to scroll down and select the right thread to proceed. What it
should do, of course, is to put the debug context in the thread that has just
been suspended, so the developer can simply go on with debugging that thread,
even if other threads are also suspended.
When using the Java debugger (3.1), I see the expected behavior - the selected 
thread is the one that the breakpoint/suspend occurrs in. Do you have a test 
case you can attach that shows the problematic behavior?
Ok. I had a good look at it, and the problem is quite subtle. I've created a
test class (bellow). You need at least 1+2 threads to see it (I'm setting to
create 1+4). Put 2 breakoints.

- On main's: Thread.sleep(5000);

- On run's: b += ".";

Thread 1 (the main method) will create the other threads and stay suspended on
the first breakpoint for the remainder of the session

One of the other threads will suspend, all with equal probability on the second bp.

Now, if you go to the debug window, select the second suspended thread (i.e.
whichever Watcher suspended) and hit F8, one of two things will happen:

a) (less likely) the thread you just resumed will again suspend, and the debug
context will be set on it

b) (more likely) another thread will suspend and the debugging context will be
on Main

Though this setup is artificial, this is what one encounters when debugging web
applications

Here's the snippet:

import java.util.Random;

public class Main {

  public static void main(String[] args) throws InterruptedException {
    for (int i = 0; i &lt; 4; i++)
      new Watcher().start();
    while (true) {
      Thread.sleep(5000);
    }
  }
}

class Watcher extends Thread {

  static Random r = new Random();

  public void run() {

    String b = "";
    while (true) {
      synchronized (r) {
        if (r.nextFloat() &gt; .7) {
          b += ".";
        }
      }
      try {
        Thread.sleep(1000);
      } catch (InterruptedException e) {
        e.printStackTrace();
      }

    }
  }
}


Zorzella
This is working as designed:

(1) When a thread suspends, if there is no suspended thread currently selected 
in the debug view, the newly suspended thread is selected. If a previously 
suspended thread is already selected, the selection is not changed (to avoid 
changing the user's focus as many threads suspend).
(2) When a thread is resumed, we automatically select the next suspeneded 
thread (in this case "main"), and then when the next watcher thread suspends, 
rule #1 prevents it from being selected (there is already a suspended thread 
selected).
Well, clearly there is some other "smart" rule that can be seen in action if you
reduce the number of threads created by main to 1: in that case, when the
Watcher thread is resumed, control temporarily goes to main, until Watcher is
again suspended. Then, focus is taken away from main and into Watcher.
Need to address with new "debug view update policies" in 3.2
This is now fixed 3.2 RC2


Please verify, Mike.
verified</WithStack>
    <WithOutStack>Every time a program is suspended at a breakpoint, Eclipse will put the
debugging context on the first suspended thread of the Debug console, forcing
the developer to scroll down and select the right thread to proceed. What it
should do, of course, is to put the debug context in the thread that has just
been suspended, so the developer can simply go on with debugging that thread,
even if other threads are also suspended.
When using the Java debugger (3.1), I see the expected behavior - the selected 
thread is the one that the breakpoint/suspend occurrs in. Do you have a test 
case you can attach that shows the problematic behavior?
Ok. I had a good look at it, and the problem is quite subtle. I've created a
test class (bellow). You need at least 1+2 threads to see it (I'm setting to
create 1+4). Put 2 breakoints.

- On main's: Thread.sleep(5000);

- On run's: b += ".";

Thread 1 (the main method) will create the other threads and stay suspended on
the first breakpoint for the remainder of the session

One of the other threads will suspend, all with equal probability on the second bp.

Now, if you go to the debug window, select the second suspended thread (i.e.
whichever Watcher suspended) and hit F8, one of two things will happen:

a) (less likely) the thread you just resumed will again suspend, and the debug
context will be set on it

b) (more likely) another thread will suspend and the debugging context will be
on Main

Though this setup is artificial, this is what one encounters when debugging web
applications

Here's the snippet:

import java.util.Random;

public class Main {

  public static void main(String[] args) throws InterruptedException {
    for (int i = 0; i &lt; 4; i++)
      new Watcher().start();
    while (true) {
      Thread.sleep(5000);
    }
  }
}

class Watcher extends Thread {

  static Random r = new Random();

  public void run() {

    String b = "";
    while (true) {
      synchronized (r) {
        if (r.nextFloat() &gt; .7) {
          b += ".";
        }
      }
      try {
        Thread.sleep(1000);
      } catch (InterruptedException e) {
        e.printStackTrace();
      }

    }
  }
}


Zorzella
This is working as designed:

(1) When a thread suspends, if there is no suspended thread currently selected 
in the debug view, the newly suspended thread is selected. If a previously 
suspended thread is already selected, the selection is not changed (to avoid 
changing the user's focus as many threads suspend).
(2) When a thread is resumed, we automatically select the next suspeneded 
thread (in this case "main"), and then when the next watcher thread suspends, 
rule #1 prevents it from being selected (there is already a suspended thread 
selected).
Well, clearly there is some other "smart" rule that can be seen in action if you
reduce the number of threads created by main to 1: in that case, when the
Watcher thread is resumed, control temporarily goes to main, until Watcher is
again suspended. Then, focus is taken away from main and into Watcher.
Need to address with new "debug view update policies" in 3.2
This is now fixed 3.2 RC2


Please verify, Mike.
verified</WithOutStack>
  </Bug>
  <Bug>
    <BugId amount="107888" />
    <CreationDate amount="2005-08-24 12:30:00 -0400" />
    <DupId amount="" />
    <classification amount="Tools" />
    <Product amount="CDT" />
    <component amount="cdt-build" />
    <Version amount="3.0" />
    <rep_platform amount="PC" />
    <op_sys amount="Windows 2000" />
    <priority amount="P3" />
    <bug_severity amount="major" />
    <Summery>CDT 3.0 does not build for mingw</Summery>
    <Patches amount="0" />
    <Stacktraces amount="0" />
    <SourceCodeRegions amount="0" />
    <Enumerations amount="0" />
    <bug_status amount="RESOLVED" />
    <resolution amount="WORKSFORME" />
    <WithStack>With CDT 2.1.1 it is possilbe to build and debug C programs without any cygwin
libraries by using mingw. After upgrading to CDT 3.0 building for mingw results
in an executable which, when run, displays an error message stating that
"cygwin1.dll" cannot be found. Reverting back to CDT 2.1.1 fixes this problem.
One thing to look for is the environment variables section. I know that they put
C:\cygwin\bin first in the path which may be overriding your mingw install. The
best thing is to override the PATH variable and remove it.
Sorry, but I have used mingw without cygwin installed and I do not get this message.</WithStack>
    <WithOutStack>With CDT 2.1.1 it is possilbe to build and debug C programs without any cygwin
libraries by using mingw. After upgrading to CDT 3.0 building for mingw results
in an executable which, when run, displays an error message stating that
"cygwin1.dll" cannot be found. Reverting back to CDT 2.1.1 fixes this problem.
One thing to look for is the environment variables section. I know that they put
C:\cygwin\bin first in the path which may be overriding your mingw install. The
best thing is to override the PATH variable and remove it.
Sorry, but I have used mingw without cygwin installed and I do not get this message.</WithOutStack>
  </Bug>
  <Bug>
    <BugId amount="107889" />
    <CreationDate amount="2005-08-24 12:34:00 -0400" />
    <DupId amount="" />
    <classification amount="Tools" />
    <Product amount="TPTP Testing" />
    <component amount="Test.Execution" />
    <Version amount="4.1" />
    <rep_platform amount="All" />
    <op_sys amount="All" />
    <priority amount="P3" />
    <bug_severity amount="blocker" />
    <Summery>Agent Controller cannot load the test.core OSGi plugin</Summery>
    <Patches amount="0" />
    <Stacktraces amount="0" />
    <SourceCodeRegions amount="0" />
    <Enumerations amount="0" />
    <bug_status amount="CLOSED" />
    <resolution amount="FIXED" />
    <WithStack>Please do not migrate to OSGi during 4.1 for the following plugins:
- org.eclipse.hyades.test.core

Otherwise RAC cannot load this plugin.
I will fix it together with 107729.
fixed in TPTP-4.1.0-200508241748 (IBM internal build).
Verified
ACTION: Please verify/close this defect.
Closing.</WithStack>
    <WithOutStack>Please do not migrate to OSGi during 4.1 for the following plugins:
- org.eclipse.hyades.test.core

Otherwise RAC cannot load this plugin.
I will fix it together with 107729.
fixed in TPTP-4.1.0-200508241748 (IBM internal build).
Verified
ACTION: Please verify/close this defect.
Closing.</WithOutStack>
  </Bug>
  <Bug>
    <BugId amount="107890" />
    <CreationDate amount="2005-08-24 12:37:00 -0400" />
    <DupId amount="" />
    <classification amount="Eclipse" />
    <Product amount="Platform" />
    <component amount="User Assistance" />
    <Version amount="3.2" />
    <rep_platform amount="All" />
    <op_sys amount="Windows XP" />
    <priority amount="P3" />
    <bug_severity amount="major" />
    <Summery>Dynamic Help Pane Assumes 'Local' to be the help system</Summery>
    <Patches amount="0" />
    <Stacktraces amount="0" />
    <SourceCodeRegions amount="10">
      <source_code type="multicomment">
        <location start="513" end="540" />
        <code>/* start of problem code */</code>
      </source_code>
      <source_code type="functioncall">
        <location start="688" end="710" />
        <code>.getHref(), false)));</code>
      </source_code>
      <source_code type="ifstatement">
        <location start="744" end="929" />
        <code>if (hit.getCategory() != null &amp;&amp; Platform.getWS()!=Platform.WS_GTK) {
buff.append(" alt=\""); //$NON-NLS-1$
buff.append(hit.getCategory().getLabel());
buff.append("\""); //$NON-NLS-1$
}</code>
      </source_code>
      <source_code type="multicomment">
        <location start="930" end="955" />
        <code>/* END of problem code */</code>
      </source_code>
      <source_code type="assignment">
        <location start="988" end="1051" />
        <code>String elabel = part.parent.escapeSpecialChars(hit.getLabel());</code>
      </source_code>
      <source_code type="functioncall">
        <location start="1052" end="1072" />
        <code>buff.append(elabel);</code>
      </source_code>
      <source_code type="ifstatement">
        <location start="1108" end="1697" />
        <code>if (!hit.getForceExternalWindow()) {
	buff.append(" &lt;a href=\""); //$NON-NLS-1$
buff.append("nw:");//$NON-NLS-1$
String ahref = part.parent.escapeSpecialChars(hit
	.toAbsoluteHref(hit.getHref(), true));
buff.append(ahref);
buff.append("\"&gt;&lt;img href=\""); //$NON-NLS-1$
buff.append(IHelpUIConstants.IMAGE_NW);
buff.append("\""); //$NON-NLS-1$
if (Platform.getWS()!=Platform.WS_GTK) {
buff.append(" alt=\""); //$NON-NLS-1$
buff.append(Messages.SearchResultsPart_nwtooltip);//$NON-NLS-1$
buff.append("\""); //$NON-NLS-1$
}
buff.append("/&gt;"); //$NON-NLS-1$
buff.append("&lt;/a&gt;"); //$NON-NLS-1$
}</code>
      </source_code>
      <source_code type="functiondef">
        <location start="2225" end="2406" />
        <code>void doOpenLink(Object href) {
	String url = (String) href;

	if (url.startsWith("nw:")) { //$NON-NLS-1$
		parent.showExternalURL(url.substring(3));
	} else
		parent.showURL(url);
}</code>
      </source_code>
      <source_code type="functiondef">
        <location start="2466" end="2985" />
        <code>public void showExternalURL(String url) {
	if (isHelpResource(url))
		PlatformUI.getWorkbench().getHelpSystem()
			.displayHelpResource(url);
	else {
		try {
			String aurl = BaseHelpSystem.resolve(url, 
true).toString();
			if (aurl.endsWith("&amp;noframes=true") || aurl.endsWith("?
noframes=true")) //$NON-NLS-1$ //$NON-NLS-2$
				aurl = aurl.substring(0, aurl.length() - 14);
			showInWorkbenchBrowser(aurl, false);
		} catch (Exception e) {
			HelpUIPlugin.logError("Error opening browser", e); //
$NON-NLS-1$
		}
	}
}</code>
      </source_code>
      <source_code type="functiondef">
        <location start="2987" end="3122" />
        <code>public boolean isHelpResource(String url) {
	if (url == null || url.indexOf("://") == -1) //$NON-NLS-1$
		return true;
	return false;
}</code>
      </source_code>
    </SourceCodeRegions>
    <Enumerations amount="0" />
    <bug_status amount="RESOLVED" />
    <resolution amount="FIXED" />
    <WithStack>Adding a repository to the dynamic help panel (DH), using the existing 
extension points, we found that DH has hard coded the help system url for all 
local content returns.

HTML is dynamically created when the results of a search are built.  When 
writing the HTML, either a URL will be preceded by ‘nw:’ or an image link with 
the ‘nw:’ will be added beside the text link.
From the updateResults method in 
org.eclipse.help.ui.internal.views.EngineResultSection.java:

buff.append("&lt;a href=\""); //$NON-NLS-1$
/* start of problem code */
if (hit.getForceExternalWindow())
	buff.append("nw:"); //$NON-NLS-1$
            buff.append(part.parent.escapeSpecialChars(hit.toAbsoluteHref(hit
	.getHref(), false)));
buff.append("\""); //$NON-NLS-1$
if (hit.getCategory() != null &amp;&amp; Platform.getWS()!=Platform.WS_GTK) {
buff.append(" alt=\""); //$NON-NLS-1$
buff.append(hit.getCategory().getLabel());
buff.append("\""); //$NON-NLS-1$
}
/* END of problem code */
buff.append("&gt;"); //$NON-NLS-1$
String elabel = part.parent.escapeSpecialChars(hit.getLabel());
buff.append(elabel);
buff.append("&lt;/a&gt;"); //$NON-NLS-1$
if (!hit.getForceExternalWindow()) {
	buff.append(" &lt;a href=\""); //$NON-NLS-1$
buff.append("nw:");//$NON-NLS-1$
String ahref = part.parent.escapeSpecialChars(hit
	.toAbsoluteHref(hit.getHref(), true));
buff.append(ahref);
buff.append("\"&gt;&lt;img href=\""); //$NON-NLS-1$
buff.append(IHelpUIConstants.IMAGE_NW);
buff.append("\""); //$NON-NLS-1$
if (Platform.getWS()!=Platform.WS_GTK) {
buff.append(" alt=\""); //$NON-NLS-1$
buff.append(Messages.SearchResultsPart_nwtooltip);//$NON-NLS-1$
buff.append("\""); //$NON-NLS-1$
}
buff.append("/&gt;"); //$NON-NLS-1$
buff.append("&lt;/a&gt;"); //$NON-NLS-1$
}

When clicking on a link that begins with 'nw:' a check is done to see if ‘://’ 
appears in the URL, if so, the link is opened in the editor area. If ‘://’ 
does not appear in the URL, Eclipse assumes the document is a Help document 
and opens it in the Help System.  Both alternatives are inadequate for the 
galleries because we want the links to open in the correct repository.

When clicking on a link that does not begin with ‘nw:’ the file is loaded in 
place.

From org.eclipse.help.ui.internal.views.SearchResultsPart:
void doOpenLink(Object href) {
	String url = (String) href;

	if (url.startsWith("nw:")) { //$NON-NLS-1$
		parent.showExternalURL(url.substring(3));
	} else
		parent.showURL(url);
}

From org.eclipse.help.ui.internal.views.ReusableHelpPart:
public void showExternalURL(String url) {
	if (isHelpResource(url))
		PlatformUI.getWorkbench().getHelpSystem()
			.displayHelpResource(url);
	else {
		try {
			String aurl = BaseHelpSystem.resolve(url, 
true).toString();
			if (aurl.endsWith("&amp;noframes=true") || aurl.endsWith("?
noframes=true")) //$NON-NLS-1$ //$NON-NLS-2$
				aurl = aurl.substring(0, aurl.length() - 14);
			showInWorkbenchBrowser(aurl, false);
		} catch (Exception e) {
			HelpUIPlugin.logError("Error opening browser", e); //
$NON-NLS-1$
		}
	}
}

public boolean isHelpResource(String url) {
	if (url == null || url.indexOf("://") == -1) //$NON-NLS-1$
		return true;
	return false;
}
In M4, there are enhancements to the search mechanism allowing a search hit to be openable by the search engine. Read about it in

http://www.eclipse.org/eclipse/platform-ua/proposals/searchEnhancements.htm
Wrong link :-). Instead, use the following one:

file:///C:/Documents%20and%20Settings/dejan/workspace/platform-ua/proposals/searchEnhancements.htm
Aggghhhh!

Third time the charm:

http://www.eclipse.org/eclipse/platform-ua/proposals/xmlsearch/search-enhancements.htm</WithStack>
    <WithOutStack>Adding a repository to the dynamic help panel (DH), using the existing 
extension points, we found that DH has hard coded the help system url for all 
local content returns.

HTML is dynamically created when the results of a search are built.  When 
writing the HTML, either a URL will be preceded by ‘nw:’ or an image link with 
the ‘nw:’ will be added beside the text link.
From the updateResults method in 
org.eclipse.help.ui.internal.views.EngineResultSection.java:

buff.append("&lt;a href=\""); //$NON-NLS-1$
/* start of problem code */
if (hit.getForceExternalWindow())
	buff.append("nw:"); //$NON-NLS-1$
            buff.append(part.parent.escapeSpecialChars(hit.toAbsoluteHref(hit
	.getHref(), false)));
buff.append("\""); //$NON-NLS-1$
if (hit.getCategory() != null &amp;&amp; Platform.getWS()!=Platform.WS_GTK) {
buff.append(" alt=\""); //$NON-NLS-1$
buff.append(hit.getCategory().getLabel());
buff.append("\""); //$NON-NLS-1$
}
/* END of problem code */
buff.append("&gt;"); //$NON-NLS-1$
String elabel = part.parent.escapeSpecialChars(hit.getLabel());
buff.append(elabel);
buff.append("&lt;/a&gt;"); //$NON-NLS-1$
if (!hit.getForceExternalWindow()) {
	buff.append(" &lt;a href=\""); //$NON-NLS-1$
buff.append("nw:");//$NON-NLS-1$
String ahref = part.parent.escapeSpecialChars(hit
	.toAbsoluteHref(hit.getHref(), true));
buff.append(ahref);
buff.append("\"&gt;&lt;img href=\""); //$NON-NLS-1$
buff.append(IHelpUIConstants.IMAGE_NW);
buff.append("\""); //$NON-NLS-1$
if (Platform.getWS()!=Platform.WS_GTK) {
buff.append(" alt=\""); //$NON-NLS-1$
buff.append(Messages.SearchResultsPart_nwtooltip);//$NON-NLS-1$
buff.append("\""); //$NON-NLS-1$
}
buff.append("/&gt;"); //$NON-NLS-1$
buff.append("&lt;/a&gt;"); //$NON-NLS-1$
}

When clicking on a link that begins with 'nw:' a check is done to see if ‘://’ 
appears in the URL, if so, the link is opened in the editor area. If ‘://’ 
does not appear in the URL, Eclipse assumes the document is a Help document 
and opens it in the Help System.  Both alternatives are inadequate for the 
galleries because we want the links to open in the correct repository.

When clicking on a link that does not begin with ‘nw:’ the file is loaded in 
place.

From org.eclipse.help.ui.internal.views.SearchResultsPart:
void doOpenLink(Object href) {
	String url = (String) href;

	if (url.startsWith("nw:")) { //$NON-NLS-1$
		parent.showExternalURL(url.substring(3));
	} else
		parent.showURL(url);
}

From org.eclipse.help.ui.internal.views.ReusableHelpPart:
public void showExternalURL(String url) {
	if (isHelpResource(url))
		PlatformUI.getWorkbench().getHelpSystem()
			.displayHelpResource(url);
	else {
		try {
			String aurl = BaseHelpSystem.resolve(url, 
true).toString();
			if (aurl.endsWith("&amp;noframes=true") || aurl.endsWith("?
noframes=true")) //$NON-NLS-1$ //$NON-NLS-2$
				aurl = aurl.substring(0, aurl.length() - 14);
			showInWorkbenchBrowser(aurl, false);
		} catch (Exception e) {
			HelpUIPlugin.logError("Error opening browser", e); //
$NON-NLS-1$
		}
	}
}

public boolean isHelpResource(String url) {
	if (url == null || url.indexOf("://") == -1) //$NON-NLS-1$
		return true;
	return false;
}
In M4, there are enhancements to the search mechanism allowing a search hit to be openable by the search engine. Read about it in

http://www.eclipse.org/eclipse/platform-ua/proposals/searchEnhancements.htm
Wrong link :-). Instead, use the following one:

file:///C:/Documents%20and%20Settings/dejan/workspace/platform-ua/proposals/searchEnhancements.htm
Aggghhhh!

Third time the charm:

http://www.eclipse.org/eclipse/platform-ua/proposals/xmlsearch/search-enhancements.htm</WithOutStack>
  </Bug>
  <Bug>
    <BugId amount="107891" />
    <CreationDate amount="2005-08-24 12:39:00 -0400" />
    <DupId amount="" />
    <classification amount="Tools" />
    <Product amount="TPTP Common Logging" />
    <component amount="Platform.Execution.CBELogging" />
    <Version amount="4.1" />
    <rep_platform amount="PC" />
    <op_sys amount="Windows XP" />
    <priority amount="P3" />
    <bug_severity amount="major" />
    <Summery>Missing plugin.xml on jakarta plugins</Summery>
    <Patches amount="0" />
    <Stacktraces amount="0" />
    <SourceCodeRegions amount="0" />
    <Enumerations amount="0" />
    <bug_status amount="CLOSED" />
    <resolution amount="INVALID" />
    <WithStack>These plugins are missing the plugin.xml file:
/org.apache.jakarta_commons_logging
/org.apache.jakarta_log4j_logging
In CVS and in the latest driver.
The plugin.xml files for these plugins have been removed from CVS and their 
build/configurations when they were converted to OSGi manifest files under 
defect #104133.
As of TPTP 4.6.0, TPTP is in maintenance mode and focusing on improving quality by resolving relevant enhancements/defects and increasing test coverage through test creation, automation, Build Verification Tests (BVTs), and expanded run-time execution. As part of the TPTP Bugzilla housecleaning process (see http://wiki.eclipse.org/Bugzilla_Housecleaning_Processes), this enhancement/defect is verified/closed by the Project Lead since this originator of this enhancement/defect has an inactive Bugzilla account and considered to be fixed. If this enhancement/defect is still unresolved and reproducible in the latest TPTP release (http://www.eclipse.org/tptp/home/downloads/), please re-open.</WithStack>
    <WithOutStack>These plugins are missing the plugin.xml file:
/org.apache.jakarta_commons_logging
/org.apache.jakarta_log4j_logging
In CVS and in the latest driver.
The plugin.xml files for these plugins have been removed from CVS and their 
build/configurations when they were converted to OSGi manifest files under 
defect #104133.
As of TPTP 4.6.0, TPTP is in maintenance mode and focusing on improving quality by resolving relevant enhancements/defects and increasing test coverage through test creation, automation, Build Verification Tests (BVTs), and expanded run-time execution. As part of the TPTP Bugzilla housecleaning process (see http://wiki.eclipse.org/Bugzilla_Housecleaning_Processes), this enhancement/defect is verified/closed by the Project Lead since this originator of this enhancement/defect has an inactive Bugzilla account and considered to be fixed. If this enhancement/defect is still unresolved and reproducible in the latest TPTP release (http://www.eclipse.org/tptp/home/downloads/), please re-open.</WithOutStack>
  </Bug>
  <Bug>
    <BugId amount="107892" />
    <CreationDate amount="2005-08-24 12:45:00 -0400" />
    <DupId amount="" />
    <classification amount="Eclipse" />
    <Product amount="Platform" />
    <component amount="SWT" />
    <Version amount="3.2" />
    <rep_platform amount="PC" />
    <op_sys amount="Windows XP" />
    <priority amount="P3" />
    <bug_severity amount="enhancement" />
    <Summery>potentially useful real estate wasted on scrollbars</Summery>
    <Patches amount="0" />
    <Stacktraces amount="0" />
    <SourceCodeRegions amount="0" />
    <Enumerations amount="0" />
    <bug_status amount="RESOLVED" />
    <resolution amount="WONTFIX" />
    <WithStack>3.1
check the pic. the editor has to create a separate bar parallel to the scrollbar
to draw a bunch of dots on it. This is wasted space. It should be possible to
just  draw on the scollbar.

No idea if the native widget supports that though.
Created attachment 26412
screenshot

the editor rhs gutter taking useful horizontal real estate
You can't draw on top of a scroll bar.  Even if you could, the thumb would 
hide information.
WONTIFX</WithStack>
    <WithOutStack>3.1
check the pic. the editor has to create a separate bar parallel to the scrollbar
to draw a bunch of dots on it. This is wasted space. It should be possible to
just  draw on the scollbar.

No idea if the native widget supports that though.
Created attachment 26412
screenshot

the editor rhs gutter taking useful horizontal real estate
You can't draw on top of a scroll bar.  Even if you could, the thumb would 
hide information.
WONTIFX</WithOutStack>
  </Bug>
  <Bug>
    <BugId amount="107893" />
    <CreationDate amount="2005-08-24 12:47:00 -0400" />
    <DupId amount="200031" />
    <classification amount="Eclipse" />
    <Product amount="Platform" />
    <component amount="User Assistance" />
    <Version amount="3.2" />
    <rep_platform amount="All" />
    <op_sys amount="Windows XP" />
    <priority amount="P3" />
    <bug_severity amount="normal" />
    <Summery>[Help] Dynamic Help: CSS &amp; Relative Paths</Summery>
    <Patches amount="0" />
    <Stacktraces amount="0" />
    <SourceCodeRegions amount="0" />
    <Enumerations amount="0" />
    <bug_status amount="RESOLVED" />
    <resolution amount="DUPLICATE" />
    <WithStack>We have a content repository that we are trying to bind to the Dynamic Help 
panel. When we do, we see that the CSS defined for the help panel is different 
than what is used for our content (it also seems different than what we use in 
the help system). 

We need a way to define or override this behavior.

Second issue but related is that all pages that are loaded are relative to the 
help system not the repository added as an extension point. 

Users also have the ability to set a preference that determines if a Help 
document is loaded in place, or in the editor area. Currently our repository 
use the Help System’s preferences, so this setting will apply to our pages as 
well.  Again the problem here is that the CSS and images are relative to the 
our repository, but the page is loaded to be relative to the help servlet.
I looked into this a little and have a couple of different ideas as to what might be going on. When I created a help plugin in my workspace ane referenced a CSS file from another workspace project that worked OK. One thing I noticed however was that the Eclipse supplied CSS was being included after the user supplied CSS which means that your CSS can be overridden unless you add 
!important to the lines in your CSS file. I don't know if this is your problem, are you still seeing this problem?
The first issue, the ability to change the path to the css file inserted into the help view is fixed in 3.3M2, see Bug  200031. 

The second issue I believe can be solved if your use PLUGINS_ROOT/plugin_name in your css path.

*** This bug has been marked as a duplicate of bug 200031 ***</WithStack>
    <WithOutStack>We have a content repository that we are trying to bind to the Dynamic Help 
panel. When we do, we see that the CSS defined for the help panel is different 
than what is used for our content (it also seems different than what we use in 
the help system). 

We need a way to define or override this behavior.

Second issue but related is that all pages that are loaded are relative to the 
help system not the repository added as an extension point. 

Users also have the ability to set a preference that determines if a Help 
document is loaded in place, or in the editor area. Currently our repository 
use the Help System’s preferences, so this setting will apply to our pages as 
well.  Again the problem here is that the CSS and images are relative to the 
our repository, but the page is loaded to be relative to the help servlet.
I looked into this a little and have a couple of different ideas as to what might be going on. When I created a help plugin in my workspace ane referenced a CSS file from another workspace project that worked OK. One thing I noticed however was that the Eclipse supplied CSS was being included after the user supplied CSS which means that your CSS can be overridden unless you add 
!important to the lines in your CSS file. I don't know if this is your problem, are you still seeing this problem?
The first issue, the ability to change the path to the css file inserted into the help view is fixed in 3.3M2, see Bug  200031. 

The second issue I believe can be solved if your use PLUGINS_ROOT/plugin_name in your css path.

*** This bug has been marked as a duplicate of bug 200031 ***</WithOutStack>
  </Bug>
  <Bug>
    <BugId amount="107894" />
    <CreationDate amount="2005-08-24 12:47:00 -0400" />
    <DupId amount="" />
    <classification amount="Tools" />
    <Product amount="TPTP Profiling" />
    <component amount="Platform.UI" />
    <Version amount="4.1" />
    <rep_platform amount="PC" />
    <op_sys amount="Windows XP" />
    <priority amount="P3" />
    <bug_severity amount="normal" />
    <Summery>NPE if context is not found</Summery>
    <Patches amount="0" />
    <Stacktraces amount="1">
      <Stacktrace timestamp="1437330570809">
        <Exception>java.lang.NullPointerException</Exception>
        <Reason />
        <Frames>
          <Frame depth="0">org.eclipse.hyades.ui.provisional.context.ContextManager.getContextHandlerForKey(ContextManager.java:262)</Frame>
          <Frame depth="1">org.eclipse.hyades.ui.provisional.context.ContextManager.getContextHandlers(ContextManager.java:280)</Frame>
          <Frame depth="2">org.eclipse.hyades.ui.provisional.context.ContextManager.getContextProvider(ContextManager.java:328)</Frame>
          <Frame depth="3">org.eclipse.hyades.ui.provisional.context.ContextManager.internalGetContextLabelFormatProvider(ContextManager.java:374)</Frame>
          <Frame depth="4">org.eclipse.hyades.ui.provisional.context.ContextManager.getContextLabelFormatProvider(ContextManager.java:402)</Frame>
          <Frame depth="5">org.eclipse.hyades.trace.views.util.internal.ColumnData.name(ColumnData.java:228)</Frame>
          <Frame depth="6">org.eclipse.hyades.trace.views.util.internal.StatisticTableColumnInfo.initializeTreeColumn(StatisticTableColumnInfo.java:81)</Frame>
          <Frame depth="7">org.eclipse.hyades.trace.views.util.internal.StatisticTableColumnInfo.&lt;init&gt;(StatisticTableColumnInfo.java:63)</Frame>
          <Frame depth="8">org.eclipse.hyades.trace.views.internal.StatisticView.resetColumns(StatisticView.java:890)</Frame>
          <Frame depth="9">org.eclipse.hyades.trace.views.internal.MultiLevelStatisticView.resetColumns(MultiLevelStatisticView.java:717)</Frame>
          <Frame depth="10">org.eclipse.hyades.trace.views.internal.StatisticView.contextChanged(StatisticView.java:830)</Frame>
          <Frame depth="11">org.eclipse.hyades.trace.views.internal.MultiLevelStatisticView.contextChanged(MultiLevelStatisticView.java:760)</Frame>
          <Frame depth="12">org.eclipse.hyades.trace.views.internal.StatisticView.update(StatisticView.java:844)</Frame>
          <Frame depth="13">org.eclipse.hyades.trace.views.internal.MultiLevelStatisticView.update(MultiLevelStatisticView.java:740)</Frame>
          <Frame depth="14">org.eclipse.hyades.trace.views.internal.StatisticView.updateUI(StatisticView.java:783)</Frame>
          <Frame depth="15">org.eclipse.hyades.trace.views.adapter.internal.MultiLevelStatisticPage.update(MultiLevelStatisticPage.java:144)</Frame>
          <Frame depth="16">org.eclipse.hyades.trace.ui.TraceViewer.addViewPage(TraceViewer.java:195)</Frame>
          <Frame depth="17">org.eclipse.hyades.trace.ui.TraceViewer.addViewPage(TraceViewer.java:209)</Frame>
          <Frame depth="18">org.eclipse.hyades.trace.ui.TraceViewer.createPartControl(TraceViewer.java:253)</Frame>
          <Frame depth="19">org.eclipse.ui.internal.ViewReference.createPartHelper(ViewReference.java:305)</Frame>
          <Frame depth="20">org.eclipse.ui.internal.ViewReference.createPart(ViewReference.java:180)</Frame>
          <Frame depth="21">org.eclipse.ui.internal.WorkbenchPartReference.getPart(WorkbenchPartReference.java:552)</Frame>
          <Frame depth="22">org.eclipse.ui.internal.Perspective.showView(Perspective.java:1655)</Frame>
          <Frame depth="23">org.eclipse.ui.internal.WorkbenchPage.busyShowView(WorkbenchPage.java:930)</Frame>
          <Frame depth="24">org.eclipse.ui.internal.WorkbenchPage.access$12(WorkbenchPage.java:913)</Frame>
          <Frame depth="25">org.eclipse.ui.internal.WorkbenchPage$13.run(WorkbenchPage.java:3148)</Frame>
          <Frame depth="26">org.eclipse.swt.custom.BusyIndicator.showWhile(BusyIndicator.java:69)</Frame>
          <Frame depth="27">org.eclipse.ui.internal.WorkbenchPage.showView(WorkbenchPage.java:3145)</Frame>
          <Frame depth="28">org.eclipse.ui.internal.WorkbenchPage.showView(WorkbenchPage.java:3123)</Frame>
          <Frame depth="29">org.eclipse.hyades.trace.views.actions.internal.OpenExecutionStatisticViewAction.run(OpenExecutionStatisticViewAction.java:60)</Frame>
          <Frame depth="30">org.eclipse.jface.action.Action.runWithEvent(Action.java:996)</Frame>
          <Frame depth="31">org.eclipse.jface.action.ActionContributionItem.handleWidgetSelection(ActionContributionItem.java:538)</Frame>
          <Frame depth="32">org.eclipse.jface.action.ActionContributionItem.access$2(ActionContributionItem.java:488)</Frame>
          <Frame depth="33">org.eclipse.jface.action.ActionContributionItem$5.handleEvent(ActionContributionItem.java:400)</Frame>
          <Frame depth="34">org.eclipse.swt.widgets.EventTable.sendEvent(EventTable.java(Compiled Code))</Frame>
          <Frame depth="35">org.eclipse.swt.widgets.Widget.sendEvent(Widget.java(Inlined Compiled Code))</Frame>
          <Frame depth="36">org.eclipse.swt.widgets.Display.runDeferredEvents(Display.java(Compiled Code))</Frame>
          <Frame depth="37">org.eclipse.swt.widgets.Display.readAndDispatch(Display.java(Compiled Code))</Frame>
          <Frame depth="38">org.eclipse.ui.internal.Workbench.runEventLoop(Workbench.java(Compiled Code))</Frame>
          <Frame depth="39">org.eclipse.ui.internal.Workbench.runUI(Workbench.java:1663)</Frame>
          <Frame depth="40">org.eclipse.ui.internal.Workbench.createAndRunWorkbench(Workbench.java:367)</Frame>
          <Frame depth="41">org.eclipse.ui.PlatformUI.createAndRunWorkbench(PlatformUI.java:143)</Frame>
          <Frame depth="42">org.eclipse.ui.internal.ide.IDEApplication.run(IDEApplication.java:103)</Frame>
          <Frame depth="43">org.eclipse.core.internal.runtime.PlatformActivator$1.run(PlatformActivator.java:226)</Frame>
          <Frame depth="44">org.eclipse.core.runtime.adaptor.EclipseStarter.run(EclipseStarter.java:376)</Frame>
          <Frame depth="45">org.eclipse.core.runtime.adaptor.EclipseStarter.run(EclipseStarter.java:163)</Frame>
          <Frame depth="46">sun.reflect.NativeMethodAccessorImpl.invoke0(Native Method)</Frame>
          <Frame depth="47">sun.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:85)</Frame>
          <Frame depth="48">sun.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:58)</Frame>
          <Frame depth="49">sun.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:60)</Frame>
          <Frame depth="50">java.lang.reflect.Method.invoke(Method.java:391)</Frame>
          <Frame depth="51">org.eclipse.core.launcher.Main.invokeFramework(Main.java:334)</Frame>
          <Frame depth="52">org.eclipse.core.launcher.Main.basicRun(Main.java:278)</Frame>
          <Frame depth="53">org.eclipse.core.launcher.Main.run(Main.java:973)</Frame>
          <Frame depth="54">org.eclipse.core.launcher.Main.main(Main.java:948)</Frame>
        </Frames>
      </Stacktrace>
    </Stacktraces>
    <SourceCodeRegions amount="0" />
    <Enumerations amount="0" />
    <bug_status amount="CLOSED" />
    <resolution amount="FIXED" />
    <WithStack>Just set the language to "C/C++" like here:

&lt;traceStart traceId="1" agentIdRef="1" time="1067991686.000000" language="C/C++"/&gt;

and you'll get:

java.lang.NullPointerException
	at
org.eclipse.hyades.ui.provisional.context.ContextManager.getContextHandlerForKey(ContextManager.java:262)
	at
org.eclipse.hyades.ui.provisional.context.ContextManager.getContextHandlers(ContextManager.java:280)
	at
org.eclipse.hyades.ui.provisional.context.ContextManager.getContextProvider(ContextManager.java:328)
	at
org.eclipse.hyades.ui.provisional.context.ContextManager.internalGetContextLabelFormatProvider(ContextManager.java:374)
	at
org.eclipse.hyades.ui.provisional.context.ContextManager.getContextLabelFormatProvider(ContextManager.java:402)
	at
org.eclipse.hyades.trace.views.util.internal.ColumnData.name(ColumnData.java:228)
	at
org.eclipse.hyades.trace.views.util.internal.StatisticTableColumnInfo.initializeTreeColumn(StatisticTableColumnInfo.java:81)
	at
org.eclipse.hyades.trace.views.util.internal.StatisticTableColumnInfo.&lt;init&gt;(StatisticTableColumnInfo.java:63)
	at
org.eclipse.hyades.trace.views.internal.StatisticView.resetColumns(StatisticView.java:890)
	at
org.eclipse.hyades.trace.views.internal.MultiLevelStatisticView.resetColumns(MultiLevelStatisticView.java:717)
	at
org.eclipse.hyades.trace.views.internal.StatisticView.contextChanged(StatisticView.java:830)
	at
org.eclipse.hyades.trace.views.internal.MultiLevelStatisticView.contextChanged(MultiLevelStatisticView.java:760)
	at
org.eclipse.hyades.trace.views.internal.StatisticView.update(StatisticView.java:844)
	at
org.eclipse.hyades.trace.views.internal.MultiLevelStatisticView.update(MultiLevelStatisticView.java:740)
	at
org.eclipse.hyades.trace.views.internal.StatisticView.updateUI(StatisticView.java:783)
	at
org.eclipse.hyades.trace.views.adapter.internal.MultiLevelStatisticPage.update(MultiLevelStatisticPage.java:144)
	at org.eclipse.hyades.trace.ui.TraceViewer.addViewPage(TraceViewer.java:195)
	at org.eclipse.hyades.trace.ui.TraceViewer.addViewPage(TraceViewer.java:209)
	at org.eclipse.hyades.trace.ui.TraceViewer.createPartControl(TraceViewer.java:253)
	at org.eclipse.ui.internal.ViewReference.createPartHelper(ViewReference.java:305)
	at org.eclipse.ui.internal.ViewReference.createPart(ViewReference.java:180)
	at
org.eclipse.ui.internal.WorkbenchPartReference.getPart(WorkbenchPartReference.java:552)
	at org.eclipse.ui.internal.Perspective.showView(Perspective.java:1655)
	at org.eclipse.ui.internal.WorkbenchPage.busyShowView(WorkbenchPage.java:930)
	at org.eclipse.ui.internal.WorkbenchPage.access$12(WorkbenchPage.java:913)
	at org.eclipse.ui.internal.WorkbenchPage$13.run(WorkbenchPage.java:3148)
	at org.eclipse.swt.custom.BusyIndicator.showWhile(BusyIndicator.java:69)
	at org.eclipse.ui.internal.WorkbenchPage.showView(WorkbenchPage.java:3145)
	at org.eclipse.ui.internal.WorkbenchPage.showView(WorkbenchPage.java:3123)
	at
org.eclipse.hyades.trace.views.actions.internal.OpenExecutionStatisticViewAction.run(OpenExecutionStatisticViewAction.java:60)
	at org.eclipse.jface.action.Action.runWithEvent(Action.java:996)
	at
org.eclipse.jface.action.ActionContributionItem.handleWidgetSelection(ActionContributionItem.java:538)
	at
org.eclipse.jface.action.ActionContributionItem.access$2(ActionContributionItem.java:488)
	at
org.eclipse.jface.action.ActionContributionItem$5.handleEvent(ActionContributionItem.java:400)
	at org.eclipse.swt.widgets.EventTable.sendEvent(EventTable.java(Compiled Code))
	at org.eclipse.swt.widgets.Widget.sendEvent(Widget.java(Inlined Compiled Code))
	at org.eclipse.swt.widgets.Display.runDeferredEvents(Display.java(Compiled Code))
	at org.eclipse.swt.widgets.Display.readAndDispatch(Display.java(Compiled Code))
	at org.eclipse.ui.internal.Workbench.runEventLoop(Workbench.java(Compiled Code))
	at org.eclipse.ui.internal.Workbench.runUI(Workbench.java:1663)
	at org.eclipse.ui.internal.Workbench.createAndRunWorkbench(Workbench.java:367)
	at org.eclipse.ui.PlatformUI.createAndRunWorkbench(PlatformUI.java:143)
	at org.eclipse.ui.internal.ide.IDEApplication.run(IDEApplication.java:103)
	at
org.eclipse.core.internal.runtime.PlatformActivator$1.run(PlatformActivator.java:226)
	at org.eclipse.core.runtime.adaptor.EclipseStarter.run(EclipseStarter.java:376)
	at org.eclipse.core.runtime.adaptor.EclipseStarter.run(EclipseStarter.java:163)
	at sun.reflect.NativeMethodAccessorImpl.invoke0(Native Method)
	at sun.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:85)
	at sun.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:58)
	at
sun.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:60)
	at java.lang.reflect.Method.invoke(Method.java:391)
	at org.eclipse.core.launcher.Main.invokeFramework(Main.java:334)
	at org.eclipse.core.launcher.Main.basicRun(Main.java:278)
	at org.eclipse.core.launcher.Main.run(Main.java:973)
	at org.eclipse.core.launcher.Main.main(Main.java:948)
fixed. 

will attach modified trace which was used for testing
Created attachment 26417
a modified Java trace with C/C++ context
As of TPTP 4.6.0, TPTP is in maintenance mode and focusing on improving quality by resolving relevant enhancements/defects and increasing test coverage through test creation, automation, Build Verification Tests (BVTs), and expanded run-time execution. As part of the TPTP Bugzilla housecleaning process (see http://wiki.eclipse.org/Bugzilla_Housecleaning_Processes), this enhancement/defect is verified/closed by the Project Lead since this enhancement/defect has been resolved and unverified for more than 1 year and considered to be fixed. If this enhancement/defect is still unresolved and reproducible in the latest TPTP release (http://www.eclipse.org/tptp/home/downloads/), please re-open.</WithStack>
    <WithOutStack>Just set the language to "C/C++" like here:

&lt;traceStart traceId="1" agentIdRef="1" time="1067991686.000000" language="C/C++"/&gt;

and you'll get:


fixed. 

will attach modified trace which was used for testing
Created attachment 26417
a modified Java trace with C/C++ context
As of TPTP 4.6.0, TPTP is in maintenance mode and focusing on improving quality by resolving relevant enhancements/defects and increasing test coverage through test creation, automation, Build Verification Tests (BVTs), and expanded run-time execution. As part of the TPTP Bugzilla housecleaning process (see http://wiki.eclipse.org/Bugzilla_Housecleaning_Processes), this enhancement/defect is verified/closed by the Project Lead since this enhancement/defect has been resolved and unverified for more than 1 year and considered to be fixed. If this enhancement/defect is still unresolved and reproducible in the latest TPTP release (http://www.eclipse.org/tptp/home/downloads/), please re-open.</WithOutStack>
  </Bug>
  <Bug>
    <BugId amount="107895" />
    <CreationDate amount="2005-08-24 12:52:00 -0400" />
    <DupId amount="" />
    <classification amount="Eclipse" />
    <Product amount="Platform" />
    <component amount="User Assistance" />
    <Version amount="3.2" />
    <rep_platform amount="All" />
    <op_sys amount="Windows XP" />
    <priority amount="P3" />
    <bug_severity amount="normal" />
    <Summery>[Help] Dynamic Help: Bookmarking</Summery>
    <Patches amount="0" />
    <Stacktraces amount="0" />
    <SourceCodeRegions amount="0" />
    <Enumerations amount="0" />
    <bug_status amount="RESOLVED" />
    <resolution amount="INVALID" />
    <WithStack>When bookmarking non-help content, the bookmark is added to the Help System’s 
bookmark list.  This is good for the bookmark section of the Dynamic Help 
view, but the bookmark will not be in the other repository (even if support 
were added for it) when the user launches it, instead it will be in the Help 
System. 

One possible suggestion is to maintain only one bookmark list for all 
reposiories. 

The Dynamic Help view also doesn’t distinguish what kind of bookmark an item 
is. So google, repository and help system bookmarks all look the same in the 
UI.

Alternatively, if we could turn off bookmarking (possibly as an option when 
adding a repository) so those repositories that don't support it don't appear 
in the help system.
*** Bug 107896 has been marked as a duplicate of this bug. ***
Hi Rich,

Can you clarify what you mean by "non-help content" and by "the other repository".
Closing since I believe that this is not a problem with the Eclipse help system.</WithStack>
    <WithOutStack>When bookmarking non-help content, the bookmark is added to the Help System’s 
bookmark list.  This is good for the bookmark section of the Dynamic Help 
view, but the bookmark will not be in the other repository (even if support 
were added for it) when the user launches it, instead it will be in the Help 
System. 

One possible suggestion is to maintain only one bookmark list for all 
reposiories. 

The Dynamic Help view also doesn’t distinguish what kind of bookmark an item 
is. So google, repository and help system bookmarks all look the same in the 
UI.

Alternatively, if we could turn off bookmarking (possibly as an option when 
adding a repository) so those repositories that don't support it don't appear 
in the help system.
*** Bug 107896 has been marked as a duplicate of this bug. ***
Hi Rich,

Can you clarify what you mean by "non-help content" and by "the other repository".
Closing since I believe that this is not a problem with the Eclipse help system.</WithOutStack>
  </Bug>
  <Bug>
    <BugId amount="107896" />
    <CreationDate amount="2005-08-24 12:55:00 -0400" />
    <DupId amount="107895" />
    <classification amount="Eclipse" />
    <Product amount="Platform" />
    <component amount="User Assistance" />
    <Version amount="3.2" />
    <rep_platform amount="All" />
    <op_sys amount="Windows XP" />
    <priority amount="P3" />
    <bug_severity amount="normal" />
    <Summery>Dynamic Help: Bookmarking</Summery>
    <Patches amount="0" />
    <Stacktraces amount="0" />
    <SourceCodeRegions amount="0" />
    <Enumerations amount="0" />
    <bug_status amount="RESOLVED" />
    <resolution amount="DUPLICATE" />
    <WithStack>When bookmarking non-help content, the bookmark is added to the Help System’s 
bookmark list.  This is good for the bookmark section of the Dynamic Help 
view, but the bookmark will not be in the other repository (even if support 
were added for it) when the user launches it, instead it will be in the Help 
System. 

One possible suggestion is to maintain only one bookmark list for all 
reposiories. 

The Dynamic Help view also doesn’t distinguish what kind of bookmark an item 
is. So google, repository and help system bookmarks all look the same in the 
UI.

Alternatively, if we could turn off bookmarking (possibly as an option when 
adding a repository) so those repositories that don't support it don't appear 
in the help system.


*** This bug has been marked as a duplicate of 107895 ***</WithStack>
    <WithOutStack>When bookmarking non-help content, the bookmark is added to the Help System’s 
bookmark list.  This is good for the bookmark section of the Dynamic Help 
view, but the bookmark will not be in the other repository (even if support 
were added for it) when the user launches it, instead it will be in the Help 
System. 

One possible suggestion is to maintain only one bookmark list for all 
reposiories. 

The Dynamic Help view also doesn’t distinguish what kind of bookmark an item 
is. So google, repository and help system bookmarks all look the same in the 
UI.

Alternatively, if we could turn off bookmarking (possibly as an option when 
adding a repository) so those repositories that don't support it don't appear 
in the help system.


*** This bug has been marked as a duplicate of 107895 ***</WithOutStack>
  </Bug>
  <Bug>
    <BugId amount="107897" />
    <CreationDate amount="2005-08-24 13:08:00 -0400" />
    <DupId amount="" />
    <classification amount="Tools" />
    <Product amount="TPTP Profiling" />
    <component amount="Platform.UI" />
    <Version amount="4.1" />
    <rep_platform amount="PC" />
    <op_sys amount="Windows XP" />
    <priority amount="P3" />
    <bug_severity amount="normal" />
    <Summery>filter dialog standard tab still shows Java names when sample C/C++ context is used</Summery>
    <Patches amount="0" />
    <Stacktraces amount="0" />
    <SourceCodeRegions amount="0" />
    <Enumerations amount="0" />
    <bug_status amount="CLOSED" />
    <resolution amount="FIXED" />
    <WithStack>In the standard tab of Filter dialog I still see Package/Class/Method instead of
C/C++ specific names when I use the sample context. The advanced tab has some
entries named updated including for Pacakge and Class.

Also please change the contextKey from "org.eclipse.tptp.c" to "C/C++".
only a few attributes are replaced in the C/C++ example from trace.sample
plugin. There is no plan to replace all attribues for C/C++ context. But
standard tab should be a nice to have replacement.
Why is standard tab "Package name" different than Advance tab "Package name"
(only the second one is replaced with the C/C++ name)?


The package/class/method name should be referencing to the same attribute. if
it's not, then it's a bug.
sample key changed to C/C++

bug fixed for standard tab attributes.
As of TPTP 4.6.0, TPTP is in maintenance mode and focusing on improving quality by resolving relevant enhancements/defects and increasing test coverage through test creation, automation, Build Verification Tests (BVTs), and expanded run-time execution. As part of the TPTP Bugzilla housecleaning process (see http://wiki.eclipse.org/Bugzilla_Housecleaning_Processes), this enhancement/defect is verified/closed by the Project Lead since this enhancement/defect has been resolved and unverified for more than 1 year and considered to be fixed. If this enhancement/defect is still unresolved and reproducible in the latest TPTP release (http://www.eclipse.org/tptp/home/downloads/), please re-open.</WithStack>
    <WithOutStack>In the standard tab of Filter dialog I still see Package/Class/Method instead of
C/C++ specific names when I use the sample context. The advanced tab has some
entries named updated including for Pacakge and Class.

Also please change the contextKey from "org.eclipse.tptp.c" to "C/C++".
only a few attributes are replaced in the C/C++ example from trace.sample
plugin. There is no plan to replace all attribues for C/C++ context. But
standard tab should be a nice to have replacement.
Why is standard tab "Package name" different than Advance tab "Package name"
(only the second one is replaced with the C/C++ name)?


The package/class/method name should be referencing to the same attribute. if
it's not, then it's a bug.
sample key changed to C/C++

bug fixed for standard tab attributes.
As of TPTP 4.6.0, TPTP is in maintenance mode and focusing on improving quality by resolving relevant enhancements/defects and increasing test coverage through test creation, automation, Build Verification Tests (BVTs), and expanded run-time execution. As part of the TPTP Bugzilla housecleaning process (see http://wiki.eclipse.org/Bugzilla_Housecleaning_Processes), this enhancement/defect is verified/closed by the Project Lead since this enhancement/defect has been resolved and unverified for more than 1 year and considered to be fixed. If this enhancement/defect is still unresolved and reproducible in the latest TPTP release (http://www.eclipse.org/tptp/home/downloads/), please re-open.</WithOutStack>
  </Bug>
  <Bug>
    <BugId amount="107898" />
    <CreationDate amount="2005-08-24 13:11:00 -0400" />
    <DupId amount="" />
    <classification amount="Tools" />
    <Product amount="AspectJ" />
    <component amount="Compiler" />
    <Version amount="DEVELOPMENT" />
    <rep_platform amount="PC" />
    <op_sys amount="Linux" />
    <priority amount="P3" />
    <bug_severity amount="normal" />
    <Summery>[generics] Type mismatch when returning T (but stranger)</Summery>
    <Patches amount="0" />
    <Stacktraces amount="0" />
    <SourceCodeRegions amount="5">
      <source_code type="class">
        <location start="239" end="306" />
        <code>class Bug_Provider {
  public void enable_bug(Object argument) {}
}</code>
      </source_code>
      <source_code type="class">
        <location start="308" end="406" />
        <code>class Null_Provider&lt;T&gt; extends Bug_Provider {
  public T get_typed_null() {
    return null;
  }
}</code>
      </source_code>
      <source_code type="class">
        <location start="408" end="652" />
        <code>public class Bug {
  public static void main(String[] args) {
    Null_Provider&lt;Integer&gt; null_provider = new Null_Provider&lt;Integer&gt;() {};
    null_provider.enable_bug(null);
    Integer i = null_provider.get_typed_null(); // type mismatch
  }
}</code>
      </source_code>
      <source_code type="assignment">
        <location start="908" end="924" />
        <code>Object o = null;</code>
      </source_code>
      <source_code type="assignment">
        <location start="965" end="981" />
        <code>String s = null;</code>
      </source_code>
    </SourceCodeRegions>
    <Enumerations amount="0" />
    <bug_status amount="RESOLVED" />
    <resolution amount="FIXED" />
    <WithStack>regression:
the following test case compiles using
AspectJ Compiler DEVELOPMENT built on Wednesday Aug 17, 2005 at 12:52:19 GMT
but causes a compile error using
AspectJ Compiler DEVELOPMENT built on Wednesday Aug 24, 2005 at 09:22:19 GMT

class Bug_Provider {
  public void enable_bug(Object argument) {}
}

class Null_Provider&lt;T&gt; extends Bug_Provider {
  public T get_typed_null() {
    return null;
  }
}

public class Bug {
  public static void main(String[] args) {
    Null_Provider&lt;Integer&gt; null_provider = new Null_Provider&lt;Integer&gt;() {};
    null_provider.enable_bug(null);
    Integer i = null_provider.get_typed_null(); // type mismatch
  }
}


note how a call to enable_bug(null) is required to exhibit the bug.
this call is sensitive to the compile-time value of its argument:

enable_bug(null)           bug enabled
enable_bug(new Object())   bug disabled
enable_bug(new String())   bug enabled
Object o = null;
enable_bug(o);             bug disabled
String s = null;
enable_bug(s);             bug enabled

if the definition of enable_bug is moved to Null_Provider, or if Null_Provider
overrides it, then the bug is disabled.

if null_provider is not an annonymous class, then enable_bug doesn't enable the
bug. however, this call does _not_ have to be made on the same target. in fact,
it can be made from a completely different method, class, or file; it will
always enable the bug as long as the compiler sees the statement before
get_typed_null().


well, this is the strangest aspectj bug i've reported yet!
we've been doing some work on anonymous types in the last two days, but I can
confirm this bug is *not* related to the anonymous type registration changes we
made for the Asm Builder bug.

between the build dates that you mention, we upgraded from the eclipse 3.1 m6
jdt compiler level to eclipse 3.1 final level - given the nature of the report,
I half wonder if this is a bug that JDT themselves have introduced.... I'm going
to check it out in a plain java project...
nice try, but it's *not* a JDT bug, Eclipse 3.1 is quite happy with this
program, so it's something that we've introduced...
found it! A bug introduced when sorting out generics and itds, whereby we failed
to correctly parameterize a method binding found on a parameterized type binding.

this test case now passes, just running the full suite to make sure there are no
side effects, but that is extremely unlikely for such a localised fix.
fixed in latest published build. Thanks for the clear bug report, it must have
taken a while to boil this one down to a simple reproduceable test case!
actually, there seems to be more to this bug. I have created a different bug
report (Bug #108014), because the specific problem described here is indeed
resolved.</WithStack>
    <WithOutStack>regression:
the following test case compiles using
AspectJ Compiler DEVELOPMENT built on Wednesday Aug 17, 2005 at 12:52:19 GMT
but causes a compile error using
AspectJ Compiler DEVELOPMENT built on Wednesday Aug 24, 2005 at 09:22:19 GMT

class Bug_Provider {
  public void enable_bug(Object argument) {}
}

class Null_Provider&lt;T&gt; extends Bug_Provider {
  public T get_typed_null() {
    return null;
  }
}

public class Bug {
  public static void main(String[] args) {
    Null_Provider&lt;Integer&gt; null_provider = new Null_Provider&lt;Integer&gt;() {};
    null_provider.enable_bug(null);
    Integer i = null_provider.get_typed_null(); // type mismatch
  }
}


note how a call to enable_bug(null) is required to exhibit the bug.
this call is sensitive to the compile-time value of its argument:

enable_bug(null)           bug enabled
enable_bug(new Object())   bug disabled
enable_bug(new String())   bug enabled
Object o = null;
enable_bug(o);             bug disabled
String s = null;
enable_bug(s);             bug enabled

if the definition of enable_bug is moved to Null_Provider, or if Null_Provider
overrides it, then the bug is disabled.

if null_provider is not an annonymous class, then enable_bug doesn't enable the
bug. however, this call does _not_ have to be made on the same target. in fact,
it can be made from a completely different method, class, or file; it will
always enable the bug as long as the compiler sees the statement before
get_typed_null().


well, this is the strangest aspectj bug i've reported yet!
we've been doing some work on anonymous types in the last two days, but I can
confirm this bug is *not* related to the anonymous type registration changes we
made for the Asm Builder bug.

between the build dates that you mention, we upgraded from the eclipse 3.1 m6
jdt compiler level to eclipse 3.1 final level - given the nature of the report,
I half wonder if this is a bug that JDT themselves have introduced.... I'm going
to check it out in a plain java project...
nice try, but it's *not* a JDT bug, Eclipse 3.1 is quite happy with this
program, so it's something that we've introduced...
found it! A bug introduced when sorting out generics and itds, whereby we failed
to correctly parameterize a method binding found on a parameterized type binding.

this test case now passes, just running the full suite to make sure there are no
side effects, but that is extremely unlikely for such a localised fix.
fixed in latest published build. Thanks for the clear bug report, it must have
taken a while to boil this one down to a simple reproduceable test case!
actually, there seems to be more to this bug. I have created a different bug
report (Bug #108014), because the specific problem described here is indeed
resolved.</WithOutStack>
  </Bug>
  <Bug>
    <BugId amount="107899" />
    <CreationDate amount="2005-08-24 13:13:00 -0400" />
    <DupId amount="" />
    <classification amount="Eclipse" />
    <Product amount="Platform" />
    <component amount="UI" />
    <Version amount="3.2" />
    <rep_platform amount="PC" />
    <op_sys amount="Windows 2000" />
    <priority amount="P3" />
    <bug_severity amount="enhancement" />
    <Summery>[Markers] Provide a "Type" column, identifying which component generated the problem.</Summery>
    <Patches amount="0" />
    <Stacktraces amount="0" />
    <SourceCodeRegions amount="0" />
    <Enumerations amount="0" />
    <bug_status amount="VERIFIED" />
    <resolution amount="FIXED" />
    <WithStack>Under the Problem Filters, different types ("Java Problem", "Build Path 
Problem", or other plugins) can be selectively enabled/disabled.  Ideally, this 
column would also be visible in the Problems list, so it could be sorted, etc.

Another example:  When using the Checkstyle plugin, the Checkstyle "problems" 
are easily confused with the "Java Problem" type - if something needs to be 
adjusted, it's not clear where the problem is coming from.
The hierachal view now groups by marker type in 3.2 M3.
Sorry, but I don't see this as of 3.2M4.  My options are either "flat" or "hierachal".  In "hierachal" mode, it seems that the tree root is fixed on the filename.  I don't see any way of displaying the problem "type" in the problems view.
This was set by sort order but there is a simpler method on the way in M5. I'll leave this open until it is done.
We now allow grouping by category which defaults to markerType in build 20050117
Verified in 20060113-1200</WithStack>
    <WithOutStack>Under the Problem Filters, different types ("Java Problem", "Build Path 
Problem", or other plugins) can be selectively enabled/disabled.  Ideally, this 
column would also be visible in the Problems list, so it could be sorted, etc.

Another example:  When using the Checkstyle plugin, the Checkstyle "problems" 
are easily confused with the "Java Problem" type - if something needs to be 
adjusted, it's not clear where the problem is coming from.
The hierachal view now groups by marker type in 3.2 M3.
Sorry, but I don't see this as of 3.2M4.  My options are either "flat" or "hierachal".  In "hierachal" mode, it seems that the tree root is fixed on the filename.  I don't see any way of displaying the problem "type" in the problems view.
This was set by sort order but there is a simpler method on the way in M5. I'll leave this open until it is done.
We now allow grouping by category which defaults to markerType in build 20050117
Verified in 20060113-1200</WithOutStack>
  </Bug>
  <Bug>
    <BugId amount="107900" />
    <CreationDate amount="2005-08-24 13:24:00 -0400" />
    <DupId amount="" />
    <classification amount="Eclipse Foundation" />
    <Product amount="z_Archived" />
    <component amount="WTP Datatools" />
    <Version amount="unspecified" />
    <rep_platform amount="PC" />
    <op_sys amount="Windows 2000" />
    <priority amount="P3" />
    <bug_severity amount="normal" />
    <Summery>Row Limit in SQL query dosn't work</Summery>
    <Patches amount="0" />
    <Stacktraces amount="0" />
    <SourceCodeRegions amount="0" />
    <Enumerations amount="0" />
    <bug_status amount="CLOSED" />
    <resolution amount="WORKSFORME" />
    <WithStack>Row Limit in SQL query dosn't work. If I put a limit of 50 records in the
configuration and then I make a query wich returns for example 50000 records,
I'll see in the Data Output View 50000 records. With heavy queries my PC goes
down ;-).

Thank you

Xesús
This is not a trival fix, since the real limitation is the rowset size, in the extreme case if someone is querying a rowset contains LOB and CLOB column and in the same time set the return row as 100 or more, this actually would cause exception in the output view.

the proper fix should be, properly calculating the record size and figure out if (record size) X (number of record set in proference) is in the limit of the rowset...

Thanks,

Der Ping
Quy,

Could you look into this?

Thanks,

Der ping
I tested the latest WTP (1.5) and it works fine.
This is part of a mass update to close out all stale WTP bugs which are in the resolved state without an appropriate targeted version.  If you feel this bug was closed inappropriately, please reopen.</WithStack>
    <WithOutStack>Row Limit in SQL query dosn't work. If I put a limit of 50 records in the
configuration and then I make a query wich returns for example 50000 records,
I'll see in the Data Output View 50000 records. With heavy queries my PC goes
down ;-).

Thank you

Xesús
This is not a trival fix, since the real limitation is the rowset size, in the extreme case if someone is querying a rowset contains LOB and CLOB column and in the same time set the return row as 100 or more, this actually would cause exception in the output view.

the proper fix should be, properly calculating the record size and figure out if (record size) X (number of record set in proference) is in the limit of the rowset...

Thanks,

Der Ping
Quy,

Could you look into this?

Thanks,

Der ping
I tested the latest WTP (1.5) and it works fine.
This is part of a mass update to close out all stale WTP bugs which are in the resolved state without an appropriate targeted version.  If you feel this bug was closed inappropriately, please reopen.</WithOutStack>
  </Bug>
</infozilla-output>

