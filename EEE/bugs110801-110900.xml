<?xml version="1.0" encoding="UTF-8"?>
<infozilla-output>
  <Bug>
    <BugId amount="110801" />
    <CreationDate amount="2005-09-27 10:15:00 -0400" />
    <DupId amount="43910" />
    <classification amount="Eclipse" />
    <Product amount="Platform" />
    <component amount="SWT" />
    <Version amount="3.1" />
    <rep_platform amount="PC" />
    <op_sys amount="Windows XP" />
    <priority amount="P3" />
    <bug_severity amount="normal" />
    <Summery>individual TreeItems cannot only have images in Tree</Summery>
    <Patches amount="0" />
    <Stacktraces amount="0" />
    <SourceCodeRegions amount="0" />
    <Enumerations amount="0" />
    <bug_status amount="RESOLVED" />
    <resolution amount="DUPLICATE" />
    <WithStack>For a Tree with two columns, by adding an image to the second column, a gap is 
created next to the text of the first column where its image would go.

Would like to be able to have individual items only in the Tree have an icon, 
or atleast have icons in the second column without having the gap.

However, I believe the behaviour I am seeing is platform specific...in which 
case it may not be possible to produce the behaviour I am after.
correct, this is a known platform limitation


*** This bug has been marked as a duplicate of 43910 ***</WithStack>
    <WithOutStack>For a Tree with two columns, by adding an image to the second column, a gap is 
created next to the text of the first column where its image would go.

Would like to be able to have individual items only in the Tree have an icon, 
or atleast have icons in the second column without having the gap.

However, I believe the behaviour I am seeing is platform specific...in which 
case it may not be possible to produce the behaviour I am after.
correct, this is a known platform limitation


*** This bug has been marked as a duplicate of 43910 ***</WithOutStack>
  </Bug>
  <Bug>
    <BugId amount="110802" />
    <CreationDate amount="2005-09-27 10:18:00 -0400" />
    <DupId amount="" />
    <classification amount="BIRT" />
    <Product amount="BIRT" />
    <component amount="Report" />
    <Version amount="1.0.1" />
    <rep_platform amount="PC" />
    <op_sys amount="Windows XP" />
    <priority amount="P3" />
    <bug_severity amount="normal" />
    <Summery>Insert HTML coming from the datasource</Summery>
    <Patches amount="0" />
    <Stacktraces amount="0" />
    <SourceCodeRegions amount="0" />
    <Enumerations amount="1">
      <Enumeration lines="4">
        <Lines>
          <Line>- create a text with content type="html/dynamic"</Line>
          <Line>- set the value to &lt;VALUE-OF format="html"&gt;row["field_html"]&lt;/VALUE-OF&gt;</Line>
          <Line>Verified in build 20051013</Line>
          <Line>*** Bug 112393 has been marked as a duplicate of this bug. ***</Line>
        </Lines>
      </Enumeration>
    </Enumerations>
    <bug_status amount="RESOLVED" />
    <resolution amount="INVALID" />
    <WithStack>The datasource contains HTML code in it (some HTML-formatted text) and we would
like to insert (inline) this HTML code as it is in the report document.

Currently BIRT will always interpret the data from the datasource as raw text,
and so my HTML data are displayed verbatim.

At each place that support strings in BIRT, we would like to be place HTML code.

See also post : http://dev.eclipse.org/newslists/news.eclipse.birt/msg01769.html
This is not a bug.
You could try using the format="html" to prevent escaping of the html text
- create a text with content type="html/dynamic"
- set the value to &lt;VALUE-OF format="html"&gt;row["field_html"]&lt;/VALUE-OF&gt;
Verified in build 20051013
*** Bug 112393 has been marked as a duplicate of this bug. ***</WithStack>
    <WithOutStack>The datasource contains HTML code in it (some HTML-formatted text) and we would
like to insert (inline) this HTML code as it is in the report document.

Currently BIRT will always interpret the data from the datasource as raw text,
and so my HTML data are displayed verbatim.

At each place that support strings in BIRT, we would like to be place HTML code.

See also post : http://dev.eclipse.org/newslists/news.eclipse.birt/msg01769.html
This is not a bug.
You could try using the format="html" to prevent escaping of the html text
- create a text with content type="html/dynamic"
- set the value to &lt;VALUE-OF format="html"&gt;row["field_html"]&lt;/VALUE-OF&gt;
Verified in build 20051013
*** Bug 112393 has been marked as a duplicate of this bug. ***</WithOutStack>
  </Bug>
  <Bug>
    <BugId amount="110803" />
    <CreationDate amount="2005-09-27 10:19:00 -0400" />
    <DupId amount="" />
    <classification amount="Modeling" />
    <Product amount="GMF-Runtime" />
    <component amount="General" />
    <Version amount="unspecified" />
    <rep_platform amount="PC" />
    <op_sys amount="Windows XP" />
    <priority amount="P3" />
    <bug_severity amount="minor" />
    <Summery>Palette configuration tutorial text</Summery>
    <Patches amount="0" />
    <Stacktraces amount="0" />
    <SourceCodeRegions amount="0" />
    <Enumerations amount="1">
      <Enumeration lines="11">
        <Lines>
          <Line>- Link to: RMP Diagram Layer Logic Example Guide should be renamed to</Line>
          <Line>just "Logic Example Guide"</Line>
          <Line>- extension in Logic example should change id</Line>
          <Line>from "presentationPaletteProvider" to "logicPaletteProvider" and then example</Line>
          <Line>code updated.</Line>
          <Line>- Picture in "Adding a Palette Provider Extension" - just need one.  The</Line>
          <Line>second one is good.</Line>
          <Line>Changing component to "Runtime Diagram"</Line>
          <Line>Incorported all requested changes into the palette configuration tutorial and</Line>
          <Line>modified the logic example to correspond with those changes.</Line>
          <Line>[GMF Restructure] Bug 319140 : product GMF and component Runtime Diagram was the original product and component for this bug</Line>
        </Lines>
      </Enumeration>
    </Enumerations>
    <bug_status amount="RESOLVED" />
    <resolution amount="FIXED" />
    <WithStack>- Link to: RMP Diagram Layer Logic Example Guide should be renamed to 
just "Logic Example Guide"
- extension in Logic example should change id 
from "presentationPaletteProvider" to "logicPaletteProvider" and then example 
code updated.
- Picture in "Adding a Palette Provider Extension" - just need one.  The 
second one is good.
Changing component to "Runtime Diagram"
Incorported all requested changes into the palette configuration tutorial and 
modified the logic example to correspond with those changes.
[GMF Restructure] Bug 319140 : product GMF and component Runtime Diagram was the original product and component for this bug</WithStack>
    <WithOutStack>- Link to: RMP Diagram Layer Logic Example Guide should be renamed to 
just "Logic Example Guide"
- extension in Logic example should change id 
from "presentationPaletteProvider" to "logicPaletteProvider" and then example 
code updated.
- Picture in "Adding a Palette Provider Extension" - just need one.  The 
second one is good.
Changing component to "Runtime Diagram"
Incorported all requested changes into the palette configuration tutorial and 
modified the logic example to correspond with those changes.
[GMF Restructure] Bug 319140 : product GMF and component Runtime Diagram was the original product and component for this bug</WithOutStack>
  </Bug>
  <Bug>
    <BugId amount="110804" />
    <CreationDate amount="2005-09-27 10:20:00 -0400" />
    <DupId amount="" />
    <classification amount="Eclipse" />
    <Product amount="Platform" />
    <component amount="SWT" />
    <Version amount="3.1" />
    <rep_platform amount="PC" />
    <op_sys amount="Windows XP" />
    <priority amount="P3" />
    <bug_severity amount="normal" />
    <Summery>Unable to set Tree row height</Summery>
    <Patches amount="0" />
    <Stacktraces amount="0" />
    <SourceCodeRegions amount="3">
      <source_code type="assignment">
        <location start="35" end="94" />
        <code>Image spacerImage = new Image(parent.getDisplay(), 20, 20);</code>
      </source_code>
      <source_code type="assignment">
        <location start="95" end="132" />
        <code>TreeItem topItem = tree.getTopItem();</code>
      </source_code>
      <source_code type="ifstatement">
        <location start="133" end="256" />
        <code>if (topItem != null) {
  TreeItem item = new TreeItem(tree, SWT.NONE);
  item.setImage(1, spacerImage);
  item.dispose();
}</code>
      </source_code>
    </SourceCodeRegions>
    <Enumerations amount="0" />
    <bug_status amount="NEW" />
    <resolution amount="" />
    <WithStack>Current I am doing the following:

Image spacerImage = new Image(parent.getDisplay(), 20, 20);
TreeItem topItem = tree.getTopItem();
if (topItem != null) {
  TreeItem item = new TreeItem(tree, SWT.NONE);
  item.setImage(1, spacerImage);
  item.dispose();
}

This works for me, but ideally I would just like to set the height, or be able 
to set the height using the image as a spacer method on an empty Tree.</WithStack>
    <WithOutStack>Current I am doing the following:

Image spacerImage = new Image(parent.getDisplay(), 20, 20);
TreeItem topItem = tree.getTopItem();
if (topItem != null) {
  TreeItem item = new TreeItem(tree, SWT.NONE);
  item.setImage(1, spacerImage);
  item.dispose();
}

This works for me, but ideally I would just like to set the height, or be able 
to set the height using the image as a spacer method on an empty Tree.</WithOutStack>
  </Bug>
  <Bug>
    <BugId amount="110805" />
    <CreationDate amount="2005-09-27 10:22:00 -0400" />
    <DupId amount="" />
    <classification amount="Eclipse" />
    <Product amount="Platform" />
    <component amount="UI" />
    <Version amount="3.1" />
    <rep_platform amount="PC" />
    <op_sys amount="Windows 2000" />
    <priority amount="P3" />
    <bug_severity amount="normal" />
    <Summery>[Progress] Progress infrastructure jobs should not be shown in progress view</Summery>
    <Patches amount="0" />
    <Stacktraces amount="0" />
    <SourceCodeRegions amount="0" />
    <Enumerations amount="1">
      <Enumeration lines="5">
        <Lines>
          <Line>1) Start a workbench with the org.eclipse.ui.examples.job plugin installed.</Line>
          <Line>2) Open the Job Factory and Progress View</Line>
          <Line>3) Change the progress view preference to show sleeping and system jobs</Line>
          <Line>4) In the job factory, set Duration to "1 second", reschedule delay to "30000", and select "reschedule" and "system job"</Line>
          <Line>5) Click "Create jobs"</Line>
        </Lines>
      </Enumeration>
    </Enumerations>
    <bug_status amount="NEW" />
    <resolution amount="" />
    <WithStack>Build: I20050927-0800

If you turn on the preference to show system jobs in the progress view, then
many system jobs stick around after completion, even though they don't specify
the KEEP property.  For example, I will attach a screen shot showing that the
job that updates the progress view is staying in the view after it completes.
Created attachment 27559
System jobs staying in progress view
The update progess job will always be there looking at system jobs. You need to remove completed tasks for the other one
I have to reopen this one... It's still easy to reproduce, and "Remove All Finished Operations" does *not* remove completed system jobs from the view.  Also, since these jobs don't use KEEP the user shouldn't need to remove them from the view manually.
*** Bug 139155 has been marked as a duplicate of this bug. ***
I've already duped at least 2 defects in WTP to this problem; since I don't see the other dups here I think there is another bug open for this as well.

This probem still exists in 3.2 and we see it fairly frequently in WTP. Is there anything we can do to help resolve it (traces?), and otherwise is there anything that we can do to try to avoid this behaviour with our jobs?
Tim is this just happening with System Jobs for you?
There may be other cases, but here is the one I can reproduce easily:

1) Start a workbench with the org.eclipse.ui.examples.job plugin installed.
2) Open the Job Factory and Progress View
3) Change the progress view preference to show sleeping and system jobs
4) In the job factory, set Duration to "1 second", reschedule delay to "30000", and select "reschedule" and "system job"
5) Click "Create jobs"

-&gt; When the job finishes, you see an entry that looks like this:

Test Job (finished)
OK

If you click "Remove all finished operations" it does not go away, despite the fact that it says "finished" in the view.  However, this case is subtle. The job should still be in the view, because it is now in the "sleeping" state.  However, the title needs to be changed from "Finished" to "sleeping" to accurately reflect the state of the job.


John see Bug 113400 for your issue
We should only show the jobs to update animations and progress when a debug option is set in the .options file. It is not usueful information for people debugging thier own system jobs
I don't think my issue is bug 113400.  The problem I describe in comment #0 and comment #7 is that if the job changes from the "finished" to "sleeping" state, then the job still says "finished". I just used the "updating progress" job as an example, but the same problem occurs for any system job.
Sorry John I meant 139254.
Ok, that makes sense.  Changing the title back to what you had set it to.
I just debugged one instance of this problem in WTP and think I know what is going on. In WTP, they call IProgressMonitor.isCanceled (ProgressManager$JobMonitor.isCanceled, to be more specific) *after* the job has finished and has been removed from ProgressManager.jobs map. JobMonitor.isCanceled, however, calls into getJobInfo(Job) which adds the job back to the jobs map. I have steps to reproduce this problem 100% in WTP if you are interested.
(In reply to comment #13)
&gt; I have steps to reproduce this problem 100% in WTP if you
&gt; are interested.
&gt; 

Yes, Igor, we are interested! :) If you are saying WTP is "doing it wrong", please open a bug in WTP .. if you are saying the runtime should handle better :) then feel free to just explain here. 



I(In reply to comment #14)
&gt; Yes, Igor, we are interested! :) If you are saying WTP is "doing it wrong",
&gt; please open a bug in WTP .. if you are saying the runtime should handle better
&gt; :) then feel free to just explain here. 
&gt; 

Can I do both? :-) I've opened bug 140471 for WTP specific problems but at the same time I think platform can do better too -- methods of ProgressManager$JobMonitor should not add finished jobs back to the jobs map.

Ditto to Igor's comments. There is a bug (unnecessary code) in WTP and that's what appears to be caussing our particular case of this problem. We'll fix it, but the other fix should be in the platform to avoid issues like comment #13, since I've heard this problem in other cases as well.
Igor, can you enter a new bug report against Platform UI for the issue you are describing?  This bug report was capturing two many unrelated issues, and is now focused on not showing progress for the job that updates the progress view.
I have created bug 149857 for the problem mentioned in comment 13.
As per http://wiki.eclipse.org/Platform_UI/Bug_Triage_Change_2009</WithStack>
    <WithOutStack>Build: I20050927-0800

If you turn on the preference to show system jobs in the progress view, then
many system jobs stick around after completion, even though they don't specify
the KEEP property.  For example, I will attach a screen shot showing that the
job that updates the progress view is staying in the view after it completes.
Created attachment 27559
System jobs staying in progress view
The update progess job will always be there looking at system jobs. You need to remove completed tasks for the other one
I have to reopen this one... It's still easy to reproduce, and "Remove All Finished Operations" does *not* remove completed system jobs from the view.  Also, since these jobs don't use KEEP the user shouldn't need to remove them from the view manually.
*** Bug 139155 has been marked as a duplicate of this bug. ***
I've already duped at least 2 defects in WTP to this problem; since I don't see the other dups here I think there is another bug open for this as well.

This probem still exists in 3.2 and we see it fairly frequently in WTP. Is there anything we can do to help resolve it (traces?), and otherwise is there anything that we can do to try to avoid this behaviour with our jobs?
Tim is this just happening with System Jobs for you?
There may be other cases, but here is the one I can reproduce easily:

1) Start a workbench with the org.eclipse.ui.examples.job plugin installed.
2) Open the Job Factory and Progress View
3) Change the progress view preference to show sleeping and system jobs
4) In the job factory, set Duration to "1 second", reschedule delay to "30000", and select "reschedule" and "system job"
5) Click "Create jobs"

-&gt; When the job finishes, you see an entry that looks like this:

Test Job (finished)
OK

If you click "Remove all finished operations" it does not go away, despite the fact that it says "finished" in the view.  However, this case is subtle. The job should still be in the view, because it is now in the "sleeping" state.  However, the title needs to be changed from "Finished" to "sleeping" to accurately reflect the state of the job.


John see Bug 113400 for your issue
We should only show the jobs to update animations and progress when a debug option is set in the .options file. It is not usueful information for people debugging thier own system jobs
I don't think my issue is bug 113400.  The problem I describe in comment #0 and comment #7 is that if the job changes from the "finished" to "sleeping" state, then the job still says "finished". I just used the "updating progress" job as an example, but the same problem occurs for any system job.
Sorry John I meant 139254.
Ok, that makes sense.  Changing the title back to what you had set it to.
I just debugged one instance of this problem in WTP and think I know what is going on. In WTP, they call IProgressMonitor.isCanceled (ProgressManager$JobMonitor.isCanceled, to be more specific) *after* the job has finished and has been removed from ProgressManager.jobs map. JobMonitor.isCanceled, however, calls into getJobInfo(Job) which adds the job back to the jobs map. I have steps to reproduce this problem 100% in WTP if you are interested.
(In reply to comment #13)
&gt; I have steps to reproduce this problem 100% in WTP if you
&gt; are interested.
&gt; 

Yes, Igor, we are interested! :) If you are saying WTP is "doing it wrong", please open a bug in WTP .. if you are saying the runtime should handle better :) then feel free to just explain here. 



I(In reply to comment #14)
&gt; Yes, Igor, we are interested! :) If you are saying WTP is "doing it wrong",
&gt; please open a bug in WTP .. if you are saying the runtime should handle better
&gt; :) then feel free to just explain here. 
&gt; 

Can I do both? :-) I've opened bug 140471 for WTP specific problems but at the same time I think platform can do better too -- methods of ProgressManager$JobMonitor should not add finished jobs back to the jobs map.

Ditto to Igor's comments. There is a bug (unnecessary code) in WTP and that's what appears to be caussing our particular case of this problem. We'll fix it, but the other fix should be in the platform to avoid issues like comment #13, since I've heard this problem in other cases as well.
Igor, can you enter a new bug report against Platform UI for the issue you are describing?  This bug report was capturing two many unrelated issues, and is now focused on not showing progress for the job that updates the progress view.
I have created bug 149857 for the problem mentioned in comment 13.
As per http://wiki.eclipse.org/Platform_UI/Bug_Triage_Change_2009</WithOutStack>
  </Bug>
  <Bug>
    <BugId amount="110806" />
    <CreationDate amount="2005-09-27 10:25:00 -0400" />
    <DupId amount="109118" />
    <classification amount="Eclipse" />
    <Product amount="JDT" />
    <component amount="Core" />
    <Version amount="3.2" />
    <rep_platform amount="PC" />
    <op_sys amount="Windows XP" />
    <priority amount="P3" />
    <bug_severity amount="normal" />
    <Summery>[1.5] Compiler gives wrong type mismatch errors for assignments with inner type of generic type</Summery>
    <Patches amount="0" />
    <Stacktraces amount="0" />
    <SourceCodeRegions amount="6">
      <source_code type="package">
        <location start="294" end="311" />
        <code>package generics;</code>
      </source_code>
      <source_code type="class">
        <location start="313" end="369" />
        <code>public class NodeList&lt;E&gt; {
    public class Cursor { }
}</code>
      </source_code>
      <source_code type="package">
        <location start="450" end="472" />
        <code>package generics.user;</code>
      </source_code>
      <source_code type="import">
        <location start="473" end="499" />
        <code>import generics.NodeList;</code>
      </source_code>
      <source_code type="import">
        <location start="500" end="532" />
        <code>import generics.NodeList.Cursor;</code>
      </source_code>
      <source_code type="class">
        <location start="534" end="963" />
        <code>class User {
    Cursor raw;
    NodeList.Cursor rawQualified;
    NodeList&lt;String&gt;.Cursor parameterized;

    void foo() {
        parameterized= rawQualified; //unchecked warning (OK)
        rawQualified= parameterized;

        parameterized= raw; //should just give unchecked warning, but errors
        raw= parameterized; //should not error

        raw= rawQualified; //should not error
        rawQualified= raw;
    }
}</code>
      </source_code>
    </SourceCodeRegions>
    <Enumerations amount="0" />
    <bug_status amount="VERIFIED" />
    <resolution amount="DUPLICATE" />
    <WithStack>I20050923-1000

See comments inlined. The problem is probably that the type binding for Cursor
in "Cursor raw;" is wrong: its declaring type is the generic type NodeList&lt;E&gt;,
but I would expect a raw type NodeList.

-----------------------------------------------------------------------------

package generics;

public class NodeList&lt;E&gt; {
    public class Cursor { }
}

-----------------------------------------------------------------------------

package generics.user;

import generics.NodeList;
import generics.NodeList.Cursor;

class User {
    Cursor raw;
    NodeList.Cursor rawQualified;
    NodeList&lt;String&gt;.Cursor parameterized;

    void foo() {
        parameterized= rawQualified; //unchecked warning (OK)
        rawQualified= parameterized;

        parameterized= raw; //should just give unchecked warning, but errors
        raw= parameterized; //should not error

        raw= rawQualified; //should not error
        rawQualified= raw;
    }
}
Dup of bug 109118. Type import did not perform raw conversion as it should have,
hence various issues.

Added GenericTypeTest#test840.

*** This bug has been marked as a duplicate of 109118 ***
Verified in M20060109-0800 for 3.1.2</WithStack>
    <WithOutStack>I20050923-1000

See comments inlined. The problem is probably that the type binding for Cursor
in "Cursor raw;" is wrong: its declaring type is the generic type NodeList&lt;E&gt;,
but I would expect a raw type NodeList.

-----------------------------------------------------------------------------

package generics;

public class NodeList&lt;E&gt; {
    public class Cursor { }
}

-----------------------------------------------------------------------------

package generics.user;

import generics.NodeList;
import generics.NodeList.Cursor;

class User {
    Cursor raw;
    NodeList.Cursor rawQualified;
    NodeList&lt;String&gt;.Cursor parameterized;

    void foo() {
        parameterized= rawQualified; //unchecked warning (OK)
        rawQualified= parameterized;

        parameterized= raw; //should just give unchecked warning, but errors
        raw= parameterized; //should not error

        raw= rawQualified; //should not error
        rawQualified= raw;
    }
}
Dup of bug 109118. Type import did not perform raw conversion as it should have,
hence various issues.

Added GenericTypeTest#test840.

*** This bug has been marked as a duplicate of 109118 ***
Verified in M20060109-0800 for 3.1.2</WithOutStack>
  </Bug>
  <Bug>
    <BugId amount="110807" />
    <CreationDate amount="2005-09-27 10:44:00 -0400" />
    <DupId amount="" />
    <classification amount="Eclipse" />
    <Product amount="JDT" />
    <component amount="Core" />
    <Version amount="3.2" />
    <rep_platform amount="PC" />
    <op_sys amount="Windows XP" />
    <priority amount="P3" />
    <bug_severity amount="normal" />
    <Summery>Need way to access compilation errors from Compiler</Summery>
    <Patches amount="0" />
    <Stacktraces amount="0" />
    <SourceCodeRegions amount="5">
      <source_code type="package">
        <location start="3485" end="3527" />
        <code>package org.eclipse.jdt.internal.compiler;</code>
      </source_code>
      <source_code type="import">
        <location start="3528" end="3552" />
        <code>import java.util.Locale;</code>
      </source_code>
      <source_code type="import">
        <location start="3553" end="3592" />
        <code>import org.eclipse.jdt.core.compiler.*;</code>
      </source_code>
      <source_code type="functioncall">
        <location start="3887" end="3907" />
        <code>Locale getLocale();</code>
      </source_code>
      <source_code type="functioncall">
        <location start="3908" end="3978" />
        <code>String getLocalizedMessage(int problemId, String[] messageArguments);</code>
      </source_code>
    </SourceCodeRegions>
    <Enumerations amount="0" />
    <bug_status amount="RESOLVED" />
    <resolution amount="WONTFIX" />
    <WithStack>I have a need to populate the Problems view with markers corresponding to
compiler errors from a .java file. I currently do this as follows:

org.eclipse.jdt.internal.compiler.Compiler cmp = new Compiler(...)
cmp.compile(...)
addErrorsToProblemsView(errorsReturnedViaCmp)

The problem with this technique is that it requires the use of several internal
classes, namely:

org.eclipse.jdt.internal.compiler.Compiler  - needed to compile Java files and
get the results (errors/warnings) back.  

Using the constructor requires the use of: 
org.eclipse.jdt.internal.compiler.IErrorHandlingPolicy;   - for the default
error policy

org.eclipse.jdt.internal.compiler.impl.CompilerOptions;  - for set compiler options 

org.eclipse.jdt.internal.compiler.ICompilerRequestor;  - to collect the compiler
warnings/errors

org.eclipse.jdt.internal.compiler.CompilationResult;  - the results for the
ICompilerRequestor

org.eclipse.jdt.internal.core.builder.ProblemFactory;  - to get the
ProblemFactory for the default locale

org.eclipse.jdt.internal.compiler.DefaultErrorHandlingPolicies;  - to seed the
error policy with DefaultErrorHandlingPolicies.proceedWithAllProblems(); 
 
and one other internal is needed:   
org.eclipse.jdt.internal.compiler.env.ICompilationUnit;   - to create
compilation units to pass into Compiler.compile

I need a non-internal technique of accomplishing this task, or need some public
API to accomplish the same thing.
Building Java file is exactly doing this. What exactly are you trying to
accomplish ?
This functionality is part of a JSP Validation feature. The JSP is converted
into a .java file, which is then compiled using the internal JDT compiler. If
there are any compiler errors in the generated .java file, we report them in the
problems view.

This .java file is generated to a location outside of the Eclipse JavaSource
folder, so it is not picked up by the standard build.
Are you intending to put the markers onto the generated Java file or on the
original JSP file ?
This feature is no longer needed, I have spoken with members of the WTP team,
and they will supply what we need.

Please close out this bug.

Thank you.
Closing as WONTFIX since it is not needed anymore.
Thanks for confirming.
FYI, here is a note I just posted on jdt-dev-core mailing list, pls respond there.
============================
If you are NOT using compiler internal API IProblemFactory, then you may ignore this note.

The current definition of IProblemFactory says that #createProblem(...) is answering 
org.eclipse.jdt.core.compiler.IProblem.
We would like to change this into org.eclipse.jdt.core.compiler.CategorizedProblem

CategorizedProblem is an extension of IProblem introduced in 3.2, which offers possibility
to categorize problems better and have participant issue their own problems in a non
colliding fashion (i.e. no longer need to worry about colliding problem IDs).

Since IProblemFactory is not public API, this is not a breaking change; but they are a few
users of our batch compiler technology out there, and we would like them to speak up if
they want to veto this change. 

If we do not perform the change, then we internally need to swallow arbitrary IProblem
and CategorizedProblem, which is causing unnecessary pain.

NOTE: if you are simply using: org.eclipse.jdt.internal.compiler.problem.DefaultProblemFactory
then no change is required, since it will get leveraged for free.

This is what IProblemFactory would look like after the change:

package org.eclipse.jdt.internal.compiler;
import java.util.Locale;
import org.eclipse.jdt.core.compiler.*;
public interface IProblemFactory {
	CategorizedProblem createProblem(
		char[] originatingFileName,
		int problemId,
		String[] problemArguments,
		String[] messageArguments, // shorter versions of the problemArguments
		int severity,
		int startPosition,
		int endPosition,
		int lineNumber);
	Locale getLocale();
	String getLocalizedMessage(int problemId, String[] messageArguments);</WithStack>
    <WithOutStack>I have a need to populate the Problems view with markers corresponding to
compiler errors from a .java file. I currently do this as follows:

org.eclipse.jdt.internal.compiler.Compiler cmp = new Compiler(...)
cmp.compile(...)
addErrorsToProblemsView(errorsReturnedViaCmp)

The problem with this technique is that it requires the use of several internal
classes, namely:

org.eclipse.jdt.internal.compiler.Compiler  - needed to compile Java files and
get the results (errors/warnings) back.  

Using the constructor requires the use of: 
org.eclipse.jdt.internal.compiler.IErrorHandlingPolicy;   - for the default
error policy

org.eclipse.jdt.internal.compiler.impl.CompilerOptions;  - for set compiler options 

org.eclipse.jdt.internal.compiler.ICompilerRequestor;  - to collect the compiler
warnings/errors

org.eclipse.jdt.internal.compiler.CompilationResult;  - the results for the
ICompilerRequestor

org.eclipse.jdt.internal.core.builder.ProblemFactory;  - to get the
ProblemFactory for the default locale

org.eclipse.jdt.internal.compiler.DefaultErrorHandlingPolicies;  - to seed the
error policy with DefaultErrorHandlingPolicies.proceedWithAllProblems(); 
 
and one other internal is needed:   
org.eclipse.jdt.internal.compiler.env.ICompilationUnit;   - to create
compilation units to pass into Compiler.compile

I need a non-internal technique of accomplishing this task, or need some public
API to accomplish the same thing.
Building Java file is exactly doing this. What exactly are you trying to
accomplish ?
This functionality is part of a JSP Validation feature. The JSP is converted
into a .java file, which is then compiled using the internal JDT compiler. If
there are any compiler errors in the generated .java file, we report them in the
problems view.

This .java file is generated to a location outside of the Eclipse JavaSource
folder, so it is not picked up by the standard build.
Are you intending to put the markers onto the generated Java file or on the
original JSP file ?
This feature is no longer needed, I have spoken with members of the WTP team,
and they will supply what we need.

Please close out this bug.

Thank you.
Closing as WONTFIX since it is not needed anymore.
Thanks for confirming.
FYI, here is a note I just posted on jdt-dev-core mailing list, pls respond there.
============================
If you are NOT using compiler internal API IProblemFactory, then you may ignore this note.

The current definition of IProblemFactory says that #createProblem(...) is answering 
org.eclipse.jdt.core.compiler.IProblem.
We would like to change this into org.eclipse.jdt.core.compiler.CategorizedProblem

CategorizedProblem is an extension of IProblem introduced in 3.2, which offers possibility
to categorize problems better and have participant issue their own problems in a non
colliding fashion (i.e. no longer need to worry about colliding problem IDs).

Since IProblemFactory is not public API, this is not a breaking change; but they are a few
users of our batch compiler technology out there, and we would like them to speak up if
they want to veto this change. 

If we do not perform the change, then we internally need to swallow arbitrary IProblem
and CategorizedProblem, which is causing unnecessary pain.

NOTE: if you are simply using: org.eclipse.jdt.internal.compiler.problem.DefaultProblemFactory
then no change is required, since it will get leveraged for free.

This is what IProblemFactory would look like after the change:

package org.eclipse.jdt.internal.compiler;
import java.util.Locale;
import org.eclipse.jdt.core.compiler.*;
public interface IProblemFactory {
	CategorizedProblem createProblem(
		char[] originatingFileName,
		int problemId,
		String[] problemArguments,
		String[] messageArguments, // shorter versions of the problemArguments
		int severity,
		int startPosition,
		int endPosition,
		int lineNumber);
	Locale getLocale();
	String getLocalizedMessage(int problemId, String[] messageArguments);</WithOutStack>
  </Bug>
  <Bug>
    <BugId amount="110808" />
    <CreationDate amount="2005-09-27 10:46:00 -0400" />
    <DupId amount="" />
    <classification amount="Eclipse" />
    <Product amount="JDT" />
    <component amount="UI" />
    <Version amount="3.1" />
    <rep_platform amount="PC" />
    <op_sys amount="Windows XP" />
    <priority amount="P3" />
    <bug_severity amount="normal" />
    <Summery>JUnit reports EXCEPTION_ACCESS_VIOLATION upon completion</Summery>
    <Patches amount="0" />
    <Stacktraces amount="0" />
    <SourceCodeRegions amount="0" />
    <Enumerations amount="1">
      <Enumeration lines="9">
        <Lines>
          <Line>- locked &lt;0x1052f270&gt; (a java.io.InputStreamReader)</Line>
          <Line>at java.io.InputStreamReader.read(InputStreamReader.java:167)</Line>
          <Line>at java.io.BufferedReader.fill(BufferedReader.java:136)</Line>
          <Line>at java.io.BufferedReader.readLine(BufferedReader.java:299)</Line>
          <Line>- locked &lt;0x1052f270&gt; (a java.io.InputStreamReader)</Line>
          <Line>at java.io.BufferedReader.readLine(BufferedReader.java:362)</Line>
          <Line>at</Line>
          <Line>org.eclipse.jdt.internal.junit.runner.RemoteTestRunner$ReaderThread.run</Line>
          <Line>(RemoteTestRunner.java:149)</Line>
        </Lines>
      </Enumeration>
    </Enumerations>
    <bug_status amount="RESOLVED" />
    <resolution amount="INVALID" />
    <WithStack>When a Junit test case completes (successfully or unsuccessfully), the 
attached error is reported about 40% of the time.  It seems to occur at random 
and irrespective of what the test is doing.

-----------------------------------------------------------------------------

An unexpected exception has been detected in native code outside the VM.
Unexpected Signal : EXCEPTION_ACCESS_VIOLATION (0xc0000005) occurred at 
PC=0x7C918FEA
Function=RtlpWaitForCriticalSection+0x5B
Library=C:\WINDOWS\system32\ntdll.dll

Current Java thread:
	at java.net.SocketInputStream.socketRead0(Native Method)
	at java.net.SocketInputStream.read(SocketInputStream.java:129)
	at sun.nio.cs.StreamDecoder$CharsetSD.readBytes(StreamDecoder.java:408)
	at sun.nio.cs.StreamDecoder$CharsetSD.implRead(StreamDecoder.java:450)
	at sun.nio.cs.StreamDecoder.read(StreamDecoder.java:182)
	- locked &lt;0x1052f270&gt; (a java.io.InputStreamReader)
	at java.io.InputStreamReader.read(InputStreamReader.java:167)
	at java.io.BufferedReader.fill(BufferedReader.java:136)
	at java.io.BufferedReader.readLine(BufferedReader.java:299)
	- locked &lt;0x1052f270&gt; (a java.io.InputStreamReader)
	at java.io.BufferedReader.readLine(BufferedReader.java:362)
	at 
org.eclipse.jdt.internal.junit.runner.RemoteTestRunner$ReaderThread.run
(RemoteTestRunner.java:149)

Dynamic libraries:
0x00400000 - 0x0040B000 	C:\j2sdk1.4.2_08\bin\javaw.exe
0x7C900000 - 0x7C9B0000 	C:\WINDOWS\system32\ntdll.dll
0x7C800000 - 0x7C8F4000 	C:\WINDOWS\system32\kernel32.dll
0x77DD0000 - 0x77E6B000 	C:\WINDOWS\system32\ADVAPI32.dll
0x77E70000 - 0x77F01000 	C:\WINDOWS\system32\RPCRT4.dll
0x77D40000 - 0x77DD0000 	C:\WINDOWS\system32\USER32.dll
0x77F10000 - 0x77F56000 	C:\WINDOWS\system32\GDI32.dll
0x77C10000 - 0x77C68000 	C:\WINDOWS\system32\MSVCRT.dll
0x76390000 - 0x763AD000 	C:\WINDOWS\system32\IMM32.DLL
0x629C0000 - 0x629C9000 	C:\WINDOWS\system32\LPK.DLL
0x74D90000 - 0x74DFB000 	C:\WINDOWS\system32\USP10.dll
0x08000000 - 0x08138000 	C:\j2sdk1.4.2_08\jre\bin\client\jvm.dll
0x76B40000 - 0x76B6D000 	C:\WINDOWS\system32\WINMM.dll
0x10000000 - 0x10007000 	C:\j2sdk1.4.2_08\jre\bin\hpi.dll
0x00940000 - 0x0094E000 	C:\j2sdk1.4.2_08\jre\bin\verify.dll
0x00950000 - 0x00969000 	C:\j2sdk1.4.2_08\jre\bin\java.dll
0x00970000 - 0x0097E000 	C:\j2sdk1.4.2_08\jre\bin\zip.dll
0x00A50000 - 0x00A5F000 	C:\j2sdk1.4.2_08\jre\bin\net.dll
0x71AB0000 - 0x71AC7000 	C:\WINDOWS\system32\WS2_32.dll
0x71AA0000 - 0x71AA8000 	C:\WINDOWS\system32\WS2HELP.dll
0x20B00000 - 0x20B45000 	C:\WINDOWS\system32\imon.dll
0x71AD0000 - 0x71AD9000 	C:\WINDOWS\system32\WSOCK32.dll
0x77690000 - 0x776B1000 	C:\WINDOWS\system32\NTMARTA.DLL
0x76F60000 - 0x76F8C000 	C:\WINDOWS\system32\WLDAP32.dll
0x774E0000 - 0x7761D000 	C:\WINDOWS\system32\ole32.dll
0x71BF0000 - 0x71C03000 	C:\WINDOWS\system32\SAMLIB.dll
0x71A50000 - 0x71A8F000 	C:\WINDOWS\system32\mswsock.dll
0x662B0000 - 0x66308000 	C:\WINDOWS\system32\hnetcfg.dll
0x71A90000 - 0x71A98000 	C:\WINDOWS\System32\wshtcpip.dll
0x76F20000 - 0x76F47000 	C:\WINDOWS\system32\DNSAPI.dll
0x76FB0000 - 0x76FB8000 	C:\WINDOWS\System32\winrnr.dll
0x76FC0000 - 0x76FC6000 	C:\WINDOWS\system32\rasadhlp.dll
0x76C90000 - 0x76CB8000 	C:\WINDOWS\system32\imagehlp.dll
0x59A60000 - 0x59B01000 	C:\WINDOWS\system32\DBGHELP.dll
0x77C00000 - 0x77C08000 	C:\WINDOWS\system32\VERSION.dll
0x76BF0000 - 0x76BFB000 	C:\WINDOWS\system32\PSAPI.DLL

Heap at VM Abort:
Heap
 def new generation   total 576K, used 522K [0x10010000, 0x100b0000, 
0x104f0000)
  eden space 512K,  99% used [0x10010000, 0x1008f978, 0x10090000)
  from space 64K,  18% used [0x100a0000, 0x100a2fb8, 0x100b0000)
  to   space 64K,   0% used [0x10090000, 0x10090000, 0x100a0000)
 tenured generation   total 1408K, used 735K [0x104f0000, 0x10650000, 
0x14010000)
   the space 1408K,  52% used [0x104f0000, 0x105a7d30, 0x105a7e00, 0x10650000)
 compacting perm gen  total 4096K, used 3574K [0x14010000, 0x14410000, 
0x18010000)
   the space 4096K,  87% used [0x14010000, 0x1438dba0, 0x1438dc00, 0x14410000)

Local Time = Thu Sep 08 16:37:24 2005
Elapsed Time = 1
#
# The exception above was detected in native code outside the VM
#
# Java VM: Java HotSpot(TM) Client VM (1.4.2_08-b03 mixed mode)
#
i am experiencing the same problem

eclipse version:
eclipse.buildId=I20060217-1115
java.version=1.5.0_06
java.vendor=Sun Microsystems Inc.
BootLoader constants: OS=win32, ARCH=x86, WS=win32, NL=de_DE
Command-line arguments:  -os win32 -ws win32 -arch x86

i'll attach the crashfile, please note that the test is run inside a 1.4.2 vm while eclipse is running in a 5.0


Created attachment 36813
jvm crashlog
Moving to JUI, owner of JUnit component.
This is a bug in your VM. There's nothing Eclipse can do against this. Please try with the latest JDK, or send a bug to Sun.
[If your system is generally a bit unstable, this could also be due to bad RAM.]</WithStack>
    <WithOutStack>When a Junit test case completes (successfully or unsuccessfully), the 
attached error is reported about 40% of the time.  It seems to occur at random 
and irrespective of what the test is doing.

-----------------------------------------------------------------------------

An unexpected exception has been detected in native code outside the VM.
Unexpected Signal : EXCEPTION_ACCESS_VIOLATION (0xc0000005) occurred at 
PC=0x7C918FEA
Function=RtlpWaitForCriticalSection+0x5B
Library=C:\WINDOWS\system32\ntdll.dll

Current Java thread:
	at java.net.SocketInputStream.socketRead0(Native Method)
	at java.net.SocketInputStream.read(SocketInputStream.java:129)
	at sun.nio.cs.StreamDecoder$CharsetSD.readBytes(StreamDecoder.java:408)
	at sun.nio.cs.StreamDecoder$CharsetSD.implRead(StreamDecoder.java:450)
	at sun.nio.cs.StreamDecoder.read(StreamDecoder.java:182)
	- locked &lt;0x1052f270&gt; (a java.io.InputStreamReader)
	at java.io.InputStreamReader.read(InputStreamReader.java:167)
	at java.io.BufferedReader.fill(BufferedReader.java:136)
	at java.io.BufferedReader.readLine(BufferedReader.java:299)
	- locked &lt;0x1052f270&gt; (a java.io.InputStreamReader)
	at java.io.BufferedReader.readLine(BufferedReader.java:362)
	at 
org.eclipse.jdt.internal.junit.runner.RemoteTestRunner$ReaderThread.run
(RemoteTestRunner.java:149)

Dynamic libraries:
0x00400000 - 0x0040B000 	C:\j2sdk1.4.2_08\bin\javaw.exe
0x7C900000 - 0x7C9B0000 	C:\WINDOWS\system32\ntdll.dll
0x7C800000 - 0x7C8F4000 	C:\WINDOWS\system32\kernel32.dll
0x77DD0000 - 0x77E6B000 	C:\WINDOWS\system32\ADVAPI32.dll
0x77E70000 - 0x77F01000 	C:\WINDOWS\system32\RPCRT4.dll
0x77D40000 - 0x77DD0000 	C:\WINDOWS\system32\USER32.dll
0x77F10000 - 0x77F56000 	C:\WINDOWS\system32\GDI32.dll
0x77C10000 - 0x77C68000 	C:\WINDOWS\system32\MSVCRT.dll
0x76390000 - 0x763AD000 	C:\WINDOWS\system32\IMM32.DLL
0x629C0000 - 0x629C9000 	C:\WINDOWS\system32\LPK.DLL
0x74D90000 - 0x74DFB000 	C:\WINDOWS\system32\USP10.dll
0x08000000 - 0x08138000 	C:\j2sdk1.4.2_08\jre\bin\client\jvm.dll
0x76B40000 - 0x76B6D000 	C:\WINDOWS\system32\WINMM.dll
0x10000000 - 0x10007000 	C:\j2sdk1.4.2_08\jre\bin\hpi.dll
0x00940000 - 0x0094E000 	C:\j2sdk1.4.2_08\jre\bin\verify.dll
0x00950000 - 0x00969000 	C:\j2sdk1.4.2_08\jre\bin\java.dll
0x00970000 - 0x0097E000 	C:\j2sdk1.4.2_08\jre\bin\zip.dll
0x00A50000 - 0x00A5F000 	C:\j2sdk1.4.2_08\jre\bin\net.dll
0x71AB0000 - 0x71AC7000 	C:\WINDOWS\system32\WS2_32.dll
0x71AA0000 - 0x71AA8000 	C:\WINDOWS\system32\WS2HELP.dll
0x20B00000 - 0x20B45000 	C:\WINDOWS\system32\imon.dll
0x71AD0000 - 0x71AD9000 	C:\WINDOWS\system32\WSOCK32.dll
0x77690000 - 0x776B1000 	C:\WINDOWS\system32\NTMARTA.DLL
0x76F60000 - 0x76F8C000 	C:\WINDOWS\system32\WLDAP32.dll
0x774E0000 - 0x7761D000 	C:\WINDOWS\system32\ole32.dll
0x71BF0000 - 0x71C03000 	C:\WINDOWS\system32\SAMLIB.dll
0x71A50000 - 0x71A8F000 	C:\WINDOWS\system32\mswsock.dll
0x662B0000 - 0x66308000 	C:\WINDOWS\system32\hnetcfg.dll
0x71A90000 - 0x71A98000 	C:\WINDOWS\System32\wshtcpip.dll
0x76F20000 - 0x76F47000 	C:\WINDOWS\system32\DNSAPI.dll
0x76FB0000 - 0x76FB8000 	C:\WINDOWS\System32\winrnr.dll
0x76FC0000 - 0x76FC6000 	C:\WINDOWS\system32\rasadhlp.dll
0x76C90000 - 0x76CB8000 	C:\WINDOWS\system32\imagehlp.dll
0x59A60000 - 0x59B01000 	C:\WINDOWS\system32\DBGHELP.dll
0x77C00000 - 0x77C08000 	C:\WINDOWS\system32\VERSION.dll
0x76BF0000 - 0x76BFB000 	C:\WINDOWS\system32\PSAPI.DLL

Heap at VM Abort:
Heap
 def new generation   total 576K, used 522K [0x10010000, 0x100b0000, 
0x104f0000)
  eden space 512K,  99% used [0x10010000, 0x1008f978, 0x10090000)
  from space 64K,  18% used [0x100a0000, 0x100a2fb8, 0x100b0000)
  to   space 64K,   0% used [0x10090000, 0x10090000, 0x100a0000)
 tenured generation   total 1408K, used 735K [0x104f0000, 0x10650000, 
0x14010000)
   the space 1408K,  52% used [0x104f0000, 0x105a7d30, 0x105a7e00, 0x10650000)
 compacting perm gen  total 4096K, used 3574K [0x14010000, 0x14410000, 
0x18010000)
   the space 4096K,  87% used [0x14010000, 0x1438dba0, 0x1438dc00, 0x14410000)

Local Time = Thu Sep 08 16:37:24 2005
Elapsed Time = 1
#
# The exception above was detected in native code outside the VM
#
# Java VM: Java HotSpot(TM) Client VM (1.4.2_08-b03 mixed mode)
#
i am experiencing the same problem

eclipse version:
eclipse.buildId=I20060217-1115
java.version=1.5.0_06
java.vendor=Sun Microsystems Inc.
BootLoader constants: OS=win32, ARCH=x86, WS=win32, NL=de_DE
Command-line arguments:  -os win32 -ws win32 -arch x86

i'll attach the crashfile, please note that the test is run inside a 1.4.2 vm while eclipse is running in a 5.0


Created attachment 36813
jvm crashlog
Moving to JUI, owner of JUnit component.
This is a bug in your VM. There's nothing Eclipse can do against this. Please try with the latest JDK, or send a bug to Sun.
[If your system is generally a bit unstable, this could also be due to bad RAM.]</WithOutStack>
  </Bug>
  <Bug>
    <BugId amount="110809" />
    <CreationDate amount="2005-09-27 10:48:00 -0400" />
    <DupId amount="112035" />
    <classification amount="Eclipse" />
    <Product amount="Platform" />
    <component amount="UI" />
    <Version amount="3.1" />
    <rep_platform amount="PC" />
    <op_sys amount="Windows XP" />
    <priority amount="P3" />
    <bug_severity amount="enhancement" />
    <Summery>[Markers] problems view does not update when the current selection is a working set</Summery>
    <Patches amount="0" />
    <Stacktraces amount="0" />
    <SourceCodeRegions amount="0" />
    <Enumerations amount="0" />
    <bug_status amount="RESOLVED" />
    <resolution amount="DUPLICATE" />
    <WithStack>The package explorer can display working sets as the top-most treeitems. I have
the problem view configured to display "selected resource and its children".

When I select a workingset, I would like to see the problems in that "resource".
This would be consistent with the fact that error decorations are displayed on
the working set.

The current workaround is to expand the working set and select the projects
individually.

If this is fixed, should the word "resource" be removed from the filter setting?
Renaming to indicate what we intend to go with working sets.
This bug is not related to working sets being used as filters. It is related to 
the fact that a working set is the current selection, and it gets ignored.


*** This bug has been marked as a duplicate of 112035 ***</WithStack>
    <WithOutStack>The package explorer can display working sets as the top-most treeitems. I have
the problem view configured to display "selected resource and its children".

When I select a workingset, I would like to see the problems in that "resource".
This would be consistent with the fact that error decorations are displayed on
the working set.

The current workaround is to expand the working set and select the projects
individually.

If this is fixed, should the word "resource" be removed from the filter setting?
Renaming to indicate what we intend to go with working sets.
This bug is not related to working sets being used as filters. It is related to 
the fact that a working set is the current selection, and it gets ignored.


*** This bug has been marked as a duplicate of 112035 ***</WithOutStack>
  </Bug>
  <Bug>
    <BugId amount="110810" />
    <CreationDate amount="2005-09-27 10:52:00 -0400" />
    <DupId amount="" />
    <classification amount="Tools" />
    <Product amount="TPTP Testing" />
    <component amount="Test.UI.AutoGUIUI" />
    <Version amount="4.1" />
    <rep_platform amount="PC" />
    <op_sys amount="Windows XP" />
    <priority amount="P3" />
    <bug_severity amount="normal" />
    <Summery>Undesired close workbench part commands</Summery>
    <Patches amount="0" />
    <Stacktraces amount="0" />
    <SourceCodeRegions amount="0" />
    <Enumerations amount="0" />
    <bug_status amount="CLOSED" />
    <resolution amount="WONTFIX" />
    <WithStack>Certain user actions such as changing perspectives can cause close-workbench
commands to be generated.
Make sure that these commands are only generated as a result of a user action .  
This can cause an extra entry in the shell queue and make the MacroCommandShell
to wait indefinitely.
Here's an example of a macro with an undesired close-workbench command:

&lt;macro version="0.1" &gt;
   &lt;shell id="org.eclipse.ui.internal.WorkbenchWindow" return-code="-1"&gt;
      &lt;command type="select" contextId="menus"
widgetId="contribclass/org.eclipse.ui.actions.NewWizardMenu0|0|8"&gt;
         &lt;parent widgetId="file"/&gt;
         &lt;parent widgetId="new"/&gt;
      &lt;/command&gt;
      &lt;shell id="org.eclipse.jface.wizard.WizardDialog" return-code="0"&gt;
         &lt;command type="item-expand"
contextId="wizard-page/newWizardSelectionPage"
widgetId="org.eclipse.swt.widgets.Tree#1" value="true"&gt;
            &lt;item
path="org.eclipse.swt.widgets.TreeItem#{{org.eclipse.hyades.logging.adapter.ui.internal}}-{{1.0}}"/&gt;
         &lt;/command&gt;
         &lt;command type="item-select"
contextId="wizard-page/newWizardSelectionPage"
widgetId="org.eclipse.swt.widgets.Tree#1"&gt;
            &lt;item
path="org.eclipse.swt.widgets.TreeItem#{{org.eclipse.hyades.logging.adapter.ui.internal.presentation.AdaptorModelWizardID}}-{{1.0}}"/&gt;
         &lt;/command&gt;
         &lt;command type="select" contextId="wizard"
widgetId="org.eclipse.swt.widgets.Button#{{15}}-{{1.0}}"/&gt;
         &lt;command type="item-select" contextId="wizard-page/Whatever"
widgetId="org.eclipse.swt.widgets.Tree#1"&gt;
            &lt;item path="org.eclipse.swt.widgets.TreeItem#{{/Simple
Project}}-{{1.0}}"/&gt;
         &lt;/command&gt;
         &lt;command type="focus" contextId="wizard-page/Whatever"
widgetId="org.eclipse.swt.widgets.Tree#1"/&gt;
         &lt;command type="modify" contextId="wizard-page/Whatever"
widgetId="org.eclipse.swt.widgets.Text#2"&gt;
         perspectiveTesterAdapter.adapter
         &lt;/command&gt;
         &lt;command type="select" contextId="wizard"
widgetId="org.eclipse.swt.widgets.Button#{{15}}-{{1.0}}"/&gt;
         &lt;command type="modify" contextId="wizard-page/logPage"
widgetId="org.eclipse.swt.widgets.Text#1"&gt;
         D:\Temp\apache-access.log
         &lt;/command&gt;
         &lt;command type="select" contextId="wizard"
widgetId="org.eclipse.swt.widgets.Button#{{16}}-{{1.0}}"/&gt;
         &lt;shell id="org.eclipse.jface.dialogs.MessageDialogWithToggle"
return-code="2"&gt;
            &lt;command type="select" contextId="shell"
widgetId="org.eclipse.swt.widgets.Button#1" selection="true"/&gt;
            &lt;command type="select" contextId="shell"
widgetId="org.eclipse.swt.widgets.Button#{{2}}-{{1.0}}"/&gt;
         &lt;/shell&gt;
      &lt;/shell&gt;
   &lt;/shell&gt;
   &lt;shell id="org.eclipse.ui.internal.WorkbenchWindow" return-code="-1"&gt;
      &lt;command type="verification"
contextId="view/org.eclipse.ui.views.ResourceNavigator"
location="/org.eclipse.tptp.monitoring.tests/src"
resource="org.eclipse.tptp.auto.profiling.logging.MonitorUIGLARules"
hook="verifyGLAPerspectiveIsOpen:Qorg.eclipse.ui.IViewPart;"/&gt;
      &lt;command type="select" contextId="menus" widgetId="contribid/preferences6|14"&gt;
         &lt;parent widgetId="window"/&gt;
      &lt;/command&gt;
      &lt;shell id="org.eclipse.ui.internal.dialogs.WorkbenchPreferenceDialog"
return-code="1"&gt;
         &lt;command type="item-select" contextId="shell"
widgetId="org.eclipse.swt.widgets.Tree#1"&gt;
            &lt;item
path="org.eclipse.swt.widgets.TreeItem#{{org.eclipse.hyades.trace.ui.internal.preferences.TraceBasePreferencePage}}-{{1.0}}"/&gt;
         &lt;/command&gt;
         &lt;command type="item-expand" contextId="shell"
widgetId="org.eclipse.swt.widgets.Tree#1" value="true"&gt;
            &lt;item
path="org.eclipse.swt.widgets.TreeItem#{{org.eclipse.hyades.trace.ui.internal.preferences.TraceBasePreferencePage}}-{{1.0}}"/&gt;
         &lt;/command&gt;
         &lt;command type="item-select" contextId="shell"
widgetId="org.eclipse.swt.widgets.Tree#1"&gt;
            &lt;item
path="org.eclipse.swt.widgets.TreeItem#{{org.eclipse.hyades.logging.adapter.ui.internal.preferences.AcadEditorPreferencePage}}-{{1.0}}"/&gt;
         &lt;/command&gt;
         &lt;command type="modify" contextId="shell"
widgetId="org.eclipse.swt.widgets.Text#1"&gt;
         10
         &lt;/command&gt;
         &lt;command type="verification"
contextId="shell/org.eclipse.ui.internal.dialogs.WorkbenchPreferenceDialog"
location="/org.eclipse.tptp.monitoring.tests/src"
resource="org.eclipse.tptp.auto.profiling.logging.MonitorUIGLARules"
hook="verifyPreferenceAlwaysOption:Qorg.eclipse.swt.widgets.Shell;"/&gt;
         &lt;command type="wait"/&gt;
         &lt;command type="focus" contextId="shell"
widgetId="org.eclipse.swt.widgets.Text#1"/&gt;
         &lt;command type="wait"/&gt;
         &lt;command type="focus" contextId="shell"
widgetId="org.eclipse.swt.widgets.Text#1"/&gt;
         &lt;command type="select" contextId="shell"
widgetId="org.eclipse.swt.widgets.Button#{{1}}-{{1.0}}"/&gt;
      &lt;/shell&gt;
      &lt;command type="item-select"
contextId="view/org.eclipse.ui.views.ResourceNavigator"
widgetId="org.eclipse.swt.widgets.Tree#{{/}}-{{1.0}}"&gt;
         &lt;item path="org.eclipse.swt.widgets.TreeItem#{{/Simple
Project/perspectiveTesterAdapter.adapter}}-{{1.0}}"/&gt;
      &lt;/command&gt;
      &lt;command type="focus"
contextId="view/org.eclipse.ui.views.ResourceNavigator"
widgetId="org.eclipse.swt.widgets.Tree#{{/}}-{{1.0}}"/&gt;
      &lt;command type="select"
contextId="popup/view/org.eclipse.ui.views.ResourceNavigator/org.eclipse.swt.widgets.Tree#{{/}}-{{1.0}}"
widgetId="contribid/org.eclipse.ui.DeleteResourceAction7"/&gt;
      &lt;shell id="org.eclipse.jface.dialogs.MessageDialog" return-code="0"&gt;
         &lt;command type="select" contextId="shell"
widgetId="org.eclipse.swt.widgets.Button#{{0}}-{{1.0}}"/&gt;
      &lt;/shell&gt;
      &lt;command type="wait"/&gt;
      &lt;shell id="org.eclipse.ui.internal.progress.ProgressMonitorFocusJobDialog"
return-code="0"&gt;
         &lt;command type="close-workbenchpart" contextId="editor"
widgetId="org.eclipse.hyades.logging.adapter.ui.internal.presentation.AdaptorEditorID/perspectiveTesterAdapter.adapter"/&gt;
      &lt;/shell&gt;
      &lt;command type="wait"/&gt;
      &lt;command type="select" contextId="menus"
widgetId="contribclass/org.eclipse.ui.actions.NewWizardMenu0|0|7"&gt;
         &lt;parent widgetId="file"/&gt;
         &lt;parent widgetId="new"/&gt;
      &lt;/command&gt;
      &lt;shell id="org.eclipse.jface.wizard.WizardDialog" return-code="0"&gt;
         &lt;command type="item-select"
contextId="wizard-page/newWizardSelectionPage"
widgetId="org.eclipse.swt.widgets.Tree#1"&gt;
            &lt;item
path="org.eclipse.swt.widgets.TreeItem#{{org.eclipse.hyades.logging.adapter.ui.internal.presentation.AdaptorModelWizardID}}-{{1.0}}"/&gt;
         &lt;/command&gt;
         &lt;command type="focus" contextId="wizard-page/newWizardSelectionPage"
widgetId="org.eclipse.swt.widgets.Tree#1"/&gt;
         &lt;command type="select" contextId="wizard"
widgetId="org.eclipse.swt.widgets.Button#{{15}}-{{1.0}}"/&gt;
         &lt;command type="modify" contextId="wizard-page/Whatever"
widgetId="org.eclipse.swt.widgets.Text#2"&gt;
         perspectiveTesterAdapter.adapter
         &lt;/command&gt;
         &lt;command type="item-select" contextId="wizard-page/Whatever"
widgetId="org.eclipse.swt.widgets.Tree#1"&gt;
            &lt;item path="org.eclipse.swt.widgets.TreeItem#{{/Simple
Project}}-{{1.0}}"/&gt;
         &lt;/command&gt;
         &lt;command type="select" contextId="wizard"
widgetId="org.eclipse.swt.widgets.Button#{{15}}-{{1.0}}"/&gt;
         &lt;command type="modify" contextId="wizard-page/logPage"
widgetId="org.eclipse.swt.widgets.Text#1"&gt;
         D:\Temp\apache-access.log
         &lt;/command&gt;
         &lt;command type="select" contextId="wizard"
widgetId="org.eclipse.swt.widgets.Button#{{16}}-{{1.0}}"/&gt;
         &lt;command type="wait"/&gt;
      &lt;/shell&gt;
      &lt;command type="wait"/&gt;
      &lt;command type="verification"
contextId="view/org.eclipse.ui.views.ResourceNavigator"
location="/org.eclipse.tptp.monitoring.tests/src"
resource="org.eclipse.tptp.auto.profiling.logging.MonitorUIGLARules"
hook="verifyGLAPerspectiveIsOpen:Qorg.eclipse.ui.IViewPart;"/&gt;
      &lt;command type="select" contextId="menus" widgetId="contribid/preferences6|14"&gt;
         &lt;parent widgetId="window"/&gt;
      &lt;/command&gt;
      &lt;shell id="org.eclipse.ui.internal.dialogs.WorkbenchPreferenceDialog"
return-code="0"&gt;
         &lt;command type="item-select" contextId="shell"
widgetId="org.eclipse.swt.widgets.Tree#1"&gt;
            &lt;item
path="org.eclipse.swt.widgets.TreeItem#{{org.eclipse.hyades.trace.ui.internal.preferences.TraceBasePreferencePage}}-{{1.0}}"/&gt;
         &lt;/command&gt;
         &lt;command type="item-expand" contextId="shell"
widgetId="org.eclipse.swt.widgets.Tree#1" value="true"&gt;
            &lt;item
path="org.eclipse.swt.widgets.TreeItem#{{org.eclipse.hyades.trace.ui.internal.preferences.TraceBasePreferencePage}}-{{1.0}}"/&gt;
         &lt;/command&gt;
         &lt;command type="item-select" contextId="shell"
widgetId="org.eclipse.swt.widgets.Tree#1"&gt;
            &lt;item
path="org.eclipse.swt.widgets.TreeItem#{{org.eclipse.hyades.logging.adapter.ui.internal.preferences.AcadEditorPreferencePage}}-{{1.0}}"/&gt;
         &lt;/command&gt;
         &lt;command type="select" contextId="shell"
widgetId="org.eclipse.swt.widgets.Button#4"/&gt;
         &lt;command type="select" contextId="shell"
widgetId="org.eclipse.swt.widgets.Button#{{0}}-{{1.0}}"/&gt;
      &lt;/shell&gt;
      &lt;command type="item-select"
contextId="view/org.eclipse.ui.views.ResourceNavigator"
widgetId="org.eclipse.swt.widgets.Tree#{{/}}-{{1.0}}"&gt;
         &lt;item path="org.eclipse.swt.widgets.TreeItem#{{/Simple
Project/perspectiveTesterAdapter.adapter}}-{{1.0}}"/&gt;
      &lt;/command&gt;
      &lt;command type="focus"
contextId="view/org.eclipse.ui.views.ResourceNavigator"
widgetId="org.eclipse.swt.widgets.Tree#{{/}}-{{1.0}}"/&gt;
      &lt;command type="select"
contextId="popup/view/org.eclipse.ui.views.ResourceNavigator/org.eclipse.swt.widgets.Tree#{{/}}-{{1.0}}"
widgetId="contribid/org.eclipse.ui.DeleteResourceAction7"/&gt;
      &lt;shell id="org.eclipse.jface.dialogs.MessageDialog" return-code="0"&gt;
         &lt;command type="select" contextId="shell"
widgetId="org.eclipse.swt.widgets.Button#{{0}}-{{1.0}}"/&gt;
      &lt;/shell&gt;
      &lt;command type="wait"/&gt;
      &lt;shell id="org.eclipse.ui.internal.progress.ProgressMonitorFocusJobDialog"
return-code="0"&gt;
         &lt;command type="close-workbenchpart" contextId="editor"
widgetId="org.eclipse.hyades.logging.adapter.ui.internal.presentation.AdaptorEditorID/perspectiveTesterAdapter.adapter"/&gt;
      &lt;/shell&gt;
      &lt;command type="wait"/&gt;
   &lt;/shell&gt;
&lt;/macro&gt;
Targeting to 4.2 as per Harm's request
Fix in CVS.
This problem is reproducible if the user closes an editor using the File &gt; Close option.

Not only the file &gt; close option is recorded but also a close-workbench command is  created.

Example of a macro:

&lt;macro version="0.1" &gt;
   &lt;shell id="org.eclipse.ui.internal.WorkbenchWindow" return-code="-1"&gt;
      &lt;command type="select" contextId="menus" 
widgetId="org.eclipse.ui.actions.NewWizardMenu#{{&amp;amp;File-&amp;amp;New&amp;#x9;Alt+Shift+N-P&amp;amp;roject...}}-{{0.8}}{{0|0|0}}-{{0.6}}{{true}}-{{0.1}}{{5}}-{{0.1}}{{first}}-{{0.2}}{{separator}}-{{0.2}}"&gt;
         &lt;parent widgetId="file"/&gt;
         &lt;parent widgetId="new"/&gt;
      &lt;/command&gt;
      &lt;shell id="org.eclipse.jface.wizard.WizardDialog" return-code="0"&gt;
         &lt;command type="item-select" 
contextId="wizard-page/newWizardSelectionPage" 
widgetId="org.eclipse.swt.widgets.Tree#1"&gt;
            &lt;item 
path="org.eclipse.swt.widgets.TreeItem#{{org.eclipse.pde.ui.NewProjectWizard}}-{{1.0}}"/&gt;
         &lt;/command&gt;
         &lt;command type="focus" 
contextId="wizard-page/newWizardSelectionPage" 
widgetId="org.eclipse.swt.widgets.Tree#1"/&gt;
         &lt;command type="select" contextId="wizard" 
widgetId="org.eclipse.swt.widgets.Button#{{15}}-{{1.0}}"/&gt;
         &lt;command type="modify" contextId="wizard-page/main" 
widgetId="org.eclipse.swt.widgets.Text#1"&gt;
         &lt;![CDATA[test]]&gt;
         &lt;/command&gt;
         &lt;command type="select" contextId="wizard" 
widgetId="org.eclipse.swt.widgets.Button#{{15}}-{{1.0}}"/&gt;
         &lt;command type="select" contextId="wizard" 
widgetId="org.eclipse.swt.widgets.Button#{{15}}-{{1.0}}"/&gt;
         &lt;command type="select" contextId="wizard" 
widgetId="org.eclipse.swt.widgets.Button#{{16}}-{{1.0}}"/&gt;
         &lt;shell id="org.eclipse.jface.dialogs.MessageDialogWithToggle" 
return-code="2"&gt;
            &lt;command type="select" contextId="shell" 
widgetId="org.eclipse.swt.widgets.Button#{{2}}-{{1.0}}"/&gt;
         &lt;/shell&gt;
         &lt;command type="wait"/&gt;
      &lt;/shell&gt;
      &lt;command type="wait"/&gt;
      &lt;command type="modify" 
contextId="editor/org.eclipse.pde.ui.manifestEditor/MANIFEST.MF" 
widgetId="org.eclipse.swt.widgets.Text#5"&gt;
      &lt;![CDATA[gdgd]]&gt;
      &lt;/command&gt;
  &lt;command type="wait" time-to-wait="5000"/&gt;
      &lt;command type="select" contextId="menus" 
widgetId="org.eclipse.jface.action.ActionContributionItem#{{&amp;amp;File-&amp;amp;Close&amp;#x9;Ctrl+W}}-{{0.8}}{{0|3}}-{{0.6}}{{false}}-{{0.1}}{{31}}-{{0.1}}{{separator}}-{{0.2}}{{C&amp;amp;lose 
All&amp;#x9;Ctrl+Shift+W}}-{{0.2}}"&gt;
         &lt;parent widgetId="file"/&gt;
      &lt;/command&gt;
   &lt;command type="wait" time-to-wait="5000"/&gt;
      &lt;command type="close-workbenchpart" contextId="editor" 
widgetId="org.eclipse.pde.ui.manifestEditor/MANIFEST.MF"/&gt;
      &lt;shell id="org.eclipse.jface.dialogs.MessageDialog" return-code="1"&gt;
         &lt;command type="select" contextId="shell" 
widgetId="org.eclipse.swt.widgets.Button#{{1}}-{{1.0}}"/&gt;
      &lt;/shell&gt;
   &lt;/shell&gt;
&lt;/macro&gt;

The close-workbenchpart command will not cause a macro failure when the corresponding editor/view is not open.
ACTION: Please verify/close this defect.
Reporter: Please verify and close in preparation for shutting down the TPTP 4.4 release.  Thanks.
Closing by default since not verified/closed by the originator in the 6+ months since being resolved.  

Please reopen if the issue is still present in the latest TPTP release or the
resolution is not correct.</WithStack>
    <WithOutStack>Certain user actions such as changing perspectives can cause close-workbench
commands to be generated.
Make sure that these commands are only generated as a result of a user action .  
This can cause an extra entry in the shell queue and make the MacroCommandShell
to wait indefinitely.
Here's an example of a macro with an undesired close-workbench command:

&lt;macro version="0.1" &gt;
   &lt;shell id="org.eclipse.ui.internal.WorkbenchWindow" return-code="-1"&gt;
      &lt;command type="select" contextId="menus"
widgetId="contribclass/org.eclipse.ui.actions.NewWizardMenu0|0|8"&gt;
         &lt;parent widgetId="file"/&gt;
         &lt;parent widgetId="new"/&gt;
      &lt;/command&gt;
      &lt;shell id="org.eclipse.jface.wizard.WizardDialog" return-code="0"&gt;
         &lt;command type="item-expand"
contextId="wizard-page/newWizardSelectionPage"
widgetId="org.eclipse.swt.widgets.Tree#1" value="true"&gt;
            &lt;item
path="org.eclipse.swt.widgets.TreeItem#{{org.eclipse.hyades.logging.adapter.ui.internal}}-{{1.0}}"/&gt;
         &lt;/command&gt;
         &lt;command type="item-select"
contextId="wizard-page/newWizardSelectionPage"
widgetId="org.eclipse.swt.widgets.Tree#1"&gt;
            &lt;item
path="org.eclipse.swt.widgets.TreeItem#{{org.eclipse.hyades.logging.adapter.ui.internal.presentation.AdaptorModelWizardID}}-{{1.0}}"/&gt;
         &lt;/command&gt;
         &lt;command type="select" contextId="wizard"
widgetId="org.eclipse.swt.widgets.Button#{{15}}-{{1.0}}"/&gt;
         &lt;command type="item-select" contextId="wizard-page/Whatever"
widgetId="org.eclipse.swt.widgets.Tree#1"&gt;
            &lt;item path="org.eclipse.swt.widgets.TreeItem#{{/Simple
Project}}-{{1.0}}"/&gt;
         &lt;/command&gt;
         &lt;command type="focus" contextId="wizard-page/Whatever"
widgetId="org.eclipse.swt.widgets.Tree#1"/&gt;
         &lt;command type="modify" contextId="wizard-page/Whatever"
widgetId="org.eclipse.swt.widgets.Text#2"&gt;
         perspectiveTesterAdapter.adapter
         &lt;/command&gt;
         &lt;command type="select" contextId="wizard"
widgetId="org.eclipse.swt.widgets.Button#{{15}}-{{1.0}}"/&gt;
         &lt;command type="modify" contextId="wizard-page/logPage"
widgetId="org.eclipse.swt.widgets.Text#1"&gt;
         D:\Temp\apache-access.log
         &lt;/command&gt;
         &lt;command type="select" contextId="wizard"
widgetId="org.eclipse.swt.widgets.Button#{{16}}-{{1.0}}"/&gt;
         &lt;shell id="org.eclipse.jface.dialogs.MessageDialogWithToggle"
return-code="2"&gt;
            &lt;command type="select" contextId="shell"
widgetId="org.eclipse.swt.widgets.Button#1" selection="true"/&gt;
            &lt;command type="select" contextId="shell"
widgetId="org.eclipse.swt.widgets.Button#{{2}}-{{1.0}}"/&gt;
         &lt;/shell&gt;
      &lt;/shell&gt;
   &lt;/shell&gt;
   &lt;shell id="org.eclipse.ui.internal.WorkbenchWindow" return-code="-1"&gt;
      &lt;command type="verification"
contextId="view/org.eclipse.ui.views.ResourceNavigator"
location="/org.eclipse.tptp.monitoring.tests/src"
resource="org.eclipse.tptp.auto.profiling.logging.MonitorUIGLARules"
hook="verifyGLAPerspectiveIsOpen:Qorg.eclipse.ui.IViewPart;"/&gt;
      &lt;command type="select" contextId="menus" widgetId="contribid/preferences6|14"&gt;
         &lt;parent widgetId="window"/&gt;
      &lt;/command&gt;
      &lt;shell id="org.eclipse.ui.internal.dialogs.WorkbenchPreferenceDialog"
return-code="1"&gt;
         &lt;command type="item-select" contextId="shell"
widgetId="org.eclipse.swt.widgets.Tree#1"&gt;
            &lt;item
path="org.eclipse.swt.widgets.TreeItem#{{org.eclipse.hyades.trace.ui.internal.preferences.TraceBasePreferencePage}}-{{1.0}}"/&gt;
         &lt;/command&gt;
         &lt;command type="item-expand" contextId="shell"
widgetId="org.eclipse.swt.widgets.Tree#1" value="true"&gt;
            &lt;item
path="org.eclipse.swt.widgets.TreeItem#{{org.eclipse.hyades.trace.ui.internal.preferences.TraceBasePreferencePage}}-{{1.0}}"/&gt;
         &lt;/command&gt;
         &lt;command type="item-select" contextId="shell"
widgetId="org.eclipse.swt.widgets.Tree#1"&gt;
            &lt;item
path="org.eclipse.swt.widgets.TreeItem#{{org.eclipse.hyades.logging.adapter.ui.internal.preferences.AcadEditorPreferencePage}}-{{1.0}}"/&gt;
         &lt;/command&gt;
         &lt;command type="modify" contextId="shell"
widgetId="org.eclipse.swt.widgets.Text#1"&gt;
         10
         &lt;/command&gt;
         &lt;command type="verification"
contextId="shell/org.eclipse.ui.internal.dialogs.WorkbenchPreferenceDialog"
location="/org.eclipse.tptp.monitoring.tests/src"
resource="org.eclipse.tptp.auto.profiling.logging.MonitorUIGLARules"
hook="verifyPreferenceAlwaysOption:Qorg.eclipse.swt.widgets.Shell;"/&gt;
         &lt;command type="wait"/&gt;
         &lt;command type="focus" contextId="shell"
widgetId="org.eclipse.swt.widgets.Text#1"/&gt;
         &lt;command type="wait"/&gt;
         &lt;command type="focus" contextId="shell"
widgetId="org.eclipse.swt.widgets.Text#1"/&gt;
         &lt;command type="select" contextId="shell"
widgetId="org.eclipse.swt.widgets.Button#{{1}}-{{1.0}}"/&gt;
      &lt;/shell&gt;
      &lt;command type="item-select"
contextId="view/org.eclipse.ui.views.ResourceNavigator"
widgetId="org.eclipse.swt.widgets.Tree#{{/}}-{{1.0}}"&gt;
         &lt;item path="org.eclipse.swt.widgets.TreeItem#{{/Simple
Project/perspectiveTesterAdapter.adapter}}-{{1.0}}"/&gt;
      &lt;/command&gt;
      &lt;command type="focus"
contextId="view/org.eclipse.ui.views.ResourceNavigator"
widgetId="org.eclipse.swt.widgets.Tree#{{/}}-{{1.0}}"/&gt;
      &lt;command type="select"
contextId="popup/view/org.eclipse.ui.views.ResourceNavigator/org.eclipse.swt.widgets.Tree#{{/}}-{{1.0}}"
widgetId="contribid/org.eclipse.ui.DeleteResourceAction7"/&gt;
      &lt;shell id="org.eclipse.jface.dialogs.MessageDialog" return-code="0"&gt;
         &lt;command type="select" contextId="shell"
widgetId="org.eclipse.swt.widgets.Button#{{0}}-{{1.0}}"/&gt;
      &lt;/shell&gt;
      &lt;command type="wait"/&gt;
      &lt;shell id="org.eclipse.ui.internal.progress.ProgressMonitorFocusJobDialog"
return-code="0"&gt;
         &lt;command type="close-workbenchpart" contextId="editor"
widgetId="org.eclipse.hyades.logging.adapter.ui.internal.presentation.AdaptorEditorID/perspectiveTesterAdapter.adapter"/&gt;
      &lt;/shell&gt;
      &lt;command type="wait"/&gt;
      &lt;command type="select" contextId="menus"
widgetId="contribclass/org.eclipse.ui.actions.NewWizardMenu0|0|7"&gt;
         &lt;parent widgetId="file"/&gt;
         &lt;parent widgetId="new"/&gt;
      &lt;/command&gt;
      &lt;shell id="org.eclipse.jface.wizard.WizardDialog" return-code="0"&gt;
         &lt;command type="item-select"
contextId="wizard-page/newWizardSelectionPage"
widgetId="org.eclipse.swt.widgets.Tree#1"&gt;
            &lt;item
path="org.eclipse.swt.widgets.TreeItem#{{org.eclipse.hyades.logging.adapter.ui.internal.presentation.AdaptorModelWizardID}}-{{1.0}}"/&gt;
         &lt;/command&gt;
         &lt;command type="focus" contextId="wizard-page/newWizardSelectionPage"
widgetId="org.eclipse.swt.widgets.Tree#1"/&gt;
         &lt;command type="select" contextId="wizard"
widgetId="org.eclipse.swt.widgets.Button#{{15}}-{{1.0}}"/&gt;
         &lt;command type="modify" contextId="wizard-page/Whatever"
widgetId="org.eclipse.swt.widgets.Text#2"&gt;
         perspectiveTesterAdapter.adapter
         &lt;/command&gt;
         &lt;command type="item-select" contextId="wizard-page/Whatever"
widgetId="org.eclipse.swt.widgets.Tree#1"&gt;
            &lt;item path="org.eclipse.swt.widgets.TreeItem#{{/Simple
Project}}-{{1.0}}"/&gt;
         &lt;/command&gt;
         &lt;command type="select" contextId="wizard"
widgetId="org.eclipse.swt.widgets.Button#{{15}}-{{1.0}}"/&gt;
         &lt;command type="modify" contextId="wizard-page/logPage"
widgetId="org.eclipse.swt.widgets.Text#1"&gt;
         D:\Temp\apache-access.log
         &lt;/command&gt;
         &lt;command type="select" contextId="wizard"
widgetId="org.eclipse.swt.widgets.Button#{{16}}-{{1.0}}"/&gt;
         &lt;command type="wait"/&gt;
      &lt;/shell&gt;
      &lt;command type="wait"/&gt;
      &lt;command type="verification"
contextId="view/org.eclipse.ui.views.ResourceNavigator"
location="/org.eclipse.tptp.monitoring.tests/src"
resource="org.eclipse.tptp.auto.profiling.logging.MonitorUIGLARules"
hook="verifyGLAPerspectiveIsOpen:Qorg.eclipse.ui.IViewPart;"/&gt;
      &lt;command type="select" contextId="menus" widgetId="contribid/preferences6|14"&gt;
         &lt;parent widgetId="window"/&gt;
      &lt;/command&gt;
      &lt;shell id="org.eclipse.ui.internal.dialogs.WorkbenchPreferenceDialog"
return-code="0"&gt;
         &lt;command type="item-select" contextId="shell"
widgetId="org.eclipse.swt.widgets.Tree#1"&gt;
            &lt;item
path="org.eclipse.swt.widgets.TreeItem#{{org.eclipse.hyades.trace.ui.internal.preferences.TraceBasePreferencePage}}-{{1.0}}"/&gt;
         &lt;/command&gt;
         &lt;command type="item-expand" contextId="shell"
widgetId="org.eclipse.swt.widgets.Tree#1" value="true"&gt;
            &lt;item
path="org.eclipse.swt.widgets.TreeItem#{{org.eclipse.hyades.trace.ui.internal.preferences.TraceBasePreferencePage}}-{{1.0}}"/&gt;
         &lt;/command&gt;
         &lt;command type="item-select" contextId="shell"
widgetId="org.eclipse.swt.widgets.Tree#1"&gt;
            &lt;item
path="org.eclipse.swt.widgets.TreeItem#{{org.eclipse.hyades.logging.adapter.ui.internal.preferences.AcadEditorPreferencePage}}-{{1.0}}"/&gt;
         &lt;/command&gt;
         &lt;command type="select" contextId="shell"
widgetId="org.eclipse.swt.widgets.Button#4"/&gt;
         &lt;command type="select" contextId="shell"
widgetId="org.eclipse.swt.widgets.Button#{{0}}-{{1.0}}"/&gt;
      &lt;/shell&gt;
      &lt;command type="item-select"
contextId="view/org.eclipse.ui.views.ResourceNavigator"
widgetId="org.eclipse.swt.widgets.Tree#{{/}}-{{1.0}}"&gt;
         &lt;item path="org.eclipse.swt.widgets.TreeItem#{{/Simple
Project/perspectiveTesterAdapter.adapter}}-{{1.0}}"/&gt;
      &lt;/command&gt;
      &lt;command type="focus"
contextId="view/org.eclipse.ui.views.ResourceNavigator"
widgetId="org.eclipse.swt.widgets.Tree#{{/}}-{{1.0}}"/&gt;
      &lt;command type="select"
contextId="popup/view/org.eclipse.ui.views.ResourceNavigator/org.eclipse.swt.widgets.Tree#{{/}}-{{1.0}}"
widgetId="contribid/org.eclipse.ui.DeleteResourceAction7"/&gt;
      &lt;shell id="org.eclipse.jface.dialogs.MessageDialog" return-code="0"&gt;
         &lt;command type="select" contextId="shell"
widgetId="org.eclipse.swt.widgets.Button#{{0}}-{{1.0}}"/&gt;
      &lt;/shell&gt;
      &lt;command type="wait"/&gt;
      &lt;shell id="org.eclipse.ui.internal.progress.ProgressMonitorFocusJobDialog"
return-code="0"&gt;
         &lt;command type="close-workbenchpart" contextId="editor"
widgetId="org.eclipse.hyades.logging.adapter.ui.internal.presentation.AdaptorEditorID/perspectiveTesterAdapter.adapter"/&gt;
      &lt;/shell&gt;
      &lt;command type="wait"/&gt;
   &lt;/shell&gt;
&lt;/macro&gt;
Targeting to 4.2 as per Harm's request
Fix in CVS.
This problem is reproducible if the user closes an editor using the File &gt; Close option.

Not only the file &gt; close option is recorded but also a close-workbench command is  created.

Example of a macro:

&lt;macro version="0.1" &gt;
   &lt;shell id="org.eclipse.ui.internal.WorkbenchWindow" return-code="-1"&gt;
      &lt;command type="select" contextId="menus" 
widgetId="org.eclipse.ui.actions.NewWizardMenu#{{&amp;amp;File-&amp;amp;New&amp;#x9;Alt+Shift+N-P&amp;amp;roject...}}-{{0.8}}{{0|0|0}}-{{0.6}}{{true}}-{{0.1}}{{5}}-{{0.1}}{{first}}-{{0.2}}{{separator}}-{{0.2}}"&gt;
         &lt;parent widgetId="file"/&gt;
         &lt;parent widgetId="new"/&gt;
      &lt;/command&gt;
      &lt;shell id="org.eclipse.jface.wizard.WizardDialog" return-code="0"&gt;
         &lt;command type="item-select" 
contextId="wizard-page/newWizardSelectionPage" 
widgetId="org.eclipse.swt.widgets.Tree#1"&gt;
            &lt;item 
path="org.eclipse.swt.widgets.TreeItem#{{org.eclipse.pde.ui.NewProjectWizard}}-{{1.0}}"/&gt;
         &lt;/command&gt;
         &lt;command type="focus" 
contextId="wizard-page/newWizardSelectionPage" 
widgetId="org.eclipse.swt.widgets.Tree#1"/&gt;
         &lt;command type="select" contextId="wizard" 
widgetId="org.eclipse.swt.widgets.Button#{{15}}-{{1.0}}"/&gt;
         &lt;command type="modify" contextId="wizard-page/main" 
widgetId="org.eclipse.swt.widgets.Text#1"&gt;
         &lt;![CDATA[test]]&gt;
         &lt;/command&gt;
         &lt;command type="select" contextId="wizard" 
widgetId="org.eclipse.swt.widgets.Button#{{15}}-{{1.0}}"/&gt;
         &lt;command type="select" contextId="wizard" 
widgetId="org.eclipse.swt.widgets.Button#{{15}}-{{1.0}}"/&gt;
         &lt;command type="select" contextId="wizard" 
widgetId="org.eclipse.swt.widgets.Button#{{16}}-{{1.0}}"/&gt;
         &lt;shell id="org.eclipse.jface.dialogs.MessageDialogWithToggle" 
return-code="2"&gt;
            &lt;command type="select" contextId="shell" 
widgetId="org.eclipse.swt.widgets.Button#{{2}}-{{1.0}}"/&gt;
         &lt;/shell&gt;
         &lt;command type="wait"/&gt;
      &lt;/shell&gt;
      &lt;command type="wait"/&gt;
      &lt;command type="modify" 
contextId="editor/org.eclipse.pde.ui.manifestEditor/MANIFEST.MF" 
widgetId="org.eclipse.swt.widgets.Text#5"&gt;
      &lt;![CDATA[gdgd]]&gt;
      &lt;/command&gt;
  &lt;command type="wait" time-to-wait="5000"/&gt;
      &lt;command type="select" contextId="menus" 
widgetId="org.eclipse.jface.action.ActionContributionItem#{{&amp;amp;File-&amp;amp;Close&amp;#x9;Ctrl+W}}-{{0.8}}{{0|3}}-{{0.6}}{{false}}-{{0.1}}{{31}}-{{0.1}}{{separator}}-{{0.2}}{{C&amp;amp;lose 
All&amp;#x9;Ctrl+Shift+W}}-{{0.2}}"&gt;
         &lt;parent widgetId="file"/&gt;
      &lt;/command&gt;
   &lt;command type="wait" time-to-wait="5000"/&gt;
      &lt;command type="close-workbenchpart" contextId="editor" 
widgetId="org.eclipse.pde.ui.manifestEditor/MANIFEST.MF"/&gt;
      &lt;shell id="org.eclipse.jface.dialogs.MessageDialog" return-code="1"&gt;
         &lt;command type="select" contextId="shell" 
widgetId="org.eclipse.swt.widgets.Button#{{1}}-{{1.0}}"/&gt;
      &lt;/shell&gt;
   &lt;/shell&gt;
&lt;/macro&gt;

The close-workbenchpart command will not cause a macro failure when the corresponding editor/view is not open.
ACTION: Please verify/close this defect.
Reporter: Please verify and close in preparation for shutting down the TPTP 4.4 release.  Thanks.
Closing by default since not verified/closed by the originator in the 6+ months since being resolved.  

Please reopen if the issue is still present in the latest TPTP release or the
resolution is not correct.</WithOutStack>
  </Bug>
  <Bug>
    <BugId amount="110811" />
    <CreationDate amount="2005-09-27 11:04:00 -0400" />
    <DupId amount="" />
    <classification amount="Eclipse" />
    <Product amount="JDT" />
    <component amount="Core" />
    <Version amount="3.2" />
    <rep_platform amount="PC" />
    <op_sys amount="Windows XP" />
    <priority amount="P3" />
    <bug_severity amount="normal" />
    <Summery>[1.5] Raw type binding for reference to non-generic type</Summery>
    <Patches amount="0" />
    <Stacktraces amount="0" />
    <SourceCodeRegions amount="5">
      <source_code type="class">
        <location start="101" end="627" />
        <code>public class NodeList&lt;E&gt; {
    public class Cursor { }

    private Cursor raw;
      // wrong non-generic type binding (bug 110806: declaring class is generic)
    
    private NodeList.Cursor rawQualified;
      // raw type binding (an issue for bug 110594)
    
    private NodeList&lt;E&gt;.Cursor parameterized;
      // non-generic type binding, only declaring class is generic (bug 80472)
    
    private NodeList&lt;String&gt;.Cursor parameterizedString;
      // non-generic type binding, only declaring class is parameterized
}</code>
      </source_code>
      <source_code type="class">
        <location start="1704" end="2195" />
        <code>public class NodeList&lt;E&gt; {
    public class Cursor { }

    private Cursor simple;
    private NodeList&lt;E&gt;.Cursor parameterized;
    private NodeList&lt;String&gt;.Cursor parameterizedString;
    // type is non-generic, declaring class is parameterized
    // type declaration of type is non-generic, declaring class is generic
    
    private NodeList.Cursor rawQualified;
    // type is raw, declaring class is raw
    // type is declaration of type is non-generic, declaring class is generic
}</code>
      </source_code>
      <source_code type="multicomment">
        <location start="3203" end="3815" />
        <code>/**
 * Returns the binding for the type declaration corresponding to this type
 * binding.
 * &lt;p&gt;For parameterized types ({@link #isParameterizedType()}),
 * this method returns the binding for the corresponding generic type.&lt;/p&gt;
 * &lt;p&gt;For raw types ({@link #isRawType()}), the type declaration is a different
 * non-generic type, whose declaring class is a generic type.&lt;/p&gt;
 * &lt;p&gt;A different non-generic binding will be returned when one of the declaring
 * types/methods was parameterized.&lt;/p&gt;
 * &lt;p&gt;For other type bindings, this returns the same binding.&lt;/p&gt;
 *
 * @return the type binding
 * @since 3.1
 */</code>
      </source_code>
      <source_code type="multicomment">
        <location start="4200" end="4875" />
        <code>/**
 * Returns the binding for the type declaration corresponding to this type
 * binding.
 * &lt;p&gt;For parameterized types ({@link #isParameterizedType()})
 * and most raw types ({@link #isRawType()}), this method returns the binding
 * for the corresponding generic type.&lt;/p&gt;
 * &lt;p&gt;For raw member types ({@link #isRawType()}, {@link #isMember()})
 * of a raw declaring class, the type declaration is a generic or a non-generic
 * type.&lt;/p&gt;
 * &lt;p&gt;A different non-generic binding will be returned when one of the declaring
 * types/methods was parameterized.&lt;/p&gt;
 * &lt;p&gt;For other type bindings, this returns the same binding.&lt;/p&gt;
 *
 * @return the type binding
 * @since 3.1
 */</code>
      </source_code>
      <source_code type="functioncall">
        <location start="4876" end="4917" />
        <code>public ITypeBinding getTypeDeclaration();</code>
      </source_code>
    </SourceCodeRegions>
    <Enumerations amount="1">
      <Enumeration lines="12">
        <Lines>
          <Line>(A) The first group violates the contract of ITypeBinding#getTypeDeclaration(),</Line>
          <Line>which states that for non-generic types, the same binding is returned</Line>
          <Line>=&gt; I don't see a solution other than updating the spec to tell that a different</Line>
          <Line>non-generic binding will be returned when one of the declaring types/methods was</Line>
          <Line>parameterized.</Line>
          <Line />
          <Line>(B) The 'NodeList.Cursor rawQualified' case also violates the contract for</Line>
          <Line>ITypeBinding#getTypeDeclaration(), since it doesn't return a generic type for</Line>
          <Line>the raw target.</Line>
          <Line>=&gt; Here, the kind of the type binding should be changed to a non-generic type,</Line>
          <Line>whose declaring class is a raw type. Like in (A), the type declaration should be</Line>
          <Line>a different non-generic type, whose declaring class is a generic type.</Line>
        </Lines>
      </Enumeration>
    </Enumerations>
    <bug_status amount="VERIFIED" />
    <resolution amount="FIXED" />
    <WithStack>I20050923-1000

We have an issue with raw references to a non-generic inner type of a generic type.

public class NodeList&lt;E&gt; {
    public class Cursor { }

    private Cursor raw;
      // wrong non-generic type binding (bug 110806: declaring class is generic)
    
    private NodeList.Cursor rawQualified;
      // raw type binding (an issue for bug 110594)
    
    private NodeList&lt;E&gt;.Cursor parameterized;
      // non-generic type binding, only declaring class is generic (bug 80472)
    
    private NodeList&lt;String&gt;.Cursor parameterizedString;
      // non-generic type binding, only declaring class is parameterized
}

Currently, the javadoc of ITypeBinding#getTypeDeclaration() says that for raw
and parameterized types, it "[..] returns the binding for the corresponding
generic type. For other type bindings, this returns the same binding."

The type of "NodeList.Cursor rawQualified;" is a raw type, whose
getTypeDeclaration() is a non-generic type. This contradicts the javadoc and
confuses clients who assume they always get a generic type from a raw type (e.g.
our bug 110594).

I see that "NodeList.Cursor rawQualified;" is in a way "raw", and that it must
be a different binding than the declaration of Cursor.

IMO, the declaration of Cursor should be a generic binding (without type
parameters, since these are only declared by the enclosing type NodeList).

The alternative would be to make NodeList.Cursor in "NodeList.Cursor
rawQualified;" a non-generic type. But then we would have to update the spec of
getTypeDeclaration() to also explain that it does not necessarily return the
same type for non-generic types.
State in I20051116-1332 + jdt.core from HEAD (bug 80472 fixed):

public class NodeList&lt;E&gt; {
    public class Cursor { }

    private Cursor simple;
    private NodeList&lt;E&gt;.Cursor parameterized;
    private NodeList&lt;String&gt;.Cursor parameterizedString;
    // type is non-generic, declaring class is parameterized
    // type declaration of type is non-generic, declaring class is generic
    
    private NodeList.Cursor rawQualified;
    // type is raw, declaring class is raw
    // type is declaration of type is non-generic, declaring class is generic
}

2 issues remaining:

(A) The first group violates the contract of ITypeBinding#getTypeDeclaration(),
which states that for non-generic types, the same binding is returned
=&gt; I don't see a solution other than updating the spec to tell that a different
non-generic binding will be returned when one of the declaring types/methods was
parameterized.

(B) The 'NodeList.Cursor rawQualified' case also violates the contract for 
ITypeBinding#getTypeDeclaration(), since it doesn't return a generic type for
the raw target.
=&gt; Here, the kind of the type binding should be changed to a non-generic type,
whose declaring class is a raw type. Like in (A), the type declaration should be
a different non-generic type, whose declaring class is a generic type.

The type declarations for all kinds of type references to Cursor are currently
correct and identical to the binding we get from the declaration.
Olivier - pls align the spec with the implementation along the lines described by Markus. 
Would this be fine?

/**
 * Returns the binding for the type declaration corresponding to this type
 * binding.
 * &lt;p&gt;For parameterized types ({@link #isParameterizedType()}),
 * this method returns the binding for the corresponding generic type.&lt;/p&gt;
 * &lt;p&gt;For raw types ({@link #isRawType()}), the type declaration is a different
 * non-generic type, whose declaring class is a generic type.&lt;/p&gt;
 * &lt;p&gt;A different non-generic binding will be returned when one of the declaring
 * types/methods was parameterized.&lt;/p&gt;
 * &lt;p&gt;For other type bindings, this returns the same binding.&lt;/p&gt;
 *
 * @return the type binding
 * @since 3.1
 */
JLS3 4.8 specifies that a member type reference is raw if its declaring type is raw (regardless of the member type's parameterization). This supports the current implementation and speaks against the change I proposed in (B), so a javadoc update should be enough.

The proposal in comment 3 does not tell about the case where a raw type is not a member type. I'd propose this change:

/**
 * Returns the binding for the type declaration corresponding to this type
 * binding.
 * &lt;p&gt;For parameterized types ({@link #isParameterizedType()})
 * and most raw types ({@link #isRawType()}), this method returns the binding
 * for the corresponding generic type.&lt;/p&gt;
 * &lt;p&gt;For raw member types ({@link #isRawType()}, {@link #isMember()})
 * of a raw declaring class, the type declaration is a generic or a non-generic
 * type.&lt;/p&gt;
 * &lt;p&gt;A different non-generic binding will be returned when one of the declaring
 * types/methods was parameterized.&lt;/p&gt;
 * &lt;p&gt;For other type bindings, this returns the same binding.&lt;/p&gt;
 *
 * @return the type binding
 * @since 3.1
 */
public ITypeBinding getTypeDeclaration();
Fixed and released in HEAD.
Thanks Markus.
Verified for 3.2 RC1 using build I20060413-0010</WithStack>
    <WithOutStack>I20050923-1000

We have an issue with raw references to a non-generic inner type of a generic type.

public class NodeList&lt;E&gt; {
    public class Cursor { }

    private Cursor raw;
      // wrong non-generic type binding (bug 110806: declaring class is generic)
    
    private NodeList.Cursor rawQualified;
      // raw type binding (an issue for bug 110594)
    
    private NodeList&lt;E&gt;.Cursor parameterized;
      // non-generic type binding, only declaring class is generic (bug 80472)
    
    private NodeList&lt;String&gt;.Cursor parameterizedString;
      // non-generic type binding, only declaring class is parameterized
}

Currently, the javadoc of ITypeBinding#getTypeDeclaration() says that for raw
and parameterized types, it "[..] returns the binding for the corresponding
generic type. For other type bindings, this returns the same binding."

The type of "NodeList.Cursor rawQualified;" is a raw type, whose
getTypeDeclaration() is a non-generic type. This contradicts the javadoc and
confuses clients who assume they always get a generic type from a raw type (e.g.
our bug 110594).

I see that "NodeList.Cursor rawQualified;" is in a way "raw", and that it must
be a different binding than the declaration of Cursor.

IMO, the declaration of Cursor should be a generic binding (without type
parameters, since these are only declared by the enclosing type NodeList).

The alternative would be to make NodeList.Cursor in "NodeList.Cursor
rawQualified;" a non-generic type. But then we would have to update the spec of
getTypeDeclaration() to also explain that it does not necessarily return the
same type for non-generic types.
State in I20051116-1332 + jdt.core from HEAD (bug 80472 fixed):

public class NodeList&lt;E&gt; {
    public class Cursor { }

    private Cursor simple;
    private NodeList&lt;E&gt;.Cursor parameterized;
    private NodeList&lt;String&gt;.Cursor parameterizedString;
    // type is non-generic, declaring class is parameterized
    // type declaration of type is non-generic, declaring class is generic
    
    private NodeList.Cursor rawQualified;
    // type is raw, declaring class is raw
    // type is declaration of type is non-generic, declaring class is generic
}

2 issues remaining:

(A) The first group violates the contract of ITypeBinding#getTypeDeclaration(),
which states that for non-generic types, the same binding is returned
=&gt; I don't see a solution other than updating the spec to tell that a different
non-generic binding will be returned when one of the declaring types/methods was
parameterized.

(B) The 'NodeList.Cursor rawQualified' case also violates the contract for 
ITypeBinding#getTypeDeclaration(), since it doesn't return a generic type for
the raw target.
=&gt; Here, the kind of the type binding should be changed to a non-generic type,
whose declaring class is a raw type. Like in (A), the type declaration should be
a different non-generic type, whose declaring class is a generic type.

The type declarations for all kinds of type references to Cursor are currently
correct and identical to the binding we get from the declaration.
Olivier - pls align the spec with the implementation along the lines described by Markus. 
Would this be fine?

/**
 * Returns the binding for the type declaration corresponding to this type
 * binding.
 * &lt;p&gt;For parameterized types ({@link #isParameterizedType()}),
 * this method returns the binding for the corresponding generic type.&lt;/p&gt;
 * &lt;p&gt;For raw types ({@link #isRawType()}), the type declaration is a different
 * non-generic type, whose declaring class is a generic type.&lt;/p&gt;
 * &lt;p&gt;A different non-generic binding will be returned when one of the declaring
 * types/methods was parameterized.&lt;/p&gt;
 * &lt;p&gt;For other type bindings, this returns the same binding.&lt;/p&gt;
 *
 * @return the type binding
 * @since 3.1
 */
JLS3 4.8 specifies that a member type reference is raw if its declaring type is raw (regardless of the member type's parameterization). This supports the current implementation and speaks against the change I proposed in (B), so a javadoc update should be enough.

The proposal in comment 3 does not tell about the case where a raw type is not a member type. I'd propose this change:

/**
 * Returns the binding for the type declaration corresponding to this type
 * binding.
 * &lt;p&gt;For parameterized types ({@link #isParameterizedType()})
 * and most raw types ({@link #isRawType()}), this method returns the binding
 * for the corresponding generic type.&lt;/p&gt;
 * &lt;p&gt;For raw member types ({@link #isRawType()}, {@link #isMember()})
 * of a raw declaring class, the type declaration is a generic or a non-generic
 * type.&lt;/p&gt;
 * &lt;p&gt;A different non-generic binding will be returned when one of the declaring
 * types/methods was parameterized.&lt;/p&gt;
 * &lt;p&gt;For other type bindings, this returns the same binding.&lt;/p&gt;
 *
 * @return the type binding
 * @since 3.1
 */
public ITypeBinding getTypeDeclaration();
Fixed and released in HEAD.
Thanks Markus.
Verified for 3.2 RC1 using build I20060413-0010</WithOutStack>
  </Bug>
  <Bug>
    <BugId amount="110812" />
    <CreationDate amount="2005-09-27 11:08:00 -0400" />
    <DupId amount="" />
    <classification amount="Tools" />
    <Product amount="AJDT" />
    <component amount="Core" />
    <Version amount="1.3.0" />
    <rep_platform amount="PC" />
    <op_sys amount="Windows XP" />
    <priority amount="P3" />
    <bug_severity amount="normal" />
    <Summery>[AspectJ] Problems with static methods</Summery>
    <Patches amount="0" />
    <Stacktraces amount="0" />
    <SourceCodeRegions amount="1">
      <source_code type="functiondef">
        <location start="307" end="372" />
        <code>public static Object getObject() {
        return null;
    }</code>
      </source_code>
    </SourceCodeRegions>
    <Enumerations amount="0" />
    <bug_status amount="RESOLVED" />
    <resolution amount="WONTFIX" />
    <WithStack>[1.3.0.20050926141225]

I cannot access the static method "aspectOf" outside the aspect.

A declared static method which returns an Object from the aspect also is an
issue, since I do access it, but the return type I see outside the aspect is void.

The aspect is as simple as this:

public aspect Aspect {
    public static Object getObject() {
        return null;
    }
}

I have researched a lot before submitting this bug, but as I could not find the
answer maybe it is really a problem with AJDT.
I assume you're accessing the aspectOf method from a class in a .java file? If
that is opened in the default java editor, that editor doesn't know about
aspects, so the early error indication feature will underline it as an error.
But the aspectj compiler knows it's okay so you won't get any errors in the
problems view. Also, if you open the class in the AspectJ editor, it will be
okay there too. Is that the problem you are seeing?

You are right.

Do you think I can use the AspectJ editor instead of regular Java Editor
seamlessly? That is, the AspectJ editor just adds funcionality, or are there
more differences? For example, I have noticed that when I write a field name and
dot (field.), the auto-completion dialog doesn't come, I have to use ctrl +
space to show it.
The AspectJ editor should seamlessly add functionality. Any cases where it
doesn't is a bug. I'll close this bug report, as we can't make the Java editor
aware of AspectJ syntax, but please raise a new one for the auto-completion
issue. I'm not aware of bug reports for any other differences with the AspectJ
editor.</WithStack>
    <WithOutStack>[1.3.0.20050926141225]

I cannot access the static method "aspectOf" outside the aspect.

A declared static method which returns an Object from the aspect also is an
issue, since I do access it, but the return type I see outside the aspect is void.

The aspect is as simple as this:

public aspect Aspect {
    public static Object getObject() {
        return null;
    }
}

I have researched a lot before submitting this bug, but as I could not find the
answer maybe it is really a problem with AJDT.
I assume you're accessing the aspectOf method from a class in a .java file? If
that is opened in the default java editor, that editor doesn't know about
aspects, so the early error indication feature will underline it as an error.
But the aspectj compiler knows it's okay so you won't get any errors in the
problems view. Also, if you open the class in the AspectJ editor, it will be
okay there too. Is that the problem you are seeing?

You are right.

Do you think I can use the AspectJ editor instead of regular Java Editor
seamlessly? That is, the AspectJ editor just adds funcionality, or are there
more differences? For example, I have noticed that when I write a field name and
dot (field.), the auto-completion dialog doesn't come, I have to use ctrl +
space to show it.
The AspectJ editor should seamlessly add functionality. Any cases where it
doesn't is a bug. I'll close this bug report, as we can't make the Java editor
aware of AspectJ syntax, but please raise a new one for the auto-completion
issue. I'm not aware of bug reports for any other differences with the AspectJ
editor.</WithOutStack>
  </Bug>
  <Bug>
    <BugId amount="110813" />
    <CreationDate amount="2005-09-27 11:09:00 -0400" />
    <DupId amount="" />
    <classification amount="Eclipse" />
    <Product amount="JDT" />
    <component amount="Core" />
    <Version amount="3.2" />
    <rep_platform amount="PC" />
    <op_sys amount="Windows XP" />
    <priority amount="P3" />
    <bug_severity amount="normal" />
    <Summery>[search] ImportMatchLocatorParser should be implemented in its own CU</Summery>
    <Patches amount="0" />
    <Stacktraces amount="0" />
    <SourceCodeRegions amount="0" />
    <Enumerations amount="0" />
    <bug_status amount="VERIFIED" />
    <resolution amount="FIXED" />
    <WithStack>Currently ImportMatchLocatorParser is declared as a secondary type inside
MatchLocatorParser. It should be externalized in its own compilation unit to
avoid this kind of pattern.
Fixed and released in HEAD

Verified for 3.2 M3 using build I20051031-0010</WithStack>
    <WithOutStack>Currently ImportMatchLocatorParser is declared as a secondary type inside
MatchLocatorParser. It should be externalized in its own compilation unit to
avoid this kind of pattern.
Fixed and released in HEAD

Verified for 3.2 M3 using build I20051031-0010</WithOutStack>
  </Bug>
  <Bug>
    <BugId amount="110814" />
    <CreationDate amount="2005-09-27 11:11:00 -0400" />
    <DupId amount="" />
    <classification amount="BIRT" />
    <Product amount="BIRT" />
    <component amount="Report" />
    <Version amount="1.0.1" />
    <rep_platform amount="PC" />
    <op_sys amount="Windows XP" />
    <priority amount="P3" />
    <bug_severity amount="normal" />
    <Summery>class.getPackage( ) returns NULL in Orion Server</Summery>
    <Patches amount="0" />
    <Stacktraces amount="0" />
    <SourceCodeRegions amount="0" />
    <Enumerations amount="0" />
    <bug_status amount="VERIFIED" />
    <resolution amount="FIXED" />
    <WithStack>I cannot deploy Eclipse Birt into Orion application server due to a known bug in
Orion - someClass.getPackage( ) returns null.

The following files need to be fixed to eliminate this problem:

org.eclipse.birt.report.data.oda.jdbc\src\org\eclipse\birt\report\data\oda\jdbc\OdaJdbcDriver.java
org.eclipse.birt.report.data.oda.jdbc\test\org\eclipse\birt\report\data\oda\jdbc\LogConfigurationTest.java
org.eclipse.birt.report.model\src\org\eclipse\birt\report\model\api\util\ParameterValidationUtil.java
org.eclipse.birt.report.model\src\org\eclipse\birt\report\model\i18n\ModelMessages.java
org.eclipse.birt.report.model\test\org\eclipse\birt\report\model\i18n\ResourceHandleTest.java

It's safer to use the following:

SomeClass.class.getName().substring(0, SomeClass.class.getName().lastIndexOf("."))
oda\jdbc\OdaJdbcDriver.java and oda\jdbc\LogConfigurationTest.java
are fixed.


Committed changes in model source codes to work around the described problem.
Verified in Build 200602201012.</WithStack>
    <WithOutStack>I cannot deploy Eclipse Birt into Orion application server due to a known bug in
Orion - someClass.getPackage( ) returns null.

The following files need to be fixed to eliminate this problem:

org.eclipse.birt.report.data.oda.jdbc\src\org\eclipse\birt\report\data\oda\jdbc\OdaJdbcDriver.java
org.eclipse.birt.report.data.oda.jdbc\test\org\eclipse\birt\report\data\oda\jdbc\LogConfigurationTest.java
org.eclipse.birt.report.model\src\org\eclipse\birt\report\model\api\util\ParameterValidationUtil.java
org.eclipse.birt.report.model\src\org\eclipse\birt\report\model\i18n\ModelMessages.java
org.eclipse.birt.report.model\test\org\eclipse\birt\report\model\i18n\ResourceHandleTest.java

It's safer to use the following:

SomeClass.class.getName().substring(0, SomeClass.class.getName().lastIndexOf("."))
oda\jdbc\OdaJdbcDriver.java and oda\jdbc\LogConfigurationTest.java
are fixed.


Committed changes in model source codes to work around the described problem.
Verified in Build 200602201012.</WithOutStack>
  </Bug>
  <Bug>
    <BugId amount="110815" />
    <CreationDate amount="2005-09-27 11:26:00 -0400" />
    <DupId amount="" />
    <classification amount="Modeling" />
    <Product amount="GMF-Runtime" />
    <component amount="General" />
    <Version amount="1.0" />
    <rep_platform amount="PC" />
    <op_sys amount="Windows 2000" />
    <priority amount="P3" />
    <bug_severity amount="normal" />
    <Summery>Zoom toolbar item not enabled until multiple diagrams are open</Summery>
    <Patches amount="0" />
    <Stacktraces amount="0" />
    <SourceCodeRegions amount="0" />
    <Enumerations amount="3">
      <Enumeration lines="11">
        <Lines>
          <Line>1. Create a new geoshapes diagram.</Line>
          <Line>RESULT -- The zoom toolbar item where you specify the zoom percentage is</Line>
          <Line>disabled.  It should be enabled.</Line>
          <Line>2. Create a second geoshapes diagram.</Line>
          <Line>RESULT -- The zoom toolbar item is enabled as expected.</Line>
          <Line>3. Switch back to the first diagram.</Line>
          <Line>RESULT -- The zoom toolbar item is enabled as expected.</Line>
          <Line>Is this a Contribution item service issue?</Line>
          <Line>Changing component to "Runtime Diagram"</Line>
          <Line>Created attachment 28291</Line>
          <Line>AbstractContributionItemProvider fix and LogicDiagramTests</Line>
        </Lines>
      </Enumeration>
      <Enumeration lines="5">
        <Lines>
          <Line>- Small change to AbstractContributionItemProvider so that when the init() is</Line>
          <Line>not called on a custom contribution item when it is retrieved from the adapter.</Line>
          <Line>- Added a new JUnit for this scenario:</Line>
          <Line>org.eclipse.gmf.tests.runtime.diagram.ui.logic.LogicDiagramTests.testZoomToolbar</Line>
          <Line>Enablement</Line>
        </Lines>
      </Enumeration>
      <Enumeration lines="3">
        <Lines>
          <Line>- Verified the zoom toolbar items and color toolbar items are enabled when the</Line>
          <Line>first diagram is opened.</Line>
          <Line>- Adhoc zoom tests with the zoom toolbar item.</Line>
        </Lines>
      </Enumeration>
    </Enumerations>
    <bug_status amount="RESOLVED" />
    <resolution amount="FIXED" />
    <WithStack>To reproduce:
1. Create a new geoshapes diagram.
RESULT -- The zoom toolbar item where you specify the zoom percentage is 
disabled.  It should be enabled.
2. Create a second geoshapes diagram.
RESULT -- The zoom toolbar item is enabled as expected.
3. Switch back to the first diagram.
RESULT -- The zoom toolbar item is enabled as expected.
Is this a Contribution item service issue?
Changing component to "Runtime Diagram"
Created attachment 28291
AbstractContributionItemProvider fix and LogicDiagramTests

Contributed by Cherie Mahoney
Purpose: 
Bugzilla 110815 Zoom toolbar item not enabled until multiple diagrams are open
- Small change to AbstractContributionItemProvider so that when the init() is 
not called on a custom contribution item when it is retrieved from the adapter.
- Added a new JUnit for this scenario:  
org.eclipse.gmf.tests.runtime.diagram.ui.logic.LogicDiagramTests.testZoomToolbar
Enablement

Activities: 
Bugzilla 110815 gmf_head sshaw 051013 Zoom toolbar item not enabled until 
multiple diagrams are open

Code Reviewed by:
Steve

How tested: 
- Verified the zoom toolbar items and color toolbar items are enabled when the 
first diagram is opened.
- Adhoc zoom tests with the zoom toolbar item.

JUnit Tests:  
Launching org.eclipse.gmf.tests.runtime.diagram.ui

OK, Runs:	64, Fails:	0, Errors:	0, 
org.eclipse.gmf.tests.runtime.diagram.ui, Time:	83.718

[GMF Restructure] Bug 319140 : product GMF and component
Runtime Diagram was the original product and component for this bug</WithStack>
    <WithOutStack>To reproduce:
1. Create a new geoshapes diagram.
RESULT -- The zoom toolbar item where you specify the zoom percentage is 
disabled.  It should be enabled.
2. Create a second geoshapes diagram.
RESULT -- The zoom toolbar item is enabled as expected.
3. Switch back to the first diagram.
RESULT -- The zoom toolbar item is enabled as expected.
Is this a Contribution item service issue?
Changing component to "Runtime Diagram"
Created attachment 28291
AbstractContributionItemProvider fix and LogicDiagramTests

Contributed by Cherie Mahoney
Purpose: 
Bugzilla 110815 Zoom toolbar item not enabled until multiple diagrams are open
- Small change to AbstractContributionItemProvider so that when the init() is 
not called on a custom contribution item when it is retrieved from the adapter.
- Added a new JUnit for this scenario:  
org.eclipse.gmf.tests.runtime.diagram.ui.logic.LogicDiagramTests.testZoomToolbar
Enablement

Activities: 
Bugzilla 110815 gmf_head sshaw 051013 Zoom toolbar item not enabled until 
multiple diagrams are open

Code Reviewed by:
Steve

How tested: 
- Verified the zoom toolbar items and color toolbar items are enabled when the 
first diagram is opened.
- Adhoc zoom tests with the zoom toolbar item.

JUnit Tests:  
Launching org.eclipse.gmf.tests.runtime.diagram.ui

OK, Runs:	64, Fails:	0, Errors:	0, 
org.eclipse.gmf.tests.runtime.diagram.ui, Time:	83.718

[GMF Restructure] Bug 319140 : product GMF and component
Runtime Diagram was the original product and component for this bug</WithOutStack>
  </Bug>
  <Bug>
    <BugId amount="110816" />
    <CreationDate amount="2005-09-27 11:36:00 -0400" />
    <DupId amount="110282" />
    <classification amount="Eclipse" />
    <Product amount="PDE" />
    <component amount="UI" />
    <Version amount="3.1" />
    <rep_platform amount="PC" />
    <op_sys amount="Windows 2000" />
    <priority amount="P3" />
    <bug_severity amount="normal" />
    <Summery>Additional Validation on Package Name Required for Hello World Template</Summery>
    <Patches amount="0" />
    <Stacktraces amount="0" />
    <SourceCodeRegions amount="0" />
    <Enumerations amount="1">
      <Enumeration lines="6">
        <Lines>
          <Line>1) Start the wizard to create a new plug-in project by selecting File -&gt; New -&gt;</Line>
          <Line>Project -&gt; Plug-in Development -&gt; Plug-in Project.</Line>
          <Line>2) Enter a plug-in name and press Next twice to get to the Templates page.</Line>
          <Line>Select Hello, World and press Next.</Line>
          <Line>3) In the Java package name field change the first character of the package</Line>
          <Line>name to be upper case. Press Finish.</Line>
        </Lines>
      </Enumeration>
    </Enumerations>
    <bug_status amount="RESOLVED" />
    <resolution amount="DUPLICATE" />
    <WithStack>1) Start the wizard to create a new plug-in project by selecting File -&gt; New -&gt; 
Project -&gt; Plug-in Development -&gt; Plug-in Project.
2) Enter a plug-in name and press Next twice to get to the Templates page. 
Select Hello, World and press Next.
3) In the Java package name field change the first character of the package 
name to be upper case. Press Finish.

Result:
An errors occurs with the message "A resource exists with a different case."

When the package is being created for the SampleAction class, the package 
containing the plug-in class already exists. It has the same name except for 
the first character which is lower case.

The validation that is performed on the Java Package Name on the Sample Action 
Set page of the wizard should compare the package name and the name of the 
package containing the plug-in class. If this scenario is detected an error 
should be displayed at the top of the wizard.


*** This bug has been marked as a duplicate of 110282 ***</WithStack>
    <WithOutStack>1) Start the wizard to create a new plug-in project by selecting File -&gt; New -&gt; 
Project -&gt; Plug-in Development -&gt; Plug-in Project.
2) Enter a plug-in name and press Next twice to get to the Templates page. 
Select Hello, World and press Next.
3) In the Java package name field change the first character of the package 
name to be upper case. Press Finish.

Result:
An errors occurs with the message "A resource exists with a different case."

When the package is being created for the SampleAction class, the package 
containing the plug-in class already exists. It has the same name except for 
the first character which is lower case.

The validation that is performed on the Java Package Name on the Sample Action 
Set page of the wizard should compare the package name and the name of the 
package containing the plug-in class. If this scenario is detected an error 
should be displayed at the top of the wizard.


*** This bug has been marked as a duplicate of 110282 ***</WithOutStack>
  </Bug>
  <Bug>
    <BugId amount="110817" />
    <CreationDate amount="2005-09-27 11:40:00 -0400" />
    <DupId amount="" />
    <classification amount="WebTools" />
    <Product amount="WTP Java EE Tools" />
    <component amount="jst.j2ee" />
    <Version amount="1.0" />
    <rep_platform amount="PC" />
    <op_sys amount="Windows XP" />
    <priority amount="P3" />
    <bug_severity amount="blocker" />
    <Summery>need to eliminate component folder in ear project</Summery>
    <Patches amount="0" />
    <Stacktraces amount="0" />
    <SourceCodeRegions amount="0" />
    <Enumerations amount="0" />
    <bug_status amount="CLOSED" />
    <resolution amount="FIXED" />
    <WithStack>When a default ear project is created in wtp, an ear component folder is 
created. This structure is not compatible to V6 Ear project structure, and 
causes problem when backward migrating to V6.
*** Bug 110825 has been marked as a duplicate of this bug. ***
There was a defect opened  https://bugs.eclipse.org/bugs/show_bug.cgi?
id=100301,  earlier,  i am copying Thomas on this defect, he had some issues 
regarding this.
fixed, code in CVS
Created attachment 28179
EARComponentCreationOperation Patch
Um, I don't know what V6 is, but backward migration to it doesn't seem like a 
good reason to compromise the usability of WTP.

Given that there is currenly no way to set up file exclusion filters on 
the "ear content directory", it seems desirable to keep the EAR files separate 
from the Eclipse metadata files.

If your *product* wizards want override this and default users to an EAR 
project dir == EAR content dir, that should be supported.
Hey Ted,

Your right - specific "product" requirements shouldn't be referred to.  I
apoligize for that...

I do want to understand what api you need or is missing, because we provide Tim
with an api:  members()  on the J2EEFlexProjDeployable class that collects
returns the full list of resources included in the module (minus the .metadata
files).

I agree any folder setup should be possible, but using the project root should
be as well, and using this api should eliminate any issues.


Hey Chuck,  I'll have to investigate the api, but I'll be curious see how you 
decide what files are considered part of the module.  Is it extensible?  It's 
not user controllable as far as I know.

Regardles of that, what's your opinion from a usability standpoint on having 
an "EAR Content" subdirectory by default (like we do for web projects).  I 
thought we had agreed months ago that this was a good default since it cleanly 
separates application "source files" from eclipse metadata files.

We were surprised to see this suddenly revert.
verified.</WithStack>
    <WithOutStack>When a default ear project is created in wtp, an ear component folder is 
created. This structure is not compatible to V6 Ear project structure, and 
causes problem when backward migrating to V6.
*** Bug 110825 has been marked as a duplicate of this bug. ***
There was a defect opened  https://bugs.eclipse.org/bugs/show_bug.cgi?
id=100301,  earlier,  i am copying Thomas on this defect, he had some issues 
regarding this.
fixed, code in CVS
Created attachment 28179
EARComponentCreationOperation Patch
Um, I don't know what V6 is, but backward migration to it doesn't seem like a 
good reason to compromise the usability of WTP.

Given that there is currenly no way to set up file exclusion filters on 
the "ear content directory", it seems desirable to keep the EAR files separate 
from the Eclipse metadata files.

If your *product* wizards want override this and default users to an EAR 
project dir == EAR content dir, that should be supported.
Hey Ted,

Your right - specific "product" requirements shouldn't be referred to.  I
apoligize for that...

I do want to understand what api you need or is missing, because we provide Tim
with an api:  members()  on the J2EEFlexProjDeployable class that collects
returns the full list of resources included in the module (minus the .metadata
files).

I agree any folder setup should be possible, but using the project root should
be as well, and using this api should eliminate any issues.


Hey Chuck,  I'll have to investigate the api, but I'll be curious see how you 
decide what files are considered part of the module.  Is it extensible?  It's 
not user controllable as far as I know.

Regardles of that, what's your opinion from a usability standpoint on having 
an "EAR Content" subdirectory by default (like we do for web projects).  I 
thought we had agreed months ago that this was a good default since it cleanly 
separates application "source files" from eclipse metadata files.

We were surprised to see this suddenly revert.
verified.</WithOutStack>
  </Bug>
  <Bug>
    <BugId amount="110818" />
    <CreationDate amount="2005-09-27 11:46:00 -0400" />
    <DupId amount="" />
    <classification amount="WebTools" />
    <Product amount="WTP Java EE Tools" />
    <component amount="jst.j2ee" />
    <Version amount="1.0" />
    <rep_platform amount="PC" />
    <op_sys amount="Windows XP" />
    <priority amount="P3" />
    <bug_severity amount="enhancement" />
    <Summery>Write online documentation for J2EE tools</Summery>
    <Patches amount="0" />
    <Stacktraces amount="0" />
    <SourceCodeRegions amount="0" />
    <Enumerations amount="0" />
    <bug_status amount="CLOSED" />
    <resolution amount="FIXED" />
    <WithStack>org.eclipse.jst.j2ee.doc.user and org.eclipse.jst.ejb.doc.user contain online 
help docs. org.eclipse.jst.j2ee.infopop contains online help. all are in cvs, 
none have been committed
Ok, what do we do from here?
Carol, is this in the builds now?  Or is this still valid defect?
I'm guessing this is done since I haven't seen a response.  We have a specific infopop defect opened as well.
ok</WithStack>
    <WithOutStack>org.eclipse.jst.j2ee.doc.user and org.eclipse.jst.ejb.doc.user contain online 
help docs. org.eclipse.jst.j2ee.infopop contains online help. all are in cvs, 
none have been committed
Ok, what do we do from here?
Carol, is this in the builds now?  Or is this still valid defect?
I'm guessing this is done since I haven't seen a response.  We have a specific infopop defect opened as well.
ok</WithOutStack>
  </Bug>
  <Bug>
    <BugId amount="110819" />
    <CreationDate amount="2005-09-27 11:54:00 -0400" />
    <DupId amount="" />
    <classification amount="WebTools" />
    <Product amount="WTP Java EE Tools" />
    <component amount="jst.j2ee" />
    <Version amount="1.0" />
    <rep_platform amount="PC" />
    <op_sys amount="Windows XP" />
    <priority amount="P3" />
    <bug_severity amount="enhancement" />
    <Summery>Integrate project facets to runtime j2ee deployables</Summery>
    <Patches amount="0" />
    <Stacktraces amount="0" />
    <SourceCodeRegions amount="0" />
    <Enumerations amount="0" />
    <bug_status amount="CLOSED" />
    <resolution amount="FIXED" />
    <WithStack>Integrate the project facet API into the deployables layer for server j2ee modules.
The J2EEFlexProjDeployable has been updated to use facets and virtual components.

This is fixed for the 1028 WTP M9 driver.  

We still need to add deployable junits, a seperate defect will be opened for that.
OK</WithStack>
    <WithOutStack>Integrate the project facet API into the deployables layer for server j2ee modules.
The J2EEFlexProjDeployable has been updated to use facets and virtual components.

This is fixed for the 1028 WTP M9 driver.  

We still need to add deployable junits, a seperate defect will be opened for that.
OK</WithOutStack>
  </Bug>
  <Bug>
    <BugId amount="110820" />
    <CreationDate amount="2005-09-27 11:55:00 -0400" />
    <DupId amount="" />
    <classification amount="Eclipse" />
    <Product amount="JDT" />
    <component amount="Core" />
    <Version amount="3.2" />
    <rep_platform amount="PC" />
    <op_sys amount="Windows XP" />
    <priority amount="P3" />
    <bug_severity amount="normal" />
    <Summery>JavaModelUtil has functionality that is desired for public API</Summery>
    <Patches amount="0" />
    <Stacktraces amount="0" />
    <SourceCodeRegions amount="0" />
    <Enumerations amount="3">
      <Enumeration lines="23">
        <Lines>
          <Line>1. findType(IJavaProject jproject, String fullyQualifiedName)</Line>
          <Line>As Martin said, you can use IJavaProject#findType(String). Note that bug 22883</Line>
          <Line>is going to be fixed soon, so you will be able to find secondary types.</Line>
          <Line />
          <Line>2. concatenateName(String name1, String name2)</Line>
          <Line>It is a no-brainer (name1 + '.' + name2 with null checks). There is nothing JDT</Line>
          <Line>specific to this. I would suggest simply copying this code.</Line>
          <Line />
          <Line>3. findMethod(String name, String[] paramTypes, boolean isConstructor, IType type)</Line>
          <Line>As Marting said, you can use IType#findMethod(IMethod). To construct the</Line>
          <Line>argument, use 'type.getMethod(name, paramTypes)'.</Line>
          <Line>Martin, any idea why you're not already doing this ? Or is it for historical</Line>
          <Line>reason ?</Line>
          <Line />
          <Line>4. findMethodImplementationInHierarchy(...)</Line>
          <Line>Can you use a DOM AST as Martin suggested ? Otherwise we will implement it in</Line>
          <Line>JDT Core with the limitation that Martin outlined (it won't do any parameter</Line>
          <Line>substitution in the 5.0 case).</Line>
          <Line>2. I know it's a no-brainer, but it would still be nice to have it somewhere, we</Line>
          <Line>really use it a lot. It is somehow JDT specific (using '.' to qualify) and I</Line>
          <Line>find Signature to be the best place for it that I can think of (related to</Line>
          <Line>Signarure.getQualifier, Signature.getSimpleName)</Line>
          <Line>(its 11 lines of code).</Line>
        </Lines>
      </Enumeration>
      <Enumeration lines="14">
        <Lines>
          <Line>2. I know it's a no-brainer, but it would still be nice to have it somewhere, we</Line>
          <Line>really use it a lot. It is somehow JDT specific (using '.' to qualify) and I</Line>
          <Line>find Signature to be the best place for it that I can think of (related to</Line>
          <Line>Signarure.getQualifier, Signature.getSimpleName)</Line>
          <Line>(its 11 lines of code).</Line>
          <Line />
          <Line>3. I guess we could change our util to the existing API, don't see why we</Line>
          <Line>haven't yet.</Line>
          <Line>1. OK</Line>
          <Line>2. OK, it sounds reasonalbe to make our own concatenate method</Line>
          <Line>3. OK</Line>
          <Line>4. It appears as though my team may not need to use this method at all anymore.</Line>
          <Line>If we do, I will contact Martin for help with the DOM AST.</Line>
          <Line>Thanks Dan. I'm closing this bug then.</Line>
        </Lines>
      </Enumeration>
      <Enumeration lines="6">
        <Lines>
          <Line>1. OK</Line>
          <Line>2. OK, it sounds reasonalbe to make our own concatenate method</Line>
          <Line>3. OK</Line>
          <Line>4. It appears as though my team may not need to use this method at all anymore.</Line>
          <Line>If we do, I will contact Martin for help with the DOM AST.</Line>
          <Line>Thanks Dan. I'm closing this bug then.</Line>
        </Lines>
      </Enumeration>
    </Enumerations>
    <bug_status amount="RESOLVED" />
    <resolution amount="WONTFIX" />
    <WithStack>org.eclipse.jdt.internal.corext.util.JavaModelUtil contains methods that are
being used extensively by my team. The methods that we are using are:

findType(IJavaProject jproject, String fullyQualifiedName)
concatenateName(String name1, String name2)
findMethod(String name, String[] paramTypes, boolean isConstructor, IType type)
findMethodImplementationInHierarchy(ITypeHierarchy hierarchy, IType type, String
name, String[] paramTypes, boolean isConstructor)

Perhaps there are non-internal methods that we could use to accomplish the same
tasks. If not, it appears that we would have to duplicate much of what is
already implemented in JavaModelUtil.
corext is actually defined by JDT/UI
For findType use 'IJavaProject.findType'
For findMethod use 'IType.findMethod'

concatenateName would be nice to have, I agree (maybe in Signature?).

findMethodImplementationInHierarchy is also a good to have, but note that you
better use the AST and bindings to get the 100% correct result. The
implementation in JavaModelUtil is trying it's best but doesn't has the full
information.

Moving to core to consider adding new API.
Jerome - pls see what's reasonable doing for M4
findMethodImplementationInHierarchy is quite complicated to implement with 5.0.
If you want to have a look at our implementation it is in
MethodOverrideTester.findDeclaringMethod. It substitutes all type parameters to
find out that add(E) is e.g. overridden by add(String).
As said, better use AST and bindings for that. (We need the code to get the
override indicators)
Dan, can you please confirm that following is ok for you ?

1. findType(IJavaProject jproject, String fullyQualifiedName)
As Martin said, you can use IJavaProject#findType(String). Note that bug 22883
is going to be fixed soon, so you will be able to find secondary types.

2. concatenateName(String name1, String name2)
It is a no-brainer (name1 + '.' + name2 with null checks). There is nothing JDT
specific to this. I would suggest simply copying this code.

3. findMethod(String name, String[] paramTypes, boolean isConstructor, IType type)
As Marting said, you can use IType#findMethod(IMethod). To construct the
argument, use 'type.getMethod(name, paramTypes)'.
Martin, any idea why you're not already doing this ? Or is it for historical
reason ?

4. findMethodImplementationInHierarchy(...)
Can you use a DOM AST as Martin suggested ? Otherwise we will implement it in
JDT Core with the limitation that Martin outlined (it won't do any parameter
substitution in the 5.0 case).
2. I know it's a no-brainer, but it would still be nice to have it somewhere, we
really use it a lot. It is somehow JDT specific (using '.' to qualify) and I
find Signature to be the best place for it that I can think of (related to
Signarure.getQualifier, Signature.getSimpleName)
(its 11 lines of code).

3. I guess we could change our util to the existing API, don't see why we
haven't yet.
1. OK
2. OK, it sounds reasonalbe to make our own concatenate method
3. OK
4. It appears as though my team may not need to use this method at all anymore.
If we do, I will contact Martin for help with the DOM AST. 
Thanks Dan. I'm closing this bug then.</WithStack>
    <WithOutStack>org.eclipse.jdt.internal.corext.util.JavaModelUtil contains methods that are
being used extensively by my team. The methods that we are using are:

findType(IJavaProject jproject, String fullyQualifiedName)
concatenateName(String name1, String name2)
findMethod(String name, String[] paramTypes, boolean isConstructor, IType type)
findMethodImplementationInHierarchy(ITypeHierarchy hierarchy, IType type, String
name, String[] paramTypes, boolean isConstructor)

Perhaps there are non-internal methods that we could use to accomplish the same
tasks. If not, it appears that we would have to duplicate much of what is
already implemented in JavaModelUtil.
corext is actually defined by JDT/UI
For findType use 'IJavaProject.findType'
For findMethod use 'IType.findMethod'

concatenateName would be nice to have, I agree (maybe in Signature?).

findMethodImplementationInHierarchy is also a good to have, but note that you
better use the AST and bindings to get the 100% correct result. The
implementation in JavaModelUtil is trying it's best but doesn't has the full
information.

Moving to core to consider adding new API.
Jerome - pls see what's reasonable doing for M4
findMethodImplementationInHierarchy is quite complicated to implement with 5.0.
If you want to have a look at our implementation it is in
MethodOverrideTester.findDeclaringMethod. It substitutes all type parameters to
find out that add(E) is e.g. overridden by add(String).
As said, better use AST and bindings for that. (We need the code to get the
override indicators)
Dan, can you please confirm that following is ok for you ?

1. findType(IJavaProject jproject, String fullyQualifiedName)
As Martin said, you can use IJavaProject#findType(String). Note that bug 22883
is going to be fixed soon, so you will be able to find secondary types.

2. concatenateName(String name1, String name2)
It is a no-brainer (name1 + '.' + name2 with null checks). There is nothing JDT
specific to this. I would suggest simply copying this code.

3. findMethod(String name, String[] paramTypes, boolean isConstructor, IType type)
As Marting said, you can use IType#findMethod(IMethod). To construct the
argument, use 'type.getMethod(name, paramTypes)'.
Martin, any idea why you're not already doing this ? Or is it for historical
reason ?

4. findMethodImplementationInHierarchy(...)
Can you use a DOM AST as Martin suggested ? Otherwise we will implement it in
JDT Core with the limitation that Martin outlined (it won't do any parameter
substitution in the 5.0 case).
2. I know it's a no-brainer, but it would still be nice to have it somewhere, we
really use it a lot. It is somehow JDT specific (using '.' to qualify) and I
find Signature to be the best place for it that I can think of (related to
Signarure.getQualifier, Signature.getSimpleName)
(its 11 lines of code).

3. I guess we could change our util to the existing API, don't see why we
haven't yet.
1. OK
2. OK, it sounds reasonalbe to make our own concatenate method
3. OK
4. It appears as though my team may not need to use this method at all anymore.
If we do, I will contact Martin for help with the DOM AST. 
Thanks Dan. I'm closing this bug then.</WithOutStack>
  </Bug>
  <Bug>
    <BugId amount="110821" />
    <CreationDate amount="2005-09-27 11:56:00 -0400" />
    <DupId amount="" />
    <classification amount="Modeling" />
    <Product amount="GMF-Runtime" />
    <component amount="General" />
    <Version amount="1.0" />
    <rep_platform amount="PC" />
    <op_sys amount="Windows 2000" />
    <priority amount="P3" />
    <bug_severity amount="minor" />
    <Summery>Text is clipped after resizing note/geoshape and making type bigger</Summery>
    <Patches amount="0" />
    <Stacktraces amount="0" />
    <SourceCodeRegions amount="0" />
    <Enumerations amount="1">
      <Enumeration lines="5">
        <Lines>
          <Line>1. Create a note.</Line>
          <Line>2. Add text "abc".</Line>
          <Line>3. Resize the note approximately twice as big.</Line>
          <Line>4. Change the text size to 14.</Line>
          <Line>RESULT: The text is clipped and looks ugly.</Line>
        </Lines>
      </Enumeration>
    </Enumerations>
    <bug_status amount="RESOLVED" />
    <resolution amount="WORKSFORME" />
    <WithStack>To reproduce:
1. Create a note.
2. Add text "abc".
3. Resize the note approximately twice as big.
4. Change the text size to 14.
RESULT: The text is clipped and looks ugly.

Text will reappear properly if the text is selected or the shape is resized.
Changing component to "Runtime Diagram"
*** Bug 134105 has been marked as a duplicate of this bug. ***
This must have been fixed indirectly recently.  This is not reproducible in the recent integration bits.
[GMF Restructure] Bug 319140 : product GMF and component
Runtime Diagram was the original product and component for this bug</WithStack>
    <WithOutStack>To reproduce:
1. Create a note.
2. Add text "abc".
3. Resize the note approximately twice as big.
4. Change the text size to 14.
RESULT: The text is clipped and looks ugly.

Text will reappear properly if the text is selected or the shape is resized.
Changing component to "Runtime Diagram"
*** Bug 134105 has been marked as a duplicate of this bug. ***
This must have been fixed indirectly recently.  This is not reproducible in the recent integration bits.
[GMF Restructure] Bug 319140 : product GMF and component
Runtime Diagram was the original product and component for this bug</WithOutStack>
  </Bug>
  <Bug>
    <BugId amount="110822" />
    <CreationDate amount="2005-09-27 12:00:00 -0400" />
    <DupId amount="" />
    <classification amount="WebTools" />
    <Product amount="WTP Java EE Tools" />
    <component amount="jst.j2ee" />
    <Version amount="1.0" />
    <rep_platform amount="PC" />
    <op_sys amount="Windows XP" />
    <priority amount="P3" />
    <bug_severity amount="enhancement" />
    <Summery>React to new feature cleanup and split for builds</Summery>
    <Patches amount="0" />
    <Stacktraces amount="0" />
    <SourceCodeRegions amount="0" />
    <Enumerations amount="0" />
    <bug_status amount="CLOSED" />
    <resolution amount="FIXED" />
    <WithStack>Done.
OK</WithStack>
    <WithOutStack>Done.
OK</WithOutStack>
  </Bug>
  <Bug>
    <BugId amount="110823" />
    <CreationDate amount="2005-09-27 12:01:00 -0400" />
    <DupId amount="" />
    <classification amount="WebTools" />
    <Product amount="WTP Java EE Tools" />
    <component amount="jst.j2ee" />
    <Version amount="1.0" />
    <rep_platform amount="PC" />
    <op_sys amount="Windows XP" />
    <priority amount="P3" />
    <bug_severity amount="enhancement" />
    <Summery>[j2ee] Clean up compilation and deprecation warnings</Summery>
    <Patches amount="0" />
    <Stacktraces amount="0" />
    <SourceCodeRegions amount="0" />
    <Enumerations amount="0" />
    <bug_status amount="RESOLVED" />
    <resolution amount="FIXED" />
    <WithStack>Ongoing.
I want to help doing it. I've seen your help request, but I don't know wat have
I to do to start. Is this mail the right way? Thanks
*** Bug 118475 has been marked as a duplicate of this bug. ***
changing target from 1.5 M1 to 1.5 M5 to reflect new numbering system as we join Collisto. 
Created attachment 55279
Fixes many of the warnings in the WTP 2.0 builds

There are still some more warnings to remove, but this patch knocks out quite a lot.  It includes work done by Valentin Baciu (most of the validation &amp; validation.ui changes), but I removed even more warnings from those plugins as well.
Forgot to mark this for review back when I submitted the first patch.
(Note:  I plan to add more patches to clean up more defects.)
Created attachment 57400
Remove all the deprecations that are not API breaking

This patch focuses only on the things marked DoNotUseMeThisWillBeDeletedPost15
After much work, I have verified that no known WTP adopter is broken by these deletions.
Created attachment 58920
What remains to be done from the first patch

This fixes many of the warnings in the WTP 2.0 builds
the patch dated 2007-02-13 17:53 has been applied to the 2.0 stream.  It seems the one dated from 2007-01-24 00:36 was already applied.
Another required step is to introduce project level compiler settings for both JDT and PDE.  These settings need to tighten warnings up to error level so things like "unused imports" don't creep back in. 
Created attachment 59213
A few remaining warnings to remove

All that should remain are the project level compiler settings (so I will attach at least one more patch)
checked in the latest patch (the one from 2/16).
Created attachment 93199
Remove almost all of the DoNotUseMeThisWillBeDeletedPost15 deprecations

This change was broadcast as per the new WTP API Policy.  This bug will be used to track the removal of these for WTP 3.0.
Moving these enhancements to 301 for now
Closing- we removed another batch of the DoNotUseMeThisWillBeDeletedPost15, so we are done for now.</WithStack>
    <WithOutStack>Ongoing.
I want to help doing it. I've seen your help request, but I don't know wat have
I to do to start. Is this mail the right way? Thanks
*** Bug 118475 has been marked as a duplicate of this bug. ***
changing target from 1.5 M1 to 1.5 M5 to reflect new numbering system as we join Collisto. 
Created attachment 55279
Fixes many of the warnings in the WTP 2.0 builds

There are still some more warnings to remove, but this patch knocks out quite a lot.  It includes work done by Valentin Baciu (most of the validation &amp; validation.ui changes), but I removed even more warnings from those plugins as well.
Forgot to mark this for review back when I submitted the first patch.
(Note:  I plan to add more patches to clean up more defects.)
Created attachment 57400
Remove all the deprecations that are not API breaking

This patch focuses only on the things marked DoNotUseMeThisWillBeDeletedPost15
After much work, I have verified that no known WTP adopter is broken by these deletions.
Created attachment 58920
What remains to be done from the first patch

This fixes many of the warnings in the WTP 2.0 builds
the patch dated 2007-02-13 17:53 has been applied to the 2.0 stream.  It seems the one dated from 2007-01-24 00:36 was already applied.
Another required step is to introduce project level compiler settings for both JDT and PDE.  These settings need to tighten warnings up to error level so things like "unused imports" don't creep back in. 
Created attachment 59213
A few remaining warnings to remove

All that should remain are the project level compiler settings (so I will attach at least one more patch)
checked in the latest patch (the one from 2/16).
Created attachment 93199
Remove almost all of the DoNotUseMeThisWillBeDeletedPost15 deprecations

This change was broadcast as per the new WTP API Policy.  This bug will be used to track the removal of these for WTP 3.0.
Moving these enhancements to 301 for now
Closing- we removed another batch of the DoNotUseMeThisWillBeDeletedPost15, so we are done for now.</WithOutStack>
  </Bug>
  <Bug>
    <BugId amount="110824" />
    <CreationDate amount="2005-09-27 12:07:00 -0400" />
    <DupId amount="" />
    <classification amount="Eclipse" />
    <Product amount="PDE" />
    <component amount="UI" />
    <Version amount="3.2" />
    <rep_platform amount="PC" />
    <op_sys amount="Linux" />
    <priority amount="P3" />
    <bug_severity amount="normal" />
    <Summery>Trying to create launch config results in StackOverflowError</Summery>
    <Patches amount="0" />
    <Stacktraces amount="0" />
    <SourceCodeRegions amount="0" />
    <Enumerations amount="2">
      <Enumeration lines="3">
        <Lines>
          <Line>1. I checked out the platform-ui and platform-ui-tests modules</Line>
          <Line />
          <Line>2. Go to the Run icon triangle and select "Run..." from the dropdown</Line>
        </Lines>
      </Enumeration>
      <Enumeration lines="4">
        <Lines>
          <Line>1. creating a new workspace</Line>
          <Line>2. importing my 3.2 preferences</Line>
          <Line>3. grabbing the platform-ui and platform-ui-tests modules from CVS</Line>
          <Line>4. going to the run icon and clicking on the "Run..." drop down</Line>
        </Lines>
      </Enumeration>
    </Enumerations>
    <bug_status amount="RESOLVED" />
    <resolution amount="FIXED" />
    <WithStack>I was working with last night's build on Linux-GTK, and trying to create a
launch configuration causes a StackOverflowError.  Steps:

1. I checked out the platform-ui and platform-ui-tests modules

2. Go to the Run icon triangle and select "Run..." from the dropdown

it goes away, and then pops up an error saying you better exit the workbench.

I've included the .log, but it's not very useful :-)

!SESSION 2005-09-27 10:54:20.899 -----------------------------------------------
eclipse.buildId=N20050927-0010
java.version=1.4.2_08
java.vendor=Sun Microsystems Inc.
BootLoader constants: OS=linux, ARCH=x86, WS=gtk, NL=en_US
Command-line arguments:  -os linux -ws gtk -arch x86

!ENTRY org.eclipse.ui 4 4 2005-09-27 11:51:03.172
!MESSAGE Unhandled event loop exception

!ENTRY org.eclipse.ui 4 0 2005-09-27 11:51:03.186
!MESSAGE java.lang.StackOverflowError
!STACK 0
java.lang.StackOverflowError

PW
how is this a PDE issue?  does it have to do with PDE launch configurations?  
or the entire Debug/Run dialog does not show up?
Actually, after an eclipse self-host has been defined, it's the whole launch
configuration dialog that won't come up.

We can re-route it.

PW

I don't have access to a linux machine today.

Darin, can you reproduce on your machine using the I-build?  If so, is it PDE 
or debug?
Any problems on Mac, Kevin?
nope. everything seems fine on I20050927-0800.
I can reproduce it in Linux-GTK I20050927-1200, even if I restart with -clean.

I'm going to test with a couple of workspaces.

PW

I reproduced this by:

1. creating a new workspace
2. importing my 3.2 preferences
3. grabbing the platform-ui and platform-ui-tests modules from CVS
4. going to the run icon and clicking on the "Run..." drop down

Now the menu comes up, but if I select Eclipse Application and click New, it
creates the new launch config and then pops up the stack overflow.


!SESSION 2005-09-27 14:32:17.509 -----------------------------------------------
eclipse.buildId=I20050927-1200
java.version=1.4.2_08
java.vendor=Sun Microsystems Inc.
BootLoader constants: OS=linux, ARCH=x86, WS=gtk, NL=en_US
Command-line arguments:  -os linux -ws gtk -arch x86 -clean

!ENTRY org.eclipse.ui 4 4 2005-09-27 14:38:43.313
!MESSAGE Unhandled event loop exception

!ENTRY org.eclipse.ui 4 0 2005-09-27 14:38:43.326
!MESSAGE java.lang.StackOverflowError
!STACK 0
java.lang.StackOverflowError


Created attachment 27580
Eclipse 3.2.0 prefs

My eclipse 3.2.0 prefs.

I'm going to try without importing my prefs.

PW
I get the problem in new workspaces without changing any preferences.

On some workspaces, it happens before the launch config dialog can come up.  In
other workspaces, it happens in the launch config dialog as soon as I select one
of the Eclipse Application launch configs.

PW

Doug, have you seen anything like this on the latest integration build on Linux?

PW

Yes, I see this problem as well.  It does not occur using 3.2 M2.  However, 
with I20050927-1200, click on "Run..." causes an immediate StackOverflowError.  
I will try to get a usable backtrace.... 
Created attachment 27584
Stack Trace

Stack trace showing it stuck in CheckboxTreeViewer.applyState.	If allowed to
continue from this point, it will overflow the stack.

I'll track down the change that caused the problem....
Okay, I've check the JFace part of the stack and it all seems clean.  No  
changes have been put into org.eclipse.jface that could affect this.  The  
entry point to our code is PluginBlock from org.eclipse.pde.ui.  
  
I would recommend that a rebuild be requested to address this bug.... 
 
because the plugin viewer in the launch configuration can potentially contain 
thousands of plugins, I thought it might be a good idea to create the tree 
with SWT.VIRTUAL, which caused the problem on Linux-GTK.

I will revert that and ask for a rebuild so that linux people can function 
again.

cc Steve to comment if I am misusing SWT.VIRTUAL or if there is a problem with 
virtual things on gtk.
The style SWT.VIRTUAL is usually used in connection with setItemCount and the
SetData event.  Just setting SWT.VIRTUAL in the Tree does not make it virtual. 
It merely enables it.

In addition, the API to support virtual behaviour on Tree is not yet supported
(see bug 92341).

I will investigate the stack overflow but for now you should definitely remove
the SWT.VIRTUAL style bit.
I have fixed the cause of the stack overflow in HEAD.
Virtual should do nothing for Trees on GTK (and elsewhere) until we release 
the final versions of the code.
So I took out the SWT.VIRTUAL bit and Veronika fixed the stack flow problem.

Declaring success and closing the bug.</WithStack>
    <WithOutStack>I was working with last night's build on Linux-GTK, and trying to create a
launch configuration causes a StackOverflowError.  Steps:

1. I checked out the platform-ui and platform-ui-tests modules

2. Go to the Run icon triangle and select "Run..." from the dropdown

it goes away, and then pops up an error saying you better exit the workbench.

I've included the .log, but it's not very useful :-)

!SESSION 2005-09-27 10:54:20.899 -----------------------------------------------
eclipse.buildId=N20050927-0010
java.version=1.4.2_08
java.vendor=Sun Microsystems Inc.
BootLoader constants: OS=linux, ARCH=x86, WS=gtk, NL=en_US
Command-line arguments:  -os linux -ws gtk -arch x86

!ENTRY org.eclipse.ui 4 4 2005-09-27 11:51:03.172
!MESSAGE Unhandled event loop exception

!ENTRY org.eclipse.ui 4 0 2005-09-27 11:51:03.186
!MESSAGE java.lang.StackOverflowError
!STACK 0
java.lang.StackOverflowError

PW
how is this a PDE issue?  does it have to do with PDE launch configurations?  
or the entire Debug/Run dialog does not show up?
Actually, after an eclipse self-host has been defined, it's the whole launch
configuration dialog that won't come up.

We can re-route it.

PW

I don't have access to a linux machine today.

Darin, can you reproduce on your machine using the I-build?  If so, is it PDE 
or debug?
Any problems on Mac, Kevin?
nope. everything seems fine on I20050927-0800.
I can reproduce it in Linux-GTK I20050927-1200, even if I restart with -clean.

I'm going to test with a couple of workspaces.

PW

I reproduced this by:

1. creating a new workspace
2. importing my 3.2 preferences
3. grabbing the platform-ui and platform-ui-tests modules from CVS
4. going to the run icon and clicking on the "Run..." drop down

Now the menu comes up, but if I select Eclipse Application and click New, it
creates the new launch config and then pops up the stack overflow.


!SESSION 2005-09-27 14:32:17.509 -----------------------------------------------
eclipse.buildId=I20050927-1200
java.version=1.4.2_08
java.vendor=Sun Microsystems Inc.
BootLoader constants: OS=linux, ARCH=x86, WS=gtk, NL=en_US
Command-line arguments:  -os linux -ws gtk -arch x86 -clean

!ENTRY org.eclipse.ui 4 4 2005-09-27 14:38:43.313
!MESSAGE Unhandled event loop exception

!ENTRY org.eclipse.ui 4 0 2005-09-27 14:38:43.326
!MESSAGE java.lang.StackOverflowError
!STACK 0
java.lang.StackOverflowError


Created attachment 27580
Eclipse 3.2.0 prefs

My eclipse 3.2.0 prefs.

I'm going to try without importing my prefs.

PW
I get the problem in new workspaces without changing any preferences.

On some workspaces, it happens before the launch config dialog can come up.  In
other workspaces, it happens in the launch config dialog as soon as I select one
of the Eclipse Application launch configs.

PW

Doug, have you seen anything like this on the latest integration build on Linux?

PW

Yes, I see this problem as well.  It does not occur using 3.2 M2.  However, 
with I20050927-1200, click on "Run..." causes an immediate StackOverflowError.  
I will try to get a usable backtrace.... 
Created attachment 27584
Stack Trace

Stack trace showing it stuck in CheckboxTreeViewer.applyState.	If allowed to
continue from this point, it will overflow the stack.

I'll track down the change that caused the problem....
Okay, I've check the JFace part of the stack and it all seems clean.  No  
changes have been put into org.eclipse.jface that could affect this.  The  
entry point to our code is PluginBlock from org.eclipse.pde.ui.  
  
I would recommend that a rebuild be requested to address this bug.... 
 
because the plugin viewer in the launch configuration can potentially contain 
thousands of plugins, I thought it might be a good idea to create the tree 
with SWT.VIRTUAL, which caused the problem on Linux-GTK.

I will revert that and ask for a rebuild so that linux people can function 
again.

cc Steve to comment if I am misusing SWT.VIRTUAL or if there is a problem with 
virtual things on gtk.
The style SWT.VIRTUAL is usually used in connection with setItemCount and the
SetData event.  Just setting SWT.VIRTUAL in the Tree does not make it virtual. 
It merely enables it.

In addition, the API to support virtual behaviour on Tree is not yet supported
(see bug 92341).

I will investigate the stack overflow but for now you should definitely remove
the SWT.VIRTUAL style bit.
I have fixed the cause of the stack overflow in HEAD.
Virtual should do nothing for Trees on GTK (and elsewhere) until we release 
the final versions of the code.
So I took out the SWT.VIRTUAL bit and Veronika fixed the stack flow problem.

Declaring success and closing the bug.</WithOutStack>
  </Bug>
  <Bug>
    <BugId amount="110825" />
    <CreationDate amount="2005-09-27 12:08:00 -0400" />
    <DupId amount="110817" />
    <classification amount="WebTools" />
    <Product amount="WTP Java EE Tools" />
    <component amount="jst.j2ee" />
    <Version amount="1.0" />
    <rep_platform amount="PC" />
    <op_sys amount="Windows 2000" />
    <priority amount="P3" />
    <bug_severity amount="normal" />
    <Summery>EAR components are created with an extra folder</Summery>
    <Patches amount="0" />
    <Stacktraces amount="0" />
    <SourceCodeRegions amount="0" />
    <Enumerations amount="0" />
    <bug_status amount="CLOSED" />
    <resolution amount="DUPLICATE" />
    <WithStack>Create an EAR project called ear (single component per project). The component  
has an extra folder in between it and the project root. i.e. the META-INF 
directory is &lt;workspaceroot&gt;/ear/ear/META-INF. It should be &lt;workspaceroot&gt;/ear/
META-INF.
We will track using 110817

*** This bug has been marked as a duplicate of 110817 ***
ok</WithStack>
    <WithOutStack>Create an EAR project called ear (single component per project). The component  
has an extra folder in between it and the project root. i.e. the META-INF 
directory is &lt;workspaceroot&gt;/ear/ear/META-INF. It should be &lt;workspaceroot&gt;/ear/
META-INF.
We will track using 110817

*** This bug has been marked as a duplicate of 110817 ***
ok</WithOutStack>
  </Bug>
  <Bug>
    <BugId amount="110826" />
    <CreationDate amount="2005-09-27 12:08:00 -0400" />
    <DupId amount="" />
    <classification amount="Eclipse" />
    <Product amount="JDT" />
    <component amount="Core" />
    <Version amount="3.2" />
    <rep_platform amount="PC" />
    <op_sys amount="Windows XP" />
    <priority amount="P3" />
    <bug_severity amount="normal" />
    <Summery>[compiler] Batch compiler doesn't work when set on the bootclasspath</Summery>
    <Patches amount="0" />
    <Stacktraces amount="0" />
    <SourceCodeRegions amount="1">
      <source_code type="class">
        <location start="954" end="984" />
        <code>public class X {
    ZORK f;
}</code>
      </source_code>
    </SourceCodeRegions>
    <Enumerations amount="0" />
    <bug_status amount="VERIFIED" />
    <resolution amount="FIXED" />
    <WithStack>When compiling code that needs to report error messages, the batch compiler
blows up with this error:
Exception in thread "main" java.lang.NoClassDefFoundError
        at
org.eclipse.jdt.internal.compiler.Compiler.handleInternalException(Compiler.java:399)
        at org.eclipse.jdt.internal.compiler.Compiler.compile(Compiler.java:348)
        at
org.eclipse.jdt.internal.compiler.batch.Main.performCompilation(Main.java:2728)
        at org.eclipse.jdt.internal.compiler.batch.Main.compile(Main.java:1166)
        at org.eclipse.jdt.internal.compiler.batch.Main.main(Main.java:1071)

This comes from the Messages class that doesn't support its field initialization
when loaded from the system class loader (this is the consequence of having the
compiler classes on the bootclasspath).

To reproduce, use the following command line:
java -Xbootclasspath/a:org.eclipse.jdt.core_3.1.0.jar
org.eclipse.jdt.internal.compiler.batch.Main  X.java

When X is:
public class X {
    ZORK f;
}
Created attachment 27563
Proposed fix
+1 for 3.1.1
Fixed and released in 3.1.1 maintenance stream.
No specific regression tests. Try to run the command line in comment 0.
Verified in  M20050923-1430 + JDT/Core 3.1.1RC3 candidate</WithStack>
    <WithOutStack>When compiling code that needs to report error messages, the batch compiler
blows up with this error:
Exception in thread "main" java.lang.NoClassDefFoundError
        at
org.eclipse.jdt.internal.compiler.Compiler.handleInternalException(Compiler.java:399)
        at org.eclipse.jdt.internal.compiler.Compiler.compile(Compiler.java:348)
        at
org.eclipse.jdt.internal.compiler.batch.Main.performCompilation(Main.java:2728)
        at org.eclipse.jdt.internal.compiler.batch.Main.compile(Main.java:1166)
        at org.eclipse.jdt.internal.compiler.batch.Main.main(Main.java:1071)

This comes from the Messages class that doesn't support its field initialization
when loaded from the system class loader (this is the consequence of having the
compiler classes on the bootclasspath).

To reproduce, use the following command line:
java -Xbootclasspath/a:org.eclipse.jdt.core_3.1.0.jar
org.eclipse.jdt.internal.compiler.batch.Main  X.java

When X is:
public class X {
    ZORK f;
}
Created attachment 27563
Proposed fix
+1 for 3.1.1
Fixed and released in 3.1.1 maintenance stream.
No specific regression tests. Try to run the command line in comment 0.
Verified in  M20050923-1430 + JDT/Core 3.1.1RC3 candidate</WithOutStack>
  </Bug>
  <Bug>
    <BugId amount="110827" />
    <CreationDate amount="2005-09-27 12:09:00 -0400" />
    <DupId amount="" />
    <classification amount="Tools" />
    <Product amount="TPTP Testing" />
    <component amount="Test.UI.FrameworkEditors" />
    <Version amount="4.1" />
    <rep_platform amount="All" />
    <op_sys amount="All" />
    <priority amount="P1" />
    <bug_severity amount="major" />
    <Summery>Links to referenced test suites (manual and JUnit) break between TPTP releases.</Summery>
    <Patches amount="0" />
    <Stacktraces amount="0" />
    <SourceCodeRegions amount="0" />
    <Enumerations amount="1">
      <Enumeration lines="4">
        <Lines>
          <Line>1- an improbable one. The object contained in the selection of the left panel is not an invocation.</Line>
          <Line>2- the invoked test reference set in the invocation object returns null.</Line>
          <Line>The query of the invoked test is located at the line 205 in the class org.eclipse.hyades.test.tools.ui.common.internal.editor.TestInvocationDetailPage.</Line>
          <Line>I think the content of this getter is clean (even if this is not a pure EMF generated getter due the facade).</Line>
        </Lines>
      </Enumeration>
    </Enumerations>
    <bug_status amount="CLOSED" />
    <resolution amount="INVALID" />
    <WithStack>Links to referenced test suites (manual and JUnit) break between TPTP releases.

Note:  Please reroute this defect to the correct component.  The problem 
manifests itself in the test suite editors but appears to be a Test model issue 
with the relative links.

From release to release of TPTP, links to referenced test suites (manual and 
JUnit but HTTP has not been checked) break.  The use case for this defect is 
the TPTP testing resources (http://dev.eclipse.org/viewcvs/index.cgi/test-
results/?cvsroot=TPTP_Project).  The test-
results\platform\org.eclipse.hyades.tests\AllJUnitTests.testsuite test suite 
references (see the Behavior tab of the test suite's editor) AllTests.testsuite 
test suites in the other projects of the test-results directory (see test-
results\platform\org.eclipse.hyades.tests\README.txt and 
http://www.eclipse.org/tptp/home/documents/process/TPTP_Testing_Strategy.html 
for more details).  From release to release of TPTP, some of these linkages are 
broken.  To reproduce, extract the test-results module from either the TPTP-
4_0_0 or TPTP-4_0_1 CVS branches to a TPTP v4.0 and TPTP v4.1 workbench.  Note 
the linkages are present in the TPTP v4.0 workbench but not in the TPTP v4.1 
workbench.
Will attempt to fix this in 4.1i3.
Retarget to 4.2 since this cannot be fixed in 4.1.
Reassign to Jerome for tptp 4.2. in accordance with discussion in Test project meeting 12/12/2005.
Increasing severity since this defect has resurfaced again in TPTP V4.2.0 (see http://dev.eclipse.org/viewcvs/index.cgi/test-results/platform/org.eclipse.hyades.tests/AllManualTests.testsuite?cvsroot=TPTP_Project).
Created attachment 34028
screen_capture.JPG
Using latest 4.2, I'm not able to reproduce.
I have inspected/debuged the source code that is responsible of displaying data in the test suite editor for the test suite you mentioned.
The source code is very simple and clear at this point.
There are two possible reasons to explain the result you noticed:
 1- an improbable one. The object contained in the selection of the left panel is not an invocation.
 2- the invoked test reference set in the invocation object returns null.
The query of the invoked test is located at the line 205 in the class org.eclipse.hyades.test.tools.ui.common.internal.editor.TestInvocationDetailPage.
I think the content of this getter is clean (even if this is not a pure EMF generated getter due the facade).

For all those reason I believe that this problem comes from your configuration.

Feel free to reopen if you find a usecase that reproduces it each time.

Created attachment 34064
Here is what I get
Created attachment 34077
screen_capture2.JPG

This problem can be reproduced (TPTP-4.2.0-200601310100) when extracting the actual test plug-ins from CVS (see screen_capture2.JPG).  For example, extract all the plug-ins in the following folders under the test-results module in CVS:

http://dev.eclipse.org/viewcvs/index.cgi/test-results/monitor/?cvsroot=TPTP_Project

http://dev.eclipse.org/viewcvs/index.cgi/test-results/platform/?cvsroot=TPTP_Project

http://dev.eclipse.org/viewcvs/index.cgi/test-results/test/?cvsroot=TPTP_Project

http://dev.eclipse.org/viewcvs/index.cgi/test-results/trace/?cvsroot=TPTP_Project
(In reply to comment #8)

As such, reopening.

No resource to investigate this defect before end of 4.2
Retarget to 4.4 since all non-blocking/critical defects will be deferred
as decided in AG call.
Has the priority for this defect been recently reviewed given its severity?  If not, please take a few minutes and reevaluate the priority.
Will be included in the 4.4 plan.  

Please target to a 4.4 iteration.
Increasing the priority to P1 since including in the 4.4 plan.
Increasing the priority to P1 since including in the 4.4 plan.
Assigning target.
This defect is the result of test suites being copied/moved.  As such, the solution is to provide move, copy, delete, rename and import/export capabilities for test assets. (see feature 166025).
Closing.</WithStack>
    <WithOutStack>Links to referenced test suites (manual and JUnit) break between TPTP releases.

Note:  Please reroute this defect to the correct component.  The problem 
manifests itself in the test suite editors but appears to be a Test model issue 
with the relative links.

From release to release of TPTP, links to referenced test suites (manual and 
JUnit but HTTP has not been checked) break.  The use case for this defect is 
the TPTP testing resources (http://dev.eclipse.org/viewcvs/index.cgi/test-
results/?cvsroot=TPTP_Project).  The test-
results\platform\org.eclipse.hyades.tests\AllJUnitTests.testsuite test suite 
references (see the Behavior tab of the test suite's editor) AllTests.testsuite 
test suites in the other projects of the test-results directory (see test-
results\platform\org.eclipse.hyades.tests\README.txt and 
http://www.eclipse.org/tptp/home/documents/process/TPTP_Testing_Strategy.html 
for more details).  From release to release of TPTP, some of these linkages are 
broken.  To reproduce, extract the test-results module from either the TPTP-
4_0_0 or TPTP-4_0_1 CVS branches to a TPTP v4.0 and TPTP v4.1 workbench.  Note 
the linkages are present in the TPTP v4.0 workbench but not in the TPTP v4.1 
workbench.
Will attempt to fix this in 4.1i3.
Retarget to 4.2 since this cannot be fixed in 4.1.
Reassign to Jerome for tptp 4.2. in accordance with discussion in Test project meeting 12/12/2005.
Increasing severity since this defect has resurfaced again in TPTP V4.2.0 (see http://dev.eclipse.org/viewcvs/index.cgi/test-results/platform/org.eclipse.hyades.tests/AllManualTests.testsuite?cvsroot=TPTP_Project).
Created attachment 34028
screen_capture.JPG
Using latest 4.2, I'm not able to reproduce.
I have inspected/debuged the source code that is responsible of displaying data in the test suite editor for the test suite you mentioned.
The source code is very simple and clear at this point.
There are two possible reasons to explain the result you noticed:
 1- an improbable one. The object contained in the selection of the left panel is not an invocation.
 2- the invoked test reference set in the invocation object returns null.
The query of the invoked test is located at the line 205 in the class org.eclipse.hyades.test.tools.ui.common.internal.editor.TestInvocationDetailPage.
I think the content of this getter is clean (even if this is not a pure EMF generated getter due the facade).

For all those reason I believe that this problem comes from your configuration.

Feel free to reopen if you find a usecase that reproduces it each time.

Created attachment 34064
Here is what I get
Created attachment 34077
screen_capture2.JPG

This problem can be reproduced (TPTP-4.2.0-200601310100) when extracting the actual test plug-ins from CVS (see screen_capture2.JPG).  For example, extract all the plug-ins in the following folders under the test-results module in CVS:

http://dev.eclipse.org/viewcvs/index.cgi/test-results/monitor/?cvsroot=TPTP_Project

http://dev.eclipse.org/viewcvs/index.cgi/test-results/platform/?cvsroot=TPTP_Project

http://dev.eclipse.org/viewcvs/index.cgi/test-results/test/?cvsroot=TPTP_Project

http://dev.eclipse.org/viewcvs/index.cgi/test-results/trace/?cvsroot=TPTP_Project
(In reply to comment #8)

As such, reopening.

No resource to investigate this defect before end of 4.2
Retarget to 4.4 since all non-blocking/critical defects will be deferred
as decided in AG call.
Has the priority for this defect been recently reviewed given its severity?  If not, please take a few minutes and reevaluate the priority.
Will be included in the 4.4 plan.  

Please target to a 4.4 iteration.
Increasing the priority to P1 since including in the 4.4 plan.
Increasing the priority to P1 since including in the 4.4 plan.
Assigning target.
This defect is the result of test suites being copied/moved.  As such, the solution is to provide move, copy, delete, rename and import/export capabilities for test assets. (see feature 166025).
Closing.</WithOutStack>
  </Bug>
  <Bug>
    <BugId amount="110828" />
    <CreationDate amount="2005-09-27 12:21:00 -0400" />
    <DupId amount="" />
    <classification amount="WebTools" />
    <Product amount="WTP Java EE Tools" />
    <component amount="jst.j2ee" />
    <Version amount="1.0" />
    <rep_platform amount="PC" />
    <op_sys amount="Windows 2000" />
    <priority amount="P3" />
    <bug_severity amount="major" />
    <Summery>component.getRootFolder().getUnderlyingFolders() fails for ear components where root is project root</Summery>
    <Patches amount="0" />
    <Stacktraces amount="1">
      <Stacktrace timestamp="1437330582160">
        <Exception>java.lang.IllegalArgumentException</Exception>
        <Reason>Path must include project and resource name: 
/wps</Reason>
        <Frames>
          <Frame depth="0">org.eclipse.core.internal.utils.Assert.isLegal(Assert.java:60)</Frame>
          <Frame depth="1">org.eclipse.core.internal.resources.Workspace.newResource(Workspace.java:1554)</Frame>
          <Frame depth="2">org.eclipse.core.internal.resources.Container.getFolder(Container.java:139)</Frame>
          <Frame depth="3">org.eclipse.wst.common.componentcore.internal.resources.VirtualFolder.getUnderlyingFolders(VirtualFolder.java:95)</Frame>
        </Frames>
      </Stacktrace>
    </Stacktraces>
    <SourceCodeRegions amount="0" />
    <Enumerations amount="0" />
    <bug_status amount="CLOSED" />
    <resolution amount="FIXED" />
    <WithStack>This is most likely related to Bugzilla #110825. If an ear project does not 
contain the extra folder (see 110825) then all call to component.getRootFolder(
).getUnderlyingFolders() throws an IllegalArgumentException:

java.lang.IllegalArgumentException: Path must include project and resource name: 
/wps
at org.eclipse.core.internal.utils.Assert.isLegal(Assert.java:60)
at org.eclipse.core.internal.resources.Workspace.newResource(Workspace.
java:1554)
at org.eclipse.core.internal.resources.Container.getFolder(Container.java:
139)
at org.eclipse.wst.common.componentcore.internal.resources.VirtualFolder.
getUnderlyingFolders(VirtualFolder.java:95)
Created attachment 27564
Zip containing an ear project called wps

Attached a zip file containing an ear project to test this. Call
ComponentUtilities.getComponent("wps").getRootFolder().getUnderlyingFolders()
and the exception will be thrown.
Neeraj, this is related to the line item of switching the ear component to be at
the project root.
fixed
Created attachment 28180
VirtualFolder Patch
This bug is being moved to the "closed" state since it has been in the fixed state for a so long it is being assumed fixed, without explicit verification from the originator. If there is still a problem, in the most recent 1.5.x builds, please reopen or open another bug.</WithStack>
    <WithOutStack>This is most likely related to Bugzilla #110825. If an ear project does not 
contain the extra folder (see 110825) then all call to component.getRootFolder(
).getUnderlyingFolders() throws an IllegalArgumentException:


Created attachment 27564
Zip containing an ear project called wps

Attached a zip file containing an ear project to test this. Call
ComponentUtilities.getComponent("wps").getRootFolder().getUnderlyingFolders()
and the exception will be thrown.
Neeraj, this is related to the line item of switching the ear component to be at
the project root.
fixed
Created attachment 28180
VirtualFolder Patch
This bug is being moved to the "closed" state since it has been in the fixed state for a so long it is being assumed fixed, without explicit verification from the originator. If there is still a problem, in the most recent 1.5.x builds, please reopen or open another bug.</WithOutStack>
  </Bug>
  <Bug>
    <BugId amount="110829" />
    <CreationDate amount="2005-09-27 12:28:00 -0400" />
    <DupId amount="" />
    <classification amount="Modeling" />
    <Product amount="EMF" />
    <component amount="Tools" />
    <Version amount="2.1" />
    <rep_platform amount="PC" />
    <op_sys amount="Windows XP" />
    <priority amount="P3" />
    <bug_severity amount="normal" />
    <Summery>Dialog title not set for information status</Summery>
    <Patches amount="0" />
    <Stacktraces amount="0" />
    <SourceCodeRegions amount="0" />
    <Enumerations amount="0" />
    <bug_status amount="VERIFIED" />
    <resolution amount="FIXED" />
    <WithStack>The dialog title is not being set correctly in the case of an information 
status in ModelImporterPage#handleNotOKStatus(IStatus, DecodedAction, String, 
String, String).
The fix has been committed to CVS.
The fix is available in build I200509290200.
Move to verified as per bug 206558.</WithStack>
    <WithOutStack>The dialog title is not being set correctly in the case of an information 
status in ModelImporterPage#handleNotOKStatus(IStatus, DecodedAction, String, 
String, String).
The fix has been committed to CVS.
The fix is available in build I200509290200.
Move to verified as per bug 206558.</WithOutStack>
  </Bug>
  <Bug>
    <BugId amount="110830" />
    <CreationDate amount="2005-09-27 12:31:00 -0400" />
    <DupId amount="" />
    <classification amount="Modeling" />
    <Product amount="EMF" />
    <component amount="Edit" />
    <Version amount="2.1" />
    <rep_platform amount="PC" />
    <op_sys amount="Windows XP" />
    <priority amount="P3" />
    <bug_severity amount="enhancement" />
    <Summery>EcoreEditor ClassCastException opening ecore from Jar</Summery>
    <Patches amount="0" />
    <Stacktraces amount="1">
      <Stacktrace timestamp="1437330582160">
        <Exception>java.lang.ClassCastException</Exception>
        <Reason>org.eclipse.jdt.internal.ui.javaeditor.JarEntryEditorInput</Reason>
        <Frames>
          <Frame depth="0">org.eclipse.emf.ecore.presentation.EcoreEditor.createModel(EcoreEditor.java:821)</Frame>
          <Frame depth="1">org.eclipse.emf.ecore.presentation.EcoreEditor.createPages(EcoreEditor.java:845)</Frame>
          <Frame depth="2">org.eclipse.ui.part.MultiPageEditorPart.createPartControl(MultiPageEditorPart.java:241)</Frame>
          <Frame depth="3">org.eclipse.ui.internal.EditorReference.createPartHelper(EditorReference.java:585)</Frame>
          <Frame depth="4">org.eclipse.ui.internal.EditorReference.createPart(EditorReference.java:365)</Frame>
        </Frames>
      </Stacktrace>
    </Stacktraces>
    <SourceCodeRegions amount="0" />
    <Enumerations amount="0" />
    <bug_status amount="VERIFIED" />
    <resolution amount="FIXED" />
    <WithStack>Double click on an ecore file that is inside a jar and you receive this 
exception in the Ecore editor:

java.lang.ClassCastException: 
org.eclipse.jdt.internal.ui.javaeditor.JarEntryEditorInput
	at org.eclipse.emf.ecore.presentation.EcoreEditor.createModel
(EcoreEditor.java:821)
	at org.eclipse.emf.ecore.presentation.EcoreEditor.createPages
(EcoreEditor.java:845)
	at org.eclipse.ui.part.MultiPageEditorPart.createPartControl
(MultiPageEditorPart.java:241)
	at org.eclipse.ui.internal.EditorReference.createPartHelper
(EditorReference.java:585)
	at org.eclipse.ui.internal.EditorReference.createPart
(EditorReference.java:365)

This Editor should at least allow you to view the ecore, even if it is 
uneditable.
Karen,

This is a feature request.  You are asking us to support other forms of
IEditorInput that we aren't expecting to see and have never supported. A similar
type of problem happens when opening from a CVS view:

Unable to create this part due to an internal error. Reason for the failure:
org/eclipse/team/internal/ccvs/ui/RemoteFileEditorInput incompatible with
org/eclipse/ui/IFileEditorInput

I definitely agree that it would be very nice to support at least read only
views on these things.  It would be especially nice if our generated editors
support that too, so we might as well try to address that more general issue
while we are at it.

How can I reproduce this particular problem you report?

One problematic aspect we'll need to solve is that we really need a well formed
URI to represent the input so that relative URIs within the document can be
properly resolved.
Ed, you're right, this is a feature request, though possibly the editor could 
handle the situation better instead of showing an internal error(though it's 
rather self-explanatory).

I hit this problem while trying to view the Ecore.ecore.  I have the 
org.eclipse.emf.ecore_2.1.0.jar as a Plugin-Dependency in my plug-in and 
browsed to the Ecore.ecore inside of that jar.  So instead of viewing it from 
inside of the jar I had to add the emf plugin as an External Plug-in.  
Definitely a minor issue
*** Bug 110850 has been marked as a duplicate of this bug. ***
Karen,

This will be harder to support than I might like.  The only way I can get the
information I need to open the resource properly is using toString on the
IStorage of the IStorageEditorInput to yield something like this:

JarEntryFile[D:\sandbox\unpackage1_I20050823\eclipse\plugins\org.eclipse.emf.ecore\ecore.jar::stuff/library.ecore]

From that I could synthesize this URL to open the resource

  archive:/eclipse/plugins/org.eclipse.emf.ecore/ecore.jar!/stuff/library.ecore

I noticed that things like the plugin.xml editor don't work in this case, but
I'm not sure what disabled the editor so it doesn't try to come up and fail...

Although things like IStorage have a method that returns an InputStream, without
a URI, we won't be able to resolve any of the relative cross resource references
within the file, so having just a stream is not sufficient.

The CVS thing is even worse.  I know I can determine something like this from
the IStorage's path:

dev.eclipse.org/cvsroot/tools/org.eclipse.emf/plugins/org.eclipse.emf.ecore/model/Ecore.ecore
1.1

But I don't know how to turn that into a URL that accesses the resource.
I committed change that provided limited support for this.  Cross document references won't resolve...
Fixed in the I200512151150 build.
Sorry, my commit failed because of CVS problems this morning, so this won't be in a build until next week.
Move to verified as per bug 206558.</WithStack>
    <WithOutStack>Double click on an ecore file that is inside a jar and you receive this 
exception in the Ecore editor:



This Editor should at least allow you to view the ecore, even if it is 
uneditable.
Karen,

This is a feature request.  You are asking us to support other forms of
IEditorInput that we aren't expecting to see and have never supported. A similar
type of problem happens when opening from a CVS view:

Unable to create this part due to an internal error. Reason for the failure:
org/eclipse/team/internal/ccvs/ui/RemoteFileEditorInput incompatible with
org/eclipse/ui/IFileEditorInput

I definitely agree that it would be very nice to support at least read only
views on these things.  It would be especially nice if our generated editors
support that too, so we might as well try to address that more general issue
while we are at it.

How can I reproduce this particular problem you report?

One problematic aspect we'll need to solve is that we really need a well formed
URI to represent the input so that relative URIs within the document can be
properly resolved.
Ed, you're right, this is a feature request, though possibly the editor could 
handle the situation better instead of showing an internal error(though it's 
rather self-explanatory).

I hit this problem while trying to view the Ecore.ecore.  I have the 
org.eclipse.emf.ecore_2.1.0.jar as a Plugin-Dependency in my plug-in and 
browsed to the Ecore.ecore inside of that jar.  So instead of viewing it from 
inside of the jar I had to add the emf plugin as an External Plug-in.  
Definitely a minor issue
*** Bug 110850 has been marked as a duplicate of this bug. ***
Karen,

This will be harder to support than I might like.  The only way I can get the
information I need to open the resource properly is using toString on the
IStorage of the IStorageEditorInput to yield something like this:

JarEntryFile[D:\sandbox\unpackage1_I20050823\eclipse\plugins\org.eclipse.emf.ecore\ecore.jar::stuff/library.ecore]

From that I could synthesize this URL to open the resource

  archive:/eclipse/plugins/org.eclipse.emf.ecore/ecore.jar!/stuff/library.ecore

I noticed that things like the plugin.xml editor don't work in this case, but
I'm not sure what disabled the editor so it doesn't try to come up and fail...

Although things like IStorage have a method that returns an InputStream, without
a URI, we won't be able to resolve any of the relative cross resource references
within the file, so having just a stream is not sufficient.

The CVS thing is even worse.  I know I can determine something like this from
the IStorage's path:

dev.eclipse.org/cvsroot/tools/org.eclipse.emf/plugins/org.eclipse.emf.ecore/model/Ecore.ecore
1.1

But I don't know how to turn that into a URL that accesses the resource.
I committed change that provided limited support for this.  Cross document references won't resolve...
Fixed in the I200512151150 build.
Sorry, my commit failed because of CVS problems this morning, so this won't be in a build until next week.
Move to verified as per bug 206558.</WithOutStack>
  </Bug>
  <Bug>
    <BugId amount="110831" />
    <CreationDate amount="2005-09-27 12:33:00 -0400" />
    <DupId amount="" />
    <classification amount="Eclipse" />
    <Product amount="Platform" />
    <component amount="User Assistance" />
    <Version amount="3.2" />
    <rep_platform amount="PC" />
    <op_sys amount="Windows 2000" />
    <priority amount="P3" />
    <bug_severity amount="normal" />
    <Summery>[Help][Context] ContextManager should update when context extensions added/removed</Summery>
    <Patches amount="0" />
    <Stacktraces amount="0" />
    <SourceCodeRegions amount="0" />
    <Enumerations amount="1">
      <Enumeration lines="3">
        <Lines>
          <Line>- dynamically add a plug-in containing a help contexts extension</Line>
          <Line>- after things have settled down, try to look up the context</Line>
          <Line>- it is not found</Line>
        </Lines>
      </Enumeration>
    </Enumerations>
    <bug_status amount="NEW" />
    <resolution amount="" />
    <WithStack>3.1

- dynamically add a plug-in containing a help contexts extension
- after things have settled down, try to look up the context
- it is not found

In HelpPlugin.registryChanged, it's looking for TOC changes, but not context
changes.  Presumably it should have the same logic for contexts as for TOC
extensions.</WithStack>
    <WithOutStack>3.1

- dynamically add a plug-in containing a help contexts extension
- after things have settled down, try to look up the context
- it is not found

In HelpPlugin.registryChanged, it's looking for TOC changes, but not context
changes.  Presumably it should have the same logic for contexts as for TOC
extensions.</WithOutStack>
  </Bug>
  <Bug>
    <BugId amount="110832" />
    <CreationDate amount="2005-09-27 12:34:00 -0400" />
    <DupId amount="" />
    <classification amount="Tools" />
    <Product amount="PTP" />
    <component amount="Lang" />
    <Version amount="unspecified" />
    <rep_platform amount="Macintosh" />
    <op_sys amount="All" />
    <priority amount="P3" />
    <bug_severity amount="normal" />
    <Summery>New Source File dialog window has C icon</Summery>
    <Patches amount="0" />
    <Stacktraces amount="0" />
    <SourceCodeRegions amount="0" />
    <Enumerations amount="0" />
    <bug_status amount="RESOLVED" />
    <resolution amount="FIXED" />
    <WithStack>The dialog window brought up when creating a new source file has a C icon.
Replaced icon with icon of lined text.</WithStack>
    <WithOutStack>The dialog window brought up when creating a new source file has a C icon.
Replaced icon with icon of lined text.</WithOutStack>
  </Bug>
  <Bug>
    <BugId amount="110833" />
    <CreationDate amount="2005-09-27 12:50:00 -0400" />
    <DupId amount="" />
    <classification amount="Tools" />
    <Product amount="PTP" />
    <component amount="Lang" />
    <Version amount="unspecified" />
    <rep_platform amount="Macintosh" />
    <op_sys amount="All" />
    <priority amount="P3" />
    <bug_severity amount="normal" />
    <Summery>Fortran files do not appear in Make Projects window</Summery>
    <Patches amount="0" />
    <Stacktraces amount="0" />
    <SourceCodeRegions amount="0" />
    <Enumerations amount="0" />
    <bug_status amount="RESOLVED" />
    <resolution amount="FIXED" />
    <WithStack>When FDT is restarted, fortran files do not appear in the Make Projects window, only in the Navigator.
Fixed by temporarily making several changes to org.eclipse.cdt.core hardcoding Fortran as an 
AdditionalLangaguages - like addition.  Should be fixed in long term by betting the AdditionalLanguages 
extension to work.  See related bug # 110834.</WithStack>
    <WithOutStack>When FDT is restarted, fortran files do not appear in the Make Projects window, only in the Navigator.
Fixed by temporarily making several changes to org.eclipse.cdt.core hardcoding Fortran as an 
AdditionalLangaguages - like addition.  Should be fixed in long term by betting the AdditionalLanguages 
extension to work.  See related bug # 110834.</WithOutStack>
  </Bug>
  <Bug>
    <BugId amount="110834" />
    <CreationDate amount="2005-09-27 12:52:00 -0400" />
    <DupId amount="" />
    <classification amount="Tools" />
    <Product amount="PTP" />
    <component amount="Lang" />
    <Version amount="unspecified" />
    <rep_platform amount="Macintosh" />
    <op_sys amount="All" />
    <priority amount="P3" />
    <bug_severity amount="normal" />
    <Summery>New Fortran source files have C icon, not F</Summery>
    <Patches amount="0" />
    <Stacktraces amount="0" />
    <SourceCodeRegions amount="0" />
    <Enumerations amount="0" />
    <bug_status amount="RESOLVED" />
    <resolution amount="FIXED" />
    <WithStack>When new Fortran files are first created, they have a C icon not F.  This is in the Make Projects window.  In 
the Navigator window, the icons are correct.
Fixed by temporarily making several changes to org.eclipse.cdt.core hardcoding Fortran as an 
AdditionalLangaguages - like addition.  Should be fixed in long term by betting the AdditionalLanguages 
extension to work.</WithStack>
    <WithOutStack>When new Fortran files are first created, they have a C icon not F.  This is in the Make Projects window.  In 
the Navigator window, the icons are correct.
Fixed by temporarily making several changes to org.eclipse.cdt.core hardcoding Fortran as an 
AdditionalLangaguages - like addition.  Should be fixed in long term by betting the AdditionalLanguages 
extension to work.</WithOutStack>
  </Bug>
  <Bug>
    <BugId amount="110835" />
    <CreationDate amount="2005-09-27 12:58:00 -0400" />
    <DupId amount="" />
    <classification amount="Tools" />
    <Product amount="TPTP Testing" />
    <component amount="Test.UI.AutoGUIUI" />
    <Version amount="4.1" />
    <rep_platform amount="PC" />
    <op_sys amount="Windows XP" />
    <priority amount="P3" />
    <bug_severity amount="normal" />
    <Summery>Collective expansion commands don't work</Summery>
    <Patches amount="0" />
    <Stacktraces amount="0" />
    <SourceCodeRegions amount="0" />
    <Enumerations amount="0" />
    <bug_status amount="CLOSED" />
    <resolution amount="FIXED" />
    <WithStack>Expansion commands of the form:

      &lt;command type="item-expand"
contextId="editor/org.eclipse.hyades.logging.adapter.ui.internal.presentation.AdaptorEditorID/adapterFile.adapter"
widgetId="org.eclipse.swt.widgets.Tree#1" value="true"&gt;
         &lt;item
path="org.eclipse.hyades.logging.adapter.model.internal.configuration.impl.ConfigurationTypeImpl0|1|"/&gt;
         &lt;item
path="org.eclipse.hyades.logging.adapter.model.internal.configuration.impl.ContextInstanceTypeImpl0|1||0|"/&gt;
         &lt;item
path="org.eclipse.hyades.logging.adapter.model.internal.sensor.impl.SensorConfigTypeImpl0|1||0||0|"/&gt;
      &lt;/command&gt;

don't always work because the previous item needs to be expanded before
successive items can be discovered.
Fix in cvs
ACTION: Please verify/close this defect.
Closing by default since not closed by the originator in the 7+ months since being resolved.  

Please reopen if the issue is still present in the latest TPTP release or the resolution is not correct.</WithStack>
    <WithOutStack>Expansion commands of the form:

      &lt;command type="item-expand"
contextId="editor/org.eclipse.hyades.logging.adapter.ui.internal.presentation.AdaptorEditorID/adapterFile.adapter"
widgetId="org.eclipse.swt.widgets.Tree#1" value="true"&gt;
         &lt;item
path="org.eclipse.hyades.logging.adapter.model.internal.configuration.impl.ConfigurationTypeImpl0|1|"/&gt;
         &lt;item
path="org.eclipse.hyades.logging.adapter.model.internal.configuration.impl.ContextInstanceTypeImpl0|1||0|"/&gt;
         &lt;item
path="org.eclipse.hyades.logging.adapter.model.internal.sensor.impl.SensorConfigTypeImpl0|1||0||0|"/&gt;
      &lt;/command&gt;

don't always work because the previous item needs to be expanded before
successive items can be discovered.
Fix in cvs
ACTION: Please verify/close this defect.
Closing by default since not closed by the originator in the 7+ months since being resolved.  

Please reopen if the issue is still present in the latest TPTP release or the resolution is not correct.</WithOutStack>
  </Bug>
  <Bug>
    <BugId amount="110836" />
    <CreationDate amount="2005-09-27 13:14:00 -0400" />
    <DupId amount="" />
    <classification amount="Eclipse" />
    <Product amount="PDE" />
    <component amount="UI" />
    <Version amount="3.1" />
    <rep_platform amount="PC" />
    <op_sys amount="Linux" />
    <priority amount="P3" />
    <bug_severity amount="enhancement" />
    <Summery>[logview] filter InvocationTargetException</Summery>
    <Patches amount="0" />
    <Stacktraces amount="0" />
    <SourceCodeRegions amount="0" />
    <Enumerations amount="1">
      <Enumeration lines="2">
        <Lines>
          <Line>- moved filter options to filter dialog</Line>
          <Line>- created button instead of Link in Event Details dialog</Line>
        </Lines>
      </Enumeration>
    </Enumerations>
    <bug_status amount="RESOLVED" />
    <resolution amount="FIXED" />
    <WithStack>3.1
Whenever I have an InvocationTargetException in the log view, I have to scroll
down to see the really interesing part, which is the wrapped exception (i.e. the
'Caused by' part)

An UI option should be provided to save people this useless scrolling (similarly
to what JUnit view does for stack trace filtering)
updating title
Jacek, up your alley :)?
adding context
Created attachment 82000
mylyn/context/zip
Created attachment 86269
patch

patch adds filtering to event details dialog.
Have a look Chris.
Created attachment 86270
mylyn/context/zip
Created attachment 86271
screenshot

enjoy :)

btw, JUnit preferences is great idea, however I kept filter options inside Event Dialog, to avoid cluttering preferences e.g. in RCP using our wonderful log view.
taking a look at this now.... thanks Jacek!
Created attachment 86320
org.eclipse.ui.views.log.patch

I updated the patch to include better wording. The functionality is perfect.

Before we put this in however, I think we should be able to configure the stack trace filters within the actual filters dialog. There should be a new Group (ie., Stack Trace) with what is currently contained within EventDetailsStackFilterDialog. This would be more consistent with how we currently do things within the log view.

The ability to Configure Filters from there is a good idea. However, I think this should be done with a button, similar to how we do it with the Up/Down/Copy buttons. I think adding one with the filter icon should be good.

Let me know if you have any other ideas :)
Created attachment 86321
mylyn/context/zip
Created attachment 86365
patch

- moved filter options to filter dialog
- created button instead of Link in Event Details dialog

So now all filters are back in Filter Dialog. I only used composite instead of Group, because that looked better.
For me yet another button in Event Details dialog doesn't look good, but see yourself. Link was more intuitive and subtle :)
I'd remove that button.
Created attachment 86366
mylyn/context/zip
Great work Jacek, I'm actually sitting next to Wassim and we're reviewing the patch.

You're right, the button doesn't look right now, BUT, how about we change the order so there's a 2x2 box of buttons.

In the first column, you have the Up/Down keys, in the next column, you have the Copy Details and Filter button. This should look better than what is available. What do you think?

Oh also, can you ident the listviewer a bit so that it's easy to see that the checkbox affects the listviewer? Sort of how we ident right above it with the "Show events logged..."

Good stuff Jacek, after this change I will commit if it looks good. This is a very neat feature!
Created attachment 86368
patch

Aaa, Wassim help! is he always like that? 

;)
Created attachment 86369
mylyn/context/zip
Created attachment 86371
patch

the same, but with ToolTip for Filter button
beautiful work Jacek. In the future, we can try to replicate more of the functionality of the JUnit stack trace filters. For now, this allows you to use stack trace filters in a minimally invasive and useful way :)

Thanks!</WithStack>
    <WithOutStack>3.1
Whenever I have an InvocationTargetException in the log view, I have to scroll
down to see the really interesing part, which is the wrapped exception (i.e. the
'Caused by' part)

An UI option should be provided to save people this useless scrolling (similarly
to what JUnit view does for stack trace filtering)
updating title
Jacek, up your alley :)?
adding context
Created attachment 82000
mylyn/context/zip
Created attachment 86269
patch

patch adds filtering to event details dialog.
Have a look Chris.
Created attachment 86270
mylyn/context/zip
Created attachment 86271
screenshot

enjoy :)

btw, JUnit preferences is great idea, however I kept filter options inside Event Dialog, to avoid cluttering preferences e.g. in RCP using our wonderful log view.
taking a look at this now.... thanks Jacek!
Created attachment 86320
org.eclipse.ui.views.log.patch

I updated the patch to include better wording. The functionality is perfect.

Before we put this in however, I think we should be able to configure the stack trace filters within the actual filters dialog. There should be a new Group (ie., Stack Trace) with what is currently contained within EventDetailsStackFilterDialog. This would be more consistent with how we currently do things within the log view.

The ability to Configure Filters from there is a good idea. However, I think this should be done with a button, similar to how we do it with the Up/Down/Copy buttons. I think adding one with the filter icon should be good.

Let me know if you have any other ideas :)
Created attachment 86321
mylyn/context/zip
Created attachment 86365
patch

- moved filter options to filter dialog
- created button instead of Link in Event Details dialog

So now all filters are back in Filter Dialog. I only used composite instead of Group, because that looked better.
For me yet another button in Event Details dialog doesn't look good, but see yourself. Link was more intuitive and subtle :)
I'd remove that button.
Created attachment 86366
mylyn/context/zip
Great work Jacek, I'm actually sitting next to Wassim and we're reviewing the patch.

You're right, the button doesn't look right now, BUT, how about we change the order so there's a 2x2 box of buttons.

In the first column, you have the Up/Down keys, in the next column, you have the Copy Details and Filter button. This should look better than what is available. What do you think?

Oh also, can you ident the listviewer a bit so that it's easy to see that the checkbox affects the listviewer? Sort of how we ident right above it with the "Show events logged..."

Good stuff Jacek, after this change I will commit if it looks good. This is a very neat feature!
Created attachment 86368
patch

Aaa, Wassim help! is he always like that? 

;)
Created attachment 86369
mylyn/context/zip
Created attachment 86371
patch

the same, but with ToolTip for Filter button
beautiful work Jacek. In the future, we can try to replicate more of the functionality of the JUnit stack trace filters. For now, this allows you to use stack trace filters in a minimally invasive and useful way :)

Thanks!</WithOutStack>
  </Bug>
  <Bug>
    <BugId amount="110837" />
    <CreationDate amount="2005-09-27 13:16:00 -0400" />
    <DupId amount="" />
    <classification amount="Eclipse" />
    <Product amount="JDT" />
    <component amount="Debug" />
    <Version amount="3.1" />
    <rep_platform amount="PC" />
    <op_sys amount="Windows XP" />
    <priority amount="P3" />
    <bug_severity amount="normal" />
    <Summery>javax.crypto.KeyAgreement.getInstance(String) throws exception in IDE</Summery>
    <Patches amount="0" />
    <Stacktraces amount="0" />
    <SourceCodeRegions amount="7">
      <source_code type="import">
        <location start="212" end="258" />
        <code>import java.security.NoSuchAlgorithmException;</code>
      </source_code>
      <source_code type="import">
        <location start="259" end="292" />
        <code>import javax.crypto.KeyAgreement;</code>
      </source_code>
      <source_code type="class">
        <location start="294" end="518" />
        <code>public class KeyAgreementProblem
{
    public static void main(String[] args) throws NoSuchAlgorithmException
    {
        KeyAgreement ka = KeyAgreement.getInstance("DiffieHellman");
        System.out.println(ka);
    }
}</code>
      </source_code>
      <source_code type="import">
        <location start="1785" end="1807" />
        <code>import java.util.Set;</code>
      </source_code>
      <source_code type="import">
        <location start="1808" end="1838" />
        <code>import java.security.Security;</code>
      </source_code>
      <source_code type="import">
        <location start="1839" end="1869" />
        <code>import java.security.Provider;</code>
      </source_code>
      <source_code type="class">
        <location start="1872" end="2361" />
        <code>public class ListProviders {
    public static void main(String args[]) {
        Provider[] providers = Security.getProviders();
        for (int i = 0; i &lt; providers.length; i++) {
            System.out.println((i+1) + ": " + providers[i]);
            System.out.println(providers[i].getInfo());
            Set&lt;Provider.Service&gt; svcs = providers[i].getServices();
            for (Provider.Service svc : svcs) System.out.print(svc);
            System.out.println();
        }
    }
}</code>
      </source_code>
    </SourceCodeRegions>
    <Enumerations amount="1">
      <Enumeration lines="3">
        <Lines>
          <Line>- libs in endorsed dirs (can override standard libs)</Line>
          <Line>- libs on bootpath</Line>
          <Line>- libs in extension directories</Line>
        </Lines>
      </Enumeration>
    </Enumerations>
    <bug_status amount="VERIFIED" />
    <resolution amount="FIXED" />
    <WithStack>A call to KeyAgreement.getInstance("DiffieHellman") will throw a
NoSuchAlgorithmException if run from Eclipse but not if it's run directly from
the command line.  (JDK 1.5.0_04 or 1.4.2_09)

Here's the code:
---
import java.security.NoSuchAlgorithmException;
import javax.crypto.KeyAgreement;

public class KeyAgreementProblem
{
    public static void main(String[] args) throws NoSuchAlgorithmException
    {
        KeyAgreement ka = KeyAgreement.getInstance("DiffieHellman");
        System.out.println(ka);
    }
}
---
Running from the command line goes like this (command line then output below):

C:\...\workspace\sandbox&gt;java -classpath bin KeyAgreementProblem
javax.crypto.KeyAgreement@141d683

---

Running in Eclipse with the same JDK and environment produces this exception:

Exception in thread "main" java.security.NoSuchAlgorithmException: Algorithm
DiffieHellman not available
	at javax.crypto.KeyAgreement.getInstance(DashoA12275)
	at KeyAgreementProblem.main(KeyAgreementProblem.java:8)
Are you sure that your classpath contains the crypto classes?
I copy/paste your example in 3.2M2 and it works fine.
This is not related to the compiler.
Move to JDT/Debug to comment how the classpath of the launching configuration
needs to be configured to include the crypto classes.
I'm pretty sure the classpath includes the crypto classes.  I set up the
classpath the same way for both the command line and for Eclipse.  Within
Eclipse, I'm including the JRE System Library [jre1.5.0_04] which includes
rt.jar, jsse.jar, *jce.jar*, charsets.jar, dnsns.jar, localedata.jar,
*sunjce_provider.jar*, and sunpkcs11.jar.  If I run the following little
program, I see that DiffieHillman is an available KeyAgreement algorithm (search
output for "KeyAgreement"), but I can't use it.  

import java.util.Set;
import java.security.Security;
import java.security.Provider;


public class ListProviders {
    public static void main(String args[]) {
        Provider[] providers = Security.getProviders();
        for (int i = 0; i &lt; providers.length; i++) {
            System.out.println((i+1) + ": " + providers[i]);
            System.out.println(providers[i].getInfo());
            Set&lt;Provider.Service&gt; svcs = providers[i].getServices();
            for (Provider.Service svc : svcs) System.out.print(svc);
            System.out.println();
        }
    }
}

Also works for me... how is the classpath tab configured on your Java 
application launch configuration? Mine is default. Adding jars to the bootpath 
explicitly may cause trouble.
Created attachment 27673
Classpath configuration to generate the failure

Mine is also set to default.  Configuration options to follow...
Created attachment 27674
Eclipse configuration details

Here are the configuration details for Eclipse.

[Thinking aloud: I'm beginning to wonder if this might fall under bug 6606, and
I wonder if it might be a straightfoward enough case to help with the
resolution.]
When you run the test, what does the generated command line look like? 
(available from the "Properties..." action when you select the process/target 
in the debug view).
Created attachment 27675
Screen shot of expanded classpath

My appologies. I meant to expand the classpath fully before taking the picture
for attachment 27673.	Here's the expanded classpath:

Bootstrap Entries
   JRE System Library [jre 1.5.0_04]
User Entries
   sandbox [default classpath]
      sandbox
(In reply to comment #6)
&gt; When you run the test, what does the generated command line look like? 
&gt; (available from the "Properties..." action when you select the process/target 
&gt; in the debug view).

 "C:\Program Files\Java\jre1.5.0_04\bin\javaw.exe" "-Xbootclasspath:C:\Program
Files\Java\jre1.5.0_04\lib\rt.jar;C:\Program
Files\Java\jre1.5.0_04\lib\jsse.jar;C:\Program
Files\Java\jre1.5.0_04\lib\jce.jar;C:\Program
Files\Java\jre1.5.0_04\lib\charsets.jar;C:\Program
Files\Java\jre1.5.0_04\lib\ext\dnsns.jar;C:\Program
Files\Java\jre1.5.0_04\lib\ext\localedata.jar;C:\Program
Files\Java\jre1.5.0_04\lib\ext\sunjce_provider.jar;C:\Program
Files\Java\jre1.5.0_04\lib\ext\sunpkcs11.jar" -classpath "C:\Documents and
Settings\jscarbor\workspace\sandbox\bin" -Xdebug -Xnoagent
-Xrunjdwp:transport=dt_socket,suspend=y,address=localhost:2232 KeyAgreementProblem
The explicit bootpath is causing the problem... when I run my example, I get a 
command line like this:

" C:\jdk1.5.0_04\bin\javaw.exe -classpath c:\eclipse-dev\runtime-
workspace\JUnit\bin;c:\eclipse-dev\runtime-workspace\JUnit\junit3.8.1
\junit.jar KeyAgreementProblem"

Have you modified the jars that are contained in the JRE via the JRE 
preferences page? If so, we add them to the bootpath explicitly.
Created attachment 27693
Edit JRE dialog shows "Use default system libraries" unchecked

(In reply to comment #9)

&gt; Have you modified the jars that are contained in the JRE via the 
&gt; JRE preferences page? If so, we add them to the bootpath explicitly.

Not knowingly.	I did attach source to a jar file, which I see mentioned when I
expand the various libraries.  (It was the RT.jar source attached (incorrectly)
to the jce.jar file.) I don't recall un-checking the "Use default system
libraries" checkbox (which you can see is un-checked).	I installed Eclipse on
this machine August 23, so there's not much time over which I might have
forgotten such a thing. 

Checking the box has two effects.  Most it makes the example code work in my
regular workspace (THANKS!).  It also adds
 
  C:\Program Files\Java\jre1.5.0_04\lib\ext\QTJava.zip 

to the list of included libraries, presumably because QuickTime installed that
file at some point and Eclipse picked up on it when I re-checked the box.

What's really peculiar is that I can make other crypto calls, but not that
particular one.  Research into the Java side of things seems to show that the
behavior is by design - that only the bootclasspath discovered by the JRE is
trusted.  See 

  http://forum.java.sun.com/thread.jspa?threadID=611770&amp;messageID=3370738

That portion of this bug could be a duplicate of bug 38370.

The remaining question for Eclipse becomes, "How did the 'Use default system
libraries' box get un-checked?"  Installing a new file (as was the case with
QTJava.zip) doesn't change the checkbox, but it gets included in the list
automatically.	When I create a new workspace for Eclipse, the box is initially
checked, and I'm set up to use the JDK (as opposed to JRE).  The various
manipulations I tried, including associating source code and adding the other
jre didn't change the checkbox. 

I have filed a bug against Java on the principle that the files are one and the
same as those that would be accessed by the JRE, so it should recognize that
and trust the files.  I will record its disposition here when I learn it.
Created attachment 27745
Bug report for Sun

E-mail in from Brad at Sun:

Hi Jim Scarborough,

Interesting bug, thanks for reporting this issue.

I have determined that this report is a new bug and entered the bug into our
internal bug tracking system under Bug Id: 6331571.

This only occurs on windows, seems to work fine on solaris-sparc.
If you remove the sunjce_provider.jar from the bootclass, it is then
found on the extension class path as normal, and is loaded up by
the extension loader.

I've got a couple ideas where the problems lies, I'll route it as appropriate.

Thanks again for submitting.

Regards,
Brad
A call to KeyAgreement.getInstance("DiffieHellman") will throw a
NoSuchAlgorithmException if run from Eclipse (with anything other than the
default bootclasspath) but not if it's run directly from the command line (with
the default bootclasspath).  (JDK 1.5.0_04 or 1.4.2_09)  

See these resources for further information:
   Java Bug Id: 6331571 
   Attachment 27745
   http://forum.java.sun.com/thread.jspa?threadID=611770&amp;messageID=3370738

The issue of how the box got unchecked in the first place is not reproducable.

*** This bug has been marked as a duplicate of 38370 ***
Follow-up e-mail from Brad at Sun:

&gt; This only occurs on windows, seems to work fine on solaris-sparc.

I made a typo in my test script, it fails on every platform.

Our implementation currently checks to see if it's on the bootclasspath,
and if so, it fails.  I don't know offhand why that was added,
but we'll investigate further and find out why this was done.

As you mentioned, if you remove the sunjce_provider.jar from the
bootclass, the classes are found on the extension class path as
normal, and is loaded up by the extension loader.

Thanks again for submitting.

Regards,
Brad
(In reply to comment #13)

The classes loaded by the bootclassloader are handled differently from a security perspective than those loaded by other loaders (Extension Class Loader for java.ext.dirs or the System launcher/loader.  Recall the ClassLoader delegation framework.)  The JCE framework needs information in the security context in order to verify the Jars for export control purposes, and this info is not available if the bootclassloader is used.

While technically possible, Eclipse should not be effectively extending the JDK by adding the extension directory (java.ext.dirs) to the bootclasspath.  

Hope this helps.

Brad

Re-opening
Based on the following doc:

* http://java.sun.com/j2se/1.4.2/docs/tooldocs/findingclasses.html#loader
* http://java.sun.com/j2se/1.4.2/docs/guide/standards/

It appears that the bootpath consists of jars on the 'sun.boot.class.path' system property and the 'java.endorsed.dirs' system property (or default location), as endorsed libraries can replace classes in "the Java 2 platform as shipped by Sun"

However, jars specified by the "java.ext.dirs" system property should not appear on the bootpath.

Our "JRE classpath container" is a collection of jars that appear on a Java project's default buildpath for compilation purposes. For running/debugging, if the user has modified the "JRE libraries" we incorrectly specify the modified set of jars as an explicit bootpath. Instead, we should only specify an explicit bootpath if the user has removed a jar that was on the bootpath or in an endorsed dir.

However, we'll need new API on IVMType to determine if a library location is a 'bootpath' library or not, so we can build the boopath properly. Needs more investigation, and would require PMC approval for API addition.
I have released a fix to this:

* The JRE's default libraries are now computed as (for buildpath):
    - libs in endorsed dirs (can override standard libs)
    - libs on bootpath
    - libs in extension directories

* When computing the runtime bootpath, an explicit bootpath is only specified if the libraries have been changed from the default libraries, and then we only specify libraries that are *not* in extension directories

There is one remaining issue, but things still work properly - an explicit bootpath may be specified when a non-bootpath library has been added/removed to the JREs libs. There is no API to tell if a library belongs on the bootpath. (We are able to compute the bootpath properly for standard VMs since we have endorsed, extension, bootpath info - but in the general case there is no API for this). 

Marking this problem as fixed, as we no longer specify ext dir libs on the bootpath. Opened bug 131959, to deal with remaining issue. It will require new API, and will be defered for post 3.2. However, the bug does not effect the function - apps still launch properly.
Please verify, Kevin.
verified
*** Bug 134961 has been marked as a duplicate of this bug. ***</WithStack>
    <WithOutStack>A call to KeyAgreement.getInstance("DiffieHellman") will throw a
NoSuchAlgorithmException if run from Eclipse but not if it's run directly from
the command line.  (JDK 1.5.0_04 or 1.4.2_09)

Here's the code:
---
import java.security.NoSuchAlgorithmException;
import javax.crypto.KeyAgreement;

public class KeyAgreementProblem
{
    public static void main(String[] args) throws NoSuchAlgorithmException
    {
        KeyAgreement ka = KeyAgreement.getInstance("DiffieHellman");
        System.out.println(ka);
    }
}
---
Running from the command line goes like this (command line then output below):

C:\...\workspace\sandbox&gt;java -classpath bin KeyAgreementProblem
javax.crypto.KeyAgreement@141d683

---

Running in Eclipse with the same JDK and environment produces this exception:

Exception in thread "main" java.security.NoSuchAlgorithmException: Algorithm
DiffieHellman not available
	at javax.crypto.KeyAgreement.getInstance(DashoA12275)
	at KeyAgreementProblem.main(KeyAgreementProblem.java:8)
Are you sure that your classpath contains the crypto classes?
I copy/paste your example in 3.2M2 and it works fine.
This is not related to the compiler.
Move to JDT/Debug to comment how the classpath of the launching configuration
needs to be configured to include the crypto classes.
I'm pretty sure the classpath includes the crypto classes.  I set up the
classpath the same way for both the command line and for Eclipse.  Within
Eclipse, I'm including the JRE System Library [jre1.5.0_04] which includes
rt.jar, jsse.jar, *jce.jar*, charsets.jar, dnsns.jar, localedata.jar,
*sunjce_provider.jar*, and sunpkcs11.jar.  If I run the following little
program, I see that DiffieHillman is an available KeyAgreement algorithm (search
output for "KeyAgreement"), but I can't use it.  

import java.util.Set;
import java.security.Security;
import java.security.Provider;


public class ListProviders {
    public static void main(String args[]) {
        Provider[] providers = Security.getProviders();
        for (int i = 0; i &lt; providers.length; i++) {
            System.out.println((i+1) + ": " + providers[i]);
            System.out.println(providers[i].getInfo());
            Set&lt;Provider.Service&gt; svcs = providers[i].getServices();
            for (Provider.Service svc : svcs) System.out.print(svc);
            System.out.println();
        }
    }
}

Also works for me... how is the classpath tab configured on your Java 
application launch configuration? Mine is default. Adding jars to the bootpath 
explicitly may cause trouble.
Created attachment 27673
Classpath configuration to generate the failure

Mine is also set to default.  Configuration options to follow...
Created attachment 27674
Eclipse configuration details

Here are the configuration details for Eclipse.

[Thinking aloud: I'm beginning to wonder if this might fall under bug 6606, and
I wonder if it might be a straightfoward enough case to help with the
resolution.]
When you run the test, what does the generated command line look like? 
(available from the "Properties..." action when you select the process/target 
in the debug view).
Created attachment 27675
Screen shot of expanded classpath

My appologies. I meant to expand the classpath fully before taking the picture
for attachment 27673.	Here's the expanded classpath:

Bootstrap Entries
   JRE System Library [jre 1.5.0_04]
User Entries
   sandbox [default classpath]
      sandbox
(In reply to comment #6)
&gt; When you run the test, what does the generated command line look like? 
&gt; (available from the "Properties..." action when you select the process/target 
&gt; in the debug view).

 "C:\Program Files\Java\jre1.5.0_04\bin\javaw.exe" "-Xbootclasspath:C:\Program
Files\Java\jre1.5.0_04\lib\rt.jar;C:\Program
Files\Java\jre1.5.0_04\lib\jsse.jar;C:\Program
Files\Java\jre1.5.0_04\lib\jce.jar;C:\Program
Files\Java\jre1.5.0_04\lib\charsets.jar;C:\Program
Files\Java\jre1.5.0_04\lib\ext\dnsns.jar;C:\Program
Files\Java\jre1.5.0_04\lib\ext\localedata.jar;C:\Program
Files\Java\jre1.5.0_04\lib\ext\sunjce_provider.jar;C:\Program
Files\Java\jre1.5.0_04\lib\ext\sunpkcs11.jar" -classpath "C:\Documents and
Settings\jscarbor\workspace\sandbox\bin" -Xdebug -Xnoagent
-Xrunjdwp:transport=dt_socket,suspend=y,address=localhost:2232 KeyAgreementProblem
The explicit bootpath is causing the problem... when I run my example, I get a 
command line like this:

" C:\jdk1.5.0_04\bin\javaw.exe -classpath c:\eclipse-dev\runtime-
workspace\JUnit\bin;c:\eclipse-dev\runtime-workspace\JUnit\junit3.8.1
\junit.jar KeyAgreementProblem"

Have you modified the jars that are contained in the JRE via the JRE 
preferences page? If so, we add them to the bootpath explicitly.
Created attachment 27693
Edit JRE dialog shows "Use default system libraries" unchecked

(In reply to comment #9)

&gt; Have you modified the jars that are contained in the JRE via the 
&gt; JRE preferences page? If so, we add them to the bootpath explicitly.

Not knowingly.	I did attach source to a jar file, which I see mentioned when I
expand the various libraries.  (It was the RT.jar source attached (incorrectly)
to the jce.jar file.) I don't recall un-checking the "Use default system
libraries" checkbox (which you can see is un-checked).	I installed Eclipse on
this machine August 23, so there's not much time over which I might have
forgotten such a thing. 

Checking the box has two effects.  Most it makes the example code work in my
regular workspace (THANKS!).  It also adds
 
  C:\Program Files\Java\jre1.5.0_04\lib\ext\QTJava.zip 

to the list of included libraries, presumably because QuickTime installed that
file at some point and Eclipse picked up on it when I re-checked the box.

What's really peculiar is that I can make other crypto calls, but not that
particular one.  Research into the Java side of things seems to show that the
behavior is by design - that only the bootclasspath discovered by the JRE is
trusted.  See 

  http://forum.java.sun.com/thread.jspa?threadID=611770&amp;messageID=3370738

That portion of this bug could be a duplicate of bug 38370.

The remaining question for Eclipse becomes, "How did the 'Use default system
libraries' box get un-checked?"  Installing a new file (as was the case with
QTJava.zip) doesn't change the checkbox, but it gets included in the list
automatically.	When I create a new workspace for Eclipse, the box is initially
checked, and I'm set up to use the JDK (as opposed to JRE).  The various
manipulations I tried, including associating source code and adding the other
jre didn't change the checkbox. 

I have filed a bug against Java on the principle that the files are one and the
same as those that would be accessed by the JRE, so it should recognize that
and trust the files.  I will record its disposition here when I learn it.
Created attachment 27745
Bug report for Sun

E-mail in from Brad at Sun:

Hi Jim Scarborough,

Interesting bug, thanks for reporting this issue.

I have determined that this report is a new bug and entered the bug into our
internal bug tracking system under Bug Id: 6331571.

This only occurs on windows, seems to work fine on solaris-sparc.
If you remove the sunjce_provider.jar from the bootclass, it is then
found on the extension class path as normal, and is loaded up by
the extension loader.

I've got a couple ideas where the problems lies, I'll route it as appropriate.

Thanks again for submitting.

Regards,
Brad
A call to KeyAgreement.getInstance("DiffieHellman") will throw a
NoSuchAlgorithmException if run from Eclipse (with anything other than the
default bootclasspath) but not if it's run directly from the command line (with
the default bootclasspath).  (JDK 1.5.0_04 or 1.4.2_09)  

See these resources for further information:
   Java Bug Id: 6331571 
   Attachment 27745
   http://forum.java.sun.com/thread.jspa?threadID=611770&amp;messageID=3370738

The issue of how the box got unchecked in the first place is not reproducable.

*** This bug has been marked as a duplicate of 38370 ***
Follow-up e-mail from Brad at Sun:

&gt; This only occurs on windows, seems to work fine on solaris-sparc.

I made a typo in my test script, it fails on every platform.

Our implementation currently checks to see if it's on the bootclasspath,
and if so, it fails.  I don't know offhand why that was added,
but we'll investigate further and find out why this was done.

As you mentioned, if you remove the sunjce_provider.jar from the
bootclass, the classes are found on the extension class path as
normal, and is loaded up by the extension loader.

Thanks again for submitting.

Regards,
Brad
(In reply to comment #13)

The classes loaded by the bootclassloader are handled differently from a security perspective than those loaded by other loaders (Extension Class Loader for java.ext.dirs or the System launcher/loader.  Recall the ClassLoader delegation framework.)  The JCE framework needs information in the security context in order to verify the Jars for export control purposes, and this info is not available if the bootclassloader is used.

While technically possible, Eclipse should not be effectively extending the JDK by adding the extension directory (java.ext.dirs) to the bootclasspath.  

Hope this helps.

Brad

Re-opening
Based on the following doc:

* http://java.sun.com/j2se/1.4.2/docs/tooldocs/findingclasses.html#loader
* http://java.sun.com/j2se/1.4.2/docs/guide/standards/

It appears that the bootpath consists of jars on the 'sun.boot.class.path' system property and the 'java.endorsed.dirs' system property (or default location), as endorsed libraries can replace classes in "the Java 2 platform as shipped by Sun"

However, jars specified by the "java.ext.dirs" system property should not appear on the bootpath.

Our "JRE classpath container" is a collection of jars that appear on a Java project's default buildpath for compilation purposes. For running/debugging, if the user has modified the "JRE libraries" we incorrectly specify the modified set of jars as an explicit bootpath. Instead, we should only specify an explicit bootpath if the user has removed a jar that was on the bootpath or in an endorsed dir.

However, we'll need new API on IVMType to determine if a library location is a 'bootpath' library or not, so we can build the boopath properly. Needs more investigation, and would require PMC approval for API addition.
I have released a fix to this:

* The JRE's default libraries are now computed as (for buildpath):
    - libs in endorsed dirs (can override standard libs)
    - libs on bootpath
    - libs in extension directories

* When computing the runtime bootpath, an explicit bootpath is only specified if the libraries have been changed from the default libraries, and then we only specify libraries that are *not* in extension directories

There is one remaining issue, but things still work properly - an explicit bootpath may be specified when a non-bootpath library has been added/removed to the JREs libs. There is no API to tell if a library belongs on the bootpath. (We are able to compute the bootpath properly for standard VMs since we have endorsed, extension, bootpath info - but in the general case there is no API for this). 

Marking this problem as fixed, as we no longer specify ext dir libs on the bootpath. Opened bug 131959, to deal with remaining issue. It will require new API, and will be defered for post 3.2. However, the bug does not effect the function - apps still launch properly.
Please verify, Kevin.
verified
*** Bug 134961 has been marked as a duplicate of this bug. ***</WithOutStack>
  </Bug>
  <Bug>
    <BugId amount="110838" />
    <CreationDate amount="2005-09-27 13:19:00 -0400" />
    <DupId amount="" />
    <classification amount="Modeling" />
    <Product amount="GMF-Runtime" />
    <component amount="General" />
    <Version amount="1.0" />
    <rep_platform amount="PC" />
    <op_sys amount="Windows 2000" />
    <priority amount="P3" />
    <bug_severity amount="minor" />
    <Summery>Apply Appearance Properties does not work between differerent geoshapes</Summery>
    <Patches amount="0" />
    <Stacktraces amount="0" />
    <SourceCodeRegions amount="0" />
    <Enumerations amount="3">
      <Enumeration lines="7">
        <Lines>
          <Line>1. Create a geoshapes diagram.</Line>
          <Line>2. Create an oval.</Line>
          <Line>3. Create a cylinder.</Line>
          <Line>4. Change the fill color of the oval.</Line>
          <Line>5. Select the oval, then the cylinder, and hit the Apply Appearance Properties</Line>
          <Line>toolbar button.</Line>
          <Line>RESULT: The cylinder does not become the same color as the oval.  It should.</Line>
        </Lines>
      </Enumeration>
      <Enumeration lines="5">
        <Lines>
          <Line>1. Create a geoshape diagram.</Line>
          <Line>2. Create an oval.</Line>
          <Line>3. Select an oval, go to advanced property tab, expand styles and compare the</Line>
          <Line>color displayed in the "Fill color" property with what's visible on the surface.</Line>
          <Line>4. Now change the "Fill color" property to "Blue".  Close and re-open the diagram.</Line>
        </Lines>
      </Enumeration>
      <Enumeration lines="8">
        <Lines>
          <Line>- Refactored copy appearance properties infrastructure to reuse the</Line>
          <Line>ViewRefactorHelper class that generically copies styles without any specific</Line>
          <Line>implementation on the IGraphicalEditPart implementors.</Line>
          <Line>- Added new public method in ViewRefactorHelper called copyViewAppearance</Line>
          <Line>- deprecated IGraphicalEditPart#fillAppearancePropertiesMap,</Line>
          <Line>IGraphicalEditPart#getAppearancePropertiesMap</Line>
          <Line>[GMF Restructure] Bug 319140 : product GMF and component</Line>
          <Line>Runtime Common was the original product and component for this bug</Line>
        </Lines>
      </Enumeration>
    </Enumerations>
    <bug_status amount="RESOLVED" />
    <resolution amount="FIXED" />
    <WithStack>To reproduce:
1. Create a geoshapes diagram.
2. Create an oval.
3. Create a cylinder.
4. Change the fill color of the oval.
5. Select the oval, then the cylinder, and hit the Apply Appearance Properties 
toolbar button.
RESULT: The cylinder does not become the same color as the oval.  It should.

The way the Apply Appearance Properties works could probably be refactored out 
of the individual editparts and done generically using the ViewRefactorHelper 
class.
When you select a geo shapes for the first time and select it, the appearance
properties are inconsistent with what's visible.  Also, after changing the
appearance property (ex. fill color) for geo shapes, saving, closing and
re-opening diagram, the change does not stick.

Steps
1. Create a geoshape diagram.
2. Create an oval.
3. Select an oval, go to advanced property tab, expand styles and compare the
color displayed in the "Fill color" property with what's visible on the surface.
4. Now change the "Fill color" property to "Blue".  Close and re-open the diagram.

Result
The "Fill color" property displayed in the advanced property tab is "Blue".  But
the fill color on the diagram is the default (yellow).
- Refactored copy appearance properties infrastructure to reuse the 
ViewRefactorHelper class that generically copies styles without any specific 
implementation on the IGraphicalEditPart implementors.  
- Added new public method in ViewRefactorHelper called copyViewAppearance
- deprecated IGraphicalEditPart#fillAppearancePropertiesMap, 
IGraphicalEditPart#getAppearancePropertiesMap
[GMF Restructure] Bug 319140 : product GMF and component
Runtime Common was the original product and component for this bug</WithStack>
    <WithOutStack>To reproduce:
1. Create a geoshapes diagram.
2. Create an oval.
3. Create a cylinder.
4. Change the fill color of the oval.
5. Select the oval, then the cylinder, and hit the Apply Appearance Properties 
toolbar button.
RESULT: The cylinder does not become the same color as the oval.  It should.

The way the Apply Appearance Properties works could probably be refactored out 
of the individual editparts and done generically using the ViewRefactorHelper 
class.
When you select a geo shapes for the first time and select it, the appearance
properties are inconsistent with what's visible.  Also, after changing the
appearance property (ex. fill color) for geo shapes, saving, closing and
re-opening diagram, the change does not stick.

Steps
1. Create a geoshape diagram.
2. Create an oval.
3. Select an oval, go to advanced property tab, expand styles and compare the
color displayed in the "Fill color" property with what's visible on the surface.
4. Now change the "Fill color" property to "Blue".  Close and re-open the diagram.

Result
The "Fill color" property displayed in the advanced property tab is "Blue".  But
the fill color on the diagram is the default (yellow).
- Refactored copy appearance properties infrastructure to reuse the 
ViewRefactorHelper class that generically copies styles without any specific 
implementation on the IGraphicalEditPart implementors.  
- Added new public method in ViewRefactorHelper called copyViewAppearance
- deprecated IGraphicalEditPart#fillAppearancePropertiesMap, 
IGraphicalEditPart#getAppearancePropertiesMap
[GMF Restructure] Bug 319140 : product GMF and component
Runtime Common was the original product and component for this bug</WithOutStack>
  </Bug>
  <Bug>
    <BugId amount="110839" />
    <CreationDate amount="2005-09-27 13:23:00 -0400" />
    <DupId amount="" />
    <classification amount="Tools" />
    <Product amount="PTP" />
    <component amount="Debug Core" />
    <Version amount="unspecified" />
    <rep_platform amount="PC" />
    <op_sys amount="Windows XP" />
    <priority amount="P3" />
    <bug_severity amount="major" />
    <Summery>Request the filename in all debug events</Summery>
    <Patches amount="0" />
    <Stacktraces amount="0" />
    <SourceCodeRegions amount="0" />
    <Enumerations amount="0" />
    <bug_status amount="VERIFIED" />
    <resolution amount="FIXED" />
    <WithStack>I have mentioned that many times.  I need the filename to find out the source
editor.  Please provides the project name and filename in each debug event.  Thanks.
I don't think you need the info in all events. As far as I know, you only need
the filename info in suspended events (BreakpointHitEvent,
EndSteppingRangeEvent, etc), which has been done already. I mean, do you also
need the filename info in the DebuggerExitedEvent? I can't give you the project
name because ptp.core doesn't pass the project info to the simulator. Besides
that, like the plan says: use "TestC" and "main.c"


(In reply to comment #0)
&gt; I have mentioned that many times.  I need the filename to find out the source
&gt; editor.  Please provides the project name and filename in each debug event. 
Thanks.
BreakpointHitEvent and EndSteppingRangeEvent have the line location object, but
I also need the project name and filename in InferiorResumedEvent,
InferiorExitedEvent and ErrorEvent.  For example, I need to know which file
fired InferiorResumedEvent and then remove the annotation from that file.  Same
situation for the others.

The simulator template file has been done.  You can get the project name and
filename from the preference.  If you cannot provide the project name in the
event, it is a problem.  Only filename provided is not enought to locate the
source editor.  I need the project name to find out the file which located in
specific project.  Anyway, for the real debugger, I also need the project name
and filename for find out the source editor.  In eclipse, it provides the
IThread or IStackFrame interface which has much enough information to find out
the source editor.  Thus, the project name and filename are major information to
put the annotation on source editor.


(In reply to comment #1)
&gt; I don't think you need the info in all events. As far as I know, you only need
&gt; the filename info in suspended events (BreakpointHitEvent,
&gt; EndSteppingRangeEvent, etc), which has been done already. I mean, do you also
&gt; need the filename info in the DebuggerExitedEvent? I can't give you the project
&gt; name because ptp.core doesn't pass the project info to the simulator. Besides
&gt; that, like the plan says: use "TestC" and "main.c"
&gt; 
&gt; 
&gt; (In reply to comment #0)
&gt; &gt; I have mentioned that many times.  I need the filename to find out the source
&gt; &gt; editor.  Please provides the project name and filename in each debug event. 
&gt; Thanks.


Sorry Donny.  I think I may not the project name and filename in other events. 
Let me try it first.  However, I must need the project name in
BreakpointHitEvent and EndSteppingRangeEvent.  I think you should get these
information from launch configuration.  



(In reply to comment #2)
&gt; BreakpointHitEvent and EndSteppingRangeEvent have the line location object, but
&gt; I also need the project name and filename in InferiorResumedEvent,
&gt; InferiorExitedEvent and ErrorEvent.  For example, I need to know which file
&gt; fired InferiorResumedEvent and then remove the annotation from that file.  Same
&gt; situation for the others.
&gt; 
&gt; The simulator template file has been done.  You can get the project name and
&gt; filename from the preference.  If you cannot provide the project name in the
&gt; event, it is a problem.  Only filename provided is not enought to locate the
&gt; source editor.  I need the project name to find out the file which located in
&gt; specific project.  Anyway, for the real debugger, I also need the project name
&gt; and filename for find out the source editor.  In eclipse, it provides the
&gt; IThread or IStackFrame interface which has much enough information to find out
&gt; the source editor.  Thus, the project name and filename are major information to
&gt; put the annotation on source editor.
&gt; 
&gt; 
&gt; (In reply to comment #1)
&gt; &gt; I don't think you need the info in all events. As far as I know, you only need
&gt; &gt; the filename info in suspended events (BreakpointHitEvent,
&gt; &gt; EndSteppingRangeEvent, etc), which has been done already. I mean, do you also
&gt; &gt; need the filename info in the DebuggerExitedEvent? I can't give you the project
&gt; &gt; name because ptp.core doesn't pass the project info to the simulator. Besides
&gt; &gt; that, like the plan says: use "TestC" and "main.c"
&gt; &gt; 
&gt; &gt; 
&gt; &gt; (In reply to comment #0)
&gt; &gt; &gt; I have mentioned that many times.  I need the filename to find out the source
&gt; &gt; &gt; editor.  Please provides the project name and filename in each debug event. 
&gt; &gt; Thanks.
&gt; 
&gt; 


I confirmed that I don't need the project name and filename in
InferiorResumedEvent, InferiorExitedEvent and ErrorEvent.  However, I still need
the project name in BreakpointHitEvent and EndSteppingRangeEvent.  Thanks.
Fixed.... the ProjectName doesn't come with events but you can get it from
Session().getProjectName()

(In reply to comment #4)
&gt; I confirmed that I don't need the project name and filename in
&gt; InferiorResumedEvent, InferiorExitedEvent and ErrorEvent.  However, I still need
&gt; the project name in BreakpointHitEvent and EndSteppingRangeEvent.  Thanks.</WithStack>
    <WithOutStack>I have mentioned that many times.  I need the filename to find out the source
editor.  Please provides the project name and filename in each debug event.  Thanks.
I don't think you need the info in all events. As far as I know, you only need
the filename info in suspended events (BreakpointHitEvent,
EndSteppingRangeEvent, etc), which has been done already. I mean, do you also
need the filename info in the DebuggerExitedEvent? I can't give you the project
name because ptp.core doesn't pass the project info to the simulator. Besides
that, like the plan says: use "TestC" and "main.c"


(In reply to comment #0)
&gt; I have mentioned that many times.  I need the filename to find out the source
&gt; editor.  Please provides the project name and filename in each debug event. 
Thanks.
BreakpointHitEvent and EndSteppingRangeEvent have the line location object, but
I also need the project name and filename in InferiorResumedEvent,
InferiorExitedEvent and ErrorEvent.  For example, I need to know which file
fired InferiorResumedEvent and then remove the annotation from that file.  Same
situation for the others.

The simulator template file has been done.  You can get the project name and
filename from the preference.  If you cannot provide the project name in the
event, it is a problem.  Only filename provided is not enought to locate the
source editor.  I need the project name to find out the file which located in
specific project.  Anyway, for the real debugger, I also need the project name
and filename for find out the source editor.  In eclipse, it provides the
IThread or IStackFrame interface which has much enough information to find out
the source editor.  Thus, the project name and filename are major information to
put the annotation on source editor.


(In reply to comment #1)
&gt; I don't think you need the info in all events. As far as I know, you only need
&gt; the filename info in suspended events (BreakpointHitEvent,
&gt; EndSteppingRangeEvent, etc), which has been done already. I mean, do you also
&gt; need the filename info in the DebuggerExitedEvent? I can't give you the project
&gt; name because ptp.core doesn't pass the project info to the simulator. Besides
&gt; that, like the plan says: use "TestC" and "main.c"
&gt; 
&gt; 
&gt; (In reply to comment #0)
&gt; &gt; I have mentioned that many times.  I need the filename to find out the source
&gt; &gt; editor.  Please provides the project name and filename in each debug event. 
&gt; Thanks.


Sorry Donny.  I think I may not the project name and filename in other events. 
Let me try it first.  However, I must need the project name in
BreakpointHitEvent and EndSteppingRangeEvent.  I think you should get these
information from launch configuration.  



(In reply to comment #2)
&gt; BreakpointHitEvent and EndSteppingRangeEvent have the line location object, but
&gt; I also need the project name and filename in InferiorResumedEvent,
&gt; InferiorExitedEvent and ErrorEvent.  For example, I need to know which file
&gt; fired InferiorResumedEvent and then remove the annotation from that file.  Same
&gt; situation for the others.
&gt; 
&gt; The simulator template file has been done.  You can get the project name and
&gt; filename from the preference.  If you cannot provide the project name in the
&gt; event, it is a problem.  Only filename provided is not enought to locate the
&gt; source editor.  I need the project name to find out the file which located in
&gt; specific project.  Anyway, for the real debugger, I also need the project name
&gt; and filename for find out the source editor.  In eclipse, it provides the
&gt; IThread or IStackFrame interface which has much enough information to find out
&gt; the source editor.  Thus, the project name and filename are major information to
&gt; put the annotation on source editor.
&gt; 
&gt; 
&gt; (In reply to comment #1)
&gt; &gt; I don't think you need the info in all events. As far as I know, you only need
&gt; &gt; the filename info in suspended events (BreakpointHitEvent,
&gt; &gt; EndSteppingRangeEvent, etc), which has been done already. I mean, do you also
&gt; &gt; need the filename info in the DebuggerExitedEvent? I can't give you the project
&gt; &gt; name because ptp.core doesn't pass the project info to the simulator. Besides
&gt; &gt; that, like the plan says: use "TestC" and "main.c"
&gt; &gt; 
&gt; &gt; 
&gt; &gt; (In reply to comment #0)
&gt; &gt; &gt; I have mentioned that many times.  I need the filename to find out the source
&gt; &gt; &gt; editor.  Please provides the project name and filename in each debug event. 
&gt; &gt; Thanks.
&gt; 
&gt; 


I confirmed that I don't need the project name and filename in
InferiorResumedEvent, InferiorExitedEvent and ErrorEvent.  However, I still need
the project name in BreakpointHitEvent and EndSteppingRangeEvent.  Thanks.
Fixed.... the ProjectName doesn't come with events but you can get it from
Session().getProjectName()

(In reply to comment #4)
&gt; I confirmed that I don't need the project name and filename in
&gt; InferiorResumedEvent, InferiorExitedEvent and ErrorEvent.  However, I still need
&gt; the project name in BreakpointHitEvent and EndSteppingRangeEvent.  Thanks.</WithOutStack>
  </Bug>
  <Bug>
    <BugId amount="110840" />
    <CreationDate amount="2005-09-27 13:26:00 -0400" />
    <DupId amount="102422" />
    <classification amount="Eclipse" />
    <Product amount="JDT" />
    <component amount="Core" />
    <Version amount="3.1" />
    <rep_platform amount="PC" />
    <op_sys amount="Windows XP" />
    <priority amount="P3" />
    <bug_severity amount="blocker" />
    <Summery>Server target for large imported jar not handled properly</Summery>
    <Patches amount="0" />
    <Stacktraces amount="0" />
    <SourceCodeRegions amount="0" />
    <Enumerations amount="0" />
    <bug_status amount="RESOLVED" />
    <resolution amount="DUPLICATE" />
    <WithStack>When we import an EJB jar using the 20050916 WTP 1.0 M8-based driver and server
target it to a runtime containing a large (about 50MB) jar, some types inside
this jar cannot be reflected using JEM or JDT after the project is created. In
addition, we perform the import in headless Eclipse.

Examining this issue, we opened the workspace containing this project inside 
the Eclipse UI and, when we expand the jar in the package explorer, it shows 
some packages with a "?" icon. If we try to open the types which couldn't be
reflected in JEM/JDT, we got a Select Type dialog popup error message that 
states:

Could not uniquely map the type name to a type. If we move this type to a 
smaller jar also on the server target then JEM/JDT reflection seems to be ok.

Note that if we manually server target using the GUI, this problem does not 
seem to occur.



I don't know if this is a server targeting, EJB jar import or JDT issue
I think this is a JDT problem.  The Server Target mentioned above is a classpath
container containing all the jars available to the Server during runtime.  In
this case one of these jars is large (aabout 50MB).
We need a patch for this on top of Eclipse 3.1 as soon as possible.
We need a test case with steps to reproduce.
3.1.1 RC3 build is tomorrow. Why didn`t we get a PR before if you got it first
using build from the 20050916?
Removing target milestone. It will certainly not meet 3.1.1 which is happening
in a few hours. In order to address this defect, we first need accurate steps to
reproduce. We may provide a patch once the problem is addressed.

Did the problem occur in 3.1.0, or are you telling it is a regression from 3.1.0 ?
Jerome - Feels related to bug 102422, which got addressed for 3.1.1. Could it be
a different path in the code ?
Yen - can you check which version of JDT/Core is installed in: 20050916 WTP 1.0
M8 ? If this tells 3.1.0, then it is likely a dup of bug 102422, for which we
already have a fix scheduled for 3.1.1. Could you give it a try ?
Assuming it is the case, could you grap an Eclipse 3.1.1 build (rc2) and see if
when applying it to your WTP build, it addresses this issue ?
Philippe,

Olivier pointed me to Bugzilla 106202 which I have delta-applied on top of
org.eclipse.jdt.core_3.1.0.jar. We run with -Xmx256M. I did not have to change
this value when retrying my testcase. It passes now but do I really need both
106202 and 102422? I want to make the smallest change possible since our 
deliverable must ship as soon as possible.
Indeed this bug sounds more like bug 102422 (where the jar was flushed from the
cache while opening it). Bug 106202 is about performance, it won't have any
effect if you run with -Xmx256M as this is the default value for Eclipse.

So all you need is the fix for bug 102422 I believe. Can you please confirm that
? If you still have the problem with the fix for bug 102422, then we need a test
case to reproduce.

Also note that if you take Eclipse 3.1.1 (M20050928), you will get fixes for
both bugs.
The bug I wanted to point you to is bug 102422 and not 106202. My mistake.
Applying the patch for 102422 helped. However, in our overnight BVT run of 
1200+ invocations of this headless application, the problem occurs 
sporadically and, in total, about 4% of the time. I can reproduce it quite 
readily in a sequence of 100 runs but it is random and there's nothing in 
the .log file which helps me pinpoint the cause.
Can you explain in what the patch did help ?
Prior to the patch, this failed consistently and on both Windows and Linux. 
With the patch, I have not run into this problem since on Windows even with 
several batch runs of our tool. On Linux, if I set up a batch run of our tool 
for say 100 times, the failure to introspect occurs about 4-8 times on average.
I'm working to set up remote access for Jerome and modifying our code to be 
more JDT friendly.
After several attempts at making a JDT friendly test case, I believe this is no
longer a JDT issue. You can close this bug.

Thanks,
Yen
Thanks for letting us know. I'm closing this bug then.

*** This bug has been marked as a duplicate of 102422 ***</WithStack>
    <WithOutStack>When we import an EJB jar using the 20050916 WTP 1.0 M8-based driver and server
target it to a runtime containing a large (about 50MB) jar, some types inside
this jar cannot be reflected using JEM or JDT after the project is created. In
addition, we perform the import in headless Eclipse.

Examining this issue, we opened the workspace containing this project inside 
the Eclipse UI and, when we expand the jar in the package explorer, it shows 
some packages with a "?" icon. If we try to open the types which couldn't be
reflected in JEM/JDT, we got a Select Type dialog popup error message that 
states:

Could not uniquely map the type name to a type. If we move this type to a 
smaller jar also on the server target then JEM/JDT reflection seems to be ok.

Note that if we manually server target using the GUI, this problem does not 
seem to occur.



I don't know if this is a server targeting, EJB jar import or JDT issue
I think this is a JDT problem.  The Server Target mentioned above is a classpath
container containing all the jars available to the Server during runtime.  In
this case one of these jars is large (aabout 50MB).
We need a patch for this on top of Eclipse 3.1 as soon as possible.
We need a test case with steps to reproduce.
3.1.1 RC3 build is tomorrow. Why didn`t we get a PR before if you got it first
using build from the 20050916?
Removing target milestone. It will certainly not meet 3.1.1 which is happening
in a few hours. In order to address this defect, we first need accurate steps to
reproduce. We may provide a patch once the problem is addressed.

Did the problem occur in 3.1.0, or are you telling it is a regression from 3.1.0 ?
Jerome - Feels related to bug 102422, which got addressed for 3.1.1. Could it be
a different path in the code ?
Yen - can you check which version of JDT/Core is installed in: 20050916 WTP 1.0
M8 ? If this tells 3.1.0, then it is likely a dup of bug 102422, for which we
already have a fix scheduled for 3.1.1. Could you give it a try ?
Assuming it is the case, could you grap an Eclipse 3.1.1 build (rc2) and see if
when applying it to your WTP build, it addresses this issue ?
Philippe,

Olivier pointed me to Bugzilla 106202 which I have delta-applied on top of
org.eclipse.jdt.core_3.1.0.jar. We run with -Xmx256M. I did not have to change
this value when retrying my testcase. It passes now but do I really need both
106202 and 102422? I want to make the smallest change possible since our 
deliverable must ship as soon as possible.
Indeed this bug sounds more like bug 102422 (where the jar was flushed from the
cache while opening it). Bug 106202 is about performance, it won't have any
effect if you run with -Xmx256M as this is the default value for Eclipse.

So all you need is the fix for bug 102422 I believe. Can you please confirm that
? If you still have the problem with the fix for bug 102422, then we need a test
case to reproduce.

Also note that if you take Eclipse 3.1.1 (M20050928), you will get fixes for
both bugs.
The bug I wanted to point you to is bug 102422 and not 106202. My mistake.
Applying the patch for 102422 helped. However, in our overnight BVT run of 
1200+ invocations of this headless application, the problem occurs 
sporadically and, in total, about 4% of the time. I can reproduce it quite 
readily in a sequence of 100 runs but it is random and there's nothing in 
the .log file which helps me pinpoint the cause.
Can you explain in what the patch did help ?
Prior to the patch, this failed consistently and on both Windows and Linux. 
With the patch, I have not run into this problem since on Windows even with 
several batch runs of our tool. On Linux, if I set up a batch run of our tool 
for say 100 times, the failure to introspect occurs about 4-8 times on average.
I'm working to set up remote access for Jerome and modifying our code to be 
more JDT friendly.
After several attempts at making a JDT friendly test case, I believe this is no
longer a JDT issue. You can close this bug.

Thanks,
Yen
Thanks for letting us know. I'm closing this bug then.

*** This bug has been marked as a duplicate of 102422 ***</WithOutStack>
  </Bug>
  <Bug>
    <BugId amount="110841" />
    <CreationDate amount="2005-09-27 13:36:00 -0400" />
    <DupId amount="" />
    <classification amount="Eclipse Foundation" />
    <Product amount="z_Archived" />
    <component amount="Pollinate" />
    <Version amount="unspecified" />
    <rep_platform amount="All" />
    <op_sys amount="All" />
    <priority amount="P3" />
    <bug_severity amount="normal" />
    <Summery>Eclipse site not current?</Summery>
    <Patches amount="0" />
    <Stacktraces amount="0" />
    <SourceCodeRegions amount="0" />
    <Enumerations amount="0" />
    <bug_status amount="NEW" />
    <resolution amount="" />
    <WithStack>The download links on the Pollinate page at Eclipse aren't working.  Also, I see
nothing (bugs, news, etc) there later than March '05.</WithStack>
    <WithOutStack>The download links on the Pollinate page at Eclipse aren't working.  Also, I see
nothing (bugs, news, etc) there later than March '05.</WithOutStack>
  </Bug>
  <Bug>
    <BugId amount="110842" />
    <CreationDate amount="2005-09-27 13:44:00 -0400" />
    <DupId amount="" />
    <classification amount="Modeling" />
    <Product amount="GMF-Runtime" />
    <component amount="General" />
    <Version amount="1.0" />
    <rep_platform amount="PC" />
    <op_sys amount="Windows 2000" />
    <priority amount="P3" />
    <bug_severity amount="minor" />
    <Summery>[OutlineView] Outline View cosmetic issues in tree mode for Logic and Geoshape diagrams</Summery>
    <Patches amount="0" />
    <Stacktraces amount="0" />
    <SourceCodeRegions amount="1">
      <source_code type="assignment">
        <location start="2496" end="2546" />
        <code>name = ((View) getModel()).getDiagram().getName();</code>
      </source_code>
    </SourceCodeRegions>
    <Enumerations amount="0" />
    <bug_status amount="NEW" />
    <resolution amount="" />
    <WithStack>There are a couple cosmetic issues with the outline view when in tree mode for 
Logic and Geoshape diagrams.

Issue 1: Geoshapes and notes show up in the outline view, but they do not have 
an icon with them so it is impossible to know what is what.

Issue 2: The top-level entry for a logic diagram does not have a title.  With a 
geoshape diagram, it is the title of the diagram.
Changing component to "Runtime Diagram"
(In reply to comment #0)

Issue 1: 
When no icon (predefined or build at runtime) is available they should have a
fall-back icon with them.  

Moving to the next release, GMF 2.1. 
Created attachment 79399
Proposed patch

broke up the description style into diagram and shape, because the wrong style was returning when the parser didn't have a source of information
Hi Carson,

The Logic diagram and Geoshapes diagram now both have the title.
The Geoshapes diagram root in the tree does not have an icon.

I think we want to add the checks for diagram and shape in getText and not remove the description style. This would be an internal API change.

When the geoshapes + note + text do not have text yet, can you still get a tree node name from something? Node type?
(In reply to comment #2)
&gt; (In reply to comment #0)
&gt; Issue 1: 
&gt; When no icon (predefined or build at runtime) is available they should have a
&gt; fall-back icon with them.  

i have a proposed solution for this.  the class "GetIconOperation", retrieves the icon from the provider and returns it to the appropriate location.  however adding a check here for a null image is not suffice because some places may want a null icon.  

however if we add the following :
"public static final IconOptions GET_DEFAULT_ICON = new IconOptions(-1);"
to IconOptions.java, then a backup icon option becomes available.
the problem is you'll have to specify you want a backup during in your code, or else null will be returned.

this would also fix the problem for geoshape tree outline view not having a diagram, since the default icon is the eclipse icon, and geoshapes use the eclipse icon.

will this be acceptable?

(In reply to comment #6)
&gt; When the geoshapes + note + text do not have text yet, can you still get a tree
&gt; node name from something? Node type?

instead of removing the descriptionStyle check, i've put it back and instead added an additional check inside the descriptionStyle to check if it contains a diagramStyle, if so, simply return the diagram name. we can achieve this by the following code:

name = ((View) getModel()).getDiagram().getName();

i will submit a proposed patch after the solution above has been approved.
(In reply to comment #7)
&gt; 
&gt; i will submit a proposed patch after the solution above has been approved.
&gt; 
Your two proposals sound fine.



Created attachment 83465
Proposed Path _ Updated

Also as mentioned above, instead of removing the description style, i just added an additional check and returned the name only when a diagramStyle wasn't available.

As for the icon, as mentioned above, I added an IconOption for GET_DEFAULT_ICON with a flag value of (-1). The user must specify the desire for a default icon or else null, or an empty image will be returned.  For TreeEditPart, we check that if the image returned is, we set the new option for -1, and retrieve the default image.
Comment on attachment 83465
Proposed Path _ Updated

We did not want to modify the icon service to fix this
[GMF Restructure] Bug 319140 : product GMF and component
Runtime was the original product and component for this bug</WithStack>
    <WithOutStack>There are a couple cosmetic issues with the outline view when in tree mode for 
Logic and Geoshape diagrams.

Issue 1: Geoshapes and notes show up in the outline view, but they do not have 
an icon with them so it is impossible to know what is what.

Issue 2: The top-level entry for a logic diagram does not have a title.  With a 
geoshape diagram, it is the title of the diagram.
Changing component to "Runtime Diagram"
(In reply to comment #0)

Issue 1: 
When no icon (predefined or build at runtime) is available they should have a
fall-back icon with them.  

Moving to the next release, GMF 2.1. 
Created attachment 79399
Proposed patch

broke up the description style into diagram and shape, because the wrong style was returning when the parser didn't have a source of information
Hi Carson,

The Logic diagram and Geoshapes diagram now both have the title.
The Geoshapes diagram root in the tree does not have an icon.

I think we want to add the checks for diagram and shape in getText and not remove the description style. This would be an internal API change.

When the geoshapes + note + text do not have text yet, can you still get a tree node name from something? Node type?
(In reply to comment #2)
&gt; (In reply to comment #0)
&gt; Issue 1: 
&gt; When no icon (predefined or build at runtime) is available they should have a
&gt; fall-back icon with them.  

i have a proposed solution for this.  the class "GetIconOperation", retrieves the icon from the provider and returns it to the appropriate location.  however adding a check here for a null image is not suffice because some places may want a null icon.  

however if we add the following :
"public static final IconOptions GET_DEFAULT_ICON = new IconOptions(-1);"
to IconOptions.java, then a backup icon option becomes available.
the problem is you'll have to specify you want a backup during in your code, or else null will be returned.

this would also fix the problem for geoshape tree outline view not having a diagram, since the default icon is the eclipse icon, and geoshapes use the eclipse icon.

will this be acceptable?

(In reply to comment #6)
&gt; When the geoshapes + note + text do not have text yet, can you still get a tree
&gt; node name from something? Node type?

instead of removing the descriptionStyle check, i've put it back and instead added an additional check inside the descriptionStyle to check if it contains a diagramStyle, if so, simply return the diagram name. we can achieve this by the following code:

name = ((View) getModel()).getDiagram().getName();

i will submit a proposed patch after the solution above has been approved.
(In reply to comment #7)
&gt; 
&gt; i will submit a proposed patch after the solution above has been approved.
&gt; 
Your two proposals sound fine.



Created attachment 83465
Proposed Path _ Updated

Also as mentioned above, instead of removing the description style, i just added an additional check and returned the name only when a diagramStyle wasn't available.

As for the icon, as mentioned above, I added an IconOption for GET_DEFAULT_ICON with a flag value of (-1). The user must specify the desire for a default icon or else null, or an empty image will be returned.  For TreeEditPart, we check that if the image returned is, we set the new option for -1, and retrieve the default image.
Comment on attachment 83465
Proposed Path _ Updated

We did not want to modify the icon service to fix this
[GMF Restructure] Bug 319140 : product GMF and component
Runtime was the original product and component for this bug</WithOutStack>
  </Bug>
  <Bug>
    <BugId amount="110843" />
    <CreationDate amount="2005-09-27 13:44:00 -0400" />
    <DupId amount="" />
    <classification amount="Eclipse Foundation" />
    <Product amount="Community" />
    <component amount="Mail" />
    <Version amount="unspecified" />
    <rep_platform amount="PC" />
    <op_sys amount="Windows XP" />
    <priority amount="P3" />
    <bug_severity amount="normal" />
    <Summery>Eclipse email request</Summery>
    <Patches amount="0" />
    <Stacktraces amount="0" />
    <SourceCodeRegions amount="0" />
    <Enumerations amount="0" />
    <bug_status amount="RESOLVED" />
    <resolution amount="FIXED" />
    <WithStack>Hi! I'd like jeff.myers@eclipse.org aliased to myersj@gmail.com if possible.
Thanks.
Done.

-M.</WithStack>
    <WithOutStack>Hi! I'd like jeff.myers@eclipse.org aliased to myersj@gmail.com if possible.
Thanks.
Done.

-M.</WithOutStack>
  </Bug>
  <Bug>
    <BugId amount="110844" />
    <CreationDate amount="2005-09-27 13:51:00 -0400" />
    <DupId amount="" />
    <classification amount="WebTools" />
    <Product amount="WTP Source Editing" />
    <component amount="wst.sse" />
    <Version amount="1.0" />
    <rep_platform amount="PC" />
    <op_sys amount="Windows XP" />
    <priority amount="P3" />
    <bug_severity amount="normal" />
    <Summery>don't use StrucutredDocumentRegion.getNext()</Summery>
    <Patches amount="0" />
    <Stacktraces amount="0" />
    <SourceCodeRegions amount="1">
      <source_code type="functioncall">
        <location start="316" end="375" />
        <code>IStructuredDocumentRegion[] getStructuredDocumentRegions();</code>
      </source_code>
    </SourceCodeRegions>
    <Enumerations amount="0" />
    <bug_status amount="RESOLVED" />
    <resolution amount="FIXED" />
    <WithStack>DirtyRegionProcessor uses the api "getNext()" to loop through dirty regions of a
document.  

Instead it should loop a threadsafe array of regions from startindex to endindex.
wrong component.
The groundwork for this fix has been in.

IStructuredDocumentRegion[] getStructuredDocumentRegions(int start, int length) 
IStructuredDocumentRegion[] getStructuredDocumentRegions();

were added to IStructurdDocument, and implemented in BasicStructuredDocument.

As you type validation has already switched to this new API.
Need to look for other places where "getNext()" shouldn't be used.
DirtyRegionProcessor no longer uses "getNext()", time to close.
fixed</WithStack>
    <WithOutStack>DirtyRegionProcessor uses the api "getNext()" to loop through dirty regions of a
document.  

Instead it should loop a threadsafe array of regions from startindex to endindex.
wrong component.
The groundwork for this fix has been in.

IStructuredDocumentRegion[] getStructuredDocumentRegions(int start, int length) 
IStructuredDocumentRegion[] getStructuredDocumentRegions();

were added to IStructurdDocument, and implemented in BasicStructuredDocument.

As you type validation has already switched to this new API.
Need to look for other places where "getNext()" shouldn't be used.
DirtyRegionProcessor no longer uses "getNext()", time to close.
fixed</WithOutStack>
  </Bug>
  <Bug>
    <BugId amount="110845" />
    <CreationDate amount="2005-09-27 13:51:00 -0400" />
    <DupId amount="" />
    <classification amount="BIRT" />
    <Product amount="BIRT" />
    <component amount="Report" />
    <Version amount="1.0.1" />
    <rep_platform amount="PC" />
    <op_sys amount="Windows XP" />
    <priority amount="P3" />
    <bug_severity amount="enhancement" />
    <Summery>ignorable report template section</Summery>
    <Patches amount="0" />
    <Stacktraces amount="0" />
    <SourceCodeRegions amount="0" />
    <Enumerations amount="3">
      <Enumeration lines="6">
        <Lines>
          <Line>1. you create a custom report item with some user properties, and write scripts</Line>
          <Line>to process those them, and save it to a report libary.</Line>
          <Line>2. you can refer to the custom report item in your report design. User</Line>
          <Line>properties will behave the same as other native ROM properties on the report</Line>
          <Line>item. So you can use the property sheet to specify the value for the user</Line>
          <Line>properties.</Line>
        </Lines>
      </Enumeration>
      <Enumeration lines="2">
        <Lines>
          <Line>- Date information</Line>
          <Line>- Application specific data.</Line>
        </Lines>
      </Enumeration>
      <Enumeration lines="2">
        <Lines>
          <Line>- User can define user properties using property editor view</Line>
          <Line>- User can set/view the user propertie using property view of the report element.</Line>
        </Lines>
      </Enumeration>
    </Enumerations>
    <bug_status amount="RESOLVED" />
    <resolution amount="FIXED" />
    <WithStack>We would like to annotate, or add in XML data to a report template. The idea is
that a third party could annotate a report template with application specific
data that the birt engine would simply ignore. This would allow third partys to
greater customize their reporting solutions using BIRT.
can this need be addressed by user properties in ROM?
If I understand correctly a user property can be added to pretty much any
element in the ROM? Including the highest level element, the report itself? 

I believe this would suit our needs. 

What we want to do is add Application specific information to the report such as

-Versioning information
- Date information
- Application specific data.


A few follow up questions:

Are the User Properties ignored by the BIRT engine?
Are the User Properties editable in the report designer or hidden from the user?
Last, I dug around through the ROM specs and I didnt come across much
that talked about User Properties, is there a specific spec and section that
might describe user properties in more detail?


Yes. Any report elements including the root element (the report itself) can 
have user properties. This feature is not surfaced in BIRT 1.0.x GUI.

BIRT 2.0 designer will allow report developers to create/edit user properties.

The main purpose of user properties is for report developers to create 
customized report componment. As you guessed, user properties won't be used by 
BIRT engine. It is designed to be used by your scripting code. BIRT 2.0 will 
support scripting in java. Access to user properties will be much easier.

User properties is also supported in report library. A typical usasge scenario 
will be:
1. you create a custom report item with some user properties, and write scripts 
to process those them, and save it to a report libary.
2. you can refer to the custom report item in your report design. User 
properties will behave the same as other native ROM properties on the report 
item. So you can use the property sheet to specify the value for the user 
properties.







- User can define user properties using property editor view
- User can set/view the user propertie using property view of the report element.

DE and UI changes are done.
Verified in build 20051220.
User properties is supported now.</WithStack>
    <WithOutStack>We would like to annotate, or add in XML data to a report template. The idea is
that a third party could annotate a report template with application specific
data that the birt engine would simply ignore. This would allow third partys to
greater customize their reporting solutions using BIRT.
can this need be addressed by user properties in ROM?
If I understand correctly a user property can be added to pretty much any
element in the ROM? Including the highest level element, the report itself? 

I believe this would suit our needs. 

What we want to do is add Application specific information to the report such as

-Versioning information
- Date information
- Application specific data.


A few follow up questions:

Are the User Properties ignored by the BIRT engine?
Are the User Properties editable in the report designer or hidden from the user?
Last, I dug around through the ROM specs and I didnt come across much
that talked about User Properties, is there a specific spec and section that
might describe user properties in more detail?


Yes. Any report elements including the root element (the report itself) can 
have user properties. This feature is not surfaced in BIRT 1.0.x GUI.

BIRT 2.0 designer will allow report developers to create/edit user properties.

The main purpose of user properties is for report developers to create 
customized report componment. As you guessed, user properties won't be used by 
BIRT engine. It is designed to be used by your scripting code. BIRT 2.0 will 
support scripting in java. Access to user properties will be much easier.

User properties is also supported in report library. A typical usasge scenario 
will be:
1. you create a custom report item with some user properties, and write scripts 
to process those them, and save it to a report libary.
2. you can refer to the custom report item in your report design. User 
properties will behave the same as other native ROM properties on the report 
item. So you can use the property sheet to specify the value for the user 
properties.







- User can define user properties using property editor view
- User can set/view the user propertie using property view of the report element.

DE and UI changes are done.
Verified in build 20051220.
User properties is supported now.</WithOutStack>
  </Bug>
  <Bug>
    <BugId amount="110846" />
    <CreationDate amount="2005-09-27 13:59:00 -0400" />
    <DupId amount="115719" />
    <classification amount="RT" />
    <Product amount="Equinox" />
    <component amount="Framework" />
    <Version amount="3.1" />
    <rep_platform amount="PC" />
    <op_sys amount="Windows XP" />
    <priority amount="P3" />
    <bug_severity amount="normal" />
    <Summery>Code Sources Missing Certificates</Summery>
    <Patches amount="0" />
    <Stacktraces amount="0" />
    <SourceCodeRegions amount="0" />
    <Enumerations amount="0" />
    <bug_status amount="RESOLVED" />
    <resolution amount="DUPLICATE" />
    <WithStack>Code running in bundles and loaded from signed jar files is missing the
certificates (Class.getProtectionDomain().getCodeSource().getCertificates() is
returning null).
I believe this has been fixed. Tom W?
Fixed for M6.

osgi.support.signature.verify=true must be set in your config.ini or passed as a -D VM arg.



*** This bug has been marked as a duplicate of 115719 ***</WithStack>
    <WithOutStack>Code running in bundles and loaded from signed jar files is missing the
certificates (Class.getProtectionDomain().getCodeSource().getCertificates() is
returning null).
I believe this has been fixed. Tom W?
Fixed for M6.

osgi.support.signature.verify=true must be set in your config.ini or passed as a -D VM arg.



*** This bug has been marked as a duplicate of 115719 ***</WithOutStack>
  </Bug>
  <Bug>
    <BugId amount="110847" />
    <CreationDate amount="2005-09-27 14:03:00 -0400" />
    <DupId amount="" />
    <classification amount="WebTools" />
    <Product amount="WTP Webservices" />
    <component amount="wst.ws" />
    <Version amount="1.0" />
    <rep_platform amount="PC" />
    <op_sys amount="Windows XP" />
    <priority amount="P3" />
    <bug_severity amount="normal" />
    <Summery>Migrate to removing Status and ProgressMonitor</Summery>
    <Patches amount="0" />
    <Stacktraces amount="0" />
    <SourceCodeRegions amount="0" />
    <Enumerations amount="0" />
    <bug_status amount="CLOSED" />
    <resolution amount="FIXED" />
    <WithStack>Need to migrate from Status to IStatus and from ProgressMonitor to 
IProgressMonitor.
Created attachment 27570
Jst ws plugin patch
Created attachment 27572
Jst ws consuption plugin patch
Created attachment 27573
Wst env plugin patch
Created attachment 27574
Wst env core plugin patch
Created attachment 27575
Wst env ui plugin patch
Created attachment 27576
Wst explorer plugin patch
Created attachment 27577
Wst ws plugin patch
Created attachment 27578
Wst ws ui plugin patch
Is this still supposed to go into 0.7.1?
Created attachment 27627
Jst ws consumption plugin patch
Created attachment 27629
Jst ws consumption ui plugin patch
Created attachment 27630
Jst ws creation ui plugin patch
Created attachment 27631
Jst ws tests plugin patch
Created attachment 27632
Jst ws tests performance plugin patch
Created attachment 27633
jst ws uddi plugin patch
Created attachment 27634
Jst ws ui plugin patch
Created attachment 27635
Wst env core plugin patch
Created attachment 27637
Wst explorer plugin patch
Created attachment 27638
Wst internet plugin patch
Created attachment 27639
Wst ws tests plugin patch
The Axis plugins are also ported.

Changes have been committed but not released yet.
Changes committed and released as v20050930_1500.  Please resolve the defect.
This enhancement has been implemented.
This enhancement is complete.</WithStack>
    <WithOutStack>Need to migrate from Status to IStatus and from ProgressMonitor to 
IProgressMonitor.
Created attachment 27570
Jst ws plugin patch
Created attachment 27572
Jst ws consuption plugin patch
Created attachment 27573
Wst env plugin patch
Created attachment 27574
Wst env core plugin patch
Created attachment 27575
Wst env ui plugin patch
Created attachment 27576
Wst explorer plugin patch
Created attachment 27577
Wst ws plugin patch
Created attachment 27578
Wst ws ui plugin patch
Is this still supposed to go into 0.7.1?
Created attachment 27627
Jst ws consumption plugin patch
Created attachment 27629
Jst ws consumption ui plugin patch
Created attachment 27630
Jst ws creation ui plugin patch
Created attachment 27631
Jst ws tests plugin patch
Created attachment 27632
Jst ws tests performance plugin patch
Created attachment 27633
jst ws uddi plugin patch
Created attachment 27634
Jst ws ui plugin patch
Created attachment 27635
Wst env core plugin patch
Created attachment 27637
Wst explorer plugin patch
Created attachment 27638
Wst internet plugin patch
Created attachment 27639
Wst ws tests plugin patch
The Axis plugins are also ported.

Changes have been committed but not released yet.
Changes committed and released as v20050930_1500.  Please resolve the defect.
This enhancement has been implemented.
This enhancement is complete.</WithOutStack>
  </Bug>
  <Bug>
    <BugId amount="110848" />
    <CreationDate amount="2005-09-27 14:04:00 -0400" />
    <DupId amount="" />
    <classification amount="Modeling" />
    <Product amount="GMF-Runtime" />
    <component amount="General" />
    <Version amount="1.0" />
    <rep_platform amount="PC" />
    <op_sys amount="Windows 2000" />
    <priority amount="P1" />
    <bug_severity amount="major" />
    <Summery>Paste puts new shapes right on top of old shapes</Summery>
    <Patches amount="0" />
    <Stacktraces amount="0" />
    <SourceCodeRegions amount="0" />
    <Enumerations amount="1">
      <Enumeration lines="8">
        <Lines>
          <Line>1. Copy a shape.</Line>
          <Line>2. Paste the shape.</Line>
          <Line>RESULT:  The new shape appears right on top of the old shape.  It's not obvious</Line>
          <Line>that the paste worked.  The new shape should be offset a bit.  It used to work</Line>
          <Line>like this.</Line>
          <Line>Changing component to "Runtime Diagram"</Line>
          <Line>Pushing the priority up since this can be very confusing.  It's difficult to</Line>
          <Line>know that the paste even occurred causing the user to do multiple pastes...</Line>
        </Lines>
      </Enumeration>
    </Enumerations>
    <bug_status amount="RESOLVED" />
    <resolution amount="FIXED" />
    <WithStack>To reproduce:
1. Copy a shape.
2. Paste the shape.
RESULT:  The new shape appears right on top of the old shape.  It's not obvious 
that the paste worked.  The new shape should be offset a bit.  It used to work 
like this.
Changing component to "Runtime Diagram"
Pushing the priority up since this can be very confusing.  It's difficult to 
know that the paste even occurred causing the user to do multiple pastes...

Additional note: if the original shapes aren't in the viewport, then it should 
paste to the center of the viewport.
Created attachment 30138
patch

Attached is the fix.  Two files.
Purpose: 
Bugzilla#110848 Paste puts new shapes right on top of old shapes 
- Regression caused be refactoring changes.  Simple fix to 
org.eclipse.gmf.runtime.diagram.ui.internal.commands.PasteCommand.  I also now 
reveal the editpart in DiagramGlobalActionHandler.

Activities: 
Bugzilla#110848 gmf_head cmahoney 051117 Paste puts new shapes right on top of 
old shapes 

Code Reviewed by:
Steve

How tested: 
Verified paste put new view slightly offset from copied view as it previously 
did and pasted shape gets revealed.

JUnit Tests:  
diagram.ui -- 71/71
[GMF Restructure] Bug 319140 : product GMF and component Runtime Diagram was the original product and component for this bug</WithStack>
    <WithOutStack>To reproduce:
1. Copy a shape.
2. Paste the shape.
RESULT:  The new shape appears right on top of the old shape.  It's not obvious 
that the paste worked.  The new shape should be offset a bit.  It used to work 
like this.
Changing component to "Runtime Diagram"
Pushing the priority up since this can be very confusing.  It's difficult to 
know that the paste even occurred causing the user to do multiple pastes...

Additional note: if the original shapes aren't in the viewport, then it should 
paste to the center of the viewport.
Created attachment 30138
patch

Attached is the fix.  Two files.
Purpose: 
Bugzilla#110848 Paste puts new shapes right on top of old shapes 
- Regression caused be refactoring changes.  Simple fix to 
org.eclipse.gmf.runtime.diagram.ui.internal.commands.PasteCommand.  I also now 
reveal the editpart in DiagramGlobalActionHandler.

Activities: 
Bugzilla#110848 gmf_head cmahoney 051117 Paste puts new shapes right on top of 
old shapes 

Code Reviewed by:
Steve

How tested: 
Verified paste put new view slightly offset from copied view as it previously 
did and pasted shape gets revealed.

JUnit Tests:  
diagram.ui -- 71/71
[GMF Restructure] Bug 319140 : product GMF and component Runtime Diagram was the original product and component for this bug</WithOutStack>
  </Bug>
  <Bug>
    <BugId amount="110849" />
    <CreationDate amount="2005-09-27 14:04:00 -0400" />
    <DupId amount="" />
    <classification amount="Eclipse" />
    <Product amount="JDT" />
    <component amount="Core" />
    <Version amount="3.2" />
    <rep_platform amount="PC" />
    <op_sys amount="Windows XP" />
    <priority amount="P3" />
    <bug_severity amount="normal" />
    <Summery>[compiler] Batch compiler doesn't use the user.dir if no classpath is specified</Summery>
    <Patches amount="0" />
    <Stacktraces amount="0" />
    <SourceCodeRegions amount="0" />
    <Enumerations amount="0" />
    <bug_status amount="VERIFIED" />
    <resolution amount="FIXED" />
    <WithStack>When no classpath is specified and the claspath environment variable is empty,
the user directory should be used.
Created attachment 27567
Proposed fix
Created attachment 27568
Regression test
Fixed and released in HEAD.
Regression test added in
org.eclipse.jdt.core.tests.compiler.regression.BatchCompilerTest.test035
Verified for 3.2 M3 using build I20051025-0800+JDT/Core v_619</WithStack>
    <WithOutStack>When no classpath is specified and the claspath environment variable is empty,
the user directory should be used.
Created attachment 27567
Proposed fix
Created attachment 27568
Regression test
Fixed and released in HEAD.
Regression test added in
org.eclipse.jdt.core.tests.compiler.regression.BatchCompilerTest.test035
Verified for 3.2 M3 using build I20051025-0800+JDT/Core v_619</WithOutStack>
  </Bug>
  <Bug>
    <BugId amount="110850" />
    <CreationDate amount="2005-09-27 14:10:00 -0400" />
    <DupId amount="110830" />
    <classification amount="Modeling" />
    <Product amount="EMF" />
    <component amount="Edit" />
    <Version amount="2.1" />
    <rep_platform amount="PC" />
    <op_sys amount="Windows XP" />
    <priority amount="P3" />
    <bug_severity amount="normal" />
    <Summery>EcoreEditor ClassCastException opening ecore from Jar</Summery>
    <Patches amount="0" />
    <Stacktraces amount="1">
      <Stacktrace timestamp="1437330582191">
        <Exception>java.lang.ClassCastException</Exception>
        <Reason>org.eclipse.jdt.internal.ui.javaeditor.JarEntryEditorInput</Reason>
        <Frames>
          <Frame depth="0">org.eclipse.emf.ecore.presentation.EcoreEditor.createModel(EcoreEditor.java:821)</Frame>
          <Frame depth="1">org.eclipse.emf.ecore.presentation.EcoreEditor.createPages(EcoreEditor.java:845)</Frame>
          <Frame depth="2">org.eclipse.ui.part.MultiPageEditorPart.createPartControl(MultiPageEditorPart.java:241)</Frame>
          <Frame depth="3">org.eclipse.ui.internal.EditorReference.createPartHelper(EditorReference.java:585)</Frame>
          <Frame depth="4">org.eclipse.ui.internal.EditorReference.createPart(EditorReference.java:365)</Frame>
        </Frames>
      </Stacktrace>
    </Stacktraces>
    <SourceCodeRegions amount="0" />
    <Enumerations amount="0" />
    <bug_status amount="RESOLVED" />
    <resolution amount="DUPLICATE" />
    <WithStack>Double click on an ecore file that is inside a jar and you receive this 
exception in the Ecore editor:

java.lang.ClassCastException: 
org.eclipse.jdt.internal.ui.javaeditor.JarEntryEditorInput
	at org.eclipse.emf.ecore.presentation.EcoreEditor.createModel
(EcoreEditor.java:821)
	at org.eclipse.emf.ecore.presentation.EcoreEditor.createPages
(EcoreEditor.java:845)
	at org.eclipse.ui.part.MultiPageEditorPart.createPartControl
(MultiPageEditorPart.java:241)
	at org.eclipse.ui.internal.EditorReference.createPartHelper
(EditorReference.java:585)
	at org.eclipse.ui.internal.EditorReference.createPart
(EditorReference.java:365)

This Editor should at least allow you to view the ecore, even if it is 
uneditable.
Karen,

I see.  I never tried that before. ;-)

*** This bug has been marked as a duplicate of 110830 ***</WithStack>
    <WithOutStack>Double click on an ecore file that is inside a jar and you receive this 
exception in the Ecore editor:



This Editor should at least allow you to view the ecore, even if it is 
uneditable.
Karen,

I see.  I never tried that before. ;-)

*** This bug has been marked as a duplicate of 110830 ***</WithOutStack>
  </Bug>
  <Bug>
    <BugId amount="110851" />
    <CreationDate amount="2005-09-27 14:12:00 -0400" />
    <DupId amount="30968" />
    <classification amount="Eclipse" />
    <Product amount="Platform" />
    <component amount="SWT" />
    <Version amount="3.0.2" />
    <rep_platform amount="PC" />
    <op_sys amount="Linux-GTK" />
    <priority amount="P3" />
    <bug_severity amount="blocker" />
    <Summery>Combo boxes do not respect SWT.SIMPLE style bit.</Summery>
    <Patches amount="0" />
    <Stacktraces amount="0" />
    <SourceCodeRegions amount="0" />
    <Enumerations amount="0" />
    <bug_status amount="RESOLVED" />
    <resolution amount="DUPLICATE" />
    <WithStack>Creating a combo box with a style bit of SWT.SIMPLE and SWT.READ_ONLY look
exactly the same on a linux-GTK system.  Looks different on win32 with same code.


*** This bug has been marked as a duplicate of 30968 ***</WithStack>
    <WithOutStack>Creating a combo box with a style bit of SWT.SIMPLE and SWT.READ_ONLY look
exactly the same on a linux-GTK system.  Looks different on win32 with same code.


*** This bug has been marked as a duplicate of 30968 ***</WithOutStack>
  </Bug>
  <Bug>
    <BugId amount="110852" />
    <CreationDate amount="2005-09-27 14:21:00 -0400" />
    <DupId amount="" />
    <classification amount="Eclipse" />
    <Product amount="Platform" />
    <component amount="Releng" />
    <Version amount="3.2" />
    <rep_platform amount="PC" />
    <op_sys amount="Linux-GTK" />
    <priority amount="P3" />
    <bug_severity amount="normal" />
    <Summery>label.properties is not updated when a build is promoted</Summery>
    <Patches amount="0" />
    <Stacktraces amount="0" />
    <SourceCodeRegions amount="0" />
    <Enumerations amount="0" />
    <bug_status amount="NEW" />
    <resolution amount="" />
    <WithStack>The label.properties file is not updated when a build is promoted. This file is
referenced by the test.xml in the automated test zip and is used to construct
the name of the archive file.  

As a workaround, when you try to run the automated tests for a stable or release
build, update the label.properties to reflect the chacteristics for the updated
build.

For example for 3.2 M2 the label.properties should  look as follows,
builddate=Sept 23, 2005
buildtype=S
buildId=3.2M2
timestamp=200509231000
buildLabel=S-3.2M2-200509231000

We should make our build scripts more robust in the future so this is not an issue.
Kim, any word on this fix?
no, have been busy with the 3.1.1 release. Please continue to use the workaround
for now.
*** Bug 153955 has been marked as a duplicate of this bug. ***
*** Bug 322869 has been marked as a duplicate of this bug. ***
I'm not sure we use this file any longer. 

But, if we do ... that is, if we still need the functionality ... there are some other files we should use instead, which are updated during promote. Such as for ant, it's called buildproperties.properties (there is also a php and a bash (shsource) version).</WithStack>
    <WithOutStack>The label.properties file is not updated when a build is promoted. This file is
referenced by the test.xml in the automated test zip and is used to construct
the name of the archive file.  

As a workaround, when you try to run the automated tests for a stable or release
build, update the label.properties to reflect the chacteristics for the updated
build.

For example for 3.2 M2 the label.properties should  look as follows,
builddate=Sept 23, 2005
buildtype=S
buildId=3.2M2
timestamp=200509231000
buildLabel=S-3.2M2-200509231000

We should make our build scripts more robust in the future so this is not an issue.
Kim, any word on this fix?
no, have been busy with the 3.1.1 release. Please continue to use the workaround
for now.
*** Bug 153955 has been marked as a duplicate of this bug. ***
*** Bug 322869 has been marked as a duplicate of this bug. ***
I'm not sure we use this file any longer. 

But, if we do ... that is, if we still need the functionality ... there are some other files we should use instead, which are updated during promote. Such as for ant, it's called buildproperties.properties (there is also a php and a bash (shsource) version).</WithOutStack>
  </Bug>
  <Bug>
    <BugId amount="110853" />
    <CreationDate amount="2005-09-27 14:22:00 -0400" />
    <DupId amount="" />
    <classification amount="Eclipse Foundation" />
    <Product amount="z_Archived" />
    <component amount="VE" />
    <Version amount="unspecified" />
    <rep_platform amount="PC" />
    <op_sys amount="Windows XP" />
    <priority amount="P3" />
    <bug_severity amount="normal" />
    <Summery>Generate all constructors in class</Summery>
    <Patches amount="0" />
    <Stacktraces amount="0" />
    <SourceCodeRegions amount="1">
      <source_code type="functiondef">
        <location start="444" end="520" />
        <code>public MyDialog() {
    super(new java.awt.Frame());
    initialize();
  }</code>
      </source_code>
    </SourceCodeRegions>
    <Enumerations amount="0" />
    <bug_status amount="NEW" />
    <resolution amount="" />
    <WithStack>VECreationPolicy is here simply to allow creating a null constructor when there
wasn't any constructors. We actually generate lousy code because of this. For
example there is Dialog. We generate super(new java.awt.Frame()).

We should get rid of VECreationPolicy because it was here only for subclassing
Dialog. By default there was no constructors in the Dialog subclass (which by
itself is a syntax error) we then generate a null ctor like:

  public MyDialog() {
    super(new java.awt.Frame());
    initialize();
  }

Which is really bad code. 

What we should do instead is if there are no constructors we should make a copy
of each public, protected, (and package-protected if supertype and the new type
are in the same package) constructor from the super class (maintaining the
public,protected, package-protected modifiers). Then do what we do now is stick
the initialize() into each of these.
Turns out we actually only use it one place, for awt.Dialog. And it would only
be used when subclassing Dialog AND there were no constructors at all in the
subclass.

First of all this would not normally happen because this alone is a syntax
error. Also the New Visual Class wizard automatically creates the correct
constructor, one that takes a Frame and passes the frame in the super. So this
wouldn't be called in that case.

So I actually completely pulled VECreationPolicy out and commented the section
of codegen that references. I commented out the reference in
BeanPartFactory.generateNullConstructorIfNeeded(). This piece code should be
changed to do as described in comment #1. That would be the proper way.</WithStack>
    <WithOutStack>VECreationPolicy is here simply to allow creating a null constructor when there
wasn't any constructors. We actually generate lousy code because of this. For
example there is Dialog. We generate super(new java.awt.Frame()).

We should get rid of VECreationPolicy because it was here only for subclassing
Dialog. By default there was no constructors in the Dialog subclass (which by
itself is a syntax error) we then generate a null ctor like:

  public MyDialog() {
    super(new java.awt.Frame());
    initialize();
  }

Which is really bad code. 

What we should do instead is if there are no constructors we should make a copy
of each public, protected, (and package-protected if supertype and the new type
are in the same package) constructor from the super class (maintaining the
public,protected, package-protected modifiers). Then do what we do now is stick
the initialize() into each of these.
Turns out we actually only use it one place, for awt.Dialog. And it would only
be used when subclassing Dialog AND there were no constructors at all in the
subclass.

First of all this would not normally happen because this alone is a syntax
error. Also the New Visual Class wizard automatically creates the correct
constructor, one that takes a Frame and passes the frame in the super. So this
wouldn't be called in that case.

So I actually completely pulled VECreationPolicy out and commented the section
of codegen that references. I commented out the reference in
BeanPartFactory.generateNullConstructorIfNeeded(). This piece code should be
changed to do as described in comment #1. That would be the proper way.</WithOutStack>
  </Bug>
  <Bug>
    <BugId amount="110854" />
    <CreationDate amount="2005-09-27 14:29:00 -0400" />
    <DupId amount="" />
    <classification amount="Eclipse" />
    <Product amount="JDT" />
    <component amount="UI" />
    <Version amount="3.1" />
    <rep_platform amount="PC" />
    <op_sys amount="Windows XP" />
    <priority amount="P3" />
    <bug_severity amount="normal" />
    <Summery>[name guessing] better treatment of constants</Summery>
    <Patches amount="0" />
    <Stacktraces amount="0" />
    <SourceCodeRegions amount="3">
      <source_code type="assignment">
        <location start="29" end="65" />
        <code>final static int THIS_IS_CONSTANT=0;</code>
      </source_code>
      <source_code type="functiondef">
        <location start="67" end="108" />
        <code>void func() {
   bar(THIS_IS_CONSTANT);
}</code>
      </source_code>
      <source_code type="functiondef">
        <location start="110" end="124" />
        <code>void bar() {
}</code>
      </source_code>
    </SourceCodeRegions>
    <Enumerations amount="0" />
    <bug_status amount="RESOLVED" />
    <resolution amount="FIXED" />
    <WithStack>If i have this code snipet:

final static int THIS_IS_CONSTANT=0;

void func() {
   bar(THIS_IS_CONSTANT);
}

void bar() {
}

and then I select the quickfix "change method: add parameters", the default
parameter name is "this_is_constant".  Eclipse should default to "thisIsConstant"
This got fixed in 3.3</WithStack>
    <WithOutStack>If i have this code snipet:

final static int THIS_IS_CONSTANT=0;

void func() {
   bar(THIS_IS_CONSTANT);
}

void bar() {
}

and then I select the quickfix "change method: add parameters", the default
parameter name is "this_is_constant".  Eclipse should default to "thisIsConstant"
This got fixed in 3.3</WithOutStack>
  </Bug>
  <Bug>
    <BugId amount="110855" />
    <CreationDate amount="2005-09-27 14:32:00 -0400" />
    <DupId amount="50323" />
    <classification amount="Eclipse" />
    <Product amount="Platform" />
    <component amount="UI" />
    <Version amount="3.2" />
    <rep_platform amount="All" />
    <op_sys amount="Windows XP" />
    <priority amount="P3" />
    <bug_severity amount="enhancement" />
    <Summery>[Workbench] Title should show the current Workspace location to avoid confusion</Summery>
    <Patches amount="0" />
    <Stacktraces amount="0" />
    <SourceCodeRegions amount="0" />
    <Enumerations amount="0" />
    <bug_status amount="RESOLVED" />
    <resolution amount="DUPLICATE" />
    <WithStack>Hi,

I think the default behaviour of the eclipse platform should show in its title,
not the java class or the file name only, but should show the current workspace
and project being worked upon.

I generally work on the different workspaces with files having same names, then
it becomes an additional task to always make sure that the right file in the
right workspace and in the right project is being edited. Instead if I could see
on the Eclipse platform title window the
&lt;&lt;workspace&gt;&gt;/&lt;&lt;project&gt;&gt;/../&lt;&lt;FileName&gt;&gt;  then it would be a good enhancement
feature for the platform.


*** This bug has been marked as a duplicate of 50323 ***</WithStack>
    <WithOutStack>Hi,

I think the default behaviour of the eclipse platform should show in its title,
not the java class or the file name only, but should show the current workspace
and project being worked upon.

I generally work on the different workspaces with files having same names, then
it becomes an additional task to always make sure that the right file in the
right workspace and in the right project is being edited. Instead if I could see
on the Eclipse platform title window the
&lt;&lt;workspace&gt;&gt;/&lt;&lt;project&gt;&gt;/../&lt;&lt;FileName&gt;&gt;  then it would be a good enhancement
feature for the platform.


*** This bug has been marked as a duplicate of 50323 ***</WithOutStack>
  </Bug>
  <Bug>
    <BugId amount="110856" />
    <CreationDate amount="2005-09-27 14:34:00 -0400" />
    <DupId amount="" />
    <classification amount="Tools" />
    <Product amount="TPTP Profiling" />
    <component amount="Trace.UI" />
    <Version amount="4.1" />
    <rep_platform amount="PC" />
    <op_sys amount="Windows XP" />
    <priority amount="P3" />
    <bug_severity amount="normal" />
    <Summery>"Application context of selected item" field incorrect in some cases</Summery>
    <Patches amount="0" />
    <Stacktraces amount="0" />
    <SourceCodeRegions amount="0" />
    <Enumerations amount="0" />
    <bug_status amount="CLOSED" />
    <resolution amount="INVALID" />
    <WithStack>If you select a Java item in a tabular view, the "Application context of
selected item" field indicates "C language" instead of "Java". 

Currently this behaviour exists for the "java:lang" and "Thread" items imported
using the test profile file CTrace.trcxml.
Can you please attach the trace file; I imported the CTrace.trcxml from the 
language sample and I see no Thread class
Created attachment 27586
Profile file associated with 110856

Sorry the file name was, JavaAsCcontext.trcxml. (I had both files imported in
my workspace and referened the wrong one).
The UI displays the information as presented in the trace file. 

Looking at the trace content, the language specified at the traceStart event 
level is C\C++. If I look at the classDef event for the Thread class, there is 
no language specified, so the Thread language will default to C\C++

I am not sure how was this trace generated. If it was hand made by Eugene then 
this defect is invalid:) 
I will let Eugene respond to this when he comes back; moving to i3 in the 
meantime
FYI... I'm pretty sure Eugene generated the trace.
Then this defect is invalid; the Thread class is misleading since you expect 
that to be of Java type but this is what is written to the file ( the Thread 
class is defined to be of type C++ )
As of TPTP 4.6.0, TPTP is in maintenance mode and focusing on improving quality by resolving relevant enhancements/defects and increasing test coverage through test creation, automation, Build Verification Tests (BVTs), and expanded run-time execution. As part of the TPTP Bugzilla housecleaning process (see http://wiki.eclipse.org/Bugzilla_Housecleaning_Processes), this enhancement/defect is verified/closed by the Project Lead since this enhancement/defect has been resolved and unverified for more than 1 year and considered to be fixed. If this enhancement/defect is still unresolved and reproducible in the latest TPTP release (http://www.eclipse.org/tptp/home/downloads/), please re-open.</WithStack>
    <WithOutStack>If you select a Java item in a tabular view, the "Application context of
selected item" field indicates "C language" instead of "Java". 

Currently this behaviour exists for the "java:lang" and "Thread" items imported
using the test profile file CTrace.trcxml.
Can you please attach the trace file; I imported the CTrace.trcxml from the 
language sample and I see no Thread class
Created attachment 27586
Profile file associated with 110856

Sorry the file name was, JavaAsCcontext.trcxml. (I had both files imported in
my workspace and referened the wrong one).
The UI displays the information as presented in the trace file. 

Looking at the trace content, the language specified at the traceStart event 
level is C\C++. If I look at the classDef event for the Thread class, there is 
no language specified, so the Thread language will default to C\C++

I am not sure how was this trace generated. If it was hand made by Eugene then 
this defect is invalid:) 
I will let Eugene respond to this when he comes back; moving to i3 in the 
meantime
FYI... I'm pretty sure Eugene generated the trace.
Then this defect is invalid; the Thread class is misleading since you expect 
that to be of Java type but this is what is written to the file ( the Thread 
class is defined to be of type C++ )
As of TPTP 4.6.0, TPTP is in maintenance mode and focusing on improving quality by resolving relevant enhancements/defects and increasing test coverage through test creation, automation, Build Verification Tests (BVTs), and expanded run-time execution. As part of the TPTP Bugzilla housecleaning process (see http://wiki.eclipse.org/Bugzilla_Housecleaning_Processes), this enhancement/defect is verified/closed by the Project Lead since this enhancement/defect has been resolved and unverified for more than 1 year and considered to be fixed. If this enhancement/defect is still unresolved and reproducible in the latest TPTP release (http://www.eclipse.org/tptp/home/downloads/), please re-open.</WithOutStack>
  </Bug>
  <Bug>
    <BugId amount="110857" />
    <CreationDate amount="2005-09-27 14:37:00 -0400" />
    <DupId amount="" />
    <classification amount="WebTools" />
    <Product amount="WTP Source Editing" />
    <component amount="jst.jsp" />
    <Version amount="0.7" />
    <rep_platform amount="All" />
    <op_sys amount="All" />
    <priority amount="P3" />
    <bug_severity amount="normal" />
    <Summery>[document] default encoding of JSP documents is wrong</Summery>
    <Patches amount="0" />
    <Stacktraces amount="0" />
    <SourceCodeRegions amount="0" />
    <Enumerations amount="0" />
    <bug_status amount="RESOLVED" />
    <resolution amount="WORKSFORME" />
    <WithStack>When the properties of a JSP document (i.e., XML syntax) are set to use the
"Default" (determined from content) text file encoding, the algorithm described
in JSP.D is not followed.

It appears that ISO-8859-1 is used unless the pageEncoding attribute of the page
directive is specified or an encoding is specified in an XML declaration.

However, the XML specification says that any document that is not UTF-8 or
UTF-16 MUST declare its encoding in an XML declaration.  If there is no encoding
declaration, the document can only be UTF-8 or UTF-16 (to be distinguished by
looking at any byte order mark).

As a workaround, users can override the default content-based determination, use
an XML declaration, use a pageEncoding in the page directive, include a charset
parameter in the contentType attribute of the page directive, or stick to
ISO-8859-1 as their JSP document encoding.
Added to the 1.0.2 hot list. Not setting the target because it is not stop ship. It's an usability improvement.
Removed from the 1.0.2 hot list per the 03/16 WTP status call. Refer to bug 109089 for details.
(In reply to comment #0)
&gt; When the properties of a JSP document (i.e., XML syntax) are set to use the
&gt; "Default" (determined from content) text file encoding, the algorithm described
&gt; in JSP.D is not followed.
&gt; It appears that ISO-8859-1 is used unless the pageEncoding attribute of the page
&gt; directive is specified or an encoding is specified in an XML declaration.
&gt; However, the XML specification says that any document that is not UTF-8 or
&gt; UTF-16 MUST declare its encoding in an XML declaration.  If there is no encoding
&gt; declaration, the document can only be UTF-8 or UTF-16 (to be distinguished by
&gt; looking at any byte order mark).
&gt; As a workaround, users can override the default content-based determination, use
&gt; an XML declaration, use a pageEncoding in the page directive, include a charset
&gt; parameter in the contentType attribute of the page directive, or stick to
&gt; ISO-8859-1 as their JSP document encoding.

What change are you expecting from wtp?
Have not received any reply from the reporter.</WithStack>
    <WithOutStack>When the properties of a JSP document (i.e., XML syntax) are set to use the
"Default" (determined from content) text file encoding, the algorithm described
in JSP.D is not followed.

It appears that ISO-8859-1 is used unless the pageEncoding attribute of the page
directive is specified or an encoding is specified in an XML declaration.

However, the XML specification says that any document that is not UTF-8 or
UTF-16 MUST declare its encoding in an XML declaration.  If there is no encoding
declaration, the document can only be UTF-8 or UTF-16 (to be distinguished by
looking at any byte order mark).

As a workaround, users can override the default content-based determination, use
an XML declaration, use a pageEncoding in the page directive, include a charset
parameter in the contentType attribute of the page directive, or stick to
ISO-8859-1 as their JSP document encoding.
Added to the 1.0.2 hot list. Not setting the target because it is not stop ship. It's an usability improvement.
Removed from the 1.0.2 hot list per the 03/16 WTP status call. Refer to bug 109089 for details.
(In reply to comment #0)
&gt; When the properties of a JSP document (i.e., XML syntax) are set to use the
&gt; "Default" (determined from content) text file encoding, the algorithm described
&gt; in JSP.D is not followed.
&gt; It appears that ISO-8859-1 is used unless the pageEncoding attribute of the page
&gt; directive is specified or an encoding is specified in an XML declaration.
&gt; However, the XML specification says that any document that is not UTF-8 or
&gt; UTF-16 MUST declare its encoding in an XML declaration.  If there is no encoding
&gt; declaration, the document can only be UTF-8 or UTF-16 (to be distinguished by
&gt; looking at any byte order mark).
&gt; As a workaround, users can override the default content-based determination, use
&gt; an XML declaration, use a pageEncoding in the page directive, include a charset
&gt; parameter in the contentType attribute of the page directive, or stick to
&gt; ISO-8859-1 as their JSP document encoding.

What change are you expecting from wtp?
Have not received any reply from the reporter.</WithOutStack>
  </Bug>
  <Bug>
    <BugId amount="110858" />
    <CreationDate amount="2005-09-27 14:42:00 -0400" />
    <DupId amount="" />
    <classification amount="Eclipse" />
    <Product amount="Platform" />
    <component amount="UI" />
    <Version amount="3.1" />
    <rep_platform amount="PC" />
    <op_sys amount="Windows XP" />
    <priority amount="P3" />
    <bug_severity amount="normal" />
    <Summery>[WorkbenchParts] Debugging Java source doesn't activate minimized editor</Summery>
    <Patches amount="0" />
    <Stacktraces amount="0" />
    <SourceCodeRegions amount="0" />
    <Enumerations amount="0" />
    <bug_status amount="ASSIGNED" />
    <resolution amount="" />
    <WithStack>I normally use two rows of editors in Eclipse, one for my code and the other for
Eclipse code.  If I have the second row minimized when attempting to step
through the code of a minimized editor it does not activate and restore that
editor.  It will still step through the code as I can see the variables changing
in the variables view when pressing F5.  But for a while I thought something was
messed up with my workspace because it didn't seem to be properly stepping
through the code when in reality it was, it was just minimized.
Nick, is there any API to access/manage editors in rows - i.e. when there are 
two rows of editors can we tell or change the minimization, etc?
Not currently, no.  EditorWorkbook is the underlying implementation class, but
workbooks are not exposed at all in the API.

Showing the view or bringing it to top should de-minimize though.

In this case, the editor is already open and we do make a call to IWorkbenchPage.bringToTop(IWorkbenchPart), but this has no effect on the minimization of the editor. Moving to UI for comment.</WithStack>
    <WithOutStack>I normally use two rows of editors in Eclipse, one for my code and the other for
Eclipse code.  If I have the second row minimized when attempting to step
through the code of a minimized editor it does not activate and restore that
editor.  It will still step through the code as I can see the variables changing
in the variables view when pressing F5.  But for a while I thought something was
messed up with my workspace because it didn't seem to be properly stepping
through the code when in reality it was, it was just minimized.
Nick, is there any API to access/manage editors in rows - i.e. when there are 
two rows of editors can we tell or change the minimization, etc?
Not currently, no.  EditorWorkbook is the underlying implementation class, but
workbooks are not exposed at all in the API.

Showing the view or bringing it to top should de-minimize though.

In this case, the editor is already open and we do make a call to IWorkbenchPage.bringToTop(IWorkbenchPart), but this has no effect on the minimization of the editor. Moving to UI for comment.</WithOutStack>
  </Bug>
  <Bug>
    <BugId amount="110859" />
    <CreationDate amount="2005-09-27 14:50:00 -0400" />
    <DupId amount="110997" />
    <classification amount="Modeling" />
    <Product amount="GMF-Runtime" />
    <component amount="General" />
    <Version amount="unspecified" />
    <rep_platform amount="PC" />
    <op_sys amount="Windows XP" />
    <priority amount="P3" />
    <bug_severity amount="major" />
    <Summery>TextDirectEditManager causes ClassCastException reaching for WrapLabel</Summery>
    <Patches amount="0" />
    <Stacktraces amount="0" />
    <SourceCodeRegions amount="0" />
    <Enumerations amount="0" />
    <bug_status amount="RESOLVED" />
    <resolution amount="DUPLICATE" />
    <WithStack>The constructor is assuming that the figure is a WrapLabel when in the case of 
TextCompartmentEditPart, the WrapLabel may be contained deeper in the figure 
containment hierarchy.  It should check for TextCompartmentEditPart and use 
the getLabel api instead.
Purpose: 
- Fixed ClassCastException in TextDirectEditManager when trying to edit 
contents of NestableListItemCompartmentEditPart.  Changed constructor to pass 
TextCompartmentEditPart which has an api to retrieve WrapLabel as opposed to 
assuming type of getFigure().

Note: also fixes bugzilla 110997

Activities: 
bugzilla 110859 gmf-head sshaw 051003 TextDirectEditManager causes 
ClassCastException reaching for WrapLabel

Code Reviewed by: 
Mohammed


*** This bug has been marked as a duplicate of 110997 ***
[GMF Restructure] Bug 319140 : product GMF and component
Runtime Common was the original product and component for this bug</WithStack>
    <WithOutStack>The constructor is assuming that the figure is a WrapLabel when in the case of 
TextCompartmentEditPart, the WrapLabel may be contained deeper in the figure 
containment hierarchy.  It should check for TextCompartmentEditPart and use 
the getLabel api instead.
Purpose: 
- Fixed ClassCastException in TextDirectEditManager when trying to edit 
contents of NestableListItemCompartmentEditPart.  Changed constructor to pass 
TextCompartmentEditPart which has an api to retrieve WrapLabel as opposed to 
assuming type of getFigure().

Note: also fixes bugzilla 110997

Activities: 
bugzilla 110859 gmf-head sshaw 051003 TextDirectEditManager causes 
ClassCastException reaching for WrapLabel

Code Reviewed by: 
Mohammed


*** This bug has been marked as a duplicate of 110997 ***
[GMF Restructure] Bug 319140 : product GMF and component
Runtime Common was the original product and component for this bug</WithOutStack>
  </Bug>
  <Bug>
    <BugId amount="110860" />
    <CreationDate amount="2005-09-27 14:51:00 -0400" />
    <DupId amount="" />
    <classification amount="Eclipse" />
    <Product amount="JDT" />
    <component amount="Text" />
    <Version amount="3.2" />
    <rep_platform amount="PC" />
    <op_sys amount="All" />
    <priority amount="P3" />
    <bug_severity amount="normal" />
    <Summery>[content assist] Requesting code assist with auto-assist visible clears code assist</Summery>
    <Patches amount="0" />
    <Stacktraces amount="0" />
    <SourceCodeRegions amount="1">
      <source_code type="class">
        <location start="232" end="335" />
        <code>public class Hello {
  public static void main(String[] args) {
    String blah= "blah";
    blah
  }
}</code>
      </source_code>
    </SourceCodeRegions>
    <Enumerations amount="2">
      <Enumeration lines="12">
        <Lines>
          <Line>A) introduce a grace period after auto-assist kicks in, when the manual</Line>
          <Line>invocation won't advance. Con: the grace period will also be arbitrary and the</Line>
          <Line>difference unexpected.</Line>
          <Line />
          <Line>B) when the popup was opened by auto-assist, don't advance the first time that</Line>
          <Line>manual assist is invoked. Con: seems awkhard too - how will the user understand</Line>
          <Line>that nothing happens when he presses Ctrl+Space?</Line>
          <Line />
          <Line>C) leave as is</Line>
          <Line>As-is, I find the behavior *extremely* disruptive to my work. I feel like I'm</Line>
          <Line>wrestling with the editor all the time now: I've been cursing at my screen a lot</Line>
          <Line>lately...</Line>
        </Lines>
      </Enumeration>
      <Enumeration lines="3">
        <Lines>
          <Line>1. On line 4 after "blah" type '."</Line>
          <Line>2. Pause. When auto-assist pops up, press ctrl+space to manually summon assist.</Line>
          <Line>3. The correctly populated auto-assist is replaced with "no proposals"</Line>
        </Lines>
      </Enumeration>
    </Enumerations>
    <bug_status amount="RESOLVED" />
    <resolution amount="INVALID" />
    <WithStack>Build 20050919

With the example code below:
1. On line 4 after "blah" type '."
2. Pause. When auto-assist pops up, press ctrl+space to manually summon assist.
3. The correctly populated auto-assist is replaced with "no proposals"

public class Hello {
  public static void main(String[] args) {
    String blah= "blah";
    blah
  }
}
Hm, it does the "right" thing: cycling through different proposal categories
when invoked repeatedly. If the auto-assist comes slightly before the manual
invocation, the advance to the next category is not expected.

Note that the opposite works as expected now (auto-assist won't advance the
category when the pop-up is already open. This was fixed 09/23, so only in the
I20050927 build).

Not sure on what to do:
A) introduce a grace period after auto-assist kicks in, when the manual
invocation won't advance. Con: the grace period will also be arbitrary and the
difference unexpected.

B) when the popup was opened by auto-assist, don't advance the first time that
manual assist is invoked. Con: seems awkhard too - how will the user understand
that nothing happens when he presses Ctrl+Space?

C) leave as is
As-is, I find the behavior *extremely* disruptive to my work. I feel like I'm
wrestling with the editor all the time now: I've been cursing at my screen a lot
lately...

From my own experience, I don't think the cycling behavior is workable. I'd
propose removing it entirely.
(In reply to comment #2)
&gt; From my own experience, I don't think the cycling behavior is workable. I'd
&gt; propose removing it entirely.

You can configure code assist so it does work as before (don't enable any
separate categories on the Java&gt;Editor&gt;assist&gt;Work in Progress page).

Okay, thanks for the workaround. That will at least let me stop tearing my hair
out. :-)
*** Bug 110945 has been marked as a duplicate of this bug. ***
Sorry - not a bug but intended behavior.</WithStack>
    <WithOutStack>Build 20050919

With the example code below:
1. On line 4 after "blah" type '."
2. Pause. When auto-assist pops up, press ctrl+space to manually summon assist.
3. The correctly populated auto-assist is replaced with "no proposals"

public class Hello {
  public static void main(String[] args) {
    String blah= "blah";
    blah
  }
}
Hm, it does the "right" thing: cycling through different proposal categories
when invoked repeatedly. If the auto-assist comes slightly before the manual
invocation, the advance to the next category is not expected.

Note that the opposite works as expected now (auto-assist won't advance the
category when the pop-up is already open. This was fixed 09/23, so only in the
I20050927 build).

Not sure on what to do:
A) introduce a grace period after auto-assist kicks in, when the manual
invocation won't advance. Con: the grace period will also be arbitrary and the
difference unexpected.

B) when the popup was opened by auto-assist, don't advance the first time that
manual assist is invoked. Con: seems awkhard too - how will the user understand
that nothing happens when he presses Ctrl+Space?

C) leave as is
As-is, I find the behavior *extremely* disruptive to my work. I feel like I'm
wrestling with the editor all the time now: I've been cursing at my screen a lot
lately...

From my own experience, I don't think the cycling behavior is workable. I'd
propose removing it entirely.
(In reply to comment #2)
&gt; From my own experience, I don't think the cycling behavior is workable. I'd
&gt; propose removing it entirely.

You can configure code assist so it does work as before (don't enable any
separate categories on the Java&gt;Editor&gt;assist&gt;Work in Progress page).

Okay, thanks for the workaround. That will at least let me stop tearing my hair
out. :-)
*** Bug 110945 has been marked as a duplicate of this bug. ***
Sorry - not a bug but intended behavior.</WithOutStack>
  </Bug>
  <Bug>
    <BugId amount="110861" />
    <CreationDate amount="2005-09-27 14:58:00 -0400" />
    <DupId amount="" />
    <classification amount="Modeling" />
    <Product amount="GMF-Tooling" />
    <component amount="Core" />
    <Version amount="1.0" />
    <rep_platform amount="PC" />
    <op_sys amount="Windows XP" />
    <priority amount="P3" />
    <bug_severity amount="normal" />
    <Summery>Routing style properties radio button allowing multiple selection</Summery>
    <Patches amount="0" />
    <Stacktraces amount="0" />
    <SourceCodeRegions amount="0" />
    <Enumerations amount="1">
      <Enumeration lines="6">
        <Lines>
          <Line>- Create a simple project</Line>
          <Line>- Add a geoshapes diagram from the examples</Line>
          <Line>- Create two shapes and add a line between them</Line>
          <Line>- Select the line and use the context menu to show the properties view</Line>
          <Line>- Select the appearance tab and then change the routing style to another choice</Line>
          <Line>- Select the advanced and then the appearance tab again</Line>
        </Lines>
      </Enumeration>
    </Enumerations>
    <bug_status amount="RESOLVED" />
    <resolution amount="FIXED" />
    <WithStack>Steps to reproduce:

- Create a simple project
- Add a geoshapes diagram from the examples
- Create two shapes and add a line between them
- Select the line and use the context menu to show the properties view
- Select the appearance tab and then change the routing style to another choice
- Select the advanced and then the appearance tab again

The routing style now shows two selections as selected. Only one selection 
should be possible at a time.
Seems to happen for the other radio buttons as well (e.g. status, type). The 
selection do not seem to take effect from the appearance tab but work properly 
from the advanced tab.
This bug includes 2 separate problems that were addressed in fixes for 
Bugzillas 109784 and 111081.
Set to fixed
[GMF Restructure] Bug 319140 : product GMF and component
UI was the original product and component for this bug</WithStack>
    <WithOutStack>Steps to reproduce:

- Create a simple project
- Add a geoshapes diagram from the examples
- Create two shapes and add a line between them
- Select the line and use the context menu to show the properties view
- Select the appearance tab and then change the routing style to another choice
- Select the advanced and then the appearance tab again

The routing style now shows two selections as selected. Only one selection 
should be possible at a time.
Seems to happen for the other radio buttons as well (e.g. status, type). The 
selection do not seem to take effect from the appearance tab but work properly 
from the advanced tab.
This bug includes 2 separate problems that were addressed in fixes for 
Bugzillas 109784 and 111081.
Set to fixed
[GMF Restructure] Bug 319140 : product GMF and component
UI was the original product and component for this bug</WithOutStack>
  </Bug>
  <Bug>
    <BugId amount="110862" />
    <CreationDate amount="2005-09-27 15:16:00 -0400" />
    <DupId amount="" />
    <classification amount="Eclipse Foundation" />
    <Product amount="z_Archived" />
    <component amount="JSR220orm" />
    <Version amount="unspecified" />
    <rep_platform amount="PC" />
    <op_sys amount="Windows 2000" />
    <priority amount="P3" />
    <bug_severity amount="normal" />
    <Summery>java.util.Date generates null in DDL</Summery>
    <Patches amount="0" />
    <Stacktraces amount="0" />
    <SourceCodeRegions amount="4">
      <source_code type="import">
        <location start="128" end="151" />
        <code>import java.util.Date;</code>
      </source_code>
      <source_code type="import">
        <location start="152" end="184" />
        <code>import javax.persistence.Entity;</code>
      </source_code>
      <source_code type="import">
        <location start="185" end="221" />
        <code>import javax.persistence.AccessType;</code>
      </source_code>
      <source_code type="class">
        <location start="256" end="324" />
        <code>public class Test
{
  private String id;
  private Date dateField;
}</code>
      </source_code>
    </SourceCodeRegions>
    <Enumerations amount="0" />
    <bug_status amount="NEW" />
    <resolution amount="" />
    <WithStack>When I have a class with java.util.Date persistent field I've got wrong DDL
generated.

For example I have the following class:

import java.util.Date;
import javax.persistence.Entity;
import javax.persistence.AccessType;

@Entity(access=AccessType.FIELD)
public class Test
{
  private String id;
  private Date dateField;
}

The generated DDL is:

CREATE TABLE Test 
(
  id VARCHAR2(255),
  dateField null
);

Notice that "dateField" is of type "null".
When I try java.sql.Date instead I have correct DDL generated, e.g. 

CREATE TABLE Test 
(
  id VARCHAR2(255),
  dateField DATE
);</WithStack>
    <WithOutStack>When I have a class with java.util.Date persistent field I've got wrong DDL
generated.

For example I have the following class:

import java.util.Date;
import javax.persistence.Entity;
import javax.persistence.AccessType;

@Entity(access=AccessType.FIELD)
public class Test
{
  private String id;
  private Date dateField;
}

The generated DDL is:

CREATE TABLE Test 
(
  id VARCHAR2(255),
  dateField null
);

Notice that "dateField" is of type "null".
When I try java.sql.Date instead I have correct DDL generated, e.g. 

CREATE TABLE Test 
(
  id VARCHAR2(255),
  dateField DATE
);</WithOutStack>
  </Bug>
  <Bug>
    <BugId amount="110863" />
    <CreationDate amount="2005-09-27 15:19:00 -0400" />
    <DupId amount="" />
    <classification amount="Modeling" />
    <Product amount="GMF-Runtime" />
    <component amount="General" />
    <Version amount="1.0" />
    <rep_platform amount="PC" />
    <op_sys amount="Windows XP" />
    <priority amount="P4" />
    <bug_severity amount="minor" />
    <Summery>[Connections] Lines are not correctly meeting the shape border</Summery>
    <Patches amount="0" />
    <Stacktraces amount="0" />
    <SourceCodeRegions amount="0" />
    <Enumerations amount="2">
      <Enumeration lines="12">
        <Lines>
          <Line>- Create a simple project</Line>
          <Line>- Add a geoshapes diagram from the examples</Line>
          <Line>- Create two ovals and add a line between them</Line>
          <Line>- Move the ovals around until the line appears to enter one of the ovals</Line>
          <Line>Created attachment 27583</Line>
          <Line>JPG demonstrating lines entering or not meeting shape borders</Line>
          <Line>Custom anchors need to be more granular depending on the shape.  Seems to be</Line>
          <Line>slight errors depending on the shape.</Line>
          <Line>Changing component to "Runtime Diagram"</Line>
          <Line>Moving to the next release, GMF 2.1.</Line>
          <Line>Created attachment 78784</Line>
          <Line>Proposed patch</Line>
        </Lines>
      </Enumeration>
      <Enumeration lines="2">
        <Lines>
          <Line>- lines don't touch rounded courners, notes and cylinders</Line>
          <Line>- one pixel rounding.</Line>
        </Lines>
      </Enumeration>
    </Enumerations>
    <bug_status amount="RESOLVED" />
    <resolution amount="FIXED" />
    <WithStack>Specific shapes and line angles cause connecting lines to dive too deep or not 
meet the shape at all.

Steps to reproduce:

- Create a simple project
- Add a geoshapes diagram from the examples
- Create two ovals and add a line between them
- Move the ovals around until the line appears to enter one of the ovals
Created attachment 27583
JPG demonstrating lines entering or not meeting shape borders
Custom anchors need to be more granular depending on the shape.  Seems to be 
slight errors depending on the shape.
Changing component to "Runtime Diagram"
Moving to the next release, GMF 2.1. 
Created attachment 78784
Proposed patch

Created polygone anchor and bezier curves to estimate rounded rectangle corners and cylinder arc's.  Also added anchor for note.

There is a one pixel rounding error in the intersection algorithm that will get fixed as part of other router ehnhancements.  This one pixel error can be seen even with boxes (the simplest scenario).

This patch fixes cylinder, rounded rect and notes.
It might be worth considering caching the point list returned for specific shapes that require the bezier calculation but performance impact does not seem to be noticeable.
Alex, could you have a look at the patch and consider committing.  For now I do not cache the point list, performance seems to be ok.  I think we should perhaps deal with caching on a more global basis and not just for these items.
-1 on the patch, zoom to 400% and the issue still occurs.
The patch may help the three shapes, but not the generic issue.

&gt; There is a one pixel rounding error in the intersection algorithm that will get
&gt; fixed as part of other router ehnhancements.  This one pixel error can be seen
&gt; even with boxes (the simplest scenario).
&gt; This patch fixes cylinder, rounded rect and notes.

It does not appear to be one pixel at 400% (this is the bug we are fixing I thought, so if this is a routing issue I stand corrected.

I believe there are 2 issues.  
  - lines don't touch rounded courners, notes and cylinders
  - one pixel rounding.

I spoke to Alex about the one pixel rounding thing and it would appear to require much api change to convert integer devision and calculations to doubles etc.   From my discussion with him it doesn't seem feasible to fix that at this stage.  There are also issues with conversions between api that sometimes use himetrics and sometimes do not.  I demonstrated the problems to Alex and he seemed ok with the current solution.

The first issue mentioned above is resolved and is the bigger problem in my opinion. 

Let me know what you wish to do.

Perhaps we should open a second bugzilla?


- James.


You can leave this open for now and I'll investigate the 1 pixel issue.
Created attachment 79136
Router more accurate now

Updated router helper to make line segments more accurate and cached points.
The accuracy is better but not perfect... I think this is about as good as I can get it.  Please check it out and let me know if this is ok.
Committed.
[110863] gmf_HEAD jbruck 070926 [Connections] Lines are not correctly meeting the shape border
[target cleanup] 2.1 M3 was the original target milestone for this bug
[GMF Restructure] Bug 319140 : product GMF and component
Runtime was the original product and component for this bug</WithStack>
    <WithOutStack>Specific shapes and line angles cause connecting lines to dive too deep or not 
meet the shape at all.

Steps to reproduce:

- Create a simple project
- Add a geoshapes diagram from the examples
- Create two ovals and add a line between them
- Move the ovals around until the line appears to enter one of the ovals
Created attachment 27583
JPG demonstrating lines entering or not meeting shape borders
Custom anchors need to be more granular depending on the shape.  Seems to be 
slight errors depending on the shape.
Changing component to "Runtime Diagram"
Moving to the next release, GMF 2.1. 
Created attachment 78784
Proposed patch

Created polygone anchor and bezier curves to estimate rounded rectangle corners and cylinder arc's.  Also added anchor for note.

There is a one pixel rounding error in the intersection algorithm that will get fixed as part of other router ehnhancements.  This one pixel error can be seen even with boxes (the simplest scenario).

This patch fixes cylinder, rounded rect and notes.
It might be worth considering caching the point list returned for specific shapes that require the bezier calculation but performance impact does not seem to be noticeable.
Alex, could you have a look at the patch and consider committing.  For now I do not cache the point list, performance seems to be ok.  I think we should perhaps deal with caching on a more global basis and not just for these items.
-1 on the patch, zoom to 400% and the issue still occurs.
The patch may help the three shapes, but not the generic issue.

&gt; There is a one pixel rounding error in the intersection algorithm that will get
&gt; fixed as part of other router ehnhancements.  This one pixel error can be seen
&gt; even with boxes (the simplest scenario).
&gt; This patch fixes cylinder, rounded rect and notes.

It does not appear to be one pixel at 400% (this is the bug we are fixing I thought, so if this is a routing issue I stand corrected.

I believe there are 2 issues.  
  - lines don't touch rounded courners, notes and cylinders
  - one pixel rounding.

I spoke to Alex about the one pixel rounding thing and it would appear to require much api change to convert integer devision and calculations to doubles etc.   From my discussion with him it doesn't seem feasible to fix that at this stage.  There are also issues with conversions between api that sometimes use himetrics and sometimes do not.  I demonstrated the problems to Alex and he seemed ok with the current solution.

The first issue mentioned above is resolved and is the bigger problem in my opinion. 

Let me know what you wish to do.

Perhaps we should open a second bugzilla?


- James.


You can leave this open for now and I'll investigate the 1 pixel issue.
Created attachment 79136
Router more accurate now

Updated router helper to make line segments more accurate and cached points.
The accuracy is better but not perfect... I think this is about as good as I can get it.  Please check it out and let me know if this is ok.
Committed.
[110863] gmf_HEAD jbruck 070926 [Connections] Lines are not correctly meeting the shape border
[target cleanup] 2.1 M3 was the original target milestone for this bug
[GMF Restructure] Bug 319140 : product GMF and component
Runtime was the original product and component for this bug</WithOutStack>
  </Bug>
  <Bug>
    <BugId amount="110864" />
    <CreationDate amount="2005-09-27 15:31:00 -0400" />
    <DupId amount="99266" />
    <classification amount="Eclipse" />
    <Product amount="Platform" />
    <component amount="SWT" />
    <Version amount="3.2" />
    <rep_platform amount="PC" />
    <op_sys amount="Windows XP" />
    <priority amount="P3" />
    <bug_severity amount="normal" />
    <Summery>Blank rows in table</Summery>
    <Patches amount="0" />
    <Stacktraces amount="0" />
    <SourceCodeRegions amount="0" />
    <Enumerations amount="0" />
    <bug_status amount="RESOLVED" />
    <resolution amount="DUPLICATE" />
    <WithStack>SWT 3.2M2 Win32

There are blank rows at the top of my tables.  Sometimes 1, sometimes a ton more.

Continuing from this bug #99266.

Testcase to be attached.
Created attachment 27585
Testcase

This testcase is an update from bug #99266.  If you remove the redraw(false)
call before the filter call, the blank rows will not be displayed.  It only
seems to happen if a bunch of rows are selected, and the scrollbar is not at
the top, so this example selects stuff further down the table and reveals them.
 Changing the contents of the selection will change the # of blank rows at the
top.
OK, Steve now says that he's going to need to change his fix for bug 99266 to
fix this one, so my apologies and thanks for opening the new bug, but I guess
it's best to track it all together then.

*** This bug has been marked as a duplicate of 99266 ***</WithStack>
    <WithOutStack>SWT 3.2M2 Win32

There are blank rows at the top of my tables.  Sometimes 1, sometimes a ton more.

Continuing from this bug #99266.

Testcase to be attached.
Created attachment 27585
Testcase

This testcase is an update from bug #99266.  If you remove the redraw(false)
call before the filter call, the blank rows will not be displayed.  It only
seems to happen if a bunch of rows are selected, and the scrollbar is not at
the top, so this example selects stuff further down the table and reveals them.
 Changing the contents of the selection will change the # of blank rows at the
top.
OK, Steve now says that he's going to need to change his fix for bug 99266 to
fix this one, so my apologies and thanks for opening the new bug, but I guess
it's best to track it all together then.

*** This bug has been marked as a duplicate of 99266 ***</WithOutStack>
  </Bug>
  <Bug>
    <BugId amount="110865" />
    <CreationDate amount="2005-09-27 15:54:00 -0400" />
    <DupId amount="" />
    <classification amount="Eclipse" />
    <Product amount="JDT" />
    <component amount="APT" />
    <Version amount="3.1" />
    <rep_platform amount="PC" />
    <op_sys amount="Windows XP" />
    <priority amount="P3" />
    <bug_severity amount="normal" />
    <Summery>Attempting to load factory jars even if annotation processing disabled</Summery>
    <Patches amount="0" />
    <Stacktraces amount="0" />
    <SourceCodeRegions amount="0" />
    <Enumerations amount="0" />
    <bug_status amount="RESOLVED" />
    <resolution amount="FIXED" />
    <WithStack>I have a project that has a factory path that includes an external jar.  The 
jar file does not exist on the hard drive.

Project specific settings *are* enabled, and "enable annotation processing" is 
disabled.

Upon launching Eclipse, I get an exception, and an error is logged: "Could not 
load from jar: The system cannot find the file specified."

I wonder, is there supposed to be a filename after "jar:"?

Expected: if annotation processing is disabled, we should not attempt to load 
the jars on the project's factory path.  Missing jars should either be ignored 
or treated as a warning - personally, I prefer the former option.
Created attachment 27595
Patch for this bug
Patch committed.</WithStack>
    <WithOutStack>I have a project that has a factory path that includes an external jar.  The 
jar file does not exist on the hard drive.

Project specific settings *are* enabled, and "enable annotation processing" is 
disabled.

Upon launching Eclipse, I get an exception, and an error is logged: "Could not 
load from jar: The system cannot find the file specified."

I wonder, is there supposed to be a filename after "jar:"?

Expected: if annotation processing is disabled, we should not attempt to load 
the jars on the project's factory path.  Missing jars should either be ignored 
or treated as a warning - personally, I prefer the former option.
Created attachment 27595
Patch for this bug
Patch committed.</WithOutStack>
  </Bug>
  <Bug>
    <BugId amount="110866" />
    <CreationDate amount="2005-09-27 16:01:00 -0400" />
    <DupId amount="" />
    <classification amount="Eclipse" />
    <Product amount="Platform" />
    <component amount="CVS" />
    <Version amount="3.2" />
    <rep_platform amount="PC" />
    <op_sys amount="Windows XP" />
    <priority amount="P5" />
    <bug_severity amount="normal" />
    <Summery>[Wizards] Suggestion for making merge operation more intuitive</Summery>
    <Patches amount="0" />
    <Stacktraces amount="0" />
    <SourceCodeRegions amount="0" />
    <Enumerations amount="0" />
    <bug_status amount="ASSIGNED" />
    <resolution amount="" />
    <WithStack>3.2 M2

My first time merging a branch back into HEAD, and I got quite confused.
My error: I still had my branch loaded when I brought up the Merge dialog.
I specified my end tag (branch_x), and start tag (Root_branch_x), and I was 
surprised that there were no changes when I clicked Finish.

I suspect that this is a common "beginner error", and I believe that the Merge 
dialog can help out significantly as follows:

- Add a label above "Branch or version to be merged (end tag):" that says 
something like: "Merging into: loaded_branch" where loaded_branch is the name 
of the branch that is currently loaded into the workspace for the selected 
resource. This would be a good clue to the user... for example, in my case, I 
would have read it and thought, "Merging into branch_x? No - I want to merge 
into HEAD".

- Just the above is nice, but not quite sufficient to help the brand new user 
figure out what to do next. I think that a little "red X error message" should 
be shown if the user specifies the same branch for the end tag as the one that 
is currently loaded for the selected resource. The message can suggest that 
they need to go and load the branch they want to merge into.

Hopefully, these 2 things together can help some future new users get through 
their first merge.  :)
Another suggestion. After the user selects their end tag, it would be nice if 
the dialog seeded the start tag field with the word "Root_".

Here's why: I created my branch 2 weeks before I tried to merge, and - as a 
beginner - I completely forgot what the default start tag prefix was. So when 
I said "Configure Tags..." to find the start tag, I was presented with a 
really long and messy list of New tags, and I couldn't remember what letter it 
started with. &lt;g&gt; I had to go back and pretend to create another branch to see 
that I was looking for a version that started with "Root_".
Re: comment #1 the dialog does attempt to seed the field but it will only do 
so if it finds a version that contains the text that is the branch name. I 
suspect this failed for you because the tag was not yet known. Perhaps we 
should re-attempt to seed the field after the tags are configured.
Re: comment 2, you may have done that - I can't remember. Anyhow, once the tag 
is configured, ctrl+space and type the letter R is sufficient to fill the 
start tag field - pretty easy.

But the real problem noted in comment 1 was that I needed help before 
configuring the tags, not after.</WithStack>
    <WithOutStack>3.2 M2

My first time merging a branch back into HEAD, and I got quite confused.
My error: I still had my branch loaded when I brought up the Merge dialog.
I specified my end tag (branch_x), and start tag (Root_branch_x), and I was 
surprised that there were no changes when I clicked Finish.

I suspect that this is a common "beginner error", and I believe that the Merge 
dialog can help out significantly as follows:

- Add a label above "Branch or version to be merged (end tag):" that says 
something like: "Merging into: loaded_branch" where loaded_branch is the name 
of the branch that is currently loaded into the workspace for the selected 
resource. This would be a good clue to the user... for example, in my case, I 
would have read it and thought, "Merging into branch_x? No - I want to merge 
into HEAD".

- Just the above is nice, but not quite sufficient to help the brand new user 
figure out what to do next. I think that a little "red X error message" should 
be shown if the user specifies the same branch for the end tag as the one that 
is currently loaded for the selected resource. The message can suggest that 
they need to go and load the branch they want to merge into.

Hopefully, these 2 things together can help some future new users get through 
their first merge.  :)
Another suggestion. After the user selects their end tag, it would be nice if 
the dialog seeded the start tag field with the word "Root_".

Here's why: I created my branch 2 weeks before I tried to merge, and - as a 
beginner - I completely forgot what the default start tag prefix was. So when 
I said "Configure Tags..." to find the start tag, I was presented with a 
really long and messy list of New tags, and I couldn't remember what letter it 
started with. &lt;g&gt; I had to go back and pretend to create another branch to see 
that I was looking for a version that started with "Root_".
Re: comment #1 the dialog does attempt to seed the field but it will only do 
so if it finds a version that contains the text that is the branch name. I 
suspect this failed for you because the tag was not yet known. Perhaps we 
should re-attempt to seed the field after the tags are configured.
Re: comment 2, you may have done that - I can't remember. Anyhow, once the tag 
is configured, ctrl+space and type the letter R is sufficient to fill the 
start tag field - pretty easy.

But the real problem noted in comment 1 was that I needed help before 
configuring the tags, not after.</WithOutStack>
  </Bug>
  <Bug>
    <BugId amount="110867" />
    <CreationDate amount="2005-09-27 16:08:00 -0400" />
    <DupId amount="" />
    <classification amount="Tools" />
    <Product amount="TPTP Release Engineering" />
    <component amount="Build" />
    <Version amount="4.0" />
    <rep_platform amount="PC" />
    <op_sys amount="Linux" />
    <priority amount="P3" />
    <bug_severity amount="normal" />
    <Summery>ClassNotFound exception trying to open certain "Profiling and Logging" views</Summery>
    <Patches amount="0" />
    <Stacktraces amount="2">
      <Stacktrace timestamp="1437330582207">
        <Exception>java.lang.NoClassDefFoundError</Exception>
        <Reason />
        <Frames>
          <Frame depth="0">org.eclipse.hyades.trace.ui.HyadesUtil.isNotInitialized(HyadesUtil.java:208)</Frame>
          <Frame depth="1">org.eclipse.hyades.trace.ui.HyadesUtil.getAgentLabel(HyadesUtil.java:191)</Frame>
          <Frame depth="2">org.eclipse.hyades.trace.internal.ui.PDLabelProvider.getText(PDLabelProvider.java:184)</Frame>
          <Frame depth="3">org.eclipse.jface.viewers.StructuredViewer.buildLabel(StructuredViewer.java:1877)</Frame>
          <Frame depth="4">org.eclipse.jface.viewers.TreeViewer.doUpdateItem(TreeViewer.java:231)</Frame>
          <Frame depth="5">org.eclipse.jface.viewers.AbstractTreeViewer$UpdateItemSafeRunnable.run(AbstractTreeViewer.java:85)</Frame>
          <Frame depth="6">org.eclipse.core.internal.runtime.InternalPlatform.run(InternalPlatform.java:1044)</Frame>
          <Frame depth="7">org.eclipse.core.runtime.Platform.run(Platform.java:783)</Frame>
          <Frame depth="8">org.eclipse.ui.internal.JFaceUtil$1.run(JFaceUtil.java:44)</Frame>
          <Frame depth="9">org.eclipse.jface.util.SafeRunnable.run(SafeRunnable.java:148)</Frame>
          <Frame depth="10">org.eclipse.jface.viewers.AbstractTreeViewer.doUpdateItem(AbstractTreeViewer.java:621)</Frame>
          <Frame depth="11">org.eclipse.jface.viewers.AbstractTreeViewer.internalRefresh(AbstractTreeViewer.java:1238)</Frame>
          <Frame depth="12">org.eclipse.jface.viewers.AbstractTreeViewer.internalRefresh(AbstractTreeViewer.java:1201)</Frame>
          <Frame depth="13">org.eclipse.jface.viewers.AbstractTreeViewer.internalRefresh(AbstractTreeViewer.java:1188)</Frame>
          <Frame depth="14">org.eclipse.jface.viewers.StructuredViewer$7.run(StructuredViewer.java:1264)</Frame>
          <Frame depth="15">org.eclipse.jface.viewers.StructuredViewer.preservingSelection(StructuredViewer.java:1201)</Frame>
          <Frame depth="16">org.eclipse.jface.viewers.StructuredViewer.refresh(StructuredViewer.java:1262)</Frame>
          <Frame depth="17">org.eclipse.hyades.trace.internal.ui.PDProjectExplorer.handleProfileEvent(PDProjectExplorer.java:470)</Frame>
          <Frame depth="18">org.eclipse.hyades.trace.internal.ui.TraceUIManager.notifyProfileEventListener(TraceUIManager.java:492)</Frame>
          <Frame depth="19">org.eclipse.hyades.trace.ui.UIPlugin.notifyProfileEventListener(UIPlugin.java:517)</Frame>
          <Frame depth="20">org.eclipse.hyades.trace.ui.internal.piclient.PIProcessListener$3.run(PIProcessListener.java:270)</Frame>
          <Frame depth="21">org.eclipse.swt.widgets.RunnableLock.run(RunnableLock.java:35)</Frame>
          <Frame depth="22">org.eclipse.swt.widgets.Synchronizer.runAsyncMessages(Synchronizer.java:123)</Frame>
          <Frame depth="23">org.eclipse.swt.widgets.Display.runAsyncMessages(Display.java:2844)</Frame>
          <Frame depth="24">org.eclipse.swt.widgets.Display.readAndDispatch(Display.java:2575)</Frame>
          <Frame depth="25">org.eclipse.ui.internal.Workbench.runEventLoop(Workbench.java:1699)</Frame>
          <Frame depth="26">org.eclipse.ui.internal.Workbench.runUI(Workbench.java:1663)</Frame>
          <Frame depth="27">org.eclipse.ui.internal.Workbench.createAndRunWorkbench(Workbench.java:367)</Frame>
          <Frame depth="28">org.eclipse.ui.PlatformUI.createAndRunWorkbench(PlatformUI.java:143)</Frame>
          <Frame depth="29">org.eclipse.ui.internal.ide.IDEApplication.run(IDEApplication.java:103)</Frame>
          <Frame depth="30">org.eclipse.core.internal.runtime.PlatformActivator$1.run(PlatformActivator.java:226)</Frame>
          <Frame depth="31">org.eclipse.core.runtime.adaptor.EclipseStarter.run(EclipseStarter.java:376)</Frame>
          <Frame depth="32">org.eclipse.core.runtime.adaptor.EclipseStarter.run(EclipseStarter.java:163)</Frame>
          <Frame depth="33">sun.reflect.NativeMethodAccessorImpl.invoke0(Native Method)</Frame>
          <Frame depth="34">sun.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:39)</Frame>
          <Frame depth="35">sun.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:25)</Frame>
          <Frame depth="36">java.lang.reflect.Method.invoke(Method.java:585)</Frame>
          <Frame depth="37">org.eclipse.core.launcher.Main.invokeFramework(Main.java:334)</Frame>
          <Frame depth="38">org.eclipse.core.launcher.Main.basicRun(Main.java:278)</Frame>
          <Frame depth="39">org.eclipse.core.launcher.Main.run(Main.java:973)</Frame>
          <Frame depth="40">org.eclipse.core.launcher.Main.main(Main.java:948)</Frame>
        </Frames>
      </Stacktrace>
      <Cause timestamp="1437330582207">
        <Exception>java.lang.NoSuchMethodError</Exception>
        <Reason>org.eclipse.hyades.models.hierarchy.extensions.impl.ExtensionsPackageImpl.freez
e()V</Reason>
        <Frames>
          <Frame depth="0">org.eclipse.hyades.models.hierarchy.extensions.impl.ExtensionsPackageImpl.init(ExtensionsPackageImpl.java:271)</Frame>
          <Frame depth="1">org.eclipse.hyades.models.hierarchy.extensions.ExtensionsPackage.&lt;clinit&gt;(ExtensionsPackage.java:74)</Frame>
          <Frame depth="2">org.eclipse.hyades.models.hierarchy.impl.HierarchyPackageImpl.init(HierarchyPackageImpl.java:298)</Frame>
          <Frame depth="3">org.eclipse.hyades.models.hierarchy.HierarchyPackage.&lt;clinit&gt;(HierarchyPackage.java:75)</Frame>
          <Frame depth="4">sun.misc.Unsafe.ensureClassInitialized(Native Method)</Frame>
          <Frame depth="5">sun.reflect.UnsafeFieldAccessorFactory.newFieldAccessor(UnsafeFieldAccessorFactory.java:25)</Frame>
          <Frame depth="6">sun.reflect.ReflectionFactory.newFieldAccessor(ReflectionFactory.java:122)</Frame>
          <Frame depth="7">java.lang.reflect.Field.acquireFieldAccessor(Field.java:917)</Frame>
          <Frame depth="8">java.lang.reflect.Field.getFieldAccessor(Field.java:898)</Frame>
          <Frame depth="9">java.lang.reflect.Field.get(Field.java:357)</Frame>
          <Frame depth="10">org.eclipse.emf.ecore.plugin.RegistryReader$EPackageDescriptor.getEPackage(RegistryReader.java:167)</Frame>
          <Frame depth="11">org.eclipse.emf.ecore.impl.EPackageRegistryImpl.getEPackage(EPackageRegistryImpl.java:91)</Frame>
          <Frame depth="12">org.eclipse.hyades.models.hierarchy.impl.HierarchyPackageImpl.init(HierarchyPackageImpl.java:290)</Frame>
          <Frame depth="13">org.eclipse.hyades.trace.internal.ui.TraceUIManager.getResourceSet(TraceUIManager.java:190)</Frame>
          <Frame depth="14">org.eclipse.hyades.trace.ui.UIPlugin.getResourceSet(UIPlugin.java:252)</Frame>
          <Frame depth="15">org.eclipse.hyades.trace.internal.ui.PDContentProvider.getMonitors(PDContentProvider.java:336)</Frame>
        </Frames>
      </Cause>
    </Stacktraces>
    <SourceCodeRegions amount="0" />
    <Enumerations amount="1">
      <Enumeration lines="3">
        <Lines>
          <Line>1. download and extract eclipse-SDK-3.1-win32.zip</Line>
          <Line>2. use eclipse update manager to install new feature EMF/SDO/XSD</Line>
          <Line>3. use eclipse update manager to install tptp feature</Line>
        </Lines>
      </Enumeration>
    </Enumerations>
    <bug_status amount="CLOSED" />
    <resolution amount="INVALID" />
    <WithStack>I can run an application through the profiler in the Profiling and Logging
perspective, but when i try to open a view such as Memory Statistics i get a
window with the exception "java.lang.ClassNotFoundException:
org.eclipse.hyades.trace.views.adapter.internal.MemoryStatisticViewer".

I get similar exceptions trying to open the following views: Method Invocation
Details, Object References, Method Invocation, Coverate Stastics, Execution
Flow, Execution Statistics.
I tried to step through the profiling example here:
http://www.eclipse.org/tptp/home/documents/tutorials/profilingtool/profilingexample_32.html

In the Memory Statistics View section it says, "From the Profiling Monitor view,
using the pop-up menu of the profiling agent, select Open with &gt; Memory
Statistics."  It's not clear where this pop-up menu comes from, but right
clicking anywhere in the Profiling Monitor does nothing.  All the Profiling
Monitor toolbar options seem to work though, except stop which throws a
ClassNotFoundException:

!ENTRY org.eclipse.jface 4 2 2005-09-27 17:33:40.291
!MESSAGE Problems occurred when invoking code from plug-in: "org.eclipse.jface".
!STACK 0
java.lang.NoClassDefFoundError
        at
org.eclipse.hyades.trace.ui.HyadesUtil.isNotInitialized(HyadesUtil.java:208)
        at org.eclipse.hyades.trace.ui.HyadesUtil.getAgentLabel(HyadesUtil.java:191)
        at
org.eclipse.hyades.trace.internal.ui.PDLabelProvider.getText(PDLabelProvider.java:184)
        at
org.eclipse.jface.viewers.StructuredViewer.buildLabel(StructuredViewer.java:1877)
        at org.eclipse.jface.viewers.TreeViewer.doUpdateItem(TreeViewer.java:231)
        at
org.eclipse.jface.viewers.AbstractTreeViewer$UpdateItemSafeRunnable.run(AbstractTreeViewer.java:85)
        at
org.eclipse.core.internal.runtime.InternalPlatform.run(InternalPlatform.java:1044)
        at org.eclipse.core.runtime.Platform.run(Platform.java:783)
        at org.eclipse.ui.internal.JFaceUtil$1.run(JFaceUtil.java:44)
        at org.eclipse.jface.util.SafeRunnable.run(SafeRunnable.java:148)
        at
org.eclipse.jface.viewers.AbstractTreeViewer.doUpdateItem(AbstractTreeViewer.java:621)
        at
org.eclipse.jface.viewers.AbstractTreeViewer.internalRefresh(AbstractTreeViewer.java:1238)
        at
org.eclipse.jface.viewers.AbstractTreeViewer.internalRefresh(AbstractTreeViewer.java:1201)
        at
org.eclipse.jface.viewers.AbstractTreeViewer.internalRefresh(AbstractTreeViewer.java:1188)
        at
org.eclipse.jface.viewers.StructuredViewer$7.run(StructuredViewer.java:1264)
        at
org.eclipse.jface.viewers.StructuredViewer.preservingSelection(StructuredViewer.java:1201)
        at
org.eclipse.jface.viewers.StructuredViewer.refresh(StructuredViewer.java:1262)
        at
org.eclipse.hyades.trace.internal.ui.PDProjectExplorer.handleProfileEvent(PDProjectExplorer.java:470)
        at
org.eclipse.hyades.trace.internal.ui.TraceUIManager.notifyProfileEventListener(TraceUIManager.java:492)
        at
org.eclipse.hyades.trace.ui.UIPlugin.notifyProfileEventListener(UIPlugin.java:517)
        at
org.eclipse.hyades.trace.ui.internal.piclient.PIProcessListener$3.run(PIProcessListener.java:270)
        at org.eclipse.swt.widgets.RunnableLock.run(RunnableLock.java:35)
        at
org.eclipse.swt.widgets.Synchronizer.runAsyncMessages(Synchronizer.java:123)
        at org.eclipse.swt.widgets.Display.runAsyncMessages(Display.java:2844)
        at org.eclipse.swt.widgets.Display.readAndDispatch(Display.java:2575)
        at org.eclipse.ui.internal.Workbench.runEventLoop(Workbench.java:1699)
        at org.eclipse.ui.internal.Workbench.runUI(Workbench.java:1663)
        at
org.eclipse.ui.internal.Workbench.createAndRunWorkbench(Workbench.java:367)
        at org.eclipse.ui.PlatformUI.createAndRunWorkbench(PlatformUI.java:143)
        at org.eclipse.ui.internal.ide.IDEApplication.run(IDEApplication.java:103)
        at
org.eclipse.core.internal.runtime.PlatformActivator$1.run(PlatformActivator.java:226)
        at
org.eclipse.core.runtime.adaptor.EclipseStarter.run(EclipseStarter.java:376)
        at
org.eclipse.core.runtime.adaptor.EclipseStarter.run(EclipseStarter.java:163)
        at sun.reflect.NativeMethodAccessorImpl.invoke0(Native Method)
        at
sun.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:39)
        at
sun.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:25)
        at java.lang.reflect.Method.invoke(Method.java:585)
        at org.eclipse.core.launcher.Main.invokeFramework(Main.java:334)
        at org.eclipse.core.launcher.Main.basicRun(Main.java:278)
        at org.eclipse.core.launcher.Main.run(Main.java:973)
        at org.eclipse.core.launcher.Main.main(Main.java:948)

It seems like you're missing some required dependencies

On a first look at the code I guess that you are missing some EMF plugins. Can 
you please verify that along with the Eclipse plugins you also have the EMF 
ones

For a complete list of required dependencies go to http://eclipse.org/tptp/
then select Latest Downloads and look for the Requirements section down the 
page
I installed everything EMF related, no change.

The MemoryStatisticViewer class the exception is about i have in
org.eclipse.hyades.trace.views_4.0.0/ui.jar.

Everything was installed using the Eclipse Update Manager.
can you please attach the .log file from .metadata directory
Created attachment 27622
.log file
The problem is generated by the exception below; your EMF version doesn't 
match the TPTP 4.0 level

This is an update manager issue; the EMF version should be 2.1.0
Hubert, can you please take a look; it might be that TPTP 4.0 shows that is 
compatible with higher versions of EMF, which is not the case

As a workaround can you please try to get the EMF 2.1 from the TPTP 4.0 
download page:
http://eclipse.org/tptp/
then select Latest Downloads and look for the Requirements section down the 
page



Caused by: java.lang.NoSuchMethodError: 
org.eclipse.hyades.models.hierarchy.extensions.impl.ExtensionsPackageImpl.freez
e()V
	at 
org.eclipse.hyades.models.hierarchy.extensions.impl.ExtensionsPackageImpl.init
(ExtensionsPackageImpl.java:271)
	at 
org.eclipse.hyades.models.hierarchy.extensions.ExtensionsPackage.&lt;clinit&gt;
(ExtensionsPackage.java:74)
	at org.eclipse.hyades.models.hierarchy.impl.HierarchyPackageImpl.init
(HierarchyPackageImpl.java:298)
	at org.eclipse.hyades.models.hierarchy.HierarchyPackage.&lt;clinit&gt;
(HierarchyPackage.java:75)
	at sun.misc.Unsafe.ensureClassInitialized(Native Method)
	at sun.reflect.UnsafeFieldAccessorFactory.newFieldAccessor
(UnsafeFieldAccessorFactory.java:25)
	at sun.reflect.ReflectionFactory.newFieldAccessor
(ReflectionFactory.java:122)
	at java.lang.reflect.Field.acquireFieldAccessor(Field.java:917)
	at java.lang.reflect.Field.getFieldAccessor(Field.java:898)
	at java.lang.reflect.Field.get(Field.java:357)
	at 
org.eclipse.emf.ecore.plugin.RegistryReader$EPackageDescriptor.getEPackage
(RegistryReader.java:167)
	at org.eclipse.emf.ecore.impl.EPackageRegistryImpl.getEPackage
(EPackageRegistryImpl.java:91)
	at org.eclipse.hyades.models.hierarchy.impl.HierarchyPackageImpl.init
(HierarchyPackageImpl.java:290)
	at org.eclipse.hyades.trace.internal.ui.TraceUIManager.getResourceSet
(TraceUIManager.java:190)
	at org.eclipse.hyades.trace.ui.UIPlugin.getResourceSet
(UIPlugin.java:252)
	at org.eclipse.hyades.trace.internal.ui.PDContentProvider.getMonitors
(PDContentProvider.java:336)

I actually did have EMF 2.1 installed already.

But anyway, i reinstalled Eclipse, installed all the plugins manually (not using
Update Manager) and everything seems to work now.
I asked Amy Zhu to reproduce the problem, but she didn't get the error 
described in the bug description.  I am returning the bug as invalid.  Please 
reopen if you see the problem again.

Here is Amy's note to me after the test:
Hi, Hubert, 

I tried to reproduce the bug 110867, but I did not get the reporter's result. 
The following is detail steps: 
1. download and extract eclipse-SDK-3.1-win32.zip 
2. use eclipse update manager to install new feature EMF/SDO/XSD 
3. use eclipse update manager to install tptp feature 


I ran an application through the profiler in the Profiling and Logging 
perspective.  I can open a view of Memory Statistics 

, Object References, 
Coverage Stastics, Execution Flow, Execution Statistics. I do not have 

Method Invocation Details and 

 Method Invocation views. 
  
Regards, 
Amy Zhu 
As of TPTP 4.6.0, TPTP is in maintenance mode and focusing on improving quality by resolving relevant enhancements/defects and increasing test coverage through test creation, automation, Build Verification Tests (BVTs), and expanded run-time execution. As part of the TPTP Bugzilla housecleaning process (see http://wiki.eclipse.org/Bugzilla_Housecleaning_Processes), this enhancement/defect is verified/closed by the Project Lead since this enhancement/defect has been resolved and unverified for more than 1 year and considered to be fixed. If this enhancement/defect is still unresolved and reproducible in the latest TPTP release (http://www.eclipse.org/tptp/home/downloads/), please re-open.</WithStack>
    <WithOutStack>I can run an application through the profiler in the Profiling and Logging
perspective, but when i try to open a view such as Memory Statistics i get a
window with the exception "java.lang.ClassNotFoundException:
org.eclipse.hyades.trace.views.adapter.internal.MemoryStatisticViewer".

I get similar exceptions trying to open the following views: Method Invocation
Details, Object References, Method Invocation, Coverate Stastics, Execution
Flow, Execution Statistics.
I tried to step through the profiling example here:
http://www.eclipse.org/tptp/home/documents/tutorials/profilingtool/profilingexample_32.html

In the Memory Statistics View section it says, "From the Profiling Monitor view,
using the pop-up menu of the profiling agent, select Open with &gt; Memory
Statistics."  It's not clear where this pop-up menu comes from, but right
clicking anywhere in the Profiling Monitor does nothing.  All the Profiling
Monitor toolbar options seem to work though, except stop which throws a
ClassNotFoundException:

!ENTRY org.eclipse.jface 4 2 2005-09-27 17:33:40.291
!MESSAGE Problems occurred when invoking code from plug-in: "org.eclipse.jface".
!STACK 0


It seems like you're missing some required dependencies

On a first look at the code I guess that you are missing some EMF plugins. Can 
you please verify that along with the Eclipse plugins you also have the EMF 
ones

For a complete list of required dependencies go to http://eclipse.org/tptp/
then select Latest Downloads and look for the Requirements section down the 
page
I installed everything EMF related, no change.

The MemoryStatisticViewer class the exception is about i have in
org.eclipse.hyades.trace.views_4.0.0/ui.jar.

Everything was installed using the Eclipse Update Manager.
can you please attach the .log file from .metadata directory
Created attachment 27622
.log file
The problem is generated by the exception below; your EMF version doesn't 
match the TPTP 4.0 level

This is an update manager issue; the EMF version should be 2.1.0
Hubert, can you please take a look; it might be that TPTP 4.0 shows that is 
compatible with higher versions of EMF, which is not the case

As a workaround can you please try to get the EMF 2.1 from the TPTP 4.0 
download page:
http://eclipse.org/tptp/
then select Latest Downloads and look for the Requirements section down the 
page





I actually did have EMF 2.1 installed already.

But anyway, i reinstalled Eclipse, installed all the plugins manually (not using
Update Manager) and everything seems to work now.
I asked Amy Zhu to reproduce the problem, but she didn't get the error 
described in the bug description.  I am returning the bug as invalid.  Please 
reopen if you see the problem again.

Here is Amy's note to me after the test:
Hi, Hubert, 

I tried to reproduce the bug 110867, but I did not get the reporter's result. 
The following is detail steps: 
1. download and extract eclipse-SDK-3.1-win32.zip 
2. use eclipse update manager to install new feature EMF/SDO/XSD 
3. use eclipse update manager to install tptp feature 


I ran an application through the profiler in the Profiling and Logging 
perspective.  I can open a view of Memory Statistics 

, Object References, 
Coverage Stastics, Execution Flow, Execution Statistics. I do not have 

Method Invocation Details and 

 Method Invocation views. 
  
Regards, 
Amy Zhu 
As of TPTP 4.6.0, TPTP is in maintenance mode and focusing on improving quality by resolving relevant enhancements/defects and increasing test coverage through test creation, automation, Build Verification Tests (BVTs), and expanded run-time execution. As part of the TPTP Bugzilla housecleaning process (see http://wiki.eclipse.org/Bugzilla_Housecleaning_Processes), this enhancement/defect is verified/closed by the Project Lead since this enhancement/defect has been resolved and unverified for more than 1 year and considered to be fixed. If this enhancement/defect is still unresolved and reproducible in the latest TPTP release (http://www.eclipse.org/tptp/home/downloads/), please re-open.</WithOutStack>
  </Bug>
  <Bug>
    <BugId amount="110868" />
    <CreationDate amount="2005-09-27 16:20:00 -0400" />
    <DupId amount="" />
    <classification amount="WebTools" />
    <Product amount="WTP Java EE Tools" />
    <component amount="jst.j2ee" />
    <Version amount="1.0" />
    <rep_platform amount="PC" />
    <op_sys amount="Windows XP" />
    <priority amount="P3" />
    <bug_severity amount="enhancement" />
    <Summery>Implement headless facet based module creation operations</Summery>
    <Patches amount="0" />
    <Stacktraces amount="0" />
    <SourceCodeRegions amount="0" />
    <Enumerations amount="0" />
    <bug_status amount="CLOSED" />
    <resolution amount="FIXED" />
    <WithStack>Prototype the j2ee component creation operations using the delegates and project
facet framework and definitions.
This has been done.
closing</WithStack>
    <WithOutStack>Prototype the j2ee component creation operations using the delegates and project
facet framework and definitions.
This has been done.
closing</WithOutStack>
  </Bug>
  <Bug>
    <BugId amount="110869" />
    <CreationDate amount="2005-09-27 16:24:00 -0400" />
    <DupId amount="" />
    <classification amount="Eclipse" />
    <Product amount="Platform" />
    <component amount="SWT" />
    <Version amount="3.1" />
    <rep_platform amount="All" />
    <op_sys amount="All" />
    <priority amount="P3" />
    <bug_severity amount="enhancement" />
    <Summery>[CTabFolder] Allow "Show List" tool tip to be overridden in CTabFolder</Summery>
    <Patches amount="0" />
    <Stacktraces amount="0" />
    <SourceCodeRegions amount="0" />
    <Enumerations amount="0" />
    <bug_status amount="NEW" />
    <resolution amount="" />
    <WithStack>CTabFolder provides a chevron if there are too many tabs to display in a 
single row.  This chevron has a tooltip that reads simply "Show List".  It is 
possible that the CTabFolder will be used in a context where "Show List" is 
not entirely appropriate as a tooltip.  It would be nice if the text of this 
tooltip could be changed. 
 
In the Eclipse SDK, the CTabFolder is used for views and editors.  In the case 
of editors, there is a command that shows this list.  The name of this command 
is "Open Editor Drop Down".  There is a disconnect for the user between the 
tooltip (Show List), and the command and menu items (Open Editor Drop Down).  
It would be nice if we could override the tooltip for CTabFolder to be "Open 
Editor Drop Down".</WithStack>
    <WithOutStack>CTabFolder provides a chevron if there are too many tabs to display in a 
single row.  This chevron has a tooltip that reads simply "Show List".  It is 
possible that the CTabFolder will be used in a context where "Show List" is 
not entirely appropriate as a tooltip.  It would be nice if the text of this 
tooltip could be changed. 
 
In the Eclipse SDK, the CTabFolder is used for views and editors.  In the case 
of editors, there is a command that shows this list.  The name of this command 
is "Open Editor Drop Down".  There is a disconnect for the user between the 
tooltip (Show List), and the command and menu items (Open Editor Drop Down).  
It would be nice if we could override the tooltip for CTabFolder to be "Open 
Editor Drop Down".</WithOutStack>
  </Bug>
  <Bug>
    <BugId amount="110870" />
    <CreationDate amount="2005-09-27 16:25:00 -0400" />
    <DupId amount="" />
    <classification amount="WebTools" />
    <Product amount="WTP Java EE Tools" />
    <component amount="jst.j2ee" />
    <Version amount="1.0" />
    <rep_platform amount="PC" />
    <op_sys amount="Windows XP" />
    <priority amount="P3" />
    <bug_severity amount="enhancement" />
    <Summery>Migrate 0.7 workspaces with multiple components per project</Summery>
    <Patches amount="0" />
    <Stacktraces amount="0" />
    <SourceCodeRegions amount="0" />
    <Enumerations amount="0" />
    <bug_status amount="CLOSED" />
    <resolution amount="FIXED" />
    <WithStack>In WTP 1.0 where only single components are supported per project, we will need
to migrate existing 0.7 projects with multiple components into new multiple
projects.  Or at least provide some tutorial on how to do so.
Component migration (Adding facets) was dropped last night)

Not closing until multiple components is covered....
This is in the I Build
Verified in FVT test pass on M9 candidate.  Scenario created and ran.</WithStack>
    <WithOutStack>In WTP 1.0 where only single components are supported per project, we will need
to migrate existing 0.7 projects with multiple components into new multiple
projects.  Or at least provide some tutorial on how to do so.
Component migration (Adding facets) was dropped last night)

Not closing until multiple components is covered....
This is in the I Build
Verified in FVT test pass on M9 candidate.  Scenario created and ran.</WithOutStack>
  </Bug>
  <Bug>
    <BugId amount="110871" />
    <CreationDate amount="2005-09-27 16:33:00 -0400" />
    <DupId amount="" />
    <classification amount="Modeling" />
    <Product amount="EMF" />
    <component amount="Validation" />
    <Version amount="unspecified" />
    <rep_platform amount="PC" />
    <op_sys amount="Windows XP" />
    <priority amount="P3" />
    <bug_severity amount="normal" />
    <Summery>Library Example: setName in WriterImpl does not send notifications</Summery>
    <Patches amount="0" />
    <Stacktraces amount="0" />
    <SourceCodeRegions amount="0" />
    <Enumerations amount="0" />
    <bug_status amount="VERIFIED" />
    <resolution amount="FIXED" />
    <WithStack>org.eclipse.emf.examples.extlibrary.impl.WriterImpl
Method setName in WriterImpl does not send notifcations.

Found while testing Live Validation example 
(org.eclipse.emf.validation.examples).
There is a java constraint which requires Writers to not have blank names. 
Because no notifaction is being sent when the name of a writer is changed, this 
constraint never comes into play.
Created attachment 27593
Proposed Patch
In addition to what the attached patch does, the notification would also have to
be changed by the setFirstName() and setLastName() methods, for the attributes
on which the derived "name" attribute depends.
After a discussion with Christian Damus, it was decided that the example 
constraint which deals with the derived attribute Writer.name will be removed 
rather than add a notification. Adding a notification to the derived attribute 
introduces complications which go against the point of providing a simple 
constraint example.

There are already two other constraint examples which demonstrate the same 
functionality as the Writer.name constraint would have. Therefore removing the 
Writer.name constraint will not lessen the value of the example.
Created attachment 27826
patch for fix

Removed Writer constraints.
Created attachment 27827
patch for fix

Previously when the user deleted the Writer's name, the name was being set to "
".
Patches Committed
resolving
Move to verified as per bug 206558.</WithStack>
    <WithOutStack>org.eclipse.emf.examples.extlibrary.impl.WriterImpl
Method setName in WriterImpl does not send notifcations.

Found while testing Live Validation example 
(org.eclipse.emf.validation.examples).
There is a java constraint which requires Writers to not have blank names. 
Because no notifaction is being sent when the name of a writer is changed, this 
constraint never comes into play.
Created attachment 27593
Proposed Patch
In addition to what the attached patch does, the notification would also have to
be changed by the setFirstName() and setLastName() methods, for the attributes
on which the derived "name" attribute depends.
After a discussion with Christian Damus, it was decided that the example 
constraint which deals with the derived attribute Writer.name will be removed 
rather than add a notification. Adding a notification to the derived attribute 
introduces complications which go against the point of providing a simple 
constraint example.

There are already two other constraint examples which demonstrate the same 
functionality as the Writer.name constraint would have. Therefore removing the 
Writer.name constraint will not lessen the value of the example.
Created attachment 27826
patch for fix

Removed Writer constraints.
Created attachment 27827
patch for fix

Previously when the user deleted the Writer's name, the name was being set to "
".
Patches Committed
resolving
Move to verified as per bug 206558.</WithOutStack>
  </Bug>
  <Bug>
    <BugId amount="110872" />
    <CreationDate amount="2005-09-27 16:54:00 -0400" />
    <DupId amount="" />
    <classification amount="WebTools" />
    <Product amount="WTP Java EE Tools" />
    <component amount="jst.j2ee" />
    <Version amount="1.0" />
    <rep_platform amount="PC" />
    <op_sys amount="Windows All" />
    <priority amount="P3" />
    <bug_severity amount="major" />
    <Summery>J2EEComponentCreationDataModelProvider missing getPropertyDescriptor() method</Summery>
    <Patches amount="0" />
    <Stacktraces amount="0" />
    <SourceCodeRegions amount="0" />
    <Enumerations amount="0" />
    <bug_status amount="CLOSED" />
    <resolution amount="FIXED" />
    <WithStack>Currently, J2EEComponentCreationDataModelProvider does not have the following 
method:
public DataModelPropertyDescriptor getPropertyDescriptor(String propertyName)

But it does have:
public DataModelPropertyDescriptor[] getValidPropertyDescriptors(String 
propertyName)
And that method returns DataModelPropertyDescriptors for COMPONENT_VERSION, 
EAR_COMPONENT_NAME, RUNTIME_TARGET_ID, and EXISTING_PROJECT.
This can cause synchronization problems, since classes like 
DataModelSyncHelper use getValidPropertyDescriptors() to get a list, and then 
use getPropertyDescriptor() to get a translation from a property value to a 
description, and since the method isn't there, this translation can't happen, 
so a valid match is not found.
COMPONENT_VERSION  is handled by subclasses of 
J2EEComponentCreationDataModelProvider,

EAR_COMPONENT_NAME : the  value and description of property is same so it is 
not needed.

RUNTIME_TARGET_ID:  added

EXISTING_PROJECT: this property has been removed
This was all moved around due to facets.  It appears to all be working correctly now.
clsing the verified defect</WithStack>
    <WithOutStack>Currently, J2EEComponentCreationDataModelProvider does not have the following 
method:
public DataModelPropertyDescriptor getPropertyDescriptor(String propertyName)

But it does have:
public DataModelPropertyDescriptor[] getValidPropertyDescriptors(String 
propertyName)
And that method returns DataModelPropertyDescriptors for COMPONENT_VERSION, 
EAR_COMPONENT_NAME, RUNTIME_TARGET_ID, and EXISTING_PROJECT.
This can cause synchronization problems, since classes like 
DataModelSyncHelper use getValidPropertyDescriptors() to get a list, and then 
use getPropertyDescriptor() to get a translation from a property value to a 
description, and since the method isn't there, this translation can't happen, 
so a valid match is not found.
COMPONENT_VERSION  is handled by subclasses of 
J2EEComponentCreationDataModelProvider,

EAR_COMPONENT_NAME : the  value and description of property is same so it is 
not needed.

RUNTIME_TARGET_ID:  added

EXISTING_PROJECT: this property has been removed
This was all moved around due to facets.  It appears to all be working correctly now.
clsing the verified defect</WithOutStack>
  </Bug>
  <Bug>
    <BugId amount="110873" />
    <CreationDate amount="2005-09-27 17:08:00 -0400" />
    <DupId amount="" />
    <classification amount="WebTools" />
    <Product amount="WTP Source Editing" />
    <component amount="wst.xml" />
    <Version amount="1.0" />
    <rep_platform amount="PC" />
    <op_sys amount="Windows XP" />
    <priority amount="P3" />
    <bug_severity amount="normal" />
    <Summery>wst.xml.ui performance test throws ClassCastException</Summery>
    <Patches amount="0" />
    <Stacktraces amount="5">
      <Stacktrace timestamp="1437330582222">
        <Exception>junit.framework.AssertionFailedError</Exception>
        <Reason />
        <Frames>
          <Frame depth="0">org.eclipse.jst.server.tomcat.tests.performance.tomcat50.GetDelegateTestCase.getRuntimeTypeLocation(GetDelegateTestCase.java:56)</Frame>
          <Frame depth="1">org.eclipse.wst.server.tests.performance.common.AbstractGetDelegateTestCase.testGetDelegate(AbstractGetDelegateTestCase.java:24)</Frame>
          <Frame depth="2">org.eclipse.jst.server.tomcat.tests.performance.tomcat50.GetDelegateTestCase.testGetDelegate(GetDelegateTestCase.java:35)</Frame>
          <Frame depth="3">org.eclipse.test.EclipseTestRunner.run(EclipseTestRunner.java:313)</Frame>
          <Frame depth="4">org.eclipse.test.EclipseTestRunner.run(EclipseTestRunner.java:199)</Frame>
          <Frame depth="5">org.eclipse.test.UITestApplication$3.run(UITestApplication.java:188)</Frame>
          <Frame depth="6">org.eclipse.swt.widgets.RunnableLock.run(RunnableLock.java:35)</Frame>
          <Frame depth="7">org.eclipse.swt.widgets.Synchronizer.runAsyncMessages(Synchronizer.java:123)</Frame>
          <Frame depth="8">org.eclipse.swt.widgets.Display.runAsyncMessages(Display.java:3057)</Frame>
          <Frame depth="9">org.eclipse.swt.widgets.Display.readAndDispatch(Display.java:2716)</Frame>
          <Frame depth="10">org.eclipse.ui.internal.Workbench.runEventLoop(Workbench.java:1699)</Frame>
          <Frame depth="11">org.eclipse.ui.internal.Workbench.runUI(Workbench.java:1663)</Frame>
          <Frame depth="12">org.eclipse.ui.internal.Workbench.createAndRunWorkbench(Workbench.java:367)</Frame>
          <Frame depth="13">org.eclipse.ui.PlatformUI.createAndRunWorkbench(PlatformUI.java:143)</Frame>
          <Frame depth="14">org.eclipse.ui.internal.ide.IDEApplication.run(IDEApplication.java:103)</Frame>
          <Frame depth="15">org.eclipse.test.UITestApplication.runApplication(UITestApplication.java:131)</Frame>
          <Frame depth="16">org.eclipse.test.UITestApplication.run(UITestApplication.java:58)</Frame>
          <Frame depth="17">org.eclipse.core.internal.runtime.PlatformActivator$1.run(PlatformActivator.java:226)</Frame>
          <Frame depth="18">org.eclipse.core.runtime.adaptor.EclipseStarter.run(EclipseStarter.java:376)</Frame>
          <Frame depth="19">org.eclipse.core.runtime.adaptor.EclipseStarter.run(EclipseStarter.java:163)</Frame>
          <Frame depth="20">org.eclipse.core.launcher.Main.invokeFramework(Main.java:334)</Frame>
          <Frame depth="21">org.eclipse.core.launcher.Main.basicRun(Main.java:278)</Frame>
          <Frame depth="22">org.eclipse.core.launcher.Main.run(Main.java:973)</Frame>
          <Frame depth="23">org.eclipse.core.launcher.Main.main(Main.java:948)</Frame>
        </Frames>
      </Stacktrace>
      <Stacktrace timestamp="1437330582222">
        <Exception>junit.framework.AssertionFailedError</Exception>
        <Reason />
        <Frames>
          <Frame depth="0">org.eclipse.wst.server.tests.performance.common.ServerPerformanceTestCase.getFirstServer(ServerPerformanceTestCase.java:55)</Frame>
          <Frame depth="1">org.eclipse.wst.server.tests.performance.common.AbstractOpenEditorTestCase.testOpenEditor(AbstractOpenEditorTestCase.java:24)</Frame>
          <Frame depth="2">org.eclipse.jst.server.tomcat.tests.performance.tomcat50.OpenEditorTestCase.testOpenEditor(OpenEditorTestCase.java:27)</Frame>
          <Frame depth="3">org.eclipse.test.EclipseTestRunner.run(EclipseTestRunner.java:313)</Frame>
          <Frame depth="4">org.eclipse.test.EclipseTestRunner.run(EclipseTestRunner.java:199)</Frame>
          <Frame depth="5">org.eclipse.test.UITestApplication$3.run(UITestApplication.java:188)</Frame>
          <Frame depth="6">org.eclipse.swt.widgets.RunnableLock.run(RunnableLock.java:35)</Frame>
          <Frame depth="7">org.eclipse.swt.widgets.Synchronizer.runAsyncMessages(Synchronizer.java:123)</Frame>
          <Frame depth="8">org.eclipse.swt.widgets.Display.runAsyncMessages(Display.java:3057)</Frame>
          <Frame depth="9">org.eclipse.swt.widgets.Display.readAndDispatch(Display.java:2716)</Frame>
          <Frame depth="10">org.eclipse.ui.internal.Workbench.runEventLoop(Workbench.java:1699)</Frame>
          <Frame depth="11">org.eclipse.ui.internal.Workbench.runUI(Workbench.java:1663)</Frame>
          <Frame depth="12">org.eclipse.ui.internal.Workbench.createAndRunWorkbench(Workbench.java:367)</Frame>
          <Frame depth="13">org.eclipse.ui.PlatformUI.createAndRunWorkbench(PlatformUI.java:143)</Frame>
          <Frame depth="14">org.eclipse.ui.internal.ide.IDEApplication.run(IDEApplication.java:103)</Frame>
          <Frame depth="15">org.eclipse.test.UITestApplication.runApplication(UITestApplication.java:131)</Frame>
          <Frame depth="16">org.eclipse.test.UITestApplication.run(UITestApplication.java:58)</Frame>
          <Frame depth="17">org.eclipse.core.internal.runtime.PlatformActivator$1.run(PlatformActivator.java:226)</Frame>
          <Frame depth="18">org.eclipse.core.runtime.adaptor.EclipseStarter.run(EclipseStarter.java:376)</Frame>
          <Frame depth="19">org.eclipse.core.runtime.adaptor.EclipseStarter.run(EclipseStarter.java:163)</Frame>
          <Frame depth="20">org.eclipse.core.launcher.Main.invokeFramework(Main.java:334)</Frame>
          <Frame depth="21">org.eclipse.core.launcher.Main.basicRun(Main.java:278)</Frame>
          <Frame depth="22">org.eclipse.core.launcher.Main.run(Main.java:973)</Frame>
          <Frame depth="23">org.eclipse.core.launcher.Main.main(Main.java:948)</Frame>
        </Frames>
      </Stacktrace>
      <Stacktrace timestamp="1437330582222">
        <Exception>java.lang.ClassCastException</Exception>
        <Reason />
        <Frames>
          <Frame depth="0">org.eclipse.wst.xml.ui.tests.performance.BasicEditorTest.openEditor(BasicEditorTest.java:101)</Frame>
          <Frame depth="1">org.eclipse.wst.xml.ui.tests.performance.OpenEditorTest.testOpenEditor(OpenEditorTest.java:43)</Frame>
          <Frame depth="2">org.eclipse.test.EclipseTestRunner.run(EclipseTestRunner.java:313)</Frame>
          <Frame depth="3">org.eclipse.test.EclipseTestRunner.run(EclipseTestRunner.java:199)</Frame>
          <Frame depth="4">org.eclipse.test.UITestApplication$3.run(UITestApplication.java:188)</Frame>
          <Frame depth="5">org.eclipse.swt.widgets.RunnableLock.run(RunnableLock.java:35)</Frame>
          <Frame depth="6">org.eclipse.swt.widgets.Synchronizer.runAsyncMessages(Synchronizer.java:123)</Frame>
          <Frame depth="7">org.eclipse.swt.widgets.Display.runAsyncMessages(Display.java:3057)</Frame>
          <Frame depth="8">org.eclipse.swt.widgets.Display.readAndDispatch(Display.java:2716)</Frame>
        </Frames>
      </Stacktrace>
      <Stacktrace timestamp="1437330582222">
        <Exception>java.lang.ClassCastException</Exception>
        <Reason />
        <Frames>
          <Frame depth="0">org.eclipse.wst.xml.ui.tests.performance.BasicEditorTest.openEditor(BasicEditorTest.java:101)</Frame>
          <Frame depth="1">org.eclipse.wst.xml.ui.tests.performance.BasicEditorTest.setUpEditor(BasicEditorTest.java:88)</Frame>
          <Frame depth="2">org.eclipse.wst.xml.ui.tests.performance.FormatTest.testFormat(FormatTest.java:41)</Frame>
          <Frame depth="3">org.eclipse.test.EclipseTestRunner.run(EclipseTestRunner.java:313)</Frame>
          <Frame depth="4">org.eclipse.test.EclipseTestRunner.run(EclipseTestRunner.java:199)</Frame>
        </Frames>
      </Stacktrace>
      <Stacktrace timestamp="1437330582222">
        <Exception>java.lang.ClassCastException</Exception>
        <Reason />
        <Frames>
          <Frame depth="0">org.eclipse.wst.xml.ui.tests.performance.BasicEditorTest.openEditor(BasicEditorTest.java:101)</Frame>
          <Frame depth="1">org.eclipse.wst.xml.ui.tests.performance.BasicEditorTest.setUpEditor(BasicEditorTest.java:88)</Frame>
          <Frame depth="2">org.eclipse.wst.xml.ui.tests.performance.FormatTest.testFormat(FormatTest.java:41)</Frame>
          <Frame depth="3">org.eclipse.test.EclipseTestRunner.run(EclipseTestRunner.java:313)</Frame>
          <Frame depth="4">org.eclipse.test.EclipseTestRunner.run(EclipseTestRunner.java:199)</Frame>
          <Frame depth="5">org.eclipse.test.UITestApplication$3.run(UITestApplication.java:java.lang.ClassCastExceptionat org.eclipse.wst.xml.ui.tests.performance.BasicEditorTest.openEditor(BasicEditorTest.java:101)</Frame>
          <Frame depth="6">org.eclipse.wst.xml.ui.tests.performance.BasicEditorTest.setUpEditor(BasicEditorTest.java:88)</Frame>
          <Frame depth="7">org.eclipse.wst.xml.ui.tests.performance.ScrollTest.testScrolling(ScrollTest.java:39)</Frame>
          <Frame depth="8">org.eclipse.test.EclipseTestRunner.run(EclipseTestRunner.java:313)</Frame>
          <Frame depth="9">org.eclipse.test.EclipseTestRunner.run(EclipseTestRunner.java:199)</Frame>
          <Frame depth="10">org.eclipse.test.UITestApplication$3.run(UITestApplication.java:188)</Frame>
          <Frame depth="11">org.eclipse.swt.widgets.RunnableLock.run(RunnableLock.java:35)</Frame>
        </Frames>
      </Stacktrace>
    </Stacktraces>
    <SourceCodeRegions amount="0" />
    <Enumerations amount="0" />
    <bug_status amount="CLOSED" />
    <resolution amount="FIXED" />
    <WithStack>wst.xml.ui performance test throws ClassCastException. Details below:


junit.framework.AssertionFailedError
at 
org.eclipse.jst.server.tomcat.tests.performance.tomcat50.GetDelegateTestCase.get
RuntimeTypeLocation(GetDelegateTestCase.java:56)
at 
org.eclipse.wst.server.tests.performance.common.AbstractGetDelegateTestCase.test
GetDelegate(AbstractGetDelegateTestCase.java:24)
at 
org.eclipse.jst.server.tomcat.tests.performance.tomcat50.GetDelegateTestCase.tes
tGetDelegate(GetDelegateTestCase.java:35)
at org.eclipse.test.EclipseTestRunner.run(EclipseTestRunner.java:313)
at org.eclipse.test.EclipseTestRunner.run(EclipseTestRunner.java:199)
at org.eclipse.test.UITestApplication$3.run(UITestApplication.java:188)
at org.eclipse.swt.widgets.RunnableLock.run(RunnableLock.java:35)
at org.eclipse.swt.widgets.Synchronizer.runAsyncMessages(Synchronizer.java:123)
at org.eclipse.swt.widgets.Display.runAsyncMessages(Display.java:3057)
at org.eclipse.swt.widgets.Display.readAndDispatch(Display.java:2716)
at org.eclipse.ui.internal.Workbench.runEventLoop(Workbench.java:1699)
at org.eclipse.ui.internal.Workbench.runUI(Workbench.java:1663)
at org.eclipse.ui.internal.Workbench.createAndRunWorkbench(Workbench.java:367)
at org.eclipse.ui.PlatformUI.createAndRunWorkbench(PlatformUI.java:143)
at org.eclipse.ui.internal.ide.IDEApplication.run(IDEApplication.java:103)
at org.eclipse.test.UITestApplication.runApplication(UITestApplication.java:131)
at org.eclipse.test.UITestApplication.run(UITestApplication.java:58)
at org.eclipse.core.internal.runtime.PlatformActivator$1.run
(PlatformActivator.java:226)
at org.eclipse.core.runtime.adaptor.EclipseStarter.run(EclipseStarter.java:376)
at org.eclipse.core.runtime.adaptor.EclipseStarter.run(EclipseStarter.java:163)
at org.eclipse.core.launcher.Main.invokeFramework(Main.java:334)
at org.eclipse.core.launcher.Main.basicRun(Main.java:278)
at org.eclipse.core.launcher.Main.run(Main.java:973)
at org.eclipse.core.launcher.Main.main(Main.java:948)



junit.framework.AssertionFailedError
at 
org.eclipse.wst.server.tests.performance.common.ServerPerformanceTestCase.getFir
stServer(ServerPerformanceTestCase.java:55)
at 
org.eclipse.wst.server.tests.performance.common.AbstractOpenEditorTestCase.testO
penEditor(AbstractOpenEditorTestCase.java:24)
at 
org.eclipse.jst.server.tomcat.tests.performance.tomcat50.OpenEditorTestCase.test
OpenEditor(OpenEditorTestCase.java:27)
at org.eclipse.test.EclipseTestRunner.run(EclipseTestRunner.java:313)
at org.eclipse.test.EclipseTestRunner.run(EclipseTestRunner.java:199)
at org.eclipse.test.UITestApplication$3.run(UITestApplication.java:188)
at org.eclipse.swt.widgets.RunnableLock.run(RunnableLock.java:35)
at org.eclipse.swt.widgets.Synchronizer.runAsyncMessages(Synchronizer.java:123)
at org.eclipse.swt.widgets.Display.runAsyncMessages(Display.java:3057)
at org.eclipse.swt.widgets.Display.readAndDispatch(Display.java:2716)
at org.eclipse.ui.internal.Workbench.runEventLoop(Workbench.java:1699)
at org.eclipse.ui.internal.Workbench.runUI(Workbench.java:1663)
at org.eclipse.ui.internal.Workbench.createAndRunWorkbench(Workbench.java:367)
at org.eclipse.ui.PlatformUI.createAndRunWorkbench(PlatformUI.java:143)
at org.eclipse.ui.internal.ide.IDEApplication.run(IDEApplication.java:103)
at org.eclipse.test.UITestApplication.runApplication(UITestApplication.java:131)
at org.eclipse.test.UITestApplication.run(UITestApplication.java:58)
at org.eclipse.core.internal.runtime.PlatformActivator$1.run
(PlatformActivator.java:226)
at org.eclipse.core.runtime.adaptor.EclipseStarter.run(EclipseStarter.java:376)
at org.eclipse.core.runtime.adaptor.EclipseStarter.run(EclipseStarter.java:163)
at org.eclipse.core.launcher.Main.invokeFramework(Main.java:334)
at org.eclipse.core.launcher.Main.basicRun(Main.java:278)
at org.eclipse.core.launcher.Main.run(Main.java:973)
at org.eclipse.core.launcher.Main.main(Main.java:948)
This is because our open editor is assuming StructuredTextEditor, but in the
case of XML, it's the XML Multipage editor.  We can probably fix this by
explicitly opening the editor for a certain editor ID.

Not sure if we even still have an XML one though. that might have been an
unresolved issue.
Please ignore my last comment, I pasted the wrong exception. Here's the correct 
one:


java.lang.ClassCastException
at org.eclipse.wst.xml.ui.tests.performance.BasicEditorTest.openEditor
(BasicEditorTest.java:101)
at org.eclipse.wst.xml.ui.tests.performance.OpenEditorTest.testOpenEditor
(OpenEditorTest.java:43)
at org.eclipse.test.EclipseTestRunner.run(EclipseTestRunner.java:313)
at org.eclipse.test.EclipseTestRunner.run(EclipseTestRunner.java:199)
at org.eclipse.test.UITestApplication$3.run(UITestApplication.java:188)
at org.eclipse.swt.widgets.RunnableLock.run(RunnableLock.java:35)
at org.eclipse.swt.widgets.Synchronizer.runAsyncMessages(Synchronizer.java:123)
at org.eclipse.swt.widgets.Display.runAsyncMessages(Display.java:3057)
at org.eclipse.swt.widgets.Display.readAndDispatch(Display.java:2716)


java.lang.ClassCastException
at org.eclipse.wst.xml.ui.tests.performance.BasicEditorTest.openEditor
(BasicEditorTest.java:101)
at org.eclipse.wst.xml.ui.tests.performance.BasicEditorTest.setUpEditor
(BasicEditorTest.java:88)
at org.eclipse.wst.xml.ui.tests.performance.FormatTest.testFormat
(FormatTest.java:41)
at org.eclipse.test.EclipseTestRunner.run(EclipseTestRunner.java:313)
at org.eclipse.test.EclipseTestRunner.run(EclipseTestRunner.java:199)
at org.eclipse.test.UITestApplication$3.run(UITestApplication.java:188


java.lang.ClassCastException
at org.eclipse.wst.xml.ui.tests.performance.BasicEditorTest.openEditor
(BasicEditorTest.java:101)
at org.eclipse.wst.xml.ui.tests.performance.BasicEditorTest.setUpEditor
(BasicEditorTest.java:88)
at org.eclipse.wst.xml.ui.tests.performance.FormatTest.testFormat
(FormatTest.java:41)
at org.eclipse.test.EclipseTestRunner.run(EclipseTestRunner.java:313)
at org.eclipse.test.EclipseTestRunner.run(EclipseTestRunner.java:199)
at org.eclipse.test.UITestApplication$3.run(UITestApplication.java:


java.lang.ClassCastException
at org.eclipse.wst.xml.ui.tests.performance.BasicEditorTest.openEditor
(BasicEditorTest.java:101)
at org.eclipse.wst.xml.ui.tests.performance.BasicEditorTest.setUpEditor
(BasicEditorTest.java:88)
at org.eclipse.wst.xml.ui.tests.performance.ScrollTest.testScrolling
(ScrollTest.java:39)
at org.eclipse.test.EclipseTestRunner.run(EclipseTestRunner.java:313)
at org.eclipse.test.EclipseTestRunner.run(EclipseTestRunner.java:199)
at org.eclipse.test.UITestApplication$3.run(UITestApplication.java:188)
at org.eclipse.swt.widgets.RunnableLock.run(RunnableLock.java:35)


Fix in HEAD.
Using getAdapter() (for text editor) to get editor to take care of multipage
editor case.
Closing bug.</WithStack>
    <WithOutStack>wst.xml.ui performance test throws ClassCastException. Details below:





This is because our open editor is assuming StructuredTextEditor, but in the
case of XML, it's the XML Multipage editor.  We can probably fix this by
explicitly opening the editor for a certain editor ID.

Not sure if we even still have an XML one though. that might have been an
unresolved issue.
Please ignore my last comment, I pasted the wrong exception. Here's the correct 
one:




at org.eclipse.test.UITestApplication$3.run(UITestApplication.java:188





Fix in HEAD.
Using getAdapter() (for text editor) to get editor to take care of multipage
editor case.
Closing bug.</WithOutStack>
  </Bug>
  <Bug>
    <BugId amount="110874" />
    <CreationDate amount="2005-09-27 17:19:00 -0400" />
    <DupId amount="" />
    <classification amount="Eclipse" />
    <Product amount="Platform" />
    <component amount="UI" />
    <Version amount="3.1" />
    <rep_platform amount="All" />
    <op_sys amount="All" />
    <priority amount="P3" />
    <bug_severity amount="normal" />
    <Summery>Second plugin_customization.ini file confusing</Summery>
    <Patches amount="0" />
    <Stacktraces amount="0" />
    <SourceCodeRegions amount="0" />
    <Enumerations amount="0" />
    <bug_status amount="VERIFIED" />
    <resolution amount="FIXED" />
    <WithStack>I have some concerns about how the plugin_customization.ini file exists in the  
current Eclipse SDK.  
  
It used to be, in Eclipse 3.0, that there was one plugin_customization.ini  
file in org.eclipse.platform_3.0.0.  Editing this file would control a whole  
host of power-user and RCP application options.  These kinds of option would  
frequently be mentioned in bug reports or newsgroup postings.  
  
In Eclipse 3.1, it appears that it has been copied over to  
org.eclipse.sdk_3.1.0.  However, the old plugin_customization.ini still  
exists.  And so, anyone following old instructions will not immediately  
realize that they are doing something wrong.  
  
Take a look at some of the current top hits from Google for  
"plugin_customization.ini".  
  
This leads to bugs like Bug 103621, where neither the user nor the developer  
who originally implemented the feature has any idea what's going wrong.  
  
  
I'm not sure that we can back out of making the new plugin, but a big shiny  
warning at the top of the platform plugin_customization.ini might be helpful.
seems reasonable
I've added the following to the plugin_customization.ini file in org.eclipse.platform:

# WARNING: This file defines the preference overrides for the Platform build 
# (the one with no JDT or PDE), not the SDK build (aka the IDE).  
# For the SDK build, use the plugin_customization.ini file in the 
# org.eclipse.sdk plug-in instead.

Sonia, can you please ensure that this makes its way into the next I-build?
I have not versioned-off the project.

Verified in RC3.</WithStack>
    <WithOutStack>I have some concerns about how the plugin_customization.ini file exists in the  
current Eclipse SDK.  
  
It used to be, in Eclipse 3.0, that there was one plugin_customization.ini  
file in org.eclipse.platform_3.0.0.  Editing this file would control a whole  
host of power-user and RCP application options.  These kinds of option would  
frequently be mentioned in bug reports or newsgroup postings.  
  
In Eclipse 3.1, it appears that it has been copied over to  
org.eclipse.sdk_3.1.0.  However, the old plugin_customization.ini still  
exists.  And so, anyone following old instructions will not immediately  
realize that they are doing something wrong.  
  
Take a look at some of the current top hits from Google for  
"plugin_customization.ini".  
  
This leads to bugs like Bug 103621, where neither the user nor the developer  
who originally implemented the feature has any idea what's going wrong.  
  
  
I'm not sure that we can back out of making the new plugin, but a big shiny  
warning at the top of the platform plugin_customization.ini might be helpful.
seems reasonable
I've added the following to the plugin_customization.ini file in org.eclipse.platform:

# WARNING: This file defines the preference overrides for the Platform build 
# (the one with no JDT or PDE), not the SDK build (aka the IDE).  
# For the SDK build, use the plugin_customization.ini file in the 
# org.eclipse.sdk plug-in instead.

Sonia, can you please ensure that this makes its way into the next I-build?
I have not versioned-off the project.

Verified in RC3.</WithOutStack>
  </Bug>
  <Bug>
    <BugId amount="110875" />
    <CreationDate amount="2005-09-27 17:25:00 -0400" />
    <DupId amount="" />
    <classification amount="WebTools" />
    <Product amount="WTP ServerTools" />
    <component amount="wst.server" />
    <Version amount="1.0" />
    <rep_platform amount="PC" />
    <op_sys amount="Windows XP" />
    <priority amount="P3" />
    <bug_severity amount="normal" />
    <Summery>Update the server performance tests script to run AllTests.java instead of individual testcases</Summery>
    <Patches amount="0" />
    <Stacktraces amount="0" />
    <SourceCodeRegions amount="0" />
    <Enumerations amount="0" />
    <bug_status amount="CLOSED" />
    <resolution amount="FIXED" />
    <WithStack>Update the server performance tests script to run AllTests.java instead of 
individual testcases
Fixed.
Closing old bugs that haven't had any activity in a couple months. If this problem has not been verified or you still have problems, please open a new bug.</WithStack>
    <WithOutStack>Update the server performance tests script to run AllTests.java instead of 
individual testcases
Fixed.
Closing old bugs that haven't had any activity in a couple months. If this problem has not been verified or you still have problems, please open a new bug.</WithOutStack>
  </Bug>
  <Bug>
    <BugId amount="110876" />
    <CreationDate amount="2005-09-27 17:42:00 -0400" />
    <DupId amount="" />
    <classification amount="Tools" />
    <Product amount="Buckminster" />
    <component amount="Core" />
    <Version amount="1.0M1" />
    <rep_platform amount="All" />
    <op_sys amount="All" />
    <priority amount="P3" />
    <bug_severity amount="enhancement" />
    <Summery>Make generic treatment in AbstractBuckminsterBuilder of key/value builder specifics</Summery>
    <Patches amount="0" />
    <Stacktraces amount="0" />
    <SourceCodeRegions amount="0" />
    <Enumerations amount="0" />
    <bug_status amount="CLOSED" />
    <resolution amount="WONTFIX" />
    <WithStack>Make the whole procedure more data driven from stated keys, types and defaults.
This includes a default automatically generated UI (but which can be overridden).
Preferably based on extpoint settings to avoid having to instantiate objects.
Not relevant as such when Actions/performers come into place
-</WithStack>
    <WithOutStack>Make the whole procedure more data driven from stated keys, types and defaults.
This includes a default automatically generated UI (but which can be overridden).
Preferably based on extpoint settings to avoid having to instantiate objects.
Not relevant as such when Actions/performers come into place
-</WithOutStack>
  </Bug>
  <Bug>
    <BugId amount="110877" />
    <CreationDate amount="2005-09-27 17:42:00 -0400" />
    <DupId amount="" />
    <classification amount="Eclipse" />
    <Product amount="Platform" />
    <component amount="UI" />
    <Version amount="3.2" />
    <rep_platform amount="All" />
    <op_sys amount="All" />
    <priority amount="P3" />
    <bug_severity amount="normal" />
    <Summery>[Viewers] Can't add a root item using TreeViewer</Summery>
    <Patches amount="0" />
    <Stacktraces amount="0" />
    <SourceCodeRegions amount="0" />
    <Enumerations amount="0" />
    <bug_status amount="RESOLVED" />
    <resolution amount="WORKSFORME" />
    <WithStack>TreeViewer has two add methods inherited from AbstractTreeViewer. Neither 
allows you to add an item with a null parent, i.e. a root item. The only way 
to add root items is through the content provider, which is not always ideal.
To add a root item, call add and pass in the input as the first argument. Closing as worksforme.</WithStack>
    <WithOutStack>TreeViewer has two add methods inherited from AbstractTreeViewer. Neither 
allows you to add an item with a null parent, i.e. a root item. The only way 
to add root items is through the content provider, which is not always ideal.
To add a root item, call add and pass in the input as the first argument. Closing as worksforme.</WithOutStack>
  </Bug>
  <Bug>
    <BugId amount="110878" />
    <CreationDate amount="2005-09-27 17:50:00 -0400" />
    <DupId amount="" />
    <classification amount="Modeling" />
    <Product amount="EMF" />
    <component amount="Core" />
    <Version amount="2.0.2" />
    <rep_platform amount="PC" />
    <op_sys amount="Windows XP" />
    <priority amount="P3" />
    <bug_severity amount="major" />
    <Summery>URI deresolving should be case insensitive on Windows</Summery>
    <Patches amount="0" />
    <Stacktraces amount="0" />
    <SourceCodeRegions amount="0" />
    <Enumerations amount="0" />
    <bug_status amount="RESOLVED" />
    <resolution amount="INVALID" />
    <WithStack>The following line in the URI.dersolve method should be case insensitive on Windows:

if (equals(device, base.device()) &amp;&amp; (hasPath() || !base.hasPath()))

There may be other comparisons in the deresolve method that should be case
insensitive on Windows also.
Mark,

URIs should not behave differently on different platforms.

Just want to verify that you are saying that on an operating system where case 
does not matter that the deresolver should, in my opinion, fail because the 
case of the drive letter is different?  I really think that is incorrect.  
Clients on case insensitive OSs should not have to worry about normalizing 
paths so that EMF performs it's relative pathing correctly.
Mark,

Bugzillas are not the places to have differences of opinion, which seems to be
the case here. Now you appear to be talking about not just the device, but the
whole file path as well, all of which are case-insensitive on Windows.
Nevertheless, we will not design URIs that behave differently on different
platforms and that is by intentional design, not by accidental oversight. 

File URIs have other issues as well, not the least of which are that file:/c:/
file://c:/ and file:///c:/ all refer to the same resource.  And all URIs have
the issue of encoded characters verses non-encoded, e.g., %20 verses space. 

If any of these kind of issues are important in your application, it's possible
to specialize your URIConverter to normalize the different forms to a canonical
form making it your choice to have different behaviors on different platforms.

Keep in mind how easy it would be to screw up such a design.  For example, if
Windows mounts a Unix file system, are the files still case insensitive?


Ok thanks Ed and sorry for editorializing.</WithStack>
    <WithOutStack>The following line in the URI.dersolve method should be case insensitive on Windows:

if (equals(device, base.device()) &amp;&amp; (hasPath() || !base.hasPath()))

There may be other comparisons in the deresolve method that should be case
insensitive on Windows also.
Mark,

URIs should not behave differently on different platforms.

Just want to verify that you are saying that on an operating system where case 
does not matter that the deresolver should, in my opinion, fail because the 
case of the drive letter is different?  I really think that is incorrect.  
Clients on case insensitive OSs should not have to worry about normalizing 
paths so that EMF performs it's relative pathing correctly.
Mark,

Bugzillas are not the places to have differences of opinion, which seems to be
the case here. Now you appear to be talking about not just the device, but the
whole file path as well, all of which are case-insensitive on Windows.
Nevertheless, we will not design URIs that behave differently on different
platforms and that is by intentional design, not by accidental oversight. 

File URIs have other issues as well, not the least of which are that file:/c:/
file://c:/ and file:///c:/ all refer to the same resource.  And all URIs have
the issue of encoded characters verses non-encoded, e.g., %20 verses space. 

If any of these kind of issues are important in your application, it's possible
to specialize your URIConverter to normalize the different forms to a canonical
form making it your choice to have different behaviors on different platforms.

Keep in mind how easy it would be to screw up such a design.  For example, if
Windows mounts a Unix file system, are the files still case insensitive?


Ok thanks Ed and sorry for editorializing.</WithOutStack>
  </Bug>
  <Bug>
    <BugId amount="110879" />
    <CreationDate amount="2005-09-27 18:00:00 -0400" />
    <DupId amount="" />
    <classification amount="WebTools" />
    <Product amount="WTP Java EE Tools" />
    <component amount="jst.j2ee" />
    <Version amount="1.0" />
    <rep_platform amount="PC" />
    <op_sys amount="Windows XP" />
    <priority amount="P3" />
    <bug_severity amount="critical" />
    <Summery>Error exporting EAR file</Summery>
    <Patches amount="0" />
    <Stacktraces amount="3">
      <Stacktrace timestamp="1437330582222">
        <Exception>java.lang.reflect.InvocationTargetException</Exception>
        <Reason />
        <Frames>
          <Frame depth="0">org.eclipse.wst.common.frameworks.internal.ui.RunnableOperationWrapper.run(RunnableOperationWrapper.java:34)</Frame>
          <Frame depth="1">org.eclipse.jface.operation.ModalContext.runInCurrentThread(ModalContext.java:346)</Frame>
          <Frame depth="2">org.eclipse.jface.operation.ModalContext.run(ModalContext.java:291)</Frame>
          <Frame depth="3">org.eclipse.jface.wizard.WizardDialog.run(WizardDialog.java:830)</Frame>
          <Frame depth="4">org.eclipse.wst.common.frameworks.internal.datamodel.ui.DataModelWizard.performFinish(DataModelWizard.java:245)</Frame>
          <Frame depth="5">org.eclipse.jface.wizard.WizardDialog.finishPressed(WizardDialog.java:676)</Frame>
          <Frame depth="6">org.eclipse.jface.wizard.WizardDialog.buttonPressed(WizardDialog.java:349)</Frame>
          <Frame depth="7">org.eclipse.jface.dialogs.Dialog$2.widgetSelected(Dialog.java:556)</Frame>
          <Frame depth="8">org.eclipse.swt.widgets.TypedListener.handleEvent(TypedListener.java:90)</Frame>
          <Frame depth="9">org.eclipse.swt.widgets.EventTable.sendEvent(EventTable.java:66)</Frame>
          <Frame depth="10">org.eclipse.swt.widgets.Widget.sendEvent(Widget.java:843)</Frame>
          <Frame depth="11">org.eclipse.swt.widgets.Display.runDeferredEvents(Display.java:3080)</Frame>
          <Frame depth="12">org.eclipse.swt.widgets.Display.readAndDispatch(Display.java:2713)</Frame>
          <Frame depth="13">org.eclipse.jface.window.Window.runEventLoop(Window.java:809)</Frame>
          <Frame depth="14">org.eclipse.jface.window.Window.open(Window.java:787)</Frame>
          <Frame depth="15">org.eclipse.ui.actions.ExportResourcesAction.run(ExportResourcesAction.java:180)</Frame>
          <Frame depth="16">org.eclipse.ui.actions.BaseSelectionListenerAction.runWithEvent(BaseSelectionListenerAction.java:167)</Frame>
          <Frame depth="17">org.eclipse.jface.action.ActionContributionItem.handleWidgetSelection(ActionContributionItem.java:538)</Frame>
          <Frame depth="18">org.eclipse.jface.action.ActionContributionItem.access$2(ActionContributionItem.java:488)</Frame>
          <Frame depth="19">org.eclipse.jface.action.ActionContributionItem$5.handleEvent(ActionContributionItem.java:400)</Frame>
          <Frame depth="20">org.eclipse.swt.widgets.EventTable.sendEvent(EventTable.java:66)</Frame>
          <Frame depth="21">org.eclipse.swt.widgets.Widget.sendEvent(Widget.java:843)</Frame>
          <Frame depth="22">org.eclipse.swt.widgets.Display.runDeferredEvents(Display.java:3080)</Frame>
          <Frame depth="23">org.eclipse.swt.widgets.Display.readAndDispatch(Display.java:2713)</Frame>
          <Frame depth="24">org.eclipse.ui.internal.Workbench.runEventLoop(Workbench.java:1699)</Frame>
          <Frame depth="25">org.eclipse.ui.internal.Workbench.runUI(Workbench.java:1663)</Frame>
          <Frame depth="26">org.eclipse.ui.internal.Workbench.createAndRunWorkbench(Workbench.java:367)</Frame>
          <Frame depth="27">org.eclipse.ui.PlatformUI.createAndRunWorkbench(PlatformUI.java:143)</Frame>
          <Frame depth="28">org.eclipse.ui.internal.ide.IDEApplication.run(IDEApplication.java:103)</Frame>
          <Frame depth="29">org.eclipse.core.internal.runtime.PlatformActivator$1.run(PlatformActivator.java:226)</Frame>
          <Frame depth="30">org.eclipse.core.runtime.adaptor.EclipseStarter.run(EclipseStarter.java:376)</Frame>
          <Frame depth="31">org.eclipse.core.runtime.adaptor.EclipseStarter.run(EclipseStarter.java:163)</Frame>
          <Frame depth="32">sun.reflect.NativeMethodAccessorImpl.invoke0(Native Method)</Frame>
          <Frame depth="33">sun.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:85)</Frame>
          <Frame depth="34">sun.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:58)</Frame>
          <Frame depth="35">sun.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:60)</Frame>
          <Frame depth="36">java.lang.reflect.Method.invoke(Method.java:391)</Frame>
          <Frame depth="37">org.eclipse.core.launcher.Main.invokeFramework(Main.java:334)</Frame>
          <Frame depth="38">org.eclipse.core.launcher.Main.basicRun(Main.java:278)</Frame>
          <Frame depth="39">org.eclipse.core.launcher.Main.run(Main.java:973)</Frame>
          <Frame depth="40">org.eclipse.core.launcher.Main.main(Main.java:948)</Frame>
        </Frames>
      </Stacktrace>
      <Cause timestamp="1437330582222">
        <Exception>org.eclipse.core.commands.ExecutionException</Exception>
        <Reason>Error exportingEAR</Reason>
        <Frames>
          <Frame depth="0">org.eclipse.jst.j2ee.internal.archive.operations.J2EEArtifactExportOperation.execute(J2EEArtifactExportOperation.java:73)</Frame>
          <Frame depth="1">org.eclipse.wst.common.frameworks.internal.datamodel.ExtendableOperationImpl.doExecute(ExtendableOperationImpl.java:129)</Frame>
          <Frame depth="2">org.eclipse.wst.common.frameworks.internal.datamodel.ExtendableOperationImpl$1.run(ExtendableOperationImpl.java:109)</Frame>
          <Frame depth="3">org.eclipse.core.internal.resources.Workspace.run(Workspace.java:1719)</Frame>
          <Frame depth="4">org.eclipse.wst.common.frameworks.internal.datamodel.ExtendableOperationImpl.execute(ExtendableOperationImpl.java:117)</Frame>
          <Frame depth="5">org.eclipse.wst.common.frameworks.internal.ui.RunnableOperationWrapper.run(RunnableOperationWrapper.java:32)</Frame>
          <Frame depth="6">org.eclipse.jface.operation.ModalContext.runInCurrentThread(ModalContext.java:346)</Frame>
          <Frame depth="7">org.eclipse.jface.operation.ModalContext.run(ModalContext.java:291)</Frame>
          <Frame depth="8">org.eclipse.jface.wizard.WizardDialog.run(WizardDialog.java:830)</Frame>
          <Frame depth="9">org.eclipse.wst.common.frameworks.internal.datamodel.ui.DataModelWizard.performFinish(DataModelWizard.java:245)</Frame>
          <Frame depth="10">org.eclipse.jface.wizard.WizardDialog.finishPressed(WizardDialog.java:676)</Frame>
          <Frame depth="11">org.eclipse.jface.wizard.WizardDialog.buttonPressed(WizardDialog.java:349)</Frame>
          <Frame depth="12">org.eclipse.jface.dialogs.Dialog$2.widgetSelected(Dialog.java:556)</Frame>
          <Frame depth="13">org.eclipse.swt.widgets.TypedListener.handleEvent(TypedListener.java:90)</Frame>
          <Frame depth="14">org.eclipse.swt.widgets.EventTable.sendEvent(EventTable.java:66)</Frame>
          <Frame depth="15">org.eclipse.swt.widgets.Widget.sendEvent(Widget.java:843)</Frame>
          <Frame depth="16">org.eclipse.swt.widgets.Display.runDeferredEvents(Display.java:3080)</Frame>
          <Frame depth="17">org.eclipse.swt.widgets.Display.readAndDispatch(Display.java:2713)</Frame>
          <Frame depth="18">org.eclipse.jface.window.Window.runEventLoop(Window.java:809)</Frame>
          <Frame depth="19">org.eclipse.jface.window.Window.open(Window.java:787)</Frame>
          <Frame depth="20">org.eclipse.ui.actions.ExportResourcesAction.run(ExportResourcesAction.java:180)</Frame>
          <Frame depth="21">org.eclipse.ui.actions.BaseSelectionListenerAction.runWithEvent(BaseSelectionListenerAction.java:167)</Frame>
          <Frame depth="22">org.eclipse.jface.action.ActionContributionItem.handleWidgetSelection(ActionContributionItem.java:538)</Frame>
          <Frame depth="23">org.eclipse.jface.action.ActionContributionItem.access$2(ActionContributionItem.java:488)</Frame>
          <Frame depth="24">org.eclipse.jface.action.ActionContributionItem$5.handleEvent(ActionContributionItem.java:400)</Frame>
          <Frame depth="25">org.eclipse.swt.widgets.EventTable.sendEvent(EventTable.java:66)</Frame>
          <Frame depth="26">org.eclipse.swt.widgets.Widget.sendEvent(Widget.java:843)</Frame>
          <Frame depth="27">org.eclipse.swt.widgets.Display.runDeferredEvents(Display.java:3080)</Frame>
          <Frame depth="28">org.eclipse.swt.widgets.Display.readAndDispatch(Display.java:2713)</Frame>
          <Frame depth="29">org.eclipse.ui.internal.Workbench.runEventLoop(Workbench.java:1699)</Frame>
          <Frame depth="30">org.eclipse.ui.internal.Workbench.runUI(Workbench.java:1663)</Frame>
          <Frame depth="31">org.eclipse.ui.internal.Workbench.createAndRunWorkbench(Workbench.java:367)</Frame>
          <Frame depth="32">org.eclipse.ui.PlatformUI.createAndRunWorkbench(PlatformUI.java:143)</Frame>
          <Frame depth="33">org.eclipse.ui.internal.ide.IDEApplication.run(IDEApplication.java:103)</Frame>
          <Frame depth="34">org.eclipse.core.internal.runtime.PlatformActivator$1.run(PlatformActivator.java:226)</Frame>
          <Frame depth="35">org.eclipse.core.runtime.adaptor.EclipseStarter.run(EclipseStarter.java:376)</Frame>
          <Frame depth="36">org.eclipse.core.runtime.adaptor.EclipseStarter.run(EclipseStarter.java:163)</Frame>
          <Frame depth="37">sun.reflect.NativeMethodAccessorImpl.invoke0(Native Method)</Frame>
          <Frame depth="38">sun.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:85)</Frame>
          <Frame depth="39">sun.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:58)</Frame>
          <Frame depth="40">sun.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:60)</Frame>
          <Frame depth="41">java.lang.reflect.Method.invoke(Method.java:391)</Frame>
          <Frame depth="42">org.eclipse.core.launcher.Main.invokeFramework(Main.java:334)</Frame>
          <Frame depth="43">org.eclipse.core.launcher.Main.basicRun(Main.java:278)</Frame>
          <Frame depth="44">org.eclipse.core.launcher.Main.run(Main.java:973)</Frame>
          <Frame depth="45">org.eclipse.core.launcher.Main.main(Main.java:948)</Frame>
        </Frames>
      </Cause>
      <Stacktrace timestamp="1437330582222">
        <Exception>org.eclipse.jst.j2ee.commonarchivecore.internal.exception.SaveFailureException</Exception>
        <Reason>:
META-INF/backends/DB2UDBOS390NEWFN_V8_1/Map.mapxmi
!Stack_trace_of_nested_exce!
java.io.FileNotFoundException: Error: File not found.</Reason>
        <Frames>
          <Frame depth="0">org.eclipse.jst.j2ee.internal.archive.operations.ComponentLoadStrategyImpl.getInputStream(ComponentLoadStrategyImpl.java:228)</Frame>
          <Frame depth="1">org.eclipse.jst.j2ee.commonarchivecore.internal.impl.ContainerImpl.primGetInputStream(ContainerImpl.java:280)</Frame>
          <Frame depth="2">org.eclipse.jst.j2ee.commonarchivecore.internal.impl.FileImpl.getInputStream(FileImpl.java:177)</Frame>
          <Frame depth="3">org.eclipse.jst.j2ee.commonarchivecore.internal.helpers.FileIteratorImpl.getInputStream(FileIteratorImpl.java:40)</Frame>
          <Frame depth="4">org.eclipse.jst.j2ee.commonarchivecore.internal.strategy.SaveStrategyImpl.save(SaveStrategyImpl.java:128)</Frame>
          <Frame depth="5">org.eclipse.jst.j2ee.commonarchivecore.internal.strategy.SaveStrategyImpl.saveFiles(SaveStrategyImpl.java:145)</Frame>
          <Frame depth="6">org.eclipse.jst.j2ee.commonarchivecore.internal.strategy.SaveStrategyImpl.save(SaveStrategyImpl.java:100)</Frame>
          <Frame depth="7">org.eclipse.jst.j2ee.commonarchivecore.internal.impl.ArchiveImpl.save(ArchiveImpl.java:1233)</Frame>
          <Frame depth="8">org.eclipse.jst.j2ee.commonarchivecore.internal.impl.ModuleFileImpl.save(ModuleFileImpl.java:364)</Frame>
          <Frame depth="9">org.eclipse.jst.j2ee.commonarchivecore.internal.strategy.SaveStrategyImpl.save(SaveStrategyImpl.java:114)</Frame>
          <Frame depth="10">org.eclipse.jst.j2ee.commonarchivecore.internal.strategy.ZipStreamSaveStrategyImpl.save(ZipStreamSaveStrategyImpl.java:121)</Frame>
          <Frame depth="11">org.eclipse.jst.j2ee.commonarchivecore.internal.strategy.SaveStrategyImpl.save(SaveStrategyImpl.java:123)</Frame>
          <Frame depth="12">org.eclipse.jst.j2ee.commonarchivecore.internal.strategy.SaveStrategyImpl.saveFiles(SaveStrategyImpl.java:145)</Frame>
          <Frame depth="13">org.eclipse.jst.j2ee.commonarchivecore.internal.strategy.SaveStrategyImpl.save(SaveStrategyImpl.java:100)</Frame>
          <Frame depth="14">org.eclipse.jst.j2ee.commonarchivecore.internal.impl.ArchiveImpl.save(ArchiveImpl.java:1233)</Frame>
          <Frame depth="15">org.eclipse.jst.j2ee.commonarchivecore.internal.impl.ModuleFileImpl.save(ModuleFileImpl.java:364)</Frame>
          <Frame depth="16">org.eclipse.jst.j2ee.commonarchivecore.internal.impl.ArchiveImpl.saveAsNoReopen(ArchiveImpl.java:1328)</Frame>
          <Frame depth="17">org.eclipse.jst.j2ee.internal.archive.operations.EARComponentExportOperation.export(EARComponentExportOperation.java:36)</Frame>
          <Frame depth="18">org.eclipse.jst.j2ee.internal.archive.operations.J2EEArtifactExportOperation.execute(J2EEArtifactExportOperation.java:71)</Frame>
          <Frame depth="19">org.eclipse.wst.common.frameworks.internal.datamodel.ExtendableOperationImpl.doExecute(ExtendableOperationImpl.java:129)</Frame>
          <Frame depth="20">org.eclipse.wst.common.frameworks.internal.datamodel.ExtendableOperationImpl$1.run(ExtendableOperationImpl.java:109)</Frame>
          <Frame depth="21">org.eclipse.core.internal.resources.Workspace.run(Workspace.java:1719)</Frame>
          <Frame depth="22">org.eclipse.wst.common.frameworks.internal.datamodel.ExtendableOperationImpl.execute(ExtendableOperationImpl.java:117)</Frame>
          <Frame depth="23">org.eclipse.wst.common.frameworks.internal.ui.RunnableOperationWrapper.run(RunnableOperationWrapper.java:32)</Frame>
          <Frame depth="24">org.eclipse.jface.operation.ModalContext.runInCurrentThread(ModalContext.java:346)</Frame>
          <Frame depth="25">org.eclipse.jface.operation.ModalContext.run(ModalContext.java:291)</Frame>
          <Frame depth="26">org.eclipse.jface.wizard.WizardDialog.run(WizardDialog.java:830)</Frame>
          <Frame depth="27">org.eclipse.wst.common.frameworks.internal.datamodel.ui.DataModelWizard.performFinish(DataModelWizard.java:245)</Frame>
          <Frame depth="28">org.eclipse.jface.wizard.WizardDialog.finishPressed(WizardDialog.java:676)</Frame>
          <Frame depth="29">org.eclipse.jface.wizard.WizardDialog.buttonPressed(WizardDialog.java:349)</Frame>
          <Frame depth="30">org.eclipse.jface.dialogs.Dialog$2.widgetSelected(Dialog.java:556)</Frame>
          <Frame depth="31">org.eclipse.swt.widgets.TypedListener.handleEvent(TypedListener.java:90)</Frame>
          <Frame depth="32">org.eclipse.swt.widgets.EventTable.sendEvent(EventTable.java:66)</Frame>
          <Frame depth="33">org.eclipse.swt.widgets.Widget.sendEvent(Widget.java:843)</Frame>
          <Frame depth="34">org.eclipse.swt.widgets.Display.runDeferredEvents(Display.java:3080)</Frame>
          <Frame depth="35">org.eclipse.swt.widgets.Display.readAndDispatch(Display.java:2713)</Frame>
          <Frame depth="36">org.eclipse.jface.window.Window.runEventLoop(Window.java:809)</Frame>
          <Frame depth="37">org.eclipse.jface.window.Window.open(Window.java:787)</Frame>
          <Frame depth="38">org.eclipse.ui.actions.ExportResourcesAction.run(ExportResourcesAction.java:180)</Frame>
          <Frame depth="39">org.eclipse.ui.actions.BaseSelectionListenerAction.runWithEvent(BaseSelectionListenerAction.java:167)</Frame>
          <Frame depth="40">org.eclipse.jface.action.ActionContributionItem.handleWidgetSelection(ActionContributionItem.java:538)</Frame>
          <Frame depth="41">org.eclipse.jface.action.ActionContributionItem.access$2(ActionContributionItem.java:488)</Frame>
          <Frame depth="42">org.eclipse.jface.action.ActionContributionItem$5.handleEvent(ActionContributionItem.java:400)</Frame>
          <Frame depth="43">org.eclipse.swt.widgets.EventTable.sendEvent(EventTable.java:66)</Frame>
          <Frame depth="44">org.eclipse.swt.widgets.Widget.sendEvent(Widget.java:843)</Frame>
          <Frame depth="45">org.eclipse.swt.widgets.Display.runDeferredEvents(Display.java:3080)</Frame>
          <Frame depth="46">org.eclipse.swt.widgets.Display.readAndDispatch(Display.java:2713)</Frame>
          <Frame depth="47">org.eclipse.ui.internal.Workbench.runEventLoop(Workbench.java:1699)</Frame>
          <Frame depth="48">org.eclipse.ui.internal.Workbench.runUI(Workbench.java:1663)</Frame>
          <Frame depth="49">org.eclipse.ui.internal.Workbench.createAndRunWorkbench(Workbench.java:367)</Frame>
          <Frame depth="50">org.eclipse.ui.PlatformUI.createAndRunWorkbench(PlatformUI.java:143)</Frame>
          <Frame depth="51">org.eclipse.ui.internal.ide.IDEApplication.run(IDEApplication.java:103)</Frame>
          <Frame depth="52">org.eclipse.core.internal.runtime.PlatformActivator$1.run(PlatformActivator.java:226)</Frame>
          <Frame depth="53">org.eclipse.core.runtime.adaptor.EclipseStarter.run(EclipseStarter.java:376)</Frame>
          <Frame depth="54">org.eclipse.core.runtime.adaptor.EclipseStarter.run(EclipseStarter.java:163)</Frame>
          <Frame depth="55">sun.reflect.NativeMethodAccessorImpl.invoke0(Native Method)</Frame>
          <Frame depth="56">sun.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:85)</Frame>
          <Frame depth="57">sun.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:58)</Frame>
          <Frame depth="58">sun.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:60)</Frame>
          <Frame depth="59">java.lang.reflect.Method.invoke(Method.java:391)</Frame>
          <Frame depth="60">org.eclipse.core.launcher.Main.invokeFramework(Main.java:334)</Frame>
          <Frame depth="61">org.eclipse.core.launcher.Main.basicRun(Main.java:278)</Frame>
          <Frame depth="62">org.eclipse.core.launcher.Main.run(Main.java:973)</Frame>
          <Frame depth="63">org.eclipse.core.launcher.Main.main(Main.java:948)</Frame>
        </Frames>
      </Stacktrace>
    </Stacktraces>
    <SourceCodeRegions amount="0" />
    <Enumerations amount="0" />
    <bug_status amount="CLOSED" />
    <resolution amount="FIXED" />
    <WithStack>The following error occurred when trying to export an EAR file:

java.lang.reflect.InvocationTargetException
	at
org.eclipse.wst.common.frameworks.internal.ui.RunnableOperationWrapper.run(RunnableOperationWrapper.java:34)
	at
org.eclipse.jface.operation.ModalContext.runInCurrentThread(ModalContext.java:346)
	at org.eclipse.jface.operation.ModalContext.run(ModalContext.java:291)
	at org.eclipse.jface.wizard.WizardDialog.run(WizardDialog.java:830)
	at
org.eclipse.wst.common.frameworks.internal.datamodel.ui.DataModelWizard.performFinish(DataModelWizard.java:245)
	at org.eclipse.jface.wizard.WizardDialog.finishPressed(WizardDialog.java:676)
	at org.eclipse.jface.wizard.WizardDialog.buttonPressed(WizardDialog.java:349)
	at org.eclipse.jface.dialogs.Dialog$2.widgetSelected(Dialog.java:556)
	at org.eclipse.swt.widgets.TypedListener.handleEvent(TypedListener.java:90)
	at org.eclipse.swt.widgets.EventTable.sendEvent(EventTable.java:66)
	at org.eclipse.swt.widgets.Widget.sendEvent(Widget.java:843)
	at org.eclipse.swt.widgets.Display.runDeferredEvents(Display.java:3080)
	at org.eclipse.swt.widgets.Display.readAndDispatch(Display.java:2713)
	at org.eclipse.jface.window.Window.runEventLoop(Window.java:809)
	at org.eclipse.jface.window.Window.open(Window.java:787)
	at org.eclipse.ui.actions.ExportResourcesAction.run(ExportResourcesAction.java:180)
	at
org.eclipse.ui.actions.BaseSelectionListenerAction.runWithEvent(BaseSelectionListenerAction.java:167)
	at
org.eclipse.jface.action.ActionContributionItem.handleWidgetSelection(ActionContributionItem.java:538)
	at
org.eclipse.jface.action.ActionContributionItem.access$2(ActionContributionItem.java:488)
	at
org.eclipse.jface.action.ActionContributionItem$5.handleEvent(ActionContributionItem.java:400)
	at org.eclipse.swt.widgets.EventTable.sendEvent(EventTable.java:66)
	at org.eclipse.swt.widgets.Widget.sendEvent(Widget.java:843)
	at org.eclipse.swt.widgets.Display.runDeferredEvents(Display.java:3080)
	at org.eclipse.swt.widgets.Display.readAndDispatch(Display.java:2713)
	at org.eclipse.ui.internal.Workbench.runEventLoop(Workbench.java:1699)
	at org.eclipse.ui.internal.Workbench.runUI(Workbench.java:1663)
	at org.eclipse.ui.internal.Workbench.createAndRunWorkbench(Workbench.java:367)
	at org.eclipse.ui.PlatformUI.createAndRunWorkbench(PlatformUI.java:143)
	at org.eclipse.ui.internal.ide.IDEApplication.run(IDEApplication.java:103)
	at
org.eclipse.core.internal.runtime.PlatformActivator$1.run(PlatformActivator.java:226)
	at org.eclipse.core.runtime.adaptor.EclipseStarter.run(EclipseStarter.java:376)
	at org.eclipse.core.runtime.adaptor.EclipseStarter.run(EclipseStarter.java:163)
	at sun.reflect.NativeMethodAccessorImpl.invoke0(Native Method)
	at sun.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:85)
	at sun.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:58)
	at
sun.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:60)
	at java.lang.reflect.Method.invoke(Method.java:391)
	at org.eclipse.core.launcher.Main.invokeFramework(Main.java:334)
	at org.eclipse.core.launcher.Main.basicRun(Main.java:278)
	at org.eclipse.core.launcher.Main.run(Main.java:973)
	at org.eclipse.core.launcher.Main.main(Main.java:948)
Caused by: org.eclipse.core.commands.ExecutionException: Error exportingEAR
	at
org.eclipse.jst.j2ee.internal.archive.operations.J2EEArtifactExportOperation.execute(J2EEArtifactExportOperation.java:73)
	at
org.eclipse.wst.common.frameworks.internal.datamodel.ExtendableOperationImpl.doExecute(ExtendableOperationImpl.java:129)
	at
org.eclipse.wst.common.frameworks.internal.datamodel.ExtendableOperationImpl$1.run(ExtendableOperationImpl.java:109)
	at org.eclipse.core.internal.resources.Workspace.run(Workspace.java:1719)
	at
org.eclipse.wst.common.frameworks.internal.datamodel.ExtendableOperationImpl.execute(ExtendableOperationImpl.java:117)
	at
org.eclipse.wst.common.frameworks.internal.ui.RunnableOperationWrapper.run(RunnableOperationWrapper.java:32)
	at
org.eclipse.jface.operation.ModalContext.runInCurrentThread(ModalContext.java:346)
	at org.eclipse.jface.operation.ModalContext.run(ModalContext.java:291)
	at org.eclipse.jface.wizard.WizardDialog.run(WizardDialog.java:830)
	at
org.eclipse.wst.common.frameworks.internal.datamodel.ui.DataModelWizard.performFinish(DataModelWizard.java:245)
	at org.eclipse.jface.wizard.WizardDialog.finishPressed(WizardDialog.java:676)
	at org.eclipse.jface.wizard.WizardDialog.buttonPressed(WizardDialog.java:349)
	at org.eclipse.jface.dialogs.Dialog$2.widgetSelected(Dialog.java:556)
	at org.eclipse.swt.widgets.TypedListener.handleEvent(TypedListener.java:90)
	at org.eclipse.swt.widgets.EventTable.sendEvent(EventTable.java:66)
	at org.eclipse.swt.widgets.Widget.sendEvent(Widget.java:843)
	at org.eclipse.swt.widgets.Display.runDeferredEvents(Display.java:3080)
	at org.eclipse.swt.widgets.Display.readAndDispatch(Display.java:2713)
	at org.eclipse.jface.window.Window.runEventLoop(Window.java:809)
	at org.eclipse.jface.window.Window.open(Window.java:787)
	at org.eclipse.ui.actions.ExportResourcesAction.run(ExportResourcesAction.java:180)
	at
org.eclipse.ui.actions.BaseSelectionListenerAction.runWithEvent(BaseSelectionListenerAction.java:167)
	at
org.eclipse.jface.action.ActionContributionItem.handleWidgetSelection(ActionContributionItem.java:538)
	at
org.eclipse.jface.action.ActionContributionItem.access$2(ActionContributionItem.java:488)
	at
org.eclipse.jface.action.ActionContributionItem$5.handleEvent(ActionContributionItem.java:400)
	at org.eclipse.swt.widgets.EventTable.sendEvent(EventTable.java:66)
	at org.eclipse.swt.widgets.Widget.sendEvent(Widget.java:843)
	at org.eclipse.swt.widgets.Display.runDeferredEvents(Display.java:3080)
	at org.eclipse.swt.widgets.Display.readAndDispatch(Display.java:2713)
	at org.eclipse.ui.internal.Workbench.runEventLoop(Workbench.java:1699)
	at org.eclipse.ui.internal.Workbench.runUI(Workbench.java:1663)
	at org.eclipse.ui.internal.Workbench.createAndRunWorkbench(Workbench.java:367)
	at org.eclipse.ui.PlatformUI.createAndRunWorkbench(PlatformUI.java:143)
	at org.eclipse.ui.internal.ide.IDEApplication.run(IDEApplication.java:103)
	at
org.eclipse.core.internal.runtime.PlatformActivator$1.run(PlatformActivator.java:226)
	at org.eclipse.core.runtime.adaptor.EclipseStarter.run(EclipseStarter.java:376)
	at org.eclipse.core.runtime.adaptor.EclipseStarter.run(EclipseStarter.java:163)
	at sun.reflect.NativeMethodAccessorImpl.invoke0(Native Method)
	at sun.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:85)
	at sun.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:58)
	at
sun.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:60)
	at java.lang.reflect.Method.invoke(Method.java:391)
	at org.eclipse.core.launcher.Main.invokeFramework(Main.java:334)
	at org.eclipse.core.launcher.Main.basicRun(Main.java:278)
	at org.eclipse.core.launcher.Main.run(Main.java:973)
	at org.eclipse.core.launcher.Main.main(Main.java:948)
Caused by:
org.eclipse.jst.j2ee.commonarchivecore.internal.exception.SaveFailureException:
META-INF/backends/DB2UDBOS390NEWFN_V8_1/Map.mapxmi
!Stack_trace_of_nested_exce!
java.io.FileNotFoundException: Error: File not found.
	at
org.eclipse.jst.j2ee.internal.archive.operations.ComponentLoadStrategyImpl.getInputStream(ComponentLoadStrategyImpl.java:228)
	at
org.eclipse.jst.j2ee.commonarchivecore.internal.impl.ContainerImpl.primGetInputStream(ContainerImpl.java:280)
	at
org.eclipse.jst.j2ee.commonarchivecore.internal.impl.FileImpl.getInputStream(FileImpl.java:177)
	at
org.eclipse.jst.j2ee.commonarchivecore.internal.helpers.FileIteratorImpl.getInputStream(FileIteratorImpl.java:40)
	at
org.eclipse.jst.j2ee.commonarchivecore.internal.strategy.SaveStrategyImpl.save(SaveStrategyImpl.java:128)
	at
org.eclipse.jst.j2ee.commonarchivecore.internal.strategy.SaveStrategyImpl.saveFiles(SaveStrategyImpl.java:145)
	at
org.eclipse.jst.j2ee.commonarchivecore.internal.strategy.SaveStrategyImpl.save(SaveStrategyImpl.java:100)
	at
org.eclipse.jst.j2ee.commonarchivecore.internal.impl.ArchiveImpl.save(ArchiveImpl.java:1233)
	at
org.eclipse.jst.j2ee.commonarchivecore.internal.impl.ModuleFileImpl.save(ModuleFileImpl.java:364)
	at
org.eclipse.jst.j2ee.commonarchivecore.internal.strategy.SaveStrategyImpl.save(SaveStrategyImpl.java:114)
	at
org.eclipse.jst.j2ee.commonarchivecore.internal.strategy.ZipStreamSaveStrategyImpl.save(ZipStreamSaveStrategyImpl.java:121)
	at
org.eclipse.jst.j2ee.commonarchivecore.internal.strategy.SaveStrategyImpl.save(SaveStrategyImpl.java:123)
	at
org.eclipse.jst.j2ee.commonarchivecore.internal.strategy.SaveStrategyImpl.saveFiles(SaveStrategyImpl.java:145)
	at
org.eclipse.jst.j2ee.commonarchivecore.internal.strategy.SaveStrategyImpl.save(SaveStrategyImpl.java:100)
	at
org.eclipse.jst.j2ee.commonarchivecore.internal.impl.ArchiveImpl.save(ArchiveImpl.java:1233)
	at
org.eclipse.jst.j2ee.commonarchivecore.internal.impl.ModuleFileImpl.save(ModuleFileImpl.java:364)
	at
org.eclipse.jst.j2ee.commonarchivecore.internal.impl.ArchiveImpl.saveAsNoReopen(ArchiveImpl.java:1328)
	at
org.eclipse.jst.j2ee.internal.archive.operations.EARComponentExportOperation.export(EARComponentExportOperation.java:36)
	at
org.eclipse.jst.j2ee.internal.archive.operations.J2EEArtifactExportOperation.execute(J2EEArtifactExportOperation.java:71)
	at
org.eclipse.wst.common.frameworks.internal.datamodel.ExtendableOperationImpl.doExecute(ExtendableOperationImpl.java:129)
	at
org.eclipse.wst.common.frameworks.internal.datamodel.ExtendableOperationImpl$1.run(ExtendableOperationImpl.java:109)
	at org.eclipse.core.internal.resources.Workspace.run(Workspace.java:1719)
	at
org.eclipse.wst.common.frameworks.internal.datamodel.ExtendableOperationImpl.execute(ExtendableOperationImpl.java:117)
	at
org.eclipse.wst.common.frameworks.internal.ui.RunnableOperationWrapper.run(RunnableOperationWrapper.java:32)
	at
org.eclipse.jface.operation.ModalContext.runInCurrentThread(ModalContext.java:346)
	at org.eclipse.jface.operation.ModalContext.run(ModalContext.java:291)
	at org.eclipse.jface.wizard.WizardDialog.run(WizardDialog.java:830)
	at
org.eclipse.wst.common.frameworks.internal.datamodel.ui.DataModelWizard.performFinish(DataModelWizard.java:245)
	at org.eclipse.jface.wizard.WizardDialog.finishPressed(WizardDialog.java:676)
	at org.eclipse.jface.wizard.WizardDialog.buttonPressed(WizardDialog.java:349)
	at org.eclipse.jface.dialogs.Dialog$2.widgetSelected(Dialog.java:556)
	at org.eclipse.swt.widgets.TypedListener.handleEvent(TypedListener.java:90)
	at org.eclipse.swt.widgets.EventTable.sendEvent(EventTable.java:66)
	at org.eclipse.swt.widgets.Widget.sendEvent(Widget.java:843)
	at org.eclipse.swt.widgets.Display.runDeferredEvents(Display.java:3080)
	at org.eclipse.swt.widgets.Display.readAndDispatch(Display.java:2713)
	at org.eclipse.jface.window.Window.runEventLoop(Window.java:809)
	at org.eclipse.jface.window.Window.open(Window.java:787)
	at org.eclipse.ui.actions.ExportResourcesAction.run(ExportResourcesAction.java:180)
	at
org.eclipse.ui.actions.BaseSelectionListenerAction.runWithEvent(BaseSelectionListenerAction.java:167)
	at
org.eclipse.jface.action.ActionContributionItem.handleWidgetSelection(ActionContributionItem.java:538)
	at
org.eclipse.jface.action.ActionContributionItem.access$2(ActionContributionItem.java:488)
	at
org.eclipse.jface.action.ActionContributionItem$5.handleEvent(ActionContributionItem.java:400)
	at org.eclipse.swt.widgets.EventTable.sendEvent(EventTable.java:66)
	at org.eclipse.swt.widgets.Widget.sendEvent(Widget.java:843)
	at org.eclipse.swt.widgets.Display.runDeferredEvents(Display.java:3080)
	at org.eclipse.swt.widgets.Display.readAndDispatch(Display.java:2713)
	at org.eclipse.ui.internal.Workbench.runEventLoop(Workbench.java:1699)
	at org.eclipse.ui.internal.Workbench.runUI(Workbench.java:1663)
	at org.eclipse.ui.internal.Workbench.createAndRunWorkbench(Workbench.java:367)
	at org.eclipse.ui.PlatformUI.createAndRunWorkbench(PlatformUI.java:143)
	at org.eclipse.ui.internal.ide.IDEApplication.run(IDEApplication.java:103)
	at
org.eclipse.core.internal.runtime.PlatformActivator$1.run(PlatformActivator.java:226)
	at org.eclipse.core.runtime.adaptor.EclipseStarter.run(EclipseStarter.java:376)
	at org.eclipse.core.runtime.adaptor.EclipseStarter.run(EclipseStarter.java:163)
	at sun.reflect.NativeMethodAccessorImpl.invoke0(Native Method)
	at sun.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:85)
	at sun.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:58)
	at
sun.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:60)
	at java.lang.reflect.Method.invoke(Method.java:391)
	at org.eclipse.core.launcher.Main.invokeFramework(Main.java:334)
	at org.eclipse.core.launcher.Main.basicRun(Main.java:278)
	at org.eclipse.core.launcher.Main.run(Main.java:973)
	at org.eclipse.core.launcher.Main.main(Main.java:948)
What are the steps to reproduce?
Haven't heard from you about how to reproduce.  Is this still a problem?
Sorry, this was fixed by moving to M8 + patches and the person who reported this
to me has verified that.
fixed already.
closing.</WithStack>
    <WithOutStack>The following error occurred when trying to export an EAR file:

Caused by:

What are the steps to reproduce?
Haven't heard from you about how to reproduce.  Is this still a problem?
Sorry, this was fixed by moving to M8 + patches and the person who reported this
to me has verified that.
fixed already.
closing.</WithOutStack>
  </Bug>
  <Bug>
    <BugId amount="110880" />
    <CreationDate amount="2005-09-27 18:02:00 -0400" />
    <DupId amount="" />
    <classification amount="WebTools" />
    <Product amount="WTP ServerTools" />
    <component amount="jst.server" />
    <Version amount="1.0" />
    <rep_platform amount="PC" />
    <op_sys amount="Windows XP" />
    <priority amount="P3" />
    <bug_severity amount="normal" />
    <Summery>Declare Server Tools API for WTP 1.0</Summery>
    <Patches amount="0" />
    <Stacktraces amount="0" />
    <SourceCodeRegions amount="0" />
    <Enumerations amount="0" />
    <bug_status amount="CLOSED" />
    <resolution amount="FIXED" />
    <WithStack>Opening bug to track the server tools API work (wst and jst) for WTP 1.0.
Adding dependancy on WTP API bug.
Correcting dependencies. This bug defines part of the JST 1.0 API, so it should 
be marked as blocking the master JST 1.0 API bug which is bug 110276.
Since we're done M9 and have no pending API changes, I'm declaring this bug complete and closing it.
Verified.</WithStack>
    <WithOutStack>Opening bug to track the server tools API work (wst and jst) for WTP 1.0.
Adding dependancy on WTP API bug.
Correcting dependencies. This bug defines part of the JST 1.0 API, so it should 
be marked as blocking the master JST 1.0 API bug which is bug 110276.
Since we're done M9 and have no pending API changes, I'm declaring this bug complete and closing it.
Verified.</WithOutStack>
  </Bug>
  <Bug>
    <BugId amount="110881" />
    <CreationDate amount="2005-09-27 18:40:00 -0400" />
    <DupId amount="110026" />
    <classification amount="Eclipse" />
    <Product amount="JDT" />
    <component amount="UI" />
    <Version amount="3.1" />
    <rep_platform amount="PC" />
    <op_sys amount="Windows XP" />
    <priority amount="P3" />
    <bug_severity amount="trivial" />
    <Summery>enum - Source tools - Generate Constructor Using fields</Summery>
    <Patches amount="0" />
    <Stacktraces amount="0" />
    <SourceCodeRegions amount="1">
      <source_code type="functiondef">
        <location start="285" end="458" />
        <code>public Tipos(String arg0, int arg1, int codigo, String nome) {
		super(arg0, arg1);
		// TODO Auto-generated constructor stub
		this.codigo = codigo;
		this.nome = nome;
	}</code>
      </source_code>
    </SourceCodeRegions>
    <Enumerations amount="1">
      <Enumeration lines="5">
        <Lines>
          <Line>- The public access modifier is not allowed for enums constructors (so do</Line>
          <Line>private and protected) then the option public should be disabled and</Line>
          <Line>default option would be marked by default.</Line>
          <Line>- The generated constructor has 4 arguments (just codigo and nome has been</Line>
          <Line>marked)</Line>
        </Lines>
      </Enumeration>
    </Enumerations>
    <bug_status amount="RESOLVED" />
    <resolution amount="DUPLICATE" />
    <WithStack>I've tried to use "Generate Constructor Using fields" at the Source menu in the
following code:
enum Tipos {		
	COMBUSTIVEL;
	
	private int codigo;
	private String nome;
}

It has generated the following code:

enum Tipos {		
	COMBUSTIVEL;
	
	private int codigo;
	private String nome;
	public Tipos(String arg0, int arg1, int codigo, String nome) {
		super(arg0, arg1);
		// TODO Auto-generated constructor stub
		this.codigo = codigo;
		this.nome = nome;
	}
}

- The public access modifier is not allowed for enums constructors (so do
private and protected) then the option public should be disabled and
default option would be marked by default.
- The generated constructor has 4 arguments (just codigo and nome has been
marked)

Bug https://bugs.eclipse.org/bugs/show_bug.cgi?id=110026 may be related to this bug.
Nice day.
The visibility issue is fixed in 3.2 M2, and the rest is covered by bug 110026

Resolving as duplicate

*** This bug has been marked as a duplicate of 110026 ***</WithStack>
    <WithOutStack>I've tried to use "Generate Constructor Using fields" at the Source menu in the
following code:
enum Tipos {		
	COMBUSTIVEL;
	
	private int codigo;
	private String nome;
}

It has generated the following code:

enum Tipos {		
	COMBUSTIVEL;
	
	private int codigo;
	private String nome;
	public Tipos(String arg0, int arg1, int codigo, String nome) {
		super(arg0, arg1);
		// TODO Auto-generated constructor stub
		this.codigo = codigo;
		this.nome = nome;
	}
}

- The public access modifier is not allowed for enums constructors (so do
private and protected) then the option public should be disabled and
default option would be marked by default.
- The generated constructor has 4 arguments (just codigo and nome has been
marked)

Bug https://bugs.eclipse.org/bugs/show_bug.cgi?id=110026 may be related to this bug.
Nice day.
The visibility issue is fixed in 3.2 M2, and the rest is covered by bug 110026

Resolving as duplicate

*** This bug has been marked as a duplicate of 110026 ***</WithOutStack>
  </Bug>
  <Bug>
    <BugId amount="110882" />
    <CreationDate amount="2005-09-27 19:02:00 -0400" />
    <DupId amount="" />
    <classification amount="Tools" />
    <Product amount="TPTP Release Engineering" />
    <component amount="Build" />
    <Version amount="4.1" />
    <rep_platform amount="Other" />
    <op_sys amount="other" />
    <priority amount="P1" />
    <bug_severity amount="major" />
    <Summery>zOS: manual build of the piAgent/RAC fails - initial c89 compile exits with code 137</Summery>
    <Patches amount="0" />
    <Stacktraces amount="0" />
    <SourceCodeRegions amount="0" />
    <Enumerations amount="0" />
    <bug_status amount="CLOSED" />
    <resolution amount="FIXED" />
    <WithStack>The zOS manual build of the piAgent and RAC fails on the initial c89 compile 
(although the master build is still working). The initial compile ends with no 
output and just the make message: "make[1]: *** [framework/RACommon/RAComm.o] 
Killed". When running c89 directly (ie: same environment but outside of make), 
the compile exits with a return code of 137 (ENOTTY if that's an errno). 

This hit a couple of developers in the past two weeks but just hit the build 
team this afternoon (it had been working for them this morning). It can be 
reproduced in a CVS snapshot that had previously built successfully suggesting 
that the problem is environmental. The owner of the underlying build 
environment (upon which the TPTP zOS build depends) is looking into it now. 

The actual failing compile in the make is as follows:

Compile framework/RACommon/RAComm.c

c89 -W c,SO,SSCOMM,NOSEARCH,CSECT -W c,NOLOCALE,LANGLVL\(EXTENDED\) -W 
c,RENT,LONGNAME -W c,DLL,EXPORTALL -W c,TARGET\(OSV2R10\),XPL INK -O   -
D_OPEN_SYS -DENW -D_XOPEN_SOURCE_EXTENDED=1 -DSQLUNIX=1 -DMVS=1 -
D_OPEN_THREADS -D_ALL_SOURCE -I./framework/HCLauncher -
I. /framework/RABindings -I./framework/RACommon -I./framework/RADataTransfer -
I./framework/RAServer -I./framework/RAServerConfig -I./fr 
amework/RAServerTypes -I./framework/RASharedMemory -I./framework/RASocket -
I./../cbe/cImpl -I../../depends/java/include -I../../depe 
nds/java/include/os390 -I../../depends/xercesc/include -c 
framework/RACommon/RAComm.c  -o framework/RACommon/RAComm.o

make[1]: *** [framework/RACommon/RAComm.o] Killed

make: *** [all] Error 2
The cause of and fix for the problem has been identified.

Because of system changes made to /sys.profile on our zOS build machine a 
couple of weeks ago,  it's now necessary to explicitly specify the name of the 
compiler driver in the TPTP build setup script.   Specifically, the  
bin/configure-environment.sf script needs to be changed to add the following to 
the "# Compiler" section:

export _C89_CNAME="CBCDRVR"
export  _CC_CNAME="CBCDRVR"
export _CXX_CNAME="CBCDRVR"

The rationale for the change is as follows:

The system changes to /sys.profile a couple of weeks ago had explicitly 
specified the compiler driver name to be CCNDRVR (suitable for the zOS 1.6 
compiler) but this was incompatbile with the earlier OS390 V2R10 compiler which 
has a compiler driver named CBCDRVR and which fails if run under CCNDRVR. 
Therefore, the TPTP setup script (which explicitly steplibs to the V2R10 
compiler for historical/compatability reasons) must be changed to explicitly 
define/override the compiler driver name back to CBCDRVR.

The fix was made to configure-environment.sf 09/29/2005 11:25am (under module 
org.eclipse.hyades.releng.builder).
Verified using TPTP-4.1.0-200510031701 build.</WithStack>
    <WithOutStack>The zOS manual build of the piAgent and RAC fails on the initial c89 compile 
(although the master build is still working). The initial compile ends with no 
output and just the make message: "make[1]: *** [framework/RACommon/RAComm.o] 
Killed". When running c89 directly (ie: same environment but outside of make), 
the compile exits with a return code of 137 (ENOTTY if that's an errno). 

This hit a couple of developers in the past two weeks but just hit the build 
team this afternoon (it had been working for them this morning). It can be 
reproduced in a CVS snapshot that had previously built successfully suggesting 
that the problem is environmental. The owner of the underlying build 
environment (upon which the TPTP zOS build depends) is looking into it now. 

The actual failing compile in the make is as follows:

Compile framework/RACommon/RAComm.c

c89 -W c,SO,SSCOMM,NOSEARCH,CSECT -W c,NOLOCALE,LANGLVL\(EXTENDED\) -W 
c,RENT,LONGNAME -W c,DLL,EXPORTALL -W c,TARGET\(OSV2R10\),XPL INK -O   -
D_OPEN_SYS -DENW -D_XOPEN_SOURCE_EXTENDED=1 -DSQLUNIX=1 -DMVS=1 -
D_OPEN_THREADS -D_ALL_SOURCE -I./framework/HCLauncher -
I. /framework/RABindings -I./framework/RACommon -I./framework/RADataTransfer -
I./framework/RAServer -I./framework/RAServerConfig -I./fr 
amework/RAServerTypes -I./framework/RASharedMemory -I./framework/RASocket -
I./../cbe/cImpl -I../../depends/java/include -I../../depe 
nds/java/include/os390 -I../../depends/xercesc/include -c 
framework/RACommon/RAComm.c  -o framework/RACommon/RAComm.o

make[1]: *** [framework/RACommon/RAComm.o] Killed

make: *** [all] Error 2
The cause of and fix for the problem has been identified.

Because of system changes made to /sys.profile on our zOS build machine a 
couple of weeks ago,  it's now necessary to explicitly specify the name of the 
compiler driver in the TPTP build setup script.   Specifically, the  
bin/configure-environment.sf script needs to be changed to add the following to 
the "# Compiler" section:

export _C89_CNAME="CBCDRVR"
export  _CC_CNAME="CBCDRVR"
export _CXX_CNAME="CBCDRVR"

The rationale for the change is as follows:

The system changes to /sys.profile a couple of weeks ago had explicitly 
specified the compiler driver name to be CCNDRVR (suitable for the zOS 1.6 
compiler) but this was incompatbile with the earlier OS390 V2R10 compiler which 
has a compiler driver named CBCDRVR and which fails if run under CCNDRVR. 
Therefore, the TPTP setup script (which explicitly steplibs to the V2R10 
compiler for historical/compatability reasons) must be changed to explicitly 
define/override the compiler driver name back to CBCDRVR.

The fix was made to configure-environment.sf 09/29/2005 11:25am (under module 
org.eclipse.hyades.releng.builder).
Verified using TPTP-4.1.0-200510031701 build.</WithOutStack>
  </Bug>
  <Bug>
    <BugId amount="110883" />
    <CreationDate amount="2005-09-27 19:46:00 -0400" />
    <DupId amount="" />
    <classification amount="Mylyn" />
    <Product amount="Mylyn" />
    <component amount="Zest" />
    <Version amount="unspecified" />
    <rep_platform amount="PC" />
    <op_sys amount="Windows XP" />
    <priority amount="P3" />
    <bug_severity amount="enhancement" />
    <Summery>Add edge weights</Summery>
    <Patches amount="0" />
    <Stacktraces amount="0" />
    <SourceCodeRegions amount="0" />
    <Enumerations amount="0" />
    <bug_status amount="RESOLVED" />
    <resolution amount="INVALID" />
    <WithStack>Edge weights need to be added to the fade layout algorithm
The fade layout is no longer in zest. 

closed as invalid.</WithStack>
    <WithOutStack>Edge weights need to be added to the fade layout algorithm
The fade layout is no longer in zest. 

closed as invalid.</WithOutStack>
  </Bug>
  <Bug>
    <BugId amount="110884" />
    <CreationDate amount="2005-09-27 19:49:00 -0400" />
    <DupId amount="110553" />
    <classification amount="DataTools" />
    <Product amount="Data Tools" />
    <component amount="Connectivity" />
    <Version amount="unspecified" />
    <rep_platform amount="PC" />
    <op_sys amount="Windows XP" />
    <priority amount="P3" />
    <bug_severity amount="normal" />
    <Summery>org.eclipse.datatools.connectivity.oda has runtime issues with BIRT</Summery>
    <Patches amount="1">
      <Patch>
        <index>plugin.xml</index>
        <original_file>plugin.xml</original_file>
        <modified_file>plugin.xml</modified_file>
        <Hunks>
          <hunk>&lt;library name="odaconsumer-helper.jar"&gt;&#xD;
&#xD;
          &lt;export name="*"/&gt;&#xD;
&#xD;
       &lt;/library&gt;&#xD;
&#xD;
-      &lt;library name="lib/birt-core.jar"/&gt;&#xD;
&#xD;
    &lt;/runtime&gt;&#xD;
&#xD;
    &lt;requires&gt;&#xD;
&#xD;
       &lt;import plugin="org.eclipse.core.runtime"/&gt;&#xD;
&#xD;
       &lt;import plugin="org.junit" optional="true"/&gt;&#xD;
&#xD;
+      &lt;import plugin="org.eclipse.birt.core" optional="true"/&gt;&#xD;
&#xD;
    &lt;/requires&gt;&#xD;
&#xD;
 &#xD;
&#xD;
 	&lt;extension-point id="dataSource" name="Open Data Access Design and Run-time</hunk>
        </Hunks>
      </Patch>
    </Patches>
    <Stacktraces amount="0" />
    <SourceCodeRegions amount="0" />
    <Enumerations amount="0" />
    <bug_status amount="CLOSED" />
    <resolution amount="DUPLICATE" />
    <WithStack>It seems like the BIRT core plug-in has been added as a runtime jar to this
plug-in. This causes LinkError exceptions during runtime when Birt and datatools
are installed (repro: Try create a data set in report designer with data tools
installed and used). 

The birt-core jar can be used during compile, but shouldn't be included in the
plugin as runtime. It should [optinally?] depend on the birt core plugin.


Index: plugin.xml
===================================================================
RCS file:
/home/datatools/org.eclipse.datatools.connectivity/plugins/org.eclipse.datatools.connectivity.oda/plugin.xml,v
retrieving revision 1.4
diff -u -r1.4 plugin.xml
--- plugin.xml	20 Sep 2005 03:15:30 -0000	1.4
+++ plugin.xml	27 Sep 2005 23:46:07 -0000
@@ -13,11 +13,11 @@
       &lt;library name="odaconsumer-helper.jar"&gt;
          &lt;export name="*"/&gt;
       &lt;/library&gt;
-      &lt;library name="lib/birt-core.jar"/&gt;
    &lt;/runtime&gt;
    &lt;requires&gt;
       &lt;import plugin="org.eclipse.core.runtime"/&gt;
       &lt;import plugin="org.junit" optional="true"/&gt;
+      &lt;import plugin="org.eclipse.birt.core" optional="true"/&gt;
    &lt;/requires&gt;
 
 	&lt;extension-point id="dataSource" name="Open Data Access Design and Run-time
Extension" schema="schema/datasource.exsd"/&gt;
The symptom seen here is caused by a new DtpManifestExplorer class used by BIRT
components that has mixed the use of classes loaded thru different class
loaders.  A fix (#110553)is available and will be committed after this week's
BIRT stable build is done.
DTP ODA's runtime dependency on a library instead of the birt.core plugin is
intended to allow one to use DTP ODA outside of BIRT, without requiring
additional plugin installation.


*** This bug has been marked as a duplicate of 110553 ***
But having such runtime dependencies are always dangerous. Depending on the
order of plug-ins loading and if I create my own plug-in that relies on these
two plug-ins, things will fail. This is a problem with duplicating jars into
several plug-ins in general (even open source things like js.jar etc can cause
various classloader issues if several plugins you depend on have it in their
classpath)...

Compile/build time you can have this plug-in use the birt-core.jar, but I think
runtime you have to rely on the plug-in dependency. if not you will make it hard
to build things on top of datatools and Birt together. Does this plug-in even
make sense to be active without BIRT? It seems very BIRT related.
Hi Morten,

Since each plugin is loaded by a separate class loader, there is normally no
conflict when developing your own plugin that relies on these 2 plugins.  In
fact, there are quite a few BIRT plugins that do that now.
The classloader issue seen earlier was due to the BIRT version of the
oda.util.manifest passing a birt.core object to the DTP ODA plugin. This is now
fixed. 
Since the BIRT version of the oda utility is going to be deprecated in BIRT 2.0,
there should not be a case where such mixed use is needed.

I do agree with you in general, that it would be preferrable to use the plug-in
dependency instead.  However, in this case, it is a trade-off with not requiring
additional plugin installation to use DTP ODA outside of BIRT.  

BTW, the ODA framework is moved from BIRT to DTP with the explicit intention for
it to be usable by any consumer application. ODA is a general data access
framework intended to provide an abstraction for scalable data retrieval from
heterogeneous data sources.


Closed DTP M1 related entries.</WithStack>
    <WithOutStack>It seems like the BIRT core plug-in has been added as a runtime jar to this
plug-in. This causes LinkError exceptions during runtime when Birt and datatools
are installed (repro: Try create a data set in report designer with data tools
installed and used). 

The birt-core jar can be used during compile, but shouldn't be included in the
plugin as runtime. It should [optinally?] depend on the birt core plugin.


Index: plugin.xml
===================================================================
RCS file:
/home/datatools/org.eclipse.datatools.connectivity/plugins/org.eclipse.datatools.connectivity.oda/plugin.xml,v
retrieving revision 1.4
diff -u -r1.4 plugin.xml
--- plugin.xml	20 Sep 2005 03:15:30 -0000	1.4
+++ plugin.xml	27 Sep 2005 23:46:07 -0000
@@ -13,11 +13,11 @@
       &lt;library name="odaconsumer-helper.jar"&gt;
          &lt;export name="*"/&gt;
       &lt;/library&gt;
-      &lt;library name="lib/birt-core.jar"/&gt;
    &lt;/runtime&gt;
    &lt;requires&gt;
       &lt;import plugin="org.eclipse.core.runtime"/&gt;
       &lt;import plugin="org.junit" optional="true"/&gt;
+      &lt;import plugin="org.eclipse.birt.core" optional="true"/&gt;
    &lt;/requires&gt;
 
 	&lt;extension-point id="dataSource" name="Open Data Access Design and Run-time
Extension" schema="schema/datasource.exsd"/&gt;
The symptom seen here is caused by a new DtpManifestExplorer class used by BIRT
components that has mixed the use of classes loaded thru different class
loaders.  A fix (#110553)is available and will be committed after this week's
BIRT stable build is done.
DTP ODA's runtime dependency on a library instead of the birt.core plugin is
intended to allow one to use DTP ODA outside of BIRT, without requiring
additional plugin installation.


*** This bug has been marked as a duplicate of 110553 ***
But having such runtime dependencies are always dangerous. Depending on the
order of plug-ins loading and if I create my own plug-in that relies on these
two plug-ins, things will fail. This is a problem with duplicating jars into
several plug-ins in general (even open source things like js.jar etc can cause
various classloader issues if several plugins you depend on have it in their
classpath)...

Compile/build time you can have this plug-in use the birt-core.jar, but I think
runtime you have to rely on the plug-in dependency. if not you will make it hard
to build things on top of datatools and Birt together. Does this plug-in even
make sense to be active without BIRT? It seems very BIRT related.
Hi Morten,

Since each plugin is loaded by a separate class loader, there is normally no
conflict when developing your own plugin that relies on these 2 plugins.  In
fact, there are quite a few BIRT plugins that do that now.
The classloader issue seen earlier was due to the BIRT version of the
oda.util.manifest passing a birt.core object to the DTP ODA plugin. This is now
fixed. 
Since the BIRT version of the oda utility is going to be deprecated in BIRT 2.0,
there should not be a case where such mixed use is needed.

I do agree with you in general, that it would be preferrable to use the plug-in
dependency instead.  However, in this case, it is a trade-off with not requiring
additional plugin installation to use DTP ODA outside of BIRT.  

BTW, the ODA framework is moved from BIRT to DTP with the explicit intention for
it to be usable by any consumer application. ODA is a general data access
framework intended to provide an abstraction for scalable data retrieval from
heterogeneous data sources.


Closed DTP M1 related entries.</WithOutStack>
  </Bug>
  <Bug>
    <BugId amount="110885" />
    <CreationDate amount="2005-09-27 20:05:00 -0400" />
    <DupId amount="" />
    <classification amount="DataTools" />
    <Product amount="Data Tools" />
    <component amount="Connectivity" />
    <Version amount="unspecified" />
    <rep_platform amount="PC" />
    <op_sys amount="Windows XP" />
    <priority amount="P3" />
    <bug_severity amount="normal" />
    <Summery>datatools.connectivity.navigator.views has Java 5 compile issues</Summery>
    <Patches amount="0" />
    <Stacktraces amount="0" />
    <SourceCodeRegions amount="10">
      <source_code type="singlecomment">
        <location start="709" end="763" />
        <code>// loop through list and look for matching items</code>
      </source_code>
      <source_code type="assignment">
        <location start="763" end="813" />
        <code>-		Iterator enum = structuredSelection.iterator();</code>
      </source_code>
      <source_code type="functiondef">
        <location start="814" end="841" />
        <code>-		while (enum.hasNext()) {</code>
      </source_code>
      <source_code type="assignment">
        <location start="842" end="871" />
        <code>-			Object obj = enum.next();</code>
      </source_code>
      <source_code type="assignment">
        <location start="872" end="922" />
        <code>+		Iterator iter = structuredSelection.iterator();</code>
      </source_code>
      <source_code type="functiondef">
        <location start="923" end="950" />
        <code>+		while (iter.hasNext()) {</code>
      </source_code>
      <source_code type="assignment">
        <location start="951" end="980" />
        <code>+			Object obj = iter.next();</code>
      </source_code>
      <source_code type="ifstatement">
        <location start="981" end="1016" />
        <code>if (obj instanceof IResource) {</code>
      </source_code>
      <source_code type="assignment">
        <location start="1017" end="1054" />
        <code>IResource res = (IResource) obj;</code>
      </source_code>
      <source_code type="ifstatement">
        <location start="1055" end="1115" />
        <code>if ((res.getType() &amp; resourceTypes) == res.getType()) {</code>
      </source_code>
    </SourceCodeRegions>
    <Enumerations amount="0" />
    <bug_status amount="CLOSED" />
    <resolution amount="FIXED" />
    <WithStack>Uses variable called "enum":

Index:
src/org/eclipse/datatools/connectivity/navigator/dnd/NavigatorDragAdapter.java
===================================================================
RCS file:
/home/datatools/org.eclipse.datatools.connectivity/plugins/org.eclipse.datatools.connectivity.navigator.views/src/org/eclipse/datatools/connectivity/navigator/dnd/NavigatorDragAdapter.java,v
retrieving revision 1.1
diff -u -r1.1 NavigatorDragAdapter.java
---
src/org/eclipse/datatools/connectivity/navigator/dnd/NavigatorDragAdapter.java	7
Sep 2005 21:59:46 -0000	1.1
+++
src/org/eclipse/datatools/connectivity/navigator/dnd/NavigatorDragAdapter.java
28 Sep 2005 00:03:57 -0000
@@ -213,9 +213,9 @@
 			return null;
 
 		// loop through list and look for matching items
-		Iterator enum = structuredSelection.iterator();
-		while (enum.hasNext()) {
-			Object obj = enum.next();
+		Iterator iter = structuredSelection.iterator();
+		while (iter.hasNext()) {
+			Object obj = iter.next();
 			if (obj instanceof IResource) {
 				IResource res = (IResource) obj;
 				if ((res.getType() &amp; resourceTypes) == res.getType()) {
Fixed in M1 iteration 10/28/05 code line.
verified and closing.</WithStack>
    <WithOutStack>Uses variable called "enum":

Index:
src/org/eclipse/datatools/connectivity/navigator/dnd/NavigatorDragAdapter.java
===================================================================
RCS file:
/home/datatools/org.eclipse.datatools.connectivity/plugins/org.eclipse.datatools.connectivity.navigator.views/src/org/eclipse/datatools/connectivity/navigator/dnd/NavigatorDragAdapter.java,v
retrieving revision 1.1
diff -u -r1.1 NavigatorDragAdapter.java
---
src/org/eclipse/datatools/connectivity/navigator/dnd/NavigatorDragAdapter.java	7
Sep 2005 21:59:46 -0000	1.1
+++
src/org/eclipse/datatools/connectivity/navigator/dnd/NavigatorDragAdapter.java
28 Sep 2005 00:03:57 -0000
@@ -213,9 +213,9 @@
 			return null;
 
 		// loop through list and look for matching items
-		Iterator enum = structuredSelection.iterator();
-		while (enum.hasNext()) {
-			Object obj = enum.next();
+		Iterator iter = structuredSelection.iterator();
+		while (iter.hasNext()) {
+			Object obj = iter.next();
 			if (obj instanceof IResource) {
 				IResource res = (IResource) obj;
 				if ((res.getType() &amp; resourceTypes) == res.getType()) {
Fixed in M1 iteration 10/28/05 code line.
verified and closing.</WithOutStack>
  </Bug>
  <Bug>
    <BugId amount="110886" />
    <CreationDate amount="2005-09-27 20:19:00 -0400" />
    <DupId amount="" />
    <classification amount="BIRT" />
    <Product amount="BIRT" />
    <component amount="Chart" />
    <Version amount="2.0.0" />
    <rep_platform amount="PC" />
    <op_sys amount="Windows XP" />
    <priority amount="P3" />
    <bug_severity amount="trivial" />
    <Summery>Gradient rotation on Series doesn't take effect in design mode</Summery>
    <Patches amount="0" />
    <Stacktraces amount="0" />
    <SourceCodeRegions amount="0" />
    <Enumerations amount="0" />
    <bug_status amount="RESOLVED" />
    <resolution amount="FIXED" />
    <WithStack>When defining a gradient palette with a certain rotation (not 90 or 0 degrees),
the design mode does not show the rotation correctly (it goes to the closest
straight gradient). However, runtime shows this correctly.
This is a SWT limitation (the design uses the SWT renderer, runtime is using 
Swing/PNG), documented in the Chart FAQ.
Maybe this will be fixed with 111179.
Please add "-DR31ENHANCE" in JVM argument to enable the advanced feature. 
However, SWT only supports pure vertical or horizontal gradient drawing, using 
arbitrary angle is not supported.
fixed</WithStack>
    <WithOutStack>When defining a gradient palette with a certain rotation (not 90 or 0 degrees),
the design mode does not show the rotation correctly (it goes to the closest
straight gradient). However, runtime shows this correctly.
This is a SWT limitation (the design uses the SWT renderer, runtime is using 
Swing/PNG), documented in the Chart FAQ.
Maybe this will be fixed with 111179.
Please add "-DR31ENHANCE" in JVM argument to enable the advanced feature. 
However, SWT only supports pure vertical or horizontal gradient drawing, using 
arbitrary angle is not supported.
fixed</WithOutStack>
  </Bug>
  <Bug>
    <BugId amount="110887" />
    <CreationDate amount="2005-09-27 20:19:00 -0400" />
    <DupId amount="" />
    <classification amount="Eclipse" />
    <Product amount="JDT" />
    <component amount="Core" />
    <Version amount="3.1" />
    <rep_platform amount="PC" />
    <op_sys amount="Windows XP" />
    <priority amount="P3" />
    <bug_severity amount="trivial" />
    <Summery>Format code - Enums</Summery>
    <Patches amount="0" />
    <Stacktraces amount="0" />
    <SourceCodeRegions amount="0" />
    <Enumerations amount="0" />
    <bug_status amount="RESOLVED" />
    <resolution amount="INVALID" />
    <WithStack>The format command format the following enum as shown bellow.
ORIGINAL CODE
public enum TipoCombustivelLubrificante {
	COMBUSTIVEL,
	LUBRIFICANTE, 
	PNEU;
}

AFTER FORMAT
public enum TipoCombustivelLubrificante {
	COMBUSTIVEL, LUBRIFICANTE, PNEU;
}

I've searched java code conventions, but it doesnt touch enums although sun
examples and tutorials show the code like the first one (original).
What are your formatter preferences?
Are you forcing the line wrapping for enum constants?
- What are your formatter preferences?
 I've tried "Eclipse [built-in]" and "Java Convetions[built-in]", all the same.
 My Eclipse version is 3.1.0 (Build id: I20050627-1435)

- Are you forcing the line wrapping for enum constants?
 Nope. All the setting are defaults and I just press crt + shift + f 
 
By default the enum constants are not wrapped on different lines. You can
however change the default settings to force the wrapping of these constants if
you want them to be each on a new line even if the line doesn't need to be wrapped.
Go to the code formatter preference page:
Line Wrapping&gt;'enum' declaration&gt;Constants.
Change the line wrapping policy to be:
  "Wrap all elements, every element on a new line"
And select the force split option.

Closing as INVALID since this is not a bug, but rather a configuration problem.
If it doesn't work once you changed the settings as indicated above, please reopen.
I checked that this works fine in 3.2M2.</WithStack>
    <WithOutStack>The format command format the following enum as shown bellow.
ORIGINAL CODE
public enum TipoCombustivelLubrificante {
	COMBUSTIVEL,
	LUBRIFICANTE, 
	PNEU;
}

AFTER FORMAT
public enum TipoCombustivelLubrificante {
	COMBUSTIVEL, LUBRIFICANTE, PNEU;
}

I've searched java code conventions, but it doesnt touch enums although sun
examples and tutorials show the code like the first one (original).
What are your formatter preferences?
Are you forcing the line wrapping for enum constants?
- What are your formatter preferences?
 I've tried "Eclipse [built-in]" and "Java Convetions[built-in]", all the same.
 My Eclipse version is 3.1.0 (Build id: I20050627-1435)

- Are you forcing the line wrapping for enum constants?
 Nope. All the setting are defaults and I just press crt + shift + f 
 
By default the enum constants are not wrapped on different lines. You can
however change the default settings to force the wrapping of these constants if
you want them to be each on a new line even if the line doesn't need to be wrapped.
Go to the code formatter preference page:
Line Wrapping&gt;'enum' declaration&gt;Constants.
Change the line wrapping policy to be:
  "Wrap all elements, every element on a new line"
And select the force split option.

Closing as INVALID since this is not a bug, but rather a configuration problem.
If it doesn't work once you changed the settings as indicated above, please reopen.
I checked that this works fine in 3.2M2.</WithOutStack>
  </Bug>
  <Bug>
    <BugId amount="110888" />
    <CreationDate amount="2005-09-27 21:30:00 -0400" />
    <DupId amount="" />
    <classification amount="Eclipse" />
    <Product amount="JDT" />
    <component amount="APT" />
    <Version amount="3.1" />
    <rep_platform amount="PC" />
    <op_sys amount="Windows XP" />
    <priority amount="P3" />
    <bug_severity amount="normal" />
    <Summery>StackOverflowError during build after manual edit to generated file containing annotation usage</Summery>
    <Patches amount="0" />
    <Stacktraces amount="1">
      <Stacktrace timestamp="1437330582238">
        <Exception>java.lang.StackOverflowError</Exception>
        <Reason />
        <Frames>
          <Frame depth="0">org.eclipse.core.internal.resources.Resource.hashCode(Resource.java:1016)</Frame>
          <Frame depth="1">java.util.HashMap.hash(Unknown Source)</Frame>
          <Frame depth="2">java.util.HashMap.get(Unknown Source)</Frame>
          <Frame depth="3">org.eclipse.jdt.internal.core.JavaModelManager.getPerProjectInfo(JavaModelManager.java:1335)</Frame>
          <Frame depth="4">org.eclipse.jdt.internal.core.JavaModelManager.getPerProjectInfoCheckExistence(JavaModelManager.java:1350)</Frame>
          <Frame depth="5">org.eclipse.jdt.internal.core.JavaProject.getPerProjectInfo(JavaProject.java:1785)</Frame>
          <Frame depth="6">org.eclipse.jdt.internal.core.JavaProject.getRawClasspath(JavaProject.java:1842)</Frame>
          <Frame depth="7">org.eclipse.jdt.internal.core.JavaProject.getRawClasspath(JavaProject.java:1828)</Frame>
          <Frame depth="8">org.eclipse.jdt.internal.core.JavaProject.isOnClasspath(JavaProject.java:2244)</Frame>
          <Frame depth="9">org.eclipse.jdt.internal.ui.packageview.PackageExplorerContentProvider.isOnClassPath(PackageExplorerContentProvider.java:470)</Frame>
          <Frame depth="10">org.eclipse.jdt.internal.ui.packageview.PackageExplorerContentProvider.processDelta(PackageExplorerContentProvider.java:328)</Frame>
          <Frame depth="11">org.eclipse.jdt.internal.ui.packageview.PackageExplorerContentProvider.processAffectedChildren(PackageExplorerContentProvider.java:462)</Frame>
          <Frame depth="12">org.eclipse.jdt.internal.ui.packageview.PackageExplorerContentProvider.handleAffectedChildren(PackageExplorerContentProvider.java:457)</Frame>
          <Frame depth="13">org.eclipse.jdt.internal.ui.packageview.PackageExplorerContentProvider.processDelta(PackageExplorerContentProvider.java:425)</Frame>
          <Frame depth="14">org.eclipse.jdt.internal.ui.packageview.PackageExplorerContentProvider.processAffectedChildren(PackageExplorerContentProvider.java:462)</Frame>
          <Frame depth="15">org.eclipse.jdt.internal.ui.packageview.PackageExplorerContentProvider.handleAffectedChildren(PackageExplorerContentProvider.java:457)</Frame>
          <Frame depth="16">org.eclipse.jdt.internal.ui.packageview.PackageExplorerContentProvider.processDelta(PackageExplorerContentProvider.java:425)</Frame>
          <Frame depth="17">org.eclipse.jdt.internal.ui.packageview.PackageExplorerContentProvider.processAffectedChildren(PackageExplorerContentProvider.java:462)</Frame>
          <Frame depth="18">org.eclipse.jdt.internal.ui.packageview.PackageExplorerContentProvider.handleAffectedChildren(PackageExplorerContentProvider.java:457)</Frame>
          <Frame depth="19">org.eclipse.jdt.internal.ui.packageview.PackageExplorerContentProvider.processDelta(PackageExplorerContentProvider.java:425)</Frame>
          <Frame depth="20">org.eclipse.jdt.internal.ui.packageview.PackageExplorerContentProvider.processAffectedChildren(PackageExplorerContentProvider.java:462)</Frame>
          <Frame depth="21">org.eclipse.jdt.internal.ui.packageview.PackageExplorerContentProvider.handleAffectedChildren(PackageExplorerContentProvider.java:457)</Frame>
          <Frame depth="22">org.eclipse.jdt.internal.ui.packageview.PackageExplorerContentProvider.processDelta(PackageExplorerContentProvider.java:425)</Frame>
          <Frame depth="23">org.eclipse.jdt.internal.ui.packageview.PackageExplorerContentProvider.elementChanged(PackageExplorerContentProvider.java:105)</Frame>
          <Frame depth="24">org.eclipse.jdt.internal.core.DeltaProcessor$3.run(DeltaProcessor.java:1432)</Frame>
          <Frame depth="25">org.eclipse.core.internal.runtime.InternalPlatform.run(InternalPlatform.java:1044)</Frame>
          <Frame depth="26">org.eclipse.core.runtime.Platform.run(Platform.java:783)</Frame>
          <Frame depth="27">org.eclipse.jdt.internal.core.DeltaProcessor.notifyListeners(DeltaProcessor.java:1422)</Frame>
          <Frame depth="28">org.eclipse.jdt.internal.core.DeltaProcessor.firePostChangeDelta(DeltaProcessor.java:1270)</Frame>
          <Frame depth="29">org.eclipse.jdt.internal.core.DeltaProcessor.fire(DeltaProcessor.java:1245)</Frame>
          <Frame depth="30">org.eclipse.jdt.internal.core.JavaModelOperation.run(JavaModelOperation.java:758)</Frame>
          <Frame depth="31">org.eclipse.core.internal.resources.Workspace.run(Workspace.java:1719)</Frame>
          <Frame depth="32">org.eclipse.jdt.internal.core.JavaModelOperation.runOperation(JavaModelOperation.java:782)</Frame>
          <Frame depth="33">org.eclipse.jdt.internal.core.PackageFragment.createCompilationUnit(PackageFragment.java:135)</Frame>
          <Frame depth="34">org.eclipse.jdt.apt.core.internal.generatedfile.GeneratedFileManager.generateFileDuringBuild(GeneratedFileManager.java:243)</Frame>
          <Frame depth="35">org.eclipse.jdt.apt.core.internal.env.JavaSourceFilePrintWriter.close(JavaSourceFilePrintWriter.java:53)</Frame>
          <Frame depth="36">anno.AnnoProcessor.process(AnnoProcessor.java:25)</Frame>
          <Frame depth="37">org.eclipse.jdt.apt.core.internal.APTDispatchRunnable.runAPTInFileBasedMode(APTDispatchRunnable.java:309)</Frame>
          <Frame depth="38">org.eclipse.jdt.apt.core.internal.APTDispatchRunnable.runAPT(APTDispatchRunnable.java:536)</Frame>
          <Frame depth="39">org.eclipse.jdt.apt.core.internal.APTDispatchRunnable.runAPT(APTDispatchRunnable.java:442)</Frame>
          <Frame depth="40">org.eclipse.jdt.apt.core.internal.APTDispatchRunnable.run(APTDispatchRunnable.java:192)</Frame>
          <Frame depth="41">org.eclipse.core.internal.resources.Workspace.run(Workspace.java:1719)</Frame>
          <Frame depth="42">org.eclipse.jdt.apt.core.internal.APTDispatch.runAPT(APTDispatch.java:87)</Frame>
          <Frame depth="43">org.eclipse.jdt.apt.core.internal.APTDispatch.runAPTDuringBuild(APTDispatch.java:46)</Frame>
          <Frame depth="44">org.eclipse.jdt.apt.core.internal.AptCompilationParticipant.preBuildNotify(AptCompilationParticipant.java:121)</Frame>
          <Frame depth="45">org.eclipse.jdt.apt.core.internal.AptCompilationParticipant.notify(AptCompilationParticipant.java:85)</Frame>
          <Frame depth="46">org.eclipse.jdt.internal.core.builder.AbstractImageBuilder.notifyCompilationParticipants(AbstractImageBuilder.java:259)</Frame>
          <Frame depth="47">org.eclipse.jdt.internal.core.builder.AbstractImageBuilder.notifyCompilationParticipants(AbstractImageBuilder.java:291)</Frame>
          <Frame depth="48">org.eclipse.jdt.internal.core.builder.AbstractImageBuilder.notifyCompilationParticipants(AbstractImageBuilder.java:291)</Frame>
          <Frame depth="49">org.eclipse.jdt.internal.core.builder.AbstractImageBuilder.notifyCompilationParticipants(AbstractImageBuilder.java:291)</Frame>
        </Frames>
      </Stacktrace>
    </Stacktraces>
    <SourceCodeRegions amount="0" />
    <Enumerations amount="1">
      <Enumeration lines="7">
        <Lines>
          <Line>1. Add the attached annotation jar (NewTest.jar) to a project, and add it to the</Line>
          <Line>factory path</Line>
          <Line>2. Add a usage of @annotation to a java file in the project</Line>
          <Line>3. In the generated file (genpkg.GenFile), make an edit that doesn't remove its</Line>
          <Line>own annotation usage and keeps the file error free (changing the int value works</Line>
          <Line>nicely), then save the file.</Line>
          <Line>4. Build the project (if auto build is off)</Line>
        </Lines>
      </Enumeration>
    </Enumerations>
    <bug_status amount="VERIFIED" />
    <resolution amount="FIXED" />
    <WithStack>Repro:
1. Add the attached annotation jar (NewTest.jar) to a project, and add it to the
factory path
2. Add a usage of @annotation to a java file in the project
3. In the generated file (genpkg.GenFile), make an edit that doesn't remove its
own annotation usage and keeps the file error free (changing the int value works
nicely), then save the file.
4. Build the project (if auto build is off)


Bug:
The build cranks away for a bit, then you get an error dialog "An internal error
occurred during: "Building workspace".  The console shows the following:

Unexpected failure running APT GenType.java
java.lang.StackOverflowError
	at org.eclipse.core.internal.resources.Resource.hashCode(Resource.java:1016)
	at java.util.HashMap.hash(Unknown Source)
	at java.util.HashMap.get(Unknown Source)
	at
org.eclipse.jdt.internal.core.JavaModelManager.getPerProjectInfo(JavaModelManager.java:1335)
	at
org.eclipse.jdt.internal.core.JavaModelManager.getPerProjectInfoCheckExistence(JavaModelManager.java:1350)
	at
org.eclipse.jdt.internal.core.JavaProject.getPerProjectInfo(JavaProject.java:1785)
	at org.eclipse.jdt.internal.core.JavaProject.getRawClasspath(JavaProject.java:1842)
	at org.eclipse.jdt.internal.core.JavaProject.getRawClasspath(JavaProject.java:1828)
	at org.eclipse.jdt.internal.core.JavaProject.isOnClasspath(JavaProject.java:2244)
	at
org.eclipse.jdt.internal.ui.packageview.PackageExplorerContentProvider.isOnClassPath(PackageExplorerContentProvider.java:470)
	at
org.eclipse.jdt.internal.ui.packageview.PackageExplorerContentProvider.processDelta(PackageExplorerContentProvider.java:328)
	at
org.eclipse.jdt.internal.ui.packageview.PackageExplorerContentProvider.processAffectedChildren(PackageExplorerContentProvider.java:462)
	at
org.eclipse.jdt.internal.ui.packageview.PackageExplorerContentProvider.handleAffectedChildren(PackageExplorerContentProvider.java:457)
	at
org.eclipse.jdt.internal.ui.packageview.PackageExplorerContentProvider.processDelta(PackageExplorerContentProvider.java:425)
	at
org.eclipse.jdt.internal.ui.packageview.PackageExplorerContentProvider.processAffectedChildren(PackageExplorerContentProvider.java:462)
	at
org.eclipse.jdt.internal.ui.packageview.PackageExplorerContentProvider.handleAffectedChildren(PackageExplorerContentProvider.java:457)
	at
org.eclipse.jdt.internal.ui.packageview.PackageExplorerContentProvider.processDelta(PackageExplorerContentProvider.java:425)
	at
org.eclipse.jdt.internal.ui.packageview.PackageExplorerContentProvider.processAffectedChildren(PackageExplorerContentProvider.java:462)
	at
org.eclipse.jdt.internal.ui.packageview.PackageExplorerContentProvider.handleAffectedChildren(PackageExplorerContentProvider.java:457)
	at
org.eclipse.jdt.internal.ui.packageview.PackageExplorerContentProvider.processDelta(PackageExplorerContentProvider.java:425)
	at
org.eclipse.jdt.internal.ui.packageview.PackageExplorerContentProvider.processAffectedChildren(PackageExplorerContentProvider.java:462)
	at
org.eclipse.jdt.internal.ui.packageview.PackageExplorerContentProvider.handleAffectedChildren(PackageExplorerContentProvider.java:457)
	at
org.eclipse.jdt.internal.ui.packageview.PackageExplorerContentProvider.processDelta(PackageExplorerContentProvider.java:425)
	at
org.eclipse.jdt.internal.ui.packageview.PackageExplorerContentProvider.elementChanged(PackageExplorerContentProvider.java:105)
	at org.eclipse.jdt.internal.core.DeltaProcessor$3.run(DeltaProcessor.java:1432)
	at
org.eclipse.core.internal.runtime.InternalPlatform.run(InternalPlatform.java:1044)
	at org.eclipse.core.runtime.Platform.run(Platform.java:783)
	at
org.eclipse.jdt.internal.core.DeltaProcessor.notifyListeners(DeltaProcessor.java:1422)
	at
org.eclipse.jdt.internal.core.DeltaProcessor.firePostChangeDelta(DeltaProcessor.java:1270)
	at org.eclipse.jdt.internal.core.DeltaProcessor.fire(DeltaProcessor.java:1245)
	at
org.eclipse.jdt.internal.core.JavaModelOperation.run(JavaModelOperation.java:758)
	at org.eclipse.core.internal.resources.Workspace.run(Workspace.java:1719)
	at
org.eclipse.jdt.internal.core.JavaModelOperation.runOperation(JavaModelOperation.java:782)
	at
org.eclipse.jdt.internal.core.PackageFragment.createCompilationUnit(PackageFragment.java:135)
	at
org.eclipse.jdt.apt.core.internal.generatedfile.GeneratedFileManager.generateFileDuringBuild(GeneratedFileManager.java:243)
	at
org.eclipse.jdt.apt.core.internal.env.JavaSourceFilePrintWriter.close(JavaSourceFilePrintWriter.java:53)
	at anno.AnnoProcessor.process(AnnoProcessor.java:25)
	at
org.eclipse.jdt.apt.core.internal.APTDispatchRunnable.runAPTInFileBasedMode(APTDispatchRunnable.java:309)
	at
org.eclipse.jdt.apt.core.internal.APTDispatchRunnable.runAPT(APTDispatchRunnable.java:536)
	at
org.eclipse.jdt.apt.core.internal.APTDispatchRunnable.runAPT(APTDispatchRunnable.java:442)
	at
org.eclipse.jdt.apt.core.internal.APTDispatchRunnable.run(APTDispatchRunnable.java:192)
	at org.eclipse.core.internal.resources.Workspace.run(Workspace.java:1719)
	at org.eclipse.jdt.apt.core.internal.APTDispatch.runAPT(APTDispatch.java:87)
	at
org.eclipse.jdt.apt.core.internal.APTDispatch.runAPTDuringBuild(APTDispatch.java:46)
	at
org.eclipse.jdt.apt.core.internal.AptCompilationParticipant.preBuildNotify(AptCompilationParticipant.java:121)
	at
org.eclipse.jdt.apt.core.internal.AptCompilationParticipant.notify(AptCompilationParticipant.java:85)
	at
org.eclipse.jdt.internal.core.builder.AbstractImageBuilder.notifyCompilationParticipants(AbstractImageBuilder.java:259)
	at
org.eclipse.jdt.internal.core.builder.AbstractImageBuilder.notifyCompilationParticipants(AbstractImageBuilder.java:291)
	at
org.eclipse.jdt.internal.core.builder.AbstractImageBuilder.notifyCompilationParticipants(AbstractImageBuilder.java:291)
	at
org.eclipse.jdt.internal.core.builder.AbstractImageBuilder.notifyCompilationParticipants(AbstractImageBuilder.java:291)
etc...



I'm not sure what to recommend here, especially given that 3.2 will likely
eliminate the issue, but perhaps there is something graceful we can do in the
meantime.  There is also an erroneous dirty file mark, a bug which will be filed
separately.
Created attachment 27598
Annotation jar to use for repro case
checked into CVS Oct 17 at about 6:40pm
Fixed long ago.  The original repro case and similar have no problems.  Marking as Verified.</WithStack>
    <WithOutStack>Repro:
1. Add the attached annotation jar (NewTest.jar) to a project, and add it to the
factory path
2. Add a usage of @annotation to a java file in the project
3. In the generated file (genpkg.GenFile), make an edit that doesn't remove its
own annotation usage and keeps the file error free (changing the int value works
nicely), then save the file.
4. Build the project (if auto build is off)


Bug:
The build cranks away for a bit, then you get an error dialog "An internal error
occurred during: "Building workspace".  The console shows the following:

Unexpected failure running APT GenType.java

etc...



I'm not sure what to recommend here, especially given that 3.2 will likely
eliminate the issue, but perhaps there is something graceful we can do in the
meantime.  There is also an erroneous dirty file mark, a bug which will be filed
separately.
Created attachment 27598
Annotation jar to use for repro case
checked into CVS Oct 17 at about 6:40pm
Fixed long ago.  The original repro case and similar have no problems.  Marking as Verified.</WithOutStack>
  </Bug>
  <Bug>
    <BugId amount="110889" />
    <CreationDate amount="2005-09-27 21:33:00 -0400" />
    <DupId amount="" />
    <classification amount="Eclipse" />
    <Product amount="JDT" />
    <component amount="APT" />
    <Version amount="3.1" />
    <rep_platform amount="PC" />
    <op_sys amount="Windows XP" />
    <priority amount="P3" />
    <bug_severity amount="normal" />
    <Summery>Generated source file marked dirty after manual edits to it and to its parent file</Summery>
    <Patches amount="0" />
    <Stacktraces amount="0" />
    <SourceCodeRegions amount="0" />
    <Enumerations amount="1">
      <Enumeration lines="7">
        <Lines>
          <Line>1. Open a project... its factory path needs to contain an annotation that will</Line>
          <Line>generate a source file</Line>
          <Line>2. Open a java file in the project</Line>
          <Line>3. Add a usage of an annotation to generate a source file, and save</Line>
          <Line>4. In the generated file, make a manual edit, and save (nothing fancy, can just</Line>
          <Line>be a comment)</Line>
          <Line>5. Back in the parent file, make an edit, and save</Line>
        </Lines>
      </Enumeration>
    </Enumerations>
    <bug_status amount="VERIFIED" />
    <resolution amount="FIXED" />
    <WithStack>If a user edits/saves a generated source file, then edits/saves the parent, the
freshly regenerated source file will be marked as dirty.


Repro:
1. Open a project... its factory path needs to contain an annotation that will
generate a source file
2. Open a java file in the project
3. Add a usage of an annotation to generate a source file, and save
4. In the generated file, make a manual edit, and save (nothing fancy, can just
be a comment)
5. Back in the parent file, make an edit, and save

Bug:
Child is regenerated, and the contents are correct, but it is marked as dirty. 
Expect freshly (re)generated files to be in a clean state.


The repro should work with any generated file / parent file combination. 
Attached is a version of the annotation jar from bug 110888 (simplified to
generate a file that won't hit that bug too).  It can be added to a project to
use for repro.
Created attachment 27599
Annotation jar to use for repro case
checked into CVS Oct 17 at about 6:40pm
Fixed long ago.  The current behavior is still correct.  Marking as Verified.</WithStack>
    <WithOutStack>If a user edits/saves a generated source file, then edits/saves the parent, the
freshly regenerated source file will be marked as dirty.


Repro:
1. Open a project... its factory path needs to contain an annotation that will
generate a source file
2. Open a java file in the project
3. Add a usage of an annotation to generate a source file, and save
4. In the generated file, make a manual edit, and save (nothing fancy, can just
be a comment)
5. Back in the parent file, make an edit, and save

Bug:
Child is regenerated, and the contents are correct, but it is marked as dirty. 
Expect freshly (re)generated files to be in a clean state.


The repro should work with any generated file / parent file combination. 
Attached is a version of the annotation jar from bug 110888 (simplified to
generate a file that won't hit that bug too).  It can be added to a project to
use for repro.
Created attachment 27599
Annotation jar to use for repro case
checked into CVS Oct 17 at about 6:40pm
Fixed long ago.  The current behavior is still correct.  Marking as Verified.</WithOutStack>
  </Bug>
  <Bug>
    <BugId amount="110890" />
    <CreationDate amount="2005-09-27 22:05:00 -0400" />
    <DupId amount="" />
    <classification amount="Tools" />
    <Product amount="PTP" />
    <component amount="Debug UI" />
    <Version amount="unspecified" />
    <rep_platform amount="All" />
    <op_sys amount="All" />
    <priority amount="P3" />
    <bug_severity amount="major" />
    <Summery>UI continually switches to platform debug view</Summery>
    <Patches amount="0" />
    <Stacktraces amount="0" />
    <SourceCodeRegions amount="0" />
    <Enumerations amount="0" />
    <bug_status amount="CLOSED" />
    <resolution amount="FIXED" />
    <WithStack>In the parallel debug view, it seems that whenever the similator enters a suspended state (breakpoint hit,  
end of step, etc.) the view switches to the plaform debug view.
Can you describe more in details, please?  What do you mean "the view switches
to the plaform debug view"?

(In reply to comment #0)
&gt; In the parallel debug view, it seems that whenever the similator enters a
suspended state (breakpoint hit,  
&gt; end of step, etc.) the view switches to the plaform debug view.
Sorry, I meant perspective, not view. So you're in the parallel debug perspective and you do a step 
command. When the program suspends, the perspective switches to the platform/CDT debug perspective.
When the eclipse detected the suspended event, it will find the perspective from
the launch configuration.  I remembered that Donny has mentioned this problem
before.  Anyway, I found the solution.  Please go to the launch configuration
dialog, then click on "Parallel Development".  You will see the "Perspective"
tab in right hand side.  In this tab, you can set the specific perspective for
launching your job in run or debug mode.  Now I will find a way to preset the
parallel perspective in this two combo boxes.

(In reply to comment #2)
&gt; Sorry, I meant perspective, not view. So you're in the parallel debug
perspective and you do a step 
&gt; command. When the program suspends, the perspective switches to the
platform/CDT debug perspective.
Yes, that seems to stop the switching. Please see if there is some way to make this the default setting for 
the parallel launch. Thanks.
Fixed this bug.
fixed.  never occur the problem again.</WithStack>
    <WithOutStack>In the parallel debug view, it seems that whenever the similator enters a suspended state (breakpoint hit,  
end of step, etc.) the view switches to the plaform debug view.
Can you describe more in details, please?  What do you mean "the view switches
to the plaform debug view"?

(In reply to comment #0)
&gt; In the parallel debug view, it seems that whenever the similator enters a
suspended state (breakpoint hit,  
&gt; end of step, etc.) the view switches to the plaform debug view.
Sorry, I meant perspective, not view. So you're in the parallel debug perspective and you do a step 
command. When the program suspends, the perspective switches to the platform/CDT debug perspective.
When the eclipse detected the suspended event, it will find the perspective from
the launch configuration.  I remembered that Donny has mentioned this problem
before.  Anyway, I found the solution.  Please go to the launch configuration
dialog, then click on "Parallel Development".  You will see the "Perspective"
tab in right hand side.  In this tab, you can set the specific perspective for
launching your job in run or debug mode.  Now I will find a way to preset the
parallel perspective in this two combo boxes.

(In reply to comment #2)
&gt; Sorry, I meant perspective, not view. So you're in the parallel debug
perspective and you do a step 
&gt; command. When the program suspends, the perspective switches to the
platform/CDT debug perspective.
Yes, that seems to stop the switching. Please see if there is some way to make this the default setting for 
the parallel launch. Thanks.
Fixed this bug.
fixed.  never occur the problem again.</WithOutStack>
  </Bug>
  <Bug>
    <BugId amount="110891" />
    <CreationDate amount="2005-09-27 22:29:00 -0400" />
    <DupId amount="" />
    <classification amount="Eclipse Foundation" />
    <Product amount="z_Archived" />
    <component amount="VE" />
    <Version amount="unspecified" />
    <rep_platform amount="PC" />
    <op_sys amount="All" />
    <priority amount="P3" />
    <bug_severity amount="normal" />
    <Summery>G2X: The bean name doesn't reflect to "Java Beans" view.</Summery>
    <Patches amount="0" />
    <Stacktraces amount="0" />
    <SourceCodeRegions amount="0" />
    <Enumerations amount="1">
      <Enumeration lines="10">
        <Lines>
          <Line>1. Create a new Java Project.</Line>
          <Line>2. Create a Visual Class in the Java Project you created in step 1.</Line>
          <Line>3. In the "Style:" tree on the left hand side expand the "Swing" tree folder</Line>
          <Line>and select the "Frame" option.</Line>
          <Line>4. Type in a suitable class name in the "Name:" field, then click "Finish"</Line>
          <Line>button.</Line>
          <Line>5. Click the "Choose Bean" entry in the palette.</Line>
          <Line>6. Type in "jbutton" in the text field on the top and verify that JButton class</Line>
          <Line>is shown below.</Line>
          <Line>7. Type in "myJbutton" in the "Bean name" field, then click "OK" button.</Line>
        </Lines>
      </Enumeration>
    </Enumerations>
    <bug_status amount="CLOSED" />
    <resolution amount="FIXED" />
    <WithStack>OS:	RHEL 4.0 update 2
Language: Dutch
Build level: 1.1.0.1	
JDK version:  IBM JDK 1.4.2 SR2
Test case #: VE 01 ENABLEMENT TESTING VE

Summary: G2X: The bean name doesn't reflect to "Java Beans" view. 

Steps to recreate problem:
1. Create a new Java Project. 
2. Create a Visual Class in the Java Project you created in step 1. 
3. In the "Style:" tree on the left hand side expand the "Swing" tree folder 
and select the "Frame" option.
4. Type in a suitable class name in the "Name:" field, then click "Finish" 
button.
5. Click the "Choose Bean" entry in the palette. 
6. Type in "jbutton" in the text field on the top and verify that JButton class 
is shown below. 
7. Type in "myJbutton" in the "Bean name" field, then click "OK" button.


&lt;&lt;Error&gt;&gt;
	In the Java Beans view, the Bean name displays as "jButton" , 
not "myJbutton" created in step 7. (please see BeanName.jpg)
 
&lt;&lt;Expected Result&gt;&gt;  
	The Bean name should displays as you created in step 7 in the Java 
Beans view.(ex. myJbutton).
Created attachment 27600
screen capture
Sri,
This is a regression from 1.0.2.2.
It fails on both 1.1 and 1.1.0.1 and fails on Windows and Linux.
I also noticed it doesn't pre-load the bean name field with the default name
whereas in 1.0.2.2, it does.
Released fixes in ChooseBeanDialog.java, ChooseBeanDialogUtilities.java and
FieldNameValidator.java.
The status is updated to RESOLVED, but we can not get a build later than 9/27. 
We know that the target milestone is 1.2M1. Is there any build for bug 
verification?
Thank You!!
Unfortunately we just moved to a new build machine last week and are in the
process of getting the build to work. Once thats done and a build is available I
will post in this defect. Sorry for the delay!
Please check the new build 'N20051018' for the fixes.
Verified OK in build : Eclipse SDK N20051023 + VE_SDK_N20051018.
~~ by Sunny .

Verified in build : Eclipse SDK N20051023 + VE_SDK_N20051018.
~by Sunny</WithStack>
    <WithOutStack>OS:	RHEL 4.0 update 2
Language: Dutch
Build level: 1.1.0.1	
JDK version:  IBM JDK 1.4.2 SR2
Test case #: VE 01 ENABLEMENT TESTING VE

Summary: G2X: The bean name doesn't reflect to "Java Beans" view. 

Steps to recreate problem:
1. Create a new Java Project. 
2. Create a Visual Class in the Java Project you created in step 1. 
3. In the "Style:" tree on the left hand side expand the "Swing" tree folder 
and select the "Frame" option.
4. Type in a suitable class name in the "Name:" field, then click "Finish" 
button.
5. Click the "Choose Bean" entry in the palette. 
6. Type in "jbutton" in the text field on the top and verify that JButton class 
is shown below. 
7. Type in "myJbutton" in the "Bean name" field, then click "OK" button.


&lt;&lt;Error&gt;&gt;
	In the Java Beans view, the Bean name displays as "jButton" , 
not "myJbutton" created in step 7. (please see BeanName.jpg)
 
&lt;&lt;Expected Result&gt;&gt;  
	The Bean name should displays as you created in step 7 in the Java 
Beans view.(ex. myJbutton).
Created attachment 27600
screen capture
Sri,
This is a regression from 1.0.2.2.
It fails on both 1.1 and 1.1.0.1 and fails on Windows and Linux.
I also noticed it doesn't pre-load the bean name field with the default name
whereas in 1.0.2.2, it does.
Released fixes in ChooseBeanDialog.java, ChooseBeanDialogUtilities.java and
FieldNameValidator.java.
The status is updated to RESOLVED, but we can not get a build later than 9/27. 
We know that the target milestone is 1.2M1. Is there any build for bug 
verification?
Thank You!!
Unfortunately we just moved to a new build machine last week and are in the
process of getting the build to work. Once thats done and a build is available I
will post in this defect. Sorry for the delay!
Please check the new build 'N20051018' for the fixes.
Verified OK in build : Eclipse SDK N20051023 + VE_SDK_N20051018.
~~ by Sunny .

Verified in build : Eclipse SDK N20051023 + VE_SDK_N20051018.
~by Sunny</WithOutStack>
  </Bug>
  <Bug>
    <BugId amount="110892" />
    <CreationDate amount="2005-09-27 23:05:00 -0400" />
    <DupId amount="" />
    <classification amount="Mylyn" />
    <Product amount="Mylyn" />
    <component amount="Core" />
    <Version amount="unspecified" />
    <rep_platform amount="Other" />
    <op_sys amount="other" />
    <priority amount="P5" />
    <bug_severity amount="minor" />
    <Summery>[sandbox] repeated active searches should not induce landmark interest</Summery>
    <Patches amount="0" />
    <Stacktraces amount="0" />
    <SourceCodeRegions amount="0" />
    <Enumerations amount="0" />
    <bug_status amount="NEW" />
    <resolution amount="" />
    <WithStack>Currently elements can become landmarks by repeatedly showing up in active search matches.</WithStack>
    <WithOutStack>Currently elements can become landmarks by repeatedly showing up in active search matches.</WithOutStack>
  </Bug>
  <Bug>
    <BugId amount="110893" />
    <CreationDate amount="2005-09-28 00:02:00 -0400" />
    <DupId amount="" />
    <classification amount="Eclipse" />
    <Product amount="JDT" />
    <component amount="Doc" />
    <Version amount="3.1" />
    <rep_platform amount="All" />
    <op_sys amount="All" />
    <priority amount="P3" />
    <bug_severity amount="enhancement" />
    <Summery>[doc] Improve JDT documentation on working with JDT Java model</Summery>
    <Patches amount="0" />
    <Stacktraces amount="0" />
    <SourceCodeRegions amount="0" />
    <Enumerations amount="0" />
    <bug_status amount="NEW" />
    <resolution amount="" />
    <WithStack>I am developing a plugin that does code generation into existing Java code. I 
am having a difficult time accessing information above the level of Javadoc 
APIs about some aspects of the JDT core. It appears that the "JDT Developer 
Plugin Guide" provided with Eclipse has some large gaps in its coverage, and 
there is scant other articles covering these topics other than scattered pieces 
of info in the newsgroups.

* The "unresolved" Java model obtained from source has some major limitations. 
This need to be documented more and methods to resolve model elements provided.

* For a qualified classname, how does one obtain an IType for it?

* What are the steps involved to go from a IField or IMethod to find an IType 
instance representing its type?

These types of issues must surely be encountered by anyone attempting to 
programatically work with source code within Eclipse, so better documentation 
would be very useful.
I will also add: *if* standard utlity methods exist to perform these types of 
transformations, could their location be documented as well?
Moving to JDT/Doc
Srikanth, can someone in JDT Core check whether this is still the case and update the doc if needed?
(In reply to comment #3)
&gt; Srikanth, can someone in JDT Core check whether this is still the case and
&gt; update the doc if needed?

Sure, Jay can you please follow up -- Thanks.</WithStack>
    <WithOutStack>I am developing a plugin that does code generation into existing Java code. I 
am having a difficult time accessing information above the level of Javadoc 
APIs about some aspects of the JDT core. It appears that the "JDT Developer 
Plugin Guide" provided with Eclipse has some large gaps in its coverage, and 
there is scant other articles covering these topics other than scattered pieces 
of info in the newsgroups.

* The "unresolved" Java model obtained from source has some major limitations. 
This need to be documented more and methods to resolve model elements provided.

* For a qualified classname, how does one obtain an IType for it?

* What are the steps involved to go from a IField or IMethod to find an IType 
instance representing its type?

These types of issues must surely be encountered by anyone attempting to 
programatically work with source code within Eclipse, so better documentation 
would be very useful.
I will also add: *if* standard utlity methods exist to perform these types of 
transformations, could their location be documented as well?
Moving to JDT/Doc
Srikanth, can someone in JDT Core check whether this is still the case and update the doc if needed?
(In reply to comment #3)
&gt; Srikanth, can someone in JDT Core check whether this is still the case and
&gt; update the doc if needed?

Sure, Jay can you please follow up -- Thanks.</WithOutStack>
  </Bug>
  <Bug>
    <BugId amount="110894" />
    <CreationDate amount="2005-09-28 00:04:00 -0400" />
    <DupId amount="" />
    <classification amount="RT" />
    <Product amount="ECF" />
    <component amount="ecf.examples" />
    <Version amount="unspecified" />
    <rep_platform amount="PC" />
    <op_sys amount="Windows XP" />
    <priority amount="P3" />
    <bug_severity amount="enhancement" />
    <Summery>UI features for multi-user chat</Summery>
    <Patches amount="0" />
    <Stacktraces amount="0" />
    <SourceCodeRegions amount="0" />
    <Enumerations amount="0" />
    <bug_status amount="RESOLVED" />
    <resolution amount="FIXED" />
    <WithStack>Several UI features needed for multi-user chat:

The entered/left messages were missing the server name, for example,
"(2005-09-15 13:19:26) Lux@org entered the room."

There should be an option to supress the "xyz entered/left the room" message.

Allow right click on a person to get more info or send IM or block.

Let the user change font size easily. Right click in chat window should have a
Preferences option.

The font size preference doesn't seem to work (tried setting it, applying it, no
effect, closed chat view, reopened it, no effect).

Show when somebody (like the main guest) is typing.


Show emoticons like  :)  and  :-P  .


The text entry area should be word wrapped.

You cannot paste multiple lines of text into the text entry area. Only the first
line is pasted.

There is no audio feedback for anything in ECF. For example, new IM,
entered/left room, etc.

IM window should be a detached view.

The Join ECF Group dialog should remember the previous settings.
&gt; The entered/left messages were missing the server name, for example,
&gt; "(2005-09-15 13:19:26) Lux@org entered the room."

I'm getting a user signature string that does not include the server's full
name, but is otherwise correct. This may be because the chat server software is
not configured to report it (i.e., it uses the server's local hostname w/out any
domain name).

&gt; The text entry area should be word wrapped.
&gt; You cannot paste multiple lines of text into the text entry area. Only the first
&gt; line is pasted.
&gt; The Join ECF Group dialog should remember the previous settings.

Done.

Closing this bug out, as many features covered.  For additional, please file new bug.</WithStack>
    <WithOutStack>Several UI features needed for multi-user chat:

The entered/left messages were missing the server name, for example,
"(2005-09-15 13:19:26) Lux@org entered the room."

There should be an option to supress the "xyz entered/left the room" message.

Allow right click on a person to get more info or send IM or block.

Let the user change font size easily. Right click in chat window should have a
Preferences option.

The font size preference doesn't seem to work (tried setting it, applying it, no
effect, closed chat view, reopened it, no effect).

Show when somebody (like the main guest) is typing.


Show emoticons like  :)  and  :-P  .


The text entry area should be word wrapped.

You cannot paste multiple lines of text into the text entry area. Only the first
line is pasted.

There is no audio feedback for anything in ECF. For example, new IM,
entered/left room, etc.

IM window should be a detached view.

The Join ECF Group dialog should remember the previous settings.
&gt; The entered/left messages were missing the server name, for example,
&gt; "(2005-09-15 13:19:26) Lux@org entered the room."

I'm getting a user signature string that does not include the server's full
name, but is otherwise correct. This may be because the chat server software is
not configured to report it (i.e., it uses the server's local hostname w/out any
domain name).

&gt; The text entry area should be word wrapped.
&gt; You cannot paste multiple lines of text into the text entry area. Only the first
&gt; line is pasted.
&gt; The Join ECF Group dialog should remember the previous settings.

Done.

Closing this bug out, as many features covered.  For additional, please file new bug.</WithOutStack>
  </Bug>
  <Bug>
    <BugId amount="110895" />
    <CreationDate amount="2005-09-28 00:04:00 -0400" />
    <DupId amount="" />
    <classification amount="BIRT" />
    <Product amount="BIRT" />
    <component amount="Report" />
    <Version amount="2.0.0" />
    <rep_platform amount="PC" />
    <op_sys amount="Windows XP" />
    <priority amount="P3" />
    <bug_severity amount="minor" />
    <Summery>Confusing Property name label (Text Alignment)</Summery>
    <Patches amount="0" />
    <Stacktraces amount="0" />
    <SourceCodeRegions amount="0" />
    <Enumerations amount="0" />
    <bug_status amount="RESOLVED" />
    <resolution amount="WONTFIX" />
    <WithStack>I'm trying to center my chart on the page, and after a while I realize I have to
use the "Text Alignment" property to-do this.

The vertical counter part is called "Vertical Alignment", so why don't you call
"Text Alignment" "Horizontal Alignment" and get everything consistent and more
descriptive.
Created attachment 27602
picture of property in question

vertical alignment property for centering a chart..
The prop name is widely used and if it is changed, that is related the design 
file compatibilty problem. 
The prop name is widely used and if it is changed, that is related the design 
file compatibilty problem. 

Verified in build 20051220.</WithStack>
    <WithOutStack>I'm trying to center my chart on the page, and after a while I realize I have to
use the "Text Alignment" property to-do this.

The vertical counter part is called "Vertical Alignment", so why don't you call
"Text Alignment" "Horizontal Alignment" and get everything consistent and more
descriptive.
Created attachment 27602
picture of property in question

vertical alignment property for centering a chart..
The prop name is widely used and if it is changed, that is related the design 
file compatibilty problem. 
The prop name is widely used and if it is changed, that is related the design 
file compatibilty problem. 

Verified in build 20051220.</WithOutStack>
  </Bug>
  <Bug>
    <BugId amount="110896" />
    <CreationDate amount="2005-09-28 00:06:00 -0400" />
    <DupId amount="" />
    <classification amount="RT" />
    <Product amount="ECF" />
    <component amount="ecf.examples" />
    <Version amount="unspecified" />
    <rep_platform amount="PC" />
    <op_sys amount="Windows XP" />
    <priority amount="P3" />
    <bug_severity amount="enhancement" />
    <Summery>Additional UI features for multi-user chat</Summery>
    <Patches amount="0" />
    <Stacktraces amount="0" />
    <SourceCodeRegions amount="0" />
    <Enumerations amount="0" />
    <bug_status amount="RESOLVED" />
    <resolution amount="INVALID" />
    <WithStack>UI features desired for multi-user chat

Support threads, so messages about different subjects aren't interlaced.
In what context and/or protocol does this bug apply to?

Does this bug still apply now that a year's worth of development has past?
Marking this bug as invalid because context has changed quite a lot...and number of UI improvements in both XMPP chat and IRC chat have indeed been made since bug was filed.  Also, the desirability and priority of threading UI has to be established before the design and implementation is taken on.</WithStack>
    <WithOutStack>UI features desired for multi-user chat

Support threads, so messages about different subjects aren't interlaced.
In what context and/or protocol does this bug apply to?

Does this bug still apply now that a year's worth of development has past?
Marking this bug as invalid because context has changed quite a lot...and number of UI improvements in both XMPP chat and IRC chat have indeed been made since bug was filed.  Also, the desirability and priority of threading UI has to be established before the design and implementation is taken on.</WithOutStack>
  </Bug>
  <Bug>
    <BugId amount="110897" />
    <CreationDate amount="2005-09-28 00:29:00 -0400" />
    <DupId amount="" />
    <classification amount="Tools" />
    <Product amount="CDT" />
    <component amount="cdt-debug" />
    <Version amount="3.0" />
    <rep_platform amount="PC" />
    <op_sys amount="Windows XP" />
    <priority amount="P3" />
    <bug_severity amount="normal" />
    <Summery>The CPU is not supported by selected debugger.</Summery>
    <Patches amount="0" />
    <Stacktraces amount="0" />
    <SourceCodeRegions amount="0" />
    <Enumerations amount="0" />
    <bug_status amount="NEW" />
    <resolution amount="" />
    <WithStack>Using Arm Elf specific build of GNU tool chain, when creatng a debug profile as
soon as the file to debug is selected, the above error is displaid, and the
debug button invalidated.

Interesting thing is if I can get the debugger profile onto the 'quick select'
on the debug dropdown, eventhough it reports this error, it debugs pretty well.


Using:
Target Remote /dev/ttyS0, through RedBoot monitor.
The same problem also happens with CDT 3.1.0.200606261600, on an Intel x86-64 machine and an executable generated using 'gcc' for AMD-64 machines.

Here's the output of 'file' on the executable:
&lt;filename&gt;: ELF 64-bit LSB executable, AMD x86-64, version 1 (SYSV), for GNU/Linux 2.4.0, dynamically linked (uses shared libs), not stripped

There is no problem to run the executable on the Intel machine, and also no problem to debug it using 'gdb'.
I am using RHEL 4 x86 64 and I get the same message. This executable is myslqd.

The file command gives me:

 ELF 64-bit LSB executable, AMD x86-64, version 1 (SYSV), for GNU/Linux 2.4.0, dynamically linked (uses shared libs), not stripped</WithStack>
    <WithOutStack>Using Arm Elf specific build of GNU tool chain, when creatng a debug profile as
soon as the file to debug is selected, the above error is displaid, and the
debug button invalidated.

Interesting thing is if I can get the debugger profile onto the 'quick select'
on the debug dropdown, eventhough it reports this error, it debugs pretty well.


Using:
Target Remote /dev/ttyS0, through RedBoot monitor.
The same problem also happens with CDT 3.1.0.200606261600, on an Intel x86-64 machine and an executable generated using 'gcc' for AMD-64 machines.

Here's the output of 'file' on the executable:
&lt;filename&gt;: ELF 64-bit LSB executable, AMD x86-64, version 1 (SYSV), for GNU/Linux 2.4.0, dynamically linked (uses shared libs), not stripped

There is no problem to run the executable on the Intel machine, and also no problem to debug it using 'gdb'.
I am using RHEL 4 x86 64 and I get the same message. This executable is myslqd.

The file command gives me:

 ELF 64-bit LSB executable, AMD x86-64, version 1 (SYSV), for GNU/Linux 2.4.0, dynamically linked (uses shared libs), not stripped</WithOutStack>
  </Bug>
  <Bug>
    <BugId amount="110898" />
    <CreationDate amount="2005-09-28 01:47:00 -0400" />
    <DupId amount="" />
    <classification amount="WebTools" />
    <Product amount="WTP ServerTools" />
    <component amount="jst.server" />
    <Version amount="1.5" />
    <rep_platform amount="PC" />
    <op_sys amount="Windows XP" />
    <priority amount="P3" />
    <bug_severity amount="normal" />
    <Summery>Bad publish performance regression in 1.0M8</Summery>
    <Patches amount="0" />
    <Stacktraces amount="0" />
    <SourceCodeRegions amount="0" />
    <Enumerations amount="1">
      <Enumeration lines="5">
        <Lines>
          <Line>1. Create a big project like Igor's example (Dynamic Web Project, Tomcat 5.0 is</Line>
          <Line>target runtime).</Line>
          <Line>2. Create Tomcat 5.0 Server and add module to this server.</Line>
          <Line>3. Try to edit and save any file (e.g. web.xml).</Line>
          <Line>It takes a long time.</Line>
        </Lines>
      </Enumeration>
    </Enumerations>
    <bug_status amount="CLOSED" />
    <resolution amount="FIXED" />
    <WithStack>I just upgraded my env from 0.7 to 1.0M8 and noticed that publish to tomcat test
environment (i.e. deploy modules from workspace) now takes ~25 seconds compared
to &lt;1 second with 0.7. 

After some digging I've found that most of the time is spent in
J2EEFlexProjDeployable#members, which is called twice each time I publish. This
indeed is pretty I/O intensive call -- #members recursivly scans all resources
in all module's folders.

My workspace currently has just only one WAR with ~15 utility jar dependent
modules. Overall there is about 5k java classes and 1500 JSPs, so it is not
terribly huge.
Hi,
At least one performance fix went in this week that should help, but I'd like to
understand your scenario to make sure we do resolve this. Is your app or
workspace something that you can send me to reproduce the problem, or do you see
this for any size/type of web app?
Created attachment 28105
sample webapp with 1500 jsp files in TAR.GZ format

Attached is a sample web app with 1500 JSP files. I expected to see almost
instant publish with "my" tomcat server plugin but it actually takes ~10
seconds on my T42. Interestingly enough, it takes ~15 seconds to publish the
same project to using standard WTP tomcat plugin.
I've found a solution/workaround for this problem. Looking at what happens in
ServerBehaviourDelegate#publish(int,IProgressMonitor) I found two i/o intensive
calls that account for the unexpected delay. First, in order to calculate
per-module deltaKind (i.e. added, deleted, changed or no_change) 
getPublishedResourceDelta(IModule[]) is called. Then
updatePublishInfo(int,IModule[]) is called for each module to store all module
resources in ModulePublishInfo. "My" tomcat plugin does not use deltaKind nor
module published resources, so I overrode the two time consuming methods to
basically do nothing and this solved publish performance problem for me.

This is not a problem for me anymore. You can close this bug if you do not plan
to make similar changes to other server plugins or to WTP server framework itself.
I have the same problem but not only for publishing.

1. Create a big project like Igor's example (Dynamic Web Project, Tomcat 5.0 is 
target runtime).
2. Create Tomcat 5.0 Server and add module to this server.
3. Try to edit and save any file (e.g. web.xml).
It takes a long time.

The cause is the same: getPublishedResourceDelta(IModule[]) and
updatePublishInfo(int,IModule[])

Igor's workaround is not useful for this situation.
Performance improvements to the members() method is covered by 116149. I've just released some additional improvements to the server code.

Publishing is going to be slower than M8 because there is no .deployables directory anymore and we're almost always going to have to copy resources. I beleive these two bugs will improve the performace significantly; if you still see issues once 116149 is released as well (hopefully for M9) then please open up additional bugs.
This change is a bulk update of all _un_targeted, fixed, resolved bugs upon release of M5. This particular bug _might_ have been fixed earlier than M5. (Feel free to correct). 


verified
Closing.</WithStack>
    <WithOutStack>I just upgraded my env from 0.7 to 1.0M8 and noticed that publish to tomcat test
environment (i.e. deploy modules from workspace) now takes ~25 seconds compared
to &lt;1 second with 0.7. 

After some digging I've found that most of the time is spent in
J2EEFlexProjDeployable#members, which is called twice each time I publish. This
indeed is pretty I/O intensive call -- #members recursivly scans all resources
in all module's folders.

My workspace currently has just only one WAR with ~15 utility jar dependent
modules. Overall there is about 5k java classes and 1500 JSPs, so it is not
terribly huge.
Hi,
At least one performance fix went in this week that should help, but I'd like to
understand your scenario to make sure we do resolve this. Is your app or
workspace something that you can send me to reproduce the problem, or do you see
this for any size/type of web app?
Created attachment 28105
sample webapp with 1500 jsp files in TAR.GZ format

Attached is a sample web app with 1500 JSP files. I expected to see almost
instant publish with "my" tomcat server plugin but it actually takes ~10
seconds on my T42. Interestingly enough, it takes ~15 seconds to publish the
same project to using standard WTP tomcat plugin.
I've found a solution/workaround for this problem. Looking at what happens in
ServerBehaviourDelegate#publish(int,IProgressMonitor) I found two i/o intensive
calls that account for the unexpected delay. First, in order to calculate
per-module deltaKind (i.e. added, deleted, changed or no_change) 
getPublishedResourceDelta(IModule[]) is called. Then
updatePublishInfo(int,IModule[]) is called for each module to store all module
resources in ModulePublishInfo. "My" tomcat plugin does not use deltaKind nor
module published resources, so I overrode the two time consuming methods to
basically do nothing and this solved publish performance problem for me.

This is not a problem for me anymore. You can close this bug if you do not plan
to make similar changes to other server plugins or to WTP server framework itself.
I have the same problem but not only for publishing.

1. Create a big project like Igor's example (Dynamic Web Project, Tomcat 5.0 is 
target runtime).
2. Create Tomcat 5.0 Server and add module to this server.
3. Try to edit and save any file (e.g. web.xml).
It takes a long time.

The cause is the same: getPublishedResourceDelta(IModule[]) and
updatePublishInfo(int,IModule[])

Igor's workaround is not useful for this situation.
Performance improvements to the members() method is covered by 116149. I've just released some additional improvements to the server code.

Publishing is going to be slower than M8 because there is no .deployables directory anymore and we're almost always going to have to copy resources. I beleive these two bugs will improve the performace significantly; if you still see issues once 116149 is released as well (hopefully for M9) then please open up additional bugs.
This change is a bulk update of all _un_targeted, fixed, resolved bugs upon release of M5. This particular bug _might_ have been fixed earlier than M5. (Feel free to correct). 


verified
Closing.</WithOutStack>
  </Bug>
  <Bug>
    <BugId amount="110899" />
    <CreationDate amount="2005-09-28 01:52:00 -0400" />
    <DupId amount="" />
    <classification amount="BIRT" />
    <Product amount="BIRT" />
    <component amount="Report Designer" />
    <Version amount="2.0.0" />
    <rep_platform amount="PC" />
    <op_sys amount="Windows XP" />
    <priority amount="P3" />
    <bug_severity amount="enhancement" />
    <Summery>In a library file, Drag a text from palette into header of master page in outline view, it's not allowed.</Summery>
    <Patches amount="0" />
    <Stacktraces amount="0" />
    <SourceCodeRegions amount="0" />
    <Enumerations amount="2">
      <Enumeration lines="2">
        <Lines>
          <Line>a) If a lib can not include master page,  master page node/tab needs to be removed from lib outline view and lib element editor.  I</Line>
          <Line>b) If a lib can include master page elements, dragging a master page from the lib to the report outline view or report editor, should replace the current master page in the report.  Including the lib doesn't mean the master page will be used in the report.   Model team needs to create a reference structure to the master page in the lib when user explicitly drags the master page from lib to report.</Line>
        </Lines>
      </Enumeration>
      <Enumeration lines="8">
        <Lines>
          <Line>1. Drag a text from palette into master page header of outline view.</Line>
          <Line>2. It's not allowed.</Line>
          <Line>3. But it is allowed to insert an element from master page header in outline</Line>
          <Line>view directly.</Line>
          <Line>Doesn't plan to support muliple master page and master page editor in library editor.</Line>
          <Line>Defered to next release.</Line>
          <Line>a) If a lib can not include master page,  master page node/tab needs to be removed from lib outline view and lib element editor.  I</Line>
          <Line>b) If a lib can include master page elements, dragging a master page from the lib to the report outline view or report editor, should replace the current master page in the report.  Including the lib doesn't mean the master page will be used in the report.   Model team needs to create a reference structure to the master page in the lib when user explicitly drags the master page from lib to report.</Line>
        </Lines>
      </Enumeration>
    </Enumerations>
    <bug_status amount="CLOSED" />
    <resolution amount="INVALID" />
    <WithStack>Descriptions: In a library file, Drag a text from palette into header of 
master page in outline view, it's not allowed.

Steps to reproduce:
1. Drag a text from palette into master page header of outline view.
2. It's not allowed.
3. But it is allowed to insert an element from master page header in outline 
view directly.
Doesn't plan to support muliple master page and master page editor in library editor.
Defered to next release.
a) If a lib can not include master page,  master page node/tab needs to be removed from lib outline view and lib element editor.  I
b) If a lib can include master page elements, dragging a master page from the lib to the report outline view or report editor, should replace the current master page in the report.  Including the lib doesn't mean the master page will be used in the report.   Model team needs to create a reference structure to the master page in the lib when user explicitly drags the master page from lib to report.

We can support a) to resolve this bug, and log an enhancement to support b).
Don't support master pages node in outline view with new GUI design.
Verifid in build 20051207.</WithStack>
    <WithOutStack>Descriptions: In a library file, Drag a text from palette into header of 
master page in outline view, it's not allowed.

Steps to reproduce:
1. Drag a text from palette into master page header of outline view.
2. It's not allowed.
3. But it is allowed to insert an element from master page header in outline 
view directly.
Doesn't plan to support muliple master page and master page editor in library editor.
Defered to next release.
a) If a lib can not include master page,  master page node/tab needs to be removed from lib outline view and lib element editor.  I
b) If a lib can include master page elements, dragging a master page from the lib to the report outline view or report editor, should replace the current master page in the report.  Including the lib doesn't mean the master page will be used in the report.   Model team needs to create a reference structure to the master page in the lib when user explicitly drags the master page from lib to report.

We can support a) to resolve this bug, and log an enhancement to support b).
Don't support master pages node in outline view with new GUI design.
Verifid in build 20051207.</WithOutStack>
  </Bug>
  <Bug>
    <BugId amount="110900" />
    <CreationDate amount="2005-09-28 02:09:00 -0400" />
    <DupId amount="110783" />
    <classification amount="BIRT" />
    <Product amount="BIRT" />
    <component amount="Report Designer" />
    <Version amount="2.0.0" />
    <rep_platform amount="PC" />
    <op_sys amount="Windows XP" />
    <priority amount="P3" />
    <bug_severity amount="minor" />
    <Summery>"Preview" button in tool bar is enabled in library file.</Summery>
    <Patches amount="0" />
    <Stacktraces amount="0" />
    <SourceCodeRegions amount="0" />
    <Enumerations amount="1">
      <Enumeration lines="3">
        <Lines>
          <Line>1. Create a library file.</Line>
          <Line>2. Notice that "Preview" button in tool bar is enabled.</Line>
          <Line>Please add all preivew disable related comments to 110783</Line>
        </Lines>
      </Enumeration>
    </Enumerations>
    <bug_status amount="CLOSED" />
    <resolution amount="DUPLICATE" />
    <WithStack>Description: "Preview" button in tool bar is enabled in library file.

Steps to reproduce:
1. Create a library file.
2. Notice that "Preview" button in tool bar is enabled.
Please add all preivew disable related comments to 110783

*** This bug has been marked as a duplicate of 110783 ***
Verified in build 20051122.</WithStack>
    <WithOutStack>Description: "Preview" button in tool bar is enabled in library file.

Steps to reproduce:
1. Create a library file.
2. Notice that "Preview" button in tool bar is enabled.
Please add all preivew disable related comments to 110783

*** This bug has been marked as a duplicate of 110783 ***
Verified in build 20051122.</WithOutStack>
  </Bug>
</infozilla-output>

