<?xml version="1.0" encoding="UTF-8"?>
<infozilla-output>
  <Bug>
    <BugId amount="111901" />
    <CreationDate amount="2005-10-07 10:32:00 -0400" />
    <DupId amount="" />
    <classification amount="Modeling" />
    <Product amount="GMF-Runtime" />
    <component amount="General" />
    <Version amount="1.0" />
    <rep_platform amount="PC" />
    <op_sys amount="Mac OS X - Carbon (unsup.)" />
    <priority amount="P3" />
    <bug_severity amount="enhancement" />
    <Summery>[MacOS] Ability to move shapes using cursors keys. (by default)</Summery>
    <Patches amount="0" />
    <Stacktraces amount="0" />
    <SourceCodeRegions amount="0" />
    <Enumerations amount="0" />
    <bug_status amount="RESOLVED" />
    <resolution amount="FIXED" />
    <WithStack>Ability to use the four arrow keys (CRTL+ cursor key) to layout precisely 
currently selected shapes in diagrams.  This is available through the 
accessibility feature (pressing the "." key), but there should be a preference 
to make this the default behavior without having to enter accessibility mode.
Ready to commit, but this depends on GMF adopting GEF with Bug 213359
Looks like 198751 is a duplicate for this bug.
*** Bug 198751 has been marked as a duplicate of this bug. ***
Created attachment 86685
Requirements and Design Document
The behavior has been changed in the GMF Runtime so that the user can now use the arrow keys to move a selected shape. The shape moves immediately when an arrow key is pressed. The Tab and Ctrl + Tab keys are now used to navigate between shapes on the diagram. 


(In reply to comment #5)
This doesn't appear to work on the Mac, or is there some special key combination I should be using? (I tried all those I thought could work) 
Reopening since this does not work on Mac. Mouse cursor moves while arrows being pressed but the underlying node does not.
It does not seem to work on my linux version (kubutu-8.04):
I did have to press '.' once.
Also just pressing the arrow key once did not move the shape, I had to press the key continuously.
This enhancement can remain resolved.

Opened Bug 247585 for the MacOS (and maybe Linux) bug.
[GMF Restructure] Bug 319140 : product GMF and component
Runtime Diagram was the original product and component for this bug</WithStack>
    <WithOutStack>Ability to use the four arrow keys (CRTL+ cursor key) to layout precisely 
currently selected shapes in diagrams.  This is available through the 
accessibility feature (pressing the "." key), but there should be a preference 
to make this the default behavior without having to enter accessibility mode.
Ready to commit, but this depends on GMF adopting GEF with Bug 213359
Looks like 198751 is a duplicate for this bug.
*** Bug 198751 has been marked as a duplicate of this bug. ***
Created attachment 86685
Requirements and Design Document
The behavior has been changed in the GMF Runtime so that the user can now use the arrow keys to move a selected shape. The shape moves immediately when an arrow key is pressed. The Tab and Ctrl + Tab keys are now used to navigate between shapes on the diagram. 


(In reply to comment #5)
This doesn't appear to work on the Mac, or is there some special key combination I should be using? (I tried all those I thought could work) 
Reopening since this does not work on Mac. Mouse cursor moves while arrows being pressed but the underlying node does not.
It does not seem to work on my linux version (kubutu-8.04):
I did have to press '.' once.
Also just pressing the arrow key once did not move the shape, I had to press the key continuously.
This enhancement can remain resolved.

Opened Bug 247585 for the MacOS (and maybe Linux) bug.
[GMF Restructure] Bug 319140 : product GMF and component
Runtime Diagram was the original product and component for this bug</WithOutStack>
  </Bug>
  <Bug>
    <BugId amount="111902" />
    <CreationDate amount="2005-10-07 10:35:00 -0400" />
    <DupId amount="" />
    <classification amount="Modeling" />
    <Product amount="GMF-Runtime" />
    <component amount="General" />
    <Version amount="1.0" />
    <rep_platform amount="PC" />
    <op_sys amount="Windows XP" />
    <priority amount="P1" />
    <bug_severity amount="enhancement" />
    <Summery>Usability:  Some diagrams may be hard to see when the grid is visible</Summery>
    <Patches amount="0" />
    <Stacktraces amount="0" />
    <SourceCodeRegions amount="0" />
    <Enumerations amount="2">
      <Enumeration lines="24">
        <Lines>
          <Line>1.  Make the grid color customizable</Line>
          <Line>2.  Change the style of the grid</Line>
          <Line>*** Bug 113689 has been marked as a duplicate of this bug. ***</Line>
          <Line>Users of ScalableImageFigure should benefit from these changes...</Line>
          <Line>Created attachment 32099</Line>
          <Line>patch for grid enhancements</Line>
          <Line>Created attachment 32100</Line>
          <Line>patch for grid enhancements</Line>
          <Line>Created attachment 32101</Line>
          <Line>patch for grid enhancements</Line>
          <Line>The grid now allows the user to specify:</Line>
          <Line>- grid visibility</Line>
          <Line>- ruler visibility</Line>
          <Line>- grid order</Line>
          <Line>- ruler units</Line>
          <Line>- grid spacing</Line>
          <Line>- snap to grid</Line>
          <Line>- grid line color</Line>
          <Line>- grid line style</Line>
          <Line>as well as restoring defaults.</Line>
          <Line>The functionality is available through the rulers and grid property section.</Line>
          <Line>[target cleanup] 1.0 M4 was the original target milestone for this bug</Line>
          <Line>[GMF Restructure] Bug 319140 : product GMF and component</Line>
          <Line>Runtime Diagram was the original product and component for this bug</Line>
        </Lines>
      </Enumeration>
      <Enumeration lines="13">
        <Lines>
          <Line>- grid visibility</Line>
          <Line>- ruler visibility</Line>
          <Line>- grid order</Line>
          <Line>- ruler units</Line>
          <Line>- grid spacing</Line>
          <Line>- snap to grid</Line>
          <Line>- grid line color</Line>
          <Line>- grid line style</Line>
          <Line>as well as restoring defaults.</Line>
          <Line>The functionality is available through the rulers and grid property section.</Line>
          <Line>[target cleanup] 1.0 M4 was the original target milestone for this bug</Line>
          <Line>[GMF Restructure] Bug 319140 : product GMF and component</Line>
          <Line>Runtime Diagram was the original product and component for this bug</Line>
        </Lines>
      </Enumeration>
    </Enumerations>
    <bug_status amount="RESOLVED" />
    <resolution amount="FIXED" />
    <WithStack>In certain diagrams depending on their default colors, the shapes may be hard 
to see if they are the same color as grid.

Suggestions:
1.  Make the grid color customizable
2.  Change the style of the grid
*** Bug 113689 has been marked as a duplicate of this bug. ***
Users of ScalableImageFigure should benefit from these changes...
Created attachment 32099
patch for grid enhancements
Created attachment 32100
patch for grid enhancements
Created attachment 32101
patch for grid enhancements
The grid now allows the user to specify:
- grid visibility
- ruler visibility
- grid order
- ruler units
- grid spacing
- snap to grid
- grid line color
- grid line style
as well as restoring defaults.
The functionality is available through the rulers and grid property section.
[target cleanup] 1.0 M4 was the original target milestone for this bug
[GMF Restructure] Bug 319140 : product GMF and component
Runtime Diagram was the original product and component for this bug</WithStack>
    <WithOutStack>In certain diagrams depending on their default colors, the shapes may be hard 
to see if they are the same color as grid.

Suggestions:
1.  Make the grid color customizable
2.  Change the style of the grid
*** Bug 113689 has been marked as a duplicate of this bug. ***
Users of ScalableImageFigure should benefit from these changes...
Created attachment 32099
patch for grid enhancements
Created attachment 32100
patch for grid enhancements
Created attachment 32101
patch for grid enhancements
The grid now allows the user to specify:
- grid visibility
- ruler visibility
- grid order
- ruler units
- grid spacing
- snap to grid
- grid line color
- grid line style
as well as restoring defaults.
The functionality is available through the rulers and grid property section.
[target cleanup] 1.0 M4 was the original target milestone for this bug
[GMF Restructure] Bug 319140 : product GMF and component
Runtime Diagram was the original product and component for this bug</WithOutStack>
  </Bug>
  <Bug>
    <BugId amount="111903" />
    <CreationDate amount="2005-10-07 10:38:00 -0400" />
    <DupId amount="" />
    <classification amount="Modeling" />
    <Product amount="GMF-Runtime" />
    <component amount="General" />
    <Version amount="1.0" />
    <rep_platform amount="PC" />
    <op_sys amount="Windows XP" />
    <priority amount="P3" />
    <bug_severity amount="enhancement" />
    <Summery>[Commands] Provide 1-touch command to clean unresolved elements / connectors from diagram</Summery>
    <Patches amount="0" />
    <Stacktraces amount="0" />
    <SourceCodeRegions amount="0" />
    <Enumerations amount="0" />
    <bug_status amount="RESOLVED" />
    <resolution amount="WONTFIX" />
    <WithStack>With many elements on the diagram changes to dependent projects could create 
tons of unresolved references and it would be useful to provide a command on 
the Diagram Menu to clean up the diagram
No plans to do this work in GMF.
[GMF Restructure] Bug 319140 : product GMF and component
Runtime Diagram was the original product and component for this bug</WithStack>
    <WithOutStack>With many elements on the diagram changes to dependent projects could create 
tons of unresolved references and it would be useful to provide a command on 
the Diagram Menu to clean up the diagram
No plans to do this work in GMF.
[GMF Restructure] Bug 319140 : product GMF and component
Runtime Diagram was the original product and component for this bug</WithOutStack>
  </Bug>
  <Bug>
    <BugId amount="111904" />
    <CreationDate amount="2005-10-07 10:40:00 -0400" />
    <DupId amount="" />
    <classification amount="Eclipse" />
    <Product amount="Platform" />
    <component amount="SWT" />
    <Version amount="3.2" />
    <rep_platform amount="PC" />
    <op_sys amount="Windows XP" />
    <priority amount="P3" />
    <bug_severity amount="normal" />
    <Summery>SWTError: Cannot set text</Summery>
    <Patches amount="0" />
    <Stacktraces amount="1">
      <Stacktrace timestamp="1437330586202">
        <Exception>org.eclipse.swt.SWTError</Exception>
        <Reason>Cannot set text</Reason>
        <Frames>
          <Frame depth="0">org.eclipse.swt.SWT.error(SWT.java:3288)</Frame>
          <Frame depth="1">org.eclipse.swt.SWT.error(SWT.java:3185)</Frame>
          <Frame depth="2">org.eclipse.swt.SWT.error(SWT.java:3156)</Frame>
          <Frame depth="3">org.eclipse.swt.widgets.Widget.error(Widget.java:407)</Frame>
          <Frame depth="4">org.eclipse.swt.widgets.MenuItem.setText(MenuItem.java:1032)</Frame>
          <Frame depth="5">org.eclipse.jface.action.ActionContributionItem.update(ActionContributionItem.java:812)</Frame>
          <Frame depth="6">org.eclipse.jface.action.ActionContributionItem.fill(ActionContributionItem.java:287)</Frame>
          <Frame depth="7">org.eclipse.jface.action.MenuManager.update(MenuManager.java:627)</Frame>
          <Frame depth="8">org.eclipse.jface.action.MenuManager.update(MenuManager.java:549)</Frame>
          <Frame depth="9">org.eclipse.jface.action.MenuManager.fill(MenuManager.java:232)</Frame>
          <Frame depth="10">org.eclipse.jface.action.MenuManager.update(MenuManager.java:627)</Frame>
          <Frame depth="11">org.eclipse.jface.action.MenuManager.handleAboutToShow(MenuManager.java:373)</Frame>
          <Frame depth="12">org.eclipse.jface.action.MenuManager.access$0(MenuManager.java:369)</Frame>
          <Frame depth="13">org.eclipse.jface.action.MenuManager$2.menuShown(MenuManager.java:386)</Frame>
          <Frame depth="14">org.eclipse.swt.widgets.TypedListener.handleEvent(TypedListener.java:117)</Frame>
          <Frame depth="15">org.eclipse.swt.widgets.EventTable.sendEvent(EventTable.java:66)</Frame>
          <Frame depth="16">org.eclipse.swt.widgets.Widget.sendEvent(Widget.java:884)</Frame>
          <Frame depth="17">org.eclipse.swt.widgets.Widget.sendEvent(Widget.java:908)</Frame>
          <Frame depth="18">org.eclipse.swt.widgets.Widget.sendEvent(Widget.java:889)</Frame>
          <Frame depth="19">org.eclipse.swt.widgets.Control.WM_INITMENUPOPUP(Control.java:3365)</Frame>
          <Frame depth="20">org.eclipse.swt.widgets.Control.windowProc(Control.java:3084)</Frame>
          <Frame depth="21">org.eclipse.swt.widgets.Decorations.windowProc(Decorations.java:1538)</Frame>
          <Frame depth="22">org.eclipse.swt.widgets.Display.windowProc(Display.java:3854)</Frame>
          <Frame depth="23">org.eclipse.swt.internal.win32.OS.TrackPopupMenu(Native Method)</Frame>
          <Frame depth="24">org.eclipse.swt.widgets.Menu._setVisible(Menu.java:225)</Frame>
          <Frame depth="25">org.eclipse.swt.widgets.Display.runPopups(Display.java:3238)</Frame>
          <Frame depth="26">org.eclipse.swt.widgets.Display.readAndDispatch(Display.java:2835)</Frame>
          <Frame depth="27">org.eclipse.ui.internal.Workbench.runEventLoop(Workbench.java:1763)</Frame>
          <Frame depth="28">org.eclipse.ui.internal.Workbench.runUI(Workbench.java:1727)</Frame>
          <Frame depth="29">org.eclipse.ui.internal.Workbench.createAndRunWorkbench(Workbench.java:371)</Frame>
          <Frame depth="30">org.eclipse.ui.PlatformUI.createAndRunWorkbench(PlatformUI.java:143)</Frame>
          <Frame depth="31">org.eclipse.ui.internal.ide.IDEApplication.run(IDEApplication.java:106)</Frame>
          <Frame depth="32">org.eclipse.core.internal.runtime.PlatformActivator$1.run(PlatformActivator.java:226)</Frame>
          <Frame depth="33">org.eclipse.core.runtime.adaptor.EclipseStarter.run(EclipseStarter.java:377)</Frame>
          <Frame depth="34">org.eclipse.core.runtime.adaptor.EclipseStarter.run(EclipseStarter.java:164)</Frame>
          <Frame depth="35">sun.reflect.NativeMethodAccessorImpl.invoke0(Native Method)</Frame>
          <Frame depth="36">sun.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:39)</Frame>
          <Frame depth="37">sun.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:25)</Frame>
          <Frame depth="38">java.lang.reflect.Method.invoke(Method.java:324)</Frame>
          <Frame depth="39">org.eclipse.core.launcher.Main.invokeFramework(Main.java:338)</Frame>
          <Frame depth="40">org.eclipse.core.launcher.Main.basicRun(Main.java:282)</Frame>
          <Frame depth="41">org.eclipse.core.launcher.Main.run(Main.java:977)</Frame>
          <Frame depth="42">org.eclipse.core.launcher.Main.main(Main.java:952)</Frame>
        </Frames>
      </Stacktrace>
    </Stacktraces>
    <SourceCodeRegions amount="0" />
    <Enumerations amount="0" />
    <bug_status amount="RESOLVED" />
    <resolution amount="WORKSFORME" />
    <WithStack>Using build I20051004-0800, I got an SWTError: "Cannot set text" while trying to
collapse a class in Outline view.

Here's the entire stack trace:
!ENTRY org.eclipse.ui 4 0 2005-10-07 16:37:34.775
!MESSAGE Cannot set text
!STACK 0
org.eclipse.swt.SWTError: Cannot set text
	at org.eclipse.swt.SWT.error(SWT.java:3288)
	at org.eclipse.swt.SWT.error(SWT.java:3185)
	at org.eclipse.swt.SWT.error(SWT.java:3156)
	at org.eclipse.swt.widgets.Widget.error(Widget.java:407)
	at org.eclipse.swt.widgets.MenuItem.setText(MenuItem.java:1032)
	at
org.eclipse.jface.action.ActionContributionItem.update(ActionContributionItem.java:812)
	at
org.eclipse.jface.action.ActionContributionItem.fill(ActionContributionItem.java:287)
	at org.eclipse.jface.action.MenuManager.update(MenuManager.java:627)
	at org.eclipse.jface.action.MenuManager.update(MenuManager.java:549)
	at org.eclipse.jface.action.MenuManager.fill(MenuManager.java:232)
	at org.eclipse.jface.action.MenuManager.update(MenuManager.java:627)
	at org.eclipse.jface.action.MenuManager.handleAboutToShow(MenuManager.java:373)
	at org.eclipse.jface.action.MenuManager.access$0(MenuManager.java:369)
	at org.eclipse.jface.action.MenuManager$2.menuShown(MenuManager.java:386)
	at org.eclipse.swt.widgets.TypedListener.handleEvent(TypedListener.java:117)
	at org.eclipse.swt.widgets.EventTable.sendEvent(EventTable.java:66)
	at org.eclipse.swt.widgets.Widget.sendEvent(Widget.java:884)
	at org.eclipse.swt.widgets.Widget.sendEvent(Widget.java:908)
	at org.eclipse.swt.widgets.Widget.sendEvent(Widget.java:889)
	at org.eclipse.swt.widgets.Control.WM_INITMENUPOPUP(Control.java:3365)
	at org.eclipse.swt.widgets.Control.windowProc(Control.java:3084)
	at org.eclipse.swt.widgets.Decorations.windowProc(Decorations.java:1538)
	at org.eclipse.swt.widgets.Display.windowProc(Display.java:3854)
	at org.eclipse.swt.internal.win32.OS.TrackPopupMenu(Native Method)
	at org.eclipse.swt.widgets.Menu._setVisible(Menu.java:225)
	at org.eclipse.swt.widgets.Display.runPopups(Display.java:3238)
	at org.eclipse.swt.widgets.Display.readAndDispatch(Display.java:2835)
	at org.eclipse.ui.internal.Workbench.runEventLoop(Workbench.java:1763)
	at org.eclipse.ui.internal.Workbench.runUI(Workbench.java:1727)
	at org.eclipse.ui.internal.Workbench.createAndRunWorkbench(Workbench.java:371)
	at org.eclipse.ui.PlatformUI.createAndRunWorkbench(PlatformUI.java:143)
	at org.eclipse.ui.internal.ide.IDEApplication.run(IDEApplication.java:106)
	at
org.eclipse.core.internal.runtime.PlatformActivator$1.run(PlatformActivator.java:226)
	at org.eclipse.core.runtime.adaptor.EclipseStarter.run(EclipseStarter.java:377)
	at org.eclipse.core.runtime.adaptor.EclipseStarter.run(EclipseStarter.java:164)
	at sun.reflect.NativeMethodAccessorImpl.invoke0(Native Method)
	at sun.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:39)
	at
sun.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:25)
	at java.lang.reflect.Method.invoke(Method.java:324)
	at org.eclipse.core.launcher.Main.invokeFramework(Main.java:338)
	at org.eclipse.core.launcher.Main.basicRun(Main.java:282)
	at org.eclipse.core.launcher.Main.run(Main.java:977)
	at org.eclipse.core.launcher.Main.main(Main.java:952)
Note that eclipse force an exit, but save properly the workspace...

Created attachment 28028
Snapshot of my Outline view

Note that there's already an issue in my Outline view as fields were wrongly
repeated several times in it.
Perhaps this problem origin comes from JDT/UI?
The error in question happens when the operating system API that sets the text 
into a menu item fails.  This can happen when an application leaks.  Does this 
happen ever time?

Note that the duplicated tree items might indicate a place where setting the 
text into a tree item failed but we didn't check the return code from the 
operating system.
I got this error only once and it never happens again...
Feel free to set it as REMIND, I'll reopen bug if I get it again.
Please reopen if you get it again.</WithStack>
    <WithOutStack>Using build I20051004-0800, I got an SWTError: "Cannot set text" while trying to
collapse a class in Outline view.

Here's the entire stack trace:
!ENTRY org.eclipse.ui 4 0 2005-10-07 16:37:34.775
!MESSAGE Cannot set text
!STACK 0

Note that eclipse force an exit, but save properly the workspace...

Created attachment 28028
Snapshot of my Outline view

Note that there's already an issue in my Outline view as fields were wrongly
repeated several times in it.
Perhaps this problem origin comes from JDT/UI?
The error in question happens when the operating system API that sets the text 
into a menu item fails.  This can happen when an application leaks.  Does this 
happen ever time?

Note that the duplicated tree items might indicate a place where setting the 
text into a tree item failed but we didn't check the return code from the 
operating system.
I got this error only once and it never happens again...
Feel free to set it as REMIND, I'll reopen bug if I get it again.
Please reopen if you get it again.</WithOutStack>
  </Bug>
  <Bug>
    <BugId amount="111905" />
    <CreationDate amount="2005-10-07 10:40:00 -0400" />
    <DupId amount="" />
    <classification amount="Modeling" />
    <Product amount="GMF-Runtime" />
    <component amount="General" />
    <Version amount="1.0" />
    <rep_platform amount="PC" />
    <op_sys amount="Windows XP" />
    <priority amount="P5" />
    <bug_severity amount="minor" />
    <Summery>GEF 3.1 migration: migrate rubber band selection tool to the new selection tool (avoid duplicate code)</Summery>
    <Patches amount="0" />
    <Stacktraces amount="0" />
    <SourceCodeRegions amount="0" />
    <Enumerations amount="1">
      <Enumeration lines="5">
        <Lines>
          <Line>1. Connectors selection (mentioned in the previous comment)</Line>
          <Line>Currently GEF MarqueeSelectionTool is selecting connectors only if it's source and target are selected nodes. Hence, this selection logic for connector's won't work for GMF, because in GMF we should be able to select connectors contained by the marquee rectangle regardless whether source and target (not necessarily nodes) are selected or not. Also filtering of edit parts that cannot be selected in the MarqueeSelectionTool cannot be adpated by RubberbandSelectionTool (edit parts off the current view port won't be selected)</Line>
          <Line />
          <Line>2. The auto-scroll capability</Line>
          <Line>This features alters the way marquee selection rectangle is calculated and feedback added. The marquee rectangle start point should not be translated relative to feedback figure for RubberbandSelectionTool, but it must be translated in MarqueeSelectionTool, which is done in a private method.</Line>
        </Lines>
      </Enumeration>
    </Enumerations>
    <bug_status amount="REOPENED" />
    <resolution amount="" />
    <WithStack>- Remove special code for selectiing connectors since this has been 
implemented in the GEF selection tool.
Alex can check this one out.
As I understood, we need to modify RubberbandSelectionTool according to the fixes that went in for MarqueeSelectionTool. However, there is still a difference in a way how connections are included into selection between these two tools. The GEF's MarqueeSelectionTool can include connection into selection if both source and target are inside the marquee rectangle, i.e. if both source and target nodes are included into selection. Therefore if marquee rectangle contains connection, but does not fully contain source and target nodes - connection is not selected. The GMF RubberbandSelectionTool doesn't care if source and target nodes are selected and simply selects a connection if it's inside the marquee rectangle, although source and target nodes may not be.

I'm not sure what has to be done with this issue now. Is it ok to have MarqueeSelectionTool logic for selecting connections in GMF? or should we leave RubberbandSelectionTool and raise a feature request agaisnt GEF to support RubberbandSelectionTool connection selection?
Created attachment 54793
GEF MarqueeSelectionTool modification

At the moment this migration is not possible due to the following reasons:

1. Connectors selection (mentioned in the previous comment)
Currently GEF MarqueeSelectionTool is selecting connectors only if it's source and target are selected nodes. Hence, this selection logic for connector's won't work for GMF, because in GMF we should be able to select connectors contained by the marquee rectangle regardless whether source and target (not necessarily nodes) are selected or not. Also filtering of edit parts that cannot be selected in the MarqueeSelectionTool cannot be adpated by RubberbandSelectionTool (edit parts off the current view port won't be selected)

2. The auto-scroll capability
This features alters the way marquee selection rectangle is calculated and feedback added. The marquee rectangle start point should not be translated relative to feedback figure for RubberbandSelectionTool, but it must be translated in MarqueeSelectionTool, which is done in a private method.

My opinion that instead of requesting new features from GEF's MarqueeSelectionTool, it's better to request more extensible MarqueeSelectionTool, i.e. simply modification of visibility for a couple of private methods and variables.

I attached the patch for GEF MarqueeSelectionTool with a modification described above. The patch for migrated RubberbandSelectionTool for proposed MarqueeSelectionTool will be attached next
Created attachment 54794
Migrated RubberbandSelection tool (for modified GEF MarqueeSelectionTool)

The patch for Migrated RubberbandSelection tool for the modified GEF MarqueeSelectionTool
This migration is not possible right now:

1) GEF's behavior for selecting connectors is different from the one from current RubberbandSelectionTool.

2) Due to the auto-scroll functionality of RubberbandSelectionTool it calculates the bounds for the feedback differently from MarqueeSelectionTool and this affects the feedback drawn and calculation of edit parts within that are within the marquee rectangle. Also, GEF's mechanism for filtering out of edit parts that cannot be selected filters out edit parts outside of current view port (private MarqueeSelectionTool#isFigureVisible(IFigure) method)

Marking this issue as to be fixed "later".
LATER/REMIND bugs are being automatically reopened as P5 because the LATER and REMIND resolutions are deprecated.
[GMF Restructure] Bug 319140 : product GMF and component Runtime Diagram was the original product and component for this bug</WithStack>
    <WithOutStack>- Remove special code for selectiing connectors since this has been 
implemented in the GEF selection tool.
Alex can check this one out.
As I understood, we need to modify RubberbandSelectionTool according to the fixes that went in for MarqueeSelectionTool. However, there is still a difference in a way how connections are included into selection between these two tools. The GEF's MarqueeSelectionTool can include connection into selection if both source and target are inside the marquee rectangle, i.e. if both source and target nodes are included into selection. Therefore if marquee rectangle contains connection, but does not fully contain source and target nodes - connection is not selected. The GMF RubberbandSelectionTool doesn't care if source and target nodes are selected and simply selects a connection if it's inside the marquee rectangle, although source and target nodes may not be.

I'm not sure what has to be done with this issue now. Is it ok to have MarqueeSelectionTool logic for selecting connections in GMF? or should we leave RubberbandSelectionTool and raise a feature request agaisnt GEF to support RubberbandSelectionTool connection selection?
Created attachment 54793
GEF MarqueeSelectionTool modification

At the moment this migration is not possible due to the following reasons:

1. Connectors selection (mentioned in the previous comment)
Currently GEF MarqueeSelectionTool is selecting connectors only if it's source and target are selected nodes. Hence, this selection logic for connector's won't work for GMF, because in GMF we should be able to select connectors contained by the marquee rectangle regardless whether source and target (not necessarily nodes) are selected or not. Also filtering of edit parts that cannot be selected in the MarqueeSelectionTool cannot be adpated by RubberbandSelectionTool (edit parts off the current view port won't be selected)

2. The auto-scroll capability
This features alters the way marquee selection rectangle is calculated and feedback added. The marquee rectangle start point should not be translated relative to feedback figure for RubberbandSelectionTool, but it must be translated in MarqueeSelectionTool, which is done in a private method.

My opinion that instead of requesting new features from GEF's MarqueeSelectionTool, it's better to request more extensible MarqueeSelectionTool, i.e. simply modification of visibility for a couple of private methods and variables.

I attached the patch for GEF MarqueeSelectionTool with a modification described above. The patch for migrated RubberbandSelectionTool for proposed MarqueeSelectionTool will be attached next
Created attachment 54794
Migrated RubberbandSelection tool (for modified GEF MarqueeSelectionTool)

The patch for Migrated RubberbandSelection tool for the modified GEF MarqueeSelectionTool
This migration is not possible right now:

1) GEF's behavior for selecting connectors is different from the one from current RubberbandSelectionTool.

2) Due to the auto-scroll functionality of RubberbandSelectionTool it calculates the bounds for the feedback differently from MarqueeSelectionTool and this affects the feedback drawn and calculation of edit parts within that are within the marquee rectangle. Also, GEF's mechanism for filtering out of edit parts that cannot be selected filters out edit parts outside of current view port (private MarqueeSelectionTool#isFigureVisible(IFigure) method)

Marking this issue as to be fixed "later".
LATER/REMIND bugs are being automatically reopened as P5 because the LATER and REMIND resolutions are deprecated.
[GMF Restructure] Bug 319140 : product GMF and component Runtime Diagram was the original product and component for this bug</WithOutStack>
  </Bug>
  <Bug>
    <BugId amount="111906" />
    <CreationDate amount="2005-10-07 10:42:00 -0400" />
    <DupId amount="" />
    <classification amount="Modeling" />
    <Product amount="GMF-Runtime" />
    <component amount="General" />
    <Version amount="1.0" />
    <rep_platform amount="PC" />
    <op_sys amount="Windows XP" />
    <priority amount="P3" />
    <bug_severity amount="enhancement" />
    <Summery>[Connections] Improve removal of a bendpoint from a connector (Press ALT and click on the bendpoint)</Summery>
    <Patches amount="0" />
    <Stacktraces amount="0" />
    <SourceCodeRegions amount="0" />
    <Enumerations amount="0" />
    <bug_status amount="NEW" />
    <resolution amount="" />
    <WithStack>Remove a bendpoint from a connector (Press ALT and click on the bendpoint).
Not yet assigned to a release (assigned to a milestone with the Plan keyword).

Moving to the next release, GMF 2.1. 


ALT probably isn't a good idea because it conflicts with the deactivation of snap to grid when moving to bend point. (I believe the ALT key is checked in general after the line/connection has been selected)
[GMF Restructure] Bug 319140 : product GMF and component
Runtime was the original product and component for this bug</WithStack>
    <WithOutStack>Remove a bendpoint from a connector (Press ALT and click on the bendpoint).
Not yet assigned to a release (assigned to a milestone with the Plan keyword).

Moving to the next release, GMF 2.1. 


ALT probably isn't a good idea because it conflicts with the deactivation of snap to grid when moving to bend point. (I believe the ALT key is checked in general after the line/connection has been selected)
[GMF Restructure] Bug 319140 : product GMF and component
Runtime was the original product and component for this bug</WithOutStack>
  </Bug>
  <Bug>
    <BugId amount="111907" />
    <CreationDate amount="2005-10-07 10:44:00 -0400" />
    <DupId amount="" />
    <classification amount="Modeling" />
    <Product amount="GMF-Runtime" />
    <component amount="General" />
    <Version amount="1.0" />
    <rep_platform amount="PC" />
    <op_sys amount="Windows XP" />
    <priority amount="P1" />
    <bug_severity amount="enhancement" />
    <Summery>Palette Service refactoring: allow definition of a palette drawer with-out forcing a contribution</Summery>
    <Patches amount="0" />
    <Stacktraces amount="0" />
    <SourceCodeRegions amount="0" />
    <Enumerations amount="1">
      <Enumeration lines="20">
        <Lines>
          <Line>- This is necessary for plug-ins that wish to define a default drawer that</Line>
          <Line>clients may wish to utilize of not.  i.e. Geoshapes</Line>
          <Line>- Ability to open the geoshapes palette drawer by default is dependent on this.</Line>
          <Line>Is this related to two different semantic models contributing to an editor their palettes. I have this use case where I need two different semantic models (with appropriate gmf runtime providers, etc...) to share an editor and sprinkle them with some OCL rules to govern possible cross semantic model relationships.</Line>
          <Line>It is already possible to create multiple palettes, so I don't think the last point is an issue.</Line>
          <Line>Moving to M5</Line>
          <Line>Moving to M6.  Not enough time left in M5 to address this.</Line>
          <Line>Created attachment 37198</Line>
          <Line>Describes how client will use it.</Line>
          <Line>Purpose:</Line>
          <Line>Bugzilla#111907 Support Separation of Palette Definition and Contribution</Line>
          <Line>- Updated the palette schema to support definition of a palette entry only and contribution of a palette entry that was predefined, as well as removing an existing palette entry</Line>
          <Line>- Changed the public API in IPaletteProvider from: contributeToPalette(IEditorPart editor, Object content, PaletteRoot root)</Line>
          <Line>to:  contributeToPalette(IEditorPart editor, Object content, PaletteRoot root, Map predefinedEntries)</Line>
          <Line>The Taipan example needed to be updated, but I don't expect any other clients implement IPaletteProvider directly.</Line>
          <Line>- Updated the DefaultPaletteProvider to conform to the new API and support the new functionality.</Line>
          <Line>- Added section "Separating the Definition and Contribution of a Palette Entry" to the "Configuring and Extending</Line>
          <Line>the Diagram Palette" tutorial in the GMF SDK.</Line>
          <Line>- Added XML in the org.eclipse.gmf.examples.runtime.diagram.geoshapes plugin to expand the geoshapes drawer by default.</Line>
          <Line>- Added JUnit: PaletteServiceTests.testPredefineAndContributeEntries.</Line>
        </Lines>
      </Enumeration>
    </Enumerations>
    <bug_status amount="RESOLVED" />
    <resolution amount="FIXED" />
    <WithStack>- This is necessary for plug-ins that wish to define a default drawer that 
clients may wish to utilize of not.  i.e. Geoshapes 
- Ability to open the geoshapes palette drawer by default is dependent on this.
Is this related to two different semantic models contributing to an editor their palettes. I have this use case where I need two different semantic models (with appropriate gmf runtime providers, etc...) to share an editor and sprinkle them with some OCL rules to govern possible cross semantic model relationships.
It is already possible to create multiple palettes, so I don't think the last point is an issue.
Moving to M5
Moving to M6.  Not enough time left in M5 to address this.
Created attachment 37198
Describes how client will use it.
Purpose: 
Bugzilla#111907 Support Separation of Palette Definition and Contribution
- Updated the palette schema to support definition of a palette entry only and contribution of a palette entry that was predefined, as well as removing an existing palette entry
- Changed the public API in IPaletteProvider from: contributeToPalette(IEditorPart editor, Object content, PaletteRoot root)
to:  contributeToPalette(IEditorPart editor, Object content, PaletteRoot root, Map predefinedEntries)
The Taipan example needed to be updated, but I don't expect any other clients implement IPaletteProvider directly.
- Updated the DefaultPaletteProvider to conform to the new API and support the new functionality.
- Added section "Separating the Definition and Contribution of a Palette Entry" to the "Configuring and Extending 
the Diagram Palette" tutorial in the GMF SDK.
- Added XML in the org.eclipse.gmf.examples.runtime.diagram.geoshapes plugin to expand the geoshapes drawer by default.
- Added JUnit: PaletteServiceTests.testPredefineAndContributeEntries.

Activities: 
Bugzilla#111907 gmf_head cmahoney 060329 Support Separation of Palette Definition and Contribution

Code Reviewed by:
Steve

How tested: 
- Verified Geoshapes palette is expanded by default on Geoshapes diagram only.

JUnit Tests:  
diagram.ui tests -- all passed
[target cleanup] 1.0 M6 was the original target milestone for this bug
[GMF Restructure] Bug 319140 : product GMF and component Runtime Diagram was the original product and component for this bug</WithStack>
    <WithOutStack>- This is necessary for plug-ins that wish to define a default drawer that 
clients may wish to utilize of not.  i.e. Geoshapes 
- Ability to open the geoshapes palette drawer by default is dependent on this.
Is this related to two different semantic models contributing to an editor their palettes. I have this use case where I need two different semantic models (with appropriate gmf runtime providers, etc...) to share an editor and sprinkle them with some OCL rules to govern possible cross semantic model relationships.
It is already possible to create multiple palettes, so I don't think the last point is an issue.
Moving to M5
Moving to M6.  Not enough time left in M5 to address this.
Created attachment 37198
Describes how client will use it.
Purpose: 
Bugzilla#111907 Support Separation of Palette Definition and Contribution
- Updated the palette schema to support definition of a palette entry only and contribution of a palette entry that was predefined, as well as removing an existing palette entry
- Changed the public API in IPaletteProvider from: contributeToPalette(IEditorPart editor, Object content, PaletteRoot root)
to:  contributeToPalette(IEditorPart editor, Object content, PaletteRoot root, Map predefinedEntries)
The Taipan example needed to be updated, but I don't expect any other clients implement IPaletteProvider directly.
- Updated the DefaultPaletteProvider to conform to the new API and support the new functionality.
- Added section "Separating the Definition and Contribution of a Palette Entry" to the "Configuring and Extending 
the Diagram Palette" tutorial in the GMF SDK.
- Added XML in the org.eclipse.gmf.examples.runtime.diagram.geoshapes plugin to expand the geoshapes drawer by default.
- Added JUnit: PaletteServiceTests.testPredefineAndContributeEntries.

Activities: 
Bugzilla#111907 gmf_head cmahoney 060329 Support Separation of Palette Definition and Contribution

Code Reviewed by:
Steve

How tested: 
- Verified Geoshapes palette is expanded by default on Geoshapes diagram only.

JUnit Tests:  
diagram.ui tests -- all passed
[target cleanup] 1.0 M6 was the original target milestone for this bug
[GMF Restructure] Bug 319140 : product GMF and component Runtime Diagram was the original product and component for this bug</WithOutStack>
  </Bug>
  <Bug>
    <BugId amount="111908" />
    <CreationDate amount="2005-10-07 10:44:00 -0400" />
    <DupId amount="" />
    <classification amount="Eclipse" />
    <Product amount="Platform" />
    <component amount="Ant" />
    <Version amount="3.1" />
    <rep_platform amount="PC" />
    <op_sys amount="Windows XP" />
    <priority amount="P3" />
    <bug_severity amount="normal" />
    <Summery>Adapt to changes in JavaFileEditorInput for more flexible workspaces</Summery>
    <Patches amount="0" />
    <Stacktraces amount="0" />
    <SourceCodeRegions amount="0" />
    <Enumerations amount="0" />
    <bug_status amount="VERIFIED" />
    <resolution amount="FIXED" />
    <WithStack>Platform text is changing JavaFileEditorInput to make use of the file system 
support.

This breaks our use in Ant UI.
Applied and tested the patch provided by Dani.

Changes to ExternalHyperlink, AntDebugModelPresentation and MANIFEST.MF
Please verify Kevin.
verified</WithStack>
    <WithOutStack>Platform text is changing JavaFileEditorInput to make use of the file system 
support.

This breaks our use in Ant UI.
Applied and tested the patch provided by Dani.

Changes to ExternalHyperlink, AntDebugModelPresentation and MANIFEST.MF
Please verify Kevin.
verified</WithOutStack>
  </Bug>
  <Bug>
    <BugId amount="111909" />
    <CreationDate amount="2005-10-07 10:47:00 -0400" />
    <DupId amount="" />
    <classification amount="Modeling" />
    <Product amount="GMF-Runtime" />
    <component amount="General" />
    <Version amount="1.0" />
    <rep_platform amount="PC" />
    <op_sys amount="Windows XP" />
    <priority amount="P3" />
    <bug_severity amount="enhancement" />
    <Summery>[Layout] Default layout providers enhancements</Summery>
    <Patches amount="0" />
    <Stacktraces amount="0" />
    <SourceCodeRegions amount="0" />
    <Enumerations amount="0" />
    <bug_status amount="RESOLVED" />
    <resolution amount="WONTFIX" />
    <WithStack>- The layout algorithm fails to layout the newly added elements to the exiting 
elements in most of the cases.  Could be an option to the layout service API 
to find optimal location instead of using top left of existing bounding box?

- Looking for a bus-oriented layout, and/or a tree-structured view that can be 
maintained even in the presence of different types of relationships and/or is 
not a pure tree layout (more then one parent)
For "bus-oriented" layout - would need to provide drop-down from menu to 
optionally choose it or the current default layout
In the GEF project plan - they are planning something similar.  This could make
this enhancement merely an integration exercise with our layout service:

From GEF PP: "Org-Chart layout algorithm.  Laying out a strict hierarchy of
nodes in a tree layout similar to an org chart.  Two modes of layout are already
demonstrated in the draw2d.examples project.  But, the algorithm needs to run in
standalone mode, and flexible figures should be available which use the
standalone algorithm. [draw2d]"
We have no plans to look further into generic layout algorithms.
[GMF Restructure] Bug 319140 : product GMF and component
Runtime Diagram was the original product and component for this bug</WithStack>
    <WithOutStack>- The layout algorithm fails to layout the newly added elements to the exiting 
elements in most of the cases.  Could be an option to the layout service API 
to find optimal location instead of using top left of existing bounding box?

- Looking for a bus-oriented layout, and/or a tree-structured view that can be 
maintained even in the presence of different types of relationships and/or is 
not a pure tree layout (more then one parent)
For "bus-oriented" layout - would need to provide drop-down from menu to 
optionally choose it or the current default layout
In the GEF project plan - they are planning something similar.  This could make
this enhancement merely an integration exercise with our layout service:

From GEF PP: "Org-Chart layout algorithm.  Laying out a strict hierarchy of
nodes in a tree layout similar to an org chart.  Two modes of layout are already
demonstrated in the draw2d.examples project.  But, the algorithm needs to run in
standalone mode, and flexible figures should be available which use the
standalone algorithm. [draw2d]"
We have no plans to look further into generic layout algorithms.
[GMF Restructure] Bug 319140 : product GMF and component
Runtime Diagram was the original product and component for this bug</WithOutStack>
  </Bug>
  <Bug>
    <BugId amount="111910" />
    <CreationDate amount="2005-10-07 10:49:00 -0400" />
    <DupId amount="" />
    <classification amount="Eclipse" />
    <Product amount="Platform" />
    <component amount="SWT" />
    <Version amount="3.1.1" />
    <rep_platform amount="PC" />
    <op_sys amount="Linux-GTK" />
    <priority amount="P3" />
    <bug_severity amount="major" />
    <Summery>Regression: Empty unusable dialogs on Redhat 8+9 / gtk-2.0.6-8</Summery>
    <Patches amount="0" />
    <Stacktraces amount="1">
      <Stacktrace timestamp="1437330586220">
        <Exception>java.lang.ArithmeticException</Exception>
        <Reason>/ by zero</Reason>
        <Frames>
          <Frame depth="0">org.eclipse.swt.custom.SashFormLayout.computeSize(SashFormLayout.java:73)</Frame>
          <Frame depth="1">org.eclipse.swt.widgets.Composite.computeSize(Composite.java:192)</Frame>
          <Frame depth="2">org.eclipse.swt.layout.GridData.computeSize(GridData.java:489)</Frame>
          <Frame depth="3">org.eclipse.swt.layout.GridLayout.layout(GridLayout.java:459)</Frame>
          <Frame depth="4">org.eclipse.swt.layout.GridLayout.computeSize(GridLayout.java:155)</Frame>
          <Frame depth="5">org.eclipse.swt.widgets.Composite.computeSize(Composite.java:192)</Frame>
          <Frame depth="6">org.eclipse.swt.layout.GridData.computeSize(GridData.java:489)</Frame>
          <Frame depth="7">org.eclipse.swt.layout.GridLayout.layout(GridLayout.java:459)</Frame>
          <Frame depth="8">org.eclipse.swt.layout.GridLayout.computeSize(GridLayout.java:155)</Frame>
          <Frame depth="9">org.eclipse.swt.widgets.Composite.computeSize(Composite.java:192)</Frame>
          <Frame depth="10">org.eclipse.swt.layout.GridData.computeSize(GridData.java:489)</Frame>
          <Frame depth="11">org.eclipse.swt.layout.GridLayout.layout(GridLayout.java:459)</Frame>
          <Frame depth="12">org.eclipse.swt.layout.GridLayout.computeSize(GridLayout.java:155)</Frame>
          <Frame depth="13">org.eclipse.swt.widgets.Composite.computeSize(Composite.java:192)</Frame>
          <Frame depth="14">org.eclipse.swt.layout.FormData.computeSize(FormData.java:127)</Frame>
          <Frame depth="15">org.eclipse.swt.layout.FormLayout.layout(FormLayout.java:318)</Frame>
          <Frame depth="16">org.eclipse.swt.layout.FormLayout.layout(FormLayout.java:284)</Frame>
          <Frame depth="17">org.eclipse.swt.widgets.Composite.updateLayout(Composite.java:1133)</Frame>
          <Frame depth="18">org.eclipse.swt.widgets.Shell.resizeBounds(Shell.java:1071)</Frame>
          <Frame depth="19">org.eclipse.swt.widgets.Shell.setBounds(Shell.java:1115)</Frame>
          <Frame depth="20">org.eclipse.swt.widgets.Control.setSize(Control.java:753)</Frame>
          <Frame depth="21">org.eclipse.debug.internal.ui.launchConfigurations.LaunchConfigurationsDialog.setShellSize(LaunchConfigurationsDialog.java:941)</Frame>
          <Frame depth="22">org.eclipse.debug.internal.ui.launchConfigurations.LaunchConfigurationsDialog.resize(LaunchConfigurationsDialog.java:886)</Frame>
          <Frame depth="23">org.eclipse.debug.internal.ui.launchConfigurations.LaunchConfigurationsDialog.initializeBounds(LaunchConfigurationsDialog.java:1590)</Frame>
          <Frame depth="24">org.eclipse.jface.window.Window.create(Window.java:422)</Frame>
          <Frame depth="25">org.eclipse.jface.dialogs.Dialog.create(Dialog.java:996)</Frame>
          <Frame depth="26">org.eclipse.debug.internal.ui.launchConfigurations.LaunchConfigurationsDialog.create(LaunchConfigurationsDialog.java:1597)</Frame>
          <Frame depth="27">org.eclipse.jface.window.Window.open(Window.java:776)</Frame>
          <Frame depth="28">org.eclipse.debug.internal.ui.launchConfigurations.LaunchConfigurationsDialog.open(LaunchConfigurationsDialog.java:439)</Frame>
          <Frame depth="29">org.eclipse.debug.ui.DebugUITools$1.run(DebugUITools.java:356)</Frame>
          <Frame depth="30">org.eclipse.swt.custom.BusyIndicator.showWhile(BusyIndicator.java:69)</Frame>
          <Frame depth="31">org.eclipse.debug.ui.DebugUITools.openLaunchConfigurationDialogOnGroup(DebugUITools.java:360)</Frame>
          <Frame depth="32">org.eclipse.debug.ui.DebugUITools.openLaunchConfigurationDialogOnGroup(DebugUITools.java:302)</Frame>
        </Frames>
      </Stacktrace>
    </Stacktraces>
    <SourceCodeRegions amount="6">
      <source_code type="functioncall">
        <location start="763" end="788" />
        <code>getDefaultOrientation());</code>
      </source_code>
      <source_code type="functiondef">
        <location start="2321" end="2400" />
        <code>int /*long*/ gtk_size_allocate (int /*long*/ widget, int /*long*/ allocation) {</code>
      </source_code>
      <source_code type="assignment">
        <location start="2401" end="2448" />
        <code>int width = OS.GTK_WIDGET_WIDTH (shellHandle);</code>
      </source_code>
      <source_code type="assignment">
        <location start="2449" end="2498" />
        <code>int height = OS.GTK_WIDGET_HEIGHT (shellHandle);</code>
      </source_code>
      <source_code type="assignment">
        <location start="3749" end="3798" />
        <code>&gt; 	int width = OS.GTK_WIDGET_WIDTH (shellHandle);</code>
      </source_code>
      <source_code type="assignment">
        <location start="3799" end="3850" />
        <code>&gt; 	int height = OS.GTK_WIDGET_HEIGHT (shellHandle);</code>
      </source_code>
    </SourceCodeRegions>
    <Enumerations amount="0" />
    <bug_status amount="RESOLVED" />
    <resolution amount="FIXED" />
    <WithStack>On Redhat Linux 8 with the default GTK version (gtk2-2.0.6-8 and
gtk+-1.2.10-22), most dialogs that directly derive from org.eclipse.jface.Dialog
remain empty (gray on gray). For instance, this affects the "Filter Markers"
dialog which is available from the Problems or Tasks view when pressing the
filter button and also some dialogs in the Preferences.

This is a regression since Eclipse-3.1. It worked OK in Eclipse-3.0.1 as well as
3.0.2.

By investigation it turned out that when a dialog is marked resizeable, the bug
does not appear. Therefore, a valid workaround is to change the constructor of
org.eclipse.jface.Dialog such that setShellStyle() includes the SWT.RESIZE flag:

        setShellStyle(SWT.RESIZE | SWT.DIALOG_TRIM | SWT.APPLICATION_MODAL |
getDefaultOrientation());

We suspect, however, that a correct fix must be made somewhere else, since with
Eclipse-3.1 or later on Redhat 8 another problem is that most dialogs are not
correctly sized on open. They always appear in a default size, which is pretty
large, so that dialogs with only little content look bad. This affects the
startup progress monitor, all other progress monitors, the startup workspace
selection dialog, and all "simple" dialogs. It does not affect wizards,
Preferences, TitleAreaDialogs and other complex dialogs.

The same problem with empty dialogs appears on Redhat9 with GTK 2.0.6-8.

I'm marking severity as "major" since this problem makes Eclipse-3.1 unusable on
Redhat8 and 9, and there are Eclipse users (Nortel) which cannot upgrade to
newer gtk due to other software or company restrictions.
While SWT has made an effort to not break running under GTK+ 2.0.6, the 2.0.x
series was rather buggy and not widely deployed.  Red Hat 9 shipped with GTK+
2.2.1, so I'm not sure how you have a RH9 machine with 2.0.6 installed
(half-finished upgrade?).  The release notes for Eclipse 3.0 and higher have all
listed 2.2.1 as the official minimum version.  Adding McQ to the CC in case he
wants to comment on this, see the part about some users being unable to upgrade.

We don't have any RH8 machines here but I can help debug the problem.  The Shell
sizing code changed in 3.1 to address some blank-dialog races and improve the
efficiency of resizing.  In Shell.java, try adding a print in the size allocate
callback here:

int /*long*/ gtk_size_allocate (int /*long*/ widget, int /*long*/ allocation) {
	int width = OS.GTK_WIDGET_WIDTH (shellHandle);
	int height = OS.GTK_WIDGET_HEIGHT (shellHandle);

For a dialog that appears blank, what are the values for width and height that
are reported here?
Following exception is also seen on Redhat8 with the same GTK version, it might
be connected to the "empty dialog" problem:

java.lang.ArithmeticException: / by zero
	at org.eclipse.swt.custom.SashFormLayout.computeSize(SashFormLayout.java:73)
	at org.eclipse.swt.widgets.Composite.computeSize(Composite.java:192)
	at org.eclipse.swt.layout.GridData.computeSize(GridData.java:489)
	at org.eclipse.swt.layout.GridLayout.layout(GridLayout.java:459)
	at org.eclipse.swt.layout.GridLayout.computeSize(GridLayout.java:155)
	at org.eclipse.swt.widgets.Composite.computeSize(Composite.java:192)
	at org.eclipse.swt.layout.GridData.computeSize(GridData.java:489)
	at org.eclipse.swt.layout.GridLayout.layout(GridLayout.java:459)
	at org.eclipse.swt.layout.GridLayout.computeSize(GridLayout.java:155)
	at org.eclipse.swt.widgets.Composite.computeSize(Composite.java:192)
	at org.eclipse.swt.layout.GridData.computeSize(GridData.java:489)
	at org.eclipse.swt.layout.GridLayout.layout(GridLayout.java:459)
	at org.eclipse.swt.layout.GridLayout.computeSize(GridLayout.java:155)
	at org.eclipse.swt.widgets.Composite.computeSize(Composite.java:192)
	at org.eclipse.swt.layout.FormData.computeSize(FormData.java:127)
	at org.eclipse.swt.layout.FormLayout.layout(FormLayout.java:318)
	at org.eclipse.swt.layout.FormLayout.layout(FormLayout.java:284)
	at org.eclipse.swt.widgets.Composite.updateLayout(Composite.java:1133)
	at org.eclipse.swt.widgets.Shell.resizeBounds(Shell.java:1071)
	at org.eclipse.swt.widgets.Shell.setBounds(Shell.java:1115)
	at org.eclipse.swt.widgets.Control.setSize(Control.java:753)
	at
org.eclipse.debug.internal.ui.launchConfigurations.LaunchConfigurationsDialog.setShellSize(LaunchConfigurationsDialog.java:941)
	at
org.eclipse.debug.internal.ui.launchConfigurations.LaunchConfigurationsDialog.resize(LaunchConfigurationsDialog.java:886)
	at
org.eclipse.debug.internal.ui.launchConfigurations.LaunchConfigurationsDialog.initializeBounds(LaunchConfigurationsDialog.java:1590)
	at org.eclipse.jface.window.Window.create(Window.java:422)
	at org.eclipse.jface.dialogs.Dialog.create(Dialog.java:996)
	at
org.eclipse.debug.internal.ui.launchConfigurations.LaunchConfigurationsDialog.create(LaunchConfigurationsDialog.java:1597)
	at org.eclipse.jface.window.Window.open(Window.java:776)
	at
org.eclipse.debug.internal.ui.launchConfigurations.LaunchConfigurationsDialog.open(LaunchConfigurationsDialog.java:439)
	at org.eclipse.debug.ui.DebugUITools$1.run(DebugUITools.java:356)
	at org.eclipse.swt.custom.BusyIndicator.showWhile(BusyIndicator.java:69)
	at
org.eclipse.debug.ui.DebugUITools.openLaunchConfigurationDialogOnGroup(DebugUITools.java:360)
	at
org.eclipse.debug.ui.DebugUITools.openLaunchConfigurationDialogOnGroup(DebugUITools.java:302)
...
Veronika, remember this "/ by zero" thing ... ?
See bug 105751 for the division by zero error, which was also regarding Red Hat
8 and GTK+ 2.0.6.  A check for this was added in 3.1.1, can you try with this
release?
We would like to check the 3.1.1 version for the / by zero problem, but
unfortunately we cannot easily exchange the entire platform because Wind River
is doing some magic on the Event Loop in order to achieve SWT / Swing
integration, and this magic is partially bound to 3.1.

Which plugins / libraries should we exchange to check the / by zero fix?
BTW, I verified that the "Empty Dialog" problem appears with Eclipse 3.1.1 as well.
(In reply to comment #1)
&gt; We don't have any RH8 machines here but I can help debug the problem.  The 
Shell
&gt; sizing code changed in 3.1 to address some blank-dialog races and improve the
&gt; efficiency of resizing.  In Shell.java, try adding a print in the size 
allocate
&gt; callback here:
&gt; int /*long*/ gtk_size_allocate (int /*long*/ widget, int /*long*/ 
allocation) {
&gt; 	int width = OS.GTK_WIDGET_WIDTH (shellHandle);
&gt; 	int height = OS.GTK_WIDGET_HEIGHT (shellHandle);
&gt; For a dialog that appears blank, what are the values for width and height 
that
&gt; are reported here?

When opening the About Dialog, the trace yields following output (old values 
in parenthesis):

Shell.gtk_size_allocate() width=800 (0)  height=640 (0)  resized=false
Shell.gtk_size_allocate() width=800 (800)  height=640 (640)  resized=true

When forcing the SWT.RESIZE flag, it looks a bit different:

Shell.gtk_size_allocate() width=1 (0)  height=1 (0)  resized=false
Shell.gtk_size_allocate() width=800 (1)  height=640 (1)  resized=true
Shell.gtk_size_allocate() width=800 (800)  height=640 (640)  resized=true

Does this help?
*** Bug 112580 has been marked as a duplicate of this bug. ***
With a little hackery, I was able to get GTK+ 2.0.6 to compile on a modern
distribution, and can reproduce the problems.  So, this confirms that the
problem is with GTK+ and not with something else like the window manager.
Created attachment 28274
Patch

The patch is to HEAD but the (one-line) fix is the same for 3.1.

When a GtkWindow is realized, the widget generates a size allocate event,
causing SWT to send an SWT.Resize event.  JFace will only layout its contents
if the application code has not set a size on the window first, and it detects
this by listening for SWT.Resize.  Under GTK+ 2.0.6, the window is realized
after JFace has hooked their listener, confusing JFace into thinking that the
application code has resized the window, causing its layout and window
positioning to fail.

This is specific to GTK+ before 2.2 because Control.getMonitor(), triggered by
Shell.setInitialBounds(), caused the window to be realized, but only for
versions of GTK+ supporting the gdk_screen_get_default call added in GTK+ 2.2.

This is specific to SWT 3.1 because of bug 90326.  We tried to avoid realizing
the Shell too early to improve performance.  Unfortunately, I did not know that
realizing could trigger a size allocation.
*** Bug 111315 has been marked as a duplicate of this bug. ***
Fixed &gt; 20051014

I'm leaving bug 90326 to decide where best to do the realize to  ensure the best
performance without breaking dialog sizing :)
Shouldn't we only realize early under GTK 2.0.6 and leave the old code alone?
We're already realizing early on newer versions, it's just hidden in a call to
getMonitor().  It is better to make it explicit on all versions, and just try to
better plan when it happens.
*** Bug 100777 has been marked as a duplicate of this bug. ***
*** Bug 114847 has been marked as a duplicate of this bug. ***</WithStack>
    <WithOutStack>On Redhat Linux 8 with the default GTK version (gtk2-2.0.6-8 and
gtk+-1.2.10-22), most dialogs that directly derive from org.eclipse.jface.Dialog
remain empty (gray on gray). For instance, this affects the "Filter Markers"
dialog which is available from the Problems or Tasks view when pressing the
filter button and also some dialogs in the Preferences.

This is a regression since Eclipse-3.1. It worked OK in Eclipse-3.0.1 as well as
3.0.2.

By investigation it turned out that when a dialog is marked resizeable, the bug
does not appear. Therefore, a valid workaround is to change the constructor of
org.eclipse.jface.Dialog such that setShellStyle() includes the SWT.RESIZE flag:

        setShellStyle(SWT.RESIZE | SWT.DIALOG_TRIM | SWT.APPLICATION_MODAL |
getDefaultOrientation());

We suspect, however, that a correct fix must be made somewhere else, since with
Eclipse-3.1 or later on Redhat 8 another problem is that most dialogs are not
correctly sized on open. They always appear in a default size, which is pretty
large, so that dialogs with only little content look bad. This affects the
startup progress monitor, all other progress monitors, the startup workspace
selection dialog, and all "simple" dialogs. It does not affect wizards,
Preferences, TitleAreaDialogs and other complex dialogs.

The same problem with empty dialogs appears on Redhat9 with GTK 2.0.6-8.

I'm marking severity as "major" since this problem makes Eclipse-3.1 unusable on
Redhat8 and 9, and there are Eclipse users (Nortel) which cannot upgrade to
newer gtk due to other software or company restrictions.
While SWT has made an effort to not break running under GTK+ 2.0.6, the 2.0.x
series was rather buggy and not widely deployed.  Red Hat 9 shipped with GTK+
2.2.1, so I'm not sure how you have a RH9 machine with 2.0.6 installed
(half-finished upgrade?).  The release notes for Eclipse 3.0 and higher have all
listed 2.2.1 as the official minimum version.  Adding McQ to the CC in case he
wants to comment on this, see the part about some users being unable to upgrade.

We don't have any RH8 machines here but I can help debug the problem.  The Shell
sizing code changed in 3.1 to address some blank-dialog races and improve the
efficiency of resizing.  In Shell.java, try adding a print in the size allocate
callback here:

int /*long*/ gtk_size_allocate (int /*long*/ widget, int /*long*/ allocation) {
	int width = OS.GTK_WIDGET_WIDTH (shellHandle);
	int height = OS.GTK_WIDGET_HEIGHT (shellHandle);

For a dialog that appears blank, what are the values for width and height that
are reported here?
Following exception is also seen on Redhat8 with the same GTK version, it might
be connected to the "empty dialog" problem:


...
Veronika, remember this "/ by zero" thing ... ?
See bug 105751 for the division by zero error, which was also regarding Red Hat
8 and GTK+ 2.0.6.  A check for this was added in 3.1.1, can you try with this
release?
We would like to check the 3.1.1 version for the / by zero problem, but
unfortunately we cannot easily exchange the entire platform because Wind River
is doing some magic on the Event Loop in order to achieve SWT / Swing
integration, and this magic is partially bound to 3.1.

Which plugins / libraries should we exchange to check the / by zero fix?
BTW, I verified that the "Empty Dialog" problem appears with Eclipse 3.1.1 as well.
(In reply to comment #1)
&gt; We don't have any RH8 machines here but I can help debug the problem.  The 
Shell
&gt; sizing code changed in 3.1 to address some blank-dialog races and improve the
&gt; efficiency of resizing.  In Shell.java, try adding a print in the size 
allocate
&gt; callback here:
&gt; int /*long*/ gtk_size_allocate (int /*long*/ widget, int /*long*/ 
allocation) {
&gt; 	int width = OS.GTK_WIDGET_WIDTH (shellHandle);
&gt; 	int height = OS.GTK_WIDGET_HEIGHT (shellHandle);
&gt; For a dialog that appears blank, what are the values for width and height 
that
&gt; are reported here?

When opening the About Dialog, the trace yields following output (old values 
in parenthesis):

Shell.gtk_size_allocate() width=800 (0)  height=640 (0)  resized=false
Shell.gtk_size_allocate() width=800 (800)  height=640 (640)  resized=true

When forcing the SWT.RESIZE flag, it looks a bit different:

Shell.gtk_size_allocate() width=1 (0)  height=1 (0)  resized=false
Shell.gtk_size_allocate() width=800 (1)  height=640 (1)  resized=true
Shell.gtk_size_allocate() width=800 (800)  height=640 (640)  resized=true

Does this help?
*** Bug 112580 has been marked as a duplicate of this bug. ***
With a little hackery, I was able to get GTK+ 2.0.6 to compile on a modern
distribution, and can reproduce the problems.  So, this confirms that the
problem is with GTK+ and not with something else like the window manager.
Created attachment 28274
Patch

The patch is to HEAD but the (one-line) fix is the same for 3.1.

When a GtkWindow is realized, the widget generates a size allocate event,
causing SWT to send an SWT.Resize event.  JFace will only layout its contents
if the application code has not set a size on the window first, and it detects
this by listening for SWT.Resize.  Under GTK+ 2.0.6, the window is realized
after JFace has hooked their listener, confusing JFace into thinking that the
application code has resized the window, causing its layout and window
positioning to fail.

This is specific to GTK+ before 2.2 because Control.getMonitor(), triggered by
Shell.setInitialBounds(), caused the window to be realized, but only for
versions of GTK+ supporting the gdk_screen_get_default call added in GTK+ 2.2.

This is specific to SWT 3.1 because of bug 90326.  We tried to avoid realizing
the Shell too early to improve performance.  Unfortunately, I did not know that
realizing could trigger a size allocation.
*** Bug 111315 has been marked as a duplicate of this bug. ***
Fixed &gt; 20051014

I'm leaving bug 90326 to decide where best to do the realize to  ensure the best
performance without breaking dialog sizing :)
Shouldn't we only realize early under GTK 2.0.6 and leave the old code alone?
We're already realizing early on newer versions, it's just hidden in a call to
getMonitor().  It is better to make it explicit on all versions, and just try to
better plan when it happens.
*** Bug 100777 has been marked as a duplicate of this bug. ***
*** Bug 114847 has been marked as a duplicate of this bug. ***</WithOutStack>
  </Bug>
  <Bug>
    <BugId amount="111911" />
    <CreationDate amount="2005-10-07 10:54:00 -0400" />
    <DupId amount="" />
    <classification amount="Modeling" />
    <Product amount="GMF-Runtime" />
    <component amount="General" />
    <Version amount="1.0" />
    <rep_platform amount="PC" />
    <op_sys amount="Windows XP" />
    <priority amount="P3" />
    <bug_severity amount="enhancement" />
    <Summery>Contribution Item Service needs to support dynamic updates of tool-bar</Summery>
    <Patches amount="0" />
    <Stacktraces amount="0" />
    <SourceCodeRegions amount="0" />
    <Enumerations amount="0" />
    <bug_status amount="NEW" />
    <resolution amount="" />
    <WithStack>- Toolbar is not dynamically populated and consequently won't repopulate drop-
downs based on selection.  This affects the usability of the toolbar since it 
can't contain domain specific contributions in existing drop-downs.
This is related to Bugzilla Bug 112823 . Our long term goal is to remove the
Contribution Item Service and replace with core Eclipse contribution services. 
This enhancement request is still on 1.0. 

Steve is this a nice to have or does it need a higher priority?
[GMF Restructure] Bug 319140 : product GMF and component
Runtime Common was the original product and component for this bug</WithStack>
    <WithOutStack>- Toolbar is not dynamically populated and consequently won't repopulate drop-
downs based on selection.  This affects the usability of the toolbar since it 
can't contain domain specific contributions in existing drop-downs.
This is related to Bugzilla Bug 112823 . Our long term goal is to remove the
Contribution Item Service and replace with core Eclipse contribution services. 
This enhancement request is still on 1.0. 

Steve is this a nice to have or does it need a higher priority?
[GMF Restructure] Bug 319140 : product GMF and component
Runtime Common was the original product and component for this bug</WithOutStack>
  </Bug>
  <Bug>
    <BugId amount="111912" />
    <CreationDate amount="2005-10-07 11:00:00 -0400" />
    <DupId amount="" />
    <classification amount="Modeling" />
    <Product amount="GMF-Runtime" />
    <component amount="General" />
    <Version amount="1.0" />
    <rep_platform amount="PC" />
    <op_sys amount="Windows XP" />
    <priority amount="P3" />
    <bug_severity amount="enhancement" />
    <Summery>Provide actions to off / on canonical when CanonicalStyle is installed on a container</Summery>
    <Patches amount="0" />
    <Stacktraces amount="0" />
    <SourceCodeRegions amount="0" />
    <Enumerations amount="0" />
    <bug_status amount="RESOLVED" />
    <resolution amount="FIXED" />
    <WithStack>If a canonical container has the canonicalStyle installed then a easily 
accessible action and/or appearance page option should be available to avoid 
the user having to use the "Advanced tab".
*** Bug 111913 has been marked as a duplicate of this bug. ***
*** Bug 111914 has been marked as a duplicate of this bug. ***
Not yet assigned to a release (assigned to a milestone with the Plan keyword).

Moving to the next release, GMF 2.1. 


no plans to do this work.
[GMF Restructure] Bug 319140 : product GMF and component
Runtime was the original product and component for this bug</WithStack>
    <WithOutStack>If a canonical container has the canonicalStyle installed then a easily 
accessible action and/or appearance page option should be available to avoid 
the user having to use the "Advanced tab".
*** Bug 111913 has been marked as a duplicate of this bug. ***
*** Bug 111914 has been marked as a duplicate of this bug. ***
Not yet assigned to a release (assigned to a milestone with the Plan keyword).

Moving to the next release, GMF 2.1. 


no plans to do this work.
[GMF Restructure] Bug 319140 : product GMF and component
Runtime was the original product and component for this bug</WithOutStack>
  </Bug>
  <Bug>
    <BugId amount="111913" />
    <CreationDate amount="2005-10-07 11:00:00 -0400" />
    <DupId amount="111912" />
    <classification amount="Modeling" />
    <Product amount="GMF-Runtime" />
    <component amount="General" />
    <Version amount="1.0" />
    <rep_platform amount="PC" />
    <op_sys amount="Windows XP" />
    <priority amount="P3" />
    <bug_severity amount="enhancement" />
    <Summery>Provide actions to off / on canonical when CanonicalStyle is installed on a container</Summery>
    <Patches amount="0" />
    <Stacktraces amount="0" />
    <SourceCodeRegions amount="0" />
    <Enumerations amount="0" />
    <bug_status amount="RESOLVED" />
    <resolution amount="DUPLICATE" />
    <WithStack>If a canonical container has the canonicalStyle installed then a easily 
accessible action and/or appearance page option should be available to avoid 
the user having to use the "Advanced tab".


*** This bug has been marked as a duplicate of 111912 ***
[GMF Restructure] Bug 319140 : product GMF and component
Runtime Diagram was the original product and component for this bug</WithStack>
    <WithOutStack>If a canonical container has the canonicalStyle installed then a easily 
accessible action and/or appearance page option should be available to avoid 
the user having to use the "Advanced tab".


*** This bug has been marked as a duplicate of 111912 ***
[GMF Restructure] Bug 319140 : product GMF and component
Runtime Diagram was the original product and component for this bug</WithOutStack>
  </Bug>
  <Bug>
    <BugId amount="111914" />
    <CreationDate amount="2005-10-07 11:01:00 -0400" />
    <DupId amount="111912" />
    <classification amount="Modeling" />
    <Product amount="GMF-Runtime" />
    <component amount="General" />
    <Version amount="1.0" />
    <rep_platform amount="PC" />
    <op_sys amount="Windows XP" />
    <priority amount="P3" />
    <bug_severity amount="enhancement" />
    <Summery>Provide actions to off / on canonical when CanonicalStyle is installed on a container</Summery>
    <Patches amount="0" />
    <Stacktraces amount="0" />
    <SourceCodeRegions amount="0" />
    <Enumerations amount="0" />
    <bug_status amount="RESOLVED" />
    <resolution amount="DUPLICATE" />
    <WithStack>If a canonical container has the canonicalStyle installed then a easily 
accessible action and/or appearance page option should be available to avoid 
the user having to use the "Advanced tab".


*** This bug has been marked as a duplicate of 111912 ***
[GMF Restructure] Bug 319140 : product GMF and component
Runtime Diagram was the original product and component for this bug</WithStack>
    <WithOutStack>If a canonical container has the canonicalStyle installed then a easily 
accessible action and/or appearance page option should be available to avoid 
the user having to use the "Advanced tab".


*** This bug has been marked as a duplicate of 111912 ***
[GMF Restructure] Bug 319140 : product GMF and component
Runtime Diagram was the original product and component for this bug</WithOutStack>
  </Bug>
  <Bug>
    <BugId amount="111915" />
    <CreationDate amount="2005-10-07 11:14:00 -0400" />
    <DupId amount="" />
    <classification amount="Tools" />
    <Product amount="AspectJ" />
    <component amount="Compiler" />
    <Version amount="DEVELOPMENT" />
    <rep_platform amount="PC" />
    <op_sys amount="Linux" />
    <priority amount="P3" />
    <bug_severity amount="normal" />
    <Summery>illegal change to pointcut declaration</Summery>
    <Patches amount="0" />
    <Stacktraces amount="1">
      <Stacktrace timestamp="1437330586235">
        <Exception>org.aspectj.weaver.BCException</Exception>
        <Reason />
        <Frames>
          <Frame depth="0">org.aspectj.weaver.patterns.ReferencePointcut.concretize1(ReferencePointcut.java:306)</Frame>
          <Frame depth="1">org.aspectj.weaver.patterns.Pointcut.concretize(Pointcut.java:229)</Frame>
          <Frame depth="2">org.aspectj.weaver.patterns.ReferencePointcut.concretize1(ReferencePointcut.java:331)</Frame>
          <Frame depth="3">org.aspectj.weaver.patterns.Pointcut.concretize(Pointcut.java:229)</Frame>
          <Frame depth="4">org.aspectj.weaver.patterns.Pointcut.concretize(Pointcut.java:216)</Frame>
          <Frame depth="5">org.aspectj.weaver.Advice.concretize(Advice.java:273)</Frame>
          <Frame depth="6">org.aspectj.weaver.bcel.BcelAdvice.concretize(BcelAdvice.java:83)</Frame>
          <Frame depth="7">org.aspectj.weaver.CrosscuttingMembers.addShadowMunger(CrosscuttingMembers.java:84)</Frame>
          <Frame depth="8">org.aspectj.weaver.CrosscuttingMembers.addShadowMungers(CrosscuttingMembers.java:78)</Frame>
          <Frame depth="9">org.aspectj.weaver.ResolvedType.collectCrosscuttingMembers(ResolvedType.java:462)</Frame>
          <Frame depth="10">org.aspectj.weaver.CrosscuttingMembersSet.addOrReplaceAspect(CrosscuttingMembersSet.java:62)</Frame>
          <Frame depth="11">org.aspectj.weaver.bcel.BcelWeaver.prepareForWeave(BcelWeaver.java:426)</Frame>
          <Frame depth="12">org.aspectj.ajdt.internal.compiler.AjCompilerAdapter.weave(AjCompilerAdapter.java:283)</Frame>
          <Frame depth="13">org.aspectj.ajdt.internal.compiler.AjCompilerAdapter.afterCompiling(AjCompilerAdapter.java:178)</Frame>
          <Frame depth="14">org.aspectj.ajdt.internal.compiler.CompilerAdapter.ajc$afterReturning$org_aspectj_ajdt_internal_compiler_CompilerAdapter$2$f9cc9ca0(CompilerAdapter.aj:70)</Frame>
          <Frame depth="15">org.aspectj.org.eclipse.jdt.internal.compiler.Compiler.compile(Compiler.java:367)</Frame>
          <Frame depth="16">org.aspectj.ajdt.internal.core.builder.AjBuildManager.performCompilation(AjBuildManager.java:760)</Frame>
          <Frame depth="17">org.aspectj.ajdt.internal.core.builder.AjBuildManager.doBuild(AjBuildManager.java:225)</Frame>
          <Frame depth="18">org.aspectj.ajdt.internal.core.builder.AjBuildManager.batchBuild(AjBuildManager.java:151)</Frame>
          <Frame depth="19">org.aspectj.ajde.internal.CompilerAdapter.compile(CompilerAdapter.java:122)</Frame>
          <Frame depth="20">org.aspectj.ajde.internal.AspectJBuildManager$CompilerThread.run(AspectJBuildManager.java:191)</Frame>
        </Frames>
      </Stacktrace>
    </Stacktraces>
    <SourceCodeRegions amount="12">
      <source_code type="package">
        <location start="410" end="421" />
        <code>package aj;</code>
      </source_code>
      <source_code type="class">
        <location start="423" end="581" />
        <code>public class SomeClass {

    public void doSomething() {
    }

    public static void main(String... args) {
        new SomeClass().doSomething();
    }

}</code>
      </source_code>
      <source_code type="package">
        <location start="583" end="594" />
        <code>package aj;</code>
      </source_code>
      <source_code type="functioncall">
        <location start="821" end="847" />
        <code>this(myWorld);</code>
      </source_code>
      <source_code type="functiondef">
        <location start="849" end="963" />
        <code>void around(MyWorld myWorld) : doSomethingInMyWorld(myWorld) {
        System.out.println("this works");
    }</code>
      </source_code>
      <source_code type="package">
        <location start="968" end="979" />
        <code>package aj;</code>
      </source_code>
      <source_code type="functioncall">
        <location start="1206" end="1234" />
        <code>this(someClass);</code>
      </source_code>
      <source_code type="functioncall">
        <location start="1236" end="1310" />
        <code>pointcut doSomethingInMyWorld(MyWorld myWorld) : doSomething(myWorld);</code>
      </source_code>
      <source_code type="functiondef">
        <location start="1312" end="1384" />
        <code>void around(MyWorld myWorld) : doSomethingInMyWorld(myWorld) {
    }</code>
      </source_code>
      <source_code type="class">
        <location start="1827" end="1881" />
        <code>class SomeClass  {
    public void doSomething() { }
}</code>
      </source_code>
      <source_code type="functioncall">
        <location start="2068" end="2096" />
        <code>this(someClass);</code>
      </source_code>
      <source_code type="functiondef">
        <location start="2098" end="2162" />
        <code>void around(Serializable myWorld) : doSomething(myWorld) { }</code>
      </source_code>
    </SourceCodeRegions>
    <Enumerations amount="3">
      <Enumeration lines="2">
        <Lines>
          <Line>a) hardcode SomeClass implements Serializable and dont use declare parents.</Line>
          <Line>b) change the advice to 'void around(SomeClass myWorld)'</Line>
        </Lines>
      </Enumeration>
      <Enumeration lines="9">
        <Lines>
          <Line>1. ReferencePointcut.resolveBindings</Line>
          <Line>produces something vaguely helpful like the message:</Line>
          <Line>incompatible type, expected SomeClass found</Line>
          <Line>BindingTypePattern(java.io.Serializable, 0)</Line>
          <Line />
          <Line>2. ReferencePointcut.concretize1</Line>
          <Line>produces the BCException:</Line>
          <Line>"illegal change to pointcut declaration:</Line>
          <Line>doSomething(BindingTypePattern(java.io.Serializable, 0))"</Line>
        </Lines>
      </Enumeration>
      <Enumeration lines="6">
        <Lines>
          <Line>1. is done too early</Line>
          <Line>2. is duplicating something checked later</Line>
          <Line>3. is an exception for something that should be an error</Line>
          <Line>4. is extremely unhelpful</Line>
          <Line>Fix checked in - waiting on build.</Line>
          <Line>fix available.</Line>
        </Lines>
      </Enumeration>
    </Enumerations>
    <bug_status amount="RESOLVED" />
    <resolution amount="FIXED" />
    <WithStack>org.aspectj.weaver.BCException
at
org.aspectj.weaver.patterns.ReferencePointcut.concretize1(ReferencePointcut.java:306)
at org.aspectj.weaver.patterns.Pointcut.concretize(Pointcut.java:229)
at
org.aspectj.weaver.patterns.ReferencePointcut.concretize1(ReferencePointcut.java:331)
at org.aspectj.weaver.patterns.Pointcut.concretize(Pointcut.java:229)
at org.aspectj.weaver.patterns.Pointcut.concretize(Pointcut.java:216)
at org.aspectj.weaver.Advice.concretize(Advice.java:273)
at org.aspectj.weaver.bcel.BcelAdvice.concretize(BcelAdvice.java:83)
at
org.aspectj.weaver.CrosscuttingMembers.addShadowMunger(CrosscuttingMembers.java:84)
at
org.aspectj.weaver.CrosscuttingMembers.addShadowMungers(CrosscuttingMembers.java:78)
at org.aspectj.weaver.ResolvedType.collectCrosscuttingMembers(ResolvedType.java:462)
at
org.aspectj.weaver.CrosscuttingMembersSet.addOrReplaceAspect(CrosscuttingMembersSet.java:62)
at org.aspectj.weaver.bcel.BcelWeaver.prepareForWeave(BcelWeaver.java:426)
at
org.aspectj.ajdt.internal.compiler.AjCompilerAdapter.weave(AjCompilerAdapter.java:283)
at
org.aspectj.ajdt.internal.compiler.AjCompilerAdapter.afterCompiling(AjCompilerAdapter.java:178)
at
org.aspectj.ajdt.internal.compiler.CompilerAdapter.ajc$afterReturning$org_aspectj_ajdt_internal_compiler_CompilerAdapter$2$f9cc9ca0(CompilerAdapter.aj:70)
at org.aspectj.org.eclipse.jdt.internal.compiler.Compiler.compile(Compiler.java:367)
at
org.aspectj.ajdt.internal.core.builder.AjBuildManager.performCompilation(AjBuildManager.java:760)
at
org.aspectj.ajdt.internal.core.builder.AjBuildManager.doBuild(AjBuildManager.java:225)
at
org.aspectj.ajdt.internal.core.builder.AjBuildManager.batchBuild(AjBuildManager.java:151)
at org.aspectj.ajde.internal.CompilerAdapter.compile(CompilerAdapter.java:122)
at
org.aspectj.ajde.internal.AspectJBuildManager$CompilerThread.run(AspectJBuildManager.java:191)

BCException thrown: illegal change to pointcut declaration:
spike.np.CommandCase.handleCommand(BindingTypePattern(spike.np.OtherHandler$MyWorld,
0))
when batch building
BuildConfig[/home/guido/workspace/.metadata/.plugins/org.eclipse.ajdt.core/np.generated.lst]
#Files=11
Can you provide more information about what you were doing when you saw this?
The aspect you're writing etc.
Here is a minimal sample:

package aj;

public class SomeClass {

    public void doSomething() {
    }

    public static void main(String... args) {
        new SomeClass().doSomething();
    }

}

package aj;

public aspect MyAspect {

    public interface MyWorld {
    }

    declare parents : SomeClass implements MyWorld;

    pointcut doSomethingInMyWorld(MyWorld myWorld) :
            execution(void SomeClass.doSomething()) &amp;&amp;
            this(myWorld);

    void around(MyWorld myWorld) : doSomethingInMyWorld(myWorld) {
        System.out.println("this works");
    }

}

package aj;

public aspect DoesntCompile {

    public interface MyWorld {
    }

    declare parents : SomeClass implements MyWorld;

    pointcut doSomething(SomeClass someClass) :
            execution(void SomeClass.doSomething()) &amp;&amp;
            this(someClass);

    pointcut doSomethingInMyWorld(MyWorld myWorld) : doSomething(myWorld);

    void around(MyWorld myWorld) : doSomethingInMyWorld(myWorld) {
    }

}
Thanks for the simplified testcase - I have been able to recreate the problem.

This is a compiler bug so reassigning to aspectj.
Created attachment 28111
patch containing supplied testcase

This patch is a patch to be applied to the tests project and contains the
supplied testcase written to fit in with the aspectj testcase structure.
I've applied Helens patch then worked on reducing the test program as much as
possible, this fails:

class SomeClass  {
    public void doSomething() { }
}

aspect DoesntCompile {

    declare parents : SomeClass implements Serializable;

    pointcut doSomething(SomeClass someClass) :
            execution(void SomeClass.doSomething()) &amp;&amp;
            this(someClass);

    void around(Serializable myWorld) : doSomething(myWorld) { }
}

If I directly apply Serializable (i.e. not use declare parents) then it works.
If I change the around advice to take a 'SomeClass' then it works.


Ok ... the problem here is the shadow munger is being concretized before the
type munger that adds the parent has had a chance to take effect.

The message 'illegal change to pointcut' is hopeless.
Before producing the message it is actually looking at the pointcut and checking
that what you are binding 'Serializable' is the same or a supertype of the value
in the pointcut 'SomeClass'.  What you are doing is allowed because all
SomeClass' are Serializable - however, because the declare parents hasnt
occurred yet, we don't know SomeClass is Serializable.

Thats why it works if you either:
a) hardcode SomeClass implements Serializable and dont use declare parents.
b) change the advice to 'void around(SomeClass myWorld)'

what on earth I can do about it ...  hmmmmmmmmm
The actual problem of using the wrong type in the pointcut is checked in two places.

1. ReferencePointcut.resolveBindings
   produces something vaguely helpful like the message: 
     incompatible type, expected SomeClass found
BindingTypePattern(java.io.Serializable, 0)

2. ReferencePointcut.concretize1
   produces the BCException:
   "illegal change to pointcut declaration:
doSomething(BindingTypePattern(java.io.Serializable, 0))"

I propose to remove the check for illegal change to pointcut decl as it:
1. is done too early
2. is duplicating something checked later
3. is an exception for something that should be an error
4. is extremely unhelpful
Fix checked in - waiting on build.
fix available.</WithStack>
    <WithOutStack>BCException thrown: illegal change to pointcut declaration:
spike.np.CommandCase.handleCommand(BindingTypePattern(spike.np.OtherHandler$MyWorld,
0))
when batch building
BuildConfig[/home/guido/workspace/.metadata/.plugins/org.eclipse.ajdt.core/np.generated.lst]
#Files=11
Can you provide more information about what you were doing when you saw this?
The aspect you're writing etc.
Here is a minimal sample:

package aj;

public class SomeClass {

    public void doSomething() {
    }

    public static void main(String... args) {
        new SomeClass().doSomething();
    }

}

package aj;

public aspect MyAspect {

    public interface MyWorld {
    }

    declare parents : SomeClass implements MyWorld;

    pointcut doSomethingInMyWorld(MyWorld myWorld) :
            execution(void SomeClass.doSomething()) &amp;&amp;
            this(myWorld);

    void around(MyWorld myWorld) : doSomethingInMyWorld(myWorld) {
        System.out.println("this works");
    }

}

package aj;

public aspect DoesntCompile {

    public interface MyWorld {
    }

    declare parents : SomeClass implements MyWorld;

    pointcut doSomething(SomeClass someClass) :
            execution(void SomeClass.doSomething()) &amp;&amp;
            this(someClass);

    pointcut doSomethingInMyWorld(MyWorld myWorld) : doSomething(myWorld);

    void around(MyWorld myWorld) : doSomethingInMyWorld(myWorld) {
    }

}
Thanks for the simplified testcase - I have been able to recreate the problem.

This is a compiler bug so reassigning to aspectj.
Created attachment 28111
patch containing supplied testcase

This patch is a patch to be applied to the tests project and contains the
supplied testcase written to fit in with the aspectj testcase structure.
I've applied Helens patch then worked on reducing the test program as much as
possible, this fails:

class SomeClass  {
    public void doSomething() { }
}

aspect DoesntCompile {

    declare parents : SomeClass implements Serializable;

    pointcut doSomething(SomeClass someClass) :
            execution(void SomeClass.doSomething()) &amp;&amp;
            this(someClass);

    void around(Serializable myWorld) : doSomething(myWorld) { }
}

If I directly apply Serializable (i.e. not use declare parents) then it works.
If I change the around advice to take a 'SomeClass' then it works.


Ok ... the problem here is the shadow munger is being concretized before the
type munger that adds the parent has had a chance to take effect.

The message 'illegal change to pointcut' is hopeless.
Before producing the message it is actually looking at the pointcut and checking
that what you are binding 'Serializable' is the same or a supertype of the value
in the pointcut 'SomeClass'.  What you are doing is allowed because all
SomeClass' are Serializable - however, because the declare parents hasnt
occurred yet, we don't know SomeClass is Serializable.

Thats why it works if you either:
a) hardcode SomeClass implements Serializable and dont use declare parents.
b) change the advice to 'void around(SomeClass myWorld)'

what on earth I can do about it ...  hmmmmmmmmm
The actual problem of using the wrong type in the pointcut is checked in two places.

1. ReferencePointcut.resolveBindings
   produces something vaguely helpful like the message: 
     incompatible type, expected SomeClass found
BindingTypePattern(java.io.Serializable, 0)

2. ReferencePointcut.concretize1
   produces the BCException:
   "illegal change to pointcut declaration:
doSomething(BindingTypePattern(java.io.Serializable, 0))"

I propose to remove the check for illegal change to pointcut decl as it:
1. is done too early
2. is duplicating something checked later
3. is an exception for something that should be an error
4. is extremely unhelpful
Fix checked in - waiting on build.
fix available.</WithOutStack>
  </Bug>
  <Bug>
    <BugId amount="111916" />
    <CreationDate amount="2005-10-07 11:15:00 -0400" />
    <DupId amount="" />
    <classification amount="Modeling" />
    <Product amount="GMF-Runtime" />
    <component amount="General" />
    <Version amount="1.0" />
    <rep_platform amount="PC" />
    <op_sys amount="Windows XP" />
    <priority amount="P1" />
    <bug_severity amount="enhancement" />
    <Summery>[AutoScroll] A suggestion on how to grow our diagram work area</Summery>
    <Patches amount="0" />
    <Stacktraces amount="0" />
    <SourceCodeRegions amount="0" />
    <Enumerations amount="0" />
    <bug_status amount="NEW" />
    <resolution amount="" />
    <WithStack>Other common applications have a subtle but intuitive way of growing the 
workspace.  The scrollbars works like ours, no surprise, but their scroll 
button let you "grow" your work area.  We don't.  We should implement the 
same.
targetting for M4
This issue is that having the Viewport constrained to the children bounds makes it difficult to grow your work area.  The only way is move the children or create a new child and then move it.  There should be a way to bypass the children bounds to create a large work area when scrolled.

This behavior looks like it would best be integrated into the FreeformViewport functionality in GEF?
decommitted for 3.2
Not yet assigned to a release (assigned to a milestone with the Plan keyword).

Moving to the next release, GMF 2.1. 


[GMF Restructure] Bug 319140 : product GMF and component
Runtime was the original product and component for this bug</WithStack>
    <WithOutStack>Other common applications have a subtle but intuitive way of growing the 
workspace.  The scrollbars works like ours, no surprise, but their scroll 
button let you "grow" your work area.  We don't.  We should implement the 
same.
targetting for M4
This issue is that having the Viewport constrained to the children bounds makes it difficult to grow your work area.  The only way is move the children or create a new child and then move it.  There should be a way to bypass the children bounds to create a large work area when scrolled.

This behavior looks like it would best be integrated into the FreeformViewport functionality in GEF?
decommitted for 3.2
Not yet assigned to a release (assigned to a milestone with the Plan keyword).

Moving to the next release, GMF 2.1. 


[GMF Restructure] Bug 319140 : product GMF and component
Runtime was the original product and component for this bug</WithOutStack>
  </Bug>
  <Bug>
    <BugId amount="111917" />
    <CreationDate amount="2005-10-07 11:18:00 -0400" />
    <DupId amount="" />
    <classification amount="Tools" />
    <Product amount="PTP" />
    <component amount="Debug Core" />
    <Version amount="unspecified" />
    <rep_platform amount="Macintosh" />
    <op_sys amount="Mac OS X - Carbon (unsup.)" />
    <priority amount="P5" />
    <bug_severity amount="normal" />
    <Summery>IOExcption in Debug Core</Summery>
    <Patches amount="0" />
    <Stacktraces amount="1">
      <Stacktrace timestamp="1437330586235">
        <Exception>java.io.IOException</Exception>
        <Reason>Stream closed</Reason>
        <Frames>
          <Frame depth="0">java.io.BufferedInputStream.ensureOpen(BufferedInputStream.java:120)</Frame>
          <Frame depth="1">java.io.BufferedInputStream.read(BufferedInputStream.java:270)</Frame>
          <Frame depth="2">java.io.FilterInputStream.read(FilterInputStream.java:90)</Frame>
          <Frame depth="3">org.eclipse.debug.internal.core.OutputStreamMonitor.read(OutputStreamMonitor.java:137)</Frame>
          <Frame depth="4">org.eclipse.debug.internal.core.OutputStreamMonitor.access$1(OutputStreamMonitor.java:127)</Frame>
          <Frame depth="5">org.eclipse.debug.internal.core.OutputStreamMonitor$1.run(OutputStreamMonitor.java:193)</Frame>
          <Frame depth="6">java.lang.Thread.run(Thread.java:552)</Frame>
        </Frames>
      </Stacktrace>
    </Stacktraces>
    <SourceCodeRegions amount="0" />
    <Enumerations amount="0" />
    <bug_status amount="RESOLVED" />
    <resolution amount="WONTFIX" />
    <WithStack>Running the debugger under the simulator, I'm getting lots of instances of the following errors:

java.io.IOException: Stream closed
	at java.io.BufferedInputStream.ensureOpen(BufferedInputStream.java:120)
	at java.io.BufferedInputStream.read(BufferedInputStream.java:270)
	at java.io.FilterInputStream.read(FilterInputStream.java:90)
	at org.eclipse.debug.internal.core.OutputStreamMonitor.read(OutputStreamMonitor.java:137)
	at org.eclipse.debug.internal.core.OutputStreamMonitor.access$1(OutputStreamMonitor.java:127)
	at org.eclipse.debug.internal.core.OutputStreamMonitor$1.run(OutputStreamMonitor.java:193)
	at java.lang.Thread.run(Thread.java:552)
The errors come from the simulator.... it's because i don't create separate
java.lang.Thread(s) to handle the streams.... (performance will be affected)

(In reply to comment #0)
&gt; Running the debugger under the simulator, I'm getting lots of instances of the
following errors:
&gt; 
&gt; java.io.IOException: Stream closed
&gt; 	at java.io.BufferedInputStream.ensureOpen(BufferedInputStream.java:120)
&gt; 	at java.io.BufferedInputStream.read(BufferedInputStream.java:270)
&gt; 	at java.io.FilterInputStream.read(FilterInputStream.java:90)
&gt; 	at
org.eclipse.debug.internal.core.OutputStreamMonitor.read(OutputStreamMonitor.java:137)
&gt; 	at
org.eclipse.debug.internal.core.OutputStreamMonitor.access$1(OutputStreamMonitor.java:127)
&gt; 	at
org.eclipse.debug.internal.core.OutputStreamMonitor$1.run(OutputStreamMonitor.java:193)
&gt; 	at java.lang.Thread.run(Thread.java:552)
Simulator is deprecated.
LATER/REMIND bugs are being automatically reopened as P5 because the LATER and REMIND resolutions are deprecated.
Simulator is no longer used.</WithStack>
    <WithOutStack>Running the debugger under the simulator, I'm getting lots of instances of the following errors:


The errors come from the simulator.... it's because i don't create separate
java.lang.Thread(s) to handle the streams.... (performance will be affected)

(In reply to comment #0)
&gt; Running the debugger under the simulator, I'm getting lots of instances of the
following errors:
&gt; 
&gt; java.io.IOException: Stream closed
&gt; 	at java.io.BufferedInputStream.ensureOpen(BufferedInputStream.java:120)
&gt; 	at java.io.BufferedInputStream.read(BufferedInputStream.java:270)
&gt; 	at java.io.FilterInputStream.read(FilterInputStream.java:90)
&gt; 	at
org.eclipse.debug.internal.core.OutputStreamMonitor.read(OutputStreamMonitor.java:137)
&gt; 	at
org.eclipse.debug.internal.core.OutputStreamMonitor.access$1(OutputStreamMonitor.java:127)
&gt; 	at
org.eclipse.debug.internal.core.OutputStreamMonitor$1.run(OutputStreamMonitor.java:193)
&gt; 	at java.lang.Thread.run(Thread.java:552)
Simulator is deprecated.
LATER/REMIND bugs are being automatically reopened as P5 because the LATER and REMIND resolutions are deprecated.
Simulator is no longer used.</WithOutStack>
  </Bug>
  <Bug>
    <BugId amount="111918" />
    <CreationDate amount="2005-10-07 11:20:00 -0400" />
    <DupId amount="" />
    <classification amount="Tools" />
    <Product amount="PTP" />
    <component amount="Debug Core" />
    <Version amount="unspecified" />
    <rep_platform amount="All" />
    <op_sys amount="All" />
    <priority amount="P3" />
    <bug_severity amount="normal" />
    <Summery>Killing job does not result in all processes terminating</Summery>
    <Patches amount="0" />
    <Stacktraces amount="0" />
    <SourceCodeRegions amount="0" />
    <Enumerations amount="2">
      <Enumeration lines="9">
        <Lines>
          <Line>1. Create global breakpoint.</Line>
          <Line>2. Start 100 process job.</Line>
          <Line>3. When processes stop, step a couple of times</Line>
          <Line>4. Select a single process</Line>
          <Line>5. Step this process</Line>
          <Line>6. Select another process</Line>
          <Line>7. Step this process</Line>
          <Line>8. Step all processes a couple of times</Line>
          <Line>9. Terminate job.</Line>
        </Lines>
      </Enumeration>
      <Enumeration lines="2">
        <Lines>
          <Line>- an error event saying that the 5 processes cannot step because "the program is not being run"</Line>
          <Line>- a step completed event for the 5 suspended processes</Line>
        </Lines>
      </Enumeration>
    </Enumerations>
    <bug_status amount="VERIFIED" />
    <resolution amount="FIXED" />
    <WithStack>I did the following:

1. Create global breakpoint. 
2. Start 100 process job. 
3. When processes stop, step a couple of times
4. Select a single process
5. Step this process
6. Select another process
7. Step this process
8. Step all processes a couple of times
9. Terminate job.

At this point all processes terminate except process 0. The job icon is not changed.

Attached is screen shot of state.
Created attachment 28030
screen capture of problem


*** This bug has been marked as a duplicate of 111930 ***
I tried the procedure you provided to test.  I set the global breakpoint as the
same line as you shown on attachment.  I got a question on step 9.  I saw the
error in console window when I clicked the step button a couple of times.  Are
you using runtime-eclipse to test it or installed the package to test on main
eclipse?  I got the error shown on console windows when I was using
runtime-eclipse to test.  I think the problem may occur in debug.core
(simulator).  You cannot step over the specific line which is hard coded by
Donny in doing simulator.  Another problem I mentioned in bug report before. 
Sometimes the debugger haven't checked the process status before take parallel
debug actions(step, resume).

(In reply to comment #1)
&gt; I did the following:
&gt; 
&gt; 1. Create global breakpoint. 
&gt; 2. Start 100 process job. 
&gt; 3. When processes stop, step a couple of times
&gt; 4. Select a single process
&gt; 5. Step this process
&gt; 6. Select another process
&gt; 7. Step this process
&gt; 8. Step all processes a couple of times
&gt; 9. Terminate job.
&gt; 
&gt; At this point all processes terminate except process 0. The job icon is not
changed.
&gt; 
&gt; Attached is screen shot of state.


I'm using runtime-eclipse to test also.

Is this bug (and bug 111930) a limitation of the simulator?
The simulator cannot allow to do many steps.  It is limitation of the simulation.

The bug 111930 is a bug.  I think the debugger should check process status
before taking a action.  For example, there are 10 processes in a set.  5
terminated and 5 suspended.  So only suspend button is disabled.  When the user
click on step button for this set, UI will pass the set id and step command name
to debugger.  At this moment, I think the debugger should check which processes
in this set can allow to do step.  In this case, the debugger should pass 5
processes id to internal debugger to do the step.  However, the debugger hasn't
do this checking currently.  Previously, I though to do this checking in UI and
then pass the available processes to debugger, but I think UI may not get the
latest update of process's status.  Do you agree with that?


(In reply to comment #5)
&gt; I'm using runtime-eclipse to test also.
&gt; 
&gt; Is this bug (and bug 111930) a limitation of the simulator?


In the real debugger, trying to step 5 terminated and 5 suspended processes will result in two events: 

- an error event saying that the 5 processes cannot step because "the program is not being run"
- a step completed event for the 5 suspended processes

In this case, the external debugger can do the checking rather than the UI. I tend to think that this is 
the preferrable way to do it, since the external debugger is really the final arbiter of process state. Do 
you have any thoughts on this?

Unfortunately, the IDebugger/IDebuggerEvent interfaces do not currently provide any means to return 
error events back to the UI, other than causing the command to throw a PCDIException. Perhaps Donny 
can think of a solution?
I agree.  The external debugger is the best role for checking process status.  

(In reply to comment #7)
&gt; In the real debugger, trying to step 5 terminated and 5 suspended processes
will result in two events: 
&gt; 
&gt; - an error event saying that the 5 processes cannot step because "the program
is not being run"
&gt; - a step completed event for the 5 suspended processes
&gt; 
&gt; In this case, the external debugger can do the checking rather than the UI. I
tend to think that this is 
&gt; the preferrable way to do it, since the external debugger is really the final
arbiter of process state. Do 
&gt; you have any thoughts on this?
&gt; 
&gt; Unfortunately, the IDebugger/IDebuggerEvent interfaces do not currently
provide any means to return 
&gt; error events back to the UI, other than causing the command to throw a
PCDIException. Perhaps Donny 
&gt; can think of a solution?


In that case the IDebugger/IDebuggerEvent interface needs to be changed to allow multiple events/error 
events to propogate back to the UI.
I believe this has been fixed. Please reopen if not.
Verified.</WithStack>
    <WithOutStack>I did the following:

1. Create global breakpoint. 
2. Start 100 process job. 
3. When processes stop, step a couple of times
4. Select a single process
5. Step this process
6. Select another process
7. Step this process
8. Step all processes a couple of times
9. Terminate job.

At this point all processes terminate except process 0. The job icon is not changed.

Attached is screen shot of state.
Created attachment 28030
screen capture of problem


*** This bug has been marked as a duplicate of 111930 ***
I tried the procedure you provided to test.  I set the global breakpoint as the
same line as you shown on attachment.  I got a question on step 9.  I saw the
error in console window when I clicked the step button a couple of times.  Are
you using runtime-eclipse to test it or installed the package to test on main
eclipse?  I got the error shown on console windows when I was using
runtime-eclipse to test.  I think the problem may occur in debug.core
(simulator).  You cannot step over the specific line which is hard coded by
Donny in doing simulator.  Another problem I mentioned in bug report before. 
Sometimes the debugger haven't checked the process status before take parallel
debug actions(step, resume).

(In reply to comment #1)
&gt; I did the following:
&gt; 
&gt; 1. Create global breakpoint. 
&gt; 2. Start 100 process job. 
&gt; 3. When processes stop, step a couple of times
&gt; 4. Select a single process
&gt; 5. Step this process
&gt; 6. Select another process
&gt; 7. Step this process
&gt; 8. Step all processes a couple of times
&gt; 9. Terminate job.
&gt; 
&gt; At this point all processes terminate except process 0. The job icon is not
changed.
&gt; 
&gt; Attached is screen shot of state.


I'm using runtime-eclipse to test also.

Is this bug (and bug 111930) a limitation of the simulator?
The simulator cannot allow to do many steps.  It is limitation of the simulation.

The bug 111930 is a bug.  I think the debugger should check process status
before taking a action.  For example, there are 10 processes in a set.  5
terminated and 5 suspended.  So only suspend button is disabled.  When the user
click on step button for this set, UI will pass the set id and step command name
to debugger.  At this moment, I think the debugger should check which processes
in this set can allow to do step.  In this case, the debugger should pass 5
processes id to internal debugger to do the step.  However, the debugger hasn't
do this checking currently.  Previously, I though to do this checking in UI and
then pass the available processes to debugger, but I think UI may not get the
latest update of process's status.  Do you agree with that?


(In reply to comment #5)
&gt; I'm using runtime-eclipse to test also.
&gt; 
&gt; Is this bug (and bug 111930) a limitation of the simulator?


In the real debugger, trying to step 5 terminated and 5 suspended processes will result in two events: 

- an error event saying that the 5 processes cannot step because "the program is not being run"
- a step completed event for the 5 suspended processes

In this case, the external debugger can do the checking rather than the UI. I tend to think that this is 
the preferrable way to do it, since the external debugger is really the final arbiter of process state. Do 
you have any thoughts on this?

Unfortunately, the IDebugger/IDebuggerEvent interfaces do not currently provide any means to return 
error events back to the UI, other than causing the command to throw a PCDIException. Perhaps Donny 
can think of a solution?
I agree.  The external debugger is the best role for checking process status.  

(In reply to comment #7)
&gt; In the real debugger, trying to step 5 terminated and 5 suspended processes
will result in two events: 
&gt; 
&gt; - an error event saying that the 5 processes cannot step because "the program
is not being run"
&gt; - a step completed event for the 5 suspended processes
&gt; 
&gt; In this case, the external debugger can do the checking rather than the UI. I
tend to think that this is 
&gt; the preferrable way to do it, since the external debugger is really the final
arbiter of process state. Do 
&gt; you have any thoughts on this?
&gt; 
&gt; Unfortunately, the IDebugger/IDebuggerEvent interfaces do not currently
provide any means to return 
&gt; error events back to the UI, other than causing the command to throw a
PCDIException. Perhaps Donny 
&gt; can think of a solution?


In that case the IDebugger/IDebuggerEvent interface needs to be changed to allow multiple events/error 
events to propogate back to the UI.
I believe this has been fixed. Please reopen if not.
Verified.</WithOutStack>
  </Bug>
  <Bug>
    <BugId amount="111919" />
    <CreationDate amount="2005-10-07 11:24:00 -0400" />
    <DupId amount="" />
    <classification amount="WebTools" />
    <Product amount="WTP Java EE Tools" />
    <component amount="jst.j2ee" />
    <Version amount="1.0" />
    <rep_platform amount="PC" />
    <op_sys amount="Windows XP" />
    <priority amount="P3" />
    <bug_severity amount="major" />
    <Summery>Validation messages repeated for bin and src folder</Summery>
    <Patches amount="0" />
    <Stacktraces amount="0" />
    <SourceCodeRegions amount="0" />
    <Enumerations amount="0" />
    <bug_status amount="CLOSED" />
    <resolution amount="FIXED" />
    <WithStack>The validation messages are being repeated for the files in the src folder and
for those in the bin folder.  We need to filter one of them out.
ValidatorMetaData class used to have hard reference to filter out .deployables
folder.  This needs to be enhanced.
This is fixed for the 1028 WTP M9 integration driver. 

This is covered by component creation junits which run validation by default.
This is done, however opened seperate defect as performance may be costly.</WithStack>
    <WithOutStack>The validation messages are being repeated for the files in the src folder and
for those in the bin folder.  We need to filter one of them out.
ValidatorMetaData class used to have hard reference to filter out .deployables
folder.  This needs to be enhanced.
This is fixed for the 1028 WTP M9 integration driver. 

This is covered by component creation junits which run validation by default.
This is done, however opened seperate defect as performance may be costly.</WithOutStack>
  </Bug>
  <Bug>
    <BugId amount="111920" />
    <CreationDate amount="2005-10-07 11:28:00 -0400" />
    <DupId amount="" />
    <classification amount="Modeling" />
    <Product amount="GMF-Runtime" />
    <component amount="General" />
    <Version amount="1.0" />
    <rep_platform amount="PC" />
    <op_sys amount="Windows XP" />
    <priority amount="P1" />
    <bug_severity amount="enhancement" />
    <Summery>Canonical Framework should support listening on connector ends for reorientation.</Summery>
    <Patches amount="0" />
    <Stacktraces amount="0" />
    <SourceCodeRegions amount="0" />
    <Enumerations amount="0" />
    <bug_status amount="RESOLVED" />
    <resolution amount="FIXED" />
    <WithStack>The CanonicalConnectorEditPolicy should provide some support (overridable 
function) that would add listeners to connector ends such that when the 
connector end is reoriented, a canonical refresh is triggered.

Each base class can handle this but this is a common thing that all canonical 
connectors would want.
descoped
I do not think reorient is an issue any more
re-orient is already fixed
[GMF Restructure] Bug 319140 : product GMF and component Runtime Diagram was the original product and component for this bug</WithStack>
    <WithOutStack>The CanonicalConnectorEditPolicy should provide some support (overridable 
function) that would add listeners to connector ends such that when the 
connector end is reoriented, a canonical refresh is triggered.

Each base class can handle this but this is a common thing that all canonical 
connectors would want.
descoped
I do not think reorient is an issue any more
re-orient is already fixed
[GMF Restructure] Bug 319140 : product GMF and component Runtime Diagram was the original product and component for this bug</WithOutStack>
  </Bug>
  <Bug>
    <BugId amount="111921" />
    <CreationDate amount="2005-10-07 11:30:00 -0400" />
    <DupId amount="" />
    <classification amount="Tools" />
    <Product amount="TPTP Release Engineering" />
    <component amount="Build" />
    <Version amount="4.1" />
    <rep_platform amount="PC" />
    <op_sys amount="Windows XP" />
    <priority amount="P3" />
    <bug_severity amount="normal" />
    <Summery>Linux build needs to find jni_md.h</Summery>
    <Patches amount="0" />
    <Stacktraces amount="0" />
    <SourceCodeRegions amount="1">
      <source_code type="functiondef">
        <location start="571" end="781" />
        <code>In searching through the build infrastructure for the places that depend on Java include files (that's TPTPClientCompTL and javaBaseAgent), it appears that this has already been taken care of. *If* ${JAVA_HOME}</code>
      </source_code>
    </SourceCodeRegions>
    <Enumerations amount="0" />
    <bug_status amount="CLOSED" />
    <resolution amount="FIXED" />
    <WithStack>A Linux build of AC/src-native-new fails not finding jni_md.h This file is
apparently in JAVA_HOME/include for the IBM JDK, but for other JDKs I've seen,
it is in JAVA_HOME/include/linux.

Adding JAVA_HOME/include/linux to the include search path shouldn't hurt for the
IBM JDK case, and would help people who download our software to build (it's not
in the readme.txt) not to run into the undocumented problem/expectation.
Randy, You can make changes to the makefiles to suit your development/build 
environment. Just make sure you won't break the current environment. 
In searching through the build infrastructure for the places that depend on Java include files (that's TPTPClientCompTL and javaBaseAgent), it appears that this has already been taken care of. *If* ${JAVA_HOME}/include is available, so is ${JAVA_HOME}/include/${PLATFORM} (linux in .make files, and win32 in .dsp files).

So this was already done when other fixes were made.
As of TPTP 4.6.0, TPTP is in maintenance mode and focusing on improving quality by resolving relevant enhancements/defects and increasing test coverage through test creation, automation, Build Verification Tests (BVTs), and expanded run-time execution. As part of the TPTP Bugzilla housecleaning process (see http://wiki.eclipse.org/Bugzilla_Housecleaning_Processes), this enhancement/defect is verified/closed by the Project Lead since this enhancement/defect has been resolved and unverified for more than 1 year and considered to be fixed. If this enhancement/defect is still unresolved and reproducible in the latest TPTP release (http://www.eclipse.org/tptp/home/downloads/), please re-open.</WithStack>
    <WithOutStack>A Linux build of AC/src-native-new fails not finding jni_md.h This file is
apparently in JAVA_HOME/include for the IBM JDK, but for other JDKs I've seen,
it is in JAVA_HOME/include/linux.

Adding JAVA_HOME/include/linux to the include search path shouldn't hurt for the
IBM JDK case, and would help people who download our software to build (it's not
in the readme.txt) not to run into the undocumented problem/expectation.
Randy, You can make changes to the makefiles to suit your development/build 
environment. Just make sure you won't break the current environment. 
In searching through the build infrastructure for the places that depend on Java include files (that's TPTPClientCompTL and javaBaseAgent), it appears that this has already been taken care of. *If* ${JAVA_HOME}/include is available, so is ${JAVA_HOME}/include/${PLATFORM} (linux in .make files, and win32 in .dsp files).

So this was already done when other fixes were made.
As of TPTP 4.6.0, TPTP is in maintenance mode and focusing on improving quality by resolving relevant enhancements/defects and increasing test coverage through test creation, automation, Build Verification Tests (BVTs), and expanded run-time execution. As part of the TPTP Bugzilla housecleaning process (see http://wiki.eclipse.org/Bugzilla_Housecleaning_Processes), this enhancement/defect is verified/closed by the Project Lead since this enhancement/defect has been resolved and unverified for more than 1 year and considered to be fixed. If this enhancement/defect is still unresolved and reproducible in the latest TPTP release (http://www.eclipse.org/tptp/home/downloads/), please re-open.</WithOutStack>
  </Bug>
  <Bug>
    <BugId amount="111922" />
    <CreationDate amount="2005-10-07 11:31:00 -0400" />
    <DupId amount="" />
    <classification amount="Tools" />
    <Product amount="PTP" />
    <component amount="Core" />
    <Version amount="unspecified" />
    <rep_platform amount="Macintosh" />
    <op_sys amount="Mac OS X - Carbon (unsup.)" />
    <priority amount="P3" />
    <bug_severity amount="normal" />
    <Summery>Error while stopping org.eclipse.ptp.ui</Summery>
    <Patches amount="0" />
    <Stacktraces amount="3">
      <Stacktrace timestamp="1437330586235">
        <Exception>org.osgi.framework.BundleException</Exception>
        <Reason>Exception in org.eclipse.ptp.ui.PTPUIPlugin.stop() of bundle 
org.eclipse.ptp.ui.</Reason>
        <Frames>
          <Frame depth="0">org.eclipse.osgi.framework.internal.core.BundleContextImpl.stop(BundleContextImpl.java:1051)</Frame>
          <Frame depth="1">org.eclipse.osgi.framework.internal.core.BundleHost.stopWorker(BundleHost.java:402)</Frame>
          <Frame depth="2">org.eclipse.osgi.framework.internal.core.AbstractBundle.stop(AbstractBundle.java:410)</Frame>
          <Frame depth="3">org.eclipse.core.runtime.internal.adaptor.BundleStopper.basicStopBundles(BundleStopper.java:83)</Frame>
          <Frame depth="4">org.eclipse.core.runtime.internal.adaptor.BundleStopper.stopBundles(BundleStopper.java:73)</Frame>
          <Frame depth="5">org.eclipse.core.runtime.adaptor.EclipseAdaptor.frameworkStopping(EclipseAdaptor.java:757)</Frame>
          <Frame depth="6">org.eclipse.osgi.framework.internal.core.Framework.shutdown(Framework.java:528)</Frame>
          <Frame depth="7">org.eclipse.osgi.framework.internal.core.SystemBundle$1.run(SystemBundle.java:171)</Frame>
          <Frame depth="8">java.lang.Thread.run(Thread.java:552)</Frame>
        </Frames>
      </Stacktrace>
      <Cause timestamp="1437330586235">
        <Exception>java.lang.NullPointerException</Exception>
        <Reason />
        <Frames>
          <Frame depth="0">org.eclipse.ptp.internal.ui.JobManager.clear(JobManager.java:75)</Frame>
          <Frame depth="1">org.eclipse.ptp.internal.ui.JobManager.shutdown(JobManager.java:49)</Frame>
          <Frame depth="2">org.eclipse.ptp.ui.PTPUIPlugin.stop(PTPUIPlugin.java:75)</Frame>
          <Frame depth="3">org.eclipse.osgi.framework.internal.core.BundleContextImpl$3.run(BundleContextImpl.java:1035)</Frame>
          <Frame depth="4">java.security.AccessController.doPrivileged(Native Method)</Frame>
          <Frame depth="5">org.eclipse.osgi.framework.internal.core.BundleContextImpl.stop(BundleContextImpl.java:1031)</Frame>
        </Frames>
      </Cause>
      <Stacktrace timestamp="1437330586235">
        <Exception>java.lang.NullPointerException</Exception>
        <Reason />
        <Frames>
          <Frame depth="0">org.eclipse.ptp.internal.ui.JobManager.clear(JobManager.java:75)</Frame>
          <Frame depth="1">org.eclipse.ptp.internal.ui.JobManager.shutdown(JobManager.java:49)</Frame>
          <Frame depth="2">org.eclipse.ptp.ui.PTPUIPlugin.stop(PTPUIPlugin.java:75)</Frame>
          <Frame depth="3">org.eclipse.osgi.framework.internal.core.BundleContextImpl$3.run(BundleContextImpl.java:1035)</Frame>
          <Frame depth="4">java.security.AccessController.doPrivileged(Native Method)</Frame>
          <Frame depth="5">org.eclipse.osgi.framework.internal.core.BundleContextImpl.stop(BundleContextImpl.java:1031)</Frame>
          <Frame depth="6">org.eclipse.osgi.framework.internal.core.BundleHost.stopWorker(BundleHost.java:402)</Frame>
          <Frame depth="7">org.eclipse.osgi.framework.internal.core.AbstractBundle.stop(AbstractBundle.java:410)</Frame>
          <Frame depth="8">org.eclipse.core.runtime.internal.adaptor.BundleStopper.basicStopBundles(BundleStopper.java:83)</Frame>
          <Frame depth="9">org.eclipse.core.runtime.internal.adaptor.BundleStopper.stopBundles(BundleStopper.java:73)</Frame>
          <Frame depth="10">org.eclipse.core.runtime.adaptor.EclipseAdaptor.frameworkStopping(EclipseAdaptor.java:757)</Frame>
          <Frame depth="11">org.eclipse.osgi.framework.internal.core.Framework.shutdown(Framework.java:528)</Frame>
          <Frame depth="12">org.eclipse.osgi.framework.internal.core.SystemBundle$1.run(SystemBundle.java:171)</Frame>
          <Frame depth="13">java.lang.Thread.run(Thread.java:552)</Frame>
        </Frames>
      </Stacktrace>
    </Stacktraces>
    <SourceCodeRegions amount="0" />
    <Enumerations amount="0" />
    <bug_status amount="VERIFIED" />
    <resolution amount="FIXED" />
    <WithStack>The following error is generated when the plugin is stopped:

org.osgi.framework.BundleException: Exception in org.eclipse.ptp.ui.PTPUIPlugin.stop() of bundle 
org.eclipse.ptp.ui.
at org.eclipse.osgi.framework.internal.core.BundleContextImpl.stop(BundleContextImpl.java:1051)
at org.eclipse.osgi.framework.internal.core.BundleHost.stopWorker(BundleHost.java:402)
at org.eclipse.osgi.framework.internal.core.AbstractBundle.stop(AbstractBundle.java:410)
at org.eclipse.core.runtime.internal.adaptor.BundleStopper.basicStopBundles(BundleStopper.java:83)
at org.eclipse.core.runtime.internal.adaptor.BundleStopper.stopBundles(BundleStopper.java:73)
at org.eclipse.core.runtime.adaptor.EclipseAdaptor.frameworkStopping(EclipseAdaptor.java:757)
at org.eclipse.osgi.framework.internal.core.Framework.shutdown(Framework.java:528)
at org.eclipse.osgi.framework.internal.core.SystemBundle$1.run(SystemBundle.java:171)
at java.lang.Thread.run(Thread.java:552)
Caused by: java.lang.NullPointerException
at org.eclipse.ptp.internal.ui.JobManager.clear(JobManager.java:75)
at org.eclipse.ptp.internal.ui.JobManager.shutdown(JobManager.java:49)
at org.eclipse.ptp.ui.PTPUIPlugin.stop(PTPUIPlugin.java:75)
at org.eclipse.osgi.framework.internal.core.BundleContextImpl$3.run(BundleContextImpl.java:1035)
at java.security.AccessController.doPrivileged(Native Method)
at org.eclipse.osgi.framework.internal.core.BundleContextImpl.stop(BundleContextImpl.java:1031)
... 8 more
Root exception:
java.lang.NullPointerException
at org.eclipse.ptp.internal.ui.JobManager.clear(JobManager.java:75)
at org.eclipse.ptp.internal.ui.JobManager.shutdown(JobManager.java:49)
at org.eclipse.ptp.ui.PTPUIPlugin.stop(PTPUIPlugin.java:75)
at org.eclipse.osgi.framework.internal.core.BundleContextImpl$3.run(BundleContextImpl.java:1035)
at java.security.AccessController.doPrivileged(Native Method)
at org.eclipse.osgi.framework.internal.core.BundleContextImpl.stop(BundleContextImpl.java:1031)
at org.eclipse.osgi.framework.internal.core.BundleHost.stopWorker(BundleHost.java:402)
at org.eclipse.osgi.framework.internal.core.AbstractBundle.stop(AbstractBundle.java:410)
at org.eclipse.core.runtime.internal.adaptor.BundleStopper.basicStopBundles(BundleStopper.java:83)
at org.eclipse.core.runtime.internal.adaptor.BundleStopper.stopBundles(BundleStopper.java:73)
at org.eclipse.core.runtime.adaptor.EclipseAdaptor.frameworkStopping(EclipseAdaptor.java:757)
at org.eclipse.osgi.framework.internal.core.Framework.shutdown(Framework.java:528)
at org.eclipse.osgi.framework.internal.core.SystemBundle$1.run(SystemBundle.java:171)
at java.lang.Thread.run(Thread.java:552)
can you test again pls?  I have added something to prevent the null pointer
exception.
Tested on Mac OS X. No longer seeing problem in org.eclipse.ptp.ui</WithStack>
    <WithOutStack>The following error is generated when the plugin is stopped:

... 8 more
Root exception:

can you test again pls?  I have added something to prevent the null pointer
exception.
Tested on Mac OS X. No longer seeing problem in org.eclipse.ptp.ui</WithOutStack>
  </Bug>
  <Bug>
    <BugId amount="111923" />
    <CreationDate amount="2005-10-07 11:32:00 -0400" />
    <DupId amount="" />
    <classification amount="Eclipse Foundation" />
    <Product amount="Community" />
    <component amount="Forums and Newsgroups" />
    <Version amount="unspecified" />
    <rep_platform amount="All" />
    <op_sys amount="All" />
    <priority amount="P5" />
    <bug_severity amount="enhancement" />
    <Summery>All projects should have an eclipse.* top-level newsgroup name</Summery>
    <Patches amount="0" />
    <Stacktraces amount="0" />
    <SourceCodeRegions amount="0" />
    <Enumerations amount="4">
      <Enumeration lines="6">
        <Lines>
          <Line>a) make all NEW newsgroups be just eclipse.&lt;tl or sub-project name&gt; but leave</Line>
          <Line>current ones alone</Line>
          <Line>b) do (a) and actively rename all groups.</Line>
          <Line>c) continue with eclipse.&lt;tl&gt;.&lt;sub&gt; with the exception of the Eclipse project</Line>
          <Line>and its current and new sub projects.  They curently follow the pattern</Line>
          <Line>eclipse.&lt;sub-project&gt; (e.g., eclipse.platform)</Line>
        </Lines>
      </Enumeration>
      <Enumeration lines="4">
        <Lines>
          <Line>(1) a change to the Eclipse Naming Policy section labeled "Infrastructure &gt;</Line>
          <Line>Newsgroups", and</Line>
          <Line>(2) whether or not existing newsgroups should be renamed to conform to such a</Line>
          <Line>change.</Line>
        </Lines>
      </Enumeration>
      <Enumeration lines="2">
        <Lines>
          <Line>1. Because Exhibit A* didn't exist back in 2001, when eclipse.org started.</Line>
          <Line>2. Because Exhibit A* doesn't contain a rule for website names.</Line>
        </Lines>
      </Enumeration>
      <Enumeration lines="15">
        <Lines>
          <Line>1. I am one of those guys that remember a project by their "nick" name. I'm</Line>
          <Line>pretty sure there are more like me. Thus, it's absolutly inconvenient for me to</Line>
          <Line>type www.eclipse.org/toplevel/project as the URL. Mostly because it's too long</Line>
          <Line>and sometimes because I don't care about the toplevel the project is categorized</Line>
          <Line>in. I just want to find Mylar or GEF or JDT or the Platform.</Line>
          <Line />
          <Line>-1 for long URLs (WWW, wiki, downloads, whatever)</Line>
          <Line>-1 for long newsgroup names</Line>
          <Line />
          <Line>2. I don't think that there will be ever two projects at Eclipse.org sharing the</Line>
          <Line>same project name but under different toplevel categories.</Line>
          <Line />
          <Line>3. From my understanding a project can move from one toplevel to another. This</Line>
          <Line>means that everything (URLs, newsgroup, list and Bugzilla names) needs to be</Line>
          <Line>changed.</Line>
        </Lines>
      </Enumeration>
    </Enumerations>
    <bug_status amount="CLOSED" />
    <resolution amount="WONTFIX" />
    <WithStack>It has been suggested that all projects have an eclipse.* top-level newsgroup.
Today, newsgroups names are based on (mostly) the top-level PMC the project
belongs to, e.g., eclipse.webtools.jst and eclipse.tools.cdt. There are
advantages to this, such as having the name space indicate the project's PMC. 
There are disadvantages to this, such as requiring a newsgroup name change when
a project moves from one PMC to another, e.g., from Technology
(eclipse.technology.aspectj) to Tools (eclipse.tools.aspectj).  

Originally the top-level PMCs were conceived of as project maturity levels
(Technology -&gt; Tools -&gt; Platform) but Eclipse has rapidly evolved away from
this. Now the PMCs are technology areas. When the PMCs were maturity levels, the
nested newsgroup names could be seen as indicating project maturity, but no longer.

Thus the proposal that all projects have a top-level newsgroup name, e.g.,
eclipse.jst, eclipse.cdt, eclipse.aspectj, etc.

Comments?
Be aware there is no "rename" feature on innd, and renaming a newsgroup is not
an easy feat. This is why newsgroups to be renamed have been archived in favor
of new groups at eclipse.org.  innd is quite clunky this way, and if we were to
attempt to rename all the newsgroups, I'd suggest we migrate away from NNTP
newsgroups to a web-based forum.

A few links:
http://www.eyrie.org/~eagle/faqs/inn.html#S6.5
http://groups.google.ca/group/news.software.nntp/browse_thread/thread/2bf38d879a00d1ba/10bcce11209cdd4e?lnk=st&amp;q=inn+rename+newsgroup&amp;rnum=1&amp;hl=en#10bcce11209cdd4e

D.
The naming is all messed up in and around the Eclipse project and its 
subprojects.  We should either
a) make all NEW newsgroups be just eclipse.&lt;tl or sub-project name&gt; but leave 
current ones alone
b) do (a) and actively rename all groups.  
c) continue with eclipse.&lt;tl&gt;.&lt;sub&gt; with the exception of the Eclipse project 
and its current and new sub projects.  They curently follow the pattern 
eclipse.&lt;sub-project&gt; (e.g., eclipse.platform)

Actively renaming all groups (b) seems like churn but does result in a 
consistent setup.  a) is simple but will lead to the entire setup being 
inconsistent as new groups are added.  c) leaves some inconsistency around the 
Eclipse newsgroups but is otherwise ok.  It is brittle when things move but 
that happens very infrequently.

+1 for c.

If we eventually fix the Eclipse project's naming problem then the related 
subproject newgroups (e.g., Platform, Equinox, JDT, PDE) can be renamed to 
match the more general pattern.

As for comment 1, I've never been a big fan of the web based forums but do 
agree if we end up renaming everything we can take the opportunity for some 
changes.
(In reply to comment #1)
&gt; Be aware there is no "rename" feature on innd, and renaming a newsgroup is not
&gt; an easy feat. This is why newsgroups to be renamed have been archived in favor
&gt; of new groups at eclipse.org.  innd is quite clunky this way, and if we were to
&gt; attempt to rename all the newsgroups, I'd suggest we migrate away from NNTP
&gt; newsgroups to a web-based forum.

-1

I don't think that a web-based forum is a valid migration path for NNTP. At
least I prefere reading NNTP than all those web-based forums available. A
web-based forum can't replace a newsreader.

I don't know if there is a better NNTP server available.
I think the Foundation should move away from incubating all projects under the
Technology PMC. It just doesn't scale well. Projects should be placed where you
think they will end up, and the newsgroup should too. That won't totally
eliminate moves but it will eliminate the biggest reason for them. And BTW,
there haven't been very many moves to start with.

-1 for changing newsgroup names. Since I started reading them with the web forum
mirrors on EclipseZone.com I don't care what the names are anymore. EclipseZone
will be mirroring *all* of the eclipse.org newsgroups and putting them in
functional groups with nice long descriptive names. Even if that weren't an
option, the dotted names give needed organization in my opinion.

-1 to move away from NNTP. Regardless of what you pick there is going to be a
vocal group that wants something else. I think NNTP is fine because content can
be mirrored elsewhere easily and people are used to it. If the forums were only
available in a web format, that would be tough to convert to some other form.
The way it is now you can use a news reader, you can use a web browser, you can
use email, you can use RSS, etc. It's very flexible.
Correcting the facts: re (c) in comment 2: the Eclipse project has one
sub-project that, for grandfathered reasons, follows the eclipse.&lt;sub-project&gt;
and that is eclipse.platform.  All subsequence top-level and sub-projects have
been following the Eclipse Naming Policy
(http://www.eclipse.org/org/processes/project-naming-policy.html) which was
proposed to, reviewed by, and then accepted by, the community.  What we are
discussing in this bug are two things:

(1) a change to the Eclipse Naming Policy section labeled "Infrastructure &gt;
Newsgroups", and
(2) whether or not existing newsgroups should be renamed to conform to such a
change.

Regarding comment 4: the Foundation has already moved away from incubating all
projects under the Technology PMC. There are already new incubating projects
under WebTools and DSDP.
One more comment: not that we already use top-level names for all projects in
the website URLs. For example, the Mylar sub-project of the Technology PMC uses
http://www.eclipse.org/mylar/ rather than
http://www.eclipse.org/technology/mylar. Why do we have one rule for naming
newsgroups and another for URLs?
(In reply to comment #7)
&gt; Why do we have one rule for naming newsgroups and another for URLs?

1. Because Exhibit A* didn't exist back in 2001, when eclipse.org started.
2. Because Exhibit A* doesn't contain a rule for website names.

* Exhibit A = http://www.eclipse.org/org/processes/project-naming-policy.html


There are numerous naming conventions throughout eclipse.org  -- some that are
slowly ironing themselves out, others not. I think Exhibit A should be updated
to include a convention for all the resources at eclipse.org, with a GrandFather
clause that allows current resources to not be renamed for the sake of not
breaking everything.  I'm pretty strung up about making everything standard and
consistent, so feel free to send me packing if some of these proposals are too
"ambitious":

CVS
===
Current: /cvsroot/toplevel/project/component for technology,
/cvsroot/toplevel/component for eclipse, tools, webtools and others

Proposed: /cvsroot/toplevel/project/component



Web site
========
Current: www.eclipse.org/project for most, www.eclipse.org/toplevel/project for
some exceptions (some eclipse projects, webtools project)

Proposed: www.eclipse.org/toplevel/project


Newsgroups
==========
Current: eclipse.toplevel.project for most, eclipse.project for some exceptions

Proposed: eclipse.toplevel.project


Mailing lists
=============
Current: project-listname (jdt-dev)

Proposed: toplevel.project-listname (eclipse.jdt-dev)


Downloads
=========
Current: download.eclipse.org/toplevel/project for most,
download.eclipse.org/downloads/drops for Platform (redirect to
download.eclipse.org/toplevel/project)

Proposed: download.eclipse.org/toplevel/project


Bugzilla product names
======================
Current: Project (e.g. JDT)

Proposed: toplevel.project (e.g. Eclipse.JDT)


Wiki
====

It'll be here soon, so we should start this off on the right foot



SubVersion
==========

It's not here yet, but there are plans for an alternate Revision Control System,
so we should plan ahead.


E-mail aliases for committers
=============================

Current: firstname.lastname@eclipse.org

Proposed: no change proposed

This is currently strictly enforced by strung-up webmasters.


Infocenter help
===============

Current: help.eclipse.org/helpXX, where XX is the version of Eclipse

Currently only available for Eclipse projects, but bug 100635 proposes a
contralized doc so we should plan ahead.


Project vservers
================

Current: project.eclipse.org (e.g.: ecf.eclipse.org)

Proposed: project.toplevel.eclipse.org (ecf.technology.eclipse.org)

This is still relatively new...


What am I missing?


D.
(In reply to comment #8)

&gt; I'm pretty strung up about making everything standard and
&gt; consistent, so feel free to send me packing if some of these 
&gt; proposals are too "ambitious":

I also like the idee of make everything consistent but IMHO there should be only
one rule: keep it simple.

&gt; CVS Proposed: /cvsroot/toplevel/project/component
&gt; WWW Proposed: www.eclipse.org/toplevel/project
&gt; NNTP Proposed: eclipse.toplevel.project
&gt; Lists Proposed: toplevel.project-listname (eclipse.jdt-dev)
&gt; Download Proposed: download.eclipse.org/toplevel/project
&gt; Bugzilla Proposed: toplevel.project (e.g. Eclipse.JDT)
&gt; Wiki
&gt; SubVersion
&gt; Email
&gt; Infocenter help
&gt; Project vservers

As most of this looks clear to me, I feel that such a strict consitency is too
complicated.

Just a few thoughts:

1. I am one of those guys that remember a project by their "nick" name. I'm
pretty sure there are more like me. Thus, it's absolutly inconvenient for me to
type www.eclipse.org/toplevel/project as the URL. Mostly because it's too long
and sometimes because I don't care about the toplevel the project is categorized
in. I just want to find Mylar or GEF or JDT or the Platform.

-1 for long URLs (WWW, wiki, downloads, whatever)
-1 for long newsgroup names

2. I don't think that there will be ever two projects at Eclipse.org sharing the
same project name but under different toplevel categories.

3. From my understanding a project can move from one toplevel to another. This
means that everything (URLs, newsgroup, list and Bugzilla names) needs to be
changed.

If I would have the choice, I would try to drop the toplevel name everywhere.
It's just a categorization/tagging that is useful within the various Eclipse
processes. However, I don't think that uses will actually care.
Something I forgot to say:

(In reply to comment #8)
&gt; Bugzilla product names
&gt; ======================
&gt; Current: Project (e.g. JDT)
&gt; 
&gt; Proposed: toplevel.project (e.g. Eclipse.JDT)

Bugzilla 2.20 allows categorization of products. IMHO this fits better than
complicated product names, which might make some lists look cluttered.

&gt; Wiki
&gt; ====

I assume that there will be a relation to WWW, i.e. 
www.eclipse.org/mylar
wiki.eclipse.org/mylar
download.eclipse.org/mylar
svn.eclipse.org/mylar
cvs.eclipse.org/mylar

(In reply to comment #9)
+1

Keep it simple and eliminate top-level names.  Few people really understand 
what is in what TL project or why it matters and sub projects definitely move 
around.  That is how we got this bug report in the first place!
Re: comment 11 - eliminating hierarchical names because "few people understand what a top-level project is" is one potential solution. Another solution would be to make top-level projects truely effective. In fact, a counter-argument would be that we need to keep hierarchical names because we need to make the top-level projects more prominent. 

Summarizing the dicussion in this bug so far, we have 5 of the 500 committers expressing an opinion (that's 1%; not really a mandate in any way) and the opinion appears to be:
* Everyone is for consistency
* It's 50-50 as to whether consistency involves eliminating top-level.sub-project or including top-level.sub-project

A decision here will impact bug 116615.
A year without comment... Do we want to do anything with the newsgroups, keeping in mind that shuffling newsgroups around will be very disruptive?

Change: +2 (Bjorn, Jeff)
No change: -2 (Denis, Ed)
Withdrawing this bug due to a lack of interest by the community - I blogged about it (http://eclipse-projects.blogspot.com/2005/10/newsgroup-names.html), a year has gone by, indifference (http://www.despair.com/indifference.html), oh well, ...
closing</WithStack>
    <WithOutStack>It has been suggested that all projects have an eclipse.* top-level newsgroup.
Today, newsgroups names are based on (mostly) the top-level PMC the project
belongs to, e.g., eclipse.webtools.jst and eclipse.tools.cdt. There are
advantages to this, such as having the name space indicate the project's PMC. 
There are disadvantages to this, such as requiring a newsgroup name change when
a project moves from one PMC to another, e.g., from Technology
(eclipse.technology.aspectj) to Tools (eclipse.tools.aspectj).  

Originally the top-level PMCs were conceived of as project maturity levels
(Technology -&gt; Tools -&gt; Platform) but Eclipse has rapidly evolved away from
this. Now the PMCs are technology areas. When the PMCs were maturity levels, the
nested newsgroup names could be seen as indicating project maturity, but no longer.

Thus the proposal that all projects have a top-level newsgroup name, e.g.,
eclipse.jst, eclipse.cdt, eclipse.aspectj, etc.

Comments?
Be aware there is no "rename" feature on innd, and renaming a newsgroup is not
an easy feat. This is why newsgroups to be renamed have been archived in favor
of new groups at eclipse.org.  innd is quite clunky this way, and if we were to
attempt to rename all the newsgroups, I'd suggest we migrate away from NNTP
newsgroups to a web-based forum.

A few links:
http://www.eyrie.org/~eagle/faqs/inn.html#S6.5
http://groups.google.ca/group/news.software.nntp/browse_thread/thread/2bf38d879a00d1ba/10bcce11209cdd4e?lnk=st&amp;q=inn+rename+newsgroup&amp;rnum=1&amp;hl=en#10bcce11209cdd4e

D.
The naming is all messed up in and around the Eclipse project and its 
subprojects.  We should either
a) make all NEW newsgroups be just eclipse.&lt;tl or sub-project name&gt; but leave 
current ones alone
b) do (a) and actively rename all groups.  
c) continue with eclipse.&lt;tl&gt;.&lt;sub&gt; with the exception of the Eclipse project 
and its current and new sub projects.  They curently follow the pattern 
eclipse.&lt;sub-project&gt; (e.g., eclipse.platform)

Actively renaming all groups (b) seems like churn but does result in a 
consistent setup.  a) is simple but will lead to the entire setup being 
inconsistent as new groups are added.  c) leaves some inconsistency around the 
Eclipse newsgroups but is otherwise ok.  It is brittle when things move but 
that happens very infrequently.

+1 for c.

If we eventually fix the Eclipse project's naming problem then the related 
subproject newgroups (e.g., Platform, Equinox, JDT, PDE) can be renamed to 
match the more general pattern.

As for comment 1, I've never been a big fan of the web based forums but do 
agree if we end up renaming everything we can take the opportunity for some 
changes.
(In reply to comment #1)
&gt; Be aware there is no "rename" feature on innd, and renaming a newsgroup is not
&gt; an easy feat. This is why newsgroups to be renamed have been archived in favor
&gt; of new groups at eclipse.org.  innd is quite clunky this way, and if we were to
&gt; attempt to rename all the newsgroups, I'd suggest we migrate away from NNTP
&gt; newsgroups to a web-based forum.

-1

I don't think that a web-based forum is a valid migration path for NNTP. At
least I prefere reading NNTP than all those web-based forums available. A
web-based forum can't replace a newsreader.

I don't know if there is a better NNTP server available.
I think the Foundation should move away from incubating all projects under the
Technology PMC. It just doesn't scale well. Projects should be placed where you
think they will end up, and the newsgroup should too. That won't totally
eliminate moves but it will eliminate the biggest reason for them. And BTW,
there haven't been very many moves to start with.

-1 for changing newsgroup names. Since I started reading them with the web forum
mirrors on EclipseZone.com I don't care what the names are anymore. EclipseZone
will be mirroring *all* of the eclipse.org newsgroups and putting them in
functional groups with nice long descriptive names. Even if that weren't an
option, the dotted names give needed organization in my opinion.

-1 to move away from NNTP. Regardless of what you pick there is going to be a
vocal group that wants something else. I think NNTP is fine because content can
be mirrored elsewhere easily and people are used to it. If the forums were only
available in a web format, that would be tough to convert to some other form.
The way it is now you can use a news reader, you can use a web browser, you can
use email, you can use RSS, etc. It's very flexible.
Correcting the facts: re (c) in comment 2: the Eclipse project has one
sub-project that, for grandfathered reasons, follows the eclipse.&lt;sub-project&gt;
and that is eclipse.platform.  All subsequence top-level and sub-projects have
been following the Eclipse Naming Policy
(http://www.eclipse.org/org/processes/project-naming-policy.html) which was
proposed to, reviewed by, and then accepted by, the community.  What we are
discussing in this bug are two things:

(1) a change to the Eclipse Naming Policy section labeled "Infrastructure &gt;
Newsgroups", and
(2) whether or not existing newsgroups should be renamed to conform to such a
change.

Regarding comment 4: the Foundation has already moved away from incubating all
projects under the Technology PMC. There are already new incubating projects
under WebTools and DSDP.
One more comment: not that we already use top-level names for all projects in
the website URLs. For example, the Mylar sub-project of the Technology PMC uses
http://www.eclipse.org/mylar/ rather than
http://www.eclipse.org/technology/mylar. Why do we have one rule for naming
newsgroups and another for URLs?
(In reply to comment #7)
&gt; Why do we have one rule for naming newsgroups and another for URLs?

1. Because Exhibit A* didn't exist back in 2001, when eclipse.org started.
2. Because Exhibit A* doesn't contain a rule for website names.

* Exhibit A = http://www.eclipse.org/org/processes/project-naming-policy.html


There are numerous naming conventions throughout eclipse.org  -- some that are
slowly ironing themselves out, others not. I think Exhibit A should be updated
to include a convention for all the resources at eclipse.org, with a GrandFather
clause that allows current resources to not be renamed for the sake of not
breaking everything.  I'm pretty strung up about making everything standard and
consistent, so feel free to send me packing if some of these proposals are too
"ambitious":

CVS
===
Current: /cvsroot/toplevel/project/component for technology,
/cvsroot/toplevel/component for eclipse, tools, webtools and others

Proposed: /cvsroot/toplevel/project/component



Web site
========
Current: www.eclipse.org/project for most, www.eclipse.org/toplevel/project for
some exceptions (some eclipse projects, webtools project)

Proposed: www.eclipse.org/toplevel/project


Newsgroups
==========
Current: eclipse.toplevel.project for most, eclipse.project for some exceptions

Proposed: eclipse.toplevel.project


Mailing lists
=============
Current: project-listname (jdt-dev)

Proposed: toplevel.project-listname (eclipse.jdt-dev)


Downloads
=========
Current: download.eclipse.org/toplevel/project for most,
download.eclipse.org/downloads/drops for Platform (redirect to
download.eclipse.org/toplevel/project)

Proposed: download.eclipse.org/toplevel/project


Bugzilla product names
======================
Current: Project (e.g. JDT)

Proposed: toplevel.project (e.g. Eclipse.JDT)


Wiki
====

It'll be here soon, so we should start this off on the right foot



SubVersion
==========

It's not here yet, but there are plans for an alternate Revision Control System,
so we should plan ahead.


E-mail aliases for committers
=============================

Current: firstname.lastname@eclipse.org

Proposed: no change proposed

This is currently strictly enforced by strung-up webmasters.


Infocenter help
===============

Current: help.eclipse.org/helpXX, where XX is the version of Eclipse

Currently only available for Eclipse projects, but bug 100635 proposes a
contralized doc so we should plan ahead.


Project vservers
================

Current: project.eclipse.org (e.g.: ecf.eclipse.org)

Proposed: project.toplevel.eclipse.org (ecf.technology.eclipse.org)

This is still relatively new...


What am I missing?


D.
(In reply to comment #8)

&gt; I'm pretty strung up about making everything standard and
&gt; consistent, so feel free to send me packing if some of these 
&gt; proposals are too "ambitious":

I also like the idee of make everything consistent but IMHO there should be only
one rule: keep it simple.

&gt; CVS Proposed: /cvsroot/toplevel/project/component
&gt; WWW Proposed: www.eclipse.org/toplevel/project
&gt; NNTP Proposed: eclipse.toplevel.project
&gt; Lists Proposed: toplevel.project-listname (eclipse.jdt-dev)
&gt; Download Proposed: download.eclipse.org/toplevel/project
&gt; Bugzilla Proposed: toplevel.project (e.g. Eclipse.JDT)
&gt; Wiki
&gt; SubVersion
&gt; Email
&gt; Infocenter help
&gt; Project vservers

As most of this looks clear to me, I feel that such a strict consitency is too
complicated.

Just a few thoughts:

1. I am one of those guys that remember a project by their "nick" name. I'm
pretty sure there are more like me. Thus, it's absolutly inconvenient for me to
type www.eclipse.org/toplevel/project as the URL. Mostly because it's too long
and sometimes because I don't care about the toplevel the project is categorized
in. I just want to find Mylar or GEF or JDT or the Platform.

-1 for long URLs (WWW, wiki, downloads, whatever)
-1 for long newsgroup names

2. I don't think that there will be ever two projects at Eclipse.org sharing the
same project name but under different toplevel categories.

3. From my understanding a project can move from one toplevel to another. This
means that everything (URLs, newsgroup, list and Bugzilla names) needs to be
changed.

If I would have the choice, I would try to drop the toplevel name everywhere.
It's just a categorization/tagging that is useful within the various Eclipse
processes. However, I don't think that uses will actually care.
Something I forgot to say:

(In reply to comment #8)
&gt; Bugzilla product names
&gt; ======================
&gt; Current: Project (e.g. JDT)
&gt; 
&gt; Proposed: toplevel.project (e.g. Eclipse.JDT)

Bugzilla 2.20 allows categorization of products. IMHO this fits better than
complicated product names, which might make some lists look cluttered.

&gt; Wiki
&gt; ====

I assume that there will be a relation to WWW, i.e. 
www.eclipse.org/mylar
wiki.eclipse.org/mylar
download.eclipse.org/mylar
svn.eclipse.org/mylar
cvs.eclipse.org/mylar

(In reply to comment #9)
+1

Keep it simple and eliminate top-level names.  Few people really understand 
what is in what TL project or why it matters and sub projects definitely move 
around.  That is how we got this bug report in the first place!
Re: comment 11 - eliminating hierarchical names because "few people understand what a top-level project is" is one potential solution. Another solution would be to make top-level projects truely effective. In fact, a counter-argument would be that we need to keep hierarchical names because we need to make the top-level projects more prominent. 

Summarizing the dicussion in this bug so far, we have 5 of the 500 committers expressing an opinion (that's 1%; not really a mandate in any way) and the opinion appears to be:
* Everyone is for consistency
* It's 50-50 as to whether consistency involves eliminating top-level.sub-project or including top-level.sub-project

A decision here will impact bug 116615.
A year without comment... Do we want to do anything with the newsgroups, keeping in mind that shuffling newsgroups around will be very disruptive?

Change: +2 (Bjorn, Jeff)
No change: -2 (Denis, Ed)
Withdrawing this bug due to a lack of interest by the community - I blogged about it (http://eclipse-projects.blogspot.com/2005/10/newsgroup-names.html), a year has gone by, indifference (http://www.despair.com/indifference.html), oh well, ...
closing</WithOutStack>
  </Bug>
  <Bug>
    <BugId amount="111924" />
    <CreationDate amount="2005-10-07 11:32:00 -0400" />
    <DupId amount="" />
    <classification amount="Tools" />
    <Product amount="PTP" />
    <component amount="Debug UI" />
    <Version amount="unspecified" />
    <rep_platform amount="Macintosh" />
    <op_sys amount="Mac OS X - Carbon (unsup.)" />
    <priority amount="P3" />
    <bug_severity amount="normal" />
    <Summery>Error while stopping org.eclipse.debug.ui</Summery>
    <Patches amount="0" />
    <Stacktraces amount="3">
      <Stacktrace timestamp="1437330586251">
        <Exception>org.osgi.framework.BundleException</Exception>
        <Reason>Exception in org.eclipse.debug.internal.ui.DebugUIPlugin.stop() of 
bundle org.eclipse.debug.ui.</Reason>
        <Frames>
          <Frame depth="0">org.eclipse.osgi.framework.internal.core.BundleContextImpl.stop(BundleContextImpl.java:1051)</Frame>
          <Frame depth="1">org.eclipse.osgi.framework.internal.core.BundleHost.stopWorker(BundleHost.java:402)</Frame>
          <Frame depth="2">org.eclipse.osgi.framework.internal.core.AbstractBundle.stop(AbstractBundle.java:410)</Frame>
          <Frame depth="3">org.eclipse.core.runtime.internal.adaptor.BundleStopper.basicStopBundles(BundleStopper.java:83)</Frame>
          <Frame depth="4">org.eclipse.core.runtime.internal.adaptor.BundleStopper.stopBundles(BundleStopper.java:73)</Frame>
          <Frame depth="5">org.eclipse.core.runtime.adaptor.EclipseAdaptor.frameworkStopping(EclipseAdaptor.java:757)</Frame>
          <Frame depth="6">org.eclipse.osgi.framework.internal.core.Framework.shutdown(Framework.java:528)</Frame>
          <Frame depth="7">org.eclipse.osgi.framework.internal.core.SystemBundle$1.run(SystemBundle.java:171)</Frame>
          <Frame depth="8">java.lang.Thread.run(Thread.java:552)</Frame>
        </Frames>
      </Stacktrace>
      <Cause timestamp="1437330586251">
        <Exception>java.lang.NullPointerException</Exception>
        <Reason />
        <Frames>
          <Frame depth="0">org.eclipse.debug.internal.ui.views.breakpoints.BreakpointOrganizerExtension.dispose(BreakpointOrganizerExtension.java:145)</Frame>
          <Frame depth="1">org.eclipse.debug.internal.ui.views.breakpoints.BreakpointOrganizerManager.shutdown(BreakpointOrganizerManager.java:152)</Frame>
          <Frame depth="2">org.eclipse.debug.internal.ui.DebugUIPlugin.stop(DebugUIPlugin.java:354)</Frame>
          <Frame depth="3">org.eclipse.osgi.framework.internal.core.BundleContextImpl$3.run(BundleContextImpl.java:1035)</Frame>
          <Frame depth="4">java.security.AccessController.doPrivileged(Native Method)</Frame>
          <Frame depth="5">org.eclipse.osgi.framework.internal.core.BundleContextImpl.stop(BundleContextImpl.java:1031)</Frame>
        </Frames>
      </Cause>
      <Stacktrace timestamp="1437330586251">
        <Exception>java.lang.NullPointerException</Exception>
        <Reason />
        <Frames>
          <Frame depth="0">org.eclipse.debug.internal.ui.views.breakpoints.BreakpointOrganizerExtension.dispose(BreakpointOrganizerExtension.java:145)</Frame>
          <Frame depth="1">org.eclipse.debug.internal.ui.views.breakpoints.BreakpointOrganizerManager.shutdown(BreakpointOrganizerManager.java:152)</Frame>
          <Frame depth="2">org.eclipse.debug.internal.ui.DebugUIPlugin.stop(DebugUIPlugin.java:354)</Frame>
          <Frame depth="3">org.eclipse.osgi.framework.internal.core.BundleContextImpl$3.run(BundleContextImpl.java:1035)</Frame>
          <Frame depth="4">java.security.AccessController.doPrivileged(Native Method)</Frame>
          <Frame depth="5">org.eclipse.osgi.framework.internal.core.BundleContextImpl.stop(BundleContextImpl.java:1031)</Frame>
          <Frame depth="6">org.eclipse.osgi.framework.internal.core.BundleHost.stopWorker(BundleHost.java:402)</Frame>
          <Frame depth="7">org.eclipse.osgi.framework.internal.core.AbstractBundle.stop(AbstractBundle.java:410)</Frame>
          <Frame depth="8">org.eclipse.core.runtime.internal.adaptor.BundleStopper.basicStopBundles(BundleStopper.java:83)</Frame>
          <Frame depth="9">org.eclipse.core.runtime.internal.adaptor.BundleStopper.stopBundles(BundleStopper.java:73)</Frame>
          <Frame depth="10">org.eclipse.core.runtime.adaptor.EclipseAdaptor.frameworkStopping(EclipseAdaptor.java:757)</Frame>
          <Frame depth="11">org.eclipse.osgi.framework.internal.core.Framework.shutdown(Framework.java:528)</Frame>
          <Frame depth="12">org.eclipse.osgi.framework.internal.core.SystemBundle$1.run(SystemBundle.java:171)</Frame>
          <Frame depth="13">java.lang.Thread.run(Thread.java:552)</Frame>
        </Frames>
      </Stacktrace>
    </Stacktraces>
    <SourceCodeRegions amount="0" />
    <Enumerations amount="0" />
    <bug_status amount="VERIFIED" />
    <resolution amount="FIXED" />
    <WithStack>The following error is generated when the plugin is stopped:

org.osgi.framework.BundleException: Exception in org.eclipse.debug.internal.ui.DebugUIPlugin.stop() of 
bundle org.eclipse.debug.ui.
at org.eclipse.osgi.framework.internal.core.BundleContextImpl.stop(BundleContextImpl.java:1051)
at org.eclipse.osgi.framework.internal.core.BundleHost.stopWorker(BundleHost.java:402)
at org.eclipse.osgi.framework.internal.core.AbstractBundle.stop(AbstractBundle.java:410)
at org.eclipse.core.runtime.internal.adaptor.BundleStopper.basicStopBundles(BundleStopper.java:83)
at org.eclipse.core.runtime.internal.adaptor.BundleStopper.stopBundles(BundleStopper.java:73)
at org.eclipse.core.runtime.adaptor.EclipseAdaptor.frameworkStopping(EclipseAdaptor.java:757)
at org.eclipse.osgi.framework.internal.core.Framework.shutdown(Framework.java:528)
at org.eclipse.osgi.framework.internal.core.SystemBundle$1.run(SystemBundle.java:171)
at java.lang.Thread.run(Thread.java:552)
Caused by: java.lang.NullPointerException
at org.eclipse.debug.internal.ui.views.breakpoints.BreakpointOrganizerExtension.dispose
(BreakpointOrganizerExtension.java:145)
at org.eclipse.debug.internal.ui.views.breakpoints.BreakpointOrganizerManager.shutdown
(BreakpointOrganizerManager.java:152)
at org.eclipse.debug.internal.ui.DebugUIPlugin.stop(DebugUIPlugin.java:354)
at org.eclipse.osgi.framework.internal.core.BundleContextImpl$3.run(BundleContextImpl.java:1035)
at java.security.AccessController.doPrivileged(Native Method)
at org.eclipse.osgi.framework.internal.core.BundleContextImpl.stop(BundleContextImpl.java:1031)
... 8 more
Root exception:
java.lang.NullPointerException
at org.eclipse.debug.internal.ui.views.breakpoints.BreakpointOrganizerExtension.dispose
(BreakpointOrganizerExtension.java:145)
at org.eclipse.debug.internal.ui.views.breakpoints.BreakpointOrganizerManager.shutdown
(BreakpointOrganizerManager.java:152)
at org.eclipse.debug.internal.ui.DebugUIPlugin.stop(DebugUIPlugin.java:354)
at org.eclipse.osgi.framework.internal.core.BundleContextImpl$3.run(BundleContextImpl.java:1035)
at java.security.AccessController.doPrivileged(Native Method)
at org.eclipse.osgi.framework.internal.core.BundleContextImpl.stop(BundleContextImpl.java:1031)
at org.eclipse.osgi.framework.internal.core.BundleHost.stopWorker(BundleHost.java:402)
at org.eclipse.osgi.framework.internal.core.AbstractBundle.stop(AbstractBundle.java:410)
at org.eclipse.core.runtime.internal.adaptor.BundleStopper.basicStopBundles(BundleStopper.java:83)
at org.eclipse.core.runtime.internal.adaptor.BundleStopper.stopBundles(BundleStopper.java:73)
at org.eclipse.core.runtime.adaptor.EclipseAdaptor.frameworkStopping(EclipseAdaptor.java:757)
at org.eclipse.osgi.framework.internal.core.Framework.shutdown(Framework.java:528)
at org.eclipse.osgi.framework.internal.core.SystemBundle$1.run(SystemBundle.java:171)
at java.lang.Thread.run(Thread.java:552)
I knew this error before, but i have no idea to fix it.  I extended
BreakpointOrganizer in ptp.debug.ui for doing something in "breakpoint view".  I
guess it is because we are using runtime-eclipse and the eclipse cannot
recongize the new BreakpointOrganizer I extended when it loads/unloads the plugins.
I'm no longer seeing these errors. Now they only appear in org.eclipse.debug.core.</WithStack>
    <WithOutStack>The following error is generated when the plugin is stopped:

... 8 more
Root exception:

I knew this error before, but i have no idea to fix it.  I extended
BreakpointOrganizer in ptp.debug.ui for doing something in "breakpoint view".  I
guess it is because we are using runtime-eclipse and the eclipse cannot
recongize the new BreakpointOrganizer I extended when it loads/unloads the plugins.
I'm no longer seeing these errors. Now they only appear in org.eclipse.debug.core.</WithOutStack>
  </Bug>
  <Bug>
    <BugId amount="111925" />
    <CreationDate amount="2005-10-07 11:32:00 -0400" />
    <DupId amount="" />
    <classification amount="Modeling" />
    <Product amount="GMF-Runtime" />
    <component amount="General" />
    <Version amount="1.0" />
    <rep_platform amount="PC" />
    <op_sys amount="Windows XP" />
    <priority amount="P3" />
    <bug_severity amount="enhancement" />
    <Summery>[Geoshapes] Support different line styles and arrow heads for geometric shapes / lines</Summery>
    <Patches amount="0" />
    <Stacktraces amount="0" />
    <SourceCodeRegions amount="0" />
    <Enumerations amount="1">
      <Enumeration lines="4">
        <Lines>
          <Line>- be able to set line style of outline of geometric shapes and lines</Line>
          <Line>- be able to set arrow head style on lines.</Line>
          <Line>descoped</Line>
          <Line>Not yet assigned to a release (assigned to a milestone with the Plan keyword).</Line>
        </Lines>
      </Enumeration>
    </Enumerations>
    <bug_status amount="NEW" />
    <resolution amount="" />
    <WithStack>- be able to set line style of outline of geometric shapes and lines
- be able to set arrow head style on lines.
descoped
Not yet assigned to a release (assigned to a milestone with the Plan keyword).

Moving to the next release, GMF 2.1. 


[GMF Restructure] Bug 319140 : product GMF and component
Runtime was the original product and component for this bug</WithStack>
    <WithOutStack>- be able to set line style of outline of geometric shapes and lines
- be able to set arrow head style on lines.
descoped
Not yet assigned to a release (assigned to a milestone with the Plan keyword).

Moving to the next release, GMF 2.1. 


[GMF Restructure] Bug 319140 : product GMF and component
Runtime was the original product and component for this bug</WithOutStack>
  </Bug>
  <Bug>
    <BugId amount="111926" />
    <CreationDate amount="2005-10-07 11:33:00 -0400" />
    <DupId amount="" />
    <classification amount="Eclipse" />
    <Product amount="PDE" />
    <component amount="UI" />
    <Version amount="3.2" />
    <rep_platform amount="PC" />
    <op_sys amount="Windows XP" />
    <priority amount="P3" />
    <bug_severity amount="normal" />
    <Summery>PDEBuild needs Bundle-RequiredExecutionEnvironment from manifest</Summery>
    <Patches amount="0" />
    <Stacktraces amount="0" />
    <SourceCodeRegions amount="0" />
    <Enumerations amount="0" />
    <bug_status amount="CLOSED" />
    <resolution amount="INVALID" />
    <WithStack>PDE Build will be using the value of Bundle-RequiredExecutionEnvironment from
the manifest when generating build scripts (for per plugin source, target, and
bootclassPath values).

When exporting a plugin we will need the UI to provide us this value (perhaps in
the bundle's user object).
the required execution environment values are available in the bundle 
description (BundleDescription#getExecutionEnvironments()).  No need for a 
user object.
Ah, its new.  thanks for pointing this out, makes things easier.</WithStack>
    <WithOutStack>PDE Build will be using the value of Bundle-RequiredExecutionEnvironment from
the manifest when generating build scripts (for per plugin source, target, and
bootclassPath values).

When exporting a plugin we will need the UI to provide us this value (perhaps in
the bundle's user object).
the required execution environment values are available in the bundle 
description (BundleDescription#getExecutionEnvironments()).  No need for a 
user object.
Ah, its new.  thanks for pointing this out, makes things easier.</WithOutStack>
  </Bug>
  <Bug>
    <BugId amount="111927" />
    <CreationDate amount="2005-10-07 11:33:00 -0400" />
    <DupId amount="131032" />
    <classification amount="Tools" />
    <Product amount="PTP" />
    <component amount="Debug Core" />
    <Version amount="unspecified" />
    <rep_platform amount="Macintosh" />
    <op_sys amount="Mac OS X - Carbon (unsup.)" />
    <priority amount="P3" />
    <bug_severity amount="normal" />
    <Summery>Error while stopping org.eclipse.debug.core</Summery>
    <Patches amount="0" />
    <Stacktraces amount="6">
      <Stacktrace timestamp="1437330586251">
        <Exception>org.osgi.framework.BundleException</Exception>
        <Reason>Exception in org.eclipse.debug.core.DebugPlugin.stop() of bundle 
org.eclipse.debug.core.</Reason>
        <Frames>
          <Frame depth="0">org.eclipse.osgi.framework.internal.core.BundleContextImpl.stop(BundleContextImpl.java:1051)</Frame>
          <Frame depth="1">org.eclipse.osgi.framework.internal.core.BundleHost.stopWorker(BundleHost.java:402)</Frame>
          <Frame depth="2">org.eclipse.osgi.framework.internal.core.AbstractBundle.stop(AbstractBundle.java:410)</Frame>
          <Frame depth="3">org.eclipse.core.runtime.internal.adaptor.BundleStopper.basicStopBundles(BundleStopper.java:83)</Frame>
          <Frame depth="4">org.eclipse.core.runtime.internal.adaptor.BundleStopper.stopBundles(BundleStopper.java:73)</Frame>
          <Frame depth="5">org.eclipse.core.runtime.adaptor.EclipseAdaptor.frameworkStopping(EclipseAdaptor.java:757)</Frame>
          <Frame depth="6">org.eclipse.osgi.framework.internal.core.Framework.shutdown(Framework.java:528)</Frame>
          <Frame depth="7">org.eclipse.osgi.framework.internal.core.SystemBundle$1.run(SystemBundle.java:171)</Frame>
          <Frame depth="8">java.lang.Thread.run(Thread.java:552)</Frame>
        </Frames>
      </Stacktrace>
      <Cause timestamp="1437330586251">
        <Exception>java.lang.NullPointerException</Exception>
        <Reason />
        <Frames>
          <Frame depth="0">org.eclipse.ptp.debug.external.cdi.model.TargetConfiguration.supportsDisconnect(TargetConfiguration.java:45)</Frame>
          <Frame depth="1">org.eclipse.ptp.debug.internal.core.model.PDebugTarget.supportsDisconnect(PDebugTarget.java:586)</Frame>
          <Frame depth="2">org.eclipse.ptp.debug.internal.core.model.PDebugTarget.canDisconnect(PDebugTarget.java:602)</Frame>
          <Frame depth="3">org.eclipse.debug.core.Launch.canDisconnect(Launch.java:455)</Frame>
          <Frame depth="4">org.eclipse.debug.internal.core.LaunchManager.shutdown(LaunchManager.java:528)</Frame>
          <Frame depth="5">org.eclipse.debug.core.DebugPlugin.stop(DebugPlugin.java:564)</Frame>
          <Frame depth="6">org.eclipse.osgi.framework.internal.core.BundleContextImpl$3.run(BundleContextImpl.java:1035)</Frame>
          <Frame depth="7">java.security.AccessController.doPrivileged(Native Method)</Frame>
          <Frame depth="8">org.eclipse.osgi.framework.internal.core.BundleContextImpl.stop(BundleContextImpl.java:1031)</Frame>
        </Frames>
      </Cause>
      <Stacktrace timestamp="1437330586251">
        <Exception>java.lang.NullPointerException</Exception>
        <Reason />
        <Frames>
          <Frame depth="0">org.eclipse.ptp.debug.external.cdi.model.TargetConfiguration.supportsDisconnect(TargetConfiguration.java:45)</Frame>
          <Frame depth="1">org.eclipse.ptp.debug.internal.core.model.PDebugTarget.supportsDisconnect(PDebugTarget.java:586)</Frame>
          <Frame depth="2">org.eclipse.ptp.debug.internal.core.model.PDebugTarget.canDisconnect(PDebugTarget.java:602)</Frame>
          <Frame depth="3">org.eclipse.debug.core.Launch.canDisconnect(Launch.java:455)</Frame>
          <Frame depth="4">org.eclipse.debug.internal.core.LaunchManager.shutdown(LaunchManager.java:528)</Frame>
          <Frame depth="5">org.eclipse.debug.core.DebugPlugin.stop(DebugPlugin.java:564)</Frame>
          <Frame depth="6">org.eclipse.osgi.framework.internal.core.BundleContextImpl$3.run(BundleContextImpl.java:1035)</Frame>
          <Frame depth="7">java.security.AccessController.doPrivileged(Native Method)</Frame>
          <Frame depth="8">org.eclipse.osgi.framework.internal.core.BundleContextImpl.stop(BundleContextImpl.java:1031)</Frame>
          <Frame depth="9">org.eclipse.osgi.framework.internal.core.BundleHost.stopWorker(BundleHost.java:402)</Frame>
          <Frame depth="10">org.eclipse.osgi.framework.internal.core.AbstractBundle.stop(AbstractBundle.java:410)</Frame>
          <Frame depth="11">org.eclipse.core.runtime.internal.adaptor.BundleStopper.basicStopBundles(BundleStopper.java:83)</Frame>
          <Frame depth="12">org.eclipse.core.runtime.internal.adaptor.BundleStopper.stopBundles(BundleStopper.java:73)</Frame>
          <Frame depth="13">org.eclipse.core.runtime.adaptor.EclipseAdaptor.frameworkStopping(EclipseAdaptor.java:757)</Frame>
          <Frame depth="14">org.eclipse.osgi.framework.internal.core.Framework.shutdown(Framework.java:528)</Frame>
          <Frame depth="15">org.eclipse.osgi.framework.internal.core.SystemBundle$1.run(SystemBundle.java:171)</Frame>
          <Frame depth="16">java.lang.Thread.run(Thread.java:552)</Frame>
        </Frames>
      </Stacktrace>
      <Stacktrace timestamp="1437330586251">
        <Exception>org.osgi.framework.BundleException</Exception>
        <Reason>Exception in org.eclipse.debug.internal.ui.DebugUIPlugin.stop() of bundle org.eclipse.debug.ui.</Reason>
        <Frames>
          <Frame depth="0">org.eclipse.osgi.framework.internal.core.BundleContextImpl.stop(BundleContextImpl.java:1051)</Frame>
          <Frame depth="1">org.eclipse.osgi.framework.internal.core.BundleHost.stopWorker(BundleHost.java:394)</Frame>
          <Frame depth="2">org.eclipse.osgi.framework.internal.core.AbstractBundle.stop(AbstractBundle.java:408)</Frame>
          <Frame depth="3">org.eclipse.core.runtime.internal.adaptor.BundleStopper.basicStopBundles(BundleStopper.java:83)</Frame>
          <Frame depth="4">org.eclipse.core.runtime.internal.adaptor.BundleStopper.stopBundles(BundleStopper.java:73)</Frame>
          <Frame depth="5">org.eclipse.core.runtime.adaptor.EclipseAdaptor.frameworkStopping(EclipseAdaptor.java:766)</Frame>
          <Frame depth="6">org.eclipse.osgi.framework.internal.core.Framework.shutdown(Framework.java:528)</Frame>
          <Frame depth="7">org.eclipse.osgi.framework.internal.core.SystemBundle$1.run(SystemBundle.java:171)</Frame>
          <Frame depth="8">java.lang.Thread.run(Thread.java:552)</Frame>
        </Frames>
      </Stacktrace>
      <Stacktrace timestamp="1437330586251">
        <Exception>java.lang.NullPointerException</Exception>
        <Reason />
        <Frames>
          <Frame depth="0">org.eclipse.debug.internal.ui.views.breakpoints.BreakpointOrganizerExtension.dispose(BreakpointOrganizerExtension.java:145)</Frame>
          <Frame depth="1">org.eclipse.debug.internal.ui.views.breakpoints.BreakpointOrganizerManager.shutdown(BreakpointOrganizerManager.java:152)</Frame>
          <Frame depth="2">org.eclipse.debug.internal.ui.DebugUIPlugin.stop(DebugUIPlugin.java:354)</Frame>
          <Frame depth="3">org.eclipse.osgi.framework.internal.core.BundleContextImpl$3.run(BundleContextImpl.java:1035)</Frame>
          <Frame depth="4">java.security.AccessController.doPrivileged(Native Method)</Frame>
          <Frame depth="5">org.eclipse.osgi.framework.internal.core.BundleContextImpl.stop(BundleContextImpl.java:1031)</Frame>
          <Frame depth="6">org.eclipse.osgi.framework.internal.core.BundleHost.stopWorker(BundleHost.java:394)</Frame>
          <Frame depth="7">org.eclipse.osgi.framework.internal.core.AbstractBundle.stop(AbstractBundle.java:408)</Frame>
          <Frame depth="8">org.eclipse.core.runtime.internal.adaptor.BundleStopper.basicStopBundles(BundleStopper.java:83)</Frame>
          <Frame depth="9">org.eclipse.core.runtime.internal.adaptor.BundleStopper.stopBundles(BundleStopper.java:73)</Frame>
          <Frame depth="10">org.eclipse.core.runtime.adaptor.EclipseAdaptor.frameworkStopping(EclipseAdaptor.java:766)</Frame>
          <Frame depth="11">org.eclipse.osgi.framework.internal.core.Framework.shutdown(Framework.java:528)</Frame>
          <Frame depth="12">org.eclipse.osgi.framework.internal.core.SystemBundle$1.run(SystemBundle.java:171)</Frame>
          <Frame depth="13">java.lang.Thread.run(Thread.java:552)</Frame>
        </Frames>
      </Stacktrace>
      <Cause timestamp="1437330586251">
        <Exception>java.lang.NullPointerException</Exception>
        <Reason />
        <Frames>
          <Frame depth="0">org.eclipse.debug.internal.ui.views.breakpoints.BreakpointOrganizerExtension.dispose(BreakpointOrganizerExtension.java:145)</Frame>
          <Frame depth="1">org.eclipse.debug.internal.ui.views.breakpoints.BreakpointOrganizerManager.shutdown(BreakpointOrganizerManager.java:152)</Frame>
          <Frame depth="2">org.eclipse.debug.internal.ui.DebugUIPlugin.stop(DebugUIPlugin.java:354)</Frame>
          <Frame depth="3">org.eclipse.osgi.framework.internal.core.BundleContextImpl$3.run(BundleContextImpl.java:1035)</Frame>
          <Frame depth="4">java.security.AccessController.doPrivileged(Native Method)</Frame>
          <Frame depth="5">org.eclipse.osgi.framework.internal.core.BundleContextImpl.stop(BundleContextImpl.java:1031)</Frame>
        </Frames>
      </Cause>
    </Stacktraces>
    <SourceCodeRegions amount="0" />
    <Enumerations amount="0" />
    <bug_status amount="CLOSED" />
    <resolution amount="DUPLICATE" />
    <WithStack>The following error is generated when the plugin is stopped:

org.osgi.framework.BundleException: Exception in org.eclipse.debug.core.DebugPlugin.stop() of bundle 
org.eclipse.debug.core.
at org.eclipse.osgi.framework.internal.core.BundleContextImpl.stop(BundleContextImpl.java:1051)
at org.eclipse.osgi.framework.internal.core.BundleHost.stopWorker(BundleHost.java:402)
at org.eclipse.osgi.framework.internal.core.AbstractBundle.stop(AbstractBundle.java:410)
at org.eclipse.core.runtime.internal.adaptor.BundleStopper.basicStopBundles(BundleStopper.java:83)
at org.eclipse.core.runtime.internal.adaptor.BundleStopper.stopBundles(BundleStopper.java:73)
at org.eclipse.core.runtime.adaptor.EclipseAdaptor.frameworkStopping(EclipseAdaptor.java:757)
at org.eclipse.osgi.framework.internal.core.Framework.shutdown(Framework.java:528)
at org.eclipse.osgi.framework.internal.core.SystemBundle$1.run(SystemBundle.java:171)
at java.lang.Thread.run(Thread.java:552)
Caused by: java.lang.NullPointerException
at org.eclipse.ptp.debug.external.cdi.model.TargetConfiguration.supportsDisconnect
(TargetConfiguration.java:45)
at org.eclipse.ptp.debug.internal.core.model.PDebugTarget.supportsDisconnect(PDebugTarget.java:
586)
at org.eclipse.ptp.debug.internal.core.model.PDebugTarget.canDisconnect(PDebugTarget.java:602)
at org.eclipse.debug.core.Launch.canDisconnect(Launch.java:455)
at org.eclipse.debug.internal.core.LaunchManager.shutdown(LaunchManager.java:528)
at org.eclipse.debug.core.DebugPlugin.stop(DebugPlugin.java:564)
at org.eclipse.osgi.framework.internal.core.BundleContextImpl$3.run(BundleContextImpl.java:1035)
at java.security.AccessController.doPrivileged(Native Method)
at org.eclipse.osgi.framework.internal.core.BundleContextImpl.stop(BundleContextImpl.java:1031)
... 8 more
Root exception:
java.lang.NullPointerException
at org.eclipse.ptp.debug.external.cdi.model.TargetConfiguration.supportsDisconnect
(TargetConfiguration.java:45)
at org.eclipse.ptp.debug.internal.core.model.PDebugTarget.supportsDisconnect(PDebugTarget.java:
586)
at org.eclipse.ptp.debug.internal.core.model.PDebugTarget.canDisconnect(PDebugTarget.java:602)
at org.eclipse.debug.core.Launch.canDisconnect(Launch.java:455)
at org.eclipse.debug.internal.core.LaunchManager.shutdown(LaunchManager.java:528)
at org.eclipse.debug.core.DebugPlugin.stop(DebugPlugin.java:564)
at org.eclipse.osgi.framework.internal.core.BundleContextImpl$3.run(BundleContextImpl.java:1035)
at java.security.AccessController.doPrivileged(Native Method)
at org.eclipse.osgi.framework.internal.core.BundleContextImpl.stop(BundleContextImpl.java:1031)
at org.eclipse.osgi.framework.internal.core.BundleHost.stopWorker(BundleHost.java:402)
at org.eclipse.osgi.framework.internal.core.AbstractBundle.stop(AbstractBundle.java:410)
at org.eclipse.core.runtime.internal.adaptor.BundleStopper.basicStopBundles(BundleStopper.java:83)
at org.eclipse.core.runtime.internal.adaptor.BundleStopper.stopBundles(BundleStopper.java:73)
at org.eclipse.core.runtime.adaptor.EclipseAdaptor.frameworkStopping(EclipseAdaptor.java:757)
at org.eclipse.osgi.framework.internal.core.Framework.shutdown(Framework.java:528)
at org.eclipse.osgi.framework.internal.core.SystemBundle$1.run(SystemBundle.java:171)
at java.lang.Thread.run(Thread.java:552)
Please check with the latest code in CVS. If the bug is still there, please let
me know how to replicate the bug.
Reassigned to Clement. I believe this is still a problem. Launch PTP and take a look in the Error Log view.
(In reply to comment #2)
&gt; Reassigned to Clement. I believe this is still a problem. Launch PTP and take a
&gt; look in the Error Log view.
&gt; 

I haven't got this error on my machine.  How can you stop the plugin?  Close the runtime-eclipse?  Please tell me how you produce this error.  Thanks.
Yes, start eclipse with PTP. Make sure the PTP plugins are loaded (switch to PTP Runtime &amp; Debug perspectives). Exit from eclipse. Start eclipse again and check the error log.
I think this problem has been fixed.
I'm seeing a similar error from org.eclipse.debug.ui_3.1.1. This is from the PTP 1.0RC3 plugins that have been loaded directly into Eclipse, not from a runtime instance of Eclipse.

org.osgi.framework.BundleException: Exception in org.eclipse.debug.internal.ui.DebugUIPlugin.stop() of bundle org.eclipse.debug.ui.
at org.eclipse.osgi.framework.internal.core.BundleContextImpl.stop(BundleContextImpl.java:1051)
at org.eclipse.osgi.framework.internal.core.BundleHost.stopWorker(BundleHost.java:394)
at org.eclipse.osgi.framework.internal.core.AbstractBundle.stop(AbstractBundle.java:408)
at org.eclipse.core.runtime.internal.adaptor.BundleStopper.basicStopBundles(BundleStopper.java:83)
at org.eclipse.core.runtime.internal.adaptor.BundleStopper.stopBundles(BundleStopper.java:73)
at org.eclipse.core.runtime.adaptor.EclipseAdaptor.frameworkStopping(EclipseAdaptor.java:766)
at org.eclipse.osgi.framework.internal.core.Framework.shutdown(Framework.java:528)
at org.eclipse.osgi.framework.internal.core.SystemBundle$1.run(SystemBundle.java:171)
at java.lang.Thread.run(Thread.java:552)
Caused by: java.lang.NullPointerException
at org.eclipse.debug.internal.ui.views.breakpoints.BreakpointOrganizerExtension.dispose(BreakpointOrganizerExtension.java:145)
at org.eclipse.debug.internal.ui.views.breakpoints.BreakpointOrganizerManager.shutdown(BreakpointOrganizerManager.java:152)
at org.eclipse.debug.internal.ui.DebugUIPlugin.stop(DebugUIPlugin.java:354)
at org.eclipse.osgi.framework.internal.core.BundleContextImpl$3.run(BundleContextImpl.java:1035)
at java.security.AccessController.doPrivileged(Native Method)
at org.eclipse.osgi.framework.internal.core.BundleContextImpl.stop(BundleContextImpl.java:1031)
... 8 more
Root exception:
java.lang.NullPointerException
at org.eclipse.debug.internal.ui.views.breakpoints.BreakpointOrganizerExtension.dispose(BreakpointOrganizerExtension.java:145)
at org.eclipse.debug.internal.ui.views.breakpoints.BreakpointOrganizerManager.shutdown(BreakpointOrganizerManager.java:152)
at org.eclipse.debug.internal.ui.DebugUIPlugin.stop(DebugUIPlugin.java:354)
at org.eclipse.osgi.framework.internal.core.BundleContextImpl$3.run(BundleContextImpl.java:1035)
at java.security.AccessController.doPrivileged(Native Method)
at org.eclipse.osgi.framework.internal.core.BundleContextImpl.stop(BundleContextImpl.java:1031)
at org.eclipse.osgi.framework.internal.core.BundleHost.stopWorker(BundleHost.java:394)
at org.eclipse.osgi.framework.internal.core.AbstractBundle.stop(AbstractBundle.java:408)
at org.eclipse.core.runtime.internal.adaptor.BundleStopper.basicStopBundles(BundleStopper.java:83)
at org.eclipse.core.runtime.internal.adaptor.BundleStopper.stopBundles(BundleStopper.java:73)
at org.eclipse.core.runtime.adaptor.EclipseAdaptor.frameworkStopping(EclipseAdaptor.java:766)
at org.eclipse.osgi.framework.internal.core.Framework.shutdown(Framework.java:528)
at org.eclipse.osgi.framework.internal.core.SystemBundle$1.run(SystemBundle.java:171)
at java.lang.Thread.run(Thread.java:552)



*** This bug has been marked as a duplicate of 131032 ***
Closed as duplicate.</WithStack>
    <WithOutStack>The following error is generated when the plugin is stopped:

... 8 more
Root exception:
Please check with the latest code in CVS. If the bug is still there, please let
me know how to replicate the bug.
Reassigned to Clement. I believe this is still a problem. Launch PTP and take a look in the Error Log view.
(In reply to comment #2)
&gt; Reassigned to Clement. I believe this is still a problem. Launch PTP and take a
&gt; look in the Error Log view.
&gt; 

I haven't got this error on my machine.  How can you stop the plugin?  Close the runtime-eclipse?  Please tell me how you produce this error.  Thanks.
Yes, start eclipse with PTP. Make sure the PTP plugins are loaded (switch to PTP Runtime &amp; Debug perspectives). Exit from eclipse. Start eclipse again and check the error log.
I think this problem has been fixed.
I'm seeing a similar error from org.eclipse.debug.ui_3.1.1. This is from the PTP 1.0RC3 plugins that have been loaded directly into Eclipse, not from a runtime instance of Eclipse.



... 8 more
Root exception:




*** This bug has been marked as a duplicate of 131032 ***
Closed as duplicate.</WithOutStack>
  </Bug>
  <Bug>
    <BugId amount="111928" />
    <CreationDate amount="2005-10-07 11:36:00 -0400" />
    <DupId amount="" />
    <classification amount="Eclipse" />
    <Product amount="PDE" />
    <component amount="UI" />
    <Version amount="3.1" />
    <rep_platform amount="PC" />
    <op_sys amount="Windows XP" />
    <priority amount="P3" />
    <bug_severity amount="normal" />
    <Summery>Launcher does not pickup new default JRE</Summery>
    <Patches amount="0" />
    <Stacktraces amount="0" />
    <SourceCodeRegions amount="0" />
    <Enumerations amount="0" />
    <bug_status amount="RESOLVED" />
    <resolution amount="FIXED" />
    <WithStack>After adding a J9 JRE to my available list, and selecting it as the default, the
launcher for my workbench still displayed the previous default in the launch
dialog. I didn't actually launch so I don't know which VM would have been used.
Fixed.</WithStack>
    <WithOutStack>After adding a J9 JRE to my available list, and selecting it as the default, the
launcher for my workbench still displayed the previous default in the launch
dialog. I didn't actually launch so I don't know which VM would have been used.
Fixed.</WithOutStack>
  </Bug>
  <Bug>
    <BugId amount="111929" />
    <CreationDate amount="2005-10-07 11:36:00 -0400" />
    <DupId amount="" />
    <classification amount="Modeling" />
    <Product amount="GMF-Runtime" />
    <component amount="General" />
    <Version amount="1.0" />
    <rep_platform amount="PC" />
    <op_sys amount="Windows XP" />
    <priority amount="P3" />
    <bug_severity amount="enhancement" />
    <Summery>[Layout] Arrange edges without arrange the nodes</Summery>
    <Patches amount="0" />
    <Stacktraces amount="0" />
    <SourceCodeRegions amount="0" />
    <Enumerations amount="1">
      <Enumeration lines="6">
        <Lines>
          <Line>1- Start visualizes a huge diagram that has too many shapes and edges between</Line>
          <Line>them.</Line>
          <Line>2- Arrange manually the classes based on his preference.</Line>
          <Line>3- The edges still looks ugly and confusing. So, the user would like to</Line>
          <Line>reorganize the edges to look better without changing the shapes positions that</Line>
          <Line>he chose.</Line>
        </Lines>
      </Enumeration>
    </Enumerations>
    <bug_status amount="RESOLVED" />
    <resolution amount="WONTFIX" />
    <WithStack>The Arrange All command is arrange the shapes and the edges between the 
shapes all together.
In most of the cases the user has a preference of arranging the shapes based 
on his context that we dont know or based on his preference.
So, if the user:
1- Start visualizes a huge diagram that has too many shapes and edges between 
them. 
2- Arrange manually the classes based on his preference.
3- The edges still looks ugly and confusing. So, the user would like to 
reorganize the edges to look better without changing the shapes positions that 
he chose.

The only solution for problem in the current version is: The user will go and 
change every edges manually (this will take a long time for huge diagrams).
Not yet assigned to a release (assigned to a milestone with the Plan keyword).

Moving to the next release, GMF 2.1. 


We have no plans to work on this enhancement. One of our committers (Alex) spent the better part of five months fixing Arrange for shapes, we simply do not have the time to open up an arrange connections request.
[GMF Restructure] Bug 319140 : product GMF and component
Runtime was the original product and component for this bug</WithStack>
    <WithOutStack>The Arrange All command is arrange the shapes and the edges between the 
shapes all together.
In most of the cases the user has a preference of arranging the shapes based 
on his context that we dont know or based on his preference.
So, if the user:
1- Start visualizes a huge diagram that has too many shapes and edges between 
them. 
2- Arrange manually the classes based on his preference.
3- The edges still looks ugly and confusing. So, the user would like to 
reorganize the edges to look better without changing the shapes positions that 
he chose.

The only solution for problem in the current version is: The user will go and 
change every edges manually (this will take a long time for huge diagrams).
Not yet assigned to a release (assigned to a milestone with the Plan keyword).

Moving to the next release, GMF 2.1. 


We have no plans to work on this enhancement. One of our committers (Alex) spent the better part of five months fixing Arrange for shapes, we simply do not have the time to open up an arrange connections request.
[GMF Restructure] Bug 319140 : product GMF and component
Runtime was the original product and component for this bug</WithOutStack>
  </Bug>
  <Bug>
    <BugId amount="111930" />
    <CreationDate amount="2005-10-07 11:41:00 -0400" />
    <DupId amount="" />
    <classification amount="Tools" />
    <Product amount="PTP" />
    <component amount="Debug UI" />
    <Version amount="unspecified" />
    <rep_platform amount="Macintosh" />
    <op_sys amount="Mac OS X - Carbon (unsup.)" />
    <priority amount="P3" />
    <bug_severity amount="normal" />
    <Summery>Stepping a terminated process causes problems</Summery>
    <Patches amount="0" />
    <Stacktraces amount="0" />
    <SourceCodeRegions amount="0" />
    <Enumerations amount="0" />
    <bug_status amount="VERIFIED" />
    <resolution amount="FIXED" />
    <WithStack>If an individual process has terminated, it is still possible to step the process using the parallel debug step 
button. If this happens, the process appears to be running again. Terminating the whole job does not 
terminate this running process, so the job state never changes.
*** Bug 111918 has been marked as a duplicate of this bug. ***
Fixed.</WithStack>
    <WithOutStack>If an individual process has terminated, it is still possible to step the process using the parallel debug step 
button. If this happens, the process appears to be running again. Terminating the whole job does not 
terminate this running process, so the job state never changes.
*** Bug 111918 has been marked as a duplicate of this bug. ***
Fixed.</WithOutStack>
  </Bug>
  <Bug>
    <BugId amount="111931" />
    <CreationDate amount="2005-10-07 11:43:00 -0400" />
    <DupId amount="" />
    <classification amount="Modeling" />
    <Product amount="GMF-Runtime" />
    <component amount="General" />
    <Version amount="1.0" />
    <rep_platform amount="PC" />
    <op_sys amount="Windows XP" />
    <priority amount="P3" />
    <bug_severity amount="enhancement" />
    <Summery>Remove common.ui.properties dependency from base diagram Editors</Summery>
    <Patches amount="0" />
    <Stacktraces amount="0" />
    <SourceCodeRegions amount="0" />
    <Enumerations amount="0" />
    <bug_status amount="RESOLVED" />
    <resolution amount="WONTFIX" />
    <WithStack>org.eclipse.gmf.runtime.diagram.ui depends on 
org.eclipse.gmf.runtime.common.ui.properties (DiagramEditor &amp; 
DiagramEditorWithFlyOutPalette). Shouldn't we have an editor without 
properties dependency in this plug-in and have a derived version that supports 
properties in org.eclipse.gmf.runtime.diagram.ui.properties?

- Same with Editor from org.eclipse.gmf.runtime.diagram.ui.resource.editor
This is now API in GMF 1.0, so no plan to fix.
[GMF Restructure] Bug 319140 : product GMF and component
Runtime Diagram was the original product and component for this bug</WithStack>
    <WithOutStack>org.eclipse.gmf.runtime.diagram.ui depends on 
org.eclipse.gmf.runtime.common.ui.properties (DiagramEditor &amp; 
DiagramEditorWithFlyOutPalette). Shouldn't we have an editor without 
properties dependency in this plug-in and have a derived version that supports 
properties in org.eclipse.gmf.runtime.diagram.ui.properties?

- Same with Editor from org.eclipse.gmf.runtime.diagram.ui.resource.editor
This is now API in GMF 1.0, so no plan to fix.
[GMF Restructure] Bug 319140 : product GMF and component
Runtime Diagram was the original product and component for this bug</WithOutStack>
  </Bug>
  <Bug>
    <BugId amount="111932" />
    <CreationDate amount="2005-10-07 11:44:00 -0400" />
    <DupId amount="" />
    <classification amount="Eclipse" />
    <Product amount="PDE" />
    <component amount="Build" />
    <Version amount="3.2" />
    <rep_platform amount="PC" />
    <op_sys amount="Windows XP" />
    <priority amount="P3" />
    <bug_severity amount="normal" />
    <Summery>[doc] Update help to describe how to use the customBuildCallbacks</Summery>
    <Patches amount="0" />
    <Stacktraces amount="0" />
    <SourceCodeRegions amount="0" />
    <Enumerations amount="0" />
    <bug_status amount="RESOLVED" />
    <resolution amount="FIXED" />
    <WithStack>We need some doc to describe how to use the mechanism that has been added as a
fix for bug #35371 - more flexibility building a plugin/fragment.
Changing milestone for doc bugs.
This is done.  See help: Plug-in Development Environment Guide &gt; Tasks &gt; Advanced PDE Build Topics &gt; Feature and Plug-in Custom Build Steps.</WithStack>
    <WithOutStack>We need some doc to describe how to use the mechanism that has been added as a
fix for bug #35371 - more flexibility building a plugin/fragment.
Changing milestone for doc bugs.
This is done.  See help: Plug-in Development Environment Guide &gt; Tasks &gt; Advanced PDE Build Topics &gt; Feature and Plug-in Custom Build Steps.</WithOutStack>
  </Bug>
  <Bug>
    <BugId amount="111933" />
    <CreationDate amount="2005-10-07 11:44:00 -0400" />
    <DupId amount="" />
    <classification amount="Modeling" />
    <Product amount="GMF-Runtime" />
    <component amount="General" />
    <Version amount="1.0" />
    <rep_platform amount="PC" />
    <op_sys amount="Windows XP" />
    <priority amount="P3" />
    <bug_severity amount="enhancement" />
    <Summery>Layout commands - Distribute horizontal/vert + change vertial/horitzontal spacing</Summery>
    <Patches amount="0" />
    <Stacktraces amount="0" />
    <SourceCodeRegions amount="0" />
    <Enumerations amount="0" />
    <bug_status amount="RESOLVED" />
    <resolution amount="WONTFIX" />
    <WithStack>Distribute horizontal/vert, change vertial/horitzontal spacing.
Not yet assigned to a release (assigned to a milestone with the Plan keyword).

Moving to the next release, GMF 2.1. 


No plans to do this work.
[GMF Restructure] Bug 319140 : product GMF and component
Runtime was the original product and component for this bug</WithStack>
    <WithOutStack>Distribute horizontal/vert, change vertial/horitzontal spacing.
Not yet assigned to a release (assigned to a milestone with the Plan keyword).

Moving to the next release, GMF 2.1. 


No plans to do this work.
[GMF Restructure] Bug 319140 : product GMF and component
Runtime was the original product and component for this bug</WithOutStack>
  </Bug>
  <Bug>
    <BugId amount="111934" />
    <CreationDate amount="2005-10-07 11:48:00 -0400" />
    <DupId amount="" />
    <classification amount="Modeling" />
    <Product amount="GMF-Runtime" />
    <component amount="General" />
    <Version amount="1.0" />
    <rep_platform amount="PC" />
    <op_sys amount="Windows XP" />
    <priority amount="P3" />
    <bug_severity amount="enhancement" />
    <Summery>[Printing] Ability to drag page breaks view to affect offset / page size</Summery>
    <Patches amount="0" />
    <Stacktraces amount="0" />
    <SourceCodeRegions amount="0" />
    <Enumerations amount="0" />
    <bug_status amount="NEW" />
    <resolution amount="" />
    <WithStack>Dragging and changing size would affect page setup dialog values...
Not yet assigned to a release (assigned to a milestone with the Plan keyword).

Moving to the next release, GMF 2.1. 


[GMF Restructure] Bug 319140 : product GMF and component
Runtime was the original product and component for this bug</WithStack>
    <WithOutStack>Dragging and changing size would affect page setup dialog values...
Not yet assigned to a release (assigned to a milestone with the Plan keyword).

Moving to the next release, GMF 2.1. 


[GMF Restructure] Bug 319140 : product GMF and component
Runtime was the original product and component for this bug</WithOutStack>
  </Bug>
  <Bug>
    <BugId amount="111935" />
    <CreationDate amount="2005-10-07 11:55:00 -0400" />
    <DupId amount="" />
    <classification amount="Modeling" />
    <Product amount="GMF-Runtime" />
    <component amount="General" />
    <Version amount="1.0" />
    <rep_platform amount="PC" />
    <op_sys amount="Windows XP" />
    <priority amount="P1" />
    <bug_severity amount="enhancement" />
    <Summery>API: Gate infrastructure consistency issues</Summery>
    <Patches amount="0" />
    <Stacktraces amount="0" />
    <SourceCodeRegions amount="0" />
    <Enumerations amount="1">
      <Enumeration lines="10">
        <Lines>
          <Line>1. In the header you mention this should inherit from GatedShapeEditPart</Line>
          <Line>eventually.  Is this still true?  The class method signatures seem to support</Line>
          <Line>this.  What would be the ramfications of making this change.</Line>
          <Line />
          <Line>2. The method "createMainFigure" is never called from anywhere.  Yet the</Line>
          <Line>getMainFigure is called  using the "getElementPane"  method to return if the</Line>
          <Line>top level figure is a GatedPaneFigure.  Are these 2 method necessary at all?</Line>
          <Line>#1.  GateEditPart and GatedShapeEditPart could be collapsed into one.    In</Line>
          <Line>the beginning we wanted to keep two separate editparts but gates themselves</Line>
          <Line>could contain gates.</Line>
        </Lines>
      </Enumeration>
    </Enumerations>
    <bug_status amount="RESOLVED" />
    <resolution amount="FIXED" />
    <WithStack>GateEditPart
1. In the header you mention this should inherit from GatedShapeEditPart 
eventually.  Is this still true?  The class method signatures seem to support 
this.  What would be the ramfications of making this change.

2. The method "createMainFigure" is never called from anywhere.  Yet the 
getMainFigure is called  using the "getElementPane"  method to return if the 
top level figure is a GatedPaneFigure.  Are these 2 method necessary at all?
#1.  GateEditPart and GatedShapeEditPart could be collapsed into one.    In 
the beginning we wanted to keep two separate editparts but gates themselves 
could contain gates.

#2. Yes we can remove some of these functions... I'm not sure who added 
them.   I believe it was for ease of use.  We probably evolved out of them.

Also,

#3. FixedDistanceGatedPane* should be removed.  

#4. One downside to the current implementation of gates is that their bounds 
are not taken into account  in viewports.  We should move to a design where we 
have some larger figure as a parent and gates within.  We would therefore not 
need to override the paint and clipping region.  

#5. remove GatedFigure.addGate() .. use the GEF default .add() etc.
Also classes should be renamed to something more generic: Border, Bordered etc.
Gate naming issue is captured by bugzilla 113157
Consider making BorderItemContainerFigure private.
Created attachment 32478
API Changes

Document describing the API changes.
See attached doc for API changes.
[target cleanup] 1.0 M4 was the original target milestone for this bug
[GMF Restructure] Bug 319140 : product GMF and component Runtime Diagram was the original product and component for this bug</WithStack>
    <WithOutStack>GateEditPart
1. In the header you mention this should inherit from GatedShapeEditPart 
eventually.  Is this still true?  The class method signatures seem to support 
this.  What would be the ramfications of making this change.

2. The method "createMainFigure" is never called from anywhere.  Yet the 
getMainFigure is called  using the "getElementPane"  method to return if the 
top level figure is a GatedPaneFigure.  Are these 2 method necessary at all?
#1.  GateEditPart and GatedShapeEditPart could be collapsed into one.    In 
the beginning we wanted to keep two separate editparts but gates themselves 
could contain gates.

#2. Yes we can remove some of these functions... I'm not sure who added 
them.   I believe it was for ease of use.  We probably evolved out of them.

Also,

#3. FixedDistanceGatedPane* should be removed.  

#4. One downside to the current implementation of gates is that their bounds 
are not taken into account  in viewports.  We should move to a design where we 
have some larger figure as a parent and gates within.  We would therefore not 
need to override the paint and clipping region.  

#5. remove GatedFigure.addGate() .. use the GEF default .add() etc.
Also classes should be renamed to something more generic: Border, Bordered etc.
Gate naming issue is captured by bugzilla 113157
Consider making BorderItemContainerFigure private.
Created attachment 32478
API Changes

Document describing the API changes.
See attached doc for API changes.
[target cleanup] 1.0 M4 was the original target milestone for this bug
[GMF Restructure] Bug 319140 : product GMF and component Runtime Diagram was the original product and component for this bug</WithOutStack>
  </Bug>
  <Bug>
    <BugId amount="111936" />
    <CreationDate amount="2005-10-07 11:55:00 -0400" />
    <DupId amount="" />
    <classification amount="Eclipse" />
    <Product amount="Platform" />
    <component amount="CVS" />
    <Version amount="3.1" />
    <rep_platform amount="All" />
    <op_sys amount="All" />
    <priority amount="P5" />
    <bug_severity amount="enhancement" />
    <Summery>[Change Sets] Support drag'n'drop with items into outgoing change sets</Summery>
    <Patches amount="0" />
    <Stacktraces amount="0" />
    <SourceCodeRegions amount="0" />
    <Enumerations amount="0" />
    <bug_status amount="ASSIGNED" />
    <resolution amount="" />
    <WithStack>It would be nice if I could drag an outgoing changing with no change set into 
an existing change set ... rather than needing to right-click, Add To &gt;
Yes this would be useful but it is not trivial and the logical model integration
support make shack this area up a bit anyway so we need to hold off until that
work is completed.
*** Bug 205405 has been marked as a duplicate of this bug. ***
See bug 107163 for more information.
	


*** Bug 265535 has been marked as a duplicate of this bug. ***
*** Bug 300156 has been marked as a duplicate of this bug. ***
I'm afraid we won't be able to fix it in 3.6. Removing the target milestone to match the reality.
any plans on this for the next future?

PS: shouldn't this bug's component be "Team" ?
(In reply to comment #7)
&gt; any plans on this for the next future?

I'm sorry, this would be definitely a nice feature to have, but we don't have the manpower to address it at this time. Patches will be accepted.

&gt; PS: shouldn't this bug's component be "Team" ?

You may be right. However, depending on the eventual fix, the feature could be available only for CVS Change Set. In that case, the current component is fine.</WithStack>
    <WithOutStack>It would be nice if I could drag an outgoing changing with no change set into 
an existing change set ... rather than needing to right-click, Add To &gt;
Yes this would be useful but it is not trivial and the logical model integration
support make shack this area up a bit anyway so we need to hold off until that
work is completed.
*** Bug 205405 has been marked as a duplicate of this bug. ***
See bug 107163 for more information.
	


*** Bug 265535 has been marked as a duplicate of this bug. ***
*** Bug 300156 has been marked as a duplicate of this bug. ***
I'm afraid we won't be able to fix it in 3.6. Removing the target milestone to match the reality.
any plans on this for the next future?

PS: shouldn't this bug's component be "Team" ?
(In reply to comment #7)
&gt; any plans on this for the next future?

I'm sorry, this would be definitely a nice feature to have, but we don't have the manpower to address it at this time. Patches will be accepted.

&gt; PS: shouldn't this bug's component be "Team" ?

You may be right. However, depending on the eventual fix, the feature could be available only for CVS Change Set. In that case, the current component is fine.</WithOutStack>
  </Bug>
  <Bug>
    <BugId amount="111937" />
    <CreationDate amount="2005-10-07 11:57:00 -0400" />
    <DupId amount="168520" />
    <classification amount="Eclipse" />
    <Product amount="JDT" />
    <component amount="UI" />
    <Version amount="3.1" />
    <rep_platform amount="All" />
    <op_sys amount="All" />
    <priority amount="P3" />
    <bug_severity amount="enhancement" />
    <Summery>[render] indicate class access/visibility on CU/classfile</Summery>
    <Patches amount="0" />
    <Stacktraces amount="0" />
    <SourceCodeRegions amount="0" />
    <Enumerations amount="0" />
    <bug_status amount="RESOLVED" />
    <resolution amount="DUPLICATE" />
    <WithStack>in the Outline view of a java compilation unit, the access/visibility 
modifiers are indicated by colored shapes (green circle = public, red square = 
private, yellow circle = protected, blue triangle = default)

it would be excellent if the package explorer reused a limited form of this 
convention by placing a green circle on public classes, and blue triangles on 
default (=package) classes

the exact way public classes are differentiated visually from non-public 
classes is not so important to me, but being able see this information at a 
glance would be very useful :)
The same problem as in bug 111885. Again, the only way I think this could be
done is with decoration in the background. I'm categorize this to 'decorators'.
This information is fully available in the browsing perspective which renders
types instead of CUs as children of packages.


*** This bug has been marked as a duplicate of bug 168520 ***</WithStack>
    <WithOutStack>in the Outline view of a java compilation unit, the access/visibility 
modifiers are indicated by colored shapes (green circle = public, red square = 
private, yellow circle = protected, blue triangle = default)

it would be excellent if the package explorer reused a limited form of this 
convention by placing a green circle on public classes, and blue triangles on 
default (=package) classes

the exact way public classes are differentiated visually from non-public 
classes is not so important to me, but being able see this information at a 
glance would be very useful :)
The same problem as in bug 111885. Again, the only way I think this could be
done is with decoration in the background. I'm categorize this to 'decorators'.
This information is fully available in the browsing perspective which renders
types instead of CUs as children of packages.


*** This bug has been marked as a duplicate of bug 168520 ***</WithOutStack>
  </Bug>
  <Bug>
    <BugId amount="111938" />
    <CreationDate amount="2005-10-07 12:04:00 -0400" />
    <DupId amount="" />
    <classification amount="Tools" />
    <Product amount="TPTP Testing" />
    <component amount="Test.UI.AutoGUIUI" />
    <Version amount="4.1" />
    <rep_platform amount="PC" />
    <op_sys amount="Windows 2000" />
    <priority amount="P3" />
    <bug_severity amount="normal" />
    <Summery>Agent selected not detected by GUI recorder</Summery>
    <Patches amount="0" />
    <Stacktraces amount="0" />
    <SourceCodeRegions amount="0" />
    <Enumerations amount="0" />
    <bug_status amount="CLOSED" />
    <resolution amount="WORKSFORME" />
    <WithStack>When an profiling agent selected, and then press the Terminate button. This 
action is not recorded by the recorder.
Targeting to 4.2 as per Harm's request
I tried this several times and it works fine for me.
If this is still reproducible with the new driver, then re-open and include the exact sequence of steps for reproducing the defect.

Keep in mind that you should have a sufficient amount of wait between the time the agent is launched and terminated.
Adding sufficient waiting time manually did solve this problem. This defect will be closed for now.</WithStack>
    <WithOutStack>When an profiling agent selected, and then press the Terminate button. This 
action is not recorded by the recorder.
Targeting to 4.2 as per Harm's request
I tried this several times and it works fine for me.
If this is still reproducible with the new driver, then re-open and include the exact sequence of steps for reproducing the defect.

Keep in mind that you should have a sufficient amount of wait between the time the agent is launched and terminated.
Adding sufficient waiting time manually did solve this problem. This defect will be closed for now.</WithOutStack>
  </Bug>
  <Bug>
    <BugId amount="111939" />
    <CreationDate amount="2005-10-07 12:08:00 -0400" />
    <DupId amount="" />
    <classification amount="Eclipse" />
    <Product amount="Platform" />
    <component amount="SWT" />
    <Version amount="3.1" />
    <rep_platform amount="All" />
    <op_sys amount="All" />
    <priority amount="P3" />
    <bug_severity amount="normal" />
    <Summery>[Tree] Space reserved for expander, even if none exists</Summery>
    <Patches amount="0" />
    <Stacktraces amount="0" />
    <SourceCodeRegions amount="0" />
    <Enumerations amount="0" />
    <bug_status amount="RESOLVED" />
    <resolution amount="WONTFIX" />
    <WithStack>There is always space reserved for the expander, even if no expanders exist.  
It would be nice if the space was not reserved unless there was actually an 
expander at that level.
Not supported by the platforms.

For one reason why this doesn't make sense, consider what happens if an item
with children was added to an already expanded and visible item in the UI,
everything would have to jump to the right.  Another case is if you have two
items, one with sub-children, one without.  You want to have the images and text
horizontally aligned.</WithStack>
    <WithOutStack>There is always space reserved for the expander, even if no expanders exist.  
It would be nice if the space was not reserved unless there was actually an 
expander at that level.
Not supported by the platforms.

For one reason why this doesn't make sense, consider what happens if an item
with children was added to an already expanded and visible item in the UI,
everything would have to jump to the right.  Another case is if you have two
items, one with sub-children, one without.  You want to have the images and text
horizontally aligned.</WithOutStack>
  </Bug>
  <Bug>
    <BugId amount="111940" />
    <CreationDate amount="2005-10-07 12:09:00 -0400" />
    <DupId amount="" />
    <classification amount="Eclipse" />
    <Product amount="JDT" />
    <component amount="UI" />
    <Version amount="3.2" />
    <rep_platform amount="PC" />
    <op_sys amount="Windows XP" />
    <priority amount="P3" />
    <bug_severity amount="normal" />
    <Summery>[introduce parameter] Idialog does not allow user to leave with Enter key</Summery>
    <Patches amount="0" />
    <Stacktraces amount="0" />
    <SourceCodeRegions amount="0" />
    <Enumerations amount="0" />
    <bug_status amount="NEW" />
    <resolution amount="" />
    <WithStack>In M2.

Invoke the Introduce Parameter dialog.  Everything looks OK, so hit Enter (this
works on most other refactoring dialogs.  The focus gets stuck on the new
parameter's name, rather than allowing Enter to select OK.  Two tabs and an
Enter resolve the problem.</WithStack>
    <WithOutStack>In M2.

Invoke the Introduce Parameter dialog.  Everything looks OK, so hit Enter (this
works on most other refactoring dialogs.  The focus gets stuck on the new
parameter's name, rather than allowing Enter to select OK.  Two tabs and an
Enter resolve the problem.</WithOutStack>
  </Bug>
  <Bug>
    <BugId amount="111941" />
    <CreationDate amount="2005-10-07 12:17:00 -0400" />
    <DupId amount="" />
    <classification amount="BIRT" />
    <Product amount="BIRT" />
    <component amount="Report Designer" />
    <Version amount="1.0.1" />
    <rep_platform amount="PC" />
    <op_sys amount="Windows 2000" />
    <priority amount="P3" />
    <bug_severity amount="normal" />
    <Summery>NullPointerException when trying to create a new report</Summery>
    <Patches amount="0" />
    <Stacktraces amount="2">
      <Stacktrace timestamp="1437330586267">
        <Exception>org.eclipse.birt.report.designer.core.runtime.GUIException</Exception>
        <Reason>Caused by 
java.lang.NullPointerException</Reason>
        <Frames>
          <Frame depth="0">org.eclipse.birt.report.designer.core.runtime.GUIException.createGUIException(GUIException.java:76)</Frame>
          <Frame depth="1">org.eclipse.birt.report.designer.internal.ui.util.ExceptionHandler.handle(ExceptionHandler.java:123)</Frame>
          <Frame depth="2">org.eclipse.birt.report.designer.internal.ui.util.ExceptionHandler.handle(ExceptionHandler.java:105)</Frame>
          <Frame depth="3">org.eclipse.birt.report.designer.internal.ui.wizards.NewReportWizard.performFinish(NewReportWizard.java:231)</Frame>
          <Frame depth="4">org.eclipse.jface.wizard.WizardDialog.finishPressed(WizardDialog.java:676)</Frame>
          <Frame depth="5">org.eclipse.jface.wizard.WizardDialog.buttonPressed(WizardDialog.java:349)</Frame>
          <Frame depth="6">org.eclipse.jface.dialogs.Dialog$2.widgetSelected(Dialog.java:556)</Frame>
          <Frame depth="7">org.eclipse.swt.widgets.TypedListener.handleEvent(TypedListener.java:90)</Frame>
          <Frame depth="8">org.eclipse.swt.widgets.EventTable.sendEvent(EventTable.java:66)</Frame>
          <Frame depth="9">org.eclipse.swt.widgets.Widget.sendEvent(Widget.java:843)</Frame>
          <Frame depth="10">org.eclipse.swt.widgets.Display.runDeferredEvents(Display.java:3080)</Frame>
          <Frame depth="11">org.eclipse.swt.widgets.Display.readAndDispatch(Display.java:2713)</Frame>
          <Frame depth="12">org.eclipse.jface.window.Window.runEventLoop(Window.java:809)</Frame>
          <Frame depth="13">org.eclipse.jface.window.Window.open(Window.java:787)</Frame>
          <Frame depth="14">org.eclipse.ui.internal.actions.NewWizardShortcutAction.run(NewWizardShortcutAction.java:110)</Frame>
          <Frame depth="15">org.eclipse.jface.action.Action.runWithEvent(Action.java:996)</Frame>
          <Frame depth="16">org.eclipse.jface.action.ActionContributionItem.handleWidgetSelection(ActionContributionItem.java:538)</Frame>
          <Frame depth="17">org.eclipse.jface.action.ActionContributionItem.access$2(ActionContributionItem.java:488)</Frame>
          <Frame depth="18">org.eclipse.jface.action.ActionContributionItem$5.handleEvent(ActionContributionItem.java:400)</Frame>
          <Frame depth="19">org.eclipse.swt.widgets.EventTable.sendEvent(EventTable.java:66)</Frame>
          <Frame depth="20">org.eclipse.swt.widgets.Widget.sendEvent(Widget.java:843)</Frame>
          <Frame depth="21">org.eclipse.swt.widgets.Display.runDeferredEvents(Display.java:3080)</Frame>
          <Frame depth="22">org.eclipse.swt.widgets.Display.readAndDispatch(Display.java:2713)</Frame>
          <Frame depth="23">org.eclipse.ui.internal.Workbench.runEventLoop(Workbench.java:1699)</Frame>
          <Frame depth="24">org.eclipse.ui.internal.Workbench.runUI(Workbench.java:1663)</Frame>
          <Frame depth="25">org.eclipse.ui.internal.Workbench.createAndRunWorkbench(Workbench.java:367)</Frame>
          <Frame depth="26">org.eclipse.ui.PlatformUI.createAndRunWorkbench(PlatformUI.java:143)</Frame>
          <Frame depth="27">org.eclipse.ui.internal.ide.IDEApplication.run(IDEApplication.java:103)</Frame>
          <Frame depth="28">org.eclipse.core.internal.runtime.PlatformActivator$1.run(PlatformActivator.java:226)</Frame>
          <Frame depth="29">org.eclipse.core.runtime.adaptor.EclipseStarter.run(EclipseStarter.java:376)</Frame>
          <Frame depth="30">org.eclipse.core.runtime.adaptor.EclipseStarter.run(EclipseStarter.java:163)</Frame>
          <Frame depth="31">sun.reflect.NativeMethodAccessorImpl.invoke0(Native Method)</Frame>
          <Frame depth="32">sun.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:39)</Frame>
          <Frame depth="33">sun.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:25)</Frame>
          <Frame depth="34">java.lang.reflect.Method.invoke(Method.java:585)</Frame>
          <Frame depth="35">org.eclipse.core.launcher.Main.invokeFramework(Main.java:334)</Frame>
          <Frame depth="36">org.eclipse.core.launcher.Main.basicRun(Main.java:278)</Frame>
          <Frame depth="37">org.eclipse.core.launcher.Main.run(Main.java:973)</Frame>
          <Frame depth="38">org.eclipse.core.launcher.Main.main(Main.java:948)</Frame>
        </Frames>
      </Stacktrace>
      <Cause timestamp="1437330586267">
        <Exception>java.lang.NullPointerException</Exception>
        <Reason />
        <Frames>
          <Frame depth="0">org.eclipse.birt.report.designer.internal.ui.wizards.NewReportWizard.doFinish(NewReportWizard.java:511)</Frame>
          <Frame depth="1">org.eclipse.birt.report.designer.internal.ui.wizards.NewReportWizard.access$000(NewReportWizard.java:65)</Frame>
          <Frame depth="2">org.eclipse.birt.report.designer.internal.ui.wizards.NewReportWizard$1.run(NewReportWizard.java:203)</Frame>
          <Frame depth="3">org.eclipse.jface.operation.ModalContext$ModalContextThread.run(ModalContext.java:113)</Frame>
        </Frames>
      </Cause>
    </Stacktraces>
    <SourceCodeRegions amount="0" />
    <Enumerations amount="0" />
    <bug_status amount="RESOLVED" />
    <resolution amount="INVALID" />
    <WithStack>When I start using BIRT by creating a new report, I get the message

Es ist ein unerwarteter interner Ausnahmefehler aufgetreten. Nhere 
Informationen knnen Sie dem Protokoll entnehmen.
  Plug-in Provider:Eclipse.org
  Plug-in Name:BIRT Designer UI
  Plug-in ID:org.eclipse.birt.report.designer.ui
  Version:1.0.1
  Fehlercode:Error.GUIException.invokedByUnexpectedException
  Fehlermeldung:Caused by java.lang.NullPointerException



In the Eclipse log it says:


!ENTRY org.eclipse.birt.report.designer.ui 4 1001 2005-10-07 18:15:47.75
!MESSAGE Es ist ein unerwarteter interner Ausnahmefehler aufgetreten. Nhere 
Informationen knnen Sie dem Protokoll entnehmen.
!STACK 0
org.eclipse.birt.report.designer.core.runtime.GUIException: Caused by 
java.lang.NullPointerException
	at 
org.eclipse.birt.report.designer.core.runtime.GUIException.createGUIException
(GUIException.java:76)
	at 
org.eclipse.birt.report.designer.internal.ui.util.ExceptionHandler.handle
(ExceptionHandler.java:123)
	at 
org.eclipse.birt.report.designer.internal.ui.util.ExceptionHandler.handle
(ExceptionHandler.java:105)
	at 
org.eclipse.birt.report.designer.internal.ui.wizards.NewReportWizard.performFini
sh(NewReportWizard.java:231)
	at org.eclipse.jface.wizard.WizardDialog.finishPressed
(WizardDialog.java:676)
	at org.eclipse.jface.wizard.WizardDialog.buttonPressed
(WizardDialog.java:349)
	at org.eclipse.jface.dialogs.Dialog$2.widgetSelected(Dialog.java:556)
	at org.eclipse.swt.widgets.TypedListener.handleEvent
(TypedListener.java:90)
	at org.eclipse.swt.widgets.EventTable.sendEvent(EventTable.java:66)
	at org.eclipse.swt.widgets.Widget.sendEvent(Widget.java:843)
	at org.eclipse.swt.widgets.Display.runDeferredEvents(Display.java:3080)
	at org.eclipse.swt.widgets.Display.readAndDispatch(Display.java:2713)
	at org.eclipse.jface.window.Window.runEventLoop(Window.java:809)
	at org.eclipse.jface.window.Window.open(Window.java:787)
	at org.eclipse.ui.internal.actions.NewWizardShortcutAction.run
(NewWizardShortcutAction.java:110)
	at org.eclipse.jface.action.Action.runWithEvent(Action.java:996)
	at org.eclipse.jface.action.ActionContributionItem.handleWidgetSelection
(ActionContributionItem.java:538)
	at org.eclipse.jface.action.ActionContributionItem.access$2
(ActionContributionItem.java:488)
	at org.eclipse.jface.action.ActionContributionItem$5.handleEvent
(ActionContributionItem.java:400)
	at org.eclipse.swt.widgets.EventTable.sendEvent(EventTable.java:66)
	at org.eclipse.swt.widgets.Widget.sendEvent(Widget.java:843)
	at org.eclipse.swt.widgets.Display.runDeferredEvents(Display.java:3080)
	at org.eclipse.swt.widgets.Display.readAndDispatch(Display.java:2713)
	at org.eclipse.ui.internal.Workbench.runEventLoop(Workbench.java:1699)
	at org.eclipse.ui.internal.Workbench.runUI(Workbench.java:1663)
	at org.eclipse.ui.internal.Workbench.createAndRunWorkbench
(Workbench.java:367)
	at org.eclipse.ui.PlatformUI.createAndRunWorkbench(PlatformUI.java:143)
	at org.eclipse.ui.internal.ide.IDEApplication.run
(IDEApplication.java:103)
	at org.eclipse.core.internal.runtime.PlatformActivator$1.run
(PlatformActivator.java:226)
	at org.eclipse.core.runtime.adaptor.EclipseStarter.run
(EclipseStarter.java:376)
	at org.eclipse.core.runtime.adaptor.EclipseStarter.run
(EclipseStarter.java:163)
	at sun.reflect.NativeMethodAccessorImpl.invoke0(Native Method)
	at sun.reflect.NativeMethodAccessorImpl.invoke
(NativeMethodAccessorImpl.java:39)
	at sun.reflect.DelegatingMethodAccessorImpl.invoke
(DelegatingMethodAccessorImpl.java:25)
	at java.lang.reflect.Method.invoke(Method.java:585)
	at org.eclipse.core.launcher.Main.invokeFramework(Main.java:334)
	at org.eclipse.core.launcher.Main.basicRun(Main.java:278)
	at org.eclipse.core.launcher.Main.run(Main.java:973)
	at org.eclipse.core.launcher.Main.main(Main.java:948)
Caused by: java.lang.NullPointerException
	at 
org.eclipse.birt.report.designer.internal.ui.wizards.NewReportWizard.doFinish
(NewReportWizard.java:511)
	at 
org.eclipse.birt.report.designer.internal.ui.wizards.NewReportWizard.access$000
(NewReportWizard.java:65)
	at 
org.eclipse.birt.report.designer.internal.ui.wizards.NewReportWizard$1.run
(NewReportWizard.java:203)
	at org.eclipse.jface.operation.ModalContext$ModalContextThread.run
(ModalContext.java:113)
!SUBENTRY 1 org.eclipse.birt.report.designer.ui 1 1001 2005-10-07 18:15:47.75
Temp
Could you please provide the BIRT version that you used?
We test with 1.0.1 and current code base. No error finds when we try to create 
new report.
I have installed 1.0.1. I also get to managed it. This is a logic error as you 
first have to create a report project! I didn't know this and just wanted to 
create a report and voila - the exception.
How can you click finish if you don't have project created?
You should get an error message and the new report wizard can not be finished.
Do you get the 1.0.1 release version?
Could you provide more detail to help us reproduce this bug?

Just create a new report. That's what I did. I didn't knew how to create a 
report _project_ so I just create a new report and thze following wizard asked 
for a file name and then I clicked Next &gt; and I can select from the report 
templates then I clicked Finish and voila ...

This doesn't occur anymore if you once have created a report project/report. SO 
it seems to be an initialization problem.
The next and finish button are disabled if no project existing.
That's quite strange that you can click next and finsih.
Which build do you get?
Could you provide more information?
Thanks.
Eclipse 3.1.1 Build id: M20050929-0840
BIRT 1.0.1
Created attachment 28423
message dialog
Created attachment 28424
wizard dialog
It?s very strange that you can create a report before a project exists

Here when I create a report (no project exists), the following dilog shows.

https://bugs.eclipse.org/bugs/attachment.cgi?id=28423

After I click ok, we can see the ?New Report? dialog (As below), but the ?
Next? and ?Finish? buttons are both disabled. 

https://bugs.eclipse.org/bugs/attachment.cgi?id=28424

Would you please get the latest stable build from the page http://download.
eclipse.org/birt/downloads?


Verified in build 20051216.</WithStack>
    <WithOutStack>When I start using BIRT by creating a new report, I get the message

Es ist ein unerwarteter interner Ausnahmefehler aufgetreten. Nhere 
Informationen knnen Sie dem Protokoll entnehmen.
  Plug-in Provider:Eclipse.org
  Plug-in Name:BIRT Designer UI
  Plug-in ID:org.eclipse.birt.report.designer.ui
  Version:1.0.1
  Fehlercode:Error.GUIException.invokedByUnexpectedException
  Fehlermeldung:Caused by java.lang.NullPointerException



In the Eclipse log it says:


!ENTRY org.eclipse.birt.report.designer.ui 4 1001 2005-10-07 18:15:47.75
!MESSAGE Es ist ein unerwarteter interner Ausnahmefehler aufgetreten. Nhere 
Informationen knnen Sie dem Protokoll entnehmen.
!STACK 0


!SUBENTRY 1 org.eclipse.birt.report.designer.ui 1 1001 2005-10-07 18:15:47.75
Temp
Could you please provide the BIRT version that you used?
We test with 1.0.1 and current code base. No error finds when we try to create 
new report.
I have installed 1.0.1. I also get to managed it. This is a logic error as you 
first have to create a report project! I didn't know this and just wanted to 
create a report and voila - the exception.
How can you click finish if you don't have project created?
You should get an error message and the new report wizard can not be finished.
Do you get the 1.0.1 release version?
Could you provide more detail to help us reproduce this bug?

Just create a new report. That's what I did. I didn't knew how to create a 
report _project_ so I just create a new report and thze following wizard asked 
for a file name and then I clicked Next &gt; and I can select from the report 
templates then I clicked Finish and voila ...

This doesn't occur anymore if you once have created a report project/report. SO 
it seems to be an initialization problem.
The next and finish button are disabled if no project existing.
That's quite strange that you can click next and finsih.
Which build do you get?
Could you provide more information?
Thanks.
Eclipse 3.1.1 Build id: M20050929-0840
BIRT 1.0.1
Created attachment 28423
message dialog
Created attachment 28424
wizard dialog
It?s very strange that you can create a report before a project exists

Here when I create a report (no project exists), the following dilog shows.

https://bugs.eclipse.org/bugs/attachment.cgi?id=28423

After I click ok, we can see the ?New Report? dialog (As below), but the ?
Next? and ?Finish? buttons are both disabled. 

https://bugs.eclipse.org/bugs/attachment.cgi?id=28424

Would you please get the latest stable build from the page http://download.
eclipse.org/birt/downloads?


Verified in build 20051216.</WithOutStack>
  </Bug>
  <Bug>
    <BugId amount="111942" />
    <CreationDate amount="2005-10-07 12:36:00 -0400" />
    <DupId amount="" />
    <classification amount="WebTools" />
    <Product amount="WTP Webservices" />
    <component amount="wst.wsdl" />
    <Version amount="unspecified" />
    <rep_platform amount="PC" />
    <op_sys amount="Windows 2000" />
    <priority amount="P3" />
    <bug_severity amount="normal" />
    <Summery>SOAPBody.getParts() needs to respect 'parts' attribute when exists</Summery>
    <Patches amount="0" />
    <Stacktraces amount="0" />
    <SourceCodeRegions amount="0" />
    <Enumerations amount="0" />
    <bug_status amount="CLOSED" />
    <resolution amount="FIXED" />
    <WithStack>SOAPBody.getParts() needs to respect 'parts' attribute when exists.
Current implementation builds up an implicit parts list dynamically.
Created attachment 29169
the patch applies to the src-soap folder
Kihup, the patch has been applied and released.  Please resolve.
The patch has been applied.
This defect has been resolved.</WithStack>
    <WithOutStack>SOAPBody.getParts() needs to respect 'parts' attribute when exists.
Current implementation builds up an implicit parts list dynamically.
Created attachment 29169
the patch applies to the src-soap folder
Kihup, the patch has been applied and released.  Please resolve.
The patch has been applied.
This defect has been resolved.</WithOutStack>
  </Bug>
  <Bug>
    <BugId amount="111943" />
    <CreationDate amount="2005-10-07 12:43:00 -0400" />
    <DupId amount="" />
    <classification amount="Tools" />
    <Product amount="TPTP Agent Controller" />
    <component amount="Platform.Communication" />
    <Version amount="4.1" />
    <rep_platform amount="PC" />
    <op_sys amount="Windows XP" />
    <priority amount="P3" />
    <bug_severity amount="normal" />
    <Summery>Utilize logging framework effectively</Summery>
    <Patches amount="0" />
    <Stacktraces amount="0" />
    <SourceCodeRegions amount="0" />
    <Enumerations amount="0" />
    <bug_status amount="CLOSED" />
    <resolution amount="WONTFIX" />
    <WithStack>The new Agent Controller has a framework in place to handle logging.  We need 
to examine the code and make sure that the logging is being leveraged 
effectively.  That is, we need to be calling the logging service in enough 
places to be able to trace what the system is doing, and we need to make sure 
that where we are logging messages, we are using appropriate severity levels 
to allow for clean filtering.

In particular, the previous bugzilla report (79564) included the following 
request:

-Instrument new log messages for all types of situations:

-Start
-Stop
-Connect
-Configure
-Request
-Feature
-Dependency
-Create
-Destroy
-Report
-Available
-Other
Added effort estimate: 4 weeks
Transferring ownership of new agemt controller issues with no specific target date to Mikhail for consideration in future releases.
cleaning up assignees
As of TPTP 4.6.0, TPTP is in maintenance mode and focusing on improving quality by resolving relevant defects and increasing test coverage through test creation, automation, Build Verification Tests (BVTs), and expanded run-time execution. Since this defect is more than 2 years old, it may be no longer relevant. As part of the TPTP Bugzilla housecleaning process (see http://wiki.eclipse.org/Bugzilla_Housecleaning_Processes), this defect is resolved as WONTFIX. If this defect is still relevant and reproducible in the latest TPTP release (http://www.eclipse.org/tptp/home/downloads/), please re-open.
As of TPTP 4.6.0, TPTP is in maintenance mode and focusing on improving quality by resolving relevant enhancements/defects and increasing test coverage through test creation, automation, Build Verification Tests (BVTs), and expanded run-time execution. As part of the TPTP Bugzilla housecleaning process (see http://wiki.eclipse.org/Bugzilla_Housecleaning_Processes), this enhancement/defect is verified/closed by the Project Lead since this enhancement/defect has been resolved and unverified for more than 1 year and considered to be fixed. If this enhancement/defect is still unresolved and reproducible in the latest TPTP release (http://www.eclipse.org/tptp/home/downloads/), please re-open.</WithStack>
    <WithOutStack>The new Agent Controller has a framework in place to handle logging.  We need 
to examine the code and make sure that the logging is being leveraged 
effectively.  That is, we need to be calling the logging service in enough 
places to be able to trace what the system is doing, and we need to make sure 
that where we are logging messages, we are using appropriate severity levels 
to allow for clean filtering.

In particular, the previous bugzilla report (79564) included the following 
request:

-Instrument new log messages for all types of situations:

-Start
-Stop
-Connect
-Configure
-Request
-Feature
-Dependency
-Create
-Destroy
-Report
-Available
-Other
Added effort estimate: 4 weeks
Transferring ownership of new agemt controller issues with no specific target date to Mikhail for consideration in future releases.
cleaning up assignees
As of TPTP 4.6.0, TPTP is in maintenance mode and focusing on improving quality by resolving relevant defects and increasing test coverage through test creation, automation, Build Verification Tests (BVTs), and expanded run-time execution. Since this defect is more than 2 years old, it may be no longer relevant. As part of the TPTP Bugzilla housecleaning process (see http://wiki.eclipse.org/Bugzilla_Housecleaning_Processes), this defect is resolved as WONTFIX. If this defect is still relevant and reproducible in the latest TPTP release (http://www.eclipse.org/tptp/home/downloads/), please re-open.
As of TPTP 4.6.0, TPTP is in maintenance mode and focusing on improving quality by resolving relevant enhancements/defects and increasing test coverage through test creation, automation, Build Verification Tests (BVTs), and expanded run-time execution. As part of the TPTP Bugzilla housecleaning process (see http://wiki.eclipse.org/Bugzilla_Housecleaning_Processes), this enhancement/defect is verified/closed by the Project Lead since this enhancement/defect has been resolved and unverified for more than 1 year and considered to be fixed. If this enhancement/defect is still unresolved and reproducible in the latest TPTP release (http://www.eclipse.org/tptp/home/downloads/), please re-open.</WithOutStack>
  </Bug>
  <Bug>
    <BugId amount="111944" />
    <CreationDate amount="2005-10-07 12:43:00 -0400" />
    <DupId amount="" />
    <classification amount="Eclipse" />
    <Product amount="Platform" />
    <component amount="UI" />
    <Version amount="3.1" />
    <rep_platform amount="PC" />
    <op_sys amount="Linux" />
    <priority amount="P3" />
    <bug_severity amount="normal" />
    <Summery>F1 doesn't invoke help on Linux; works on Windows</Summery>
    <Patches amount="0" />
    <Stacktraces amount="0" />
    <SourceCodeRegions amount="0" />
    <Enumerations amount="0" />
    <bug_status amount="RESOLVED" />
    <resolution amount="INVALID" />
    <WithStack>I presss F1 in a variety of circumstances and nothing happens.  It does work on
Windows.  It doesn't work in Java editing or in my own UI where I have
registered help.
Have you tried ctrl-f1?  That should be the standard on GTK.
Closing based on mail:

"Ctrl-F1 does work.  I had no idea that F1 wasn't standard.  Feel free to close out the bug.  Thanks for the 
clarification."</WithStack>
    <WithOutStack>I presss F1 in a variety of circumstances and nothing happens.  It does work on
Windows.  It doesn't work in Java editing or in my own UI where I have
registered help.
Have you tried ctrl-f1?  That should be the standard on GTK.
Closing based on mail:

"Ctrl-F1 does work.  I had no idea that F1 wasn't standard.  Feel free to close out the bug.  Thanks for the 
clarification."</WithOutStack>
  </Bug>
  <Bug>
    <BugId amount="111945" />
    <CreationDate amount="2005-10-07 12:48:00 -0400" />
    <DupId amount="" />
    <classification amount="Mylyn" />
    <Product amount="Mylyn" />
    <component amount="Tasks" />
    <Version amount="unspecified" />
    <rep_platform amount="PC" />
    <op_sys amount="Windows XP" />
    <priority amount="P2" />
    <bug_severity amount="normal" />
    <Summery>Read-only activations of tasks</Summery>
    <Patches amount="0" />
    <Stacktraces amount="0" />
    <SourceCodeRegions amount="0" />
    <Enumerations amount="0" />
    <bug_status amount="RESOLVED" />
    <resolution amount="FIXED" />
    <WithStack>Mylar should support the browsing of a task context. A scenario is in the 
context of a code review looking at what code has been considered as part of a 
task. As the task context is browsed, the interest model would not change (the 
monitor would be deactivated).
This is trivial to do and will be useful.  We just need a decent UI.  I was
thinking that the context menu for the task list needs to have an
"Activate/Deactivate Task" items in order to follow Eclipse UI guidelines and
help teach people how to click the glasses.  So in addition it could get an
"Active Task in Read-Only Mode" button.  A more natural name for that might be
something like "Review Task".
Seems like a reasonable start. Review task would be a better name than the read-only mode.


This is now supported, but in a slightly different way than originally planned.  Setting
a "read-only" state for each task would have resulted in an overly complicated UI because
the user would need to be made aware of whether a task was in read-only mode or not. 
If this wasn't clear enough things could get very confusing.  This state would need to
be persisted on the task too, and tasks don't know about task conte xts.  Also in addition
to reviewing there is another use case--sometimes it's desireble to put a task into read
only mode in order to check something that's not worth creating a new task for.

So
the UI is that the task list has Pause/Resume Capturing Context buttons on it's local
pull down.</WithStack>
    <WithOutStack>Mylar should support the browsing of a task context. A scenario is in the 
context of a code review looking at what code has been considered as part of a 
task. As the task context is browsed, the interest model would not change (the 
monitor would be deactivated).
This is trivial to do and will be useful.  We just need a decent UI.  I was
thinking that the context menu for the task list needs to have an
"Activate/Deactivate Task" items in order to follow Eclipse UI guidelines and
help teach people how to click the glasses.  So in addition it could get an
"Active Task in Read-Only Mode" button.  A more natural name for that might be
something like "Review Task".
Seems like a reasonable start. Review task would be a better name than the read-only mode.


This is now supported, but in a slightly different way than originally planned.  Setting
a "read-only" state for each task would have resulted in an overly complicated UI because
the user would need to be made aware of whether a task was in read-only mode or not. 
If this wasn't clear enough things could get very confusing.  This state would need to
be persisted on the task too, and tasks don't know about task conte xts.  Also in addition
to reviewing there is another use case--sometimes it's desireble to put a task into read
only mode in order to check something that's not worth creating a new task for.

So
the UI is that the task list has Pause/Resume Capturing Context buttons on it's local
pull down.</WithOutStack>
  </Bug>
  <Bug>
    <BugId amount="111946" />
    <CreationDate amount="2005-10-07 12:51:00 -0400" />
    <DupId amount="" />
    <classification amount="Tools" />
    <Product amount="TPTP Agent Controller" />
    <component amount="Platform.Communication" />
    <Version amount="4.1" />
    <rep_platform amount="PC" />
    <op_sys amount="Windows XP" />
    <priority amount="P2" />
    <bug_severity amount="normal" />
    <Summery>Enable more general mechanism for transmitting log messages</Summery>
    <Patches amount="0" />
    <Stacktraces amount="0" />
    <SourceCodeRegions amount="0" />
    <Enumerations amount="0" />
    <bug_status amount="CLOSED" />
    <resolution amount="WONTFIX" />
    <WithStack>The current logging mechanism in the Agent Controller requires agents to send 
logging messages through the normal control channel.  This has two 
limitations: (1) it prevents us from logging events that occur in shared 
libraries, (2) it prevents us from logging events that are part of the message 
sending mechanism (because it would lead to recursion).

We need a more general mechanism.

One possibility is to open a pipe dedicated to receiving logging messages.
There is a temporary implementation in place.  You must now create a second 
instance of the named pipe transport layer with a pipe name that equals the 
main pipe name with "log" appended to it.  The log pipe TL must be specified 
before the main pipe TL in the serviceconfig.xml file.

In the next release, I intend to make a new component type dedicated to 
logging and allow the name to be more flexible.
Cannot contain this work in 4.2, resetting target to future for now.
Added effort estimate: 3 weeks
Transferring ownership of new agemt controller issues with no specific target date to Mikhail for consideration in future releases.
cleaning up assignees
As of TPTP 4.6.0, TPTP is in maintenance mode and focusing on improving quality by resolving relevant defects and increasing test coverage through test creation, automation, Build Verification Tests (BVTs), and expanded run-time execution. Since this defect is more than 2 years old, it may be no longer relevant. As part of the TPTP Bugzilla housecleaning process (see http://wiki.eclipse.org/Bugzilla_Housecleaning_Processes), this defect is resolved as WONTFIX. If this defect is still relevant and reproducible in the latest TPTP release (http://www.eclipse.org/tptp/home/downloads/), please re-open.
As of TPTP 4.6.0, TPTP is in maintenance mode and focusing on improving quality by resolving relevant enhancements/defects and increasing test coverage through test creation, automation, Build Verification Tests (BVTs), and expanded run-time execution. As part of the TPTP Bugzilla housecleaning process (see http://wiki.eclipse.org/Bugzilla_Housecleaning_Processes), this enhancement/defect is verified/closed by the Project Lead since this enhancement/defect has been resolved and unverified for more than 1 year and considered to be fixed. If this enhancement/defect is still unresolved and reproducible in the latest TPTP release (http://www.eclipse.org/tptp/home/downloads/), please re-open.</WithStack>
    <WithOutStack>The current logging mechanism in the Agent Controller requires agents to send 
logging messages through the normal control channel.  This has two 
limitations: (1) it prevents us from logging events that occur in shared 
libraries, (2) it prevents us from logging events that are part of the message 
sending mechanism (because it would lead to recursion).

We need a more general mechanism.

One possibility is to open a pipe dedicated to receiving logging messages.
There is a temporary implementation in place.  You must now create a second 
instance of the named pipe transport layer with a pipe name that equals the 
main pipe name with "log" appended to it.  The log pipe TL must be specified 
before the main pipe TL in the serviceconfig.xml file.

In the next release, I intend to make a new component type dedicated to 
logging and allow the name to be more flexible.
Cannot contain this work in 4.2, resetting target to future for now.
Added effort estimate: 3 weeks
Transferring ownership of new agemt controller issues with no specific target date to Mikhail for consideration in future releases.
cleaning up assignees
As of TPTP 4.6.0, TPTP is in maintenance mode and focusing on improving quality by resolving relevant defects and increasing test coverage through test creation, automation, Build Verification Tests (BVTs), and expanded run-time execution. Since this defect is more than 2 years old, it may be no longer relevant. As part of the TPTP Bugzilla housecleaning process (see http://wiki.eclipse.org/Bugzilla_Housecleaning_Processes), this defect is resolved as WONTFIX. If this defect is still relevant and reproducible in the latest TPTP release (http://www.eclipse.org/tptp/home/downloads/), please re-open.
As of TPTP 4.6.0, TPTP is in maintenance mode and focusing on improving quality by resolving relevant enhancements/defects and increasing test coverage through test creation, automation, Build Verification Tests (BVTs), and expanded run-time execution. As part of the TPTP Bugzilla housecleaning process (see http://wiki.eclipse.org/Bugzilla_Housecleaning_Processes), this enhancement/defect is verified/closed by the Project Lead since this enhancement/defect has been resolved and unverified for more than 1 year and considered to be fixed. If this enhancement/defect is still unresolved and reproducible in the latest TPTP release (http://www.eclipse.org/tptp/home/downloads/), please re-open.</WithOutStack>
  </Bug>
  <Bug>
    <BugId amount="111947" />
    <CreationDate amount="2005-10-07 12:53:00 -0400" />
    <DupId amount="" />
    <classification amount="Tools" />
    <Product amount="TPTP Agent Controller" />
    <component amount="Platform.Communication" />
    <Version amount="4.1" />
    <rep_platform amount="PC" />
    <op_sys amount="Windows XP" />
    <priority amount="P3" />
    <bug_severity amount="normal" />
    <Summery>Enable configuration of logging</Summery>
    <Patches amount="0" />
    <Stacktraces amount="0" />
    <SourceCodeRegions amount="0" />
    <Enumerations amount="0" />
    <bug_status amount="CLOSED" />
    <resolution amount="WONTFIX" />
    <WithStack>The Agent Controller needs a section added to its configuration file to allow 
logging to be configured.  It should also allow the logging level to be 
changed at run-time.
Logging is configurable via the config file.  To enable runtime change to logging level need to cause config file to be re-read or have a secondary mechanism to indicate logging level (ie. env settings).

Effort estimate is for design only: 1 week
Need to revisit after design for estimate of work.
Transferring ownership of new agemt controller issues with no specific target date to Mikhail for consideration in future releases.
cleaning up assignees
As of TPTP 4.6.0, TPTP is in maintenance mode and focusing on improving quality by resolving relevant defects and increasing test coverage through test creation, automation, Build Verification Tests (BVTs), and expanded run-time execution. Since this defect is more than 2 years old, it may be no longer relevant. As part of the TPTP Bugzilla housecleaning process (see http://wiki.eclipse.org/Bugzilla_Housecleaning_Processes), this defect is resolved as WONTFIX. If this defect is still relevant and reproducible in the latest TPTP release (http://www.eclipse.org/tptp/home/downloads/), please re-open.
As of TPTP 4.6.0, TPTP is in maintenance mode and focusing on improving quality by resolving relevant enhancements/defects and increasing test coverage through test creation, automation, Build Verification Tests (BVTs), and expanded run-time execution. As part of the TPTP Bugzilla housecleaning process (see http://wiki.eclipse.org/Bugzilla_Housecleaning_Processes), this enhancement/defect is verified/closed by the Project Lead since this enhancement/defect has been resolved and unverified for more than 1 year and considered to be fixed. If this enhancement/defect is still unresolved and reproducible in the latest TPTP release (http://www.eclipse.org/tptp/home/downloads/), please re-open.</WithStack>
    <WithOutStack>The Agent Controller needs a section added to its configuration file to allow 
logging to be configured.  It should also allow the logging level to be 
changed at run-time.
Logging is configurable via the config file.  To enable runtime change to logging level need to cause config file to be re-read or have a secondary mechanism to indicate logging level (ie. env settings).

Effort estimate is for design only: 1 week
Need to revisit after design for estimate of work.
Transferring ownership of new agemt controller issues with no specific target date to Mikhail for consideration in future releases.
cleaning up assignees
As of TPTP 4.6.0, TPTP is in maintenance mode and focusing on improving quality by resolving relevant defects and increasing test coverage through test creation, automation, Build Verification Tests (BVTs), and expanded run-time execution. Since this defect is more than 2 years old, it may be no longer relevant. As part of the TPTP Bugzilla housecleaning process (see http://wiki.eclipse.org/Bugzilla_Housecleaning_Processes), this defect is resolved as WONTFIX. If this defect is still relevant and reproducible in the latest TPTP release (http://www.eclipse.org/tptp/home/downloads/), please re-open.
As of TPTP 4.6.0, TPTP is in maintenance mode and focusing on improving quality by resolving relevant enhancements/defects and increasing test coverage through test creation, automation, Build Verification Tests (BVTs), and expanded run-time execution. As part of the TPTP Bugzilla housecleaning process (see http://wiki.eclipse.org/Bugzilla_Housecleaning_Processes), this enhancement/defect is verified/closed by the Project Lead since this enhancement/defect has been resolved and unverified for more than 1 year and considered to be fixed. If this enhancement/defect is still unresolved and reproducible in the latest TPTP release (http://www.eclipse.org/tptp/home/downloads/), please re-open.</WithOutStack>
  </Bug>
  <Bug>
    <BugId amount="111948" />
    <CreationDate amount="2005-10-07 13:08:00 -0400" />
    <DupId amount="96491" />
    <classification amount="Eclipse" />
    <Product amount="Platform" />
    <component amount="UI" />
    <Version amount="3.1" />
    <rep_platform amount="PC" />
    <op_sys amount="Windows 2000" />
    <priority amount="P3" />
    <bug_severity amount="normal" />
    <Summery>Navigator toolbar stays visible when editor is maximized</Summery>
    <Patches amount="0" />
    <Stacktraces amount="0" />
    <SourceCodeRegions amount="0" />
    <Enumerations amount="0" />
    <bug_status amount="RESOLVED" />
    <resolution amount="DUPLICATE" />
    <WithStack>Version: 3.1.0  (I think it's 3.2)
Build id: I20050923-1000
This is a unmodified version. No plugins installed, etc.

The navigator view has a tool bar (Back, Forward, Up, |, Collapse All, Link with
Editor) that stays present when I maximize my Java Editor. The toolbar stays
over the text, like a pop-up. I need to minimize and maximize the editor as a
workaround. 

Thanks
Breno Leito
CPqD IT &amp; Telecom.


*** This bug has been marked as a duplicate of 96491 ***</WithStack>
    <WithOutStack>Version: 3.1.0  (I think it's 3.2)
Build id: I20050923-1000
This is a unmodified version. No plugins installed, etc.

The navigator view has a tool bar (Back, Forward, Up, |, Collapse All, Link with
Editor) that stays present when I maximize my Java Editor. The toolbar stays
over the text, like a pop-up. I need to minimize and maximize the editor as a
workaround. 

Thanks
Breno Leito
CPqD IT &amp; Telecom.


*** This bug has been marked as a duplicate of 96491 ***</WithOutStack>
  </Bug>
  <Bug>
    <BugId amount="111949" />
    <CreationDate amount="2005-10-07 13:15:00 -0400" />
    <DupId amount="" />
    <classification amount="Modeling" />
    <Product amount="GMF-Tooling" />
    <component amount="Core" />
    <Version amount="unspecified" />
    <rep_platform amount="PC" />
    <op_sys amount="Windows XP" />
    <priority amount="P3" />
    <bug_severity amount="normal" />
    <Summery>Provide a possibility to invoke inplace for inner elements with empty name</Summery>
    <Patches amount="0" />
    <Stacktraces amount="0" />
    <SourceCodeRegions amount="0" />
    <Enumerations amount="1">
      <Enumeration lines="10">
        <Lines>
          <Line>- Generate diagram with Top level element, compartment in it and an inner</Line>
          <Line>element with specified "edit name" property in map model</Line>
          <Line>- Exectute new instance of eclipse and using generated code create top-level</Line>
          <Line>element and inner element in it without name</Line>
          <Line>- Try to invoke inplace for the name of inner element to specify it from</Line>
          <Line>diagram -&gt; it is not possible now.</Line>
          <Line>Default text is provided for labels (in model facet) so it's always possible to</Line>
          <Line>edit it.</Line>
          <Line>[GMF Restructure] Bug 319140 : product GMF and component</Line>
          <Line>Generation was the original product and component for this bug</Line>
        </Lines>
      </Enumeration>
    </Enumerations>
    <bug_status amount="RESOLVED" />
    <resolution amount="FIXED" />
    <WithStack>- Generate diagram with Top level element, compartment in it and an inner 
element with specified "edit name" property in map model
- Exectute new instance of eclipse and using generated code create top-level 
element and inner element in it without name
- Try to invoke inplace for the name of inner element to specify it from 
diagram -&gt; it is not possible now.
Default text is provided for labels (in model facet) so it's always possible to 
edit it.
[GMF Restructure] Bug 319140 : product GMF and component
Generation was the original product and component for this bug</WithStack>
    <WithOutStack>- Generate diagram with Top level element, compartment in it and an inner 
element with specified "edit name" property in map model
- Exectute new instance of eclipse and using generated code create top-level 
element and inner element in it without name
- Try to invoke inplace for the name of inner element to specify it from 
diagram -&gt; it is not possible now.
Default text is provided for labels (in model facet) so it's always possible to 
edit it.
[GMF Restructure] Bug 319140 : product GMF and component
Generation was the original product and component for this bug</WithOutStack>
  </Bug>
  <Bug>
    <BugId amount="111950" />
    <CreationDate amount="2005-10-07 13:17:00 -0400" />
    <DupId amount="" />
    <classification amount="Eclipse" />
    <Product amount="Platform" />
    <component amount="Runtime" />
    <Version amount="3.1.1" />
    <rep_platform amount="PC" />
    <op_sys amount="All" />
    <priority amount="P3" />
    <bug_severity amount="enhancement" />
    <Summery>ClassLoader features (jasperreport and rcp)</Summery>
    <Patches amount="0" />
    <Stacktraces amount="0" />
    <SourceCodeRegions amount="3">
      <source_code type="functiondef">
        <location start="265" end="635" />
        <code>ClassLoader basicFindClassLoader() {
  Class[] stack = contextFinder.getClassContext();
  ClassLoader result = null;
  for (int i = 1; i &lt; stack.length; i++) {
   ClassLoader tmp = stack[i].getClassLoader();
   if (stack[i] != ContextFinder.class &amp;&amp; tmp != null) {
    result = tmp;
    break;
   }
  }
  if (checkClassLoader(result))
   return result;
  return null;
 }</code>
      </source_code>
      <source_code type="functiondef">
        <location start="806" end="1105" />
        <code>ClassLoader basicFindClassLoader() {
 Class[] stack = contextFinder.getClassContext();
 for (int i = 1; i &lt; stack.length; i++) {
  ClassLoader tmp = stack[i].getClassLoader();
  if (stack[i] != ContextFinder.class &amp;&amp; tmp != null &amp;&amp;
checkClassLoader(tmp)) {
    return tmp;
   }
  }
  return null;
 }</code>
      </source_code>
      <source_code type="ifstatement">
        <location start="1920" end="2200" />
        <code>if (result == null) {
    ArrayList toConsult = findClassLoaders();
    for (Iterator loaders = toConsult.iterator(); loaders.hasNext();)
	try {
	   result = ((ClassLoader) loaders.next()).loadClass(arg0);
	} catch (ClassNotFoundException e) {
	// go to the next class loader
	}
}</code>
      </source_code>
    </SourceCodeRegions>
    <Enumerations amount="0" />
    <bug_status amount="RESOLVED" />
    <resolution amount="FIXED" />
    <WithStack>Hi,
I try make jasperreport view in rcp application and get ClassNotFoundError
when fill report
  Jasper create report class in memory and create class with own classloader
I think that problem is in ContextFinder#basicFindClassLoader()

  this is original method

ClassLoader basicFindClassLoader() {
  Class[] stack = contextFinder.getClassContext();
  ClassLoader result = null;
  for (int i = 1; i &lt; stack.length; i++) {
   ClassLoader tmp = stack[i].getClassLoader();
   if (stack[i] != ContextFinder.class &amp;&amp; tmp != null) {
    result = tmp;
    break;
   }
  }
  if (checkClassLoader(result))
   return result;
  return null;
 }

method search loaders of loaded classes in JVM classloader and if this
classloader isn't good break, but on first class with wrong classloader
When i change class to :

ClassLoader basicFindClassLoader() {
 Class[] stack = contextFinder.getClassContext();
 for (int i = 1; i &lt; stack.length; i++) {
  ClassLoader tmp = stack[i].getClassLoader();
  if (stack[i] != ContextFinder.class &amp;&amp; tmp != null &amp;&amp;
checkClassLoader(tmp)) {
    return tmp;
   }
  }
  return null;
 }

eclipse search all stack loaded class for classloader

After this changes jasperreport work fine

Is this a bug or ... ?
In the recent 3.2 builds we changed the ContextFinder code to return the first classloader of the stack that is neither the ContextFinder classloader nor the boot classloader.
Could you please try it?
Pascal,
  I don't work with 3.2 still (and can't test), but I think that it will work now

I will test when I start with 3.2
I check and it work now, but what is this in basicFindClassLoaders
if (tmp == finderClassLoader || tmp instanceof BundleClassLoader)
   break;
It is possible that we find case when it will fail, too  
another question : is ArrayList necessary for return from this method ? It worked good for first classloader.
If ArrayList is necessary then see this code (line 92)
if (result == null) {
    ArrayList toConsult = findClassLoaders();
    for (Iterator loaders = toConsult.iterator(); loaders.hasNext();)
	try {
	   result = ((ClassLoader) loaders.next()).loadClass(arg0);
	} catch (ClassNotFoundException e) {
	// go to the next class loader
	}
}
if first loader in list load class this will continue in second loader.
I think that you need break after line
  result = ... (line 96)
Good catch Haris, I reopened bug 130819 where this code got introduced.</WithStack>
    <WithOutStack>Hi,
I try make jasperreport view in rcp application and get ClassNotFoundError
when fill report
  Jasper create report class in memory and create class with own classloader
I think that problem is in ContextFinder#basicFindClassLoader()

  this is original method

ClassLoader basicFindClassLoader() {
  Class[] stack = contextFinder.getClassContext();
  ClassLoader result = null;
  for (int i = 1; i &lt; stack.length; i++) {
   ClassLoader tmp = stack[i].getClassLoader();
   if (stack[i] != ContextFinder.class &amp;&amp; tmp != null) {
    result = tmp;
    break;
   }
  }
  if (checkClassLoader(result))
   return result;
  return null;
 }

method search loaders of loaded classes in JVM classloader and if this
classloader isn't good break, but on first class with wrong classloader
When i change class to :

ClassLoader basicFindClassLoader() {
 Class[] stack = contextFinder.getClassContext();
 for (int i = 1; i &lt; stack.length; i++) {
  ClassLoader tmp = stack[i].getClassLoader();
  if (stack[i] != ContextFinder.class &amp;&amp; tmp != null &amp;&amp;
checkClassLoader(tmp)) {
    return tmp;
   }
  }
  return null;
 }

eclipse search all stack loaded class for classloader

After this changes jasperreport work fine

Is this a bug or ... ?
In the recent 3.2 builds we changed the ContextFinder code to return the first classloader of the stack that is neither the ContextFinder classloader nor the boot classloader.
Could you please try it?
Pascal,
  I don't work with 3.2 still (and can't test), but I think that it will work now

I will test when I start with 3.2
I check and it work now, but what is this in basicFindClassLoaders
if (tmp == finderClassLoader || tmp instanceof BundleClassLoader)
   break;
It is possible that we find case when it will fail, too  
another question : is ArrayList necessary for return from this method ? It worked good for first classloader.
If ArrayList is necessary then see this code (line 92)
if (result == null) {
    ArrayList toConsult = findClassLoaders();
    for (Iterator loaders = toConsult.iterator(); loaders.hasNext();)
	try {
	   result = ((ClassLoader) loaders.next()).loadClass(arg0);
	} catch (ClassNotFoundException e) {
	// go to the next class loader
	}
}
if first loader in list load class this will continue in second loader.
I think that you need break after line
  result = ... (line 96)
Good catch Haris, I reopened bug 130819 where this code got introduced.</WithOutStack>
  </Bug>
  <Bug>
    <BugId amount="111951" />
    <CreationDate amount="2005-10-07 13:22:00 -0400" />
    <DupId amount="" />
    <classification amount="Modeling" />
    <Product amount="GMF-Runtime" />
    <component amount="General" />
    <Version amount="1.0" />
    <rep_platform amount="PC" />
    <op_sys amount="Windows XP" />
    <priority amount="P3" />
    <bug_severity amount="enhancement" />
    <Summery>[Geoshapes] Color drop-down should support no-fill mode.</Summery>
    <Patches amount="0" />
    <Stacktraces amount="0" />
    <SourceCodeRegions amount="0" />
    <Enumerations amount="1">
      <Enumeration lines="2">
        <Lines>
          <Line>- Create some geometric shapes.</Line>
          <Line>- Try to frame them with a rectangle.</Line>
        </Lines>
      </Enumeration>
    </Enumerations>
    <bug_status amount="RESOLVED" />
    <resolution amount="FIXED" />
    <WithStack>This would be useful for geometric shapes.  Can only created filled shapes 
right now.

Relevant use case:
- Create some geometric shapes.
- Try to frame them with a rectangle.

Result:
- Frame covers shapes.  Can't change z-order either (different issue).
Not yet assigned to a release (assigned to a milestone with the Plan keyword).

Moving to the next release, GMF 2.1. 


Created attachment 85212
Proposed patch

Here is a patch which adds a "no fill" button to the color palette. currently this button will only be enabled if you select the "fill color" button.  Also it will only work only in geoshapes (not only because this bug specifies geoshapes, but it involves changing how the figure is painted, which is impossible to generalize, and rather I think clients have to implement it)

a couple things to notice is the new fillstyle, "fillOn", which is set to true as default, and only changed when the noFill button is pressed (at least for no).

I've tested it and the fillOn style is persisted, and i've also made it so the "no fill" button is set to default when the color palette pops up if the shape was previously set to no fill.  Also in the case that no fill is selected, there will be no overlay image for the color.

I've also attached a screenshot to show that everything works.
Created attachment 85213
Picture_Works
As we discussed, we do not want to consider committing this until we look at all of the enhancements we want to the notational metamodel
We actually want to support alpha() from 0 to 255.
This bug is indirectly fixed by introducing transparency in 263039. Setting transparency to 100% achieves no-fill effect.
[GMF Restructure] Bug 319140 : product GMF and component
Runtime was the original product and component for this bug</WithStack>
    <WithOutStack>This would be useful for geometric shapes.  Can only created filled shapes 
right now.

Relevant use case:
- Create some geometric shapes.
- Try to frame them with a rectangle.

Result:
- Frame covers shapes.  Can't change z-order either (different issue).
Not yet assigned to a release (assigned to a milestone with the Plan keyword).

Moving to the next release, GMF 2.1. 


Created attachment 85212
Proposed patch

Here is a patch which adds a "no fill" button to the color palette. currently this button will only be enabled if you select the "fill color" button.  Also it will only work only in geoshapes (not only because this bug specifies geoshapes, but it involves changing how the figure is painted, which is impossible to generalize, and rather I think clients have to implement it)

a couple things to notice is the new fillstyle, "fillOn", which is set to true as default, and only changed when the noFill button is pressed (at least for no).

I've tested it and the fillOn style is persisted, and i've also made it so the "no fill" button is set to default when the color palette pops up if the shape was previously set to no fill.  Also in the case that no fill is selected, there will be no overlay image for the color.

I've also attached a screenshot to show that everything works.
Created attachment 85213
Picture_Works
As we discussed, we do not want to consider committing this until we look at all of the enhancements we want to the notational metamodel
We actually want to support alpha() from 0 to 255.
This bug is indirectly fixed by introducing transparency in 263039. Setting transparency to 100% achieves no-fill effect.
[GMF Restructure] Bug 319140 : product GMF and component
Runtime was the original product and component for this bug</WithOutStack>
  </Bug>
  <Bug>
    <BugId amount="111952" />
    <CreationDate amount="2005-10-07 13:23:00 -0400" />
    <DupId amount="" />
    <classification amount="Modeling" />
    <Product amount="GMF-Runtime" />
    <component amount="General" />
    <Version amount="1.0" />
    <rep_platform amount="PC" />
    <op_sys amount="Windows 2000" />
    <priority amount="P3" />
    <bug_severity amount="major" />
    <Summery>Connector handles do not appear when hovering over compartments</Summery>
    <Patches amount="0" />
    <Stacktraces amount="0" />
    <SourceCodeRegions amount="0" />
    <Enumerations amount="2">
      <Enumeration lines="7">
        <Lines>
          <Line>- Added a DelegatingMouseEventEditPolicy which forwards mouse events to the</Line>
          <Line>nearest parent with the appropriate editpolicy installed.</Line>
          <Line>- Made mouse event methods top level method on DiagramAssistantEditPolicy (it</Line>
          <Line>now implements MouseMotionListener).</Line>
          <Line>- Moved more of the common behavior between the ActionBarEditPolicy and</Line>
          <Line>ConnectorHandleEditPolicy to the parent DiagramAssistantEditPolicy class.</Line>
          <Line>Added documentation and renamed some methods and parameters.</Line>
        </Lines>
      </Enumeration>
      <Enumeration lines="6">
        <Lines>
          <Line>- hovering on compartments and shapes</Line>
          <Line>- using spacebar to trigger actionbar &amp; connector handles on shapes,</Line>
          <Line>connectors, compartments, diagram</Line>
          <Line>- verifying connector handles move with mouse</Line>
          <Line>- verifying hovering over diagram assistant will keep diagram assistant</Line>
          <Line>displayed.</Line>
        </Lines>
      </Enumeration>
    </Enumerations>
    <bug_status amount="RESOLVED" />
    <resolution amount="FIXED" />
    <WithStack>Purpose: 
- Added a DelegatingMouseEventEditPolicy which forwards mouse events to the 
nearest parent with the appropriate editpolicy installed. 
- Made mouse event methods top level method on DiagramAssistantEditPolicy (it 
now implements MouseMotionListener). 
- Moved more of the common behavior between the ActionBarEditPolicy and 
ConnectorHandleEditPolicy to the parent DiagramAssistantEditPolicy class.  
Added documentation and renamed some methods and parameters. 

Activities: 
Bugzilla 111952 gmf_head sshaw 051007 Connector handles do not appear when 
hovering over compartments 

Code Reviewed by: 
Steve 

How tested: 
Adhoc testing with connector handles and actionbars including 
- hovering on compartments and shapes
- using spacebar to trigger actionbar &amp; connector handles on shapes, 
connectors, compartments, diagram 
- verifying connector handles move with mouse 
- verifying hovering over diagram assistant will keep diagram assistant 
displayed. 

JUnit Tests:   
diagram.ui.tests: 58/58 
[GMF Restructure] Bug 319140 : product GMF and component Runtime Diagram was the original product and component for this bug</WithStack>
    <WithOutStack>Purpose: 
- Added a DelegatingMouseEventEditPolicy which forwards mouse events to the 
nearest parent with the appropriate editpolicy installed. 
- Made mouse event methods top level method on DiagramAssistantEditPolicy (it 
now implements MouseMotionListener). 
- Moved more of the common behavior between the ActionBarEditPolicy and 
ConnectorHandleEditPolicy to the parent DiagramAssistantEditPolicy class.  
Added documentation and renamed some methods and parameters. 

Activities: 
Bugzilla 111952 gmf_head sshaw 051007 Connector handles do not appear when 
hovering over compartments 

Code Reviewed by: 
Steve 

How tested: 
Adhoc testing with connector handles and actionbars including 
- hovering on compartments and shapes
- using spacebar to trigger actionbar &amp; connector handles on shapes, 
connectors, compartments, diagram 
- verifying connector handles move with mouse 
- verifying hovering over diagram assistant will keep diagram assistant 
displayed. 

JUnit Tests:   
diagram.ui.tests: 58/58 
[GMF Restructure] Bug 319140 : product GMF and component Runtime Diagram was the original product and component for this bug</WithOutStack>
  </Bug>
  <Bug>
    <BugId amount="111953" />
    <CreationDate amount="2005-10-07 13:32:00 -0400" />
    <DupId amount="" />
    <classification amount="Tools" />
    <Product amount="TPTP Testing" />
    <component amount="Test.UI.AutoGUIUI" />
    <Version amount="4.1" />
    <rep_platform amount="PC" />
    <op_sys amount="Windows XP" />
    <priority amount="P3" />
    <bug_severity amount="normal" />
    <Summery>Need to update auto GUI docs with variable substitution features</Summery>
    <Patches amount="0" />
    <Stacktraces amount="0" />
    <SourceCodeRegions amount="0" />
    <Enumerations amount="0" />
    <bug_status amount="CLOSED" />
    <resolution amount="FIXED" />
    <WithStack>The AutoGUIRunner documentation at
http://www.eclipse.org/tptp/test/documents/userguides/Intro-Auto-GUI.html needs
to be updated to reflect the new "variable substitution" feature. This feature
permits tests to parameterize certain strings, including the full OS-specific
path to the temporary workspace directory and the directory containing the test
suite. As a result, tests can refer to data files using absolute path names, for
example for Import operations.
Created attachment 28866
Includes the HTML document along with two images (one modified and one added)

I'll check this in as soon as 4.1i3 is open
File checked in.
Fix in cvs
ACTION: Please verify/close this defect.
Closing by default since not closed by the originator in the 7+ months since being resolved.  

Please reopen if the issue is still present in the latest TPTP release or the resolution is not correct.</WithStack>
    <WithOutStack>The AutoGUIRunner documentation at
http://www.eclipse.org/tptp/test/documents/userguides/Intro-Auto-GUI.html needs
to be updated to reflect the new "variable substitution" feature. This feature
permits tests to parameterize certain strings, including the full OS-specific
path to the temporary workspace directory and the directory containing the test
suite. As a result, tests can refer to data files using absolute path names, for
example for Import operations.
Created attachment 28866
Includes the HTML document along with two images (one modified and one added)

I'll check this in as soon as 4.1i3 is open
File checked in.
Fix in cvs
ACTION: Please verify/close this defect.
Closing by default since not closed by the originator in the 7+ months since being resolved.  

Please reopen if the issue is still present in the latest TPTP release or the resolution is not correct.</WithOutStack>
  </Bug>
  <Bug>
    <BugId amount="111954" />
    <CreationDate amount="2005-10-07 13:39:00 -0400" />
    <DupId amount="" />
    <classification amount="WebTools" />
    <Product amount="WTP ServerTools" />
    <component amount="wst.server" />
    <Version amount="1.5" />
    <rep_platform amount="PC" />
    <op_sys amount="Windows XP" />
    <priority amount="P3" />
    <bug_severity amount="normal" />
    <Summery>The horizontal and vertical scroll bar does not show in server editor</Summery>
    <Patches amount="0" />
    <Stacktraces amount="0" />
    <SourceCodeRegions amount="0" />
    <Enumerations amount="0" />
    <bug_status amount="CLOSED" />
    <resolution amount="FIXED" />
    <WithStack>The server editor framework used to add the horizontal and vertical scrollbar to
the server editor when the server editor size does not fit the content. 
However, the recent driver does not do that anymore.

The problem can be reproduced when using tomcat server.
Fix has been checked into HEAD stream and will be tagged for next I-build.
I am still seeing the same problem in the current WTP M8 driver.
As discussed, this was fixed in M9 with no patch for M8. Please reopen if you're
still seeing this behaviour after moving to M9.
This change is a bulk update of all _un_targeted, fixed, resolved bugs upon release of M5. This particular bug _might_ have been fixed earlier than M5. (Feel free to correct). 


Closing.</WithStack>
    <WithOutStack>The server editor framework used to add the horizontal and vertical scrollbar to
the server editor when the server editor size does not fit the content. 
However, the recent driver does not do that anymore.

The problem can be reproduced when using tomcat server.
Fix has been checked into HEAD stream and will be tagged for next I-build.
I am still seeing the same problem in the current WTP M8 driver.
As discussed, this was fixed in M9 with no patch for M8. Please reopen if you're
still seeing this behaviour after moving to M9.
This change is a bulk update of all _un_targeted, fixed, resolved bugs upon release of M5. This particular bug _might_ have been fixed earlier than M5. (Feel free to correct). 


Closing.</WithOutStack>
  </Bug>
  <Bug>
    <BugId amount="111955" />
    <CreationDate amount="2005-10-07 13:40:00 -0400" />
    <DupId amount="" />
    <classification amount="Tools" />
    <Product amount="PTP" />
    <component amount="Debug Core" />
    <Version amount="unspecified" />
    <rep_platform amount="Macintosh" />
    <op_sys amount="All" />
    <priority amount="P3" />
    <bug_severity amount="critical" />
    <Summery>Stepping is too slow</Summery>
    <Patches amount="0" />
    <Stacktraces amount="0" />
    <SourceCodeRegions amount="0" />
    <Enumerations amount="0" />
    <bug_status amount="CLOSED" />
    <resolution amount="FIXED" />
    <WithStack>Using the simulator, create a 500 process job. After stopping at a breakpoint, step all processes. It takes 
nearly 30 seconds for the markers to be updated. I also see 500 EndSteppingRangeEvents logged.

Is this just a limitation of the simulator, or is it going to affect the external debugger also? If so then a 
major redesign is going to be required. In particular, I'm not sure why I'm seeing 500 events. There should 
never be 500 events posted in this manner.
I asked donny before.  He said the simulator will send event one by one for each
 process.  For exmaple, UI will receive breakpoint hit event for all processes
one by one if the global breakpoint is created.

(In reply to comment #0)
&gt; Using the simulator, create a 500 process job. After stopping at a breakpoint,
step all processes. It takes 
&gt; nearly 30 seconds for the markers to be updated. I also see 500
EndSteppingRangeEvents logged.
&gt; 
&gt; Is this just a limitation of the simulator, or is it going to affect the
external debugger also? If so then a 
&gt; major redesign is going to be required. In particular, I'm not sure why I'm
seeing 500 events. There should 
&gt; never be 500 events posted in this manner.


Please confirm that this problem will not occur with external debugger.
The simulator does not have the ability to aggregate multiple events into one,
because of that, it sends multiple events.


(In reply to comment #0)
&gt; Using the simulator, create a 500 process job. After stopping at a breakpoint,
step all processes. It takes 
&gt; nearly 30 seconds for the markers to be updated. I also see 500
EndSteppingRangeEvents logged.
&gt; 
&gt; Is this just a limitation of the simulator, or is it going to affect the
external debugger also? If so then a 
&gt; major redesign is going to be required. In particular, I'm not sure why I'm
seeing 500 events. There should 
&gt; never be 500 events posted in this manner.


Ok, let's close this for now. We can check performance with the external debugger and reopen if 
necessary.
Simulator specific. Please reopen if this problem appears in external debugger.</WithStack>
    <WithOutStack>Using the simulator, create a 500 process job. After stopping at a breakpoint, step all processes. It takes 
nearly 30 seconds for the markers to be updated. I also see 500 EndSteppingRangeEvents logged.

Is this just a limitation of the simulator, or is it going to affect the external debugger also? If so then a 
major redesign is going to be required. In particular, I'm not sure why I'm seeing 500 events. There should 
never be 500 events posted in this manner.
I asked donny before.  He said the simulator will send event one by one for each
 process.  For exmaple, UI will receive breakpoint hit event for all processes
one by one if the global breakpoint is created.

(In reply to comment #0)
&gt; Using the simulator, create a 500 process job. After stopping at a breakpoint,
step all processes. It takes 
&gt; nearly 30 seconds for the markers to be updated. I also see 500
EndSteppingRangeEvents logged.
&gt; 
&gt; Is this just a limitation of the simulator, or is it going to affect the
external debugger also? If so then a 
&gt; major redesign is going to be required. In particular, I'm not sure why I'm
seeing 500 events. There should 
&gt; never be 500 events posted in this manner.


Please confirm that this problem will not occur with external debugger.
The simulator does not have the ability to aggregate multiple events into one,
because of that, it sends multiple events.


(In reply to comment #0)
&gt; Using the simulator, create a 500 process job. After stopping at a breakpoint,
step all processes. It takes 
&gt; nearly 30 seconds for the markers to be updated. I also see 500
EndSteppingRangeEvents logged.
&gt; 
&gt; Is this just a limitation of the simulator, or is it going to affect the
external debugger also? If so then a 
&gt; major redesign is going to be required. In particular, I'm not sure why I'm
seeing 500 events. There should 
&gt; never be 500 events posted in this manner.


Ok, let's close this for now. We can check performance with the external debugger and reopen if 
necessary.
Simulator specific. Please reopen if this problem appears in external debugger.</WithOutStack>
  </Bug>
  <Bug>
    <BugId amount="111956" />
    <CreationDate amount="2005-10-07 13:42:00 -0400" />
    <DupId amount="" />
    <classification amount="Modeling" />
    <Product amount="GMF-Runtime" />
    <component amount="General" />
    <Version amount="1.0" />
    <rep_platform amount="PC" />
    <op_sys amount="Windows XP" />
    <priority amount="P5" />
    <bug_severity amount="enhancement" />
    <Summery>[ZOrderSupport] Ability to have connections respect z-order and having shape overlap</Summery>
    <Patches amount="0" />
    <Stacktraces amount="0" />
    <SourceCodeRegions amount="0" />
    <Enumerations amount="1">
      <Enumeration lines="4">
        <Lines>
          <Line>- Create 3 notes with a note attachment between 2 of the notes.</Line>
          <Line>- Select unconnected note and place over top of note attachment.  Notice that</Line>
          <Line>note attachment is on top of the note.</Line>
          <Line>- Select Order/Top from the context menu for the note.</Line>
        </Lines>
      </Enumeration>
    </Enumerations>
    <bug_status amount="ASSIGNED" />
    <resolution amount="" />
    <WithStack>Steps:
- Create 3 notes with a note attachment between 2 of the notes.
- Select unconnected note and place over top of note attachment.  Notice that 
note attachment is on top of the note.
- Select Order/Top from the context menu for the note.

Result:
- Notice that the note attachment is still on top of the note.

This is by design in GEF to ensure that connections are always observed in 
their entirety and that when shapes overlap they don't appear to be connected 
to the intersected shape.  Perhaps this coule be mitigated by displaying the 
overlapped part of the connection as dotted or grayed when it is selected to 
provide that feedback.

- Connections would need to placable with-in the same layer as shapes.
[GMF Restructure] Bug 319140 : product GMF and component
Runtime Diagram was the original product and component for this bug</WithStack>
    <WithOutStack>Steps:
- Create 3 notes with a note attachment between 2 of the notes.
- Select unconnected note and place over top of note attachment.  Notice that 
note attachment is on top of the note.
- Select Order/Top from the context menu for the note.

Result:
- Notice that the note attachment is still on top of the note.

This is by design in GEF to ensure that connections are always observed in 
their entirety and that when shapes overlap they don't appear to be connected 
to the intersected shape.  Perhaps this coule be mitigated by displaying the 
overlapped part of the connection as dotted or grayed when it is selected to 
provide that feedback.

- Connections would need to placable with-in the same layer as shapes.
[GMF Restructure] Bug 319140 : product GMF and component
Runtime Diagram was the original product and component for this bug</WithOutStack>
  </Bug>
  <Bug>
    <BugId amount="111957" />
    <CreationDate amount="2005-10-07 13:45:00 -0400" />
    <DupId amount="" />
    <classification amount="Eclipse" />
    <Product amount="Platform" />
    <component amount="Resources" />
    <Version amount="3.1" />
    <rep_platform amount="PC" />
    <op_sys amount="Linux" />
    <priority amount="P3" />
    <bug_severity amount="normal" />
    <Summery>external builder not run on cvs checkout</Summery>
    <Patches amount="0" />
    <Stacktraces amount="0" />
    <SourceCodeRegions amount="0" />
    <Enumerations amount="1">
      <Enumeration lines="4">
        <Lines>
          <Line>1) Steps to reproduce from scratch, or a sample project attached to the bug that reproduces the problem.</Line>
          <Line>2) Trace information as requested in comment #5 when checking out the GNU classpath project.</Line>
          <Line>I should add that I'm aware of the pain this causes for GNU Classpath developers (http://developer.classpath.org/mediation/ClasspathHackingWithEclipse), and I'm keen to investigate if I have more details to go on.  It's quite possibly a configuration problem on that particular project, but from inspecting the .project and associated external tool builder files, I can't see the problem.</Line>
          <Line>Here's the output from a fresh checkout of GNU Classpath, from scratch (rm -rf ~/.eclipse, -data new-workspace), following the instructions at</Line>
        </Lines>
      </Enumeration>
    </Enumerations>
    <bug_status amount="RESOLVED" />
    <resolution amount="WORKSFORME" />
    <WithStack>GNU Classpath defines a few external builders -- this project
includes both native code (requiring a 'make') and automatically
generated java source code.

I've noticed that doing a checkout of classpath does not cause
these tool builders to be run.  Instead, after checkout, the build
results in an error.  If I "Clean" the project, the external builders
are run and the build succeeds.

I would like to be able to check out classpath and have the external
builders run automatically.  I couldn't figure out how to do this.

FWIW this is similar to bug #108534, but I'm not sure it is really the same.

As a user it would be convenient if this were explicitly spelled
out on the "Build Options" tab of the external builder's launch
configuration edit dialog.  For instance, a new checkbox saying
"After a checkout".  But, perhaps this is redundant -- arguably a
fresh checkout should be considered as being like the "post-clean" state.

You can easily see this behavior by checking out classpath:

:ext:anoncvs@subversions.gnu.org:/cvsroot/classpath
(no password needed)
module classpath
For various reasons (legal and firewall) I can't checkout GNU classpath. Can someone attach the .project and .classpath files for the project that is failing to build?
Files are also available through http at:
http://cvs.savannah.gnu.org/viewcvs/classpath/?root=classpath
Do all of the builders fail to run, or only some?  I noticed the builder that runs CreateLocaleData.launch is configured to NOT run during autobuild, so I wouldn't expect that one to build.  This is configured from the Builders property page (click Edit, go to "Build Options" tab).

I also noticed most builders are configured to only run when a resource in a given working set changes.  Darin, how does this work for newly created resources?  When the project is created (via CVS checkout), I assume a builder triggered by a working set would always call for a build?  Perhaps if the build script being called has itself been changed or created, a build should always run?
(In reply to comment #3)
&gt; When the project is created (via CVS checkout), I assume a builder
&gt; triggered by a working set would always call for a build?
Correct

&gt; Perhaps if the build script being called has itself been changed or created, &gt; a build should always run?
The user is in full control to set whether a change in the buildfile triggers a build by choosing whether to include the buildfile in the set of resources that trigger the build on changes.

Sorry Darin, I didn't have my head screwed on right.  Of course when a project is first checked out, the first build is not incremental.  This means there is no delta, so the builder's working set is presumably ignored.

If the following debug flags are added to eclipse/.options, and the "-debug" argument is added to the command line, then all builder activity will be recorded to the console:

org.eclipse.core.resources/debug=true
org.eclipse.core.resources/build/invoking=true

I tried to create a mock copy of the classpath project by grabbing the .project and all external tool builder launch configs from the URL given in comment #2.  When I checked this project out from CVS, the debug statements tell me that all builders ran:

Invoking (FULL_BUILD) on builder: ExternalToolBuilder(zzJohnTest)
Builder finished: ExternalToolBuilder(zzJohnTest) time: 137ms
Invoking (FULL_BUILD) on builder: ExternalToolBuilder(zzJohnTest)
Builder finished: ExternalToolBuilder(zzJohnTest) time: 50ms
Invoking (FULL_BUILD) on builder: ExternalToolBuilder(zzJohnTest)
Builder finished: ExternalToolBuilder(zzJohnTest) time: 135ms
Invoking (FULL_BUILD) on builder: ExternalToolBuilder(zzJohnTest)
Builder finished: ExternalToolBuilder(zzJohnTest) time: 108ms
Invoking (FULL_BUILD) on builder: ExternalToolBuilder(zzJohnTest)
Builder finished: ExternalToolBuilder(zzJohnTest) time: 40ms
Invoking (FULL_BUILD) on builder: JavaBuilder(zzJohnTest)
Builder finished: JavaBuilder(zzJohnTest) time: 3ms
Invoking (FULL_BUILD) on builder: ExternalToolBuilder(zzJohnTest)
Builder finished: ExternalToolBuilder(zzJohnTest) time: 37ms

So, I can't reproduce the problem with this simulated setup.  If someone could perform the checkout with the above debug options enabled and paste the results here, it might give me more clues. Of course, an attached test case that doesn't involve GNU code would also be fantastic...
We have been using the "trigger on checkout" behavior for the Ant Core and Ant UI plugins of the Eclipse development for 2 years plus...so we cannot reproduce the problem either.
I have been unable to reproduce this (cannot access the GNU classpath repository).  Please reopen with either:

 1) Steps to reproduce from scratch, or a sample project attached to the bug that reproduces the problem.
 2) Trace information as requested in comment #5 when checking out the GNU classpath project.
I should add that I'm aware of the pain this causes for GNU Classpath developers (http://developer.classpath.org/mediation/ClasspathHackingWithEclipse), and I'm keen to investigate if I have more details to go on.  It's quite possibly a configuration problem on that particular project, but from inspecting the .project and associated external tool builder files, I can't see the problem.
Here's the output from a fresh checkout of GNU Classpath, from scratch (rm -rf ~/.eclipse, -data new-workspace), following the instructions at

http://developer.classpath.org/mediation/ClasspathHackingWithEclipse

Thu Apr 06 16:25:46 EDT 2006 - [Worker-22] Invoking (FULL_BUILD) on builder: ExternalToolBuilder(classpath)
Thu Apr 06 16:26:22 EDT 2006 - [Worker-22] Builder finished: ExternalToolBuilder(classpath) time: 36029ms
Thu Apr 06 16:26:22 EDT 2006 - [Worker-22] Invoking (FULL_BUILD) on builder: ExternalToolBuilder(classpath)
Thu Apr 06 16:26:53 EDT 2006 - [Worker-22] Builder finished: ExternalToolBuilder(classpath) time: 30839ms
Thu Apr 06 16:26:53 EDT 2006 - [Worker-22] Invoking (FULL_BUILD) on builder: ExternalToolBuilder(classpath)
Thu Apr 06 16:27:03 EDT 2006 - [Worker-22] Builder finished: ExternalToolBuilder(classpath) time: 9428ms
Thu Apr 06 16:27:03 EDT 2006 - [Worker-22] Invoking (FULL_BUILD) on builder: JavaBuilder(classpath)
Thu Apr 06 16:29:03 EDT 2006 - [Worker-22] Builder finished: JavaBuilder(classpath) time: 120411ms
Thu Apr 06 16:29:03 EDT 2006 - [Worker-22] Invoking (FULL_BUILD) on builder: ExternalToolBuilder(classpath)
Thu Apr 06 16:29:05 EDT 2006 - [Worker-22] Builder finished: ExternalToolBuilder(classpath) time: 2379ms
Thu Apr 06 16:29:05 EDT 2006 - [Worker-22] Invoking (FULL_BUILD) on builder: ExternalToolBuilder(classpath)
Thu Apr 06 16:30:18 EDT 2006 - [Worker-22] Builder finished: ExternalToolBuilder(classpath) time: 72898ms
Thu Apr 06 16:30:18 EDT 2006 - [Worker-22] Invoking (FULL_BUILD) on builder: ExternalToolBuilder(classpath)
Thu Apr 06 16:30:18 EDT 2006 - [Worker-22] Builder finished: ExternalToolBuilder(classpath) time: 61ms
Thu Apr 06 16:30:24 EDT 2006 - [Worker-16] Invoking (INCREMENTAL_BUILD) on builder: ExternalToolBuilder(classpath)
Thu Apr 06 16:30:24 EDT 2006 - [Worker-16] Builder finished: ExternalToolBuilder(classpath) time: 216ms
Thu Apr 06 16:30:24 EDT 2006 - [Worker-16] Invoking (INCREMENTAL_BUILD) on builder: ExternalToolBuilder(classpath)
Thu Apr 06 16:30:24 EDT 2006 - [Worker-16] Builder finished: ExternalToolBuilder(classpath) time: 6ms
Thu Apr 06 16:30:24 EDT 2006 - [Worker-16] Invoking (INCREMENTAL_BUILD) on builder: JavaBuilder(classpath)
Thu Apr 06 16:30:24 EDT 2006 - [Worker-16] Builder finished: JavaBuilder(classpath) time: 40ms
Thu Apr 06 16:30:24 EDT 2006 - [Worker-16] Invoking (INCREMENTAL_BUILD) on builder: ExternalToolBuilder(classpath)
Thu Apr 06 16:30:24 EDT 2006 - [Worker-16] Builder finished: ExternalToolBuilder(classpath) time: 29ms

This is running on GCJ.
Thanks for the trace. Reopening for investigation.
Any news here, John?
Unfortunately I was never able to reproduce the problem. 
Build id: N20080117-0010

I was trying to reproduce the issue, but with no luck so far.

I followed the steps from the link developers
http://developer.classpath.org/mediation/ClasspathHackingWithEclipse 

Even if I switch autobuild off and do the clean/build after a checkout, the build results in an error. The same error occurs when autobuild is on during a checkout.

Anyway I can see that the external builder are triggered in both cases.


I can't reproduce it.</WithStack>
    <WithOutStack>GNU Classpath defines a few external builders -- this project
includes both native code (requiring a 'make') and automatically
generated java source code.

I've noticed that doing a checkout of classpath does not cause
these tool builders to be run.  Instead, after checkout, the build
results in an error.  If I "Clean" the project, the external builders
are run and the build succeeds.

I would like to be able to check out classpath and have the external
builders run automatically.  I couldn't figure out how to do this.

FWIW this is similar to bug #108534, but I'm not sure it is really the same.

As a user it would be convenient if this were explicitly spelled
out on the "Build Options" tab of the external builder's launch
configuration edit dialog.  For instance, a new checkbox saying
"After a checkout".  But, perhaps this is redundant -- arguably a
fresh checkout should be considered as being like the "post-clean" state.

You can easily see this behavior by checking out classpath:

:ext:anoncvs@subversions.gnu.org:/cvsroot/classpath
(no password needed)
module classpath
For various reasons (legal and firewall) I can't checkout GNU classpath. Can someone attach the .project and .classpath files for the project that is failing to build?
Files are also available through http at:
http://cvs.savannah.gnu.org/viewcvs/classpath/?root=classpath
Do all of the builders fail to run, or only some?  I noticed the builder that runs CreateLocaleData.launch is configured to NOT run during autobuild, so I wouldn't expect that one to build.  This is configured from the Builders property page (click Edit, go to "Build Options" tab).

I also noticed most builders are configured to only run when a resource in a given working set changes.  Darin, how does this work for newly created resources?  When the project is created (via CVS checkout), I assume a builder triggered by a working set would always call for a build?  Perhaps if the build script being called has itself been changed or created, a build should always run?
(In reply to comment #3)
&gt; When the project is created (via CVS checkout), I assume a builder
&gt; triggered by a working set would always call for a build?
Correct

&gt; Perhaps if the build script being called has itself been changed or created, &gt; a build should always run?
The user is in full control to set whether a change in the buildfile triggers a build by choosing whether to include the buildfile in the set of resources that trigger the build on changes.

Sorry Darin, I didn't have my head screwed on right.  Of course when a project is first checked out, the first build is not incremental.  This means there is no delta, so the builder's working set is presumably ignored.

If the following debug flags are added to eclipse/.options, and the "-debug" argument is added to the command line, then all builder activity will be recorded to the console:

org.eclipse.core.resources/debug=true
org.eclipse.core.resources/build/invoking=true

I tried to create a mock copy of the classpath project by grabbing the .project and all external tool builder launch configs from the URL given in comment #2.  When I checked this project out from CVS, the debug statements tell me that all builders ran:

Invoking (FULL_BUILD) on builder: ExternalToolBuilder(zzJohnTest)
Builder finished: ExternalToolBuilder(zzJohnTest) time: 137ms
Invoking (FULL_BUILD) on builder: ExternalToolBuilder(zzJohnTest)
Builder finished: ExternalToolBuilder(zzJohnTest) time: 50ms
Invoking (FULL_BUILD) on builder: ExternalToolBuilder(zzJohnTest)
Builder finished: ExternalToolBuilder(zzJohnTest) time: 135ms
Invoking (FULL_BUILD) on builder: ExternalToolBuilder(zzJohnTest)
Builder finished: ExternalToolBuilder(zzJohnTest) time: 108ms
Invoking (FULL_BUILD) on builder: ExternalToolBuilder(zzJohnTest)
Builder finished: ExternalToolBuilder(zzJohnTest) time: 40ms
Invoking (FULL_BUILD) on builder: JavaBuilder(zzJohnTest)
Builder finished: JavaBuilder(zzJohnTest) time: 3ms
Invoking (FULL_BUILD) on builder: ExternalToolBuilder(zzJohnTest)
Builder finished: ExternalToolBuilder(zzJohnTest) time: 37ms

So, I can't reproduce the problem with this simulated setup.  If someone could perform the checkout with the above debug options enabled and paste the results here, it might give me more clues. Of course, an attached test case that doesn't involve GNU code would also be fantastic...
We have been using the "trigger on checkout" behavior for the Ant Core and Ant UI plugins of the Eclipse development for 2 years plus...so we cannot reproduce the problem either.
I have been unable to reproduce this (cannot access the GNU classpath repository).  Please reopen with either:

 1) Steps to reproduce from scratch, or a sample project attached to the bug that reproduces the problem.
 2) Trace information as requested in comment #5 when checking out the GNU classpath project.
I should add that I'm aware of the pain this causes for GNU Classpath developers (http://developer.classpath.org/mediation/ClasspathHackingWithEclipse), and I'm keen to investigate if I have more details to go on.  It's quite possibly a configuration problem on that particular project, but from inspecting the .project and associated external tool builder files, I can't see the problem.
Here's the output from a fresh checkout of GNU Classpath, from scratch (rm -rf ~/.eclipse, -data new-workspace), following the instructions at

http://developer.classpath.org/mediation/ClasspathHackingWithEclipse

Thu Apr 06 16:25:46 EDT 2006 - [Worker-22] Invoking (FULL_BUILD) on builder: ExternalToolBuilder(classpath)
Thu Apr 06 16:26:22 EDT 2006 - [Worker-22] Builder finished: ExternalToolBuilder(classpath) time: 36029ms
Thu Apr 06 16:26:22 EDT 2006 - [Worker-22] Invoking (FULL_BUILD) on builder: ExternalToolBuilder(classpath)
Thu Apr 06 16:26:53 EDT 2006 - [Worker-22] Builder finished: ExternalToolBuilder(classpath) time: 30839ms
Thu Apr 06 16:26:53 EDT 2006 - [Worker-22] Invoking (FULL_BUILD) on builder: ExternalToolBuilder(classpath)
Thu Apr 06 16:27:03 EDT 2006 - [Worker-22] Builder finished: ExternalToolBuilder(classpath) time: 9428ms
Thu Apr 06 16:27:03 EDT 2006 - [Worker-22] Invoking (FULL_BUILD) on builder: JavaBuilder(classpath)
Thu Apr 06 16:29:03 EDT 2006 - [Worker-22] Builder finished: JavaBuilder(classpath) time: 120411ms
Thu Apr 06 16:29:03 EDT 2006 - [Worker-22] Invoking (FULL_BUILD) on builder: ExternalToolBuilder(classpath)
Thu Apr 06 16:29:05 EDT 2006 - [Worker-22] Builder finished: ExternalToolBuilder(classpath) time: 2379ms
Thu Apr 06 16:29:05 EDT 2006 - [Worker-22] Invoking (FULL_BUILD) on builder: ExternalToolBuilder(classpath)
Thu Apr 06 16:30:18 EDT 2006 - [Worker-22] Builder finished: ExternalToolBuilder(classpath) time: 72898ms
Thu Apr 06 16:30:18 EDT 2006 - [Worker-22] Invoking (FULL_BUILD) on builder: ExternalToolBuilder(classpath)
Thu Apr 06 16:30:18 EDT 2006 - [Worker-22] Builder finished: ExternalToolBuilder(classpath) time: 61ms
Thu Apr 06 16:30:24 EDT 2006 - [Worker-16] Invoking (INCREMENTAL_BUILD) on builder: ExternalToolBuilder(classpath)
Thu Apr 06 16:30:24 EDT 2006 - [Worker-16] Builder finished: ExternalToolBuilder(classpath) time: 216ms
Thu Apr 06 16:30:24 EDT 2006 - [Worker-16] Invoking (INCREMENTAL_BUILD) on builder: ExternalToolBuilder(classpath)
Thu Apr 06 16:30:24 EDT 2006 - [Worker-16] Builder finished: ExternalToolBuilder(classpath) time: 6ms
Thu Apr 06 16:30:24 EDT 2006 - [Worker-16] Invoking (INCREMENTAL_BUILD) on builder: JavaBuilder(classpath)
Thu Apr 06 16:30:24 EDT 2006 - [Worker-16] Builder finished: JavaBuilder(classpath) time: 40ms
Thu Apr 06 16:30:24 EDT 2006 - [Worker-16] Invoking (INCREMENTAL_BUILD) on builder: ExternalToolBuilder(classpath)
Thu Apr 06 16:30:24 EDT 2006 - [Worker-16] Builder finished: ExternalToolBuilder(classpath) time: 29ms

This is running on GCJ.
Thanks for the trace. Reopening for investigation.
Any news here, John?
Unfortunately I was never able to reproduce the problem. 
Build id: N20080117-0010

I was trying to reproduce the issue, but with no luck so far.

I followed the steps from the link developers
http://developer.classpath.org/mediation/ClasspathHackingWithEclipse 

Even if I switch autobuild off and do the clean/build after a checkout, the build results in an error. The same error occurs when autobuild is on during a checkout.

Anyway I can see that the external builder are triggered in both cases.


I can't reproduce it.</WithOutStack>
  </Bug>
  <Bug>
    <BugId amount="111958" />
    <CreationDate amount="2005-10-07 13:46:00 -0400" />
    <DupId amount="" />
    <classification amount="Eclipse" />
    <Product amount="Platform" />
    <component amount="UI" />
    <Version amount="3.1.1" />
    <rep_platform amount="All" />
    <op_sys amount="All" />
    <priority amount="P5" />
    <bug_severity amount="enhancement" />
    <Summery>[WorkbenchParts] Option to "semi-maximize" editors tab group to editors area</Summery>
    <Patches amount="0" />
    <Stacktraces amount="0" />
    <SourceCodeRegions amount="0" />
    <Enumerations amount="0" />
    <bug_status amount="ASSIGNED" />
    <resolution amount="" />
    <WithStack>I typically do Java development using the Java Browsing perspective with two 
side-by-side tab-groups in the editors area.  However, when I switch to other 
perspectives, the editor area changes aspect ratio so as to make my editors 
annoyingly narrow.  Also, I get the same issues when I do a comparison.

Right now my only option is to maximize the tab-group I'm working on, but more 
often I'd prefer to "semi-maximize", enlarging the tab-group only to the size of 
the editor area rather than to the whole window.  I'd love to have this 
option(maybe by holding the shift key when I double-click the tab to maximize?), 
and even have the option to make it the default behaviour when I maximize 
editors.
There are currently no plans to work on this feature.

PW

Changes requested on bug 193523
Also see bug 236716</WithStack>
    <WithOutStack>I typically do Java development using the Java Browsing perspective with two 
side-by-side tab-groups in the editors area.  However, when I switch to other 
perspectives, the editor area changes aspect ratio so as to make my editors 
annoyingly narrow.  Also, I get the same issues when I do a comparison.

Right now my only option is to maximize the tab-group I'm working on, but more 
often I'd prefer to "semi-maximize", enlarging the tab-group only to the size of 
the editor area rather than to the whole window.  I'd love to have this 
option(maybe by holding the shift key when I double-click the tab to maximize?), 
and even have the option to make it the default behaviour when I maximize 
editors.
There are currently no plans to work on this feature.

PW

Changes requested on bug 193523
Also see bug 236716</WithOutStack>
  </Bug>
  <Bug>
    <BugId amount="111959" />
    <CreationDate amount="2005-10-07 13:53:00 -0400" />
    <DupId amount="" />
    <classification amount="Eclipse" />
    <Product amount="Platform" />
    <component amount="UI" />
    <Version amount="3.1.1" />
    <rep_platform amount="PC" />
    <op_sys amount="Windows XP" />
    <priority amount="P3" />
    <bug_severity amount="normal" />
    <Summery>[Viewers] ColorAndFontCollector and getColorAndFontCollector() visibility conflict</Summery>
    <Patches amount="0" />
    <Stacktraces amount="0" />
    <SourceCodeRegions amount="0" />
    <Enumerations amount="0" />
    <bug_status amount="VERIFIED" />
    <resolution amount="FIXED" />
    <WithStack>I'm creating a viewer for a custom table and extending StructuredViewer.  In
StructuredViewer the method getColorAndFontCollector() is protected so I should
be able to access it.  But the return type is ColorAndFontCollector which is
declared as a package level class thus I can't call the method because the
return type isn't visible to viewers outside of the viewers package.
Needs to be fixed for 3.2.
Made the (inner) class ColorAndFontCollector protected.

Fixed &gt;20060213.
[I20060214-0800]

Verfied on Windows XP.

Brad, could you please verify that the change actually fixes your problem? Thanks.
Thanks Boris.  I'll try to get this verified this morning.
This fixed the visibility issues but after looking more closely at the ColorAndFontCollector that is in StructuredViewer it doesn't really help me.  It seems odd that StructuredViewer has references to TableItem and TreeItem.  We're extending StructuredViewer for a viewer for a custom table that has its own items.  Is the expectation that StructuredViewer should only be used for Eclipse widgets?

Anyway your changed fixed the visibility conflict.</WithStack>
    <WithOutStack>I'm creating a viewer for a custom table and extending StructuredViewer.  In
StructuredViewer the method getColorAndFontCollector() is protected so I should
be able to access it.  But the return type is ColorAndFontCollector which is
declared as a package level class thus I can't call the method because the
return type isn't visible to viewers outside of the viewers package.
Needs to be fixed for 3.2.
Made the (inner) class ColorAndFontCollector protected.

Fixed &gt;20060213.
[I20060214-0800]

Verfied on Windows XP.

Brad, could you please verify that the change actually fixes your problem? Thanks.
Thanks Boris.  I'll try to get this verified this morning.
This fixed the visibility issues but after looking more closely at the ColorAndFontCollector that is in StructuredViewer it doesn't really help me.  It seems odd that StructuredViewer has references to TableItem and TreeItem.  We're extending StructuredViewer for a viewer for a custom table that has its own items.  Is the expectation that StructuredViewer should only be used for Eclipse widgets?

Anyway your changed fixed the visibility conflict.</WithOutStack>
  </Bug>
  <Bug>
    <BugId amount="111960" />
    <CreationDate amount="2005-10-07 13:53:00 -0400" />
    <DupId amount="" />
    <classification amount="Modeling" />
    <Product amount="GMF-Runtime" />
    <component amount="General" />
    <Version amount="1.0" />
    <rep_platform amount="PC" />
    <op_sys amount="Windows XP" />
    <priority amount="P1" />
    <bug_severity amount="enhancement" />
    <Summery>Difficult to discover how to change grid spacing</Summery>
    <Patches amount="0" />
    <Stacktraces amount="0" />
    <SourceCodeRegions amount="0" />
    <Enumerations amount="1">
      <Enumeration lines="9">
        <Lines>
          <Line>- grid visibility</Line>
          <Line>- ruler visibility</Line>
          <Line>- grid order</Line>
          <Line>- ruler units</Line>
          <Line>- grid spacing ***</Line>
          <Line>- snap to grid</Line>
          <Line>- grid line color</Line>
          <Line>- grid line style</Line>
          <Line>as well as restoring defaults.</Line>
        </Lines>
      </Enumeration>
    </Enumerations>
    <bug_status amount="RESOLVED" />
    <resolution amount="FIXED" />
    <WithStack>Should be on right-click menu with other grid options...pop up a dialog type 
of thing.
I think this could be resolved now with the addition of the properties grid tab...
The ruler and grid property section now allows the user to specify:
- grid visibility
- ruler visibility
- grid order
- ruler units
- grid spacing ***
- snap to grid
- grid line color
- grid line style
as well as restoring defaults.

[target cleanup] 1.0 M4 was the original target milestone for this bug
[GMF Restructure] Bug 319140 : product GMF and component
Runtime Diagram was the original product and component for this bug</WithStack>
    <WithOutStack>Should be on right-click menu with other grid options...pop up a dialog type 
of thing.
I think this could be resolved now with the addition of the properties grid tab...
The ruler and grid property section now allows the user to specify:
- grid visibility
- ruler visibility
- grid order
- ruler units
- grid spacing ***
- snap to grid
- grid line color
- grid line style
as well as restoring defaults.

[target cleanup] 1.0 M4 was the original target milestone for this bug
[GMF Restructure] Bug 319140 : product GMF and component
Runtime Diagram was the original product and component for this bug</WithOutStack>
  </Bug>
  <Bug>
    <BugId amount="111961" />
    <CreationDate amount="2005-10-07 13:55:00 -0400" />
    <DupId amount="" />
    <classification amount="Modeling" />
    <Product amount="GMF-Tooling" />
    <component amount="Core" />
    <Version amount="1.0" />
    <rep_platform amount="All" />
    <op_sys amount="All" />
    <priority amount="P3" />
    <bug_severity amount="normal" />
    <Summery>EMFT example references need to be removed</Summery>
    <Patches amount="0" />
    <Stacktraces amount="0" />
    <SourceCodeRegions amount="0" />
    <Enumerations amount="0" />
    <bug_status amount="RESOLVED" />
    <resolution amount="FIXED" />
    <WithStack>The org.eclipse.gmf.examples.runtime.ui.pde plug-in contains references and code
related to EMFT examples, in addition to the GMF examples.  Specifically, EMF
OCL Interpreter, EMF OCL Query, EMF OCL Validation, EMF Query Statements, EMF
Validation, and EMF Validation Adapter.
Removed the references examples in the plug-in.
[target cleanup] 1.0 RC was the original target milestone for this bug
[GMF Restructure] Bug 319140 : product GMF and component
Samples was the original product and component for this bug</WithStack>
    <WithOutStack>The org.eclipse.gmf.examples.runtime.ui.pde plug-in contains references and code
related to EMFT examples, in addition to the GMF examples.  Specifically, EMF
OCL Interpreter, EMF OCL Query, EMF OCL Validation, EMF Query Statements, EMF
Validation, and EMF Validation Adapter.
Removed the references examples in the plug-in.
[target cleanup] 1.0 RC was the original target milestone for this bug
[GMF Restructure] Bug 319140 : product GMF and component
Samples was the original product and component for this bug</WithOutStack>
  </Bug>
  <Bug>
    <BugId amount="111962" />
    <CreationDate amount="2005-10-07 13:58:00 -0400" />
    <DupId amount="" />
    <classification amount="Eclipse" />
    <Product amount="Platform" />
    <component amount="UI" />
    <Version amount="3.1.1" />
    <rep_platform amount="All" />
    <op_sys amount="All" />
    <priority amount="P3" />
    <bug_severity amount="normal" />
    <Summery>[WorkbenchLauncher] Workspace Launcher's fonts are hard-coded</Summery>
    <Patches amount="0" />
    <Stacktraces amount="0" />
    <SourceCodeRegions amount="0" />
    <Enumerations amount="1">
      <Enumeration lines="13">
        <Lines>
          <Line>- change the General&gt;Appearance&gt;Colors and Fonts&gt;Basic&gt;Dialog Font preference</Line>
          <Line>to italic</Line>
          <Line>- exit and restart Eclipse</Line>
          <Line>- the description "Eclipse SDK stores your projects..." is not in italic</Line>
          <Line>Color and font preferences are stored in the workspace preferences, not in the configuration preferences.</Line>
          <Line>There's no way we can access them before a workspace is chosen.</Line>
          <Line>Are you running another language on an English machine or on a machine that has</Line>
          <Line>the OS installed in that other language?  I just tried running on a Chinese XP</Line>
          <Line>machine and the font seems reasonable for Chinese.</Line>
          <Line>Created attachment 28045</Line>
          <Line>launcher on Chinese XP machine</Line>
          <Line>&gt; Note that a similar Workspace Launcher (from File&gt;Switch Workspace...) does</Line>
          <Line>&gt; not have hard-coded fonts.</Line>
        </Lines>
      </Enumeration>
    </Enumerations>
    <bug_status amount="NEW" />
    <resolution amount="" />
    <WithStack>The Workspace Launcher that prompts user to select the workspace when starting 
Eclipse has hard-coded fonts.

That may not be very harmful on English platform. But for national languages 
(especially DBCS languages), if the default fonts are not setup right, 
characters do not display (for example, the default fonts on Mac OS X are not 
setup right, a separate bug will be opened later). Changing the fonts in 
perferences does not fix the problem on this dialog.

Note that a similar Workspace Launcher (from File&gt;Switch Workspace...) does 
not have hard-coded fonts.

Testcase:
- change the General&gt;Appearance&gt;Colors and Fonts&gt;Basic&gt;Dialog Font preference 
to italic
- exit and restart Eclipse
- the description "Eclipse SDK stores your projects..." is not in italic
Color and font preferences are stored in the workspace preferences, not in the configuration preferences.  
There's no way we can access them before a workspace is chosen.
Are you running another language on an English machine or on a machine that has 
the OS installed in that other language?  I just tried running on a Chinese XP 
machine and the font seems reasonable for Chinese.
Created attachment 28045
launcher on Chinese XP machine
&gt; Note that a similar Workspace Launcher (from File&gt;Switch Workspace...) does 
&gt; not have hard-coded fonts.

This is actually the same code for both dialogs. Just as Kim already wrote, the
problem is that we cannot access the user's preferences at that time because the
preferences are stored with the workspace.

If the default font does not work, then that's a bug that we should (and
probably could) fix.
The Workspace Launcher dialog displays okay on Windows XP (even with DBCS like 
Chinese). You only see the display problem on Mac OS X 10 (see 
https://bugs.eclipse.org/bugs/show_bug.cgi?id=111973).

The concern here is that even when bug 111973 is fixed (by choosing the 
correct default dialog font on Mac OS X), this dialog still will not display 
the characters in the description properly because the wrong font is hard-
coded.

Another situation is for visually impaired people, if they want to set all 
fonts to big fonts, this dialog does not change.
Reassigning bugs to reflect changes in ownership.
Prakash is now responsible for watching bugs in the [WorkbenchLauncher] component area.</WithStack>
    <WithOutStack>The Workspace Launcher that prompts user to select the workspace when starting 
Eclipse has hard-coded fonts.

That may not be very harmful on English platform. But for national languages 
(especially DBCS languages), if the default fonts are not setup right, 
characters do not display (for example, the default fonts on Mac OS X are not 
setup right, a separate bug will be opened later). Changing the fonts in 
perferences does not fix the problem on this dialog.

Note that a similar Workspace Launcher (from File&gt;Switch Workspace...) does 
not have hard-coded fonts.

Testcase:
- change the General&gt;Appearance&gt;Colors and Fonts&gt;Basic&gt;Dialog Font preference 
to italic
- exit and restart Eclipse
- the description "Eclipse SDK stores your projects..." is not in italic
Color and font preferences are stored in the workspace preferences, not in the configuration preferences.  
There's no way we can access them before a workspace is chosen.
Are you running another language on an English machine or on a machine that has 
the OS installed in that other language?  I just tried running on a Chinese XP 
machine and the font seems reasonable for Chinese.
Created attachment 28045
launcher on Chinese XP machine
&gt; Note that a similar Workspace Launcher (from File&gt;Switch Workspace...) does 
&gt; not have hard-coded fonts.

This is actually the same code for both dialogs. Just as Kim already wrote, the
problem is that we cannot access the user's preferences at that time because the
preferences are stored with the workspace.

If the default font does not work, then that's a bug that we should (and
probably could) fix.
The Workspace Launcher dialog displays okay on Windows XP (even with DBCS like 
Chinese). You only see the display problem on Mac OS X 10 (see 
https://bugs.eclipse.org/bugs/show_bug.cgi?id=111973).

The concern here is that even when bug 111973 is fixed (by choosing the 
correct default dialog font on Mac OS X), this dialog still will not display 
the characters in the description properly because the wrong font is hard-
coded.

Another situation is for visually impaired people, if they want to set all 
fonts to big fonts, this dialog does not change.
Reassigning bugs to reflect changes in ownership.
Prakash is now responsible for watching bugs in the [WorkbenchLauncher] component area.</WithOutStack>
  </Bug>
  <Bug>
    <BugId amount="111963" />
    <CreationDate amount="2005-10-07 13:58:00 -0400" />
    <DupId amount="" />
    <classification amount="Eclipse" />
    <Product amount="Platform" />
    <component amount="CVS" />
    <Version amount="3.2" />
    <rep_platform amount="PC" />
    <op_sys amount="Windows XP" />
    <priority amount="P3" />
    <bug_severity amount="trivial" />
    <Summery>Connection timeout should say it's in seconds</Summery>
    <Patches amount="0" />
    <Stacktraces amount="0" />
    <SourceCodeRegions amount="0" />
    <Enumerations amount="0" />
    <bug_status amount="VERIFIED" />
    <resolution amount="FIXED" />
    <WithStack>I20051004-0800

Preferences &gt; Team &gt; CVS &gt; Connection:
There's a field "Connetion timeout", but it doesn't tell what time unit is used.

I'd rename it to "Connetion timeout (s)" or something like that.
Fixed
Verified</WithStack>
    <WithOutStack>I20051004-0800

Preferences &gt; Team &gt; CVS &gt; Connection:
There's a field "Connetion timeout", but it doesn't tell what time unit is used.

I'd rename it to "Connetion timeout (s)" or something like that.
Fixed
Verified</WithOutStack>
  </Bug>
  <Bug>
    <BugId amount="111964" />
    <CreationDate amount="2005-10-07 14:09:00 -0400" />
    <DupId amount="" />
    <classification amount="WebTools" />
    <Product amount="WTP Common Tools" />
    <component amount="wst.internet" />
    <Version amount="unspecified" />
    <rep_platform amount="PC" />
    <op_sys amount="Windows XP" />
    <priority amount="P3" />
    <bug_severity amount="normal" />
    <Summery>Cache (and cache related preferences) should be configuration scoped.</Summery>
    <Patches amount="0" />
    <Stacktraces amount="0" />
    <SourceCodeRegions amount="0" />
    <Enumerations amount="0" />
    <bug_status amount="RESOLVED" />
    <resolution amount="WONTFIX" />
    <WithStack>The cache of URL's (and prefernces related to them, e.g. for licenes prompting) 
should be "configuration scoped", not 'instance' (or workspace) scoped. 

To "see in action", use a new workspace, create a dyncmic web project. 
You'll be prompted to cache a j2ee schema. 

Then switch to another, new workspace (using same "install" with -data option,
or use the "switch workspace" menu choice). Then create a dynamic web project
again. 
You will (again) be (re)prompted to cache the j2ee schema. Not only does this
double prompt seem unnecessary, the "multiple caches" seems to defeat part of
the purpose of the cache (user has to have conneciton, and go through
performance hit, just because they want to start a new workspace). 

See
http://help.eclipse.org/help31/index.jsp?topic=/org.eclipse.platform.doc.isv/guide/runtime_preferences.htm
for help info.
Peter Moogk is taking over responsibility of org.eclipse.wst.internet.cache from Lawrence.
Currently there are no plans to fix this defect.</WithStack>
    <WithOutStack>The cache of URL's (and prefernces related to them, e.g. for licenes prompting) 
should be "configuration scoped", not 'instance' (or workspace) scoped. 

To "see in action", use a new workspace, create a dyncmic web project. 
You'll be prompted to cache a j2ee schema. 

Then switch to another, new workspace (using same "install" with -data option,
or use the "switch workspace" menu choice). Then create a dynamic web project
again. 
You will (again) be (re)prompted to cache the j2ee schema. Not only does this
double prompt seem unnecessary, the "multiple caches" seems to defeat part of
the purpose of the cache (user has to have conneciton, and go through
performance hit, just because they want to start a new workspace). 

See
http://help.eclipse.org/help31/index.jsp?topic=/org.eclipse.platform.doc.isv/guide/runtime_preferences.htm
for help info.
Peter Moogk is taking over responsibility of org.eclipse.wst.internet.cache from Lawrence.
Currently there are no plans to fix this defect.</WithOutStack>
  </Bug>
  <Bug>
    <BugId amount="111965" />
    <CreationDate amount="2005-10-07 14:14:00 -0400" />
    <DupId amount="" />
    <classification amount="RT" />
    <Product amount="Equinox" />
    <component amount="Compendium" />
    <Version amount="3.2" />
    <rep_platform amount="PC" />
    <op_sys amount="Windows XP" />
    <priority amount="P3" />
    <bug_severity amount="normal" />
    <Summery>startup.jar needs to create a classloader to load osgi</Summery>
    <Patches amount="0" />
    <Stacktraces amount="0" />
    <SourceCodeRegions amount="0" />
    <Enumerations amount="0" />
    <bug_status amount="RESOLVED" />
    <resolution amount="WONTFIX" />
    <WithStack>In 3.1, when startup.jar and osgi are signed, we can observe a non negligible
hit on the startup time because the URL classloader is doing some level of
verification.

In order to work around that, startup.jar could load osgi with a special
classloader that would ignore the signature. However we would still need to have
an option where the initial code path can be used.
We may be able to create a URLClassLoader with a special 
URLStreamHandlerFactory which can create jar: URLs for us that do no 
verifications.  Look at the following URLClassLoader constructor.

    public URLClassLoader(URL[] urls, ClassLoader parent,
			  URLStreamHandlerFactory factory)
The URLStreamHandlerFactory will not help us out here :(

The problem is the URLClassLoader assumes all URLs which do not end in '/' are jar URLs.  If the URL does not use the file protocol then it downloads the content (not sure where) and then opens the jar file using the JarFile class.  So even if we use our own URLStreamHandlerFactory to intercept file urls the URLClassLoader will still just open the content of the URL with JarFile.  The URLClassLoader constructs JarFile objects using the JarFile(String) which forces verification to occur.  AFAIK there is no way to disable this by extending the URLClassLoader class.

Our only option at this point seems to be to implement our own ClassLoader from scratch to load the framework and its extensions.  At this point I'm not sure how feasible this is.  We would have to implement proper codesource setting, the addURL method ...
A lot of infrastructure would have to be put in place to suppor this. We decided to go with the performance degradation for now.</WithStack>
    <WithOutStack>In 3.1, when startup.jar and osgi are signed, we can observe a non negligible
hit on the startup time because the URL classloader is doing some level of
verification.

In order to work around that, startup.jar could load osgi with a special
classloader that would ignore the signature. However we would still need to have
an option where the initial code path can be used.
We may be able to create a URLClassLoader with a special 
URLStreamHandlerFactory which can create jar: URLs for us that do no 
verifications.  Look at the following URLClassLoader constructor.

    public URLClassLoader(URL[] urls, ClassLoader parent,
			  URLStreamHandlerFactory factory)
The URLStreamHandlerFactory will not help us out here :(

The problem is the URLClassLoader assumes all URLs which do not end in '/' are jar URLs.  If the URL does not use the file protocol then it downloads the content (not sure where) and then opens the jar file using the JarFile class.  So even if we use our own URLStreamHandlerFactory to intercept file urls the URLClassLoader will still just open the content of the URL with JarFile.  The URLClassLoader constructs JarFile objects using the JarFile(String) which forces verification to occur.  AFAIK there is no way to disable this by extending the URLClassLoader class.

Our only option at this point seems to be to implement our own ClassLoader from scratch to load the framework and its extensions.  At this point I'm not sure how feasible this is.  We would have to implement proper codesource setting, the addURL method ...
A lot of infrastructure would have to be put in place to suppor this. We decided to go with the performance degradation for now.</WithOutStack>
  </Bug>
  <Bug>
    <BugId amount="111966" />
    <CreationDate amount="2005-10-07 14:15:00 -0400" />
    <DupId amount="" />
    <classification amount="Eclipse Foundation" />
    <Product amount="Community" />
    <component amount="CVS" />
    <Version amount="unspecified" />
    <rep_platform amount="PC" />
    <op_sys amount="Windows XP" />
    <priority amount="P3" />
    <bug_severity amount="major" />
    <Summery>pserver connection times out on synchronize with a deleted file</Summery>
    <Patches amount="0" />
    <Stacktraces amount="3">
      <Stacktrace timestamp="1437330586282">
        <Exception>java.io.InterruptedIOException</Exception>
        <Reason>Timeout while reading from input stream</Reason>
        <Frames>
          <Frame depth="0">org.eclipse.team.internal.core.streams.PollingInputStream.read(PollingInputStream.java:125)</Frame>
          <Frame depth="1">java.io.BufferedInputStream.fill(BufferedInputStream.java:218)</Frame>
          <Frame depth="2">java.io.BufferedInputStream.read(BufferedInputStream.java:235)</Frame>
          <Frame depth="3">org.eclipse.team.internal.ccvs.core.connection.Connection.readLine(Connection.java:144)</Frame>
          <Frame depth="4">org.eclipse.team.internal.ccvs.core.client.Session.readLine(Session.java:293)</Frame>
          <Frame depth="5">org.eclipse.team.internal.ccvs.core.client.Request.executeRequest(Request.java:142)</Frame>
          <Frame depth="6">org.eclipse.team.internal.ccvs.core.client.Command.doExecute(Command.java:404)</Frame>
          <Frame depth="7">org.eclipse.team.internal.ccvs.core.client.Update.doExecute(Update.java:187)</Frame>
          <Frame depth="8">org.eclipse.team.internal.ccvs.core.client.Command$1.run(Command.java:323)</Frame>
          <Frame depth="9">org.eclipse.team.internal.ccvs.core.client.Command.execute(Command.java:337)</Frame>
          <Frame depth="10">org.eclipse.team.internal.ccvs.core.resources.RemoteFolderTreeBuilder.fetchDelta(RemoteFolderTreeBuilder.java:618)</Frame>
          <Frame depth="11">org.eclipse.team.internal.ccvs.core.resources.RemoteFolderTreeBuilder.fetchDelta(RemoteFolderTreeBuilder.java:191)</Frame>
          <Frame depth="12">org.eclipse.team.internal.ccvs.core.resources.RemoteFolderTreeBuilder.buildTree(RemoteFolderTreeBuilder.java:156)</Frame>
          <Frame depth="13">org.eclipse.team.internal.ccvs.core.resources.RemoteFolderTreeBuilder.buildRemoteTree(RemoteFolderTreeBuilder.java:139)</Frame>
          <Frame depth="14">org.eclipse.team.internal.ccvs.core.resources.CVSWorkspaceRoot.getRemoteTree(CVSWorkspaceRoot.java:180)</Frame>
          <Frame depth="15">org.eclipse.team.internal.ccvs.core.syncinfo.CVSResourceVariantTree.fetchVariant(CVSResourceVariantTree.java:80)</Frame>
          <Frame depth="16">org.eclipse.team.core.variants.AbstractResourceVariantTree.refresh(AbstractResourceVariantTree.java:86)</Frame>
          <Frame depth="17">org.eclipse.team.internal.ccvs.core.syncinfo.CVSResourceVariantTree.refresh(CVSResourceVariantTree.java:327)</Frame>
          <Frame depth="18">org.eclipse.team.core.variants.AbstractResourceVariantTree.refresh(AbstractResourceVariantTree.java:55)</Frame>
          <Frame depth="19">org.eclipse.team.core.variants.ResourceVariantTreeSubscriber.refresh(ResourceVariantTreeSubscriber.java:160)</Frame>
          <Frame depth="20">org.eclipse.team.core.variants.ResourceVariantTreeSubscriber.refresh(ResourceVariantTreeSubscriber.java:125)</Frame>
          <Frame depth="21">org.eclipse.team.internal.ui.synchronize.RefreshSubscriberJob.run(RefreshSubscriberJob.java:341)</Frame>
          <Frame depth="22">org.eclipse.core.internal.jobs.Worker.run(Worker.java:76)</Frame>
        </Frames>
      </Stacktrace>
      <Stacktrace timestamp="1437330586282">
        <Exception>java.io.InterruptedIOException</Exception>
        <Reason>Timeout while reading from input stream</Reason>
        <Frames>
          <Frame depth="0">org.eclipse.team.internal.core.streams.PollingInputStream.read(PollingInputStream.java:125)</Frame>
          <Frame depth="1">java.io.BufferedInputStream.fill(BufferedInputStream.java:218)</Frame>
          <Frame depth="2">java.io.BufferedInputStream.read(BufferedInputStream.java:235)</Frame>
          <Frame depth="3">org.eclipse.team.internal.ccvs.core.connection.Connection.readLine(Connection.java:144)</Frame>
          <Frame depth="4">org.eclipse.team.internal.ccvs.core.client.Session.readLine(Session.java:293)</Frame>
          <Frame depth="5">org.eclipse.team.internal.ccvs.core.client.Request.executeRequest(Request.java:142)</Frame>
          <Frame depth="6">org.eclipse.team.internal.ccvs.core.client.Command.doExecute(Command.java:404)</Frame>
          <Frame depth="7">org.eclipse.team.internal.ccvs.core.client.Update.doExecute(Update.java:187)</Frame>
          <Frame depth="8">org.eclipse.team.internal.ccvs.core.client.Command$1.run(Command.java:323)</Frame>
          <Frame depth="9">org.eclipse.team.internal.ccvs.core.client.Command.execute(Command.java:337)</Frame>
          <Frame depth="10">org.eclipse.team.internal.ccvs.core.resources.RemoteFolderTreeBuilder.fetchDelta(RemoteFolderTreeBuilder.java:618)</Frame>
          <Frame depth="11">org.eclipse.team.internal.ccvs.core.resources.RemoteFolderTreeBuilder.fetchDelta(RemoteFolderTreeBuilder.java:191)</Frame>
          <Frame depth="12">org.eclipse.team.internal.ccvs.core.resources.RemoteFolderTreeBuilder.buildTree(RemoteFolderTreeBuilder.java:156)</Frame>
          <Frame depth="13">org.eclipse.team.internal.ccvs.core.resources.RemoteFolderTreeBuilder.buildRemoteTree(RemoteFolderTreeBuilder.java:139)</Frame>
          <Frame depth="14">org.eclipse.team.internal.ccvs.core.resources.CVSWorkspaceRoot.getRemoteTree(CVSWorkspaceRoot.java:180)</Frame>
          <Frame depth="15">org.eclipse.team.internal.ccvs.core.syncinfo.CVSResourceVariantTree.fetchVariant(CVSResourceVariantTree.java:80)</Frame>
          <Frame depth="16">org.eclipse.team.core.variants.AbstractResourceVariantTree.refresh(AbstractResourceVariantTree.java:86)</Frame>
          <Frame depth="17">org.eclipse.team.internal.ccvs.core.syncinfo.CVSResourceVariantTree.refresh(CVSResourceVariantTree.java:327)</Frame>
          <Frame depth="18">org.eclipse.team.core.variants.AbstractResourceVariantTree.refresh(AbstractResourceVariantTree.java:55)</Frame>
          <Frame depth="19">org.eclipse.team.core.variants.ResourceVariantTreeSubscriber.refresh(ResourceVariantTreeSubscriber.java:160)</Frame>
          <Frame depth="20">org.eclipse.team.core.variants.ResourceVariantTreeSubscriber.refresh(ResourceVariantTreeSubscriber.java:125)</Frame>
          <Frame depth="21">org.eclipse.team.internal.ui.synchronize.RefreshSubscriberJob.run(RefreshSubscriberJob.java:341)</Frame>
          <Frame depth="22">org.eclipse.core.internal.jobs.Worker.run(Worker.java:76)</Frame>
        </Frames>
      </Stacktrace>
      <Stacktrace timestamp="1437330586282">
        <Exception>java.net.SocketException</Exception>
        <Reason>Operation timed out: connect:could be due to invalid 
address</Reason>
        <Frames>
          <Frame depth="0">java.net.PlainSocketImpl.socketConnect(Native Method)</Frame>
          <Frame depth="1">java.net.PlainSocketImpl.doConnect(PlainSocketImpl.java:336)</Frame>
          <Frame depth="2">java.net.PlainSocketImpl.connectToAddress(PlainSocketImpl.java:201)</Frame>
          <Frame depth="3">java.net.PlainSocketImpl.connect(PlainSocketImpl.java:188)</Frame>
          <Frame depth="4">java.net.Socket.connect(Socket.java:478)</Frame>
          <Frame depth="5">java.net.Socket.connect(Socket.java:428)</Frame>
          <Frame depth="6">java.net.Socket.&lt;init&gt;(Socket.java:335)</Frame>
          <Frame depth="7">java.net.Socket.&lt;init&gt;(Socket.java:150)</Frame>
          <Frame depth="8">org.eclipse.team.internal.ccvs.core.util.Util$1.run(Util.java:181)</Frame>
          <Frame depth="9">java.lang.Thread.run(Thread.java:816)</Frame>
        </Frames>
      </Stacktrace>
    </Stacktraces>
    <SourceCodeRegions amount="0" />
    <Enumerations amount="1">
      <Enumeration lines="3">
        <Lines>
          <Line>- create CVS connection :pserver:anonymous@dev.eclipse.org:/cvsroot/eclipse</Line>
          <Line>- check out org.eclipse.core.expressions</Line>
          <Line>=&gt; synchronizes without any problems</Line>
        </Lines>
      </Enumeration>
    </Enumerations>
    <bug_status amount="RESOLVED" />
    <resolution amount="WORKSFORME" />
    <WithStack>I20051004-0800

- create CVS connection :pserver:anonymous@dev.eclipse.org:/cvsroot/eclipse
- check out org.eclipse.core.expressions
=&gt; synchronizes without any problems

- delete file org.eclipse.core.expressions/ElementHandler.java
=&gt; synchronizing the project results in the timeout below. This prevents out
co-op from submitting patches :-(. Replacing the whole package from HEAD
restores normal operation.

Please move to Community/CVS if you think that's an issue with the
dev.eclipse.org CVS server.

Log:

!ENTRY org.eclipse.team.core 4 0 2005-10-07 19:57:20.571
!MESSAGE Problems reported while synchronizing CVS Workspace. 0 of 1 resources
were synchronized.
!SUBENTRY 1 org.eclipse.team.core 4 0 2005-10-07 19:57:20.571
!MESSAGE An error occurred synchronizing /org.eclipse.core.expressions: I/O has
been interrupted.
!STACK 1
org.eclipse.team.internal.ccvs.core.connection.CVSCommunicationException[0]:
java.io.InterruptedIOException: Timeout while reading from input stream
        at
org.eclipse.team.internal.core.streams.PollingInputStream.read(PollingInputStream.java:125)
        at java.io.BufferedInputStream.fill(BufferedInputStream.java:218)
        at java.io.BufferedInputStream.read(BufferedInputStream.java:235)
        at
org.eclipse.team.internal.ccvs.core.connection.Connection.readLine(Connection.java:144)
        at
org.eclipse.team.internal.ccvs.core.client.Session.readLine(Session.java:293)
        at
org.eclipse.team.internal.ccvs.core.client.Request.executeRequest(Request.java:142)
        at
org.eclipse.team.internal.ccvs.core.client.Command.doExecute(Command.java:404)
        at
org.eclipse.team.internal.ccvs.core.client.Update.doExecute(Update.java:187)
        at
org.eclipse.team.internal.ccvs.core.client.Command$1.run(Command.java:323)
        at
org.eclipse.team.internal.ccvs.core.client.Command.execute(Command.java:337)
        at
org.eclipse.team.internal.ccvs.core.resources.RemoteFolderTreeBuilder.fetchDelta(RemoteFolderTreeBuilder.java:618)
        at
org.eclipse.team.internal.ccvs.core.resources.RemoteFolderTreeBuilder.fetchDelta(RemoteFolderTreeBuilder.java:191)
        at
org.eclipse.team.internal.ccvs.core.resources.RemoteFolderTreeBuilder.buildTree(RemoteFolderTreeBuilder.java:156)
        at
org.eclipse.team.internal.ccvs.core.resources.RemoteFolderTreeBuilder.buildRemoteTree(RemoteFolderTreeBuilder.java:139)
        at
org.eclipse.team.internal.ccvs.core.resources.CVSWorkspaceRoot.getRemoteTree(CVSWorkspaceRoot.java:180)
        at
org.eclipse.team.internal.ccvs.core.syncinfo.CVSResourceVariantTree.fetchVariant(CVSResourceVariantTree.java:80)
        at
org.eclipse.team.core.variants.AbstractResourceVariantTree.refresh(AbstractResourceVariantTree.java:86)
        at
org.eclipse.team.internal.ccvs.core.syncinfo.CVSResourceVariantTree.refresh(CVSResourceVariantTree.java:327)
        at
org.eclipse.team.core.variants.AbstractResourceVariantTree.refresh(AbstractResourceVariantTree.java:55)
        at
org.eclipse.team.core.variants.ResourceVariantTreeSubscriber.refresh(ResourceVariantTreeSubscriber.java:160)
        at
org.eclipse.team.core.variants.ResourceVariantTreeSubscriber.refresh(ResourceVariantTreeSubscriber.java:125)
        at
org.eclipse.team.internal.ui.synchronize.RefreshSubscriberJob.run(RefreshSubscriberJob.java:341)
        at org.eclipse.core.internal.jobs.Worker.run(Worker.java:76)
!SUBENTRY 2 org.eclipse.team.cvs.core 4 0 2005-10-07 19:57:20.587
!MESSAGE I/O has been interrupted.
!STACK 0
java.io.InterruptedIOException: Timeout while reading from input stream
        at
org.eclipse.team.internal.core.streams.PollingInputStream.read(PollingInputStream.java:125)
        at java.io.BufferedInputStream.fill(BufferedInputStream.java:218)
        at java.io.BufferedInputStream.read(BufferedInputStream.java:235)
        at
org.eclipse.team.internal.ccvs.core.connection.Connection.readLine(Connection.java:144)
        at
org.eclipse.team.internal.ccvs.core.client.Session.readLine(Session.java:293)
        at
org.eclipse.team.internal.ccvs.core.client.Request.executeRequest(Request.java:142)
        at
org.eclipse.team.internal.ccvs.core.client.Command.doExecute(Command.java:404)
        at
org.eclipse.team.internal.ccvs.core.client.Update.doExecute(Update.java:187)
        at
org.eclipse.team.internal.ccvs.core.client.Command$1.run(Command.java:323)
        at
org.eclipse.team.internal.ccvs.core.client.Command.execute(Command.java:337)
        at
org.eclipse.team.internal.ccvs.core.resources.RemoteFolderTreeBuilder.fetchDelta(RemoteFolderTreeBuilder.java:618)
        at
org.eclipse.team.internal.ccvs.core.resources.RemoteFolderTreeBuilder.fetchDelta(RemoteFolderTreeBuilder.java:191)
        at
org.eclipse.team.internal.ccvs.core.resources.RemoteFolderTreeBuilder.buildTree(RemoteFolderTreeBuilder.java:156)
        at
org.eclipse.team.internal.ccvs.core.resources.RemoteFolderTreeBuilder.buildRemoteTree(RemoteFolderTreeBuilder.java:139)
        at
org.eclipse.team.internal.ccvs.core.resources.CVSWorkspaceRoot.getRemoteTree(CVSWorkspaceRoot.java:180)
        at
org.eclipse.team.internal.ccvs.core.syncinfo.CVSResourceVariantTree.fetchVariant(CVSResourceVariantTree.java:80)
        at
org.eclipse.team.core.variants.AbstractResourceVariantTree.refresh(AbstractResourceVariantTree.java:86)
        at
org.eclipse.team.internal.ccvs.core.syncinfo.CVSResourceVariantTree.refresh(CVSResourceVariantTree.java:327)
        at
org.eclipse.team.core.variants.AbstractResourceVariantTree.refresh(AbstractResourceVariantTree.java:55)
        at
org.eclipse.team.core.variants.ResourceVariantTreeSubscriber.refresh(ResourceVariantTreeSubscriber.java:160)
        at
org.eclipse.team.core.variants.ResourceVariantTreeSubscriber.refresh(ResourceVariantTreeSubscriber.java:125)
        at
org.eclipse.team.internal.ui.synchronize.RefreshSubscriberJob.run(RefreshSubscriberJob.java:341)
        at org.eclipse.core.internal.jobs.Worker.run(Worker.java:76)
!SUBENTRY 3 org.eclipse.team.cvs.core 4 4 2005-10-07 19:57:20.618
!MESSAGE The most likely cause of the interrupt is either an intermittent
network failure or a communications timeout.
!SUBENTRY 3 org.eclipse.team.cvs.core 4 4 2005-10-07 19:57:20.618
!MESSAGE The CVS communications timeout can be adjusted in the Team/CVS preferences.
!SUBENTRY 3 org.eclipse.team.cvs.core 4 4 2005-10-07 19:57:20.618
!MESSAGE Another possible cause is the improper configuration of the "ext"
connection method.
!SUBENTRY 3 org.eclipse.team.cvs.core 4 4 2005-10-07 19:57:20.634
!MESSAGE The "ext" connection method can be configured on the Team/CVS/EXT
Connection Method preference page
Did you increase the CVS timeout to see if that helped?
Yes, we increased it to 600s, but the problem remained the same (timeout
exception after waiting for 10 minutes). With the same connection, I don't have
problems with changed or added files - only deletions seem to cause harm.

I also tried it with eclipse 3.0.2 and got the same problem. I guess this
problem now occurs because of a new CVS server version.
It worked for me the first time I tried it but the second time I got a 
different timeout (below). The third time, it worked again. Moving to 
Community/CVS as this does not appear to be an Eclipse problem:

org.eclipse.team.internal.ccvs.core.connection.CVSCommunicationException[-6]: 
java.net.SocketException: Operation timed out: connect:could be due to invalid 
address
at java.net.PlainSocketImpl.socketConnect(Native Method)
at java.net.PlainSocketImpl.doConnect(PlainSocketImpl.java:336)
at java.net.PlainSocketImpl.connectToAddress(PlainSocketImpl.java:201)
at java.net.PlainSocketImpl.connect(PlainSocketImpl.java:188)
at java.net.Socket.connect(Socket.java:478)
at java.net.Socket.connect(Socket.java:428)
at java.net.Socket.&lt;init&gt;(Socket.java:335)
at java.net.Socket.&lt;init&gt;(Socket.java:150)
at org.eclipse.team.internal.ccvs.core.util.Util$1.run(Util.java:181)
at java.lang.Thread.run(Thread.java:816)

I tested this from my home cable connection, and can't reproduce.

I set up pserver connection as explained, checked out
org.eclipse.core.expressions, deleted
org.eclipse.core.expressions/ElementHandler.java and Synchronize with repository
worked fine about 10 times in a row.

I then introduced a 2-minute delay, re-Sync and all was well.  I then Override
and Update to refetch the deleted file, deleted it again, waited 10 minutes,
Sync with repo.  Worked fine.

Closing as worksforme.  As per bug 113351, we were having intermittent CVS
issues with some of the nodes, and those were solved recently.  Feel free to
reopen if this problem persists.

D.
Reopening. We still or again have the same problem. I'm not sure whether it worked at any point in time, since most of the patches we make don't delete files.

I verified with the link on the committers page that our DNS should be OK:
"Your DNS seems okay! Thanks!"
The IP address given there is not the address in our local LAN, but I don't think that should be a problem here.
Despite my best efforts, I can't reproduce this.  I even tried on a 28.8 modem (!!!)

Sorry guys, if I can't reproduce it, I'm powerless.

D.</WithStack>
    <WithOutStack>I20051004-0800

- create CVS connection :pserver:anonymous@dev.eclipse.org:/cvsroot/eclipse
- check out org.eclipse.core.expressions
=&gt; synchronizes without any problems

- delete file org.eclipse.core.expressions/ElementHandler.java
=&gt; synchronizing the project results in the timeout below. This prevents out
co-op from submitting patches :-(. Replacing the whole package from HEAD
restores normal operation.

Please move to Community/CVS if you think that's an issue with the
dev.eclipse.org CVS server.

Log:

!ENTRY org.eclipse.team.core 4 0 2005-10-07 19:57:20.571
!MESSAGE Problems reported while synchronizing CVS Workspace. 0 of 1 resources
were synchronized.
!SUBENTRY 1 org.eclipse.team.core 4 0 2005-10-07 19:57:20.571
!MESSAGE An error occurred synchronizing /org.eclipse.core.expressions: I/O has
been interrupted.
!STACK 1
org.eclipse.team.internal.ccvs.core.connection.CVSCommunicationException[0]:
!SUBENTRY 2 org.eclipse.team.cvs.core 4 0 2005-10-07 19:57:20.587
!MESSAGE I/O has been interrupted.
!STACK 0
java.io.InterruptedIOException: Timeout while reading from input stream
        at
org.eclipse.team.internal.core.streams.PollingInputStream.read(PollingInputStream.java:125)
        at java.io.BufferedInputStream.fill(BufferedInputStream.java:218)
        at java.io.BufferedInputStream.read(BufferedInputStream.java:235)
        at
org.eclipse.team.internal.ccvs.core.connection.Connection.readLine(Connection.java:144)
        at
org.eclipse.team.internal.ccvs.core.client.Session.readLine(Session.java:293)
        at
org.eclipse.team.internal.ccvs.core.client.Request.executeRequest(Request.java:142)
        at
org.eclipse.team.internal.ccvs.core.client.Command.doExecute(Command.java:404)
        at
org.eclipse.team.internal.ccvs.core.client.Update.doExecute(Update.java:187)
        at
org.eclipse.team.internal.ccvs.core.client.Command$1.run(Command.java:323)
        at
org.eclipse.team.internal.ccvs.core.client.Command.execute(Command.java:337)
        at
org.eclipse.team.internal.ccvs.core.resources.RemoteFolderTreeBuilder.fetchDelta(RemoteFolderTreeBuilder.java:618)
        at
org.eclipse.team.internal.ccvs.core.resources.RemoteFolderTreeBuilder.fetchDelta(RemoteFolderTreeBuilder.java:191)
        at
org.eclipse.team.internal.ccvs.core.resources.RemoteFolderTreeBuilder.buildTree(RemoteFolderTreeBuilder.java:156)
        at
org.eclipse.team.internal.ccvs.core.resources.RemoteFolderTreeBuilder.buildRemoteTree(RemoteFolderTreeBuilder.java:139)
        at
org.eclipse.team.internal.ccvs.core.resources.CVSWorkspaceRoot.getRemoteTree(CVSWorkspaceRoot.java:180)
        at
org.eclipse.team.internal.ccvs.core.syncinfo.CVSResourceVariantTree.fetchVariant(CVSResourceVariantTree.java:80)
        at
org.eclipse.team.core.variants.AbstractResourceVariantTree.refresh(AbstractResourceVariantTree.java:86)
        at
org.eclipse.team.internal.ccvs.core.syncinfo.CVSResourceVariantTree.refresh(CVSResourceVariantTree.java:327)
        at
org.eclipse.team.core.variants.AbstractResourceVariantTree.refresh(AbstractResourceVariantTree.java:55)
        at
org.eclipse.team.core.variants.ResourceVariantTreeSubscriber.refresh(ResourceVariantTreeSubscriber.java:160)
        at
org.eclipse.team.core.variants.ResourceVariantTreeSubscriber.refresh(ResourceVariantTreeSubscriber.java:125)
        at
org.eclipse.team.internal.ui.synchronize.RefreshSubscriberJob.run(RefreshSubscriberJob.java:341)
        at org.eclipse.core.internal.jobs.Worker.run(Worker.java:76)
!SUBENTRY 3 org.eclipse.team.cvs.core 4 4 2005-10-07 19:57:20.618
!MESSAGE The most likely cause of the interrupt is either an intermittent
network failure or a communications timeout.
!SUBENTRY 3 org.eclipse.team.cvs.core 4 4 2005-10-07 19:57:20.618
!MESSAGE The CVS communications timeout can be adjusted in the Team/CVS preferences.
!SUBENTRY 3 org.eclipse.team.cvs.core 4 4 2005-10-07 19:57:20.618
!MESSAGE Another possible cause is the improper configuration of the "ext"
connection method.
!SUBENTRY 3 org.eclipse.team.cvs.core 4 4 2005-10-07 19:57:20.634
!MESSAGE The "ext" connection method can be configured on the Team/CVS/EXT
Connection Method preference page
Did you increase the CVS timeout to see if that helped?
Yes, we increased it to 600s, but the problem remained the same (timeout
exception after waiting for 10 minutes). With the same connection, I don't have
problems with changed or added files - only deletions seem to cause harm.

I also tried it with eclipse 3.0.2 and got the same problem. I guess this
problem now occurs because of a new CVS server version.
It worked for me the first time I tried it but the second time I got a 
different timeout (below). The third time, it worked again. Moving to 
Community/CVS as this does not appear to be an Eclipse problem:

org.eclipse.team.internal.ccvs.core.connection.CVSCommunicationException[-6]: 


I tested this from my home cable connection, and can't reproduce.

I set up pserver connection as explained, checked out
org.eclipse.core.expressions, deleted
org.eclipse.core.expressions/ElementHandler.java and Synchronize with repository
worked fine about 10 times in a row.

I then introduced a 2-minute delay, re-Sync and all was well.  I then Override
and Update to refetch the deleted file, deleted it again, waited 10 minutes,
Sync with repo.  Worked fine.

Closing as worksforme.  As per bug 113351, we were having intermittent CVS
issues with some of the nodes, and those were solved recently.  Feel free to
reopen if this problem persists.

D.
Reopening. We still or again have the same problem. I'm not sure whether it worked at any point in time, since most of the patches we make don't delete files.

I verified with the link on the committers page that our DNS should be OK:
"Your DNS seems okay! Thanks!"
The IP address given there is not the address in our local LAN, but I don't think that should be a problem here.
Despite my best efforts, I can't reproduce this.  I even tried on a 28.8 modem (!!!)

Sorry guys, if I can't reproduce it, I'm powerless.

D.</WithOutStack>
  </Bug>
  <Bug>
    <BugId amount="111967" />
    <CreationDate amount="2005-10-07 14:21:00 -0400" />
    <DupId amount="" />
    <classification amount="Eclipse Foundation" />
    <Product amount="z_Archived" />
    <component amount="TPTP.monitoring" />
    <Version amount="unspecified" />
    <rep_platform amount="All" />
    <op_sys amount="All" />
    <priority amount="P1" />
    <bug_severity amount="normal" />
    <Summery>Parsing an Apache error log in a non-English locale fails with rules adapter due to timeformat error</Summery>
    <Patches amount="0" />
    <Stacktraces amount="0" />
    <SourceCodeRegions amount="0" />
    <Enumerations amount="0" />
    <bug_status amount="CLOSED" />
    <resolution amount="FIXED" />
    <WithStack>Parsing an Apache error log file with the rules adapter and GLA running on a 
machine with a non-English locale fails due to the following timeformat error:

IWAT0367E The time Thu Jan 16 19:06:54 2002 could not be parsed with format EEE 
MMM dd HH:mm:ss yyyy because an exception occurred.  Exception = Unparseable 
date: &amp;quot;Thu Jan 16 19:06:54 2002&amp;quot;"

This problem is due to the substitution rule for creationTime uses a time 
format specification which is locale sensitive but the Apache error log 
timestamps are always in US English locale format regardless of the locale they 
are generated in.  Therefore the Context Instance in the adapter file should 
have the following attributes:

isoCountryCode="US" isoLanguageCode="en"
Committed fix to Head CVS.

Added the following attributes to the cc:ContextInstance element in Apache 
error log rules adapter files (regex.adapter and regex_example.adapter):

charset="" isoCountryCode="US" isoLanguageCode="en"
As of TPTP 4.6.0, TPTP is in maintenance mode and focusing on improving quality by resolving relevant enhancements/defects and increasing test coverage through test creation, automation, Build Verification Tests (BVTs), and expanded run-time execution. As part of the TPTP Bugzilla housecleaning process (see http://wiki.eclipse.org/Bugzilla_Housecleaning_Processes), this enhancement/defect is verified/closed by the Project Lead since this enhancement/defect has been resolved and unverified for more than 1 year and considered to be fixed. If this enhancement/defect is still unresolved and reproducible in the latest TPTP release (http://www.eclipse.org/tptp/home/downloads/), please re-open.</WithStack>
    <WithOutStack>Parsing an Apache error log file with the rules adapter and GLA running on a 
machine with a non-English locale fails due to the following timeformat error:

IWAT0367E The time Thu Jan 16 19:06:54 2002 could not be parsed with format EEE 
MMM dd HH:mm:ss yyyy because an exception occurred.  Exception = Unparseable 
date: &amp;quot;Thu Jan 16 19:06:54 2002&amp;quot;"

This problem is due to the substitution rule for creationTime uses a time 
format specification which is locale sensitive but the Apache error log 
timestamps are always in US English locale format regardless of the locale they 
are generated in.  Therefore the Context Instance in the adapter file should 
have the following attributes:

isoCountryCode="US" isoLanguageCode="en"
Committed fix to Head CVS.

Added the following attributes to the cc:ContextInstance element in Apache 
error log rules adapter files (regex.adapter and regex_example.adapter):

charset="" isoCountryCode="US" isoLanguageCode="en"
As of TPTP 4.6.0, TPTP is in maintenance mode and focusing on improving quality by resolving relevant enhancements/defects and increasing test coverage through test creation, automation, Build Verification Tests (BVTs), and expanded run-time execution. As part of the TPTP Bugzilla housecleaning process (see http://wiki.eclipse.org/Bugzilla_Housecleaning_Processes), this enhancement/defect is verified/closed by the Project Lead since this enhancement/defect has been resolved and unverified for more than 1 year and considered to be fixed. If this enhancement/defect is still unresolved and reproducible in the latest TPTP release (http://www.eclipse.org/tptp/home/downloads/), please re-open.</WithOutStack>
  </Bug>
  <Bug>
    <BugId amount="111968" />
    <CreationDate amount="2005-10-07 14:23:00 -0400" />
    <DupId amount="" />
    <classification amount="Eclipse" />
    <Product amount="Platform" />
    <component amount="Compare" />
    <Version amount="3.2" />
    <rep_platform amount="PC" />
    <op_sys amount="Windows XP" />
    <priority amount="P3" />
    <bug_severity amount="trivial" />
    <Summery>patch for exportplugin.xml to write source directly into jar (like the PDE exporter)</Summery>
    <Patches amount="0" />
    <Stacktraces amount="0" />
    <SourceCodeRegions amount="0" />
    <Enumerations amount="0" />
    <bug_status amount="RESOLVED" />
    <resolution amount="FIXED" />
    <WithStack>Currently, plugin-exports write the sources into a src.zip inside the jar'd
plugin. This is does not work with the PDE plugin importer (binary imports have
no source attachment, source imports don't work at all).

I'll append a patch (I already released it for the other ZRH projects).
Created attachment 28044
Patch for exportplugin.xml
Patch applied for N20051008
Thanks, Markus!</WithStack>
    <WithOutStack>Currently, plugin-exports write the sources into a src.zip inside the jar'd
plugin. This is does not work with the PDE plugin importer (binary imports have
no source attachment, source imports don't work at all).

I'll append a patch (I already released it for the other ZRH projects).
Created attachment 28044
Patch for exportplugin.xml
Patch applied for N20051008
Thanks, Markus!</WithOutStack>
  </Bug>
  <Bug>
    <BugId amount="111969" />
    <CreationDate amount="2005-10-07 14:24:00 -0400" />
    <DupId amount="" />
    <classification amount="WebTools" />
    <Product amount="WTP Source Editing" />
    <component amount="wst.sse" />
    <Version amount="0.7" />
    <rep_platform amount="PC" />
    <op_sys amount="All" />
    <priority amount="P2" />
    <bug_severity amount="enhancement" />
    <Summery>Need improved API for as-you-type validation</Summery>
    <Patches amount="0" />
    <Stacktraces amount="0" />
    <SourceCodeRegions amount="3">
      <source_code type="singlecomment">
        <location start="6009" end="6091" />
        <code>// pa_TODO need to use dirty region if Validators can ever handle partial file</code>
      </source_code>
      <source_code type="assignment">
        <location start="6102" end="6165" />
        <code>IReconcileResult[] results = this.EMPTY_RECONCILE_RESULT_SET;</code>
      </source_code>
      <source_code type="ifstatement">
        <location start="6166" end="6356" />
        <code>if (dirtyRegion != null) {
			try {
				results = validate();
			}
			catch (Exception ex) {
				Logger.logException("EXEPTION IN RECONCILE STEP FOR VALIDATOR", ex);
//$NON-NLS-1$
			}
		}</code>
      </source_code>
    </SourceCodeRegions>
    <Enumerations amount="0" />
    <bug_status amount="CLOSED" />
    <resolution amount="FIXED" />
    <WithStack>In order to do on-the-fly validation of a particular partition, a live reference
to the document's text (the Document and its IRegion?) ought to be readily
available from the IValidationContext.  Today, this is not possible with the SSE
implementation of IValidationContext, which only passes a URL reference.  This
would seem to limit the extension to what's available on disk, or by searching
the workspace one might get at a live editor, but not know which partition is
being referenced.  This could be solved one of three ways, in ascending order of
cleanliness, IMO:

* Pass this information through the loadModel() API which is not particularly
well documented and would seem to be a pass-through for just about anything.

* Implement a new API, like getRegion() in the SSE's IValidationContext and
require users of this interface to castdown to get at this information

* Add getRegion() to provide a well-known way to get this information.  getURL
and getRegion might be mutually-exclusive, depending on the type of validation
to be done.  These might represent two different types of validation operations,
or they could continue to be lumped in the same context?
Also required is a line offset to the partition from the top of the document.
I think you want to take a look at StructuredTextReconcilingStrategyForJSP
as an example of the more "fine grained validators" and how there can be a 
variety of steps in the reconcile/validation process, which call 
reconcileModel(DirtyRegion, IRegion)

Please re-open if this does not acccomplish what you need. 

If I understand correctly, the JSP code accomplishes its validation by brute
force -- grab the model and validate everything.  More specifically, it decides
if validation applies, searches existing buffers for the Document to IFile
mapping resource only to satisfy the API, grabs the existing model, and
validates the entire document!  This is painfully inefficient, especially for
me, where I really do not normally deal with document model at all, only the
CDATA in the SCRIPT tag, and I'd like to be able to register directly on the
script tag and only validate the one script tag which changed.  Performance will
be critical for on-the-fly validation.  Walking the model and locating and
validating all scripts is wasteful when it's relatively simple to just pass a
reference to the IRegion of the fragment my validator is registered on.  This
information is easily available to the code dispatching to the validator.  All
that's required is a change to the API.

I'll take a stab at implementing this way (if I can figure out how to do so) and
get back to you.

In the meantime, at a very minimum, I'd suggest we keep this enhancement open
because, frankly, API enhancement is needed.  The validator APIs should
facilitate this sort of thing.


Sure Adam, I'll leave open as long as you'd like. :) 

But, you are looking at/thinking of "batch" validation. 
And, perhaps you are trying to use that "as you type"? 

From your remarks, I do not believe you looked at 
StructuredTextReconcilingStrategyForJSP as suggested. 
There is no IValidationContext in its methods, but 
methods like 
reconcile(DirtyRegion dirtyRegion, IRegion subRegion)
which I believe do what you want. 
Set some breakpoints there, and type a jsp expression
if you'd like to see "in action". 

There's also a sourceValidation extension point defined 
(and partially documented) in 
sse.ui/exsd.  There are "script" partion types defined for html
(and jsp's with html). so, you could explore registering against that. 
[this won't be API in V1.0, but with yours and others feedback, 
we could get closer]. 

Sorry there's not more time (currently) to directly 
provide the documentation you need. But, I've changed
the title to more accurately reflect what you need 
(which is not a beefed up batch validator). 

Of course, if I've misunderstood, feel free to correct me. 

Ok, sounds like a miscommunication on my part.  I never meant batch validation.
 (I think the bug title I used was basically what you suggested in our sametime
chat :)  It seemed like IValidationContext could almost be used for as-you-type
validation, but as I meant to say in my request, a new API would be okay, too. 
It wasn't obvious to me if the IFile/IRegion references were mutually exclusive.

Yes, I did look at StructuredTextRecStratforJSP and even attempted to describe
what it did in my previous note.  Sorry if I got it wrong, but my understanding
is that it was basically a brute-force workaround that did not make use of any
validators or validation contexts and just validated the whole doc.  Am I wrong?
 I'll go look again.

The code I sent you *DOES* register against the SCRIPT tag and my validator gets
notified appropriately.  Only thing is it doesn't get told is the boudns of the
SCRIPT tag, only the piece of it that changed!  This is my complaint.  Is there
a way to get this info w/o modifying sse.ui or just re-parsing and processing
all SCRIPT tags?  Do we agree that this aspect could be improved, and that it
would make sense to do so?
Can you calculate partitioning for the dirty region passed into reconcileModel()?

partitions = 
    TextUtilities.computePartitioning(getDocument(), 
                                     
IStructuredPartitioning.DEFAULT_STRUCTURED_PARTITIONING, 
                                       dirtyRegion.getOffset(), 
                                       dirtyRegion.getLength(), 
                                       true);

Then check if any of the partition[i].getType() is what you want (probably
IHTMLPartitionTypes.SCRIPT)?  This way you're still only processing the part of
the document that's dirty.

ReconcileStepForMarkup does something similar, but calculates
IStructuredDocumentRegions for the dirty region instead of partitions.
Oh I think I see what you're saying now.

It would be better to have API that allowed an IValidator to accept a partial
document, probably a dirty region.

In ReconcileStepForValidator:

		// pa_TODO need to use dirty region if Validators can ever handle partial file
validation
		IReconcileResult[] results = this.EMPTY_RECONCILE_RESULT_SET;
		if (dirtyRegion != null) {
			try {
				results = validate();
			}
			catch (Exception ex) {
				Logger.logException("EXEPTION IN RECONCILE STEP FOR VALIDATOR", ex);
//$NON-NLS-1$
			}
		}

We could call validate(dr) if the validator allowed it.
I had even written myself a TODO to remind me to investiate this =)

As David mentioned, we would probably need an additional interface for
IValidator that can accept validate(DirtyRegion).
David, FWIW, yes, I am using the sourceValidator extension point and registering
on SCRIPT, just as you said.  (Take a peek at the code snippets I sent and
you'll see :-)

I did this because a) there's an extension point so I can do this easily without
making any mods to the base editor (goodness) and b) because you told me to do
so (going back a couple of months ago... you said not to use the reconciler
thread, if I could help it)

Philip: yes, I think this is exactly where the gap is; just something that
hadn't been fully implemented.  I hacked up a working version myself, which I'll
have to share with you, but of course, I may not have done it the "right" way. 
It would be best if the IValidatorContext expressed all these things formally,
but for now, it seems like all the necessary info can be tucked in the
IncrementalHelper object, at least for the SSE implementation.  (Note that the
Document is already passed in to its constructor, but not used anywhere)  If I
could just get access to the document and region (or, since you've told me how
to get the full region from the dirty region/subregion) the document + dirty
region would be sufficient.  I could cast down to IncrementalHelper to get it,
or the info could be passed through the loadModel() API.

Is that a change you might be able to make in the very short term (M9?) We have
an urgent need for it and would be extremely grateful.
Adam, thanks for your persistence. I understand now (and, understand I was
looking at it wrong, or, more precisly, mis-remembering where we were ... but
Phil's explained it all to me now :) ... we'll take a closer look. 

Oh, also meant to ask, Adam ... to do proper javascript validation, you do need
to keep a "virtual document", validate that (and map errors and offsets back to
original), right?  For example, isn't it common to "include" some javascript
"src", that would have some users set of "library" functions. That library might
contain a method they would call from their &lt;script&gt; region. If that "included
source" was not accounted for, wouldn't the "missing method be seen as an
error"? Or am I missing something again? (Probably something you already sent,
right? :) 

Checked into HEAD.

New interface is ISourceValidator (for partial document validation)

HTMLValidator has been updated to use this new interface.

Probably still needs some review before finalizing API though.
David - sorry, looks like I forgot to respond to your note on the 13th.  At the
moment, I'm only parsing snippets of code, that is individual &lt;SCRIPT&gt; tags in
isolation, and am only able to check for syntax (compile-time errors)  I do not
do a complete analysis of the code, so I don't actually know if variables are
defined or assigned, etc.  I'm not sure this is possible to do without actually
running the script, given the way Javascript works.

So there's no need to track down src= references or try to keep track of a full
environment.  Each script partition or document is validated separately.
Marking as fixed.
I believe you said what we've added was sufficent for what you needed right Adam?
Looks good.  As soon as I can get my environment working again :) I'll mark fixed.

One nitpick: should the new validate() API throw a ValidatorException?  Or, is
there nothing the calling code can do anyways, should something go wrong?
This solves the generic case, but still leaves us without the ability to
validate in the existing JSEditor, which to be fair is a separate bug, but one
which we need fixed for M9.

Phil, this would require putting support for reconciling, strategies, and steps
into JavaScript, right?
Phil can confirm this but no, the same strategies used for SSE can now be used
here.  I've been using a very small, almost trivial patch to
JSEditorSourceViewerConfig on top of the 10/28 build with success -- see 115531.
 It would be huge if this could get in the upcoming milestone.
Closing</WithStack>
    <WithOutStack>In order to do on-the-fly validation of a particular partition, a live reference
to the document's text (the Document and its IRegion?) ought to be readily
available from the IValidationContext.  Today, this is not possible with the SSE
implementation of IValidationContext, which only passes a URL reference.  This
would seem to limit the extension to what's available on disk, or by searching
the workspace one might get at a live editor, but not know which partition is
being referenced.  This could be solved one of three ways, in ascending order of
cleanliness, IMO:

* Pass this information through the loadModel() API which is not particularly
well documented and would seem to be a pass-through for just about anything.

* Implement a new API, like getRegion() in the SSE's IValidationContext and
require users of this interface to castdown to get at this information

* Add getRegion() to provide a well-known way to get this information.  getURL
and getRegion might be mutually-exclusive, depending on the type of validation
to be done.  These might represent two different types of validation operations,
or they could continue to be lumped in the same context?
Also required is a line offset to the partition from the top of the document.
I think you want to take a look at StructuredTextReconcilingStrategyForJSP
as an example of the more "fine grained validators" and how there can be a 
variety of steps in the reconcile/validation process, which call 
reconcileModel(DirtyRegion, IRegion)

Please re-open if this does not acccomplish what you need. 

If I understand correctly, the JSP code accomplishes its validation by brute
force -- grab the model and validate everything.  More specifically, it decides
if validation applies, searches existing buffers for the Document to IFile
mapping resource only to satisfy the API, grabs the existing model, and
validates the entire document!  This is painfully inefficient, especially for
me, where I really do not normally deal with document model at all, only the
CDATA in the SCRIPT tag, and I'd like to be able to register directly on the
script tag and only validate the one script tag which changed.  Performance will
be critical for on-the-fly validation.  Walking the model and locating and
validating all scripts is wasteful when it's relatively simple to just pass a
reference to the IRegion of the fragment my validator is registered on.  This
information is easily available to the code dispatching to the validator.  All
that's required is a change to the API.

I'll take a stab at implementing this way (if I can figure out how to do so) and
get back to you.

In the meantime, at a very minimum, I'd suggest we keep this enhancement open
because, frankly, API enhancement is needed.  The validator APIs should
facilitate this sort of thing.


Sure Adam, I'll leave open as long as you'd like. :) 

But, you are looking at/thinking of "batch" validation. 
And, perhaps you are trying to use that "as you type"? 

From your remarks, I do not believe you looked at 
StructuredTextReconcilingStrategyForJSP as suggested. 
There is no IValidationContext in its methods, but 
methods like 
reconcile(DirtyRegion dirtyRegion, IRegion subRegion)
which I believe do what you want. 
Set some breakpoints there, and type a jsp expression
if you'd like to see "in action". 

There's also a sourceValidation extension point defined 
(and partially documented) in 
sse.ui/exsd.  There are "script" partion types defined for html
(and jsp's with html). so, you could explore registering against that. 
[this won't be API in V1.0, but with yours and others feedback, 
we could get closer]. 

Sorry there's not more time (currently) to directly 
provide the documentation you need. But, I've changed
the title to more accurately reflect what you need 
(which is not a beefed up batch validator). 

Of course, if I've misunderstood, feel free to correct me. 

Ok, sounds like a miscommunication on my part.  I never meant batch validation.
 (I think the bug title I used was basically what you suggested in our sametime
chat :)  It seemed like IValidationContext could almost be used for as-you-type
validation, but as I meant to say in my request, a new API would be okay, too. 
It wasn't obvious to me if the IFile/IRegion references were mutually exclusive.

Yes, I did look at StructuredTextRecStratforJSP and even attempted to describe
what it did in my previous note.  Sorry if I got it wrong, but my understanding
is that it was basically a brute-force workaround that did not make use of any
validators or validation contexts and just validated the whole doc.  Am I wrong?
 I'll go look again.

The code I sent you *DOES* register against the SCRIPT tag and my validator gets
notified appropriately.  Only thing is it doesn't get told is the boudns of the
SCRIPT tag, only the piece of it that changed!  This is my complaint.  Is there
a way to get this info w/o modifying sse.ui or just re-parsing and processing
all SCRIPT tags?  Do we agree that this aspect could be improved, and that it
would make sense to do so?
Can you calculate partitioning for the dirty region passed into reconcileModel()?

partitions = 
    TextUtilities.computePartitioning(getDocument(), 
                                     
IStructuredPartitioning.DEFAULT_STRUCTURED_PARTITIONING, 
                                       dirtyRegion.getOffset(), 
                                       dirtyRegion.getLength(), 
                                       true);

Then check if any of the partition[i].getType() is what you want (probably
IHTMLPartitionTypes.SCRIPT)?  This way you're still only processing the part of
the document that's dirty.

ReconcileStepForMarkup does something similar, but calculates
IStructuredDocumentRegions for the dirty region instead of partitions.
Oh I think I see what you're saying now.

It would be better to have API that allowed an IValidator to accept a partial
document, probably a dirty region.

In ReconcileStepForValidator:

		// pa_TODO need to use dirty region if Validators can ever handle partial file
validation
		IReconcileResult[] results = this.EMPTY_RECONCILE_RESULT_SET;
		if (dirtyRegion != null) {
			try {
				results = validate();
			}
			catch (Exception ex) {
				Logger.logException("EXEPTION IN RECONCILE STEP FOR VALIDATOR", ex);
//$NON-NLS-1$
			}
		}

We could call validate(dr) if the validator allowed it.
I had even written myself a TODO to remind me to investiate this =)

As David mentioned, we would probably need an additional interface for
IValidator that can accept validate(DirtyRegion).
David, FWIW, yes, I am using the sourceValidator extension point and registering
on SCRIPT, just as you said.  (Take a peek at the code snippets I sent and
you'll see :-)

I did this because a) there's an extension point so I can do this easily without
making any mods to the base editor (goodness) and b) because you told me to do
so (going back a couple of months ago... you said not to use the reconciler
thread, if I could help it)

Philip: yes, I think this is exactly where the gap is; just something that
hadn't been fully implemented.  I hacked up a working version myself, which I'll
have to share with you, but of course, I may not have done it the "right" way. 
It would be best if the IValidatorContext expressed all these things formally,
but for now, it seems like all the necessary info can be tucked in the
IncrementalHelper object, at least for the SSE implementation.  (Note that the
Document is already passed in to its constructor, but not used anywhere)  If I
could just get access to the document and region (or, since you've told me how
to get the full region from the dirty region/subregion) the document + dirty
region would be sufficient.  I could cast down to IncrementalHelper to get it,
or the info could be passed through the loadModel() API.

Is that a change you might be able to make in the very short term (M9?) We have
an urgent need for it and would be extremely grateful.
Adam, thanks for your persistence. I understand now (and, understand I was
looking at it wrong, or, more precisly, mis-remembering where we were ... but
Phil's explained it all to me now :) ... we'll take a closer look. 

Oh, also meant to ask, Adam ... to do proper javascript validation, you do need
to keep a "virtual document", validate that (and map errors and offsets back to
original), right?  For example, isn't it common to "include" some javascript
"src", that would have some users set of "library" functions. That library might
contain a method they would call from their &lt;script&gt; region. If that "included
source" was not accounted for, wouldn't the "missing method be seen as an
error"? Or am I missing something again? (Probably something you already sent,
right? :) 

Checked into HEAD.

New interface is ISourceValidator (for partial document validation)

HTMLValidator has been updated to use this new interface.

Probably still needs some review before finalizing API though.
David - sorry, looks like I forgot to respond to your note on the 13th.  At the
moment, I'm only parsing snippets of code, that is individual &lt;SCRIPT&gt; tags in
isolation, and am only able to check for syntax (compile-time errors)  I do not
do a complete analysis of the code, so I don't actually know if variables are
defined or assigned, etc.  I'm not sure this is possible to do without actually
running the script, given the way Javascript works.

So there's no need to track down src= references or try to keep track of a full
environment.  Each script partition or document is validated separately.
Marking as fixed.
I believe you said what we've added was sufficent for what you needed right Adam?
Looks good.  As soon as I can get my environment working again :) I'll mark fixed.

One nitpick: should the new validate() API throw a ValidatorException?  Or, is
there nothing the calling code can do anyways, should something go wrong?
This solves the generic case, but still leaves us without the ability to
validate in the existing JSEditor, which to be fair is a separate bug, but one
which we need fixed for M9.

Phil, this would require putting support for reconciling, strategies, and steps
into JavaScript, right?
Phil can confirm this but no, the same strategies used for SSE can now be used
here.  I've been using a very small, almost trivial patch to
JSEditorSourceViewerConfig on top of the 10/28 build with success -- see 115531.
 It would be huge if this could get in the upcoming milestone.
Closing</WithOutStack>
  </Bug>
  <Bug>
    <BugId amount="111970" />
    <CreationDate amount="2005-10-07 14:29:00 -0400" />
    <DupId amount="107154" />
    <classification amount="WebTools" />
    <Product amount="WTP Source Editing" />
    <component amount="wst.sse" />
    <Version amount="0.7" />
    <rep_platform amount="PC" />
    <op_sys amount="Linux" />
    <priority amount="P2" />
    <bug_severity amount="enhancement" />
    <Summery>IMessage should not require string bundles</Summery>
    <Patches amount="0" />
    <Stacktraces amount="0" />
    <SourceCodeRegions amount="0" />
    <Enumerations amount="0" />
    <bug_status amount="CLOSED" />
    <resolution amount="DUPLICATE" />
    <WithStack>In order to use external (non-eclipse, 3rd party) code to do operations like
Validation, strings will result which will be localized by that external code. 
The current IMessage interface, used by validation, assumes a string bundle. 
While that's good for enforcing i18n while within the bounds of an Eclipse
project, this prevents code from being written, such as a validator to use Rhino
for JavaScript error checking.

A solution would seem to require changes to the SSE base.  One workaround would
be to stuff a localized message as an override to the bundle in an attribute,
like getAttribute("localizedMessage")  A more formal API change would be preferable.
Amy, I hope you understand the technical details of this request better than I. 

I understand the need for it, but not sure what's "in the way". I know some teams 
have done this e.g. with XML Validation messages from Xerces ... do they "wrap"
them somehow? Or make a copy? 


Yep, I understand the technical details of this request.  It is a dup of bug 
107154

*** This bug has been marked as a duplicate of 107154 ***
In the absence of a fix for 107154, can anyone suggest a workaround that does
not involve changes to WST?
Found the LocalizedMessage class in org.eclipse.wst.internal.core.operations. 
That works for me.</WithStack>
    <WithOutStack>In order to use external (non-eclipse, 3rd party) code to do operations like
Validation, strings will result which will be localized by that external code. 
The current IMessage interface, used by validation, assumes a string bundle. 
While that's good for enforcing i18n while within the bounds of an Eclipse
project, this prevents code from being written, such as a validator to use Rhino
for JavaScript error checking.

A solution would seem to require changes to the SSE base.  One workaround would
be to stuff a localized message as an override to the bundle in an attribute,
like getAttribute("localizedMessage")  A more formal API change would be preferable.
Amy, I hope you understand the technical details of this request better than I. 

I understand the need for it, but not sure what's "in the way". I know some teams 
have done this e.g. with XML Validation messages from Xerces ... do they "wrap"
them somehow? Or make a copy? 


Yep, I understand the technical details of this request.  It is a dup of bug 
107154

*** This bug has been marked as a duplicate of 107154 ***
In the absence of a fix for 107154, can anyone suggest a workaround that does
not involve changes to WST?
Found the LocalizedMessage class in org.eclipse.wst.internal.core.operations. 
That works for me.</WithOutStack>
  </Bug>
  <Bug>
    <BugId amount="111971" />
    <CreationDate amount="2005-10-07 14:30:00 -0400" />
    <DupId amount="" />
    <classification amount="Tools" />
    <Product amount="AJDT" />
    <component amount="Core" />
    <Version amount="unspecified" />
    <rep_platform amount="PC" />
    <op_sys amount="Windows XP" />
    <priority amount="P3" />
    <bug_severity amount="normal" />
    <Summery>AJDT Editor does not behave exactly like Java Editor</Summery>
    <Patches amount="0" />
    <Stacktraces amount="0" />
    <SourceCodeRegions amount="1">
      <source_code type="functioncall">
        <location start="297" end="315" />
        <code>new Object.doIt();</code>
      </source_code>
    </SourceCodeRegions>
    <Enumerations amount="0" />
    <bug_status amount="RESOLVED" />
    <resolution amount="FIXED" />
    <WithStack>[1.3.0.20050926141225]

At least two different behaviors I could distinguish:

In AJDT Editor, when I write a field/variable name, and dot (field.), the
auto-completion dialog doesn't show, I have to press ctrl + space.

Also compile errors are only shown when the file is saved. Supose I write 

new Object.doIt();

There is no error until I save the file (either an actual aspect or a java class
opened in AJDT Editor). 

I am considering to use AJDT editor for either java classes and aspects, since
if I don't do this, methods like "aspectOf()" are not seen by Java Editor and
are marked as error (not in Problems View, but in the editor ruler).
Using this bug report to track the autocompletion issue as we already have a report open for the other issue - see bug 93772.  Content assist auto-activation should obey the settings for the Java editor.
Now fixed - it seems that the completion processor wasn't getting initialized properly and was not told the auto activation characters ('.' in this case). Fixed in the following builds:

AJDT 1.2.1 for Eclipse 3.0:
BUILD COMPLETE -  build.579
Date of build: 11/21/2005 14:18:45
Time to build: 55 minutes 54 seconds

AJDT 1.3.0 for Eclipse 3.1:
BUILD COMPLETE -  build.16
Date of build:	11/21/2005 08:38:02
Time to build:	15 minutes 23 seconds</WithStack>
    <WithOutStack>[1.3.0.20050926141225]

At least two different behaviors I could distinguish:

In AJDT Editor, when I write a field/variable name, and dot (field.), the
auto-completion dialog doesn't show, I have to press ctrl + space.

Also compile errors are only shown when the file is saved. Supose I write 

new Object.doIt();

There is no error until I save the file (either an actual aspect or a java class
opened in AJDT Editor). 

I am considering to use AJDT editor for either java classes and aspects, since
if I don't do this, methods like "aspectOf()" are not seen by Java Editor and
are marked as error (not in Problems View, but in the editor ruler).
Using this bug report to track the autocompletion issue as we already have a report open for the other issue - see bug 93772.  Content assist auto-activation should obey the settings for the Java editor.
Now fixed - it seems that the completion processor wasn't getting initialized properly and was not told the auto activation characters ('.' in this case). Fixed in the following builds:

AJDT 1.2.1 for Eclipse 3.0:
BUILD COMPLETE -  build.579
Date of build: 11/21/2005 14:18:45
Time to build: 55 minutes 54 seconds

AJDT 1.3.0 for Eclipse 3.1:
BUILD COMPLETE -  build.16
Date of build:	11/21/2005 08:38:02
Time to build:	15 minutes 23 seconds</WithOutStack>
  </Bug>
  <Bug>
    <BugId amount="111972" />
    <CreationDate amount="2005-10-07 14:54:00 -0400" />
    <DupId amount="" />
    <classification amount="Eclipse" />
    <Product amount="JDT" />
    <component amount="Text" />
    <Version amount="3.0.1" />
    <rep_platform amount="PC" />
    <op_sys amount="Windows XP" />
    <priority amount="P3" />
    <bug_severity amount="normal" />
    <Summery>[nls tooling] Duplicate keys created in Externalize Strings Wizard</Summery>
    <Patches amount="0" />
    <Stacktraces amount="0" />
    <SourceCodeRegions amount="0" />
    <Enumerations amount="1">
      <Enumeration lines="9">
        <Lines>
          <Line>1) Create your own Messages class without a BUNDLE_NAME constant.</Line>
          <Line>2) Go to the class you want to externalize and run the externalization wizard.</Line>
          <Line>3) Point the externalization wizard to your custom Messages class.</Line>
          <Line>4) Finish the wizard.</Line>
          <Line>5) Add some new strings to the class you externalized in step 2, and run the</Line>
          <Line>externalization wizard on the class again.</Line>
          <Line>6) Although the wizard points the same messages.properties file and Messages</Line>
          <Line>class, the new strings will be assigned the same keys as the string</Line>
          <Line>externalized in step 2.</Line>
        </Lines>
      </Enumeration>
    </Enumerations>
    <bug_status amount="RESOLVED" />
    <resolution amount="FIXED" />
    <WithStack>To reproduce:

1) Create your own Messages class without a BUNDLE_NAME constant.
2) Go to the class you want to externalize and run the externalization wizard.
3) Point the externalization wizard to your custom Messages class.
4) Finish the wizard.
5) Add some new strings to the class you externalized in step 2, and run the 
externalization wizard on the class again.
6) Although the wizard points the same messages.properties file and Messages 
class, the new strings will be assigned the same keys as the string 
externalized in step 2.

Cause:

The externalization wizard looks for the BUNDLE_NAME constant in the Messages 
class (the default Messages class has a private BUNDLE_NAME constant).  If the 
constant doesn't exist, the wizard starts the keys from 0.  If it does exist 
but doesn't point at the correct messages.properties file, the wizard will 
produce errors on any keys not in the BUNDLE_NAME constants 
messages.properties file (even if the wizard is pointed at the correct 
messages.properties file).

Solution:

The wizard should check the keys from the messages.properties file pointed to 
by the wizard, not by the messages.properties file pointed to by the 
BUNDLE_NAME constant in the Messages class.
fixed &gt; I20060307-1315</WithStack>
    <WithOutStack>To reproduce:

1) Create your own Messages class without a BUNDLE_NAME constant.
2) Go to the class you want to externalize and run the externalization wizard.
3) Point the externalization wizard to your custom Messages class.
4) Finish the wizard.
5) Add some new strings to the class you externalized in step 2, and run the 
externalization wizard on the class again.
6) Although the wizard points the same messages.properties file and Messages 
class, the new strings will be assigned the same keys as the string 
externalized in step 2.

Cause:

The externalization wizard looks for the BUNDLE_NAME constant in the Messages 
class (the default Messages class has a private BUNDLE_NAME constant).  If the 
constant doesn't exist, the wizard starts the keys from 0.  If it does exist 
but doesn't point at the correct messages.properties file, the wizard will 
produce errors on any keys not in the BUNDLE_NAME constants 
messages.properties file (even if the wizard is pointed at the correct 
messages.properties file).

Solution:

The wizard should check the keys from the messages.properties file pointed to 
by the wizard, not by the messages.properties file pointed to by the 
BUNDLE_NAME constant in the Messages class.
fixed &gt; I20060307-1315</WithOutStack>
  </Bug>
  <Bug>
    <BugId amount="111973" />
    <CreationDate amount="2005-10-07 14:57:00 -0400" />
    <DupId amount="" />
    <classification amount="Eclipse" />
    <Product amount="Platform" />
    <component amount="SWT" />
    <Version amount="3.1.1" />
    <rep_platform amount="Macintosh" />
    <op_sys amount="Mac OS X - Carbon (unsup.)" />
    <priority amount="P3" />
    <bug_severity amount="major" />
    <Summery>Default Dialog font on Mac OS X not good for DBCS languages</Summery>
    <Patches amount="0" />
    <Stacktraces amount="0" />
    <SourceCodeRegions amount="0" />
    <Enumerations amount="0" />
    <bug_status amount="CLOSED" />
    <resolution amount="FIXED" />
    <WithStack>The default Dialog font on Mac OS X (10.3.9) not good for DBCS languages 
(T.Chinese, S.Chinese, Japanese, Korean) causing descriptions on dialogs not 
able to display. See screen capture below.

Changing the Dialog font to "Apple LiGothic" fixed the problem for T.Chinese 
(except the problem reported in https://bugs.eclipse.org/bugs/show_bug.cgi?
id=111962). But, the font "Apple LiGothic" does not work for Japanese. So, I 
cannot suggest one font to use to fix all the DBCS problem.
Created attachment 28046
screen capture
Out of curiosity, what do you ship on OS X?
We are not shipping anything on OS X. But "Apple Mac OS X 10.3" is a supported 
OS for Eclipse 3.1.1. This problem will cause plugin developers not able to 
display translated dialogs on OS X.
We should be using the default system font - we don't override the dialog font in the jface properties.  In 
the eclipse launcher we set the system org.eclipse.swt.internal.carbon.smallFonts to true.  It could be that 
the small font supplied by carbon doesn't have the required characters.
Try disabling that property in the ini file, does this fix the problem?
Kit: have you had a chance to try Billy's suggestion?
Billy, were you talking about the eclipse\configuration\config.ini? I only saw 
a few settings for osgi like osgi.splashPath. I didn't see anything related to 
font.
There's another configuration file buried in the Eclipse.app package.  In the eclipse folder, control-click on 
the Eclipse icon and choose Show Package Contents.  In the new window that appears go into Contents/
MacOS and edit the eclipse.ini file found there.  Note that to be able to open the package contents you 
may need to have the Apple development tools installed.
I tried removing the -Dorg.eclipse.swt.internal.carbon.smallFonts line in 
Contents\MacOS\eclipse.ini. It didn't help. Results are still the same.
Passing along to SWT to adjudicate.  
Isn't this the bug in the TXNObject that we fixed already?  Note that the DBCS 
text fails only in the text widget, not in a button.
I think you are right, Steve.

In the screenshoot, isn't that a read-only text widget ? If so we have enabled 
font substitution on this widget about 2 or 3 weeks ago.


Please, retest this problem using this week integration build and report the 
result for us. thanks.
Just verified the problem is fixed in I20051018-0930 build. Thanks.
thanks,
closing problem report.
closing old bug</WithStack>
    <WithOutStack>The default Dialog font on Mac OS X (10.3.9) not good for DBCS languages 
(T.Chinese, S.Chinese, Japanese, Korean) causing descriptions on dialogs not 
able to display. See screen capture below.

Changing the Dialog font to "Apple LiGothic" fixed the problem for T.Chinese 
(except the problem reported in https://bugs.eclipse.org/bugs/show_bug.cgi?
id=111962). But, the font "Apple LiGothic" does not work for Japanese. So, I 
cannot suggest one font to use to fix all the DBCS problem.
Created attachment 28046
screen capture
Out of curiosity, what do you ship on OS X?
We are not shipping anything on OS X. But "Apple Mac OS X 10.3" is a supported 
OS for Eclipse 3.1.1. This problem will cause plugin developers not able to 
display translated dialogs on OS X.
We should be using the default system font - we don't override the dialog font in the jface properties.  In 
the eclipse launcher we set the system org.eclipse.swt.internal.carbon.smallFonts to true.  It could be that 
the small font supplied by carbon doesn't have the required characters.
Try disabling that property in the ini file, does this fix the problem?
Kit: have you had a chance to try Billy's suggestion?
Billy, were you talking about the eclipse\configuration\config.ini? I only saw 
a few settings for osgi like osgi.splashPath. I didn't see anything related to 
font.
There's another configuration file buried in the Eclipse.app package.  In the eclipse folder, control-click on 
the Eclipse icon and choose Show Package Contents.  In the new window that appears go into Contents/
MacOS and edit the eclipse.ini file found there.  Note that to be able to open the package contents you 
may need to have the Apple development tools installed.
I tried removing the -Dorg.eclipse.swt.internal.carbon.smallFonts line in 
Contents\MacOS\eclipse.ini. It didn't help. Results are still the same.
Passing along to SWT to adjudicate.  
Isn't this the bug in the TXNObject that we fixed already?  Note that the DBCS 
text fails only in the text widget, not in a button.
I think you are right, Steve.

In the screenshoot, isn't that a read-only text widget ? If so we have enabled 
font substitution on this widget about 2 or 3 weeks ago.


Please, retest this problem using this week integration build and report the 
result for us. thanks.
Just verified the problem is fixed in I20051018-0930 build. Thanks.
thanks,
closing problem report.
closing old bug</WithOutStack>
  </Bug>
  <Bug>
    <BugId amount="111974" />
    <CreationDate amount="2005-10-07 15:01:00 -0400" />
    <DupId amount="98078" />
    <classification amount="Tools" />
    <Product amount="AJDT" />
    <component amount="Core" />
    <Version amount="unspecified" />
    <rep_platform amount="PC" />
    <op_sys amount="Windows XP" />
    <priority amount="P3" />
    <bug_severity amount="normal" />
    <Summery>Aspect Rename Refactor</Summery>
    <Patches amount="0" />
    <Stacktraces amount="0" />
    <SourceCodeRegions amount="0" />
    <Enumerations amount="0" />
    <bug_status amount="RESOLVED" />
    <resolution amount="DUPLICATE" />
    <WithStack>[1.3.0.20050926141225]

When I try to rename an aspect, either with context menu &gt; Refactor &gt; Rename...
or with the shortcut alt + shift + r, it raises the following error message:

Compilation unit could not be created for this element.
Bug 92482 was raised to cover this problem. Currently, you can rename .aj files
with the Rename action which is menu &gt; Rename rather than the menu &gt; Refactor &gt;
Rename.. action. Menu &gt; rename does a simple resource rename rather than a
compilation unit rename (see bug 92482 for discussion on this).

Closing this as a duplicate of bug 98078 since this enhancement is there to
cover adding full refactoring support for .aj files which would mean you would
be able to use the menu &gt; Refactor &gt; Rename.. action.

*** This bug has been marked as a duplicate of 98078 ***</WithStack>
    <WithOutStack>[1.3.0.20050926141225]

When I try to rename an aspect, either with context menu &gt; Refactor &gt; Rename...
or with the shortcut alt + shift + r, it raises the following error message:

Compilation unit could not be created for this element.
Bug 92482 was raised to cover this problem. Currently, you can rename .aj files
with the Rename action which is menu &gt; Rename rather than the menu &gt; Refactor &gt;
Rename.. action. Menu &gt; rename does a simple resource rename rather than a
compilation unit rename (see bug 92482 for discussion on this).

Closing this as a duplicate of bug 98078 since this enhancement is there to
cover adding full refactoring support for .aj files which would mean you would
be able to use the menu &gt; Refactor &gt; Rename.. action.

*** This bug has been marked as a duplicate of 98078 ***</WithOutStack>
  </Bug>
  <Bug>
    <BugId amount="111975" />
    <CreationDate amount="2005-10-07 15:04:00 -0400" />
    <DupId amount="" />
    <classification amount="Tools" />
    <Product amount="TPTP Profiling" />
    <component amount="Platform.Model" />
    <Version amount="4.4" />
    <rep_platform amount="PC" />
    <op_sys amount="Windows XP" />
    <priority amount="P3" />
    <bug_severity amount="enhancement" />
    <Summery>Improve host look-up logic in loaders to be more tolerant</Summery>
    <Patches amount="0" />
    <Stacktraces amount="0" />
    <SourceCodeRegions amount="0" />
    <Enumerations amount="0" />
    <bug_status amount="CLOSED" />
    <resolution amount="WONTFIX" />
    <WithStack>I tried profiling the same application on the same machine, but with two
different agents. One of the agents sends back the fully qualified name, the
other only the short hostname. One sends two IPs back (one for the loopback) and
the other sends only one.

The loaders are currently not able to recognize that these two are actually the
same machine, if I profile one agent after the other (separately). It creates a
duplicate node in the profiling monitor (one has fully qualified host name, the
other doesn;t).

The enhancement I am requesting is to make the loaders a little more tolerant to
such differences, and be able to better recognize the hosts. There is enough
information here because they have the same hostname (domain not considered) and
share a common IP address. This should be sufficient to recognize that it's the
same host.

The fact that the agents are sending different things is something we are
following up on separately, but thought I should also open this to add tolerance
in the loaders.

The following is the header that our agent generates on a machine called sun450:

&lt;node nodeId="UUID-1128634484-46335-260172638-882099259"
hostname="sun450.xxx.xxx.xxx.com" ipaddress="19.142.29.169" timezone="300"
time="1128634484.021000000"/&gt;
&lt;processCreate processId="434598740000F1CF6A74F52B4373BF91" name="Data
Collection Infrastructure" pid="4671"
nodeIdRef="UUID-1128634484-46335-260172638-882099259" time="1128634484.021000000"/&gt;
&lt;agentCreate agentId="UUID-1128634484-46335-260172638-882099259" agentName="ARM
Data Collection Agent" agentType="Profiler"
processIdRef="434598740000F1CF6A74F52B4373BF91" version="1"
time="1128634484.021000000"/&gt;
&lt;traceStart traceId="trace_UUID-1128634484-46335-260172638-882099259"
agentIdRef="UUID-1128634484-46335-260172638-882099259" time="1128634484.021000000"/&gt;


The following is the header that the TPTP agent generates on sun450:

&lt;node nodeId="43444D9000086CFA204EA0F902903B70" hostname="sun450"
ipaddress="19.142.29.169,127.0.0.1" timezone="300" time="1128626916.623472929"/&gt;
&lt;processCreate processId="43457AE40009CAF0502AED9C3D71D730" pid="29012"
nodeIdRef="43444D9000086CFA204EA0F902903B70" time="1128626916.623472929"/&gt;
&lt;agentCreate agentId="UUID-1128626916-624856-1642193506-989054882"
version="1.000" processIdRef="43457AE40009CAF0502AED9C3D71D730" agentName="Java
Profiling Agent" agentType="Profiler" agentParameters="server=enabled"
time="1128626916.623472929"/&gt;
&lt;traceStart traceId="UUID-1128631015-366075-686764983-1211583358"
agentIdRef="UUID-1128626916-624856-1642193506-989054882"
time="1128631019.468911647"/&gt;
Batch update of all TPTP platform enhancements that are not part of 4.2 approved plan. Set version to "future" and target milestone to "--". 
As of TPTP 4.6.0, TPTP is in maintenance mode and focusing on improving quality by resolving relevant defects and increasing test coverage through test creation, automation, Build Verification Tests (BVTs), and expanded run-time execution. As such, TPTP is not delivering enhancements. As part of the TPTP Bugzilla housecleaning process (see http://wiki.eclipse.org/Bugzilla_Housecleaning_Processes), this enhancement is resolved as WONTFIX. For this enhancement to be considered, please re-open with an attached patch including the Description Document (see http://www.eclipse.org/tptp/home/documents/process/development/description_documents.html), code (see http://www.eclipse.org/tptp/home/documents/resources/TPTPDevGuide.htm), and test cases (see http://www.eclipse.org/tptp/home/documents/process/TPTP_Testing_Strategy.html).
As of TPTP 4.6.0, TPTP is in maintenance mode and focusing on improving quality by resolving relevant defects and increasing test coverage through test creation, automation, Build Verification Tests (BVTs), and expanded run-time execution. As such, TPTP is not delivering enhancements. As part of the TPTP Bugzilla housecleaning process (see http://wiki.eclipse.org/Bugzilla_Housecleaning_Processes), this enhancement is resolved as WONTFIX. For this enhancement to be considered, please re-open with an attached patch including the Description Document (see http://www.eclipse.org/tptp/home/documents/process/development/description_documents.html), code (see http://www.eclipse.org/tptp/home/documents/resources/TPTPDevGuide.htm), and test cases (see http://www.eclipse.org/tptp/home/documents/process/TPTP_Testing_Strategy.html).
As of TPTP 4.6.0, TPTP is in maintenance mode and focusing on improving quality by resolving relevant enhancements/defects and increasing test coverage through test creation, automation, Build Verification Tests (BVTs), and expanded run-time execution. As part of the TPTP Bugzilla housecleaning process (see http://wiki.eclipse.org/Bugzilla_Housecleaning_Processes), this enhancement/defect is verified/closed by the Project Lead since this enhancement/defect has been resolved and unverified for more than 1 year and considered to be fixed. If this enhancement/defect is still unresolved and reproducible in the latest TPTP release (http://www.eclipse.org/tptp/home/downloads/), please re-open.</WithStack>
    <WithOutStack>I tried profiling the same application on the same machine, but with two
different agents. One of the agents sends back the fully qualified name, the
other only the short hostname. One sends two IPs back (one for the loopback) and
the other sends only one.

The loaders are currently not able to recognize that these two are actually the
same machine, if I profile one agent after the other (separately). It creates a
duplicate node in the profiling monitor (one has fully qualified host name, the
other doesn;t).

The enhancement I am requesting is to make the loaders a little more tolerant to
such differences, and be able to better recognize the hosts. There is enough
information here because they have the same hostname (domain not considered) and
share a common IP address. This should be sufficient to recognize that it's the
same host.

The fact that the agents are sending different things is something we are
following up on separately, but thought I should also open this to add tolerance
in the loaders.

The following is the header that our agent generates on a machine called sun450:

&lt;node nodeId="UUID-1128634484-46335-260172638-882099259"
hostname="sun450.xxx.xxx.xxx.com" ipaddress="19.142.29.169" timezone="300"
time="1128634484.021000000"/&gt;
&lt;processCreate processId="434598740000F1CF6A74F52B4373BF91" name="Data
Collection Infrastructure" pid="4671"
nodeIdRef="UUID-1128634484-46335-260172638-882099259" time="1128634484.021000000"/&gt;
&lt;agentCreate agentId="UUID-1128634484-46335-260172638-882099259" agentName="ARM
Data Collection Agent" agentType="Profiler"
processIdRef="434598740000F1CF6A74F52B4373BF91" version="1"
time="1128634484.021000000"/&gt;
&lt;traceStart traceId="trace_UUID-1128634484-46335-260172638-882099259"
agentIdRef="UUID-1128634484-46335-260172638-882099259" time="1128634484.021000000"/&gt;


The following is the header that the TPTP agent generates on sun450:

&lt;node nodeId="43444D9000086CFA204EA0F902903B70" hostname="sun450"
ipaddress="19.142.29.169,127.0.0.1" timezone="300" time="1128626916.623472929"/&gt;
&lt;processCreate processId="43457AE40009CAF0502AED9C3D71D730" pid="29012"
nodeIdRef="43444D9000086CFA204EA0F902903B70" time="1128626916.623472929"/&gt;
&lt;agentCreate agentId="UUID-1128626916-624856-1642193506-989054882"
version="1.000" processIdRef="43457AE40009CAF0502AED9C3D71D730" agentName="Java
Profiling Agent" agentType="Profiler" agentParameters="server=enabled"
time="1128626916.623472929"/&gt;
&lt;traceStart traceId="UUID-1128631015-366075-686764983-1211583358"
agentIdRef="UUID-1128626916-624856-1642193506-989054882"
time="1128631019.468911647"/&gt;
Batch update of all TPTP platform enhancements that are not part of 4.2 approved plan. Set version to "future" and target milestone to "--". 
As of TPTP 4.6.0, TPTP is in maintenance mode and focusing on improving quality by resolving relevant defects and increasing test coverage through test creation, automation, Build Verification Tests (BVTs), and expanded run-time execution. As such, TPTP is not delivering enhancements. As part of the TPTP Bugzilla housecleaning process (see http://wiki.eclipse.org/Bugzilla_Housecleaning_Processes), this enhancement is resolved as WONTFIX. For this enhancement to be considered, please re-open with an attached patch including the Description Document (see http://www.eclipse.org/tptp/home/documents/process/development/description_documents.html), code (see http://www.eclipse.org/tptp/home/documents/resources/TPTPDevGuide.htm), and test cases (see http://www.eclipse.org/tptp/home/documents/process/TPTP_Testing_Strategy.html).
As of TPTP 4.6.0, TPTP is in maintenance mode and focusing on improving quality by resolving relevant defects and increasing test coverage through test creation, automation, Build Verification Tests (BVTs), and expanded run-time execution. As such, TPTP is not delivering enhancements. As part of the TPTP Bugzilla housecleaning process (see http://wiki.eclipse.org/Bugzilla_Housecleaning_Processes), this enhancement is resolved as WONTFIX. For this enhancement to be considered, please re-open with an attached patch including the Description Document (see http://www.eclipse.org/tptp/home/documents/process/development/description_documents.html), code (see http://www.eclipse.org/tptp/home/documents/resources/TPTPDevGuide.htm), and test cases (see http://www.eclipse.org/tptp/home/documents/process/TPTP_Testing_Strategy.html).
As of TPTP 4.6.0, TPTP is in maintenance mode and focusing on improving quality by resolving relevant enhancements/defects and increasing test coverage through test creation, automation, Build Verification Tests (BVTs), and expanded run-time execution. As part of the TPTP Bugzilla housecleaning process (see http://wiki.eclipse.org/Bugzilla_Housecleaning_Processes), this enhancement/defect is verified/closed by the Project Lead since this enhancement/defect has been resolved and unverified for more than 1 year and considered to be fixed. If this enhancement/defect is still unresolved and reproducible in the latest TPTP release (http://www.eclipse.org/tptp/home/downloads/), please re-open.</WithOutStack>
  </Bug>
  <Bug>
    <BugId amount="111976" />
    <CreationDate amount="2005-10-07 15:06:00 -0400" />
    <DupId amount="" />
    <classification amount="Tools" />
    <Product amount="GEF" />
    <component amount="Draw2d [GEF 3.x / Zest 1.x]" />
    <Version amount="3.1" />
    <rep_platform amount="PC" />
    <op_sys amount="Windows XP" />
    <priority amount="P3" />
    <bug_severity amount="enhancement" />
    <Summery>add transpose to PointList</Summery>
    <Patches amount="0" />
    <Stacktraces amount="0" />
    <SourceCodeRegions amount="0" />
    <Enumerations amount="0" />
    <bug_status amount="RESOLVED" />
    <resolution amount="FIXED" />
    <WithStack>needed for transposing results of graphlayout
&gt; HEAD</WithStack>
    <WithOutStack>needed for transposing results of graphlayout
&gt; HEAD</WithOutStack>
  </Bug>
  <Bug>
    <BugId amount="111977" />
    <CreationDate amount="2005-10-07 15:17:00 -0400" />
    <DupId amount="" />
    <classification amount="WebTools" />
    <Product amount="WTP Website" />
    <component amount="website" />
    <Version amount="0.7" />
    <rep_platform amount="PC" />
    <op_sys amount="Windows XP" />
    <priority amount="P3" />
    <bug_severity amount="minor" />
    <Summery>[website] WTP this month calendar incorrectly links to past events</Summery>
    <Patches amount="0" />
    <Stacktraces amount="0" />
    <SourceCodeRegions amount="0" />
    <Enumerations amount="0" />
    <bug_status amount="CLOSED" />
    <resolution amount="INVALID" />
    <WithStack>The WTP calendar links to events on the community page even when the events are
past events found on the past events page.
I nuked the calendar.  It wasn't ever getting updated.  Open a new bug if we need a new calendar system.
Bob, I had envisioned a unified WTP calendar that pulled together event information such as conference and other presentations, milestone and release dates, meetings, etc. This didn't happen and you're right that the calendar became more or less useless.

I do think there's still a use to maintain a list of upcoming and previous conference and other presentations (such as webinars). This is useful for reference for the WTP community.

I'm closing this bug for the calendar.</WithStack>
    <WithOutStack>The WTP calendar links to events on the community page even when the events are
past events found on the past events page.
I nuked the calendar.  It wasn't ever getting updated.  Open a new bug if we need a new calendar system.
Bob, I had envisioned a unified WTP calendar that pulled together event information such as conference and other presentations, milestone and release dates, meetings, etc. This didn't happen and you're right that the calendar became more or less useless.

I do think there's still a use to maintain a list of upcoming and previous conference and other presentations (such as webinars). This is useful for reference for the WTP community.

I'm closing this bug for the calendar.</WithOutStack>
  </Bug>
  <Bug>
    <BugId amount="111978" />
    <CreationDate amount="2005-10-07 15:18:00 -0400" />
    <DupId amount="" />
    <classification amount="Tools" />
    <Product amount="TPTP Profiling" />
    <component amount="Platform.UI" />
    <Version amount="4.1" />
    <rep_platform amount="PC" />
    <op_sys amount="Windows XP" />
    <priority amount="P3" />
    <bug_severity amount="normal" />
    <Summery>The UI prompts for verification of security certificate is not correct (looping)</Summery>
    <Patches amount="0" />
    <Stacktraces amount="0" />
    <SourceCodeRegions amount="0" />
    <Enumerations amount="0" />
    <bug_status amount="CLOSED" />
    <resolution amount="FIXED" />
    <WithStack>The UI prompts for verification of security certificate is not correct (looping).

There was a problem when checking in the fix to bug 89588 to TPTP 4.0 stream.
Since TPTP 4.0 and 4.0.1 is closed.  We hope to do the fix in 4.0.2 if available.

In the meantime, we are fixing the 4.1 stream.
Fix checked in 10/7/05 3:28 PM
org/eclipse/hyades/security/internal/util/ConnectUtil.java
org/eclipse/hyades/security/internal/util/SecurityMessages.java
org/eclipse/hyades/security/internal/util/messages.properties
Closing...</WithStack>
    <WithOutStack>The UI prompts for verification of security certificate is not correct (looping).

There was a problem when checking in the fix to bug 89588 to TPTP 4.0 stream.
Since TPTP 4.0 and 4.0.1 is closed.  We hope to do the fix in 4.0.2 if available.

In the meantime, we are fixing the 4.1 stream.
Fix checked in 10/7/05 3:28 PM
org/eclipse/hyades/security/internal/util/ConnectUtil.java
org/eclipse/hyades/security/internal/util/SecurityMessages.java
org/eclipse/hyades/security/internal/util/messages.properties
Closing...</WithOutStack>
  </Bug>
  <Bug>
    <BugId amount="111979" />
    <CreationDate amount="2005-10-07 15:30:00 -0400" />
    <DupId amount="" />
    <classification amount="WebTools" />
    <Product amount="WTP Java EE Tools" />
    <component amount="jst.j2ee" />
    <Version amount="1.0" />
    <rep_platform amount="PC" />
    <op_sys amount="Windows XP" />
    <priority amount="P3" />
    <bug_severity amount="normal" />
    <Summery>Test coverage needs to increased for J2EE tools</Summery>
    <Patches amount="0" />
    <Stacktraces amount="0" />
    <SourceCodeRegions amount="0" />
    <Enumerations amount="0" />
    <bug_status amount="CLOSED" />
    <resolution amount="FIXED" />
    <WithStack>The test coverage for different scenarios of j2ee project creation, import
export, project explorer, j2ee validators, j2ee jar dependencies, function
groups needs to be increased new tests need to be added.  The j2ee tools
component is aware is of the shortage and will be working on it
The test coverage was expanded for the M9 test cycle.
Verified in M9 test cycle
Closing</WithStack>
    <WithOutStack>The test coverage for different scenarios of j2ee project creation, import
export, project explorer, j2ee validators, j2ee jar dependencies, function
groups needs to be increased new tests need to be added.  The j2ee tools
component is aware is of the shortage and will be working on it
The test coverage was expanded for the M9 test cycle.
Verified in M9 test cycle
Closing</WithOutStack>
  </Bug>
  <Bug>
    <BugId amount="111980" />
    <CreationDate amount="2005-10-07 15:31:00 -0400" />
    <DupId amount="" />
    <classification amount="Eclipse" />
    <Product amount="JDT" />
    <component amount="Text" />
    <Version amount="3.1.1" />
    <rep_platform amount="All" />
    <op_sys amount="All" />
    <priority amount="P3" />
    <bug_severity amount="normal" />
    <Summery>[content assist] IContextInformationValidator provided by CompoundContentAssistProcessor not always installed</Summery>
    <Patches amount="0" />
    <Stacktraces amount="0" />
    <SourceCodeRegions amount="5">
      <source_code type="singlecomment">
        <location start="1118" end="1182" />
        <code>// install either the validator in the info, or all validators</code>
      </source_code>
      <source_code type="assignment">
        <location start="1182" end="1215" />
        <code>fValidator = getValidator(info);</code>
      </source_code>
      <source_code type="functioncall">
        <location start="1241" end="1294" />
        <code>fValidator.install(info, viewer, documentPosition);</code>
      </source_code>
      <source_code type="elsestatement">
        <location start="1295" end="1495" />
        <code>else {
		for (Iterator it = fValidators.iterator(); it.hasNext();) {
			IContextInformationValidator v = (IContextInformationValidator) it.next();
			v.install(info, viewer, documentPosition);
		}
	}</code>
      </source_code>
      <source_code type="functiondef">
        <location start="1499" end="1976" />
        <code>public boolean isContextInformationValid(int documentPosition) {
	// use either the validator in the info, or all validators
	boolean isValid = false;
	if (fValidator != null)
		isValid =fValidator.isContextInformationValid(documentPosition);
	else {
		for (Iterator it = fValidators.iterator(); it.hasNext();) {
			IContextInformationValidator v = (IContextInformationValidator) it.next();
			isValid |= v.isContextInformationValid(documentPosition);
		}
	}
	return isValid;
}</code>
      </source_code>
    </SourceCodeRegions>
    <Enumerations amount="0" />
    <bug_status amount="VERIFIED" />
    <resolution amount="FIXED" />
    <WithStack>using 3.1.1

CompoundContentAssistProcessor#getContextInformationValidator usually returns
CompoundContentAssistValidator.  CompoundContentAssistValidator has a list of
all CompoundContentAssistProcessor's child processors' validators.

In CompoundContentAssistValidator#install, only the validator associated with
the current IContextInformation is installed.  However, in
CompoundContentAssistValidator#isContextInformationValid all child validators,
including ones that were not installed, are asked if context information is
valid.   This likely results in a NPE because the validator was not installed.
Basically, you either use 1 validator that's already associated with a
prewrapped context information, or you use a list of child validators.  So when
you install, you either install the 1 validator or the list of validators.  Same
with when you ask isContextInformationValid.


The fix should look a little something like the below (something similar also
need to be done to CompoundContentAssistValidatorEx#install):

public void install(IContextInformation info, ITextViewer viewer, int
documentPosition) {
	// install either the validator in the info, or all validators
	fValidator = getValidator(info);
	if (fValidator != null)
		fValidator.install(info, viewer, documentPosition);
	else {
		for (Iterator it = fValidators.iterator(); it.hasNext();) {
			IContextInformationValidator v = (IContextInformationValidator) it.next();
			v.install(info, viewer, documentPosition);
		}
	}
}

public boolean isContextInformationValid(int documentPosition) {
	// use either the validator in the info, or all validators
	boolean isValid = false;
	if (fValidator != null)
		isValid =fValidator.isContextInformationValid(documentPosition);
	else {
		for (Iterator it = fValidators.iterator(); it.hasNext();) {
			IContextInformationValidator v = (IContextInformationValidator) it.next();
			isValid |= v.isContextInformationValid(documentPosition);
		}
	}
	return isValid;
}
And in case you are curious as to why you get either 1 validator or a list. 
When CompoundContentAssistValidator#install is called, you are passed an
IContextInformation.  If the user deliberately asks for context information, a
WrappedContextInformation is passed in.  And it contains the appropriate
associated validator.  
  However, install can also be called when user selects a specific content
assist proposal from the content assist popup.  Then the context information
passed in is the one associated with the content assist proposal
(ICompletionProposal#getContextInformation)  This will not be a wrapped object.

I think a more correct way to fix this bug would be to put a wrapper around
ICompletionProposal so that when getContextInformation is called, a
WrappedContextInformation is returned.  But wrappers, especially on an object
that may or may not implement an extension interface (like ICompletionProposal,
ICompletionProposalExtension, etc) do not sound good.
CompoundContentAssistProcessor is not provided by Eclipse SDK. Did you mean some
other class or is this bug for wtp?
I believe Amy meant the 
CompoundContentAssistProcessor
in
org.eclipse.jdt.internal.ui.text

We are not using that class per se, but used a very similar 
"copy" in WTP, to accomplish similar function in WTP editors, 
where we found (and fixed) the bug ... so .. .I think Amy is 
just providing this as helpful info, in exchange for you providing 
that help helpful internal class to begin with.


Should have done my quick check in 3.1.1 and not HEAD: this class is gone.

Tom, please check whether the described bug exists in the new implementation.
(In reply to comment #5)
&gt; Tom, please check whether the described bug exists in the new implementation.

Will do.

On a side note:
I removed the validator from the new API of CompletionProposalComputer since it
does not make sense to have a single validator for all proposal kinds - the
problems with CompoundContentAssistValidtor stem exactly from this problem:
different proposals may have different validation strategies.

The validator should be added to an improved ICompletionProposal(ExtensionX)
interface.
This problem does not currently occur in the 3.2 stream, since the wrapping CompoundContentAssistProcessor does not exist any longer. In the Java world, we only have a single validator, the one for parameter lists, so we are not currently affected. Since ICompletionProposalComputer does not specify a validator, we don't have the issue currently.

If we ever come up with an ICompletionProposalExtensionX (and an abstrac base class with a default implementation) that has its own validator, we can always delegate getContextInformationValidator() to the proposal.

Fixed in 3.2
verified this no longer exists in eclipse 3.3</WithStack>
    <WithOutStack>using 3.1.1

CompoundContentAssistProcessor#getContextInformationValidator usually returns
CompoundContentAssistValidator.  CompoundContentAssistValidator has a list of
all CompoundContentAssistProcessor's child processors' validators.

In CompoundContentAssistValidator#install, only the validator associated with
the current IContextInformation is installed.  However, in
CompoundContentAssistValidator#isContextInformationValid all child validators,
including ones that were not installed, are asked if context information is
valid.   This likely results in a NPE because the validator was not installed.
Basically, you either use 1 validator that's already associated with a
prewrapped context information, or you use a list of child validators.  So when
you install, you either install the 1 validator or the list of validators.  Same
with when you ask isContextInformationValid.


The fix should look a little something like the below (something similar also
need to be done to CompoundContentAssistValidatorEx#install):

public void install(IContextInformation info, ITextViewer viewer, int
documentPosition) {
	// install either the validator in the info, or all validators
	fValidator = getValidator(info);
	if (fValidator != null)
		fValidator.install(info, viewer, documentPosition);
	else {
		for (Iterator it = fValidators.iterator(); it.hasNext();) {
			IContextInformationValidator v = (IContextInformationValidator) it.next();
			v.install(info, viewer, documentPosition);
		}
	}
}

public boolean isContextInformationValid(int documentPosition) {
	// use either the validator in the info, or all validators
	boolean isValid = false;
	if (fValidator != null)
		isValid =fValidator.isContextInformationValid(documentPosition);
	else {
		for (Iterator it = fValidators.iterator(); it.hasNext();) {
			IContextInformationValidator v = (IContextInformationValidator) it.next();
			isValid |= v.isContextInformationValid(documentPosition);
		}
	}
	return isValid;
}
And in case you are curious as to why you get either 1 validator or a list. 
When CompoundContentAssistValidator#install is called, you are passed an
IContextInformation.  If the user deliberately asks for context information, a
WrappedContextInformation is passed in.  And it contains the appropriate
associated validator.  
  However, install can also be called when user selects a specific content
assist proposal from the content assist popup.  Then the context information
passed in is the one associated with the content assist proposal
(ICompletionProposal#getContextInformation)  This will not be a wrapped object.

I think a more correct way to fix this bug would be to put a wrapper around
ICompletionProposal so that when getContextInformation is called, a
WrappedContextInformation is returned.  But wrappers, especially on an object
that may or may not implement an extension interface (like ICompletionProposal,
ICompletionProposalExtension, etc) do not sound good.
CompoundContentAssistProcessor is not provided by Eclipse SDK. Did you mean some
other class or is this bug for wtp?
I believe Amy meant the 
CompoundContentAssistProcessor
in
org.eclipse.jdt.internal.ui.text

We are not using that class per se, but used a very similar 
"copy" in WTP, to accomplish similar function in WTP editors, 
where we found (and fixed) the bug ... so .. .I think Amy is 
just providing this as helpful info, in exchange for you providing 
that help helpful internal class to begin with.


Should have done my quick check in 3.1.1 and not HEAD: this class is gone.

Tom, please check whether the described bug exists in the new implementation.
(In reply to comment #5)
&gt; Tom, please check whether the described bug exists in the new implementation.

Will do.

On a side note:
I removed the validator from the new API of CompletionProposalComputer since it
does not make sense to have a single validator for all proposal kinds - the
problems with CompoundContentAssistValidtor stem exactly from this problem:
different proposals may have different validation strategies.

The validator should be added to an improved ICompletionProposal(ExtensionX)
interface.
This problem does not currently occur in the 3.2 stream, since the wrapping CompoundContentAssistProcessor does not exist any longer. In the Java world, we only have a single validator, the one for parameter lists, so we are not currently affected. Since ICompletionProposalComputer does not specify a validator, we don't have the issue currently.

If we ever come up with an ICompletionProposalExtensionX (and an abstrac base class with a default implementation) that has its own validator, we can always delegate getContextInformationValidator() to the proposal.

Fixed in 3.2
verified this no longer exists in eclipse 3.3</WithOutStack>
  </Bug>
  <Bug>
    <BugId amount="111981" />
    <CreationDate amount="2005-10-07 15:39:00 -0400" />
    <DupId amount="" />
    <classification amount="Tools" />
    <Product amount="TPTP Profiling" />
    <component amount="Platform.UI" />
    <Version amount="4.0" />
    <rep_platform amount="PC" />
    <op_sys amount="Windows XP" />
    <priority amount="P3" />
    <bug_severity amount="critical" />
    <Summery>The UI prompts for verification of security certificate is not correct (looping)</Summery>
    <Patches amount="0" />
    <Stacktraces amount="0" />
    <SourceCodeRegions amount="0" />
    <Enumerations amount="1">
      <Enumeration lines="3">
        <Lines>
          <Line>- org/eclipse/hyades/security/internal/util/ConnectUtil.java</Line>
          <Line>- org/eclipse/hyades/security/internal/util/SecurityMessages.java</Line>
          <Line>- org/eclipse/hyades/security/internal/util/messages.properties</Line>
        </Lines>
      </Enumeration>
    </Enumerations>
    <bug_status amount="CLOSED" />
    <resolution amount="FIXED" />
    <WithStack>The UI prompts for verification of security certificate is not correct (looping).

There was a problem when checking in the fix to bug 89588 to TPTP 4.0 stream.
Since TPTP 4.0 and 4.0.1 is closed.  We hope to do the fix in 4.0.2 if available.
This is a place holder for it.

TPTP 4.1 stream was fixed in bug 111978
Targeting 4.0.2 as per decison from TPTP platform meeting on Oct 19, 2005
Same fix from bug 111978 was back-ported to this branch (4.0.1.1)
- org/eclipse/hyades/security/internal/util/ConnectUtil.java
- org/eclipse/hyades/security/internal/util/SecurityMessages.java
- org/eclipse/hyades/security/internal/util/messages.properties

Closing...</WithStack>
    <WithOutStack>The UI prompts for verification of security certificate is not correct (looping).

There was a problem when checking in the fix to bug 89588 to TPTP 4.0 stream.
Since TPTP 4.0 and 4.0.1 is closed.  We hope to do the fix in 4.0.2 if available.
This is a place holder for it.

TPTP 4.1 stream was fixed in bug 111978
Targeting 4.0.2 as per decison from TPTP platform meeting on Oct 19, 2005
Same fix from bug 111978 was back-ported to this branch (4.0.1.1)
- org/eclipse/hyades/security/internal/util/ConnectUtil.java
- org/eclipse/hyades/security/internal/util/SecurityMessages.java
- org/eclipse/hyades/security/internal/util/messages.properties

Closing...</WithOutStack>
  </Bug>
  <Bug>
    <BugId amount="111982" />
    <CreationDate amount="2005-10-07 15:40:00 -0400" />
    <DupId amount="" />
    <classification amount="WebTools" />
    <Product amount="WTP Common Tools" />
    <component amount="wst.common" />
    <Version amount="1.0" />
    <rep_platform amount="PC" />
    <op_sys amount="Windows XP" />
    <priority amount="P3" />
    <bug_severity amount="critical" />
    <Summery>org.eclipse.wst.common.emfworkbench.integration drags in UI</Summery>
    <Patches amount="0" />
    <Stacktraces amount="0" />
    <SourceCodeRegions amount="0" />
    <Enumerations amount="0" />
    <bug_status amount="CLOSED" />
    <resolution amount="FIXED" />
    <WithStack>The org.eclipse.wst.common.emfworkbench.integration plugin in WTP 1.0 M8 drags
in the org.eclipse.emf.importer.java which drags in Eclipse UI. When I load 
this plugin into a self-hosting workspace, it appears this import is 
unnecessary.

We produce a non-UI headless product which cannot have any UI dependencies and 
may need a patch for this on WTP 1.0 M8.
Removed this import
This bug is being moved to the "closed" state since it has been in the fixed state for a so long it is being assumed fixed, without explicit verification from the originator. If there is still a problem, in the most recent 1.5.x builds, please reopen or open another bug.</WithStack>
    <WithOutStack>The org.eclipse.wst.common.emfworkbench.integration plugin in WTP 1.0 M8 drags
in the org.eclipse.emf.importer.java which drags in Eclipse UI. When I load 
this plugin into a self-hosting workspace, it appears this import is 
unnecessary.

We produce a non-UI headless product which cannot have any UI dependencies and 
may need a patch for this on WTP 1.0 M8.
Removed this import
This bug is being moved to the "closed" state since it has been in the fixed state for a so long it is being assumed fixed, without explicit verification from the originator. If there is still a problem, in the most recent 1.5.x builds, please reopen or open another bug.</WithOutStack>
  </Bug>
  <Bug>
    <BugId amount="111983" />
    <CreationDate amount="2005-10-07 15:46:00 -0400" />
    <DupId amount="" />
    <classification amount="Eclipse" />
    <Product amount="Platform" />
    <component amount="UI" />
    <Version amount="3.1" />
    <rep_platform amount="PC" />
    <op_sys amount="Windows XP" />
    <priority amount="P3" />
    <bug_severity amount="minor" />
    <Summery>[Dialogs] DialogSettings.getBoolean() Should not create an instance of Boolean</Summery>
    <Patches amount="0" />
    <Stacktraces amount="0" />
    <SourceCodeRegions amount="0" />
    <Enumerations amount="0" />
    <bug_status amount="VERIFIED" />
    <resolution amount="FIXED" />
    <WithStack>There should never be a need to create instances of the Boolean class. The two 
static references are sufficient. The getBoolean() method of DialogSettings 
should use Boolean.valueOf() instead of creating an instance of Boolean and 
calling booleanValue().
Fixed &gt;20051010
verified on I20051101-1204 through code inspection</WithStack>
    <WithOutStack>There should never be a need to create instances of the Boolean class. The two 
static references are sufficient. The getBoolean() method of DialogSettings 
should use Boolean.valueOf() instead of creating an instance of Boolean and 
calling booleanValue().
Fixed &gt;20051010
verified on I20051101-1204 through code inspection</WithOutStack>
  </Bug>
  <Bug>
    <BugId amount="111984" />
    <CreationDate amount="2005-10-07 15:47:00 -0400" />
    <DupId amount="130165" />
    <classification amount="WebTools" />
    <Product amount="Web Tools" />
    <component amount="documentation" />
    <Version amount="0.7" />
    <rep_platform amount="PC" />
    <op_sys amount="Windows XP" />
    <priority amount="P3" />
    <bug_severity amount="normal" />
    <Summery>split org.eclipse.jst.ejb.doc.user into separate feature</Summery>
    <Patches amount="0" />
    <Stacktraces amount="0" />
    <SourceCodeRegions amount="0" />
    <Enumerations amount="0" />
    <bug_status amount="CLOSED" />
    <resolution amount="DUPLICATE" />
    <WithStack>due to refactoring of the code plugins that go with this doc plugin, there is a 
need to split the org.eclipse.jst.ejb.doc.user plugin into a separate feature
Carol, can you specify what the refactoring was and why this requires this
plugin be located in a separate feature?
the EJB create wizard is changing. there was a bug that prevented it from being 
extended (don't know the bug number). by refactoring, i was referring to the 
ongoing refactoring of the once-IBM code into the opensource JST code.
the wizard will be extended, but the doc plugin cannot be extended. so by 
splitting the plugin into a different feature, we can more easily manipulate it 
and simulate the extension of the doc plugin
Susan, another request from Carol for you.
Lawrence. Which feature is appropriate for this plugin?
Carol, was this split taken care of in 1.0 or 1.0.1?
This bug still hasn't been dealt with - I'd prefer it if we could get it taken care of via bug 130165 in WTP 1.0.2 because it's causing problems in a couple adopter products.


Bug 130165 is not currently targetted at 1.0.2. I don't know that it's appropriate to handle that bug in a maintenance release but you should add a comment either way.

If this issue will be handled in bug 130165 can I dup it to that bug? Is there a need to keep this bug report open?
you can mark this bug as a dup of 130165 
Duping bug as per Kate's suggestion. Kate will follow up with David in bug 130165.

*** This bug has been marked as a duplicate of 130165 ***
This is part of a mass update to close out all stale WTP bugs which are in the resolved state without an appropriate targeted version.  If you feel this bug was closed inappropriately, please reopen.</WithStack>
    <WithOutStack>due to refactoring of the code plugins that go with this doc plugin, there is a 
need to split the org.eclipse.jst.ejb.doc.user plugin into a separate feature
Carol, can you specify what the refactoring was and why this requires this
plugin be located in a separate feature?
the EJB create wizard is changing. there was a bug that prevented it from being 
extended (don't know the bug number). by refactoring, i was referring to the 
ongoing refactoring of the once-IBM code into the opensource JST code.
the wizard will be extended, but the doc plugin cannot be extended. so by 
splitting the plugin into a different feature, we can more easily manipulate it 
and simulate the extension of the doc plugin
Susan, another request from Carol for you.
Lawrence. Which feature is appropriate for this plugin?
Carol, was this split taken care of in 1.0 or 1.0.1?
This bug still hasn't been dealt with - I'd prefer it if we could get it taken care of via bug 130165 in WTP 1.0.2 because it's causing problems in a couple adopter products.


Bug 130165 is not currently targetted at 1.0.2. I don't know that it's appropriate to handle that bug in a maintenance release but you should add a comment either way.

If this issue will be handled in bug 130165 can I dup it to that bug? Is there a need to keep this bug report open?
you can mark this bug as a dup of 130165 
Duping bug as per Kate's suggestion. Kate will follow up with David in bug 130165.

*** This bug has been marked as a duplicate of 130165 ***
This is part of a mass update to close out all stale WTP bugs which are in the resolved state without an appropriate targeted version.  If you feel this bug was closed inappropriately, please reopen.</WithOutStack>
  </Bug>
  <Bug>
    <BugId amount="111985" />
    <CreationDate amount="2005-10-07 15:50:00 -0400" />
    <DupId amount="" />
    <classification amount="WebTools" />
    <Product amount="WTP Webservices" />
    <component amount="wst.ws" />
    <Version amount="1.0" />
    <rep_platform amount="PC" />
    <op_sys amount="Windows XP" />
    <priority amount="P3" />
    <bug_severity amount="major" />
    <Summery>Does org.apache.axis really need org.eclipse.tomcat?</Summery>
    <Patches amount="0" />
    <Stacktraces amount="0" />
    <SourceCodeRegions amount="0" />
    <Enumerations amount="0" />
    <bug_status amount="CLOSED" />
    <resolution amount="FIXED" />
    <WithStack>The subject pretty much says it all but does org.apache.axis really need
org.eclipse.tomcat? This drags in a complete appserver into our batch tool
infrastructure making it more heavyweight than necessary. Jeffrey speculated
that this dependency is to resolve servlet.jar. Isn't there a better way to
do this in WTP?
I'll see what we can do. At present, yes, Axis needs Tomcat as a provider of 
servlet.jar. We tried including our own copy of servlet.jar but all sorts of 
legal bells started ringing, so we backed off. Is this really a "major" issue?
Chris,

It's major in that we're trying to remove bloat from our batch headless product
and I'm forced to look into questionable dependencies that get dragged in.
FYI ... we had some similar requirement in JSP/Taglib function. 
In our case, it was isolated enough we could easily list the tomcat plugin
as "optional", and if it wasn't there, we just didn't do that part of 
the function (it is for content assist, validation).  I believe we do 
check for a "class not found" sort of exception, and just "do nothing" 
if that function should ever be accidently executed without the plugin in the
stack (would not happen normally, just if someone was "messing around" 
with plugins). 

If you are really using tomcat to launch a web app, that should be 
possible for you as well .. of course, if you are using it for some
intricate function, could take a lot of work. 

Again .. just FYI. 


Via bug 136954, org.apache.tomcat has been removed from org.apache.axis. We don't suspect any fallout from this (specifically wrt. the emitters running within Eclipse), but still have to verify this.
please verify all is is well in RC1. 

FYI.  I've tested the Axis emitters in the WTP 1.5RC1 200604191317 build.  The smoke tests are running smoothly as before.
As we are trying to close down WTP 1.5, please get the latest WTP 1.5 driver to verify the bug and reopen if the problem had not been fixed.  If this defect is not verified/reopened by end of day 06/16, I'll attempt to verify the defect by reproducing the problem as described in the defect.  However, since you know your scenario best, it would be more appropriate if you verify the fix.
Closed.</WithStack>
    <WithOutStack>The subject pretty much says it all but does org.apache.axis really need
org.eclipse.tomcat? This drags in a complete appserver into our batch tool
infrastructure making it more heavyweight than necessary. Jeffrey speculated
that this dependency is to resolve servlet.jar. Isn't there a better way to
do this in WTP?
I'll see what we can do. At present, yes, Axis needs Tomcat as a provider of 
servlet.jar. We tried including our own copy of servlet.jar but all sorts of 
legal bells started ringing, so we backed off. Is this really a "major" issue?
Chris,

It's major in that we're trying to remove bloat from our batch headless product
and I'm forced to look into questionable dependencies that get dragged in.
FYI ... we had some similar requirement in JSP/Taglib function. 
In our case, it was isolated enough we could easily list the tomcat plugin
as "optional", and if it wasn't there, we just didn't do that part of 
the function (it is for content assist, validation).  I believe we do 
check for a "class not found" sort of exception, and just "do nothing" 
if that function should ever be accidently executed without the plugin in the
stack (would not happen normally, just if someone was "messing around" 
with plugins). 

If you are really using tomcat to launch a web app, that should be 
possible for you as well .. of course, if you are using it for some
intricate function, could take a lot of work. 

Again .. just FYI. 


Via bug 136954, org.apache.tomcat has been removed from org.apache.axis. We don't suspect any fallout from this (specifically wrt. the emitters running within Eclipse), but still have to verify this.
please verify all is is well in RC1. 

FYI.  I've tested the Axis emitters in the WTP 1.5RC1 200604191317 build.  The smoke tests are running smoothly as before.
As we are trying to close down WTP 1.5, please get the latest WTP 1.5 driver to verify the bug and reopen if the problem had not been fixed.  If this defect is not verified/reopened by end of day 06/16, I'll attempt to verify the defect by reproducing the problem as described in the defect.  However, since you know your scenario best, it would be more appropriate if you verify the fix.
Closed.</WithOutStack>
  </Bug>
  <Bug>
    <BugId amount="111986" />
    <CreationDate amount="2005-10-07 15:59:00 -0400" />
    <DupId amount="" />
    <classification amount="Eclipse" />
    <Product amount="Platform" />
    <component amount="UI" />
    <Version amount="3.1.1" />
    <rep_platform amount="PC" />
    <op_sys amount="Linux" />
    <priority amount="P5" />
    <bug_severity amount="normal" />
    <Summery>[Dialogs] SWT dialog initially renders correctly; Jface dialog does not</Summery>
    <Patches amount="0" />
    <Stacktraces amount="0" />
    <SourceCodeRegions amount="0" />
    <Enumerations amount="0" />
    <bug_status amount="RESOLVED" />
    <resolution amount="FIXED" />
    <WithStack>See the attached snippet
Created attachment 28053
Snippet that shows problem
changing prio and status to conform to plat-ui bug guidelines
This works correctly in 3.3.1.</WithStack>
    <WithOutStack>See the attached snippet
Created attachment 28053
Snippet that shows problem
changing prio and status to conform to plat-ui bug guidelines
This works correctly in 3.3.1.</WithOutStack>
  </Bug>
  <Bug>
    <BugId amount="111987" />
    <CreationDate amount="2005-10-07 16:02:00 -0400" />
    <DupId amount="" />
    <classification amount="RT" />
    <Product amount="ERCP" />
    <component amount="eSWT" />
    <Version amount="RC1" />
    <rep_platform amount="PC" />
    <op_sys amount="Windows XP" />
    <priority amount="P3" />
    <bug_severity amount="normal" />
    <Summery>getActiveShell and handle value discrepancy</Summery>
    <Patches amount="0" />
    <Stacktraces amount="0" />
    <SourceCodeRegions amount="0" />
    <Enumerations amount="1">
      <Enumeration lines="14">
        <Lines>
          <Line>1. Launch ActiveShellTest, you'll find the shell 1's handle printed in console.</Line>
          <Line>2. Press "Create Shell 2" button, you'll find another shell, shell 2, created</Line>
          <Line>and its handle printed in console as well.</Line>
          <Line>3. At this moment, press "print active shell handle" button, the shell's handle</Line>
          <Line>returned by display.getActiveShell() is the same as shell 2's.</Line>
          <Line>4. Press "Create Dialog" button, you'll find a dialog created with its shell's</Line>
          <Line>handle printed in console as well.</Line>
          <Line>5. Press "close" of the newly created dialog, at this point, the</Line>
          <Line>display.getActiveShell will return 0 rather than shell 2's handle. The same</Line>
          <Line>output happened while you press "print active shell handle" button.</Line>
          <Line>Created attachment 28054</Line>
          <Line>test case</Line>
          <Line>Changed shellCallback to set active shell during shell activation.</Line>
          <Line>Lynne,</Line>
        </Lines>
      </Enumeration>
    </Enumerations>
    <bug_status amount="VERIFIED" />
    <resolution amount="FIXED" />
    <WithStack>1. Launch ActiveShellTest, you'll find the shell 1's handle printed in console.
2. Press "Create Shell 2" button, you'll find another shell, shell 2, created 
and its handle printed in console as well.
3. At this moment, press "print active shell handle" button, the shell's handle 
returned by display.getActiveShell() is the same as shell 2's.
4. Press "Create Dialog" button, you'll find a dialog created with its shell's 
handle printed in console as well.
5. Press "close" of the newly created dialog, at this point, the 
display.getActiveShell will return 0 rather than shell 2's handle. The same 
output happened while you press "print active shell handle" button.
Created attachment 28054
test case
Changed shellCallback to set active shell during shell activation.
Lynne,

I just tried but found the problem still exists, could you take a look? Thanks.
The change has not been released to the ercp repository.
Please don't mark bugs "FIXED" until the code is released to Eclipse CVS and
available for someone to build and verify.
Fix out in ercp repository.
*** Bug 108867 has been marked as a duplicate of this bug. ***
Verified</WithStack>
    <WithOutStack>1. Launch ActiveShellTest, you'll find the shell 1's handle printed in console.
2. Press "Create Shell 2" button, you'll find another shell, shell 2, created 
and its handle printed in console as well.
3. At this moment, press "print active shell handle" button, the shell's handle 
returned by display.getActiveShell() is the same as shell 2's.
4. Press "Create Dialog" button, you'll find a dialog created with its shell's 
handle printed in console as well.
5. Press "close" of the newly created dialog, at this point, the 
display.getActiveShell will return 0 rather than shell 2's handle. The same 
output happened while you press "print active shell handle" button.
Created attachment 28054
test case
Changed shellCallback to set active shell during shell activation.
Lynne,

I just tried but found the problem still exists, could you take a look? Thanks.
The change has not been released to the ercp repository.
Please don't mark bugs "FIXED" until the code is released to Eclipse CVS and
available for someone to build and verify.
Fix out in ercp repository.
*** Bug 108867 has been marked as a duplicate of this bug. ***
Verified</WithOutStack>
  </Bug>
  <Bug>
    <BugId amount="111988" />
    <CreationDate amount="2005-10-07 16:11:00 -0400" />
    <DupId amount="" />
    <classification amount="Eclipse" />
    <Product amount="PDE" />
    <component amount="Build" />
    <Version amount="3.1" />
    <rep_platform amount="PC" />
    <op_sys amount="Windows XP" />
    <priority amount="P3" />
    <bug_severity amount="minor" />
    <Summery>build.proerties template in org.eclipse.pde.build has typo</Summery>
    <Patches amount="0" />
    <Stacktraces amount="0" />
    <SourceCodeRegions amount="0" />
    <Enumerations amount="0" />
    <bug_status amount="RESOLVED" />
    <resolution amount="FIXED" />
    <WithStack>The build.properties located in the templates/ dir in the PDE build plugin has 
the following section....

# The list of {os, ws, arch} configurations to build.  This 
# value is a '&amp;' separated list of ',' separate triples.  For example, 
#     configs=win32,win32,x86 &amp; linux,motif,x86
# By default the value is *,*,*
#config=win32, win32, x86 &amp; \
#	linux, gtk, ppc &amp;\
# linux, gtk, x86 &amp; \
#	linux, gtk, x86_64 &amp; \
#	linux, motif, x86 &amp; \
#	solaris, motif, sparc &amp; \
#	solaris, gtk, sparc &amp; \
#	aix, motif, ppc &amp; \
#	hpux, motif, PA_RISC &amp; \
#	macosx, carbon, ppc

The description for this section references the "configs" property, but the 
commented out property shown below is "config".  Should be "configs".

Present in 3.1, 3.1.1 and 3.2.
Fixed released in HEAD. Thanks for catching this.</WithStack>
    <WithOutStack>The build.properties located in the templates/ dir in the PDE build plugin has 
the following section....

# The list of {os, ws, arch} configurations to build.  This 
# value is a '&amp;' separated list of ',' separate triples.  For example, 
#     configs=win32,win32,x86 &amp; linux,motif,x86
# By default the value is *,*,*
#config=win32, win32, x86 &amp; \
#	linux, gtk, ppc &amp;\
# linux, gtk, x86 &amp; \
#	linux, gtk, x86_64 &amp; \
#	linux, motif, x86 &amp; \
#	solaris, motif, sparc &amp; \
#	solaris, gtk, sparc &amp; \
#	aix, motif, ppc &amp; \
#	hpux, motif, PA_RISC &amp; \
#	macosx, carbon, ppc

The description for this section references the "configs" property, but the 
commented out property shown below is "config".  Should be "configs".

Present in 3.1, 3.1.1 and 3.2.
Fixed released in HEAD. Thanks for catching this.</WithOutStack>
  </Bug>
  <Bug>
    <BugId amount="111989" />
    <CreationDate amount="2005-10-07 16:13:00 -0400" />
    <DupId amount="" />
    <classification amount="Eclipse" />
    <Product amount="Platform" />
    <component amount="UI" />
    <Version amount="3.2" />
    <rep_platform amount="PC" />
    <op_sys amount="Windows XP" />
    <priority amount="P3" />
    <bug_severity amount="normal" />
    <Summery>Warnings in WizardImportPage</Summery>
    <Patches amount="0" />
    <Stacktraces amount="0" />
    <SourceCodeRegions amount="2">
      <source_code type="functiondef">
        <location start="196" end="237" />
        <code>1	The field new IRunnableWithProgress(){}</code>
      </source_code>
      <source_code type="functiondef">
        <location start="419" end="460" />
        <code>1	The field new IRunnableWithProgress(){}</code>
      </source_code>
    </SourceCodeRegions>
    <Enumerations amount="0" />
    <bug_status amount="VERIFIED" />
    <resolution amount="FIXED" />
    <WithStack>WizardImportPage has the following warnings. As they are variables that are set
a lot this might indicate some sort of breakage.

Severity	Description	Resource	In Folder	Location	Creation Time	Id
1	The field new IRunnableWithProgress(){}.zipCurrentProvider is never read
locally	WizardProjectsImportPage.java
org.eclipse.ui.ide/src/org/eclipse/ui/internal/wizards/datatransfer	line 620
October 7, 2005 4:10:41 PM	56059
1	The field new IRunnableWithProgress(){}.tarCurrentProvider is never read
locally	WizardProjectsImportPage.java
org.eclipse.ui.ide/src/org/eclipse/ui/internal/wizards/datatransfer	line 622
October 7, 2005 4:10:41 PM	56060
If you compare v1.8 and v1.9 of WizardProjectsImportPage you will see the 2 
unread local variables.  I think the stricter warnings has just brought this to 
our attention.  I can try removing the code and running the Data Transfer tests 
to see if this makes a difference.
I was going to release fix for this as part of the fix for another bug but Doug 
beat me to the punch.  Revision 1.20 of WizardProjectsImportPage.
verified in latest code from HEAD</WithStack>
    <WithOutStack>WizardImportPage has the following warnings. As they are variables that are set
a lot this might indicate some sort of breakage.

Severity	Description	Resource	In Folder	Location	Creation Time	Id
1	The field new IRunnableWithProgress(){}.zipCurrentProvider is never read
locally	WizardProjectsImportPage.java
org.eclipse.ui.ide/src/org/eclipse/ui/internal/wizards/datatransfer	line 620
October 7, 2005 4:10:41 PM	56059
1	The field new IRunnableWithProgress(){}.tarCurrentProvider is never read
locally	WizardProjectsImportPage.java
org.eclipse.ui.ide/src/org/eclipse/ui/internal/wizards/datatransfer	line 622
October 7, 2005 4:10:41 PM	56060
If you compare v1.8 and v1.9 of WizardProjectsImportPage you will see the 2 
unread local variables.  I think the stricter warnings has just brought this to 
our attention.  I can try removing the code and running the Data Transfer tests 
to see if this makes a difference.
I was going to release fix for this as part of the fix for another bug but Doug 
beat me to the punch.  Revision 1.20 of WizardProjectsImportPage.
verified in latest code from HEAD</WithOutStack>
  </Bug>
  <Bug>
    <BugId amount="111990" />
    <CreationDate amount="2005-10-07 16:23:00 -0400" />
    <DupId amount="" />
    <classification amount="Modeling" />
    <Product amount="GMF-Runtime" />
    <component amount="General" />
    <Version amount="1.0" />
    <rep_platform amount="PC" />
    <op_sys amount="Windows XP" />
    <priority amount="P3" />
    <bug_severity amount="enhancement" />
    <Summery>[ElementType] Add example for reference element types</Summery>
    <Patches amount="0" />
    <Stacktraces amount="0" />
    <SourceCodeRegions amount="0" />
    <Enumerations amount="0" />
    <bug_status amount="RESOLVED" />
    <resolution amount="WONTFIX" />
    <WithStack>It would be helpful to have an example for an element type that represents an 
EReference, rather than an EClass.  It should demonstrate how to create this 
reference type from the tool palette on a diagram.
Moving to the next release, GMF 2.1.
We never added this example. 
[GMF Restructure] Bug 319140 : product GMF and component
Runtime was the original product and component for this bug</WithStack>
    <WithOutStack>It would be helpful to have an example for an element type that represents an 
EReference, rather than an EClass.  It should demonstrate how to create this 
reference type from the tool palette on a diagram.
Moving to the next release, GMF 2.1.
We never added this example. 
[GMF Restructure] Bug 319140 : product GMF and component
Runtime was the original product and component for this bug</WithOutStack>
  </Bug>
  <Bug>
    <BugId amount="111991" />
    <CreationDate amount="2005-10-07 16:34:00 -0400" />
    <DupId amount="" />
    <classification amount="WebTools" />
    <Product amount="WTP Website" />
    <component amount="website" />
    <Version amount="0.7" />
    <rep_platform amount="PC" />
    <op_sys amount="Windows XP" />
    <priority amount="P3" />
    <bug_severity amount="normal" />
    <Summery>[tutorial] request: How to import legacy project, PetShop and port to your server</Summery>
    <Patches amount="0" />
    <Stacktraces amount="0" />
    <SourceCodeRegions amount="0" />
    <Enumerations amount="0" />
    <bug_status amount="NEW" />
    <resolution amount="" />
    <WithStack>As per Fred Grott's comments on EclipseZone [1] this is a request for a tutorial
detailing how to import a legacy project into WTP.

[1] http://www.eclipsezone.com/eclipse/forums/m91936699.html#91936699
Chuck, as your team owns the J2EE model is there someone on your team that can write a tutorial covering the migration of existing projects to WTP?
Hi sure....   not completely sure what is being asked..    consuming a j2ee project or sample like sun's petstore?     Or migration of previous workspaces or releases.....


I believe the original request was a tutorial that covers how to import an existing Web project into Eclipse. This Web project is not a project that was developed using WTP or even necessarily Eclipse. That's why I suggested using a well known Web app such as PetShop as the example in the tutorial.
I'm reassigning to the website component as tutorials fall under its umbrella.</WithStack>
    <WithOutStack>As per Fred Grott's comments on EclipseZone [1] this is a request for a tutorial
detailing how to import a legacy project into WTP.

[1] http://www.eclipsezone.com/eclipse/forums/m91936699.html#91936699
Chuck, as your team owns the J2EE model is there someone on your team that can write a tutorial covering the migration of existing projects to WTP?
Hi sure....   not completely sure what is being asked..    consuming a j2ee project or sample like sun's petstore?     Or migration of previous workspaces or releases.....


I believe the original request was a tutorial that covers how to import an existing Web project into Eclipse. This Web project is not a project that was developed using WTP or even necessarily Eclipse. That's why I suggested using a well known Web app such as PetShop as the example in the tutorial.
I'm reassigning to the website component as tutorials fall under its umbrella.</WithOutStack>
  </Bug>
  <Bug>
    <BugId amount="111992" />
    <CreationDate amount="2005-10-07 16:37:00 -0400" />
    <DupId amount="" />
    <classification amount="Eclipse Foundation" />
    <Product amount="z_Archived" />
    <component amount="WTP Datatools" />
    <Version amount="unspecified" />
    <rep_platform amount="PC" />
    <op_sys amount="Windows XP" />
    <priority amount="P3" />
    <bug_severity amount="normal" />
    <Summery>Tutorial request: Database integration/viewing/etc with RDB</Summery>
    <Patches amount="0" />
    <Stacktraces amount="0" />
    <SourceCodeRegions amount="0" />
    <Enumerations amount="0" />
    <bug_status amount="CLOSED" />
    <resolution amount="WONTFIX" />
    <WithStack>This is a tutorial request as per Fred Grott's comments on EclipseZone [1]. The
current RDB tutorial is not very helpful for new users. We need an easy to
follow guide that will demonstrate how to use the RDB tools. It may be
appropriate to break this up into several tutorials that show how to connect to
different db types.

[1] http://www.eclipsezone.com/eclipse/forums/m91936699.html#91936699
changing target from 1.5 M1 to 1.5 M5 to reflect new numbering system as we join Collisto. 
Moved out of M5.
In the interest of bugzilla bookkeeping, I'm marking all the old RBD bugs as "won't fix" since no further maintenance is planned for that component. 

If you still have some issues with database tools I suggest you use and open bugs against the Eclipse DTP Project. 

We do appreciate you helping us by opening the bug, though, and apologize it was not able to be resolved in a better and more timely manner. 


 
Closing.</WithStack>
    <WithOutStack>This is a tutorial request as per Fred Grott's comments on EclipseZone [1]. The
current RDB tutorial is not very helpful for new users. We need an easy to
follow guide that will demonstrate how to use the RDB tools. It may be
appropriate to break this up into several tutorials that show how to connect to
different db types.

[1] http://www.eclipsezone.com/eclipse/forums/m91936699.html#91936699
changing target from 1.5 M1 to 1.5 M5 to reflect new numbering system as we join Collisto. 
Moved out of M5.
In the interest of bugzilla bookkeeping, I'm marking all the old RBD bugs as "won't fix" since no further maintenance is planned for that component. 

If you still have some issues with database tools I suggest you use and open bugs against the Eclipse DTP Project. 

We do appreciate you helping us by opening the bug, though, and apologize it was not able to be resolved in a better and more timely manner. 


 
Closing.</WithOutStack>
  </Bug>
  <Bug>
    <BugId amount="111993" />
    <CreationDate amount="2005-10-07 16:59:00 -0400" />
    <DupId amount="" />
    <classification amount="Tools" />
    <Product amount="TPTP Testing" />
    <component amount="Test.Execution" />
    <Version amount="4.1" />
    <rep_platform amount="PC" />
    <op_sys amount="Windows XP" />
    <priority amount="P3" />
    <bug_severity amount="normal" />
    <Summery>[Architecture]  Migrate file system services to separate plug-in (remove from execution plug-in)</Summery>
    <Patches amount="0" />
    <Stacktraces amount="0" />
    <SourceCodeRegions amount="0" />
    <Enumerations amount="0" />
    <bug_status amount="CLOSED" />
    <resolution amount="WONTFIX" />
    <WithStack>The TPTP automation framework (used for executing TPTP services outside of
Eclipse via command and ant scripts) is currently located in the execution
plug-in, I'd like to petition to have this moved to a separate plug-in.  It has
no compile-time dependencies on others TPTP components.  At run-time, using
extension points, the TPTP test.tools.core plug-in contributes a test execution
service into the framework.

I suggest "org.eclipse.tptp.automation" -- it is a common component that could
be evolved further and contributed upstream to the Eclipse platform potentially.
 I would like to see it grown into a full-fledged automation server for Eclipse.

I would like to petition for the moving of the file system services (file
transfer services) component to a separate plug-in.  The file transfer
functionality is separate from the execution framework and is pluggable, no need
to further couple it in the sample plug-in.

I will suggest "org.eclipse.tptp.platform.services" or
"org.eclipse.tptp.platform.filesystem.services" or
"org.eclipse.tptp.platform.agents.filesystem", or etc
I am targeting this for 4.2. I hope to start exploration of how to refactor 
the TPTP platform execution framework. The actually implementation may need to 
be deferred for 5.0 release as it is likely to change existing API.
Makes sense to move it to a seperate plugin - we will not be able to do so in 4.2 i2 and hence deferred to future. I will bring this up in the Platform call for discussion.
As of TPTP 4.6.0, TPTP is in maintenance mode and focusing on improving quality by resolving relevant defects and increasing test coverage through test creation, automation, Build Verification Tests (BVTs), and expanded run-time execution. Since this defect is more than 2 years old, it may be no longer relevant. As part of the TPTP Bugzilla housecleaning process (see http://wiki.eclipse.org/Bugzilla_Housecleaning_Processes), this defect is resolved as WONTFIX. If this defect is still relevant and reproducible in the latest TPTP release (http://www.eclipse.org/tptp/home/downloads/), please re-open.
Closing.
Mistakenly closed for the originator.  Reopening for the originator to verify/close.
Re-resolving as WONTIFX.
As of TPTP 4.6.0, TPTP is in maintenance mode and focusing on improving quality by resolving relevant enhancements/defects and increasing test coverage through test creation, automation, Build Verification Tests (BVTs), and expanded run-time execution. As part of the TPTP Bugzilla housecleaning process (see http://wiki.eclipse.org/Bugzilla_Housecleaning_Processes), this enhancement/defect is verified/closed by the Project Lead since this enhancement/defect has been resolved and unverified for more than 1 year and considered to be fixed. If this enhancement/defect is still unresolved and reproducible in the latest TPTP release (http://www.eclipse.org/tptp/home/downloads/), please re-open.</WithStack>
    <WithOutStack>The TPTP automation framework (used for executing TPTP services outside of
Eclipse via command and ant scripts) is currently located in the execution
plug-in, I'd like to petition to have this moved to a separate plug-in.  It has
no compile-time dependencies on others TPTP components.  At run-time, using
extension points, the TPTP test.tools.core plug-in contributes a test execution
service into the framework.

I suggest "org.eclipse.tptp.automation" -- it is a common component that could
be evolved further and contributed upstream to the Eclipse platform potentially.
 I would like to see it grown into a full-fledged automation server for Eclipse.

I would like to petition for the moving of the file system services (file
transfer services) component to a separate plug-in.  The file transfer
functionality is separate from the execution framework and is pluggable, no need
to further couple it in the sample plug-in.

I will suggest "org.eclipse.tptp.platform.services" or
"org.eclipse.tptp.platform.filesystem.services" or
"org.eclipse.tptp.platform.agents.filesystem", or etc
I am targeting this for 4.2. I hope to start exploration of how to refactor 
the TPTP platform execution framework. The actually implementation may need to 
be deferred for 5.0 release as it is likely to change existing API.
Makes sense to move it to a seperate plugin - we will not be able to do so in 4.2 i2 and hence deferred to future. I will bring this up in the Platform call for discussion.
As of TPTP 4.6.0, TPTP is in maintenance mode and focusing on improving quality by resolving relevant defects and increasing test coverage through test creation, automation, Build Verification Tests (BVTs), and expanded run-time execution. Since this defect is more than 2 years old, it may be no longer relevant. As part of the TPTP Bugzilla housecleaning process (see http://wiki.eclipse.org/Bugzilla_Housecleaning_Processes), this defect is resolved as WONTFIX. If this defect is still relevant and reproducible in the latest TPTP release (http://www.eclipse.org/tptp/home/downloads/), please re-open.
Closing.
Mistakenly closed for the originator.  Reopening for the originator to verify/close.
Re-resolving as WONTIFX.
As of TPTP 4.6.0, TPTP is in maintenance mode and focusing on improving quality by resolving relevant enhancements/defects and increasing test coverage through test creation, automation, Build Verification Tests (BVTs), and expanded run-time execution. As part of the TPTP Bugzilla housecleaning process (see http://wiki.eclipse.org/Bugzilla_Housecleaning_Processes), this enhancement/defect is verified/closed by the Project Lead since this enhancement/defect has been resolved and unverified for more than 1 year and considered to be fixed. If this enhancement/defect is still unresolved and reproducible in the latest TPTP release (http://www.eclipse.org/tptp/home/downloads/), please re-open.</WithOutStack>
  </Bug>
  <Bug>
    <BugId amount="111994" />
    <CreationDate amount="2005-10-07 17:01:00 -0400" />
    <DupId amount="" />
    <classification amount="Tools" />
    <Product amount="TPTP Agent Controller" />
    <component amount="Platform.Agents" />
    <Version amount="4.0" />
    <rep_platform amount="PC" />
    <op_sys amount="Linux" />
    <priority amount="P1" />
    <bug_severity amount="major" />
    <Summery>New AC: Failure to launch application results in dup of ProcessController</Summery>
    <Patches amount="0" />
    <Stacktraces amount="0" />
    <SourceCodeRegions amount="0" />
    <Enumerations amount="3">
      <Enumeration lines="6">
        <Lines>
          <Line>1)a duplicate tptpProcessController is created</Line>
          <Line>2)the PC reports a TPTP_Error to the client but also reports processStarted</Line>
          <Line>ConsoleTestClient demonstrated the problem when the cmdLineArg (SetParameter)</Line>
          <Line>setting for the startProcess command had a typo in the pathname of the exe.</Line>
          <Line>Note that the applicationName field was correct (no typo). This set off a</Line>
          <Line>chain of unfortunate events.</Line>
        </Lines>
      </Enumeration>
      <Enumeration lines="9">
        <Lines>
          <Line>1) the debug messages (which were visible ) displayed the exe name, not the</Line>
          <Line>cmdlineArg</Line>
          <Line>2) worse yet, the ProcessController had opened a stdout and bound it to a</Line>
          <Line>named pipe (in preparation for handing it off to the app being launched), so</Line>
          <Line>the error message printed by hc_launchProcess() plus several other messages,</Line>
          <Line>went off down that named pipe rather than appearing in the ProcessController's</Line>
          <Line>console window.  Eventually, the PC closed that handle so we then had output</Line>
          <Line>showing on the PC's console again, not realizing that a hole existed in what</Line>
          <Line>we were seeing.</Line>
        </Lines>
      </Enumeration>
      <Enumeration lines="7">
        <Lines>
          <Line>1) return TPTP_INVALID_PID from the launch functions and have the calling</Line>
          <Line>function check for both TPTP_INVALID_PID and a negative pid value.</Line>
          <Line>2) make the forked process exit (not return) if the execve() fails so that we</Line>
          <Line>don't end up with extra copies of the process controller running</Line>
          <Line>3) use the exe parameter rather than cmdLineArgs[0] in the execve() call</Line>
          <Line>because that is what is expected and that is what gets validated</Line>
          <Line>4) fix checkExecutable() so that it returns failure if the STAT fails</Line>
        </Lines>
      </Enumeration>
    </Enumerations>
    <bug_status amount="CLOSED" />
    <resolution amount="FIXED" />
    <WithStack>If incorrect executable name is placed in the cmdLineArgument field for a 
process being launching on Linux platform, bad behavior results:

1)a duplicate tptpProcessController is created
2)the PC reports a TPTP_Error to the client but also reports processStarted
ConsoleTestClient demonstrated the problem when the cmdLineArg (SetParameter)
setting for the startProcess command had a typo in the pathname of the exe. 
Note that the applicationName field was correct (no typo). This set off a 
chain of unfortunate events.

The ConsoleTestClient received a processStarted msg with a bad pid followed by 
a processStarted msg with a good pid, both from the PC, then hung because it 
could not setup a data handler.

The problems:
The Linux impl of launching a process (taken from the RAC) uses the cmdLineArg
[0], not the executable arg name passed in.  Thus we had a failed launch, but 
couldnt see any hint of it, for 2 reasons:
1) the debug messages (which were visible ) displayed the exe name, not the 
cmdlineArg
2) worse yet, the ProcessController had opened a stdout and bound it to a 
named pipe (in preparation for handing it off to the app being launched), so 
the error message printed by hc_launchProcess() plus several other messages, 
went off down that named pipe rather than appearing in the ProcessController's 
console window.  Eventually, the PC closed that handle so we then had output 
showing on the PC's console again, not realizing that a hole existed in what 
we were seeing.

The PC did not recognize the error returned by hc_launchProcess() because I 
had changed the calling function to check for TPTP_INVALID_PID, but did not 
make the Linux hc_launchProcess() return TPTP_INVALID_PID, so it was 
returning -1. (We cant use -1 since PID is an unsigned int, so I made 
TPTP_INVALID_PID = 0.)  Hence, the PC didnt catch the error that had occurred 
at launch time.  Fixing the code so that it returned TPTP_INVALID_PID caused 
the ProcessController to send a TPTP_Error msg, rather than a processStarted 
with a bad pid, but the 2nd processStarted was still being sent to the 
client.  

The ProcessController was sending it because as the parent of the forked child 
it only knew that the fork was successful and happily returned that valid pid, 
reporting to the client that a process had launched.  But because the exec() 
failed, we had a 2nd copy of the tptpProcessController exe running, not the 
user's app.

We can avoid this situation by always checking that we have a good executable 
name so that the exec() doesn't fail. So, by changing the exec() to use the 
exe parameter as the pathname to launch (because it was getting validated)we 
should see success, but a missing return statement in the checking code 
resulted in a false positive on the validation.

The solutions:
1) return TPTP_INVALID_PID from the launch functions and have the calling 
function check for both TPTP_INVALID_PID and a negative pid value.
2) make the forked process exit (not return) if the execve() fails so that we 
don't end up with extra copies of the process controller running
3) use the exe parameter rather than cmdLineArgs[0] in the execve() call 
because that is what is expected and that is what gets validated
4) fix checkExecutable() so that it returns failure if the STAT fails

This does not include a solution to the problem of the process controller 
returning a processStarted msg if we get into the launch code and the exec() 
fails. It relies on the caller of hc_launchProcess()to make sure a good exe 
pathname is passed in so that the exec never fails.

As of TPTP 4.6.0, TPTP is in maintenance mode and focusing on improving quality by resolving relevant enhancements/defects and increasing test coverage through test creation, automation, Build Verification Tests (BVTs), and expanded run-time execution. As part of the TPTP Bugzilla housecleaning process (see http://wiki.eclipse.org/Bugzilla_Housecleaning_Processes), this enhancement/defect is verified/closed by the Project Lead since this enhancement/defect has been resolved and unverified for more than 1 year and considered to be fixed. If this enhancement/defect is still unresolved and reproducible in the latest TPTP release (http://www.eclipse.org/tptp/home/downloads/), please re-open.</WithStack>
    <WithOutStack>If incorrect executable name is placed in the cmdLineArgument field for a 
process being launching on Linux platform, bad behavior results:

1)a duplicate tptpProcessController is created
2)the PC reports a TPTP_Error to the client but also reports processStarted
ConsoleTestClient demonstrated the problem when the cmdLineArg (SetParameter)
setting for the startProcess command had a typo in the pathname of the exe. 
Note that the applicationName field was correct (no typo). This set off a 
chain of unfortunate events.

The ConsoleTestClient received a processStarted msg with a bad pid followed by 
a processStarted msg with a good pid, both from the PC, then hung because it 
could not setup a data handler.

The problems:
The Linux impl of launching a process (taken from the RAC) uses the cmdLineArg
[0], not the executable arg name passed in.  Thus we had a failed launch, but 
couldnt see any hint of it, for 2 reasons:
1) the debug messages (which were visible ) displayed the exe name, not the 
cmdlineArg
2) worse yet, the ProcessController had opened a stdout and bound it to a 
named pipe (in preparation for handing it off to the app being launched), so 
the error message printed by hc_launchProcess() plus several other messages, 
went off down that named pipe rather than appearing in the ProcessController's 
console window.  Eventually, the PC closed that handle so we then had output 
showing on the PC's console again, not realizing that a hole existed in what 
we were seeing.

The PC did not recognize the error returned by hc_launchProcess() because I 
had changed the calling function to check for TPTP_INVALID_PID, but did not 
make the Linux hc_launchProcess() return TPTP_INVALID_PID, so it was 
returning -1. (We cant use -1 since PID is an unsigned int, so I made 
TPTP_INVALID_PID = 0.)  Hence, the PC didnt catch the error that had occurred 
at launch time.  Fixing the code so that it returned TPTP_INVALID_PID caused 
the ProcessController to send a TPTP_Error msg, rather than a processStarted 
with a bad pid, but the 2nd processStarted was still being sent to the 
client.  

The ProcessController was sending it because as the parent of the forked child 
it only knew that the fork was successful and happily returned that valid pid, 
reporting to the client that a process had launched.  But because the exec() 
failed, we had a 2nd copy of the tptpProcessController exe running, not the 
user's app.

We can avoid this situation by always checking that we have a good executable 
name so that the exec() doesn't fail. So, by changing the exec() to use the 
exe parameter as the pathname to launch (because it was getting validated)we 
should see success, but a missing return statement in the checking code 
resulted in a false positive on the validation.

The solutions:
1) return TPTP_INVALID_PID from the launch functions and have the calling 
function check for both TPTP_INVALID_PID and a negative pid value.
2) make the forked process exit (not return) if the execve() fails so that we 
don't end up with extra copies of the process controller running
3) use the exe parameter rather than cmdLineArgs[0] in the execve() call 
because that is what is expected and that is what gets validated
4) fix checkExecutable() so that it returns failure if the STAT fails

This does not include a solution to the problem of the process controller 
returning a processStarted msg if we get into the launch code and the exec() 
fails. It relies on the caller of hc_launchProcess()to make sure a good exe 
pathname is passed in so that the exec never fails.

As of TPTP 4.6.0, TPTP is in maintenance mode and focusing on improving quality by resolving relevant enhancements/defects and increasing test coverage through test creation, automation, Build Verification Tests (BVTs), and expanded run-time execution. As part of the TPTP Bugzilla housecleaning process (see http://wiki.eclipse.org/Bugzilla_Housecleaning_Processes), this enhancement/defect is verified/closed by the Project Lead since this enhancement/defect has been resolved and unverified for more than 1 year and considered to be fixed. If this enhancement/defect is still unresolved and reproducible in the latest TPTP release (http://www.eclipse.org/tptp/home/downloads/), please re-open.</WithOutStack>
  </Bug>
  <Bug>
    <BugId amount="111995" />
    <CreationDate amount="2005-10-07 17:06:00 -0400" />
    <DupId amount="" />
    <classification amount="Tools" />
    <Product amount="TPTP Profiling" />
    <component amount="Platform.Execution" />
    <Version amount="4.1" />
    <rep_platform amount="PC" />
    <op_sys amount="Windows XP" />
    <priority amount="P3" />
    <bug_severity amount="normal" />
    <Summery>[Architecture]  Migrate automation framework to separate plug-in (remove from execution plug-in)</Summery>
    <Patches amount="0" />
    <Stacktraces amount="0" />
    <SourceCodeRegions amount="0" />
    <Enumerations amount="0" />
    <bug_status amount="CLOSED" />
    <resolution amount="WONTFIX" />
    <WithStack>The TPTP automation framework (used for executing TPTP services outside of
Eclipse via command and ant scripts) is currently located in the execution
plug-in, I'd like to petition to have this moved to a separate plug-in.  It has
no compile-time dependencies on others TPTP components.  At run-time, using
extension points, the TPTP test.tools.core plug-in contributes a test execution
service into the framework.

I suggest "org.eclipse.tptp.automation" -- it is a common component that could
be evolved further and contributed upstream to the Eclipse platform potentially.
 I would like to see it grown into a full-fledged automation server for Eclipse.
Scott, please discuss with Guru. We need a proposal and it should be reviewed 
by the AG.
Investigation is planned for 4.2. However, the actual implementation is likely 
to be deferred to next major release as changes existing API.
I will document this and work with Sri and table it for AG. Deferring it to future due to the shortened 4.2i2.
cleaning up assignees
As of TPTP 4.6.0, TPTP is in maintenance mode and focusing on improving quality by resolving relevant defects and increasing test coverage through test creation, automation, Build Verification Tests (BVTs), and expanded run-time execution. Since this defect is more than 2 years old, it may be no longer relevant. As part of the TPTP Bugzilla housecleaning process (see http://wiki.eclipse.org/Bugzilla_Housecleaning_Processes), this defect is resolved as WONTFIX. If this defect is still relevant and reproducible in the latest TPTP release (http://www.eclipse.org/tptp/home/downloads/), please re-open.
As of TPTP 4.6.0, TPTP is in maintenance mode and focusing on improving quality by resolving relevant enhancements/defects and increasing test coverage through test creation, automation, Build Verification Tests (BVTs), and expanded run-time execution. As part of the TPTP Bugzilla housecleaning process (see http://wiki.eclipse.org/Bugzilla_Housecleaning_Processes), this enhancement/defect is verified/closed by the Project Lead since this enhancement/defect has been resolved and unverified for more than 1 year and considered to be fixed. If this enhancement/defect is still unresolved and reproducible in the latest TPTP release (http://www.eclipse.org/tptp/home/downloads/), please re-open.</WithStack>
    <WithOutStack>The TPTP automation framework (used for executing TPTP services outside of
Eclipse via command and ant scripts) is currently located in the execution
plug-in, I'd like to petition to have this moved to a separate plug-in.  It has
no compile-time dependencies on others TPTP components.  At run-time, using
extension points, the TPTP test.tools.core plug-in contributes a test execution
service into the framework.

I suggest "org.eclipse.tptp.automation" -- it is a common component that could
be evolved further and contributed upstream to the Eclipse platform potentially.
 I would like to see it grown into a full-fledged automation server for Eclipse.
Scott, please discuss with Guru. We need a proposal and it should be reviewed 
by the AG.
Investigation is planned for 4.2. However, the actual implementation is likely 
to be deferred to next major release as changes existing API.
I will document this and work with Sri and table it for AG. Deferring it to future due to the shortened 4.2i2.
cleaning up assignees
As of TPTP 4.6.0, TPTP is in maintenance mode and focusing on improving quality by resolving relevant defects and increasing test coverage through test creation, automation, Build Verification Tests (BVTs), and expanded run-time execution. Since this defect is more than 2 years old, it may be no longer relevant. As part of the TPTP Bugzilla housecleaning process (see http://wiki.eclipse.org/Bugzilla_Housecleaning_Processes), this defect is resolved as WONTFIX. If this defect is still relevant and reproducible in the latest TPTP release (http://www.eclipse.org/tptp/home/downloads/), please re-open.
As of TPTP 4.6.0, TPTP is in maintenance mode and focusing on improving quality by resolving relevant enhancements/defects and increasing test coverage through test creation, automation, Build Verification Tests (BVTs), and expanded run-time execution. As part of the TPTP Bugzilla housecleaning process (see http://wiki.eclipse.org/Bugzilla_Housecleaning_Processes), this enhancement/defect is verified/closed by the Project Lead since this enhancement/defect has been resolved and unverified for more than 1 year and considered to be fixed. If this enhancement/defect is still unresolved and reproducible in the latest TPTP release (http://www.eclipse.org/tptp/home/downloads/), please re-open.</WithOutStack>
  </Bug>
  <Bug>
    <BugId amount="111996" />
    <CreationDate amount="2005-10-07 17:07:00 -0400" />
    <DupId amount="" />
    <classification amount="Tools" />
    <Product amount="PTP" />
    <component amount="Debug UI" />
    <Version amount="unspecified" />
    <rep_platform amount="All" />
    <op_sys amount="All" />
    <priority amount="P3" />
    <bug_severity amount="normal" />
    <Summery>Terminate button not available for non-debug jobs</Summery>
    <Patches amount="0" />
    <Stacktraces amount="0" />
    <SourceCodeRegions amount="0" />
    <Enumerations amount="0" />
    <bug_status amount="VERIFIED" />
    <resolution amount="FIXED" />
    <WithStack>In the debug perspective, starting a non-debug job does not activate the terminate button. The button 
should be activated and should have the same effect as the terminate button in the runtime perspective.
i enabled the terminate button in parallel debug view for non-debug job.
Tested on Mac OS X</WithStack>
    <WithOutStack>In the debug perspective, starting a non-debug job does not activate the terminate button. The button 
should be activated and should have the same effect as the terminate button in the runtime perspective.
i enabled the terminate button in parallel debug view for non-debug job.
Tested on Mac OS X</WithOutStack>
  </Bug>
  <Bug>
    <BugId amount="111997" />
    <CreationDate amount="2005-10-07 17:12:00 -0400" />
    <DupId amount="" />
    <classification amount="Tools" />
    <Product amount="TPTP Profiling" />
    <component amount="Platform.Execution" />
    <Version amount="future" />
    <rep_platform amount="PC" />
    <op_sys amount="Windows XP" />
    <priority amount="P3" />
    <bug_severity amount="enhancement" />
    <Summery>[Architecture]  Introduce project-level and top-level common plug-ins for greater reusability</Summery>
    <Patches amount="0" />
    <Stacktraces amount="0" />
    <SourceCodeRegions amount="0" />
    <Enumerations amount="0" />
    <bug_status amount="CLOSED" />
    <resolution amount="WONTFIX" />
    <WithStack>To avoid the problems with reusing components due to out of control cycles -- it
will be helpful to push common components and reusable services to common
plug-ins.  These common plug-ins would help minimize cycles -- I suggest common
plug-ins at the project level but also somewhere for cross-project common
mechanisms.

For example:
o  org.eclipse.tptp.platform.common
o  org.eclipse.tptp.test.common, 
o  org.eclipse.tptp.monitor.common,
o  org.eclipse.tptp.trace.common,
o  org.eclipse.tptp.common
Scott, It looks to more involved and appropriate to treat as an enhancement. It will be helpful if you could add one specific example. 
As of TPTP 4.6.0, TPTP is in maintenance mode and focusing on improving quality by resolving relevant defects and increasing test coverage through test creation, automation, Build Verification Tests (BVTs), and expanded run-time execution. As such, TPTP is not delivering enhancements. As part of the TPTP Bugzilla housecleaning process (see http://wiki.eclipse.org/Bugzilla_Housecleaning_Processes), this enhancement is resolved as WONTFIX. For this enhancement to be considered, please re-open with an attached patch including the Description Document (see http://www.eclipse.org/tptp/home/documents/process/development/description_documents.html), code (see http://www.eclipse.org/tptp/home/documents/resources/TPTPDevGuide.htm), and test cases (see http://www.eclipse.org/tptp/home/documents/process/TPTP_Testing_Strategy.html).
As of TPTP 4.6.0, TPTP is in maintenance mode and focusing on improving quality by resolving relevant defects and increasing test coverage through test creation, automation, Build Verification Tests (BVTs), and expanded run-time execution. As such, TPTP is not delivering enhancements. As part of the TPTP Bugzilla housecleaning process (see http://wiki.eclipse.org/Bugzilla_Housecleaning_Processes), this enhancement is resolved as WONTFIX. For this enhancement to be considered, please re-open with an attached patch including the Description Document (see http://www.eclipse.org/tptp/home/documents/process/development/description_documents.html), code (see http://www.eclipse.org/tptp/home/documents/resources/TPTPDevGuide.htm), and test cases (see http://www.eclipse.org/tptp/home/documents/process/TPTP_Testing_Strategy.html).
As of TPTP 4.6.0, TPTP is in maintenance mode and focusing on improving quality by resolving relevant enhancements/defects and increasing test coverage through test creation, automation, Build Verification Tests (BVTs), and expanded run-time execution. As part of the TPTP Bugzilla housecleaning process (see http://wiki.eclipse.org/Bugzilla_Housecleaning_Processes), this enhancement/defect is verified/closed by the Project Lead since this enhancement/defect has been resolved and unverified for more than 1 year and considered to be fixed. If this enhancement/defect is still unresolved and reproducible in the latest TPTP release (http://www.eclipse.org/tptp/home/downloads/), please re-open.</WithStack>
    <WithOutStack>To avoid the problems with reusing components due to out of control cycles -- it
will be helpful to push common components and reusable services to common
plug-ins.  These common plug-ins would help minimize cycles -- I suggest common
plug-ins at the project level but also somewhere for cross-project common
mechanisms.

For example:
o  org.eclipse.tptp.platform.common
o  org.eclipse.tptp.test.common, 
o  org.eclipse.tptp.monitor.common,
o  org.eclipse.tptp.trace.common,
o  org.eclipse.tptp.common
Scott, It looks to more involved and appropriate to treat as an enhancement. It will be helpful if you could add one specific example. 
As of TPTP 4.6.0, TPTP is in maintenance mode and focusing on improving quality by resolving relevant defects and increasing test coverage through test creation, automation, Build Verification Tests (BVTs), and expanded run-time execution. As such, TPTP is not delivering enhancements. As part of the TPTP Bugzilla housecleaning process (see http://wiki.eclipse.org/Bugzilla_Housecleaning_Processes), this enhancement is resolved as WONTFIX. For this enhancement to be considered, please re-open with an attached patch including the Description Document (see http://www.eclipse.org/tptp/home/documents/process/development/description_documents.html), code (see http://www.eclipse.org/tptp/home/documents/resources/TPTPDevGuide.htm), and test cases (see http://www.eclipse.org/tptp/home/documents/process/TPTP_Testing_Strategy.html).
As of TPTP 4.6.0, TPTP is in maintenance mode and focusing on improving quality by resolving relevant defects and increasing test coverage through test creation, automation, Build Verification Tests (BVTs), and expanded run-time execution. As such, TPTP is not delivering enhancements. As part of the TPTP Bugzilla housecleaning process (see http://wiki.eclipse.org/Bugzilla_Housecleaning_Processes), this enhancement is resolved as WONTFIX. For this enhancement to be considered, please re-open with an attached patch including the Description Document (see http://www.eclipse.org/tptp/home/documents/process/development/description_documents.html), code (see http://www.eclipse.org/tptp/home/documents/resources/TPTPDevGuide.htm), and test cases (see http://www.eclipse.org/tptp/home/documents/process/TPTP_Testing_Strategy.html).
As of TPTP 4.6.0, TPTP is in maintenance mode and focusing on improving quality by resolving relevant enhancements/defects and increasing test coverage through test creation, automation, Build Verification Tests (BVTs), and expanded run-time execution. As part of the TPTP Bugzilla housecleaning process (see http://wiki.eclipse.org/Bugzilla_Housecleaning_Processes), this enhancement/defect is verified/closed by the Project Lead since this enhancement/defect has been resolved and unverified for more than 1 year and considered to be fixed. If this enhancement/defect is still unresolved and reproducible in the latest TPTP release (http://www.eclipse.org/tptp/home/downloads/), please re-open.</WithOutStack>
  </Bug>
  <Bug>
    <BugId amount="111998" />
    <CreationDate amount="2005-10-07 17:14:00 -0400" />
    <DupId amount="" />
    <classification amount="Tools" />
    <Product amount="PTP" />
    <component amount="Debug UI" />
    <Version amount="unspecified" />
    <rep_platform amount="All" />
    <op_sys amount="All" />
    <priority amount="P3" />
    <bug_severity amount="normal" />
    <Summery>Registered processes are not re-registered</Summery>
    <Patches amount="0" />
    <Stacktraces amount="0" />
    <SourceCodeRegions amount="0" />
    <Enumerations amount="1">
      <Enumeration lines="4">
        <Lines>
          <Line>1. Set global breakpoint on job. Start job.</Line>
          <Line>2. When job hits breakpoint register a couple of processes</Line>
          <Line>3. Unselect all jobs by click on empty part of job view</Line>
          <Line>4. Select job again.</Line>
        </Lines>
      </Enumeration>
    </Enumerations>
    <bug_status amount="VERIFIED" />
    <resolution amount="FIXED" />
    <WithStack>Processes can be registered with the debugger by double clicking on the processes. However if all jobs are 
unselected (by clicking on the empty part of the view), when the job is selected again the processes no 
longer appear in the Debug view. Changing from one job to another seems to work properly.
I haven't got that problem you said.  Please describes more in details or
provide the procedures what you did to get this bug.  

Currently, the process 0 is registered in debug view by default, but the
parallel debug view haven't draw the black square for process 0.  I have
discussed with donny before.  It is a timing problem.  UI haven't added the
listener to debugger yet and the debugger has been registered the process 0 into
debug view.  So UI haven't recevied this registered event and no drawing for
process 0.  Donny said he has no idea to fix this timing problem.  I recommand
to remove registering process 0 by default.  Just let the user to register the
process.  How do you think?


(In reply to comment #0)
&gt; Processes can be registered with the debugger by double clicking on the
processes. However if all jobs are 
&gt; unselected (by clicking on the empty part of the view), when the job is
selected again the processes no 
&gt; longer appear in the Debug view. Changing from one job to another seems to
work properly.


1. Set global breakpoint on job. Start job.
2. When job hits breakpoint register a couple of processes
3. Unselect all jobs by click on empty part of job view
4. Select job again. 

Notice that the processes registerd in (2) still have boxes around them, but they no longer appear in 
Debug view
Fixed.  I forgot to check the set name to re-register the process.  My idea is
that only show registered processes in debug view which are shown in parallel
debug view.  For example, there are 10 processes.  0, 2, 4, 6, 8 are registered
into debug view.  When you created a new SET which contains 6-9 processes,
process 6 and 8 will be shown in debug view only.  Process 0, 2 and 4 are
temporary unregistered from debug view.  When switch to the Root set, the
process 0, 2, 4, 6 and 8 will show in debug view again.  The same principle in
changing job.  When the job is changed, all registered processes in the
previously job will be unregistered in debug view and register the registered
processes in Root set in current job.

How do you think if remove to register process 0 by default?</WithStack>
    <WithOutStack>Processes can be registered with the debugger by double clicking on the processes. However if all jobs are 
unselected (by clicking on the empty part of the view), when the job is selected again the processes no 
longer appear in the Debug view. Changing from one job to another seems to work properly.
I haven't got that problem you said.  Please describes more in details or
provide the procedures what you did to get this bug.  

Currently, the process 0 is registered in debug view by default, but the
parallel debug view haven't draw the black square for process 0.  I have
discussed with donny before.  It is a timing problem.  UI haven't added the
listener to debugger yet and the debugger has been registered the process 0 into
debug view.  So UI haven't recevied this registered event and no drawing for
process 0.  Donny said he has no idea to fix this timing problem.  I recommand
to remove registering process 0 by default.  Just let the user to register the
process.  How do you think?


(In reply to comment #0)
&gt; Processes can be registered with the debugger by double clicking on the
processes. However if all jobs are 
&gt; unselected (by clicking on the empty part of the view), when the job is
selected again the processes no 
&gt; longer appear in the Debug view. Changing from one job to another seems to
work properly.


1. Set global breakpoint on job. Start job.
2. When job hits breakpoint register a couple of processes
3. Unselect all jobs by click on empty part of job view
4. Select job again. 

Notice that the processes registerd in (2) still have boxes around them, but they no longer appear in 
Debug view
Fixed.  I forgot to check the set name to re-register the process.  My idea is
that only show registered processes in debug view which are shown in parallel
debug view.  For example, there are 10 processes.  0, 2, 4, 6, 8 are registered
into debug view.  When you created a new SET which contains 6-9 processes,
process 6 and 8 will be shown in debug view only.  Process 0, 2 and 4 are
temporary unregistered from debug view.  When switch to the Root set, the
process 0, 2, 4, 6 and 8 will show in debug view again.  The same principle in
changing job.  When the job is changed, all registered processes in the
previously job will be unregistered in debug view and register the registered
processes in Root set in current job.

How do you think if remove to register process 0 by default?</WithOutStack>
  </Bug>
  <Bug>
    <BugId amount="111999" />
    <CreationDate amount="2005-10-07 17:22:00 -0400" />
    <DupId amount="" />
    <classification amount="Tools" />
    <Product amount="TPTP Resource Monitoring" />
    <component amount="Platform.UI.StatsPerfViewers" />
    <Version amount="4.1" />
    <rep_platform amount="PC" />
    <op_sys amount="Windows XP" />
    <priority amount="P3" />
    <bug_severity amount="normal" />
    <Summery>Default workbench layout with statistics view needs to be more effective</Summery>
    <Patches amount="0" />
    <Stacktraces amount="0" />
    <SourceCodeRegions amount="0" />
    <Enumerations amount="0" />
    <bug_status amount="CLOSED" />
    <resolution amount="FIXED" />
    <WithStack>When you start he perfmon agent, the Agent Control, Statistical Graph, and Graph
Summaries view are all stacked on top of each other (see attached screenshots).

Rather it would be nice to see a layout where the Statistical Graph view and
Graph summaries are tiled on top of each other, respectively.  In addition,
putting the Agent Control view tiled below the Profile Monitor view.  This
layout makes the best effective use of these three windows at once (see
screenshots).  

I believe this should be the default when opening the stats view because you can
enable counters without having to flip between the tabs of the views. Also, you
can see the Advanced descriptor settings of each element in the Graph summaries
without having to resize the Graph Summaries view.
Created attachment 28057
Default Workbench Layout
Created attachment 28058
Proposed Workbench Layout
Low priority so moving request to 4.2
Right, I've changed the default view layouts so that they reflect the layout in your proposed layout image. The Graph View is unchanged, the Graph Summaries View is layed out below, and the agent control view is stacked ontop of the PropertySheet place holder. This is the only one in the bottom left, so it is positioned correctly but the Profiling and Logging perspective seems to enforce a 80:20 split on the left which results in a controls view that is a little small. 

I'm going to try and get that changed in the trace team though.
Closing.</WithStack>
    <WithOutStack>When you start he perfmon agent, the Agent Control, Statistical Graph, and Graph
Summaries view are all stacked on top of each other (see attached screenshots).

Rather it would be nice to see a layout where the Statistical Graph view and
Graph summaries are tiled on top of each other, respectively.  In addition,
putting the Agent Control view tiled below the Profile Monitor view.  This
layout makes the best effective use of these three windows at once (see
screenshots).  

I believe this should be the default when opening the stats view because you can
enable counters without having to flip between the tabs of the views. Also, you
can see the Advanced descriptor settings of each element in the Graph summaries
without having to resize the Graph Summaries view.
Created attachment 28057
Default Workbench Layout
Created attachment 28058
Proposed Workbench Layout
Low priority so moving request to 4.2
Right, I've changed the default view layouts so that they reflect the layout in your proposed layout image. The Graph View is unchanged, the Graph Summaries View is layed out below, and the agent control view is stacked ontop of the PropertySheet place holder. This is the only one in the bottom left, so it is positioned correctly but the Profiling and Logging perspective seems to enforce a 80:20 split on the left which results in a controls view that is a little small. 

I'm going to try and get that changed in the trace team though.
Closing.</WithOutStack>
  </Bug>
  <Bug>
    <BugId amount="112000" />
    <CreationDate amount="2005-10-07 17:24:00 -0400" />
    <DupId amount="" />
    <classification amount="Eclipse" />
    <Product amount="Platform" />
    <component amount="UI" />
    <Version amount="3.2" />
    <rep_platform amount="PC" />
    <op_sys amount="Windows XP" />
    <priority amount="P3" />
    <bug_severity amount="enhancement" />
    <Summery>[Viewers] TreeViewer SWT.VIRTUAL support.</Summery>
    <Patches amount="0" />
    <Stacktraces amount="0" />
    <SourceCodeRegions amount="0" />
    <Enumerations amount="0" />
    <bug_status amount="VERIFIED" />
    <resolution amount="FIXED" />
    <WithStack>It might be a few days early for this request, but bug #92341 has SWT.VIRTUAL 
support almost done for Trees (commented out in win32, but available).

There is an ILazyContentProvider for TableViewer. This is a request for 
something similar that works in the TreeViewer.
This is planned for 3.2 M4.
Reminder for myself: when marking this fixed, the EXPERIMENTAL tags in the new
API should be removed.
Sorry, I wasn't able to complete this in time for M4, but I'm almost there.

If you want to have a look, the new API (marked as experimental) is TreeViewer.setChildCount(), TreeViewer.replace(), and ILazyTreeContentProvider.

We still have disabled (and otherwise failing) test cases though.
Ouch. We have a new CDT feature dependent on this. Does the feature as it is in M4 usable so we can start development on it (knowing the APIs will change for M5)?
I don't think the API will change much. In fact, having early adopters would be great, so please start developing and contact me directly for any questions.

As I said, we still have test failures, so the feature is not fully useable. Unless there are remaining SWT bugs in the virtual tree, I should be able to finish the work for the first or second integration build in the M5 cycle.
I was wondering what the correct method to update the tree after a model change. I replace and setChildCount the root item that changed, but I'm not sure how to find out which children are visible so that I can update them as well. Actually, I was expecting the viewer to do that automatically anyway. Using viewer.refresh() doesn't work, it only clears the whole tree out.
refresh() should do it, but there seems to be a bug that causes the viewer to clear the whole tree. I will look into this after the holidays. Merry Christmas!
Created attachment 33377
patch for fixing refresh()

This patch should fix the refresh() problem (also described in bug 122178)
*** Bug 122178 has been marked as a duplicate of this bug. ***
With the patch, there are still test failures on the Mac and on Linux/GTK, so I cannot release it yet.
Just to let you know - SWT is going to change the behaviour of the virtual tree: getItems() and similar methods will trigger the SetData event too.

This change will go in after tomorrow's integration build, and building on that, I will finish the virtual support in TreeViewer.
Created attachment 33938
updated patch
Created attachment 34056
updated patch

Two remaining failures on Linux/GTK due to bug 126299.
good to go on Mac OS.
Looks good on Windows (except that my workaround for bug 126300 had a bug).

Note to self: in setChildCount(), call disassociate(), not unmapElement(). 
Fix released to HEAD &gt;20060206.

Please note that the API of the lazy content provider might still change (an additional parameter for both methods) depending on the outcome of bug 126300.
[I20060214-0800]

Verfied by looking at the code in the imported JFace plug-in.

I hope that interested parties start using this soon in order to shake out potential remaining issues.
As soon as we get the CDT working with M5 :)

Thanks Boris!
With a virtual TableViewer, when getTable().selectAll is called, the TableViewer#getVirtualSelection() method will "updateElement" on items not yet updated so they can be added to the selection list.

If 3 of 200 items are visible, all 200 will be added to the ISelection whether they were displayed or not.

In a virtual TreeViewer after a getTree().selectAll(), I belive the AbstractTreeViewer#getSelection() call will only add the 3 items and not the others (item.getData() is still null on the remaining ones).

I assume that this will also affect preservingSelection -- If I select 100 items, refresh/resort the control, and only 10 fit on the screen after the refresh and hence only 10 have 'SetData', the remaining 90 are no longer selected, which is different than a non virtual table.

(Another thing to try: select a row, quickly scroll down a few thousand rows, and mark the selection end (CTRL+click on win32), and see which rows have been selected -- not all have been SetData'd)  but if the table wasn't virtual, all rows would have been added to the selection.  This doesn't seem consistent either).

Should these be consistent between TableViewer and TreeViewer? And what should be the expected result?  (Perhaps you wouldn't want a selectAll to SetData on 1 million rows and that is the reason for using a virtual table in the first place (to only deal with rows that were viewed)?)
re comment #19: I have opened bug 128561 to track this.

Please open separate bugs for remaining problems with TreeViewer's virtual support.
  (In reply to comment #2)
&gt; Reminder for myself: when marking this fixed, the EXPERIMENTAL tags in the new
&gt; API should be removed.

There are EXPERIMENTAL tags on 3.2 final source code.

Is this API still EXPERIMENTAL?
(In reply to comment #21)
&gt; There are EXPERIMENTAL tags on 3.2 final source code.
&gt; 
&gt; Is this API still EXPERIMENTAL?

No, it isn't.  Sorry for not taking out the tags.  The tags are no longer there in the 3.3 stream.

Note that the VIRTUAL support is not without bugs in 3.2 (for example bug 160738).  As of recent integration builds, the Debug views use TreeViewer and SWT.VIRTUAL and I am now more confident that it actually works (in the 3.3 stream).</WithStack>
    <WithOutStack>It might be a few days early for this request, but bug #92341 has SWT.VIRTUAL 
support almost done for Trees (commented out in win32, but available).

There is an ILazyContentProvider for TableViewer. This is a request for 
something similar that works in the TreeViewer.
This is planned for 3.2 M4.
Reminder for myself: when marking this fixed, the EXPERIMENTAL tags in the new
API should be removed.
Sorry, I wasn't able to complete this in time for M4, but I'm almost there.

If you want to have a look, the new API (marked as experimental) is TreeViewer.setChildCount(), TreeViewer.replace(), and ILazyTreeContentProvider.

We still have disabled (and otherwise failing) test cases though.
Ouch. We have a new CDT feature dependent on this. Does the feature as it is in M4 usable so we can start development on it (knowing the APIs will change for M5)?
I don't think the API will change much. In fact, having early adopters would be great, so please start developing and contact me directly for any questions.

As I said, we still have test failures, so the feature is not fully useable. Unless there are remaining SWT bugs in the virtual tree, I should be able to finish the work for the first or second integration build in the M5 cycle.
I was wondering what the correct method to update the tree after a model change. I replace and setChildCount the root item that changed, but I'm not sure how to find out which children are visible so that I can update them as well. Actually, I was expecting the viewer to do that automatically anyway. Using viewer.refresh() doesn't work, it only clears the whole tree out.
refresh() should do it, but there seems to be a bug that causes the viewer to clear the whole tree. I will look into this after the holidays. Merry Christmas!
Created attachment 33377
patch for fixing refresh()

This patch should fix the refresh() problem (also described in bug 122178)
*** Bug 122178 has been marked as a duplicate of this bug. ***
With the patch, there are still test failures on the Mac and on Linux/GTK, so I cannot release it yet.
Just to let you know - SWT is going to change the behaviour of the virtual tree: getItems() and similar methods will trigger the SetData event too.

This change will go in after tomorrow's integration build, and building on that, I will finish the virtual support in TreeViewer.
Created attachment 33938
updated patch
Created attachment 34056
updated patch

Two remaining failures on Linux/GTK due to bug 126299.
good to go on Mac OS.
Looks good on Windows (except that my workaround for bug 126300 had a bug).

Note to self: in setChildCount(), call disassociate(), not unmapElement(). 
Fix released to HEAD &gt;20060206.

Please note that the API of the lazy content provider might still change (an additional parameter for both methods) depending on the outcome of bug 126300.
[I20060214-0800]

Verfied by looking at the code in the imported JFace plug-in.

I hope that interested parties start using this soon in order to shake out potential remaining issues.
As soon as we get the CDT working with M5 :)

Thanks Boris!
With a virtual TableViewer, when getTable().selectAll is called, the TableViewer#getVirtualSelection() method will "updateElement" on items not yet updated so they can be added to the selection list.

If 3 of 200 items are visible, all 200 will be added to the ISelection whether they were displayed or not.

In a virtual TreeViewer after a getTree().selectAll(), I belive the AbstractTreeViewer#getSelection() call will only add the 3 items and not the others (item.getData() is still null on the remaining ones).

I assume that this will also affect preservingSelection -- If I select 100 items, refresh/resort the control, and only 10 fit on the screen after the refresh and hence only 10 have 'SetData', the remaining 90 are no longer selected, which is different than a non virtual table.

(Another thing to try: select a row, quickly scroll down a few thousand rows, and mark the selection end (CTRL+click on win32), and see which rows have been selected -- not all have been SetData'd)  but if the table wasn't virtual, all rows would have been added to the selection.  This doesn't seem consistent either).

Should these be consistent between TableViewer and TreeViewer? And what should be the expected result?  (Perhaps you wouldn't want a selectAll to SetData on 1 million rows and that is the reason for using a virtual table in the first place (to only deal with rows that were viewed)?)
re comment #19: I have opened bug 128561 to track this.

Please open separate bugs for remaining problems with TreeViewer's virtual support.
  (In reply to comment #2)
&gt; Reminder for myself: when marking this fixed, the EXPERIMENTAL tags in the new
&gt; API should be removed.

There are EXPERIMENTAL tags on 3.2 final source code.

Is this API still EXPERIMENTAL?
(In reply to comment #21)
&gt; There are EXPERIMENTAL tags on 3.2 final source code.
&gt; 
&gt; Is this API still EXPERIMENTAL?

No, it isn't.  Sorry for not taking out the tags.  The tags are no longer there in the 3.3 stream.

Note that the VIRTUAL support is not without bugs in 3.2 (for example bug 160738).  As of recent integration builds, the Debug views use TreeViewer and SWT.VIRTUAL and I am now more confident that it actually works (in the 3.3 stream).</WithOutStack>
  </Bug>
</infozilla-output>

