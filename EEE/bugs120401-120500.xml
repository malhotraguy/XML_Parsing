<?xml version="1.0" encoding="UTF-8"?>
<infozilla-output>
  <Bug>
    <BugId amount="120401" />
    <CreationDate amount="2005-12-12 12:11:00 -0500" />
    <DupId amount="" />
    <classification amount="Tools" />
    <Product amount="AspectJ" />
    <component amount="Compiler" />
    <Version amount="1.5.0M5" />
    <rep_platform amount="PC" />
    <op_sys amount="Windows XP" />
    <priority amount="P3" />
    <bug_severity amount="enhancement" />
    <Summery>add signature to UnresolvedType.parameterize(..) exception</Summery>
    <Patches amount="0" />
    <Stacktraces amount="1">
      <Stacktrace timestamp="1437330617622">
        <Exception>java.lang.UnsupportedOperationException</Exception>
        <Reason />
        <Frames>
          <Frame depth="0">org.aspectj.weaver.UnresolvedType.parameterize(UnresolvedType.java:218)</Frame>
          <Frame depth="1">org.aspectj.weaver.patterns.ExactTypePattern.parameterizeWith(ExactTypePattern.java:242)</Frame>
          <Frame depth="2">org.aspectj.weaver.patterns.TypePatternList.parameterizeWith(TypePatternList.java:195)</Frame>
          <Frame depth="3">org.aspectj.weaver.patterns.DeclareParents.parameterizeWith(DeclareParents.java:77)</Frame>
          <Frame depth="4">org.aspectj.weaver.ReferenceType.getDeclares(ReferenceType.java:484)</Frame>
          <Frame depth="5">org.aspectj.weaver.ResolvedType.collectDeclares(ResolvedType.java:523)</Frame>
          <Frame depth="6">org.aspectj.weaver.ResolvedType.collectCrosscuttingMembers(ResolvedType.java:488)</Frame>
          <Frame depth="7">org.aspectj.weaver.CrosscuttingMembersSet.addOrReplaceAspect(CrosscuttingMembersSet.java:60)</Frame>
          <Frame depth="8">org.aspectj.ajdt.internal.compiler.lookup.AjLookupEnvironment.addCrosscuttingStructures(AjLookupEnvironment.java:378)</Frame>
          <Frame depth="9">org.aspectj.ajdt.internal.compiler.lookup.AjLookupEnvironment.addCrosscuttingStructures(AjLookupEnvironment.java:388)</Frame>
          <Frame depth="10">org.aspectj.ajdt.internal.compiler.lookup.AjLookupEnvironment.collectAllITDsAndDeclares(AjLookupEnvironment.java:314)</Frame>
          <Frame depth="11">org.aspectj.ajdt.internal.compiler.lookup.AjLookupEnvironment.completeTypeBindings(AjLookupEnvironment.java:168)</Frame>
          <Frame depth="12">org.aspectj.org.eclipse.jdt.internal.compiler.Compiler.beginToCompile(Compiler.java:301)</Frame>
          <Frame depth="13">org.aspectj.org.eclipse.jdt.internal.compiler.Compiler.compile(Compiler.java:315)</Frame>
          <Frame depth="14">org.aspectj.ajdt.internal.core.builder.AjBuildManager.performCompilation(AjBuildManager.java:811)</Frame>
          <Frame depth="15">org.aspectj.ajdt.internal.core.builder.AjBuildManager.doBuild(AjBuildManager.java:230)</Frame>
          <Frame depth="16">org.aspectj.ajdt.internal.core.builder.AjBuildManager.doBuild(AjBuildManager.java:185)</Frame>
          <Frame depth="17">org.aspectj.ajdt.internal.core.builder.AjBuildManager.incrementalBuild(AjBuildManager.java:163)</Frame>
          <Frame depth="18">org.aspectj.ajde.internal.CompilerAdapter.compile(CompilerAdapter.java:117)</Frame>
          <Frame depth="19">org.aspectj.ajde.internal.AspectJBuildManager$CompilerThread.run(AspectJBuildManager.java:191)</Frame>
        </Frames>
      </Stacktrace>
    </Stacktraces>
    <SourceCodeRegions amount="1">
      <source_code type="functioncall">
        <location start="196" end="292" />
        <code>throw new UnsupportedOperationException("unable to parameterize unresolved type: " + signature);</code>
      </source_code>
    </SourceCodeRegions>
    <Enumerations amount="0" />
    <bug_status amount="RESOLVED" />
    <resolution amount="FIXED" />
    <WithStack>I keep getting UnresolvedType UnsupportedOperationException unhelpful message "resolve this type first," so I'm adding the signature to the message (without permission, hence the bug as notice).

throw new UnsupportedOperationException("unable to parameterize unresolved type: " + signature);


-------------------------------
java.lang.UnsupportedOperationException
at org.aspectj.weaver.UnresolvedType.parameterize(UnresolvedType.java:218)
at org.aspectj.weaver.patterns.ExactTypePattern.parameterizeWith(ExactTypePattern.java:242)
at org.aspectj.weaver.patterns.TypePatternList.parameterizeWith(TypePatternList.java:195)
at org.aspectj.weaver.patterns.DeclareParents.parameterizeWith(DeclareParents.java:77)
at org.aspectj.weaver.ReferenceType.getDeclares(ReferenceType.java:484)
at org.aspectj.weaver.ResolvedType.collectDeclares(ResolvedType.java:523)
at org.aspectj.weaver.ResolvedType.collectCrosscuttingMembers(ResolvedType.java:488)
at org.aspectj.weaver.CrosscuttingMembersSet.addOrReplaceAspect(CrosscuttingMembersSet.java:60)
at org.aspectj.ajdt.internal.compiler.lookup.AjLookupEnvironment.addCrosscuttingStructures(AjLookupEnvironment.java:378)
at org.aspectj.ajdt.internal.compiler.lookup.AjLookupEnvironment.addCrosscuttingStructures(AjLookupEnvironment.java:388)
at org.aspectj.ajdt.internal.compiler.lookup.AjLookupEnvironment.collectAllITDsAndDeclares(AjLookupEnvironment.java:314)
at org.aspectj.ajdt.internal.compiler.lookup.AjLookupEnvironment.completeTypeBindings(AjLookupEnvironment.java:168)
at org.aspectj.org.eclipse.jdt.internal.compiler.Compiler.beginToCompile(Compiler.java:301)
at org.aspectj.org.eclipse.jdt.internal.compiler.Compiler.compile(Compiler.java:315)
at org.aspectj.ajdt.internal.core.builder.AjBuildManager.performCompilation(AjBuildManager.java:811)
at org.aspectj.ajdt.internal.core.builder.AjBuildManager.doBuild(AjBuildManager.java:230)
at org.aspectj.ajdt.internal.core.builder.AjBuildManager.doBuild(AjBuildManager.java:185)
at org.aspectj.ajdt.internal.core.builder.AjBuildManager.incrementalBuild(AjBuildManager.java:163)
at org.aspectj.ajde.internal.CompilerAdapter.compile(CompilerAdapter.java:117)
at org.aspectj.ajde.internal.AspectJBuildManager$CompilerThread.run(AspectJBuildManager.java:191)

UnsupportedOperationException thrown: resolve this type first
so ....  are you able to recreate this with a nice signature coming out now Wes?  I guess it'll require you hacking your change into AJDT.  It just might be related to your other bug (119570) which was to do with processing types in the wrong order...
change is now available in the latest build.</WithStack>
    <WithOutStack>I keep getting UnresolvedType UnsupportedOperationException unhelpful message "resolve this type first," so I'm adding the signature to the message (without permission, hence the bug as notice).

throw new UnsupportedOperationException("unable to parameterize unresolved type: " + signature);


-------------------------------


UnsupportedOperationException thrown: resolve this type first
so ....  are you able to recreate this with a nice signature coming out now Wes?  I guess it'll require you hacking your change into AJDT.  It just might be related to your other bug (119570) which was to do with processing types in the wrong order...
change is now available in the latest build.</WithOutStack>
  </Bug>
  <Bug>
    <BugId amount="120402" />
    <CreationDate amount="2005-12-12 12:13:00 -0500" />
    <DupId amount="" />
    <classification amount="RT" />
    <Product amount="ERCP" />
    <component amount="TestHarness" />
    <Version amount="unspecified" />
    <rep_platform amount="PC" />
    <op_sys amount="Windows XP" />
    <priority amount="P3" />
    <bug_severity amount="normal" />
    <Summery>Interactive tests fail to return the correct values when using Internet Explorer</Summery>
    <Patches amount="0" />
    <Stacktraces amount="0" />
    <SourceCodeRegions amount="0" />
    <Enumerations amount="1">
      <Enumeration lines="2">
        <Lines>
          <Line>1. Launch interactive tests using Internet Explorer.</Line>
          <Line>2. Answer any questions asked through the web browser.</Line>
        </Lines>
      </Enumeration>
    </Enumerations>
    <bug_status amount="CLOSED" />
    <resolution amount="FIXED" />
    <WithStack>1. Launch interactive tests using Internet Explorer.
2. Answer any questions asked through the web browser.

When the expected answer is "No", the test harness will always returns "Fail" regardless of whether I click "Yes" or "No".

When the expected answer is "Yes", the test harness will always returns "Pass" regardless of whether I click "Yes" or "No".
Note that we do not see this problem when using FireFox.
Changed the method in which the submitted fields are created.  Previously this was BUTTON but has been switched to INPUT.  Also changed the way that the values are parsed in TestHarnessHandler.getContent().  Plus, found another but in that "Continue" was not setting the fact that the test result was valid, it was simply using the value of the last time an interactive test was executed.

Fixed in org.eclipse.ercp.test.harness.TestHarnessHandler 1.2
Could you please verify and close?
(see previous comment)
Verified the fixes using the latest code.
Fix was verified, closing bug.</WithStack>
    <WithOutStack>1. Launch interactive tests using Internet Explorer.
2. Answer any questions asked through the web browser.

When the expected answer is "No", the test harness will always returns "Fail" regardless of whether I click "Yes" or "No".

When the expected answer is "Yes", the test harness will always returns "Pass" regardless of whether I click "Yes" or "No".
Note that we do not see this problem when using FireFox.
Changed the method in which the submitted fields are created.  Previously this was BUTTON but has been switched to INPUT.  Also changed the way that the values are parsed in TestHarnessHandler.getContent().  Plus, found another but in that "Continue" was not setting the fact that the test result was valid, it was simply using the value of the last time an interactive test was executed.

Fixed in org.eclipse.ercp.test.harness.TestHarnessHandler 1.2
Could you please verify and close?
(see previous comment)
Verified the fixes using the latest code.
Fix was verified, closing bug.</WithOutStack>
  </Bug>
  <Bug>
    <BugId amount="120403" />
    <CreationDate amount="2005-12-12 12:14:00 -0500" />
    <DupId amount="" />
    <classification amount="WebTools" />
    <Product amount="WTP EJB Tools" />
    <component amount="jst.ejb" />
    <Version amount="1.0" />
    <rep_platform amount="PC" />
    <op_sys amount="Windows 2000" />
    <priority amount="P3" />
    <bug_severity amount="normal" />
    <Summery>Variable J2EE module references cause NPEs in JARDependencyPropertiesPage</Summery>
    <Patches amount="0" />
    <Stacktraces amount="2">
      <Stacktrace timestamp="1437330617622">
        <Exception>java.lang.NullPointerException</Exception>
        <Reason />
        <Frames>
          <Frame depth="0">org.eclipse.jst.j2ee.internal.JARDependencyPropertiesPage.createJ2EEComponentDependencyOperations(JARDependencyPropertiesPage.java:544)</Frame>
          <Frame depth="1">org.eclipse.jst.j2ee.internal.JARDependencyPropertiesPage.performOk(JARDependencyPropertiesPage.java:461)</Frame>
          <Frame depth="2">org.eclipse.jst.j2ee.internal.J2EEDependenciesPage.performOk(J2EEDependenciesPage.java:139)</Frame>
          <Frame depth="3">org.eclipse.jface.preference.PreferenceDialog$11.run(PreferenceDialog.java:862)</Frame>
          <Frame depth="4">org.eclipse.core.internal.runtime.InternalPlatform.run(InternalPlatform.java:1044)</Frame>
          <Frame depth="5">org.eclipse.core.runtime.Platform.run(Platform.java:783)</Frame>
          <Frame depth="6">org.eclipse.ui.internal.JFaceUtil$1.run(JFaceUtil.java:44)</Frame>
          <Frame depth="7">org.eclipse.jface.util.SafeRunnable.run(SafeRunnable.java:148)</Frame>
          <Frame depth="8">org.eclipse.jface.preference.PreferenceDialog.okPressed(PreferenceDialog.java:842)</Frame>
          <Frame depth="9">org.eclipse.ui.internal.dialogs.FilteredPreferenceDialog.okPressed(FilteredPreferenceDialog.java:296)</Frame>
          <Frame depth="10">org.eclipse.jface.preference.PreferenceDialog.buttonPressed(PreferenceDialog.java:227)</Frame>
          <Frame depth="11">org.eclipse.jface.dialogs.Dialog$2.widgetSelected(Dialog.java:556)</Frame>
          <Frame depth="12">org.eclipse.swt.widgets.TypedListener.handleEvent(TypedListener.java:90)</Frame>
          <Frame depth="13">org.eclipse.swt.widgets.EventTable.sendEvent(EventTable.java:66)</Frame>
          <Frame depth="14">org.eclipse.swt.widgets.Widget.sendEvent(Widget.java:843)</Frame>
          <Frame depth="15">org.eclipse.swt.widgets.Display.runDeferredEvents(Display.java:3080)</Frame>
          <Frame depth="16">org.eclipse.swt.widgets.Display.readAndDispatch(Display.java:2713)</Frame>
          <Frame depth="17">org.eclipse.jface.window.Window.runEventLoop(Window.java:809)</Frame>
          <Frame depth="18">org.eclipse.jface.window.Window.open(Window.java:787)</Frame>
          <Frame depth="19">org.eclipse.ui.dialogs.PropertyDialogAction.run(PropertyDialogAction.java:157)</Frame>
          <Frame depth="20">org.eclipse.jface.action.Action.runWithEvent(Action.java:996)</Frame>
          <Frame depth="21">org.eclipse.jface.action.ActionContributionItem.handleWidgetSelection(ActionContributionItem.java:538)</Frame>
          <Frame depth="22">org.eclipse.jface.action.ActionContributionItem.access$2(ActionContributionItem.java:488)</Frame>
          <Frame depth="23">org.eclipse.jface.action.ActionContributionItem$5.handleEvent(ActionContributionItem.java:400)</Frame>
          <Frame depth="24">org.eclipse.swt.widgets.EventTable.sendEvent(EventTable.java:66)</Frame>
          <Frame depth="25">org.eclipse.swt.widgets.Widget.sendEvent(Widget.java:843)</Frame>
          <Frame depth="26">org.eclipse.swt.widgets.Display.runDeferredEvents(Display.java:3080)</Frame>
          <Frame depth="27">org.eclipse.swt.widgets.Display.readAndDispatch(Display.java:2713)</Frame>
          <Frame depth="28">org.eclipse.ui.internal.Workbench.runEventLoop(Workbench.java:1699)</Frame>
          <Frame depth="29">org.eclipse.ui.internal.Workbench.runUI(Workbench.java:1663)</Frame>
          <Frame depth="30">org.eclipse.ui.internal.Workbench.createAndRunWorkbench(Workbench.java:367)</Frame>
          <Frame depth="31">org.eclipse.ui.PlatformUI.createAndRunWorkbench(PlatformUI.java:143)</Frame>
          <Frame depth="32">org.eclipse.ui.internal.ide.IDEApplication.run(IDEApplication.java:103)</Frame>
          <Frame depth="33">org.eclipse.core.internal.runtime.PlatformActivator$1.run(PlatformActivator.java:226)</Frame>
          <Frame depth="34">org.eclipse.core.runtime.adaptor.EclipseStarter.run(EclipseStarter.java:376)</Frame>
          <Frame depth="35">org.eclipse.core.runtime.adaptor.EclipseStarter.run(EclipseStarter.java:163)</Frame>
          <Frame depth="36">sun.reflect.NativeMethodAccessorImpl.invoke0(Native Method)</Frame>
          <Frame depth="37">sun.reflect.NativeMethodAccessorImpl.invoke(Unknown Source)</Frame>
          <Frame depth="38">sun.reflect.DelegatingMethodAccessorImpl.invoke(Unknown Source)</Frame>
          <Frame depth="39">java.lang.reflect.Method.invoke(Unknown Source)</Frame>
          <Frame depth="40">org.eclipse.core.launcher.Main.invokeFramework(Main.java:334)</Frame>
          <Frame depth="41">org.eclipse.core.launcher.Main.basicRun(Main.java:278)</Frame>
          <Frame depth="42">org.eclipse.core.launcher.Main.run(Main.java:973)</Frame>
          <Frame depth="43">org.eclipse.core.launcher.Main.main(Main.java:948)</Frame>
        </Frames>
      </Stacktrace>
      <Stacktrace timestamp="1437330617622">
        <Exception>java.lang.NullPointerException</Exception>
        <Reason />
        <Frames>
          <Frame depth="0">org.eclipse.jst.j2ee.internal.JARDependencyPropertiesPage.createJ2EEComponentDependencyOperations(JARDependencyPropertiesPage.java:611)</Frame>
          <Frame depth="1">org.eclipse.jst.j2ee.internal.JARDependencyPropertiesPage.performOk(JARDependencyPropertiesPage.java:461)</Frame>
          <Frame depth="2">org.eclipse.jst.j2ee.internal.J2EEDependenciesPage.performOk(J2EEDependenciesPage.java:146)</Frame>
          <Frame depth="3">org.eclipse.jface.preference.PreferenceDialog$11.run(PreferenceDialog.java:862)</Frame>
          <Frame depth="4">org.eclipse.core.internal.runtime.InternalPlatform.run(InternalPlatform.java:1044)</Frame>
        </Frames>
      </Stacktrace>
    </Stacktraces>
    <SourceCodeRegions amount="0" />
    <Enumerations amount="0" />
    <bug_status amount="CLOSED" />
    <resolution amount="FIXED" />
    <WithStack>WTP 1.0RC3:
If I add references to jar files to my ear project by means of variables, I get the following exception when I refer to such a jar file in my ejb project (which is part of the ear). The same is with "external jar" references. If I copy the jar files to the ear content directory, I can add them to my ejb project no problem.

java.lang.NullPointerException
	at org.eclipse.jst.j2ee.internal.JARDependencyPropertiesPage.createJ2EEComponentDependencyOperations(JARDependencyPropertiesPage.java:544)
	at org.eclipse.jst.j2ee.internal.JARDependencyPropertiesPage.performOk(JARDependencyPropertiesPage.java:461)
	at org.eclipse.jst.j2ee.internal.J2EEDependenciesPage.performOk(J2EEDependenciesPage.java:139)
	at org.eclipse.jface.preference.PreferenceDialog$11.run(PreferenceDialog.java:862)
	at org.eclipse.core.internal.runtime.InternalPlatform.run(InternalPlatform.java:1044)
	at org.eclipse.core.runtime.Platform.run(Platform.java:783)
	at org.eclipse.ui.internal.JFaceUtil$1.run(JFaceUtil.java:44)
	at org.eclipse.jface.util.SafeRunnable.run(SafeRunnable.java:148)
	at org.eclipse.jface.preference.PreferenceDialog.okPressed(PreferenceDialog.java:842)
	at org.eclipse.ui.internal.dialogs.FilteredPreferenceDialog.okPressed(FilteredPreferenceDialog.java:296)
	at org.eclipse.jface.preference.PreferenceDialog.buttonPressed(PreferenceDialog.java:227)
	at org.eclipse.jface.dialogs.Dialog$2.widgetSelected(Dialog.java:556)
	at org.eclipse.swt.widgets.TypedListener.handleEvent(TypedListener.java:90)
	at org.eclipse.swt.widgets.EventTable.sendEvent(EventTable.java:66)
	at org.eclipse.swt.widgets.Widget.sendEvent(Widget.java:843)
	at org.eclipse.swt.widgets.Display.runDeferredEvents(Display.java:3080)
	at org.eclipse.swt.widgets.Display.readAndDispatch(Display.java:2713)
	at org.eclipse.jface.window.Window.runEventLoop(Window.java:809)
	at org.eclipse.jface.window.Window.open(Window.java:787)
	at org.eclipse.ui.dialogs.PropertyDialogAction.run(PropertyDialogAction.java:157)
	at org.eclipse.jface.action.Action.runWithEvent(Action.java:996)
	at org.eclipse.jface.action.ActionContributionItem.handleWidgetSelection(ActionContributionItem.java:538)
	at org.eclipse.jface.action.ActionContributionItem.access$2(ActionContributionItem.java:488)
	at org.eclipse.jface.action.ActionContributionItem$5.handleEvent(ActionContributionItem.java:400)
	at org.eclipse.swt.widgets.EventTable.sendEvent(EventTable.java:66)
	at org.eclipse.swt.widgets.Widget.sendEvent(Widget.java:843)
	at org.eclipse.swt.widgets.Display.runDeferredEvents(Display.java:3080)
	at org.eclipse.swt.widgets.Display.readAndDispatch(Display.java:2713)
	at org.eclipse.ui.internal.Workbench.runEventLoop(Workbench.java:1699)
	at org.eclipse.ui.internal.Workbench.runUI(Workbench.java:1663)
	at org.eclipse.ui.internal.Workbench.createAndRunWorkbench(Workbench.java:367)
	at org.eclipse.ui.PlatformUI.createAndRunWorkbench(PlatformUI.java:143)
	at org.eclipse.ui.internal.ide.IDEApplication.run(IDEApplication.java:103)
	at org.eclipse.core.internal.runtime.PlatformActivator$1.run(PlatformActivator.java:226)
	at org.eclipse.core.runtime.adaptor.EclipseStarter.run(EclipseStarter.java:376)
	at org.eclipse.core.runtime.adaptor.EclipseStarter.run(EclipseStarter.java:163)
	at sun.reflect.NativeMethodAccessorImpl.invoke0(Native Method)
	at sun.reflect.NativeMethodAccessorImpl.invoke(Unknown Source)
	at sun.reflect.DelegatingMethodAccessorImpl.invoke(Unknown Source)
	at java.lang.reflect.Method.invoke(Unknown Source)
	at org.eclipse.core.launcher.Main.invokeFramework(Main.java:334)
	at org.eclipse.core.launcher.Main.basicRun(Main.java:278)
	at org.eclipse.core.launcher.Main.run(Main.java:973)
	at org.eclipse.core.launcher.Main.main(Main.java:948)
Could not reproduce in the  20060110 build.
Created attachment 34010
Workspace to reproduce bug

In this simple workspace I added a couple of apache jar files to the ear project ("sample"). For this I defined the variable APACHE_LIB. If I want to add any of those jar files in the J2EE dependencies page of the sample-ejb project I get the following exception in the log file:

java.lang.NullPointerException
	at org.eclipse.jst.j2ee.internal.JARDependencyPropertiesPage.createJ2EEComponentDependencyOperations(JARDependencyPropertiesPage.java:611)
	at org.eclipse.jst.j2ee.internal.JARDependencyPropertiesPage.performOk(JARDependencyPropertiesPage.java:461)
	at org.eclipse.jst.j2ee.internal.J2EEDependenciesPage.performOk(J2EEDependenciesPage.java:146)
	at org.eclipse.jface.preference.PreferenceDialog$11.run(PreferenceDialog.java:862)
	at org.eclipse.core.internal.runtime.InternalPlatform.run(InternalPlatform.java:1044)
....

I hope you can reproduce the problem (I tested with M200602010238).
Added workspace to reproduce bug
fixed for next build
Got permission from Simon to close this bug.</WithStack>
    <WithOutStack>WTP 1.0RC3:
If I add references to jar files to my ear project by means of variables, I get the following exception when I refer to such a jar file in my ejb project (which is part of the ear). The same is with "external jar" references. If I copy the jar files to the ear content directory, I can add them to my ejb project no problem.

Could not reproduce in the  20060110 build.
Created attachment 34010
Workspace to reproduce bug

In this simple workspace I added a couple of apache jar files to the ear project ("sample"). For this I defined the variable APACHE_LIB. If I want to add any of those jar files in the J2EE dependencies page of the sample-ejb project I get the following exception in the log file:


....

I hope you can reproduce the problem (I tested with M200602010238).
Added workspace to reproduce bug
fixed for next build
Got permission from Simon to close this bug.</WithOutStack>
  </Bug>
  <Bug>
    <BugId amount="120404" />
    <CreationDate amount="2005-12-12 12:18:00 -0500" />
    <DupId amount="" />
    <classification amount="Tools" />
    <Product amount="TPTP Testing" />
    <component amount="Test.Execution.ExecutionHarness" />
    <Version amount="4.2" />
    <rep_platform amount="PC" />
    <op_sys amount="Windows XP" />
    <priority amount="P1" />
    <bug_severity amount="enhancement" />
    <Summery>[Functionality]  Phase I -- Test Execution and Agent Data Collection</Summery>
    <Patches amount="0" />
    <Stacktraces amount="0" />
    <SourceCodeRegions amount="0" />
    <Enumerations amount="0" />
    <bug_status amount="CLOSED" />
    <resolution amount="WONTFIX" />
    <WithStack>This task includes the work to be completed in i1, a smaller chunk to break up the larger feature.

This is no longer required.
ACTION: Please verify/close this defect.
Closing by default since not closed by the originator in the 7+ months since being resolved.  

Please reopen if the issue is still present in the latest TPTP release or the resolution is not correct.</WithStack>
    <WithOutStack>This task includes the work to be completed in i1, a smaller chunk to break up the larger feature.

This is no longer required.
ACTION: Please verify/close this defect.
Closing by default since not closed by the originator in the 7+ months since being resolved.  

Please reopen if the issue is still present in the latest TPTP release or the resolution is not correct.</WithOutStack>
  </Bug>
  <Bug>
    <BugId amount="120405" />
    <CreationDate amount="2005-12-12 12:20:00 -0500" />
    <DupId amount="" />
    <classification amount="Tools" />
    <Product amount="TPTP Testing" />
    <component amount="Test.Execution.ExecutionHarness" />
    <Version amount="4.2" />
    <rep_platform amount="PC" />
    <op_sys amount="Windows XP" />
    <priority amount="P1" />
    <bug_severity amount="enhancement" />
    <Summery>[Functionality]  Phase II -- Test Execution and Agent Data Collection Phase II</Summery>
    <Patches amount="0" />
    <Stacktraces amount="0" />
    <SourceCodeRegions amount="0" />
    <Enumerations amount="0" />
    <bug_status amount="CLOSED" />
    <resolution amount="WONTFIX" />
    <WithStack>This task includes the work to be completed in i2, a smaller chunk to break up
the larger feature.

This is no longer required.
ACTION: Please verify/close this defect.
Closing by default since not closed by the originator in the 7+ months since being resolved.  

Please reopen if the issue is still present in the latest TPTP release or the resolution is not correct.</WithStack>
    <WithOutStack>This task includes the work to be completed in i2, a smaller chunk to break up
the larger feature.

This is no longer required.
ACTION: Please verify/close this defect.
Closing by default since not closed by the originator in the 7+ months since being resolved.  

Please reopen if the issue is still present in the latest TPTP release or the resolution is not correct.</WithOutStack>
  </Bug>
  <Bug>
    <BugId amount="120406" />
    <CreationDate amount="2005-12-12 12:20:00 -0500" />
    <DupId amount="180746" />
    <classification amount="Eclipse" />
    <Product amount="Platform" />
    <component amount="UI" />
    <Version amount="3.2" />
    <rep_platform amount="PC" />
    <op_sys amount="All" />
    <priority amount="P3" />
    <bug_severity amount="normal" />
    <Summery>[DataBinding] getCombinedValidationMessage firing too often</Summery>
    <Patches amount="0" />
    <Stacktraces amount="0" />
    <SourceCodeRegions amount="2">
      <source_code type="functiondef">
        <location start="8" end="261" />
        <code>private IChangeListener messageChangeListener = new IChangeListener() {
      public void handleChange(ChangeEvent changeEvent) {
         String displayMessage = (String)validationMessage.getValue();
         setMessage(displayMessage);
      }
   }</code>
      </source_code>
      <source_code type="functiondef">
        <location start="312" end="561" />
        <code>private void bindGUI() {
      IDataBindingContext dbc = PartnerBinding.createContext(this.getShell());
      validationMessage = dbc.getCombinedValidationMessage();
      validationMessage.addChangeListener(messageChangeListener);
      ...
   }</code>
      </source_code>
    </SourceCodeRegions>
    <Enumerations amount="0" />
    <bug_status amount="RESOLVED" />
    <resolution amount="DUPLICATE" />
    <WithStack>Given:

   private IChangeListener messageChangeListener = new IChangeListener() {
      public void handleChange(ChangeEvent changeEvent) {
         String displayMessage = (String)validationMessage.getValue();
         setMessage(displayMessage);
      }
   };
   protected IUpdatableValue validationMessage;

   private void bindGUI() {
      IDataBindingContext dbc = PartnerBinding.createContext(this.getShell());
      validationMessage = dbc.getCombinedValidationMessage();
      validationMessage.addChangeListener(messageChangeListener);
      ...
   }

The validation message never gets displayed because every field on the form is firing validation messages after every keystroke.
(The result is that even though the correct message is being fired, it is immediately being cleared by some another field on the form.)

This may be a dupe of bug #119930
(In reply to comment #1)
&gt; (The result is that even though the correct message is being fired, it is
&gt; immediately being cleared by some another field on the form.)
&gt; 
&gt; This may be a dupe of bug #119930

Nope.  We're processing too many SWT events here, not JavaBeans events.
Also getPartialValidationMessage
Dave, is this still a problem?
The main complaint in this bug (too many SWT events triggering validation) can is addressed by SWTObservables.observeDelayedValue().  Close?
sure
Closing as dupe of 180746 since that bug fix addresses this issue

*** This bug has been marked as a duplicate of bug 180746 ***</WithStack>
    <WithOutStack>Given:

   private IChangeListener messageChangeListener = new IChangeListener() {
      public void handleChange(ChangeEvent changeEvent) {
         String displayMessage = (String)validationMessage.getValue();
         setMessage(displayMessage);
      }
   };
   protected IUpdatableValue validationMessage;

   private void bindGUI() {
      IDataBindingContext dbc = PartnerBinding.createContext(this.getShell());
      validationMessage = dbc.getCombinedValidationMessage();
      validationMessage.addChangeListener(messageChangeListener);
      ...
   }

The validation message never gets displayed because every field on the form is firing validation messages after every keystroke.
(The result is that even though the correct message is being fired, it is immediately being cleared by some another field on the form.)

This may be a dupe of bug #119930
(In reply to comment #1)
&gt; (The result is that even though the correct message is being fired, it is
&gt; immediately being cleared by some another field on the form.)
&gt; 
&gt; This may be a dupe of bug #119930

Nope.  We're processing too many SWT events here, not JavaBeans events.
Also getPartialValidationMessage
Dave, is this still a problem?
The main complaint in this bug (too many SWT events triggering validation) can is addressed by SWTObservables.observeDelayedValue().  Close?
sure
Closing as dupe of 180746 since that bug fix addresses this issue

*** This bug has been marked as a duplicate of bug 180746 ***</WithOutStack>
  </Bug>
  <Bug>
    <BugId amount="120407" />
    <CreationDate amount="2005-12-12 12:27:00 -0500" />
    <DupId amount="" />
    <classification amount="WebTools" />
    <Product amount="Web Tools" />
    <component amount="documentation" />
    <Version amount="1.0" />
    <rep_platform amount="PC" />
    <op_sys amount="Windows XP" />
    <priority amount="P3" />
    <bug_severity amount="normal" />
    <Summery>Odd help page for XML Source preferences</Summery>
    <Patches amount="0" />
    <Stacktraces amount="0" />
    <SourceCodeRegions amount="0" />
    <Enumerations amount="0" />
    <bug_status amount="CLOSED" />
    <resolution amount="FIXED" />
    <WithStack>RC3 build.  The text in the help page for the XML Source preferences doesn't look quite right.  It looks like there are extra line feeds or something similar going wrong.
Created attachment 31569
picture of help pane
Looks like there's a problem with xml and dtd csh in several places.  I believe it's because the files containing the actual csh descriptions (like EditorDtdContexts.xml) are formatted when they shouldn't be.

So assigning to documentation component.
I'll fix this up post 1.0. Thanks for reporting the problem.
Fixed in WTP 1.0.1.
Verified in WTP 1.5 RC5a
Closing bug.</WithStack>
    <WithOutStack>RC3 build.  The text in the help page for the XML Source preferences doesn't look quite right.  It looks like there are extra line feeds or something similar going wrong.
Created attachment 31569
picture of help pane
Looks like there's a problem with xml and dtd csh in several places.  I believe it's because the files containing the actual csh descriptions (like EditorDtdContexts.xml) are formatted when they shouldn't be.

So assigning to documentation component.
I'll fix this up post 1.0. Thanks for reporting the problem.
Fixed in WTP 1.0.1.
Verified in WTP 1.5 RC5a
Closing bug.</WithOutStack>
  </Bug>
  <Bug>
    <BugId amount="120408" />
    <CreationDate amount="2005-12-12 12:28:00 -0500" />
    <DupId amount="" />
    <classification amount="Eclipse" />
    <Product amount="Platform" />
    <component amount="UI" />
    <Version amount="3.2" />
    <rep_platform amount="PC" />
    <op_sys amount="Windows XP" />
    <priority amount="P3" />
    <bug_severity amount="normal" />
    <Summery>[Field Assist] - API - Specification of invoking key stroke/sequence</Summery>
    <Patches amount="0" />
    <Stacktraces amount="0" />
    <SourceCodeRegions amount="1">
      <source_code type="functioncall">
        <location start="910" end="979" />
        <code>IHandlerService.activateHandler(contentAssistCommandId, handler);</code>
      </source_code>
    </SourceCodeRegions>
    <Enumerations amount="8">
      <Enumeration lines="2">
        <Lines>
          <Line>(a) leave as is, since a keystroke can be easily mapped to a key event.  (use it as a convenient data structure)</Line>
          <Line>(b) change to a lower level specification, such as SWT keycode.  Since it's not using the complete key bindings story, using the keystroke class may be misleading.</Line>
        </Lines>
      </Enumeration>
      <Enumeration lines="5">
        <Lines>
          <Line>a) get the binding for the specified command and strip off the first keystroke, pass it through in the call to the ContentProposalAdapter constructor(simple but limited)</Line>
          <Line>b) activate/deactivate the handler as the control gains and loses focus as Doug describes</Line>
          <Line>c) if there is ever a ControlFocusSourceProvider provided in the future for other reasons, the workbench adapter could drop the focus management code and just register an expression for comparing the focus control to the adapter's control</Line>
          <Line>(In reply to comment #4)</Line>
          <Line>&gt; I stopped because this all feels very heavyweight to me.</Line>
        </Lines>
      </Enumeration>
      <Enumeration lines="7">
        <Lines>
          <Line>- defined ISources.ACTIVE_CONTROL</Line>
          <Line>- ControlFocusSourceProvider monitors focus events on the display level and fires changes on this source</Line>
          <Line>- this source provider is hooked into the HandlerService</Line>
          <Line>- an expression to match the controls is created,</Line>
          <Line>- a handler to invoke the content assist is defined</Line>
          <Line>- clients register the control with the service when they install content proposal adapters (this could be done for clients by providing a workbench-level content proposal adapter that does this for them)</Line>
          <Line>I got this far and then stopped...(ie, it's not working, but I see how it could...)</Line>
        </Lines>
      </Enumeration>
      <Enumeration lines="3">
        <Lines>
          <Line>- define a command for content proposal at the org.eclipse.ui level (use the same key definitions currently defined in the text content proposal command)</Line>
          <Line>- provide API for clients to get the command name so they can use it to get the key sequence (this is what platform text does today)</Line>
          <Line>- this key sequence is given to the content proposal adapter</Line>
        </Lines>
      </Enumeration>
      <Enumeration lines="3">
        <Lines>
          <Line>- Specify KeySequence...this is misleading because all I would do inside is pull off the first keystroke and watch for it.  However, it keeps clients from having to do the same thing everywhere.  It leaves it open for a better solution in the future.</Line>
          <Line>- Specify KeyStroke...more "honest" but then all clients will repeat the pattern of getting the KeySequence for a command and stripping off the first keystroke (this pattern is already present today)</Line>
          <Line>I'm leaning toward doing the following:</Line>
        </Lines>
      </Enumeration>
      <Enumeration lines="2">
        <Lines>
          <Line>- keep the ContentProposalAdapter API as is.  A KeyStroke for explicit invocation can be specified in the constructor.  KeyStroke is basically serving as a convenient data structure, you get the parsing of key names, etc.</Line>
          <Line>- make a workbench-version of the content proposal adapter where you can specify the command ID that should activate the proposal provider.  The API for auto activation characters is also provided, but we don't expose the notion of an explicit invoking keystroke.  This gets us a simple API and leaves me all the discussed implementation options hidden within the workbench-level adapter:</Line>
        </Lines>
      </Enumeration>
      <Enumeration lines="5">
        <Lines>
          <Line>- are there client issues on your side with moving the command to org.eclipse.ui?  I can always commit the new one first.  Note that I've renamed it to</Line>
          <Line>org.eclipse.ui.edit.contentAssist.proposals</Line>
          <Line>instead of</Line>
          <Line>org.eclipse.ui.edit.text.contentAssist.proposals.</Line>
          <Line>- do you feel that the workbench content proposal adapter should just know what command to use or do you think it should be supplied by the client?</Line>
        </Lines>
      </Enumeration>
      <Enumeration lines="3">
        <Lines>
          <Line>- Content Assist and Context Information commands are now defined in org.eclipse.ui instead of org.eclipse.ui.editors</Line>
          <Line>- Content Assist command key binding works on patched find/replace dialog</Line>
          <Line>- JFace-level specification of keystroke is working in the field assist example</Line>
        </Lines>
      </Enumeration>
    </Enumerations>
    <bug_status amount="VERIFIED" />
    <resolution amount="FIXED" />
    <WithStack>from an email:
Doug - I'm looking for the best way (see ContentProposalAdapter) for
clients to specify the triggering key for content assist.
It needs to be specified at the JFace level, but in a way that
workbench-level code could look up the standard key binding.
I chose KeyStroke, but perhaps it should be KeySequence.  If KeySequence
is a better choice, it would be great if SWTKeySupport could provide a
method to look at a key event and tell me if it's a match....
Doug's response:

A single key event cannot be equated to a KeySequence.

The proper way to do this is probably a little bit complicated, as it should 
integrate cleanly with the workbench.  I don't have a lot of time to work on 
this, so I'm not sure what to suggest.

If this existed at the workbench level, then you would provide an 
IHandlerService to ContentProposalAdapter.  When the corresponding control 
gains focus, you would:

    IHandlerService.activateHandler(contentAssistCommandId, handler);

where handler is the guy that carries out the work normally done in the 
control listener.  When you lose focus, you would deactivate.

(If you have more time, then the ideal solution would be to add a 
ControlFocusSourceProvider (implements ISourceProvider), hook it up to 
HandlerService, and then create an expression that checks the current focus 
control.  You then activate the handler once with the expression, and the 
handler service would manage conflicts and activation/deactivation.  See 
Workbench.init to see how source providers are hooked into services.)


You can take the approach you are taking, but it has weaknesses:
+ Commands are bound to KeySequence instances, not KeyStroke
+ Your listener code would need to mimick the complexities of the listener in 
WorkbenchKeyboard (e.g., listen to traverse as well, how to handle special 
keys, prefix masking, key binding state etc.)
+ None of the command execution listener code will be hit


Quick thoughts:
+ A JFace interface which IHandlerService could implement -- allowing it to be 
passed down into JFace
+ A service at the workbench level with which ContentProposalAdapters can be 
registered.

But, with either of those suggestions, I think you still need to provide a 
simple KeyDown listener approach for JFace standalone applications.

okay, I see two things to do here:

1 - agree on the preferred way to specify invoking key sequence for stand-alone JFace users.  Options are to:
(a) leave as is, since a keystroke can be easily mapped to a key event.  (use it as a convenient data structure)
(b) change to a lower level specification, such as SWT keycode.  Since it's not using the complete key bindings story, using the keystroke class may be misleading.

2 - define the story for workbench-level users and complete key bindings.  Something whereby the client (dialog) registers their ContentProposalAdapters with the workbench.  This means we need API on the adapter side to invoke the popup, as well as define the mechanism for registering adapters.
note to self:  once resolved, there should be dynamic API for setting and querying the keystroke in addition to the constructor parameters.  Since autoactivation characters must be dynamically settable for platform text (see bug# 120458), it makes sense that the keystroke should be also.
Doug &amp; Dani - I'm particularly interested in your thoughts.  Any other ideas are welcome, too...

I went down the "ideal" path to see what it felt like:
- defined ISources.ACTIVE_CONTROL
- ControlFocusSourceProvider monitors focus events on the display level and fires changes on this source
- this source provider is hooked into the HandlerService
- an expression to match the controls is created, 
- a handler to invoke the content assist is defined
- clients register the control with the service when they install content proposal adapters (this could be done for clients by providing a workbench-level content proposal adapter that does this for them)
I got this far and then stopped...(ie, it's not working, but I see how it could...)

I stopped because this all feels very heavyweight to me.  I agree it's the most idealistic in terms of handlers/services, and in allowing multiple keystrokes to be used to trigger content assist.  But I'm worried about the overhead of watching all the focus event changes when we only care about a few fields at a time.  We haven't done much for the client except to allow multiple keystroke sequences to be supported for content proposal, which I don't think is typical.  In fact, auto-activation is probably a more important scenario (such as typeahead completion).

All I really want from the commands/bindings/handlers world is a way to know when a sequence is invoked for a particular control.  Since fields are fairly short lived, I think I'd feel better if there were some way I could tell a handler service "watch this control and tell me if this command is invoked" and then I'd unregister the control when I didn't want it watched anymore.  I realize there are reasons for having to centrally manage this, different ISource priorities and scopes, etc.  

But I don't feel like field based content assist is a good enough reason to introduce such a heavy-handed source provider.  If there were already a control focus source provider for some other good reason, then I'd feel better about this approach.  So...

I propose we keep it simple for now:
- define a command for content proposal at the org.eclipse.ui level (use the same key definitions currently defined in the text content proposal command)
- provide API for clients to get the command name so they can use it to get the key sequence (this is what platform text does today)
- this key sequence is given to the content proposal adapter

Then we are back to the question of how best to specify the sequence when creating the content proposal adapter

- Specify KeySequence...this is misleading because all I would do inside is pull off the first keystroke and watch for it.  However, it keeps clients from having to do the same thing everywhere.  It leaves it open for a better solution in the future.
- Specify KeyStroke...more "honest" but then all clients will repeat the pattern of getting the KeySequence for a command and stripping off the first keystroke (this pattern is already present today)
I'm leaning toward doing the following:

- keep the ContentProposalAdapter API as is.  A KeyStroke for explicit invocation can be specified in the constructor.  KeyStroke is basically serving as a convenient data structure, you get the parsing of key names, etc.
- make a workbench-version of the content proposal adapter where you can specify the command ID that should activate the proposal provider.  The API for auto activation characters is also provided, but we don't expose the notion of an explicit invoking keystroke.  This gets us a simple API and leaves me all the discussed implementation options hidden within the workbench-level adapter:

a) get the binding for the specified command and strip off the first keystroke, pass it through in the call to the ContentProposalAdapter constructor(simple but limited)
b) activate/deactivate the handler as the control gains and loses focus as Doug describes
c) if there is ever a ControlFocusSourceProvider provided in the future for other reasons, the workbench adapter could drop the focus management code and just register an expression for comparing the focus control to the adapter's control
(In reply to comment #4)
&gt; I stopped because this all feels very heavyweight to me.

The focus control tracking is not strictly necessary, if that's the only part you feel is awkward.  My other suggestion was simply that we track focus when appropriate, and activate/deactivate a handler when appropriate.


&gt; We haven't done much for the client except to allow multiple keystroke
&gt; sequences to be supported for content proposal, which I don't think is
&gt; typical.

We would also have done the following: allow tracking and playback of command execution (useful for cheatsheets, macros, instrumentation, etc.), allow the user to change the key binding after the field is created, take advantage of all the SWT/event/platform knowledge encapsulated in WorkbenchKeyboard, allow third-party plug-ins to override the behaviour of content assist, and every other feature that gets added to commands as the product matures.


&gt; But I don't feel like field based content assist is a good enough reason to
&gt; introduce such a heavy-handed source provider.  If there were already a

This I can agree with.  I only mentioned it because tracking the focus control is something that's done in other places as well (e.g., TextActionHandler).


&gt; - define a command for content proposal at the org.eclipse.ui level (use the
&gt; same key definitions currently defined in the text content proposal command)

Defining a duplicate command is not a good idea.  There should only be one command, if at all possible.  If necessary, we can move the content assist commands and bindings from org.eclipse.ui.workbench.texteditor to org.eclipse.ui.

Oh, I definitely understand the coolness of commands ;-)
And as you say, I can activate the handler myself.  I just wanted to try the full-on approach to understand it and see how it felt.

I can't get around implementing my own keyboard stuff since field assist is defined at the JFace level, but the approach I'm taking described in comment #5 will give me command-oriented API at the workbench level and allow me to get there later if not initially.  I prefer approach (b) but may back off to (a) if I get into serious trouble somehow.

Dani, two questions for you:
- are there client issues on your side with moving the command to org.eclipse.ui?  I can always commit the new one first.  Note that I've renamed it to
org.eclipse.ui.edit.contentAssist.proposals
instead of 
org.eclipse.ui.edit.text.contentAssist.proposals.
- do you feel that the workbench content proposal adapter should just know what command to use or do you think it should be supplied by the client?


Renaming isn't an option. The command ID is API as well and clients can get the command via that string. And I agree with Doug, we should not define a new command but keep the original one with its ID and move it down, otherwise there will be two "Content Assist" commands which will be confusing for users (see bug 67099 for such an example and with agreement to keep the IDs from Platform Text and JDT Text). Since we should use the same key sequence for all content assists we should also move down the key binding definitions. And for consistency I'd also want to move the "org.eclipse.ui.edit.text.contentAssist.contextInformation" command with its key binding definitions.

&gt;do you feel that the workbench content proposal adapter should just know what
&gt;command to use or do you think it should be supplied by the client?
It should use the "org.eclipse.ui.edit.text.contentAssist.proposals" command per default and offer an option to override this (advanced usage).
(In reply to comment #8)
&gt; And for consistency I'd also want to move the
&gt; "org.eclipse.ui.edit.text.contentAssist.contextInformation" command with its
&gt; key binding definitions.

+1

I've released the support for the WorkbenchContentAssistAdapter.
Available &gt;20060127.
It uses approach (b) and it turned out rather clean.  The handlers are activated when the control gets focus and deactivated when it loses it.

Dani/Markus - we have to coordinate the release of the command and key definitions because they will not work if they are defined in both places. I'm going to close this bug and we can take up the coordination of removing/adding the content assist commands and keys in bug #120237 as the relevant patches are there.
verified in 20060214-0800 on Win XP 
- Content Assist and Context Information commands are now defined in org.eclipse.ui instead of org.eclipse.ui.editors
- Content Assist command key binding works on patched find/replace dialog
- JFace-level specification of keystroke is working in the field assist example</WithStack>
    <WithOutStack>from an email:
Doug - I'm looking for the best way (see ContentProposalAdapter) for
clients to specify the triggering key for content assist.
It needs to be specified at the JFace level, but in a way that
workbench-level code could look up the standard key binding.
I chose KeyStroke, but perhaps it should be KeySequence.  If KeySequence
is a better choice, it would be great if SWTKeySupport could provide a
method to look at a key event and tell me if it's a match....
Doug's response:

A single key event cannot be equated to a KeySequence.

The proper way to do this is probably a little bit complicated, as it should 
integrate cleanly with the workbench.  I don't have a lot of time to work on 
this, so I'm not sure what to suggest.

If this existed at the workbench level, then you would provide an 
IHandlerService to ContentProposalAdapter.  When the corresponding control 
gains focus, you would:

    IHandlerService.activateHandler(contentAssistCommandId, handler);

where handler is the guy that carries out the work normally done in the 
control listener.  When you lose focus, you would deactivate.

(If you have more time, then the ideal solution would be to add a 
ControlFocusSourceProvider (implements ISourceProvider), hook it up to 
HandlerService, and then create an expression that checks the current focus 
control.  You then activate the handler once with the expression, and the 
handler service would manage conflicts and activation/deactivation.  See 
Workbench.init to see how source providers are hooked into services.)


You can take the approach you are taking, but it has weaknesses:
+ Commands are bound to KeySequence instances, not KeyStroke
+ Your listener code would need to mimick the complexities of the listener in 
WorkbenchKeyboard (e.g., listen to traverse as well, how to handle special 
keys, prefix masking, key binding state etc.)
+ None of the command execution listener code will be hit


Quick thoughts:
+ A JFace interface which IHandlerService could implement -- allowing it to be 
passed down into JFace
+ A service at the workbench level with which ContentProposalAdapters can be 
registered.

But, with either of those suggestions, I think you still need to provide a 
simple KeyDown listener approach for JFace standalone applications.

okay, I see two things to do here:

1 - agree on the preferred way to specify invoking key sequence for stand-alone JFace users.  Options are to:
(a) leave as is, since a keystroke can be easily mapped to a key event.  (use it as a convenient data structure)
(b) change to a lower level specification, such as SWT keycode.  Since it's not using the complete key bindings story, using the keystroke class may be misleading.

2 - define the story for workbench-level users and complete key bindings.  Something whereby the client (dialog) registers their ContentProposalAdapters with the workbench.  This means we need API on the adapter side to invoke the popup, as well as define the mechanism for registering adapters.
note to self:  once resolved, there should be dynamic API for setting and querying the keystroke in addition to the constructor parameters.  Since autoactivation characters must be dynamically settable for platform text (see bug# 120458), it makes sense that the keystroke should be also.
Doug &amp; Dani - I'm particularly interested in your thoughts.  Any other ideas are welcome, too...

I went down the "ideal" path to see what it felt like:
- defined ISources.ACTIVE_CONTROL
- ControlFocusSourceProvider monitors focus events on the display level and fires changes on this source
- this source provider is hooked into the HandlerService
- an expression to match the controls is created, 
- a handler to invoke the content assist is defined
- clients register the control with the service when they install content proposal adapters (this could be done for clients by providing a workbench-level content proposal adapter that does this for them)
I got this far and then stopped...(ie, it's not working, but I see how it could...)

I stopped because this all feels very heavyweight to me.  I agree it's the most idealistic in terms of handlers/services, and in allowing multiple keystrokes to be used to trigger content assist.  But I'm worried about the overhead of watching all the focus event changes when we only care about a few fields at a time.  We haven't done much for the client except to allow multiple keystroke sequences to be supported for content proposal, which I don't think is typical.  In fact, auto-activation is probably a more important scenario (such as typeahead completion).

All I really want from the commands/bindings/handlers world is a way to know when a sequence is invoked for a particular control.  Since fields are fairly short lived, I think I'd feel better if there were some way I could tell a handler service "watch this control and tell me if this command is invoked" and then I'd unregister the control when I didn't want it watched anymore.  I realize there are reasons for having to centrally manage this, different ISource priorities and scopes, etc.  

But I don't feel like field based content assist is a good enough reason to introduce such a heavy-handed source provider.  If there were already a control focus source provider for some other good reason, then I'd feel better about this approach.  So...

I propose we keep it simple for now:
- define a command for content proposal at the org.eclipse.ui level (use the same key definitions currently defined in the text content proposal command)
- provide API for clients to get the command name so they can use it to get the key sequence (this is what platform text does today)
- this key sequence is given to the content proposal adapter

Then we are back to the question of how best to specify the sequence when creating the content proposal adapter

- Specify KeySequence...this is misleading because all I would do inside is pull off the first keystroke and watch for it.  However, it keeps clients from having to do the same thing everywhere.  It leaves it open for a better solution in the future.
- Specify KeyStroke...more "honest" but then all clients will repeat the pattern of getting the KeySequence for a command and stripping off the first keystroke (this pattern is already present today)
I'm leaning toward doing the following:

- keep the ContentProposalAdapter API as is.  A KeyStroke for explicit invocation can be specified in the constructor.  KeyStroke is basically serving as a convenient data structure, you get the parsing of key names, etc.
- make a workbench-version of the content proposal adapter where you can specify the command ID that should activate the proposal provider.  The API for auto activation characters is also provided, but we don't expose the notion of an explicit invoking keystroke.  This gets us a simple API and leaves me all the discussed implementation options hidden within the workbench-level adapter:

a) get the binding for the specified command and strip off the first keystroke, pass it through in the call to the ContentProposalAdapter constructor(simple but limited)
b) activate/deactivate the handler as the control gains and loses focus as Doug describes
c) if there is ever a ControlFocusSourceProvider provided in the future for other reasons, the workbench adapter could drop the focus management code and just register an expression for comparing the focus control to the adapter's control
(In reply to comment #4)
&gt; I stopped because this all feels very heavyweight to me.

The focus control tracking is not strictly necessary, if that's the only part you feel is awkward.  My other suggestion was simply that we track focus when appropriate, and activate/deactivate a handler when appropriate.


&gt; We haven't done much for the client except to allow multiple keystroke
&gt; sequences to be supported for content proposal, which I don't think is
&gt; typical.

We would also have done the following: allow tracking and playback of command execution (useful for cheatsheets, macros, instrumentation, etc.), allow the user to change the key binding after the field is created, take advantage of all the SWT/event/platform knowledge encapsulated in WorkbenchKeyboard, allow third-party plug-ins to override the behaviour of content assist, and every other feature that gets added to commands as the product matures.


&gt; But I don't feel like field based content assist is a good enough reason to
&gt; introduce such a heavy-handed source provider.  If there were already a

This I can agree with.  I only mentioned it because tracking the focus control is something that's done in other places as well (e.g., TextActionHandler).


&gt; - define a command for content proposal at the org.eclipse.ui level (use the
&gt; same key definitions currently defined in the text content proposal command)

Defining a duplicate command is not a good idea.  There should only be one command, if at all possible.  If necessary, we can move the content assist commands and bindings from org.eclipse.ui.workbench.texteditor to org.eclipse.ui.

Oh, I definitely understand the coolness of commands ;-)
And as you say, I can activate the handler myself.  I just wanted to try the full-on approach to understand it and see how it felt.

I can't get around implementing my own keyboard stuff since field assist is defined at the JFace level, but the approach I'm taking described in comment #5 will give me command-oriented API at the workbench level and allow me to get there later if not initially.  I prefer approach (b) but may back off to (a) if I get into serious trouble somehow.

Dani, two questions for you:
- are there client issues on your side with moving the command to org.eclipse.ui?  I can always commit the new one first.  Note that I've renamed it to
org.eclipse.ui.edit.contentAssist.proposals
instead of 
org.eclipse.ui.edit.text.contentAssist.proposals.
- do you feel that the workbench content proposal adapter should just know what command to use or do you think it should be supplied by the client?


Renaming isn't an option. The command ID is API as well and clients can get the command via that string. And I agree with Doug, we should not define a new command but keep the original one with its ID and move it down, otherwise there will be two "Content Assist" commands which will be confusing for users (see bug 67099 for such an example and with agreement to keep the IDs from Platform Text and JDT Text). Since we should use the same key sequence for all content assists we should also move down the key binding definitions. And for consistency I'd also want to move the "org.eclipse.ui.edit.text.contentAssist.contextInformation" command with its key binding definitions.

&gt;do you feel that the workbench content proposal adapter should just know what
&gt;command to use or do you think it should be supplied by the client?
It should use the "org.eclipse.ui.edit.text.contentAssist.proposals" command per default and offer an option to override this (advanced usage).
(In reply to comment #8)
&gt; And for consistency I'd also want to move the
&gt; "org.eclipse.ui.edit.text.contentAssist.contextInformation" command with its
&gt; key binding definitions.

+1

I've released the support for the WorkbenchContentAssistAdapter.
Available &gt;20060127.
It uses approach (b) and it turned out rather clean.  The handlers are activated when the control gets focus and deactivated when it loses it.

Dani/Markus - we have to coordinate the release of the command and key definitions because they will not work if they are defined in both places. I'm going to close this bug and we can take up the coordination of removing/adding the content assist commands and keys in bug #120237 as the relevant patches are there.
verified in 20060214-0800 on Win XP 
- Content Assist and Context Information commands are now defined in org.eclipse.ui instead of org.eclipse.ui.editors
- Content Assist command key binding works on patched find/replace dialog
- JFace-level specification of keystroke is working in the field assist example</WithOutStack>
  </Bug>
  <Bug>
    <BugId amount="120409" />
    <CreationDate amount="2005-12-12 12:30:00 -0500" />
    <DupId amount="" />
    <classification amount="Eclipse" />
    <Product amount="Platform" />
    <component amount="UI" />
    <Version amount="3.2" />
    <rep_platform amount="PC" />
    <op_sys amount="Windows XP" />
    <priority amount="P3" />
    <bug_severity amount="major" />
    <Summery>[DnD] Widget disposed error - Workbench unusable after disabling memory monitor</Summery>
    <Patches amount="0" />
    <Stacktraces amount="1">
      <Stacktrace timestamp="1437330617637">
        <Exception>org.eclipse.swt.SWTException</Exception>
        <Reason>Widget is disposed</Reason>
        <Frames>
          <Frame depth="0">org.eclipse.swt.SWT.error(SWT.java:3283)</Frame>
          <Frame depth="1">org.eclipse.swt.SWT.error(SWT.java:3206)</Frame>
          <Frame depth="2">org.eclipse.swt.SWT.error(SWT.java:3177)</Frame>
          <Frame depth="3">org.eclipse.swt.widgets.Widget.error(Widget.java:421)</Frame>
          <Frame depth="4">org.eclipse.swt.widgets.Widget.checkWidget(Widget.java:316)</Frame>
          <Frame depth="5">org.eclipse.swt.widgets.Control.isVisible(Control.java:1416)</Frame>
          <Frame depth="6">org.eclipse.ui.internal.layout.TrimArea.filterResizable(TrimArea.java:55)</Frame>
          <Frame depth="7">org.eclipse.ui.internal.layout.TrimArea.maxDimension(TrimArea.java:155)</Frame>
          <Frame depth="8">org.eclipse.ui.internal.layout.TrimArea.calculateTrimSize(TrimArea.java:302)</Frame>
          <Frame depth="9">org.eclipse.ui.internal.layout.TrimLayout.layout(TrimLayout.java:409)</Frame>
          <Frame depth="10">org.eclipse.swt.widgets.Composite.updateLayout(Composite.java:946)</Frame>
          <Frame depth="11">org.eclipse.swt.widgets.Composite.WM_SIZE(Composite.java:1336)</Frame>
          <Frame depth="12">org.eclipse.swt.widgets.Canvas.WM_SIZE(Canvas.java:302)</Frame>
          <Frame depth="13">org.eclipse.swt.widgets.Decorations.WM_SIZE(Decorations.java:1717)</Frame>
          <Frame depth="14">org.eclipse.swt.widgets.Control.windowProc(Control.java:3293)</Frame>
          <Frame depth="15">org.eclipse.swt.widgets.Decorations.windowProc(Decorations.java:1538)</Frame>
          <Frame depth="16">org.eclipse.swt.widgets.Display.windowProc(Display.java:3919)</Frame>
          <Frame depth="17">org.eclipse.swt.internal.win32.OS.DefWindowProcW(Native Method)</Frame>
          <Frame depth="18">org.eclipse.swt.internal.win32.OS.DefWindowProc(OS.java:1700)</Frame>
          <Frame depth="19">org.eclipse.swt.widgets.Shell.callWindowProc(Shell.java:433)</Frame>
          <Frame depth="20">org.eclipse.swt.widgets.Control.windowProc(Control.java:3310)</Frame>
          <Frame depth="21">org.eclipse.swt.widgets.Decorations.windowProc(Decorations.java:1538)</Frame>
          <Frame depth="22">org.eclipse.swt.widgets.Display.windowProc(Display.java:3919)</Frame>
          <Frame depth="23">org.eclipse.swt.internal.win32.OS.DefWindowProcW(Native Method)</Frame>
          <Frame depth="24">org.eclipse.swt.internal.win32.OS.DefWindowProc(OS.java:1700)</Frame>
          <Frame depth="25">org.eclipse.swt.widgets.Shell.callWindowProc(Shell.java:433)</Frame>
          <Frame depth="26">org.eclipse.swt.widgets.Control.windowProc(Control.java:3310)</Frame>
          <Frame depth="27">org.eclipse.swt.widgets.Decorations.windowProc(Decorations.java:1538)</Frame>
          <Frame depth="28">org.eclipse.swt.widgets.Display.windowProc(Display.java:3919)</Frame>
          <Frame depth="29">org.eclipse.swt.internal.win32.OS.DefWindowProcW(Native Method)</Frame>
          <Frame depth="30">org.eclipse.swt.internal.win32.OS.DefWindowProc(OS.java:1700)</Frame>
          <Frame depth="31">org.eclipse.swt.widgets.Shell.callWindowProc(Shell.java:433)</Frame>
          <Frame depth="32">org.eclipse.swt.widgets.Control.windowProc(Control.java:3310)</Frame>
          <Frame depth="33">org.eclipse.swt.widgets.Decorations.windowProc(Decorations.java:1538)</Frame>
          <Frame depth="34">org.eclipse.swt.widgets.Display.windowProc(Display.java:3919)</Frame>
          <Frame depth="35">org.eclipse.swt.internal.win32.OS.DispatchMessageW(Native Method)</Frame>
          <Frame depth="36">org.eclipse.swt.internal.win32.OS.DispatchMessage(OS.java:1705)</Frame>
          <Frame depth="37">org.eclipse.swt.widgets.Display.readAndDispatch(Display.java:2859)</Frame>
          <Frame depth="38">org.eclipse.ui.internal.Workbench.runEventLoop(Workbench.java:1763)</Frame>
          <Frame depth="39">org.eclipse.ui.internal.Workbench.runUI(Workbench.java:1727)</Frame>
          <Frame depth="40">org.eclipse.ui.internal.Workbench.createAndRunWorkbench(Workbench.java:396)</Frame>
          <Frame depth="41">org.eclipse.ui.PlatformUI.createAndRunWorkbench(PlatformUI.java:143)</Frame>
          <Frame depth="42">org.eclipse.ui.internal.ide.IDEApplication.run(IDEApplication.java:106)</Frame>
          <Frame depth="43">org.eclipse.core.internal.runtime.PlatformActivator$1.run(PlatformActivator.java:109)</Frame>
          <Frame depth="44">org.eclipse.core.runtime.internal.adaptor.EclipseAppLauncher.runApplication(EclipseAppLauncher.java:92)</Frame>
          <Frame depth="45">org.eclipse.core.runtime.internal.adaptor.EclipseAppLauncher.start(EclipseAppLauncher.java:68)</Frame>
          <Frame depth="46">org.eclipse.core.runtime.adaptor.EclipseStarter.run(EclipseStarter.java:379)</Frame>
          <Frame depth="47">org.eclipse.core.runtime.adaptor.EclipseStarter.run(EclipseStarter.java:177)</Frame>
          <Frame depth="48">sun.reflect.NativeMethodAccessorImpl.invoke0(Native Method)</Frame>
          <Frame depth="49">sun.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:39)</Frame>
          <Frame depth="50">sun.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:25)</Frame>
          <Frame depth="51">java.lang.reflect.Method.invoke(Method.java:324)</Frame>
          <Frame depth="52">org.eclipse.core.launcher.Main.invokeFramework(Main.java:338)</Frame>
          <Frame depth="53">org.eclipse.core.launcher.Main.basicRun(Main.java:282)</Frame>
          <Frame depth="54">org.eclipse.core.launcher.Main.run(Main.java:977)</Frame>
          <Frame depth="55">org.eclipse.core.launcher.Main.main(Main.java:952)</Frame>
        </Frames>
      </Stacktrace>
    </Stacktraces>
    <SourceCodeRegions amount="0" />
    <Enumerations amount="1">
      <Enumeration lines="3">
        <Lines>
          <Line>1. start fresh workspace</Line>
          <Line>2. disable memory monitor via preference</Line>
          <Line>3. resized the workbench (via right bottom)</Line>
        </Lines>
      </Enumeration>
    </Enumerations>
    <bug_status amount="VERIFIED" />
    <resolution amount="FIXED" />
    <WithStack>I20051212-0800

1. start fresh workspace
2. disable memory monitor via preference
3. resized the workbench (via right bottom)

==&gt; errors and workbench is toasted

java version "1.4.2_08"
Java(TM) 2 Runtime Environment, Standard Edition (build 1.4.2_08-b03)
Java HotSpot(TM) Client VM (build 1.4.2_08-b03, mixed mode)
!SESSION 2005-12-12 18:27:07.103 -----------------------------------------------
eclipse.buildId=unknown
java.version=1.4.2_08
java.vendor=Sun Microsystems Inc.
BootLoader constants: OS=win32, ARCH=x86, WS=win32, NL=en_US
Framework arguments:  -product org.eclipse.sdk.ide -pdelaunch -showlocation
Command-line arguments:  -product org.eclipse.sdk.ide -data c:\eclipse\workspaces\Development_3_2\eoe -dev file:c:/eclipse/workspaces/Development_3_2/plugins/.metadata/.plugins/org.eclipse.pde.core/eoe (Sun)/dev.properties -pdelaunch -showlocation -consolelog -clean -os win32 -ws win32 -arch x86

!ENTRY org.eclipse.ui 4 4 2005-12-12 18:27:33.667
!MESSAGE Unhandled event loop exception

!ENTRY org.eclipse.ui 4 0 2005-12-12 18:27:33.677
!MESSAGE Widget is disposed
!STACK 0
org.eclipse.swt.SWTException: Widget is disposed
	at org.eclipse.swt.SWT.error(SWT.java:3283)
	at org.eclipse.swt.SWT.error(SWT.java:3206)
	at org.eclipse.swt.SWT.error(SWT.java:3177)
	at org.eclipse.swt.widgets.Widget.error(Widget.java:421)
	at org.eclipse.swt.widgets.Widget.checkWidget(Widget.java:316)
	at org.eclipse.swt.widgets.Control.isVisible(Control.java:1416)
	at org.eclipse.ui.internal.layout.TrimArea.filterResizable(TrimArea.java:55)
	at org.eclipse.ui.internal.layout.TrimArea.maxDimension(TrimArea.java:155)
	at org.eclipse.ui.internal.layout.TrimArea.calculateTrimSize(TrimArea.java:302)
	at org.eclipse.ui.internal.layout.TrimLayout.layout(TrimLayout.java:409)
	at org.eclipse.swt.widgets.Composite.updateLayout(Composite.java:946)
	at org.eclipse.swt.widgets.Composite.WM_SIZE(Composite.java:1336)
	at org.eclipse.swt.widgets.Canvas.WM_SIZE(Canvas.java:302)
	at org.eclipse.swt.widgets.Decorations.WM_SIZE(Decorations.java:1717)
	at org.eclipse.swt.widgets.Control.windowProc(Control.java:3293)
	at org.eclipse.swt.widgets.Decorations.windowProc(Decorations.java:1538)
	at org.eclipse.swt.widgets.Display.windowProc(Display.java:3919)
	at org.eclipse.swt.internal.win32.OS.DefWindowProcW(Native Method)
	at org.eclipse.swt.internal.win32.OS.DefWindowProc(OS.java:1700)
	at org.eclipse.swt.widgets.Shell.callWindowProc(Shell.java:433)
	at org.eclipse.swt.widgets.Control.windowProc(Control.java:3310)
	at org.eclipse.swt.widgets.Decorations.windowProc(Decorations.java:1538)
	at org.eclipse.swt.widgets.Display.windowProc(Display.java:3919)
	at org.eclipse.swt.internal.win32.OS.DefWindowProcW(Native Method)
	at org.eclipse.swt.internal.win32.OS.DefWindowProc(OS.java:1700)
	at org.eclipse.swt.widgets.Shell.callWindowProc(Shell.java:433)
	at org.eclipse.swt.widgets.Control.windowProc(Control.java:3310)
	at org.eclipse.swt.widgets.Decorations.windowProc(Decorations.java:1538)
	at org.eclipse.swt.widgets.Display.windowProc(Display.java:3919)
	at org.eclipse.swt.internal.win32.OS.DefWindowProcW(Native Method)
	at org.eclipse.swt.internal.win32.OS.DefWindowProc(OS.java:1700)
	at org.eclipse.swt.widgets.Shell.callWindowProc(Shell.java:433)
	at org.eclipse.swt.widgets.Control.windowProc(Control.java:3310)
	at org.eclipse.swt.widgets.Decorations.windowProc(Decorations.java:1538)
	at org.eclipse.swt.widgets.Display.windowProc(Display.java:3919)
	at org.eclipse.swt.internal.win32.OS.DispatchMessageW(Native Method)
	at org.eclipse.swt.internal.win32.OS.DispatchMessage(OS.java:1705)
	at org.eclipse.swt.widgets.Display.readAndDispatch(Display.java:2859)
	at org.eclipse.ui.internal.Workbench.runEventLoop(Workbench.java:1763)
	at org.eclipse.ui.internal.Workbench.runUI(Workbench.java:1727)
	at org.eclipse.ui.internal.Workbench.createAndRunWorkbench(Workbench.java:396)
	at org.eclipse.ui.PlatformUI.createAndRunWorkbench(PlatformUI.java:143)
	at org.eclipse.ui.internal.ide.IDEApplication.run(IDEApplication.java:106)
	at org.eclipse.core.internal.runtime.PlatformActivator$1.run(PlatformActivator.java:109)
	at org.eclipse.core.runtime.internal.adaptor.EclipseAppLauncher.runApplication(EclipseAppLauncher.java:92)
	at org.eclipse.core.runtime.internal.adaptor.EclipseAppLauncher.start(EclipseAppLauncher.java:68)
	at org.eclipse.core.runtime.adaptor.EclipseStarter.run(EclipseStarter.java:379)
	at org.eclipse.core.runtime.adaptor.EclipseStarter.run(EclipseStarter.java:177)
	at sun.reflect.NativeMethodAccessorImpl.invoke0(Native Method)
	at sun.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:39)
	at sun.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:25)
	at java.lang.reflect.Method.invoke(Method.java:324)
	at org.eclipse.core.launcher.Main.invokeFramework(Main.java:338)
	at org.eclipse.core.launcher.Main.basicRun(Main.java:282)
	at org.eclipse.core.launcher.Main.run(Main.java:977)
	at org.eclipse.core.launcher.Main.main(Main.java:952)
This should probably be fixed this week.
I got the same exceptions after my Laptop resumed from Stand By mode and I resized the workbench window but I can't tell for sure whether it was in the same workbench where I changed the memory monitor preference.

I can repro this...faaar to easily..;-( I'm looking for a 'clean' fix (most likely adding a disposeListener to all trim and cleaning up if the control is disposed...).


Fixed in &gt;20051212.


Marking as fixed (for M4) so we can verify it tomorrow...

Verified in I20051213-0010.

This no longer trashes the shell but we still have to change the code to correctly remove the HeapStatus from the trim in both places where it's 'disposed'.</WithStack>
    <WithOutStack>I20051212-0800

1. start fresh workspace
2. disable memory monitor via preference
3. resized the workbench (via right bottom)

==&gt; errors and workbench is toasted

java version "1.4.2_08"
Java(TM) 2 Runtime Environment, Standard Edition (build 1.4.2_08-b03)
Java HotSpot(TM) Client VM (build 1.4.2_08-b03, mixed mode)
!SESSION 2005-12-12 18:27:07.103 -----------------------------------------------
eclipse.buildId=unknown
java.version=1.4.2_08
java.vendor=Sun Microsystems Inc.
BootLoader constants: OS=win32, ARCH=x86, WS=win32, NL=en_US
Framework arguments:  -product org.eclipse.sdk.ide -pdelaunch -showlocation
Command-line arguments:  -product org.eclipse.sdk.ide -data c:\eclipse\workspaces\Development_3_2\eoe -dev file:c:/eclipse/workspaces/Development_3_2/plugins/.metadata/.plugins/org.eclipse.pde.core/eoe (Sun)/dev.properties -pdelaunch -showlocation -consolelog -clean -os win32 -ws win32 -arch x86

!ENTRY org.eclipse.ui 4 4 2005-12-12 18:27:33.667
!MESSAGE Unhandled event loop exception

!ENTRY org.eclipse.ui 4 0 2005-12-12 18:27:33.677
!MESSAGE Widget is disposed
!STACK 0

This should probably be fixed this week.
I got the same exceptions after my Laptop resumed from Stand By mode and I resized the workbench window but I can't tell for sure whether it was in the same workbench where I changed the memory monitor preference.

I can repro this...faaar to easily..;-( I'm looking for a 'clean' fix (most likely adding a disposeListener to all trim and cleaning up if the control is disposed...).


Fixed in &gt;20051212.


Marking as fixed (for M4) so we can verify it tomorrow...

Verified in I20051213-0010.

This no longer trashes the shell but we still have to change the code to correctly remove the HeapStatus from the trim in both places where it's 'disposed'.</WithOutStack>
  </Bug>
  <Bug>
    <BugId amount="120410" />
    <CreationDate amount="2005-12-12 12:34:00 -0500" />
    <DupId amount="" />
    <classification amount="Eclipse" />
    <Product amount="JDT" />
    <component amount="Core" />
    <Version amount="3.2" />
    <rep_platform amount="PC" />
    <op_sys amount="Windows 2000" />
    <priority amount="P3" />
    <bug_severity amount="normal" />
    <Summery>Wasted space on problems due to large underlying char[]</Summery>
    <Patches amount="0" />
    <Stacktraces amount="0" />
    <SourceCodeRegions amount="1">
      <source_code type="assignment">
        <location start="574" end="655" />
        <code>if (output == null) output = new StringBuffer(length+problemArguments.length*20);</code>
      </source_code>
    </SourceCodeRegions>
    <Enumerations amount="0" />
    <bug_status amount="VERIFIED" />
    <resolution amount="FIXED" />
    <WithStack>Build: I20051206

I was doing some debugging with markers, and happened to notice that on Java problem markers, the "message" attribute is often backed by a char[] that is much larger than the message.  In one random source file, there was a problem message with 49 characters backed by a char[] of size 109, and another with 34 characters in a char[] of size 56.  This extra overhead would quickly add up in a workspace with 6000 markers (not unusual for a large workspace with many warnings).

I noticed this line in DefaultProblemFactory that may be partly responsible:

if (output == null) output = new StringBuffer(length+problemArguments.length*20);

A problem marker with several short arguments will add lots of extra padding to the char[] using this algorithm.  Calling new String(buffer.toString()) should be enough to ensure the char[] is of optimal size, but of course that adds some time cost. If speed is a concern, it could do a first pass to determine the exact message size, and then create a char[] or StringBuffer of correct size.
Good find. Olivier, pls investigate.
I hope performance isn't an issue here.
I will call new String(output.toString()) for now. I will monitor the performance test results to see if this has an impact.
Since this happens only when we report errors I doubt that this would have a bug performance impact.
Fixed and released in HEAD.
Well, we create more problems than we report in the end (based on actual severity). So in presence of optional diagnostics, it could be an issue.
Verified for 3.2 M5 using build I20060215-0010.
The new code will save space, as requested by this bug.
Olivier/Philippe pls open separate bug if you want to track possible time penalty further.</WithStack>
    <WithOutStack>Build: I20051206

I was doing some debugging with markers, and happened to notice that on Java problem markers, the "message" attribute is often backed by a char[] that is much larger than the message.  In one random source file, there was a problem message with 49 characters backed by a char[] of size 109, and another with 34 characters in a char[] of size 56.  This extra overhead would quickly add up in a workspace with 6000 markers (not unusual for a large workspace with many warnings).

I noticed this line in DefaultProblemFactory that may be partly responsible:

if (output == null) output = new StringBuffer(length+problemArguments.length*20);

A problem marker with several short arguments will add lots of extra padding to the char[] using this algorithm.  Calling new String(buffer.toString()) should be enough to ensure the char[] is of optimal size, but of course that adds some time cost. If speed is a concern, it could do a first pass to determine the exact message size, and then create a char[] or StringBuffer of correct size.
Good find. Olivier, pls investigate.
I hope performance isn't an issue here.
I will call new String(output.toString()) for now. I will monitor the performance test results to see if this has an impact.
Since this happens only when we report errors I doubt that this would have a bug performance impact.
Fixed and released in HEAD.
Well, we create more problems than we report in the end (based on actual severity). So in presence of optional diagnostics, it could be an issue.
Verified for 3.2 M5 using build I20060215-0010.
The new code will save space, as requested by this bug.
Olivier/Philippe pls open separate bug if you want to track possible time penalty further.</WithOutStack>
  </Bug>
  <Bug>
    <BugId amount="120411" />
    <CreationDate amount="2005-12-12 12:41:00 -0500" />
    <DupId amount="" />
    <classification amount="Tools" />
    <Product amount="GEF" />
    <component amount="GEF (MVC) [GEF 3.x / Zest 1.x]" />
    <Version amount="3.1" />
    <rep_platform amount="PC" />
    <op_sys amount="Windows XP" />
    <priority amount="P3" />
    <bug_severity amount="normal" />
    <Summery>SnapToGeometry.THRESHOLD should be retrieved via accessor method</Summery>
    <Patches amount="0" />
    <Stacktraces amount="0" />
    <SourceCodeRegions amount="0" />
    <Enumerations amount="0" />
    <bug_status amount="RESOLVED" />
    <resolution amount="FIXED" />
    <WithStack>Rather than use the static member THRESHOLD in SnapToGeometry, an overridable accessor 'protected double getThreshold()' should be used instead.  This will allow subclasses to easily change the threhold used without overriding every single method that requires knowledge of the threshold.

Would it be possible to get this in for 3.2?
Could you submit a patch against the latest code in HEAD?
Sure; I'll get that done later this week.
Created attachment 31761
add protected double getThreshold ()

added &amp; hooked up getThreshold() method
Hey guys; any word on when we'll be able to use this?  

An alternative to this patch would be to make THRESHOLD non-final; the issue is that we need to set a custom threshold.
This has become an issue, as we need to set a custom threshold.  The main place where we need to use this has a zoom UI multiplier of 15 set, making the THRESHOLD of 5 very useless - we would need to change the THRESHOLD to 75 to get the same effect.

Currently, we have a copy-paste of SnapToGeometry with the patch implemented on it, however, I've been advised that we can't actually use that version for shipping our product.

Is there anything blocking this patch from being accepted?
I wonder why the threshold is not determined in absolute coordinates rather than relative?

Do you not also want a setThreshold method so you wouldn't have to subclass?
Created attachment 56006
added getThreshold / setThreshold

created patch with getThreshold/setThreshold based on current HEAD version.

In response to comment #6 - the threshold being in relative coordinates seems alright to me - I would like it to scale as I zoom.  The main issue is that it doesn't account for different UI multipliers (or those who want to change the threshold from the default to be some other customized number)
Committed to HEAD.

Note that I made both methods protected as requested (and not what was in the patch).</WithStack>
    <WithOutStack>Rather than use the static member THRESHOLD in SnapToGeometry, an overridable accessor 'protected double getThreshold()' should be used instead.  This will allow subclasses to easily change the threhold used without overriding every single method that requires knowledge of the threshold.

Would it be possible to get this in for 3.2?
Could you submit a patch against the latest code in HEAD?
Sure; I'll get that done later this week.
Created attachment 31761
add protected double getThreshold ()

added &amp; hooked up getThreshold() method
Hey guys; any word on when we'll be able to use this?  

An alternative to this patch would be to make THRESHOLD non-final; the issue is that we need to set a custom threshold.
This has become an issue, as we need to set a custom threshold.  The main place where we need to use this has a zoom UI multiplier of 15 set, making the THRESHOLD of 5 very useless - we would need to change the THRESHOLD to 75 to get the same effect.

Currently, we have a copy-paste of SnapToGeometry with the patch implemented on it, however, I've been advised that we can't actually use that version for shipping our product.

Is there anything blocking this patch from being accepted?
I wonder why the threshold is not determined in absolute coordinates rather than relative?

Do you not also want a setThreshold method so you wouldn't have to subclass?
Created attachment 56006
added getThreshold / setThreshold

created patch with getThreshold/setThreshold based on current HEAD version.

In response to comment #6 - the threshold being in relative coordinates seems alright to me - I would like it to scale as I zoom.  The main issue is that it doesn't account for different UI multipliers (or those who want to change the threshold from the default to be some other customized number)
Committed to HEAD.

Note that I made both methods protected as requested (and not what was in the patch).</WithOutStack>
  </Bug>
  <Bug>
    <BugId amount="120412" />
    <CreationDate amount="2005-12-12 12:47:00 -0500" />
    <DupId amount="" />
    <classification amount="Eclipse" />
    <Product amount="PDE" />
    <component amount="Build" />
    <Version amount="3.1.1" />
    <rep_platform amount="PC" />
    <op_sys amount="Windows XP" />
    <priority amount="P3" />
    <bug_severity amount="major" />
    <Summery>Ant generated scripts do not work</Summery>
    <Patches amount="0" />
    <Stacktraces amount="0" />
    <SourceCodeRegions amount="0" />
    <Enumerations amount="1">
      <Enumeration lines="5">
        <Lines>
          <Line>1) files in the root of the plugin are not copied to the output dir, even if "source.. = ./"</Line>
          <Line>2) files in subdirectories are copied.  "source.. = src/"</Line>
          <Line>3) running build from IDE sends output to the "bin" subdir</Line>
          <Line>4) generating the build.xml and running Ant from inside IDE (right click on build.xml, select run as-&gt;ant build) also generates output, but to "@dot" directory</Line>
          <Line>5) running ant in shell with working dir set to the plugin root yields same results as #4</Line>
        </Lines>
      </Enumeration>
    </Enumerations>
    <bug_status amount="RESOLVED" />
    <resolution amount="INVALID" />
    <WithStack>I have a plugin that acts as a library of Jar files (they're 3rd party jars).  The IDE 'build project' (menu option) will copy them from the source location to the destination.  This works fine without any warnings or errors and copies the files from the "./src" directory to the "./bin" directory.  

After generating the Ant 'build.xml' script (selecting from pop up on manifest file), the script can be run with 'java -jar c:\progra~1\eclipse3.1.1\eclipse\startup.jar -application org.eclipse.ant.core.antRunner -Dbuilder=d:\views\bakerm_rcp_view\java\rac\com.teamcenter.rac.external".  This will complete and indicate success.  However, the "./bin" output directory is empty!

Inspection of the script shows all of the library ".jar" files listed.

Without this functionality, we can not automate our RCP product builds which is mandatory for our project (hence 'major' severity).
I suspect that your build.properties contains wrong values, since the eclipse SDK includes pre-built plug-ins.
Please attach a reproduceable test case, this will help us to resolve the problem quicker.
Created attachment 31593
zipped plugin showing part of problem

The problem is shown here has a plugin with one source java file and two zip files (non source files we want in the output).  The java and one zip file is in the source directory, the other zip file is in the root of the plugin.
Here's what we found: anything in the plugin root is NOT copied to the output and no error is generated.  Also, all output goes to "@dot" and not the "bin" directory that's specified.
set up a simple example (attached as "zipped plugin showing part of problem")
Tweaking the example, found:
1) files in the root of the plugin are not copied to the output dir, even if "source.. = ./"
2) files in subdirectories are copied.  "source.. = src/"
3) running build from IDE sends output to the "bin" subdir
4) generating the build.xml and running Ant from inside IDE (right click on build.xml, select run as-&gt;ant build) also generates output, but to "@dot" directory
5) running ant in shell with working dir set to the plugin root yields same results as #4

Since the IDE can copy files from the plugin root directory to the output, it appears there is a minor defect in the ant script generation.  Being able to do it from the plugin root or a subdir is minor and not a major severity.

The "@dot" output issue is of more concern, but I'm sure I'm doing something wrong (or rather not doing something right).  If this can be clarified we can reduce the Bug severity.  What build.properties property controls this (if it's not the "output..")?  Note that the generated build.xml contains the "@dot", so I doubt it's ant.
I forgot to mention in my last update:
For the issue of not copying files from the plugin root directory, the "source.." property in the build.properties file was set to ".", "./", and "src/"
Michael, it seems to me that you are confusing things.
The goal of the build.xml generated here is not to duplicate what the IDE is already doing, but rather to provide a mechanism to build plug-ins in a completly headless environment without a workspace.
Therefore the behavior you are observing is what is expected.
(In reply to comment #5)
&gt; Michael, it seems to me that you are confusing things.
&gt; The goal of the build.xml generated here is not to duplicate what the IDE is
&gt; already doing, but rather to provide a mechanism to build plug-ins in a
&gt; completly headless environment without a workspace.
&gt; Therefore the behavior you are observing is what is expected.

I didn't see any documentation about the need to use a subdirectory and since no error is generated, this should be documented in the help text.  It can result in a lot of frustration and may inhibit wider acceptance of RCP.

I've seen several postings on the "@dot" issue, but no real solutions.  The only workaround involved editing the Ant build.xml file directly.  If there is something that needs to be set (or set differently), please let me know.  If not, this should be considered a bug.  I'm sure this is a configuration issue, so hopefully I'll be able to post the answer to the newsgroups so others can find it too.</WithStack>
    <WithOutStack>I have a plugin that acts as a library of Jar files (they're 3rd party jars).  The IDE 'build project' (menu option) will copy them from the source location to the destination.  This works fine without any warnings or errors and copies the files from the "./src" directory to the "./bin" directory.  

After generating the Ant 'build.xml' script (selecting from pop up on manifest file), the script can be run with 'java -jar c:\progra~1\eclipse3.1.1\eclipse\startup.jar -application org.eclipse.ant.core.antRunner -Dbuilder=d:\views\bakerm_rcp_view\java\rac\com.teamcenter.rac.external".  This will complete and indicate success.  However, the "./bin" output directory is empty!

Inspection of the script shows all of the library ".jar" files listed.

Without this functionality, we can not automate our RCP product builds which is mandatory for our project (hence 'major' severity).
I suspect that your build.properties contains wrong values, since the eclipse SDK includes pre-built plug-ins.
Please attach a reproduceable test case, this will help us to resolve the problem quicker.
Created attachment 31593
zipped plugin showing part of problem

The problem is shown here has a plugin with one source java file and two zip files (non source files we want in the output).  The java and one zip file is in the source directory, the other zip file is in the root of the plugin.
Here's what we found: anything in the plugin root is NOT copied to the output and no error is generated.  Also, all output goes to "@dot" and not the "bin" directory that's specified.
set up a simple example (attached as "zipped plugin showing part of problem")
Tweaking the example, found:
1) files in the root of the plugin are not copied to the output dir, even if "source.. = ./"
2) files in subdirectories are copied.  "source.. = src/"
3) running build from IDE sends output to the "bin" subdir
4) generating the build.xml and running Ant from inside IDE (right click on build.xml, select run as-&gt;ant build) also generates output, but to "@dot" directory
5) running ant in shell with working dir set to the plugin root yields same results as #4

Since the IDE can copy files from the plugin root directory to the output, it appears there is a minor defect in the ant script generation.  Being able to do it from the plugin root or a subdir is minor and not a major severity.

The "@dot" output issue is of more concern, but I'm sure I'm doing something wrong (or rather not doing something right).  If this can be clarified we can reduce the Bug severity.  What build.properties property controls this (if it's not the "output..")?  Note that the generated build.xml contains the "@dot", so I doubt it's ant.
I forgot to mention in my last update:
For the issue of not copying files from the plugin root directory, the "source.." property in the build.properties file was set to ".", "./", and "src/"
Michael, it seems to me that you are confusing things.
The goal of the build.xml generated here is not to duplicate what the IDE is already doing, but rather to provide a mechanism to build plug-ins in a completly headless environment without a workspace.
Therefore the behavior you are observing is what is expected.
(In reply to comment #5)
&gt; Michael, it seems to me that you are confusing things.
&gt; The goal of the build.xml generated here is not to duplicate what the IDE is
&gt; already doing, but rather to provide a mechanism to build plug-ins in a
&gt; completly headless environment without a workspace.
&gt; Therefore the behavior you are observing is what is expected.

I didn't see any documentation about the need to use a subdirectory and since no error is generated, this should be documented in the help text.  It can result in a lot of frustration and may inhibit wider acceptance of RCP.

I've seen several postings on the "@dot" issue, but no real solutions.  The only workaround involved editing the Ant build.xml file directly.  If there is something that needs to be set (or set differently), please let me know.  If not, this should be considered a bug.  I'm sure this is a configuration issue, so hopefully I'll be able to post the answer to the newsgroups so others can find it too.</WithOutStack>
  </Bug>
  <Bug>
    <BugId amount="120413" />
    <CreationDate amount="2005-12-12 12:52:00 -0500" />
    <DupId amount="" />
    <classification amount="Eclipse" />
    <Product amount="Platform" />
    <component amount="UI" />
    <Version amount="3.1" />
    <rep_platform amount="PC" />
    <op_sys amount="Windows XP" />
    <priority amount="P3" />
    <bug_severity amount="normal" />
    <Summery>[Viewers] Type-ahead filter in New wizard keeps empty categories</Summery>
    <Patches amount="0" />
    <Stacktraces amount="0" />
    <SourceCodeRegions amount="0" />
    <Enumerations amount="0" />
    <bug_status amount="RESOLVED" />
    <resolution amount="WORKSFORME" />
    <WithStack>See attached.  If a category has no children left it should be hidden.
Created attachment 31570
new wizard
D'oh!  I think this is because there is an additional filter on the projects wizard that is not taken into consideration in the PatternFilter for the new wizards.
*** Bug 129748 has been marked as a duplicate of this bug. ***
*** Bug 167558 has been marked as a duplicate of this bug. ***
Must have been fixed since.</WithStack>
    <WithOutStack>See attached.  If a category has no children left it should be hidden.
Created attachment 31570
new wizard
D'oh!  I think this is because there is an additional filter on the projects wizard that is not taken into consideration in the PatternFilter for the new wizards.
*** Bug 129748 has been marked as a duplicate of this bug. ***
*** Bug 167558 has been marked as a duplicate of this bug. ***
Must have been fixed since.</WithOutStack>
  </Bug>
  <Bug>
    <BugId amount="120414" />
    <CreationDate amount="2005-12-12 13:02:00 -0500" />
    <DupId amount="" />
    <classification amount="Eclipse" />
    <Product amount="Platform" />
    <component amount="UI" />
    <Version amount="3.1" />
    <rep_platform amount="PC" />
    <op_sys amount="Windows XP" />
    <priority amount="P3" />
    <bug_severity amount="normal" />
    <Summery>[Viewers] Type-ahead filter in New wizard does not catch Ctrl+x</Summery>
    <Patches amount="0" />
    <Stacktraces amount="0" />
    <SourceCodeRegions amount="0" />
    <Enumerations amount="0" />
    <bug_status amount="VERIFIED" />
    <resolution amount="FIXED" />
    <WithStack>When I cut all the text from the text field the list of wizards in the new wizard is not updated.  Unlike when I backspace to remove all text for example.
I added a modify listener to the filtered text and moved the textChanged() call from the KeyAdapter listener to the modify listener.
Verified in I20060214-0800</WithStack>
    <WithOutStack>When I cut all the text from the text field the list of wizards in the new wizard is not updated.  Unlike when I backspace to remove all text for example.
I added a modify listener to the filtered text and moved the textChanged() call from the KeyAdapter listener to the modify listener.
Verified in I20060214-0800</WithOutStack>
  </Bug>
  <Bug>
    <BugId amount="120415" />
    <CreationDate amount="2005-12-12 13:04:00 -0500" />
    <DupId amount="" />
    <classification amount="WebTools" />
    <Product amount="WTP Source Editing" />
    <component amount="wst.css" />
    <Version amount="1.0" />
    <rep_platform amount="PC" />
    <op_sys amount="Windows XP" />
    <priority amount="P3" />
    <bug_severity amount="normal" />
    <Summery>[content assist] CSS doesn't follow capitalization preferences</Summery>
    <Patches amount="0" />
    <Stacktraces amount="0" />
    <SourceCodeRegions amount="0" />
    <Enumerations amount="0" />
    <bug_status amount="RESOLVED" />
    <resolution amount="WORKSFORME" />
    <WithStack>Testing with RC3.

The CSS editor doesn't follow the capitalization preference in content assist.
It looks like the proposals are always capitalized.

When the CSS is embedded in an HTML, content assist seems to always be lowercase.
reassigning to inbox
This is still an issue and should be addressed.  Whoever looks into this can take a look at the HTML content assist to see how it determines the lowercase/uppercase and do the same thing in CSS though I would wait for Bug 258999 before dealing with this.
Capitalization in CSS proposals is controlled by a boolean variable in classes extending CSSProposalGenerator.java .For example 'fUpperCase' in CSSProposalGeneratorForAtmarkRule.java .I am able to see proposals in lowercase after changing corresponding capitalization preference.It is working fine.</WithStack>
    <WithOutStack>Testing with RC3.

The CSS editor doesn't follow the capitalization preference in content assist.
It looks like the proposals are always capitalized.

When the CSS is embedded in an HTML, content assist seems to always be lowercase.
reassigning to inbox
This is still an issue and should be addressed.  Whoever looks into this can take a look at the HTML content assist to see how it determines the lowercase/uppercase and do the same thing in CSS though I would wait for Bug 258999 before dealing with this.
Capitalization in CSS proposals is controlled by a boolean variable in classes extending CSSProposalGenerator.java .For example 'fUpperCase' in CSSProposalGeneratorForAtmarkRule.java .I am able to see proposals in lowercase after changing corresponding capitalization preference.It is working fine.</WithOutStack>
  </Bug>
  <Bug>
    <BugId amount="120416" />
    <CreationDate amount="2005-12-12 13:06:00 -0500" />
    <DupId amount="" />
    <classification amount="Eclipse" />
    <Product amount="PDE" />
    <component amount="Build" />
    <Version amount="3.1.1" />
    <rep_platform amount="PC" />
    <op_sys amount="Windows XP" />
    <priority amount="P3" />
    <bug_severity amount="major" />
    <Summery>command line PDE build cann't find plugin</Summery>
    <Patches amount="0" />
    <Stacktraces amount="0" />
    <SourceCodeRegions amount="0" />
    <Enumerations amount="0" />
    <bug_status amount="RESOLVED" />
    <resolution amount="WORKSFORME" />
    <WithStack>The command line PDE build fails, indicating the plugin being built can not be found.  The 'baseLocation' not being set has been identified in other posted bugs as the cause of similar symptoms, but mine is set to "c:/progra~1/eclipse3.1.1/".  I've also tried appending the 'eclipse' subdirectory name to the end with no luck.

The command line being used is run from the plugin's top level directory and is:
----------------------------------
java -jar c:\progra~1\eclipse3.1.1\eclipse\startup.jar -application org.eclipse.pde.build.Build
----------------------------------

The build.properties file is:
----------------------------------
bin.includes=file1.jar,\
file2.jar,\
file3.jar

jars.compile.order = .
source.. = ./

skipBase=false
base=c:/progra~1/eclipse3.1.1/
baseLocation=c:/progra~1/eclipse3.1.1/
skipMaps=true
tagMaps=false
skipFetch=true
buildDirectory=d:/views/bakerm_rcp_view/java/rac/com.xyz.rac.external/bin
-------------------------------

The customTargets.xml file is based on the template in org.eclipse.pde.build/templates, with these changes:
-------------------------------
	&lt;target name="allElements"&gt;
		&lt;ant antfile="${genericTargets}" target="${target}"&gt;
		&lt;property name="type" value="plugin" /&gt;
		&lt;property name="id" value="com.xyz.rac.external" /&gt;
		&lt;/ant&gt;
	&lt;/target&gt;

	&lt;target name="assemble.com.xyz.rac.external"&gt;
		&lt;ant antfile="${assembleScriptName}" dir="${buildDirectory}"/&gt;
	&lt;/target&gt;
-------------------------------------------

This is preventing our fully automating the build process for our RCP based product, hence the 'major' severity.  It is our desire to leverage the ability to dynamically perform an ant build outside of the IDE, without having to keep up the build.xml file.
Created attachment 32768
Example on how to setup the build for GEF
In your case the value for base should be:
  base=c:/progra~1/eclipse3.1.1/

and the value for baseLocation should be
  baseLocation=${base}/eclipse

I can't help you more without more details about your example.
I recommend you to start from the template scripts provided with PDE Build.</WithStack>
    <WithOutStack>The command line PDE build fails, indicating the plugin being built can not be found.  The 'baseLocation' not being set has been identified in other posted bugs as the cause of similar symptoms, but mine is set to "c:/progra~1/eclipse3.1.1/".  I've also tried appending the 'eclipse' subdirectory name to the end with no luck.

The command line being used is run from the plugin's top level directory and is:
----------------------------------
java -jar c:\progra~1\eclipse3.1.1\eclipse\startup.jar -application org.eclipse.pde.build.Build
----------------------------------

The build.properties file is:
----------------------------------
bin.includes=file1.jar,\
file2.jar,\
file3.jar

jars.compile.order = .
source.. = ./

skipBase=false
base=c:/progra~1/eclipse3.1.1/
baseLocation=c:/progra~1/eclipse3.1.1/
skipMaps=true
tagMaps=false
skipFetch=true
buildDirectory=d:/views/bakerm_rcp_view/java/rac/com.xyz.rac.external/bin
-------------------------------

The customTargets.xml file is based on the template in org.eclipse.pde.build/templates, with these changes:
-------------------------------
	&lt;target name="allElements"&gt;
		&lt;ant antfile="${genericTargets}" target="${target}"&gt;
		&lt;property name="type" value="plugin" /&gt;
		&lt;property name="id" value="com.xyz.rac.external" /&gt;
		&lt;/ant&gt;
	&lt;/target&gt;

	&lt;target name="assemble.com.xyz.rac.external"&gt;
		&lt;ant antfile="${assembleScriptName}" dir="${buildDirectory}"/&gt;
	&lt;/target&gt;
-------------------------------------------

This is preventing our fully automating the build process for our RCP based product, hence the 'major' severity.  It is our desire to leverage the ability to dynamically perform an ant build outside of the IDE, without having to keep up the build.xml file.
Created attachment 32768
Example on how to setup the build for GEF
In your case the value for base should be:
  base=c:/progra~1/eclipse3.1.1/

and the value for baseLocation should be
  baseLocation=${base}/eclipse

I can't help you more without more details about your example.
I recommend you to start from the template scripts provided with PDE Build.</WithOutStack>
  </Bug>
  <Bug>
    <BugId amount="120417" />
    <CreationDate amount="2005-12-12 13:12:00 -0500" />
    <DupId amount="" />
    <classification amount="Eclipse" />
    <Product amount="JDT" />
    <component amount="APT" />
    <Version amount="3.2" />
    <rep_platform amount="PC" />
    <op_sys amount="Windows XP" />
    <priority amount="P3" />
    <bug_severity amount="normal" />
    <Summery>Factory Path Dialog NPE when disabling project specific settings</Summery>
    <Patches amount="0" />
    <Stacktraces amount="1">
      <Stacktrace timestamp="1437330617637">
        <Exception>java.lang.NullPointerException</Exception>
        <Reason />
        <Frames>
          <Frame depth="0">org.eclipse.jdt.apt.ui.internal.preferences.FactoryPathConfigurationBlock$FactoryPathEntry.pathMapFromList(FactoryPathConfigurationBlock.java:165)</Frame>
          <Frame depth="1">org.eclipse.jdt.apt.ui.internal.preferences.FactoryPathConfigurationBlock.saveSettings(FactoryPathConfigurationBlock.java:659)</Frame>
          <Frame depth="2">org.eclipse.jdt.apt.ui.internal.preferences.BaseConfigurationBlock.processChanges(BaseConfigurationBlock.java:714)</Frame>
          <Frame depth="3">org.eclipse.jdt.apt.ui.internal.preferences.BaseConfigurationBlock.performApply(BaseConfigurationBlock.java:637)</Frame>
          <Frame depth="4">org.eclipse.jdt.apt.ui.internal.preferences.BasePreferencePage.performApply(BasePreferencePage.java:83)</Frame>
          <Frame depth="5">org.eclipse.jface.preference.PreferencePage$2.widgetSelected(PreferencePage.java:280)</Frame>
          <Frame depth="6">org.eclipse.swt.widgets.TypedListener.handleEvent(TypedListener.java:90)</Frame>
          <Frame depth="7">org.eclipse.swt.widgets.EventTable.sendEvent(EventTable.java:66)</Frame>
          <Frame depth="8">org.eclipse.swt.widgets.Widget.sendEvent(Widget.java:843)</Frame>
          <Frame depth="9">org.eclipse.swt.widgets.Display.runDeferredEvents(Display.java:3080)</Frame>
          <Frame depth="10">org.eclipse.swt.widgets.Display.readAndDispatch(Display.java:2713)</Frame>
          <Frame depth="11">org.eclipse.jface.window.Window.runEventLoop(Window.java:809)</Frame>
          <Frame depth="12">org.eclipse.jface.window.Window.open(Window.java:787)</Frame>
          <Frame depth="13">org.eclipse.ui.dialogs.PropertyDialogAction.run(PropertyDialogAction.java:157)</Frame>
          <Frame depth="14">org.eclipse.jface.action.Action.runWithEvent(Action.java:996)</Frame>
          <Frame depth="15">org.eclipse.jface.action.ActionContributionItem.handleWidgetSelection(ActionContributionItem.java:538)</Frame>
          <Frame depth="16">org.eclipse.jface.action.ActionContributionItem.access$2(ActionContributionItem.java:488)</Frame>
          <Frame depth="17">org.eclipse.jface.action.ActionContributionItem$5.handleEvent(ActionContributionItem.java:400)</Frame>
          <Frame depth="18">org.eclipse.swt.widgets.EventTable.sendEvent(EventTable.java:66)</Frame>
          <Frame depth="19">org.eclipse.swt.widgets.Widget.sendEvent(Widget.java:843)</Frame>
          <Frame depth="20">org.eclipse.swt.widgets.Display.runDeferredEvents(Display.java:3080)</Frame>
          <Frame depth="21">org.eclipse.swt.widgets.Display.readAndDispatch(Display.java:2713)</Frame>
          <Frame depth="22">org.eclipse.ui.internal.Workbench.runEventLoop(Workbench.java:1699)</Frame>
          <Frame depth="23">org.eclipse.ui.internal.Workbench.runUI(Workbench.java:1663)</Frame>
          <Frame depth="24">org.eclipse.ui.internal.Workbench.createAndRunWorkbench(Workbench.java:367)</Frame>
          <Frame depth="25">org.eclipse.ui.PlatformUI.createAndRunWorkbench(PlatformUI.java:143)</Frame>
          <Frame depth="26">org.eclipse.ui.internal.ide.IDEApplication.run(IDEApplication.java:103)</Frame>
          <Frame depth="27">org.eclipse.core.internal.runtime.PlatformActivator$1.run(PlatformActivator.java:226)</Frame>
          <Frame depth="28">org.eclipse.core.runtime.adaptor.EclipseStarter.run(EclipseStarter.java:376)</Frame>
          <Frame depth="29">org.eclipse.core.runtime.adaptor.EclipseStarter.run(EclipseStarter.java:163)</Frame>
          <Frame depth="30">sun.reflect.NativeMethodAccessorImpl.invoke0(Native Method)</Frame>
          <Frame depth="31">sun.reflect.NativeMethodAccessorImpl.invoke(Unknown Source)</Frame>
          <Frame depth="32">sun.reflect.DelegatingMethodAccessorImpl.invoke(Unknown Source)</Frame>
          <Frame depth="33">java.lang.reflect.Method.invoke(Unknown Source)</Frame>
          <Frame depth="34">org.eclipse.core.launcher.Main.invokeFramework(Main.java:334)</Frame>
          <Frame depth="35">org.eclipse.core.launcher.Main.basicRun(Main.java:278)</Frame>
          <Frame depth="36">org.eclipse.core.launcher.Main.run(Main.java:973)</Frame>
          <Frame depth="37">org.eclipse.core.launcher.Main.main(Main.java:948)</Frame>
        </Frames>
      </Stacktrace>
    </Stacktraces>
    <SourceCodeRegions amount="3">
      <source_code type="package">
        <location start="425" end="441" />
        <code>package testing;</code>
      </source_code>
      <source_code type="import">
        <location start="442" end="489" />
        <code>import generatedfilepackage.GeneratedFileTest;</code>
      </source_code>
      <source_code type="class">
        <location start="552" end="659" />
        <code>public class Testing {

	@HelloWorldAnnotation
	public void foo() {
		GeneratedFileTest.helloWorld();
	}

}</code>
      </source_code>
    </SourceCodeRegions>
    <Enumerations amount="0" />
    <bug_status amount="RESOLVED" />
    <resolution amount="FIXED" />
    <WithStack>Set up simple java project with '@HelloWorldAnnotation' found in A.jar.

Repro Steps:
--------------
Show error Log window if not already showing. Go to Project Properties --&gt; Annotation Processing --&gt; Factory Path --&gt; Un-check the 'Enable project specific settings' check box. Click apply, then yes on re-build dilaog. (Errors now appear in error log). Click OK. Error dialog appears.


Sample code below
-----------------

package testing;

import generatedfilepackage.GeneratedFileTest;

import org.eclipse.jdt.apt.tests.annotations.helloworld.*; 

public class Testing {

	@HelloWorldAnnotation
	public void foo() {
		GeneratedFileTest.helloWorld();
	}

}


Error
-----
java.lang.NullPointerException
	at org.eclipse.jdt.apt.ui.internal.preferences.FactoryPathConfigurationBlock$FactoryPathEntry.pathMapFromList(FactoryPathConfigurationBlock.java:165)
	at org.eclipse.jdt.apt.ui.internal.preferences.FactoryPathConfigurationBlock.saveSettings(FactoryPathConfigurationBlock.java:659)
	at org.eclipse.jdt.apt.ui.internal.preferences.BaseConfigurationBlock.processChanges(BaseConfigurationBlock.java:714)
	at org.eclipse.jdt.apt.ui.internal.preferences.BaseConfigurationBlock.performApply(BaseConfigurationBlock.java:637)
	at org.eclipse.jdt.apt.ui.internal.preferences.BasePreferencePage.performApply(BasePreferencePage.java:83)
	at org.eclipse.jface.preference.PreferencePage$2.widgetSelected(PreferencePage.java:280)
	at org.eclipse.swt.widgets.TypedListener.handleEvent(TypedListener.java:90)
	at org.eclipse.swt.widgets.EventTable.sendEvent(EventTable.java:66)
	at org.eclipse.swt.widgets.Widget.sendEvent(Widget.java:843)
	at org.eclipse.swt.widgets.Display.runDeferredEvents(Display.java:3080)
	at org.eclipse.swt.widgets.Display.readAndDispatch(Display.java:2713)
	at org.eclipse.jface.window.Window.runEventLoop(Window.java:809)
	at org.eclipse.jface.window.Window.open(Window.java:787)
	at org.eclipse.ui.dialogs.PropertyDialogAction.run(PropertyDialogAction.java:157)
	at org.eclipse.jface.action.Action.runWithEvent(Action.java:996)
	at org.eclipse.jface.action.ActionContributionItem.handleWidgetSelection(ActionContributionItem.java:538)
	at org.eclipse.jface.action.ActionContributionItem.access$2(ActionContributionItem.java:488)
	at org.eclipse.jface.action.ActionContributionItem$5.handleEvent(ActionContributionItem.java:400)
	at org.eclipse.swt.widgets.EventTable.sendEvent(EventTable.java:66)
	at org.eclipse.swt.widgets.Widget.sendEvent(Widget.java:843)
	at org.eclipse.swt.widgets.Display.runDeferredEvents(Display.java:3080)
	at org.eclipse.swt.widgets.Display.readAndDispatch(Display.java:2713)
	at org.eclipse.ui.internal.Workbench.runEventLoop(Workbench.java:1699)
	at org.eclipse.ui.internal.Workbench.runUI(Workbench.java:1663)
	at org.eclipse.ui.internal.Workbench.createAndRunWorkbench(Workbench.java:367)
	at org.eclipse.ui.PlatformUI.createAndRunWorkbench(PlatformUI.java:143)
	at org.eclipse.ui.internal.ide.IDEApplication.run(IDEApplication.java:103)
	at org.eclipse.core.internal.runtime.PlatformActivator$1.run(PlatformActivator.java:226)
	at org.eclipse.core.runtime.adaptor.EclipseStarter.run(EclipseStarter.java:376)
	at org.eclipse.core.runtime.adaptor.EclipseStarter.run(EclipseStarter.java:163)
	at sun.reflect.NativeMethodAccessorImpl.invoke0(Native Method)
	at sun.reflect.NativeMethodAccessorImpl.invoke(Unknown Source)
	at sun.reflect.DelegatingMethodAccessorImpl.invoke(Unknown Source)
	at java.lang.reflect.Method.invoke(Unknown Source)
	at org.eclipse.core.launcher.Main.invokeFramework(Main.java:334)
	at org.eclipse.core.launcher.Main.basicRun(Main.java:278)
	at org.eclipse.core.launcher.Main.run(Main.java:973)
	at org.eclipse.core.launcher.Main.main(Main.java:948)
Created attachment 31572
The '@HelloWorldAnnotation' for repro steps

This is a simple Annotation processor factory, the Annotation is @HelloWorldAnnotation generates generatedfilepackage.GeneratedFileTest class.
Contains one simple public static helloWorld method.
Fixed.  (Note to verifier: the org.eclipse.jdt.apt.tests plugin also contains this annotation, so to avoid possible confusion, make sure that plugin is not on the factory path.)</WithStack>
    <WithOutStack>Set up simple java project with '@HelloWorldAnnotation' found in A.jar.

Repro Steps:
--------------
Show error Log window if not already showing. Go to Project Properties --&gt; Annotation Processing --&gt; Factory Path --&gt; Un-check the 'Enable project specific settings' check box. Click apply, then yes on re-build dilaog. (Errors now appear in error log). Click OK. Error dialog appears.


Sample code below
-----------------

package testing;

import generatedfilepackage.GeneratedFileTest;

import org.eclipse.jdt.apt.tests.annotations.helloworld.*; 

public class Testing {

	@HelloWorldAnnotation
	public void foo() {
		GeneratedFileTest.helloWorld();
	}

}


Error
-----

Created attachment 31572
The '@HelloWorldAnnotation' for repro steps

This is a simple Annotation processor factory, the Annotation is @HelloWorldAnnotation generates generatedfilepackage.GeneratedFileTest class.
Contains one simple public static helloWorld method.
Fixed.  (Note to verifier: the org.eclipse.jdt.apt.tests plugin also contains this annotation, so to avoid possible confusion, make sure that plugin is not on the factory path.)</WithOutStack>
  </Bug>
  <Bug>
    <BugId amount="120418" />
    <CreationDate amount="2005-12-12 13:19:00 -0500" />
    <DupId amount="" />
    <classification amount="WebTools" />
    <Product amount="WTP Java EE Tools" />
    <component amount="jst.j2ee" />
    <Version amount="0.7" />
    <rep_platform amount="PC" />
    <op_sys amount="Windows XP" />
    <priority amount="P3" />
    <bug_severity amount="normal" />
    <Summery>Finish button is disabled on Add Library (J2EE)  wizard - requires a workaround (Back &amp; Next)</Summery>
    <Patches amount="0" />
    <Stacktraces amount="0" />
    <SourceCodeRegions amount="0" />
    <Enumerations amount="1">
      <Enumeration lines="7">
        <Lines>
          <Line>1. Launch File &gt; New &gt; Project &gt; Java &gt; Java Project - Click Next</Line>
          <Line />
          <Line>2. Type in a name - Click Next</Line>
          <Line />
          <Line>3. Switch to Libraries Tab - Click "Add Library" - retain the default "J2EE Library" - Click Next</Line>
          <Line />
          <Line>4. Browse and select a J2EE jar file</Line>
        </Lines>
      </Enumeration>
    </Enumerations>
    <bug_status amount="CLOSED" />
    <resolution amount="WONTFIX" />
    <WithStack>Checked in both Eclipse 3.1 &amp; 3.1.1 (SDK)
java.version=1.5.0_05
Win XP

1. Launch File &gt; New &gt; Project &gt; Java &gt; Java Project - Click Next

2. Type in a name - Click Next

3. Switch to Libraries Tab - Click "Add Library" - retain the default "J2EE Library" - Click Next

4. Browse and select a J2EE jar file 

The "Finish" button is not enabled, Click Back (&amp; Next) it gets activated
Java Project is not owned by WTP, it is from the Eclipse platform, please assign it to the appropriate component.
I shall open a new bug for Eclipse platform
closing</WithStack>
    <WithOutStack>Checked in both Eclipse 3.1 &amp; 3.1.1 (SDK)
java.version=1.5.0_05
Win XP

1. Launch File &gt; New &gt; Project &gt; Java &gt; Java Project - Click Next

2. Type in a name - Click Next

3. Switch to Libraries Tab - Click "Add Library" - retain the default "J2EE Library" - Click Next

4. Browse and select a J2EE jar file 

The "Finish" button is not enabled, Click Back (&amp; Next) it gets activated
Java Project is not owned by WTP, it is from the Eclipse platform, please assign it to the appropriate component.
I shall open a new bug for Eclipse platform
closing</WithOutStack>
  </Bug>
  <Bug>
    <BugId amount="120419" />
    <CreationDate amount="2005-12-12 13:29:00 -0500" />
    <DupId amount="" />
    <classification amount="Eclipse" />
    <Product amount="JDT" />
    <component amount="Core" />
    <Version amount="3.1.1" />
    <rep_platform amount="PC" />
    <op_sys amount="Windows XP" />
    <priority amount="P3" />
    <bug_severity amount="normal" />
    <Summery>Code Assist has very slow response with Default Package</Summery>
    <Patches amount="0" />
    <Stacktraces amount="0" />
    <SourceCodeRegions amount="0" />
    <Enumerations amount="22">
      <Enumeration lines="5">
        <Lines>
          <Line>- waiting on &lt;0x1158af68&gt; (a org.eclipse.core.internal.jobs.WorkerPool)</Line>
          <Line>at org.eclipse.core.internal.jobs.WorkerPool.sleep(WorkerPool.java:173)</Line>
          <Line>- locked &lt;0x1158af68&gt; (a org.eclipse.core.internal.jobs.WorkerPool)</Line>
          <Line>at org.eclipse.core.internal.jobs.WorkerPool.startJob(WorkerPool.java:205)</Line>
          <Line>at org.eclipse.core.internal.jobs.Worker.run(Worker.java:69)</Line>
        </Lines>
      </Enumeration>
      <Enumeration lines="5">
        <Lines>
          <Line>- waiting on &lt;0x1158af68&gt; (a org.eclipse.core.internal.jobs.WorkerPool)</Line>
          <Line>at org.eclipse.core.internal.jobs.WorkerPool.sleep(WorkerPool.java:173)</Line>
          <Line>- locked &lt;0x1158af68&gt; (a org.eclipse.core.internal.jobs.WorkerPool)</Line>
          <Line>at org.eclipse.core.internal.jobs.WorkerPool.startJob(WorkerPool.java:205)</Line>
          <Line>at org.eclipse.core.internal.jobs.Worker.run(Worker.java:69)</Line>
        </Lines>
      </Enumeration>
      <Enumeration lines="5">
        <Lines>
          <Line>- waiting on &lt;0x1158af68&gt; (a org.eclipse.core.internal.jobs.WorkerPool)</Line>
          <Line>at org.eclipse.core.internal.jobs.WorkerPool.sleep(WorkerPool.java:173)</Line>
          <Line>- locked &lt;0x1158af68&gt; (a org.eclipse.core.internal.jobs.WorkerPool)</Line>
          <Line>at org.eclipse.core.internal.jobs.WorkerPool.startJob(WorkerPool.java:205)</Line>
          <Line>at org.eclipse.core.internal.jobs.Worker.run(Worker.java:69)</Line>
        </Lines>
      </Enumeration>
      <Enumeration lines="5">
        <Lines>
          <Line>- waiting on &lt;0x1158af68&gt; (a org.eclipse.core.internal.jobs.WorkerPool)</Line>
          <Line>at org.eclipse.core.internal.jobs.WorkerPool.sleep(WorkerPool.java:173)</Line>
          <Line>- locked &lt;0x1158af68&gt; (a org.eclipse.core.internal.jobs.WorkerPool)</Line>
          <Line>at org.eclipse.core.internal.jobs.WorkerPool.startJob(WorkerPool.java:205)</Line>
          <Line>at org.eclipse.core.internal.jobs.Worker.run(Worker.java:69)</Line>
        </Lines>
      </Enumeration>
      <Enumeration lines="5">
        <Lines>
          <Line>- waiting on &lt;0x1158af68&gt; (a org.eclipse.core.internal.jobs.WorkerPool)</Line>
          <Line>at org.eclipse.core.internal.jobs.WorkerPool.sleep(WorkerPool.java:173)</Line>
          <Line>- locked &lt;0x1158af68&gt; (a org.eclipse.core.internal.jobs.WorkerPool)</Line>
          <Line>at org.eclipse.core.internal.jobs.WorkerPool.startJob(WorkerPool.java:205)</Line>
          <Line>at org.eclipse.core.internal.jobs.Worker.run(Worker.java:69)</Line>
        </Lines>
      </Enumeration>
      <Enumeration lines="3">
        <Lines>
          <Line>- waiting on &lt;0x11b1f710&gt; (a org.eclipse.jface.text.reconciler.DirtyRegionQueue)</Line>
          <Line>at org.eclipse.jface.text.reconciler.AbstractReconciler$BackgroundThread.run(AbstractReconciler.java:176)</Line>
          <Line>- locked &lt;0x11b1f710&gt; (a org.eclipse.jface.text.reconciler.DirtyRegionQueue)</Line>
        </Lines>
      </Enumeration>
      <Enumeration lines="5">
        <Lines>
          <Line>- waiting on &lt;0x119cbf38&gt; (a org.eclipse.jdt.internal.core.search.indexing.IndexManager)</Line>
          <Line>at java.lang.Object.wait(Unknown Source)</Line>
          <Line>at org.eclipse.jdt.internal.core.search.processing.JobManager.run(JobManager.java:349)</Line>
          <Line>- locked &lt;0x119cbf38&gt; (a org.eclipse.jdt.internal.core.search.indexing.IndexManager)</Line>
          <Line>at java.lang.Thread.run(Unknown Source)</Line>
        </Lines>
      </Enumeration>
      <Enumeration lines="5">
        <Lines>
          <Line>- waiting on &lt;0x1158af68&gt; (a org.eclipse.core.internal.jobs.WorkerPool)</Line>
          <Line>at org.eclipse.core.internal.jobs.WorkerPool.sleep(WorkerPool.java:173)</Line>
          <Line>- locked &lt;0x1158af68&gt; (a org.eclipse.core.internal.jobs.WorkerPool)</Line>
          <Line>at org.eclipse.core.internal.jobs.WorkerPool.startJob(WorkerPool.java:205)</Line>
          <Line>at org.eclipse.core.internal.jobs.Worker.run(Worker.java:69)</Line>
        </Lines>
      </Enumeration>
      <Enumeration lines="5">
        <Lines>
          <Line>- waiting on &lt;0x113e71f8&gt; (a org.eclipse.osgi.framework.eventmgr.EventManager$EventThread)</Line>
          <Line>at java.lang.Object.wait(Unknown Source)</Line>
          <Line>at org.eclipse.osgi.framework.eventmgr.EventManager$EventThread.getNextEvent(EventManager.java:349)</Line>
          <Line>- locked &lt;0x113e71f8&gt; (a org.eclipse.osgi.framework.eventmgr.EventManager$EventThread)</Line>
          <Line>at org.eclipse.osgi.framework.eventmgr.EventManager$EventThread.run(EventManager.java:287)</Line>
        </Lines>
      </Enumeration>
      <Enumeration lines="5">
        <Lines>
          <Line>- waiting on &lt;0x113e7248&gt; (a org.eclipse.osgi.framework.eventmgr.EventManager$EventThread)</Line>
          <Line>at java.lang.Object.wait(Unknown Source)</Line>
          <Line>at org.eclipse.osgi.framework.eventmgr.EventManager$EventThread.getNextEvent(EventManager.java:349)</Line>
          <Line>- locked &lt;0x113e7248&gt; (a org.eclipse.osgi.framework.eventmgr.EventManager$EventThread)</Line>
          <Line>at org.eclipse.osgi.framework.eventmgr.EventManager$EventThread.run(EventManager.java:287)</Line>
        </Lines>
      </Enumeration>
      <Enumeration lines="5">
        <Lines>
          <Line>- waiting on &lt;0x113c02b0&gt; (a java.lang.ref.ReferenceQueue$Lock)</Line>
          <Line>at java.lang.ref.ReferenceQueue.remove(Unknown Source)</Line>
          <Line>- locked &lt;0x113c02b0&gt; (a java.lang.ref.ReferenceQueue$Lock)</Line>
          <Line>at java.lang.ref.ReferenceQueue.remove(Unknown Source)</Line>
          <Line>at java.lang.ref.Finalizer$FinalizerThread.run(Unknown Source)</Line>
        </Lines>
      </Enumeration>
      <Enumeration lines="4">
        <Lines>
          <Line>- waiting on &lt;0x113c00c8&gt; (a java.lang.ref.Reference$Lock)</Line>
          <Line>at java.lang.Object.wait(Unknown Source)</Line>
          <Line>at java.lang.ref.Reference$ReferenceHandler.run(Unknown Source)</Line>
          <Line>- locked &lt;0x113c00c8&gt; (a java.lang.ref.Reference$Lock)</Line>
        </Lines>
      </Enumeration>
      <Enumeration lines="9">
        <Lines>
          <Line>- waiting on &lt;0x122dc890&gt; (a org.eclipse.swt.widgets.RunnableLock)</Line>
          <Line>at java.lang.Object.wait(Unknown Source)</Line>
          <Line>at org.eclipse.swt.widgets.Synchronizer.syncExec(Synchronizer.java:169)</Line>
          <Line>- locked &lt;0x122dc890&gt; (a org.eclipse.swt.widgets.RunnableLock)</Line>
          <Line>at org.eclipse.ui.internal.UISynchronizer.syncExec(UISynchronizer.java:28)</Line>
          <Line>at org.eclipse.swt.widgets.Display.syncExec(Display.java:3413)</Line>
          <Line>at org.eclipse.jface.text.contentassist.ContentAssistant$AutoAssistListener.showAssist(ContentAssistant.java:324)</Line>
          <Line>at org.eclipse.jface.text.contentassist.ContentAssistant$AutoAssistListener.run(ContentAssistant.java:246)</Line>
          <Line>at java.lang.Thread.run(Unknown Source)</Line>
        </Lines>
      </Enumeration>
      <Enumeration lines="50">
        <Lines>
          <Line>- waiting to lock &lt;0x118c9bc0&gt; (a org.eclipse.jdt.internal.core.JavaModelManager)</Line>
          <Line>at org.eclipse.jdt.internal.core.JarPackageFragmentRoot.initPackageFragToTypes(JarPackageFragmentRoot.java:249)</Line>
          <Line>at org.eclipse.jdt.internal.core.JarPackageFragmentRoot.computeChildren(JarPackageFragmentRoot.java:91)</Line>
          <Line>at org.eclipse.jdt.internal.core.PackageFragmentRoot.buildStructure(PackageFragmentRoot.java:174)</Line>
          <Line>at org.eclipse.jdt.internal.core.Openable.generateInfos(Openable.java:233)</Line>
          <Line>at org.eclipse.jdt.internal.core.JarPackageFragment.generateInfos(JarPackageFragment.java:113)</Line>
          <Line>at org.eclipse.jdt.internal.core.JavaElement.openWhenClosed(JavaElement.java:488)</Line>
          <Line>at org.eclipse.jdt.internal.core.JavaElement.getElementInfo(JavaElement.java:232)</Line>
          <Line>at org.eclipse.jdt.internal.core.JavaElement.getElementInfo(JavaElement.java:218)</Line>
          <Line>at org.eclipse.jdt.internal.core.JavaElement.getChildren(JavaElement.java:173)</Line>
          <Line>at org.eclipse.jdt.internal.core.JavaElement.getChildrenOfType(JavaElement.java:187)</Line>
          <Line>at org.eclipse.jdt.internal.core.JarPackageFragment.getClassFiles(JarPackageFragment.java:120)</Line>
          <Line>at org.eclipse.jdt.internal.core.NameLookup.seekTypesInBinaryPackage(NameLookup.java:793)</Line>
          <Line>at org.eclipse.jdt.internal.core.NameLookup.seekTypes(NameLookup.java:769)</Line>
          <Line>at org.eclipse.jdt.internal.core.NameLookup.findType(NameLookup.java:542)</Line>
          <Line>at org.eclipse.jdt.internal.core.NameLookup.findType(NameLookup.java:501)</Line>
          <Line>at org.eclipse.jdt.internal.core.SearchableEnvironment.find(SearchableEnvironment.java:85)</Line>
          <Line>at org.eclipse.jdt.internal.core.SearchableEnvironment.findType(SearchableEnvironment.java:188)</Line>
          <Line>at org.eclipse.jdt.internal.core.CancelableNameEnvironment.findType(CancelableNameEnvironment.java:45)</Line>
          <Line>at org.eclipse.jdt.internal.compiler.lookup.LookupEnvironment.askForType(LookupEnvironment.java:119)</Line>
          <Line>at org.eclipse.jdt.internal.compiler.lookup.PackageBinding.getTypeOrPackage(PackageBinding.java:178)</Line>
          <Line>at org.eclipse.jdt.internal.compiler.lookup.Scope.getTypeOrPackage(Scope.java:2438)</Line>
          <Line>at org.eclipse.jdt.internal.compiler.lookup.Scope.getType(Scope.java:2177)</Line>
          <Line>at org.eclipse.jdt.internal.compiler.ast.SingleTypeReference.getTypeBinding(SingleTypeReference.java:39)</Line>
          <Line>at org.eclipse.jdt.internal.compiler.ast.TypeReference.resolveType(TypeReference.java:124)</Line>
          <Line>at org.eclipse.jdt.internal.compiler.ast.Argument.resolveForCatch(Argument.java:101)</Line>
          <Line>at org.eclipse.jdt.internal.compiler.ast.TryStatement.resolve(TryStatement.java:517)</Line>
          <Line>at org.eclipse.jdt.internal.compiler.ast.Block.resolve(Block.java:101)</Line>
          <Line>at org.eclipse.jdt.internal.compiler.ast.ForStatement.resolve(ForStatement.java:303)</Line>
          <Line>at org.eclipse.jdt.internal.compiler.ast.Block.resolveUsing(Block.java:115)</Line>
          <Line>at org.eclipse.jdt.internal.compiler.ast.TryStatement.resolve(TryStatement.java:504)</Line>
          <Line>at org.eclipse.jdt.internal.compiler.ast.AbstractMethodDeclaration.resolveStatements(AbstractMethodDeclaration.java:418)</Line>
          <Line>at org.eclipse.jdt.internal.compiler.ast.MethodDeclaration.resolveStatements(MethodDeclaration.java:178)</Line>
          <Line>at org.eclipse.jdt.internal.compiler.ast.AbstractMethodDeclaration.resolve(AbstractMethodDeclaration.java:396)</Line>
          <Line>at org.eclipse.jdt.internal.compiler.ast.TypeDeclaration.resolve(TypeDeclaration.java:1072)</Line>
          <Line>at org.eclipse.jdt.internal.compiler.ast.TypeDeclaration.resolve(TypeDeclaration.java:1121)</Line>
          <Line>at org.eclipse.jdt.internal.compiler.ast.CompilationUnitDeclaration.resolve(CompilationUnitDeclaration.java:305)</Line>
          <Line>at org.eclipse.jdt.core.dom.CompilationUnitResolver.resolve(CompilationUnitResolver.java:821)</Line>
          <Line>at org.eclipse.jdt.core.dom.CompilationUnitResolver.resolve(CompilationUnitResolver.java:498)</Line>
          <Line>at org.eclipse.jdt.core.dom.ASTParser.internalCreateAST(ASTParser.java:789)</Line>
          <Line>at org.eclipse.jdt.core.dom.ASTParser.createAST(ASTParser.java:588)</Line>
          <Line>at org.eclipse.jdt.internal.ui.javaeditor.ASTProvider$1.run(ASTProvider.java:566)</Line>
          <Line>at org.eclipse.core.internal.runtime.InternalPlatform.run(InternalPlatform.java:1044)</Line>
          <Line>at org.eclipse.core.runtime.Platform.run(Platform.java:783)</Line>
          <Line>at org.eclipse.jdt.internal.ui.javaeditor.ASTProvider.createAST(ASTProvider.java:563)</Line>
          <Line>at org.eclipse.jdt.internal.ui.javaeditor.ASTProvider.getAST(ASTProvider.java:493)</Line>
          <Line>at org.eclipse.jdt.internal.ui.viewsupport.SelectionListenerWithASTManager$PartListenerGroup.calculateASTandInform(SelectionListenerWithASTManager.java:165)</Line>
          <Line>at org.eclipse.jdt.internal.ui.viewsupport.SelectionListenerWithASTManager$3.run(SelectionListenerWithASTManager.java:142)</Line>
          <Line>- locked &lt;0x11a67e40&gt; (a java.lang.Object)</Line>
          <Line>at org.eclipse.core.internal.jobs.Worker.run(Worker.java:76)</Line>
        </Lines>
      </Enumeration>
      <Enumeration lines="47">
        <Lines>
          <Line>- locked &lt;0x12690930&gt; (a java.util.zip.ZipFile)</Line>
          <Line>at org.eclipse.jdt.internal.core.JarPackageFragmentRoot.computeChildren(JarPackageFragmentRoot.java:86)</Line>
          <Line>at org.eclipse.jdt.internal.core.PackageFragmentRoot.buildStructure(PackageFragmentRoot.java:174)</Line>
          <Line>at org.eclipse.jdt.internal.core.Openable.generateInfos(Openable.java:233)</Line>
          <Line>at org.eclipse.jdt.internal.core.JarPackageFragment.generateInfos(JarPackageFragment.java:113)</Line>
          <Line>at org.eclipse.jdt.internal.core.JavaElement.openWhenClosed(JavaElement.java:488)</Line>
          <Line>at org.eclipse.jdt.internal.core.JavaElement.getElementInfo(JavaElement.java:232)</Line>
          <Line>at org.eclipse.jdt.internal.core.JavaElement.getElementInfo(JavaElement.java:218)</Line>
          <Line>at org.eclipse.jdt.internal.core.JavaElement.getChildren(JavaElement.java:173)</Line>
          <Line>at org.eclipse.jdt.internal.core.JavaElement.getChildrenOfType(JavaElement.java:187)</Line>
          <Line>at org.eclipse.jdt.internal.core.JarPackageFragment.getClassFiles(JarPackageFragment.java:120)</Line>
          <Line>at org.eclipse.jdt.internal.core.NameLookup.seekTypesInBinaryPackage(NameLookup.java:793)</Line>
          <Line>at org.eclipse.jdt.internal.core.NameLookup.seekTypes(NameLookup.java:769)</Line>
          <Line>at org.eclipse.jdt.internal.core.NameLookup.findType(NameLookup.java:542)</Line>
          <Line>at org.eclipse.jdt.internal.core.NameLookup.findType(NameLookup.java:501)</Line>
          <Line>at org.eclipse.jdt.internal.core.SearchableEnvironment.find(SearchableEnvironment.java:85)</Line>
          <Line>at org.eclipse.jdt.internal.core.SearchableEnvironment.findType(SearchableEnvironment.java:188)</Line>
          <Line>at org.eclipse.jdt.internal.core.CancelableNameEnvironment.findType(CancelableNameEnvironment.java:45)</Line>
          <Line>at org.eclipse.jdt.internal.compiler.lookup.LookupEnvironment.askForType(LookupEnvironment.java:119)</Line>
          <Line>at org.eclipse.jdt.internal.compiler.lookup.LookupEnvironment.getType(LookupEnvironment.java:741)</Line>
          <Line>at org.eclipse.jdt.internal.compiler.lookup.Scope.getJavaLangObject(Scope.java:2040)</Line>
          <Line>at org.eclipse.jdt.internal.compiler.lookup.ClassScope.connectSuperclass(ClassScope.java:763)</Line>
          <Line>at org.eclipse.jdt.internal.compiler.lookup.ClassScope.connectTypeHierarchy(ClassScope.java:947)</Line>
          <Line>at org.eclipse.jdt.internal.compiler.lookup.CompilationUnitScope.connectTypeHierarchy(CompilationUnitScope.java:258)</Line>
          <Line>at org.eclipse.jdt.internal.compiler.lookup.LookupEnvironment.completeTypeBindings(LookupEnvironment.java:195)</Line>
          <Line>at org.eclipse.jdt.internal.compiler.Compiler.resolve(Compiler.java:556)</Line>
          <Line>at org.eclipse.jdt.internal.core.CompilationUnitProblemFinder.process(CompilationUnitProblemFinder.java:175)</Line>
          <Line>at org.eclipse.jdt.internal.core.CompilationUnit.buildStructure(CompilationUnit.java:156)</Line>
          <Line>at org.eclipse.jdt.internal.core.Openable.generateInfos(Openable.java:233)</Line>
          <Line>at org.eclipse.jdt.internal.core.JavaElement.openWhenClosed(JavaElement.java:488)</Line>
          <Line>at org.eclipse.jdt.internal.core.CompilationUnit.makeConsistent(CompilationUnit.java:956)</Line>
          <Line>at org.eclipse.jdt.internal.core.ReconcileWorkingCopyOperation.executeOperation(ReconcileWorkingCopyOperation.java:61)</Line>
          <Line>at org.eclipse.jdt.internal.core.JavaModelOperation.run(JavaModelOperation.java:718)</Line>
          <Line>at org.eclipse.jdt.internal.core.JavaModelOperation.runOperation(JavaModelOperation.java:777)</Line>
          <Line>at org.eclipse.jdt.internal.core.CompilationUnit.reconcile(CompilationUnit.java:1081)</Line>
          <Line>at org.eclipse.jdt.internal.ui.text.java.JavaReconcilingStrategy$1.run(JavaReconcilingStrategy.java:98)</Line>
          <Line>- locked &lt;0x11959270&gt; (a org.eclipse.jdt.internal.core.CompilationUnit)</Line>
          <Line>at org.eclipse.core.internal.runtime.InternalPlatform.run(InternalPlatform.java:1044)</Line>
          <Line>at org.eclipse.core.runtime.Platform.run(Platform.java:783)</Line>
          <Line>at org.eclipse.jdt.internal.ui.text.java.JavaReconcilingStrategy.reconcile(JavaReconcilingStrategy.java:82)</Line>
          <Line>at org.eclipse.jdt.internal.ui.text.java.JavaReconcilingStrategy.reconcile(JavaReconcilingStrategy.java:147)</Line>
          <Line>at org.eclipse.jdt.internal.ui.text.CompositeReconcilingStrategy.reconcile(CompositeReconcilingStrategy.java:86)</Line>
          <Line>at org.eclipse.jdt.internal.ui.text.JavaCompositeReconcilingStrategy.reconcile(JavaCompositeReconcilingStrategy.java:94)</Line>
          <Line>at org.eclipse.jface.text.reconciler.MonoReconciler.process(MonoReconciler.java:75)</Line>
          <Line>at org.eclipse.jdt.internal.ui.text.JavaReconciler.process(JavaReconciler.java:339)</Line>
          <Line>- locked &lt;0x1190fee0&gt; (a java.lang.Object)</Line>
          <Line>at org.eclipse.jface.text.reconciler.AbstractReconciler$BackgroundThread.run(AbstractReconciler.java:204)</Line>
        </Lines>
      </Enumeration>
      <Enumeration lines="5">
        <Lines>
          <Line>- waiting on &lt;0x118d15a8&gt; (a org.eclipse.jdt.internal.core.search.indexing.IndexManager)</Line>
          <Line>at java.lang.Object.wait(Unknown Source)</Line>
          <Line>at org.eclipse.jdt.internal.core.search.processing.JobManager.run(JobManager.java:349)</Line>
          <Line>- locked &lt;0x118d15a8&gt; (a org.eclipse.jdt.internal.core.search.indexing.IndexManager)</Line>
          <Line>at java.lang.Thread.run(Unknown Source)</Line>
        </Lines>
      </Enumeration>
      <Enumeration lines="5">
        <Lines>
          <Line>- waiting on &lt;0x114e4ce8&gt; (a org.eclipse.core.internal.jobs.WorkerPool)</Line>
          <Line>at org.eclipse.core.internal.jobs.WorkerPool.sleep(WorkerPool.java:173)</Line>
          <Line>- locked &lt;0x114e4ce8&gt; (a org.eclipse.core.internal.jobs.WorkerPool)</Line>
          <Line>at org.eclipse.core.internal.jobs.WorkerPool.startJob(WorkerPool.java:205)</Line>
          <Line>at org.eclipse.core.internal.jobs.Worker.run(Worker.java:69)</Line>
        </Lines>
      </Enumeration>
      <Enumeration lines="5">
        <Lines>
          <Line>- waiting on &lt;0x113e2278&gt; (a org.eclipse.osgi.framework.eventmgr.EventManager$EventThread)</Line>
          <Line>at java.lang.Object.wait(Unknown Source)</Line>
          <Line>at org.eclipse.osgi.framework.eventmgr.EventManager$EventThread.getNextEvent(EventManager.java:349)</Line>
          <Line>- locked &lt;0x113e2278&gt; (a org.eclipse.osgi.framework.eventmgr.EventManager$EventThread)</Line>
          <Line>at org.eclipse.osgi.framework.eventmgr.EventManager$EventThread.run(EventManager.java:287)</Line>
        </Lines>
      </Enumeration>
      <Enumeration lines="5">
        <Lines>
          <Line>- waiting on &lt;0x113e22c8&gt; (a org.eclipse.osgi.framework.eventmgr.EventManager$EventThread)</Line>
          <Line>at java.lang.Object.wait(Unknown Source)</Line>
          <Line>at org.eclipse.osgi.framework.eventmgr.EventManager$EventThread.getNextEvent(EventManager.java:349)</Line>
          <Line>- locked &lt;0x113e22c8&gt; (a org.eclipse.osgi.framework.eventmgr.EventManager$EventThread)</Line>
          <Line>at org.eclipse.osgi.framework.eventmgr.EventManager$EventThread.run(EventManager.java:287)</Line>
        </Lines>
      </Enumeration>
      <Enumeration lines="5">
        <Lines>
          <Line>- waiting on &lt;0x113c02b0&gt; (a java.lang.ref.ReferenceQueue$Lock)</Line>
          <Line>at java.lang.ref.ReferenceQueue.remove(Unknown Source)</Line>
          <Line>- locked &lt;0x113c02b0&gt; (a java.lang.ref.ReferenceQueue$Lock)</Line>
          <Line>at java.lang.ref.ReferenceQueue.remove(Unknown Source)</Line>
          <Line>at java.lang.ref.Finalizer$FinalizerThread.run(Unknown Source)</Line>
        </Lines>
      </Enumeration>
      <Enumeration lines="4">
        <Lines>
          <Line>- waiting on &lt;0x113c00c8&gt; (a java.lang.ref.Reference$Lock)</Line>
          <Line>at java.lang.Object.wait(Unknown Source)</Line>
          <Line>at java.lang.ref.Reference$ReferenceHandler.run(Unknown Source)</Line>
          <Line>- locked &lt;0x113c00c8&gt; (a java.lang.ref.Reference$Lock)</Line>
        </Lines>
      </Enumeration>
      <Enumeration lines="71">
        <Lines>
          <Line>- waiting to lock &lt;0x118c9bc0&gt; (a org.eclipse.jdt.internal.core.JavaModelManager)</Line>
          <Line>at org.eclipse.jdt.internal.core.JavaElement.close(JavaElement.java:75)</Line>
          <Line>at org.eclipse.jdt.internal.core.JavaModelManager.removeInfoAndChildren(JavaModelManager.java:2111)</Line>
          <Line>- locked &lt;0x118c9bc0&gt; (a org.eclipse.jdt.internal.core.JavaModelManager)</Line>
          <Line>at org.eclipse.jdt.internal.core.JavaElement.close(JavaElement.java:75)</Line>
          <Line>at org.eclipse.jdt.internal.core.JavaModelManager.removeInfoAndChildren(JavaModelManager.java:2111)</Line>
          <Line>- locked &lt;0x118c9bc0&gt; (a org.eclipse.jdt.internal.core.JavaModelManager)</Line>
          <Line>at org.eclipse.jdt.internal.core.JavaElement.close(JavaElement.java:75)</Line>
          <Line>at org.eclipse.jdt.internal.core.ElementCache.close(ElementCache.java:53)</Line>
          <Line>at org.eclipse.jdt.internal.core.OverflowingLRUCache.privateRemoveEntry(OverflowingLRUCache.java:295)</Line>
          <Line>at org.eclipse.jdt.internal.core.OverflowingLRUCache.makeSpace(OverflowingLRUCache.java:183)</Line>
          <Line>at org.eclipse.jdt.internal.core.OverflowingLRUCache.put(OverflowingLRUCache.java:362)</Line>
          <Line>at org.eclipse.jdt.internal.core.JavaModelCache.putInfo(JavaModelCache.java:128)</Line>
          <Line>at org.eclipse.jdt.internal.core.JavaModelManager.putInfos(JavaModelManager.java:1973)</Line>
          <Line>- locked &lt;0x118c9bc0&gt; (a org.eclipse.jdt.internal.core.JavaModelManager)</Line>
          <Line>at org.eclipse.jdt.internal.core.JavaElement.openWhenClosed(JavaElement.java:502)</Line>
          <Line>at org.eclipse.jdt.internal.core.JavaElement.getElementInfo(JavaElement.java:232)</Line>
          <Line>at org.eclipse.jdt.internal.core.JavaElement.getElementInfo(JavaElement.java:218)</Line>
          <Line>at org.eclipse.jdt.internal.core.JavaElement.getChildren(JavaElement.java:173)</Line>
          <Line>at org.eclipse.jdt.internal.core.JavaElement.getChildrenOfType(JavaElement.java:187)</Line>
          <Line>at org.eclipse.jdt.internal.core.JarPackageFragment.getClassFiles(JarPackageFragment.java:120)</Line>
          <Line>at org.eclipse.jdt.internal.core.NameLookup.seekTypesInBinaryPackage(NameLookup.java:793)</Line>
          <Line>at org.eclipse.jdt.internal.core.NameLookup.seekTypes(NameLookup.java:769)</Line>
          <Line>at org.eclipse.jdt.internal.core.NameLookup.findType(NameLookup.java:542)</Line>
          <Line>at org.eclipse.jdt.internal.core.NameLookup.findType(NameLookup.java:501)</Line>
          <Line>at org.eclipse.jdt.internal.core.SearchableEnvironment.find(SearchableEnvironment.java:85)</Line>
          <Line>at org.eclipse.jdt.internal.core.SearchableEnvironment.findType(SearchableEnvironment.java:188)</Line>
          <Line>at org.eclipse.jdt.internal.compiler.lookup.LookupEnvironment.askForType(LookupEnvironment.java:119)</Line>
          <Line>at org.eclipse.jdt.internal.compiler.lookup.PackageBinding.getTypeOrPackage(PackageBinding.java:178)</Line>
          <Line>at org.eclipse.jdt.internal.compiler.lookup.Scope.getTypeOrPackage(Scope.java:2438)</Line>
          <Line>at org.eclipse.jdt.internal.compiler.lookup.Scope.getType(Scope.java:2177)</Line>
          <Line>at org.eclipse.jdt.internal.compiler.ast.SingleTypeReference.getTypeBinding(SingleTypeReference.java:39)</Line>
          <Line>at org.eclipse.jdt.internal.compiler.ast.TypeReference.resolveType(TypeReference.java:124)</Line>
          <Line>at org.eclipse.jdt.internal.compiler.lookup.SourceTypeBinding.resolveTypesFor(SourceTypeBinding.java:1248)</Line>
          <Line>at org.eclipse.jdt.internal.compiler.lookup.SourceTypeBinding.methods(SourceTypeBinding.java:1011)</Line>
          <Line>at org.eclipse.jdt.internal.compiler.lookup.SourceTypeBinding.faultInTypesForFieldsAndMethods(SourceTypeBinding.java:617)</Line>
          <Line>at org.eclipse.jdt.internal.compiler.lookup.CompilationUnitScope.faultInTypes(CompilationUnitScope.java:397)</Line>
          <Line>at org.eclipse.jdt.internal.codeassist.CompletionEngine.complete(CompletionEngine.java:1513)</Line>
          <Line>at org.eclipse.jdt.internal.core.Openable.codeComplete(Openable.java:128)</Line>
          <Line>at org.eclipse.jdt.internal.core.CompilationUnit.codeComplete(CompilationUnit.java:301)</Line>
          <Line>at org.eclipse.jdt.internal.core.CompilationUnit.codeComplete(CompilationUnit.java:294)</Line>
          <Line>at org.eclipse.jdt.internal.ui.text.java.JavaCompletionProcessor.internalComputeCompletionProposals(JavaCompletionProcessor.java:336)</Line>
          <Line>at org.eclipse.jdt.internal.ui.text.java.JavaCompletionProcessor.computeCompletionProposals(JavaCompletionProcessor.java:313)</Line>
          <Line>at org.eclipse.jface.text.contentassist.ContentAssistant.computeCompletionProposals(ContentAssistant.java:1503)</Line>
          <Line>at org.eclipse.jface.text.contentassist.CompletionProposalPopup.computeProposals(CompletionProposalPopup.java:301)</Line>
          <Line>at org.eclipse.jface.text.contentassist.CompletionProposalPopup.access$13(CompletionProposalPopup.java:298)</Line>
          <Line>at org.eclipse.jface.text.contentassist.CompletionProposalPopup$2.run(CompletionProposalPopup.java:261)</Line>
          <Line>at org.eclipse.swt.custom.BusyIndicator.showWhile(BusyIndicator.java:69)</Line>
          <Line>at org.eclipse.jface.text.contentassist.CompletionProposalPopup.showProposals(CompletionProposalPopup.java:256)</Line>
          <Line>at org.eclipse.jface.text.contentassist.ContentAssistant$2.run(ContentAssistant.java:327)</Line>
          <Line>at org.eclipse.swt.widgets.RunnableLock.run(RunnableLock.java:35)</Line>
          <Line>at org.eclipse.swt.widgets.Synchronizer.runAsyncMessages(Synchronizer.java:123)</Line>
          <Line>- locked &lt;0x122dc890&gt; (a org.eclipse.swt.widgets.RunnableLock)</Line>
          <Line>at org.eclipse.swt.widgets.Display.runAsyncMessages(Display.java:3057)</Line>
          <Line>at org.eclipse.swt.widgets.Display.readAndDispatch(Display.java:2716)</Line>
          <Line>at org.eclipse.ui.internal.Workbench.runEventLoop(Workbench.java:1699)</Line>
          <Line>at org.eclipse.ui.internal.Workbench.runUI(Workbench.java:1663)</Line>
          <Line>at org.eclipse.ui.internal.Workbench.createAndRunWorkbench(Workbench.java:367)</Line>
          <Line>at org.eclipse.ui.PlatformUI.createAndRunWorkbench(PlatformUI.java:143)</Line>
          <Line>at org.eclipse.ui.internal.ide.IDEApplication.run(IDEApplication.java:103)</Line>
          <Line>at org.eclipse.core.internal.runtime.PlatformActivator$1.run(PlatformActivator.java:226)</Line>
          <Line>at org.eclipse.core.runtime.adaptor.EclipseStarter.run(EclipseStarter.java:376)</Line>
          <Line>at org.eclipse.core.runtime.adaptor.EclipseStarter.run(EclipseStarter.java:163)</Line>
          <Line>at sun.reflect.NativeMethodAccessorImpl.invoke0(Native Method)</Line>
          <Line>at sun.reflect.NativeMethodAccessorImpl.invoke(Unknown Source)</Line>
          <Line>at sun.reflect.DelegatingMethodAccessorImpl.invoke(Unknown Source)</Line>
          <Line>at java.lang.reflect.Method.invoke(Unknown Source)</Line>
          <Line>at org.eclipse.core.launcher.Main.invokeFramework(Main.java:334)</Line>
          <Line>at org.eclipse.core.launcher.Main.basicRun(Main.java:278)</Line>
          <Line>at org.eclipse.core.launcher.Main.run(Main.java:973)</Line>
          <Line>at org.eclipse.core.launcher.Main.main(Main.java:948)</Line>
        </Lines>
      </Enumeration>
    </Enumerations>
    <bug_status amount="RESOLVED" />
    <resolution amount="INVALID" />
    <WithStack>With a large java project (~500 files), code assist behaves abnormally slow when applied on .java files that are inside a (default package).  With .java files that declare a package, code assist works normally.
Which build?
Please provide numbers for "abnormally".
Tom, I assume we're not involved here.
I apologize, I am new to bugzilla:

Version: 3.1.1
Build id: M20050929-0840

'Abnormally slow' means a 5 to 10 second delay.
I fail to reproduce the problem.

Could you give me more detail to reproduce it or a test case ?
How many classes are in the default package ?
Is it occur for all kinds of completions or only for some specific cases ? (only when completing a type or only when completins a method declaration or ...)
Note: Given the same project, the problem does *not* occur in Eclipse:
Version: 3.0.2
Build id: 200503110845

I am running WinXP Sp2 (all updates) with j2sdk1.4.2_10.  The problem occurs in any java file in any (default package).  However, the problem seems to be more evident the larger the file.  

The problem can be reproduced by using code assist on pretty much any type... this., String., class., etc... even unknowns cause the probem (i.e. adsfasdfas.)

It is also worth mentioning that until the code assist process is complete, Eclipse seems to stall out (the cursor stops blinking).
I cannot reproduce the problem. The problem is probably due to something specific in your project or eclipse configuration.

When you reproduce the problem could you do a thread dump and add it to this bug report ? With this thread dump i could see where the time is spend.

Another solution would be to give me the offending project if you can.




Unfortunately, I cannot send you the project.  Instead, here is a thread dump:

Full thread dump Java HotSpot(TM) Client VM (1.4.2_10-b03 mixed mode):

"Stack Trace Remote Thread" prio=5 tid=0x031c3b80 nid=0x9d8 waiting on condition [0..4c5fb7c]

"Worker-5" prio=5 tid=0x03399d50 nid=0x8ec in Object.wait() [439f000..439fd68]
	at java.lang.Object.wait(Native Method)
	- waiting on &lt;0x1158af68&gt; (a org.eclipse.core.internal.jobs.WorkerPool)
	at org.eclipse.core.internal.jobs.WorkerPool.sleep(WorkerPool.java:173)
	- locked &lt;0x1158af68&gt; (a org.eclipse.core.internal.jobs.WorkerPool)
	at org.eclipse.core.internal.jobs.WorkerPool.startJob(WorkerPool.java:205)
	at org.eclipse.core.internal.jobs.Worker.run(Worker.java:69)

"Worker-4" prio=5 tid=0x033544b8 nid=0x17c in Object.wait() [401f000..401fd68]
	at java.lang.Object.wait(Native Method)
	- waiting on &lt;0x1158af68&gt; (a org.eclipse.core.internal.jobs.WorkerPool)
	at org.eclipse.core.internal.jobs.WorkerPool.sleep(WorkerPool.java:173)
	- locked &lt;0x1158af68&gt; (a org.eclipse.core.internal.jobs.WorkerPool)
	at org.eclipse.core.internal.jobs.WorkerPool.startJob(WorkerPool.java:205)
	at org.eclipse.core.internal.jobs.Worker.run(Worker.java:69)

"Worker-3" prio=5 tid=0x03379d98 nid=0xaa0 in Object.wait() [3fdf000..3fdfd68]
	at java.lang.Object.wait(Native Method)
	- waiting on &lt;0x1158af68&gt; (a org.eclipse.core.internal.jobs.WorkerPool)
	at org.eclipse.core.internal.jobs.WorkerPool.sleep(WorkerPool.java:173)
	- locked &lt;0x1158af68&gt; (a org.eclipse.core.internal.jobs.WorkerPool)
	at org.eclipse.core.internal.jobs.WorkerPool.startJob(WorkerPool.java:205)
	at org.eclipse.core.internal.jobs.Worker.run(Worker.java:69)

"Worker-2" prio=5 tid=0x033b6098 nid=0x92c in Object.wait() [3f9f000..3f9fd68]
	at java.lang.Object.wait(Native Method)
	- waiting on &lt;0x1158af68&gt; (a org.eclipse.core.internal.jobs.WorkerPool)
	at org.eclipse.core.internal.jobs.WorkerPool.sleep(WorkerPool.java:173)
	- locked &lt;0x1158af68&gt; (a org.eclipse.core.internal.jobs.WorkerPool)
	at org.eclipse.core.internal.jobs.WorkerPool.startJob(WorkerPool.java:205)
	at org.eclipse.core.internal.jobs.Worker.run(Worker.java:69)

"Worker-1" prio=5 tid=0x02db43f8 nid=0xfc0 in Object.wait() [3f5f000..3f5fd68]
	at java.lang.Object.wait(Native Method)
	- waiting on &lt;0x1158af68&gt; (a org.eclipse.core.internal.jobs.WorkerPool)
	at org.eclipse.core.internal.jobs.WorkerPool.sleep(WorkerPool.java:173)
	- locked &lt;0x1158af68&gt; (a org.eclipse.core.internal.jobs.WorkerPool)
	at org.eclipse.core.internal.jobs.WorkerPool.startJob(WorkerPool.java:205)
	at org.eclipse.core.internal.jobs.Worker.run(Worker.java:69)

"org.eclipse.jdt.internal.ui.text.JavaReconciler" daemon prio=2 tid=0x00a37658 nid=0xd24 in Object.wait() [3dbf000..3dbfd68]
	at java.lang.Object.wait(Native Method)
	- waiting on &lt;0x11b1f710&gt; (a org.eclipse.jface.text.reconciler.DirtyRegionQueue)
	at org.eclipse.jface.text.reconciler.AbstractReconciler$BackgroundThread.run(AbstractReconciler.java:176)
	- locked &lt;0x11b1f710&gt; (a org.eclipse.jface.text.reconciler.DirtyRegionQueue)

"Java indexing" daemon prio=4 tid=0x030c2ff8 nid=0xeb0 in Object.wait() [3d6f000..3d6fd68]
	at java.lang.Object.wait(Native Method)
	- waiting on &lt;0x119cbf38&gt; (a org.eclipse.jdt.internal.core.search.indexing.IndexManager)
	at java.lang.Object.wait(Unknown Source)
	at org.eclipse.jdt.internal.core.search.processing.JobManager.run(JobManager.java:349)
	- locked &lt;0x119cbf38&gt; (a org.eclipse.jdt.internal.core.search.indexing.IndexManager)
	at java.lang.Thread.run(Unknown Source)

"Worker-0" prio=5 tid=0x030947f0 nid=0x4d8 in Object.wait() [393f000..393fd68]
	at java.lang.Object.wait(Native Method)
	- waiting on &lt;0x1158af68&gt; (a org.eclipse.core.internal.jobs.WorkerPool)
	at org.eclipse.core.internal.jobs.WorkerPool.sleep(WorkerPool.java:173)
	- locked &lt;0x1158af68&gt; (a org.eclipse.core.internal.jobs.WorkerPool)
	at org.eclipse.core.internal.jobs.WorkerPool.startJob(WorkerPool.java:205)
	at org.eclipse.core.internal.jobs.Worker.run(Worker.java:69)

"Start Level Event Dispatcher" daemon prio=5 tid=0x00a07b38 nid=0xc78 in Object.wait() [305f000..305fd68]
	at java.lang.Object.wait(Native Method)
	- waiting on &lt;0x113e71f8&gt; (a org.eclipse.osgi.framework.eventmgr.EventManager$EventThread)
	at java.lang.Object.wait(Unknown Source)
	at org.eclipse.osgi.framework.eventmgr.EventManager$EventThread.getNextEvent(EventManager.java:349)
	- locked &lt;0x113e71f8&gt; (a org.eclipse.osgi.framework.eventmgr.EventManager$EventThread)
	at org.eclipse.osgi.framework.eventmgr.EventManager$EventThread.run(EventManager.java:287)

"Framework Event Dispatcher" daemon prio=5 tid=0x02e28738 nid=0xc40 in Object.wait() [301f000..301fd68]
	at java.lang.Object.wait(Native Method)
	- waiting on &lt;0x113e7248&gt; (a org.eclipse.osgi.framework.eventmgr.EventManager$EventThread)
	at java.lang.Object.wait(Unknown Source)
	at org.eclipse.osgi.framework.eventmgr.EventManager$EventThread.getNextEvent(EventManager.java:349)
	- locked &lt;0x113e7248&gt; (a org.eclipse.osgi.framework.eventmgr.EventManager$EventThread)
	at org.eclipse.osgi.framework.eventmgr.EventManager$EventThread.run(EventManager.java:287)

"State Data Manager" daemon prio=5 tid=0x02e2ed20 nid=0x380 waiting on condition [2fdf000..2fdfd68]
	at java.lang.Thread.sleep(Native Method)
	at org.eclipse.osgi.framework.adaptor.core.StateManager.run(StateManager.java:289)
	at java.lang.Thread.run(Unknown Source)

"Signal Dispatcher" daemon prio=10 tid=0x0098c268 nid=0xf00 runnable [0..0]

"Finalizer" daemon prio=9 tid=0x00989898 nid=0xd4 in Object.wait() [2c2f000..2c2fd68]
	at java.lang.Object.wait(Native Method)
	- waiting on &lt;0x113c02b0&gt; (a java.lang.ref.ReferenceQueue$Lock)
	at java.lang.ref.ReferenceQueue.remove(Unknown Source)
	- locked &lt;0x113c02b0&gt; (a java.lang.ref.ReferenceQueue$Lock)
	at java.lang.ref.ReferenceQueue.remove(Unknown Source)
	at java.lang.ref.Finalizer$FinalizerThread.run(Unknown Source)

"Reference Handler" daemon prio=10 tid=0x00988510 nid=0xb20 in Object.wait() [2bef000..2befd68]
	at java.lang.Object.wait(Native Method)
	- waiting on &lt;0x113c00c8&gt; (a java.lang.ref.Reference$Lock)
	at java.lang.Object.wait(Unknown Source)
	at java.lang.ref.Reference$ReferenceHandler.run(Unknown Source)
	- locked &lt;0x113c00c8&gt; (a java.lang.ref.Reference$Lock)

"main" prio=7 tid=0x00355d00 nid=0x538 runnable [6f000..6fc08]
	at org.eclipse.swt.internal.win32.OS.WaitMessage(Native Method)
	at org.eclipse.swt.widgets.Display.sleep(Display.java:3386)
	at org.eclipse.ui.application.WorkbenchAdvisor.eventLoopIdle(WorkbenchAdvisor.java:333)
	at org.eclipse.ui.internal.Workbench.runEventLoop(Workbench.java:1700)
	at org.eclipse.ui.internal.Workbench.runUI(Workbench.java:1663)
	at org.eclipse.ui.internal.Workbench.createAndRunWorkbench(Workbench.java:367)
	at org.eclipse.ui.PlatformUI.createAndRunWorkbench(PlatformUI.java:143)
	at org.eclipse.ui.internal.ide.IDEApplication.run(IDEApplication.java:103)
	at org.eclipse.core.internal.runtime.PlatformActivator$1.run(PlatformActivator.java:226)
	at org.eclipse.core.runtime.adaptor.EclipseStarter.run(EclipseStarter.java:376)
	at org.eclipse.core.runtime.adaptor.EclipseStarter.run(EclipseStarter.java:163)
	at sun.reflect.NativeMethodAccessorImpl.invoke0(Native Method)
	at sun.reflect.NativeMethodAccessorImpl.invoke(Unknown Source)
	at sun.reflect.DelegatingMethodAccessorImpl.invoke(Unknown Source)
	at java.lang.reflect.Method.invoke(Unknown Source)
	at org.eclipse.core.launcher.Main.invokeFramework(Main.java:334)
	at org.eclipse.core.launcher.Main.basicRun(Main.java:278)
	at org.eclipse.core.launcher.Main.run(Main.java:973)
	at org.eclipse.core.launcher.Main.main(Main.java:948)

"VM Thread" prio=5 tid=0x009c76b0 nid=0xecc runnable 

"VM Periodic Task Thread" prio=10 tid=0x009c8958 nid=0x94c waiting on condition 
"Suspend Checker Thread" prio=10 tid=0x0098b7d0 nid=0xf68 runnable 

Correction:  Here is the thread dump during the 'stall':

Full thread dump Java HotSpot(TM) Client VM (1.4.2_10-b03 mixed mode):

"Stack Trace Remote Thread" prio=5 tid=0x044a6008 nid=0xd94 runnable [0..401fb7c]

"AutoAssist Delay" prio=7 tid=0x0326a008 nid=0xc60 in Object.wait() [3d2f000..3d2fd68]
	at java.lang.Object.wait(Native Method)
	- waiting on &lt;0x122dc890&gt; (a org.eclipse.swt.widgets.RunnableLock)
	at java.lang.Object.wait(Unknown Source)
	at org.eclipse.swt.widgets.Synchronizer.syncExec(Synchronizer.java:169)
	- locked &lt;0x122dc890&gt; (a org.eclipse.swt.widgets.RunnableLock)
	at org.eclipse.ui.internal.UISynchronizer.syncExec(UISynchronizer.java:28)
	at org.eclipse.swt.widgets.Display.syncExec(Display.java:3413)
	at org.eclipse.jface.text.contentassist.ContentAssistant$AutoAssistListener.showAssist(ContentAssistant.java:324)
	at org.eclipse.jface.text.contentassist.ContentAssistant$AutoAssistListener.run(ContentAssistant.java:246)
	at java.lang.Thread.run(Unknown Source)

"Worker-1" prio=5 tid=0x02db43f8 nid=0xfc0 waiting for monitor entry [3f5e000..3f5fd68]
	at org.eclipse.jdt.internal.core.JavaModelManager.intern(JavaModelManager.java:1713)
	- waiting to lock &lt;0x118c9bc0&gt; (a org.eclipse.jdt.internal.core.JavaModelManager)
	at org.eclipse.jdt.internal.core.JarPackageFragmentRoot.initPackageFragToTypes(JarPackageFragmentRoot.java:249)
	at org.eclipse.jdt.internal.core.JarPackageFragmentRoot.computeChildren(JarPackageFragmentRoot.java:91)
	at org.eclipse.jdt.internal.core.PackageFragmentRoot.buildStructure(PackageFragmentRoot.java:174)
	at org.eclipse.jdt.internal.core.Openable.generateInfos(Openable.java:233)
	at org.eclipse.jdt.internal.core.JarPackageFragment.generateInfos(JarPackageFragment.java:113)
	at org.eclipse.jdt.internal.core.JavaElement.openWhenClosed(JavaElement.java:488)
	at org.eclipse.jdt.internal.core.JavaElement.getElementInfo(JavaElement.java:232)
	at org.eclipse.jdt.internal.core.JavaElement.getElementInfo(JavaElement.java:218)
	at org.eclipse.jdt.internal.core.JavaElement.getChildren(JavaElement.java:173)
	at org.eclipse.jdt.internal.core.JavaElement.getChildrenOfType(JavaElement.java:187)
	at org.eclipse.jdt.internal.core.JarPackageFragment.getClassFiles(JarPackageFragment.java:120)
	at org.eclipse.jdt.internal.core.NameLookup.seekTypesInBinaryPackage(NameLookup.java:793)
	at org.eclipse.jdt.internal.core.NameLookup.seekTypes(NameLookup.java:769)
	at org.eclipse.jdt.internal.core.NameLookup.findType(NameLookup.java:542)
	at org.eclipse.jdt.internal.core.NameLookup.findType(NameLookup.java:501)
	at org.eclipse.jdt.internal.core.SearchableEnvironment.find(SearchableEnvironment.java:85)
	at org.eclipse.jdt.internal.core.SearchableEnvironment.findType(SearchableEnvironment.java:188)
	at org.eclipse.jdt.internal.core.CancelableNameEnvironment.findType(CancelableNameEnvironment.java:45)
	at org.eclipse.jdt.internal.compiler.lookup.LookupEnvironment.askForType(LookupEnvironment.java:119)
	at org.eclipse.jdt.internal.compiler.lookup.PackageBinding.getTypeOrPackage(PackageBinding.java:178)
	at org.eclipse.jdt.internal.compiler.lookup.Scope.getTypeOrPackage(Scope.java:2438)
	at org.eclipse.jdt.internal.compiler.lookup.Scope.getType(Scope.java:2177)
	at org.eclipse.jdt.internal.compiler.ast.SingleTypeReference.getTypeBinding(SingleTypeReference.java:39)
	at org.eclipse.jdt.internal.compiler.ast.TypeReference.resolveType(TypeReference.java:124)
	at org.eclipse.jdt.internal.compiler.ast.Argument.resolveForCatch(Argument.java:101)
	at org.eclipse.jdt.internal.compiler.ast.TryStatement.resolve(TryStatement.java:517)
	at org.eclipse.jdt.internal.compiler.ast.Block.resolve(Block.java:101)
	at org.eclipse.jdt.internal.compiler.ast.ForStatement.resolve(ForStatement.java:303)
	at org.eclipse.jdt.internal.compiler.ast.Block.resolveUsing(Block.java:115)
	at org.eclipse.jdt.internal.compiler.ast.TryStatement.resolve(TryStatement.java:504)
	at org.eclipse.jdt.internal.compiler.ast.AbstractMethodDeclaration.resolveStatements(AbstractMethodDeclaration.java:418)
	at org.eclipse.jdt.internal.compiler.ast.MethodDeclaration.resolveStatements(MethodDeclaration.java:178)
	at org.eclipse.jdt.internal.compiler.ast.AbstractMethodDeclaration.resolve(AbstractMethodDeclaration.java:396)
	at org.eclipse.jdt.internal.compiler.ast.TypeDeclaration.resolve(TypeDeclaration.java:1072)
	at org.eclipse.jdt.internal.compiler.ast.TypeDeclaration.resolve(TypeDeclaration.java:1121)
	at org.eclipse.jdt.internal.compiler.ast.CompilationUnitDeclaration.resolve(CompilationUnitDeclaration.java:305)
	at org.eclipse.jdt.core.dom.CompilationUnitResolver.resolve(CompilationUnitResolver.java:821)
	at org.eclipse.jdt.core.dom.CompilationUnitResolver.resolve(CompilationUnitResolver.java:498)
	at org.eclipse.jdt.core.dom.ASTParser.internalCreateAST(ASTParser.java:789)
	at org.eclipse.jdt.core.dom.ASTParser.createAST(ASTParser.java:588)
	at org.eclipse.jdt.internal.ui.javaeditor.ASTProvider$1.run(ASTProvider.java:566)
	at org.eclipse.core.internal.runtime.InternalPlatform.run(InternalPlatform.java:1044)
	at org.eclipse.core.runtime.Platform.run(Platform.java:783)
	at org.eclipse.jdt.internal.ui.javaeditor.ASTProvider.createAST(ASTProvider.java:563)
	at org.eclipse.jdt.internal.ui.javaeditor.ASTProvider.getAST(ASTProvider.java:493)
	at org.eclipse.jdt.internal.ui.viewsupport.SelectionListenerWithASTManager$PartListenerGroup.calculateASTandInform(SelectionListenerWithASTManager.java:165)
	at org.eclipse.jdt.internal.ui.viewsupport.SelectionListenerWithASTManager$3.run(SelectionListenerWithASTManager.java:142)
	- locked &lt;0x11a67e40&gt; (a java.lang.Object)
	at org.eclipse.core.internal.jobs.Worker.run(Worker.java:76)

"org.eclipse.jdt.internal.ui.text.JavaReconciler" daemon prio=2 tid=0x00a37658 nid=0xd24 runnable [3dbe000..3dbfd68]
	at java.util.zip.ZipFile.getNextEntry(Native Method)
	at java.util.zip.ZipFile.access$400(Unknown Source)
	at java.util.zip.ZipFile$2.nextElement(Unknown Source)
	- locked &lt;0x12690930&gt; (a java.util.zip.ZipFile)
	at org.eclipse.jdt.internal.core.JarPackageFragmentRoot.computeChildren(JarPackageFragmentRoot.java:86)
	at org.eclipse.jdt.internal.core.PackageFragmentRoot.buildStructure(PackageFragmentRoot.java:174)
	at org.eclipse.jdt.internal.core.Openable.generateInfos(Openable.java:233)
	at org.eclipse.jdt.internal.core.JarPackageFragment.generateInfos(JarPackageFragment.java:113)
	at org.eclipse.jdt.internal.core.JavaElement.openWhenClosed(JavaElement.java:488)
	at org.eclipse.jdt.internal.core.JavaElement.getElementInfo(JavaElement.java:232)
	at org.eclipse.jdt.internal.core.JavaElement.getElementInfo(JavaElement.java:218)
	at org.eclipse.jdt.internal.core.JavaElement.getChildren(JavaElement.java:173)
	at org.eclipse.jdt.internal.core.JavaElement.getChildrenOfType(JavaElement.java:187)
	at org.eclipse.jdt.internal.core.JarPackageFragment.getClassFiles(JarPackageFragment.java:120)
	at org.eclipse.jdt.internal.core.NameLookup.seekTypesInBinaryPackage(NameLookup.java:793)
	at org.eclipse.jdt.internal.core.NameLookup.seekTypes(NameLookup.java:769)
	at org.eclipse.jdt.internal.core.NameLookup.findType(NameLookup.java:542)
	at org.eclipse.jdt.internal.core.NameLookup.findType(NameLookup.java:501)
	at org.eclipse.jdt.internal.core.SearchableEnvironment.find(SearchableEnvironment.java:85)
	at org.eclipse.jdt.internal.core.SearchableEnvironment.findType(SearchableEnvironment.java:188)
	at org.eclipse.jdt.internal.core.CancelableNameEnvironment.findType(CancelableNameEnvironment.java:45)
	at org.eclipse.jdt.internal.compiler.lookup.LookupEnvironment.askForType(LookupEnvironment.java:119)
	at org.eclipse.jdt.internal.compiler.lookup.LookupEnvironment.getType(LookupEnvironment.java:741)
	at org.eclipse.jdt.internal.compiler.lookup.Scope.getJavaLangObject(Scope.java:2040)
	at org.eclipse.jdt.internal.compiler.lookup.ClassScope.connectSuperclass(ClassScope.java:763)
	at org.eclipse.jdt.internal.compiler.lookup.ClassScope.connectTypeHierarchy(ClassScope.java:947)
	at org.eclipse.jdt.internal.compiler.lookup.CompilationUnitScope.connectTypeHierarchy(CompilationUnitScope.java:258)
	at org.eclipse.jdt.internal.compiler.lookup.LookupEnvironment.completeTypeBindings(LookupEnvironment.java:195)
	at org.eclipse.jdt.internal.compiler.Compiler.resolve(Compiler.java:556)
	at org.eclipse.jdt.internal.core.CompilationUnitProblemFinder.process(CompilationUnitProblemFinder.java:175)
	at org.eclipse.jdt.internal.core.CompilationUnit.buildStructure(CompilationUnit.java:156)
	at org.eclipse.jdt.internal.core.Openable.generateInfos(Openable.java:233)
	at org.eclipse.jdt.internal.core.JavaElement.openWhenClosed(JavaElement.java:488)
	at org.eclipse.jdt.internal.core.CompilationUnit.makeConsistent(CompilationUnit.java:956)
	at org.eclipse.jdt.internal.core.ReconcileWorkingCopyOperation.executeOperation(ReconcileWorkingCopyOperation.java:61)
	at org.eclipse.jdt.internal.core.JavaModelOperation.run(JavaModelOperation.java:718)
	at org.eclipse.jdt.internal.core.JavaModelOperation.runOperation(JavaModelOperation.java:777)
	at org.eclipse.jdt.internal.core.CompilationUnit.reconcile(CompilationUnit.java:1081)
	at org.eclipse.jdt.internal.ui.text.java.JavaReconcilingStrategy$1.run(JavaReconcilingStrategy.java:98)
	- locked &lt;0x11959270&gt; (a org.eclipse.jdt.internal.core.CompilationUnit)
	at org.eclipse.core.internal.runtime.InternalPlatform.run(InternalPlatform.java:1044)
	at org.eclipse.core.runtime.Platform.run(Platform.java:783)
	at org.eclipse.jdt.internal.ui.text.java.JavaReconcilingStrategy.reconcile(JavaReconcilingStrategy.java:82)
	at org.eclipse.jdt.internal.ui.text.java.JavaReconcilingStrategy.reconcile(JavaReconcilingStrategy.java:147)
	at org.eclipse.jdt.internal.ui.text.CompositeReconcilingStrategy.reconcile(CompositeReconcilingStrategy.java:86)
	at org.eclipse.jdt.internal.ui.text.JavaCompositeReconcilingStrategy.reconcile(JavaCompositeReconcilingStrategy.java:94)
	at org.eclipse.jface.text.reconciler.MonoReconciler.process(MonoReconciler.java:75)
	at org.eclipse.jdt.internal.ui.text.JavaReconciler.process(JavaReconciler.java:339)
	- locked &lt;0x1190fee0&gt; (a java.lang.Object)
	at org.eclipse.jface.text.reconciler.AbstractReconciler$BackgroundThread.run(AbstractReconciler.java:204)

"Java indexing" daemon prio=4 tid=0x030c2ff8 nid=0xeb0 in Object.wait() [3d6f000..3d6fd68]
	at java.lang.Object.wait(Native Method)
	- waiting on &lt;0x118d15a8&gt; (a org.eclipse.jdt.internal.core.search.indexing.IndexManager)
	at java.lang.Object.wait(Unknown Source)
	at org.eclipse.jdt.internal.core.search.processing.JobManager.run(JobManager.java:349)
	- locked &lt;0x118d15a8&gt; (a org.eclipse.jdt.internal.core.search.indexing.IndexManager)
	at java.lang.Thread.run(Unknown Source)

"Worker-0" prio=5 tid=0x030947f0 nid=0x4d8 in Object.wait() [393f000..393fd68]
	at java.lang.Object.wait(Native Method)
	- waiting on &lt;0x114e4ce8&gt; (a org.eclipse.core.internal.jobs.WorkerPool)
	at org.eclipse.core.internal.jobs.WorkerPool.sleep(WorkerPool.java:173)
	- locked &lt;0x114e4ce8&gt; (a org.eclipse.core.internal.jobs.WorkerPool)
	at org.eclipse.core.internal.jobs.WorkerPool.startJob(WorkerPool.java:205)
	at org.eclipse.core.internal.jobs.Worker.run(Worker.java:69)

"Start Level Event Dispatcher" daemon prio=5 tid=0x00a07b38 nid=0xc78 in Object.wait() [305f000..305fd68]
	at java.lang.Object.wait(Native Method)
	- waiting on &lt;0x113e2278&gt; (a org.eclipse.osgi.framework.eventmgr.EventManager$EventThread)
	at java.lang.Object.wait(Unknown Source)
	at org.eclipse.osgi.framework.eventmgr.EventManager$EventThread.getNextEvent(EventManager.java:349)
	- locked &lt;0x113e2278&gt; (a org.eclipse.osgi.framework.eventmgr.EventManager$EventThread)
	at org.eclipse.osgi.framework.eventmgr.EventManager$EventThread.run(EventManager.java:287)

"Framework Event Dispatcher" daemon prio=5 tid=0x02e28738 nid=0xc40 in Object.wait() [301f000..301fd68]
	at java.lang.Object.wait(Native Method)
	- waiting on &lt;0x113e22c8&gt; (a org.eclipse.osgi.framework.eventmgr.EventManager$EventThread)
	at java.lang.Object.wait(Unknown Source)
	at org.eclipse.osgi.framework.eventmgr.EventManager$EventThread.getNextEvent(EventManager.java:349)
	- locked &lt;0x113e22c8&gt; (a org.eclipse.osgi.framework.eventmgr.EventManager$EventThread)
	at org.eclipse.osgi.framework.eventmgr.EventManager$EventThread.run(EventManager.java:287)

"State Data Manager" daemon prio=5 tid=0x02e2ed20 nid=0x380 waiting on condition [2fdf000..2fdfd68]
	at java.lang.Thread.sleep(Native Method)
	at org.eclipse.osgi.framework.adaptor.core.StateManager.run(StateManager.java:289)
	at java.lang.Thread.run(Unknown Source)

"Signal Dispatcher" daemon prio=10 tid=0x0098c268 nid=0xf00 runnable [0..0]

"Finalizer" daemon prio=9 tid=0x00989898 nid=0xd4 in Object.wait() [2c2f000..2c2fd68]
	at java.lang.Object.wait(Native Method)
	- waiting on &lt;0x113c02b0&gt; (a java.lang.ref.ReferenceQueue$Lock)
	at java.lang.ref.ReferenceQueue.remove(Unknown Source)
	- locked &lt;0x113c02b0&gt; (a java.lang.ref.ReferenceQueue$Lock)
	at java.lang.ref.ReferenceQueue.remove(Unknown Source)
	at java.lang.ref.Finalizer$FinalizerThread.run(Unknown Source)

"Reference Handler" daemon prio=10 tid=0x00988510 nid=0xb20 in Object.wait() [2bef000..2befd68]
	at java.lang.Object.wait(Native Method)
	- waiting on &lt;0x113c00c8&gt; (a java.lang.ref.Reference$Lock)
	at java.lang.Object.wait(Unknown Source)
	at java.lang.ref.Reference$ReferenceHandler.run(Unknown Source)
	- locked &lt;0x113c00c8&gt; (a java.lang.ref.Reference$Lock)

"main" prio=7 tid=0x00355d00 nid=0x538 runnable [6e000..6fc08]
	at org.eclipse.jdt.internal.core.JavaModelManager.removeInfoAndChildren(JavaModelManager.java:2077)
	- waiting to lock &lt;0x118c9bc0&gt; (a org.eclipse.jdt.internal.core.JavaModelManager)
	at org.eclipse.jdt.internal.core.JavaElement.close(JavaElement.java:75)
	at org.eclipse.jdt.internal.core.JavaModelManager.removeInfoAndChildren(JavaModelManager.java:2111)
	- locked &lt;0x118c9bc0&gt; (a org.eclipse.jdt.internal.core.JavaModelManager)
	at org.eclipse.jdt.internal.core.JavaElement.close(JavaElement.java:75)
	at org.eclipse.jdt.internal.core.JavaModelManager.removeInfoAndChildren(JavaModelManager.java:2111)
	- locked &lt;0x118c9bc0&gt; (a org.eclipse.jdt.internal.core.JavaModelManager)
	at org.eclipse.jdt.internal.core.JavaElement.close(JavaElement.java:75)
	at org.eclipse.jdt.internal.core.ElementCache.close(ElementCache.java:53)
	at org.eclipse.jdt.internal.core.OverflowingLRUCache.privateRemoveEntry(OverflowingLRUCache.java:295)
	at org.eclipse.jdt.internal.core.OverflowingLRUCache.makeSpace(OverflowingLRUCache.java:183)
	at org.eclipse.jdt.internal.core.OverflowingLRUCache.put(OverflowingLRUCache.java:362)
	at org.eclipse.jdt.internal.core.JavaModelCache.putInfo(JavaModelCache.java:128)
	at org.eclipse.jdt.internal.core.JavaModelManager.putInfos(JavaModelManager.java:1973)
	- locked &lt;0x118c9bc0&gt; (a org.eclipse.jdt.internal.core.JavaModelManager)
	at org.eclipse.jdt.internal.core.JavaElement.openWhenClosed(JavaElement.java:502)
	at org.eclipse.jdt.internal.core.JavaElement.getElementInfo(JavaElement.java:232)
	at org.eclipse.jdt.internal.core.JavaElement.getElementInfo(JavaElement.java:218)
	at org.eclipse.jdt.internal.core.JavaElement.getChildren(JavaElement.java:173)
	at org.eclipse.jdt.internal.core.JavaElement.getChildrenOfType(JavaElement.java:187)
	at org.eclipse.jdt.internal.core.JarPackageFragment.getClassFiles(JarPackageFragment.java:120)
	at org.eclipse.jdt.internal.core.NameLookup.seekTypesInBinaryPackage(NameLookup.java:793)
	at org.eclipse.jdt.internal.core.NameLookup.seekTypes(NameLookup.java:769)
	at org.eclipse.jdt.internal.core.NameLookup.findType(NameLookup.java:542)
	at org.eclipse.jdt.internal.core.NameLookup.findType(NameLookup.java:501)
	at org.eclipse.jdt.internal.core.SearchableEnvironment.find(SearchableEnvironment.java:85)
	at org.eclipse.jdt.internal.core.SearchableEnvironment.findType(SearchableEnvironment.java:188)
	at org.eclipse.jdt.internal.compiler.lookup.LookupEnvironment.askForType(LookupEnvironment.java:119)
	at org.eclipse.jdt.internal.compiler.lookup.PackageBinding.getTypeOrPackage(PackageBinding.java:178)
	at org.eclipse.jdt.internal.compiler.lookup.Scope.getTypeOrPackage(Scope.java:2438)
	at org.eclipse.jdt.internal.compiler.lookup.Scope.getType(Scope.java:2177)
	at org.eclipse.jdt.internal.compiler.ast.SingleTypeReference.getTypeBinding(SingleTypeReference.java:39)
	at org.eclipse.jdt.internal.compiler.ast.TypeReference.resolveType(TypeReference.java:124)
	at org.eclipse.jdt.internal.compiler.lookup.SourceTypeBinding.resolveTypesFor(SourceTypeBinding.java:1248)
	at org.eclipse.jdt.internal.compiler.lookup.SourceTypeBinding.methods(SourceTypeBinding.java:1011)
	at org.eclipse.jdt.internal.compiler.lookup.SourceTypeBinding.faultInTypesForFieldsAndMethods(SourceTypeBinding.java:617)
	at org.eclipse.jdt.internal.compiler.lookup.CompilationUnitScope.faultInTypes(CompilationUnitScope.java:397)
	at org.eclipse.jdt.internal.codeassist.CompletionEngine.complete(CompletionEngine.java:1513)
	at org.eclipse.jdt.internal.core.Openable.codeComplete(Openable.java:128)
	at org.eclipse.jdt.internal.core.CompilationUnit.codeComplete(CompilationUnit.java:301)
	at org.eclipse.jdt.internal.core.CompilationUnit.codeComplete(CompilationUnit.java:294)
	at org.eclipse.jdt.internal.ui.text.java.JavaCompletionProcessor.internalComputeCompletionProposals(JavaCompletionProcessor.java:336)
	at org.eclipse.jdt.internal.ui.text.java.JavaCompletionProcessor.computeCompletionProposals(JavaCompletionProcessor.java:313)
	at org.eclipse.jface.text.contentassist.ContentAssistant.computeCompletionProposals(ContentAssistant.java:1503)
	at org.eclipse.jface.text.contentassist.CompletionProposalPopup.computeProposals(CompletionProposalPopup.java:301)
	at org.eclipse.jface.text.contentassist.CompletionProposalPopup.access$13(CompletionProposalPopup.java:298)
	at org.eclipse.jface.text.contentassist.CompletionProposalPopup$2.run(CompletionProposalPopup.java:261)
	at org.eclipse.swt.custom.BusyIndicator.showWhile(BusyIndicator.java:69)
	at org.eclipse.jface.text.contentassist.CompletionProposalPopup.showProposals(CompletionProposalPopup.java:256)
	at org.eclipse.jface.text.contentassist.ContentAssistant$2.run(ContentAssistant.java:327)
	at org.eclipse.swt.widgets.RunnableLock.run(RunnableLock.java:35)
	at org.eclipse.swt.widgets.Synchronizer.runAsyncMessages(Synchronizer.java:123)
	- locked &lt;0x122dc890&gt; (a org.eclipse.swt.widgets.RunnableLock)
	at org.eclipse.swt.widgets.Display.runAsyncMessages(Display.java:3057)
	at org.eclipse.swt.widgets.Display.readAndDispatch(Display.java:2716)
	at org.eclipse.ui.internal.Workbench.runEventLoop(Workbench.java:1699)
	at org.eclipse.ui.internal.Workbench.runUI(Workbench.java:1663)
	at org.eclipse.ui.internal.Workbench.createAndRunWorkbench(Workbench.java:367)
	at org.eclipse.ui.PlatformUI.createAndRunWorkbench(PlatformUI.java:143)
	at org.eclipse.ui.internal.ide.IDEApplication.run(IDEApplication.java:103)
	at org.eclipse.core.internal.runtime.PlatformActivator$1.run(PlatformActivator.java:226)
	at org.eclipse.core.runtime.adaptor.EclipseStarter.run(EclipseStarter.java:376)
	at org.eclipse.core.runtime.adaptor.EclipseStarter.run(EclipseStarter.java:163)
	at sun.reflect.NativeMethodAccessorImpl.invoke0(Native Method)
	at sun.reflect.NativeMethodAccessorImpl.invoke(Unknown Source)
	at sun.reflect.DelegatingMethodAccessorImpl.invoke(Unknown Source)
	at java.lang.reflect.Method.invoke(Unknown Source)
	at org.eclipse.core.launcher.Main.invokeFramework(Main.java:334)
	at org.eclipse.core.launcher.Main.basicRun(Main.java:278)
	at org.eclipse.core.launcher.Main.run(Main.java:973)
	at org.eclipse.core.launcher.Main.main(Main.java:948)

"VM Thread" prio=5 tid=0x009c76b0 nid=0xecc runnable 

"VM Periodic Task Thread" prio=10 tid=0x009c8958 nid=0x94c waiting on condition 
"Suspend Checker Thread" prio=10 tid=0x0098b7d0 nid=0xf68 runnable 

(In reply to comment #6)
&gt; I cannot reproduce the problem. The problem is probably due to something
&gt; specific in your project or eclipse configuration.
&gt; When you reproduce the problem could you do a thread dump and add it to this
&gt; bug report ? With this thread dump i could see where the time is spend.
&gt; Another solution would be to give me the offending project if you can.

Any luck with the thread dump?
From the thread dump, it looks like a dup of bug 121652.
Can you please try with one of the latest integration builds (e.g. I20060216-0010) or with 3.2 M5 when it is available (end of the week) ?
i was never able to reproduce the problem and it's probably a duplicate of bug 121652.

If you can reproduce the problem with a recent build, reopen this bug.


As of now 'LATER' and 'REMIND' resolutions are no longer supported.
Please reopen this bug if it is still valid for you.</WithStack>
    <WithOutStack>With a large java project (~500 files), code assist behaves abnormally slow when applied on .java files that are inside a (default package).  With .java files that declare a package, code assist works normally.
Which build?
Please provide numbers for "abnormally".
Tom, I assume we're not involved here.
I apologize, I am new to bugzilla:

Version: 3.1.1
Build id: M20050929-0840

'Abnormally slow' means a 5 to 10 second delay.
I fail to reproduce the problem.

Could you give me more detail to reproduce it or a test case ?
How many classes are in the default package ?
Is it occur for all kinds of completions or only for some specific cases ? (only when completing a type or only when completins a method declaration or ...)
Note: Given the same project, the problem does *not* occur in Eclipse:
Version: 3.0.2
Build id: 200503110845

I am running WinXP Sp2 (all updates) with j2sdk1.4.2_10.  The problem occurs in any java file in any (default package).  However, the problem seems to be more evident the larger the file.  

The problem can be reproduced by using code assist on pretty much any type... this., String., class., etc... even unknowns cause the probem (i.e. adsfasdfas.)

It is also worth mentioning that until the code assist process is complete, Eclipse seems to stall out (the cursor stops blinking).
I cannot reproduce the problem. The problem is probably due to something specific in your project or eclipse configuration.

When you reproduce the problem could you do a thread dump and add it to this bug report ? With this thread dump i could see where the time is spend.

Another solution would be to give me the offending project if you can.




Unfortunately, I cannot send you the project.  Instead, here is a thread dump:

Full thread dump Java HotSpot(TM) Client VM (1.4.2_10-b03 mixed mode):

"Stack Trace Remote Thread" prio=5 tid=0x031c3b80 nid=0x9d8 waiting on condition [0..4c5fb7c]

"Worker-5" prio=5 tid=0x03399d50 nid=0x8ec in Object.wait() [439f000..439fd68]
	at java.lang.Object.wait(Native Method)
	- waiting on &lt;0x1158af68&gt; (a org.eclipse.core.internal.jobs.WorkerPool)
	at org.eclipse.core.internal.jobs.WorkerPool.sleep(WorkerPool.java:173)
	- locked &lt;0x1158af68&gt; (a org.eclipse.core.internal.jobs.WorkerPool)
	at org.eclipse.core.internal.jobs.WorkerPool.startJob(WorkerPool.java:205)
	at org.eclipse.core.internal.jobs.Worker.run(Worker.java:69)

"Worker-4" prio=5 tid=0x033544b8 nid=0x17c in Object.wait() [401f000..401fd68]
	at java.lang.Object.wait(Native Method)
	- waiting on &lt;0x1158af68&gt; (a org.eclipse.core.internal.jobs.WorkerPool)
	at org.eclipse.core.internal.jobs.WorkerPool.sleep(WorkerPool.java:173)
	- locked &lt;0x1158af68&gt; (a org.eclipse.core.internal.jobs.WorkerPool)
	at org.eclipse.core.internal.jobs.WorkerPool.startJob(WorkerPool.java:205)
	at org.eclipse.core.internal.jobs.Worker.run(Worker.java:69)

"Worker-3" prio=5 tid=0x03379d98 nid=0xaa0 in Object.wait() [3fdf000..3fdfd68]
	at java.lang.Object.wait(Native Method)
	- waiting on &lt;0x1158af68&gt; (a org.eclipse.core.internal.jobs.WorkerPool)
	at org.eclipse.core.internal.jobs.WorkerPool.sleep(WorkerPool.java:173)
	- locked &lt;0x1158af68&gt; (a org.eclipse.core.internal.jobs.WorkerPool)
	at org.eclipse.core.internal.jobs.WorkerPool.startJob(WorkerPool.java:205)
	at org.eclipse.core.internal.jobs.Worker.run(Worker.java:69)

"Worker-2" prio=5 tid=0x033b6098 nid=0x92c in Object.wait() [3f9f000..3f9fd68]
	at java.lang.Object.wait(Native Method)
	- waiting on &lt;0x1158af68&gt; (a org.eclipse.core.internal.jobs.WorkerPool)
	at org.eclipse.core.internal.jobs.WorkerPool.sleep(WorkerPool.java:173)
	- locked &lt;0x1158af68&gt; (a org.eclipse.core.internal.jobs.WorkerPool)
	at org.eclipse.core.internal.jobs.WorkerPool.startJob(WorkerPool.java:205)
	at org.eclipse.core.internal.jobs.Worker.run(Worker.java:69)

"Worker-1" prio=5 tid=0x02db43f8 nid=0xfc0 in Object.wait() [3f5f000..3f5fd68]
	at java.lang.Object.wait(Native Method)
	- waiting on &lt;0x1158af68&gt; (a org.eclipse.core.internal.jobs.WorkerPool)
	at org.eclipse.core.internal.jobs.WorkerPool.sleep(WorkerPool.java:173)
	- locked &lt;0x1158af68&gt; (a org.eclipse.core.internal.jobs.WorkerPool)
	at org.eclipse.core.internal.jobs.WorkerPool.startJob(WorkerPool.java:205)
	at org.eclipse.core.internal.jobs.Worker.run(Worker.java:69)

"org.eclipse.jdt.internal.ui.text.JavaReconciler" daemon prio=2 tid=0x00a37658 nid=0xd24 in Object.wait() [3dbf000..3dbfd68]
	at java.lang.Object.wait(Native Method)
	- waiting on &lt;0x11b1f710&gt; (a org.eclipse.jface.text.reconciler.DirtyRegionQueue)
	at org.eclipse.jface.text.reconciler.AbstractReconciler$BackgroundThread.run(AbstractReconciler.java:176)
	- locked &lt;0x11b1f710&gt; (a org.eclipse.jface.text.reconciler.DirtyRegionQueue)

"Java indexing" daemon prio=4 tid=0x030c2ff8 nid=0xeb0 in Object.wait() [3d6f000..3d6fd68]
	at java.lang.Object.wait(Native Method)
	- waiting on &lt;0x119cbf38&gt; (a org.eclipse.jdt.internal.core.search.indexing.IndexManager)
	at java.lang.Object.wait(Unknown Source)
	at org.eclipse.jdt.internal.core.search.processing.JobManager.run(JobManager.java:349)
	- locked &lt;0x119cbf38&gt; (a org.eclipse.jdt.internal.core.search.indexing.IndexManager)
	at java.lang.Thread.run(Unknown Source)

"Worker-0" prio=5 tid=0x030947f0 nid=0x4d8 in Object.wait() [393f000..393fd68]
	at java.lang.Object.wait(Native Method)
	- waiting on &lt;0x1158af68&gt; (a org.eclipse.core.internal.jobs.WorkerPool)
	at org.eclipse.core.internal.jobs.WorkerPool.sleep(WorkerPool.java:173)
	- locked &lt;0x1158af68&gt; (a org.eclipse.core.internal.jobs.WorkerPool)
	at org.eclipse.core.internal.jobs.WorkerPool.startJob(WorkerPool.java:205)
	at org.eclipse.core.internal.jobs.Worker.run(Worker.java:69)

"Start Level Event Dispatcher" daemon prio=5 tid=0x00a07b38 nid=0xc78 in Object.wait() [305f000..305fd68]
	at java.lang.Object.wait(Native Method)
	- waiting on &lt;0x113e71f8&gt; (a org.eclipse.osgi.framework.eventmgr.EventManager$EventThread)
	at java.lang.Object.wait(Unknown Source)
	at org.eclipse.osgi.framework.eventmgr.EventManager$EventThread.getNextEvent(EventManager.java:349)
	- locked &lt;0x113e71f8&gt; (a org.eclipse.osgi.framework.eventmgr.EventManager$EventThread)
	at org.eclipse.osgi.framework.eventmgr.EventManager$EventThread.run(EventManager.java:287)

"Framework Event Dispatcher" daemon prio=5 tid=0x02e28738 nid=0xc40 in Object.wait() [301f000..301fd68]
	at java.lang.Object.wait(Native Method)
	- waiting on &lt;0x113e7248&gt; (a org.eclipse.osgi.framework.eventmgr.EventManager$EventThread)
	at java.lang.Object.wait(Unknown Source)
	at org.eclipse.osgi.framework.eventmgr.EventManager$EventThread.getNextEvent(EventManager.java:349)
	- locked &lt;0x113e7248&gt; (a org.eclipse.osgi.framework.eventmgr.EventManager$EventThread)
	at org.eclipse.osgi.framework.eventmgr.EventManager$EventThread.run(EventManager.java:287)

"State Data Manager" daemon prio=5 tid=0x02e2ed20 nid=0x380 waiting on condition [2fdf000..2fdfd68]
	at java.lang.Thread.sleep(Native Method)
	at org.eclipse.osgi.framework.adaptor.core.StateManager.run(StateManager.java:289)
	at java.lang.Thread.run(Unknown Source)

"Signal Dispatcher" daemon prio=10 tid=0x0098c268 nid=0xf00 runnable [0..0]

"Finalizer" daemon prio=9 tid=0x00989898 nid=0xd4 in Object.wait() [2c2f000..2c2fd68]
	at java.lang.Object.wait(Native Method)
	- waiting on &lt;0x113c02b0&gt; (a java.lang.ref.ReferenceQueue$Lock)
	at java.lang.ref.ReferenceQueue.remove(Unknown Source)
	- locked &lt;0x113c02b0&gt; (a java.lang.ref.ReferenceQueue$Lock)
	at java.lang.ref.ReferenceQueue.remove(Unknown Source)
	at java.lang.ref.Finalizer$FinalizerThread.run(Unknown Source)

"Reference Handler" daemon prio=10 tid=0x00988510 nid=0xb20 in Object.wait() [2bef000..2befd68]
	at java.lang.Object.wait(Native Method)
	- waiting on &lt;0x113c00c8&gt; (a java.lang.ref.Reference$Lock)
	at java.lang.Object.wait(Unknown Source)
	at java.lang.ref.Reference$ReferenceHandler.run(Unknown Source)
	- locked &lt;0x113c00c8&gt; (a java.lang.ref.Reference$Lock)

"main" prio=7 tid=0x00355d00 nid=0x538 runnable [6f000..6fc08]
	at org.eclipse.swt.internal.win32.OS.WaitMessage(Native Method)
	at org.eclipse.swt.widgets.Display.sleep(Display.java:3386)
	at org.eclipse.ui.application.WorkbenchAdvisor.eventLoopIdle(WorkbenchAdvisor.java:333)
	at org.eclipse.ui.internal.Workbench.runEventLoop(Workbench.java:1700)
	at org.eclipse.ui.internal.Workbench.runUI(Workbench.java:1663)
	at org.eclipse.ui.internal.Workbench.createAndRunWorkbench(Workbench.java:367)
	at org.eclipse.ui.PlatformUI.createAndRunWorkbench(PlatformUI.java:143)
	at org.eclipse.ui.internal.ide.IDEApplication.run(IDEApplication.java:103)
	at org.eclipse.core.internal.runtime.PlatformActivator$1.run(PlatformActivator.java:226)
	at org.eclipse.core.runtime.adaptor.EclipseStarter.run(EclipseStarter.java:376)
	at org.eclipse.core.runtime.adaptor.EclipseStarter.run(EclipseStarter.java:163)
	at sun.reflect.NativeMethodAccessorImpl.invoke0(Native Method)
	at sun.reflect.NativeMethodAccessorImpl.invoke(Unknown Source)
	at sun.reflect.DelegatingMethodAccessorImpl.invoke(Unknown Source)
	at java.lang.reflect.Method.invoke(Unknown Source)
	at org.eclipse.core.launcher.Main.invokeFramework(Main.java:334)
	at org.eclipse.core.launcher.Main.basicRun(Main.java:278)
	at org.eclipse.core.launcher.Main.run(Main.java:973)
	at org.eclipse.core.launcher.Main.main(Main.java:948)

"VM Thread" prio=5 tid=0x009c76b0 nid=0xecc runnable 

"VM Periodic Task Thread" prio=10 tid=0x009c8958 nid=0x94c waiting on condition 
"Suspend Checker Thread" prio=10 tid=0x0098b7d0 nid=0xf68 runnable 

Correction:  Here is the thread dump during the 'stall':

Full thread dump Java HotSpot(TM) Client VM (1.4.2_10-b03 mixed mode):

"Stack Trace Remote Thread" prio=5 tid=0x044a6008 nid=0xd94 runnable [0..401fb7c]

"AutoAssist Delay" prio=7 tid=0x0326a008 nid=0xc60 in Object.wait() [3d2f000..3d2fd68]
	at java.lang.Object.wait(Native Method)
	- waiting on &lt;0x122dc890&gt; (a org.eclipse.swt.widgets.RunnableLock)
	at java.lang.Object.wait(Unknown Source)
	at org.eclipse.swt.widgets.Synchronizer.syncExec(Synchronizer.java:169)
	- locked &lt;0x122dc890&gt; (a org.eclipse.swt.widgets.RunnableLock)
	at org.eclipse.ui.internal.UISynchronizer.syncExec(UISynchronizer.java:28)
	at org.eclipse.swt.widgets.Display.syncExec(Display.java:3413)
	at org.eclipse.jface.text.contentassist.ContentAssistant$AutoAssistListener.showAssist(ContentAssistant.java:324)
	at org.eclipse.jface.text.contentassist.ContentAssistant$AutoAssistListener.run(ContentAssistant.java:246)
	at java.lang.Thread.run(Unknown Source)

"Worker-1" prio=5 tid=0x02db43f8 nid=0xfc0 waiting for monitor entry [3f5e000..3f5fd68]
	at org.eclipse.jdt.internal.core.JavaModelManager.intern(JavaModelManager.java:1713)
	- waiting to lock &lt;0x118c9bc0&gt; (a org.eclipse.jdt.internal.core.JavaModelManager)
	at org.eclipse.jdt.internal.core.JarPackageFragmentRoot.initPackageFragToTypes(JarPackageFragmentRoot.java:249)
	at org.eclipse.jdt.internal.core.JarPackageFragmentRoot.computeChildren(JarPackageFragmentRoot.java:91)
	at org.eclipse.jdt.internal.core.PackageFragmentRoot.buildStructure(PackageFragmentRoot.java:174)
	at org.eclipse.jdt.internal.core.Openable.generateInfos(Openable.java:233)
	at org.eclipse.jdt.internal.core.JarPackageFragment.generateInfos(JarPackageFragment.java:113)
	at org.eclipse.jdt.internal.core.JavaElement.openWhenClosed(JavaElement.java:488)
	at org.eclipse.jdt.internal.core.JavaElement.getElementInfo(JavaElement.java:232)
	at org.eclipse.jdt.internal.core.JavaElement.getElementInfo(JavaElement.java:218)
	at org.eclipse.jdt.internal.core.JavaElement.getChildren(JavaElement.java:173)
	at org.eclipse.jdt.internal.core.JavaElement.getChildrenOfType(JavaElement.java:187)
	at org.eclipse.jdt.internal.core.JarPackageFragment.getClassFiles(JarPackageFragment.java:120)
	at org.eclipse.jdt.internal.core.NameLookup.seekTypesInBinaryPackage(NameLookup.java:793)
	at org.eclipse.jdt.internal.core.NameLookup.seekTypes(NameLookup.java:769)
	at org.eclipse.jdt.internal.core.NameLookup.findType(NameLookup.java:542)
	at org.eclipse.jdt.internal.core.NameLookup.findType(NameLookup.java:501)
	at org.eclipse.jdt.internal.core.SearchableEnvironment.find(SearchableEnvironment.java:85)
	at org.eclipse.jdt.internal.core.SearchableEnvironment.findType(SearchableEnvironment.java:188)
	at org.eclipse.jdt.internal.core.CancelableNameEnvironment.findType(CancelableNameEnvironment.java:45)
	at org.eclipse.jdt.internal.compiler.lookup.LookupEnvironment.askForType(LookupEnvironment.java:119)
	at org.eclipse.jdt.internal.compiler.lookup.PackageBinding.getTypeOrPackage(PackageBinding.java:178)
	at org.eclipse.jdt.internal.compiler.lookup.Scope.getTypeOrPackage(Scope.java:2438)
	at org.eclipse.jdt.internal.compiler.lookup.Scope.getType(Scope.java:2177)
	at org.eclipse.jdt.internal.compiler.ast.SingleTypeReference.getTypeBinding(SingleTypeReference.java:39)
	at org.eclipse.jdt.internal.compiler.ast.TypeReference.resolveType(TypeReference.java:124)
	at org.eclipse.jdt.internal.compiler.ast.Argument.resolveForCatch(Argument.java:101)
	at org.eclipse.jdt.internal.compiler.ast.TryStatement.resolve(TryStatement.java:517)
	at org.eclipse.jdt.internal.compiler.ast.Block.resolve(Block.java:101)
	at org.eclipse.jdt.internal.compiler.ast.ForStatement.resolve(ForStatement.java:303)
	at org.eclipse.jdt.internal.compiler.ast.Block.resolveUsing(Block.java:115)
	at org.eclipse.jdt.internal.compiler.ast.TryStatement.resolve(TryStatement.java:504)
	at org.eclipse.jdt.internal.compiler.ast.AbstractMethodDeclaration.resolveStatements(AbstractMethodDeclaration.java:418)
	at org.eclipse.jdt.internal.compiler.ast.MethodDeclaration.resolveStatements(MethodDeclaration.java:178)
	at org.eclipse.jdt.internal.compiler.ast.AbstractMethodDeclaration.resolve(AbstractMethodDeclaration.java:396)
	at org.eclipse.jdt.internal.compiler.ast.TypeDeclaration.resolve(TypeDeclaration.java:1072)
	at org.eclipse.jdt.internal.compiler.ast.TypeDeclaration.resolve(TypeDeclaration.java:1121)
	at org.eclipse.jdt.internal.compiler.ast.CompilationUnitDeclaration.resolve(CompilationUnitDeclaration.java:305)
	at org.eclipse.jdt.core.dom.CompilationUnitResolver.resolve(CompilationUnitResolver.java:821)
	at org.eclipse.jdt.core.dom.CompilationUnitResolver.resolve(CompilationUnitResolver.java:498)
	at org.eclipse.jdt.core.dom.ASTParser.internalCreateAST(ASTParser.java:789)
	at org.eclipse.jdt.core.dom.ASTParser.createAST(ASTParser.java:588)
	at org.eclipse.jdt.internal.ui.javaeditor.ASTProvider$1.run(ASTProvider.java:566)
	at org.eclipse.core.internal.runtime.InternalPlatform.run(InternalPlatform.java:1044)
	at org.eclipse.core.runtime.Platform.run(Platform.java:783)
	at org.eclipse.jdt.internal.ui.javaeditor.ASTProvider.createAST(ASTProvider.java:563)
	at org.eclipse.jdt.internal.ui.javaeditor.ASTProvider.getAST(ASTProvider.java:493)
	at org.eclipse.jdt.internal.ui.viewsupport.SelectionListenerWithASTManager$PartListenerGroup.calculateASTandInform(SelectionListenerWithASTManager.java:165)
	at org.eclipse.jdt.internal.ui.viewsupport.SelectionListenerWithASTManager$3.run(SelectionListenerWithASTManager.java:142)
	- locked &lt;0x11a67e40&gt; (a java.lang.Object)
	at org.eclipse.core.internal.jobs.Worker.run(Worker.java:76)

"org.eclipse.jdt.internal.ui.text.JavaReconciler" daemon prio=2 tid=0x00a37658 nid=0xd24 runnable [3dbe000..3dbfd68]
	at java.util.zip.ZipFile.getNextEntry(Native Method)
	at java.util.zip.ZipFile.access$400(Unknown Source)
	at java.util.zip.ZipFile$2.nextElement(Unknown Source)
	- locked &lt;0x12690930&gt; (a java.util.zip.ZipFile)
	at org.eclipse.jdt.internal.core.JarPackageFragmentRoot.computeChildren(JarPackageFragmentRoot.java:86)
	at org.eclipse.jdt.internal.core.PackageFragmentRoot.buildStructure(PackageFragmentRoot.java:174)
	at org.eclipse.jdt.internal.core.Openable.generateInfos(Openable.java:233)
	at org.eclipse.jdt.internal.core.JarPackageFragment.generateInfos(JarPackageFragment.java:113)
	at org.eclipse.jdt.internal.core.JavaElement.openWhenClosed(JavaElement.java:488)
	at org.eclipse.jdt.internal.core.JavaElement.getElementInfo(JavaElement.java:232)
	at org.eclipse.jdt.internal.core.JavaElement.getElementInfo(JavaElement.java:218)
	at org.eclipse.jdt.internal.core.JavaElement.getChildren(JavaElement.java:173)
	at org.eclipse.jdt.internal.core.JavaElement.getChildrenOfType(JavaElement.java:187)
	at org.eclipse.jdt.internal.core.JarPackageFragment.getClassFiles(JarPackageFragment.java:120)
	at org.eclipse.jdt.internal.core.NameLookup.seekTypesInBinaryPackage(NameLookup.java:793)
	at org.eclipse.jdt.internal.core.NameLookup.seekTypes(NameLookup.java:769)
	at org.eclipse.jdt.internal.core.NameLookup.findType(NameLookup.java:542)
	at org.eclipse.jdt.internal.core.NameLookup.findType(NameLookup.java:501)
	at org.eclipse.jdt.internal.core.SearchableEnvironment.find(SearchableEnvironment.java:85)
	at org.eclipse.jdt.internal.core.SearchableEnvironment.findType(SearchableEnvironment.java:188)
	at org.eclipse.jdt.internal.core.CancelableNameEnvironment.findType(CancelableNameEnvironment.java:45)
	at org.eclipse.jdt.internal.compiler.lookup.LookupEnvironment.askForType(LookupEnvironment.java:119)
	at org.eclipse.jdt.internal.compiler.lookup.LookupEnvironment.getType(LookupEnvironment.java:741)
	at org.eclipse.jdt.internal.compiler.lookup.Scope.getJavaLangObject(Scope.java:2040)
	at org.eclipse.jdt.internal.compiler.lookup.ClassScope.connectSuperclass(ClassScope.java:763)
	at org.eclipse.jdt.internal.compiler.lookup.ClassScope.connectTypeHierarchy(ClassScope.java:947)
	at org.eclipse.jdt.internal.compiler.lookup.CompilationUnitScope.connectTypeHierarchy(CompilationUnitScope.java:258)
	at org.eclipse.jdt.internal.compiler.lookup.LookupEnvironment.completeTypeBindings(LookupEnvironment.java:195)
	at org.eclipse.jdt.internal.compiler.Compiler.resolve(Compiler.java:556)
	at org.eclipse.jdt.internal.core.CompilationUnitProblemFinder.process(CompilationUnitProblemFinder.java:175)
	at org.eclipse.jdt.internal.core.CompilationUnit.buildStructure(CompilationUnit.java:156)
	at org.eclipse.jdt.internal.core.Openable.generateInfos(Openable.java:233)
	at org.eclipse.jdt.internal.core.JavaElement.openWhenClosed(JavaElement.java:488)
	at org.eclipse.jdt.internal.core.CompilationUnit.makeConsistent(CompilationUnit.java:956)
	at org.eclipse.jdt.internal.core.ReconcileWorkingCopyOperation.executeOperation(ReconcileWorkingCopyOperation.java:61)
	at org.eclipse.jdt.internal.core.JavaModelOperation.run(JavaModelOperation.java:718)
	at org.eclipse.jdt.internal.core.JavaModelOperation.runOperation(JavaModelOperation.java:777)
	at org.eclipse.jdt.internal.core.CompilationUnit.reconcile(CompilationUnit.java:1081)
	at org.eclipse.jdt.internal.ui.text.java.JavaReconcilingStrategy$1.run(JavaReconcilingStrategy.java:98)
	- locked &lt;0x11959270&gt; (a org.eclipse.jdt.internal.core.CompilationUnit)
	at org.eclipse.core.internal.runtime.InternalPlatform.run(InternalPlatform.java:1044)
	at org.eclipse.core.runtime.Platform.run(Platform.java:783)
	at org.eclipse.jdt.internal.ui.text.java.JavaReconcilingStrategy.reconcile(JavaReconcilingStrategy.java:82)
	at org.eclipse.jdt.internal.ui.text.java.JavaReconcilingStrategy.reconcile(JavaReconcilingStrategy.java:147)
	at org.eclipse.jdt.internal.ui.text.CompositeReconcilingStrategy.reconcile(CompositeReconcilingStrategy.java:86)
	at org.eclipse.jdt.internal.ui.text.JavaCompositeReconcilingStrategy.reconcile(JavaCompositeReconcilingStrategy.java:94)
	at org.eclipse.jface.text.reconciler.MonoReconciler.process(MonoReconciler.java:75)
	at org.eclipse.jdt.internal.ui.text.JavaReconciler.process(JavaReconciler.java:339)
	- locked &lt;0x1190fee0&gt; (a java.lang.Object)
	at org.eclipse.jface.text.reconciler.AbstractReconciler$BackgroundThread.run(AbstractReconciler.java:204)

"Java indexing" daemon prio=4 tid=0x030c2ff8 nid=0xeb0 in Object.wait() [3d6f000..3d6fd68]
	at java.lang.Object.wait(Native Method)
	- waiting on &lt;0x118d15a8&gt; (a org.eclipse.jdt.internal.core.search.indexing.IndexManager)
	at java.lang.Object.wait(Unknown Source)
	at org.eclipse.jdt.internal.core.search.processing.JobManager.run(JobManager.java:349)
	- locked &lt;0x118d15a8&gt; (a org.eclipse.jdt.internal.core.search.indexing.IndexManager)
	at java.lang.Thread.run(Unknown Source)

"Worker-0" prio=5 tid=0x030947f0 nid=0x4d8 in Object.wait() [393f000..393fd68]
	at java.lang.Object.wait(Native Method)
	- waiting on &lt;0x114e4ce8&gt; (a org.eclipse.core.internal.jobs.WorkerPool)
	at org.eclipse.core.internal.jobs.WorkerPool.sleep(WorkerPool.java:173)
	- locked &lt;0x114e4ce8&gt; (a org.eclipse.core.internal.jobs.WorkerPool)
	at org.eclipse.core.internal.jobs.WorkerPool.startJob(WorkerPool.java:205)
	at org.eclipse.core.internal.jobs.Worker.run(Worker.java:69)

"Start Level Event Dispatcher" daemon prio=5 tid=0x00a07b38 nid=0xc78 in Object.wait() [305f000..305fd68]
	at java.lang.Object.wait(Native Method)
	- waiting on &lt;0x113e2278&gt; (a org.eclipse.osgi.framework.eventmgr.EventManager$EventThread)
	at java.lang.Object.wait(Unknown Source)
	at org.eclipse.osgi.framework.eventmgr.EventManager$EventThread.getNextEvent(EventManager.java:349)
	- locked &lt;0x113e2278&gt; (a org.eclipse.osgi.framework.eventmgr.EventManager$EventThread)
	at org.eclipse.osgi.framework.eventmgr.EventManager$EventThread.run(EventManager.java:287)

"Framework Event Dispatcher" daemon prio=5 tid=0x02e28738 nid=0xc40 in Object.wait() [301f000..301fd68]
	at java.lang.Object.wait(Native Method)
	- waiting on &lt;0x113e22c8&gt; (a org.eclipse.osgi.framework.eventmgr.EventManager$EventThread)
	at java.lang.Object.wait(Unknown Source)
	at org.eclipse.osgi.framework.eventmgr.EventManager$EventThread.getNextEvent(EventManager.java:349)
	- locked &lt;0x113e22c8&gt; (a org.eclipse.osgi.framework.eventmgr.EventManager$EventThread)
	at org.eclipse.osgi.framework.eventmgr.EventManager$EventThread.run(EventManager.java:287)

"State Data Manager" daemon prio=5 tid=0x02e2ed20 nid=0x380 waiting on condition [2fdf000..2fdfd68]
	at java.lang.Thread.sleep(Native Method)
	at org.eclipse.osgi.framework.adaptor.core.StateManager.run(StateManager.java:289)
	at java.lang.Thread.run(Unknown Source)

"Signal Dispatcher" daemon prio=10 tid=0x0098c268 nid=0xf00 runnable [0..0]

"Finalizer" daemon prio=9 tid=0x00989898 nid=0xd4 in Object.wait() [2c2f000..2c2fd68]
	at java.lang.Object.wait(Native Method)
	- waiting on &lt;0x113c02b0&gt; (a java.lang.ref.ReferenceQueue$Lock)
	at java.lang.ref.ReferenceQueue.remove(Unknown Source)
	- locked &lt;0x113c02b0&gt; (a java.lang.ref.ReferenceQueue$Lock)
	at java.lang.ref.ReferenceQueue.remove(Unknown Source)
	at java.lang.ref.Finalizer$FinalizerThread.run(Unknown Source)

"Reference Handler" daemon prio=10 tid=0x00988510 nid=0xb20 in Object.wait() [2bef000..2befd68]
	at java.lang.Object.wait(Native Method)
	- waiting on &lt;0x113c00c8&gt; (a java.lang.ref.Reference$Lock)
	at java.lang.Object.wait(Unknown Source)
	at java.lang.ref.Reference$ReferenceHandler.run(Unknown Source)
	- locked &lt;0x113c00c8&gt; (a java.lang.ref.Reference$Lock)

"main" prio=7 tid=0x00355d00 nid=0x538 runnable [6e000..6fc08]
	at org.eclipse.jdt.internal.core.JavaModelManager.removeInfoAndChildren(JavaModelManager.java:2077)
	- waiting to lock &lt;0x118c9bc0&gt; (a org.eclipse.jdt.internal.core.JavaModelManager)
	at org.eclipse.jdt.internal.core.JavaElement.close(JavaElement.java:75)
	at org.eclipse.jdt.internal.core.JavaModelManager.removeInfoAndChildren(JavaModelManager.java:2111)
	- locked &lt;0x118c9bc0&gt; (a org.eclipse.jdt.internal.core.JavaModelManager)
	at org.eclipse.jdt.internal.core.JavaElement.close(JavaElement.java:75)
	at org.eclipse.jdt.internal.core.JavaModelManager.removeInfoAndChildren(JavaModelManager.java:2111)
	- locked &lt;0x118c9bc0&gt; (a org.eclipse.jdt.internal.core.JavaModelManager)
	at org.eclipse.jdt.internal.core.JavaElement.close(JavaElement.java:75)
	at org.eclipse.jdt.internal.core.ElementCache.close(ElementCache.java:53)
	at org.eclipse.jdt.internal.core.OverflowingLRUCache.privateRemoveEntry(OverflowingLRUCache.java:295)
	at org.eclipse.jdt.internal.core.OverflowingLRUCache.makeSpace(OverflowingLRUCache.java:183)
	at org.eclipse.jdt.internal.core.OverflowingLRUCache.put(OverflowingLRUCache.java:362)
	at org.eclipse.jdt.internal.core.JavaModelCache.putInfo(JavaModelCache.java:128)
	at org.eclipse.jdt.internal.core.JavaModelManager.putInfos(JavaModelManager.java:1973)
	- locked &lt;0x118c9bc0&gt; (a org.eclipse.jdt.internal.core.JavaModelManager)
	at org.eclipse.jdt.internal.core.JavaElement.openWhenClosed(JavaElement.java:502)
	at org.eclipse.jdt.internal.core.JavaElement.getElementInfo(JavaElement.java:232)
	at org.eclipse.jdt.internal.core.JavaElement.getElementInfo(JavaElement.java:218)
	at org.eclipse.jdt.internal.core.JavaElement.getChildren(JavaElement.java:173)
	at org.eclipse.jdt.internal.core.JavaElement.getChildrenOfType(JavaElement.java:187)
	at org.eclipse.jdt.internal.core.JarPackageFragment.getClassFiles(JarPackageFragment.java:120)
	at org.eclipse.jdt.internal.core.NameLookup.seekTypesInBinaryPackage(NameLookup.java:793)
	at org.eclipse.jdt.internal.core.NameLookup.seekTypes(NameLookup.java:769)
	at org.eclipse.jdt.internal.core.NameLookup.findType(NameLookup.java:542)
	at org.eclipse.jdt.internal.core.NameLookup.findType(NameLookup.java:501)
	at org.eclipse.jdt.internal.core.SearchableEnvironment.find(SearchableEnvironment.java:85)
	at org.eclipse.jdt.internal.core.SearchableEnvironment.findType(SearchableEnvironment.java:188)
	at org.eclipse.jdt.internal.compiler.lookup.LookupEnvironment.askForType(LookupEnvironment.java:119)
	at org.eclipse.jdt.internal.compiler.lookup.PackageBinding.getTypeOrPackage(PackageBinding.java:178)
	at org.eclipse.jdt.internal.compiler.lookup.Scope.getTypeOrPackage(Scope.java:2438)
	at org.eclipse.jdt.internal.compiler.lookup.Scope.getType(Scope.java:2177)
	at org.eclipse.jdt.internal.compiler.ast.SingleTypeReference.getTypeBinding(SingleTypeReference.java:39)
	at org.eclipse.jdt.internal.compiler.ast.TypeReference.resolveType(TypeReference.java:124)
	at org.eclipse.jdt.internal.compiler.lookup.SourceTypeBinding.resolveTypesFor(SourceTypeBinding.java:1248)
	at org.eclipse.jdt.internal.compiler.lookup.SourceTypeBinding.methods(SourceTypeBinding.java:1011)
	at org.eclipse.jdt.internal.compiler.lookup.SourceTypeBinding.faultInTypesForFieldsAndMethods(SourceTypeBinding.java:617)
	at org.eclipse.jdt.internal.compiler.lookup.CompilationUnitScope.faultInTypes(CompilationUnitScope.java:397)
	at org.eclipse.jdt.internal.codeassist.CompletionEngine.complete(CompletionEngine.java:1513)
	at org.eclipse.jdt.internal.core.Openable.codeComplete(Openable.java:128)
	at org.eclipse.jdt.internal.core.CompilationUnit.codeComplete(CompilationUnit.java:301)
	at org.eclipse.jdt.internal.core.CompilationUnit.codeComplete(CompilationUnit.java:294)
	at org.eclipse.jdt.internal.ui.text.java.JavaCompletionProcessor.internalComputeCompletionProposals(JavaCompletionProcessor.java:336)
	at org.eclipse.jdt.internal.ui.text.java.JavaCompletionProcessor.computeCompletionProposals(JavaCompletionProcessor.java:313)
	at org.eclipse.jface.text.contentassist.ContentAssistant.computeCompletionProposals(ContentAssistant.java:1503)
	at org.eclipse.jface.text.contentassist.CompletionProposalPopup.computeProposals(CompletionProposalPopup.java:301)
	at org.eclipse.jface.text.contentassist.CompletionProposalPopup.access$13(CompletionProposalPopup.java:298)
	at org.eclipse.jface.text.contentassist.CompletionProposalPopup$2.run(CompletionProposalPopup.java:261)
	at org.eclipse.swt.custom.BusyIndicator.showWhile(BusyIndicator.java:69)
	at org.eclipse.jface.text.contentassist.CompletionProposalPopup.showProposals(CompletionProposalPopup.java:256)
	at org.eclipse.jface.text.contentassist.ContentAssistant$2.run(ContentAssistant.java:327)
	at org.eclipse.swt.widgets.RunnableLock.run(RunnableLock.java:35)
	at org.eclipse.swt.widgets.Synchronizer.runAsyncMessages(Synchronizer.java:123)
	- locked &lt;0x122dc890&gt; (a org.eclipse.swt.widgets.RunnableLock)
	at org.eclipse.swt.widgets.Display.runAsyncMessages(Display.java:3057)
	at org.eclipse.swt.widgets.Display.readAndDispatch(Display.java:2716)
	at org.eclipse.ui.internal.Workbench.runEventLoop(Workbench.java:1699)
	at org.eclipse.ui.internal.Workbench.runUI(Workbench.java:1663)
	at org.eclipse.ui.internal.Workbench.createAndRunWorkbench(Workbench.java:367)
	at org.eclipse.ui.PlatformUI.createAndRunWorkbench(PlatformUI.java:143)
	at org.eclipse.ui.internal.ide.IDEApplication.run(IDEApplication.java:103)
	at org.eclipse.core.internal.runtime.PlatformActivator$1.run(PlatformActivator.java:226)
	at org.eclipse.core.runtime.adaptor.EclipseStarter.run(EclipseStarter.java:376)
	at org.eclipse.core.runtime.adaptor.EclipseStarter.run(EclipseStarter.java:163)
	at sun.reflect.NativeMethodAccessorImpl.invoke0(Native Method)
	at sun.reflect.NativeMethodAccessorImpl.invoke(Unknown Source)
	at sun.reflect.DelegatingMethodAccessorImpl.invoke(Unknown Source)
	at java.lang.reflect.Method.invoke(Unknown Source)
	at org.eclipse.core.launcher.Main.invokeFramework(Main.java:334)
	at org.eclipse.core.launcher.Main.basicRun(Main.java:278)
	at org.eclipse.core.launcher.Main.run(Main.java:973)
	at org.eclipse.core.launcher.Main.main(Main.java:948)

"VM Thread" prio=5 tid=0x009c76b0 nid=0xecc runnable 

"VM Periodic Task Thread" prio=10 tid=0x009c8958 nid=0x94c waiting on condition 
"Suspend Checker Thread" prio=10 tid=0x0098b7d0 nid=0xf68 runnable 

(In reply to comment #6)
&gt; I cannot reproduce the problem. The problem is probably due to something
&gt; specific in your project or eclipse configuration.
&gt; When you reproduce the problem could you do a thread dump and add it to this
&gt; bug report ? With this thread dump i could see where the time is spend.
&gt; Another solution would be to give me the offending project if you can.

Any luck with the thread dump?
From the thread dump, it looks like a dup of bug 121652.
Can you please try with one of the latest integration builds (e.g. I20060216-0010) or with 3.2 M5 when it is available (end of the week) ?
i was never able to reproduce the problem and it's probably a duplicate of bug 121652.

If you can reproduce the problem with a recent build, reopen this bug.


As of now 'LATER' and 'REMIND' resolutions are no longer supported.
Please reopen this bug if it is still valid for you.</WithOutStack>
  </Bug>
  <Bug>
    <BugId amount="120420" />
    <CreationDate amount="2005-12-12 13:32:00 -0500" />
    <DupId amount="" />
    <classification amount="Eclipse" />
    <Product amount="JDT" />
    <component amount="Text" />
    <Version amount="3.2" />
    <rep_platform amount="PC" />
    <op_sys amount="Windows XP" />
    <priority amount="P3" />
    <bug_severity amount="enhancement" />
    <Summery>[templates] JavaBean property templates needed</Summery>
    <Patches amount="0" />
    <Stacktraces amount="0" />
    <SourceCodeRegions amount="13">
      <source_code type="multicomment">
        <location start="237" end="400" />
        <code>/**
 * Method get${Uppercase_name}.  Getter for "${Lowercase_name}" property.
 *
 * @return ${Type_name} returns the value of the "${Lowercase_name}" property.
 */</code>
      </source_code>
      <source_code type="multicomment">
        <location start="475" end="644" />
        <code>/**
 * Method set${Uppercase_name}.  Setter for "${Lowercase_name}" property.
 *
 * @param newValue the new ${Type_name} value for the "${Lowercase_name}" property.
 */</code>
      </source_code>
      <source_code type="assignment">
        <location start="703" end="751" />
        <code>${Type_name} oldValue = this.${Lowercase_name};</code>
      </source_code>
      <source_code type="assignment">
        <location start="752" end="787" />
        <code>this.${Lowercase_name} = newValue;</code>
      </source_code>
      <source_code type="functioncall">
        <location start="788" end="849" />
        <code>firePropertyChange("${Lowercase_name}", oldValue, newValue);</code>
      </source_code>
      <source_code type="multicomment">
        <location start="1010" end="1174" />
        <code>/**
 * Method get${Uppercase_name}.  Getter for "${Lowercase_name}" property.
 *
 * @return ${Type_name} returns the value of the "${Lowercase_name}" property.
 */</code>
      </source_code>
      <source_code type="multicomment">
        <location start="1249" end="1418" />
        <code>/**
 * Method set${Uppercase_name}.  Setter for "${Lowercase_name}" property.
 *
 * @param newValue the new ${Type_name} value for the "${Lowercase_name}" property.
 */</code>
      </source_code>
      <source_code type="assignment">
        <location start="1477" end="1525" />
        <code>${Type_name} oldValue = this.${Lowercase_name};</code>
      </source_code>
      <source_code type="assignment">
        <location start="1526" end="1561" />
        <code>this.${Lowercase_name} = newValue;</code>
      </source_code>
      <source_code type="functioncall">
        <location start="1562" end="1623" />
        <code>firePropertyChange("${Lowercase_name}", oldValue, newValue);</code>
      </source_code>
      <source_code type="functiondef">
        <location start="3450" end="3676" />
        <code>If you have a look at the code templates (Java &gt; Code Style &gt; Code Teamplates), you can already define getter and setter bodies and comments. You can change them to what you suggets, but we're missing the variable ${Type_name}</code>
      </source_code>
      <source_code type="functioncall">
        <location start="8120" end="8165" />
        <code>private ${elemType:nv} ${nv:newName(Object)};</code>
      </source_code>
      <source_code type="assignment">
        <location start="8288" end="8358" />
        <code>${cursor}firePropertyChange("${nv}", this.${nv}, this.${nv} = ${nv});</code>
      </source_code>
    </SourceCodeRegions>
    <Enumerations amount="0" />
    <bug_status amount="ASSIGNED" />
    <resolution amount="" />
    <WithStack>The new data binding support requires creating bound properties in order to work well with Java beans.  The following two templates make this job much easier:

boundGetSet: (a bound JavaBeans getter/setter pair)
------------------------
/**
 * Method get${Uppercase_name}.  Getter for "${Lowercase_name}" property.
 *
 * @return ${Type_name} returns the value of the "${Lowercase_name}" property.
 */
public ${Type_name} get${Uppercase_name}() {
	return ${Lowercase_name};
}

/**
 * Method set${Uppercase_name}.  Setter for "${Lowercase_name}" property.
 *
 * @param newValue the new ${Type_name} value for the "${Lowercase_name}" property.
 */
public void set${Uppercase_name}(${Type_name} newValue) {
	${Type_name} oldValue = this.${Lowercase_name};
	this.${Lowercase_name} = newValue;
	firePropertyChange("${Lowercase_name}", oldValue, newValue);
}

	${cursor}
------------------------

boundProp: A bound property (requires property change support)
------------------------
${Type_name} ${Lowercase_name};

/**
 * Method get${Uppercase_name}.  Getter for "${Lowercase_name}" property.
 *
 * @return ${Type_name} returns the value of the "${Lowercase_name}" property.
 */
public ${Type_name} get${Uppercase_name}() {
	return ${Lowercase_name};
}

/**
 * Method set${Uppercase_name}.  Setter for "${Lowercase_name}" property.
 *
 * @param newValue the new ${Type_name} value for the "${Lowercase_name}" property.
 */
public void set${Uppercase_name}(${Type_name} newValue) {
	${Type_name} oldValue = this.${Lowercase_name};
	this.${Lowercase_name} = newValue;
	firePropertyChange("${Lowercase_name}", oldValue, newValue);
}

	${cursor}
------------------------
Since we already have a 'Generate Getters and Setters' dialog it should be added there.
The code templates of the getter/setter wizard can be defined on the 'code templates' page, but they are not too flexible, e.g. missing the field type. But the question is, would you create all getters and setters like this?

The alternative is to have what you're suggesting as one big editor template. I don't think Eclipse should offer something like that by default. But users are free to add usch a template.

Suggest to set to WON'T FIX. Speak up if adding the field type as getter/setter variable would be useful.
Right now you can create getters/setters either through the dialog or by creating the field, then typing something like:

getFirstName|

and hitting ctrl-space.  The "get method" template will be an element in the list.

The problem with this is that it doesn't include firePropertyChange(...) calls if the property is supposed to be a bound property.  For getters and setters, it also is possible to generate complete and correct JavaDoc--ie: more then the generic method JavaDoc we generate right now.

So it would be nice for the dialog to have a check box for including the firePropertyChange calls and for the code templates that are used be able to generate complete JavaDoc.

Also, I'd like to see the editor templates pasted in below included by default.  I think this should be a part of the default distribution because JavaBeans is a Java language standard, and because it's something that is very useful to have if you are building a POJO-based model.


About your question, I'm not sure I understand what you're asking about the field type?  Right now, the property type is inferred from the underlying field's data type.  Please help me understand your question?

If you have a look at the code templates (Java &gt; Code Style &gt; Code Teamplates), you can already define getter and setter bodies and comments. You can change them to what you suggets, but we're missing the variable ${Type_name}. We could add it. But it would still require that users change them. We can't set that as default, as not everybody is doing beans development.
But extending the getter/setter wizard with a extra checkbox, 'add method firePropertyChange' would be doable. But I guess that would also mean to manage listeners ect ect. Then I would rather prefer that an extra 'Beans' plugin offers this support.

(In reply to comment #4)
&gt; If you have a look at the code templates (Java &gt; Code Style &gt; Code Teamplates),
&gt; you can already define getter and setter bodies and comments. You can change
&gt; them to what you suggets...&lt;/snip&gt;

I could.  But I don't want to because sometimes I need just a plain getter or setter.  What I really want is both. :-)

&gt;, but we're missing the variable ${Type_name}. We could
&gt; add it. But it would still require that users change them. We can't set that as
&gt; default, as not everybody is doing beans development.

True enough.  But if you provided both the plain vanilla getter and the bound property getter (for example), maybe this is moot?

&gt; But extending the getter/setter wizard with a extra checkbox, 'add method
&gt; firePropertyChange' would be doable. But I guess that would also mean to manage
&gt; listeners ect ect. Then I would rather prefer that an extra 'Beans' plugin
&gt; offers this support.

There are enough different ways of actually writing the addPropertyChangeListener() type methods that I don't see tooling for that part.  A lot of times you just have a ModelObject that defines it once and just inherit from that.  I personally find that the repetitive part is the getter/setter pairs.  That's where I'd experience the most benefit from having tool support.

I think the only way to implement this is to add a checkbox to the getter/setter wizard: Create setter with notification.
If selected, all setters are created with the call to fire (not using the setter code template anymore). The fire method is created in not yet existing.

The problem with this is that this asks for more configurability with the fire and add/remove listener methods. It would be a special support for beans.

I'm close to set this to WONTFIX as we normally avoid all specialized support. But I see that this could be handy.
(In reply to comment #6)
&gt; I think the only way to implement this is to add a checkbox to the
&gt; getter/setter wizard: Create setter with notification.
&gt; If selected, all setters are created with the call to fire (not using the
&gt; setter code template anymore). The fire method is created in not yet existing.

A second way to implement this is to simply include the code templates I contributed in the original request in the default Eclipse distribution.  

Although I'd love to have the additional capabilities in the "Generate Getter/Setter Pair" dialog that we have discussed, I would be happy enough with just the templates I contributed above.

It's almost no work to include them, requires zero unit tests, zero ongoing maintanence, conforms to the JavaBean Java standard, and makes bean developers happy.  What could be better?  :-)

&gt; The problem with this is that this asks for more configurability with the fire
&gt; and add/remove listener methods. It would be a special support for beans.
&gt; 
&gt; I'm close to set this to WONTFIX as we normally avoid all specialized support.
&gt; But I see that this could be handy.

It seems that you're responding to the suggestion to add bound property support to the "Generate Getter/Setter pair" dialog box.  Please note that this is not the request I made when I opened this bug.  I have opened bug 148534 to track that idea.

Let's please address the original request I made--complete with a patch to make your life as easy as possible. :-)

Do you mean code templates or editor templates?
Code templates like the getter body is used by the setter/getter dialog. Changing these templates would result that every setter created is created with a 'fire'.
The fire method itself couldn't be created like that.

If it's an editor template, yes, that's easy to add. The only problem is that its hard to find for the user. 
ok, from bug 148534 I think you meant 'editor template'. Bug 148534 covers the request for the getter/setter dialog.
Sorry--I mean editor templates. :-)  Thanks!
*** Bug 165896 has been marked as a duplicate of this bug. ***
This would be possible in Java editor templates if a variable were provided for capitalizing another variable:

private ${elemType:nv} ${nv:newName(Object)};

public ${elemType:nv} get${capitalize:nv}() {
	return ${nv};
}

public void set${capitalize:nv}( ${elemType:nv} ${nv}) {
	${cursor}firePropertyChange("${nv}", this.${nv}, this.${nv} = ${nv});
}

See http://eclipse.dzone.com/news/effective-eclipse-custom-templ#comment-1511
Hi Matthew

&gt; This would be possible in Java editor templates if a variable were provided for
&gt; capitalizing another variable:

We have no plans for this, but if you want and if you have time you can provide a patch which will add such a variable. It's quite simple to do, have a look at our blog to see how:

http://dev.eclipse.org/blogs/jdtui/2007/12/04/text-templates-2/

Instead of a variable 'capitalize' you could also provide two variables: 'newGetterName', 'newSetterName', both taking a variable as parameter. 'capitalize' would be more flexible though.

Benno</WithStack>
    <WithOutStack>The new data binding support requires creating bound properties in order to work well with Java beans.  The following two templates make this job much easier:

boundGetSet: (a bound JavaBeans getter/setter pair)
------------------------
/**
 * Method get${Uppercase_name}.  Getter for "${Lowercase_name}" property.
 *
 * @return ${Type_name} returns the value of the "${Lowercase_name}" property.
 */
public ${Type_name} get${Uppercase_name}() {
	return ${Lowercase_name};
}

/**
 * Method set${Uppercase_name}.  Setter for "${Lowercase_name}" property.
 *
 * @param newValue the new ${Type_name} value for the "${Lowercase_name}" property.
 */
public void set${Uppercase_name}(${Type_name} newValue) {
	${Type_name} oldValue = this.${Lowercase_name};
	this.${Lowercase_name} = newValue;
	firePropertyChange("${Lowercase_name}", oldValue, newValue);
}

	${cursor}
------------------------

boundProp: A bound property (requires property change support)
------------------------
${Type_name} ${Lowercase_name};

/**
 * Method get${Uppercase_name}.  Getter for "${Lowercase_name}" property.
 *
 * @return ${Type_name} returns the value of the "${Lowercase_name}" property.
 */
public ${Type_name} get${Uppercase_name}() {
	return ${Lowercase_name};
}

/**
 * Method set${Uppercase_name}.  Setter for "${Lowercase_name}" property.
 *
 * @param newValue the new ${Type_name} value for the "${Lowercase_name}" property.
 */
public void set${Uppercase_name}(${Type_name} newValue) {
	${Type_name} oldValue = this.${Lowercase_name};
	this.${Lowercase_name} = newValue;
	firePropertyChange("${Lowercase_name}", oldValue, newValue);
}

	${cursor}
------------------------
Since we already have a 'Generate Getters and Setters' dialog it should be added there.
The code templates of the getter/setter wizard can be defined on the 'code templates' page, but they are not too flexible, e.g. missing the field type. But the question is, would you create all getters and setters like this?

The alternative is to have what you're suggesting as one big editor template. I don't think Eclipse should offer something like that by default. But users are free to add usch a template.

Suggest to set to WON'T FIX. Speak up if adding the field type as getter/setter variable would be useful.
Right now you can create getters/setters either through the dialog or by creating the field, then typing something like:

getFirstName|

and hitting ctrl-space.  The "get method" template will be an element in the list.

The problem with this is that it doesn't include firePropertyChange(...) calls if the property is supposed to be a bound property.  For getters and setters, it also is possible to generate complete and correct JavaDoc--ie: more then the generic method JavaDoc we generate right now.

So it would be nice for the dialog to have a check box for including the firePropertyChange calls and for the code templates that are used be able to generate complete JavaDoc.

Also, I'd like to see the editor templates pasted in below included by default.  I think this should be a part of the default distribution because JavaBeans is a Java language standard, and because it's something that is very useful to have if you are building a POJO-based model.


About your question, I'm not sure I understand what you're asking about the field type?  Right now, the property type is inferred from the underlying field's data type.  Please help me understand your question?

If you have a look at the code templates (Java &gt; Code Style &gt; Code Teamplates), you can already define getter and setter bodies and comments. You can change them to what you suggets, but we're missing the variable ${Type_name}. We could add it. But it would still require that users change them. We can't set that as default, as not everybody is doing beans development.
But extending the getter/setter wizard with a extra checkbox, 'add method firePropertyChange' would be doable. But I guess that would also mean to manage listeners ect ect. Then I would rather prefer that an extra 'Beans' plugin offers this support.

(In reply to comment #4)
&gt; If you have a look at the code templates (Java &gt; Code Style &gt; Code Teamplates),
&gt; you can already define getter and setter bodies and comments. You can change
&gt; them to what you suggets...&lt;/snip&gt;

I could.  But I don't want to because sometimes I need just a plain getter or setter.  What I really want is both. :-)

&gt;, but we're missing the variable ${Type_name}. We could
&gt; add it. But it would still require that users change them. We can't set that as
&gt; default, as not everybody is doing beans development.

True enough.  But if you provided both the plain vanilla getter and the bound property getter (for example), maybe this is moot?

&gt; But extending the getter/setter wizard with a extra checkbox, 'add method
&gt; firePropertyChange' would be doable. But I guess that would also mean to manage
&gt; listeners ect ect. Then I would rather prefer that an extra 'Beans' plugin
&gt; offers this support.

There are enough different ways of actually writing the addPropertyChangeListener() type methods that I don't see tooling for that part.  A lot of times you just have a ModelObject that defines it once and just inherit from that.  I personally find that the repetitive part is the getter/setter pairs.  That's where I'd experience the most benefit from having tool support.

I think the only way to implement this is to add a checkbox to the getter/setter wizard: Create setter with notification.
If selected, all setters are created with the call to fire (not using the setter code template anymore). The fire method is created in not yet existing.

The problem with this is that this asks for more configurability with the fire and add/remove listener methods. It would be a special support for beans.

I'm close to set this to WONTFIX as we normally avoid all specialized support. But I see that this could be handy.
(In reply to comment #6)
&gt; I think the only way to implement this is to add a checkbox to the
&gt; getter/setter wizard: Create setter with notification.
&gt; If selected, all setters are created with the call to fire (not using the
&gt; setter code template anymore). The fire method is created in not yet existing.

A second way to implement this is to simply include the code templates I contributed in the original request in the default Eclipse distribution.  

Although I'd love to have the additional capabilities in the "Generate Getter/Setter Pair" dialog that we have discussed, I would be happy enough with just the templates I contributed above.

It's almost no work to include them, requires zero unit tests, zero ongoing maintanence, conforms to the JavaBean Java standard, and makes bean developers happy.  What could be better?  :-)

&gt; The problem with this is that this asks for more configurability with the fire
&gt; and add/remove listener methods. It would be a special support for beans.
&gt; 
&gt; I'm close to set this to WONTFIX as we normally avoid all specialized support.
&gt; But I see that this could be handy.

It seems that you're responding to the suggestion to add bound property support to the "Generate Getter/Setter pair" dialog box.  Please note that this is not the request I made when I opened this bug.  I have opened bug 148534 to track that idea.

Let's please address the original request I made--complete with a patch to make your life as easy as possible. :-)

Do you mean code templates or editor templates?
Code templates like the getter body is used by the setter/getter dialog. Changing these templates would result that every setter created is created with a 'fire'.
The fire method itself couldn't be created like that.

If it's an editor template, yes, that's easy to add. The only problem is that its hard to find for the user. 
ok, from bug 148534 I think you meant 'editor template'. Bug 148534 covers the request for the getter/setter dialog.
Sorry--I mean editor templates. :-)  Thanks!
*** Bug 165896 has been marked as a duplicate of this bug. ***
This would be possible in Java editor templates if a variable were provided for capitalizing another variable:

private ${elemType:nv} ${nv:newName(Object)};

public ${elemType:nv} get${capitalize:nv}() {
	return ${nv};
}

public void set${capitalize:nv}( ${elemType:nv} ${nv}) {
	${cursor}firePropertyChange("${nv}", this.${nv}, this.${nv} = ${nv});
}

See http://eclipse.dzone.com/news/effective-eclipse-custom-templ#comment-1511
Hi Matthew

&gt; This would be possible in Java editor templates if a variable were provided for
&gt; capitalizing another variable:

We have no plans for this, but if you want and if you have time you can provide a patch which will add such a variable. It's quite simple to do, have a look at our blog to see how:

http://dev.eclipse.org/blogs/jdtui/2007/12/04/text-templates-2/

Instead of a variable 'capitalize' you could also provide two variables: 'newGetterName', 'newSetterName', both taking a variable as parameter. 'capitalize' would be more flexible though.

Benno</WithOutStack>
  </Bug>
  <Bug>
    <BugId amount="120421" />
    <CreationDate amount="2005-12-12 13:43:00 -0500" />
    <DupId amount="" />
    <classification amount="Eclipse" />
    <Product amount="Platform" />
    <component amount="User Assistance" />
    <Version amount="3.2" />
    <rep_platform amount="All" />
    <op_sys amount="All" />
    <priority amount="P3" />
    <bug_severity amount="normal" />
    <Summery>[Help] Search progress monitoring stays at 0%</Summery>
    <Patches amount="0" />
    <Stacktraces amount="0" />
    <SourceCodeRegions amount="0" />
    <Enumerations amount="0" />
    <bug_status amount="VERIFIED" />
    <resolution amount="FIXED" />
    <WithStack>Start with a clean workspace, close the welcome and invoke context help (F1). You see the Help view appear and it starts doing a search in the background.

However, the progress monitoring for the job stays at 0% until it's done. The reason is that this job (search) depends on another job (indexing) that's also running in the background, but that you don't see until you open the progress view. I'm guessing there's a way to specify that the background job is actually part of the larger job, and that we could accurately reflect the progress here.
*** Bug 140198 has been marked as a duplicate of this bug. ***
Adam to investigate.
Created attachment 59417
Makes the dynamic search a system job

Since the dynamic search is a simple index lookup it's duration will always be negligable. The bulk of the execution time comes from performing the indexing. The reason the indexing progress is not displayed is that its job is invoked after the search job.

Since the actual search time is negligable, its job has been made a system job. Thus, the UI will not display its progress and only the index progress will be shown to the user.
Patch applied.

While I was at it, I also changed the label from "Help Indexer" to "Indexing help..." to reflect what it's doing, as opposed to what it is.
Verified in I20070608-1718.</WithStack>
    <WithOutStack>Start with a clean workspace, close the welcome and invoke context help (F1). You see the Help view appear and it starts doing a search in the background.

However, the progress monitoring for the job stays at 0% until it's done. The reason is that this job (search) depends on another job (indexing) that's also running in the background, but that you don't see until you open the progress view. I'm guessing there's a way to specify that the background job is actually part of the larger job, and that we could accurately reflect the progress here.
*** Bug 140198 has been marked as a duplicate of this bug. ***
Adam to investigate.
Created attachment 59417
Makes the dynamic search a system job

Since the dynamic search is a simple index lookup it's duration will always be negligable. The bulk of the execution time comes from performing the indexing. The reason the indexing progress is not displayed is that its job is invoked after the search job.

Since the actual search time is negligable, its job has been made a system job. Thus, the UI will not display its progress and only the index progress will be shown to the user.
Patch applied.

While I was at it, I also changed the label from "Help Indexer" to "Indexing help..." to reflect what it's doing, as opposed to what it is.
Verified in I20070608-1718.</WithOutStack>
  </Bug>
  <Bug>
    <BugId amount="120422" />
    <CreationDate amount="2005-12-12 13:47:00 -0500" />
    <DupId amount="" />
    <classification amount="Eclipse" />
    <Product amount="Platform" />
    <component amount="SWT" />
    <Version amount="3.2" />
    <rep_platform amount="PC" />
    <op_sys amount="Windows XP" />
    <priority amount="P3" />
    <bug_severity amount="enhancement" />
    <Summery>Ship Mozilla/Firefox plug-in on all platforms</Summery>
    <Patches amount="0" />
    <Stacktraces amount="0" />
    <SourceCodeRegions amount="0" />
    <Enumerations amount="0" />
    <bug_status amount="RESOLVED" />
    <resolution amount="WONTFIX" />
    <WithStack>Split from bug 72487 comment #35:
Ship a self contained gecko plug-in with Eclipse so RCP apps can count on a certain level of HTML/CSS rendering functionality without requiring the user to have something else installed on their machine (esp. on Linux).

MPL vs. EPL might be a problem but they're not that far apart... perhaps they are 'linkage' and 'distribution' compatible?

This should use an extension point API so that other HTML renderers could be added in the future. As a proof of concept, supply an example that works with the WebRenderer component too.
By definition, the Browser widget of SWT is the native browser widget for the platform.  For example, on Windows it is IE.  So, this is a request for a new widget based only on Mozilla.

Probably the best design would be to have a minimal SWT Mozilla binding control, allowing clients to then speak directly to a generic XPCOM Java binding.

There are issues with shipping our own copy of Mozilla: it is large, and is often updated to address security issues, which does not work well with the Eclipse release cycle.
Let's keep this all in the same bug.

*** This bug has been marked as a duplicate of 79213 ***
I don't think so. In bug 79213 you wrote:
"Note that this would be dependent on a XULRunner or other embeddable Mozilla
installed on each platform.  Firefox as shipped from mozilla.org is statically
linked and not usable for embedding."

If you add that note, then this bug (bug 120422) is not a duplicate because I wrote in the description: "without requiring the user to have something else installed on their machine".
Well, step one would be getting an API that actually requires mozilla, but if you really want, we can reopen this one, make it depend on the other, and retitle it to "ship Mozilla on all platforms"...
Sounds good, though it's not shipping all of Mozilla, just a gecko plug-in.
What, "ship Mozilla on all platforms"?  There are numerous problems doing this so don't bother reopening this one.
So reopen and mark it wontfix or invalid or getlost or something. It's just not a duplicate, that's all I'm saying. Billy wants us to be clear, so I'm being clear. :)
Reopening to close WONTFIX then.
WONTFIX, for clarity.
FWIW, Firefox is a brand, not a runtime of its own.
Please do not hide behind the rhetorics.

As far as I can tell (and as far as it might be reasonable) this bug is all about providing an official gecko rendering engine plugin for eclipse.

I can imagine more than one occasion where such a plugin would be highly useful.

First of all - this plugin would allow more ontrol over a browser widget than current lowest common denominator that the Browser widget is.

By bundling known stable rendering engine release from mozilla.org in a plugin, You could provide (for those who need it) a stable and truly crossplatform implementation of a browser widget with full access to the underlying DOM tree and event model.

There are plenty of things that could be achieved with this knd of approach.
Besides having just a simple (albeit powerful) crossplatform bowser widget I can imagine a direct access to XUL toolkit, allowing to merge together the best of the two worlds into one single framework - a Java language ease and Eclipse community at one side and the power of the XUL toolkit for building rich crossplatform and themable (read: "branding") UI on the other.

The plugin this bug talks about would be just the starting point - the lowest possible level of API to support building more powerful high-end API's upon.

It also would be a separate feature/plugin to be downloaded and installed separately by only those who need it (somewhat like the WebDAV/FTP support is a separate download)
Rolan, please read bug 79213, add youself and add your comments there if they have not already been covered by the discussion in that bug report.</WithStack>
    <WithOutStack>Split from bug 72487 comment #35:
Ship a self contained gecko plug-in with Eclipse so RCP apps can count on a certain level of HTML/CSS rendering functionality without requiring the user to have something else installed on their machine (esp. on Linux).

MPL vs. EPL might be a problem but they're not that far apart... perhaps they are 'linkage' and 'distribution' compatible?

This should use an extension point API so that other HTML renderers could be added in the future. As a proof of concept, supply an example that works with the WebRenderer component too.
By definition, the Browser widget of SWT is the native browser widget for the platform.  For example, on Windows it is IE.  So, this is a request for a new widget based only on Mozilla.

Probably the best design would be to have a minimal SWT Mozilla binding control, allowing clients to then speak directly to a generic XPCOM Java binding.

There are issues with shipping our own copy of Mozilla: it is large, and is often updated to address security issues, which does not work well with the Eclipse release cycle.
Let's keep this all in the same bug.

*** This bug has been marked as a duplicate of 79213 ***
I don't think so. In bug 79213 you wrote:
"Note that this would be dependent on a XULRunner or other embeddable Mozilla
installed on each platform.  Firefox as shipped from mozilla.org is statically
linked and not usable for embedding."

If you add that note, then this bug (bug 120422) is not a duplicate because I wrote in the description: "without requiring the user to have something else installed on their machine".
Well, step one would be getting an API that actually requires mozilla, but if you really want, we can reopen this one, make it depend on the other, and retitle it to "ship Mozilla on all platforms"...
Sounds good, though it's not shipping all of Mozilla, just a gecko plug-in.
What, "ship Mozilla on all platforms"?  There are numerous problems doing this so don't bother reopening this one.
So reopen and mark it wontfix or invalid or getlost or something. It's just not a duplicate, that's all I'm saying. Billy wants us to be clear, so I'm being clear. :)
Reopening to close WONTFIX then.
WONTFIX, for clarity.
FWIW, Firefox is a brand, not a runtime of its own.
Please do not hide behind the rhetorics.

As far as I can tell (and as far as it might be reasonable) this bug is all about providing an official gecko rendering engine plugin for eclipse.

I can imagine more than one occasion where such a plugin would be highly useful.

First of all - this plugin would allow more ontrol over a browser widget than current lowest common denominator that the Browser widget is.

By bundling known stable rendering engine release from mozilla.org in a plugin, You could provide (for those who need it) a stable and truly crossplatform implementation of a browser widget with full access to the underlying DOM tree and event model.

There are plenty of things that could be achieved with this knd of approach.
Besides having just a simple (albeit powerful) crossplatform bowser widget I can imagine a direct access to XUL toolkit, allowing to merge together the best of the two worlds into one single framework - a Java language ease and Eclipse community at one side and the power of the XUL toolkit for building rich crossplatform and themable (read: "branding") UI on the other.

The plugin this bug talks about would be just the starting point - the lowest possible level of API to support building more powerful high-end API's upon.

It also would be a separate feature/plugin to be downloaded and installed separately by only those who need it (somewhat like the WebDAV/FTP support is a separate download)
Rolan, please read bug 79213, add youself and add your comments there if they have not already been covered by the discussion in that bug report.</WithOutStack>
  </Bug>
  <Bug>
    <BugId amount="120423" />
    <CreationDate amount="2005-12-12 13:47:00 -0500" />
    <DupId amount="" />
    <classification amount="RT" />
    <Product amount="Equinox" />
    <component amount="Compendium" />
    <Version amount="3.1" />
    <rep_platform amount="PC" />
    <op_sys amount="Windows XP" />
    <priority amount="P3" />
    <bug_severity amount="normal" />
    <Summery>Status class constructor should handle null message argument</Summery>
    <Patches amount="0" />
    <Stacktraces amount="1">
      <Stacktrace timestamp="1437330617731">
        <Exception>java.lang.IllegalArgumentException</Exception>
        <Reason>:</Reason>
        <Frames>
          <Frame depth="0">org.eclipse.core.internal.runtime.Assert.isLegal(Assert.java:58)</Frame>
          <Frame depth="1">org.eclipse.core.internal.runtime.Assert.isLegal(Assert.java:42)</Frame>
          <Frame depth="2">org.eclipse.core.runtime.Status.setMessage(Status.java:174)</Frame>
          <Frame depth="3">org.eclipse.core.runtime.Status.&lt;init&gt;(Status.java:81)</Frame>
        </Frames>
      </Stacktrace>
    </Stacktraces>
    <SourceCodeRegions amount="4">
      <source_code type="functiondef">
        <location start="313" end="356" />
        <code>catch( SomeExpectedException e )
{
   ...
}</code>
      </source_code>
      <source_code type="functiondef">
        <location start="357" end="523" />
        <code>catch( RuntimeException e )
{
   final IStatus st = new Status( IStatus.ERROR, PLUGIN_ID, 0, 
                                  e.getMessage(), e );
   // log it...
}</code>
      </source_code>
      <source_code type="functioncall">
        <location start="3477" end="3563" />
        <code>public static IStatus newStatus(String pluginId, String message, Throwable exception);</code>
      </source_code>
      <source_code type="functioncall">
        <location start="3564" end="3634" />
        <code>public static IStatus newStatus(String pluginId, Throwable exception);</code>
      </source_code>
    </SourceCodeRegions>
    <Enumerations amount="0" />
    <bug_status amount="RESOLVED" />
    <resolution amount="FIXED" />
    <WithStack>The status constructor fails with a runtime exception when it is called with a null message argument. The top of the stack trace looks like this:

java.lang.IllegalArgumentException:
at org.eclipse.core.internal.runtime.Assert.isLegal(Assert.java:58)
at org.eclipse.core.internal.runtime.Assert.isLegal(Assert.java:42)
at org.eclipse.core.runtime.Status.setMessage(Status.java:174)
at org.eclipse.core.runtime.Status.&lt;init&gt;(Status.java:81)

While on the surface, you might say there is nothing wrong with that, in practice we found that a lot of people use a pattern that looks like this:

try
{
   ...
}
catch( SomeExpectedException e )
{
   ...
}
catch( RuntimeException e )
{
   final IStatus st = new Status( IStatus.ERROR, PLUGIN_ID, 0, 
                                  e.getMessage(), e );
   // log it...
}

This will fail because a lot of common runtime exceptions return null for message. The workaround is to replace e.getMessage() with e.getMessage() + "" or equivalent. It would be nice if the Status object would handle the null by using an empty string or some generic error message instead of failing. Having the Status object throw an exception in this case is particularly bad because it will hide the real exception until the reporting code is fixed.
Moving to Equinox where status now lives.  I don't recommend relaxing this assertion though. The described code pattern is doubly wrong because the exception is already passed as a parameter, so passing the exception message as well creates duplication in the log and/or UI.  This kind of pattern results in error dialogs like this:

An internal error occurred
Cause: &lt;exception message&gt;
Details: &lt;exception message&gt;
What would you recommend as the replacement pattern? 
I would recommend using a localized user-level message that makes sense in the context of what was happening at the time of failure.  A RuntimeException's message typically won't mean anything to the end user because it describes the problem in terms of the code.  Something like "An internal error occurred while &lt;insert operation here&gt;", such as "An internal error occurred while deploying the Web application".  If you are entirely without context, such as in an event loop, a generic "An internal error has occurred" is about the best you can do.
Thanks for the suggestion. While a context-specific message string is clearly the best solution, in a lot of cases it's a bit of an overkill. Often all that's important is to get the stack trace in the log so that it can be reported by the user. The easier that pattern, the more likely that exceptions will be properly reported. Clearly individual plugins can provide their own utility methods to make this easier, but it would sure be nice if there was a standard platform-wide way to log an exception without specifying anything else. If it's not desirable to allow null message in this constructor, maybe a specialized constructor that doesn't take a message and uses a generic one?
is this as easy as adding 
   this.message = message == null ? "" : message

to the constructor?  This seems harmless no?
Yes, pretty harmless (along with changing the javadoc to say null message is allowed).  Or, add a convenience constructor that doesn't take message, severity, and code arguments, and just creates an error status with generic message.  There are many copies of StatusUtil and similar conveniences in other plugins that do exactly this.
Either way seems fine.  At the risk of adding yet more stuff, at there other things in the various StatusUtils that we should add to Status?
They typically just have various status factory methods with less arguments:

public static IStatus newStatus(int severity, String pluginId, String message,
            Throwable exception);
public static IStatus newStatus(String pluginId, String message, Throwable exception);
public static IStatus newStatus(String pluginId, Throwable exception);

Also common is a convenience method to flatten a recursive tree of MultiStatus instances - although I think these are typically caused by failure to correctly use MultiStatus#merge.
These seem pretty reasonable. 

Will people be able to toss their StatusUtils etc?  
Hard to say... at least a couple of classes would go, and a few other convenience methods.  In other plugins they combine into a convenience method like log(Throwable) that creates a status and immediately logs it. People likely wouldn't bother removing those methods.  I think it's safe to say that of the 600 references to the current Status constructor in my workspace, at least a few of them could benefit from simpler constructors...
+1
To late for API changes in 3.2.  Moving for consideration in 3.3.
Created attachment 48583
Patch

The patch allows null messages to be passed into Status and adds the following API methods on the Status class:

Status(int severity, String pluginId, String message, Throwable exception)
  Simplified constructor of a new status objects with code = OK.
Status(int severity, String pluginId, String message)
  Simplified constructor: code = OK; exception = null.
StatusOK(String pluginId)
  Factory producing "all is fine" status.
logError(String pluginId, String message)
logError(String pluginId, String message, Throwable exception)
  Creates error message and logs it using standard runtime procedure.
logStatus(int severity, String pluginId, String message)
logStatus(int severity, String pluginId, String message, Throwable exception)
  Creates a message and logs it using standard runtime procedure.

John, could you review the patch? Are there any more convenience methods to add?
Created attachment 48585
Patch

Cosmetic changes to the patch above: added @since tags to new methods and renamed proposed "Status.logStatus()" methods into "Status.log()" methods.
I'm not sure tying logging to the Status class is a good idea.  Many people use classes like Status in standalone applications where no logging is available. Standalone SWT/JFace applications are the most common example. I'm sure RuntimeLog is well behaved when OSGi is not running, but it widens the dependency graph for libraries like JFace, and turns the fairly simple Status data structure into a provider of a more complex service. I'd prefer to see any logging service provided by equinox common placed in a separate class.
(the extra convenience constructors look good though)
Sorry for comment spam, but see bug 49497 for a detailed discussion of JFace depencencies on core classes.
Created attachment 48598
Patch

Removed utility methods from the previous patch.
Patch released into CVS Head.</WithStack>
    <WithOutStack>The status constructor fails with a runtime exception when it is called with a null message argument. The top of the stack trace looks like this:



While on the surface, you might say there is nothing wrong with that, in practice we found that a lot of people use a pattern that looks like this:

try
{
   ...
}
catch( SomeExpectedException e )
{
   ...
}
catch( RuntimeException e )
{
   final IStatus st = new Status( IStatus.ERROR, PLUGIN_ID, 0, 
                                  e.getMessage(), e );
   // log it...
}

This will fail because a lot of common runtime exceptions return null for message. The workaround is to replace e.getMessage() with e.getMessage() + "" or equivalent. It would be nice if the Status object would handle the null by using an empty string or some generic error message instead of failing. Having the Status object throw an exception in this case is particularly bad because it will hide the real exception until the reporting code is fixed.
Moving to Equinox where status now lives.  I don't recommend relaxing this assertion though. The described code pattern is doubly wrong because the exception is already passed as a parameter, so passing the exception message as well creates duplication in the log and/or UI.  This kind of pattern results in error dialogs like this:

An internal error occurred
Cause: &lt;exception message&gt;
Details: &lt;exception message&gt;
What would you recommend as the replacement pattern? 
I would recommend using a localized user-level message that makes sense in the context of what was happening at the time of failure.  A RuntimeException's message typically won't mean anything to the end user because it describes the problem in terms of the code.  Something like "An internal error occurred while &lt;insert operation here&gt;", such as "An internal error occurred while deploying the Web application".  If you are entirely without context, such as in an event loop, a generic "An internal error has occurred" is about the best you can do.
Thanks for the suggestion. While a context-specific message string is clearly the best solution, in a lot of cases it's a bit of an overkill. Often all that's important is to get the stack trace in the log so that it can be reported by the user. The easier that pattern, the more likely that exceptions will be properly reported. Clearly individual plugins can provide their own utility methods to make this easier, but it would sure be nice if there was a standard platform-wide way to log an exception without specifying anything else. If it's not desirable to allow null message in this constructor, maybe a specialized constructor that doesn't take a message and uses a generic one?
is this as easy as adding 
   this.message = message == null ? "" : message

to the constructor?  This seems harmless no?
Yes, pretty harmless (along with changing the javadoc to say null message is allowed).  Or, add a convenience constructor that doesn't take message, severity, and code arguments, and just creates an error status with generic message.  There are many copies of StatusUtil and similar conveniences in other plugins that do exactly this.
Either way seems fine.  At the risk of adding yet more stuff, at there other things in the various StatusUtils that we should add to Status?
They typically just have various status factory methods with less arguments:

public static IStatus newStatus(int severity, String pluginId, String message,
            Throwable exception);
public static IStatus newStatus(String pluginId, String message, Throwable exception);
public static IStatus newStatus(String pluginId, Throwable exception);

Also common is a convenience method to flatten a recursive tree of MultiStatus instances - although I think these are typically caused by failure to correctly use MultiStatus#merge.
These seem pretty reasonable. 

Will people be able to toss their StatusUtils etc?  
Hard to say... at least a couple of classes would go, and a few other convenience methods.  In other plugins they combine into a convenience method like log(Throwable) that creates a status and immediately logs it. People likely wouldn't bother removing those methods.  I think it's safe to say that of the 600 references to the current Status constructor in my workspace, at least a few of them could benefit from simpler constructors...
+1
To late for API changes in 3.2.  Moving for consideration in 3.3.
Created attachment 48583
Patch

The patch allows null messages to be passed into Status and adds the following API methods on the Status class:

Status(int severity, String pluginId, String message, Throwable exception)
  Simplified constructor of a new status objects with code = OK.
Status(int severity, String pluginId, String message)
  Simplified constructor: code = OK; exception = null.
StatusOK(String pluginId)
  Factory producing "all is fine" status.
logError(String pluginId, String message)
logError(String pluginId, String message, Throwable exception)
  Creates error message and logs it using standard runtime procedure.
logStatus(int severity, String pluginId, String message)
logStatus(int severity, String pluginId, String message, Throwable exception)
  Creates a message and logs it using standard runtime procedure.

John, could you review the patch? Are there any more convenience methods to add?
Created attachment 48585
Patch

Cosmetic changes to the patch above: added @since tags to new methods and renamed proposed "Status.logStatus()" methods into "Status.log()" methods.
I'm not sure tying logging to the Status class is a good idea.  Many people use classes like Status in standalone applications where no logging is available. Standalone SWT/JFace applications are the most common example. I'm sure RuntimeLog is well behaved when OSGi is not running, but it widens the dependency graph for libraries like JFace, and turns the fairly simple Status data structure into a provider of a more complex service. I'd prefer to see any logging service provided by equinox common placed in a separate class.
(the extra convenience constructors look good though)
Sorry for comment spam, but see bug 49497 for a detailed discussion of JFace depencencies on core classes.
Created attachment 48598
Patch

Removed utility methods from the previous patch.
Patch released into CVS Head.</WithOutStack>
  </Bug>
  <Bug>
    <BugId amount="120424" />
    <CreationDate amount="2005-12-12 14:01:00 -0500" />
    <DupId amount="" />
    <classification amount="Modeling" />
    <Product amount="EMF" />
    <component amount="Website" />
    <Version amount="2.2" />
    <rep_platform amount="PC" />
    <op_sys amount="Windows XP" />
    <priority amount="P3" />
    <bug_severity amount="enhancement" />
    <Summery>Publish EMF Jars for Maven builds</Summery>
    <Patches amount="0" />
    <Stacktraces amount="0" />
    <SourceCodeRegions amount="0" />
    <Enumerations amount="0" />
    <bug_status amount="VERIFIED" />
    <resolution amount="FIXED" />
    <WithStack>Many open source projects (and the vast majority of Apache projects) use Maven to build. They also publish their JAR files to Maven repositories. The main one is http://www.ibiblio.org/maven but there are other ones on Apache and sourceforge web sites for example). Actually anybody can create a Maven repository, you just need a Web server.

What's really nice with this is that you can just reference JARs with a logical name/id (a groupId+an artifactId+a version nb) and then Maven will find them and download them on your machine when you do a build. Basically this allows you to check out source from a CVS or Subversion repository, then run just "maven" to build the whole project without having to worry about dependency JARs.

We are using Maven in the Tuscany SDO Apache project. It would be nice if you would publish the EMF Jars in a Maven repository structure somewhere on Eclipse.org (maybe beside your EMF Eclipse update site?). This would also help other non-Eclipse open source projects adopt/reuse EMF.

Basically you need to place the jars in a structure like:

  &lt;maven-group-id&gt;/jars/&lt;maven-artifact-id&gt;-&lt;version&gt;

for example:

  &lt;some folder on a public web server&gt;/eclipse/jars/emf-codegen-2.2.0.jar

More details here: http://maven.apache.org/maven-1.x/using/repositories.html

The Apache SDO project only needs the following jars:

  emf-common-2.2.0.jar
  emf-ecore-2.2.0.jar 
  emf-ecore-change-2.2.0.jar 
  emf-ecore-xmi-2.2.0.jar 
  xsd-2.2.0.jar 
  emf-codegen-ecore-2.2.0.jar 
  emf-codegen-2.1.0.jar 

That is, the standalone jars. But, maybe if Eclipse wants to support Maven in general, then I suppose all EMF/Eclipse jars should be published in such a repository structure.

Thanks,
Frank.
Jeremy Boynes has offered to help if it can speed things up at all. He can be reached at jboynes@apache.org.
Frank,

Is this still needed?
It's not urgent because we have manually published them ourselves for now. But, having Eclipse dependencies automatically published this way will allow EMF dependencies in Apache projects to be handled in the same way as a dependency on any other Apache project - just specify the dependency in the Maven POM file. We'd like to get past the Eclipse project dependency == problematic vs Apache project dependency == simple issue, and allow Apache projects to make the decision of whether or not to reuse Eclipse code strictly a technical value decision.
Per discussion today, you now have a Maven2 repository (first draft) located here:

http://emf.torolab.ibm.com/tools/emf/maven2/

I'm not clear what sort of folder navigation you need - if any - but you have this sort of file structure now:

./org/eclipse/emf/ant/2.2.0-SNAPSHOT/ant-2.2.0-SNAPSHOT.jar
./org/eclipse/emf/ant/2.2.0-SNAPSHOT/ant-2.2.0-SNAPSHOT.pom
./org/eclipse/emf/ant/2.2.0-M5/ant-2.2.0-M5.jar
./org/eclipse/emf/ant/2.2.0-M5/ant-2.2.0-M5.pom
./org/eclipse/emf/codegen-ecore-ui/2.2.0-SNAPSHOT/codegen-ecore-ui-2.2.0-SNAPSHOT.jar
./org/eclipse/emf/codegen-ecore-ui/2.2.0-SNAPSHOT/codegen-ecore-ui-2.2.0-SNAPSHOT.pom
./org/eclipse/emf/codegen-ecore-ui/2.2.0-M5/codegen-ecore-ui-2.2.0-M5.jar
./org/eclipse/emf/codegen-ecore-ui/2.2.0-M5/codegen-ecore-ui-2.2.0-M5.pom
./org/eclipse/emf/codegen-ecore/2.2.0-SNAPSHOT/codegen-ecore-2.2.0-SNAPSHOT.jar
./org/eclipse/emf/codegen-ecore/2.2.0-SNAPSHOT/codegen-ecore-2.2.0-SNAPSHOT.pom
./org/eclipse/emf/codegen-ecore/2.2.0-M5/codegen-ecore-2.2.0-M5.jar
./org/eclipse/emf/codegen-ecore/2.2.0-M5/codegen-ecore-2.2.0-M5.pom
./org/eclipse/emf/codegen-ui/2.2.0-SNAPSHOT/codegen-ui-2.2.0-SNAPSHOT.jar
./org/eclipse/emf/codegen-ui/2.2.0-SNAPSHOT/codegen-ui-2.2.0-SNAPSHOT.pom
   ...
./org/eclipse/xsd/editor/2.2.0-M5/editor-2.2.0-M5.jar
./org/eclipse/xsd/editor/2.2.0-M5/editor-2.2.0-M5.pom
./org/eclipse/xsd/xsd/2.2.0-SNAPSHOT/xsd-2.2.0-SNAPSHOT.jar
./org/eclipse/xsd/xsd/2.2.0-SNAPSHOT/xsd-2.2.0-SNAPSHOT.pom
./org/eclipse/xsd/xsd/2.2.0-M5/xsd-2.2.0-M5.jar
./org/eclipse/xsd/xsd/2.2.0-M5/xsd-2.2.0-M5.pom

(39 poms + jars per release, each)

Let me know if this works, and I can then publish it to download.eclipse.org. If anything's missing or misnamed, let me know.

Script is located here:

http://dev.eclipse.org/viewcvs/indextools.cgi/*checkout*/emf-home/emf-build/scripts/buildMaven.sh?content-type=text/plain
FYI, this script is now hooked into our promoteToEclipse.sh script so it'll run automatically every week and publish to download.eclipse.org. I still need testing to confirm that what I've built works, though. Please take a moment to use the new Maven rep and comment in this bug if all's well. Thanks!
I tested by building the Apache Tuscany project using it and it works fine.

One potential (minor) problem is that I get some warning messages during the maven build:

Downloading: http://download.eclipse.org/tools/emf/maven2//org/eclipse/xsd/xsd/2.2.0-SNAPSHOT/xsd-2.2.0-SNAPSHOT.pom
158b downloaded
[WARNING] *** CHECKSUM FAILED - Error retrieving checksum file for org/eclipse/xsd/xsd/2.2.0-SNAPSHOT/xsd-2.2.0-SNAPSHOT.pom - IGNORING
Downloading: http://download.eclipse.org/tools/emf/maven2//org/eclipse/xsd/xsd/2.2.0-SNAPSHOT/xsd-2.2.0-SNAPSHOT.jar
703K downloaded
[WARNING] *** CHECKSUM FAILED - Error retrieving checksum file for org/eclipse/xsd/xsd/2.2.0-SNAPSHOT/xsd-2.2.0-SNAPSHOT.jar - IGNORING

I don't know if this is something that needs to be fixed on the repo end or the client end, but it doesn't actually cause any problems with the build, so I'm not too worried about it.

I'll let you know if I find out anything that requires a change on your end.

Thanks,
Frank.
Fixed in 2.2.0 I200603160000 (Nicholas)
Move to verified as per bug 206558.</WithStack>
    <WithOutStack>Many open source projects (and the vast majority of Apache projects) use Maven to build. They also publish their JAR files to Maven repositories. The main one is http://www.ibiblio.org/maven but there are other ones on Apache and sourceforge web sites for example). Actually anybody can create a Maven repository, you just need a Web server.

What's really nice with this is that you can just reference JARs with a logical name/id (a groupId+an artifactId+a version nb) and then Maven will find them and download them on your machine when you do a build. Basically this allows you to check out source from a CVS or Subversion repository, then run just "maven" to build the whole project without having to worry about dependency JARs.

We are using Maven in the Tuscany SDO Apache project. It would be nice if you would publish the EMF Jars in a Maven repository structure somewhere on Eclipse.org (maybe beside your EMF Eclipse update site?). This would also help other non-Eclipse open source projects adopt/reuse EMF.

Basically you need to place the jars in a structure like:

  &lt;maven-group-id&gt;/jars/&lt;maven-artifact-id&gt;-&lt;version&gt;

for example:

  &lt;some folder on a public web server&gt;/eclipse/jars/emf-codegen-2.2.0.jar

More details here: http://maven.apache.org/maven-1.x/using/repositories.html

The Apache SDO project only needs the following jars:

  emf-common-2.2.0.jar
  emf-ecore-2.2.0.jar 
  emf-ecore-change-2.2.0.jar 
  emf-ecore-xmi-2.2.0.jar 
  xsd-2.2.0.jar 
  emf-codegen-ecore-2.2.0.jar 
  emf-codegen-2.1.0.jar 

That is, the standalone jars. But, maybe if Eclipse wants to support Maven in general, then I suppose all EMF/Eclipse jars should be published in such a repository structure.

Thanks,
Frank.
Jeremy Boynes has offered to help if it can speed things up at all. He can be reached at jboynes@apache.org.
Frank,

Is this still needed?
It's not urgent because we have manually published them ourselves for now. But, having Eclipse dependencies automatically published this way will allow EMF dependencies in Apache projects to be handled in the same way as a dependency on any other Apache project - just specify the dependency in the Maven POM file. We'd like to get past the Eclipse project dependency == problematic vs Apache project dependency == simple issue, and allow Apache projects to make the decision of whether or not to reuse Eclipse code strictly a technical value decision.
Per discussion today, you now have a Maven2 repository (first draft) located here:

http://emf.torolab.ibm.com/tools/emf/maven2/

I'm not clear what sort of folder navigation you need - if any - but you have this sort of file structure now:

./org/eclipse/emf/ant/2.2.0-SNAPSHOT/ant-2.2.0-SNAPSHOT.jar
./org/eclipse/emf/ant/2.2.0-SNAPSHOT/ant-2.2.0-SNAPSHOT.pom
./org/eclipse/emf/ant/2.2.0-M5/ant-2.2.0-M5.jar
./org/eclipse/emf/ant/2.2.0-M5/ant-2.2.0-M5.pom
./org/eclipse/emf/codegen-ecore-ui/2.2.0-SNAPSHOT/codegen-ecore-ui-2.2.0-SNAPSHOT.jar
./org/eclipse/emf/codegen-ecore-ui/2.2.0-SNAPSHOT/codegen-ecore-ui-2.2.0-SNAPSHOT.pom
./org/eclipse/emf/codegen-ecore-ui/2.2.0-M5/codegen-ecore-ui-2.2.0-M5.jar
./org/eclipse/emf/codegen-ecore-ui/2.2.0-M5/codegen-ecore-ui-2.2.0-M5.pom
./org/eclipse/emf/codegen-ecore/2.2.0-SNAPSHOT/codegen-ecore-2.2.0-SNAPSHOT.jar
./org/eclipse/emf/codegen-ecore/2.2.0-SNAPSHOT/codegen-ecore-2.2.0-SNAPSHOT.pom
./org/eclipse/emf/codegen-ecore/2.2.0-M5/codegen-ecore-2.2.0-M5.jar
./org/eclipse/emf/codegen-ecore/2.2.0-M5/codegen-ecore-2.2.0-M5.pom
./org/eclipse/emf/codegen-ui/2.2.0-SNAPSHOT/codegen-ui-2.2.0-SNAPSHOT.jar
./org/eclipse/emf/codegen-ui/2.2.0-SNAPSHOT/codegen-ui-2.2.0-SNAPSHOT.pom
   ...
./org/eclipse/xsd/editor/2.2.0-M5/editor-2.2.0-M5.jar
./org/eclipse/xsd/editor/2.2.0-M5/editor-2.2.0-M5.pom
./org/eclipse/xsd/xsd/2.2.0-SNAPSHOT/xsd-2.2.0-SNAPSHOT.jar
./org/eclipse/xsd/xsd/2.2.0-SNAPSHOT/xsd-2.2.0-SNAPSHOT.pom
./org/eclipse/xsd/xsd/2.2.0-M5/xsd-2.2.0-M5.jar
./org/eclipse/xsd/xsd/2.2.0-M5/xsd-2.2.0-M5.pom

(39 poms + jars per release, each)

Let me know if this works, and I can then publish it to download.eclipse.org. If anything's missing or misnamed, let me know.

Script is located here:

http://dev.eclipse.org/viewcvs/indextools.cgi/*checkout*/emf-home/emf-build/scripts/buildMaven.sh?content-type=text/plain
FYI, this script is now hooked into our promoteToEclipse.sh script so it'll run automatically every week and publish to download.eclipse.org. I still need testing to confirm that what I've built works, though. Please take a moment to use the new Maven rep and comment in this bug if all's well. Thanks!
I tested by building the Apache Tuscany project using it and it works fine.

One potential (minor) problem is that I get some warning messages during the maven build:

Downloading: http://download.eclipse.org/tools/emf/maven2//org/eclipse/xsd/xsd/2.2.0-SNAPSHOT/xsd-2.2.0-SNAPSHOT.pom
158b downloaded
[WARNING] *** CHECKSUM FAILED - Error retrieving checksum file for org/eclipse/xsd/xsd/2.2.0-SNAPSHOT/xsd-2.2.0-SNAPSHOT.pom - IGNORING
Downloading: http://download.eclipse.org/tools/emf/maven2//org/eclipse/xsd/xsd/2.2.0-SNAPSHOT/xsd-2.2.0-SNAPSHOT.jar
703K downloaded
[WARNING] *** CHECKSUM FAILED - Error retrieving checksum file for org/eclipse/xsd/xsd/2.2.0-SNAPSHOT/xsd-2.2.0-SNAPSHOT.jar - IGNORING

I don't know if this is something that needs to be fixed on the repo end or the client end, but it doesn't actually cause any problems with the build, so I'm not too worried about it.

I'll let you know if I find out anything that requires a change on your end.

Thanks,
Frank.
Fixed in 2.2.0 I200603160000 (Nicholas)
Move to verified as per bug 206558.</WithOutStack>
  </Bug>
  <Bug>
    <BugId amount="120425" />
    <CreationDate amount="2005-12-12 14:04:00 -0500" />
    <DupId amount="120441" />
    <classification amount="Eclipse" />
    <Product amount="Platform" />
    <component amount="UI" />
    <Version amount="3.2" />
    <rep_platform amount="Macintosh" />
    <op_sys amount="Mac OS X - Carbon (unsup.)" />
    <priority amount="P3" />
    <bug_severity amount="minor" />
    <Summery>[DnD] trim objects should return to starting location if not docked in new location.</Summery>
    <Patches amount="0" />
    <Stacktraces amount="0" />
    <SourceCodeRegions amount="0" />
    <Enumerations amount="1">
      <Enumeration lines="4">
        <Lines>
          <Line>1) grab a draggable trim item</Line>
          <Line>2) without releasing it, drag it so that it is drawn in a new area, then</Line>
          <Line>3) drag it away from all trim areas</Line>
          <Line>4) release the mouse</Line>
        </Lines>
      </Enumeration>
    </Enumerations>
    <bug_status amount="RESOLVED" />
    <resolution amount="DUPLICATE" />
    <WithStack>1) grab a draggable trim item
2) without releasing it, drag it so that it is drawn in a new area, then
3) drag it away from all trim areas
4) release the mouse

At this point, the trim item should return to it's original location, but instead it "returns" to the area chosen in step 2).


*** This bug has been marked as a duplicate of 120441 ***
Changing OS from Mac OS to Mac OS X as per bug 185991</WithStack>
    <WithOutStack>1) grab a draggable trim item
2) without releasing it, drag it so that it is drawn in a new area, then
3) drag it away from all trim areas
4) release the mouse

At this point, the trim item should return to it's original location, but instead it "returns" to the area chosen in step 2).


*** This bug has been marked as a duplicate of 120441 ***
Changing OS from Mac OS to Mac OS X as per bug 185991</WithOutStack>
  </Bug>
  <Bug>
    <BugId amount="120426" />
    <CreationDate amount="2005-12-12 14:09:00 -0500" />
    <DupId amount="" />
    <classification amount="Eclipse Foundation" />
    <Product amount="Community" />
    <component amount="Bugzilla" />
    <Version amount="unspecified" />
    <rep_platform amount="PC" />
    <op_sys amount="Windows 2000" />
    <priority amount="P3" />
    <bug_severity amount="normal" />
    <Summery>Mnemonic for "&amp;depends on" blocks keyboard access to address bar</Summery>
    <Patches amount="0" />
    <Stacktraces amount="0" />
    <SourceCodeRegions amount="0" />
    <Enumerations amount="1">
      <Enumeration lines="4">
        <Lines>
          <Line>- go to any bug report</Line>
          <Line>- give focus to any field in the form</Line>
          <Line>- press Alt+D</Line>
          <Line>- it gives focus to the "depends on" field (and pops down the combo)</Line>
        </Lines>
      </Enumeration>
    </Enumerations>
    <bug_status amount="RESOLVED" />
    <resolution amount="WONTFIX" />
    <WithStack>- go to any bug report
- give focus to any field in the form
- press Alt+D
- it gives focus to the "depends on" field (and pops down the combo)

The usual expectation (in all browsers I know of) is that Alt+D gives focus to the address bar (aka location bar).

Although this is just an annoyance for my personal workflow (I have a keyword configured in Firefox that lets me go to the address bar and type e.g. "bug 12345"), this could be a major issue for those that need to drive bugzilla via keyboard.

While the general move to provide mnemonics for the different fields improves accessibility, blocking essential mnemonics from the containing browser hampers it severely.  IMO it would improve accessibility to remove the mnemonic for this field (and just this field).

I looked under preferences, but I couldn't find an option to turn off mnemonics.
This seems to be new support in the latest bugzilla.
I'm using Firefox 1.5, but the same problem occurs in IE 6.0.

Note that keyboard access to the main menus is also blocked, e.g. Alt+H goes to the Hardware field instead of the Help menu.

Alt+S (Summary field in bugzilla) can also conflict with screen readers.

This is a common "accessibility blooper".  See the "Conflict Resolution" section at: http://www.wats.ca/articles/accesskeyconflicts/37

I think it's because of issues like this that the IBM Web Accessibility Guidelines recommend against using accesskey= (and also against explicitly 
underlining mnemonics).

"The accesskey attribute
The accesskey attribute allows authors to associate a keyboard shortcut with either a &lt;label&gt;, &lt;a&gt;, &lt;caption&gt;, or &lt;legend&gt; element.It is recommended that developers avoid use of the accesskey attribute. However, if you do choose to use the accesskey attribute, do not bold or underline style elements in control label text to show the value of an access key, because this may cause HPR and other screen readers to speak the control labels incorrectly."
at http://www-306.ibm.com/able/guidelines/web/webforms.html
via http://www-306.ibm.com/able/guidelines/web/accessweb.html

Aside: we've sometimes had similar issues in Eclipse, e.g. preference page fields stealing mnemonics from the 'Restore &amp;Defaults' and 'Apply' buttons, or mnemonics in editors blocking access to main menus.

This is a known issue with Bugzilla.  From what I read, they fixed it in 2.18 (bugs.eclipse.org's previous version, their bug 163007) but someone broke it in 2.20 (their bug 313728).

https://bugzilla.mozilla.org/show_bug.cgi?id=163007
https://bugzilla.mozilla.org/show_bug.cgi?id=313728

*sigh* I'm closing as NOTMYDEPARTMENT.  This will be fixed when I install the next Bugzilla upgrade.

I hate it when stuff like this breaks.

D.
OK, thanks for the pointers.  If it will be a while before the next bugzilla upgrade, maybe you could just knock out that single access key for Alt+D.</WithStack>
    <WithOutStack>- go to any bug report
- give focus to any field in the form
- press Alt+D
- it gives focus to the "depends on" field (and pops down the combo)

The usual expectation (in all browsers I know of) is that Alt+D gives focus to the address bar (aka location bar).

Although this is just an annoyance for my personal workflow (I have a keyword configured in Firefox that lets me go to the address bar and type e.g. "bug 12345"), this could be a major issue for those that need to drive bugzilla via keyboard.

While the general move to provide mnemonics for the different fields improves accessibility, blocking essential mnemonics from the containing browser hampers it severely.  IMO it would improve accessibility to remove the mnemonic for this field (and just this field).

I looked under preferences, but I couldn't find an option to turn off mnemonics.
This seems to be new support in the latest bugzilla.
I'm using Firefox 1.5, but the same problem occurs in IE 6.0.

Note that keyboard access to the main menus is also blocked, e.g. Alt+H goes to the Hardware field instead of the Help menu.

Alt+S (Summary field in bugzilla) can also conflict with screen readers.

This is a common "accessibility blooper".  See the "Conflict Resolution" section at: http://www.wats.ca/articles/accesskeyconflicts/37

I think it's because of issues like this that the IBM Web Accessibility Guidelines recommend against using accesskey= (and also against explicitly 
underlining mnemonics).

"The accesskey attribute
The accesskey attribute allows authors to associate a keyboard shortcut with either a &lt;label&gt;, &lt;a&gt;, &lt;caption&gt;, or &lt;legend&gt; element.It is recommended that developers avoid use of the accesskey attribute. However, if you do choose to use the accesskey attribute, do not bold or underline style elements in control label text to show the value of an access key, because this may cause HPR and other screen readers to speak the control labels incorrectly."
at http://www-306.ibm.com/able/guidelines/web/webforms.html
via http://www-306.ibm.com/able/guidelines/web/accessweb.html

Aside: we've sometimes had similar issues in Eclipse, e.g. preference page fields stealing mnemonics from the 'Restore &amp;Defaults' and 'Apply' buttons, or mnemonics in editors blocking access to main menus.

This is a known issue with Bugzilla.  From what I read, they fixed it in 2.18 (bugs.eclipse.org's previous version, their bug 163007) but someone broke it in 2.20 (their bug 313728).

https://bugzilla.mozilla.org/show_bug.cgi?id=163007
https://bugzilla.mozilla.org/show_bug.cgi?id=313728

*sigh* I'm closing as NOTMYDEPARTMENT.  This will be fixed when I install the next Bugzilla upgrade.

I hate it when stuff like this breaks.

D.
OK, thanks for the pointers.  If it will be a while before the next bugzilla upgrade, maybe you could just knock out that single access key for Alt+D.</WithOutStack>
  </Bug>
  <Bug>
    <BugId amount="120427" />
    <CreationDate amount="2005-12-12 14:13:00 -0500" />
    <DupId amount="110206" />
    <classification amount="Eclipse" />
    <Product amount="JDT" />
    <component amount="Debug" />
    <Version amount="3.2" />
    <rep_platform amount="Macintosh" />
    <op_sys amount="Mac OS X - Carbon (unsup.)" />
    <priority amount="P3" />
    <bug_severity amount="normal" />
    <Summery>Disclosure triangle for "this" in Variables pane won't stay closed, uses CPU</Summery>
    <Patches amount="0" />
    <Stacktraces amount="0" />
    <SourceCodeRegions amount="0" />
    <Enumerations amount="0" />
    <bug_status amount="RESOLVED" />
    <resolution amount="DUPLICATE" />
    <WithStack>OS X 10.4.3, using JVM 1.4.2, Eclipse 3.2M3.  Debugging a Java program, hits a breakpoint and suspends thread and displays "this" in the Variables view for that thread in the Debug perspective.  The members of "this" are displayed in the Variables view.  Statics, constants and qualified names are not displayed (correctly, as per the Variables view settings menu).  So far so good.

Often, when I click on the disclosure triangle, the members of "this" are hidden, but only for a fraction of a second, then the disclosure triangle points down and the members are displayed, all of their own accord.  Repeated clicking on the triangle will hide the members for just a moment, but "this" always opens back up again and displays all of its members.  As long as the focus is in the Variables view, the CPU utilization will be very high.

I'll take a sample of Eclipse during the high CPU usage (using OS X's Activity Monitor) and attach it to this bug entry the next time this happens.

Workaround: select the Breakpoints view.  Usually this will lead to the CPU utilization going back to normal.  Then when the Variables view is selected it will work normally.  Unfortunately the bug often reappears during the same debug session as other breakpoints are hit.


*** This bug has been marked as a duplicate of 110206 ***
Changing OS from Mac OS to Mac OS X as per bug 185991</WithStack>
    <WithOutStack>OS X 10.4.3, using JVM 1.4.2, Eclipse 3.2M3.  Debugging a Java program, hits a breakpoint and suspends thread and displays "this" in the Variables view for that thread in the Debug perspective.  The members of "this" are displayed in the Variables view.  Statics, constants and qualified names are not displayed (correctly, as per the Variables view settings menu).  So far so good.

Often, when I click on the disclosure triangle, the members of "this" are hidden, but only for a fraction of a second, then the disclosure triangle points down and the members are displayed, all of their own accord.  Repeated clicking on the triangle will hide the members for just a moment, but "this" always opens back up again and displays all of its members.  As long as the focus is in the Variables view, the CPU utilization will be very high.

I'll take a sample of Eclipse during the high CPU usage (using OS X's Activity Monitor) and attach it to this bug entry the next time this happens.

Workaround: select the Breakpoints view.  Usually this will lead to the CPU utilization going back to normal.  Then when the Variables view is selected it will work normally.  Unfortunately the bug often reappears during the same debug session as other breakpoints are hit.


*** This bug has been marked as a duplicate of 110206 ***
Changing OS from Mac OS to Mac OS X as per bug 185991</WithOutStack>
  </Bug>
  <Bug>
    <BugId amount="120428" />
    <CreationDate amount="2005-12-12 14:14:00 -0500" />
    <DupId amount="" />
    <classification amount="WebTools" />
    <Product amount="WTP Java EE Tools" />
    <component amount="wst.web" />
    <Version amount="1.0" />
    <rep_platform amount="PC" />
    <op_sys amount="Windows XP" />
    <priority amount="P2" />
    <bug_severity amount="critical" />
    <Summery>StaticWebDeployableFactory not implementing getListenerPaths(), can't deploy new Projects</Summery>
    <Patches amount="0" />
    <Stacktraces amount="0" />
    <SourceCodeRegions amount="0" />
    <Enumerations amount="0" />
    <bug_status amount="CLOSED" />
    <resolution amount="FIXED" />
    <WithStack>org.eclipse.wst.web.internal.deployables.StaticWebDeployableFactory does not implement the method getListenerPaths(). It inherits the implementation from parent class org.eclipse.wst.server.core.util.ProjectModuleFactoryDelegate which returns null.

When a new project is added (in particular a Static Web Project), the code that handles the resource change eventually calls deltaAffectsModules() in ProjectModuleFactoryDelegate to determine if the ModuleFactory should clear its cache of IModule. This check returns false for all Static Web Projects because the implementation of deltaAffectModules() check if the getListenerPaths() returns null (which it will always do for StaticWebDeployableFactory).

The symptom is that only Static Web Projects that exist at the time when the ModuleFactory is first called for its Modules are able to be deployed. All new Projects after that will not have Modules.
Changed to major since it is function that is not available
Created attachment 31597
Patch to add the getListenerPaths() method
Added to Hot List at the request of Krishna Akella and set priority to P2. Fix requested for 1.0.1.
Targetting to 1.0 for discussion on its inclusion.
I am temporarily untargetting this bug so we can consider it for RC5.
John - we don't static web servers in 1.0 so we missed this. Now we have fixed this. Failure to fix requires a restart. This fix is trivial - copied from J2EE. Not well tested though.
PMC approves but is concerned about lack of testing.
This is fixed and released for RC5.
OK</WithStack>
    <WithOutStack>org.eclipse.wst.web.internal.deployables.StaticWebDeployableFactory does not implement the method getListenerPaths(). It inherits the implementation from parent class org.eclipse.wst.server.core.util.ProjectModuleFactoryDelegate which returns null.

When a new project is added (in particular a Static Web Project), the code that handles the resource change eventually calls deltaAffectsModules() in ProjectModuleFactoryDelegate to determine if the ModuleFactory should clear its cache of IModule. This check returns false for all Static Web Projects because the implementation of deltaAffectModules() check if the getListenerPaths() returns null (which it will always do for StaticWebDeployableFactory).

The symptom is that only Static Web Projects that exist at the time when the ModuleFactory is first called for its Modules are able to be deployed. All new Projects after that will not have Modules.
Changed to major since it is function that is not available
Created attachment 31597
Patch to add the getListenerPaths() method
Added to Hot List at the request of Krishna Akella and set priority to P2. Fix requested for 1.0.1.
Targetting to 1.0 for discussion on its inclusion.
I am temporarily untargetting this bug so we can consider it for RC5.
John - we don't static web servers in 1.0 so we missed this. Now we have fixed this. Failure to fix requires a restart. This fix is trivial - copied from J2EE. Not well tested though.
PMC approves but is concerned about lack of testing.
This is fixed and released for RC5.
OK</WithOutStack>
  </Bug>
  <Bug>
    <BugId amount="120429" />
    <CreationDate amount="2005-12-12 14:29:00 -0500" />
    <DupId amount="" />
    <classification amount="Eclipse" />
    <Product amount="Platform" />
    <component amount="UI" />
    <Version amount="3.1" />
    <rep_platform amount="PC" />
    <op_sys amount="Linux" />
    <priority amount="P5" />
    <bug_severity amount="normal" />
    <Summery>[WorkbenchParts] Irremovable editor block (view) after restart</Summery>
    <Patches amount="0" />
    <Stacktraces amount="0" />
    <SourceCodeRegions amount="0" />
    <Enumerations amount="0" />
    <bug_status amount="ASSIGNED" />
    <resolution amount="" />
    <WithStack>I was editing an XML file in an editor, with java files separated in a different editor block. When I closed the program and restarted it, the XML file was automatically closed, leaving an empty editor block. I tried to move a java file into the editor block, but the mouse icon would freeze and my normal mouse actions were all missing. The console produced the following error message.

Unhandled event loop exception
Reason:
-1

If I further make "copies" of that editor, by drag and drop, another empty editor block would appear. I did eventually find a way to reset the whole thing, by going to "Windows -&gt; Close All Perspectives", but then I had to setup my perspective again.

Thanks,

Joseph..
Is this still a problem in 3.3?

PW

Changes requested on bug 193523</WithStack>
    <WithOutStack>I was editing an XML file in an editor, with java files separated in a different editor block. When I closed the program and restarted it, the XML file was automatically closed, leaving an empty editor block. I tried to move a java file into the editor block, but the mouse icon would freeze and my normal mouse actions were all missing. The console produced the following error message.

Unhandled event loop exception
Reason:
-1

If I further make "copies" of that editor, by drag and drop, another empty editor block would appear. I did eventually find a way to reset the whole thing, by going to "Windows -&gt; Close All Perspectives", but then I had to setup my perspective again.

Thanks,

Joseph..
Is this still a problem in 3.3?

PW

Changes requested on bug 193523</WithOutStack>
  </Bug>
  <Bug>
    <BugId amount="120430" />
    <CreationDate amount="2005-12-12 14:30:00 -0500" />
    <DupId amount="135605" />
    <classification amount="Mylyn" />
    <Product amount="Mylyn" />
    <component amount="Bugzilla" />
    <Version amount="unspecified" />
    <rep_platform amount="PC" />
    <op_sys amount="Windows XP" />
    <priority amount="P4" />
    <bug_severity amount="enhancement" />
    <Summery>Add support for submitting a stack trace</Summery>
    <Patches amount="0" />
    <Stacktraces amount="0" />
    <SourceCodeRegions amount="0" />
    <Enumerations amount="0" />
    <bug_status amount="RESOLVED" />
    <resolution amount="DUPLICATE" />
    <WithStack>Support should be added for submitting a bug based on a stack trace that is contained in the error log through the use of a context menu
Eugene's newly submitted duplicate of this has a more thourhoug description.

*** This bug has been marked as a duplicate of 135605 ***</WithStack>
    <WithOutStack>Support should be added for submitting a bug based on a stack trace that is contained in the error log through the use of a context menu
Eugene's newly submitted duplicate of this has a more thourhoug description.

*** This bug has been marked as a duplicate of 135605 ***</WithOutStack>
  </Bug>
  <Bug>
    <BugId amount="120431" />
    <CreationDate amount="2005-12-12 14:34:00 -0500" />
    <DupId amount="" />
    <classification amount="Eclipse" />
    <Product amount="Platform" />
    <component amount="SWT" />
    <Version amount="3.1" />
    <rep_platform amount="PC" />
    <op_sys amount="Windows XP" />
    <priority amount="P3" />
    <bug_severity amount="normal" />
    <Summery>Text Control ignores Shift+Delete / Shift+Backspace when added a VerifyListener</Summery>
    <Patches amount="0" />
    <Stacktraces amount="0" />
    <SourceCodeRegions amount="0" />
    <Enumerations amount="0" />
    <bug_status amount="RESOLVED" />
    <resolution amount="WONTFIX" />
    <WithStack>After adding a VerifyListener to a text control, the control does not respond to Shift+Delete and Shift+Backspace.
This keystrokes do nothing more than without the shift modifier, but holding shift should not prevent the deletion from being made.

Will add a snippet as an attachment...
Created attachment 31580
ShiftDeleteBugSnippet.java
Sorry, when verifying text it's important to make sure that the operating system doesn't use these keys for anything.  Since there is no way to tell which key strokes are in use (and will be used in the future), suspicious combinations are disabled.</WithStack>
    <WithOutStack>After adding a VerifyListener to a text control, the control does not respond to Shift+Delete and Shift+Backspace.
This keystrokes do nothing more than without the shift modifier, but holding shift should not prevent the deletion from being made.

Will add a snippet as an attachment...
Created attachment 31580
ShiftDeleteBugSnippet.java
Sorry, when verifying text it's important to make sure that the operating system doesn't use these keys for anything.  Since there is no way to tell which key strokes are in use (and will be used in the future), suspicious combinations are disabled.</WithOutStack>
  </Bug>
  <Bug>
    <BugId amount="120432" />
    <CreationDate amount="2005-12-12 14:36:00 -0500" />
    <DupId amount="" />
    <classification amount="Eclipse" />
    <Product amount="JDT" />
    <component amount="UI" />
    <Version amount="3.1.1" />
    <rep_platform amount="PC" />
    <op_sys amount="Windows XP" />
    <priority amount="P3" />
    <bug_severity amount="normal" />
    <Summery>[refactoring] "Move Member Type to New File"  crashes when going back after an error</Summery>
    <Patches amount="0" />
    <Stacktraces amount="3">
      <Stacktrace timestamp="1437330617731">
        <Exception>java.lang.reflect.InvocationTargetException</Exception>
        <Reason />
        <Frames>
          <Frame depth="0">org.eclipse.jface.operation.ModalContext.run(ModalContext.java:327)</Frame>
          <Frame depth="1">org.eclipse.ltk.internal.ui.refactoring.RefactoringWizardDialog2.run(RefactoringWizardDialog2.java:293)</Frame>
          <Frame depth="2">org.eclipse.ltk.ui.refactoring.RefactoringWizard.createChange(RefactoringWizard.java:573)</Frame>
          <Frame depth="3">org.eclipse.ltk.ui.refactoring.RefactoringWizard.computeUserInputSuccessorPage(RefactoringWizard.java:416)</Frame>
          <Frame depth="4">org.eclipse.ltk.ui.refactoring.UserInputWizardPage.computeSuccessorPage(UserInputWizardPage.java:74)</Frame>
          <Frame depth="5">org.eclipse.ltk.ui.refactoring.UserInputWizardPage.getNextPage(UserInputWizardPage.java:114)</Frame>
          <Frame depth="6">org.eclipse.ltk.internal.ui.refactoring.RefactoringWizardDialog2.previewPressed(RefactoringWizardDialog2.java:447)</Frame>
          <Frame depth="7">org.eclipse.ltk.internal.ui.refactoring.RefactoringWizardDialog2.access$3(RefactoringWizardDialog2.java:445)</Frame>
          <Frame depth="8">org.eclipse.ltk.internal.ui.refactoring.RefactoringWizardDialog2$1.widgetSelected(RefactoringWizardDialog2.java:584)</Frame>
          <Frame depth="9">org.eclipse.swt.widgets.TypedListener.handleEvent(TypedListener.java:90)</Frame>
          <Frame depth="10">org.eclipse.swt.widgets.EventTable.sendEvent(EventTable.java:66)</Frame>
          <Frame depth="11">org.eclipse.swt.widgets.Widget.sendEvent(Widget.java:843)</Frame>
          <Frame depth="12">org.eclipse.swt.widgets.Display.runDeferredEvents(Display.java:3080)</Frame>
          <Frame depth="13">org.eclipse.swt.widgets.Display.readAndDispatch(Display.java:2713)</Frame>
          <Frame depth="14">org.eclipse.jface.window.Window.runEventLoop(Window.java:809)</Frame>
          <Frame depth="15">org.eclipse.jface.window.Window.open(Window.java:787)</Frame>
          <Frame depth="16">org.eclipse.ltk.ui.refactoring.RefactoringWizardOpenOperation$1.run(RefactoringWizardOpenOperation.java:125)</Frame>
          <Frame depth="17">org.eclipse.swt.custom.BusyIndicator.showWhile(BusyIndicator.java:69)</Frame>
          <Frame depth="18">org.eclipse.ltk.ui.refactoring.RefactoringWizardOpenOperation.run(RefactoringWizardOpenOperation.java:138)</Frame>
          <Frame depth="19">org.eclipse.jdt.internal.ui.refactoring.actions.RefactoringStarter.activate(RefactoringStarter.java:40)</Frame>
          <Frame depth="20">org.eclipse.jdt.internal.corext.refactoring.RefactoringExecutionStarter.startMoveInnerRefactoring(RefactoringExecutionStarter.java:275)</Frame>
          <Frame depth="21">org.eclipse.jdt.ui.actions.ConvertNestedToTopAction.run(ConvertNestedToTopAction.java:154)</Frame>
          <Frame depth="22">org.eclipse.jdt.ui.actions.SelectionDispatchAction.dispatchRun(SelectionDispatchAction.java:226)</Frame>
          <Frame depth="23">org.eclipse.jdt.ui.actions.SelectionDispatchAction.run(SelectionDispatchAction.java:198)</Frame>
          <Frame depth="24">org.eclipse.jface.action.Action.runWithEvent(Action.java:996)</Frame>
          <Frame depth="25">org.eclipse.jface.action.ActionContributionItem.handleWidgetSelection(ActionContributionItem.java:538)</Frame>
          <Frame depth="26">org.eclipse.jface.action.ActionContributionItem.access$2(ActionContributionItem.java:488)</Frame>
          <Frame depth="27">org.eclipse.jface.action.ActionContributionItem$5.handleEvent(ActionContributionItem.java:400)</Frame>
          <Frame depth="28">org.eclipse.swt.widgets.EventTable.sendEvent(EventTable.java:66)</Frame>
          <Frame depth="29">org.eclipse.swt.widgets.Widget.sendEvent(Widget.java:843)</Frame>
          <Frame depth="30">org.eclipse.swt.widgets.Display.runDeferredEvents(Display.java:3080)</Frame>
          <Frame depth="31">org.eclipse.swt.widgets.Display.readAndDispatch(Display.java:2713)</Frame>
          <Frame depth="32">org.eclipse.ui.internal.Workbench.runEventLoop(Workbench.java:1699)</Frame>
          <Frame depth="33">org.eclipse.ui.internal.Workbench.runUI(Workbench.java:1663)</Frame>
          <Frame depth="34">org.eclipse.ui.internal.Workbench.createAndRunWorkbench(Workbench.java:367)</Frame>
          <Frame depth="35">org.eclipse.ui.PlatformUI.createAndRunWorkbench(PlatformUI.java:143)</Frame>
          <Frame depth="36">org.eclipse.ui.internal.ide.IDEApplication.run(IDEApplication.java:103)</Frame>
          <Frame depth="37">org.eclipse.core.internal.runtime.PlatformActivator$1.run(PlatformActivator.java:226)</Frame>
          <Frame depth="38">org.eclipse.core.runtime.adaptor.EclipseStarter.run(EclipseStarter.java:376)</Frame>
          <Frame depth="39">org.eclipse.core.runtime.adaptor.EclipseStarter.run(EclipseStarter.java:163)</Frame>
          <Frame depth="40">sun.reflect.NativeMethodAccessorImpl.invoke0(Native Method)</Frame>
          <Frame depth="41">sun.reflect.NativeMethodAccessorImpl.invoke(Unknown Source)</Frame>
          <Frame depth="42">sun.reflect.DelegatingMethodAccessorImpl.invoke(Unknown Source)</Frame>
          <Frame depth="43">java.lang.reflect.Method.invoke(Unknown Source)</Frame>
          <Frame depth="44">org.eclipse.core.launcher.Main.invokeFramework(Main.java:334)</Frame>
          <Frame depth="45">org.eclipse.core.launcher.Main.basicRun(Main.java:278)</Frame>
          <Frame depth="46">org.eclipse.core.launcher.Main.run(Main.java:973)</Frame>
          <Frame depth="47">org.eclipse.core.launcher.Main.main(Main.java:948)</Frame>
        </Frames>
      </Stacktrace>
      <Cause timestamp="1437330617731">
        <Exception>org.eclipse.jdt.internal.corext.Assert$AssertionFailedException</Exception>
        <Reason>null argument;</Reason>
        <Frames>
          <Frame depth="0">org.eclipse.jdt.internal.corext.Assert.isNotNull(Assert.java:108)</Frame>
          <Frame depth="1">org.eclipse.jdt.internal.corext.Assert.isNotNull(Assert.java:86)</Frame>
          <Frame depth="2">org.eclipse.jdt.internal.corext.refactoring.structure.MoveInnerToTopRefactoring.findTypeDeclaration(MoveInnerToTopRefactoring.java:406)</Frame>
          <Frame depth="3">org.eclipse.jdt.internal.corext.refactoring.structure.MoveInnerToTopRefactoring.createNewSource(MoveInnerToTopRefactoring.java:1020)</Frame>
          <Frame depth="4">org.eclipse.jdt.internal.corext.refactoring.structure.MoveInnerToTopRefactoring.createChangeManager(MoveInnerToTopRefactoring.java:839)</Frame>
          <Frame depth="5">org.eclipse.jdt.internal.corext.refactoring.structure.MoveInnerToTopRefactoring.checkFinalConditions(MoveInnerToTopRefactoring.java:743)</Frame>
          <Frame depth="6">org.eclipse.ltk.core.refactoring.CheckConditionsOperation.run(CheckConditionsOperation.java:84)</Frame>
          <Frame depth="7">org.eclipse.ltk.core.refactoring.CreateChangeOperation.run(CreateChangeOperation.java:114)</Frame>
          <Frame depth="8">org.eclipse.core.internal.resources.Workspace.run(Workspace.java:1719)</Frame>
          <Frame depth="9">org.eclipse.ltk.internal.ui.refactoring.WorkbenchRunnableAdapter.run(WorkbenchRunnableAdapter.java:86)</Frame>
          <Frame depth="10">org.eclipse.jface.operation.ModalContext$ModalContextThread.run(ModalContext.java:113)</Frame>
        </Frames>
      </Cause>
      <Stacktrace timestamp="1437330617731">
        <Exception>org.eclipse.jdt.internal.corext.Assert$AssertionFailedException</Exception>
        <Reason>null argument;</Reason>
        <Frames>
          <Frame depth="0">org.eclipse.jdt.internal.corext.Assert.isNotNull(Assert.java:108)</Frame>
          <Frame depth="1">org.eclipse.jdt.internal.corext.Assert.isNotNull(Assert.java:86)</Frame>
          <Frame depth="2">org.eclipse.jdt.internal.corext.refactoring.structure.MoveInnerToTopRefactoring.findTypeDeclaration(MoveInnerToTopRefactoring.java:406)</Frame>
          <Frame depth="3">org.eclipse.jdt.internal.corext.refactoring.structure.MoveInnerToTopRefactoring.createNewSource(MoveInnerToTopRefactoring.java:1020)</Frame>
          <Frame depth="4">org.eclipse.jdt.internal.corext.refactoring.structure.MoveInnerToTopRefactoring.createChangeManager(MoveInnerToTopRefactoring.java:839)</Frame>
          <Frame depth="5">org.eclipse.jdt.internal.corext.refactoring.structure.MoveInnerToTopRefactoring.checkFinalConditions(MoveInnerToTopRefactoring.java:743)</Frame>
          <Frame depth="6">org.eclipse.ltk.core.refactoring.CheckConditionsOperation.run(CheckConditionsOperation.java:84)</Frame>
          <Frame depth="7">org.eclipse.ltk.core.refactoring.CreateChangeOperation.run(CreateChangeOperation.java:114)</Frame>
          <Frame depth="8">org.eclipse.core.internal.resources.Workspace.run(Workspace.java:1719)</Frame>
          <Frame depth="9">org.eclipse.ltk.internal.ui.refactoring.WorkbenchRunnableAdapter.run(WorkbenchRunnableAdapter.java:86)</Frame>
          <Frame depth="10">org.eclipse.jface.operation.ModalContext$ModalContextThread.run(ModalContext.java:113)</Frame>
        </Frames>
      </Stacktrace>
    </Stacktraces>
    <SourceCodeRegions amount="2">
      <source_code type="package">
        <location start="141" end="157" />
        <code>package movebug;</code>
      </source_code>
      <source_code type="class">
        <location start="159" end="262" />
        <code>public class Outer {
	private int field;
	private class Inner {
		public Inner() {
			field++;
		}
	}
}</code>
      </source_code>
    </SourceCodeRegions>
    <Enumerations amount="1">
      <Enumeration lines="7">
        <Lines>
          <Line>- right click the Inner class</Line>
          <Line>- do refactor -&gt; move member type to new file</Line>
          <Line>- say OK</Line>
          <Line>- See that there are problems. (field "field" is too private).</Line>
          <Line>- Select back.</Line>
          <Line>- Select preview.</Line>
          <Line>- Boom.</Line>
        </Lines>
      </Enumeration>
    </Enumerations>
    <bug_status amount="RESOLVED" />
    <resolution amount="FIXED" />
    <WithStack>This bug might be related to bug 40647 which has been closed. But since my stack trace is different, I'll open a new one.

Take this class:

package movebug;

public class Outer {
	private int field;
	private class Inner {
		public Inner() {
			field++;
		}
	}
}


- right click the Inner class
- do refactor -&gt; move member type to new file
- say OK
- See that there are problems. (field "field" is too private).
- Select back.
- Select preview.
- Boom.

Alternatively, select ok instead of preview.


rest below is log file

!SESSION 2005-12-12 20:23:24.37 ------------------------------------------------
eclipse.buildId=M20050929-0840
java.version=1.5.0_05
java.vendor=Sun Microsystems Inc.
BootLoader constants: OS=win32, ARCH=x86, WS=win32, NL=de_DE
Command-line arguments:  -os win32 -ws win32 -arch x86

!ENTRY org.eclipse.ltk.ui.refactoring 4 10000 2005-12-12 20:25:10.890
!MESSAGE Internal Error
!STACK 0
java.lang.reflect.InvocationTargetException
	at org.eclipse.jface.operation.ModalContext.run(ModalContext.java:327)
	at org.eclipse.ltk.internal.ui.refactoring.RefactoringWizardDialog2.run(RefactoringWizardDialog2.java:293)
	at org.eclipse.ltk.ui.refactoring.RefactoringWizard.createChange(RefactoringWizard.java:573)
	at org.eclipse.ltk.ui.refactoring.RefactoringWizard.computeUserInputSuccessorPage(RefactoringWizard.java:416)
	at org.eclipse.ltk.ui.refactoring.UserInputWizardPage.computeSuccessorPage(UserInputWizardPage.java:74)
	at org.eclipse.ltk.ui.refactoring.UserInputWizardPage.getNextPage(UserInputWizardPage.java:114)
	at org.eclipse.ltk.internal.ui.refactoring.RefactoringWizardDialog2.previewPressed(RefactoringWizardDialog2.java:447)
	at org.eclipse.ltk.internal.ui.refactoring.RefactoringWizardDialog2.access$3(RefactoringWizardDialog2.java:445)
	at org.eclipse.ltk.internal.ui.refactoring.RefactoringWizardDialog2$1.widgetSelected(RefactoringWizardDialog2.java:584)
	at org.eclipse.swt.widgets.TypedListener.handleEvent(TypedListener.java:90)
	at org.eclipse.swt.widgets.EventTable.sendEvent(EventTable.java:66)
	at org.eclipse.swt.widgets.Widget.sendEvent(Widget.java:843)
	at org.eclipse.swt.widgets.Display.runDeferredEvents(Display.java:3080)
	at org.eclipse.swt.widgets.Display.readAndDispatch(Display.java:2713)
	at org.eclipse.jface.window.Window.runEventLoop(Window.java:809)
	at org.eclipse.jface.window.Window.open(Window.java:787)
	at org.eclipse.ltk.ui.refactoring.RefactoringWizardOpenOperation$1.run(RefactoringWizardOpenOperation.java:125)
	at org.eclipse.swt.custom.BusyIndicator.showWhile(BusyIndicator.java:69)
	at org.eclipse.ltk.ui.refactoring.RefactoringWizardOpenOperation.run(RefactoringWizardOpenOperation.java:138)
	at org.eclipse.jdt.internal.ui.refactoring.actions.RefactoringStarter.activate(RefactoringStarter.java:40)
	at org.eclipse.jdt.internal.corext.refactoring.RefactoringExecutionStarter.startMoveInnerRefactoring(RefactoringExecutionStarter.java:275)
	at org.eclipse.jdt.ui.actions.ConvertNestedToTopAction.run(ConvertNestedToTopAction.java:154)
	at org.eclipse.jdt.ui.actions.SelectionDispatchAction.dispatchRun(SelectionDispatchAction.java:226)
	at org.eclipse.jdt.ui.actions.SelectionDispatchAction.run(SelectionDispatchAction.java:198)
	at org.eclipse.jface.action.Action.runWithEvent(Action.java:996)
	at org.eclipse.jface.action.ActionContributionItem.handleWidgetSelection(ActionContributionItem.java:538)
	at org.eclipse.jface.action.ActionContributionItem.access$2(ActionContributionItem.java:488)
	at org.eclipse.jface.action.ActionContributionItem$5.handleEvent(ActionContributionItem.java:400)
	at org.eclipse.swt.widgets.EventTable.sendEvent(EventTable.java:66)
	at org.eclipse.swt.widgets.Widget.sendEvent(Widget.java:843)
	at org.eclipse.swt.widgets.Display.runDeferredEvents(Display.java:3080)
	at org.eclipse.swt.widgets.Display.readAndDispatch(Display.java:2713)
	at org.eclipse.ui.internal.Workbench.runEventLoop(Workbench.java:1699)
	at org.eclipse.ui.internal.Workbench.runUI(Workbench.java:1663)
	at org.eclipse.ui.internal.Workbench.createAndRunWorkbench(Workbench.java:367)
	at org.eclipse.ui.PlatformUI.createAndRunWorkbench(PlatformUI.java:143)
	at org.eclipse.ui.internal.ide.IDEApplication.run(IDEApplication.java:103)
	at org.eclipse.core.internal.runtime.PlatformActivator$1.run(PlatformActivator.java:226)
	at org.eclipse.core.runtime.adaptor.EclipseStarter.run(EclipseStarter.java:376)
	at org.eclipse.core.runtime.adaptor.EclipseStarter.run(EclipseStarter.java:163)
	at sun.reflect.NativeMethodAccessorImpl.invoke0(Native Method)
	at sun.reflect.NativeMethodAccessorImpl.invoke(Unknown Source)
	at sun.reflect.DelegatingMethodAccessorImpl.invoke(Unknown Source)
	at java.lang.reflect.Method.invoke(Unknown Source)
	at org.eclipse.core.launcher.Main.invokeFramework(Main.java:334)
	at org.eclipse.core.launcher.Main.basicRun(Main.java:278)
	at org.eclipse.core.launcher.Main.run(Main.java:973)
	at org.eclipse.core.launcher.Main.main(Main.java:948)
Caused by: org.eclipse.jdt.internal.corext.Assert$AssertionFailedException: null argument;
	at org.eclipse.jdt.internal.corext.Assert.isNotNull(Assert.java:108)
	at org.eclipse.jdt.internal.corext.Assert.isNotNull(Assert.java:86)
	at org.eclipse.jdt.internal.corext.refactoring.structure.MoveInnerToTopRefactoring.findTypeDeclaration(MoveInnerToTopRefactoring.java:406)
	at org.eclipse.jdt.internal.corext.refactoring.structure.MoveInnerToTopRefactoring.createNewSource(MoveInnerToTopRefactoring.java:1020)
	at org.eclipse.jdt.internal.corext.refactoring.structure.MoveInnerToTopRefactoring.createChangeManager(MoveInnerToTopRefactoring.java:839)
	at org.eclipse.jdt.internal.corext.refactoring.structure.MoveInnerToTopRefactoring.checkFinalConditions(MoveInnerToTopRefactoring.java:743)
	at org.eclipse.ltk.core.refactoring.CheckConditionsOperation.run(CheckConditionsOperation.java:84)
	at org.eclipse.ltk.core.refactoring.CreateChangeOperation.run(CreateChangeOperation.java:114)
	at org.eclipse.core.internal.resources.Workspace.run(Workspace.java:1719)
	at org.eclipse.ltk.internal.ui.refactoring.WorkbenchRunnableAdapter.run(WorkbenchRunnableAdapter.java:86)
	at org.eclipse.jface.operation.ModalContext$ModalContextThread.run(ModalContext.java:113)
Root exception:
org.eclipse.jdt.internal.corext.Assert$AssertionFailedException: null argument;
	at org.eclipse.jdt.internal.corext.Assert.isNotNull(Assert.java:108)
	at org.eclipse.jdt.internal.corext.Assert.isNotNull(Assert.java:86)
	at org.eclipse.jdt.internal.corext.refactoring.structure.MoveInnerToTopRefactoring.findTypeDeclaration(MoveInnerToTopRefactoring.java:406)
	at org.eclipse.jdt.internal.corext.refactoring.structure.MoveInnerToTopRefactoring.createNewSource(MoveInnerToTopRefactoring.java:1020)
	at org.eclipse.jdt.internal.corext.refactoring.structure.MoveInnerToTopRefactoring.createChangeManager(MoveInnerToTopRefactoring.java:839)
	at org.eclipse.jdt.internal.corext.refactoring.structure.MoveInnerToTopRefactoring.checkFinalConditions(MoveInnerToTopRefactoring.java:743)
	at org.eclipse.ltk.core.refactoring.CheckConditionsOperation.run(CheckConditionsOperation.java:84)
	at org.eclipse.ltk.core.refactoring.CreateChangeOperation.run(CreateChangeOperation.java:114)
	at org.eclipse.core.internal.resources.Workspace.run(Workspace.java:1719)
	at org.eclipse.ltk.internal.ui.refactoring.WorkbenchRunnableAdapter.run(WorkbenchRunnableAdapter.java:86)
	at org.eclipse.jface.operation.ModalContext$ModalContextThread.run(ModalContext.java:113)
can you investigate if we can and should fix this for M4?


*** This bug has been marked as a duplicate of 101863 ***
hmm? 

101863 is marked as fixed for 3.1.1

*This* bug has been found in 3.1.1. How can they be duplicates?

(or should I reopen 101863 since that fix did not fix it completely?)
Oops, my mistake...
The bug manifests itself only if pressing back. Fixing this would require some rewriting, which is probably not for M4
Fixed in HEAD &gt; 20060412</WithStack>
    <WithOutStack>This bug might be related to bug 40647 which has been closed. But since my stack trace is different, I'll open a new one.

Take this class:

package movebug;

public class Outer {
	private int field;
	private class Inner {
		public Inner() {
			field++;
		}
	}
}


- right click the Inner class
- do refactor -&gt; move member type to new file
- say OK
- See that there are problems. (field "field" is too private).
- Select back.
- Select preview.
- Boom.

Alternatively, select ok instead of preview.


rest below is log file

!SESSION 2005-12-12 20:23:24.37 ------------------------------------------------
eclipse.buildId=M20050929-0840
java.version=1.5.0_05
java.vendor=Sun Microsystems Inc.
BootLoader constants: OS=win32, ARCH=x86, WS=win32, NL=de_DE
Command-line arguments:  -os win32 -ws win32 -arch x86

!ENTRY org.eclipse.ltk.ui.refactoring 4 10000 2005-12-12 20:25:10.890
!MESSAGE Internal Error
!STACK 0
Root exception:

can you investigate if we can and should fix this for M4?


*** This bug has been marked as a duplicate of 101863 ***
hmm? 

101863 is marked as fixed for 3.1.1

*This* bug has been found in 3.1.1. How can they be duplicates?

(or should I reopen 101863 since that fix did not fix it completely?)
Oops, my mistake...
The bug manifests itself only if pressing back. Fixing this would require some rewriting, which is probably not for M4
Fixed in HEAD &gt; 20060412</WithOutStack>
  </Bug>
  <Bug>
    <BugId amount="120433" />
    <CreationDate amount="2005-12-12 14:47:00 -0500" />
    <DupId amount="" />
    <classification amount="BIRT" />
    <Product amount="BIRT" />
    <component amount="Report Designer" />
    <Version amount="2.0.0" />
    <rep_platform amount="PC" />
    <op_sys amount="All" />
    <priority amount="P3" />
    <bug_severity amount="minor" />
    <Summery>File types are hard coded in ReportPage.java</Summery>
    <Patches amount="0" />
    <Stacktraces amount="0" />
    <SourceCodeRegions amount="0" />
    <Enumerations amount="0" />
    <bug_status amount="VERIFIED" />
    <resolution amount="FIXED" />
    <WithStack>File Types for Preview Image are hard coded in ReportPage.java.
(Please check the attached bitmap file)

	private final static String[] prvImgFilterNames = {
			"All Image Files(*.bmp,*.JPG,*.JPEG,*.GIF,*.TIF,*.PNG,*.ICO)", //$NON-NLS-1$
			"Bitmap Files(*.bmp)", //$NON-NLS-1$
			"JPEG Files(*.JPG,*.JPEG)", //$NON-NLS-1$
			"TIF Files(*.TIF)", //$NON-NLS-1$
			"GIF Files(*.GIF)", //$NON-NLS-1$
			"PNG Files(*.PNG)", //$NON-NLS-1$
			"Icon Files(*.ICO)" //$NON-NLS-1$
	};
Created attachment 31583
Screenshot  for this problem
The file types have been extracted to IReportGraphicConstants and externalized.


Verified that the strings are removed from ReportPage.java.</WithStack>
    <WithOutStack>File Types for Preview Image are hard coded in ReportPage.java.
(Please check the attached bitmap file)

	private final static String[] prvImgFilterNames = {
			"All Image Files(*.bmp,*.JPG,*.JPEG,*.GIF,*.TIF,*.PNG,*.ICO)", //$NON-NLS-1$
			"Bitmap Files(*.bmp)", //$NON-NLS-1$
			"JPEG Files(*.JPG,*.JPEG)", //$NON-NLS-1$
			"TIF Files(*.TIF)", //$NON-NLS-1$
			"GIF Files(*.GIF)", //$NON-NLS-1$
			"PNG Files(*.PNG)", //$NON-NLS-1$
			"Icon Files(*.ICO)" //$NON-NLS-1$
	};
Created attachment 31583
Screenshot  for this problem
The file types have been extracted to IReportGraphicConstants and externalized.


Verified that the strings are removed from ReportPage.java.</WithOutStack>
  </Bug>
  <Bug>
    <BugId amount="120434" />
    <CreationDate amount="2005-12-12 14:55:00 -0500" />
    <DupId amount="" />
    <classification amount="BIRT" />
    <Product amount="BIRT" />
    <component amount="Chart" />
    <Version amount="2.0.0" />
    <rep_platform amount="All" />
    <op_sys amount="All" />
    <priority amount="P3" />
    <bug_severity amount="enhancement" />
    <Summery>Integrate Data caching in Chart Builder</Summery>
    <Patches amount="0" />
    <Stacktraces amount="0" />
    <SourceCodeRegions amount="0" />
    <Enumerations amount="0" />
    <bug_status amount="CLOSED" />
    <resolution amount="FIXED" />
    <WithStack>We must integrate the new data caching feature of the DtE in the chart builder 
to make the chart builder UI more responsive when using live preview.
Has used DtE's data caching API
fixed
closed</WithStack>
    <WithOutStack>We must integrate the new data caching feature of the DtE in the chart builder 
to make the chart builder UI more responsive when using live preview.
Has used DtE's data caching API
fixed
closed</WithOutStack>
  </Bug>
  <Bug>
    <BugId amount="120435" />
    <CreationDate amount="2005-12-12 14:59:00 -0500" />
    <DupId amount="" />
    <classification amount="Tools" />
    <Product amount="TPTP Agent Controller" />
    <component amount="Platform.Communication" />
    <Version amount="4.1" />
    <rep_platform amount="All" />
    <op_sys amount="All" />
    <priority amount="P3" />
    <bug_severity amount="normal" />
    <Summery>TL logging needs to report actual names used</Summery>
    <Patches amount="0" />
    <Stacktraces amount="0" />
    <SourceCodeRegions amount="0" />
    <Enumerations amount="0" />
    <bug_status amount="CLOSED" />
    <resolution amount="FIXED" />
    <WithStack>The logfile currently shows 'Named pipe server is running and listening at "ramaster" pipe.' twice (as well as the shared mem TL reporting the rabuffer synch point). These come from printing out default names hardwired in rather than the actual fullPipeName from the pParam structure we have in hand with the *real* name (for both NamedPipe and SharedMem TLs). This greatly reduces the usefulness of the logfile to debug problems, especially, e.g., running multiple set-ups at the same time (which must be on different pipes).
Corrected all references to Transport Layer names going into the log file to use the right names.
As of TPTP 4.6.0, TPTP is in maintenance mode and focusing on improving quality by resolving relevant enhancements/defects and increasing test coverage through test creation, automation, Build Verification Tests (BVTs), and expanded run-time execution. As part of the TPTP Bugzilla housecleaning process (see http://wiki.eclipse.org/Bugzilla_Housecleaning_Processes), this enhancement/defect is verified/closed by the Project Lead since this enhancement/defect has been resolved and unverified for more than 1 year and considered to be fixed. If this enhancement/defect is still unresolved and reproducible in the latest TPTP release (http://www.eclipse.org/tptp/home/downloads/), please re-open.</WithStack>
    <WithOutStack>The logfile currently shows 'Named pipe server is running and listening at "ramaster" pipe.' twice (as well as the shared mem TL reporting the rabuffer synch point). These come from printing out default names hardwired in rather than the actual fullPipeName from the pParam structure we have in hand with the *real* name (for both NamedPipe and SharedMem TLs). This greatly reduces the usefulness of the logfile to debug problems, especially, e.g., running multiple set-ups at the same time (which must be on different pipes).
Corrected all references to Transport Layer names going into the log file to use the right names.
As of TPTP 4.6.0, TPTP is in maintenance mode and focusing on improving quality by resolving relevant enhancements/defects and increasing test coverage through test creation, automation, Build Verification Tests (BVTs), and expanded run-time execution. As part of the TPTP Bugzilla housecleaning process (see http://wiki.eclipse.org/Bugzilla_Housecleaning_Processes), this enhancement/defect is verified/closed by the Project Lead since this enhancement/defect has been resolved and unverified for more than 1 year and considered to be fixed. If this enhancement/defect is still unresolved and reproducible in the latest TPTP release (http://www.eclipse.org/tptp/home/downloads/), please re-open.</WithOutStack>
  </Bug>
  <Bug>
    <BugId amount="120436" />
    <CreationDate amount="2005-12-12 15:04:00 -0500" />
    <DupId amount="" />
    <classification amount="WebTools" />
    <Product amount="WTP EJB Tools" />
    <component amount="jst.ejb" />
    <Version amount="1.0" />
    <rep_platform amount="PC" />
    <op_sys amount="Windows XP" />
    <priority amount="P3" />
    <bug_severity amount="major" />
    <Summery>no ejbclient project created on new workspace</Summery>
    <Patches amount="0" />
    <Stacktraces amount="0" />
    <SourceCodeRegions amount="0" />
    <Enumerations amount="0" />
    <bug_status amount="CLOSED" />
    <resolution amount="WORKSFORME" />
    <WithStack>no ejbclient project created on new workspace

Step to recreate:

Open new empty workspace.
Create new EJB project,
goto page 3 of creation wizard, make sure ejbclient project is checked.
Hit finish.

* only EJB project is created.
There is a small usability bug that the EJB client checkbox should be disabled if the its a standalone EJB project (Not added to EAR).

Onece you add to ear, it is created.
Closing.</WithStack>
    <WithOutStack>no ejbclient project created on new workspace

Step to recreate:

Open new empty workspace.
Create new EJB project,
goto page 3 of creation wizard, make sure ejbclient project is checked.
Hit finish.

* only EJB project is created.
There is a small usability bug that the EJB client checkbox should be disabled if the its a standalone EJB project (Not added to EAR).

Onece you add to ear, it is created.
Closing.</WithOutStack>
  </Bug>
  <Bug>
    <BugId amount="120437" />
    <CreationDate amount="2005-12-12 15:10:00 -0500" />
    <DupId amount="" />
    <classification amount="BIRT" />
    <Product amount="BIRT" />
    <component amount="Report Engine" />
    <Version amount="2.0.0" />
    <rep_platform amount="PC" />
    <op_sys amount="Windows 2000" />
    <priority amount="P3" />
    <bug_severity amount="normal" />
    <Summery>Cannot drop group heading if there are multiple items in the row</Summery>
    <Patches amount="0" />
    <Stacktraces amount="0" />
    <SourceCodeRegions amount="0" />
    <Enumerations amount="1">
      <Enumeration lines="7">
        <Lines>
          <Line>1. Select the cell that contains the group heading.</Line>
          <Line>2. Set Drop to Detail.</Line>
          <Line>3. Preview the report.</Line>
          <Line>The group heading does not drop to the first cell in the detail row.</Line>
          <Line>4. Delete the labels in the group header row.</Line>
          <Line>5. Preview the report.</Line>
          <Line>Now, the group heading appears in the detail row.</Line>
        </Lines>
      </Enumeration>
    </Enumerations>
    <bug_status amount="RESOLVED" />
    <resolution amount="INVALID" />
    <WithStack>See attached report design.

1. Select the cell that contains the group heading.
2. Set Drop to Detail.
3. Preview the report.
The group heading does not drop to the first cell in the detail row.
4. Delete the labels in the group header row.
5. Preview the report.
Now, the group heading appears in the detail row.

Expected behavior: The group heading drops to the detail row even if there are other elements in the group header row. Why? Because the drop property is a cell property, not a row property. This implies I can drop selected cells.

If BIRT requires that the whole row be dropped, then the drop property should be a row property.
Created attachment 31586
report design
The cells do drop to the detail rows. You should also set the vertical align to "middle" to make the text in the middle of the dropped cell 
Verify this bug.</WithStack>
    <WithOutStack>See attached report design.

1. Select the cell that contains the group heading.
2. Set Drop to Detail.
3. Preview the report.
The group heading does not drop to the first cell in the detail row.
4. Delete the labels in the group header row.
5. Preview the report.
Now, the group heading appears in the detail row.

Expected behavior: The group heading drops to the detail row even if there are other elements in the group header row. Why? Because the drop property is a cell property, not a row property. This implies I can drop selected cells.

If BIRT requires that the whole row be dropped, then the drop property should be a row property.
Created attachment 31586
report design
The cells do drop to the detail rows. You should also set the vertical align to "middle" to make the text in the middle of the dropped cell 
Verify this bug.</WithOutStack>
  </Bug>
  <Bug>
    <BugId amount="120438" />
    <CreationDate amount="2005-12-12 15:15:00 -0500" />
    <DupId amount="" />
    <classification amount="WebTools" />
    <Product amount="WTP Java EE Tools" />
    <component amount="wst.web" />
    <Version amount="1.0" />
    <rep_platform amount="PC" />
    <op_sys amount="Windows XP" />
    <priority amount="P3" />
    <bug_severity amount="normal" />
    <Summery>[servlets] Servlet created in wrong source directory</Summery>
    <Patches amount="0" />
    <Stacktraces amount="0" />
    <SourceCodeRegions amount="0" />
    <Enumerations amount="0" />
    <bug_status amount="CLOSED" />
    <resolution amount="FIXED" />
    <WithStack>Driver:  RC3

After creating a Web project, I right-click on the project, select Properties and then Java Build Path.  I then added a new source directory "src1".  Then I right-click on src1 and select New -&gt; Web -&gt; Servlet.  The resulting servlet class is created in the src directory instead of "src1" as expected.
changing target from 1.5 M1 to 1.5 M5 to reflect new numbering system as we join Collisto. 
This is released for the 1.5 M6 drivers for 03/06/06.
Tested on I200604040834.</WithStack>
    <WithOutStack>Driver:  RC3

After creating a Web project, I right-click on the project, select Properties and then Java Build Path.  I then added a new source directory "src1".  Then I right-click on src1 and select New -&gt; Web -&gt; Servlet.  The resulting servlet class is created in the src directory instead of "src1" as expected.
changing target from 1.5 M1 to 1.5 M5 to reflect new numbering system as we join Collisto. 
This is released for the 1.5 M6 drivers for 03/06/06.
Tested on I200604040834.</WithOutStack>
  </Bug>
  <Bug>
    <BugId amount="120439" />
    <CreationDate amount="2005-12-12 15:22:00 -0500" />
    <DupId amount="" />
    <classification amount="BIRT" />
    <Product amount="BIRT" />
    <component amount="Data" />
    <Version amount="2.0.0" />
    <rep_platform amount="All" />
    <op_sys amount="All" />
    <priority amount="P3" />
    <bug_severity amount="enhancement" />
    <Summery>DtE caching should provide additional API for Chart Builder</Summery>
    <Patches amount="0" />
    <Stacktraces amount="0" />
    <SourceCodeRegions amount="0" />
    <Enumerations amount="0" />
    <bug_status amount="CLOSED" />
    <resolution amount="FIXED" />
    <WithStack>Currently the DtE caching can be disabled by the user in the DataSet UI. There 
should be a way in the API to bypass this setting, so that when the user opens 
the Chart Builder, he enters in a cached mode (when the chart builder close, we 
can exit the cached mode).

Also I did not find an API to get the cached columns names of a dataset. It 
always queries the db. Setting the refresh flag to false in getColumns does not 
return any column:


            protected DataSetItemModel[] getPreviewHeaderModel( )
            {
                        return DataSetManager.getCurrentInstance( )
                                                .getColumns( 
getDataSetFromHandle( ), true ); // set the flag to false returns null
            }


I see this code being called when the flag is false in DataSetManager.java:

            private final DataSetItemModel[] getCachedColumns( DataSetHandle 
dataSet )
            {
                        return null;
            }
DtE will consider adding a new API for this feature. But for the second issue, DataSetManager is not API of DtE or designer, and it is only a util class for interaction with DtE. You can add some methods to DataSetManager to meet your requirements, or you can also wrap the operation in your own class.
Fixed.
Verified in the build 20051220
closed</WithStack>
    <WithOutStack>Currently the DtE caching can be disabled by the user in the DataSet UI. There 
should be a way in the API to bypass this setting, so that when the user opens 
the Chart Builder, he enters in a cached mode (when the chart builder close, we 
can exit the cached mode).

Also I did not find an API to get the cached columns names of a dataset. It 
always queries the db. Setting the refresh flag to false in getColumns does not 
return any column:


            protected DataSetItemModel[] getPreviewHeaderModel( )
            {
                        return DataSetManager.getCurrentInstance( )
                                                .getColumns( 
getDataSetFromHandle( ), true ); // set the flag to false returns null
            }


I see this code being called when the flag is false in DataSetManager.java:

            private final DataSetItemModel[] getCachedColumns( DataSetHandle 
dataSet )
            {
                        return null;
            }
DtE will consider adding a new API for this feature. But for the second issue, DataSetManager is not API of DtE or designer, and it is only a util class for interaction with DtE. You can add some methods to DataSetManager to meet your requirements, or you can also wrap the operation in your own class.
Fixed.
Verified in the build 20051220
closed</WithOutStack>
  </Bug>
  <Bug>
    <BugId amount="120440" />
    <CreationDate amount="2005-12-12 15:29:00 -0500" />
    <DupId amount="" />
    <classification amount="Tools" />
    <Product amount="TPTP Profiling" />
    <component amount="Platform.Doc" />
    <Version amount="4.1" />
    <rep_platform amount="All" />
    <op_sys amount="All" />
    <priority amount="P3" />
    <bug_severity amount="normal" />
    <Summery>[release note] new tech AC bad logfile info given, or even no logfile</Summery>
    <Patches amount="0" />
    <Stacktraces amount="0" />
    <SourceCodeRegions amount="0" />
    <Enumerations amount="0" />
    <bug_status amount="CLOSED" />
    <resolution amount="WONTFIX" />
    <WithStack>We need to warn users of the new technology AC that the logfile reports the pipes/shared mem incorrectly (bugzilla#_120435). This can hinder users ability to debug their problems, especially, e.g., setting up multiple ACs. Our currently pointing them at the wrong root causes should be documented!

More minor, but still important for Linux users, is that we added a new default location for that logfile... and since we currently don't tell the users (in the readme.txt or any other file) that they need to edit the "directory" attribute (a Windows-specific "..\bin" right now), they won't even be able to see the logfile! Tell them, for Linux, to change the "\" to a "/".
We will likely fix the problem and not need any Release Note item for this.  But, keeping this for i2 to make sure.
I think Vishnu has actually fixed this to report correctly. Does it need to be closed out for i1, since fix is in??
No need to document.  Problem fixed in 4.2 i1.
As of TPTP 4.6.0, TPTP is in maintenance mode and focusing on improving quality by resolving relevant enhancements/defects and increasing test coverage through test creation, automation, Build Verification Tests (BVTs), and expanded run-time execution. As part of the TPTP Bugzilla housecleaning process (see http://wiki.eclipse.org/Bugzilla_Housecleaning_Processes), this enhancement/defect is verified/closed by the Project Lead since this enhancement/defect has been resolved and unverified for more than 1 year and considered to be fixed. If this enhancement/defect is still unresolved and reproducible in the latest TPTP release (http://www.eclipse.org/tptp/home/downloads/), please re-open.
As of TPTP 4.6.0, TPTP is in maintenance mode and focusing on improving quality by resolving relevant enhancements/defects and increasing test coverage through test creation, automation, Build Verification Tests (BVTs), and expanded run-time execution. As part of the TPTP Bugzilla housecleaning process (see http://wiki.eclipse.org/Bugzilla_Housecleaning_Processes), this enhancement/defect is verified/closed by the Project Lead since this enhancement/defect has been resolved and unverified for more than 1 year and considered to be fixed. If this enhancement/defect is still unresolved and reproducible in the latest TPTP release (http://www.eclipse.org/tptp/home/downloads/), please re-open.</WithStack>
    <WithOutStack>We need to warn users of the new technology AC that the logfile reports the pipes/shared mem incorrectly (bugzilla#_120435). This can hinder users ability to debug their problems, especially, e.g., setting up multiple ACs. Our currently pointing them at the wrong root causes should be documented!

More minor, but still important for Linux users, is that we added a new default location for that logfile... and since we currently don't tell the users (in the readme.txt or any other file) that they need to edit the "directory" attribute (a Windows-specific "..\bin" right now), they won't even be able to see the logfile! Tell them, for Linux, to change the "\" to a "/".
We will likely fix the problem and not need any Release Note item for this.  But, keeping this for i2 to make sure.
I think Vishnu has actually fixed this to report correctly. Does it need to be closed out for i1, since fix is in??
No need to document.  Problem fixed in 4.2 i1.
As of TPTP 4.6.0, TPTP is in maintenance mode and focusing on improving quality by resolving relevant enhancements/defects and increasing test coverage through test creation, automation, Build Verification Tests (BVTs), and expanded run-time execution. As part of the TPTP Bugzilla housecleaning process (see http://wiki.eclipse.org/Bugzilla_Housecleaning_Processes), this enhancement/defect is verified/closed by the Project Lead since this enhancement/defect has been resolved and unverified for more than 1 year and considered to be fixed. If this enhancement/defect is still unresolved and reproducible in the latest TPTP release (http://www.eclipse.org/tptp/home/downloads/), please re-open.
As of TPTP 4.6.0, TPTP is in maintenance mode and focusing on improving quality by resolving relevant enhancements/defects and increasing test coverage through test creation, automation, Build Verification Tests (BVTs), and expanded run-time execution. As part of the TPTP Bugzilla housecleaning process (see http://wiki.eclipse.org/Bugzilla_Housecleaning_Processes), this enhancement/defect is verified/closed by the Project Lead since this enhancement/defect has been resolved and unverified for more than 1 year and considered to be fixed. If this enhancement/defect is still unresolved and reproducible in the latest TPTP release (http://www.eclipse.org/tptp/home/downloads/), please re-open.</WithOutStack>
  </Bug>
  <Bug>
    <BugId amount="120441" />
    <CreationDate amount="2005-12-12 15:29:00 -0500" />
    <DupId amount="" />
    <classification amount="Eclipse" />
    <Product amount="Platform" />
    <component amount="UI" />
    <Version amount="3.2" />
    <rep_platform amount="PC" />
    <op_sys amount="Windows XP" />
    <priority amount="P3" />
    <bug_severity amount="normal" />
    <Summery>[DnD] Cancelling the Drag places trim in the wrong place</Summery>
    <Patches amount="0" />
    <Stacktraces amount="0" />
    <SourceCodeRegions amount="0" />
    <Enumerations amount="0" />
    <bug_status amount="VERIFIED" />
    <resolution amount="FIXED" />
    <WithStack>Right now if you are dragging trim around, docking and undocking it then either cancelling the trim (or 'dropping' it in an invalid location) will 'restore' it to its last 'docked' location. It should restore the trim to its -original- docked location.
*** Bug 120425 has been marked as a duplicate of this bug. ***

Fix Committed for M4....


Fixed for &gt;20051214-1200


Verified in I20051214-1200</WithStack>
    <WithOutStack>Right now if you are dragging trim around, docking and undocking it then either cancelling the trim (or 'dropping' it in an invalid location) will 'restore' it to its last 'docked' location. It should restore the trim to its -original- docked location.
*** Bug 120425 has been marked as a duplicate of this bug. ***

Fix Committed for M4....


Fixed for &gt;20051214-1200


Verified in I20051214-1200</WithOutStack>
  </Bug>
  <Bug>
    <BugId amount="120442" />
    <CreationDate amount="2005-12-12 15:38:00 -0500" />
    <DupId amount="" />
    <classification amount="Eclipse" />
    <Product amount="JDT" />
    <component amount="Text" />
    <Version amount="3.1" />
    <rep_platform amount="PC" />
    <op_sys amount="Windows XP" />
    <priority amount="P3" />
    <bug_severity amount="normal" />
    <Summery>[implementation] ASTProvider.fReconcilingJavaElement holds on to CompilationUnit</Summery>
    <Patches amount="0" />
    <Stacktraces amount="0" />
    <SourceCodeRegions amount="0" />
    <Enumerations amount="1">
      <Enumeration lines="4">
        <Lines>
          <Line>1. open CU</Line>
          <Line>2. close CU</Line>
          <Line>==&gt; ASTProvider.fReconcilingJavaElement holds on to CompilationUnit.</Line>
          <Line>Fixed in HEAD.</Line>
        </Lines>
      </Enumeration>
    </Enumerations>
    <bug_status amount="RESOLVED" />
    <resolution amount="FIXED" />
    <WithStack>I20051212-0800

1. open CU
2. close CU
==&gt; ASTProvider.fReconcilingJavaElement holds on to CompilationUnit.
Fixed in HEAD.</WithStack>
    <WithOutStack>I20051212-0800

1. open CU
2. close CU
==&gt; ASTProvider.fReconcilingJavaElement holds on to CompilationUnit.
Fixed in HEAD.</WithOutStack>
  </Bug>
  <Bug>
    <BugId amount="120443" />
    <CreationDate amount="2005-12-12 15:40:00 -0500" />
    <DupId amount="" />
    <classification amount="Eclipse" />
    <Product amount="Platform" />
    <component amount="Debug" />
    <Version amount="3.2" />
    <rep_platform amount="PC" />
    <op_sys amount="Windows XP" />
    <priority amount="P3" />
    <bug_severity amount="normal" />
    <Summery>[Memory View] Reset Monitor action does not run</Summery>
    <Patches amount="0" />
    <Stacktraces amount="0" />
    <SourceCodeRegions amount="0" />
    <Enumerations amount="1">
      <Enumeration lines="6">
        <Lines>
          <Line>1.  Create two memory blocks</Line>
          <Line>2.  Create renderings for each of the memory block</Line>
          <Line>3.  Select the second memory block.</Line>
          <Line>4.  Move the cursor in a rendering and scroll away from the base address.</Line>
          <Line>5.  Select the first memory block and then select the second memory block again.</Line>
          <Line>6.  Inovke "Reset Memory Monitor" action</Line>
        </Lines>
      </Enumeration>
    </Enumerations>
    <bug_status amount="VERIFIED" />
    <resolution amount="FIXED" />
    <WithStack>1.  Create two memory blocks
2.  Create renderings for each of the memory block
3.  Select the second memory block. 
4.  Move the cursor in a rendering and scroll away from the base address.
5.  Select the first memory block and then select the second memory block again.
6.  Inovke "Reset Memory Monitor" action

Invoking the action has no effect.  
To get around problem, select a rendering and then select the same memory block.
The action only handles IMemoryBlock selection from the Memory View.  As the user switches between memory blocks, the action could get selection changed events for both IMemoryBlock and IMemoryRendering.  Since the action does not take IMemoryRendering into account, fSelectedMB becomes empty.  As a result, the action does not run when it is invoked.

ResetMemoryBlock action needs to take into account that a selection can be an IMeomryBlock or IMemoryRendering from the memory view.  
Fixed in ResetMemoryBlockAction.
Darin, please verify.
Thanks.
Sam
Verified</WithStack>
    <WithOutStack>1.  Create two memory blocks
2.  Create renderings for each of the memory block
3.  Select the second memory block. 
4.  Move the cursor in a rendering and scroll away from the base address.
5.  Select the first memory block and then select the second memory block again.
6.  Inovke "Reset Memory Monitor" action

Invoking the action has no effect.  
To get around problem, select a rendering and then select the same memory block.
The action only handles IMemoryBlock selection from the Memory View.  As the user switches between memory blocks, the action could get selection changed events for both IMemoryBlock and IMemoryRendering.  Since the action does not take IMemoryRendering into account, fSelectedMB becomes empty.  As a result, the action does not run when it is invoked.

ResetMemoryBlock action needs to take into account that a selection can be an IMeomryBlock or IMemoryRendering from the memory view.  
Fixed in ResetMemoryBlockAction.
Darin, please verify.
Thanks.
Sam
Verified</WithOutStack>
  </Bug>
  <Bug>
    <BugId amount="120444" />
    <CreationDate amount="2005-12-12 15:48:00 -0500" />
    <DupId amount="" />
    <classification amount="Eclipse Foundation" />
    <Product amount="Community" />
    <component amount="Website" />
    <Version amount="unspecified" />
    <rep_platform amount="PC" />
    <op_sys amount="Windows XP" />
    <priority amount="P3" />
    <bug_severity amount="major" />
    <Summery>Popout menu is very inconvenient</Summery>
    <Patches amount="0" />
    <Stacktraces amount="0" />
    <SourceCodeRegions amount="1">
      <source_code type="functioncall">
        <location start="445" end="513" />
        <code>$Nav-&gt;addCustomNav("Google", "http://www.google.com/", "_blank", 1);</code>
      </source_code>
    </SourceCodeRegions>
    <Enumerations amount="0" />
    <bug_status amount="RESOLVED" />
    <resolution amount="WORKSFORME" />
    <WithStack>I really don't like the popout behaviour of the left-hand menu. As far as I can tell we can't create new top-level menu items here, which means that our important items are not visible unless the user flies the mouse over the "Project Home" link. This is really lame - the whole point of putting links there is so that they are visible, not hidden. Please change back to the old behaviour.
It's easy to add new links to the left nav. Just use:

$Nav-&gt;addCustomNav("Google", "http://www.google.com/", "_blank", 1);
                     must use "1" for top-level items ----------^^^

Do you have an example page where this does not work?

*** Bug 120454 has been marked as a duplicate of this bug. ***
Phew!  Thanks for the quick reply Bjorn, that's exactly what it was.  

I used the original template that was posted (maybe it still needs updating?) and didn't know what that parameter meant.
I figured that was the problem - and it's going to mess up a number of people (sigh). The parameter is the nesting depth and it should have been "1" in the original template. The template now has "1", but that didn't help you :-(</WithStack>
    <WithOutStack>I really don't like the popout behaviour of the left-hand menu. As far as I can tell we can't create new top-level menu items here, which means that our important items are not visible unless the user flies the mouse over the "Project Home" link. This is really lame - the whole point of putting links there is so that they are visible, not hidden. Please change back to the old behaviour.
It's easy to add new links to the left nav. Just use:

$Nav-&gt;addCustomNav("Google", "http://www.google.com/", "_blank", 1);
                     must use "1" for top-level items ----------^^^

Do you have an example page where this does not work?

*** Bug 120454 has been marked as a duplicate of this bug. ***
Phew!  Thanks for the quick reply Bjorn, that's exactly what it was.  

I used the original template that was posted (maybe it still needs updating?) and didn't know what that parameter meant.
I figured that was the problem - and it's going to mess up a number of people (sigh). The parameter is the nesting depth and it should have been "1" in the original template. The template now has "1", but that didn't help you :-(</WithOutStack>
  </Bug>
  <Bug>
    <BugId amount="120445" />
    <CreationDate amount="2005-12-12 16:09:00 -0500" />
    <DupId amount="" />
    <classification amount="Eclipse" />
    <Product amount="Platform" />
    <component amount="UI" />
    <Version amount="3.2" />
    <rep_platform amount="PC" />
    <op_sys amount="Windows 2000" />
    <priority amount="P3" />
    <bug_severity amount="normal" />
    <Summery>data binding</Summery>
    <Patches amount="0" />
    <Stacktraces amount="0" />
    <SourceCodeRegions amount="0" />
    <Enumerations amount="0" />
    <bug_status amount="RESOLVED" />
    <resolution amount="INVALID" />
    <WithStack>never mind</WithStack>
    <WithOutStack>never mind</WithOutStack>
  </Bug>
  <Bug>
    <BugId amount="120446" />
    <CreationDate amount="2005-12-12 16:14:00 -0500" />
    <DupId amount="" />
    <classification amount="Eclipse" />
    <Product amount="Platform" />
    <component amount="User Assistance" />
    <Version amount="3.2" />
    <rep_platform amount="All" />
    <op_sys amount="All" />
    <priority amount="P3" />
    <bug_severity amount="normal" />
    <Summery>[Help] Need a keyboard shortcut to close the help tray</Summery>
    <Patches amount="0" />
    <Stacktraces amount="0" />
    <SourceCodeRegions amount="0" />
    <Enumerations amount="0" />
    <bug_status amount="RESOLVED" />
    <resolution amount="FIXED" />
    <WithStack>Currently there's no keyboard shortcut to close the context help / cheatsheet tray. You can close it by tabbing to the close button, but we need a shortcut.
Created attachment 31598
patch to be applied after M4
Applied.
Resolving as fixed.</WithStack>
    <WithOutStack>Currently there's no keyboard shortcut to close the context help / cheatsheet tray. You can close it by tabbing to the close button, but we need a shortcut.
Created attachment 31598
patch to be applied after M4
Applied.
Resolving as fixed.</WithOutStack>
  </Bug>
  <Bug>
    <BugId amount="120447" />
    <CreationDate amount="2005-12-12 16:16:00 -0500" />
    <DupId amount="" />
    <classification amount="Eclipse" />
    <Product amount="Platform" />
    <component amount="Debug" />
    <Version amount="3.2" />
    <rep_platform amount="PC" />
    <op_sys amount="Windows XP" />
    <priority amount="P3" />
    <bug_severity amount="normal" />
    <Summery>prompted to save scrapbook editor before exeucting expression</Summery>
    <Patches amount="0" />
    <Stacktraces amount="0" />
    <SourceCodeRegions amount="0" />
    <Enumerations amount="0" />
    <bug_status amount="VERIFIED" />
    <resolution amount="FIXED" />
    <WithStack>I20051212-1200

Should not be prompted to save scrapbook editor before exeucting expression from the scropbook.
Fixed in SaveScopeResourcesHandler and LaunchConfigurationDelegate. Pass config &amp; projects to status handler so config private attribute can be tested.
Please verify, Michael.
verified.
Moving to platform, as fix was there.</WithStack>
    <WithOutStack>I20051212-1200

Should not be prompted to save scrapbook editor before exeucting expression from the scropbook.
Fixed in SaveScopeResourcesHandler and LaunchConfigurationDelegate. Pass config &amp; projects to status handler so config private attribute can be tested.
Please verify, Michael.
verified.
Moving to platform, as fix was there.</WithOutStack>
  </Bug>
  <Bug>
    <BugId amount="120448" />
    <CreationDate amount="2005-12-12 16:25:00 -0500" />
    <DupId amount="" />
    <classification amount="BIRT" />
    <Product amount="BIRT" />
    <component amount="Report Engine" />
    <Version amount="2.0.0" />
    <rep_platform amount="PC" />
    <op_sys amount="Windows 2000" />
    <priority amount="P3" />
    <bug_severity amount="critical" />
    <Summery>Issue with returned id</Summery>
    <Patches amount="0" />
    <Stacktraces amount="0" />
    <SourceCodeRegions amount="0" />
    <Enumerations amount="0" />
    <bug_status amount="CLOSED" />
    <resolution amount="FIXED" />
    <WithStack>After the change of id, InstanceId.parse() can no long be able to parse the id and how can I determin the type of this element? What would be the component id based on the id I get? Or there is another api that I can use to query the type. Note that all these happened in the document processor that rendering the page. Js code has not been invoked to send back the idd that recognizable by the InstanceId.parse().
Fixed. append type info to element (table, list and chart) id, comma as separator.
VERIFIED</WithStack>
    <WithOutStack>After the change of id, InstanceId.parse() can no long be able to parse the id and how can I determin the type of this element? What would be the component id based on the id I get? Or there is another api that I can use to query the type. Note that all these happened in the document processor that rendering the page. Js code has not been invoked to send back the idd that recognizable by the InstanceId.parse().
Fixed. append type info to element (table, list and chart) id, comma as separator.
VERIFIED</WithOutStack>
  </Bug>
  <Bug>
    <BugId amount="120449" />
    <CreationDate amount="2005-12-12 16:28:00 -0500" />
    <DupId amount="" />
    <classification amount="Eclipse" />
    <Product amount="Platform" />
    <component amount="CVS" />
    <Version amount="3.2" />
    <rep_platform amount="PC" />
    <op_sys amount="Windows XP" />
    <priority amount="P3" />
    <bug_severity amount="normal" />
    <Summery>[Patch] Should use API from Compare</Summery>
    <Patches amount="0" />
    <Stacktraces amount="0" />
    <SourceCodeRegions amount="0" />
    <Enumerations amount="0" />
    <bug_status amount="RESOLVED" />
    <resolution amount="FIXED" />
    <WithStack>The CVS create patch does not use the API provided by compare for doing the patch markup. I tried to convert it but it turns out that, although the API is provided by compare, the bundle doesn't export it properly. We'll need to address this in M5.
Fixed in HEAD.</WithStack>
    <WithOutStack>The CVS create patch does not use the API provided by compare for doing the patch markup. I tried to convert it but it turns out that, although the API is provided by compare, the bundle doesn't export it properly. We'll need to address this in M5.
Fixed in HEAD.</WithOutStack>
  </Bug>
  <Bug>
    <BugId amount="120450" />
    <CreationDate amount="2005-12-12 16:31:00 -0500" />
    <DupId amount="" />
    <classification amount="BIRT" />
    <Product amount="BIRT" />
    <component amount="Report Engine" />
    <Version amount="2.0.0" />
    <rep_platform amount="PC" />
    <op_sys amount="Windows XP" />
    <priority amount="P3" />
    <bug_severity amount="normal" />
    <Summery>In a grouped report that uses a table element to align columns, the column alignment in the report's preview changes after a page break.</Summery>
    <Patches amount="0" />
    <Stacktraces amount="0" />
    <SourceCodeRegions amount="0" />
    <Enumerations amount="0" />
    <bug_status amount="RESOLVED" />
    <resolution amount="FIXED" />
    <WithStack>Description:
In a grouped report that uses a table element to align columns, the column alignment in the report's preview changes after a page break. In Preview, the initial page of the attached Customers_grouped.rptdesign displays four columns. The first column displays the credit rank group range values. After the first page break where BIRT Report Designer inserts a left-aligned generation date in the report's page footer, the first column does not appear, and the second column shifts to the left, displaying the Customer column aligned with the left edge of the report. 

Steps to reproduce:
1 Open the attached Customers_grouped.rptdesign in BIRT Report Designer.
2 Choose Preview.
  The first column displays credit rank groups. The second column displays Customer names for each group.
3 Scroll through the report to find the left-aligned report generation date and time.
4 Observe that the table contents that follow the report generation date and time do not display the first column's credit rank groups. The contents of the Customer column appear left-aligned.

The expected behavior is that the columns' display and alignment should be the same as the report appearance before the inserted generation date.

Operating System and application versions:
WinXP Professional version 2002 Service Pack 2
Eclipse 3.1.0 Build id: I20050627-1435
BIRT Report Designer Milestone 3 build installed from from birt-report-framework-2.0M3.zip
emf-sdo-SDK-2.1.0.zip
GEF-runtime-3.1.zip
Created attachment 31591
Report design
Fixed, disble the page-break of rows which contain drop-cells.
Verified in build 20060112</WithStack>
    <WithOutStack>Description:
In a grouped report that uses a table element to align columns, the column alignment in the report's preview changes after a page break. In Preview, the initial page of the attached Customers_grouped.rptdesign displays four columns. The first column displays the credit rank group range values. After the first page break where BIRT Report Designer inserts a left-aligned generation date in the report's page footer, the first column does not appear, and the second column shifts to the left, displaying the Customer column aligned with the left edge of the report. 

Steps to reproduce:
1 Open the attached Customers_grouped.rptdesign in BIRT Report Designer.
2 Choose Preview.
  The first column displays credit rank groups. The second column displays Customer names for each group.
3 Scroll through the report to find the left-aligned report generation date and time.
4 Observe that the table contents that follow the report generation date and time do not display the first column's credit rank groups. The contents of the Customer column appear left-aligned.

The expected behavior is that the columns' display and alignment should be the same as the report appearance before the inserted generation date.

Operating System and application versions:
WinXP Professional version 2002 Service Pack 2
Eclipse 3.1.0 Build id: I20050627-1435
BIRT Report Designer Milestone 3 build installed from from birt-report-framework-2.0M3.zip
emf-sdo-SDK-2.1.0.zip
GEF-runtime-3.1.zip
Created attachment 31591
Report design
Fixed, disble the page-break of rows which contain drop-cells.
Verified in build 20060112</WithOutStack>
  </Bug>
  <Bug>
    <BugId amount="120451" />
    <CreationDate amount="2005-12-12 16:36:00 -0500" />
    <DupId amount="118245" />
    <classification amount="Eclipse Foundation" />
    <Product amount="Community" />
    <component amount="Wiki" />
    <Version amount="unspecified" />
    <rep_platform amount="PC" />
    <op_sys amount="Windows XP" />
    <priority amount="P3" />
    <bug_severity amount="enhancement" />
    <Summery>enable subscription/watchlist functionality for non-committers</Summery>
    <Patches amount="0" />
    <Stacktraces amount="0" />
    <SourceCodeRegions amount="0" />
    <Enumerations amount="0" />
    <bug_status amount="RESOLVED" />
    <resolution amount="DUPLICATE" />
    <WithStack>Tom Roche Dec 9, 2005, at 7:19 AM
&gt;&gt;&gt;&gt;&gt;&gt; How can Eclipse users (i.e. non-committers) receive
&gt;&gt;&gt;&gt;&gt;&gt; notification of changes to Eclipsepedia pages? Why I ask:

&gt;&gt;&gt;&gt;&gt;&gt; Rational Common Build (my workgroup) is heavily dependent on
&gt;&gt;&gt;&gt;&gt;&gt; Eclipse's PDE Build process. Thus we are very interested in any
&gt;&gt;&gt;&gt;&gt;&gt; changes that may occur to it, e.g.

Steve Gambino 12/07/05 16:45
&gt;&gt;&gt;&gt;&gt;&gt;&gt;&gt; Not sure if we need to keep apprised of this. The "changes"
&gt;&gt;&gt;&gt;&gt;&gt;&gt;&gt; M2_32 caught my eye.

&gt;&gt;&gt;&gt;&gt;&gt;&gt;&gt;  http://wiki.eclipse.org/index.php/Platform-releng-basebuilder

David Olsen 12/08/2005 05:21:23 PM:
&gt;&gt;&gt;&gt;&gt;&gt;&gt; We should keep an eye on that page.

&gt;&gt;&gt;&gt;&gt;&gt; However I'm not seeing any way for someone who is not an
&gt;&gt;&gt;&gt;&gt;&gt; Eclipse committer to subscribe an Eclipsepedia page, probably
&gt;&gt;&gt;&gt;&gt;&gt; because there is no way for such persons to create an
&gt;&gt;&gt;&gt;&gt;&gt; Eclipsepedia account (though I don't know if your MediaWiki
&gt;&gt;&gt;&gt;&gt;&gt; implementation enables subscription, either).

&gt;&gt;&gt;&gt;&gt;&gt; Am I missing something, or can this functionality be enabled?
&gt;&gt;&gt;&gt;&gt;&gt; Alternatively could page-change messages be echoed to a public
&gt;&gt;&gt;&gt;&gt;&gt; list, e.g. pde-build-dev@eclipse.org?

Tom Roche Dec 9, 2005, at 10:44 AM
&gt;&gt;&gt;&gt;&gt; I just wanna see the changes to one or more pages of interest,
&gt;&gt;&gt;&gt;&gt; e.g. the functionality provided by Wikipedia when one adds a page
&gt;&gt;&gt;&gt;&gt; to one's watchlist.

&gt;&gt;&gt;&gt;&gt; MediaWiki provides that functionality; can it be enabled for
&gt;&gt;&gt;&gt;&gt; non-committers?

Ward Cunningham 12/09/2005 02:27:37 PM:
&gt;&gt;&gt;&gt; Um, do you know if this is enabled for committers now? Maybe a
&gt;&gt;&gt;&gt; committer could check?

Tom Roche Dec 9, 2005, at 12:21 PM
&gt;&gt;&gt; If I was a committer I wouldn't have this problem :-(

Ward Cunningham 12/09/2005 03:24:44 PM:
&gt;&gt; I'll get Bjorn to check this afternoon.

Bjorn Freeman-Benson 12/12/2005 04:13 PM
&gt; I think I passed the buck to Denis, the webmaster.
&gt; In any case, you should enter a bugzilla about it.

Done.
I'll close this as a duplicate of bug 118245.  If Bugzilla registered users could log in to the wiki, they would have the same privileges as committers, thus enabling watches.

D.

*** This bug has been marked as a duplicate of 118245 ***</WithStack>
    <WithOutStack>Tom Roche Dec 9, 2005, at 7:19 AM
&gt;&gt;&gt;&gt;&gt;&gt; How can Eclipse users (i.e. non-committers) receive
&gt;&gt;&gt;&gt;&gt;&gt; notification of changes to Eclipsepedia pages? Why I ask:

&gt;&gt;&gt;&gt;&gt;&gt; Rational Common Build (my workgroup) is heavily dependent on
&gt;&gt;&gt;&gt;&gt;&gt; Eclipse's PDE Build process. Thus we are very interested in any
&gt;&gt;&gt;&gt;&gt;&gt; changes that may occur to it, e.g.

Steve Gambino 12/07/05 16:45
&gt;&gt;&gt;&gt;&gt;&gt;&gt;&gt; Not sure if we need to keep apprised of this. The "changes"
&gt;&gt;&gt;&gt;&gt;&gt;&gt;&gt; M2_32 caught my eye.

&gt;&gt;&gt;&gt;&gt;&gt;&gt;&gt;  http://wiki.eclipse.org/index.php/Platform-releng-basebuilder

David Olsen 12/08/2005 05:21:23 PM:
&gt;&gt;&gt;&gt;&gt;&gt;&gt; We should keep an eye on that page.

&gt;&gt;&gt;&gt;&gt;&gt; However I'm not seeing any way for someone who is not an
&gt;&gt;&gt;&gt;&gt;&gt; Eclipse committer to subscribe an Eclipsepedia page, probably
&gt;&gt;&gt;&gt;&gt;&gt; because there is no way for such persons to create an
&gt;&gt;&gt;&gt;&gt;&gt; Eclipsepedia account (though I don't know if your MediaWiki
&gt;&gt;&gt;&gt;&gt;&gt; implementation enables subscription, either).

&gt;&gt;&gt;&gt;&gt;&gt; Am I missing something, or can this functionality be enabled?
&gt;&gt;&gt;&gt;&gt;&gt; Alternatively could page-change messages be echoed to a public
&gt;&gt;&gt;&gt;&gt;&gt; list, e.g. pde-build-dev@eclipse.org?

Tom Roche Dec 9, 2005, at 10:44 AM
&gt;&gt;&gt;&gt;&gt; I just wanna see the changes to one or more pages of interest,
&gt;&gt;&gt;&gt;&gt; e.g. the functionality provided by Wikipedia when one adds a page
&gt;&gt;&gt;&gt;&gt; to one's watchlist.

&gt;&gt;&gt;&gt;&gt; MediaWiki provides that functionality; can it be enabled for
&gt;&gt;&gt;&gt;&gt; non-committers?

Ward Cunningham 12/09/2005 02:27:37 PM:
&gt;&gt;&gt;&gt; Um, do you know if this is enabled for committers now? Maybe a
&gt;&gt;&gt;&gt; committer could check?

Tom Roche Dec 9, 2005, at 12:21 PM
&gt;&gt;&gt; If I was a committer I wouldn't have this problem :-(

Ward Cunningham 12/09/2005 03:24:44 PM:
&gt;&gt; I'll get Bjorn to check this afternoon.

Bjorn Freeman-Benson 12/12/2005 04:13 PM
&gt; I think I passed the buck to Denis, the webmaster.
&gt; In any case, you should enter a bugzilla about it.

Done.
I'll close this as a duplicate of bug 118245.  If Bugzilla registered users could log in to the wiki, they would have the same privileges as committers, thus enabling watches.

D.

*** This bug has been marked as a duplicate of 118245 ***</WithOutStack>
  </Bug>
  <Bug>
    <BugId amount="120452" />
    <CreationDate amount="2005-12-12 17:02:00 -0500" />
    <DupId amount="" />
    <classification amount="Eclipse Foundation" />
    <Product amount="z_Archived" />
    <component amount="VE" />
    <Version amount="unspecified" />
    <rep_platform amount="PC" />
    <op_sys amount="Windows XP" />
    <priority amount="P3" />
    <bug_severity amount="major" />
    <Summery>Sash between source and Graph view doesn't work</Summery>
    <Patches amount="0" />
    <Stacktraces amount="0" />
    <SourceCodeRegions amount="0" />
    <Enumerations amount="0" />
    <bug_status amount="CLOSED" />
    <resolution amount="INVALID" />
    <WithStack>Turns out to be an Eclipse bug. Works fine in the latest Eclipse 3.2 integration driver (I20051213).
closed</WithStack>
    <WithOutStack>Turns out to be an Eclipse bug. Works fine in the latest Eclipse 3.2 integration driver (I20051213).
closed</WithOutStack>
  </Bug>
  <Bug>
    <BugId amount="120453" />
    <CreationDate amount="2005-12-12 17:12:00 -0500" />
    <DupId amount="" />
    <classification amount="BIRT" />
    <Product amount="BIRT" />
    <component amount="Report" />
    <Version amount="2.0.0" />
    <rep_platform amount="PC" />
    <op_sys amount="Windows 2000" />
    <priority amount="P3" />
    <bug_severity amount="blocker" />
    <Summery>Match operator not in filter UI</Summery>
    <Patches amount="0" />
    <Stacktraces amount="0" />
    <SourceCodeRegions amount="0" />
    <Enumerations amount="0" />
    <bug_status amount="RESOLVED" />
    <resolution amount="FIXED" />
    <WithStack>See bug 116777. That bug says that the Match operator should be added to the list of filter operators. M3 still does not display that operator.
GUI gets the operator list from DE api.
Added in the ROM.
Verified in build 20051219. 
"Match" has been added into list of filter operation</WithStack>
    <WithOutStack>See bug 116777. That bug says that the Match operator should be added to the list of filter operators. M3 still does not display that operator.
GUI gets the operator list from DE api.
Added in the ROM.
Verified in build 20051219. 
"Match" has been added into list of filter operation</WithOutStack>
  </Bug>
  <Bug>
    <BugId amount="120454" />
    <CreationDate amount="2005-12-12 17:17:00 -0500" />
    <DupId amount="" />
    <classification amount="Eclipse Foundation" />
    <Product amount="Community" />
    <component amount="Website" />
    <Version amount="unspecified" />
    <rep_platform amount="PC" />
    <op_sys amount="Windows XP" />
    <priority amount="P3" />
    <bug_severity amount="critical" />
    <Summery>project navigation is unusable</Summery>
    <Patches amount="0" />
    <Stacktraces amount="0" />
    <SourceCodeRegions amount="1">
      <source_code type="functioncall">
        <location start="2576" end="2654" />
        <code>left menu bar; (b) that there should be more than four links (see list below);</code>
      </source_code>
    </SourceCodeRegions>
    <Enumerations amount="2">
      <Enumeration lines="3">
        <Lines>
          <Line>(c) that they should fly-out menus; and (d) that Bjorn should create some</Line>
          <Line>magical PHP include file that does this all in very easy, &amp;quot;takes no effort</Line>
          <Line>on the part of the projects&amp;quot;, way.</Line>
        </Lines>
      </Enumeration>
      <Enumeration lines="5">
        <Lines>
          <Line>a) where are the common links?  /phoenix links differ from /ajdt links and from /mylar links</Line>
          <Line />
          <Line>c) implies that the b) "more links" should be fly-outs</Line>
          <Line />
          <Line>d) didn't happen</Line>
        </Lines>
      </Enumeration>
    </Enumerations>
    <bug_status amount="RESOLVED" />
    <resolution amount="FIXED" />
    <WithStack>I just noticed that the project navigation is no longer visible without mousing over the nav section.  This means that if I'm a user going to the Mylar or AJDT page I don't see a *single* navigation link for those pages.  The project navigation is poor as is, and 10x real-estate is given to eclipse.org navigation.  Please, please, put those links back, or make that an option that a project can change.  I have a realease announcement to put out but don't want to point users to the page in it's current state. 

Also, I don't think that it's right to make this major a change in the navigation without giving notification to the projects.  Is there somewhere I should be watching for these notices that I'm not?
Btw, an additional problem with the popup navigation is that it is too easy to miss and have the menu disappear (e.g. moving directly from left to right on the Mylar page will make the menu disappear, have to move diagonally then across).
I think the problem is that your custom navigation links are not at level 1. If you change them to level 1, it should work. See bug 120444.

*** This bug has been marked as a duplicate of 120444 ***
&gt; Also, I don't think that it's right to make this major a change in the
&gt; navigation without giving notification to the projects.  Is there somewhere I
&gt; should be watching for these notices that I'm not?


+1

Where is the bug that describes the new Feature request where Level 2 links would become popout menus?  IMHO, as Mik stated, that was a major change that would have required community support.

Reopening - navigation on the Community, Downloads, Membership and About Us navigation has changed as a result of this. Owners of those pages, please revise your pages to make sure this new behaviour is what you want.

D.

Re comment #3: The bug requesting that feature is bug 115121.

Bug 115121 has absolutely nothing to do with popout menus.
Re comment #5 - the referenced Planning Council minutes in bug 115121 say "(a) that the "four links" should be at the top of the left menu bar; (b) that there should be more than four links (see list below); (c) that they should be FLY-OUT MENUS".
From the referenced article:

At the first Committer Gathering (held in Portland), the committer community
suggested that each project home page have &amp;quot;the same four links in the same
place with the same names&amp;quot; so that anyone could go to a project page and
find the essential project information. Everyone thought this was a good idea
and we decided: (a) that the &amp;quot;four links&amp;quot; should be at the top of the
left menu bar; (b) that there should be more than four links (see list below);
(c) that they should fly-out menus; and (d) that Bjorn should create some
magical PHP include file that does this all in very easy, &amp;quot;takes no effort
on the part of the projects&amp;quot;, way.

1) Community, Downloads, Membership and About us are not project home pages, yet they now have fly-out menus.  Why?

a) where are the common links?  /phoenix links differ from /ajdt links and from /mylar links

c) implies that the b) "more links" should be fly-outs

d) didn't happen

D.
Re: comment 7: (1) because the initial prototype Phoenix pages had the default left nav menu indentation set at 3 and so when people copied that for their left nav, they got level 3 menus. At first this didn't matter because there was no visual difference between level 1, 2, and 3, but now it does. I have gone back and  fixed all those pages to use level 1 left navs.

(a) Because this rolled out yesterday, the projects haven't had time to adopt it. Perhaps the first project to adopt this is http://www.eclipse.org/dash/ because I wrote that web page last night.
Moving to Community/Website</WithStack>
    <WithOutStack>I just noticed that the project navigation is no longer visible without mousing over the nav section.  This means that if I'm a user going to the Mylar or AJDT page I don't see a *single* navigation link for those pages.  The project navigation is poor as is, and 10x real-estate is given to eclipse.org navigation.  Please, please, put those links back, or make that an option that a project can change.  I have a realease announcement to put out but don't want to point users to the page in it's current state. 

Also, I don't think that it's right to make this major a change in the navigation without giving notification to the projects.  Is there somewhere I should be watching for these notices that I'm not?
Btw, an additional problem with the popup navigation is that it is too easy to miss and have the menu disappear (e.g. moving directly from left to right on the Mylar page will make the menu disappear, have to move diagonally then across).
I think the problem is that your custom navigation links are not at level 1. If you change them to level 1, it should work. See bug 120444.

*** This bug has been marked as a duplicate of 120444 ***
&gt; Also, I don't think that it's right to make this major a change in the
&gt; navigation without giving notification to the projects.  Is there somewhere I
&gt; should be watching for these notices that I'm not?


+1

Where is the bug that describes the new Feature request where Level 2 links would become popout menus?  IMHO, as Mik stated, that was a major change that would have required community support.

Reopening - navigation on the Community, Downloads, Membership and About Us navigation has changed as a result of this. Owners of those pages, please revise your pages to make sure this new behaviour is what you want.

D.

Re comment #3: The bug requesting that feature is bug 115121.

Bug 115121 has absolutely nothing to do with popout menus.
Re comment #5 - the referenced Planning Council minutes in bug 115121 say "(a) that the "four links" should be at the top of the left menu bar; (b) that there should be more than four links (see list below); (c) that they should be FLY-OUT MENUS".
From the referenced article:

At the first Committer Gathering (held in Portland), the committer community
suggested that each project home page have &amp;quot;the same four links in the same
place with the same names&amp;quot; so that anyone could go to a project page and
find the essential project information. Everyone thought this was a good idea
and we decided: (a) that the &amp;quot;four links&amp;quot; should be at the top of the
left menu bar; (b) that there should be more than four links (see list below);
(c) that they should fly-out menus; and (d) that Bjorn should create some
magical PHP include file that does this all in very easy, &amp;quot;takes no effort
on the part of the projects&amp;quot;, way.

1) Community, Downloads, Membership and About us are not project home pages, yet they now have fly-out menus.  Why?

a) where are the common links?  /phoenix links differ from /ajdt links and from /mylar links

c) implies that the b) "more links" should be fly-outs

d) didn't happen

D.
Re: comment 7: (1) because the initial prototype Phoenix pages had the default left nav menu indentation set at 3 and so when people copied that for their left nav, they got level 3 menus. At first this didn't matter because there was no visual difference between level 1, 2, and 3, but now it does. I have gone back and  fixed all those pages to use level 1 left navs.

(a) Because this rolled out yesterday, the projects haven't had time to adopt it. Perhaps the first project to adopt this is http://www.eclipse.org/dash/ because I wrote that web page last night.
Moving to Community/Website</WithOutStack>
  </Bug>
  <Bug>
    <BugId amount="120455" />
    <CreationDate amount="2005-12-12 17:19:00 -0500" />
    <DupId amount="106649" />
    <classification amount="WebTools" />
    <Product amount="Web Tools" />
    <component amount="documentation" />
    <Version amount="1.0" />
    <rep_platform amount="PC" />
    <op_sys amount="Windows XP" />
    <priority amount="P3" />
    <bug_severity amount="minor" />
    <Summery>Error in page "Icons used in the DTD editor"</Summery>
    <Patches amount="0" />
    <Stacktraces amount="0" />
    <SourceCodeRegions amount="0" />
    <Enumerations amount="0" />
    <bug_status amount="CLOSED" />
    <resolution amount="DUPLICATE" />
    <WithStack>In WST documentation, when trying to access page "Icons used in the DTD editor" (.../help/topic/org.eclipse.wst.dtdeditor.doc.user/topics/rdtdicons.html), I get the following error:

The XML page cannot be displayed
...
Use of default namespace declaration attribute in DTD not supported. Error processing resource 'http://127.0.0.1:52915/help...
Thanks for reporting this problem. As WTP 1.0 is shutting down and this is trivial it will be addressed post 1.0.
I've digged a bit on this by comparing rdtdicons.html (in plug-in org.eclipse.wst.dtdeditor.doc.user) with rxmlbicons.html (in plug-in org.eclipse.wst.xmleditor.doc.user).

I have found that moving "&lt;html&gt;&lt;head&gt;" just after the "&lt;!DOCTYPE" declaration and before the "Copyright" comment in rdtdicons.html solves the problem.

By the way I've also noticed that the link to the CSS in rdtdicons.html is incorrect: it should be href="../../org.eclipse.wst.doc.user/common.css" instead of href="../org.eclipse.wst.doc.user/common.css".
Changed severity to minor instead of trivial since there is indeed a minor loss of function (the help page does not display)
*** Bug 122473 has been marked as a duplicate of this bug. ***


*** This bug has been marked as a duplicate of 106649 ***
This bug was moved to 'closed' state, since it is so old is is assumed its dup, invalid, or worksforme resolution is no longer in qustion and the bugzilla needs no further attention. Feel free to re-open, or open a new bug, if this semi-automatic processing was done in error in this case.</WithStack>
    <WithOutStack>In WST documentation, when trying to access page "Icons used in the DTD editor" (.../help/topic/org.eclipse.wst.dtdeditor.doc.user/topics/rdtdicons.html), I get the following error:

The XML page cannot be displayed
...
Use of default namespace declaration attribute in DTD not supported. Error processing resource 'http://127.0.0.1:52915/help...
Thanks for reporting this problem. As WTP 1.0 is shutting down and this is trivial it will be addressed post 1.0.
I've digged a bit on this by comparing rdtdicons.html (in plug-in org.eclipse.wst.dtdeditor.doc.user) with rxmlbicons.html (in plug-in org.eclipse.wst.xmleditor.doc.user).

I have found that moving "&lt;html&gt;&lt;head&gt;" just after the "&lt;!DOCTYPE" declaration and before the "Copyright" comment in rdtdicons.html solves the problem.

By the way I've also noticed that the link to the CSS in rdtdicons.html is incorrect: it should be href="../../org.eclipse.wst.doc.user/common.css" instead of href="../org.eclipse.wst.doc.user/common.css".
Changed severity to minor instead of trivial since there is indeed a minor loss of function (the help page does not display)
*** Bug 122473 has been marked as a duplicate of this bug. ***


*** This bug has been marked as a duplicate of 106649 ***
This bug was moved to 'closed' state, since it is so old is is assumed its dup, invalid, or worksforme resolution is no longer in qustion and the bugzilla needs no further attention. Feel free to re-open, or open a new bug, if this semi-automatic processing was done in error in this case.</WithOutStack>
  </Bug>
  <Bug>
    <BugId amount="120456" />
    <CreationDate amount="2005-12-12 17:19:00 -0500" />
    <DupId amount="" />
    <classification amount="BIRT" />
    <Product amount="BIRT" />
    <component amount="Data" />
    <Version amount="2.0.0" />
    <rep_platform amount="PC" />
    <op_sys amount="All" />
    <priority amount="P3" />
    <bug_severity amount="enhancement" />
    <Summery>Specified Order Grouping -ENH-</Summery>
    <Patches amount="0" />
    <Stacktraces amount="0" />
    <SourceCodeRegions amount="0" />
    <Enumerations amount="0" />
    <bug_status amount="NEW" />
    <resolution amount="" />
    <WithStack>Currently, a group can be sorted..

But sometimes, grouping falls out side of alphabetical sorting... So it's nice to dictate, the order of the group using a dynamic list of groups to arrange.</WithStack>
    <WithOutStack>Currently, a group can be sorted..

But sometimes, grouping falls out side of alphabetical sorting... So it's nice to dictate, the order of the group using a dynamic list of groups to arrange.</WithOutStack>
  </Bug>
  <Bug>
    <BugId amount="120457" />
    <CreationDate amount="2005-12-12 17:22:00 -0500" />
    <DupId amount="" />
    <classification amount="Eclipse" />
    <Product amount="Platform" />
    <component amount="UI" />
    <Version amount="3.2" />
    <rep_platform amount="PC" />
    <op_sys amount="Windows XP" />
    <priority amount="P3" />
    <bug_severity amount="normal" />
    <Summery>[Field Assist] - popup shell not dismissing correctly</Summery>
    <Patches amount="0" />
    <Stacktraces amount="0" />
    <SourceCodeRegions amount="0" />
    <Enumerations amount="2">
      <Enumeration lines="2">
        <Lines>
          <Line>- find/replace patch from bug #120237</Line>
          <Line>- field assist example</Line>
        </Lines>
      </Enumeration>
      <Enumeration lines="3">
        <Lines>
          <Line>- popup closes when dialog is moved</Line>
          <Line>- popup closes when another app is activated</Line>
          <Line>- popup closes when another field in the dialog is clicked, so there's no way to have two of them</Line>
        </Lines>
      </Enumeration>
    </Enumerations>
    <bug_status amount="VERIFIED" />
    <resolution amount="FIXED" />
    <WithStack>If the target control is moved (for example, the containing dialog is being moved)...then either the popup shell should close or it should move with it.  This goes for the secondary shell, too.
In all Platform Text, JDT Text and JDT UI use cases the code assist popup and the additional info popup are closed and not moved.
That makes sense (closing the popups).  I overlooked this in the implementation, and will fix.
The dismissal in general is not implemented.
two more scenarios from bug #120237:
- open code assist for 'replace' field, decide to edit 'find' field by clicking
  into it ==&gt; code assist stays open and when hitting 'Ctrl+Space' I have
  two code assists popups.

- open code assist and wait for the hover then switch to another application
  ==&gt; hover stay on top of this application.


Fixed &gt;20060201
verified in 20060214-0800 on Win XP 
- find/replace patch from bug #120237
- field assist example

- popup closes when dialog is moved
- popup closes when another app is activated
- popup closes when another field in the dialog is clicked, so there's no way to have two of them</WithStack>
    <WithOutStack>If the target control is moved (for example, the containing dialog is being moved)...then either the popup shell should close or it should move with it.  This goes for the secondary shell, too.
In all Platform Text, JDT Text and JDT UI use cases the code assist popup and the additional info popup are closed and not moved.
That makes sense (closing the popups).  I overlooked this in the implementation, and will fix.
The dismissal in general is not implemented.
two more scenarios from bug #120237:
- open code assist for 'replace' field, decide to edit 'find' field by clicking
  into it ==&gt; code assist stays open and when hitting 'Ctrl+Space' I have
  two code assists popups.

- open code assist and wait for the hover then switch to another application
  ==&gt; hover stay on top of this application.


Fixed &gt;20060201
verified in 20060214-0800 on Win XP 
- find/replace patch from bug #120237
- field assist example

- popup closes when dialog is moved
- popup closes when another app is activated
- popup closes when another field in the dialog is clicked, so there's no way to have two of them</WithOutStack>
  </Bug>
  <Bug>
    <BugId amount="120458" />
    <CreationDate amount="2005-12-12 17:24:00 -0500" />
    <DupId amount="" />
    <classification amount="Eclipse" />
    <Product amount="Platform" />
    <component amount="UI" />
    <Version amount="3.2" />
    <rep_platform amount="PC" />
    <op_sys amount="Windows XP" />
    <priority amount="P3" />
    <bug_severity amount="normal" />
    <Summery>[Field Assist] - auto-activation should occur on a delay</Summery>
    <Patches amount="0" />
    <Stacktraces amount="0" />
    <SourceCodeRegions amount="0" />
    <Enumerations amount="2">
      <Enumeration lines="3">
        <Lines>
          <Line>- enable/disable auto-completion</Line>
          <Line>- set the delay</Line>
          <Line>Dani,</Line>
        </Lines>
      </Enumeration>
      <Enumeration lines="4">
        <Lines>
          <Line>- some people like 0 for the auto-activation delay but still don't like the hover to come immediately</Line>
          <Line>- a high auto-activation delay might be chosen by users but they'd still like the popup to come up quickly</Line>
          <Line>Implemented &gt;20050115 with</Line>
          <Line>ContentProposalAdapter.setAutoActivationDelay(int milliseconds).</Line>
        </Lines>
      </Enumeration>
    </Enumerations>
    <bug_status amount="VERIFIED" />
    <resolution amount="FIXED" />
    <WithStack>When the ContentProposalAdapter triggers auto-activation, this should happen on a delay.  Need to determine if delay length should be settable through API or not.
Clients must be able to
- enable/disable auto-completion
- set the delay
Dani,

- does auto-completion need to be disabled dynamically?
In the current field assist implementation you get auto-completion only when you specify auto-activation chars.  But if you want to be able to specify auto-activation chars and then dynamically disable and enable auto-complete, that would require new API.

- I can add API to specify the autoactivation delay.  Can we use this same value as the delay for opening the secondary info popup?
&gt;In the current field assist implementation you get auto-completion only when
&gt;you specify auto-activation chars.
Good enough, that's how we do it and by querying the triggers upon typing we have a way to dynamically enable/disable this.

&gt;- I can add API to specify the autoactivation delay.  Can we use this same
&gt;value as the delay for opening the secondary info popup?
Our code currently does this but there are some known problems with this:
- some people like 0 for the auto-activation delay but still don't like the hover to come immediately
- a high auto-activation delay might be chosen by users but they'd still like the popup to come up quickly
Implemented &gt;20050115 with
ContentProposalAdapter.setAutoActivationDelay(int milliseconds).

Based on your input, this only controls the autoactivation delay.  The secondary popup delay is determined by a static value which is currently hardcoded.  If the need to control the secondary delay occurs in the future, we can expose that as well, but I don't see a need to do that now.

One clarification:
As I said before, you can control autoactivation by setting the autoactivation characters.  Setting the characters to an empty array will disable autoactivation.  

However, setting the auto activation characters to null has a different meaning.  When the activation characters are set to null, then the explicitly invoking keystroke is consulted.  If one is specified, there is no autoactivation.  But if neither a keystroke nor autoactivation characters are specified, then autoactivation is triggered on any alphanumeric.  
Forgot to mention that protocol was also added for dynamically enabling/disabling auto-completion as requested in comment #1.
verified in 20060214-0800 on Win XP 
In find/replace patch and in field assist example, there is a delay in activation.  Updated bug #120173 with reminder to expose this delay on the pref page of the example</WithStack>
    <WithOutStack>When the ContentProposalAdapter triggers auto-activation, this should happen on a delay.  Need to determine if delay length should be settable through API or not.
Clients must be able to
- enable/disable auto-completion
- set the delay
Dani,

- does auto-completion need to be disabled dynamically?
In the current field assist implementation you get auto-completion only when you specify auto-activation chars.  But if you want to be able to specify auto-activation chars and then dynamically disable and enable auto-complete, that would require new API.

- I can add API to specify the autoactivation delay.  Can we use this same value as the delay for opening the secondary info popup?
&gt;In the current field assist implementation you get auto-completion only when
&gt;you specify auto-activation chars.
Good enough, that's how we do it and by querying the triggers upon typing we have a way to dynamically enable/disable this.

&gt;- I can add API to specify the autoactivation delay.  Can we use this same
&gt;value as the delay for opening the secondary info popup?
Our code currently does this but there are some known problems with this:
- some people like 0 for the auto-activation delay but still don't like the hover to come immediately
- a high auto-activation delay might be chosen by users but they'd still like the popup to come up quickly
Implemented &gt;20050115 with
ContentProposalAdapter.setAutoActivationDelay(int milliseconds).

Based on your input, this only controls the autoactivation delay.  The secondary popup delay is determined by a static value which is currently hardcoded.  If the need to control the secondary delay occurs in the future, we can expose that as well, but I don't see a need to do that now.

One clarification:
As I said before, you can control autoactivation by setting the autoactivation characters.  Setting the characters to an empty array will disable autoactivation.  

However, setting the auto activation characters to null has a different meaning.  When the activation characters are set to null, then the explicitly invoking keystroke is consulted.  If one is specified, there is no autoactivation.  But if neither a keystroke nor autoactivation characters are specified, then autoactivation is triggered on any alphanumeric.  
Forgot to mention that protocol was also added for dynamically enabling/disabling auto-completion as requested in comment #1.
verified in 20060214-0800 on Win XP 
In find/replace patch and in field assist example, there is a delay in activation.  Updated bug #120173 with reminder to expose this delay on the pref page of the example</WithOutStack>
  </Bug>
  <Bug>
    <BugId amount="120459" />
    <CreationDate amount="2005-12-12 17:48:00 -0500" />
    <DupId amount="137898" />
    <classification amount="Eclipse" />
    <Product amount="Platform" />
    <component amount="UI" />
    <Version amount="3.1" />
    <rep_platform amount="PC" />
    <op_sys amount="Windows XP" />
    <priority amount="P5" />
    <bug_severity amount="enhancement" />
    <Summery>[KeyBindings] Tooltip text enhancement</Summery>
    <Patches amount="0" />
    <Stacktraces amount="0" />
    <SourceCodeRegions amount="0" />
    <Enumerations amount="0" />
    <bug_status amount="RESOLVED" />
    <resolution amount="DUPLICATE" />
    <WithStack>Hi,
would it be possible for the debugger (and other) buttonbar tooltips to also show the hot key arrached to the button?
I.e. instead of "Step over", "Step over:F11" or similar, would speed up the learning curve a bit.
Moving to platform for comment. I don't think this should be specific to the debugger.
Dup of bug 46469?
Moving Dougs bugs
There are currently no plans to work on this feature.

PW

Changes requested on bug 193523


*** This bug has been marked as a duplicate of bug 137898 ***</WithStack>
    <WithOutStack>Hi,
would it be possible for the debugger (and other) buttonbar tooltips to also show the hot key arrached to the button?
I.e. instead of "Step over", "Step over:F11" or similar, would speed up the learning curve a bit.
Moving to platform for comment. I don't think this should be specific to the debugger.
Dup of bug 46469?
Moving Dougs bugs
There are currently no plans to work on this feature.

PW

Changes requested on bug 193523


*** This bug has been marked as a duplicate of bug 137898 ***</WithOutStack>
  </Bug>
  <Bug>
    <BugId amount="120460" />
    <CreationDate amount="2005-12-12 17:52:00 -0500" />
    <DupId amount="" />
    <classification amount="Eclipse" />
    <Product amount="Platform" />
    <component amount="UI" />
    <Version amount="3.1.1" />
    <rep_platform amount="PC" />
    <op_sys amount="Windows XP" />
    <priority amount="P3" />
    <bug_severity amount="enhancement" />
    <Summery>[Perspectives] Promote deletePerspective( ) from PerspectiveRegistry to IPerspectiveRegistry</Summery>
    <Patches amount="0" />
    <Stacktraces amount="0" />
    <SourceCodeRegions amount="0" />
    <Enumerations amount="0" />
    <bug_status amount="VERIFIED" />
    <resolution amount="FIXED" />
    <WithStack>IWorkbenchPage provides the public API savePerspectiveAs(IPerspectiveDescriptor) which will save the updated perspective in the users workspace as a custom perspective.  It would be a more consistent API if deletePerspective(IPerspectiveDescriptor) were promoted from the internal class PerspectiveRegistry to the API interface IPerspectiveRegistry.  I want to avoid using internal classes, but I need to be able to delete a cached perspective.
Sounds reasonable.

Fixed.
Verified in I20060213-1200.</WithStack>
    <WithOutStack>IWorkbenchPage provides the public API savePerspectiveAs(IPerspectiveDescriptor) which will save the updated perspective in the users workspace as a custom perspective.  It would be a more consistent API if deletePerspective(IPerspectiveDescriptor) were promoted from the internal class PerspectiveRegistry to the API interface IPerspectiveRegistry.  I want to avoid using internal classes, but I need to be able to delete a cached perspective.
Sounds reasonable.

Fixed.
Verified in I20060213-1200.</WithOutStack>
  </Bug>
  <Bug>
    <BugId amount="120461" />
    <CreationDate amount="2005-12-12 18:08:00 -0500" />
    <DupId amount="70747" />
    <classification amount="Eclipse" />
    <Product amount="Platform" />
    <component amount="Compare" />
    <Version amount="3.2" />
    <rep_platform amount="PC" />
    <op_sys amount="Linux-GTK" />
    <priority amount="P3" />
    <bug_severity amount="normal" />
    <Summery>"Copy current change from right to left" doesn't work with conflict</Summery>
    <Patches amount="0" />
    <Stacktraces amount="0" />
    <SourceCodeRegions amount="0" />
    <Enumerations amount="0" />
    <bug_status amount="RESOLVED" />
    <resolution amount="DUPLICATE" />
    <WithStack>Build 20051206

I'm trying to use the "Copy Current Change from Right to Left" action on a change which the compare editor is showing as a conflict, but the action doesn't appear to have any effect on the left side of the editor.

The action *does* make the file appear dirty and also has the effect of changing the little notification at the top of the ruler from red to green, however, which is really dangerous. This false feedback almost tricked me into committing the file in a bad state.
This functionality is provided by compare.


*** This bug has been marked as a duplicate of bug 70747 ***</WithStack>
    <WithOutStack>Build 20051206

I'm trying to use the "Copy Current Change from Right to Left" action on a change which the compare editor is showing as a conflict, but the action doesn't appear to have any effect on the left side of the editor.

The action *does* make the file appear dirty and also has the effect of changing the little notification at the top of the ruler from red to green, however, which is really dangerous. This false feedback almost tricked me into committing the file in a bad state.
This functionality is provided by compare.


*** This bug has been marked as a duplicate of bug 70747 ***</WithOutStack>
  </Bug>
  <Bug>
    <BugId amount="120462" />
    <CreationDate amount="2005-12-12 18:21:00 -0500" />
    <DupId amount="" />
    <classification amount="Tools" />
    <Product amount="TPTP Testing" />
    <component amount="Test.UI.DatapoolEditor" />
    <Version amount="4.2" />
    <rep_platform amount="PC" />
    <op_sys amount="Windows XP" />
    <priority amount="P3" />
    <bug_severity amount="major" />
    <Summery>NPE when adding a variable without cursor focused on any cell</Summery>
    <Patches amount="0" />
    <Stacktraces amount="0" />
    <SourceCodeRegions amount="0" />
    <Enumerations amount="0" />
    <bug_status amount="CLOSED" />
    <resolution amount="FIXED" />
    <WithStack>This is found in one of the consumer products using datapool table 3.3.

When datapool table does not have the cursor focused on any cell, right click on the blank space and add variable throws NPE.

Jerome, please feel free to assign this to me. Thanks. - Bianca
Reassigning according to Bianca's request.
Put in a fix.  Need verify within consuming product. Not reproductable in TPTP.
Fixed.
ACTION: Please verify/close this defect.
Closing by default since not closed by the originator in the 7+ months since being resolved.  

Please reopen if the issue is still present in the latest TPTP release or the resolution is not correct.</WithStack>
    <WithOutStack>This is found in one of the consumer products using datapool table 3.3.

When datapool table does not have the cursor focused on any cell, right click on the blank space and add variable throws NPE.

Jerome, please feel free to assign this to me. Thanks. - Bianca
Reassigning according to Bianca's request.
Put in a fix.  Need verify within consuming product. Not reproductable in TPTP.
Fixed.
ACTION: Please verify/close this defect.
Closing by default since not closed by the originator in the 7+ months since being resolved.  

Please reopen if the issue is still present in the latest TPTP release or the resolution is not correct.</WithOutStack>
  </Bug>
  <Bug>
    <BugId amount="120463" />
    <CreationDate amount="2005-12-12 18:24:00 -0500" />
    <DupId amount="" />
    <classification amount="Eclipse" />
    <Product amount="Platform" />
    <component amount="UI" />
    <Version amount="3.2" />
    <rep_platform amount="PC" />
    <op_sys amount="All" />
    <priority amount="P3" />
    <bug_severity amount="normal" />
    <Summery>Need to integrate ICU4J into platform</Summery>
    <Patches amount="0" />
    <Stacktraces amount="0" />
    <SourceCodeRegions amount="0" />
    <Enumerations amount="1">
      <Enumeration lines="5">
        <Lines>
          <Line>1. Evolve build process to be able to build using pre-jarred plugins with source</Line>
          <Line>2. Build wrapper (aka stub aka base) plugin as pre-jarred plugin with source.  Need to be able to interchange the stub plugin for the real ICU4J and vice-versa.</Line>
          <Line>3. Change Eclipse SDK code to use ICU4J API.</Line>
          <Line>4. Investigate fragmenting ICU4J to reduce footprint.</Line>
          <Line>Added API to JFace (new class called ComparatorViewerSorter) for M5.</Line>
        </Lines>
      </Enumeration>
    </Enumerations>
    <bug_status amount="VERIFIED" />
    <resolution amount="FIXED" />
    <WithStack>Now that ICU4J will be in the build for M4, we need to work on getting the required changes into the platform.  Doug will submit the changes as a set of patches which I will delegate to plugin owners.
I'm going to punt this back to you to get it out of the bucket.
To update, the remaining issues are:
1. Evolve build process to be able to build using pre-jarred plugins with source
2. Build wrapper (aka stub aka base) plugin as pre-jarred plugin with source.  Need to be able to interchange the stub plugin for the real ICU4J and vice-versa.
3. Change Eclipse SDK code to use ICU4J API.
4. Investigate fragmenting ICU4J to reduce footprint.  
Added API to JFace (new class called ComparatorViewerSorter) for M5.

We still need to complete 1-4 from comment #2.
1 is complete (for M5) but still in it's early stages of being in the builds - see bug 127495 for more details of the problems encountered.

Still need to look at 2, 3, and 4 for M6.  Updating target to reflect this.
FYI, while porting some of my plugins to use ICU4J, I found that ICU's StringTokenizer behaves a little differently than Java's.  If you specify you want delimiters returned as tokens StringTokenizer(String, String, true), delimiters that are next to each other are grouped into 1 token, rather than separated with each delimiter being 1 token.  
For example:
StringTokenizer("  my\r\n", " \r\n", true)

ICU's tokens  = ["  ","my","\r\n"]
Java's tokens = [" "," ","my","\r","\n"]

This may effect platform code that uses StringTokenizer and expects a certain result.
Sounds like an ICU bug.  You should report it through the ICU project:
http://dev.icu-project.org/cgi-bin/icu-bugs
I believe someone else is already going to report it.  I was just informing you guys of the bug in case you run into it during porting.
Amy, 

That's not the way open source development works.  ICU depends on people like you logging bugs and following up to improve the quality.  Doug Felt works on ICU and is cc'ed on this bug.  I encourage you to go the extra step here as you've already identified the problem.


Doug Felt already opened the bug: http://dev.icu-project.org/cgi-bin/icu-bugs/strings?findid=5061
Regarding comment #3, I could not find ComparatorViewerSorter in 3.2M6.  I imagine ComparatorViewerSorter is supposed to replace ViewerSorter (and not use java.text.Collator), which is used in StructuredViewer.  

I did find a ViewerComparator, and its JavaDoc does say it is to be used in StructuredViewer, but I could not actually tell how StructuredViewer would be using it since ViewerSorter extends ViewerComparator and not the other way around.  So it's not like I could call setSorter() and pass in ViewerComparator instead.
Boris, there is an API issue here that we seem to have overlooked (see previous comment).  We should discuss.
(In reply to comment #11)
As I understood it, the idea was to introduce ViewerComparator into the base class hierarchy, and then sometime later update some APIs taking ViewerComparator to take ViewerComparator instead.  I'm not sure who was going to do that work, or when.  

Subclasses of ViewerSorter, and users of ViewerSorter who expose it or its Collator (externally or to subclasses) wouldn't be able to switch over either.  I'm not sure how many candidate APIs there are.


Amy, I should mention your concern in comment #10 is addressed by bug 135284.
Patches are integrated - marking fixed.
Verified in 20060425-0010</WithStack>
    <WithOutStack>Now that ICU4J will be in the build for M4, we need to work on getting the required changes into the platform.  Doug will submit the changes as a set of patches which I will delegate to plugin owners.
I'm going to punt this back to you to get it out of the bucket.
To update, the remaining issues are:
1. Evolve build process to be able to build using pre-jarred plugins with source
2. Build wrapper (aka stub aka base) plugin as pre-jarred plugin with source.  Need to be able to interchange the stub plugin for the real ICU4J and vice-versa.
3. Change Eclipse SDK code to use ICU4J API.
4. Investigate fragmenting ICU4J to reduce footprint.  
Added API to JFace (new class called ComparatorViewerSorter) for M5.

We still need to complete 1-4 from comment #2.
1 is complete (for M5) but still in it's early stages of being in the builds - see bug 127495 for more details of the problems encountered.

Still need to look at 2, 3, and 4 for M6.  Updating target to reflect this.
FYI, while porting some of my plugins to use ICU4J, I found that ICU's StringTokenizer behaves a little differently than Java's.  If you specify you want delimiters returned as tokens StringTokenizer(String, String, true), delimiters that are next to each other are grouped into 1 token, rather than separated with each delimiter being 1 token.  
For example:
StringTokenizer("  my\r\n", " \r\n", true)

ICU's tokens  = ["  ","my","\r\n"]
Java's tokens = [" "," ","my","\r","\n"]

This may effect platform code that uses StringTokenizer and expects a certain result.
Sounds like an ICU bug.  You should report it through the ICU project:
http://dev.icu-project.org/cgi-bin/icu-bugs
I believe someone else is already going to report it.  I was just informing you guys of the bug in case you run into it during porting.
Amy, 

That's not the way open source development works.  ICU depends on people like you logging bugs and following up to improve the quality.  Doug Felt works on ICU and is cc'ed on this bug.  I encourage you to go the extra step here as you've already identified the problem.


Doug Felt already opened the bug: http://dev.icu-project.org/cgi-bin/icu-bugs/strings?findid=5061
Regarding comment #3, I could not find ComparatorViewerSorter in 3.2M6.  I imagine ComparatorViewerSorter is supposed to replace ViewerSorter (and not use java.text.Collator), which is used in StructuredViewer.  

I did find a ViewerComparator, and its JavaDoc does say it is to be used in StructuredViewer, but I could not actually tell how StructuredViewer would be using it since ViewerSorter extends ViewerComparator and not the other way around.  So it's not like I could call setSorter() and pass in ViewerComparator instead.
Boris, there is an API issue here that we seem to have overlooked (see previous comment).  We should discuss.
(In reply to comment #11)
As I understood it, the idea was to introduce ViewerComparator into the base class hierarchy, and then sometime later update some APIs taking ViewerComparator to take ViewerComparator instead.  I'm not sure who was going to do that work, or when.  

Subclasses of ViewerSorter, and users of ViewerSorter who expose it or its Collator (externally or to subclasses) wouldn't be able to switch over either.  I'm not sure how many candidate APIs there are.


Amy, I should mention your concern in comment #10 is addressed by bug 135284.
Patches are integrated - marking fixed.
Verified in 20060425-0010</WithOutStack>
  </Bug>
  <Bug>
    <BugId amount="120464" />
    <CreationDate amount="2005-12-12 18:27:00 -0500" />
    <DupId amount="" />
    <classification amount="RT" />
    <Product amount="Equinox" />
    <component amount="Framework" />
    <Version amount="3.1.2" />
    <rep_platform amount="PC" />
    <op_sys amount="Windows XP" />
    <priority amount="P3" />
    <bug_severity amount="normal" />
    <Summery>must set reqEE and platform filter when copying BundleDescriptions</Summery>
    <Patches amount="0" />
    <Stacktraces amount="0" />
    <SourceCodeRegions amount="0" />
    <Enumerations amount="0" />
    <bug_status amount="RESOLVED" />
    <resolution amount="FIXED" />
    <WithStack>The StateObjectFactoryImpl#createBundleDescription(BundleDescription) is not copying the requiredExecutionEnvironments or platformFilters from the original BundleDescription into the newly created one.  This is causing PDE some persistent problems with bundles in the workspace
Fixed in head, but a fix is needed in 3.1.2 for platform filters to be set.  Note that we did not use required execution environments in the state in 3.1 so this data does not exist in the 3.1 version of the state.
Created attachment 31596
backport of fix to 3.1.2

Jeff, do you approve this fix for 3.1.2?
+1
Released 3.1.2 patch.</WithStack>
    <WithOutStack>The StateObjectFactoryImpl#createBundleDescription(BundleDescription) is not copying the requiredExecutionEnvironments or platformFilters from the original BundleDescription into the newly created one.  This is causing PDE some persistent problems with bundles in the workspace
Fixed in head, but a fix is needed in 3.1.2 for platform filters to be set.  Note that we did not use required execution environments in the state in 3.1 so this data does not exist in the 3.1 version of the state.
Created attachment 31596
backport of fix to 3.1.2

Jeff, do you approve this fix for 3.1.2?
+1
Released 3.1.2 patch.</WithOutStack>
  </Bug>
  <Bug>
    <BugId amount="120465" />
    <CreationDate amount="2005-12-12 18:29:00 -0500" />
    <DupId amount="95945" />
    <classification amount="Eclipse" />
    <Product amount="Platform" />
    <component amount="CVS" />
    <Version amount="3.2" />
    <rep_platform amount="PC" />
    <op_sys amount="Windows XP" />
    <priority amount="P3" />
    <bug_severity amount="normal" />
    <Summery>"open in compare editor" switches to open file editor instead of compare editor if it is open</Summery>
    <Patches amount="0" />
    <Stacktraces amount="0" />
    <SourceCodeRegions amount="0" />
    <Enumerations amount="1">
      <Enumeration lines="5">
        <Lines>
          <Line>1. Check out a project from CVS</Line>
          <Line>2. Open a file "foo.txt" in the project and make a change to it.  Save the file, but leave it open.</Line>
          <Line>3. Open another file and leave it as the selected file in the editor window.</Line>
          <Line>4. Synchronize the project with CVS</Line>
          <Line>5. In the synchronize view, double-click on foo.txt to open the compare editor.</Line>
        </Lines>
      </Enumeration>
    </Enumerations>
    <bug_status amount="RESOLVED" />
    <resolution amount="DUPLICATE" />
    <WithStack>Using Eclipse 2.0M3 milestone build.

If you double-click on a file in the CVS synchronize view (or use the context menu "open in compare editor") and the file being compared is already open (but not the active editor), the action will open the compare editor but then select the file editor instead of the compare editor.

Steps to reproduce:
1. Check out a project from CVS
2. Open a file "foo.txt" in the project and make a change to it.  Save the file, but leave it open.
3. Open another file and leave it as the selected file in the editor window.
4. Synchronize the project with CVS
5. In the synchronize view, double-click on foo.txt to open the compare editor.

EXPECTED: compare editor is opened and selected for foo.txt
ACTUAL: compare editor is opened, but the foo.txt editor is selected.


*** This bug has been marked as a duplicate of 95945 ***
This is a duplicate, but I just noticed that the Eclipse version was wrong.  Just to clarify, I was using Eclipse 3.2M3 on Windows XP.</WithStack>
    <WithOutStack>Using Eclipse 2.0M3 milestone build.

If you double-click on a file in the CVS synchronize view (or use the context menu "open in compare editor") and the file being compared is already open (but not the active editor), the action will open the compare editor but then select the file editor instead of the compare editor.

Steps to reproduce:
1. Check out a project from CVS
2. Open a file "foo.txt" in the project and make a change to it.  Save the file, but leave it open.
3. Open another file and leave it as the selected file in the editor window.
4. Synchronize the project with CVS
5. In the synchronize view, double-click on foo.txt to open the compare editor.

EXPECTED: compare editor is opened and selected for foo.txt
ACTUAL: compare editor is opened, but the foo.txt editor is selected.


*** This bug has been marked as a duplicate of 95945 ***
This is a duplicate, but I just noticed that the Eclipse version was wrong.  Just to clarify, I was using Eclipse 3.2M3 on Windows XP.</WithOutStack>
  </Bug>
  <Bug>
    <BugId amount="120466" />
    <CreationDate amount="2005-12-12 18:36:00 -0500" />
    <DupId amount="" />
    <classification amount="WebTools" />
    <Product amount="WTP ServerTools" />
    <component amount="jst.server" />
    <Version amount="1.0" />
    <rep_platform amount="PC" />
    <op_sys amount="Linux" />
    <priority amount="P3" />
    <bug_severity amount="major" />
    <Summery>Any change to a web module Context path gets reset in RC3</Summery>
    <Patches amount="0" />
    <Stacktraces amount="0" />
    <SourceCodeRegions amount="0" />
    <Enumerations amount="0" />
    <bug_status amount="CLOSED" />
    <resolution amount="FIXED" />
    <WithStack>Changing the "path" of a Web Module, either by using the built-in server configuration editor or by manually editing the server.xml doesn't work in RC3 because it gets reset to its default value (the name of the module prepended with a slash?) as soon as any changes are published.

The actual value of the path doesn't seem to matter although I was trying to set it to any empty string.
The context root should be set on the module, not on the server. This will allow the module to do link validation and make sure URLs are correct, etc. Currently, there is no UI to do this (there is already a bug open against jst.j2ee) so you have to edit the .settings/.component file directly.

The reason it is updating the context root each time is because it is trying to match the module's context root. If you do a Run On Server on a resource in your web app (e.g. a JSP file), you should be able to go to the third page of the wizard, which will include a checkbox for updating the context root. Uncheck the checkbox, click Finish, and it should no longer keep trying to replace the context root.
Ran out of time in M4, will investigate in M5.
Fix released to 3.0 M5 builds. The Tomcat 'fix context roots' now uses the new Publisher framework, which will prompt the user the first time the context root is found different and will not prompt again.

FYI to Larry. I had to modify several files in tomcat.core and .ui, hope you don't mind.
Verified, closing.</WithStack>
    <WithOutStack>Changing the "path" of a Web Module, either by using the built-in server configuration editor or by manually editing the server.xml doesn't work in RC3 because it gets reset to its default value (the name of the module prepended with a slash?) as soon as any changes are published.

The actual value of the path doesn't seem to matter although I was trying to set it to any empty string.
The context root should be set on the module, not on the server. This will allow the module to do link validation and make sure URLs are correct, etc. Currently, there is no UI to do this (there is already a bug open against jst.j2ee) so you have to edit the .settings/.component file directly.

The reason it is updating the context root each time is because it is trying to match the module's context root. If you do a Run On Server on a resource in your web app (e.g. a JSP file), you should be able to go to the third page of the wizard, which will include a checkbox for updating the context root. Uncheck the checkbox, click Finish, and it should no longer keep trying to replace the context root.
Ran out of time in M4, will investigate in M5.
Fix released to 3.0 M5 builds. The Tomcat 'fix context roots' now uses the new Publisher framework, which will prompt the user the first time the context root is found different and will not prompt again.

FYI to Larry. I had to modify several files in tomcat.core and .ui, hope you don't mind.
Verified, closing.</WithOutStack>
  </Bug>
  <Bug>
    <BugId amount="120467" />
    <CreationDate amount="2005-12-12 18:39:00 -0500" />
    <DupId amount="" />
    <classification amount="BIRT" />
    <Product amount="BIRT" />
    <component amount="Data Access" />
    <Version amount="2.0.0" />
    <rep_platform amount="PC" />
    <op_sys amount="Windows XP" />
    <priority amount="P3" />
    <bug_severity amount="enhancement" />
    <Summery>Change name of XPath panel in Edit Data Set for XML data sets</Summery>
    <Patches amount="0" />
    <Stacktraces amount="0" />
    <SourceCodeRegions amount="0" />
    <Enumerations amount="0" />
    <bug_status amount="RESOLVED" />
    <resolution amount="FIXED" />
    <WithStack>Edit an XML data set.
On the left, BIRT displays the list of panels where you can edit your data set definition. 
XPath panel should be given a more meaningful name.
I recommend Table Mapping to make it parallel to Column Mapping, which is descriptive and easily understood.

We could also then rename the Row Mapping area to Table Mapping.

Alternatively, we can use Row Mapping for both the panel and the XPression view area.
The rename is advisable. Fix it in source.
Verified in the build 20051220</WithStack>
    <WithOutStack>Edit an XML data set.
On the left, BIRT displays the list of panels where you can edit your data set definition. 
XPath panel should be given a more meaningful name.
I recommend Table Mapping to make it parallel to Column Mapping, which is descriptive and easily understood.

We could also then rename the Row Mapping area to Table Mapping.

Alternatively, we can use Row Mapping for both the panel and the XPression view area.
The rename is advisable. Fix it in source.
Verified in the build 20051220</WithOutStack>
  </Bug>
  <Bug>
    <BugId amount="120468" />
    <CreationDate amount="2005-12-12 18:46:00 -0500" />
    <DupId amount="116783" />
    <classification amount="WebTools" />
    <Product amount="WTP ServerTools" />
    <component amount="jst.server" />
    <Version amount="1.0" />
    <rep_platform amount="PC" />
    <op_sys amount="Linux" />
    <priority amount="P3" />
    <bug_severity amount="normal" />
    <Summery>External JARs in J2EE Module Dependencies don't get deployed in RC3</Summery>
    <Patches amount="0" />
    <Stacktraces amount="0" />
    <SourceCodeRegions amount="0" />
    <Enumerations amount="0" />
    <bug_status amount="CLOSED" />
    <resolution amount="DUPLICATE" />
    <WithStack>If I add several external jars to the J2EE Module Dependencies property sheet in a Dynamic Web Project none of them get published although this is what I understand it should do if I read the explanation:

"This property page lets you add the Web Library dependency to other java modules in the workpspace. This dependency resolves the java modules into the web\lib folder of the web module at deployment time."

NB: Why can't I add (User) Libraries in this property sheet? The project again shows large lists of dependent jars instead of the few Libraries I made especially for that purpose.


*** This bug has been marked as a duplicate of 116783 ***
This bug was moved to 'closed' state, since it is so old is is assumed its dup, invalid, or worksforme resolution is no longer in qustion and the bugzilla needs no further attention. Feel free to re-open, or open a new bug, if this semi-automatic processing was done in error in this case.</WithStack>
    <WithOutStack>If I add several external jars to the J2EE Module Dependencies property sheet in a Dynamic Web Project none of them get published although this is what I understand it should do if I read the explanation:

"This property page lets you add the Web Library dependency to other java modules in the workpspace. This dependency resolves the java modules into the web\lib folder of the web module at deployment time."

NB: Why can't I add (User) Libraries in this property sheet? The project again shows large lists of dependent jars instead of the few Libraries I made especially for that purpose.


*** This bug has been marked as a duplicate of 116783 ***
This bug was moved to 'closed' state, since it is so old is is assumed its dup, invalid, or worksforme resolution is no longer in qustion and the bugzilla needs no further attention. Feel free to re-open, or open a new bug, if this semi-automatic processing was done in error in this case.</WithOutStack>
  </Bug>
  <Bug>
    <BugId amount="120469" />
    <CreationDate amount="2005-12-12 18:55:00 -0500" />
    <DupId amount="" />
    <classification amount="Mylyn" />
    <Product amount="Mylyn" />
    <component amount="Bugzilla" />
    <Version amount="0.4" />
    <rep_platform amount="PC" />
    <op_sys amount="Windows XP" />
    <priority amount="P4" />
    <bug_severity amount="enhancement" />
    <Summery>Decouple bugzilla task reading</Summery>
    <Patches amount="0" />
    <Stacktraces amount="0" />
    <SourceCodeRegions amount="0" />
    <Enumerations amount="0" />
    <bug_status amount="RESOLVED" />
    <resolution amount="FIXED" />
    <WithStack>The BugzillaTaskExternalizer currently can't be used to read bugzilla tasks when Eclipse isn't running because it needs the registry mechanism. Investigate how the normal externalizer could be extended with an option to read bugzilla tasks or if a special externalizer can do this independently of Eclipse with help from the BugzillaTaskExternalizer. This is an extension of issue 118885.
I will investigate this issue. Please assign to me if you think I should be able to make progress on this. I'll post any possible solutions I come up with.
Created attachment 31610
Patch for tasklist

I've had a look at the externalizing code and it seems that any externalizer added   (while Eclipse etc. isn't initialized) will fail when TaskListWriter calls the MylarTaskListPlugin to get the task handler (line 499). The MylarTaskListPlugin has a Color field initializer that calls Display.getDefault(), making it a no-go for stand-alone use.

However, when the DelegatingLocalTaskExternalizer itself reads a task, no task handler is required, so the operation works. A potential quick fix for reading basic info from bugzilla tasks in stand-alone mode is to let clients set the DelegatingLocalTaskExternalizer to use. The attached proposed patch adds a setter that enables this.

A better solution might be to move the task handler list out of MylarTaskListPlugin and see if this does the trick.

Testing: The attached possible patch just adds an accessor. No testing other than running Mylar was performed.
Patch applied. I'm going to leave this open because it is feasible to de-couple the reading entirely, but I assume that this doesn't have priority right now.
Thanks.
Done, and should now run headless.</WithStack>
    <WithOutStack>The BugzillaTaskExternalizer currently can't be used to read bugzilla tasks when Eclipse isn't running because it needs the registry mechanism. Investigate how the normal externalizer could be extended with an option to read bugzilla tasks or if a special externalizer can do this independently of Eclipse with help from the BugzillaTaskExternalizer. This is an extension of issue 118885.
I will investigate this issue. Please assign to me if you think I should be able to make progress on this. I'll post any possible solutions I come up with.
Created attachment 31610
Patch for tasklist

I've had a look at the externalizing code and it seems that any externalizer added   (while Eclipse etc. isn't initialized) will fail when TaskListWriter calls the MylarTaskListPlugin to get the task handler (line 499). The MylarTaskListPlugin has a Color field initializer that calls Display.getDefault(), making it a no-go for stand-alone use.

However, when the DelegatingLocalTaskExternalizer itself reads a task, no task handler is required, so the operation works. A potential quick fix for reading basic info from bugzilla tasks in stand-alone mode is to let clients set the DelegatingLocalTaskExternalizer to use. The attached proposed patch adds a setter that enables this.

A better solution might be to move the task handler list out of MylarTaskListPlugin and see if this does the trick.

Testing: The attached possible patch just adds an accessor. No testing other than running Mylar was performed.
Patch applied. I'm going to leave this open because it is feasible to de-couple the reading entirely, but I assume that this doesn't have priority right now.
Thanks.
Done, and should now run headless.</WithOutStack>
  </Bug>
  <Bug>
    <BugId amount="120470" />
    <CreationDate amount="2005-12-12 19:10:00 -0500" />
    <DupId amount="" />
    <classification amount="BIRT" />
    <Product amount="BIRT" />
    <component amount="Report Designer" />
    <Version amount="2.0.0" />
    <rep_platform amount="PC" />
    <op_sys amount="All" />
    <priority amount="P3" />
    <bug_severity amount="minor" />
    <Summery>TextDataEditPart.Figure.Dafault in designer.core. is not translated</Summery>
    <Patches amount="0" />
    <Stacktraces amount="0" />
    <SourceCodeRegions amount="0" />
    <Enumerations amount="0" />
    <bug_status amount="CLOSED" />
    <resolution amount="FIXED" />
    <WithStack>TextDataEditPart.Figure.Dafault=Dynamic Text in designer.core. is not translated
so that "Dynamic Text" on the Pallette is always displayed in English.
Merged localized strings for "Dynamic Text".

veirified on 20051214 build.</WithStack>
    <WithOutStack>TextDataEditPart.Figure.Dafault=Dynamic Text in designer.core. is not translated
so that "Dynamic Text" on the Pallette is always displayed in English.
Merged localized strings for "Dynamic Text".

veirified on 20051214 build.</WithOutStack>
  </Bug>
  <Bug>
    <BugId amount="120471" />
    <CreationDate amount="2005-12-12 19:12:00 -0500" />
    <DupId amount="80715" />
    <classification amount="Eclipse" />
    <Product amount="JDT" />
    <component amount="Core" />
    <Version amount="3.1.1" />
    <rep_platform amount="PC" />
    <op_sys amount="Windows XP" />
    <priority amount="P3" />
    <bug_severity amount="normal" />
    <Summery>ITypeBinding.isAssignable(ITypeBinding) does not work if types came from different universe</Summery>
    <Patches amount="0" />
    <Stacktraces amount="0" />
    <SourceCodeRegions amount="4">
      <source_code type="functiondef">
        <location start="0" end="302" />
        <code>public ITypeBinding getTypeBinding(final String bindingKey){
   final ASTParser parser = ASTParser.newParser(AST.JLS3);
   parser.setResolveBindings(true);
   parser.setProject(&lt;java project&gt;);
   parser.createASTs(new ICompilationUnit[]{}, new String[]{bindingKey}, &lt;some non-null requestor&gt;, null);
}</code>
      </source_code>
      <source_code type="functiondef">
        <location start="304" end="727" />
        <code>public boolean isAssignableTest(){
   final String collectionKey = 
BindingKey.createTypeBindingKey("java.util.Collection");
   final ITypeBinding type0 = getTypeBinding(collectionKey); 
   final ITypeBinding type1 = getTypeBinding(collectionKey);
			System.err.println("t0 assignable to t1 ? " + type0.isAssignmentCompatible(type1));
			System.err.println("t1 assignable to t2 ? " + type1.isAssignmentCompatible(type0));
}</code>
      </source_code>
      <source_code type="functiondef">
        <location start="777" end="1079" />
        <code>public ITypeBinding getTypeBinding(final String bindingKey){
   final ASTParser parser = ASTParser.newParser(AST.JLS3);
   parser.setResolveBindings(true);
   parser.setProject(&lt;java project&gt;);
   parser.createASTs(new ICompilationUnit[]{}, new String[]{bindingKey}, &lt;some
non-null requestor&gt;, null);
}</code>
      </source_code>
      <source_code type="functiondef">
        <location start="1081" end="1383" />
        <code>public boolean isAssignableTest(){
   final String collectionKey = 
      BindingKey.createTypeBindingKey("java.util.Collection");
   final ITypeBinding type0 = getTypeBinding(collectionKey); 
   final ITypeBinding type1 = getTypeBinding(collectionKey);
   return type0.isAssignmentCompatible(type1);
}</code>
      </source_code>
    </SourceCodeRegions>
    <Enumerations amount="0" />
    <bug_status amount="CLOSED" />
    <resolution amount="DUPLICATE" />
    <WithStack>public ITypeBinding getTypeBinding(final String bindingKey){
   final ASTParser parser = ASTParser.newParser(AST.JLS3);
   parser.setResolveBindings(true);
   parser.setProject(&lt;java project&gt;);
   parser.createASTs(new ICompilationUnit[]{}, new String[]{bindingKey}, &lt;some non-null requestor&gt;, null);
}

public boolean isAssignableTest(){
   final String collectionKey = 
BindingKey.createTypeBindingKey("java.util.Collection");
   final ITypeBinding type0 = getTypeBinding(collectionKey); 
   final ITypeBinding type1 = getTypeBinding(collectionKey);
			System.err.println("t0 assignable to t1 ? " + type0.isAssignmentCompatible(type1));
			System.err.println("t1 assignable to t2 ? " + type1.isAssignmentCompatible(type0));
}
(sorry hit the commit key too early by mistake)

public ITypeBinding getTypeBinding(final String bindingKey){
   final ASTParser parser = ASTParser.newParser(AST.JLS3);
   parser.setResolveBindings(true);
   parser.setProject(&lt;java project&gt;);
   parser.createASTs(new ICompilationUnit[]{}, new String[]{bindingKey}, &lt;some
non-null requestor&gt;, null);
}

public boolean isAssignableTest(){
   final String collectionKey = 
      BindingKey.createTypeBindingKey("java.util.Collection");
   final ITypeBinding type0 = getTypeBinding(collectionKey); 
   final ITypeBinding type1 = getTypeBinding(collectionKey);
   return type0.isAssignmentCompatible(type1);
}

The call to isAssignableTest() will always return false even though the type theoretically is the same type (both being java.util.Collection). The problem here being type0 and type1 came from two completely different type binding universe and == comparison as well .equals() will always return false.

This presents a huge problem to user since the binding universe is an implementation detail that is not exposed and not documented in the API. To a user, this just looks like a bug.



*** This bug has been marked as a duplicate of bug 80715 ***</WithStack>
    <WithOutStack>public ITypeBinding getTypeBinding(final String bindingKey){
   final ASTParser parser = ASTParser.newParser(AST.JLS3);
   parser.setResolveBindings(true);
   parser.setProject(&lt;java project&gt;);
   parser.createASTs(new ICompilationUnit[]{}, new String[]{bindingKey}, &lt;some non-null requestor&gt;, null);
}

public boolean isAssignableTest(){
   final String collectionKey = 
BindingKey.createTypeBindingKey("java.util.Collection");
   final ITypeBinding type0 = getTypeBinding(collectionKey); 
   final ITypeBinding type1 = getTypeBinding(collectionKey);
			System.err.println("t0 assignable to t1 ? " + type0.isAssignmentCompatible(type1));
			System.err.println("t1 assignable to t2 ? " + type1.isAssignmentCompatible(type0));
}
(sorry hit the commit key too early by mistake)

public ITypeBinding getTypeBinding(final String bindingKey){
   final ASTParser parser = ASTParser.newParser(AST.JLS3);
   parser.setResolveBindings(true);
   parser.setProject(&lt;java project&gt;);
   parser.createASTs(new ICompilationUnit[]{}, new String[]{bindingKey}, &lt;some
non-null requestor&gt;, null);
}

public boolean isAssignableTest(){
   final String collectionKey = 
      BindingKey.createTypeBindingKey("java.util.Collection");
   final ITypeBinding type0 = getTypeBinding(collectionKey); 
   final ITypeBinding type1 = getTypeBinding(collectionKey);
   return type0.isAssignmentCompatible(type1);
}

The call to isAssignableTest() will always return false even though the type theoretically is the same type (both being java.util.Collection). The problem here being type0 and type1 came from two completely different type binding universe and == comparison as well .equals() will always return false.

This presents a huge problem to user since the binding universe is an implementation detail that is not exposed and not documented in the API. To a user, this just looks like a bug.



*** This bug has been marked as a duplicate of bug 80715 ***</WithOutStack>
  </Bug>
  <Bug>
    <BugId amount="120472" />
    <CreationDate amount="2005-12-12 19:49:00 -0500" />
    <DupId amount="" />
    <classification amount="Tools" />
    <Product amount="CDT" />
    <component amount="cdt-parser" />
    <Version amount="3.1" />
    <rep_platform amount="PC" />
    <op_sys amount="Windows XP" />
    <priority amount="P3" />
    <bug_severity amount="normal" />
    <Summery>Scanner sees ^L as a syntax error, not whitespace</Summery>
    <Patches amount="0" />
    <Stacktraces amount="0" />
    <SourceCodeRegions amount="0" />
    <Enumerations amount="0" />
    <bug_status amount="RESOLVED" />
    <resolution amount="FIXED" />
    <WithStack>My source code uses the ^L character (form-feed) as white space. It was originally designed to make things look prettier when printed out; now it's legacy crap that I choose not to get rid of.

When I turn CDT loose on this project, it complains that the ^L character is a syntax error. I believe it's not - I think it's valid standard C++, or certainly something that G++ doesn't complain about.
Hey Allan, good to hear from you again. Someone mentioned this before. I'll dig into it a bit further. Should be a simple fix.
The latest HEAD doesn't seem to pick this up as an error anymore, but I think that it could display it in some better way than a small box.  Perhaps a colored ^L (like Vim) would be appropriate?

I'd set the appropriate keyword, but I don't have the proper permissions.
The new preprocessor supports line-feeds and vertical tabs.
Fixed in 5.0 &gt; 20071114.</WithStack>
    <WithOutStack>My source code uses the ^L character (form-feed) as white space. It was originally designed to make things look prettier when printed out; now it's legacy crap that I choose not to get rid of.

When I turn CDT loose on this project, it complains that the ^L character is a syntax error. I believe it's not - I think it's valid standard C++, or certainly something that G++ doesn't complain about.
Hey Allan, good to hear from you again. Someone mentioned this before. I'll dig into it a bit further. Should be a simple fix.
The latest HEAD doesn't seem to pick this up as an error anymore, but I think that it could display it in some better way than a small box.  Perhaps a colored ^L (like Vim) would be appropriate?

I'd set the appropriate keyword, but I don't have the proper permissions.
The new preprocessor supports line-feeds and vertical tabs.
Fixed in 5.0 &gt; 20071114.</WithOutStack>
  </Bug>
  <Bug>
    <BugId amount="120473" />
    <CreationDate amount="2005-12-12 20:04:00 -0500" />
    <DupId amount="" />
    <classification amount="Tools" />
    <Product amount="AspectJ" />
    <component amount="Compiler" />
    <Version amount="DEVELOPMENT" />
    <rep_platform amount="PC" />
    <op_sys amount="Windows XP" />
    <priority amount="P3" />
    <bug_severity amount="enhancement" />
    <Summery>Don't Create Separate Weaving Adaptors for Reflection Loaders</Summery>
    <Patches amount="0" />
    <Stacktraces amount="0" />
    <SourceCodeRegions amount="2">
      <source_code type="ifstatement">
        <location start="1596" end="1709" />
        <code>if (loader == null || className == null || !WeavingAdaptor.shouldWeaveName(className.replace('/','.'))) {</code>
      </source_code>
      <source_code type="functiondef">
        <location start="9051" end="9587" />
        <code>I was wrong. You are right. I did not see an aop.xml configuaration for the DelegatingClassLoader (and a World) in my testcase because of the way we configure LTW in the harness when we fork using Ant (which is necessary to use -javaagent). We do not load aop.xml from META-INF but from a location specified using "-Daj.def". However this mechanism only applies to the System class loader (check in ClassLoaderWeavingAdaptor) so the DelegatingClassLoader did not see it. I have revised the testcase to copy the aop.xml to "${aj.sandbox}</code>
      </source_code>
    </SourceCodeRegions>
    <Enumerations amount="1">
      <Enumeration lines="3">
        <Lines>
          <Line>1. Don't create a Weaver for each DelegatingClassLoader</Line>
          <Line>2. Weaving reflection delegates is unlikely/impossible so optimize for DelegatingClassLoaders by sharing state</Line>
          <Line>3. Don't permit weaving of reflection delegates</Line>
        </Lines>
      </Enumeration>
    </Enumerations>
    <bug_status amount="RESOLVED" />
    <resolution amount="FIXED" />
    <WithStack>The attached patch allows reusing weaving adaptors for sun.reflect.DelegatingClassLoader loaders, which noticably improves load-time weaving performance and is always safe.

I found that in a typical app server environment, there can be a lot of sun.reflect.DelegatingClassLoader instances lying around. They appear to be generated by the Sun reflection implementation and are used to load a single generated acessor or method. http://bugs.sun.com/bugdatabase/view_bug.do?bug_id=4474172 has some information on what these loaders do. The key thing is that there will never be an aop.xml file in one of them, so it's safe to share for them... 

In my memory optimized load-time weaving set up not creating separate worlds reduced heap overhead by a lot, e.g., 200%, since most of the overhead in my optimized version comes from loading worlds. This allowed me to go from 14 world instances to just 3.

In the version in CVS head, it allowed me to reduce overhead on another project from 90 mb to 70 mb and to reduce start-up times by 5-10%.
Created attachment 31599
use the parent loader's adaptor, or skip weaving if null (nothing is woven into reflection delegates from the bootstrap loader)
Created attachment 31601
Cleaner version that just skips trying to weave in reflection loaders altogether.

The earlier patch works because we will never be weaving into the reflection loader loaded types. This version makes that clearer &amp; is a little faster.
An alternative strategy that also works is to make WeavingAdaptor.shouldWeaveName a public and static, and then have Aj.preProcess start with:
        if (loader == null || className == null || !WeavingAdaptor.shouldWeaveName(className.replace('/','.'))) {

This imposes a bit more overhead (requiring a check on each class being loaded) but it removes the dependency on the implementation class sun.reflect.DelegatingClassLoader
Which of the following are you suggesting?
1. Don't create a Weaver for each DelegatingClassLoader
2. Weaving reflection delegates is unlikely/impossible so optimize for DelegatingClassLoaders by sharing state
3. Don't permit weaving of reflection delegates

Your patch seems to implement 3 while the summary requests 1 and the description describes 2. 

I agree with the solution in your 2nd patch rather than your comment concerning a new public method. Reflection delegates, unlike user generated Java proxies, can be considered part of the JVM implementation and should not be exposed to the weaver. A safe and efficient test in Aj.preProcess() would be the best approach.

Ron,

I am not sure that this patch will give you the benefit that you suggest. I have written a testcase the causes the creation of a DelegatingClassLoader, an accompanying WeavingAdaptor and generated sun/reflect/XXX classes. However with fixes to bug 113511, bug 116626 and bug 117189 (all of which use the "enabled" flag) we find no aop.xml, issue a message and return without creating a World or Weaver. All subsequent calls to "WeavingAdaptor.weaveClass()" will return immediately. Have you picked up changes from CVS head recently?
Yes I have tested this with the latest version. The performance gains are noticable.

There are cases where you make reflective calls from within a ClassLoader where an aop.xml is visible (e.g., through a parent), i.e., the DelegatingClassLoader has a parent. I will try to provide a simple example ... if you can provide me a patch that reproduces your tests that would be helpful.

To the earlier question, I realized that there's no point in creating a weaver to weave reflection delegates because WeaverAdaptor.shouldWeaveName never does so. The first patch implemented #1 to achieve #2: it used the parent loader's adaptor (this actually might break if we generated types like around closures in the delegating loader).
Ron,

I am still puzzled. According to the description of a DelegationClassLoader "The key thing is that there will never be an aop.xml
file in one of them ...", which is confirmed by my test, any attached WeavingAdaptor will be disabled. Your patch will simply prevent the creation of the adaptor. Are you saying that there are circumstances when a DelegatingClassLoader _can_ see an aop.xml or are you saying the footprint of the adaptor itself is high?
Here's an example I'm seeing inside of Tomcat. Basically, the DelegatingClassLoader has a parent and it delegates to the parent to discover the various aop.xml files. While there is not (and never can be) an aop.xml file inside the DelegatingClassLoader, it will use normal classloader delegation to find one from its parent loader.

As a result, the system pays a fairly hefty price of parsing and constructing a big tree of BCEL objects for every such delegating class loader. Just on startup, I found a single Web app had 75% of the total enabled worlds coming from these reflection delegate class loaders.

loader.parent is an org.apache.catalina.loader.WebappClassLoader

definitions includes all of the aspects I've deployed to shared/lib

The first stack trace where I see a non-empty set of definitions is:
ClassLoaderWeavingAdaptor.initialize(ClassLoader, IWeavingContext) line: 107
Aj$ExplicitlyInitializedClassLoaderWeavingAdaptor.initialize(ClassLoader, IWeavingContext) line: 135
Aj$ExplicitlyInitializedClassLoaderWeavingAdaptor.getWeavingAdaptor(ClassLoader, IWeavingContext) line: 140
Aj$WeaverContainer.getWeaver(ClassLoader, IWeavingContext) line: 106
Aj.preProcess(String, byte[], ClassLoader) line: 62
ClassPreProcessorAgentAdapter.transform(ClassLoader, String, Class&lt;?&gt;, ProtectionDomain, byte[]) line: 52
TransformerManager.transform(ClassLoader, String, Class, ProtectionDomain, byte[]) line: 122
InstrumentationImpl.transform(ClassLoader, String, Class, ProtectionDomain, byte[]) line: 155
Unsafe.defineClass(String, byte[], int, int, ClassLoader, ProtectionDomain) line: not available [native method]
ClassDefiner.defineClass(String, byte[], int, int, ClassLoader) line: 45
MethodAccessorGenerator$1.run() line: 381
AccessController.doPrivileged(PrivilegedAction&lt;T&gt;) line: not available [native method]
MethodAccessorGenerator.generate(Class, String, Class[], Class, Class[], int, boolean, boolean, Class) line: 377
MethodAccessorGenerator.generateConstructor(Class, Class[], Class[], int) line: 76
NativeConstructorAccessorImpl.newInstance(Object[]) line: 30
DelegatingConstructorAccessorImpl.newInstance(Object[]) line: 27
Constructor&lt;T&gt;.newInstance(Object...) line: 494
Class&lt;T&gt;.newInstance0() line: 350
Class&lt;T&gt;.newInstance() line: 303
ObjectCreateRule.begin(AttributeList) line: 153
Digester.startElement(String, AttributeList) line: 528
SAXParser(AbstractSAXParser).startElement(QName, XMLAttributes, Augmentations) line: not available
SAXParser(AbstractXMLDocumentParser).emptyElement(QName, XMLAttributes, Augmentations) line: not available
XMLDTDValidator.emptyElement(QName, XMLAttributes, Augmentations) line: not available
XMLDocumentScannerImpl(XMLDocumentFragmentScannerImpl).scanStartElement() line: not available
XMLDocumentScannerImpl$ContentDispatcher(XMLDocumentFragmentScannerImpl$FragmentContentDispatcher).dispatch(boolean) line: not available
XMLDocumentScannerImpl(XMLDocumentFragmentScannerImpl).scanDocument(boolean) line: not available
XML11Configuration.parse(boolean) line: not available
XML11Configuration.parse(XMLInputSource) line: not available
SAXParser(XMLParser).parse(XMLInputSource) line: not available
SAXParser(AbstractSAXParser).parse(InputSource) line: not available
SAXParserImpl(SAXParser).parse(InputSource, HandlerBase) line: 344
SAXParserImpl(SAXParser).parse(InputStream, HandlerBase) line: 120
Digester.parse(InputStream) line: 755
ActionServlet.initMapping() line: 1332
ActionServlet.init() line: 466
ActionServlet(GenericServlet).init(ServletConfig) line: 211
StandardWrapper.loadServlet() line: 1091
StandardWrapper.load() line: 925
StandardContext.loadOnStartup(Container[]) line: 3857
StandardContext.start() line: 4118
StandardHost(ContainerBase).addChildInternal(Container) line: 759
StandardHost(ContainerBase).addChild(Container) line: 739
StandardHost.addChild(Container) line: 524
HostConfig.deployDescriptor(String, File, String) line: 589
HostConfig.deployDescriptors(File, String[]) line: 536
HostConfig.deployApps() line: 471
HostConfig.start() line: 1102
HostConfig.lifecycleEvent(LifecycleEvent) line: 311
LifecycleSupport.fireLifecycleEvent(String, Object) line: 119
StandardHost(ContainerBase).start() line: 1020
StandardHost.start() line: 718
StandardEngine(ContainerBase).start() line: 1012
StandardEngine.start() line: 442
StandardService.start() line: 450
StandardServer.start() line: 683
Catalina.start() line: 537
NativeMethodAccessorImpl.invoke0(Method, Object, Object[]) line: not available [native method]
NativeMethodAccessorImpl.invoke(Object, Object[]) line: 39
DelegatingMethodAccessorImpl.invoke(Object, Object[]) line: 25
Method.invoke(Object, Object...) line: 585
Bootstrap.start() line: 271
Bootstrap.main(String[]) line: 409

patch applied ... thanks.
Ron,

I was wrong. You are right. I did not see an aop.xml configuaration for the DelegatingClassLoader (and a World) in my testcase because of the way we configure LTW in the harness when we fork using Ant (which is necessary to use -javaagent). We do not load aop.xml from META-INF but from a location specified using "-Daj.def". However this mechanism only applies to the System class loader (check in ClassLoaderWeavingAdaptor) so the DelegatingClassLoader did not see it. I have revised the testcase to copy the aop.xml to "${aj.sandbox}/META-INF" and now I see the problem. When complete I will attach the testcase.
fix available</WithStack>
    <WithOutStack>The attached patch allows reusing weaving adaptors for sun.reflect.DelegatingClassLoader loaders, which noticably improves load-time weaving performance and is always safe.

I found that in a typical app server environment, there can be a lot of sun.reflect.DelegatingClassLoader instances lying around. They appear to be generated by the Sun reflection implementation and are used to load a single generated acessor or method. http://bugs.sun.com/bugdatabase/view_bug.do?bug_id=4474172 has some information on what these loaders do. The key thing is that there will never be an aop.xml file in one of them, so it's safe to share for them... 

In my memory optimized load-time weaving set up not creating separate worlds reduced heap overhead by a lot, e.g., 200%, since most of the overhead in my optimized version comes from loading worlds. This allowed me to go from 14 world instances to just 3.

In the version in CVS head, it allowed me to reduce overhead on another project from 90 mb to 70 mb and to reduce start-up times by 5-10%.
Created attachment 31599
use the parent loader's adaptor, or skip weaving if null (nothing is woven into reflection delegates from the bootstrap loader)
Created attachment 31601
Cleaner version that just skips trying to weave in reflection loaders altogether.

The earlier patch works because we will never be weaving into the reflection loader loaded types. This version makes that clearer &amp; is a little faster.
An alternative strategy that also works is to make WeavingAdaptor.shouldWeaveName a public and static, and then have Aj.preProcess start with:
        if (loader == null || className == null || !WeavingAdaptor.shouldWeaveName(className.replace('/','.'))) {

This imposes a bit more overhead (requiring a check on each class being loaded) but it removes the dependency on the implementation class sun.reflect.DelegatingClassLoader
Which of the following are you suggesting?
1. Don't create a Weaver for each DelegatingClassLoader
2. Weaving reflection delegates is unlikely/impossible so optimize for DelegatingClassLoaders by sharing state
3. Don't permit weaving of reflection delegates

Your patch seems to implement 3 while the summary requests 1 and the description describes 2. 

I agree with the solution in your 2nd patch rather than your comment concerning a new public method. Reflection delegates, unlike user generated Java proxies, can be considered part of the JVM implementation and should not be exposed to the weaver. A safe and efficient test in Aj.preProcess() would be the best approach.

Ron,

I am not sure that this patch will give you the benefit that you suggest. I have written a testcase the causes the creation of a DelegatingClassLoader, an accompanying WeavingAdaptor and generated sun/reflect/XXX classes. However with fixes to bug 113511, bug 116626 and bug 117189 (all of which use the "enabled" flag) we find no aop.xml, issue a message and return without creating a World or Weaver. All subsequent calls to "WeavingAdaptor.weaveClass()" will return immediately. Have you picked up changes from CVS head recently?
Yes I have tested this with the latest version. The performance gains are noticable.

There are cases where you make reflective calls from within a ClassLoader where an aop.xml is visible (e.g., through a parent), i.e., the DelegatingClassLoader has a parent. I will try to provide a simple example ... if you can provide me a patch that reproduces your tests that would be helpful.

To the earlier question, I realized that there's no point in creating a weaver to weave reflection delegates because WeaverAdaptor.shouldWeaveName never does so. The first patch implemented #1 to achieve #2: it used the parent loader's adaptor (this actually might break if we generated types like around closures in the delegating loader).
Ron,

I am still puzzled. According to the description of a DelegationClassLoader "The key thing is that there will never be an aop.xml
file in one of them ...", which is confirmed by my test, any attached WeavingAdaptor will be disabled. Your patch will simply prevent the creation of the adaptor. Are you saying that there are circumstances when a DelegatingClassLoader _can_ see an aop.xml or are you saying the footprint of the adaptor itself is high?
Here's an example I'm seeing inside of Tomcat. Basically, the DelegatingClassLoader has a parent and it delegates to the parent to discover the various aop.xml files. While there is not (and never can be) an aop.xml file inside the DelegatingClassLoader, it will use normal classloader delegation to find one from its parent loader.

As a result, the system pays a fairly hefty price of parsing and constructing a big tree of BCEL objects for every such delegating class loader. Just on startup, I found a single Web app had 75% of the total enabled worlds coming from these reflection delegate class loaders.

loader.parent is an org.apache.catalina.loader.WebappClassLoader

definitions includes all of the aspects I've deployed to shared/lib

The first stack trace where I see a non-empty set of definitions is:
ClassLoaderWeavingAdaptor.initialize(ClassLoader, IWeavingContext) line: 107
Aj$ExplicitlyInitializedClassLoaderWeavingAdaptor.initialize(ClassLoader, IWeavingContext) line: 135
Aj$ExplicitlyInitializedClassLoaderWeavingAdaptor.getWeavingAdaptor(ClassLoader, IWeavingContext) line: 140
Aj$WeaverContainer.getWeaver(ClassLoader, IWeavingContext) line: 106
Aj.preProcess(String, byte[], ClassLoader) line: 62
ClassPreProcessorAgentAdapter.transform(ClassLoader, String, Class&lt;?&gt;, ProtectionDomain, byte[]) line: 52
TransformerManager.transform(ClassLoader, String, Class, ProtectionDomain, byte[]) line: 122
InstrumentationImpl.transform(ClassLoader, String, Class, ProtectionDomain, byte[]) line: 155
Unsafe.defineClass(String, byte[], int, int, ClassLoader, ProtectionDomain) line: not available [native method]
ClassDefiner.defineClass(String, byte[], int, int, ClassLoader) line: 45
MethodAccessorGenerator$1.run() line: 381
AccessController.doPrivileged(PrivilegedAction&lt;T&gt;) line: not available [native method]
MethodAccessorGenerator.generate(Class, String, Class[], Class, Class[], int, boolean, boolean, Class) line: 377
MethodAccessorGenerator.generateConstructor(Class, Class[], Class[], int) line: 76
NativeConstructorAccessorImpl.newInstance(Object[]) line: 30
DelegatingConstructorAccessorImpl.newInstance(Object[]) line: 27
Constructor&lt;T&gt;.newInstance(Object...) line: 494
Class&lt;T&gt;.newInstance0() line: 350
Class&lt;T&gt;.newInstance() line: 303
ObjectCreateRule.begin(AttributeList) line: 153
Digester.startElement(String, AttributeList) line: 528
SAXParser(AbstractSAXParser).startElement(QName, XMLAttributes, Augmentations) line: not available
SAXParser(AbstractXMLDocumentParser).emptyElement(QName, XMLAttributes, Augmentations) line: not available
XMLDTDValidator.emptyElement(QName, XMLAttributes, Augmentations) line: not available
XMLDocumentScannerImpl(XMLDocumentFragmentScannerImpl).scanStartElement() line: not available
XMLDocumentScannerImpl$ContentDispatcher(XMLDocumentFragmentScannerImpl$FragmentContentDispatcher).dispatch(boolean) line: not available
XMLDocumentScannerImpl(XMLDocumentFragmentScannerImpl).scanDocument(boolean) line: not available
XML11Configuration.parse(boolean) line: not available
XML11Configuration.parse(XMLInputSource) line: not available
SAXParser(XMLParser).parse(XMLInputSource) line: not available
SAXParser(AbstractSAXParser).parse(InputSource) line: not available
SAXParserImpl(SAXParser).parse(InputSource, HandlerBase) line: 344
SAXParserImpl(SAXParser).parse(InputStream, HandlerBase) line: 120
Digester.parse(InputStream) line: 755
ActionServlet.initMapping() line: 1332
ActionServlet.init() line: 466
ActionServlet(GenericServlet).init(ServletConfig) line: 211
StandardWrapper.loadServlet() line: 1091
StandardWrapper.load() line: 925
StandardContext.loadOnStartup(Container[]) line: 3857
StandardContext.start() line: 4118
StandardHost(ContainerBase).addChildInternal(Container) line: 759
StandardHost(ContainerBase).addChild(Container) line: 739
StandardHost.addChild(Container) line: 524
HostConfig.deployDescriptor(String, File, String) line: 589
HostConfig.deployDescriptors(File, String[]) line: 536
HostConfig.deployApps() line: 471
HostConfig.start() line: 1102
HostConfig.lifecycleEvent(LifecycleEvent) line: 311
LifecycleSupport.fireLifecycleEvent(String, Object) line: 119
StandardHost(ContainerBase).start() line: 1020
StandardHost.start() line: 718
StandardEngine(ContainerBase).start() line: 1012
StandardEngine.start() line: 442
StandardService.start() line: 450
StandardServer.start() line: 683
Catalina.start() line: 537
NativeMethodAccessorImpl.invoke0(Method, Object, Object[]) line: not available [native method]
NativeMethodAccessorImpl.invoke(Object, Object[]) line: 39
DelegatingMethodAccessorImpl.invoke(Object, Object[]) line: 25
Method.invoke(Object, Object...) line: 585
Bootstrap.start() line: 271
Bootstrap.main(String[]) line: 409

patch applied ... thanks.
Ron,

I was wrong. You are right. I did not see an aop.xml configuaration for the DelegatingClassLoader (and a World) in my testcase because of the way we configure LTW in the harness when we fork using Ant (which is necessary to use -javaagent). We do not load aop.xml from META-INF but from a location specified using "-Daj.def". However this mechanism only applies to the System class loader (check in ClassLoaderWeavingAdaptor) so the DelegatingClassLoader did not see it. I have revised the testcase to copy the aop.xml to "${aj.sandbox}/META-INF" and now I see the problem. When complete I will attach the testcase.
fix available</WithOutStack>
  </Bug>
  <Bug>
    <BugId amount="120474" />
    <CreationDate amount="2005-12-12 20:24:00 -0500" />
    <DupId amount="" />
    <classification amount="Tools" />
    <Product amount="AspectJ" />
    <component amount="Compiler" />
    <Version amount="DEVELOPMENT" />
    <rep_platform amount="PC" />
    <op_sys amount="Windows XP" />
    <priority amount="P3" />
    <bug_severity amount="normal" />
    <Summery>Don't dump stack trace when loading $Proxy classes</Summery>
    <Patches amount="0" />
    <Stacktraces amount="0" />
    <SourceCodeRegions amount="0" />
    <Enumerations amount="0" />
    <bug_status amount="RESOLVED" />
    <resolution amount="FIXED" />
    <WithStack>I am seeing a BCException that gets caught and prints a stack trace in Aj.preProcess when loading a class named "$Proxy4"

This occurs in UnresolvedType.nameToSignature because the string it receives from ResolvedType.getDeclaringType is "" (i.e., it strips off the leading $, treating the type as if it were a nested type of nothing).

I'm not sure of the best resolution, but maybe the loop in ResolvedType should just say while (lastDollar &gt; 0). This would handle the "leading $" case as an identifier rather than trying to look up the empty string. This might help with Hibernate's $$ types too...

Here is the stack when it happens:
UnresolvedType.nameToSignature(String) line: 774
UnresolvedType.forName(String) line: 309
ReferenceType(ResolvedType).getDeclaringType() line: 1255
WithinPointcut.isWithinType(ResolvedType) line: 50
WithinPointcut.fastMatch(FastMatchInfo) line: 67
AndPointcut.fastMatch(FastMatchInfo) line: 51
AndPointcut.fastMatch(FastMatchInfo) line: 51
AndPointcut.fastMatch(FastMatchInfo) line: 51
AndPointcut.fastMatch(FastMatchInfo) line: 51
AndPointcut.fastMatch(FastMatchInfo) line: 51
BcelWeaver.fastMatch(List, ResolvedType) line: 1635
BcelWeaver.weave(UnwovenClassFile, BcelObjectType, boolean) line: 1516
BcelWeaver.weaveWithoutDump(UnwovenClassFile, BcelObjectType) line: 1494
BcelWeaver.weaveAndNotify(UnwovenClassFile, BcelObjectType, IWeaveRequestor) line: 1275
BcelWeaver.weave(IClassFileProvider) line: 1097
ClassLoaderWeavingAdaptor(WeavingAdaptor).getWovenBytes(String, byte[]) line: 261
ClassLoaderWeavingAdaptor(WeavingAdaptor).weaveClass(String, byte[]) line: 194
Aj.preProcess(String, byte[], ClassLoader) line: 65
I'm happy with the proposed fix if it gets through the test suite - i'm trying it now.
Ron,

It would be helpful if you stated what the _actual_ problem was, preferably in the summary, and attaching a simple testcase. I added a test to the harness (for bug 117854) that uses proxies which could be amended if we knew what you were doing when the failure occured. Dumping a stack trace is not the problem. In fact (ironically) if we didn't you would not have noticed the problem or been able to report it. If I was raising this bug the summary would be "BCException weaving Java proxy classes under LTW".
I actually found out about the problem by seeing the BCException in the debugger and noticed that it caused weaving to abort. I can report it as a BCException if that's more helpful.
fix available.</WithStack>
    <WithOutStack>I am seeing a BCException that gets caught and prints a stack trace in Aj.preProcess when loading a class named "$Proxy4"

This occurs in UnresolvedType.nameToSignature because the string it receives from ResolvedType.getDeclaringType is "" (i.e., it strips off the leading $, treating the type as if it were a nested type of nothing).

I'm not sure of the best resolution, but maybe the loop in ResolvedType should just say while (lastDollar &gt; 0). This would handle the "leading $" case as an identifier rather than trying to look up the empty string. This might help with Hibernate's $$ types too...

Here is the stack when it happens:
UnresolvedType.nameToSignature(String) line: 774
UnresolvedType.forName(String) line: 309
ReferenceType(ResolvedType).getDeclaringType() line: 1255
WithinPointcut.isWithinType(ResolvedType) line: 50
WithinPointcut.fastMatch(FastMatchInfo) line: 67
AndPointcut.fastMatch(FastMatchInfo) line: 51
AndPointcut.fastMatch(FastMatchInfo) line: 51
AndPointcut.fastMatch(FastMatchInfo) line: 51
AndPointcut.fastMatch(FastMatchInfo) line: 51
AndPointcut.fastMatch(FastMatchInfo) line: 51
BcelWeaver.fastMatch(List, ResolvedType) line: 1635
BcelWeaver.weave(UnwovenClassFile, BcelObjectType, boolean) line: 1516
BcelWeaver.weaveWithoutDump(UnwovenClassFile, BcelObjectType) line: 1494
BcelWeaver.weaveAndNotify(UnwovenClassFile, BcelObjectType, IWeaveRequestor) line: 1275
BcelWeaver.weave(IClassFileProvider) line: 1097
ClassLoaderWeavingAdaptor(WeavingAdaptor).getWovenBytes(String, byte[]) line: 261
ClassLoaderWeavingAdaptor(WeavingAdaptor).weaveClass(String, byte[]) line: 194
Aj.preProcess(String, byte[], ClassLoader) line: 65
I'm happy with the proposed fix if it gets through the test suite - i'm trying it now.
Ron,

It would be helpful if you stated what the _actual_ problem was, preferably in the summary, and attaching a simple testcase. I added a test to the harness (for bug 117854) that uses proxies which could be amended if we knew what you were doing when the failure occured. Dumping a stack trace is not the problem. In fact (ironically) if we didn't you would not have noticed the problem or been able to report it. If I was raising this bug the summary would be "BCException weaving Java proxy classes under LTW".
I actually found out about the problem by seeing the BCException in the debugger and noticed that it caused weaving to abort. I can report it as a BCException if that's more helpful.
fix available.</WithOutStack>
  </Bug>
  <Bug>
    <BugId amount="120475" />
    <CreationDate amount="2005-12-12 20:25:00 -0500" />
    <DupId amount="" />
    <classification amount="Eclipse Foundation" />
    <Product amount="z_Archived" />
    <component amount="TPTP.monitoring" />
    <Version amount="unspecified" />
    <rep_platform amount="Other" />
    <op_sys amount="Linux" />
    <priority amount="P1" />
    <bug_severity amount="normal" />
    <Summery>Port Perfmon agent to Itanium/Linux</Summery>
    <Patches amount="0" />
    <Stacktraces amount="0" />
    <SourceCodeRegions amount="0" />
    <Enumerations amount="0" />
    <bug_status amount="CLOSED" />
    <resolution amount="FIXED" />
    <WithStack>Port RAC-based perfmon agent to Itanium/Linux. This contributes completing TPTP support for Itanium/Linux platform.
Sri, we need similar port on Itanium/Windows.
Updating the Summary.
Hendra, there is already an enhancement request registered for porting the relevant agents to Itanium/Windows (Bug #120476). This enhancement will only incorprorate a port for the Linux agent.
Investigating availability of hw to do this port
Changing this to an enhancement as it is adding support for a new platform.
Converted to defect and tracked as a part of 108584. If HW is not available in time to George, it will be transfered to the team at Intel. 
The Linux ports have moved out to 4.3.
George reported that the Perfmon Agent was running on EM64T and IPF systems in May.  Please clarify if that meant both Windows and Linux and if further testing is needed before this bug can be marked as Fixed. 
Removing Hendra from cc list because he no longer works on TPTP.
George, is this completed and can be closed or do we need to defer it to 4.4?
Deferring to 4.4 but if it has been completed, please close it.
Added a sizing for 20 hrs.  Please adjust if you think this is not accurate.

Dave, please confirm with George and Antony that this defect was addressed.
We will assume this work was completed.  It will be tested to verify.
As of TPTP 4.6.0, TPTP is in maintenance mode and focusing on improving quality by resolving relevant enhancements/defects and increasing test coverage through test creation, automation, Build Verification Tests (BVTs), and expanded run-time execution. As part of the TPTP Bugzilla housecleaning process (see http://wiki.eclipse.org/Bugzilla_Housecleaning_Processes), this enhancement/defect is verified/closed by the Project Lead since this enhancement/defect has been resolved and unverified for more than 1 year and considered to be fixed. If this enhancement/defect is still unresolved and reproducible in the latest TPTP release (http://www.eclipse.org/tptp/home/downloads/), please re-open.</WithStack>
    <WithOutStack>Port RAC-based perfmon agent to Itanium/Linux. This contributes completing TPTP support for Itanium/Linux platform.
Sri, we need similar port on Itanium/Windows.
Updating the Summary.
Hendra, there is already an enhancement request registered for porting the relevant agents to Itanium/Windows (Bug #120476). This enhancement will only incorprorate a port for the Linux agent.
Investigating availability of hw to do this port
Changing this to an enhancement as it is adding support for a new platform.
Converted to defect and tracked as a part of 108584. If HW is not available in time to George, it will be transfered to the team at Intel. 
The Linux ports have moved out to 4.3.
George reported that the Perfmon Agent was running on EM64T and IPF systems in May.  Please clarify if that meant both Windows and Linux and if further testing is needed before this bug can be marked as Fixed. 
Removing Hendra from cc list because he no longer works on TPTP.
George, is this completed and can be closed or do we need to defer it to 4.4?
Deferring to 4.4 but if it has been completed, please close it.
Added a sizing for 20 hrs.  Please adjust if you think this is not accurate.

Dave, please confirm with George and Antony that this defect was addressed.
We will assume this work was completed.  It will be tested to verify.
As of TPTP 4.6.0, TPTP is in maintenance mode and focusing on improving quality by resolving relevant enhancements/defects and increasing test coverage through test creation, automation, Build Verification Tests (BVTs), and expanded run-time execution. As part of the TPTP Bugzilla housecleaning process (see http://wiki.eclipse.org/Bugzilla_Housecleaning_Processes), this enhancement/defect is verified/closed by the Project Lead since this enhancement/defect has been resolved and unverified for more than 1 year and considered to be fixed. If this enhancement/defect is still unresolved and reproducible in the latest TPTP release (http://www.eclipse.org/tptp/home/downloads/), please re-open.</WithOutStack>
  </Bug>
  <Bug>
    <BugId amount="120476" />
    <CreationDate amount="2005-12-12 20:28:00 -0500" />
    <DupId amount="" />
    <classification amount="Eclipse Foundation" />
    <Product amount="z_Archived" />
    <component amount="TPTP.monitoring" />
    <Version amount="unspecified" />
    <rep_platform amount="Other" />
    <op_sys amount="Windows All" />
    <priority amount="P1" />
    <bug_severity amount="normal" />
    <Summery>Port Perfmon agent to Itanium/Windows</Summery>
    <Patches amount="0" />
    <Stacktraces amount="0" />
    <SourceCodeRegions amount="0" />
    <Enumerations amount="0" />
    <bug_status amount="CLOSED" />
    <resolution amount="FIXED" />
    <WithStack>Port RAC-based perfmon agent to Itanium/Windows. This contributes completing TPTP support for Itanium/Windows platform.
Changing this to an enhancement because it is new platform support.

Adding the keyword investigate as there is a question of hardware resource availability.
Converted to defect and tracked as a part of 108584. If HW is not available in time to George, it will be transfered to the team at Intel.
As part of getting RAC libs working for IPF, I pretty much got the whole RAC&amp;assoc going. PerfmonAgent pretty much ran out of the box, once I realized there was an access control issue. Initially I was getting "failed access to tree 5" (or something like that). After being unable to get M$ Perfmon running for me, I tried as administrator and was successful, so I went back and ran PerfmonAgent&amp;RAC as administrator, and I've been successfully monitoring Proc0 since.

Note that I'm still having a problem whereby the RAC won't launch PerfmonAgent... I'm not sure if it is a port problem or a simple serviceconfig.xml problem yet.

All this is dependent on Intel's 64-bit fixes for RASharedMemory and RACommon that I'm going to pass on to Samson now.
Adding Application element to serviceconfig.xml specifying PerfmonAgent &amp; its path led to RAC properly launching PerfmonAgent... all is working very well now.
Ports to Windows/Itanium have been deferred to i3
Randy &amp; George, can one of you confirm if perfmon is functional on Windows/IPF?
It works great for me on the informal monitoring I've run... usually just the "Objects" category run cumulatively for a few hours.
The agent compiles and runs on top of the new AC compatability layer. There are no glitches that I've found. 

I've found a single issue, but it is a general agent issue that exposes itself while monitoring the processor usage. There is another bug for this: 143172. The IA64 and 32 bit Windows codebase is shared, so a checked in fix will propogate through to both builds on a rebuild.

I'm going to finish up testing the EMT64 agent. Making this as fixed.
As of TPTP 4.6.0, TPTP is in maintenance mode and focusing on improving quality by resolving relevant enhancements/defects and increasing test coverage through test creation, automation, Build Verification Tests (BVTs), and expanded run-time execution. As part of the TPTP Bugzilla housecleaning process (see http://wiki.eclipse.org/Bugzilla_Housecleaning_Processes), this enhancement/defect is verified/closed by the Project Lead since this enhancement/defect has been resolved and unverified for more than 1 year and considered to be fixed. If this enhancement/defect is still unresolved and reproducible in the latest TPTP release (http://www.eclipse.org/tptp/home/downloads/), please re-open.</WithStack>
    <WithOutStack>Port RAC-based perfmon agent to Itanium/Windows. This contributes completing TPTP support for Itanium/Windows platform.
Changing this to an enhancement because it is new platform support.

Adding the keyword investigate as there is a question of hardware resource availability.
Converted to defect and tracked as a part of 108584. If HW is not available in time to George, it will be transfered to the team at Intel.
As part of getting RAC libs working for IPF, I pretty much got the whole RAC&amp;assoc going. PerfmonAgent pretty much ran out of the box, once I realized there was an access control issue. Initially I was getting "failed access to tree 5" (or something like that). After being unable to get M$ Perfmon running for me, I tried as administrator and was successful, so I went back and ran PerfmonAgent&amp;RAC as administrator, and I've been successfully monitoring Proc0 since.

Note that I'm still having a problem whereby the RAC won't launch PerfmonAgent... I'm not sure if it is a port problem or a simple serviceconfig.xml problem yet.

All this is dependent on Intel's 64-bit fixes for RASharedMemory and RACommon that I'm going to pass on to Samson now.
Adding Application element to serviceconfig.xml specifying PerfmonAgent &amp; its path led to RAC properly launching PerfmonAgent... all is working very well now.
Ports to Windows/Itanium have been deferred to i3
Randy &amp; George, can one of you confirm if perfmon is functional on Windows/IPF?
It works great for me on the informal monitoring I've run... usually just the "Objects" category run cumulatively for a few hours.
The agent compiles and runs on top of the new AC compatability layer. There are no glitches that I've found. 

I've found a single issue, but it is a general agent issue that exposes itself while monitoring the processor usage. There is another bug for this: 143172. The IA64 and 32 bit Windows codebase is shared, so a checked in fix will propogate through to both builds on a rebuild.

I'm going to finish up testing the EMT64 agent. Making this as fixed.
As of TPTP 4.6.0, TPTP is in maintenance mode and focusing on improving quality by resolving relevant enhancements/defects and increasing test coverage through test creation, automation, Build Verification Tests (BVTs), and expanded run-time execution. As part of the TPTP Bugzilla housecleaning process (see http://wiki.eclipse.org/Bugzilla_Housecleaning_Processes), this enhancement/defect is verified/closed by the Project Lead since this enhancement/defect has been resolved and unverified for more than 1 year and considered to be fixed. If this enhancement/defect is still unresolved and reproducible in the latest TPTP release (http://www.eclipse.org/tptp/home/downloads/), please re-open.</WithOutStack>
  </Bug>
  <Bug>
    <BugId amount="120477" />
    <CreationDate amount="2005-12-12 20:29:00 -0500" />
    <DupId amount="" />
    <classification amount="Eclipse Foundation" />
    <Product amount="Community" />
    <component amount="Website" />
    <Version amount="unspecified" />
    <rep_platform amount="PC" />
    <op_sys amount="Windows XP" />
    <priority amount="P3" />
    <bug_severity amount="enhancement" />
    <Summery>Font Size on right hand "Break-Out" boxes/menus is too small</Summery>
    <Patches amount="0" />
    <Stacktraces amount="0" />
    <SourceCodeRegions amount="0" />
    <Enumerations amount="1">
      <Enumeration lines="3">
        <Lines>
          <Line>1. It does not look very good. The font size is small and it is inconsistent with the rest of the site. Both of these elements detract from the visual appeal of the site.</Line>
          <Line />
          <Line>2. It is harder to navigate since the hyperlinks work out to be very small.</Line>
        </Lines>
      </Enumeration>
    </Enumerations>
    <bug_status amount="CLOSED" />
    <resolution amount="FIXED" />
    <WithStack>The text in the menu break-out boxes (such as "Getting Started") is very small in the new Phoenix site. This has too problems in my opinion:

1. It does not look very good. The font size is small and it is inconsistent with the rest of the site. Both of these elements detract from the visual appeal of the site.

2. It is harder to navigate since the hyperlinks work out to be very small.

My main concern is the first item.

I saw another Bugzilla entry that discussed font size in the main web page area but not as it related to the right side break-out boxes. Hence I am opening this report.

I've looked at the site with Firefox and EI, both with default font settings. The problem shows up with both browsers.
If you look at the attachment 31430 is this in line with what you see?  If so, this bug would likely be a duplicate of bug 114288.

D.
I think the attachement is inline with what I see, although is is hard to say for sure since it is pretty blurry. I can't quite make out the font size on the right hand menus.

My issue is not the same as the bulk of the discussion in  bug 114288 though. The bulk of that discussion is around the main body of the page -- such as the Eclipse News section on the home page. I am OK with the font size in the main body areas.

My comment is specifically on the font sizes for the boxes on the right. For example, the Getting Started section on the home page. This is mentioned in 114288 but is not the main discussion.
Paul, as part of bug 114288 most of the fonts have been increased.  Please look at http://phoenix.eclipse.org to see if this solves the problem you're describing here.
A "yes and no" answer on this: The font size of the text in the boxes on the right (i.e. "Related Links") is much better and is consistent with the font size used in the main page. So, yes this does address my core comment in this bugzilla entry.

However, I do note in the template that the overall font size seems to be smaller for all main body text (example: "some free text"). I actually prefer the font size in the current eclipse.org site from this perspective.

The only reason I mention this in the context of this bugzilla entry is that if you decide to make the text such as "some free text" be larger, then I *think* the text in the Related Links area should also be correspondingly larger.
This has been fixed on www.eclipse.org as part of bug 114288
I just checked this out and it looks much better. Closing the bug.
Moving to Community/Website</WithStack>
    <WithOutStack>The text in the menu break-out boxes (such as "Getting Started") is very small in the new Phoenix site. This has too problems in my opinion:

1. It does not look very good. The font size is small and it is inconsistent with the rest of the site. Both of these elements detract from the visual appeal of the site.

2. It is harder to navigate since the hyperlinks work out to be very small.

My main concern is the first item.

I saw another Bugzilla entry that discussed font size in the main web page area but not as it related to the right side break-out boxes. Hence I am opening this report.

I've looked at the site with Firefox and EI, both with default font settings. The problem shows up with both browsers.
If you look at the attachment 31430 is this in line with what you see?  If so, this bug would likely be a duplicate of bug 114288.

D.
I think the attachement is inline with what I see, although is is hard to say for sure since it is pretty blurry. I can't quite make out the font size on the right hand menus.

My issue is not the same as the bulk of the discussion in  bug 114288 though. The bulk of that discussion is around the main body of the page -- such as the Eclipse News section on the home page. I am OK with the font size in the main body areas.

My comment is specifically on the font sizes for the boxes on the right. For example, the Getting Started section on the home page. This is mentioned in 114288 but is not the main discussion.
Paul, as part of bug 114288 most of the fonts have been increased.  Please look at http://phoenix.eclipse.org to see if this solves the problem you're describing here.
A "yes and no" answer on this: The font size of the text in the boxes on the right (i.e. "Related Links") is much better and is consistent with the font size used in the main page. So, yes this does address my core comment in this bugzilla entry.

However, I do note in the template that the overall font size seems to be smaller for all main body text (example: "some free text"). I actually prefer the font size in the current eclipse.org site from this perspective.

The only reason I mention this in the context of this bugzilla entry is that if you decide to make the text such as "some free text" be larger, then I *think* the text in the Related Links area should also be correspondingly larger.
This has been fixed on www.eclipse.org as part of bug 114288
I just checked this out and it looks much better. Closing the bug.
Moving to Community/Website</WithOutStack>
  </Bug>
  <Bug>
    <BugId amount="120478" />
    <CreationDate amount="2005-12-12 20:32:00 -0500" />
    <DupId amount="" />
    <classification amount="BIRT" />
    <Product amount="BIRT" />
    <component amount="Report Designer" />
    <Version amount="2.0.0" />
    <rep_platform amount="PC" />
    <op_sys amount="Windows 2000" />
    <priority amount="P3" />
    <bug_severity amount="normal" />
    <Summery>Move advanced properties to Properties view</Summery>
    <Patches amount="0" />
    <Stacktraces amount="0" />
    <SourceCodeRegions amount="0" />
    <Enumerations amount="1">
      <Enumeration lines="3">
        <Lines>
          <Line>- User Properties</Line>
          <Line>- Named Expressions</Line>
          <Line>- Event Handler</Line>
        </Lines>
      </Enumeration>
    </Enumerations>
    <bug_status amount="NEW" />
    <resolution amount="" />
    <WithStack>The following items appear in Property Editor:
- User Properties
- Named Expressions
- Event Handler

These features are for the advanced user who creates custom properties and scripts in Java. I think they are confusing in the Property Editor. I propose moving them to the Properties view.
The UI has been reviewed by the team.  Defer this to future release. Will revist this issue if we get similar usability feedback from the community.</WithStack>
    <WithOutStack>The following items appear in Property Editor:
- User Properties
- Named Expressions
- Event Handler

These features are for the advanced user who creates custom properties and scripts in Java. I think they are confusing in the Property Editor. I propose moving them to the Properties view.
The UI has been reviewed by the team.  Defer this to future release. Will revist this issue if we get similar usability feedback from the community.</WithOutStack>
  </Bug>
  <Bug>
    <BugId amount="120479" />
    <CreationDate amount="2005-12-12 20:32:00 -0500" />
    <DupId amount="" />
    <classification amount="Tools" />
    <Product amount="TPTP Profiling" />
    <component amount="Platform.Agents.JVMPI" />
    <Version amount="4.2" />
    <rep_platform amount="Other" />
    <op_sys amount="Windows All" />
    <priority amount="P1" />
    <bug_severity amount="normal" />
    <Summery>Port piAgent to Itanium/Windows</Summery>
    <Patches amount="0" />
    <Stacktraces amount="0" />
    <SourceCodeRegions amount="0" />
    <Enumerations amount="0" />
    <bug_status amount="CLOSED" />
    <resolution amount="FIXED" />
    <WithStack>Port RAC-based piAgent to Itanium/Windows platform. This will work together with new technology Agent controller thorugh its compatibility mode. Required to complete the TPTP support for this platform.
Synchronize the target with the top level bug.
Checked into CVS for Thay (NCC).
Code checked in by Bob
As of TPTP 4.6.0, TPTP is in maintenance mode and focusing on improving quality by resolving relevant enhancements/defects and increasing test coverage through test creation, automation, Build Verification Tests (BVTs), and expanded run-time execution. As part of the TPTP Bugzilla housecleaning process (see http://wiki.eclipse.org/Bugzilla_Housecleaning_Processes), this enhancement/defect is verified/closed by the Project Lead since this enhancement/defect has been resolved and unverified for more than 1 year and considered to be fixed. If this enhancement/defect is still unresolved and reproducible in the latest TPTP release (http://www.eclipse.org/tptp/home/downloads/), please re-open.</WithStack>
    <WithOutStack>Port RAC-based piAgent to Itanium/Windows platform. This will work together with new technology Agent controller thorugh its compatibility mode. Required to complete the TPTP support for this platform.
Synchronize the target with the top level bug.
Checked into CVS for Thay (NCC).
Code checked in by Bob
As of TPTP 4.6.0, TPTP is in maintenance mode and focusing on improving quality by resolving relevant enhancements/defects and increasing test coverage through test creation, automation, Build Verification Tests (BVTs), and expanded run-time execution. As part of the TPTP Bugzilla housecleaning process (see http://wiki.eclipse.org/Bugzilla_Housecleaning_Processes), this enhancement/defect is verified/closed by the Project Lead since this enhancement/defect has been resolved and unverified for more than 1 year and considered to be fixed. If this enhancement/defect is still unresolved and reproducible in the latest TPTP release (http://www.eclipse.org/tptp/home/downloads/), please re-open.</WithOutStack>
  </Bug>
  <Bug>
    <BugId amount="120480" />
    <CreationDate amount="2005-12-12 20:33:00 -0500" />
    <DupId amount="" />
    <classification amount="Tools" />
    <Product amount="TPTP Profiling" />
    <component amount="Platform.Agents.JVMPI" />
    <Version amount="4.2" />
    <rep_platform amount="Other" />
    <op_sys amount="Linux" />
    <priority amount="P2" />
    <bug_severity amount="normal" />
    <Summery>Port piAgent to Itanium/Linux</Summery>
    <Patches amount="0" />
    <Stacktraces amount="0" />
    <SourceCodeRegions amount="0" />
    <Enumerations amount="0" />
    <bug_status amount="CLOSED" />
    <resolution amount="WONTFIX" />
    <WithStack>Port RAC-based piAgent to Itanium/Linux platform. This will work together with new technology Agent controller thorugh its compatibility mode. Required to complete the TPTP support for this platform.
Changing target to 'future' as the top-level feature is deferred from 4.2 plan.
Hi Bing. I have transferred my bugs to you for triage. Thanks.
Mass update of P1 enhancements and defects targetted to future to P2.
As of TPTP 4.6.0, TPTP is in maintenance mode and focusing on improving quality by resolving relevant defects and increasing test coverage through test creation, automation, Build Verification Tests (BVTs), and expanded run-time execution. Since this defect is more than 2 years old, it may be no longer relevant. As part of the TPTP Bugzilla housecleaning process (see http://wiki.eclipse.org/Bugzilla_Housecleaning_Processes), this defect is resolved as WONTFIX. If this defect is still relevant and reproducible in the latest TPTP release (http://www.eclipse.org/tptp/home/downloads/), please re-open.
As of TPTP 4.6.0, TPTP is in maintenance mode and focusing on improving quality by resolving relevant enhancements/defects and increasing test coverage through test creation, automation, Build Verification Tests (BVTs), and expanded run-time execution. As part of the TPTP Bugzilla housecleaning process (see http://wiki.eclipse.org/Bugzilla_Housecleaning_Processes), this enhancement/defect is verified/closed by the Project Lead since this enhancement/defect has been resolved and unverified for more than 1 year and considered to be fixed. If this enhancement/defect is still unresolved and reproducible in the latest TPTP release (http://www.eclipse.org/tptp/home/downloads/), please re-open.</WithStack>
    <WithOutStack>Port RAC-based piAgent to Itanium/Linux platform. This will work together with new technology Agent controller thorugh its compatibility mode. Required to complete the TPTP support for this platform.
Changing target to 'future' as the top-level feature is deferred from 4.2 plan.
Hi Bing. I have transferred my bugs to you for triage. Thanks.
Mass update of P1 enhancements and defects targetted to future to P2.
As of TPTP 4.6.0, TPTP is in maintenance mode and focusing on improving quality by resolving relevant defects and increasing test coverage through test creation, automation, Build Verification Tests (BVTs), and expanded run-time execution. Since this defect is more than 2 years old, it may be no longer relevant. As part of the TPTP Bugzilla housecleaning process (see http://wiki.eclipse.org/Bugzilla_Housecleaning_Processes), this defect is resolved as WONTFIX. If this defect is still relevant and reproducible in the latest TPTP release (http://www.eclipse.org/tptp/home/downloads/), please re-open.
As of TPTP 4.6.0, TPTP is in maintenance mode and focusing on improving quality by resolving relevant enhancements/defects and increasing test coverage through test creation, automation, Build Verification Tests (BVTs), and expanded run-time execution. As part of the TPTP Bugzilla housecleaning process (see http://wiki.eclipse.org/Bugzilla_Housecleaning_Processes), this enhancement/defect is verified/closed by the Project Lead since this enhancement/defect has been resolved and unverified for more than 1 year and considered to be fixed. If this enhancement/defect is still unresolved and reproducible in the latest TPTP release (http://www.eclipse.org/tptp/home/downloads/), please re-open.</WithOutStack>
  </Bug>
  <Bug>
    <BugId amount="120481" />
    <CreationDate amount="2005-12-12 20:42:00 -0500" />
    <DupId amount="" />
    <classification amount="Tools" />
    <Product amount="TPTP Common Logging" />
    <component amount="Platform.Execution.CBELogging" />
    <Version amount="4.2" />
    <rep_platform amount="Other" />
    <op_sys amount="Windows XP" />
    <priority amount="P1" />
    <bug_severity amount="normal" />
    <Summery>Port Native Logging (CBE) to Itanium/Windows</Summery>
    <Patches amount="0" />
    <Stacktraces amount="0" />
    <SourceCodeRegions amount="0" />
    <Enumerations amount="0" />
    <bug_status amount="CLOSED" />
    <resolution amount="FIXED" />
    <WithStack>Port native logging (CBE) to Itanium/Windows platform to complete TPTP support for the platform.
Please include me in the review of this code before committing to CVS.
Synchronize the target with the top level bug.
Once completed, add this platform support to TPTP's JRE and OS support statement under the 'Native Logging' section(http://www.eclipse.org/tptp/home/project_info/releaseinfo/4.1/support.html#Native logging).  

Reassigning to Randy - need to add new platform to download page after build is working.
I've built and minimally tested (one set of unit tests passed 58/58) in my sandbox. Real build is dependent on completing the hand-crafting of the remaining 11/12 unit test makefiles.

I've just tested the Windows-IPF CBE.dll against the native ported AC and it works well. Running AC with 32-bit CBE.dll file in place and style set to "CBE" yields "Simple" logging... putting the native ported CBE.dll file in place yields CBE logging.

As everyone else has pointed out... once this is done it has to be put on the web page for download.
Copied makefile.win_ia32=&gt;makefile.win_ipf, and had it build using .mak64 files. Replicated all .mak files in WinBuild to .mak64 versions with following changes:
Win32=&gt;IA64
/pdbtype:sept, /YX, and /MLd usage removed
all odbc*.lib references removed
bufferoverflowU.lib added to all LINK32_FLAGS
All /machine:I386=&gt;/machine:IA64
All internal references to .mak changed to go to .mak64 versions.
Updated build_ia.sh to build Windows-IPF CBE, update from that build, and put the "real" legal notices in for all 64-bit builds while updating the all_platforms packages. Also put minimal compilation needs in configure-environment.sf so as to give what is needed to build CBE on Windows-IPF. (agntctrl has more needs, so gave it a project-specific c-e.sf file before.)
Built, unit tested, tested AC with CBE logging. Will file new bugzilla for getting presence on download web page.
As of TPTP 4.6.0, TPTP is in maintenance mode and focusing on improving quality by resolving relevant enhancements/defects and increasing test coverage through test creation, automation, Build Verification Tests (BVTs), and expanded run-time execution. As part of the TPTP Bugzilla housecleaning process (see http://wiki.eclipse.org/Bugzilla_Housecleaning_Processes), this enhancement/defect is verified/closed by the Project Lead since this enhancement/defect has been resolved and unverified for more than 1 year and considered to be fixed. If this enhancement/defect is still unresolved and reproducible in the latest TPTP release (http://www.eclipse.org/tptp/home/downloads/), please re-open.</WithStack>
    <WithOutStack>Port native logging (CBE) to Itanium/Windows platform to complete TPTP support for the platform.
Please include me in the review of this code before committing to CVS.
Synchronize the target with the top level bug.
Once completed, add this platform support to TPTP's JRE and OS support statement under the 'Native Logging' section(http://www.eclipse.org/tptp/home/project_info/releaseinfo/4.1/support.html#Native logging).  

Reassigning to Randy - need to add new platform to download page after build is working.
I've built and minimally tested (one set of unit tests passed 58/58) in my sandbox. Real build is dependent on completing the hand-crafting of the remaining 11/12 unit test makefiles.

I've just tested the Windows-IPF CBE.dll against the native ported AC and it works well. Running AC with 32-bit CBE.dll file in place and style set to "CBE" yields "Simple" logging... putting the native ported CBE.dll file in place yields CBE logging.

As everyone else has pointed out... once this is done it has to be put on the web page for download.
Copied makefile.win_ia32=&gt;makefile.win_ipf, and had it build using .mak64 files. Replicated all .mak files in WinBuild to .mak64 versions with following changes:
Win32=&gt;IA64
/pdbtype:sept, /YX, and /MLd usage removed
all odbc*.lib references removed
bufferoverflowU.lib added to all LINK32_FLAGS
All /machine:I386=&gt;/machine:IA64
All internal references to .mak changed to go to .mak64 versions.
Updated build_ia.sh to build Windows-IPF CBE, update from that build, and put the "real" legal notices in for all 64-bit builds while updating the all_platforms packages. Also put minimal compilation needs in configure-environment.sf so as to give what is needed to build CBE on Windows-IPF. (agntctrl has more needs, so gave it a project-specific c-e.sf file before.)
Built, unit tested, tested AC with CBE logging. Will file new bugzilla for getting presence on download web page.
As of TPTP 4.6.0, TPTP is in maintenance mode and focusing on improving quality by resolving relevant enhancements/defects and increasing test coverage through test creation, automation, Build Verification Tests (BVTs), and expanded run-time execution. As part of the TPTP Bugzilla housecleaning process (see http://wiki.eclipse.org/Bugzilla_Housecleaning_Processes), this enhancement/defect is verified/closed by the Project Lead since this enhancement/defect has been resolved and unverified for more than 1 year and considered to be fixed. If this enhancement/defect is still unresolved and reproducible in the latest TPTP release (http://www.eclipse.org/tptp/home/downloads/), please re-open.</WithOutStack>
  </Bug>
  <Bug>
    <BugId amount="120482" />
    <CreationDate amount="2005-12-12 20:46:00 -0500" />
    <DupId amount="" />
    <classification amount="Tools" />
    <Product amount="TPTP Common Logging" />
    <component amount="Platform.Execution.CBELogging" />
    <Version amount="4.2" />
    <rep_platform amount="Other" />
    <op_sys amount="Linux" />
    <priority amount="P1" />
    <bug_severity amount="normal" />
    <Summery>Port Native Logging (CBE) to Itanium/Linux</Summery>
    <Patches amount="0" />
    <Stacktraces amount="0" />
    <SourceCodeRegions amount="0" />
    <Enumerations amount="0" />
    <bug_status amount="CLOSED" />
    <resolution amount="FIXED" />
    <WithStack>Port native logging (CBE) to Itanium/Linux 2.6 platform. This is required to complete TPTP support for the platform.
Please include me in the review of this code before committing to CVS.
Deferring new AC completion via compatibility mode on 3 platforms: Linux IPF, Linux EM64T, and Windows EM64T.  The supported platforms are now expected to be: Windows IA32, Linux IA32, and Windows IPF. (Per the TPTP Platform call 3/8/06 with Sri's approval given the need to fit i2 work into a shortened development time.)
Added include.linux_ipf that just puts -fpic to compile and link lines; and add uname -s output of ia64 recognition to include.common to include the Linux-IPF include file when appropriate. This allows building and running all unit tests successfully on Linux-IPF.
Built, unit tested, tested AC with CBE logging. Will file new bugzilla for
getting presence on download web page.
As of TPTP 4.6.0, TPTP is in maintenance mode and focusing on improving quality by resolving relevant enhancements/defects and increasing test coverage through test creation, automation, Build Verification Tests (BVTs), and expanded run-time execution. As part of the TPTP Bugzilla housecleaning process (see http://wiki.eclipse.org/Bugzilla_Housecleaning_Processes), this enhancement/defect is verified/closed by the Project Lead since this enhancement/defect has been resolved and unverified for more than 1 year and considered to be fixed. If this enhancement/defect is still unresolved and reproducible in the latest TPTP release (http://www.eclipse.org/tptp/home/downloads/), please re-open.</WithStack>
    <WithOutStack>Port native logging (CBE) to Itanium/Linux 2.6 platform. This is required to complete TPTP support for the platform.
Please include me in the review of this code before committing to CVS.
Deferring new AC completion via compatibility mode on 3 platforms: Linux IPF, Linux EM64T, and Windows EM64T.  The supported platforms are now expected to be: Windows IA32, Linux IA32, and Windows IPF. (Per the TPTP Platform call 3/8/06 with Sri's approval given the need to fit i2 work into a shortened development time.)
Added include.linux_ipf that just puts -fpic to compile and link lines; and add uname -s output of ia64 recognition to include.common to include the Linux-IPF include file when appropriate. This allows building and running all unit tests successfully on Linux-IPF.
Built, unit tested, tested AC with CBE logging. Will file new bugzilla for
getting presence on download web page.
As of TPTP 4.6.0, TPTP is in maintenance mode and focusing on improving quality by resolving relevant enhancements/defects and increasing test coverage through test creation, automation, Build Verification Tests (BVTs), and expanded run-time execution. As part of the TPTP Bugzilla housecleaning process (see http://wiki.eclipse.org/Bugzilla_Housecleaning_Processes), this enhancement/defect is verified/closed by the Project Lead since this enhancement/defect has been resolved and unverified for more than 1 year and considered to be fixed. If this enhancement/defect is still unresolved and reproducible in the latest TPTP release (http://www.eclipse.org/tptp/home/downloads/), please re-open.</WithOutStack>
  </Bug>
  <Bug>
    <BugId amount="120483" />
    <CreationDate amount="2005-12-12 20:48:00 -0500" />
    <DupId amount="" />
    <classification amount="BIRT" />
    <Product amount="BIRT" />
    <component amount="Data" />
    <Version amount="1.0.1" />
    <rep_platform amount="PC" />
    <op_sys amount="Windows XP" />
    <priority amount="P3" />
    <bug_severity amount="normal" />
    <Summery>False undefined variable  error  message  in DataSource.beforeOpen( )</Summery>
    <Patches amount="0" />
    <Stacktraces amount="0" />
    <SourceCodeRegions amount="0" />
    <Enumerations amount="0" />
    <bug_status amount="RESOLVED" />
    <resolution amount="INVALID" />
    <WithStack>A false undefined variable error message is displayed in Report Designer if a  a JavaScript script is entered into the DataSource.beforeOpen method and that script references a variable defined in another script.   When the report is run, the script uses the variable in question and there are no run-time errors.
Please attach your design file.
I can no longer reproduce this bug as of 12-15-05 build.
Verified in the build 20051220</WithStack>
    <WithOutStack>A false undefined variable error message is displayed in Report Designer if a  a JavaScript script is entered into the DataSource.beforeOpen method and that script references a variable defined in another script.   When the report is run, the script uses the variable in question and there are no run-time errors.
Please attach your design file.
I can no longer reproduce this bug as of 12-15-05 build.
Verified in the build 20051220</WithOutStack>
  </Bug>
  <Bug>
    <BugId amount="120484" />
    <CreationDate amount="2005-12-12 20:50:00 -0500" />
    <DupId amount="120305" />
    <classification amount="BIRT" />
    <Product amount="BIRT" />
    <component amount="Report" />
    <Version amount="2.0.0" />
    <rep_platform amount="PC" />
    <op_sys amount="Windows XP" />
    <priority amount="P3" />
    <bug_severity amount="major" />
    <Summery>When theme is applied to "none", NullPointerException is thrown out.</Summery>
    <Patches amount="0" />
    <Stacktraces amount="1">
      <Stacktrace timestamp="1437330617778">
        <Exception>java.lang.NullPointerException</Exception>
        <Reason />
        <Frames>
          <Frame depth="0">org.eclipse.birt.report.model.api.ModuleHandle.setTheme(ModuleHandle.java:2108)</Frame>
          <Frame depth="1">org.eclipse.birt.report.designer.ui.actions.ApplyThemeAction.run(ApplyThemeAction.java:53)</Frame>
          <Frame depth="2">org.eclipse.jface.action.Action.runWithEvent(Action.java:996)</Frame>
          <Frame depth="3">org.eclipse.jface.action.ActionContributionItem.handleWidgetSelection(ActionContributionItem.java:538)</Frame>
          <Frame depth="4">org.eclipse.jface.action.ActionContributionItem.access$2(ActionContributionItem.java:488)</Frame>
          <Frame depth="5">org.eclipse.jface.action.ActionContributionItem$5.handleEvent(ActionContributionItem.java:400)</Frame>
          <Frame depth="6">org.eclipse.swt.widgets.EventTable.sendEvent(EventTable.java:66)</Frame>
          <Frame depth="7">org.eclipse.swt.widgets.Widget.sendEvent(Widget.java:843)</Frame>
          <Frame depth="8">org.eclipse.swt.widgets.Display.runDeferredEvents(Display.java:3080)</Frame>
          <Frame depth="9">org.eclipse.swt.widgets.Display.readAndDispatch(Display.java:2713)</Frame>
          <Frame depth="10">org.eclipse.ui.internal.Workbench.runEventLoop(Workbench.java:1699)</Frame>
          <Frame depth="11">org.eclipse.ui.internal.Workbench.runUI(Workbench.java:1663)</Frame>
          <Frame depth="12">org.eclipse.ui.internal.Workbench.createAndRunWorkbench(Workbench.java:367)</Frame>
          <Frame depth="13">org.eclipse.ui.PlatformUI.createAndRunWorkbench(PlatformUI.java:143)</Frame>
          <Frame depth="14">org.eclipse.ui.internal.ide.IDEApplication.run(IDEApplication.java:103)</Frame>
          <Frame depth="15">org.eclipse.core.internal.runtime.PlatformActivator$1.run(PlatformActivator.java:226)</Frame>
          <Frame depth="16">org.eclipse.core.runtime.adaptor.EclipseStarter.run(EclipseStarter.java:376)</Frame>
          <Frame depth="17">org.eclipse.core.runtime.adaptor.EclipseStarter.run(EclipseStarter.java:163)</Frame>
          <Frame depth="18">sun.reflect.NativeMethodAccessorImpl.invoke0(Native Method)</Frame>
          <Frame depth="19">sun.reflect.NativeMethodAccessorImpl.invoke(Unknown Source)</Frame>
          <Frame depth="20">sun.reflect.DelegatingMethodAccessorImpl.invoke(Unknown Source)</Frame>
          <Frame depth="21">java.lang.reflect.Method.invoke(Unknown Source)</Frame>
          <Frame depth="22">org.eclipse.core.launcher.Main.invokeFramework(Main.java:334)</Frame>
          <Frame depth="23">org.eclipse.core.launcher.Main.basicRun(Main.java:278)</Frame>
          <Frame depth="24">org.eclipse.core.launcher.Main.run(Main.java:973)</Frame>
          <Frame depth="25">org.eclipse.core.launcher.Main.main(Main.java:948)</Frame>
        </Frames>
      </Stacktrace>
    </Stacktraces>
    <SourceCodeRegions amount="0" />
    <Enumerations amount="1">
      <Enumeration lines="5">
        <Lines>
          <Line>1. Use a library in a report design.</Line>
          <Line>2. Apply theme to "theme1" first.</Line>
          <Line>3. Then apply a style defined in the theme to a label.</Line>
          <Line>4. Apply theme to "none".</Line>
          <Line>NullPointerException is thrown out.</Line>
        </Lines>
      </Enumeration>
    </Enumerations>
    <bug_status amount="CLOSED" />
    <resolution amount="DUPLICATE" />
    <WithStack>Description: When theme is applied to "none", NullPointerException is thrown out.

Steps to reproduce:
1. Use a library in a report design.
2. Apply theme to "theme1" first.
3. Then apply a style defined in the theme to a label.
4. Apply theme to "none".
NullPointerException is thrown out.
java.lang.NullPointerException
	at org.eclipse.birt.report.model.api.ModuleHandle.setTheme(ModuleHandle.java:2108)
	at org.eclipse.birt.report.designer.ui.actions.ApplyThemeAction.run(ApplyThemeAction.java:53)
	at org.eclipse.jface.action.Action.runWithEvent(Action.java:996)
	at org.eclipse.jface.action.ActionContributionItem.handleWidgetSelection(ActionContributionItem.java:538)
	at org.eclipse.jface.action.ActionContributionItem.access$2(ActionContributionItem.java:488)
	at org.eclipse.jface.action.ActionContributionItem$5.handleEvent(ActionContributionItem.java:400)
	at org.eclipse.swt.widgets.EventTable.sendEvent(EventTable.java:66)
	at org.eclipse.swt.widgets.Widget.sendEvent(Widget.java:843)
	at org.eclipse.swt.widgets.Display.runDeferredEvents(Display.java:3080)
	at org.eclipse.swt.widgets.Display.readAndDispatch(Display.java:2713)
	at org.eclipse.ui.internal.Workbench.runEventLoop(Workbench.java:1699)
	at org.eclipse.ui.internal.Workbench.runUI(Workbench.java:1663)
	at org.eclipse.ui.internal.Workbench.createAndRunWorkbench(Workbench.java:367)
	at org.eclipse.ui.PlatformUI.createAndRunWorkbench(PlatformUI.java:143)
	at org.eclipse.ui.internal.ide.IDEApplication.run(IDEApplication.java:103)
	at org.eclipse.core.internal.runtime.PlatformActivator$1.run(PlatformActivator.java:226)
	at org.eclipse.core.runtime.adaptor.EclipseStarter.run(EclipseStarter.java:376)
	at org.eclipse.core.runtime.adaptor.EclipseStarter.run(EclipseStarter.java:163)
	at sun.reflect.NativeMethodAccessorImpl.invoke0(Native Method)
	at sun.reflect.NativeMethodAccessorImpl.invoke(Unknown Source)
	at sun.reflect.DelegatingMethodAccessorImpl.invoke(Unknown Source)
	at java.lang.reflect.Method.invoke(Unknown Source)
	at org.eclipse.core.launcher.Main.invokeFramework(Main.java:334)
	at org.eclipse.core.launcher.Main.basicRun(Main.java:278)
	at org.eclipse.core.launcher.Main.run(Main.java:973)
	at org.eclipse.core.launcher.Main.main(Main.java:948)


*** This bug has been marked as a duplicate of 120305 ***
Verified in build 20051214.</WithStack>
    <WithOutStack>Description: When theme is applied to "none", NullPointerException is thrown out.

Steps to reproduce:
1. Use a library in a report design.
2. Apply theme to "theme1" first.
3. Then apply a style defined in the theme to a label.
4. Apply theme to "none".
NullPointerException is thrown out.



*** This bug has been marked as a duplicate of 120305 ***
Verified in build 20051214.</WithOutStack>
  </Bug>
  <Bug>
    <BugId amount="120485" />
    <CreationDate amount="2005-12-12 20:52:00 -0500" />
    <DupId amount="" />
    <classification amount="BIRT" />
    <Product amount="BIRT" />
    <component amount="Data" />
    <Version amount="2.0.0" />
    <rep_platform amount="PC" />
    <op_sys amount="Windows XP" />
    <priority amount="P3" />
    <bug_severity amount="normal" />
    <Summery>DataSet events never fire</Summery>
    <Patches amount="0" />
    <Stacktraces amount="0" />
    <SourceCodeRegions amount="21">
      <source_code type="assignment">
        <location start="1290" end="1376" />
        <code>&lt;method name="afterOpen"&gt;&lt;![CDATA[importPackage(Packages.java.io, Packages.java.lang);</code>
      </source_code>
      <source_code type="assignment">
        <location start="1377" end="1450" />
        <code>fos8 = new java.io.FileOutputStream("c:\\datasourceAfterOpenOutput.txt");</code>
      </source_code>
      <source_code type="assignment">
        <location start="1451" end="1487" />
        <code>pw8 = new java.io.PrintWriter(fos2);</code>
      </source_code>
      <source_code type="functioncall">
        <location start="1488" end="1526" />
        <code>pw8.println("DataSource.beforeClose");</code>
      </source_code>
      <source_code type="assignment">
        <location start="1584" end="1670" />
        <code>&lt;method name="afterOpen"&gt;&lt;![CDATA[importPackage(Packages.java.io, Packages.java.lang);</code>
      </source_code>
      <source_code type="assignment">
        <location start="1671" end="1744" />
        <code>fos8 = new java.io.FileOutputStream("c:\\datasourceAfterOpenOutput.txt");</code>
      </source_code>
      <source_code type="assignment">
        <location start="1745" end="1781" />
        <code>pw8 = new java.io.PrintWriter(fos8);</code>
      </source_code>
      <source_code type="functioncall">
        <location start="1782" end="1820" />
        <code>pw8.println("DataSource.beforeClose");</code>
      </source_code>
      <source_code type="import">
        <location start="2998" end="3051" />
        <code>importPackage(Packages.java.io, Packages.java.lang);</code>
      </source_code>
      <source_code type="assignment">
        <location start="3052" end="3125" />
        <code>fos8 = new java.io.FileOutputStream("c:\\datasourceAfterOpenOutput.txt");</code>
      </source_code>
      <source_code type="assignment">
        <location start="3126" end="3162" />
        <code>pw8 = new java.io.PrintWriter(fos8);</code>
      </source_code>
      <source_code type="functioncall">
        <location start="3163" end="3199" />
        <code>pw8.println("DataSource.afterOpen");</code>
      </source_code>
      <source_code type="functioncall">
        <location start="3200" end="3212" />
        <code>pw8.close();</code>
      </source_code>
      <source_code type="singlecomment">
        <location start="3213" end="3273" />
        <code>// add output to the file created in DataSource.beforeOpen</code>
      </source_code>
      <source_code type="functioncall">
        <location start="3273" end="3308" />
        <code>pw7.println("DataSource.afterOpen);</code>
      </source_code>
      <source_code type="import">
        <location start="3443" end="3496" />
        <code>importPackage(Packages.java.io, Packages.java.lang);</code>
      </source_code>
      <source_code type="assignment">
        <location start="3497" end="3571" />
        <code>fos7 = new java.io.FileOutputStream("c:\\datasourceBeforeOpenOutput.txt");</code>
      </source_code>
      <source_code type="assignment">
        <location start="3572" end="3608" />
        <code>pw7 = new java.io.PrintWriter(fos7);</code>
      </source_code>
      <source_code type="functioncall">
        <location start="3609" end="3646" />
        <code>pw7.println("DataSource.beforeOpen");</code>
      </source_code>
      <source_code type="singlecomment">
        <location start="3647" end="3663" />
        <code>// pw7.close();</code>
      </source_code>
      <source_code type="singlecomment">
        <location start="3663" end="3703" />
        <code>// pw.println("DataSource.beforeOpen);</code>
      </source_code>
    </SourceCodeRegions>
    <Enumerations amount="0" />
    <bug_status amount="RESOLVED" />
    <resolution amount="FIXED" />
    <WithStack>The following DataSet events never fire: afterOpen, beforeClose, afterClose. All three event handler methods appear in the drop-down list of methods.  They should either be removed from the drop-down list or the events should fire.
I have tested that all these events will be fired. I have attached a file to demonstrate it. You can see that the end of i value is 2, since the afterOpen event is fired, or else its values is 1.
Created attachment 31857
design file
Created attachment 31894
Design file showing no execution of event handlers
I have code in the attached design file that shows that with the 12-15 build that none of the DataSet or DataSource event handler JavaScript methods ever execute.  Look in the report.initialize method to see code that does execute and then in all the DataSource and DataSet methods with similar code that does not execute.  This code creates a file on the C drive and for each method, a different file should be created.  Only the report.initialize method creates its file, none of the others.  The file created in report.initialize is closed in report.afterFactory, but for all the others, the close happens in the same code that creates and writes to the files.
Please first make sure you write a correct script code. See a snippet in your file,

&lt;method name="afterOpen"&gt;&lt;![CDATA[importPackage(Packages.java.io, Packages.java.lang);
fos8 = new java.io.FileOutputStream("c:\\datasourceAfterOpenOutput.txt");
pw8 = new java.io.PrintWriter(fos2);
pw8.println("DataSource.beforeClose");
pw8.close();]]&gt;&lt;/method&gt;

The correct script should be:

&lt;method name="afterOpen"&gt;&lt;![CDATA[importPackage(Packages.java.io, Packages.java.lang);
fos8 = new java.io.FileOutputStream("c:\\datasourceAfterOpenOutput.txt");
pw8 = new java.io.PrintWriter(fos8);
pw8.println("DataSource.beforeClose");
pw8.close();]]&gt;&lt;/method&gt;


After correcting the typo, there are still problems.  

A variable created in report.initialize is not visible in any of the DataSet or DataSource methods, and when the script attempts to access it, the script fails to exectute at all. In the attached report design, a PrintWriter named pw is created in initialize() and it is used in all the methods of DataSet and DataSource to add output to the file created in initialize. I commented the pw.println calls out in the attached version to prove that the methods execute with the lines commented out, but do not when there.  And the problem exists for variables created elsewhere as well.  The attached design file creates another PrintWriter, named pw7, in DataSource.beforeOpen and attempts to add to the file it writes to in DataSource.afterOpen.  Not only does the output not get added, DataSource.afterOpen fails to execute at all and produces no error messages.

Created attachment 31976
Revised design file

Correction of typo and change to show variables not visiible in DataSource and DataSet methods
The attached design file with id 31976 contain some bugs. Say, DataSource.afterOpen says:

importPackage(Packages.java.io, Packages.java.lang);
fos8 = new java.io.FileOutputStream("c:\\datasourceAfterOpenOutput.txt");
pw8 = new java.io.PrintWriter(fos8);
pw8.println("DataSource.afterOpen");
pw8.close();

// add output to the file created in DataSource.beforeOpen
pw7.println("DataSource.afterOpen);
pw7.close;

The seconde line from bottom miss a left quote, which will lead a JS exception.

In method DataSource.beforeOpen, we have

importPackage(Packages.java.io, Packages.java.lang);
fos7 = new java.io.FileOutputStream("c:\\datasourceBeforeOpenOutput.txt");
pw7 = new java.io.PrintWriter(fos7);
pw7.println("DataSource.beforeOpen");
// pw7.close();

// pw.println("DataSource.beforeOpen);

because pw7 is open but never closed in this method, JS will not produce desired output as well.

I have attached a rptdesign file which can clearly demostrate that all the events are fired as expected. Please download the attached file.

BTW, the module.initialize method would only be called in runtime so that in design time all the variable designed within would not be visible.It's a known bug with id 109855.

Created attachment 32072
Demo
Agreed that the events fire, so I should have left the bug resolved and opened another bug for the new issues I mentioned.  My bad.  

FYI, the PrintWriter that is created in DataSource.beforeOpen was deliberately not closed because it is closed later in DataSource.afterOpen, after adding to the file.  Unfortunately, DataSource.afterOpen was also the method that had an unclosed quote, so my test code was never executed. It is nearly impossible to test JavaScript when a syntax error like a missing closing quote is not reported as an error to the developer.  But that is the subject of another bug.</WithStack>
    <WithOutStack>The following DataSet events never fire: afterOpen, beforeClose, afterClose. All three event handler methods appear in the drop-down list of methods.  They should either be removed from the drop-down list or the events should fire.
I have tested that all these events will be fired. I have attached a file to demonstrate it. You can see that the end of i value is 2, since the afterOpen event is fired, or else its values is 1.
Created attachment 31857
design file
Created attachment 31894
Design file showing no execution of event handlers
I have code in the attached design file that shows that with the 12-15 build that none of the DataSet or DataSource event handler JavaScript methods ever execute.  Look in the report.initialize method to see code that does execute and then in all the DataSource and DataSet methods with similar code that does not execute.  This code creates a file on the C drive and for each method, a different file should be created.  Only the report.initialize method creates its file, none of the others.  The file created in report.initialize is closed in report.afterFactory, but for all the others, the close happens in the same code that creates and writes to the files.
Please first make sure you write a correct script code. See a snippet in your file,

&lt;method name="afterOpen"&gt;&lt;![CDATA[importPackage(Packages.java.io, Packages.java.lang);
fos8 = new java.io.FileOutputStream("c:\\datasourceAfterOpenOutput.txt");
pw8 = new java.io.PrintWriter(fos2);
pw8.println("DataSource.beforeClose");
pw8.close();]]&gt;&lt;/method&gt;

The correct script should be:

&lt;method name="afterOpen"&gt;&lt;![CDATA[importPackage(Packages.java.io, Packages.java.lang);
fos8 = new java.io.FileOutputStream("c:\\datasourceAfterOpenOutput.txt");
pw8 = new java.io.PrintWriter(fos8);
pw8.println("DataSource.beforeClose");
pw8.close();]]&gt;&lt;/method&gt;


After correcting the typo, there are still problems.  

A variable created in report.initialize is not visible in any of the DataSet or DataSource methods, and when the script attempts to access it, the script fails to exectute at all. In the attached report design, a PrintWriter named pw is created in initialize() and it is used in all the methods of DataSet and DataSource to add output to the file created in initialize. I commented the pw.println calls out in the attached version to prove that the methods execute with the lines commented out, but do not when there.  And the problem exists for variables created elsewhere as well.  The attached design file creates another PrintWriter, named pw7, in DataSource.beforeOpen and attempts to add to the file it writes to in DataSource.afterOpen.  Not only does the output not get added, DataSource.afterOpen fails to execute at all and produces no error messages.

Created attachment 31976
Revised design file

Correction of typo and change to show variables not visiible in DataSource and DataSet methods
The attached design file with id 31976 contain some bugs. Say, DataSource.afterOpen says:

importPackage(Packages.java.io, Packages.java.lang);
fos8 = new java.io.FileOutputStream("c:\\datasourceAfterOpenOutput.txt");
pw8 = new java.io.PrintWriter(fos8);
pw8.println("DataSource.afterOpen");
pw8.close();

// add output to the file created in DataSource.beforeOpen
pw7.println("DataSource.afterOpen);
pw7.close;

The seconde line from bottom miss a left quote, which will lead a JS exception.

In method DataSource.beforeOpen, we have

importPackage(Packages.java.io, Packages.java.lang);
fos7 = new java.io.FileOutputStream("c:\\datasourceBeforeOpenOutput.txt");
pw7 = new java.io.PrintWriter(fos7);
pw7.println("DataSource.beforeOpen");
// pw7.close();

// pw.println("DataSource.beforeOpen);

because pw7 is open but never closed in this method, JS will not produce desired output as well.

I have attached a rptdesign file which can clearly demostrate that all the events are fired as expected. Please download the attached file.

BTW, the module.initialize method would only be called in runtime so that in design time all the variable designed within would not be visible.It's a known bug with id 109855.

Created attachment 32072
Demo
Agreed that the events fire, so I should have left the bug resolved and opened another bug for the new issues I mentioned.  My bad.  

FYI, the PrintWriter that is created in DataSource.beforeOpen was deliberately not closed because it is closed later in DataSource.afterOpen, after adding to the file.  Unfortunately, DataSource.afterOpen was also the method that had an unclosed quote, so my test code was never executed. It is nearly impossible to test JavaScript when a syntax error like a missing closing quote is not reported as an error to the developer.  But that is the subject of another bug.</WithOutStack>
  </Bug>
  <Bug>
    <BugId amount="120486" />
    <CreationDate amount="2005-12-12 20:53:00 -0500" />
    <DupId amount="" />
    <classification amount="WebTools" />
    <Product amount="WTP Releng" />
    <component amount="releng" />
    <Version amount="1.0" />
    <rep_platform amount="PC" />
    <op_sys amount="Linux" />
    <priority amount="P3" />
    <bug_severity amount="normal" />
    <Summery>Committer builds often listed at mirrors but never available there</Summery>
    <Patches amount="0" />
    <Stacktraces amount="0" />
    <SourceCodeRegions amount="0" />
    <Enumerations amount="0" />
    <bug_status amount="CLOSED" />
    <resolution amount="WONTFIX" />
    <WithStack>Very often within a 12 hours of a committer build quite a number of mirrors are listed as being available to use for download.

But when you click on (I just tried 3 european ones and a 1 american for pre-1.0RC4) them the file is not actually there.

I end up downloading from the Eclipse main site.
David/Naci, is this something you're aware of?
I am not aware of this, or what might cause any problem from our end. 

Mirror sites do have some choice as to what they mirror, so *maybe* they
decided not to, since these are fairly large amounts that are very temporary. 
But, then not sure why it'd be listed. 


The mirrors I tried in question:

[UK] UK Mirror Service
[Switzerland] SWITCHmirror 
[Greece] National Technical University of Athens
[United States] TDS Internet

I am able to download commiter builds reliabiliy from those same european mirrors a number of hours (anything upto 24hrs) after their release on eclipse.org.

The www.eclipse.org download page does automatic listing of mirrors, the older (since release) a file is the more mirrors get listed.

The problem is the mechanism by which the download page updates itself as to which mirrors are currently valid for any given file.  It seems to jump to gun.

I dont think this is an issue relating to some mirrors not taking comitter builds.  I guess this issue affects all eclipse.org releases at all mirrors, its just not noticable on GA releases because they occur infrequently.

But there is a period of time where each mirror in turn ends up listed on the download page of the eclipse website but the files have not actually made it to the mirror yet.


An example right now 30 Dec 11:30 GMT:

I am attempting to download: wtp-sdk-M200512300844.zip (less than a few hours old)
Currently only "UK Mirror Service" is listed as having a copy.
The URL on the mirror is:  http://www.mirrorservice.org/sites/download.eclipse.org/eclipseMirror/webtools/committers/drops/M-M200512300844-200512300844/wtp-sdk-M200512300844.zip

If you look at that webpage and click "Parent directory" you can see a little better what that mirror currently has and compare this to what the download page on eclipse.org thinks it has.


Maybe by the time you read this its too late, but if you pick any future release that has just made it to eclipse.org and then pretend to be a regular user and browse http://download.eclipse.org/webtools/committers/ for it, you have to wait until a mirror is listed, it is at this moment I am highlighting the problem, now try each of the listed mirror and confirm if its possible to get the file.
If its not then return every 4 hours to try and get it again just so you can see the mirror did indeed take that version in the end.


Maybe your webmaster has setup your mirror listing mechanism on a file timestamp that updates when a mirror client polls in.  Maybe the average polling session may last a number of hours, due to configured IO throttling and the amount of data to move.

Suggestion either:
  move the file timestamp update to when the client disconnects (poll session finished) or
  keep two timestamp files (a simple history) and make the website listing run off the timestamp of the last but one (not the current poll thats going on now).

Maybe your mirror setup is nothing like the above; but the symptoms feel just like that pitfall.

I do not know what the problem used to be (12/05) but NOW we explicitly do not 
mirror /committer builds. The reason being it since this build typically do not even last a week before being deleted, the cost/benifit of mirroring is not good. 

If, somewhere, we "link" to committer downloads and offer a list of mirrors, then we need to fix that. Please re-open if that's the case. 


This is part of a mass update to close out all stale WTP bugs which are in the resolved state without an appropriate targeted version.  If you feel this bug was closed inappropriately, please reopen.</WithStack>
    <WithOutStack>Very often within a 12 hours of a committer build quite a number of mirrors are listed as being available to use for download.

But when you click on (I just tried 3 european ones and a 1 american for pre-1.0RC4) them the file is not actually there.

I end up downloading from the Eclipse main site.
David/Naci, is this something you're aware of?
I am not aware of this, or what might cause any problem from our end. 

Mirror sites do have some choice as to what they mirror, so *maybe* they
decided not to, since these are fairly large amounts that are very temporary. 
But, then not sure why it'd be listed. 


The mirrors I tried in question:

[UK] UK Mirror Service
[Switzerland] SWITCHmirror 
[Greece] National Technical University of Athens
[United States] TDS Internet

I am able to download commiter builds reliabiliy from those same european mirrors a number of hours (anything upto 24hrs) after their release on eclipse.org.

The www.eclipse.org download page does automatic listing of mirrors, the older (since release) a file is the more mirrors get listed.

The problem is the mechanism by which the download page updates itself as to which mirrors are currently valid for any given file.  It seems to jump to gun.

I dont think this is an issue relating to some mirrors not taking comitter builds.  I guess this issue affects all eclipse.org releases at all mirrors, its just not noticable on GA releases because they occur infrequently.

But there is a period of time where each mirror in turn ends up listed on the download page of the eclipse website but the files have not actually made it to the mirror yet.


An example right now 30 Dec 11:30 GMT:

I am attempting to download: wtp-sdk-M200512300844.zip (less than a few hours old)
Currently only "UK Mirror Service" is listed as having a copy.
The URL on the mirror is:  http://www.mirrorservice.org/sites/download.eclipse.org/eclipseMirror/webtools/committers/drops/M-M200512300844-200512300844/wtp-sdk-M200512300844.zip

If you look at that webpage and click "Parent directory" you can see a little better what that mirror currently has and compare this to what the download page on eclipse.org thinks it has.


Maybe by the time you read this its too late, but if you pick any future release that has just made it to eclipse.org and then pretend to be a regular user and browse http://download.eclipse.org/webtools/committers/ for it, you have to wait until a mirror is listed, it is at this moment I am highlighting the problem, now try each of the listed mirror and confirm if its possible to get the file.
If its not then return every 4 hours to try and get it again just so you can see the mirror did indeed take that version in the end.


Maybe your webmaster has setup your mirror listing mechanism on a file timestamp that updates when a mirror client polls in.  Maybe the average polling session may last a number of hours, due to configured IO throttling and the amount of data to move.

Suggestion either:
  move the file timestamp update to when the client disconnects (poll session finished) or
  keep two timestamp files (a simple history) and make the website listing run off the timestamp of the last but one (not the current poll thats going on now).

Maybe your mirror setup is nothing like the above; but the symptoms feel just like that pitfall.

I do not know what the problem used to be (12/05) but NOW we explicitly do not 
mirror /committer builds. The reason being it since this build typically do not even last a week before being deleted, the cost/benifit of mirroring is not good. 

If, somewhere, we "link" to committer downloads and offer a list of mirrors, then we need to fix that. Please re-open if that's the case. 


This is part of a mass update to close out all stale WTP bugs which are in the resolved state without an appropriate targeted version.  If you feel this bug was closed inappropriately, please reopen.</WithOutStack>
  </Bug>
  <Bug>
    <BugId amount="120487" />
    <CreationDate amount="2005-12-12 20:56:00 -0500" />
    <DupId amount="" />
    <classification amount="BIRT" />
    <Product amount="BIRT" />
    <component amount="Report" />
    <Version amount="2.0.0" />
    <rep_platform amount="PC" />
    <op_sys amount="Windows XP" />
    <priority amount="P3" />
    <bug_severity amount="normal" />
    <Summery>"Delete/Copy/Cut/Paste" doesn't work for theme in outline view.</Summery>
    <Patches amount="0" />
    <Stacktraces amount="0" />
    <SourceCodeRegions amount="0" />
    <Enumerations amount="1">
      <Enumeration lines="7">
        <Lines>
          <Line>1. Use a library in a report design.</Line>
          <Line>2. Select a theme defined in library.</Line>
          <Line>3. Right click on the theme name in outline view.</Line>
          <Line>4. Find "Copy/Cut/Paste/Delete/Rename" in context menu. But all of them don't work. If they are useless, it's better to remove it from context menu.</Line>
          <Line>Model need implement canXXX method on ThemeHandle.</Line>
          <Line>I can not find the rename menu in the list. But for other functions, copy/paste/cut are all works. If you copy a theme from the report to a library, it works. If you want to delete or cut a theme, the dialog will pop up and show the theme clients to you. If you choose ignore the client and proceed, the theme will be deleted and cut.</Line>
          <Line>Verified in build 20051214.</Line>
        </Lines>
      </Enumeration>
    </Enumerations>
    <bug_status amount="CLOSED" />
    <resolution amount="INVALID" />
    <WithStack>Description: "Delete/Copy/Cut/Paste" doesn't work for theme in outline view.

Steps to reproduce:
1. Use a library in a report design.
2. Select a theme defined in library.
3. Right click on the theme name in outline view.
4. Find "Copy/Cut/Paste/Delete/Rename" in context menu. But all of them don't work. If they are useless, it's better to remove it from context menu.
Model need implement canXXX method on ThemeHandle.
I can not find the rename menu in the list. But for other functions, copy/paste/cut are all works. If you copy a theme from the report to a library, it works. If you want to delete or cut a theme, the dialog will pop up and show the theme clients to you. If you choose ignore the client and proceed, the theme will be deleted and cut.
Verified in build 20051214.</WithStack>
    <WithOutStack>Description: "Delete/Copy/Cut/Paste" doesn't work for theme in outline view.

Steps to reproduce:
1. Use a library in a report design.
2. Select a theme defined in library.
3. Right click on the theme name in outline view.
4. Find "Copy/Cut/Paste/Delete/Rename" in context menu. But all of them don't work. If they are useless, it's better to remove it from context menu.
Model need implement canXXX method on ThemeHandle.
I can not find the rename menu in the list. But for other functions, copy/paste/cut are all works. If you copy a theme from the report to a library, it works. If you want to delete or cut a theme, the dialog will pop up and show the theme clients to you. If you choose ignore the client and proceed, the theme will be deleted and cut.
Verified in build 20051214.</WithOutStack>
  </Bug>
  <Bug>
    <BugId amount="120488" />
    <CreationDate amount="2005-12-12 20:56:00 -0500" />
    <DupId amount="" />
    <classification amount="BIRT" />
    <Product amount="BIRT" />
    <component amount="Data" />
    <Version amount="2.0.0" />
    <rep_platform amount="PC" />
    <op_sys amount="Windows XP" />
    <priority amount="P3" />
    <bug_severity amount="normal" />
    <Summery>org.eclipse.birt.data unit test failed in daily build 20051213</Summery>
    <Patches amount="0" />
    <Stacktraces amount="0" />
    <SourceCodeRegions amount="0" />
    <Enumerations amount="0" />
    <bug_status amount="CLOSED" />
    <resolution amount="FIXED" />
    <WithStack>org.eclipse.birt.data unit test failed.Please see attached.
Created attachment 31604
unit test result
Fixed.
Verified in daily build 20051214</WithStack>
    <WithOutStack>org.eclipse.birt.data unit test failed.Please see attached.
Created attachment 31604
unit test result
Fixed.
Verified in daily build 20051214</WithOutStack>
  </Bug>
  <Bug>
    <BugId amount="120489" />
    <CreationDate amount="2005-12-12 21:00:00 -0500" />
    <DupId amount="" />
    <classification amount="BIRT" />
    <Product amount="BIRT" />
    <component amount="Data" />
    <Version amount="2.0.0" />
    <rep_platform amount="PC" />
    <op_sys amount="Windows XP" />
    <priority amount="P3" />
    <bug_severity amount="normal" />
    <Summery>Edit XML data set, X Path GUI display error.</Summery>
    <Patches amount="0" />
    <Stacktraces amount="0" />
    <SourceCodeRegions amount="0" />
    <Enumerations amount="1">
      <Enumeration lines="3">
        <Lines>
          <Line>1.Create a XML data set</Line>
          <Line>2.Edit the data set</Line>
          <Line>3.Select "X Path" node, view the window</Line>
        </Lines>
      </Enumeration>
    </Enumerations>
    <bug_status amount="CLOSED" />
    <resolution amount="FIXED" />
    <WithStack>Edit XML data set, X Path GUI display error.

Steps:
1.Create a XML data set
2.Edit the data set
3.Select "X Path" node, view the window

Actual Results:
1.X Path GUI display error. (See the attachment)

Expected Results:
1.X Path GUI display correctly.
Created attachment 31605
GUI image
The error occurs in eclipse3.0. Fix it in source.
fixed</WithStack>
    <WithOutStack>Edit XML data set, X Path GUI display error.

Steps:
1.Create a XML data set
2.Edit the data set
3.Select "X Path" node, view the window

Actual Results:
1.X Path GUI display error. (See the attachment)

Expected Results:
1.X Path GUI display correctly.
Created attachment 31605
GUI image
The error occurs in eclipse3.0. Fix it in source.
fixed</WithOutStack>
  </Bug>
  <Bug>
    <BugId amount="120490" />
    <CreationDate amount="2005-12-12 21:01:00 -0500" />
    <DupId amount="" />
    <classification amount="BIRT" />
    <Product amount="BIRT" />
    <component amount="Report" />
    <Version amount="2.0.0" />
    <rep_platform amount="PC" />
    <op_sys amount="Windows XP" />
    <priority amount="P3" />
    <bug_severity amount="normal" />
    <Summery>I can rename a library theme name in outline view, but if i select the renamed theme in property editor view, error message pops up "theme is not found".</Summery>
    <Patches amount="0" />
    <Stacktraces amount="0" />
    <SourceCodeRegions amount="0" />
    <Enumerations amount="1">
      <Enumeration lines="10">
        <Lines>
          <Line>1.Use a library in a report.</Line>
          <Line>2.Select a theme for the report.</Line>
          <Line>3.Rename the theme name in outline view.</Line>
          <Line>4.Select the renamed theme in property editor view.</Line>
          <Line>Error message pops up "theme is not found".</Line>
          <Line>Already call on DesignElementHandle.canEditor method.</Line>
          <Line>The action state determines by that method.</Line>
          <Line>It seems UI should forbid right click on theme element in the outline view of Report Design.</Line>
          <Line>The theme can not be renamed from the outline view. And other copy/paste function work properly.</Line>
          <Line>Verified in build 20051215.</Line>
        </Lines>
      </Enumeration>
    </Enumerations>
    <bug_status amount="CLOSED" />
    <resolution amount="INVALID" />
    <WithStack>Description: I can rename a library theme name in outline view, but if i select the renamed theme in property editor view, error message pops up "theme is not found".

Steps to reproduce
1.Use a library in a report.
2.Select a theme for the report.
3.Rename the theme name in outline view.
4.Select the renamed theme in property editor view.
Error message pops up "theme is not found".
Already call on DesignElementHandle.canEditor method.
The action state determines by that method.
It seems UI should forbid right click on theme element in the outline view of Report Design.
The theme can not be renamed from the outline view. And other copy/paste function work properly.
Verified in build 20051215.</WithStack>
    <WithOutStack>Description: I can rename a library theme name in outline view, but if i select the renamed theme in property editor view, error message pops up "theme is not found".

Steps to reproduce
1.Use a library in a report.
2.Select a theme for the report.
3.Rename the theme name in outline view.
4.Select the renamed theme in property editor view.
Error message pops up "theme is not found".
Already call on DesignElementHandle.canEditor method.
The action state determines by that method.
It seems UI should forbid right click on theme element in the outline view of Report Design.
The theme can not be renamed from the outline view. And other copy/paste function work properly.
Verified in build 20051215.</WithOutStack>
  </Bug>
  <Bug>
    <BugId amount="120491" />
    <CreationDate amount="2005-12-12 21:09:00 -0500" />
    <DupId amount="" />
    <classification amount="BIRT" />
    <Product amount="BIRT" />
    <component amount="Report" />
    <Version amount="2.0.0" />
    <rep_platform amount="PC" />
    <op_sys amount="Windows XP" />
    <priority amount="P3" />
    <bug_severity amount="enhancement" />
    <Summery>Style value is not refreshed if I change a theme in a report.</Summery>
    <Patches amount="0" />
    <Stacktraces amount="0" />
    <SourceCodeRegions amount="0" />
    <Enumerations amount="1">
      <Enumeration lines="9">
        <Lines>
          <Line>1.Use a library in a report.</Line>
          <Line>2.Select a theme for the report.</Line>
          <Line>3.Apply a style defined in theme to a label item.</Line>
          <Line>4.Select another theme for the report.</Line>
          <Line>5.Notice the label style is not changed.</Line>
          <Line>That style is not in the valid style list.</Line>
          <Line>Model don't clear the refrence name in style property.</Line>
          <Line>When the design switches the different theme, the "style" property of report item is not changed even though the specified style does not exist. This is not a bug if we still display the original style name.</Line>
          <Line>Verified in build 20051214.</Line>
        </Lines>
      </Enumeration>
    </Enumerations>
    <bug_status amount="CLOSED" />
    <resolution amount="INVALID" />
    <WithStack>Description: Style value is not refreshed if I change a theme in a report.

Steps to reproduce:
1.Use a library in a report.
2.Select a theme for the report.
3.Apply a style defined in theme to a label item.
4.Select another theme for the report.
5.Notice the label style is not changed.
That style is not in the valid style list.
Model don't clear the refrence name in style property.
When the design switches the different theme, the "style" property of report item is not changed even though the specified style does not exist. This is not a bug if we still display the original style name.
Verified in build 20051214.</WithStack>
    <WithOutStack>Description: Style value is not refreshed if I change a theme in a report.

Steps to reproduce:
1.Use a library in a report.
2.Select a theme for the report.
3.Apply a style defined in theme to a label item.
4.Select another theme for the report.
5.Notice the label style is not changed.
That style is not in the valid style list.
Model don't clear the refrence name in style property.
When the design switches the different theme, the "style" property of report item is not changed even though the specified style does not exist. This is not a bug if we still display the original style name.
Verified in build 20051214.</WithOutStack>
  </Bug>
  <Bug>
    <BugId amount="120492" />
    <CreationDate amount="2005-12-12 21:15:00 -0500" />
    <DupId amount="" />
    <classification amount="BIRT" />
    <Product amount="BIRT" />
    <component amount="Report Viewer" />
    <Version amount="2.0.0" />
    <rep_platform amount="PC" />
    <op_sys amount="Windows XP" />
    <priority amount="P3" />
    <bug_severity amount="normal" />
    <Summery>Cascading parameter values are not displayed properly in web viewer.</Summery>
    <Patches amount="0" />
    <Stacktraces amount="0" />
    <SourceCodeRegions amount="0" />
    <Enumerations amount="1">
      <Enumeration lines="9">
        <Lines>
          <Line>1. Add a cascading parameter group in a report.</Line>
          <Line>2. Preview in html viewer.</Line>
          <Line>3. Pop up parameter dialog. Notice that if I select the first parameter, other related parameter values are not displayed.</Line>
          <Line>Can you please add test report. this will save us a lot of time.</Line>
          <Line>Created attachment 31720</Line>
          <Line>design file</Line>
          <Line>Add design file.</Line>
          <Line>fixed</Line>
          <Line>Verified in build 20051227.</Line>
        </Lines>
      </Enumeration>
    </Enumerations>
    <bug_status amount="CLOSED" />
    <resolution amount="FIXED" />
    <WithStack>Description:Cascading parameter values are not displayed properly in web viewer.

Steps to reproduce:
1. Add a cascading parameter group in a report.
2. Preview in html viewer.
3. Pop up parameter dialog. Notice that if I select the first parameter, other related parameter values are not displayed.
Can you please add test report. this will save us a lot of time.
Created attachment 31720
design file
Add design file.
fixed
Verified in build 20051227.</WithStack>
    <WithOutStack>Description:Cascading parameter values are not displayed properly in web viewer.

Steps to reproduce:
1. Add a cascading parameter group in a report.
2. Preview in html viewer.
3. Pop up parameter dialog. Notice that if I select the first parameter, other related parameter values are not displayed.
Can you please add test report. this will save us a lot of time.
Created attachment 31720
design file
Add design file.
fixed
Verified in build 20051227.</WithOutStack>
  </Bug>
  <Bug>
    <BugId amount="120493" />
    <CreationDate amount="2005-12-12 21:24:00 -0500" />
    <DupId amount="83582" />
    <classification amount="Tools" />
    <Product amount="CDT" />
    <component amount="cdt-build" />
    <Version amount="3.0.1" />
    <rep_platform amount="Sun" />
    <op_sys amount="Solaris-Motif" />
    <priority amount="P3" />
    <bug_severity amount="major" />
    <Summery>makefiles generated in a managed make project has syntax errors</Summery>
    <Patches amount="0" />
    <Stacktraces amount="0" />
    <SourceCodeRegions amount="0" />
    <Enumerations amount="0" />
    <bug_status amount="RESOLVED" />
    <resolution amount="DUPLICATE" />
    <WithStack>I created a simple managed make project which is a hello world application.  It seems there is syntax error in two files vix makefile and subdir.mk. The following lines in the files caue a make error (an assembler error to be more specific)

makefile  "@g++ -oHelloWorld $(OBJS) $(USR_OBJS) $(LIBS)"
subdir.mk "@g++ -O0 -g3 -Wall -c -o$@ $&lt; &amp;&amp; \"  (This is a multiline make command).  I'm just writing the line which I think is causing the error.

To get it compile there needs to be a space between the -o and the file name.  Here is the error output:

**** Full rebuild of configuration Debug for project HelloWorld ****

make -k clean all 
make: Warning: File `objects.mk' has modification time 1.3e+02 s in the future
rm -rf  ./HelloWorld.o  ./HelloWorld.d HelloWorld
 
Building file: ../HelloWorld.cc
Invoking: GCC C++ Compiler
g++ -O0 -g3 -Wall -c -oHelloWorld.o ../HelloWorld.cc
/usr/ccs/bin/as: error: no input filename given
usage: /usr/ccs/bin/as [-V] [-Q{y,n}] [-f[O][if]#] [-q] [-s]
	  [-S] [-K {pic,PIC}] [-o objfile] [-L] [-T]
	  [-P [[-Ipath] [-Dname] [-Dname=def] [-Uname]]...]
	  [-m [-Ym,path]] [-n] [-ul] [-xF] [-xarch=v7] [-xarch=v8] [-xarch=v8a] [-xarch=v8plus] [-xarch=v8plusa] [-xarch=v8plusb]  [-xarch=v9] [-xarch=v9a] [-xarch=v9b]  [-xcode={pic13,pic32}] file.s...
make: *** [HelloWorld.o] Error 1
make: Target `all' not remade because of errors.
make: warning:  Clock skew detected.  Your build may be incomplete.
Build complete for project HelloWorld

After manually editing the makefile the compilation works ok.

I'm using gcc 2.95.2 front end with sun assembler and linker on a Solaris 8 system.  The make version is gnu make 3.80
This is not hard to change, but my concern is that we need to be sure that all gcc implementations on Solaris work with the space after the -o.

*** This bug has been marked as a duplicate of 83582 ***</WithStack>
    <WithOutStack>I created a simple managed make project which is a hello world application.  It seems there is syntax error in two files vix makefile and subdir.mk. The following lines in the files caue a make error (an assembler error to be more specific)

makefile  "@g++ -oHelloWorld $(OBJS) $(USR_OBJS) $(LIBS)"
subdir.mk "@g++ -O0 -g3 -Wall -c -o$@ $&lt; &amp;&amp; \"  (This is a multiline make command).  I'm just writing the line which I think is causing the error.

To get it compile there needs to be a space between the -o and the file name.  Here is the error output:

**** Full rebuild of configuration Debug for project HelloWorld ****

make -k clean all 
make: Warning: File `objects.mk' has modification time 1.3e+02 s in the future
rm -rf  ./HelloWorld.o  ./HelloWorld.d HelloWorld
 
Building file: ../HelloWorld.cc
Invoking: GCC C++ Compiler
g++ -O0 -g3 -Wall -c -oHelloWorld.o ../HelloWorld.cc
/usr/ccs/bin/as: error: no input filename given
usage: /usr/ccs/bin/as [-V] [-Q{y,n}] [-f[O][if]#] [-q] [-s]
	  [-S] [-K {pic,PIC}] [-o objfile] [-L] [-T]
	  [-P [[-Ipath] [-Dname] [-Dname=def] [-Uname]]...]
	  [-m [-Ym,path]] [-n] [-ul] [-xF] [-xarch=v7] [-xarch=v8] [-xarch=v8a] [-xarch=v8plus] [-xarch=v8plusa] [-xarch=v8plusb]  [-xarch=v9] [-xarch=v9a] [-xarch=v9b]  [-xcode={pic13,pic32}] file.s...
make: *** [HelloWorld.o] Error 1
make: Target `all' not remade because of errors.
make: warning:  Clock skew detected.  Your build may be incomplete.
Build complete for project HelloWorld

After manually editing the makefile the compilation works ok.

I'm using gcc 2.95.2 front end with sun assembler and linker on a Solaris 8 system.  The make version is gnu make 3.80
This is not hard to change, but my concern is that we need to be sure that all gcc implementations on Solaris work with the space after the -o.

*** This bug has been marked as a duplicate of 83582 ***</WithOutStack>
  </Bug>
  <Bug>
    <BugId amount="120494" />
    <CreationDate amount="2005-12-12 21:26:00 -0500" />
    <DupId amount="" />
    <classification amount="BIRT" />
    <Product amount="BIRT" />
    <component amount="Report Engine" />
    <Version amount="2.0.0" />
    <rep_platform amount="PC" />
    <op_sys amount="Windows XP" />
    <priority amount="P3" />
    <bug_severity amount="normal" />
    <Summery>when click the button "Export data" in the html view, an errror are thrown out</Summery>
    <Patches amount="0" />
    <Stacktraces amount="0" />
    <SourceCodeRegions amount="0" />
    <Enumerations amount="1">
      <Enumeration lines="4">
        <Lines>
          <Line>1. new a report</Line>
          <Line>2. set a datasource and a dataset</Line>
          <Line>3. preview in the html view</Line>
          <Line>4. click the button "Export data"</Line>
        </Lines>
      </Enumeration>
    </Enumerations>
    <bug_status amount="CLOSED" />
    <resolution amount="INVALID" />
    <WithStack>Description:
  when click the button "Export data" in the html view, an errror are thrown out

Steps to reproduce:
 1. new a report
 2. set a datasource and a dataset
 3. preview in the html view
 4. click the button "Export data"

Expected result:
 the data are exported to a file

Actual result:
  an exception appear
 TableProcessor.handleQueryExport( )
  There is columns available for extracting the dara.
feature is still in integration mode. Not ready for the test.
The bug is verified in the build20051221
The bug is verified in the build20051230</WithStack>
    <WithOutStack>Description:
  when click the button "Export data" in the html view, an errror are thrown out

Steps to reproduce:
 1. new a report
 2. set a datasource and a dataset
 3. preview in the html view
 4. click the button "Export data"

Expected result:
 the data are exported to a file

Actual result:
  an exception appear
 TableProcessor.handleQueryExport( )
  There is columns available for extracting the dara.
feature is still in integration mode. Not ready for the test.
The bug is verified in the build20051221
The bug is verified in the build20051230</WithOutStack>
  </Bug>
  <Bug>
    <BugId amount="120495" />
    <CreationDate amount="2005-12-12 21:27:00 -0500" />
    <DupId amount="" />
    <classification amount="BIRT" />
    <Product amount="BIRT" />
    <component amount="Report Engine" />
    <Version amount="unspecified" />
    <rep_platform amount="PC" />
    <op_sys amount="Windows XP" />
    <priority amount="P3" />
    <bug_severity amount="normal" />
    <Summery>Define toc in text item but it didn't show when preview.</Summery>
    <Patches amount="0" />
    <Stacktraces amount="0" />
    <SourceCodeRegions amount="0" />
    <Enumerations amount="1">
      <Enumeration lines="3">
        <Lines>
          <Line>1. Insert a text item.</Line>
          <Line>2. Define toc in the text item.</Line>
          <Line>3. Preview in html and click the button to show toc</Line>
        </Lines>
      </Enumeration>
    </Enumerations>
    <bug_status amount="CLOSED" />
    <resolution amount="FIXED" />
    <WithStack>Description:
Define toc in text item but it didn't show when preview.

Steps to reproduce:
1. Insert a text item.
2. Define toc in the text item.
3. Preview in html and click the button to show toc

Expected result:
Text item's toc appears in the left

Actual result:
Nothing showed.
fixed.
Verified in build 20051215</WithStack>
    <WithOutStack>Description:
Define toc in text item but it didn't show when preview.

Steps to reproduce:
1. Insert a text item.
2. Define toc in the text item.
3. Preview in html and click the button to show toc

Expected result:
Text item's toc appears in the left

Actual result:
Nothing showed.
fixed.
Verified in build 20051215</WithOutStack>
  </Bug>
  <Bug>
    <BugId amount="120496" />
    <CreationDate amount="2005-12-12 21:31:00 -0500" />
    <DupId amount="" />
    <classification amount="BIRT" />
    <Product amount="BIRT" />
    <component amount="Report Engine" />
    <Version amount="2.0.0" />
    <rep_platform amount="PC" />
    <op_sys amount="Windows XP" />
    <priority amount="P3" />
    <bug_severity amount="normal" />
    <Summery>performance: new pdf emitter runs slower for some reports</Summery>
    <Patches amount="0" />
    <Stacktraces amount="0" />
    <SourceCodeRegions amount="0" />
    <Enumerations amount="0" />
    <bug_status amount="CLOSED" />
    <resolution amount="FIXED" />
    <WithStack>It happened in BIRT 2.0 nightly build 20051209.

I deployed the BIRT viewers on Tomcat 4.1. The OS were Windows 2003 and RedHat Linux 4.0 AS. I had a automatic tools that continuously submitted URL requests to the Tomcat to generate reports. Reports use jdbc data source. The machine had 4GB physical memory and the jvm max. heap size was 256MB. The test results showed that new pdf emitter runs slower for the attached reports when comparing with old one.
Created attachment 31606
test.rptdesign
Created attachment 31607
SalesInvoice.rptdesign
Created attachment 31608
ProductCatalog.rptdesign
Investigated it, I find that registering fonts is expensive for small report.
Now change to register fonts one time for one engine instance, reporting time for small report becomes about 30% of original.
Tomas Vala has done a PDF performance test and posted his reports at http://www.volny.cz/tvala/birt/. Please check out.

He also showed the test results in newsgroup, and it is worth check out. 
It happened in BIRT2.1M5 as well.
need to retest PDF performance with RC4
it will be retested with RC5 build
retested with 20060619, no regression discovered
Verified</WithStack>
    <WithOutStack>It happened in BIRT 2.0 nightly build 20051209.

I deployed the BIRT viewers on Tomcat 4.1. The OS were Windows 2003 and RedHat Linux 4.0 AS. I had a automatic tools that continuously submitted URL requests to the Tomcat to generate reports. Reports use jdbc data source. The machine had 4GB physical memory and the jvm max. heap size was 256MB. The test results showed that new pdf emitter runs slower for the attached reports when comparing with old one.
Created attachment 31606
test.rptdesign
Created attachment 31607
SalesInvoice.rptdesign
Created attachment 31608
ProductCatalog.rptdesign
Investigated it, I find that registering fonts is expensive for small report.
Now change to register fonts one time for one engine instance, reporting time for small report becomes about 30% of original.
Tomas Vala has done a PDF performance test and posted his reports at http://www.volny.cz/tvala/birt/. Please check out.

He also showed the test results in newsgroup, and it is worth check out. 
It happened in BIRT2.1M5 as well.
need to retest PDF performance with RC4
it will be retested with RC5 build
retested with 20060619, no regression discovered
Verified</WithOutStack>
  </Bug>
  <Bug>
    <BugId amount="120497" />
    <CreationDate amount="2005-12-12 21:34:00 -0500" />
    <DupId amount="" />
    <classification amount="BIRT" />
    <Product amount="BIRT" />
    <component amount="Report Viewer" />
    <Version amount="2.0.0" />
    <rep_platform amount="PC" />
    <op_sys amount="Windows XP" />
    <priority amount="P3" />
    <bug_severity amount="blocker" />
    <Summery>Smoke:Eclipse 3.0:Report design can't be modified.</Summery>
    <Patches amount="0" />
    <Stacktraces amount="0" />
    <SourceCodeRegions amount="0" />
    <Enumerations amount="1">
      <Enumeration lines="5">
        <Lines>
          <Line>1. Create a report.</Line>
          <Line>2. Preview and then edit it.</Line>
          <Line>3. Preview again.</Line>
          <Line>4. It is not modified.</Line>
          <Line>Machine specific issue.</Line>
        </Lines>
      </Enumeration>
    </Enumerations>
    <bug_status amount="CLOSED" />
    <resolution amount="WORKSFORME" />
    <WithStack>Description: Report design can't be modified.

Steps to reproduce:
1. Create a report.
2. Preview and then edit it.
3. Preview again.
4. It is not modified.
Machine specific issue.

You can see the attachment. And I right click the mouse, have no corresponding menu.
 
Best Regards
Apple Xu

Actuate Corporation-Shanghai R&amp;D Center
Phone: (86)21-58826388 
E-mail: fxu@actuate.com &lt;mailto:fxu@actuate.com&gt;


_____________________________________________
&amp;#21457;&amp;#20214;&amp;#20154;: Jun Zhai 
&amp;#21457;&amp;#36865;&amp;#26102;&amp;#38388;: Tuesday, December 13, 2005 12:17 PM
&amp;#25910;&amp;#20214;&amp;#20154;: Fang Xu
&amp;#20027;&amp;#39064;: RE: 120497

When you click on the preview in html button on toolbar, a browser popup, you can copy it url.  Then how do you preview the report?

 -----Original Message-----
From: 	Fang Xu  
Sent:	12 December 2005 20:14
To:	Jun Zhai
Subject:	??: 120497

I can not get the url of web viewer

Best Regards
Apple Xu

Actuate Corporation-Shanghai R&amp;D Center
Phone: (86)21-58826388 
E-mail: fxu@actuate.com &lt;mailto:fxu@actuate.com&gt;


_____________________________________________
&amp;#21457;&amp;#20214;&amp;#20154;: Jun Zhai 
&amp;#21457;&amp;#36865;&amp;#26102;&amp;#38388;: Tuesday, December 13, 2005 12:07 PM
&amp;#25910;&amp;#20214;&amp;#20154;: Fang Xu
&amp;#20027;&amp;#39064;: RE: 120497

good this means report is not removed. Can you send me the url of web viewer?

 -----Original Message-----
From: 	Fang Xu  
Sent:	12 December 2005 20:05
To:	Jun Zhai
Subject:	??: 120497

On MS.  I save it after I update the report. When refresh, parameter dialog did not pop up.

Best Regards
Apple Xu

Actuate Corporation-Shanghai R&amp;D Center
Phone: (86)21-58826388 
E-mail: fxu@actuate.com &lt;mailto:fxu@actuate.com&gt;


_____________________________________________
&amp;#21457;&amp;#20214;&amp;#20154;: Jun Zhai 
&amp;#21457;&amp;#36865;&amp;#26102;&amp;#38388;: Tuesday, December 13, 2005 12:02 PM
&amp;#25910;&amp;#20214;&amp;#20154;: Fang Xu; Wei Chen
&amp;#20027;&amp;#39064;: RE: 120497

and after you update the report, do you save it? When refresh, does parameter dialog pop up?


 -----Original Message-----
From: 	Fang Xu  
Sent:	12 December 2005 19:58
To:	Jun Zhai; Wei Chen
Subject:	??: 120497

Jun:
   I have reinstalled the eclipse 3.0.1 and birt, remove all old rptdocuments, but preview in html, the problem has still existed. and It works properly on others computer. Do you know how to resolve the problem?


Best Regards
Apple Xu

Actuate Corporation-Shanghai R&amp;D Center
Phone: (86)21-58826388 
E-mail: fxu@actuate.com &lt;mailto:fxu@actuate.com&gt;


_____________________________________________
&amp;#21457;&amp;#20214;&amp;#20154;: Jun Zhai 
&amp;#21457;&amp;#36865;&amp;#26102;&amp;#38388;: Tuesday, December 13, 2005 11:30 AM
&amp;#25910;&amp;#20214;&amp;#20154;: Wei Chen
&amp;#25220;&amp;#36865;: Fang Xu
&amp;#20027;&amp;#39064;: RE: 120497

fang,

Please make sure remove all old rptdocuments and have a fresh startup.

thx

 -----Original Message-----
From: 	Wei Chen  
Sent:	12 December 2005 19:29
To:	Jun Zhai
Cc:	Fang Xu
Subject:	RE: 120497

I tested in Eclipse 3.1 and RCP build. It works properly. Fang will retest it in Eclipse 3.0 and she will tell you whether it works or not.

Best Regards,
Viola Chen
Actuate Corportation-Shanghai R&amp;D Center
Phone: (86)21-58826388
Fax: (86)21-58826002
E-mail: wchen@actuate.com &lt;mailto:wchen@actuate.com&gt;
 

_____________________________________________
From: Jun Zhai 
Sent: Tuesday, December 13, 2005 11:24 AM
To: Wei Chen; Fang Xu
Subject: 120497

Hi,

Do we use the latest build when testing with 3.0? My local is 3.0 and i can not see the problem.
This issue has gone.
This is my platform problem 
Verified</WithStack>
    <WithOutStack>Description: Report design can't be modified.

Steps to reproduce:
1. Create a report.
2. Preview and then edit it.
3. Preview again.
4. It is not modified.
Machine specific issue.

You can see the attachment. And I right click the mouse, have no corresponding menu.
 
Best Regards
Apple Xu

Actuate Corporation-Shanghai R&amp;D Center
Phone: (86)21-58826388 
E-mail: fxu@actuate.com &lt;mailto:fxu@actuate.com&gt;


_____________________________________________
&amp;#21457;&amp;#20214;&amp;#20154;: Jun Zhai 
&amp;#21457;&amp;#36865;&amp;#26102;&amp;#38388;: Tuesday, December 13, 2005 12:17 PM
&amp;#25910;&amp;#20214;&amp;#20154;: Fang Xu
&amp;#20027;&amp;#39064;: RE: 120497

When you click on the preview in html button on toolbar, a browser popup, you can copy it url.  Then how do you preview the report?

 -----Original Message-----
From: 	Fang Xu  
Sent:	12 December 2005 20:14
To:	Jun Zhai
Subject:	??: 120497

I can not get the url of web viewer

Best Regards
Apple Xu

Actuate Corporation-Shanghai R&amp;D Center
Phone: (86)21-58826388 
E-mail: fxu@actuate.com &lt;mailto:fxu@actuate.com&gt;


_____________________________________________
&amp;#21457;&amp;#20214;&amp;#20154;: Jun Zhai 
&amp;#21457;&amp;#36865;&amp;#26102;&amp;#38388;: Tuesday, December 13, 2005 12:07 PM
&amp;#25910;&amp;#20214;&amp;#20154;: Fang Xu
&amp;#20027;&amp;#39064;: RE: 120497

good this means report is not removed. Can you send me the url of web viewer?

 -----Original Message-----
From: 	Fang Xu  
Sent:	12 December 2005 20:05
To:	Jun Zhai
Subject:	??: 120497

On MS.  I save it after I update the report. When refresh, parameter dialog did not pop up.

Best Regards
Apple Xu

Actuate Corporation-Shanghai R&amp;D Center
Phone: (86)21-58826388 
E-mail: fxu@actuate.com &lt;mailto:fxu@actuate.com&gt;


_____________________________________________
&amp;#21457;&amp;#20214;&amp;#20154;: Jun Zhai 
&amp;#21457;&amp;#36865;&amp;#26102;&amp;#38388;: Tuesday, December 13, 2005 12:02 PM
&amp;#25910;&amp;#20214;&amp;#20154;: Fang Xu; Wei Chen
&amp;#20027;&amp;#39064;: RE: 120497

and after you update the report, do you save it? When refresh, does parameter dialog pop up?


 -----Original Message-----
From: 	Fang Xu  
Sent:	12 December 2005 19:58
To:	Jun Zhai; Wei Chen
Subject:	??: 120497

Jun:
   I have reinstalled the eclipse 3.0.1 and birt, remove all old rptdocuments, but preview in html, the problem has still existed. and It works properly on others computer. Do you know how to resolve the problem?


Best Regards
Apple Xu

Actuate Corporation-Shanghai R&amp;D Center
Phone: (86)21-58826388 
E-mail: fxu@actuate.com &lt;mailto:fxu@actuate.com&gt;


_____________________________________________
&amp;#21457;&amp;#20214;&amp;#20154;: Jun Zhai 
&amp;#21457;&amp;#36865;&amp;#26102;&amp;#38388;: Tuesday, December 13, 2005 11:30 AM
&amp;#25910;&amp;#20214;&amp;#20154;: Wei Chen
&amp;#25220;&amp;#36865;: Fang Xu
&amp;#20027;&amp;#39064;: RE: 120497

fang,

Please make sure remove all old rptdocuments and have a fresh startup.

thx

 -----Original Message-----
From: 	Wei Chen  
Sent:	12 December 2005 19:29
To:	Jun Zhai
Cc:	Fang Xu
Subject:	RE: 120497

I tested in Eclipse 3.1 and RCP build. It works properly. Fang will retest it in Eclipse 3.0 and she will tell you whether it works or not.

Best Regards,
Viola Chen
Actuate Corportation-Shanghai R&amp;D Center
Phone: (86)21-58826388
Fax: (86)21-58826002
E-mail: wchen@actuate.com &lt;mailto:wchen@actuate.com&gt;
 

_____________________________________________
From: Jun Zhai 
Sent: Tuesday, December 13, 2005 11:24 AM
To: Wei Chen; Fang Xu
Subject: 120497

Hi,

Do we use the latest build when testing with 3.0? My local is 3.0 and i can not see the problem.
This issue has gone.
This is my platform problem 
Verified</WithOutStack>
  </Bug>
  <Bug>
    <BugId amount="120498" />
    <CreationDate amount="2005-12-12 21:42:00 -0500" />
    <DupId amount="" />
    <classification amount="BIRT" />
    <Product amount="BIRT" />
    <component amount="Report Engine" />
    <Version amount="2.0.0" />
    <rep_platform amount="PC" />
    <op_sys amount="Windows XP" />
    <priority amount="P3" />
    <bug_severity amount="major" />
    <Summery>performance: one report causes memory leak in new pdf emitter</Summery>
    <Patches amount="0" />
    <Stacktraces amount="0" />
    <SourceCodeRegions amount="0" />
    <Enumerations amount="0" />
    <bug_status amount="CLOSED" />
    <resolution amount="FIXED" />
    <WithStack>It happened in two builds: BIRT 1.0 Release and BIRT 2.0 nightly build
20051209.

I deployed their BIRT viewers on Tomcat 4.1. The OS were Windows 2003 and RedHat Linux 4.0 AS. I had automatic tools that continuously submitted URL requests to the Tomcat to generate reports. The report used jdbc data source. After 300 - 400 seconds, I found "out of memory" error occurred. The machine had 4GB physical memory and the jvm max. heap size was 256MB.
Created attachment 31609
SalesByProducts.rptdesign
fixed.
This issue can be reproduced by build 20051209, and can not be reproduced it by build 20051227.
Verified (20051231)</WithStack>
    <WithOutStack>It happened in two builds: BIRT 1.0 Release and BIRT 2.0 nightly build
20051209.

I deployed their BIRT viewers on Tomcat 4.1. The OS were Windows 2003 and RedHat Linux 4.0 AS. I had automatic tools that continuously submitted URL requests to the Tomcat to generate reports. The report used jdbc data source. After 300 - 400 seconds, I found "out of memory" error occurred. The machine had 4GB physical memory and the jvm max. heap size was 256MB.
Created attachment 31609
SalesByProducts.rptdesign
fixed.
This issue can be reproduced by build 20051209, and can not be reproduced it by build 20051227.
Verified (20051231)</WithOutStack>
  </Bug>
  <Bug>
    <BugId amount="120499" />
    <CreationDate amount="2005-12-12 22:01:00 -0500" />
    <DupId amount="" />
    <classification amount="Mylyn" />
    <Product amount="Mylyn" />
    <component amount="Core" />
    <Version amount="0.4" />
    <rep_platform amount="All" />
    <op_sys amount="All" />
    <priority amount="P2" />
    <bug_severity amount="enhancement" />
    <Summery>[context] make explicitly created resources interesting, and ignore others, e.g. from CVS checkout</Summery>
    <Patches amount="0" />
    <Stacktraces amount="0" />
    <SourceCodeRegions amount="1">
      <source_code type="class">
        <location start="9504" end="10390" />
        <code>public class TeamResourceChangeListener implements IResourceChangeListener, IResourceDeltaVisitor {
		private boolean haveTeamPrivateChange = false;
		public void resourceChanged(IResourceChangeEvent event) {
			haveTeamPrivateChange = false;
			IResourceDelta delta = event.getDelta();
			if (delta != null) {
				try {
					delta.accept(this,IContainer.INCLUDE_TEAM_PRIVATE_MEMBERS|IContainer.INCLUDE_HIDDEN);
					if (haveTeamPrivateChange) {
						// do something
					} else {
						// do something else
					}
				} catch (CoreException ce) {
					// handle
				}
			}
		}

		public boolean visit(IResourceDelta delta) throws CoreException {
			if (haveTeamPrivateChange) {
				return false;
			}
			IResource resource = delta.getResource();
			if (resource != null) {
				if (resource.isTeamPrivateMember()) {
					haveTeamPrivateChange = true;
				}
			}
			return true;
		}
	}</code>
      </source_code>
    </SourceCodeRegions>
    <Enumerations amount="1">
      <Enumeration lines="6">
        <Lines>
          <Line>1) User creates a new file</Line>
          <Line>2) User drags an existing file into the workspace</Line>
          <Line />
          <Line>The cases where we don't want to become interesting are:</Line>
          <Line>3) A project is checked out of CVS</Line>
          <Line>4) A project is opened</Line>
        </Lines>
      </Enumeration>
    </Enumerations>
    <bug_status amount="RESOLVED" />
    <resolution amount="FIXED" />
    <WithStack>From bug 119785:

&gt; However, if you have an active context and check a project
&gt; out of CVS each resource will be made interesting as it becomes a part of the
&gt; workspace (and as each becomes interesting the views will flicker).

You mean *every* resource will become interesting? That seems very wrong to me. If I check out a project, the project itself should become interesting, but I have not yet worked on any files, so Mylar should not make any overriding decision about which files it thinks are interesting to me.

I agree that explicit changes (file creation, or batch modification such as
through patches) must mark the files as interesting, though. But I think Mylar
should be about authorship, not what happens at the file level: When you do a
CVS checkout, while it's certain creating files at the file-system level, it's
not *authoring* files.
This is definitely the right idea.  It will require some new infrastructure to implement because currently interest is only set by interaction events looked at individually, and sequences of events are not analyzed.  But this won't be the only case requiring sequences to determine the 'intention' of the interaction, and it will make for a very interesting extension to the context model.
Eugene Kuleshov wrote the following, which sounds right to me.  I'll post more when I've had a chance to try implementing it.

&gt;  I think it would be more natural to verify if newly added or modified 
&gt; resources actually reside within one of the projects that already have 
&gt; other interesting resources for currently active task.
&gt; 
&gt;  This way you will also cover situation when user checkout new changes 
&gt; for noninteresting project with automatic build enabled and Eclipse 
&gt; run Ant builder registred for that project which could create new 
&gt; resources (I saw this for Eclipse jdt projects)...
Eugne also added: 
&gt;    I am observing this issue when picking up new changes from the Sync
&gt; view that has global scope. So, changed resources added to the task
&gt; scope (not sure if all of them are added though).
&gt; 
&gt;    Actually it may be also necessary to add these updated resources
&gt; into non-active mylar tasks that include updated projects.
Moving post 0.5.0, which means it's still usuall a good idea to deactivate the context before checking out, etc, even though the behavior has improved for that case (less refresh, interest of new resources is only temporary).
Eugene's comment from mylar-dev: 
&gt; -- picking up interest on externally changed resources (e.g. after vcs
&gt; checkout or build). This been discussed many times and we don't have
&gt; acceptable solution yet. If user not intentionally run background
&gt; checkout when task is active, he may literally loose his context because
&gt; of those incoming changes and the worst part that because context may
&gt; grow very big, whole IDE became unusable.
&gt;   I think that it would be much better to do not include changed
&gt; resources (at least on checkout/refresh) unless they are within one of
&gt; the projects that already have interest. Though, in my understanding,
&gt; current problem is that Mylar does not know in context of what operation
&gt; resource has gain its interest...

*** Bug 157804 has been marked as a duplicate of this bug. ***
Fixed resource exclusion problem causing only first item on Preferences -&gt; Mylar -&gt; Resources to be used in exclusion.
Created attachment 53157
mylar/context/zip
For 1.0 I have added the work-around (deactivate task) to the new Tips &amp; Tricks document: http://wiki.eclipse.org/index.php/Mylar_Tips_and_Tricks

Post 1.0 we will have do some of the revamping suggested above.
*** Bug 166938 has been marked as a duplicate of this bug. ***
We still don't have a good implementation strategy for this, but marking P2 since it goes against user expectations.
*** Bug 188288 has been marked as a duplicate of this bug. ***
The work-around is still the same (deactivate task) and the performance of both deactivation and a full checkout with a task active have been improved.
Need to investigate a better approach to this for 3.0.
*** Bug 202793 has been marked as a duplicate of this bug. ***
*** Bug 210403 has been marked as a duplicate of this bug. ***
Need to figure something out for Mylyn 3.0, especially for the cases of project opening and source control checkout.
*** Bug 227454 has been marked as a duplicate of this bug. ***
As an alternate strategy to trying to fix the root cause (that Mylyn is listening to events which are too broad), couldn't we put a listener on the open project event to turn off a Mylyn task whilst the open project task is executing then re-activate the task when the project has completed?

I am an Eclipse event newbie though so I wouldn't know if you could listen on a project open/close event, but if you could...

Then again, if this is going to be fixed, I guess an entire fix is better then a partial quirk filled fix - but considering this has been a known issue since 2005, doing something to improve the situation would be good.
David: that's a good suggestion.  When I took a quick pass at doing that I could not find a good way to determine when the project has finished opening.  For example, another project could be opened in the middle of the first opening, and then something else could kick off some synchronization.  

One approach that Shawn Minto and I have been exploring is to use the timestamp information from files to ensure that only ones that are created or modified while a task is active are added to the task context.  This would address the case of opening a project, but probably would not address the case of project checkout from CVS/SVN.  
*** Bug 182949 has been marked as a duplicate of this bug. ***
Created attachment 103860
patch

Here is a patch that uses the last modification date to determine whether resources should be added to the context.  This works well for CVS checkouts except that folders dont have the old timestamp.  For CVS update, there is still a problem since there is a good chance that the incomming files were modified at the same time that you were working.  Also, opening closed projects will not affect your context unless the file was changed while the project was closed.

The only thing that could be seen as a regression is that when a file is copied or moved to a directory on disk (not in eclipse), the files are never added to the context since the file modification time hasn't changed even though it is a new resource.  If the file is created new, it will show in the context properly.
Created attachment 103861
mylyn/context/zip
Argh, this is so close to the solution we want, but we can't go ahead as is given the problems you outline, because in too many cases files created by the user will not show up in the task context.

Tomasz: do you know of any org.eclipse.core.resources experts who might know of a mechanism for determining modification timestamps of the form we're after?
If you are interested in CVS, you may be able to make use of the Subscriber API (available from the RepositoryProvider for the project) to determine if a file has been modified locally (i.e. has an outgoing change). That is, if a file is added, you could then ask the Subscriber whether the file has an outgoing change. If it does, it was probably added by the user.

This API is available for any repository provider to implement. I think SVN uses it and there may be others. However, as with most Team API, if is not required tat a repository provider implement the API so it may be a good idea to isolate the use of Subscriber behind a Mylyn API that other repository providers could implement if they want to provide the same type of support (do I sound like a broken record ;-).
Michael: thanks for the tip!  We will explore this, as it could handle the problem case with files becoming interesting when checked out of CVS and SVN.  The underlying will still there though, because we need resources that are added to the workspace to become interesting.  These come in two forms:
1) User creates a new file
2) User drags an existing file into the workspace

The cases where we don't want to become interesting are:
3) A project is checked out of CVS
4) A project is opened

The problem is that we haven't been able to formulate a test that satisfies all of the above.  Using the last modification is almost it because it satisfies 1,3,4.  But it fails to make files dragged into the workspace interesting because their last modified date is old.  So we still have no test for whether a file is newly added to the workspace even if it was previously created on the local filesystem.  We thought about using the "Accessed" file attribute, but that's probably  Windows specific and hard to get from a resources.  Do you think it's worth for us to pursue the Resource.getModificationStamp() integers?  We took a brief look at those but got confused and it looked like they didn't contain enough info for this distinction.

Regarding the Team API stuff, I'll comment on bug 116084.
Need to defer until we figure out a design for this.  On the bright side, the performance and queuing of focused view refresh has improved to the point where checking out or opening a project no longer causes the problematic UI hangs.
*** Bug 256865 has been marked as a duplicate of this bug. ***
This is how we detect that team changes have occurred.  I don't know if it'll work for Mylyn or if it'll work with every team provider.  It works reliably for us with Subclipse:

bc.. 
	public class TeamResourceChangeListener implements IResourceChangeListener, IResourceDeltaVisitor {
		private boolean haveTeamPrivateChange = false;
		public void resourceChanged(IResourceChangeEvent event) {
			haveTeamPrivateChange = false;
			IResourceDelta delta = event.getDelta();
			if (delta != null) {
				try {
					delta.accept(this,IContainer.INCLUDE_TEAM_PRIVATE_MEMBERS|IContainer.INCLUDE_HIDDEN);
					if (haveTeamPrivateChange) {
						// do something
					} else {
						// do something else
					}
				} catch (CoreException ce) {
					// handle
				}
			}
		}

		public boolean visit(IResourceDelta delta) throws CoreException {
			if (haveTeamPrivateChange) {
				return false;
			}
			IResource resource = delta.getResource();
			if (resource != null) {
				if (resource.isTeamPrivateMember()) {
					haveTeamPrivateChange = true;
				}
			}
			return true;
		}
	}
*** Bug 259426 has been marked as a duplicate of this bug. ***
Created attachment 121264
ignore resource deltas that incclude team private members
Created attachment 121265
mylyn/context/zip
Thanks David! I did some testing with CVS and this strategy seems to work well. I have committed the attached patch. Please comment if there are any problems with missed resource change events when working bootstrapped.
(In reply to comment #33)
&gt; Thanks David! I did some testing with CVS and this strategy seems to work well.
&gt; I have committed the attached patch. Please comment if there are any problems
&gt; with missed resource change events when working bootstrapped.

Glad that I could help.  Great that it works for CVS too.  

Thanks for putting the time into this one.  It'll make a big difference for my team, where we encourage people to update as often as possible.  On a large project with over 20 developers there are always lots of changes.  Having to deactivate the Mylyn task prior to updating was problematic for us.
Good stuff -- may I look forward to see this in this weekly build?
The fix is available in weekly builds &gt;=I20081231.
Happy New Year!

I wonder whether this also includes resources appearing by workspace refreshes.

E.g. I add a file outside Eclipse, press F5 for refresh... and it is added to my context.

In the same way, if an external tool is run and finally a workspace refresh is done, these
resources would also be added.

According to the bug description, this should be part of this bug.

But it would be OK to rename it and move this to another one.

Cheers, Jrg
Resource changes outside of the workspace that are picked up by a refresh are intentionally added to the context. That enables interest tracking for files edited outside of Eclipse. I would suggest to use bug 197942 to discuss further improvements to how workspaces refreshes are processed.
*** Bug 263026 has been marked as a duplicate of this bug. ***
*** Bug 308807 has been marked as a duplicate of this bug. ***</WithStack>
    <WithOutStack>From bug 119785:

&gt; However, if you have an active context and check a project
&gt; out of CVS each resource will be made interesting as it becomes a part of the
&gt; workspace (and as each becomes interesting the views will flicker).

You mean *every* resource will become interesting? That seems very wrong to me. If I check out a project, the project itself should become interesting, but I have not yet worked on any files, so Mylar should not make any overriding decision about which files it thinks are interesting to me.

I agree that explicit changes (file creation, or batch modification such as
through patches) must mark the files as interesting, though. But I think Mylar
should be about authorship, not what happens at the file level: When you do a
CVS checkout, while it's certain creating files at the file-system level, it's
not *authoring* files.
This is definitely the right idea.  It will require some new infrastructure to implement because currently interest is only set by interaction events looked at individually, and sequences of events are not analyzed.  But this won't be the only case requiring sequences to determine the 'intention' of the interaction, and it will make for a very interesting extension to the context model.
Eugene Kuleshov wrote the following, which sounds right to me.  I'll post more when I've had a chance to try implementing it.

&gt;  I think it would be more natural to verify if newly added or modified 
&gt; resources actually reside within one of the projects that already have 
&gt; other interesting resources for currently active task.
&gt; 
&gt;  This way you will also cover situation when user checkout new changes 
&gt; for noninteresting project with automatic build enabled and Eclipse 
&gt; run Ant builder registred for that project which could create new 
&gt; resources (I saw this for Eclipse jdt projects)...
Eugne also added: 
&gt;    I am observing this issue when picking up new changes from the Sync
&gt; view that has global scope. So, changed resources added to the task
&gt; scope (not sure if all of them are added though).
&gt; 
&gt;    Actually it may be also necessary to add these updated resources
&gt; into non-active mylar tasks that include updated projects.
Moving post 0.5.0, which means it's still usuall a good idea to deactivate the context before checking out, etc, even though the behavior has improved for that case (less refresh, interest of new resources is only temporary).
Eugene's comment from mylar-dev: 
&gt; -- picking up interest on externally changed resources (e.g. after vcs
&gt; checkout or build). This been discussed many times and we don't have
&gt; acceptable solution yet. If user not intentionally run background
&gt; checkout when task is active, he may literally loose his context because
&gt; of those incoming changes and the worst part that because context may
&gt; grow very big, whole IDE became unusable.
&gt;   I think that it would be much better to do not include changed
&gt; resources (at least on checkout/refresh) unless they are within one of
&gt; the projects that already have interest. Though, in my understanding,
&gt; current problem is that Mylar does not know in context of what operation
&gt; resource has gain its interest...

*** Bug 157804 has been marked as a duplicate of this bug. ***
Fixed resource exclusion problem causing only first item on Preferences -&gt; Mylar -&gt; Resources to be used in exclusion.
Created attachment 53157
mylar/context/zip
For 1.0 I have added the work-around (deactivate task) to the new Tips &amp; Tricks document: http://wiki.eclipse.org/index.php/Mylar_Tips_and_Tricks

Post 1.0 we will have do some of the revamping suggested above.
*** Bug 166938 has been marked as a duplicate of this bug. ***
We still don't have a good implementation strategy for this, but marking P2 since it goes against user expectations.
*** Bug 188288 has been marked as a duplicate of this bug. ***
The work-around is still the same (deactivate task) and the performance of both deactivation and a full checkout with a task active have been improved.
Need to investigate a better approach to this for 3.0.
*** Bug 202793 has been marked as a duplicate of this bug. ***
*** Bug 210403 has been marked as a duplicate of this bug. ***
Need to figure something out for Mylyn 3.0, especially for the cases of project opening and source control checkout.
*** Bug 227454 has been marked as a duplicate of this bug. ***
As an alternate strategy to trying to fix the root cause (that Mylyn is listening to events which are too broad), couldn't we put a listener on the open project event to turn off a Mylyn task whilst the open project task is executing then re-activate the task when the project has completed?

I am an Eclipse event newbie though so I wouldn't know if you could listen on a project open/close event, but if you could...

Then again, if this is going to be fixed, I guess an entire fix is better then a partial quirk filled fix - but considering this has been a known issue since 2005, doing something to improve the situation would be good.
David: that's a good suggestion.  When I took a quick pass at doing that I could not find a good way to determine when the project has finished opening.  For example, another project could be opened in the middle of the first opening, and then something else could kick off some synchronization.  

One approach that Shawn Minto and I have been exploring is to use the timestamp information from files to ensure that only ones that are created or modified while a task is active are added to the task context.  This would address the case of opening a project, but probably would not address the case of project checkout from CVS/SVN.  
*** Bug 182949 has been marked as a duplicate of this bug. ***
Created attachment 103860
patch

Here is a patch that uses the last modification date to determine whether resources should be added to the context.  This works well for CVS checkouts except that folders dont have the old timestamp.  For CVS update, there is still a problem since there is a good chance that the incomming files were modified at the same time that you were working.  Also, opening closed projects will not affect your context unless the file was changed while the project was closed.

The only thing that could be seen as a regression is that when a file is copied or moved to a directory on disk (not in eclipse), the files are never added to the context since the file modification time hasn't changed even though it is a new resource.  If the file is created new, it will show in the context properly.
Created attachment 103861
mylyn/context/zip
Argh, this is so close to the solution we want, but we can't go ahead as is given the problems you outline, because in too many cases files created by the user will not show up in the task context.

Tomasz: do you know of any org.eclipse.core.resources experts who might know of a mechanism for determining modification timestamps of the form we're after?
If you are interested in CVS, you may be able to make use of the Subscriber API (available from the RepositoryProvider for the project) to determine if a file has been modified locally (i.e. has an outgoing change). That is, if a file is added, you could then ask the Subscriber whether the file has an outgoing change. If it does, it was probably added by the user.

This API is available for any repository provider to implement. I think SVN uses it and there may be others. However, as with most Team API, if is not required tat a repository provider implement the API so it may be a good idea to isolate the use of Subscriber behind a Mylyn API that other repository providers could implement if they want to provide the same type of support (do I sound like a broken record ;-).
Michael: thanks for the tip!  We will explore this, as it could handle the problem case with files becoming interesting when checked out of CVS and SVN.  The underlying will still there though, because we need resources that are added to the workspace to become interesting.  These come in two forms:
1) User creates a new file
2) User drags an existing file into the workspace

The cases where we don't want to become interesting are:
3) A project is checked out of CVS
4) A project is opened

The problem is that we haven't been able to formulate a test that satisfies all of the above.  Using the last modification is almost it because it satisfies 1,3,4.  But it fails to make files dragged into the workspace interesting because their last modified date is old.  So we still have no test for whether a file is newly added to the workspace even if it was previously created on the local filesystem.  We thought about using the "Accessed" file attribute, but that's probably  Windows specific and hard to get from a resources.  Do you think it's worth for us to pursue the Resource.getModificationStamp() integers?  We took a brief look at those but got confused and it looked like they didn't contain enough info for this distinction.

Regarding the Team API stuff, I'll comment on bug 116084.
Need to defer until we figure out a design for this.  On the bright side, the performance and queuing of focused view refresh has improved to the point where checking out or opening a project no longer causes the problematic UI hangs.
*** Bug 256865 has been marked as a duplicate of this bug. ***
This is how we detect that team changes have occurred.  I don't know if it'll work for Mylyn or if it'll work with every team provider.  It works reliably for us with Subclipse:

bc.. 
	public class TeamResourceChangeListener implements IResourceChangeListener, IResourceDeltaVisitor {
		private boolean haveTeamPrivateChange = false;
		public void resourceChanged(IResourceChangeEvent event) {
			haveTeamPrivateChange = false;
			IResourceDelta delta = event.getDelta();
			if (delta != null) {
				try {
					delta.accept(this,IContainer.INCLUDE_TEAM_PRIVATE_MEMBERS|IContainer.INCLUDE_HIDDEN);
					if (haveTeamPrivateChange) {
						// do something
					} else {
						// do something else
					}
				} catch (CoreException ce) {
					// handle
				}
			}
		}

		public boolean visit(IResourceDelta delta) throws CoreException {
			if (haveTeamPrivateChange) {
				return false;
			}
			IResource resource = delta.getResource();
			if (resource != null) {
				if (resource.isTeamPrivateMember()) {
					haveTeamPrivateChange = true;
				}
			}
			return true;
		}
	}
*** Bug 259426 has been marked as a duplicate of this bug. ***
Created attachment 121264
ignore resource deltas that incclude team private members
Created attachment 121265
mylyn/context/zip
Thanks David! I did some testing with CVS and this strategy seems to work well. I have committed the attached patch. Please comment if there are any problems with missed resource change events when working bootstrapped.
(In reply to comment #33)
&gt; Thanks David! I did some testing with CVS and this strategy seems to work well.
&gt; I have committed the attached patch. Please comment if there are any problems
&gt; with missed resource change events when working bootstrapped.

Glad that I could help.  Great that it works for CVS too.  

Thanks for putting the time into this one.  It'll make a big difference for my team, where we encourage people to update as often as possible.  On a large project with over 20 developers there are always lots of changes.  Having to deactivate the Mylyn task prior to updating was problematic for us.
Good stuff -- may I look forward to see this in this weekly build?
The fix is available in weekly builds &gt;=I20081231.
Happy New Year!

I wonder whether this also includes resources appearing by workspace refreshes.

E.g. I add a file outside Eclipse, press F5 for refresh... and it is added to my context.

In the same way, if an external tool is run and finally a workspace refresh is done, these
resources would also be added.

According to the bug description, this should be part of this bug.

But it would be OK to rename it and move this to another one.

Cheers, Jrg
Resource changes outside of the workspace that are picked up by a refresh are intentionally added to the context. That enables interest tracking for files edited outside of Eclipse. I would suggest to use bug 197942 to discuss further improvements to how workspaces refreshes are processed.
*** Bug 263026 has been marked as a duplicate of this bug. ***
*** Bug 308807 has been marked as a duplicate of this bug. ***</WithOutStack>
  </Bug>
  <Bug>
    <BugId amount="120500" />
    <CreationDate amount="2005-12-12 22:04:00 -0500" />
    <DupId amount="" />
    <classification amount="BIRT" />
    <Product amount="BIRT" />
    <component amount="Report Engine" />
    <Version amount="2.0.0" />
    <rep_platform amount="PC" />
    <op_sys amount="Windows XP" />
    <priority amount="P3" />
    <bug_severity amount="normal" />
    <Summery>Eclipse 3.0: Hyperlink to other report, system reports error.</Summery>
    <Patches amount="0" />
    <Stacktraces amount="0" />
    <SourceCodeRegions amount="0" />
    <Enumerations amount="1">
      <Enumeration lines="6">
        <Lines>
          <Line>1.Create a report design file named "a.rptdesign", include label, text...</Line>
          <Line>2.Create a report desing file name "b.rptdesing"</Line>
          <Line>3.Drag a image to the layout</Line>
          <Line>4.Open the Property Editor view, select "Hyperlink", click "..." button</Line>
          <Line>5.Select "Drill-through",  in the report , select a.rptdesign</Line>
          <Line>6.Preview in Html</Line>
        </Lines>
      </Enumeration>
    </Enumerations>
    <bug_status amount="CLOSED" />
    <resolution amount="FIXED" />
    <WithStack>Description: Eclipse 3.0: Hyperlink to other report, system reports error.

Steps:
1.Create a report design file named "a.rptdesign", include label, text...
2.Create a report desing file name "b.rptdesing"
3.Drag a image to the layout
4.Open the Property Editor view, select "Hyperlink", click "..." button
5.Select "Drill-through",  in the report , select a.rptdesign
6.Preview in Html

Actual Resutls:
1.Click the image, system displayed null

Expected Results:
1.Click the image, can link to a.rptdesign.
fixed
Click the image, 
system throws:
The design file d:\Daily smoke test\blank Eclipse3.0.1\plugins\org.eclipse.birt.report.viewer_2.0.0\birt\a.rptdesign can not be found. 
Fixed with 119815.
fixed</WithStack>
    <WithOutStack>Description: Eclipse 3.0: Hyperlink to other report, system reports error.

Steps:
1.Create a report design file named "a.rptdesign", include label, text...
2.Create a report desing file name "b.rptdesing"
3.Drag a image to the layout
4.Open the Property Editor view, select "Hyperlink", click "..." button
5.Select "Drill-through",  in the report , select a.rptdesign
6.Preview in Html

Actual Resutls:
1.Click the image, system displayed null

Expected Results:
1.Click the image, can link to a.rptdesign.
fixed
Click the image, 
system throws:
The design file d:\Daily smoke test\blank Eclipse3.0.1\plugins\org.eclipse.birt.report.viewer_2.0.0\birt\a.rptdesign can not be found. 
Fixed with 119815.
fixed</WithOutStack>
  </Bug>
</infozilla-output>

