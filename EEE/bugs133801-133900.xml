<?xml version="1.0" encoding="UTF-8"?>
<infozilla-output>
  <Bug>
    <BugId amount="133801" />
    <CreationDate amount="2006-03-29 04:51:00 -0500" />
    <DupId amount="" />
    <classification amount="WebTools" />
    <Product amount="WTP Common Tools" />
    <component amount="wst.internet" />
    <Version amount="1.0.1" />
    <rep_platform amount="PC" />
    <op_sys amount="Windows XP" />
    <priority amount="P3" />
    <bug_severity amount="normal" />
    <Summery>TCP/IP monitor configuration does not accept Hosts with a dash</Summery>
    <Patches amount="0" />
    <Stacktraces amount="0" />
    <SourceCodeRegions amount="0" />
    <Enumerations amount="0" />
    <bug_status amount="CLOSED" />
    <resolution amount="FIXED" />
    <WithStack>When configuring a TCP/IP monitor, if a host name is specified with a dash, such as www.turbojugend-kuopio.com, a new monitor cannot be created.
Found the bug. It's missing the '-' during host name validation. Verified on the net that this is the only other non-alphanumeric character that is allowed in a host name.
Fixed and released in WTP 1.5 stream.
*** Bug 105782 has been marked as a duplicate of this bug. ***
Verified on WTP 1.5 RC6.
Closing bug.</WithStack>
    <WithOutStack>When configuring a TCP/IP monitor, if a host name is specified with a dash, such as www.turbojugend-kuopio.com, a new monitor cannot be created.
Found the bug. It's missing the '-' during host name validation. Verified on the net that this is the only other non-alphanumeric character that is allowed in a host name.
Fixed and released in WTP 1.5 stream.
*** Bug 105782 has been marked as a duplicate of this bug. ***
Verified on WTP 1.5 RC6.
Closing bug.</WithOutStack>
  </Bug>
  <Bug>
    <BugId amount="133802" />
    <CreationDate amount="2006-03-29 04:58:00 -0500" />
    <DupId amount="" />
    <classification amount="Eclipse" />
    <Product amount="JDT" />
    <component amount="Core" />
    <Version amount="3.2" />
    <rep_platform amount="PC" />
    <op_sys amount="Windows XP" />
    <priority amount="P3" />
    <bug_severity amount="minor" />
    <Summery>Error for duplicate type has wrong source range</Summery>
    <Patches amount="0" />
    <Stacktraces amount="0" />
    <SourceCodeRegions amount="5">
      <source_code type="package">
        <location start="140" end="151" />
        <code>package xy;</code>
      </source_code>
      <source_code type="class">
        <location start="152" end="171" />
        <code>public class Try {}</code>
      </source_code>
      <source_code type="class">
        <location start="172" end="184" />
        <code>class Bug {}</code>
      </source_code>
      <source_code type="package">
        <location start="243" end="254" />
        <code>package xy;</code>
      </source_code>
      <source_code type="class">
        <location start="255" end="315" />
        <code>class Bug {
    int field;
    int field2;
    int field3;
}</code>
      </source_code>
    </SourceCodeRegions>
    <Enumerations amount="1">
      <Enumeration lines="5">
        <Lines>
          <Line>- new workspace</Line>
          <Line>- create new Java project "P" (all defaults)</Line>
          <Line>- in Package Explorer, paste first CU text into project P</Line>
          <Line>- wait for autobuild to finish</Line>
          <Line>- paste second CU text into project P</Line>
        </Lines>
      </Enumeration>
    </Enumerations>
    <bug_status amount="VERIFIED" />
    <resolution amount="WORKSFORME" />
    <WithStack>HEAD

Error for a duplicate type declaration sometimes has a wrong source range.

Steps:

- copy this cu text and paste to a source folder:
package xy;
public class Try {}
class Bug {}

- copy this cu text and paste to the same source folder:
package xy;
class Bug {
    int field;
    int field2;
    int field3;
}

=&gt; source range is somewhere between field and field2 in Bug.java
=&gt; expected: source range on one of the class declaration names
Cannot reproduce with I20060330-0010.
Would you ming trying to reproduce with this build and let me know if you can do it.
Closign as WORKSFORME. Reopen if you get it again.
Closing.
Can still reproduce with I20060331-2000, though steps are somewhat timing-dependent...:

- new workspace
- create new Java project "P" (all defaults)
- in Package Explorer, paste first CU text into project P
- wait for autobuild to finish
- paste second CU text into project P

It only seems to be happening if class Bug already exists as secondary type and then Bug.java is added and incrementally compiled.
I tried again and I cannot reproduce.
I'll try to see how this could be related to a timing issue.
I tried to reproduce. Unsuccessfully.
Also can't reproduce any more. Worksforme.</WithStack>
    <WithOutStack>HEAD

Error for a duplicate type declaration sometimes has a wrong source range.

Steps:

- copy this cu text and paste to a source folder:
package xy;
public class Try {}
class Bug {}

- copy this cu text and paste to the same source folder:
package xy;
class Bug {
    int field;
    int field2;
    int field3;
}

=&gt; source range is somewhere between field and field2 in Bug.java
=&gt; expected: source range on one of the class declaration names
Cannot reproduce with I20060330-0010.
Would you ming trying to reproduce with this build and let me know if you can do it.
Closign as WORKSFORME. Reopen if you get it again.
Closing.
Can still reproduce with I20060331-2000, though steps are somewhat timing-dependent...:

- new workspace
- create new Java project "P" (all defaults)
- in Package Explorer, paste first CU text into project P
- wait for autobuild to finish
- paste second CU text into project P

It only seems to be happening if class Bug already exists as secondary type and then Bug.java is added and incrementally compiled.
I tried again and I cannot reproduce.
I'll try to see how this could be related to a timing issue.
I tried to reproduce. Unsuccessfully.
Also can't reproduce any more. Worksforme.</WithOutStack>
  </Bug>
  <Bug>
    <BugId amount="133803" />
    <CreationDate amount="2006-03-29 05:07:00 -0500" />
    <DupId amount="120088" />
    <classification amount="Eclipse" />
    <Product amount="JDT" />
    <component amount="Core" />
    <Version amount="3.2" />
    <rep_platform amount="PC" />
    <op_sys amount="Windows XP" />
    <priority amount="P3" />
    <bug_severity amount="normal" />
    <Summery>[1.5][compiler] Illegal cast from bounded wildcard allowed</Summery>
    <Patches amount="0" />
    <Stacktraces amount="0" />
    <SourceCodeRegions amount="4">
      <source_code type="import">
        <location start="131" end="155" />
        <code>import java.lang.ref.*;</code>
      </source_code>
      <source_code type="class">
        <location start="157" end="229" />
        <code>class Soft extends SoftReference&lt;String&gt; {
    Soft() { super(null); }
}</code>
      </source_code>
      <source_code type="class">
        <location start="231" end="333" />
        <code>class Bug {
    void m(Reference&lt;? extends Number&gt; remove) {
        Soft soft= (Soft) remove;
    }
}</code>
      </source_code>
      <source_code type="assignment">
        <location start="519" end="552" />
        <code>Soft soft= (Soft) remove;</code>
      </source_code>
    </SourceCodeRegions>
    <Enumerations amount="0" />
    <bug_status amount="VERIFIED" />
    <resolution amount="DUPLICATE" />
    <WithStack>HEAD, followup to bug 131935.

This CU compiles with a (correct) error in javac 1.5 and 1.6, but Eclipse accepts it without error:

import java.lang.ref.*;

class Soft extends SoftReference&lt;String&gt; {
    Soft() { super(null); }
}

class Bug {
    void m(Reference&lt;? extends Number&gt; remove) {
        Soft soft= (Soft) remove;
    }
}

javac 1.6.0-beta2
C:\e\w\runtime-workspace\zz1.5\src\xy\Bug.java:11: inconvertible types
found   : java.lang.ref.Reference&lt;capture#939 of ? extends java.lang.Number&gt;
required: xy.Soft
        Soft soft= (Soft) remove;
                          ^
1 error
Strictly speaking our behavior is legite, since Reference&lt;capture-of ? extends Number&gt; is assimilated to Reference&lt;U&gt; (U being a fresh new type variable), and it is not provably distinct by the rules of JLS 4.5.


Added GenericTypeTest#test0959.


*** This bug has been marked as a duplicate of 120088 ***
GenericTypeTest#test0959 got enabled.
Verified for 3.4 M3 using build I20071029-0010.</WithStack>
    <WithOutStack>HEAD, followup to bug 131935.

This CU compiles with a (correct) error in javac 1.5 and 1.6, but Eclipse accepts it without error:

import java.lang.ref.*;

class Soft extends SoftReference&lt;String&gt; {
    Soft() { super(null); }
}

class Bug {
    void m(Reference&lt;? extends Number&gt; remove) {
        Soft soft= (Soft) remove;
    }
}

javac 1.6.0-beta2
C:\e\w\runtime-workspace\zz1.5\src\xy\Bug.java:11: inconvertible types
found   : java.lang.ref.Reference&lt;capture#939 of ? extends java.lang.Number&gt;
required: xy.Soft
        Soft soft= (Soft) remove;
                          ^
1 error
Strictly speaking our behavior is legite, since Reference&lt;capture-of ? extends Number&gt; is assimilated to Reference&lt;U&gt; (U being a fresh new type variable), and it is not provably distinct by the rules of JLS 4.5.


Added GenericTypeTest#test0959.


*** This bug has been marked as a duplicate of 120088 ***
GenericTypeTest#test0959 got enabled.
Verified for 3.4 M3 using build I20071029-0010.</WithOutStack>
  </Bug>
  <Bug>
    <BugId amount="133804" />
    <CreationDate amount="2006-03-29 05:14:00 -0500" />
    <DupId amount="133668" />
    <classification amount="Eclipse" />
    <Product amount="JDT" />
    <component amount="UI" />
    <Version amount="3.1" />
    <rep_platform amount="PC" />
    <op_sys amount="Windows XP" />
    <priority amount="P3" />
    <bug_severity amount="normal" />
    <Summery>Add preference for JavaCore#CORE_JAVA_BUILD_RECREATE_MODIFIED_CLASS_FILES_IN_OUTPUT_FOLDER</Summery>
    <Patches amount="0" />
    <Stacktraces amount="0" />
    <SourceCodeRegions amount="0" />
    <Enumerations amount="0" />
    <bug_status amount="RESOLVED" />
    <resolution amount="DUPLICATE" />
    <WithStack>I20060329-0010

JDT Core added a new option JavaCore#CORE_JAVA_BUILD_RECREATE_MODIFIED_CLASS_FILES_IN_OUTPUT_FOLDER:

* BUILDER / Recreate Modified class files in Output Folder
*    Indicate whether the JavaBuilder should check for any changes to .class files
*    in the output folders while performing incremental build operations. If changes
*    are detected to managed .class files, then a full build is performed, otherwise
*    the changes are left as is. Tools further altering generated .class files, like optimizers,
*    should ensure this option remains set in its default state of ignore.
*     - option id:         "org.eclipse.jdt.core.builder.recreateModifiedClassFileInOutputFolder"
*     - possible values:   { "enabled", "ignore" }
*     - default:           "ignore"

A new preference is needed to control this option.
Sorry Kent, I didn't see that you entered bug 133668

*** This bug has been marked as a duplicate of 133668 ***</WithStack>
    <WithOutStack>I20060329-0010

JDT Core added a new option JavaCore#CORE_JAVA_BUILD_RECREATE_MODIFIED_CLASS_FILES_IN_OUTPUT_FOLDER:

* BUILDER / Recreate Modified class files in Output Folder
*    Indicate whether the JavaBuilder should check for any changes to .class files
*    in the output folders while performing incremental build operations. If changes
*    are detected to managed .class files, then a full build is performed, otherwise
*    the changes are left as is. Tools further altering generated .class files, like optimizers,
*    should ensure this option remains set in its default state of ignore.
*     - option id:         "org.eclipse.jdt.core.builder.recreateModifiedClassFileInOutputFolder"
*     - possible values:   { "enabled", "ignore" }
*     - default:           "ignore"

A new preference is needed to control this option.
Sorry Kent, I didn't see that you entered bug 133668

*** This bug has been marked as a duplicate of 133668 ***</WithOutStack>
  </Bug>
  <Bug>
    <BugId amount="133805" />
    <CreationDate amount="2006-03-29 05:22:00 -0500" />
    <DupId amount="" />
    <classification amount="Eclipse" />
    <Product amount="JDT" />
    <component amount="UI" />
    <Version amount="3.1.2" />
    <rep_platform amount="All" />
    <op_sys amount="All" />
    <priority amount="P3" />
    <bug_severity amount="enhancement" />
    <Summery>[actions] please consider enabling "Correct Indentation" action outside of editors</Summery>
    <Patches amount="0" />
    <Stacktraces amount="0" />
    <SourceCodeRegions amount="0" />
    <Enumerations amount="0" />
    <bug_status amount="RESOLVED" />
    <resolution amount="FIXED" />
    <WithStack>hi,

 at the moment "Correct Indentation" is an action that applies to an editor. It would be great if the same action were available as an action on resources selected in the package explorer. i.e. you would be able to select a project, or a source folder, or a discontiguous selection of sources and correct their indentation as a single action. 

At the moment you would have to open each file individually, invoke the action and save it.

thanks,
Andrew
Use format for this.
hi Daniel,

 I see your point, but was already aware of the format option, and believe there is value in having "Correct Indentation" treated separately?

If for a single file, you have a choice between CI and full-blown-format, then it would make sense to me that this same choice be available for a selection of multiple files? This isn't purely about symmetry in the UI however - reindenting a source tree is likely to be non-controversial, but reformatting a source tree can easily raise religious arguments about the Correct formatting style. I never reformat source files on team projects for this reason since other developers (perhaps not using eclipse) could object. 

Its probably not an urgent work item, but in terms of UI consistency I currently think its the right thing to do long term?

(I've reopened the bug just in case messages aren't sent when its marked resolved, rather than pre-empting any decision :)

thanks,
Andrew
&gt;reindenting a source tree is likely to be non-controversial, but reformatting a
&gt;source tree can easily raise religious arguments about the Correct formatting
&gt;style.
Well, indenting is already part of formatting and very religious, e.g. some people use tabs, some spaces and others use the mixed version and in fact we grab the preferences from the formatter to do the indenting.

Martin, what's your take on this?
I think the request makes sense. Indenting is less intrusive than formatting.
As we already have the action, it's a value add to also offer it on multiple files.
Marking as fixed &gt; 3.4M2

There is a correct indentation clean up. Clean up can be executed on any set of java elements. Adding a correct indentation action to java elements would now be trivial (by extending CleanUpAction) but I don't think it is necessary. What you think?
(In reply to comment #5)
&gt; Adding a correct indentation action to java elements would now
&gt; be trivial (by extending CleanUpAction) but I don't think it is necessary. 
&gt; What you think?

having this available in the clean-up wizard is great news :)

if I get a vote then +1 for the additional correct indentation action, on the basis of convenience and ui consistency. It would be nice to be able to select some projects and hit ctrl-I, analogously to how organize imports can be used.</WithStack>
    <WithOutStack>hi,

 at the moment "Correct Indentation" is an action that applies to an editor. It would be great if the same action were available as an action on resources selected in the package explorer. i.e. you would be able to select a project, or a source folder, or a discontiguous selection of sources and correct their indentation as a single action. 

At the moment you would have to open each file individually, invoke the action and save it.

thanks,
Andrew
Use format for this.
hi Daniel,

 I see your point, but was already aware of the format option, and believe there is value in having "Correct Indentation" treated separately?

If for a single file, you have a choice between CI and full-blown-format, then it would make sense to me that this same choice be available for a selection of multiple files? This isn't purely about symmetry in the UI however - reindenting a source tree is likely to be non-controversial, but reformatting a source tree can easily raise religious arguments about the Correct formatting style. I never reformat source files on team projects for this reason since other developers (perhaps not using eclipse) could object. 

Its probably not an urgent work item, but in terms of UI consistency I currently think its the right thing to do long term?

(I've reopened the bug just in case messages aren't sent when its marked resolved, rather than pre-empting any decision :)

thanks,
Andrew
&gt;reindenting a source tree is likely to be non-controversial, but reformatting a
&gt;source tree can easily raise religious arguments about the Correct formatting
&gt;style.
Well, indenting is already part of formatting and very religious, e.g. some people use tabs, some spaces and others use the mixed version and in fact we grab the preferences from the formatter to do the indenting.

Martin, what's your take on this?
I think the request makes sense. Indenting is less intrusive than formatting.
As we already have the action, it's a value add to also offer it on multiple files.
Marking as fixed &gt; 3.4M2

There is a correct indentation clean up. Clean up can be executed on any set of java elements. Adding a correct indentation action to java elements would now be trivial (by extending CleanUpAction) but I don't think it is necessary. What you think?
(In reply to comment #5)
&gt; Adding a correct indentation action to java elements would now
&gt; be trivial (by extending CleanUpAction) but I don't think it is necessary. 
&gt; What you think?

having this available in the clean-up wizard is great news :)

if I get a vote then +1 for the additional correct indentation action, on the basis of convenience and ui consistency. It would be nice to be able to select some projects and hit ctrl-I, analogously to how organize imports can be used.</WithOutStack>
  </Bug>
  <Bug>
    <BugId amount="133806" />
    <CreationDate amount="2006-03-29 05:26:00 -0500" />
    <DupId amount="" />
    <classification amount="DataTools" />
    <Product amount="Data Tools" />
    <component amount="Open Data Access" />
    <Version amount="0.7" />
    <rep_platform amount="PC" />
    <op_sys amount="Windows 2000" />
    <priority amount="P2" />
    <bug_severity amount="enhancement" />
    <Summery>Provides default implementation of the ODA Data Source Wizard and Property Page classes</Summery>
    <Patches amount="0" />
    <Stacktraces amount="0" />
    <SourceCodeRegions amount="0" />
    <Enumerations amount="1">
      <Enumeration lines="4">
        <Lines>
          <Line>- supports grouped display of properties</Line>
          <Line>- property editor now handles properties defined in an existing data source design  instance</Line>
          <Line>- added scrollbar to display properties off the page</Line>
          <Line>- added visual hint and validation of Required properties</Line>
        </Lines>
      </Enumeration>
    </Enumerations>
    <bug_status amount="CLOSED" />
    <resolution amount="FIXED" />
    <WithStack>An ODA design ui extension, which implements the connection profile and oda.design.ui.dataSource extension points, has to provide concrete class implementation of the connection profile wizard page and property page.

This enhancement is for the ODA framework to provide default implementation of the ODA abstract base classes for the data source connection profile's ui pages.
The default implementation provides a generic properties ui page to allow an user to specify values for the data source connection properties defined by an ODA extension in its dataSource.properties element of the 
org.eclipse.datatools.connectivity.oda.dataSource extension point.

An ODA design ui extension can then simply use or extend from these default implementation classes.
Contributed default oda.design.ui implementation classes:
DefaultDataSourceWizardPage and DefaultDataSourcePropertyPage 
in package org.eclipse.datatools.connectivity.oda.design.ui.pages.impl

Committed initial contribution in the org.eclipse.datatools.connectivity.oda.design.ui.pages.impl package.
Enhanced the default implementation of the ODA data source wizard page and property page:
- supports grouped display of properties
- property editor now handles properties defined in an existing data source design  instance
- added scrollbar to display properties off the page
- added visual hint and validation of Required properties 

Contribution by Derek Lai.
Closed.</WithStack>
    <WithOutStack>An ODA design ui extension, which implements the connection profile and oda.design.ui.dataSource extension points, has to provide concrete class implementation of the connection profile wizard page and property page.

This enhancement is for the ODA framework to provide default implementation of the ODA abstract base classes for the data source connection profile's ui pages.
The default implementation provides a generic properties ui page to allow an user to specify values for the data source connection properties defined by an ODA extension in its dataSource.properties element of the 
org.eclipse.datatools.connectivity.oda.dataSource extension point.

An ODA design ui extension can then simply use or extend from these default implementation classes.
Contributed default oda.design.ui implementation classes:
DefaultDataSourceWizardPage and DefaultDataSourcePropertyPage 
in package org.eclipse.datatools.connectivity.oda.design.ui.pages.impl

Committed initial contribution in the org.eclipse.datatools.connectivity.oda.design.ui.pages.impl package.
Enhanced the default implementation of the ODA data source wizard page and property page:
- supports grouped display of properties
- property editor now handles properties defined in an existing data source design  instance
- added scrollbar to display properties off the page
- added visual hint and validation of Required properties 

Contribution by Derek Lai.
Closed.</WithOutStack>
  </Bug>
  <Bug>
    <BugId amount="133807" />
    <CreationDate amount="2006-03-29 05:34:00 -0500" />
    <DupId amount="" />
    <classification amount="Eclipse" />
    <Product amount="JDT" />
    <component amount="UI" />
    <Version amount="3.2" />
    <rep_platform amount="PC" />
    <op_sys amount="All" />
    <priority amount="P3" />
    <bug_severity amount="normal" />
    <Summery>[refactoring] Rename Extract Supertype to Extract Superclass</Summery>
    <Patches amount="0" />
    <Stacktraces amount="0" />
    <SourceCodeRegions amount="0" />
    <Enumerations amount="0" />
    <bug_status amount="VERIFIED" />
    <resolution amount="FIXED" />
    <WithStack>The name should more accurately reflect the refactoring's capabilities.
Fixed in HEAD &gt; 20060329
verified in 20060330-0010</WithStack>
    <WithOutStack>The name should more accurately reflect the refactoring's capabilities.
Fixed in HEAD &gt; 20060329
verified in 20060330-0010</WithOutStack>
  </Bug>
  <Bug>
    <BugId amount="133808" />
    <CreationDate amount="2006-03-29 05:35:00 -0500" />
    <DupId amount="" />
    <classification amount="WebTools" />
    <Product amount="WTP ServerTools" />
    <component amount="wst.server" />
    <Version amount="1.0.1" />
    <rep_platform amount="PC" />
    <op_sys amount="Windows 2000" />
    <priority amount="P3" />
    <bug_severity amount="normal" />
    <Summery>Cannot add weblogic 8.1 server</Summery>
    <Patches amount="0" />
    <Stacktraces amount="1">
      <Stacktrace timestamp="1437330688151">
        <Exception>java.lang.NullPointerException</Exception>
        <Reason />
        <Frames>
          <Frame depth="0">org.eclipse.jst.server.generic.ui.internal.GenericServerRuntimeWizardFragment.exit(GenericServerRuntimeWizardFragment.java:107)</Frame>
          <Frame depth="1">org.eclipse.wst.server.ui.internal.wizard.TaskWizard.switchWizardFragment(TaskWizard.java:274)</Frame>
          <Frame depth="2">org.eclipse.wst.server.ui.internal.wizard.TaskWizardPage.setVisible(TaskWizardPage.java:92)</Frame>
          <Frame depth="3">org.eclipse.jface.wizard.WizardDialog.updateForPage(WizardDialog.java:1030)</Frame>
          <Frame depth="4">org.eclipse.jface.wizard.WizardDialog.access$2(WizardDialog.java:1013)</Frame>
          <Frame depth="5">org.eclipse.jface.wizard.WizardDialog$4.run(WizardDialog.java:1003)</Frame>
          <Frame depth="6">org.eclipse.swt.custom.BusyIndicator.showWhile(BusyIndicator.java:69)</Frame>
          <Frame depth="7">org.eclipse.jface.wizard.WizardDialog.showPage(WizardDialog.java:1001)</Frame>
          <Frame depth="8">org.eclipse.jface.wizard.WizardDialog.nextPressed(WizardDialog.java:753)</Frame>
          <Frame depth="9">org.eclipse.jface.wizard.WizardDialog.buttonPressed(WizardDialog.java:345)</Frame>
          <Frame depth="10">org.eclipse.jface.dialogs.Dialog$2.widgetSelected(Dialog.java:556)</Frame>
          <Frame depth="11">org.eclipse.swt.widgets.TypedListener.handleEvent(TypedListener.java:90)</Frame>
          <Frame depth="12">org.eclipse.swt.widgets.EventTable.sendEvent(EventTable.java:66)</Frame>
          <Frame depth="13">org.eclipse.swt.widgets.Widget.sendEvent(Widget.java:843)</Frame>
          <Frame depth="14">org.eclipse.swt.widgets.Display.runDeferredEvents(Display.java:3125)</Frame>
          <Frame depth="15">org.eclipse.swt.widgets.Display.readAndDispatch(Display.java:2758)</Frame>
          <Frame depth="16">org.eclipse.jface.window.Window.runEventLoop(Window.java:809)</Frame>
          <Frame depth="17">org.eclipse.jface.window.Window.open(Window.java:787)</Frame>
          <Frame depth="18">org.eclipse.wst.server.ui.internal.actions.LaunchWizardAction.run(LaunchWizardAction.java:57)</Frame>
          <Frame depth="19">org.eclipse.jface.action.Action.runWithEvent(Action.java:996)</Frame>
          <Frame depth="20">org.eclipse.jface.action.ActionContributionItem.handleWidgetSelection(ActionContributionItem.java:538)</Frame>
          <Frame depth="21">org.eclipse.jface.action.ActionContributionItem.access$2(ActionContributionItem.java:488)</Frame>
          <Frame depth="22">org.eclipse.jface.action.ActionContributionItem$5.handleEvent(ActionContributionItem.java:400)</Frame>
          <Frame depth="23">org.eclipse.swt.widgets.EventTable.sendEvent(EventTable.java:66)</Frame>
          <Frame depth="24">org.eclipse.swt.widgets.Widget.sendEvent(Widget.java:843)</Frame>
          <Frame depth="25">org.eclipse.swt.widgets.Display.runDeferredEvents(Display.java:3125)</Frame>
          <Frame depth="26">org.eclipse.swt.widgets.Display.readAndDispatch(Display.java:2758)</Frame>
          <Frame depth="27">org.eclipse.ui.internal.Workbench.runEventLoop(Workbench.java:1699)</Frame>
          <Frame depth="28">org.eclipse.ui.internal.Workbench.runUI(Workbench.java:1663)</Frame>
          <Frame depth="29">org.eclipse.ui.internal.Workbench.createAndRunWorkbench(Workbench.java:367)</Frame>
          <Frame depth="30">org.eclipse.ui.PlatformUI.createAndRunWorkbench(PlatformUI.java:143)</Frame>
          <Frame depth="31">org.eclipse.ui.internal.ide.IDEApplication.run(IDEApplication.java:103)</Frame>
          <Frame depth="32">org.eclipse.core.internal.runtime.PlatformActivator$1.run(PlatformActivator.java:226)</Frame>
          <Frame depth="33">org.eclipse.core.runtime.adaptor.EclipseStarter.run(EclipseStarter.java:376)</Frame>
          <Frame depth="34">org.eclipse.core.runtime.adaptor.EclipseStarter.run(EclipseStarter.java:163)</Frame>
          <Frame depth="35">sun.reflect.NativeMethodAccessorImpl.invoke0(Native Method)</Frame>
          <Frame depth="36">sun.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:39)</Frame>
          <Frame depth="37">sun.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:25)</Frame>
          <Frame depth="38">java.lang.reflect.Method.invoke(Method.java:324)</Frame>
          <Frame depth="39">org.eclipse.core.launcher.Main.invokeFramework(Main.java:334)</Frame>
          <Frame depth="40">org.eclipse.core.launcher.Main.basicRun(Main.java:278)</Frame>
          <Frame depth="41">org.eclipse.core.launcher.Main.run(Main.java:973)</Frame>
          <Frame depth="42">org.eclipse.core.launcher.Main.main(Main.java:948)</Frame>
        </Frames>
      </Stacktrace>
    </Stacktraces>
    <SourceCodeRegions amount="0" />
    <Enumerations amount="0" />
    <bug_status amount="CLOSED" />
    <resolution amount="WORKSFORME" />
    <WithStack>I just downloaded and installed the latest WebTools version (R-1.0.1-200602171228). I downloaded the All-in-one package: Eclipse 3.1.2 with sdk, emf, gef and jem suitable versions. My jdk version is 1.4.2_10. 

I'm trying to create a Weblogic 8.1 server defitinion, but when I click 'next' button, nothing happens. All I get from the log file is:

!ENTRY org.eclipse.ui 4 0 2006-03-29 12:04:42.937
!MESSAGE java.lang.NullPointerException
!STACK 0
java.lang.NullPointerException
	at org.eclipse.jst.server.generic.ui.internal.GenericServerRuntimeWizardFragment.exit(GenericServerRuntimeWizardFragment.java:107)
	at org.eclipse.wst.server.ui.internal.wizard.TaskWizard.switchWizardFragment(TaskWizard.java:274)
	at org.eclipse.wst.server.ui.internal.wizard.TaskWizardPage.setVisible(TaskWizardPage.java:92)
	at org.eclipse.jface.wizard.WizardDialog.updateForPage(WizardDialog.java:1030)
	at org.eclipse.jface.wizard.WizardDialog.access$2(WizardDialog.java:1013)
	at org.eclipse.jface.wizard.WizardDialog$4.run(WizardDialog.java:1003)
	at org.eclipse.swt.custom.BusyIndicator.showWhile(BusyIndicator.java:69)
	at org.eclipse.jface.wizard.WizardDialog.showPage(WizardDialog.java:1001)
	at org.eclipse.jface.wizard.WizardDialog.nextPressed(WizardDialog.java:753)
	at org.eclipse.jface.wizard.WizardDialog.buttonPressed(WizardDialog.java:345)
	at org.eclipse.jface.dialogs.Dialog$2.widgetSelected(Dialog.java:556)
	at org.eclipse.swt.widgets.TypedListener.handleEvent(TypedListener.java:90)
	at org.eclipse.swt.widgets.EventTable.sendEvent(EventTable.java:66)
	at org.eclipse.swt.widgets.Widget.sendEvent(Widget.java:843)
	at org.eclipse.swt.widgets.Display.runDeferredEvents(Display.java:3125)
	at org.eclipse.swt.widgets.Display.readAndDispatch(Display.java:2758)
	at org.eclipse.jface.window.Window.runEventLoop(Window.java:809)
	at org.eclipse.jface.window.Window.open(Window.java:787)
	at org.eclipse.wst.server.ui.internal.actions.LaunchWizardAction.run(LaunchWizardAction.java:57)
	at org.eclipse.jface.action.Action.runWithEvent(Action.java:996)
	at org.eclipse.jface.action.ActionContributionItem.handleWidgetSelection(ActionContributionItem.java:538)
	at org.eclipse.jface.action.ActionContributionItem.access$2(ActionContributionItem.java:488)
	at org.eclipse.jface.action.ActionContributionItem$5.handleEvent(ActionContributionItem.java:400)
	at org.eclipse.swt.widgets.EventTable.sendEvent(EventTable.java:66)
	at org.eclipse.swt.widgets.Widget.sendEvent(Widget.java:843)
	at org.eclipse.swt.widgets.Display.runDeferredEvents(Display.java:3125)
	at org.eclipse.swt.widgets.Display.readAndDispatch(Display.java:2758)
	at org.eclipse.ui.internal.Workbench.runEventLoop(Workbench.java:1699)
	at org.eclipse.ui.internal.Workbench.runUI(Workbench.java:1663)
	at org.eclipse.ui.internal.Workbench.createAndRunWorkbench(Workbench.java:367)
	at org.eclipse.ui.PlatformUI.createAndRunWorkbench(PlatformUI.java:143)
	at org.eclipse.ui.internal.ide.IDEApplication.run(IDEApplication.java:103)
	at org.eclipse.core.internal.runtime.PlatformActivator$1.run(PlatformActivator.java:226)
	at org.eclipse.core.runtime.adaptor.EclipseStarter.run(EclipseStarter.java:376)
	at org.eclipse.core.runtime.adaptor.EclipseStarter.run(EclipseStarter.java:163)
	at sun.reflect.NativeMethodAccessorImpl.invoke0(Native Method)
	at sun.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:39)
	at sun.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:25)
	at java.lang.reflect.Method.invoke(Method.java:324)
	at org.eclipse.core.launcher.Main.invokeFramework(Main.java:334)
	at org.eclipse.core.launcher.Main.basicRun(Main.java:278)
	at org.eclipse.core.launcher.Main.run(Main.java:973)
	at org.eclipse.core.launcher.Main.main(Main.java:948)


I think this problem is very similar to the one on 127879 Bug, but the solution he gives -change from jdk 1.4.1 to jdk 1.4.2- doesn't work for me as I already have a jdk 1.4.2 version.
I cannot reproduce this with the 1.5 build.
Closing old bugs.</WithStack>
    <WithOutStack>I just downloaded and installed the latest WebTools version (R-1.0.1-200602171228). I downloaded the All-in-one package: Eclipse 3.1.2 with sdk, emf, gef and jem suitable versions. My jdk version is 1.4.2_10. 

I'm trying to create a Weblogic 8.1 server defitinion, but when I click 'next' button, nothing happens. All I get from the log file is:

!ENTRY org.eclipse.ui 4 0 2006-03-29 12:04:42.937
!MESSAGE java.lang.NullPointerException
!STACK 0



I think this problem is very similar to the one on 127879 Bug, but the solution he gives -change from jdk 1.4.1 to jdk 1.4.2- doesn't work for me as I already have a jdk 1.4.2 version.
I cannot reproduce this with the 1.5 build.
Closing old bugs.</WithOutStack>
  </Bug>
  <Bug>
    <BugId amount="133809" />
    <CreationDate amount="2006-03-29 05:45:00 -0500" />
    <DupId amount="" />
    <classification amount="DataTools" />
    <Product amount="Data Tools" />
    <component amount="Open Data Access" />
    <Version amount="0.7" />
    <rep_platform amount="PC" />
    <op_sys amount="Windows 2000" />
    <priority amount="P3" />
    <bug_severity amount="normal" />
    <Summery>Handling of Default Attribute Values in ODA Extension Manifest</Summery>
    <Patches amount="0" />
    <Stacktraces amount="0" />
    <SourceCodeRegions amount="0" />
    <Enumerations amount="0" />
    <bug_status amount="CLOSED" />
    <resolution amount="FIXED" />
    <WithStack>An ODA extension that implements the oda.dataSource extension point may not specify any value for a use-default type attribute in its extension manifest.
This includes attributes like
dataSource.setThreadContextClassLoader and property.type

The oda.util.manifest utility component should be able to handle such cases, and assigns corresponding default value when no value is specified.
Resolved.
Resolved.
Closed.</WithStack>
    <WithOutStack>An ODA extension that implements the oda.dataSource extension point may not specify any value for a use-default type attribute in its extension manifest.
This includes attributes like
dataSource.setThreadContextClassLoader and property.type

The oda.util.manifest utility component should be able to handle such cases, and assigns corresponding default value when no value is specified.
Resolved.
Resolved.
Closed.</WithOutStack>
  </Bug>
  <Bug>
    <BugId amount="133810" />
    <CreationDate amount="2006-03-29 05:59:00 -0500" />
    <DupId amount="" />
    <classification amount="Eclipse" />
    <Product amount="JDT" />
    <component amount="UI" />
    <Version amount="3.2" />
    <rep_platform amount="PC" />
    <op_sys amount="Windows XP" />
    <priority amount="P3" />
    <bug_severity amount="normal" />
    <Summery>[nls tooling] Find Broken NLS Keys action only works on saved properties files</Summery>
    <Patches amount="0" />
    <Stacktraces amount="0" />
    <SourceCodeRegions amount="0" />
    <Enumerations amount="0" />
    <bug_status amount="RESOLVED" />
    <resolution amount="FIXED" />
    <WithStack>I20060329-0010.

Borken stuff in dirty Java files is correctly detect through Java search but for properties files the last saved state is used.
All accesses to the content of the properties file should go through the text file buffer (FileBuffers...)
Created attachment 47318
fix
fixed &gt; I20060801-0900</WithStack>
    <WithOutStack>I20060329-0010.

Borken stuff in dirty Java files is correctly detect through Java search but for properties files the last saved state is used.
All accesses to the content of the properties file should go through the text file buffer (FileBuffers...)
Created attachment 47318
fix
fixed &gt; I20060801-0900</WithOutStack>
  </Bug>
  <Bug>
    <BugId amount="133811" />
    <CreationDate amount="2006-03-29 06:08:00 -0500" />
    <DupId amount="" />
    <classification amount="Tools" />
    <Product amount="CDT" />
    <component amount="cdt-build-managed" />
    <Version amount="3.1" />
    <rep_platform amount="PC" />
    <op_sys amount="All" />
    <priority amount="P3" />
    <bug_severity amount="enhancement" />
    <Summery>Two tools with same inputType</Summery>
    <Patches amount="0" />
    <Stacktraces amount="0" />
    <SourceCodeRegions amount="0" />
    <Enumerations amount="0" />
    <bug_status amount="ASSIGNED" />
    <resolution amount="" />
    <WithStack>It's not possible to have two tools in the same toolChain which have the same imputType. Only the first tool is outputted.
You may need this feature when the same inputType is used to generate build artifacts and dependency files.</WithStack>
    <WithOutStack>It's not possible to have two tools in the same toolChain which have the same imputType. Only the first tool is outputted.
You may need this feature when the same inputType is used to generate build artifacts and dependency files.</WithOutStack>
  </Bug>
  <Bug>
    <BugId amount="133812" />
    <CreationDate amount="2006-03-29 06:31:00 -0500" />
    <DupId amount="" />
    <classification amount="Eclipse" />
    <Product amount="PDE" />
    <component amount="Build" />
    <Version amount="3.2" />
    <rep_platform amount="PC" />
    <op_sys amount="Linux" />
    <priority amount="P3" />
    <bug_severity amount="normal" />
    <Summery>ant -f productBuild.xml does not create launcher.ini</Summery>
    <Patches amount="0" />
    <Stacktraces amount="0" />
    <SourceCodeRegions amount="0" />
    <Enumerations amount="0" />
    <bug_status amount="RESOLVED" />
    <resolution amount="WORKSFORME" />
    <WithStack>We are using the PDE ant build script, scripts/productBuild/productBuild.xml, in order to provide automated builds of an RCP application that we are developing.  We are using Eclipse 3.2M5a for the automated builds.

The .product file that we reference in the build.properties file includes some items in the &lt;launcherArgs&gt;, and these result (correctly) in the creation of a &lt;launcher name&gt;.ini file if you export the application from within Eclipse using the Eclipse product export wizard.  Using the ant productBuild.xml file, however, these entries are ignored.  It would be useful if this could be updated to include support for launcherArgs.
The generation of the config.ini has been introduced post M5. For example if you pick today's I build you will have this function.</WithStack>
    <WithOutStack>We are using the PDE ant build script, scripts/productBuild/productBuild.xml, in order to provide automated builds of an RCP application that we are developing.  We are using Eclipse 3.2M5a for the automated builds.

The .product file that we reference in the build.properties file includes some items in the &lt;launcherArgs&gt;, and these result (correctly) in the creation of a &lt;launcher name&gt;.ini file if you export the application from within Eclipse using the Eclipse product export wizard.  Using the ant productBuild.xml file, however, these entries are ignored.  It would be useful if this could be updated to include support for launcherArgs.
The generation of the config.ini has been introduced post M5. For example if you pick today's I build you will have this function.</WithOutStack>
  </Bug>
  <Bug>
    <BugId amount="133813" />
    <CreationDate amount="2006-03-29 06:33:00 -0500" />
    <DupId amount="133136" />
    <classification amount="DataTools" />
    <Product amount="Data Tools" />
    <component amount="Apache Derby Conn Profile" />
    <Version amount="unspecified" />
    <rep_platform amount="PC" />
    <op_sys amount="All" />
    <priority amount="P3" />
    <bug_severity amount="blocker" />
    <Summery>BiDi3.2: Connection Profile import failure</Summery>
    <Patches amount="0" />
    <Stacktraces amount="0" />
    <SourceCodeRegions amount="0" />
    <Enumerations amount="3">
      <Enumeration lines="2">
        <Lines>
          <Line>1. SLES 9.0 with IES I20060322 build installed.</Line>
          <Line>2. Windows 2000 with IES M5 build installed.</Line>
        </Lines>
      </Enumeration>
      <Enumeration lines="7">
        <Lines>
          <Line>1. Open the "Data Source Explorer" view.</Line>
          <Line>2. Create a new Connectio Profile. (From DSE, right-click "Databases" -&gt; "New" -&gt; "Derby Embeded Database")</Line>
          <Line>3. Continue with the wizard till the connection profile is successfully created.</Line>
          <Line>4. Click the "Export" button.</Line>
          <Line>5. Select the connection profile created in steps 2-3, enter a file path and check "Encrypt file content" checkbox then click "OK".</Line>
          <Line>6. Click the "Import" button and browse for the file created in step #5.</Line>
          <Line>7. Check the "Overwrite existing connection profiles with same names" and click "OK".</Line>
        </Lines>
      </Enumeration>
      <Enumeration lines="3">
        <Lines>
          <Line>1. Import operation was carried out successfully when the file is not encrypted.</Line>
          <Line>2. Refer to the attached file "Error Details.txt" to see the details shown in the empty error message.</Line>
          <Line>3. This is not a BiDi specific defect; However, it blocks BiDi testing activities.</Line>
        </Lines>
      </Enumeration>
    </Enumerations>
    <bug_status amount="CLOSED" />
    <resolution amount="DUPLICATE" />
    <WithStack>Environment: 
1. SLES 9.0 with IES I20060322 build installed.
2. Windows 2000 with IES M5 build installed.

Scenario:
1. Open the "Data Source Explorer" view.
2. Create a new Connectio Profile. (From DSE, right-click "Databases" -&gt; "New" -&gt; "Derby Embeded Database")
3. Continue with the wizard till the connection profile is successfully created.
4. Click the "Export" button.
5. Select the connection profile created in steps 2-3, enter a file path and check "Encrypt file content" checkbox then click "OK".
6. Click the "Import" button and browse for the file created in step #5.
7. Check the "Overwrite existing connection profiles with same names" and click "OK".

Expected result:
Both the import and export operations are carried out successfully.

Actual result:
The import operation fails with an empty error message displayed and no error log generated!

Remarks:
1. Import operation was carried out successfully when the file is not encrypted.
2. Refer to the attached file "Error Details.txt" to see the details shown in the empty error message.
3. This is not a BiDi specific defect; However, it blocks BiDi testing activities.


*** This bug has been marked as a duplicate of 133136 ***
linked bug has been verified as fixed.</WithStack>
    <WithOutStack>Environment: 
1. SLES 9.0 with IES I20060322 build installed.
2. Windows 2000 with IES M5 build installed.

Scenario:
1. Open the "Data Source Explorer" view.
2. Create a new Connectio Profile. (From DSE, right-click "Databases" -&gt; "New" -&gt; "Derby Embeded Database")
3. Continue with the wizard till the connection profile is successfully created.
4. Click the "Export" button.
5. Select the connection profile created in steps 2-3, enter a file path and check "Encrypt file content" checkbox then click "OK".
6. Click the "Import" button and browse for the file created in step #5.
7. Check the "Overwrite existing connection profiles with same names" and click "OK".

Expected result:
Both the import and export operations are carried out successfully.

Actual result:
The import operation fails with an empty error message displayed and no error log generated!

Remarks:
1. Import operation was carried out successfully when the file is not encrypted.
2. Refer to the attached file "Error Details.txt" to see the details shown in the empty error message.
3. This is not a BiDi specific defect; However, it blocks BiDi testing activities.


*** This bug has been marked as a duplicate of 133136 ***
linked bug has been verified as fixed.</WithOutStack>
  </Bug>
  <Bug>
    <BugId amount="133814" />
    <CreationDate amount="2006-03-29 06:49:00 -0500" />
    <DupId amount="" />
    <classification amount="Eclipse Foundation" />
    <Product amount="z_Archived" />
    <component amount="Misc" />
    <Version amount="unspecified" />
    <rep_platform amount="PC" />
    <op_sys amount="Windows XP" />
    <priority amount="P3" />
    <bug_severity amount="normal" />
    <Summery>Show in package in Explorar giving error message.</Summery>
    <Patches amount="0" />
    <Stacktraces amount="0" />
    <SourceCodeRegions amount="0" />
    <Enumerations amount="0" />
    <bug_status amount="CLOSED" />
    <resolution amount="INVALID" />
    <WithStack>In a file on the class defination line when i right click and select Show in package explorar it gives the following message.

"Cannot reveal the selected element.Do you want to remove some filters to reveal the statement?".

i am using Eclipse 3.2 M5 version.
I don't see how this bug is related to apps.eclipse.org - the application servers running J2EE applications on eclipse.org.

Please ask your questions in the newsgroup and provide more details about your environment there (eg. which plug-ins installed, steps you performed in which view, etc.)
closing
Moving these bugs to archived status.</WithStack>
    <WithOutStack>In a file on the class defination line when i right click and select Show in package explorar it gives the following message.

"Cannot reveal the selected element.Do you want to remove some filters to reveal the statement?".

i am using Eclipse 3.2 M5 version.
I don't see how this bug is related to apps.eclipse.org - the application servers running J2EE applications on eclipse.org.

Please ask your questions in the newsgroup and provide more details about your environment there (eg. which plug-ins installed, steps you performed in which view, etc.)
closing
Moving these bugs to archived status.</WithOutStack>
  </Bug>
  <Bug>
    <BugId amount="133815" />
    <CreationDate amount="2006-03-29 07:02:00 -0500" />
    <DupId amount="" />
    <classification amount="Eclipse" />
    <Product amount="Platform" />
    <component amount="Debug" />
    <Version amount="3.1.2" />
    <rep_platform amount="Sun" />
    <op_sys amount="Solaris" />
    <priority amount="P3" />
    <bug_severity amount="normal" />
    <Summery>Environment variables not known in Eclipse.</Summery>
    <Patches amount="0" />
    <Stacktraces amount="0" />
    <SourceCodeRegions amount="0" />
    <Enumerations amount="0" />
    <bug_status amount="RESOLVED" />
    <resolution amount="WORKSFORME" />
    <WithStack>Overview Description: My environment variables are not known in Eclipse. The variables are declared system wide (in my .login file) so they are known in the environment from which Eclipse is started. However if I go to (in Eclipse); run -&gt; run environment -&gt; select, no variables show. It does not depend on the view.

Steps to Reproduce:
Run Eclipse on Solaris 8 and go to; run -&gt; run environment -&gt; select, and check if the variables are displayed.

Actual Results:
No variables are displayed.

Expected Results:
All the environment variables defined in the environment from which Eclipse was started should be displayed.

Build Date &amp; Platform: Date and platform of the build that you first encountered the bug in.

Version 3.1.2 Build id M20060118-1600 on Solaris 8 SunOS Release 5.8 Generic_117350-18

Additional Builds and Platforms: The problem does not occur on Windows XP SP2.
*** Bug 133816 has been marked as a duplicate of this bug. ***
How are you launching Eclipse? What windowing system are you using?
Eclipsed doesn't do anything special to set its environment, it just accepts the environment that it was launched in.
I launch eclipse by calling the the executable in a terminal ( /somedirs/eclipse/eclipse &amp; ).
The windowing system in use is CDE. I use tshell, but using another shell doesn't resolve the problem.
If I do a printenv in the terminal from which I launch eclipse I do see all me environment variables.
Apparently it does work for some colleagues, for some others it does not. I still have to find the reason (user account, machine, etc).
I will post the solution as soon as I have it.
Adding:
set path = ( $path /usr/ucb )
to my .login file fixes the problem for me. I don't (yet) understand why though.
Apparently Eclipse uses /usr/ucb/printenv to obtain the environment. Maybe /usr/bin/env would have been better.
Eclipse just executes "printenv", so whichever version is on your path first will be found.</WithStack>
    <WithOutStack>Overview Description: My environment variables are not known in Eclipse. The variables are declared system wide (in my .login file) so they are known in the environment from which Eclipse is started. However if I go to (in Eclipse); run -&gt; run environment -&gt; select, no variables show. It does not depend on the view.

Steps to Reproduce:
Run Eclipse on Solaris 8 and go to; run -&gt; run environment -&gt; select, and check if the variables are displayed.

Actual Results:
No variables are displayed.

Expected Results:
All the environment variables defined in the environment from which Eclipse was started should be displayed.

Build Date &amp; Platform: Date and platform of the build that you first encountered the bug in.

Version 3.1.2 Build id M20060118-1600 on Solaris 8 SunOS Release 5.8 Generic_117350-18

Additional Builds and Platforms: The problem does not occur on Windows XP SP2.
*** Bug 133816 has been marked as a duplicate of this bug. ***
How are you launching Eclipse? What windowing system are you using?
Eclipsed doesn't do anything special to set its environment, it just accepts the environment that it was launched in.
I launch eclipse by calling the the executable in a terminal ( /somedirs/eclipse/eclipse &amp; ).
The windowing system in use is CDE. I use tshell, but using another shell doesn't resolve the problem.
If I do a printenv in the terminal from which I launch eclipse I do see all me environment variables.
Apparently it does work for some colleagues, for some others it does not. I still have to find the reason (user account, machine, etc).
I will post the solution as soon as I have it.
Adding:
set path = ( $path /usr/ucb )
to my .login file fixes the problem for me. I don't (yet) understand why though.
Apparently Eclipse uses /usr/ucb/printenv to obtain the environment. Maybe /usr/bin/env would have been better.
Eclipse just executes "printenv", so whichever version is on your path first will be found.</WithOutStack>
  </Bug>
  <Bug>
    <BugId amount="133816" />
    <CreationDate amount="2006-03-29 07:02:00 -0500" />
    <DupId amount="133815" />
    <classification amount="Eclipse" />
    <Product amount="Platform" />
    <component amount="Runtime" />
    <Version amount="3.1.2" />
    <rep_platform amount="Sun" />
    <op_sys amount="Solaris" />
    <priority amount="P3" />
    <bug_severity amount="normal" />
    <Summery>Environment variables not known in Eclipse.</Summery>
    <Patches amount="0" />
    <Stacktraces amount="0" />
    <SourceCodeRegions amount="0" />
    <Enumerations amount="0" />
    <bug_status amount="RESOLVED" />
    <resolution amount="DUPLICATE" />
    <WithStack>Overview Description: My environment variables are not known in Eclipse. The variables are declared system wide (in my .login file) so they are known in the environment from which Eclipse is started. However if I go to (in Eclipse); run -&gt; run environment -&gt; select, no variables show. It does not depend on the view.

Steps to Reproduce:
Run Eclipse on Solaris 8 and go to; run -&gt; run environment -&gt; select, and check if the variables are displayed.

Actual Results:
No variables are displayed.

Expected Results:
All the environment variables defined in the environment from which Eclipse was started should be displayed.

Build Date &amp; Platform: Date and platform of the build that you first encountered the bug in.

Version 3.1.2 Build id M20060118-1600 on Solaris 8 SunOS Release 5.8 Generic_117350-18

Additional Builds and Platforms: The problem does not occur on Windows XP SP2.


*** This bug has been marked as a duplicate of 133815 ***</WithStack>
    <WithOutStack>Overview Description: My environment variables are not known in Eclipse. The variables are declared system wide (in my .login file) so they are known in the environment from which Eclipse is started. However if I go to (in Eclipse); run -&gt; run environment -&gt; select, no variables show. It does not depend on the view.

Steps to Reproduce:
Run Eclipse on Solaris 8 and go to; run -&gt; run environment -&gt; select, and check if the variables are displayed.

Actual Results:
No variables are displayed.

Expected Results:
All the environment variables defined in the environment from which Eclipse was started should be displayed.

Build Date &amp; Platform: Date and platform of the build that you first encountered the bug in.

Version 3.1.2 Build id M20060118-1600 on Solaris 8 SunOS Release 5.8 Generic_117350-18

Additional Builds and Platforms: The problem does not occur on Windows XP SP2.


*** This bug has been marked as a duplicate of 133815 ***</WithOutStack>
  </Bug>
  <Bug>
    <BugId amount="133817" />
    <CreationDate amount="2006-03-29 07:31:00 -0500" />
    <DupId amount="133348" />
    <classification amount="Eclipse" />
    <Product amount="JDT" />
    <component amount="Core" />
    <Version amount="3.2" />
    <rep_platform amount="PC" />
    <op_sys amount="Windows XP" />
    <priority amount="P3" />
    <bug_severity amount="normal" />
    <Summery>Content Assist blocks the UI thread when working a firewall</Summery>
    <Patches amount="0" />
    <Stacktraces amount="0" />
    <SourceCodeRegions amount="0" />
    <Enumerations amount="0" />
    <bug_status amount="RESOLVED" />
    <resolution amount="DUPLICATE" />
    <WithStack>Hi,

when upgrading from 3.2-M3 to 3.2M5 I discovered the following problem with content assist in java editors:

When typing sun.awt. and hitting ctrl-space the content assist window opens and shows its contents. But the UI thread is blocked for the next 10-30 seconds. When navigating through the list the UI gets blocked again on each item, that has no source code attachment.

This problem only occur when working behind a firewall. When I disconnect from the network the problem disappears. I assume that some network lookup is done when no source code is available in order to display the api doc tooltip.

The problem probably was introduced with 3.2M4 since a colleague of mine told me that he has the same problem with 3.2M4 (he is working for a different company but they have a firewall as well).


*** This bug has been marked as a duplicate of 133348 ***</WithStack>
    <WithOutStack>Hi,

when upgrading from 3.2-M3 to 3.2M5 I discovered the following problem with content assist in java editors:

When typing sun.awt. and hitting ctrl-space the content assist window opens and shows its contents. But the UI thread is blocked for the next 10-30 seconds. When navigating through the list the UI gets blocked again on each item, that has no source code attachment.

This problem only occur when working behind a firewall. When I disconnect from the network the problem disappears. I assume that some network lookup is done when no source code is available in order to display the api doc tooltip.

The problem probably was introduced with 3.2M4 since a colleague of mine told me that he has the same problem with 3.2M4 (he is working for a different company but they have a firewall as well).


*** This bug has been marked as a duplicate of 133348 ***</WithOutStack>
  </Bug>
  <Bug>
    <BugId amount="133818" />
    <CreationDate amount="2006-03-29 07:45:00 -0500" />
    <DupId amount="" />
    <classification amount="Eclipse" />
    <Product amount="JDT" />
    <component amount="UI" />
    <Version amount="3.2" />
    <rep_platform amount="All" />
    <op_sys amount="All" />
    <priority amount="P3" />
    <bug_severity amount="normal" />
    <Summery>NPE when creating a new JUnit test</Summery>
    <Patches amount="0" />
    <Stacktraces amount="2">
      <Stacktrace timestamp="1437330688166">
        <Exception>java.lang.reflect.InvocationTargetException</Exception>
        <Reason />
        <Frames>
          <Frame depth="0">org.eclipse.jface.operation.ModalContext.runInCurrentThread(ModalContext.java:371)</Frame>
          <Frame depth="1">org.eclipse.jface.operation.ModalContext.run(ModalContext.java:305)</Frame>
          <Frame depth="2">org.eclipse.jface.wizard.WizardDialog.run(WizardDialog.java:833)</Frame>
          <Frame depth="3">org.eclipse.ui.internal.progress.ProgressManager$5.run(ProgressManager.java:1094)</Frame>
          <Frame depth="4">org.eclipse.swt.custom.BusyIndicator.showWhile(BusyIndicator.java:69)</Frame>
          <Frame depth="5">org.eclipse.ui.internal.progress.ProgressManager.runInUI(ProgressManager.java:1090)</Frame>
          <Frame depth="6">org.eclipse.jdt.internal.junit.wizards.JUnitWizard.finishPage(JUnitWizard.java:66)</Frame>
          <Frame depth="7">org.eclipse.jdt.internal.junit.wizards.NewTestCaseCreationWizard.performFinish(NewTestCaseCreationWizard.java:56)</Frame>
          <Frame depth="8">org.eclipse.jface.wizard.WizardDialog.finishPressed(WizardDialog.java:666)</Frame>
          <Frame depth="9">org.eclipse.jface.wizard.WizardDialog.buttonPressed(WizardDialog.java:349)</Frame>
          <Frame depth="10">org.eclipse.jface.dialogs.Dialog$3.widgetSelected(Dialog.java:645)</Frame>
          <Frame depth="11">org.eclipse.swt.widgets.TypedListener.handleEvent(TypedListener.java:90)</Frame>
          <Frame depth="12">org.eclipse.swt.widgets.EventTable.sendEvent(EventTable.java:66)</Frame>
          <Frame depth="13">org.eclipse.swt.widgets.Widget.sendEvent(Widget.java:925)</Frame>
          <Frame depth="14">org.eclipse.swt.widgets.Display.runDeferredEvents(Display.java:3287)</Frame>
          <Frame depth="15">org.eclipse.swt.widgets.Display.readAndDispatch(Display.java:2907)</Frame>
          <Frame depth="16">org.eclipse.jface.window.Window.runEventLoop(Window.java:811)</Frame>
          <Frame depth="17">org.eclipse.jface.window.Window.open(Window.java:789)</Frame>
          <Frame depth="18">org.eclipse.ui.internal.actions.NewWizardShortcutAction.run(NewWizardShortcutAction.java:110)</Frame>
          <Frame depth="19">org.eclipse.jface.action.Action.runWithEvent(Action.java:492)</Frame>
          <Frame depth="20">org.eclipse.jface.action.ActionContributionItem.handleWidgetSelection(ActionContributionItem.java:530)</Frame>
          <Frame depth="21">org.eclipse.jface.action.ActionContributionItem.access$2(ActionContributionItem.java:480)</Frame>
          <Frame depth="22">org.eclipse.jface.action.ActionContributionItem$5.handleEvent(ActionContributionItem.java:392)</Frame>
          <Frame depth="23">org.eclipse.swt.widgets.EventTable.sendEvent(EventTable.java:66)</Frame>
          <Frame depth="24">org.eclipse.swt.widgets.Widget.sendEvent(Widget.java:925)</Frame>
          <Frame depth="25">org.eclipse.swt.widgets.Display.runDeferredEvents(Display.java:3287)</Frame>
          <Frame depth="26">org.eclipse.swt.widgets.Display.readAndDispatch(Display.java:2907)</Frame>
          <Frame depth="27">org.eclipse.ui.internal.Workbench.runEventLoop(Workbench.java:1899)</Frame>
          <Frame depth="28">org.eclipse.ui.internal.Workbench.runUI(Workbench.java:1863)</Frame>
          <Frame depth="29">org.eclipse.ui.internal.Workbench.createAndRunWorkbench(Workbench.java:417)</Frame>
          <Frame depth="30">org.eclipse.ui.PlatformUI.createAndRunWorkbench(PlatformUI.java:143)</Frame>
          <Frame depth="31">org.eclipse.ui.internal.ide.IDEApplication.run(IDEApplication.java:106)</Frame>
          <Frame depth="32">org.eclipse.core.internal.runtime.PlatformActivator$1.run(PlatformActivator.java:99)</Frame>
          <Frame depth="33">org.eclipse.core.runtime.internal.adaptor.EclipseAppLauncher.runApplication(EclipseAppLauncher.java:92)</Frame>
          <Frame depth="34">org.eclipse.core.runtime.internal.adaptor.EclipseAppLauncher.start(EclipseAppLauncher.java:68)</Frame>
          <Frame depth="35">org.eclipse.core.runtime.adaptor.EclipseStarter.run(EclipseStarter.java:374)</Frame>
          <Frame depth="36">org.eclipse.core.runtime.adaptor.EclipseStarter.run(EclipseStarter.java:169)</Frame>
          <Frame depth="37">sun.reflect.NativeMethodAccessorImpl.invoke0(Native Method)</Frame>
          <Frame depth="38">sun.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:39)</Frame>
          <Frame depth="39">sun.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:25)</Frame>
          <Frame depth="40">java.lang.reflect.Method.invoke(Method.java:324)</Frame>
          <Frame depth="41">org.eclipse.core.launcher.Main.invokeFramework(Main.java:338)</Frame>
          <Frame depth="42">org.eclipse.core.launcher.Main.basicRun(Main.java:282)</Frame>
          <Frame depth="43">org.eclipse.core.launcher.Main.run(Main.java:977)</Frame>
          <Frame depth="44">org.eclipse.core.launcher.Main.main(Main.java:952)</Frame>
        </Frames>
      </Stacktrace>
      <Cause timestamp="1437330688166">
        <Exception>java.lang.NullPointerException</Exception>
        <Reason />
        <Frames>
          <Frame depth="0">org.eclipse.jdt.ui.CodeGeneration.getMethodBodyContent(CodeGeneration.java:315)</Frame>
          <Frame depth="1">org.eclipse.jdt.junit.wizards.NewTestCaseWizardPageOne.appendTestMethodBody(NewTestCaseWizardPageOne.java:701)</Frame>
          <Frame depth="2">org.eclipse.jdt.junit.wizards.NewTestCaseWizardPageOne.createTestMethodStubs(NewTestCaseWizardPageOne.java:665)</Frame>
          <Frame depth="3">org.eclipse.jdt.junit.wizards.NewTestCaseWizardPageOne.createTypeMembers(NewTestCaseWizardPageOne.java:486)</Frame>
          <Frame depth="4">org.eclipse.jdt.ui.wizards.NewTypeWizardPage.createType(NewTypeWizardPage.java:2007)</Frame>
          <Frame depth="5">org.eclipse.jdt.ui.wizards.NewTypeWizardPage$7.run(NewTypeWizardPage.java:2479)</Frame>
          <Frame depth="6">org.eclipse.ui.actions.WorkspaceModifyDelegatingOperation.execute(WorkspaceModifyDelegatingOperation.java:68)</Frame>
          <Frame depth="7">org.eclipse.ui.actions.WorkspaceModifyOperation$1.run(WorkspaceModifyOperation.java:100)</Frame>
          <Frame depth="8">org.eclipse.core.internal.resources.Workspace.run(Workspace.java:1733)</Frame>
          <Frame depth="9">org.eclipse.ui.actions.WorkspaceModifyOperation.run(WorkspaceModifyOperation.java:112)</Frame>
          <Frame depth="10">org.eclipse.jface.operation.ModalContext.runInCurrentThread(ModalContext.java:360)</Frame>
        </Frames>
      </Cause>
    </Stacktraces>
    <SourceCodeRegions amount="0" />
    <Enumerations amount="1">
      <Enumeration lines="6">
        <Lines>
          <Line>1. right click a class and select 'New JUnit Test case'</Line>
          <Line>2. fill in first page</Line>
          <Line>3. Click next to go to second page</Line>
          <Line>4. Select Objects constructor Object.Object() (any of Object's methods would do)</Line>
          <Line>5. Check 'Create tasks for generated test methods'</Line>
          <Line>6. Click finish</Line>
        </Lines>
      </Enumeration>
    </Enumerations>
    <bug_status amount="VERIFIED" />
    <resolution amount="FIXED" />
    <WithStack>This bug happens on Windows XP and Mac OSX on 3.2M5a.  Steps to reproduce:

1. right click a class and select 'New JUnit Test case'
2. fill in first page
3. Click next to go to second page
4. Select Objects constructor Object.Object() (any of Object's methods would do)
5. Check 'Create tasks for generated test methods'
6. Click finish

The error below is generated, and an empty file is created for the new test which you need to delete before trying again.

Stack:

java.lang.reflect.InvocationTargetException
	at org.eclipse.jface.operation.ModalContext.runInCurrentThread(ModalContext.java:371)
	at org.eclipse.jface.operation.ModalContext.run(ModalContext.java:305)
	at org.eclipse.jface.wizard.WizardDialog.run(WizardDialog.java:833)
	at org.eclipse.ui.internal.progress.ProgressManager$5.run(ProgressManager.java:1094)
	at org.eclipse.swt.custom.BusyIndicator.showWhile(BusyIndicator.java:69)
	at org.eclipse.ui.internal.progress.ProgressManager.runInUI(ProgressManager.java:1090)
	at org.eclipse.jdt.internal.junit.wizards.JUnitWizard.finishPage(JUnitWizard.java:66)
	at org.eclipse.jdt.internal.junit.wizards.NewTestCaseCreationWizard.performFinish(NewTestCaseCreationWizard.java:56)
	at org.eclipse.jface.wizard.WizardDialog.finishPressed(WizardDialog.java:666)
	at org.eclipse.jface.wizard.WizardDialog.buttonPressed(WizardDialog.java:349)
	at org.eclipse.jface.dialogs.Dialog$3.widgetSelected(Dialog.java:645)
	at org.eclipse.swt.widgets.TypedListener.handleEvent(TypedListener.java:90)
	at org.eclipse.swt.widgets.EventTable.sendEvent(EventTable.java:66)
	at org.eclipse.swt.widgets.Widget.sendEvent(Widget.java:925)
	at org.eclipse.swt.widgets.Display.runDeferredEvents(Display.java:3287)
	at org.eclipse.swt.widgets.Display.readAndDispatch(Display.java:2907)
	at org.eclipse.jface.window.Window.runEventLoop(Window.java:811)
	at org.eclipse.jface.window.Window.open(Window.java:789)
	at org.eclipse.ui.internal.actions.NewWizardShortcutAction.run(NewWizardShortcutAction.java:110)
	at org.eclipse.jface.action.Action.runWithEvent(Action.java:492)
	at org.eclipse.jface.action.ActionContributionItem.handleWidgetSelection(ActionContributionItem.java:530)
	at org.eclipse.jface.action.ActionContributionItem.access$2(ActionContributionItem.java:480)
	at org.eclipse.jface.action.ActionContributionItem$5.handleEvent(ActionContributionItem.java:392)
	at org.eclipse.swt.widgets.EventTable.sendEvent(EventTable.java:66)
	at org.eclipse.swt.widgets.Widget.sendEvent(Widget.java:925)
	at org.eclipse.swt.widgets.Display.runDeferredEvents(Display.java:3287)
	at org.eclipse.swt.widgets.Display.readAndDispatch(Display.java:2907)
	at org.eclipse.ui.internal.Workbench.runEventLoop(Workbench.java:1899)
	at org.eclipse.ui.internal.Workbench.runUI(Workbench.java:1863)
	at org.eclipse.ui.internal.Workbench.createAndRunWorkbench(Workbench.java:417)
	at org.eclipse.ui.PlatformUI.createAndRunWorkbench(PlatformUI.java:143)
	at org.eclipse.ui.internal.ide.IDEApplication.run(IDEApplication.java:106)
	at org.eclipse.core.internal.runtime.PlatformActivator$1.run(PlatformActivator.java:99)
	at org.eclipse.core.runtime.internal.adaptor.EclipseAppLauncher.runApplication(EclipseAppLauncher.java:92)
	at org.eclipse.core.runtime.internal.adaptor.EclipseAppLauncher.start(EclipseAppLauncher.java:68)
	at org.eclipse.core.runtime.adaptor.EclipseStarter.run(EclipseStarter.java:374)
	at org.eclipse.core.runtime.adaptor.EclipseStarter.run(EclipseStarter.java:169)
	at sun.reflect.NativeMethodAccessorImpl.invoke0(Native Method)
	at sun.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:39)
	at sun.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:25)
	at java.lang.reflect.Method.invoke(Method.java:324)
	at org.eclipse.core.launcher.Main.invokeFramework(Main.java:338)
	at org.eclipse.core.launcher.Main.basicRun(Main.java:282)
	at org.eclipse.core.launcher.Main.run(Main.java:977)
	at org.eclipse.core.launcher.Main.main(Main.java:952)
Caused by: java.lang.NullPointerException
	at org.eclipse.jdt.ui.CodeGeneration.getMethodBodyContent(CodeGeneration.java:315)
	at org.eclipse.jdt.junit.wizards.NewTestCaseWizardPageOne.appendTestMethodBody(NewTestCaseWizardPageOne.java:701)
	at org.eclipse.jdt.junit.wizards.NewTestCaseWizardPageOne.createTestMethodStubs(NewTestCaseWizardPageOne.java:665)
	at org.eclipse.jdt.junit.wizards.NewTestCaseWizardPageOne.createTypeMembers(NewTestCaseWizardPageOne.java:486)
	at org.eclipse.jdt.ui.wizards.NewTypeWizardPage.createType(NewTypeWizardPage.java:2007)
	at org.eclipse.jdt.ui.wizards.NewTypeWizardPage$7.run(NewTypeWizardPage.java:2479)
	at org.eclipse.ui.actions.WorkspaceModifyDelegatingOperation.execute(WorkspaceModifyDelegatingOperation.java:68)
	at org.eclipse.ui.actions.WorkspaceModifyOperation$1.run(WorkspaceModifyOperation.java:100)
	at org.eclipse.core.internal.resources.Workspace.run(Workspace.java:1733)
	at org.eclipse.ui.actions.WorkspaceModifyOperation.run(WorkspaceModifyOperation.java:112)
	at org.eclipse.jface.operation.ModalContext.runInCurrentThread(ModalContext.java:360)
	... 44 more
Markus, if trivial I suggest to fix this for M6
Fixed for M6. Could not test the fix without fixing bug 104580 as well.
verified in I20060330-0010</WithStack>
    <WithOutStack>This bug happens on Windows XP and Mac OSX on 3.2M5a.  Steps to reproduce:

1. right click a class and select 'New JUnit Test case'
2. fill in first page
3. Click next to go to second page
4. Select Objects constructor Object.Object() (any of Object's methods would do)
5. Check 'Create tasks for generated test methods'
6. Click finish

The error below is generated, and an empty file is created for the new test which you need to delete before trying again.

Stack:



	... 44 more
Markus, if trivial I suggest to fix this for M6
Fixed for M6. Could not test the fix without fixing bug 104580 as well.
verified in I20060330-0010</WithOutStack>
  </Bug>
  <Bug>
    <BugId amount="133819" />
    <CreationDate amount="2006-03-29 07:49:00 -0500" />
    <DupId amount="" />
    <classification amount="Eclipse" />
    <Product amount="Platform" />
    <component amount="Search" />
    <Version amount="3.1.2" />
    <rep_platform amount="PC" />
    <op_sys amount="Linux" />
    <priority amount="P3" />
    <bug_severity amount="enhancement" />
    <Summery>toggle "reuse editors" in search-view</Summery>
    <Patches amount="0" />
    <Stacktraces amount="0" />
    <SourceCodeRegions amount="0" />
    <Enumerations amount="0" />
    <bug_status amount="RESOLVED" />
    <resolution amount="WONTFIX" />
    <WithStack>"reuse editors to show matches" should be toggable in the search-view as well. 
sometimes with a lot of results it's easier just to run down with the yellow arrows and see everything -- sometimes one wishes to open all results in different editors.
always switching to the preferences and toggle the checkbox is a bit awkward.
I added a direct link to the preferences in the search result view menu.

Hope that help a bit.
As of now 'LATER' and 'REMIND' resolutions are no longer supported.
Please reopen this bug if it is still valid for you.</WithStack>
    <WithOutStack>"reuse editors to show matches" should be toggable in the search-view as well. 
sometimes with a lot of results it's easier just to run down with the yellow arrows and see everything -- sometimes one wishes to open all results in different editors.
always switching to the preferences and toggle the checkbox is a bit awkward.
I added a direct link to the preferences in the search result view menu.

Hope that help a bit.
As of now 'LATER' and 'REMIND' resolutions are no longer supported.
Please reopen this bug if it is still valid for you.</WithOutStack>
  </Bug>
  <Bug>
    <BugId amount="133820" />
    <CreationDate amount="2006-03-29 08:15:00 -0500" />
    <DupId amount="" />
    <classification amount="Eclipse" />
    <Product amount="PDE" />
    <component amount="Build" />
    <Version amount="3.2" />
    <rep_platform amount="PC" />
    <op_sys amount="Windows XP" />
    <priority amount="P3" />
    <bug_severity amount="normal" />
    <Summery>[doc] Packager template files are missing</Summery>
    <Patches amount="0" />
    <Stacktraces amount="0" />
    <SourceCodeRegions amount="0" />
    <Enumerations amount="0" />
    <bug_status amount="RESOLVED" />
    <resolution amount="FIXED" />
    <WithStack>I thought we has template files for the packager however they don't seem to be in the template folder of 3.2, nor in of 3.1. In any case it would be good to have some for 3.2.
Changing milestone for doc bugs.
Created attachment 42759
Patch to pde.build containing template files

Attached patch adds template files for packaging to pde.build
Created attachment 42760
patch to pde.doc.user

attached patch adds docs for the packager.
Patches applied in HEAD.</WithStack>
    <WithOutStack>I thought we has template files for the packager however they don't seem to be in the template folder of 3.2, nor in of 3.1. In any case it would be good to have some for 3.2.
Changing milestone for doc bugs.
Created attachment 42759
Patch to pde.build containing template files

Attached patch adds template files for packaging to pde.build
Created attachment 42760
patch to pde.doc.user

attached patch adds docs for the packager.
Patches applied in HEAD.</WithOutStack>
  </Bug>
  <Bug>
    <BugId amount="133821" />
    <CreationDate amount="2006-03-29 08:21:00 -0500" />
    <DupId amount="96896" />
    <classification amount="Eclipse" />
    <Product amount="PDE" />
    <component amount="UI" />
    <Version amount="3.2" />
    <rep_platform amount="PC" />
    <op_sys amount="Linux" />
    <priority amount="P3" />
    <bug_severity amount="normal" />
    <Summery>finding references of extension points only lists some</Summery>
    <Patches amount="0" />
    <Stacktraces amount="0" />
    <SourceCodeRegions amount="0" />
    <Enumerations amount="0" />
    <bug_status amount="RESOLVED" />
    <resolution amount="DUPLICATE" />
    <WithStack>If you do a org.eclipse.ui PDE Editor&gt;Extension Points&gt;Find references on editors,  it says "org.eclipse.ui.editors - 12 matches" but it only shows 7 in the Search view.  If you maximize/restart the search view, all 12 show up.

I tested in I20060329-0010

PW


*** This bug has been marked as a duplicate of 96896 ***</WithStack>
    <WithOutStack>If you do a org.eclipse.ui PDE Editor&gt;Extension Points&gt;Find references on editors,  it says "org.eclipse.ui.editors - 12 matches" but it only shows 7 in the Search view.  If you maximize/restart the search view, all 12 show up.

I tested in I20060329-0010

PW


*** This bug has been marked as a duplicate of 96896 ***</WithOutStack>
  </Bug>
  <Bug>
    <BugId amount="133822" />
    <CreationDate amount="2006-03-29 08:31:00 -0500" />
    <DupId amount="131810" />
    <classification amount="Tools" />
    <Product amount="TPTP Release Engineering" />
    <component amount="Build" />
    <Version amount="unspecified" />
    <rep_platform amount="PC" />
    <op_sys amount="Windows XP" />
    <priority amount="P3" />
    <bug_severity amount="normal" />
    <Summery>'select required' button doesn't work on callisto update site for TPTP</Summery>
    <Patches amount="0" />
    <Stacktraces amount="0" />
    <SourceCodeRegions amount="0" />
    <Enumerations amount="1">
      <Enumeration lines="5">
        <Lines>
          <Line>1. Install Eclipse 3.2M5a Platform Runtime</Line>
          <Line>2. Try to install new features from the Callisto Update Site</Line>
          <Line>3. Select one of the TPTP subproject as specified below</Line>
          <Line>4. Press 'Select Required'</Line>
          <Line>5. The dependencies are not resolved completely.</Line>
        </Lines>
      </Enumeration>
    </Enumerations>
    <bug_status amount="CLOSED" />
    <resolution amount="DUPLICATE" />
    <WithStack>Steps to reproduce

1. Install Eclipse 3.2M5a Platform Runtime
2. Try to install new features from the Callisto Update Site
3. Select one of the TPTP subproject as specified below
4. Press 'Select Required'
5. The dependencies are not resolved completely.

The features that do not work, and the missing dependencies are:

TPTP Monitoring Project Examples (4.2.0.v200602281515)
	Requires TPTP Monitoring Project 4.2.0.v200602281515

TPTP Server Log Import (4.1.1.v200602281515)
	Requires TPTP Monitoring Project 4.2.0.v200602281515
	and      Web Standard Tools (WST) 1.01.v200603022200-0fxbsWqriW

BIRT Monitoring Reports for TPTP Feature (4.2.0.v200602281515)
	Requires TPTP Platform Trace 4.1.1.v200602281515
	and      BIRT Reporting for TPTP Feature 4.2.0.v200602281515
	and      TPTP Log and Trace Analyzer 4.1.1.v200602281515

TPTP Monitoring Project (4.2.0.v200602281515)
	Requires TPTP Statistical UI 4.1.1.v200602281515

Java Code Review Feature (4.2.0.v200602281515)
	Requires TPTP Analysis Feature 4.2.0.v200602281515

TPTP Analysis Engine (4.1.1.v200602281515)
	Requires TPTP Core 4.1.1.v200602281515

TPTP Core (4.1.1.v200602281515)
	Requires Eclipse Modeling Framework (EMF) 2.2.0.v200602241118-25CBLxJKfw

TPTP Platform Examples (4.2.0.v200602281515)
	Requires TPTP Core 4.1.1.v200602281515

TPTP Profile on Server (4.1.1.v200602281515)
	Requires TPTP Log and Trace Analyzer 4.1.1.v200602281515
	and      Web Standard Tools (WST) 1.01.v200603022200-0fxbsWqriW
	and      J2EE Standard Tools (JST) 1.01.v2006030280450--tToQFPPrF

BIRT Reporting for TPTP Feature (4.2.0.v200602281515)
	Requires Eclipse BIRT Report Designer Framework 2.1.0.M20060303-0920
	and      TPTP Platform Trace 4.1.1.v200602281515

TPTP Statistical UI (4.1.1.v200602281515)
	Requires TPTP Platform Trace 4.1.1.v200602281515
	and      TPTP Log and Trace Analyzer 4.1.1.v200602281515

BIRT Test Reports for TPTP Feature (4.2.0.v200602281515)
	Requires TPTP Platform Trace 4.1.1.v200602281515
	and      TPTP Test 4.1.1.v200602281515
	and      BIRT Reporting for TPTP Feature 4.2.0.v200602281515

TPTP Test Samples (4.1.1.v200602281515)
	Requires TPTP Test 4.1.1.v200602281515
	and      TPTP Test Tools 4.1.1.v200602281515

TPTP Test Tools (4.1.1.v200602281515)
	Requires TPTP Platform Trace 4.1.1.v200602281515
	and      TPTP Test 4.1.1.v200602281515
	and      TPTP Charting Service 4.1.1.v200602281515

TPTP Test (4.1.1.v200602281515)
	Requires Eclipse Modeling Framework (EMF) 2.2.0.v200602241118-25CBLxJKfw
	and      TPTP Platform Trace 4.1.1.v200602281515

BIRT Trace Reports for TPTP Feature (4.2.0.v200602281515)
	Requires TPTP Platform Trace 4.1.1.v200602281515
	and      BIRT Reporting for TPTP Feature 4.2.0.v200602281515

TPTP Trace Project (4.1.1.v200602281515)
	Requires TPTP Platform Trace 4.1.1.v200602281515

Note - this is similar to bug 131584, although on TPTP instead of on DTP


*** This bug has been marked as a duplicate of 131810 ***
As of TPTP 4.6.0, TPTP is in maintenance mode and focusing on improving quality by resolving relevant enhancements/defects and increasing test coverage through test creation, automation, Build Verification Tests (BVTs), and expanded run-time execution. As part of the TPTP Bugzilla housecleaning process (see http://wiki.eclipse.org/Bugzilla_Housecleaning_Processes), this enhancement/defect is verified/closed by the Project Lead since this enhancement/defect has been resolved and unverified for more than 1 year and considered to be fixed. If this enhancement/defect is still unresolved and reproducible in the latest TPTP release (http://www.eclipse.org/tptp/home/downloads/), please re-open.</WithStack>
    <WithOutStack>Steps to reproduce

1. Install Eclipse 3.2M5a Platform Runtime
2. Try to install new features from the Callisto Update Site
3. Select one of the TPTP subproject as specified below
4. Press 'Select Required'
5. The dependencies are not resolved completely.

The features that do not work, and the missing dependencies are:

TPTP Monitoring Project Examples (4.2.0.v200602281515)
	Requires TPTP Monitoring Project 4.2.0.v200602281515

TPTP Server Log Import (4.1.1.v200602281515)
	Requires TPTP Monitoring Project 4.2.0.v200602281515
	and      Web Standard Tools (WST) 1.01.v200603022200-0fxbsWqriW

BIRT Monitoring Reports for TPTP Feature (4.2.0.v200602281515)
	Requires TPTP Platform Trace 4.1.1.v200602281515
	and      BIRT Reporting for TPTP Feature 4.2.0.v200602281515
	and      TPTP Log and Trace Analyzer 4.1.1.v200602281515

TPTP Monitoring Project (4.2.0.v200602281515)
	Requires TPTP Statistical UI 4.1.1.v200602281515

Java Code Review Feature (4.2.0.v200602281515)
	Requires TPTP Analysis Feature 4.2.0.v200602281515

TPTP Analysis Engine (4.1.1.v200602281515)
	Requires TPTP Core 4.1.1.v200602281515

TPTP Core (4.1.1.v200602281515)
	Requires Eclipse Modeling Framework (EMF) 2.2.0.v200602241118-25CBLxJKfw

TPTP Platform Examples (4.2.0.v200602281515)
	Requires TPTP Core 4.1.1.v200602281515

TPTP Profile on Server (4.1.1.v200602281515)
	Requires TPTP Log and Trace Analyzer 4.1.1.v200602281515
	and      Web Standard Tools (WST) 1.01.v200603022200-0fxbsWqriW
	and      J2EE Standard Tools (JST) 1.01.v2006030280450--tToQFPPrF

BIRT Reporting for TPTP Feature (4.2.0.v200602281515)
	Requires Eclipse BIRT Report Designer Framework 2.1.0.M20060303-0920
	and      TPTP Platform Trace 4.1.1.v200602281515

TPTP Statistical UI (4.1.1.v200602281515)
	Requires TPTP Platform Trace 4.1.1.v200602281515
	and      TPTP Log and Trace Analyzer 4.1.1.v200602281515

BIRT Test Reports for TPTP Feature (4.2.0.v200602281515)
	Requires TPTP Platform Trace 4.1.1.v200602281515
	and      TPTP Test 4.1.1.v200602281515
	and      BIRT Reporting for TPTP Feature 4.2.0.v200602281515

TPTP Test Samples (4.1.1.v200602281515)
	Requires TPTP Test 4.1.1.v200602281515
	and      TPTP Test Tools 4.1.1.v200602281515

TPTP Test Tools (4.1.1.v200602281515)
	Requires TPTP Platform Trace 4.1.1.v200602281515
	and      TPTP Test 4.1.1.v200602281515
	and      TPTP Charting Service 4.1.1.v200602281515

TPTP Test (4.1.1.v200602281515)
	Requires Eclipse Modeling Framework (EMF) 2.2.0.v200602241118-25CBLxJKfw
	and      TPTP Platform Trace 4.1.1.v200602281515

BIRT Trace Reports for TPTP Feature (4.2.0.v200602281515)
	Requires TPTP Platform Trace 4.1.1.v200602281515
	and      BIRT Reporting for TPTP Feature 4.2.0.v200602281515

TPTP Trace Project (4.1.1.v200602281515)
	Requires TPTP Platform Trace 4.1.1.v200602281515

Note - this is similar to bug 131584, although on TPTP instead of on DTP


*** This bug has been marked as a duplicate of 131810 ***
As of TPTP 4.6.0, TPTP is in maintenance mode and focusing on improving quality by resolving relevant enhancements/defects and increasing test coverage through test creation, automation, Build Verification Tests (BVTs), and expanded run-time execution. As part of the TPTP Bugzilla housecleaning process (see http://wiki.eclipse.org/Bugzilla_Housecleaning_Processes), this enhancement/defect is verified/closed by the Project Lead since this enhancement/defect has been resolved and unverified for more than 1 year and considered to be fixed. If this enhancement/defect is still unresolved and reproducible in the latest TPTP release (http://www.eclipse.org/tptp/home/downloads/), please re-open.</WithOutStack>
  </Bug>
  <Bug>
    <BugId amount="133823" />
    <CreationDate amount="2006-03-29 08:38:00 -0500" />
    <DupId amount="133826" />
    <classification amount="Eclipse Foundation" />
    <Product amount="Community" />
    <component amount="Cross-Project" />
    <Version amount="unspecified" />
    <rep_platform amount="PC" />
    <op_sys amount="Windows XP" />
    <priority amount="P3" />
    <bug_severity amount="normal" />
    <Summery>'select required' button doesn't work on callisto update site for XSD</Summery>
    <Patches amount="0" />
    <Stacktraces amount="0" />
    <SourceCodeRegions amount="0" />
    <Enumerations amount="1">
      <Enumeration lines="5">
        <Lines>
          <Line>1. Install Eclipse 3.2M5a Platform Runtime</Line>
          <Line>2. Try to install new features from the Callisto Update Site</Line>
          <Line>3. Select the XSD Schema Infoset Model</Line>
          <Line>4. Press 'Select Required'</Line>
          <Line>5. The dependencies are not resolved completely.</Line>
        </Lines>
      </Enumeration>
    </Enumerations>
    <bug_status amount="RESOLVED" />
    <resolution amount="DUPLICATE" />
    <WithStack>Steps to reproduce

1. Install Eclipse 3.2M5a Platform Runtime
2. Try to install new features from the Callisto Update Site
3. Select the XSD Schema Infoset Model
4. Press 'Select Required'
5. The dependencies are not resolved completely.

The dependency that is not resolved is:
Eclipse Modeling Framework (EMF) 2.2.0.v200602241118-25CBLxJKfw
(The version number is for the Callisto release)

This bug is similar to bug 133822 and 131584, although on XSD.
Moving to Callisto / dupe of bug 133826.

*** This bug has been marked as a duplicate of 133826 ***</WithStack>
    <WithOutStack>Steps to reproduce

1. Install Eclipse 3.2M5a Platform Runtime
2. Try to install new features from the Callisto Update Site
3. Select the XSD Schema Infoset Model
4. Press 'Select Required'
5. The dependencies are not resolved completely.

The dependency that is not resolved is:
Eclipse Modeling Framework (EMF) 2.2.0.v200602241118-25CBLxJKfw
(The version number is for the Callisto release)

This bug is similar to bug 133822 and 131584, although on XSD.
Moving to Callisto / dupe of bug 133826.

*** This bug has been marked as a duplicate of 133826 ***</WithOutStack>
  </Bug>
  <Bug>
    <BugId amount="133824" />
    <CreationDate amount="2006-03-29 08:38:00 -0500" />
    <DupId amount="" />
    <classification amount="Eclipse" />
    <Product amount="JDT" />
    <component amount="UI" />
    <Version amount="3.2" />
    <rep_platform amount="PC" />
    <op_sys amount="Windows XP" />
    <priority amount="P3" />
    <bug_severity amount="major" />
    <Summery>Extract Supertype action can take a long time and is not cancellable</Summery>
    <Patches amount="0" />
    <Stacktraces amount="0" />
    <SourceCodeRegions amount="0" />
    <Enumerations amount="0" />
    <bug_status amount="VERIFIED" />
    <resolution amount="FIXED" />
    <WithStack>I20060329-0010

Extract Supertype action can take a long time and is not cancellable. The problem seems to be in
    ExtractSupertypeMemberPage$6.run(IProgressMonitor) line: 323
, which can take a long time if the indexes are not up-to-date. The runnable is not cancellable and runs in the UI thread, so Eclipse appears locked.

Such long running operation should be done in checkInitialConditions(..), which is run in the background and is cancellable.


Thread [main] (Suspended)
	FileInputStream.open(String) line: not available [native method]
	FileInputStream.&lt;init&gt;(File) line: 135
	LocalFile.openInputStream(int, IProgressMonitor) line: 318
	ContentDescriptionManager$LazyFileInputStream.ensureOpened() line: 154
	ContentDescriptionManager$LazyFileInputStream.read(byte[], int, int) line: 166
	ContentDescriptionManager$LazyFileInputStream(InputStream).read(byte[]) line: 112
	LazyInputStream.loadBlock() line: 99
	LazyInputStream.ensureAvailable(long) line: 64
	LazyInputStream.read() line: 119
	TextContentDescriber.getByteOrderMark(InputStream) line: 65
	TextContentDescriber.describe(InputStream, IContentDescription) line: 49
	ContentType.describe(IContentDescriber, ILazySource, ContentDescription) line: 161
	ContentType.internalGetDescriptionFor(ILazySource, QualifiedName[]) line: 458
	ContentTypeCatalog.getDescriptionFor(ContentTypeMatcher, ILazySource, String, QualifiedName[]) line: 314
	ContentTypeCatalog.getDescriptionFor(ContentTypeMatcher, InputStream, String, QualifiedName[]) line: 318
	ContentTypeMatcher.getDescriptionFor(InputStream, String, QualifiedName[]) line: 86
	ContentDescriptionManager.readDescription(File) line: 400
	ContentDescriptionManager.getDescriptionFor(File, ResourceInfo) line: 339
	File.internalGetCharset(boolean, ResourceInfo) line: 253
	File.getCharset(boolean) line: 214
	File.getCharset() line: 201
	Util.getResourceContentsAsCharArray(IFile) line: 1029
	HierarchyBuilder$1(ResourceCompilationUnit).getContents() line: 38
	Parser.parse(ICompilationUnit, CompilationResult, int, int) line: 9047
	Parser.parse(ICompilationUnit, CompilationResult) line: 9019
	Parser.dietParse(ICompilationUnit, CompilationResult) line: 7707
	HierarchyResolver.resolve(Openable[], HashSet, IProgressMonitor) line: 568
	IndexBasedHierarchyBuilder.buildForProject(JavaProject, ArrayList, ICompilationUnit[], HashSet, IProgressMonitor) line: 199
	IndexBasedHierarchyBuilder.buildFromPotentialSubtypes(String[], HashSet, IProgressMonitor) line: 284
	IndexBasedHierarchyBuilder.build(boolean) line: 129
	TypeHierarchy.compute() line: 300
	TypeHierarchy.refresh(IProgressMonitor) line: 1235
	CreateTypeHierarchyOperation.executeOperation() line: 90
	CreateTypeHierarchyOperation(JavaModelOperation).run(IProgressMonitor) line: 720
	CreateTypeHierarchyOperation(JavaModelOperation).runOperation(IProgressMonitor) line: 779
	ResolvedBinaryType(BinaryType).newTypeHierarchy(WorkingCopyOwner, IProgressMonitor) line: 907
	ExtractSupertypeProcessor.getCandidateTypes(RefactoringStatus, IProgressMonitor) line: 853
	ExtractSupertypeMemberPage$6.run(IProgressMonitor) line: 323
	ModalContext.runInCurrentThread(IRunnableWithProgress, IProgressMonitor) line: 369
	ModalContext.run(IRunnableWithProgress, boolean, IProgressMonitor, Display) line: 313
	ApplicationWindow$1.run() line: 763
	BusyIndicator.showWhile(Display, Runnable) line: 69
	WorkbenchWindow(ApplicationWindow).run(boolean, boolean, IRunnableWithProgress) line: 760
	WorkbenchWindow.run(boolean, boolean, IRunnableWithProgress) line: 2272
	ExtractSupertypeMemberPage.createSuperTypeControl(Composite) line: 319
	ExtractSupertypeMemberPage.createControl(Composite) line: 293
	ExtractSupertypeWizard(Wizard).createPageControls(Composite) line: 180
	RefactoringWizardDialog(WizardDialog).createPageControls() line: 614
	RefactoringWizardDialog(WizardDialog).createContents(Composite) line: 502
	RefactoringWizardDialog(Window).create() line: 426
	RefactoringWizardDialog(Dialog).create() line: 1116
	RefactoringWizardDialog(Window).open() line: 785
	RefactoringWizardOpenOperation$1.run() line: 132
	BusyIndicator.showWhile(Display, Runnable) line: 69
	RefactoringWizardOpenOperation.run(Shell, String) line: 145
	RefactoringStarter.activate(Refactoring, RefactoringWizard, Shell, String, boolean) line: 40
	RefactoringExecutionStarter.startExtractSupertypeRefactoring(IMember[], Shell) line: 343
	ExtractSuperTypeAction.run(ITextSelection) line: 146
	ExtractSuperTypeAction(SelectionDispatchAction).dispatchRun(ISelection) line: 271
	ExtractSuperTypeAction(SelectionDispatchAction).run() line: 243
	ExtractSuperTypeAction(Action).runWithEvent(Event) line: 499
	ActionContributionItem.handleWidgetSelection(Event, boolean) line: 539
	ActionContributionItem.access$2(ActionContributionItem, Event, boolean) line: 488
	ActionContributionItem$5.handleEvent(Event) line: 400
	EventTable.sendEvent(Event) line: 66
	MenuItem(Widget).sendEvent(Event) line: 925
	Display.runDeferredEvents() line: 3346
	Display.readAndDispatch() line: 2966
	RefactorActionGroup$RefactorQuickAccessAction(QuickMenuAction).run() line: 77
	RefactorActionGroup$RefactorQuickAccessAction(Action).runWithEvent(Event) line: 499
	ActionHandler.execute(Map) line: 185
	LegacyHandlerWrapper.execute(ExecutionEvent) line: 109
	Command.executeWithChecks(ExecutionEvent) line: 460
	ParameterizedCommand.executeWithChecks(Object, Object) line: 424
	HandlerService.executeCommand(ParameterizedCommand, Event) line: 160
	WorkbenchKeyboard.executeCommand(Binding, Event) line: 466
I selected MoneyBag#add(IMoney) before starting the refactoring, which caused a full type hierarchy calculation for java.lang.Object.
I suggest to fix this for M6. Type hierarchy should be delayed to when the 'Add' button is pressed
Fixed in HEAD &gt; 20060329
verified in I20060330-0010</WithStack>
    <WithOutStack>I20060329-0010

Extract Supertype action can take a long time and is not cancellable. The problem seems to be in
    ExtractSupertypeMemberPage$6.run(IProgressMonitor) line: 323
, which can take a long time if the indexes are not up-to-date. The runnable is not cancellable and runs in the UI thread, so Eclipse appears locked.

Such long running operation should be done in checkInitialConditions(..), which is run in the background and is cancellable.


Thread [main] (Suspended)
	FileInputStream.open(String) line: not available [native method]
	FileInputStream.&lt;init&gt;(File) line: 135
	LocalFile.openInputStream(int, IProgressMonitor) line: 318
	ContentDescriptionManager$LazyFileInputStream.ensureOpened() line: 154
	ContentDescriptionManager$LazyFileInputStream.read(byte[], int, int) line: 166
	ContentDescriptionManager$LazyFileInputStream(InputStream).read(byte[]) line: 112
	LazyInputStream.loadBlock() line: 99
	LazyInputStream.ensureAvailable(long) line: 64
	LazyInputStream.read() line: 119
	TextContentDescriber.getByteOrderMark(InputStream) line: 65
	TextContentDescriber.describe(InputStream, IContentDescription) line: 49
	ContentType.describe(IContentDescriber, ILazySource, ContentDescription) line: 161
	ContentType.internalGetDescriptionFor(ILazySource, QualifiedName[]) line: 458
	ContentTypeCatalog.getDescriptionFor(ContentTypeMatcher, ILazySource, String, QualifiedName[]) line: 314
	ContentTypeCatalog.getDescriptionFor(ContentTypeMatcher, InputStream, String, QualifiedName[]) line: 318
	ContentTypeMatcher.getDescriptionFor(InputStream, String, QualifiedName[]) line: 86
	ContentDescriptionManager.readDescription(File) line: 400
	ContentDescriptionManager.getDescriptionFor(File, ResourceInfo) line: 339
	File.internalGetCharset(boolean, ResourceInfo) line: 253
	File.getCharset(boolean) line: 214
	File.getCharset() line: 201
	Util.getResourceContentsAsCharArray(IFile) line: 1029
	HierarchyBuilder$1(ResourceCompilationUnit).getContents() line: 38
	Parser.parse(ICompilationUnit, CompilationResult, int, int) line: 9047
	Parser.parse(ICompilationUnit, CompilationResult) line: 9019
	Parser.dietParse(ICompilationUnit, CompilationResult) line: 7707
	HierarchyResolver.resolve(Openable[], HashSet, IProgressMonitor) line: 568
	IndexBasedHierarchyBuilder.buildForProject(JavaProject, ArrayList, ICompilationUnit[], HashSet, IProgressMonitor) line: 199
	IndexBasedHierarchyBuilder.buildFromPotentialSubtypes(String[], HashSet, IProgressMonitor) line: 284
	IndexBasedHierarchyBuilder.build(boolean) line: 129
	TypeHierarchy.compute() line: 300
	TypeHierarchy.refresh(IProgressMonitor) line: 1235
	CreateTypeHierarchyOperation.executeOperation() line: 90
	CreateTypeHierarchyOperation(JavaModelOperation).run(IProgressMonitor) line: 720
	CreateTypeHierarchyOperation(JavaModelOperation).runOperation(IProgressMonitor) line: 779
	ResolvedBinaryType(BinaryType).newTypeHierarchy(WorkingCopyOwner, IProgressMonitor) line: 907
	ExtractSupertypeProcessor.getCandidateTypes(RefactoringStatus, IProgressMonitor) line: 853
	ExtractSupertypeMemberPage$6.run(IProgressMonitor) line: 323
	ModalContext.runInCurrentThread(IRunnableWithProgress, IProgressMonitor) line: 369
	ModalContext.run(IRunnableWithProgress, boolean, IProgressMonitor, Display) line: 313
	ApplicationWindow$1.run() line: 763
	BusyIndicator.showWhile(Display, Runnable) line: 69
	WorkbenchWindow(ApplicationWindow).run(boolean, boolean, IRunnableWithProgress) line: 760
	WorkbenchWindow.run(boolean, boolean, IRunnableWithProgress) line: 2272
	ExtractSupertypeMemberPage.createSuperTypeControl(Composite) line: 319
	ExtractSupertypeMemberPage.createControl(Composite) line: 293
	ExtractSupertypeWizard(Wizard).createPageControls(Composite) line: 180
	RefactoringWizardDialog(WizardDialog).createPageControls() line: 614
	RefactoringWizardDialog(WizardDialog).createContents(Composite) line: 502
	RefactoringWizardDialog(Window).create() line: 426
	RefactoringWizardDialog(Dialog).create() line: 1116
	RefactoringWizardDialog(Window).open() line: 785
	RefactoringWizardOpenOperation$1.run() line: 132
	BusyIndicator.showWhile(Display, Runnable) line: 69
	RefactoringWizardOpenOperation.run(Shell, String) line: 145
	RefactoringStarter.activate(Refactoring, RefactoringWizard, Shell, String, boolean) line: 40
	RefactoringExecutionStarter.startExtractSupertypeRefactoring(IMember[], Shell) line: 343
	ExtractSuperTypeAction.run(ITextSelection) line: 146
	ExtractSuperTypeAction(SelectionDispatchAction).dispatchRun(ISelection) line: 271
	ExtractSuperTypeAction(SelectionDispatchAction).run() line: 243
	ExtractSuperTypeAction(Action).runWithEvent(Event) line: 499
	ActionContributionItem.handleWidgetSelection(Event, boolean) line: 539
	ActionContributionItem.access$2(ActionContributionItem, Event, boolean) line: 488
	ActionContributionItem$5.handleEvent(Event) line: 400
	EventTable.sendEvent(Event) line: 66
	MenuItem(Widget).sendEvent(Event) line: 925
	Display.runDeferredEvents() line: 3346
	Display.readAndDispatch() line: 2966
	RefactorActionGroup$RefactorQuickAccessAction(QuickMenuAction).run() line: 77
	RefactorActionGroup$RefactorQuickAccessAction(Action).runWithEvent(Event) line: 499
	ActionHandler.execute(Map) line: 185
	LegacyHandlerWrapper.execute(ExecutionEvent) line: 109
	Command.executeWithChecks(ExecutionEvent) line: 460
	ParameterizedCommand.executeWithChecks(Object, Object) line: 424
	HandlerService.executeCommand(ParameterizedCommand, Event) line: 160
	WorkbenchKeyboard.executeCommand(Binding, Event) line: 466
I selected MoneyBag#add(IMoney) before starting the refactoring, which caused a full type hierarchy calculation for java.lang.Object.
I suggest to fix this for M6. Type hierarchy should be delayed to when the 'Add' button is pressed
Fixed in HEAD &gt; 20060329
verified in I20060330-0010</WithOutStack>
  </Bug>
  <Bug>
    <BugId amount="133825" />
    <CreationDate amount="2006-03-29 08:41:00 -0500" />
    <DupId amount="" />
    <classification amount="DataTools" />
    <Product amount="Data Tools" />
    <component amount="Open Data Access" />
    <Version amount="0.7" />
    <rep_platform amount="PC" />
    <op_sys amount="Windows 2000" />
    <priority amount="P3" />
    <bug_severity amount="normal" />
    <Summery>Rename ODA NewDataSetWizard to DataSetWizard</Summery>
    <Patches amount="0" />
    <Stacktraces amount="0" />
    <SourceCodeRegions amount="0" />
    <Enumerations amount="0" />
    <bug_status amount="CLOSED" />
    <resolution amount="FIXED" />
    <WithStack>The DTP oda.design.ui.dataSource extension point defines a "newDataSetWizard" element, which can be actually used in both creating and editing an ODA data set design. 
The name is somewhat misleading.  It should be refactored to rename to "dataSetWizard" to reflect its intended usage.  The corresponding base class should also be renamed from NewDataSetWizard to DataSetWizard.
Resolved.
Delivered in RC0.</WithStack>
    <WithOutStack>The DTP oda.design.ui.dataSource extension point defines a "newDataSetWizard" element, which can be actually used in both creating and editing an ODA data set design. 
The name is somewhat misleading.  It should be refactored to rename to "dataSetWizard" to reflect its intended usage.  The corresponding base class should also be renamed from NewDataSetWizard to DataSetWizard.
Resolved.
Delivered in RC0.</WithOutStack>
  </Bug>
  <Bug>
    <BugId amount="133826" />
    <CreationDate amount="2006-03-29 08:42:00 -0500" />
    <DupId amount="131807" />
    <classification amount="Eclipse Foundation" />
    <Product amount="Community" />
    <component amount="Cross-Project" />
    <Version amount="unspecified" />
    <rep_platform amount="PC" />
    <op_sys amount="Windows XP" />
    <priority amount="P3" />
    <bug_severity amount="normal" />
    <Summery>'select required' button doesn't work on callisto update site for SDO</Summery>
    <Patches amount="0" />
    <Stacktraces amount="0" />
    <SourceCodeRegions amount="0" />
    <Enumerations amount="1">
      <Enumeration lines="5">
        <Lines>
          <Line>1. Install Eclipse 3.2M5a Platform Runtime</Line>
          <Line>2. Try to install new features from the Callisto Update Site</Line>
          <Line>3. Select the EMF Service Data Objects (SDO)</Line>
          <Line>4. Press 'Select Required'</Line>
          <Line>5. The dependencies are not resolved completely.</Line>
        </Lines>
      </Enumeration>
    </Enumerations>
    <bug_status amount="RESOLVED" />
    <resolution amount="DUPLICATE" />
    <WithStack>Steps to reproduce

1. Install Eclipse 3.2M5a Platform Runtime
2. Try to install new features from the Callisto Update Site
3. Select the EMF Service Data Objects (SDO)
4. Press 'Select Required'
5. The dependencies are not resolved completely.

The dependency that is not resolved is:
Eclipse Modeling Framework (EMF) 2.2.0.v200602241118-25CBLxJKfw
(The version number is for the Callisto release)

This bug is similar to bug 133822, 131584, and 133823, although on SDO.


*** This bug has been marked as a duplicate of 131807 ***
Moving to Callisto
*** Bug 133823 has been marked as a duplicate of this bug. ***</WithStack>
    <WithOutStack>Steps to reproduce

1. Install Eclipse 3.2M5a Platform Runtime
2. Try to install new features from the Callisto Update Site
3. Select the EMF Service Data Objects (SDO)
4. Press 'Select Required'
5. The dependencies are not resolved completely.

The dependency that is not resolved is:
Eclipse Modeling Framework (EMF) 2.2.0.v200602241118-25CBLxJKfw
(The version number is for the Callisto release)

This bug is similar to bug 133822, 131584, and 133823, although on SDO.


*** This bug has been marked as a duplicate of 131807 ***
Moving to Callisto
*** Bug 133823 has been marked as a duplicate of this bug. ***</WithOutStack>
  </Bug>
  <Bug>
    <BugId amount="133827" />
    <CreationDate amount="2006-03-29 08:47:00 -0500" />
    <DupId amount="55236" />
    <classification amount="Eclipse" />
    <Product amount="Platform" />
    <component amount="UI" />
    <Version amount="3.2" />
    <rep_platform amount="Other" />
    <op_sys amount="Linux" />
    <priority amount="P3" />
    <bug_severity amount="normal" />
    <Summery>[KeyBindings] win+&lt;what_key_ever&gt;  -&gt; win meta-hotkey unusable</Summery>
    <Patches amount="0" />
    <Stacktraces amount="0" />
    <SourceCodeRegions amount="0" />
    <Enumerations amount="0" />
    <bug_status amount="RESOLVED" />
    <resolution amount="DUPLICATE" />
    <WithStack>Hi,

How can I use the 'Win' (Super_R/L on Linux) as metakey in eclipse? 

For me it is currently impossible to use a "Win+&lt;what_key_ever&gt;" combination, since the "Win" key doesn't show up when pressed within the key sequence field in the key settings dialog.

Eclipse version is 3.1.2 on GNU/Linux.

Any help welcome.

Regards,
Ruben


*** This bug has been marked as a duplicate of 55236 ***</WithStack>
    <WithOutStack>Hi,

How can I use the 'Win' (Super_R/L on Linux) as metakey in eclipse? 

For me it is currently impossible to use a "Win+&lt;what_key_ever&gt;" combination, since the "Win" key doesn't show up when pressed within the key sequence field in the key settings dialog.

Eclipse version is 3.1.2 on GNU/Linux.

Any help welcome.

Regards,
Ruben


*** This bug has been marked as a duplicate of 55236 ***</WithOutStack>
  </Bug>
  <Bug>
    <BugId amount="133828" />
    <CreationDate amount="2006-03-29 08:51:00 -0500" />
    <DupId amount="" />
    <classification amount="WebTools" />
    <Product amount="WTP Common Tools" />
    <component amount="Snippets Framework" />
    <Version amount="1.5" />
    <rep_platform amount="PC" />
    <op_sys amount="Windows 2000" />
    <priority amount="P3" />
    <bug_severity amount="enhancement" />
    <Summery>[snippets] [API Request] API to bring up snippets view</Summery>
    <Patches amount="0" />
    <Stacktraces amount="0" />
    <SourceCodeRegions amount="0" />
    <Enumerations amount="0" />
    <bug_status amount="RESOLVED" />
    <resolution amount="INVALID" />
    <WithStack>In our code we have a need to bring up the snippets view and set certain entry in this view. To achieve that we currently use the following internal classes:

org.eclipse.wst.common.snippets.internal.model.SnippetManager; 
org.eclipse.wst.common.snippets.internal.ui.SnippetsView; 

It would be nice to have external APIs to achieve the same result
Could you elaborate on what "setting a certain entry in this view" means?
Just changing "keyword" and severity to allow better queries. 

Marking as invalid for now, since we don't know exactly what's being requested.  The two mentioned classes aren't interfaces, so just making them public as-is would not address the request cleanly.</WithStack>
    <WithOutStack>In our code we have a need to bring up the snippets view and set certain entry in this view. To achieve that we currently use the following internal classes:

org.eclipse.wst.common.snippets.internal.model.SnippetManager; 
org.eclipse.wst.common.snippets.internal.ui.SnippetsView; 

It would be nice to have external APIs to achieve the same result
Could you elaborate on what "setting a certain entry in this view" means?
Just changing "keyword" and severity to allow better queries. 

Marking as invalid for now, since we don't know exactly what's being requested.  The two mentioned classes aren't interfaces, so just making them public as-is would not address the request cleanly.</WithOutStack>
  </Bug>
  <Bug>
    <BugId amount="133829" />
    <CreationDate amount="2006-03-29 08:55:00 -0500" />
    <DupId amount="" />
    <classification amount="Eclipse" />
    <Product amount="Platform" />
    <component amount="Text" />
    <Version amount="3.1" />
    <rep_platform amount="Macintosh" />
    <op_sys amount="Mac OS X - Carbon (unsup.)" />
    <priority amount="P3" />
    <bug_severity amount="normal" />
    <Summery>[implementation] Internal Error when opening external file for which I don't have read permission</Summery>
    <Patches amount="0" />
    <Stacktraces amount="1">
      <Stacktrace timestamp="1437330688182">
        <Exception>java.io.FileNotFoundException</Exception>
        <Reason>/some/file (Permission denied)</Reason>
        <Frames>
          <Frame depth="0">java.io.FileInputStream.open(Native Method)</Frame>
          <Frame depth="1">java.io.FileInputStream.&lt;init&gt;(FileInputStream.java:106)</Frame>
          <Frame depth="2">org.eclipse.ui.internal.editors.text.OpenExternalFileAction.getContentType(OpenExternalFileAction.java:163)</Frame>
          <Frame depth="3">org.eclipse.ui.internal.editors.text.OpenExternalFileAction.getEditorId(OpenExternalFileAction.java:151)</Frame>
          <Frame depth="4">org.eclipse.ui.internal.editors.text.OpenExternalFileAction.run(OpenExternalFileAction.java:126)</Frame>
          <Frame depth="5">org.eclipse.ui.internal.editors.text.OpenExternalFileAction.run(OpenExternalFileAction.java:98)</Frame>
          <Frame depth="6">org.eclipse.ui.internal.PluginAction.runWithEvent(PluginAction.java:246)</Frame>
          <Frame depth="7">org.eclipse.ui.internal.WWinPluginAction.runWithEvent(WWinPluginAction.java:223)</Frame>
          <Frame depth="8">org.eclipse.jface.action.ActionContributionItem.handleWidgetSelection(ActionContributionItem.java:538)</Frame>
          <Frame depth="9">org.eclipse.jface.action.ActionContributionItem.access$2(ActionContributionItem.java:488)</Frame>
          <Frame depth="10">org.eclipse.jface.action.ActionContributionItem$5.handleEvent(ActionContributionItem.java:400)</Frame>
          <Frame depth="11">org.eclipse.swt.widgets.EventTable.sendEvent(EventTable.java:66)</Frame>
          <Frame depth="12">org.eclipse.swt.widgets.Widget.sendEvent(Widget.java:1380)</Frame>
          <Frame depth="13">org.eclipse.swt.widgets.Widget.sendEvent(Widget.java:1404)</Frame>
          <Frame depth="14">org.eclipse.swt.widgets.Widget.sendEvent(Widget.java:1389)</Frame>
          <Frame depth="15">org.eclipse.swt.widgets.Widget.notifyListeners(Widget.java:1237)</Frame>
          <Frame depth="16">org.eclipse.swt.widgets.Display.runDeferredEvents(Display.java:3060)</Frame>
          <Frame depth="17">org.eclipse.swt.widgets.Display.readAndDispatch(Display.java:2712)</Frame>
          <Frame depth="18">org.eclipse.ui.internal.Workbench.runEventLoop(Workbench.java:1699)</Frame>
          <Frame depth="19">org.eclipse.ui.internal.Workbench.runUI(Workbench.java:1663)</Frame>
          <Frame depth="20">org.eclipse.ui.internal.Workbench.createAndRunWorkbench(Workbench.java:367)</Frame>
          <Frame depth="21">org.eclipse.ui.PlatformUI.createAndRunWorkbench(PlatformUI.java:143)</Frame>
          <Frame depth="22">org.eclipse.ui.internal.ide.IDEApplication.run(IDEApplication.java:103)</Frame>
          <Frame depth="23">org.eclipse.core.internal.runtime.PlatformActivator$1.run(PlatformActivator.java:226)</Frame>
          <Frame depth="24">org.eclipse.core.runtime.adaptor.EclipseStarter.run(EclipseStarter.java:376)</Frame>
          <Frame depth="25">org.eclipse.core.runtime.adaptor.EclipseStarter.run(EclipseStarter.java:163)</Frame>
          <Frame depth="26">sun.reflect.NativeMethodAccessorImpl.invoke0(Native Method)</Frame>
          <Frame depth="27">sun.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:39)</Frame>
          <Frame depth="28">sun.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:25)</Frame>
          <Frame depth="29">java.lang.reflect.Method.invoke(Method.java:585)</Frame>
          <Frame depth="30">org.eclipse.core.launcher.Main.invokeFramework(Main.java:334)</Frame>
          <Frame depth="31">org.eclipse.core.launcher.Main.basicRun(Main.java:278)</Frame>
          <Frame depth="32">org.eclipse.core.launcher.Main.run(Main.java:973)</Frame>
          <Frame depth="33">org.eclipse.core.launcher.Main.main(Main.java:948)</Frame>
        </Frames>
      </Stacktrace>
    </Stacktraces>
    <SourceCodeRegions amount="0" />
    <Enumerations amount="0" />
    <bug_status amount="RESOLVED" />
    <resolution amount="FIXED" />
    <WithStack>Version: 3.1.0
Build id: I20050627-1435

Opening an external file (File -&gt; Open File...) for which I don't have read permission causes a FileNotFoundException which doesn't seem to be caught -- it appears as an Internal Error in the Error Log View.

Stack trace:

java.io.FileNotFoundException: /some/file (Permission denied)
at java.io.FileInputStream.open(Native Method)
at java.io.FileInputStream.&lt;init&gt;(FileInputStream.java:106)
at org.eclipse.ui.internal.editors.text.OpenExternalFileAction.getContentType(OpenExternalFileAction.java:163)
at org.eclipse.ui.internal.editors.text.OpenExternalFileAction.getEditorId(OpenExternalFileAction.java:151)
at org.eclipse.ui.internal.editors.text.OpenExternalFileAction.run(OpenExternalFileAction.java:126)
at org.eclipse.ui.internal.editors.text.OpenExternalFileAction.run(OpenExternalFileAction.java:98)
at org.eclipse.ui.internal.PluginAction.runWithEvent(PluginAction.java:246)
at org.eclipse.ui.internal.WWinPluginAction.runWithEvent(WWinPluginAction.java:223)
at org.eclipse.jface.action.ActionContributionItem.handleWidgetSelection(ActionContributionItem.java:538)
at org.eclipse.jface.action.ActionContributionItem.access$2(ActionContributionItem.java:488)
at org.eclipse.jface.action.ActionContributionItem$5.handleEvent(ActionContributionItem.java:400)
at org.eclipse.swt.widgets.EventTable.sendEvent(EventTable.java:66)
at org.eclipse.swt.widgets.Widget.sendEvent(Widget.java:1380)
at org.eclipse.swt.widgets.Widget.sendEvent(Widget.java:1404)
at org.eclipse.swt.widgets.Widget.sendEvent(Widget.java:1389)
at org.eclipse.swt.widgets.Widget.notifyListeners(Widget.java:1237)
at org.eclipse.swt.widgets.Display.runDeferredEvents(Display.java:3060)
at org.eclipse.swt.widgets.Display.readAndDispatch(Display.java:2712)
at org.eclipse.ui.internal.Workbench.runEventLoop(Workbench.java:1699)
at org.eclipse.ui.internal.Workbench.runUI(Workbench.java:1663)
at org.eclipse.ui.internal.Workbench.createAndRunWorkbench(Workbench.java:367)
at org.eclipse.ui.PlatformUI.createAndRunWorkbench(PlatformUI.java:143)
at org.eclipse.ui.internal.ide.IDEApplication.run(IDEApplication.java:103)
at org.eclipse.core.internal.runtime.PlatformActivator$1.run(PlatformActivator.java:226)
at org.eclipse.core.runtime.adaptor.EclipseStarter.run(EclipseStarter.java:376)
at org.eclipse.core.runtime.adaptor.EclipseStarter.run(EclipseStarter.java:163)
at sun.reflect.NativeMethodAccessorImpl.invoke0(Native Method)
at sun.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:39)
at sun.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:25)
at java.lang.reflect.Method.invoke(Method.java:585)
at org.eclipse.core.launcher.Main.invokeFramework(Main.java:334)
at org.eclipse.core.launcher.Main.basicRun(Main.java:278)
at org.eclipse.core.launcher.Main.run(Main.java:973)
at org.eclipse.core.launcher.Main.main(Main.java:948)

I'm guessing that this is the correct slot (I'm new to the triage thing...;-). Feel free to punt back.

Fixed for RC1.
Changing OS from Mac OS to Mac OS X as per bug 185991</WithStack>
    <WithOutStack>Version: 3.1.0
Build id: I20050627-1435

Opening an external file (File -&gt; Open File...) for which I don't have read permission causes a FileNotFoundException which doesn't seem to be caught -- it appears as an Internal Error in the Error Log View.

Stack trace:



I'm guessing that this is the correct slot (I'm new to the triage thing...;-). Feel free to punt back.

Fixed for RC1.
Changing OS from Mac OS to Mac OS X as per bug 185991</WithOutStack>
  </Bug>
  <Bug>
    <BugId amount="133830" />
    <CreationDate amount="2006-03-29 08:55:00 -0500" />
    <DupId amount="" />
    <classification amount="Eclipse" />
    <Product amount="Platform" />
    <component amount="UI" />
    <Version amount="3.2" />
    <rep_platform amount="PC" />
    <op_sys amount="Windows 2000" />
    <priority amount="P3" />
    <bug_severity amount="normal" />
    <Summery>[Internal APIs] usage of NewWizard class</Summery>
    <Patches amount="0" />
    <Stacktraces amount="0" />
    <SourceCodeRegions amount="0" />
    <Enumerations amount="0" />
    <bug_status amount="RESOLVED" />
    <resolution amount="WONTFIX" />
    <WithStack>In our code we have a need to bring up an NewWizard (as in org.eclipse.ui.internal.dialogs.NewWizard), for that purpose we use thr following internal class:
org.eclipse.ui.internal.dialogs.NewWizard

It would be good to have an ability to do the same thing using the external APIs
Not to pick nits, but I have a nit to pick.  :)  There are no internal APIs - the phrase is an oxymoron.

Having gotten that out of the way I believe there is a way to accomplish this already via the NewWizardAction which is public.  Is that API sufficient or are you trying to use more NewWizard methods than this action exposes?
Ivy, please check if the NewWizardAction is sufficient for our purposes

Can we close this Ivy?

We have no plans at this time to make this API. Feel free to open an enhancement request.

We have no plans at this time to make this API. Feel free to open an enhancement request.</WithStack>
    <WithOutStack>In our code we have a need to bring up an NewWizard (as in org.eclipse.ui.internal.dialogs.NewWizard), for that purpose we use thr following internal class:
org.eclipse.ui.internal.dialogs.NewWizard

It would be good to have an ability to do the same thing using the external APIs
Not to pick nits, but I have a nit to pick.  :)  There are no internal APIs - the phrase is an oxymoron.

Having gotten that out of the way I believe there is a way to accomplish this already via the NewWizardAction which is public.  Is that API sufficient or are you trying to use more NewWizard methods than this action exposes?
Ivy, please check if the NewWizardAction is sufficient for our purposes

Can we close this Ivy?

We have no plans at this time to make this API. Feel free to open an enhancement request.

We have no plans at this time to make this API. Feel free to open an enhancement request.</WithOutStack>
  </Bug>
  <Bug>
    <BugId amount="133831" />
    <CreationDate amount="2006-03-29 09:05:00 -0500" />
    <DupId amount="" />
    <classification amount="Eclipse" />
    <Product amount="JDT" />
    <component amount="UI" />
    <Version amount="3.2" />
    <rep_platform amount="PC" />
    <op_sys amount="Windows XP" />
    <priority amount="P3" />
    <bug_severity amount="normal" />
    <Summery>Configure Deprecation fix action: UI issues</Summery>
    <Patches amount="0" />
    <Stacktraces amount="0" />
    <SourceCodeRegions amount="0" />
    <Enumerations amount="1">
      <Enumeration lines="6">
        <Lines>
          <Line>- The margins seem too big: Make sure that only one composite has margins set.</Line>
          <Line>- Wording: 'Do not fix references' is misleading</Line>
          <Line>I suggest: 'No fix configured'</Line>
          <Line>- option should be disabled when method is abstract or field is not constant</Line>
          <Line>Fixed in HEAD &gt; 20060329</Line>
          <Line>verified in I20060330-0010</Line>
        </Lines>
      </Enumeration>
    </Enumerations>
    <bug_status amount="VERIFIED" />
    <resolution amount="FIXED" />
    <WithStack>20060329

- The margins seem too big: Make sure that only one composite has margins set.
- Wording: 'Do not fix references' is misleading
I suggest: 'No fix configured'
- option should be disabled when method is abstract or field is not constant
Fixed in HEAD &gt; 20060329
verified in I20060330-0010

margins and wording is fixed but the action is not disabled, see new Bug 134052</WithStack>
    <WithOutStack>20060329

- The margins seem too big: Make sure that only one composite has margins set.
- Wording: 'Do not fix references' is misleading
I suggest: 'No fix configured'
- option should be disabled when method is abstract or field is not constant
Fixed in HEAD &gt; 20060329
verified in I20060330-0010

margins and wording is fixed but the action is not disabled, see new Bug 134052</WithOutStack>
  </Bug>
  <Bug>
    <BugId amount="133832" />
    <CreationDate amount="2006-03-29 09:06:00 -0500" />
    <DupId amount="" />
    <classification amount="Eclipse" />
    <Product amount="Platform" />
    <component amount="User Assistance" />
    <Version amount="3.0" />
    <rep_platform amount="PC" />
    <op_sys amount="Windows XP" />
    <priority amount="P3" />
    <bug_severity amount="normal" />
    <Summery>[Help] Cannot naviagte help after a search</Summery>
    <Patches amount="0" />
    <Stacktraces amount="0" />
    <SourceCodeRegions amount="0" />
    <Enumerations amount="2">
      <Enumeration lines="5">
        <Lines>
          <Line>1) Open help</Line>
          <Line>2) Enter properties pages into the search area and search</Line>
          <Line>3) Select the hierarchy icon</Line>
          <Line>4) it will pop up momentarily and then the search results will cover it again. There is no way to close the search results.</Line>
          <Line>It seems to work ok for me. A few things to try..</Line>
        </Lines>
      </Enumeration>
      <Enumeration lines="2">
        <Lines>
          <Line>- Does it work if you view help in an external browser?</Line>
          <Line>- If no, does it work at http://help.eclipse.org/help31/index.jsp ?</Line>
        </Lines>
      </Enumeration>
    </Enumerations>
    <bug_status amount="RESOLVED" />
    <resolution amount="WORKSFORME" />
    <WithStack>20060328

When I search I cannot get back to the main table of contents.

STEPS
1) Open help
2) Enter properties pages into the search area and search
3) Select the hierarchy icon
4) it will pop up momentarily and then the search results will cover it again. There is no way to close the search results.
It seems to work ok for me. A few things to try..

- Does it work if you view help in an external browser?
- If no, does it work at http://help.eclipse.org/help31/index.jsp ?

Are you using a new IE 7 beta?
This is in the embedded help browser. I am a Firefox user but I don't expect that should be any factor.

That URL works fine in Firefox
Tod, are you still seeing this? I can't reproduce and suspect that after the rewrite of parts of the help webapp this bug is no longer there. 
I think it is OK to close this
Closing.</WithStack>
    <WithOutStack>20060328

When I search I cannot get back to the main table of contents.

STEPS
1) Open help
2) Enter properties pages into the search area and search
3) Select the hierarchy icon
4) it will pop up momentarily and then the search results will cover it again. There is no way to close the search results.
It seems to work ok for me. A few things to try..

- Does it work if you view help in an external browser?
- If no, does it work at http://help.eclipse.org/help31/index.jsp ?

Are you using a new IE 7 beta?
This is in the embedded help browser. I am a Firefox user but I don't expect that should be any factor.

That URL works fine in Firefox
Tod, are you still seeing this? I can't reproduce and suspect that after the rewrite of parts of the help webapp this bug is no longer there. 
I think it is OK to close this
Closing.</WithOutStack>
  </Bug>
  <Bug>
    <BugId amount="133833" />
    <CreationDate amount="2006-03-29 09:07:00 -0500" />
    <DupId amount="" />
    <classification amount="WebTools" />
    <Product amount="WTP Common Tools" />
    <component amount="wst.command" />
    <Version amount="1.5" />
    <rep_platform amount="PC" />
    <op_sys amount="Windows 2000" />
    <priority amount="P3" />
    <bug_severity amount="normal" />
    <Summery>[Internal APIs] command environment</Summery>
    <Patches amount="0" />
    <Stacktraces amount="0" />
    <SourceCodeRegions amount="0" />
    <Enumerations amount="0" />
    <bug_status amount="NEW" />
    <resolution amount="" />
    <WithStack>In order to initialize the commands that are used to create the webservices, in our code we have to create a new instance of EclipseEnvironment, to do that we use the following internal classes:

org.eclipse.wst.command.internal.env.eclipse.EclipseEnvironment;
org.eclipse.wst.command.internal.env.ui.eclipse.EclipseStatusHandler;
org.eclipse.wst.command.internal.env.core.context.TransientResourceContext;

we also use org.eclipse.wst.command.internal.env.core.selection.BooleanSelection;
to initialize some boolean selections in one of the commands

We believe that this would be beneficial to make these classes/APIs external
Assigned to you, Kathy. Thanks - CB.
Eric,

Over to you.</WithStack>
    <WithOutStack>In order to initialize the commands that are used to create the webservices, in our code we have to create a new instance of EclipseEnvironment, to do that we use the following internal classes:

org.eclipse.wst.command.internal.env.eclipse.EclipseEnvironment;
org.eclipse.wst.command.internal.env.ui.eclipse.EclipseStatusHandler;
org.eclipse.wst.command.internal.env.core.context.TransientResourceContext;

we also use org.eclipse.wst.command.internal.env.core.selection.BooleanSelection;
to initialize some boolean selections in one of the commands

We believe that this would be beneficial to make these classes/APIs external
Assigned to you, Kathy. Thanks - CB.
Eric,

Over to you.</WithOutStack>
  </Bug>
  <Bug>
    <BugId amount="133834" />
    <CreationDate amount="2006-03-29 09:09:00 -0500" />
    <DupId amount="" />
    <classification amount="Eclipse" />
    <Product amount="JDT" />
    <component amount="UI" />
    <Version amount="3.2" />
    <rep_platform amount="PC" />
    <op_sys amount="Windows XP" />
    <priority amount="P3" />
    <bug_severity amount="normal" />
    <Summery>Extract superclass should not add "extends Object"</Summery>
    <Patches amount="0" />
    <Stacktraces amount="0" />
    <SourceCodeRegions amount="0" />
    <Enumerations amount="0" />
    <bug_status amount="RESOLVED" />
    <resolution amount="FIXED" />
    <WithStack>I20060329-0010

Extract superclass should not add "extends Object" to the extracted superclass.
Fixed in HEAD &gt; 20060404</WithStack>
    <WithOutStack>I20060329-0010

Extract superclass should not add "extends Object" to the extracted superclass.
Fixed in HEAD &gt; 20060404</WithOutStack>
  </Bug>
  <Bug>
    <BugId amount="133835" />
    <CreationDate amount="2006-03-29 09:09:00 -0500" />
    <DupId amount="" />
    <classification amount="Eclipse" />
    <Product amount="Platform" />
    <component amount="UI" />
    <Version amount="3.2" />
    <rep_platform amount="PC" />
    <op_sys amount="Windows XP" />
    <priority amount="P3" />
    <bug_severity amount="normal" />
    <Summery>schema for propertyPages has redundant entry</Summery>
    <Patches amount="0" />
    <Stacktraces amount="0" />
    <SourceCodeRegions amount="0" />
    <Enumerations amount="0" />
    <bug_status amount="RESOLVED" />
    <resolution amount="INVALID" />
    <WithStack>20060328

There is an enablement entry in the produced schema for propertyPages. We should only have enabledWhen
The handlers schema has this is as well. Doug I copied the schema code from you - do you know why it is here?
Not to worry. This is from core.expressions and just happened to have the same name as the element I deleted.</WithStack>
    <WithOutStack>20060328

There is an enablement entry in the produced schema for propertyPages. We should only have enabledWhen
The handlers schema has this is as well. Doug I copied the schema code from you - do you know why it is here?
Not to worry. This is from core.expressions and just happened to have the same name as the element I deleted.</WithOutStack>
  </Bug>
  <Bug>
    <BugId amount="133836" />
    <CreationDate amount="2006-03-29 09:12:00 -0500" />
    <DupId amount="" />
    <classification amount="Modeling" />
    <Product amount="GMF-Tooling" />
    <component amount="Core" />
    <Version amount="unspecified" />
    <rep_platform amount="PC" />
    <op_sys amount="Windows XP" />
    <priority amount="P3" />
    <bug_severity amount="major" />
    <Summery>Creating a child node *without* a label causes error</Summery>
    <Patches amount="0" />
    <Stacktraces amount="3">
      <Stacktrace timestamp="1437330688182">
        <Exception>java.lang.reflect.InvocationTargetException</Exception>
        <Reason />
        <Frames>
          <Frame depth="0">sun.reflect.NativeMethodAccessorImpl.invoke0(Native Method)</Frame>
          <Frame depth="1">sun.reflect.NativeMethodAccessorImpl.invoke(Unknown Source)</Frame>
          <Frame depth="2">sun.reflect.DelegatingMethodAccessorImpl.invoke(Unknown Source)</Frame>
          <Frame depth="3">java.lang.reflect.Method.invoke(Unknown Source)</Frame>
          <Frame depth="4">org.eclipse.emf.codegen.jet.JETEmitter.generate(JETEmitter.java:383)</Frame>
          <Frame depth="5">org.eclipse.emf.codegen.jet.JETEmitter.generate(JETEmitter.java:364)</Frame>
          <Frame depth="6">org.eclipse.gmf.common.codegen.GeneratorBase$JetAdapter.generate(GeneratorBase.java:375)</Frame>
          <Frame depth="7">org.eclipse.gmf.common.codegen.GeneratorBase.doGenerateJavaClass(GeneratorBase.java:236)</Frame>
          <Frame depth="8">org.eclipse.gmf.common.codegen.GeneratorBase.doGenerateJavaClass(GeneratorBase.java:224)</Frame>
          <Frame depth="9">org.eclipse.gmf.codegen.util.Generator.generateListContainerNodeEditPart(Generator.java:308)</Frame>
          <Frame depth="10">org.eclipse.gmf.codegen.util.Generator.generateListContainerNode(Generator.java:233)</Frame>
          <Frame depth="11">org.eclipse.gmf.codegen.util.Generator.customRun(Generator.java:150)</Frame>
          <Frame depth="12">org.eclipse.gmf.common.codegen.GeneratorBase.doRun(GeneratorBase.java:298)</Frame>
          <Frame depth="13">org.eclipse.gmf.common.codegen.GeneratorBase.run(GeneratorBase.java:71)</Frame>
          <Frame depth="14">org.eclipse.gmf.internal.codegen.popup.actions.ExecuteTemplatesAction.run(ExecuteTemplatesAction.java:102)</Frame>
          <Frame depth="15">org.eclipse.jface.operation.ModalContext$ModalContextThread.run(ModalContext.java:113)</Frame>
        </Frames>
      </Stacktrace>
      <Cause timestamp="1437330688182">
        <Exception>org.eclipse.emf.common.util.BasicEList$BasicIndexOutOfBoundsException</Exception>
        <Reason>index=0, size=0</Reason>
        <Frames>
          <Frame depth="0">org.eclipse.emf.common.util.BasicEList.get(BasicEList.java:512)</Frame>
          <Frame depth="1">org.eclipse.gmf.codegen.templates.parts.ChildNodeEditPartGenerator.generate(ChildNodeEditPartGenerator.java:148)</Frame>
        </Frames>
      </Cause>
      <Stacktrace timestamp="1437330688182">
        <Exception>org.eclipse.emf.common.util.BasicEList$BasicIndexOutOfBoundsException</Exception>
        <Reason>index=0, size=0</Reason>
        <Frames>
          <Frame depth="0">org.eclipse.emf.common.util.BasicEList.get(BasicEList.java:512)</Frame>
          <Frame depth="1">org.eclipse.gmf.codegen.templates.parts.ChildNodeEditPartGenerator.generate(ChildNodeEditPartGenerator.java:148)</Frame>
          <Frame depth="2">sun.reflect.NativeMethodAccessorImpl.invoke0(Native Method)</Frame>
          <Frame depth="3">sun.reflect.NativeMethodAccessorImpl.invoke(Unknown Source)</Frame>
          <Frame depth="4">sun.reflect.DelegatingMethodAccessorImpl.invoke(Unknown Source)</Frame>
          <Frame depth="5">java.lang.reflect.Method.invoke(Unknown Source)</Frame>
          <Frame depth="6">org.eclipse.emf.codegen.jet.JETEmitter.generate(JETEmitter.java:383)</Frame>
          <Frame depth="7">org.eclipse.emf.codegen.jet.JETEmitter.generate(JETEmitter.java:364)</Frame>
          <Frame depth="8">org.eclipse.gmf.common.codegen.GeneratorBase$JetAdapter.generate(GeneratorBase.java:375)</Frame>
          <Frame depth="9">org.eclipse.gmf.common.codegen.GeneratorBase.doGenerateJavaClass(GeneratorBase.java:236)</Frame>
          <Frame depth="10">org.eclipse.gmf.common.codegen.GeneratorBase.doGenerateJavaClass(GeneratorBase.java:224)</Frame>
          <Frame depth="11">org.eclipse.gmf.codegen.util.Generator.generateListContainerNodeEditPart(Generator.java:308)</Frame>
          <Frame depth="12">org.eclipse.gmf.codegen.util.Generator.generateListContainerNode(Generator.java:233)</Frame>
          <Frame depth="13">org.eclipse.gmf.codegen.util.Generator.customRun(Generator.java:150)</Frame>
          <Frame depth="14">org.eclipse.gmf.common.codegen.GeneratorBase.doRun(GeneratorBase.java:298)</Frame>
          <Frame depth="15">org.eclipse.gmf.common.codegen.GeneratorBase.run(GeneratorBase.java:71)</Frame>
          <Frame depth="16">org.eclipse.gmf.internal.codegen.popup.actions.ExecuteTemplatesAction.run(ExecuteTemplatesAction.java:102)</Frame>
          <Frame depth="17">org.eclipse.jface.operation.ModalContext$ModalContextThread.run(ModalContext.java:113)</Frame>
        </Frames>
      </Stacktrace>
    </Stacktraces>
    <SourceCodeRegions amount="0" />
    <Enumerations amount="0" />
    <bug_status amount="RESOLVED" />
    <resolution amount="FIXED" />
    <WithStack>Creating a child node *without* a label causes the internal error 'Problem with generating code'

java.lang.reflect.InvocationTargetException
at sun.reflect.NativeMethodAccessorImpl.invoke0(Native Method)
at sun.reflect.NativeMethodAccessorImpl.invoke(Unknown Source)
at sun.reflect.DelegatingMethodAccessorImpl.invoke(Unknown Source)
at java.lang.reflect.Method.invoke(Unknown Source)
at org.eclipse.emf.codegen.jet.JETEmitter.generate(JETEmitter.java:383)
at org.eclipse.emf.codegen.jet.JETEmitter.generate(JETEmitter.java:364)
at org.eclipse.gmf.common.codegen.GeneratorBase$JetAdapter.generate(GeneratorBase.java:375)
at org.eclipse.gmf.common.codegen.GeneratorBase.doGenerateJavaClass(GeneratorBase.java:236)
at org.eclipse.gmf.common.codegen.GeneratorBase.doGenerateJavaClass(GeneratorBase.java:224)
at org.eclipse.gmf.codegen.util.Generator.generateListContainerNodeEditPart(Generator.java:308)
at org.eclipse.gmf.codegen.util.Generator.generateListContainerNode(Generator.java:233)
at org.eclipse.gmf.codegen.util.Generator.customRun(Generator.java:150)
at org.eclipse.gmf.common.codegen.GeneratorBase.doRun(GeneratorBase.java:298)
at org.eclipse.gmf.common.codegen.GeneratorBase.run(GeneratorBase.java:71)
at org.eclipse.gmf.internal.codegen.popup.actions.ExecuteTemplatesAction.run(ExecuteTemplatesAction.java:102)
at org.eclipse.jface.operation.ModalContext$ModalContextThread.run(ModalContext.java:113)
Caused by: org.eclipse.emf.common.util.BasicEList$BasicIndexOutOfBoundsException: index=0, size=0
at org.eclipse.emf.common.util.BasicEList.get(BasicEList.java:512)
at org.eclipse.gmf.codegen.templates.parts.ChildNodeEditPartGenerator.generate(ChildNodeEditPartGenerator.java:148)
... 16 more
Root exception:
org.eclipse.emf.common.util.BasicEList$BasicIndexOutOfBoundsException: index=0, size=0
at org.eclipse.emf.common.util.BasicEList.get(BasicEList.java:512)
at org.eclipse.gmf.codegen.templates.parts.ChildNodeEditPartGenerator.generate(ChildNodeEditPartGenerator.java:148)
at sun.reflect.NativeMethodAccessorImpl.invoke0(Native Method)
at sun.reflect.NativeMethodAccessorImpl.invoke(Unknown Source)
at sun.reflect.DelegatingMethodAccessorImpl.invoke(Unknown Source)
at java.lang.reflect.Method.invoke(Unknown Source)
at org.eclipse.emf.codegen.jet.JETEmitter.generate(JETEmitter.java:383)
at org.eclipse.emf.codegen.jet.JETEmitter.generate(JETEmitter.java:364)
at org.eclipse.gmf.common.codegen.GeneratorBase$JetAdapter.generate(GeneratorBase.java:375)
at org.eclipse.gmf.common.codegen.GeneratorBase.doGenerateJavaClass(GeneratorBase.java:236)
at org.eclipse.gmf.common.codegen.GeneratorBase.doGenerateJavaClass(GeneratorBase.java:224)
at org.eclipse.gmf.codegen.util.Generator.generateListContainerNodeEditPart(Generator.java:308)
at org.eclipse.gmf.codegen.util.Generator.generateListContainerNode(Generator.java:233)
at org.eclipse.gmf.codegen.util.Generator.customRun(Generator.java:150)
at org.eclipse.gmf.common.codegen.GeneratorBase.doRun(GeneratorBase.java:298)
at org.eclipse.gmf.common.codegen.GeneratorBase.run(GeneratorBase.java:71)
at org.eclipse.gmf.internal.codegen.popup.actions.ExecuteTemplatesAction.run(ExecuteTemplatesAction.java:102)
at org.eclipse.jface.operation.ModalContext$ModalContextThread.run(ModalContext.java:113)
reassigned to generation inbox
*** Bug 132166 has been marked as a duplicate of this bug. ***
-
[GMF Restructure] Bug 319140 : product GMF and component
Generation was the original product and component for this bug</WithStack>
    <WithOutStack>Creating a child node *without* a label causes the internal error 'Problem with generating code'

... 16 more
Root exception:

reassigned to generation inbox
*** Bug 132166 has been marked as a duplicate of this bug. ***
-
[GMF Restructure] Bug 319140 : product GMF and component
Generation was the original product and component for this bug</WithOutStack>
  </Bug>
  <Bug>
    <BugId amount="133837" />
    <CreationDate amount="2006-03-29 09:14:00 -0500" />
    <DupId amount="" />
    <classification amount="WebTools" />
    <Product amount="WTP Java EE Tools" />
    <component amount="jst.j2ee" />
    <Version amount="1.5" />
    <rep_platform amount="PC" />
    <op_sys amount="Windows 2000" />
    <priority amount="P3" />
    <bug_severity amount="enhancement" />
    <Summery>[Internal API] programatic creation of Java project</Summery>
    <Patches amount="0" />
    <Stacktraces amount="0" />
    <SourceCodeRegions amount="0" />
    <Enumerations amount="0" />
    <bug_status amount="CLOSED" />
    <resolution amount="WONTFIX" />
    <WithStack>In our code we currently have a need to prgramatically create a java project. Currently we use the following internal classes to achieve that:

org.eclipse.jst.common.jdt.internal.integration.IJavaProjectCreationProperties 
org.eclipse.jst.common.jdt.internal.integration.JavaProjectCreationDataModelProvider 

 We think it would be beneficial to make these classes/APIs external
If it's just a Java project, isn't this a JDT requirement?
See  FacetProjectCreationDataModelProvider  and its  hierarchy,  dont use 
JavaProjectCreationDataModelProvider


(In reply to comment #2)
&gt; See  FacetProjectCreationDataModelProvider  and its  hierarchy,  dont use 
&gt; JavaProjectCreationDataModelProvider

I checked the hierarchy of "FacetProjectCreationDataModelProvider", I only found "J2EEFacetProjectCreationDataModelProvider" and "SimpleWebFacetProjectCreationDataModelProvider", which one I should use for creating JAVA project? What about the properties interface file?
Please provide more details on this or an example will be great. thanks
UtilityProjectCreationDataModelProvider, it doesn't create vanila Java project but a "faceted" Java Utility project,  i dont know if this is what you want.
Is the "faceted" Java Utility project an extension of vanila Java project? We had code to create Java project from UI (through standard Java Project Wizard) and command line, the problem here is for our command line case, we prefer to create the same project from both way, but if there is no vanila Java project creation code, then we can think about to change it, but we have to make sure the "faceted" project does NOT contain LESS "functionality". 

By the way, if we create java utility project, do you need to set "source folder", "output location", "classpath entry" (jre container) etc... (those are what we had to set for vanila Java project before)? if yes, so which properties interface we should use? Is there any extra property we should set to this new project type? thanks for your time.
Utility project in WTP is understandable by its API's, it also allows you to set Server contrainer,  and yes since it is a Java project it provides you capability what a JDT created Java project has.
I am closing this bug for now.</WithStack>
    <WithOutStack>In our code we currently have a need to prgramatically create a java project. Currently we use the following internal classes to achieve that:

org.eclipse.jst.common.jdt.internal.integration.IJavaProjectCreationProperties 
org.eclipse.jst.common.jdt.internal.integration.JavaProjectCreationDataModelProvider 

 We think it would be beneficial to make these classes/APIs external
If it's just a Java project, isn't this a JDT requirement?
See  FacetProjectCreationDataModelProvider  and its  hierarchy,  dont use 
JavaProjectCreationDataModelProvider


(In reply to comment #2)
&gt; See  FacetProjectCreationDataModelProvider  and its  hierarchy,  dont use 
&gt; JavaProjectCreationDataModelProvider

I checked the hierarchy of "FacetProjectCreationDataModelProvider", I only found "J2EEFacetProjectCreationDataModelProvider" and "SimpleWebFacetProjectCreationDataModelProvider", which one I should use for creating JAVA project? What about the properties interface file?
Please provide more details on this or an example will be great. thanks
UtilityProjectCreationDataModelProvider, it doesn't create vanila Java project but a "faceted" Java Utility project,  i dont know if this is what you want.
Is the "faceted" Java Utility project an extension of vanila Java project? We had code to create Java project from UI (through standard Java Project Wizard) and command line, the problem here is for our command line case, we prefer to create the same project from both way, but if there is no vanila Java project creation code, then we can think about to change it, but we have to make sure the "faceted" project does NOT contain LESS "functionality". 

By the way, if we create java utility project, do you need to set "source folder", "output location", "classpath entry" (jre container) etc... (those are what we had to set for vanila Java project before)? if yes, so which properties interface we should use? Is there any extra property we should set to this new project type? thanks for your time.
Utility project in WTP is understandable by its API's, it also allows you to set Server contrainer,  and yes since it is a Java project it provides you capability what a JDT created Java project has.
I am closing this bug for now.</WithOutStack>
  </Bug>
  <Bug>
    <BugId amount="133838" />
    <CreationDate amount="2006-03-29 09:16:00 -0500" />
    <DupId amount="" />
    <classification amount="Modeling" />
    <Product amount="GMF-Runtime" />
    <component amount="General" />
    <Version amount="unspecified" />
    <rep_platform amount="PC" />
    <op_sys amount="Windows XP" />
    <priority amount="P3" />
    <bug_severity amount="normal" />
    <Summery>[RulersGrid] Snap-to-grid does not work for a child node *immediately* inside a top level node</Summery>
    <Patches amount="0" />
    <Stacktraces amount="0" />
    <SourceCodeRegions amount="0" />
    <Enumerations amount="0" />
    <bug_status amount="NEW" />
    <resolution amount="" />
    <WithStack>Snap-to-grid does not work for a child node *immediately* inside a top level node. That is, a child node which is created inside a top level node without any compartments.
The generator has the capability to contain shapes directly inside another shape instead of indirectly through a shape compartment.  The runtime hasn't likely accounted for this case.
Moving to the next release, GMF 2.1. 
[GMF Restructure] Bug 319140 : product GMF and component
Runtime was the original product and component for this bug</WithStack>
    <WithOutStack>Snap-to-grid does not work for a child node *immediately* inside a top level node. That is, a child node which is created inside a top level node without any compartments.
The generator has the capability to contain shapes directly inside another shape instead of indirectly through a shape compartment.  The runtime hasn't likely accounted for this case.
Moving to the next release, GMF 2.1. 
[GMF Restructure] Bug 319140 : product GMF and component
Runtime was the original product and component for this bug</WithOutStack>
  </Bug>
  <Bug>
    <BugId amount="133839" />
    <CreationDate amount="2006-03-29 09:16:00 -0500" />
    <DupId amount="" />
    <classification amount="Eclipse" />
    <Product amount="Platform" />
    <component amount="SWT" />
    <Version amount="3.1" />
    <rep_platform amount="PC" />
    <op_sys amount="Windows 2000" />
    <priority amount="P3" />
    <bug_severity amount="normal" />
    <Summery>Multiple copied lines are not getting pasted into textbox.</Summery>
    <Patches amount="0" />
    <Stacktraces amount="0" />
    <SourceCodeRegions amount="2">
      <source_code type="functiondef">
        <location start="782" end="1700" />
        <code>public static void main (String [] args) {
	Display display = new Display ();
	Shell shell = new Shell (display);
	shell.setLayout(new FillLayout());
	final Text text1 = new Text(shell, SWT.BORDER | SWT.SINGLE);
	text1.setText("single");
	text1.addVerifyListener(new VerifyListener() {
		public void verifyText(VerifyEvent e) {
			//System.out.println("Verify "+e.text);
			String string = e.text;
			if (string.indexOf('\n') != -1 || string.indexOf('\r') != -1) {
				string = string.replace('\r', ' ');
				string = string.replace('\n', ' ');
				text1.setSelection(e.start, e.start + string.length());
				text1.insert(string);
				e.doit = false;
			}
		}
	});
	Text text2 = new Text(shell, SWT.BORDER | SWT.MULTI | SWT.H_SCROLL | SWT.V_SCROLL);
	text2.setText("multiple\na\nb\nc\r\nd");
	shell.open ();
	while (!shell.isDisposed ()) {
		if (!display.readAndDispatch ()) display.sleep ();
	}
	display.dispose ();
}</code>
      </source_code>
      <source_code type="functiondef">
        <location start="1806" end="2664" />
        <code>public static void main (String [] args) {
	Display display = new Display ();
	Shell shell = new Shell (display);
	shell.setLayout(new FillLayout());
	final Text text1 = new Text(shell, SWT.BORDER | SWT.SINGLE);
	text1.setText("single");
	text1.addVerifyListener(new VerifyListener() {
		public void verifyText(VerifyEvent e) {
			//System.out.println("Verify "+e.text);
			String string = e.text;
			if (string.indexOf('\n') != -1 || string.indexOf('\r') != -1) {
				string = string.replace('\r', ' ');
				string = string.replace('\n', ' ');
				text1.insert(string);
				e.doit = false;
			}
		}
	});
	Text text2 = new Text(shell, SWT.BORDER | SWT.MULTI | SWT.H_SCROLL | SWT.V_SCROLL);
	text2.setText("multiple\na\nb\nc\r\nd");
	shell.open ();
	while (!shell.isDisposed ()) {
		if (!display.readAndDispatch ()) display.sleep ();
	}
	display.dispose ();
}</code>
      </source_code>
    </SourceCodeRegions>
    <Enumerations amount="0" />
    <bug_status amount="RESOLVED" />
    <resolution amount="WORKSFORME" />
    <WithStack>Requirement: Multiple Lines of Copied content has to be pasted in one line with a space(" ") as separator.

If Multiple lines are copied, all content which was copied is not getting pasted(either using CTRL+V or a using rightclick (popup menu item) paste). Only First Line of the Selected content is getting pasted.

If I used SWT.MULTI in text box creation, Copied content(Multiple Lines) is getting pasted in Multiple Lines but not pasted in a single line.

Where as in swing, Multiple Lines of Copied content was getting pasted in one line with " " separator.
Hi,

I want to add this bug,

i want to capture CTRL+V call for text field and call some method which can process the data in clipboard. 

I used setAccelarator method, but its not working.
The following works for me:

public static void main (String [] args) {
	Display display = new Display ();
	Shell shell = new Shell (display);
	shell.setLayout(new FillLayout());
	final Text text1 = new Text(shell, SWT.BORDER | SWT.SINGLE);
	text1.setText("single");
	text1.addVerifyListener(new VerifyListener() {
		public void verifyText(VerifyEvent e) {
			//System.out.println("Verify "+e.text);
			String string = e.text;
			if (string.indexOf('\n') != -1 || string.indexOf('\r') != -1) {
				string = string.replace('\r', ' ');
				string = string.replace('\n', ' ');
				text1.setSelection(e.start, e.start + string.length());
				text1.insert(string);
				e.doit = false;
			}
		}
	});
	Text text2 = new Text(shell, SWT.BORDER | SWT.MULTI | SWT.H_SCROLL | SWT.V_SCROLL);
	text2.setText("multiple\na\nb\nc\r\nd");
	shell.open ();
	while (!shell.isDisposed ()) {
		if (!display.readAndDispatch ()) display.sleep ();
	}
	display.dispose ();
}
Oops, setting the selection can delete some text after the insertion point.  This is a better example:


public static void main (String [] args) {
	Display display = new Display ();
	Shell shell = new Shell (display);
	shell.setLayout(new FillLayout());
	final Text text1 = new Text(shell, SWT.BORDER | SWT.SINGLE);
	text1.setText("single");
	text1.addVerifyListener(new VerifyListener() {
		public void verifyText(VerifyEvent e) {
			//System.out.println("Verify "+e.text);
			String string = e.text;
			if (string.indexOf('\n') != -1 || string.indexOf('\r') != -1) {
				string = string.replace('\r', ' ');
				string = string.replace('\n', ' ');
				text1.insert(string);
				e.doit = false;
			}
		}
	});
	Text text2 = new Text(shell, SWT.BORDER | SWT.MULTI | SWT.H_SCROLL | SWT.V_SCROLL);
	text2.setText("multiple\na\nb\nc\r\nd");
	shell.open ();
	while (!shell.isDisposed ()) {
		if (!display.readAndDispatch ()) display.sleep ();
	}
	display.dispose ();
}
Thank you very much.</WithStack>
    <WithOutStack>Requirement: Multiple Lines of Copied content has to be pasted in one line with a space(" ") as separator.

If Multiple lines are copied, all content which was copied is not getting pasted(either using CTRL+V or a using rightclick (popup menu item) paste). Only First Line of the Selected content is getting pasted.

If I used SWT.MULTI in text box creation, Copied content(Multiple Lines) is getting pasted in Multiple Lines but not pasted in a single line.

Where as in swing, Multiple Lines of Copied content was getting pasted in one line with " " separator.
Hi,

I want to add this bug,

i want to capture CTRL+V call for text field and call some method which can process the data in clipboard. 

I used setAccelarator method, but its not working.
The following works for me:

public static void main (String [] args) {
	Display display = new Display ();
	Shell shell = new Shell (display);
	shell.setLayout(new FillLayout());
	final Text text1 = new Text(shell, SWT.BORDER | SWT.SINGLE);
	text1.setText("single");
	text1.addVerifyListener(new VerifyListener() {
		public void verifyText(VerifyEvent e) {
			//System.out.println("Verify "+e.text);
			String string = e.text;
			if (string.indexOf('\n') != -1 || string.indexOf('\r') != -1) {
				string = string.replace('\r', ' ');
				string = string.replace('\n', ' ');
				text1.setSelection(e.start, e.start + string.length());
				text1.insert(string);
				e.doit = false;
			}
		}
	});
	Text text2 = new Text(shell, SWT.BORDER | SWT.MULTI | SWT.H_SCROLL | SWT.V_SCROLL);
	text2.setText("multiple\na\nb\nc\r\nd");
	shell.open ();
	while (!shell.isDisposed ()) {
		if (!display.readAndDispatch ()) display.sleep ();
	}
	display.dispose ();
}
Oops, setting the selection can delete some text after the insertion point.  This is a better example:


public static void main (String [] args) {
	Display display = new Display ();
	Shell shell = new Shell (display);
	shell.setLayout(new FillLayout());
	final Text text1 = new Text(shell, SWT.BORDER | SWT.SINGLE);
	text1.setText("single");
	text1.addVerifyListener(new VerifyListener() {
		public void verifyText(VerifyEvent e) {
			//System.out.println("Verify "+e.text);
			String string = e.text;
			if (string.indexOf('\n') != -1 || string.indexOf('\r') != -1) {
				string = string.replace('\r', ' ');
				string = string.replace('\n', ' ');
				text1.insert(string);
				e.doit = false;
			}
		}
	});
	Text text2 = new Text(shell, SWT.BORDER | SWT.MULTI | SWT.H_SCROLL | SWT.V_SCROLL);
	text2.setText("multiple\na\nb\nc\r\nd");
	shell.open ();
	while (!shell.isDisposed ()) {
		if (!display.readAndDispatch ()) display.sleep ();
	}
	display.dispose ();
}
Thank you very much.</WithOutStack>
  </Bug>
  <Bug>
    <BugId amount="133840" />
    <CreationDate amount="2006-03-29 09:18:00 -0500" />
    <DupId amount="" />
    <classification amount="Modeling" />
    <Product amount="M2T" />
    <component amount="Jet" />
    <Version amount="0.8.0" />
    <rep_platform amount="PC" />
    <op_sys amount="Windows XP" />
    <priority amount="P3" />
    <bug_severity amount="normal" />
    <Summery>Need a tag that creates an Eclipse marker on selected text.</Summery>
    <Patches amount="0" />
    <Stacktraces amount="0" />
    <SourceCodeRegions amount="0" />
    <Enumerations amount="0" />
    <bug_status amount="VERIFIED" />
    <resolution amount="FIXED" />
    <WithStack>Need a tag such as

&lt;c:marker description="Do something"&gt;the template text to mark&lt;/c:marker&gt;

The description should be optional. If not specified, the marker description should be the text selected by the marker.

The marker created should derive from a task marker.
Changed committed to CVS.
Fixed in Build I200603301532
Move to verified as per bug 206558.</WithStack>
    <WithOutStack>Need a tag such as

&lt;c:marker description="Do something"&gt;the template text to mark&lt;/c:marker&gt;

The description should be optional. If not specified, the marker description should be the text selected by the marker.

The marker created should derive from a task marker.
Changed committed to CVS.
Fixed in Build I200603301532
Move to verified as per bug 206558.</WithOutStack>
  </Bug>
  <Bug>
    <BugId amount="133841" />
    <CreationDate amount="2006-03-29 09:24:00 -0500" />
    <DupId amount="" />
    <classification amount="Eclipse" />
    <Product amount="JDT" />
    <component amount="UI" />
    <Version amount="3.2" />
    <rep_platform amount="PC" />
    <op_sys amount="Windows 2000" />
    <priority amount="P3" />
    <bug_severity amount="normal" />
    <Summery>[Internal API] StringMatcher</Summery>
    <Patches amount="0" />
    <Stacktraces amount="0" />
    <SourceCodeRegions amount="0" />
    <Enumerations amount="0" />
    <bug_status amount="RESOLVED" />
    <resolution amount="WONTFIX" />
    <WithStack>in our code we currently have a dialog that needs to filter the string showing in the list. To achieve that we use the following internal API:

org.eclipse.jdt.internal.ui.util.StringMatcher 

We believe that it would be beneficial to externalize this API
You can use java.util.regex.Matcher. We also started to migrate to this class.</WithStack>
    <WithOutStack>in our code we currently have a dialog that needs to filter the string showing in the list. To achieve that we use the following internal API:

org.eclipse.jdt.internal.ui.util.StringMatcher 

We believe that it would be beneficial to externalize this API
You can use java.util.regex.Matcher. We also started to migrate to this class.</WithOutStack>
  </Bug>
  <Bug>
    <BugId amount="133842" />
    <CreationDate amount="2006-03-29 09:28:00 -0500" />
    <DupId amount="" />
    <classification amount="Modeling" />
    <Product amount="M2T" />
    <component amount="Jet" />
    <Version amount="0.8.0" />
    <rep_platform amount="PC" />
    <op_sys amount="Windows XP" />
    <priority amount="P3" />
    <bug_severity amount="normal" />
    <Summery>Include support for properties merge in the &lt;java:merge&gt; tag</Summery>
    <Patches amount="0" />
    <Stacktraces amount="0" />
    <SourceCodeRegions amount="0" />
    <Enumerations amount="0" />
    <bug_status amount="VERIFIED" />
    <resolution amount="FIXED" />
    <WithStack>The EMF Merge support includes support for Properties merging as well as Java merging. Modify the &lt;java:merge&gt; tag to invoke the PropertiesMerger is the target of the merge is a .properties file. Since propertiesMerges have no rules associated with them, the 'rules' attribute will be ignored in this case.
Changes committed to CVS.
Fixed in Build I200603301532
Move to verified as per bug 206558.</WithStack>
    <WithOutStack>The EMF Merge support includes support for Properties merging as well as Java merging. Modify the &lt;java:merge&gt; tag to invoke the PropertiesMerger is the target of the merge is a .properties file. Since propertiesMerges have no rules associated with them, the 'rules' attribute will be ignored in this case.
Changes committed to CVS.
Fixed in Build I200603301532
Move to verified as per bug 206558.</WithOutStack>
  </Bug>
  <Bug>
    <BugId amount="133843" />
    <CreationDate amount="2006-03-29 09:35:00 -0500" />
    <DupId amount="" />
    <classification amount="Modeling" />
    <Product amount="M2T" />
    <component amount="Jet" />
    <Version amount="0.8.0" />
    <rep_platform amount="PC" />
    <op_sys amount="Windows XP" />
    <priority amount="P3" />
    <bug_severity amount="normal" />
    <Summery>XPath functions translate() and normalize-space() not implemented</Summery>
    <Patches amount="0" />
    <Stacktraces amount="0" />
    <SourceCodeRegions amount="0" />
    <Enumerations amount="0" />
    <bug_status amount="VERIFIED" />
    <resolution amount="FIXED" />
    <WithStack>The XPath 1.0 functions translate(arg, mapchars, replacechars) and normalize-space([expr]) are not implemented.
Changes committed to CVS.
Fixed in Build I200603301532
Move to verified as per bug 206558.</WithStack>
    <WithOutStack>The XPath 1.0 functions translate(arg, mapchars, replacechars) and normalize-space([expr]) are not implemented.
Changes committed to CVS.
Fixed in Build I200603301532
Move to verified as per bug 206558.</WithOutStack>
  </Bug>
  <Bug>
    <BugId amount="133844" />
    <CreationDate amount="2006-03-29 09:40:00 -0500" />
    <DupId amount="" />
    <classification amount="Eclipse" />
    <Product amount="JDT" />
    <component amount="Core" />
    <Version amount="3.2" />
    <rep_platform amount="PC" />
    <op_sys amount="Windows XP" />
    <priority amount="P3" />
    <bug_severity amount="normal" />
    <Summery>[ast rewrite] bad formatting of extends clause in extract superclass [refactoring]</Summery>
    <Patches amount="0" />
    <Stacktraces amount="0" />
    <SourceCodeRegions amount="4">
      <source_code type="package">
        <location start="143" end="154" />
        <code>package xy;</code>
      </source_code>
      <source_code type="class">
        <location start="156" end="172" />
        <code>class Super {

}</code>
      </source_code>
      <source_code type="class">
        <location start="174" end="224" />
        <code>class Sub extends Super {

	public void m() {
	}
}</code>
      </source_code>
      <source_code type="class">
        <location start="328" end="356" />
        <code>class Sub extends Middle {
}</code>
      </source_code>
    </SourceCodeRegions>
    <Enumerations amount="0" />
    <bug_status amount="RESOLVED" />
    <resolution amount="WORKSFORME" />
    <WithStack>I20060329-0010

- code formatter: Eclipse [built-in] with 1 change:
    set "Blank Lines &gt; Before first declaration" to 1

- have xy/Try.java:
package xy;

class Super {

}

class Sub extends Super {

	public void m() {
	}
}

- select m, extract superclass, name it "Middle"

=&gt; was:
class Sub extends 
Middle {
}

=&gt; expected:
class Sub extends Middle {
}
The formatting is OK if the option mentioned in comment 0 is not enabled. The implementation just replaces one SimpleType by another one.

Seems to be a problem with ASTRewrite.
is it an ast rewrite issue?
Yes, see my comment 1.
Can not reproduce in 3.4</WithStack>
    <WithOutStack>I20060329-0010

- code formatter: Eclipse [built-in] with 1 change:
    set "Blank Lines &gt; Before first declaration" to 1

- have xy/Try.java:
package xy;

class Super {

}

class Sub extends Super {

	public void m() {
	}
}

- select m, extract superclass, name it "Middle"

=&gt; was:
class Sub extends 
Middle {
}

=&gt; expected:
class Sub extends Middle {
}
The formatting is OK if the option mentioned in comment 0 is not enabled. The implementation just replaces one SimpleType by another one.

Seems to be a problem with ASTRewrite.
is it an ast rewrite issue?
Yes, see my comment 1.
Can not reproduce in 3.4</WithOutStack>
  </Bug>
  <Bug>
    <BugId amount="133845" />
    <CreationDate amount="2006-03-29 09:49:00 -0500" />
    <DupId amount="" />
    <classification amount="Eclipse" />
    <Product amount="Platform" />
    <component amount="CVS" />
    <Version amount="3.2" />
    <rep_platform amount="PC" />
    <op_sys amount="Windows XP" />
    <priority amount="P1" />
    <bug_severity amount="normal" />
    <Summery>[History] NPE when new file selected</Summery>
    <Patches amount="0" />
    <Stacktraces amount="1">
      <Stacktrace timestamp="1437330688182">
        <Exception>java.lang.NullPointerException</Exception>
        <Reason />
        <Frames>
          <Frame depth="0">org.eclipse.team.internal.ccvs.core.filehistory.CVSFileHistory.refresh(CVSFileHistory.java:94)</Frame>
          <Frame depth="1">org.eclipse.team.internal.ccvs.ui.CVSHistoryPage$RefreshCVSFileHistory.run(CVSHistoryPage.java:1002)</Frame>
          <Frame depth="2">org.eclipse.core.internal.jobs.Worker.run(Worker.java:58)</Frame>
        </Frames>
      </Stacktrace>
    </Stacktraces>
    <SourceCodeRegions amount="0" />
    <Enumerations amount="0" />
    <bug_status amount="RESOLVED" />
    <resolution amount="FIXED" />
    <WithStack>I selected a file that I just created in a CVS project and got the following NPE.

java.lang.NullPointerException
at org.eclipse.team.internal.ccvs.core.filehistory.CVSFileHistory.refresh(CVSFileHistory.java:94)
at org.eclipse.team.internal.ccvs.ui.CVSHistoryPage$RefreshCVSFileHistory.run(CVSHistoryPage.java:1002)
at org.eclipse.core.internal.jobs.Worker.run(Worker.java:58)
Bogdan, please fix this for M6.
Fixed in HEAD.</WithStack>
    <WithOutStack>I selected a file that I just created in a CVS project and got the following NPE.


Bogdan, please fix this for M6.
Fixed in HEAD.</WithOutStack>
  </Bug>
  <Bug>
    <BugId amount="133846" />
    <CreationDate amount="2006-03-29 09:53:00 -0500" />
    <DupId amount="" />
    <classification amount="Eclipse" />
    <Product amount="Platform" />
    <component amount="IDE" />
    <Version amount="3.0" />
    <rep_platform amount="PC" />
    <op_sys amount="Windows XP" />
    <priority amount="P3" />
    <bug_severity amount="normal" />
    <Summery>[Markers] Editable completed is being sorted after non editable</Summery>
    <Patches amount="0" />
    <Stacktraces amount="0" />
    <SourceCodeRegions amount="0" />
    <Enumerations amount="0" />
    <bug_status amount="VERIFIED" />
    <resolution amount="FIXED" />
    <WithStack>20060328

The completed flag is the first sort critera of the tasks but if you add a user task it is sorted after the non editable ones. If  a task is not completed it should not affect the sort order.
We also need to show sort criteria in the TasksView
This is fixed in the new tasks view
Verified in I20080205-0800</WithStack>
    <WithOutStack>20060328

The completed flag is the first sort critera of the tasks but if you add a user task it is sorted after the non editable ones. If  a task is not completed it should not affect the sort order.
We also need to show sort criteria in the TasksView
This is fixed in the new tasks view
Verified in I20080205-0800</WithOutStack>
  </Bug>
  <Bug>
    <BugId amount="133847" />
    <CreationDate amount="2006-03-29 09:55:00 -0500" />
    <DupId amount="" />
    <classification amount="Eclipse" />
    <Product amount="Platform" />
    <component amount="UI" />
    <Version amount="3.1.2" />
    <rep_platform amount="PC" />
    <op_sys amount="Windows XP" />
    <priority amount="P3" />
    <bug_severity amount="trivial" />
    <Summery>Javadoc bug in StackPresentation.setState(int)</Summery>
    <Patches amount="0" />
    <Stacktraces amount="0" />
    <SourceCodeRegions amount="0" />
    <Enumerations amount="0" />
    <bug_status amount="RESOLVED" />
    <resolution amount="FIXED" />
    <WithStack>StackPresentation.setState(int) references "IPresentationSite.STATE_*" and "IPresentationSite") a number of times.  The reference should be to "IStackPresentationSite".

Fixed in &gt;20060329.

Thanks

Verified:

Version: 3.2.0
Build id: I20060505-1306</WithStack>
    <WithOutStack>StackPresentation.setState(int) references "IPresentationSite.STATE_*" and "IPresentationSite") a number of times.  The reference should be to "IStackPresentationSite".

Fixed in &gt;20060329.

Thanks

Verified:

Version: 3.2.0
Build id: I20060505-1306</WithOutStack>
  </Bug>
  <Bug>
    <BugId amount="133848" />
    <CreationDate amount="2006-03-29 09:58:00 -0500" />
    <DupId amount="" />
    <classification amount="Eclipse" />
    <Product amount="JDT" />
    <component amount="Core" />
    <Version amount="3.2" />
    <rep_platform amount="PC" />
    <op_sys amount="Windows XP" />
    <priority amount="P3" />
    <bug_severity amount="normal" />
    <Summery>-sourcepath should also be supported for jars and zip files</Summery>
    <Patches amount="0" />
    <Stacktraces amount="0" />
    <SourceCodeRegions amount="2">
      <source_code type="class">
        <location start="866" end="898" />
        <code>public class X extends p.Bar {
}</code>
      </source_code>
      <source_code type="class">
        <location start="1552" end="1583" />
        <code>public class User {
  Used m;
}</code>
      </source_code>
    </SourceCodeRegions>
    <Enumerations amount="0" />
    <bug_status amount="VERIFIED" />
    <resolution amount="FIXED" />
    <WithStack>-sourcepath support is ok for directory, but it doesn't seem to work for jar or zip files.
In org.eclipse.jdt.internal.compiler.batch.ClasspathJar, we are only looking for .class files. Never for source files.
org.eclipse.jdt.internal.compiler.batch.ClasspathDirectory is correctly checking source files and class files.
-sourcepath sourcepath
    Specify the source code path to search for class or interface definitions. As with the user class path, source path entries are separated by semicolons (;) and can be directories, JAR archives, or ZIP archives. If packages are used, the local path name within the directory or archive must reflect the package name.

    Note:   Classes found through the classpath are subject to automatic recompilation if their sources are found. 
Created attachment 37664
Proposed fix

To verify, try to compile the following code:
public class X extends p.Bar {
}

where p.Bar is located within a zip or a jar file and you run the batch using:

D:/tests_sources/X.java 
-d d:\tests_sources
-classpath d:\tests_sources
-sourcepath d:\tests_sources\lib.zip
-time
-g
-1.5
-preserveAllLocals
Maxime and Philippe,

Let me know if you believe that this should be fixed. The attached patch works well and in fact javac 1.5 doesn't handle this case well and javac 6.0 fails to create p.Bar in the right folder. It creates a folder called "lib.zip(p" in which it puts Bar.class. So at runtime, the class p.Bar is not found.
javac 1.5 compiles referenced types in place. If you use the following setup:
src/Used.java
User.java
public class User {
  Used m;
}

and do javac -sourcepath src User.java, you get the following new files:
src/Used.class
User.class

I believe that this would call for a clarification of the use of the -sourcepath option if it were to accept archives (notwithstanding its interaction with other options).
Fixing this would make -sourcepath compatible with what javac supports (in theory).

-sourcepath sourcepath
    Specify the source code path to search for class or interface definitions. As with the user class path, source path entries are separated by semicolons (;) and can be directories, JAR archives, or ZIP archives. If packages are used, the local path name within the directory or archive must reflect the package name.

    Note that classes found through the classpath are subject to automatic recompilation if their sources are found.

It could be convenient to compile using a zip that contains the source code. Might be slower though.
Philippe,

Do you want this to be fixed?
Technically we are ok with the description in the print usage of the batch compiler, but this is not equivalent to the same option for javac. So to have a better compatibility between the two compilers, it could be a plus.

If we don't fix it, we might verify that elements on the -sourcepath option are directories and reject jar/zip files.
Maxime,

Could you please review the patch?
+1 for 3.2RC1
Created attachment 38355
New patch

Maxime,

This new patch defines a subclass of ClasspathJar called ClasspathSourceJar to handle the case of the -sourcepath.
I also updated the print usage.
All generated files are put in the output folder. This makes a more consistent behavior.
I will release if all tests passed.
Created attachment 38356
Regression tests updated

Updated BatchCompilerTests
Fixed and released in HEAD.
(In reply to comment #8)
&gt; Maxime,
&gt; 
&gt; Could you please review the patch?
&gt; 
I think I would have a couple of questions. Would you sametime me this afternoon?
Verified for 3.2 RC1 using build I20060413-0010</WithStack>
    <WithOutStack>-sourcepath support is ok for directory, but it doesn't seem to work for jar or zip files.
In org.eclipse.jdt.internal.compiler.batch.ClasspathJar, we are only looking for .class files. Never for source files.
org.eclipse.jdt.internal.compiler.batch.ClasspathDirectory is correctly checking source files and class files.
-sourcepath sourcepath
    Specify the source code path to search for class or interface definitions. As with the user class path, source path entries are separated by semicolons (;) and can be directories, JAR archives, or ZIP archives. If packages are used, the local path name within the directory or archive must reflect the package name.

    Note:   Classes found through the classpath are subject to automatic recompilation if their sources are found. 
Created attachment 37664
Proposed fix

To verify, try to compile the following code:
public class X extends p.Bar {
}

where p.Bar is located within a zip or a jar file and you run the batch using:

D:/tests_sources/X.java 
-d d:\tests_sources
-classpath d:\tests_sources
-sourcepath d:\tests_sources\lib.zip
-time
-g
-1.5
-preserveAllLocals
Maxime and Philippe,

Let me know if you believe that this should be fixed. The attached patch works well and in fact javac 1.5 doesn't handle this case well and javac 6.0 fails to create p.Bar in the right folder. It creates a folder called "lib.zip(p" in which it puts Bar.class. So at runtime, the class p.Bar is not found.
javac 1.5 compiles referenced types in place. If you use the following setup:
src/Used.java
User.java
public class User {
  Used m;
}

and do javac -sourcepath src User.java, you get the following new files:
src/Used.class
User.class

I believe that this would call for a clarification of the use of the -sourcepath option if it were to accept archives (notwithstanding its interaction with other options).
Fixing this would make -sourcepath compatible with what javac supports (in theory).

-sourcepath sourcepath
    Specify the source code path to search for class or interface definitions. As with the user class path, source path entries are separated by semicolons (;) and can be directories, JAR archives, or ZIP archives. If packages are used, the local path name within the directory or archive must reflect the package name.

    Note that classes found through the classpath are subject to automatic recompilation if their sources are found.

It could be convenient to compile using a zip that contains the source code. Might be slower though.
Philippe,

Do you want this to be fixed?
Technically we are ok with the description in the print usage of the batch compiler, but this is not equivalent to the same option for javac. So to have a better compatibility between the two compilers, it could be a plus.

If we don't fix it, we might verify that elements on the -sourcepath option are directories and reject jar/zip files.
Maxime,

Could you please review the patch?
+1 for 3.2RC1
Created attachment 38355
New patch

Maxime,

This new patch defines a subclass of ClasspathJar called ClasspathSourceJar to handle the case of the -sourcepath.
I also updated the print usage.
All generated files are put in the output folder. This makes a more consistent behavior.
I will release if all tests passed.
Created attachment 38356
Regression tests updated

Updated BatchCompilerTests
Fixed and released in HEAD.
(In reply to comment #8)
&gt; Maxime,
&gt; 
&gt; Could you please review the patch?
&gt; 
I think I would have a couple of questions. Would you sametime me this afternoon?
Verified for 3.2 RC1 using build I20060413-0010</WithOutStack>
  </Bug>
  <Bug>
    <BugId amount="133849" />
    <CreationDate amount="2006-03-29 10:01:00 -0500" />
    <DupId amount="" />
    <classification amount="Eclipse" />
    <Product amount="Platform" />
    <component amount="UI" />
    <Version amount="3.1" />
    <rep_platform amount="PC" />
    <op_sys amount="Windows XP" />
    <priority amount="P3" />
    <bug_severity amount="normal" />
    <Summery>[Preferences] selecting with error in the page</Summery>
    <Patches amount="0" />
    <Stacktraces amount="0" />
    <SourceCodeRegions amount="0" />
    <Enumerations amount="1">
      <Enumeration lines="3">
        <Lines>
          <Line>- then click on another page you get the error dialog "The currently displayed page contains invalid values" because you are not allowed to leave the page</Line>
          <Line>- now click on the editors page itself, you still get the message</Line>
          <Line>- NOTE that no page change is happening so I would not exect this.</Line>
        </Lines>
      </Enumeration>
    </Enumerations>
    <bug_status amount="RESOLVED" />
    <resolution amount="WONTFIX" />
    <WithStack>If you have a page (say Editors page ) with an error (enter a non-numeric value for "size of recently opened files list".
- then click on another page you get the error dialog "The currently displayed page contains invalid values" because you are not allowed to leave the page
- now click on the editors page itself, you still get the message
- NOTE that no page change is happening so I would not exect this.

Tod, seems to be a generic issue...

There are currently no plans to work on this however I would be happy to look over a contribution</WithStack>
    <WithOutStack>If you have a page (say Editors page ) with an error (enter a non-numeric value for "size of recently opened files list".
- then click on another page you get the error dialog "The currently displayed page contains invalid values" because you are not allowed to leave the page
- now click on the editors page itself, you still get the message
- NOTE that no page change is happening so I would not exect this.

Tod, seems to be a generic issue...

There are currently no plans to work on this however I would be happy to look over a contribution</WithOutStack>
  </Bug>
  <Bug>
    <BugId amount="133850" />
    <CreationDate amount="2006-03-29 10:12:00 -0500" />
    <DupId amount="149459" />
    <classification amount="Tools" />
    <Product amount="TPTP Testing" />
    <component amount="Test.UI" />
    <Version amount="4.2" />
    <rep_platform amount="PC" />
    <op_sys amount="Windows XP" />
    <priority amount="P3" />
    <bug_severity amount="enhancement" />
    <Summery>Add "Create Project" button to o.e.t.t.provisional.recorder.ui.wizards.TestsuiteLocationWizardPage</Summery>
    <Patches amount="0" />
    <Stacktraces amount="0" />
    <SourceCodeRegions amount="0" />
    <Enumerations amount="0" />
    <bug_status amount="CLOSED" />
    <resolution amount="DUPLICATE" />
    <WithStack>A downstream product is requesting this feature: add a "Create Project..." button to the TestsuiteLocationWizardPage, so a "New Project" wizard is launched to create a new project. This is useful when the user goes directly to the record wizard, without creating a project first.
The action performed when the "Create Project..." button is hit should be customizable by a class that extends TestsuiteLocationWizardPage (for instance, to display a specific New Project wizard that creates only a certain nature of project).
Add Jeff as CC as his opinion is always welcomed.
Reassign these Test.UI bugs/enhancements to Jerome.


*** This bug has been marked as a duplicate of 149459 ***
ACTION: Please update the target to the release AND iteration that this defect was returned/fixed.
ACTION: Please verify/close this defect.
Verified on TPTP-4.3.0-200611070100 driver.</WithStack>
    <WithOutStack>A downstream product is requesting this feature: add a "Create Project..." button to the TestsuiteLocationWizardPage, so a "New Project" wizard is launched to create a new project. This is useful when the user goes directly to the record wizard, without creating a project first.
The action performed when the "Create Project..." button is hit should be customizable by a class that extends TestsuiteLocationWizardPage (for instance, to display a specific New Project wizard that creates only a certain nature of project).
Add Jeff as CC as his opinion is always welcomed.
Reassign these Test.UI bugs/enhancements to Jerome.


*** This bug has been marked as a duplicate of 149459 ***
ACTION: Please update the target to the release AND iteration that this defect was returned/fixed.
ACTION: Please verify/close this defect.
Verified on TPTP-4.3.0-200611070100 driver.</WithOutStack>
  </Bug>
  <Bug>
    <BugId amount="133851" />
    <CreationDate amount="2006-03-29 10:18:00 -0500" />
    <DupId amount="" />
    <classification amount="Tools" />
    <Product amount="CDT" />
    <component amount="cdt-core" />
    <Version amount="3.0.1" />
    <rep_platform amount="PC" />
    <op_sys amount="Windows XP" />
    <priority amount="P3" />
    <bug_severity amount="normal" />
    <Summery>CDT editor does not use SelectMarkerRulerAction.</Summery>
    <Patches amount="0" />
    <Stacktraces amount="0" />
    <SourceCodeRegions amount="0" />
    <Enumerations amount="0" />
    <bug_status amount="RESOLVED" />
    <resolution amount="FIXED" />
    <WithStack>The Bookmark and Task Annotations in the CDT editor ruler when mouse clicked do not select the text.

The SelectMarkerRulerAction is used for the editor of files with *.java or
*.txt BUT not for the *.cpp.  The editor for *.cpp doesn't highlight any selected
text.
Fixed in 3.1.1 and 4.0.</WithStack>
    <WithOutStack>The Bookmark and Task Annotations in the CDT editor ruler when mouse clicked do not select the text.

The SelectMarkerRulerAction is used for the editor of files with *.java or
*.txt BUT not for the *.cpp.  The editor for *.cpp doesn't highlight any selected
text.
Fixed in 3.1.1 and 4.0.</WithOutStack>
  </Bug>
  <Bug>
    <BugId amount="133852" />
    <CreationDate amount="2006-03-29 10:20:00 -0500" />
    <DupId amount="" />
    <classification amount="Eclipse" />
    <Product amount="Platform" />
    <component amount="Text" />
    <Version amount="3.2" />
    <rep_platform amount="PC" />
    <op_sys amount="Windows XP" />
    <priority amount="P2" />
    <bug_severity amount="enhancement" />
    <Summery>[rulers] Allow to make a revision sticky</Summery>
    <Patches amount="0" />
    <Stacktraces amount="0" />
    <SourceCodeRegions amount="0" />
    <Enumerations amount="1">
      <Enumeration lines="4">
        <Lines>
          <Line>- Clicking the sticky revision clears the sticky selection</Line>
          <Line>- When hovering over other another revision, that other revision is shown as focused (as it was up to now), but when the mouse leaves the ruler, the sticky revision is again focused</Line>
          <Line>- The ruler's selection provider now supports #setSelection, which sets the sticky revision</Line>
          <Line>verified in I20060919-0010</Line>
        </Lines>
      </Enumeration>
    </Enumerations>
    <bug_status amount="VERIFIED" />
    <resolution amount="FIXED" />
    <WithStack>I20060329-0010.

We should allow (e.g. by clicking into a revision in the vertical ruler) to make a revision sticky, so that I can browse the changes via annotations in the overview ruler.
Not for 3.2.
Should be adressed together with bug 135231.
Fixed &gt; 20060824

Revisions that are clicked in the ruler are made "sticky", which means that they keep the focus and the blocks corresponding to the revision are shown in the overview ruler.

- Clicking the sticky revision clears the sticky selection
- When hovering over other another revision, that other revision is shown as focused (as it was up to now), but when the mouse leaves the ruler, the sticky revision is again focused
- The ruler's selection provider now supports #setSelection, which sets the sticky revision
verified in I20060919-0010</WithStack>
    <WithOutStack>I20060329-0010.

We should allow (e.g. by clicking into a revision in the vertical ruler) to make a revision sticky, so that I can browse the changes via annotations in the overview ruler.
Not for 3.2.
Should be adressed together with bug 135231.
Fixed &gt; 20060824

Revisions that are clicked in the ruler are made "sticky", which means that they keep the focus and the blocks corresponding to the revision are shown in the overview ruler.

- Clicking the sticky revision clears the sticky selection
- When hovering over other another revision, that other revision is shown as focused (as it was up to now), but when the mouse leaves the ruler, the sticky revision is again focused
- The ruler's selection provider now supports #setSelection, which sets the sticky revision
verified in I20060919-0010</WithOutStack>
  </Bug>
  <Bug>
    <BugId amount="133853" />
    <CreationDate amount="2006-03-29 10:24:00 -0500" />
    <DupId amount="" />
    <classification amount="Eclipse" />
    <Product amount="JDT" />
    <component amount="Text" />
    <Version amount="3.2" />
    <rep_platform amount="PC" />
    <op_sys amount="Windows XP" />
    <priority amount="P1" />
    <bug_severity amount="blocker" />
    <Summery>endless loop in icu.RuleBasedBreakIterator_New</Summery>
    <Patches amount="0" />
    <Stacktraces amount="0" />
    <SourceCodeRegions amount="4">
      <source_code type="multicomment">
        <location start="58" end="70" />
        <code>/**
 * 
 */</code>
      </source_code>
      <source_code type="package">
        <location start="71" end="85" />
        <code>package other;</code>
      </source_code>
      <source_code type="multicomment">
        <location start="86" end="111" />
        <code>/**
 * @category API
 */</code>
      </source_code>
      <source_code type="class">
        <location start="112" end="227" />
        <code>public abstract class Controller {

	/**
	 * @category API
	 * @category API
	 */
	abstract int getValue() 
	
	
	
}</code>
      </source_code>
    </SourceCodeRegions>
    <Enumerations amount="0" />
    <bug_status amount="VERIFIED" />
    <resolution amount="FIXED" />
    <WithStack>20060329

- double click on the second occurence of 'API'

/**
 * 
 */
package other;

/**
 * @category API
 */
public abstract class Controller {

	/**
	 * @category API
	 * @category API
	 */
	abstract int getValue() 
	
	
	
}
This is a blocker: the IDE freezes.

This is a bug in our CharacterIterator that got leveraged by the icu implementation of BreakIterator which uses different API on the character iterator. Verified and fixed all other occurrences.

Fixed in HEAD.
Available in builds &gt;= I20060329-1600.
Test case: double click on a word at the end of a line.
Verified using I20060330-0010.</WithStack>
    <WithOutStack>20060329

- double click on the second occurence of 'API'

/**
 * 
 */
package other;

/**
 * @category API
 */
public abstract class Controller {

	/**
	 * @category API
	 * @category API
	 */
	abstract int getValue() 
	
	
	
}
This is a blocker: the IDE freezes.

This is a bug in our CharacterIterator that got leveraged by the icu implementation of BreakIterator which uses different API on the character iterator. Verified and fixed all other occurrences.

Fixed in HEAD.
Available in builds &gt;= I20060329-1600.
Test case: double click on a word at the end of a line.
Verified using I20060330-0010.</WithOutStack>
  </Bug>
  <Bug>
    <BugId amount="133854" />
    <CreationDate amount="2006-03-29 10:34:00 -0500" />
    <DupId amount="133856" />
    <classification amount="Tools" />
    <Product amount="MTJ" />
    <component amount="General" />
    <Version amount="unspecified" />
    <rep_platform amount="All" />
    <op_sys amount="Windows XP" />
    <priority amount="P3" />
    <bug_severity amount="normal" />
    <Summery>Provide initial support for MIDP signing</Summery>
    <Patches amount="0" />
    <Stacktraces amount="0" />
    <SourceCodeRegions amount="0" />
    <Enumerations amount="0" />
    <bug_status amount="CLOSED" />
    <resolution amount="DUPLICATE" />
    <WithStack>Provide the initial code to support MIDP signing using the IBM J9 and Sun WTK/Java SE signing mechanisms.
Sorry.  This was entered twice.

*** This bug has been marked as a duplicate of 133856 ***
closed.</WithStack>
    <WithOutStack>Provide the initial code to support MIDP signing using the IBM J9 and Sun WTK/Java SE signing mechanisms.
Sorry.  This was entered twice.

*** This bug has been marked as a duplicate of 133856 ***
closed.</WithOutStack>
  </Bug>
  <Bug>
    <BugId amount="133855" />
    <CreationDate amount="2006-03-29 10:35:00 -0500" />
    <DupId amount="" />
    <classification amount="Eclipse" />
    <Product amount="Platform" />
    <component amount="UI" />
    <Version amount="3.1.1" />
    <rep_platform amount="PC" />
    <op_sys amount="Linux" />
    <priority amount="P4" />
    <bug_severity amount="normal" />
    <Summery>[EditorMgmt] NPE opening a file under heavy load</Summery>
    <Patches amount="0" />
    <Stacktraces amount="1">
      <Stacktrace timestamp="1437330688197">
        <Exception>java.lang.NullPointerException</Exception>
        <Reason />
        <Frames>
          <Frame depth="0">org.eclipse.ui.texteditor.AbstractTextEditor.getAction(AbstractTextEditor.java:4026)</Frame>
          <Frame depth="1">org.eclipse.wst.xml.ui.internal.tabletree.XMLTableTreeActionBarContributor.getAction(XMLTableTreeActionBarContributor.java:210)</Frame>
          <Frame depth="2">org.eclipse.wst.xml.ui.internal.tabletree.XMLTableTreeActionBarContributor.setActiveEditor(XMLTableTreeActionBarContributor.java:198)</Frame>
          <Frame depth="3">org.eclipse.wst.xml.ui.internal.tabletree.XMLMultiPageEditorActionBarContributor.activateSourcePage(XMLMultiPageEditorActionBarContributor.java:54)</Frame>
          <Frame depth="4">org.eclipse.wst.xml.ui.internal.tabletree.SourceEditorActionBarContributor.setActivePage(SourceEditorActionBarContributor.java:168)</Frame>
          <Frame depth="5">org.eclipse.ui.part.MultiPageEditorPart.pageChange(MultiPageEditorPart.java:580)</Frame>
          <Frame depth="6">org.eclipse.wst.xml.ui.internal.tabletree.XMLMultiPageEditorPart.pageChange(XMLMultiPageEditorPart.java:739)</Frame>
          <Frame depth="7">org.eclipse.ui.part.MultiPageEditorPart.setActivePage(MultiPageEditorPart.java:670)</Frame>
          <Frame depth="8">org.eclipse.wst.xml.ui.internal.tabletree.XMLMultiPageEditorPart.createPages(XMLMultiPageEditorPart.java:509)</Frame>
          <Frame depth="9">org.eclipse.ui.part.MultiPageEditorPart.createPartControl(MultiPageEditorPart.java:272)</Frame>
          <Frame depth="10">org.eclipse.ui.internal.EditorReference.createPartHelper(EditorReference.java:591)</Frame>
          <Frame depth="11">org.eclipse.ui.internal.EditorReference.createPart(EditorReference.java:367)</Frame>
          <Frame depth="12">org.eclipse.ui.internal.WorkbenchPartReference.getPart(WorkbenchPartReference.java:555)</Frame>
          <Frame depth="13">org.eclipse.ui.internal.EditorReference.getEditor(EditorReference.java:212)</Frame>
          <Frame depth="14">org.eclipse.ui.internal.WorkbenchPage.busyOpenEditorBatched(WorkbenchPage.java:2392)</Frame>
          <Frame depth="15">org.eclipse.ui.internal.WorkbenchPage.busyOpenEditor(WorkbenchPage.java:2325)</Frame>
          <Frame depth="16">org.eclipse.ui.internal.WorkbenchPage.access$10(WorkbenchPage.java:2317)</Frame>
          <Frame depth="17">org.eclipse.ui.internal.WorkbenchPage$9.run(WorkbenchPage.java:2303)</Frame>
          <Frame depth="18">org.eclipse.swt.custom.BusyIndicator.showWhile(BusyIndicator.java:69)</Frame>
          <Frame depth="19">org.eclipse.ui.internal.WorkbenchPage.openEditor(WorkbenchPage.java:2298)</Frame>
          <Frame depth="20">org.eclipse.ui.internal.WorkbenchPage.openEditor(WorkbenchPage.java:2283)</Frame>
          <Frame depth="21">org.eclipse.ui.ide.IDE.openEditor(IDE.java:384)</Frame>
          <Frame depth="22">org.eclipse.ui.ide.IDE.openEditor(IDE.java:347)</Frame>
          <Frame depth="23">org.eclipse.ui.internal.ide.handlers.OpenResourceHandler.execute(OpenResourceHandler.java:112)</Frame>
          <Frame depth="24">org.eclipse.ui.internal.handlers.HandlerProxy.execute(HandlerProxy.java:151)</Frame>
          <Frame depth="25">org.eclipse.core.commands.Command.executeWithChecks(Command.java:460)</Frame>
          <Frame depth="26">org.eclipse.core.commands.ParameterizedCommand.executeWithChecks(ParameterizedCommand.java:421)</Frame>
          <Frame depth="27">org.eclipse.ui.internal.handlers.HandlerService.executeCommand(HandlerService.java:160)</Frame>
          <Frame depth="28">org.eclipse.ui.internal.keys.WorkbenchKeyboard.executeCommand(WorkbenchKeyboard.java:466)</Frame>
          <Frame depth="29">org.eclipse.ui.internal.keys.WorkbenchKeyboard.press(WorkbenchKeyboard.java:798)</Frame>
          <Frame depth="30">org.eclipse.ui.internal.keys.WorkbenchKeyboard.processKeyEvent(WorkbenchKeyboard.java:845)</Frame>
          <Frame depth="31">org.eclipse.ui.internal.keys.WorkbenchKeyboard.filterKeySequenceBindings(WorkbenchKeyboard.java:563)</Frame>
          <Frame depth="32">org.eclipse.ui.internal.keys.WorkbenchKeyboard.access$3(WorkbenchKeyboard.java:506)</Frame>
          <Frame depth="33">org.eclipse.ui.internal.keys.WorkbenchKeyboard$KeyDownFilter.handleEvent(WorkbenchKeyboard.java:122)</Frame>
          <Frame depth="34">org.eclipse.swt.widgets.EventTable.sendEvent(EventTable.java:66)</Frame>
          <Frame depth="35">org.eclipse.swt.widgets.Display.filterEvent(Display.java:1336)</Frame>
          <Frame depth="36">org.eclipse.swt.widgets.Widget.sendEvent(Widget.java:1073)</Frame>
          <Frame depth="37">org.eclipse.swt.widgets.Widget.sendEvent(Widget.java:1098)</Frame>
          <Frame depth="38">org.eclipse.swt.widgets.Widget.sendEvent(Widget.java:1083)</Frame>
          <Frame depth="39">org.eclipse.swt.widgets.Widget.sendKeyEvent(Widget.java:1110)</Frame>
          <Frame depth="40">org.eclipse.swt.widgets.Widget.gtk_key_press_event(Widget.java:652)</Frame>
          <Frame depth="41">org.eclipse.swt.widgets.Control.gtk_key_press_event(Control.java:2045)</Frame>
          <Frame depth="42">org.eclipse.swt.widgets.Composite.gtk_key_press_event(Composite.java:608)</Frame>
          <Frame depth="43">org.eclipse.swt.widgets.Widget.windowProc(Widget.java:1423)</Frame>
          <Frame depth="44">org.eclipse.swt.widgets.Display.windowProc(Display.java:3790)</Frame>
          <Frame depth="45">org.eclipse.swt.internal.gtk.OS._gtk_main_do_event(Native Method)</Frame>
          <Frame depth="46">org.eclipse.swt.internal.gtk.OS.gtk_main_do_event(OS.java:5162)</Frame>
          <Frame depth="47">org.eclipse.swt.widgets.Display.eventProc(Display.java:1128)</Frame>
          <Frame depth="48">org.eclipse.swt.internal.gtk.OS._g_main_context_iteration(Native Method)</Frame>
          <Frame depth="49">org.eclipse.swt.internal.gtk.OS.g_main_context_iteration(OS.java:1407)</Frame>
          <Frame depth="50">org.eclipse.swt.widgets.Display.readAndDispatch(Display.java:2836)</Frame>
          <Frame depth="51">org.eclipse.ui.internal.Workbench.runEventLoop(Workbench.java:1899)</Frame>
          <Frame depth="52">org.eclipse.ui.internal.Workbench.runUI(Workbench.java:1863)</Frame>
          <Frame depth="53">org.eclipse.ui.internal.Workbench.createAndRunWorkbench(Workbench.java:417)</Frame>
          <Frame depth="54">org.eclipse.ui.PlatformUI.createAndRunWorkbench(PlatformUI.java:143)</Frame>
          <Frame depth="55">org.eclipse.ui.internal.ide.IDEApplication.run(IDEApplication.java:106)</Frame>
          <Frame depth="56">org.eclipse.core.internal.runtime.PlatformActivator$1.run(PlatformActivator.java:99)</Frame>
          <Frame depth="57">org.eclipse.core.runtime.internal.adaptor.EclipseAppLauncher.runApplication(EclipseAppLauncher.java:92)</Frame>
          <Frame depth="58">org.eclipse.core.runtime.internal.adaptor.EclipseAppLauncher.start(EclipseAppLauncher.java:68)</Frame>
          <Frame depth="59">org.eclipse.core.runtime.adaptor.EclipseStarter.run(EclipseStarter.java:374)</Frame>
          <Frame depth="60">org.eclipse.core.runtime.adaptor.EclipseStarter.run(EclipseStarter.java:169)</Frame>
          <Frame depth="61">sun.reflect.NativeMethodAccessorImpl.invoke0(Native Method)</Frame>
          <Frame depth="62">sun.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:39)</Frame>
          <Frame depth="63">sun.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:25)</Frame>
          <Frame depth="64">java.lang.reflect.Method.invoke(Method.java:585)</Frame>
          <Frame depth="65">org.eclipse.core.launcher.Main.invokeFramework(Main.java:338)</Frame>
          <Frame depth="66">org.eclipse.core.launcher.Main.basicRun(Main.java:282)</Frame>
          <Frame depth="67">org.eclipse.core.launcher.Main.run(Main.java:977)</Frame>
          <Frame depth="68">org.eclipse.core.launcher.Main.main(Main.java:952)</Frame>
        </Frames>
      </Stacktrace>
    </Stacktraces>
    <SourceCodeRegions amount="0" />
    <Enumerations amount="2">
      <Enumeration lines="6">
        <Lines>
          <Line>1) VM/JIT bug</Line>
          <Line>2) disposed editor gets activated</Line>
          <Line>*** Bug 139173 has been marked as a duplicate of this bug. ***</Line>
          <Line>*** Bug 142000 has been marked as a duplicate of this bug. ***</Line>
          <Line>As per http://wiki.eclipse.org/Platform_UI/Bug_Triage_Change_2009</Line>
          <Line>Remy is now responsible for watching the [EditorMgmt] component area.</Line>
        </Lines>
      </Enumeration>
      <Enumeration lines="3">
        <Lines>
          <Line>- It's a 3.2m5a + callito plugins + subversive plugin set environment</Line>
          <Line>- I think I hadn't any allready opened xml file at the time I tried to open this one</Line>
          <Line>- Eavy load indeed means : lot of CPU, nearly all RAM (compiling in the background)</Line>
        </Lines>
      </Enumeration>
    </Enumerations>
    <bug_status amount="NEW" />
    <resolution amount="" />
    <WithStack>Opening an XML file
Occured only once under heavy load
Race condition ?

java.lang.NullPointerException
	at org.eclipse.ui.texteditor.AbstractTextEditor.getAction(AbstractTextEditor.java:4026)
	at org.eclipse.wst.xml.ui.internal.tabletree.XMLTableTreeActionBarContributor.getAction(XMLTableTreeActionBarContributor.java:210)
	at org.eclipse.wst.xml.ui.internal.tabletree.XMLTableTreeActionBarContributor.setActiveEditor(XMLTableTreeActionBarContributor.java:198)
	at org.eclipse.wst.xml.ui.internal.tabletree.XMLMultiPageEditorActionBarContributor.activateSourcePage(XMLMultiPageEditorActionBarContributor.java:54)
	at org.eclipse.wst.xml.ui.internal.tabletree.SourceEditorActionBarContributor.setActivePage(SourceEditorActionBarContributor.java:168)
	at org.eclipse.ui.part.MultiPageEditorPart.pageChange(MultiPageEditorPart.java:580)
	at org.eclipse.wst.xml.ui.internal.tabletree.XMLMultiPageEditorPart.pageChange(XMLMultiPageEditorPart.java:739)
	at org.eclipse.ui.part.MultiPageEditorPart.setActivePage(MultiPageEditorPart.java:670)
	at org.eclipse.wst.xml.ui.internal.tabletree.XMLMultiPageEditorPart.createPages(XMLMultiPageEditorPart.java:509)
	at org.eclipse.ui.part.MultiPageEditorPart.createPartControl(MultiPageEditorPart.java:272)
	at org.eclipse.ui.internal.EditorReference.createPartHelper(EditorReference.java:591)
	at org.eclipse.ui.internal.EditorReference.createPart(EditorReference.java:367)
	at org.eclipse.ui.internal.WorkbenchPartReference.getPart(WorkbenchPartReference.java:555)
	at org.eclipse.ui.internal.EditorReference.getEditor(EditorReference.java:212)
	at org.eclipse.ui.internal.WorkbenchPage.busyOpenEditorBatched(WorkbenchPage.java:2392)
	at org.eclipse.ui.internal.WorkbenchPage.busyOpenEditor(WorkbenchPage.java:2325)
	at org.eclipse.ui.internal.WorkbenchPage.access$10(WorkbenchPage.java:2317)
	at org.eclipse.ui.internal.WorkbenchPage$9.run(WorkbenchPage.java:2303)
	at org.eclipse.swt.custom.BusyIndicator.showWhile(BusyIndicator.java:69)
	at org.eclipse.ui.internal.WorkbenchPage.openEditor(WorkbenchPage.java:2298)
	at org.eclipse.ui.internal.WorkbenchPage.openEditor(WorkbenchPage.java:2283)
	at org.eclipse.ui.ide.IDE.openEditor(IDE.java:384)
	at org.eclipse.ui.ide.IDE.openEditor(IDE.java:347)
	at org.eclipse.ui.internal.ide.handlers.OpenResourceHandler.execute(OpenResourceHandler.java:112)
	at org.eclipse.ui.internal.handlers.HandlerProxy.execute(HandlerProxy.java:151)
	at org.eclipse.core.commands.Command.executeWithChecks(Command.java:460)
	at org.eclipse.core.commands.ParameterizedCommand.executeWithChecks(ParameterizedCommand.java:421)
	at org.eclipse.ui.internal.handlers.HandlerService.executeCommand(HandlerService.java:160)
	at org.eclipse.ui.internal.keys.WorkbenchKeyboard.executeCommand(WorkbenchKeyboard.java:466)
	at org.eclipse.ui.internal.keys.WorkbenchKeyboard.press(WorkbenchKeyboard.java:798)
	at org.eclipse.ui.internal.keys.WorkbenchKeyboard.processKeyEvent(WorkbenchKeyboard.java:845)
	at org.eclipse.ui.internal.keys.WorkbenchKeyboard.filterKeySequenceBindings(WorkbenchKeyboard.java:563)
	at org.eclipse.ui.internal.keys.WorkbenchKeyboard.access$3(WorkbenchKeyboard.java:506)
	at org.eclipse.ui.internal.keys.WorkbenchKeyboard$KeyDownFilter.handleEvent(WorkbenchKeyboard.java:122)
	at org.eclipse.swt.widgets.EventTable.sendEvent(EventTable.java:66)
	at org.eclipse.swt.widgets.Display.filterEvent(Display.java:1336)
	at org.eclipse.swt.widgets.Widget.sendEvent(Widget.java:1073)
	at org.eclipse.swt.widgets.Widget.sendEvent(Widget.java:1098)
	at org.eclipse.swt.widgets.Widget.sendEvent(Widget.java:1083)
	at org.eclipse.swt.widgets.Widget.sendKeyEvent(Widget.java:1110)
	at org.eclipse.swt.widgets.Widget.gtk_key_press_event(Widget.java:652)
	at org.eclipse.swt.widgets.Control.gtk_key_press_event(Control.java:2045)
	at org.eclipse.swt.widgets.Composite.gtk_key_press_event(Composite.java:608)
	at org.eclipse.swt.widgets.Widget.windowProc(Widget.java:1423)
	at org.eclipse.swt.widgets.Display.windowProc(Display.java:3790)
	at org.eclipse.swt.internal.gtk.OS._gtk_main_do_event(Native Method)
	at org.eclipse.swt.internal.gtk.OS.gtk_main_do_event(OS.java:5162)
	at org.eclipse.swt.widgets.Display.eventProc(Display.java:1128)
	at org.eclipse.swt.internal.gtk.OS._g_main_context_iteration(Native Method)
	at org.eclipse.swt.internal.gtk.OS.g_main_context_iteration(OS.java:1407)
	at org.eclipse.swt.widgets.Display.readAndDispatch(Display.java:2836)
	at org.eclipse.ui.internal.Workbench.runEventLoop(Workbench.java:1899)
	at org.eclipse.ui.internal.Workbench.runUI(Workbench.java:1863)
	at org.eclipse.ui.internal.Workbench.createAndRunWorkbench(Workbench.java:417)
	at org.eclipse.ui.PlatformUI.createAndRunWorkbench(PlatformUI.java:143)
	at org.eclipse.ui.internal.ide.IDEApplication.run(IDEApplication.java:106)
	at org.eclipse.core.internal.runtime.PlatformActivator$1.run(PlatformActivator.java:99)
	at org.eclipse.core.runtime.internal.adaptor.EclipseAppLauncher.runApplication(EclipseAppLauncher.java:92)
	at org.eclipse.core.runtime.internal.adaptor.EclipseAppLauncher.start(EclipseAppLauncher.java:68)
	at org.eclipse.core.runtime.adaptor.EclipseStarter.run(EclipseStarter.java:374)
	at org.eclipse.core.runtime.adaptor.EclipseStarter.run(EclipseStarter.java:169)
	at sun.reflect.NativeMethodAccessorImpl.invoke0(Native Method)
	at sun.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:39)
	at sun.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:25)
	at java.lang.reflect.Method.invoke(Method.java:585)
	at org.eclipse.core.launcher.Main.invokeFramework(Main.java:338)
	at org.eclipse.core.launcher.Main.basicRun(Main.java:282)
	at org.eclipse.core.launcher.Main.run(Main.java:977)
	at org.eclipse.core.launcher.Main.main(Main.java:952)
In examing the code, there is nothing that could *possibly* be null, except for 
fActions variable. While this variable is initialized to to a hashmap, it is set to null in the 'dispose' method.  So, I'm guessing in the case of our two page XML Editor, under heavy load, some part of the editor is closed/closing before the openeditor is completely finished (and, as part of the opening, we do "change pages" according to a preference setting ... if that is maybe a path not as well thread protected)? 

I will pass on to the text componet for comment. 

Dani, do you think fActions should be better protected? Or, I'd guess ... at some higher level? 

Also, please note, according to the 0,7 in 'version' field in this bugzilla, this would be on the Eclipse 3.1 stream, though this code in the top of the stack trace appears to be the same in both streams 3.1 and 3.2. 

I am marking as low priority (if it leaves it as '4' when changing components) since this appears to be very rare failure and perhaps should just be taken as input for future improved thread protection? 

 
Similar problems have been reported in bug 30913 and bug 54300.
David, could you reproduce this?
No, I have not seen (but also have no good tests for "under heavy load" ... and not exaclty sure what that means, from originators point of view .. I guess just lots of CPU/UI use). 




In reply of above, a few precisions :
- It's a 3.2m5a + callito plugins + subversive plugin set environment
- I think I hadn't any allready opened xml file at the time I tried to open this one
- Eavy load indeed means : lot of CPU, nearly all RAM (compiling in the background)

Daniel, can you suggest a slot for me to place this on the Platform UI side ?(I'm a little confused about how it ended up here...)

Hi Eric, hard to tell. The problem seems to be part (de-)activation happening on already disposed parts.
Sorry but it is not under Platform Text's control when a disposed editor gets activated.

There are only two possibilities for the NPE:
1) VM/JIT bug
2) disposed editor gets activated
*** Bug 139173 has been marked as a duplicate of this bug. ***
*** Bug 142000 has been marked as a duplicate of this bug. ***
As per http://wiki.eclipse.org/Platform_UI/Bug_Triage_Change_2009
Remy is now responsible for watching the [EditorMgmt] component area.</WithStack>
    <WithOutStack>Opening an XML file
Occured only once under heavy load
Race condition ?


In examing the code, there is nothing that could *possibly* be null, except for 
fActions variable. While this variable is initialized to to a hashmap, it is set to null in the 'dispose' method.  So, I'm guessing in the case of our two page XML Editor, under heavy load, some part of the editor is closed/closing before the openeditor is completely finished (and, as part of the opening, we do "change pages" according to a preference setting ... if that is maybe a path not as well thread protected)? 

I will pass on to the text componet for comment. 

Dani, do you think fActions should be better protected? Or, I'd guess ... at some higher level? 

Also, please note, according to the 0,7 in 'version' field in this bugzilla, this would be on the Eclipse 3.1 stream, though this code in the top of the stack trace appears to be the same in both streams 3.1 and 3.2. 

I am marking as low priority (if it leaves it as '4' when changing components) since this appears to be very rare failure and perhaps should just be taken as input for future improved thread protection? 

 
Similar problems have been reported in bug 30913 and bug 54300.
David, could you reproduce this?
No, I have not seen (but also have no good tests for "under heavy load" ... and not exaclty sure what that means, from originators point of view .. I guess just lots of CPU/UI use). 




In reply of above, a few precisions :
- It's a 3.2m5a + callito plugins + subversive plugin set environment
- I think I hadn't any allready opened xml file at the time I tried to open this one
- Eavy load indeed means : lot of CPU, nearly all RAM (compiling in the background)

Daniel, can you suggest a slot for me to place this on the Platform UI side ?(I'm a little confused about how it ended up here...)

Hi Eric, hard to tell. The problem seems to be part (de-)activation happening on already disposed parts.
Sorry but it is not under Platform Text's control when a disposed editor gets activated.

There are only two possibilities for the NPE:
1) VM/JIT bug
2) disposed editor gets activated
*** Bug 139173 has been marked as a duplicate of this bug. ***
*** Bug 142000 has been marked as a duplicate of this bug. ***
As per http://wiki.eclipse.org/Platform_UI/Bug_Triage_Change_2009
Remy is now responsible for watching the [EditorMgmt] component area.</WithOutStack>
  </Bug>
  <Bug>
    <BugId amount="133856" />
    <CreationDate amount="2006-03-29 10:35:00 -0500" />
    <DupId amount="" />
    <classification amount="Tools" />
    <Product amount="MTJ" />
    <component amount="General" />
    <Version amount="unspecified" />
    <rep_platform amount="All" />
    <op_sys amount="Windows XP" />
    <priority amount="P3" />
    <bug_severity amount="normal" />
    <Summery>Provide initial support for MIDP signing</Summery>
    <Patches amount="0" />
    <Stacktraces amount="0" />
    <SourceCodeRegions amount="0" />
    <Enumerations amount="0" />
    <bug_status amount="CLOSED" />
    <resolution amount="FIXED" />
    <WithStack>Provide the initial code to support MIDP signing using the IBM J9 and Sun WTK/Java SE signing mechanisms.
Created attachment 37203
Initial code base for review

Since this is new code, this is an archive containing the new plug-in as received from Rodrigo.
*** Bug 133854 has been marked as a duplicate of this bug. ***
Code committed.
closed.</WithStack>
    <WithOutStack>Provide the initial code to support MIDP signing using the IBM J9 and Sun WTK/Java SE signing mechanisms.
Created attachment 37203
Initial code base for review

Since this is new code, this is an archive containing the new plug-in as received from Rodrigo.
*** Bug 133854 has been marked as a duplicate of this bug. ***
Code committed.
closed.</WithOutStack>
  </Bug>
  <Bug>
    <BugId amount="133857" />
    <CreationDate amount="2006-03-29 10:35:00 -0500" />
    <DupId amount="" />
    <classification amount="Eclipse" />
    <Product amount="Platform" />
    <component amount="Debug" />
    <Version amount="3.2" />
    <rep_platform amount="PC" />
    <op_sys amount="Windows XP" />
    <priority amount="P3" />
    <bug_severity amount="normal" />
    <Summery>Expansion not maintained in Registers View when switching between stackframes</Summery>
    <Patches amount="0" />
    <Stacktraces amount="0" />
    <SourceCodeRegions amount="0" />
    <Enumerations amount="1">
      <Enumeration lines="3">
        <Lines>
          <Line>1.  launch a debug session, expand register group.</Line>
          <Line>2.  Select another stackframe.</Line>
          <Line>3.  Select the first stackframe again.</Line>
        </Lines>
      </Enumeration>
    </Enumerations>
    <bug_status amount="VERIFIED" />
    <resolution amount="FIXED" />
    <WithStack>Used example.debug.memory view.

1.  launch a debug session, expand register group.
2.  Select another stackframe.
3.  Select the first stackframe again.

The register group is collapsed when it should remain expanded.

I did some investigation, the expansion state of the first stackframe is cleared (expansion is null) when the first stackframe is selected again.
Expansion/selection restoration is destructive on the "state" object. Fixing with bug 119025.
Fixed with bug 119025.
Please verify, Samantha.
verified.</WithStack>
    <WithOutStack>Used example.debug.memory view.

1.  launch a debug session, expand register group.
2.  Select another stackframe.
3.  Select the first stackframe again.

The register group is collapsed when it should remain expanded.

I did some investigation, the expansion state of the first stackframe is cleared (expansion is null) when the first stackframe is selected again.
Expansion/selection restoration is destructive on the "state" object. Fixing with bug 119025.
Fixed with bug 119025.
Please verify, Samantha.
verified.</WithOutStack>
  </Bug>
  <Bug>
    <BugId amount="133858" />
    <CreationDate amount="2006-03-29 10:36:00 -0500" />
    <DupId amount="" />
    <classification amount="Eclipse" />
    <Product amount="Platform" />
    <component amount="CVS" />
    <Version amount="3.2" />
    <rep_platform amount="PC" />
    <op_sys amount="Windows XP" />
    <priority amount="P2" />
    <bug_severity amount="normal" />
    <Summery>[Java Sync] Problem displaying same update item in Java Model Provider</Summery>
    <Patches amount="0" />
    <Stacktraces amount="0" />
    <SourceCodeRegions amount="0" />
    <Enumerations amount="0" />
    <bug_status amount="RESOLVED" />
    <resolution amount="FIXED" />
    <WithStack>I20060329-0800

For fun and other testing reasons, I have the same project checked out 3 times in my workspace. I added a new file to one project, committed it and did a sync. I would expect to see the same incoming file on the remaining 2 projects. I do indeed see that in the resource model but not in the java view.
Created attachment 37204
Workspace Model pic
Created attachment 37206
Java Model
This was fixed a while ago</WithStack>
    <WithOutStack>I20060329-0800

For fun and other testing reasons, I have the same project checked out 3 times in my workspace. I added a new file to one project, committed it and did a sync. I would expect to see the same incoming file on the remaining 2 projects. I do indeed see that in the resource model but not in the java view.
Created attachment 37204
Workspace Model pic
Created attachment 37206
Java Model
This was fixed a while ago</WithOutStack>
  </Bug>
  <Bug>
    <BugId amount="133859" />
    <CreationDate amount="2006-03-29 10:38:00 -0500" />
    <DupId amount="" />
    <classification amount="WebTools" />
    <Product amount="WTP ServerTools" />
    <component amount="jst.server" />
    <Version amount="1.0.1" />
    <rep_platform amount="PC" />
    <op_sys amount="Windows XP" />
    <priority amount="P3" />
    <bug_severity amount="critical" />
    <Summery>Calling  IEnterpriseApplication.getURI(module)</Summery>
    <Patches amount="0" />
    <Stacktraces amount="0" />
    <SourceCodeRegions amount="1">
      <source_code type="functiondef">
        <location start="732" end="1157" />
        <code>protected void assemble(IProgressMonitor monitor) throws CoreException{
		IPath parent =copyModule(fModule,monitor);
		IWebModule webModule = (IWebModule)fModule.loadAdapter(IWebModule.class, monitor);
		IModule[] childModules = webModule.getModules();
		for (int i = 0; i &lt; childModules.length; i++) {
			IModule module = childModules[i];
			String uri = webModule.getURI(module);
			packModule(module, uri, parent);
		}
	}</code>
      </source_code>
    </SourceCodeRegions>
    <Enumerations amount="1">
      <Enumeration lines="9">
        <Lines>
          <Line>1.  the  module name is read from the  application.xml</Line>
          <Line />
          <Line>for e.g.  if the project name is EjbTest and in the application.xml</Line>
          <Line />
          <Line>&lt;ejb&gt;test.jar&lt;/ejb&gt;,  which is not picked up today</Line>
          <Line />
          <Line />
          <Line />
          <Line>2. pick up the utility jar name,</Line>
        </Lines>
      </Enumeration>
    </Enumerations>
    <bug_status amount="CLOSED" />
    <resolution amount="FIXED" />
    <WithStack>I have noticed this is org.eclipse.jst.server.generic.core

The getURI(module)  is not called for the  child modules.

I am attaching a patch which fixes  two problems:


1.  the  module name is read from the  application.xml

for e.g.  if the project name is EjbTest and in the application.xml 

&lt;ejb&gt;test.jar&lt;/ejb&gt;,  which is not picked up today



2. pick up the utility jar name,

since it is not persisted in application.xml, attribute archiveName has been added to the referenced component, which can be used to overwrite the name which is defaulted to  projectName + ".jar".
Calling the getURI(module)  will return the user defined name
Created attachment 37205
Patch
The WarModuleAssembler  should also be  fixed as  below

	protected void assemble(IProgressMonitor monitor) throws CoreException{
		IPath parent =copyModule(fModule,monitor);
		IWebModule webModule = (IWebModule)fModule.loadAdapter(IWebModule.class, monitor);
		IModule[] childModules = webModule.getModules();
		for (int i = 0; i &lt; childModules.length; i++) {
			IModule module = childModules[i];
			String uri = webModule.getURI(module);
			packModule(module, uri, parent);
		}
	}

For Tomcat  which uses  J2EEUtil.getWebModules()

these is call to String uri = web.getURI( modules2[j] );,  but it is not used, that should be  fixed as well.
fix released to HEAD
In The WarModuleAssembler the third paramter should just be parent, 
since the webModule.getURI(module)  will return the path with  WEB-INF/lib


 packModule(module, webModule.getURI(module), parent.append("WEB-INF").append("lib")); //$NON-NLS-1$ //$NON-NLS-2$
ok</WithStack>
    <WithOutStack>I have noticed this is org.eclipse.jst.server.generic.core

The getURI(module)  is not called for the  child modules.

I am attaching a patch which fixes  two problems:


1.  the  module name is read from the  application.xml

for e.g.  if the project name is EjbTest and in the application.xml 

&lt;ejb&gt;test.jar&lt;/ejb&gt;,  which is not picked up today



2. pick up the utility jar name,

since it is not persisted in application.xml, attribute archiveName has been added to the referenced component, which can be used to overwrite the name which is defaulted to  projectName + ".jar".
Calling the getURI(module)  will return the user defined name
Created attachment 37205
Patch
The WarModuleAssembler  should also be  fixed as  below

	protected void assemble(IProgressMonitor monitor) throws CoreException{
		IPath parent =copyModule(fModule,monitor);
		IWebModule webModule = (IWebModule)fModule.loadAdapter(IWebModule.class, monitor);
		IModule[] childModules = webModule.getModules();
		for (int i = 0; i &lt; childModules.length; i++) {
			IModule module = childModules[i];
			String uri = webModule.getURI(module);
			packModule(module, uri, parent);
		}
	}

For Tomcat  which uses  J2EEUtil.getWebModules()

these is call to String uri = web.getURI( modules2[j] );,  but it is not used, that should be  fixed as well.
fix released to HEAD
In The WarModuleAssembler the third paramter should just be parent, 
since the webModule.getURI(module)  will return the path with  WEB-INF/lib


 packModule(module, webModule.getURI(module), parent.append("WEB-INF").append("lib")); //$NON-NLS-1$ //$NON-NLS-2$
ok</WithOutStack>
  </Bug>
  <Bug>
    <BugId amount="133860" />
    <CreationDate amount="2006-03-29 10:39:00 -0500" />
    <DupId amount="" />
    <classification amount="Eclipse" />
    <Product amount="Platform" />
    <component amount="CVS" />
    <Version amount="3.2" />
    <rep_platform amount="PC" />
    <op_sys amount="Windows XP" />
    <priority amount="P2" />
    <bug_severity amount="normal" />
    <Summery>[Model Sync] Incoming deletions for files that are not deleted</Summery>
    <Patches amount="0" />
    <Stacktraces amount="0" />
    <SourceCodeRegions amount="0" />
    <Enumerations amount="0" />
    <bug_status amount="RESOLVED" />
    <resolution amount="WORKSFORME" />
    <WithStack>I got into a state where, after a restart, two files appeared as incoming deletions but they were never deleted. What is strange is that I did an update before noticing and the files got deleted. I then resynced and the files appeared as incoming additions. After updating I restarted (after installing a new build) and the files appeared as incoming deletions again. The files were CustomHashtable and TreeSelection in the org.eclipse.jface.viewers package. A synchronize fixed the problem.
I am unable to reproduce this. Also,subsequent syncs fixed the problem so it is not severe.</WithStack>
    <WithOutStack>I got into a state where, after a restart, two files appeared as incoming deletions but they were never deleted. What is strange is that I did an update before noticing and the files got deleted. I then resynced and the files appeared as incoming additions. After updating I restarted (after installing a new build) and the files appeared as incoming deletions again. The files were CustomHashtable and TreeSelection in the org.eclipse.jface.viewers package. A synchronize fixed the problem.
I am unable to reproduce this. Also,subsequent syncs fixed the problem so it is not severe.</WithOutStack>
  </Bug>
  <Bug>
    <BugId amount="133861" />
    <CreationDate amount="2006-03-29 10:44:00 -0500" />
    <DupId amount="" />
    <classification amount="Eclipse" />
    <Product amount="Platform" />
    <component amount="Team" />
    <Version amount="3.2" />
    <rep_platform amount="PC" />
    <op_sys amount="Windows XP" />
    <priority amount="P3" />
    <bug_severity amount="normal" />
    <Summery>[Model Sync] Progress message during content fetching needs improvement</Summery>
    <Patches amount="0" />
    <Stacktraces amount="0" />
    <SourceCodeRegions amount="0" />
    <Enumerations amount="0" />
    <bug_status amount="ASSIGNED" />
    <resolution amount="" />
    <WithStack>We get a strange message at the end of a synchronize (something about 1 work itme left). This message occurs when the contents for the synchronized files are being fetched. The message should be improved (or perhaps the content fetch shouldn't be grouped with the sync).
Created attachment 37207
Trace from fetch
Couldn't do this for 3.2 as it would require API on TeamOperation to set a progress group on the job.</WithStack>
    <WithOutStack>We get a strange message at the end of a synchronize (something about 1 work itme left). This message occurs when the contents for the synchronized files are being fetched. The message should be improved (or perhaps the content fetch shouldn't be grouped with the sync).
Created attachment 37207
Trace from fetch
Couldn't do this for 3.2 as it would require API on TeamOperation to set a progress group on the job.</WithOutStack>
  </Bug>
  <Bug>
    <BugId amount="133862" />
    <CreationDate amount="2006-03-29 10:45:00 -0500" />
    <DupId amount="" />
    <classification amount="Eclipse" />
    <Product amount="Platform" />
    <component amount="User Assistance" />
    <Version amount="3.2" />
    <rep_platform amount="All" />
    <op_sys amount="All" />
    <priority amount="P3" />
    <bug_severity amount="normal" />
    <Summery>[Help] The &lt;toc&gt; element should not require a label attribute.</Summery>
    <Patches amount="0" />
    <Stacktraces amount="0" />
    <SourceCodeRegions amount="0" />
    <Enumerations amount="0" />
    <bug_status amount="RESOLVED" />
    <resolution amount="WONTFIX" />
    <WithStack>Using 3.2/M5

Looking at the Extension Point Reference for org.eclipse.help.toc I see the following:

  &lt;!ATTLIST toc label CDATA #REQUIRED &gt; 

This is surprising to me.  I'm porting some old and crusty plugins from Eclipse 2.1, where at runtime a &lt;toc&gt; did NOT require a label attribute (although it seems that the Eclipse 2.1 doc says it is required).  Here's the setup I have.

#
# primary.xml
#
&lt;toc label="My Book" topic="books/bookset.html"&gt;
  &lt;topic label="Getting Started" href="books/getting-started/book.html"&gt;
    &lt;anchor id="getting-started"/&gt;
  &lt;/topic&gt;
&lt;/toc&gt;

#
# getting-started.xml
#
&lt;toc link_to="toc/primary.xml#getting-started"&gt; 
  &lt;topic
    label="Introduction"
    href="books/getting-started/introduction.html"/&gt;
  &lt;topic
    label="Software Architecture"
    href="books/getting-started/architecture.html"/&gt;
&lt;/toc&gt;

#
# plugin.xml
#
&lt;plugin&gt;
  &lt;extension point="org.eclipse.help.toc"&gt;
    &lt;toc file="toc/primary.xml" primary="true"/&gt;
    &lt;toc file="toc/getting-started.xml"/&gt;
  &lt;/extension&gt;
&lt;/plugin&gt;


Since my primary.xml has an &lt;anchor&gt; element nested inside a &lt;topic&gt; with a label, there should be no need for me to provide a label when I define the &lt;toc&gt; that attaches to the &lt;anchor&gt;.

Not surprisingly, the following is written to the .log:

  java.lang.RuntimeException: toc label==null
    at org.apache.crimson.parser.Parser2.parseInternal(Unknown Source)
    at org.apache.crimson.parser.Parser2.parse(Unknown Source)
    at org.apache.crimson.parser.XMLReaderImpl.parse(Unknown Source)
    at javax.xml.parsers.SAXParser.parse(Unknown Source)
    at org.eclipse.help.internal.toc.TocFileParser.parse(TocFileParser.java:89)
The work around is to specify a label attribute with an empty string.  If you specify non-empty string it does not get displayed anywhere.

#
# getting-started.xml
#
&lt;toc label="" link_to="toc/primary.xml#getting-started"&gt; 
  &lt;topic
    label="Introduction"
    href="books/getting-started/introduction.html"/&gt;
  &lt;topic
    label="Software Architecture"
    href="books/getting-started/architecture.html"/&gt;
&lt;/toc&gt;

But of course this is meaningless.

The logic should be smarter.

Back in Eclipse 2.x, people would forget to put on labels when they were supposed to, and then be surprised why their navigation tree was behaving oddly. And there was no debug message in the log to say "Hey! This is primary in the ToC, you need to have a label!"

So, to ease their ability to debug, updated the code to make it required. This has the unforseen side effect that you report specifically for the &lt;link-to&gt; case.

So really, are you saying that IF my &lt;toc&gt; has a link-to attribute, THEN label should be optional?

Seems like there is a related rfe about this--because when your doc is componentized and used in multiple places, sometimes it might end up in a bigger offering that it wants to be the "top dog" &lt;toc&gt; and would need a label to display, while others it is linked into a larger doc set. Some run-time smarts that says "This time, the &lt;toc&gt;'s label is needed and this time, it's linking into something else." so the author doesn't have to change the source file whenever the doc plug-in is being reused elsewhere.

But then the original author would still need to supply a label, which brings it back to having the label required. :-) Requiring a label supports reuse--for when someone later wants to reuse those toc branches that you today are linking into something else.
&gt;&gt;So really, are you saying that IF my &lt;toc&gt; has a link-to attribute,
&gt;&gt;THEN label should be optional?

Yes, that is exactly what I'm saying.

I understand your point of view, and applaud the attempt to serve both the simple and the advanced scenarios. But, from what you say, it is neither of these cases that is causing the problem.  It seems that the problem is caused by the goal of helping out the hapless developer that has coded up their XML incorrectly.  While I agree that helping debug problems is important, it should probably be considered a secondary goal.

Of course this is all rather minor, in that those people implementing the simple case only need to specify the label attribute as being an empty string.  But, this does sound a little bogus to me, but if you really think that the debug scenario is important, then so be it.

Maybe setting the label to an empty string should be documented and explained.  But it sounds like you're punishing the diligent developer.  ;-)

Part of the problem I see is that it is confusing to know which label ends up being displayed by the help system- the one in the toc/topic being linked to, or the one in the topic that is doing the linking.  I never saw this mentioned in the eclipse help docs.

Example:
# primary.xml
&lt;toc label="My Book" topic="books/bookset.html"&gt;
  &lt;topic label="Getting Started" href="books/getting-started/book.html"&gt;
    &lt;anchor id="getting-started"/&gt;
  ...

# getting-started.xml
&lt;toc link_to="toc/primary.xml#getting-started" label="My Getting Started"&gt; 
  &lt;topic label="Introduction"
   ...

If I remember correctly, the result in the generated TOC that you see in eclipse would be like:

My Book
- Getting Started
-- Introduction

So it's confusing for developers that you have to specify a label in both places when one of them ends up being ignored anyway.  Granted if the getting-started TOC were ever by itself as it's own book, it's label would then be used.
I think the issue is bigger than whether there should be a label or not. This discussion relates to Bug 195577 that I opened to address what I think is an architectural weakness in the way the TOC is built up. 

I think the &lt;toc&gt; node should never be displayed at all in the TOC hierarchy, even when primary="true". You can read my discussion there, but essentially problems occur when the TOC designed to be primary is consumed at a lower level. I think the Help system should display only the &lt;topic&gt; nodes exactly as the user authors them. I recognize that this would be a major change, but it would increase consumability of TOCs and improve predictability.
There is no plan to implement this.</WithStack>
    <WithOutStack>Using 3.2/M5

Looking at the Extension Point Reference for org.eclipse.help.toc I see the following:

  &lt;!ATTLIST toc label CDATA #REQUIRED &gt; 

This is surprising to me.  I'm porting some old and crusty plugins from Eclipse 2.1, where at runtime a &lt;toc&gt; did NOT require a label attribute (although it seems that the Eclipse 2.1 doc says it is required).  Here's the setup I have.

#
# primary.xml
#
&lt;toc label="My Book" topic="books/bookset.html"&gt;
  &lt;topic label="Getting Started" href="books/getting-started/book.html"&gt;
    &lt;anchor id="getting-started"/&gt;
  &lt;/topic&gt;
&lt;/toc&gt;

#
# getting-started.xml
#
&lt;toc link_to="toc/primary.xml#getting-started"&gt; 
  &lt;topic
    label="Introduction"
    href="books/getting-started/introduction.html"/&gt;
  &lt;topic
    label="Software Architecture"
    href="books/getting-started/architecture.html"/&gt;
&lt;/toc&gt;

#
# plugin.xml
#
&lt;plugin&gt;
  &lt;extension point="org.eclipse.help.toc"&gt;
    &lt;toc file="toc/primary.xml" primary="true"/&gt;
    &lt;toc file="toc/getting-started.xml"/&gt;
  &lt;/extension&gt;
&lt;/plugin&gt;


Since my primary.xml has an &lt;anchor&gt; element nested inside a &lt;topic&gt; with a label, there should be no need for me to provide a label when I define the &lt;toc&gt; that attaches to the &lt;anchor&gt;.

Not surprisingly, the following is written to the .log:

  java.lang.RuntimeException: toc label==null
    at org.apache.crimson.parser.Parser2.parseInternal(Unknown Source)
    at org.apache.crimson.parser.Parser2.parse(Unknown Source)
    at org.apache.crimson.parser.XMLReaderImpl.parse(Unknown Source)
    at javax.xml.parsers.SAXParser.parse(Unknown Source)
    at org.eclipse.help.internal.toc.TocFileParser.parse(TocFileParser.java:89)
The work around is to specify a label attribute with an empty string.  If you specify non-empty string it does not get displayed anywhere.

#
# getting-started.xml
#
&lt;toc label="" link_to="toc/primary.xml#getting-started"&gt; 
  &lt;topic
    label="Introduction"
    href="books/getting-started/introduction.html"/&gt;
  &lt;topic
    label="Software Architecture"
    href="books/getting-started/architecture.html"/&gt;
&lt;/toc&gt;

But of course this is meaningless.

The logic should be smarter.

Back in Eclipse 2.x, people would forget to put on labels when they were supposed to, and then be surprised why their navigation tree was behaving oddly. And there was no debug message in the log to say "Hey! This is primary in the ToC, you need to have a label!"

So, to ease their ability to debug, updated the code to make it required. This has the unforseen side effect that you report specifically for the &lt;link-to&gt; case.

So really, are you saying that IF my &lt;toc&gt; has a link-to attribute, THEN label should be optional?

Seems like there is a related rfe about this--because when your doc is componentized and used in multiple places, sometimes it might end up in a bigger offering that it wants to be the "top dog" &lt;toc&gt; and would need a label to display, while others it is linked into a larger doc set. Some run-time smarts that says "This time, the &lt;toc&gt;'s label is needed and this time, it's linking into something else." so the author doesn't have to change the source file whenever the doc plug-in is being reused elsewhere.

But then the original author would still need to supply a label, which brings it back to having the label required. :-) Requiring a label supports reuse--for when someone later wants to reuse those toc branches that you today are linking into something else.
&gt;&gt;So really, are you saying that IF my &lt;toc&gt; has a link-to attribute,
&gt;&gt;THEN label should be optional?

Yes, that is exactly what I'm saying.

I understand your point of view, and applaud the attempt to serve both the simple and the advanced scenarios. But, from what you say, it is neither of these cases that is causing the problem.  It seems that the problem is caused by the goal of helping out the hapless developer that has coded up their XML incorrectly.  While I agree that helping debug problems is important, it should probably be considered a secondary goal.

Of course this is all rather minor, in that those people implementing the simple case only need to specify the label attribute as being an empty string.  But, this does sound a little bogus to me, but if you really think that the debug scenario is important, then so be it.

Maybe setting the label to an empty string should be documented and explained.  But it sounds like you're punishing the diligent developer.  ;-)

Part of the problem I see is that it is confusing to know which label ends up being displayed by the help system- the one in the toc/topic being linked to, or the one in the topic that is doing the linking.  I never saw this mentioned in the eclipse help docs.

Example:
# primary.xml
&lt;toc label="My Book" topic="books/bookset.html"&gt;
  &lt;topic label="Getting Started" href="books/getting-started/book.html"&gt;
    &lt;anchor id="getting-started"/&gt;
  ...

# getting-started.xml
&lt;toc link_to="toc/primary.xml#getting-started" label="My Getting Started"&gt; 
  &lt;topic label="Introduction"
   ...

If I remember correctly, the result in the generated TOC that you see in eclipse would be like:

My Book
- Getting Started
-- Introduction

So it's confusing for developers that you have to specify a label in both places when one of them ends up being ignored anyway.  Granted if the getting-started TOC were ever by itself as it's own book, it's label would then be used.
I think the issue is bigger than whether there should be a label or not. This discussion relates to Bug 195577 that I opened to address what I think is an architectural weakness in the way the TOC is built up. 

I think the &lt;toc&gt; node should never be displayed at all in the TOC hierarchy, even when primary="true". You can read my discussion there, but essentially problems occur when the TOC designed to be primary is consumed at a lower level. I think the Help system should display only the &lt;topic&gt; nodes exactly as the user authors them. I recognize that this would be a major change, but it would increase consumability of TOCs and improve predictability.
There is no plan to implement this.</WithOutStack>
  </Bug>
  <Bug>
    <BugId amount="133863" />
    <CreationDate amount="2006-03-29 10:47:00 -0500" />
    <DupId amount="" />
    <classification amount="Eclipse" />
    <Product amount="Platform" />
    <component amount="CVS" />
    <Version amount="3.2" />
    <rep_platform amount="PC" />
    <op_sys amount="Windows XP" />
    <priority amount="P2" />
    <bug_severity amount="normal" />
    <Summery>[Model Share] Missing Java Model Provider from Share Wizard</Summery>
    <Patches amount="0" />
    <Stacktraces amount="0" />
    <SourceCodeRegions amount="0" />
    <Enumerations amount="0" />
    <bug_status amount="RESOLVED" />
    <resolution amount="WORKSFORME" />
    <WithStack>I20060329-0800

Last page of the sharing wizard has a drop down list with all of the model providers listed. The Java Model provider is missing.
Could be aq plugin loading thing.
I am unable to reproduce this. Can you provide the steps to reproduce;-)</WithStack>
    <WithOutStack>I20060329-0800

Last page of the sharing wizard has a drop down list with all of the model providers listed. The Java Model provider is missing.
Could be aq plugin loading thing.
I am unable to reproduce this. Can you provide the steps to reproduce;-)</WithOutStack>
  </Bug>
  <Bug>
    <BugId amount="133864" />
    <CreationDate amount="2006-03-29 10:48:00 -0500" />
    <DupId amount="" />
    <classification amount="Eclipse" />
    <Product amount="Platform" />
    <component amount="Debug" />
    <Version amount="3.2" />
    <rep_platform amount="PC" />
    <op_sys amount="Windows XP" />
    <priority amount="P3" />
    <bug_severity amount="normal" />
    <Summery>[Memory View] Columns not sized properly first memory rendering</Summery>
    <Patches amount="0" />
    <Stacktraces amount="0" />
    <SourceCodeRegions amount="0" />
    <Enumerations amount="0" />
    <bug_status amount="VERIFIED" />
    <resolution amount="FIXED" />
    <WithStack>* Launch a debug session.
* Memory View was opened by context.  
* Bring the Memory View to the top.
* From the Registers View, select a register
* RMC-&gt;Add Memory Rendering-&gt;Select any rendering.

When the rendering is added, the column's width is too small.  

Try the same thing again, the second rendering has its columns sized properly.

Will attach screen capture.
Created attachment 37210
screen capture
Fixed in AsynVirtualContentTableViewer.

Rendering was packing the columns before the table is visible.  As a result, the column size was calculated based on the width of the column header instead of basing it on the content.

The fix is to check that the table is actually visible before attempting to pack the columns.  If the table is not yet visible, set "pending pack flag" to true.  The viewer will try to pack the columns again when the content is displayed.
Correction with steps to reproduce:
* Use com.abc.sampleAdapter (extended memory block)
* Launch debug session
* Memory view needs to be hidden (** this is different from before.)
* From the registers view, select a register and add a rendering.
* Brings the Memory View to the top.

Darin, please verify.  Thanks...
Sam
Verified.</WithStack>
    <WithOutStack>* Launch a debug session.
* Memory View was opened by context.  
* Bring the Memory View to the top.
* From the Registers View, select a register
* RMC-&gt;Add Memory Rendering-&gt;Select any rendering.

When the rendering is added, the column's width is too small.  

Try the same thing again, the second rendering has its columns sized properly.

Will attach screen capture.
Created attachment 37210
screen capture
Fixed in AsynVirtualContentTableViewer.

Rendering was packing the columns before the table is visible.  As a result, the column size was calculated based on the width of the column header instead of basing it on the content.

The fix is to check that the table is actually visible before attempting to pack the columns.  If the table is not yet visible, set "pending pack flag" to true.  The viewer will try to pack the columns again when the content is displayed.
Correction with steps to reproduce:
* Use com.abc.sampleAdapter (extended memory block)
* Launch debug session
* Memory view needs to be hidden (** this is different from before.)
* From the registers view, select a register and add a rendering.
* Brings the Memory View to the top.

Darin, please verify.  Thanks...
Sam
Verified.</WithOutStack>
  </Bug>
  <Bug>
    <BugId amount="133865" />
    <CreationDate amount="2006-03-29 10:58:00 -0500" />
    <DupId amount="" />
    <classification amount="Eclipse" />
    <Product amount="Platform" />
    <component amount="CVS" />
    <Version amount="3.2" />
    <rep_platform amount="PC" />
    <op_sys amount="Windows XP" />
    <priority amount="P3" />
    <bug_severity amount="normal" />
    <Summery>[History View] Show Local History on non-shared  projects appears to be missing</Summery>
    <Patches amount="0" />
    <Stacktraces amount="0" />
    <SourceCodeRegions amount="0" />
    <Enumerations amount="0" />
    <bug_status amount="RESOLVED" />
    <resolution amount="INVALID" />
    <WithStack>I20060329-0800

Title says it all - look if the id override is broken, as I remember this working before. In either case we need to get something going for M6.
Drugs!!!</WithStack>
    <WithOutStack>I20060329-0800

Title says it all - look if the id override is broken, as I remember this working before. In either case we need to get something going for M6.
Drugs!!!</WithOutStack>
  </Bug>
  <Bug>
    <BugId amount="133866" />
    <CreationDate amount="2006-03-29 10:59:00 -0500" />
    <DupId amount="" />
    <classification amount="Tools" />
    <Product amount="CDT" />
    <component amount="cdt-build" />
    <Version amount="3.0.1" />
    <rep_platform amount="PC" />
    <op_sys amount="Windows 2000" />
    <priority amount="P3" />
    <bug_severity amount="normal" />
    <Summery>Managed Build. Build searches for wrong linker.</Summery>
    <Patches amount="0" />
    <Stacktraces amount="0" />
    <SourceCodeRegions amount="0" />
    <Enumerations amount="0" />
    <bug_status amount="RESOLVED" />
    <resolution amount="INVALID" />
    <WithStack>I'm using arm-elf-gcc tool chain to build an Executable (GNU on Linux) project and when I build the project it compiles correctly but the linker generates the following output:
-------
/opt/ecos/gnutools/arm-elf/lib/gcc/arm-elf/3.4.4/../../../../arm-elf/bin/ld: : No such file: No such file or directory
collect2: ld returned 1 exit status
-------
It appears to be looking for ld instead of arm-elf-ld even though the tool chain is on the path.

In the Tool Settings tab, the linker command line is:
-------
arm-elf-gcc -mcpu=arm7tdmi
-L"C:\at91\software\drivers\lib_drv\lib_drv_16_Data\optm_none" -L"C:\at91\software\parts\m40800\m40800_lib16_Data\optm_none" -Wl, --gc-sections -Wl, -static -Wl, -n  -g -nostdlib
-------
A test application outside of Eclipse CDT showed that the problem remains.  It's a problem with the linker, nothing to do with CDT or Eclipse.</WithStack>
    <WithOutStack>I'm using arm-elf-gcc tool chain to build an Executable (GNU on Linux) project and when I build the project it compiles correctly but the linker generates the following output:
-------
/opt/ecos/gnutools/arm-elf/lib/gcc/arm-elf/3.4.4/../../../../arm-elf/bin/ld: : No such file: No such file or directory
collect2: ld returned 1 exit status
-------
It appears to be looking for ld instead of arm-elf-ld even though the tool chain is on the path.

In the Tool Settings tab, the linker command line is:
-------
arm-elf-gcc -mcpu=arm7tdmi
-L"C:\at91\software\drivers\lib_drv\lib_drv_16_Data\optm_none" -L"C:\at91\software\parts\m40800\m40800_lib16_Data\optm_none" -Wl, --gc-sections -Wl, -static -Wl, -n  -g -nostdlib
-------
A test application outside of Eclipse CDT showed that the problem remains.  It's a problem with the linker, nothing to do with CDT or Eclipse.</WithOutStack>
  </Bug>
  <Bug>
    <BugId amount="133867" />
    <CreationDate amount="2006-03-29 11:00:00 -0500" />
    <DupId amount="" />
    <classification amount="Eclipse" />
    <Product amount="Platform" />
    <component amount="UI" />
    <Version amount="3.2" />
    <rep_platform amount="All" />
    <op_sys amount="All" />
    <priority amount="P2" />
    <bug_severity amount="major" />
    <Summery>[EFS] Project wizard browse button not connected to file system contributor</Summery>
    <Patches amount="0" />
    <Stacktraces amount="1">
      <Stacktrace timestamp="1437330688213">
        <Exception>java.lang.NullPointerException</Exception>
        <Reason />
        <Frames>
          <Frame depth="0">java.net.URI$Parser.parse(URI.java:2946)</Frame>
          <Frame depth="1">java.net.URI.&lt;init&gt;(URI.java:574)</Frame>
          <Frame depth="2">org.eclipse.core.internal.filesystem.zip.ZipFileSystem.getStore(ZipFileSystem.java:33)</Frame>
          <Frame depth="3">org.eclipse.core.internal.filesystem.InternalFileSystemCore.getStore(InternalFileSystemCore.java:107)</Frame>
          <Frame depth="4">org.eclipse.core.filesystem.EFS.getStore(EFS.java:296)</Frame>
          <Frame depth="5">org.eclipse.core.filesystem.URIUtil.equals(URIUtil.java:42)</Frame>
          <Frame depth="6">org.eclipse.core.internal.resources.LocationValidator.validateProjectLocationURI(LocationValidator.java:361)</Frame>
          <Frame depth="7">org.eclipse.core.internal.resources.Workspace.validateProjectLocationURI(Workspace.java:2007)</Frame>
          <Frame depth="8">org.eclipse.ui.dialogs.WizardNewProjectCreationPage.validatePage(WizardNewProjectCreationPage.java:307)</Frame>
          <Frame depth="9">org.eclipse.ui.dialogs.WizardNewProjectCreationPage$2.reportError(WizardNewProjectCreationPage.java:128)</Frame>
          <Frame depth="10">org.eclipse.ui.internal.ide.dialogs.ProjectContentsLocationArea$3.modifyText(ProjectContentsLocationArea.java:229)</Frame>
          <Frame depth="11">org.eclipse.swt.widgets.TypedListener.handleEvent(TypedListener.java:196)</Frame>
          <Frame depth="12">org.eclipse.swt.widgets.EventTable.sendEvent(EventTable.java:66)</Frame>
          <Frame depth="13">org.eclipse.swt.widgets.Widget.sendEvent(Widget.java:925)</Frame>
          <Frame depth="14">org.eclipse.swt.widgets.Widget.sendEvent(Widget.java:949)</Frame>
          <Frame depth="15">org.eclipse.swt.widgets.Widget.sendEvent(Widget.java:930)</Frame>
          <Frame depth="16">org.eclipse.swt.widgets.Text.wmCommandChild(Text.java:2143)</Frame>
          <Frame depth="17">org.eclipse.swt.widgets.Control.WM_COMMAND(Control.java:3375)</Frame>
          <Frame depth="18">org.eclipse.swt.widgets.Control.windowProc(Control.java:3249)</Frame>
          <Frame depth="19">org.eclipse.swt.widgets.Display.windowProc(Display.java:4023)</Frame>
          <Frame depth="20">org.eclipse.swt.internal.win32.OS.CallWindowProcW(Native Method)</Frame>
          <Frame depth="21">org.eclipse.swt.internal.win32.OS.CallWindowProc(OS.java:1803)</Frame>
          <Frame depth="22">org.eclipse.swt.widgets.Text.callWindowProc(Text.java:131)</Frame>
          <Frame depth="23">org.eclipse.swt.widgets.Control.windowProc(Control.java:3334)</Frame>
          <Frame depth="24">org.eclipse.swt.widgets.Text.windowProc(Text.java:1841)</Frame>
          <Frame depth="25">org.eclipse.swt.widgets.Display.windowProc(Display.java:4023)</Frame>
          <Frame depth="26">org.eclipse.swt.internal.win32.OS.SetWindowTextW(Native Method)</Frame>
          <Frame depth="27">org.eclipse.swt.internal.win32.OS.SetWindowText(OS.java:2583)</Frame>
          <Frame depth="28">org.eclipse.swt.widgets.Text.setText(Text.java:1657)</Frame>
          <Frame depth="29">org.eclipse.ui.internal.ide.dialogs.ProjectContentsLocationArea.updateLocationField(ProjectContentsLocationArea.java:321)</Frame>
          <Frame depth="30">org.eclipse.ui.internal.ide.dialogs.ProjectContentsLocationArea.handleLocationBrowseButtonPressed(ProjectContentsLocationArea.java:311)</Frame>
          <Frame depth="31">org.eclipse.ui.internal.ide.dialogs.ProjectContentsLocationArea.access$6(ProjectContentsLocationArea.java:301)</Frame>
          <Frame depth="32">org.eclipse.ui.internal.ide.dialogs.ProjectContentsLocationArea$2.widgetSelected(ProjectContentsLocationArea.java:204)</Frame>
          <Frame depth="33">org.eclipse.swt.widgets.TypedListener.handleEvent(TypedListener.java:90)</Frame>
          <Frame depth="34">org.eclipse.swt.widgets.EventTable.sendEvent(EventTable.java:66)</Frame>
          <Frame depth="35">org.eclipse.swt.widgets.Widget.sendEvent(Widget.java:925)</Frame>
          <Frame depth="36">org.eclipse.swt.widgets.Display.runDeferredEvents(Display.java:3346)</Frame>
          <Frame depth="37">org.eclipse.swt.widgets.Display.readAndDispatch(Display.java:2966)</Frame>
          <Frame depth="38">org.eclipse.jface.window.Window.runEventLoop(Window.java:820)</Frame>
          <Frame depth="39">org.eclipse.jface.window.Window.open(Window.java:796)</Frame>
          <Frame depth="40">org.eclipse.ui.actions.NewProjectAction.run(NewProjectAction.java:116)</Frame>
          <Frame depth="41">org.eclipse.jface.action.Action.runWithEvent(Action.java:499)</Frame>
          <Frame depth="42">org.eclipse.jface.action.ActionContributionItem.handleWidgetSelection(ActionContributionItem.java:539)</Frame>
          <Frame depth="43">org.eclipse.jface.action.ActionContributionItem.access$2(ActionContributionItem.java:488)</Frame>
          <Frame depth="44">org.eclipse.jface.action.ActionContributionItem$5.handleEvent(ActionContributionItem.java:400)</Frame>
          <Frame depth="45">org.eclipse.swt.widgets.EventTable.sendEvent(EventTable.java:66)</Frame>
          <Frame depth="46">org.eclipse.swt.widgets.Widget.sendEvent(Widget.java:925)</Frame>
          <Frame depth="47">org.eclipse.swt.widgets.Display.runDeferredEvents(Display.java:3346)</Frame>
          <Frame depth="48">org.eclipse.swt.widgets.Display.readAndDispatch(Display.java:2966)</Frame>
          <Frame depth="49">org.eclipse.ui.internal.Workbench.runEventLoop(Workbench.java:1914)</Frame>
          <Frame depth="50">org.eclipse.ui.internal.Workbench.runUI(Workbench.java:1878)</Frame>
          <Frame depth="51">org.eclipse.ui.internal.Workbench.createAndRunWorkbench(Workbench.java:419)</Frame>
          <Frame depth="52">org.eclipse.ui.PlatformUI.createAndRunWorkbench(PlatformUI.java:143)</Frame>
          <Frame depth="53">org.eclipse.ui.internal.ide.IDEApplication.run(IDEApplication.java:95)</Frame>
          <Frame depth="54">org.eclipse.core.internal.runtime.PlatformActivator$1.run(PlatformActivator.java:78)</Frame>
          <Frame depth="55">org.eclipse.core.runtime.internal.adaptor.EclipseAppLauncher.runApplication(EclipseAppLauncher.java:92)</Frame>
          <Frame depth="56">org.eclipse.core.runtime.internal.adaptor.EclipseAppLauncher.start(EclipseAppLauncher.java:68)</Frame>
          <Frame depth="57">org.eclipse.core.runtime.adaptor.EclipseStarter.run(EclipseStarter.java:376)</Frame>
          <Frame depth="58">org.eclipse.core.runtime.adaptor.EclipseStarter.run(EclipseStarter.java:169)</Frame>
          <Frame depth="59">sun.reflect.NativeMethodAccessorImpl.invoke0(Native Method)</Frame>
          <Frame depth="60">sun.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:39)</Frame>
          <Frame depth="61">sun.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:25)</Frame>
          <Frame depth="62">java.lang.reflect.Method.invoke(Method.java:324)</Frame>
          <Frame depth="63">org.eclipse.core.launcher.Main.invokeFramework(Main.java:336)</Frame>
          <Frame depth="64">org.eclipse.core.launcher.Main.basicRun(Main.java:280)</Frame>
          <Frame depth="65">org.eclipse.core.launcher.Main.run(Main.java:977)</Frame>
          <Frame depth="66">org.eclipse.core.launcher.Main.main(Main.java:952)</Frame>
        </Frames>
      </Stacktrace>
    </Stacktraces>
    <SourceCodeRegions amount="0" />
    <Enumerations amount="1">
      <Enumeration lines="5">
        <Lines>
          <Line>1) Install org.eclipse.ui.examples.filesystem</Line>
          <Line>2) Open the new project wizard</Line>
          <Line>3) Uncheck the default location checkbox</Line>
          <Line>4) Select "In Memory" file system</Line>
          <Line>5) Click "Browse"</Line>
        </Lines>
      </Enumeration>
    </Enumerations>
    <bug_status amount="VERIFIED" />
    <resolution amount="FIXED" />
    <WithStack>Build: I20060328-0010

1) Install org.eclipse.ui.examples.filesystem
2) Open the new project wizard
3) Uncheck the default location checkbox
4) Select "In Memory" file system
5) Click "Browse"

I would expect FileSystemContributor.browseFileSystem(String,Shell) to be called, but it isn't.  Not matter what file system I select, clicking browse just opens a standard local file system dialog.  This makes it impossible for another file system to plugin in a different file system browse dialog.
This was not a feature we decided to add for 3.2 as we use the SWT file system dialog and it was going to be a largish API change.
I thought clicking the Browse button would just call the browseFileSystem(...) method on FileSystemContributor? Then it would be up to the file system to decide what kind of dialog to show.  The FileSystemContributor.browseFileSystem method is not currently used anywhere.
We can just use the existing FileSystemContributor#browseFileSystem API
I am still having a validation problem with

John I am still having the following problem with the zip example on validation


A URI from zip:/D:/temp/3.2M6-news.zip

generates 

!ENTRY org.eclipse.ui 4 0 2006-03-31 10:14:13.312
!MESSAGE java.lang.NullPointerException
!STACK 0
java.lang.NullPointerException
        at java.net.URI$Parser.parse(URI.java:2946)
        at java.net.URI.&lt;init&gt;(URI.java:574)
        at
org.eclipse.core.internal.filesystem.zip.ZipFileSystem.getStore(ZipFileSystem.java:33)
        at
org.eclipse.core.internal.filesystem.InternalFileSystemCore.getStore(InternalFileSystemCore.java:107)
        at org.eclipse.core.filesystem.EFS.getStore(EFS.java:296)
        at org.eclipse.core.filesystem.URIUtil.equals(URIUtil.java:42)
        at
org.eclipse.core.internal.resources.LocationValidator.validateProjectLocationURI(LocationValidator.java:361)
        at
org.eclipse.core.internal.resources.Workspace.validateProjectLocationURI(Workspace.java:2007)
        at
org.eclipse.ui.dialogs.WizardNewProjectCreationPage.validatePage(WizardNewProjectCreationPage.java:307)
        at
org.eclipse.ui.dialogs.WizardNewProjectCreationPage$2.reportError(WizardNewProjectCreationPage.java:128)
        at
org.eclipse.ui.internal.ide.dialogs.ProjectContentsLocationArea$3.modifyText(ProjectContentsLocationArea.java:229)
        at
org.eclipse.swt.widgets.TypedListener.handleEvent(TypedListener.java:196)
        at org.eclipse.swt.widgets.EventTable.sendEvent(EventTable.java:66)
        at org.eclipse.swt.widgets.Widget.sendEvent(Widget.java:925)
        at org.eclipse.swt.widgets.Widget.sendEvent(Widget.java:949)
        at org.eclipse.swt.widgets.Widget.sendEvent(Widget.java:930)
        at org.eclipse.swt.widgets.Text.wmCommandChild(Text.java:2143)
        at org.eclipse.swt.widgets.Control.WM_COMMAND(Control.java:3375)
        at org.eclipse.swt.widgets.Control.windowProc(Control.java:3249)
        at org.eclipse.swt.widgets.Display.windowProc(Display.java:4023)
        at org.eclipse.swt.internal.win32.OS.CallWindowProcW(Native Method)
        at org.eclipse.swt.internal.win32.OS.CallWindowProc(OS.java:1803)
        at org.eclipse.swt.widgets.Text.callWindowProc(Text.java:131)
        at org.eclipse.swt.widgets.Control.windowProc(Control.java:3334)
        at org.eclipse.swt.widgets.Text.windowProc(Text.java:1841)
        at org.eclipse.swt.widgets.Display.windowProc(Display.java:4023)
        at org.eclipse.swt.internal.win32.OS.SetWindowTextW(Native Method)
        at org.eclipse.swt.internal.win32.OS.SetWindowText(OS.java:2583)
        at org.eclipse.swt.widgets.Text.setText(Text.java:1657)
        at
org.eclipse.ui.internal.ide.dialogs.ProjectContentsLocationArea.updateLocationField(ProjectContentsLocationArea.java:321)
        at
org.eclipse.ui.internal.ide.dialogs.ProjectContentsLocationArea.handleLocationBrowseButtonPressed(ProjectContentsLocationArea.java:311)
        at
org.eclipse.ui.internal.ide.dialogs.ProjectContentsLocationArea.access$6(ProjectContentsLocationArea.java:301)
        at
org.eclipse.ui.internal.ide.dialogs.ProjectContentsLocationArea$2.widgetSelected(ProjectContentsLocationArea.java:204)
        at
org.eclipse.swt.widgets.TypedListener.handleEvent(TypedListener.java:90)
        at org.eclipse.swt.widgets.EventTable.sendEvent(EventTable.java:66)
        at org.eclipse.swt.widgets.Widget.sendEvent(Widget.java:925)
        at org.eclipse.swt.widgets.Display.runDeferredEvents(Display.java:3346)
        at org.eclipse.swt.widgets.Display.readAndDispatch(Display.java:2966)
        at org.eclipse.jface.window.Window.runEventLoop(Window.java:820)
        at org.eclipse.jface.window.Window.open(Window.java:796)
        at
org.eclipse.ui.actions.NewProjectAction.run(NewProjectAction.java:116)
        at org.eclipse.jface.action.Action.runWithEvent(Action.java:499)
        at
org.eclipse.jface.action.ActionContributionItem.handleWidgetSelection(ActionContributionItem.java:539)
        at
org.eclipse.jface.action.ActionContributionItem.access$2(ActionContributionItem.java:488)
        at
org.eclipse.jface.action.ActionContributionItem$5.handleEvent(ActionContributionItem.java:400)
        at org.eclipse.swt.widgets.EventTable.sendEvent(EventTable.java:66)
        at org.eclipse.swt.widgets.Widget.sendEvent(Widget.java:925)
        at org.eclipse.swt.widgets.Display.runDeferredEvents(Display.java:3346)
        at org.eclipse.swt.widgets.Display.readAndDispatch(Display.java:2966)
        at org.eclipse.ui.internal.Workbench.runEventLoop(Workbench.java:1914)
        at org.eclipse.ui.internal.Workbench.runUI(Workbench.java:1878)
        at
org.eclipse.ui.internal.Workbench.createAndRunWorkbench(Workbench.java:419)
        at org.eclipse.ui.PlatformUI.createAndRunWorkbench(PlatformUI.java:143)
        at
org.eclipse.ui.internal.ide.IDEApplication.run(IDEApplication.java:95)
        at
org.eclipse.core.internal.runtime.PlatformActivator$1.run(PlatformActivator.java:78)
        at
org.eclipse.core.runtime.internal.adaptor.EclipseAppLauncher.runApplication(EclipseAppLauncher.java:92)
        at
org.eclipse.core.runtime.internal.adaptor.EclipseAppLauncher.start(EclipseAppLauncher.java:68)
        at
org.eclipse.core.runtime.adaptor.EclipseStarter.run(EclipseStarter.java:376)
        at
org.eclipse.core.runtime.adaptor.EclipseStarter.run(EclipseStarter.java:169)
        at sun.reflect.NativeMethodAccessorImpl.invoke0(Native Method)
        at
sun.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:39)
        at
sun.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:25)
        at java.lang.reflect.Method.invoke(Method.java:324)
        at org.eclipse.core.launcher.Main.invokeFramework(Main.java:336)
        at org.eclipse.core.launcher.Main.basicRun(Main.java:280)
        at org.eclipse.core.launcher.Main.run(Main.java:977)
        at org.eclipse.core.launcher.Main.main(Main.java:952)
Fixed in build &gt;20060306
Verified in 20060425</WithStack>
    <WithOutStack>Build: I20060328-0010

1) Install org.eclipse.ui.examples.filesystem
2) Open the new project wizard
3) Uncheck the default location checkbox
4) Select "In Memory" file system
5) Click "Browse"

I would expect FileSystemContributor.browseFileSystem(String,Shell) to be called, but it isn't.  Not matter what file system I select, clicking browse just opens a standard local file system dialog.  This makes it impossible for another file system to plugin in a different file system browse dialog.
This was not a feature we decided to add for 3.2 as we use the SWT file system dialog and it was going to be a largish API change.
I thought clicking the Browse button would just call the browseFileSystem(...) method on FileSystemContributor? Then it would be up to the file system to decide what kind of dialog to show.  The FileSystemContributor.browseFileSystem method is not currently used anywhere.
We can just use the existing FileSystemContributor#browseFileSystem API
I am still having a validation problem with

John I am still having the following problem with the zip example on validation


A URI from zip:/D:/temp/3.2M6-news.zip

generates 

!ENTRY org.eclipse.ui 4 0 2006-03-31 10:14:13.312
!MESSAGE java.lang.NullPointerException
!STACK 0

Fixed in build &gt;20060306
Verified in 20060425</WithOutStack>
  </Bug>
  <Bug>
    <BugId amount="133868" />
    <CreationDate amount="2006-03-29 11:02:00 -0500" />
    <DupId amount="" />
    <classification amount="Tools" />
    <Product amount="TPTP Static Analysis" />
    <component amount="Platform.Analysis" />
    <Version amount="4.2" />
    <rep_platform amount="PC" />
    <op_sys amount="Windows XP" />
    <priority amount="P3" />
    <bug_severity amount="major" />
    <Summery>Java Analysis needs too much memory</Summery>
    <Patches amount="0" />
    <Stacktraces amount="0" />
    <SourceCodeRegions amount="0" />
    <Enumerations amount="0" />
    <bug_status amount="CLOSED" />
    <resolution amount="WORKSFORME" />
    <WithStack>As a larger test for Analysis I ran all 70 Java tests across jdt.ui . This fails with an OutOfMemoryError.

Details: Unzipped fresh eclipse-SDK-3.2M5a-win32.zip, unzipped fresh tptp.sdk-TPTP-4.2.0-200602281515.zip into the same directory.
Started with -Xmx768m, made a new workspace and imported the org.eclipse.jdt.ui as a Project with Source Folders. 
Made a new Analysis configuration, activated all 70 test, and started the analysis.

It failed even with -Xmx1500m on a 2GB machine, but I had a lot more parts of the Callisto M5 release in my config, and I wanted to ensure no interference from other plugins.

As a comparison, the JDT Java compiler produces ~10000 warnings if most possibilities are enabled using no more than ~90 MB (allocated according to memory gauge).

Checkstyle (plugin 4.1.0.beta3, Sun-Chekcs-Eclipse) pushes the allocation up to almost 700MB (with both the marker view an the graph open), but does a lot more checks (and finds ~600k warnings).

Since I believe that the usefulness of static analysis increases with project size, I consider failing on a large project a serious problem, so I have raised severity to major.

I hope this is the correct component.
70 classes is a tiny set - we routinely test with 5-10K classes.  I'll have to try this particular scenario just to be sure it's fix.

However if you try with with one on of the daily developer builds of TPTP you should be OK
This bug is about running on org.eclipse.jdt.ui, which has about 2.5k classes.

The number 70 is the number of active checks.

If you can run tests on 5-10k classes, I'd be interested in your vmargs for those runs and how many checks you activate for those runs.

Tried this with the current TPTP 4.2 developer build and it worked fine using the default Eclipse VM settings.  There was a problem in the last milestone build but it has been fixed.

Incidentally the test generates 28139 analysis results.

TPTP-4.2.0-200604060100 work for me as well, and like the compiler it doesn't take a noticable amount of memory for its work.

Since there was a bug in the last milestone build (which is what I tested) I think this bug should be closed as fixed (or duplicate of the fixed bug).

closed</WithStack>
    <WithOutStack>As a larger test for Analysis I ran all 70 Java tests across jdt.ui . This fails with an OutOfMemoryError.

Details: Unzipped fresh eclipse-SDK-3.2M5a-win32.zip, unzipped fresh tptp.sdk-TPTP-4.2.0-200602281515.zip into the same directory.
Started with -Xmx768m, made a new workspace and imported the org.eclipse.jdt.ui as a Project with Source Folders. 
Made a new Analysis configuration, activated all 70 test, and started the analysis.

It failed even with -Xmx1500m on a 2GB machine, but I had a lot more parts of the Callisto M5 release in my config, and I wanted to ensure no interference from other plugins.

As a comparison, the JDT Java compiler produces ~10000 warnings if most possibilities are enabled using no more than ~90 MB (allocated according to memory gauge).

Checkstyle (plugin 4.1.0.beta3, Sun-Chekcs-Eclipse) pushes the allocation up to almost 700MB (with both the marker view an the graph open), but does a lot more checks (and finds ~600k warnings).

Since I believe that the usefulness of static analysis increases with project size, I consider failing on a large project a serious problem, so I have raised severity to major.

I hope this is the correct component.
70 classes is a tiny set - we routinely test with 5-10K classes.  I'll have to try this particular scenario just to be sure it's fix.

However if you try with with one on of the daily developer builds of TPTP you should be OK
This bug is about running on org.eclipse.jdt.ui, which has about 2.5k classes.

The number 70 is the number of active checks.

If you can run tests on 5-10k classes, I'd be interested in your vmargs for those runs and how many checks you activate for those runs.

Tried this with the current TPTP 4.2 developer build and it worked fine using the default Eclipse VM settings.  There was a problem in the last milestone build but it has been fixed.

Incidentally the test generates 28139 analysis results.

TPTP-4.2.0-200604060100 work for me as well, and like the compiler it doesn't take a noticable amount of memory for its work.

Since there was a bug in the last milestone build (which is what I tested) I think this bug should be closed as fixed (or duplicate of the fixed bug).

closed</WithOutStack>
  </Bug>
  <Bug>
    <BugId amount="133869" />
    <CreationDate amount="2006-03-29 11:06:00 -0500" />
    <DupId amount="" />
    <classification amount="Eclipse" />
    <Product amount="Platform" />
    <component amount="UI" />
    <Version amount="3.1.2" />
    <rep_platform amount="PC" />
    <op_sys amount="Windows XP" />
    <priority amount="P3" />
    <bug_severity amount="trivial" />
    <Summery>[PresentationAPI] StackPresentation is horribly unclear</Summery>
    <Patches amount="0" />
    <Stacktraces amount="0" />
    <SourceCodeRegions amount="0" />
    <Enumerations amount="1">
      <Enumeration lines="3">
        <Lines>
          <Line>1.  Change the color of the sashes between views / editors</Line>
          <Line>2.  Change the application menu bar color</Line>
          <Line>3.  Change any remaining application background color (anything that's not #1 and #2).</Line>
        </Lines>
      </Enumeration>
    </Enumerations>
    <bug_status amount="RESOLVED" />
    <resolution amount="WONTFIX" />
    <WithStack>StackPresentation is horribly unclear in that it never explicitly states that a "The presentation doesn't actually parent the widget created by the presentable part. Instead, the part's control and toolbar are parented by the workbench window." (to quote the just-found-by-me EclipseCon presentation).

Just adding some small notes on addPart(), removePart(), selectPart(), the class itself, IPresentablePart.getControl() (whose Javadoc ONLY makes sense when you're in the inner circle on this little secret), etc would be nice.

You don't have to give away the farm here.  Just some small breadcrumbs would prevent people from pulling out their hair.

Thanks!
I take it you are asking for clarification on the javadoc for StackPresentation.  Is there anything else wrt presentations that could be useful.  We have nothing to hide but honestly this stuff is pretty hard to figure out right now and input from people trying to use it is very helpful.


Yes, the "small notes" that I referred to should have been "javadoc".  (And I obviously should have put a ":)" after my last statement :))

Heck, if you can point at the EclipseCon presentation in StackPresentation's class javadoc (http://dev.eclipse.org/viewcvs/index.cgi/org.eclipse.ui.examples.presentation/) that would be helpful.

Once one understands that the parts' controls are never actually added to the controls that you create (and you have to do manual layout and all of that) then everything else goes smoothly.  Overall I've pretty happy with the API (well, after some bread crumbs are added to the Javadocs).

The only things that I haven't immediately found at this point all revolve around colors.  How does one:

  1.  Change the color of the sashes between views / editors
  2.  Change the application menu bar color
  3.  Change any remaining application background color (anything that's not #1 and #2).

If these things are or are not done through the presentation APIs then you might just note that in the APIs (and give some hints as to where to go next if the case of "are not done").

Thanks!
The PresentationAPI has been deprecated with the Eclipse 4.x release and it has been replaced with the CSS engine. I therefore close this bugs as WONTFIX. In case your bug report is still valid for the Eclipse 4.4 release, please open a new bug report for it.</WithStack>
    <WithOutStack>StackPresentation is horribly unclear in that it never explicitly states that a "The presentation doesn't actually parent the widget created by the presentable part. Instead, the part's control and toolbar are parented by the workbench window." (to quote the just-found-by-me EclipseCon presentation).

Just adding some small notes on addPart(), removePart(), selectPart(), the class itself, IPresentablePart.getControl() (whose Javadoc ONLY makes sense when you're in the inner circle on this little secret), etc would be nice.

You don't have to give away the farm here.  Just some small breadcrumbs would prevent people from pulling out their hair.

Thanks!
I take it you are asking for clarification on the javadoc for StackPresentation.  Is there anything else wrt presentations that could be useful.  We have nothing to hide but honestly this stuff is pretty hard to figure out right now and input from people trying to use it is very helpful.


Yes, the "small notes" that I referred to should have been "javadoc".  (And I obviously should have put a ":)" after my last statement :))

Heck, if you can point at the EclipseCon presentation in StackPresentation's class javadoc (http://dev.eclipse.org/viewcvs/index.cgi/org.eclipse.ui.examples.presentation/) that would be helpful.

Once one understands that the parts' controls are never actually added to the controls that you create (and you have to do manual layout and all of that) then everything else goes smoothly.  Overall I've pretty happy with the API (well, after some bread crumbs are added to the Javadocs).

The only things that I haven't immediately found at this point all revolve around colors.  How does one:

  1.  Change the color of the sashes between views / editors
  2.  Change the application menu bar color
  3.  Change any remaining application background color (anything that's not #1 and #2).

If these things are or are not done through the presentation APIs then you might just note that in the APIs (and give some hints as to where to go next if the case of "are not done").

Thanks!
The PresentationAPI has been deprecated with the Eclipse 4.x release and it has been replaced with the CSS engine. I therefore close this bugs as WONTFIX. In case your bug report is still valid for the Eclipse 4.4 release, please open a new bug report for it.</WithOutStack>
  </Bug>
  <Bug>
    <BugId amount="133870" />
    <CreationDate amount="2006-03-29 11:07:00 -0500" />
    <DupId amount="211926" />
    <classification amount="Eclipse" />
    <Product amount="Platform" />
    <component amount="IDE" />
    <Version amount="3.0" />
    <rep_platform amount="PC" />
    <op_sys amount="Windows XP" />
    <priority amount="P3" />
    <bug_severity amount="normal" />
    <Summery>[Markers] No validation of marker limits</Summery>
    <Patches amount="0" />
    <Stacktraces amount="0" />
    <SourceCodeRegions amount="0" />
    <Enumerations amount="0" />
    <bug_status amount="RESOLVED" />
    <resolution amount="DUPLICATE" />
    <WithStack>20060328

We are not currently validating that the marker limits are &gt;0 and an integer and have no way of showing an error.
*** Bug 133724 has been marked as a duplicate of this bug. ***


*** This bug has been marked as a duplicate of bug 211926 ***</WithStack>
    <WithOutStack>20060328

We are not currently validating that the marker limits are &gt;0 and an integer and have no way of showing an error.
*** Bug 133724 has been marked as a duplicate of this bug. ***


*** This bug has been marked as a duplicate of bug 211926 ***</WithOutStack>
  </Bug>
  <Bug>
    <BugId amount="133871" />
    <CreationDate amount="2006-03-29 11:10:00 -0500" />
    <DupId amount="" />
    <classification amount="Eclipse" />
    <Product amount="Platform" />
    <component amount="Compare" />
    <Version amount="3.2" />
    <rep_platform amount="PC" />
    <op_sys amount="Windows XP" />
    <priority amount="P3" />
    <bug_severity amount="normal" />
    <Summery>[Patch] NPE when attempting apply patch</Summery>
    <Patches amount="0" />
    <Stacktraces amount="1">
      <Stacktrace timestamp="1437330688213">
        <Exception>java.lang.NullPointerException</Exception>
        <Reason />
        <Frames>
          <Frame depth="0">org.eclipse.compare.internal.patch.WorkspacePatcher.parse(WorkspacePatcher.java:111)</Frame>
          <Frame depth="1">org.eclipse.compare.internal.patch.InputPatchPage.isPatchFile(InputPatchPage.java:757)</Frame>
          <Frame depth="2">org.eclipse.compare.internal.patch.InputPatchPage.adjustToCurrentTarget(InputPatchPage.java:732)</Frame>
          <Frame depth="3">org.eclipse.compare.internal.patch.InputPatchPage.createControl(InputPatchPage.java:154)</Frame>
          <Frame depth="4">org.eclipse.jface.wizard.Wizard.createPageControls(Wizard.java:180)</Frame>
          <Frame depth="5">org.eclipse.jface.wizard.WizardDialog.createPageControls(WizardDialog.java:614)</Frame>
          <Frame depth="6">org.eclipse.jface.wizard.WizardDialog.createContents(WizardDialog.java:502)</Frame>
          <Frame depth="7">org.eclipse.jface.window.Window.create(Window.java:426)</Frame>
          <Frame depth="8">org.eclipse.jface.dialogs.Dialog.create(Dialog.java:1116)</Frame>
          <Frame depth="9">org.eclipse.jface.window.Window.open(Window.java:785)</Frame>
          <Frame depth="10">org.eclipse.compare.internal.patch.CompareWithPatchAction.run(CompareWithPatchAction.java:86)</Frame>
          <Frame depth="11">org.eclipse.compare.internal.BaseCompareAction.run(BaseCompareAction.java:26)</Frame>
          <Frame depth="12">org.eclipse.ui.internal.PluginAction.runWithEvent(PluginAction.java:254)</Frame>
          <Frame depth="13">org.eclipse.jface.action.ActionContributionItem.handleWidgetSelection(ActionContributionItem.java:539)</Frame>
          <Frame depth="14">org.eclipse.jface.action.ActionContributionItem.access$2(ActionContributionItem.java:488)</Frame>
          <Frame depth="15">org.eclipse.jface.action.ActionContributionItem$5.handleEvent(ActionContributionItem.java:400)</Frame>
          <Frame depth="16">org.eclipse.swt.widgets.EventTable.sendEvent(EventTable.java:66)</Frame>
          <Frame depth="17">org.eclipse.swt.widgets.Widget.sendEvent(Widget.java:925)</Frame>
          <Frame depth="18">org.eclipse.swt.widgets.Display.runDeferredEvents(Display.java:3346)</Frame>
          <Frame depth="19">org.eclipse.swt.widgets.Display.readAndDispatch(Display.java:2966)</Frame>
          <Frame depth="20">org.eclipse.ui.internal.Workbench.runEventLoop(Workbench.java:1914)</Frame>
          <Frame depth="21">org.eclipse.ui.internal.Workbench.runUI(Workbench.java:1878)</Frame>
          <Frame depth="22">org.eclipse.ui.internal.Workbench.createAndRunWorkbench(Workbench.java:419)</Frame>
          <Frame depth="23">org.eclipse.ui.PlatformUI.createAndRunWorkbench(PlatformUI.java:143)</Frame>
          <Frame depth="24">org.eclipse.ui.internal.ide.IDEApplication.run(IDEApplication.java:95)</Frame>
          <Frame depth="25">org.eclipse.core.internal.runtime.PlatformActivator$1.run(PlatformActivator.java:78)</Frame>
          <Frame depth="26">org.eclipse.core.runtime.internal.adaptor.EclipseAppLauncher.runApplication(EclipseAppLauncher.java:92)</Frame>
          <Frame depth="27">org.eclipse.core.runtime.internal.adaptor.EclipseAppLauncher.start(EclipseAppLauncher.java:68)</Frame>
          <Frame depth="28">org.eclipse.core.runtime.adaptor.EclipseStarter.run(EclipseStarter.java:376)</Frame>
          <Frame depth="29">org.eclipse.core.runtime.adaptor.EclipseStarter.run(EclipseStarter.java:169)</Frame>
          <Frame depth="30">sun.reflect.NativeMethodAccessorImpl.invoke0(Native Method)</Frame>
          <Frame depth="31">sun.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:39)</Frame>
          <Frame depth="32">sun.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:25)</Frame>
          <Frame depth="33">java.lang.reflect.Method.invoke(Method.java:324)</Frame>
          <Frame depth="34">org.eclipse.core.launcher.Main.invokeFramework(Main.java:336)</Frame>
          <Frame depth="35">org.eclipse.core.launcher.Main.basicRun(Main.java:280)</Frame>
          <Frame depth="36">org.eclipse.core.launcher.Main.run(Main.java:975)</Frame>
          <Frame depth="37">org.eclipse.core.launcher.Main.main(Main.java:950)</Frame>
        </Frames>
      </Stacktrace>
    </Stacktraces>
    <SourceCodeRegions amount="0" />
    <Enumerations amount="0" />
    <bug_status amount="RESOLVED" />
    <resolution amount="INVALID" />
    <WithStack>I20060329-0010
In a specific configuration, that I'll keep for a while if you have questions, I get the following error when attempting 'Apply Patch', even before getting the file selection dialog:

java.lang.NullPointerException
        at org.eclipse.compare.internal.patch.WorkspacePatcher.parse(WorkspacePatcher.java:111)
        at org.eclipse.compare.internal.patch.InputPatchPage.isPatchFile(InputPatchPage.java:757)
        at org.eclipse.compare.internal.patch.InputPatchPage.adjustToCurrentTarget(InputPatchPage.java:732)
        at org.eclipse.compare.internal.patch.InputPatchPage.createControl(InputPatchPage.java:154)
        at org.eclipse.jface.wizard.Wizard.createPageControls(Wizard.java:180)
        at org.eclipse.jface.wizard.WizardDialog.createPageControls(WizardDialog.java:614)
        at org.eclipse.jface.wizard.WizardDialog.createContents(WizardDialog.java:502)
        at org.eclipse.jface.window.Window.create(Window.java:426)
        at org.eclipse.jface.dialogs.Dialog.create(Dialog.java:1116)
        at org.eclipse.jface.window.Window.open(Window.java:785)
        at org.eclipse.compare.internal.patch.CompareWithPatchAction.run(CompareWithPatchAction.java:86)
        at org.eclipse.compare.internal.BaseCompareAction.run(BaseCompareAction.java:26)
        at org.eclipse.ui.internal.PluginAction.runWithEvent(PluginAction.java:254)
        at org.eclipse.jface.action.ActionContributionItem.handleWidgetSelection(ActionContributionItem.java:539)
        at org.eclipse.jface.action.ActionContributionItem.access$2(ActionContributionItem.java:488)
        at org.eclipse.jface.action.ActionContributionItem$5.handleEvent(ActionContributionItem.java:400)
        at org.eclipse.swt.widgets.EventTable.sendEvent(EventTable.java:66)
        at org.eclipse.swt.widgets.Widget.sendEvent(Widget.java:925)
        at org.eclipse.swt.widgets.Display.runDeferredEvents(Display.java:3346)
        at org.eclipse.swt.widgets.Display.readAndDispatch(Display.java:2966)
        at org.eclipse.ui.internal.Workbench.runEventLoop(Workbench.java:1914)
        at org.eclipse.ui.internal.Workbench.runUI(Workbench.java:1878)
        at org.eclipse.ui.internal.Workbench.createAndRunWorkbench(Workbench.java:419)
        at org.eclipse.ui.PlatformUI.createAndRunWorkbench(PlatformUI.java:143)
        at org.eclipse.ui.internal.ide.IDEApplication.run(IDEApplication.java:95)
        at org.eclipse.core.internal.runtime.PlatformActivator$1.run(PlatformActivator.java:78)
        at org.eclipse.core.runtime.internal.adaptor.EclipseAppLauncher.runApplication(EclipseAppLauncher.java:92)
        at org.eclipse.core.runtime.internal.adaptor.EclipseAppLauncher.start(EclipseAppLauncher.java:68)
        at org.eclipse.core.runtime.adaptor.EclipseStarter.run(EclipseStarter.java:376)
        at org.eclipse.core.runtime.adaptor.EclipseStarter.run(EclipseStarter.java:169)
        at sun.reflect.NativeMethodAccessorImpl.invoke0(Native Method)
        at sun.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:39)
        at sun.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:25)
        at java.lang.reflect.Method.invoke(Method.java:324)
        at org.eclipse.core.launcher.Main.invokeFramework(Main.java:336)
        at org.eclipse.core.launcher.Main.basicRun(Main.java:280)
        at org.eclipse.core.launcher.Main.run(Main.java:975)
        at org.eclipse.core.launcher.Main.main(Main.java:950)

Looking at the code, it seems that WorkspacePatcher#parse is (unexpectedly) passed an empty reader in my case. This could suggest a protection on line 111, to check that lr is not null.
It is the second time indeed that I get such behavior in the past months, but it has never been clear how to setup a context that would yield the issue.
I am getting this error as well.  Interestingly I have 3 active version of eclipse 3.2 installed, and they have all developed this problem.  One of the versions has not been updated for a long time, which makes me suspect a java update might be the culprit.

see also: 119826
Marking as INVALID for the same reason as bug 119826.</WithStack>
    <WithOutStack>I20060329-0010
In a specific configuration, that I'll keep for a while if you have questions, I get the following error when attempting 'Apply Patch', even before getting the file selection dialog:



Looking at the code, it seems that WorkspacePatcher#parse is (unexpectedly) passed an empty reader in my case. This could suggest a protection on line 111, to check that lr is not null.
It is the second time indeed that I get such behavior in the past months, but it has never been clear how to setup a context that would yield the issue.
I am getting this error as well.  Interestingly I have 3 active version of eclipse 3.2 installed, and they have all developed this problem.  One of the versions has not been updated for a long time, which makes me suspect a java update might be the culprit.

see also: 119826
Marking as INVALID for the same reason as bug 119826.</WithOutStack>
  </Bug>
  <Bug>
    <BugId amount="133872" />
    <CreationDate amount="2006-03-29 11:12:00 -0500" />
    <DupId amount="" />
    <classification amount="WebTools" />
    <Product amount="WTP Java EE Tools" />
    <component amount="jst.j2ee" />
    <Version amount="1.5" />
    <rep_platform amount="PC" />
    <op_sys amount="Windows XP" />
    <priority amount="P3" />
    <bug_severity amount="major" />
    <Summery>[project explorer] Update WTP property testers to set load on demand to be true</Summery>
    <Patches amount="0" />
    <Stacktraces amount="0" />
    <SourceCodeRegions amount="0" />
    <Enumerations amount="0" />
    <bug_status amount="CLOSED" />
    <resolution amount="FIXED" />
    <WithStack>See https://bugs.eclipse.org/bugs/show_bug.cgi?id=130338 for details.  The property testers in WTP, such as facets and EMF need to add this plugin load on demand flag so that our menu options will show properly.
Created attachment 37758
Patch for org.eclipse.jst.j2ee.navigator.ui
Created attachment 37759
Patch for org.eclipse.jst.j2ee.webservice.ui
Fixed by patch for bug 135591.
Released for the 041206 WTP 1.5 M6 build.
Verified 061606.</WithStack>
    <WithOutStack>See https://bugs.eclipse.org/bugs/show_bug.cgi?id=130338 for details.  The property testers in WTP, such as facets and EMF need to add this plugin load on demand flag so that our menu options will show properly.
Created attachment 37758
Patch for org.eclipse.jst.j2ee.navigator.ui
Created attachment 37759
Patch for org.eclipse.jst.j2ee.webservice.ui
Fixed by patch for bug 135591.
Released for the 041206 WTP 1.5 M6 build.
Verified 061606.</WithOutStack>
  </Bug>
  <Bug>
    <BugId amount="133873" />
    <CreationDate amount="2006-03-29 11:13:00 -0500" />
    <DupId amount="" />
    <classification amount="Modeling" />
    <Product amount="GMF-Tooling" />
    <component amount="Core" />
    <Version amount="1.0" />
    <rep_platform amount="All" />
    <op_sys amount="All" />
    <priority amount="P3" />
    <bug_severity amount="normal" />
    <Summery>org.eclipse.gmf.examples.runtime.diagram.logic.model.editor plugin doesn't compile</Summery>
    <Patches amount="0" />
    <Stacktraces amount="0" />
    <SourceCodeRegions amount="0" />
    <Enumerations amount="2">
      <Enumeration lines="5">
        <Lines>
          <Line>- org.eclipse.gmf.examples.runtime.diagram.logic.model.edit MANIFEST.MF should</Line>
          <Line>be corrected to include</Line>
          <Line>org.eclipse.gmf.examples.runtime.diagram.logic.model.edit as an exported package</Line>
          <Line>- org.eclipse.gmf.examples.runtime.diagram.logic.model.editor plugin should be</Line>
          <Line>included into org.eclipse.gmf.examples-feature feature manifest</Line>
        </Lines>
      </Enumeration>
      <Enumeration lines="6">
        <Lines>
          <Line>- org.eclipse.gmf.examples.runtime.diagram.logic.model.edit MANIFEST.MF should</Line>
          <Line>be corrected to include</Line>
          <Line>org.eclipse.gmf.examples.runtime.diagram.logic.model.edit as an exported</Line>
          <Line>package</Line>
          <Line>- org.eclipse.gmf.examples.runtime.diagram.logic.model.editor plugin should be</Line>
          <Line>included into org.eclipse.gmf.examples-feature feature manifest</Line>
        </Lines>
      </Enumeration>
    </Enumerations>
    <bug_status amount="RESOLVED" />
    <resolution amount="FIXED" />
    <WithStack>org.eclipse.gmf.examples.runtime.diagram.logic.model.editor/src/org/eclipse/gmf/examples/runtime/diagram/logic/semantic/presentation	
SemanticModelWizard.java	Access restriction: The type LogicsemanticEditPlugin 
is not accessible due to restriction on required project 
org.eclipse.gmf.examples.runtime.diagram.logic.model.edit	line 38
One of two things should be done:

- org.eclipse.gmf.examples.runtime.diagram.logic.model.edit MANIFEST.MF should 
be corrected to include 
org.eclipse.gmf.examples.runtime.diagram.logic.model.edit as an exported package
- org.eclipse.gmf.examples.runtime.diagram.logic.model.editor plugin should be 
included into org.eclipse.gmf.examples-feature feature manifest

- or - 

org.eclipse.gmf.examples.runtime.diagram.logic.model.editor should be deleted 
from CVS if it's not needed
Delivered option one.

- org.eclipse.gmf.examples.runtime.diagram.logic.model.edit MANIFEST.MF should 
be corrected to include 
org.eclipse.gmf.examples.runtime.diagram.logic.model.edit as an exported
package
- org.eclipse.gmf.examples.runtime.diagram.logic.model.editor plugin should be 
included into org.eclipse.gmf.examples-feature feature manifest

[target cleanup] 1.0 M6 was the original target milestone for this bug
[GMF Restructure] Bug 319140 : product GMF and component
Samples was the original product and component for this bug</WithStack>
    <WithOutStack>org.eclipse.gmf.examples.runtime.diagram.logic.model.editor/src/org/eclipse/gmf/examples/runtime/diagram/logic/semantic/presentation	
SemanticModelWizard.java	Access restriction: The type LogicsemanticEditPlugin 
is not accessible due to restriction on required project 
org.eclipse.gmf.examples.runtime.diagram.logic.model.edit	line 38
One of two things should be done:

- org.eclipse.gmf.examples.runtime.diagram.logic.model.edit MANIFEST.MF should 
be corrected to include 
org.eclipse.gmf.examples.runtime.diagram.logic.model.edit as an exported package
- org.eclipse.gmf.examples.runtime.diagram.logic.model.editor plugin should be 
included into org.eclipse.gmf.examples-feature feature manifest

- or - 

org.eclipse.gmf.examples.runtime.diagram.logic.model.editor should be deleted 
from CVS if it's not needed
Delivered option one.

- org.eclipse.gmf.examples.runtime.diagram.logic.model.edit MANIFEST.MF should 
be corrected to include 
org.eclipse.gmf.examples.runtime.diagram.logic.model.edit as an exported
package
- org.eclipse.gmf.examples.runtime.diagram.logic.model.editor plugin should be 
included into org.eclipse.gmf.examples-feature feature manifest

[target cleanup] 1.0 M6 was the original target milestone for this bug
[GMF Restructure] Bug 319140 : product GMF and component
Samples was the original product and component for this bug</WithOutStack>
  </Bug>
  <Bug>
    <BugId amount="133874" />
    <CreationDate amount="2006-03-29 11:16:00 -0500" />
    <DupId amount="" />
    <classification amount="Modeling" />
    <Product amount="M2T" />
    <component amount="Jet" />
    <Version amount="0.8.0" />
    <rep_platform amount="PC" />
    <op_sys amount="Windows XP" />
    <priority amount="P3" />
    <bug_severity amount="normal" />
    <Summery>Cannot invoke individual JET templates</Summery>
    <Patches amount="0" />
    <Stacktraces amount="0" />
    <SourceCodeRegions amount="0" />
    <Enumerations amount="0" />
    <bug_status amount="ASSIGNED" />
    <resolution amount="" />
    <WithStack>Currently the entire transformation process must run through the control.jet file at which point decisions about which templates to run are made making the input model large and overly complex filled with booleans all over the place. 

Another option currently is to create multiple JET projects with the individual templates which creates a large workspace and also is very cumbersome since exporting JET projects as jar files is not the most development friendly thing to do.

Suggestion: Is it possible to add API methods to JET2Platform to allow us to invoke individual template files within a given JET project?</WithStack>
    <WithOutStack>Currently the entire transformation process must run through the control.jet file at which point decisions about which templates to run are made making the input model large and overly complex filled with booleans all over the place. 

Another option currently is to create multiple JET projects with the individual templates which creates a large workspace and also is very cumbersome since exporting JET projects as jar files is not the most development friendly thing to do.

Suggestion: Is it possible to add API methods to JET2Platform to allow us to invoke individual template files within a given JET project?</WithOutStack>
  </Bug>
  <Bug>
    <BugId amount="133875" />
    <CreationDate amount="2006-03-29 11:20:00 -0500" />
    <DupId amount="" />
    <classification amount="Mylyn" />
    <Product amount="Mylyn" />
    <component amount="UI" />
    <Version amount="0.4" />
    <rep_platform amount="PC" />
    <op_sys amount="Windows XP" />
    <priority amount="P3" />
    <bug_severity amount="normal" />
    <Summery>The task is not removed after being marked complete with "Filter complete tasks" enabled</Summery>
    <Patches amount="0" />
    <Stacktraces amount="0" />
    <SourceCodeRegions amount="0" />
    <Enumerations amount="0" />
    <bug_status amount="RESOLVED" />
    <resolution amount="FIXED" />
    <WithStack>Version 0.4.10

FYI, I have my task list fast viewed.  I don't know if this effects this bug.

I have the "Filter Completed Tasks" filter enabled on the Tasks View.  When I mark a task complete, I expect it to disappear, but it does not.
Btw, I'm really enjoying Mylar.
You found a regression: our lazier task list refresh was failing to refresh root tasks on some changes.  Now fixed, assuming that you only noticed this with root tasks.  The work-around is to trigger any filter which will cause a full refresh of the list.  

Thanks for the comment#1 :)  Btw, what issue tracker do you guys use?  The experience is way better if it integrates with your issue tracker, although I use local tasks too.
At this point I'm using local tasks because of the project I'm working on.  In the future I fully intend to use the issue tracker integration.  If I can get our admin to move to a newer version.</WithStack>
    <WithOutStack>Version 0.4.10

FYI, I have my task list fast viewed.  I don't know if this effects this bug.

I have the "Filter Completed Tasks" filter enabled on the Tasks View.  When I mark a task complete, I expect it to disappear, but it does not.
Btw, I'm really enjoying Mylar.
You found a regression: our lazier task list refresh was failing to refresh root tasks on some changes.  Now fixed, assuming that you only noticed this with root tasks.  The work-around is to trigger any filter which will cause a full refresh of the list.  

Thanks for the comment#1 :)  Btw, what issue tracker do you guys use?  The experience is way better if it integrates with your issue tracker, although I use local tasks too.
At this point I'm using local tasks because of the project I'm working on.  In the future I fully intend to use the issue tracker integration.  If I can get our admin to move to a newer version.</WithOutStack>
  </Bug>
  <Bug>
    <BugId amount="133876" />
    <CreationDate amount="2006-03-29 11:24:00 -0500" />
    <DupId amount="" />
    <classification amount="Eclipse" />
    <Product amount="PDE" />
    <component amount="UI" />
    <Version amount="3.2" />
    <rep_platform amount="PC" />
    <op_sys amount="Windows XP" />
    <priority amount="P3" />
    <bug_severity amount="normal" />
    <Summery>[logview] wrong build id in view</Summery>
    <Patches amount="0" />
    <Stacktraces amount="1">
      <Stacktrace timestamp="1437330688213">
        <Exception>org.eclipse.core.runtime.AssertionFailedException</Exception>
        <Reason>unknown saveable: org.eclipse.compare.internal.CompareEditor$CompareSaveable@12d6a87 from part: org.eclipse.compare.internal.CompareEditor@12d6a87</Reason>
        <Frames>
          <Frame depth="0">org.eclipse.ui.internal.SaveablesList.logWarning(SaveablesList.java:177)</Frame>
          <Frame depth="1">org.eclipse.ui.internal.SaveablesList.addModel(SaveablesList.java:107)</Frame>
          <Frame depth="2">org.eclipse.ui.internal.SaveablesList.addModels(SaveablesList.java:279)</Frame>
          <Frame depth="3">org.eclipse.ui.internal.SaveablesList.handleLifecycleEvent(SaveablesList.java:211)</Frame>
          <Frame depth="4">org.eclipse.compare.internal.CompareEditor$2.run(CompareEditor.java:284)</Frame>
          <Frame depth="5">org.eclipse.core.internal.jobs.Worker.run(Worker.java:58)</Frame>
        </Frames>
      </Stacktrace>
    </Stacktraces>
    <SourceCodeRegions amount="0" />
    <Enumerations amount="0" />
    <bug_status amount="RESOLVED" />
    <resolution amount="WORKSFORME" />
    <WithStack>Using build I20060329-0010, I got an NPE which messages starts with: 
eclipse.buildId=I20060118-0800

This is the case in the Session Data panel of the Event Details dialog, and in the exported log as well. Interestingly enough, other errors of today in the same eclipse show the appropriate build id, including one that is another instance of the same error. I will attach the complete log for reference.
Created attachment 37213
Error log

The first error shows a wrong build id.
I still see this from time to time, also with different buildIds for entries logged during the same Eclipse session.

Could be a problem with .log file rotation. I'm running I20070123-1715, and below are the two most recent entries from the Error Log view. Interestingly, the latest message (with the wrong buildId) contains "This is a continuation of log file C:\e\w\development\.metadata\.bak_0.log".

---

eclipse.buildId=I20070116-1510
java.version=1.5.0_10
java.vendor=Sun Microsystems Inc.
BootLoader constants: OS=win32, ARCH=x86, WS=win32, NL=de_CH
Framework arguments:  -showlocation
Command-line arguments:  -data C:\e\w\development -clean -consolelog -console -showlocation -debug C:\e\w\debug-options.properties
This is a continuation of log file C:\e\w\development\.metadata\.bak_0.log
Created Time: 2007-01-22 15:44:50.636

Warning
Mon Jan 29 10:22:59 CET 2007
Ignored attempt to add saveable that was already registered

org.eclipse.core.runtime.AssertionFailedException: unknown saveable: org.eclipse.compare.internal.CompareEditor$CompareSaveable@12d6a87 from part: org.eclipse.compare.internal.CompareEditor@12d6a87
	at org.eclipse.ui.internal.SaveablesList.logWarning(SaveablesList.java:177)
	at org.eclipse.ui.internal.SaveablesList.addModel(SaveablesList.java:107)
	at org.eclipse.ui.internal.SaveablesList.addModels(SaveablesList.java:279)
	at org.eclipse.ui.internal.SaveablesList.handleLifecycleEvent(SaveablesList.java:211)
	at org.eclipse.compare.internal.CompareEditor$2.run(CompareEditor.java:284)
	at org.eclipse.core.internal.jobs.Worker.run(Worker.java:58)

---

eclipse.buildId=I20070123-1715
java.version=1.5.0_10
java.vendor=Sun Microsystems Inc.
BootLoader constants: OS=win32, ARCH=x86, WS=win32, NL=de_CH
Framework arguments:  -showlocation
Command-line arguments:  -data C:\e\w\development -clean -consolelog -console -showlocation -debug C:\e\w\debug-options.properties

Error
Sun Jan 28 17:33:11 CET 2007
Problems reported while synchronizing CVS Workspace. 53 of 72 resources were synchronized.

The build id is only logged when we write a !SESSION entry.  This should only be done on the very first log entry for the session and once for each time we rotate a log.  Each time we write the !SESSION entry we simply get the configuration property eclipse.buildId to write the build id to the log.  The only way this could change in the rotated log is if the config property changed since the last time we saved a !SESSION entry.

A log file may contain multiple sessions that use different builds.  In that case each session will record the different build id used.  It seems like this is the case in the attached log.

Created attachment 57745
Log file for comment 2

I got the entries in comment 2 from PDE's Error Log view (opened event details and clicked the copy button). I took a closer look at the .log file and found out that the .log file is actually OK -- it's just the Error Log view that tries to foist a wrong id on me.
Moving to PDE/UI, since the problem is only in the Error Log view.
This annoys me every time I use the Error Log view.
(In reply to comment #6)
&gt; This annoys me every time I use the Error Log view.

and bug 188334 makes me sad :(
tagging bugday
Created attachment 82399
mylyn/context/zip
(In reply to comment #6)
&gt; This annoys me every time I use the Error Log view.

Markus, does this issue still happen to you?
I tried with files attached to bug but everything seems correct.

(In reply to comment #10)
&gt; Markus, does this issue still happen to you?

I don't use the unreliable copy button any more.
=&gt; I can't say whether this has been fixed in the new Error Log view or not.

To verify whether this has really been fixed, one would have to take the .log from comment 4, put it into a workspace of an old build (3.3 should still have the bug) and check whether this really reproduces the bug. Then do the same with a recent build to verify if it has been fixed.
(In reply to comment #11)
&gt; To verify whether this has really been fixed, one would have to take the .log
&gt; from comment 4, put it into a workspace of an old build (3.3 should still have
&gt; the bug) and check whether this really reproduces the bug. Then do the same
&gt; with a recent build to verify if it has been fixed.

that's what I did and couldn't reproduce neither in 3.3 or HEAD.

&gt; that's what I did and couldn't reproduce neither in 3.3 or HEAD.

Then let's close this bug. I think I've just been in a situation that would have made this problem appear in 3.3 (log file was rotated and I then started up with a new build), but it was fine now in I20080327-2251.</WithStack>
    <WithOutStack>Using build I20060329-0010, I got an NPE which messages starts with: 
eclipse.buildId=I20060118-0800

This is the case in the Session Data panel of the Event Details dialog, and in the exported log as well. Interestingly enough, other errors of today in the same eclipse show the appropriate build id, including one that is another instance of the same error. I will attach the complete log for reference.
Created attachment 37213
Error log

The first error shows a wrong build id.
I still see this from time to time, also with different buildIds for entries logged during the same Eclipse session.

Could be a problem with .log file rotation. I'm running I20070123-1715, and below are the two most recent entries from the Error Log view. Interestingly, the latest message (with the wrong buildId) contains "This is a continuation of log file C:\e\w\development\.metadata\.bak_0.log".

---

eclipse.buildId=I20070116-1510
java.version=1.5.0_10
java.vendor=Sun Microsystems Inc.
BootLoader constants: OS=win32, ARCH=x86, WS=win32, NL=de_CH
Framework arguments:  -showlocation
Command-line arguments:  -data C:\e\w\development -clean -consolelog -console -showlocation -debug C:\e\w\debug-options.properties
This is a continuation of log file C:\e\w\development\.metadata\.bak_0.log
Created Time: 2007-01-22 15:44:50.636

Warning
Mon Jan 29 10:22:59 CET 2007
Ignored attempt to add saveable that was already registered



---

eclipse.buildId=I20070123-1715
java.version=1.5.0_10
java.vendor=Sun Microsystems Inc.
BootLoader constants: OS=win32, ARCH=x86, WS=win32, NL=de_CH
Framework arguments:  -showlocation
Command-line arguments:  -data C:\e\w\development -clean -consolelog -console -showlocation -debug C:\e\w\debug-options.properties

Error
Sun Jan 28 17:33:11 CET 2007
Problems reported while synchronizing CVS Workspace. 53 of 72 resources were synchronized.

The build id is only logged when we write a !SESSION entry.  This should only be done on the very first log entry for the session and once for each time we rotate a log.  Each time we write the !SESSION entry we simply get the configuration property eclipse.buildId to write the build id to the log.  The only way this could change in the rotated log is if the config property changed since the last time we saved a !SESSION entry.

A log file may contain multiple sessions that use different builds.  In that case each session will record the different build id used.  It seems like this is the case in the attached log.

Created attachment 57745
Log file for comment 2

I got the entries in comment 2 from PDE's Error Log view (opened event details and clicked the copy button). I took a closer look at the .log file and found out that the .log file is actually OK -- it's just the Error Log view that tries to foist a wrong id on me.
Moving to PDE/UI, since the problem is only in the Error Log view.
This annoys me every time I use the Error Log view.
(In reply to comment #6)
&gt; This annoys me every time I use the Error Log view.

and bug 188334 makes me sad :(
tagging bugday
Created attachment 82399
mylyn/context/zip
(In reply to comment #6)
&gt; This annoys me every time I use the Error Log view.

Markus, does this issue still happen to you?
I tried with files attached to bug but everything seems correct.

(In reply to comment #10)
&gt; Markus, does this issue still happen to you?

I don't use the unreliable copy button any more.
=&gt; I can't say whether this has been fixed in the new Error Log view or not.

To verify whether this has really been fixed, one would have to take the .log from comment 4, put it into a workspace of an old build (3.3 should still have the bug) and check whether this really reproduces the bug. Then do the same with a recent build to verify if it has been fixed.
(In reply to comment #11)
&gt; To verify whether this has really been fixed, one would have to take the .log
&gt; from comment 4, put it into a workspace of an old build (3.3 should still have
&gt; the bug) and check whether this really reproduces the bug. Then do the same
&gt; with a recent build to verify if it has been fixed.

that's what I did and couldn't reproduce neither in 3.3 or HEAD.

&gt; that's what I did and couldn't reproduce neither in 3.3 or HEAD.

Then let's close this bug. I think I've just been in a situation that would have made this problem appear in 3.3 (log file was rotated and I then started up with a new build), but it was fine now in I20080327-2251.</WithOutStack>
  </Bug>
  <Bug>
    <BugId amount="133877" />
    <CreationDate amount="2006-03-29 11:42:00 -0500" />
    <DupId amount="" />
    <classification amount="Eclipse" />
    <Product amount="Platform" />
    <component amount="Debug" />
    <Version amount="3.2" />
    <rep_platform amount="PC" />
    <op_sys amount="Windows XP" />
    <priority amount="P3" />
    <bug_severity amount="normal" />
    <Summery>[Memory View] Viewer contribution of AddMemoryRenderingActionDelegate does not work properly</Summery>
    <Patches amount="0" />
    <Stacktraces amount="0" />
    <SourceCodeRegions amount="0" />
    <Enumerations amount="0" />
    <bug_status amount="VERIFIED" />
    <resolution amount="FIXED" />
    <WithStack>* The action continues to show sub-menu (renderings that can be added) after the debug session is terminated and removed from the Debug View.

* If the action is shown in the Variables View before the sample debugger is loaded, the action does not create sub-menu.  The action is enabled, but it does not add sub-menu to allow users to add renderings.

* Same problem exists if the action is contributed to the editor.  The action does not provide submenu if the editor menu is brought up before the sample plugin is loaded.
The action continues to show sub-menu because:
* the action was not disabled by sample's add memory rendering target
* the action does not clear its action delegate when there is no active debug context.

The other two problems is are problems with the sample itself.  When contributing this action to a view or an editor, the action must be contributed with "PULLDOWN" style.  Otherwise, the action will be treated as just a push button and setting a menu creator will not help.

Updated sample to fix the other two problems.  
Fixed in AddMemoryRenderingActionDelegate.

If the current debug context is null, set its action delegate to null as well.
Darin, please verify this one too.  Thanks...
Sam
Verified.</WithStack>
    <WithOutStack>* The action continues to show sub-menu (renderings that can be added) after the debug session is terminated and removed from the Debug View.

* If the action is shown in the Variables View before the sample debugger is loaded, the action does not create sub-menu.  The action is enabled, but it does not add sub-menu to allow users to add renderings.

* Same problem exists if the action is contributed to the editor.  The action does not provide submenu if the editor menu is brought up before the sample plugin is loaded.
The action continues to show sub-menu because:
* the action was not disabled by sample's add memory rendering target
* the action does not clear its action delegate when there is no active debug context.

The other two problems is are problems with the sample itself.  When contributing this action to a view or an editor, the action must be contributed with "PULLDOWN" style.  Otherwise, the action will be treated as just a push button and setting a menu creator will not help.

Updated sample to fix the other two problems.  
Fixed in AddMemoryRenderingActionDelegate.

If the current debug context is null, set its action delegate to null as well.
Darin, please verify this one too.  Thanks...
Sam
Verified.</WithOutStack>
  </Bug>
  <Bug>
    <BugId amount="133878" />
    <CreationDate amount="2006-03-29 11:48:00 -0500" />
    <DupId amount="" />
    <classification amount="Eclipse Foundation" />
    <Product amount="z_Archived" />
    <component amount="WTP Datatools" />
    <Version amount="unspecified" />
    <rep_platform amount="PC" />
    <op_sys amount="Windows XP" />
    <priority amount="P3" />
    <bug_severity amount="major" />
    <Summery>SyBase and TIMESTAMP column</Summery>
    <Patches amount="0" />
    <Stacktraces amount="0" />
    <SourceCodeRegions amount="0" />
    <Enumerations amount="0" />
    <bug_status amount="CLOSED" />
    <resolution amount="FIXED" />
    <WithStack>When generating a Top-Down mapping the following is created (for Trade Holding EJB):

CREATE TABLE HOLDINGEJB (
		 		 PURCHASEPRICE DECIMAL(10,2),
		 		 HOLDINGID INTEGER NOT NULL,
		 		 QUANTITY DOUBLE PRECISION NOT NULL,
		 		 PURCHASEDATE TIMESTAMP,
		 		 ACCOUNT_ACCOUNTID INTEGER,
		 		 QUOTE_SYMBOL VARCHAR(100)
		 );

Creation of this table fails on SyBase 15 , since it only accept lowercase timestamp.
We need to handle this case. An engineering build has been tested by developer. The risk and impact are very low.
Created attachment 37239
patch for org.eclipse.wst.rdb.core plugin

patch generated for WTP maintenance stream
Created attachment 37240
patch for org.eclipse.wst.rdb.dbdefinition.sybase plugin

patch generated for WTP maintenance stream
Patch applied to 1.0.2 stream on March 29, 2006.  Still waiting for patch to apply to WTP 1.5(HEAD) stream.
Suggestion: if still waiting for something for 1.5, (longer than today). please open a new bug for that stream, and mark this one as "fixed" so our 1.0.2 list gets clean. 


This was, reportedly, fixed for 1.0.2 stream. If, for some reason, you are waiting for something to release to 1.5 stream, please open a new bug for that. 
We need 1.0.2 bugs to show "fixed". 


Verified fixed.</WithStack>
    <WithOutStack>When generating a Top-Down mapping the following is created (for Trade Holding EJB):

CREATE TABLE HOLDINGEJB (
		 		 PURCHASEPRICE DECIMAL(10,2),
		 		 HOLDINGID INTEGER NOT NULL,
		 		 QUANTITY DOUBLE PRECISION NOT NULL,
		 		 PURCHASEDATE TIMESTAMP,
		 		 ACCOUNT_ACCOUNTID INTEGER,
		 		 QUOTE_SYMBOL VARCHAR(100)
		 );

Creation of this table fails on SyBase 15 , since it only accept lowercase timestamp.
We need to handle this case. An engineering build has been tested by developer. The risk and impact are very low.
Created attachment 37239
patch for org.eclipse.wst.rdb.core plugin

patch generated for WTP maintenance stream
Created attachment 37240
patch for org.eclipse.wst.rdb.dbdefinition.sybase plugin

patch generated for WTP maintenance stream
Patch applied to 1.0.2 stream on March 29, 2006.  Still waiting for patch to apply to WTP 1.5(HEAD) stream.
Suggestion: if still waiting for something for 1.5, (longer than today). please open a new bug for that stream, and mark this one as "fixed" so our 1.0.2 list gets clean. 


This was, reportedly, fixed for 1.0.2 stream. If, for some reason, you are waiting for something to release to 1.5 stream, please open a new bug for that. 
We need 1.0.2 bugs to show "fixed". 


Verified fixed.</WithOutStack>
  </Bug>
  <Bug>
    <BugId amount="133879" />
    <CreationDate amount="2006-03-29 11:51:00 -0500" />
    <DupId amount="" />
    <classification amount="Modeling" />
    <Product amount="GMF-Runtime" />
    <component amount="General" />
    <Version amount="1.0" />
    <rep_platform amount="PC" />
    <op_sys amount="Windows XP" />
    <priority amount="P3" />
    <bug_severity amount="normal" />
    <Summery>Copying a shape on the diagram clears the undo history</Summery>
    <Patches amount="0" />
    <Stacktraces amount="0" />
    <SourceCodeRegions amount="0" />
    <Enumerations amount="1">
      <Enumeration lines="4">
        <Lines>
          <Line>1. Create a new logic example diagram</Line>
          <Line>2. Add a LED to the diagram; observe that "Undo Create LED" is available from the edit menu.</Line>
          <Line>3. Select the LED and choose 'Edit-&gt;Copy' from the diagram context menu.</Line>
          <Line>4. Observe that "Undo Create LED" is no longer available from the edit menu</Line>
        </Lines>
      </Enumeration>
    </Enumerations>
    <bug_status amount="RESOLVED" />
    <resolution amount="FIXED" />
    <WithStack>The undo history is cleared when a shape is copied on a GMF diagram.

Steps to reproduce the problem:
1. Create a new logic example diagram
2. Add a LED to the diagram; observe that "Undo Create LED" is available from the edit menu.
3. Select the LED and choose 'Edit-&gt;Copy' from the diagram context menu.
4. Observe that "Undo Create LED" is no longer available from the edit menu

Since the copy does not make any changes that invalidate the commands on the undo history, the history should not be cleared.  I should still be able to "Undo Create LED" after selecting 'Copy'.
Fixed. The undo history is no longer cleared when 'Edit--&gt;Copy' is selected.
[target cleanup] 1.0 M6 was the original target milestone for this bug
[GMF Restructure] Bug 319140 : product GMF and component
Runtime Common was the original product and component for this bug</WithStack>
    <WithOutStack>The undo history is cleared when a shape is copied on a GMF diagram.

Steps to reproduce the problem:
1. Create a new logic example diagram
2. Add a LED to the diagram; observe that "Undo Create LED" is available from the edit menu.
3. Select the LED and choose 'Edit-&gt;Copy' from the diagram context menu.
4. Observe that "Undo Create LED" is no longer available from the edit menu

Since the copy does not make any changes that invalidate the commands on the undo history, the history should not be cleared.  I should still be able to "Undo Create LED" after selecting 'Copy'.
Fixed. The undo history is no longer cleared when 'Edit--&gt;Copy' is selected.
[target cleanup] 1.0 M6 was the original target milestone for this bug
[GMF Restructure] Bug 319140 : product GMF and component
Runtime Common was the original product and component for this bug</WithOutStack>
  </Bug>
  <Bug>
    <BugId amount="133880" />
    <CreationDate amount="2006-03-29 11:55:00 -0500" />
    <DupId amount="" />
    <classification amount="Eclipse Foundation" />
    <Product amount="z_Archived" />
    <component amount="WTP Datatools" />
    <Version amount="unspecified" />
    <rep_platform amount="PC" />
    <op_sys amount="Windows XP" />
    <priority amount="P3" />
    <bug_severity amount="major" />
    <Summery>SyBase and tables with multiple timestamp columns</Summery>
    <Patches amount="0" />
    <Stacktraces amount="0" />
    <SourceCodeRegions amount="0" />
    <Enumerations amount="0" />
    <bug_status amount="CLOSED" />
    <resolution amount="INVALID" />
    <WithStack>The following is created as Top-Down mapping for Trade Order EJB.

CREATE TABLE ORDEREJB (
		ORDERFEE DECIMAL(10,2),
		COMPLETIONDATE TIMESTAMP,
		ORDERTYPE VARCHAR(100),
		ORDERSTATUS VARCHAR(100),
		PRICE DECIMAL(10,2),
		QUANTITY DOUBLE PRECISION NOT NULL,
		OPENDATE TIMESTAMP,
		ORDERID INTEGER NOT NULL,
		ACCOUNT_ACCOUNTID INTEGER,
		QUOTE_SYMBOL VARCHAR(100),
		HOLDING_HOLDINGID INTEGER
	);

Creation of this table fails on SyBase 15, since each table only allow 1 timestamp column.
A possible solution could be to use datetime instead of timestamp.
Allan,

The DDL generation is coming from non-WTP contribution. This has nothing to do with Data Tools WTP contribution. Please file a defect in IBM contribution if you have not yet done so.

Thanks,

Der Ping
Problem will be tracked in other system.
Close this record.</WithStack>
    <WithOutStack>The following is created as Top-Down mapping for Trade Order EJB.

CREATE TABLE ORDEREJB (
		ORDERFEE DECIMAL(10,2),
		COMPLETIONDATE TIMESTAMP,
		ORDERTYPE VARCHAR(100),
		ORDERSTATUS VARCHAR(100),
		PRICE DECIMAL(10,2),
		QUANTITY DOUBLE PRECISION NOT NULL,
		OPENDATE TIMESTAMP,
		ORDERID INTEGER NOT NULL,
		ACCOUNT_ACCOUNTID INTEGER,
		QUOTE_SYMBOL VARCHAR(100),
		HOLDING_HOLDINGID INTEGER
	);

Creation of this table fails on SyBase 15, since each table only allow 1 timestamp column.
A possible solution could be to use datetime instead of timestamp.
Allan,

The DDL generation is coming from non-WTP contribution. This has nothing to do with Data Tools WTP contribution. Please file a defect in IBM contribution if you have not yet done so.

Thanks,

Der Ping
Problem will be tracked in other system.
Close this record.</WithOutStack>
  </Bug>
  <Bug>
    <BugId amount="133881" />
    <CreationDate amount="2006-03-29 11:59:00 -0500" />
    <DupId amount="" />
    <classification amount="Tools" />
    <Product amount="CDT" />
    <component amount="cdt-build" />
    <Version amount="3.1" />
    <rep_platform amount="All" />
    <op_sys amount="All" />
    <priority amount="P3" />
    <bug_severity amount="enhancement" />
    <Summery>Make refreshing after building optional</Summery>
    <Patches amount="0" />
    <Stacktraces amount="3">
      <Stacktrace timestamp="1437330688293">
        <Exception>java.lang.NullPointerException</Exception>
        <Reason />
        <Frames>
          <Frame depth="0">org.eclipse.cdt.core.resources.RefreshScopeManager.persistSettings(RefreshScopeManager.java:355)</Frame>
          <Frame depth="1">org.eclipse.cdt.managedbuilder.ui.properties.RefreshPolicyTab.performOK(RefreshPolicyTab.java:606)</Frame>
          <Frame depth="2">org.eclipse.cdt.ui.newui.AbstractCPropertyTab.handleTabEvent(AbstractCPropertyTab.java:529)</Frame>
          <Frame depth="3">org.eclipse.cdt.ui.newui.AbstractPage.forEach(AbstractPage.java:1019)</Frame>
        </Frames>
      </Stacktrace>
      <Stacktrace timestamp="1437330688293">
        <Exception>org.eclipse.core.internal.resources.ResourceException</Exception>
        <Reason>Resource '/test1' does not exist.</Reason>
        <Frames>
          <Frame depth="0">org.eclipse.core.internal.resources.Resource.checkExists(Resource.java:327)</Frame>
          <Frame depth="1">org.eclipse.core.internal.resources.Resource.checkAccessible(Resource.java:201)</Frame>
          <Frame depth="2">org.eclipse.core.internal.resources.Project.checkAccessible(Project.java:147)</Frame>
          <Frame depth="3">org.eclipse.core.internal.resources.Resource.checkAccessibleAndLocal(Resource.java:207)</Frame>
          <Frame depth="4">org.eclipse.core.internal.resources.Resource.setPersistentProperty(Resource.java:1823)</Frame>
          <Frame depth="5">org.eclipse.cdt.core.resources.RefreshScopeManager.persistSettings(RefreshScopeManager.java:382)</Frame>
        </Frames>
      </Stacktrace>
      <Stacktrace timestamp="1437330688293">
        <Exception>java.util.ConcurrentModificationException</Exception>
        <Reason />
        <Frames>
          <Frame depth="0">java.util.HashMap$HashIterator.nextEntry(Unknown Source)</Frame>
          <Frame depth="1">java.util.HashMap$KeyIterator.next(Unknown Source)</Frame>
          <Frame depth="2">org.eclipse.cdt.core.resources.RefreshScopeManager.clearExclusionsForProject(RefreshScopeManager.java:547)</Frame>
          <Frame depth="3">org.eclipse.cdt.core.resources.RefreshScopeManager.clearDataForProject(RefreshScopeManager.java:557)</Frame>
          <Frame depth="4">org.eclipse.cdt.core.resources.RefreshScopeManager.access$0(RefreshScopeManager.java:555)</Frame>
          <Frame depth="5">org.eclipse.cdt.core.resources.RefreshScopeManager$1.resourceChanged(RefreshScopeManager.java:112)</Frame>
          <Frame depth="6">org.eclipse.core.internal.events.NotificationManager$1.run(NotificationManager.java:291)</Frame>
          <Frame depth="7">org.eclipse.core.runtime.SafeRunner.run(SafeRunner.java:42)</Frame>
          <Frame depth="8">org.eclipse.core.internal.events.NotificationManager.notify(NotificationManager.java:285)</Frame>
          <Frame depth="9">org.eclipse.core.internal.events.NotificationManager.handleEvent(NotificationManager.java:261)</Frame>
          <Frame depth="10">org.eclipse.core.internal.resources.Workspace.broadcastEvent(Workspace.java:390)</Frame>
          <Frame depth="11">org.eclipse.core.internal.resources.Resource.broadcastPreDeleteEvent(Resource.java:1988)</Frame>
          <Frame depth="12">org.eclipse.core.internal.resources.Resource.delete(Resource.java:765)</Frame>
          <Frame depth="13">org.eclipse.core.internal.resources.Project.delete(Project.java:344)</Frame>
          <Frame depth="14">org.eclipse.ltk.core.refactoring.resource.DeleteResourceChange.perform(DeleteResourceChange.java:130)</Frame>
          <Frame depth="15">org.eclipse.ltk.core.refactoring.CompositeChange.perform(CompositeChange.java:278)</Frame>
          <Frame depth="16">org.eclipse.ltk.core.refactoring.CompositeChange.perform(CompositeChange.java:278)</Frame>
          <Frame depth="17">org.eclipse.ltk.core.refactoring.PerformChangeOperation$1.run(PerformChangeOperation.java:258)</Frame>
          <Frame depth="18">org.eclipse.core.internal.resources.Workspace.run(Workspace.java:2310)</Frame>
          <Frame depth="19">org.eclipse.ltk.core.refactoring.PerformChangeOperation.executeChange(PerformChangeOperation.java:306)</Frame>
          <Frame depth="20">org.eclipse.ltk.internal.ui.refactoring.UIPerformChangeOperation.executeChange(UIPerformChangeOperation.java:92)</Frame>
          <Frame depth="21">org.eclipse.ltk.core.refactoring.PerformChangeOperation.run(PerformChangeOperation.java:218)</Frame>
          <Frame depth="22">org.eclipse.core.internal.resources.Workspace.run(Workspace.java:2310)</Frame>
          <Frame depth="23">org.eclipse.ltk.internal.ui.refactoring.WorkbenchRunnableAdapter.run(WorkbenchRunnableAdapter.java:87)</Frame>
          <Frame depth="24">org.eclipse.jface.operation.ModalContext$ModalContextThread.run(ModalContext.java:121)</Frame>
        </Frames>
      </Stacktrace>
    </Stacktraces>
    <SourceCodeRegions amount="13">
      <source_code type="assignment">
        <location start="19223" end="19314" />
        <code>ICProjectDescription prjDesc= CoreModel.getDefault().getProjectDescription(project, false);</code>
      </source_code>
      <source_code type="assignment">
        <location start="19315" end="19392" />
        <code>ICConfigurationDescription cfgDescription = prjDesc.getActiveConfiguration();</code>
      </source_code>
      <source_code type="assignment">
        <location start="19393" end="19475" />
        <code>ICOutputEntry[] entries = cfgDescription.getBuildSetting().getOutputDirectories();</code>
      </source_code>
      <source_code type="assignment">
        <location start="77511" end="77574" />
        <code>IResource resource = workspaceRoot.findMember(resourcePath);</code>
      </source_code>
      <source_code type="ifstatement">
        <location start="77575" end="77623" />
        <code>if (resource == null) {
        // error
   }</code>
      </source_code>
      <source_code type="assignment">
        <location start="77817" end="78036" />
        <code>3) #persistSettings looks wrong. It looks like its persisting *all* the refresh settings into the passed in ICProjectDescription.  Presumably it only wants to set them for the project = projectDescription.getProject();</code>
      </source_code>
      <source_code type="assignment">
        <location start="79746" end="79811" />
        <code>&gt;    IResource resource = workspaceRoot.findMember(resourcePath);</code>
      </source_code>
      <source_code type="ifstatement">
        <location start="79812" end="79866" />
        <code>&gt;    if (resource == null) {
&gt;         // error
&gt;    }</code>
      </source_code>
      <source_code type="assignment">
        <location start="80534" end="80604" />
        <code>&gt; wants to set them for the project = projectDescription.getProject();</code>
      </source_code>
      <source_code type="class">
        <location start="82966" end="83319" />
        <code>public class RefreshScopeManager extend InternalRefreshScopeManager {
 /**
  * Document me
  */
 @Override
 public static RefreshScopeManager getInstance() {
   return super.getInstance();
 } 

 /**
  * Document me
  */
 @Override
 public IWorkspaceRunnable getRefreshRunnable(final IProject project) {
    return super.getRefreshRunnable(project);
 }
}</code>
      </source_code>
      <source_code type="assignment">
        <location start="84178" end="84243" />
        <code>&gt;    IResource resource = workspaceRoot.findMember(resourcePath);</code>
      </source_code>
      <source_code type="ifstatement">
        <location start="84244" end="84298" />
        <code>&gt;    if (resource == null) {
&gt;         // error
&gt;    }</code>
      </source_code>
      <source_code type="assignment">
        <location start="84954" end="85024" />
        <code>&gt; wants to set them for the project = projectDescription.getProject();</code>
      </source_code>
    </SourceCodeRegions>
    <Enumerations amount="7">
      <Enumeration lines="3">
        <Lines>
          <Line>1. Create two CDT projects. (Do not open the first project properties in between). Or open an existing workspace with more than one CDT project.</Line>
          <Line>2. Open one of the project properties.</Line>
          <Line>3. Click OK</Line>
        </Lines>
      </Enumeration>
      <Enumeration lines="7">
        <Lines>
          <Line>1. Create a project</Line>
          <Line>2. Open the project properties.</Line>
          <Line>3. Click OK</Line>
          <Line>4. Delete the project</Line>
          <Line>5. Create another project</Line>
          <Line>6. Open one the project properties.</Line>
          <Line>7. Click OK</Line>
        </Lines>
      </Enumeration>
      <Enumeration lines="18">
        <Lines>
          <Line>1) Delta: Change the settings, close the project &amp; re-open the project, the Refresh Policy tab is empty (maybe this is 3?).</Line>
          <Line>2) loadSettings(...):</Line>
          <Line />
          <Line />
          <Line>This looks wrong: after a clean, or for a freshly imported project, the build directory may not exist so this very like will be null, right, so the RSM will miss that resource forever more?</Line>
          <Line />
          <Line>4) When processing the resource delta, it returns true for all ! instanceof Project which will cause the visitor to run over the full delta, which is inefficient</Line>
          <Line>5) Using #getProjectToResourcesMap() to initialize the 3 maps: RSM is singleton, so perhaps just create them at construction.</Line>
          <Line>6) Locking: imo it would be better to use thread-safe data structures (Collections.synchronize... or Concurrent....()), rather than making each method synchronized. Coarse locking makes it difficult to reason about potential deadlocks (and in this case doesn't seem to be needed).</Line>
          <Line>7) API Visibility: All this stuff is publicly visible. Can it live in an internal package so we can minimize breakage in the future e.g. org.eclipse.cdt.internal.core.resources?  MBS can be friends of cdt.core so should be able to see all the *.internal.* stuff without issue or warning.</Line>
          <Line>8) Tidy: As the classes are new can you sort methods &amp; format code to standard</Line>
          <Line>(In reply to comment #105)</Line>
          <Line>&gt; (In reply to comment #104)</Line>
          <Line>&gt; Ah woops.  Out of interest I wonder why you're doing the refresh in an</Line>
          <Line>&gt; IWorkspaceRunnable rather than just having a method:</Line>
          <Line>&gt;   RefreshScopeManager.getDefault().refresh(IProject)</Line>
          <Line>&gt; The build is already run in a workspace operation, so there's no additional</Line>
          <Line>&gt; advantage to nesting another one within it.</Line>
        </Lines>
      </Enumeration>
      <Enumeration lines="8">
        <Lines>
          <Line>- There is bug 305474 asking for refresh *before* the build, and another bug somewhere in CDT about refreshing after pre-build step which could possibly generate source files for internal builder. Maybe a checkbox could be added?</Line>
          <Line>- There is "Refresh automatically" preference in General-&gt;Workspace. Some might argue that this flag should be used, i.e. if it is enabled then refresh should be kicked off in background. If disabled then the user indicated the desire to do any refresh manually. Similarly to the argument utilized in bug 14867.</Line>
          <Line>(In reply to comment #55)</Line>
          <Line>&gt; Interesting proposal Chris.</Line>
          <Line>&gt; With resource filters there's already some precedent for filtering resources -</Line>
          <Line>&gt; see how children are filtered during UnifiedTree#getLocalList(...). One could</Line>
          <Line>&gt; imagine hooking a filter to refresh local to prevent stat'ing some files which</Line>
          <Line>&gt; don't match a certain spec.</Line>
        </Lines>
      </Enumeration>
      <Enumeration lines="4">
        <Lines>
          <Line>- Redo where the settings are stored, so they are team shared.</Line>
          <Line>- Fix the scheduling rule for the refresh.  Right now it locks the workspace.  Won't be hard to fix, I just need to set the right scheduling rule.</Line>
          <Line>- Code cleanup</Line>
          <Line>The refresh scope data is now serialized/deserialized to/from the C project description.</Line>
        </Lines>
      </Enumeration>
      <Enumeration lines="3">
        <Lines>
          <Line>- serialize/deserialize to/from C project description</Line>
          <Line>- fix stack overflow issue on load</Line>
          <Line>- move ResourceExclusion and friends to internal packages</Line>
        </Lines>
      </Enumeration>
      <Enumeration lines="4">
        <Lines>
          <Line>- changed scheduling rule to be null so that the platform handles the locking on individual resources</Line>
          <Line>- fixed it so only the given project's settings are serialized in its project description</Line>
          <Line>- fixed it so projects/folders/files can be refreshed even if they were removed from the resource tree but not the filesystem</Line>
          <Line>- optimized resource delta processing</Line>
        </Lines>
      </Enumeration>
    </Enumerations>
    <bug_status amount="RESOLVED" />
    <resolution amount="FIXED" />
    <WithStack>Hi,
I use CDT for editing mozilla. I've disabled the scanner, and all the builds, and every once in a while, the UI freezes while some heavy duty disk scanning is going on. Looks like I am not the only one with this problem, see
http://dev.eclipse.org/newslists/news.eclipse.tools.cdt/msg09874.html

How to fix it? 

You could have a UI preference for "Keep resources in sync manually", with an "Out of date" marker that appears on the project. Even better, notify the user when the auto sync is taking too long, and ask them for manual. Personally, I do not care about resources being out of sync, I sync manually all the time.
Hmm. Thanks for the link to the newsgroup message. I unfortunately never seem to have time to go read the newsgroup.

I'm not sure why the MakeBuilder is refreshing the resources. I would have thought that the Eclipse platform would take care of that. Are we double refreshing? I'm sure we can find a way to optimize this.
The builder does a refresh so that it can see all of the generated artifacts that resulted from the build.  Since we don't really know which parts of the project might have changed, we refresh everything.

I think the platform leaves it up to the builder to do all the refreshing (the builder is the only one that would know what to refresh, if anything), so I would be surprised if there was more than one refresh going on other than if you have "refresh automatically" turned on.
We could obtain the list of generated files/dirs for the Managed Build projects using the new Build Model.
I'll take a look at how it could be done for the MBS in the best way and whether or not it can be fixed for the 3.1

Mikhail
After a quick look at this problem from the MBS point of view, looks like we can not always guarantee that the list of resources to be rebuilt calculated by the Build Model will always be completely the same as the list of resources really generated by the external builder (e.g. make might rebuild some resources that the build model treats as dont rebuild). More than that, the project refresh for the managed builder does not seem to be a bottleneck. E.g. makefile generation for the mozilla-size project is processed several times longer than a project refresh.
In this sense the Build Model calculation in pair with Internal Builder requires much less time than the Buildfile Generation and External Builder invocation. More than that we do have a full control over each tool invocation in the Internal Builder and we do know the result of each invocation and the set of resources generated with each tool invocation.

So Im not going to make any changes in the refresh mechanism for the external builder usage for now.
As for the Internal Builder, I have implemented the smart refresh mechanism that performs a refresh of necessary resources after each tool invocation.

Regarding the standard make builder, looks like there is no way to perform any kind of smart refresh since we never know what resources are being generated while the build process. The only solution I could think of is to allow users disable/enable a refresh.

Bugs still assigned to the inbox can not have the target milestone set. If someone is really going to fix this in 3.1, please assign it to yourself.
I know this issue is pretty old now but it seems like the appropriate place to comment.

I was getting frustrated with the time between an external build completing and Eclipse populating the Problems view and it was down to the project refresh as described by this issue.

I've implemented the fix mentioned (http://dev.eclipse.org/newslists/news.eclipse.tools.cdt/msg09874.html) and this is perfect for my needs.

In our case we know that the build won't modify anything that we would want Eclipse to refresh so I'm pretty happy with it.

It would be really nice if it was a configuration option.

Created attachment 98398
Patch Proposed to fix this issue

Hi,

This patch contains the part of code which starts a refreshLocal after a compilation commented.
It must be applied in project org.eclipse.cdt.make, on top directory.

Could you apply it, because on big project on NFS shared FS, the refresh local takes several long minutes !

thanks.
I am currently evaluating using the cdt for a huge project with an external builder. 

This bug turns my workflow into a total workstumble. Its impact is so severe that it is an absolute killer for using eclipse/cdt (which is very sad considering all the nice features it offers).

I can think of the following solutions to this bug:

- Don't reinvent the whell: Use fsevents (osx) and inotify (linux) if available and stat only as a fallback to see which files have changed. 
Pros: Gigantic performance improvements if available. 
Cons: Platform dependent.

- Give users a preference to sync manually on external builds and warn them about the consequences. 
Pros: Easy to implement, huge improvement in a common use case (starting a debug session w/o changing the code after the last build).
Cons: May have issues. Hacky. Only defers syncing after builds to some later time.

- Most build tools/makefiles I have come across output or can be tweaked to output which artifacts have been produced or modified. So cdt could offer an option "trust output of build script" and scan the build output for potential changes. If this is too much work, it could at least offer an api to be notified by the external builder which artifacts have changed. 
Pros: Platform independent.
Cons: Requires dev-time, both on cdt and client side.

- The cdt could parse a return value of the build script to see if the project is up to date or if things changed.
Pros: Easy to implement, huge improvement in a common use case (starting a debug session w/o changing the code after the last build).
Cons: No improvement after real builds.

- The cdt could assume that builds are deterministic: If none of the sources changes, it need not build.
Pros: Huge improvement in a common use case (starting a debug session w/o changing the code after the last build).
Cons: No clue if this is a cdt responsibility or an eclipse one.

(In reply to comment #7)
&gt; Created an attachment (id=98398) [details]
&gt; Patch Proposed to fix this issue
&gt; Hi,
&gt; This patch contains the part of code which starts a refreshLocal after a
&gt; compilation commented.
&gt; It must be applied in project org.eclipse.cdt.make, on top directory.
&gt; Could you apply it, because on big project on NFS shared FS, the refresh local
&gt; takes several long minutes !
&gt; thanks.

No, because this blindly breaks the originally intended behaviour of wanting to automatically refresh the resources.  If this is going to change, it will have to be a user-configurable option.
(In reply to comment #8)
&gt; I can think of the following solutions to this bug:
&gt; - Don't reinvent the whell: Use fsevents (osx) and inotify (linux) if available
&gt; and stat only as a fallback to see which files have changed.

We support more platforms than OSX and Linux.  A solution would have to be found for each platform.  In any case, the mechanism for the refresh is implemented by the Eclipse platform, so it would fall to them to implement something like that.

&gt; - Give users a preference to sync manually on external builds and warn them
&gt; about the consequences. 
&gt; Pros: Easy to implement, huge improvement in a common use case (starting a
&gt; debug session w/o changing the code after the last build).
&gt; Cons: May have issues. Hacky. Only defers syncing after builds to some later
&gt; time.

I think this is the only practical option.

&gt; - Most build tools/makefiles I have come across output or can be tweaked to
&gt; output which artifacts have been produced or modified. So cdt could offer an
&gt; option "trust output of build script" and scan the build output for potential
&gt; changes. If this is too much work, it could at least offer an api to be
&gt; notified by the external builder which artifacts have changed. 
&gt; Pros: Platform independent.
&gt; Cons: Requires dev-time, both on cdt and client side.

Possible, but won't work for cases where your build script's output is not recognized.  Refreshing the workspace works regardless of builder, so that feature can't go away.

&gt; - The cdt could parse a return value of the build script to see if the project
&gt; is up to date or if things changed.
&gt; Pros: Easy to implement, huge improvement in a common use case (starting a
&gt; debug session w/o changing the code after the last build).
&gt; Cons: No improvement after real builds.

Again, this depends on knowing what the build script is going to do.

&gt; - The cdt could assume that builds are deterministic: If none of the sources
&gt; changes, it need not build.
&gt; Pros: Huge improvement in a common use case (starting a debug session w/o
&gt; changing the code after the last build).
&gt; Cons: No clue if this is a cdt responsibility or an eclipse one.

We have an option for this now that will be available in CDT 6.0.  Try out a nightly build if you are eager.
(In reply to comment #10)
&gt; &gt; - Give users a preference to sync manually on external builds and warn them
&gt; &gt; about the consequences. 
&gt; &gt; Pros: Easy to implement, huge improvement in a common use case (starting a
&gt; &gt; debug session w/o changing the code after the last build).
&gt; &gt; Cons: May have issues. Hacky. Only defers syncing after builds to some later
&gt; &gt; time.
&gt; 
&gt; I think this is the only practical option.

Could you give me a pointer where "Updating Project" actually occurred? I tried the brute force patch by Paul Ventadoux, but Eclipse is still "Updating Project", even though it seemed to be faster. In any case, is there a wiki/faq or the like that describes how to develop/debug cdt within eclipse?

 
&gt; &gt; - The cdt could assume that builds are deterministic: If none of the sources
&gt; &gt; changes, it need not build.
&gt; &gt; Pros: Huge improvement in a common use case (starting a debug session w/o
&gt; &gt; changing the code after the last build).
&gt; &gt; Cons: No clue if this is a cdt responsibility or an eclipse one.
&gt; 
&gt; We have an option for this now that will be available in CDT 6.0.  Try out a
&gt; nightly build if you are eager.

Thanks for the tip, this would already be a great improvement :)

(In reply to comment #10)
&gt; (In reply to comment #8)
&gt; &gt; I can think of the following solutions to this bug:
&gt; &gt; - Don't reinvent the whell: Use fsevents (osx) and inotify (linux) if available
&gt; &gt; and stat only as a fallback to see which files have changed.
&gt; We support more platforms than OSX and Linux.  A solution would have to be
&gt; found for each platform.  In any case, the mechanism for the refresh is
&gt; implemented by the Eclipse platform, so it would fall to them to implement
&gt; something like that.

The platform provides an extension point to contribute custom refresh providers for the 'automatically refresh' case. By default, the platform comes only with an optimized provider for win32 platforms, for all others it falls back to regular file system polling which does not scale well. Unfortunately the win32 provider does not scale well, either, because it monitors changes only on the project level. I.e. every change in the project tree leads to a complete project refresh.

Initially there was also a native refresh provider solution for Linux using FAM (File Alteration Monitor), but because of problems it has been dropped (see bug 52859).
BTW, there is also an optimized auto-refresh provider for the ClearCase MVFS file system.

The auto-refresh feature could be a way to avoid the explicit refresh after a build, provided it works reliably and scales to large projects.
So, creating auto-refresh providers optimized for the different platforms would be a nice contribution.

More information: http://www.eclipse.org/eclipse/platform-core/documents/auto_refresh.html
Any news on this? Is it possible to just add some kind of checkbox (with warning that avoid refreshing is too bad thing)
Also project settings contains "Output Location" list. As a workaround Eclipse may assume that all modified (generated) during build files will be in one of "Output Location" directories. This should improve performance.
I think I may look at this for 7.0

There have been conflicting opinions on the scope of the refresh.  I think that's a separate issue that deserves its own bug.  I'll clone this to track that.
Hi, I work with a large group at Xerox that is trying to switch over to eclipse as our preferred C++ IDE but this bug is preventing our larger projects from making the switch. I have tried the work-around referenced in the above mentioned newsgroup but I noticed no change in behavior when building... the build completes quickly but then eclipse stalls at "Updating project" for a considerable amount of time.

Our build system does not add files that need to be indexed so if that is what "updating project" is doing, turning it off would be a viable solution for us. Anything would be better than sitting at a stalled eclipse window for upwards of 2 minutes.

I really need a workaround for this... can anybody help me and/or tell me if there is a nightly build out there that has a fix?

I really appreciate any help I can get.
Created attachment 145101
Disables project refresh when auto refresh is on.

Chad:

This patch disables all the nasty refreshes when you switch on workspace auto refresh in Eclipse's global preferences. For me, this is what makes the difference between usable and not :)
*** Bug 163652 has been marked as a duplicate of this bug. ***
*** Bug 176160 has been marked as a duplicate of this bug. ***
(In reply to comment #15)
&gt; I think I may look at this for 7.0

Hi Chris.
I was wondering if  you were still planning on looking at this issue for 7.0?
It has also become a problem for us and we are trying to figure out how to work around it.

Thanks
 
&gt; There have been conflicting opinions on the scope of the refresh.  I think
&gt; that's a separate issue that deserves its own bug.  I'll clone this to track
&gt; that.

For reference, the cloned bug is bug 278257
This makes working with CMake CDT generator in a project with any reasonable size next to impossible.
http://www.cmake.org/Wiki/Eclipse_CDT4_Generator
Other cross-platform build tree generators ( Bakefile, premake4 ) would probably be similarly affected.
*** Bug 313637 has been marked as a duplicate of this bug. ***
*** Bug 315036 has been marked as a duplicate of this bug. ***
Well it's obviously too late for 7.0, but I'd like to look at this as part of the scalability work I intend to do for 8.0.

An additional thought is that we could possibly have more settings than just a toggle.

E.g. "Only refresh folders X, Y, and Z after a build"
Created attachment 178061
Add option for refresh after build

This patch adds an option in the Behavior tab.
I had a hard time figuring out from the two seconds I looked at the patch (sorry), but what is the default behavior? refresh or not?

To restart Chris's point, have we considered, or do we not already, only refresh the output folders. Wouldn't this make more sense than just turning it off?
(In reply to comment #26)
&gt; I had a hard time figuring out from the two seconds I looked at the patch
&gt; (sorry), but what is the default behavior? refresh or not?
&gt; To restart Chris's point, have we considered, or do we not already, only
&gt; refresh the output folders. Wouldn't this make more sense than just turning it
&gt; off?

I agree that it's more likely that user will want to restrict the scope of the refresh rather than avoid it altogether.

In the scenario where the output folder is the root of the project, recursively refreshing the output folder is probably not desirable.  Depending on how granular we wanted to get with the configurable scope of the refrsh, that scenario could be handled by just refreshing the final output file, or a list of binary files selected by the user.

Really I think the only benefit to have a setting to not refresh at all is that it's easier/faster to implement.  Not refreshing at all can be expressed as a special case of specifying a refresh scope, where the scope is empty.  The default behaviour would be to refresh the project root.  So upon further thought, personally I think that ought to be where we head.

I'm hoping to throw some non-functional mockups together for the Summit that we can discuss.
(In reply to comment #26)
&gt; To restart Chris's point, have we considered, or do we not already, only refresh
&gt; the output folders. Wouldn't this make more sense than just turning it off?
Output folders sounds good. There is Output Locations tab in project properties where one could add more folders or remove. Perhaps it can serve as the configurable scope and perhaps could allow add binary files as well. What purpose does Output Location serve now?
(In reply to comment #28)
&gt; (In reply to comment #26)
&gt; &gt; To restart Chris's point, have we considered, or do we not already, only refresh
&gt; &gt; the output folders. Wouldn't this make more sense than just turning it off?
&gt; Output folders sounds good. There is Output Locations tab in project properties
&gt; where one could add more folders or remove. Perhaps it can serve as the
&gt; configurable scope and perhaps could allow add binary files as well. What
&gt; purpose does Output Location serve now?

Now, it restricts the scope of the binary parser. So this would be a natural extension to that since it's purpose is to reflect where to find the build results.

The one problem I think we have is that the output location is per project, not per configuration. Ideally each config could have a different output folder to further restrict the refresh to the current config.
Created attachment 178121
Refresh output folders

This patch refreshes only output folders and was inspired by the code in BinaryRunner. By default, the project folder is set in the output folders. It is still per project instead of per configuration.
(In reply to comment #29)
&gt; Now, it restricts the scope of the binary parser. So this would be a natural
&gt; extension to that since it's purpose is to reflect where to find the build
&gt; results.

&gt; The one problem I think we have is that the output location is per project, not
&gt; per configuration. Ideally each config could have a different output folder to
&gt; further restrict the refresh to the current config.
It is definitely possible to specify the output location per configuration. I do it for all of my projects.
(In reply to comment #31)
&gt; It is definitely possible to specify the output location per configuration. I
&gt; do it for all of my projects.

I think they just stack at the project level. For example, if you add foo in Debug and bar in Release, and you do cproject.getOutputEntries, it will return both foo and bar. But they are separated in each config in the UI, I'm not sure how.
Is there something in IConfiguration or somewhere to get the output folder? You would be able to use that since the common builder knows what configuration is building.
Created attachment 178174
Refresh output folders, per configuration

(In reply to comment #33)
&gt; Is there something in IConfiguration or somewhere to get the output folder? You
&gt; would be able to use that since the common builder knows what configuration is
&gt; building.

This does the trick:

ICProjectDescription prjDesc= CoreModel.getDefault().getProjectDescription(project, false);
ICConfigurationDescription cfgDescription = prjDesc.getActiveConfiguration();
ICOutputEntry[] entries = cfgDescription.getBuildSetting().getOutputDirectories();
Created attachment 178175
Refresh output folders, per configuration, depth zero

Small change: refresh with DEPTH_ZERO since the visitor visits every folder.
Created attachment 178176
Refresh output folders, per configuration, depth one

(In reply to comment #35)
&gt; Created an attachment (id=178175) [details]
&gt; Refresh output folders, per configuration, depth zero
&gt; 
&gt; Small change: refresh with DEPTH_ZERO since the visitor visits every folder.

Ah no...DEPTH_ONE, sorry for the spam.
Any opinion on the latest patch? Thanks!
(In reply to comment #28)
&gt; There is Output Locations tab in project properties
&gt; where one could add more folders or remove. Perhaps it can serve as the
&gt; configurable scope and perhaps could allow add binary files as well. What
&gt; purpose does Output Location serve now?

Ok, I must be blind because I can't find this tab for the life of me.
(In reply to comment #38)
&gt; (In reply to comment #28)
&gt; &gt; There is Output Locations tab in project properties
&gt; &gt; where one could add more folders or remove. Perhaps it can serve as the
&gt; &gt; configurable scope and perhaps could allow add binary files as well. What
&gt; &gt; purpose does Output Location serve now?
&gt; Ok, I must be blind because I can't find this tab for the life of me.
That one displays only if "Generate Makefiles automatically" on "C/C++ Build" is unchecked. You are not entitled to see that when build system manages that for you.
(In reply to comment #38)
&gt; (In reply to comment #28)
&gt; &gt; There is Output Locations tab in project properties
&gt; &gt; where one could add more folders or remove. Perhaps it can serve as the
&gt; &gt; configurable scope and perhaps could allow add binary files as well. What
&gt; &gt; purpose does Output Location serve now?
&gt; 
&gt; Ok, I must be blind because I can't find this tab for the life of me.

I think it's only available for makefile projects (i.e. C/C++ Build &gt; Generate Makefiles automatically is disabled). For managed build the output directories are set automagically.

I'm not sure this is the right fix, at the very least this should be configurable. We have some ideas on making this better -- I think it would be good to cover at the summit.
(In reply to comment #40)
&gt; I'm not sure this is the right fix, at the very least this should be
&gt; configurable. We have some ideas on making this better -- I think it would be
&gt; good to cover at the summit.

I'll add the following requirements as well:

- There needs to be a way to express that you wish a folder to be refreshed recursively, or not.  Right now it is just a list of folders, with exclusion patterns.  It's possible to express not wanting to refresh recursively by making an exlusion pattern that is equivalent to ./*/, but that's cumbersome.

- There should be an easy way to include/exclude known source extensions (taken from content types) by just clicking a checkbox rather than having to type your own exclusion pattern.  Some people generate code as part of their build process so they need the flexibility of refreshing source artifacts.  Others output binaries to the same location of their source and don't generate code, so they must be able to exclude sources easily.
(In reply to comment #41)
&gt; - There should be an easy way to include/exclude known source extensions (taken
&gt; from content types) by just clicking a checkbox rather than having to type your
&gt; own exclusion pattern.

Come to think of it, really we should let them easily add/remove any content type as an exclusion.  This stuff will get reused for UPC and Fortran, and who knows what other tools.  So, a simple checkbox on its own is not going to cut it.
(In reply to comment #40)
&gt; I'm not sure this is the right fix, at the very least this should be
&gt; configurable. We have some ideas on making this better -- I think it would be
&gt; good to cover at the summit.

Configurable? Do you mean not only have it for External builder? Or something similar to what Chris suggested?

(In reply to comment #41)
&gt; I'll add the following requirements as well:
&gt; 
&gt; - There needs to be a way to express that you wish a folder to be refreshed
&gt; recursively, or not.  Right now it is just a list of folders, with exclusion
&gt; patterns.  It's possible to express not wanting to refresh recursively by
&gt; making an exlusion pattern that is equivalent to ./*/, but that's cumbersome.
&gt; 
&gt; - There should be an easy way to include/exclude known source extensions (taken
&gt; from content types) by just clicking a checkbox rather than having to type your
&gt; own exclusion pattern.  Some people generate code as part of their build
&gt; process so they need the flexibility of refreshing source artifacts.  Others
&gt; output binaries to the same location of their source and don't generate code,
&gt; so they must be able to exclude sources easily.

Those are fair requirements. I hope you (or we?) have the time to accomplish this for 8.0. Looking at the history of the bug, I can't help but be a little concerned that it might slip yet again. I look forward to hearing from the CDT summit about this important issue.
(In reply to comment #43)
&gt; Configurable? Do you mean not only have it for External builder? Or something
&gt; similar to what Chris suggested?

Well my main concern is that you're only refreshing the output directory(ies) at DEPTH_ONE.  If you do this then you're forcing the user to add every single directory in the build tree to the output dir list? This would break our makefile projects, for example, which have a build tree of hundreds of directories mirroring the source tree with build artifacts scattered about the tree. This is why I think this should be configurable.

&gt; Looking at the history of the bug, I can't help but be a little
&gt; concerned that it might slip yet again...

I understand the feeling. We've had more pressing issues with making Managedbuild be correct and consistent which have kept us busy for a bit...

I think that, for performance on slow filesystems, we shouldn't do _any_ resource refresh inline with the build. This only delays the next build, keeps the resource tree locked, etc.  Instead it would be better to add a small bit of API to core.resources to allow requesting aysnchronous Refresh resources: bug 313673.
(In reply to comment #44)
&gt; I think that, for performance on slow filesystems, we shouldn't do _any_
&gt; resource refresh inline with the build. This only delays the next build, keeps
&gt; the resource tree locked, etc.  Instead it would be better to add a small bit
&gt; of API to core.resources to allow requesting aysnchronous Refresh resources:
&gt; bug 313673.

I agree.  The problem however is that we can't possibly enumerate ahead of time all the filesystems that are slow.

Even within a single filesystem, it may be the case that some stores are slow to refresh while others aren't.  Take the RSE EFS provider for example.  It can target both local and remote files... the local refreshes would be "fast" compared to the remote ones.  Although personally, I would make the choice there to just treat RSE as a whole as "slow" to refresh.

Putting my IBM hat on, for our product needs, it's sufficient for us to be able to programmatically set the refresh policy on a project while we are creating it from our IBM wizard.  Putting on my RDT hat, we can do the same thing there.

Putting my Eclipse hat back on, it might make sense to have an extension point that maps policies to EFS providers.  That would take care of the case where people are using a slow EFS provider but not using any specialized tooling over and above vanilla CDT.  That can still be tricky though, as we may have users downstream that don't like the choices we make if we provide some extensions to that extension point ourselves.  So I think maybe if we create said extension point, we ought not extend it ourselves in CDT.

You are right... asynchronous refreshes would make this a lot simpler.
That's a great point Chris. I'd be happy if we declare that out of the box, CDT assumes fast file systems. If you are working with a slow one, you need to install a plugin that tells the CDT that that file system is slow and under what conditions.

We rely too often on users setting preferences making it their problem instead of finding automated ways of helping them when we need help. And when they don't need help, we need to keep out of the way.
Created attachment 178894
Refresh output folders

(In reply to comment #44)
&gt; (In reply to comment #43)
&gt; &gt; Configurable? Do you mean not only have it for External builder? Or something
&gt; &gt; similar to what Chris suggested?
&gt; 
&gt; Well my main concern is that you're only refreshing the output directory(ies)
&gt; at DEPTH_ONE.  If you do this then you're forcing the user to add every single
&gt; directory in the build tree to the output dir list? This would break our
&gt; makefile projects, for example, which have a build tree of hundreds of
&gt; directories mirroring the source tree with build artifacts scattered about the
&gt; tree. This is why I think this should be configurable.

No, the visitor goes through all sub directories, DEPTH_ONE is used to prevent multiple refreshes on the same sub directories. I just noticed a problem with the last patch, the visitor didn't leave the directory when the exclusion pattern was matched, this is fixed in the new patch.
*** Bug 326064 has been marked as a duplicate of this bug. ***
Hi Chris. How are things progressing? Was this topic discussed at the summit?
Sorry if I lost track - would we have an option to disable auto-refresh altogether? For make projects it is not really needed...
*** Bug 329256 has been marked as a duplicate of this bug. ***
Created attachment 186177
design document (work in progress)

Attaching my design document for review.  It is still a work in progress and many sections are not filled in yet.  However I wanted to get feedback on the basic idea before I proceed much further.

Without going through the entire rationale (the rationale is lengthy, so read it in the design document), the basic idea of the design is to provide a new UI and underlying model to handle the post-build refresh, as the existing Output Locations system does not really work for what we want to do.  The new system will provide for the inclusion/exclusion of particular resources according to various nested rules, e.g. "refresh the entire tree under project root, EXCEPT C/C++ source files and header files, EXCEPT do a refresh on /myproject/somefolder/generated_file.cpp"

James, I would particularly like your feedback on the proposed platform change I have in mind before I file a RFE against Platform Resources.
Hi Chris, thanks for working on this. I read most of the document. We have multiple generated source files in different folders which always have the same name, say "generated.cpp". It would be great to be able to include all of those without having to specify them individually. Would this be covered in phase 2? I see Resource exceptions but I'm not sure if "generated.cpp" would work as "*/generated.cpp"?
(In reply to comment #53)
&gt; Hi Chris, thanks for working on this. I read most of the document. We have
&gt; multiple generated source files in different folders which always have the same
&gt; name, say "generated.cpp". It would be great to be able to include all of those
&gt; without having to specify them individually. Would this be covered in phase 2?
&gt; I see Resource exceptions but I'm not sure if "generated.cpp" would work as
&gt; "*/generated.cpp"?

Interesting that you mention that.  Originally I had come up with a "Resource Name Pattern" exclusion that would allow for just the scenario you mention, but then I thought maybe I was overdoing it and that no one would use it because 99% of the time all they cared about was specifying the file extension.  I guess you've proved me wrong :-)  I can re-add the requirement.  File extension exclusions would then just be a special case of resource name exclusion.
Interesting proposal Chris.

With resource filters there's already some precedent for filtering resources - see how children are filtered during UnifiedTree#getLocalList(...). One could imagine hooking a filter to refresh local to prevent stat'ing some files which don't match a certain spec.

Taking a small step back, it looks like this proposal only addresses post-build refresh, invoked at end of CDT build.  Is RefreshScopeManager in CDT on top of core.resoruces? If so, there will still be issues with Project-level refresh, and/or auto-refresh unless the refresh behaviour is specified in core.resources, right?  

It's worth bearing in mind a few platform bugs on the same issue:
   Bug 281387 Exclude directories from refresh
   Bug 244979 / Bug 91432 Lazy Refresh
   Bug 313673 API to perform async refresh 

A few other comments:
  3.5.4 It must be easy to exclude files based on Eclipse content types. 
This is going to be hard, right?  To know the content type (without using the extension) the first few bytes of the file are read which will be more expensive than a simple stat...?

  3.6.1 A post-build refresh on a typical 5,000  10,000 file remote project should take no more than one minute.
One minute is a _very_ long time. I get fed up with waiting 20s for a post-build refresh. 
I think any solution should require user isn't blocked from continuing work. i.e. workspace should not remain locked for more than 1-2s at any one time.  If we don't do this users will stick to emacs...

The semantics of out-of-sync files aren't clear to me.  They'll be visible when iterating of the resource hierarchy, but if opened editors will report out-of-sync (though we could fix this).  By not keeping them eagerly in-sync team providers, resource change listeners, etc. won't be able to update their models.  This may be fine, but does bear thinking about.

Perhaps we should discuss this and potential solutions on the core.resources call and bugzillas?
I looked over the proposal and it looks good for me.

Just a couple of thoughts which I am not sure how to fit in the picture:
- There is bug 305474 asking for refresh *before* the build, and another bug somewhere in CDT about refreshing after pre-build step which could possibly generate source files for internal builder. Maybe a checkbox could be added?
- There is "Refresh automatically" preference in General-&gt;Workspace. Some might argue that this flag should be used, i.e. if it is enabled then refresh should be kicked off in background. If disabled then the user indicated the desire to do any refresh manually. Similarly to the argument utilized in bug 14867.
(In reply to comment #55)
&gt; Interesting proposal Chris.
&gt; With resource filters there's already some precedent for filtering resources -
&gt; see how children are filtered during UnifiedTree#getLocalList(...). One could
&gt; imagine hooking a filter to refresh local to prevent stat'ing some files which
&gt; don't match a certain spec.

I will take a look at that.

&gt; Taking a small step back, it looks like this proposal only addresses post-build
&gt; refresh, invoked at end of CDT build.  Is RefreshScopeManager in CDT on top of
&gt; core.resoruces? If so, there will still be issues with Project-level refresh,
&gt; and/or auto-refresh unless the refresh behaviour is specified in
&gt; core.resources, right?  

Yes, this is on top of core.resources, so it would not affect anything to do with auto-refreh.  As far as project-level refresh (I assume you mean the one after the build, not a manual one?), the idea is that the platform gives us a way to discover new children without stat'ing everything, then if there are exclusions present in the model, we actually break up the project level refresh and invoke our own refreshes that only stat the resources we want.

One problem I am worried about though is making sure the stat'ing is done efficiently.  The straightforward approach is to visit the resources, apply our exclusion criteria, and then individually refresh each remaining resource.  That might be inefficient compared to doing one big request or a series of batched requests where you get many of the stats in one transaction.  EFS has a way of doing batch refreshes... IFileSystem.fetchFileTree(IFileStore, IProgressMonitor).  When you call that you get a whole chunk of the tree in one go.  This would circumvent that, although I'm not entirely sure it's being used much by EFS providers anyway.

&gt; It's worth bearing in mind a few platform bugs on the same issue:
&gt;    Bug 281387 Exclude directories from refresh
&gt;    Bug 244979 / Bug 91432 Lazy Refresh
&gt;    Bug 313673 API to perform async refresh

Yeah I think those will help some, but we'll still need this for a few reasons:

- Refreshing more than you need to still consumes bandwidth/CPU resources that might either be shared with other users or other operations that you yourself are trying to accomplish.

- You might literally be paying for said resources, so doing more than you need to costs money.

- Refreshing more than you need to, even asynchronously, might still make the user wait to do something longer than they need to.  E.g. they've built their project and wish to debug the resulting binary, but have to wait for the binary to show up in the tree before they can debug it.

So, I see this all these improvements as complementary.

&gt; A few other comments:
&gt;   3.5.4 It must be easy to exclude files based on Eclipse content types. 
&gt; This is going to be hard, right?  To know the content type (without using the
&gt; extension) the first few bytes of the file are read which will be more
&gt; expensive than a simple stat...?

Yes, if your content type is based on the file contents then this is going to get expensive.  If the check can be done based on extension alone then it never reads the file contents to determine the content type.  I don't foresee that as coming up often enough.  If it's problematic enough a user could use a resource name pattern exclusion instead.  E.g. if you have some content type that is a type of .xml file and the only way to know the true content type is to read the contents of the file, then maybe you might just tell the system to refresh all *.xml files rather than telling it to refresh only that specific content type, as I would imagine doing the stat for the refresh is cheaper than doing the open and then reading a few bytes.

&gt;   3.6.1 A post-build refresh on a typical 5,000  10,000 file remote project
&gt; should take no more than one minute.
&gt; One minute is a _very_ long time. I get fed up with waiting 20s for a
&gt; post-build refresh. 
&gt; I think any solution should require user isn't blocked from continuing work.
&gt; i.e. workspace should not remain locked for more than 1-2s at any one time.  If
&gt; we don't do this users will stick to emacs...

Good point.  I probably should have been clearer.  The requirement wasn't intended to be a metric of how long any given resource is locked or how the refreshes are broken up, or whether the user can do anything while the refresh is happening.  It was meant as a goal to measure how much time is spent refreshing in total.

&gt; The semantics of out-of-sync files aren't clear to me.  They'll be visible when
&gt; iterating of the resource hierarchy, but if opened editors will report
&gt; out-of-sync (though we could fix this).  By not keeping them eagerly in-sync
&gt; team providers, resource change listeners, etc. won't be able to update their
&gt; models.  This may be fine, but does bear thinking about.
&gt; Perhaps we should discuss this and potential solutions on the core.resources
&gt; call and bugzillas?

Yep, I'm happy to discuss all of this.  When is the next core.resources call?
(In reply to comment #56)
&gt; I looked over the proposal and it looks good for me.
&gt; Just a couple of thoughts which I am not sure how to fit in the picture:
&gt; - There is bug 305474 asking for refresh *before* the build, and another bug
&gt; somewhere in CDT about refreshing after pre-build step which could possibly
&gt; generate source files for internal builder. Maybe a checkbox could be added?

The refresh before the build scares me a bit if the platform is going to handle it (Bug 305474 is filed against platform resources).  I think each builder ought to be in charge of its own refreshing.

Refreshing after the pre-build step is something I hadn't thought of but I'm not against it so long as it's configurable (most projects don't need to refresh at that point).  We could just add an option to refresh or not at this phase, and have it obey the same refresh policy we use for the post-build refresh.  Do you think that would be sufficient?  Having multiple totally different refresh policies is something I'd like to avoid if at all possible, but if it is truly required then I'll go there.

&gt; - There is "Refresh automatically" preference in General-&gt;Workspace. Some might
&gt; argue that this flag should be used, i.e. if it is enabled then refresh should
&gt; be kicked off in background. If disabled then the user indicated the desire to
&gt; do any refresh manually. Similarly to the argument utilized in bug 14867.

Others will argue though that they don't want to wait for an automatic refresh to kick off "when it feels like it."
Bug 334930 filed against platform resources to track platform changes in support of refreshing new children without doing attribute checks on all children.
Created attachment 189669
patch 1 (work in progress)

Checking in my work in progress so that Vivian can start working on the UI in parallel.  Attaching here for ease of review.

As stated this is just work in progress so this is nowhere near complete.
*** cdt cvs genie on behalf of crecoskie ***
Bug 133881 - Make refreshing after building optional
Work in progress.

[+] RefreshExclusionContributor.exsd  http://dev.eclipse.org/viewcvs/index.cgi/org.eclipse.cdt/all/org.eclipse.cdt.ui/schema/RefreshExclusionContributor.exsd?root=Tools_Project&amp;revision=1.1&amp;view=markup

[+] RefreshExclusionContributionManager.java  http://dev.eclipse.org/viewcvs/index.cgi/org.eclipse.cdt/all/org.eclipse.cdt.ui/src/org/eclipse/cdt/ui/resources/RefreshExclusionContributionManager.java?root=Tools_Project&amp;revision=1.1&amp;view=markup
[+] RefreshExclusionContributor.java  http://dev.eclipse.org/viewcvs/index.cgi/org.eclipse.cdt/all/org.eclipse.cdt.ui/src/org/eclipse/cdt/ui/resources/RefreshExclusionContributor.java?root=Tools_Project&amp;revision=1.1&amp;view=markup

[*] plugin.xml 1.396 http://dev.eclipse.org/viewcvs/index.cgi/org.eclipse.cdt/all/org.eclipse.cdt.ui/plugin.xml?root=Tools_Project&amp;r1=1.395&amp;r2=1.396

[+] messages.properties  http://dev.eclipse.org/viewcvs/index.cgi/org.eclipse.cdt/all/org.eclipse.cdt.core/src/org/eclipse/cdt/core/resources/messages.properties?root=Tools_Project&amp;revision=1.1&amp;view=markup
[+] RefreshExclusion.java  http://dev.eclipse.org/viewcvs/index.cgi/org.eclipse.cdt/all/org.eclipse.cdt.core/src/org/eclipse/cdt/core/resources/RefreshExclusion.java?root=Tools_Project&amp;revision=1.1&amp;view=markup
[+] RefreshScopeManager.java  http://dev.eclipse.org/viewcvs/index.cgi/org.eclipse.cdt/all/org.eclipse.cdt.core/src/org/eclipse/cdt/core/resources/RefreshScopeManager.java?root=Tools_Project&amp;revision=1.1&amp;view=markup
[+] Messages.java  http://dev.eclipse.org/viewcvs/index.cgi/org.eclipse.cdt/all/org.eclipse.cdt.core/src/org/eclipse/cdt/core/resources/Messages.java?root=Tools_Project&amp;revision=1.1&amp;view=markup
(In reply to comment #60)

&gt; Checking in my work in progress so that Vivian can start working on the UI in
&gt; parallel.  Attaching here for ease of review.

Checked in some strings for UI...work in progress.
*** cdt cvs genie on behalf of vkong ***
Bug 133881 - Make refreshing after building optional

[*] Messages.properties 1.5 http://dev.eclipse.org/viewcvs/index.cgi/org.eclipse.cdt/all/org.eclipse.cdt.managedbuilder.ui/src/org/eclipse/cdt/managedbuilder/internal/ui/Messages.properties?root=Tools_Project&amp;r1=1.4&amp;r2=1.5
[*] Messages.java 1.3 http://dev.eclipse.org/viewcvs/index.cgi/org.eclipse.cdt/all/org.eclipse.cdt.managedbuilder.ui/src/org/eclipse/cdt/managedbuilder/internal/ui/Messages.java?root=Tools_Project&amp;r1=1.2&amp;r2=1.3

[*] plugin.properties 1.69 http://dev.eclipse.org/viewcvs/index.cgi/org.eclipse.cdt/all/org.eclipse.cdt.managedbuilder.ui/plugin.properties?root=Tools_Project&amp;r1=1.68&amp;r2=1.69
*** cdt cvs genie on behalf of crecoskie ***
Bug 133881 - Make refreshing after building optional
Work in progress.

[*] RefreshExclusionContributionManager.java 1.2 http://dev.eclipse.org/viewcvs/index.cgi/org.eclipse.cdt/all/org.eclipse.cdt.ui/src/org/eclipse/cdt/ui/resources/RefreshExclusionContributionManager.java?root=Tools_Project&amp;r1=1.1&amp;r2=1.2
[*] RefreshExclusionContributor.java 1.2 http://dev.eclipse.org/viewcvs/index.cgi/org.eclipse.cdt/all/org.eclipse.cdt.ui/src/org/eclipse/cdt/ui/resources/RefreshExclusionContributor.java?root=Tools_Project&amp;r1=1.1&amp;r2=1.2

[*] RefreshExclusionContributor.exsd 1.2 http://dev.eclipse.org/viewcvs/index.cgi/org.eclipse.cdt/all/org.eclipse.cdt.ui/schema/RefreshExclusionContributor.exsd?root=Tools_Project&amp;r1=1.1&amp;r2=1.2

[+] ExclusionType.java  http://dev.eclipse.org/viewcvs/index.cgi/org.eclipse.cdt/all/org.eclipse.cdt.core/src/org/eclipse/cdt/core/resources/ExclusionType.java?root=Tools_Project&amp;revision=1.1&amp;view=markup
[*] RefreshExclusion.java 1.2 http://dev.eclipse.org/viewcvs/index.cgi/org.eclipse.cdt/all/org.eclipse.cdt.core/src/org/eclipse/cdt/core/resources/RefreshExclusion.java?root=Tools_Project&amp;r1=1.1&amp;r2=1.2
[+] ExclusionInstance.java  http://dev.eclipse.org/viewcvs/index.cgi/org.eclipse.cdt/all/org.eclipse.cdt.core/src/org/eclipse/cdt/core/resources/ExclusionInstance.java?root=Tools_Project&amp;revision=1.1&amp;view=markup
*** cdt cvs genie on behalf of crecoskie ***
Bug 133881 - Make refreshing after building optional
Work in progress.

[*] RefreshExclusion.java 1.3 http://dev.eclipse.org/viewcvs/index.cgi/org.eclipse.cdt/all/org.eclipse.cdt.core/src/org/eclipse/cdt/core/resources/RefreshExclusion.java?root=Tools_Project&amp;r1=1.2&amp;r2=1.3
[*] RefreshScopeManager.java 1.2 http://dev.eclipse.org/viewcvs/index.cgi/org.eclipse.cdt/all/org.eclipse.cdt.core/src/org/eclipse/cdt/core/resources/RefreshScopeManager.java?root=Tools_Project&amp;r1=1.1&amp;r2=1.2
[*] ExclusionInstance.java 1.2 http://dev.eclipse.org/viewcvs/index.cgi/org.eclipse.cdt/all/org.eclipse.cdt.core/src/org/eclipse/cdt/core/resources/ExclusionInstance.java?root=Tools_Project&amp;r1=1.1&amp;r2=1.2
*** cdt cvs genie on behalf of crecoskie ***
Bug 133881 - Make refreshing after building optional
Work in progress.

[*] RefreshExclusionContributionManager.java 1.3 http://dev.eclipse.org/viewcvs/index.cgi/org.eclipse.cdt/all/org.eclipse.cdt.ui/src/org/eclipse/cdt/ui/resources/RefreshExclusionContributionManager.java?root=Tools_Project&amp;r1=1.2&amp;r2=1.3
*** cdt cvs genie on behalf of vkong ***
Bug 133881 - Make refreshing after building optional
Work in progress.

[*] RefreshExclusionContributionManager.java 1.4 http://dev.eclipse.org/viewcvs/index.cgi/org.eclipse.cdt/all/org.eclipse.cdt.ui/src/org/eclipse/cdt/ui/resources/RefreshExclusionContributionManager.java?root=Tools_Project&amp;r1=1.3&amp;r2=1.4
[*] RefreshExclusionContributor.java 1.3 http://dev.eclipse.org/viewcvs/index.cgi/org.eclipse.cdt/all/org.eclipse.cdt.ui/src/org/eclipse/cdt/ui/resources/RefreshExclusionContributor.java?root=Tools_Project&amp;r1=1.2&amp;r2=1.3

[*] MANIFEST.MF 1.62 http://dev.eclipse.org/viewcvs/index.cgi/org.eclipse.cdt/all/org.eclipse.cdt.ui/META-INF/MANIFEST.MF?root=Tools_Project&amp;r1=1.61&amp;r2=1.62
*** cdt cvs genie on behalf of vkong ***
Bug 133881 - Make refreshing after building optional
Work in progress.

[*] RefreshExclusionContributor.java 1.4 http://dev.eclipse.org/viewcvs/index.cgi/org.eclipse.cdt/all/org.eclipse.cdt.ui/src/org/eclipse/cdt/ui/resources/RefreshExclusionContributor.java?root=Tools_Project&amp;r1=1.3&amp;r2=1.4
*** cdt cvs genie on behalf of crecoskie ***
Bug 133881 - Make refreshing after building optional
Work in progress.

[+] RefreshScopeTests.java  http://dev.eclipse.org/viewcvs/index.cgi/org.eclipse.cdt/all/org.eclipse.cdt.core.tests/misc/org/eclipse/cdt/core/resources/tests/RefreshScopeTests.java?root=Tools_Project&amp;revision=1.1&amp;view=markup

[*] RefreshScopeManager.java 1.3 http://dev.eclipse.org/viewcvs/index.cgi/org.eclipse.cdt/all/org.eclipse.cdt.core/src/org/eclipse/cdt/core/resources/RefreshScopeManager.java?root=Tools_Project&amp;r1=1.2&amp;r2=1.3
*** cdt cvs genie on behalf of crecoskie ***
Bug 133881 - Make refreshing after building optional
Work in progress.

[*] RefreshExclusionContributionManager.java 1.5 http://dev.eclipse.org/viewcvs/index.cgi/org.eclipse.cdt/all/org.eclipse.cdt.ui/src/org/eclipse/cdt/ui/resources/RefreshExclusionContributionManager.java?root=Tools_Project&amp;r1=1.4&amp;r2=1.5
[*] RefreshExclusionContributor.java 1.5 http://dev.eclipse.org/viewcvs/index.cgi/org.eclipse.cdt/all/org.eclipse.cdt.ui/src/org/eclipse/cdt/ui/resources/RefreshExclusionContributor.java?root=Tools_Project&amp;r1=1.4&amp;r2=1.5

[*] RefreshExclusionContributor.exsd 1.3 http://dev.eclipse.org/viewcvs/index.cgi/org.eclipse.cdt/all/org.eclipse.cdt.ui/schema/RefreshExclusionContributor.exsd?root=Tools_Project&amp;r1=1.2&amp;r2=1.3

[*] messages.properties 1.2 http://dev.eclipse.org/viewcvs/index.cgi/org.eclipse.cdt/all/org.eclipse.cdt.core/src/org/eclipse/cdt/core/resources/messages.properties?root=Tools_Project&amp;r1=1.1&amp;r2=1.2
[*] RefreshExclusion.java 1.4 http://dev.eclipse.org/viewcvs/index.cgi/org.eclipse.cdt/all/org.eclipse.cdt.core/src/org/eclipse/cdt/core/resources/RefreshExclusion.java?root=Tools_Project&amp;r1=1.3&amp;r2=1.4
[*] RefreshScopeManager.java 1.4 http://dev.eclipse.org/viewcvs/index.cgi/org.eclipse.cdt/all/org.eclipse.cdt.core/src/org/eclipse/cdt/core/resources/RefreshScopeManager.java?root=Tools_Project&amp;r1=1.3&amp;r2=1.4
[*] Messages.java 1.2 http://dev.eclipse.org/viewcvs/index.cgi/org.eclipse.cdt/all/org.eclipse.cdt.core/src/org/eclipse/cdt/core/resources/Messages.java?root=Tools_Project&amp;r1=1.1&amp;r2=1.2

[+] TestExclusion.java  http://dev.eclipse.org/viewcvs/index.cgi/org.eclipse.cdt/all/org.eclipse.cdt.core.tests/misc/org/eclipse/cdt/core/resources/tests/TestExclusion.java?root=Tools_Project&amp;revision=1.1&amp;view=markup
[*] RefreshScopeTests.java 1.2 http://dev.eclipse.org/viewcvs/index.cgi/org.eclipse.cdt/all/org.eclipse.cdt.core.tests/misc/org/eclipse/cdt/core/resources/tests/RefreshScopeTests.java?root=Tools_Project&amp;r1=1.1&amp;r2=1.2

[*] MANIFEST.MF 1.26 http://dev.eclipse.org/viewcvs/index.cgi/org.eclipse.cdt/all/org.eclipse.cdt.core.tests/META-INF/MANIFEST.MF?root=Tools_Project&amp;r1=1.25&amp;r2=1.26
*** cdt cvs genie on behalf of vkong ***
Bug 133881 - Make refreshing after building optional
Work in progress.

[+] file_obj.gif  http://dev.eclipse.org/viewcvs/index.cgi/org.eclipse.cdt/all/org.eclipse.cdt.managedbuilder.ui/icons/obj16/file_obj.gif?root=Tools_Project&amp;revision=1.1&amp;view=markup
[+] textfile_obj.gif  http://dev.eclipse.org/viewcvs/index.cgi/org.eclipse.cdt/all/org.eclipse.cdt.managedbuilder.ui/icons/obj16/textfile_obj.gif?root=Tools_Project&amp;revision=1.1&amp;view=markup
[+] fileFolder_obj.gif  http://dev.eclipse.org/viewcvs/index.cgi/org.eclipse.cdt/all/org.eclipse.cdt.managedbuilder.ui/icons/obj16/fileFolder_obj.gif?root=Tools_Project&amp;revision=1.1&amp;view=markup

[+] refresh_nav.gif  http://dev.eclipse.org/viewcvs/index.cgi/org.eclipse.cdt/all/org.eclipse.cdt.managedbuilder.ui/icons/elcl16/refresh_nav.gif?root=Tools_Project&amp;revision=1.1&amp;view=markup

[*] ManagedBuilderUIImages.java 1.5 http://dev.eclipse.org/viewcvs/index.cgi/org.eclipse.cdt/all/org.eclipse.cdt.managedbuilder.ui/src/org/eclipse/cdt/managedbuilder/ui/properties/ManagedBuilderUIImages.java?root=Tools_Project&amp;r1=1.4&amp;r2=1.5

[*] RefreshExclusionContributor.java 1.6 http://dev.eclipse.org/viewcvs/index.cgi/org.eclipse.cdt/all/org.eclipse.cdt.ui/src/org/eclipse/cdt/ui/resources/RefreshExclusionContributor.java?root=Tools_Project&amp;r1=1.5&amp;r2=1.6
*** cdt cvs genie on behalf of vkong ***
Bug 133881 - Make refreshing after building optional
Add Refresh Policy Tab to C/C++ Build properties page - Work in progress.

[+] ResourceExclusion.java  http://dev.eclipse.org/viewcvs/index.cgi/org.eclipse.cdt/all/org.eclipse.cdt.core/src/org/eclipse/cdt/core/resources/ResourceExclusion.java?root=Tools_Project&amp;revision=1.1&amp;view=markup
[*] RefreshScopeManager.java 1.5 http://dev.eclipse.org/viewcvs/index.cgi/org.eclipse.cdt/all/org.eclipse.cdt.core/src/org/eclipse/cdt/core/resources/RefreshScopeManager.java?root=Tools_Project&amp;r1=1.4&amp;r2=1.5

[+] messages.properties  http://dev.eclipse.org/viewcvs/index.cgi/org.eclipse.cdt/all/org.eclipse.cdt.ui/src/org/eclipse/cdt/ui/resources/messages.properties?root=Tools_Project&amp;revision=1.1&amp;view=markup
[+] ResourceExclusionContributor.java  http://dev.eclipse.org/viewcvs/index.cgi/org.eclipse.cdt/all/org.eclipse.cdt.ui/src/org/eclipse/cdt/ui/resources/ResourceExclusionContributor.java?root=Tools_Project&amp;revision=1.1&amp;view=markup
[+] Messages.java  http://dev.eclipse.org/viewcvs/index.cgi/org.eclipse.cdt/all/org.eclipse.cdt.ui/src/org/eclipse/cdt/ui/resources/Messages.java?root=Tools_Project&amp;revision=1.1&amp;view=markup

[*] plugin.properties 1.212 http://dev.eclipse.org/viewcvs/index.cgi/org.eclipse.cdt/all/org.eclipse.cdt.ui/plugin.properties?root=Tools_Project&amp;r1=1.211&amp;r2=1.212
[*] plugin.xml 1.399 http://dev.eclipse.org/viewcvs/index.cgi/org.eclipse.cdt/all/org.eclipse.cdt.ui/plugin.xml?root=Tools_Project&amp;r1=1.398&amp;r2=1.399

[+] RefreshPolicyExceptionDialog.java  http://dev.eclipse.org/viewcvs/index.cgi/org.eclipse.cdt/all/org.eclipse.cdt.managedbuilder.ui/src/org/eclipse/cdt/managedbuilder/ui/properties/RefreshPolicyExceptionDialog.java?root=Tools_Project&amp;revision=1.1&amp;view=markup
[+] RefreshPolicyTab.java  http://dev.eclipse.org/viewcvs/index.cgi/org.eclipse.cdt/all/org.eclipse.cdt.managedbuilder.ui/src/org/eclipse/cdt/managedbuilder/ui/properties/RefreshPolicyTab.java?root=Tools_Project&amp;revision=1.1&amp;view=markup

[*] plugin.xml 1.135 http://dev.eclipse.org/viewcvs/index.cgi/org.eclipse.cdt/all/org.eclipse.cdt.managedbuilder.ui/plugin.xml?root=Tools_Project&amp;r1=1.134&amp;r2=1.135

[*] Messages.properties 1.6 http://dev.eclipse.org/viewcvs/index.cgi/org.eclipse.cdt/all/org.eclipse.cdt.managedbuilder.ui/src/org/eclipse/cdt/managedbuilder/internal/ui/Messages.properties?root=Tools_Project&amp;r1=1.5&amp;r2=1.6
[*] Messages.java 1.4 http://dev.eclipse.org/viewcvs/index.cgi/org.eclipse.cdt/all/org.eclipse.cdt.managedbuilder.ui/src/org/eclipse/cdt/managedbuilder/internal/ui/Messages.java?root=Tools_Project&amp;r1=1.3&amp;r2=1.4
*** cdt cvs genie on behalf of vkong ***
Bug 133881 - Make refreshing after building optional
Work in progress.

[*] RefreshPolicyTab.java 1.2 http://dev.eclipse.org/viewcvs/index.cgi/org.eclipse.cdt/all/org.eclipse.cdt.managedbuilder.ui/src/org/eclipse/cdt/managedbuilder/ui/properties/RefreshPolicyTab.java?root=Tools_Project&amp;r1=1.1&amp;r2=1.2
*** cdt cvs genie on behalf of vkong ***
Bug 133881 - Make refreshing after building optional
Work in progress.

[*] RefreshPolicyExceptionDialog.java 1.2 http://dev.eclipse.org/viewcvs/index.cgi/org.eclipse.cdt/all/org.eclipse.cdt.managedbuilder.ui/src/org/eclipse/cdt/managedbuilder/ui/properties/RefreshPolicyExceptionDialog.java?root=Tools_Project&amp;r1=1.1&amp;r2=1.2
[*] RefreshPolicyTab.java 1.3 http://dev.eclipse.org/viewcvs/index.cgi/org.eclipse.cdt/all/org.eclipse.cdt.managedbuilder.ui/src/org/eclipse/cdt/managedbuilder/ui/properties/RefreshPolicyTab.java?root=Tools_Project&amp;r1=1.2&amp;r2=1.3
*** cdt cvs genie on behalf of crecoskie ***
Bug 133881 - Make refreshing after building optional
Work in progress.

[*] plugin.xml 1.153 http://dev.eclipse.org/viewcvs/index.cgi/org.eclipse.cdt/all/org.eclipse.cdt.core/plugin.xml?root=Tools_Project&amp;r1=1.152&amp;r2=1.153

[+] RefreshExclusionFactory.exsd  http://dev.eclipse.org/viewcvs/index.cgi/org.eclipse.cdt/all/org.eclipse.cdt.core/schema/RefreshExclusionFactory.exsd?root=Tools_Project&amp;revision=1.1&amp;view=markup

[*] messages.properties 1.3 http://dev.eclipse.org/viewcvs/index.cgi/org.eclipse.cdt/all/org.eclipse.cdt.core/src/org/eclipse/cdt/core/resources/messages.properties?root=Tools_Project&amp;r1=1.2&amp;r2=1.3
[*] Messages.java 1.3 http://dev.eclipse.org/viewcvs/index.cgi/org.eclipse.cdt/all/org.eclipse.cdt.core/src/org/eclipse/cdt/core/resources/Messages.java?root=Tools_Project&amp;r1=1.2&amp;r2=1.3
[*] RefreshExclusion.java 1.5 http://dev.eclipse.org/viewcvs/index.cgi/org.eclipse.cdt/all/org.eclipse.cdt.core/src/org/eclipse/cdt/core/resources/RefreshExclusion.java?root=Tools_Project&amp;r1=1.4&amp;r2=1.5
[+] RefreshExclusionFactory.java  http://dev.eclipse.org/viewcvs/index.cgi/org.eclipse.cdt/all/org.eclipse.cdt.core/src/org/eclipse/cdt/core/resources/RefreshExclusionFactory.java?root=Tools_Project&amp;revision=1.1&amp;view=markup
[*] RefreshScopeManager.java 1.6 http://dev.eclipse.org/viewcvs/index.cgi/org.eclipse.cdt/all/org.eclipse.cdt.core/src/org/eclipse/cdt/core/resources/RefreshScopeManager.java?root=Tools_Project&amp;r1=1.5&amp;r2=1.6
[*] ExclusionInstance.java 1.3 http://dev.eclipse.org/viewcvs/index.cgi/org.eclipse.cdt/all/org.eclipse.cdt.core/src/org/eclipse/cdt/core/resources/ExclusionInstance.java?root=Tools_Project&amp;r1=1.2&amp;r2=1.3

[+] TestExclusionFactory.java  http://dev.eclipse.org/viewcvs/index.cgi/org.eclipse.cdt/all/org.eclipse.cdt.core.tests/misc/org/eclipse/cdt/core/resources/tests/TestExclusionFactory.java?root=Tools_Project&amp;revision=1.1&amp;view=markup
[*] RefreshScopeTests.java 1.3 http://dev.eclipse.org/viewcvs/index.cgi/org.eclipse.cdt/all/org.eclipse.cdt.core.tests/misc/org/eclipse/cdt/core/resources/tests/RefreshScopeTests.java?root=Tools_Project&amp;r1=1.2&amp;r2=1.3

[*] plugin.xml 1.54 http://dev.eclipse.org/viewcvs/index.cgi/org.eclipse.cdt/all/org.eclipse.cdt.core.tests/plugin.xml?root=Tools_Project&amp;r1=1.53&amp;r2=1.54
*** cdt cvs genie on behalf of vkong ***
Bug 133881 - Make refreshing after building optional
Work in progress.

[*] RefreshPolicyTab.java 1.4 http://dev.eclipse.org/viewcvs/index.cgi/org.eclipse.cdt/all/org.eclipse.cdt.managedbuilder.ui/src/org/eclipse/cdt/managedbuilder/ui/properties/RefreshPolicyTab.java?root=Tools_Project&amp;r1=1.3&amp;r2=1.4
*** cdt cvs genie on behalf of vkong ***
Bug 133881 - Make refreshing after building optional - UI changes
Work in progress.

[*] ResourceExclusion.java 1.2 http://dev.eclipse.org/viewcvs/index.cgi/org.eclipse.cdt/all/org.eclipse.cdt.core/src/org/eclipse/cdt/core/resources/ResourceExclusion.java?root=Tools_Project&amp;r1=1.1&amp;r2=1.2
[*] messages.properties 1.4 http://dev.eclipse.org/viewcvs/index.cgi/org.eclipse.cdt/all/org.eclipse.cdt.core/src/org/eclipse/cdt/core/resources/messages.properties?root=Tools_Project&amp;r1=1.3&amp;r2=1.4
[*] RefreshExclusion.java 1.6 http://dev.eclipse.org/viewcvs/index.cgi/org.eclipse.cdt/all/org.eclipse.cdt.core/src/org/eclipse/cdt/core/resources/RefreshExclusion.java?root=Tools_Project&amp;r1=1.5&amp;r2=1.6
[*] Messages.java 1.4 http://dev.eclipse.org/viewcvs/index.cgi/org.eclipse.cdt/all/org.eclipse.cdt.core/src/org/eclipse/cdt/core/resources/Messages.java?root=Tools_Project&amp;r1=1.3&amp;r2=1.4

[*] RefreshPolicyExceptionDialog.java 1.3 http://dev.eclipse.org/viewcvs/index.cgi/org.eclipse.cdt/all/org.eclipse.cdt.managedbuilder.ui/src/org/eclipse/cdt/managedbuilder/ui/properties/RefreshPolicyExceptionDialog.java?root=Tools_Project&amp;r1=1.2&amp;r2=1.3
[*] RefreshPolicyTab.java 1.5 http://dev.eclipse.org/viewcvs/index.cgi/org.eclipse.cdt/all/org.eclipse.cdt.managedbuilder.ui/src/org/eclipse/cdt/managedbuilder/ui/properties/RefreshPolicyTab.java?root=Tools_Project&amp;r1=1.4&amp;r2=1.5

[*] Messages.properties 1.7 http://dev.eclipse.org/viewcvs/index.cgi/org.eclipse.cdt/all/org.eclipse.cdt.managedbuilder.ui/src/org/eclipse/cdt/managedbuilder/internal/ui/Messages.properties?root=Tools_Project&amp;r1=1.6&amp;r2=1.7
[*] Messages.java 1.5 http://dev.eclipse.org/viewcvs/index.cgi/org.eclipse.cdt/all/org.eclipse.cdt.managedbuilder.ui/src/org/eclipse/cdt/managedbuilder/internal/ui/Messages.java?root=Tools_Project&amp;r1=1.4&amp;r2=1.5
*** cdt cvs genie on behalf of vkong ***
Bug 133881 - Make refreshing after building optional - UI changes
Work in progress.

[*] ResourceExclusion.java 1.3 http://dev.eclipse.org/viewcvs/index.cgi/org.eclipse.cdt/all/org.eclipse.cdt.core/src/org/eclipse/cdt/core/resources/ResourceExclusion.java?root=Tools_Project&amp;r1=1.2&amp;r2=1.3
*** cdt cvs genie on behalf of crecoskie ***
Bug 133881 - Make refreshing after building optional
Work in progress.

[*] RefreshExclusion.java 1.7 http://dev.eclipse.org/viewcvs/index.cgi/org.eclipse.cdt/all/org.eclipse.cdt.core/src/org/eclipse/cdt/core/resources/RefreshExclusion.java?root=Tools_Project&amp;r1=1.6&amp;r2=1.7
[*] RefreshScopeManager.java 1.7 http://dev.eclipse.org/viewcvs/index.cgi/org.eclipse.cdt/all/org.eclipse.cdt.core/src/org/eclipse/cdt/core/resources/RefreshScopeManager.java?root=Tools_Project&amp;r1=1.6&amp;r2=1.7

[*] RefreshScopeManager.java 1.8 http://dev.eclipse.org/viewcvs/index.cgi/org.eclipse.cdt/all/org.eclipse.cdt.core/src/org/eclipse/cdt/core/resources/RefreshScopeManager.java?root=Tools_Project&amp;r1=1.7&amp;r2=1.8
*** cdt cvs genie on behalf of vkong ***
Bug 133881 - Make refreshing after building optional - UI changes
Work in progress.

[*] ResourceExclusion.java 1.4 http://dev.eclipse.org/viewcvs/index.cgi/org.eclipse.cdt/all/org.eclipse.cdt.core/src/org/eclipse/cdt/core/resources/ResourceExclusion.java?root=Tools_Project&amp;r1=1.3&amp;r2=1.4
*** cdt cvs genie on behalf of crecoskie ***
Bug 133881 - Make refreshing after building optional
Work in progress.

[*] RefreshScopeTests.java 1.4 http://dev.eclipse.org/viewcvs/index.cgi/org.eclipse.cdt/all/org.eclipse.cdt.core.tests/misc/org/eclipse/cdt/core/resources/tests/RefreshScopeTests.java?root=Tools_Project&amp;r1=1.3&amp;r2=1.4

[*] ResourceExclusion.java 1.5 http://dev.eclipse.org/viewcvs/index.cgi/org.eclipse.cdt/all/org.eclipse.cdt.core/src/org/eclipse/cdt/core/resources/ResourceExclusion.java?root=Tools_Project&amp;r1=1.4&amp;r2=1.5
[*] RefreshExclusion.java 1.8 http://dev.eclipse.org/viewcvs/index.cgi/org.eclipse.cdt/all/org.eclipse.cdt.core/src/org/eclipse/cdt/core/resources/RefreshExclusion.java?root=Tools_Project&amp;r1=1.7&amp;r2=1.8
[*] RefreshScopeManager.java 1.9 http://dev.eclipse.org/viewcvs/index.cgi/org.eclipse.cdt/all/org.eclipse.cdt.core/src/org/eclipse/cdt/core/resources/RefreshScopeManager.java?root=Tools_Project&amp;r1=1.8&amp;r2=1.9
*** cdt cvs genie on behalf of crecoskie ***
Bug 133881 - Make refreshing after building optional
Work in progress.

[*] RefreshScopeTests.java 1.5 http://dev.eclipse.org/viewcvs/index.cgi/org.eclipse.cdt/all/org.eclipse.cdt.core.tests/misc/org/eclipse/cdt/core/resources/tests/RefreshScopeTests.java?root=Tools_Project&amp;r1=1.4&amp;r2=1.5

[*] RefreshScopeManager.java 1.10 http://dev.eclipse.org/viewcvs/index.cgi/org.eclipse.cdt/all/org.eclipse.cdt.core/src/org/eclipse/cdt/core/resources/RefreshScopeManager.java?root=Tools_Project&amp;r1=1.9&amp;r2=1.10
*** cdt cvs genie on behalf of crecoskie ***
Bug 133881 - Make refreshing after building optional
Work in progress.

[*] RefreshScopeTests.java 1.6 http://dev.eclipse.org/viewcvs/index.cgi/org.eclipse.cdt/all/org.eclipse.cdt.core.tests/misc/org/eclipse/cdt/core/resources/tests/RefreshScopeTests.java?root=Tools_Project&amp;r1=1.5&amp;r2=1.6
*** cdt cvs genie on behalf of crecoskie ***
Bug 133881 - Make refreshing after building optional
Work in progress.

[*] MakeBuilder.java 1.60 http://dev.eclipse.org/viewcvs/index.cgi/org.eclipse.cdt/all/org.eclipse.cdt.make.core/src/org/eclipse/cdt/make/core/MakeBuilder.java?root=Tools_Project&amp;r1=1.59&amp;r2=1.60

[*] GeneratedMakefileBuilder.java 1.84 http://dev.eclipse.org/viewcvs/index.cgi/org.eclipse.cdt/all/org.eclipse.cdt.managedbuilder.core/src/org/eclipse/cdt/managedbuilder/internal/core/GeneratedMakefileBuilder.java?root=Tools_Project&amp;r1=1.83&amp;r2=1.84

[*] ExternalBuildRunner.java 1.8 http://dev.eclipse.org/viewcvs/index.cgi/org.eclipse.cdt/all/org.eclipse.cdt.managedbuilder.core/src/org/eclipse/cdt/managedbuilder/core/ExternalBuildRunner.java?root=Tools_Project&amp;r1=1.7&amp;r2=1.8

[*] RefreshScopeTests.java 1.7 http://dev.eclipse.org/viewcvs/index.cgi/org.eclipse.cdt/all/org.eclipse.cdt.core.tests/misc/org/eclipse/cdt/core/resources/tests/RefreshScopeTests.java?root=Tools_Project&amp;r1=1.6&amp;r2=1.7

[*] AutomatedIntegrationSuite.java 1.74 http://dev.eclipse.org/viewcvs/index.cgi/org.eclipse.cdt/all/org.eclipse.cdt.core.tests/suite/org/eclipse/cdt/core/suite/AutomatedIntegrationSuite.java?root=Tools_Project&amp;r1=1.73&amp;r2=1.74

[*] RefreshPolicyTab.java 1.6 http://dev.eclipse.org/viewcvs/index.cgi/org.eclipse.cdt/all/org.eclipse.cdt.managedbuilder.ui/src/org/eclipse/cdt/managedbuilder/ui/properties/RefreshPolicyTab.java?root=Tools_Project&amp;r1=1.5&amp;r2=1.6
We've got a working implementation of Phase One coming in M7 (currently in HEAD).  Try it out.  You can specify a list of resources to refresh, and you can specify Resource Exclusions.  Note that the refresh policy is not used by the internal builder by design, as it refreshes resources as it executes individual build steps.

One thing I intend to change is the way the data is stored.  Right now it's stored in a persistent resource property, but I didn't realize that those are stored in the workspace, not in the project.  I want the refresh data to be  part of the project itself, and team shared.

There is still a bunch of code cleanup as well to be done.  Missing javadoc, etc.
*** cdt cvs genie on behalf of crecoskie ***
Bug 133881 - Make refreshing after building optional
Work in progress.

[*] RefreshScopeManager.java 1.12 http://dev.eclipse.org/viewcvs/index.cgi/org.eclipse.cdt/all/org.eclipse.cdt.core/src/org/eclipse/cdt/core/resources/RefreshScopeManager.java?root=Tools_Project&amp;r1=1.11&amp;r2=1.12
Created attachment 194418
RefreshScopeManager exceptions patch

I just updated my CDT install to 8.0.0.201104291533 (Build #676)

Steps to reproduce:

1. Create two CDT projects. (Do not open the first project properties in between). Or open an existing workspace with more than one CDT project.
2. Open one of the project properties.
3. Click OK

java.lang.NullPointerException
at org.eclipse.cdt.core.resources.RefreshScopeManager.persistSettings(RefreshScopeManager.java:355)
at org.eclipse.cdt.managedbuilder.ui.properties.RefreshPolicyTab.performOK(RefreshPolicyTab.java:606)
at org.eclipse.cdt.ui.newui.AbstractCPropertyTab.handleTabEvent(AbstractCPropertyTab.java:529)
at org.eclipse.cdt.ui.newui.AbstractPage.forEach(AbstractPage.java:1019)

Steps to reproduce:

1. Create a project
2. Open the project properties.
3. Click OK
4. Delete the project
5. Create another project
6. Open one the project properties.
7. Click OK

org.eclipse.core.internal.resources.ResourceException: Resource '/test1' does not exist.
	at org.eclipse.core.internal.resources.Resource.checkExists(Resource.java:327)
	at org.eclipse.core.internal.resources.Resource.checkAccessible(Resource.java:201)
	at org.eclipse.core.internal.resources.Project.checkAccessible(Project.java:147)
	at org.eclipse.core.internal.resources.Resource.checkAccessibleAndLocal(Resource.java:207)
	at org.eclipse.core.internal.resources.Resource.setPersistentProperty(Resource.java:1823)
	at org.eclipse.cdt.core.resources.RefreshScopeManager.persistSettings(RefreshScopeManager.java:382)

The first one is very serious since it prevents saving project properties. I'm going to commit simple workarounds for now so that M7 is usable.
*** cdt cvs genie on behalf of mlaperle ***
Bug 133881 - Make refreshing after building optional : Protect against a NPE and a ResourceException

[*] RefreshScopeManager.java 1.13 http://dev.eclipse.org/viewcvs/index.cgi/org.eclipse.cdt/all/org.eclipse.cdt.core/src/org/eclipse/cdt/core/resources/RefreshScopeManager.java?root=Tools_Project&amp;r1=1.12&amp;r2=1.13
Mark, I fixed the project close/delete and open workflows.  Give it a try.
*** cdt cvs genie on behalf of crecoskie ***
Bug 133881 - Make refreshing after building optional
Fixing project close/delete and open workflows.

[*] RefreshScopeManager.java 1.14 http://dev.eclipse.org/viewcvs/index.cgi/org.eclipse.cdt/all/org.eclipse.cdt.core/src/org/eclipse/cdt/core/resources/RefreshScopeManager.java?root=Tools_Project&amp;r1=1.13&amp;r2=1.14
*** cdt cvs genie on behalf of crecoskie ***
Bug 133881 - Make refreshing after building optional
Fixing project close/delete and open workflows.

[*] RefreshScopeManager.java 1.15 http://dev.eclipse.org/viewcvs/index.cgi/org.eclipse.cdt/all/org.eclipse.cdt.core/src/org/eclipse/cdt/core/resources/RefreshScopeManager.java?root=Tools_Project&amp;r1=1.14&amp;r2=1.15
I get this exception sometimes when I delete a project (about 50% repro for me)

java.util.ConcurrentModificationException
	at java.util.HashMap$HashIterator.nextEntry(Unknown Source)
	at java.util.HashMap$KeyIterator.next(Unknown Source)
	at org.eclipse.cdt.core.resources.RefreshScopeManager.clearExclusionsForProject(RefreshScopeManager.java:547)
	at org.eclipse.cdt.core.resources.RefreshScopeManager.clearDataForProject(RefreshScopeManager.java:557)
	at org.eclipse.cdt.core.resources.RefreshScopeManager.access$0(RefreshScopeManager.java:555)
	at org.eclipse.cdt.core.resources.RefreshScopeManager$1.resourceChanged(RefreshScopeManager.java:112)
	at org.eclipse.core.internal.events.NotificationManager$1.run(NotificationManager.java:291)
	at org.eclipse.core.runtime.SafeRunner.run(SafeRunner.java:42)
	at org.eclipse.core.internal.events.NotificationManager.notify(NotificationManager.java:285)
	at org.eclipse.core.internal.events.NotificationManager.handleEvent(NotificationManager.java:261)
	at org.eclipse.core.internal.resources.Workspace.broadcastEvent(Workspace.java:390)
	at org.eclipse.core.internal.resources.Resource.broadcastPreDeleteEvent(Resource.java:1988)
	at org.eclipse.core.internal.resources.Resource.delete(Resource.java:765)
	at org.eclipse.core.internal.resources.Project.delete(Project.java:344)
	at org.eclipse.ltk.core.refactoring.resource.DeleteResourceChange.perform(DeleteResourceChange.java:130)
	at org.eclipse.ltk.core.refactoring.CompositeChange.perform(CompositeChange.java:278)
	at org.eclipse.ltk.core.refactoring.CompositeChange.perform(CompositeChange.java:278)
	at org.eclipse.ltk.core.refactoring.PerformChangeOperation$1.run(PerformChangeOperation.java:258)
	at org.eclipse.core.internal.resources.Workspace.run(Workspace.java:2310)
	at org.eclipse.ltk.core.refactoring.PerformChangeOperation.executeChange(PerformChangeOperation.java:306)
	at org.eclipse.ltk.internal.ui.refactoring.UIPerformChangeOperation.executeChange(UIPerformChangeOperation.java:92)
	at org.eclipse.ltk.core.refactoring.PerformChangeOperation.run(PerformChangeOperation.java:218)
	at org.eclipse.core.internal.resources.Workspace.run(Workspace.java:2310)
	at org.eclipse.ltk.internal.ui.refactoring.WorkbenchRunnableAdapter.run(WorkbenchRunnableAdapter.java:87)
	at org.eclipse.jface.operation.ModalContext$ModalContextThread.run(ModalContext.java:121)
(In reply to comment #92)
&gt; I get this exception sometimes when I delete a project (about 50% repro for me)
&gt; java.util.ConcurrentModificationException
&gt;     at java.util.HashMap$HashIterator.nextEntry(Unknown Source)
&gt;     at java.util.HashMap$KeyIterator.next(Unknown Source)
&gt;     at
&gt; org.eclipse.cdt.core.resources.RefreshScopeManager.clearExclusionsForProject(RefreshScopeManager.java:547)

I hadn't made the RefreshScopeManager threadsafe yet as I wasn't sure we really needed to, but I guess your findings say that we do.  I'll make the required changes...
(In reply to comment #93)
&gt; (In reply to comment #92)
&gt; &gt; I get this exception sometimes when I delete a project (about 50% repro for me)
&gt; &gt; java.util.ConcurrentModificationException
&gt; &gt;     at java.util.HashMap$HashIterator.nextEntry(Unknown Source)
&gt; &gt;     at java.util.HashMap$KeyIterator.next(Unknown Source)
&gt; &gt;     at
&gt; &gt; org.eclipse.cdt.core.resources.RefreshScopeManager.clearExclusionsForProject(RefreshScopeManager.java:547)
&gt; I hadn't made the RefreshScopeManager threadsafe yet as I wasn't sure we really
&gt; needed to, but I guess your findings say that we do.  I'll make the required
&gt; changes...

Changes checked in.
*** cdt cvs genie on behalf of crecoskie ***
Bug 133881 - Make refreshing after building optional
Fix ConcurrentModificationException by making RefreshScopeManager and friends threadsafe.

[*] ResourceExclusion.java 1.6 http://dev.eclipse.org/viewcvs/index.cgi/org.eclipse.cdt/all/org.eclipse.cdt.core/src/org/eclipse/cdt/core/resources/ResourceExclusion.java?root=Tools_Project&amp;r1=1.5&amp;r2=1.6
[*] RefreshExclusion.java 1.9 http://dev.eclipse.org/viewcvs/index.cgi/org.eclipse.cdt/all/org.eclipse.cdt.core/src/org/eclipse/cdt/core/resources/RefreshExclusion.java?root=Tools_Project&amp;r1=1.8&amp;r2=1.9
[*] RefreshScopeManager.java 1.16 http://dev.eclipse.org/viewcvs/index.cgi/org.eclipse.cdt/all/org.eclipse.cdt.core/src/org/eclipse/cdt/core/resources/RefreshScopeManager.java?root=Tools_Project&amp;r1=1.15&amp;r2=1.16
[*] ExclusionInstance.java 1.4 http://dev.eclipse.org/viewcvs/index.cgi/org.eclipse.cdt/all/org.eclipse.cdt.core/src/org/eclipse/cdt/core/resources/ExclusionInstance.java?root=Tools_Project&amp;r1=1.3&amp;r2=1.4
Sorry, I'm a bonehead.  It had nothing to do with threadsafeness.  You can't modify the contents of a map while you iterate over its keyset.  Duh.

Should hopefully be fixed now for real.  I was able to reproduce your problem after trying enough times, now I can't after the changes.
*** cdt cvs genie on behalf of crecoskie ***
Bug 133881 - Make refreshing after building optional
Fix ConcurrentModificationException in clearExclusionsForProject()

[*] RefreshScopeManager.java 1.17 http://dev.eclipse.org/viewcvs/index.cgi/org.eclipse.cdt/all/org.eclipse.cdt.core/src/org/eclipse/cdt/core/resources/RefreshScopeManager.java?root=Tools_Project&amp;r1=1.16&amp;r2=1.17
Still TODO:

- Redo where the settings are stored, so they are team shared.
- Fix the scheduling rule for the refresh.  Right now it locks the workspace.  Won't be hard to fix, I just need to set the right scheduling rule.
- Code cleanup
The refresh scope data is now serialized/deserialized to/from the C project description.

Also fixed a stack overflow issue with loading.

Also moved ResourceExclusion and friends to internal packages.

Still TODO:  alter scheduling rules for the refresh operation, more code cleanup.
*** cdt cvs genie on behalf of crecoskie ***
Bug 133881 - Make refreshing after building optional
- serialize/deserialize to/from C project description
- fix stack overflow issue on load
- move ResourceExclusion and friends to internal packages

[*] MANIFEST.MF 1.64 http://dev.eclipse.org/viewcvs/index.cgi/org.eclipse.cdt/all/org.eclipse.cdt.ui/META-INF/MANIFEST.MF?root=Tools_Project&amp;r1=1.63&amp;r2=1.64

[*] RefreshExclusionContributor.java 1.8 http://dev.eclipse.org/viewcvs/index.cgi/org.eclipse.cdt/all/org.eclipse.cdt.ui/src/org/eclipse/cdt/ui/resources/RefreshExclusionContributor.java?root=Tools_Project&amp;r1=1.7&amp;r2=1.8
[-] ResourceExclusionContributor.java  http://dev.eclipse.org/viewcvs/index.cgi/org.eclipse.cdt/all/org.eclipse.cdt.ui/src/org/eclipse/cdt/ui/resources/ResourceExclusionContributor.java?root=Tools_Project&amp;view=markup

[+] ResourceExclusionContributor.java  http://dev.eclipse.org/viewcvs/index.cgi/org.eclipse.cdt/all/org.eclipse.cdt.ui/src/org/eclipse/cdt/internal/ui/resources/ResourceExclusionContributor.java?root=Tools_Project&amp;revision=1.1&amp;view=markup

[*] plugin.properties 1.214 http://dev.eclipse.org/viewcvs/index.cgi/org.eclipse.cdt/all/org.eclipse.cdt.ui/plugin.properties?root=Tools_Project&amp;r1=1.213&amp;r2=1.214
[*] plugin.xml 1.402 http://dev.eclipse.org/viewcvs/index.cgi/org.eclipse.cdt/all/org.eclipse.cdt.ui/plugin.xml?root=Tools_Project&amp;r1=1.401&amp;r2=1.402

[*] RefreshPolicyTab.java 1.7 http://dev.eclipse.org/viewcvs/index.cgi/org.eclipse.cdt/all/org.eclipse.cdt.managedbuilder.ui/src/org/eclipse/cdt/managedbuilder/ui/properties/RefreshPolicyTab.java?root=Tools_Project&amp;r1=1.6&amp;r2=1.7

[*] plugin.xml 1.156 http://dev.eclipse.org/viewcvs/index.cgi/org.eclipse.cdt/all/org.eclipse.cdt.core/plugin.xml?root=Tools_Project&amp;r1=1.155&amp;r2=1.156

[-] ResourceExclusion.java  http://dev.eclipse.org/viewcvs/index.cgi/org.eclipse.cdt/all/org.eclipse.cdt.core/src/org/eclipse/cdt/core/resources/ResourceExclusion.java?root=Tools_Project&amp;view=markup
[*] RefreshExclusion.java 1.10 http://dev.eclipse.org/viewcvs/index.cgi/org.eclipse.cdt/all/org.eclipse.cdt.core/src/org/eclipse/cdt/core/resources/RefreshExclusion.java?root=Tools_Project&amp;r1=1.9&amp;r2=1.10
[*] RefreshScopeManager.java 1.18 http://dev.eclipse.org/viewcvs/index.cgi/org.eclipse.cdt/all/org.eclipse.cdt.core/src/org/eclipse/cdt/core/resources/RefreshScopeManager.java?root=Tools_Project&amp;r1=1.17&amp;r2=1.18
[*] ExclusionInstance.java 1.5 http://dev.eclipse.org/viewcvs/index.cgi/org.eclipse.cdt/all/org.eclipse.cdt.core/src/org/eclipse/cdt/core/resources/ExclusionInstance.java?root=Tools_Project&amp;r1=1.4&amp;r2=1.5

[+] ResourceExclusion.java  http://dev.eclipse.org/viewcvs/index.cgi/org.eclipse.cdt/all/org.eclipse.cdt.core/src/org/eclipse/cdt/internal/core/resources/ResourceExclusion.java?root=Tools_Project&amp;revision=1.1&amp;view=markup
[+] ResourceExclusionFactory.java  http://dev.eclipse.org/viewcvs/index.cgi/org.eclipse.cdt/all/org.eclipse.cdt.core/src/org/eclipse/cdt/internal/core/resources/ResourceExclusionFactory.java?root=Tools_Project&amp;revision=1.1&amp;view=markup

[*] MANIFEST.MF 1.74 http://dev.eclipse.org/viewcvs/index.cgi/org.eclipse.cdt/all/org.eclipse.cdt.core/META-INF/MANIFEST.MF?root=Tools_Project&amp;r1=1.73&amp;r2=1.74

[*] RefreshScopeTests.java 1.8 http://dev.eclipse.org/viewcvs/index.cgi/org.eclipse.cdt/all/org.eclipse.cdt.core.tests/misc/org/eclipse/cdt/core/resources/tests/RefreshScopeTests.java?root=Tools_Project&amp;r1=1.7&amp;r2=1.8
The refresh is now scheduled on the resources to be refreshed.

Still TODO:  more code cleanup
*** cdt cvs genie on behalf of crecoskie ***
Bug 133881 - Make refreshing after building optional
- changed scheduling rules for refreshes to be the set of resources to be refreshed for a given project

[*] MakeBuilder.java 1.61 http://dev.eclipse.org/viewcvs/index.cgi/org.eclipse.cdt/all/org.eclipse.cdt.make.core/src/org/eclipse/cdt/make/core/MakeBuilder.java?root=Tools_Project&amp;r1=1.60&amp;r2=1.61

[*] messages.properties 1.5 http://dev.eclipse.org/viewcvs/index.cgi/org.eclipse.cdt/all/org.eclipse.cdt.core/src/org/eclipse/cdt/core/resources/messages.properties?root=Tools_Project&amp;r1=1.4&amp;r2=1.5
[*] RefreshScopeManager.java 1.19 http://dev.eclipse.org/viewcvs/index.cgi/org.eclipse.cdt/all/org.eclipse.cdt.core/src/org/eclipse/cdt/core/resources/RefreshScopeManager.java?root=Tools_Project&amp;r1=1.18&amp;r2=1.19
[*] Messages.java 1.5 http://dev.eclipse.org/viewcvs/index.cgi/org.eclipse.cdt/all/org.eclipse.cdt.core/src/org/eclipse/cdt/core/resources/Messages.java?root=Tools_Project&amp;r1=1.4&amp;r2=1.5

[*] RefreshScopeTests.java 1.9 http://dev.eclipse.org/viewcvs/index.cgi/org.eclipse.cdt/all/org.eclipse.cdt.core.tests/misc/org/eclipse/cdt/core/resources/tests/RefreshScopeTests.java?root=Tools_Project&amp;r1=1.8&amp;r2=1.9

[*] GeneratedMakefileBuilder.java 1.85 http://dev.eclipse.org/viewcvs/index.cgi/org.eclipse.cdt/all/org.eclipse.cdt.managedbuilder.core/src/org/eclipse/cdt/managedbuilder/internal/core/GeneratedMakefileBuilder.java?root=Tools_Project&amp;r1=1.84&amp;r2=1.85

[*] ExternalBuildRunner.java 1.9 http://dev.eclipse.org/viewcvs/index.cgi/org.eclipse.cdt/all/org.eclipse.cdt.managedbuilder.core/src/org/eclipse/cdt/managedbuilder/core/ExternalBuildRunner.java?root=Tools_Project&amp;r1=1.8&amp;r2=1.9
(In reply to comment #101)
&gt; The refresh is now scheduled on the resources to be refreshed.

The rule used for the scheduling isn't right.

You need to get the refresh rule from the resource rule factory (but this would be overkill...). Easiest fix is just to run this with a 'null' scheduling rule as you had before.  The workspace will already acquire the scheduling rules needed for running the refresh. This will be done at the individual resource layer so will allow concurrent modification in the tree and minmize the scope of the locking while the refresh is in progress.
(In reply to comment #103)
&gt; (In reply to comment #101)
&gt; &gt; The refresh is now scheduled on the resources to be refreshed.
&gt; The rule used for the scheduling isn't right.
&gt; You need to get the refresh rule from the resource rule factory (but this would
&gt; be overkill...). Easiest fix is just to run this with a 'null' scheduling rule
&gt; as you had before.  The workspace will already acquire the scheduling rules
&gt; needed for running the refresh. This will be done at the individual resource
&gt; layer so will allow concurrent modification in the tree and minmize the scope
&gt; of the locking while the refresh is in progress.

Not quite true... I was using this:

org.eclipse.core.resources.IWorkspace.run(IWorkspaceRunnable, IProgressMonitor)

"This is a convenience method, fully equivalent to: workspace.run(action, workspace.getRoot(), IWorkspace.AVOID_UPDATE, monitor);"

I'll try a null rule though...
(In reply to comment #104)
Ah woops.  Out of interest I wonder why you're doing the refresh in an IWorkspaceRunnable rather than just having a method:
  RefreshScopeManager.getDefault().refresh(IProject) 
The build is already run in a workspace operation, so there's no additional advantage to nesting another one within it.
A few other comments on RefreshScopeManager:
 1) Delta: Change the settings, close the project &amp; re-open the project, the Refresh Policy tab is empty (maybe this is 3?).
 2) loadSettings(...): 
   IResource resource = workspaceRoot.findMember(resourcePath);
   if (resource == null) {
        // error
   }
   This looks wrong: after a clean, or for a freshly imported project, the build directory may not exist so this very like will be null, right, so the RSM will miss that resource forever more?
 3) #persistSettings looks wrong. It looks like its persisting *all* the refresh settings into the passed in ICProjectDescription.  Presumably it only wants to set them for the project = projectDescription.getProject();
 4) When processing the resource delta, it returns true for all ! instanceof Project which will cause the visitor to run over the full delta, which is inefficient
 5) Using #getProjectToResourcesMap() to initialize the 3 maps: RSM is singleton, so perhaps just create them at construction.
 6) Locking: imo it would be better to use thread-safe data structures (Collections.synchronize... or Concurrent....()), rather than making each method synchronized. Coarse locking makes it difficult to reason about potential deadlocks (and in this case doesn't seem to be needed).
 7) API Visibility: All this stuff is publicly visible. Can it live in an internal package so we can minimize breakage in the future e.g. org.eclipse.cdt.internal.core.resources?  MBS can be friends of cdt.core so should be able to see all the *.internal.* stuff without issue or warning.
 8) Tidy: As the classes are new can you sort methods &amp; format code to standard
(In reply to comment #105)
&gt; (In reply to comment #104)
&gt; Ah woops.  Out of interest I wonder why you're doing the refresh in an
&gt; IWorkspaceRunnable rather than just having a method:
&gt;   RefreshScopeManager.getDefault().refresh(IProject) 
&gt; The build is already run in a workspace operation, so there's no additional
&gt; advantage to nesting another one within it.

This was to allow for moving the refresh to a Job in some cases, for bug 330360
(In reply to comment #106)
&gt; A few other comments on RefreshScopeManager:
&gt;  1) Delta: Change the settings, close the project &amp; re-open the project, the
&gt; Refresh Policy tab is empty (maybe this is 3?).

Crap, it was working before... Yeah I think the move to the project description broke this.

&gt;  2) loadSettings(...): 
&gt;    IResource resource = workspaceRoot.findMember(resourcePath);
&gt;    if (resource == null) {
&gt;         // error
&gt;    }
&gt;    This looks wrong: after a clean, or for a freshly imported project, the
&gt; build directory may not exist so this very like will be null, right, so the RSM
&gt; will miss that resource forever more?

Good point... I forgot that findMember() won't return a handle if the resource doesn't exist.  Arg.  I can't seem to find a convenient API for this either.  All the handle based APIs require you know up front if you want an IFolder or an IFile.  I guess I'll have to store the resource type when serializing...

&gt;  3) #persistSettings looks wrong. It looks like its persisting *all* the
&gt; refresh settings into the passed in ICProjectDescription.  Presumably it only
&gt; wants to set them for the project = projectDescription.getProject();

Yeah... an artifact of moving to the project description stuff.  Will fix... this will cause problems if each project has differet settings.

&gt;  4) When processing the resource delta, it returns true for all ! instanceof
&gt; Project which will cause the visitor to run over the full delta, which is
&gt; inefficient

Will fix...

&gt;  5) Using #getProjectToResourcesMap() to initialize the 3 maps: RSM is
&gt; singleton, so perhaps just create them at construction.

Yeah I intended to fix that as a part of the cleanup.

&gt;  6) Locking: imo it would be better to use thread-safe data structures
&gt; (Collections.synchronize... or Concurrent....()), rather than making each
&gt; method synchronized. Coarse locking makes it difficult to reason about
&gt; potential deadlocks (and in this case doesn't seem to be needed).

I'll look into it..

&gt;  7) API Visibility: All this stuff is publicly visible. Can it live in an
&gt; internal package so we can minimize breakage in the future e.g.
&gt; org.eclipse.cdt.internal.core.resources?  MBS can be friends of cdt.core so
&gt; should be able to see all the *.internal.* stuff without issue or warning.

No, because RDT needs to use this stuff too, so that the RemoteMakeBuilder can use it.

Everything is marked (or should be marked...) provisional.

&gt;  8) Tidy: As the classes are new can you sort methods &amp; format code to standard

I can do a sort... I format to 120 characters already typically but I'll do a mass format during the cleanup to be sure I didn't miss anything.  Formatting to 80 characters results in a mess so I prefer to stick to 120.
(In reply to comment #108)
&gt; No, because RDT needs to use this stuff too, so that the RemoteMakeBuilder can
&gt; use it.
&gt; 
&gt; Everything is marked (or should be marked...) provisional.

Ah, Ok.  Presumably the RemoteMakeBuilder is just calling one API method: #getRefreshRunnable() or is it using other API? 

Even if this is provisional, having all the implementation exposed may lead API users to make incorrect assumptions by reading the implementation.

The ideal would be do have an Interface which exposes the API contract. 

Alternatively, you can copy RSM to InternalRSM under *.internal.*, have the visible RSM extend InternalRSM and just replace the methods that you want to be visible.  It's then very clear to consumers what API is what the contract is, maybe something like:
 
public class RefreshScopeManager extend InternalRefreshScopeManager {
 /**
  * Document me
  */
 @Override
 public static RefreshScopeManager getInstance() {
   return super.getInstance();
 } 

 /**
  * Document me
  */
 @Override
 public IWorkspaceRunnable getRefreshRunnable(final IProject project) {
    return super.getRefreshRunnable(project);
 }
}

That way you minimize how much documentation you need to write, and makes it very clear what people can rely on.  Clearly it doesn't stop them using the internal public methods, but it does hide the complexity of the implementation: synchronization - persistence - data structures, etc. ;)

&gt; I can do a sort... I format to 120 characters already typically but I'll do a
&gt; mass format during the cleanup to be sure I didn't miss anything.  Formatting
&gt; to 80 characters results in a mess so I prefer to stick to 120.

Personally I'm happy about long lines, there are just some whitespace oddities...
Scheduling rule is fixed.


(In reply to comment #106)
&gt; A few other comments on RefreshScopeManager:
&gt;  1) Delta: Change the settings, close the project &amp; re-open the project, the
&gt; Refresh Policy tab is empty (maybe this is 3?).
&gt;  2) loadSettings(...): 
&gt;    IResource resource = workspaceRoot.findMember(resourcePath);
&gt;    if (resource == null) {
&gt;         // error
&gt;    }
&gt;    This looks wrong: after a clean, or for a freshly imported project, the
&gt; build directory may not exist so this very like will be null, right, so the RSM
&gt; will miss that resource forever more?

Fixed, at least for Project, File, and Folder resources.  For other resources, I don't know of a way to create the right type of object, so I just use findMember() as a fallback.  Note that Groups will work properly because they are virtual, so if they don't exist, refreshing won't recreate them.


&gt;  3) #persistSettings looks wrong. It looks like its persisting *all* the
&gt; refresh settings into the passed in ICProjectDescription.  Presumably it only
&gt; wants to set them for the project = projectDescription.getProject();

Fixed.

&gt;  4) When processing the resource delta, it returns true for all ! instanceof
&gt; Project which will cause the visitor to run over the full delta, which is
&gt; inefficient

Fixed.

&gt;  5) Using #getProjectToResourcesMap() to initialize the 3 maps: RSM is
&gt; singleton, so perhaps just create them at construction.
&gt;  6) Locking: imo it would be better to use thread-safe data structures
&gt; (Collections.synchronize... or Concurrent....()), rather than making each
&gt; method synchronized. Coarse locking makes it difficult to reason about
&gt; potential deadlocks (and in this case doesn't seem to be needed).
&gt;  7) API Visibility: All this stuff is publicly visible. Can it live in an
&gt; internal package so we can minimize breakage in the future e.g.
&gt; org.eclipse.cdt.internal.core.resources?  MBS can be friends of cdt.core so
&gt; should be able to see all the *.internal.* stuff without issue or warning.
&gt;  8) Tidy: As the classes are new can you sort methods &amp; format code to standard

This is all still pending.
*** cdt cvs genie on behalf of crecoskie ***
Bug 133881 - Make refreshing after building optional
- changed scheduling rule to be null so that the platform handles the locking on individual resources
- fixed it so only the given project's settings are serialized in its project description
- fixed it so projects/folders/files can be refreshed even if they were removed from the resource tree but not the filesystem
- optimized resource delta processing

[*] RefreshScopeManager.java 1.20 http://dev.eclipse.org/viewcvs/index.cgi/org.eclipse.cdt/all/org.eclipse.cdt.core/src/org/eclipse/cdt/core/resources/RefreshScopeManager.java?root=Tools_Project&amp;r1=1.19&amp;r2=1.20

[*] RefreshScopeTests.java 1.10 http://dev.eclipse.org/viewcvs/index.cgi/org.eclipse.cdt/all/org.eclipse.cdt.core.tests/misc/org/eclipse/cdt/core/resources/tests/RefreshScopeTests.java?root=Tools_Project&amp;r1=1.9&amp;r2=1.10

[*] MakeBuilder.java 1.62 http://dev.eclipse.org/viewcvs/index.cgi/org.eclipse.cdt/all/org.eclipse.cdt.make.core/src/org/eclipse/cdt/make/core/MakeBuilder.java?root=Tools_Project&amp;r1=1.61&amp;r2=1.62

[*] GeneratedMakefileBuilder.java 1.86 http://dev.eclipse.org/viewcvs/index.cgi/org.eclipse.cdt/all/org.eclipse.cdt.managedbuilder.core/src/org/eclipse/cdt/managedbuilder/internal/core/GeneratedMakefileBuilder.java?root=Tools_Project&amp;r1=1.85&amp;r2=1.86

[*] ExternalBuildRunner.java 1.10 http://dev.eclipse.org/viewcvs/index.cgi/org.eclipse.cdt/all/org.eclipse.cdt.managedbuilder.core/src/org/eclipse/cdt/managedbuilder/core/ExternalBuildRunner.java?root=Tools_Project&amp;r1=1.9&amp;r2=1.10
*** cdt cvs genie on behalf of vkong ***
Bug 133881 - Make refreshing after building optional - filter out resources that have already been added to the &amp;quot;resources to refresh&amp;quot; list

[*] RefreshPolicyTab.java 1.8 http://dev.eclipse.org/viewcvs/index.cgi/org.eclipse.cdt/all/org.eclipse.cdt.managedbuilder.ui/src/org/eclipse/cdt/managedbuilder/ui/properties/RefreshPolicyTab.java?root=Tools_Project&amp;r1=1.7&amp;r2=1.8
*** cdt cvs genie on behalf of crecoskie ***
Bug 133881 - Make refreshing after building optional
Code cleanup.

[*] RefreshExclusionContributionManager.java 1.7 http://dev.eclipse.org/viewcvs/index.cgi/org.eclipse.cdt/all/org.eclipse.cdt.ui/src/org/eclipse/cdt/ui/resources/RefreshExclusionContributionManager.java?root=Tools_Project&amp;r1=1.6&amp;r2=1.7
[*] RefreshExclusionContributor.java 1.9 http://dev.eclipse.org/viewcvs/index.cgi/org.eclipse.cdt/all/org.eclipse.cdt.ui/src/org/eclipse/cdt/ui/resources/RefreshExclusionContributor.java?root=Tools_Project&amp;r1=1.8&amp;r2=1.9

[*] ResourceExclusionContributor.java 1.2 http://dev.eclipse.org/viewcvs/index.cgi/org.eclipse.cdt/all/org.eclipse.cdt.ui/src/org/eclipse/cdt/internal/ui/resources/ResourceExclusionContributor.java?root=Tools_Project&amp;r1=1.1&amp;r2=1.2

[*] ExclusionType.java 1.2 http://dev.eclipse.org/viewcvs/index.cgi/org.eclipse.cdt/all/org.eclipse.cdt.core/src/org/eclipse/cdt/core/resources/ExclusionType.java?root=Tools_Project&amp;r1=1.1&amp;r2=1.2
[*] ExclusionInstance.java 1.6 http://dev.eclipse.org/viewcvs/index.cgi/org.eclipse.cdt/all/org.eclipse.cdt.core/src/org/eclipse/cdt/core/resources/ExclusionInstance.java?root=Tools_Project&amp;r1=1.5&amp;r2=1.6
[*] RefreshExclusion.java 1.11 http://dev.eclipse.org/viewcvs/index.cgi/org.eclipse.cdt/all/org.eclipse.cdt.core/src/org/eclipse/cdt/core/resources/RefreshExclusion.java?root=Tools_Project&amp;r1=1.10&amp;r2=1.11
[*] RefreshScopeManager.java 1.21 http://dev.eclipse.org/viewcvs/index.cgi/org.eclipse.cdt/all/org.eclipse.cdt.core/src/org/eclipse/cdt/core/resources/RefreshScopeManager.java?root=Tools_Project&amp;r1=1.20&amp;r2=1.21
[*] RefreshExclusionFactory.java 1.2 http://dev.eclipse.org/viewcvs/index.cgi/org.eclipse.cdt/all/org.eclipse.cdt.core/src/org/eclipse/cdt/core/resources/RefreshExclusionFactory.java?root=Tools_Project&amp;r1=1.1&amp;r2=1.2

[*] ResourceExclusion.java 1.2 http://dev.eclipse.org/viewcvs/index.cgi/org.eclipse.cdt/all/org.eclipse.cdt.core/src/org/eclipse/cdt/internal/core/resources/ResourceExclusion.java?root=Tools_Project&amp;r1=1.1&amp;r2=1.2
[*] ResourceExclusionFactory.java 1.2 http://dev.eclipse.org/viewcvs/index.cgi/org.eclipse.cdt/all/org.eclipse.cdt.core/src/org/eclipse/cdt/internal/core/resources/ResourceExclusionFactory.java?root=Tools_Project&amp;r1=1.1&amp;r2=1.2
*** cdt cvs genie on behalf of vkong ***
Bug 133881 - Make refreshing after building optional - UI changes

[*] Messages.properties 1.8 http://dev.eclipse.org/viewcvs/index.cgi/org.eclipse.cdt/all/org.eclipse.cdt.managedbuilder.ui/src/org/eclipse/cdt/managedbuilder/internal/ui/Messages.properties?root=Tools_Project&amp;r1=1.7&amp;r2=1.8
There are still various cleanup tasks to complete, but these will have to wait for post-Indigo, as I don't want to destabilize anything.

Since the main request (making refreshes optional) is complete, I will resolve this as FIXED and we'll deal with any new bugs/changes separately.
Two questions:

1) Is this feature available in the nightly build of CDT. Ie. http://download.eclipse.org/tools/cdt/builds/8.0.0/I.I201106081058/index.html

2) Is there any user documentation available on this feature?

Thanks!

CHAD
(In reply to comment #116)
&gt; Two questions:
&gt; 1) Is this feature available in the nightly build of CDT. Ie.
&gt; http://download.eclipse.org/tools/cdt/builds/8.0.0/I.I201106081058/index.html
&gt; 2) Is there any user documentation available on this feature?
&gt; Thanks!
&gt; CHAD

Yes it's available in Indigo (CDT 8).  That build should have it.

Unfortunately we are somewhat tardy with the documentation.  It will be coming later.</WithStack>
    <WithOutStack>Hi,
I use CDT for editing mozilla. I've disabled the scanner, and all the builds, and every once in a while, the UI freezes while some heavy duty disk scanning is going on. Looks like I am not the only one with this problem, see
http://dev.eclipse.org/newslists/news.eclipse.tools.cdt/msg09874.html

How to fix it? 

You could have a UI preference for "Keep resources in sync manually", with an "Out of date" marker that appears on the project. Even better, notify the user when the auto sync is taking too long, and ask them for manual. Personally, I do not care about resources being out of sync, I sync manually all the time.
Hmm. Thanks for the link to the newsgroup message. I unfortunately never seem to have time to go read the newsgroup.

I'm not sure why the MakeBuilder is refreshing the resources. I would have thought that the Eclipse platform would take care of that. Are we double refreshing? I'm sure we can find a way to optimize this.
The builder does a refresh so that it can see all of the generated artifacts that resulted from the build.  Since we don't really know which parts of the project might have changed, we refresh everything.

I think the platform leaves it up to the builder to do all the refreshing (the builder is the only one that would know what to refresh, if anything), so I would be surprised if there was more than one refresh going on other than if you have "refresh automatically" turned on.
We could obtain the list of generated files/dirs for the Managed Build projects using the new Build Model.
I'll take a look at how it could be done for the MBS in the best way and whether or not it can be fixed for the 3.1

Mikhail
After a quick look at this problem from the MBS point of view, looks like we can not always guarantee that the list of resources to be rebuilt calculated by the Build Model will always be completely the same as the list of resources really generated by the external builder (e.g. make might rebuild some resources that the build model treats as dont rebuild). More than that, the project refresh for the managed builder does not seem to be a bottleneck. E.g. makefile generation for the mozilla-size project is processed several times longer than a project refresh.
In this sense the Build Model calculation in pair with Internal Builder requires much less time than the Buildfile Generation and External Builder invocation. More than that we do have a full control over each tool invocation in the Internal Builder and we do know the result of each invocation and the set of resources generated with each tool invocation.

So Im not going to make any changes in the refresh mechanism for the external builder usage for now.
As for the Internal Builder, I have implemented the smart refresh mechanism that performs a refresh of necessary resources after each tool invocation.

Regarding the standard make builder, looks like there is no way to perform any kind of smart refresh since we never know what resources are being generated while the build process. The only solution I could think of is to allow users disable/enable a refresh.

Bugs still assigned to the inbox can not have the target milestone set. If someone is really going to fix this in 3.1, please assign it to yourself.
I know this issue is pretty old now but it seems like the appropriate place to comment.

I was getting frustrated with the time between an external build completing and Eclipse populating the Problems view and it was down to the project refresh as described by this issue.

I've implemented the fix mentioned (http://dev.eclipse.org/newslists/news.eclipse.tools.cdt/msg09874.html) and this is perfect for my needs.

In our case we know that the build won't modify anything that we would want Eclipse to refresh so I'm pretty happy with it.

It would be really nice if it was a configuration option.

Created attachment 98398
Patch Proposed to fix this issue

Hi,

This patch contains the part of code which starts a refreshLocal after a compilation commented.
It must be applied in project org.eclipse.cdt.make, on top directory.

Could you apply it, because on big project on NFS shared FS, the refresh local takes several long minutes !

thanks.
I am currently evaluating using the cdt for a huge project with an external builder. 

This bug turns my workflow into a total workstumble. Its impact is so severe that it is an absolute killer for using eclipse/cdt (which is very sad considering all the nice features it offers).

I can think of the following solutions to this bug:

- Don't reinvent the whell: Use fsevents (osx) and inotify (linux) if available and stat only as a fallback to see which files have changed. 
Pros: Gigantic performance improvements if available. 
Cons: Platform dependent.

- Give users a preference to sync manually on external builds and warn them about the consequences. 
Pros: Easy to implement, huge improvement in a common use case (starting a debug session w/o changing the code after the last build).
Cons: May have issues. Hacky. Only defers syncing after builds to some later time.

- Most build tools/makefiles I have come across output or can be tweaked to output which artifacts have been produced or modified. So cdt could offer an option "trust output of build script" and scan the build output for potential changes. If this is too much work, it could at least offer an api to be notified by the external builder which artifacts have changed. 
Pros: Platform independent.
Cons: Requires dev-time, both on cdt and client side.

- The cdt could parse a return value of the build script to see if the project is up to date or if things changed.
Pros: Easy to implement, huge improvement in a common use case (starting a debug session w/o changing the code after the last build).
Cons: No improvement after real builds.

- The cdt could assume that builds are deterministic: If none of the sources changes, it need not build.
Pros: Huge improvement in a common use case (starting a debug session w/o changing the code after the last build).
Cons: No clue if this is a cdt responsibility or an eclipse one.

(In reply to comment #7)
&gt; Created an attachment (id=98398) [details]
&gt; Patch Proposed to fix this issue
&gt; Hi,
&gt; This patch contains the part of code which starts a refreshLocal after a
&gt; compilation commented.
&gt; It must be applied in project org.eclipse.cdt.make, on top directory.
&gt; Could you apply it, because on big project on NFS shared FS, the refresh local
&gt; takes several long minutes !
&gt; thanks.

No, because this blindly breaks the originally intended behaviour of wanting to automatically refresh the resources.  If this is going to change, it will have to be a user-configurable option.
(In reply to comment #8)
&gt; I can think of the following solutions to this bug:
&gt; - Don't reinvent the whell: Use fsevents (osx) and inotify (linux) if available
&gt; and stat only as a fallback to see which files have changed.

We support more platforms than OSX and Linux.  A solution would have to be found for each platform.  In any case, the mechanism for the refresh is implemented by the Eclipse platform, so it would fall to them to implement something like that.

&gt; - Give users a preference to sync manually on external builds and warn them
&gt; about the consequences. 
&gt; Pros: Easy to implement, huge improvement in a common use case (starting a
&gt; debug session w/o changing the code after the last build).
&gt; Cons: May have issues. Hacky. Only defers syncing after builds to some later
&gt; time.

I think this is the only practical option.

&gt; - Most build tools/makefiles I have come across output or can be tweaked to
&gt; output which artifacts have been produced or modified. So cdt could offer an
&gt; option "trust output of build script" and scan the build output for potential
&gt; changes. If this is too much work, it could at least offer an api to be
&gt; notified by the external builder which artifacts have changed. 
&gt; Pros: Platform independent.
&gt; Cons: Requires dev-time, both on cdt and client side.

Possible, but won't work for cases where your build script's output is not recognized.  Refreshing the workspace works regardless of builder, so that feature can't go away.

&gt; - The cdt could parse a return value of the build script to see if the project
&gt; is up to date or if things changed.
&gt; Pros: Easy to implement, huge improvement in a common use case (starting a
&gt; debug session w/o changing the code after the last build).
&gt; Cons: No improvement after real builds.

Again, this depends on knowing what the build script is going to do.

&gt; - The cdt could assume that builds are deterministic: If none of the sources
&gt; changes, it need not build.
&gt; Pros: Huge improvement in a common use case (starting a debug session w/o
&gt; changing the code after the last build).
&gt; Cons: No clue if this is a cdt responsibility or an eclipse one.

We have an option for this now that will be available in CDT 6.0.  Try out a nightly build if you are eager.
(In reply to comment #10)
&gt; &gt; - Give users a preference to sync manually on external builds and warn them
&gt; &gt; about the consequences. 
&gt; &gt; Pros: Easy to implement, huge improvement in a common use case (starting a
&gt; &gt; debug session w/o changing the code after the last build).
&gt; &gt; Cons: May have issues. Hacky. Only defers syncing after builds to some later
&gt; &gt; time.
&gt; 
&gt; I think this is the only practical option.

Could you give me a pointer where "Updating Project" actually occurred? I tried the brute force patch by Paul Ventadoux, but Eclipse is still "Updating Project", even though it seemed to be faster. In any case, is there a wiki/faq or the like that describes how to develop/debug cdt within eclipse?

 
&gt; &gt; - The cdt could assume that builds are deterministic: If none of the sources
&gt; &gt; changes, it need not build.
&gt; &gt; Pros: Huge improvement in a common use case (starting a debug session w/o
&gt; &gt; changing the code after the last build).
&gt; &gt; Cons: No clue if this is a cdt responsibility or an eclipse one.
&gt; 
&gt; We have an option for this now that will be available in CDT 6.0.  Try out a
&gt; nightly build if you are eager.

Thanks for the tip, this would already be a great improvement :)

(In reply to comment #10)
&gt; (In reply to comment #8)
&gt; &gt; I can think of the following solutions to this bug:
&gt; &gt; - Don't reinvent the whell: Use fsevents (osx) and inotify (linux) if available
&gt; &gt; and stat only as a fallback to see which files have changed.
&gt; We support more platforms than OSX and Linux.  A solution would have to be
&gt; found for each platform.  In any case, the mechanism for the refresh is
&gt; implemented by the Eclipse platform, so it would fall to them to implement
&gt; something like that.

The platform provides an extension point to contribute custom refresh providers for the 'automatically refresh' case. By default, the platform comes only with an optimized provider for win32 platforms, for all others it falls back to regular file system polling which does not scale well. Unfortunately the win32 provider does not scale well, either, because it monitors changes only on the project level. I.e. every change in the project tree leads to a complete project refresh.

Initially there was also a native refresh provider solution for Linux using FAM (File Alteration Monitor), but because of problems it has been dropped (see bug 52859).
BTW, there is also an optimized auto-refresh provider for the ClearCase MVFS file system.

The auto-refresh feature could be a way to avoid the explicit refresh after a build, provided it works reliably and scales to large projects.
So, creating auto-refresh providers optimized for the different platforms would be a nice contribution.

More information: http://www.eclipse.org/eclipse/platform-core/documents/auto_refresh.html
Any news on this? Is it possible to just add some kind of checkbox (with warning that avoid refreshing is too bad thing)
Also project settings contains "Output Location" list. As a workaround Eclipse may assume that all modified (generated) during build files will be in one of "Output Location" directories. This should improve performance.
I think I may look at this for 7.0

There have been conflicting opinions on the scope of the refresh.  I think that's a separate issue that deserves its own bug.  I'll clone this to track that.
Hi, I work with a large group at Xerox that is trying to switch over to eclipse as our preferred C++ IDE but this bug is preventing our larger projects from making the switch. I have tried the work-around referenced in the above mentioned newsgroup but I noticed no change in behavior when building... the build completes quickly but then eclipse stalls at "Updating project" for a considerable amount of time.

Our build system does not add files that need to be indexed so if that is what "updating project" is doing, turning it off would be a viable solution for us. Anything would be better than sitting at a stalled eclipse window for upwards of 2 minutes.

I really need a workaround for this... can anybody help me and/or tell me if there is a nightly build out there that has a fix?

I really appreciate any help I can get.
Created attachment 145101
Disables project refresh when auto refresh is on.

Chad:

This patch disables all the nasty refreshes when you switch on workspace auto refresh in Eclipse's global preferences. For me, this is what makes the difference between usable and not :)
*** Bug 163652 has been marked as a duplicate of this bug. ***
*** Bug 176160 has been marked as a duplicate of this bug. ***
(In reply to comment #15)
&gt; I think I may look at this for 7.0

Hi Chris.
I was wondering if  you were still planning on looking at this issue for 7.0?
It has also become a problem for us and we are trying to figure out how to work around it.

Thanks
 
&gt; There have been conflicting opinions on the scope of the refresh.  I think
&gt; that's a separate issue that deserves its own bug.  I'll clone this to track
&gt; that.

For reference, the cloned bug is bug 278257
This makes working with CMake CDT generator in a project with any reasonable size next to impossible.
http://www.cmake.org/Wiki/Eclipse_CDT4_Generator
Other cross-platform build tree generators ( Bakefile, premake4 ) would probably be similarly affected.
*** Bug 313637 has been marked as a duplicate of this bug. ***
*** Bug 315036 has been marked as a duplicate of this bug. ***
Well it's obviously too late for 7.0, but I'd like to look at this as part of the scalability work I intend to do for 8.0.

An additional thought is that we could possibly have more settings than just a toggle.

E.g. "Only refresh folders X, Y, and Z after a build"
Created attachment 178061
Add option for refresh after build

This patch adds an option in the Behavior tab.
I had a hard time figuring out from the two seconds I looked at the patch (sorry), but what is the default behavior? refresh or not?

To restart Chris's point, have we considered, or do we not already, only refresh the output folders. Wouldn't this make more sense than just turning it off?
(In reply to comment #26)
&gt; I had a hard time figuring out from the two seconds I looked at the patch
&gt; (sorry), but what is the default behavior? refresh or not?
&gt; To restart Chris's point, have we considered, or do we not already, only
&gt; refresh the output folders. Wouldn't this make more sense than just turning it
&gt; off?

I agree that it's more likely that user will want to restrict the scope of the refresh rather than avoid it altogether.

In the scenario where the output folder is the root of the project, recursively refreshing the output folder is probably not desirable.  Depending on how granular we wanted to get with the configurable scope of the refrsh, that scenario could be handled by just refreshing the final output file, or a list of binary files selected by the user.

Really I think the only benefit to have a setting to not refresh at all is that it's easier/faster to implement.  Not refreshing at all can be expressed as a special case of specifying a refresh scope, where the scope is empty.  The default behaviour would be to refresh the project root.  So upon further thought, personally I think that ought to be where we head.

I'm hoping to throw some non-functional mockups together for the Summit that we can discuss.
(In reply to comment #26)
&gt; To restart Chris's point, have we considered, or do we not already, only refresh
&gt; the output folders. Wouldn't this make more sense than just turning it off?
Output folders sounds good. There is Output Locations tab in project properties where one could add more folders or remove. Perhaps it can serve as the configurable scope and perhaps could allow add binary files as well. What purpose does Output Location serve now?
(In reply to comment #28)
&gt; (In reply to comment #26)
&gt; &gt; To restart Chris's point, have we considered, or do we not already, only refresh
&gt; &gt; the output folders. Wouldn't this make more sense than just turning it off?
&gt; Output folders sounds good. There is Output Locations tab in project properties
&gt; where one could add more folders or remove. Perhaps it can serve as the
&gt; configurable scope and perhaps could allow add binary files as well. What
&gt; purpose does Output Location serve now?

Now, it restricts the scope of the binary parser. So this would be a natural extension to that since it's purpose is to reflect where to find the build results.

The one problem I think we have is that the output location is per project, not per configuration. Ideally each config could have a different output folder to further restrict the refresh to the current config.
Created attachment 178121
Refresh output folders

This patch refreshes only output folders and was inspired by the code in BinaryRunner. By default, the project folder is set in the output folders. It is still per project instead of per configuration.
(In reply to comment #29)
&gt; Now, it restricts the scope of the binary parser. So this would be a natural
&gt; extension to that since it's purpose is to reflect where to find the build
&gt; results.

&gt; The one problem I think we have is that the output location is per project, not
&gt; per configuration. Ideally each config could have a different output folder to
&gt; further restrict the refresh to the current config.
It is definitely possible to specify the output location per configuration. I do it for all of my projects.
(In reply to comment #31)
&gt; It is definitely possible to specify the output location per configuration. I
&gt; do it for all of my projects.

I think they just stack at the project level. For example, if you add foo in Debug and bar in Release, and you do cproject.getOutputEntries, it will return both foo and bar. But they are separated in each config in the UI, I'm not sure how.
Is there something in IConfiguration or somewhere to get the output folder? You would be able to use that since the common builder knows what configuration is building.
Created attachment 178174
Refresh output folders, per configuration

(In reply to comment #33)
&gt; Is there something in IConfiguration or somewhere to get the output folder? You
&gt; would be able to use that since the common builder knows what configuration is
&gt; building.

This does the trick:

ICProjectDescription prjDesc= CoreModel.getDefault().getProjectDescription(project, false);
ICConfigurationDescription cfgDescription = prjDesc.getActiveConfiguration();
ICOutputEntry[] entries = cfgDescription.getBuildSetting().getOutputDirectories();
Created attachment 178175
Refresh output folders, per configuration, depth zero

Small change: refresh with DEPTH_ZERO since the visitor visits every folder.
Created attachment 178176
Refresh output folders, per configuration, depth one

(In reply to comment #35)
&gt; Created an attachment (id=178175) [details]
&gt; Refresh output folders, per configuration, depth zero
&gt; 
&gt; Small change: refresh with DEPTH_ZERO since the visitor visits every folder.

Ah no...DEPTH_ONE, sorry for the spam.
Any opinion on the latest patch? Thanks!
(In reply to comment #28)
&gt; There is Output Locations tab in project properties
&gt; where one could add more folders or remove. Perhaps it can serve as the
&gt; configurable scope and perhaps could allow add binary files as well. What
&gt; purpose does Output Location serve now?

Ok, I must be blind because I can't find this tab for the life of me.
(In reply to comment #38)
&gt; (In reply to comment #28)
&gt; &gt; There is Output Locations tab in project properties
&gt; &gt; where one could add more folders or remove. Perhaps it can serve as the
&gt; &gt; configurable scope and perhaps could allow add binary files as well. What
&gt; &gt; purpose does Output Location serve now?
&gt; Ok, I must be blind because I can't find this tab for the life of me.
That one displays only if "Generate Makefiles automatically" on "C/C++ Build" is unchecked. You are not entitled to see that when build system manages that for you.
(In reply to comment #38)
&gt; (In reply to comment #28)
&gt; &gt; There is Output Locations tab in project properties
&gt; &gt; where one could add more folders or remove. Perhaps it can serve as the
&gt; &gt; configurable scope and perhaps could allow add binary files as well. What
&gt; &gt; purpose does Output Location serve now?
&gt; 
&gt; Ok, I must be blind because I can't find this tab for the life of me.

I think it's only available for makefile projects (i.e. C/C++ Build &gt; Generate Makefiles automatically is disabled). For managed build the output directories are set automagically.

I'm not sure this is the right fix, at the very least this should be configurable. We have some ideas on making this better -- I think it would be good to cover at the summit.
(In reply to comment #40)
&gt; I'm not sure this is the right fix, at the very least this should be
&gt; configurable. We have some ideas on making this better -- I think it would be
&gt; good to cover at the summit.

I'll add the following requirements as well:

- There needs to be a way to express that you wish a folder to be refreshed recursively, or not.  Right now it is just a list of folders, with exclusion patterns.  It's possible to express not wanting to refresh recursively by making an exlusion pattern that is equivalent to ./*/, but that's cumbersome.

- There should be an easy way to include/exclude known source extensions (taken from content types) by just clicking a checkbox rather than having to type your own exclusion pattern.  Some people generate code as part of their build process so they need the flexibility of refreshing source artifacts.  Others output binaries to the same location of their source and don't generate code, so they must be able to exclude sources easily.
(In reply to comment #41)
&gt; - There should be an easy way to include/exclude known source extensions (taken
&gt; from content types) by just clicking a checkbox rather than having to type your
&gt; own exclusion pattern.

Come to think of it, really we should let them easily add/remove any content type as an exclusion.  This stuff will get reused for UPC and Fortran, and who knows what other tools.  So, a simple checkbox on its own is not going to cut it.
(In reply to comment #40)
&gt; I'm not sure this is the right fix, at the very least this should be
&gt; configurable. We have some ideas on making this better -- I think it would be
&gt; good to cover at the summit.

Configurable? Do you mean not only have it for External builder? Or something similar to what Chris suggested?

(In reply to comment #41)
&gt; I'll add the following requirements as well:
&gt; 
&gt; - There needs to be a way to express that you wish a folder to be refreshed
&gt; recursively, or not.  Right now it is just a list of folders, with exclusion
&gt; patterns.  It's possible to express not wanting to refresh recursively by
&gt; making an exlusion pattern that is equivalent to ./*/, but that's cumbersome.
&gt; 
&gt; - There should be an easy way to include/exclude known source extensions (taken
&gt; from content types) by just clicking a checkbox rather than having to type your
&gt; own exclusion pattern.  Some people generate code as part of their build
&gt; process so they need the flexibility of refreshing source artifacts.  Others
&gt; output binaries to the same location of their source and don't generate code,
&gt; so they must be able to exclude sources easily.

Those are fair requirements. I hope you (or we?) have the time to accomplish this for 8.0. Looking at the history of the bug, I can't help but be a little concerned that it might slip yet again. I look forward to hearing from the CDT summit about this important issue.
(In reply to comment #43)
&gt; Configurable? Do you mean not only have it for External builder? Or something
&gt; similar to what Chris suggested?

Well my main concern is that you're only refreshing the output directory(ies) at DEPTH_ONE.  If you do this then you're forcing the user to add every single directory in the build tree to the output dir list? This would break our makefile projects, for example, which have a build tree of hundreds of directories mirroring the source tree with build artifacts scattered about the tree. This is why I think this should be configurable.

&gt; Looking at the history of the bug, I can't help but be a little
&gt; concerned that it might slip yet again...

I understand the feeling. We've had more pressing issues with making Managedbuild be correct and consistent which have kept us busy for a bit...

I think that, for performance on slow filesystems, we shouldn't do _any_ resource refresh inline with the build. This only delays the next build, keeps the resource tree locked, etc.  Instead it would be better to add a small bit of API to core.resources to allow requesting aysnchronous Refresh resources: bug 313673.
(In reply to comment #44)
&gt; I think that, for performance on slow filesystems, we shouldn't do _any_
&gt; resource refresh inline with the build. This only delays the next build, keeps
&gt; the resource tree locked, etc.  Instead it would be better to add a small bit
&gt; of API to core.resources to allow requesting aysnchronous Refresh resources:
&gt; bug 313673.

I agree.  The problem however is that we can't possibly enumerate ahead of time all the filesystems that are slow.

Even within a single filesystem, it may be the case that some stores are slow to refresh while others aren't.  Take the RSE EFS provider for example.  It can target both local and remote files... the local refreshes would be "fast" compared to the remote ones.  Although personally, I would make the choice there to just treat RSE as a whole as "slow" to refresh.

Putting my IBM hat on, for our product needs, it's sufficient for us to be able to programmatically set the refresh policy on a project while we are creating it from our IBM wizard.  Putting on my RDT hat, we can do the same thing there.

Putting my Eclipse hat back on, it might make sense to have an extension point that maps policies to EFS providers.  That would take care of the case where people are using a slow EFS provider but not using any specialized tooling over and above vanilla CDT.  That can still be tricky though, as we may have users downstream that don't like the choices we make if we provide some extensions to that extension point ourselves.  So I think maybe if we create said extension point, we ought not extend it ourselves in CDT.

You are right... asynchronous refreshes would make this a lot simpler.
That's a great point Chris. I'd be happy if we declare that out of the box, CDT assumes fast file systems. If you are working with a slow one, you need to install a plugin that tells the CDT that that file system is slow and under what conditions.

We rely too often on users setting preferences making it their problem instead of finding automated ways of helping them when we need help. And when they don't need help, we need to keep out of the way.
Created attachment 178894
Refresh output folders

(In reply to comment #44)
&gt; (In reply to comment #43)
&gt; &gt; Configurable? Do you mean not only have it for External builder? Or something
&gt; &gt; similar to what Chris suggested?
&gt; 
&gt; Well my main concern is that you're only refreshing the output directory(ies)
&gt; at DEPTH_ONE.  If you do this then you're forcing the user to add every single
&gt; directory in the build tree to the output dir list? This would break our
&gt; makefile projects, for example, which have a build tree of hundreds of
&gt; directories mirroring the source tree with build artifacts scattered about the
&gt; tree. This is why I think this should be configurable.

No, the visitor goes through all sub directories, DEPTH_ONE is used to prevent multiple refreshes on the same sub directories. I just noticed a problem with the last patch, the visitor didn't leave the directory when the exclusion pattern was matched, this is fixed in the new patch.
*** Bug 326064 has been marked as a duplicate of this bug. ***
Hi Chris. How are things progressing? Was this topic discussed at the summit?
Sorry if I lost track - would we have an option to disable auto-refresh altogether? For make projects it is not really needed...
*** Bug 329256 has been marked as a duplicate of this bug. ***
Created attachment 186177
design document (work in progress)

Attaching my design document for review.  It is still a work in progress and many sections are not filled in yet.  However I wanted to get feedback on the basic idea before I proceed much further.

Without going through the entire rationale (the rationale is lengthy, so read it in the design document), the basic idea of the design is to provide a new UI and underlying model to handle the post-build refresh, as the existing Output Locations system does not really work for what we want to do.  The new system will provide for the inclusion/exclusion of particular resources according to various nested rules, e.g. "refresh the entire tree under project root, EXCEPT C/C++ source files and header files, EXCEPT do a refresh on /myproject/somefolder/generated_file.cpp"

James, I would particularly like your feedback on the proposed platform change I have in mind before I file a RFE against Platform Resources.
Hi Chris, thanks for working on this. I read most of the document. We have multiple generated source files in different folders which always have the same name, say "generated.cpp". It would be great to be able to include all of those without having to specify them individually. Would this be covered in phase 2? I see Resource exceptions but I'm not sure if "generated.cpp" would work as "*/generated.cpp"?
(In reply to comment #53)
&gt; Hi Chris, thanks for working on this. I read most of the document. We have
&gt; multiple generated source files in different folders which always have the same
&gt; name, say "generated.cpp". It would be great to be able to include all of those
&gt; without having to specify them individually. Would this be covered in phase 2?
&gt; I see Resource exceptions but I'm not sure if "generated.cpp" would work as
&gt; "*/generated.cpp"?

Interesting that you mention that.  Originally I had come up with a "Resource Name Pattern" exclusion that would allow for just the scenario you mention, but then I thought maybe I was overdoing it and that no one would use it because 99% of the time all they cared about was specifying the file extension.  I guess you've proved me wrong :-)  I can re-add the requirement.  File extension exclusions would then just be a special case of resource name exclusion.
Interesting proposal Chris.

With resource filters there's already some precedent for filtering resources - see how children are filtered during UnifiedTree#getLocalList(...). One could imagine hooking a filter to refresh local to prevent stat'ing some files which don't match a certain spec.

Taking a small step back, it looks like this proposal only addresses post-build refresh, invoked at end of CDT build.  Is RefreshScopeManager in CDT on top of core.resoruces? If so, there will still be issues with Project-level refresh, and/or auto-refresh unless the refresh behaviour is specified in core.resources, right?  

It's worth bearing in mind a few platform bugs on the same issue:
   Bug 281387 Exclude directories from refresh
   Bug 244979 / Bug 91432 Lazy Refresh
   Bug 313673 API to perform async refresh 

A few other comments:
  3.5.4 It must be easy to exclude files based on Eclipse content types. 
This is going to be hard, right?  To know the content type (without using the extension) the first few bytes of the file are read which will be more expensive than a simple stat...?

  3.6.1 A post-build refresh on a typical 5,000  10,000 file remote project should take no more than one minute.
One minute is a _very_ long time. I get fed up with waiting 20s for a post-build refresh. 
I think any solution should require user isn't blocked from continuing work. i.e. workspace should not remain locked for more than 1-2s at any one time.  If we don't do this users will stick to emacs...

The semantics of out-of-sync files aren't clear to me.  They'll be visible when iterating of the resource hierarchy, but if opened editors will report out-of-sync (though we could fix this).  By not keeping them eagerly in-sync team providers, resource change listeners, etc. won't be able to update their models.  This may be fine, but does bear thinking about.

Perhaps we should discuss this and potential solutions on the core.resources call and bugzillas?
I looked over the proposal and it looks good for me.

Just a couple of thoughts which I am not sure how to fit in the picture:
- There is bug 305474 asking for refresh *before* the build, and another bug somewhere in CDT about refreshing after pre-build step which could possibly generate source files for internal builder. Maybe a checkbox could be added?
- There is "Refresh automatically" preference in General-&gt;Workspace. Some might argue that this flag should be used, i.e. if it is enabled then refresh should be kicked off in background. If disabled then the user indicated the desire to do any refresh manually. Similarly to the argument utilized in bug 14867.
(In reply to comment #55)
&gt; Interesting proposal Chris.
&gt; With resource filters there's already some precedent for filtering resources -
&gt; see how children are filtered during UnifiedTree#getLocalList(...). One could
&gt; imagine hooking a filter to refresh local to prevent stat'ing some files which
&gt; don't match a certain spec.

I will take a look at that.

&gt; Taking a small step back, it looks like this proposal only addresses post-build
&gt; refresh, invoked at end of CDT build.  Is RefreshScopeManager in CDT on top of
&gt; core.resoruces? If so, there will still be issues with Project-level refresh,
&gt; and/or auto-refresh unless the refresh behaviour is specified in
&gt; core.resources, right?  

Yes, this is on top of core.resources, so it would not affect anything to do with auto-refreh.  As far as project-level refresh (I assume you mean the one after the build, not a manual one?), the idea is that the platform gives us a way to discover new children without stat'ing everything, then if there are exclusions present in the model, we actually break up the project level refresh and invoke our own refreshes that only stat the resources we want.

One problem I am worried about though is making sure the stat'ing is done efficiently.  The straightforward approach is to visit the resources, apply our exclusion criteria, and then individually refresh each remaining resource.  That might be inefficient compared to doing one big request or a series of batched requests where you get many of the stats in one transaction.  EFS has a way of doing batch refreshes... IFileSystem.fetchFileTree(IFileStore, IProgressMonitor).  When you call that you get a whole chunk of the tree in one go.  This would circumvent that, although I'm not entirely sure it's being used much by EFS providers anyway.

&gt; It's worth bearing in mind a few platform bugs on the same issue:
&gt;    Bug 281387 Exclude directories from refresh
&gt;    Bug 244979 / Bug 91432 Lazy Refresh
&gt;    Bug 313673 API to perform async refresh

Yeah I think those will help some, but we'll still need this for a few reasons:

- Refreshing more than you need to still consumes bandwidth/CPU resources that might either be shared with other users or other operations that you yourself are trying to accomplish.

- You might literally be paying for said resources, so doing more than you need to costs money.

- Refreshing more than you need to, even asynchronously, might still make the user wait to do something longer than they need to.  E.g. they've built their project and wish to debug the resulting binary, but have to wait for the binary to show up in the tree before they can debug it.

So, I see this all these improvements as complementary.

&gt; A few other comments:
&gt;   3.5.4 It must be easy to exclude files based on Eclipse content types. 
&gt; This is going to be hard, right?  To know the content type (without using the
&gt; extension) the first few bytes of the file are read which will be more
&gt; expensive than a simple stat...?

Yes, if your content type is based on the file contents then this is going to get expensive.  If the check can be done based on extension alone then it never reads the file contents to determine the content type.  I don't foresee that as coming up often enough.  If it's problematic enough a user could use a resource name pattern exclusion instead.  E.g. if you have some content type that is a type of .xml file and the only way to know the true content type is to read the contents of the file, then maybe you might just tell the system to refresh all *.xml files rather than telling it to refresh only that specific content type, as I would imagine doing the stat for the refresh is cheaper than doing the open and then reading a few bytes.

&gt;   3.6.1 A post-build refresh on a typical 5,000  10,000 file remote project
&gt; should take no more than one minute.
&gt; One minute is a _very_ long time. I get fed up with waiting 20s for a
&gt; post-build refresh. 
&gt; I think any solution should require user isn't blocked from continuing work.
&gt; i.e. workspace should not remain locked for more than 1-2s at any one time.  If
&gt; we don't do this users will stick to emacs...

Good point.  I probably should have been clearer.  The requirement wasn't intended to be a metric of how long any given resource is locked or how the refreshes are broken up, or whether the user can do anything while the refresh is happening.  It was meant as a goal to measure how much time is spent refreshing in total.

&gt; The semantics of out-of-sync files aren't clear to me.  They'll be visible when
&gt; iterating of the resource hierarchy, but if opened editors will report
&gt; out-of-sync (though we could fix this).  By not keeping them eagerly in-sync
&gt; team providers, resource change listeners, etc. won't be able to update their
&gt; models.  This may be fine, but does bear thinking about.
&gt; Perhaps we should discuss this and potential solutions on the core.resources
&gt; call and bugzillas?

Yep, I'm happy to discuss all of this.  When is the next core.resources call?
(In reply to comment #56)
&gt; I looked over the proposal and it looks good for me.
&gt; Just a couple of thoughts which I am not sure how to fit in the picture:
&gt; - There is bug 305474 asking for refresh *before* the build, and another bug
&gt; somewhere in CDT about refreshing after pre-build step which could possibly
&gt; generate source files for internal builder. Maybe a checkbox could be added?

The refresh before the build scares me a bit if the platform is going to handle it (Bug 305474 is filed against platform resources).  I think each builder ought to be in charge of its own refreshing.

Refreshing after the pre-build step is something I hadn't thought of but I'm not against it so long as it's configurable (most projects don't need to refresh at that point).  We could just add an option to refresh or not at this phase, and have it obey the same refresh policy we use for the post-build refresh.  Do you think that would be sufficient?  Having multiple totally different refresh policies is something I'd like to avoid if at all possible, but if it is truly required then I'll go there.

&gt; - There is "Refresh automatically" preference in General-&gt;Workspace. Some might
&gt; argue that this flag should be used, i.e. if it is enabled then refresh should
&gt; be kicked off in background. If disabled then the user indicated the desire to
&gt; do any refresh manually. Similarly to the argument utilized in bug 14867.

Others will argue though that they don't want to wait for an automatic refresh to kick off "when it feels like it."
Bug 334930 filed against platform resources to track platform changes in support of refreshing new children without doing attribute checks on all children.
Created attachment 189669
patch 1 (work in progress)

Checking in my work in progress so that Vivian can start working on the UI in parallel.  Attaching here for ease of review.

As stated this is just work in progress so this is nowhere near complete.
*** cdt cvs genie on behalf of crecoskie ***
Bug 133881 - Make refreshing after building optional
Work in progress.

[+] RefreshExclusionContributor.exsd  http://dev.eclipse.org/viewcvs/index.cgi/org.eclipse.cdt/all/org.eclipse.cdt.ui/schema/RefreshExclusionContributor.exsd?root=Tools_Project&amp;revision=1.1&amp;view=markup

[+] RefreshExclusionContributionManager.java  http://dev.eclipse.org/viewcvs/index.cgi/org.eclipse.cdt/all/org.eclipse.cdt.ui/src/org/eclipse/cdt/ui/resources/RefreshExclusionContributionManager.java?root=Tools_Project&amp;revision=1.1&amp;view=markup
[+] RefreshExclusionContributor.java  http://dev.eclipse.org/viewcvs/index.cgi/org.eclipse.cdt/all/org.eclipse.cdt.ui/src/org/eclipse/cdt/ui/resources/RefreshExclusionContributor.java?root=Tools_Project&amp;revision=1.1&amp;view=markup

[*] plugin.xml 1.396 http://dev.eclipse.org/viewcvs/index.cgi/org.eclipse.cdt/all/org.eclipse.cdt.ui/plugin.xml?root=Tools_Project&amp;r1=1.395&amp;r2=1.396

[+] messages.properties  http://dev.eclipse.org/viewcvs/index.cgi/org.eclipse.cdt/all/org.eclipse.cdt.core/src/org/eclipse/cdt/core/resources/messages.properties?root=Tools_Project&amp;revision=1.1&amp;view=markup
[+] RefreshExclusion.java  http://dev.eclipse.org/viewcvs/index.cgi/org.eclipse.cdt/all/org.eclipse.cdt.core/src/org/eclipse/cdt/core/resources/RefreshExclusion.java?root=Tools_Project&amp;revision=1.1&amp;view=markup
[+] RefreshScopeManager.java  http://dev.eclipse.org/viewcvs/index.cgi/org.eclipse.cdt/all/org.eclipse.cdt.core/src/org/eclipse/cdt/core/resources/RefreshScopeManager.java?root=Tools_Project&amp;revision=1.1&amp;view=markup
[+] Messages.java  http://dev.eclipse.org/viewcvs/index.cgi/org.eclipse.cdt/all/org.eclipse.cdt.core/src/org/eclipse/cdt/core/resources/Messages.java?root=Tools_Project&amp;revision=1.1&amp;view=markup
(In reply to comment #60)

&gt; Checking in my work in progress so that Vivian can start working on the UI in
&gt; parallel.  Attaching here for ease of review.

Checked in some strings for UI...work in progress.
*** cdt cvs genie on behalf of vkong ***
Bug 133881 - Make refreshing after building optional

[*] Messages.properties 1.5 http://dev.eclipse.org/viewcvs/index.cgi/org.eclipse.cdt/all/org.eclipse.cdt.managedbuilder.ui/src/org/eclipse/cdt/managedbuilder/internal/ui/Messages.properties?root=Tools_Project&amp;r1=1.4&amp;r2=1.5
[*] Messages.java 1.3 http://dev.eclipse.org/viewcvs/index.cgi/org.eclipse.cdt/all/org.eclipse.cdt.managedbuilder.ui/src/org/eclipse/cdt/managedbuilder/internal/ui/Messages.java?root=Tools_Project&amp;r1=1.2&amp;r2=1.3

[*] plugin.properties 1.69 http://dev.eclipse.org/viewcvs/index.cgi/org.eclipse.cdt/all/org.eclipse.cdt.managedbuilder.ui/plugin.properties?root=Tools_Project&amp;r1=1.68&amp;r2=1.69
*** cdt cvs genie on behalf of crecoskie ***
Bug 133881 - Make refreshing after building optional
Work in progress.

[*] RefreshExclusionContributionManager.java 1.2 http://dev.eclipse.org/viewcvs/index.cgi/org.eclipse.cdt/all/org.eclipse.cdt.ui/src/org/eclipse/cdt/ui/resources/RefreshExclusionContributionManager.java?root=Tools_Project&amp;r1=1.1&amp;r2=1.2
[*] RefreshExclusionContributor.java 1.2 http://dev.eclipse.org/viewcvs/index.cgi/org.eclipse.cdt/all/org.eclipse.cdt.ui/src/org/eclipse/cdt/ui/resources/RefreshExclusionContributor.java?root=Tools_Project&amp;r1=1.1&amp;r2=1.2

[*] RefreshExclusionContributor.exsd 1.2 http://dev.eclipse.org/viewcvs/index.cgi/org.eclipse.cdt/all/org.eclipse.cdt.ui/schema/RefreshExclusionContributor.exsd?root=Tools_Project&amp;r1=1.1&amp;r2=1.2

[+] ExclusionType.java  http://dev.eclipse.org/viewcvs/index.cgi/org.eclipse.cdt/all/org.eclipse.cdt.core/src/org/eclipse/cdt/core/resources/ExclusionType.java?root=Tools_Project&amp;revision=1.1&amp;view=markup
[*] RefreshExclusion.java 1.2 http://dev.eclipse.org/viewcvs/index.cgi/org.eclipse.cdt/all/org.eclipse.cdt.core/src/org/eclipse/cdt/core/resources/RefreshExclusion.java?root=Tools_Project&amp;r1=1.1&amp;r2=1.2
[+] ExclusionInstance.java  http://dev.eclipse.org/viewcvs/index.cgi/org.eclipse.cdt/all/org.eclipse.cdt.core/src/org/eclipse/cdt/core/resources/ExclusionInstance.java?root=Tools_Project&amp;revision=1.1&amp;view=markup
*** cdt cvs genie on behalf of crecoskie ***
Bug 133881 - Make refreshing after building optional
Work in progress.

[*] RefreshExclusion.java 1.3 http://dev.eclipse.org/viewcvs/index.cgi/org.eclipse.cdt/all/org.eclipse.cdt.core/src/org/eclipse/cdt/core/resources/RefreshExclusion.java?root=Tools_Project&amp;r1=1.2&amp;r2=1.3
[*] RefreshScopeManager.java 1.2 http://dev.eclipse.org/viewcvs/index.cgi/org.eclipse.cdt/all/org.eclipse.cdt.core/src/org/eclipse/cdt/core/resources/RefreshScopeManager.java?root=Tools_Project&amp;r1=1.1&amp;r2=1.2
[*] ExclusionInstance.java 1.2 http://dev.eclipse.org/viewcvs/index.cgi/org.eclipse.cdt/all/org.eclipse.cdt.core/src/org/eclipse/cdt/core/resources/ExclusionInstance.java?root=Tools_Project&amp;r1=1.1&amp;r2=1.2
*** cdt cvs genie on behalf of crecoskie ***
Bug 133881 - Make refreshing after building optional
Work in progress.

[*] RefreshExclusionContributionManager.java 1.3 http://dev.eclipse.org/viewcvs/index.cgi/org.eclipse.cdt/all/org.eclipse.cdt.ui/src/org/eclipse/cdt/ui/resources/RefreshExclusionContributionManager.java?root=Tools_Project&amp;r1=1.2&amp;r2=1.3
*** cdt cvs genie on behalf of vkong ***
Bug 133881 - Make refreshing after building optional
Work in progress.

[*] RefreshExclusionContributionManager.java 1.4 http://dev.eclipse.org/viewcvs/index.cgi/org.eclipse.cdt/all/org.eclipse.cdt.ui/src/org/eclipse/cdt/ui/resources/RefreshExclusionContributionManager.java?root=Tools_Project&amp;r1=1.3&amp;r2=1.4
[*] RefreshExclusionContributor.java 1.3 http://dev.eclipse.org/viewcvs/index.cgi/org.eclipse.cdt/all/org.eclipse.cdt.ui/src/org/eclipse/cdt/ui/resources/RefreshExclusionContributor.java?root=Tools_Project&amp;r1=1.2&amp;r2=1.3

[*] MANIFEST.MF 1.62 http://dev.eclipse.org/viewcvs/index.cgi/org.eclipse.cdt/all/org.eclipse.cdt.ui/META-INF/MANIFEST.MF?root=Tools_Project&amp;r1=1.61&amp;r2=1.62
*** cdt cvs genie on behalf of vkong ***
Bug 133881 - Make refreshing after building optional
Work in progress.

[*] RefreshExclusionContributor.java 1.4 http://dev.eclipse.org/viewcvs/index.cgi/org.eclipse.cdt/all/org.eclipse.cdt.ui/src/org/eclipse/cdt/ui/resources/RefreshExclusionContributor.java?root=Tools_Project&amp;r1=1.3&amp;r2=1.4
*** cdt cvs genie on behalf of crecoskie ***
Bug 133881 - Make refreshing after building optional
Work in progress.

[+] RefreshScopeTests.java  http://dev.eclipse.org/viewcvs/index.cgi/org.eclipse.cdt/all/org.eclipse.cdt.core.tests/misc/org/eclipse/cdt/core/resources/tests/RefreshScopeTests.java?root=Tools_Project&amp;revision=1.1&amp;view=markup

[*] RefreshScopeManager.java 1.3 http://dev.eclipse.org/viewcvs/index.cgi/org.eclipse.cdt/all/org.eclipse.cdt.core/src/org/eclipse/cdt/core/resources/RefreshScopeManager.java?root=Tools_Project&amp;r1=1.2&amp;r2=1.3
*** cdt cvs genie on behalf of crecoskie ***
Bug 133881 - Make refreshing after building optional
Work in progress.

[*] RefreshExclusionContributionManager.java 1.5 http://dev.eclipse.org/viewcvs/index.cgi/org.eclipse.cdt/all/org.eclipse.cdt.ui/src/org/eclipse/cdt/ui/resources/RefreshExclusionContributionManager.java?root=Tools_Project&amp;r1=1.4&amp;r2=1.5
[*] RefreshExclusionContributor.java 1.5 http://dev.eclipse.org/viewcvs/index.cgi/org.eclipse.cdt/all/org.eclipse.cdt.ui/src/org/eclipse/cdt/ui/resources/RefreshExclusionContributor.java?root=Tools_Project&amp;r1=1.4&amp;r2=1.5

[*] RefreshExclusionContributor.exsd 1.3 http://dev.eclipse.org/viewcvs/index.cgi/org.eclipse.cdt/all/org.eclipse.cdt.ui/schema/RefreshExclusionContributor.exsd?root=Tools_Project&amp;r1=1.2&amp;r2=1.3

[*] messages.properties 1.2 http://dev.eclipse.org/viewcvs/index.cgi/org.eclipse.cdt/all/org.eclipse.cdt.core/src/org/eclipse/cdt/core/resources/messages.properties?root=Tools_Project&amp;r1=1.1&amp;r2=1.2
[*] RefreshExclusion.java 1.4 http://dev.eclipse.org/viewcvs/index.cgi/org.eclipse.cdt/all/org.eclipse.cdt.core/src/org/eclipse/cdt/core/resources/RefreshExclusion.java?root=Tools_Project&amp;r1=1.3&amp;r2=1.4
[*] RefreshScopeManager.java 1.4 http://dev.eclipse.org/viewcvs/index.cgi/org.eclipse.cdt/all/org.eclipse.cdt.core/src/org/eclipse/cdt/core/resources/RefreshScopeManager.java?root=Tools_Project&amp;r1=1.3&amp;r2=1.4
[*] Messages.java 1.2 http://dev.eclipse.org/viewcvs/index.cgi/org.eclipse.cdt/all/org.eclipse.cdt.core/src/org/eclipse/cdt/core/resources/Messages.java?root=Tools_Project&amp;r1=1.1&amp;r2=1.2

[+] TestExclusion.java  http://dev.eclipse.org/viewcvs/index.cgi/org.eclipse.cdt/all/org.eclipse.cdt.core.tests/misc/org/eclipse/cdt/core/resources/tests/TestExclusion.java?root=Tools_Project&amp;revision=1.1&amp;view=markup
[*] RefreshScopeTests.java 1.2 http://dev.eclipse.org/viewcvs/index.cgi/org.eclipse.cdt/all/org.eclipse.cdt.core.tests/misc/org/eclipse/cdt/core/resources/tests/RefreshScopeTests.java?root=Tools_Project&amp;r1=1.1&amp;r2=1.2

[*] MANIFEST.MF 1.26 http://dev.eclipse.org/viewcvs/index.cgi/org.eclipse.cdt/all/org.eclipse.cdt.core.tests/META-INF/MANIFEST.MF?root=Tools_Project&amp;r1=1.25&amp;r2=1.26
*** cdt cvs genie on behalf of vkong ***
Bug 133881 - Make refreshing after building optional
Work in progress.

[+] file_obj.gif  http://dev.eclipse.org/viewcvs/index.cgi/org.eclipse.cdt/all/org.eclipse.cdt.managedbuilder.ui/icons/obj16/file_obj.gif?root=Tools_Project&amp;revision=1.1&amp;view=markup
[+] textfile_obj.gif  http://dev.eclipse.org/viewcvs/index.cgi/org.eclipse.cdt/all/org.eclipse.cdt.managedbuilder.ui/icons/obj16/textfile_obj.gif?root=Tools_Project&amp;revision=1.1&amp;view=markup
[+] fileFolder_obj.gif  http://dev.eclipse.org/viewcvs/index.cgi/org.eclipse.cdt/all/org.eclipse.cdt.managedbuilder.ui/icons/obj16/fileFolder_obj.gif?root=Tools_Project&amp;revision=1.1&amp;view=markup

[+] refresh_nav.gif  http://dev.eclipse.org/viewcvs/index.cgi/org.eclipse.cdt/all/org.eclipse.cdt.managedbuilder.ui/icons/elcl16/refresh_nav.gif?root=Tools_Project&amp;revision=1.1&amp;view=markup

[*] ManagedBuilderUIImages.java 1.5 http://dev.eclipse.org/viewcvs/index.cgi/org.eclipse.cdt/all/org.eclipse.cdt.managedbuilder.ui/src/org/eclipse/cdt/managedbuilder/ui/properties/ManagedBuilderUIImages.java?root=Tools_Project&amp;r1=1.4&amp;r2=1.5

[*] RefreshExclusionContributor.java 1.6 http://dev.eclipse.org/viewcvs/index.cgi/org.eclipse.cdt/all/org.eclipse.cdt.ui/src/org/eclipse/cdt/ui/resources/RefreshExclusionContributor.java?root=Tools_Project&amp;r1=1.5&amp;r2=1.6
*** cdt cvs genie on behalf of vkong ***
Bug 133881 - Make refreshing after building optional
Add Refresh Policy Tab to C/C++ Build properties page - Work in progress.

[+] ResourceExclusion.java  http://dev.eclipse.org/viewcvs/index.cgi/org.eclipse.cdt/all/org.eclipse.cdt.core/src/org/eclipse/cdt/core/resources/ResourceExclusion.java?root=Tools_Project&amp;revision=1.1&amp;view=markup
[*] RefreshScopeManager.java 1.5 http://dev.eclipse.org/viewcvs/index.cgi/org.eclipse.cdt/all/org.eclipse.cdt.core/src/org/eclipse/cdt/core/resources/RefreshScopeManager.java?root=Tools_Project&amp;r1=1.4&amp;r2=1.5

[+] messages.properties  http://dev.eclipse.org/viewcvs/index.cgi/org.eclipse.cdt/all/org.eclipse.cdt.ui/src/org/eclipse/cdt/ui/resources/messages.properties?root=Tools_Project&amp;revision=1.1&amp;view=markup
[+] ResourceExclusionContributor.java  http://dev.eclipse.org/viewcvs/index.cgi/org.eclipse.cdt/all/org.eclipse.cdt.ui/src/org/eclipse/cdt/ui/resources/ResourceExclusionContributor.java?root=Tools_Project&amp;revision=1.1&amp;view=markup
[+] Messages.java  http://dev.eclipse.org/viewcvs/index.cgi/org.eclipse.cdt/all/org.eclipse.cdt.ui/src/org/eclipse/cdt/ui/resources/Messages.java?root=Tools_Project&amp;revision=1.1&amp;view=markup

[*] plugin.properties 1.212 http://dev.eclipse.org/viewcvs/index.cgi/org.eclipse.cdt/all/org.eclipse.cdt.ui/plugin.properties?root=Tools_Project&amp;r1=1.211&amp;r2=1.212
[*] plugin.xml 1.399 http://dev.eclipse.org/viewcvs/index.cgi/org.eclipse.cdt/all/org.eclipse.cdt.ui/plugin.xml?root=Tools_Project&amp;r1=1.398&amp;r2=1.399

[+] RefreshPolicyExceptionDialog.java  http://dev.eclipse.org/viewcvs/index.cgi/org.eclipse.cdt/all/org.eclipse.cdt.managedbuilder.ui/src/org/eclipse/cdt/managedbuilder/ui/properties/RefreshPolicyExceptionDialog.java?root=Tools_Project&amp;revision=1.1&amp;view=markup
[+] RefreshPolicyTab.java  http://dev.eclipse.org/viewcvs/index.cgi/org.eclipse.cdt/all/org.eclipse.cdt.managedbuilder.ui/src/org/eclipse/cdt/managedbuilder/ui/properties/RefreshPolicyTab.java?root=Tools_Project&amp;revision=1.1&amp;view=markup

[*] plugin.xml 1.135 http://dev.eclipse.org/viewcvs/index.cgi/org.eclipse.cdt/all/org.eclipse.cdt.managedbuilder.ui/plugin.xml?root=Tools_Project&amp;r1=1.134&amp;r2=1.135

[*] Messages.properties 1.6 http://dev.eclipse.org/viewcvs/index.cgi/org.eclipse.cdt/all/org.eclipse.cdt.managedbuilder.ui/src/org/eclipse/cdt/managedbuilder/internal/ui/Messages.properties?root=Tools_Project&amp;r1=1.5&amp;r2=1.6
[*] Messages.java 1.4 http://dev.eclipse.org/viewcvs/index.cgi/org.eclipse.cdt/all/org.eclipse.cdt.managedbuilder.ui/src/org/eclipse/cdt/managedbuilder/internal/ui/Messages.java?root=Tools_Project&amp;r1=1.3&amp;r2=1.4
*** cdt cvs genie on behalf of vkong ***
Bug 133881 - Make refreshing after building optional
Work in progress.

[*] RefreshPolicyTab.java 1.2 http://dev.eclipse.org/viewcvs/index.cgi/org.eclipse.cdt/all/org.eclipse.cdt.managedbuilder.ui/src/org/eclipse/cdt/managedbuilder/ui/properties/RefreshPolicyTab.java?root=Tools_Project&amp;r1=1.1&amp;r2=1.2
*** cdt cvs genie on behalf of vkong ***
Bug 133881 - Make refreshing after building optional
Work in progress.

[*] RefreshPolicyExceptionDialog.java 1.2 http://dev.eclipse.org/viewcvs/index.cgi/org.eclipse.cdt/all/org.eclipse.cdt.managedbuilder.ui/src/org/eclipse/cdt/managedbuilder/ui/properties/RefreshPolicyExceptionDialog.java?root=Tools_Project&amp;r1=1.1&amp;r2=1.2
[*] RefreshPolicyTab.java 1.3 http://dev.eclipse.org/viewcvs/index.cgi/org.eclipse.cdt/all/org.eclipse.cdt.managedbuilder.ui/src/org/eclipse/cdt/managedbuilder/ui/properties/RefreshPolicyTab.java?root=Tools_Project&amp;r1=1.2&amp;r2=1.3
*** cdt cvs genie on behalf of crecoskie ***
Bug 133881 - Make refreshing after building optional
Work in progress.

[*] plugin.xml 1.153 http://dev.eclipse.org/viewcvs/index.cgi/org.eclipse.cdt/all/org.eclipse.cdt.core/plugin.xml?root=Tools_Project&amp;r1=1.152&amp;r2=1.153

[+] RefreshExclusionFactory.exsd  http://dev.eclipse.org/viewcvs/index.cgi/org.eclipse.cdt/all/org.eclipse.cdt.core/schema/RefreshExclusionFactory.exsd?root=Tools_Project&amp;revision=1.1&amp;view=markup

[*] messages.properties 1.3 http://dev.eclipse.org/viewcvs/index.cgi/org.eclipse.cdt/all/org.eclipse.cdt.core/src/org/eclipse/cdt/core/resources/messages.properties?root=Tools_Project&amp;r1=1.2&amp;r2=1.3
[*] Messages.java 1.3 http://dev.eclipse.org/viewcvs/index.cgi/org.eclipse.cdt/all/org.eclipse.cdt.core/src/org/eclipse/cdt/core/resources/Messages.java?root=Tools_Project&amp;r1=1.2&amp;r2=1.3
[*] RefreshExclusion.java 1.5 http://dev.eclipse.org/viewcvs/index.cgi/org.eclipse.cdt/all/org.eclipse.cdt.core/src/org/eclipse/cdt/core/resources/RefreshExclusion.java?root=Tools_Project&amp;r1=1.4&amp;r2=1.5
[+] RefreshExclusionFactory.java  http://dev.eclipse.org/viewcvs/index.cgi/org.eclipse.cdt/all/org.eclipse.cdt.core/src/org/eclipse/cdt/core/resources/RefreshExclusionFactory.java?root=Tools_Project&amp;revision=1.1&amp;view=markup
[*] RefreshScopeManager.java 1.6 http://dev.eclipse.org/viewcvs/index.cgi/org.eclipse.cdt/all/org.eclipse.cdt.core/src/org/eclipse/cdt/core/resources/RefreshScopeManager.java?root=Tools_Project&amp;r1=1.5&amp;r2=1.6
[*] ExclusionInstance.java 1.3 http://dev.eclipse.org/viewcvs/index.cgi/org.eclipse.cdt/all/org.eclipse.cdt.core/src/org/eclipse/cdt/core/resources/ExclusionInstance.java?root=Tools_Project&amp;r1=1.2&amp;r2=1.3

[+] TestExclusionFactory.java  http://dev.eclipse.org/viewcvs/index.cgi/org.eclipse.cdt/all/org.eclipse.cdt.core.tests/misc/org/eclipse/cdt/core/resources/tests/TestExclusionFactory.java?root=Tools_Project&amp;revision=1.1&amp;view=markup
[*] RefreshScopeTests.java 1.3 http://dev.eclipse.org/viewcvs/index.cgi/org.eclipse.cdt/all/org.eclipse.cdt.core.tests/misc/org/eclipse/cdt/core/resources/tests/RefreshScopeTests.java?root=Tools_Project&amp;r1=1.2&amp;r2=1.3

[*] plugin.xml 1.54 http://dev.eclipse.org/viewcvs/index.cgi/org.eclipse.cdt/all/org.eclipse.cdt.core.tests/plugin.xml?root=Tools_Project&amp;r1=1.53&amp;r2=1.54
*** cdt cvs genie on behalf of vkong ***
Bug 133881 - Make refreshing after building optional
Work in progress.

[*] RefreshPolicyTab.java 1.4 http://dev.eclipse.org/viewcvs/index.cgi/org.eclipse.cdt/all/org.eclipse.cdt.managedbuilder.ui/src/org/eclipse/cdt/managedbuilder/ui/properties/RefreshPolicyTab.java?root=Tools_Project&amp;r1=1.3&amp;r2=1.4
*** cdt cvs genie on behalf of vkong ***
Bug 133881 - Make refreshing after building optional - UI changes
Work in progress.

[*] ResourceExclusion.java 1.2 http://dev.eclipse.org/viewcvs/index.cgi/org.eclipse.cdt/all/org.eclipse.cdt.core/src/org/eclipse/cdt/core/resources/ResourceExclusion.java?root=Tools_Project&amp;r1=1.1&amp;r2=1.2
[*] messages.properties 1.4 http://dev.eclipse.org/viewcvs/index.cgi/org.eclipse.cdt/all/org.eclipse.cdt.core/src/org/eclipse/cdt/core/resources/messages.properties?root=Tools_Project&amp;r1=1.3&amp;r2=1.4
[*] RefreshExclusion.java 1.6 http://dev.eclipse.org/viewcvs/index.cgi/org.eclipse.cdt/all/org.eclipse.cdt.core/src/org/eclipse/cdt/core/resources/RefreshExclusion.java?root=Tools_Project&amp;r1=1.5&amp;r2=1.6
[*] Messages.java 1.4 http://dev.eclipse.org/viewcvs/index.cgi/org.eclipse.cdt/all/org.eclipse.cdt.core/src/org/eclipse/cdt/core/resources/Messages.java?root=Tools_Project&amp;r1=1.3&amp;r2=1.4

[*] RefreshPolicyExceptionDialog.java 1.3 http://dev.eclipse.org/viewcvs/index.cgi/org.eclipse.cdt/all/org.eclipse.cdt.managedbuilder.ui/src/org/eclipse/cdt/managedbuilder/ui/properties/RefreshPolicyExceptionDialog.java?root=Tools_Project&amp;r1=1.2&amp;r2=1.3
[*] RefreshPolicyTab.java 1.5 http://dev.eclipse.org/viewcvs/index.cgi/org.eclipse.cdt/all/org.eclipse.cdt.managedbuilder.ui/src/org/eclipse/cdt/managedbuilder/ui/properties/RefreshPolicyTab.java?root=Tools_Project&amp;r1=1.4&amp;r2=1.5

[*] Messages.properties 1.7 http://dev.eclipse.org/viewcvs/index.cgi/org.eclipse.cdt/all/org.eclipse.cdt.managedbuilder.ui/src/org/eclipse/cdt/managedbuilder/internal/ui/Messages.properties?root=Tools_Project&amp;r1=1.6&amp;r2=1.7
[*] Messages.java 1.5 http://dev.eclipse.org/viewcvs/index.cgi/org.eclipse.cdt/all/org.eclipse.cdt.managedbuilder.ui/src/org/eclipse/cdt/managedbuilder/internal/ui/Messages.java?root=Tools_Project&amp;r1=1.4&amp;r2=1.5
*** cdt cvs genie on behalf of vkong ***
Bug 133881 - Make refreshing after building optional - UI changes
Work in progress.

[*] ResourceExclusion.java 1.3 http://dev.eclipse.org/viewcvs/index.cgi/org.eclipse.cdt/all/org.eclipse.cdt.core/src/org/eclipse/cdt/core/resources/ResourceExclusion.java?root=Tools_Project&amp;r1=1.2&amp;r2=1.3
*** cdt cvs genie on behalf of crecoskie ***
Bug 133881 - Make refreshing after building optional
Work in progress.

[*] RefreshExclusion.java 1.7 http://dev.eclipse.org/viewcvs/index.cgi/org.eclipse.cdt/all/org.eclipse.cdt.core/src/org/eclipse/cdt/core/resources/RefreshExclusion.java?root=Tools_Project&amp;r1=1.6&amp;r2=1.7
[*] RefreshScopeManager.java 1.7 http://dev.eclipse.org/viewcvs/index.cgi/org.eclipse.cdt/all/org.eclipse.cdt.core/src/org/eclipse/cdt/core/resources/RefreshScopeManager.java?root=Tools_Project&amp;r1=1.6&amp;r2=1.7

[*] RefreshScopeManager.java 1.8 http://dev.eclipse.org/viewcvs/index.cgi/org.eclipse.cdt/all/org.eclipse.cdt.core/src/org/eclipse/cdt/core/resources/RefreshScopeManager.java?root=Tools_Project&amp;r1=1.7&amp;r2=1.8
*** cdt cvs genie on behalf of vkong ***
Bug 133881 - Make refreshing after building optional - UI changes
Work in progress.

[*] ResourceExclusion.java 1.4 http://dev.eclipse.org/viewcvs/index.cgi/org.eclipse.cdt/all/org.eclipse.cdt.core/src/org/eclipse/cdt/core/resources/ResourceExclusion.java?root=Tools_Project&amp;r1=1.3&amp;r2=1.4
*** cdt cvs genie on behalf of crecoskie ***
Bug 133881 - Make refreshing after building optional
Work in progress.

[*] RefreshScopeTests.java 1.4 http://dev.eclipse.org/viewcvs/index.cgi/org.eclipse.cdt/all/org.eclipse.cdt.core.tests/misc/org/eclipse/cdt/core/resources/tests/RefreshScopeTests.java?root=Tools_Project&amp;r1=1.3&amp;r2=1.4

[*] ResourceExclusion.java 1.5 http://dev.eclipse.org/viewcvs/index.cgi/org.eclipse.cdt/all/org.eclipse.cdt.core/src/org/eclipse/cdt/core/resources/ResourceExclusion.java?root=Tools_Project&amp;r1=1.4&amp;r2=1.5
[*] RefreshExclusion.java 1.8 http://dev.eclipse.org/viewcvs/index.cgi/org.eclipse.cdt/all/org.eclipse.cdt.core/src/org/eclipse/cdt/core/resources/RefreshExclusion.java?root=Tools_Project&amp;r1=1.7&amp;r2=1.8
[*] RefreshScopeManager.java 1.9 http://dev.eclipse.org/viewcvs/index.cgi/org.eclipse.cdt/all/org.eclipse.cdt.core/src/org/eclipse/cdt/core/resources/RefreshScopeManager.java?root=Tools_Project&amp;r1=1.8&amp;r2=1.9
*** cdt cvs genie on behalf of crecoskie ***
Bug 133881 - Make refreshing after building optional
Work in progress.

[*] RefreshScopeTests.java 1.5 http://dev.eclipse.org/viewcvs/index.cgi/org.eclipse.cdt/all/org.eclipse.cdt.core.tests/misc/org/eclipse/cdt/core/resources/tests/RefreshScopeTests.java?root=Tools_Project&amp;r1=1.4&amp;r2=1.5

[*] RefreshScopeManager.java 1.10 http://dev.eclipse.org/viewcvs/index.cgi/org.eclipse.cdt/all/org.eclipse.cdt.core/src/org/eclipse/cdt/core/resources/RefreshScopeManager.java?root=Tools_Project&amp;r1=1.9&amp;r2=1.10
*** cdt cvs genie on behalf of crecoskie ***
Bug 133881 - Make refreshing after building optional
Work in progress.

[*] RefreshScopeTests.java 1.6 http://dev.eclipse.org/viewcvs/index.cgi/org.eclipse.cdt/all/org.eclipse.cdt.core.tests/misc/org/eclipse/cdt/core/resources/tests/RefreshScopeTests.java?root=Tools_Project&amp;r1=1.5&amp;r2=1.6
*** cdt cvs genie on behalf of crecoskie ***
Bug 133881 - Make refreshing after building optional
Work in progress.

[*] MakeBuilder.java 1.60 http://dev.eclipse.org/viewcvs/index.cgi/org.eclipse.cdt/all/org.eclipse.cdt.make.core/src/org/eclipse/cdt/make/core/MakeBuilder.java?root=Tools_Project&amp;r1=1.59&amp;r2=1.60

[*] GeneratedMakefileBuilder.java 1.84 http://dev.eclipse.org/viewcvs/index.cgi/org.eclipse.cdt/all/org.eclipse.cdt.managedbuilder.core/src/org/eclipse/cdt/managedbuilder/internal/core/GeneratedMakefileBuilder.java?root=Tools_Project&amp;r1=1.83&amp;r2=1.84

[*] ExternalBuildRunner.java 1.8 http://dev.eclipse.org/viewcvs/index.cgi/org.eclipse.cdt/all/org.eclipse.cdt.managedbuilder.core/src/org/eclipse/cdt/managedbuilder/core/ExternalBuildRunner.java?root=Tools_Project&amp;r1=1.7&amp;r2=1.8

[*] RefreshScopeTests.java 1.7 http://dev.eclipse.org/viewcvs/index.cgi/org.eclipse.cdt/all/org.eclipse.cdt.core.tests/misc/org/eclipse/cdt/core/resources/tests/RefreshScopeTests.java?root=Tools_Project&amp;r1=1.6&amp;r2=1.7

[*] AutomatedIntegrationSuite.java 1.74 http://dev.eclipse.org/viewcvs/index.cgi/org.eclipse.cdt/all/org.eclipse.cdt.core.tests/suite/org/eclipse/cdt/core/suite/AutomatedIntegrationSuite.java?root=Tools_Project&amp;r1=1.73&amp;r2=1.74

[*] RefreshPolicyTab.java 1.6 http://dev.eclipse.org/viewcvs/index.cgi/org.eclipse.cdt/all/org.eclipse.cdt.managedbuilder.ui/src/org/eclipse/cdt/managedbuilder/ui/properties/RefreshPolicyTab.java?root=Tools_Project&amp;r1=1.5&amp;r2=1.6
We've got a working implementation of Phase One coming in M7 (currently in HEAD).  Try it out.  You can specify a list of resources to refresh, and you can specify Resource Exclusions.  Note that the refresh policy is not used by the internal builder by design, as it refreshes resources as it executes individual build steps.

One thing I intend to change is the way the data is stored.  Right now it's stored in a persistent resource property, but I didn't realize that those are stored in the workspace, not in the project.  I want the refresh data to be  part of the project itself, and team shared.

There is still a bunch of code cleanup as well to be done.  Missing javadoc, etc.
*** cdt cvs genie on behalf of crecoskie ***
Bug 133881 - Make refreshing after building optional
Work in progress.

[*] RefreshScopeManager.java 1.12 http://dev.eclipse.org/viewcvs/index.cgi/org.eclipse.cdt/all/org.eclipse.cdt.core/src/org/eclipse/cdt/core/resources/RefreshScopeManager.java?root=Tools_Project&amp;r1=1.11&amp;r2=1.12
Created attachment 194418
RefreshScopeManager exceptions patch

I just updated my CDT install to 8.0.0.201104291533 (Build #676)

Steps to reproduce:

1. Create two CDT projects. (Do not open the first project properties in between). Or open an existing workspace with more than one CDT project.
2. Open one of the project properties.
3. Click OK


Steps to reproduce:

1. Create a project
2. Open the project properties.
3. Click OK
4. Delete the project
5. Create another project
6. Open one the project properties.
7. Click OK


The first one is very serious since it prevents saving project properties. I'm going to commit simple workarounds for now so that M7 is usable.
*** cdt cvs genie on behalf of mlaperle ***
Bug 133881 - Make refreshing after building optional : Protect against a NPE and a ResourceException

[*] RefreshScopeManager.java 1.13 http://dev.eclipse.org/viewcvs/index.cgi/org.eclipse.cdt/all/org.eclipse.cdt.core/src/org/eclipse/cdt/core/resources/RefreshScopeManager.java?root=Tools_Project&amp;r1=1.12&amp;r2=1.13
Mark, I fixed the project close/delete and open workflows.  Give it a try.
*** cdt cvs genie on behalf of crecoskie ***
Bug 133881 - Make refreshing after building optional
Fixing project close/delete and open workflows.

[*] RefreshScopeManager.java 1.14 http://dev.eclipse.org/viewcvs/index.cgi/org.eclipse.cdt/all/org.eclipse.cdt.core/src/org/eclipse/cdt/core/resources/RefreshScopeManager.java?root=Tools_Project&amp;r1=1.13&amp;r2=1.14
*** cdt cvs genie on behalf of crecoskie ***
Bug 133881 - Make refreshing after building optional
Fixing project close/delete and open workflows.

[*] RefreshScopeManager.java 1.15 http://dev.eclipse.org/viewcvs/index.cgi/org.eclipse.cdt/all/org.eclipse.cdt.core/src/org/eclipse/cdt/core/resources/RefreshScopeManager.java?root=Tools_Project&amp;r1=1.14&amp;r2=1.15
I get this exception sometimes when I delete a project (about 50% repro for me)


(In reply to comment #92)
&gt; I get this exception sometimes when I delete a project (about 50% repro for me)
&gt; java.util.ConcurrentModificationException
&gt;     at java.util.HashMap$HashIterator.nextEntry(Unknown Source)
&gt;     at java.util.HashMap$KeyIterator.next(Unknown Source)
&gt;     at
&gt; org.eclipse.cdt.core.resources.RefreshScopeManager.clearExclusionsForProject(RefreshScopeManager.java:547)

I hadn't made the RefreshScopeManager threadsafe yet as I wasn't sure we really needed to, but I guess your findings say that we do.  I'll make the required changes...
(In reply to comment #93)
&gt; (In reply to comment #92)
&gt; &gt; I get this exception sometimes when I delete a project (about 50% repro for me)
&gt; &gt; java.util.ConcurrentModificationException
&gt; &gt;     at java.util.HashMap$HashIterator.nextEntry(Unknown Source)
&gt; &gt;     at java.util.HashMap$KeyIterator.next(Unknown Source)
&gt; &gt;     at
&gt; &gt; org.eclipse.cdt.core.resources.RefreshScopeManager.clearExclusionsForProject(RefreshScopeManager.java:547)
&gt; I hadn't made the RefreshScopeManager threadsafe yet as I wasn't sure we really
&gt; needed to, but I guess your findings say that we do.  I'll make the required
&gt; changes...

Changes checked in.
*** cdt cvs genie on behalf of crecoskie ***
Bug 133881 - Make refreshing after building optional
Fix ConcurrentModificationException by making RefreshScopeManager and friends threadsafe.

[*] ResourceExclusion.java 1.6 http://dev.eclipse.org/viewcvs/index.cgi/org.eclipse.cdt/all/org.eclipse.cdt.core/src/org/eclipse/cdt/core/resources/ResourceExclusion.java?root=Tools_Project&amp;r1=1.5&amp;r2=1.6
[*] RefreshExclusion.java 1.9 http://dev.eclipse.org/viewcvs/index.cgi/org.eclipse.cdt/all/org.eclipse.cdt.core/src/org/eclipse/cdt/core/resources/RefreshExclusion.java?root=Tools_Project&amp;r1=1.8&amp;r2=1.9
[*] RefreshScopeManager.java 1.16 http://dev.eclipse.org/viewcvs/index.cgi/org.eclipse.cdt/all/org.eclipse.cdt.core/src/org/eclipse/cdt/core/resources/RefreshScopeManager.java?root=Tools_Project&amp;r1=1.15&amp;r2=1.16
[*] ExclusionInstance.java 1.4 http://dev.eclipse.org/viewcvs/index.cgi/org.eclipse.cdt/all/org.eclipse.cdt.core/src/org/eclipse/cdt/core/resources/ExclusionInstance.java?root=Tools_Project&amp;r1=1.3&amp;r2=1.4
Sorry, I'm a bonehead.  It had nothing to do with threadsafeness.  You can't modify the contents of a map while you iterate over its keyset.  Duh.

Should hopefully be fixed now for real.  I was able to reproduce your problem after trying enough times, now I can't after the changes.
*** cdt cvs genie on behalf of crecoskie ***
Bug 133881 - Make refreshing after building optional
Fix ConcurrentModificationException in clearExclusionsForProject()

[*] RefreshScopeManager.java 1.17 http://dev.eclipse.org/viewcvs/index.cgi/org.eclipse.cdt/all/org.eclipse.cdt.core/src/org/eclipse/cdt/core/resources/RefreshScopeManager.java?root=Tools_Project&amp;r1=1.16&amp;r2=1.17
Still TODO:

- Redo where the settings are stored, so they are team shared.
- Fix the scheduling rule for the refresh.  Right now it locks the workspace.  Won't be hard to fix, I just need to set the right scheduling rule.
- Code cleanup
The refresh scope data is now serialized/deserialized to/from the C project description.

Also fixed a stack overflow issue with loading.

Also moved ResourceExclusion and friends to internal packages.

Still TODO:  alter scheduling rules for the refresh operation, more code cleanup.
*** cdt cvs genie on behalf of crecoskie ***
Bug 133881 - Make refreshing after building optional
- serialize/deserialize to/from C project description
- fix stack overflow issue on load
- move ResourceExclusion and friends to internal packages

[*] MANIFEST.MF 1.64 http://dev.eclipse.org/viewcvs/index.cgi/org.eclipse.cdt/all/org.eclipse.cdt.ui/META-INF/MANIFEST.MF?root=Tools_Project&amp;r1=1.63&amp;r2=1.64

[*] RefreshExclusionContributor.java 1.8 http://dev.eclipse.org/viewcvs/index.cgi/org.eclipse.cdt/all/org.eclipse.cdt.ui/src/org/eclipse/cdt/ui/resources/RefreshExclusionContributor.java?root=Tools_Project&amp;r1=1.7&amp;r2=1.8
[-] ResourceExclusionContributor.java  http://dev.eclipse.org/viewcvs/index.cgi/org.eclipse.cdt/all/org.eclipse.cdt.ui/src/org/eclipse/cdt/ui/resources/ResourceExclusionContributor.java?root=Tools_Project&amp;view=markup

[+] ResourceExclusionContributor.java  http://dev.eclipse.org/viewcvs/index.cgi/org.eclipse.cdt/all/org.eclipse.cdt.ui/src/org/eclipse/cdt/internal/ui/resources/ResourceExclusionContributor.java?root=Tools_Project&amp;revision=1.1&amp;view=markup

[*] plugin.properties 1.214 http://dev.eclipse.org/viewcvs/index.cgi/org.eclipse.cdt/all/org.eclipse.cdt.ui/plugin.properties?root=Tools_Project&amp;r1=1.213&amp;r2=1.214
[*] plugin.xml 1.402 http://dev.eclipse.org/viewcvs/index.cgi/org.eclipse.cdt/all/org.eclipse.cdt.ui/plugin.xml?root=Tools_Project&amp;r1=1.401&amp;r2=1.402

[*] RefreshPolicyTab.java 1.7 http://dev.eclipse.org/viewcvs/index.cgi/org.eclipse.cdt/all/org.eclipse.cdt.managedbuilder.ui/src/org/eclipse/cdt/managedbuilder/ui/properties/RefreshPolicyTab.java?root=Tools_Project&amp;r1=1.6&amp;r2=1.7

[*] plugin.xml 1.156 http://dev.eclipse.org/viewcvs/index.cgi/org.eclipse.cdt/all/org.eclipse.cdt.core/plugin.xml?root=Tools_Project&amp;r1=1.155&amp;r2=1.156

[-] ResourceExclusion.java  http://dev.eclipse.org/viewcvs/index.cgi/org.eclipse.cdt/all/org.eclipse.cdt.core/src/org/eclipse/cdt/core/resources/ResourceExclusion.java?root=Tools_Project&amp;view=markup
[*] RefreshExclusion.java 1.10 http://dev.eclipse.org/viewcvs/index.cgi/org.eclipse.cdt/all/org.eclipse.cdt.core/src/org/eclipse/cdt/core/resources/RefreshExclusion.java?root=Tools_Project&amp;r1=1.9&amp;r2=1.10
[*] RefreshScopeManager.java 1.18 http://dev.eclipse.org/viewcvs/index.cgi/org.eclipse.cdt/all/org.eclipse.cdt.core/src/org/eclipse/cdt/core/resources/RefreshScopeManager.java?root=Tools_Project&amp;r1=1.17&amp;r2=1.18
[*] ExclusionInstance.java 1.5 http://dev.eclipse.org/viewcvs/index.cgi/org.eclipse.cdt/all/org.eclipse.cdt.core/src/org/eclipse/cdt/core/resources/ExclusionInstance.java?root=Tools_Project&amp;r1=1.4&amp;r2=1.5

[+] ResourceExclusion.java  http://dev.eclipse.org/viewcvs/index.cgi/org.eclipse.cdt/all/org.eclipse.cdt.core/src/org/eclipse/cdt/internal/core/resources/ResourceExclusion.java?root=Tools_Project&amp;revision=1.1&amp;view=markup
[+] ResourceExclusionFactory.java  http://dev.eclipse.org/viewcvs/index.cgi/org.eclipse.cdt/all/org.eclipse.cdt.core/src/org/eclipse/cdt/internal/core/resources/ResourceExclusionFactory.java?root=Tools_Project&amp;revision=1.1&amp;view=markup

[*] MANIFEST.MF 1.74 http://dev.eclipse.org/viewcvs/index.cgi/org.eclipse.cdt/all/org.eclipse.cdt.core/META-INF/MANIFEST.MF?root=Tools_Project&amp;r1=1.73&amp;r2=1.74

[*] RefreshScopeTests.java 1.8 http://dev.eclipse.org/viewcvs/index.cgi/org.eclipse.cdt/all/org.eclipse.cdt.core.tests/misc/org/eclipse/cdt/core/resources/tests/RefreshScopeTests.java?root=Tools_Project&amp;r1=1.7&amp;r2=1.8
The refresh is now scheduled on the resources to be refreshed.

Still TODO:  more code cleanup
*** cdt cvs genie on behalf of crecoskie ***
Bug 133881 - Make refreshing after building optional
- changed scheduling rules for refreshes to be the set of resources to be refreshed for a given project

[*] MakeBuilder.java 1.61 http://dev.eclipse.org/viewcvs/index.cgi/org.eclipse.cdt/all/org.eclipse.cdt.make.core/src/org/eclipse/cdt/make/core/MakeBuilder.java?root=Tools_Project&amp;r1=1.60&amp;r2=1.61

[*] messages.properties 1.5 http://dev.eclipse.org/viewcvs/index.cgi/org.eclipse.cdt/all/org.eclipse.cdt.core/src/org/eclipse/cdt/core/resources/messages.properties?root=Tools_Project&amp;r1=1.4&amp;r2=1.5
[*] RefreshScopeManager.java 1.19 http://dev.eclipse.org/viewcvs/index.cgi/org.eclipse.cdt/all/org.eclipse.cdt.core/src/org/eclipse/cdt/core/resources/RefreshScopeManager.java?root=Tools_Project&amp;r1=1.18&amp;r2=1.19
[*] Messages.java 1.5 http://dev.eclipse.org/viewcvs/index.cgi/org.eclipse.cdt/all/org.eclipse.cdt.core/src/org/eclipse/cdt/core/resources/Messages.java?root=Tools_Project&amp;r1=1.4&amp;r2=1.5

[*] RefreshScopeTests.java 1.9 http://dev.eclipse.org/viewcvs/index.cgi/org.eclipse.cdt/all/org.eclipse.cdt.core.tests/misc/org/eclipse/cdt/core/resources/tests/RefreshScopeTests.java?root=Tools_Project&amp;r1=1.8&amp;r2=1.9

[*] GeneratedMakefileBuilder.java 1.85 http://dev.eclipse.org/viewcvs/index.cgi/org.eclipse.cdt/all/org.eclipse.cdt.managedbuilder.core/src/org/eclipse/cdt/managedbuilder/internal/core/GeneratedMakefileBuilder.java?root=Tools_Project&amp;r1=1.84&amp;r2=1.85

[*] ExternalBuildRunner.java 1.9 http://dev.eclipse.org/viewcvs/index.cgi/org.eclipse.cdt/all/org.eclipse.cdt.managedbuilder.core/src/org/eclipse/cdt/managedbuilder/core/ExternalBuildRunner.java?root=Tools_Project&amp;r1=1.8&amp;r2=1.9
(In reply to comment #101)
&gt; The refresh is now scheduled on the resources to be refreshed.

The rule used for the scheduling isn't right.

You need to get the refresh rule from the resource rule factory (but this would be overkill...). Easiest fix is just to run this with a 'null' scheduling rule as you had before.  The workspace will already acquire the scheduling rules needed for running the refresh. This will be done at the individual resource layer so will allow concurrent modification in the tree and minmize the scope of the locking while the refresh is in progress.
(In reply to comment #103)
&gt; (In reply to comment #101)
&gt; &gt; The refresh is now scheduled on the resources to be refreshed.
&gt; The rule used for the scheduling isn't right.
&gt; You need to get the refresh rule from the resource rule factory (but this would
&gt; be overkill...). Easiest fix is just to run this with a 'null' scheduling rule
&gt; as you had before.  The workspace will already acquire the scheduling rules
&gt; needed for running the refresh. This will be done at the individual resource
&gt; layer so will allow concurrent modification in the tree and minmize the scope
&gt; of the locking while the refresh is in progress.

Not quite true... I was using this:

org.eclipse.core.resources.IWorkspace.run(IWorkspaceRunnable, IProgressMonitor)

"This is a convenience method, fully equivalent to: workspace.run(action, workspace.getRoot(), IWorkspace.AVOID_UPDATE, monitor);"

I'll try a null rule though...
(In reply to comment #104)
Ah woops.  Out of interest I wonder why you're doing the refresh in an IWorkspaceRunnable rather than just having a method:
  RefreshScopeManager.getDefault().refresh(IProject) 
The build is already run in a workspace operation, so there's no additional advantage to nesting another one within it.
A few other comments on RefreshScopeManager:
 1) Delta: Change the settings, close the project &amp; re-open the project, the Refresh Policy tab is empty (maybe this is 3?).
 2) loadSettings(...): 
   IResource resource = workspaceRoot.findMember(resourcePath);
   if (resource == null) {
        // error
   }
   This looks wrong: after a clean, or for a freshly imported project, the build directory may not exist so this very like will be null, right, so the RSM will miss that resource forever more?
 3) #persistSettings looks wrong. It looks like its persisting *all* the refresh settings into the passed in ICProjectDescription.  Presumably it only wants to set them for the project = projectDescription.getProject();
 4) When processing the resource delta, it returns true for all ! instanceof Project which will cause the visitor to run over the full delta, which is inefficient
 5) Using #getProjectToResourcesMap() to initialize the 3 maps: RSM is singleton, so perhaps just create them at construction.
 6) Locking: imo it would be better to use thread-safe data structures (Collections.synchronize... or Concurrent....()), rather than making each method synchronized. Coarse locking makes it difficult to reason about potential deadlocks (and in this case doesn't seem to be needed).
 7) API Visibility: All this stuff is publicly visible. Can it live in an internal package so we can minimize breakage in the future e.g. org.eclipse.cdt.internal.core.resources?  MBS can be friends of cdt.core so should be able to see all the *.internal.* stuff without issue or warning.
 8) Tidy: As the classes are new can you sort methods &amp; format code to standard
(In reply to comment #105)
&gt; (In reply to comment #104)
&gt; Ah woops.  Out of interest I wonder why you're doing the refresh in an
&gt; IWorkspaceRunnable rather than just having a method:
&gt;   RefreshScopeManager.getDefault().refresh(IProject) 
&gt; The build is already run in a workspace operation, so there's no additional
&gt; advantage to nesting another one within it.

This was to allow for moving the refresh to a Job in some cases, for bug 330360
(In reply to comment #106)
&gt; A few other comments on RefreshScopeManager:
&gt;  1) Delta: Change the settings, close the project &amp; re-open the project, the
&gt; Refresh Policy tab is empty (maybe this is 3?).

Crap, it was working before... Yeah I think the move to the project description broke this.

&gt;  2) loadSettings(...): 
&gt;    IResource resource = workspaceRoot.findMember(resourcePath);
&gt;    if (resource == null) {
&gt;         // error
&gt;    }
&gt;    This looks wrong: after a clean, or for a freshly imported project, the
&gt; build directory may not exist so this very like will be null, right, so the RSM
&gt; will miss that resource forever more?

Good point... I forgot that findMember() won't return a handle if the resource doesn't exist.  Arg.  I can't seem to find a convenient API for this either.  All the handle based APIs require you know up front if you want an IFolder or an IFile.  I guess I'll have to store the resource type when serializing...

&gt;  3) #persistSettings looks wrong. It looks like its persisting *all* the
&gt; refresh settings into the passed in ICProjectDescription.  Presumably it only
&gt; wants to set them for the project = projectDescription.getProject();

Yeah... an artifact of moving to the project description stuff.  Will fix... this will cause problems if each project has differet settings.

&gt;  4) When processing the resource delta, it returns true for all ! instanceof
&gt; Project which will cause the visitor to run over the full delta, which is
&gt; inefficient

Will fix...

&gt;  5) Using #getProjectToResourcesMap() to initialize the 3 maps: RSM is
&gt; singleton, so perhaps just create them at construction.

Yeah I intended to fix that as a part of the cleanup.

&gt;  6) Locking: imo it would be better to use thread-safe data structures
&gt; (Collections.synchronize... or Concurrent....()), rather than making each
&gt; method synchronized. Coarse locking makes it difficult to reason about
&gt; potential deadlocks (and in this case doesn't seem to be needed).

I'll look into it..

&gt;  7) API Visibility: All this stuff is publicly visible. Can it live in an
&gt; internal package so we can minimize breakage in the future e.g.
&gt; org.eclipse.cdt.internal.core.resources?  MBS can be friends of cdt.core so
&gt; should be able to see all the *.internal.* stuff without issue or warning.

No, because RDT needs to use this stuff too, so that the RemoteMakeBuilder can use it.

Everything is marked (or should be marked...) provisional.

&gt;  8) Tidy: As the classes are new can you sort methods &amp; format code to standard

I can do a sort... I format to 120 characters already typically but I'll do a mass format during the cleanup to be sure I didn't miss anything.  Formatting to 80 characters results in a mess so I prefer to stick to 120.
(In reply to comment #108)
&gt; No, because RDT needs to use this stuff too, so that the RemoteMakeBuilder can
&gt; use it.
&gt; 
&gt; Everything is marked (or should be marked...) provisional.

Ah, Ok.  Presumably the RemoteMakeBuilder is just calling one API method: #getRefreshRunnable() or is it using other API? 

Even if this is provisional, having all the implementation exposed may lead API users to make incorrect assumptions by reading the implementation.

The ideal would be do have an Interface which exposes the API contract. 

Alternatively, you can copy RSM to InternalRSM under *.internal.*, have the visible RSM extend InternalRSM and just replace the methods that you want to be visible.  It's then very clear to consumers what API is what the contract is, maybe something like:
 
public class RefreshScopeManager extend InternalRefreshScopeManager {
 /**
  * Document me
  */
 @Override
 public static RefreshScopeManager getInstance() {
   return super.getInstance();
 } 

 /**
  * Document me
  */
 @Override
 public IWorkspaceRunnable getRefreshRunnable(final IProject project) {
    return super.getRefreshRunnable(project);
 }
}

That way you minimize how much documentation you need to write, and makes it very clear what people can rely on.  Clearly it doesn't stop them using the internal public methods, but it does hide the complexity of the implementation: synchronization - persistence - data structures, etc. ;)

&gt; I can do a sort... I format to 120 characters already typically but I'll do a
&gt; mass format during the cleanup to be sure I didn't miss anything.  Formatting
&gt; to 80 characters results in a mess so I prefer to stick to 120.

Personally I'm happy about long lines, there are just some whitespace oddities...
Scheduling rule is fixed.


(In reply to comment #106)
&gt; A few other comments on RefreshScopeManager:
&gt;  1) Delta: Change the settings, close the project &amp; re-open the project, the
&gt; Refresh Policy tab is empty (maybe this is 3?).
&gt;  2) loadSettings(...): 
&gt;    IResource resource = workspaceRoot.findMember(resourcePath);
&gt;    if (resource == null) {
&gt;         // error
&gt;    }
&gt;    This looks wrong: after a clean, or for a freshly imported project, the
&gt; build directory may not exist so this very like will be null, right, so the RSM
&gt; will miss that resource forever more?

Fixed, at least for Project, File, and Folder resources.  For other resources, I don't know of a way to create the right type of object, so I just use findMember() as a fallback.  Note that Groups will work properly because they are virtual, so if they don't exist, refreshing won't recreate them.


&gt;  3) #persistSettings looks wrong. It looks like its persisting *all* the
&gt; refresh settings into the passed in ICProjectDescription.  Presumably it only
&gt; wants to set them for the project = projectDescription.getProject();

Fixed.

&gt;  4) When processing the resource delta, it returns true for all ! instanceof
&gt; Project which will cause the visitor to run over the full delta, which is
&gt; inefficient

Fixed.

&gt;  5) Using #getProjectToResourcesMap() to initialize the 3 maps: RSM is
&gt; singleton, so perhaps just create them at construction.
&gt;  6) Locking: imo it would be better to use thread-safe data structures
&gt; (Collections.synchronize... or Concurrent....()), rather than making each
&gt; method synchronized. Coarse locking makes it difficult to reason about
&gt; potential deadlocks (and in this case doesn't seem to be needed).
&gt;  7) API Visibility: All this stuff is publicly visible. Can it live in an
&gt; internal package so we can minimize breakage in the future e.g.
&gt; org.eclipse.cdt.internal.core.resources?  MBS can be friends of cdt.core so
&gt; should be able to see all the *.internal.* stuff without issue or warning.
&gt;  8) Tidy: As the classes are new can you sort methods &amp; format code to standard

This is all still pending.
*** cdt cvs genie on behalf of crecoskie ***
Bug 133881 - Make refreshing after building optional
- changed scheduling rule to be null so that the platform handles the locking on individual resources
- fixed it so only the given project's settings are serialized in its project description
- fixed it so projects/folders/files can be refreshed even if they were removed from the resource tree but not the filesystem
- optimized resource delta processing

[*] RefreshScopeManager.java 1.20 http://dev.eclipse.org/viewcvs/index.cgi/org.eclipse.cdt/all/org.eclipse.cdt.core/src/org/eclipse/cdt/core/resources/RefreshScopeManager.java?root=Tools_Project&amp;r1=1.19&amp;r2=1.20

[*] RefreshScopeTests.java 1.10 http://dev.eclipse.org/viewcvs/index.cgi/org.eclipse.cdt/all/org.eclipse.cdt.core.tests/misc/org/eclipse/cdt/core/resources/tests/RefreshScopeTests.java?root=Tools_Project&amp;r1=1.9&amp;r2=1.10

[*] MakeBuilder.java 1.62 http://dev.eclipse.org/viewcvs/index.cgi/org.eclipse.cdt/all/org.eclipse.cdt.make.core/src/org/eclipse/cdt/make/core/MakeBuilder.java?root=Tools_Project&amp;r1=1.61&amp;r2=1.62

[*] GeneratedMakefileBuilder.java 1.86 http://dev.eclipse.org/viewcvs/index.cgi/org.eclipse.cdt/all/org.eclipse.cdt.managedbuilder.core/src/org/eclipse/cdt/managedbuilder/internal/core/GeneratedMakefileBuilder.java?root=Tools_Project&amp;r1=1.85&amp;r2=1.86

[*] ExternalBuildRunner.java 1.10 http://dev.eclipse.org/viewcvs/index.cgi/org.eclipse.cdt/all/org.eclipse.cdt.managedbuilder.core/src/org/eclipse/cdt/managedbuilder/core/ExternalBuildRunner.java?root=Tools_Project&amp;r1=1.9&amp;r2=1.10
*** cdt cvs genie on behalf of vkong ***
Bug 133881 - Make refreshing after building optional - filter out resources that have already been added to the &amp;quot;resources to refresh&amp;quot; list

[*] RefreshPolicyTab.java 1.8 http://dev.eclipse.org/viewcvs/index.cgi/org.eclipse.cdt/all/org.eclipse.cdt.managedbuilder.ui/src/org/eclipse/cdt/managedbuilder/ui/properties/RefreshPolicyTab.java?root=Tools_Project&amp;r1=1.7&amp;r2=1.8
*** cdt cvs genie on behalf of crecoskie ***
Bug 133881 - Make refreshing after building optional
Code cleanup.

[*] RefreshExclusionContributionManager.java 1.7 http://dev.eclipse.org/viewcvs/index.cgi/org.eclipse.cdt/all/org.eclipse.cdt.ui/src/org/eclipse/cdt/ui/resources/RefreshExclusionContributionManager.java?root=Tools_Project&amp;r1=1.6&amp;r2=1.7
[*] RefreshExclusionContributor.java 1.9 http://dev.eclipse.org/viewcvs/index.cgi/org.eclipse.cdt/all/org.eclipse.cdt.ui/src/org/eclipse/cdt/ui/resources/RefreshExclusionContributor.java?root=Tools_Project&amp;r1=1.8&amp;r2=1.9

[*] ResourceExclusionContributor.java 1.2 http://dev.eclipse.org/viewcvs/index.cgi/org.eclipse.cdt/all/org.eclipse.cdt.ui/src/org/eclipse/cdt/internal/ui/resources/ResourceExclusionContributor.java?root=Tools_Project&amp;r1=1.1&amp;r2=1.2

[*] ExclusionType.java 1.2 http://dev.eclipse.org/viewcvs/index.cgi/org.eclipse.cdt/all/org.eclipse.cdt.core/src/org/eclipse/cdt/core/resources/ExclusionType.java?root=Tools_Project&amp;r1=1.1&amp;r2=1.2
[*] ExclusionInstance.java 1.6 http://dev.eclipse.org/viewcvs/index.cgi/org.eclipse.cdt/all/org.eclipse.cdt.core/src/org/eclipse/cdt/core/resources/ExclusionInstance.java?root=Tools_Project&amp;r1=1.5&amp;r2=1.6
[*] RefreshExclusion.java 1.11 http://dev.eclipse.org/viewcvs/index.cgi/org.eclipse.cdt/all/org.eclipse.cdt.core/src/org/eclipse/cdt/core/resources/RefreshExclusion.java?root=Tools_Project&amp;r1=1.10&amp;r2=1.11
[*] RefreshScopeManager.java 1.21 http://dev.eclipse.org/viewcvs/index.cgi/org.eclipse.cdt/all/org.eclipse.cdt.core/src/org/eclipse/cdt/core/resources/RefreshScopeManager.java?root=Tools_Project&amp;r1=1.20&amp;r2=1.21
[*] RefreshExclusionFactory.java 1.2 http://dev.eclipse.org/viewcvs/index.cgi/org.eclipse.cdt/all/org.eclipse.cdt.core/src/org/eclipse/cdt/core/resources/RefreshExclusionFactory.java?root=Tools_Project&amp;r1=1.1&amp;r2=1.2

[*] ResourceExclusion.java 1.2 http://dev.eclipse.org/viewcvs/index.cgi/org.eclipse.cdt/all/org.eclipse.cdt.core/src/org/eclipse/cdt/internal/core/resources/ResourceExclusion.java?root=Tools_Project&amp;r1=1.1&amp;r2=1.2
[*] ResourceExclusionFactory.java 1.2 http://dev.eclipse.org/viewcvs/index.cgi/org.eclipse.cdt/all/org.eclipse.cdt.core/src/org/eclipse/cdt/internal/core/resources/ResourceExclusionFactory.java?root=Tools_Project&amp;r1=1.1&amp;r2=1.2
*** cdt cvs genie on behalf of vkong ***
Bug 133881 - Make refreshing after building optional - UI changes

[*] Messages.properties 1.8 http://dev.eclipse.org/viewcvs/index.cgi/org.eclipse.cdt/all/org.eclipse.cdt.managedbuilder.ui/src/org/eclipse/cdt/managedbuilder/internal/ui/Messages.properties?root=Tools_Project&amp;r1=1.7&amp;r2=1.8
There are still various cleanup tasks to complete, but these will have to wait for post-Indigo, as I don't want to destabilize anything.

Since the main request (making refreshes optional) is complete, I will resolve this as FIXED and we'll deal with any new bugs/changes separately.
Two questions:

1) Is this feature available in the nightly build of CDT. Ie. http://download.eclipse.org/tools/cdt/builds/8.0.0/I.I201106081058/index.html

2) Is there any user documentation available on this feature?

Thanks!

CHAD
(In reply to comment #116)
&gt; Two questions:
&gt; 1) Is this feature available in the nightly build of CDT. Ie.
&gt; http://download.eclipse.org/tools/cdt/builds/8.0.0/I.I201106081058/index.html
&gt; 2) Is there any user documentation available on this feature?
&gt; Thanks!
&gt; CHAD

Yes it's available in Indigo (CDT 8).  That build should have it.

Unfortunately we are somewhat tardy with the documentation.  It will be coming later.</WithOutStack>
  </Bug>
  <Bug>
    <BugId amount="133882" />
    <CreationDate amount="2006-03-29 12:01:00 -0500" />
    <DupId amount="" />
    <classification amount="Eclipse" />
    <Product amount="Platform" />
    <component amount="Ant" />
    <Version amount="3.2" />
    <rep_platform amount="PC" />
    <op_sys amount="Windows XP" />
    <priority amount="P3" />
    <bug_severity amount="normal" />
    <Summery>External Tools: Does not persist "Run in same JRE as workspace" option</Summery>
    <Patches amount="0" />
    <Stacktraces amount="0" />
    <SourceCodeRegions amount="0" />
    <Enumerations amount="0" />
    <bug_status amount="RESOLVED" />
    <resolution amount="WORKSFORME" />
    <WithStack>Using 3.2/M5

The External Tools dialog does not persist the "Run in same JRE as workspace" option.  When you choose this radio button the Apply button is not enabled, and even when you dirty something else to cause the Apply button to be enabled the state is never persisted.
I believe this should be fixed with the changes from bug 107721.

I will double check.
I cannot reproduce on the 3.2 M6 test candidate (I20060328-0010)

Please reopen if still a problem on M6</WithStack>
    <WithOutStack>Using 3.2/M5

The External Tools dialog does not persist the "Run in same JRE as workspace" option.  When you choose this radio button the Apply button is not enabled, and even when you dirty something else to cause the Apply button to be enabled the state is never persisted.
I believe this should be fixed with the changes from bug 107721.

I will double check.
I cannot reproduce on the 3.2 M6 test candidate (I20060328-0010)

Please reopen if still a problem on M6</WithOutStack>
  </Bug>
  <Bug>
    <BugId amount="133883" />
    <CreationDate amount="2006-03-29 12:04:00 -0500" />
    <DupId amount="110202" />
    <classification amount="Mylyn" />
    <Product amount="Mylyn" />
    <component amount="Bugzilla" />
    <Version amount="unspecified" />
    <rep_platform amount="All" />
    <op_sys amount="All" />
    <priority amount="P3" />
    <bug_severity amount="enhancement" />
    <Summery>Hyperlinks to referred issues in Bugzilla editor</Summery>
    <Patches amount="0" />
    <Stacktraces amount="0" />
    <SourceCodeRegions amount="0" />
    <Enumerations amount="0" />
    <bug_status amount="RESOLVED" />
    <resolution amount="DUPLICATE" />
    <WithStack>Bugzilla web UI is detecting links to other bugs in comments and wraps them into hyperlinks. It would be nice to see this feature in form based editor.
Yup!  We're about ready to do this in the improved bug editor, and this was part of the reason for switching to forms.  However, for comments we're switching back to StyledText due to the scrolling and other annoying issues with long form text, and so Rob ended up having to do the links manually.

*** This bug has been marked as a duplicate of 110202 ***</WithStack>
    <WithOutStack>Bugzilla web UI is detecting links to other bugs in comments and wraps them into hyperlinks. It would be nice to see this feature in form based editor.
Yup!  We're about ready to do this in the improved bug editor, and this was part of the reason for switching to forms.  However, for comments we're switching back to StyledText due to the scrolling and other annoying issues with long form text, and so Rob ended up having to do the links manually.

*** This bug has been marked as a duplicate of 110202 ***</WithOutStack>
  </Bug>
  <Bug>
    <BugId amount="133884" />
    <CreationDate amount="2006-03-29 12:09:00 -0500" />
    <DupId amount="" />
    <classification amount="WebTools" />
    <Product amount="WTP Java EE Tools" />
    <component amount="jst.j2ee" />
    <Version amount="1.0.2" />
    <rep_platform amount="PC" />
    <op_sys amount="Windows XP" />
    <priority amount="P3" />
    <bug_severity amount="major" />
    <Summery>Internal error in J2EEComponentLinkAdditionJob</Summery>
    <Patches amount="0" />
    <Stacktraces amount="1">
      <Stacktrace timestamp="1437330688293">
        <Exception>java.lang.IllegalArgumentException</Exception>
        <Reason>Path must include project and resource name:
 /MyProject</Reason>
        <Frames>
          <Frame depth="0">org.eclipse.core.internal.utils.Assert.isLegal(Assert.java:60)</Frame>
          <Frame depth="1">org.eclipse.core.internal.resources.Workspace.newResource(Workspace.java:1556)</Frame>
          <Frame depth="2">org.eclipse.core.internal.resources.Container.getFolder(Container.java:139)</Frame>
          <Frame depth="3">org.eclipse.wst.common.componentcore.internal.resources.VirtualContainer.createLink(VirtualContainer.java:251)</Frame>
          <Frame depth="4">org.eclipse.jst.j2ee.refactor.listeners.J2EEElementChangedListener$1.runInWorkspace(J2EEElementChangedListener.java:113)</Frame>
          <Frame depth="5">org.eclipse.core.internal.resources.InternalWorkspaceJob.run(InternalWorkspaceJob.java:38)</Frame>
          <Frame depth="6">org.eclipse.core.internal.jobs.Worker.run(Worker.java:76)</Frame>
        </Frames>
      </Stacktrace>
    </Stacktraces>
    <SourceCodeRegions amount="0" />
    <Enumerations amount="0" />
    <bug_status amount="CLOSED" />
    <resolution amount="FIXED" />
    <WithStack>In our batch headless product, the following exception started occurring recently while we created and configured projects:

!ENTRY org.eclipse.core.runtime 4 2 2006-03-29 12:08:39.78
!MESSAGE An internal error occurred during: "J2EEComponentLinkAdditionJob".
!STACK 0
java.lang.IllegalArgumentException: Path must include project and resource name:
 /MyProject
        at org.eclipse.core.internal.utils.Assert.isLegal(Assert.java:60)
        at org.eclipse.core.internal.resources.Workspace.newResource(Workspace.j
ava:1556)
        at org.eclipse.core.internal.resources.Container.getFolder(Container.jav
a:139)
        at org.eclipse.wst.common.componentcore.internal.resources.VirtualContai
ner.createLink(VirtualContainer.java:251)
        at org.eclipse.jst.j2ee.refactor.listeners.J2EEElementChangedListener$1.
runInWorkspace(J2EEElementChangedListener.java:113)
        at org.eclipse.core.internal.resources.InternalWorkspaceJob.run(Internal
WorkspaceJob.java:38)
        at org.eclipse.core.internal.jobs.Worker.run(Worker.java:76)

I'm not sure if this has any adverse effects yet but it certainly looks like it might. I'm using the WTP 1.0.2 200603160607 build.
That is triggered when a src path is added for the project root; the call to createLink() is being made with a zero-segment Path, however, the Path does not have a leading separator (J2EEElementChangeListener is removing the first segment from a relative path to create an empty path) so the test for isRoot() fails in VirtualComponent (I don't think it should be making this check since the method asks for a project relative path) and instead an attempt is made to call "resource = getProject().getFolder(aProjectRelativeLocation);" which obviously fails - other than generating an error message and failing to automatically add a mapping to the .component file, this should not have other negative consequences.

Although this could be fixed in J2EEElementChangeListener, I think the correct fix is in VirtualComponent (include a check for isEmpty()); I've verified this and will attach a patch. 


Created attachment 37251
Patch for VirtualContainer.java

Note: this is a patch of the R1_0_maintenance version
John - sending your way for patch eval/commit
Please consider this for inclusion in WTP 1.0.2.

Thanks,
Yen
This patch has been reviewed and tested.  It is released for the 1.5 WTP 040306 build and awaiting PMC approval for inclusion in WTP 1.0.2.

Thanks, Rob.
With no PMC objections, this is released for the 040406 WTP 1.0.2 build.
I verified the patch on top of 200603160607.
+1 for WTP 1.0.2 RC
OK</WithStack>
    <WithOutStack>In our batch headless product, the following exception started occurring recently while we created and configured projects:

!ENTRY org.eclipse.core.runtime 4 2 2006-03-29 12:08:39.78
!MESSAGE An internal error occurred during: "J2EEComponentLinkAdditionJob".
!STACK 0


I'm not sure if this has any adverse effects yet but it certainly looks like it might. I'm using the WTP 1.0.2 200603160607 build.
That is triggered when a src path is added for the project root; the call to createLink() is being made with a zero-segment Path, however, the Path does not have a leading separator (J2EEElementChangeListener is removing the first segment from a relative path to create an empty path) so the test for isRoot() fails in VirtualComponent (I don't think it should be making this check since the method asks for a project relative path) and instead an attempt is made to call "resource = getProject().getFolder(aProjectRelativeLocation);" which obviously fails - other than generating an error message and failing to automatically add a mapping to the .component file, this should not have other negative consequences.

Although this could be fixed in J2EEElementChangeListener, I think the correct fix is in VirtualComponent (include a check for isEmpty()); I've verified this and will attach a patch. 


Created attachment 37251
Patch for VirtualContainer.java

Note: this is a patch of the R1_0_maintenance version
John - sending your way for patch eval/commit
Please consider this for inclusion in WTP 1.0.2.

Thanks,
Yen
This patch has been reviewed and tested.  It is released for the 1.5 WTP 040306 build and awaiting PMC approval for inclusion in WTP 1.0.2.

Thanks, Rob.
With no PMC objections, this is released for the 040406 WTP 1.0.2 build.
I verified the patch on top of 200603160607.
+1 for WTP 1.0.2 RC
OK</WithOutStack>
  </Bug>
  <Bug>
    <BugId amount="133885" />
    <CreationDate amount="2006-03-29 12:10:00 -0500" />
    <DupId amount="" />
    <classification amount="Mylyn" />
    <Product amount="Mylyn" />
    <component amount="Tasks" />
    <Version amount="unspecified" />
    <rep_platform amount="All" />
    <op_sys amount="All" />
    <priority amount="P3" />
    <bug_severity amount="normal" />
    <Summery>Option to use single editor for task browsing</Summery>
    <Patches amount="0" />
    <Stacktraces amount="0" />
    <SourceCodeRegions amount="0" />
    <Enumerations amount="0" />
    <bug_status amount="RESOLVED" />
    <resolution amount="FIXED" />
    <WithStack>When browsing trough tasks it is easy to flush out other opened editors. So, in most of the cases it would make sense to reuse single task editor or close previous one (unless it is pinned) when opening new task editor. It should work the same for local, bugzilla and jira task viewers/editors. 

This is somehow similar to Synchronize view which is using single comparison editor, but perhaps configuration preference to enable such behaviour wuld make sense...
Interesting, I never noticed that the Synchronize view had started doing that.

I often rely on having mutlipe bug editors visible, same with local editors.  But I know what you mean--I just end up with too many of them sometimes.  One interesting thing is that once interest is modeled for tasks correctly they can close automatically when they become uninteresting.  But this prefernece might still be a good idea.
This breaks our use of the editor model (e.g. dealing with unsaved changes) and as such we need to defer considering this functionality.
Reopening to mark as resolved as per message from webmaster: http://dev.eclipse.org/mhonarc/lists/eclipse.org-committers/msg00778.html.
Marking resolved.</WithStack>
    <WithOutStack>When browsing trough tasks it is easy to flush out other opened editors. So, in most of the cases it would make sense to reuse single task editor or close previous one (unless it is pinned) when opening new task editor. It should work the same for local, bugzilla and jira task viewers/editors. 

This is somehow similar to Synchronize view which is using single comparison editor, but perhaps configuration preference to enable such behaviour wuld make sense...
Interesting, I never noticed that the Synchronize view had started doing that.

I often rely on having mutlipe bug editors visible, same with local editors.  But I know what you mean--I just end up with too many of them sometimes.  One interesting thing is that once interest is modeled for tasks correctly they can close automatically when they become uninteresting.  But this prefernece might still be a good idea.
This breaks our use of the editor model (e.g. dealing with unsaved changes) and as such we need to defer considering this functionality.
Reopening to mark as resolved as per message from webmaster: http://dev.eclipse.org/mhonarc/lists/eclipse.org-committers/msg00778.html.
Marking resolved.</WithOutStack>
  </Bug>
  <Bug>
    <BugId amount="133886" />
    <CreationDate amount="2006-03-29 12:12:00 -0500" />
    <DupId amount="" />
    <classification amount="Mylyn" />
    <Product amount="Mylyn" />
    <component amount="Bugzilla" />
    <Version amount="unspecified" />
    <rep_platform amount="PC" />
    <op_sys amount="Windows All" />
    <priority amount="P3" />
    <bug_severity amount="normal" />
    <Summery>IO exception when fetching bugzilla task</Summery>
    <Patches amount="0" />
    <Stacktraces amount="2">
      <Stacktrace timestamp="1437330688293">
        <Exception>java.io.IOException</Exception>
        <Reason>Exception while fetching the list of keywords from the server: Stream closed</Reason>
        <Frames>
          <Frame depth="0">org.eclipse.mylar.internal.bugzilla.core.internal.BugParser.parseInput(BugParser.java:355)</Frame>
          <Frame depth="1">org.eclipse.mylar.internal.bugzilla.core.internal.BugParser.parseAttributeValue(BugParser.java:135)</Frame>
          <Frame depth="2">org.eclipse.mylar.internal.bugzilla.core.internal.BugParser.parseBug(BugParser.java:755)</Frame>
          <Frame depth="3">org.eclipse.mylar.internal.bugzilla.core.BugzillaRepositoryUtil.getBug(BugzillaRepositoryUtil.java:147)</Frame>
          <Frame depth="4">org.eclipse.mylar.internal.bugzilla.core.BugzillaRepositoryUtil.getCurrentBug(BugzillaRepositoryUtil.java:203)</Frame>
          <Frame depth="5">org.eclipse.mylar.internal.bugzilla.ui.editor.ExistingBugEditorInput.&lt;init&gt;(ExistingBugEditorInput.java:88)</Frame>
          <Frame depth="6">org.eclipse.mylar.internal.bugzilla.ui.tasklist.BugzillaTaskEditorInput.&lt;init&gt;(BugzillaTaskEditorInput.java:42)</Frame>
          <Frame depth="7">org.eclipse.mylar.internal.bugzilla.ui.tasklist.BugzillaReportEditorFactory.createEditorInput(BugzillaReportEditorFactory.java:48)</Frame>
          <Frame depth="8">org.eclipse.mylar.internal.tasklist.ui.editors.MylarTaskEditor.createPages(MylarTaskEditor.java:119)</Frame>
          <Frame depth="9">org.eclipse.ui.part.MultiPageEditorPart.createPartControl(MultiPageEditorPart.java:273)</Frame>
          <Frame depth="10">org.eclipse.ui.internal.EditorReference.createPartHelper(EditorReference.java:596)</Frame>
          <Frame depth="11">org.eclipse.ui.internal.EditorReference.createPart(EditorReference.java:372)</Frame>
          <Frame depth="12">org.eclipse.ui.internal.WorkbenchPartReference.getPart(WorkbenchPartReference.java:566)</Frame>
          <Frame depth="13">org.eclipse.ui.internal.PartPane.setVisible(PartPane.java:290)</Frame>
          <Frame depth="14">org.eclipse.ui.internal.presentations.PresentablePart.setVisible(PresentablePart.java:140)</Frame>
          <Frame depth="15">org.eclipse.ui.internal.presentations.util.PresentablePartFolder.select(PresentablePartFolder.java:266)</Frame>
          <Frame depth="16">org.eclipse.ui.internal.presentations.util.LeftToRightTabOrder.select(LeftToRightTabOrder.java:65)</Frame>
          <Frame depth="17">org.eclipse.ui.internal.presentations.util.TabbedStackPresentation.selectPart(TabbedStackPresentation.java:394)</Frame>
          <Frame depth="18">org.eclipse.ui.internal.PartStack.refreshPresentationSelection(PartStack.java:1147)</Frame>
          <Frame depth="19">org.eclipse.ui.internal.PartStack.setSelection(PartStack.java:1100)</Frame>
          <Frame depth="20">org.eclipse.ui.internal.PartStack.showPart(PartStack.java:1319)</Frame>
          <Frame depth="21">org.eclipse.ui.internal.PartStack.showPart(PartStack.java:1285)</Frame>
          <Frame depth="22">org.eclipse.ui.internal.PartStack.add(PartStack.java:454)</Frame>
          <Frame depth="23">org.eclipse.ui.internal.EditorStack.add(EditorStack.java:102)</Frame>
          <Frame depth="24">org.eclipse.ui.internal.PartStack.add(PartStack.java:440)</Frame>
          <Frame depth="25">org.eclipse.ui.internal.EditorStack.add(EditorStack.java:111)</Frame>
          <Frame depth="26">org.eclipse.ui.internal.EditorSashContainer.addEditor(EditorSashContainer.java:60)</Frame>
          <Frame depth="27">org.eclipse.ui.internal.EditorAreaHelper.addToLayout(EditorAreaHelper.java:217)</Frame>
          <Frame depth="28">org.eclipse.ui.internal.EditorAreaHelper.addEditor(EditorAreaHelper.java:207)</Frame>
          <Frame depth="29">org.eclipse.ui.internal.EditorManager.createEditorTab(EditorManager.java:819)</Frame>
          <Frame depth="30">org.eclipse.ui.internal.EditorManager.openEditorFromDescriptor(EditorManager.java:718)</Frame>
          <Frame depth="31">org.eclipse.ui.internal.EditorManager.openEditor(EditorManager.java:679)</Frame>
          <Frame depth="32">org.eclipse.ui.internal.WorkbenchPage.busyOpenEditorBatched(WorkbenchPage.java:2501)</Frame>
          <Frame depth="33">org.eclipse.ui.internal.WorkbenchPage.busyOpenEditor(WorkbenchPage.java:2436)</Frame>
          <Frame depth="34">org.eclipse.ui.internal.WorkbenchPage.access$10(WorkbenchPage.java:2428)</Frame>
          <Frame depth="35">org.eclipse.ui.internal.WorkbenchPage$9.run(WorkbenchPage.java:2413)</Frame>
          <Frame depth="36">org.eclipse.swt.custom.BusyIndicator.showWhile(BusyIndicator.java:69)</Frame>
          <Frame depth="37">org.eclipse.ui.internal.WorkbenchPage.openEditor(WorkbenchPage.java:2408)</Frame>
          <Frame depth="38">org.eclipse.ui.internal.WorkbenchPage.openEditor(WorkbenchPage.java:2385)</Frame>
          <Frame depth="39">org.eclipse.mylar.internal.tasklist.ui.TaskListUiUtil.openEditor(TaskListUiUtil.java:102)</Frame>
          <Frame depth="40">org.eclipse.mylar.internal.tasklist.ui.TaskListUiUtil$1.run(TaskListUiUtil.java:91)</Frame>
          <Frame depth="41">org.eclipse.swt.widgets.RunnableLock.run(RunnableLock.java:35)</Frame>
          <Frame depth="42">org.eclipse.swt.widgets.Synchronizer.runAsyncMessages(Synchronizer.java:123)</Frame>
          <Frame depth="43">org.eclipse.swt.widgets.Display.runAsyncMessages(Display.java:3323)</Frame>
          <Frame depth="44">org.eclipse.swt.widgets.Display.readAndDispatch(Display.java:2969)</Frame>
          <Frame depth="45">org.eclipse.ui.internal.Workbench.runEventLoop(Workbench.java:1914)</Frame>
          <Frame depth="46">org.eclipse.ui.internal.Workbench.runUI(Workbench.java:1878)</Frame>
          <Frame depth="47">org.eclipse.ui.internal.Workbench.createAndRunWorkbench(Workbench.java:419)</Frame>
          <Frame depth="48">org.eclipse.ui.PlatformUI.createAndRunWorkbench(PlatformUI.java:143)</Frame>
          <Frame depth="49">org.eclipse.ui.internal.ide.IDEApplication.run(IDEApplication.java:95)</Frame>
          <Frame depth="50">org.eclipse.core.internal.runtime.PlatformActivator$1.run(PlatformActivator.java:78)</Frame>
          <Frame depth="51">org.eclipse.core.runtime.internal.adaptor.EclipseAppLauncher.runApplication(EclipseAppLauncher.java:92)</Frame>
          <Frame depth="52">org.eclipse.core.runtime.internal.adaptor.EclipseAppLauncher.start(EclipseAppLauncher.java:68)</Frame>
          <Frame depth="53">org.eclipse.core.runtime.adaptor.EclipseStarter.run(EclipseStarter.java:376)</Frame>
          <Frame depth="54">org.eclipse.core.runtime.adaptor.EclipseStarter.run(EclipseStarter.java:169)</Frame>
          <Frame depth="55">sun.reflect.NativeMethodAccessorImpl.invoke0(Native Method)</Frame>
          <Frame depth="56">sun.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:39)</Frame>
          <Frame depth="57">sun.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:25)</Frame>
          <Frame depth="58">java.lang.reflect.Method.invoke(Method.java:585)</Frame>
          <Frame depth="59">org.eclipse.core.launcher.Main.invokeFramework(Main.java:336)</Frame>
          <Frame depth="60">org.eclipse.core.launcher.Main.basicRun(Main.java:280)</Frame>
          <Frame depth="61">org.eclipse.core.launcher.Main.run(Main.java:975)</Frame>
          <Frame depth="62">org.eclipse.core.launcher.Main.main(Main.java:950)</Frame>
        </Frames>
      </Stacktrace>
      <Stacktrace timestamp="1437330688293">
        <Exception>java.io.IOException</Exception>
        <Reason>Exception while fetching the list of keywords from the server: Empty tag name</Reason>
        <Frames>
          <Frame depth="0">org.eclipse.mylar.internal.bugzilla.core.internal.BugParser.parseInput(BugParser.java:355)</Frame>
          <Frame depth="1">org.eclipse.mylar.internal.bugzilla.core.internal.BugParser.parseAttributeValue(BugParser.java:135)</Frame>
          <Frame depth="2">org.eclipse.mylar.internal.bugzilla.core.internal.BugParser.parseBug(BugParser.java:756)</Frame>
          <Frame depth="3">org.eclipse.mylar.internal.bugzilla.core.BugzillaRepositoryUtil.getBug(BugzillaRepositoryUtil.java:147)</Frame>
          <Frame depth="4">org.eclipse.mylar.internal.bugzilla.core.BugzillaRepositoryUtil.getCurrentBug(BugzillaRepositoryUtil.java:203)</Frame>
          <Frame depth="5">org.eclipse.mylar.internal.bugzilla.ui.editor.ExistingBugEditorInput.&lt;init&gt;(ExistingBugEditorInput.java:88)</Frame>
          <Frame depth="6">org.eclipse.mylar.internal.bugzilla.ui.tasklist.BugzillaTaskEditorInput.&lt;init&gt;(BugzillaTaskEditorInput.java:42)</Frame>
          <Frame depth="7">org.eclipse.mylar.internal.bugzilla.ui.tasklist.BugzillaReportEditorFactory.createEditorInput(BugzillaReportEditorFactory.java:48)</Frame>
          <Frame depth="8">org.eclipse.mylar.internal.tasklist.ui.editors.MylarTaskEditor.createPages(MylarTaskEditor.java:119)</Frame>
          <Frame depth="9">org.eclipse.ui.part.MultiPageEditorPart.createPartControl(MultiPageEditorPart.java:273)</Frame>
          <Frame depth="10">org.eclipse.ui.internal.EditorReference.createPartHelper(EditorReference.java:596)</Frame>
          <Frame depth="11">org.eclipse.ui.internal.EditorReference.createPart(EditorReference.java:372)</Frame>
        </Frames>
      </Stacktrace>
    </Stacktraces>
    <SourceCodeRegions amount="0" />
    <Enumerations amount="0" />
    <bug_status amount="RESOLVED" />
    <resolution amount="FIXED" />
    <WithStack>I just created new Bugzlla task using Mylar (latest dev build) and g the following exception after submitting it. I suppose this is when Mylar is opening editor for newly created task.

java.io.IOException: Exception while fetching the list of keywords from the server: Stream closed
at org.eclipse.mylar.internal.bugzilla.core.internal.BugParser.parseInput(BugParser.java:355)
at org.eclipse.mylar.internal.bugzilla.core.internal.BugParser.parseAttributeValue(BugParser.java:135)
at org.eclipse.mylar.internal.bugzilla.core.internal.BugParser.parseBug(BugParser.java:755)
at org.eclipse.mylar.internal.bugzilla.core.BugzillaRepositoryUtil.getBug(BugzillaRepositoryUtil.java:147)
at org.eclipse.mylar.internal.bugzilla.core.BugzillaRepositoryUtil.getCurrentBug(BugzillaRepositoryUtil.java:203)
at org.eclipse.mylar.internal.bugzilla.ui.editor.ExistingBugEditorInput.&lt;init&gt;(ExistingBugEditorInput.java:88)
at org.eclipse.mylar.internal.bugzilla.ui.tasklist.BugzillaTaskEditorInput.&lt;init&gt;(BugzillaTaskEditorInput.java:42)
at org.eclipse.mylar.internal.bugzilla.ui.tasklist.BugzillaReportEditorFactory.createEditorInput(BugzillaReportEditorFactory.java:48)
at org.eclipse.mylar.internal.tasklist.ui.editors.MylarTaskEditor.createPages(MylarTaskEditor.java:119)
at org.eclipse.ui.part.MultiPageEditorPart.createPartControl(MultiPageEditorPart.java:273)
at org.eclipse.ui.internal.EditorReference.createPartHelper(EditorReference.java:596)
at org.eclipse.ui.internal.EditorReference.createPart(EditorReference.java:372)
at org.eclipse.ui.internal.WorkbenchPartReference.getPart(WorkbenchPartReference.java:566)
at org.eclipse.ui.internal.PartPane.setVisible(PartPane.java:290)
at org.eclipse.ui.internal.presentations.PresentablePart.setVisible(PresentablePart.java:140)
at org.eclipse.ui.internal.presentations.util.PresentablePartFolder.select(PresentablePartFolder.java:266)
at org.eclipse.ui.internal.presentations.util.LeftToRightTabOrder.select(LeftToRightTabOrder.java:65)
at org.eclipse.ui.internal.presentations.util.TabbedStackPresentation.selectPart(TabbedStackPresentation.java:394)
at org.eclipse.ui.internal.PartStack.refreshPresentationSelection(PartStack.java:1147)
at org.eclipse.ui.internal.PartStack.setSelection(PartStack.java:1100)
at org.eclipse.ui.internal.PartStack.showPart(PartStack.java:1319)
at org.eclipse.ui.internal.PartStack.showPart(PartStack.java:1285)
at org.eclipse.ui.internal.PartStack.add(PartStack.java:454)
at org.eclipse.ui.internal.EditorStack.add(EditorStack.java:102)
at org.eclipse.ui.internal.PartStack.add(PartStack.java:440)
at org.eclipse.ui.internal.EditorStack.add(EditorStack.java:111)
at org.eclipse.ui.internal.EditorSashContainer.addEditor(EditorSashContainer.java:60)
at org.eclipse.ui.internal.EditorAreaHelper.addToLayout(EditorAreaHelper.java:217)
at org.eclipse.ui.internal.EditorAreaHelper.addEditor(EditorAreaHelper.java:207)
at org.eclipse.ui.internal.EditorManager.createEditorTab(EditorManager.java:819)
at org.eclipse.ui.internal.EditorManager.openEditorFromDescriptor(EditorManager.java:718)
at org.eclipse.ui.internal.EditorManager.openEditor(EditorManager.java:679)
at org.eclipse.ui.internal.WorkbenchPage.busyOpenEditorBatched(WorkbenchPage.java:2501)
at org.eclipse.ui.internal.WorkbenchPage.busyOpenEditor(WorkbenchPage.java:2436)
at org.eclipse.ui.internal.WorkbenchPage.access$10(WorkbenchPage.java:2428)
at org.eclipse.ui.internal.WorkbenchPage$9.run(WorkbenchPage.java:2413)
at org.eclipse.swt.custom.BusyIndicator.showWhile(BusyIndicator.java:69)
at org.eclipse.ui.internal.WorkbenchPage.openEditor(WorkbenchPage.java:2408)
at org.eclipse.ui.internal.WorkbenchPage.openEditor(WorkbenchPage.java:2385)
at org.eclipse.mylar.internal.tasklist.ui.TaskListUiUtil.openEditor(TaskListUiUtil.java:102)
at org.eclipse.mylar.internal.tasklist.ui.TaskListUiUtil$1.run(TaskListUiUtil.java:91)
at org.eclipse.swt.widgets.RunnableLock.run(RunnableLock.java:35)
at org.eclipse.swt.widgets.Synchronizer.runAsyncMessages(Synchronizer.java:123)
at org.eclipse.swt.widgets.Display.runAsyncMessages(Display.java:3323)
at org.eclipse.swt.widgets.Display.readAndDispatch(Display.java:2969)
at org.eclipse.ui.internal.Workbench.runEventLoop(Workbench.java:1914)
at org.eclipse.ui.internal.Workbench.runUI(Workbench.java:1878)
at org.eclipse.ui.internal.Workbench.createAndRunWorkbench(Workbench.java:419)
at org.eclipse.ui.PlatformUI.createAndRunWorkbench(PlatformUI.java:143)
at org.eclipse.ui.internal.ide.IDEApplication.run(IDEApplication.java:95)
at org.eclipse.core.internal.runtime.PlatformActivator$1.run(PlatformActivator.java:78)
at org.eclipse.core.runtime.internal.adaptor.EclipseAppLauncher.runApplication(EclipseAppLauncher.java:92)
at org.eclipse.core.runtime.internal.adaptor.EclipseAppLauncher.start(EclipseAppLauncher.java:68)
at org.eclipse.core.runtime.adaptor.EclipseStarter.run(EclipseStarter.java:376)
at org.eclipse.core.runtime.adaptor.EclipseStarter.run(EclipseStarter.java:169)
at sun.reflect.NativeMethodAccessorImpl.invoke0(Native Method)
at sun.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:39)
at sun.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:25)
at java.lang.reflect.Method.invoke(Method.java:585)
at org.eclipse.core.launcher.Main.invokeFramework(Main.java:336)
at org.eclipse.core.launcher.Main.basicRun(Main.java:280)
at org.eclipse.core.launcher.Main.run(Main.java:975)
at org.eclipse.core.launcher.Main.main(Main.java:950)
Rob: I've been getting these occasionally on submitting a new report as well.  The work-around is simply to close and open thre report gain.
This time I saw a slightly different exception.  It seems that when downloading a new report we might time out?

java.io.IOException: Exception while fetching the list of keywords from the server: Empty tag name
	at org.eclipse.mylar.internal.bugzilla.core.internal.BugParser.parseInput(BugParser.java:355)
	at org.eclipse.mylar.internal.bugzilla.core.internal.BugParser.parseAttributeValue(BugParser.java:135)
	at org.eclipse.mylar.internal.bugzilla.core.internal.BugParser.parseBug(BugParser.java:756)
	at org.eclipse.mylar.internal.bugzilla.core.BugzillaRepositoryUtil.getBug(BugzillaRepositoryUtil.java:147)
	at org.eclipse.mylar.internal.bugzilla.core.BugzillaRepositoryUtil.getCurrentBug(BugzillaRepositoryUtil.java:203)
	at org.eclipse.mylar.internal.bugzilla.ui.editor.ExistingBugEditorInput.&lt;init&gt;(ExistingBugEditorInput.java:88)
	at org.eclipse.mylar.internal.bugzilla.ui.tasklist.BugzillaTaskEditorInput.&lt;init&gt;(BugzillaTaskEditorInput.java:42)
	at org.eclipse.mylar.internal.bugzilla.ui.tasklist.BugzillaReportEditorFactory.createEditorInput(BugzillaReportEditorFactory.java:48)
	at org.eclipse.mylar.internal.tasklist.ui.editors.MylarTaskEditor.createPages(MylarTaskEditor.java:119)
	at org.eclipse.ui.part.MultiPageEditorPart.createPartControl(MultiPageEditorPart.java:273)
	at org.eclipse.ui.internal.EditorReference.createPartHelper(EditorReference.java:596)
	at org.eclipse.ui.internal.EditorReference.createPart(EditorReference.java:372)
This seems to come from the server connection being reset, not sure so we'll have to isolate, and we'll need a test case that creates a new report.  

Work-around is to double-click the report.
It looks like this may be resolved already, but leaving open so that we keep an eye on it.
We still get timeouts from the server sometimes and will need to continue streamlining that, but these IOExceptions are now gone.</WithStack>
    <WithOutStack>I just created new Bugzlla task using Mylar (latest dev build) and g the following exception after submitting it. I suppose this is when Mylar is opening editor for newly created task.

Rob: I've been getting these occasionally on submitting a new report as well.  The work-around is simply to close and open thre report gain.
This time I saw a slightly different exception.  It seems that when downloading a new report we might time out?


This seems to come from the server connection being reset, not sure so we'll have to isolate, and we'll need a test case that creates a new report.  

Work-around is to double-click the report.
It looks like this may be resolved already, but leaving open so that we keep an eye on it.
We still get timeouts from the server sometimes and will need to continue streamlining that, but these IOExceptions are now gone.</WithOutStack>
  </Bug>
  <Bug>
    <BugId amount="133887" />
    <CreationDate amount="2006-03-29 12:14:00 -0500" />
    <DupId amount="" />
    <classification amount="Eclipse" />
    <Product amount="Platform" />
    <component amount="CVS" />
    <Version amount="3.2" />
    <rep_platform amount="PC" />
    <op_sys amount="Windows XP" />
    <priority amount="P2" />
    <bug_severity amount="normal" />
    <Summery>Commit progress goes to 100 right away</Summery>
    <Patches amount="0" />
    <Stacktraces amount="0" />
    <SourceCodeRegions amount="0" />
    <Enumerations amount="0" />
    <bug_status amount="VERIFIED" />
    <resolution amount="FIXED" />
    <WithStack>When committing changes from the model sync, the progress goes to 100% right away.
Fixed
Verified</WithStack>
    <WithOutStack>When committing changes from the model sync, the progress goes to 100% right away.
Fixed
Verified</WithOutStack>
  </Bug>
  <Bug>
    <BugId amount="133888" />
    <CreationDate amount="2006-03-29 12:17:00 -0500" />
    <DupId amount="" />
    <classification amount="Eclipse" />
    <Product amount="JDT" />
    <component amount="UI" />
    <Version amount="3.2" />
    <rep_platform amount="PC" />
    <op_sys amount="Windows XP" />
    <priority amount="P3" />
    <bug_severity amount="normal" />
    <Summery>[Model Sync] Resources not removed from view</Summery>
    <Patches amount="0" />
    <Stacktraces amount="0" />
    <SourceCodeRegions amount="0" />
    <Enumerations amount="0" />
    <bug_status amount="RESOLVED" />
    <resolution amount="FIXED" />
    <WithStack>After an update or commit, the affected resources were not removed from the sync view.
Created attachment 37220
Patch to JDT/UI content provider
I didn't handle removals properly in the last patch I gave. This patch fixes that. A simple test to verify is to close a Java project that has changes in the sync view.
Released patch

Available in HEAD &gt; 20060404</WithStack>
    <WithOutStack>After an update or commit, the affected resources were not removed from the sync view.
Created attachment 37220
Patch to JDT/UI content provider
I didn't handle removals properly in the last patch I gave. This patch fixes that. A simple test to verify is to close a Java project that has changes in the sync view.
Released patch

Available in HEAD &gt; 20060404</WithOutStack>
  </Bug>
  <Bug>
    <BugId amount="133889" />
    <CreationDate amount="2006-03-29 12:27:00 -0500" />
    <DupId amount="136897" />
    <classification amount="WebTools" />
    <Product amount="WTP Java EE Tools" />
    <component amount="jst.j2ee" />
    <Version amount="1.0.1" />
    <rep_platform amount="PC" />
    <op_sys amount="Windows XP" />
    <priority amount="P3" />
    <bug_severity amount="normal" />
    <Summery>[j2ee properties] Jar files in WebContent /WEB-INF/lib and J2EE module dependancies</Summery>
    <Patches amount="0" />
    <Stacktraces amount="0" />
    <SourceCodeRegions amount="0" />
    <Enumerations amount="1">
      <Enumeration lines="3">
        <Lines>
          <Line>- framework</Line>
          <Line>- JavaSource</Line>
          <Line>- WebContent</Line>
        </Lines>
      </Enumeration>
    </Enumerations>
    <bug_status amount="CLOSED" />
    <resolution amount="DUPLICATE" />
    <WithStack>I installed Eclipse + WTP 1.0.1. I have been using WTP 0.7.1 in the past. 

When I imported my WebContent folder from CVS, I noticed that the Web App Libraries folder stayed empty. I went to "J2EE module dependancies", and I added manually the JAR files. Two of them (activation.jar and antlj.jar) triggered a dialog box error. The import of the source went well and the application worked OK with Tomcat 5.5.

I created another project, and this time it got worse. Every JAR file triggered a dialog box. I have about 50 JAR files. 

As a result, I went back to 0.7.1. I think that JAR files in the WebContent/WEB-INF/lib should be automatically recognized. I shouldn't have to go to "J2EE module dependancies" in the first place.
I think we need more information here.  What exactly is this issue?  What are the dialogs?  You should not need to add a j2ee module dependency for any JAR which is already in the web-inf/lib folder.  Perhaps the properties page should not even allow it.  Is the issue the web app container is not dynamically updated to show the libraries in web-inf/lib?  Where are they not showing up?

I do see thee working in WTP 1.0.2.  Have your tried 1.0.2?
Created attachment 37260
missing web app libraries and error message

I haven't tested it with 1.0.2, this is what I get with 1.0.1.

image 1. the initial empty project (I used the legacy JavaSource name for the src folder, I do use 1.0.1)
image 2. the same project, after the "WebContent" folder has been populated/overriden by CVS
image 3: the JAR selection screen
image 4: the error message when I add libraries "manually". Note that the web app libraries directory is suddenly populated when that message pops up
Looks like a refresh issue with the web app container.  

Kosta, can you take a look?
I need more information regarding what exactly you did to "import my WebContent folder from CVS". I am unable to reproduce the problem that you are describing. I tried dragging jars into WEB-INF/lib as well as copying jars on file system and then refreshing in eclipse. In both cases the Web App Libraries container picked up on changes. 

Note that it's invalid to try to add WEB-INF/lib jars via the J2EE module dependencies UI. The UI should probably check for that case.
I think you'd need to use CVS to reproduce this bug.

My module structure in CVS is:
  - framework
      - JavaSource
      - WebContent

I click the empty project "framework"  in Eclipse. I select File &gt; Import &gt; Checkout projects from CVS. "Use existing repository location" &gt; "Use an existing module". I open the CVS module "framework" and I select in that module the sub-module "WebContent". After that, I do "Check-out into existing project". Then I select the project "framework" as parent of target folder. I pick the "HEAD" tag and press FINISH.
I suspect that this and 136897 are dupes...

*** This bug has been marked as a duplicate of 136897 ***
This is part of a mass update to close out all stale WTP bugs which are in the resolved state without an appropriate targeted version.  If you feel this bug was closed inappropriately, please reopen.</WithStack>
    <WithOutStack>I installed Eclipse + WTP 1.0.1. I have been using WTP 0.7.1 in the past. 

When I imported my WebContent folder from CVS, I noticed that the Web App Libraries folder stayed empty. I went to "J2EE module dependancies", and I added manually the JAR files. Two of them (activation.jar and antlj.jar) triggered a dialog box error. The import of the source went well and the application worked OK with Tomcat 5.5.

I created another project, and this time it got worse. Every JAR file triggered a dialog box. I have about 50 JAR files. 

As a result, I went back to 0.7.1. I think that JAR files in the WebContent/WEB-INF/lib should be automatically recognized. I shouldn't have to go to "J2EE module dependancies" in the first place.
I think we need more information here.  What exactly is this issue?  What are the dialogs?  You should not need to add a j2ee module dependency for any JAR which is already in the web-inf/lib folder.  Perhaps the properties page should not even allow it.  Is the issue the web app container is not dynamically updated to show the libraries in web-inf/lib?  Where are they not showing up?

I do see thee working in WTP 1.0.2.  Have your tried 1.0.2?
Created attachment 37260
missing web app libraries and error message

I haven't tested it with 1.0.2, this is what I get with 1.0.1.

image 1. the initial empty project (I used the legacy JavaSource name for the src folder, I do use 1.0.1)
image 2. the same project, after the "WebContent" folder has been populated/overriden by CVS
image 3: the JAR selection screen
image 4: the error message when I add libraries "manually". Note that the web app libraries directory is suddenly populated when that message pops up
Looks like a refresh issue with the web app container.  

Kosta, can you take a look?
I need more information regarding what exactly you did to "import my WebContent folder from CVS". I am unable to reproduce the problem that you are describing. I tried dragging jars into WEB-INF/lib as well as copying jars on file system and then refreshing in eclipse. In both cases the Web App Libraries container picked up on changes. 

Note that it's invalid to try to add WEB-INF/lib jars via the J2EE module dependencies UI. The UI should probably check for that case.
I think you'd need to use CVS to reproduce this bug.

My module structure in CVS is:
  - framework
      - JavaSource
      - WebContent

I click the empty project "framework"  in Eclipse. I select File &gt; Import &gt; Checkout projects from CVS. "Use existing repository location" &gt; "Use an existing module". I open the CVS module "framework" and I select in that module the sub-module "WebContent". After that, I do "Check-out into existing project". Then I select the project "framework" as parent of target folder. I pick the "HEAD" tag and press FINISH.
I suspect that this and 136897 are dupes...

*** This bug has been marked as a duplicate of 136897 ***
This is part of a mass update to close out all stale WTP bugs which are in the resolved state without an appropriate targeted version.  If you feel this bug was closed inappropriately, please reopen.</WithOutStack>
  </Bug>
  <Bug>
    <BugId amount="133890" />
    <CreationDate amount="2006-03-29 12:31:00 -0500" />
    <DupId amount="" />
    <classification amount="Modeling" />
    <Product amount="EMF" />
    <component amount="Query" />
    <Version amount="unspecified" />
    <rep_platform amount="PC" />
    <op_sys amount="Linux" />
    <priority amount="P2" />
    <bug_severity amount="major" />
    <Summery>Cannot legally execute SELECT statements</Summery>
    <Patches amount="0" />
    <Stacktraces amount="0" />
    <SourceCodeRegions amount="0" />
    <Enumerations amount="0" />
    <bug_status amount="VERIFIED" />
    <resolution amount="FIXED" />
    <WithStack>I can create a SELECT statement object because the SELECT class is not in an internal package.  However, if I attempt to execute it, I get a warning from the JDT compiler telling me that access to the QueryStatement.execute() method is discouraged, because QueryStatement is in an internal package.

Either QueryStatement must not be internal, or SELECT must redefine all of the public methods of the QueryStatement class to just call super().

I am indicating a major severity because it is not possible to use this API in an environment that enforces internal access violations.
Redefines the three public methods in SELECT class (execute, getEObjects and resume) and made them final. These methods delegate to the super.
Move to verified as per bug 206558.</WithStack>
    <WithOutStack>I can create a SELECT statement object because the SELECT class is not in an internal package.  However, if I attempt to execute it, I get a warning from the JDT compiler telling me that access to the QueryStatement.execute() method is discouraged, because QueryStatement is in an internal package.

Either QueryStatement must not be internal, or SELECT must redefine all of the public methods of the QueryStatement class to just call super().

I am indicating a major severity because it is not possible to use this API in an environment that enforces internal access violations.
Redefines the three public methods in SELECT class (execute, getEObjects and resume) and made them final. These methods delegate to the super.
Move to verified as per bug 206558.</WithOutStack>
  </Bug>
  <Bug>
    <BugId amount="133891" />
    <CreationDate amount="2006-03-29 12:31:00 -0500" />
    <DupId amount="" />
    <classification amount="Eclipse" />
    <Product amount="JDT" />
    <component amount="UI" />
    <Version amount="3.2" />
    <rep_platform amount="PC" />
    <op_sys amount="Windows XP" />
    <priority amount="P3" />
    <bug_severity amount="normal" />
    <Summery>[extract superclass] should also work on types without methods</Summery>
    <Patches amount="0" />
    <Stacktraces amount="0" />
    <SourceCodeRegions amount="6">
      <source_code type="package">
        <location start="43" end="59" />
        <code>package a.b.c.d;</code>
      </source_code>
      <source_code type="class">
        <location start="61" end="110" />
        <code>public class JavaEditorTests extends TestCase {
}</code>
      </source_code>
      <source_code type="package">
        <location start="115" end="131" />
        <code>package a.b.c.d;</code>
      </source_code>
      <source_code type="class">
        <location start="133" end="189" />
        <code>public class PropertiesEditorTests extends TestCase {

}</code>
      </source_code>
      <source_code type="package">
        <location start="195" end="211" />
        <code>package a.b.c.d;</code>
      </source_code>
      <source_code type="class">
        <location start="213" end="239" />
        <code>public class TestCase {

}</code>
      </source_code>
    </SourceCodeRegions>
    <Enumerations amount="1">
      <Enumeration lines="3">
        <Lines>
          <Line>- open refactoring menu on 'JavaEditorTests'. Create superclass is not available.</Line>
          <Line>- add a method to 'JavaEditorTests'</Line>
          <Line>now 'extract superclass' is available</Line>
        </Lines>
      </Enumeration>
    </Enumerations>
    <bug_status amount="RESOLVED" />
    <resolution amount="FIXED" />
    <WithStack>20060329

create the folloing classes:
---
package a.b.c.d;

public class JavaEditorTests extends TestCase {
}
---
package a.b.c.d;

public class PropertiesEditorTests extends TestCase {

}
----
package a.b.c.d;

public class TestCase {

}

- open refactoring menu on 'JavaEditorTests'. Create superclass is not available.
- add a method to 'JavaEditorTests'
  now 'extract superclass' is available

I think methods shouldn't be required for this refactoring

Note that it is required to change the selection in the package explorer. Some state seems to be cached.
Fixed in HEAD &gt; 20060404</WithStack>
    <WithOutStack>20060329

create the folloing classes:
---
package a.b.c.d;

public class JavaEditorTests extends TestCase {
}
---
package a.b.c.d;

public class PropertiesEditorTests extends TestCase {

}
----
package a.b.c.d;

public class TestCase {

}

- open refactoring menu on 'JavaEditorTests'. Create superclass is not available.
- add a method to 'JavaEditorTests'
  now 'extract superclass' is available

I think methods shouldn't be required for this refactoring

Note that it is required to change the selection in the package explorer. Some state seems to be cached.
Fixed in HEAD &gt; 20060404</WithOutStack>
  </Bug>
  <Bug>
    <BugId amount="133892" />
    <CreationDate amount="2006-03-29 12:31:00 -0500" />
    <DupId amount="134090" />
    <classification amount="Eclipse" />
    <Product amount="JDT" />
    <component amount="UI" />
    <Version amount="3.2" />
    <rep_platform amount="PC" />
    <op_sys amount="Windows XP" />
    <priority amount="P3" />
    <bug_severity amount="normal" />
    <Summery>Library icon is not updated when source is attached or dettached</Summery>
    <Patches amount="0" />
    <Stacktraces amount="0" />
    <SourceCodeRegions amount="0" />
    <Enumerations amount="1">
      <Enumeration lines="13">
        <Lines>
          <Line>1. download I20060330-0010 Eclipse SDK from eclipse.org</Line>
          <Line>2. install</Line>
          <Line>3. start with a fresh workspace</Line>
          <Line>4. create a Java project 'P'</Line>
          <Line>5. in the Package Explorer expand 'P'</Line>
          <Line>6. take a look at rt.jar icon (it either has the little indicator that there's</Line>
          <Line>source or it does not (depending on your install)</Line>
          <Line>7. if there's source attached remove it otherwise add it</Line>
          <Line>==&gt; icon still the same.</Line>
          <Line>8. exit</Line>
          <Line>9. start again</Line>
          <Line>10. in the Package Explorer expand 'P'</Line>
          <Line>==&gt; icon now changed</Line>
        </Lines>
      </Enumeration>
    </Enumerations>
    <bug_status amount="RESOLVED" />
    <resolution amount="DUPLICATE" />
    <WithStack>I20060329-0010 + plug-in export.

Library icon is not updated when source is attached or dettached
Please give steps.
1. download I20060330-0010 Eclipse SDK from eclipse.org
2. install
3. start with a fresh workspace
4. create a Java project 'P'
5. in the Package Explorer expand 'P'
6. take a look at rt.jar icon (it either has the little indicator that there's
   source or it does not (depending on your install)
7. if there's source attached remove it otherwise add it
==&gt; icon still the same.
8. exit
9. start again
10. in the Package Explorer expand 'P'
==&gt; icon now changed


*** This bug has been marked as a duplicate of 134090 ***</WithStack>
    <WithOutStack>I20060329-0010 + plug-in export.

Library icon is not updated when source is attached or dettached
Please give steps.
1. download I20060330-0010 Eclipse SDK from eclipse.org
2. install
3. start with a fresh workspace
4. create a Java project 'P'
5. in the Package Explorer expand 'P'
6. take a look at rt.jar icon (it either has the little indicator that there's
   source or it does not (depending on your install)
7. if there's source attached remove it otherwise add it
==&gt; icon still the same.
8. exit
9. start again
10. in the Package Explorer expand 'P'
==&gt; icon now changed


*** This bug has been marked as a duplicate of 134090 ***</WithOutStack>
  </Bug>
  <Bug>
    <BugId amount="133893" />
    <CreationDate amount="2006-03-29 12:33:00 -0500" />
    <DupId amount="" />
    <classification amount="Eclipse" />
    <Product amount="JDT" />
    <component amount="UI" />
    <Version amount="3.2" />
    <rep_platform amount="PC" />
    <op_sys amount="Windows XP" />
    <priority amount="P3" />
    <bug_severity amount="normal" />
    <Summery>[categories filter] wrong filtering with multiple categories</Summery>
    <Patches amount="0" />
    <Stacktraces amount="0" />
    <SourceCodeRegions amount="3">
      <source_code type="package">
        <location start="39" end="53" />
        <code>package other;</code>
      </source_code>
      <source_code type="multicomment">
        <location start="54" end="79" />
        <code>/**
 * @category API
 */</code>
      </source_code>
      <source_code type="class">
        <location start="80" end="345" />
        <code>public abstract class Controller {

	/**
	 * @category internal
	 */
	private int value;
	
	/**
	 * @category API getter
	 */
	public int getValue() {
		return value;
	}
	
	/**
	 * @category setter
	 */
	public void setValue(int value) {
		this.value= value;
	}
	
}</code>
      </source_code>
    </SourceCodeRegions>
    <Enumerations amount="1">
      <Enumeration lines="3">
        <Lines>
          <Line>- in the outline disable all categories except 'API'</Line>
          <Line>- this only leaves back the type. However also 'getValue' should show up</Line>
          <Line>fixed &gt; I20060330-2000</Line>
        </Lines>
      </Enumeration>
    </Enumerations>
    <bug_status amount="RESOLVED" />
    <resolution amount="FIXED" />
    <WithStack>20060329

- create the folloing class:
package other;

/**
 * @category API
 */
public abstract class Controller {

	/**
	 * @category internal
	 */
	private int value;
	
	/**
	 * @category API getter
	 */
	public int getValue() {
		return value;
	}
	
	/**
	 * @category setter
	 */
	public void setValue(int value) {
		this.value= value;
	}
	
}
- in the outline disable all categories except 'API'
- this only leaves back the type. However also 'getValue' should show up
fixed &gt; I20060330-2000</WithStack>
    <WithOutStack>20060329

- create the folloing class:
package other;

/**
 * @category API
 */
public abstract class Controller {

	/**
	 * @category internal
	 */
	private int value;
	
	/**
	 * @category API getter
	 */
	public int getValue() {
		return value;
	}
	
	/**
	 * @category setter
	 */
	public void setValue(int value) {
		this.value= value;
	}
	
}
- in the outline disable all categories except 'API'
- this only leaves back the type. However also 'getValue' should show up
fixed &gt; I20060330-2000</WithOutStack>
  </Bug>
  <Bug>
    <BugId amount="133894" />
    <CreationDate amount="2006-03-29 12:34:00 -0500" />
    <DupId amount="" />
    <classification amount="WebTools" />
    <Product amount="WTP Java EE Tools" />
    <component amount="jst.j2ee" />
    <Version amount="1.0.1" />
    <rep_platform amount="PC" />
    <op_sys amount="Windows XP" />
    <priority amount="P3" />
    <bug_severity amount="normal" />
    <Summery>[project creation] Renaming of JavaSource to src is not a good idea</Summery>
    <Patches amount="0" />
    <Stacktraces amount="0" />
    <SourceCodeRegions amount="0" />
    <Enumerations amount="0" />
    <bug_status amount="NEW" />
    <resolution amount="" />
    <WithStack>In WTP 1.0.1, you renamed the JavaSource folder to src. I agree that "src" is more of a standard than "JavaSource", so it seemed like a good idea at first

Well, it is not such a good idea. Eclipse beling linked to CVS, it is used to manage other "src" files than Java source files. For example, I use to store my Photoshop (psp) source files inside my projects. Until now, I had a folder called "NonJavaSource", with a "psp" sub-folder. If you do want to have a "src" folder, it would make more sense to have a "src" folder and have a "java" folder under it.

The same thing goes for your ".deployable" folder. It was a good idea to change the name, because Windows doesn't like folder names starting with a dot. However, the "build" folder is commonly used to store the ant script, or any script to build the program. I would suggest a better name such as "stage" or "staging".
Moving to jst.j2ee
Hi - 

The Java source folder is configurable on the third page of the Web Project wizard, and can be changed after creation as well.  This is just a default, and we understand other structures may be better suited for different environments.
We are working on making most of these settings "sticky", and remembering per workspace the last default used.

The concept of the ".deployables" beng used as a staging areas for the assembled war/j2ee artifacts has been removed since 0.7  (The assembly is now in the server metadata area outside the workspace if needed).  We now simply have a default java output location, and we chose "build/classes" 


I do see the advantage of always using the default settings in the Java preference page.
Java - BuildPath - source file name and output file name.

Kosta - adding you to the cc list, do you agree should start using this existing
preference?
I would really like if the workspace could remember my "JavaSource" naming preference.

Just a note, not sure whether it belongs here, but I preferred the concept of "deployable" folder. 

In the past, I could just take the deployables folder, copy it in another directory, modify 2 or 3 files if needed for deployment, zip it as a war file, and release it. No need to have fancy "ant" configurations, or merge manually several directories.

I am sure geting rid of the deployables folder has other benefits but since the build directory contains only classes, I have to manually copy those classes into the WebContent/classes directory when I prepare a war archive. That's one more step.



I think it makes sense to respect the default values specified in Java -&gt; Build Path preference page with one exception. In a new workspace, the default value is to use project root as src dir and classes dir. That initial setting makes not sense for us. I don't even know if that would work because WebContent would be nested beneath java source dir. To workaround this, we could use "src" if project root is specified. We should also check for src / webcontent overalap.

Ultimately, we should add ability to configure the classes output directory on project creation like we do for source directory.</WithStack>
    <WithOutStack>In WTP 1.0.1, you renamed the JavaSource folder to src. I agree that "src" is more of a standard than "JavaSource", so it seemed like a good idea at first

Well, it is not such a good idea. Eclipse beling linked to CVS, it is used to manage other "src" files than Java source files. For example, I use to store my Photoshop (psp) source files inside my projects. Until now, I had a folder called "NonJavaSource", with a "psp" sub-folder. If you do want to have a "src" folder, it would make more sense to have a "src" folder and have a "java" folder under it.

The same thing goes for your ".deployable" folder. It was a good idea to change the name, because Windows doesn't like folder names starting with a dot. However, the "build" folder is commonly used to store the ant script, or any script to build the program. I would suggest a better name such as "stage" or "staging".
Moving to jst.j2ee
Hi - 

The Java source folder is configurable on the third page of the Web Project wizard, and can be changed after creation as well.  This is just a default, and we understand other structures may be better suited for different environments.
We are working on making most of these settings "sticky", and remembering per workspace the last default used.

The concept of the ".deployables" beng used as a staging areas for the assembled war/j2ee artifacts has been removed since 0.7  (The assembly is now in the server metadata area outside the workspace if needed).  We now simply have a default java output location, and we chose "build/classes" 


I do see the advantage of always using the default settings in the Java preference page.
Java - BuildPath - source file name and output file name.

Kosta - adding you to the cc list, do you agree should start using this existing
preference?
I would really like if the workspace could remember my "JavaSource" naming preference.

Just a note, not sure whether it belongs here, but I preferred the concept of "deployable" folder. 

In the past, I could just take the deployables folder, copy it in another directory, modify 2 or 3 files if needed for deployment, zip it as a war file, and release it. No need to have fancy "ant" configurations, or merge manually several directories.

I am sure geting rid of the deployables folder has other benefits but since the build directory contains only classes, I have to manually copy those classes into the WebContent/classes directory when I prepare a war archive. That's one more step.



I think it makes sense to respect the default values specified in Java -&gt; Build Path preference page with one exception. In a new workspace, the default value is to use project root as src dir and classes dir. That initial setting makes not sense for us. I don't even know if that would work because WebContent would be nested beneath java source dir. To workaround this, we could use "src" if project root is specified. We should also check for src / webcontent overalap.

Ultimately, we should add ability to configure the classes output directory on project creation like we do for source directory.</WithOutStack>
  </Bug>
  <Bug>
    <BugId amount="133895" />
    <CreationDate amount="2006-03-29 12:34:00 -0500" />
    <DupId amount="124264" />
    <classification amount="Eclipse" />
    <Product amount="Platform" />
    <component amount="Text" />
    <Version amount="3.2" />
    <rep_platform amount="PC" />
    <op_sys amount="Windows XP" />
    <priority amount="P3" />
    <bug_severity amount="normal" />
    <Summery>[typing] Stale editor after ProjectionTextStore.internalError</Summery>
    <Patches amount="0" />
    <Stacktraces amount="1">
      <Stacktrace timestamp="1437330688309">
        <Exception>java.lang.IllegalStateException</Exception>
        <Reason />
        <Frames>
          <Frame depth="0">org.eclipse.jface.text.projection.ProjectionTextStore.internalError(ProjectionTextStore.java:85)</Frame>
          <Frame depth="1">org.eclipse.jface.text.projection.ProjectionTextStore.get(ProjectionTextStore.java:152)</Frame>
          <Frame depth="2">org.eclipse.jface.text.AbstractDocument.get(AbstractDocument.java:997)</Frame>
          <Frame depth="3">org.eclipse.jface.text.DefaultDocumentAdapter.doGetLine(DefaultDocumentAdapter.java:145)</Frame>
          <Frame depth="4">org.eclipse.jface.text.DefaultDocumentAdapter.getLine(DefaultDocumentAdapter.java:168)</Frame>
          <Frame depth="5">org.eclipse.swt.custom.StyledTextRenderer.getTextLayout(StyledTextRenderer.java:727)</Frame>
          <Frame depth="6">org.eclipse.swt.custom.StyledTextRenderer.getTextLayout(StyledTextRenderer.java:673)</Frame>
          <Frame depth="7">org.eclipse.swt.custom.StyledTextRenderer.calculate(StyledTextRenderer.java:200)</Frame>
          <Frame depth="8">org.eclipse.swt.custom.StyledTextRenderer.getLineHeight(StyledTextRenderer.java:539)</Frame>
          <Frame depth="9">org.eclipse.swt.custom.StyledText.getOffsetAtLocation(StyledText.java:3738)</Frame>
          <Frame depth="10">org.eclipse.jface.text.source.CompositeRuler.toDocumentLineNumber(CompositeRuler.java:738)</Frame>
          <Frame depth="11">org.eclipse.jface.text.source.AnnotationRulerColumn.toDocumentLineNumber(AnnotationRulerColumn.java:859)</Frame>
          <Frame depth="12">org.eclipse.jface.text.source.AnnotationRulerColumn.handleMouseMove(AnnotationRulerColumn.java:398)</Frame>
          <Frame depth="13">org.eclipse.jface.text.source.AnnotationRulerColumn.access$8(AnnotationRulerColumn.java:396)</Frame>
          <Frame depth="14">org.eclipse.jface.text.source.AnnotationRulerColumn$4.mouseMove(AnnotationRulerColumn.java:332)</Frame>
          <Frame depth="15">org.eclipse.swt.widgets.TypedListener.handleEvent(TypedListener.java:145)</Frame>
          <Frame depth="16">org.eclipse.swt.widgets.EventTable.sendEvent(EventTable.java:66)</Frame>
          <Frame depth="17">org.eclipse.swt.widgets.Widget.sendEvent(Widget.java:925)</Frame>
          <Frame depth="18">org.eclipse.swt.widgets.Display.runDeferredEvents(Display.java:3287)</Frame>
          <Frame depth="19">org.eclipse.swt.widgets.Display.readAndDispatch(Display.java:2907)</Frame>
          <Frame depth="20">org.eclipse.ui.internal.Workbench.runEventLoop(Workbench.java:1899)</Frame>
          <Frame depth="21">org.eclipse.ui.internal.Workbench.runUI(Workbench.java:1863)</Frame>
          <Frame depth="22">org.eclipse.ui.internal.Workbench.createAndRunWorkbench(Workbench.java:417)</Frame>
          <Frame depth="23">org.eclipse.ui.PlatformUI.createAndRunWorkbench(PlatformUI.java:143)</Frame>
          <Frame depth="24">org.eclipse.ui.internal.ide.IDEApplication.run(IDEApplication.java:106)</Frame>
          <Frame depth="25">org.eclipse.core.internal.runtime.PlatformActivator$1.run(PlatformActivator.java:99)</Frame>
          <Frame depth="26">org.eclipse.core.runtime.internal.adaptor.EclipseAppLauncher.runApplication(EclipseAppLauncher.java:92)</Frame>
          <Frame depth="27">org.eclipse.core.runtime.internal.adaptor.EclipseAppLauncher.start(EclipseAppLauncher.java:68)</Frame>
          <Frame depth="28">org.eclipse.core.runtime.adaptor.EclipseStarter.run(EclipseStarter.java:374)</Frame>
          <Frame depth="29">org.eclipse.core.runtime.adaptor.EclipseStarter.run(EclipseStarter.java:169)</Frame>
          <Frame depth="30">sun.reflect.NativeMethodAccessorImpl.invoke0(Native Method)</Frame>
          <Frame depth="31">sun.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:39)</Frame>
          <Frame depth="32">sun.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:25)</Frame>
          <Frame depth="33">java.lang.reflect.Method.invoke(Method.java:585)</Frame>
          <Frame depth="34">org.eclipse.core.launcher.Main.invokeFramework(Main.java:338)</Frame>
          <Frame depth="35">org.eclipse.core.launcher.Main.basicRun(Main.java:282)</Frame>
          <Frame depth="36">org.eclipse.core.launcher.Main.run(Main.java:977)</Frame>
          <Frame depth="37">org.eclipse.core.launcher.Main.main(Main.java:952)</Frame>
        </Frames>
      </Stacktrace>
    </Stacktraces>
    <SourceCodeRegions amount="0" />
    <Enumerations amount="0" />
    <bug_status amount="RESOLVED" />
    <resolution amount="DUPLICATE" />
    <WithStack>I20060217-1115

No steps to reproduce:

While pasting code I got the following exception:

java.lang.IllegalStateException
	at org.eclipse.jface.text.projection.ProjectionTextStore.internalError(ProjectionTextStore.java:85)
	at org.eclipse.jface.text.projection.ProjectionTextStore.get(ProjectionTextStore.java:152)
	at org.eclipse.jface.text.AbstractDocument.get(AbstractDocument.java:997)
	at org.eclipse.jface.text.DefaultDocumentAdapter.doGetLine(DefaultDocumentAdapter.java:145)
	at org.eclipse.jface.text.DefaultDocumentAdapter.getLine(DefaultDocumentAdapter.java:168)
	at org.eclipse.swt.custom.StyledTextRenderer.getTextLayout(StyledTextRenderer.java:727)
	at org.eclipse.swt.custom.StyledTextRenderer.getTextLayout(StyledTextRenderer.java:673)
	at org.eclipse.swt.custom.StyledTextRenderer.calculate(StyledTextRenderer.java:200)
	at org.eclipse.swt.custom.StyledTextRenderer.getLineHeight(StyledTextRenderer.java:539)
	at org.eclipse.swt.custom.StyledText.getOffsetAtLocation(StyledText.java:3738)
	at org.eclipse.jface.text.source.CompositeRuler.toDocumentLineNumber(CompositeRuler.java:738)
	at org.eclipse.jface.text.source.AnnotationRulerColumn.toDocumentLineNumber(AnnotationRulerColumn.java:859)
	at org.eclipse.jface.text.source.AnnotationRulerColumn.handleMouseMove(AnnotationRulerColumn.java:398)
	at org.eclipse.jface.text.source.AnnotationRulerColumn.access$8(AnnotationRulerColumn.java:396)
	at org.eclipse.jface.text.source.AnnotationRulerColumn$4.mouseMove(AnnotationRulerColumn.java:332)
	at org.eclipse.swt.widgets.TypedListener.handleEvent(TypedListener.java:145)
	at org.eclipse.swt.widgets.EventTable.sendEvent(EventTable.java:66)
	at org.eclipse.swt.widgets.Widget.sendEvent(Widget.java:925)
	at org.eclipse.swt.widgets.Display.runDeferredEvents(Display.java:3287)
	at org.eclipse.swt.widgets.Display.readAndDispatch(Display.java:2907)
	at org.eclipse.ui.internal.Workbench.runEventLoop(Workbench.java:1899)
	at org.eclipse.ui.internal.Workbench.runUI(Workbench.java:1863)
	at org.eclipse.ui.internal.Workbench.createAndRunWorkbench(Workbench.java:417)
	at org.eclipse.ui.PlatformUI.createAndRunWorkbench(PlatformUI.java:143)
	at org.eclipse.ui.internal.ide.IDEApplication.run(IDEApplication.java:106)
	at org.eclipse.core.internal.runtime.PlatformActivator$1.run(PlatformActivator.java:99)
	at org.eclipse.core.runtime.internal.adaptor.EclipseAppLauncher.runApplication(EclipseAppLauncher.java:92)
	at org.eclipse.core.runtime.internal.adaptor.EclipseAppLauncher.start(EclipseAppLauncher.java:68)
	at org.eclipse.core.runtime.adaptor.EclipseStarter.run(EclipseStarter.java:374)
	at org.eclipse.core.runtime.adaptor.EclipseStarter.run(EclipseStarter.java:169)
	at sun.reflect.NativeMethodAccessorImpl.invoke0(Native Method)
	at sun.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:39)
	at sun.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:25)
	at java.lang.reflect.Method.invoke(Method.java:585)
	at org.eclipse.core.launcher.Main.invokeFramework(Main.java:338)
	at org.eclipse.core.launcher.Main.basicRun(Main.java:282)
	at org.eclipse.core.launcher.Main.run(Main.java:977)
	at org.eclipse.core.launcher.Main.main(Main.java:952)

After this the editor went stale and the only way to recover was closing the editor without saving my changes.
Which editor?
Was this the only exception or did you have something along bug 108776?
Java editor.

The only exception, but showed up several times.


*** This bug has been marked as a duplicate of 124264 ***</WithStack>
    <WithOutStack>I20060217-1115

No steps to reproduce:

While pasting code I got the following exception:



After this the editor went stale and the only way to recover was closing the editor without saving my changes.
Which editor?
Was this the only exception or did you have something along bug 108776?
Java editor.

The only exception, but showed up several times.


*** This bug has been marked as a duplicate of 124264 ***</WithOutStack>
  </Bug>
  <Bug>
    <BugId amount="133896" />
    <CreationDate amount="2006-03-29 12:48:00 -0500" />
    <DupId amount="" />
    <classification amount="Eclipse" />
    <Product amount="Platform" />
    <component amount="UI" />
    <Version amount="3.2" />
    <rep_platform amount="PC" />
    <op_sys amount="Windows XP" />
    <priority amount="P3" />
    <bug_severity amount="normal" />
    <Summery>[DataBinding] TableModelDescription Needs Enhancement</Summery>
    <Patches amount="0" />
    <Stacktraces amount="0" />
    <SourceCodeRegions amount="0" />
    <Enumerations amount="1">
      <Enumeration lines="5">
        <Lines>
          <Line>1. TableModelDescription does not support binding to an existing IObservableList.  The attached patch address this by adding an alterative contructor taking an IObservableList and a Array of Strings for columns.  The patch also includes changes to the ViewersBindingFactory to use this supplied IObservableList instead of attempting to create one from the Property value on the TableModelDescription.</Line>
          <Line />
          <Line>2. Binding a viewer to a collection of objects used to default to using each object's toString() method to determine the row label.  The implementation on HEAD wants to bind a IObservableCollectionWithLabels (the observable for viewers) to a IObservableMultiMappingWithDomain.  Attempting to bind to a IObservableList generates an exception.  One solution is to wrap the IObservableList in a TableModelDescription which will then generate a IObservableMultiMappingWithDomain when createObservable() is called.  This is more verbose than I think the solution should be.  Attached is a patch which defaultly creates a JavaBeanObservableMultiMapping from the IObservableList and specifies one column based on the toString() method of its objects.  This reimplements the previous behavior when binding collections to viewers with one column.</Line>
          <Line>Created attachment 37219</Line>
          <Line>Patch</Line>
        </Lines>
      </Enumeration>
    </Enumerations>
    <bug_status amount="RESOLVED" />
    <resolution amount="FIXED" />
    <WithStack>In moving to latest JFace data binding code on HEAD, I found two issues with the refactored table and collection binding support.  

1. TableModelDescription does not support binding to an existing IObservableList.  The attached patch address this by adding an alterative contructor taking an IObservableList and a Array of Strings for columns.  The patch also includes changes to the ViewersBindingFactory to use this supplied IObservableList instead of attempting to create one from the Property value on the TableModelDescription.

2. Binding a viewer to a collection of objects used to default to using each object's toString() method to determine the row label.  The implementation on HEAD wants to bind a IObservableCollectionWithLabels (the observable for viewers) to a IObservableMultiMappingWithDomain.  Attempting to bind to a IObservableList generates an exception.  One solution is to wrap the IObservableList in a TableModelDescription which will then generate a IObservableMultiMappingWithDomain when createObservable() is called.  This is more verbose than I think the solution should be.  Attached is a patch which defaultly creates a JavaBeanObservableMultiMapping from the IObservableList and specifies one column based on the toString() method of its objects.  This reimplements the previous behavior when binding collections to viewers with one column.
Created attachment 37219
Patch

Patches TableModelDescription and ViewersBindingFactory.
Looks good.  Committed &gt; HEAD 20060329
Milestone was missing.</WithStack>
    <WithOutStack>In moving to latest JFace data binding code on HEAD, I found two issues with the refactored table and collection binding support.  

1. TableModelDescription does not support binding to an existing IObservableList.  The attached patch address this by adding an alterative contructor taking an IObservableList and a Array of Strings for columns.  The patch also includes changes to the ViewersBindingFactory to use this supplied IObservableList instead of attempting to create one from the Property value on the TableModelDescription.

2. Binding a viewer to a collection of objects used to default to using each object's toString() method to determine the row label.  The implementation on HEAD wants to bind a IObservableCollectionWithLabels (the observable for viewers) to a IObservableMultiMappingWithDomain.  Attempting to bind to a IObservableList generates an exception.  One solution is to wrap the IObservableList in a TableModelDescription which will then generate a IObservableMultiMappingWithDomain when createObservable() is called.  This is more verbose than I think the solution should be.  Attached is a patch which defaultly creates a JavaBeanObservableMultiMapping from the IObservableList and specifies one column based on the toString() method of its objects.  This reimplements the previous behavior when binding collections to viewers with one column.
Created attachment 37219
Patch

Patches TableModelDescription and ViewersBindingFactory.
Looks good.  Committed &gt; HEAD 20060329
Milestone was missing.</WithOutStack>
  </Bug>
  <Bug>
    <BugId amount="133897" />
    <CreationDate amount="2006-03-29 13:08:00 -0500" />
    <DupId amount="" />
    <classification amount="Eclipse" />
    <Product amount="PDE" />
    <component amount="UI" />
    <Version amount="3.2" />
    <rep_platform amount="All" />
    <op_sys amount="All" />
    <priority amount="P3" />
    <bug_severity amount="normal" />
    <Summery>Externalize Strings wizard misses some headers</Summery>
    <Patches amount="0" />
    <Stacktraces amount="0" />
    <SourceCodeRegions amount="0" />
    <Enumerations amount="0" />
    <bug_status amount="VERIFIED" />
    <resolution amount="FIXED" />
    <WithStack>While the BundleErrorReporter catches non-externalized Constants.BUNDLE_DESCRIPTION, Constants.BUNDLE_COPYRIGHT headers, the Externalize Strings wizard does not.  Update the wizard to handle these headers.
Fixed</WithStack>
    <WithOutStack>While the BundleErrorReporter catches non-externalized Constants.BUNDLE_DESCRIPTION, Constants.BUNDLE_COPYRIGHT headers, the Externalize Strings wizard does not.  Update the wizard to handle these headers.
Fixed</WithOutStack>
  </Bug>
  <Bug>
    <BugId amount="133898" />
    <CreationDate amount="2006-03-29 13:21:00 -0500" />
    <DupId amount="" />
    <classification amount="Tools" />
    <Product amount="AspectJ" />
    <component amount="Compiler" />
    <Version amount="1.5.0" />
    <rep_platform amount="PC" />
    <op_sys amount="Windows XP" />
    <priority amount="P3" />
    <bug_severity amount="normal" />
    <Summery>Exception occasionally thrown when building project</Summery>
    <Patches amount="0" />
    <Stacktraces amount="1">
      <Stacktrace timestamp="1437330688309">
        <Exception>java.lang.RuntimeException</Exception>
        <Reason />
        <Frames>
          <Frame depth="0">org.aspectj.weaver.WeaverStateInfo.read(WeaverStateInfo.java:142)</Frame>
          <Frame depth="1">org.aspectj.weaver.AjAttribute.read(AjAttribute.java:98)</Frame>
          <Frame depth="2">org.aspectj.weaver.bcel.BcelAttributes.readAjAttributes(BcelAttributes.java:59)</Frame>
          <Frame depth="3">org.aspectj.weaver.bcel.BcelObjectType.unpackAspectAttributes(BcelObjectType.java:273)</Frame>
          <Frame depth="4">org.aspectj.weaver.bcel.BcelObjectType.&lt;init&gt;(BcelObjectType.java:134)</Frame>
          <Frame depth="5">org.aspectj.weaver.bcel.BcelWorld.makeBcelObjectType(BcelWorld.java:257)</Frame>
          <Frame depth="6">org.aspectj.weaver.bcel.BcelWorld.addSourceObjectType(BcelWorld.java:314)</Frame>
          <Frame depth="7">org.aspectj.weaver.bcel.BcelWeaver.addIfAspect(BcelWeaver.java:256)</Frame>
          <Frame depth="8">org.aspectj.weaver.bcel.BcelWeaver.addAspectsFromDirectory(BcelWeaver.java:248)</Frame>
          <Frame depth="9">org.aspectj.weaver.bcel.BcelWeaver.addLibraryJarFile(BcelWeaver.java:198)</Frame>
          <Frame depth="10">org.aspectj.ajdt.internal.core.builder.AjBuildManager.initBcelWorld(AjBuildManager.java:623)</Frame>
          <Frame depth="11">org.aspectj.ajdt.internal.core.builder.AjBuildManager.doBuild(AjBuildManager.java:209)</Frame>
          <Frame depth="12">org.aspectj.ajdt.internal.core.builder.AjBuildManager.doBuild(AjBuildManager.java:185)</Frame>
          <Frame depth="13">org.aspectj.ajdt.internal.core.builder.AjBuildManager.incrementalBuild(AjBuildManager.java:163)</Frame>
          <Frame depth="14">org.aspectj.ajde.internal.CompilerAdapter.compile(CompilerAdapter.java:117)</Frame>
          <Frame depth="15">org.aspectj.ajde.internal.AspectJBuildManager$CompilerThread.run(AspectJBuildManager.java:191)</Frame>
        </Frames>
      </Stacktrace>
    </Stacktraces>
    <SourceCodeRegions amount="0" />
    <Enumerations amount="0" />
    <bug_status amount="RESOLVED" />
    <resolution amount="WORKSFORME" />
    <WithStack>When building an AJ-enabled project (from the Project-&gt;Build menu) I sometimes get the following exception:

java.lang.RuntimeException
at org.aspectj.weaver.WeaverStateInfo.read(WeaverStateInfo.java:142)
at org.aspectj.weaver.AjAttribute.read(AjAttribute.java:98)
at org.aspectj.weaver.bcel.BcelAttributes.readAjAttributes(BcelAttributes.java:59)
at org.aspectj.weaver.bcel.BcelObjectType.unpackAspectAttributes(BcelObjectType.java:273)
at org.aspectj.weaver.bcel.BcelObjectType.&lt;init&gt;(BcelObjectType.java:134)
at org.aspectj.weaver.bcel.BcelWorld.makeBcelObjectType(BcelWorld.java:257)
at org.aspectj.weaver.bcel.BcelWorld.addSourceObjectType(BcelWorld.java:314)
at org.aspectj.weaver.bcel.BcelWeaver.addIfAspect(BcelWeaver.java:256)
at org.aspectj.weaver.bcel.BcelWeaver.addAspectsFromDirectory(BcelWeaver.java:248)
at org.aspectj.weaver.bcel.BcelWeaver.addLibraryJarFile(BcelWeaver.java:198)
at org.aspectj.ajdt.internal.core.builder.AjBuildManager.initBcelWorld(AjBuildManager.java:623)
at org.aspectj.ajdt.internal.core.builder.AjBuildManager.doBuild(AjBuildManager.java:209)
at org.aspectj.ajdt.internal.core.builder.AjBuildManager.doBuild(AjBuildManager.java:185)
at org.aspectj.ajdt.internal.core.builder.AjBuildManager.incrementalBuild(AjBuildManager.java:163)
at org.aspectj.ajde.internal.CompilerAdapter.compile(CompilerAdapter.java:117)
at org.aspectj.ajde.internal.AspectJBuildManager$CompilerThread.run(AspectJBuildManager.java:191)

RuntimeException thrown: bad WeaverState.Kind: -115
Do you by any chance have a directory on the aspectpath for that project which contains aspects built by a different version of AspectJ?
(In reply to comment #1)
&gt; Do you by any chance have a directory on the aspectpath for that project which
&gt; contains aspects built by a different version of AspectJ?
&gt; 
No, no other versions of AspectJ anywhere.

do you have anything at all on either the inpath or aspectpath?

at org.aspectj.weaver.bcel.BcelWeaver.addIfAspect(BcelWeaver.java:256)
at org.aspectj.weaver.bcel.BcelWeaver.addAspectsFromDirectory(BcelWeaver.java:248)
at
org.aspectj.weaver.bcel.BcelWeaver.addLibraryJarFile(BcelWeaver.java:198)

that part of the stack is only invoked if there is an aspectpath... hmmm
(In reply to comment #3)
&gt; do you have anything at all on either the inpath or aspectpath?
&gt; 
&gt; at org.aspectj.weaver.bcel.BcelWeaver.addIfAspect(BcelWeaver.java:256)
&gt; at
&gt; org.aspectj.weaver.bcel.BcelWeaver.addAspectsFromDirectory(BcelWeaver.java:248)
&gt; at
&gt; org.aspectj.weaver.bcel.BcelWeaver.addLibraryJarFile(BcelWeaver.java:198)
&gt; 
&gt; that part of the stack is only invoked if there is an aspectpath... hmmm
&gt; 

I do.  Let me explain my project structure.  It's a pretty standard MyEclipse J2EE structure, with EAR, EJB and Web projects, where Web depends on EJB and EAR, and EJB depends on EAR.  The aspect resides in the EJB project, which is AJ enabled.  I have the classes folder of the Web project in the aspectpath of the EJB project.  I have a whole separate problem with that particular scenario, but that has nothing to do with this bug (I don't think.)
Re-categorizing as "compiler" rather than "LTWeaving". We should go back to the raiser to see if this still occurs. If so we can try the the new tracing infrastructure.
I'm guessing you are no longer seeing this problem, having either got past it or not using AJ now?  If you are please respond and I'll mark this appropriately (now we actually have some real resource working on AspectJ!) - otherwise I'll close in a few days.
no response - please reopen if still an issue</WithStack>
    <WithOutStack>When building an AJ-enabled project (from the Project-&gt;Build menu) I sometimes get the following exception:



RuntimeException thrown: bad WeaverState.Kind: -115
Do you by any chance have a directory on the aspectpath for that project which contains aspects built by a different version of AspectJ?
(In reply to comment #1)
&gt; Do you by any chance have a directory on the aspectpath for that project which
&gt; contains aspects built by a different version of AspectJ?
&gt; 
No, no other versions of AspectJ anywhere.

do you have anything at all on either the inpath or aspectpath?

at org.aspectj.weaver.bcel.BcelWeaver.addIfAspect(BcelWeaver.java:256)
at org.aspectj.weaver.bcel.BcelWeaver.addAspectsFromDirectory(BcelWeaver.java:248)
at
org.aspectj.weaver.bcel.BcelWeaver.addLibraryJarFile(BcelWeaver.java:198)

that part of the stack is only invoked if there is an aspectpath... hmmm
(In reply to comment #3)
&gt; do you have anything at all on either the inpath or aspectpath?
&gt; 
&gt; at org.aspectj.weaver.bcel.BcelWeaver.addIfAspect(BcelWeaver.java:256)
&gt; at
&gt; org.aspectj.weaver.bcel.BcelWeaver.addAspectsFromDirectory(BcelWeaver.java:248)
&gt; at
&gt; org.aspectj.weaver.bcel.BcelWeaver.addLibraryJarFile(BcelWeaver.java:198)
&gt; 
&gt; that part of the stack is only invoked if there is an aspectpath... hmmm
&gt; 

I do.  Let me explain my project structure.  It's a pretty standard MyEclipse J2EE structure, with EAR, EJB and Web projects, where Web depends on EJB and EAR, and EJB depends on EAR.  The aspect resides in the EJB project, which is AJ enabled.  I have the classes folder of the Web project in the aspectpath of the EJB project.  I have a whole separate problem with that particular scenario, but that has nothing to do with this bug (I don't think.)
Re-categorizing as "compiler" rather than "LTWeaving". We should go back to the raiser to see if this still occurs. If so we can try the the new tracing infrastructure.
I'm guessing you are no longer seeing this problem, having either got past it or not using AJ now?  If you are please respond and I'll mark this appropriately (now we actually have some real resource working on AspectJ!) - otherwise I'll close in a few days.
no response - please reopen if still an issue</WithOutStack>
  </Bug>
  <Bug>
    <BugId amount="133899" />
    <CreationDate amount="2006-03-29 13:26:00 -0500" />
    <DupId amount="131711" />
    <classification amount="Modeling" />
    <Product amount="EMF" />
    <component amount="Core" />
    <Version amount="2.2" />
    <rep_platform amount="PC" />
    <op_sys amount="Linux-GTK" />
    <priority amount="P3" />
    <bug_severity amount="normal" />
    <Summery>BiDi3.2: Names are not correctly displayed in the Ecore editor.</Summery>
    <Patches amount="0" />
    <Stacktraces amount="0" />
    <SourceCodeRegions amount="0" />
    <Enumerations amount="1">
      <Enumeration lines="7">
        <Lines>
          <Line>1.Switch to the Java perspective and import the attached "schoollibrary" project.</Line>
          <Line>2.Create a new EMF project based on the Rose model, use the attached "library.mdl" (in school library project) as Model URI.</Line>
          <Line />
          <Line>3.Open the new .ecore file, in the Ecore editor, expand the tree to reveal the package and classes. Expand and select Writer.</Line>
          <Line />
          <Line />
          <Line>4. Use the following key sequence, to change the Value of the name attribute in the properties view, [set your keyboard layer to Arabic and type "hkds _"  then switch your keyboard layer back to English and type "Anis"]</Line>
        </Lines>
      </Enumeration>
    </Enumerations>
    <bug_status amount="RESOLVED" />
    <resolution amount="DUPLICATE" />
    <WithStack>Build Date: 22/03/06
OS: RHEL 4 with Arabic-Egypt locale set as default.

Steps to recreate the problem:

1.Switch to the Java perspective and import the attached "schoollibrary" project. 
2.Create a new EMF project based on the Rose model, use the attached "library.mdl" (in school library project) as Model URI.

3.Open the new .ecore file, in the Ecore editor, expand the tree to reveal the package and classes. Expand and select Writer. 


4. Use the following key sequence, to change the Value of the name attribute in the properties view, [set your keyboard layer to Arabic and type "hkds _"  then switch your keyboard layer back to English and type "Anis"]


Expected output:

The Writer name item should be displayed as " &lt;AR&gt;_Anis: Estring ", where &lt;AR&gt; is the Arabic word. See the attached fig1 for more illustrations


Actual output:

The Writer name is displayed as shown in fig2, which isn't the expected behavior.

Note: If the Writer name used above is invalid. A warning or an error message should be displayed to the user.
Created attachment 37221
fig1
Created attachment 37222
fig2
Created attachment 37223
Schoollibrary project (contains library.mdl)
It looks like you went out of your way to cause a problem by introducing a space in the name, which isn't a valid character in the name.  So I'll return it as a duplicate of https://bugs.eclipse.org/bugs/show_bug.cgi?id=75933.

In general, I wonder why can't you just attach the .ecore file with the problematic characters rather than making me follow steps I can't perform on my local machine?

*** This bug has been marked as a duplicate of 75933 ***
I guess the point is not a whitespace, but unexpected order of the output misleading the user.

The attribute name was entered as &lt;ARABIC&gt;_Anis
The expected display is &lt;CIBARA&gt;_Anis: Estring 
The actual display is Anis: Estring_&lt;CIBARA&gt;

This bug is rather similar to bug 131711.
Is the problem reproducible without the white space?

The space in the defect description was a typo. This problem occurs without the white spaces.
This looks to be just a variation on a general theme, none of which we'll have time to address in the current development cycle.

*** This bug has been marked as a duplicate of 131711 ***
Keeping as a seperate bug, bug 131711 is opened against Windows while this bug is opened against Linux.
When https://bugs.eclipse.org/bugs/show_bug.cgi?id=135674 is addressed we'll look at these issues in generated editors.  At that point you will be able to verify the defect(s) on each platform and if they aren't all fixed by a single fix, then it makes sense to reopen.  Until then, you have the separate bugzilla number you want regardless of its duplicate state and it doesn't make sense to insist it's not a duplicate problem just because it was tested on a different platform.  

Are you saying this test passed on a Windows platform and only failed on Linux.

*** This bug has been marked as a duplicate of 131711 ***</WithStack>
    <WithOutStack>Build Date: 22/03/06
OS: RHEL 4 with Arabic-Egypt locale set as default.

Steps to recreate the problem:

1.Switch to the Java perspective and import the attached "schoollibrary" project. 
2.Create a new EMF project based on the Rose model, use the attached "library.mdl" (in school library project) as Model URI.

3.Open the new .ecore file, in the Ecore editor, expand the tree to reveal the package and classes. Expand and select Writer. 


4. Use the following key sequence, to change the Value of the name attribute in the properties view, [set your keyboard layer to Arabic and type "hkds _"  then switch your keyboard layer back to English and type "Anis"]


Expected output:

The Writer name item should be displayed as " &lt;AR&gt;_Anis: Estring ", where &lt;AR&gt; is the Arabic word. See the attached fig1 for more illustrations


Actual output:

The Writer name is displayed as shown in fig2, which isn't the expected behavior.

Note: If the Writer name used above is invalid. A warning or an error message should be displayed to the user.
Created attachment 37221
fig1
Created attachment 37222
fig2
Created attachment 37223
Schoollibrary project (contains library.mdl)
It looks like you went out of your way to cause a problem by introducing a space in the name, which isn't a valid character in the name.  So I'll return it as a duplicate of https://bugs.eclipse.org/bugs/show_bug.cgi?id=75933.

In general, I wonder why can't you just attach the .ecore file with the problematic characters rather than making me follow steps I can't perform on my local machine?

*** This bug has been marked as a duplicate of 75933 ***
I guess the point is not a whitespace, but unexpected order of the output misleading the user.

The attribute name was entered as &lt;ARABIC&gt;_Anis
The expected display is &lt;CIBARA&gt;_Anis: Estring 
The actual display is Anis: Estring_&lt;CIBARA&gt;

This bug is rather similar to bug 131711.
Is the problem reproducible without the white space?

The space in the defect description was a typo. This problem occurs without the white spaces.
This looks to be just a variation on a general theme, none of which we'll have time to address in the current development cycle.

*** This bug has been marked as a duplicate of 131711 ***
Keeping as a seperate bug, bug 131711 is opened against Windows while this bug is opened against Linux.
When https://bugs.eclipse.org/bugs/show_bug.cgi?id=135674 is addressed we'll look at these issues in generated editors.  At that point you will be able to verify the defect(s) on each platform and if they aren't all fixed by a single fix, then it makes sense to reopen.  Until then, you have the separate bugzilla number you want regardless of its duplicate state and it doesn't make sense to insist it's not a duplicate problem just because it was tested on a different platform.  

Are you saying this test passed on a Windows platform and only failed on Linux.

*** This bug has been marked as a duplicate of 131711 ***</WithOutStack>
  </Bug>
  <Bug>
    <BugId amount="133900" />
    <CreationDate amount="2006-03-29 13:35:00 -0500" />
    <DupId amount="" />
    <classification amount="Tools" />
    <Product amount="TPTP Release Engineering" />
    <component amount="Build" />
    <Version amount="4.2" />
    <rep_platform amount="PC" />
    <op_sys amount="Windows XP" />
    <priority amount="P3" />
    <bug_severity amount="normal" />
    <Summery>copy Perfmon binary and jar files to IAC directory during build.</Summery>
    <Patches amount="0" />
    <Stacktraces amount="0" />
    <SourceCodeRegions amount="0" />
    <Enumerations amount="0" />
    <bug_status amount="CLOSED" />
    <resolution amount="FIXED" />
    <WithStack>Plese set target milestone. 
done.
As of TPTP 4.6.0, TPTP is in maintenance mode and focusing on improving quality by resolving relevant enhancements/defects and increasing test coverage through test creation, automation, Build Verification Tests (BVTs), and expanded run-time execution. As part of the TPTP Bugzilla housecleaning process (see http://wiki.eclipse.org/Bugzilla_Housecleaning_Processes), this enhancement/defect is verified/closed by the Project Lead since the originator of this enhancement/defect has an inactive Bugzilla account and considered to be fixed. If this enhancement/defect is still unresolved and reproducible in the latest TPTP release (http://www.eclipse.org/tptp/home/downloads/), please re-open.</WithStack>
    <WithOutStack>Plese set target milestone. 
done.
As of TPTP 4.6.0, TPTP is in maintenance mode and focusing on improving quality by resolving relevant enhancements/defects and increasing test coverage through test creation, automation, Build Verification Tests (BVTs), and expanded run-time execution. As part of the TPTP Bugzilla housecleaning process (see http://wiki.eclipse.org/Bugzilla_Housecleaning_Processes), this enhancement/defect is verified/closed by the Project Lead since the originator of this enhancement/defect has an inactive Bugzilla account and considered to be fixed. If this enhancement/defect is still unresolved and reproducible in the latest TPTP release (http://www.eclipse.org/tptp/home/downloads/), please re-open.</WithOutStack>
  </Bug>
</infozilla-output>

