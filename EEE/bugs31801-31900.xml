<?xml version="1.0" encoding="UTF-8"?>
<infozilla-output>
  <Bug>
    <BugId amount="31801" />
    <CreationDate amount="2003-02-13 13:32:00 -0500" />
    <DupId amount="" />
    <classification amount="Eclipse" />
    <Product amount="JDT" />
    <component amount="UI" />
    <Version amount="2.1" />
    <rep_platform amount="PC" />
    <op_sys amount="Windows 2000" />
    <priority amount="P3" />
    <bug_severity amount="normal" />
    <Summery>cannot undo renaming of read-only  elements [refactoring]</Summery>
    <Patches amount="0" />
    <Stacktraces amount="0" />
    <SourceCodeRegions amount="0" />
    <Enumerations amount="0" />
    <bug_status amount="RESOLVED" />
    <resolution amount="WONTFIX" />
    <WithStack>20030211
try renaming a .gif file 
then try undoing it - you get an error dialog telling you it's not possible
(it should be possible - i just renamed the file even though it was read-only)

same happens for read-only packages
or source folders

in all cases renaming is allowed and is performed correctly but undoing fails 
with an error dialog
Adam, can you be a little bit more specific. Is it the UndoManager that causes 
trouble here ?
i have no idea - i just saw the dialog
i can have a lok though
That would be nice.
it's Change::aboutToPerform that discovers that the file is read-only 
(in checkIfModifiable) and does not let me undo renaming

btw. it does not go through validateEdit
The problem is that the default implementation of about... does a check for 
read-only. The corresponding changes should reimplement aboutTo..

No action planned for 2.1.
As of now 'LATER' and 'REMIND' resolutions are no longer supported.
Please reopen this bug if it is still valid for you.</WithStack>
    <WithOutStack>20030211
try renaming a .gif file 
then try undoing it - you get an error dialog telling you it's not possible
(it should be possible - i just renamed the file even though it was read-only)

same happens for read-only packages
or source folders

in all cases renaming is allowed and is performed correctly but undoing fails 
with an error dialog
Adam, can you be a little bit more specific. Is it the UndoManager that causes 
trouble here ?
i have no idea - i just saw the dialog
i can have a lok though
That would be nice.
it's Change::aboutToPerform that discovers that the file is read-only 
(in checkIfModifiable) and does not let me undo renaming

btw. it does not go through validateEdit
The problem is that the default implementation of about... does a check for 
read-only. The corresponding changes should reimplement aboutTo..

No action planned for 2.1.
As of now 'LATER' and 'REMIND' resolutions are no longer supported.
Please reopen this bug if it is still valid for you.</WithOutStack>
  </Bug>
  <Bug>
    <BugId amount="31802" />
    <CreationDate amount="2003-02-13 13:32:00 -0500" />
    <DupId amount="" />
    <classification amount="Eclipse" />
    <Product amount="Platform" />
    <component amount="Ant" />
    <Version amount="2.1" />
    <rep_platform amount="PC" />
    <op_sys amount="Windows XP" />
    <priority amount="P3" />
    <bug_severity amount="normal" />
    <Summery>start command in batch files cause problem when launching an External Tool</Summery>
    <Patches amount="0" />
    <Stacktraces amount="0" />
    <SourceCodeRegions amount="0" />
    <Enumerations amount="1">
      <Enumeration lines="7">
        <Lines>
          <Line>1. Create an External Tool in Eclipse which runs a Windows Batch file.</Line>
          <Line />
          <Line>2. This batch file contains a "start" command to start a program, which in my</Line>
          <Line>case is a C++ daemon program that listens for socket connections.</Line>
          <Line />
          <Line>3. When you run this External Tool, it never terminates until you stop the</Line>
          <Line>process that was launched with the "start" command.</Line>
        </Lines>
      </Enumeration>
    </Enumerations>
    <bug_status amount="RESOLVED" />
    <resolution amount="INVALID" />
    <WithStack>Summary of the problem:

1. Create an External Tool in Eclipse which runs a Windows Batch file.

2. This batch file contains a "start" command to start a program, which in my 
case is a C++ daemon program that listens for socket connections.

3. When you run this External Tool, it never terminates until you stop the 
process that was launched with the "start" command.

An example to duplicate this, create a batch file with this command in it:

    start "test" "\Program Files\Internet Explorer\iexplore.exe"

This will cause the batch file to launch a copy of Internet Explorer. In 
Eclipse 2.0.2 if I ran this batch file as an external tool, the External Tool 
would launch IE and then the batch file would terminate. In Eclipse 2.1 (M5) 
If I launch this External tool in the foreground (Run Tool in Background box 
unchecked) it does launch IE, but in Eclipse I also get a "Progress 
Information" dialog wich says "Operation in Progress" and it never goes away. 
I can click the Cancel button to kill the dialog window, but otherwise 
the "Progress Information" dialog will stay up until I kill the copy of IE 
that was launched. If I run the External Tool in the background I don't get 
the dialog window, but when I look at the list of processes in the Debug 
perspective, I see that the External Tool I launched is still running and 
doesn't switch to Terminated until I kill that IE window that was launched.

So, in Eclipse 2.0.2 this batch file would execute the "start" command and 
then when the batch file that contained the start command exited, the External 
Tool would exit. But in Eclipse V2.1 the External Tool that launches the batch 
file still hangs around until the command that was lauched with the "start" 
command has exited.
There's no bug here. What you're seeing is the way Java's runtime exec
behaves. It returns a process representing the spawned process and that process
apparently doesn't exit until IE is gone.

Whether or not the batch file actually exits (it probably *is* exiting just
as it does from the command-line) isn't something we can control.</WithStack>
    <WithOutStack>Summary of the problem:

1. Create an External Tool in Eclipse which runs a Windows Batch file.

2. This batch file contains a "start" command to start a program, which in my 
case is a C++ daemon program that listens for socket connections.

3. When you run this External Tool, it never terminates until you stop the 
process that was launched with the "start" command.

An example to duplicate this, create a batch file with this command in it:

    start "test" "\Program Files\Internet Explorer\iexplore.exe"

This will cause the batch file to launch a copy of Internet Explorer. In 
Eclipse 2.0.2 if I ran this batch file as an external tool, the External Tool 
would launch IE and then the batch file would terminate. In Eclipse 2.1 (M5) 
If I launch this External tool in the foreground (Run Tool in Background box 
unchecked) it does launch IE, but in Eclipse I also get a "Progress 
Information" dialog wich says "Operation in Progress" and it never goes away. 
I can click the Cancel button to kill the dialog window, but otherwise 
the "Progress Information" dialog will stay up until I kill the copy of IE 
that was launched. If I run the External Tool in the background I don't get 
the dialog window, but when I look at the list of processes in the Debug 
perspective, I see that the External Tool I launched is still running and 
doesn't switch to Terminated until I kill that IE window that was launched.

So, in Eclipse 2.0.2 this batch file would execute the "start" command and 
then when the batch file that contained the start command exited, the External 
Tool would exit. But in Eclipse V2.1 the External Tool that launches the batch 
file still hangs around until the command that was lauched with the "start" 
command has exited.
There's no bug here. What you're seeing is the way Java's runtime exec
behaves. It returns a process representing the spawned process and that process
apparently doesn't exit until IE is gone.

Whether or not the batch file actually exits (it probably *is* exiting just
as it does from the command-line) isn't something we can control.</WithOutStack>
  </Bug>
  <Bug>
    <BugId amount="31803" />
    <CreationDate amount="2003-02-13 13:55:00 -0500" />
    <DupId amount="" />
    <classification amount="Eclipse" />
    <Product amount="JDT" />
    <component amount="Text" />
    <Version amount="2.1" />
    <rep_platform amount="PC" />
    <op_sys amount="Windows 2000" />
    <priority amount="P3" />
    <bug_severity amount="normal" />
    <Summery>override/implement methods inserts a custom task marker</Summery>
    <Patches amount="0" />
    <Stacktraces amount="0" />
    <SourceCodeRegions amount="0" />
    <Enumerations amount="0" />
    <bug_status amount="RESOLVED" />
    <resolution amount="INVALID" />
    <WithStack>when using override/implement methods, I get code with comments that includes a
TASK extra marker (in my markers, I added NICETOHAVE, thats the one it uses,
maybe because its the first in the markers list.)
(eclipse 2.1M5)
see code/comment templates.</WithStack>
    <WithOutStack>when using override/implement methods, I get code with comments that includes a
TASK extra marker (in my markers, I added NICETOHAVE, thats the one it uses,
maybe because its the first in the markers list.)
(eclipse 2.1M5)
see code/comment templates.</WithOutStack>
  </Bug>
  <Bug>
    <BugId amount="31804" />
    <CreationDate amount="2003-02-13 14:02:00 -0500" />
    <DupId amount="" />
    <classification amount="Eclipse" />
    <Product amount="Platform" />
    <component amount="Text" />
    <Version amount="2.1" />
    <rep_platform amount="PC" />
    <op_sys amount="Windows 2000" />
    <priority amount="P3" />
    <bug_severity amount="blocker" />
    <Summery>Subclasses of TextEditor can no longer create custom SourceViewers</Summery>
    <Patches amount="0" />
    <Stacktraces amount="0" />
    <SourceCodeRegions amount="0" />
    <Enumerations amount="0" />
    <bug_status amount="CLOSED" />
    <resolution amount="FIXED" />
    <WithStack>In 2.1M5, org.eclipse.ui.editors.text.TextEditor initializes a private field
called fSourceViewerDecorationSupport inside of createSourceViewer.  We're
substituting a custom subclass of SourceViewer by overriding that method in our
subclass of TextEditor.  Unfortunately, this gives us a NPE when
createPartControl is called later since TextEditor references that field in
numerous places.
CDT's C editor is broken by the same change, see
http://dev.eclipse.org/bugs/show_bug.cgi?id=31486 .
This has been fixed for RC1.
Closing</WithStack>
    <WithOutStack>In 2.1M5, org.eclipse.ui.editors.text.TextEditor initializes a private field
called fSourceViewerDecorationSupport inside of createSourceViewer.  We're
substituting a custom subclass of SourceViewer by overriding that method in our
subclass of TextEditor.  Unfortunately, this gives us a NPE when
createPartControl is called later since TextEditor references that field in
numerous places.
CDT's C editor is broken by the same change, see
http://dev.eclipse.org/bugs/show_bug.cgi?id=31486 .
This has been fixed for RC1.
Closing</WithOutStack>
  </Bug>
  <Bug>
    <BugId amount="31805" />
    <CreationDate amount="2003-02-13 14:07:00 -0500" />
    <DupId amount="" />
    <classification amount="Eclipse" />
    <Product amount="Platform" />
    <component amount="UI" />
    <Version amount="2.0.2" />
    <rep_platform amount="All" />
    <op_sys amount="All" />
    <priority amount="P3" />
    <bug_severity amount="enhancement" />
    <Summery>[Contributions] adapters: visibility (action filters) seriously flawed(?)</Summery>
    <Patches amount="0" />
    <Stacktraces amount="0" />
    <SourceCodeRegions amount="5">
      <source_code type="assignment">
        <location start="1340" end="1403" />
        <code>IAdapterManager manager= Platform.getAdapterManager();</code>
      </source_code>
      <source_code type="assignment">
        <location start="1404" end="1455" />
        <code>IAdapterFactory factory = new MyFilter1();</code>
      </source_code>
      <source_code type="functioncall">
        <location start="1456" end="1513" />
        <code>manager.registerAdapters(factory, IField.class);</code>
      </source_code>
      <source_code type="functioncall">
        <location start="1514" end="1572" />
        <code>manager.registerAdapters(factory, IMethod.class);</code>
      </source_code>
      <source_code type="functioncall">
        <location start="1877" end="1948" />
        <code>manager.registerAdapters(new MethodAdapterFactory(), IMethod.class);</code>
      </source_code>
    </SourceCodeRegions>
    <Enumerations amount="0" />
    <bug_status amount="RESOLVED" />
    <resolution amount="WONTFIX" />
    <WithStack>As requested by Simon, here is the initial email and pertinent followups:

-- initial email --
I created a simple plugin with a popup menu.  The object contribution is
for IJavaElement.  I have a visibility filter so that I can do some
additional tests.  The popup menu part of the xml looks like this:

&lt;extension
          point="org.eclipse.ui.popupMenus"&gt;
       &lt;objectContribution
             objectClass="org.eclipse.jdt.core.IJavaElement"
             id="com.rational.filtertest.contribution1"&gt;
          &lt;menu
                label="MyFilterActions"
                path="additions"
                id="com.rational.filtertest.menu1"&gt;
             &lt;separator
                   name="group1"&gt;
             &lt;/separator&gt;
          &lt;/menu&gt;
          &lt;action
                label="New Action"
                class="com.rational.filtertest.actions.NewAction"
                menubarPath="com.rational.filtertest.menu1/group1"
                enablesFor="1"
                id="com.rational.filtertest.newAction"&gt;
          &lt;/action&gt;
          &lt;visibility&gt;
             &lt;objectState
                   name="willThisShowUp"
                   value="true"&gt;
             &lt;/objectState&gt;
          &lt;/visibility&gt;
       &lt;/objectContribution&gt;
    &lt;/extension&gt;

I've added the following lines to my FilterTestPlugin.java startup routine:

         IAdapterManager manager= Platform.getAdapterManager();
         IAdapterFactory factory = new MyFilter1();
         manager.registerAdapters(factory, IField.class);
         manager.registerAdapters(factory, IMethod.class);

I then open a java file and in the outline view are fields and methods.
I right-click on a field and see my contribution in the popup menu.  I
right-click on a method and my contribution is NOT visible.  I tracked
it down to a filter in the JDIDebugUIPlugin, which has this line in its
startup method:

   manager.registerAdapters(new MethodAdapterFactory(), IMethod.class);

and the following filter in its plugin.xml:

      &lt;objectContribution
          id="org.eclipse.jdt.debug.ui.MethodBreakpointActions"
          objectClass="org.eclipse.jdt.core.IMethod"&gt;
          &lt;filter name="MethodActionFilter" value="isBinaryMethod"/&gt;
      &lt;action id="org.eclipse.jdt.debug.ui.MethodBreakpoint"
        label="%manageMethodBreakpointAction.label"
        helpContextId="manage_method_breakpoint_action_context"
        menubarPath="additions"

class="org.eclipse.jdt.internal.debug.ui.actions.ManageMethodBreakpointActionDel
egate"
         enablesFor="1"&gt;
      &lt;/action&gt;
       &lt;/objectContribution&gt;

It appears that having two (or more)adapter factories registered on the
same class doesn't work - only one of them will ever get called.

-- Followup from Ed Burnette --

Multiple adapter factories on the same class are allowed, but the
AdapterManager class defines an order to them, and the first one in the list
in that order will be the only one used (see
org.eclipse.core.internal.runtime.AdapterManager). So I beleive you'll have
to register the factories on more specific types.

-- to which I replied --
Ed,
First, thanks for the confirmation - I thought I was reading that 
(AdapterManager) correctly, but couldn't quite bring myself to believe it was 
designed this way....

About your suggestion of using more specific types - without using internal 
classes (org.eclipse.jdt.internal.core.SourceMethod), I can't get much more 
specific than IMethod.class (which, unfortunately, is also the type used by the 
JDIDebugUIPlugin).

This seems like a serious flaw - the first filter in this order ends up getting 
called (testAttribute) for name-value pairs it has no interest in, so whatever 
default value ends up being returned, true or false, is bogus.  It seems like 
every filter should get a shot at processing the name-value pairs.
Nick, can you comment on this. This is more than just filter problem - it is 
applicable to all our uses of IAdaptable.
Yes, this is a limitation of the current approach, since getAdapter(Class) can 
return only a single adapter.  We will be unable to address this for 2.1.


I've just hit this issue with action filters on some WTP work (using v3.1.1 -
won't let me change the version); would be great if IAdapterManager clients
could modify the ordering of the IAdapterFactories; even something as simple as
being able to add new factories to either the beginning or end of the list would
probably suffice for most use cases; any plans to add such support?

On a filter-specific note, calling all registered IActionFilter contributors
would also be useful.
Moving Dougs bugs
I have encountered this issue working in 3.3 on a feature for Debug.  What I need is the ability to check a stored preference to determine the visibility of an action.  This is very simple to do when determining enablement by using a property tester.  Because there are action filters contributed by other projects for the objects I am testing, this bug prevents me from contributing additional action filters.  If there is some way of adding a property tester to a visibility expression, please let me know.
Assigning to component owner
PW

I also need to add action filters to test properties to a class that already has an action filter. Perhaps a solution would be to allow the use of property testers within the org.eclipse.ui.actionSets extension point, as they can in the org.eclipse.debug.ui.launchShortcuts extension point within a contextualLaunch. 

popupMenus are in maintenance mode, and will not have major features added to them.

The command framework (org.eclipse.ui.commands, org.eclipse.ui.menus) supports the new core expression language (activeWhen, enabledWhen, visibleWhen) and should be used when more flexibility is required.

BTW, while it is not obvious from the tooling, popupMenus/objectContribution/enablement 1) controls the objectContribution visibility and 2) and uses core expressions (the extension point documentation has been updated to reflect this in 3.5)

PW</WithStack>
    <WithOutStack>As requested by Simon, here is the initial email and pertinent followups:

-- initial email --
I created a simple plugin with a popup menu.  The object contribution is
for IJavaElement.  I have a visibility filter so that I can do some
additional tests.  The popup menu part of the xml looks like this:

&lt;extension
          point="org.eclipse.ui.popupMenus"&gt;
       &lt;objectContribution
             objectClass="org.eclipse.jdt.core.IJavaElement"
             id="com.rational.filtertest.contribution1"&gt;
          &lt;menu
                label="MyFilterActions"
                path="additions"
                id="com.rational.filtertest.menu1"&gt;
             &lt;separator
                   name="group1"&gt;
             &lt;/separator&gt;
          &lt;/menu&gt;
          &lt;action
                label="New Action"
                class="com.rational.filtertest.actions.NewAction"
                menubarPath="com.rational.filtertest.menu1/group1"
                enablesFor="1"
                id="com.rational.filtertest.newAction"&gt;
          &lt;/action&gt;
          &lt;visibility&gt;
             &lt;objectState
                   name="willThisShowUp"
                   value="true"&gt;
             &lt;/objectState&gt;
          &lt;/visibility&gt;
       &lt;/objectContribution&gt;
    &lt;/extension&gt;

I've added the following lines to my FilterTestPlugin.java startup routine:

         IAdapterManager manager= Platform.getAdapterManager();
         IAdapterFactory factory = new MyFilter1();
         manager.registerAdapters(factory, IField.class);
         manager.registerAdapters(factory, IMethod.class);

I then open a java file and in the outline view are fields and methods.
I right-click on a field and see my contribution in the popup menu.  I
right-click on a method and my contribution is NOT visible.  I tracked
it down to a filter in the JDIDebugUIPlugin, which has this line in its
startup method:

   manager.registerAdapters(new MethodAdapterFactory(), IMethod.class);

and the following filter in its plugin.xml:

      &lt;objectContribution
          id="org.eclipse.jdt.debug.ui.MethodBreakpointActions"
          objectClass="org.eclipse.jdt.core.IMethod"&gt;
          &lt;filter name="MethodActionFilter" value="isBinaryMethod"/&gt;
      &lt;action id="org.eclipse.jdt.debug.ui.MethodBreakpoint"
        label="%manageMethodBreakpointAction.label"
        helpContextId="manage_method_breakpoint_action_context"
        menubarPath="additions"

class="org.eclipse.jdt.internal.debug.ui.actions.ManageMethodBreakpointActionDel
egate"
         enablesFor="1"&gt;
      &lt;/action&gt;
       &lt;/objectContribution&gt;

It appears that having two (or more)adapter factories registered on the
same class doesn't work - only one of them will ever get called.

-- Followup from Ed Burnette --

Multiple adapter factories on the same class are allowed, but the
AdapterManager class defines an order to them, and the first one in the list
in that order will be the only one used (see
org.eclipse.core.internal.runtime.AdapterManager). So I beleive you'll have
to register the factories on more specific types.

-- to which I replied --
Ed,
First, thanks for the confirmation - I thought I was reading that 
(AdapterManager) correctly, but couldn't quite bring myself to believe it was 
designed this way....

About your suggestion of using more specific types - without using internal 
classes (org.eclipse.jdt.internal.core.SourceMethod), I can't get much more 
specific than IMethod.class (which, unfortunately, is also the type used by the 
JDIDebugUIPlugin).

This seems like a serious flaw - the first filter in this order ends up getting 
called (testAttribute) for name-value pairs it has no interest in, so whatever 
default value ends up being returned, true or false, is bogus.  It seems like 
every filter should get a shot at processing the name-value pairs.
Nick, can you comment on this. This is more than just filter problem - it is 
applicable to all our uses of IAdaptable.
Yes, this is a limitation of the current approach, since getAdapter(Class) can 
return only a single adapter.  We will be unable to address this for 2.1.


I've just hit this issue with action filters on some WTP work (using v3.1.1 -
won't let me change the version); would be great if IAdapterManager clients
could modify the ordering of the IAdapterFactories; even something as simple as
being able to add new factories to either the beginning or end of the list would
probably suffice for most use cases; any plans to add such support?

On a filter-specific note, calling all registered IActionFilter contributors
would also be useful.
Moving Dougs bugs
I have encountered this issue working in 3.3 on a feature for Debug.  What I need is the ability to check a stored preference to determine the visibility of an action.  This is very simple to do when determining enablement by using a property tester.  Because there are action filters contributed by other projects for the objects I am testing, this bug prevents me from contributing additional action filters.  If there is some way of adding a property tester to a visibility expression, please let me know.
Assigning to component owner
PW

I also need to add action filters to test properties to a class that already has an action filter. Perhaps a solution would be to allow the use of property testers within the org.eclipse.ui.actionSets extension point, as they can in the org.eclipse.debug.ui.launchShortcuts extension point within a contextualLaunch. 

popupMenus are in maintenance mode, and will not have major features added to them.

The command framework (org.eclipse.ui.commands, org.eclipse.ui.menus) supports the new core expression language (activeWhen, enabledWhen, visibleWhen) and should be used when more flexibility is required.

BTW, while it is not obvious from the tooling, popupMenus/objectContribution/enablement 1) controls the objectContribution visibility and 2) and uses core expressions (the extension point documentation has been updated to reflect this in 3.5)

PW</WithOutStack>
  </Bug>
  <Bug>
    <BugId amount="31806" />
    <CreationDate amount="2003-02-13 14:11:00 -0500" />
    <DupId amount="" />
    <classification amount="Eclipse" />
    <Product amount="Platform" />
    <component amount="Team" />
    <Version amount="2.1" />
    <rep_platform amount="PC" />
    <op_sys amount="Windows 2000" />
    <priority amount="P2" />
    <bug_severity amount="major" />
    <Summery>Replace with Latest Does Not Reset Changed Decorator</Summery>
    <Patches amount="0" />
    <Stacktraces amount="0" />
    <SourceCodeRegions amount="0" />
    <Enumerations amount="0" />
    <bug_status amount="RESOLVED" />
    <resolution amount="FIXED" />
    <WithStack>This is with M5.

The decorator appears on a folder of files.  I team replace with latest from
repository.  The decorator does not disappear.
Turning prune empty directories off and then replacing with latest turns the
decorators off.

Looks like bug 29413
I'm pretty sure this has been fixed post-M5. Also, as a result of changes made
to fix Bug 29944, several other decorators issues have been addressed.

I'll keep open until all decorator changes have been released and you give me
the ok.
Fixes have been released to HEAD - they will be in tomorrow's integration build.
I just downloaded RC1.  This is still not fixed.  
Hmm...  now I am seeing something in the cvs console.  Seems my problem is
related to my other bug 31820.

I get 
Error: project-name: cvs server: cannot open directory
/cvs/modules/src/DirectoryOne: No such file or directory
***
Reopening to reinvestigate in relation to bug 31820
So I deleted the folder that was giving this error and then went to the cvs
repository and checked it out again into the correct spot.  I no longer get the
can not open directory error in the cvs console but the decorator still shows it
as being modified.

Compare with latest from repo says there are no differences.
Hmmm tried turning the prune empty directories off but that no longer removes
the decorator.  
The decorators were cached for folders and there was no way to clear the cache
if the calculation was wrong. In the next integration build I20030304 this
problem should be fixed.

Get the new build and turn off/on decorators to verify.
I am using RC2 and I turned off the decorators and turned them back on via
window-&gt;pref-&gt;labeldecorators-&gt;[uncheck cvs, apply], waited for the decorators
to be not shown and then checked cvs, apply and the decorators came back.  The
changed decorator still shows up despite there being no differences between the
souce tree and the local copy.  No errors are printed in the cvs console.
If you perform a Team&gt;Synchronize with Repository, does the operation report 
that your workspace matches the server?
Yeah that's correct.  It says "Workspace resources are the same as remote" in
the Nothing to Synchronize Dialog box.
Found yet another problem with deleted folders (a.k.a pruned folders). In some
cases a phantom folder without CVS folder information. We've fixed the
isModified() method on EclipseFolder to ignore non-existing folders that don't
have CVS folders. 

This fixes another problem that would occur on disconnect. If you disconnect and
reconnect all existing folders that have phantom children would be marked as dirty.

fix released to HEAD and will be in RC3. Again, and again :) :)</WithStack>
    <WithOutStack>This is with M5.

The decorator appears on a folder of files.  I team replace with latest from
repository.  The decorator does not disappear.
Turning prune empty directories off and then replacing with latest turns the
decorators off.

Looks like bug 29413
I'm pretty sure this has been fixed post-M5. Also, as a result of changes made
to fix Bug 29944, several other decorators issues have been addressed.

I'll keep open until all decorator changes have been released and you give me
the ok.
Fixes have been released to HEAD - they will be in tomorrow's integration build.
I just downloaded RC1.  This is still not fixed.  
Hmm...  now I am seeing something in the cvs console.  Seems my problem is
related to my other bug 31820.

I get 
Error: project-name: cvs server: cannot open directory
/cvs/modules/src/DirectoryOne: No such file or directory
***
Reopening to reinvestigate in relation to bug 31820
So I deleted the folder that was giving this error and then went to the cvs
repository and checked it out again into the correct spot.  I no longer get the
can not open directory error in the cvs console but the decorator still shows it
as being modified.

Compare with latest from repo says there are no differences.
Hmmm tried turning the prune empty directories off but that no longer removes
the decorator.  
The decorators were cached for folders and there was no way to clear the cache
if the calculation was wrong. In the next integration build I20030304 this
problem should be fixed.

Get the new build and turn off/on decorators to verify.
I am using RC2 and I turned off the decorators and turned them back on via
window-&gt;pref-&gt;labeldecorators-&gt;[uncheck cvs, apply], waited for the decorators
to be not shown and then checked cvs, apply and the decorators came back.  The
changed decorator still shows up despite there being no differences between the
souce tree and the local copy.  No errors are printed in the cvs console.
If you perform a Team&gt;Synchronize with Repository, does the operation report 
that your workspace matches the server?
Yeah that's correct.  It says "Workspace resources are the same as remote" in
the Nothing to Synchronize Dialog box.
Found yet another problem with deleted folders (a.k.a pruned folders). In some
cases a phantom folder without CVS folder information. We've fixed the
isModified() method on EclipseFolder to ignore non-existing folders that don't
have CVS folders. 

This fixes another problem that would occur on disconnect. If you disconnect and
reconnect all existing folders that have phantom children would be marked as dirty.

fix released to HEAD and will be in RC3. Again, and again :) :)</WithOutStack>
  </Bug>
  <Bug>
    <BugId amount="31807" />
    <CreationDate amount="2003-02-13 14:15:00 -0500" />
    <DupId amount="31750" />
    <classification amount="Eclipse" />
    <Product amount="Platform" />
    <component amount="Search" />
    <Version amount="2.1" />
    <rep_platform amount="PC" />
    <op_sys amount="Windows XP" />
    <priority amount="P3" />
    <bug_severity amount="normal" />
    <Summery>Search dialog generates errors on cancel</Summery>
    <Patches amount="0" />
    <Stacktraces amount="11">
      <Stacktrace timestamp="1437339868129">
        <Exception>org.eclipse.core.runtime.OperationCanceledException</Exception>
        <Reason>Operation Canceled</Reason>
        <Frames>
          <Frame depth="0">org.eclipse.search.internal.core.text.TextSearchVisitor.updateProgressMonitor(TextSearchVisitor.java(Compiled Code))</Frame>
          <Frame depth="1">org.eclipse.search.internal.core.text.TextSearchVisitor.visitFile(TextSearchVisitor.java(Compiled Code))</Frame>
          <Frame depth="2">org.eclipse.search.internal.core.text.TypedResourceVisitor.visit(TypedResourceVisitor.java(Compiled Code))</Frame>
          <Frame depth="3">org.eclipse.search.internal.core.text.TextSearchVisitor.visit(TextSearchVisitor.java(Compiled Code))</Frame>
          <Frame depth="4">org.eclipse.core.internal.resources.Resource$1.visitElement(Resource.java(Compiled Code))</Frame>
          <Frame depth="5">org.eclipse.core.internal.watson.ElementTreeIterator.doIteration(ElementTreeIterator.java(Compiled Code))</Frame>
          <Frame depth="6">org.eclipse.core.internal.watson.ElementTreeIterator.doIteration(ElementTreeIterator.java(Compiled Code))</Frame>
          <Frame depth="7">org.eclipse.core.internal.watson.ElementTreeIterator.doIteration(ElementTreeIterator.java(Compiled Code))</Frame>
          <Frame depth="8">org.eclipse.core.internal.watson.ElementTreeIterator.doIteration(ElementTreeIterator.java(Compiled Code))</Frame>
          <Frame depth="9">org.eclipse.core.internal.watson.ElementTreeIterator.doIteration(ElementTreeIterator.java(Compiled Code))</Frame>
          <Frame depth="10">org.eclipse.core.internal.watson.ElementTreeIterator.doIteration(ElementTreeIterator.java(Compiled Code))</Frame>
          <Frame depth="11">org.eclipse.core.internal.watson.ElementTreeIterator.doIteration(ElementTreeIterator.java(Compiled Code))</Frame>
          <Frame depth="12">org.eclipse.core.internal.watson.ElementTreeIterator.iterate(ElementTreeIterator.java(Compiled Code))</Frame>
          <Frame depth="13">org.eclipse.core.internal.resources.Resource.accept(Resource.java:63)</Frame>
          <Frame depth="14">org.eclipse.search.internal.core.text.TextSearchVisitor.process(TextSearchVisitor.java:95)</Frame>
          <Frame depth="15">org.eclipse.search.internal.core.text.TextSearchEngine.search(TextSearchEngine.java:56)</Frame>
          <Frame depth="16">org.eclipse.search.internal.ui.text.TextSearchOperation.execute(TextSearchOperation.java:55)</Frame>
          <Frame depth="17">org.eclipse.ui.actions.WorkspaceModifyOperation$1.run(WorkspaceModifyOperation.java:65)</Frame>
          <Frame depth="18">org.eclipse.core.internal.resources.Workspace.run(Workspace.java(Compiled Code))</Frame>
          <Frame depth="19">org.eclipse.ui.actions.WorkspaceModifyOperation.run(WorkspaceModifyOperation.java:79)</Frame>
          <Frame depth="20">org.eclipse.jface.operation.ModalContext$ModalContextThread.run(ModalContext.java:95)</Frame>
        </Frames>
      </Stacktrace>
      <Stacktrace timestamp="1437339868129">
        <Exception>org.eclipse.core.runtime.OperationCanceledException</Exception>
        <Reason>Operation Canceled</Reason>
        <Frames>
          <Frame depth="0">org.eclipse.search.internal.core.text.TextSearchVisitor.updateProgressMonitor(TextSearchVisitor.java(Compiled Code))</Frame>
          <Frame depth="1">org.eclipse.search.internal.core.text.TextSearchVisitor.visitFile(TextSearchVisitor.java(Compiled Code))</Frame>
          <Frame depth="2">org.eclipse.search.internal.core.text.TypedResourceVisitor.visit(TypedResourceVisitor.java(Compiled Code))</Frame>
          <Frame depth="3">org.eclipse.search.internal.core.text.TextSearchVisitor.visit(TextSearchVisitor.java(Compiled Code))</Frame>
          <Frame depth="4">org.eclipse.core.internal.resources.Resource$1.visitElement(Resource.java(Compiled Code))</Frame>
          <Frame depth="5">org.eclipse.core.internal.watson.ElementTreeIterator.doIteration(ElementTreeIterator.java(Compiled Code))</Frame>
          <Frame depth="6">org.eclipse.core.internal.watson.ElementTreeIterator.doIteration(ElementTreeIterator.java(Compiled Code))</Frame>
          <Frame depth="7">org.eclipse.core.internal.watson.ElementTreeIterator.doIteration(ElementTreeIterator.java(Compiled Code))</Frame>
          <Frame depth="8">org.eclipse.core.internal.watson.ElementTreeIterator.doIteration(ElementTreeIterator.java(Compiled Code))</Frame>
          <Frame depth="9">org.eclipse.core.internal.watson.ElementTreeIterator.doIteration(ElementTreeIterator.java(Compiled Code))</Frame>
          <Frame depth="10">org.eclipse.core.internal.watson.ElementTreeIterator.doIteration(ElementTreeIterator.java(Compiled Code))</Frame>
          <Frame depth="11">org.eclipse.core.internal.watson.ElementTreeIterator.doIteration(ElementTreeIterator.java(Compiled Code))</Frame>
          <Frame depth="12">org.eclipse.core.internal.watson.ElementTreeIterator.iterate(ElementTreeIterator.java(Compiled Code))</Frame>
          <Frame depth="13">org.eclipse.core.internal.resources.Resource.accept(Resource.java:63)</Frame>
          <Frame depth="14">org.eclipse.search.internal.core.text.TextSearchVisitor.process(TextSearchVisitor.java:95)</Frame>
          <Frame depth="15">org.eclipse.search.internal.core.text.TextSearchEngine.search(TextSearchEngine.java:56)</Frame>
          <Frame depth="16">org.eclipse.search.internal.ui.text.TextSearchOperation.execute(TextSearchOperation.java:55)</Frame>
          <Frame depth="17">org.eclipse.ui.actions.WorkspaceModifyOperation$1.run(WorkspaceModifyOperation.java:65)</Frame>
          <Frame depth="18">org.eclipse.core.internal.resources.Workspace.run(Workspace.java(Compiled Code))</Frame>
          <Frame depth="19">org.eclipse.ui.actions.WorkspaceModifyOperation.run(WorkspaceModifyOperation.java:79)</Frame>
          <Frame depth="20">org.eclipse.jface.operation.ModalContext$ModalContextThread.run(ModalContext.java:95)</Frame>
        </Frames>
      </Stacktrace>
      <Stacktrace timestamp="1437339868129">
        <Exception>org.eclipse.core.runtime.OperationCanceledException</Exception>
        <Reason>Operation Canceled</Reason>
        <Frames>
          <Frame depth="0">org.eclipse.search.internal.core.text.TextSearchVisitor.updateProgressMonitor(TextSearchVisitor.java(Compiled Code))</Frame>
          <Frame depth="1">org.eclipse.search.internal.core.text.TextSearchVisitor.visitFile(TextSearchVisitor.java(Compiled Code))</Frame>
          <Frame depth="2">org.eclipse.search.internal.core.text.TypedResourceVisitor.visit(TypedResourceVisitor.java(Compiled Code))</Frame>
          <Frame depth="3">org.eclipse.search.internal.core.text.TextSearchVisitor.visit(TextSearchVisitor.java(Compiled Code))</Frame>
          <Frame depth="4">org.eclipse.core.internal.resources.Resource$1.visitElement(Resource.java(Compiled Code))</Frame>
          <Frame depth="5">org.eclipse.core.internal.watson.ElementTreeIterator.doIteration(ElementTreeIterator.java(Compiled Code))</Frame>
          <Frame depth="6">org.eclipse.core.internal.watson.ElementTreeIterator.doIteration(ElementTreeIterator.java(Compiled Code))</Frame>
          <Frame depth="7">org.eclipse.core.internal.watson.ElementTreeIterator.doIteration(ElementTreeIterator.java(Compiled Code))</Frame>
          <Frame depth="8">org.eclipse.core.internal.watson.ElementTreeIterator.doIteration(ElementTreeIterator.java(Compiled Code))</Frame>
          <Frame depth="9">org.eclipse.core.internal.watson.ElementTreeIterator.doIteration(ElementTreeIterator.java(Compiled Code))</Frame>
          <Frame depth="10">org.eclipse.core.internal.watson.ElementTreeIterator.doIteration(ElementTreeIterator.java(Compiled Code))</Frame>
          <Frame depth="11">org.eclipse.core.internal.watson.ElementTreeIterator.doIteration(ElementTreeIterator.java(Compiled Code))</Frame>
          <Frame depth="12">org.eclipse.core.internal.watson.ElementTreeIterator.iterate(ElementTreeIterator.java(Compiled Code))</Frame>
          <Frame depth="13">org.eclipse.core.internal.resources.Resource.accept(Resource.java:63)</Frame>
          <Frame depth="14">org.eclipse.search.internal.core.text.TextSearchVisitor.process(TextSearchVisitor.java:95)</Frame>
          <Frame depth="15">org.eclipse.search.internal.core.text.TextSearchEngine.search(TextSearchEngine.java:56)</Frame>
          <Frame depth="16">org.eclipse.search.internal.ui.text.TextSearchOperation.execute(TextSearchOperation.java:55)</Frame>
          <Frame depth="17">org.eclipse.ui.actions.WorkspaceModifyOperation$1.run(WorkspaceModifyOperation.java:65)</Frame>
          <Frame depth="18">org.eclipse.core.internal.resources.Workspace.run(Workspace.java(Compiled Code))</Frame>
          <Frame depth="19">org.eclipse.ui.actions.WorkspaceModifyOperation.run(WorkspaceModifyOperation.java:79)</Frame>
          <Frame depth="20">org.eclipse.jface.operation.ModalContext$ModalContextThread.run(ModalContext.java:95)</Frame>
        </Frames>
      </Stacktrace>
      <Stacktrace timestamp="1437339868129">
        <Exception>org.eclipse.core.runtime.OperationCanceledException</Exception>
        <Reason>Operation Canceled</Reason>
        <Frames>
          <Frame depth="0">org.eclipse.search.internal.core.text.TextSearchVisitor.updateProgressMonitor(TextSearchVisitor.java(Compiled Code))</Frame>
          <Frame depth="1">org.eclipse.search.internal.core.text.TextSearchVisitor.visitFile(TextSearchVisitor.java(Compiled Code))</Frame>
          <Frame depth="2">org.eclipse.search.internal.core.text.TypedResourceVisitor.visit(TypedResourceVisitor.java(Compiled Code))</Frame>
          <Frame depth="3">org.eclipse.search.internal.core.text.TextSearchVisitor.visit(TextSearchVisitor.java(Compiled Code))</Frame>
          <Frame depth="4">org.eclipse.core.internal.resources.Resource$1.visitElement(Resource.java(Compiled Code))</Frame>
          <Frame depth="5">org.eclipse.core.internal.watson.ElementTreeIterator.doIteration(ElementTreeIterator.java(Compiled Code))</Frame>
          <Frame depth="6">org.eclipse.core.internal.watson.ElementTreeIterator.doIteration(ElementTreeIterator.java(Compiled Code))</Frame>
          <Frame depth="7">org.eclipse.core.internal.watson.ElementTreeIterator.doIteration(ElementTreeIterator.java(Compiled Code))</Frame>
          <Frame depth="8">org.eclipse.core.internal.watson.ElementTreeIterator.doIteration(ElementTreeIterator.java(Compiled Code))</Frame>
          <Frame depth="9">org.eclipse.core.internal.watson.ElementTreeIterator.doIteration(ElementTreeIterator.java(Compiled Code))</Frame>
          <Frame depth="10">org.eclipse.core.internal.watson.ElementTreeIterator.iterate(ElementTreeIterator.java(Compiled Code))</Frame>
          <Frame depth="11">org.eclipse.core.internal.resources.Resource.accept(Resource.java:63)</Frame>
          <Frame depth="12">org.eclipse.search.internal.core.text.TextSearchVisitor.process(TextSearchVisitor.java:95)</Frame>
          <Frame depth="13">org.eclipse.search.internal.core.text.TextSearchEngine.search(TextSearchEngine.java:56)</Frame>
          <Frame depth="14">org.eclipse.search.internal.ui.text.TextSearchOperation.execute(TextSearchOperation.java:55)</Frame>
          <Frame depth="15">org.eclipse.ui.actions.WorkspaceModifyOperation$1.run(WorkspaceModifyOperation.java:65)</Frame>
          <Frame depth="16">org.eclipse.core.internal.resources.Workspace.run(Workspace.java(Compiled Code))</Frame>
          <Frame depth="17">org.eclipse.ui.actions.WorkspaceModifyOperation.run(WorkspaceModifyOperation.java:79)</Frame>
          <Frame depth="18">org.eclipse.jface.operation.ModalContext$ModalContextThread.run(ModalContext.java:95)</Frame>
        </Frames>
      </Stacktrace>
      <Stacktrace timestamp="1437339868129">
        <Exception>org.eclipse.core.runtime.OperationCanceledException</Exception>
        <Reason>Operation Canceled</Reason>
        <Frames>
          <Frame depth="0">org.eclipse.search.internal.core.text.TextSearchVisitor.updateProgressMonitor(TextSearchVisitor.java(Compiled Code))</Frame>
          <Frame depth="1">org.eclipse.search.internal.core.text.TextSearchVisitor.visitFile(TextSearchVisitor.java(Compiled Code))</Frame>
          <Frame depth="2">org.eclipse.search.internal.core.text.TypedResourceVisitor.visit(TypedResourceVisitor.java(Compiled Code))</Frame>
          <Frame depth="3">org.eclipse.search.internal.core.text.TextSearchVisitor.visit(TextSearchVisitor.java(Compiled Code))</Frame>
          <Frame depth="4">org.eclipse.core.internal.resources.Resource$1.visitElement(Resource.java(Compiled Code))</Frame>
          <Frame depth="5">org.eclipse.core.internal.watson.ElementTreeIterator.doIteration(ElementTreeIterator.java(Compiled Code))</Frame>
          <Frame depth="6">org.eclipse.core.internal.watson.ElementTreeIterator.doIteration(ElementTreeIterator.java(Compiled Code))</Frame>
          <Frame depth="7">org.eclipse.core.internal.watson.ElementTreeIterator.doIteration(ElementTreeIterator.java(Compiled Code))</Frame>
          <Frame depth="8">org.eclipse.core.internal.watson.ElementTreeIterator.doIteration(ElementTreeIterator.java(Compiled Code))</Frame>
          <Frame depth="9">org.eclipse.core.internal.watson.ElementTreeIterator.doIteration(ElementTreeIterator.java(Compiled Code))</Frame>
          <Frame depth="10">org.eclipse.core.internal.watson.ElementTreeIterator.doIteration(ElementTreeIterator.java(Compiled Code))</Frame>
          <Frame depth="11">org.eclipse.core.internal.watson.ElementTreeIterator.doIteration(ElementTreeIterator.java(Compiled Code))</Frame>
          <Frame depth="12">org.eclipse.core.internal.watson.ElementTreeIterator.iterate(ElementTreeIterator.java(Compiled Code))</Frame>
          <Frame depth="13">org.eclipse.core.internal.resources.Resource.accept(Resource.java:63)</Frame>
          <Frame depth="14">org.eclipse.search.internal.core.text.TextSearchVisitor.process(TextSearchVisitor.java:95)</Frame>
          <Frame depth="15">org.eclipse.search.internal.core.text.TextSearchEngine.search(TextSearchEngine.java:56)</Frame>
          <Frame depth="16">org.eclipse.search.internal.ui.text.TextSearchOperation.execute(TextSearchOperation.java:55)</Frame>
          <Frame depth="17">org.eclipse.ui.actions.WorkspaceModifyOperation$1.run(WorkspaceModifyOperation.java:65)</Frame>
          <Frame depth="18">org.eclipse.core.internal.resources.Workspace.run(Workspace.java(Compiled Code))</Frame>
          <Frame depth="19">org.eclipse.ui.actions.WorkspaceModifyOperation.run(WorkspaceModifyOperation.java:79)</Frame>
          <Frame depth="20">org.eclipse.jface.operation.ModalContext$ModalContextThread.run(ModalContext.java:95)</Frame>
        </Frames>
      </Stacktrace>
      <Stacktrace timestamp="1437339868129">
        <Exception>org.eclipse.core.runtime.OperationCanceledException</Exception>
        <Reason>Operation Canceled</Reason>
        <Frames>
          <Frame depth="0">org.eclipse.search.internal.core.text.TextSearchVisitor.updateProgressMonitor(TextSearchVisitor.java(Compiled Code))</Frame>
          <Frame depth="1">org.eclipse.search.internal.core.text.TextSearchVisitor.visitFile(TextSearchVisitor.java(Compiled Code))</Frame>
          <Frame depth="2">org.eclipse.search.internal.core.text.TypedResourceVisitor.visit(TypedResourceVisitor.java(Compiled Code))</Frame>
          <Frame depth="3">org.eclipse.search.internal.core.text.TextSearchVisitor.visit(TextSearchVisitor.java(Compiled Code))</Frame>
          <Frame depth="4">org.eclipse.core.internal.resources.Resource$1.visitElement(Resource.java(Compiled Code))</Frame>
          <Frame depth="5">org.eclipse.core.internal.watson.ElementTreeIterator.doIteration(ElementTreeIterator.java(Compiled Code))</Frame>
          <Frame depth="6">org.eclipse.core.internal.watson.ElementTreeIterator.doIteration(ElementTreeIterator.java(Compiled Code))</Frame>
          <Frame depth="7">org.eclipse.core.internal.watson.ElementTreeIterator.doIteration(ElementTreeIterator.java(Compiled Code))</Frame>
          <Frame depth="8">org.eclipse.core.internal.watson.ElementTreeIterator.doIteration(ElementTreeIterator.java(Compiled Code))</Frame>
          <Frame depth="9">org.eclipse.core.internal.watson.ElementTreeIterator.doIteration(ElementTreeIterator.java(Compiled Code))</Frame>
          <Frame depth="10">org.eclipse.core.internal.watson.ElementTreeIterator.doIteration(ElementTreeIterator.java(Compiled Code))</Frame>
          <Frame depth="11">org.eclipse.core.internal.watson.ElementTreeIterator.doIteration(ElementTreeIterator.java(Compiled Code))</Frame>
          <Frame depth="12">org.eclipse.core.internal.watson.ElementTreeIterator.iterate(ElementTreeIterator.java(Compiled Code))</Frame>
          <Frame depth="13">org.eclipse.core.internal.resources.Resource.accept(Resource.java:63)</Frame>
          <Frame depth="14">org.eclipse.search.internal.core.text.TextSearchVisitor.process(TextSearchVisitor.java:95)</Frame>
          <Frame depth="15">org.eclipse.search.internal.core.text.TextSearchEngine.search(TextSearchEngine.java:56)</Frame>
          <Frame depth="16">org.eclipse.search.internal.ui.text.TextSearchOperation.execute(TextSearchOperation.java:55)</Frame>
          <Frame depth="17">org.eclipse.ui.actions.WorkspaceModifyOperation$1.run(WorkspaceModifyOperation.java:65)</Frame>
          <Frame depth="18">org.eclipse.core.internal.resources.Workspace.run(Workspace.java(Compiled Code))</Frame>
          <Frame depth="19">org.eclipse.ui.actions.WorkspaceModifyOperation.run(WorkspaceModifyOperation.java:79)</Frame>
          <Frame depth="20">org.eclipse.jface.operation.ModalContext$ModalContextThread.run(ModalContext.java:95)</Frame>
        </Frames>
      </Stacktrace>
      <Stacktrace timestamp="1437339868129">
        <Exception>org.eclipse.core.runtime.OperationCanceledException</Exception>
        <Reason>Operation Canceled</Reason>
        <Frames>
          <Frame depth="0">org.eclipse.search.internal.core.text.TextSearchVisitor.updateProgressMonitor(TextSearchVisitor.java(Compiled Code))</Frame>
          <Frame depth="1">org.eclipse.search.internal.core.text.TextSearchVisitor.visitFile(TextSearchVisitor.java(Compiled Code))</Frame>
          <Frame depth="2">org.eclipse.search.internal.core.text.TypedResourceVisitor.visit(TypedResourceVisitor.java(Compiled Code))</Frame>
          <Frame depth="3">org.eclipse.search.internal.core.text.TextSearchVisitor.visit(TextSearchVisitor.java(Compiled Code))</Frame>
          <Frame depth="4">org.eclipse.core.internal.resources.Resource$1.visitElement(Resource.java(Compiled Code))</Frame>
          <Frame depth="5">org.eclipse.core.internal.watson.ElementTreeIterator.doIteration(ElementTreeIterator.java(Compiled Code))</Frame>
          <Frame depth="6">org.eclipse.core.internal.watson.ElementTreeIterator.doIteration(ElementTreeIterator.java(Compiled Code))</Frame>
          <Frame depth="7">org.eclipse.core.internal.watson.ElementTreeIterator.doIteration(ElementTreeIterator.java(Compiled Code))</Frame>
          <Frame depth="8">org.eclipse.core.internal.watson.ElementTreeIterator.doIteration(ElementTreeIterator.java(Compiled Code))</Frame>
          <Frame depth="9">org.eclipse.core.internal.watson.ElementTreeIterator.doIteration(ElementTreeIterator.java(Compiled Code))</Frame>
          <Frame depth="10">org.eclipse.core.internal.watson.ElementTreeIterator.doIteration(ElementTreeIterator.java(Compiled Code))</Frame>
          <Frame depth="11">org.eclipse.core.internal.watson.ElementTreeIterator.doIteration(ElementTreeIterator.java(Compiled Code))</Frame>
          <Frame depth="12">org.eclipse.core.internal.watson.ElementTreeIterator.iterate(ElementTreeIterator.java(Compiled Code))</Frame>
          <Frame depth="13">org.eclipse.core.internal.resources.Resource.accept(Resource.java:63)</Frame>
          <Frame depth="14">org.eclipse.search.internal.core.text.TextSearchVisitor.process(TextSearchVisitor.java:95)</Frame>
          <Frame depth="15">org.eclipse.search.internal.core.text.TextSearchEngine.search(TextSearchEngine.java:56)</Frame>
          <Frame depth="16">org.eclipse.search.internal.ui.text.TextSearchOperation.execute(TextSearchOperation.java:55)</Frame>
          <Frame depth="17">org.eclipse.ui.actions.WorkspaceModifyOperation$1.run(WorkspaceModifyOperation.java:65)</Frame>
          <Frame depth="18">org.eclipse.core.internal.resources.Workspace.run(Workspace.java(Compiled Code))</Frame>
          <Frame depth="19">org.eclipse.ui.actions.WorkspaceModifyOperation.run(WorkspaceModifyOperation.java:79)</Frame>
          <Frame depth="20">org.eclipse.jface.operation.ModalContext$ModalContextThread.run(ModalContext.java:95)</Frame>
        </Frames>
      </Stacktrace>
      <Stacktrace timestamp="1437339868129">
        <Exception>org.eclipse.core.runtime.OperationCanceledException</Exception>
        <Reason>Operation Canceled</Reason>
        <Frames>
          <Frame depth="0">org.eclipse.search.internal.core.text.TextSearchVisitor.updateProgressMonitor(TextSearchVisitor.java(Compiled Code))</Frame>
          <Frame depth="1">org.eclipse.search.internal.core.text.TextSearchVisitor.visitFile(TextSearchVisitor.java(Compiled Code))</Frame>
          <Frame depth="2">org.eclipse.search.internal.core.text.TypedResourceVisitor.visit(TypedResourceVisitor.java(Compiled Code))</Frame>
          <Frame depth="3">org.eclipse.search.internal.core.text.TextSearchVisitor.visit(TextSearchVisitor.java(Compiled Code))</Frame>
          <Frame depth="4">org.eclipse.core.internal.resources.Resource$1.visitElement(Resource.java(Compiled Code))</Frame>
          <Frame depth="5">org.eclipse.core.internal.watson.ElementTreeIterator.doIteration(ElementTreeIterator.java(Compiled Code))</Frame>
          <Frame depth="6">org.eclipse.core.internal.watson.ElementTreeIterator.doIteration(ElementTreeIterator.java(Compiled Code))</Frame>
          <Frame depth="7">org.eclipse.core.internal.watson.ElementTreeIterator.doIteration(ElementTreeIterator.java(Compiled Code))</Frame>
          <Frame depth="8">org.eclipse.core.internal.watson.ElementTreeIterator.doIteration(ElementTreeIterator.java(Compiled Code))</Frame>
          <Frame depth="9">org.eclipse.core.internal.watson.ElementTreeIterator.doIteration(ElementTreeIterator.java(Compiled Code))</Frame>
          <Frame depth="10">org.eclipse.core.internal.watson.ElementTreeIterator.doIteration(ElementTreeIterator.java(Compiled Code))</Frame>
          <Frame depth="11">org.eclipse.core.internal.watson.ElementTreeIterator.doIteration(ElementTreeIterator.java(Compiled Code))</Frame>
          <Frame depth="12">org.eclipse.core.internal.watson.ElementTreeIterator.iterate(ElementTreeIterator.java(Compiled Code))</Frame>
          <Frame depth="13">org.eclipse.core.internal.resources.Resource.accept(Resource.java:63)</Frame>
          <Frame depth="14">org.eclipse.search.internal.core.text.TextSearchVisitor.process(TextSearchVisitor.java:95)</Frame>
          <Frame depth="15">org.eclipse.search.internal.core.text.TextSearchEngine.search(TextSearchEngine.java:56)</Frame>
          <Frame depth="16">org.eclipse.search.internal.ui.text.TextSearchOperation.execute(TextSearchOperation.java:55)</Frame>
          <Frame depth="17">org.eclipse.ui.actions.WorkspaceModifyOperation$1.run(WorkspaceModifyOperation.java:65)</Frame>
          <Frame depth="18">org.eclipse.core.internal.resources.Workspace.run(Workspace.java(Compiled Code))</Frame>
          <Frame depth="19">org.eclipse.ui.actions.WorkspaceModifyOperation.run(WorkspaceModifyOperation.java:79)</Frame>
          <Frame depth="20">org.eclipse.jface.operation.ModalContext$ModalContextThread.run(ModalContext.java:95)</Frame>
        </Frames>
      </Stacktrace>
      <Stacktrace timestamp="1437339868129">
        <Exception>org.eclipse.core.runtime.OperationCanceledException</Exception>
        <Reason>Operation Canceled</Reason>
        <Frames>
          <Frame depth="0">org.eclipse.search.internal.core.text.TextSearchVisitor.updateProgressMonitor(TextSearchVisitor.java(Compiled Code))</Frame>
          <Frame depth="1">org.eclipse.search.internal.core.text.TextSearchVisitor.visitFile(TextSearchVisitor.java(Compiled Code))</Frame>
          <Frame depth="2">org.eclipse.search.internal.core.text.TypedResourceVisitor.visit(TypedResourceVisitor.java(Compiled Code))</Frame>
          <Frame depth="3">org.eclipse.search.internal.core.text.TextSearchVisitor.visit(TextSearchVisitor.java(Compiled Code))</Frame>
          <Frame depth="4">org.eclipse.core.internal.resources.Resource$1.visitElement(Resource.java(Compiled Code))</Frame>
          <Frame depth="5">org.eclipse.core.internal.watson.ElementTreeIterator.doIteration(ElementTreeIterator.java(Compiled Code))</Frame>
          <Frame depth="6">org.eclipse.core.internal.watson.ElementTreeIterator.doIteration(ElementTreeIterator.java(Compiled Code))</Frame>
          <Frame depth="7">org.eclipse.core.internal.watson.ElementTreeIterator.doIteration(ElementTreeIterator.java(Compiled Code))</Frame>
          <Frame depth="8">org.eclipse.core.internal.watson.ElementTreeIterator.doIteration(ElementTreeIterator.java(Compiled Code))</Frame>
          <Frame depth="9">org.eclipse.core.internal.watson.ElementTreeIterator.doIteration(ElementTreeIterator.java(Compiled Code))</Frame>
          <Frame depth="10">org.eclipse.core.internal.watson.ElementTreeIterator.doIteration(ElementTreeIterator.java(Compiled Code))</Frame>
          <Frame depth="11">org.eclipse.core.internal.watson.ElementTreeIterator.doIteration(ElementTreeIterator.java(Compiled Code))</Frame>
          <Frame depth="12">org.eclipse.core.internal.watson.ElementTreeIterator.iterate(ElementTreeIterator.java(Compiled Code))</Frame>
          <Frame depth="13">org.eclipse.core.internal.resources.Resource.accept(Resource.java:63)</Frame>
          <Frame depth="14">org.eclipse.search.internal.core.text.TextSearchVisitor.process(TextSearchVisitor.java:95)</Frame>
          <Frame depth="15">org.eclipse.search.internal.core.text.TextSearchEngine.search(TextSearchEngine.java:56)</Frame>
          <Frame depth="16">org.eclipse.search.internal.ui.text.TextSearchOperation.execute(TextSearchOperation.java:55)</Frame>
          <Frame depth="17">org.eclipse.ui.actions.WorkspaceModifyOperation$1.run(WorkspaceModifyOperation.java:65)</Frame>
          <Frame depth="18">org.eclipse.core.internal.resources.Workspace.run(Workspace.java(Compiled Code))</Frame>
          <Frame depth="19">org.eclipse.ui.actions.WorkspaceModifyOperation.run(WorkspaceModifyOperation.java:79)</Frame>
          <Frame depth="20">org.eclipse.jface.operation.ModalContext$ModalContextThread.run(ModalContext.java:95)</Frame>
        </Frames>
      </Stacktrace>
      <Stacktrace timestamp="1437339868129">
        <Exception>org.eclipse.core.runtime.OperationCanceledException</Exception>
        <Reason>Operation Canceled</Reason>
        <Frames>
          <Frame depth="0">org.eclipse.search.internal.core.text.TextSearchVisitor.updateProgressMonitor(TextSearchVisitor.java(Compiled Code))</Frame>
          <Frame depth="1">org.eclipse.search.internal.core.text.TextSearchVisitor.visitFile(TextSearchVisitor.java(Compiled Code))</Frame>
          <Frame depth="2">org.eclipse.search.internal.core.text.TypedResourceVisitor.visit(TypedResourceVisitor.java(Compiled Code))</Frame>
          <Frame depth="3">org.eclipse.search.internal.core.text.TextSearchVisitor.visit(TextSearchVisitor.java(Compiled Code))</Frame>
          <Frame depth="4">org.eclipse.core.internal.resources.Resource$1.visitElement(Resource.java(Compiled Code))</Frame>
          <Frame depth="5">org.eclipse.core.internal.watson.ElementTreeIterator.doIteration(ElementTreeIterator.java(Compiled Code))</Frame>
          <Frame depth="6">org.eclipse.core.internal.watson.ElementTreeIterator.doIteration(ElementTreeIterator.java(Compiled Code))</Frame>
          <Frame depth="7">org.eclipse.core.internal.watson.ElementTreeIterator.doIteration(ElementTreeIterator.java(Compiled Code))</Frame>
          <Frame depth="8">org.eclipse.core.internal.watson.ElementTreeIterator.doIteration(ElementTreeIterator.java(Compiled Code))</Frame>
          <Frame depth="9">org.eclipse.core.internal.watson.ElementTreeIterator.doIteration(ElementTreeIterator.java(Compiled Code))</Frame>
          <Frame depth="10">org.eclipse.core.internal.watson.ElementTreeIterator.doIteration(ElementTreeIterator.java(Compiled Code))</Frame>
          <Frame depth="11">org.eclipse.core.internal.watson.ElementTreeIterator.doIteration(ElementTreeIterator.java(Compiled Code))</Frame>
          <Frame depth="12">org.eclipse.core.internal.watson.ElementTreeIterator.iterate(ElementTreeIterator.java(Compiled Code))</Frame>
          <Frame depth="13">org.eclipse.core.internal.resources.Resource.accept(Resource.java:63)</Frame>
          <Frame depth="14">org.eclipse.search.internal.core.text.TextSearchVisitor.process(TextSearchVisitor.java:95)</Frame>
          <Frame depth="15">org.eclipse.search.internal.core.text.TextSearchEngine.search(TextSearchEngine.java:56)</Frame>
          <Frame depth="16">org.eclipse.search.internal.ui.text.TextSearchOperation.execute(TextSearchOperation.java:55)</Frame>
          <Frame depth="17">org.eclipse.ui.actions.WorkspaceModifyOperation$1.run(WorkspaceModifyOperation.java:65)</Frame>
          <Frame depth="18">org.eclipse.core.internal.resources.Workspace.run(Workspace.java(Compiled Code))</Frame>
          <Frame depth="19">org.eclipse.ui.actions.WorkspaceModifyOperation.run(WorkspaceModifyOperation.java:79)</Frame>
          <Frame depth="20">org.eclipse.jface.operation.ModalContext$ModalContextThread.run(ModalContext.java:95)</Frame>
        </Frames>
      </Stacktrace>
      <Stacktrace timestamp="1437339868129">
        <Exception>org.eclipse.core.runtime.OperationCanceledException</Exception>
        <Reason>Operation Canceled</Reason>
        <Frames>
          <Frame depth="0">org.eclipse.search.internal.core.text.TextSearchVisitor.updateProgressMonitor(TextSearchVisitor.java(Compiled Code))</Frame>
          <Frame depth="1">org.eclipse.search.internal.core.text.TextSearchVisitor.visitFile(TextSearchVisitor.java(Compiled Code))</Frame>
          <Frame depth="2">org.eclipse.search.internal.core.text.TypedResourceVisitor.visit(TypedResourceVisitor.java(Compiled Code))</Frame>
          <Frame depth="3">org.eclipse.search.internal.core.text.TextSearchVisitor.visit(TextSearchVisitor.java(Compiled Code))</Frame>
          <Frame depth="4">org.eclipse.core.internal.resources.Resource$1.visitElement(Resource.java(Compiled Code))</Frame>
          <Frame depth="5">org.eclipse.core.internal.watson.ElementTreeIterator.doIteration(ElementTreeIterator.java(Compiled Code))</Frame>
          <Frame depth="6">org.eclipse.core.internal.watson.ElementTreeIterator.doIteration(ElementTreeIterator.java(Compiled Code))</Frame>
          <Frame depth="7">org.eclipse.core.internal.watson.ElementTreeIterator.doIteration(ElementTreeIterator.java(Compiled Code))</Frame>
          <Frame depth="8">org.eclipse.core.internal.watson.ElementTreeIterator.doIteration(ElementTreeIterator.java(Compiled Code))</Frame>
          <Frame depth="9">org.eclipse.core.internal.watson.ElementTreeIterator.doIteration(ElementTreeIterator.java(Compiled Code))</Frame>
          <Frame depth="10">org.eclipse.core.internal.watson.ElementTreeIterator.doIteration(ElementTreeIterator.java(Compiled Code))</Frame>
          <Frame depth="11">org.eclipse.core.internal.watson.ElementTreeIterator.doIteration(ElementTreeIterator.java(Compiled Code))</Frame>
          <Frame depth="12">org.eclipse.core.internal.watson.ElementTreeIterator.iterate(ElementTreeIterator.java(Compiled Code))</Frame>
          <Frame depth="13">org.eclipse.core.internal.resources.Resource.accept(Resource.java:63)</Frame>
          <Frame depth="14">org.eclipse.search.internal.core.text.TextSearchVisitor.process(TextSearchVisitor.java:95)</Frame>
          <Frame depth="15">org.eclipse.search.internal.core.text.TextSearchEngine.search(TextSearchEngine.java:56)</Frame>
          <Frame depth="16">org.eclipse.search.internal.ui.text.TextSearchOperation.execute(TextSearchOperation.java:55)</Frame>
          <Frame depth="17">org.eclipse.ui.actions.WorkspaceModifyOperation$1.run(WorkspaceModifyOperation.java:65)</Frame>
          <Frame depth="18">org.eclipse.core.internal.resources.Workspace.run(Workspace.java(Compiled Code))</Frame>
          <Frame depth="19">org.eclipse.ui.actions.WorkspaceModifyOperation.run(WorkspaceModifyOperation.java:79)</Frame>
          <Frame depth="20">org.eclipse.jface.operation.ModalContext$ModalContextThread.run(ModalContext.java:95)</Frame>
        </Frames>
      </Stacktrace>
    </Stacktraces>
    <SourceCodeRegions amount="0" />
    <Enumerations amount="1">
      <Enumeration lines="3">
        <Lines>
          <Line>1) Open the file search</Line>
          <Line>2) search for org.eclipse.ui.workbench in Workbench</Line>
          <Line>3) Cancel it about halfway through</Line>
        </Lines>
      </Enumeration>
    </Enumerations>
    <bug_status amount="RESOLVED" />
    <resolution amount="DUPLICATE" />
    <WithStack>20030211

If you can cancel a search you get a series of errors.

STEPS
1) Open the file search 
2) search for org.eclipse.ui.workbench in Workbench
3) Cancel it about halfway through

!ENTRY org.eclipse.core.resources 4 566 Feb 13, 2003 14:12:07.484
!MESSAGE An error occurred while traversing resources.
!STACK 0
org.eclipse.core.runtime.OperationCanceledException: Operation Canceled
	at 
org.eclipse.search.internal.core.text.TextSearchVisitor.updateProgressMonitor
(TextSearchVisitor.java(Compiled Code))
	at org.eclipse.search.internal.core.text.TextSearchVisitor.visitFile
(TextSearchVisitor.java(Compiled Code))
	at org.eclipse.search.internal.core.text.TypedResourceVisitor.visit
(TypedResourceVisitor.java(Compiled Code))
	at org.eclipse.search.internal.core.text.TextSearchVisitor.visit
(TextSearchVisitor.java(Compiled Code))
	at org.eclipse.core.internal.resources.Resource$1.visitElement
(Resource.java(Compiled Code))
	at org.eclipse.core.internal.watson.ElementTreeIterator.doIteration
(ElementTreeIterator.java(Compiled Code))
	at org.eclipse.core.internal.watson.ElementTreeIterator.doIteration
(ElementTreeIterator.java(Compiled Code))
	at org.eclipse.core.internal.watson.ElementTreeIterator.doIteration
(ElementTreeIterator.java(Compiled Code))
	at org.eclipse.core.internal.watson.ElementTreeIterator.doIteration
(ElementTreeIterator.java(Compiled Code))
	at org.eclipse.core.internal.watson.ElementTreeIterator.doIteration
(ElementTreeIterator.java(Compiled Code))
	at org.eclipse.core.internal.watson.ElementTreeIterator.doIteration
(ElementTreeIterator.java(Compiled Code))
	at org.eclipse.core.internal.watson.ElementTreeIterator.doIteration
(ElementTreeIterator.java(Compiled Code))
	at org.eclipse.core.internal.watson.ElementTreeIterator.iterate
(ElementTreeIterator.java(Compiled Code))
	at org.eclipse.core.internal.resources.Resource.accept
(Resource.java:63)
	at org.eclipse.search.internal.core.text.TextSearchVisitor.process
(TextSearchVisitor.java:95)
	at org.eclipse.search.internal.core.text.TextSearchEngine.search
(TextSearchEngine.java:56)
	at org.eclipse.search.internal.ui.text.TextSearchOperation.execute
(TextSearchOperation.java:55)
	at org.eclipse.ui.actions.WorkspaceModifyOperation$1.run
(WorkspaceModifyOperation.java:65)
	at org.eclipse.core.internal.resources.Workspace.run(Workspace.java
(Compiled Code))
	at org.eclipse.ui.actions.WorkspaceModifyOperation.run
(WorkspaceModifyOperation.java:79)
	at org.eclipse.jface.operation.ModalContext$ModalContextThread.run
(ModalContext.java:95)
!ENTRY org.eclipse.core.resources 4 566 Feb 13, 2003 14:12:07.672
!MESSAGE An error occurred while traversing resources.
!STACK 0
org.eclipse.core.runtime.OperationCanceledException: Operation Canceled
	at 
org.eclipse.search.internal.core.text.TextSearchVisitor.updateProgressMonitor
(TextSearchVisitor.java(Compiled Code))
	at org.eclipse.search.internal.core.text.TextSearchVisitor.visitFile
(TextSearchVisitor.java(Compiled Code))
	at org.eclipse.search.internal.core.text.TypedResourceVisitor.visit
(TypedResourceVisitor.java(Compiled Code))
	at org.eclipse.search.internal.core.text.TextSearchVisitor.visit
(TextSearchVisitor.java(Compiled Code))
	at org.eclipse.core.internal.resources.Resource$1.visitElement
(Resource.java(Compiled Code))
	at org.eclipse.core.internal.watson.ElementTreeIterator.doIteration
(ElementTreeIterator.java(Compiled Code))
	at org.eclipse.core.internal.watson.ElementTreeIterator.doIteration
(ElementTreeIterator.java(Compiled Code))
	at org.eclipse.core.internal.watson.ElementTreeIterator.doIteration
(ElementTreeIterator.java(Compiled Code))
	at org.eclipse.core.internal.watson.ElementTreeIterator.doIteration
(ElementTreeIterator.java(Compiled Code))
	at org.eclipse.core.internal.watson.ElementTreeIterator.doIteration
(ElementTreeIterator.java(Compiled Code))
	at org.eclipse.core.internal.watson.ElementTreeIterator.doIteration
(ElementTreeIterator.java(Compiled Code))
	at org.eclipse.core.internal.watson.ElementTreeIterator.doIteration
(ElementTreeIterator.java(Compiled Code))
	at org.eclipse.core.internal.watson.ElementTreeIterator.iterate
(ElementTreeIterator.java(Compiled Code))
	at org.eclipse.core.internal.resources.Resource.accept
(Resource.java:63)
	at org.eclipse.search.internal.core.text.TextSearchVisitor.process
(TextSearchVisitor.java:95)
	at org.eclipse.search.internal.core.text.TextSearchEngine.search
(TextSearchEngine.java:56)
	at org.eclipse.search.internal.ui.text.TextSearchOperation.execute
(TextSearchOperation.java:55)
	at org.eclipse.ui.actions.WorkspaceModifyOperation$1.run
(WorkspaceModifyOperation.java:65)
	at org.eclipse.core.internal.resources.Workspace.run(Workspace.java
(Compiled Code))
	at org.eclipse.ui.actions.WorkspaceModifyOperation.run
(WorkspaceModifyOperation.java:79)
	at org.eclipse.jface.operation.ModalContext$ModalContextThread.run
(ModalContext.java:95)
!ENTRY org.eclipse.core.resources 4 566 Feb 13, 2003 14:12:07.859
!MESSAGE An error occurred while traversing resources.
!STACK 0
org.eclipse.core.runtime.OperationCanceledException: Operation Canceled
	at 
org.eclipse.search.internal.core.text.TextSearchVisitor.updateProgressMonitor
(TextSearchVisitor.java(Compiled Code))
	at org.eclipse.search.internal.core.text.TextSearchVisitor.visitFile
(TextSearchVisitor.java(Compiled Code))
	at org.eclipse.search.internal.core.text.TypedResourceVisitor.visit
(TypedResourceVisitor.java(Compiled Code))
	at org.eclipse.search.internal.core.text.TextSearchVisitor.visit
(TextSearchVisitor.java(Compiled Code))
	at org.eclipse.core.internal.resources.Resource$1.visitElement
(Resource.java(Compiled Code))
	at org.eclipse.core.internal.watson.ElementTreeIterator.doIteration
(ElementTreeIterator.java(Compiled Code))
	at org.eclipse.core.internal.watson.ElementTreeIterator.doIteration
(ElementTreeIterator.java(Compiled Code))
	at org.eclipse.core.internal.watson.ElementTreeIterator.doIteration
(ElementTreeIterator.java(Compiled Code))
	at org.eclipse.core.internal.watson.ElementTreeIterator.doIteration
(ElementTreeIterator.java(Compiled Code))
	at org.eclipse.core.internal.watson.ElementTreeIterator.doIteration
(ElementTreeIterator.java(Compiled Code))
	at org.eclipse.core.internal.watson.ElementTreeIterator.doIteration
(ElementTreeIterator.java(Compiled Code))
	at org.eclipse.core.internal.watson.ElementTreeIterator.doIteration
(ElementTreeIterator.java(Compiled Code))
	at org.eclipse.core.internal.watson.ElementTreeIterator.iterate
(ElementTreeIterator.java(Compiled Code))
	at org.eclipse.core.internal.resources.Resource.accept
(Resource.java:63)
	at org.eclipse.search.internal.core.text.TextSearchVisitor.process
(TextSearchVisitor.java:95)
	at org.eclipse.search.internal.core.text.TextSearchEngine.search
(TextSearchEngine.java:56)
	at org.eclipse.search.internal.ui.text.TextSearchOperation.execute
(TextSearchOperation.java:55)
	at org.eclipse.ui.actions.WorkspaceModifyOperation$1.run
(WorkspaceModifyOperation.java:65)
	at org.eclipse.core.internal.resources.Workspace.run(Workspace.java
(Compiled Code))
	at org.eclipse.ui.actions.WorkspaceModifyOperation.run
(WorkspaceModifyOperation.java:79)
	at org.eclipse.jface.operation.ModalContext$ModalContextThread.run
(ModalContext.java:95)
!ENTRY org.eclipse.core.resources 4 566 Feb 13, 2003 14:12:08.47
!MESSAGE An error occurred while traversing resources.
!STACK 0
org.eclipse.core.runtime.OperationCanceledException: Operation Canceled
	at 
org.eclipse.search.internal.core.text.TextSearchVisitor.updateProgressMonitor
(TextSearchVisitor.java(Compiled Code))
	at org.eclipse.search.internal.core.text.TextSearchVisitor.visitFile
(TextSearchVisitor.java(Compiled Code))
	at org.eclipse.search.internal.core.text.TypedResourceVisitor.visit
(TypedResourceVisitor.java(Compiled Code))
	at org.eclipse.search.internal.core.text.TextSearchVisitor.visit
(TextSearchVisitor.java(Compiled Code))
	at org.eclipse.core.internal.resources.Resource$1.visitElement
(Resource.java(Compiled Code))
	at org.eclipse.core.internal.watson.ElementTreeIterator.doIteration
(ElementTreeIterator.java(Compiled Code))
	at org.eclipse.core.internal.watson.ElementTreeIterator.doIteration
(ElementTreeIterator.java(Compiled Code))
	at org.eclipse.core.internal.watson.ElementTreeIterator.doIteration
(ElementTreeIterator.java(Compiled Code))
	at org.eclipse.core.internal.watson.ElementTreeIterator.doIteration
(ElementTreeIterator.java(Compiled Code))
	at org.eclipse.core.internal.watson.ElementTreeIterator.doIteration
(ElementTreeIterator.java(Compiled Code))
	at org.eclipse.core.internal.watson.ElementTreeIterator.iterate
(ElementTreeIterator.java(Compiled Code))
	at org.eclipse.core.internal.resources.Resource.accept
(Resource.java:63)
	at org.eclipse.search.internal.core.text.TextSearchVisitor.process
(TextSearchVisitor.java:95)
	at org.eclipse.search.internal.core.text.TextSearchEngine.search
(TextSearchEngine.java:56)
	at org.eclipse.search.internal.ui.text.TextSearchOperation.execute
(TextSearchOperation.java:55)
	at org.eclipse.ui.actions.WorkspaceModifyOperation$1.run
(WorkspaceModifyOperation.java:65)
	at org.eclipse.core.internal.resources.Workspace.run(Workspace.java
(Compiled Code))
	at org.eclipse.ui.actions.WorkspaceModifyOperation.run
(WorkspaceModifyOperation.java:79)
	at org.eclipse.jface.operation.ModalContext$ModalContextThread.run
(ModalContext.java:95)
!ENTRY org.eclipse.core.resources 4 566 Feb 13, 2003 14:12:08.203
!MESSAGE An error occurred while traversing resources.
!STACK 0
org.eclipse.core.runtime.OperationCanceledException: Operation Canceled
	at 
org.eclipse.search.internal.core.text.TextSearchVisitor.updateProgressMonitor
(TextSearchVisitor.java(Compiled Code))
	at org.eclipse.search.internal.core.text.TextSearchVisitor.visitFile
(TextSearchVisitor.java(Compiled Code))
	at org.eclipse.search.internal.core.text.TypedResourceVisitor.visit
(TypedResourceVisitor.java(Compiled Code))
	at org.eclipse.search.internal.core.text.TextSearchVisitor.visit
(TextSearchVisitor.java(Compiled Code))
	at org.eclipse.core.internal.resources.Resource$1.visitElement
(Resource.java(Compiled Code))
	at org.eclipse.core.internal.watson.ElementTreeIterator.doIteration
(ElementTreeIterator.java(Compiled Code))
	at org.eclipse.core.internal.watson.ElementTreeIterator.doIteration
(ElementTreeIterator.java(Compiled Code))
	at org.eclipse.core.internal.watson.ElementTreeIterator.doIteration
(ElementTreeIterator.java(Compiled Code))
	at org.eclipse.core.internal.watson.ElementTreeIterator.doIteration
(ElementTreeIterator.java(Compiled Code))
	at org.eclipse.core.internal.watson.ElementTreeIterator.doIteration
(ElementTreeIterator.java(Compiled Code))
	at org.eclipse.core.internal.watson.ElementTreeIterator.doIteration
(ElementTreeIterator.java(Compiled Code))
	at org.eclipse.core.internal.watson.ElementTreeIterator.doIteration
(ElementTreeIterator.java(Compiled Code))
	at org.eclipse.core.internal.watson.ElementTreeIterator.iterate
(ElementTreeIterator.java(Compiled Code))
	at org.eclipse.core.internal.resources.Resource.accept
(Resource.java:63)
	at org.eclipse.search.internal.core.text.TextSearchVisitor.process
(TextSearchVisitor.java:95)
	at org.eclipse.search.internal.core.text.TextSearchEngine.search
(TextSearchEngine.java:56)
	at org.eclipse.search.internal.ui.text.TextSearchOperation.execute
(TextSearchOperation.java:55)
	at org.eclipse.ui.actions.WorkspaceModifyOperation$1.run
(WorkspaceModifyOperation.java:65)
	at org.eclipse.core.internal.resources.Workspace.run(Workspace.java
(Compiled Code))
	at org.eclipse.ui.actions.WorkspaceModifyOperation.run
(WorkspaceModifyOperation.java:79)
	at org.eclipse.jface.operation.ModalContext$ModalContextThread.run
(ModalContext.java:95)
!ENTRY org.eclipse.core.resources 4 566 Feb 13, 2003 14:12:08.391
!MESSAGE An error occurred while traversing resources.
!STACK 0
org.eclipse.core.runtime.OperationCanceledException: Operation Canceled
	at 
org.eclipse.search.internal.core.text.TextSearchVisitor.updateProgressMonitor
(TextSearchVisitor.java(Compiled Code))
	at org.eclipse.search.internal.core.text.TextSearchVisitor.visitFile
(TextSearchVisitor.java(Compiled Code))
	at org.eclipse.search.internal.core.text.TypedResourceVisitor.visit
(TypedResourceVisitor.java(Compiled Code))
	at org.eclipse.search.internal.core.text.TextSearchVisitor.visit
(TextSearchVisitor.java(Compiled Code))
	at org.eclipse.core.internal.resources.Resource$1.visitElement
(Resource.java(Compiled Code))
	at org.eclipse.core.internal.watson.ElementTreeIterator.doIteration
(ElementTreeIterator.java(Compiled Code))
	at org.eclipse.core.internal.watson.ElementTreeIterator.doIteration
(ElementTreeIterator.java(Compiled Code))
	at org.eclipse.core.internal.watson.ElementTreeIterator.doIteration
(ElementTreeIterator.java(Compiled Code))
	at org.eclipse.core.internal.watson.ElementTreeIterator.doIteration
(ElementTreeIterator.java(Compiled Code))
	at org.eclipse.core.internal.watson.ElementTreeIterator.doIteration
(ElementTreeIterator.java(Compiled Code))
	at org.eclipse.core.internal.watson.ElementTreeIterator.doIteration
(ElementTreeIterator.java(Compiled Code))
	at org.eclipse.core.internal.watson.ElementTreeIterator.doIteration
(ElementTreeIterator.java(Compiled Code))
	at org.eclipse.core.internal.watson.ElementTreeIterator.iterate
(ElementTreeIterator.java(Compiled Code))
	at org.eclipse.core.internal.resources.Resource.accept
(Resource.java:63)
	at org.eclipse.search.internal.core.text.TextSearchVisitor.process
(TextSearchVisitor.java:95)
	at org.eclipse.search.internal.core.text.TextSearchEngine.search
(TextSearchEngine.java:56)
	at org.eclipse.search.internal.ui.text.TextSearchOperation.execute
(TextSearchOperation.java:55)
	at org.eclipse.ui.actions.WorkspaceModifyOperation$1.run
(WorkspaceModifyOperation.java:65)
	at org.eclipse.core.internal.resources.Workspace.run(Workspace.java
(Compiled Code))
	at org.eclipse.ui.actions.WorkspaceModifyOperation.run
(WorkspaceModifyOperation.java:79)
	at org.eclipse.jface.operation.ModalContext$ModalContextThread.run
(ModalContext.java:95)
!ENTRY org.eclipse.core.resources 4 566 Feb 13, 2003 14:12:08.594
!MESSAGE An error occurred while traversing resources.
!STACK 0
org.eclipse.core.runtime.OperationCanceledException: Operation Canceled
	at 
org.eclipse.search.internal.core.text.TextSearchVisitor.updateProgressMonitor
(TextSearchVisitor.java(Compiled Code))
	at org.eclipse.search.internal.core.text.TextSearchVisitor.visitFile
(TextSearchVisitor.java(Compiled Code))
	at org.eclipse.search.internal.core.text.TypedResourceVisitor.visit
(TypedResourceVisitor.java(Compiled Code))
	at org.eclipse.search.internal.core.text.TextSearchVisitor.visit
(TextSearchVisitor.java(Compiled Code))
	at org.eclipse.core.internal.resources.Resource$1.visitElement
(Resource.java(Compiled Code))
	at org.eclipse.core.internal.watson.ElementTreeIterator.doIteration
(ElementTreeIterator.java(Compiled Code))
	at org.eclipse.core.internal.watson.ElementTreeIterator.doIteration
(ElementTreeIterator.java(Compiled Code))
	at org.eclipse.core.internal.watson.ElementTreeIterator.doIteration
(ElementTreeIterator.java(Compiled Code))
	at org.eclipse.core.internal.watson.ElementTreeIterator.doIteration
(ElementTreeIterator.java(Compiled Code))
	at org.eclipse.core.internal.watson.ElementTreeIterator.doIteration
(ElementTreeIterator.java(Compiled Code))
	at org.eclipse.core.internal.watson.ElementTreeIterator.doIteration
(ElementTreeIterator.java(Compiled Code))
	at org.eclipse.core.internal.watson.ElementTreeIterator.doIteration
(ElementTreeIterator.java(Compiled Code))
	at org.eclipse.core.internal.watson.ElementTreeIterator.iterate
(ElementTreeIterator.java(Compiled Code))
	at org.eclipse.core.internal.resources.Resource.accept
(Resource.java:63)
	at org.eclipse.search.internal.core.text.TextSearchVisitor.process
(TextSearchVisitor.java:95)
	at org.eclipse.search.internal.core.text.TextSearchEngine.search
(TextSearchEngine.java:56)
	at org.eclipse.search.internal.ui.text.TextSearchOperation.execute
(TextSearchOperation.java:55)
	at org.eclipse.ui.actions.WorkspaceModifyOperation$1.run
(WorkspaceModifyOperation.java:65)
	at org.eclipse.core.internal.resources.Workspace.run(Workspace.java
(Compiled Code))
	at org.eclipse.ui.actions.WorkspaceModifyOperation.run
(WorkspaceModifyOperation.java:79)
	at org.eclipse.jface.operation.ModalContext$ModalContextThread.run
(ModalContext.java:95)
!ENTRY org.eclipse.core.resources 4 566 Feb 13, 2003 14:12:08.797
!MESSAGE An error occurred while traversing resources.
!STACK 0
org.eclipse.core.runtime.OperationCanceledException: Operation Canceled
	at 
org.eclipse.search.internal.core.text.TextSearchVisitor.updateProgressMonitor
(TextSearchVisitor.java(Compiled Code))
	at org.eclipse.search.internal.core.text.TextSearchVisitor.visitFile
(TextSearchVisitor.java(Compiled Code))
	at org.eclipse.search.internal.core.text.TypedResourceVisitor.visit
(TypedResourceVisitor.java(Compiled Code))
	at org.eclipse.search.internal.core.text.TextSearchVisitor.visit
(TextSearchVisitor.java(Compiled Code))
	at org.eclipse.core.internal.resources.Resource$1.visitElement
(Resource.java(Compiled Code))
	at org.eclipse.core.internal.watson.ElementTreeIterator.doIteration
(ElementTreeIterator.java(Compiled Code))
	at org.eclipse.core.internal.watson.ElementTreeIterator.doIteration
(ElementTreeIterator.java(Compiled Code))
	at org.eclipse.core.internal.watson.ElementTreeIterator.doIteration
(ElementTreeIterator.java(Compiled Code))
	at org.eclipse.core.internal.watson.ElementTreeIterator.doIteration
(ElementTreeIterator.java(Compiled Code))
	at org.eclipse.core.internal.watson.ElementTreeIterator.doIteration
(ElementTreeIterator.java(Compiled Code))
	at org.eclipse.core.internal.watson.ElementTreeIterator.doIteration
(ElementTreeIterator.java(Compiled Code))
	at org.eclipse.core.internal.watson.ElementTreeIterator.doIteration
(ElementTreeIterator.java(Compiled Code))
	at org.eclipse.core.internal.watson.ElementTreeIterator.iterate
(ElementTreeIterator.java(Compiled Code))
	at org.eclipse.core.internal.resources.Resource.accept
(Resource.java:63)
	at org.eclipse.search.internal.core.text.TextSearchVisitor.process
(TextSearchVisitor.java:95)
	at org.eclipse.search.internal.core.text.TextSearchEngine.search
(TextSearchEngine.java:56)
	at org.eclipse.search.internal.ui.text.TextSearchOperation.execute
(TextSearchOperation.java:55)
	at org.eclipse.ui.actions.WorkspaceModifyOperation$1.run
(WorkspaceModifyOperation.java:65)
	at org.eclipse.core.internal.resources.Workspace.run(Workspace.java
(Compiled Code))
	at org.eclipse.ui.actions.WorkspaceModifyOperation.run
(WorkspaceModifyOperation.java:79)
	at org.eclipse.jface.operation.ModalContext$ModalContextThread.run
(ModalContext.java:95)
!ENTRY org.eclipse.core.resources 4 566 Feb 13, 2003 14:12:08.984
!MESSAGE An error occurred while traversing resources.
!STACK 0
org.eclipse.core.runtime.OperationCanceledException: Operation Canceled
	at 
org.eclipse.search.internal.core.text.TextSearchVisitor.updateProgressMonitor
(TextSearchVisitor.java(Compiled Code))
	at org.eclipse.search.internal.core.text.TextSearchVisitor.visitFile
(TextSearchVisitor.java(Compiled Code))
	at org.eclipse.search.internal.core.text.TypedResourceVisitor.visit
(TypedResourceVisitor.java(Compiled Code))
	at org.eclipse.search.internal.core.text.TextSearchVisitor.visit
(TextSearchVisitor.java(Compiled Code))
	at org.eclipse.core.internal.resources.Resource$1.visitElement
(Resource.java(Compiled Code))
	at org.eclipse.core.internal.watson.ElementTreeIterator.doIteration
(ElementTreeIterator.java(Compiled Code))
	at org.eclipse.core.internal.watson.ElementTreeIterator.doIteration
(ElementTreeIterator.java(Compiled Code))
	at org.eclipse.core.internal.watson.ElementTreeIterator.doIteration
(ElementTreeIterator.java(Compiled Code))
	at org.eclipse.core.internal.watson.ElementTreeIterator.doIteration
(ElementTreeIterator.java(Compiled Code))
	at org.eclipse.core.internal.watson.ElementTreeIterator.doIteration
(ElementTreeIterator.java(Compiled Code))
	at org.eclipse.core.internal.watson.ElementTreeIterator.doIteration
(ElementTreeIterator.java(Compiled Code))
	at org.eclipse.core.internal.watson.ElementTreeIterator.doIteration
(ElementTreeIterator.java(Compiled Code))
	at org.eclipse.core.internal.watson.ElementTreeIterator.iterate
(ElementTreeIterator.java(Compiled Code))
	at org.eclipse.core.internal.resources.Resource.accept
(Resource.java:63)
	at org.eclipse.search.internal.core.text.TextSearchVisitor.process
(TextSearchVisitor.java:95)
	at org.eclipse.search.internal.core.text.TextSearchEngine.search
(TextSearchEngine.java:56)
	at org.eclipse.search.internal.ui.text.TextSearchOperation.execute
(TextSearchOperation.java:55)
	at org.eclipse.ui.actions.WorkspaceModifyOperation$1.run
(WorkspaceModifyOperation.java:65)
	at org.eclipse.core.internal.resources.Workspace.run(Workspace.java
(Compiled Code))
	at org.eclipse.ui.actions.WorkspaceModifyOperation.run
(WorkspaceModifyOperation.java:79)
	at org.eclipse.jface.operation.ModalContext$ModalContextThread.run
(ModalContext.java:95)
!ENTRY org.eclipse.core.resources 4 566 Feb 13, 2003 14:12:09.172
!MESSAGE An error occurred while traversing resources.
!STACK 0
org.eclipse.core.runtime.OperationCanceledException: Operation Canceled
	at 
org.eclipse.search.internal.core.text.TextSearchVisitor.updateProgressMonitor
(TextSearchVisitor.java(Compiled Code))
	at org.eclipse.search.internal.core.text.TextSearchVisitor.visitFile
(TextSearchVisitor.java(Compiled Code))
	at org.eclipse.search.internal.core.text.TypedResourceVisitor.visit
(TypedResourceVisitor.java(Compiled Code))
	at org.eclipse.search.internal.core.text.TextSearchVisitor.visit
(TextSearchVisitor.java(Compiled Code))
	at org.eclipse.core.internal.resources.Resource$1.visitElement
(Resource.java(Compiled Code))
	at org.eclipse.core.internal.watson.ElementTreeIterator.doIteration
(ElementTreeIterator.java(Compiled Code))
	at org.eclipse.core.internal.watson.ElementTreeIterator.doIteration
(ElementTreeIterator.java(Compiled Code))
	at org.eclipse.core.internal.watson.ElementTreeIterator.doIteration
(ElementTreeIterator.java(Compiled Code))
	at org.eclipse.core.internal.watson.ElementTreeIterator.doIteration
(ElementTreeIterator.java(Compiled Code))
	at org.eclipse.core.internal.watson.ElementTreeIterator.doIteration
(ElementTreeIterator.java(Compiled Code))
	at org.eclipse.core.internal.watson.ElementTreeIterator.doIteration
(ElementTreeIterator.java(Compiled Code))
	at org.eclipse.core.internal.watson.ElementTreeIterator.doIteration
(ElementTreeIterator.java(Compiled Code))
	at org.eclipse.core.internal.watson.ElementTreeIterator.iterate
(ElementTreeIterator.java(Compiled Code))
	at org.eclipse.core.internal.resources.Resource.accept
(Resource.java:63)
	at org.eclipse.search.internal.core.text.TextSearchVisitor.process
(TextSearchVisitor.java:95)
	at org.eclipse.search.internal.core.text.TextSearchEngine.search
(TextSearchEngine.java:56)
	at org.eclipse.search.internal.ui.text.TextSearchOperation.execute
(TextSearchOperation.java:55)
	at org.eclipse.ui.actions.WorkspaceModifyOperation$1.run
(WorkspaceModifyOperation.java:65)
	at org.eclipse.core.internal.resources.Workspace.run(Workspace.java
(Compiled Code))
	at org.eclipse.ui.actions.WorkspaceModifyOperation.run
(WorkspaceModifyOperation.java:79)
	at org.eclipse.jface.operation.ModalContext$ModalContextThread.run
(ModalContext.java:95)
!ENTRY org.eclipse.core.resources 4 566 Feb 13, 2003 14:12:09.359
!MESSAGE An error occurred while traversing resources.
!STACK 0
org.eclipse.core.runtime.OperationCanceledException: Operation Canceled
	at 
org.eclipse.search.internal.core.text.TextSearchVisitor.updateProgressMonitor
(TextSearchVisitor.java(Compiled Code))
	at org.eclipse.search.internal.core.text.TextSearchVisitor.visitFile
(TextSearchVisitor.java(Compiled Code))
	at org.eclipse.search.internal.core.text.TypedResourceVisitor.visit
(TypedResourceVisitor.java(Compiled Code))
	at org.eclipse.search.internal.core.text.TextSearchVisitor.visit
(TextSearchVisitor.java(Compiled Code))
	at org.eclipse.core.internal.resources.Resource$1.visitElement
(Resource.java(Compiled Code))
	at org.eclipse.core.internal.watson.ElementTreeIterator.doIteration
(ElementTreeIterator.java(Compiled Code))
	at org.eclipse.core.internal.watson.ElementTreeIterator.doIteration
(ElementTreeIterator.java(Compiled Code))
	at org.eclipse.core.internal.watson.ElementTreeIterator.doIteration
(ElementTreeIterator.java(Compiled Code))
	at org.eclipse.core.internal.watson.ElementTreeIterator.doIteration
(ElementTreeIterator.java(Compiled Code))
	at org.eclipse.core.internal.watson.ElementTreeIterator.doIteration
(ElementTreeIterator.java(Compiled Code))
	at org.eclipse.core.internal.watson.ElementTreeIterator.doIteration
(ElementTreeIterator.java(Compiled Code))
	at org.eclipse.core.internal.watson.ElementTreeIterator.doIteration
(ElementTreeIterator.java(Compiled Code))
	at org.eclipse.core.internal.watson.ElementTreeIterator.iterate
(ElementTreeIterator.java(Compiled Code))
	at org.eclipse.core.internal.resources.Resource.accept
(Resource.java:63)
	at org.eclipse.search.internal.core.text.TextSearchVisitor.process
(TextSearchVisitor.java:95)
	at org.eclipse.search.internal.core.text.TextSearchEngine.search
(TextSearchEngine.java:56)
	at org.eclipse.search.internal.ui.text.TextSearchOperation.execute
(TextSearchOperation.java:55)
	at org.eclipse.ui.actions.WorkspaceModifyOperation$1.run
(WorkspaceModifyOperation.java:65)
	at org.eclipse.core.internal.resources.Workspace.run(Workspace.java
(Compiled Code))
	at org.eclipse.ui.actions.WorkspaceModifyOperation.run
(WorkspaceModifyOperation.java:79)
	at org.eclipse.jface.operation.ModalContext$ModalContextThread.run
(ModalContext.java:95)


*** This bug has been marked as a duplicate of 31750 ***</WithStack>
    <WithOutStack>20030211

If you can cancel a search you get a series of errors.

STEPS
1) Open the file search 
2) search for org.eclipse.ui.workbench in Workbench
3) Cancel it about halfway through

!ENTRY org.eclipse.core.resources 4 566 Feb 13, 2003 14:12:07.484
!MESSAGE An error occurred while traversing resources.
!STACK 0
!ENTRY org.eclipse.core.resources 4 566 Feb 13, 2003 14:12:07.672
!MESSAGE An error occurred while traversing resources.
!STACK 0
org.eclipse.core.runtime.OperationCanceledException: Operation Canceled
	at 
org.eclipse.search.internal.core.text.TextSearchVisitor.updateProgressMonitor
(TextSearchVisitor.java(Compiled Code))
	at org.eclipse.search.internal.core.text.TextSearchVisitor.visitFile
(TextSearchVisitor.java(Compiled Code))
	at org.eclipse.search.internal.core.text.TypedResourceVisitor.visit
(TypedResourceVisitor.java(Compiled Code))
	at org.eclipse.search.internal.core.text.TextSearchVisitor.visit
(TextSearchVisitor.java(Compiled Code))
	at org.eclipse.core.internal.resources.Resource$1.visitElement
(Resource.java(Compiled Code))
	at org.eclipse.core.internal.watson.ElementTreeIterator.doIteration
(ElementTreeIterator.java(Compiled Code))
	at org.eclipse.core.internal.watson.ElementTreeIterator.doIteration
(ElementTreeIterator.java(Compiled Code))
	at org.eclipse.core.internal.watson.ElementTreeIterator.doIteration
(ElementTreeIterator.java(Compiled Code))
	at org.eclipse.core.internal.watson.ElementTreeIterator.doIteration
(ElementTreeIterator.java(Compiled Code))
	at org.eclipse.core.internal.watson.ElementTreeIterator.doIteration
(ElementTreeIterator.java(Compiled Code))
	at org.eclipse.core.internal.watson.ElementTreeIterator.doIteration
(ElementTreeIterator.java(Compiled Code))
	at org.eclipse.core.internal.watson.ElementTreeIterator.doIteration
(ElementTreeIterator.java(Compiled Code))
	at org.eclipse.core.internal.watson.ElementTreeIterator.iterate
(ElementTreeIterator.java(Compiled Code))
	at org.eclipse.core.internal.resources.Resource.accept
(Resource.java:63)
	at org.eclipse.search.internal.core.text.TextSearchVisitor.process
(TextSearchVisitor.java:95)
	at org.eclipse.search.internal.core.text.TextSearchEngine.search
(TextSearchEngine.java:56)
	at org.eclipse.search.internal.ui.text.TextSearchOperation.execute
(TextSearchOperation.java:55)
	at org.eclipse.ui.actions.WorkspaceModifyOperation$1.run
(WorkspaceModifyOperation.java:65)
	at org.eclipse.core.internal.resources.Workspace.run(Workspace.java
(Compiled Code))
	at org.eclipse.ui.actions.WorkspaceModifyOperation.run
(WorkspaceModifyOperation.java:79)
	at org.eclipse.jface.operation.ModalContext$ModalContextThread.run
(ModalContext.java:95)
!ENTRY org.eclipse.core.resources 4 566 Feb 13, 2003 14:12:07.859
!MESSAGE An error occurred while traversing resources.
!STACK 0
org.eclipse.core.runtime.OperationCanceledException: Operation Canceled
	at 
org.eclipse.search.internal.core.text.TextSearchVisitor.updateProgressMonitor
(TextSearchVisitor.java(Compiled Code))
	at org.eclipse.search.internal.core.text.TextSearchVisitor.visitFile
(TextSearchVisitor.java(Compiled Code))
	at org.eclipse.search.internal.core.text.TypedResourceVisitor.visit
(TypedResourceVisitor.java(Compiled Code))
	at org.eclipse.search.internal.core.text.TextSearchVisitor.visit
(TextSearchVisitor.java(Compiled Code))
	at org.eclipse.core.internal.resources.Resource$1.visitElement
(Resource.java(Compiled Code))
	at org.eclipse.core.internal.watson.ElementTreeIterator.doIteration
(ElementTreeIterator.java(Compiled Code))
	at org.eclipse.core.internal.watson.ElementTreeIterator.doIteration
(ElementTreeIterator.java(Compiled Code))
	at org.eclipse.core.internal.watson.ElementTreeIterator.doIteration
(ElementTreeIterator.java(Compiled Code))
	at org.eclipse.core.internal.watson.ElementTreeIterator.doIteration
(ElementTreeIterator.java(Compiled Code))
	at org.eclipse.core.internal.watson.ElementTreeIterator.doIteration
(ElementTreeIterator.java(Compiled Code))
	at org.eclipse.core.internal.watson.ElementTreeIterator.doIteration
(ElementTreeIterator.java(Compiled Code))
	at org.eclipse.core.internal.watson.ElementTreeIterator.doIteration
(ElementTreeIterator.java(Compiled Code))
	at org.eclipse.core.internal.watson.ElementTreeIterator.iterate
(ElementTreeIterator.java(Compiled Code))
	at org.eclipse.core.internal.resources.Resource.accept
(Resource.java:63)
	at org.eclipse.search.internal.core.text.TextSearchVisitor.process
(TextSearchVisitor.java:95)
	at org.eclipse.search.internal.core.text.TextSearchEngine.search
(TextSearchEngine.java:56)
	at org.eclipse.search.internal.ui.text.TextSearchOperation.execute
(TextSearchOperation.java:55)
	at org.eclipse.ui.actions.WorkspaceModifyOperation$1.run
(WorkspaceModifyOperation.java:65)
	at org.eclipse.core.internal.resources.Workspace.run(Workspace.java
(Compiled Code))
	at org.eclipse.ui.actions.WorkspaceModifyOperation.run
(WorkspaceModifyOperation.java:79)
	at org.eclipse.jface.operation.ModalContext$ModalContextThread.run
(ModalContext.java:95)
!ENTRY org.eclipse.core.resources 4 566 Feb 13, 2003 14:12:08.47
!MESSAGE An error occurred while traversing resources.
!STACK 0
!ENTRY org.eclipse.core.resources 4 566 Feb 13, 2003 14:12:08.203
!MESSAGE An error occurred while traversing resources.
!STACK 0
org.eclipse.core.runtime.OperationCanceledException: Operation Canceled
	at 
org.eclipse.search.internal.core.text.TextSearchVisitor.updateProgressMonitor
(TextSearchVisitor.java(Compiled Code))
	at org.eclipse.search.internal.core.text.TextSearchVisitor.visitFile
(TextSearchVisitor.java(Compiled Code))
	at org.eclipse.search.internal.core.text.TypedResourceVisitor.visit
(TypedResourceVisitor.java(Compiled Code))
	at org.eclipse.search.internal.core.text.TextSearchVisitor.visit
(TextSearchVisitor.java(Compiled Code))
	at org.eclipse.core.internal.resources.Resource$1.visitElement
(Resource.java(Compiled Code))
	at org.eclipse.core.internal.watson.ElementTreeIterator.doIteration
(ElementTreeIterator.java(Compiled Code))
	at org.eclipse.core.internal.watson.ElementTreeIterator.doIteration
(ElementTreeIterator.java(Compiled Code))
	at org.eclipse.core.internal.watson.ElementTreeIterator.doIteration
(ElementTreeIterator.java(Compiled Code))
	at org.eclipse.core.internal.watson.ElementTreeIterator.doIteration
(ElementTreeIterator.java(Compiled Code))
	at org.eclipse.core.internal.watson.ElementTreeIterator.doIteration
(ElementTreeIterator.java(Compiled Code))
	at org.eclipse.core.internal.watson.ElementTreeIterator.doIteration
(ElementTreeIterator.java(Compiled Code))
	at org.eclipse.core.internal.watson.ElementTreeIterator.doIteration
(ElementTreeIterator.java(Compiled Code))
	at org.eclipse.core.internal.watson.ElementTreeIterator.iterate
(ElementTreeIterator.java(Compiled Code))
	at org.eclipse.core.internal.resources.Resource.accept
(Resource.java:63)
	at org.eclipse.search.internal.core.text.TextSearchVisitor.process
(TextSearchVisitor.java:95)
	at org.eclipse.search.internal.core.text.TextSearchEngine.search
(TextSearchEngine.java:56)
	at org.eclipse.search.internal.ui.text.TextSearchOperation.execute
(TextSearchOperation.java:55)
	at org.eclipse.ui.actions.WorkspaceModifyOperation$1.run
(WorkspaceModifyOperation.java:65)
	at org.eclipse.core.internal.resources.Workspace.run(Workspace.java
(Compiled Code))
	at org.eclipse.ui.actions.WorkspaceModifyOperation.run
(WorkspaceModifyOperation.java:79)
	at org.eclipse.jface.operation.ModalContext$ModalContextThread.run
(ModalContext.java:95)
!ENTRY org.eclipse.core.resources 4 566 Feb 13, 2003 14:12:08.391
!MESSAGE An error occurred while traversing resources.
!STACK 0
org.eclipse.core.runtime.OperationCanceledException: Operation Canceled
	at 
org.eclipse.search.internal.core.text.TextSearchVisitor.updateProgressMonitor
(TextSearchVisitor.java(Compiled Code))
	at org.eclipse.search.internal.core.text.TextSearchVisitor.visitFile
(TextSearchVisitor.java(Compiled Code))
	at org.eclipse.search.internal.core.text.TypedResourceVisitor.visit
(TypedResourceVisitor.java(Compiled Code))
	at org.eclipse.search.internal.core.text.TextSearchVisitor.visit
(TextSearchVisitor.java(Compiled Code))
	at org.eclipse.core.internal.resources.Resource$1.visitElement
(Resource.java(Compiled Code))
	at org.eclipse.core.internal.watson.ElementTreeIterator.doIteration
(ElementTreeIterator.java(Compiled Code))
	at org.eclipse.core.internal.watson.ElementTreeIterator.doIteration
(ElementTreeIterator.java(Compiled Code))
	at org.eclipse.core.internal.watson.ElementTreeIterator.doIteration
(ElementTreeIterator.java(Compiled Code))
	at org.eclipse.core.internal.watson.ElementTreeIterator.doIteration
(ElementTreeIterator.java(Compiled Code))
	at org.eclipse.core.internal.watson.ElementTreeIterator.doIteration
(ElementTreeIterator.java(Compiled Code))
	at org.eclipse.core.internal.watson.ElementTreeIterator.doIteration
(ElementTreeIterator.java(Compiled Code))
	at org.eclipse.core.internal.watson.ElementTreeIterator.doIteration
(ElementTreeIterator.java(Compiled Code))
	at org.eclipse.core.internal.watson.ElementTreeIterator.iterate
(ElementTreeIterator.java(Compiled Code))
	at org.eclipse.core.internal.resources.Resource.accept
(Resource.java:63)
	at org.eclipse.search.internal.core.text.TextSearchVisitor.process
(TextSearchVisitor.java:95)
	at org.eclipse.search.internal.core.text.TextSearchEngine.search
(TextSearchEngine.java:56)
	at org.eclipse.search.internal.ui.text.TextSearchOperation.execute
(TextSearchOperation.java:55)
	at org.eclipse.ui.actions.WorkspaceModifyOperation$1.run
(WorkspaceModifyOperation.java:65)
	at org.eclipse.core.internal.resources.Workspace.run(Workspace.java
(Compiled Code))
	at org.eclipse.ui.actions.WorkspaceModifyOperation.run
(WorkspaceModifyOperation.java:79)
	at org.eclipse.jface.operation.ModalContext$ModalContextThread.run
(ModalContext.java:95)
!ENTRY org.eclipse.core.resources 4 566 Feb 13, 2003 14:12:08.594
!MESSAGE An error occurred while traversing resources.
!STACK 0
org.eclipse.core.runtime.OperationCanceledException: Operation Canceled
	at 
org.eclipse.search.internal.core.text.TextSearchVisitor.updateProgressMonitor
(TextSearchVisitor.java(Compiled Code))
	at org.eclipse.search.internal.core.text.TextSearchVisitor.visitFile
(TextSearchVisitor.java(Compiled Code))
	at org.eclipse.search.internal.core.text.TypedResourceVisitor.visit
(TypedResourceVisitor.java(Compiled Code))
	at org.eclipse.search.internal.core.text.TextSearchVisitor.visit
(TextSearchVisitor.java(Compiled Code))
	at org.eclipse.core.internal.resources.Resource$1.visitElement
(Resource.java(Compiled Code))
	at org.eclipse.core.internal.watson.ElementTreeIterator.doIteration
(ElementTreeIterator.java(Compiled Code))
	at org.eclipse.core.internal.watson.ElementTreeIterator.doIteration
(ElementTreeIterator.java(Compiled Code))
	at org.eclipse.core.internal.watson.ElementTreeIterator.doIteration
(ElementTreeIterator.java(Compiled Code))
	at org.eclipse.core.internal.watson.ElementTreeIterator.doIteration
(ElementTreeIterator.java(Compiled Code))
	at org.eclipse.core.internal.watson.ElementTreeIterator.doIteration
(ElementTreeIterator.java(Compiled Code))
	at org.eclipse.core.internal.watson.ElementTreeIterator.doIteration
(ElementTreeIterator.java(Compiled Code))
	at org.eclipse.core.internal.watson.ElementTreeIterator.doIteration
(ElementTreeIterator.java(Compiled Code))
	at org.eclipse.core.internal.watson.ElementTreeIterator.iterate
(ElementTreeIterator.java(Compiled Code))
	at org.eclipse.core.internal.resources.Resource.accept
(Resource.java:63)
	at org.eclipse.search.internal.core.text.TextSearchVisitor.process
(TextSearchVisitor.java:95)
	at org.eclipse.search.internal.core.text.TextSearchEngine.search
(TextSearchEngine.java:56)
	at org.eclipse.search.internal.ui.text.TextSearchOperation.execute
(TextSearchOperation.java:55)
	at org.eclipse.ui.actions.WorkspaceModifyOperation$1.run
(WorkspaceModifyOperation.java:65)
	at org.eclipse.core.internal.resources.Workspace.run(Workspace.java
(Compiled Code))
	at org.eclipse.ui.actions.WorkspaceModifyOperation.run
(WorkspaceModifyOperation.java:79)
	at org.eclipse.jface.operation.ModalContext$ModalContextThread.run
(ModalContext.java:95)
!ENTRY org.eclipse.core.resources 4 566 Feb 13, 2003 14:12:08.797
!MESSAGE An error occurred while traversing resources.
!STACK 0
org.eclipse.core.runtime.OperationCanceledException: Operation Canceled
	at 
org.eclipse.search.internal.core.text.TextSearchVisitor.updateProgressMonitor
(TextSearchVisitor.java(Compiled Code))
	at org.eclipse.search.internal.core.text.TextSearchVisitor.visitFile
(TextSearchVisitor.java(Compiled Code))
	at org.eclipse.search.internal.core.text.TypedResourceVisitor.visit
(TypedResourceVisitor.java(Compiled Code))
	at org.eclipse.search.internal.core.text.TextSearchVisitor.visit
(TextSearchVisitor.java(Compiled Code))
	at org.eclipse.core.internal.resources.Resource$1.visitElement
(Resource.java(Compiled Code))
	at org.eclipse.core.internal.watson.ElementTreeIterator.doIteration
(ElementTreeIterator.java(Compiled Code))
	at org.eclipse.core.internal.watson.ElementTreeIterator.doIteration
(ElementTreeIterator.java(Compiled Code))
	at org.eclipse.core.internal.watson.ElementTreeIterator.doIteration
(ElementTreeIterator.java(Compiled Code))
	at org.eclipse.core.internal.watson.ElementTreeIterator.doIteration
(ElementTreeIterator.java(Compiled Code))
	at org.eclipse.core.internal.watson.ElementTreeIterator.doIteration
(ElementTreeIterator.java(Compiled Code))
	at org.eclipse.core.internal.watson.ElementTreeIterator.doIteration
(ElementTreeIterator.java(Compiled Code))
	at org.eclipse.core.internal.watson.ElementTreeIterator.doIteration
(ElementTreeIterator.java(Compiled Code))
	at org.eclipse.core.internal.watson.ElementTreeIterator.iterate
(ElementTreeIterator.java(Compiled Code))
	at org.eclipse.core.internal.resources.Resource.accept
(Resource.java:63)
	at org.eclipse.search.internal.core.text.TextSearchVisitor.process
(TextSearchVisitor.java:95)
	at org.eclipse.search.internal.core.text.TextSearchEngine.search
(TextSearchEngine.java:56)
	at org.eclipse.search.internal.ui.text.TextSearchOperation.execute
(TextSearchOperation.java:55)
	at org.eclipse.ui.actions.WorkspaceModifyOperation$1.run
(WorkspaceModifyOperation.java:65)
	at org.eclipse.core.internal.resources.Workspace.run(Workspace.java
(Compiled Code))
	at org.eclipse.ui.actions.WorkspaceModifyOperation.run
(WorkspaceModifyOperation.java:79)
	at org.eclipse.jface.operation.ModalContext$ModalContextThread.run
(ModalContext.java:95)
!ENTRY org.eclipse.core.resources 4 566 Feb 13, 2003 14:12:08.984
!MESSAGE An error occurred while traversing resources.
!STACK 0
org.eclipse.core.runtime.OperationCanceledException: Operation Canceled
	at 
org.eclipse.search.internal.core.text.TextSearchVisitor.updateProgressMonitor
(TextSearchVisitor.java(Compiled Code))
	at org.eclipse.search.internal.core.text.TextSearchVisitor.visitFile
(TextSearchVisitor.java(Compiled Code))
	at org.eclipse.search.internal.core.text.TypedResourceVisitor.visit
(TypedResourceVisitor.java(Compiled Code))
	at org.eclipse.search.internal.core.text.TextSearchVisitor.visit
(TextSearchVisitor.java(Compiled Code))
	at org.eclipse.core.internal.resources.Resource$1.visitElement
(Resource.java(Compiled Code))
	at org.eclipse.core.internal.watson.ElementTreeIterator.doIteration
(ElementTreeIterator.java(Compiled Code))
	at org.eclipse.core.internal.watson.ElementTreeIterator.doIteration
(ElementTreeIterator.java(Compiled Code))
	at org.eclipse.core.internal.watson.ElementTreeIterator.doIteration
(ElementTreeIterator.java(Compiled Code))
	at org.eclipse.core.internal.watson.ElementTreeIterator.doIteration
(ElementTreeIterator.java(Compiled Code))
	at org.eclipse.core.internal.watson.ElementTreeIterator.doIteration
(ElementTreeIterator.java(Compiled Code))
	at org.eclipse.core.internal.watson.ElementTreeIterator.doIteration
(ElementTreeIterator.java(Compiled Code))
	at org.eclipse.core.internal.watson.ElementTreeIterator.doIteration
(ElementTreeIterator.java(Compiled Code))
	at org.eclipse.core.internal.watson.ElementTreeIterator.iterate
(ElementTreeIterator.java(Compiled Code))
	at org.eclipse.core.internal.resources.Resource.accept
(Resource.java:63)
	at org.eclipse.search.internal.core.text.TextSearchVisitor.process
(TextSearchVisitor.java:95)
	at org.eclipse.search.internal.core.text.TextSearchEngine.search
(TextSearchEngine.java:56)
	at org.eclipse.search.internal.ui.text.TextSearchOperation.execute
(TextSearchOperation.java:55)
	at org.eclipse.ui.actions.WorkspaceModifyOperation$1.run
(WorkspaceModifyOperation.java:65)
	at org.eclipse.core.internal.resources.Workspace.run(Workspace.java
(Compiled Code))
	at org.eclipse.ui.actions.WorkspaceModifyOperation.run
(WorkspaceModifyOperation.java:79)
	at org.eclipse.jface.operation.ModalContext$ModalContextThread.run
(ModalContext.java:95)
!ENTRY org.eclipse.core.resources 4 566 Feb 13, 2003 14:12:09.172
!MESSAGE An error occurred while traversing resources.
!STACK 0
org.eclipse.core.runtime.OperationCanceledException: Operation Canceled
	at 
org.eclipse.search.internal.core.text.TextSearchVisitor.updateProgressMonitor
(TextSearchVisitor.java(Compiled Code))
	at org.eclipse.search.internal.core.text.TextSearchVisitor.visitFile
(TextSearchVisitor.java(Compiled Code))
	at org.eclipse.search.internal.core.text.TypedResourceVisitor.visit
(TypedResourceVisitor.java(Compiled Code))
	at org.eclipse.search.internal.core.text.TextSearchVisitor.visit
(TextSearchVisitor.java(Compiled Code))
	at org.eclipse.core.internal.resources.Resource$1.visitElement
(Resource.java(Compiled Code))
	at org.eclipse.core.internal.watson.ElementTreeIterator.doIteration
(ElementTreeIterator.java(Compiled Code))
	at org.eclipse.core.internal.watson.ElementTreeIterator.doIteration
(ElementTreeIterator.java(Compiled Code))
	at org.eclipse.core.internal.watson.ElementTreeIterator.doIteration
(ElementTreeIterator.java(Compiled Code))
	at org.eclipse.core.internal.watson.ElementTreeIterator.doIteration
(ElementTreeIterator.java(Compiled Code))
	at org.eclipse.core.internal.watson.ElementTreeIterator.doIteration
(ElementTreeIterator.java(Compiled Code))
	at org.eclipse.core.internal.watson.ElementTreeIterator.doIteration
(ElementTreeIterator.java(Compiled Code))
	at org.eclipse.core.internal.watson.ElementTreeIterator.doIteration
(ElementTreeIterator.java(Compiled Code))
	at org.eclipse.core.internal.watson.ElementTreeIterator.iterate
(ElementTreeIterator.java(Compiled Code))
	at org.eclipse.core.internal.resources.Resource.accept
(Resource.java:63)
	at org.eclipse.search.internal.core.text.TextSearchVisitor.process
(TextSearchVisitor.java:95)
	at org.eclipse.search.internal.core.text.TextSearchEngine.search
(TextSearchEngine.java:56)
	at org.eclipse.search.internal.ui.text.TextSearchOperation.execute
(TextSearchOperation.java:55)
	at org.eclipse.ui.actions.WorkspaceModifyOperation$1.run
(WorkspaceModifyOperation.java:65)
	at org.eclipse.core.internal.resources.Workspace.run(Workspace.java
(Compiled Code))
	at org.eclipse.ui.actions.WorkspaceModifyOperation.run
(WorkspaceModifyOperation.java:79)
	at org.eclipse.jface.operation.ModalContext$ModalContextThread.run
(ModalContext.java:95)
!ENTRY org.eclipse.core.resources 4 566 Feb 13, 2003 14:12:09.359
!MESSAGE An error occurred while traversing resources.
!STACK 0



*** This bug has been marked as a duplicate of 31750 ***</WithOutStack>
  </Bug>
  <Bug>
    <BugId amount="31808" />
    <CreationDate amount="2003-02-13 14:29:00 -0500" />
    <DupId amount="" />
    <classification amount="Eclipse" />
    <Product amount="Platform" />
    <component amount="Text" />
    <Version amount="2.1" />
    <rep_platform amount="PC" />
    <op_sys amount="Windows XP" />
    <priority amount="P3" />
    <bug_severity amount="normal" />
    <Summery>Out of date API in Text</Summery>
    <Patches amount="0" />
    <Stacktraces amount="0" />
    <SourceCodeRegions amount="1">
      <source_code type="multicomment">
        <location start="290" end="419" />
        <code>/**
* Help context id for the action.
* Value: 
&lt;code&gt;"org.eclipse.ui.workbench.texteditor.GotoLastEditPositionAction"&lt;/code&gt;
*/</code>
      </source_code>
    </SourceCodeRegions>
    <Enumerations amount="1">
      <Enumeration lines="5">
        <Lines>
          <Line>1) TextEditorPreferencePage which should be deprecated</Line>
          <Line />
          <Line>2) IAbstractTextEditorHelpContextIds.java -</Line>
          <Line>org.eclipse.ui.workbench.texteditor/src/org/eclipse/ui/texteditor refers to it</Line>
          <Line>in the API but it is correct in the code.</Line>
        </Lines>
      </Enumeration>
    </Enumerations>
    <bug_status amount="RESOLVED" />
    <resolution amount="FIXED" />
    <WithStack>There are some references to org.eclipse.ui.workbench in the API.

1) TextEditorPreferencePage which should be deprecated

2) IAbstractTextEditorHelpContextIds.java - 
org.eclipse.ui.workbench.texteditor/src/org/eclipse/ui/texteditor refers to it 
in the API but it is correct in the code.

/**
* Help context id for the action.
* Value: 
&lt;code&gt;"org.eclipse.ui.workbench.texteditor.GotoLastEditPositionAction"&lt;/code&gt;
*/
Fixed in builds &gt; I20030227</WithStack>
    <WithOutStack>There are some references to org.eclipse.ui.workbench in the API.

1) TextEditorPreferencePage which should be deprecated

2) IAbstractTextEditorHelpContextIds.java - 
org.eclipse.ui.workbench.texteditor/src/org/eclipse/ui/texteditor refers to it 
in the API but it is correct in the code.

/**
* Help context id for the action.
* Value: 
&lt;code&gt;"org.eclipse.ui.workbench.texteditor.GotoLastEditPositionAction"&lt;/code&gt;
*/
Fixed in builds &gt; I20030227</WithOutStack>
  </Bug>
  <Bug>
    <BugId amount="31809" />
    <CreationDate amount="2003-02-13 14:36:00 -0500" />
    <DupId amount="31398" />
    <classification amount="Eclipse" />
    <Product amount="JDT" />
    <component amount="Core" />
    <Version amount="2.1" />
    <rep_platform amount="PC" />
    <op_sys amount="Windows NT" />
    <priority amount="P3" />
    <bug_severity amount="normal" />
    <Summery>Eclipse reports error in task view - but it's no error!</Summery>
    <Patches amount="0" />
    <Stacktraces amount="0" />
    <SourceCodeRegions amount="5">
      <source_code type="package">
        <location start="269" end="283" />
        <code>package pack1;</code>
      </source_code>
      <source_code type="class">
        <location start="285" end="332" />
        <code>public class A
{
   abstract void myMethod();
}</code>
      </source_code>
      <source_code type="package">
        <location start="371" end="385" />
        <code>package pack2;</code>
      </source_code>
      <source_code type="import">
        <location start="386" end="402" />
        <code>import pack1.A;</code>
      </source_code>
      <source_code type="class">
        <location start="404" end="540" />
        <code>public class B extends A
{
   public void myMethod()
   {
      System.out.println("This is a method with advanced visibility!");
   }
}</code>
      </source_code>
    </SourceCodeRegions>
    <Enumerations amount="0" />
    <bug_status amount="RESOLVED" />
    <resolution amount="DUPLICATE" />
    <WithStack>Hello,

when compiling the following two classes, Eclipse 2.1 M5 reports an error in 
the task view, while Eclipse 2.1 M4 does't. Compiling with Ant throws no 
errors. I use J2SDK 1.4.1_01, Windows NT (SP6).

Greetings

      Martin

----------------------------------
package pack1;

public class A
{
   abstract void myMethod();
};

----------------------------------

package pack2;

import pack1.A;

public class B extends A
{
   public void myMethod()
   {
      System.out.println("This is a method with advanced visibility!");
   }
};
Looks like a duplicate of bug 31398. Please try the patch from the JDT/Core dev
page.
See
http://dev.eclipse.org/viewcvs/index.cgi/%7Echeckout%7E/jdt-core-home/r2.1/main.html#updates

This link might be split by bugzilla. Let us know if this fixes the problem.
Duplicate

*** This bug has been marked as a duplicate of 31398 ***</WithStack>
    <WithOutStack>Hello,

when compiling the following two classes, Eclipse 2.1 M5 reports an error in 
the task view, while Eclipse 2.1 M4 does't. Compiling with Ant throws no 
errors. I use J2SDK 1.4.1_01, Windows NT (SP6).

Greetings

      Martin

----------------------------------
package pack1;

public class A
{
   abstract void myMethod();
};

----------------------------------

package pack2;

import pack1.A;

public class B extends A
{
   public void myMethod()
   {
      System.out.println("This is a method with advanced visibility!");
   }
};
Looks like a duplicate of bug 31398. Please try the patch from the JDT/Core dev
page.
See
http://dev.eclipse.org/viewcvs/index.cgi/%7Echeckout%7E/jdt-core-home/r2.1/main.html#updates

This link might be split by bugzilla. Let us know if this fixes the problem.
Duplicate

*** This bug has been marked as a duplicate of 31398 ***</WithOutStack>
  </Bug>
  <Bug>
    <BugId amount="31810" />
    <CreationDate amount="2003-02-13 14:42:00 -0500" />
    <DupId amount="" />
    <classification amount="Eclipse" />
    <Product amount="Platform" />
    <component amount="Team" />
    <Version amount="2.1" />
    <rep_platform amount="PC" />
    <op_sys amount="Linux" />
    <priority amount="P3" />
    <bug_severity amount="normal" />
    <Summery>Trying to show error dialog in non-UI thread</Summery>
    <Patches amount="0" />
    <Stacktraces amount="1">
      <Stacktrace timestamp="1437339868139">
        <Exception>org.eclipse.swt.SWTException</Exception>
        <Reason>Invalid thread access</Reason>
        <Frames>
          <Frame depth="0">org.eclipse.swt.SWT.error(SWT.java:2316)</Frame>
          <Frame depth="1">org.eclipse.swt.SWT.error(SWT.java:2246)</Frame>
          <Frame depth="2">org.eclipse.swt.widgets.Widget.error(Widget.java:359)</Frame>
          <Frame depth="3">org.eclipse.swt.widgets.Shell.&lt;init&gt;(Shell.java:231)</Frame>
          <Frame depth="4">org.eclipse.swt.widgets.Shell.&lt;init&gt;(Shell.java:308)</Frame>
          <Frame depth="5">org.eclipse.jface.window.Window.createShell(Window.java:314)</Frame>
          <Frame depth="6">org.eclipse.jface.window.Window.create(Window.java:280)</Frame>
          <Frame depth="7">org.eclipse.jface.window.Window.open(Window.java:530)</Frame>
          <Frame depth="8">org.eclipse.jface.dialogs.ErrorDialog.open(ErrorDialog.java:291)</Frame>
          <Frame depth="9">org.eclipse.jface.dialogs.ErrorDialog.openError(ErrorDialog.java:354)</Frame>
          <Frame depth="10">org.eclipse.jface.dialogs.ErrorDialog.openError(ErrorDialog.java:317)</Frame>
          <Frame depth="11">org.eclipse.team.internal.ccvs.ui.CVSUIPlugin$3.open(CVSUIPlugin.java:403)</Frame>
          <Frame depth="12">org.eclipse.team.internal.ccvs.ui.CVSUIPlugin$4.run(CVSUIPlugin.java:452)</Frame>
          <Frame depth="13">org.eclipse.team.internal.ccvs.ui.CVSUIPlugin.openDialog(CVSUIPlugin.java:472)</Frame>
          <Frame depth="14">org.eclipse.team.internal.ccvs.ui.CVSUIPlugin.openError(CVSUIPlugin.java:407)</Frame>
          <Frame depth="15">org.eclipse.team.internal.ccvs.ui.sync.CVSSyncCompareInput.createSyncElements(CVSSyncCompareInput.java:245)</Frame>
          <Frame depth="16">org.eclipse.team.internal.ui.sync.SyncCompareInput.prepareInput(SyncCompareInput.java:208)</Frame>
          <Frame depth="17">org.eclipse.team.internal.ccvs.ui.sync.CVSSyncCompareInput.access$3(CVSSyncCompareInput.java:1)</Frame>
          <Frame depth="18">org.eclipse.team.internal.ccvs.ui.sync.CVSSyncCompareInput$6.run(CVSSyncCompareInput.java:390)</Frame>
          <Frame depth="19">org.eclipse.team.internal.ccvs.ui.CVSUIPlugin.runWithRefresh(CVSUIPlugin.java:159)</Frame>
          <Frame depth="20">org.eclipse.team.internal.ccvs.ui.sync.CVSSyncCompareInput$5.run(CVSSyncCompareInput.java:388)</Frame>
          <Frame depth="21">org.eclipse.team.internal.ccvs.core.client.Session.run(Session.java:167)</Frame>
          <Frame depth="22">org.eclipse.team.internal.ccvs.ui.sync.CVSSyncCompareInput.prepareInput(CVSSyncCompareInput.java:385)</Frame>
          <Frame depth="23">org.eclipse.compare.CompareEditorInput.run(CompareEditorInput.java:310)</Frame>
          <Frame depth="24">org.eclipse.jface.operation.ModalContext$ModalContextThread.run(ModalContext.java:95)</Frame>
        </Frames>
      </Stacktrace>
    </Stacktraces>
    <SourceCodeRegions amount="0" />
    <Enumerations amount="0" />
    <bug_status amount="RESOLVED" />
    <resolution amount="INVALID" />
    <WithStack>Build: I20030211 (1320)

An error occurred while synchronizing (error in resource visitor code).  As a
result, the CVS synchronize operation attempted to open an ErrorDialog. 
However, this was happening in a non-UI thread, so it failed to open the dialog.
 Below is the stack trace:

org.eclipse.swt.SWTException: Invalid thread access
        at org.eclipse.swt.SWT.error(SWT.java:2316)
        at org.eclipse.swt.SWT.error(SWT.java:2246)
        at org.eclipse.swt.widgets.Widget.error(Widget.java:359)
        at org.eclipse.swt.widgets.Shell.&lt;init&gt;(Shell.java:231)
        at org.eclipse.swt.widgets.Shell.&lt;init&gt;(Shell.java:308)
        at org.eclipse.jface.window.Window.createShell(Window.java:314)
        at org.eclipse.jface.window.Window.create(Window.java:280)
        at org.eclipse.jface.window.Window.open(Window.java:530)
        at org.eclipse.jface.dialogs.ErrorDialog.open(ErrorDialog.java:291)
        at org.eclipse.jface.dialogs.ErrorDialog.openError(ErrorDialog.java:354)
        at org.eclipse.jface.dialogs.ErrorDialog.openError(ErrorDialog.java:317)
        at
org.eclipse.team.internal.ccvs.ui.CVSUIPlugin$3.open(CVSUIPlugin.java:403)
        at org.eclipse.team.internal.ccvs.ui.CVSUIPlugin$4.run(CVSUIPlugin.java:452)
        at
org.eclipse.team.internal.ccvs.ui.CVSUIPlugin.openDialog(CVSUIPlugin.java:472)
        at
org.eclipse.team.internal.ccvs.ui.CVSUIPlugin.openError(CVSUIPlugin.java:407)
        at
org.eclipse.team.internal.ccvs.ui.sync.CVSSyncCompareInput.createSyncElements(CVSSyncCompareInput.java:245)
        at
org.eclipse.team.internal.ui.sync.SyncCompareInput.prepareInput(SyncCompareInput.java:208)
        at
org.eclipse.team.internal.ccvs.ui.sync.CVSSyncCompareInput.access$3(CVSSyncCompareInput.java:1)
        at
org.eclipse.team.internal.ccvs.ui.sync.CVSSyncCompareInput$6.run(CVSSyncCompareInput.java:390)
        at
org.eclipse.team.internal.ccvs.ui.CVSUIPlugin.runWithRefresh(CVSUIPlugin.java:159)
        at
org.eclipse.team.internal.ccvs.ui.sync.CVSSyncCompareInput$5.run(CVSSyncCompareInput.java:388)
        at org.eclipse.team.internal.ccvs.core.client.Session.run(Session.java:167)
        at
org.eclipse.team.internal.ccvs.ui.sync.CVSSyncCompareInput.prepareInput(CVSSyncCompareInput.java:385)
        at org.eclipse.compare.CompareEditorInput.run(CompareEditorInput.java:310)
        at
org.eclipse.jface.operation.ModalContext$ModalContextThread.run(ModalContext.java:95)
This code no longer invokes UI (due to an independant refactoring)</WithStack>
    <WithOutStack>Build: I20030211 (1320)

An error occurred while synchronizing (error in resource visitor code).  As a
result, the CVS synchronize operation attempted to open an ErrorDialog. 
However, this was happening in a non-UI thread, so it failed to open the dialog.
 Below is the stack trace:


This code no longer invokes UI (due to an independant refactoring)</WithOutStack>
  </Bug>
  <Bug>
    <BugId amount="31811" />
    <CreationDate amount="2003-02-13 14:43:00 -0500" />
    <DupId amount="" />
    <classification amount="Eclipse" />
    <Product amount="JDT" />
    <component amount="Core" />
    <Version amount="2.1" />
    <rep_platform amount="PC" />
    <op_sys amount="Windows 2000" />
    <priority amount="P3" />
    <bug_severity amount="normal" />
    <Summery>VerifyError with huge switch statement</Summery>
    <Patches amount="0" />
    <Stacktraces amount="1">
      <Stacktrace timestamp="1437339868139">
        <Exception>java.lang.VerifyError</Exception>
        <Reason>(class: XScriptParserTokenManager, method:
jjMoveNfa_0 signature: (II)I) Illegal target of jump or branch</Reason>
        <Frames>
          <Frame depth="0">XScriptParser.&lt;init&gt;(XScriptParser.java:3956)</Frame>
          <Frame depth="1">XScriptParser.main(XScriptParser.java:64)</Frame>
        </Frames>
      </Stacktrace>
    </Stacktraces>
    <SourceCodeRegions amount="0" />
    <Enumerations amount="0" />
    <bug_status amount="VERIFIED" />
    <resolution amount="FIXED" />
    <WithStack>From EC,

I am compiling the output of a JavaCC generated parser from a complex
grammar.
One of the methods in the token manager contains a number of pretty large
switch statelements.

If I compile the code using the eclipse compiler the resulting app fails
with a Verify errror:

java.lang.VerifyError: (class: XScriptParserTokenManager, method:
jjMoveNfa_0 signature: (II)I) Illegal target of jump or branch
at XScriptParser.&lt;init&gt;(XScriptParser.java:3956)
at XScriptParser.main(XScriptParser.java:64)
Exception in thread "main"

The same code compiled with the SUN javac from j2sdk1.4.1_01 works as
expected

The build used is M5.
Can we get a testcase reproducing the problem ? Did it work with M3 or M4 ?
Cannot tag for 2.1 unless we get some reproduceable testcase.
Created attachment 3489
Generated file causing verify error

Method causing the error appears to be jjMoveNfa_0
Could you please attach all the necessary files to compile this code?
SimpleCharStream, the implemented interface.
Thanks. It will allow me to investigate more quickly.
Created attachment 3494
Compilable subset of files including XScriptParserTokenManager

Note the XScriptParserTokenManager is not the same as the original, as I have
been working on it today, however the one in the zip file still exhibits the
same error, so please take all of the files as a new whole. I have checked them
out in a new project and get no compile messages.
Problem reproduced. I am investigating.
I am testing a fix right now. Thanks for the test case and the bug report. This
wasn't a new bug. We have it since day 1.
I will add regression tests.

Fixed and released in 2.1 stream.
Regression test added.
Verified.</WithStack>
    <WithOutStack>From EC,

I am compiling the output of a JavaCC generated parser from a complex
grammar.
One of the methods in the token manager contains a number of pretty large
switch statelements.

If I compile the code using the eclipse compiler the resulting app fails
with a Verify errror:


Exception in thread "main"

The same code compiled with the SUN javac from j2sdk1.4.1_01 works as
expected

The build used is M5.
Can we get a testcase reproducing the problem ? Did it work with M3 or M4 ?
Cannot tag for 2.1 unless we get some reproduceable testcase.
Created attachment 3489
Generated file causing verify error

Method causing the error appears to be jjMoveNfa_0
Could you please attach all the necessary files to compile this code?
SimpleCharStream, the implemented interface.
Thanks. It will allow me to investigate more quickly.
Created attachment 3494
Compilable subset of files including XScriptParserTokenManager

Note the XScriptParserTokenManager is not the same as the original, as I have
been working on it today, however the one in the zip file still exhibits the
same error, so please take all of the files as a new whole. I have checked them
out in a new project and get no compile messages.
Problem reproduced. I am investigating.
I am testing a fix right now. Thanks for the test case and the bug report. This
wasn't a new bug. We have it since day 1.
I will add regression tests.

Fixed and released in 2.1 stream.
Regression test added.
Verified.</WithOutStack>
  </Bug>
  <Bug>
    <BugId amount="31812" />
    <CreationDate amount="2003-02-13 14:44:00 -0500" />
    <DupId amount="" />
    <classification amount="Eclipse" />
    <Product amount="JDT" />
    <component amount="UI" />
    <Version amount="2.1" />
    <rep_platform amount="PC" />
    <op_sys amount="Windows XP" />
    <priority amount="P3" />
    <bug_severity amount="normal" />
    <Summery>Packages Hierachical layout flashes like mad when selecting classes.</Summery>
    <Patches amount="0" />
    <Stacktraces amount="0" />
    <SourceCodeRegions amount="0" />
    <Enumerations amount="0" />
    <bug_status amount="RESOLVED" />
    <resolution amount="WORKSFORME" />
    <WithStack>In the java Browsing perspective, set the Package Layout to Hierachical (love 
this feature!), then select a "deep" package. Then select classes, one after 
one in the Types view. Each time a type is selected the Package view seems to 
close and open nodes like crazy which slows things down quite a bit. All of 
the classes in the Types view are (obviously) all in the same package, so all 
of this Package view reselection seems superfluous.

Version: 2.1
Build id: 200302061700
The packages flashing/reselection also happens EVERY time you select a method 
in the Members view. Ouch.
This got optimized for the latest integration build &gt; I20030612. I tested it 
and it works fine for me. Please reopen if you still see the problem in this 
build.
Do you mean I20030212? I20030612 is in the future, no? 06 = June?
Sorry I meant I20030212</WithStack>
    <WithOutStack>In the java Browsing perspective, set the Package Layout to Hierachical (love 
this feature!), then select a "deep" package. Then select classes, one after 
one in the Types view. Each time a type is selected the Package view seems to 
close and open nodes like crazy which slows things down quite a bit. All of 
the classes in the Types view are (obviously) all in the same package, so all 
of this Package view reselection seems superfluous.

Version: 2.1
Build id: 200302061700
The packages flashing/reselection also happens EVERY time you select a method 
in the Members view. Ouch.
This got optimized for the latest integration build &gt; I20030612. I tested it 
and it works fine for me. Please reopen if you still see the problem in this 
build.
Do you mean I20030212? I20030612 is in the future, no? 06 = June?
Sorry I meant I20030212</WithOutStack>
  </Bug>
  <Bug>
    <BugId amount="31813" />
    <CreationDate amount="2003-02-13 14:52:00 -0500" />
    <DupId amount="" />
    <classification amount="Eclipse" />
    <Product amount="JDT" />
    <component amount="Text" />
    <Version amount="2.1" />
    <rep_platform amount="All" />
    <op_sys amount="All" />
    <priority amount="P5" />
    <bug_severity amount="minor" />
    <Summery>[typing] Selection is incorrect after undo or redo of local rename</Summery>
    <Patches amount="0" />
    <Stacktraces amount="0" />
    <SourceCodeRegions amount="1">
      <source_code type="functiondef">
        <location start="85" end="390" />
        <code>protected IShowInTarget getShowInTargetList(IWorkbenchPart targetPart) 
{
		if (targetPart instanceof IShowInTarget) {
			return (IShowInTarget) targetPart;
		}
		Object o = targetPart.getAdapter(IShowInTarget.class);
		if (o instanceof IShowInTarget) {
			return (IShowInTarget) o;
		}
		return null;
	}</code>
      </source_code>
    </SourceCodeRegions>
    <Enumerations amount="1">
      <Enumeration lines="9">
        <Lines>
          <Line>- place the cursor in the sourcePart paremeter name</Line>
          <Line>- Ctrl+1, Local Rename</Line>
          <Line>- type "targetPart" (without quotes)</Line>
          <Line>- the cursor is at the end of "targetPart"</Line>
          <Line>- Ctrl+Z to undo</Line>
          <Line>- it undid the change (all in a single undo) but the selection changes to</Line>
          <Line>select the last occurrence of "targetPart"</Line>
          <Line>- Ctrl+Y to redo</Line>
          <Line>- the cursor jumps back to the parameter and selects the "t" in "sourcePart"</Line>
        </Lines>
      </Enumeration>
    </Enumerations>
    <bug_status amount="ASSIGNED" />
    <resolution amount="" />
    <WithStack>build I20030211

In the editor, I was editing the following method in IShowInAction:
	protected IShowInTarget getShowInTargetList(IWorkbenchPart targetPart) 
{
		if (targetPart instanceof IShowInTarget) {
			return (IShowInTarget) targetPart;
		}
		Object o = targetPart.getAdapter(IShowInTarget.class);
		if (o instanceof IShowInTarget) {
			return (IShowInTarget) o;
		}
		return null;
	}

- place the cursor in the sourcePart paremeter name
- Ctrl+1, Local Rename
- type "targetPart" (without quotes)
- the cursor is at the end of "targetPart"
- Ctrl+Z to undo
- it undid the change (all in a single undo) but the selection changes to 
select the last occurrence of "targetPart"
- Ctrl+Y to redo
- the cursor jumps back to the parameter and selects the "t" in "sourcePart"

When undoing and redoing local renames, the selection should not change.
*** Bug 78230 has been marked as a duplicate of this bug. ***
Sounds the same as bug 31123.


*** This bug has been marked as a duplicate of 31123 ***
The simplest case of bug 31123 works in 3.8M7, but this bug (with multiple undos and/or redos) is still reproducible.

See also bug 94272 and bug 185125.
See also bug 25349.</WithStack>
    <WithOutStack>build I20030211

In the editor, I was editing the following method in IShowInAction:
	protected IShowInTarget getShowInTargetList(IWorkbenchPart targetPart) 
{
		if (targetPart instanceof IShowInTarget) {
			return (IShowInTarget) targetPart;
		}
		Object o = targetPart.getAdapter(IShowInTarget.class);
		if (o instanceof IShowInTarget) {
			return (IShowInTarget) o;
		}
		return null;
	}

- place the cursor in the sourcePart paremeter name
- Ctrl+1, Local Rename
- type "targetPart" (without quotes)
- the cursor is at the end of "targetPart"
- Ctrl+Z to undo
- it undid the change (all in a single undo) but the selection changes to 
select the last occurrence of "targetPart"
- Ctrl+Y to redo
- the cursor jumps back to the parameter and selects the "t" in "sourcePart"

When undoing and redoing local renames, the selection should not change.
*** Bug 78230 has been marked as a duplicate of this bug. ***
Sounds the same as bug 31123.


*** This bug has been marked as a duplicate of 31123 ***
The simplest case of bug 31123 works in 3.8M7, but this bug (with multiple undos and/or redos) is still reproducible.

See also bug 94272 and bug 185125.
See also bug 25349.</WithOutStack>
  </Bug>
  <Bug>
    <BugId amount="31814" />
    <CreationDate amount="2003-02-13 14:56:00 -0500" />
    <DupId amount="" />
    <classification amount="Eclipse" />
    <Product amount="JDT" />
    <component amount="UI" />
    <Version amount="2.1" />
    <rep_platform amount="PC" />
    <op_sys amount="Windows XP" />
    <priority amount="P3" />
    <bug_severity amount="normal" />
    <Summery>Organize Imports broken example</Summery>
    <Patches amount="0" />
    <Stacktraces amount="0" />
    <SourceCodeRegions amount="4">
      <source_code type="multicomment">
        <location start="192" end="304" />
        <code>/*
 * Copyright (C) 1993-2003 SEAGULL
 * 
 * JMSDescriptor.java
 * Created on Feb 13, 2003, 11:51:29 AM
 * 
 */</code>
      </source_code>
      <source_code type="package">
        <location start="305" end="349" />
        <code>package com.seagullsw.appinterface.comm.jms;</code>
      </source_code>
      <source_code type="multicomment">
        <location start="350" end="378" />
        <code>/**
 * @author ggregory
 */</code>
      </source_code>
      <source_code type="class">
        <location start="379" end="493" />
        <code>public class JMSDescriptor {

	public String toString() {
		return ToStringBuilder.reflectionToString(this);
	}

}</code>
      </source_code>
    </SourceCodeRegions>
    <Enumerations amount="0" />
    <bug_status amount="RESOLVED" />
    <resolution amount="WORKSFORME" />
    <WithStack>Create the following class and do a CTRL-Shift-O/Organize Imports and nothing 
happens. You need the Apache Commons Lang 1.0.1 jar on you class path which 
includes the ToStringBuilder class.

/*
 * Copyright (C) 1993-2003 SEAGULL
 * 
 * JMSDescriptor.java
 * Created on Feb 13, 2003, 11:51:29 AM
 * 
 */
package com.seagullsw.appinterface.comm.jms;

/**
 * @author ggregory
 */
public class JMSDescriptor {

	public String toString() {
		return ToStringBuilder.reflectionToString(this);
	}

}
Version: 2.1
Build id: 200302061700
This is not a problem of organize import. Seems that the cache didn't contain 
the ToStringBuilder class. Can you please verify if you see the ToStringBuilder 
class in the Open Type dialog. 
Martin, can you please verify that we update the type cache on build path 
changes.
we have a test case for the type cache.

Not much we can do. Seems that a problem in the indexer did not include the 
type of the JAR. If you have a reproducable example please reopen.</WithStack>
    <WithOutStack>Create the following class and do a CTRL-Shift-O/Organize Imports and nothing 
happens. You need the Apache Commons Lang 1.0.1 jar on you class path which 
includes the ToStringBuilder class.

/*
 * Copyright (C) 1993-2003 SEAGULL
 * 
 * JMSDescriptor.java
 * Created on Feb 13, 2003, 11:51:29 AM
 * 
 */
package com.seagullsw.appinterface.comm.jms;

/**
 * @author ggregory
 */
public class JMSDescriptor {

	public String toString() {
		return ToStringBuilder.reflectionToString(this);
	}

}
Version: 2.1
Build id: 200302061700
This is not a problem of organize import. Seems that the cache didn't contain 
the ToStringBuilder class. Can you please verify if you see the ToStringBuilder 
class in the Open Type dialog. 
Martin, can you please verify that we update the type cache on build path 
changes.
we have a test case for the type cache.

Not much we can do. Seems that a problem in the indexer did not include the 
type of the JAR. If you have a reproducable example please reopen.</WithOutStack>
  </Bug>
  <Bug>
    <BugId amount="31815" />
    <CreationDate amount="2003-02-13 14:59:00 -0500" />
    <DupId amount="" />
    <classification amount="Eclipse" />
    <Product amount="JDT" />
    <component amount="Text" />
    <Version amount="2.1" />
    <rep_platform amount="PC" />
    <op_sys amount="All" />
    <priority amount="P3" />
    <bug_severity amount="normal" />
    <Summery>[typing] New Javadoc comment starts with 2 blank lines instead of 1</Summery>
    <Patches amount="0" />
    <Stacktraces amount="0" />
    <SourceCodeRegions amount="3">
      <source_code type="multicomment">
        <location start="77" end="95" />
        <code>/**
	 * 
	 *
	 */</code>
      </source_code>
      <source_code type="functiondef">
        <location start="454" end="474" />
        <code>2. add void test(){}</code>
      </source_code>
      <source_code type="multicomment">
        <location start="537" end="555" />
        <code>/**
	 * 
	 *
	 */</code>
      </source_code>
    </SourceCodeRegions>
    <Enumerations amount="1">
      <Enumeration lines="5">
        <Lines>
          <Line>1. create class Test</Line>
          <Line />
          <Line>3. place caret in line above method</Line>
          <Line>4. type "/**" + Enter</Line>
          <Line>==&gt;</Line>
        </Lines>
      </Enumeration>
    </Enumerations>
    <bug_status amount="RESOLVED" />
    <resolution amount="FIXED" />
    <WithStack>build I20030211

Before a method with no comment, type /** &lt;enter&gt;.
You get:
	/**
	 * 
	 *
	 */

This has one more blank Javadoc line than I expect.
cannot reproduce on I20040914-gtk. Closing, please reopen if you still see this.

( I believe the problem had to do with a wrong default template for method
comments - but it's been a while...)
I couldn't reproduce it in 3.0.1 either.

bug is still here in I200409212000:

Test Case:
1. create class Test
2. add void test(){}
3. place caret in line above method
4. type "/**" + Enter
==&gt;
	/**
	 * 
	 *
	 */


Maybe a regression form fixing other /** + Enter related bugs for M2?
Fixed &gt; 20060814</WithStack>
    <WithOutStack>build I20030211

Before a method with no comment, type /** &lt;enter&gt;.
You get:
	/**
	 * 
	 *
	 */

This has one more blank Javadoc line than I expect.
cannot reproduce on I20040914-gtk. Closing, please reopen if you still see this.

( I believe the problem had to do with a wrong default template for method
comments - but it's been a while...)
I couldn't reproduce it in 3.0.1 either.

bug is still here in I200409212000:

Test Case:
1. create class Test
2. add void test(){}
3. place caret in line above method
4. type "/**" + Enter
==&gt;
	/**
	 * 
	 *
	 */


Maybe a regression form fixing other /** + Enter related bugs for M2?
Fixed &gt; 20060814</WithOutStack>
  </Bug>
  <Bug>
    <BugId amount="31816" />
    <CreationDate amount="2003-02-13 15:04:00 -0500" />
    <DupId amount="" />
    <classification amount="Eclipse" />
    <Product amount="JDT" />
    <component amount="Text" />
    <Version amount="2.1" />
    <rep_platform amount="PC" />
    <op_sys amount="Windows XP" />
    <priority amount="P3" />
    <bug_severity amount="normal" />
    <Summery>Scrollbar in Ctrl+O prompter jumps around a lot when many nested types</Summery>
    <Patches amount="0" />
    <Stacktraces amount="0" />
    <SourceCodeRegions amount="0" />
    <Enumerations amount="1">
      <Enumeration lines="7">
        <Lines>
          <Line>- open Collections.class from java.util</Line>
          <Line>- Ctrl+O</Line>
          <Line>- type 'a'</Line>
          <Line>- backspace</Line>
          <Line>- the scrollbar goes wild</Line>
          <Line>- a couple of seconds later, you're back to the initial state</Line>
          <Line>Has been fixed a while ago</Line>
        </Lines>
      </Enumeration>
    </Enumerations>
    <bug_status amount="RESOLVED" />
    <resolution amount="FIXED" />
    <WithStack>build I20030211

- open Collections.class from java.util
- Ctrl+O
- type 'a'
- backspace
- the scrollbar goes wild
- a couple of seconds later, you're back to the initial state
Has been fixed a while ago</WithStack>
    <WithOutStack>build I20030211

- open Collections.class from java.util
- Ctrl+O
- type 'a'
- backspace
- the scrollbar goes wild
- a couple of seconds later, you're back to the initial state
Has been fixed a while ago</WithOutStack>
  </Bug>
  <Bug>
    <BugId amount="31817" />
    <CreationDate amount="2003-02-13 15:07:00 -0500" />
    <DupId amount="" />
    <classification amount="Eclipse" />
    <Product amount="Platform" />
    <component amount="Text" />
    <Version amount="2.1" />
    <rep_platform amount="PC" />
    <op_sys amount="Windows XP" />
    <priority amount="P3" />
    <bug_severity amount="normal" />
    <Summery>Ctrl+O prompter stays in front when switching to other apps</Summery>
    <Patches amount="0" />
    <Stacktraces amount="0" />
    <SourceCodeRegions amount="0" />
    <Enumerations amount="1">
      <Enumeration lines="7">
        <Lines>
          <Line>- open a java or class file</Line>
          <Line>- Ctrl+O to get the outline prompter</Line>
          <Line>- switch to another app</Line>
          <Line>- the outline prompter stays in front, even though the main eclipse window is</Line>
          <Line>obscured</Line>
          <Line>- click in the outline prompter</Line>
          <Line>- the eclipse window is brought to front</Line>
        </Lines>
      </Enumeration>
    </Enumerations>
    <bug_status amount="RESOLVED" />
    <resolution amount="FIXED" />
    <WithStack>build I20030211

- open a java or class file
- Ctrl+O to get the outline prompter
- switch to another app
- the outline prompter stays in front, even though the main eclipse window is 
obscured
- click in the outline prompter
- the eclipse window is brought to front

This may be an SWT issue, but you might also want to dismiss the outline 
prompter in this case.
Build RC1.</WithStack>
    <WithOutStack>build I20030211

- open a java or class file
- Ctrl+O to get the outline prompter
- switch to another app
- the outline prompter stays in front, even though the main eclipse window is 
obscured
- click in the outline prompter
- the eclipse window is brought to front

This may be an SWT issue, but you might also want to dismiss the outline 
prompter in this case.
Build RC1.</WithOutStack>
  </Bug>
  <Bug>
    <BugId amount="31818" />
    <CreationDate amount="2003-02-13 15:21:00 -0500" />
    <DupId amount="" />
    <classification amount="Eclipse" />
    <Product amount="JDT" />
    <component amount="UI" />
    <Version amount="2.1" />
    <rep_platform amount="PC" />
    <op_sys amount="Windows XP" />
    <priority amount="P3" />
    <bug_severity amount="normal" />
    <Summery>[navigation] Open Type Hierarchy loses selection</Summery>
    <Patches amount="0" />
    <Stacktraces amount="0" />
    <SourceCodeRegions amount="0" />
    <Enumerations amount="2">
      <Enumeration lines="4">
        <Lines>
          <Line>1) the TypeHierarchyViewPart reveals the element on selection change (which</Line>
          <Line>happens initially)</Line>
          <Line>2) the OpenTypeHierarchyUtil reveals as well.</Line>
          <Line>fixed &gt; 20040130</Line>
        </Lines>
      </Enumeration>
      <Enumeration lines="5">
        <Lines>
          <Line>- open a CU (e.g. BookmarkNavigator.java)</Line>
          <Line>- position the cursor between methods</Line>
          <Line>- F4</Line>
          <Line>- it opens the type hierarchy on the class, but also changes the text editor's</Line>
          <Line>selection to select the class name</Line>
        </Lines>
      </Enumeration>
    </Enumerations>
    <bug_status amount="RESOLVED" />
    <resolution amount="FIXED" />
    <WithStack>build I20030211

- open a CU (e.g. BookmarkNavigator.java)
- position the cursor between methods
- F4
- it opens the type hierarchy on the class, but also changes the text editor's 
selection to select the class name

It should not affect the text editor selection.
still a problem in I20030716

not really major compared to other bugs.
There are 2 issues here
1) the TypeHierarchyViewPart reveals the element on selection change (which
happens initially)
2) the OpenTypeHierarchyUtil reveals as well.
fixed &gt; 20040130</WithStack>
    <WithOutStack>build I20030211

- open a CU (e.g. BookmarkNavigator.java)
- position the cursor between methods
- F4
- it opens the type hierarchy on the class, but also changes the text editor's 
selection to select the class name

It should not affect the text editor selection.
still a problem in I20030716

not really major compared to other bugs.
There are 2 issues here
1) the TypeHierarchyViewPart reveals the element on selection change (which
happens initially)
2) the OpenTypeHierarchyUtil reveals as well.
fixed &gt; 20040130</WithOutStack>
  </Bug>
  <Bug>
    <BugId amount="31819" />
    <CreationDate amount="2003-02-13 15:21:00 -0500" />
    <DupId amount="" />
    <classification amount="Eclipse" />
    <Product amount="Platform" />
    <component amount="Ant" />
    <Version amount="2.1" />
    <rep_platform amount="PC" />
    <op_sys amount="All" />
    <priority amount="P3" />
    <bug_severity amount="normal" />
    <Summery>New support for color in TableViewers and TreeViewers</Summery>
    <Patches amount="0" />
    <Stacktraces amount="0" />
    <SourceCodeRegions amount="1">
      <source_code type="class">
        <location start="777" end="948" />
        <code>public class Hello {
  public static void main(String[] args) {
    int x= 3;
    x= 4; // BREAKPOINT HERE. THEN STEP.
    x= 5;
    x= 6;
    System.out.println(x);
  }
}</code>
      </source_code>
    </SourceCodeRegions>
    <Enumerations amount="0" />
    <bug_status amount="VERIFIED" />
    <resolution amount="FIXED" />
    <WithStack>See bug 11116.
Added support for IColorProvider to the label providers that color default
targets in in the ant outline and launch config tabs and to the variables
view label provider that colors changed variables.

Changes made to VariablesView, VariablesViewer, PlantyContentOutlinePage,
AntTargetsTab, and TargetTableLabelProvider.

Please verify.
The change in the variables view breaks clients expecting a debug model 
presentation as the label provider (which is part of the IDebugView API).
Released fix to retrieve presentation from variables view. The fix does not 
seem robust - we should likely use adapters in the future.
I am getting no color for changed variables in the variables view.
Do you have a test case? Do you see coloring if you step through this case:
public class Hello {
  public static void main(String[] args) {
    int x= 3;
    x= 4; // BREAKPOINT HERE. THEN STEP.
    x= 5;
    x= 6;
    System.out.println(x);
  }
}

My test was bogus.
Verified.</WithStack>
    <WithOutStack>See bug 11116.
Added support for IColorProvider to the label providers that color default
targets in in the ant outline and launch config tabs and to the variables
view label provider that colors changed variables.

Changes made to VariablesView, VariablesViewer, PlantyContentOutlinePage,
AntTargetsTab, and TargetTableLabelProvider.

Please verify.
The change in the variables view breaks clients expecting a debug model 
presentation as the label provider (which is part of the IDebugView API).
Released fix to retrieve presentation from variables view. The fix does not 
seem robust - we should likely use adapters in the future.
I am getting no color for changed variables in the variables view.
Do you have a test case? Do you see coloring if you step through this case:
public class Hello {
  public static void main(String[] args) {
    int x= 3;
    x= 4; // BREAKPOINT HERE. THEN STEP.
    x= 5;
    x= 6;
    System.out.println(x);
  }
}

My test was bogus.
Verified.</WithOutStack>
  </Bug>
  <Bug>
    <BugId amount="31820" />
    <CreationDate amount="2003-02-13 15:23:00 -0500" />
    <DupId amount="" />
    <classification amount="Eclipse" />
    <Product amount="Platform" />
    <component amount="Team" />
    <Version amount="3.0" />
    <rep_platform amount="PC" />
    <op_sys amount="Windows 2000" />
    <priority amount="P3" />
    <bug_severity amount="normal" />
    <Summery>[CVS Core] Same directory different cases, one created as d_i_r_e_c_t_o_r_y, no warning or error message.</Summery>
    <Patches amount="0" />
    <Stacktraces amount="0" />
    <SourceCodeRegions amount="0" />
    <Enumerations amount="0" />
    <bug_status amount="RESOLVED" />
    <resolution amount="WORKSFORME" />
    <WithStack>M5

We recently moved some source from a directory named "DirectoryOne" to a
directory named "directoryone" and then removed all files from "DirectoryOne" in
cvs.  

There seemed to be quite a few differnet scenarios.

Scenario #1.

When getting the source from cvs, eclipse created 2 folders, "directoryone" and
"D_i_r_e_c_t_o_r_y_O_n_e".  No warning or error messages were reported.  I think
a warning should be issued saying why this directory was created.  

Scenario #2.

When getting the source from cvs, eclipse created 3 folders, "DirectoryOne",
"D_i_r_e_c_t_o_r_y_O_n_e", and "d_i_r_e_c_t_o_r_y_o_n_e".  A warning message was
created.

There were other modifications of these scenarios but I think the
_underlying_problem_ is that the cvs client is first creating the directories
and then pruning them if they contain no files.  If you prevented the creation
of directories that do not contain files in the first place then this problem
would not occur because there would only be one version of the directory that
contains files.
&gt;&gt;When getting the source from cvs, eclipse created 3 folders, "DirectoryOne",
&gt;&gt;"D_i_r_e_c_t_o_r_y_O_n_e", and "d_i_r_e_c_t_o_r_y_o_n_e". 

Odd, I don't think its us (the client) doing this.  Do you have scripts on the 
server?  Boris, please test this case.
There are scripts on the server but they don't perform this function.  The only
thing our scripts do are perform checkin authorization.  My cvs Entries files
contains the following entries.  I think this is specific to 2.1, 2.0 seems to
behave differently and without these problems.

D/directoryone////
D/D-i_r_e_c_t_o_r_y-O_n_e_////
D/DirectoryOne_////
D/DirectoryOne////
D/d_i_r_e_c_t_o_r_y_o_n_e_////

A more lightweight solution than detecting if the directory tree has files
before retrieving it would be checking for these duplicate resources, like
directoryone and DirectoryOne and if detected determine which of the two is not
empty and retrieve it - i think this is the most common case and would certainly
relieve my problems - otherwise return to the normal behavior. 


I seem to recall that there are technical problems with us detecting early 
enough duplicate directories with one empty. I don't recall the specifics but 
will trawl old bug reports (Boris, perhaps you can have a look).

The adding of underscores in file names is curious.

Unfortunately the person who worked on this code is on leave, so we'll need to 
dig a bit.
RC1 seems to be working now except for a decorator problem now seen in Bug 31806.  


Even though it seems ok now, it would be interesting to understand what was 
happening.

In your original test case, in step one, when you moved source from 
DirectoryOne to directoryone, - how did you do it?  I mean, did you do it in a 
working copy and then committed to CVS (if so, was it in Eclipse or using 
command line cvs?), or you directly manipulated files in the repository?

[Side note linking bugs:  See also 7960].
I am not really sure to be honest.  I wasn't the one that submitted the change
and at our dev shop we use eclipse, wincvs and cygwin cvs.  I'd say the most
likely was via an eclipse commit since that is the predominant client used to
access the repository.
Unfortunately, it is the clients responsibility to prune empty directories. 
Therefore, special handling was added to support the case mentioned by the 
reporter on case insensitive platforms (i.e. directory rename containg same 
characters but different case). However, the user should never see this as the 
checkout/update code only uses the alternate directory name during the 
operation. The fact that it appears mas that the mechanism failed in some way. 
Do you still get this regularly?
No it stopped happening and is working properly now.
This is happening again in e3m3.

In cvs repository view I have:

monitorframework
monitoringFramework

The eclipse cvs entries file has the following:

D/m_o_n_i_t_o_r_i_n_g_F-r_a_m_e_w_o_r_k_////
D/m_o_n_i_t_o_r_i_n_g_f_r_a_m_e_w_o_r_k_////
D/monitorframework////
D/monitoringFramework////

and I get the following error from the cvs console:

Error: version: cvs server: cannot open directory
/cvs/product/version/x/y/z/a/b/monitoringframework: No such file or directory
***


I'd like to add that while this method seems to work pretty well in most cases
we have encountered a problem with it which prevents us from checking out a
project from out CVS server. The repository contains files with rather long
filenames. Those names are generated by an external tool and cannot be changed.
Their length can sometimes exceed 130 characters.

If you check those out and due to casing problems (Linux server, Windows client)
eclipse's "underscore method" gets invoked, invalid filenames will be generated
(exceedings NTFS' limit of 260 characters, cf.
http://msdn.microsoft.com/library/default.asp?url=/library/en-us/fileio/base/naming_a_file.asp).

Maybe you could adapt the code to first determine of the maximum length (taking
into account the workspace location as well) of the resulting path and give a
more detailed error message to the user?

In addition you might consider a less "expensive" way of changing the
conflicting filenames. E. g. instead of inserting a "_" between all the
characters just insert something like "___" at those points where the casing
really conflicts (DirectoryOne becomes Directory___One instead of
D_i_r_e_c_t_o_r_y_O_n_e).

I think this needs to be addressed for 3.0 final.
Post 3.0
Would it be possible to first execute all incoming deletions? This would at
least solve conflicts where the deletion of e. g. "UpperCase" and addition of
"uppercase" are part of the same changeset. 
Things have changed considerably since this bug has been entered. Deletions 
are done first and we don't create any funny directories.</WithStack>
    <WithOutStack>M5

We recently moved some source from a directory named "DirectoryOne" to a
directory named "directoryone" and then removed all files from "DirectoryOne" in
cvs.  

There seemed to be quite a few differnet scenarios.

Scenario #1.

When getting the source from cvs, eclipse created 2 folders, "directoryone" and
"D_i_r_e_c_t_o_r_y_O_n_e".  No warning or error messages were reported.  I think
a warning should be issued saying why this directory was created.  

Scenario #2.

When getting the source from cvs, eclipse created 3 folders, "DirectoryOne",
"D_i_r_e_c_t_o_r_y_O_n_e", and "d_i_r_e_c_t_o_r_y_o_n_e".  A warning message was
created.

There were other modifications of these scenarios but I think the
_underlying_problem_ is that the cvs client is first creating the directories
and then pruning them if they contain no files.  If you prevented the creation
of directories that do not contain files in the first place then this problem
would not occur because there would only be one version of the directory that
contains files.
&gt;&gt;When getting the source from cvs, eclipse created 3 folders, "DirectoryOne",
&gt;&gt;"D_i_r_e_c_t_o_r_y_O_n_e", and "d_i_r_e_c_t_o_r_y_o_n_e". 

Odd, I don't think its us (the client) doing this.  Do you have scripts on the 
server?  Boris, please test this case.
There are scripts on the server but they don't perform this function.  The only
thing our scripts do are perform checkin authorization.  My cvs Entries files
contains the following entries.  I think this is specific to 2.1, 2.0 seems to
behave differently and without these problems.

D/directoryone////
D/D-i_r_e_c_t_o_r_y-O_n_e_////
D/DirectoryOne_////
D/DirectoryOne////
D/d_i_r_e_c_t_o_r_y_o_n_e_////

A more lightweight solution than detecting if the directory tree has files
before retrieving it would be checking for these duplicate resources, like
directoryone and DirectoryOne and if detected determine which of the two is not
empty and retrieve it - i think this is the most common case and would certainly
relieve my problems - otherwise return to the normal behavior. 


I seem to recall that there are technical problems with us detecting early 
enough duplicate directories with one empty. I don't recall the specifics but 
will trawl old bug reports (Boris, perhaps you can have a look).

The adding of underscores in file names is curious.

Unfortunately the person who worked on this code is on leave, so we'll need to 
dig a bit.
RC1 seems to be working now except for a decorator problem now seen in Bug 31806.  


Even though it seems ok now, it would be interesting to understand what was 
happening.

In your original test case, in step one, when you moved source from 
DirectoryOne to directoryone, - how did you do it?  I mean, did you do it in a 
working copy and then committed to CVS (if so, was it in Eclipse or using 
command line cvs?), or you directly manipulated files in the repository?

[Side note linking bugs:  See also 7960].
I am not really sure to be honest.  I wasn't the one that submitted the change
and at our dev shop we use eclipse, wincvs and cygwin cvs.  I'd say the most
likely was via an eclipse commit since that is the predominant client used to
access the repository.
Unfortunately, it is the clients responsibility to prune empty directories. 
Therefore, special handling was added to support the case mentioned by the 
reporter on case insensitive platforms (i.e. directory rename containg same 
characters but different case). However, the user should never see this as the 
checkout/update code only uses the alternate directory name during the 
operation. The fact that it appears mas that the mechanism failed in some way. 
Do you still get this regularly?
No it stopped happening and is working properly now.
This is happening again in e3m3.

In cvs repository view I have:

monitorframework
monitoringFramework

The eclipse cvs entries file has the following:

D/m_o_n_i_t_o_r_i_n_g_F-r_a_m_e_w_o_r_k_////
D/m_o_n_i_t_o_r_i_n_g_f_r_a_m_e_w_o_r_k_////
D/monitorframework////
D/monitoringFramework////

and I get the following error from the cvs console:

Error: version: cvs server: cannot open directory
/cvs/product/version/x/y/z/a/b/monitoringframework: No such file or directory
***


I'd like to add that while this method seems to work pretty well in most cases
we have encountered a problem with it which prevents us from checking out a
project from out CVS server. The repository contains files with rather long
filenames. Those names are generated by an external tool and cannot be changed.
Their length can sometimes exceed 130 characters.

If you check those out and due to casing problems (Linux server, Windows client)
eclipse's "underscore method" gets invoked, invalid filenames will be generated
(exceedings NTFS' limit of 260 characters, cf.
http://msdn.microsoft.com/library/default.asp?url=/library/en-us/fileio/base/naming_a_file.asp).

Maybe you could adapt the code to first determine of the maximum length (taking
into account the workspace location as well) of the resulting path and give a
more detailed error message to the user?

In addition you might consider a less "expensive" way of changing the
conflicting filenames. E. g. instead of inserting a "_" between all the
characters just insert something like "___" at those points where the casing
really conflicts (DirectoryOne becomes Directory___One instead of
D_i_r_e_c_t_o_r_y_O_n_e).

I think this needs to be addressed for 3.0 final.
Post 3.0
Would it be possible to first execute all incoming deletions? This would at
least solve conflicts where the deletion of e. g. "UpperCase" and addition of
"uppercase" are part of the same changeset. 
Things have changed considerably since this bug has been entered. Deletions 
are done first and we don't create any funny directories.</WithOutStack>
  </Bug>
  <Bug>
    <BugId amount="31821" />
    <CreationDate amount="2003-02-13 15:36:00 -0500" />
    <DupId amount="" />
    <classification amount="Eclipse" />
    <Product amount="JDT" />
    <component amount="UI" />
    <Version amount="2.1" />
    <rep_platform amount="PC" />
    <op_sys amount="Windows XP" />
    <priority amount="P3" />
    <bug_severity amount="enhancement" />
    <Summery>Quick fix for unused imports</Summery>
    <Patches amount="0" />
    <Stacktraces amount="0" />
    <SourceCodeRegions amount="0" />
    <Enumerations amount="0" />
    <bug_status amount="RESOLVED" />
    <resolution amount="FIXED" />
    <WithStack>build I20030211

It would be nice to have a quick fix for unused import warnings which simply 
removes the import.
Actually, it's already there in the editor, but not in the Tasks view.

It's nice that it supports Organize Imports as a resolution too.
Martin, do we have to do anything special that this shows up in the task view
All quick fixes in the editor also are available on in the task list.
I just tried that and it was there. There were some action enablement problems 
(bug 28655).
There is a restriction on our side that we only give the list when the file is 
open in the editor. I wanted to have a look at this for RC1 (we would have to 
open the editor first)

Can you confirm that was the problem?
quick fix on the task list now also works when the corresponding CU is closed
&gt; 20030214</WithStack>
    <WithOutStack>build I20030211

It would be nice to have a quick fix for unused import warnings which simply 
removes the import.
Actually, it's already there in the editor, but not in the Tasks view.

It's nice that it supports Organize Imports as a resolution too.
Martin, do we have to do anything special that this shows up in the task view
All quick fixes in the editor also are available on in the task list.
I just tried that and it was there. There were some action enablement problems 
(bug 28655).
There is a restriction on our side that we only give the list when the file is 
open in the editor. I wanted to have a look at this for RC1 (we would have to 
open the editor first)

Can you confirm that was the problem?
quick fix on the task list now also works when the corresponding CU is closed
&gt; 20030214</WithOutStack>
  </Bug>
  <Bug>
    <BugId amount="31822" />
    <CreationDate amount="2003-02-13 15:38:00 -0500" />
    <DupId amount="" />
    <classification amount="Eclipse" />
    <Product amount="Platform" />
    <component amount="SWT" />
    <Version amount="2.1" />
    <rep_platform amount="PC" />
    <op_sys amount="Windows 2000" />
    <priority amount="P3" />
    <bug_severity amount="normal" />
    <Summery>W2K and creating too many bitmaps - reboot the machine or GP</Summery>
    <Patches amount="0" />
    <Stacktraces amount="0" />
    <SourceCodeRegions amount="4">
      <source_code type="import">
        <location start="431" end="457" />
        <code>import org.eclipse.swt.*;</code>
      </source_code>
      <source_code type="import">
        <location start="458" end="491" />
        <code>import org.eclipse.swt.widgets.*;</code>
      </source_code>
      <source_code type="import">
        <location start="492" end="526" />
        <code>import org.eclipse.swt.graphics.*;</code>
      </source_code>
      <source_code type="class">
        <location start="528" end="1039" />
        <code>public class PR24473b {
	static Tree tree = null;
	static Display display = null;
	static Shell shell = null;
	
	/* Reboot on W2K */
	public static void main(String[] args) {
		display = new Display();
		shell = new Shell(display);
		shell.setText("PR24473b");		
		shell.open();

		while (!shell.isDisposed()) {
			createImage();
		}

		while (!shell.isDisposed()) {
			if (!display.readAndDispatch())
				display.sleep();
		}		
	}
	
	public static Image createImage() {
		return new Image(display,16, 16);
	}
}</code>
      </source_code>
    </SourceCodeRegions>
    <Enumerations amount="0" />
    <bug_status amount="RESOLVED" />
    <resolution amount="WONTFIX" />
    <WithStack>Following snippet reboots my W2k box. It 'simply' GP's on Grant's W2K box, 
shutting down Eclipse too and leaving the desktop in a bad redraw state. It 
sometimes GP's on my Win98 box. WinXP always correctly stop with the 
regular 'no more handles' error.
It looks like some platforms don't fail well on CreateCompatibleBitmap. They 
return 0 as expected but leave everything in a bad state. This may be a display 
driver bug too.

import org.eclipse.swt.*;
import org.eclipse.swt.widgets.*;
import org.eclipse.swt.graphics.*;

public class PR24473b {
	static Tree tree = null;
	static Display display = null;
	static Shell shell = null;
	
	/* Reboot on W2K */
	public static void main(String[] args) {
		display = new Display();
		shell = new Shell(display);
		shell.setText("PR24473b");		
		shell.open();

		while (!shell.isDisposed()) {
			createImage();
		}

		while (!shell.isDisposed()) {
			if (!display.readAndDispatch())
				display.sleep();
		}		
	}
	
	public static Image createImage() {
		return new Image(display,16, 16);
	}
}
platform limitation</WithStack>
    <WithOutStack>Following snippet reboots my W2k box. It 'simply' GP's on Grant's W2K box, 
shutting down Eclipse too and leaving the desktop in a bad redraw state. It 
sometimes GP's on my Win98 box. WinXP always correctly stop with the 
regular 'no more handles' error.
It looks like some platforms don't fail well on CreateCompatibleBitmap. They 
return 0 as expected but leave everything in a bad state. This may be a display 
driver bug too.

import org.eclipse.swt.*;
import org.eclipse.swt.widgets.*;
import org.eclipse.swt.graphics.*;

public class PR24473b {
	static Tree tree = null;
	static Display display = null;
	static Shell shell = null;
	
	/* Reboot on W2K */
	public static void main(String[] args) {
		display = new Display();
		shell = new Shell(display);
		shell.setText("PR24473b");		
		shell.open();

		while (!shell.isDisposed()) {
			createImage();
		}

		while (!shell.isDisposed()) {
			if (!display.readAndDispatch())
				display.sleep();
		}		
	}
	
	public static Image createImage() {
		return new Image(display,16, 16);
	}
}
platform limitation</WithOutStack>
  </Bug>
  <Bug>
    <BugId amount="31823" />
    <CreationDate amount="2003-02-13 15:41:00 -0500" />
    <DupId amount="" />
    <classification amount="Eclipse" />
    <Product amount="Platform" />
    <component amount="SWT" />
    <Version amount="2.1" />
    <rep_platform amount="PC" />
    <op_sys amount="Windows XP" />
    <priority amount="P3" />
    <bug_severity amount="major" />
    <Summery>Clicking on partially obscured tab should scroll it into view</Summery>
    <Patches amount="0" />
    <Stacktraces amount="0" />
    <SourceCodeRegions amount="0" />
    <Enumerations amount="1">
      <Enumeration lines="5">
        <Lines>
          <Line>- open a bunch of editors so scroll arrows appear</Line>
          <Line>- scroll so the last one is fully visible</Line>
          <Line>- shrink the window so that the close box is obscured</Line>
          <Line>- click in the tab</Line>
          <Line>- nothing happens</Line>
        </Lines>
      </Enumeration>
    </Enumerations>
    <bug_status amount="RESOLVED" />
    <resolution amount="FIXED" />
    <WithStack>build I20030211

You commonly get the last visible editor tab partially obscured by the scroll 
arrows, making the close box inaccessible.  You have to use the context menu 
to close the editor.

Either the tabs should never get obscured (the preferred solution, but there 
was already a PR for this which was marked WONTFIX), or a single click on the 
tab should scroll to reveal it fully.
I think this is a major usability problem with the editor tabs.

Please consider for RC1.
Nick,

When you click on the partially obscured tab it already does scroll into 
view.  I do not know what you are talking about.  Can you please show me.  I 
reaslize you are not in today - just drop by tomorrow.
In I20030214, try this:

- open a bunch of editors so scroll arrows appear
- scroll so the last one is fully visible
- shrink the window so that the close box is obscured
- click in the tab
- nothing happens

I really think that we should avoid obscuring items in the first place though, 
if at all possible.
I believe you are talking about the specific case where you are clicking on an 
already selected tab that has been obscured by resizing. This is now fixed.</WithStack>
    <WithOutStack>build I20030211

You commonly get the last visible editor tab partially obscured by the scroll 
arrows, making the close box inaccessible.  You have to use the context menu 
to close the editor.

Either the tabs should never get obscured (the preferred solution, but there 
was already a PR for this which was marked WONTFIX), or a single click on the 
tab should scroll to reveal it fully.
I think this is a major usability problem with the editor tabs.

Please consider for RC1.
Nick,

When you click on the partially obscured tab it already does scroll into 
view.  I do not know what you are talking about.  Can you please show me.  I 
reaslize you are not in today - just drop by tomorrow.
In I20030214, try this:

- open a bunch of editors so scroll arrows appear
- scroll so the last one is fully visible
- shrink the window so that the close box is obscured
- click in the tab
- nothing happens

I really think that we should avoid obscuring items in the first place though, 
if at all possible.
I believe you are talking about the specific case where you are clicking on an 
already selected tab that has been obscured by resizing. This is now fixed.</WithOutStack>
  </Bug>
  <Bug>
    <BugId amount="31824" />
    <CreationDate amount="2003-02-13 15:57:00 -0500" />
    <DupId amount="" />
    <classification amount="Eclipse" />
    <Product amount="Platform" />
    <component amount="Runtime" />
    <Version amount="2.1" />
    <rep_platform amount="PC" />
    <op_sys amount="Windows 2000" />
    <priority amount="P3" />
    <bug_severity amount="major" />
    <Summery>[other] Progress monitor past WorkspaceModifyOperation supresses beginTask text</Summery>
    <Patches amount="0" />
    <Stacktraces amount="0" />
    <SourceCodeRegions amount="2">
      <source_code type="functiondef">
        <location start="79" end="280" />
        <code>WorkspaceModifyOperation op = new WorkspaceModifyOperation() {
      public void execute(IProgressMonitor monitor) {
         monitor.beginTask("My main task title", 100);
         ....
      }
   }</code>
      </source_code>
      <source_code type="functioncall">
        <location start="282" end="338" />
        <code>new ProgressMonitorDialog(shell).run(true, true, op);</code>
      </source_code>
    </SourceCodeRegions>
    <Enumerations amount="0" />
    <bug_status amount="RESOLVED" />
    <resolution amount="WONTFIX" />
    <WithStack>For example, I have an action that has the following code in its run() method:
   WorkspaceModifyOperation op = new WorkspaceModifyOperation() {
      public void execute(IProgressMonitor monitor) {
         monitor.beginTask("My main task title", 100);
         ....
      }
   };
   new ProgressMonitorDialog(shell).run(true, true, op);

The ProgressMonitorDialog.run call eventually gets to Workspace.run method. It 
ends up creating a SubProgressMonitor and passes it to my 
WorkspaceModifyOperation.execute method.

But SubProgressMonitor.beginTask just drops the text I gave it. This means the 
dialog will end up showing the default "Operation in progress..." message 
(which everyone dislike given the comments we get on this). To workaround this, 
we need to call setTaskName.

It just does not make sense. When the execute method is called, I'm at the top 
of the work I want to do. Why is it being treated as a sub-task? The monitor 
past to the execute method should allow the beginTask title to propagate up to 
the top level monitor.

Can this be fixed for 2.1 RC1? This could easily be fixed by having another 
style bit on SubProgressMonitor to past the beginTask title thru.
Marking this major because if not fixed, I'll need to update all the workbench 
actions to call setTaskName (and not to mention other plugins who will need to 
do the same)
One clarification... The monitor past to the execute method should not append 
the beginTask title to the subTask title.
The style bit on SubProgressMonitor doesn't work, because we can't determine in
a given IWorkspaceRunnable whether it is the top level, and thus should
propagate the message, or whether it's not at the top level.

We can revisit after 2.1 to see if there's a better long term solution. 
However, we've been revisiting this for the past four years, so a magic bullet
isn't likely.  For now the solution is to use setTaskName when you know you're
at the top level and want to replace the task message.
Re-opening to move.
Not planning to change this now. Too many people rely on existing behaviour, and
SubProgressMonitor has always worked this way.</WithStack>
    <WithOutStack>For example, I have an action that has the following code in its run() method:
   WorkspaceModifyOperation op = new WorkspaceModifyOperation() {
      public void execute(IProgressMonitor monitor) {
         monitor.beginTask("My main task title", 100);
         ....
      }
   };
   new ProgressMonitorDialog(shell).run(true, true, op);

The ProgressMonitorDialog.run call eventually gets to Workspace.run method. It 
ends up creating a SubProgressMonitor and passes it to my 
WorkspaceModifyOperation.execute method.

But SubProgressMonitor.beginTask just drops the text I gave it. This means the 
dialog will end up showing the default "Operation in progress..." message 
(which everyone dislike given the comments we get on this). To workaround this, 
we need to call setTaskName.

It just does not make sense. When the execute method is called, I'm at the top 
of the work I want to do. Why is it being treated as a sub-task? The monitor 
past to the execute method should allow the beginTask title to propagate up to 
the top level monitor.

Can this be fixed for 2.1 RC1? This could easily be fixed by having another 
style bit on SubProgressMonitor to past the beginTask title thru.
Marking this major because if not fixed, I'll need to update all the workbench 
actions to call setTaskName (and not to mention other plugins who will need to 
do the same)
One clarification... The monitor past to the execute method should not append 
the beginTask title to the subTask title.
The style bit on SubProgressMonitor doesn't work, because we can't determine in
a given IWorkspaceRunnable whether it is the top level, and thus should
propagate the message, or whether it's not at the top level.

We can revisit after 2.1 to see if there's a better long term solution. 
However, we've been revisiting this for the past four years, so a magic bullet
isn't likely.  For now the solution is to use setTaskName when you know you're
at the top level and want to replace the task message.
Re-opening to move.
Not planning to change this now. Too many people rely on existing behaviour, and
SubProgressMonitor has always worked this way.</WithOutStack>
  </Bug>
  <Bug>
    <BugId amount="31825" />
    <CreationDate amount="2003-02-13 16:01:00 -0500" />
    <DupId amount="" />
    <classification amount="Eclipse" />
    <Product amount="Platform" />
    <component amount="Team" />
    <Version amount="2.1" />
    <rep_platform amount="PC" />
    <op_sys amount="Windows XP" />
    <priority amount="P3" />
    <bug_severity amount="normal" />
    <Summery>[CVS UI] CVS perspective should have placeholder for Navigator</Summery>
    <Patches amount="0" />
    <Stacktraces amount="0" />
    <SourceCodeRegions amount="0" />
    <Enumerations amount="1">
      <Enumeration lines="3">
        <Lines>
          <Line>- open the CVS perspective</Line>
          <Line>- Show View / Navigator</Line>
          <Line>- it appears at bottom right</Line>
        </Lines>
      </Enumeration>
    </Enumerations>
    <bug_status amount="RESOLVED" />
    <resolution amount="WONTFIX" />
    <WithStack>build I20030211

- open the CVS perspective
- Show View / Navigator
- it appears at bottom right

It would be better if overlayed with the CVS Repositories view.
This bug has not been touched for 2 years. Closing as WONTFIX. Please reopen if 
you feel this is still an important issue.</WithStack>
    <WithOutStack>build I20030211

- open the CVS perspective
- Show View / Navigator
- it appears at bottom right

It would be better if overlayed with the CVS Repositories view.
This bug has not been touched for 2 years. Closing as WONTFIX. Please reopen if 
you feel this is still an important issue.</WithOutStack>
  </Bug>
  <Bug>
    <BugId amount="31826" />
    <CreationDate amount="2003-02-13 16:11:00 -0500" />
    <DupId amount="19543" />
    <classification amount="Eclipse" />
    <Product amount="JDT" />
    <component amount="Text" />
    <Version amount="2.1" />
    <rep_platform amount="All" />
    <op_sys amount="All" />
    <priority amount="P3" />
    <bug_severity amount="enhancement" />
    <Summery>Editor syntax color category 'Others' too broad</Summery>
    <Patches amount="0" />
    <Stacktraces amount="0" />
    <SourceCodeRegions amount="0" />
    <Enumerations amount="0" />
    <bug_status amount="RESOLVED" />
    <resolution amount="DUPLICATE" />
    <WithStack>Others is too broad a category. I've used many other editors/IDEs which allow 
colorization on a much finer scale, such as characters ( e.g. 'K' or 'p' ), 
operators ( e.g. = or &gt; ), static variables, member variables ( e.g. for java, 
private int m_int; -- m_int could have a distinct foreground wherever it is 
used ), static variables, and such. Some even allowed regexp or glob style 
matching, that is, one could define a regular expression and color for it; any 
text that matched the regexp was appropriately colored. In addition, one could 
also define begin/end tokens, and anything between the tokens ( inclusive ) was 
colored appropriately -- this was especially nice for embedded SQL. These last 
two come to mind from the NEdit editor ( I dunno if it is still unix specific ).
To be considered when adding configurable syntax coloring.


*** This bug has been marked as a duplicate of 19543 ***</WithStack>
    <WithOutStack>Others is too broad a category. I've used many other editors/IDEs which allow 
colorization on a much finer scale, such as characters ( e.g. 'K' or 'p' ), 
operators ( e.g. = or &gt; ), static variables, member variables ( e.g. for java, 
private int m_int; -- m_int could have a distinct foreground wherever it is 
used ), static variables, and such. Some even allowed regexp or glob style 
matching, that is, one could define a regular expression and color for it; any 
text that matched the regexp was appropriately colored. In addition, one could 
also define begin/end tokens, and anything between the tokens ( inclusive ) was 
colored appropriately -- this was especially nice for embedded SQL. These last 
two come to mind from the NEdit editor ( I dunno if it is still unix specific ).
To be considered when adding configurable syntax coloring.


*** This bug has been marked as a duplicate of 19543 ***</WithOutStack>
  </Bug>
  <Bug>
    <BugId amount="31827" />
    <CreationDate amount="2003-02-13 16:15:00 -0500" />
    <DupId amount="" />
    <classification amount="Eclipse" />
    <Product amount="Platform" />
    <component amount="Text" />
    <Version amount="2.1" />
    <rep_platform amount="All" />
    <op_sys amount="All" />
    <priority amount="P3" />
    <bug_severity amount="enhancement" />
    <Summery>Add italic to editor syntax style choices ( only bold right now )</Summery>
    <Patches amount="0" />
    <Stacktraces amount="0" />
    <SourceCodeRegions amount="3">
      <source_code type="singlecomment">
        <location start="1344" end="1406" />
        <code>//todo: remove once StyleText &amp; StyledRange support italic</code>
      </source_code>
      <source_code type="functioncall">
        <location start="1412" end="1448" />
        <code>fItalicCheckBox.setVisible(false);</code>
      </source_code>
      <source_code type="singlecomment">
        <location start="1449" end="1454" />
        <code>//</code>
      </source_code>
    </SourceCodeRegions>
    <Enumerations amount="0" />
    <bug_status amount="RESOLVED" />
    <resolution amount="FIXED" />
    <WithStack>It would be nice if one could choose to have an italic style in addition to a 
color for a particular element, much as one can choose to have a bold style.
started working on this.

bug 38634 needs to be resolved first
Actually bug 4587 needs to be resolved first ,)
Created attachment 5124
fix

Implementation notes:

@@ PreferenceConstants @@

Added constants for font style.

The value is an Integer -- SWT.NORMAL, SWT.BOLD, SWT.ITALIC, or a combination
of them.

Basically the value is the value which will be passed into the StyledRange
constructor as the style argument.

I retained but deprecated the old Boolean "Bold" keys for external clients but
flagged them with "//for 2.1 compatibility".

@@ JavaEditorPreferencePage @@

Added fItalicCheckBox for italic style.

Added updateFontStyle() -- handles style changes.

I retained the old "Bold"-keys for external clients but flagged them with
"//for 2.1 compatibility"; their values will still be updated in the
SelectionListener of fBoldCheckBox but they will not be used anymore.

@@ AbstractJavaScanner @@

Uses the Integer keys instead of the Boolean keys.

@@@@

This patch can be incorporated now -- from the users side nothing has changed.
There is still only a bold checkbox.

Once bug 4587 has been resolved the following line has to be removed in
createSyntaxPage(Composite):

		//todo: remove once StyleText &amp; StyledRange support italic
fonts
		fItalicCheckBox.setVisible(false);
		//

The user will have the option for bold and/or italic style then.
We will include/review the patch until bug 4587 has been solved. Moving to 
Later.
Bug 4587 is resolved
The patch from comment 3 does not apply anymore and we decided to add a boolean
preference for italic (the patch adds an integer preference for style).
Available in builds &gt;20040506</WithStack>
    <WithOutStack>It would be nice if one could choose to have an italic style in addition to a 
color for a particular element, much as one can choose to have a bold style.
started working on this.

bug 38634 needs to be resolved first
Actually bug 4587 needs to be resolved first ,)
Created attachment 5124
fix

Implementation notes:

@@ PreferenceConstants @@

Added constants for font style.

The value is an Integer -- SWT.NORMAL, SWT.BOLD, SWT.ITALIC, or a combination
of them.

Basically the value is the value which will be passed into the StyledRange
constructor as the style argument.

I retained but deprecated the old Boolean "Bold" keys for external clients but
flagged them with "//for 2.1 compatibility".

@@ JavaEditorPreferencePage @@

Added fItalicCheckBox for italic style.

Added updateFontStyle() -- handles style changes.

I retained the old "Bold"-keys for external clients but flagged them with
"//for 2.1 compatibility"; their values will still be updated in the
SelectionListener of fBoldCheckBox but they will not be used anymore.

@@ AbstractJavaScanner @@

Uses the Integer keys instead of the Boolean keys.

@@@@

This patch can be incorporated now -- from the users side nothing has changed.
There is still only a bold checkbox.

Once bug 4587 has been resolved the following line has to be removed in
createSyntaxPage(Composite):

		//todo: remove once StyleText &amp; StyledRange support italic
fonts
		fItalicCheckBox.setVisible(false);
		//

The user will have the option for bold and/or italic style then.
We will include/review the patch until bug 4587 has been solved. Moving to 
Later.
Bug 4587 is resolved
The patch from comment 3 does not apply anymore and we decided to add a boolean
preference for italic (the patch adds an integer preference for style).
Available in builds &gt;20040506</WithOutStack>
  </Bug>
  <Bug>
    <BugId amount="31828" />
    <CreationDate amount="2003-02-13 16:31:00 -0500" />
    <DupId amount="" />
    <classification amount="Eclipse" />
    <Product amount="Platform" />
    <component amount="UI" />
    <Version amount="2.1" />
    <rep_platform amount="PC" />
    <op_sys amount="Windows XP" />
    <priority amount="P3" />
    <bug_severity amount="normal" />
    <Summery>[Bookmarks] Issues with recent changes</Summery>
    <Patches amount="0" />
    <Stacktraces amount="0" />
    <SourceCodeRegions amount="0" />
    <Enumerations amount="1">
      <Enumeration lines="11">
        <Lines>
          <Line>- new actions should be package visible, not public</Line>
          <Line>- new actions should have Javadoc for the class and methods (see any existing</Line>
          <Line>APIs for style)</Line>
          <Line>- if possible, refactor the existing OpenWithMenu to support markers rather</Line>
          <Line>than copying the code</Line>
          <Line>EditBookmarkAction and NewBookmarkAction must be public because they are</Line>
          <Line>declared as extensions to the org.eclipse.ui.popupMenus extension point.</Line>
          <Line>NewBookmarkAction is also used by the task list.</Line>
          <Line>In the bookmark view itself, it would be better to contribute them directly in</Line>
          <Line>code rather than using the popupMenus extension point.  This extension point is</Line>
          <Line>intended to be used for adding to other views, not in their main implementation.</Line>
        </Lines>
      </Enumeration>
    </Enumerations>
    <bug_status amount="RESOLVED" />
    <resolution amount="FIXED" />
    <WithStack>build I20030213 + latest from head

The changes recently release for the Bookmarks view have the following 
problems.

- new actions should be package visible, not public
- new actions should have Javadoc for the class and methods (see any existing 
APIs for style)
- if possible, refactor the existing OpenWithMenu to support markers rather 
than copying the code
EditBookmarkAction and NewBookmarkAction must be public because they are 
declared as extensions to the org.eclipse.ui.popupMenus extension point. 
NewBookmarkAction is also used by the task list.
In the bookmark view itself, it would be better to contribute them directly in 
code rather than using the popupMenus extension point.  This extension point is 
intended to be used for adding to other views, not in their main implementation.

If these actions are intended to be reused in other views, then it's OK for 
them to be public, but then they really need proper Javadoc spelling out the 
API.

I don't think it makes sense to have an Add Bookmark action in the Tasks view.
It's simple enough already to open the file at the task or problem, and add a 
bookmark using the ruler.  Chances are if I feel the need to add a bookmark, 
I'm already in the editor.  Or I might want to add a breakpoint instead.  Let's 
just leverage the existing contributions to the editor ruler rather than adding 
actions to the Tasks view.

all fixed up, cap'n nick!</WithStack>
    <WithOutStack>build I20030213 + latest from head

The changes recently release for the Bookmarks view have the following 
problems.

- new actions should be package visible, not public
- new actions should have Javadoc for the class and methods (see any existing 
APIs for style)
- if possible, refactor the existing OpenWithMenu to support markers rather 
than copying the code
EditBookmarkAction and NewBookmarkAction must be public because they are 
declared as extensions to the org.eclipse.ui.popupMenus extension point. 
NewBookmarkAction is also used by the task list.
In the bookmark view itself, it would be better to contribute them directly in 
code rather than using the popupMenus extension point.  This extension point is 
intended to be used for adding to other views, not in their main implementation.

If these actions are intended to be reused in other views, then it's OK for 
them to be public, but then they really need proper Javadoc spelling out the 
API.

I don't think it makes sense to have an Add Bookmark action in the Tasks view.
It's simple enough already to open the file at the task or problem, and add a 
bookmark using the ruler.  Chances are if I feel the need to add a bookmark, 
I'm already in the editor.  Or I might want to add a breakpoint instead.  Let's 
just leverage the existing contributions to the editor ruler rather than adding 
actions to the Tasks view.

all fixed up, cap'n nick!</WithOutStack>
  </Bug>
  <Bug>
    <BugId amount="31829" />
    <CreationDate amount="2003-02-13 16:32:00 -0500" />
    <DupId amount="" />
    <classification amount="Eclipse" />
    <Product amount="JDT" />
    <component amount="UI" />
    <Version amount="2.1" />
    <rep_platform amount="PC" />
    <op_sys amount="Windows 2000" />
    <priority amount="P3" />
    <bug_severity amount="normal" />
    <Summery>pop-up windows interact poorly with nVidia nView feature</Summery>
    <Patches amount="0" />
    <Stacktraces amount="0" />
    <SourceCodeRegions amount="0" />
    <Enumerations amount="0" />
    <bug_status amount="RESOLVED" />
    <resolution amount="WORKSFORME" />
    <WithStack>It's not clear to me whether this bug should be assigned to the JDT UI component
or the general Eclipse UI component, but I'll send it here to start out.  With
nVidia's nView feature enabled, the window focus switches to another application
any time the user interface creates a secondary popup window, e.g. the yellow
popup window with proposed code changes next to the pink suggestion list in the
code assist feature.  I will also attempt to submit this bug notice to nVidia,
since there's a pretty good chance that it's their bug, not yours.  However, if
we discover a solution, this might be a good place for people to find it if they
come looking.

I'm using a Quadro4 700 XGL with version 3.0.8.2 of the nVidia drivers, using a
vanilla installation of nView.
This problem seems to go away with the latest nVidia drivers (41.09).</WithStack>
    <WithOutStack>It's not clear to me whether this bug should be assigned to the JDT UI component
or the general Eclipse UI component, but I'll send it here to start out.  With
nVidia's nView feature enabled, the window focus switches to another application
any time the user interface creates a secondary popup window, e.g. the yellow
popup window with proposed code changes next to the pink suggestion list in the
code assist feature.  I will also attempt to submit this bug notice to nVidia,
since there's a pretty good chance that it's their bug, not yours.  However, if
we discover a solution, this might be a good place for people to find it if they
come looking.

I'm using a Quadro4 700 XGL with version 3.0.8.2 of the nVidia drivers, using a
vanilla installation of nView.
This problem seems to go away with the latest nVidia drivers (41.09).</WithOutStack>
  </Bug>
  <Bug>
    <BugId amount="31830" />
    <CreationDate amount="2003-02-13 16:32:00 -0500" />
    <DupId amount="31885" />
    <classification amount="Eclipse" />
    <Product amount="Platform" />
    <component amount="UI" />
    <Version amount="2.1" />
    <rep_platform amount="PC" />
    <op_sys amount="Windows 2000" />
    <priority amount="P3" />
    <bug_severity amount="normal" />
    <Summery>Shortcuts don't work</Summery>
    <Patches amount="0" />
    <Stacktraces amount="0" />
    <SourceCodeRegions amount="0" />
    <Enumerations amount="0" />
    <bug_status amount="RESOLVED" />
    <resolution amount="DUPLICATE" />
    <WithStack>build: I-20020213
Shortcuts don't work in this build:  No ctrl-F, No ctrl-space, etc..
These work for me.  Are there steps to reproduce?


*** This bug has been marked as a duplicate of 31885 ***</WithStack>
    <WithOutStack>build: I-20020213
Shortcuts don't work in this build:  No ctrl-F, No ctrl-space, etc..
These work for me.  Are there steps to reproduce?


*** This bug has been marked as a duplicate of 31885 ***</WithOutStack>
  </Bug>
  <Bug>
    <BugId amount="31831" />
    <CreationDate amount="2003-02-13 16:35:00 -0500" />
    <DupId amount="" />
    <classification amount="Eclipse" />
    <Product amount="Platform" />
    <component amount="Ant" />
    <Version amount="2.1" />
    <rep_platform amount="PC" />
    <op_sys amount="Windows 2000" />
    <priority amount="P3" />
    <bug_severity amount="normal" />
    <Summery>Missing icons in outline view of ant editor</Summery>
    <Patches amount="0" />
    <Stacktraces amount="0" />
    <SourceCodeRegions amount="0" />
    <Enumerations amount="0" />
    <bug_status amount="RESOLVED" />
    <resolution amount="INVALID" />
    <WithStack>Build:I-20030213
The nice target icons are missing in the outline view of the build.xml editor.
The little red icon is now being used to indicate an internal target as defined 
by Apache Ant: a target with no description. 
The icon is supposed to indicate private. It does look like the missing icon 
icon though.

A target with a description (public) shows a little green circle.</WithStack>
    <WithOutStack>Build:I-20030213
The nice target icons are missing in the outline view of the build.xml editor.
The little red icon is now being used to indicate an internal target as defined 
by Apache Ant: a target with no description. 
The icon is supposed to indicate private. It does look like the missing icon 
icon though.

A target with a description (public) shows a little green circle.</WithOutStack>
  </Bug>
  <Bug>
    <BugId amount="31832" />
    <CreationDate amount="2003-02-13 16:51:00 -0500" />
    <DupId amount="" />
    <classification amount="Eclipse" />
    <Product amount="Platform" />
    <component amount="UI" />
    <Version amount="2.1" />
    <rep_platform amount="PC" />
    <op_sys amount="Windows XP" />
    <priority amount="P3" />
    <bug_severity amount="normal" />
    <Summery>[Tasks] Missing mnemonic for Restore Defaults</Summery>
    <Patches amount="0" />
    <Stacktraces amount="0" />
    <SourceCodeRegions amount="0" />
    <Enumerations amount="0" />
    <bug_status amount="RESOLVED" />
    <resolution amount="FIXED" />
    <WithStack>build I20030211 + latest from head

On the dialog, the Reset button was recently renamed to Restore Defaults.
This is OK, but it lost its mnemonic (&amp;R).
fixed</WithStack>
    <WithOutStack>build I20030211 + latest from head

On the dialog, the Reset button was recently renamed to Restore Defaults.
This is OK, but it lost its mnemonic (&amp;R).
fixed</WithOutStack>
  </Bug>
  <Bug>
    <BugId amount="31833" />
    <CreationDate amount="2003-02-13 16:53:00 -0500" />
    <DupId amount="" />
    <classification amount="Eclipse" />
    <Product amount="Platform" />
    <component amount="SWT" />
    <Version amount="2.1" />
    <rep_platform amount="Macintosh" />
    <op_sys amount="Mac OS X - Carbon (unsup.)" />
    <priority amount="P3" />
    <bug_severity amount="normal" />
    <Summery>wrong background for separator label on MacOS X</Summery>
    <Patches amount="0" />
    <Stacktraces amount="0" />
    <SourceCodeRegions amount="3">
      <source_code type="assignment">
        <location start="484" end="546" />
        <code>label = new Label(composite, SWT.SEPARATOR | SWT.HORIZONTAL);</code>
      </source_code>
      <source_code type="assignment">
        <location start="547" end="585" />
        <code>gd = fillHorizontal(label, 3, false);</code>
      </source_code>
      <source_code type="assignment">
        <location start="586" end="606" />
        <code>gd.heightHint = 20;</code>
      </source_code>
    </SourceCodeRegions>
    <Enumerations amount="0" />
    <bug_status amount="RESOLVED" />
    <resolution amount="FIXED" />
    <WithStack>I20030213
- open the PDE importer
Observe: on the first page the separator label has a white background (see attached 
screenshot)
Created attachment 3482
The PDE importer
If you are not doing anything special with the label (like setting its background to white), it 
is probabbly a SWT issue.
No, we are using Label in a separator mode, but setting its height hint, so SWT 
is filling the background with background color (blocking the pattern). Is this 
wrong?

This is our code:

	label = new Label(composite, SWT.SEPARATOR | SWT.HORIZONTAL);
	gd = fillHorizontal(label, 3, false);
	gd.heightHint = 20;

Perhaps SWT should not paint the background of the separator label on Mac.
Looks like SWT.
Fixed &gt; 20020324.
To fender_rules:
Be aware that this problem has been fixed for the 3.0 stream (and this report has been 
closed). So if you still see this problem on Eclipse 2.1, don't expect that the fix will be 
backported to the 2.1 stream.</WithStack>
    <WithOutStack>I20030213
- open the PDE importer
Observe: on the first page the separator label has a white background (see attached 
screenshot)
Created attachment 3482
The PDE importer
If you are not doing anything special with the label (like setting its background to white), it 
is probabbly a SWT issue.
No, we are using Label in a separator mode, but setting its height hint, so SWT 
is filling the background with background color (blocking the pattern). Is this 
wrong?

This is our code:

	label = new Label(composite, SWT.SEPARATOR | SWT.HORIZONTAL);
	gd = fillHorizontal(label, 3, false);
	gd.heightHint = 20;

Perhaps SWT should not paint the background of the separator label on Mac.
Looks like SWT.
Fixed &gt; 20020324.
To fender_rules:
Be aware that this problem has been fixed for the 3.0 stream (and this report has been 
closed). So if you still see this problem on Eclipse 2.1, don't expect that the fix will be 
backported to the 2.1 stream.</WithOutStack>
  </Bug>
  <Bug>
    <BugId amount="31834" />
    <CreationDate amount="2003-02-13 16:56:00 -0500" />
    <DupId amount="" />
    <classification amount="Eclipse" />
    <Product amount="Platform" />
    <component amount="SWT" />
    <Version amount="2.1" />
    <rep_platform amount="Macintosh" />
    <op_sys amount="Mac OS X - Carbon (unsup.)" />
    <priority amount="P3" />
    <bug_severity amount="normal" />
    <Summery>Label and Combo don't align well</Summery>
    <Patches amount="0" />
    <Stacktraces amount="0" />
    <SourceCodeRegions amount="0" />
    <Enumerations amount="0" />
    <bug_status amount="RESOLVED" />
    <resolution amount="FIXED" />
    <WithStack>I20030213

In many dialogs SWT Labels and Combo boxes don't align well
(see attached screenshots)
Created attachment 3483
PDE importer
Created attachment 3484
Patch wizard

In fact the problem isn't confined to a Label but occurs whenevr a Combo is
involved.
so considering this makes every dialog with a combo look "gunky" (my made-up 
word), can we bump up the severity a bit, maybe see a fix for RC2 or RC3? I 
tried GridData.VERTICAL_ALIGN_FILL for both the label and combo with no 
effect, leading me to believe that the combo is returning a preferred size 
of "too large". (also less than quantitative.. :)

Fixed for System font.</WithStack>
    <WithOutStack>I20030213

In many dialogs SWT Labels and Combo boxes don't align well
(see attached screenshots)
Created attachment 3483
PDE importer
Created attachment 3484
Patch wizard

In fact the problem isn't confined to a Label but occurs whenevr a Combo is
involved.
so considering this makes every dialog with a combo look "gunky" (my made-up 
word), can we bump up the severity a bit, maybe see a fix for RC2 or RC3? I 
tried GridData.VERTICAL_ALIGN_FILL for both the label and combo with no 
effect, leading me to believe that the combo is returning a preferred size 
of "too large". (also less than quantitative.. :)

Fixed for System font.</WithOutStack>
  </Bug>
  <Bug>
    <BugId amount="31835" />
    <CreationDate amount="2003-02-13 17:09:00 -0500" />
    <DupId amount="" />
    <classification amount="Eclipse" />
    <Product amount="Platform" />
    <component amount="UI" />
    <Version amount="2.1" />
    <rep_platform amount="PC" />
    <op_sys amount="Windows XP" />
    <priority amount="P3" />
    <bug_severity amount="normal" />
    <Summery>[Tasks] Task list too eager to come to front</Summery>
    <Patches amount="0" />
    <Stacktraces amount="0" />
    <SourceCodeRegions amount="0" />
    <Enumerations amount="0" />
    <bug_status amount="RESOLVED" />
    <resolution amount="FIXED" />
    <WithStack>I20030211
Task list set to track trasks on selected item and its children.
Task view and search view are stacked.
Java browsing perspective open.
I do a search which comes up with some results. The search view is shown.
Double click a search.
Java editor opens, which causes java browsing views to do a selection, which 
appears to cause the task view to refresh which has the unfortunate 
consequence of bringing the task view to the front, obscuring the search view 
that I'm not done with yet. Repeatable.
Any ideas on this? It seriously hinders the usefulness of the search view when 
it's stacked with the task view (which it is by default).
The option to automatically bring the problems view to the front has been removed.</WithStack>
    <WithOutStack>I20030211
Task list set to track trasks on selected item and its children.
Task view and search view are stacked.
Java browsing perspective open.
I do a search which comes up with some results. The search view is shown.
Double click a search.
Java editor opens, which causes java browsing views to do a selection, which 
appears to cause the task view to refresh which has the unfortunate 
consequence of bringing the task view to the front, obscuring the search view 
that I'm not done with yet. Repeatable.
Any ideas on this? It seriously hinders the usefulness of the search view when 
it's stacked with the task view (which it is by default).
The option to automatically bring the problems view to the front has been removed.</WithOutStack>
  </Bug>
  <Bug>
    <BugId amount="31836" />
    <CreationDate amount="2003-02-13 17:17:00 -0500" />
    <DupId amount="31321" />
    <classification amount="Eclipse" />
    <Product amount="JDT" />
    <component amount="Debug" />
    <Version amount="2.1" />
    <rep_platform amount="PC" />
    <op_sys amount="Windows XP" />
    <priority amount="P3" />
    <bug_severity amount="normal" />
    <Summery>[M5] Select All, Disable breakpoints is way slow</Summery>
    <Patches amount="0" />
    <Stacktraces amount="0" />
    <SourceCodeRegions amount="0" />
    <Enumerations amount="0" />
    <bug_status amount="RESOLVED" />
    <resolution amount="DUPLICATE" />
    <WithStack>Seems to be new behavior. Selecting all breakpoints in bp view with 19 
breakpoints causes approx 20 sec pause before disable visibly ripples through 
the view. This is too slow.

The hourglass doesn't show up until you move cursor out of view and back 
again. Thus it is quite possible for user to continue while the disable is 
being mulled over, and stop at the next breakpoint, leading user to repeat 
sequence. I did it 3-4 times before I noticed it was a delay not a malfunction.
It's way fixed

*** This bug has been marked as a duplicate of 31321 ***</WithStack>
    <WithOutStack>Seems to be new behavior. Selecting all breakpoints in bp view with 19 
breakpoints causes approx 20 sec pause before disable visibly ripples through 
the view. This is too slow.

The hourglass doesn't show up until you move cursor out of view and back 
again. Thus it is quite possible for user to continue while the disable is 
being mulled over, and stop at the next breakpoint, leading user to repeat 
sequence. I did it 3-4 times before I noticed it was a delay not a malfunction.
It's way fixed

*** This bug has been marked as a duplicate of 31321 ***</WithOutStack>
  </Bug>
  <Bug>
    <BugId amount="31837" />
    <CreationDate amount="2003-02-13 17:27:00 -0500" />
    <DupId amount="" />
    <classification amount="Eclipse" />
    <Product amount="Platform" />
    <component amount="User Assistance" />
    <Version amount="3.2" />
    <rep_platform amount="All" />
    <op_sys amount="All" />
    <priority amount="P4" />
    <bug_severity amount="enhancement" />
    <Summery>[Help] Make public interfaces for tomcat / appserver</Summery>
    <Patches amount="0" />
    <Stacktraces amount="0" />
    <SourceCodeRegions amount="0" />
    <Enumerations amount="2">
      <Enumeration lines="4">
        <Lines>
          <Line>1) Remove the 'internal' references in org.eclipse.help.appserver.server</Line>
          <Line>extension point</Line>
          <Line>2) Make 'IWebappServer' interface API</Line>
          <Line>3) Make 'WebappManager' class API</Line>
        </Lines>
      </Enumeration>
      <Enumeration lines="3">
        <Lines>
          <Line>- AppserverPlugin.getDefault().getAppServer().isRunning()</Line>
          <Line>- WebappManager.getPort()</Line>
          <Line>- WebappManager.start(...)</Line>
        </Lines>
      </Enumeration>
    </Enumerations>
    <bug_status amount="RESOLVED" />
    <resolution amount="WONTFIX" />
    <WithStack>This request is to refactor the internal tomcat and appserver classes and 
interfaces so that plug-ins can use them. For example 
org.eclipse.help.internal.appserver.IWebappserver, 
org.eclipse.tomcat.internal.TomcatAppServer, and related classes. The use case 
is to enable server-like applications to be embedded in Eclipse, the way the 
help system works now. Also it may make jsp and servlet development be easier 
(a plug-in could work with an known version of a servlet container for 
example).
Originally, the interfaces were meant to be public, but it was thought to not 
be necessary in the short term, and better j2ee support was likely to be 
contributed by 3rd party plugins.
The request is valid, and we will look at it in the context of the next release.


Marking as P4 - unlikely to be looked at for 3.1.
We have a similar need at another Eclipse open source project ---- BIRT
(Business Intellogence &amp; Reporting Rools). We submitted a bug 95063. Unlike 
this one, however, it was rejected. 

We feel there will be a stronger need for this feature as more users are now 
using the embeded Tomcat in Eclipse platform. 
Eclipse WTP has a dependency upon the Eclipse Tomcat engine. Will this RFE be 
implemented in 3.2?
I checked the code and it seems to me that you need the following:

1) Remove the 'internal' references in org.eclipse.help.appserver.server 
extension point
2) Make 'IWebappServer' interface API
3) Make 'WebappManager' class API

Is this all that is needed?
From a code perspective, yes.
The decision to have those interfaces internal was concluded by a dynamic team 
during the 2.1 release.
I would vote +1 for making the interfaces public.
Sounds promising - thanks very much. In Eclipse WTP we currently use the 
AppserverPlugin and WebappManager classes as summarized here. For gory details, 
see our "CatalinaRunnable.java" file [1]

- AppserverPlugin.getDefault().getAppServer().isRunning()
- WebappManager.getPort()
- WebappManager.start(...)

Provided there is public API for this sort of stuff, then from my perspective 
we'll be happy campers.

[1] 
http://dev.eclipse.org/viewcvs/index.cgi/wst/components/ws/plugins/org.eclipse.w
st.ws.explorer/src/org/eclipse/wst/ws/internal/explorer/CatalinaRunnable.java?
rev=1.1&amp;cvsroot=WebTools_Project&amp;content-type=text/vnd.viewcvs-markup
Another vote from me!  Even though the APIs are unsupported, we have started using them to deploy a plugin/RCP app that generates HTML reports to be viewed in an embedded browser.  This is great functionality and it was easy to use (once I figured out the APIs)!  If it only takes a little work to expose those APIs, I think you'll see a great ROI on the work.
Please see the OSGi R4 Compendium Spec section on the HTTP service. Does this
spec meet your needs? This spec is being implemented in the new
org.eclipse.equinox.http bundle at http://eclipse.org/equinox/bundles

The HTTP service supports both static content and servlets, so you can do
dynamic content as well. It is based on the Java Servlet API v2.1.

The service API is not tied to any particular servlet container implementation,
however I believe the initial implementation will use Tomcat, although this
could potentially change in the future (the API would remain the same though).

The reason I would be reluctant to open this is that we would be duplicating
the effort of the HTTP service. However, if there is something you cannot do
with the HTTP service that you would have been able to do had we opened the
appserver, then we need to find a solution.
I can't be sure - I didn't find much in the way of a description of how it would work. Looking at the code for HttpService, I would have to say that while it could be usable, it looks like it would be significantly more effort to use.  It appears that servlets would have to be registered manually, via code, with the HttpService.  The WebappManager implementation is significantly easier to use and develop for a number of reasons.  The most significant being that it allows us to provide a packaged web app (WAR file).  This has 2 big benefits for us.  First, we deploy our reports in a standalone server version that does not use the Eclipse framework. We already build a WAR file, so packaging is already done.  Second, there are good tools for developing a "webapp", including deployment and debugger support.  The code I saw would be more like a regular Java app, which would be a big change for experienced webapp developers. I can see a third benefit to this in other contexts - deploying pre-bundled 3rd party apps, which also come as a WAR file.

And of course there is the maturity issue.  The WebappManager stuff has been around the block and seems pretty solid.  The Equinox HTTP looks brand new.

In short, it appears that Equinox HTTP is much lower level.  While you might want to make use of Equinox in implementing the WebappManager you've already built, the higher-level funcationality that WebappManager seems to provide makes it a better choice for those of us needing to deploy webapps within the Eclipse framework.
Now that we have server functionality and API from Equinox (which we are using in Help now, no longer using Tomcat), I am closing this request. The Tomcat bundle we currently have in help (org.eclipse.tomcat) will eventually be removed, along with org.eclipse.help.appserver.

I encourage everyone to use the new Equinox server API. I've done it with Help and it was fairly straightforward, especially with the registry extension points. For those who find that the API is not as high-level/useful/easy-to-use as the internal Help interfaces, you may open an enhancement on Equinox to request improvements. Help is simply not the right component to own general purpose server API (it should be a client of it).</WithStack>
    <WithOutStack>This request is to refactor the internal tomcat and appserver classes and 
interfaces so that plug-ins can use them. For example 
org.eclipse.help.internal.appserver.IWebappserver, 
org.eclipse.tomcat.internal.TomcatAppServer, and related classes. The use case 
is to enable server-like applications to be embedded in Eclipse, the way the 
help system works now. Also it may make jsp and servlet development be easier 
(a plug-in could work with an known version of a servlet container for 
example).
Originally, the interfaces were meant to be public, but it was thought to not 
be necessary in the short term, and better j2ee support was likely to be 
contributed by 3rd party plugins.
The request is valid, and we will look at it in the context of the next release.


Marking as P4 - unlikely to be looked at for 3.1.
We have a similar need at another Eclipse open source project ---- BIRT
(Business Intellogence &amp; Reporting Rools). We submitted a bug 95063. Unlike 
this one, however, it was rejected. 

We feel there will be a stronger need for this feature as more users are now 
using the embeded Tomcat in Eclipse platform. 
Eclipse WTP has a dependency upon the Eclipse Tomcat engine. Will this RFE be 
implemented in 3.2?
I checked the code and it seems to me that you need the following:

1) Remove the 'internal' references in org.eclipse.help.appserver.server 
extension point
2) Make 'IWebappServer' interface API
3) Make 'WebappManager' class API

Is this all that is needed?
From a code perspective, yes.
The decision to have those interfaces internal was concluded by a dynamic team 
during the 2.1 release.
I would vote +1 for making the interfaces public.
Sounds promising - thanks very much. In Eclipse WTP we currently use the 
AppserverPlugin and WebappManager classes as summarized here. For gory details, 
see our "CatalinaRunnable.java" file [1]

- AppserverPlugin.getDefault().getAppServer().isRunning()
- WebappManager.getPort()
- WebappManager.start(...)

Provided there is public API for this sort of stuff, then from my perspective 
we'll be happy campers.

[1] 
http://dev.eclipse.org/viewcvs/index.cgi/wst/components/ws/plugins/org.eclipse.w
st.ws.explorer/src/org/eclipse/wst/ws/internal/explorer/CatalinaRunnable.java?
rev=1.1&amp;cvsroot=WebTools_Project&amp;content-type=text/vnd.viewcvs-markup
Another vote from me!  Even though the APIs are unsupported, we have started using them to deploy a plugin/RCP app that generates HTML reports to be viewed in an embedded browser.  This is great functionality and it was easy to use (once I figured out the APIs)!  If it only takes a little work to expose those APIs, I think you'll see a great ROI on the work.
Please see the OSGi R4 Compendium Spec section on the HTTP service. Does this
spec meet your needs? This spec is being implemented in the new
org.eclipse.equinox.http bundle at http://eclipse.org/equinox/bundles

The HTTP service supports both static content and servlets, so you can do
dynamic content as well. It is based on the Java Servlet API v2.1.

The service API is not tied to any particular servlet container implementation,
however I believe the initial implementation will use Tomcat, although this
could potentially change in the future (the API would remain the same though).

The reason I would be reluctant to open this is that we would be duplicating
the effort of the HTTP service. However, if there is something you cannot do
with the HTTP service that you would have been able to do had we opened the
appserver, then we need to find a solution.
I can't be sure - I didn't find much in the way of a description of how it would work. Looking at the code for HttpService, I would have to say that while it could be usable, it looks like it would be significantly more effort to use.  It appears that servlets would have to be registered manually, via code, with the HttpService.  The WebappManager implementation is significantly easier to use and develop for a number of reasons.  The most significant being that it allows us to provide a packaged web app (WAR file).  This has 2 big benefits for us.  First, we deploy our reports in a standalone server version that does not use the Eclipse framework. We already build a WAR file, so packaging is already done.  Second, there are good tools for developing a "webapp", including deployment and debugger support.  The code I saw would be more like a regular Java app, which would be a big change for experienced webapp developers. I can see a third benefit to this in other contexts - deploying pre-bundled 3rd party apps, which also come as a WAR file.

And of course there is the maturity issue.  The WebappManager stuff has been around the block and seems pretty solid.  The Equinox HTTP looks brand new.

In short, it appears that Equinox HTTP is much lower level.  While you might want to make use of Equinox in implementing the WebappManager you've already built, the higher-level funcationality that WebappManager seems to provide makes it a better choice for those of us needing to deploy webapps within the Eclipse framework.
Now that we have server functionality and API from Equinox (which we are using in Help now, no longer using Tomcat), I am closing this request. The Tomcat bundle we currently have in help (org.eclipse.tomcat) will eventually be removed, along with org.eclipse.help.appserver.

I encourage everyone to use the new Equinox server API. I've done it with Help and it was fairly straightforward, especially with the registry extension points. For those who find that the API is not as high-level/useful/easy-to-use as the internal Help interfaces, you may open an enhancement on Equinox to request improvements. Help is simply not the right component to own general purpose server API (it should be a client of it).</WithOutStack>
  </Bug>
  <Bug>
    <BugId amount="31838" />
    <CreationDate amount="2003-02-13 17:27:00 -0500" />
    <DupId amount="" />
    <classification amount="Eclipse" />
    <Product amount="Platform" />
    <component amount="UI" />
    <Version amount="2.1" />
    <rep_platform amount="PC" />
    <op_sys amount="Windows XP" />
    <priority amount="P3" />
    <bug_severity amount="blocker" />
    <Summery>Eclipse hangs on splash screen</Summery>
    <Patches amount="0" />
    <Stacktraces amount="1">
      <Stacktrace timestamp="1437339868159">
        <Exception>java.lang.NullPointerException</Exception>
        <Reason />
        <Frames>
          <Frame depth="0">org.eclipse.ui.internal.EditorManager.restoreState(EditorManager.java:725)</Frame>
          <Frame depth="1">org.eclipse.ui.internal.WorkbenchPage.restoreState(WorkbenchPage.java:2046)</Frame>
          <Frame depth="2">org.eclipse.ui.internal.WorkbenchWindow.restoreState(WorkbenchWindow.java:1115)</Frame>
          <Frame depth="3">org.eclipse.ui.internal.Workbench.restoreState(Workbench.java:1300)</Frame>
          <Frame depth="4">org.eclipse.ui.internal.Workbench.access$9(Workbench.java:1269)</Frame>
          <Frame depth="5">org.eclipse.ui.internal.Workbench$10.run(Workbench.java:923)</Frame>
          <Frame depth="6">org.eclipse.core.internal.runtime.InternalPlatform.run(InternalPlatform.java:852)</Frame>
          <Frame depth="7">org.eclipse.core.runtime.Platform.run(Platform.java:413)</Frame>
          <Frame depth="8">org.eclipse.ui.internal.Workbench.openPreviousWorkbenchState(Workbench.java:875)</Frame>
          <Frame depth="9">org.eclipse.ui.internal.Workbench.init(Workbench.java:675)</Frame>
          <Frame depth="10">org.eclipse.ui.internal.Workbench.run(Workbench.java:1422)</Frame>
          <Frame depth="11">org.eclipse.core.internal.boot.InternalBootLoader.run(InternalBootLoader.java:845)</Frame>
          <Frame depth="12">org.eclipse.core.boot.BootLoader.run(BootLoader.java:462)</Frame>
          <Frame depth="13">java.lang.reflect.Method.invoke(Native Method)</Frame>
          <Frame depth="14">org.eclipse.core.launcher.Main.basicRun(Main.java:247)</Frame>
          <Frame depth="15">org.eclipse.core.launcher.Main.run(Main.java:703)</Frame>
          <Frame depth="16">org.eclipse.core.launcher.Main.main(Main.java:539)</Frame>
        </Frames>
      </Stacktrace>
    </Stacktraces>
    <SourceCodeRegions amount="0" />
    <Enumerations amount="0" />
    <bug_status amount="RESOLVED" />
    <resolution amount="WORKSFORME" />
    <WithStack>From the code and the stacktrace it appears to be a bug in the workbench.xml.  
Consider the following:
&lt;viewState hidefields="false" hidenonpublic="false" hidestatic="false" 
input="=Birch.0.CommonClient" mv_vertical_scroll="0" orientation="0" 
ratio="350" showinherited="false" vertical_scroll="0" view="2"/&gt;

Note, the "input" tag:
input="=Birch.0.CommonClient"

When I removed the offending equals sign:
input="Birch.0.CommonClient"
by hand the UI properly initialized as expected.

Here is the stacktrace data from a log fragment:
!SESSION Feb 12, 2003 19:57:25.553 ---------------------------------------------
java.version=1.3.1_04
java.vendor=Sun Microsystems Inc.
BootLoader constants: OS=win32, ARCH=x86, WS=win32, NL=en_US
Command-line arguments: -os win32 -ws win32 -arch x86 -install 
file:C:/Java/Eclipse/eclipse/
!ENTRY org.eclipse.ui.workbench 4 2 Feb 12, 2003 19:57:25.553
!MESSAGE Problems occurred when invoking code from plug-
in: "org.eclipse.ui.workbench".
!STACK 0
java.lang.NullPointerException
	at org.eclipse.ui.internal.EditorManager.restoreState
(EditorManager.java:725)
	at org.eclipse.ui.internal.WorkbenchPage.restoreState
(WorkbenchPage.java:2046)
	at org.eclipse.ui.internal.WorkbenchWindow.restoreState
(WorkbenchWindow.java:1115)
	at org.eclipse.ui.internal.Workbench.restoreState(Workbench.java:1300)
	at org.eclipse.ui.internal.Workbench.access$9(Workbench.java:1269)
	at org.eclipse.ui.internal.Workbench$10.run(Workbench.java:923)
	at org.eclipse.core.internal.runtime.InternalPlatform.run
(InternalPlatform.java:852)
	at org.eclipse.core.runtime.Platform.run(Platform.java:413)
	at org.eclipse.ui.internal.Workbench.openPreviousWorkbenchState
(Workbench.java:875)
	at org.eclipse.ui.internal.Workbench.init(Workbench.java:675)
	at org.eclipse.ui.internal.Workbench.run(Workbench.java:1422)
	at org.eclipse.core.internal.boot.InternalBootLoader.run
(InternalBootLoader.java:845)
	at org.eclipse.core.boot.BootLoader.run(BootLoader.java:462)
	at java.lang.reflect.Method.invoke(Native Method)
	at org.eclipse.core.launcher.Main.basicRun(Main.java:247)
	at org.eclipse.core.launcher.Main.run(Main.java:703)
	at org.eclipse.core.launcher.Main.main(Main.java:539)
!ENTRY com.rational.clearcase 1 0 Feb 12, 2003 19:57:28.838
!MESSAGE traceLevel = 2(option=null)
!ENTRY org.eclipse.ui 4 4 Feb 12, 2003 20:07:15.882
!MESSAGE Unhandled exception caught in event loop.
!ENTRY org.eclipse.ui 4 0 Feb 12, 2003 20:07:15.882
Which build are you using?  This stack trace also appears in bug 30340.
but if:
C:\p\eclipse&gt;eclipse.exe -debug file:c:/p/eclipse/aaa.log -nosplash

You will see exception:

Startup: using configuration file:C:\p\eclipse\workspace\.metadata\.config\platf
orm.cfg
Boot URL: file:C:/p/eclipse/plugins/org.eclipse.core.boot_2.1.0/boot.jar
Workspace location:
   C:\p\eclipse\workspace
Debug-Options:
    file:c:/p/eclipse/aaa.log
Install URL:
    file:C:/p/eclipse/
java.lang.NullPointerException
        java.lang.Object java.lang.reflect.Method.invoke(java.lang.Object, java.
lang.Object[])
                native code
        java.lang.Object org.eclipse.core.launcher.Main.basicRun(java.lang.Strin
g[])
                Main.java:247
        java.lang.Object org.eclipse.core.launcher.Main.run(java.lang.String[])
                Main.java:703
        void org.eclipse.core.launcher.Main.main(java.lang.String[])
                Main.java:539

Hope It will help
Thanks
-sk
Could you attach the whole workbench.xml that is causing the problem?
It is failing to restore an editor. Would you know which editor it is?
Created attachment 3556
workbench.xml

Requested workbench.xml from my system.  Note, I removed the offending '='
character described in the bug report by hand so I could workaround this
problem for now.  Milt.
Here is the info from my about box:
Version: 2.1
Build id: 200212181304
I believe I download the M4 build.  Hopefully, this is what you need.
The workbench.xml attached do not have an entry that looks like 
&lt;viewState ..../&gt; that you described. You probably closed that view and 
restarted Eclipse after that.

Can you reproduce this problem? I added a workaround for it a couple of weeks 
ago because I could not reproduce it but I would like to fully understand the 
problem by reproducing/testing it. I am not sure why and "=" in a view state 
would stop an editor from being restored.

By looking at the &lt;viewState ..../&gt; you posted it seems that the hierarchy 
view is causing it but I tried and it did not fail.
I have not been able to reproduce this since.  It's not a problem for me.  I 
wish I saved the orginal workbench before I removed the equals sign.  I think 
the reason we don't see the input within the viewstate anymore is I've been 
changing my environment.  I'm an Eclipse newbi trying to figure out what works 
best before I commit to using it.

Maybe we should write this issue off for now until someone else can reproduce 
it consistently and give you something more to go on.  I'll leave this up to 
you.
Closing as WORKSFORME.
Please reopen if you see this problem again.</WithStack>
    <WithOutStack>From the code and the stacktrace it appears to be a bug in the workbench.xml.  
Consider the following:
&lt;viewState hidefields="false" hidenonpublic="false" hidestatic="false" 
input="=Birch.0.CommonClient" mv_vertical_scroll="0" orientation="0" 
ratio="350" showinherited="false" vertical_scroll="0" view="2"/&gt;

Note, the "input" tag:
input="=Birch.0.CommonClient"

When I removed the offending equals sign:
input="Birch.0.CommonClient"
by hand the UI properly initialized as expected.

Here is the stacktrace data from a log fragment:
!SESSION Feb 12, 2003 19:57:25.553 ---------------------------------------------
java.version=1.3.1_04
java.vendor=Sun Microsystems Inc.
BootLoader constants: OS=win32, ARCH=x86, WS=win32, NL=en_US
Command-line arguments: -os win32 -ws win32 -arch x86 -install 
file:C:/Java/Eclipse/eclipse/
!ENTRY org.eclipse.ui.workbench 4 2 Feb 12, 2003 19:57:25.553
!MESSAGE Problems occurred when invoking code from plug-
in: "org.eclipse.ui.workbench".
!STACK 0
!ENTRY com.rational.clearcase 1 0 Feb 12, 2003 19:57:28.838
!MESSAGE traceLevel = 2(option=null)
!ENTRY org.eclipse.ui 4 4 Feb 12, 2003 20:07:15.882
!MESSAGE Unhandled exception caught in event loop.
!ENTRY org.eclipse.ui 4 0 Feb 12, 2003 20:07:15.882
Which build are you using?  This stack trace also appears in bug 30340.
but if:
C:\p\eclipse&gt;eclipse.exe -debug file:c:/p/eclipse/aaa.log -nosplash

You will see exception:

Startup: using configuration file:C:\p\eclipse\workspace\.metadata\.config\platf
orm.cfg
Boot URL: file:C:/p/eclipse/plugins/org.eclipse.core.boot_2.1.0/boot.jar
Workspace location:
   C:\p\eclipse\workspace
Debug-Options:
    file:c:/p/eclipse/aaa.log
Install URL:
    file:C:/p/eclipse/
java.lang.NullPointerException
        java.lang.Object java.lang.reflect.Method.invoke(java.lang.Object, java.
lang.Object[])
                native code
        java.lang.Object org.eclipse.core.launcher.Main.basicRun(java.lang.Strin
g[])
                Main.java:247
        java.lang.Object org.eclipse.core.launcher.Main.run(java.lang.String[])
                Main.java:703
        void org.eclipse.core.launcher.Main.main(java.lang.String[])
                Main.java:539

Hope It will help
Thanks
-sk
Could you attach the whole workbench.xml that is causing the problem?
It is failing to restore an editor. Would you know which editor it is?
Created attachment 3556
workbench.xml

Requested workbench.xml from my system.  Note, I removed the offending '='
character described in the bug report by hand so I could workaround this
problem for now.  Milt.
Here is the info from my about box:
Version: 2.1
Build id: 200212181304
I believe I download the M4 build.  Hopefully, this is what you need.
The workbench.xml attached do not have an entry that looks like 
&lt;viewState ..../&gt; that you described. You probably closed that view and 
restarted Eclipse after that.

Can you reproduce this problem? I added a workaround for it a couple of weeks 
ago because I could not reproduce it but I would like to fully understand the 
problem by reproducing/testing it. I am not sure why and "=" in a view state 
would stop an editor from being restored.

By looking at the &lt;viewState ..../&gt; you posted it seems that the hierarchy 
view is causing it but I tried and it did not fail.
I have not been able to reproduce this since.  It's not a problem for me.  I 
wish I saved the orginal workbench before I removed the equals sign.  I think 
the reason we don't see the input within the viewstate anymore is I've been 
changing my environment.  I'm an Eclipse newbi trying to figure out what works 
best before I commit to using it.

Maybe we should write this issue off for now until someone else can reproduce 
it consistently and give you something more to go on.  I'll leave this up to 
you.
Closing as WORKSFORME.
Please reopen if you see this problem again.</WithOutStack>
  </Bug>
  <Bug>
    <BugId amount="31839" />
    <CreationDate amount="2003-02-13 17:30:00 -0500" />
    <DupId amount="" />
    <classification amount="Eclipse" />
    <Product amount="Platform" />
    <component amount="SWT" />
    <Version amount="2.1" />
    <rep_platform amount="PC" />
    <op_sys amount="Linux-GTK" />
    <priority amount="P3" />
    <bug_severity amount="normal" />
    <Summery>Flashing resize on GTK</Summery>
    <Patches amount="0" />
    <Stacktraces amount="0" />
    <SourceCodeRegions amount="0" />
    <Enumerations amount="0" />
    <bug_status amount="RESOLVED" />
    <resolution amount="FIXED" />
    <WithStack>Eclipse 20030212
RH8.0, GTK2.0.2

If I open a dialog that selects input that has a two line description I get a 
flashing behaviour with each character I enter.

File-&gt;New-&gt;Project-&gt;Plug-in Development-&gt;Plug-in Project
Note the two lines of text.

Now enter some data, you see flashing above the Project name input line.
I changed the text to be a single line, no flashing observed.

Same problem in File-&gt;New-&gt;Project-&gt;Plug-in Development-&gt;Fragment Project

I also changed the text for New-&gt;Project-&gt;Java-&gt;Java Project to be greater than 
one line.  Again I got the flashing.

Only observed on GTK
This is probably a duplicate of bug 30972.
*** Bug 30972 has been marked as a duplicate of this bug. ***
The problem appears to be due to an extra line being added to a label on GTK - 
when GTK has to wrap it flashes while the wrapping is going on but not if the 
string is small enough for one line.

Moving back to SWT
Renaming the PR as appropriate as this is also a problem in Bug 31290 - the 
problem being that a resize is very slow on certain GTK machines and as a 
result visible flashing results.

I cannot replicate this on my own GTK but I can using the exact same workbench 
on Andrews machine. We are both running RedHat 8.0 with Gnome and GTK 2.0.2 so 
I am not sure what the difference is.
Created attachment 3505
Resource file

Rename to .gtkrc-2.0 in your home directory and start eclipse. The cheeze is
related to the font_name entry
Andrew, do you still have this bug ?
computeSize of Text widget was complety rewritten, I believe this bug is gone.

I no longer have access to my GTK setup so I can't confirm.  If Jared has no 
concern then you can close this bug.
Following the steps above still gets me to Flashville.
Jared, did you test it with the latest eclipse build (N20030526) ?



All better in today's integration build. Move to mark fixed.
Thanks Jared.
Fixed &gt; 20030527</WithStack>
    <WithOutStack>Eclipse 20030212
RH8.0, GTK2.0.2

If I open a dialog that selects input that has a two line description I get a 
flashing behaviour with each character I enter.

File-&gt;New-&gt;Project-&gt;Plug-in Development-&gt;Plug-in Project
Note the two lines of text.

Now enter some data, you see flashing above the Project name input line.
I changed the text to be a single line, no flashing observed.

Same problem in File-&gt;New-&gt;Project-&gt;Plug-in Development-&gt;Fragment Project

I also changed the text for New-&gt;Project-&gt;Java-&gt;Java Project to be greater than 
one line.  Again I got the flashing.

Only observed on GTK
This is probably a duplicate of bug 30972.
*** Bug 30972 has been marked as a duplicate of this bug. ***
The problem appears to be due to an extra line being added to a label on GTK - 
when GTK has to wrap it flashes while the wrapping is going on but not if the 
string is small enough for one line.

Moving back to SWT
Renaming the PR as appropriate as this is also a problem in Bug 31290 - the 
problem being that a resize is very slow on certain GTK machines and as a 
result visible flashing results.

I cannot replicate this on my own GTK but I can using the exact same workbench 
on Andrews machine. We are both running RedHat 8.0 with Gnome and GTK 2.0.2 so 
I am not sure what the difference is.
Created attachment 3505
Resource file

Rename to .gtkrc-2.0 in your home directory and start eclipse. The cheeze is
related to the font_name entry
Andrew, do you still have this bug ?
computeSize of Text widget was complety rewritten, I believe this bug is gone.

I no longer have access to my GTK setup so I can't confirm.  If Jared has no 
concern then you can close this bug.
Following the steps above still gets me to Flashville.
Jared, did you test it with the latest eclipse build (N20030526) ?



All better in today's integration build. Move to mark fixed.
Thanks Jared.
Fixed &gt; 20030527</WithOutStack>
  </Bug>
  <Bug>
    <BugId amount="31840" />
    <CreationDate amount="2003-02-13 17:44:00 -0500" />
    <DupId amount="" />
    <classification amount="Eclipse" />
    <Product amount="Platform" />
    <component amount="SWT" />
    <Version amount="2.1" />
    <rep_platform amount="PC" />
    <op_sys amount="Windows XP" />
    <priority amount="P2" />
    <bug_severity amount="normal" />
    <Summery>Drag and drop - cursor indicator state not set/reset properly</Summery>
    <Patches amount="0" />
    <Stacktraces amount="0" />
    <SourceCodeRegions amount="1">
      <source_code type="functiondef">
        <location start="2634" end="4500" />
        <code>public static void main (String [] args) {
	Display display = new Display ();
	Shell shell = new Shell (display);
	shell.setLayout(new FillLayout());
	Label label1 = new Label(shell, SWT.BORDER);
	label1.setText("Drag Source");
	final Label label2 = new Label(shell, SWT.BORDER);
	label2.setText("DropTarget");
	
	DragSource dragSource = new DragSource(label1, DND.DROP_MOVE | 
DND.DROP_COPY | DND.DROP_LINK);
	dragSource.setTransfer(new Transfer[] {TextTransfer.getInstance()});
	dragSource.addDragListener(new DragSourceAdapter() {
		public void dragSetData(DragSourceEvent event) {
			if (TextTransfer.getInstance().isSupportedType
(event.dataType)) {
				event.data = "once upon a time";
			}
		} 
	});
	DropTarget dropTarget = new DropTarget(label2, DND.DROP_MOVE | 
DND.DROP_COPY | DND.DROP_LINK | DND.DROP_DEFAULT);
	dropTarget.setTransfer(new Transfer[] {TextTransfer.getInstance(), 
FileTransfer.getInstance()});
	dropTarget.addDropListener(new DropTargetAdapter() {
		FileTransfer fileTransfer = FileTransfer.getInstance();
		TextTransfer textTransfer = TextTransfer.getInstance();
		public void dragEnter(DropTargetEvent event) {
			if (event.detail == DND.DROP_DEFAULT) event.detail = 
DND.DROP_COPY;
		}
		public void dragOperationChanged(DropTargetEvent event) {
			if (event.detail == DND.DROP_DEFAULT) event.detail = 
DND.DROP_COPY;
		}
		public void dragOver(DropTargetEvent event) {
			// disallow Move
			if (event.detail == DND.DROP_MOVE) event.detail = 
DND.DROP_NONE;
		}

		public void drop(DropTargetEvent event) {
			if (textTransfer.isSupportedType
(event.currentDataType)) {
				String text = (String)event.data;
				if (text != null) {
					label2.setText(text);
				}
			}
		}
		
	});
	shell.setSize(300, 150);
	shell.open ();
	while (!shell.isDisposed ()) {
		if (!display.readAndDispatch ()) display.sleep ();
	}
	display.dispose ();
}</code>
      </source_code>
    </SourceCodeRegions>
    <Enumerations amount="1">
      <Enumeration lines="8">
        <Lines>
          <Line>1. drag a file from a windows file explorer</Line>
          <Line>2. drag it over an eclipse project.  You will get the "+" cursor d&amp;d indicator.</Line>
          <Line>3. without dropping, hold down the shift key</Line>
          <Line />
          <Line>At this point the cursor changes to "do not enter", which I think is incorrect</Line>
          <Line>(I don't think shift alone is a valid modified to drop).  However,</Line>
          <Line />
          <Line>4. release the shift key</Line>
        </Lines>
      </Enumeration>
    </Enumerations>
    <bug_status amount="RESOLVED" />
    <resolution amount="WORKSFORME" />
    <WithStack>Eclipse M5

Wasn't sure if this was SWT or UI.

1. drag a file from a windows file explorer
2. drag it over an eclipse project.  You will get the "+" cursor d&amp;d indicator.
3. without dropping, hold down the shift key

At this point the cursor changes to "do not enter", which I think is incorrect 
(I don't think shift alone is a valid modified to drop).  However,

4. release the shift key

The cursor remains "do not enter".  It should revert to "+".

Also, if in step #3 you instead hold down CNTRL, nothing will happen until you 
release the CNTRL key at which point you will now get a "do not enter" which 
also won't go away.
I have seen similar behavior.  In my code, if I ever change the 
DropTargetEvent.detail to be DND.DROP_NONE (when dragging over a tree item on 
which I do not want to accept a drop, for example) then I cannot get the 
cursor to be anything other than "do not enter".  There should be a mechanism 
that allows me to set the cursor to "whatever it should be" based on the 
keyboard state - without my code having to check the states directly.  I am on 
Win XP.
I created 2 separate plugins and was trying to do a simple text transfer 
between a view in one plugin and a view in the 2nd plugin.  Even though 
TextTransfer was an accepted type in the target the icon remained as the "do 
not enter" one.  I tried to use the PluginTransfer (converting the string into 
bytes) mechanism, by implementing the dropActions extension point and using 
the PluginDropAdaptor.  I got the same behaviour.  I've posted my problem up 
on the RCP newsgroup under the title "Drag and Drop between separate plugins." 
I'm also on Win XP Professional.
Sucheta, What operation does your drag source support and what operation does 
your drop target support?  They must support the same operation.  If your drop 
target supports only DROP_COPY, then you will need to hold down the CTRL key 
to perform the copy action.  Alternately you can implement the DROP_DEFAULT 
support to say that when no modifier keys are pressed, a copy operation is 
performed.  This is described in the following article:

http://www.eclipse.org/articles/Article-SWT-DND/DND-in-SWT.html

See also the following snippet:

http://dev.eclipse.org/viewcvs/index.cgi/org.eclipse.swt.snippets/src/org/eclip
se/swt/snippets/Snippet84.java?rev=HEAD&amp;content-type=text/vnd.viewcvs-markup
The problem described in the original bug report works for me in 3.1.  Holding 
the Shift key only is a valid modifier on Windows and means perform a MOVE 
operation.  The following example shows how the operation changing dynamically 
when the modifier keys change:

public static void main (String [] args) {
	Display display = new Display ();
	Shell shell = new Shell (display);
	shell.setLayout(new FillLayout());
	Label label1 = new Label(shell, SWT.BORDER);
	label1.setText("Drag Source");
	final Label label2 = new Label(shell, SWT.BORDER);
	label2.setText("DropTarget");
	
	DragSource dragSource = new DragSource(label1, DND.DROP_MOVE | 
DND.DROP_COPY | DND.DROP_LINK);
	dragSource.setTransfer(new Transfer[] {TextTransfer.getInstance()});
	dragSource.addDragListener(new DragSourceAdapter() {
		public void dragSetData(DragSourceEvent event) {
			if (TextTransfer.getInstance().isSupportedType
(event.dataType)) {
				event.data = "once upon a time";
			}
		} 
	});
	DropTarget dropTarget = new DropTarget(label2, DND.DROP_MOVE | 
DND.DROP_COPY | DND.DROP_LINK | DND.DROP_DEFAULT);
	dropTarget.setTransfer(new Transfer[] {TextTransfer.getInstance(), 
FileTransfer.getInstance()});
	dropTarget.addDropListener(new DropTargetAdapter() {
		FileTransfer fileTransfer = FileTransfer.getInstance();
		TextTransfer textTransfer = TextTransfer.getInstance();
		public void dragEnter(DropTargetEvent event) {
			if (event.detail == DND.DROP_DEFAULT) event.detail = 
DND.DROP_COPY;
		}
		public void dragOperationChanged(DropTargetEvent event) {
			if (event.detail == DND.DROP_DEFAULT) event.detail = 
DND.DROP_COPY;
		}
		public void dragOver(DropTargetEvent event) {
			// disallow Move
			if (event.detail == DND.DROP_MOVE) event.detail = 
DND.DROP_NONE;
		}

		public void drop(DropTargetEvent event) {
			if (textTransfer.isSupportedType
(event.currentDataType)) {
				String text = (String)event.data;
				if (text != null) {
					label2.setText(text);
				}
			}
		}
		
	});
	shell.setSize(300, 150);
	shell.open ();
	while (!shell.isDisposed ()) {
		if (!display.readAndDispatch ()) display.sleep ();
	}
	display.dispose ();
}
Thanks these comments helped to solve my dillema.</WithStack>
    <WithOutStack>Eclipse M5

Wasn't sure if this was SWT or UI.

1. drag a file from a windows file explorer
2. drag it over an eclipse project.  You will get the "+" cursor d&amp;d indicator.
3. without dropping, hold down the shift key

At this point the cursor changes to "do not enter", which I think is incorrect 
(I don't think shift alone is a valid modified to drop).  However,

4. release the shift key

The cursor remains "do not enter".  It should revert to "+".

Also, if in step #3 you instead hold down CNTRL, nothing will happen until you 
release the CNTRL key at which point you will now get a "do not enter" which 
also won't go away.
I have seen similar behavior.  In my code, if I ever change the 
DropTargetEvent.detail to be DND.DROP_NONE (when dragging over a tree item on 
which I do not want to accept a drop, for example) then I cannot get the 
cursor to be anything other than "do not enter".  There should be a mechanism 
that allows me to set the cursor to "whatever it should be" based on the 
keyboard state - without my code having to check the states directly.  I am on 
Win XP.
I created 2 separate plugins and was trying to do a simple text transfer 
between a view in one plugin and a view in the 2nd plugin.  Even though 
TextTransfer was an accepted type in the target the icon remained as the "do 
not enter" one.  I tried to use the PluginTransfer (converting the string into 
bytes) mechanism, by implementing the dropActions extension point and using 
the PluginDropAdaptor.  I got the same behaviour.  I've posted my problem up 
on the RCP newsgroup under the title "Drag and Drop between separate plugins." 
I'm also on Win XP Professional.
Sucheta, What operation does your drag source support and what operation does 
your drop target support?  They must support the same operation.  If your drop 
target supports only DROP_COPY, then you will need to hold down the CTRL key 
to perform the copy action.  Alternately you can implement the DROP_DEFAULT 
support to say that when no modifier keys are pressed, a copy operation is 
performed.  This is described in the following article:

http://www.eclipse.org/articles/Article-SWT-DND/DND-in-SWT.html

See also the following snippet:

http://dev.eclipse.org/viewcvs/index.cgi/org.eclipse.swt.snippets/src/org/eclip
se/swt/snippets/Snippet84.java?rev=HEAD&amp;content-type=text/vnd.viewcvs-markup
The problem described in the original bug report works for me in 3.1.  Holding 
the Shift key only is a valid modifier on Windows and means perform a MOVE 
operation.  The following example shows how the operation changing dynamically 
when the modifier keys change:

public static void main (String [] args) {
	Display display = new Display ();
	Shell shell = new Shell (display);
	shell.setLayout(new FillLayout());
	Label label1 = new Label(shell, SWT.BORDER);
	label1.setText("Drag Source");
	final Label label2 = new Label(shell, SWT.BORDER);
	label2.setText("DropTarget");
	
	DragSource dragSource = new DragSource(label1, DND.DROP_MOVE | 
DND.DROP_COPY | DND.DROP_LINK);
	dragSource.setTransfer(new Transfer[] {TextTransfer.getInstance()});
	dragSource.addDragListener(new DragSourceAdapter() {
		public void dragSetData(DragSourceEvent event) {
			if (TextTransfer.getInstance().isSupportedType
(event.dataType)) {
				event.data = "once upon a time";
			}
		} 
	});
	DropTarget dropTarget = new DropTarget(label2, DND.DROP_MOVE | 
DND.DROP_COPY | DND.DROP_LINK | DND.DROP_DEFAULT);
	dropTarget.setTransfer(new Transfer[] {TextTransfer.getInstance(), 
FileTransfer.getInstance()});
	dropTarget.addDropListener(new DropTargetAdapter() {
		FileTransfer fileTransfer = FileTransfer.getInstance();
		TextTransfer textTransfer = TextTransfer.getInstance();
		public void dragEnter(DropTargetEvent event) {
			if (event.detail == DND.DROP_DEFAULT) event.detail = 
DND.DROP_COPY;
		}
		public void dragOperationChanged(DropTargetEvent event) {
			if (event.detail == DND.DROP_DEFAULT) event.detail = 
DND.DROP_COPY;
		}
		public void dragOver(DropTargetEvent event) {
			// disallow Move
			if (event.detail == DND.DROP_MOVE) event.detail = 
DND.DROP_NONE;
		}

		public void drop(DropTargetEvent event) {
			if (textTransfer.isSupportedType
(event.currentDataType)) {
				String text = (String)event.data;
				if (text != null) {
					label2.setText(text);
				}
			}
		}
		
	});
	shell.setSize(300, 150);
	shell.open ();
	while (!shell.isDisposed ()) {
		if (!display.readAndDispatch ()) display.sleep ();
	}
	display.dispose ();
}
Thanks these comments helped to solve my dillema.</WithOutStack>
  </Bug>
  <Bug>
    <BugId amount="31841" />
    <CreationDate amount="2003-02-13 17:52:00 -0500" />
    <DupId amount="" />
    <classification amount="Eclipse" />
    <Product amount="Platform" />
    <component amount="SWT" />
    <Version amount="2.1" />
    <rep_platform amount="PC" />
    <op_sys amount="Windows XP" />
    <priority amount="P3" />
    <bug_severity amount="enhancement" />
    <Summery>[Clipboard] Provide support for "cut" from the clipboard</Summery>
    <Patches amount="0" />
    <Stacktraces amount="0" />
    <SourceCodeRegions amount="0" />
    <Enumerations amount="1">
      <Enumeration lines="4">
        <Lines>
          <Line>1. select a file in a windows explorer</Line>
          <Line>2. cut it (cntrl-x)</Line>
          <Line>3. select an eclipse project</Line>
          <Line>4. select "Paste" from popup (or cntrl-v)</Line>
        </Lines>
      </Enumeration>
    </Enumerations>
    <bug_status amount="NEW" />
    <resolution amount="" />
    <WithStack>M5

1. select a file in a windows explorer
2. cut it (cntrl-x)
3. select an eclipse project
4. select "Paste" from popup (or cntrl-v)

The file will be added to the project but the file in the windows explorer 
remains, and unfortunately is still in "cut" mode (ie. 'grayed').

It wasn't clear to me if we supported cut from windows.  If we don't, then 
maybe paste should be disabled but instead copy should work?
Knut, can you comment on this?
I don't think we have a way of knowing if clipboard data was copied or cut to 
the clipboard. We only know that there is data on the clipboard.
CC'ing Veronika to confirm.

We do distinguish between copy and move when you drag a file from the Explorer 
to Eclipse Resource Navigator.
MS Word does the same we do. A paste inserts the data and leaves the file in 
the Explorer.
Currently there is no "cut" support on the clipboard in either direction 
(being a cut data source or a cut data destination).  New API would be 
required.

This would be a good enhancement for 2.2.
Reopening to reassign
To be considered for 2.2 stream then
Note that with the current behaviour, the user is left with an item in the 
windows explorer that is 'permanently' in cut (grayed) mode.  Its not 
terrible, but its likely somewhat disconcerting and looks funny.
If you press ESC in the Windows Explorer the funny item state will go away. 
Agree that this is not good.
The problem of having Windows in a "suspened" state is addressed by bug 38952.

Leaving this bug report open to track the requirement for a bi-
directional "cut" API.
In one of my applications (a tool for file search) I'd like to add the possibility of cutting files so that they can be pastet in the windows explorer.
Is it such a problem to implement the cut-feature for SWT? Or is nobody elso out there who needs it? 
It would be nice, but frankly impossible.  In Win Explorer, when a file is cut it is internally marked as having been cut.  Technically, the file still exists just as before until the file is pasted *in explorer.*  When the file is pasted, the file marked for cut is moved to the present location.  This isn't possible to implement in SWT, and seriously doubtful that it could be implemented in Eclipse without some flaky hack because it *is* internal to Windows Explorer.
But why does it work in other windows applications, for example the image viewer ACDSee?

I have searched in MSDN and found the following article:
http://msdn.microsoft.com/library/default.asp?url=/library/en-us/shellcc/platform/shell/programmersguide/shell_basics/shell_basics_programming/transferring/datascenarios.asp

Please take a look at the sections "Handling Optimized Move Operations" and "Handling Delete-on-Paste Operations". I think this describes the way how to implement it.

Created attachment 39258
An implementation for the Preferred Drop Effect

The Windows Explorer stored the information whether to copy or paste the files in a transfer type named "Preferred DropEffect". (All documented in http://msdn.microsoft.com/library/en-us/shellcc/platform/shell/programmersguide/shell_basics/shell_basics_programming/transferring/clipboard.asp?frame=true#CFSTR_PREFERREDDROPEFFECT).

I have implemented a PreferredDropEffectTransfer type which can read this information. It works well with files copied by the explorer. But I have problems with the "Preferred DropEffect" stored in the clipboard each time SWT puts something to the clipboard. Both data structures seem not to be compatible.

My knowledge about the whole DND/Clipboard internals is very limited and many of the SWT core methods are not commented. So I hope you will use the attached source code the fix the problem and integrate the clipboard drop effect support.
Created attachment 39900
Clipboard class supporting delete-on-paste

I've solved the problem. Two simple extensions to the Clipboard class enable the support for delete-on-paste. All changes are compatible to the existing implementation of the clipboard.

1. Setting the clipboard contents
The private method GetData(int, int) sets in its original version the preferred drop effect to COM.DROPEFFECT_COPY. I have changed this fixed value to a variable set by new setContents() methods.
If COM.DROPEFFECT_MOVE is provided the Explorer automatically moves the files instead of copying them.

2. Getting the clipboard contents
After (or before) calling Clipboard.getContents() you can call Clipboard.getPreferredDropEffect(). If the method returns DND.DROP_MOVE you know that you have to move and not to copy the files.
I'm reading the Preferred DropEffect using a separate Transfer class because it was easier for me to implement. I think you will implement this as a clipboard internal method.</WithStack>
    <WithOutStack>M5

1. select a file in a windows explorer
2. cut it (cntrl-x)
3. select an eclipse project
4. select "Paste" from popup (or cntrl-v)

The file will be added to the project but the file in the windows explorer 
remains, and unfortunately is still in "cut" mode (ie. 'grayed').

It wasn't clear to me if we supported cut from windows.  If we don't, then 
maybe paste should be disabled but instead copy should work?
Knut, can you comment on this?
I don't think we have a way of knowing if clipboard data was copied or cut to 
the clipboard. We only know that there is data on the clipboard.
CC'ing Veronika to confirm.

We do distinguish between copy and move when you drag a file from the Explorer 
to Eclipse Resource Navigator.
MS Word does the same we do. A paste inserts the data and leaves the file in 
the Explorer.
Currently there is no "cut" support on the clipboard in either direction 
(being a cut data source or a cut data destination).  New API would be 
required.

This would be a good enhancement for 2.2.
Reopening to reassign
To be considered for 2.2 stream then
Note that with the current behaviour, the user is left with an item in the 
windows explorer that is 'permanently' in cut (grayed) mode.  Its not 
terrible, but its likely somewhat disconcerting and looks funny.
If you press ESC in the Windows Explorer the funny item state will go away. 
Agree that this is not good.
The problem of having Windows in a "suspened" state is addressed by bug 38952.

Leaving this bug report open to track the requirement for a bi-
directional "cut" API.
In one of my applications (a tool for file search) I'd like to add the possibility of cutting files so that they can be pastet in the windows explorer.
Is it such a problem to implement the cut-feature for SWT? Or is nobody elso out there who needs it? 
It would be nice, but frankly impossible.  In Win Explorer, when a file is cut it is internally marked as having been cut.  Technically, the file still exists just as before until the file is pasted *in explorer.*  When the file is pasted, the file marked for cut is moved to the present location.  This isn't possible to implement in SWT, and seriously doubtful that it could be implemented in Eclipse without some flaky hack because it *is* internal to Windows Explorer.
But why does it work in other windows applications, for example the image viewer ACDSee?

I have searched in MSDN and found the following article:
http://msdn.microsoft.com/library/default.asp?url=/library/en-us/shellcc/platform/shell/programmersguide/shell_basics/shell_basics_programming/transferring/datascenarios.asp

Please take a look at the sections "Handling Optimized Move Operations" and "Handling Delete-on-Paste Operations". I think this describes the way how to implement it.

Created attachment 39258
An implementation for the Preferred Drop Effect

The Windows Explorer stored the information whether to copy or paste the files in a transfer type named "Preferred DropEffect". (All documented in http://msdn.microsoft.com/library/en-us/shellcc/platform/shell/programmersguide/shell_basics/shell_basics_programming/transferring/clipboard.asp?frame=true#CFSTR_PREFERREDDROPEFFECT).

I have implemented a PreferredDropEffectTransfer type which can read this information. It works well with files copied by the explorer. But I have problems with the "Preferred DropEffect" stored in the clipboard each time SWT puts something to the clipboard. Both data structures seem not to be compatible.

My knowledge about the whole DND/Clipboard internals is very limited and many of the SWT core methods are not commented. So I hope you will use the attached source code the fix the problem and integrate the clipboard drop effect support.
Created attachment 39900
Clipboard class supporting delete-on-paste

I've solved the problem. Two simple extensions to the Clipboard class enable the support for delete-on-paste. All changes are compatible to the existing implementation of the clipboard.

1. Setting the clipboard contents
The private method GetData(int, int) sets in its original version the preferred drop effect to COM.DROPEFFECT_COPY. I have changed this fixed value to a variable set by new setContents() methods.
If COM.DROPEFFECT_MOVE is provided the Explorer automatically moves the files instead of copying them.

2. Getting the clipboard contents
After (or before) calling Clipboard.getContents() you can call Clipboard.getPreferredDropEffect(). If the method returns DND.DROP_MOVE you know that you have to move and not to copy the files.
I'm reading the Preferred DropEffect using a separate Transfer class because it was easier for me to implement. I think you will implement this as a clipboard internal method.</WithOutStack>
  </Bug>
  <Bug>
    <BugId amount="31842" />
    <CreationDate amount="2003-02-13 18:10:00 -0500" />
    <DupId amount="26873" />
    <classification amount="Eclipse" />
    <Product amount="JDT" />
    <component amount="Text" />
    <Version amount="2.1" />
    <rep_platform amount="PC" />
    <op_sys amount="Windows XP" />
    <priority amount="P3" />
    <bug_severity amount="normal" />
    <Summery>Hyperlink on Control doesn't work without MouseEvent</Summery>
    <Patches amount="0" />
    <Stacktraces amount="0" />
    <SourceCodeRegions amount="0" />
    <Enumerations amount="0" />
    <bug_status amount="RESOLVED" />
    <resolution amount="DUPLICATE" />
    <WithStack>When pressing the control key, hyperlinks won't appear unless I move the mouse. 
It is possible to query the mouse location from the Display without a mouse 
event.

However, maybe this is intentional since Control is often pressed to invoke an 
accelerator, and the mouse could be in a random location.  In this case, you 
would have to try to keep some hueristic to guess what the user is really doing.


*** This bug has been marked as a duplicate of 26873 ***</WithStack>
    <WithOutStack>When pressing the control key, hyperlinks won't appear unless I move the mouse. 
It is possible to query the mouse location from the Display without a mouse 
event.

However, maybe this is intentional since Control is often pressed to invoke an 
accelerator, and the mouse could be in a random location.  In this case, you 
would have to try to keep some hueristic to guess what the user is really doing.


*** This bug has been marked as a duplicate of 26873 ***</WithOutStack>
  </Bug>
  <Bug>
    <BugId amount="31843" />
    <CreationDate amount="2003-02-13 18:12:00 -0500" />
    <DupId amount="" />
    <classification amount="Eclipse" />
    <Product amount="JDT" />
    <component amount="Text" />
    <Version amount="2.1" />
    <rep_platform amount="PC" />
    <op_sys amount="Windows 2000" />
    <priority amount="P3" />
    <bug_severity amount="normal" />
    <Summery>"for - iterate over a collection" template: incorrect tabs</Summery>
    <Patches amount="0" />
    <Stacktraces amount="0" />
    <SourceCodeRegions amount="0" />
    <Enumerations amount="0" />
    <bug_status amount="RESOLVED" />
    <resolution amount="FIXED" />
    <WithStack>Build id: 200302131253

Create a new class, check the "public static void main(String[] args)" checkbox
in the wizard. 
Put the cursor after the method declaration, hit enter.  The cursor is now
inside the method, on a blank line, tabbed to the right of the method declaration.

Now type "for", hit Ctrl-space, and select "for - iterate over a collation". 
Notice that the inserted template is shifted to the left by one tab.
seems fixed on I200405280010. Closing, given that the template stuff has
undergone major changes since the report.</WithStack>
    <WithOutStack>Build id: 200302131253

Create a new class, check the "public static void main(String[] args)" checkbox
in the wizard. 
Put the cursor after the method declaration, hit enter.  The cursor is now
inside the method, on a blank line, tabbed to the right of the method declaration.

Now type "for", hit Ctrl-space, and select "for - iterate over a collation". 
Notice that the inserted template is shifted to the left by one tab.
seems fixed on I200405280010. Closing, given that the template stuff has
undergone major changes since the report.</WithOutStack>
  </Bug>
  <Bug>
    <BugId amount="31844" />
    <CreationDate amount="2003-02-13 18:13:00 -0500" />
    <DupId amount="" />
    <classification amount="Eclipse" />
    <Product amount="JDT" />
    <component amount="Debug" />
    <Version amount="2.1" />
    <rep_platform amount="PC" />
    <op_sys amount="Linux" />
    <priority amount="P3" />
    <bug_severity amount="normal" />
    <Summery>Threads &amp; Monitors view does not managed well multiple targets debugging</Summery>
    <Patches amount="0" />
    <Stacktraces amount="0" />
    <SourceCodeRegions amount="0" />
    <Enumerations amount="0" />
    <bug_status amount="RESOLVED" />
    <resolution amount="WONTFIX" />
    <WithStack>When fixing bug 26697, I notice that the code of the Threads &amp; Monitors view
does not really managed the case of multiple target debugging.
Basically, every time you switch between a debug target to an other, the whole
information are re-computed. Those information should be cached.

Recommend this as a 2.2 item.
Deferred, as suggested
*** Bug 40574 has been marked as a duplicate of this bug. ***
Re-open for 3.1
Consider with re-work of view.
Marking as won't fix. Instead, see bug 75280 which makes the Threads and 
Monitors view obsolete.</WithStack>
    <WithOutStack>When fixing bug 26697, I notice that the code of the Threads &amp; Monitors view
does not really managed the case of multiple target debugging.
Basically, every time you switch between a debug target to an other, the whole
information are re-computed. Those information should be cached.

Recommend this as a 2.2 item.
Deferred, as suggested
*** Bug 40574 has been marked as a duplicate of this bug. ***
Re-open for 3.1
Consider with re-work of view.
Marking as won't fix. Instead, see bug 75280 which makes the Threads and 
Monitors view obsolete.</WithOutStack>
  </Bug>
  <Bug>
    <BugId amount="31845" />
    <CreationDate amount="2003-02-13 18:17:00 -0500" />
    <DupId amount="" />
    <classification amount="Eclipse" />
    <Product amount="JDT" />
    <component amount="Text" />
    <Version amount="2.1" />
    <rep_platform amount="PC" />
    <op_sys amount="Windows 2000" />
    <priority amount="P3" />
    <bug_severity amount="normal" />
    <Summery>truncated green template underscore line</Summery>
    <Patches amount="0" />
    <Stacktraces amount="0" />
    <SourceCodeRegions amount="0" />
    <Enumerations amount="0" />
    <bug_status amount="RESOLVED" />
    <resolution amount="FIXED" />
    <WithStack>Build id: 200302131253

Create a new class, check the "public static void main(String[] args)" checkbox
in the wizard. Put the cursor after the method declaration, hit enter.  The
cursor is now inside the method, on a blank line, tabbed to the right of the
method declaration.  Now type "for", hit Ctrl-space, and select "for - iterate
over a collation".  Hit tab until the temporary variable inside the for loop is
highlighted (it should be named "element").  Hit the right arrow button to move
the cursor to the end of "element" and de-select "element".  Now hit the
"delete" key.  Notice that the green template line shortens by one character.
fixed a while ago</WithStack>
    <WithOutStack>Build id: 200302131253

Create a new class, check the "public static void main(String[] args)" checkbox
in the wizard. Put the cursor after the method declaration, hit enter.  The
cursor is now inside the method, on a blank line, tabbed to the right of the
method declaration.  Now type "for", hit Ctrl-space, and select "for - iterate
over a collation".  Hit tab until the temporary variable inside the for loop is
highlighted (it should be named "element").  Hit the right arrow button to move
the cursor to the end of "element" and de-select "element".  Now hit the
"delete" key.  Notice that the green template line shortens by one character.
fixed a while ago</WithOutStack>
  </Bug>
  <Bug>
    <BugId amount="31846" />
    <CreationDate amount="2003-02-13 18:18:00 -0500" />
    <DupId amount="" />
    <classification amount="Eclipse" />
    <Product amount="JDT" />
    <component amount="Text" />
    <Version amount="2.1" />
    <rep_platform amount="PC" />
    <op_sys amount="Windows XP" />
    <priority amount="P3" />
    <bug_severity amount="normal" />
    <Summery>Method override inserts non JavaDoc comment</Summery>
    <Patches amount="0" />
    <Stacktraces amount="0" />
    <SourceCodeRegions amount="1">
      <source_code type="multicomment">
        <location start="33" end="128" />
        <code>/* (non-Javadoc)
 * @see org.eclipse.gef.editparts.AbstractGraphicalEditPart#removeNotify()
 */</code>
      </source_code>
    </SourceCodeRegions>
    <Enumerations amount="0" />
    <bug_status amount="RESOLVED" />
    <resolution amount="WORKSFORME" />
    <WithStack>When overriding a method, I get:
/* (non-Javadoc)
 * @see org.eclipse.gef.editparts.AbstractGraphicalEditPart#removeNotify()
 */
inserted as the JavaDoc comment.  Where is the template for this?  I cannot 
find it anywhere.

CheckStyle does not recognize this as a valid JavaDoc tag when auditing 
source.  However, it will ignore it if it starts with "/**". That's why I am 
trying to configure this template.  Would you consider changing your defaults 
to satisfy this 3rd-party plugin :-)?
The template can be found under Preferences&gt;Java&gt;Code Generation&gt;Code and 
Comments. We will not change the defaults in this case as they concur to the 
eclipse code style we use.</WithStack>
    <WithOutStack>When overriding a method, I get:
/* (non-Javadoc)
 * @see org.eclipse.gef.editparts.AbstractGraphicalEditPart#removeNotify()
 */
inserted as the JavaDoc comment.  Where is the template for this?  I cannot 
find it anywhere.

CheckStyle does not recognize this as a valid JavaDoc tag when auditing 
source.  However, it will ignore it if it starts with "/**". That's why I am 
trying to configure this template.  Would you consider changing your defaults 
to satisfy this 3rd-party plugin :-)?
The template can be found under Preferences&gt;Java&gt;Code Generation&gt;Code and 
Comments. We will not change the defaults in this case as they concur to the 
eclipse code style we use.</WithOutStack>
  </Bug>
  <Bug>
    <BugId amount="31847" />
    <CreationDate amount="2003-02-13 18:19:00 -0500" />
    <DupId amount="" />
    <classification amount="Eclipse" />
    <Product amount="JDT" />
    <component amount="Text" />
    <Version amount="2.1" />
    <rep_platform amount="PC" />
    <op_sys amount="Windows 2000" />
    <priority amount="P3" />
    <bug_severity amount="normal" />
    <Summery>persistant green template underscore line</Summery>
    <Patches amount="0" />
    <Stacktraces amount="0" />
    <SourceCodeRegions amount="0" />
    <Enumerations amount="0" />
    <bug_status amount="RESOLVED" />
    <resolution amount="FIXED" />
    <WithStack>Build id: 200302131253

Create a new class, check the "public static void main(String[] args)" checkbox
in the wizard. Put the cursor after the method declaration, hit enter.  The
cursor is now inside the method, on a blank line, tabbed to the right of the
method declaration.  Now type "for", hit Ctrl-space, and select "for - iterate
over a collation".  Hit tab until the temporary variable inside the for loop is
highlighted (it should be named "element").  Hit the right arrow button to move
the cursor to the end of "element" and de-select "element".  Now hit the
"delete" key.  Now hit the down arrow, the green template line remains.
fixed a while ago.</WithStack>
    <WithOutStack>Build id: 200302131253

Create a new class, check the "public static void main(String[] args)" checkbox
in the wizard. Put the cursor after the method declaration, hit enter.  The
cursor is now inside the method, on a blank line, tabbed to the right of the
method declaration.  Now type "for", hit Ctrl-space, and select "for - iterate
over a collation".  Hit tab until the temporary variable inside the for loop is
highlighted (it should be named "element").  Hit the right arrow button to move
the cursor to the end of "element" and de-select "element".  Now hit the
"delete" key.  Now hit the down arrow, the green template line remains.
fixed a while ago.</WithOutStack>
  </Bug>
  <Bug>
    <BugId amount="31848" />
    <CreationDate amount="2003-02-13 18:21:00 -0500" />
    <DupId amount="" />
    <classification amount="Eclipse" />
    <Product amount="JDT" />
    <component amount="Text" />
    <Version amount="2.1" />
    <rep_platform amount="PC" />
    <op_sys amount="Windows 2000" />
    <priority amount="P3" />
    <bug_severity amount="normal" />
    <Summery>[typing] undo after template moves cursor to the start of the file</Summery>
    <Patches amount="0" />
    <Stacktraces amount="0" />
    <SourceCodeRegions amount="0" />
    <Enumerations amount="0" />
    <bug_status amount="RESOLVED" />
    <resolution amount="WORKSFORME" />
    <WithStack>Build id: 200302131253

Create a new class, check the "public static void main(String[] args)" checkbox
in the wizard. Put the cursor after the method declaration, hit enter.  The
cursor is now inside the method, on a blank line, tabbed to the right of the
method declaration.  Now type "for", hit Ctrl-space, and select one of the for
templates.  Hit Ctrl-z (undo).  The cursor moves to the start of the file.
Note that if you tab to the temporary variable name, hit the right arrow, the
delete key, then the down arrow, and finally, Ctrl-z, it moves the cursor and
deletes the 'r' off of "for".

Sorry for the video game like key sequences. :)
If the cursor is within a linkedmode, this issue happens when user does an UNDO operation.
Actually this bug itself is fixed: the caret no longer goes to the start of the file and instead 'for' is selected.</WithStack>
    <WithOutStack>Build id: 200302131253

Create a new class, check the "public static void main(String[] args)" checkbox
in the wizard. Put the cursor after the method declaration, hit enter.  The
cursor is now inside the method, on a blank line, tabbed to the right of the
method declaration.  Now type "for", hit Ctrl-space, and select one of the for
templates.  Hit Ctrl-z (undo).  The cursor moves to the start of the file.
Note that if you tab to the temporary variable name, hit the right arrow, the
delete key, then the down arrow, and finally, Ctrl-z, it moves the cursor and
deletes the 'r' off of "for".

Sorry for the video game like key sequences. :)
If the cursor is within a linkedmode, this issue happens when user does an UNDO operation.
Actually this bug itself is fixed: the caret no longer goes to the start of the file and instead 'for' is selected.</WithOutStack>
  </Bug>
  <Bug>
    <BugId amount="31849" />
    <CreationDate amount="2003-02-13 18:30:00 -0500" />
    <DupId amount="" />
    <classification amount="Eclipse" />
    <Product amount="JDT" />
    <component amount="Text" />
    <Version amount="2.1" />
    <rep_platform amount="PC" />
    <op_sys amount="Windows 2000" />
    <priority amount="P3" />
    <bug_severity amount="normal" />
    <Summery>"iterate - over a collection" delete causes '.' characters to disappear</Summery>
    <Patches amount="0" />
    <Stacktraces amount="0" />
    <SourceCodeRegions amount="1">
      <source_code type="functiondef">
        <location start="563" end="667" />
        <code>for (Iterator iter= collection.iterator(); iterhasNext();) {
		type element = (type) iternext();
		
	}</code>
      </source_code>
    </SourceCodeRegions>
    <Enumerations amount="0" />
    <bug_status amount="RESOLVED" />
    <resolution amount="WORKSFORME" />
    <WithStack>Build id: 200302131253

Create a new class, check the "public static void main(String[] args)" checkbox
in the wizard. Put the cursor after the method declaration, hit enter.  The
cursor is now inside the method, on a blank line, tabbed to the right of the
method declaration.  Now type "for", hit Ctrl-space, and select "iterate - over
a collection".  Hit the right arrow followed by the delete key (to do compact
assignment).  Both of the '.' characters following the "iter" variable in the
other parts of the for loop get removed, resulting in the following.

		for (Iterator iter= collection.iterator(); iterhasNext();) {
		type element = (type) iternext();
		
	}
This works now.</WithStack>
    <WithOutStack>Build id: 200302131253

Create a new class, check the "public static void main(String[] args)" checkbox
in the wizard. Put the cursor after the method declaration, hit enter.  The
cursor is now inside the method, on a blank line, tabbed to the right of the
method declaration.  Now type "for", hit Ctrl-space, and select "iterate - over
a collection".  Hit the right arrow followed by the delete key (to do compact
assignment).  Both of the '.' characters following the "iter" variable in the
other parts of the for loop get removed, resulting in the following.

		for (Iterator iter= collection.iterator(); iterhasNext();) {
		type element = (type) iternext();
		
	}
This works now.</WithOutStack>
  </Bug>
  <Bug>
    <BugId amount="31850" />
    <CreationDate amount="2003-02-13 19:06:00 -0500" />
    <DupId amount="" />
    <classification amount="Eclipse" />
    <Product amount="Platform" />
    <component amount="Team" />
    <Version amount="2.1" />
    <rep_platform amount="All" />
    <op_sys amount="All" />
    <priority amount="P3" />
    <bug_severity amount="enhancement" />
    <Summery>Ability to commit to CVS from compare structure view</Summery>
    <Patches amount="0" />
    <Stacktraces amount="0" />
    <SourceCodeRegions amount="0" />
    <Enumerations amount="1">
      <Enumeration lines="10">
        <Lines>
          <Line>1. Select a file from the Java Package Explorer</Line>
          <Line>2. Right click and select Compare With-&gt;Latest from Repository</Line>
          <Line>3. The compare editor(?) opens with just the structure compare</Line>
          <Line>4. double click the file to open the Java Structure compare, etc</Line>
          <Line>5. figure out what your diffs were</Line>
          <Line />
          <Line>Here's whats new</Line>
          <Line />
          <Line>6. Go back to the structure compare part of the view</Line>
          <Line>7. right click the file and have commit appear as one of the options.</Line>
        </Lines>
      </Enumeration>
    </Enumerations>
    <bug_status amount="RESOLVED" />
    <resolution amount="INVALID" />
    <WithStack>I like to base my CVS commit comments on the diffs between whats in CVS and what
I'm checking in.  To this end, it would make things much easier if I could right
click the name of a file from the structure compare view and commit it from there.
What you suggest is already possible:
In the top left pane of the sync view, you can right-click on any item and commit from 
there. But you must be in "outgoing" mode.

Or do I miss something?
If yes, please describe the steps in more detail.
Steps:

1. Select a file from the Java Package Explorer
2. Right click and select Compare With-&gt;Latest from Repository
3. The compare editor(?) opens with just the structure compare
4. double click the file to open the Java Structure compare, etc
5. figure out what your diffs were

Here's whats new

6. Go back to the structure compare part of the view
7. right click the file and have commit appear as one of the options.

You can find what you describe in the Team menu under the "Synchronize ..." entries.
It compares your workspace with latest from repository and lets you catchup with 
incoming changes or commit outgoing changes.
OK to close?
May be VCM can comment on this.
Thanks for pointing this out.  I obviously had no idea.  Is there a way to have
the synchronize view appear in the "main" view?

ok to close.  
Synchronize view is definitely what you want here.

&gt;&gt;Is there a way to have the synchronize view appear in the "main" view?

When you do Team-&gt;Synchronize it will open in whatever perspective you are 
in.  Since it needs lots of space but gets squished down somewhere random, I 
usually have it as a fast view (drag to left side of window).</WithStack>
    <WithOutStack>I like to base my CVS commit comments on the diffs between whats in CVS and what
I'm checking in.  To this end, it would make things much easier if I could right
click the name of a file from the structure compare view and commit it from there.
What you suggest is already possible:
In the top left pane of the sync view, you can right-click on any item and commit from 
there. But you must be in "outgoing" mode.

Or do I miss something?
If yes, please describe the steps in more detail.
Steps:

1. Select a file from the Java Package Explorer
2. Right click and select Compare With-&gt;Latest from Repository
3. The compare editor(?) opens with just the structure compare
4. double click the file to open the Java Structure compare, etc
5. figure out what your diffs were

Here's whats new

6. Go back to the structure compare part of the view
7. right click the file and have commit appear as one of the options.

You can find what you describe in the Team menu under the "Synchronize ..." entries.
It compares your workspace with latest from repository and lets you catchup with 
incoming changes or commit outgoing changes.
OK to close?
May be VCM can comment on this.
Thanks for pointing this out.  I obviously had no idea.  Is there a way to have
the synchronize view appear in the "main" view?

ok to close.  
Synchronize view is definitely what you want here.

&gt;&gt;Is there a way to have the synchronize view appear in the "main" view?

When you do Team-&gt;Synchronize it will open in whatever perspective you are 
in.  Since it needs lots of space but gets squished down somewhere random, I 
usually have it as a fast view (drag to left side of window).</WithOutStack>
  </Bug>
  <Bug>
    <BugId amount="31851" />
    <CreationDate amount="2003-02-13 19:12:00 -0500" />
    <DupId amount="" />
    <classification amount="Eclipse" />
    <Product amount="JDT" />
    <component amount="UI" />
    <Version amount="2.1" />
    <rep_platform amount="All" />
    <op_sys amount="All" />
    <priority amount="P4" />
    <bug_severity amount="enhancement" />
    <Summery>New refactorings requested [refactoring]</Summery>
    <Patches amount="0" />
    <Stacktraces amount="0" />
    <SourceCodeRegions amount="0" />
    <Enumerations amount="0" />
    <bug_status amount="RESOLVED" />
    <resolution amount="WONTFIX" />
    <WithStack>Convert method parameter to field
Should remove method parameter and update calls to access field

Convert field to method parameter
Should remove field declaration and add to method signature
Not for 2.1
As of now 'LATER' and 'REMIND' resolutions are no longer supported.
Please reopen this bug if it is still valid for you.</WithStack>
    <WithOutStack>Convert method parameter to field
Should remove method parameter and update calls to access field

Convert field to method parameter
Should remove field declaration and add to method signature
Not for 2.1
As of now 'LATER' and 'REMIND' resolutions are no longer supported.
Please reopen this bug if it is still valid for you.</WithOutStack>
  </Bug>
  <Bug>
    <BugId amount="31852" />
    <CreationDate amount="2003-02-13 20:16:00 -0500" />
    <DupId amount="" />
    <classification amount="Eclipse" />
    <Product amount="Platform" />
    <component amount="Update  (deprecated - use RT&gt;Equinox&gt;p2)" />
    <Version amount="2.1" />
    <rep_platform amount="All" />
    <op_sys amount="All" />
    <priority amount="P3" />
    <bug_severity amount="normal" />
    <Summery>Should remove the folder for the UM site when site removed</Summery>
    <Patches amount="0" />
    <Stacktraces amount="0" />
    <SourceCodeRegions amount="0" />
    <Enumerations amount="1">
      <Enumeration lines="7">
        <Lines>
          <Line>1) Target site wizard page allows users to define new sites (with UM markers).</Line>
          <Line>2) The site is added into the configuration that is a clone of the current</Line>
          <Line>configuration but is not pushed to the top yet.</Line>
          <Line>3) When the site is created, the folder is created and .eclipseUM marker is</Line>
          <Line>placed there.</Line>
          <Line>4) If users change their mind and use the newly added 'Remove' button to remove</Line>
          <Line>the site, the folder stays.</Line>
        </Lines>
      </Enumeration>
    </Enumerations>
    <bug_status amount="RESOLVED" />
    <resolution amount="WONTFIX" />
    <WithStack>Here is the scenario:

1) Target site wizard page allows users to define new sites (with UM markers). 
2) The site is added into the configuration that is a clone of the current 
configuration but is not pushed to the top yet.
3) When the site is created, the folder is created and .eclipseUM marker is 
placed there.
4) If users change their mind and use the newly added 'Remove' button to remove 
the site, the folder stays.

Expectation: the folder should be removed.

As discussed, Core should keep a transient flag when a site is added to the 
configuration. When 'remove' method for that site is called, test the flag. If 
the flag 'justCreated' is on, remove the folder as well. Otherwise, leave it.

The duration of the flag should be as long as the configuration is not made 
current. The moment it happens, reset this flag to false i.e. harden the site.
Action Taken: The DirectoryDialog seems to create the Directory. When UpdatCore
is called to create a site, it does not know if the directory was created or if
it existed before. UpdateCore can only know if the marker should be deleted or not.
Action Plan: Implement the removal of the marker only
Action Taken: The status 'justCreated' changes when the user installs a Feature
in the site. The User can then create multiple sites and delete newly created
sites. The states harden when the user exits the platform or install a feature
in the site.

released in 2.1 stream

Action Plan: Pass to UI: when the user cancels, the UI should remove newly
created site. (IInstallConfiguration.removeConfiguredSite())
This is a mass update of Platform Update bugs that have had no activity in three years. Platform Update was replaced in Eclipse 3.4 (2008) by a new provisioning system called Equinox p2. If this bug or enhancement is not already addressed in p2 please enter a new bug report against p2 (RT &gt; Equinox &gt; p2). If you still want to see this bug addressed in the deprecated Platform Update component, please reopen this bug. Patches welcome.</WithStack>
    <WithOutStack>Here is the scenario:

1) Target site wizard page allows users to define new sites (with UM markers). 
2) The site is added into the configuration that is a clone of the current 
configuration but is not pushed to the top yet.
3) When the site is created, the folder is created and .eclipseUM marker is 
placed there.
4) If users change their mind and use the newly added 'Remove' button to remove 
the site, the folder stays.

Expectation: the folder should be removed.

As discussed, Core should keep a transient flag when a site is added to the 
configuration. When 'remove' method for that site is called, test the flag. If 
the flag 'justCreated' is on, remove the folder as well. Otherwise, leave it.

The duration of the flag should be as long as the configuration is not made 
current. The moment it happens, reset this flag to false i.e. harden the site.
Action Taken: The DirectoryDialog seems to create the Directory. When UpdatCore
is called to create a site, it does not know if the directory was created or if
it existed before. UpdateCore can only know if the marker should be deleted or not.
Action Plan: Implement the removal of the marker only
Action Taken: The status 'justCreated' changes when the user installs a Feature
in the site. The User can then create multiple sites and delete newly created
sites. The states harden when the user exits the platform or install a feature
in the site.

released in 2.1 stream

Action Plan: Pass to UI: when the user cancels, the UI should remove newly
created site. (IInstallConfiguration.removeConfiguredSite())
This is a mass update of Platform Update bugs that have had no activity in three years. Platform Update was replaced in Eclipse 3.4 (2008) by a new provisioning system called Equinox p2. If this bug or enhancement is not already addressed in p2 please enter a new bug report against p2 (RT &gt; Equinox &gt; p2). If you still want to see this bug addressed in the deprecated Platform Update component, please reopen this bug. Patches welcome.</WithOutStack>
  </Bug>
  <Bug>
    <BugId amount="31853" />
    <CreationDate amount="2003-02-13 21:34:00 -0500" />
    <DupId amount="21493" />
    <classification amount="Eclipse" />
    <Product amount="JDT" />
    <component amount="Text" />
    <Version amount="2.1" />
    <rep_platform amount="PC" />
    <op_sys amount="Windows 2000" />
    <priority amount="P3" />
    <bug_severity amount="trivial" />
    <Summery>Complete Undo does not mark document clean</Summery>
    <Patches amount="0" />
    <Stacktraces amount="0" />
    <SourceCodeRegions amount="0" />
    <Enumerations amount="1">
      <Enumeration lines="4">
        <Lines>
          <Line>- Open a document (e.g. Java file)</Line>
          <Line>- make a change</Line>
          <Line>- Undo all changes</Line>
          <Line>- document is still marked as saveable</Line>
        </Lines>
      </Enumeration>
    </Enumerations>
    <bug_status amount="RESOLVED" />
    <resolution amount="DUPLICATE" />
    <WithStack>This is on M5

- Open a document (e.g. Java file)
- make a change
- Undo all changes
- document is still marked as saveable

Perhaps more of a personal preference but I think it would make more sense (and 
definitely be more convenient) that complete undos mark the document as clean.

A typical scenario I have is opening a document to view it, accidently hitting 
a key that I undo, and then having to cancel the save.
Dup of bug 21493.


*** This bug has been marked as a duplicate of 21493 ***</WithStack>
    <WithOutStack>This is on M5

- Open a document (e.g. Java file)
- make a change
- Undo all changes
- document is still marked as saveable

Perhaps more of a personal preference but I think it would make more sense (and 
definitely be more convenient) that complete undos mark the document as clean.

A typical scenario I have is opening a document to view it, accidently hitting 
a key that I undo, and then having to cancel the save.
Dup of bug 21493.


*** This bug has been marked as a duplicate of 21493 ***</WithOutStack>
  </Bug>
  <Bug>
    <BugId amount="31854" />
    <CreationDate amount="2003-02-14 02:12:00 -0500" />
    <DupId amount="15654" />
    <classification amount="Eclipse" />
    <Product amount="Platform" />
    <component amount="Compare" />
    <Version amount="2.1" />
    <rep_platform amount="PC" />
    <op_sys amount="Windows 2000" />
    <priority amount="P3" />
    <bug_severity amount="enhancement" />
    <Summery>Compare window needs maximize button</Summery>
    <Patches amount="0" />
    <Stacktraces amount="0" />
    <SourceCodeRegions amount="0" />
    <Enumerations amount="0" />
    <bug_status amount="RESOLVED" />
    <resolution amount="DUPLICATE" />
    <WithStack>It would be very nice if the main compare window (compare with local history,
etc.) had a maximize button.


*** This bug has been marked as a duplicate of 15654 ***</WithStack>
    <WithOutStack>It would be very nice if the main compare window (compare with local history,
etc.) had a maximize button.


*** This bug has been marked as a duplicate of 15654 ***</WithOutStack>
  </Bug>
  <Bug>
    <BugId amount="31855" />
    <CreationDate amount="2003-02-14 02:16:00 -0500" />
    <DupId amount="" />
    <classification amount="Eclipse" />
    <Product amount="Platform" />
    <component amount="SWT" />
    <Version amount="2.1" />
    <rep_platform amount="PC" />
    <op_sys amount="Windows 2000" />
    <priority amount="P3" />
    <bug_severity amount="normal" />
    <Summery>[Editor Mgmt] Close buttons in editor get cut off</Summery>
    <Patches amount="0" />
    <Stacktraces amount="0" />
    <SourceCodeRegions amount="0" />
    <Enumerations amount="0" />
    <bug_status amount="RESOLVED" />
    <resolution amount="FIXED" />
    <WithStack>The close buttons on the editor tabs are too big, causing the shadow on the
bottom of the button (on mouse over) to be cut off.
Moving to SWT. That button is on CTabFolder.
Fixed in I20030214.</WithStack>
    <WithOutStack>The close buttons on the editor tabs are too big, causing the shadow on the
bottom of the button (on mouse over) to be cut off.
Moving to SWT. That button is on CTabFolder.
Fixed in I20030214.</WithOutStack>
  </Bug>
  <Bug>
    <BugId amount="31856" />
    <CreationDate amount="2003-02-14 02:44:00 -0500" />
    <DupId amount="" />
    <classification amount="Eclipse" />
    <Product amount="Platform" />
    <component amount="UI" />
    <Version amount="2.1" />
    <rep_platform amount="Macintosh" />
    <op_sys amount="Mac OS X - Carbon (unsup.)" />
    <priority amount="P3" />
    <bug_severity amount="normal" />
    <Summery>[Dialogs] white area in Open Type dialog</Summery>
    <Patches amount="0" />
    <Stacktraces amount="0" />
    <SourceCodeRegions amount="0" />
    <Enumerations amount="0" />
    <bug_status amount="CLOSED" />
    <resolution amount="FIXED" />
    <WithStack>I20030213
- open the "Open Type dialog"
Observe: there is a white area next to the Cancel button (see attachment).
I supect it is an error/status label that has a white background
Created attachment 3486
Open Type dialog with white area at bottom
The problem exists for "Edit Java Build Path" dialog
WE are not setting the background of these labels to white. Moving to SWT.
There is a MessageLine object in the OpenType dialog. The background of this 
object is being set and this background is being drawn.  If no background were 
set, the striped lines would appear.

This is also a problem on GTK if you have a theme with textured backgrounds.

I would recommend that the MessageLine.fNormalMsgAreaBackground should be 
null.  This will result in the default color being used which in Carbon and 
GTK would be the textured background.

Info from traceback:

Thread [main] (Suspended (breakpoint at line 419 in CLabel))
	MessageLine(CLabel).setBackground(Color) line: 419
	MessageLine.setErrorStatus(IStatus) line: 78
	OpenTypeSelectionDialog(SelectionStatusDialog).createButtonBar
(Composite) line: 162
	OpenTypeSelectionDialog(Dialog).createContents(Composite) line: 572
	OpenTypeSelectionDialog.createContents(Composite) line: 67
	OpenTypeSelectionDialog(Window).create() line: 281
	OpenTypeSelectionDialog(SelectionStatusDialog).create() line: 137
	OpenTypeSelectionDialog
(AbstractElementListSelectionDialog).access$superCreate() line: 431
	AbstractElementListSelectionDialog.access$2
(AbstractElementListSelectionDialog) line: 430
	AbstractElementListSelectionDialog$4.run() line: 441
	BusyIndicator.showWhile(Display, Runnable) line: 65
	OpenTypeSelectionDialog(AbstractElementListSelectionDialog).create() 
line: 439
	OpenTypeSelectionDialog(Window).open() line: 530
	OpenTypeSelectionDialog(AbstractElementListSelectionDialog).open() 
line: 426
	OpenTypeSelectionDialog(TypeSelectionDialog).open() line: 216
	OpenTypeAction.run() line: 53
	OpenTypeAction.run(IAction) line: 74
	WWinPluginAction(PluginAction).runWithEvent(Event) line: 250
	WWinPluginAction.runWithEvent(Event) line: 202
	PluginActionContributionItem
(ActionContributionItem).handleWidgetSelection(Event) line: 450
	PluginActionContributionItem(ActionContributionItem).handleWidgetEvent
(Event) line: 398
	ActionContributionItem.access$0(ActionContributionItem, Event) line: 
392
	ActionContributionItem$ActionListener.handleEvent(Event) line: 72
	EventTable.sendEvent(Event) line: 77
	ToolItem(Widget).sendEvent(Event) line: 836
	Display.runDeferredEvents() line: 1692
	Display.readAndDispatch() line: 1410
	Workbench.runEventLoop(Window$IExceptionHandler) line: 1288
	Workbench.run(Object) line: 1271
	InternalBootLoader.run(String, URL, String, String[], Runnable) line: 
845
	BootLoader.run(String, URL, String, String[], Runnable) line: 461
	Method.invoke(Object, Object[]) line: not available [native method]
	Main.basicRun(String[]) line: 247
	Main.run(String[]) line: 703
	Main.main(String[]) line: 539

Fixed in build &gt;20030218
Marking as closed.</WithStack>
    <WithOutStack>I20030213
- open the "Open Type dialog"
Observe: there is a white area next to the Cancel button (see attachment).
I supect it is an error/status label that has a white background
Created attachment 3486
Open Type dialog with white area at bottom
The problem exists for "Edit Java Build Path" dialog
WE are not setting the background of these labels to white. Moving to SWT.
There is a MessageLine object in the OpenType dialog. The background of this 
object is being set and this background is being drawn.  If no background were 
set, the striped lines would appear.

This is also a problem on GTK if you have a theme with textured backgrounds.

I would recommend that the MessageLine.fNormalMsgAreaBackground should be 
null.  This will result in the default color being used which in Carbon and 
GTK would be the textured background.

Info from traceback:

Thread [main] (Suspended (breakpoint at line 419 in CLabel))
	MessageLine(CLabel).setBackground(Color) line: 419
	MessageLine.setErrorStatus(IStatus) line: 78
	OpenTypeSelectionDialog(SelectionStatusDialog).createButtonBar
(Composite) line: 162
	OpenTypeSelectionDialog(Dialog).createContents(Composite) line: 572
	OpenTypeSelectionDialog.createContents(Composite) line: 67
	OpenTypeSelectionDialog(Window).create() line: 281
	OpenTypeSelectionDialog(SelectionStatusDialog).create() line: 137
	OpenTypeSelectionDialog
(AbstractElementListSelectionDialog).access$superCreate() line: 431
	AbstractElementListSelectionDialog.access$2
(AbstractElementListSelectionDialog) line: 430
	AbstractElementListSelectionDialog$4.run() line: 441
	BusyIndicator.showWhile(Display, Runnable) line: 65
	OpenTypeSelectionDialog(AbstractElementListSelectionDialog).create() 
line: 439
	OpenTypeSelectionDialog(Window).open() line: 530
	OpenTypeSelectionDialog(AbstractElementListSelectionDialog).open() 
line: 426
	OpenTypeSelectionDialog(TypeSelectionDialog).open() line: 216
	OpenTypeAction.run() line: 53
	OpenTypeAction.run(IAction) line: 74
	WWinPluginAction(PluginAction).runWithEvent(Event) line: 250
	WWinPluginAction.runWithEvent(Event) line: 202
	PluginActionContributionItem
(ActionContributionItem).handleWidgetSelection(Event) line: 450
	PluginActionContributionItem(ActionContributionItem).handleWidgetEvent
(Event) line: 398
	ActionContributionItem.access$0(ActionContributionItem, Event) line: 
392
	ActionContributionItem$ActionListener.handleEvent(Event) line: 72
	EventTable.sendEvent(Event) line: 77
	ToolItem(Widget).sendEvent(Event) line: 836
	Display.runDeferredEvents() line: 1692
	Display.readAndDispatch() line: 1410
	Workbench.runEventLoop(Window$IExceptionHandler) line: 1288
	Workbench.run(Object) line: 1271
	InternalBootLoader.run(String, URL, String, String[], Runnable) line: 
845
	BootLoader.run(String, URL, String, String[], Runnable) line: 461
	Method.invoke(Object, Object[]) line: not available [native method]
	Main.basicRun(String[]) line: 247
	Main.run(String[]) line: 703
	Main.main(String[]) line: 539

Fixed in build &gt;20030218
Marking as closed.</WithOutStack>
  </Bug>
  <Bug>
    <BugId amount="31857" />
    <CreationDate amount="2003-02-14 04:07:00 -0500" />
    <DupId amount="" />
    <classification amount="Eclipse" />
    <Product amount="Platform" />
    <component amount="SWT" />
    <Version amount="2.1" />
    <rep_platform amount="Macintosh" />
    <op_sys amount="Mac OS X - Carbon (unsup.)" />
    <priority amount="P3" />
    <bug_severity amount="critical" />
    <Summery>No icons in Labels</Summery>
    <Patches amount="0" />
    <Stacktraces amount="0" />
    <SourceCodeRegions amount="0" />
    <Enumerations amount="0" />
    <bug_status amount="RESOLVED" />
    <resolution amount="FIXED" />
    <WithStack>I20030213
Error and Information dialogs don't show icons
Created attachment 3487
Message dialog
Sorry, the problem doesn't occur in I20030213 but in HEAD.
Labels no longer show icons.
- run ControlExample

Changed summary and increased severity.
It was a dumb bug, now fixed.

Fixed&gt; 20030218</WithStack>
    <WithOutStack>I20030213
Error and Information dialogs don't show icons
Created attachment 3487
Message dialog
Sorry, the problem doesn't occur in I20030213 but in HEAD.
Labels no longer show icons.
- run ControlExample

Changed summary and increased severity.
It was a dumb bug, now fixed.

Fixed&gt; 20030218</WithOutStack>
  </Bug>
  <Bug>
    <BugId amount="31858" />
    <CreationDate amount="2003-02-14 04:24:00 -0500" />
    <DupId amount="" />
    <classification amount="Eclipse" />
    <Product amount="JDT" />
    <component amount="Core" />
    <Version amount="2.1" />
    <rep_platform amount="PC" />
    <op_sys amount="Windows 2000" />
    <priority amount="P3" />
    <bug_severity amount="normal" />
    <Summery>NPE in log</Summery>
    <Patches amount="0" />
    <Stacktraces amount="1">
      <Stacktrace timestamp="1437339868179">
        <Exception>java.lang.NullPointerException</Exception>
        <Reason />
        <Frames>
          <Frame depth="0">org.eclipse.jdt.internal.core.search.processing.JobManager.shutdown(JobManager.java:383)</Frame>
          <Frame depth="1">org.eclipse.jdt.internal.core.search.indexing.IndexManager.shutdown(IndexManager.java:498)</Frame>
          <Frame depth="2">org.eclipse.jdt.internal.core.JavaModelManager.shutdown(JavaModelManager.java:1521)</Frame>
          <Frame depth="3">org.eclipse.jdt.core.JavaCore.shutdown(JavaCore.java:2920)</Frame>
          <Frame depth="4">org.eclipse.core.internal.plugins.PluginRegistry$2.run(PluginRegistry.java:283)</Frame>
          <Frame depth="5">org.eclipse.core.internal.runtime.InternalPlatform.run(InternalPlatform.java:867)</Frame>
          <Frame depth="6">org.eclipse.core.internal.plugins.PluginRegistry$1.visit(PluginRegistry.java:296)</Frame>
          <Frame depth="7">org.eclipse.core.internal.plugins.PluginRegistry.accept(PluginRegistry.java:55)</Frame>
          <Frame depth="8">org.eclipse.core.internal.plugins.PluginRegistry.shutdownPlugins(PluginRegistry.java:299)</Frame>
          <Frame depth="9">org.eclipse.core.internal.plugins.PluginRegistry.shutdown(PluginRegistry.java:265)</Frame>
          <Frame depth="10">org.eclipse.core.internal.runtime.InternalPlatform.loaderShutdown(InternalPlatform.java:517)</Frame>
          <Frame depth="11">sun.reflect.NativeMethodAccessorImpl.invoke0(Native Method)</Frame>
          <Frame depth="12">sun.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:39)</Frame>
          <Frame depth="13">sun.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:25)</Frame>
          <Frame depth="14">java.lang.reflect.Method.invoke(Method.java:324)</Frame>
          <Frame depth="15">org.eclipse.core.internal.boot.InternalBootLoader.shutdown(InternalBootLoader.java:979)</Frame>
          <Frame depth="16">org.eclipse.core.internal.boot.InternalBootLoader.run(InternalBootLoader.java:850)</Frame>
          <Frame depth="17">org.eclipse.core.boot.BootLoader.run(BootLoader.java:461)</Frame>
          <Frame depth="18">sun.reflect.NativeMethodAccessorImpl.invoke0(Native Method)</Frame>
          <Frame depth="19">sun.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:39)</Frame>
          <Frame depth="20">sun.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:25)</Frame>
          <Frame depth="21">java.lang.reflect.Method.invoke(Method.java:324)</Frame>
          <Frame depth="22">org.eclipse.core.launcher.Main.basicRun(Main.java:247)</Frame>
          <Frame depth="23">org.eclipse.core.launcher.Main.run(Main.java:703)</Frame>
          <Frame depth="24">org.eclipse.core.launcher.Main.main(Main.java:539)</Frame>
        </Frames>
      </Stacktrace>
    </Stacktraces>
    <SourceCodeRegions amount="0" />
    <Enumerations amount="0" />
    <bug_status amount="VERIFIED" />
    <resolution amount="FIXED" />
    <WithStack>Found the following NPE in a log file

java.lang.NullPointerException
	at org.eclipse.jdt.internal.core.search.processing.JobManager.shutdown
(JobManager.java:383)
	at org.eclipse.jdt.internal.core.search.indexing.IndexManager.shutdown
(IndexManager.java:498)
	at org.eclipse.jdt.internal.core.JavaModelManager.shutdown
(JavaModelManager.java:1521)
	at org.eclipse.jdt.core.JavaCore.shutdown(JavaCore.java:2920)
	at org.eclipse.core.internal.plugins.PluginRegistry$2.run
(PluginRegistry.java:283)
	at org.eclipse.core.internal.runtime.InternalPlatform.run
(InternalPlatform.java:867)
	at org.eclipse.core.internal.plugins.PluginRegistry$1.visit
(PluginRegistry.java:296)
	at org.eclipse.core.internal.plugins.PluginRegistry.accept
(PluginRegistry.java:55)
	at org.eclipse.core.internal.plugins.PluginRegistry.shutdownPlugins
(PluginRegistry.java:299)
	at org.eclipse.core.internal.plugins.PluginRegistry.shutdown
(PluginRegistry.java:265)
	at org.eclipse.core.internal.runtime.InternalPlatform.loaderShutdown
(InternalPlatform.java:517)
	at sun.reflect.NativeMethodAccessorImpl.invoke0(Native Method)
	at sun.reflect.NativeMethodAccessorImpl.invoke
(NativeMethodAccessorImpl.java:39)
	at sun.reflect.DelegatingMethodAccessorImpl.invoke
(DelegatingMethodAccessorImpl.java:25)
	at java.lang.reflect.Method.invoke(Method.java:324)
	at org.eclipse.core.internal.boot.InternalBootLoader.shutdown
(InternalBootLoader.java:979)
	at org.eclipse.core.internal.boot.InternalBootLoader.run
(InternalBootLoader.java:850)
	at org.eclipse.core.boot.BootLoader.run(BootLoader.java:461)
	at sun.reflect.NativeMethodAccessorImpl.invoke0(Native Method)
	at sun.reflect.NativeMethodAccessorImpl.invoke
(NativeMethodAccessorImpl.java:39)
	at sun.reflect.DelegatingMethodAccessorImpl.invoke
(DelegatingMethodAccessorImpl.java:25)
	at java.lang.reflect.Method.invoke(Method.java:324)
	at org.eclipse.core.launcher.Main.basicRun(Main.java:247)
	at org.eclipse.core.launcher.Main.run(Main.java:703)
	at org.eclipse.core.launcher.Main.main(Main.java:539)
Which build did this occur into ?
M5, found it in the log provided for bug 31729
Added protection against NPE.
Verified.</WithStack>
    <WithOutStack>Found the following NPE in a log file


Which build did this occur into ?
M5, found it in the log provided for bug 31729
Added protection against NPE.
Verified.</WithOutStack>
  </Bug>
  <Bug>
    <BugId amount="31859" />
    <CreationDate amount="2003-02-14 04:30:00 -0500" />
    <DupId amount="" />
    <classification amount="Eclipse" />
    <Product amount="Platform" />
    <component amount="SWT" />
    <Version amount="2.0" />
    <rep_platform amount="PC" />
    <op_sys amount="Windows All" />
    <priority amount="P3" />
    <bug_severity amount="enhancement" />
    <Summery>[OLE] Support for creating an ActiveX Control using SWT</Summery>
    <Patches amount="0" />
    <Stacktraces amount="0" />
    <SourceCodeRegions amount="0" />
    <Enumerations amount="1">
      <Enumeration lines="4">
        <Lines>
          <Line>1. SWT extension</Line>
          <Line>2. Generic MFC ActiveX control</Line>
          <Line>3. Jace patch</Line>
          <Line>4. JavaCOMReg</Line>
        </Lines>
      </Enumeration>
    </Enumerations>
    <bug_status amount="NEW" />
    <resolution amount="" />
    <WithStack>Created attachment 3488
Source code as described in the Bug-Description
The attached zip contains the sources for an ActiveX control which can contain
SWT widgets.
The source could be devided into 4 parts:
1. SWT extension
2. Generic MFC ActiveX control
3. Jace patch
4. JavaCOMReg

The SWT extension contains 4 classes which extend Display and Shell that they
could be used inside an ActiveX control

The generic ActiveX control is a blank container, which passes the windows
messages to ActiveXDisplay and ActiveXShell in the correct way. 

The ActiveX control uses Jace (http://sourceforge.net/projects/jace) to to the
JNI stuff. Because of the special requirements (see below) with Java and
ActiveX, I did a small patch for Jace 1.1 beta2 (I submitted it some month ago
to the Jace project, Toby Reyelts told me he will merge it into the codebase)

JavaComReg: Because more than one SWT ActiveX control could be hosted by one
process, but only on VM can be in one process, all Java ActiveXen need to share
the same VM. Therefore it is necessary that they test if a VM is allready
present (done in the Jace patch) and, because the classpath needs to be set when
the VM is loaded for the first time (when you look at the SUN classloader code,
you see that it needs not, but they sealed this opportunity by making the
classloader final and protected), all Java ActiveXen need to register the jars
they need, and the classpath needs to be build of this registry entries on the
first startup
I will look at this after 2.1.
Are there any plans to implement this feature? This could help to migrate and gain more acceptance in c++/mfc centric organisations, since you could use new swt views in old c++ (or .NET) applications. You can than argue "swt/eclipse is not a one way street", weaken some fears against this new technology! :)
Currently, there is no plan to implement this support by the SWT team.  You can create ActiveX controls in C++ using other tools and embed them in SWT using OleControlSite.

This would be a good candidate for an external contribution.  It is a self contained unit of functionality.
Your bug has been moved to triage, visit http://www.eclipse.org/swt/triage.php for more info.</WithStack>
    <WithOutStack>Created attachment 3488
Source code as described in the Bug-Description
The attached zip contains the sources for an ActiveX control which can contain
SWT widgets.
The source could be devided into 4 parts:
1. SWT extension
2. Generic MFC ActiveX control
3. Jace patch
4. JavaCOMReg

The SWT extension contains 4 classes which extend Display and Shell that they
could be used inside an ActiveX control

The generic ActiveX control is a blank container, which passes the windows
messages to ActiveXDisplay and ActiveXShell in the correct way. 

The ActiveX control uses Jace (http://sourceforge.net/projects/jace) to to the
JNI stuff. Because of the special requirements (see below) with Java and
ActiveX, I did a small patch for Jace 1.1 beta2 (I submitted it some month ago
to the Jace project, Toby Reyelts told me he will merge it into the codebase)

JavaComReg: Because more than one SWT ActiveX control could be hosted by one
process, but only on VM can be in one process, all Java ActiveXen need to share
the same VM. Therefore it is necessary that they test if a VM is allready
present (done in the Jace patch) and, because the classpath needs to be set when
the VM is loaded for the first time (when you look at the SUN classloader code,
you see that it needs not, but they sealed this opportunity by making the
classloader final and protected), all Java ActiveXen need to register the jars
they need, and the classpath needs to be build of this registry entries on the
first startup
I will look at this after 2.1.
Are there any plans to implement this feature? This could help to migrate and gain more acceptance in c++/mfc centric organisations, since you could use new swt views in old c++ (or .NET) applications. You can than argue "swt/eclipse is not a one way street", weaken some fears against this new technology! :)
Currently, there is no plan to implement this support by the SWT team.  You can create ActiveX controls in C++ using other tools and embed them in SWT using OleControlSite.

This would be a good candidate for an external contribution.  It is a self contained unit of functionality.
Your bug has been moved to triage, visit http://www.eclipse.org/swt/triage.php for more info.</WithOutStack>
  </Bug>
  <Bug>
    <BugId amount="31860" />
    <CreationDate amount="2003-02-14 06:09:00 -0500" />
    <DupId amount="31885" />
    <classification amount="Eclipse" />
    <Product amount="Platform" />
    <component amount="UI" />
    <Version amount="2.1" />
    <rep_platform amount="PC" />
    <op_sys amount="Windows 2000" />
    <priority amount="P3" />
    <bug_severity amount="normal" />
    <Summery>[Key Bindings] Lost all my short cuts</Summery>
    <Patches amount="0" />
    <Stacktraces amount="0" />
    <SourceCodeRegions amount="0" />
    <Enumerations amount="0" />
    <bug_status amount="RESOLVED" />
    <resolution amount="DUPLICATE" />
    <WithStack>I20030212

Installed I20030212 and used it with an existing workspace. After working a 
while i got into a state where no short cut was working anymore.
Shutting down eclipse and restarting brought them back.


*** This bug has been marked as a duplicate of 31885 ***</WithStack>
    <WithOutStack>I20030212

Installed I20030212 and used it with an existing workspace. After working a 
while i got into a state where no short cut was working anymore.
Shutting down eclipse and restarting brought them back.


*** This bug has been marked as a duplicate of 31885 ***</WithOutStack>
  </Bug>
  <Bug>
    <BugId amount="31861" />
    <CreationDate amount="2003-02-14 06:13:00 -0500" />
    <DupId amount="" />
    <classification amount="Eclipse" />
    <Product amount="JDT" />
    <component amount="UI" />
    <Version amount="2.1" />
    <rep_platform amount="PC" />
    <op_sys amount="Windows 2000" />
    <priority amount="P3" />
    <bug_severity amount="normal" />
    <Summery>Refactoring / "Convert Nested Type to Top Level" binds to enclosing object too late.</Summery>
    <Patches amount="0" />
    <Stacktraces amount="1">
      <Stacktrace timestamp="1437339868179">
        <Exception>java.lang.NullPointerException</Exception>
        <Reason />
        <Frames>
          <Frame depth="0">Inner.getName(Inner.java:13)</Frame>
          <Frame depth="1">Inner.&lt;init&gt;(Inner.java:8)</Frame>
          <Frame depth="2">Top.&lt;init&gt;(Top.java:4)</Frame>
          <Frame depth="3">Top.main(Top.java:12)</Frame>
        </Frames>
      </Stacktrace>
    </Stacktraces>
    <SourceCodeRegions amount="5">
      <source_code type="class">
        <location start="88" end="446" />
        <code>public class Top {

	public class Inner {

		public Inner() {
			super();
			System.out.println(getName());
		}

		public String getName() {
			return getTopName() + ".Inner";
		}
	}

	public Top() {
		System.out.println(new Inner().getName());
	}

	public String getTopName() {
		return "Top";
	}

	static public void main(String[] argv) {
		new Top();
	}
}</code>
      </source_code>
      <source_code type="import">
        <location start="664" end="688" />
        <code>import java.lang.String;</code>
      </source_code>
      <source_code type="import">
        <location start="689" end="713" />
        <code>import java.lang.System;</code>
      </source_code>
      <source_code type="class">
        <location start="714" end="925" />
        <code>public class Inner {
	private final Top top;

	public Inner(Top top) {
		super();
		System.out.println(getName());
		this.top = top;
	}

	public String getName() {
		return this.top.getTopName() + ".Inner";
	}
}</code>
      </source_code>
      <source_code type="class">
        <location start="926" end="1124" />
        <code>public class Top {

	public Top() {
		System.out.println(new Inner(this).getName());
	}

	public String getTopName() {
		return "Top";
	}

	static public void main(String[] argv) {
		new Top();
	}
}</code>
      </source_code>
    </SourceCodeRegions>
    <Enumerations amount="0" />
    <bug_status amount="RESOLVED" />
    <resolution amount="FIXED" />
    <WithStack>Given the following class:
------------------------------------------------------------
public class Top {

	public class Inner {

		public Inner() {
			super();
			System.out.println(getName());
		}

		public String getName() {
			return getTopName() + ".Inner";
		}
	}

	public Top() {
		System.out.println(new Inner().getName());
	}

	public String getTopName() {
		return "Top";
	}

	static public void main(String[] argv) {
		new Top();
	}
}
------------------------------------------------------------

Refactoring by converting nested type to top level will result
in the two following classes:

------------------------------------------------------------
import java.lang.String;
import java.lang.System;
public class Inner {
	private final Top top;

	public Inner(Top top) {
		super();
		System.out.println(getName());
		this.top = top;
	}

	public String getName() {
		return this.top.getTopName() + ".Inner";
	}
}
public class Top {

	public Top() {
		System.out.println(new Inner(this).getName());
	}

	public String getTopName() {
		return "Top";
	}

	static public void main(String[] argv) {
		new Top();
	}
}

------------------------------------------------------------
... which will result in 
java.lang.NullPointerException
	at Inner.getName(Inner.java:13)
	at Inner.&lt;init&gt;(Inner.java:8)
	at Top.&lt;init&gt;(Top.java:4)
	at Top.main(Top.java:12)
Exception in thread "main" 

because the assignment this.top = top in the constructor for 
Inner is performed after the call to getName(). The correct 
algorithm would be to insert that call after the call to super().

Moreover, the two import from java.lang.* are not necessary and
removed by a later "organize imports"

-Stephane
it lives in the ui component
fyi: the import issue is fixed now (another report)
i have a fix
test added, bug fixed

thanks Stéphane - this is _exactly_ the kind of detailed report we like best</WithStack>
    <WithOutStack>Given the following class:
------------------------------------------------------------
public class Top {

	public class Inner {

		public Inner() {
			super();
			System.out.println(getName());
		}

		public String getName() {
			return getTopName() + ".Inner";
		}
	}

	public Top() {
		System.out.println(new Inner().getName());
	}

	public String getTopName() {
		return "Top";
	}

	static public void main(String[] argv) {
		new Top();
	}
}
------------------------------------------------------------

Refactoring by converting nested type to top level will result
in the two following classes:

------------------------------------------------------------
import java.lang.String;
import java.lang.System;
public class Inner {
	private final Top top;

	public Inner(Top top) {
		super();
		System.out.println(getName());
		this.top = top;
	}

	public String getName() {
		return this.top.getTopName() + ".Inner";
	}
}
public class Top {

	public Top() {
		System.out.println(new Inner(this).getName());
	}

	public String getTopName() {
		return "Top";
	}

	static public void main(String[] argv) {
		new Top();
	}
}

------------------------------------------------------------
... which will result in 

Exception in thread "main" 

because the assignment this.top = top in the constructor for 
Inner is performed after the call to getName(). The correct 
algorithm would be to insert that call after the call to super().

Moreover, the two import from java.lang.* are not necessary and
removed by a later "organize imports"

-Stephane
it lives in the ui component
fyi: the import issue is fixed now (another report)
i have a fix
test added, bug fixed

thanks Stéphane - this is _exactly_ the kind of detailed report we like best</WithOutStack>
  </Bug>
  <Bug>
    <BugId amount="31862" />
    <CreationDate amount="2003-02-14 06:25:00 -0500" />
    <DupId amount="211861" />
    <classification amount="Eclipse" />
    <Product amount="JDT" />
    <component amount="UI" />
    <Version amount="2.1" />
    <rep_platform amount="PC" />
    <op_sys amount="Windows 2000" />
    <priority amount="P3" />
    <bug_severity amount="normal" />
    <Summery>[push down] error condition not detected [refactoring]</Summery>
    <Patches amount="0" />
    <Stacktraces amount="0" />
    <SourceCodeRegions amount="3">
      <source_code type="class">
        <location start="9" end="38" />
        <code>class A{
 public void f(){}
}</code>
      </source_code>
      <source_code type="class">
        <location start="39" end="58" />
        <code>class B extends A{}</code>
      </source_code>
      <source_code type="class">
        <location start="59" end="102" />
        <code>class C{
  void foo(A a){
     a.f();
  }
}</code>
      </source_code>
    </SourceCodeRegions>
    <Enumerations amount="0" />
    <bug_status amount="RESOLVED" />
    <resolution amount="DUPLICATE" />
    <WithStack>20030211
class A{
 public void f(){}
}
class B extends A{}
class C{
  void foo(A a){
     a.f();
  }
}

pushing A.f to B will result in compile error

since we don't want downcasts (and, in general when there's more than 1 
subclass of A, there's nothing to donwcast to), we should detect this case and 
issue an error
Not critical for 2.1, since we get a compile error.
Detecting this case requires scanning all references to the method to be 
pushed down and check if the expression on which they are called is at least 
of type B.

Instead of issue a warning I would prefer a button that computes all methods 
that must stay abstract.


*** This bug has been marked as a duplicate of bug 211861 ***</WithStack>
    <WithOutStack>20030211
class A{
 public void f(){}
}
class B extends A{}
class C{
  void foo(A a){
     a.f();
  }
}

pushing A.f to B will result in compile error

since we don't want downcasts (and, in general when there's more than 1 
subclass of A, there's nothing to donwcast to), we should detect this case and 
issue an error
Not critical for 2.1, since we get a compile error.
Detecting this case requires scanning all references to the method to be 
pushed down and check if the expression on which they are called is at least 
of type B.

Instead of issue a warning I would prefer a button that computes all methods 
that must stay abstract.


*** This bug has been marked as a duplicate of bug 211861 ***</WithOutStack>
  </Bug>
  <Bug>
    <BugId amount="31863" />
    <CreationDate amount="2003-02-14 06:47:00 -0500" />
    <DupId amount="30377" />
    <classification amount="Eclipse" />
    <Product amount="Platform" />
    <component amount="SWT" />
    <Version amount="2.1" />
    <rep_platform amount="PC" />
    <op_sys amount="Linux" />
    <priority amount="P3" />
    <bug_severity amount="normal" />
    <Summery>Caret color always BLACK even when using dark background</Summery>
    <Patches amount="0" />
    <Stacktraces amount="0" />
    <SourceCodeRegions amount="0" />
    <Enumerations amount="0" />
    <bug_status amount="RESOLVED" />
    <resolution amount="DUPLICATE" />
    <WithStack>When using the Eclipse editor with a dark background the caret color stays black always. This means that when you use black as a background the cursor is not visible at all.
Using a lighter background at least shows the cursor but causes a bug in my head (an incredible headache ;-)

It should probably be possible to SET the caret color from the preferences, or it's color could perhaps be calculated from the avg. graylevel of the background color selected.
Are you using Linux GTK or Linux Motif?


*** This bug has been marked as a duplicate of 30377 ***</WithStack>
    <WithOutStack>When using the Eclipse editor with a dark background the caret color stays black always. This means that when you use black as a background the cursor is not visible at all.
Using a lighter background at least shows the cursor but causes a bug in my head (an incredible headache ;-)

It should probably be possible to SET the caret color from the preferences, or it's color could perhaps be calculated from the avg. graylevel of the background color selected.
Are you using Linux GTK or Linux Motif?


*** This bug has been marked as a duplicate of 30377 ***</WithOutStack>
  </Bug>
  <Bug>
    <BugId amount="31864" />
    <CreationDate amount="2003-02-14 06:49:00 -0500" />
    <DupId amount="15625" />
    <classification amount="Eclipse" />
    <Product amount="JDT" />
    <component amount="Core" />
    <Version amount="2.1" />
    <rep_platform amount="All" />
    <op_sys amount="All" />
    <priority amount="P3" />
    <bug_severity amount="enhancement" />
    <Summery>Search for references to local variables</Summery>
    <Patches amount="0" />
    <Stacktraces amount="0" />
    <SourceCodeRegions amount="0" />
    <Enumerations amount="0" />
    <bug_status amount="RESOLVED" />
    <resolution amount="DUPLICATE" />
    <WithStack>It would be nice if search for references worked on local variables.
This isn't supported yet, as a workaround you can use 'ctrl-shift-U' on a 
selected local variable in editor.

Does it do the trick ?
&gt;This isn't supported yet, as a workaround you can use 'ctrl-shift-U' 
&gt;on a selected local variable in editor.
&gt;
&gt;Does it do the trick ?

I was previously using text search(ctrl-f); ctrl-shift-u is an improvement over 
text search. The name of the menu items "occurrences in text file" 
significantly undermarkets its power though.

Actually the search for references is a "workaround" to a different problem I 
was working on at the time: I'm trying to prune away unused code. 

Now that I can rename local variables(wee!!!) I often give iteration variables 
in short methods single letter names, e.g. i,j,k, as that matches better with 
the origin of the algoritms, hence ctrl-shift-u works a lot better than ctrl-f.



Øyvind

We have other PRs tagged for later on this front, to enhance the model for 
supporting local variables.

*** This bug has been marked as a duplicate of 15625 ***</WithStack>
    <WithOutStack>It would be nice if search for references worked on local variables.
This isn't supported yet, as a workaround you can use 'ctrl-shift-U' on a 
selected local variable in editor.

Does it do the trick ?
&gt;This isn't supported yet, as a workaround you can use 'ctrl-shift-U' 
&gt;on a selected local variable in editor.
&gt;
&gt;Does it do the trick ?

I was previously using text search(ctrl-f); ctrl-shift-u is an improvement over 
text search. The name of the menu items "occurrences in text file" 
significantly undermarkets its power though.

Actually the search for references is a "workaround" to a different problem I 
was working on at the time: I'm trying to prune away unused code. 

Now that I can rename local variables(wee!!!) I often give iteration variables 
in short methods single letter names, e.g. i,j,k, as that matches better with 
the origin of the algoritms, hence ctrl-shift-u works a lot better than ctrl-f.



Øyvind

We have other PRs tagged for later on this front, to enhance the model for 
supporting local variables.

*** This bug has been marked as a duplicate of 15625 ***</WithOutStack>
  </Bug>
  <Bug>
    <BugId amount="31865" />
    <CreationDate amount="2003-02-14 08:01:00 -0500" />
    <DupId amount="" />
    <classification amount="Eclipse" />
    <Product amount="JDT" />
    <component amount="UI" />
    <Version amount="2.1" />
    <rep_platform amount="PC" />
    <op_sys amount="Windows 2000" />
    <priority amount="P2" />
    <bug_severity amount="major" />
    <Summery>Package Explorer: Cannot search for references in workspace</Summery>
    <Patches amount="0" />
    <Stacktraces amount="0" />
    <SourceCodeRegions amount="0" />
    <Enumerations amount="3">
      <Enumeration lines="6">
        <Lines>
          <Line>1. Create class X with method foo</Line>
          <Line>2. In Package Explorer, select foo</Line>
          <Line>3. Right click, select References in the pop up menu</Line>
          <Line>Observe: The sub-menu contains only working sets. The other entries (Workspace,</Line>
          <Line>Hierarchy, Working Set...) have disappeared.</Line>
          <Line>Jerome,</Line>
        </Lines>
      </Enumeration>
      <Enumeration lines="12">
        <Lines>
          <Line>1. Start the attached workspace</Line>
          <Line>2. Click on X.java (this will open it as I'm using single-click open)</Line>
          <Line>3. Close editor X.java</Line>
          <Line>4. Select foo and popup the menu</Line>
          <Line>-&gt; The submenu only has 'Test' available</Line>
          <Line>Actually the steps above don't reproduce the problem. Let me try again:</Line>
          <Line>1. Start the attached workspace</Line>
          <Line>2. Click on foo (this will open X.java as I'm using single-click open)</Line>
          <Line>3. Popup the menu</Line>
          <Line>-&gt; The submenu only has 'Test' available</Line>
          <Line>Was caused by the Package Explorer comparer.</Line>
          <Line>Fixed &gt; N20030217</Line>
        </Lines>
      </Enumeration>
      <Enumeration lines="6">
        <Lines>
          <Line>1. Start the attached workspace</Line>
          <Line>2. Click on foo (this will open X.java as I'm using single-click open)</Line>
          <Line>3. Popup the menu</Line>
          <Line>-&gt; The submenu only has 'Test' available</Line>
          <Line>Was caused by the Package Explorer comparer.</Line>
          <Line>Fixed &gt; N20030217</Line>
        </Lines>
      </Enumeration>
    </Enumerations>
    <bug_status amount="RESOLVED" />
    <resolution amount="FIXED" />
    <WithStack>Build 20030213

1. Create class X with method foo
2. In Package Explorer, select foo
3. Right click, select References in the pop up menu
Observe: The sub-menu contains only working sets. The other entries (Workspace, 
Hierarchy, Working Set...) have disappeared.
Jerome,

I can't reproduce this using I200302131253. Is there anything special with your 
workspace. Can you zip it ?
Created attachment 3490
Test workspace 

I'm using I200302131356. Could that be the difference? Anyway I attached a
simple workspace that shows the problem.
To reproduce:
1. Start the attached workspace
2. Click on X.java (this will open it as I'm using single-click open)
3. Close editor X.java
4. Select foo and popup the menu
-&gt; The submenu only has 'Test' available
Actually the steps above don't reproduce the problem. Let me try again:
1. Start the attached workspace
2. Click on foo (this will open X.java as I'm using single-click open)
3. Popup the menu
-&gt; The submenu only has 'Test' available
Was caused by the Package Explorer comparer. 
Fixed &gt; N20030217</WithStack>
    <WithOutStack>Build 20030213

1. Create class X with method foo
2. In Package Explorer, select foo
3. Right click, select References in the pop up menu
Observe: The sub-menu contains only working sets. The other entries (Workspace, 
Hierarchy, Working Set...) have disappeared.
Jerome,

I can't reproduce this using I200302131253. Is there anything special with your 
workspace. Can you zip it ?
Created attachment 3490
Test workspace 

I'm using I200302131356. Could that be the difference? Anyway I attached a
simple workspace that shows the problem.
To reproduce:
1. Start the attached workspace
2. Click on X.java (this will open it as I'm using single-click open)
3. Close editor X.java
4. Select foo and popup the menu
-&gt; The submenu only has 'Test' available
Actually the steps above don't reproduce the problem. Let me try again:
1. Start the attached workspace
2. Click on foo (this will open X.java as I'm using single-click open)
3. Popup the menu
-&gt; The submenu only has 'Test' available
Was caused by the Package Explorer comparer. 
Fixed &gt; N20030217</WithOutStack>
  </Bug>
  <Bug>
    <BugId amount="31866" />
    <CreationDate amount="2003-02-14 08:23:00 -0500" />
    <DupId amount="" />
    <classification amount="Eclipse" />
    <Product amount="Platform" />
    <component amount="SWT" />
    <Version amount="2.1" />
    <rep_platform amount="Macintosh" />
    <op_sys amount="Mac OS X - Carbon (unsup.)" />
    <priority amount="P3" />
    <bug_severity amount="normal" />
    <Summery>Scrolling in Readme editor is delayed</Summery>
    <Patches amount="0" />
    <Stacktraces amount="0" />
    <SourceCodeRegions amount="0" />
    <Enumerations amount="1">
      <Enumeration lines="4">
        <Lines>
          <Line>- open readme editor</Line>
          <Line>- scroll by pressing scroll buttons pressed</Line>
          <Line>Observe: thumb moves but editor contents doesn't scroll until the mouse is released.</Line>
          <Line>Fixed &gt; 20030218</Line>
        </Lines>
      </Enumeration>
    </Enumerations>
    <bug_status amount="RESOLVED" />
    <resolution amount="FIXED" />
    <WithStack>I20030213
- open readme editor
- scroll by pressing scroll buttons pressed
Observe: thumb moves but editor contents doesn't scroll until the mouse is released.
Fixed &gt; 20030218</WithStack>
    <WithOutStack>I20030213
- open readme editor
- scroll by pressing scroll buttons pressed
Observe: thumb moves but editor contents doesn't scroll until the mouse is released.
Fixed &gt; 20030218</WithOutStack>
  </Bug>
  <Bug>
    <BugId amount="31867" />
    <CreationDate amount="2003-02-14 08:49:00 -0500" />
    <DupId amount="" />
    <classification amount="Eclipse" />
    <Product amount="JDT" />
    <component amount="Core" />
    <Version amount="2.1" />
    <rep_platform amount="PC" />
    <op_sys amount="Windows 2000" />
    <priority amount="P3" />
    <bug_severity amount="normal" />
    <Summery>No unused import diagnosis on duplicate import</Summery>
    <Patches amount="0" />
    <Stacktraces amount="0" />
    <SourceCodeRegions amount="3">
      <source_code type="import">
        <location start="76" end="94" />
        <code>import java.io.*;</code>
      </source_code>
      <source_code type="import">
        <location start="95" end="112" />
        <code>import java.io.*;</code>
      </source_code>
      <source_code type="class">
        <location start="113" end="143" />
        <code>class X extends IOException {}</code>
      </source_code>
    </SourceCodeRegions>
    <Enumerations amount="0" />
    <bug_status amount="VERIFIED" />
    <resolution amount="FIXED" />
    <WithStack>Build 2.1M5

Following code doesn't report unused import against duplicate:

import java.io.*;
import java.io.*;
class X extends IOException {}
Fixed in latest.
Verified.</WithStack>
    <WithOutStack>Build 2.1M5

Following code doesn't report unused import against duplicate:

import java.io.*;
import java.io.*;
class X extends IOException {}
Fixed in latest.
Verified.</WithOutStack>
  </Bug>
  <Bug>
    <BugId amount="31868" />
    <CreationDate amount="2003-02-14 09:52:00 -0500" />
    <DupId amount="28343" />
    <classification amount="Eclipse" />
    <Product amount="JDT" />
    <component amount="UI" />
    <Version amount="2.1" />
    <rep_platform amount="PC" />
    <op_sys amount="Windows NT" />
    <priority amount="P3" />
    <bug_severity amount="normal" />
    <Summery>2.1M5 hangs fairly frequently</Summery>
    <Patches amount="0" />
    <Stacktraces amount="0" />
    <SourceCodeRegions amount="0" />
    <Enumerations amount="0" />
    <bug_status amount="RESOLVED" />
    <resolution amount="DUPLICATE" />
    <WithStack>2.1M5 hangs fairly frequently.  I ran it in the debugger hoping to catch such a
hang, and managed to do so.  Attached is the stack trace from the debugger after
suspending the hung instance of eclipse.
Created attachment 3491
Stack trace from hung eclipse 2.1M5
This is related to CVS decoration and a duplicate of bug 28343

*** This bug has been marked as a duplicate of 28343 ***</WithStack>
    <WithOutStack>2.1M5 hangs fairly frequently.  I ran it in the debugger hoping to catch such a
hang, and managed to do so.  Attached is the stack trace from the debugger after
suspending the hung instance of eclipse.
Created attachment 3491
Stack trace from hung eclipse 2.1M5
This is related to CVS decoration and a duplicate of bug 28343

*** This bug has been marked as a duplicate of 28343 ***</WithOutStack>
  </Bug>
  <Bug>
    <BugId amount="31869" />
    <CreationDate amount="2003-02-14 09:52:00 -0500" />
    <DupId amount="30468" />
    <classification amount="Eclipse" />
    <Product amount="JDT" />
    <component amount="Text" />
    <Version amount="2.1" />
    <rep_platform amount="PC" />
    <op_sys amount="Windows XP" />
    <priority amount="P3" />
    <bug_severity amount="major" />
    <Summery>[formatting] Auto-indent strategy upon pasting doesn't work for simple IF statements</Summery>
    <Patches amount="0" />
    <Stacktraces amount="0" />
    <SourceCodeRegions amount="2">
      <source_code type="assignment">
        <location start="97" end="115" />
        <code>variable1 = 4;</code>
      </source_code>
      <source_code type="assignment">
        <location start="258" end="269" />
        <code>var2 = 4;</code>
      </source_code>
    </SourceCodeRegions>
    <Enumerations amount="0" />
    <bug_status amount="RESOLVED" />
    <resolution amount="DUPLICATE" />
    <WithStack>I have the following code (where 2 spaces should be considered a TAB):

  if (condition == true)
    variable1 = 4;

If I swipe variable1 and paste "var2" into the location, the indentation is 
removed, which is wrong.  The result:

  if (condition == true)
  var2 = 4;
Also happens if the "var2" is pasted after at the correct location:
  if (condition == true)
    &lt;paste here&gt;

Does not depend on the fact that spaces are used for tabs. It happens when
"Pasting for correct indentation" is enabled.

It is not possible to enter TABs in bugzilla on Internet Explorer, so that is 
why I said that 2 spaces should be converted to a TAB when cutting and pasting.
This is still missing functionality. Simple if-statements are not determined 
by the auto indent strategy. Smart pasting behaves as the auto indent strategy 
in this case for consisteny issues.
This is a regression from 2.0, not a missing function. This was working 
perfectly in 2.0.

Here is a simpler scenario. Given:
\tif (condition)
\t\t&lt;&lt;CARET&gt;&gt;

If, at the caret location I type the letter "a", it there is no problem.
However, if I post the text "aa", the TAB preceeding the Caret is removed. Why? 
Why is typing "a" and different than typing "aa".
*** Bug 39597 has been marked as a duplicate of this bug. ***
*** Bug 33848 has been marked as a duplicate of this bug. ***
Tom, I add you as cc. The new auto-indent story (used when pressing the enter
key) could be used for pasting as well.
should be easy - the smart pasting code in JavaAutoIndentationStrategy should
use the new indenter infrastructure.
marking as dup as this resolves to the same issue - smart pasting code should
use the new indentation infrastructure.

*** This bug has been marked as a duplicate of 30468 ***</WithStack>
    <WithOutStack>I have the following code (where 2 spaces should be considered a TAB):

  if (condition == true)
    variable1 = 4;

If I swipe variable1 and paste "var2" into the location, the indentation is 
removed, which is wrong.  The result:

  if (condition == true)
  var2 = 4;
Also happens if the "var2" is pasted after at the correct location:
  if (condition == true)
    &lt;paste here&gt;

Does not depend on the fact that spaces are used for tabs. It happens when
"Pasting for correct indentation" is enabled.

It is not possible to enter TABs in bugzilla on Internet Explorer, so that is 
why I said that 2 spaces should be converted to a TAB when cutting and pasting.
This is still missing functionality. Simple if-statements are not determined 
by the auto indent strategy. Smart pasting behaves as the auto indent strategy 
in this case for consisteny issues.
This is a regression from 2.0, not a missing function. This was working 
perfectly in 2.0.

Here is a simpler scenario. Given:
\tif (condition)
\t\t&lt;&lt;CARET&gt;&gt;

If, at the caret location I type the letter "a", it there is no problem.
However, if I post the text "aa", the TAB preceeding the Caret is removed. Why? 
Why is typing "a" and different than typing "aa".
*** Bug 39597 has been marked as a duplicate of this bug. ***
*** Bug 33848 has been marked as a duplicate of this bug. ***
Tom, I add you as cc. The new auto-indent story (used when pressing the enter
key) could be used for pasting as well.
should be easy - the smart pasting code in JavaAutoIndentationStrategy should
use the new indenter infrastructure.
marking as dup as this resolves to the same issue - smart pasting code should
use the new indentation infrastructure.

*** This bug has been marked as a duplicate of 30468 ***</WithOutStack>
  </Bug>
  <Bug>
    <BugId amount="31870" />
    <CreationDate amount="2003-02-14 09:52:00 -0500" />
    <DupId amount="28190" />
    <classification amount="Eclipse" />
    <Product amount="Platform" />
    <component amount="Compare" />
    <Version amount="2.1" />
    <rep_platform amount="PC" />
    <op_sys amount="Windows XP" />
    <priority amount="P3" />
    <bug_severity amount="normal" />
    <Summery>Can no longer resize editors in sync view</Summery>
    <Patches amount="0" />
    <Stacktraces amount="0" />
    <SourceCodeRegions amount="0" />
    <Enumerations amount="0" />
    <bug_status amount="RESOLVED" />
    <resolution amount="DUPLICATE" />
    <WithStack>I20030211
Likely a compare bug, though I'd let you guys determine that for sure.

It was very convenient before that I could select the area between the two 
editors in the sync view, which was one giant sash, and resize it as I like. I 
can't do that any longer.
yes, as a workaround resize with the header of the area.

*** This bug has been marked as a duplicate of 28190 ***</WithStack>
    <WithOutStack>I20030211
Likely a compare bug, though I'd let you guys determine that for sure.

It was very convenient before that I could select the area between the two 
editors in the sync view, which was one giant sash, and resize it as I like. I 
can't do that any longer.
yes, as a workaround resize with the header of the area.

*** This bug has been marked as a duplicate of 28190 ***</WithOutStack>
  </Bug>
  <Bug>
    <BugId amount="31871" />
    <CreationDate amount="2003-02-14 09:53:00 -0500" />
    <DupId amount="" />
    <classification amount="Eclipse" />
    <Product amount="Platform" />
    <component amount="Resources" />
    <Version amount="2.1" />
    <rep_platform amount="PC" />
    <op_sys amount="Windows XP" />
    <priority amount="P3" />
    <bug_severity amount="normal" />
    <Summery>Plugin projects will not run if they reference non-plugin projects</Summery>
    <Patches amount="0" />
    <Stacktraces amount="0" />
    <SourceCodeRegions amount="0" />
    <Enumerations amount="0" />
    <bug_status amount="RESOLVED" />
    <resolution amount="WONTFIX" />
    <WithStack>Summary
-------
When a plugin project references a non-plugin project, the plugin fails to load
in the PDE runtime workbench. This is because the PluginClassLoader does not
contain a path entry for the referenced project (nor any added jars or class
directories, too).

How to reproduce the bug
------------------------
Extract the attached zip file to workspace. It contains two projects, TestLib
(the non-plugin library project) and TestPlugin. Import both projects into
workspace and start a runtime workbench. Open test preference page by selecting
"Window-&gt;Preferences-&gt;Test Preferences".

Result
------
Error message "Unable to create the selected preference page. Reason: Plug-in
TestPlugin was unable to load class bluelava.testplugin.plugin.TestPreferencePage"

Expected Result
---------------
Test preference page is displayed

Why should this work?
---------------------
When developing plugins, you may want to use common libraries that should not be
exposed as plugins themselves. During the development process, these libraries
therefor would be "normal" non-plugin projects. Right now, you have to either
expose this code as a plugin or copy it to your plugin project, leading to "cut
&amp; paste reuse".
Created attachment 3492
Sample project
Closing.  We don't intend to support projects that are not plugins.</WithStack>
    <WithOutStack>Summary
-------
When a plugin project references a non-plugin project, the plugin fails to load
in the PDE runtime workbench. This is because the PluginClassLoader does not
contain a path entry for the referenced project (nor any added jars or class
directories, too).

How to reproduce the bug
------------------------
Extract the attached zip file to workspace. It contains two projects, TestLib
(the non-plugin library project) and TestPlugin. Import both projects into
workspace and start a runtime workbench. Open test preference page by selecting
"Window-&gt;Preferences-&gt;Test Preferences".

Result
------
Error message "Unable to create the selected preference page. Reason: Plug-in
TestPlugin was unable to load class bluelava.testplugin.plugin.TestPreferencePage"

Expected Result
---------------
Test preference page is displayed

Why should this work?
---------------------
When developing plugins, you may want to use common libraries that should not be
exposed as plugins themselves. During the development process, these libraries
therefor would be "normal" non-plugin projects. Right now, you have to either
expose this code as a plugin or copy it to your plugin project, leading to "cut
&amp; paste reuse".
Created attachment 3492
Sample project
Closing.  We don't intend to support projects that are not plugins.</WithOutStack>
  </Bug>
  <Bug>
    <BugId amount="31872" />
    <CreationDate amount="2003-02-14 09:56:00 -0500" />
    <DupId amount="31136" />
    <classification amount="Eclipse" />
    <Product amount="Platform" />
    <component amount="Compare" />
    <Version amount="2.1" />
    <rep_platform amount="PC" />
    <op_sys amount="Windows XP" />
    <priority amount="P3" />
    <bug_severity amount="normal" />
    <Summery>Red exclamation mark scares me</Summery>
    <Patches amount="0" />
    <Stacktraces amount="0" />
    <SourceCodeRegions amount="0" />
    <Enumerations amount="0" />
    <bug_status amount="RESOLVED" />
    <resolution amount="DUPLICATE" />
    <WithStack>I20030211

See attached screenshot. What does the red exclamation mark mean??? It 
frightens me. I have no errors, there are no conflicts, just plain old 
incoming changes. I can't hover over it to get explanation. I'm just going to 
ignore it, but it looks pretty important.
Created attachment 3493
Screencap


*** This bug has been marked as a duplicate of 31136 ***</WithStack>
    <WithOutStack>I20030211

See attached screenshot. What does the red exclamation mark mean??? It 
frightens me. I have no errors, there are no conflicts, just plain old 
incoming changes. I can't hover over it to get explanation. I'm just going to 
ignore it, but it looks pretty important.
Created attachment 3493
Screencap


*** This bug has been marked as a duplicate of 31136 ***</WithOutStack>
  </Bug>
  <Bug>
    <BugId amount="31873" />
    <CreationDate amount="2003-02-14 10:03:00 -0500" />
    <DupId amount="" />
    <classification amount="Eclipse" />
    <Product amount="JDT" />
    <component amount="UI" />
    <Version amount="2.1" />
    <rep_platform amount="PC" />
    <op_sys amount="Windows XP" />
    <priority amount="P4" />
    <bug_severity amount="normal" />
    <Summery>Override methods inserts code with compile errors [code manipulation] [general issue]</Summery>
    <Patches amount="0" />
    <Stacktraces amount="0" />
    <SourceCodeRegions amount="2">
      <source_code type="multicomment">
        <location start="63" end="136" />
        <code>/* (non-Javadoc)
 * @see org.eclipse.ui.IEditorPart#isSaveAsAllowed()
 */</code>
      </source_code>
      <source_code type="functiondef">
        <location start="137" end="210" />
        <code>public boolean isSaveAsAllowed() {
	// TODO Auto-generated method stub

}</code>
      </source_code>
    </SourceCodeRegions>
    <Enumerations amount="0" />
    <bug_status amount="RESOLVED" />
    <resolution amount="WONTFIX" />
    <WithStack>Invoking the override methods action will insert code such as:
/* (non-Javadoc)
 * @see org.eclipse.ui.IEditorPart#isSaveAsAllowed()
 */
public boolean isSaveAsAllowed() {
	// TODO Auto-generated method stub

}

The generates a compile error.  2.0 did not do this.  Isn't the TODO a good 
enough marker?  I don't think a compiler error is desirable.
Actually, the pasted code is not exactly what is inserted.  Inserted methods 
are indented with TABs.  How do I turn this off!
Sorry for the "!". :-)
The compile error got addressed in 200302131253.

Tabs versus spaces are controlled using the code formatter. The newly generated 
method will be formatted.
I was talking about TABs vs. nothing, not spaces.  I don't want methods 
indented inside a class.
Miss read it.

There is now way to control this right now. I did some test and some actions 
probe the indention. For example extract method and quick fixeds. Override 
method doesn't use probing yet and this will very likely not change for 2.1
No action planned to implement indentation probing for 3.0. Hoewever since we 
format the method and the formatter as lots more options this might be 
addressable by setting the correct formatting options as well.
As of now 'LATER' and 'REMIND' resolutions are no longer supported.
Please reopen this bug if it is still valid for you.</WithStack>
    <WithOutStack>Invoking the override methods action will insert code such as:
/* (non-Javadoc)
 * @see org.eclipse.ui.IEditorPart#isSaveAsAllowed()
 */
public boolean isSaveAsAllowed() {
	// TODO Auto-generated method stub

}

The generates a compile error.  2.0 did not do this.  Isn't the TODO a good 
enough marker?  I don't think a compiler error is desirable.
Actually, the pasted code is not exactly what is inserted.  Inserted methods 
are indented with TABs.  How do I turn this off!
Sorry for the "!". :-)
The compile error got addressed in 200302131253.

Tabs versus spaces are controlled using the code formatter. The newly generated 
method will be formatted.
I was talking about TABs vs. nothing, not spaces.  I don't want methods 
indented inside a class.
Miss read it.

There is now way to control this right now. I did some test and some actions 
probe the indention. For example extract method and quick fixeds. Override 
method doesn't use probing yet and this will very likely not change for 2.1
No action planned to implement indentation probing for 3.0. Hoewever since we 
format the method and the formatter as lots more options this might be 
addressable by setting the correct formatting options as well.
As of now 'LATER' and 'REMIND' resolutions are no longer supported.
Please reopen this bug if it is still valid for you.</WithOutStack>
  </Bug>
  <Bug>
    <BugId amount="31874" />
    <CreationDate amount="2003-02-14 10:13:00 -0500" />
    <DupId amount="" />
    <classification amount="Eclipse" />
    <Product amount="JDT" />
    <component amount="UI" />
    <Version amount="2.1" />
    <rep_platform amount="PC" />
    <op_sys amount="Windows 2000" />
    <priority amount="P3" />
    <bug_severity amount="normal" />
    <Summery>"Override/Implement Methods" from interface method not public [code manipulation]</Summery>
    <Patches amount="0" />
    <Stacktraces amount="0" />
    <SourceCodeRegions amount="3">
      <source_code type="functioncall">
        <location start="515" end="528" />
        <code>void foo();</code>
      </source_code>
      <source_code type="class">
        <location start="532" end="563" />
        <code>public class B implements A {
}</code>
      </source_code>
      <source_code type="class">
        <location start="628" end="771" />
        <code>public class B implements A {
	/* (non-Javadoc)
         * @see A#foo()
	 */
	public void foo() {
	   // TODO Auto-generated method stub
	}

	}</code>
      </source_code>
    </SourceCodeRegions>
    <Enumerations amount="0" />
    <bug_status amount="RESOLVED" />
    <resolution amount="WORKSFORME" />
    <WithStack>In my class, I intend to implement a method that the class
inherited from an interface.
The interface has no explicit access control on that method.
So it is public from the interface's point of view.
In my class I have to declare that method public, too.

Eclipse doesn't, when I use "Override/Implement Methods"-wizzard on my class.
(2.1 M5)
Time permitted for 2.1
can't reproduce. the generated code will allways get the 'public' modifier, 
even if the interface method does not declare it

public interface A {
  void foo();
}

public class B implements A {
}

From the context menu choose 'Override/Implement', select foo

public class B implements A {
	/* (non-Javadoc)
         * @see A#foo()
	 */
	public void foo() {
	   // TODO Auto-generated method stub
	}

	}

Please reopen if you have different steps


I could reproduce the missing of the "public" this morning.

I had tried to configure away the Javadoc for this case,
(with less than total success, I still get a Javadoc comment,
though with no text).

Then I went through those Java editor and code formatter
preferences again, possibly changing a bit here and there.

Now I can no longer reproduce the missing of the "public".
So I conclude:

There's a bug somewhere in the Java Editor / Code formating configuration.
But I'm afraid I cannot give you any more specific hints.
It seems to be more of a search for a needle in a haystack.
If you don't want to go searching for it, sigh, resove it as worksforme again.
change it to WORKSFORME. please reopen, or file a new bug if this happens again.</WithStack>
    <WithOutStack>In my class, I intend to implement a method that the class
inherited from an interface.
The interface has no explicit access control on that method.
So it is public from the interface's point of view.
In my class I have to declare that method public, too.

Eclipse doesn't, when I use "Override/Implement Methods"-wizzard on my class.
(2.1 M5)
Time permitted for 2.1
can't reproduce. the generated code will allways get the 'public' modifier, 
even if the interface method does not declare it

public interface A {
  void foo();
}

public class B implements A {
}

From the context menu choose 'Override/Implement', select foo

public class B implements A {
	/* (non-Javadoc)
         * @see A#foo()
	 */
	public void foo() {
	   // TODO Auto-generated method stub
	}

	}

Please reopen if you have different steps


I could reproduce the missing of the "public" this morning.

I had tried to configure away the Javadoc for this case,
(with less than total success, I still get a Javadoc comment,
though with no text).

Then I went through those Java editor and code formatter
preferences again, possibly changing a bit here and there.

Now I can no longer reproduce the missing of the "public".
So I conclude:

There's a bug somewhere in the Java Editor / Code formating configuration.
But I'm afraid I cannot give you any more specific hints.
It seems to be more of a search for a needle in a haystack.
If you don't want to go searching for it, sigh, resove it as worksforme again.
change it to WORKSFORME. please reopen, or file a new bug if this happens again.</WithOutStack>
  </Bug>
  <Bug>
    <BugId amount="31875" />
    <CreationDate amount="2003-02-14 10:15:00 -0500" />
    <DupId amount="" />
    <classification amount="Eclipse" />
    <Product amount="JDT" />
    <component amount="UI" />
    <Version amount="2.1" />
    <rep_platform amount="PC" />
    <op_sys amount="Windows 2000" />
    <priority amount="P3" />
    <bug_severity amount="enhancement" />
    <Summery>Too restrictive quickfix [quick fix]</Summery>
    <Patches amount="0" />
    <Stacktraces amount="0" />
    <SourceCodeRegions amount="2">
      <source_code type="class">
        <location start="0" end="73" />
        <code>public class A {
public void foo() {
  bar();
}

private void bar() {
}
}</code>
      </source_code>
      <source_code type="class">
        <location start="78" end="204" />
        <code>public class B extends A {
public void foo() {
  bar();   // &lt;-- Here bar is not visible since it is declared private in A
}
}</code>
      </source_code>
    </SourceCodeRegions>
    <Enumerations amount="0" />
    <bug_status amount="RESOLVED" />
    <resolution amount="WONTFIX" />
    <WithStack>public class A {
public void foo() {
  bar();
}

private void bar() {
}
}




public class B extends A {
public void foo() {
  bar();   // &lt;-- Here bar is not visible since it is declared private in A
}
}


To fix the method foo() in B, the quickfix only proposes to change the 
visibility of bar() in A, whereas I'd like to redeclare it in B.
Not critical for 2.1
As of now 'LATER' and 'REMIND' resolutions are no longer supported.
Please reopen this bug if it is still valid for you.</WithStack>
    <WithOutStack>public class A {
public void foo() {
  bar();
}

private void bar() {
}
}




public class B extends A {
public void foo() {
  bar();   // &lt;-- Here bar is not visible since it is declared private in A
}
}


To fix the method foo() in B, the quickfix only proposes to change the 
visibility of bar() in A, whereas I'd like to redeclare it in B.
Not critical for 2.1
As of now 'LATER' and 'REMIND' resolutions are no longer supported.
Please reopen this bug if it is still valid for you.</WithOutStack>
  </Bug>
  <Bug>
    <BugId amount="31876" />
    <CreationDate amount="2003-02-14 10:41:00 -0500" />
    <DupId amount="" />
    <classification amount="Eclipse" />
    <Product amount="Platform" />
    <component amount="Ant" />
    <Version amount="2.1" />
    <rep_platform amount="PC" />
    <op_sys amount="Windows 2000" />
    <priority amount="P2" />
    <bug_severity amount="normal" />
    <Summery>ClassCastException code assisting in Ant Editor</Summery>
    <Patches amount="0" />
    <Stacktraces amount="0" />
    <SourceCodeRegions amount="0" />
    <Enumerations amount="0" />
    <bug_status amount="VERIFIED" />
    <resolution amount="FIXED" />
    <WithStack>Thread [main] (Suspended (exception ClassCastException))
	ProjectHelper.configureProject(Project, File, String) line: 85 (out of 
synch)
	PlantyCompletionProcessor.findPropertiesFromDocument(String) line: 1084
	PlantyCompletionProcessor.getPropertyProposals(String, String, int) 
line: 502
	PlantyCompletionProcessor.getProposalsFromDocument(String, String) 
line: 386
	PlantyCompletionProcessor.determineProposals() line: 345
	PlantyCompletionProcessor.computeCompletionProposals(ITextViewer, int) 
line: 274
	ContentAssistant.computeCompletionProposals(ITextViewer, int) line: 1281
	CompletionProposalPopup.computeProposals(int) line: 178
	CompletionProposalPopup.access$7(CompletionProposalPopup, int) line: 177
	CompletionProposalPopup$3.run() line: 139
	BusyIndicator.showWhile(Display, Runnable) line: 65
	CompletionProposalPopup.showProposals(boolean) line: 134
	ContentAssistant.showPossibleCompletions() line: 1201
	SourceViewer.doOperation(int) line: 475
	ContentAssistAction$1.run() line: 84
	BusyIndicator.showWhile(Display, Runnable) line: 65
	ContentAssistAction.run() line: 82
	ContentAssistAction(Action).runWithEvent(Event) line: 804
	WWinKeyBindingService.invoke(String, Event) line: 135
	WWinKeyBindingService.pressed(KeyStroke, Event) line: 116
	WWinKeyBindingService$6.widgetSelected(SelectionEvent) line: 365
	AcceleratorMenu$2.handleEvent(Event) line: 55
	EventTable.sendEvent(Event) line: 77
	MenuItem(Widget).sendEvent(Event) line: 836
	Display.runDeferredEvents() line: 1692
	Display.readAndDispatch() line: 1410
	Workbench.runEventLoop(Window$IExceptionHandler) line: 1289
	Workbench.run(Object) line: 1272
	InternalBootLoader.run(String, URL, String, String[], Runnable) line: 
845
	BootLoader.run(String, URL, String, String[], Runnable) line: 461
	NativeMethodAccessorImpl.invoke0(Method, Object, Object[]) line: not 
available [native method]
	NativeMethodAccessorImpl.invoke(Object, Object[]) line: 39
	DelegatingMethodAccessorImpl.invoke(Object, Object[]) line: 25
	Method.invoke(Object, Object[]) line: 324
	Main.basicRun(String[]) line: 247
	Main.run(String[]) line: 703
	Main.main(String[]) line: 539
From my refactoring of these classes.
Please verify changes to ProjectHelper (turns out the test suite was correct :-
) )
Verified code.</WithStack>
    <WithOutStack>Thread [main] (Suspended (exception ClassCastException))
	ProjectHelper.configureProject(Project, File, String) line: 85 (out of 
synch)
	PlantyCompletionProcessor.findPropertiesFromDocument(String) line: 1084
	PlantyCompletionProcessor.getPropertyProposals(String, String, int) 
line: 502
	PlantyCompletionProcessor.getProposalsFromDocument(String, String) 
line: 386
	PlantyCompletionProcessor.determineProposals() line: 345
	PlantyCompletionProcessor.computeCompletionProposals(ITextViewer, int) 
line: 274
	ContentAssistant.computeCompletionProposals(ITextViewer, int) line: 1281
	CompletionProposalPopup.computeProposals(int) line: 178
	CompletionProposalPopup.access$7(CompletionProposalPopup, int) line: 177
	CompletionProposalPopup$3.run() line: 139
	BusyIndicator.showWhile(Display, Runnable) line: 65
	CompletionProposalPopup.showProposals(boolean) line: 134
	ContentAssistant.showPossibleCompletions() line: 1201
	SourceViewer.doOperation(int) line: 475
	ContentAssistAction$1.run() line: 84
	BusyIndicator.showWhile(Display, Runnable) line: 65
	ContentAssistAction.run() line: 82
	ContentAssistAction(Action).runWithEvent(Event) line: 804
	WWinKeyBindingService.invoke(String, Event) line: 135
	WWinKeyBindingService.pressed(KeyStroke, Event) line: 116
	WWinKeyBindingService$6.widgetSelected(SelectionEvent) line: 365
	AcceleratorMenu$2.handleEvent(Event) line: 55
	EventTable.sendEvent(Event) line: 77
	MenuItem(Widget).sendEvent(Event) line: 836
	Display.runDeferredEvents() line: 1692
	Display.readAndDispatch() line: 1410
	Workbench.runEventLoop(Window$IExceptionHandler) line: 1289
	Workbench.run(Object) line: 1272
	InternalBootLoader.run(String, URL, String, String[], Runnable) line: 
845
	BootLoader.run(String, URL, String, String[], Runnable) line: 461
	NativeMethodAccessorImpl.invoke0(Method, Object, Object[]) line: not 
available [native method]
	NativeMethodAccessorImpl.invoke(Object, Object[]) line: 39
	DelegatingMethodAccessorImpl.invoke(Object, Object[]) line: 25
	Method.invoke(Object, Object[]) line: 324
	Main.basicRun(String[]) line: 247
	Main.run(String[]) line: 703
	Main.main(String[]) line: 539
From my refactoring of these classes.
Please verify changes to ProjectHelper (turns out the test suite was correct :-
) )
Verified code.</WithOutStack>
  </Bug>
  <Bug>
    <BugId amount="31877" />
    <CreationDate amount="2003-02-14 10:46:00 -0500" />
    <DupId amount="31891" />
    <classification amount="Eclipse" />
    <Product amount="Platform" />
    <component amount="Text" />
    <Version amount="2.1" />
    <rep_platform amount="PC" />
    <op_sys amount="Windows XP" />
    <priority amount="P3" />
    <bug_severity amount="critical" />
    <Summery>Deadlock in PDE</Summery>
    <Patches amount="0" />
    <Stacktraces amount="0" />
    <SourceCodeRegions amount="0" />
    <Enumerations amount="0" />
    <bug_status amount="RESOLVED" />
    <resolution amount="DUPLICATE" />
    <WithStack>I opened the "ANT.." dialog on my plugin.xml file by mistake.  When I tried to 
close it, it wouldn't respond. The UI is locked for several minutes.

D:\Eclipse2.1M5&gt;c:\jdk1.3.1\jre\bin\java -Xms300M -Xmx800M -verify -cp startup.j
ar org.eclipse.core.launcher.Main -application org.eclipse.ui.workbench -data d:
\ws\gef
Exception in thread "main" Full thread dump:

"org.eclipse.pde.internal.ui.editor.manifest.NotifyingReconciler" daemon prio=2
tid=0x3804a700 nid=0x638 waiting on monitor [0x38c5f000..0x38c5fdbc]
        at java.lang.Object.wait(Native Method)
        at org.eclipse.jface.text.reconciler.AbstractReconciler$BackgroundThread
.run(AbstractReconciler.java:161)

"org.eclipse.jdt.internal.ui.text.JavaReconciler" daemon prio=2 tid=0x3817ae08 n
id=0xf08 waiting on monitor [0x38a5f000..0x38a5fdbc]
        at java.lang.Object.wait(Native Method)
        at org.eclipse.jface.text.reconciler.AbstractReconciler$BackgroundThread
.run(AbstractReconciler.java:161)

"org.eclipse.jdt.internal.ui.text.JavaReconciler" daemon prio=2 tid=0x38004b48 n
id=0xac0 waiting on monitor [0x387af000..0x387afdbc]
        at java.lang.Object.wait(Native Method)
        at org.eclipse.jface.text.reconciler.AbstractReconciler$BackgroundThread
.run(AbstractReconciler.java:161)

"org.eclipse.jdt.internal.ui.text.JavaReconciler" daemon prio=2 tid=0x3815fac8 n
id=0xf58 waiting on monitor [0x37e8f000..0x37e8fdbc]
        at java.lang.Object.wait(Native Method)
        at org.eclipse.jface.text.reconciler.AbstractReconciler$BackgroundThread
.run(AbstractReconciler.java:161)

"org.eclipse.jdt.internal.ui.text.JavaReconciler" daemon prio=2 tid=0x3811ed78 n
id=0xc44 waiting on monitor [0x3882f000..0x3882fdbc]
        at java.lang.Object.wait(Native Method)
        at org.eclipse.jface.text.reconciler.AbstractReconciler$BackgroundThread
.run(AbstractReconciler.java:161)

"Debug async queue" prio=5 tid=0x38052c38 nid=0x740 waiting on monitor [0x38c9f0
00..0x38c9fdbc]
        at java.lang.Object.wait(Native Method)
        at java.lang.Object.wait(Object.java:415)
        at org.eclipse.debug.core.DebugPlugin$AsynchRunner.run(DebugPlugin.java:
700)
        at java.lang.Thread.run(Thread.java:479)

"org.eclipse.jdt.internal.ui.text.JavaReconciler" daemon prio=2 tid=0x37f8ef70 n
id=0x988 waiting on monitor [0x37d1f000..0x37d1fdbc]
        at java.lang.Object.wait(Native Method)
        at org.eclipse.jface.text.reconciler.AbstractReconciler$BackgroundThread
.run(AbstractReconciler.java:161)

"SeedGenerator Thread" daemon prio=2 tid=0x38064d48 nid=0xeac waiting on monitor
 [0x3876f000..0x3876fdbc]
        at java.lang.Object.wait(Native Method)
        at java.lang.Object.wait(Object.java:415)
        at sun.security.provider.SeedGenerator.run(SeedGenerator.java:100)
        at java.lang.Thread.run(Thread.java:479)

"Decoration" prio=2 tid=0x37277fa0 nid=0xe40 waiting on monitor [0x3788f000..0x3
788fdbc]
        at java.lang.Object.wait(Native Method)
        at java.lang.Object.wait(Object.java:415)
        at org.eclipse.ui.internal.decorators.DecorationScheduler.next(Decoratio
nScheduler.java:247)
        at org.eclipse.ui.internal.decorators.DecorationScheduler$3.run(Decorati
onScheduler.java:273)
        at java.lang.Thread.run(Thread.java:479)

"Java indexing" daemon prio=4 tid=0x3726d530 nid=0x220 waiting on monitor [0x378
4f000..0x3784fdbc]
        at java.lang.Thread.sleep(Native Method)
        at org.eclipse.jdt.internal.core.search.processing.JobManager.run(JobMan
ager.java:334)
        at java.lang.Thread.run(Thread.java:479)

"Signal Dispatcher" daemon prio=10 tid=0x8eee70 nid=0x594 waiting on monitor [0.
.0]

"Finalizer" daemon prio=9 tid=0x8ee600 nid=0xf60 waiting on monitor [0x36f9f000.
.0x36f9fdbc]
        at java.lang.Object.wait(Native Method)
        at java.lang.ref.ReferenceQueue.remove(ReferenceQueue.java:103)
        at java.lang.ref.ReferenceQueue.remove(ReferenceQueue.java:118)
        at java.lang.ref.Finalizer$FinalizerThread.run(Finalizer.java:157)

"Reference Handler" daemon prio=10 tid=0x8eebc0 nid=0x944 waiting on monitor [0x
36f5f000..0x36f5fdbc]
        at java.lang.Object.wait(Native Method)
        at java.lang.Object.wait(Object.java:415)
        at java.lang.ref.Reference$ReferenceHandler.run(Reference.java:105)

"main" prio=5 tid=0x34580 nid=0x660 waiting on monitor [0..0x7fc34]

"VM Thread" prio=5 tid=0x8ece68 nid=0xfcc runnable

"VM Periodic Task Thread" prio=10 tid=0x8985c0 nid=0xc84 waiting on monitor
"Suspend Checker Thread" prio=10 tid=0x9162f8 nid=0x458 runnable
Moving to JFace text for comment.
*** Bug 31158 has been marked as a duplicate of this bug. ***


*** This bug has been marked as a duplicate of 31891 ***</WithStack>
    <WithOutStack>I opened the "ANT.." dialog on my plugin.xml file by mistake.  When I tried to 
close it, it wouldn't respond. The UI is locked for several minutes.

D:\Eclipse2.1M5&gt;c:\jdk1.3.1\jre\bin\java -Xms300M -Xmx800M -verify -cp startup.j
ar org.eclipse.core.launcher.Main -application org.eclipse.ui.workbench -data d:
\ws\gef
Exception in thread "main" Full thread dump:

"org.eclipse.pde.internal.ui.editor.manifest.NotifyingReconciler" daemon prio=2
tid=0x3804a700 nid=0x638 waiting on monitor [0x38c5f000..0x38c5fdbc]
        at java.lang.Object.wait(Native Method)
        at org.eclipse.jface.text.reconciler.AbstractReconciler$BackgroundThread
.run(AbstractReconciler.java:161)

"org.eclipse.jdt.internal.ui.text.JavaReconciler" daemon prio=2 tid=0x3817ae08 n
id=0xf08 waiting on monitor [0x38a5f000..0x38a5fdbc]
        at java.lang.Object.wait(Native Method)
        at org.eclipse.jface.text.reconciler.AbstractReconciler$BackgroundThread
.run(AbstractReconciler.java:161)

"org.eclipse.jdt.internal.ui.text.JavaReconciler" daemon prio=2 tid=0x38004b48 n
id=0xac0 waiting on monitor [0x387af000..0x387afdbc]
        at java.lang.Object.wait(Native Method)
        at org.eclipse.jface.text.reconciler.AbstractReconciler$BackgroundThread
.run(AbstractReconciler.java:161)

"org.eclipse.jdt.internal.ui.text.JavaReconciler" daemon prio=2 tid=0x3815fac8 n
id=0xf58 waiting on monitor [0x37e8f000..0x37e8fdbc]
        at java.lang.Object.wait(Native Method)
        at org.eclipse.jface.text.reconciler.AbstractReconciler$BackgroundThread
.run(AbstractReconciler.java:161)

"org.eclipse.jdt.internal.ui.text.JavaReconciler" daemon prio=2 tid=0x3811ed78 n
id=0xc44 waiting on monitor [0x3882f000..0x3882fdbc]
        at java.lang.Object.wait(Native Method)
        at org.eclipse.jface.text.reconciler.AbstractReconciler$BackgroundThread
.run(AbstractReconciler.java:161)

"Debug async queue" prio=5 tid=0x38052c38 nid=0x740 waiting on monitor [0x38c9f0
00..0x38c9fdbc]
        at java.lang.Object.wait(Native Method)
        at java.lang.Object.wait(Object.java:415)
        at org.eclipse.debug.core.DebugPlugin$AsynchRunner.run(DebugPlugin.java:
700)
        at java.lang.Thread.run(Thread.java:479)

"org.eclipse.jdt.internal.ui.text.JavaReconciler" daemon prio=2 tid=0x37f8ef70 n
id=0x988 waiting on monitor [0x37d1f000..0x37d1fdbc]
        at java.lang.Object.wait(Native Method)
        at org.eclipse.jface.text.reconciler.AbstractReconciler$BackgroundThread
.run(AbstractReconciler.java:161)

"SeedGenerator Thread" daemon prio=2 tid=0x38064d48 nid=0xeac waiting on monitor
 [0x3876f000..0x3876fdbc]
        at java.lang.Object.wait(Native Method)
        at java.lang.Object.wait(Object.java:415)
        at sun.security.provider.SeedGenerator.run(SeedGenerator.java:100)
        at java.lang.Thread.run(Thread.java:479)

"Decoration" prio=2 tid=0x37277fa0 nid=0xe40 waiting on monitor [0x3788f000..0x3
788fdbc]
        at java.lang.Object.wait(Native Method)
        at java.lang.Object.wait(Object.java:415)
        at org.eclipse.ui.internal.decorators.DecorationScheduler.next(Decoratio
nScheduler.java:247)
        at org.eclipse.ui.internal.decorators.DecorationScheduler$3.run(Decorati
onScheduler.java:273)
        at java.lang.Thread.run(Thread.java:479)

"Java indexing" daemon prio=4 tid=0x3726d530 nid=0x220 waiting on monitor [0x378
4f000..0x3784fdbc]
        at java.lang.Thread.sleep(Native Method)
        at org.eclipse.jdt.internal.core.search.processing.JobManager.run(JobMan
ager.java:334)
        at java.lang.Thread.run(Thread.java:479)

"Signal Dispatcher" daemon prio=10 tid=0x8eee70 nid=0x594 waiting on monitor [0.
.0]

"Finalizer" daemon prio=9 tid=0x8ee600 nid=0xf60 waiting on monitor [0x36f9f000.
.0x36f9fdbc]
        at java.lang.Object.wait(Native Method)
        at java.lang.ref.ReferenceQueue.remove(ReferenceQueue.java:103)
        at java.lang.ref.ReferenceQueue.remove(ReferenceQueue.java:118)
        at java.lang.ref.Finalizer$FinalizerThread.run(Finalizer.java:157)

"Reference Handler" daemon prio=10 tid=0x8eebc0 nid=0x944 waiting on monitor [0x
36f5f000..0x36f5fdbc]
        at java.lang.Object.wait(Native Method)
        at java.lang.Object.wait(Object.java:415)
        at java.lang.ref.Reference$ReferenceHandler.run(Reference.java:105)

"main" prio=5 tid=0x34580 nid=0x660 waiting on monitor [0..0x7fc34]

"VM Thread" prio=5 tid=0x8ece68 nid=0xfcc runnable

"VM Periodic Task Thread" prio=10 tid=0x8985c0 nid=0xc84 waiting on monitor
"Suspend Checker Thread" prio=10 tid=0x9162f8 nid=0x458 runnable
Moving to JFace text for comment.
*** Bug 31158 has been marked as a duplicate of this bug. ***


*** This bug has been marked as a duplicate of 31891 ***</WithOutStack>
  </Bug>
  <Bug>
    <BugId amount="31878" />
    <CreationDate amount="2003-02-14 10:51:00 -0500" />
    <DupId amount="30596" />
    <classification amount="Eclipse" />
    <Product amount="Platform" />
    <component amount="Ant" />
    <Version amount="2.1" />
    <rep_platform amount="PC" />
    <op_sys amount="Windows 2000" />
    <priority amount="P3" />
    <bug_severity amount="normal" />
    <Summery>AntEditor test is failing</Summery>
    <Patches amount="0" />
    <Stacktraces amount="1">
      <Stacktrace timestamp="1437339868197">
        <Exception>junit.framework.AssertionFailedError</Exception>
        <Reason>expected:&lt;val2&gt; but was:&lt;null&gt;</Reason>
        <Frames>
          <Frame depth="0">junit.framework.Assert.fail(Assert.java:47)</Frame>
          <Frame depth="1">junit.framework.Assert.failNotEquals(Assert.java:282)</Frame>
          <Frame depth="2">junit.framework.Assert.assertEquals(Assert.java:64)</Frame>
          <Frame depth="3">junit.framework.Assert.assertEquals(Assert.java:71)</Frame>
          <Frame depth="4">org.eclipse.ui.externaltools.internal.ant.editor.test.CodeCompletionTest.testBuildWithProperties(CodeCompletionTest.java:339)</Frame>
          <Frame depth="5">sun.reflect.NativeMethodAccessorImpl.invoke0(Native Method)</Frame>
          <Frame depth="6">sun.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:39)</Frame>
          <Frame depth="7">sun.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:25)</Frame>
          <Frame depth="8">java.lang.reflect.Method.invoke(Method.java:324)</Frame>
          <Frame depth="9">junit.framework.TestCase.runTest(TestCase.java:154)</Frame>
          <Frame depth="10">junit.framework.TestCase.runBare(TestCase.java:127)</Frame>
          <Frame depth="11">junit.framework.TestResult$1.protect(TestResult.java:106)</Frame>
          <Frame depth="12">junit.framework.TestResult.runProtected(TestResult.java:124)</Frame>
          <Frame depth="13">junit.framework.TestResult.run(TestResult.java:109)</Frame>
          <Frame depth="14">junit.framework.TestCase.run(TestCase.java:118)</Frame>
          <Frame depth="15">junit.framework.TestSuite.runTest(TestSuite.java:208)</Frame>
          <Frame depth="16">junit.framework.TestSuite.run(TestSuite.java:203)</Frame>
          <Frame depth="17">junit.framework.TestSuite.runTest(TestSuite.java:208)</Frame>
          <Frame depth="18">junit.framework.TestSuite.run(TestSuite.java:203)</Frame>
          <Frame depth="19">org.eclipse.jdt.internal.junit.runner.RemoteTestRunner.runTests(RemoteTestRunner.java:377)</Frame>
          <Frame depth="20">org.eclipse.jdt.internal.junit.runner.RemoteTestRunner.run(RemoteTestRunner.java:261)</Frame>
          <Frame depth="21">org.eclipse.jdt.internal.junit.runner.RemoteTestRunner.main(RemoteTestRunner.java:152)</Frame>
        </Frames>
      </Stacktrace>
    </Stacktraces>
    <SourceCodeRegions amount="0" />
    <Enumerations amount="0" />
    <bug_status amount="RESOLVED" />
    <resolution amount="DUPLICATE" />
    <WithStack>junit.framework.AssertionFailedError: expected:&lt;val2&gt; but was:&lt;null&gt;
	at junit.framework.Assert.fail(Assert.java:47)
	at junit.framework.Assert.failNotEquals(Assert.java:282)
	at junit.framework.Assert.assertEquals(Assert.java:64)
	at junit.framework.Assert.assertEquals(Assert.java:71)
	at 
org.eclipse.ui.externaltools.internal.ant.editor.test.CodeCompletionTest.testBui
ldWithProperties(CodeCompletionTest.java:339)
	at sun.reflect.NativeMethodAccessorImpl.invoke0(Native Method)
	at sun.reflect.NativeMethodAccessorImpl.invoke
(NativeMethodAccessorImpl.java:39)
	at sun.reflect.DelegatingMethodAccessorImpl.invoke
(DelegatingMethodAccessorImpl.java:25)
	at java.lang.reflect.Method.invoke(Method.java:324)
	at junit.framework.TestCase.runTest(TestCase.java:154)
	at junit.framework.TestCase.runBare(TestCase.java:127)
	at junit.framework.TestResult$1.protect(TestResult.java:106)
	at junit.framework.TestResult.runProtected(TestResult.java:124)
	at junit.framework.TestResult.run(TestResult.java:109)
	at junit.framework.TestCase.run(TestCase.java:118)
	at junit.framework.TestSuite.runTest(TestSuite.java:208)
	at junit.framework.TestSuite.run(TestSuite.java:203)
	at junit.framework.TestSuite.runTest(TestSuite.java:208)
	at junit.framework.TestSuite.run(TestSuite.java:203)
	at org.eclipse.jdt.internal.junit.runner.RemoteTestRunner.runTests
(RemoteTestRunner.java:377)
	at org.eclipse.jdt.internal.junit.runner.RemoteTestRunner.run
(RemoteTestRunner.java:261)
	at org.eclipse.jdt.internal.junit.runner.RemoteTestRunner.main
(RemoteTestRunner.java:152)


*** This bug has been marked as a duplicate of 30596 ***</WithStack>
    <WithOutStack>*** This bug has been marked as a duplicate of 30596 ***</WithOutStack>
  </Bug>
  <Bug>
    <BugId amount="31879" />
    <CreationDate amount="2003-02-14 11:08:00 -0500" />
    <DupId amount="" />
    <classification amount="Eclipse" />
    <Product amount="Platform" />
    <component amount="UI" />
    <Version amount="2.1" />
    <rep_platform amount="PC" />
    <op_sys amount="Windows 2000" />
    <priority amount="P4" />
    <bug_severity amount="enhancement" />
    <Summery>[Dialogs] Open type list doesn't wrap</Summery>
    <Patches amount="0" />
    <Stacktraces amount="0" />
    <SourceCodeRegions amount="0" />
    <Enumerations amount="1">
      <Enumeration lines="5">
        <Lines>
          <Line>1. Navigate-&gt;Open Type...</Line>
          <Line>2. Type in 'Object'</Line>
          <Line>3. Press the TAB key so as to give the 'Matching types' list the focus</Line>
          <Line>4. Pres the UP key</Line>
          <Line>Observe: The selection doesn't change.</Line>
        </Lines>
      </Enumeration>
    </Enumerations>
    <bug_status amount="RESOLVED" />
    <resolution amount="WONTFIX" />
    <WithStack>Build 20030213

1. Navigate-&gt;Open Type...
2. Type in 'Object'
3. Press the TAB key so as to give the 'Matching types' list the focus
4. Pres the UP key
Observe: The selection doesn't change.

It used to wrap to the end of the list.
This dialog is provided by Platform/UI. May be related to bug 31597
2.0 did not have this behaviour. I will mark this as a feature request.
I was certain I saw it in a recent build. But apparently it was in my dream :-)
Like a French free kick going through the uprights in a France-England rugby 
game....
Right. English people don't do any good for me lately :-)
There are currently no plans to work on this feature</WithStack>
    <WithOutStack>Build 20030213

1. Navigate-&gt;Open Type...
2. Type in 'Object'
3. Press the TAB key so as to give the 'Matching types' list the focus
4. Pres the UP key
Observe: The selection doesn't change.

It used to wrap to the end of the list.
This dialog is provided by Platform/UI. May be related to bug 31597
2.0 did not have this behaviour. I will mark this as a feature request.
I was certain I saw it in a recent build. But apparently it was in my dream :-)
Like a French free kick going through the uprights in a France-England rugby 
game....
Right. English people don't do any good for me lately :-)
There are currently no plans to work on this feature</WithOutStack>
  </Bug>
  <Bug>
    <BugId amount="31880" />
    <CreationDate amount="2003-02-14 11:21:00 -0500" />
    <DupId amount="" />
    <classification amount="Eclipse" />
    <Product amount="Platform" />
    <component amount="SWT" />
    <Version amount="2.1" />
    <rep_platform amount="PC" />
    <op_sys amount="Windows 2000" />
    <priority amount="P3" />
    <bug_severity amount="normal" />
    <Summery>Layout bug in commit menu</Summery>
    <Patches amount="0" />
    <Stacktraces amount="0" />
    <SourceCodeRegions amount="0" />
    <Enumerations amount="0" />
    <bug_status amount="RESOLVED" />
    <resolution amount="FIXED" />
    <WithStack>I accidentally resized the commit window and discovered that there is something 
screwy going on with the layout.

I'll attach a picture.
Created attachment 3497
Strange layout
The commit comment dialog belongs to VCM.
dupe, orig moved to SWT
Moving to SWT to identify duplicate.
*** Bug 31638 has been marked as a duplicate of this bug. ***
This bug has been fixed in I20030214.</WithStack>
    <WithOutStack>I accidentally resized the commit window and discovered that there is something 
screwy going on with the layout.

I'll attach a picture.
Created attachment 3497
Strange layout
The commit comment dialog belongs to VCM.
dupe, orig moved to SWT
Moving to SWT to identify duplicate.
*** Bug 31638 has been marked as a duplicate of this bug. ***
This bug has been fixed in I20030214.</WithOutStack>
  </Bug>
  <Bug>
    <BugId amount="31881" />
    <CreationDate amount="2003-02-14 11:23:00 -0500" />
    <DupId amount="" />
    <classification amount="Eclipse" />
    <Product amount="JDT" />
    <component amount="UI" />
    <Version amount="2.1" />
    <rep_platform amount="PC" />
    <op_sys amount="Windows XP" />
    <priority amount="P3" />
    <bug_severity amount="enhancement" />
    <Summery>Override constructors is either all or none [code manipulation]</Summery>
    <Patches amount="0" />
    <Stacktraces amount="0" />
    <SourceCodeRegions amount="0" />
    <Enumerations amount="0" />
    <bug_status amount="RESOLVED" />
    <resolution amount="FIXED" />
    <WithStack>Why can I override methods one at a time, but contructors is either all or 
none?  I should be able to choose which constructor I want to override.

A quick fix for 2.1 might be to show constructors in the override methods 
dialog.  Why aren't they there already? If you add a new checkbox tree dialog 
for override constructors, the user will have to invoke 2 different dialogs 
to "fill out" a subclass.  I'd rather just open one dialog.
Good suggestion, but will very likely not happen for 2.1 since it is feature 
work.
fixed in 3.0 M2</WithStack>
    <WithOutStack>Why can I override methods one at a time, but contructors is either all or 
none?  I should be able to choose which constructor I want to override.

A quick fix for 2.1 might be to show constructors in the override methods 
dialog.  Why aren't they there already? If you add a new checkbox tree dialog 
for override constructors, the user will have to invoke 2 different dialogs 
to "fill out" a subclass.  I'd rather just open one dialog.
Good suggestion, but will very likely not happen for 2.1 since it is feature 
work.
fixed in 3.0 M2</WithOutStack>
  </Bug>
  <Bug>
    <BugId amount="31882" />
    <CreationDate amount="2003-02-14 11:28:00 -0500" />
    <DupId amount="" />
    <classification amount="Eclipse" />
    <Product amount="JDT" />
    <component amount="Debug" />
    <Version amount="2.1" />
    <rep_platform amount="PC" />
    <op_sys amount="Windows 2000" />
    <priority amount="P2" />
    <bug_severity amount="normal" />
    <Summery>use POST_AUTO_BUILD listener for breakpoint update</Summery>
    <Patches amount="0" />
    <Stacktraces amount="0" />
    <SourceCodeRegions amount="0" />
    <Enumerations amount="0" />
    <bug_status amount="VERIFIED" />
    <resolution amount="FIXED" />
    <WithStack>The Java debug options manager should use the POST_AUTO_BUILD resource change 
notification to update its "compilation error" breakpoint. This would avoid the 
need to fork a thread to update the breakpoint.
Fixed. [Note, I filed bug 31888 while fixing this bug].
please verify, Jared.
*** Bug 31760 has been marked as a duplicate of this bug. ***
Verified.</WithStack>
    <WithOutStack>The Java debug options manager should use the POST_AUTO_BUILD resource change 
notification to update its "compilation error" breakpoint. This would avoid the 
need to fork a thread to update the breakpoint.
Fixed. [Note, I filed bug 31888 while fixing this bug].
please verify, Jared.
*** Bug 31760 has been marked as a duplicate of this bug. ***
Verified.</WithOutStack>
  </Bug>
  <Bug>
    <BugId amount="31883" />
    <CreationDate amount="2003-02-14 11:31:00 -0500" />
    <DupId amount="20036" />
    <classification amount="Eclipse" />
    <Product amount="Platform" />
    <component amount="Resources" />
    <Version amount="2.1" />
    <rep_platform amount="PC" />
    <op_sys amount="Windows XP" />
    <priority amount="P3" />
    <bug_severity amount="enhancement" />
    <Summery>[resources] API: allow #copy and #move to merge with existing destination</Summery>
    <Patches amount="0" />
    <Stacktraces amount="0" />
    <SourceCodeRegions amount="0" />
    <Enumerations amount="2">
      <Enumeration lines="4">
        <Lines>
          <Line>1. the server copy of the project has file X</Line>
          <Line>2. the local copy doesn't have that file</Line>
          <Line>3. you create a new file X locally that has the same contents as X on the</Line>
          <Line>server, then sync</Line>
        </Lines>
      </Enumeration>
      <Enumeration lines="15">
        <Lines>
          <Line>1) Download, unzip, and run eclipse (M5) ;-)</Line>
          <Line>2) Enable the CVS decorations in the preferences</Line>
          <Line>3) Open a CVS Repository Exploring</Line>
          <Line>4) Add a new repositoy location</Line>
          <Line>5) (use the setting for anonymous access to dev.eclipse.org, just to make it easy)</Line>
          <Line>6) check out "eclipse-project-home"</Line>
          <Line>7) switch back to the resource perspective</Line>
          <Line>8) create a new "simpe project", name it "test"</Line>
          <Line>9) right click on "bugcounts/BugCounts.html", select copy</Line>
          <Line>10) right click on the test project and select paste</Line>
          <Line>11) open the "Package Explorer" view (I just used window/show view)</Line>
          <Line>12) In the package explorer, right click on BugCounts.html in the test project,</Line>
          <Line>select copy.</Line>
          <Line>13) right click on bugcounts in eclipse-project-home, select paste.</Line>
          <Line>14) see how BugCounts.html now haw a question mark on it.</Line>
        </Lines>
      </Enumeration>
    </Enumerations>
    <bug_status amount="RESOLVED" />
    <resolution amount="DUPLICATE" />
    <WithStack>I have two separate CVS projects -- project1 and project2 -- that have mostly
the same files in them (if you must know, I'm in the process of moving from one
to the other, but have yet to fully make the change). 

Anyway, if I work on some file in project2 that exists in both project1 and
project2 and I copy/paste that file from project2 into project1, the CVS client
gets confused and thinks that file is new and conflicts with the existing one in
the repository. It then advises that then entire file conflicts (despite them
being almost identical).

This is rather annoying. 

mike
A conflict occurs when you load a file, change it, and meanwhile the server 
file has also changed.  Just pasting over the contents of an existing file 
should only make an outgoing change.  New files (where there is no server 
version) will be just that: new and outgoing.

Does this not match what you are seeing?

Conflicts and changes in general are detected at the timestamp/revisionID 
level because this is fast. You can however filter by file content which will 
eliminate changes where the files have identical bytewise content but differ 
in timestamp/revision (see CVS preferences page "Consider file contents in 
comparisons") .  This is slower though since content must be fetched from the 
repo.

If this doesn't help, please reopen with more data.
Not quite. I have two projects with identical files. I edit the file in one
project and commit it. Then I copy that same file to the other project. The CVS
plugin then believe that the entire file is a conflict. It thinks that this is a
new file and that it needs to be added to version control, despite the fact that
I am overwriting a file that already exists in the repository. 

I infer this because when I look at the file in the package explorer, the
decorator displays the '?' icon. I expect that I should be able to do a
"Team/CVS commit" but that fails due to conflicts. Then I proceed to
"Team/Synchronize with repository" and I see that the entire file conflicts (not
just the section that I changed, but the _entire_ file).

I'll try out the "consider file contents in comparisons" and report back, but
the file is not identical (the contents have changed). 
Update: just tried it with "Consider file contents in comparisons" enabled. Same
result. I'll take a screenshot and attach it.
Created attachment 3506
Shows how a file is conflicting with itself (desplte being 90% similar).
I expect that the problem has something to do with the markers on the file and
what happens during the copy/paste action.
Ok, just to ensure I understand:

1. the server copy of the project has file X
2. the local copy doesn't have that file
3. you create a new file X locally that has the same contents as X on the 
server, then sync

So yes,
a- it will be 'new' locally
b- it will be a conflict

The reason for (a) is that we don't check the status of a file vis-a-vis the 
server until the file is under local version control (ie. its a file we've 
been told we are to care about).  Until something is added to version control 
we ignore it (by definition).

The reason for (b) is because since the local file has no revision information 
(its 'new' to the workbench), we don't know where it came from history wise.  
So its marked as a conflict because for one it does not share history, and for 
practical purposes its likely an error -- you just happened to add a file that 
someone else also added.

However with the "check contents" flag on I guess we could then refine the 
comparison to no longer mark it as a conflict.  The case is a bit unusual 
though since its outside typical work flow.  
No, that's not quite it, though, certainly, that is the correct behavior, &lt;i&gt;if
the file has not yet been downloaded to the cvs sandbox&lt;/i&gt;. If the local copy
has the file, and I paste a new version of the file over it, the entire file
should not conflict. I'm 99% sure it's because the paste operation does a
delete, then a new file is created, rather than overwriting the file straight
out. With command line CVS, this doesn't happen because it only looks at the
file and looks in the CVS/Entries. Eclipse's CVS Team plugin additionally stores
IMarkers, which gets in the way of the standard processing.

I'll post detailed steps to reproduce shortly.
huh, this is actually pretty interesting. It turns out that I can only reproduce
the bug when using the "Package Explorer" view and not with the "Navigator" view. 

Anyway, here are the simplest detailed steps:

1) Download, unzip, and run eclipse (M5) ;-)
2) Enable the CVS decorations in the preferences
3) Open a CVS Repository Exploring
4) Add a new repositoy location 
5) (use the setting for anonymous access to dev.eclipse.org, just to make it easy)
6) check out "eclipse-project-home"
7) switch back to the resource perspective
8) create a new "simpe project", name it "test"
9) right click on "bugcounts/BugCounts.html", select copy
10) right click on the test project and select paste
11) open the "Package Explorer" view (I just used window/show view)
12) In the package explorer, right click on BugCounts.html in the test project,
select copy.
13) right click on bugcounts in eclipse-project-home, select paste.
14) see how BugCounts.html now haw a question mark on it.

What I found most interesting is that if you do the copy/paste from the
Navigator view, it works correctly. It only fails when the paste is done in the
Package Explorer. 

I guess that implies it's actually a JDT bug, but I'll let you guys figure that
out ;-)
After completing the steps I just laid out, try doing things like sync with
repository and sync with outgoing changes. See how the entire file conflicts
with itself. 

Note how the Tasks view says that the file has been deleted locally.
Paste should definitely *NOT* do a delete then add.  This is a problem for any 
provider, not just CVS. Will investigate.
&gt;&gt;What I found most interesting is that if you do the copy/paste from the
&gt;&gt;Navigator view, it works correctly. It only fails when the paste is done in 
the
&gt;&gt;Package Explorer. 

Confirmed, it works in navigator but not in JDT views. Moving to JDT UI.

Adam, how is paste implemented in the package explorer. Interesting comments 
are 7 and 9.
i think it's a platform core limitation
workbench works around it by actually setting contents of the existing file!
which is not a pretty workaround 

jdt ui calls IResource.copy and i'd expect that should be enough
(we can specify some flags if necessary)
I'm not sure I understand the current behaviour. 

Is IResource.copy being called and then an exception is being thrown because a
resource already exists at the destination?

Or is the Packages Explorer detecting that a resource already exists at the
destination so it deletes it and then does a create?

I believe that this is a request similar to bug 29838 which asks that the
destination of a #move call be merged, but I want to confirm this.
it discovers that the resource exists, deletes it and copies
(which probably _is_ bogus, but i think so is setting the content of files)

can we ask for a flag to do it correctly?
Sure, you can ask for anything. :-)

Old Summary:   
  [CVS] Overwriting via pasting file causes unnecessary conflict

Adjusting priority and marking as enhancement.
Investigate post 2.1.

I am reopening this bug since it is still an issue in JDT/UI. IMO core sohould 
provide the needed API to merge existing destination while coping or moving.
Can this PR be looked at for M6. It still blocks a PR in JDT/UI.
*** Bug 29838 has been marked as a duplicate of this bug. ***
We will investigate the amount of work needed to add a flag to IResource.copy
and IResource.move.

While we agree that this functionality should be moved into Core, we don't have
the resources/time to do this for 3.0. 

Are you able to use the UI API classes:
  CopyFilesAndFoldersOperation
  MoveFilesAndFoldersOperation
?

I believe they implement the merge behaviour. Is this a work-around for you
until we add the API in Core?
We have to investigate, but a limitation might be that we call JDT/Core API 
which then calls core resources API. 

Markus, can you please investigate if we can use the two operations in the 
corresponding reorg refactorings. I will step by and provide you with some 
context.
DJ: Unfortunately, using CopyFilesAndFoldersOperation is not an option for
JDT/UI, since it requires a Shell (i.e. they are UI). Our copy operations are in
a UI-less layer and would need a major rewrite if we had to use
CopyFilesAndFoldersOperation.

Furthermore, most of our copy/move operations use JDT/Core API, which in turn
uses IResource#copy(..) . We can't use CopyFilesAndFoldersOperation here, since
that means we would basically duplicate a whole lot of JDT/Core code.

Couldn't we push down the merging functionality from
CopyFilesAndFoldersOperation to Core/Resources?
DJ, what are the Platform/Core plans regarding this bug for 3.0. 
What would you expect the behavior to be when there are conflicts at the
destination?

for instance:
/one/folder/a
/one/folder/b

/two/folder/a
/two/folder/c
/two/folder/d

Moving /one/folder to /two/folder...what happens with file "a"?
I would expect that we can pass in a callback interface (IMoveQuery) that 
would allow use to ask the user what to do.
We have discuss this and decided that the changes would be too far-spread in the
Core code to implement it for 3.0 at this stage. 

Definately a candidate for the 3.1 release.
*** Bug 116140 has been marked as a duplicate of this bug. ***


*** This bug has been marked as a duplicate of 20036 ***</WithStack>
    <WithOutStack>I have two separate CVS projects -- project1 and project2 -- that have mostly
the same files in them (if you must know, I'm in the process of moving from one
to the other, but have yet to fully make the change). 

Anyway, if I work on some file in project2 that exists in both project1 and
project2 and I copy/paste that file from project2 into project1, the CVS client
gets confused and thinks that file is new and conflicts with the existing one in
the repository. It then advises that then entire file conflicts (despite them
being almost identical).

This is rather annoying. 

mike
A conflict occurs when you load a file, change it, and meanwhile the server 
file has also changed.  Just pasting over the contents of an existing file 
should only make an outgoing change.  New files (where there is no server 
version) will be just that: new and outgoing.

Does this not match what you are seeing?

Conflicts and changes in general are detected at the timestamp/revisionID 
level because this is fast. You can however filter by file content which will 
eliminate changes where the files have identical bytewise content but differ 
in timestamp/revision (see CVS preferences page "Consider file contents in 
comparisons") .  This is slower though since content must be fetched from the 
repo.

If this doesn't help, please reopen with more data.
Not quite. I have two projects with identical files. I edit the file in one
project and commit it. Then I copy that same file to the other project. The CVS
plugin then believe that the entire file is a conflict. It thinks that this is a
new file and that it needs to be added to version control, despite the fact that
I am overwriting a file that already exists in the repository. 

I infer this because when I look at the file in the package explorer, the
decorator displays the '?' icon. I expect that I should be able to do a
"Team/CVS commit" but that fails due to conflicts. Then I proceed to
"Team/Synchronize with repository" and I see that the entire file conflicts (not
just the section that I changed, but the _entire_ file).

I'll try out the "consider file contents in comparisons" and report back, but
the file is not identical (the contents have changed). 
Update: just tried it with "Consider file contents in comparisons" enabled. Same
result. I'll take a screenshot and attach it.
Created attachment 3506
Shows how a file is conflicting with itself (desplte being 90% similar).
I expect that the problem has something to do with the markers on the file and
what happens during the copy/paste action.
Ok, just to ensure I understand:

1. the server copy of the project has file X
2. the local copy doesn't have that file
3. you create a new file X locally that has the same contents as X on the 
server, then sync

So yes,
a- it will be 'new' locally
b- it will be a conflict

The reason for (a) is that we don't check the status of a file vis-a-vis the 
server until the file is under local version control (ie. its a file we've 
been told we are to care about).  Until something is added to version control 
we ignore it (by definition).

The reason for (b) is because since the local file has no revision information 
(its 'new' to the workbench), we don't know where it came from history wise.  
So its marked as a conflict because for one it does not share history, and for 
practical purposes its likely an error -- you just happened to add a file that 
someone else also added.

However with the "check contents" flag on I guess we could then refine the 
comparison to no longer mark it as a conflict.  The case is a bit unusual 
though since its outside typical work flow.  
No, that's not quite it, though, certainly, that is the correct behavior, &lt;i&gt;if
the file has not yet been downloaded to the cvs sandbox&lt;/i&gt;. If the local copy
has the file, and I paste a new version of the file over it, the entire file
should not conflict. I'm 99% sure it's because the paste operation does a
delete, then a new file is created, rather than overwriting the file straight
out. With command line CVS, this doesn't happen because it only looks at the
file and looks in the CVS/Entries. Eclipse's CVS Team plugin additionally stores
IMarkers, which gets in the way of the standard processing.

I'll post detailed steps to reproduce shortly.
huh, this is actually pretty interesting. It turns out that I can only reproduce
the bug when using the "Package Explorer" view and not with the "Navigator" view. 

Anyway, here are the simplest detailed steps:

1) Download, unzip, and run eclipse (M5) ;-)
2) Enable the CVS decorations in the preferences
3) Open a CVS Repository Exploring
4) Add a new repositoy location 
5) (use the setting for anonymous access to dev.eclipse.org, just to make it easy)
6) check out "eclipse-project-home"
7) switch back to the resource perspective
8) create a new "simpe project", name it "test"
9) right click on "bugcounts/BugCounts.html", select copy
10) right click on the test project and select paste
11) open the "Package Explorer" view (I just used window/show view)
12) In the package explorer, right click on BugCounts.html in the test project,
select copy.
13) right click on bugcounts in eclipse-project-home, select paste.
14) see how BugCounts.html now haw a question mark on it.

What I found most interesting is that if you do the copy/paste from the
Navigator view, it works correctly. It only fails when the paste is done in the
Package Explorer. 

I guess that implies it's actually a JDT bug, but I'll let you guys figure that
out ;-)
After completing the steps I just laid out, try doing things like sync with
repository and sync with outgoing changes. See how the entire file conflicts
with itself. 

Note how the Tasks view says that the file has been deleted locally.
Paste should definitely *NOT* do a delete then add.  This is a problem for any 
provider, not just CVS. Will investigate.
&gt;&gt;What I found most interesting is that if you do the copy/paste from the
&gt;&gt;Navigator view, it works correctly. It only fails when the paste is done in 
the
&gt;&gt;Package Explorer. 

Confirmed, it works in navigator but not in JDT views. Moving to JDT UI.

Adam, how is paste implemented in the package explorer. Interesting comments 
are 7 and 9.
i think it's a platform core limitation
workbench works around it by actually setting contents of the existing file!
which is not a pretty workaround 

jdt ui calls IResource.copy and i'd expect that should be enough
(we can specify some flags if necessary)
I'm not sure I understand the current behaviour. 

Is IResource.copy being called and then an exception is being thrown because a
resource already exists at the destination?

Or is the Packages Explorer detecting that a resource already exists at the
destination so it deletes it and then does a create?

I believe that this is a request similar to bug 29838 which asks that the
destination of a #move call be merged, but I want to confirm this.
it discovers that the resource exists, deletes it and copies
(which probably _is_ bogus, but i think so is setting the content of files)

can we ask for a flag to do it correctly?
Sure, you can ask for anything. :-)

Old Summary:   
  [CVS] Overwriting via pasting file causes unnecessary conflict

Adjusting priority and marking as enhancement.
Investigate post 2.1.

I am reopening this bug since it is still an issue in JDT/UI. IMO core sohould 
provide the needed API to merge existing destination while coping or moving.
Can this PR be looked at for M6. It still blocks a PR in JDT/UI.
*** Bug 29838 has been marked as a duplicate of this bug. ***
We will investigate the amount of work needed to add a flag to IResource.copy
and IResource.move.

While we agree that this functionality should be moved into Core, we don't have
the resources/time to do this for 3.0. 

Are you able to use the UI API classes:
  CopyFilesAndFoldersOperation
  MoveFilesAndFoldersOperation
?

I believe they implement the merge behaviour. Is this a work-around for you
until we add the API in Core?
We have to investigate, but a limitation might be that we call JDT/Core API 
which then calls core resources API. 

Markus, can you please investigate if we can use the two operations in the 
corresponding reorg refactorings. I will step by and provide you with some 
context.
DJ: Unfortunately, using CopyFilesAndFoldersOperation is not an option for
JDT/UI, since it requires a Shell (i.e. they are UI). Our copy operations are in
a UI-less layer and would need a major rewrite if we had to use
CopyFilesAndFoldersOperation.

Furthermore, most of our copy/move operations use JDT/Core API, which in turn
uses IResource#copy(..) . We can't use CopyFilesAndFoldersOperation here, since
that means we would basically duplicate a whole lot of JDT/Core code.

Couldn't we push down the merging functionality from
CopyFilesAndFoldersOperation to Core/Resources?
DJ, what are the Platform/Core plans regarding this bug for 3.0. 
What would you expect the behavior to be when there are conflicts at the
destination?

for instance:
/one/folder/a
/one/folder/b

/two/folder/a
/two/folder/c
/two/folder/d

Moving /one/folder to /two/folder...what happens with file "a"?
I would expect that we can pass in a callback interface (IMoveQuery) that 
would allow use to ask the user what to do.
We have discuss this and decided that the changes would be too far-spread in the
Core code to implement it for 3.0 at this stage. 

Definately a candidate for the 3.1 release.
*** Bug 116140 has been marked as a duplicate of this bug. ***


*** This bug has been marked as a duplicate of 20036 ***</WithOutStack>
  </Bug>
  <Bug>
    <BugId amount="31884" />
    <CreationDate amount="2003-02-14 11:34:00 -0500" />
    <DupId amount="28982" />
    <classification amount="Eclipse" />
    <Product amount="Platform" />
    <component amount="SWT" />
    <Version amount="2.1" />
    <rep_platform amount="PC" />
    <op_sys amount="Windows XP" />
    <priority amount="P3" />
    <bug_severity amount="normal" />
    <Summery>Wrong colour of the toolbars (coolbars)</Summery>
    <Patches amount="0" />
    <Stacktraces amount="0" />
    <SourceCodeRegions amount="0" />
    <Enumerations amount="0" />
    <bug_status amount="RESOLVED" />
    <resolution amount="DUPLICATE" />
    <WithStack>The color is wrong. Look at IE for a proper example.


Colors of separators should not be different from the color of 


the buttons. Right now it looks wrong.




Also sizes of buttons are different (when you hover over them) and that


makes the whole affair look ugly.
It's true that our toolbars look different than other apps on XP (e.g. Explorer 
and IE).  However, we are just using the OS widget, so it looks like Explorer 
and IE use a custom toolbar widget.

Moving to SWT for comment.  

Works correctly for me.

Are you running with a manifest which enables the Windows XP skin look and 
feel?

See 
http://dev.eclipse.org/viewcvs/index.cgi/%7Echeckout%7E/platform-swt-
home/faq.html#xpthemes

Assuming this bug report is about the color mismatch when using the manifest - 
which has been resolved. If it is not, please attach a screenshot and reopen.

*** This bug has been marked as a duplicate of 28982 ***</WithStack>
    <WithOutStack>The color is wrong. Look at IE for a proper example.


Colors of separators should not be different from the color of 


the buttons. Right now it looks wrong.




Also sizes of buttons are different (when you hover over them) and that


makes the whole affair look ugly.
It's true that our toolbars look different than other apps on XP (e.g. Explorer 
and IE).  However, we are just using the OS widget, so it looks like Explorer 
and IE use a custom toolbar widget.

Moving to SWT for comment.  

Works correctly for me.

Are you running with a manifest which enables the Windows XP skin look and 
feel?

See 
http://dev.eclipse.org/viewcvs/index.cgi/%7Echeckout%7E/platform-swt-
home/faq.html#xpthemes

Assuming this bug report is about the color mismatch when using the manifest - 
which has been resolved. If it is not, please attach a screenshot and reopen.

*** This bug has been marked as a duplicate of 28982 ***</WithOutStack>
  </Bug>
  <Bug>
    <BugId amount="31885" />
    <CreationDate amount="2003-02-14 11:35:00 -0500" />
    <DupId amount="" />
    <classification amount="Eclipse" />
    <Product amount="Platform" />
    <component amount="UI" />
    <Version amount="2.1" />
    <rep_platform amount="PC" />
    <op_sys amount="Windows XP" />
    <priority amount="P3" />
    <bug_severity amount="blocker" />
    <Summery>Keybindings no longer functioning</Summery>
    <Patches amount="0" />
    <Stacktraces amount="0" />
    <SourceCodeRegions amount="0" />
    <Enumerations amount="2">
      <Enumeration lines="3">
        <Lines>
          <Line>1. start eclipse</Line>
          <Line>2. look at the file menu (open it; no need to click a menu item)</Line>
          <Line>3. all keybindings are broken</Line>
        </Lines>
      </Enumeration>
      <Enumeration lines="10">
        <Lines>
          <Line>1. you can restore keybindings by making a substantive change to the</Line>
          <Line>keybindings, causing the hidden menu to refresh. workbench-&gt;preferences-&gt;keys,</Line>
          <Line>select a different active configuration, apply, select your original active</Line>
          <Line>configuration, click ok.</Line>
          <Line>2. problem will repeat after correction by following step 2 again.</Line>
          <Line>3. no other menus but the file menu causes this problem.</Line>
          <Line>4. using latest UI build with 0211 SWT jar and DLL fixes this problem.</Line>
          <Line>*** Bug 31860 has been marked as a duplicate of this bug. ***</Line>
          <Line>*** Bug 31830 has been marked as a duplicate of this bug. ***</Line>
          <Line>fixed.</Line>
        </Lines>
      </Enumeration>
    </Enumerations>
    <bug_status amount="RESOLVED" />
    <resolution amount="FIXED" />
    <WithStack>steps:
1. start eclipse
2. look at the file menu (open it; no need to click a menu item)
3. all keybindings are broken

notes:
1. you can restore keybindings by making a substantive change to the 
keybindings, causing the hidden menu to refresh. workbench-&gt;preferences-&gt;keys,
select a different active configuration, apply, select your original active 
configuration, click ok.
2. problem will repeat after correction by following step 2 again.
3. no other menus but the file menu causes this problem.
4. using latest UI build with 0211 SWT jar and DLL fixes this problem.
*** Bug 31860 has been marked as a duplicate of this bug. ***
*** Bug 31830 has been marked as a duplicate of this bug. ***
fixed.</WithStack>
    <WithOutStack>steps:
1. start eclipse
2. look at the file menu (open it; no need to click a menu item)
3. all keybindings are broken

notes:
1. you can restore keybindings by making a substantive change to the 
keybindings, causing the hidden menu to refresh. workbench-&gt;preferences-&gt;keys,
select a different active configuration, apply, select your original active 
configuration, click ok.
2. problem will repeat after correction by following step 2 again.
3. no other menus but the file menu causes this problem.
4. using latest UI build with 0211 SWT jar and DLL fixes this problem.
*** Bug 31860 has been marked as a duplicate of this bug. ***
*** Bug 31830 has been marked as a duplicate of this bug. ***
fixed.</WithOutStack>
  </Bug>
  <Bug>
    <BugId amount="31886" />
    <CreationDate amount="2003-02-14 11:37:00 -0500" />
    <DupId amount="" />
    <classification amount="Eclipse" />
    <Product amount="JDT" />
    <component amount="Debug" />
    <Version amount="2.0" />
    <rep_platform amount="PC" />
    <op_sys amount="Windows 2000" />
    <priority amount="P3" />
    <bug_severity amount="normal" />
    <Summery>NPE in JDIDebugTarget.resume in console</Summery>
    <Patches amount="0" />
    <Stacktraces amount="0" />
    <SourceCodeRegions amount="0" />
    <Enumerations amount="0" />
    <bug_status amount="VERIFIED" />
    <resolution amount="FIXED" />
    <WithStack>build 20030211

I noticed the following walkback in the console of my outer Eclipse.
Nothing in the log. I'm using J9 to debug targets.

java.lang.NullPointerException

Stack trace:
   java/lang/Throwable.&lt;init&gt;()V
   java/lang/Throwable.&lt;init&gt;(Ljava/lang/String;)V
   java/lang/NullPointerException.&lt;init&gt;(Ljava/lang/String;)V
   org/eclipse/jdt/internal/debug/core/model/JDIDebugTarget.resume(Z)V
   org/eclipse/jdt/internal/debug/core/model/JDIDebugTarget.resume()V
   org/eclipse/jdt/internal/debug/core/model/JDIDebugTarget.handleVMStart
(Lcom/sun/jdi/event/VMStartEvent;)V
   org/eclipse/jdt/internal/debug/core/EventDispatcher.dispatch
(Lcom/sun/jdi/event/EventSet;)V
   org/eclipse/jdt/internal/debug/core/EventDispatcher.run()V
   java/lang/Thread.run()V
Knut, I have updated the J9 launching plug-in on the JDT debug page:

http://dev.eclipse.org/viewcvs/index.cgi/%7Echeckout%7E/jdt-debug-
home/plugins/org.eclipse.jdt.launching.j9/org.eclipse.jdt.launching.j9_20030213.
zip

Not sure if you're using the latest plug-in or not, but I thought I should 
update this, just in case it is causing us trouble.

BTW, which version of J9 are you using?
I'm using the 20021115 version of the j9 launcher and version 20020816 of J9.
Are you using a more recent version of J9 that is stable?
I'll upgrade my launcher plugin.
I've been using Sun's JDK1.4.1. However, I am switching to the J9 drop "ive20-
01152003".
I just got this VM crash, while resuming from a breakpoint:

Unhandled exception
Type=GPF vmState=0xffffffff
ExceptionCode=0xc0000005 ExceptionAddress=0x1000d9ce ContextFlags=0x0001003f
Handler1=0x10f01530 Handler2=0x10026460
Module=d:\ive\bin\J9VM20.dll
Module_base_address=0x10000000
Offset_in_DLL=0x0000d9ce
EDI=0x00000000 ESI=0x03a8f77d EAX=0x00000000
EBX=0x041ab388 ECX=0x03a8f77d EDX=0x00000000
EBP=0x00141d60 ESP=0x0012fab8 EIP=0x1000d9ce

Thread: main (priority 5) (LOCATION OF ERROR)

So is that using the 0115 J9 VM?
That's what I mean with stable. 
I learned to stick with a version that doesn't crash. I'd rather have Eclipse 
throw exceptions.
Yes - I was using the 0115 (2003). The stack trace in this bug is very curious 
(I wish it had line numbers). Looking at the code, about the only thing that 
shows an NPE in the concerned method, is that there was no underlying VM. 
Nothing would work in that case.
I was able to reproduce this NPE (by chance) by terminating a target during a 
launch. The event processing loop was hanlding the "VM start" event, while 
another thread had already terminated the target.
Fixed in JDIDebugTarget#resume(). Added check for "isAvailable()" before 
attempting the resume.
please verify, Luc.
Verified.</WithStack>
    <WithOutStack>build 20030211

I noticed the following walkback in the console of my outer Eclipse.
Nothing in the log. I'm using J9 to debug targets.

java.lang.NullPointerException

Stack trace:
   java/lang/Throwable.&lt;init&gt;()V
   java/lang/Throwable.&lt;init&gt;(Ljava/lang/String;)V
   java/lang/NullPointerException.&lt;init&gt;(Ljava/lang/String;)V
   org/eclipse/jdt/internal/debug/core/model/JDIDebugTarget.resume(Z)V
   org/eclipse/jdt/internal/debug/core/model/JDIDebugTarget.resume()V
   org/eclipse/jdt/internal/debug/core/model/JDIDebugTarget.handleVMStart
(Lcom/sun/jdi/event/VMStartEvent;)V
   org/eclipse/jdt/internal/debug/core/EventDispatcher.dispatch
(Lcom/sun/jdi/event/EventSet;)V
   org/eclipse/jdt/internal/debug/core/EventDispatcher.run()V
   java/lang/Thread.run()V
Knut, I have updated the J9 launching plug-in on the JDT debug page:

http://dev.eclipse.org/viewcvs/index.cgi/%7Echeckout%7E/jdt-debug-
home/plugins/org.eclipse.jdt.launching.j9/org.eclipse.jdt.launching.j9_20030213.
zip

Not sure if you're using the latest plug-in or not, but I thought I should 
update this, just in case it is causing us trouble.

BTW, which version of J9 are you using?
I'm using the 20021115 version of the j9 launcher and version 20020816 of J9.
Are you using a more recent version of J9 that is stable?
I'll upgrade my launcher plugin.
I've been using Sun's JDK1.4.1. However, I am switching to the J9 drop "ive20-
01152003".
I just got this VM crash, while resuming from a breakpoint:

Unhandled exception
Type=GPF vmState=0xffffffff
ExceptionCode=0xc0000005 ExceptionAddress=0x1000d9ce ContextFlags=0x0001003f
Handler1=0x10f01530 Handler2=0x10026460
Module=d:\ive\bin\J9VM20.dll
Module_base_address=0x10000000
Offset_in_DLL=0x0000d9ce
EDI=0x00000000 ESI=0x03a8f77d EAX=0x00000000
EBX=0x041ab388 ECX=0x03a8f77d EDX=0x00000000
EBP=0x00141d60 ESP=0x0012fab8 EIP=0x1000d9ce

Thread: main (priority 5) (LOCATION OF ERROR)

So is that using the 0115 J9 VM?
That's what I mean with stable. 
I learned to stick with a version that doesn't crash. I'd rather have Eclipse 
throw exceptions.
Yes - I was using the 0115 (2003). The stack trace in this bug is very curious 
(I wish it had line numbers). Looking at the code, about the only thing that 
shows an NPE in the concerned method, is that there was no underlying VM. 
Nothing would work in that case.
I was able to reproduce this NPE (by chance) by terminating a target during a 
launch. The event processing loop was hanlding the "VM start" event, while 
another thread had already terminated the target.
Fixed in JDIDebugTarget#resume(). Added check for "isAvailable()" before 
attempting the resume.
please verify, Luc.
Verified.</WithOutStack>
  </Bug>
  <Bug>
    <BugId amount="31887" />
    <CreationDate amount="2003-02-14 11:43:00 -0500" />
    <DupId amount="" />
    <classification amount="Eclipse" />
    <Product amount="Platform" />
    <component amount="Update  (deprecated - use RT&gt;Equinox&gt;p2)" />
    <Version amount="2.0.2" />
    <rep_platform amount="All" />
    <op_sys amount="All" />
    <priority amount="P1" />
    <bug_severity amount="blocker" />
    <Summery>ActivityConstraints makes computes 'after' features wrong</Summery>
    <Patches amount="0" />
    <Stacktraces amount="0" />
    <SourceCodeRegions amount="0" />
    <Enumerations amount="1">
      <Enumeration lines="6">
        <Lines>
          <Line>1) It computes the 'before' list. It contains all the local features currently</Line>
          <Line>installed in the product.</Line>
          <Line>2) It computes 'add' list. It contains all the remote features that will be</Line>
          <Line>added.</Line>
          <Line>3) It computes 'remove' list. It contains all the local features that will be</Line>
          <Line>removed from the product.</Line>
        </Lines>
      </Enumeration>
    </Enumerations>
    <bug_status amount="RESOLVED" />
    <resolution amount="FIXED" />
    <WithStack>Every update operation is checked in 'ActivityConstraints' class where 'before' 
and 'after' states are computed to verify that the proposed operation will 
result in a valid state.

In case of an install or update, it works as follows:

1) It computes the 'before' list. It contains all the local features currently 
installed in the product.
2) It computes 'add' list. It contains all the remote features that will be 
added.
3) It computes 'remove' list. It contains all the local features that will be 
removed from the product.

The order is:

after_list = before_list + add_list - remove_list

This algorithm has a flaw in the actual order. 'Before' list contains only 
local features, while the 'add' lists contains only the remote features. After 
the first addition, the resulting list contains a mix of local and remote. When 
the 'remove' list is removed, it removes more features than it should thanks to 
the behaviour of 'IFeature.equals()'. Since this method simply compares id and 
version of a feature, it returns true when a local and a remote feature object 
with the same id and version are compared. We use 'ArrayList'.removeAll' and in 
this process, both the local and the remote feature is removed from the 'after' 
list.

Although 'ActivityConstraints' does not do the actual work - it just makes sure 
the operation will result in a legal state - it prevents the install from 
happening.

The fix is simple - change the order:

after_list = before_list - remove_list + add_list

Since 'before_list' and 'remove_list' are compatible i.e. both contain only the 
local features, the result will be as desired and no excessive removal can 
happen.

This is not a new problem - the same code existed in 2.0 release - we simply 
found about it now. It is a very subtle issue and we stared at the code for a 
while before realizing what happened.
Fixed in both 2.0.3 and 2.1 streams. Ready for testing.
Looks good.</WithStack>
    <WithOutStack>Every update operation is checked in 'ActivityConstraints' class where 'before' 
and 'after' states are computed to verify that the proposed operation will 
result in a valid state.

In case of an install or update, it works as follows:

1) It computes the 'before' list. It contains all the local features currently 
installed in the product.
2) It computes 'add' list. It contains all the remote features that will be 
added.
3) It computes 'remove' list. It contains all the local features that will be 
removed from the product.

The order is:

after_list = before_list + add_list - remove_list

This algorithm has a flaw in the actual order. 'Before' list contains only 
local features, while the 'add' lists contains only the remote features. After 
the first addition, the resulting list contains a mix of local and remote. When 
the 'remove' list is removed, it removes more features than it should thanks to 
the behaviour of 'IFeature.equals()'. Since this method simply compares id and 
version of a feature, it returns true when a local and a remote feature object 
with the same id and version are compared. We use 'ArrayList'.removeAll' and in 
this process, both the local and the remote feature is removed from the 'after' 
list.

Although 'ActivityConstraints' does not do the actual work - it just makes sure 
the operation will result in a legal state - it prevents the install from 
happening.

The fix is simple - change the order:

after_list = before_list - remove_list + add_list

Since 'before_list' and 'remove_list' are compatible i.e. both contain only the 
local features, the result will be as desired and no excessive removal can 
happen.

This is not a new problem - the same code existed in 2.0 release - we simply 
found about it now. It is a very subtle issue and we stared at the code for a 
while before realizing what happened.
Fixed in both 2.0.3 and 2.1 streams. Ready for testing.
Looks good.</WithOutStack>
  </Bug>
  <Bug>
    <BugId amount="31888" />
    <CreationDate amount="2003-02-14 11:57:00 -0500" />
    <DupId amount="" />
    <classification amount="Eclipse" />
    <Product amount="JDT" />
    <component amount="Debug" />
    <Version amount="2.1" />
    <rep_platform amount="PC" />
    <op_sys amount="Windows 2000" />
    <priority amount="P3" />
    <bug_severity amount="normal" />
    <Summery>conflict between compilation error and uncaught exception</Summery>
    <Patches amount="0" />
    <Stacktraces amount="0" />
    <SourceCodeRegions amount="0" />
    <Enumerations amount="0" />
    <bug_status amount="VERIFIED" />
    <resolution amount="FIXED" />
    <WithStack>When I have both preferences on to (1) suspend on uncaught exceptions and (2) 
suspend on compilation errors, the former always wins in the thread 
description. For example, when I am suspended at a compilation error, the 
thread will say "suspended (exception java.lang.Error)". If I turn off the 
first preference, and re-launch, the thread will contain the compilation error 
description.

The problem is that we use two exception breakpoints for the same exception - 
java.lang.Error, and the VM notifies us of the "uncaught exceptions" one first. 
It think the fix is to only use one breakpoint for both options.
Fixed.

The uncaught exception breakpoint (java.lang.Throwable) subsumes the 
compilation error breakpoint (java.lang.Error), since Throwable is a supertype 
of Error. Thus, when an uncaught exception is hit, and the option to suspend on 
compilation errors is *off*, we only suspend if there is no compilation error 
at the given location.

Modified the model presentation to display the compilation error present if the 
breakpoint is either of uncaught exception or compilation error (since when the 
suspend on uncaught exception is on, this breakpoint will be hit for a 
compilation error).
please verify, Luc.
Verified.</WithStack>
    <WithOutStack>When I have both preferences on to (1) suspend on uncaught exceptions and (2) 
suspend on compilation errors, the former always wins in the thread 
description. For example, when I am suspended at a compilation error, the 
thread will say "suspended (exception java.lang.Error)". If I turn off the 
first preference, and re-launch, the thread will contain the compilation error 
description.

The problem is that we use two exception breakpoints for the same exception - 
java.lang.Error, and the VM notifies us of the "uncaught exceptions" one first. 
It think the fix is to only use one breakpoint for both options.
Fixed.

The uncaught exception breakpoint (java.lang.Throwable) subsumes the 
compilation error breakpoint (java.lang.Error), since Throwable is a supertype 
of Error. Thus, when an uncaught exception is hit, and the option to suspend on 
compilation errors is *off*, we only suspend if there is no compilation error 
at the given location.

Modified the model presentation to display the compilation error present if the 
breakpoint is either of uncaught exception or compilation error (since when the 
suspend on uncaught exception is on, this breakpoint will be hit for a 
compilation error).
please verify, Luc.
Verified.</WithOutStack>
  </Bug>
  <Bug>
    <BugId amount="31889" />
    <CreationDate amount="2003-02-14 12:08:00 -0500" />
    <DupId amount="" />
    <classification amount="Eclipse" />
    <Product amount="Platform" />
    <component amount="UI" />
    <Version amount="2.1" />
    <rep_platform amount="PC" />
    <op_sys amount="Windows XP" />
    <priority amount="P3" />
    <bug_severity amount="normal" />
    <Summery>[Viewers] [+] takes 10sec to disappear in tree view</Summery>
    <Patches amount="0" />
    <Stacktraces amount="0" />
    <SourceCodeRegions amount="0" />
    <Enumerations amount="1">
      <Enumeration lines="6">
        <Lines>
          <Line>- Open the CVS Repositories view.</Line>
          <Line>- Expand the 'Versions' tree for a particular repository</Line>
          <Line>- Select and double click on a project which has no version</Line>
          <Line>- The [+] sign next to it will not disappear, even though Eclipse now knows</Line>
          <Line>that the branch has no children</Line>
          <Line>- If you wait for about 10sec, the [+] will eventually disappear on its own</Line>
        </Lines>
      </Enumeration>
    </Enumerations>
    <bug_status amount="RESOLVED" />
    <resolution amount="WORKSFORME" />
    <WithStack>Version: 2.1
Build id: 200301211004

- Open the CVS Repositories view.
- Expand the 'Versions' tree for a particular repository
- Select and double click on a project which has no version
- The [+] sign next to it will not disappear, even though Eclipse now knows 
that the branch has no children
- If you wait for about 10sec, the [+] will eventually disappear on its own

(Note - I'm running Eclipse on J9)
Please investigate.
Cannot replicate on XP using 20030218 and a SR3 IBM VM. Awaiting info on VM to 
test against from reporter.
Using build 20030218 the + disappears as soon as the operation is over. I 
suspect this is an issue that was cleared up with all of the CVS and viewer 
work done of late.</WithStack>
    <WithOutStack>Version: 2.1
Build id: 200301211004

- Open the CVS Repositories view.
- Expand the 'Versions' tree for a particular repository
- Select and double click on a project which has no version
- The [+] sign next to it will not disappear, even though Eclipse now knows 
that the branch has no children
- If you wait for about 10sec, the [+] will eventually disappear on its own

(Note - I'm running Eclipse on J9)
Please investigate.
Cannot replicate on XP using 20030218 and a SR3 IBM VM. Awaiting info on VM to 
test against from reporter.
Using build 20030218 the + disappears as soon as the operation is over. I 
suspect this is an issue that was cleared up with all of the CVS and viewer 
work done of late.</WithOutStack>
  </Bug>
  <Bug>
    <BugId amount="31890" />
    <CreationDate amount="2003-02-14 12:08:00 -0500" />
    <DupId amount="" />
    <classification amount="Eclipse" />
    <Product amount="JDT" />
    <component amount="Text" />
    <Version amount="2.1" />
    <rep_platform amount="PC" />
    <op_sys amount="Windows 2000" />
    <priority amount="P3" />
    <bug_severity amount="normal" />
    <Summery>[typing] Smart indentation problem</Summery>
    <Patches amount="0" />
    <Stacktraces amount="0" />
    <SourceCodeRegions amount="7">
      <source_code type="ifstatement">
        <location start="34" end="89" />
        <code>&lt;TAB&gt;if (condition1) {
&lt;TAB&gt;&lt;TAB&gt;// do something
&lt;TAB&gt;}</code>
      </source_code>
      <source_code type="ifstatement">
        <location start="90" end="150" />
        <code>&lt;TAB&gt;if (condition2) {
&lt;TAB&gt;&lt;TAB&gt;// do something else
&lt;TAB&gt;}</code>
      </source_code>
      <source_code type="ifstatement">
        <location start="379" end="520" />
        <code>&lt;TAB&gt;if (condition2) {
&lt;TAB&gt;&lt;TAB&gt;// do something else
&lt;TAB&gt;&lt;TAB&gt;if (condition1) {
&lt;TAB&gt;&lt;TAB&gt;&lt;TAB&gt;&lt;TAB&gt;// do something
&lt;TAB&gt;&lt;TAB&gt;&lt;TAB&gt;}
&lt;TAB&gt;}</code>
      </source_code>
      <source_code type="ifstatement">
        <location start="610" end="743" />
        <code>&lt;TAB&gt;if (condition2) {
&lt;TAB&gt;&lt;TAB&gt;// do something else
&lt;TAB&gt;&lt;TAB&gt;if (condition1) {
&lt;TAB&gt;&lt;TAB&gt;&lt;TAB&gt;// do something
&lt;TAB&gt;&lt;TAB&gt;}		
&lt;TAB&gt;}</code>
      </source_code>
      <source_code type="functioncall">
        <location start="1175" end="1203" />
        <code>&lt;TAB&gt;System.out.println("");</code>
      </source_code>
      <source_code type="singlecomment">
        <location start="1233" end="1247" />
        <code>// print info</code>
      </source_code>
      <source_code type="functioncall">
        <location start="1247" end="1270" />
        <code>System.out.println("");</code>
      </source_code>
    </SourceCodeRegions>
    <Enumerations amount="0" />
    <bug_status amount="RESOLVED" />
    <resolution amount="WONTFIX" />
    <WithStack>I have the following code block:

&lt;TAB&gt;if (condition1) {
&lt;TAB&gt;&lt;TAB&gt;// do something
&lt;TAB&gt;}
&lt;TAB&gt;if (condition2) {
&lt;TAB&gt;&lt;TAB&gt;// do something else
&lt;TAB&gt;}

If I select the first if-Block (Selection starting just before the 'if' (NOT 
including the tab before the if) and ending just after the '}',
cut and paste it into the second if-Block (in a new line after the comment), I 
get

&lt;TAB&gt;if (condition2) {
&lt;TAB&gt;&lt;TAB&gt;// do something else
&lt;TAB&gt;&lt;TAB&gt;if (condition1) {
&lt;TAB&gt;&lt;TAB&gt;&lt;TAB&gt;&lt;TAB&gt;// do something
&lt;TAB&gt;&lt;TAB&gt;&lt;TAB&gt;}
&lt;TAB&gt;}

Only if I include the tab before the 'if' in the selection, I get the correct 
result:

&lt;TAB&gt;if (condition2) {
&lt;TAB&gt;&lt;TAB&gt;// do something else
&lt;TAB&gt;&lt;TAB&gt;if (condition1) {
&lt;TAB&gt;&lt;TAB&gt;&lt;TAB&gt;// do something
&lt;TAB&gt;&lt;TAB&gt;}		
&lt;TAB&gt;}


I have the following Editor settings (Eclipse 2.1 Build M5):
Java | Editor | Typing | Pasting for correct indentation -&gt; On
Java | Editor | Appearance | Displayed tab width -&gt; 4
If we would be smarter i.e. if the first line has no leading TAB then we ignore
the first line when computing the TAB offset we could fix your problem but other
use cases would be broken. For example the following code:

if (DEBUG)
&lt;TAB&gt;// print info
&lt;TAB&gt;System.out.println("");

would result in

if (DEBUG)
// print info
System.out.println("");

With the current implementation users can control what happens by doing the
corresponding selection.</WithStack>
    <WithOutStack>I have the following code block:

&lt;TAB&gt;if (condition1) {
&lt;TAB&gt;&lt;TAB&gt;// do something
&lt;TAB&gt;}
&lt;TAB&gt;if (condition2) {
&lt;TAB&gt;&lt;TAB&gt;// do something else
&lt;TAB&gt;}

If I select the first if-Block (Selection starting just before the 'if' (NOT 
including the tab before the if) and ending just after the '}',
cut and paste it into the second if-Block (in a new line after the comment), I 
get

&lt;TAB&gt;if (condition2) {
&lt;TAB&gt;&lt;TAB&gt;// do something else
&lt;TAB&gt;&lt;TAB&gt;if (condition1) {
&lt;TAB&gt;&lt;TAB&gt;&lt;TAB&gt;&lt;TAB&gt;// do something
&lt;TAB&gt;&lt;TAB&gt;&lt;TAB&gt;}
&lt;TAB&gt;}

Only if I include the tab before the 'if' in the selection, I get the correct 
result:

&lt;TAB&gt;if (condition2) {
&lt;TAB&gt;&lt;TAB&gt;// do something else
&lt;TAB&gt;&lt;TAB&gt;if (condition1) {
&lt;TAB&gt;&lt;TAB&gt;&lt;TAB&gt;// do something
&lt;TAB&gt;&lt;TAB&gt;}		
&lt;TAB&gt;}


I have the following Editor settings (Eclipse 2.1 Build M5):
Java | Editor | Typing | Pasting for correct indentation -&gt; On
Java | Editor | Appearance | Displayed tab width -&gt; 4
If we would be smarter i.e. if the first line has no leading TAB then we ignore
the first line when computing the TAB offset we could fix your problem but other
use cases would be broken. For example the following code:

if (DEBUG)
&lt;TAB&gt;// print info
&lt;TAB&gt;System.out.println("");

would result in

if (DEBUG)
// print info
System.out.println("");

With the current implementation users can control what happens by doing the
corresponding selection.</WithOutStack>
  </Bug>
  <Bug>
    <BugId amount="31891" />
    <CreationDate amount="2003-02-14 12:12:00 -0500" />
    <DupId amount="" />
    <classification amount="Eclipse" />
    <Product amount="JDT" />
    <component amount="UI" />
    <Version amount="2.1" />
    <rep_platform amount="PC" />
    <op_sys amount="Windows 2000" />
    <priority amount="P1" />
    <bug_severity amount="normal" />
    <Summery>Deadlock when reconcling and executing a UI operations</Summery>
    <Patches amount="0" />
    <Stacktraces amount="0" />
    <SourceCodeRegions amount="0" />
    <Enumerations amount="0" />
    <bug_status amount="RESOLVED" />
    <resolution amount="FIXED" />
    <WithStack>I200302131253

Due to change in the Java core (batching of Java Model deltas on working 
copies) we are faced with dead locks. They occur due to uncoordinated aquiring 
of reconcile and workspace looks. A typical stack trace showing the problem 
looks like: 

org.eclipse.core.launcher.Main at localhost:12001
	System Thread [Finalizer] (Running)
	System Thread [Reference Handler] (Running)
	Thread [main] (Suspended)
		ImportsStructure.getReplaceRange(TextBuffer) line: 559
		ImportsStructure.create(boolean, IProgressMonitor) line: 519
		AddUnimplementedMethodsOperation.run(IProgressMonitor) line: 79
		BatchOperation.executeOperation() line: 34
		BatchOperation(JavaModelOperation).execute() line: 356
		BatchOperation(JavaModelOperation).run(IProgressMonitor) line: 
684
		Workspace.run(IWorkspaceRunnable, IProgressMonitor) line: 1588
		JavaCore.run(IWorkspaceRunnable, IProgressMonitor) line: 2634
		WorkbenchRunnableAdapter.run(IProgressMonitor) line: 32
		BusyIndicatorRunnableContext$BusyRunnable.internalRun(boolean, 
IRunnableWithProgress) line: 107
		BusyIndicatorRunnableContext$BusyRunnable.run() line: 74
		BusyIndicator.showWhile(Display, Runnable) line: 65
		BusyIndicatorRunnableContext.run(boolean, boolean, 
IRunnableWithProgress) line: 120
		OverrideMethodsAction.run(Shell, IType, IEditorPart) line: 180
		OverrideMethodsAction.run(IStructuredSelection) line: 133
		OverrideMethodsAction(SelectionDispatchAction).dispatchRun
(ISelection) line: 191
		OverrideMethodsAction(SelectionDispatchAction).run() line: 169
		OverrideMethodsAction(Action).runWithEvent(Event) line: 804
		ActionContributionItem.handleWidgetSelection(Event) line: 450
		ActionContributionItem.handleWidgetEvent(Event) line: 398
		ActionContributionItem.access$0(ActionContributionItem, Event) 
line: 392
		ActionContributionItem$ActionListener.handleEvent(Event) line: 
72
		EventTable.sendEvent(Event) line: 77
		MenuItem(Widget).sendEvent(Event) line: 836
		Display.runDeferredEvents() line: 1692
		Display.readAndDispatch() line: 1410
		Workbench.runEventLoop(Window$IExceptionHandler) line: 1288
		Workbench.run(Object) line: 1271
		InternalBootLoader.run(String, URL, String, String[], Runnable) 
line: 845
		BootLoader.run(String, URL, String, String[], Runnable) line: 
461
		NativeMethodAccessorImpl.invoke0(Method, Object, Object[]) 
line: not available [native method]
		NativeMethodAccessorImpl.invoke(Object, Object[]) line: 39 
[local variables unavailable]
		DelegatingMethodAccessorImpl.invoke(Object, Object[]) line: 25 
[local variables unavailable]
		Method.invoke(Object, Object[]) line: 324 [local variables 
unavailable]
		Main.basicRun(String[]) line: 247
		Main.run(String[]) line: 703
		Main.main(String[]) line: 539
	System Thread [Signal Dispatcher] (Running)
	Thread [Java indexing] (Running)
	Thread [Decoration] (Running)
	Thread [org.eclipse.jdt.internal.ui.text.JavaReconciler] (Suspended)
		Object.wait(long) line: not available [native method]
		Semaphore(Object).wait() line: 426 [local variables unavailable]
		Semaphore.acquire() line: 24
		UIWorkspaceLock(WorkspaceLock).acquire() line: 49
		UIWorkspaceLock.acquire() line: 40
		WorkManager.checkIn() line: 80
		Workspace.prepareOperation() line: 1551
		Workspace.run(IWorkspaceRunnable, IProgressMonitor) line: 1586
		WorkingCopy(JavaElement).runOperation(JavaModelOperation, 
IProgressMonitor) line: 556
		WorkingCopy.reconcile(boolean, IProgressMonitor) line: 415
		JavaReconcilingStrategy.reconcile() line: 72
		JavaReconcilingStrategy.reconcile(IRegion) line: 99
		JavaReconciler(MonoReconciler).process(DirtyRegion) line: 76
		AbstractReconciler$BackgroundThread.run() line: 189
Fixed for build &gt; I20030213
*** Bug 31918 has been marked as a duplicate of this bug. ***
*** Bug 31933 has been marked as a duplicate of this bug. ***
I do not believe this fix is in the I20030214 build...Zurich was likely asleep 
by the time the build started :-)

*** Bug 31904 has been marked as a duplicate of this bug. ***
*** Bug 31877 has been marked as a duplicate of this bug. ***
*** Bug 32011 has been marked as a duplicate of this bug. ***
*** Bug 32042 has been marked as a duplicate of this bug. ***
*** Bug 32039 has been marked as a duplicate of this bug. ***
*** Bug 32071 has been marked as a duplicate of this bug. ***
*** Bug 32068 has been marked as a duplicate of this bug. ***
*** Bug 32127 has been marked as a duplicate of this bug. ***
*** Bug 32139 has been marked as a duplicate of this bug. ***
*** Bug 32402 has been marked as a duplicate of this bug. ***</WithStack>
    <WithOutStack>I200302131253

Due to change in the Java core (batching of Java Model deltas on working 
copies) we are faced with dead locks. They occur due to uncoordinated aquiring 
of reconcile and workspace looks. A typical stack trace showing the problem 
looks like: 

org.eclipse.core.launcher.Main at localhost:12001
	System Thread [Finalizer] (Running)
	System Thread [Reference Handler] (Running)
	Thread [main] (Suspended)
		ImportsStructure.getReplaceRange(TextBuffer) line: 559
		ImportsStructure.create(boolean, IProgressMonitor) line: 519
		AddUnimplementedMethodsOperation.run(IProgressMonitor) line: 79
		BatchOperation.executeOperation() line: 34
		BatchOperation(JavaModelOperation).execute() line: 356
		BatchOperation(JavaModelOperation).run(IProgressMonitor) line: 
684
		Workspace.run(IWorkspaceRunnable, IProgressMonitor) line: 1588
		JavaCore.run(IWorkspaceRunnable, IProgressMonitor) line: 2634
		WorkbenchRunnableAdapter.run(IProgressMonitor) line: 32
		BusyIndicatorRunnableContext$BusyRunnable.internalRun(boolean, 
IRunnableWithProgress) line: 107
		BusyIndicatorRunnableContext$BusyRunnable.run() line: 74
		BusyIndicator.showWhile(Display, Runnable) line: 65
		BusyIndicatorRunnableContext.run(boolean, boolean, 
IRunnableWithProgress) line: 120
		OverrideMethodsAction.run(Shell, IType, IEditorPart) line: 180
		OverrideMethodsAction.run(IStructuredSelection) line: 133
		OverrideMethodsAction(SelectionDispatchAction).dispatchRun
(ISelection) line: 191
		OverrideMethodsAction(SelectionDispatchAction).run() line: 169
		OverrideMethodsAction(Action).runWithEvent(Event) line: 804
		ActionContributionItem.handleWidgetSelection(Event) line: 450
		ActionContributionItem.handleWidgetEvent(Event) line: 398
		ActionContributionItem.access$0(ActionContributionItem, Event) 
line: 392
		ActionContributionItem$ActionListener.handleEvent(Event) line: 
72
		EventTable.sendEvent(Event) line: 77
		MenuItem(Widget).sendEvent(Event) line: 836
		Display.runDeferredEvents() line: 1692
		Display.readAndDispatch() line: 1410
		Workbench.runEventLoop(Window$IExceptionHandler) line: 1288
		Workbench.run(Object) line: 1271
		InternalBootLoader.run(String, URL, String, String[], Runnable) 
line: 845
		BootLoader.run(String, URL, String, String[], Runnable) line: 
461
		NativeMethodAccessorImpl.invoke0(Method, Object, Object[]) 
line: not available [native method]
		NativeMethodAccessorImpl.invoke(Object, Object[]) line: 39 
[local variables unavailable]
		DelegatingMethodAccessorImpl.invoke(Object, Object[]) line: 25 
[local variables unavailable]
		Method.invoke(Object, Object[]) line: 324 [local variables 
unavailable]
		Main.basicRun(String[]) line: 247
		Main.run(String[]) line: 703
		Main.main(String[]) line: 539
	System Thread [Signal Dispatcher] (Running)
	Thread [Java indexing] (Running)
	Thread [Decoration] (Running)
	Thread [org.eclipse.jdt.internal.ui.text.JavaReconciler] (Suspended)
		Object.wait(long) line: not available [native method]
		Semaphore(Object).wait() line: 426 [local variables unavailable]
		Semaphore.acquire() line: 24
		UIWorkspaceLock(WorkspaceLock).acquire() line: 49
		UIWorkspaceLock.acquire() line: 40
		WorkManager.checkIn() line: 80
		Workspace.prepareOperation() line: 1551
		Workspace.run(IWorkspaceRunnable, IProgressMonitor) line: 1586
		WorkingCopy(JavaElement).runOperation(JavaModelOperation, 
IProgressMonitor) line: 556
		WorkingCopy.reconcile(boolean, IProgressMonitor) line: 415
		JavaReconcilingStrategy.reconcile() line: 72
		JavaReconcilingStrategy.reconcile(IRegion) line: 99
		JavaReconciler(MonoReconciler).process(DirtyRegion) line: 76
		AbstractReconciler$BackgroundThread.run() line: 189
Fixed for build &gt; I20030213
*** Bug 31918 has been marked as a duplicate of this bug. ***
*** Bug 31933 has been marked as a duplicate of this bug. ***
I do not believe this fix is in the I20030214 build...Zurich was likely asleep 
by the time the build started :-)

*** Bug 31904 has been marked as a duplicate of this bug. ***
*** Bug 31877 has been marked as a duplicate of this bug. ***
*** Bug 32011 has been marked as a duplicate of this bug. ***
*** Bug 32042 has been marked as a duplicate of this bug. ***
*** Bug 32039 has been marked as a duplicate of this bug. ***
*** Bug 32071 has been marked as a duplicate of this bug. ***
*** Bug 32068 has been marked as a duplicate of this bug. ***
*** Bug 32127 has been marked as a duplicate of this bug. ***
*** Bug 32139 has been marked as a duplicate of this bug. ***
*** Bug 32402 has been marked as a duplicate of this bug. ***</WithOutStack>
  </Bug>
  <Bug>
    <BugId amount="31892" />
    <CreationDate amount="2003-02-14 12:14:00 -0500" />
    <DupId amount="" />
    <classification amount="Eclipse" />
    <Product amount="PDE" />
    <component amount="UI" />
    <Version amount="2.1" />
    <rep_platform amount="PC" />
    <op_sys amount="Windows 2000" />
    <priority amount="P3" />
    <bug_severity amount="normal" />
    <Summery>Errors when exporting deployable plug-in?</Summery>
    <Patches amount="0" />
    <Stacktraces amount="0" />
    <SourceCodeRegions amount="0" />
    <Enumerations amount="1">
      <Enumeration lines="5">
        <Lines>
          <Line>- where do I look for the compiler error output?</Line>
          <Line>- the zip file was created and it appears to be ok (although I haven't run it</Line>
          <Line>yet)</Line>
          <Line>Note that the zip was created but there were indeed compilation errors in the</Line>
          <Line>class files. But not in the versions in my workspace.</Line>
        </Lines>
      </Enumeration>
    </Enumerations>
    <bug_status amount="RESOLVED" />
    <resolution amount="FIXED" />
    <WithStack>build i2003-02-11 (1320), win2k, J9

I selected a project and followed the steps to export it to a ZIP file as a 
deployable plug-in but I got an error dialog saying that there were problems. 
This is the log file from that:
    Error: Compile failed; see the compiler error output for details.
       Project: org.eclipse.core.tools.workspacerebuilder
       Target: rebuilder.jar

There are a couple of problems here:
- where do I look for the compiler error output?
- the zip file was created and it appears to be ok (although I haven't run it 
yet)
Note that the zip was created but there were indeed compilation errors in the 
class files. But not in the versions in my workspace.


*** This bug has been marked as a duplicate of 31084 ***
The first problem reported in this bugzilla was not addressed, only the second
one.  So the first issue:

"I selected a project and followed the steps to export it to a ZIP file as a 
deployable plug-in but I got an error dialog saying that there were problems. 
This is the log file from that:
    Error: Compile failed; see the compiler error output for details.
       Project: org.eclipse.core.tools.workspacerebuilder
       Target: rebuilder.jar

There are a couple of problems here:
- where do I look for the compiler error output?"

is still outstanding since it can be reproduced in WSAD 5.1.2 (Eclipse 2.1.3).
It is enough to have the plugin depend on a jar, but forget to add it to the
plugin's runtime classpath.  If testing the plugin in the runtime workbench, 
it would fail with a java.lang.NoClassDefFoundError but if trying to export it
as a deployable plug-in, then that mysterious message is pointing to a
non-existent log file.  (Some temporary log that gets deleted after the
compile...?)  So the message is not helpful, to say the least.
this defect is ancient history (Eclipse 2.1.3) and has been resolved in 3.0 
and later.</WithStack>
    <WithOutStack>build i2003-02-11 (1320), win2k, J9

I selected a project and followed the steps to export it to a ZIP file as a 
deployable plug-in but I got an error dialog saying that there were problems. 
This is the log file from that:
    Error: Compile failed; see the compiler error output for details.
       Project: org.eclipse.core.tools.workspacerebuilder
       Target: rebuilder.jar

There are a couple of problems here:
- where do I look for the compiler error output?
- the zip file was created and it appears to be ok (although I haven't run it 
yet)
Note that the zip was created but there were indeed compilation errors in the 
class files. But not in the versions in my workspace.


*** This bug has been marked as a duplicate of 31084 ***
The first problem reported in this bugzilla was not addressed, only the second
one.  So the first issue:

"I selected a project and followed the steps to export it to a ZIP file as a 
deployable plug-in but I got an error dialog saying that there were problems. 
This is the log file from that:
    Error: Compile failed; see the compiler error output for details.
       Project: org.eclipse.core.tools.workspacerebuilder
       Target: rebuilder.jar

There are a couple of problems here:
- where do I look for the compiler error output?"

is still outstanding since it can be reproduced in WSAD 5.1.2 (Eclipse 2.1.3).
It is enough to have the plugin depend on a jar, but forget to add it to the
plugin's runtime classpath.  If testing the plugin in the runtime workbench, 
it would fail with a java.lang.NoClassDefFoundError but if trying to export it
as a deployable plug-in, then that mysterious message is pointing to a
non-existent log file.  (Some temporary log that gets deleted after the
compile...?)  So the message is not helpful, to say the least.
this defect is ancient history (Eclipse 2.1.3) and has been resolved in 3.0 
and later.</WithOutStack>
  </Bug>
  <Bug>
    <BugId amount="31893" />
    <CreationDate amount="2003-02-14 12:41:00 -0500" />
    <DupId amount="10035" />
    <classification amount="Eclipse" />
    <Product amount="JDT" />
    <component amount="Debug" />
    <Version amount="2.1" />
    <rep_platform amount="All" />
    <op_sys amount="All" />
    <priority amount="P3" />
    <bug_severity amount="enhancement" />
    <Summery>Variables from external tools would also be nice in run/debug functionality</Summery>
    <Patches amount="0" />
    <Stacktraces amount="0" />
    <SourceCodeRegions amount="0" />
    <Enumerations amount="0" />
    <bug_status amount="RESOLVED" />
    <resolution amount="DUPLICATE" />
    <WithStack>When external tools are set up, it is possible to use variables of the form 
  ${project_loc}
which get replaced with the appropriate value.

These variables are quite useful, so I would like to be able to use the same
variables in run and debug sessions in the java environment. I think I can kind
of work around this a bit by setting up an external tool for the same thing I
want to run (or debug, and then attach), but it would be quite clunky.
This is a duplicate request - but it won't be in 2.1

*** This bug has been marked as a duplicate of 10035 ***</WithStack>
    <WithOutStack>When external tools are set up, it is possible to use variables of the form 
  ${project_loc}
which get replaced with the appropriate value.

These variables are quite useful, so I would like to be able to use the same
variables in run and debug sessions in the java environment. I think I can kind
of work around this a bit by setting up an external tool for the same thing I
want to run (or debug, and then attach), but it would be quite clunky.
This is a duplicate request - but it won't be in 2.1

*** This bug has been marked as a duplicate of 10035 ***</WithOutStack>
  </Bug>
  <Bug>
    <BugId amount="31894" />
    <CreationDate amount="2003-02-14 12:55:00 -0500" />
    <DupId amount="" />
    <classification amount="Eclipse" />
    <Product amount="Platform" />
    <component amount="Update  (deprecated - use RT&gt;Equinox&gt;p2)" />
    <Version amount="2.1" />
    <rep_platform amount="PC" />
    <op_sys amount="Windows NT" />
    <priority amount="P3" />
    <bug_severity amount="minor" />
    <Summery>Update M4-&gt;M5 with Update Manager does not work</Summery>
    <Patches amount="0" />
    <Stacktraces amount="0" />
    <SourceCodeRegions amount="0" />
    <Enumerations amount="0" />
    <bug_status amount="RESOLVED" />
    <resolution amount="WORKSFORME" />
    <WithStack>When trying to get the M5 Update from the TestUpdate-Site (that means, the
Release 200302061700), the download is working, but the installation fails with
the information that one of the temp files "is not a valid jar file".
Christophe, can you verify that the JAR was not correctly built in M4?
Too old plus seems like a corrupt archive. We tested recently and can update 
Eclipse without problems. Closing.</WithStack>
    <WithOutStack>When trying to get the M5 Update from the TestUpdate-Site (that means, the
Release 200302061700), the download is working, but the installation fails with
the information that one of the temp files "is not a valid jar file".
Christophe, can you verify that the JAR was not correctly built in M4?
Too old plus seems like a corrupt archive. We tested recently and can update 
Eclipse without problems. Closing.</WithOutStack>
  </Bug>
  <Bug>
    <BugId amount="31895" />
    <CreationDate amount="2003-02-14 13:09:00 -0500" />
    <DupId amount="" />
    <classification amount="Eclipse" />
    <Product amount="Platform" />
    <component amount="Team" />
    <Version amount="2.1" />
    <rep_platform amount="PC" />
    <op_sys amount="All" />
    <priority amount="P3" />
    <bug_severity amount="normal" />
    <Summery>[CVS Core] RepositoryManager is grab bag, needs refactoring</Summery>
    <Patches amount="0" />
    <Stacktraces amount="0" />
    <SourceCodeRegions amount="0" />
    <Enumerations amount="0" />
    <bug_status amount="RESOLVED" />
    <resolution amount="FIXED" />
    <WithStack>The RepositoryManager class is a grab bag of functionality.  In particular, 
the commit history stuff should be elsewhere.
Fixed</WithStack>
    <WithOutStack>The RepositoryManager class is a grab bag of functionality.  In particular, 
the commit history stuff should be elsewhere.
Fixed</WithOutStack>
  </Bug>
  <Bug>
    <BugId amount="31896" />
    <CreationDate amount="2003-02-14 13:12:00 -0500" />
    <DupId amount="" />
    <classification amount="Eclipse" />
    <Product amount="Platform" />
    <component amount="SWT" />
    <Version amount="2.1" />
    <rep_platform amount="PC" />
    <op_sys amount="Windows 2000" />
    <priority amount="P3" />
    <bug_severity amount="normal" />
    <Summery>Cheese from selected Menu Items</Summery>
    <Patches amount="0" />
    <Stacktraces amount="0" />
    <SourceCodeRegions amount="0" />
    <Enumerations amount="0" />
    <bug_status amount="RESOLVED" />
    <resolution amount="WORKSFORME" />
    <WithStack>I20030213

Sometimes when you select a menu item, the selected item remains on the screen 
as cheese.  It disappears if you do anything.  This did not occur in I20030211.

Will try to get a reproducible case.
Sorry no case for me to test.</WithStack>
    <WithOutStack>I20030213

Sometimes when you select a menu item, the selected item remains on the screen 
as cheese.  It disappears if you do anything.  This did not occur in I20030211.

Will try to get a reproducible case.
Sorry no case for me to test.</WithOutStack>
  </Bug>
  <Bug>
    <BugId amount="31897" />
    <CreationDate amount="2003-02-14 13:29:00 -0500" />
    <DupId amount="" />
    <classification amount="Eclipse" />
    <Product amount="JDT" />
    <component amount="UI" />
    <Version amount="2.1" />
    <rep_platform amount="PC" />
    <op_sys amount="Windows XP" />
    <priority amount="P2" />
    <bug_severity amount="normal" />
    <Summery>Hierarchy View expands all treeitems on save</Summery>
    <Patches amount="0" />
    <Stacktraces amount="0" />
    <SourceCodeRegions amount="0" />
    <Enumerations amount="0" />
    <bug_status amount="RESOLVED" />
    <resolution amount="FIXED" />
    <WithStack>I have a hierarchy perspective open rooted on a package.  Whenever I save a CU 
in the package, the entire hierarchy view Tree is expanded.
please do not set priorities to reports
only committers (and TLs and arch team) should do that
thanks

Marin, have you seen this happenning?
which build?
M5
Martin, this still exists in build I20030214.
fixed &gt; 20030217</WithStack>
    <WithOutStack>I have a hierarchy perspective open rooted on a package.  Whenever I save a CU 
in the package, the entire hierarchy view Tree is expanded.
please do not set priorities to reports
only committers (and TLs and arch team) should do that
thanks

Marin, have you seen this happenning?
which build?
M5
Martin, this still exists in build I20030214.
fixed &gt; 20030217</WithOutStack>
  </Bug>
  <Bug>
    <BugId amount="31898" />
    <CreationDate amount="2003-02-14 13:33:00 -0500" />
    <DupId amount="" />
    <classification amount="Eclipse" />
    <Product amount="JDT" />
    <component amount="Debug" />
    <Version amount="2.1" />
    <rep_platform amount="PC" />
    <op_sys amount="Windows 2000" />
    <priority amount="P2" />
    <bug_severity amount="normal" />
    <Summery>Error in the status bar without any text selected in the console</Summery>
    <Patches amount="0" />
    <Stacktraces amount="0" />
    <SourceCodeRegions amount="0" />
    <Enumerations amount="0" />
    <bug_status amount="VERIFIED" />
    <resolution amount="FIXED" />
    <WithStack>Using 0213, I got a error reported in the console about the fact that the
current selection is not an hyperlink even if the console is empty.
See the attached image.
Created attachment 3500
Error in the status bar

You can see an empty console with the error. This error should not be there.
Olivier, can you provide any kind of context for this?  Had you done launches 
that put stack traces in the console?  Had you cleared the console?

Yes, I had stack traces in the console. I entered another PR for links that 
cannot be on multiple lines.
I cleared the console and I also removed the terminated threads. I could simply 
not get rid of this error message.
OK, I can duplicate the problem, but only by selecting some non-hyperlink text, 
then hitting F3 to open an editor.  The message disappears whenever the console 
doesn't have focus, but when the console has focus, the message appears to be 
stuck there.

Fixed in ConsoleView &amp; KeyBindingFollowHyperlinkAction.  Empty selections and 
input changes now clear status line if it contains the error message.

Please verify, Darin W.

Verified</WithStack>
    <WithOutStack>Using 0213, I got a error reported in the console about the fact that the
current selection is not an hyperlink even if the console is empty.
See the attached image.
Created attachment 3500
Error in the status bar

You can see an empty console with the error. This error should not be there.
Olivier, can you provide any kind of context for this?  Had you done launches 
that put stack traces in the console?  Had you cleared the console?

Yes, I had stack traces in the console. I entered another PR for links that 
cannot be on multiple lines.
I cleared the console and I also removed the terminated threads. I could simply 
not get rid of this error message.
OK, I can duplicate the problem, but only by selecting some non-hyperlink text, 
then hitting F3 to open an editor.  The message disappears whenever the console 
doesn't have focus, but when the console has focus, the message appears to be 
stuck there.

Fixed in ConsoleView &amp; KeyBindingFollowHyperlinkAction.  Empty selections and 
input changes now clear status line if it contains the error message.

Please verify, Darin W.

Verified</WithOutStack>
  </Bug>
  <Bug>
    <BugId amount="31899" />
    <CreationDate amount="2003-02-14 13:36:00 -0500" />
    <DupId amount="" />
    <classification amount="Eclipse" />
    <Product amount="JDT" />
    <component amount="Debug" />
    <Version amount="2.1" />
    <rep_platform amount="PC" />
    <op_sys amount="Windows 2000" />
    <priority amount="P3" />
    <bug_severity amount="normal" />
    <Summery>Consolidate "Java" hyperlinks</Summery>
    <Patches amount="0" />
    <Stacktraces amount="0" />
    <SourceCodeRegions amount="0" />
    <Enumerations amount="0" />
    <bug_status amount="VERIFIED" />
    <resolution amount="FIXED" />
    <WithStack>Using 0213, if the console width is not big enough, even if I have a stack trace
I cannot click to get to the source code.
The workaround is to extend the console width and get the stack trace again.
Then the hyperlinks work ok. I think the console width should not matter.
Do you mean the console shows only part of the text that is part of the 
hyperlink? and the hypperlink will not activate?
I mean that the console shows the whole link split on two lines, but the 
hyperlink is desactivated. If I increase the console width, then the hyperlink 
is on a single line and it is activated.
If using a fixed console width, the "line trackers" will not recognize the 
links. The "line trackers" that examine console output currently work on a line-
by-line basis.

Deferred.
Consider with generic console work in 3.1
*** Bug 47772 has been marked as a duplicate of this bug. ***
*** Bug 49414 has been marked as a duplicate of this bug. ***
Fixed in IOConsole with IOConsoleDocumentAdapter. Hyperlinks wrap properly when using a fixed 
width console. 
Filed separate bug #72617 to migrate ProcessConsole to the new code.
Darin, please verify
Verified new infrastructure supports wrapping links across lines. Bug 72167 
will address migrating the support to the process console.</WithStack>
    <WithOutStack>Using 0213, if the console width is not big enough, even if I have a stack trace
I cannot click to get to the source code.
The workaround is to extend the console width and get the stack trace again.
Then the hyperlinks work ok. I think the console width should not matter.
Do you mean the console shows only part of the text that is part of the 
hyperlink? and the hypperlink will not activate?
I mean that the console shows the whole link split on two lines, but the 
hyperlink is desactivated. If I increase the console width, then the hyperlink 
is on a single line and it is activated.
If using a fixed console width, the "line trackers" will not recognize the 
links. The "line trackers" that examine console output currently work on a line-
by-line basis.

Deferred.
Consider with generic console work in 3.1
*** Bug 47772 has been marked as a duplicate of this bug. ***
*** Bug 49414 has been marked as a duplicate of this bug. ***
Fixed in IOConsole with IOConsoleDocumentAdapter. Hyperlinks wrap properly when using a fixed 
width console. 
Filed separate bug #72617 to migrate ProcessConsole to the new code.
Darin, please verify
Verified new infrastructure supports wrapping links across lines. Bug 72167 
will address migrating the support to the process console.</WithOutStack>
  </Bug>
  <Bug>
    <BugId amount="31900" />
    <CreationDate amount="2003-02-14 14:05:00 -0500" />
    <DupId amount="22712" />
    <classification amount="Eclipse" />
    <Product amount="JDT" />
    <component amount="Text" />
    <Version amount="2.1" />
    <rep_platform amount="All" />
    <op_sys amount="All" />
    <priority amount="P3" />
    <bug_severity amount="enhancement" />
    <Summery>add ability to show tabs as special characters</Summery>
    <Patches amount="0" />
    <Stacktraces amount="0" />
    <SourceCodeRegions amount="0" />
    <Enumerations amount="0" />
    <bug_status amount="RESOLVED" />
    <resolution amount="DUPLICATE" />
    <WithStack>It would be nice if there was a toggle action which would show tabs as special
character in your editor. (for Example TextPad does it).
dup of Bug 22712


*** This bug has been marked as a duplicate of 22712 ***</WithStack>
    <WithOutStack>It would be nice if there was a toggle action which would show tabs as special
character in your editor. (for Example TextPad does it).
dup of Bug 22712


*** This bug has been marked as a duplicate of 22712 ***</WithOutStack>
  </Bug>
</infozilla-output>

