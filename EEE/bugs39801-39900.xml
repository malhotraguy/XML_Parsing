<?xml version="1.0" encoding="UTF-8"?>
<infozilla-output>
  <Bug>
    <BugId amount="39801" />
    <CreationDate amount="2003-07-09 07:49:00 -0400" />
    <DupId amount="19521" />
    <classification amount="Eclipse" />
    <Product amount="Platform" />
    <component amount="Debug" />
    <Version amount="3.0" />
    <rep_platform amount="PC" />
    <op_sys amount="Windows 2000" />
    <priority amount="P3" />
    <bug_severity amount="minor" />
    <Summery>[Dialogs] Launches: only show current ones?</Summery>
    <Patches amount="0" />
    <Stacktraces amount="0" />
    <SourceCodeRegions amount="0" />
    <Enumerations amount="0" />
    <bug_status amount="RESOLVED" />
    <resolution amount="DUPLICATE" />
    <WithStack>Wouldn't it make more sense to only show the launches belonging to the 
currently open project(s), rather than the launches of all projects?
I'm not sure what you are referring to here.  Are you referring to those 
projects that are listed in the Package Explorer view or the Navigator view or 
in some debug information you are printing out or in your .log file?  Could 
you provide explicit details (perhaps a concrete example) on what you are 
seeing and what you would expect to see?
The package Explorer view.

Let's say I have ProjectA and ProjectB, each of which contains a number of 
different programs, each of which has its own launch (bear in mind a launch is 
associated with only one project).   

If I am working in ProjectA (ProjectA open and ProjectB closed), I wouldn't be 
wanting to launch any of the programs in ProjectB, and vice-versa.  However the 
launch pull-down list always shows all the launches - those for ProjectA as 
well as all those for ProjectB.  

What I am suggesting is that when, say, only ProjectA is open, the launch pull-
down should only show launches associated with ProjectA.

   
This is handled by the Debug component.
If you place a launch configuration inside a project (configured on the "Common" 
tab) and later close that project, the configuration is removed from the menu.

The "Project" attribute of the Java launch configuration type is only known to 
the Java launching support. Generically, launch configuration's don't have a 
Project, so the menu (which doesn't know about Java launching) can't exclude 
configs based on this attribute.
Now using 3.0 M9, on W2K.

As regards the first point, I have not found this to be the case. The launches 
of closed projects are still listed, even though in their common tab the "Type 
of launch configuration" is Local, and neither of the "Display in favorites 
menu" options is checked.

As regards the second point, does this not contradict the first point?  If as 
you say the menu can't know the launches' projects, how can it know to exclude 
the launches of closed projects?

Essentially what I am suggesting/requesting, is that the project attribute of a 
launch SHOULD be made public; so that, for example, the menu module can know 
which launches to display and which ones not to.   

(This becomes increasingly relevant as your projects and launches increase in 
number).





In commnet#4, note that we said "shared" configs are not displayed when their 
project is closed - i.e. stored as a file in the workspace (rather than 
locally with with workspace metadata). Local configs are still displayed when 
their project is closed. I'm now marking this as a dup of bug 19521.

*** This bug has been marked as a duplicate of 19521 ***</WithStack>
    <WithOutStack>Wouldn't it make more sense to only show the launches belonging to the 
currently open project(s), rather than the launches of all projects?
I'm not sure what you are referring to here.  Are you referring to those 
projects that are listed in the Package Explorer view or the Navigator view or 
in some debug information you are printing out or in your .log file?  Could 
you provide explicit details (perhaps a concrete example) on what you are 
seeing and what you would expect to see?
The package Explorer view.

Let's say I have ProjectA and ProjectB, each of which contains a number of 
different programs, each of which has its own launch (bear in mind a launch is 
associated with only one project).   

If I am working in ProjectA (ProjectA open and ProjectB closed), I wouldn't be 
wanting to launch any of the programs in ProjectB, and vice-versa.  However the 
launch pull-down list always shows all the launches - those for ProjectA as 
well as all those for ProjectB.  

What I am suggesting is that when, say, only ProjectA is open, the launch pull-
down should only show launches associated with ProjectA.

   
This is handled by the Debug component.
If you place a launch configuration inside a project (configured on the "Common" 
tab) and later close that project, the configuration is removed from the menu.

The "Project" attribute of the Java launch configuration type is only known to 
the Java launching support. Generically, launch configuration's don't have a 
Project, so the menu (which doesn't know about Java launching) can't exclude 
configs based on this attribute.
Now using 3.0 M9, on W2K.

As regards the first point, I have not found this to be the case. The launches 
of closed projects are still listed, even though in their common tab the "Type 
of launch configuration" is Local, and neither of the "Display in favorites 
menu" options is checked.

As regards the second point, does this not contradict the first point?  If as 
you say the menu can't know the launches' projects, how can it know to exclude 
the launches of closed projects?

Essentially what I am suggesting/requesting, is that the project attribute of a 
launch SHOULD be made public; so that, for example, the menu module can know 
which launches to display and which ones not to.   

(This becomes increasingly relevant as your projects and launches increase in 
number).





In commnet#4, note that we said "shared" configs are not displayed when their 
project is closed - i.e. stored as a file in the workspace (rather than 
locally with with workspace metadata). Local configs are still displayed when 
their project is closed. I'm now marking this as a dup of bug 19521.

*** This bug has been marked as a duplicate of 19521 ***</WithOutStack>
  </Bug>
  <Bug>
    <BugId amount="39802" />
    <CreationDate amount="2003-07-09 08:03:00 -0400" />
    <DupId amount="" />
    <classification amount="Tools" />
    <Product amount="GEF" />
    <component amount="Draw2d [GEF 3.x / Zest 1.x]" />
    <Version amount="2.1.1" />
    <rep_platform amount="PC" />
    <op_sys amount="Windows XP" />
    <priority amount="P3" />
    <bug_severity amount="normal" />
    <Summery>empty method in org.eclipse.draw2.Polyline : primTranslate</Summery>
    <Patches amount="0" />
    <Stacktraces amount="0" />
    <SourceCodeRegions amount="1">
      <source_code type="functiondef">
        <location start="578" end="779" />
        <code>public void primTranslate(int x, int y) {
    if (x != 0 || y != 0) {
      PointList list = getPoints();
      list.translate(x, y);
      if (bounds != null)
        bounds.translate(x, y);
    }
  }</code>
      </source_code>
    </SourceCodeRegions>
    <Enumerations amount="0" />
    <bug_status amount="RESOLVED" />
    <resolution amount="INVALID" />
    <WithStack>the method trimTranslate is empty.
This may leed to infinite loops in some cases.
In particular the for loop in DeferredUpdateManager.validateFigures may become 
infinite.
To reproduce, you can simply replace the Rectangle figure by a polyline in the 
HelloGef sample.
Basically, what happens is that the primTranslate does nothing. As a 
consequence the setBounds does not update the bounds correctly, and so the 
fireMoved is called, although it shouldn't.
This results in an infinite loop.
To solve the problem the primtranslate method should be implemented.
For instance :

public void primTranslate(int x, int y) {
    if (x != 0 || y != 0) {
      PointList list = getPoints();
      list.translate(x, y);
      if (bounds != null)
        bounds.translate(x, y);
    }
  }
setBounds should never be called on a Polyline, therefore primTranslate is 
never called either.  It is overridden to prevent the children figures (which 
might be decorations on the connection) from being translated, should setBounds
() be called during validate.

The PointList is only modified by the API which obviously manipulates the 
points.  Bounds are a side-effect of points and decorations, so polyline is not 
like other shapes.
Ok, this means the fix I suggested is the wrong one.
Sorry for that.
However the problem remains and it can be reproduced with the HelloGef sample 
based on the Logic sample.
If the setBounds method should never be called, then I guess there is a 
problem with the method : XYLayout.layout(IFigure parent), since it calls the 
setBounds method, and this is responsible for the infinite loop I mentionned 
in my previous comment.

The HelloGef example is using Polyline incorrectly. A polyline should not be 
added to a container in XYLayout.
That example is not maintined by the GEF team, so you'd have to ask its current 
owners to fix any bugs in it.
I don't understand why I can not add a polyline to a container with xyLayout.
Could you please give me some more information on this point?
What about polygon? The problem is the same with Polygon.
What is the point of this figure if I can not add it to an xylayout.
What is the point of having a generic API if I can not add any kind of figure.
Anyway I guess I'll stick with my own work-around, or maybe I'll use the logic 
sample approach : rewrite a sublclass of figure from scratch.
I am a little bit disappointed though.</WithStack>
    <WithOutStack>the method trimTranslate is empty.
This may leed to infinite loops in some cases.
In particular the for loop in DeferredUpdateManager.validateFigures may become 
infinite.
To reproduce, you can simply replace the Rectangle figure by a polyline in the 
HelloGef sample.
Basically, what happens is that the primTranslate does nothing. As a 
consequence the setBounds does not update the bounds correctly, and so the 
fireMoved is called, although it shouldn't.
This results in an infinite loop.
To solve the problem the primtranslate method should be implemented.
For instance :

public void primTranslate(int x, int y) {
    if (x != 0 || y != 0) {
      PointList list = getPoints();
      list.translate(x, y);
      if (bounds != null)
        bounds.translate(x, y);
    }
  }
setBounds should never be called on a Polyline, therefore primTranslate is 
never called either.  It is overridden to prevent the children figures (which 
might be decorations on the connection) from being translated, should setBounds
() be called during validate.

The PointList is only modified by the API which obviously manipulates the 
points.  Bounds are a side-effect of points and decorations, so polyline is not 
like other shapes.
Ok, this means the fix I suggested is the wrong one.
Sorry for that.
However the problem remains and it can be reproduced with the HelloGef sample 
based on the Logic sample.
If the setBounds method should never be called, then I guess there is a 
problem with the method : XYLayout.layout(IFigure parent), since it calls the 
setBounds method, and this is responsible for the infinite loop I mentionned 
in my previous comment.

The HelloGef example is using Polyline incorrectly. A polyline should not be 
added to a container in XYLayout.
That example is not maintined by the GEF team, so you'd have to ask its current 
owners to fix any bugs in it.
I don't understand why I can not add a polyline to a container with xyLayout.
Could you please give me some more information on this point?
What about polygon? The problem is the same with Polygon.
What is the point of this figure if I can not add it to an xylayout.
What is the point of having a generic API if I can not add any kind of figure.
Anyway I guess I'll stick with my own work-around, or maybe I'll use the logic 
sample approach : rewrite a sublclass of figure from scratch.
I am a little bit disappointed though.</WithOutStack>
  </Bug>
  <Bug>
    <BugId amount="39803" />
    <CreationDate amount="2003-07-09 08:49:00 -0400" />
    <DupId amount="" />
    <classification amount="Eclipse" />
    <Product amount="JDT" />
    <component amount="UI" />
    <Version amount="2.1" />
    <rep_platform amount="PC" />
    <op_sys amount="Windows 2000" />
    <priority amount="P3" />
    <bug_severity amount="major" />
    <Summery>Junit plugin does not show  'com.clarkware.junitperf.TimedTest' test failiures [JUnit]</Summery>
    <Patches amount="0" />
    <Stacktraces amount="0" />
    <SourceCodeRegions amount="0" />
    <Enumerations amount="0" />
    <bug_status amount="RESOLVED" />
    <resolution amount="FIXED" />
    <WithStack>When using Eclipse's  junit-plugin for tests that use
com.clarkware.junitperf.TimedTest the junit-plugin just ignores failures the
come from TimedTest. When using JUnits textUi however, the failures are shown as
expected. See screenshots and sourcecode attached.
Additional required jar:
http://www.clarkware.com/software/junitperf1.8.zip
Created attachment 5404
Screenshot when using Eclipse-JunitUI
Created attachment 5405
Screenshot when using Junits TextUI
Created attachment 5406
sourcecode to reproduce the Bug
Created attachment 5407
required additional jar
this got fixed some time ago</WithStack>
    <WithOutStack>When using Eclipse's  junit-plugin for tests that use
com.clarkware.junitperf.TimedTest the junit-plugin just ignores failures the
come from TimedTest. When using JUnits textUi however, the failures are shown as
expected. See screenshots and sourcecode attached.
Additional required jar:
http://www.clarkware.com/software/junitperf1.8.zip
Created attachment 5404
Screenshot when using Eclipse-JunitUI
Created attachment 5405
Screenshot when using Junits TextUI
Created attachment 5406
sourcecode to reproduce the Bug
Created attachment 5407
required additional jar
this got fixed some time ago</WithOutStack>
  </Bug>
  <Bug>
    <BugId amount="39804" />
    <CreationDate amount="2003-07-09 09:59:00 -0400" />
    <DupId amount="39907" />
    <classification amount="Eclipse" />
    <Product amount="JDT" />
    <component amount="UI" />
    <Version amount="3.0" />
    <rep_platform amount="All" />
    <op_sys amount="All" />
    <priority amount="P3" />
    <bug_severity amount="enhancement" />
    <Summery>Need ability to create constructor based on one or more fields [code manipulation]</Summery>
    <Patches amount="0" />
    <Stacktraces amount="0" />
    <SourceCodeRegions amount="0" />
    <Enumerations amount="0" />
    <bug_status amount="RESOLVED" />
    <resolution amount="DUPLICATE" />
    <WithStack>Eclipse already has the ability to create a constructor based on the superclass
constructor. However, it would be a big timesaver if it could also create
constructors based on a specified set of fields of the class, where those fields
would become param names, and would be initialized from the params.
  The plugin here
http://www.lehnert.net/eclipse
actually does this, although it only works from outline mode (where you have to
pick 1-x fields and then right click), and it is not quite intelligent enough,
not knowing anything about the field prefixes and suffixes available in Eclipse 2.1.

I think this functionality really should be in Eclipse itself.
something of the kind is in the works already
The latest integration build July 9, 2003 should include this feature. Go to 
Source-&gt;Create Constructor using fields...
*** Bug 39942 has been marked as a duplicate of this bug. ***


*** This bug has been marked as a duplicate of 39907 ***</WithStack>
    <WithOutStack>Eclipse already has the ability to create a constructor based on the superclass
constructor. However, it would be a big timesaver if it could also create
constructors based on a specified set of fields of the class, where those fields
would become param names, and would be initialized from the params.
  The plugin here
http://www.lehnert.net/eclipse
actually does this, although it only works from outline mode (where you have to
pick 1-x fields and then right click), and it is not quite intelligent enough,
not knowing anything about the field prefixes and suffixes available in Eclipse 2.1.

I think this functionality really should be in Eclipse itself.
something of the kind is in the works already
The latest integration build July 9, 2003 should include this feature. Go to 
Source-&gt;Create Constructor using fields...
*** Bug 39942 has been marked as a duplicate of this bug. ***


*** This bug has been marked as a duplicate of 39907 ***</WithOutStack>
  </Bug>
  <Bug>
    <BugId amount="39805" />
    <CreationDate amount="2003-07-09 10:04:00 -0400" />
    <DupId amount="" />
    <classification amount="Eclipse" />
    <Product amount="JDT" />
    <component amount="Core" />
    <Version amount="2.1" />
    <rep_platform amount="PC" />
    <op_sys amount="Windows NT" />
    <priority amount="P3" />
    <bug_severity amount="normal" />
    <Summery>Unused JAR files in the project are locked</Summery>
    <Patches amount="0" />
    <Stacktraces amount="0" />
    <SourceCodeRegions amount="0" />
    <Enumerations amount="1">
      <Enumeration lines="5">
        <Lines>
          <Line>- Starting Eclipse</Line>
          <Line>- Refreshing the Project</Line>
          <Line>- Opening the jar in Eclipse (double-clicking will show it as a text file!?)</Line>
          <Line>- Rebuilding the project</Line>
          <Line>- Having the jar file visible in the Package Explorer</Line>
        </Lines>
      </Enumeration>
    </Enumerations>
    <bug_status amount="RESOLVED" />
    <resolution amount="WORKSFORME" />
    <WithStack>I use Eclipse to edit and test my code and then a rather complicated ant script 
to deploy it.

This ant script depends on a JAR files ant_lib/metro.jar which isn't in the 
build path of Eclipse but every now and then, I can't delete this file because 
someone has a lock on it. When I close eclipse, the lock goes away so I suppose 
that Eclipse locks this file.

Please don't open or lock files which are neither open in the UI nor used in 
the buildpath of Eclipse.
Sorry, I wasn't clear enough about this: The ant script will only copy this jar 
from a server onto the local disk. I'm not using it in a classpath in either 
Eclipse or ANT, so the bug must be somewhere in the UI.

Actually, I'm not even using the Ant which comes with Eclipse :-) (When I'm 
happy, I have a DOS box waiting in the background where I can start the 
deployment with two keypresses).
We don't open JAR files in the platform.  Moving to JDT, as they open and
manipulate JARs that are visible in the package explorer. 

Aaron, if you can give more information to narrow it down, it would help to find
the culprit.  Do you always get the error, or only sometimes?  Do you get the
error after a simple startup/shutdown of Eclipse?  Do you only get the error
after running/debugging an application that uses the JAR?  Do you have any other
plugins installed that might be opening the JAR?
I don't always get the error but I can say for sure that I never saw it with 2.0. It must 
have crept in with a change for 2.1. 
 
I guess that it something I do but I haven't found out what. A simple startup+compile 
doesn't break. 
 
It has nothing to do with running the app because I can't (basically, I'm using Eclipse 
as an editor, build the stuff with Ant and then upload it in the ant script to the server 
where the environment exists to run it). 
 
I have to double-check, but I'm pretty sure that I have no additional plugins installed (I 
tried a couple with 2.0 but I think my 2.1 install is clean). 
I did now double-check: My installation is a clean Eclipse 2.1. But here is a 
list of things that don't trigger the bug:

- Starting Eclipse
- Refreshing the Project
- Opening the jar in Eclipse (double-clicking will show it as a text file!?)
- Rebuilding the project
- Having the jar file visible in the Package Explorer

moving to jdt.core
If the JAR isn't on the classpath then we should entirely ignore it.

Please reopen once you have steps to reproduce this defect.
Timed out
The bug was gone with 3.0. You can close it for real, now.
Reopen to close as WORKSFORME.
Closing as WORKSFORME.</WithStack>
    <WithOutStack>I use Eclipse to edit and test my code and then a rather complicated ant script 
to deploy it.

This ant script depends on a JAR files ant_lib/metro.jar which isn't in the 
build path of Eclipse but every now and then, I can't delete this file because 
someone has a lock on it. When I close eclipse, the lock goes away so I suppose 
that Eclipse locks this file.

Please don't open or lock files which are neither open in the UI nor used in 
the buildpath of Eclipse.
Sorry, I wasn't clear enough about this: The ant script will only copy this jar 
from a server onto the local disk. I'm not using it in a classpath in either 
Eclipse or ANT, so the bug must be somewhere in the UI.

Actually, I'm not even using the Ant which comes with Eclipse :-) (When I'm 
happy, I have a DOS box waiting in the background where I can start the 
deployment with two keypresses).
We don't open JAR files in the platform.  Moving to JDT, as they open and
manipulate JARs that are visible in the package explorer. 

Aaron, if you can give more information to narrow it down, it would help to find
the culprit.  Do you always get the error, or only sometimes?  Do you get the
error after a simple startup/shutdown of Eclipse?  Do you only get the error
after running/debugging an application that uses the JAR?  Do you have any other
plugins installed that might be opening the JAR?
I don't always get the error but I can say for sure that I never saw it with 2.0. It must 
have crept in with a change for 2.1. 
 
I guess that it something I do but I haven't found out what. A simple startup+compile 
doesn't break. 
 
It has nothing to do with running the app because I can't (basically, I'm using Eclipse 
as an editor, build the stuff with Ant and then upload it in the ant script to the server 
where the environment exists to run it). 
 
I have to double-check, but I'm pretty sure that I have no additional plugins installed (I 
tried a couple with 2.0 but I think my 2.1 install is clean). 
I did now double-check: My installation is a clean Eclipse 2.1. But here is a 
list of things that don't trigger the bug:

- Starting Eclipse
- Refreshing the Project
- Opening the jar in Eclipse (double-clicking will show it as a text file!?)
- Rebuilding the project
- Having the jar file visible in the Package Explorer

moving to jdt.core
If the JAR isn't on the classpath then we should entirely ignore it.

Please reopen once you have steps to reproduce this defect.
Timed out
The bug was gone with 3.0. You can close it for real, now.
Reopen to close as WORKSFORME.
Closing as WORKSFORME.</WithOutStack>
  </Bug>
  <Bug>
    <BugId amount="39806" />
    <CreationDate amount="2003-07-09 10:18:00 -0400" />
    <DupId amount="" />
    <classification amount="Eclipse" />
    <Product amount="JDT" />
    <component amount="Core" />
    <Version amount="3.0" />
    <rep_platform amount="PC" />
    <op_sys amount="Windows 2000" />
    <priority amount="P3" />
    <bug_severity amount="normal" />
    <Summery>Search - did not find polymorphic references to DocumentAdapter.isReadOnly()</Summery>
    <Patches amount="0" />
    <Stacktraces amount="0" />
    <SourceCodeRegions amount="0" />
    <Enumerations amount="0" />
    <bug_status amount="RESOLVED" />
    <resolution amount="WORKSFORME" />
    <WithStack>Build 20030703

In full source self-hosting workspace, searching for references in workspace to 
Documentadapter.isReadOnly() did not find any result.

However, when searching for references to IBuffer.isReadOnly() it worked ok.
The only senders to IBuffer.isReadOnly() are senders of Buffer.isReadOnly() 
which cannot be DocumentAdapter.isReadOnly().

Closing.</WithStack>
    <WithOutStack>Build 20030703

In full source self-hosting workspace, searching for references in workspace to 
Documentadapter.isReadOnly() did not find any result.

However, when searching for references to IBuffer.isReadOnly() it worked ok.
The only senders to IBuffer.isReadOnly() are senders of Buffer.isReadOnly() 
which cannot be DocumentAdapter.isReadOnly().

Closing.</WithOutStack>
  </Bug>
  <Bug>
    <BugId amount="39807" />
    <CreationDate amount="2003-07-09 10:33:00 -0400" />
    <DupId amount="18338" />
    <classification amount="Eclipse" />
    <Product amount="Platform" />
    <component amount="Debug" />
    <Version amount="2.1" />
    <rep_platform amount="PC" />
    <op_sys amount="Windows 2000" />
    <priority amount="P3" />
    <bug_severity amount="enhancement" />
    <Summery>Run As and Debug As has gotten worse</Summery>
    <Patches amount="0" />
    <Stacktraces amount="0" />
    <SourceCodeRegions amount="0" />
    <Enumerations amount="1">
      <Enumeration lines="6">
        <Lines>
          <Line>1) Allow this to be customized (from the Run.. wizard for example)</Line>
          <Line>or</Line>
          <Line>2) Do like Windows does with hiding menu items that aren't ever used</Line>
          <Line>*** Bug 40564 has been marked as a duplicate of this bug. ***</Line>
          <Line>This is related to Bug 41448, which requests that the entries be sorted</Line>
          <Line>alphabetically.</Line>
        </Lines>
      </Enumeration>
    </Enumerations>
    <bug_status amount="RESOLVED" />
    <resolution amount="DUPLICATE" />
    <WithStack>In the previous version, the Run As and Debug As had "Java Application" as the 
first option.  Now, applet is the first option.  That's annoying.  Maybe in 
some cases it's most often run as applet, but for me application is 100% of the 
time.  How hard would it be to either

1) Allow this to be customized (from the Run.. wizard for example)
or
2) Do like Windows does with hiding menu items that aren't ever used
*** Bug 40564 has been marked as a duplicate of this bug. ***
This is related to Bug 41448, which requests that the entries be sorted 
alphabetically.

I'd recommend adding a way to remove items from the list - a checkbox table in 
the preferences.
This is also related to context sensitive launching, which would be a better 
solution to the problem. I.e. a context/run menu that infers what type of 
launch configurations are applicable to the selection/active editor.
I'm going to mark this as a duplicagte. Context menu launching and activity 
filtering are intended to solve this problem. See bug 36495 for activity 
filtering, and bug 18338 for context menu launching.

*** This bug has been marked as a duplicate of 18338 ***</WithStack>
    <WithOutStack>In the previous version, the Run As and Debug As had "Java Application" as the 
first option.  Now, applet is the first option.  That's annoying.  Maybe in 
some cases it's most often run as applet, but for me application is 100% of the 
time.  How hard would it be to either

1) Allow this to be customized (from the Run.. wizard for example)
or
2) Do like Windows does with hiding menu items that aren't ever used
*** Bug 40564 has been marked as a duplicate of this bug. ***
This is related to Bug 41448, which requests that the entries be sorted 
alphabetically.

I'd recommend adding a way to remove items from the list - a checkbox table in 
the preferences.
This is also related to context sensitive launching, which would be a better 
solution to the problem. I.e. a context/run menu that infers what type of 
launch configurations are applicable to the selection/active editor.
I'm going to mark this as a duplicagte. Context menu launching and activity 
filtering are intended to solve this problem. See bug 36495 for activity 
filtering, and bug 18338 for context menu launching.

*** This bug has been marked as a duplicate of 18338 ***</WithOutStack>
  </Bug>
  <Bug>
    <BugId amount="39808" />
    <CreationDate amount="2003-07-09 10:35:00 -0400" />
    <DupId amount="" />
    <classification amount="Eclipse" />
    <Product amount="JDT" />
    <component amount="UI" />
    <Version amount="3.0" />
    <rep_platform amount="PC" />
    <op_sys amount="Windows 2000" />
    <priority amount="P3" />
    <bug_severity amount="normal" />
    <Summery>quickfix causes nullpointer exception</Summery>
    <Patches amount="0" />
    <Stacktraces amount="1">
      <Stacktrace timestamp="1437340746539">
        <Exception>java.lang.NullPointerException</Exception>
        <Reason />
        <Frames>
          <Frame depth="0">org.eclipse.jdt.internal.corext.util.Strings.computeIndent(Strings.java:158)</Frame>
          <Frame depth="1">org.eclipse.jdt.internal.corext.textmanipulation.TextBuffer.getLineIndent(TextBuffer.java:203)</Frame>
          <Frame depth="2">org.eclipse.jdt.internal.corext.dom.ASTRewriteAnalyzer.getIndent(ASTRewriteAnalyzer.java:761)</Frame>
          <Frame depth="3">org.eclipse.jdt.internal.corext.dom.ASTRewriteAnalyzer.visit(ASTRewriteAnalyzer.java:1095)</Frame>
          <Frame depth="4">org.eclipse.jdt.core.dom.Block.accept0(Block.java:79)</Frame>
          <Frame depth="5">org.eclipse.jdt.core.dom.ASTNode.accept(ASTNode.java:1353)</Frame>
          <Frame depth="6">org.eclipse.jdt.internal.corext.dom.ASTRewriteAnalyzer.doVisit(ASTRewriteAnalyzer.java:240)</Frame>
          <Frame depth="7">org.eclipse.jdt.internal.corext.dom.ASTRewriteAnalyzer.rewriteRequiredNode(ASTRewriteAnalyzer.java:483)</Frame>
          <Frame depth="8">org.eclipse.jdt.internal.corext.dom.ASTRewriteAnalyzer.visit(ASTRewriteAnalyzer.java:1933)</Frame>
          <Frame depth="9">org.eclipse.jdt.core.dom.TryStatement.accept0(TryStatement.java:97)</Frame>
          <Frame depth="10">org.eclipse.jdt.core.dom.ASTNode.accept(ASTNode.java:1353)</Frame>
          <Frame depth="11">org.eclipse.jdt.internal.corext.dom.ASTRewriteAnalyzer.doVisit(ASTRewriteAnalyzer.java:240)</Frame>
          <Frame depth="12">org.eclipse.jdt.internal.corext.dom.ASTRewriteAnalyzer.visitList(ASTRewriteAnalyzer.java:739)</Frame>
          <Frame depth="13">org.eclipse.jdt.internal.corext.dom.ASTRewriteAnalyzer.rewriteParagraphList(ASTRewriteAnalyzer.java:623)</Frame>
          <Frame depth="14">org.eclipse.jdt.internal.corext.dom.ASTRewriteAnalyzer.visit(ASTRewriteAnalyzer.java:1096)</Frame>
          <Frame depth="15">org.eclipse.jdt.core.dom.Block.accept0(Block.java:79)</Frame>
          <Frame depth="16">org.eclipse.jdt.core.dom.ASTNode.accept(ASTNode.java:1353)</Frame>
          <Frame depth="17">org.eclipse.jdt.internal.corext.dom.ASTRewriteAnalyzer.doVisit(ASTRewriteAnalyzer.java:240)</Frame>
          <Frame depth="18">org.eclipse.jdt.internal.corext.dom.ASTRewriteAnalyzer.rewriteMethodBody(ASTRewriteAnalyzer.java:668)</Frame>
          <Frame depth="19">org.eclipse.jdt.internal.corext.dom.ASTRewriteAnalyzer.visit(ASTRewriteAnalyzer.java:1073)</Frame>
          <Frame depth="20">org.eclipse.jdt.core.dom.MethodDeclaration.accept0(MethodDeclaration.java:169)</Frame>
          <Frame depth="21">org.eclipse.jdt.core.dom.ASTNode.accept(ASTNode.java:1353)</Frame>
          <Frame depth="22">org.eclipse.jdt.internal.corext.dom.ASTRewriteAnalyzer.doVisit(ASTRewriteAnalyzer.java:240)</Frame>
          <Frame depth="23">org.eclipse.jdt.internal.corext.dom.ASTRewriteAnalyzer.visitList(ASTRewriteAnalyzer.java:739)</Frame>
          <Frame depth="24">org.eclipse.jdt.internal.corext.dom.ASTRewriteAnalyzer.rewriteParagraphList(ASTRewriteAnalyzer.java:623)</Frame>
          <Frame depth="25">org.eclipse.jdt.internal.corext.dom.ASTRewriteAnalyzer.visit(ASTRewriteAnalyzer.java:994)</Frame>
          <Frame depth="26">org.eclipse.jdt.core.dom.TypeDeclaration.accept0(TypeDeclaration.java:154)</Frame>
          <Frame depth="27">org.eclipse.jdt.core.dom.ASTNode.accept(ASTNode.java:1353)</Frame>
          <Frame depth="28">org.eclipse.jdt.internal.corext.dom.ASTRewriteAnalyzer.doVisit(ASTRewriteAnalyzer.java:240)</Frame>
          <Frame depth="29">org.eclipse.jdt.internal.corext.dom.ASTRewriteAnalyzer.visitList(ASTRewriteAnalyzer.java:739)</Frame>
          <Frame depth="30">org.eclipse.jdt.internal.corext.dom.ASTRewriteAnalyzer.rewriteParagraphList(ASTRewriteAnalyzer.java:623)</Frame>
          <Frame depth="31">org.eclipse.jdt.internal.corext.dom.ASTRewriteAnalyzer.visit(ASTRewriteAnalyzer.java:911)</Frame>
          <Frame depth="32">org.eclipse.jdt.core.dom.CompilationUnit.accept0(CompilationUnit.java:154)</Frame>
          <Frame depth="33">org.eclipse.jdt.core.dom.ASTNode.accept(ASTNode.java:1353)</Frame>
          <Frame depth="34">org.eclipse.jdt.internal.corext.dom.ASTRewrite.rewriteNode(ASTRewrite.java:139)</Frame>
          <Frame depth="35">org.eclipse.jdt.internal.ui.text.correction.ASTRewriteCorrectionProposal.createCompilationUnitChange(ASTRewriteCorrectionProposal.java:54)</Frame>
          <Frame depth="36">org.eclipse.jdt.internal.ui.text.correction.CUCorrectionProposal.getChange(CUCorrectionProposal.java:85)</Frame>
          <Frame depth="37">org.eclipse.jdt.internal.ui.text.correction.ASTRewriteCorrectionProposal.ensureNoModifications(ASTRewriteCorrectionProposal.java:93)</Frame>
          <Frame depth="38">org.eclipse.jdt.internal.ui.text.correction.LocalCorrectionsSubProcessor.addUncaughtExceptionProposals(LocalCorrectionsSubProcessor.java:316)</Frame>
          <Frame depth="39">org.eclipse.jdt.internal.ui.text.correction.QuickFixProcessor.process(QuickFixProcessor.java:184)</Frame>
          <Frame depth="40">org.eclipse.jdt.internal.ui.text.correction.JavaCorrectionProcessor.collectCorrections(JavaCorrectionProcessor.java:205)</Frame>
          <Frame depth="41">org.eclipse.jdt.internal.ui.text.correction.JavaCorrectionProcessor.processProblemAnnotations(JavaCorrectionProcessor.java:173)</Frame>
          <Frame depth="42">org.eclipse.jdt.internal.ui.text.correction.JavaCorrectionProcessor.computeCompletionProposals(JavaCorrectionProcessor.java:136)</Frame>
          <Frame depth="43">org.eclipse.jface.text.contentassist.ContentAssistant.computeCompletionProposals(ContentAssistant.java:1297)</Frame>
          <Frame depth="44">org.eclipse.jface.text.contentassist.CompletionProposalPopup.computeProposals(CompletionProposalPopup.java:190)</Frame>
          <Frame depth="45">org.eclipse.jface.text.contentassist.CompletionProposalPopup.access$6(CompletionProposalPopup.java:189)</Frame>
          <Frame depth="46">org.eclipse.jface.text.contentassist.CompletionProposalPopup$2.run(CompletionProposalPopup.java:152)</Frame>
          <Frame depth="47">org.eclipse.swt.custom.BusyIndicator.showWhile(BusyIndicator.java:69)</Frame>
          <Frame depth="48">org.eclipse.jface.text.contentassist.CompletionProposalPopup.showProposals(CompletionProposalPopup.java:148)</Frame>
          <Frame depth="49">org.eclipse.jface.text.contentassist.ContentAssistant.showPossibleCompletions(ContentAssistant.java:1217)</Frame>
          <Frame depth="50">org.eclipse.jdt.internal.ui.text.correction.JavaCorrectionAssistant.showPossibleCompletions(JavaCorrectionAssistant.java:156)</Frame>
          <Frame depth="51">org.eclipse.jdt.internal.ui.javaeditor.CompilationUnitEditor$AdaptedSourceViewer.doOperation(CompilationUnitEditor.java:151)</Frame>
          <Frame depth="52">org.eclipse.ui.texteditor.TextOperationAction$1.run(TextOperationAction.java:127)</Frame>
          <Frame depth="53">org.eclipse.swt.custom.BusyIndicator.showWhile(BusyIndicator.java:69)</Frame>
          <Frame depth="54">org.eclipse.ui.texteditor.TextOperationAction.run(TextOperationAction.java:125)</Frame>
          <Frame depth="55">org.eclipse.jface.action.Action.runWithEvent(Action.java:842)</Frame>
          <Frame depth="56">org.eclipse.ui.commands.internal.ActionAndContextManager.pressed(ActionAndContextManager.java:232)</Frame>
          <Frame depth="57">org.eclipse.ui.commands.internal.ActionAndContextManager.access$6(ActionAndContextManager.java:218)</Frame>
          <Frame depth="58">org.eclipse.ui.commands.internal.ActionAndContextManager$7.widgetSelected(ActionAndContextManager.java:344)</Frame>
          <Frame depth="59">org.eclipse.ui.internal.AcceleratorMenu$2.handleEvent(AcceleratorMenu.java:68)</Frame>
          <Frame depth="60">org.eclipse.swt.widgets.EventTable.sendEvent(EventTable.java:82)</Frame>
          <Frame depth="61">org.eclipse.swt.widgets.Widget.sendEvent(Widget.java:848)</Frame>
          <Frame depth="62">org.eclipse.swt.widgets.Display.runDeferredEvents(Display.java:2041)</Frame>
          <Frame depth="63">org.eclipse.swt.widgets.Display.readAndDispatch(Display.java:1747)</Frame>
          <Frame depth="64">org.eclipse.ui.internal.Workbench.runEventLoop(Workbench.java:1383)</Frame>
          <Frame depth="65">org.eclipse.ui.internal.Workbench.run(Workbench.java:1366)</Frame>
          <Frame depth="66">org.eclipse.core.internal.boot.InternalBootLoader.run(InternalBootLoader.java:858)</Frame>
          <Frame depth="67">org.eclipse.core.boot.BootLoader.run(BootLoader.java:461)</Frame>
          <Frame depth="68">sun.reflect.NativeMethodAccessorImpl.invoke0(Native Method)</Frame>
          <Frame depth="69">sun.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:39)</Frame>
          <Frame depth="70">sun.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:25)</Frame>
          <Frame depth="71">java.lang.reflect.Method.invoke(Method.java:324)</Frame>
          <Frame depth="72">org.eclipse.core.launcher.Main.basicRun(Main.java:291)</Frame>
          <Frame depth="73">org.eclipse.core.launcher.Main.run(Main.java:747)</Frame>
          <Frame depth="74">org.eclipse.core.launcher.Main.main(Main.java:583)</Frame>
        </Frames>
      </Stacktrace>
    </Stacktraces>
    <SourceCodeRegions amount="0" />
    <Enumerations amount="0" />
    <bug_status amount="RESOLVED" />
    <resolution amount="FIXED" />
    <WithStack>pressing Ctrl+1 (quickfix) on a method which throws an unhandled exception 
causes the following to show up in the log:


java.lang.NullPointerException
	at org.eclipse.jdt.internal.corext.util.Strings.computeIndent
(Strings.java:158)
	at 
org.eclipse.jdt.internal.corext.textmanipulation.TextBuffer.getLineIndent
(TextBuffer.java:203)
	at org.eclipse.jdt.internal.corext.dom.ASTRewriteAnalyzer.getIndent
(ASTRewriteAnalyzer.java:761)
	at org.eclipse.jdt.internal.corext.dom.ASTRewriteAnalyzer.visit
(ASTRewriteAnalyzer.java:1095)
	at org.eclipse.jdt.core.dom.Block.accept0(Block.java:79)
	at org.eclipse.jdt.core.dom.ASTNode.accept(ASTNode.java:1353)
	at org.eclipse.jdt.internal.corext.dom.ASTRewriteAnalyzer.doVisit
(ASTRewriteAnalyzer.java:240)
	at 
org.eclipse.jdt.internal.corext.dom.ASTRewriteAnalyzer.rewriteRequiredNode
(ASTRewriteAnalyzer.java:483)
	at org.eclipse.jdt.internal.corext.dom.ASTRewriteAnalyzer.visit
(ASTRewriteAnalyzer.java:1933)
	at org.eclipse.jdt.core.dom.TryStatement.accept0(TryStatement.java:97)
	at org.eclipse.jdt.core.dom.ASTNode.accept(ASTNode.java:1353)
	at org.eclipse.jdt.internal.corext.dom.ASTRewriteAnalyzer.doVisit
(ASTRewriteAnalyzer.java:240)
	at org.eclipse.jdt.internal.corext.dom.ASTRewriteAnalyzer.visitList
(ASTRewriteAnalyzer.java:739)
	at 
org.eclipse.jdt.internal.corext.dom.ASTRewriteAnalyzer.rewriteParagraphList
(ASTRewriteAnalyzer.java:623)
	at org.eclipse.jdt.internal.corext.dom.ASTRewriteAnalyzer.visit
(ASTRewriteAnalyzer.java:1096)
	at org.eclipse.jdt.core.dom.Block.accept0(Block.java:79)
	at org.eclipse.jdt.core.dom.ASTNode.accept(ASTNode.java:1353)
	at org.eclipse.jdt.internal.corext.dom.ASTRewriteAnalyzer.doVisit
(ASTRewriteAnalyzer.java:240)
	at 
org.eclipse.jdt.internal.corext.dom.ASTRewriteAnalyzer.rewriteMethodBody
(ASTRewriteAnalyzer.java:668)
	at org.eclipse.jdt.internal.corext.dom.ASTRewriteAnalyzer.visit
(ASTRewriteAnalyzer.java:1073)
	at org.eclipse.jdt.core.dom.MethodDeclaration.accept0
(MethodDeclaration.java:169)
	at org.eclipse.jdt.core.dom.ASTNode.accept(ASTNode.java:1353)
	at org.eclipse.jdt.internal.corext.dom.ASTRewriteAnalyzer.doVisit
(ASTRewriteAnalyzer.java:240)
	at org.eclipse.jdt.internal.corext.dom.ASTRewriteAnalyzer.visitList
(ASTRewriteAnalyzer.java:739)
	at 
org.eclipse.jdt.internal.corext.dom.ASTRewriteAnalyzer.rewriteParagraphList
(ASTRewriteAnalyzer.java:623)
	at org.eclipse.jdt.internal.corext.dom.ASTRewriteAnalyzer.visit
(ASTRewriteAnalyzer.java:994)
	at org.eclipse.jdt.core.dom.TypeDeclaration.accept0
(TypeDeclaration.java:154)
	at org.eclipse.jdt.core.dom.ASTNode.accept(ASTNode.java:1353)
	at org.eclipse.jdt.internal.corext.dom.ASTRewriteAnalyzer.doVisit
(ASTRewriteAnalyzer.java:240)
	at org.eclipse.jdt.internal.corext.dom.ASTRewriteAnalyzer.visitList
(ASTRewriteAnalyzer.java:739)
	at 
org.eclipse.jdt.internal.corext.dom.ASTRewriteAnalyzer.rewriteParagraphList
(ASTRewriteAnalyzer.java:623)
	at org.eclipse.jdt.internal.corext.dom.ASTRewriteAnalyzer.visit
(ASTRewriteAnalyzer.java:911)
	at org.eclipse.jdt.core.dom.CompilationUnit.accept0
(CompilationUnit.java:154)
	at org.eclipse.jdt.core.dom.ASTNode.accept(ASTNode.java:1353)
	at org.eclipse.jdt.internal.corext.dom.ASTRewrite.rewriteNode
(ASTRewrite.java:139)
	at 
org.eclipse.jdt.internal.ui.text.correction.ASTRewriteCorrectionProposal.createC
ompilationUnitChange(ASTRewriteCorrectionProposal.java:54)
	at 
org.eclipse.jdt.internal.ui.text.correction.CUCorrectionProposal.getChange
(CUCorrectionProposal.java:85)
	at 
org.eclipse.jdt.internal.ui.text.correction.ASTRewriteCorrectionProposal.ensureN
oModifications(ASTRewriteCorrectionProposal.java:93)
	at 
org.eclipse.jdt.internal.ui.text.correction.LocalCorrectionsSubProcessor.addUnca
ughtExceptionProposals(LocalCorrectionsSubProcessor.java:316)
	at org.eclipse.jdt.internal.ui.text.correction.QuickFixProcessor.process
(QuickFixProcessor.java:184)
	at 
org.eclipse.jdt.internal.ui.text.correction.JavaCorrectionProcessor.collectCorre
ctions(JavaCorrectionProcessor.java:205)
	at 
org.eclipse.jdt.internal.ui.text.correction.JavaCorrectionProcessor.processProbl
emAnnotations(JavaCorrectionProcessor.java:173)
	at 
org.eclipse.jdt.internal.ui.text.correction.JavaCorrectionProcessor.computeCompl
etionProposals(JavaCorrectionProcessor.java:136)
	at 
org.eclipse.jface.text.contentassist.ContentAssistant.computeCompletionProposals
(ContentAssistant.java:1297)
	at 
org.eclipse.jface.text.contentassist.CompletionProposalPopup.computeProposals
(CompletionProposalPopup.java:190)
	at org.eclipse.jface.text.contentassist.CompletionProposalPopup.access$6
(CompletionProposalPopup.java:189)
	at org.eclipse.jface.text.contentassist.CompletionProposalPopup$2.run
(CompletionProposalPopup.java:152)
	at org.eclipse.swt.custom.BusyIndicator.showWhile(BusyIndicator.java:69)
	at 
org.eclipse.jface.text.contentassist.CompletionProposalPopup.showProposals
(CompletionProposalPopup.java:148)
	at 
org.eclipse.jface.text.contentassist.ContentAssistant.showPossibleCompletions
(ContentAssistant.java:1217)
	at 
org.eclipse.jdt.internal.ui.text.correction.JavaCorrectionAssistant.showPossible
Completions(JavaCorrectionAssistant.java:156)
	at 
org.eclipse.jdt.internal.ui.javaeditor.CompilationUnitEditor$AdaptedSourceViewer
.doOperation(CompilationUnitEditor.java:151)
	at org.eclipse.ui.texteditor.TextOperationAction$1.run
(TextOperationAction.java:127)
	at org.eclipse.swt.custom.BusyIndicator.showWhile(BusyIndicator.java:69)
	at org.eclipse.ui.texteditor.TextOperationAction.run
(TextOperationAction.java:125)
	at org.eclipse.jface.action.Action.runWithEvent(Action.java:842)
	at org.eclipse.ui.commands.internal.ActionAndContextManager.pressed
(ActionAndContextManager.java:232)
	at org.eclipse.ui.commands.internal.ActionAndContextManager.access$6
(ActionAndContextManager.java:218)
	at 
org.eclipse.ui.commands.internal.ActionAndContextManager$7.widgetSelected
(ActionAndContextManager.java:344)
	at org.eclipse.ui.internal.AcceleratorMenu$2.handleEvent
(AcceleratorMenu.java:68)
	at org.eclipse.swt.widgets.EventTable.sendEvent(EventTable.java:82)
	at org.eclipse.swt.widgets.Widget.sendEvent(Widget.java:848)
	at org.eclipse.swt.widgets.Display.runDeferredEvents(Display.java:2041)
	at org.eclipse.swt.widgets.Display.readAndDispatch(Display.java:1747)
	at org.eclipse.ui.internal.Workbench.runEventLoop(Workbench.java:1383)
	at org.eclipse.ui.internal.Workbench.run(Workbench.java:1366)
	at org.eclipse.core.internal.boot.InternalBootLoader.run
(InternalBootLoader.java:858)
	at org.eclipse.core.boot.BootLoader.run(BootLoader.java:461)
	at sun.reflect.NativeMethodAccessorImpl.invoke0(Native Method)
	at sun.reflect.NativeMethodAccessorImpl.invoke
(NativeMethodAccessorImpl.java:39)
	at sun.reflect.DelegatingMethodAccessorImpl.invoke
(DelegatingMethodAccessorImpl.java:25)
	at java.lang.reflect.Method.invoke(Method.java:324)
	at org.eclipse.core.launcher.Main.basicRun(Main.java:291)
	at org.eclipse.core.launcher.Main.run(Main.java:747)
	at org.eclipse.core.launcher.Main.main(Main.java:583)
This got addressed fot the latest integration build.</WithStack>
    <WithOutStack>pressing Ctrl+1 (quickfix) on a method which throws an unhandled exception 
causes the following to show up in the log:



This got addressed fot the latest integration build.</WithOutStack>
  </Bug>
  <Bug>
    <BugId amount="39809" />
    <CreationDate amount="2003-07-09 10:37:00 -0400" />
    <DupId amount="18080" />
    <classification amount="Eclipse" />
    <Product amount="JDT" />
    <component amount="UI" />
    <Version amount="3.0" />
    <rep_platform amount="PC" />
    <op_sys amount="Windows 2000" />
    <priority amount="P3" />
    <bug_severity amount="normal" />
    <Summery>Rename project refactoring misses Runs</Summery>
    <Patches amount="0" />
    <Stacktraces amount="0" />
    <SourceCodeRegions amount="0" />
    <Enumerations amount="0" />
    <bug_status amount="RESOLVED" />
    <resolution amount="DUPLICATE" />
    <WithStack>Using Refactor -&gt; Rename on a project does not update the saved Runs to point at
the new project.
Executing a Run results in a 'Project does not exist' error.
refactoring lives in jdt ui - moving there


*** This bug has been marked as a duplicate of 18080 ***</WithStack>
    <WithOutStack>Using Refactor -&gt; Rename on a project does not update the saved Runs to point at
the new project.
Executing a Run results in a 'Project does not exist' error.
refactoring lives in jdt ui - moving there


*** This bug has been marked as a duplicate of 18080 ***</WithOutStack>
  </Bug>
  <Bug>
    <BugId amount="39810" />
    <CreationDate amount="2003-07-09 10:45:00 -0400" />
    <DupId amount="" />
    <classification amount="Eclipse" />
    <Product amount="PDE" />
    <component amount="UI" />
    <Version amount="3.0" />
    <rep_platform amount="PC" />
    <op_sys amount="Windows XP" />
    <priority amount="P3" />
    <bug_severity amount="normal" />
    <Summery>CompilerPreferences "Restore Defaults" does not make rebuild utilize default properties.</Summery>
    <Patches amount="0" />
    <Stacktraces amount="0" />
    <SourceCodeRegions amount="0" />
    <Enumerations amount="2">
      <Enumeration lines="15">
        <Lines>
          <Line>1. Windows-&gt;Preferences-&gt;PDE-&gt;Compilers</Line>
          <Line>2. make any change in selection</Line>
          <Line>3. "APPLY" (will ask for rebuild)</Line>
          <Line>4. "Restore Defaults"</Line>
          <Line>5. "APPLY" (will not ask for rebuild)</Line>
          <Line>6. "OK" (will not ask for rebuild)</Line>
          <Line>7. Open Windows-&gt;Preferences-&gt;PDE-&gt;Compilers again; the selections are the</Line>
          <Line>same as they were after step 2 rather than the defaults.</Line>
          <Line>Fixed bug for "Restore Defaults" taking effect.  Also took away semi-redundant</Line>
          <Line>rebuilds</Line>
          <Line>(i.e.</Line>
          <Line>1. change a schema preference.</Line>
          <Line>2. press "APPLY" (it will ask if you want to do a full rebuild - say Yes.) :)</Line>
          <Line>3. press "OK" (it will not ask you for a full rebuild as it did before the fix</Line>
          <Line>UNLESS another change after step 2.)</Line>
        </Lines>
      </Enumeration>
      <Enumeration lines="4">
        <Lines>
          <Line>1. change a schema preference.</Line>
          <Line>2. press "APPLY" (it will ask if you want to do a full rebuild - say Yes.) :)</Line>
          <Line>3. press "OK" (it will not ask you for a full rebuild as it did before the fix</Line>
          <Line>UNLESS another change after step 2.)</Line>
        </Lines>
      </Enumeration>
    </Enumerations>
    <bug_status amount="RESOLVED" />
    <resolution amount="FIXED" />
    <WithStack>Reproduce:
1. Windows-&gt;Preferences-&gt;PDE-&gt;Compilers
2. make any change in selection
3. "APPLY" (will ask for rebuild)
4. "Restore Defaults"
5. "APPLY" (will not ask for rebuild)
6. "OK" (will not ask for rebuild)
7. Open Windows-&gt;Preferences-&gt;PDE-&gt;Compilers again; the selections are the 
same as they were after step 2 rather than the defaults.
Fixed bug for "Restore Defaults" taking effect.  Also took away semi-redundant 
rebuilds 
(i.e. 
1. change a schema preference. 
2. press "APPLY" (it will ask if you want to do a full rebuild - say Yes.) :)
3. press "OK" (it will not ask you for a full rebuild as it did before the fix 
UNLESS another change after step 2.)</WithStack>
    <WithOutStack>Reproduce:
1. Windows-&gt;Preferences-&gt;PDE-&gt;Compilers
2. make any change in selection
3. "APPLY" (will ask for rebuild)
4. "Restore Defaults"
5. "APPLY" (will not ask for rebuild)
6. "OK" (will not ask for rebuild)
7. Open Windows-&gt;Preferences-&gt;PDE-&gt;Compilers again; the selections are the 
same as they were after step 2 rather than the defaults.
Fixed bug for "Restore Defaults" taking effect.  Also took away semi-redundant 
rebuilds 
(i.e. 
1. change a schema preference. 
2. press "APPLY" (it will ask if you want to do a full rebuild - say Yes.) :)
3. press "OK" (it will not ask you for a full rebuild as it did before the fix 
UNLESS another change after step 2.)</WithOutStack>
  </Bug>
  <Bug>
    <BugId amount="39811" />
    <CreationDate amount="2003-07-09 11:00:00 -0400" />
    <DupId amount="38886" />
    <classification amount="Eclipse" />
    <Product amount="Platform" />
    <component amount="UI" />
    <Version amount="3.0" />
    <rep_platform amount="PC" />
    <op_sys amount="Windows 2000" />
    <priority amount="P3" />
    <bug_severity amount="normal" />
    <Summery>Copy/Paste fails on read-only source file</Summery>
    <Patches amount="0" />
    <Stacktraces amount="0" />
    <SourceCodeRegions amount="0" />
    <Enumerations amount="0" />
    <bug_status amount="RESOLVED" />
    <resolution amount="DUPLICATE" />
    <WithStack>We use watch/edit for CVS access, so all our files are normally read-only. 
Selecting "Copy" on a read-only file succeeds, but "Paste"ing it anywhere fails 
with the following dialog:

&lt;dialog title: Copy&gt;
File
[filename]
is read-only.

I would not expect that a copy/paste of a read-only file would fail. If it is 
an invalid operation, copy should fail immediately. If it is a valid operation, 
it should successfully paste the file, possibly requesting a rename, and the 
target file should be read/write.

I am using build 200306051737.

- Charlie
do you do this in the navigator or package explorer?
if in the package explorer, then this is a dup of bug 38886
Ahh yes, it appears to be the same problem as bug 38886. I guess my searches
weren't extensive enough.

You may mark this as a dupe and close it. I hope to see a fix soon, but using
the Navigator is a good-enough workaround for now.

- Charlie


*** This bug has been marked as a duplicate of 38886 ***</WithStack>
    <WithOutStack>We use watch/edit for CVS access, so all our files are normally read-only. 
Selecting "Copy" on a read-only file succeeds, but "Paste"ing it anywhere fails 
with the following dialog:

&lt;dialog title: Copy&gt;
File
[filename]
is read-only.

I would not expect that a copy/paste of a read-only file would fail. If it is 
an invalid operation, copy should fail immediately. If it is a valid operation, 
it should successfully paste the file, possibly requesting a rename, and the 
target file should be read/write.

I am using build 200306051737.

- Charlie
do you do this in the navigator or package explorer?
if in the package explorer, then this is a dup of bug 38886
Ahh yes, it appears to be the same problem as bug 38886. I guess my searches
weren't extensive enough.

You may mark this as a dupe and close it. I hope to see a fix soon, but using
the Navigator is a good-enough workaround for now.

- Charlie


*** This bug has been marked as a duplicate of 38886 ***</WithOutStack>
  </Bug>
  <Bug>
    <BugId amount="39812" />
    <CreationDate amount="2003-07-09 11:20:00 -0400" />
    <DupId amount="" />
    <classification amount="Eclipse" />
    <Product amount="Platform" />
    <component amount="Team" />
    <Version amount="3.0" />
    <rep_platform amount="All" />
    <op_sys amount="All" />
    <priority amount="P3" />
    <bug_severity amount="enhancement" />
    <Summery>contribute to change bar vertical ruler</Summery>
    <Patches amount="0" />
    <Stacktraces amount="0" />
    <SourceCodeRegions amount="0" />
    <Enumerations amount="2">
      <Enumeration lines="19">
        <Lines>
          <Line>1. Currently, it is very hard to find out that your file has changes without</Line>
          <Line>scrolling. I didn't find which hot keys to use to 'select next/previous change'.</Line>
          <Line>I understand that you want to show line changes but there is no way to find</Line>
          <Line>them. For example, in compare editors the overview ruler shows were the changes</Line>
          <Line>are and the select next/previous are used to navigate. Maybe we need an editor</Line>
          <Line>decoration to hint that it's changed based on the reference document? A hint</Line>
          <Line>that you should look for changes?</Line>
          <Line />
          <Line>2. The bar is so narrow that I can't hover my mouse over it. What is the hotkey</Line>
          <Line>for showing the change? Also what are the hotkeys for replacing the changes?</Line>
          <Line />
          <Line>3. Have you thought of providing 3-way diff support? With the CVS quick diff</Line>
          <Line>provider it will be really useful to see the direction of the change to</Line>
          <Line>understand if you made the change or if it was made remotely.</Line>
          <Line>1. I agree - we would need a toggable indication on the overview ruler similar</Line>
          <Line>to the one provided by the compare editor. Whether we will want shortcuts or</Line>
          <Line>not, I am not sure - go to previous / next is usually assigned to something else</Line>
          <Line>already (e.g. next problem in Java Editor), so we would have to introduce new</Line>
          <Line>shortcuts.</Line>
        </Lines>
      </Enumeration>
      <Enumeration lines="14">
        <Lines>
          <Line>1. I agree - we would need a toggable indication on the overview ruler similar</Line>
          <Line>to the one provided by the compare editor. Whether we will want shortcuts or</Line>
          <Line>not, I am not sure - go to previous / next is usually assigned to something else</Line>
          <Line>already (e.g. next problem in Java Editor), so we would have to introduce new</Line>
          <Line>shortcuts.</Line>
          <Line />
          <Line>2. There are no hotkeys so far - as a workaround for the narrow ruler, if line</Line>
          <Line>numbers are turned on, the ruler gets wider. Instead of using hotkeys for</Line>
          <Line>undoing a change, the related actions can be acessed via the ruler's context</Line>
          <Line>menu (Ctrl+W).</Line>
          <Line />
          <Line>3. The quick diff indication was really thought as a lightweight change</Line>
          <Line>indication, and I am also considering a shortcutto open the full-fledged compare</Line>
          <Line>editor from a change.</Line>
        </Lines>
      </Enumeration>
    </Enumerations>
    <bug_status amount="RESOLVED" />
    <resolution amount="FIXED" />
    <WithStack>I20030709

Platform Text released the change bar vertical ruler. Providers for a 
reference document to which to compare to can be contributed via extensions.
Please see attachment for a CVS solution. This could be integrated with the 
CVS UI plug-in.
Created attachment 5409
example plug-in providing a CVS reference document
Thanks. Is there a way to programatically update the change bar via the 
quickdiff provider? The CVS refresh with remote is happening in the background 
and it would be cool to update the change bar if a file being are editing is 
changed has incoming changes.
The reference provider provides a reference document for a document being 
edited. The quickdiff listens for document changes on the reference document. 
So, if the reference provider changes the reference document, the quickdiff 
display will pick these up (i.e. will re-initialize itself currently...).
*** Bug 40986 has been marked as a duplicate of this bug. ***
Dean will be creating the CVS reference provider for the quick diff. Having used
the quick diff with 'version on disk' for a little while now,  I have some
questions and comments:

1. Currently, it is very hard to find out that your file has changes without
scrolling. I didn't find which hot keys to use to 'select next/previous change'.
I understand that you want to show line changes but there is no way to find
them. For example, in compare editors the overview ruler shows were the changes
are and the select next/previous are used to navigate. Maybe we need an editor
decoration to hint that it's changed based on the reference document? A hint
that you should look for changes?

2. The bar is so narrow that I can't hover my mouse over it. What is the hotkey
for showing the change? Also what are the hotkeys for replacing the changes?

3. Have you thought of providing 3-way diff support? With the CVS quick diff
provider it will be really useful to see the direction of the change to
understand if you made the change or if it was made remotely.
1. I agree - we would need a toggable indication on the overview ruler similar
to the one provided by the compare editor. Whether we will want shortcuts or
not, I am not sure - go to previous / next is usually assigned to something else
already (e.g. next problem in Java Editor), so we would have to introduce new
shortcuts. 

2. There are no hotkeys so far - as a workaround for the narrow ruler, if line
numbers are turned on, the ruler gets wider. Instead of using hotkeys for
undoing a change, the related actions can be acessed via the ruler's context
menu (Ctrl+W). 

3. The quick diff indication was really thought as a lightweight change
indication, and I am also considering a shortcutto open the full-fledged compare
editor from a change.

Note that the current diff information might not even be correct (i.e. the
shortest edit script from reference document to actual) because it is computed
incrementally. Try moving around lines for a demonstration of the current
algorithm's limitations.
Started working on this in a branch:

branch_CVSQuickDiffProvider

It won't be done for M3 though.
I've implemented the CVS quick diff provider. It will be in the next integration
build. 

I've played around with the quickdiff a bit more wihle implementing the CVS
portion and would like to capture my previous ious comments in another PR.
Basically I think the feature is really cool but currently isn't quite tuned
enough to be useful.
looking forward to your comments... I am right now in the process of putting the
entire diffing into the background, and using real diffing instead of the often
incorrect incremental diffing. Also, overview ruler markers will be easy to
implement on top of that.</WithStack>
    <WithOutStack>I20030709

Platform Text released the change bar vertical ruler. Providers for a 
reference document to which to compare to can be contributed via extensions.
Please see attachment for a CVS solution. This could be integrated with the 
CVS UI plug-in.
Created attachment 5409
example plug-in providing a CVS reference document
Thanks. Is there a way to programatically update the change bar via the 
quickdiff provider? The CVS refresh with remote is happening in the background 
and it would be cool to update the change bar if a file being are editing is 
changed has incoming changes.
The reference provider provides a reference document for a document being 
edited. The quickdiff listens for document changes on the reference document. 
So, if the reference provider changes the reference document, the quickdiff 
display will pick these up (i.e. will re-initialize itself currently...).
*** Bug 40986 has been marked as a duplicate of this bug. ***
Dean will be creating the CVS reference provider for the quick diff. Having used
the quick diff with 'version on disk' for a little while now,  I have some
questions and comments:

1. Currently, it is very hard to find out that your file has changes without
scrolling. I didn't find which hot keys to use to 'select next/previous change'.
I understand that you want to show line changes but there is no way to find
them. For example, in compare editors the overview ruler shows were the changes
are and the select next/previous are used to navigate. Maybe we need an editor
decoration to hint that it's changed based on the reference document? A hint
that you should look for changes?

2. The bar is so narrow that I can't hover my mouse over it. What is the hotkey
for showing the change? Also what are the hotkeys for replacing the changes?

3. Have you thought of providing 3-way diff support? With the CVS quick diff
provider it will be really useful to see the direction of the change to
understand if you made the change or if it was made remotely.
1. I agree - we would need a toggable indication on the overview ruler similar
to the one provided by the compare editor. Whether we will want shortcuts or
not, I am not sure - go to previous / next is usually assigned to something else
already (e.g. next problem in Java Editor), so we would have to introduce new
shortcuts. 

2. There are no hotkeys so far - as a workaround for the narrow ruler, if line
numbers are turned on, the ruler gets wider. Instead of using hotkeys for
undoing a change, the related actions can be acessed via the ruler's context
menu (Ctrl+W). 

3. The quick diff indication was really thought as a lightweight change
indication, and I am also considering a shortcutto open the full-fledged compare
editor from a change.

Note that the current diff information might not even be correct (i.e. the
shortest edit script from reference document to actual) because it is computed
incrementally. Try moving around lines for a demonstration of the current
algorithm's limitations.
Started working on this in a branch:

branch_CVSQuickDiffProvider

It won't be done for M3 though.
I've implemented the CVS quick diff provider. It will be in the next integration
build. 

I've played around with the quickdiff a bit more wihle implementing the CVS
portion and would like to capture my previous ious comments in another PR.
Basically I think the feature is really cool but currently isn't quite tuned
enough to be useful.
looking forward to your comments... I am right now in the process of putting the
entire diffing into the background, and using real diffing instead of the often
incorrect incremental diffing. Also, overview ruler markers will be easy to
implement on top of that.</WithOutStack>
  </Bug>
  <Bug>
    <BugId amount="39813" />
    <CreationDate amount="2003-07-09 11:26:00 -0400" />
    <DupId amount="" />
    <classification amount="Eclipse" />
    <Product amount="JDT" />
    <component amount="UI" />
    <Version amount="3.0" />
    <rep_platform amount="All" />
    <op_sys amount="All" />
    <priority amount="P3" />
    <bug_severity amount="enhancement" />
    <Summery>[quick fix] syntax errors corrections (e.g. semicolon missing)</Summery>
    <Patches amount="0" />
    <Stacktraces amount="0" />
    <SourceCodeRegions amount="1">
      <source_code type="class">
        <location start="47" end="145" />
        <code>public class Compile { 

    public void foo() {

}

The compiler reports:
Syntax error, insert "}</code>
      </source_code>
    </SourceCodeRegions>
    <Enumerations amount="0" />
    <bug_status amount="ASSIGNED" />
    <resolution amount="" />
    <WithStack>Using 0703, try to compile the following code:
public class Compile { 

    public void foo() {

}

The compiler reports:
Syntax error, insert "}" to complete ClassBody

This is perfectly fine. If I use quickfix on this error, it suggests to surround
with different statement, instead of simply inserting a closing brace.
*** Bug 54288 has been marked as a duplicate of this bug. ***
*** Bug 41134 has been marked as a duplicate of this bug. ***
not for 3.1.

Even this bug sounds simple, but as we have no AST in these cases a lot of
parsing is involved. Mostly a missing bracket is detected much later in the
source, making the suggested correction look ridicolous.
Could look at this again now with statements recovery in the AST. Or just follow the advice to insert/delete a token and let the user find out whether it worked.
As of now 'LATER' and 'REMIND' resolutions are no longer supported.
Please reopen this bug if it is still valid for you.
.
*** Bug 409740 has been marked as a duplicate of this bug. ***
*** Bug 421042 has been marked as a duplicate of this bug. ***
*** Bug 13204 has been marked as a duplicate of this bug. ***</WithStack>
    <WithOutStack>Using 0703, try to compile the following code:
public class Compile { 

    public void foo() {

}

The compiler reports:
Syntax error, insert "}" to complete ClassBody

This is perfectly fine. If I use quickfix on this error, it suggests to surround
with different statement, instead of simply inserting a closing brace.
*** Bug 54288 has been marked as a duplicate of this bug. ***
*** Bug 41134 has been marked as a duplicate of this bug. ***
not for 3.1.

Even this bug sounds simple, but as we have no AST in these cases a lot of
parsing is involved. Mostly a missing bracket is detected much later in the
source, making the suggested correction look ridicolous.
Could look at this again now with statements recovery in the AST. Or just follow the advice to insert/delete a token and let the user find out whether it worked.
As of now 'LATER' and 'REMIND' resolutions are no longer supported.
Please reopen this bug if it is still valid for you.
.
*** Bug 409740 has been marked as a duplicate of this bug. ***
*** Bug 421042 has been marked as a duplicate of this bug. ***
*** Bug 13204 has been marked as a duplicate of this bug. ***</WithOutStack>
  </Bug>
  <Bug>
    <BugId amount="39814" />
    <CreationDate amount="2003-07-09 11:29:00 -0400" />
    <DupId amount="" />
    <classification amount="Eclipse" />
    <Product amount="Platform" />
    <component amount="Ant" />
    <Version amount="3.0" />
    <rep_platform amount="PC" />
    <op_sys amount="Windows 2000" />
    <priority amount="P2" />
    <bug_severity amount="normal" />
    <Summery>core.resources has invalid external tool builder??</Summery>
    <Patches amount="0" />
    <Stacktraces amount="0" />
    <SourceCodeRegions amount="0" />
    <Enumerations amount="0" />
    <bug_status amount="VERIFIED" />
    <resolution amount="FIXED" />
    <WithStack>Build: I20030625

Checkout the project org.eclipse.core.resources from dev.eclipse.org.
On the external tool builder property page, there is an entry called "Invalid
External Tool Builder".  The UI gives no way of finding out any more details
about that builder, or about what is invalid.  It also doesn't allow me to edit
the builder definition in any way.  It seems the only option left is to guess
what the problem is and hack the .project file until the problem goes away?
Please investigate Jared.
Just from glancing at the .project file, it looks like our project builder 
migration is broken.
Fixed in ExternalToolsMigration. Our migration of Ant external tool builders was 
basically disabled.

Please verify.
Verified.</WithStack>
    <WithOutStack>Build: I20030625

Checkout the project org.eclipse.core.resources from dev.eclipse.org.
On the external tool builder property page, there is an entry called "Invalid
External Tool Builder".  The UI gives no way of finding out any more details
about that builder, or about what is invalid.  It also doesn't allow me to edit
the builder definition in any way.  It seems the only option left is to guess
what the problem is and hack the .project file until the problem goes away?
Please investigate Jared.
Just from glancing at the .project file, it looks like our project builder 
migration is broken.
Fixed in ExternalToolsMigration. Our migration of Ant external tool builders was 
basically disabled.

Please verify.
Verified.</WithOutStack>
  </Bug>
  <Bug>
    <BugId amount="39815" />
    <CreationDate amount="2003-07-09 11:36:00 -0400" />
    <DupId amount="" />
    <classification amount="Eclipse" />
    <Product amount="Platform" />
    <component amount="Resources" />
    <Version amount="3.0" />
    <rep_platform amount="PC" />
    <op_sys amount="Windows XP" />
    <priority amount="P3" />
    <bug_severity amount="blocker" />
    <Summery>Error on startup after updating to new build</Summery>
    <Patches amount="0" />
    <Stacktraces amount="1">
      <Stacktrace timestamp="1437340746539">
        <Exception>java.lang.reflect.InvocationTargetException</Exception>
        <Reason>java.lang.RuntimeException: Fatal 
Error: Unable to locate matching org.eclipse.core.runtime plug-in.</Reason>
        <Frames>
          <Frame depth="0">java.lang.Throwable.&lt;init&gt;(Throwable.java:54)</Frame>
          <Frame depth="1">java.lang.Throwable.&lt;init&gt;(Throwable.java:68)</Frame>
          <Frame depth="2">org.eclipse.core.internal.boot.PlatformConfiguration.locateDefaultPlugins(PlatformConfiguration.java:2264)</Frame>
          <Frame depth="3">org.eclipse.core.internal.boot.PlatformConfiguration.&lt;init&gt;(PlatformConfiguration.java:903)</Frame>
          <Frame depth="4">org.eclipse.core.internal.boot.PlatformConfiguration.startup(PlatformConfiguration.java:1368)</Frame>
          <Frame depth="5">org.eclipse.core.internal.boot.InternalBootLoader.initialize(InternalBootLoader.java:582)</Frame>
          <Frame depth="6">org.eclipse.core.internal.boot.InternalBootLoader.startup(InternalBootLoader.java:1044)</Frame>
          <Frame depth="7">org.eclipse.core.internal.boot.InternalBootLoader.run(InternalBootLoader.java:838)</Frame>
          <Frame depth="8">org.eclipse.core.boot.BootLoader.run(BootLoader.java:461)</Frame>
          <Frame depth="9">java.lang.reflect.AccessibleObject.invokeL(AccessibleObject.java:207)</Frame>
          <Frame depth="10">java.lang.reflect.Method.invoke(Method.java:271)</Frame>
          <Frame depth="11">org.eclipse.core.launcher.Main.basicRun(Main.java:291)</Frame>
          <Frame depth="12">org.eclipse.core.launcher.Main.run(Main.java:747)</Frame>
          <Frame depth="13">org.eclipse.core.launcher.Main.main(Main.java:583)</Frame>
        </Frames>
      </Stacktrace>
    </Stacktraces>
    <SourceCodeRegions amount="0" />
    <Enumerations amount="0" />
    <bug_status amount="RESOLVED" />
    <resolution amount="FIXED" />
    <WithStack>I downloaded today's integration build and installed it over my old install 
location (deleting old install first). I got the following exception on 
startup. Rename the .config folder in the metadata area fixed the problem. 

!SESSION ----------------------------------------------------------------------
!ENTRY org.eclipse.core.launcher 4 0 Jul 09, 2003 11:25:00.27
!MESSAGE Exception launching the Eclipse Platform:
!STACK
java.lang.reflect.InvocationTargetException: java.lang.RuntimeException: Fatal 
Error: Unable to locate matching org.eclipse.core.runtime plug-in.
	at java.lang.Throwable.&lt;init&gt;(Throwable.java:54)
	at java.lang.Throwable.&lt;init&gt;(Throwable.java:68)
	at 
org.eclipse.core.internal.boot.PlatformConfiguration.locateDefaultPlugins
(PlatformConfiguration.java:2264)
	at org.eclipse.core.internal.boot.PlatformConfiguration.&lt;init&gt;
(PlatformConfiguration.java:903)
	at org.eclipse.core.internal.boot.PlatformConfiguration.startup
(PlatformConfiguration.java:1368)
	at org.eclipse.core.internal.boot.InternalBootLoader.initialize
(InternalBootLoader.java:582)
	at org.eclipse.core.internal.boot.InternalBootLoader.startup
(InternalBootLoader.java:1044)
	at org.eclipse.core.internal.boot.InternalBootLoader.run
(InternalBootLoader.java:838)
	at org.eclipse.core.boot.BootLoader.run(BootLoader.java:461)
	at java.lang.reflect.AccessibleObject.invokeL
(AccessibleObject.java:207)
	at java.lang.reflect.Method.invoke(Method.java:271)
	at org.eclipse.core.launcher.Main.basicRun(Main.java:291)
	at org.eclipse.core.launcher.Main.run(Main.java:747)
	at org.eclipse.core.launcher.Main.main(Main.java:583)
I got this again but this time in my runtime workbench. I deleted a plugin in 
my workspace and now I cannot launch my runtime workbench. Unfortunately, 
renaming my .config file didn't help. I am upgrading to todays build to see if 
it helps. If it doesn't, can you offer any insight into how to work around 
this?
Eclipse Update is not going through the usual startup sequence when launching 
using Runtime Workbench launcher. Instead, a 'transient' configuration is 
created containing all the plug-ins in the workspace and all the ENABLED 
external plug-ins (see the target platform pref. page to see your enabled 
external plug-ins). Therefore, this is not the same problem. Go to your 
runtime workbench metadata and check the log - it must be some critical plug-
in missing.
The exception is the only thing in the log. I should mention that the 
workspace I was using had all the Eclipse plugins loaded from CVS. However, it 
was working fine until I removed a test plugin 
(org.eclipse.core.tests.runtime) after which point I could not launch the 
runtime workbench. 
I replaced org.eclipse.core.runtime with the binary project from the install 
and it now works. I notice that the version number for this plugin has just 
changed from 2.1 to 3.0. This may be the cause of the problem.
When updating the plug-in versions I forgot to also update the reference to 
the runtime plug-in in the boot.xml file in the boot plug-in.

I have updated this and Michael tried it and it works fine.

Closing.
Closing.
Yes, I think that is the cause. Normally people keep the workspace but delete 
the old driver and unzip the new in place. Since the update state is in the 
workspace, it points at the plug-ins and features that do not exist any more. 
However, since core boot plug-in didn't change, it fails to run the reconciler 
and tries to activate missing plug-ins. In particular, it fails to find 
matching core runtime to go with boot. 

This is a transient error caused by us incrementing the versions and should 
not affect users in the field.</WithStack>
    <WithOutStack>I downloaded today's integration build and installed it over my old install 
location (deleting old install first). I got the following exception on 
startup. Rename the .config folder in the metadata area fixed the problem. 

!SESSION ----------------------------------------------------------------------
!ENTRY org.eclipse.core.launcher 4 0 Jul 09, 2003 11:25:00.27
!MESSAGE Exception launching the Eclipse Platform:
!STACK

I got this again but this time in my runtime workbench. I deleted a plugin in 
my workspace and now I cannot launch my runtime workbench. Unfortunately, 
renaming my .config file didn't help. I am upgrading to todays build to see if 
it helps. If it doesn't, can you offer any insight into how to work around 
this?
Eclipse Update is not going through the usual startup sequence when launching 
using Runtime Workbench launcher. Instead, a 'transient' configuration is 
created containing all the plug-ins in the workspace and all the ENABLED 
external plug-ins (see the target platform pref. page to see your enabled 
external plug-ins). Therefore, this is not the same problem. Go to your 
runtime workbench metadata and check the log - it must be some critical plug-
in missing.
The exception is the only thing in the log. I should mention that the 
workspace I was using had all the Eclipse plugins loaded from CVS. However, it 
was working fine until I removed a test plugin 
(org.eclipse.core.tests.runtime) after which point I could not launch the 
runtime workbench. 
I replaced org.eclipse.core.runtime with the binary project from the install 
and it now works. I notice that the version number for this plugin has just 
changed from 2.1 to 3.0. This may be the cause of the problem.
When updating the plug-in versions I forgot to also update the reference to 
the runtime plug-in in the boot.xml file in the boot plug-in.

I have updated this and Michael tried it and it works fine.

Closing.
Closing.
Yes, I think that is the cause. Normally people keep the workspace but delete 
the old driver and unzip the new in place. Since the update state is in the 
workspace, it points at the plug-ins and features that do not exist any more. 
However, since core boot plug-in didn't change, it fails to run the reconciler 
and tries to activate missing plug-ins. In particular, it fails to find 
matching core runtime to go with boot. 

This is a transient error caused by us incrementing the versions and should 
not affect users in the field.</WithOutStack>
  </Bug>
  <Bug>
    <BugId amount="39816" />
    <CreationDate amount="2003-07-09 11:39:00 -0400" />
    <DupId amount="" />
    <classification amount="Eclipse" />
    <Product amount="Platform" />
    <component amount="Text" />
    <Version amount="3.0" />
    <rep_platform amount="PC" />
    <op_sys amount="Windows XP" />
    <priority amount="P3" />
    <bug_severity amount="normal" />
    <Summery>Quick Diff Ruler only usable together with line number ruler</Summery>
    <Patches amount="0" />
    <Stacktraces amount="0" />
    <SourceCodeRegions amount="0" />
    <Enumerations amount="0" />
    <bug_status amount="RESOLVED" />
    <resolution amount="FIXED" />
    <WithStack>I20030708

Since Java isn't a line (number) oriented language and since the quick diff
ruler is useful in the Java world as well they should not be coupled. It wastes
too much space if the line count is high.
fixed since M2
ok</WithStack>
    <WithOutStack>I20030708

Since Java isn't a line (number) oriented language and since the quick diff
ruler is useful in the Java world as well they should not be coupled. It wastes
too much space if the line count is high.
fixed since M2
ok</WithOutStack>
  </Bug>
  <Bug>
    <BugId amount="39817" />
    <CreationDate amount="2003-07-09 11:45:00 -0400" />
    <DupId amount="" />
    <classification amount="Eclipse" />
    <Product amount="Platform" />
    <component amount="Text" />
    <Version amount="3.0" />
    <rep_platform amount="PC" />
    <op_sys amount="Windows XP" />
    <priority amount="P3" />
    <bug_severity amount="normal" />
    <Summery>QuickDiff checkbox logic not ok on text editor pref page</Summery>
    <Patches amount="0" />
    <Stacktraces amount="0" />
    <SourceCodeRegions amount="0" />
    <Enumerations amount="1">
      <Enumeration lines="9">
        <Lines>
          <Line>1. open text editor preference page</Line>
          <Line>2. uncheck "show line numbers"</Line>
          <Line>3. click "OK"</Line>
          <Line>4. open text editor preference page</Line>
          <Line>observe [not ok]: I can now enable quick diff coloring</Line>
          <Line>5. check "show line numbers"</Line>
          <Line>6. uncheck "show line numbers"</Line>
          <Line>observe [ok]: quick diff coloring checkbox is disabled</Line>
          <Line>fixed &gt; I20030716</Line>
        </Lines>
      </Enumeration>
    </Enumerations>
    <bug_status amount="RESOLVED" />
    <resolution amount="FIXED" />
    <WithStack>I20030708

1. open text editor preference page
2. uncheck "show line numbers"
3. click "OK"
4. open text editor preference page
observe [not ok]: I can now enable quick diff coloring
5. check "show line numbers"
6. uncheck "show line numbers"
observe [ok]: quick diff coloring checkbox is disabled
fixed &gt; I20030716</WithStack>
    <WithOutStack>I20030708

1. open text editor preference page
2. uncheck "show line numbers"
3. click "OK"
4. open text editor preference page
observe [not ok]: I can now enable quick diff coloring
5. check "show line numbers"
6. uncheck "show line numbers"
observe [ok]: quick diff coloring checkbox is disabled
fixed &gt; I20030716</WithOutStack>
  </Bug>
  <Bug>
    <BugId amount="39818" />
    <CreationDate amount="2003-07-09 11:48:00 -0400" />
    <DupId amount="" />
    <classification amount="Eclipse" />
    <Product amount="Platform" />
    <component amount="Team" />
    <Version amount="3.0" />
    <rep_platform amount="PC" />
    <op_sys amount="Windows XP" />
    <priority amount="P3" />
    <bug_severity amount="normal" />
    <Summery>New Sync View: doesn't support stepping through all changes</Summery>
    <Patches amount="0" />
    <Stacktraces amount="0" />
    <SourceCodeRegions amount="0" />
    <Enumerations amount="0" />
    <bug_status amount="RESOLVED" />
    <resolution amount="FIXED" />
    <WithStack>I20030709

The old sync view support to step through all changes using Ctrl+, and Ctrl+. 
This is not possible anymore and makes it hard to review all incoming changes.
Fixed. The only problem is that currently when the compare editor has finished 
stepping through changes you have to strl+f7 to get back to the sync view.</WithStack>
    <WithOutStack>I20030709

The old sync view support to step through all changes using Ctrl+, and Ctrl+. 
This is not possible anymore and makes it hard to review all incoming changes.
Fixed. The only problem is that currently when the compare editor has finished 
stepping through changes you have to strl+f7 to get back to the sync view.</WithOutStack>
  </Bug>
  <Bug>
    <BugId amount="39819" />
    <CreationDate amount="2003-07-09 11:55:00 -0400" />
    <DupId amount="" />
    <classification amount="Eclipse" />
    <Product amount="Platform" />
    <component amount="Team" />
    <Version amount="3.0" />
    <rep_platform amount="PC" />
    <op_sys amount="Windows XP" />
    <priority amount="P3" />
    <bug_severity amount="normal" />
    <Summery>New Sync View: hard to use as fast view</Summery>
    <Patches amount="0" />
    <Stacktraces amount="0" />
    <SourceCodeRegions amount="0" />
    <Enumerations amount="0" />
    <bug_status amount="RESOLVED" />
    <resolution amount="FIXED" />
    <WithStack>I20030709

The new sync view is hard to use as a fast view if the fast view covers the 
editor area. Either the fast view closes after the compare viewer opens or the 
fast view stays (single click ?) and hides some portions of the compare editor.
In the same way that the navigator/packages view is hard to use as a fast view.

What I will do is force the view to regain focus when a compare editor is 
opened. This works well when the view is not a fast view and you want to cycle 
through changes (with the next support for ctrl + . and ctrl + ,) but causes a 
flicker when used as a fast view.

I take that back. To eanble ctrl+. and ctrl+, navigation in the sync view to 
navigate the compare editor changes I can't re-gain focus. The sync view will 
have the same behaviour as the navigator/packages view with respect to opening 
files.

The only way to really help you would be to retarget the compare editors into 
the view as in 2.1. This is not in our plans.
To enable stepping through changes in step with the compare editor we would 
have to get notification from the editor when it reaches the end of a file and 
then show then next file and so on...
*** Bug 40125 has been marked as a duplicate of this bug. ***
You can now step through changes using the next/previous arrows in the sync
view. This will step through fine grain changes shown in the compare editor.
Fix released to HEAD.</WithStack>
    <WithOutStack>I20030709

The new sync view is hard to use as a fast view if the fast view covers the 
editor area. Either the fast view closes after the compare viewer opens or the 
fast view stays (single click ?) and hides some portions of the compare editor.
In the same way that the navigator/packages view is hard to use as a fast view.

What I will do is force the view to regain focus when a compare editor is 
opened. This works well when the view is not a fast view and you want to cycle 
through changes (with the next support for ctrl + . and ctrl + ,) but causes a 
flicker when used as a fast view.

I take that back. To eanble ctrl+. and ctrl+, navigation in the sync view to 
navigate the compare editor changes I can't re-gain focus. The sync view will 
have the same behaviour as the navigator/packages view with respect to opening 
files.

The only way to really help you would be to retarget the compare editors into 
the view as in 2.1. This is not in our plans.
To enable stepping through changes in step with the compare editor we would 
have to get notification from the editor when it reaches the end of a file and 
then show then next file and so on...
*** Bug 40125 has been marked as a duplicate of this bug. ***
You can now step through changes using the next/previous arrows in the sync
view. This will step through fine grain changes shown in the compare editor.
Fix released to HEAD.</WithOutStack>
  </Bug>
  <Bug>
    <BugId amount="39820" />
    <CreationDate amount="2003-07-09 11:57:00 -0400" />
    <DupId amount="" />
    <classification amount="Eclipse" />
    <Product amount="Platform" />
    <component amount="Team" />
    <Version amount="3.0" />
    <rep_platform amount="PC" />
    <op_sys amount="Windows XP" />
    <priority amount="P3" />
    <bug_severity amount="normal" />
    <Summery>New Sync View: populates working area</Summery>
    <Patches amount="0" />
    <Stacktraces amount="0" />
    <SourceCodeRegions amount="0" />
    <Enumerations amount="0" />
    <bug_status amount="RESOLVED" />
    <resolution amount="FIXED" />
    <WithStack>I20030709

The old sync view has the nice behaviour that (when used as a fast view) I 
returned to exactly the same state I was in before I started the sync with 
repository. This is not the case anymore.
The incoming changes won't change unless you explicitly refresh with remote, 
however the outgoing changes will always reflect the real changes in your 
workspace.

I don't understand the problem with this. The main pressing problem (and we 
have many bugs to prove) that the sync view didn't really show the real 
outgoing changes.
Now I have a compare editor left in the editor working area which I have to 
close manually.

May be a Sync persepctive with its own editor manager would help here.

Regarding my use case: I often syncronize a single file which is unrelated to 
my normal work (I had to fix an important bug in that file). After doing so I 
selected that file did a synchronize, checked the changes in the synchronize 
view and released it. Since I use the synchronize view as a fast view my 
working area isn't "polluted" by doing the synchronize.
I opened Bug 39835 about editor management yesterday. Basically it would be 
nice if the compare editor would close when the change it was showing is made 
in sync.

For your use-case, the Team &gt; Synchronize with Repository will now open the 
sync view, refresh with remote, and select the resources. This should help 
with your use-case.

Fixed the main scenario described by Dirk and added code to close editors when a
node is removed from the sync view. This should help keep your work area a bit
cleaner :)</WithStack>
    <WithOutStack>I20030709

The old sync view has the nice behaviour that (when used as a fast view) I 
returned to exactly the same state I was in before I started the sync with 
repository. This is not the case anymore.
The incoming changes won't change unless you explicitly refresh with remote, 
however the outgoing changes will always reflect the real changes in your 
workspace.

I don't understand the problem with this. The main pressing problem (and we 
have many bugs to prove) that the sync view didn't really show the real 
outgoing changes.
Now I have a compare editor left in the editor working area which I have to 
close manually.

May be a Sync persepctive with its own editor manager would help here.

Regarding my use case: I often syncronize a single file which is unrelated to 
my normal work (I had to fix an important bug in that file). After doing so I 
selected that file did a synchronize, checked the changes in the synchronize 
view and released it. Since I use the synchronize view as a fast view my 
working area isn't "polluted" by doing the synchronize.
I opened Bug 39835 about editor management yesterday. Basically it would be 
nice if the compare editor would close when the change it was showing is made 
in sync.

For your use-case, the Team &gt; Synchronize with Repository will now open the 
sync view, refresh with remote, and select the resources. This should help 
with your use-case.

Fixed the main scenario described by Dirk and added code to close editors when a
node is removed from the sync view. This should help keep your work area a bit
cleaner :)</WithOutStack>
  </Bug>
  <Bug>
    <BugId amount="39821" />
    <CreationDate amount="2003-07-09 12:06:00 -0400" />
    <DupId amount="" />
    <classification amount="Eclipse" />
    <Product amount="Platform" />
    <component amount="Team" />
    <Version amount="3.0" />
    <rep_platform amount="PC" />
    <op_sys amount="Windows 2000" />
    <priority amount="P3" />
    <bug_severity amount="normal" />
    <Summery>CVS Annotate view should have description text when empty</Summery>
    <Patches amount="0" />
    <Stacktraces amount="0" />
    <SourceCodeRegions amount="0" />
    <Enumerations amount="0" />
    <bug_status amount="RESOLVED" />
    <resolution amount="FIXED" />
    <WithStack>When the CVS Annotation view is shown, it is empty and has no context menu. 
Looking at it, users will not know how to make use of this view. There should 
be a brief explanation shown in the view (when empty) on how to populate this 
view. Kinda like what the JDT Hierarchy view does.
I remember thinking the exact thing a while ago but never got around to 
logging a bug report.
Dean could you fix this.
Created attachment 5422
Fix for this bug
Created attachment 5429
Better fix for this bug
Released to HEAD</WithStack>
    <WithOutStack>When the CVS Annotation view is shown, it is empty and has no context menu. 
Looking at it, users will not know how to make use of this view. There should 
be a brief explanation shown in the view (when empty) on how to populate this 
view. Kinda like what the JDT Hierarchy view does.
I remember thinking the exact thing a while ago but never got around to 
logging a bug report.
Dean could you fix this.
Created attachment 5422
Fix for this bug
Created attachment 5429
Better fix for this bug
Released to HEAD</WithOutStack>
  </Bug>
  <Bug>
    <BugId amount="39822" />
    <CreationDate amount="2003-07-09 12:10:00 -0400" />
    <DupId amount="" />
    <classification amount="Eclipse" />
    <Product amount="Platform" />
    <component amount="Team" />
    <Version amount="3.0" />
    <rep_platform amount="PC" />
    <op_sys amount="Windows 2000" />
    <priority amount="P3" />
    <bug_severity amount="normal" />
    <Summery>Live Sync view Refresh With Remote drop down should use radio buttons</Summery>
    <Patches amount="0" />
    <Stacktraces amount="0" />
    <SourceCodeRegions amount="0" />
    <Enumerations amount="0" />
    <bug_status amount="RESOLVED" />
    <resolution amount="FIXED" />
    <WithStack>In the Live Synchronize view, the Refresh With Remove drop down button on the 
toolbar shows a menu with 3 menu items at the end that behave like radio 
buttons, yet they should up as check buttons instead (menu items: Revision 
number comparision, Comparing content, Comparing content ignore whitespace).
But what does a radio menu item look like? Is there an example in Eclipse? 
There are a few example (and lots of places still where check instead of radio 
is being used). Look at the Hierarchy View, in the view's drop down menu, it 
uses radio buttons to select which type of orientation you want.

If you are using the viewActions extension point, then there is a "style" 
attribute you can use to specify "radio" behavior. If you are contributing 
these via code, there is a new constructor on Action that you can specify the 
style.
Thanks for the info. It's fixed now.</WithStack>
    <WithOutStack>In the Live Synchronize view, the Refresh With Remove drop down button on the 
toolbar shows a menu with 3 menu items at the end that behave like radio 
buttons, yet they should up as check buttons instead (menu items: Revision 
number comparision, Comparing content, Comparing content ignore whitespace).
But what does a radio menu item look like? Is there an example in Eclipse? 
There are a few example (and lots of places still where check instead of radio 
is being used). Look at the Hierarchy View, in the view's drop down menu, it 
uses radio buttons to select which type of orientation you want.

If you are using the viewActions extension point, then there is a "style" 
attribute you can use to specify "radio" behavior. If you are contributing 
these via code, there is a new constructor on Action that you can specify the 
style.
Thanks for the info. It's fixed now.</WithOutStack>
  </Bug>
  <Bug>
    <BugId amount="39823" />
    <CreationDate amount="2003-07-09 12:10:00 -0400" />
    <DupId amount="" />
    <classification amount="Eclipse" />
    <Product amount="JDT" />
    <component amount="Core" />
    <Version amount="2.1" />
    <rep_platform amount="PC" />
    <op_sys amount="Windows XP" />
    <priority amount="P3" />
    <bug_severity amount="normal" />
    <Summery>AST: Would like to have binding of Serializable and Clonable</Summery>
    <Patches amount="0" />
    <Stacktraces amount="0" />
    <SourceCodeRegions amount="0" />
    <Enumerations amount="0" />
    <bug_status amount="VERIFIED" />
    <resolution amount="FIXED" />
    <WithStack>20030709

AST.resolveWellKnownType does not support java.lang.Serializable and
java.lang.Clonable. 
Arrays are by design Serializable and Clonable so these interfaces seem 'well
known' as well.
Would it be possible to add these interfaces to the list of well known interfaces?

Or, would it even be possible to get the binding of any type? (without creating
an fake CU)
Resolving more types on the fly isn't intended to be supported, since it 
requires to keep all name resolution structures in memory, in case you may 
resolve anything later on.

We could add the few obvious well-known entities you need though.
This is trivial. The code is ready and simply needs an update of the API.
Jim, could you please do it and tell me when the API is changed so I can release
my changes?

Thanks.
Added to spec for AST.resolveWellKnownTypes:
	 * &lt;li&gt;&lt;code&gt;"java.lang.Cloneable"&lt;/code&gt;&lt;/li&gt;
	 * &lt;li&gt;&lt;code&gt;"java.io.Serializable"&lt;/code&gt;&lt;/li&gt;

Fixed and released in HEAD.
Regression test added.
Verified.</WithStack>
    <WithOutStack>20030709

AST.resolveWellKnownType does not support java.lang.Serializable and
java.lang.Clonable. 
Arrays are by design Serializable and Clonable so these interfaces seem 'well
known' as well.
Would it be possible to add these interfaces to the list of well known interfaces?

Or, would it even be possible to get the binding of any type? (without creating
an fake CU)
Resolving more types on the fly isn't intended to be supported, since it 
requires to keep all name resolution structures in memory, in case you may 
resolve anything later on.

We could add the few obvious well-known entities you need though.
This is trivial. The code is ready and simply needs an update of the API.
Jim, could you please do it and tell me when the API is changed so I can release
my changes?

Thanks.
Added to spec for AST.resolveWellKnownTypes:
	 * &lt;li&gt;&lt;code&gt;"java.lang.Cloneable"&lt;/code&gt;&lt;/li&gt;
	 * &lt;li&gt;&lt;code&gt;"java.io.Serializable"&lt;/code&gt;&lt;/li&gt;

Fixed and released in HEAD.
Regression test added.
Verified.</WithOutStack>
  </Bug>
  <Bug>
    <BugId amount="39824" />
    <CreationDate amount="2003-07-09 13:15:00 -0400" />
    <DupId amount="" />
    <classification amount="Eclipse" />
    <Product amount="JDT" />
    <component amount="Debug" />
    <Version amount="2.1" />
    <rep_platform amount="PC" />
    <op_sys amount="Windows 2000" />
    <priority amount="P3" />
    <bug_severity amount="enhancement" />
    <Summery>debugger:  throw new exception while debugging</Summery>
    <Patches amount="0" />
    <Stacktraces amount="0" />
    <SourceCodeRegions amount="1">
      <source_code type="functioncall">
        <location start="1880" end="1913" />
        <code>throw new NullPointerException();</code>
      </source_code>
    </SourceCodeRegions>
    <Enumerations amount="0" />
    <bug_status amount="VERIFIED" />
    <resolution amount="FIXED" />
    <WithStack>It would be nice if you could in the display tab of the debug view you could
type throw new Exception("hello") and that exception would be thrown, currently
the statement exectues with no effect.
Luc, looking at the JDI spec, I do not see a way to simiulate throwing an 
exception? Do you?
I think ThreadReference#stop(ObjectReference) should allow us to simulate
throwing an exception.

The doc the JDWP command says it performs the same way as
java.lang.Thread#stop(Throwable). This method is mark as deprecated and unsafe,
but it should work.
Released an implementation of the throw statement.

New class: ThrowInstruction
New methods: IJavaThread#stop(IJavaObject)
             JDIThread#stop(IJavaObject)
changes in: ASTInstructionCompiler
The implementation works fine, but I don't really like the result. It's not
consistent with the rest of the evaluation engine.
It creates two different ways to manage exceptions in an evaluation. If the
exception is the result of a method invocation, its stack trace will be print in
the display view. If the exception has been thrown by a 'throw' statement, it
will be send to the VM and will stop the excecution of the thread.

I don't like the fact that an evaluation can have a direct effect on a thread,
even if it's what we can expect from a 'throw' statement.
This 'throw' statement is available in all evaluation and will certainly create
some interresting side effect if use if a breakpoint condition, or in a watch
expression.

A solution may be to create a "throw" action, like the evaluate and inspect
actions, which will throw an exception created by a snippet evaluation.

When a throw statement is evaluated (or completes evaluation), the thread 
resumes which means the result cannot be printed. Thus evaluating something 
like "throw new NullPointerException()" results in the following printed in the 
display view:

throw new NullPointerException();
	 (java.lang.NullPointerException) Evaluation failed - thread not 
suspended.

We should not print a result in this case (as no result is expected). 
Problem fixed.
The implementation has been in the integration builds since a few weeks now,
nobody seem to be unhappy with it.

Marking as fix.
Please verify, Darin W.
If there's a syntax error, it is not shown. For example, debug to a breakpoint, 
and evaluate "throw new NullPointerException()" in the Display view. Nothing 
happens because I am missing the the semicolon (I found this out by inspecting 
the expression). We should display error messages.
This is fixed as a side effect of bug 41961.
Verified.</WithStack>
    <WithOutStack>It would be nice if you could in the display tab of the debug view you could
type throw new Exception("hello") and that exception would be thrown, currently
the statement exectues with no effect.
Luc, looking at the JDI spec, I do not see a way to simiulate throwing an 
exception? Do you?
I think ThreadReference#stop(ObjectReference) should allow us to simulate
throwing an exception.

The doc the JDWP command says it performs the same way as
java.lang.Thread#stop(Throwable). This method is mark as deprecated and unsafe,
but it should work.
Released an implementation of the throw statement.

New class: ThrowInstruction
New methods: IJavaThread#stop(IJavaObject)
             JDIThread#stop(IJavaObject)
changes in: ASTInstructionCompiler
The implementation works fine, but I don't really like the result. It's not
consistent with the rest of the evaluation engine.
It creates two different ways to manage exceptions in an evaluation. If the
exception is the result of a method invocation, its stack trace will be print in
the display view. If the exception has been thrown by a 'throw' statement, it
will be send to the VM and will stop the excecution of the thread.

I don't like the fact that an evaluation can have a direct effect on a thread,
even if it's what we can expect from a 'throw' statement.
This 'throw' statement is available in all evaluation and will certainly create
some interresting side effect if use if a breakpoint condition, or in a watch
expression.

A solution may be to create a "throw" action, like the evaluate and inspect
actions, which will throw an exception created by a snippet evaluation.

When a throw statement is evaluated (or completes evaluation), the thread 
resumes which means the result cannot be printed. Thus evaluating something 
like "throw new NullPointerException()" results in the following printed in the 
display view:

throw new NullPointerException();
	 (java.lang.NullPointerException) Evaluation failed - thread not 
suspended.

We should not print a result in this case (as no result is expected). 
Problem fixed.
The implementation has been in the integration builds since a few weeks now,
nobody seem to be unhappy with it.

Marking as fix.
Please verify, Darin W.
If there's a syntax error, it is not shown. For example, debug to a breakpoint, 
and evaluate "throw new NullPointerException()" in the Display view. Nothing 
happens because I am missing the the semicolon (I found this out by inspecting 
the expression). We should display error messages.
This is fixed as a side effect of bug 41961.
Verified.</WithOutStack>
  </Bug>
  <Bug>
    <BugId amount="39825" />
    <CreationDate amount="2003-07-09 13:34:00 -0400" />
    <DupId amount="" />
    <classification amount="Eclipse" />
    <Product amount="Platform" />
    <component amount="UI" />
    <Version amount="3.0" />
    <rep_platform amount="Macintosh" />
    <op_sys amount="Mac OS X - Carbon (unsup.)" />
    <priority amount="P3" />
    <bug_severity amount="critical" />
    <Summery>Eclipse becomes unresponsive after opening Progress view</Summery>
    <Patches amount="0" />
    <Stacktraces amount="0" />
    <SourceCodeRegions amount="0" />
    <Enumerations amount="2">
      <Enumeration lines="2">
        <Lines>
          <Line>a) Not post a job if there is nothing to do</Line>
          <Line>b) Not post a job if the previous one has not been served</Line>
        </Lines>
      </Enumeration>
      <Enumeration lines="13">
        <Lines>
          <Line>- start Eclipse with new workspace</Line>
          <Line>- disable autobuild</Line>
          <Line>- import all plugins</Line>
          <Line>- switch to Java perspective</Line>
          <Line>- open Progress view</Line>
          <Line>- in package explorer enable or disable any filter</Line>
          <Line>Observe: Eclipse becomes completely unresponsive;</Line>
          <Line>after some minutes Eclipse refreshes and you typically find lots of "Update for Decoration</Line>
          <Line>Completion" entries in the Progress view. However it is still unresponsive.</Line>
          <Line>Tod, can you look into this?  I'm currently investigating the class loader</Line>
          <Line>deadlock in the test suites.</Line>
          <Line>Mike and I have looked into this and I believe that the problem is that the</Line>
          <Line>ProgressView is starving the UI when there are a lot of UI jobs going on.</Line>
        </Lines>
      </Enumeration>
    </Enumerations>
    <bug_status amount="CLOSED" />
    <resolution amount="FIXED" />
    <WithStack>I20030709

- start Eclipse with new workspace
- disable autobuild
- import all plugins
- switch to Java perspective
- open Progress view
- in package explorer enable or disable any filter
Observe: Eclipse becomes completely unresponsive;
after some minutes Eclipse refreshes and you typically find lots of "Update for Decoration 
Completion" entries in the Progress view. However it is still unresponsive.
Tod, can you look into this?  I'm currently investigating the class loader
deadlock in the test suites.
Mike and I have looked into this and I believe that the problem is that the 
ProgressView is starving the UI when there are a lot of UI jobs going on.

The Tree updates appear to be slower on the Mac than on other platforms so the 
time it takes to update competes with the asynch execs from the operations.

We should also make it a deferred content provider.
Fixed for build 20030710. The issue was that the decoration scheduler was 
posting a job whether or not there were updates to do.

Changed it to
a) Not post a job if there is nothing to do
b) Not post a job if the previous one has not been served 

I will leave this open pending tomorrows build.
The fix works for me. Thanks!
Marking as fixed
Marking as closed.</WithStack>
    <WithOutStack>I20030709

- start Eclipse with new workspace
- disable autobuild
- import all plugins
- switch to Java perspective
- open Progress view
- in package explorer enable or disable any filter
Observe: Eclipse becomes completely unresponsive;
after some minutes Eclipse refreshes and you typically find lots of "Update for Decoration 
Completion" entries in the Progress view. However it is still unresponsive.
Tod, can you look into this?  I'm currently investigating the class loader
deadlock in the test suites.
Mike and I have looked into this and I believe that the problem is that the 
ProgressView is starving the UI when there are a lot of UI jobs going on.

The Tree updates appear to be slower on the Mac than on other platforms so the 
time it takes to update competes with the asynch execs from the operations.

We should also make it a deferred content provider.
Fixed for build 20030710. The issue was that the decoration scheduler was 
posting a job whether or not there were updates to do.

Changed it to
a) Not post a job if there is nothing to do
b) Not post a job if the previous one has not been served 

I will leave this open pending tomorrows build.
The fix works for me. Thanks!
Marking as fixed
Marking as closed.</WithOutStack>
  </Bug>
  <Bug>
    <BugId amount="39826" />
    <CreationDate amount="2003-07-09 13:43:00 -0400" />
    <DupId amount="60462" />
    <classification amount="Eclipse" />
    <Product amount="Platform" />
    <component amount="UI" />
    <Version amount="2.1" />
    <rep_platform amount="Other" />
    <op_sys amount="Linux-GTK" />
    <priority amount="P3" />
    <bug_severity amount="normal" />
    <Summery>[CellEditors] validator on ComboBoxCellEditor with editable combo box throws ArrayIndexOutOfBoundsException when new input is not valid</Summery>
    <Patches amount="0" />
    <Stacktraces amount="0" />
    <SourceCodeRegions amount="1">
      <source_code type="functiondef">
        <location start="639" end="727" />
        <code>setErrorMessage(MessageFormat.format(getErrorMessage(), new Object[] 
{items[selection]}</code>
      </source_code>
    </SourceCodeRegions>
    <Enumerations amount="0" />
    <bug_status amount="RESOLVED" />
    <resolution amount="DUPLICATE" />
    <WithStack>Create a ComboBoxCellEditor with an editable combo box. Associate a validator 
with the cell editor. Enter text into the combo box which is not (yet) part of 
the items of the combo box. Within the validator's isValid-method, return an 
error message for that input. An ArrayIndexOutOfBoundsException is thrown. 
 
Reason: In the method applyEditorValueAndDeactivate() a ComboBoxCellEditor 
retrieves the selection index of the combo box, with is -1 when the entered 
text is not found in the items list of the combo box. When a validator 
determines that the input is not valid, an error message is constructed within 
that method via 
 
setErrorMessage(MessageFormat.format(getErrorMessage(), new Object[] 
{items[selection]}));  
 
which fails for selection = -1.

Nick, this looks to be a duplicate of 60462.


Indeed it does.  Closing as a dup of the (later) bug 60462 since that report has
more details.


*** This bug has been marked as a duplicate of 60462 ***</WithStack>
    <WithOutStack>Create a ComboBoxCellEditor with an editable combo box. Associate a validator 
with the cell editor. Enter text into the combo box which is not (yet) part of 
the items of the combo box. Within the validator's isValid-method, return an 
error message for that input. An ArrayIndexOutOfBoundsException is thrown. 
 
Reason: In the method applyEditorValueAndDeactivate() a ComboBoxCellEditor 
retrieves the selection index of the combo box, with is -1 when the entered 
text is not found in the items list of the combo box. When a validator 
determines that the input is not valid, an error message is constructed within 
that method via 
 
setErrorMessage(MessageFormat.format(getErrorMessage(), new Object[] 
{items[selection]}));  
 
which fails for selection = -1.

Nick, this looks to be a duplicate of 60462.


Indeed it does.  Closing as a dup of the (later) bug 60462 since that report has
more details.


*** This bug has been marked as a duplicate of 60462 ***</WithOutStack>
  </Bug>
  <Bug>
    <BugId amount="39827" />
    <CreationDate amount="2003-07-09 14:08:00 -0400" />
    <DupId amount="" />
    <classification amount="Eclipse" />
    <Product amount="Platform" />
    <component amount="SWT" />
    <Version amount="3.0" />
    <rep_platform amount="Macintosh" />
    <op_sys amount="Mac OS X - Carbon (unsup.)" />
    <priority amount="P3" />
    <bug_severity amount="normal" />
    <Summery>Launching eclipse creates zombies.</Summery>
    <Patches amount="0" />
    <Stacktraces amount="0" />
    <SourceCodeRegions amount="0" />
    <Enumerations amount="1">
      <Enumeration lines="5">
        <Lines>
          <Line>1) start "Process Viewer" (found in Applications -&gt; Utilities)</Line>
          <Line>2) in the "find" window type "eclipse"</Line>
          <Line>3) start eclipse</Line>
          <Line>4) exit eclipse</Line>
          <Line>5) notice that a "Zombie" process is left behind.</Line>
        </Lines>
      </Enumeration>
    </Enumerations>
    <bug_status amount="RESOLVED" />
    <resolution amount="WORKSFORME" />
    <WithStack>1) start "Process Viewer" (found in Applications -&gt; Utilities)
2) in the "find" window type "eclipse"
3) start eclipse
4) exit eclipse
5) notice that a "Zombie" process is left behind.

Each time you start and exit eclipse another Zombie process is created.
McQ, please specify the build id you are using.
eclipse-SDK-I20030709-macosx-carbon.tar.gz

Still happening in
    eclipse-SDK-I20030710-macosx-carbon.tar.gz

This problem exists as long as we are using the platform-launcher (aka "eclipse.exe").
It is a result of how MacOS X launches applications and how eclipse.exe forks and execs the Java 
VM. Since Mac OS X app launching isn't well documented, I don't know how to do it "right".

However, some research via Google revealed that some X11 applications have the same problem 
on MacOS X, and one theory suggests that this is an Mac OS X bug.

Anyways, the problem is minor because a zombie process is just a slot in the process table, but 
has no other OS resources associated with it. In addition, since it does only occur if Eclipse is 
started from the Finder (not from within Eclipse), not too many zombies are created because 
typical users can run Eclipse for days.

You can get rid of zombies by logout/login.
Launching Eclipse leaves no Zombies in Panther.
Closing since we require Panther now and don't get zombies there.</WithStack>
    <WithOutStack>1) start "Process Viewer" (found in Applications -&gt; Utilities)
2) in the "find" window type "eclipse"
3) start eclipse
4) exit eclipse
5) notice that a "Zombie" process is left behind.

Each time you start and exit eclipse another Zombie process is created.
McQ, please specify the build id you are using.
eclipse-SDK-I20030709-macosx-carbon.tar.gz

Still happening in
    eclipse-SDK-I20030710-macosx-carbon.tar.gz

This problem exists as long as we are using the platform-launcher (aka "eclipse.exe").
It is a result of how MacOS X launches applications and how eclipse.exe forks and execs the Java 
VM. Since Mac OS X app launching isn't well documented, I don't know how to do it "right".

However, some research via Google revealed that some X11 applications have the same problem 
on MacOS X, and one theory suggests that this is an Mac OS X bug.

Anyways, the problem is minor because a zombie process is just a slot in the process table, but 
has no other OS resources associated with it. In addition, since it does only occur if Eclipse is 
started from the Finder (not from within Eclipse), not too many zombies are created because 
typical users can run Eclipse for days.

You can get rid of zombies by logout/login.
Launching Eclipse leaves no Zombies in Panther.
Closing since we require Panther now and don't get zombies there.</WithOutStack>
  </Bug>
  <Bug>
    <BugId amount="39828" />
    <CreationDate amount="2003-07-09 14:11:00 -0400" />
    <DupId amount="" />
    <classification amount="Eclipse" />
    <Product amount="JDT" />
    <component amount="UI" />
    <Version amount="2.1" />
    <rep_platform amount="PC" />
    <op_sys amount="Windows 2000" />
    <priority amount="P3" />
    <bug_severity amount="normal" />
    <Summery>can't copy/paste a read-only java file</Summery>
    <Patches amount="0" />
    <Stacktraces amount="0" />
    <SourceCodeRegions amount="0" />
    <Enumerations amount="0" />
    <bug_status amount="RESOLVED" />
    <resolution amount="FIXED" />
    <WithStack>java files under source control (clearcase) and read-only when not checked
out can be copied, but not pasted. That makes no sense since the next step
is for the rename dialog to popup (which is what happens when the file is
not read-only). Even paste into a different package fails with the same
error, which makes even less sense. It should be ok for the source of the copy
operation to be read-only.
Got fixed for upcoming M2 integration build.</WithStack>
    <WithOutStack>java files under source control (clearcase) and read-only when not checked
out can be copied, but not pasted. That makes no sense since the next step
is for the rename dialog to popup (which is what happens when the file is
not read-only). Even paste into a different package fails with the same
error, which makes even less sense. It should be ok for the source of the copy
operation to be read-only.
Got fixed for upcoming M2 integration build.</WithOutStack>
  </Bug>
  <Bug>
    <BugId amount="39829" />
    <CreationDate amount="2003-07-09 14:41:00 -0400" />
    <DupId amount="" />
    <classification amount="Eclipse" />
    <Product amount="PDE" />
    <component amount="Build" />
    <Version amount="3.0" />
    <rep_platform amount="PC" />
    <op_sys amount="All" />
    <priority amount="P3" />
    <bug_severity amount="critical" />
    <Summery>retrieve.xml hard codes tags specified in directory.txt</Summery>
    <Patches amount="0" />
    <Stacktraces amount="0" />
    <SourceCodeRegions amount="0" />
    <Enumerations amount="0" />
    <bug_status amount="RESOLVED" />
    <resolution amount="FIXED" />
    <WithStack>The retrieve.xml should use a property called "tag" instead of hard coded 
values for tags taken from the directory.txt.

The problem is that if in nightly builds the tag property value is set to HEAD 
and the HEAD content of a feature.xml differs from that specified in the tag 
in the directory.txt, the resulting fetch*.xml script may not be correct.  For 
example, if the HEAD stream contents of a feature include an extra plugin, 
then an entry for the new plugin is not contained in the fetch script.
So I now know to set fetchTag to HEAD when I run the build if I want to fetch 
from a specific stream cf.  setting -Dtag=HEAD.  However, it does not appear 
that setting -DfetchTag=HEAD is passing "HEAD" along as a value to the 
FetchScriptGenerator since the fetch scripts still contain the tags specified 
in the maps.
A fix has been released in HEAD.
Please confirm if it works.

Verified, thanks.  Closing.</WithStack>
    <WithOutStack>The retrieve.xml should use a property called "tag" instead of hard coded 
values for tags taken from the directory.txt.

The problem is that if in nightly builds the tag property value is set to HEAD 
and the HEAD content of a feature.xml differs from that specified in the tag 
in the directory.txt, the resulting fetch*.xml script may not be correct.  For 
example, if the HEAD stream contents of a feature include an extra plugin, 
then an entry for the new plugin is not contained in the fetch script.
So I now know to set fetchTag to HEAD when I run the build if I want to fetch 
from a specific stream cf.  setting -Dtag=HEAD.  However, it does not appear 
that setting -DfetchTag=HEAD is passing "HEAD" along as a value to the 
FetchScriptGenerator since the fetch scripts still contain the tags specified 
in the maps.
A fix has been released in HEAD.
Please confirm if it works.

Verified, thanks.  Closing.</WithOutStack>
  </Bug>
  <Bug>
    <BugId amount="39830" />
    <CreationDate amount="2003-07-09 15:03:00 -0400" />
    <DupId amount="" />
    <classification amount="Tools" />
    <Product amount="CDT" />
    <component amount="cdt-debug-cdi" />
    <Version amount="1.2" />
    <rep_platform amount="PC" />
    <op_sys amount="All" />
    <priority amount="P3" />
    <bug_severity amount="normal" />
    <Summery>In the Launcher, need a textfield to set the solib-path</Summery>
    <Patches amount="0" />
    <Stacktraces amount="0" />
    <SourceCodeRegions amount="0" />
    <Enumerations amount="0" />
    <bug_status amount="RESOLVED" />
    <resolution amount="FIXED" />
    <WithStack>There is no way to set the solib-path besides to switch
the gdb console in the IDE and do it by hand ... every time
Added to HEAD new Shared lib tab for gdb debuggers thanks</WithStack>
    <WithOutStack>There is no way to set the solib-path besides to switch
the gdb console in the IDE and do it by hand ... every time
Added to HEAD new Shared lib tab for gdb debuggers thanks</WithOutStack>
  </Bug>
  <Bug>
    <BugId amount="39831" />
    <CreationDate amount="2003-07-09 15:04:00 -0400" />
    <DupId amount="" />
    <classification amount="Eclipse" />
    <Product amount="JDT" />
    <component amount="Core" />
    <Version amount="3.0" />
    <rep_platform amount="PC" />
    <op_sys amount="Windows 2000" />
    <priority amount="P3" />
    <bug_severity amount="normal" />
    <Summery>Search finds only "inexact" matches</Summery>
    <Patches amount="0" />
    <Stacktraces amount="0" />
    <SourceCodeRegions amount="2">
      <source_code type="functiondef">
        <location start="338" end="381" />
        <code>public void foo(String arg)
{
  bar(arg);
}</code>
      </source_code>
      <source_code type="functiondef">
        <location start="383" end="420" />
        <code>public void bar(String arg)
{
  ...
}</code>
      </source_code>
    </SourceCodeRegions>
    <Enumerations amount="1">
      <Enumeration lines="3">
        <Lines>
          <Line>a. I would be notified about the bad .jar in the form of an error, or</Line>
          <Line>b. If the .jar was not referenced (thus causing no other compile errors) that</Line>
          <Line>the search code would ignore the .jar and work correctly.</Line>
        </Lines>
      </Enumeration>
    </Enumerations>
    <bug_status amount="VERIFIED" />
    <resolution amount="FIXED" />
    <WithStack>A project in my workspace was behaving in the way described in the following 
bug report: (https://bugs.eclipse.org/bugs/show_bug.cgi?id=30530)
That is, although the project was completely compiled and free of errors and 
warnings, when finding references to a method only "inexact" matches were found.

For example, given two methods: 

public void foo(String arg)
{
  bar(arg);
}

public void bar(String arg)
{
  ...
}

When searching on references to bar(String), the result would be a list 
of "inexact" matches that matched on the method name with one argument, 
regardless of the parameter type.

WHAT I FOUND OUT:
After much hair pulling I discovered that I had a corrupt .jar file in my class 
path.  That was the culprit.  Even thought that .jar was corrupt and there was 
no reference to it in the code, (since the project compiled correctly), it 
caused this strange search behavior.

WHAT I WOULD HAVE EXPECTED:
I would expect that if I had a corrupt .jar on my class path that either:
a. I would be notified about the bad .jar in the form of an error, or
b. If the .jar was not referenced (thus causing no other compile errors) that 
the search code would ignore the .jar and work correctly.

Cheers to y'all at (OTI)BM
Moving to JDT Core since both issues are handled by JDT Core.
Colin, would it be possible for you to attach the corrupt jar to this bug 
report? I'd like to understand how it is corrupt.
Created attachment 5804
the corrupt .jar file
Thanks a lot for the test case.

Problem was in JavaSearchEnvironment.computeClasspathLocations(...). If it 
could not open the jar, it would consider that the classpath was empty, thus 
not even finding the Java class library. Thus all matches were found inexact.

Fixed and added regression test JavaSearchTests.testTypeReferenceWithCorruptJar
()
Verified.</WithStack>
    <WithOutStack>A project in my workspace was behaving in the way described in the following 
bug report: (https://bugs.eclipse.org/bugs/show_bug.cgi?id=30530)
That is, although the project was completely compiled and free of errors and 
warnings, when finding references to a method only "inexact" matches were found.

For example, given two methods: 

public void foo(String arg)
{
  bar(arg);
}

public void bar(String arg)
{
  ...
}

When searching on references to bar(String), the result would be a list 
of "inexact" matches that matched on the method name with one argument, 
regardless of the parameter type.

WHAT I FOUND OUT:
After much hair pulling I discovered that I had a corrupt .jar file in my class 
path.  That was the culprit.  Even thought that .jar was corrupt and there was 
no reference to it in the code, (since the project compiled correctly), it 
caused this strange search behavior.

WHAT I WOULD HAVE EXPECTED:
I would expect that if I had a corrupt .jar on my class path that either:
a. I would be notified about the bad .jar in the form of an error, or
b. If the .jar was not referenced (thus causing no other compile errors) that 
the search code would ignore the .jar and work correctly.

Cheers to y'all at (OTI)BM
Moving to JDT Core since both issues are handled by JDT Core.
Colin, would it be possible for you to attach the corrupt jar to this bug 
report? I'd like to understand how it is corrupt.
Created attachment 5804
the corrupt .jar file
Thanks a lot for the test case.

Problem was in JavaSearchEnvironment.computeClasspathLocations(...). If it 
could not open the jar, it would consider that the classpath was empty, thus 
not even finding the Java class library. Thus all matches were found inexact.

Fixed and added regression test JavaSearchTests.testTypeReferenceWithCorruptJar
()
Verified.</WithOutStack>
  </Bug>
  <Bug>
    <BugId amount="39832" />
    <CreationDate amount="2003-07-09 15:18:00 -0400" />
    <DupId amount="45887" />
    <classification amount="Eclipse" />
    <Product amount="Platform" />
    <component amount="Debug" />
    <Version amount="2.1" />
    <rep_platform amount="PC" />
    <op_sys amount="Windows 2000" />
    <priority amount="P3" />
    <bug_severity amount="normal" />
    <Summery>Running launch config causes unrelated project to be rebuilt</Summery>
    <Patches amount="0" />
    <Stacktraces amount="0" />
    <SourceCodeRegions amount="0" />
    <Enumerations amount="1">
      <Enumeration lines="2">
        <Lines>
          <Line>1. Project of the Main (launchable) class</Line>
          <Line>2. Projects of all the source folders</Line>
        </Lines>
      </Enumeration>
    </Enumerations>
    <bug_status amount="RESOLVED" />
    <resolution amount="DUPLICATE" />
    <WithStack>I have many mutually independent projects setup on Eclipse. My Debug
configuration is configured to "Build before launch". What I observe is that
running a launch configuration of a project that has no dependancy on any other
project in my workspace causes all open projects to be built. This is pretty
annoying because some of the projects have integrated ant builders that take
pretty long to finish.
Currently, there is no mechanism to determine what projects are related to a 
launch configuration (generically, independent of JDT, etc). Thus, the 
preference controls building of the entire workspace.
Would it not suffice to say that the project list for a launch config is the
union of the following:
1. Project of the Main (launchable) class
2. Projects of all the source folders

Infact, the 'Source' tab on the launch configuration pane already has an 'Add
Project' button.


That's a java specific view. The debug platform controls building (not the java 
debugger). We need a generic solution to work for Java, C, Cobol...
deferred for later consideration
Infrastructure now supports scoped builds.


*** This bug has been marked as a duplicate of 45877 ***
Darin I think you have the wrong duplicate bug number.

open


*** This bug has been marked as a duplicate of 45887 ***</WithStack>
    <WithOutStack>I have many mutually independent projects setup on Eclipse. My Debug
configuration is configured to "Build before launch". What I observe is that
running a launch configuration of a project that has no dependancy on any other
project in my workspace causes all open projects to be built. This is pretty
annoying because some of the projects have integrated ant builders that take
pretty long to finish.
Currently, there is no mechanism to determine what projects are related to a 
launch configuration (generically, independent of JDT, etc). Thus, the 
preference controls building of the entire workspace.
Would it not suffice to say that the project list for a launch config is the
union of the following:
1. Project of the Main (launchable) class
2. Projects of all the source folders

Infact, the 'Source' tab on the launch configuration pane already has an 'Add
Project' button.


That's a java specific view. The debug platform controls building (not the java 
debugger). We need a generic solution to work for Java, C, Cobol...
deferred for later consideration
Infrastructure now supports scoped builds.


*** This bug has been marked as a duplicate of 45877 ***
Darin I think you have the wrong duplicate bug number.

open


*** This bug has been marked as a duplicate of 45887 ***</WithOutStack>
  </Bug>
  <Bug>
    <BugId amount="39833" />
    <CreationDate amount="2003-07-09 15:20:00 -0400" />
    <DupId amount="" />
    <classification amount="Eclipse" />
    <Product amount="JDT" />
    <component amount="Text" />
    <Version amount="3.0" />
    <rep_platform amount="PC" />
    <op_sys amount="Windows XP" />
    <priority amount="P3" />
    <bug_severity amount="normal" />
    <Summery>Working Copy Reconciliation Problem</Summery>
    <Patches amount="0" />
    <Stacktraces amount="0" />
    <SourceCodeRegions amount="0" />
    <Enumerations amount="0" />
    <bug_status amount="RESOLVED" />
    <resolution amount="WORKSFORME" />
    <WithStack>I experience the problem shown in the attached stack dump anywhere between 10 
and 50 times a day. It always occurs while typing text in the Java editor and 
the synptom is a popup dialog stating that an error has occurred and I should 
examine the log.

The problem can happen in virtually any Java file. It is not easily 
reproducible in the sense that it will not reoccur if I take the file that I 
was typing in, remove the stuff I typed that triggered the problem and then 
retype the triggering text.
Created attachment 5411
Sample log file
This seems to belong to UI.
Cannot reproduce using I20070208-2030.</WithStack>
    <WithOutStack>I experience the problem shown in the attached stack dump anywhere between 10 
and 50 times a day. It always occurs while typing text in the Java editor and 
the synptom is a popup dialog stating that an error has occurred and I should 
examine the log.

The problem can happen in virtually any Java file. It is not easily 
reproducible in the sense that it will not reoccur if I take the file that I 
was typing in, remove the stuff I typed that triggered the problem and then 
retype the triggering text.
Created attachment 5411
Sample log file
This seems to belong to UI.
Cannot reproduce using I20070208-2030.</WithOutStack>
  </Bug>
  <Bug>
    <BugId amount="39834" />
    <CreationDate amount="2003-07-09 16:04:00 -0400" />
    <DupId amount="" />
    <classification amount="Eclipse" />
    <Product amount="Platform" />
    <component amount="SWT" />
    <Version amount="3.0" />
    <rep_platform amount="Macintosh" />
    <op_sys amount="Mac OS X - Carbon (unsup.)" />
    <priority amount="P3" />
    <bug_severity amount="normal" />
    <Summery>Crash during PDE import</Summery>
    <Patches amount="0" />
    <Stacktraces amount="0" />
    <SourceCodeRegions amount="0" />
    <Enumerations amount="1">
      <Enumeration lines="2">
        <Lines>
          <Line>1) Import the platform-ui module</Line>
          <Line>2) Import all required plugins as binary</Line>
        </Lines>
      </Enumeration>
    </Enumerations>
    <bug_status amount="RESOLVED" />
    <resolution amount="WORKSFORME" />
    <WithStack>Build 20030709
MAC VM 1.3.1

During a PDE import we got a core dump which ended  my Eclipse session.

I am not sure of the steps but this is what we did

1) Import the platform-ui module
2) Import all required plugins as binary

Core:
**********

Date/Time:  2003-07-09 15:47:41 -0400
OS Version: 10.2.6 (Build 6L60)
Host:       foo.ott.oti.com

Command:    java
PID:        2205

Exception:  EXC_BAD_ACCESS (0x0001)
Codes:      KERN_PROTECTION_FAILURE (0x0002) at 0x00000058

Thread 0:
 #0   0x90073c28 in mach_msg_trap
 #1   0x90005f70 in mach_msg
 #2   0x9283dde4 in JVM_NewInstance
 #3   0x9284ee20 in JVM_GetCPMethodClassNameUTF
 #4   0x92861b1c in JVM_Send
 #5   0x9288f76c in JVM_MonitorNotifyAll
 #6   0x040cea20 in callback
 #7   0x040a93a4 in fn4_3
 #8   0x969a2c54 in DispatchEventToHandlers
 #9   0x969a2fbc in SendEventToEventTargetInternal
 #10  0x969a63d0 in SendEventToEventTargetWithOptions
 #11  0x969b5308 in SendControlDefApplyBackground(HIView*, OpaqueControlRef*, 
OpaqueGrafPtr*, short, unsigned char)
 #12  0x969b8e90 in HIView::ApplyBackColorForDepthAndDevice(short, unsigned char)
 #13  0x969b8168 in HIView::ApplyBackColor()
 #14  0x969af0f0 in HIView::DrawInternal(short, OpaqueGrafPtr*, OpaqueRgnHandle*, unsigned 
char, unsigned char, unsigned char, HIView*, CGContext*)
 #15  0x969b09bc in HIView::Draw(short, OpaqueGrafPtr*, OpaqueRgnHandle*, unsigned long, 
HIView*, CGContext*)
 #16  0x96a48490 in HIProgressBar::AnimationTimer(__EventLoopTimer*)
 #17  0x90163230 in __CFRunLoopDoTimer
 #18  0x90148d28 in __CFRunLoopRun
 #19  0x90180f58 in CFRunLoopRunSpecific
 #20  0x969a3b70 in RunCurrentEventLoopInMode
 #21  0x969b3b00 in ReceiveNextEventCommon
 #22  0x96a05090 in ReceiveNextEventInMode
 #23  0x0408ebc4 in Java_org_eclipse_swt_internal_carbon_OS_ReceiveNextEvent
 #24  0x02102668 in 0x2102668
 #25  0x021005cc in 0x21005cc
 #26  0x021005cc in 0x21005cc
 #27  0x0210068c in 0x210068c
 #28  0x0210068c in 0x210068c
 #29  0x0210086c in 0x210086c
 #30  0x021007ac in 0x21007ac
 #31  0x0210068c in 0x210068c
 #32  0x0210068c in 0x210068c
 #33  0x0210086c in 0x210086c
 #34  0x022c211c in 0x22c211c
 #35  0x0210068c in 0x210068c
 #36  0x02325dfc in 0x2325dfc
 #37  0x0234b4bc in 0x234b4bc
 #38  0x021005cc in 0x21005cc
 #39  0x0210068c in 0x210068c
 #40  0x021005cc in 0x21005cc
 #41  0x0210068c in 0x210068c
 #42  0x0210086c in 0x210086c
 #43  0x0210068c in 0x210068c
 #44  0x0210068c in 0x210068c
 #45  0x022c211c in 0x22c211c
 #46  0x0210068c in 0x210068c
 #47  0x02325dfc in 0x2325dfc
 #48  0x0234b4bc in 0x234b4bc
 #49  0x021005cc in 0x21005cc
 #50  0x0210068c in 0x210068c
 #51  0x021007ac in 0x21007ac
 #52  0x021005cc in 0x21005cc
 #53  0xa2843c38 in typeinfo name for std::bad_exception
 #54  0x92838bcc in JVM_CurrentTimeMillis
 #55  0x92872ec4 in JVM_GetCPClassNameUTF
 #56  0x92907420 in JVM_InvokeMethod
 #57  0x92906a80 in JVM_InvokeMethod
 #58  0x92906728 in JVM_InvokeMethod
 #59  0x02102668 in 0x2102668
 #60  0x021005cc in 0x21005cc
 #61  0x021005cc in 0x21005cc
 #62  0x021005cc in 0x21005cc
 #63  0xa2843c38 in typeinfo name for std::bad_exception
 #64  0x92838bcc in JVM_CurrentTimeMillis
 #65  0x92872ec4 in JVM_GetCPClassNameUTF
 #66  0x9287a3a8 in JVM_GetCPMethodModifiers
 #67  0x928d66b4 in JVM_RawMonitorCreate
 #68  0x00002aa4 in 0x2aa4
 #69  0x000021ac in 0x21ac
 #70  0x0000202c in 0x202c

Thread 1:
 #0   0x90073c28 in mach_msg_trap
 #1   0x90005f70 in mach_msg
 #2   0x928ec27c in JNI_CreateJavaVM_Impl
 #3   0x928ec214 in JNI_CreateJavaVM_Impl
 #4   0x928a51ec in JVM_GetClassMethodsCount
 #5   0x90020d28 in _pthread_body

Thread 2 Crashed:
 #0   0x92839278 in JVM_CurrentTimeMillis
 #1   0x92837cc8 in JVM_CurrentTimeMillis
 #2   0x92845598 in JVM_GetMethodIxExceptionTableLength
 #3   0x92839e9c in JVM_NewInstance
 #4   0x92873418 in JVM_GetCPClassNameUTF
 #5   0x9285c2d4 in JVM_GetCPMethodNameUTF
 #6   0x928917e4 in JVM_MonitorNotifyAll
 #7   0x92886e5c in JVM_SetThreadPriority
 #8   0x92864954 in JVM_Send
 #9   0x9290113c in JNI_CreateJavaVM_Impl
 #10  0x928a51ec in JVM_GetClassMethodsCount
 #11  0x90020d28 in _pthread_body

Thread 3:
 #0   0x90073c28 in mach_msg_trap
 #1   0x90005f70 in mach_msg
 #2   0x9283dde4 in JVM_NewInstance
 #3   0x92845d70 in JVM_ArrayCopy
 #4   0x9285d610 in JVM_MonitorNotify
 #5   0x9285e2e8 in JVM_MonitorWait
 #6   0x02102668 in 0x2102668
 #7   0x0210068c in 0x210068c
 #8   0x0210068c in 0x210068c
 #9   0xa2843c38 in typeinfo name for std::bad_exception
 #10  0x92838bcc in JVM_CurrentTimeMillis
 #11  0x92878c18 in JVM_FindClassFromClass
 #12  0x92892c80 in JVM_IsSameClassPackage
 #13  0x9288cf60 in JVM_GetMethodIxExceptionTableEntry
 #14  0x92878790 in JVM_FindClassFromClass
 #15  0x928a51ec in JVM_GetClassMethodsCount
 #16  0x90020d28 in _pthread_body

Thread 4:
 #0   0x90073c28 in mach_msg_trap
 #1   0x90005f70 in mach_msg
 #2   0x9283dde4 in JVM_NewInstance
 #3   0x92845d70 in JVM_ArrayCopy
 #4   0x9285d610 in JVM_MonitorNotify
 #5   0x9285e2e8 in JVM_MonitorWait
 #6   0x0234177c in 0x234177c
 #7   0x023df548 in 0x23df548
 #8   0x023df2c8 in 0x23df2c8
 #9   0x021005cc in 0x21005cc
 #10  0xa2843c38 in typeinfo name for std::bad_exception
 #11  0x92838bcc in JVM_CurrentTimeMillis
 #12  0x92878c18 in JVM_FindClassFromClass
 #13  0x92892c80 in JVM_IsSameClassPackage
 #14  0x9288cf60 in JVM_GetMethodIxExceptionTableEntry
 #15  0x92878790 in JVM_FindClassFromClass
 #16  0x928a51ec in JVM_GetClassMethodsCount
 #17  0x90020d28 in _pthread_body

Thread 5:
 #0   0x90073c28 in mach_msg_trap
 #1   0x90005f70 in mach_msg
 #2   0x9283de8c in JVM_NewInstance
 #3   0x92844e08 in JVM_GetClassLoader
 #4   0x92844b94 in JVM_GetClassLoader
 #5   0x928a51ec in JVM_GetClassMethodsCount
 #6   0x90020d28 in _pthread_body

Thread 6:
 #0   0x90073c28 in mach_msg_trap
 #1   0x90005f70 in mach_msg
 #2   0x9283dde4 in JVM_NewInstance
 #3   0x9285eb30 in JVM_FillInStackTrace
 #4   0x929032f0 in JVM_InitProperties
 #5   0x92903128 in JVM_InitProperties
 #6   0x92878790 in JVM_FindClassFromClass
 #7   0x928a51ec in JVM_GetClassMethodsCount
 #8   0x90020d28 in _pthread_body

Thread 7:
 #0   0x90073c28 in mach_msg_trap
 #1   0x90005f70 in mach_msg
 #2   0x9283dde4 in JVM_NewInstance
 #3   0x9285eb30 in JVM_FillInStackTrace
 #4   0x928888fc in JVM_StartThread
 #5   0x92876c00 in JVM_FindLoadedClass
 #6   0x92878790 in JVM_FindClassFromClass
 #7   0x928a51ec in JVM_GetClassMethodsCount
 #8   0x90020d28 in _pthread_body

Thread 8:
 #0   0x90073c28 in mach_msg_trap
 #1   0x90005f70 in mach_msg
 #2   0x9283dde4 in JVM_NewInstance
 #3   0x9284ee20 in JVM_GetCPMethodClassNameUTF
 #4   0x92861a84 in JVM_Send
 #5   0x9285eb04 in JVM_FillInStackTrace
 #6   0x92868458 in JVM_DoPrivileged
 #7   0x9288e0d0 in JVM_GetMethodIxExceptionTableEntry
 #8   0x92883e70 in JVM_DefineClass
 #9   0x929ba838 in eh_rest_world_r10
 #10  0x928499a8 in __moddi3
 #11  0x928af2bc in JVM_IsNaN
 #12  0x02200c90 in 0x2200c90
 #13  0x023522f8 in 0x23522f8
 #14  0x02359944 in 0x2359944
 #15  0x023606f8 in 0x23606f8
 #16  0x0235ec94 in 0x235ec94
 #17  0x0236cca0 in 0x236cca0
 #18  0x0236c794 in 0x236c794
 #19  0x0236bdd8 in 0x236bdd8
 #20  0x02388740 in 0x2388740
 #21  0x021007ac in 0x21007ac
 #22  0x0210086c in 0x210086c
 #23  0xa2843c38 in typeinfo name for std::bad_exception
 #24  0x92838bcc in JVM_CurrentTimeMillis
 #25  0x92878c18 in JVM_FindClassFromClass
 #26  0x92892c80 in JVM_IsSameClassPackage
 #27  0x9288cf60 in JVM_GetMethodIxExceptionTableEntry
 #28  0x92878790 in JVM_FindClassFromClass
 #29  0x928a51ec in JVM_GetClassMethodsCount
 #30  0x90020d28 in _pthread_body

Thread 9:
 #0   0x90073c28 in mach_msg_trap
 #1   0x90005f70 in mach_msg
 #2   0x9283de8c in JVM_NewInstance
 #3   0x92845d70 in JVM_ArrayCopy
 #4   0x9285d610 in JVM_MonitorNotify
 #5   0x9285e2e8 in JVM_MonitorWait
 #6   0x02102668 in 0x2102668
 #7   0x0210068c in 0x210068c
 #8   0x0210086c in 0x210086c
 #9   0xa2843c38 in typeinfo name for std::bad_exception
 #10  0x92838bcc in JVM_CurrentTimeMillis
 #11  0x92878c18 in JVM_FindClassFromClass
 #12  0x92892c80 in JVM_IsSameClassPackage
 #13  0x9288cf60 in JVM_GetMethodIxExceptionTableEntry
 #14  0x92878790 in JVM_FindClassFromClass
 #15  0x928a51ec in JVM_GetClassMethodsCount
 #16  0x90020d28 in _pthread_body

Thread 10:
 #0   0x90073c28 in mach_msg_trap
 #1   0x90005f70 in mach_msg
 #2   0x9283dde4 in JVM_NewInstance
 #3   0x9284ee20 in JVM_GetCPMethodClassNameUTF
 #4   0x92861a84 in JVM_Send
 #5   0x9289232c in JVM_IsSameClassPackage
 #6   0x02203060 in 0x2203060
 #7   0x0247afa8 in 0x247afa8
 #8   0x024748ec in 0x24748ec
 #9   0x0247fcfc in 0x247fcfc
 #10  0x025ac430 in 0x25ac430
 #11  0x021005cc in 0x21005cc
 #12  0x021005cc in 0x21005cc
 #13  0x0210068c in 0x210068c
 #14  0x0210068c in 0x210068c
 #15  0x0210068c in 0x210068c
 #16  0x0210068c in 0x210068c
 #17  0x0210068c in 0x210068c
 #18  0x0210068c in 0x210068c
 #19  0x021005cc in 0x21005cc
 #20  0x022eb49c in 0x22eb49c
 #21  0x022ec0a0 in 0x22ec0a0
 #22  0x0210068c in 0x210068c
 #23  0x0210068c in 0x210068c
 #24  0x0210068c in 0x210068c
 #25  0x0210068c in 0x210068c
 #26  0x022eb49c in 0x22eb49c
 #27  0x022ec0a0 in 0x22ec0a0
 #28  0x0210068c in 0x210068c
 #29  0x0210068c in 0x210068c
 #30  0x0210068c in 0x210068c
 #31  0x023186d4 in 0x23186d4
 #32  0x0240c86c in 0x240c86c
 #33  0x0210086c in 0x210086c
 #34  0x0210068c in 0x210068c
 #35  0x0210068c in 0x210068c
 #36  0x0210086c in 0x210086c
 #37  0xa2843c38 in typeinfo name for std::bad_exception
 #38  0x92838bcc in JVM_CurrentTimeMillis
 #39  0x92878c18 in JVM_FindClassFromClass
 #40  0x92892c80 in JVM_IsSameClassPackage
 #41  0x9288cf60 in JVM_GetMethodIxExceptionTableEntry
 #42  0x92878790 in JVM_FindClassFromClass
 #43  0x928a51ec in JVM_GetClassMethodsCount
 #44  0x90020d28 in _pthread_body

Thread 11:
 #0   0x90073c28 in mach_msg_trap
 #1   0x90005f70 in mach_msg
 #2   0x9283de8c in JVM_NewInstance
 #3   0x92845d70 in JVM_ArrayCopy
 #4   0x9285d610 in JVM_MonitorNotify
 #5   0x9285e2e8 in JVM_MonitorWait
 #6   0x02102668 in 0x2102668
 #7   0x0210068c in 0x210068c
 #8   0x02651a08 in 0x2651a08
 #9   0x021005cc in 0x21005cc
 #10  0xa2843c38 in typeinfo name for std::bad_exception
 #11  0x92838bcc in JVM_CurrentTimeMillis
 #12  0x92878c18 in JVM_FindClassFromClass
 #13  0x92892c80 in JVM_IsSameClassPackage
 #14  0x9288cf60 in JVM_GetMethodIxExceptionTableEntry
 #15  0x92878790 in JVM_FindClassFromClass
 #16  0x928a51ec in JVM_GetClassMethodsCount
 #17  0x90020d28 in _pthread_body

Thread 12:
 #0   0x90073c28 in mach_msg_trap
 #1   0x90005f70 in mach_msg
 #2   0x9283dde4 in JVM_NewInstance
 #3   0x92845d70 in JVM_ArrayCopy
 #4   0x9285d610 in JVM_MonitorNotify
 #5   0x9285e2e8 in JVM_MonitorWait
 #6   0x02102668 in 0x2102668
 #7   0x0210068c in 0x210068c
 #8   0x0210068c in 0x210068c
 #9   0x02319be0 in 0x2319be0
 #10  0x02316ab4 in 0x2316ab4
 #11  0x02316550 in 0x2316550
 #12  0x023161d0 in 0x23161d0
 #13  0x0210068c in 0x210068c
 #14  0x0210086c in 0x210086c
 #15  0x0210086c in 0x210086c
 #16  0xa2843c38 in typeinfo name for std::bad_exception
 #17  0x92838bcc in JVM_CurrentTimeMillis
 #18  0x92878c18 in JVM_FindClassFromClass
 #19  0x92892c80 in JVM_IsSameClassPackage
 #20  0x9288cf60 in JVM_GetMethodIxExceptionTableEntry
 #21  0x92878790 in JVM_FindClassFromClass
 #22  0x928a51ec in JVM_GetClassMethodsCount
 #23  0x90020d28 in _pthread_body

Thread 13:
 #0   0x90073c28 in mach_msg_trap
 #1   0x90005f70 in mach_msg
 #2   0x9283de8c in JVM_NewInstance
 #3   0x92845d70 in JVM_ArrayCopy
 #4   0x9285d610 in JVM_MonitorNotify
 #5   0x9285e2e8 in JVM_MonitorWait
 #6   0x02102668 in 0x2102668
 #7   0x0210068c in 0x210068c
 #8   0x02651a08 in 0x2651a08
 #9   0x021005cc in 0x21005cc
 #10  0xa2843c38 in typeinfo name for std::bad_exception
 #11  0x92838bcc in JVM_CurrentTimeMillis
 #12  0x92878c18 in JVM_FindClassFromClass
 #13  0x92892c80 in JVM_IsSameClassPackage
 #14  0x9288cf60 in JVM_GetMethodIxExceptionTableEntry
 #15  0x92878790 in JVM_FindClassFromClass
 #16  0x928a51ec in JVM_GetClassMethodsCount
 #17  0x90020d28 in _pthread_body

Thread 14:
 #0   0x90073c28 in mach_msg_trap
 #1   0x90005f70 in mach_msg
 #2   0x9283de8c in JVM_NewInstance
 #3   0x92845d70 in JVM_ArrayCopy
 #4   0x9285d610 in JVM_MonitorNotify
 #5   0x9285e2e8 in JVM_MonitorWait
 #6   0x02102668 in 0x2102668
 #7   0x0210068c in 0x210068c
 #8   0x02651a08 in 0x2651a08
 #9   0x021005cc in 0x21005cc
 #10  0xa2843c38 in typeinfo name for std::bad_exception
 #11  0x92838bcc in JVM_CurrentTimeMillis
 #12  0x92878c18 in JVM_FindClassFromClass
 #13  0x92892c80 in JVM_IsSameClassPackage
 #14  0x9288cf60 in JVM_GetMethodIxExceptionTableEntry
 #15  0x92878790 in JVM_FindClassFromClass
 #16  0x928a51ec in JVM_GetClassMethodsCount
 #17  0x90020d28 in _pthread_body

Thread 15:
 #0   0x90073c28 in mach_msg_trap
 #1   0x90005f70 in mach_msg
 #2   0x9283de8c in JVM_NewInstance
 #3   0x92845d70 in JVM_ArrayCopy
 #4   0x9285d610 in JVM_MonitorNotify
 #5   0x9285e2e8 in JVM_MonitorWait
 #6   0x02102668 in 0x2102668
 #7   0x0210068c in 0x210068c
 #8   0x0210086c in 0x210086c
 #9   0xa2843c38 in typeinfo name for std::bad_exception
 #10  0x92838bcc in JVM_CurrentTimeMillis
 #11  0x92878c18 in JVM_FindClassFromClass
 #12  0x92892c80 in JVM_IsSameClassPackage
 #13  0x9288cf60 in JVM_GetMethodIxExceptionTableEntry
 #14  0x92878790 in JVM_FindClassFromClass
 #15  0x928a51ec in JVM_GetClassMethodsCount
 #16  0x90020d28 in _pthread_body

Thread 16:
 #0   0x90073c28 in mach_msg_trap
 #1   0x90005f70 in mach_msg
 #2   0x9283de8c in JVM_NewInstance
 #3   0x92845d70 in JVM_ArrayCopy
 #4   0x9285d610 in JVM_MonitorNotify
 #5   0x9285e2e8 in JVM_MonitorWait
 #6   0x02102668 in 0x2102668
 #7   0x0210068c in 0x210068c
 #8   0x02651a08 in 0x2651a08
 #9   0x026a90bc in 0x26a90bc
 #10  0xa2843c38 in typeinfo name for std::bad_exception
 #11  0x92838bcc in JVM_CurrentTimeMillis
 #12  0x92878c18 in JVM_FindClassFromClass
 #13  0x92892c80 in JVM_IsSameClassPackage
 #14  0x9288cf60 in JVM_GetMethodIxExceptionTableEntry
 #15  0x92878790 in JVM_FindClassFromClass
 #16  0x928a51ec in JVM_GetClassMethodsCount
 #17  0x90020d28 in _pthread_body

PPC Thread State:
  srr0: 0x92839278 srr1: 0x0200f030                vrsave: 0x00000000
   xer: 0x20000000   lr: 0x92837cc8  ctr: 0x929c64f4   mq: 0x00000000
    r0: 0x00000004   r1: 0xf0101800   r2: 0x00000000   r3: 0xf01018a0
    r4: 0x00000048   r5: 0x00000010   r6: 0x92837cc8   r7: 0x92837ca0
    r8: 0x00000001   r9: 0x92920550  r10: 0x08074f2c  r11: 0x00000000
   r12: 0x929c64f4  r13: 0xa282bd0c  r14: 0xa282bd0c  r15: 0xf0101b90
   r16: 0xa28320f8  r17: 0x00000000  r18: 0x04332000  r19: 0xa282bd0c
   r20: 0xf0101b60  r21: 0x92920550  r22: 0x92920550  r23: 0x92836850
   r24: 0x00000048  r25: 0x92920fc0  r26: 0xf01018c0  r27: 0x00000010
   r28: 0x00000048  r29: 0xf01018a0  r30: 0xf01018a0  r31: 0x92837c68
Got another one while closing a perspective. I suspect this is related to the concurrency work that 
we have been doing since I had both the live sync and auto-refresh plug ins running and active. 
However, I should *not* be crashing (i.e. I could see getting invalid thread access).

Date/Time:  2003-07-09 16:15:37 -0400
OS Version: 10.2.6 (Build 6L60)
Host:       foo.ott.oti.com

Command:    java
PID:        2224

Exception:  EXC_BAD_ACCESS (0x0001)
Codes:      KERN_INVALID_ADDRESS (0x0001) at 0x0a1e1000

Thread 0:
 #0   0x90073c28 in mach_msg_trap
 #1   0x90005f70 in mach_msg
 #2   0x901489f0 in __CFRunLoopRun
 #3   0x90180f58 in CFRunLoopRunSpecific
 #4   0x969a3b70 in RunCurrentEventLoopInMode
 #5   0x969b3b00 in ReceiveNextEventCommon
 #6   0x96a05090 in ReceiveNextEventInMode
 #7   0x01f7cbc4 in Java_org_eclipse_swt_internal_carbon_OS_ReceiveNextEvent
 #8   0x02102668 in 0x2102668
 #9   0x021005cc in 0x21005cc
 #10  0x021005cc in 0x21005cc
 #11  0x0210068c in 0x210068c
 #12  0x021007ac in 0x21007ac
 #13  0x021005cc in 0x21005cc
 #14  0xa2843c38 in typeinfo name for std::bad_exception
 #15  0x92838bcc in JVM_CurrentTimeMillis
 #16  0x92872ec4 in JVM_GetCPClassNameUTF
 #17  0x92907420 in JVM_InvokeMethod
 #18  0x92906a80 in JVM_InvokeMethod
 #19  0x92906728 in JVM_InvokeMethod
 #20  0x02102668 in 0x2102668
 #21  0x021005cc in 0x21005cc
 #22  0x021005cc in 0x21005cc
 #23  0x021005cc in 0x21005cc
 #24  0xa2843c38 in typeinfo name for std::bad_exception
 #25  0x92838bcc in JVM_CurrentTimeMillis
 #26  0x92872ec4 in JVM_GetCPClassNameUTF
 #27  0x9287a3a8 in JVM_GetCPMethodModifiers
 #28  0x928d66b4 in JVM_RawMonitorCreate
 #29  0x00002aa4 in 0x2aa4
 #30  0x000021ac in 0x21ac
 #31  0x0000202c in 0x202c

Thread 1:
 #0   0x90073c28 in mach_msg_trap
 #1   0x90005f70 in mach_msg
 #2   0x928ec27c in JNI_CreateJavaVM_Impl
 #3   0x928ec214 in JNI_CreateJavaVM_Impl
 #4   0x928a51ec in JVM_GetClassMethodsCount
 #5   0x90020d28 in _pthread_body

Thread 2:
 #0   0x90073c28 in mach_msg_trap
 #1   0x90005f70 in mach_msg
 #2   0x9283de8c in JVM_NewInstance
 #3   0x9285ead4 in JVM_FillInStackTrace
 #4   0x92864790 in JVM_Send
 #5   0x9290113c in JNI_CreateJavaVM_Impl
 #6   0x928a51ec in JVM_GetClassMethodsCount
 #7   0x90020d28 in _pthread_body

Thread 3:
 #0   0x90073c28 in mach_msg_trap
 #1   0x90005f70 in mach_msg
 #2   0x9283dde4 in JVM_NewInstance
 #3   0x92845d70 in JVM_ArrayCopy
 #4   0x9285d610 in JVM_MonitorNotify
 #5   0x9285e2e8 in JVM_MonitorWait
 #6   0x0242173c in 0x242173c
 #7   0x024e5000 in 0x24e5000
 #8   0x0210068c in 0x210068c
 #9   0xa2843c38 in typeinfo name for std::bad_exception
 #10  0x92838bcc in JVM_CurrentTimeMillis
 #11  0x92878c18 in JVM_FindClassFromClass
 #12  0x92892c80 in JVM_IsSameClassPackage
 #13  0x9288cf60 in JVM_GetMethodIxExceptionTableEntry
 #14  0x92878790 in JVM_FindClassFromClass
 #15  0x928a51ec in JVM_GetClassMethodsCount
 #16  0x90020d28 in _pthread_body

Thread 4:
 #0   0x90073c28 in mach_msg_trap
 #1   0x90005f70 in mach_msg
 #2   0x9283dde4 in JVM_NewInstance
 #3   0x92845d70 in JVM_ArrayCopy
 #4   0x9285d610 in JVM_MonitorNotify
 #5   0x9285e2e8 in JVM_MonitorWait
 #6   0x0242173c in 0x242173c
 #7   0x02317188 in 0x2317188
 #8   0x02316f08 in 0x2316f08
 #9   0x021005cc in 0x21005cc
 #10  0xa2843c38 in typeinfo name for std::bad_exception
 #11  0x92838bcc in JVM_CurrentTimeMillis
 #12  0x92878c18 in JVM_FindClassFromClass
 #13  0x92892c80 in JVM_IsSameClassPackage
 #14  0x9288cf60 in JVM_GetMethodIxExceptionTableEntry
 #15  0x92878790 in JVM_FindClassFromClass
 #16  0x928a51ec in JVM_GetClassMethodsCount
 #17  0x90020d28 in _pthread_body

Thread 5:
 #0   0x90073c28 in mach_msg_trap
 #1   0x90005f70 in mach_msg
 #2   0x9283de8c in JVM_NewInstance
 #3   0x92844e08 in JVM_GetClassLoader
 #4   0x92844b94 in JVM_GetClassLoader
 #5   0x928a51ec in JVM_GetClassMethodsCount
 #6   0x90020d28 in _pthread_body

Thread 6:
 #0   0x90073c28 in mach_msg_trap
 #1   0x90005f70 in mach_msg
 #2   0x9283dde4 in JVM_NewInstance
 #3   0x9285eb30 in JVM_FillInStackTrace
 #4   0x929032f0 in JVM_InitProperties
 #5   0x92903128 in JVM_InitProperties
 #6   0x92878790 in JVM_FindClassFromClass
 #7   0x928a51ec in JVM_GetClassMethodsCount
 #8   0x90020d28 in _pthread_body

Thread 7:
 #0   0x90073c28 in mach_msg_trap
 #1   0x90005f70 in mach_msg
 #2   0x9283dde4 in JVM_NewInstance
 #3   0x9285eb30 in JVM_FillInStackTrace
 #4   0x928888fc in JVM_StartThread
 #5   0x92876c00 in JVM_FindLoadedClass
 #6   0x92878790 in JVM_FindClassFromClass
 #7   0x928a51ec in JVM_GetClassMethodsCount
 #8   0x90020d28 in _pthread_body

Thread 8:
 #0   0x90073c28 in mach_msg_trap
 #1   0x90005f70 in mach_msg
 #2   0x9283de8c in JVM_NewInstance
 #3   0x92845d70 in JVM_ArrayCopy
 #4   0x9285d610 in JVM_MonitorNotify
 #5   0x9285e2e8 in JVM_MonitorWait
 #6   0x02102668 in 0x2102668
 #7   0x0210068c in 0x210068c
 #8   0x02302a88 in 0x2302a88
 #9   0x021005cc in 0x21005cc
 #10  0xa2843c38 in typeinfo name for std::bad_exception
 #11  0x92838bcc in JVM_CurrentTimeMillis
 #12  0x92878c18 in JVM_FindClassFromClass
 #13  0x92892c80 in JVM_IsSameClassPackage
 #14  0x9288cf60 in JVM_GetMethodIxExceptionTableEntry
 #15  0x92878790 in JVM_FindClassFromClass
 #16  0x928a51ec in JVM_GetClassMethodsCount
 #17  0x90020d28 in _pthread_body

Thread 9:
 #0   0x90073c28 in mach_msg_trap
 #1   0x90005f70 in mach_msg
 #2   0x9283dde4 in JVM_NewInstance
 #3   0x92845d70 in JVM_ArrayCopy
 #4   0x9285d610 in JVM_MonitorNotify
 #5   0x9285e2e8 in JVM_MonitorWait
 #6   0x0242173c in 0x242173c
 #7   0x024e5000 in 0x24e5000
 #8   0x0210068c in 0x210068c
 #9   0x0210086c in 0x210086c
 #10  0xa2843c38 in typeinfo name for std::bad_exception
 #11  0x92838bcc in JVM_CurrentTimeMillis
 #12  0x92878c18 in JVM_FindClassFromClass
 #13  0x92892c80 in JVM_IsSameClassPackage
 #14  0x9288cf60 in JVM_GetMethodIxExceptionTableEntry
 #15  0x92878790 in JVM_FindClassFromClass
 #16  0x928a51ec in JVM_GetClassMethodsCount
 #17  0x90020d28 in _pthread_body

Thread 10:
 #0   0x90073c28 in mach_msg_trap
 #1   0x90005f70 in mach_msg
 #2   0x9283de8c in JVM_NewInstance
 #3   0x92845d70 in JVM_ArrayCopy
 #4   0x9285d610 in JVM_MonitorNotify
 #5   0x9285e2e8 in JVM_MonitorWait
 #6   0x02102668 in 0x2102668
 #7   0x0210068c in 0x210068c
 #8   0x0210086c in 0x210086c
 #9   0xa2843c38 in typeinfo name for std::bad_exception
 #10  0x92838bcc in JVM_CurrentTimeMillis
 #11  0x92878c18 in JVM_FindClassFromClass
 #12  0x92892c80 in JVM_IsSameClassPackage
 #13  0x9288cf60 in JVM_GetMethodIxExceptionTableEntry
 #14  0x92878790 in JVM_FindClassFromClass
 #15  0x928a51ec in JVM_GetClassMethodsCount
 #16  0x90020d28 in _pthread_body

Thread 11 Crashed:
 #0   0x900740cc in memmove
 #1   0x9005491c in readdir_r
 #2   0x93dc283c in Java_java_io_UnixFileSystem_list
 #3   0x02295480 in 0x2295480
 #4   0x02295714 in 0x2295714
 #5   0x022959f0 in 0x22959f0
 #6   0x0228be7c in 0x228be7c
 #7   0x02291ab4 in 0x2291ab4
 #8   0x0228e530 in 0x228e530
 #9   0x02553db8 in 0x2553db8
 #10  0x02553900 in 0x2553900
 #11  0x025548b0 in 0x25548b0
 #12  0x025394d8 in 0x25394d8
 #13  0x0210068c in 0x210068c
 #14  0x0210068c in 0x210068c
 #15  0x0210068c in 0x210068c
 #16  0x0251f78c in 0x251f78c
 #17  0x0210086c in 0x210086c
 #18  0x0210068c in 0x210068c
 #19  0x0210068c in 0x210068c
 #20  0x0210086c in 0x210086c
 #21  0xa2843c38 in typeinfo name for std::bad_exception
 #22  0x92838bcc in JVM_CurrentTimeMillis
 #23  0x92878c18 in JVM_FindClassFromClass
 #24  0x92892c80 in JVM_IsSameClassPackage
 #25  0x9288cf60 in JVM_GetMethodIxExceptionTableEntry
 #26  0x92878790 in JVM_FindClassFromClass
 #27  0x928a51ec in JVM_GetClassMethodsCount
 #28  0x90020d28 in _pthread_body

Thread 12:
 #0   0x90073c28 in mach_msg_trap
 #1   0x90005f70 in mach_msg
 #2   0x9283de8c in JVM_NewInstance
 #3   0x92845d70 in JVM_ArrayCopy
 #4   0x9285d610 in JVM_MonitorNotify
 #5   0x9285e2e8 in JVM_MonitorWait
 #6   0x02102668 in 0x2102668
 #7   0x0210068c in 0x210068c
 #8   0x02302a88 in 0x2302a88
 #9   0x021005cc in 0x21005cc
 #10  0xa2843c38 in typeinfo name for std::bad_exception
 #11  0x92838bcc in JVM_CurrentTimeMillis
 #12  0x92878c18 in JVM_FindClassFromClass
 #13  0x92892c80 in JVM_IsSameClassPackage
 #14  0x9288cf60 in JVM_GetMethodIxExceptionTableEntry
 #15  0x92878790 in JVM_FindClassFromClass
 #16  0x928a51ec in JVM_GetClassMethodsCount
 #17  0x90020d28 in _pthread_body

PPC Thread State:
  srr0: 0x900740cc srr1: 0x0200f030                vrsave: 0x00000000
   xer: 0x00000000   lr: 0x9005491c  ctr: 0x00000000   mq: 0x00000000
    r0: 0x00000003   r1: 0xf0b96030   r2: 0x00000000   r3: 0xf0b960d0
    r4: 0x0a1e1000   r5: 0x000000f8   r6: 0x00000010   r7: 0x00000020
    r8: 0x00000030   r9: 0x70656374  r10: 0x00000060  r11: 0x00000080
   r12: 0xf0b961d0  r13: 0x0781ff60  r14: 0x62c84730  r15: 0x48ab4638
   r16: 0xf0b96280  r17: 0x0008a89c  r18: 0xf0b96258  r19: 0xf0b962b8
   r20: 0x6c1a29b0  r21: 0x6c1a2282  r22: 0x00000064  r23: 0x021014a0
   r24: 0x00000080  r25: 0x0a1dede0  r26: 0x0000007d  r27: 0xf0b961e0
   r28: 0xf0b960d0  r29: 0x0a1dede0  r30: 0xa00005f4  r31: 0x900548a0


And another one...


Date/Time:  2003-07-09 19:48:20 -0400
OS Version: 10.2.6 (Build 6L60)
Host:       McQPB17.local.

Command:    java
PID:        2447

Exception:  EXC_BAD_ACCESS (0x0001)
Codes:      KERN_INVALID_ADDRESS (0x0001) at 0x077d500c

Thread 0:
 #0   0x90073c28 in mach_msg_trap
 #1   0x90005f70 in mach_msg
 #2   0x901489f0 in __CFRunLoopRun
 #3   0x90180f58 in CFRunLoopRunSpecific
 #4   0x969a3b70 in RunCurrentEventLoopInMode
 #5   0x969b3b00 in ReceiveNextEventCommon
 #6   0x96a05090 in ReceiveNextEventInMode
 #7   0x01c76bc4 in Java_org_eclipse_swt_internal_carbon_OS_ReceiveNextEvent
 #8   0x02102668 in 0x2102668
 #9   0x021005cc in 0x21005cc
 #10  0x021005cc in 0x21005cc
 #11  0x0210068c in 0x210068c
 #12  0x021007ac in 0x21007ac
 #13  0x021005cc in 0x21005cc
 #14  0xa2843c38 in typeinfo name for std::bad_exception
 #15  0x92838bcc in JVM_CurrentTimeMillis
 #16  0x92872ec4 in JVM_GetCPClassNameUTF
 #17  0x92907420 in JVM_InvokeMethod
 #18  0x92906a80 in JVM_InvokeMethod
 #19  0x92906728 in JVM_InvokeMethod
 #20  0x02102668 in 0x2102668
 #21  0x021005cc in 0x21005cc
 #22  0x021005cc in 0x21005cc
 #23  0x021005cc in 0x21005cc
 #24  0xa2843c38 in typeinfo name for std::bad_exception
 #25  0x92838bcc in JVM_CurrentTimeMillis
 #26  0x92872ec4 in JVM_GetCPClassNameUTF
 #27  0x9287a3a8 in JVM_GetCPMethodModifiers
 #28  0x928d66b4 in JVM_RawMonitorCreate
 #29  0x00002aa4 in 0x2aa4
 #30  0x000021ac in 0x21ac
 #31  0x0000202c in 0x202c

Thread 1:
 #0   0x90073c28 in mach_msg_trap
 #1   0x90005f70 in mach_msg
 #2   0x928ec27c in JNI_CreateJavaVM_Impl
 #3   0x928ec214 in JNI_CreateJavaVM_Impl
 #4   0x928a51ec in JVM_GetClassMethodsCount
 #5   0x90020d28 in _pthread_body

Thread 2:
 #0   0x90073c28 in mach_msg_trap
 #1   0x90005f70 in mach_msg
 #2   0x9283de8c in JVM_NewInstance
 #3   0x9285ead4 in JVM_FillInStackTrace
 #4   0x92864790 in JVM_Send
 #5   0x9290113c in JNI_CreateJavaVM_Impl
 #6   0x928a51ec in JVM_GetClassMethodsCount
 #7   0x90020d28 in _pthread_body

Thread 3:
 #0   0x90073c28 in mach_msg_trap
 #1   0x90005f70 in mach_msg
 #2   0x9283dde4 in JVM_NewInstance
 #3   0x92845d70 in JVM_ArrayCopy
 #4   0x9285d610 in JVM_MonitorNotify
 #5   0x9285e2e8 in JVM_MonitorWait
 #6   0x0237a4bc in 0x237a4bc
 #7   0x023b0c40 in 0x23b0c40
 #8   0x0210068c in 0x210068c
 #9   0xa2843c38 in typeinfo name for std::bad_exception
 #10  0x92838bcc in JVM_CurrentTimeMillis
 #11  0x92878c18 in JVM_FindClassFromClass
 #12  0x92892c80 in JVM_IsSameClassPackage
 #13  0x9288cf60 in JVM_GetMethodIxExceptionTableEntry
 #14  0x92878790 in JVM_FindClassFromClass
 #15  0x928a51ec in JVM_GetClassMethodsCount
 #16  0x90020d28 in _pthread_body

Thread 4:
 #0   0x90073c28 in mach_msg_trap
 #1   0x90005f70 in mach_msg
 #2   0x9283dde4 in JVM_NewInstance
 #3   0x92845d70 in JVM_ArrayCopy
 #4   0x9285d610 in JVM_MonitorNotify
 #5   0x9285e2e8 in JVM_MonitorWait
 #6   0x0237a4bc in 0x237a4bc
 #7   0x02338888 in 0x2338888
 #8   0x02338608 in 0x2338608
 #9   0x021005cc in 0x21005cc
 #10  0xa2843c38 in typeinfo name for std::bad_exception
 #11  0x92838bcc in JVM_CurrentTimeMillis
 #12  0x92878c18 in JVM_FindClassFromClass
 #13  0x92892c80 in JVM_IsSameClassPackage
 #14  0x9288cf60 in JVM_GetMethodIxExceptionTableEntry
 #15  0x92878790 in JVM_FindClassFromClass
 #16  0x928a51ec in JVM_GetClassMethodsCount
 #17  0x90020d28 in _pthread_body

Thread 5:
 #0   0x90073c28 in mach_msg_trap
 #1   0x90005f70 in mach_msg
 #2   0x9283de8c in JVM_NewInstance
 #3   0x92844e08 in JVM_GetClassLoader
 #4   0x92844b94 in JVM_GetClassLoader
 #5   0x928a51ec in JVM_GetClassMethodsCount
 #6   0x90020d28 in _pthread_body

Thread 6:
 #0   0x90073c28 in mach_msg_trap
 #1   0x90005f70 in mach_msg
 #2   0x9283dde4 in JVM_NewInstance
 #3   0x9285eb30 in JVM_FillInStackTrace
 #4   0x929032f0 in JVM_InitProperties
 #5   0x92903128 in JVM_InitProperties
 #6   0x92878790 in JVM_FindClassFromClass
 #7   0x928a51ec in JVM_GetClassMethodsCount
 #8   0x90020d28 in _pthread_body

Thread 7:
 #0   0x90073c28 in mach_msg_trap
 #1   0x90005f70 in mach_msg
 #2   0x9283dde4 in JVM_NewInstance
 #3   0x9285eb30 in JVM_FillInStackTrace
 #4   0x928888fc in JVM_StartThread
 #5   0x92876c00 in JVM_FindLoadedClass
 #6   0x92878790 in JVM_FindClassFromClass
 #7   0x928a51ec in JVM_GetClassMethodsCount
 #8   0x90020d28 in _pthread_body

Thread 8:
 #0   0x90073c28 in mach_msg_trap
 #1   0x90005f70 in mach_msg
 #2   0x9283de8c in JVM_NewInstance
 #3   0x92845d70 in JVM_ArrayCopy
 #4   0x9285d610 in JVM_MonitorNotify
 #5   0x9285e2e8 in JVM_MonitorWait
 #6   0x02102668 in 0x2102668
 #7   0x0210068c in 0x210068c
 #8   0x022e2148 in 0x22e2148
 #9   0x021005cc in 0x21005cc
 #10  0xa2843c38 in typeinfo name for std::bad_exception
 #11  0x92838bcc in JVM_CurrentTimeMillis
 #12  0x92878c18 in JVM_FindClassFromClass
 #13  0x92892c80 in JVM_IsSameClassPackage
 #14  0x9288cf60 in JVM_GetMethodIxExceptionTableEntry
 #15  0x92878790 in JVM_FindClassFromClass
 #16  0x928a51ec in JVM_GetClassMethodsCount
 #17  0x90020d28 in _pthread_body

Thread 9:
 #0   0x90073c28 in mach_msg_trap
 #1   0x90005f70 in mach_msg
 #2   0x9283dde4 in JVM_NewInstance
 #3   0x92845d70 in JVM_ArrayCopy
 #4   0x9285d610 in JVM_MonitorNotify
 #5   0x9285e2e8 in JVM_MonitorWait
 #6   0x02102668 in 0x2102668
 #7   0x0210068c in 0x210068c
 #8   0x0210068c in 0x210068c
 #9   0x0210086c in 0x210086c
 #10  0xa2843c38 in typeinfo name for std::bad_exception
 #11  0x92838bcc in JVM_CurrentTimeMillis
 #12  0x92878c18 in JVM_FindClassFromClass
 #13  0x92892c80 in JVM_IsSameClassPackage
 #14  0x9288cf60 in JVM_GetMethodIxExceptionTableEntry
 #15  0x92878790 in JVM_FindClassFromClass
 #16  0x928a51ec in JVM_GetClassMethodsCount
 #17  0x90020d28 in _pthread_body

Thread 10 Crashed:
 #0   0x90074594 in memmove
 #1   0x9005491c in readdir_r
 #2   0x93dc283c in Java_java_io_UnixFileSystem_list
 #3   0x023af800 in 0x23af800
 #4   0x023c6154 in 0x23c6154
 #5   0x0238da58 in 0x238da58
 #6   0x0238fa64 in 0x238fa64
 #7   0x023876d0 in 0x23876d0
 #8   0x0238dacc in 0x238dacc
 #9   0x0238fa64 in 0x238fa64
 #10  0x023876d0 in 0x23876d0
 #11  0x0238dacc in 0x238dacc
 #12  0x0238fa64 in 0x238fa64
 #13  0x023876d0 in 0x23876d0
 #14  0x0238dacc in 0x238dacc
 #15  0x0238fa64 in 0x238fa64
 #16  0x023876d0 in 0x23876d0
 #17  0x0238dacc in 0x238dacc
 #18  0x0238fa64 in 0x238fa64
 #19  0x023876d0 in 0x23876d0
 #20  0x0238dacc in 0x238dacc
 #21  0x0238fa64 in 0x238fa64
 #22  0x02454050 in 0x2454050
 #23  0x024534ec in 0x24534ec
 #24  0x0210068c in 0x210068c
 #25  0x0210086c in 0x210086c
 #26  0xa2843c38 in typeinfo name for std::bad_exception
 #27  0x92838bcc in JVM_CurrentTimeMillis
 #28  0x92878c18 in JVM_FindClassFromClass
 #29  0x92892c80 in JVM_IsSameClassPackage
 #30  0x9288cf60 in JVM_GetMethodIxExceptionTableEntry
 #31  0x92878790 in JVM_FindClassFromClass
 #32  0x928a51ec in JVM_GetClassMethodsCount
 #33  0x90020d28 in _pthread_body

Thread 11:
 #0   0x90073c28 in mach_msg_trap
 #1   0x90005f70 in mach_msg
 #2   0x9283de8c in JVM_NewInstance
 #3   0x92845d70 in JVM_ArrayCopy
 #4   0x9285d610 in JVM_MonitorNotify
 #5   0x9285e2e8 in JVM_MonitorWait
 #6   0x02102668 in 0x2102668
 #7   0x0210068c in 0x210068c
 #8   0x0210086c in 0x210086c
 #9   0xa2843c38 in typeinfo name for std::bad_exception
 #10  0x92838bcc in JVM_CurrentTimeMillis
 #11  0x92878c18 in JVM_FindClassFromClass
 #12  0x92892c80 in JVM_IsSameClassPackage
 #13  0x9288cf60 in JVM_GetMethodIxExceptionTableEntry
 #14  0x92878790 in JVM_FindClassFromClass
 #15  0x928a51ec in JVM_GetClassMethodsCount
 #16  0x90020d28 in _pthread_body

PPC Thread State:
  srr0: 0x90074594 srr1: 0x0200f030                vrsave: 0xff000000
   xer: 0x00000000   lr: 0x9005491c  ctr: 0x00000001   mq: 0x00000000
    r0: 0x00000003   r1: 0xf0a93cd0   r2: 0x00000000   r3: 0xf0a93d70
    r4: 0x077d4ffc   r5: 0x000000f8   r6: 0x00000010   r7: 0x00000020
    r8: 0x00000030   r9: 0x644f6e6c  r10: 0x00000060  r11: 0x00000080
   r12: 0xf0a93e60  r13: 0x05fd9010  r14: 0x62c84738  r15: 0x494c7008
   r16: 0xf0a93f20  r17: 0x00000070  r18: 0xf0a948e8  r19: 0xf0a93f58
   r20: 0x6c0b6148  r21: 0x6c0b5a94  r22: 0x00000064  r23: 0x021014a0
   r24: 0x00000080  r25: 0x077d3f70  r26: 0x0000005e  r27: 0xf0a93e80
   r28: 0xf0a93d70  r29: 0x077d3f70  r30: 0xa000064c  r31: 0x900548a0
The following bit appears in two of the traces:

 #0   0x90074594 in memmove
 #1   0x9005491c in readdir_r
 #2   0x93dc283c in Java_java_io_UnixFileSystem_list


Looks like there may be a bug with Java File.  Now that we have support for 
JDK 1.4.1, could you try using 1.4.1 and see if the problem still exits?
I'll try it.

Note that, if this only happens when we are running with lots of threads, it seems like the problem 
is with concurrent access to files. If this turns out to really be the case, then we would have serious 
problems making this stuff work on the mac. Something for J-M and John to think about.
I have no idea how to read these stack traces - is it byte codes?.  Is there any
way to get a standard looking Java stack trace?  I thought mac was supposed to
be more user friendly ;)
They are in the standard "core dump" format for the Mac. That is, they're the same format you 
would see from a C code crash.

Silenio to investigate, redelegate if appropriate.

Has anyone seen this after we started using JDK 1.4?
I have not seen these recently.
Closing.</WithStack>
    <WithOutStack>Build 20030709
MAC VM 1.3.1

During a PDE import we got a core dump which ended  my Eclipse session.

I am not sure of the steps but this is what we did

1) Import the platform-ui module
2) Import all required plugins as binary

Core:
**********

Date/Time:  2003-07-09 15:47:41 -0400
OS Version: 10.2.6 (Build 6L60)
Host:       foo.ott.oti.com

Command:    java
PID:        2205

Exception:  EXC_BAD_ACCESS (0x0001)
Codes:      KERN_PROTECTION_FAILURE (0x0002) at 0x00000058

Thread 0:
 #0   0x90073c28 in mach_msg_trap
 #1   0x90005f70 in mach_msg
 #2   0x9283dde4 in JVM_NewInstance
 #3   0x9284ee20 in JVM_GetCPMethodClassNameUTF
 #4   0x92861b1c in JVM_Send
 #5   0x9288f76c in JVM_MonitorNotifyAll
 #6   0x040cea20 in callback
 #7   0x040a93a4 in fn4_3
 #8   0x969a2c54 in DispatchEventToHandlers
 #9   0x969a2fbc in SendEventToEventTargetInternal
 #10  0x969a63d0 in SendEventToEventTargetWithOptions
 #11  0x969b5308 in SendControlDefApplyBackground(HIView*, OpaqueControlRef*, 
OpaqueGrafPtr*, short, unsigned char)
 #12  0x969b8e90 in HIView::ApplyBackColorForDepthAndDevice(short, unsigned char)
 #13  0x969b8168 in HIView::ApplyBackColor()
 #14  0x969af0f0 in HIView::DrawInternal(short, OpaqueGrafPtr*, OpaqueRgnHandle*, unsigned 
char, unsigned char, unsigned char, HIView*, CGContext*)
 #15  0x969b09bc in HIView::Draw(short, OpaqueGrafPtr*, OpaqueRgnHandle*, unsigned long, 
HIView*, CGContext*)
 #16  0x96a48490 in HIProgressBar::AnimationTimer(__EventLoopTimer*)
 #17  0x90163230 in __CFRunLoopDoTimer
 #18  0x90148d28 in __CFRunLoopRun
 #19  0x90180f58 in CFRunLoopRunSpecific
 #20  0x969a3b70 in RunCurrentEventLoopInMode
 #21  0x969b3b00 in ReceiveNextEventCommon
 #22  0x96a05090 in ReceiveNextEventInMode
 #23  0x0408ebc4 in Java_org_eclipse_swt_internal_carbon_OS_ReceiveNextEvent
 #24  0x02102668 in 0x2102668
 #25  0x021005cc in 0x21005cc
 #26  0x021005cc in 0x21005cc
 #27  0x0210068c in 0x210068c
 #28  0x0210068c in 0x210068c
 #29  0x0210086c in 0x210086c
 #30  0x021007ac in 0x21007ac
 #31  0x0210068c in 0x210068c
 #32  0x0210068c in 0x210068c
 #33  0x0210086c in 0x210086c
 #34  0x022c211c in 0x22c211c
 #35  0x0210068c in 0x210068c
 #36  0x02325dfc in 0x2325dfc
 #37  0x0234b4bc in 0x234b4bc
 #38  0x021005cc in 0x21005cc
 #39  0x0210068c in 0x210068c
 #40  0x021005cc in 0x21005cc
 #41  0x0210068c in 0x210068c
 #42  0x0210086c in 0x210086c
 #43  0x0210068c in 0x210068c
 #44  0x0210068c in 0x210068c
 #45  0x022c211c in 0x22c211c
 #46  0x0210068c in 0x210068c
 #47  0x02325dfc in 0x2325dfc
 #48  0x0234b4bc in 0x234b4bc
 #49  0x021005cc in 0x21005cc
 #50  0x0210068c in 0x210068c
 #51  0x021007ac in 0x21007ac
 #52  0x021005cc in 0x21005cc
 #53  0xa2843c38 in typeinfo name for std::bad_exception
 #54  0x92838bcc in JVM_CurrentTimeMillis
 #55  0x92872ec4 in JVM_GetCPClassNameUTF
 #56  0x92907420 in JVM_InvokeMethod
 #57  0x92906a80 in JVM_InvokeMethod
 #58  0x92906728 in JVM_InvokeMethod
 #59  0x02102668 in 0x2102668
 #60  0x021005cc in 0x21005cc
 #61  0x021005cc in 0x21005cc
 #62  0x021005cc in 0x21005cc
 #63  0xa2843c38 in typeinfo name for std::bad_exception
 #64  0x92838bcc in JVM_CurrentTimeMillis
 #65  0x92872ec4 in JVM_GetCPClassNameUTF
 #66  0x9287a3a8 in JVM_GetCPMethodModifiers
 #67  0x928d66b4 in JVM_RawMonitorCreate
 #68  0x00002aa4 in 0x2aa4
 #69  0x000021ac in 0x21ac
 #70  0x0000202c in 0x202c

Thread 1:
 #0   0x90073c28 in mach_msg_trap
 #1   0x90005f70 in mach_msg
 #2   0x928ec27c in JNI_CreateJavaVM_Impl
 #3   0x928ec214 in JNI_CreateJavaVM_Impl
 #4   0x928a51ec in JVM_GetClassMethodsCount
 #5   0x90020d28 in _pthread_body

Thread 2 Crashed:
 #0   0x92839278 in JVM_CurrentTimeMillis
 #1   0x92837cc8 in JVM_CurrentTimeMillis
 #2   0x92845598 in JVM_GetMethodIxExceptionTableLength
 #3   0x92839e9c in JVM_NewInstance
 #4   0x92873418 in JVM_GetCPClassNameUTF
 #5   0x9285c2d4 in JVM_GetCPMethodNameUTF
 #6   0x928917e4 in JVM_MonitorNotifyAll
 #7   0x92886e5c in JVM_SetThreadPriority
 #8   0x92864954 in JVM_Send
 #9   0x9290113c in JNI_CreateJavaVM_Impl
 #10  0x928a51ec in JVM_GetClassMethodsCount
 #11  0x90020d28 in _pthread_body

Thread 3:
 #0   0x90073c28 in mach_msg_trap
 #1   0x90005f70 in mach_msg
 #2   0x9283dde4 in JVM_NewInstance
 #3   0x92845d70 in JVM_ArrayCopy
 #4   0x9285d610 in JVM_MonitorNotify
 #5   0x9285e2e8 in JVM_MonitorWait
 #6   0x02102668 in 0x2102668
 #7   0x0210068c in 0x210068c
 #8   0x0210068c in 0x210068c
 #9   0xa2843c38 in typeinfo name for std::bad_exception
 #10  0x92838bcc in JVM_CurrentTimeMillis
 #11  0x92878c18 in JVM_FindClassFromClass
 #12  0x92892c80 in JVM_IsSameClassPackage
 #13  0x9288cf60 in JVM_GetMethodIxExceptionTableEntry
 #14  0x92878790 in JVM_FindClassFromClass
 #15  0x928a51ec in JVM_GetClassMethodsCount
 #16  0x90020d28 in _pthread_body

Thread 4:
 #0   0x90073c28 in mach_msg_trap
 #1   0x90005f70 in mach_msg
 #2   0x9283dde4 in JVM_NewInstance
 #3   0x92845d70 in JVM_ArrayCopy
 #4   0x9285d610 in JVM_MonitorNotify
 #5   0x9285e2e8 in JVM_MonitorWait
 #6   0x0234177c in 0x234177c
 #7   0x023df548 in 0x23df548
 #8   0x023df2c8 in 0x23df2c8
 #9   0x021005cc in 0x21005cc
 #10  0xa2843c38 in typeinfo name for std::bad_exception
 #11  0x92838bcc in JVM_CurrentTimeMillis
 #12  0x92878c18 in JVM_FindClassFromClass
 #13  0x92892c80 in JVM_IsSameClassPackage
 #14  0x9288cf60 in JVM_GetMethodIxExceptionTableEntry
 #15  0x92878790 in JVM_FindClassFromClass
 #16  0x928a51ec in JVM_GetClassMethodsCount
 #17  0x90020d28 in _pthread_body

Thread 5:
 #0   0x90073c28 in mach_msg_trap
 #1   0x90005f70 in mach_msg
 #2   0x9283de8c in JVM_NewInstance
 #3   0x92844e08 in JVM_GetClassLoader
 #4   0x92844b94 in JVM_GetClassLoader
 #5   0x928a51ec in JVM_GetClassMethodsCount
 #6   0x90020d28 in _pthread_body

Thread 6:
 #0   0x90073c28 in mach_msg_trap
 #1   0x90005f70 in mach_msg
 #2   0x9283dde4 in JVM_NewInstance
 #3   0x9285eb30 in JVM_FillInStackTrace
 #4   0x929032f0 in JVM_InitProperties
 #5   0x92903128 in JVM_InitProperties
 #6   0x92878790 in JVM_FindClassFromClass
 #7   0x928a51ec in JVM_GetClassMethodsCount
 #8   0x90020d28 in _pthread_body

Thread 7:
 #0   0x90073c28 in mach_msg_trap
 #1   0x90005f70 in mach_msg
 #2   0x9283dde4 in JVM_NewInstance
 #3   0x9285eb30 in JVM_FillInStackTrace
 #4   0x928888fc in JVM_StartThread
 #5   0x92876c00 in JVM_FindLoadedClass
 #6   0x92878790 in JVM_FindClassFromClass
 #7   0x928a51ec in JVM_GetClassMethodsCount
 #8   0x90020d28 in _pthread_body

Thread 8:
 #0   0x90073c28 in mach_msg_trap
 #1   0x90005f70 in mach_msg
 #2   0x9283dde4 in JVM_NewInstance
 #3   0x9284ee20 in JVM_GetCPMethodClassNameUTF
 #4   0x92861a84 in JVM_Send
 #5   0x9285eb04 in JVM_FillInStackTrace
 #6   0x92868458 in JVM_DoPrivileged
 #7   0x9288e0d0 in JVM_GetMethodIxExceptionTableEntry
 #8   0x92883e70 in JVM_DefineClass
 #9   0x929ba838 in eh_rest_world_r10
 #10  0x928499a8 in __moddi3
 #11  0x928af2bc in JVM_IsNaN
 #12  0x02200c90 in 0x2200c90
 #13  0x023522f8 in 0x23522f8
 #14  0x02359944 in 0x2359944
 #15  0x023606f8 in 0x23606f8
 #16  0x0235ec94 in 0x235ec94
 #17  0x0236cca0 in 0x236cca0
 #18  0x0236c794 in 0x236c794
 #19  0x0236bdd8 in 0x236bdd8
 #20  0x02388740 in 0x2388740
 #21  0x021007ac in 0x21007ac
 #22  0x0210086c in 0x210086c
 #23  0xa2843c38 in typeinfo name for std::bad_exception
 #24  0x92838bcc in JVM_CurrentTimeMillis
 #25  0x92878c18 in JVM_FindClassFromClass
 #26  0x92892c80 in JVM_IsSameClassPackage
 #27  0x9288cf60 in JVM_GetMethodIxExceptionTableEntry
 #28  0x92878790 in JVM_FindClassFromClass
 #29  0x928a51ec in JVM_GetClassMethodsCount
 #30  0x90020d28 in _pthread_body

Thread 9:
 #0   0x90073c28 in mach_msg_trap
 #1   0x90005f70 in mach_msg
 #2   0x9283de8c in JVM_NewInstance
 #3   0x92845d70 in JVM_ArrayCopy
 #4   0x9285d610 in JVM_MonitorNotify
 #5   0x9285e2e8 in JVM_MonitorWait
 #6   0x02102668 in 0x2102668
 #7   0x0210068c in 0x210068c
 #8   0x0210086c in 0x210086c
 #9   0xa2843c38 in typeinfo name for std::bad_exception
 #10  0x92838bcc in JVM_CurrentTimeMillis
 #11  0x92878c18 in JVM_FindClassFromClass
 #12  0x92892c80 in JVM_IsSameClassPackage
 #13  0x9288cf60 in JVM_GetMethodIxExceptionTableEntry
 #14  0x92878790 in JVM_FindClassFromClass
 #15  0x928a51ec in JVM_GetClassMethodsCount
 #16  0x90020d28 in _pthread_body

Thread 10:
 #0   0x90073c28 in mach_msg_trap
 #1   0x90005f70 in mach_msg
 #2   0x9283dde4 in JVM_NewInstance
 #3   0x9284ee20 in JVM_GetCPMethodClassNameUTF
 #4   0x92861a84 in JVM_Send
 #5   0x9289232c in JVM_IsSameClassPackage
 #6   0x02203060 in 0x2203060
 #7   0x0247afa8 in 0x247afa8
 #8   0x024748ec in 0x24748ec
 #9   0x0247fcfc in 0x247fcfc
 #10  0x025ac430 in 0x25ac430
 #11  0x021005cc in 0x21005cc
 #12  0x021005cc in 0x21005cc
 #13  0x0210068c in 0x210068c
 #14  0x0210068c in 0x210068c
 #15  0x0210068c in 0x210068c
 #16  0x0210068c in 0x210068c
 #17  0x0210068c in 0x210068c
 #18  0x0210068c in 0x210068c
 #19  0x021005cc in 0x21005cc
 #20  0x022eb49c in 0x22eb49c
 #21  0x022ec0a0 in 0x22ec0a0
 #22  0x0210068c in 0x210068c
 #23  0x0210068c in 0x210068c
 #24  0x0210068c in 0x210068c
 #25  0x0210068c in 0x210068c
 #26  0x022eb49c in 0x22eb49c
 #27  0x022ec0a0 in 0x22ec0a0
 #28  0x0210068c in 0x210068c
 #29  0x0210068c in 0x210068c
 #30  0x0210068c in 0x210068c
 #31  0x023186d4 in 0x23186d4
 #32  0x0240c86c in 0x240c86c
 #33  0x0210086c in 0x210086c
 #34  0x0210068c in 0x210068c
 #35  0x0210068c in 0x210068c
 #36  0x0210086c in 0x210086c
 #37  0xa2843c38 in typeinfo name for std::bad_exception
 #38  0x92838bcc in JVM_CurrentTimeMillis
 #39  0x92878c18 in JVM_FindClassFromClass
 #40  0x92892c80 in JVM_IsSameClassPackage
 #41  0x9288cf60 in JVM_GetMethodIxExceptionTableEntry
 #42  0x92878790 in JVM_FindClassFromClass
 #43  0x928a51ec in JVM_GetClassMethodsCount
 #44  0x90020d28 in _pthread_body

Thread 11:
 #0   0x90073c28 in mach_msg_trap
 #1   0x90005f70 in mach_msg
 #2   0x9283de8c in JVM_NewInstance
 #3   0x92845d70 in JVM_ArrayCopy
 #4   0x9285d610 in JVM_MonitorNotify
 #5   0x9285e2e8 in JVM_MonitorWait
 #6   0x02102668 in 0x2102668
 #7   0x0210068c in 0x210068c
 #8   0x02651a08 in 0x2651a08
 #9   0x021005cc in 0x21005cc
 #10  0xa2843c38 in typeinfo name for std::bad_exception
 #11  0x92838bcc in JVM_CurrentTimeMillis
 #12  0x92878c18 in JVM_FindClassFromClass
 #13  0x92892c80 in JVM_IsSameClassPackage
 #14  0x9288cf60 in JVM_GetMethodIxExceptionTableEntry
 #15  0x92878790 in JVM_FindClassFromClass
 #16  0x928a51ec in JVM_GetClassMethodsCount
 #17  0x90020d28 in _pthread_body

Thread 12:
 #0   0x90073c28 in mach_msg_trap
 #1   0x90005f70 in mach_msg
 #2   0x9283dde4 in JVM_NewInstance
 #3   0x92845d70 in JVM_ArrayCopy
 #4   0x9285d610 in JVM_MonitorNotify
 #5   0x9285e2e8 in JVM_MonitorWait
 #6   0x02102668 in 0x2102668
 #7   0x0210068c in 0x210068c
 #8   0x0210068c in 0x210068c
 #9   0x02319be0 in 0x2319be0
 #10  0x02316ab4 in 0x2316ab4
 #11  0x02316550 in 0x2316550
 #12  0x023161d0 in 0x23161d0
 #13  0x0210068c in 0x210068c
 #14  0x0210086c in 0x210086c
 #15  0x0210086c in 0x210086c
 #16  0xa2843c38 in typeinfo name for std::bad_exception
 #17  0x92838bcc in JVM_CurrentTimeMillis
 #18  0x92878c18 in JVM_FindClassFromClass
 #19  0x92892c80 in JVM_IsSameClassPackage
 #20  0x9288cf60 in JVM_GetMethodIxExceptionTableEntry
 #21  0x92878790 in JVM_FindClassFromClass
 #22  0x928a51ec in JVM_GetClassMethodsCount
 #23  0x90020d28 in _pthread_body

Thread 13:
 #0   0x90073c28 in mach_msg_trap
 #1   0x90005f70 in mach_msg
 #2   0x9283de8c in JVM_NewInstance
 #3   0x92845d70 in JVM_ArrayCopy
 #4   0x9285d610 in JVM_MonitorNotify
 #5   0x9285e2e8 in JVM_MonitorWait
 #6   0x02102668 in 0x2102668
 #7   0x0210068c in 0x210068c
 #8   0x02651a08 in 0x2651a08
 #9   0x021005cc in 0x21005cc
 #10  0xa2843c38 in typeinfo name for std::bad_exception
 #11  0x92838bcc in JVM_CurrentTimeMillis
 #12  0x92878c18 in JVM_FindClassFromClass
 #13  0x92892c80 in JVM_IsSameClassPackage
 #14  0x9288cf60 in JVM_GetMethodIxExceptionTableEntry
 #15  0x92878790 in JVM_FindClassFromClass
 #16  0x928a51ec in JVM_GetClassMethodsCount
 #17  0x90020d28 in _pthread_body

Thread 14:
 #0   0x90073c28 in mach_msg_trap
 #1   0x90005f70 in mach_msg
 #2   0x9283de8c in JVM_NewInstance
 #3   0x92845d70 in JVM_ArrayCopy
 #4   0x9285d610 in JVM_MonitorNotify
 #5   0x9285e2e8 in JVM_MonitorWait
 #6   0x02102668 in 0x2102668
 #7   0x0210068c in 0x210068c
 #8   0x02651a08 in 0x2651a08
 #9   0x021005cc in 0x21005cc
 #10  0xa2843c38 in typeinfo name for std::bad_exception
 #11  0x92838bcc in JVM_CurrentTimeMillis
 #12  0x92878c18 in JVM_FindClassFromClass
 #13  0x92892c80 in JVM_IsSameClassPackage
 #14  0x9288cf60 in JVM_GetMethodIxExceptionTableEntry
 #15  0x92878790 in JVM_FindClassFromClass
 #16  0x928a51ec in JVM_GetClassMethodsCount
 #17  0x90020d28 in _pthread_body

Thread 15:
 #0   0x90073c28 in mach_msg_trap
 #1   0x90005f70 in mach_msg
 #2   0x9283de8c in JVM_NewInstance
 #3   0x92845d70 in JVM_ArrayCopy
 #4   0x9285d610 in JVM_MonitorNotify
 #5   0x9285e2e8 in JVM_MonitorWait
 #6   0x02102668 in 0x2102668
 #7   0x0210068c in 0x210068c
 #8   0x0210086c in 0x210086c
 #9   0xa2843c38 in typeinfo name for std::bad_exception
 #10  0x92838bcc in JVM_CurrentTimeMillis
 #11  0x92878c18 in JVM_FindClassFromClass
 #12  0x92892c80 in JVM_IsSameClassPackage
 #13  0x9288cf60 in JVM_GetMethodIxExceptionTableEntry
 #14  0x92878790 in JVM_FindClassFromClass
 #15  0x928a51ec in JVM_GetClassMethodsCount
 #16  0x90020d28 in _pthread_body

Thread 16:
 #0   0x90073c28 in mach_msg_trap
 #1   0x90005f70 in mach_msg
 #2   0x9283de8c in JVM_NewInstance
 #3   0x92845d70 in JVM_ArrayCopy
 #4   0x9285d610 in JVM_MonitorNotify
 #5   0x9285e2e8 in JVM_MonitorWait
 #6   0x02102668 in 0x2102668
 #7   0x0210068c in 0x210068c
 #8   0x02651a08 in 0x2651a08
 #9   0x026a90bc in 0x26a90bc
 #10  0xa2843c38 in typeinfo name for std::bad_exception
 #11  0x92838bcc in JVM_CurrentTimeMillis
 #12  0x92878c18 in JVM_FindClassFromClass
 #13  0x92892c80 in JVM_IsSameClassPackage
 #14  0x9288cf60 in JVM_GetMethodIxExceptionTableEntry
 #15  0x92878790 in JVM_FindClassFromClass
 #16  0x928a51ec in JVM_GetClassMethodsCount
 #17  0x90020d28 in _pthread_body

PPC Thread State:
  srr0: 0x92839278 srr1: 0x0200f030                vrsave: 0x00000000
   xer: 0x20000000   lr: 0x92837cc8  ctr: 0x929c64f4   mq: 0x00000000
    r0: 0x00000004   r1: 0xf0101800   r2: 0x00000000   r3: 0xf01018a0
    r4: 0x00000048   r5: 0x00000010   r6: 0x92837cc8   r7: 0x92837ca0
    r8: 0x00000001   r9: 0x92920550  r10: 0x08074f2c  r11: 0x00000000
   r12: 0x929c64f4  r13: 0xa282bd0c  r14: 0xa282bd0c  r15: 0xf0101b90
   r16: 0xa28320f8  r17: 0x00000000  r18: 0x04332000  r19: 0xa282bd0c
   r20: 0xf0101b60  r21: 0x92920550  r22: 0x92920550  r23: 0x92836850
   r24: 0x00000048  r25: 0x92920fc0  r26: 0xf01018c0  r27: 0x00000010
   r28: 0x00000048  r29: 0xf01018a0  r30: 0xf01018a0  r31: 0x92837c68
Got another one while closing a perspective. I suspect this is related to the concurrency work that 
we have been doing since I had both the live sync and auto-refresh plug ins running and active. 
However, I should *not* be crashing (i.e. I could see getting invalid thread access).

Date/Time:  2003-07-09 16:15:37 -0400
OS Version: 10.2.6 (Build 6L60)
Host:       foo.ott.oti.com

Command:    java
PID:        2224

Exception:  EXC_BAD_ACCESS (0x0001)
Codes:      KERN_INVALID_ADDRESS (0x0001) at 0x0a1e1000

Thread 0:
 #0   0x90073c28 in mach_msg_trap
 #1   0x90005f70 in mach_msg
 #2   0x901489f0 in __CFRunLoopRun
 #3   0x90180f58 in CFRunLoopRunSpecific
 #4   0x969a3b70 in RunCurrentEventLoopInMode
 #5   0x969b3b00 in ReceiveNextEventCommon
 #6   0x96a05090 in ReceiveNextEventInMode
 #7   0x01f7cbc4 in Java_org_eclipse_swt_internal_carbon_OS_ReceiveNextEvent
 #8   0x02102668 in 0x2102668
 #9   0x021005cc in 0x21005cc
 #10  0x021005cc in 0x21005cc
 #11  0x0210068c in 0x210068c
 #12  0x021007ac in 0x21007ac
 #13  0x021005cc in 0x21005cc
 #14  0xa2843c38 in typeinfo name for std::bad_exception
 #15  0x92838bcc in JVM_CurrentTimeMillis
 #16  0x92872ec4 in JVM_GetCPClassNameUTF
 #17  0x92907420 in JVM_InvokeMethod
 #18  0x92906a80 in JVM_InvokeMethod
 #19  0x92906728 in JVM_InvokeMethod
 #20  0x02102668 in 0x2102668
 #21  0x021005cc in 0x21005cc
 #22  0x021005cc in 0x21005cc
 #23  0x021005cc in 0x21005cc
 #24  0xa2843c38 in typeinfo name for std::bad_exception
 #25  0x92838bcc in JVM_CurrentTimeMillis
 #26  0x92872ec4 in JVM_GetCPClassNameUTF
 #27  0x9287a3a8 in JVM_GetCPMethodModifiers
 #28  0x928d66b4 in JVM_RawMonitorCreate
 #29  0x00002aa4 in 0x2aa4
 #30  0x000021ac in 0x21ac
 #31  0x0000202c in 0x202c

Thread 1:
 #0   0x90073c28 in mach_msg_trap
 #1   0x90005f70 in mach_msg
 #2   0x928ec27c in JNI_CreateJavaVM_Impl
 #3   0x928ec214 in JNI_CreateJavaVM_Impl
 #4   0x928a51ec in JVM_GetClassMethodsCount
 #5   0x90020d28 in _pthread_body

Thread 2:
 #0   0x90073c28 in mach_msg_trap
 #1   0x90005f70 in mach_msg
 #2   0x9283de8c in JVM_NewInstance
 #3   0x9285ead4 in JVM_FillInStackTrace
 #4   0x92864790 in JVM_Send
 #5   0x9290113c in JNI_CreateJavaVM_Impl
 #6   0x928a51ec in JVM_GetClassMethodsCount
 #7   0x90020d28 in _pthread_body

Thread 3:
 #0   0x90073c28 in mach_msg_trap
 #1   0x90005f70 in mach_msg
 #2   0x9283dde4 in JVM_NewInstance
 #3   0x92845d70 in JVM_ArrayCopy
 #4   0x9285d610 in JVM_MonitorNotify
 #5   0x9285e2e8 in JVM_MonitorWait
 #6   0x0242173c in 0x242173c
 #7   0x024e5000 in 0x24e5000
 #8   0x0210068c in 0x210068c
 #9   0xa2843c38 in typeinfo name for std::bad_exception
 #10  0x92838bcc in JVM_CurrentTimeMillis
 #11  0x92878c18 in JVM_FindClassFromClass
 #12  0x92892c80 in JVM_IsSameClassPackage
 #13  0x9288cf60 in JVM_GetMethodIxExceptionTableEntry
 #14  0x92878790 in JVM_FindClassFromClass
 #15  0x928a51ec in JVM_GetClassMethodsCount
 #16  0x90020d28 in _pthread_body

Thread 4:
 #0   0x90073c28 in mach_msg_trap
 #1   0x90005f70 in mach_msg
 #2   0x9283dde4 in JVM_NewInstance
 #3   0x92845d70 in JVM_ArrayCopy
 #4   0x9285d610 in JVM_MonitorNotify
 #5   0x9285e2e8 in JVM_MonitorWait
 #6   0x0242173c in 0x242173c
 #7   0x02317188 in 0x2317188
 #8   0x02316f08 in 0x2316f08
 #9   0x021005cc in 0x21005cc
 #10  0xa2843c38 in typeinfo name for std::bad_exception
 #11  0x92838bcc in JVM_CurrentTimeMillis
 #12  0x92878c18 in JVM_FindClassFromClass
 #13  0x92892c80 in JVM_IsSameClassPackage
 #14  0x9288cf60 in JVM_GetMethodIxExceptionTableEntry
 #15  0x92878790 in JVM_FindClassFromClass
 #16  0x928a51ec in JVM_GetClassMethodsCount
 #17  0x90020d28 in _pthread_body

Thread 5:
 #0   0x90073c28 in mach_msg_trap
 #1   0x90005f70 in mach_msg
 #2   0x9283de8c in JVM_NewInstance
 #3   0x92844e08 in JVM_GetClassLoader
 #4   0x92844b94 in JVM_GetClassLoader
 #5   0x928a51ec in JVM_GetClassMethodsCount
 #6   0x90020d28 in _pthread_body

Thread 6:
 #0   0x90073c28 in mach_msg_trap
 #1   0x90005f70 in mach_msg
 #2   0x9283dde4 in JVM_NewInstance
 #3   0x9285eb30 in JVM_FillInStackTrace
 #4   0x929032f0 in JVM_InitProperties
 #5   0x92903128 in JVM_InitProperties
 #6   0x92878790 in JVM_FindClassFromClass
 #7   0x928a51ec in JVM_GetClassMethodsCount
 #8   0x90020d28 in _pthread_body

Thread 7:
 #0   0x90073c28 in mach_msg_trap
 #1   0x90005f70 in mach_msg
 #2   0x9283dde4 in JVM_NewInstance
 #3   0x9285eb30 in JVM_FillInStackTrace
 #4   0x928888fc in JVM_StartThread
 #5   0x92876c00 in JVM_FindLoadedClass
 #6   0x92878790 in JVM_FindClassFromClass
 #7   0x928a51ec in JVM_GetClassMethodsCount
 #8   0x90020d28 in _pthread_body

Thread 8:
 #0   0x90073c28 in mach_msg_trap
 #1   0x90005f70 in mach_msg
 #2   0x9283de8c in JVM_NewInstance
 #3   0x92845d70 in JVM_ArrayCopy
 #4   0x9285d610 in JVM_MonitorNotify
 #5   0x9285e2e8 in JVM_MonitorWait
 #6   0x02102668 in 0x2102668
 #7   0x0210068c in 0x210068c
 #8   0x02302a88 in 0x2302a88
 #9   0x021005cc in 0x21005cc
 #10  0xa2843c38 in typeinfo name for std::bad_exception
 #11  0x92838bcc in JVM_CurrentTimeMillis
 #12  0x92878c18 in JVM_FindClassFromClass
 #13  0x92892c80 in JVM_IsSameClassPackage
 #14  0x9288cf60 in JVM_GetMethodIxExceptionTableEntry
 #15  0x92878790 in JVM_FindClassFromClass
 #16  0x928a51ec in JVM_GetClassMethodsCount
 #17  0x90020d28 in _pthread_body

Thread 9:
 #0   0x90073c28 in mach_msg_trap
 #1   0x90005f70 in mach_msg
 #2   0x9283dde4 in JVM_NewInstance
 #3   0x92845d70 in JVM_ArrayCopy
 #4   0x9285d610 in JVM_MonitorNotify
 #5   0x9285e2e8 in JVM_MonitorWait
 #6   0x0242173c in 0x242173c
 #7   0x024e5000 in 0x24e5000
 #8   0x0210068c in 0x210068c
 #9   0x0210086c in 0x210086c
 #10  0xa2843c38 in typeinfo name for std::bad_exception
 #11  0x92838bcc in JVM_CurrentTimeMillis
 #12  0x92878c18 in JVM_FindClassFromClass
 #13  0x92892c80 in JVM_IsSameClassPackage
 #14  0x9288cf60 in JVM_GetMethodIxExceptionTableEntry
 #15  0x92878790 in JVM_FindClassFromClass
 #16  0x928a51ec in JVM_GetClassMethodsCount
 #17  0x90020d28 in _pthread_body

Thread 10:
 #0   0x90073c28 in mach_msg_trap
 #1   0x90005f70 in mach_msg
 #2   0x9283de8c in JVM_NewInstance
 #3   0x92845d70 in JVM_ArrayCopy
 #4   0x9285d610 in JVM_MonitorNotify
 #5   0x9285e2e8 in JVM_MonitorWait
 #6   0x02102668 in 0x2102668
 #7   0x0210068c in 0x210068c
 #8   0x0210086c in 0x210086c
 #9   0xa2843c38 in typeinfo name for std::bad_exception
 #10  0x92838bcc in JVM_CurrentTimeMillis
 #11  0x92878c18 in JVM_FindClassFromClass
 #12  0x92892c80 in JVM_IsSameClassPackage
 #13  0x9288cf60 in JVM_GetMethodIxExceptionTableEntry
 #14  0x92878790 in JVM_FindClassFromClass
 #15  0x928a51ec in JVM_GetClassMethodsCount
 #16  0x90020d28 in _pthread_body

Thread 11 Crashed:
 #0   0x900740cc in memmove
 #1   0x9005491c in readdir_r
 #2   0x93dc283c in Java_java_io_UnixFileSystem_list
 #3   0x02295480 in 0x2295480
 #4   0x02295714 in 0x2295714
 #5   0x022959f0 in 0x22959f0
 #6   0x0228be7c in 0x228be7c
 #7   0x02291ab4 in 0x2291ab4
 #8   0x0228e530 in 0x228e530
 #9   0x02553db8 in 0x2553db8
 #10  0x02553900 in 0x2553900
 #11  0x025548b0 in 0x25548b0
 #12  0x025394d8 in 0x25394d8
 #13  0x0210068c in 0x210068c
 #14  0x0210068c in 0x210068c
 #15  0x0210068c in 0x210068c
 #16  0x0251f78c in 0x251f78c
 #17  0x0210086c in 0x210086c
 #18  0x0210068c in 0x210068c
 #19  0x0210068c in 0x210068c
 #20  0x0210086c in 0x210086c
 #21  0xa2843c38 in typeinfo name for std::bad_exception
 #22  0x92838bcc in JVM_CurrentTimeMillis
 #23  0x92878c18 in JVM_FindClassFromClass
 #24  0x92892c80 in JVM_IsSameClassPackage
 #25  0x9288cf60 in JVM_GetMethodIxExceptionTableEntry
 #26  0x92878790 in JVM_FindClassFromClass
 #27  0x928a51ec in JVM_GetClassMethodsCount
 #28  0x90020d28 in _pthread_body

Thread 12:
 #0   0x90073c28 in mach_msg_trap
 #1   0x90005f70 in mach_msg
 #2   0x9283de8c in JVM_NewInstance
 #3   0x92845d70 in JVM_ArrayCopy
 #4   0x9285d610 in JVM_MonitorNotify
 #5   0x9285e2e8 in JVM_MonitorWait
 #6   0x02102668 in 0x2102668
 #7   0x0210068c in 0x210068c
 #8   0x02302a88 in 0x2302a88
 #9   0x021005cc in 0x21005cc
 #10  0xa2843c38 in typeinfo name for std::bad_exception
 #11  0x92838bcc in JVM_CurrentTimeMillis
 #12  0x92878c18 in JVM_FindClassFromClass
 #13  0x92892c80 in JVM_IsSameClassPackage
 #14  0x9288cf60 in JVM_GetMethodIxExceptionTableEntry
 #15  0x92878790 in JVM_FindClassFromClass
 #16  0x928a51ec in JVM_GetClassMethodsCount
 #17  0x90020d28 in _pthread_body

PPC Thread State:
  srr0: 0x900740cc srr1: 0x0200f030                vrsave: 0x00000000
   xer: 0x00000000   lr: 0x9005491c  ctr: 0x00000000   mq: 0x00000000
    r0: 0x00000003   r1: 0xf0b96030   r2: 0x00000000   r3: 0xf0b960d0
    r4: 0x0a1e1000   r5: 0x000000f8   r6: 0x00000010   r7: 0x00000020
    r8: 0x00000030   r9: 0x70656374  r10: 0x00000060  r11: 0x00000080
   r12: 0xf0b961d0  r13: 0x0781ff60  r14: 0x62c84730  r15: 0x48ab4638
   r16: 0xf0b96280  r17: 0x0008a89c  r18: 0xf0b96258  r19: 0xf0b962b8
   r20: 0x6c1a29b0  r21: 0x6c1a2282  r22: 0x00000064  r23: 0x021014a0
   r24: 0x00000080  r25: 0x0a1dede0  r26: 0x0000007d  r27: 0xf0b961e0
   r28: 0xf0b960d0  r29: 0x0a1dede0  r30: 0xa00005f4  r31: 0x900548a0


And another one...


Date/Time:  2003-07-09 19:48:20 -0400
OS Version: 10.2.6 (Build 6L60)
Host:       McQPB17.local.

Command:    java
PID:        2447

Exception:  EXC_BAD_ACCESS (0x0001)
Codes:      KERN_INVALID_ADDRESS (0x0001) at 0x077d500c

Thread 0:
 #0   0x90073c28 in mach_msg_trap
 #1   0x90005f70 in mach_msg
 #2   0x901489f0 in __CFRunLoopRun
 #3   0x90180f58 in CFRunLoopRunSpecific
 #4   0x969a3b70 in RunCurrentEventLoopInMode
 #5   0x969b3b00 in ReceiveNextEventCommon
 #6   0x96a05090 in ReceiveNextEventInMode
 #7   0x01c76bc4 in Java_org_eclipse_swt_internal_carbon_OS_ReceiveNextEvent
 #8   0x02102668 in 0x2102668
 #9   0x021005cc in 0x21005cc
 #10  0x021005cc in 0x21005cc
 #11  0x0210068c in 0x210068c
 #12  0x021007ac in 0x21007ac
 #13  0x021005cc in 0x21005cc
 #14  0xa2843c38 in typeinfo name for std::bad_exception
 #15  0x92838bcc in JVM_CurrentTimeMillis
 #16  0x92872ec4 in JVM_GetCPClassNameUTF
 #17  0x92907420 in JVM_InvokeMethod
 #18  0x92906a80 in JVM_InvokeMethod
 #19  0x92906728 in JVM_InvokeMethod
 #20  0x02102668 in 0x2102668
 #21  0x021005cc in 0x21005cc
 #22  0x021005cc in 0x21005cc
 #23  0x021005cc in 0x21005cc
 #24  0xa2843c38 in typeinfo name for std::bad_exception
 #25  0x92838bcc in JVM_CurrentTimeMillis
 #26  0x92872ec4 in JVM_GetCPClassNameUTF
 #27  0x9287a3a8 in JVM_GetCPMethodModifiers
 #28  0x928d66b4 in JVM_RawMonitorCreate
 #29  0x00002aa4 in 0x2aa4
 #30  0x000021ac in 0x21ac
 #31  0x0000202c in 0x202c

Thread 1:
 #0   0x90073c28 in mach_msg_trap
 #1   0x90005f70 in mach_msg
 #2   0x928ec27c in JNI_CreateJavaVM_Impl
 #3   0x928ec214 in JNI_CreateJavaVM_Impl
 #4   0x928a51ec in JVM_GetClassMethodsCount
 #5   0x90020d28 in _pthread_body

Thread 2:
 #0   0x90073c28 in mach_msg_trap
 #1   0x90005f70 in mach_msg
 #2   0x9283de8c in JVM_NewInstance
 #3   0x9285ead4 in JVM_FillInStackTrace
 #4   0x92864790 in JVM_Send
 #5   0x9290113c in JNI_CreateJavaVM_Impl
 #6   0x928a51ec in JVM_GetClassMethodsCount
 #7   0x90020d28 in _pthread_body

Thread 3:
 #0   0x90073c28 in mach_msg_trap
 #1   0x90005f70 in mach_msg
 #2   0x9283dde4 in JVM_NewInstance
 #3   0x92845d70 in JVM_ArrayCopy
 #4   0x9285d610 in JVM_MonitorNotify
 #5   0x9285e2e8 in JVM_MonitorWait
 #6   0x0237a4bc in 0x237a4bc
 #7   0x023b0c40 in 0x23b0c40
 #8   0x0210068c in 0x210068c
 #9   0xa2843c38 in typeinfo name for std::bad_exception
 #10  0x92838bcc in JVM_CurrentTimeMillis
 #11  0x92878c18 in JVM_FindClassFromClass
 #12  0x92892c80 in JVM_IsSameClassPackage
 #13  0x9288cf60 in JVM_GetMethodIxExceptionTableEntry
 #14  0x92878790 in JVM_FindClassFromClass
 #15  0x928a51ec in JVM_GetClassMethodsCount
 #16  0x90020d28 in _pthread_body

Thread 4:
 #0   0x90073c28 in mach_msg_trap
 #1   0x90005f70 in mach_msg
 #2   0x9283dde4 in JVM_NewInstance
 #3   0x92845d70 in JVM_ArrayCopy
 #4   0x9285d610 in JVM_MonitorNotify
 #5   0x9285e2e8 in JVM_MonitorWait
 #6   0x0237a4bc in 0x237a4bc
 #7   0x02338888 in 0x2338888
 #8   0x02338608 in 0x2338608
 #9   0x021005cc in 0x21005cc
 #10  0xa2843c38 in typeinfo name for std::bad_exception
 #11  0x92838bcc in JVM_CurrentTimeMillis
 #12  0x92878c18 in JVM_FindClassFromClass
 #13  0x92892c80 in JVM_IsSameClassPackage
 #14  0x9288cf60 in JVM_GetMethodIxExceptionTableEntry
 #15  0x92878790 in JVM_FindClassFromClass
 #16  0x928a51ec in JVM_GetClassMethodsCount
 #17  0x90020d28 in _pthread_body

Thread 5:
 #0   0x90073c28 in mach_msg_trap
 #1   0x90005f70 in mach_msg
 #2   0x9283de8c in JVM_NewInstance
 #3   0x92844e08 in JVM_GetClassLoader
 #4   0x92844b94 in JVM_GetClassLoader
 #5   0x928a51ec in JVM_GetClassMethodsCount
 #6   0x90020d28 in _pthread_body

Thread 6:
 #0   0x90073c28 in mach_msg_trap
 #1   0x90005f70 in mach_msg
 #2   0x9283dde4 in JVM_NewInstance
 #3   0x9285eb30 in JVM_FillInStackTrace
 #4   0x929032f0 in JVM_InitProperties
 #5   0x92903128 in JVM_InitProperties
 #6   0x92878790 in JVM_FindClassFromClass
 #7   0x928a51ec in JVM_GetClassMethodsCount
 #8   0x90020d28 in _pthread_body

Thread 7:
 #0   0x90073c28 in mach_msg_trap
 #1   0x90005f70 in mach_msg
 #2   0x9283dde4 in JVM_NewInstance
 #3   0x9285eb30 in JVM_FillInStackTrace
 #4   0x928888fc in JVM_StartThread
 #5   0x92876c00 in JVM_FindLoadedClass
 #6   0x92878790 in JVM_FindClassFromClass
 #7   0x928a51ec in JVM_GetClassMethodsCount
 #8   0x90020d28 in _pthread_body

Thread 8:
 #0   0x90073c28 in mach_msg_trap
 #1   0x90005f70 in mach_msg
 #2   0x9283de8c in JVM_NewInstance
 #3   0x92845d70 in JVM_ArrayCopy
 #4   0x9285d610 in JVM_MonitorNotify
 #5   0x9285e2e8 in JVM_MonitorWait
 #6   0x02102668 in 0x2102668
 #7   0x0210068c in 0x210068c
 #8   0x022e2148 in 0x22e2148
 #9   0x021005cc in 0x21005cc
 #10  0xa2843c38 in typeinfo name for std::bad_exception
 #11  0x92838bcc in JVM_CurrentTimeMillis
 #12  0x92878c18 in JVM_FindClassFromClass
 #13  0x92892c80 in JVM_IsSameClassPackage
 #14  0x9288cf60 in JVM_GetMethodIxExceptionTableEntry
 #15  0x92878790 in JVM_FindClassFromClass
 #16  0x928a51ec in JVM_GetClassMethodsCount
 #17  0x90020d28 in _pthread_body

Thread 9:
 #0   0x90073c28 in mach_msg_trap
 #1   0x90005f70 in mach_msg
 #2   0x9283dde4 in JVM_NewInstance
 #3   0x92845d70 in JVM_ArrayCopy
 #4   0x9285d610 in JVM_MonitorNotify
 #5   0x9285e2e8 in JVM_MonitorWait
 #6   0x02102668 in 0x2102668
 #7   0x0210068c in 0x210068c
 #8   0x0210068c in 0x210068c
 #9   0x0210086c in 0x210086c
 #10  0xa2843c38 in typeinfo name for std::bad_exception
 #11  0x92838bcc in JVM_CurrentTimeMillis
 #12  0x92878c18 in JVM_FindClassFromClass
 #13  0x92892c80 in JVM_IsSameClassPackage
 #14  0x9288cf60 in JVM_GetMethodIxExceptionTableEntry
 #15  0x92878790 in JVM_FindClassFromClass
 #16  0x928a51ec in JVM_GetClassMethodsCount
 #17  0x90020d28 in _pthread_body

Thread 10 Crashed:
 #0   0x90074594 in memmove
 #1   0x9005491c in readdir_r
 #2   0x93dc283c in Java_java_io_UnixFileSystem_list
 #3   0x023af800 in 0x23af800
 #4   0x023c6154 in 0x23c6154
 #5   0x0238da58 in 0x238da58
 #6   0x0238fa64 in 0x238fa64
 #7   0x023876d0 in 0x23876d0
 #8   0x0238dacc in 0x238dacc
 #9   0x0238fa64 in 0x238fa64
 #10  0x023876d0 in 0x23876d0
 #11  0x0238dacc in 0x238dacc
 #12  0x0238fa64 in 0x238fa64
 #13  0x023876d0 in 0x23876d0
 #14  0x0238dacc in 0x238dacc
 #15  0x0238fa64 in 0x238fa64
 #16  0x023876d0 in 0x23876d0
 #17  0x0238dacc in 0x238dacc
 #18  0x0238fa64 in 0x238fa64
 #19  0x023876d0 in 0x23876d0
 #20  0x0238dacc in 0x238dacc
 #21  0x0238fa64 in 0x238fa64
 #22  0x02454050 in 0x2454050
 #23  0x024534ec in 0x24534ec
 #24  0x0210068c in 0x210068c
 #25  0x0210086c in 0x210086c
 #26  0xa2843c38 in typeinfo name for std::bad_exception
 #27  0x92838bcc in JVM_CurrentTimeMillis
 #28  0x92878c18 in JVM_FindClassFromClass
 #29  0x92892c80 in JVM_IsSameClassPackage
 #30  0x9288cf60 in JVM_GetMethodIxExceptionTableEntry
 #31  0x92878790 in JVM_FindClassFromClass
 #32  0x928a51ec in JVM_GetClassMethodsCount
 #33  0x90020d28 in _pthread_body

Thread 11:
 #0   0x90073c28 in mach_msg_trap
 #1   0x90005f70 in mach_msg
 #2   0x9283de8c in JVM_NewInstance
 #3   0x92845d70 in JVM_ArrayCopy
 #4   0x9285d610 in JVM_MonitorNotify
 #5   0x9285e2e8 in JVM_MonitorWait
 #6   0x02102668 in 0x2102668
 #7   0x0210068c in 0x210068c
 #8   0x0210086c in 0x210086c
 #9   0xa2843c38 in typeinfo name for std::bad_exception
 #10  0x92838bcc in JVM_CurrentTimeMillis
 #11  0x92878c18 in JVM_FindClassFromClass
 #12  0x92892c80 in JVM_IsSameClassPackage
 #13  0x9288cf60 in JVM_GetMethodIxExceptionTableEntry
 #14  0x92878790 in JVM_FindClassFromClass
 #15  0x928a51ec in JVM_GetClassMethodsCount
 #16  0x90020d28 in _pthread_body

PPC Thread State:
  srr0: 0x90074594 srr1: 0x0200f030                vrsave: 0xff000000
   xer: 0x00000000   lr: 0x9005491c  ctr: 0x00000001   mq: 0x00000000
    r0: 0x00000003   r1: 0xf0a93cd0   r2: 0x00000000   r3: 0xf0a93d70
    r4: 0x077d4ffc   r5: 0x000000f8   r6: 0x00000010   r7: 0x00000020
    r8: 0x00000030   r9: 0x644f6e6c  r10: 0x00000060  r11: 0x00000080
   r12: 0xf0a93e60  r13: 0x05fd9010  r14: 0x62c84738  r15: 0x494c7008
   r16: 0xf0a93f20  r17: 0x00000070  r18: 0xf0a948e8  r19: 0xf0a93f58
   r20: 0x6c0b6148  r21: 0x6c0b5a94  r22: 0x00000064  r23: 0x021014a0
   r24: 0x00000080  r25: 0x077d3f70  r26: 0x0000005e  r27: 0xf0a93e80
   r28: 0xf0a93d70  r29: 0x077d3f70  r30: 0xa000064c  r31: 0x900548a0
The following bit appears in two of the traces:

 #0   0x90074594 in memmove
 #1   0x9005491c in readdir_r
 #2   0x93dc283c in Java_java_io_UnixFileSystem_list


Looks like there may be a bug with Java File.  Now that we have support for 
JDK 1.4.1, could you try using 1.4.1 and see if the problem still exits?
I'll try it.

Note that, if this only happens when we are running with lots of threads, it seems like the problem 
is with concurrent access to files. If this turns out to really be the case, then we would have serious 
problems making this stuff work on the mac. Something for J-M and John to think about.
I have no idea how to read these stack traces - is it byte codes?.  Is there any
way to get a standard looking Java stack trace?  I thought mac was supposed to
be more user friendly ;)
They are in the standard "core dump" format for the Mac. That is, they're the same format you 
would see from a C code crash.

Silenio to investigate, redelegate if appropriate.

Has anyone seen this after we started using JDK 1.4?
I have not seen these recently.
Closing.</WithOutStack>
  </Bug>
  <Bug>
    <BugId amount="39835" />
    <CreationDate amount="2003-07-09 16:23:00 -0400" />
    <DupId amount="" />
    <classification amount="Eclipse" />
    <Product amount="Platform" />
    <component amount="Team" />
    <Version amount="3.0" />
    <rep_platform amount="PC" />
    <op_sys amount="Windows XP" />
    <priority amount="P3" />
    <bug_severity amount="normal" />
    <Summery>Live sync view: close open editor when node is removed from sync view</Summery>
    <Patches amount="0" />
    <Stacktraces amount="0" />
    <SourceCodeRegions amount="0" />
    <Enumerations amount="0" />
    <bug_status amount="RESOLVED" />
    <resolution amount="FIXED" />
    <WithStack>I20030709
It would be nice if the compare editor would close when a nove from the sync 
view is removed for which a compare editor is open and not-dirty.
Fixed.</WithStack>
    <WithOutStack>I20030709
It would be nice if the compare editor would close when a nove from the sync 
view is removed for which a compare editor is open and not-dirty.
Fixed.</WithOutStack>
  </Bug>
  <Bug>
    <BugId amount="39836" />
    <CreationDate amount="2003-07-09 16:48:00 -0400" />
    <DupId amount="" />
    <classification amount="Eclipse" />
    <Product amount="Platform" />
    <component amount="Team" />
    <Version amount="2.1" />
    <rep_platform amount="PC" />
    <op_sys amount="Windows 2000" />
    <priority amount="P3" />
    <bug_severity amount="normal" />
    <Summery>[2.1.2] Error handling in org.eclipse.team.internal.ui.sync.SyncView.run()</Summery>
    <Patches amount="0" />
    <Stacktraces amount="0" />
    <SourceCodeRegions amount="0" />
    <Enumerations amount="0" />
    <bug_status amount="RESOLVED" />
    <resolution amount="INVALID" />
    <WithStack>In org.eclipse.team.internal.ui.sync.SyncView.run() errors are not always 
reported back the the user. 

Instead of

error = new Status(IStatus.ERROR, TeamUIPlugin.ID, 1, Policy.bind
("simpleInternal"), throwable); //$NON-NLS-1$

i suggest 

error = new Status(IStatus.ERROR, TeamUIPlugin.ID, 1, throwable.getMessage() != 
null ? throwable.getMessage() : Policy.bind("simpleInternal"), throwable); //
$NON-NLS-1$

so that the message from the throwable is presented to the user, if any.
SyncView is VCM.
This class has been deprecated in 3.0 replaced by SyncViewer. Consider for 
2.1.2 fix.
Class no longer exists</WithStack>
    <WithOutStack>In org.eclipse.team.internal.ui.sync.SyncView.run() errors are not always 
reported back the the user. 

Instead of

error = new Status(IStatus.ERROR, TeamUIPlugin.ID, 1, Policy.bind
("simpleInternal"), throwable); //$NON-NLS-1$

i suggest 

error = new Status(IStatus.ERROR, TeamUIPlugin.ID, 1, throwable.getMessage() != 
null ? throwable.getMessage() : Policy.bind("simpleInternal"), throwable); //
$NON-NLS-1$

so that the message from the throwable is presented to the user, if any.
SyncView is VCM.
This class has been deprecated in 3.0 replaced by SyncViewer. Consider for 
2.1.2 fix.
Class no longer exists</WithOutStack>
  </Bug>
  <Bug>
    <BugId amount="39837" />
    <CreationDate amount="2003-07-09 17:08:00 -0400" />
    <DupId amount="" />
    <classification amount="Eclipse" />
    <Product amount="JDT" />
    <component amount="Text" />
    <Version amount="3.0" />
    <rep_platform amount="PC" />
    <op_sys amount="Windows XP" />
    <priority amount="P3" />
    <bug_severity amount="minor" />
    <Summery>[preferences] Edit Template dialog does not support Ctrl-A (=Select All)</Summery>
    <Patches amount="0" />
    <Stacktraces amount="0" />
    <SourceCodeRegions amount="0" />
    <Enumerations amount="0" />
    <bug_status amount="RESOLVED" />
    <resolution amount="WORKSFORME" />
    <WithStack>The Window/Preferences/Java/Code Generation/Code and Comments/Edit... dialog
does not support the standard (Windows) Ctrl-A (=Select All).

Oddly, the context menu has a "Select All" choice.

Version: 2.1.0
Build id: 200306051737
I don't think any SWT text widgets support control-A. For example Window &gt; 
Preferences &gt; Workspace &gt; Workspace save interval. My fingers must be used to 
it from other applications because I keep pressing it and nothing happens 
(well, it beeps so that's something :). I'm using 3.0M5.

I don't think this belongs in JDT, maybe SWT?

Tested in 3.3 RC1.</WithStack>
    <WithOutStack>The Window/Preferences/Java/Code Generation/Code and Comments/Edit... dialog
does not support the standard (Windows) Ctrl-A (=Select All).

Oddly, the context menu has a "Select All" choice.

Version: 2.1.0
Build id: 200306051737
I don't think any SWT text widgets support control-A. For example Window &gt; 
Preferences &gt; Workspace &gt; Workspace save interval. My fingers must be used to 
it from other applications because I keep pressing it and nothing happens 
(well, it beeps so that's something :). I'm using 3.0M5.

I don't think this belongs in JDT, maybe SWT?

Tested in 3.3 RC1.</WithOutStack>
  </Bug>
  <Bug>
    <BugId amount="39838" />
    <CreationDate amount="2003-07-09 17:11:00 -0400" />
    <DupId amount="" />
    <classification amount="Eclipse" />
    <Product amount="Platform" />
    <component amount="UI" />
    <Version amount="3.0" />
    <rep_platform amount="PC" />
    <op_sys amount="Windows XP" />
    <priority amount="P3" />
    <bug_severity amount="enhancement" />
    <Summery>[ErrorHandling] [About] Add Copy info button in Help/About dialog.</Summery>
    <Patches amount="0" />
    <Stacktraces amount="0" />
    <SourceCodeRegions amount="0" />
    <Enumerations amount="0" />
    <bug_status amount="CLOSED" />
    <resolution amount="FIXED" />
    <WithStack>Everytime I report a bug or request a feature, which I do a lot ;-). I do a
Help/About, select and copy the version and paste it in the PR like so:

Version: 2.1.0
Build id: 200306051737

It would be faster if I could click a little button to copy this and whatever
else you guys think is good to the clip board. The could also be done directly
with a menu item in the Help menu but this would be menu item creep. Unless
there was an Advanced menu mode where this kind of menu items would only show
up. A la MS menu "&gt;&gt;" or some such.
Even better would be a button that opens a web browser connected to eclipse 
bugs. Then the information could already be filled in.

Moving to platform.
moving to owner of about dialog
I'd prefer to see our bug rate go down so you don't have to do this as often 
&lt;g&gt;.

I'd prefer not to add any new buttons here ("button creep").
Doug, would it be possible to use the key bindings in dialogs support to allow 
Ctrl+C (or whatever the binding for Copy is) to work here?

Sadly, there'll always be bugs ;-) The idea is that it would be helpful to have
somekind of shortcut to copy to the clipboard whatever information is generally
useful to include in a bug report. This site guess my OS just fine but not my
Eclipse version #. I imagine there might be more info you'd like to have like
the version of Java E is running on top of.
Sorry it took so long for a reply.  Yes, the widget is a StyledText widget.  
As soon as I remove the no-dialog restriction, you'll get it for free. 
 
Alternatively, you can force the key binding service to treat the AboutDialog 
as a regular window.  Something like this: 
 
workbench.getCommandSupport().registerForKeyBindings(aboutDialog,false); 
Reassigning bugs in component areas that are changing ownership.

This is fixed in 3.3
Closing</WithStack>
    <WithOutStack>Everytime I report a bug or request a feature, which I do a lot ;-). I do a
Help/About, select and copy the version and paste it in the PR like so:

Version: 2.1.0
Build id: 200306051737

It would be faster if I could click a little button to copy this and whatever
else you guys think is good to the clip board. The could also be done directly
with a menu item in the Help menu but this would be menu item creep. Unless
there was an Advanced menu mode where this kind of menu items would only show
up. A la MS menu "&gt;&gt;" or some such.
Even better would be a button that opens a web browser connected to eclipse 
bugs. Then the information could already be filled in.

Moving to platform.
moving to owner of about dialog
I'd prefer to see our bug rate go down so you don't have to do this as often 
&lt;g&gt;.

I'd prefer not to add any new buttons here ("button creep").
Doug, would it be possible to use the key bindings in dialogs support to allow 
Ctrl+C (or whatever the binding for Copy is) to work here?

Sadly, there'll always be bugs ;-) The idea is that it would be helpful to have
somekind of shortcut to copy to the clipboard whatever information is generally
useful to include in a bug report. This site guess my OS just fine but not my
Eclipse version #. I imagine there might be more info you'd like to have like
the version of Java E is running on top of.
Sorry it took so long for a reply.  Yes, the widget is a StyledText widget.  
As soon as I remove the no-dialog restriction, you'll get it for free. 
 
Alternatively, you can force the key binding service to treat the AboutDialog 
as a regular window.  Something like this: 
 
workbench.getCommandSupport().registerForKeyBindings(aboutDialog,false); 
Reassigning bugs in component areas that are changing ownership.

This is fixed in 3.3
Closing</WithOutStack>
  </Bug>
  <Bug>
    <BugId amount="39839" />
    <CreationDate amount="2003-07-09 17:16:00 -0400" />
    <DupId amount="" />
    <classification amount="Eclipse" />
    <Product amount="JDT" />
    <component amount="Core" />
    <Version amount="3.0" />
    <rep_platform amount="PC" />
    <op_sys amount="Linux-GTK" />
    <priority amount="P3" />
    <bug_severity amount="normal" />
    <Summery>Compiler optimization breaks user code</Summery>
    <Patches amount="0" />
    <Stacktraces amount="0" />
    <SourceCodeRegions amount="2">
      <source_code type="class">
        <location start="150" end="294" />
        <code>public class Foo {
  static {
    Bar.class.getName();
  }
  public Foo() {
  }
  public static void main(String[] args) {
     new Foo();
  }
}</code>
      </source_code>
      <source_code type="class">
        <location start="296" end="365" />
        <code>public class Bar {
  static {
    System.out.println("in bar");
  }
}</code>
      </source_code>
    </SourceCodeRegions>
    <Enumerations amount="0" />
    <bug_status amount="RESOLVED" />
    <resolution amount="WONTFIX" />
    <WithStack>I have had code for a long time that, in a static initalizer, "touches" another 
class so that its static initializer will run.  Here is an example:

public class Foo {
  static {
    Bar.class.getName();
  }
  public Foo() {
  }
  public static void main(String[] args) {
     new Foo();
  }
}

public class Bar {
  static {
    System.out.println("in bar");
  }
}

In Eclipse 2.1, running main() on Foo would have resulted in the statement "in 
bar" printing.  It appears that in the M1 build, the Bar.class.getName() has 
been optimized such that the Bar static initializer doesn't get run.  This has 
broken my code since I was relying on this behavior.  Is there some other way 
via reflection to force Bar's initialization?
Actually, our old behavior was wrong (see bug 37565). The class literal should 
not force to load the target class.

Using a straight Class.forName("Bar") will do the trick. What the compiler 
instead performs is: Class.forName("[LBar;").getComponentType() so as to avoid 
initializing the class (Jikes and future Javac will presumably do it so).</WithStack>
    <WithOutStack>I have had code for a long time that, in a static initalizer, "touches" another 
class so that its static initializer will run.  Here is an example:

public class Foo {
  static {
    Bar.class.getName();
  }
  public Foo() {
  }
  public static void main(String[] args) {
     new Foo();
  }
}

public class Bar {
  static {
    System.out.println("in bar");
  }
}

In Eclipse 2.1, running main() on Foo would have resulted in the statement "in 
bar" printing.  It appears that in the M1 build, the Bar.class.getName() has 
been optimized such that the Bar static initializer doesn't get run.  This has 
broken my code since I was relying on this behavior.  Is there some other way 
via reflection to force Bar's initialization?
Actually, our old behavior was wrong (see bug 37565). The class literal should 
not force to load the target class.

Using a straight Class.forName("Bar") will do the trick. What the compiler 
instead performs is: Class.forName("[LBar;").getComponentType() so as to avoid 
initializing the class (Jikes and future Javac will presumably do it so).</WithOutStack>
  </Bug>
  <Bug>
    <BugId amount="39840" />
    <CreationDate amount="2003-07-09 18:55:00 -0400" />
    <DupId amount="" />
    <classification amount="Eclipse" />
    <Product amount="Platform" />
    <component amount="SWT" />
    <Version amount="3.0" />
    <rep_platform amount="PC" />
    <op_sys amount="Linux-GTK" />
    <priority amount="P3" />
    <bug_severity amount="major" />
    <Summery>No context menu on the fast view icons and perspective icons</Summery>
    <Patches amount="0" />
    <Stacktraces amount="0" />
    <SourceCodeRegions amount="0" />
    <Enumerations amount="0" />
    <bug_status amount="RESOLVED" />
    <resolution amount="FIXED" />
    <WithStack>Build 20030703
Linux-GTK

The icon on the fast view and perspective icon an the left side of the window
have no context menu. It particularly inritating for closing perspectives, as we
need to use the top menu.
On Windows XP the drop down does exist but on Linux-GTK it does not.  This 
verified with build I20030710.
Also occurring on I20030710 on MacOS X (see bug 39882 ).

*** Bug 39882 has been marked as a duplicate of this bug. ***
This looks like a SWT platform problem. We are adding a MenuDetect listener on 
the shortcut toolbar (see WorkbenchWindow.createShortcutBar method). On 
Windows, we get call.
Felipe, please investigate the support for MenuDetect on GTK.
I just wanted to make sure that we don't forget that I've filed
bug #39882 against MacOS X!
So, this problem is not confined to GTK.

I'v verified that the problem still occurs in I20030716.
Increased severity.
fixed in head 20030716, GTK, Photon and Mac.</WithStack>
    <WithOutStack>Build 20030703
Linux-GTK

The icon on the fast view and perspective icon an the left side of the window
have no context menu. It particularly inritating for closing perspectives, as we
need to use the top menu.
On Windows XP the drop down does exist but on Linux-GTK it does not.  This 
verified with build I20030710.
Also occurring on I20030710 on MacOS X (see bug 39882 ).

*** Bug 39882 has been marked as a duplicate of this bug. ***
This looks like a SWT platform problem. We are adding a MenuDetect listener on 
the shortcut toolbar (see WorkbenchWindow.createShortcutBar method). On 
Windows, we get call.
Felipe, please investigate the support for MenuDetect on GTK.
I just wanted to make sure that we don't forget that I've filed
bug #39882 against MacOS X!
So, this problem is not confined to GTK.

I'v verified that the problem still occurs in I20030716.
Increased severity.
fixed in head 20030716, GTK, Photon and Mac.</WithOutStack>
  </Bug>
  <Bug>
    <BugId amount="39841" />
    <CreationDate amount="2003-07-09 19:10:00 -0400" />
    <DupId amount="" />
    <classification amount="Eclipse" />
    <Product amount="JDT" />
    <component amount="Core" />
    <Version amount="3.0" />
    <rep_platform amount="All" />
    <op_sys amount="All" />
    <priority amount="P3" />
    <bug_severity amount="enhancement" />
    <Summery>Give better explanation of why abstract class can't be instantiated</Summery>
    <Patches amount="0" />
    <Stacktraces amount="0" />
    <SourceCodeRegions amount="0" />
    <Enumerations amount="1">
      <Enumeration lines="4">
        <Lines>
          <Line>- attempting to allocate a base type</Line>
          <Line>- attempting to allocate an interface</Line>
          <Line>Changed error message to read:</Line>
          <Line>"Cannot instantiate the type MyClass, since it is not a concrete class"</Line>
        </Lines>
      </Enumeration>
    </Enumerations>
    <bug_status amount="VERIFIED" />
    <resolution amount="FIXED" />
    <WithStack>When you try to construct an abstract class MyClass, you get the error
  The type MyClass can not be instantiated
Now this may seem obvious to some people, and will seem obvious to me from now
on, but the first time I got this error, I spent 5 minutes trying to figure out
what the problem was, I simply thought there was something wrong with the
constructor, or Eclipse was buggy, etc. Then I decided to look at the class
definition itself. Changig this to 
  The type MyClass can not be instantiated because it is abstract
or
  The abstract type MyClass can not be instantiated
would be much clearer.
Actually, other forbidden scenarii using the same problem message are:
- attempting to allocate a base type
- attempting to allocate an interface
Changed error message to read:
  "Cannot instantiate the type MyClass, since it is not a concrete class"

Is it ok ?
Marking as fixed (reopen if you disagree)
Verified.</WithStack>
    <WithOutStack>When you try to construct an abstract class MyClass, you get the error
  The type MyClass can not be instantiated
Now this may seem obvious to some people, and will seem obvious to me from now
on, but the first time I got this error, I spent 5 minutes trying to figure out
what the problem was, I simply thought there was something wrong with the
constructor, or Eclipse was buggy, etc. Then I decided to look at the class
definition itself. Changig this to 
  The type MyClass can not be instantiated because it is abstract
or
  The abstract type MyClass can not be instantiated
would be much clearer.
Actually, other forbidden scenarii using the same problem message are:
- attempting to allocate a base type
- attempting to allocate an interface
Changed error message to read:
  "Cannot instantiate the type MyClass, since it is not a concrete class"

Is it ok ?
Marking as fixed (reopen if you disagree)
Verified.</WithOutStack>
  </Bug>
  <Bug>
    <BugId amount="39842" />
    <CreationDate amount="2003-07-09 19:31:00 -0400" />
    <DupId amount="" />
    <classification amount="Tools" />
    <Product amount="AspectJ" />
    <component amount="Ant" />
    <Version amount="1.1.0" />
    <rep_platform amount="PC" />
    <op_sys amount="Windows XP" />
    <priority amount="P2" />
    <bug_severity amount="enhancement" />
    <Summery>allow use of an environment variable to set compiler arguments</Summery>
    <Patches amount="0" />
    <Stacktraces amount="0" />
    <SourceCodeRegions amount="2">
      <source_code type="package">
        <location start="646" end="685" />
        <code>package org.aspectj.tools.ant.taskdefs;</code>
      </source_code>
      <source_code type="functioncall">
        <location start="721" end="756" />
        <code>String[] editCommand(String[]);</code>
      </source_code>
    </SourceCodeRegions>
    <Enumerations amount="0" />
    <bug_status amount="RESOLVED" />
    <resolution amount="FIXED" />
    <WithStack>I'm trying to create a special jsp compilation servlet in Tomcat 4.x that uses 
the aspectj compiler. I can plug in the compiler adapter, but I don't have 
control of the ant code they use to invoke the compiler, so I'd like to use 
an environment variable to do this (apparently the only mechanism they do 
support).

I'm doing this so I can pass an aspectpath in to weave aspects into the 
compiled jsp servlet.
Done for 1.1.1.  

To rewrite the command-line arguments, specify an ICommandEditor class name
either in the environment or dynamically in the task invocation.

i.e., implement ICommandEditor in com.company.CommandEditor...

------
package org.aspectj.tools.ant.taskdefs;

public interface ICommandEditor {
    String[] editCommand(String[]);
}
------

define the environment variable on the command line:
  -Dorg.aspectj.tools.ant.taskdefs.AjcTask.COMMAND_EDITOR=com.company.CommandEditor

or specify it in the task invocation:

   &lt;iajc ... commandEditorClass="com.company.CommandEditor"

(task specifications take precedence)


updated target milestone field to 1.1.1</WithStack>
    <WithOutStack>I'm trying to create a special jsp compilation servlet in Tomcat 4.x that uses 
the aspectj compiler. I can plug in the compiler adapter, but I don't have 
control of the ant code they use to invoke the compiler, so I'd like to use 
an environment variable to do this (apparently the only mechanism they do 
support).

I'm doing this so I can pass an aspectpath in to weave aspects into the 
compiled jsp servlet.
Done for 1.1.1.  

To rewrite the command-line arguments, specify an ICommandEditor class name
either in the environment or dynamically in the task invocation.

i.e., implement ICommandEditor in com.company.CommandEditor...

------
package org.aspectj.tools.ant.taskdefs;

public interface ICommandEditor {
    String[] editCommand(String[]);
}
------

define the environment variable on the command line:
  -Dorg.aspectj.tools.ant.taskdefs.AjcTask.COMMAND_EDITOR=com.company.CommandEditor

or specify it in the task invocation:

   &lt;iajc ... commandEditorClass="com.company.CommandEditor"

(task specifications take precedence)


updated target milestone field to 1.1.1</WithOutStack>
  </Bug>
  <Bug>
    <BugId amount="39843" />
    <CreationDate amount="2003-07-09 19:36:00 -0400" />
    <DupId amount="" />
    <classification amount="Eclipse" />
    <Product amount="Platform" />
    <component amount="Team" />
    <Version amount="3.0" />
    <rep_platform amount="Macintosh" />
    <op_sys amount="Mac OS X - Carbon (unsup.)" />
    <priority amount="P3" />
    <bug_severity amount="normal" />
    <Summery>Odd behavior browsing sourceforge with "background fetching of resources" on</Summery>
    <Patches amount="0" />
    <Stacktraces amount="0" />
    <SourceCodeRegions amount="0" />
    <Enumerations amount="1">
      <Enumeration lines="12">
        <Lines>
          <Line>1) Browsing some subdirectories (eg. "docs") of the "juggler" module in HEAD left the "Pending..."</Line>
          <Line>display visible even though the spinner was not spinning and no items were shown in the progress</Line>
          <Line>view. Could it be that if nothing is visible in the directory, the "Pending..." message is not cleaned</Line>
          <Line>up?</Line>
          <Line />
          <Line>2) Attempting to open more than one directory at the same time (so that some jobs were "pending"</Line>
          <Line>in the progress view) and then waiting for them to complete left me in a state where one of the</Line>
          <Line>items was displaying in the CVS repositories view was displaying "Pending..." (first) followed by the</Line>
          <Line>entire list of children for that item.</Line>
          <Line />
          <Line>3) At this point, pushing the refresh button on the view left me in a state where "Pending..." was</Line>
          <Line>displayed under HEAD but no jobs were running.</Line>
        </Lines>
      </Enumeration>
    </Enumerations>
    <bug_status amount="RESOLVED" />
    <resolution amount="FIXED" />
    <WithStack>I picked a random repository (:pserver:anonymous@cvs.sourceforge.net:/cvsroot/vrjuggler) at 
sourceforge and tried browsing it in the repositories view with background fetching turned on. I 
noticed two strange things:

1) Browsing some subdirectories (eg. "docs") of the "juggler" module in HEAD left the "Pending..." 
display visible even though the spinner was not spinning and no items were shown in the progress 
view. Could it be that if nothing is visible in the directory, the "Pending..." message is not cleaned 
up?

2) Attempting to open more than one directory at the same time (so that some jobs were "pending" 
in the progress view) and then waiting for them to complete left me in a state where one of the 
items was displaying in the CVS repositories view was displaying "Pending..." (first) followed by the 
entire list of children for that item.

3) At this point, pushing the refresh button on the view left me in a state where "Pending..." was 
displayed under HEAD but no jobs were running.

It seems like there are still serious issues with this view. We need to address these before M2 if 
possible.
I was able to duplicate these problems browsing eclipse.org. Could this be a Mac Tree problem?

If this problems occured in I20030709 then it is probably related to bug #39825,
which was fixed in I20030710.
I'm using I20030710 since a couple of hours and bug #39825 seems to have been fixed.
1,2,3 are fixed. The problems were in deciding when to remove the Pending 
element from the tree. I've refactored the code with Tod and released the 
changes to DeferredTreeContentManager.</WithStack>
    <WithOutStack>I picked a random repository (:pserver:anonymous@cvs.sourceforge.net:/cvsroot/vrjuggler) at 
sourceforge and tried browsing it in the repositories view with background fetching turned on. I 
noticed two strange things:

1) Browsing some subdirectories (eg. "docs") of the "juggler" module in HEAD left the "Pending..." 
display visible even though the spinner was not spinning and no items were shown in the progress 
view. Could it be that if nothing is visible in the directory, the "Pending..." message is not cleaned 
up?

2) Attempting to open more than one directory at the same time (so that some jobs were "pending" 
in the progress view) and then waiting for them to complete left me in a state where one of the 
items was displaying in the CVS repositories view was displaying "Pending..." (first) followed by the 
entire list of children for that item.

3) At this point, pushing the refresh button on the view left me in a state where "Pending..." was 
displayed under HEAD but no jobs were running.

It seems like there are still serious issues with this view. We need to address these before M2 if 
possible.
I was able to duplicate these problems browsing eclipse.org. Could this be a Mac Tree problem?

If this problems occured in I20030709 then it is probably related to bug #39825,
which was fixed in I20030710.
I'm using I20030710 since a couple of hours and bug #39825 seems to have been fixed.
1,2,3 are fixed. The problems were in deciding when to remove the Pending 
element from the tree. I've refactored the code with Tod and released the 
changes to DeferredTreeContentManager.</WithOutStack>
  </Bug>
  <Bug>
    <BugId amount="39844" />
    <CreationDate amount="2003-07-10 02:30:00 -0400" />
    <DupId amount="38305" />
    <classification amount="Eclipse" />
    <Product amount="Platform" />
    <component amount="SWT" />
    <Version amount="2.1" />
    <rep_platform amount="PC" />
    <op_sys amount="Linux-GTK" />
    <priority amount="P3" />
    <bug_severity amount="critical" />
    <Summery>Eclipse crashed when I used "Open Declaration" from the Java Editor</Summery>
    <Patches amount="0" />
    <Stacktraces amount="0" />
    <SourceCodeRegions amount="0" />
    <Enumerations amount="0" />
    <bug_status amount="RESOLVED" />
    <resolution amount="DUPLICATE" />
    <WithStack>The subject says it all.
Created attachment 5412
StackTrace of the crash.

The stack trace of the exception thrown on console when the crash occurred.
Transferring to SWT for investigation.
Chandresh,

Please provide information about the version of Linux you are running and the 
version of GTK you have installed

e.g. rpm -q gtk2; rpm -q pango; rpm -q glib2; rpm -q atk

Also, please see the minimum requirements for Eclipse:

http://dev.eclipse.org/viewcvs/index.cgi/%7Echeckout%7E/platform-swt-
home/faq.html#gtkstartup


atk-1.2.0-2 
glib2-2.2.1-1 
pango-1.2.1-3 
gtk2-2.2.1-4 
freetype-2.1.3-6  


*** This bug has been marked as a duplicate of 38305 ***</WithStack>
    <WithOutStack>The subject says it all.
Created attachment 5412
StackTrace of the crash.

The stack trace of the exception thrown on console when the crash occurred.
Transferring to SWT for investigation.
Chandresh,

Please provide information about the version of Linux you are running and the 
version of GTK you have installed

e.g. rpm -q gtk2; rpm -q pango; rpm -q glib2; rpm -q atk

Also, please see the minimum requirements for Eclipse:

http://dev.eclipse.org/viewcvs/index.cgi/%7Echeckout%7E/platform-swt-
home/faq.html#gtkstartup


atk-1.2.0-2 
glib2-2.2.1-1 
pango-1.2.1-3 
gtk2-2.2.1-4 
freetype-2.1.3-6  


*** This bug has been marked as a duplicate of 38305 ***</WithOutStack>
  </Bug>
  <Bug>
    <BugId amount="39845" />
    <CreationDate amount="2003-07-10 03:24:00 -0400" />
    <DupId amount="" />
    <classification amount="Tools" />
    <Product amount="CDT" />
    <component amount="cdt-core" />
    <Version amount="1.2" />
    <rep_platform amount="PC" />
    <op_sys amount="Windows 2000" />
    <priority amount="P3" />
    <bug_severity amount="normal" />
    <Summery>Build manager caused exceptions upon startup of Eclipse</Summery>
    <Patches amount="0" />
    <Stacktraces amount="2">
      <Stacktrace timestamp="1437340746579">
        <Exception>org.eclipse.swt.SWTException</Exception>
        <Reason>Invalid thread access</Reason>
        <Frames>
          <Frame depth="0">org.eclipse.swt.SWT.error(SWT.java:2332)</Frame>
          <Frame depth="1">org.eclipse.swt.SWT.error(SWT.java:2262)</Frame>
          <Frame depth="2">org.eclipse.swt.widgets.Widget.error(Widget.java:385)</Frame>
          <Frame depth="3">org.eclipse.swt.widgets.Widget.checkWidget(Widget.java:315)</Frame>
          <Frame depth="4">org.eclipse.swt.widgets.ToolItem.setEnabled(ToolItem.java:546)</Frame>
          <Frame depth="5">org.eclipse.jface.action.StatusLine.setCanceled(StatusLine.java:361)</Frame>
          <Frame depth="6">org.eclipse.core.runtime.ProgressMonitorWrapper.setCanceled(ProgressMonitorWrapper.java:98)</Frame>
          <Frame depth="7">org.eclipse.core.runtime.ProgressMonitorWrapper.setCanceled(ProgressMonitorWrapper.java:98)</Frame>
          <Frame depth="8">org.eclipse.core.runtime.ProgressMonitorWrapper.setCanceled(ProgressMonitorWrapper.java:98)</Frame>
          <Frame depth="9">org.eclipse.core.runtime.ProgressMonitorWrapper.setCanceled(ProgressMonitorWrapper.java:98)</Frame>
          <Frame depth="10">org.eclipse.cdt.internal.core.CBuilder.invokeMake(CBuilder.java:161)</Frame>
          <Frame depth="11">org.eclipse.cdt.internal.core.CBuilder.build(CBuilder.java:85)</Frame>
          <Frame depth="12">org.eclipse.core.internal.events.BuildManager$2.run(BuildManager.java:427)</Frame>
          <Frame depth="13">org.eclipse.core.internal.runtime.InternalPlatform.run(InternalPlatform.java:889)</Frame>
          <Frame depth="14">org.eclipse.core.runtime.Platform.run(Platform.java:413)</Frame>
          <Frame depth="15">org.eclipse.core.internal.events.BuildManager.basicBuild(BuildManager.java:125)</Frame>
          <Frame depth="16">org.eclipse.core.internal.events.BuildManager.basicBuild(BuildManager.java:181)</Frame>
          <Frame depth="17">org.eclipse.core.internal.events.BuildManager.basicBuild(BuildManager.java:191)</Frame>
          <Frame depth="18">org.eclipse.core.internal.events.BuildManager$1.run(BuildManager.java:151)</Frame>
          <Frame depth="19">org.eclipse.core.internal.runtime.InternalPlatform.run(InternalPlatform.java:889)</Frame>
          <Frame depth="20">org.eclipse.core.runtime.Platform.run(Platform.java:413)</Frame>
          <Frame depth="21">org.eclipse.core.internal.events.BuildManager.basicBuild(BuildManager.java:165)</Frame>
          <Frame depth="22">org.eclipse.core.internal.events.BuildManager.basicBuildLoop(BuildManager.java:243)</Frame>
          <Frame depth="23">org.eclipse.core.internal.events.BuildManager.build(BuildManager.java:212)</Frame>
          <Frame depth="24">org.eclipse.core.internal.resources.Workspace.endOperation(Workspace.java:884)</Frame>
          <Frame depth="25">org.eclipse.core.internal.resources.Workspace.run(Workspace.java:1600)</Frame>
          <Frame depth="26">org.eclipse.ui.actions.WorkspaceModifyOperation.run(WorkspaceModifyOperation.java:85)</Frame>
          <Frame depth="27">org.eclipse.jface.operation.ModalContext$ModalContextThread.run(ModalContext.java:101)</Frame>
        </Frames>
      </Stacktrace>
      <Stacktrace timestamp="1437340746579">
        <Exception>org.eclipse.swt.SWTException</Exception>
        <Reason>Invalid thread access</Reason>
        <Frames>
          <Frame depth="0">org.eclipse.swt.SWT.error(SWT.java:2332)</Frame>
          <Frame depth="1">org.eclipse.swt.SWT.error(SWT.java:2262)</Frame>
          <Frame depth="2">org.eclipse.swt.widgets.Widget.error(Widget.java:385)</Frame>
          <Frame depth="3">org.eclipse.swt.widgets.Widget.checkWidget(Widget.java:315)</Frame>
          <Frame depth="4">org.eclipse.swt.widgets.ToolItem.setEnabled(ToolItem.java:546)</Frame>
          <Frame depth="5">org.eclipse.jface.action.StatusLine.setCanceled(StatusLine.java:361)</Frame>
          <Frame depth="6">org.eclipse.core.runtime.ProgressMonitorWrapper.setCanceled(ProgressMonitorWrapper.java:98)</Frame>
          <Frame depth="7">org.eclipse.core.runtime.ProgressMonitorWrapper.setCanceled(ProgressMonitorWrapper.java:98)</Frame>
          <Frame depth="8">org.eclipse.core.runtime.ProgressMonitorWrapper.setCanceled(ProgressMonitorWrapper.java:98)</Frame>
          <Frame depth="9">org.eclipse.core.runtime.ProgressMonitorWrapper.setCanceled(ProgressMonitorWrapper.java:98)</Frame>
          <Frame depth="10">org.eclipse.cdt.internal.core.CBuilder.invokeMake(CBuilder.java:161)</Frame>
          <Frame depth="11">org.eclipse.cdt.internal.core.CBuilder.build(CBuilder.java:85)</Frame>
          <Frame depth="12">org.eclipse.core.internal.events.BuildManager$2.run(BuildManager.java:427)</Frame>
          <Frame depth="13">org.eclipse.core.internal.runtime.InternalPlatform.run(InternalPlatform.java:889)</Frame>
          <Frame depth="14">org.eclipse.core.runtime.Platform.run(Platform.java:413)</Frame>
          <Frame depth="15">org.eclipse.core.internal.events.BuildManager.basicBuild(BuildManager.java:125)</Frame>
          <Frame depth="16">org.eclipse.core.internal.events.BuildManager.basicBuild(BuildManager.java:181)</Frame>
          <Frame depth="17">org.eclipse.core.internal.events.BuildManager.basicBuild(BuildManager.java:191)</Frame>
          <Frame depth="18">org.eclipse.core.internal.events.BuildManager$1.run(BuildManager.java:151)</Frame>
          <Frame depth="19">org.eclipse.core.internal.runtime.InternalPlatform.run(InternalPlatform.java:889)</Frame>
          <Frame depth="20">org.eclipse.core.runtime.Platform.run(Platform.java:413)</Frame>
          <Frame depth="21">org.eclipse.core.internal.events.BuildManager.basicBuild(BuildManager.java:165)</Frame>
          <Frame depth="22">org.eclipse.core.internal.events.BuildManager.basicBuildLoop(BuildManager.java:243)</Frame>
          <Frame depth="23">org.eclipse.core.internal.events.BuildManager.build(BuildManager.java:212)</Frame>
          <Frame depth="24">org.eclipse.core.internal.resources.Workspace.endOperation(Workspace.java:884)</Frame>
          <Frame depth="25">org.eclipse.core.internal.resources.Workspace.run(Workspace.java:1600)</Frame>
          <Frame depth="26">org.eclipse.ui.actions.WorkspaceModifyOperation.run(WorkspaceModifyOperation.java:85)</Frame>
          <Frame depth="27">org.eclipse.jface.operation.ModalContext$ModalContextThread.run(ModalContext.java:101)</Frame>
        </Frames>
      </Stacktrace>
    </Stacktraces>
    <SourceCodeRegions amount="0" />
    <Enumerations amount="1">
      <Enumeration lines="4">
        <Lines>
          <Line>- I rebooted my machine</Line>
          <Line>- I launched Eclipse</Line>
          <Line>- The build started immediately</Line>
          <Line>- Exceptions in log:</Line>
        </Lines>
      </Enumeration>
    </Enumerations>
    <bug_status amount="RESOLVED" />
    <resolution amount="FIXED" />
    <WithStack>- I rebooted my machine
- I launched Eclipse
- The build started immediately 
- Exceptions in log:

!SESSION jul 10, 2003 09:16:35.386 ---------------------------------------------
java.version=1.4.1_01
java.vendor=Sun Microsystems Inc.
BootLoader constants: OS=win32, ARCH=x86, WS=win32, NL=no_NO
Command-line arguments: -os win32 -ws win32 -arch x86 -debug 
file://c:/e21/options -consolelog -install file:C:/e21/
!ENTRY org.eclipse.cdt.core 4 4 jul 10, 2003 09:16:35.386
!MESSAGE Error
!STACK 0
org.eclipse.swt.SWTException: Invalid thread access
	at org.eclipse.swt.SWT.error(SWT.java:2332)
	at org.eclipse.swt.SWT.error(SWT.java:2262)
	at org.eclipse.swt.widgets.Widget.error(Widget.java:385)
	at org.eclipse.swt.widgets.Widget.checkWidget(Widget.java:315)
	at org.eclipse.swt.widgets.ToolItem.setEnabled(ToolItem.java:546)
	at org.eclipse.jface.action.StatusLine.setCanceled(StatusLine.java:361)
	at org.eclipse.core.runtime.ProgressMonitorWrapper.setCanceled
(ProgressMonitorWrapper.java:98)
	at org.eclipse.core.runtime.ProgressMonitorWrapper.setCanceled
(ProgressMonitorWrapper.java:98)
	at org.eclipse.core.runtime.ProgressMonitorWrapper.setCanceled
(ProgressMonitorWrapper.java:98)
	at org.eclipse.core.runtime.ProgressMonitorWrapper.setCanceled
(ProgressMonitorWrapper.java:98)
	at org.eclipse.cdt.internal.core.CBuilder.invokeMake(CBuilder.java:161)
	at org.eclipse.cdt.internal.core.CBuilder.build(CBuilder.java:85)
	at org.eclipse.core.internal.events.BuildManager$2.run
(BuildManager.java:427)
	at org.eclipse.core.internal.runtime.InternalPlatform.run
(InternalPlatform.java:889)
	at org.eclipse.core.runtime.Platform.run(Platform.java:413)
	at org.eclipse.core.internal.events.BuildManager.basicBuild
(BuildManager.java:125)
	at org.eclipse.core.internal.events.BuildManager.basicBuild
(BuildManager.java:181)
	at org.eclipse.core.internal.events.BuildManager.basicBuild
(BuildManager.java:191)
	at org.eclipse.core.internal.events.BuildManager$1.run
(BuildManager.java:151)
	at org.eclipse.core.internal.runtime.InternalPlatform.run
(InternalPlatform.java:889)
	at org.eclipse.core.runtime.Platform.run(Platform.java:413)
	at org.eclipse.core.internal.events.BuildManager.basicBuild
(BuildManager.java:165)
	at org.eclipse.core.internal.events.BuildManager.basicBuildLoop
(BuildManager.java:243)
	at org.eclipse.core.internal.events.BuildManager.build
(BuildManager.java:212)
	at org.eclipse.core.internal.resources.Workspace.endOperation
(Workspace.java:884)
	at org.eclipse.core.internal.resources.Workspace.run
(Workspace.java:1600)
	at org.eclipse.ui.actions.WorkspaceModifyOperation.run
(WorkspaceModifyOperation.java:85)
	at org.eclipse.jface.operation.ModalContext$ModalContextThread.run
(ModalContext.java:101)
!ENTRY org.eclipse.cdt.core 4 4 jul 10, 2003 09:16:35.806
!MESSAGE Error
!STACK 0
org.eclipse.swt.SWTException: Invalid thread access
	at org.eclipse.swt.SWT.error(SWT.java:2332)
	at org.eclipse.swt.SWT.error(SWT.java:2262)
	at org.eclipse.swt.widgets.Widget.error(Widget.java:385)
	at org.eclipse.swt.widgets.Widget.checkWidget(Widget.java:315)
	at org.eclipse.swt.widgets.ToolItem.setEnabled(ToolItem.java:546)
	at org.eclipse.jface.action.StatusLine.setCanceled(StatusLine.java:361)
	at org.eclipse.core.runtime.ProgressMonitorWrapper.setCanceled
(ProgressMonitorWrapper.java:98)
	at org.eclipse.core.runtime.ProgressMonitorWrapper.setCanceled
(ProgressMonitorWrapper.java:98)
	at org.eclipse.core.runtime.ProgressMonitorWrapper.setCanceled
(ProgressMonitorWrapper.java:98)
	at org.eclipse.core.runtime.ProgressMonitorWrapper.setCanceled
(ProgressMonitorWrapper.java:98)
	at org.eclipse.cdt.internal.core.CBuilder.invokeMake(CBuilder.java:161)
	at org.eclipse.cdt.internal.core.CBuilder.build(CBuilder.java:85)
	at org.eclipse.core.internal.events.BuildManager$2.run
(BuildManager.java:427)
	at org.eclipse.core.internal.runtime.InternalPlatform.run
(InternalPlatform.java:889)
	at org.eclipse.core.runtime.Platform.run(Platform.java:413)
	at org.eclipse.core.internal.events.BuildManager.basicBuild
(BuildManager.java:125)
	at org.eclipse.core.internal.events.BuildManager.basicBuild
(BuildManager.java:181)
	at org.eclipse.core.internal.events.BuildManager.basicBuild
(BuildManager.java:191)
	at org.eclipse.core.internal.events.BuildManager$1.run
(BuildManager.java:151)
	at org.eclipse.core.internal.runtime.InternalPlatform.run
(InternalPlatform.java:889)
	at org.eclipse.core.runtime.Platform.run(Platform.java:413)
	at org.eclipse.core.internal.events.BuildManager.basicBuild
(BuildManager.java:165)
	at org.eclipse.core.internal.events.BuildManager.basicBuildLoop
(BuildManager.java:243)
	at org.eclipse.core.internal.events.BuildManager.build
(BuildManager.java:212)
	at org.eclipse.core.internal.resources.Workspace.endOperation
(Workspace.java:884)
	at org.eclipse.core.internal.resources.Workspace.run
(Workspace.java:1600)
	at org.eclipse.ui.actions.WorkspaceModifyOperation.run
(WorkspaceModifyOperation.java:85)
	at org.eclipse.jface.operation.ModalContext$ModalContextThread.run
(ModalContext.java:101)
This was an old bug, I think that Sean did fix.
Reassign to him.

0yvind is this still happening with Sean new fixes ?
&gt;This was an old bug, I think that Sean did fix.
&gt;Reassign to him.
&gt;
&gt;0yvind is this still happening with Sean new fixes ?

I haven't seen it in a while(running CDT 1.2.0.9).

Øyvind

I believe this bug has been fixed for some time.</WithStack>
    <WithOutStack>- I rebooted my machine
- I launched Eclipse
- The build started immediately 
- Exceptions in log:

!SESSION jul 10, 2003 09:16:35.386 ---------------------------------------------
java.version=1.4.1_01
java.vendor=Sun Microsystems Inc.
BootLoader constants: OS=win32, ARCH=x86, WS=win32, NL=no_NO
Command-line arguments: -os win32 -ws win32 -arch x86 -debug 
file://c:/e21/options -consolelog -install file:C:/e21/
!ENTRY org.eclipse.cdt.core 4 4 jul 10, 2003 09:16:35.386
!MESSAGE Error
!STACK 0
!ENTRY org.eclipse.cdt.core 4 4 jul 10, 2003 09:16:35.806
!MESSAGE Error
!STACK 0

This was an old bug, I think that Sean did fix.
Reassign to him.

0yvind is this still happening with Sean new fixes ?
&gt;This was an old bug, I think that Sean did fix.
&gt;Reassign to him.
&gt;
&gt;0yvind is this still happening with Sean new fixes ?

I haven't seen it in a while(running CDT 1.2.0.9).

Øyvind

I believe this bug has been fixed for some time.</WithOutStack>
  </Bug>
  <Bug>
    <BugId amount="39846" />
    <CreationDate amount="2003-07-10 03:37:00 -0400" />
    <DupId amount="" />
    <classification amount="Eclipse" />
    <Product amount="Platform" />
    <component amount="Resources" />
    <Version amount="3.0" />
    <rep_platform amount="PC" />
    <op_sys amount="Windows XP" />
    <priority amount="P3" />
    <bug_severity amount="normal" />
    <Summery>Eclipse hangs on startup</Summery>
    <Patches amount="0" />
    <Stacktraces amount="0" />
    <SourceCodeRegions amount="0" />
    <Enumerations amount="0" />
    <bug_status amount="RESOLVED" />
    <resolution amount="WORKSFORME" />
    <WithStack>Eclipse 3.0 I20030611 / I20030709

Trying to start Eclipse this morning, the splash screen appears, then nothing 
happens (with java.exe taking 98% cpu time). Updating to the latests 
integration build made no difference. Pressing Ctrl-C in the Java console 
shows the following stack trace for the "main" thread:

        at 
org.eclipse.core.internal.localstore.CoreFileSystemLibrary.internalGe
tStatW(Native Method)
        at org.eclipse.core.internal.localstore.CoreFileSystemLibrary.getStat
(CoreFileSystemLibrary.java:77)
        at 
org.eclipse.core.internal.localstore.UnifiedTree.createChildNodeFromF
ileSystem(UnifiedTree.java:222)
        at 
org.eclipse.core.internal.localstore.UnifiedTree.addChildrenFromFileS
ystem(UnifiedTree.java:161)
        at org.eclipse.core.internal.localstore.UnifiedTree.addChildren
(UnifiedTree.java:135)
        at 
org.eclipse.core.internal.localstore.UnifiedTree.addNodeChildrenToQue
ue(UnifiedTree.java:193)
        at org.eclipse.core.internal.localstore.UnifiedTree.accept
(UnifiedTree.java:72)
        at 
org.eclipse.core.internal.localstore.FileSystemResourceManager.refres
hResource(FileSystemResourceManager.java:513)
        at 
org.eclipse.core.internal.localstore.FileSystemResourceManager.refres
h(FileSystemResourceManager.java:499)
        at 
org.eclipse.core.internal.localstore.RefreshLocalAliasVisitor.refresh
(RefreshLocalAliasVisitor.java:72)
        at 
org.eclipse.core.internal.localstore.RefreshLocalVisitor.synchronizeE
xistence(RefreshLocalVisitor.java:182)
        at org.eclipse.core.internal.localstore.RefreshLocalVisitor.visit
(RefreshLocalVisitor.java:263)
        [...]
Are you sure it is hung?  If you crashed the previous session, then we refresh
the entire workspace against the filesystem on startup.  This is what the stack
activity in your comment in showing.  This is normal, but it shouldn't take that
long.  How long did you wait?  Did CPU remain consistently high?
I know that you refresh after a crash. However, my sources are stored outside the workspace, so 
there isn't that much to refresh (and it performed much better of previous crashes). 

My eclipse just shows the splash; I waited about 15 minutes (with 98% processor load), then 
aborting.

I still have the workspace. If you like, I can perform some tests...
Closing, this was never reproduced.</WithStack>
    <WithOutStack>Eclipse 3.0 I20030611 / I20030709

Trying to start Eclipse this morning, the splash screen appears, then nothing 
happens (with java.exe taking 98% cpu time). Updating to the latests 
integration build made no difference. Pressing Ctrl-C in the Java console 
shows the following stack trace for the "main" thread:

        at 
org.eclipse.core.internal.localstore.CoreFileSystemLibrary.internalGe
tStatW(Native Method)
        at org.eclipse.core.internal.localstore.CoreFileSystemLibrary.getStat
(CoreFileSystemLibrary.java:77)
        at 
org.eclipse.core.internal.localstore.UnifiedTree.createChildNodeFromF
ileSystem(UnifiedTree.java:222)
        at 
org.eclipse.core.internal.localstore.UnifiedTree.addChildrenFromFileS
ystem(UnifiedTree.java:161)
        at org.eclipse.core.internal.localstore.UnifiedTree.addChildren
(UnifiedTree.java:135)
        at 
org.eclipse.core.internal.localstore.UnifiedTree.addNodeChildrenToQue
ue(UnifiedTree.java:193)
        at org.eclipse.core.internal.localstore.UnifiedTree.accept
(UnifiedTree.java:72)
        at 
org.eclipse.core.internal.localstore.FileSystemResourceManager.refres
hResource(FileSystemResourceManager.java:513)
        at 
org.eclipse.core.internal.localstore.FileSystemResourceManager.refres
h(FileSystemResourceManager.java:499)
        at 
org.eclipse.core.internal.localstore.RefreshLocalAliasVisitor.refresh
(RefreshLocalAliasVisitor.java:72)
        at 
org.eclipse.core.internal.localstore.RefreshLocalVisitor.synchronizeE
xistence(RefreshLocalVisitor.java:182)
        at org.eclipse.core.internal.localstore.RefreshLocalVisitor.visit
(RefreshLocalVisitor.java:263)
        [...]
Are you sure it is hung?  If you crashed the previous session, then we refresh
the entire workspace against the filesystem on startup.  This is what the stack
activity in your comment in showing.  This is normal, but it shouldn't take that
long.  How long did you wait?  Did CPU remain consistently high?
I know that you refresh after a crash. However, my sources are stored outside the workspace, so 
there isn't that much to refresh (and it performed much better of previous crashes). 

My eclipse just shows the splash; I waited about 15 minutes (with 98% processor load), then 
aborting.

I still have the workspace. If you like, I can perform some tests...
Closing, this was never reproduced.</WithOutStack>
  </Bug>
  <Bug>
    <BugId amount="39847" />
    <CreationDate amount="2003-07-10 03:38:00 -0400" />
    <DupId amount="" />
    <classification amount="Tools" />
    <Product amount="CDT" />
    <component amount="cdt-core" />
    <Version amount="1.2" />
    <rep_platform amount="PC" />
    <op_sys amount="Windows 2000" />
    <priority amount="P3" />
    <bug_severity amount="normal" />
    <Summery>Exception found in log</Summery>
    <Patches amount="0" />
    <Stacktraces amount="1">
      <Stacktrace timestamp="1437340746589">
        <Exception>java.lang.StringIndexOutOfBoundsException</Exception>
        <Reason>String index out of range: 1</Reason>
        <Frames>
          <Frame depth="0">java.lang.String.charAt(String.java:460)</Frame>
          <Frame depth="1">org.eclipse.cdt.internal.ui.editor.CMarkerAnnotation.&lt;init&gt;(CMarkerAnnotation.java:50)</Frame>
          <Frame depth="2">org.eclipse.cdt.internal.ui.editor.CMarkerAnnotationModel.createMarkerAnnotation(CMarkerAnnotationModel.java:28)</Frame>
          <Frame depth="3">org.eclipse.ui.texteditor.AbstractMarkerAnnotationModel.addMarkerAnnotation(AbstractMarkerAnnotationModel.java:218)</Frame>
          <Frame depth="4">org.eclipse.ui.texteditor.ResourceMarkerAnnotationModel.update(ResourceMarkerAnnotationModel.java:121)</Frame>
          <Frame depth="5">org.eclipse.ui.texteditor.ResourceMarkerAnnotationModel$ResourceDeltaVisitor.visit(ResourceMarkerAnnotationModel.java:71)</Frame>
          <Frame depth="6">org.eclipse.core.internal.events.ResourceDelta.accept(ResourceDelta.java:71)</Frame>
          <Frame depth="7">org.eclipse.core.internal.events.ResourceDelta.accept(ResourceDelta.java:79)</Frame>
          <Frame depth="8">org.eclipse.core.internal.events.ResourceDelta.accept(ResourceDelta.java:79)</Frame>
          <Frame depth="9">org.eclipse.core.internal.events.ResourceDelta.accept(ResourceDelta.java:79)</Frame>
          <Frame depth="10">org.eclipse.core.internal.events.ResourceDelta.accept(ResourceDelta.java:52)</Frame>
          <Frame depth="11">org.eclipse.ui.texteditor.ResourceMarkerAnnotationModel$ResourceChangeListener.resourceChanged(ResourceMarkerAnnotationModel.java:53)</Frame>
          <Frame depth="12">org.eclipse.core.internal.events.NotificationManager$1.run(NotificationManager.java:137)</Frame>
          <Frame depth="13">org.eclipse.core.internal.runtime.InternalPlatform.run(InternalPlatform.java:889)</Frame>
          <Frame depth="14">org.eclipse.core.runtime.Platform.run(Platform.java:413)</Frame>
          <Frame depth="15">org.eclipse.core.internal.events.NotificationManager.notify(NotificationManager.java:152)</Frame>
          <Frame depth="16">org.eclipse.core.internal.events.NotificationManager.broadcastChanges(NotificationManager.java:67)</Frame>
          <Frame depth="17">org.eclipse.core.internal.resources.Workspace.broadcastChanges(Workspace.java:161)</Frame>
          <Frame depth="18">org.eclipse.core.internal.resources.Workspace.endOperation(Workspace.java:892)</Frame>
          <Frame depth="19">org.eclipse.core.internal.resources.Workspace.run(Workspace.java:1600)</Frame>
          <Frame depth="20">org.eclipse.ui.internal.EditorManager$10.run(EditorManager.java:1038)</Frame>
          <Frame depth="21">org.eclipse.ui.internal.EditorManager$8.run(EditorManager.java:960)</Frame>
          <Frame depth="22">org.eclipse.jface.operation.ModalContext.runInCurrentThread(ModalContext.java:302)</Frame>
          <Frame depth="23">org.eclipse.jface.operation.ModalContext.run(ModalContext.java:252)</Frame>
          <Frame depth="24">org.eclipse.jface.window.ApplicationWindow$1.run(ApplicationWindow.java:431)</Frame>
          <Frame depth="25">org.eclipse.swt.custom.BusyIndicator.showWhile(BusyIndicator.java:69)</Frame>
          <Frame depth="26">org.eclipse.jface.window.ApplicationWindow.run(ApplicationWindow.java:428)</Frame>
          <Frame depth="27">org.eclipse.ui.internal.WorkbenchWindow.run(WorkbenchWindow.java:1385)</Frame>
          <Frame depth="28">org.eclipse.ui.internal.EditorManager.runProgressMonitorOperation(EditorManager.java:966)</Frame>
          <Frame depth="29">org.eclipse.ui.internal.EditorManager.saveAll(EditorManager.java:1052)</Frame>
          <Frame depth="30">org.eclipse.ui.internal.EditorManager.saveAll(EditorManager.java:991)</Frame>
          <Frame depth="31">org.eclipse.ui.internal.WorkbenchPage.saveAllEditors(WorkbenchPage.java:2346)</Frame>
          <Frame depth="32">org.eclipse.ui.internal.SaveAllAction.run(SaveAllAction.java:101)</Frame>
          <Frame depth="33">org.eclipse.jface.action.Action.runWithEvent(Action.java:842)</Frame>
          <Frame depth="34">org.eclipse.jface.action.ActionContributionItem.handleWidgetSelection(ActionContributionItem.java:456)</Frame>
          <Frame depth="35">org.eclipse.jface.action.ActionContributionItem.handleWidgetEvent(ActionContributionItem.java:403)</Frame>
          <Frame depth="36">org.eclipse.jface.action.ActionContributionItem.access$0(ActionContributionItem.java:397)</Frame>
          <Frame depth="37">org.eclipse.jface.action.ActionContributionItem$ActionListener.handleEvent(ActionContributionItem.java:72)</Frame>
          <Frame depth="38">org.eclipse.swt.widgets.EventTable.sendEvent(EventTable.java:81)</Frame>
          <Frame depth="39">org.eclipse.swt.widgets.Widget.sendEvent(Widget.java:840)</Frame>
          <Frame depth="40">org.eclipse.swt.widgets.Display.runDeferredEvents(Display.java:1838)</Frame>
          <Frame depth="41">org.eclipse.swt.widgets.Display.readAndDispatch(Display.java:1545)</Frame>
          <Frame depth="42">org.eclipse.ui.internal.Workbench.runEventLoop(Workbench.java:1402)</Frame>
          <Frame depth="43">org.eclipse.ui.internal.Workbench.run(Workbench.java:1385)</Frame>
          <Frame depth="44">org.eclipse.core.internal.boot.InternalBootLoader.run(InternalBootLoader.java:845)</Frame>
          <Frame depth="45">org.eclipse.core.boot.BootLoader.run(BootLoader.java:461)</Frame>
          <Frame depth="46">sun.reflect.NativeMethodAccessorImpl.invoke0(Native Method)</Frame>
          <Frame depth="47">sun.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:39)</Frame>
          <Frame depth="48">sun.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:25)</Frame>
          <Frame depth="49">java.lang.reflect.Method.invoke(Method.java:324)</Frame>
          <Frame depth="50">org.eclipse.core.launcher.Main.basicRun(Main.java:291)</Frame>
          <Frame depth="51">org.eclipse.core.launcher.Main.run(Main.java:747)</Frame>
          <Frame depth="52">org.eclipse.core.launcher.Main.main(Main.java:583)</Frame>
        </Frames>
      </Stacktrace>
    </Stacktraces>
    <SourceCodeRegions amount="0" />
    <Enumerations amount="0" />
    <bug_status amount="RESOLVED" />
    <resolution amount="FIXED" />
    <WithStack>While trying to track down why debugging stopped working, I discovered this 
exception in the log, but from an unrelated session.

Reporting it in case it is useful, close bug report otherwise.

!SESSION jul 09, 2003 14:00:49.997 ---------------------------------------------
java.version=1.4.1_01
java.vendor=Sun Microsystems Inc.
BootLoader constants: OS=win32, ARCH=x86, WS=win32, NL=no_NO
Command-line arguments: -os win32 -ws win32 -arch x86 -debug 
file://c:/e21/options -consolelog -install file:C:/e21/
!ENTRY org.eclipse.core.resources 4 368 jul 09, 2003 14:00:49.997
!MESSAGE Resource /firmware/unit/RimiUnitBase.h does not exist.
!ENTRY org.eclipse.core.resources 4 2 jul 09, 2003 14:21:55.231
!MESSAGE Problems occurred when invoking code from plug-
in: "org.eclipse.core.resources".
!STACK 0
java.lang.StringIndexOutOfBoundsException: String index out of range: 1
	at java.lang.String.charAt(String.java:460)
	at org.eclipse.cdt.internal.ui.editor.CMarkerAnnotation.&lt;init&gt;
(CMarkerAnnotation.java:50)
	at 
org.eclipse.cdt.internal.ui.editor.CMarkerAnnotationModel.createMarkerAnnotation
(CMarkerAnnotationModel.java:28)
	at 
org.eclipse.ui.texteditor.AbstractMarkerAnnotationModel.addMarkerAnnotation
(AbstractMarkerAnnotationModel.java:218)
	at org.eclipse.ui.texteditor.ResourceMarkerAnnotationModel.update
(ResourceMarkerAnnotationModel.java:121)
	at 
org.eclipse.ui.texteditor.ResourceMarkerAnnotationModel$ResourceDeltaVisitor.vis
it(ResourceMarkerAnnotationModel.java:71)
	at org.eclipse.core.internal.events.ResourceDelta.accept
(ResourceDelta.java:71)
	at org.eclipse.core.internal.events.ResourceDelta.accept
(ResourceDelta.java:79)
	at org.eclipse.core.internal.events.ResourceDelta.accept
(ResourceDelta.java:79)
	at org.eclipse.core.internal.events.ResourceDelta.accept
(ResourceDelta.java:79)
	at org.eclipse.core.internal.events.ResourceDelta.accept
(ResourceDelta.java:52)
	at 
org.eclipse.ui.texteditor.ResourceMarkerAnnotationModel$ResourceChangeListener.r
esourceChanged(ResourceMarkerAnnotationModel.java:53)
	at org.eclipse.core.internal.events.NotificationManager$1.run
(NotificationManager.java:137)
	at org.eclipse.core.internal.runtime.InternalPlatform.run
(InternalPlatform.java:889)
	at org.eclipse.core.runtime.Platform.run(Platform.java:413)
	at org.eclipse.core.internal.events.NotificationManager.notify
(NotificationManager.java:152)
	at org.eclipse.core.internal.events.NotificationManager.broadcastChanges
(NotificationManager.java:67)
	at org.eclipse.core.internal.resources.Workspace.broadcastChanges
(Workspace.java:161)
	at org.eclipse.core.internal.resources.Workspace.endOperation
(Workspace.java:892)
	at org.eclipse.core.internal.resources.Workspace.run
(Workspace.java:1600)
	at org.eclipse.ui.internal.EditorManager$10.run(EditorManager.java:1038)
	at org.eclipse.ui.internal.EditorManager$8.run(EditorManager.java:960)
	at org.eclipse.jface.operation.ModalContext.runInCurrentThread
(ModalContext.java:302)
	at org.eclipse.jface.operation.ModalContext.run(ModalContext.java:252)
	at org.eclipse.jface.window.ApplicationWindow$1.run
(ApplicationWindow.java:431)
	at org.eclipse.swt.custom.BusyIndicator.showWhile(BusyIndicator.java:69)
	at org.eclipse.jface.window.ApplicationWindow.run
(ApplicationWindow.java:428)
	at org.eclipse.ui.internal.WorkbenchWindow.run
(WorkbenchWindow.java:1385)
	at org.eclipse.ui.internal.EditorManager.runProgressMonitorOperation
(EditorManager.java:966)
	at org.eclipse.ui.internal.EditorManager.saveAll
(EditorManager.java:1052)
	at org.eclipse.ui.internal.EditorManager.saveAll(EditorManager.java:991)
	at org.eclipse.ui.internal.WorkbenchPage.saveAllEditors
(WorkbenchPage.java:2346)
	at org.eclipse.ui.internal.SaveAllAction.run(SaveAllAction.java:101)
	at org.eclipse.jface.action.Action.runWithEvent(Action.java:842)
	at org.eclipse.jface.action.ActionContributionItem.handleWidgetSelection
(ActionContributionItem.java:456)
	at org.eclipse.jface.action.ActionContributionItem.handleWidgetEvent
(ActionContributionItem.java:403)
	at org.eclipse.jface.action.ActionContributionItem.access$0
(ActionContributionItem.java:397)
	at 
org.eclipse.jface.action.ActionContributionItem$ActionListener.handleEvent
(ActionContributionItem.java:72)
	at org.eclipse.swt.widgets.EventTable.sendEvent(EventTable.java:81)
	at org.eclipse.swt.widgets.Widget.sendEvent(Widget.java:840)
	at org.eclipse.swt.widgets.Display.runDeferredEvents(Display.java:1838)
	at org.eclipse.swt.widgets.Display.readAndDispatch(Display.java:1545)
	at org.eclipse.ui.internal.Workbench.runEventLoop(Workbench.java:1402)
	at org.eclipse.ui.internal.Workbench.run(Workbench.java:1385)
	at org.eclipse.core.internal.boot.InternalBootLoader.run
(InternalBootLoader.java:845)
	at org.eclipse.core.boot.BootLoader.run(BootLoader.java:461)
	at sun.reflect.NativeMethodAccessorImpl.invoke0(Native Method)
	at sun.reflect.NativeMethodAccessorImpl.invoke
(NativeMethodAccessorImpl.java:39)
	at sun.reflect.DelegatingMethodAccessorImpl.invoke
(DelegatingMethodAccessorImpl.java:25)
	at java.lang.reflect.Method.invoke(Method.java:324)
	at org.eclipse.core.launcher.Main.basicRun(Main.java:291)
	at org.eclipse.core.launcher.Main.run(Main.java:747)
	at org.eclipse.core.launcher.Main.main(Main.java:583)
!SESSION jul 10, 2003 09:16:35.386 ---------------------------------------------
Thanks this is now fix</WithStack>
    <WithOutStack>While trying to track down why debugging stopped working, I discovered this 
exception in the log, but from an unrelated session.

Reporting it in case it is useful, close bug report otherwise.

!SESSION jul 09, 2003 14:00:49.997 ---------------------------------------------
java.version=1.4.1_01
java.vendor=Sun Microsystems Inc.
BootLoader constants: OS=win32, ARCH=x86, WS=win32, NL=no_NO
Command-line arguments: -os win32 -ws win32 -arch x86 -debug 
file://c:/e21/options -consolelog -install file:C:/e21/
!ENTRY org.eclipse.core.resources 4 368 jul 09, 2003 14:00:49.997
!MESSAGE Resource /firmware/unit/RimiUnitBase.h does not exist.
!ENTRY org.eclipse.core.resources 4 2 jul 09, 2003 14:21:55.231
!MESSAGE Problems occurred when invoking code from plug-
in: "org.eclipse.core.resources".
!STACK 0

!SESSION jul 10, 2003 09:16:35.386 ---------------------------------------------
Thanks this is now fix</WithOutStack>
  </Bug>
  <Bug>
    <BugId amount="39848" />
    <CreationDate amount="2003-07-10 03:39:00 -0400" />
    <DupId amount="" />
    <classification amount="Tools" />
    <Product amount="CDT" />
    <component amount="cdt-debug" />
    <Version amount="1.2" />
    <rep_platform amount="PC" />
    <op_sys amount="Windows 2000" />
    <priority amount="P3" />
    <bug_severity amount="normal" />
    <Summery>CDT debug session gets stuck when talking to dead target</Summery>
    <Patches amount="0" />
    <Stacktraces amount="0" />
    <SourceCodeRegions amount="0" />
    <Enumerations amount="2">
      <Enumeration lines="2">
        <Lines>
          <Line>- My (embedded) target  crashed unbeknownst to me</Line>
          <Line>- I tried to attach to it using "GDB server" and the following .gdbinit</Line>
        </Lines>
      </Enumeration>
      <Enumeration lines="4">
        <Lines>
          <Line>- "GDB server" launch failed</Line>
          <Line>- The arm-elf-gdb process is "stuck" and I can't terminate the debug session</Line>
          <Line>from within CDT.</Line>
          <Line>- Kill arm-elf-gdb process via Task Manager to regain control of GUI.</Line>
        </Lines>
      </Enumeration>
    </Enumerations>
    <bug_status amount="CLOSED" />
    <resolution amount="FIXED" />
    <WithStack>- My (embedded) target  crashed unbeknownst to me
- I tried to attach to it using "GDB server" and the following .gdbinit

set remotebaud 38400
target remote com1
load

- "GDB server" launch failed
- The arm-elf-gdb process is "stuck" and I can't terminate the debug session 
from within CDT.
- Kill arm-elf-gdb process via Task Manager to regain control of GUI.


I'll attach some logging info.

Øyvind
Created attachment 5413
GDB debug log
Is this the same situation as in PR 39735?
&gt;Is this the same situation as in PR 39735?

No.

This bug-report is about GDB itself being stuck.

Øyvind

PR was targeted to the 2.0 release but not resolved, moving target to 2.1
Øyvind, can you try this? The way the session is terminating has been changed 
since you submitted this bug.
I frequently have to terminate the GDB process to unlock CDT.

I don't think it is realistic to expect GDB never to freeze up. Could CDT be 
changed to rudely terminate the GDB process(by default) if it does not respond 
to a polite terminate request within, say, 5 seconds?

Øyvind

Don't remember which PR this is a duplicate of.
Closing.</WithStack>
    <WithOutStack>- My (embedded) target  crashed unbeknownst to me
- I tried to attach to it using "GDB server" and the following .gdbinit

set remotebaud 38400
target remote com1
load

- "GDB server" launch failed
- The arm-elf-gdb process is "stuck" and I can't terminate the debug session 
from within CDT.
- Kill arm-elf-gdb process via Task Manager to regain control of GUI.


I'll attach some logging info.

Øyvind
Created attachment 5413
GDB debug log
Is this the same situation as in PR 39735?
&gt;Is this the same situation as in PR 39735?

No.

This bug-report is about GDB itself being stuck.

Øyvind

PR was targeted to the 2.0 release but not resolved, moving target to 2.1
Øyvind, can you try this? The way the session is terminating has been changed 
since you submitted this bug.
I frequently have to terminate the GDB process to unlock CDT.

I don't think it is realistic to expect GDB never to freeze up. Could CDT be 
changed to rudely terminate the GDB process(by default) if it does not respond 
to a polite terminate request within, say, 5 seconds?

Øyvind

Don't remember which PR this is a duplicate of.
Closing.</WithOutStack>
  </Bug>
  <Bug>
    <BugId amount="39849" />
    <CreationDate amount="2003-07-10 04:14:00 -0400" />
    <DupId amount="" />
    <classification amount="Eclipse" />
    <Product amount="JDT" />
    <component amount="Core" />
    <Version amount="2.1" />
    <rep_platform amount="PC" />
    <op_sys amount="Windows XP" />
    <priority amount="P3" />
    <bug_severity amount="normal" />
    <Summery>Unreachable code not detected</Summery>
    <Patches amount="0" />
    <Stacktraces amount="0" />
    <SourceCodeRegions amount="1">
      <source_code type="functioncall">
        <location start="66" end="133" />
        <code>return (ITypeBinding[]) res.toArray(new ITypeBinding[res.size()]);;</code>
      </source_code>
    </SourceCodeRegions>
    <Enumerations amount="0" />
    <bug_status amount="RESOLVED" />
    <resolution amount="WONTFIX" />
    <WithStack>20030709

In the nightly build N20030710 we had a failure because
return (ITypeBinding[]) res.toArray(new ITypeBinding[res.size()]);;
(note the extra semicolon) was markes as 'Unreachable code'

In eclipse I had 'Unreachable code' set to error but was no error shows up .
The compiler used in the nightly build has a bug (see bug 39172).
In 1.3 compliant mode, no error should be reported for this pattern. This 
diagnosis should only occur in 1.4 mode.

A way to find these potential issues is to set your compiler in 1.4 compliant 
mode, but with source 1.3 and target 1.1. This will flag these inconsistencies.

Alternatively, you can enable the warning for superfluous semicolons, and get 
rid of all of them.</WithStack>
    <WithOutStack>20030709

In the nightly build N20030710 we had a failure because
return (ITypeBinding[]) res.toArray(new ITypeBinding[res.size()]);;
(note the extra semicolon) was markes as 'Unreachable code'

In eclipse I had 'Unreachable code' set to error but was no error shows up .
The compiler used in the nightly build has a bug (see bug 39172).
In 1.3 compliant mode, no error should be reported for this pattern. This 
diagnosis should only occur in 1.4 mode.

A way to find these potential issues is to set your compiler in 1.4 compliant 
mode, but with source 1.3 and target 1.1. This will flag these inconsistencies.

Alternatively, you can enable the warning for superfluous semicolons, and get 
rid of all of them.</WithOutStack>
  </Bug>
  <Bug>
    <BugId amount="39850" />
    <CreationDate amount="2003-07-10 04:41:00 -0400" />
    <DupId amount="" />
    <classification amount="Eclipse" />
    <Product amount="Platform" />
    <component amount="Doc" />
    <Version amount="2.1" />
    <rep_platform amount="PC" />
    <op_sys amount="Windows 2000" />
    <priority amount="P3" />
    <bug_severity amount="enhancement" />
    <Summery>document how to use unix linefeed under win32 - (other search terms: line.separator , CRLF/LF)</Summery>
    <Patches amount="0" />
    <Stacktraces amount="0" />
    <SourceCodeRegions amount="0" />
    <Enumerations amount="1">
      <Enumeration lines="16">
        <Lines>
          <Line>1) is there a way to set that "line.separator" feature inside the</Line>
          <Line>"window-preferences" menu via the GUI? (as per</Line>
          <Line>http://127.0.0.1:3797/help/topic/org.eclipse.jdt.doc.user/tasks/tasks-172.htm?resultof=%22%43%52%,</Line>
          <Line>I apparently can use "Source &gt; Convert Line Delimiters To " if the java editor</Line>
          <Line>is open, but I didn't see a way to set a default for it (examples that do that</Line>
          <Line>well are wincvs or cygwin's setup utility.)</Line>
          <Line>2) RFE: make all the search terms "linefeed" and "line.separator" part of the</Line>
          <Line>Workbench User Guide such that searches for them yield useful results!</Line>
          <Line>also the "Source &gt; Convert Line Delimiters To " feature only appears to work in</Line>
          <Line>for .java files. When opening e.g. a *.ftd file with the text editor or the</Line>
          <Line>System Editor, this option doesn't appear to be available!</Line>
          <Line>The -Dline.separator=\n option hoses up your workspace (It just hosed mine -</Line>
          <Line>all record of projects and settings losts) so it's not a viable option.</Line>
          <Line>Proper support for setting the line terminator has just been added in Eclipse</Line>
          <Line>3.1. This needs to be documented both in the user guide and ISV doc.  See bug</Line>
          <Line>3970 for details</Line>
        </Lines>
      </Enumeration>
    </Enumerations>
    <bug_status amount="ASSIGNED" />
    <resolution amount="" />
    <WithStack>as per http://dev.eclipse.org/newslists/news.eclipse.tools/msg53451.html, it
appears that there is a command-line option -Dline.separator=\n
however in a deveopment environment, where Linux and win32 are mixed, it would
be great if eclipse could be taught in a user-friendly way not to use the (^M)!

Questions/Suggestions:
1) is there a way to set that "line.separator" feature inside the
"window-preferences" menu via the GUI? (as per
http://127.0.0.1:3797/help/topic/org.eclipse.jdt.doc.user/tasks/tasks-172.htm?resultof=%22%43%52%,
I apparently can use "Source &gt; Convert Line Delimiters To " if the java editor
is open, but I didn't see a way to set a default for it (examples that do that
well are wincvs or cygwin's setup utility.)
2) RFE: make all the search terms "linefeed" and "line.separator" part of the
Workbench User Guide such that searches for them yield useful results!
also the "Source &gt; Convert Line Delimiters To " feature only appears to work in
for .java files. When opening e.g. a *.ftd file with the text editor or the
System Editor, this option doesn't appear to be available!
The -Dline.separator=\n option hoses up your workspace (It just hosed mine - 
all record of projects and settings losts) so it's not a viable option.
Proper support for setting the line terminator has just been added in Eclipse
3.1. This needs to be documented both in the user guide and ISV doc.  See bug
3970 for details</WithStack>
    <WithOutStack>as per http://dev.eclipse.org/newslists/news.eclipse.tools/msg53451.html, it
appears that there is a command-line option -Dline.separator=\n
however in a deveopment environment, where Linux and win32 are mixed, it would
be great if eclipse could be taught in a user-friendly way not to use the (^M)!

Questions/Suggestions:
1) is there a way to set that "line.separator" feature inside the
"window-preferences" menu via the GUI? (as per
http://127.0.0.1:3797/help/topic/org.eclipse.jdt.doc.user/tasks/tasks-172.htm?resultof=%22%43%52%,
I apparently can use "Source &gt; Convert Line Delimiters To " if the java editor
is open, but I didn't see a way to set a default for it (examples that do that
well are wincvs or cygwin's setup utility.)
2) RFE: make all the search terms "linefeed" and "line.separator" part of the
Workbench User Guide such that searches for them yield useful results!
also the "Source &gt; Convert Line Delimiters To " feature only appears to work in
for .java files. When opening e.g. a *.ftd file with the text editor or the
System Editor, this option doesn't appear to be available!
The -Dline.separator=\n option hoses up your workspace (It just hosed mine - 
all record of projects and settings losts) so it's not a viable option.
Proper support for setting the line terminator has just been added in Eclipse
3.1. This needs to be documented both in the user guide and ISV doc.  See bug
3970 for details</WithOutStack>
  </Bug>
  <Bug>
    <BugId amount="39851" />
    <CreationDate amount="2003-07-10 04:49:00 -0400" />
    <DupId amount="" />
    <classification amount="Eclipse" />
    <Product amount="Platform" />
    <component amount="UI" />
    <Version amount="3.0" />
    <rep_platform amount="PC" />
    <op_sys amount="Linux-Motif" />
    <priority amount="P3" />
    <bug_severity amount="normal" />
    <Summery>Filters for problems and tasks are not saved.</Summery>
    <Patches amount="0" />
    <Stacktraces amount="0" />
    <SourceCodeRegions amount="0" />
    <Enumerations amount="0" />
    <bug_status amount="RESOLVED" />
    <resolution amount="FIXED" />
    <WithStack>If I set a filter in the problems tab the configuration is not saved. The same
bug occurs in the tasks tab.
Exactly which build of 3.0 are you working with?  This appears to work fine on 
Windows XP with build I20030703.  Can you give exact details of what you are 
doing and what you are seeing vs. what you expect to see?

I'm using I200306051737 on PC for Linux-Motif
the Problem is that my filter settings aren't saved from session to session.
I'm setting a filter 'on selected resource and it's children' and with the next
startup the filter is reset on 'on any resource'.
I've upgraded to I20030710. The bug is solved in this build.</WithStack>
    <WithOutStack>If I set a filter in the problems tab the configuration is not saved. The same
bug occurs in the tasks tab.
Exactly which build of 3.0 are you working with?  This appears to work fine on 
Windows XP with build I20030703.  Can you give exact details of what you are 
doing and what you are seeing vs. what you expect to see?

I'm using I200306051737 on PC for Linux-Motif
the Problem is that my filter settings aren't saved from session to session.
I'm setting a filter 'on selected resource and it's children' and with the next
startup the filter is reset on 'on any resource'.
I've upgraded to I20030710. The bug is solved in this build.</WithOutStack>
  </Bug>
  <Bug>
    <BugId amount="39852" />
    <CreationDate amount="2003-07-10 05:00:00 -0400" />
    <DupId amount="" />
    <classification amount="Eclipse" />
    <Product amount="JDT" />
    <component amount="Core" />
    <Version amount="2.1" />
    <rep_platform amount="PC" />
    <op_sys amount="Windows 2000" />
    <priority amount="P3" />
    <bug_severity amount="normal" />
    <Summery>After a crash, Eclipse recompiles all the project.</Summery>
    <Patches amount="0" />
    <Stacktraces amount="2">
      <Stacktrace timestamp="1437340746599">
        <Exception>java.lang.StackOverflowError</Exception>
        <Reason />
        <Frames>
          <Frame depth="0">org.eclipse.jface.viewers.StructuredViewer.getRoot(StructuredViewer.java:525)</Frame>
          <Frame depth="1">org.eclipse.jface.viewers.AbstractTreeViewer.doFindInputItem(AbstractTreeViewer.java:353)</Frame>
          <Frame depth="2">org.eclipse.jface.viewers.StructuredViewer.findItem(StructuredViewer.java:350)</Frame>
          <Frame depth="3">org.eclipse.jface.viewers.AbstractTreeViewer.internalExpand(AbstractTreeViewer.java:798)</Frame>
          <Frame depth="4">org.eclipse.jface.viewers.AbstractTreeViewer.internalExpand(AbstractTreeViewer.java:810)</Frame>
          <Frame depth="5">org.eclipse.jface.viewers.AbstractTreeViewer.internalExpand(AbstractTreeViewer.java:810)</Frame>
          <Frame depth="6">org.eclipse.jface.viewers.AbstractTreeViewer.internalExpand(AbstractTreeViewer.java:810)</Frame>
          <Frame depth="7">org.eclipse.jface.viewers.AbstractTreeViewer.internalExpand(AbstractTreeViewer.java:810)</Frame>
          <Frame depth="8">org.eclipse.jface.viewers.AbstractTreeViewer.internalExpand(AbstractTreeViewer.java:810)</Frame>
        </Frames>
      </Stacktrace>
      <Stacktrace timestamp="1437340746599">
        <Exception>com.sun.jdi.VMDisconnectedException</Exception>
        <Reason>Got IOException from Virtual Machine</Reason>
        <Frames>
          <Frame depth="0">org.eclipse.jdi.internal.connect.PacketReceiveManager.getReply(PacketReceiveManager.java:145)</Frame>
          <Frame depth="1">org.eclipse.jdi.internal.connect.PacketReceiveManager.getReply(PacketReceiveManager.java:158)</Frame>
          <Frame depth="2">org.eclipse.jdi.internal.MirrorImpl.requestVM(MirrorImpl.java:173)</Frame>
          <Frame depth="3">org.eclipse.jdi.internal.MirrorImpl.requestVM(MirrorImpl.java:191)</Frame>
          <Frame depth="4">org.eclipse.jdi.internal.MirrorImpl.requestVM(MirrorImpl.java:206)</Frame>
          <Frame depth="5">org.eclipse.jdi.internal.ObjectReferenceImpl.isCollected(ObjectReferenceImpl.java:388)</Frame>
          <Frame depth="6">org.eclipse.jdi.internal.request.EventRequestImpl.addStepFilter(EventRequestImpl.java:408)</Frame>
          <Frame depth="7">org.eclipse.jdi.internal.request.EventRequestManagerImpl.createStepRequest(EventRequestManagerImpl.java:195)</Frame>
          <Frame depth="8">org.eclipse.jdt.internal.debug.core.model.JDIThread$StepHandler.createStepRequest(JDIThread.java:1798)</Frame>
          <Frame depth="9">org.eclipse.jdt.internal.debug.core.model.JDIThread$StepHandler.step(JDIThread.java:1753)</Frame>
          <Frame depth="10">org.eclipse.jdt.internal.debug.core.model.JDIThread.stepOver(JDIThread.java:1271)</Frame>
          <Frame depth="11">org.eclipse.jdt.internal.debug.core.model.JDIStackFrame.stepOver(JDIStackFrame.java:356)</Frame>
          <Frame depth="12">org.eclipse.debug.internal.ui.actions.StepOverActionDelegate.stepAction(StepOverActionDelegate.java:30)</Frame>
          <Frame depth="13">org.eclipse.debug.internal.ui.actions.StepActionDelegate.doAction(StepActionDelegate.java:25)</Frame>
          <Frame depth="14">org.eclipse.debug.internal.ui.actions.AbstractDebugActionDelegate$1.run(AbstractDebugActionDelegate.java:104)</Frame>
          <Frame depth="15">org.eclipse.swt.custom.BusyIndicator.showWhile(BusyIndicator.java:69)</Frame>
          <Frame depth="16">org.eclipse.debug.internal.ui.actions.AbstractDebugActionDelegate.run(AbstractDebugActionDelegate.java:99)</Frame>
          <Frame depth="17">org.eclipse.debug.internal.ui.actions.AbstractListenerActionDelegate.runWithEvent(AbstractListenerActionDelegate.java:112)</Frame>
          <Frame depth="18">org.eclipse.ui.internal.PluginAction.runWithEvent(PluginAction.java:241)</Frame>
          <Frame depth="19">org.eclipse.jface.action.ActionContributionItem.handleWidgetSelection(ActionContributionItem.java:456)</Frame>
          <Frame depth="20">org.eclipse.jface.action.ActionContributionItem.handleWidgetEvent(ActionContributionItem.java:403)</Frame>
          <Frame depth="21">org.eclipse.jface.action.ActionContributionItem.access$0(ActionContributionItem.java:397)</Frame>
          <Frame depth="22">org.eclipse.jface.action.ActionContributionItem$ActionListener.handleEvent(ActionContributionItem.java:72)</Frame>
          <Frame depth="23">org.eclipse.swt.widgets.EventTable.sendEvent(EventTable.java:81)</Frame>
          <Frame depth="24">org.eclipse.swt.widgets.Widget.sendEvent(Widget.java:840)</Frame>
          <Frame depth="25">org.eclipse.swt.widgets.Display.runDeferredEvents(Display.java:1838)</Frame>
          <Frame depth="26">org.eclipse.swt.widgets.Display.readAndDispatch(Display.java:1545)</Frame>
          <Frame depth="27">org.eclipse.ui.internal.Workbench.runEventLoop(Workbench.java:1402)</Frame>
          <Frame depth="28">org.eclipse.ui.internal.Workbench.run(Workbench.java:1385)</Frame>
          <Frame depth="29">org.eclipse.core.internal.boot.InternalBootLoader.run(InternalBootLoader.java:858)</Frame>
          <Frame depth="30">org.eclipse.core.boot.BootLoader.run(BootLoader.java:461)</Frame>
          <Frame depth="31">java.lang.reflect.Method.invoke(Native Method)</Frame>
          <Frame depth="32">org.eclipse.core.launcher.Main.basicRun(Main.java:291)</Frame>
          <Frame depth="33">org.eclipse.core.launcher.Main.run(Main.java:747)</Frame>
          <Frame depth="34">org.eclipse.core.launcher.Main.main(Main.java:583)</Frame>
        </Frames>
      </Stacktrace>
    </Stacktraces>
    <SourceCodeRegions amount="1">
      <source_code type="assignment">
        <location start="8487" end="8503" />
        <code>path.separator=;</code>
      </source_code>
    </SourceCodeRegions>
    <Enumerations amount="2">
      <Enumeration lines="2">
        <Lines>
          <Line>1. Force a crash (ctrl-alt-del)</Line>
          <Line>2. re-start eclipse</Line>
        </Lines>
      </Enumeration>
      <Enumeration lines="6">
        <Lines>
          <Line>- add a menu item to manually save build state</Line>
          <Line>- allow automatic save build state, every X minutes, like an office application</Line>
          <Line>- add an option to save build state after compilation, step by step (or</Line>
          <Line>compilation by compilation), even if it's solwer (it's the user's choice)</Line>
          <Line>- when CPU doesn't do anything during many minutes, save automaticly the build</Line>
          <Line>state.</Line>
        </Lines>
      </Enumeration>
    </Enumerations>
    <bug_status amount="RESOLVED" />
    <resolution amount="WONTFIX" />
    <WithStack>If Eclipse crashes for any reason, the next time I try to launch it, all the
project is recompiled.
The status bar says "cleaning output folder" and the complete compilation starts.

My project is very big (thousands of source files) and each compilation takes a
(very!) long time.

This behavior seems abnormal because the output folder is in a normal status
before the crash.

Reproducible: Always

This does not only happen during compilation phases. It occured to me while I
was doing different things in Eclipse.

Steps to Reproduce:
1. Force a crash (ctrl-alt-del)
2. re-start eclipse

Actual Results:  
All project is recompiled at Eclipse's launch.

Expected Results:  
No automatic re-compilation.
This is intended behavior. After a crash, we cannot trust our build state, and 
thus have to recreate it from scratch. The classfiles are just the output of 
the compiler, the build state remembers type/file dependency information.

The theory is that crashes should not be frequent. 
Theoricly, Eclipse souldn't crash. But is does (for example : with bug #24448).
But it isn't the problem here.

I disagree to say it's a standard behavior.

If the crash occurs during compile, I think it can be normal to re-compile project.
But if it crashes just during (for example) browsing help, or Eclipse's
preference, I don't understand why the build state is not good.

Perhaps just a refresh can be enough ?

Or, perhaps Eclipse can detect crash and ask to the user to re-compile all or not.

For us, it's the highest bug of Eclipse.
I am not questionning whether this is standard behavior or not, I am just 
explaining it is working as we intended it too. This doesn't mean we cannot 
change this.

The reason why the build state is lost, is that we did not get a chance to 
persist it, since Eclipse did not shutdown properly (and we save build states 
during shutdown). If we did save states at earlier stages, then we could do 
better, but saving states is quite expensive...

Need to think some more about it...
OK, sorry for the confusion between intended != standard.

So, you manage the build state only in memory and you persist it during the
window "Eclipse is closing ..." after shutdown.
Ok.

So, I try some proposition (have you other ?) :
- add a menu item to manually save build state
- allow automatic save build state, every X minutes, like an office application
- add an option to save build state after compilation, step by step (or
compilation by compilation), even if it's solwer (it's the user's choice)
- when CPU doesn't do anything during many minutes, save automaticly the build
state.


With this, you have some restore point. After crash, system can just refresh
source folder to see difference, or ask user to re-compile all.


Just another thing (perhaps a stupid one) : is it possible to catch some kind of
critical exception/error like OutOfMemoryError just before crash to save build
state ?
A build state reflects a certain state for resources. If we save it, and some 
resource modification occurs in the workspace, then it will be out of sync. 
Only a full build will be able to recover from it. So in theory, we would have 
to persist the information each time we build to be on the safe side, but this 
is quite painfull... as I said we can think about it.

As for the OutOfMemory question, once you reach an OutOfMemory you are fried. 
Any subsequent computation is likely going to fail.
Since so many users can go months without ever crashing their development 
environment, why should their incremental builds be slower in the hope of 
reducing time IFF they crash? Why force them to wait 5-15 seconds numerous 
times everyday to 'save' 5-10 minutes on some non-existant day in the future?

Besides this issue cannot be reduced to saving the build state more frequently 
since the builder trusts the core's delta trees, etc. If the incremental deltas 
are not available because resource changes were lost due to the crash then we 
must do a full build regardless of when we last saved the build state.

The obvious solution is track down why you're crashing so frequently... and 
until then manually save your workspace every hour.
I'm sorry to repeat it, but Eclipse crash often (perhaps one time for 2 days).

It's perhaps we work on a big project. I don't know.
We don't use very exotic plugins, and it's crashing without any logic (it can
occur at any time, after any action).
"to 'save' 5-10 minutes on some non-existant day in the future?" : do know any
software without bug on earth ??  (except TeX :) ).


But this is not the subject (it's a newsgroup pb, I think).
If you want to think that Eclipse never crash (I hope it will soon with us
configuration), imagine it's the OS which crash.

A normal user will not understand why all his project is recompiled if all was
saved and already compiled before crash. In his mind, all was good and saved.
I understand very well your technical problem, but I speak about GUI impression.
I don't know any other software which done it (any IDE ?).

Imagine you work with a 3D modeler like 3DStudio (I have search a kind of
software with a long time of calculation) : you modelise, you ask for generation
your computer graphics, the CPU works ...., you save the result as a GIF, you do
 other thing, etc .... but, after couple of minutes, the software crash. When
you reopen this 3D modeler, you don't want to re-generate your image !!
I think Eclipse is near it, but the user's impression.


I agree with you to not force user to wait 5-10 seconds each time. 
That's why I completly agree with Philippe when he say that a complete reflexion
need to be done on this subject.


What VM are you using?

What's the command line? Are you increasing the default parameters?

If the majority of your crashes are a result of running out of memory in the 
VM, then that is easily solved &amp; is not an Eclipse bug, but a VM issue.
I use Sun JVM 1.3.1_01.
I am under Win 2000.

My command line is : 
eclipse.exe  -vm %JAVA_HOME%\bin\javaw -vmargs -Xmx256m

With Ant, I has have lots of out of memory errors due to bug #24448 .
Now, I call a .bat which call ant (!!!).
There are really less crash.

I am not alone to have crash at my entreprise : every engineer has some crash.
But I have done a typical configuration of Eclipse and we use same JVM, same OS,
and almost same PC.

Now, crash are not always Out of Memory error (I know this JVM bug, which is not
your fault -&gt; JDK 1.5 with JMX might resolve it).
There is no typical raison.

When I will have a crash (or every of my colleague), I will send you log and
screenshot, and any info.

Now, here is my configuration detail :

*** System properties:
awt.toolkit=sun.awt.windows.WToolkit
file.encoding=Cp1252
file.encoding.pkg=sun.io
file.separator=\
java.awt.fonts=
java.awt.graphicsenv=sun.awt.Win32GraphicsEnvironment
java.awt.printerjob=sun.awt.windows.WPrinterJob
java.class.path=D:\prog\eclipse\startup.jar
java.class.version=47.0
java.ext.dirs=D:\prog\bea\jdk131\jre\lib\ext
java.home=D:\prog\bea\jdk131\jre
java.io.tmpdir=d:\commun\tmp\
java.library.path=D:\prog\bea\jdk131\bin;.;C:\WINNT\System32;C:\WINNT;D:\PROG\RATIONAL\RATION~1\NUTCROOT\mksnt;d:\prog\Perl\bin;D:\prog\oracle\ora81\bin;C:\Program
Files\Oracle\jre\1.1.7\bin;C:\Program Files\Compaq\Compaq Management
Agents\Dmi\Win32\Bin;C:\WINNT\system32;C:\WINNT;C:\WINNT\System32\Wbem;C:\Ca_Appsw;C:\TNGSD\BIN;C:\Program
Files\Fichiers communs\Adaptec Shared\System;D:\prog\Tcl\bin;C:\Program
Files\Unisys\Unisys Rose XML Tools\UML;C:\Program Files\Unisys\Unisys Rose XML
Tools\MOF;D:\prog\ULTRAE~1;d:\prog\Rational\ClearQuest;D:\cvsdata\lsprh\10_env\build;d:\prog\bea\jdk131\bin;d:\prog\Rational\common;C:\ORAWIN\BIN;
java.runtime.name=Java(TM) 2 Runtime Environment, Standard Edition
java.runtime.version=1.3.1_01
java.specification.name=Java Platform API Specification
java.specification.vendor=Sun Microsystems Inc.
java.specification.version=1.3
java.vendor=Sun Microsystems Inc.
java.vendor.url=http://java.sun.com/
java.vendor.url.bug=http://java.sun.com/cgi-bin/bugreport.cgi
java.version=1.3.1_01
java.vm.info=mixed mode
java.vm.name=Java HotSpot(TM) Client VM
java.vm.specification.name=Java Virtual Machine Specification
java.vm.specification.vendor=Sun Microsystems Inc.
java.vm.specification.version=1.0
java.vm.vendor=Sun Microsystems Inc.
java.vm.version=1.3.1_01
line.separator=

org.eclipse.jdt.debug.ui.scrapbookActive=false
os.arch=x86
os.name=Windows 2000
os.version=5.0
path.separator=;
sun.boot.class.path=D:\prog\bea\jdk131\jre\lib\rt.jar;D:\prog\bea\jdk131\jre\lib\i18n.jar;D:\prog\bea\jdk131\jre\lib\sunrsasign.jar;D:\prog\bea\jdk131\jre\classes
sun.boot.library.path=D:\prog\bea\jdk131\jre\bin
sun.cpu.endian=little
sun.cpu.isalist=pentium i486 i386
sun.io.unicode.encoding=UnicodeLittle
user.dir=D:\prog\eclipse
user.home=d:\profiles\ejuliot
user.language=fr
user.name=ejuliot
user.region=FR
user.timezone=Europe/Paris

*** Features:
standard ...

*** Plug-in Registry:
com.objfac.xmleditor (0.2.8) "XMLBuddy"
.... standard in Eclipse 2.1.1


*** User Preferences:
You want it ?


I just see an etrange log error. Perhaps it can help you :

!ENTRY org.eclipse.ui 4 4 juil. 07, 2003 16:00:08.890
!MESSAGE Unhandled exception caught in event loop.
!ENTRY org.eclipse.ui 4 0 juil. 07, 2003 16:00:08.906
!MESSAGE java.lang.StackOverflowError
!STACK 0
java.lang.StackOverflowError
	at org.eclipse.jface.viewers.StructuredViewer.getRoot(StructuredViewer.java:525)
	at
org.eclipse.jface.viewers.AbstractTreeViewer.doFindInputItem(AbstractTreeViewer.java:353)
	at org.eclipse.jface.viewers.StructuredViewer.findItem(StructuredViewer.java:350)
	at
org.eclipse.jface.viewers.AbstractTreeViewer.internalExpand(AbstractTreeViewer.java:798)
	at
org.eclipse.jface.viewers.AbstractTreeViewer.internalExpand(AbstractTreeViewer.java:810)
	at
org.eclipse.jface.viewers.AbstractTreeViewer.internalExpand(AbstractTreeViewer.java:810)
	at
org.eclipse.jface.viewers.AbstractTreeViewer.internalExpand(AbstractTreeViewer.java:810)
	at
org.eclipse.jface.viewers.AbstractTreeViewer.internalExpand(AbstractTreeViewer.java:810)
	at
org.eclipse.jface.viewers.AbstractTreeViewer.internalExpand(AbstractTreeViewer.java:810)

this line is repeated more than 300 times !!!
And after :

	at
org.eclipse.jface.viewers.AbstractTreeViewer.internalExpand(AbstractTreeViewer.java:810)
	at
org.eclipse.jface.viewers.AbstractTreeViewer.internalExpand(AbstractTreeViewer.java:810)
	at
org.eclipse.jface.viewers.AbstractTreeViewer.internalExpand(AbstractTreeViewer.java:810)
!ENTRY org.eclipse.debug.ui 4 5012 juil. 08, 2003 11:45:40.796
!MESSAGE Exceptions occurred attempting to step over the frame
!SUBENTRY 1 org.eclipse.jdt.debug 4 5010 juil. 08, 2003 11:45:40.796
!MESSAGE com.sun.jdi.VMDisconnectedException: Got IOException from Virtual
Machine occurred creating step request.
!STACK 0
com.sun.jdi.VMDisconnectedException: Got IOException from Virtual Machine
	at
org.eclipse.jdi.internal.connect.PacketReceiveManager.getReply(PacketReceiveManager.java:145)
	at
org.eclipse.jdi.internal.connect.PacketReceiveManager.getReply(PacketReceiveManager.java:158)
	at org.eclipse.jdi.internal.MirrorImpl.requestVM(MirrorImpl.java:173)
	at org.eclipse.jdi.internal.MirrorImpl.requestVM(MirrorImpl.java:191)
	at org.eclipse.jdi.internal.MirrorImpl.requestVM(MirrorImpl.java:206)
	at
org.eclipse.jdi.internal.ObjectReferenceImpl.isCollected(ObjectReferenceImpl.java:388)
	at
org.eclipse.jdi.internal.request.EventRequestImpl.addStepFilter(EventRequestImpl.java:408)
	at
org.eclipse.jdi.internal.request.EventRequestManagerImpl.createStepRequest(EventRequestManagerImpl.java:195)
	at
org.eclipse.jdt.internal.debug.core.model.JDIThread$StepHandler.createStepRequest(JDIThread.java:1798)
	at
org.eclipse.jdt.internal.debug.core.model.JDIThread$StepHandler.step(JDIThread.java:1753)
	at
org.eclipse.jdt.internal.debug.core.model.JDIThread.stepOver(JDIThread.java:1271)
	at
org.eclipse.jdt.internal.debug.core.model.JDIStackFrame.stepOver(JDIStackFrame.java:356)
	at
org.eclipse.debug.internal.ui.actions.StepOverActionDelegate.stepAction(StepOverActionDelegate.java:30)
	at
org.eclipse.debug.internal.ui.actions.StepActionDelegate.doAction(StepActionDelegate.java:25)
	at
org.eclipse.debug.internal.ui.actions.AbstractDebugActionDelegate$1.run(AbstractDebugActionDelegate.java:104)
	at org.eclipse.swt.custom.BusyIndicator.showWhile(BusyIndicator.java:69)
	at
org.eclipse.debug.internal.ui.actions.AbstractDebugActionDelegate.run(AbstractDebugActionDelegate.java:99)
	at
org.eclipse.debug.internal.ui.actions.AbstractListenerActionDelegate.runWithEvent(AbstractListenerActionDelegate.java:112)
	at org.eclipse.ui.internal.PluginAction.runWithEvent(PluginAction.java:241)
	at
org.eclipse.jface.action.ActionContributionItem.handleWidgetSelection(ActionContributionItem.java:456)
	at
org.eclipse.jface.action.ActionContributionItem.handleWidgetEvent(ActionContributionItem.java:403)
	at
org.eclipse.jface.action.ActionContributionItem.access$0(ActionContributionItem.java:397)
	at
org.eclipse.jface.action.ActionContributionItem$ActionListener.handleEvent(ActionContributionItem.java:72)
	at org.eclipse.swt.widgets.EventTable.sendEvent(EventTable.java:81)
	at org.eclipse.swt.widgets.Widget.sendEvent(Widget.java:840)
	at org.eclipse.swt.widgets.Display.runDeferredEvents(Display.java:1838)
	at org.eclipse.swt.widgets.Display.readAndDispatch(Display.java:1545)
	at org.eclipse.ui.internal.Workbench.runEventLoop(Workbench.java:1402)
	at org.eclipse.ui.internal.Workbench.run(Workbench.java:1385)
	at
org.eclipse.core.internal.boot.InternalBootLoader.run(InternalBootLoader.java:858)
	at org.eclipse.core.boot.BootLoader.run(BootLoader.java:461)
	at java.lang.reflect.Method.invoke(Native Method)
	at org.eclipse.core.launcher.Main.basicRun(Main.java:291)
	at org.eclipse.core.launcher.Main.run(Main.java:747)
	at org.eclipse.core.launcher.Main.main(Main.java:583)
!SESSION juil. 11, 2003 15:54:49.875 -------------------------------------------
java.version=1.3.1_01
java.vendor=Sun Microsystems Inc.
BootLoader constants: OS=win32, ARCH=x86, WS=win32, NL=fr_FR
Command-line arguments: -os win32 -ws win32 -arch x86 -install file:D:/prog/eclipse/


I hope it will help !!

No action planned, crashes are severe, and full builds are on the safe side 
(though a bit painfull I agree).</WithStack>
    <WithOutStack>If Eclipse crashes for any reason, the next time I try to launch it, all the
project is recompiled.
The status bar says "cleaning output folder" and the complete compilation starts.

My project is very big (thousands of source files) and each compilation takes a
(very!) long time.

This behavior seems abnormal because the output folder is in a normal status
before the crash.

Reproducible: Always

This does not only happen during compilation phases. It occured to me while I
was doing different things in Eclipse.

Steps to Reproduce:
1. Force a crash (ctrl-alt-del)
2. re-start eclipse

Actual Results:  
All project is recompiled at Eclipse's launch.

Expected Results:  
No automatic re-compilation.
This is intended behavior. After a crash, we cannot trust our build state, and 
thus have to recreate it from scratch. The classfiles are just the output of 
the compiler, the build state remembers type/file dependency information.

The theory is that crashes should not be frequent. 
Theoricly, Eclipse souldn't crash. But is does (for example : with bug #24448).
But it isn't the problem here.

I disagree to say it's a standard behavior.

If the crash occurs during compile, I think it can be normal to re-compile project.
But if it crashes just during (for example) browsing help, or Eclipse's
preference, I don't understand why the build state is not good.

Perhaps just a refresh can be enough ?

Or, perhaps Eclipse can detect crash and ask to the user to re-compile all or not.

For us, it's the highest bug of Eclipse.
I am not questionning whether this is standard behavior or not, I am just 
explaining it is working as we intended it too. This doesn't mean we cannot 
change this.

The reason why the build state is lost, is that we did not get a chance to 
persist it, since Eclipse did not shutdown properly (and we save build states 
during shutdown). If we did save states at earlier stages, then we could do 
better, but saving states is quite expensive...

Need to think some more about it...
OK, sorry for the confusion between intended != standard.

So, you manage the build state only in memory and you persist it during the
window "Eclipse is closing ..." after shutdown.
Ok.

So, I try some proposition (have you other ?) :
- add a menu item to manually save build state
- allow automatic save build state, every X minutes, like an office application
- add an option to save build state after compilation, step by step (or
compilation by compilation), even if it's solwer (it's the user's choice)
- when CPU doesn't do anything during many minutes, save automaticly the build
state.


With this, you have some restore point. After crash, system can just refresh
source folder to see difference, or ask user to re-compile all.


Just another thing (perhaps a stupid one) : is it possible to catch some kind of
critical exception/error like OutOfMemoryError just before crash to save build
state ?
A build state reflects a certain state for resources. If we save it, and some 
resource modification occurs in the workspace, then it will be out of sync. 
Only a full build will be able to recover from it. So in theory, we would have 
to persist the information each time we build to be on the safe side, but this 
is quite painfull... as I said we can think about it.

As for the OutOfMemory question, once you reach an OutOfMemory you are fried. 
Any subsequent computation is likely going to fail.
Since so many users can go months without ever crashing their development 
environment, why should their incremental builds be slower in the hope of 
reducing time IFF they crash? Why force them to wait 5-15 seconds numerous 
times everyday to 'save' 5-10 minutes on some non-existant day in the future?

Besides this issue cannot be reduced to saving the build state more frequently 
since the builder trusts the core's delta trees, etc. If the incremental deltas 
are not available because resource changes were lost due to the crash then we 
must do a full build regardless of when we last saved the build state.

The obvious solution is track down why you're crashing so frequently... and 
until then manually save your workspace every hour.
I'm sorry to repeat it, but Eclipse crash often (perhaps one time for 2 days).

It's perhaps we work on a big project. I don't know.
We don't use very exotic plugins, and it's crashing without any logic (it can
occur at any time, after any action).
"to 'save' 5-10 minutes on some non-existant day in the future?" : do know any
software without bug on earth ??  (except TeX :) ).


But this is not the subject (it's a newsgroup pb, I think).
If you want to think that Eclipse never crash (I hope it will soon with us
configuration), imagine it's the OS which crash.

A normal user will not understand why all his project is recompiled if all was
saved and already compiled before crash. In his mind, all was good and saved.
I understand very well your technical problem, but I speak about GUI impression.
I don't know any other software which done it (any IDE ?).

Imagine you work with a 3D modeler like 3DStudio (I have search a kind of
software with a long time of calculation) : you modelise, you ask for generation
your computer graphics, the CPU works ...., you save the result as a GIF, you do
 other thing, etc .... but, after couple of minutes, the software crash. When
you reopen this 3D modeler, you don't want to re-generate your image !!
I think Eclipse is near it, but the user's impression.


I agree with you to not force user to wait 5-10 seconds each time. 
That's why I completly agree with Philippe when he say that a complete reflexion
need to be done on this subject.


What VM are you using?

What's the command line? Are you increasing the default parameters?

If the majority of your crashes are a result of running out of memory in the 
VM, then that is easily solved &amp; is not an Eclipse bug, but a VM issue.
I use Sun JVM 1.3.1_01.
I am under Win 2000.

My command line is : 
eclipse.exe  -vm %JAVA_HOME%\bin\javaw -vmargs -Xmx256m

With Ant, I has have lots of out of memory errors due to bug #24448 .
Now, I call a .bat which call ant (!!!).
There are really less crash.

I am not alone to have crash at my entreprise : every engineer has some crash.
But I have done a typical configuration of Eclipse and we use same JVM, same OS,
and almost same PC.

Now, crash are not always Out of Memory error (I know this JVM bug, which is not
your fault -&gt; JDK 1.5 with JMX might resolve it).
There is no typical raison.

When I will have a crash (or every of my colleague), I will send you log and
screenshot, and any info.

Now, here is my configuration detail :

*** System properties:
awt.toolkit=sun.awt.windows.WToolkit
file.encoding=Cp1252
file.encoding.pkg=sun.io
file.separator=\
java.awt.fonts=
java.awt.graphicsenv=sun.awt.Win32GraphicsEnvironment
java.awt.printerjob=sun.awt.windows.WPrinterJob
java.class.path=D:\prog\eclipse\startup.jar
java.class.version=47.0
java.ext.dirs=D:\prog\bea\jdk131\jre\lib\ext
java.home=D:\prog\bea\jdk131\jre
java.io.tmpdir=d:\commun\tmp\
java.library.path=D:\prog\bea\jdk131\bin;.;C:\WINNT\System32;C:\WINNT;D:\PROG\RATIONAL\RATION~1\NUTCROOT\mksnt;d:\prog\Perl\bin;D:\prog\oracle\ora81\bin;C:\Program
Files\Oracle\jre\1.1.7\bin;C:\Program Files\Compaq\Compaq Management
Agents\Dmi\Win32\Bin;C:\WINNT\system32;C:\WINNT;C:\WINNT\System32\Wbem;C:\Ca_Appsw;C:\TNGSD\BIN;C:\Program
Files\Fichiers communs\Adaptec Shared\System;D:\prog\Tcl\bin;C:\Program
Files\Unisys\Unisys Rose XML Tools\UML;C:\Program Files\Unisys\Unisys Rose XML
Tools\MOF;D:\prog\ULTRAE~1;d:\prog\Rational\ClearQuest;D:\cvsdata\lsprh\10_env\build;d:\prog\bea\jdk131\bin;d:\prog\Rational\common;C:\ORAWIN\BIN;
java.runtime.name=Java(TM) 2 Runtime Environment, Standard Edition
java.runtime.version=1.3.1_01
java.specification.name=Java Platform API Specification
java.specification.vendor=Sun Microsystems Inc.
java.specification.version=1.3
java.vendor=Sun Microsystems Inc.
java.vendor.url=http://java.sun.com/
java.vendor.url.bug=http://java.sun.com/cgi-bin/bugreport.cgi
java.version=1.3.1_01
java.vm.info=mixed mode
java.vm.name=Java HotSpot(TM) Client VM
java.vm.specification.name=Java Virtual Machine Specification
java.vm.specification.vendor=Sun Microsystems Inc.
java.vm.specification.version=1.0
java.vm.vendor=Sun Microsystems Inc.
java.vm.version=1.3.1_01
line.separator=

org.eclipse.jdt.debug.ui.scrapbookActive=false
os.arch=x86
os.name=Windows 2000
os.version=5.0
path.separator=;
sun.boot.class.path=D:\prog\bea\jdk131\jre\lib\rt.jar;D:\prog\bea\jdk131\jre\lib\i18n.jar;D:\prog\bea\jdk131\jre\lib\sunrsasign.jar;D:\prog\bea\jdk131\jre\classes
sun.boot.library.path=D:\prog\bea\jdk131\jre\bin
sun.cpu.endian=little
sun.cpu.isalist=pentium i486 i386
sun.io.unicode.encoding=UnicodeLittle
user.dir=D:\prog\eclipse
user.home=d:\profiles\ejuliot
user.language=fr
user.name=ejuliot
user.region=FR
user.timezone=Europe/Paris

*** Features:
standard ...

*** Plug-in Registry:
com.objfac.xmleditor (0.2.8) "XMLBuddy"
.... standard in Eclipse 2.1.1


*** User Preferences:
You want it ?


I just see an etrange log error. Perhaps it can help you :

!ENTRY org.eclipse.ui 4 4 juil. 07, 2003 16:00:08.890
!MESSAGE Unhandled exception caught in event loop.
!ENTRY org.eclipse.ui 4 0 juil. 07, 2003 16:00:08.906
!MESSAGE java.lang.StackOverflowError
!STACK 0

this line is repeated more than 300 times !!!
And after :

	at
org.eclipse.jface.viewers.AbstractTreeViewer.internalExpand(AbstractTreeViewer.java:810)
	at
org.eclipse.jface.viewers.AbstractTreeViewer.internalExpand(AbstractTreeViewer.java:810)
	at
org.eclipse.jface.viewers.AbstractTreeViewer.internalExpand(AbstractTreeViewer.java:810)
!ENTRY org.eclipse.debug.ui 4 5012 juil. 08, 2003 11:45:40.796
!MESSAGE Exceptions occurred attempting to step over the frame
!SUBENTRY 1 org.eclipse.jdt.debug 4 5010 juil. 08, 2003 11:45:40.796
!MESSAGE com.sun.jdi.VMDisconnectedException: Got IOException from Virtual
Machine occurred creating step request.
!STACK 0

!SESSION juil. 11, 2003 15:54:49.875 -------------------------------------------
java.version=1.3.1_01
java.vendor=Sun Microsystems Inc.
BootLoader constants: OS=win32, ARCH=x86, WS=win32, NL=fr_FR
Command-line arguments: -os win32 -ws win32 -arch x86 -install file:D:/prog/eclipse/


I hope it will help !!

No action planned, crashes are severe, and full builds are on the safe side 
(though a bit painfull I agree).</WithOutStack>
  </Bug>
  <Bug>
    <BugId amount="39853" />
    <CreationDate amount="2003-07-10 05:04:00 -0400" />
    <DupId amount="" />
    <classification amount="Eclipse" />
    <Product amount="JDT" />
    <component amount="UI" />
    <Version amount="3.0" />
    <rep_platform amount="PC" />
    <op_sys amount="Windows 2000" />
    <priority amount="P3" />
    <bug_severity amount="normal" />
    <Summery>[JUnit] 'scroll lock' not saved between sessions [JUnit]</Summery>
    <Patches amount="0" />
    <Stacktraces amount="0" />
    <SourceCodeRegions amount="0" />
    <Enumerations amount="0" />
    <bug_status amount="RESOLVED" />
    <resolution amount="WORKSFORME" />
    <WithStack>20030703
the 'scroll lock' setting is not remembered and I always have to re-set it to 
my preferences (which is: _on_)
Created attachment 5662
fix

Implementation notes:

The preference is persisted in the same way as EnableStackFilterAction persists
its state.
Created attachment 5663
fix

forgot the initial state
this has been fixed in the meantime
closing</WithStack>
    <WithOutStack>20030703
the 'scroll lock' setting is not remembered and I always have to re-set it to 
my preferences (which is: _on_)
Created attachment 5662
fix

Implementation notes:

The preference is persisted in the same way as EnableStackFilterAction persists
its state.
Created attachment 5663
fix

forgot the initial state
this has been fixed in the meantime
closing</WithOutStack>
  </Bug>
  <Bug>
    <BugId amount="39854" />
    <CreationDate amount="2003-07-10 05:43:00 -0400" />
    <DupId amount="" />
    <classification amount="Eclipse" />
    <Product amount="Platform" />
    <component amount="UI" />
    <Version amount="3.0" />
    <rep_platform amount="PC" />
    <op_sys amount="Windows 2000" />
    <priority amount="P3" />
    <bug_severity amount="normal" />
    <Summery>[KeyBindings] Shortcuts stops working after switching keyboard layout</Summery>
    <Patches amount="0" />
    <Stacktraces amount="0" />
    <SourceCodeRegions amount="0" />
    <Enumerations amount="0" />
    <bug_status amount="RESOLVED" />
    <resolution amount="WORKSFORME" />
    <WithStack>After switching keyboard layout to russian shortcuts stops working.
switching back to english layout has no effect.

Shortcuts starts working again after closing all open files or switching 
perspective to debug and back.
works for me after 3.0 M3

thanks</WithStack>
    <WithOutStack>After switching keyboard layout to russian shortcuts stops working.
switching back to english layout has no effect.

Shortcuts starts working again after closing all open files or switching 
perspective to debug and back.
works for me after 3.0 M3

thanks</WithOutStack>
  </Bug>
  <Bug>
    <BugId amount="39855" />
    <CreationDate amount="2003-07-10 06:07:00 -0400" />
    <DupId amount="" />
    <classification amount="Tools" />
    <Product amount="CDT" />
    <component amount="cdt-core" />
    <Version amount="2.0" />
    <rep_platform amount="PC" />
    <op_sys amount="Windows 2000" />
    <priority amount="P3" />
    <bug_severity amount="normal" />
    <Summery>Highlighting of comments</Summery>
    <Patches amount="0" />
    <Stacktraces amount="0" />
    <SourceCodeRegions amount="0" />
    <Enumerations amount="0" />
    <bug_status amount="RESOLVED" />
    <resolution amount="FIXED" />
    <WithStack>Such snippet as 
"/*/**/dd*/" highlights incorrect in C/C++ end Assembler Editor.
Both C and C++ standards state that comments do not nest. So CDT editor 
properly colorizes this snippet.
&gt; Both C and C++ standards state that comments do not nest. So CDT editor 
&gt; properly colorizes this snippet.

Good answer, thanks vic, for pointing this out.

Flip to fix.</WithStack>
    <WithOutStack>Such snippet as 
"/*/**/dd*/" highlights incorrect in C/C++ end Assembler Editor.
Both C and C++ standards state that comments do not nest. So CDT editor 
properly colorizes this snippet.
&gt; Both C and C++ standards state that comments do not nest. So CDT editor 
&gt; properly colorizes this snippet.

Good answer, thanks vic, for pointing this out.

Flip to fix.</WithOutStack>
  </Bug>
  <Bug>
    <BugId amount="39856" />
    <CreationDate amount="2003-07-10 06:10:00 -0400" />
    <DupId amount="" />
    <classification amount="Eclipse" />
    <Product amount="JDT" />
    <component amount="Core" />
    <Version amount="2.1" />
    <rep_platform amount="PC" />
    <op_sys amount="Windows 2000" />
    <priority amount="P3" />
    <bug_severity amount="normal" />
    <Summery>External jar's timestamps should be persisted accross sessions</Summery>
    <Patches amount="0" />
    <Stacktraces amount="0" />
    <SourceCodeRegions amount="0" />
    <Enumerations amount="0" />
    <bug_status amount="VERIFIED" />
    <resolution amount="FIXED" />
    <WithStack>Build 20030703

The timestamps of external jars should be persisted accross sessions. This 
would allow us to detect if a jar has changed after the workspace was shutdown 
and to reindex the jar.
Not for 3.0
reopening
Changed JavaModelManager#saving(...) to save the external jar timestamps. And
changed the access to DeltaProcessingState#externalTimestamps to use a lazy
intializer that read the saved timestamps.

Added regression test ExternalJarDeltaTests#testExternalJarChanged4()
Verified in i20050527-0010</WithStack>
    <WithOutStack>Build 20030703

The timestamps of external jars should be persisted accross sessions. This 
would allow us to detect if a jar has changed after the workspace was shutdown 
and to reindex the jar.
Not for 3.0
reopening
Changed JavaModelManager#saving(...) to save the external jar timestamps. And
changed the access to DeltaProcessingState#externalTimestamps to use a lazy
intializer that read the saved timestamps.

Added regression test ExternalJarDeltaTests#testExternalJarChanged4()
Verified in i20050527-0010</WithOutStack>
  </Bug>
  <Bug>
    <BugId amount="39857" />
    <CreationDate amount="2003-07-10 06:14:00 -0400" />
    <DupId amount="" />
    <classification amount="Eclipse" />
    <Product amount="PDE" />
    <component amount="UI" />
    <Version amount="3.0" />
    <rep_platform amount="PC" />
    <op_sys amount="Windows 2000" />
    <priority amount="P3" />
    <bug_severity amount="normal" />
    <Summery>Error Log: Detail pane is editable</Summery>
    <Patches amount="0" />
    <Stacktraces amount="0" />
    <SourceCodeRegions amount="0" />
    <Enumerations amount="3">
      <Enumeration lines="5">
        <Lines>
          <Line>1. Open the PDE Runtime-&gt;Error Log View</Line>
          <Line>2. Select an error</Line>
          <Line>3. The Session Data and Stack Trace text areas are</Line>
          <Line>- selectable (ok)</Line>
          <Line>- editable (not ok)</Line>
        </Lines>
      </Enumeration>
      <Enumeration lines="4">
        <Lines>
          <Line>1. text is no longer editable.</Line>
          <Line>2. copy now behaves as expected.</Line>
          <Line>3. added an action to the view's drop down menu to turn preview on/off.</Line>
          <Line>4. restored the property pages.</Line>
        </Lines>
      </Enumeration>
      <Enumeration lines="2">
        <Lines>
          <Line>- selectable (ok)</Line>
          <Line>- editable (not ok)</Line>
        </Lines>
      </Enumeration>
    </Enumerations>
    <bug_status amount="RESOLVED" />
    <resolution amount="FIXED" />
    <WithStack>200307030800

1. Open the PDE Runtime-&gt;Error Log View
2. Select an error
3. The Session Data and Stack Trace text areas are 
   - selectable (ok)
   - editable (not ok)

(BTW: I liked the old version better - I only had to double click on an error 
to see its stack trace since the dialog remembered the last selected page. Now, 
I have to select an error, maximize the view, resize the sashform and open the 
stack trace area...)
probably related:

copying from the detail pane of the error log view does not copy the selection, 
but always the entire text.
Fixed:
1. text is no longer editable.
2. copy now behaves as expected.
3. added an action to the view's drop down menu to turn preview on/off.
4. restored the property pages.</WithStack>
    <WithOutStack>200307030800

1. Open the PDE Runtime-&gt;Error Log View
2. Select an error
3. The Session Data and Stack Trace text areas are 
   - selectable (ok)
   - editable (not ok)

(BTW: I liked the old version better - I only had to double click on an error 
to see its stack trace since the dialog remembered the last selected page. Now, 
I have to select an error, maximize the view, resize the sashform and open the 
stack trace area...)
probably related:

copying from the detail pane of the error log view does not copy the selection, 
but always the entire text.
Fixed:
1. text is no longer editable.
2. copy now behaves as expected.
3. added an action to the view's drop down menu to turn preview on/off.
4. restored the property pages.</WithOutStack>
  </Bug>
  <Bug>
    <BugId amount="39858" />
    <CreationDate amount="2003-07-10 06:31:00 -0400" />
    <DupId amount="" />
    <classification amount="Eclipse" />
    <Product amount="JDT" />
    <component amount="UI" />
    <Version amount="3.0" />
    <rep_platform amount="PC" />
    <op_sys amount="Windows 2000" />
    <priority amount="P3" />
    <bug_severity amount="normal" />
    <Summery>refactoring: NPE on Inline when selection empty</Summery>
    <Patches amount="0" />
    <Stacktraces amount="1">
      <Stacktrace timestamp="1437340746599">
        <Exception>java.lang.NullPointerException</Exception>
        <Reason>...</Reason>
        <Frames>
          <Frame depth="0">org.eclipse.jdt.internal.corext.refactoring.code.InlineMethodRefactoring.getTargetNode(InlineMethodRefactoring.java:319)</Frame>
          <Frame depth="1">org.eclipse.jdt.internal.corext.refactoring.code.InlineMethodRefactoring.create(InlineMethodRefactoring.java:119)</Frame>
          <Frame depth="2">org.eclipse.jdt.ui.actions.InlineAction.tryInlineMethod(InlineAction.java:127)</Frame>
          <Frame depth="3">org.eclipse.jdt.ui.actions.InlineAction.run(InlineAction.java:109)</Frame>
        </Frames>
      </Stacktrace>
    </Stacktraces>
    <SourceCodeRegions amount="1">
      <source_code type="class">
        <location start="14" end="119" />
        <code>public class Test {
	private int foo() {
		return 0;
	}
	private int bar() {
		return f&lt;CURSOR&gt;oo();
	}
}</code>
      </source_code>
    </SourceCodeRegions>
    <Enumerations amount="0" />
    <bug_status amount="RESOLVED" />
    <resolution amount="FIXED" />
    <WithStack>200307030800

public class Test {
	private int foo() {
		return 0;
	}
	private int bar() {
		return f&lt;CURSOR&gt;oo();
	}
}

Select Refactoring-&gt;Inline and get a NPE.

Note that it works when the entire call gets selected.

Error Jul 10, 2003 12:12:11.808 java.lang.NullPointerException
java.lang.NullPointerException
...
	at 
org.eclipse.jdt.internal.corext.refactoring.code.InlineMethodRefactoring.getTarg
etNode(InlineMethodRefactoring.java:319)
	at 
org.eclipse.jdt.internal.corext.refactoring.code.InlineMethodRefactoring.create
(InlineMethodRefactoring.java:119)
	at org.eclipse.jdt.ui.actions.InlineAction.tryInlineMethod
(InlineAction.java:127)
	at org.eclipse.jdt.ui.actions.InlineAction.run(InlineAction.java:109)
...
Fixed NPE for M2. 

But need to enable inline on empty text selection. See bug 40047.</WithStack>
    <WithOutStack>200307030800

public class Test {
	private int foo() {
		return 0;
	}
	private int bar() {
		return f&lt;CURSOR&gt;oo();
	}
}

Select Refactoring-&gt;Inline and get a NPE.

Note that it works when the entire call gets selected.

Error Jul 10, 2003 12:12:11.808 java.lang.NullPointerException

...
Fixed NPE for M2. 

But need to enable inline on empty text selection. See bug 40047.</WithOutStack>
  </Bug>
  <Bug>
    <BugId amount="39859" />
    <CreationDate amount="2003-07-10 06:41:00 -0400" />
    <DupId amount="" />
    <classification amount="Eclipse" />
    <Product amount="JDT" />
    <component amount="UI" />
    <Version amount="3.0" />
    <rep_platform amount="PC" />
    <op_sys amount="Windows 2000" />
    <priority amount="P3" />
    <bug_severity amount="normal" />
    <Summery>extract method: NPE [refactoring]</Summery>
    <Patches amount="0" />
    <Stacktraces amount="1">
      <Stacktrace timestamp="1437340746599">
        <Exception>java.lang.reflect.InvocationTargetException</Exception>
        <Reason>java.lang.NullPointerException</Reason>
        <Frames>
          <Frame depth="0">java.lang.Throwable.&lt;init&gt;(Throwable.java)</Frame>
          <Frame depth="1">java.lang.Throwable.&lt;init&gt;(Throwable.java)</Frame>
          <Frame depth="2">java.lang.NullPointerException.&lt;init&gt;(NullPointerException.java:63)</Frame>
          <Frame depth="3">org.eclipse.jdt.internal.corext.refactoring.code.ExtractMethodRefactoring.createCallNodes(ExtractMethodRefactoring.java:513)</Frame>
          <Frame depth="4">org.eclipse.jdt.internal.corext.refactoring.code.ExtractMethodRefactoring.replaceDuplicates(ExtractMethodRefactoring.java:569)</Frame>
          <Frame depth="5">org.eclipse.jdt.internal.corext.refactoring.code.ExtractMethodRefactoring.createChange(ExtractMethodRefactoring.java:367)</Frame>
          <Frame depth="6">org.eclipse.jdt.internal.ui.refactoring.CreateChangeOperation.run(CreateChangeOperation.java:104)</Frame>
          <Frame depth="7">org.eclipse.jface.operation.ModalContext$ModalContextThread.run(ModalContext.java:101)</Frame>
        </Frames>
      </Stacktrace>
    </Stacktraces>
    <SourceCodeRegions amount="1">
      <source_code type="class">
        <location start="22" end="135" />
        <code>public class A {

	void f(){
		int i= 0;
		int j= 1;
		int k= i+j;

		int i1= 0;
		int j1= 1;
		int k1= i+j;
	}
}</code>
      </source_code>
    </SourceCodeRegions>
    <Enumerations amount="0" />
    <bug_status amount="RESOLVED" />
    <resolution amount="FIXED" />
    <WithStack>20030703+latest 0709

public class A {

	void f(){
		int i= 0;
		int j= 1;
		int k= i+j;

		int i1= 0;
		int j1= 1;
		int k1= i+j;
	}
}

select i+j
type 'add' as method name
change arg name from i to arg1
change arg name from j to arg2
'preview'

java.lang.reflect.InvocationTargetException: java.lang.NullPointerException
	at java.lang.Throwable.&lt;init&gt;(Throwable.java)
	at java.lang.Throwable.&lt;init&gt;(Throwable.java)
	at java.lang.NullPointerException.&lt;init&gt;(NullPointerException.java:63)
	at 
org.eclipse.jdt.internal.corext.refactoring.code.ExtractMethodRefactoring.create
CallNodes(ExtractMethodRefactoring.java:513)
	at 
org.eclipse.jdt.internal.corext.refactoring.code.ExtractMethodRefactoring.replac
eDuplicates(ExtractMethodRefactoring.java:569)
	at 
org.eclipse.jdt.internal.corext.refactoring.code.ExtractMethodRefactoring.create
Change(ExtractMethodRefactoring.java:367)
	at org.eclipse.jdt.internal.ui.refactoring.CreateChangeOperation.run
(CreateChangeOperation.java:104)
	at org.eclipse.jface.operation.ModalContext$ModalContextThread.run
(ModalContext.java:101)
*** Bug 39861 has been marked as a duplicate of this bug. ***
Fixed for M2</WithStack>
    <WithOutStack>20030703+latest 0709

public class A {

	void f(){
		int i= 0;
		int j= 1;
		int k= i+j;

		int i1= 0;
		int j1= 1;
		int k1= i+j;
	}
}

select i+j
type 'add' as method name
change arg name from i to arg1
change arg name from j to arg2
'preview'


*** Bug 39861 has been marked as a duplicate of this bug. ***
Fixed for M2</WithOutStack>
  </Bug>
  <Bug>
    <BugId amount="39860" />
    <CreationDate amount="2003-07-10 07:26:00 -0400" />
    <DupId amount="39028" />
    <classification amount="Eclipse" />
    <Product amount="JDT" />
    <component amount="UI" />
    <Version amount="3.0" />
    <rep_platform amount="PC" />
    <op_sys amount="Windows 2000" />
    <priority amount="P3" />
    <bug_severity amount="normal" />
    <Summery>Refactoring - extract method selection range isn't practical</Summery>
    <Patches amount="0" />
    <Stacktraces amount="0" />
    <SourceCodeRegions amount="0" />
    <Enumerations amount="0" />
    <bug_status amount="RESOLVED" />
    <resolution amount="DUPLICATE" />
    <WithStack>Build 20030703

See attached screenshot for exact selection. Basically when attempting to 
extract a method from selected block statements, the extract method action will 
not be offered if the selection is the entire body of the block (obtained by 
double clicking on the block opening curly brace).

Thus it isn't very helpful.
Created attachment 5416
Extract method isn't available in menu given selection


*** This bug has been marked as a duplicate of 39028 ***</WithStack>
    <WithOutStack>Build 20030703

See attached screenshot for exact selection. Basically when attempting to 
extract a method from selected block statements, the extract method action will 
not be offered if the selection is the entire body of the block (obtained by 
double clicking on the block opening curly brace).

Thus it isn't very helpful.
Created attachment 5416
Extract method isn't available in menu given selection


*** This bug has been marked as a duplicate of 39028 ***</WithOutStack>
  </Bug>
  <Bug>
    <BugId amount="39861" />
    <CreationDate amount="2003-07-10 07:28:00 -0400" />
    <DupId amount="39859" />
    <classification amount="Eclipse" />
    <Product amount="JDT" />
    <component amount="UI" />
    <Version amount="3.0" />
    <rep_platform amount="PC" />
    <op_sys amount="Windows 2000" />
    <priority amount="P3" />
    <bug_severity amount="normal" />
    <Summery>NPE during method extraction</Summery>
    <Patches amount="0" />
    <Stacktraces amount="2">
      <Stacktrace timestamp="1437340746599">
        <Exception>java.lang.reflect.InvocationTargetException</Exception>
        <Reason />
        <Frames>
          <Frame depth="0">org.eclipse.jface.operation.ModalContext.runInCurrentThread(ModalContext.java:313)</Frame>
          <Frame depth="1">org.eclipse.jface.operation.ModalContext.run(ModalContext.java:252)</Frame>
          <Frame depth="2">org.eclipse.jdt.internal.ui.refactoring.RefactoringWizardDialog2.run(RefactoringWizardDialog2.java:271)</Frame>
          <Frame depth="3">org.eclipse.jdt.internal.ui.refactoring.PerformRefactoringUtil.performRefactoring(PerformRefactoringUtil.java:53)</Frame>
          <Frame depth="4">org.eclipse.jdt.internal.ui.refactoring.RefactoringWizard.performFinish(RefactoringWizard.java:371)</Frame>
          <Frame depth="5">org.eclipse.jdt.internal.ui.refactoring.UserInputWizardPage.performFinish(UserInputWizardPage.java:119)</Frame>
          <Frame depth="6">org.eclipse.jdt.internal.ui.refactoring.RefactoringWizard.performFinish(RefactoringWizard.java:434)</Frame>
          <Frame depth="7">org.eclipse.jdt.internal.ui.refactoring.RefactoringWizardDialog2.okPressed(RefactoringWizardDialog2.java:395)</Frame>
          <Frame depth="8">org.eclipse.jface.dialogs.Dialog.buttonPressed(Dialog.java:256)</Frame>
          <Frame depth="9">org.eclipse.jface.dialogs.Dialog$1.widgetSelected(Dialog.java:423)</Frame>
          <Frame depth="10">org.eclipse.swt.widgets.TypedListener.handleEvent(TypedListener.java:89)</Frame>
          <Frame depth="11">org.eclipse.swt.widgets.EventTable.sendEvent(EventTable.java:82)</Frame>
          <Frame depth="12">org.eclipse.swt.widgets.Widget.sendEvent(Widget.java:848)</Frame>
          <Frame depth="13">org.eclipse.swt.widgets.Display.runDeferredEvents(Display.java:2041)</Frame>
          <Frame depth="14">org.eclipse.swt.widgets.Display.readAndDispatch(Display.java:1747)</Frame>
          <Frame depth="15">org.eclipse.jface.window.Window.runEventLoop(Window.java:583)</Frame>
          <Frame depth="16">org.eclipse.jface.window.Window.open(Window.java:563)</Frame>
          <Frame depth="17">org.eclipse.jdt.internal.ui.refactoring.actions.RefactoringStarter.activate(RefactoringStarter.java:55)</Frame>
          <Frame depth="18">org.eclipse.jdt.ui.actions.ExtractMethodAction.run(ExtractMethodAction.java:70)</Frame>
          <Frame depth="19">org.eclipse.jdt.ui.actions.SelectionDispatchAction.dispatchRun(SelectionDispatchAction.java:196)</Frame>
          <Frame depth="20">org.eclipse.jdt.ui.actions.SelectionDispatchAction.run(SelectionDispatchAction.java:172)</Frame>
          <Frame depth="21">org.eclipse.jface.action.Action.runWithEvent(Action.java:842)</Frame>
          <Frame depth="22">org.eclipse.jface.action.ActionContributionItem.handleWidgetSelection(ActionContributionItem.java:542)</Frame>
          <Frame depth="23">org.eclipse.jface.action.ActionContributionItem.access$4(ActionContributionItem.java:496)</Frame>
          <Frame depth="24">org.eclipse.jface.action.ActionContributionItem$6.handleEvent(ActionContributionItem.java:468)</Frame>
          <Frame depth="25">org.eclipse.swt.widgets.EventTable.sendEvent(EventTable.java:82)</Frame>
          <Frame depth="26">org.eclipse.swt.widgets.Widget.sendEvent(Widget.java:848)</Frame>
          <Frame depth="27">org.eclipse.swt.widgets.Display.runDeferredEvents(Display.java:2041)</Frame>
          <Frame depth="28">org.eclipse.swt.widgets.Display.readAndDispatch(Display.java:1747)</Frame>
          <Frame depth="29">org.eclipse.ui.internal.Workbench.runEventLoop(Workbench.java:1383)</Frame>
          <Frame depth="30">org.eclipse.ui.internal.Workbench.run(Workbench.java:1366)</Frame>
          <Frame depth="31">org.eclipse.core.internal.boot.InternalBootLoader.run(InternalBootLoader.java:858)</Frame>
          <Frame depth="32">org.eclipse.core.boot.BootLoader.run(BootLoader.java:461)</Frame>
          <Frame depth="33">sun.reflect.NativeMethodAccessorImpl.invoke0(Native Method)</Frame>
          <Frame depth="34">sun.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:39)</Frame>
          <Frame depth="35">sun.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:25)</Frame>
          <Frame depth="36">java.lang.reflect.Method.invoke(Method.java:324)</Frame>
          <Frame depth="37">org.eclipse.core.launcher.Main.basicRun(Main.java:291)</Frame>
          <Frame depth="38">org.eclipse.core.launcher.Main.run(Main.java:747)</Frame>
          <Frame depth="39">org.eclipse.core.launcher.Main.main(Main.java:583)</Frame>
        </Frames>
      </Stacktrace>
      <Cause timestamp="1437340746599">
        <Exception>java.lang.NullPointerException</Exception>
        <Reason />
        <Frames>
          <Frame depth="0">org.eclipse.jdt.internal.corext.refactoring.code.ExtractMethodRefactoring.createCallNodes(ExtractMethodRefactoring.java:513)</Frame>
          <Frame depth="1">org.eclipse.jdt.internal.corext.refactoring.code.ExtractMethodRefactoring.replaceDuplicates(ExtractMethodRefactoring.java:569)</Frame>
          <Frame depth="2">org.eclipse.jdt.internal.corext.refactoring.code.ExtractMethodRefactoring.createChange(ExtractMethodRefactoring.java:367)</Frame>
          <Frame depth="3">org.eclipse.jdt.internal.ui.refactoring.CreateChangeOperation.run(CreateChangeOperation.java:104)</Frame>
          <Frame depth="4">org.eclipse.jdt.internal.ui.refactoring.PerformChangeOperation.run(PerformChangeOperation.java:138)</Frame>
          <Frame depth="5">org.eclipse.jface.operation.ModalContext.runInCurrentThread(ModalContext.java:302)</Frame>
        </Frames>
      </Cause>
    </Stacktraces>
    <SourceCodeRegions amount="0" />
    <Enumerations amount="1">
      <Enumeration lines="7">
        <Lines>
          <Line>- catch up JDT/Core HEAD</Line>
          <Line>- edit org.eclipse.jdt.internal.compiler.ast.CastExpression, using attached</Line>
          <Line>copy of it</Line>
          <Line>- select lines from 256 to 277 (inclusive)</Line>
          <Line>- try to extract it as a separate method</Line>
          <Line>Created attachment 5415</Line>
          <Line>Contents of editor</Line>
        </Lines>
      </Enumeration>
    </Enumerations>
    <bug_status amount="RESOLVED" />
    <resolution amount="DUPLICATE" />
    <WithStack>Build 20030703

When trying to extract a method from a group of block statements, an error 
dialog opened, and following got dumped to the console:

!ENTRY org.eclipse.jdt.ui 4 10001 Jul 10, 2003 13:21:01.490
!MESSAGE Internal Error
!STACK 0
java.lang.reflect.InvocationTargetException
        at org.eclipse.jface.operation.ModalContext.runInCurrentThread
(ModalContext.java:313)
        at org.eclipse.jface.operation.ModalContext.run(ModalContext.java:252)
        at org.eclipse.jdt.internal.ui.refactoring.RefactoringWizardDialog2.run
(RefactoringWizardDialog2.java:271)
        at 
org.eclipse.jdt.internal.ui.refactoring.PerformRefactoringUtil.performRefactorin
g(PerformRefactoringUtil.java:53)
        at 
org.eclipse.jdt.internal.ui.refactoring.RefactoringWizard.performFinish
(RefactoringWizard.java:371)
        at 
org.eclipse.jdt.internal.ui.refactoring.UserInputWizardPage.performFinish
(UserInputWizardPage.java:119)
        at 
org.eclipse.jdt.internal.ui.refactoring.RefactoringWizard.performFinish
(RefactoringWizard.java:434)
        at 
org.eclipse.jdt.internal.ui.refactoring.RefactoringWizardDialog2.okPressed
(RefactoringWizardDialog2.java:395)
        at org.eclipse.jface.dialogs.Dialog.buttonPressed(Dialog.java:256)
        at org.eclipse.jface.dialogs.Dialog$1.widgetSelected(Dialog.java:423)
        at org.eclipse.swt.widgets.TypedListener.handleEvent
(TypedListener.java:89)
        at org.eclipse.swt.widgets.EventTable.sendEvent(EventTable.java:82)
        at org.eclipse.swt.widgets.Widget.sendEvent(Widget.java:848)
        at org.eclipse.swt.widgets.Display.runDeferredEvents(Display.java:2041)
        at org.eclipse.swt.widgets.Display.readAndDispatch(Display.java:1747)
        at org.eclipse.jface.window.Window.runEventLoop(Window.java:583)
        at org.eclipse.jface.window.Window.open(Window.java:563)
        at 
org.eclipse.jdt.internal.ui.refactoring.actions.RefactoringStarter.activate
(RefactoringStarter.java:55)
        at org.eclipse.jdt.ui.actions.ExtractMethodAction.run
(ExtractMethodAction.java:70)
        at org.eclipse.jdt.ui.actions.SelectionDispatchAction.dispatchRun
(SelectionDispatchAction.java:196)
        at org.eclipse.jdt.ui.actions.SelectionDispatchAction.run
(SelectionDispatchAction.java:172)
        at org.eclipse.jface.action.Action.runWithEvent(Action.java:842)
        at org.eclipse.jface.action.ActionContributionItem.handleWidgetSelection
(ActionContributionItem.java:542)
        at org.eclipse.jface.action.ActionContributionItem.access$4
(ActionContributionItem.java:496)
        at org.eclipse.jface.action.ActionContributionItem$6.handleEvent
(ActionContributionItem.java:468)
        at org.eclipse.swt.widgets.EventTable.sendEvent(EventTable.java:82)
        at org.eclipse.swt.widgets.Widget.sendEvent(Widget.java:848)
        at org.eclipse.swt.widgets.Display.runDeferredEvents(Display.java:2041)
        at org.eclipse.swt.widgets.Display.readAndDispatch(Display.java:1747)
        at org.eclipse.ui.internal.Workbench.runEventLoop(Workbench.java:1383)
        at org.eclipse.ui.internal.Workbench.run(Workbench.java:1366)
        at org.eclipse.core.internal.boot.InternalBootLoader.run
(InternalBootLoader.java:858)
        at org.eclipse.core.boot.BootLoader.run(BootLoader.java:461)
        at sun.reflect.NativeMethodAccessorImpl.invoke0(Native Method)
        at sun.reflect.NativeMethodAccessorImpl.invoke
(NativeMethodAccessorImpl.java:39)
        at sun.reflect.DelegatingMethodAccessorImpl.invoke
(DelegatingMethodAccessorImpl.java:25)
        at java.lang.reflect.Method.invoke(Method.java:324)
        at org.eclipse.core.launcher.Main.basicRun(Main.java:291)
        at org.eclipse.core.launcher.Main.run(Main.java:747)
        at org.eclipse.core.launcher.Main.main(Main.java:583)
Caused by: java.lang.NullPointerException
        at 
org.eclipse.jdt.internal.corext.refactoring.code.ExtractMethodRefactoring.create
CallNodes(ExtractMethodRefactoring.java:513)
        at 
org.eclipse.jdt.internal.corext.refactoring.code.ExtractMethodRefactoring.replac
eDuplicates(ExtractMethodRefactoring.java:569)
        at 
org.eclipse.jdt.internal.corext.refactoring.code.ExtractMethodRefactoring.create
Change(ExtractMethodRefactoring.java:367)
        at org.eclipse.jdt.internal.ui.refactoring.CreateChangeOperation.run
(CreateChangeOperation.java:104)
        at org.eclipse.jdt.internal.ui.refactoring.PerformChangeOperation.run
(PerformChangeOperation.java:138)
        at org.eclipse.jface.operation.ModalContext.runInCurrentThread
(ModalContext.java:302)
        ... 39 more
- catch up JDT/Core HEAD
- edit org.eclipse.jdt.internal.compiler.ast.CastExpression, using attached 
copy of it
- select lines from 256 to 277 (inclusive)
- try to extract it as a separate method
Created attachment 5415
Contents of editor


*** This bug has been marked as a duplicate of 39859 ***</WithStack>
    <WithOutStack>Build 20030703

When trying to extract a method from a group of block statements, an error 
dialog opened, and following got dumped to the console:

!ENTRY org.eclipse.jdt.ui 4 10001 Jul 10, 2003 13:21:01.490
!MESSAGE Internal Error
!STACK 0


        ... 39 more
- catch up JDT/Core HEAD
- edit org.eclipse.jdt.internal.compiler.ast.CastExpression, using attached 
copy of it
- select lines from 256 to 277 (inclusive)
- try to extract it as a separate method
Created attachment 5415
Contents of editor


*** This bug has been marked as a duplicate of 39859 ***</WithOutStack>
  </Bug>
  <Bug>
    <BugId amount="39862" />
    <CreationDate amount="2003-07-10 07:37:00 -0400" />
    <DupId amount="" />
    <classification amount="Eclipse" />
    <Product amount="JDT" />
    <component amount="UI" />
    <Version amount="3.0" />
    <rep_platform amount="PC" />
    <op_sys amount="Windows 2000" />
    <priority amount="P3" />
    <bug_severity amount="enhancement" />
    <Summery>use supertype: cannot control whether instanceof references are updated [refactoring]</Summery>
    <Patches amount="0" />
    <Stacktraces amount="0" />
    <SourceCodeRegions amount="3">
      <source_code type="class">
        <location start="377" end="388" />
        <code>class A { }</code>
      </source_code>
      <source_code type="class">
        <location start="390" end="481" />
        <code>class B extends A { // use supertype 'A' for 'B' where possible
	public void beeOnly() {}
}</code>
      </source_code>
      <source_code type="class">
        <location start="483" end="607" />
        <code>class User {
	void use(A a) {
		if (a instanceof B) { // 'B' wrongly replaced by 'A'
			B b= (B) a;
			b.beeOnly();
		}
	}
}</code>
      </source_code>
    </SourceCodeRegions>
    <Enumerations amount="0" />
    <bug_status amount="RESOLVED" />
    <resolution amount="FIXED" />
    <WithStack>20030709
*** Bug 39947 has been marked as a duplicate of this bug. ***
Instanceof references are currently updated regardless of whether the guarded
cast can also be updated. In the following example, the instanceof-type is
replaced, which is wrong.

Same problem when extracting interface IBee from B with 'Change references...'
checked and member 'beeOnly()' NOT checked. 


class A { }

class B extends A { // use supertype 'A' for 'B' where possible
	public void beeOnly() {}
}

class User {
	void use(A a) {
		if (a instanceof B) { // 'B' wrongly replaced by 'A'
			B b= (B) a;
			b.beeOnly();
		}
	}
}
New owner.
Fixed &gt; 20050311</WithStack>
    <WithOutStack>20030709
*** Bug 39947 has been marked as a duplicate of this bug. ***
Instanceof references are currently updated regardless of whether the guarded
cast can also be updated. In the following example, the instanceof-type is
replaced, which is wrong.

Same problem when extracting interface IBee from B with 'Change references...'
checked and member 'beeOnly()' NOT checked. 


class A { }

class B extends A { // use supertype 'A' for 'B' where possible
	public void beeOnly() {}
}

class User {
	void use(A a) {
		if (a instanceof B) { // 'B' wrongly replaced by 'A'
			B b= (B) a;
			b.beeOnly();
		}
	}
}
New owner.
Fixed &gt; 20050311</WithOutStack>
  </Bug>
  <Bug>
    <BugId amount="39863" />
    <CreationDate amount="2003-07-10 07:42:00 -0400" />
    <DupId amount="" />
    <classification amount="Eclipse" />
    <Product amount="Platform" />
    <component amount="SWT" />
    <Version amount="3.0" />
    <rep_platform amount="All" />
    <op_sys amount="All" />
    <priority amount="P3" />
    <bug_severity amount="major" />
    <Summery>TableViewer / cellModifier / ComboBoxCellEditor: new value not set</Summery>
    <Patches amount="0" />
    <Stacktraces amount="0" />
    <SourceCodeRegions amount="6">
      <source_code type="functiondef">
        <location start="353" end="403" />
        <code>ICellModifier cellModifier = new ICellModifier() {</code>
      </source_code>
      <source_code type="functiondef">
        <location start="404" end="473" />
        <code>public void modify(Object element, String property, Object value) {</code>
      </source_code>
      <source_code type="assignment">
        <location start="474" end="504" />
        <code>Item item = (Item)element;</code>
      </source_code>
      <source_code type="assignment">
        <location start="505" end="557" />
        <code>Etabl_md_spec e = (Etabl_md_spec)item.getData();</code>
      </source_code>
      <source_code type="functioncall">
        <location start="558" end="632" />
        <code>System.out.println("Dans modify, " + e + ", P: "+ property+" "+value);</code>
      </source_code>
      <source_code type="singlecomment">
        <location start="1459" end="1549" />
        <code>//here table viewer activates cell editor for clicked cell, sets value of a clicked cell.</code>
      </source_code>
    </SourceCodeRegions>
    <Enumerations amount="0" />
    <bug_status amount="RESOLVED" />
    <resolution amount="FIXED" />
    <WithStack>I create a TableViewer in the createPartControl of a defined editor and in this
viewer, some columns use a ComboBoxCellEditor. Everything works as expected when
the user click a choice in the combo but if the selection is done with the
arrows, the value does not get updated in the ICellModifier. I also have a
TextCellEditor and this data is updated.

ICellModifier cellModifier = new ICellModifier() {
  public void modify(Object element, String property, Object value) {
    Item item = (Item)element;
    Etabl_md_spec e = (Etabl_md_spec)item.getData();
    System.out.println("Dans modify, " + e + ", P: "+ property+" "+value);
...


In this cellModifier.modify, normally we expect the value param to have the new
value (tested with the println). It is ok with the TextCell. But  for the
comboCell, if i use the arrow to change the value and press TAB, the value
object that I get in this modify method is the old one. But if the choice is
made with the mouse and I press TAB, then the value is the new one.

I use Macosx with Integr. build 20030618.
This might be related to bug #39714
____ Problem:
There is a problem with CCombo control which sends FocusOut event notification 
by calling Display.asyncExec() with runnable notifying event listeners subscribed 
for FocusOut event. That causes normal event sequence order to be broken:

____ Details:
For example, on click from one cell to another cell of the same column we get

FocusIn, MouseDown...
//here table viewer activates cell editor for clicked cell, sets value of a clicked cell.
FocusOut (cell editor updates cell with value that was just set, previousely being 
edited cell stays unchanged)

____ Workaroud:
I had to change CCombo class by allowing all child controls to fire focus events to 
private listener object that performs event filtering. Here is the class. Some 
functionality has been changed so it may be not sutable for your purposes, but 
general workaround mechanism is shown here anyway.



Created attachment 8382
example of CCombo fix

Here is class source.

I didn't perfomed deep test, but it seems to work...
The bug described in comment #2, in which the FocusIn happens in one control 
before the FocusOut happens in another, also occurs for me on Windows.  This 
is a show-stopper bug in an application with a table with many 
ComboBoxCellEditors.  The behavior that I'm seeing is that setting a value in 
one combo box and then clicking to another one will change the value in the 
second combo box.
After additional testing, I confirmed that this bug also occurs on RedHat 
Linux 9.0 and Solaris.
*** Bug 67079 has been marked as a duplicate of this bug. ***
It appears that this rather old defect is the cause of bugzilla 67079, a major 
severity defect affecting Hyades and its consuming products (particularly, 
Rational Functional Tester, part of the Atlantic release.)  This defect 
happens for us on Windows and RedHat Linux.  Accordingly, I am updating the 
severity of the defect to major, and will ask that it be tracked by IES for 
inclusion in the 3.0.1 release.

The described workaround is not applicable for us, because, in the same 
situation as the original defect filer, we are using ComboBoxCellEditor, which 
creates and manages its CCombo object independantly.

This appears to be a regression that was introduced over a year ago, as a fix 
for bugzilla 29607.  
http://dev.eclipse.org/viewcvs/index.cgi/org.eclipse.swt/Eclipse%20SWT%
20Custom%20Widgets/common/org/eclipse/swt/custom/CCombo.java.diff?
r1=1.23&amp;r2=1.24&amp;cvsroot=Eclipse_Project

I do not understand the rationale for this change as a fix to 29607 -- I don't 
question that it may have fixed the GTK timing issue, but it seems to me (and 
this could be my ignorance) to have simply introduced a race condition in the 
focus event handling of CCombo.  Why should the FocusOut event of CCombo be 
sent asynchronously, thus allowing FocusIn events (which are processed 
synchronously) to be handled before the previous FocusOut event is even 
dispatched?
SSQ to investigate.
Hi Joe, just to be clear, although you are allowed to set the "Target 
Milestone" field in a bug report, the field is really reserved for Eclipse 
committers.  You shouldn't be setting it.

Never the less, we are considering this bug report for 3.0.1.
Hi Steve,

Sorry for overstepping my bounds by setting the Target Milestone.  I do this 
all the time for Hyades defects (since I am a Hyades committer), and in my 
eagerness to get this on your radar, I didn't consider whatever processes you 
have in place for managing this field.

Thanks for investigating this issue.

--Joe
Fixed in HEAD and 3.0.1 (&gt;20040804).
This bug still ocurs on Eclipse with jface 3.1 on my TextCellEditor ...
What platform are you running?
see bug 54989.
(In reply to comment #13)
&gt; What platform are you running?
I running with Windows XP and Eclipse 3.1 java.runtime.version=1.5.0_04-b05,
jface 3.1
Its happens only when i select a previus TextCellEditor, the modify method is
called with the value of the old TextCellEditor.

The example at
http://www.eclipse.org/articles/Article-Table-viewer/table_viewer.html has the
same problems ... 

After installing the plug in, and according to the example running with "Window
-&gt; Show View -&gt; Other... -&gt; Examples -&gt; TableViewerExample ", if you put the
values at "% complete" column with one digit value sequentialy, it has no
problems, but if you put a 2 digits value and after editing an cell, move to a
previus cell, the modify method put an old value instead of the real value of
the cell ...


Thanks ...</WithStack>
    <WithOutStack>I create a TableViewer in the createPartControl of a defined editor and in this
viewer, some columns use a ComboBoxCellEditor. Everything works as expected when
the user click a choice in the combo but if the selection is done with the
arrows, the value does not get updated in the ICellModifier. I also have a
TextCellEditor and this data is updated.

ICellModifier cellModifier = new ICellModifier() {
  public void modify(Object element, String property, Object value) {
    Item item = (Item)element;
    Etabl_md_spec e = (Etabl_md_spec)item.getData();
    System.out.println("Dans modify, " + e + ", P: "+ property+" "+value);
...


In this cellModifier.modify, normally we expect the value param to have the new
value (tested with the println). It is ok with the TextCell. But  for the
comboCell, if i use the arrow to change the value and press TAB, the value
object that I get in this modify method is the old one. But if the choice is
made with the mouse and I press TAB, then the value is the new one.

I use Macosx with Integr. build 20030618.
This might be related to bug #39714
____ Problem:
There is a problem with CCombo control which sends FocusOut event notification 
by calling Display.asyncExec() with runnable notifying event listeners subscribed 
for FocusOut event. That causes normal event sequence order to be broken:

____ Details:
For example, on click from one cell to another cell of the same column we get

FocusIn, MouseDown...
//here table viewer activates cell editor for clicked cell, sets value of a clicked cell.
FocusOut (cell editor updates cell with value that was just set, previousely being 
edited cell stays unchanged)

____ Workaroud:
I had to change CCombo class by allowing all child controls to fire focus events to 
private listener object that performs event filtering. Here is the class. Some 
functionality has been changed so it may be not sutable for your purposes, but 
general workaround mechanism is shown here anyway.



Created attachment 8382
example of CCombo fix

Here is class source.

I didn't perfomed deep test, but it seems to work...
The bug described in comment #2, in which the FocusIn happens in one control 
before the FocusOut happens in another, also occurs for me on Windows.  This 
is a show-stopper bug in an application with a table with many 
ComboBoxCellEditors.  The behavior that I'm seeing is that setting a value in 
one combo box and then clicking to another one will change the value in the 
second combo box.
After additional testing, I confirmed that this bug also occurs on RedHat 
Linux 9.0 and Solaris.
*** Bug 67079 has been marked as a duplicate of this bug. ***
It appears that this rather old defect is the cause of bugzilla 67079, a major 
severity defect affecting Hyades and its consuming products (particularly, 
Rational Functional Tester, part of the Atlantic release.)  This defect 
happens for us on Windows and RedHat Linux.  Accordingly, I am updating the 
severity of the defect to major, and will ask that it be tracked by IES for 
inclusion in the 3.0.1 release.

The described workaround is not applicable for us, because, in the same 
situation as the original defect filer, we are using ComboBoxCellEditor, which 
creates and manages its CCombo object independantly.

This appears to be a regression that was introduced over a year ago, as a fix 
for bugzilla 29607.  
http://dev.eclipse.org/viewcvs/index.cgi/org.eclipse.swt/Eclipse%20SWT%
20Custom%20Widgets/common/org/eclipse/swt/custom/CCombo.java.diff?
r1=1.23&amp;r2=1.24&amp;cvsroot=Eclipse_Project

I do not understand the rationale for this change as a fix to 29607 -- I don't 
question that it may have fixed the GTK timing issue, but it seems to me (and 
this could be my ignorance) to have simply introduced a race condition in the 
focus event handling of CCombo.  Why should the FocusOut event of CCombo be 
sent asynchronously, thus allowing FocusIn events (which are processed 
synchronously) to be handled before the previous FocusOut event is even 
dispatched?
SSQ to investigate.
Hi Joe, just to be clear, although you are allowed to set the "Target 
Milestone" field in a bug report, the field is really reserved for Eclipse 
committers.  You shouldn't be setting it.

Never the less, we are considering this bug report for 3.0.1.
Hi Steve,

Sorry for overstepping my bounds by setting the Target Milestone.  I do this 
all the time for Hyades defects (since I am a Hyades committer), and in my 
eagerness to get this on your radar, I didn't consider whatever processes you 
have in place for managing this field.

Thanks for investigating this issue.

--Joe
Fixed in HEAD and 3.0.1 (&gt;20040804).
This bug still ocurs on Eclipse with jface 3.1 on my TextCellEditor ...
What platform are you running?
see bug 54989.
(In reply to comment #13)
&gt; What platform are you running?
I running with Windows XP and Eclipse 3.1 java.runtime.version=1.5.0_04-b05,
jface 3.1
Its happens only when i select a previus TextCellEditor, the modify method is
called with the value of the old TextCellEditor.

The example at
http://www.eclipse.org/articles/Article-Table-viewer/table_viewer.html has the
same problems ... 

After installing the plug in, and according to the example running with "Window
-&gt; Show View -&gt; Other... -&gt; Examples -&gt; TableViewerExample ", if you put the
values at "% complete" column with one digit value sequentialy, it has no
problems, but if you put a 2 digits value and after editing an cell, move to a
previus cell, the modify method put an old value instead of the real value of
the cell ...


Thanks ...</WithOutStack>
  </Bug>
  <Bug>
    <BugId amount="39864" />
    <CreationDate amount="2003-07-10 07:46:00 -0400" />
    <DupId amount="" />
    <classification amount="Tools" />
    <Product amount="CDT" />
    <component amount="cdt-debug" />
    <Version amount="1.2" />
    <rep_platform amount="PC" />
    <op_sys amount="Windows 2000" />
    <priority amount="P3" />
    <bug_severity amount="normal" />
    <Summery>Unable to switch to hexdecimal mode</Summery>
    <Patches amount="0" />
    <Stacktraces amount="0" />
    <SourceCodeRegions amount="0" />
    <Enumerations amount="0" />
    <bug_status amount="RESOLVED" />
    <resolution amount="WONTFIX" />
    <WithStack>I'm unable to change to hex mode. I'll include a picture.

Tried right clicking menu on item and changing default in preferences.

Øyvind
Created attachment 5417
No hex mode

I was able to switch to hex mode earlier today...

Øyvind
Ah!

The type I was trying to show was cyg_uint8 from eCos. If I cast the expression 
to char it works.


typedef unsigned cyg_halint8    cyg_uint8  ;
typedef   signed cyg_halint8    cyg_int8   ;



Alain, I can not convert this variable to the hex format because the type of it 
is unknown.
Which type ?
does "ptype &lt;the_type_name&gt;"
works in the gdb console ?
Is this a gdb cygwin issue ?

&gt; The type I was trying to show was cyg_uint8 from eCos.
&gt; If I cast the expression  to char it works.

&gt; typedef unsigned cyg_halint8    cyg_uint8  ;
&gt; typedef   signed cyg_halint8    cyg_int8   ;


Unfortunately gdb does not show what are those types ... probably because
they are builtins, so we have no idea of the types.

Mikhail unless you have way to deal with incomplete type,
turn this to "WONTFIX" or something.  Not much I can do on the GDB side.
PR was targeted at 2.0 but was not resolved at release time. Changing target 
to 2.1
&gt; Mikhail unless you have way to deal with incomplete type,
&gt; turn this to "WONTFIX" or something.  Not much I can do on the GDB side.

Again not much I can do.

If one of you have a solution, please reopen.</WithStack>
    <WithOutStack>I'm unable to change to hex mode. I'll include a picture.

Tried right clicking menu on item and changing default in preferences.

Øyvind
Created attachment 5417
No hex mode

I was able to switch to hex mode earlier today...

Øyvind
Ah!

The type I was trying to show was cyg_uint8 from eCos. If I cast the expression 
to char it works.


typedef unsigned cyg_halint8    cyg_uint8  ;
typedef   signed cyg_halint8    cyg_int8   ;



Alain, I can not convert this variable to the hex format because the type of it 
is unknown.
Which type ?
does "ptype &lt;the_type_name&gt;"
works in the gdb console ?
Is this a gdb cygwin issue ?

&gt; The type I was trying to show was cyg_uint8 from eCos.
&gt; If I cast the expression  to char it works.

&gt; typedef unsigned cyg_halint8    cyg_uint8  ;
&gt; typedef   signed cyg_halint8    cyg_int8   ;


Unfortunately gdb does not show what are those types ... probably because
they are builtins, so we have no idea of the types.

Mikhail unless you have way to deal with incomplete type,
turn this to "WONTFIX" or something.  Not much I can do on the GDB side.
PR was targeted at 2.0 but was not resolved at release time. Changing target 
to 2.1
&gt; Mikhail unless you have way to deal with incomplete type,
&gt; turn this to "WONTFIX" or something.  Not much I can do on the GDB side.

Again not much I can do.

If one of you have a solution, please reopen.</WithOutStack>
  </Bug>
  <Bug>
    <BugId amount="39865" />
    <CreationDate amount="2003-07-10 08:21:00 -0400" />
    <DupId amount="" />
    <classification amount="Eclipse" />
    <Product amount="JDT" />
    <component amount="Core" />
    <Version amount="3.0" />
    <rep_platform amount="PC" />
    <op_sys amount="Windows 2000" />
    <priority amount="P3" />
    <bug_severity amount="normal" />
    <Summery>Misleading error diagnosis on broken method signatures</Summery>
    <Patches amount="0" />
    <Stacktraces amount="0" />
    <SourceCodeRegions amount="1">
      <source_code type="class">
        <location start="69" end="132" />
        <code>public class X {
	public void foo(X, Object o, String s) {
	}
}</code>
      </source_code>
    </SourceCodeRegions>
    <Enumerations amount="0" />
    <bug_status amount="VERIFIED" />
    <resolution amount="FIXED" />
    <WithStack>Build 20030703

On following source (missing first parameter name),

public class X {
	public void foo(X, Object o, String s) {
	}
}
	
The inferred syntax errors are not helpful:

Syntax error, insert "}" to complete ClassBody            line 4
Syntax error on token ",", ; expected                     line 4
Syntax error on token ",", . expected                     line 4	
Syntax error on token "(", { expected after this token    line 4
Syntax error on token ")", ; expected                     line 4
Syntax error on tokens, delete these tokens               line 4
Body start is placed on first opening parenthesis since rest of the signature 
is broken. This interferes with diet/body dual diagnosis. 

When diagnosing incorrect signatures, it should provide the entire method 
declaration, leaving the diagnosis processing it. Then no subsequent diagnosis 
should occur when parsing the method body (and it should simply skip it then).

Fixed.
Verified.</WithStack>
    <WithOutStack>Build 20030703

On following source (missing first parameter name),

public class X {
	public void foo(X, Object o, String s) {
	}
}
	
The inferred syntax errors are not helpful:

Syntax error, insert "}" to complete ClassBody            line 4
Syntax error on token ",", ; expected                     line 4
Syntax error on token ",", . expected                     line 4	
Syntax error on token "(", { expected after this token    line 4
Syntax error on token ")", ; expected                     line 4
Syntax error on tokens, delete these tokens               line 4
Body start is placed on first opening parenthesis since rest of the signature 
is broken. This interferes with diet/body dual diagnosis. 

When diagnosing incorrect signatures, it should provide the entire method 
declaration, leaving the diagnosis processing it. Then no subsequent diagnosis 
should occur when parsing the method body (and it should simply skip it then).

Fixed.
Verified.</WithOutStack>
  </Bug>
  <Bug>
    <BugId amount="39866" />
    <CreationDate amount="2003-07-10 08:44:00 -0400" />
    <DupId amount="" />
    <classification amount="Eclipse" />
    <Product amount="Platform" />
    <component amount="UI" />
    <Version amount="2.1" />
    <rep_platform amount="PC" />
    <op_sys amount="Windows 2000" />
    <priority amount="P3" />
    <bug_severity amount="normal" />
    <Summery>tool tips icon</Summery>
    <Patches amount="0" />
    <Stacktraces amount="0" />
    <SourceCodeRegions amount="0" />
    <Enumerations amount="0" />
    <bug_status amount="RESOLVED" />
    <resolution amount="INVALID" />
    <WithStack>I would like to have implemented back the tool bar icon for switching on and off
the tool tips in the java text editors. This icon existed until Eclipse version
2.0.2, and since version 2.1 has being removed
Thanks
This is now part of a Preference:
Window-&gt;Preferences-&gt;Java-&gt;Editor
Select tab Hovers and disable 'Best Match'

Further queries about this should be directed to JDT/UI instead of Platform/UI</WithStack>
    <WithOutStack>I would like to have implemented back the tool bar icon for switching on and off
the tool tips in the java text editors. This icon existed until Eclipse version
2.0.2, and since version 2.1 has being removed
Thanks
This is now part of a Preference:
Window-&gt;Preferences-&gt;Java-&gt;Editor
Select tab Hovers and disable 'Best Match'

Further queries about this should be directed to JDT/UI instead of Platform/UI</WithOutStack>
  </Bug>
  <Bug>
    <BugId amount="39867" />
    <CreationDate amount="2003-07-10 08:47:00 -0400" />
    <DupId amount="24613" />
    <classification amount="Eclipse" />
    <Product amount="JDT" />
    <component amount="Text" />
    <Version amount="2.1" />
    <rep_platform amount="PC" />
    <op_sys amount="Windows 2000" />
    <priority amount="P3" />
    <bug_severity amount="normal" />
    <Summery>method names completion with semicolon</Summery>
    <Patches amount="0" />
    <Stacktraces amount="0" />
    <SourceCodeRegions amount="0" />
    <Enumerations amount="0" />
    <bug_status amount="RESOLVED" />
    <resolution amount="DUPLICATE" />
    <WithStack>Is it possible an option to be implemented in the preferences to choose how a
method completion to be performed - with or without a semicolon at the end.
Thanks
There is no such option currently - but semicolon completion will be in one of
the upcoming builds.


*** This bug has been marked as a duplicate of 24613 ***</WithStack>
    <WithOutStack>Is it possible an option to be implemented in the preferences to choose how a
method completion to be performed - with or without a semicolon at the end.
Thanks
There is no such option currently - but semicolon completion will be in one of
the upcoming builds.


*** This bug has been marked as a duplicate of 24613 ***</WithOutStack>
  </Bug>
  <Bug>
    <BugId amount="39868" />
    <CreationDate amount="2003-07-10 09:28:00 -0400" />
    <DupId amount="15119" />
    <classification amount="Eclipse" />
    <Product amount="Platform" />
    <component amount="Team" />
    <Version amount="2.1" />
    <rep_platform amount="PC" />
    <op_sys amount="Windows 2000" />
    <priority amount="P3" />
    <bug_severity amount="normal" />
    <Summery>All new files are treated as binary</Summery>
    <Patches amount="0" />
    <Stacktraces amount="0" />
    <SourceCodeRegions amount="0" />
    <Enumerations amount="0" />
    <bug_status amount="RESOLVED" />
    <resolution amount="DUPLICATE" />
    <WithStack>All new files are treated as binary files if not known by the File Content-
preferences. Files should only be treated as binary if the "Treat all new files 
as binary"-option is enabled.
No, the "treat all new files as binary" option means treat ALL new files as 
binary ignoring the file content types. This is for support of locales that 
have non-ASCII character sets for all file types.

*** This bug has been marked as a duplicate of 15119 ***</WithStack>
    <WithOutStack>All new files are treated as binary files if not known by the File Content-
preferences. Files should only be treated as binary if the "Treat all new files 
as binary"-option is enabled.
No, the "treat all new files as binary" option means treat ALL new files as 
binary ignoring the file content types. This is for support of locales that 
have non-ASCII character sets for all file types.

*** This bug has been marked as a duplicate of 15119 ***</WithOutStack>
  </Bug>
  <Bug>
    <BugId amount="39869" />
    <CreationDate amount="2003-07-10 09:43:00 -0400" />
    <DupId amount="102334" />
    <classification amount="Eclipse" />
    <Product amount="Platform" />
    <component amount="SWT" />
    <Version amount="3.0" />
    <rep_platform amount="PC" />
    <op_sys amount="QNX-Photon" />
    <priority amount="P3" />
    <bug_severity amount="trivial" />
    <Summery>Table widget doesn't redraw if headers are visible</Summery>
    <Patches amount="0" />
    <Stacktraces amount="0" />
    <SourceCodeRegions amount="0" />
    <Enumerations amount="0" />
    <bug_status amount="RESOLVED" />
    <resolution amount="DUPLICATE" />
    <WithStack>When the Table widget is scrolling horizontal it doesn't redraw itself. It's only
if hearders are visible.

I don't put any exapmle because I saw it in all programs (eclise IDE also).

I use QNX PE 6.2.0.
*** Bug 39873 has been marked as a duplicate of this bug. ***


*** This bug has been marked as a duplicate of 102334 ***</WithStack>
    <WithOutStack>When the Table widget is scrolling horizontal it doesn't redraw itself. It's only
if hearders are visible.

I don't put any exapmle because I saw it in all programs (eclise IDE also).

I use QNX PE 6.2.0.
*** Bug 39873 has been marked as a duplicate of this bug. ***


*** This bug has been marked as a duplicate of 102334 ***</WithOutStack>
  </Bug>
  <Bug>
    <BugId amount="39870" />
    <CreationDate amount="2003-07-10 10:04:00 -0400" />
    <DupId amount="" />
    <classification amount="Eclipse" />
    <Product amount="Platform" />
    <component amount="Team" />
    <Version amount="3.0" />
    <rep_platform amount="PC" />
    <op_sys amount="Windows XP" />
    <priority amount="P3" />
    <bug_severity amount="normal" />
    <Summery>Checkout with backgroud enabled fails</Summery>
    <Patches amount="0" />
    <Stacktraces amount="1">
      <Stacktrace timestamp="1437340746609">
        <Exception>org.eclipse.core.internal.resources.ResourceException</Exception>
        <Reason>Resource /org.eclipse.team.core/.classpath already exists.</Reason>
        <Frames>
          <Frame depth="0">java.lang.Throwable.&lt;init&gt;(Throwable.java)</Frame>
          <Frame depth="1">java.lang.Throwable.&lt;init&gt;(Throwable.java)</Frame>
          <Frame depth="2">org.eclipse.core.runtime.CoreException.&lt;init&gt;(CoreException.java:35)</Frame>
          <Frame depth="3">org.eclipse.core.internal.resources.ResourceException.&lt;init&gt;(ResourceException.java:30)</Frame>
          <Frame depth="4">org.eclipse.core.internal.resources.Resource.checkDoesNotExist(Resource.java:291)</Frame>
          <Frame depth="5">org.eclipse.core.internal.resources.Resource.checkDoesNotExist(Resource.java:265)</Frame>
          <Frame depth="6">org.eclipse.core.internal.resources.File.create(File.java:109)</Frame>
          <Frame depth="7">org.eclipse.core.internal.resources.File.create(File.java:184)</Frame>
          <Frame depth="8">org.eclipse.team.internal.ccvs.core.resources.EclipseFile.setContents(EclipseFile.java:218)</Frame>
          <Frame depth="9">org.eclipse.team.internal.ccvs.core.client.Session.receiveFile(Session.java:1073)</Frame>
          <Frame depth="10">org.eclipse.team.internal.ccvs.core.client.UpdatedHandler.receiveTargetFile(UpdatedHandler.java:116)</Frame>
          <Frame depth="11">org.eclipse.team.internal.ccvs.core.client.UpdatedHandler.handle(UpdatedHandler.java:97)</Frame>
          <Frame depth="12">org.eclipse.team.internal.ccvs.core.client.Request.executeRequest(Request.java:213)</Frame>
          <Frame depth="13">org.eclipse.team.internal.ccvs.core.client.Command.doExecute(Command.java:404)</Frame>
          <Frame depth="14">org.eclipse.team.internal.ccvs.core.client.Checkout.doExecute(Checkout.java:166)</Frame>
          <Frame depth="15">org.eclipse.team.internal.ccvs.core.client.Command$1.run(Command.java:336)</Frame>
          <Frame depth="16">org.eclipse.team.internal.ccvs.core.resources.EclipseSynchronizer.run(EclipseSynchronizer.java:1300)</Frame>
          <Frame depth="17">org.eclipse.team.internal.ccvs.core.resources.EclipseFolder$3.run(EclipseFolder.java:302)</Frame>
          <Frame depth="18">org.eclipse.core.internal.resources.Workspace.run(Workspace.java:1595)</Frame>
          <Frame depth="19">org.eclipse.team.internal.ccvs.core.resources.EclipseFolder.run(EclipseFolder.java:299)</Frame>
          <Frame depth="20">org.eclipse.team.internal.ccvs.core.client.Command.execute(Command.java:347)</Frame>
          <Frame depth="21">org.eclipse.team.internal.ccvs.ui.operations.CheckoutProjectOperation.checkout(CheckoutProjectOperation.java:215)</Frame>
          <Frame depth="22">org.eclipse.team.internal.ccvs.ui.operations.CheckoutProjectOperation.checkout(CheckoutProjectOperation.java:160)</Frame>
          <Frame depth="23">org.eclipse.team.internal.ccvs.ui.operations.CheckoutProjectOperation.execute(CheckoutProjectOperation.java:74)</Frame>
          <Frame depth="24">org.eclipse.team.internal.ccvs.ui.operations.CVSOperation$1.run(CVSOperation.java:100)</Frame>
          <Frame depth="25">org.eclipse.core.internal.jobs.Worker.run(Worker.java:58)</Frame>
        </Frames>
      </Stacktrace>
    </Stacktraces>
    <SourceCodeRegions amount="0" />
    <Enumerations amount="0" />
    <bug_status amount="RESOLVED" />
    <resolution amount="FIXED" />
    <WithStack>Checkout, as it stands, cannot be run in the background if the projects exist 
in the workspace. After the first prompt to overwrite, the following exception 
occurs:

org.eclipse.core.internal.resources.ResourceException: 
Resource /org.eclipse.team.core/.classpath already exists.
at java.lang.Throwable.&lt;init&gt;(Throwable.java)
at java.lang.Throwable.&lt;init&gt;(Throwable.java)
at org.eclipse.core.runtime.CoreException.&lt;init&gt;(CoreException.java:35)
at org.eclipse.core.internal.resources.ResourceException.&lt;init&gt;
(ResourceException.java:30)
at org.eclipse.core.internal.resources.Resource.checkDoesNotExist
(Resource.java:291)
at org.eclipse.core.internal.resources.Resource.checkDoesNotExist
(Resource.java:265)
at org.eclipse.core.internal.resources.File.create(File.java:109)
at org.eclipse.core.internal.resources.File.create(File.java:184)
at org.eclipse.team.internal.ccvs.core.resources.EclipseFile.setContents
(EclipseFile.java:218)
at org.eclipse.team.internal.ccvs.core.client.Session.receiveFile
(Session.java:1073)
at org.eclipse.team.internal.ccvs.core.client.UpdatedHandler.receiveTargetFile
(UpdatedHandler.java:116)
at org.eclipse.team.internal.ccvs.core.client.UpdatedHandler.handle
(UpdatedHandler.java:97)
at org.eclipse.team.internal.ccvs.core.client.Request.executeRequest
(Request.java:213)
at org.eclipse.team.internal.ccvs.core.client.Command.doExecute
(Command.java:404)
at org.eclipse.team.internal.ccvs.core.client.Checkout.doExecute
(Checkout.java:166)
at org.eclipse.team.internal.ccvs.core.client.Command$1.run(Command.java:336)
at org.eclipse.team.internal.ccvs.core.resources.EclipseSynchronizer.run
(EclipseSynchronizer.java:1300)
at org.eclipse.team.internal.ccvs.core.resources.EclipseFolder$3.run
(EclipseFolder.java:302)
at org.eclipse.core.internal.resources.Workspace.run(Workspace.java:1595)
at org.eclipse.team.internal.ccvs.core.resources.EclipseFolder.run
(EclipseFolder.java:299)
at org.eclipse.team.internal.ccvs.core.client.Command.execute(Command.java:347)
at 
org.eclipse.team.internal.ccvs.ui.operations.CheckoutProjectOperation.checkout
(CheckoutProjectOperation.java:215)
at 
org.eclipse.team.internal.ccvs.ui.operations.CheckoutProjectOperation.checkout
(CheckoutProjectOperation.java:160)
at 
org.eclipse.team.internal.ccvs.ui.operations.CheckoutProjectOperation.execute
(CheckoutProjectOperation.java:74)
at org.eclipse.team.internal.ccvs.ui.operations.CVSOperation$1.run
(CVSOperation.java:100)
at org.eclipse.core.internal.jobs.Worker.run(Worker.java:58)
Yeah, I've seen this before and can happen with the .project as well.
For M2, checkout operations lock the workspace in CVSOperation which is set to
true by default.

If we don't lock the workspace then any delta listener that changes the files
under the project being checked out can cause problems. The CVS checkout could
be relaxed to allow overwriting of files.
This has not yet been done but should not be difficult. Do you still want it 
for M3?
Fix released to HEAD. Checkout now overwrites existing files</WithStack>
    <WithOutStack>Checkout, as it stands, cannot be run in the background if the projects exist 
in the workspace. After the first prompt to overwrite, the following exception 
occurs:


Yeah, I've seen this before and can happen with the .project as well.
For M2, checkout operations lock the workspace in CVSOperation which is set to
true by default.

If we don't lock the workspace then any delta listener that changes the files
under the project being checked out can cause problems. The CVS checkout could
be relaxed to allow overwriting of files.
This has not yet been done but should not be difficult. Do you still want it 
for M3?
Fix released to HEAD. Checkout now overwrites existing files</WithOutStack>
  </Bug>
  <Bug>
    <BugId amount="39871" />
    <CreationDate amount="2003-07-10 10:09:00 -0400" />
    <DupId amount="" />
    <classification amount="Eclipse" />
    <Product amount="JDT" />
    <component amount="UI" />
    <Version amount="3.0" />
    <rep_platform amount="PC" />
    <op_sys amount="Windows 2000" />
    <priority amount="P3" />
    <bug_severity amount="normal" />
    <Summery>[refactoring] failed Assertion in MoveInstanceAction enablement</Summery>
    <Patches amount="0" />
    <Stacktraces amount="1">
      <Stacktrace timestamp="1437340746609">
        <Exception>org.eclipse.jdt.internal.corext.Assert$AssertionFailedException</Exception>
        <Reason>null argument;</Reason>
        <Frames>
          <Frame depth="0">java.lang.Throwable.&lt;init&gt;(Throwable.java)</Frame>
          <Frame depth="1">java.lang.Throwable.&lt;init&gt;(Throwable.java)</Frame>
          <Frame depth="2">org.eclipse.jdt.internal.corext.Assert$AssertionFailedException.&lt;init&gt;(Assert.java:55)</Frame>
          <Frame depth="3">org.eclipse.jdt.internal.corext.Assert.isNotNull(Assert.java:105)</Frame>
          <Frame depth="4">org.eclipse.jdt.internal.corext.Assert.isNotNull(Assert.java:83)</Frame>
          <Frame depth="5">org.eclipse.jdt.internal.corext.refactoring.structure.InstanceMethodMover$Method.getParameters(InstanceMethodMover.java:1137)</Frame>
          <Frame depth="6">org.eclipse.jdt.internal.corext.refactoring.structure.InstanceMethodMover$Method.addPossibleParameterNewReceivers(InstanceMethodMover.java:1334)</Frame>
          <Frame depth="7">org.eclipse.jdt.internal.corext.refactoring.structure.InstanceMethodMover$Method.findPossibleNewReceivers(InstanceMethodMover.java:1321)</Frame>
          <Frame depth="8">org.eclipse.jdt.internal.corext.refactoring.structure.InstanceMethodMover$Method.getPossibleNewReceivers(InstanceMethodMover.java:1314)</Frame>
          <Frame depth="9">org.eclipse.jdt.internal.corext.refactoring.structure.InstanceMethodMover$Method.checkCanBeMoved(InstanceMethodMover.java:1174)</Frame>
          <Frame depth="10">org.eclipse.jdt.internal.corext.refactoring.structure.InstanceMethodMover.checkInitialState(InstanceMethodMover.java:1850)</Frame>
          <Frame depth="11">org.eclipse.jdt.internal.corext.refactoring.structure.MoveInstanceMethodRefactoring.checkActivation(MoveInstanceMethodRefactoring.java:94)</Frame>
          <Frame depth="12">org.eclipse.jdt.internal.corext.refactoring.structure.MoveInstanceMethodRefactoring.isAvailable(MoveInstanceMethodRefactoring.java:65)</Frame>
          <Frame depth="13">org.eclipse.jdt.internal.ui.refactoring.actions.MoveInstanceMethodAction.canEnable(MoveInstanceMethodAction.java:88)</Frame>
          <Frame depth="14">org.eclipse.jdt.internal.ui.refactoring.actions.MoveInstanceMethodAction.selectionChanged(MoveInstanceMethodAction.java:71)</Frame>
          <Frame depth="15">org.eclipse.jdt.ui.actions.SelectionDispatchAction.dispatchSelectionChanged(SelectionDispatchAction.java:184)</Frame>
          <Frame depth="16">org.eclipse.jdt.ui.actions.SelectionDispatchAction.selectionChanged(SelectionDispatchAction.java:179)</Frame>
          <Frame depth="17">org.eclipse.jdt.ui.actions.MoveAction.selectionChanged(MoveAction.java:100)</Frame>
          <Frame depth="18">org.eclipse.jface.viewers.Viewer$2.run(Viewer.java)</Frame>
          <Frame depth="19">org.eclipse.core.internal.runtime.InternalPlatform.run(InternalPlatform.java)</Frame>
          <Frame depth="20">org.eclipse.core.runtime.Platform.run(Platform.java)</Frame>
          <Frame depth="21">org.eclipse.jface.viewers.Viewer.fireSelectionChanged(Viewer.java:157)</Frame>
          <Frame depth="22">org.eclipse.jface.viewers.StructuredViewer.updateSelection(StructuredViewer.java:1282)</Frame>
          <Frame depth="23">org.eclipse.jface.viewers.StructuredViewer.setSelection(StructuredViewer.java:1012)</Frame>
          <Frame depth="24">org.eclipse.jdt.internal.ui.javaeditor.JavaOutlinePage.select(JavaOutlinePage.java:1057)</Frame>
          <Frame depth="25">org.eclipse.jdt.internal.ui.javaeditor.JavaEditor.synchronizeOutlinePage(JavaEditor.java:1365)</Frame>
          <Frame depth="26">org.eclipse.jdt.internal.ui.javaeditor.JavaEditor$EditorSelectionChangedListener.selectionChanged(JavaEditor.java:250)</Frame>
          <Frame depth="27">org.eclipse.jdt.internal.ui.javaeditor.JavaEditor$EditorSelectionChangedListener.selectionChanged(JavaEditor.java:242)</Frame>
          <Frame depth="28">org.eclipse.jface.text.TextViewer.firePostSelectionChanged(TextViewer.java:2075)</Frame>
          <Frame depth="29">org.eclipse.jface.text.TextViewer.firePostSelectionChanged(TextViewer.java:2028)</Frame>
          <Frame depth="30">org.eclipse.jface.text.TextViewer$4.run(TextViewer.java:2007)</Frame>
          <Frame depth="31">org.eclipse.swt.widgets.Display.runTimer(Display.java:2083)</Frame>
          <Frame depth="32">org.eclipse.swt.widgets.Display.messageProc(Display.java:1633)</Frame>
          <Frame depth="33">org.eclipse.swt.internal.win32.OS.DispatchMessageW(Native Method)</Frame>
          <Frame depth="34">org.eclipse.swt.internal.win32.OS.DispatchMessage(OS.java)</Frame>
          <Frame depth="35">org.eclipse.swt.widgets.Display.readAndDispatch(Display.java)</Frame>
          <Frame depth="36">org.eclipse.ui.internal.Workbench.runEventLoop(Workbench.java:1383)</Frame>
          <Frame depth="37">org.eclipse.ui.internal.Workbench.run(Workbench.java:1366)</Frame>
          <Frame depth="38">org.eclipse.core.internal.boot.InternalBootLoader.run(InternalBootLoader.java:858)</Frame>
          <Frame depth="39">org.eclipse.core.boot.BootLoader.run(BootLoader.java:461)</Frame>
          <Frame depth="40">java.lang.reflect.AccessibleObject.invokeImpl(Native Method)</Frame>
          <Frame depth="41">java.lang.reflect.AccessibleObject.invokeL(AccessibleObject.java:207)</Frame>
          <Frame depth="42">java.lang.reflect.Method.invoke(Method.java:271)</Frame>
          <Frame depth="43">org.eclipse.core.launcher.Main.basicRun(Main.java:291)</Frame>
          <Frame depth="44">org.eclipse.core.launcher.Main.run(Main.java:747)</Frame>
          <Frame depth="45">org.eclipse.core.launcher.Main.main(Main.java:583)</Frame>
        </Frames>
      </Stacktrace>
    </Stacktraces>
    <SourceCodeRegions amount="1">
      <source_code type="class">
        <location start="310" end="382" />
        <code>public class Test2 {
	
	void foobar(String param, String param) {
	}
	
}</code>
      </source_code>
    </SourceCodeRegions>
    <Enumerations amount="1">
      <Enumeration lines="10">
        <Lines>
          <Line>1. Have this code</Line>
          <Line />
          <Line />
          <Line>(continued)</Line>
          <Line />
          <Line>Note the duplicate parameter name.</Line>
          <Line />
          <Line>2. Save &amp; close editor</Line>
          <Line>3. reopen editor</Line>
          <Line>4. select method foobar in outline</Line>
        </Lines>
      </Enumeration>
    </Enumerations>
    <bug_status amount="RESOLVED" />
    <resolution amount="FIXED" />
    <WithStack>200307030800

- no detailed steps, can't reproduce, but multiple occurrences when selecting 
some text and really quickly selecting some other text in the Java Editor.

Error Jul 10, 2003 15:56:00.208 Problems occurred when invoking code from plug-
in: "org.eclipse.jface".
org.eclipse.jdt.internal.corext.Assert$AssertionFailedException: null argument;
at java.lang.Throwable.&lt;init&gt;(Throwable.java)
at java.lang.Throwable.&lt;init&gt;(Throwable.java)
at org.eclipse.jdt.internal.corext.Assert$AssertionFailedException.&lt;init&gt;
(Assert.java:55)
at org.eclipse.jdt.internal.corext.Assert.isNotNull(Assert.java:105)
at org.eclipse.jdt.internal.corext.Assert.isNotNull(Assert.java:83)
at 
org.eclipse.jdt.internal.corext.refactoring.structure.InstanceMethodMover$Method
.getParameters(InstanceMethodMover.java:1137)
at 
org.eclipse.jdt.internal.corext.refactoring.structure.InstanceMethodMover$Method
.addPossibleParameterNewReceivers(InstanceMethodMover.java:1334)
at 
org.eclipse.jdt.internal.corext.refactoring.structure.InstanceMethodMover$Method
.findPossibleNewReceivers(InstanceMethodMover.java:1321)
at 
org.eclipse.jdt.internal.corext.refactoring.structure.InstanceMethodMover$Method
.getPossibleNewReceivers(InstanceMethodMover.java:1314)
at 
org.eclipse.jdt.internal.corext.refactoring.structure.InstanceMethodMover$Method
.checkCanBeMoved(InstanceMethodMover.java:1174)
at 
org.eclipse.jdt.internal.corext.refactoring.structure.InstanceMethodMover.checkI
nitialState(InstanceMethodMover.java:1850)
at 
org.eclipse.jdt.internal.corext.refactoring.structure.MoveInstanceMethodRefactor
ing.checkActivation(MoveInstanceMethodRefactoring.java:94)
at 
org.eclipse.jdt.internal.corext.refactoring.structure.MoveInstanceMethodRefactor
ing.isAvailable(MoveInstanceMethodRefactoring.java:65)
at 
org.eclipse.jdt.internal.ui.refactoring.actions.MoveInstanceMethodAction.canEnab
le(MoveInstanceMethodAction.java:88)
at 
org.eclipse.jdt.internal.ui.refactoring.actions.MoveInstanceMethodAction.selecti
onChanged(MoveInstanceMethodAction.java:71)
at org.eclipse.jdt.ui.actions.SelectionDispatchAction.dispatchSelectionChanged
(SelectionDispatchAction.java:184)
at org.eclipse.jdt.ui.actions.SelectionDispatchAction.selectionChanged
(SelectionDispatchAction.java:179)
at org.eclipse.jdt.ui.actions.MoveAction.selectionChanged(MoveAction.java:100)
at org.eclipse.jface.viewers.Viewer$2.run(Viewer.java)
at org.eclipse.core.internal.runtime.InternalPlatform.run(InternalPlatform.java)
at org.eclipse.core.runtime.Platform.run(Platform.java)
at org.eclipse.jface.viewers.Viewer.fireSelectionChanged(Viewer.java:157)
at org.eclipse.jface.viewers.StructuredViewer.updateSelection
(StructuredViewer.java:1282)
at org.eclipse.jface.viewers.StructuredViewer.setSelection
(StructuredViewer.java:1012)
at org.eclipse.jdt.internal.ui.javaeditor.JavaOutlinePage.select
(JavaOutlinePage.java:1057)
at org.eclipse.jdt.internal.ui.javaeditor.JavaEditor.synchronizeOutlinePage
(JavaEditor.java:1365)
at 
org.eclipse.jdt.internal.ui.javaeditor.JavaEditor$EditorSelectionChangedListener
.selectionChanged(JavaEditor.java:250)
at 
org.eclipse.jdt.internal.ui.javaeditor.JavaEditor$EditorSelectionChangedListener
.selectionChanged(JavaEditor.java:242)
at org.eclipse.jface.text.TextViewer.firePostSelectionChanged
(TextViewer.java:2075)
at org.eclipse.jface.text.TextViewer.firePostSelectionChanged
(TextViewer.java:2028)
at org.eclipse.jface.text.TextViewer$4.run(TextViewer.java:2007)
at org.eclipse.swt.widgets.Display.runTimer(Display.java:2083)
at org.eclipse.swt.widgets.Display.messageProc(Display.java:1633)
at org.eclipse.swt.internal.win32.OS.DispatchMessageW(Native Method)
at org.eclipse.swt.internal.win32.OS.DispatchMessage(OS.java)
at org.eclipse.swt.widgets.Display.readAndDispatch(Display.java)
at org.eclipse.ui.internal.Workbench.runEventLoop(Workbench.java:1383)
at org.eclipse.ui.internal.Workbench.run(Workbench.java:1366)
at org.eclipse.core.internal.boot.InternalBootLoader.run
(InternalBootLoader.java:858)
at org.eclipse.core.boot.BootLoader.run(BootLoader.java:461)
at java.lang.reflect.AccessibleObject.invokeImpl(Native Method)
at java.lang.reflect.AccessibleObject.invokeL(AccessibleObject.java:207)
at java.lang.reflect.Method.invoke(Method.java:271)
at org.eclipse.core.launcher.Main.basicRun(Main.java:291)
at org.eclipse.core.launcher.Main.run(Main.java:747)
at org.eclipse.core.launcher.Main.main(Main.java:583)
I have a case:

1. Have this code

public class Test2 {
	
	void foobar(String param, String param) {
	}
	
}
(continued)

Note the duplicate parameter name.

2. Save &amp; close editor
3. reopen editor
4. select method foobar in outline

-&gt; AssertionFailedEx
this does not happen now on selection changes 
(MoveInstanceMethodRefactoring.checkActivation is not called then)

still a problem when running from a context menu, though

regression test added,
bug fixed</WithStack>
    <WithOutStack>200307030800

- no detailed steps, can't reproduce, but multiple occurrences when selecting 
some text and really quickly selecting some other text in the Java Editor.

Error Jul 10, 2003 15:56:00.208 Problems occurred when invoking code from plug-
in: "org.eclipse.jface".

I have a case:

1. Have this code

public class Test2 {
	
	void foobar(String param, String param) {
	}
	
}
(continued)

Note the duplicate parameter name.

2. Save &amp; close editor
3. reopen editor
4. select method foobar in outline

-&gt; AssertionFailedEx
this does not happen now on selection changes 
(MoveInstanceMethodRefactoring.checkActivation is not called then)

still a problem when running from a context menu, though

regression test added,
bug fixed</WithOutStack>
  </Bug>
  <Bug>
    <BugId amount="39872" />
    <CreationDate amount="2003-07-10 10:10:00 -0400" />
    <DupId amount="41663" />
    <classification amount="Eclipse" />
    <Product amount="Platform" />
    <component amount="Team" />
    <Version amount="2.1" />
    <rep_platform amount="PC" />
    <op_sys amount="Windows XP" />
    <priority amount="P3" />
    <bug_severity amount="normal" />
    <Summery>Exceptions check out platform-ui</Summery>
    <Patches amount="0" />
    <Stacktraces amount="4">
      <Stacktrace timestamp="1437340746619">
        <Exception>java.lang.IllegalArgumentException</Exception>
        <Reason>Path must include project and resource 
name: /org.eclipse.ui.workbench.texteditor</Reason>
        <Frames>
          <Frame depth="0">org.eclipse.core.runtime.Platform.run(Platform.java:421)</Frame>
          <Frame depth="1">org.eclipse.core.internal.events.BuildManager.basicBuild(BuildManager.java:166)</Frame>
          <Frame depth="2">org.eclipse.core.internal.events.BuildManager.basicBuildLoop(BuildManager.java:256)</Frame>
          <Frame depth="3">org.eclipse.core.internal.events.BuildManager.build(BuildManager.java:225)</Frame>
          <Frame depth="4">org.eclipse.core.internal.resources.Workspace.endOperation(Workspace.java:911)</Frame>
          <Frame depth="5">org.eclipse.core.internal.resources.Project.touch(Project.java:865)</Frame>
          <Frame depth="6">org.eclipse.team.core.RepositoryProvider.map(RepositoryProvider.java:137)</Frame>
          <Frame depth="7">org.eclipse.team.internal.ccvs.ui.operations.CheckoutProjectOperation.refreshProjects(CheckoutProjectOperation.java:418)</Frame>
          <Frame depth="8">org.eclipse.team.internal.ccvs.ui.operations.CheckoutProjectOperation.checkout(CheckoutProjectOperation.java:234)</Frame>
          <Frame depth="9">org.eclipse.team.internal.ccvs.ui.operations.CheckoutProjectOperation.checkout(CheckoutProjectOperation.java:165)</Frame>
          <Frame depth="10">org.eclipse.team.internal.ccvs.ui.operations.CheckoutProjectOperation.execute(CheckoutProjectOperation.java:75)</Frame>
          <Frame depth="11">org.eclipse.team.internal.ccvs.ui.operations.CVSOperation$1.run(CVSOperation.java:105)</Frame>
          <Frame depth="12">org.eclipse.core.internal.jobs.Worker.run(Worker.java:80)</Frame>
          <Frame depth="13">org.eclipse.core.internal.events.BuildManager.basicBuild(BuildManager.java:142)</Frame>
          <Frame depth="14">org.eclipse.core.internal.events.BuildManager.basicBuild(BuildManager.java:182)</Frame>
          <Frame depth="15">org.eclipse.core.internal.events.BuildManager.basicBuild(BuildManager.java:197)</Frame>
          <Frame depth="16">org.eclipse.core.internal.events.BuildManager$1.run(BuildManager.java:152)</Frame>
          <Frame depth="17">org.eclipse.core.internal.runtime.InternalPlatform.run(InternalPlatform.java:1021)</Frame>
          <Frame depth="18">org.eclipse.core.runtime.Platform.run(Platform.java:421)</Frame>
          <Frame depth="19">org.eclipse.core.internal.events.BuildManager.basicBuild(BuildManager.java:166)</Frame>
          <Frame depth="20">org.eclipse.core.internal.events.BuildManager.basicBuildLoop(BuildManager.java:256)</Frame>
          <Frame depth="21">org.eclipse.core.internal.events.BuildManager.build(BuildManager.java:225)</Frame>
          <Frame depth="22">org.eclipse.core.internal.jobs.Worker.run(Worker.java:80)</Frame>
        </Frames>
      </Stacktrace>
      <Stacktrace timestamp="1437340746619">
        <Exception>org.eclipse.core.internal.resources.ResourceException</Exception>
        <Reason>Errors during build.</Reason>
        <Frames>
          <Frame depth="0">org.eclipse.team.internal.ccvs.ui.operations.CheckoutProjectOperation.refreshProjects(CheckoutProjectOperation.java:418)</Frame>
          <Frame depth="1">org.eclipse.team.internal.ccvs.ui.operations.CheckoutProjectOperation.checkout(CheckoutProjectOperation.java:234)</Frame>
          <Frame depth="2">org.eclipse.team.internal.ccvs.ui.operations.CheckoutProjectOperation.checkout(CheckoutProjectOperation.java:165)</Frame>
          <Frame depth="3">org.eclipse.team.internal.ccvs.ui.operations.CheckoutProjectOperation.execute(CheckoutProjectOperation.java:75)</Frame>
          <Frame depth="4">org.eclipse.team.internal.ccvs.ui.operations.CVSOperation$1.run(CVSOperation.java:105)</Frame>
          <Frame depth="5">org.eclipse.core.internal.jobs.Worker.run(Worker.java:80)</Frame>
          <Frame depth="6">org.eclipse.team.internal.ccvs.ui.operations.CVSOperation$1.run(CVSOperation.java:100)</Frame>
          <Frame depth="7">org.eclipse.core.internal.jobs.Worker.run(Worker.java:58)</Frame>
          <Frame depth="8">org.eclipse.core.internal.jobs.Worker.run(Worker.java:80)</Frame>
        </Frames>
      </Stacktrace>
      <Stacktrace timestamp="1437340746619">
        <Exception>org.eclipse.core.internal.resources.ResourceException</Exception>
        <Reason>Errors during build.</Reason>
        <Frames>
          <Frame depth="0">org.eclipse.team.internal.ccvs.ui.operations.CheckoutProjectOperation.refreshProjects(CheckoutProjectOperation.java:418)</Frame>
          <Frame depth="1">org.eclipse.team.internal.ccvs.ui.operations.CheckoutProjectOperation.checkout(CheckoutProjectOperation.java:234)</Frame>
          <Frame depth="2">org.eclipse.team.internal.ccvs.ui.operations.CheckoutProjectOperation.checkout(CheckoutProjectOperation.java:165)</Frame>
          <Frame depth="3">org.eclipse.team.internal.ccvs.ui.operations.CheckoutProjectOperation.execute(CheckoutProjectOperation.java:75)</Frame>
          <Frame depth="4">org.eclipse.team.internal.ccvs.ui.operations.CVSOperation$1.run(CVSOperation.java:105)</Frame>
          <Frame depth="5">org.eclipse.core.internal.jobs.Worker.run(Worker.java:80)</Frame>
          <Frame depth="6">org.eclipse.team.internal.ccvs.ui.operations.CVSOperation$1.run(CVSOperation.java:100)</Frame>
          <Frame depth="7">org.eclipse.core.internal.jobs.Worker.run(Worker.java:58)</Frame>
          <Frame depth="8">org.eclipse.core.internal.jobs.Worker.run(Worker.java:80)</Frame>
        </Frames>
      </Stacktrace>
      <Stacktrace timestamp="1437340746619">
        <Exception>java.lang.IllegalArgumentException</Exception>
        <Reason>Path must include project and resource 
name: /org.eclipse.ui.workbench.texteditor</Reason>
        <Frames>
          <Frame depth="0">org.eclipse.core.runtime.Platform.run(Platform.java:421)</Frame>
          <Frame depth="1">org.eclipse.core.internal.events.BuildManager.basicBuild(BuildManager.java:166)</Frame>
          <Frame depth="2">org.eclipse.core.internal.events.BuildManager.basicBuildLoop(BuildManager.java:256)</Frame>
          <Frame depth="3">org.eclipse.core.internal.events.BuildManager.build(BuildManager.java:225)</Frame>
          <Frame depth="4">org.eclipse.core.internal.resources.Workspace.endOperation(Workspace.java:911)</Frame>
          <Frame depth="5">org.eclipse.core.internal.resources.Project.touch(Project.java:865)</Frame>
          <Frame depth="6">org.eclipse.team.core.RepositoryProvider.map(RepositoryProvider.java:137)</Frame>
          <Frame depth="7">org.eclipse.team.internal.ccvs.ui.operations.CheckoutProjectOperation.refreshProjects(CheckoutProjectOperation.java:418)</Frame>
          <Frame depth="8">org.eclipse.team.internal.ccvs.ui.operations.CheckoutProjectOperation.checkout(CheckoutProjectOperation.java:234)</Frame>
          <Frame depth="9">org.eclipse.team.internal.ccvs.ui.operations.CheckoutProjectOperation.checkout(CheckoutProjectOperation.java:165)</Frame>
          <Frame depth="10">org.eclipse.team.internal.ccvs.ui.operations.CheckoutProjectOperation.execute(CheckoutProjectOperation.java:75)</Frame>
          <Frame depth="11">org.eclipse.team.internal.ccvs.ui.operations.CVSOperation$1.run(CVSOperation.java:105)</Frame>
          <Frame depth="12">org.eclipse.core.internal.jobs.Worker.run(Worker.java:80)</Frame>
          <Frame depth="13">org.eclipse.core.internal.events.BuildManager.basicBuild(BuildManager.java:142)</Frame>
          <Frame depth="14">org.eclipse.core.internal.events.BuildManager.basicBuild(BuildManager.java:182)</Frame>
          <Frame depth="15">org.eclipse.core.internal.events.BuildManager.basicBuild(BuildManager.java:197)</Frame>
          <Frame depth="16">org.eclipse.core.internal.events.BuildManager$1.run(BuildManager.java:152)</Frame>
          <Frame depth="17">org.eclipse.core.internal.runtime.InternalPlatform.run(InternalPlatform.java:1021)</Frame>
          <Frame depth="18">org.eclipse.core.runtime.Platform.run(Platform.java:421)</Frame>
          <Frame depth="19">org.eclipse.core.internal.events.BuildManager.basicBuild(BuildManager.java:166)</Frame>
          <Frame depth="20">org.eclipse.core.internal.events.BuildManager.basicBuildLoop(BuildManager.java:256)</Frame>
          <Frame depth="21">org.eclipse.core.internal.events.BuildManager.build(BuildManager.java:225)</Frame>
          <Frame depth="22">org.eclipse.core.internal.jobs.Worker.run(Worker.java:80)</Frame>
        </Frames>
      </Stacktrace>
    </Stacktraces>
    <SourceCodeRegions amount="0" />
    <Enumerations amount="0" />
    <bug_status amount="RESOLVED" />
    <resolution amount="DUPLICATE" />
    <WithStack>20030710

I got the following exceptions trying to check the platform-ui module out of
the repository. It appears to be a builder issue caused by a Team exception

java.lang.IllegalArgumentException: Path must include project and resource 
name: /org.eclipse.ui.workbench.texteditor
	at org.eclipse.core.runtime.Platform.run(Platform.java:421)
	at org.eclipse.core.internal.events.BuildManager.basicBuild
(BuildManager.java:166)
	at org.eclipse.core.internal.events.BuildManager.basicBuildLoop
(BuildManager.java:256)
	at org.eclipse.core.internal.events.BuildManager.build
(BuildManager.java:225)
	at org.eclipse.core.internal.resources.Workspace.endOperation
(Workspace.java:911)
	at org.eclipse.core.internal.resources.Project.touch(Project.java:865)
	at org.eclipse.team.core.RepositoryProvider.map
(RepositoryProvider.java:137)
	at 
org.eclipse.team.internal.ccvs.ui.operations.CheckoutProjectOperation.refreshPr
ojects(CheckoutProjectOperation.java:418)
	at 
org.eclipse.team.internal.ccvs.ui.operations.CheckoutProjectOperation.checkout
(CheckoutProjectOperation.java:234)
	at 
org.eclipse.team.internal.ccvs.ui.operations.CheckoutProjectOperation.checkout
(CheckoutProjectOperation.java:165)
	at 
org.eclipse.team.internal.ccvs.ui.operations.CheckoutProjectOperation.execute
(CheckoutProjectOperation.java:75)
	at org.eclipse.team.internal.ccvs.ui.operations.CVSOperation$1.run
(CVSOperation.java:105)
	at org.eclipse.core.internal.jobs.Worker.run(Worker.java:80)
	at org.eclipse.core.internal.events.BuildManager.basicBuild
(BuildManager.java:142)
	at org.eclipse.core.internal.events.BuildManager.basicBuild
(BuildManager.java:182)
	at org.eclipse.core.internal.events.BuildManager.basicBuild
(BuildManager.java:197)
	at org.eclipse.core.internal.events.BuildManager$1.run
(BuildManager.java:152)
	at org.eclipse.core.internal.runtime.InternalPlatform.run
(InternalPlatform.java:1021)
	at org.eclipse.core.runtime.Platform.run(Platform.java:421)
	at org.eclipse.core.internal.events.BuildManager.basicBuild
(BuildManager.java:166)
	at org.eclipse.core.internal.events.BuildManager.basicBuildLoop
(BuildManager.java:256)
	at org.eclipse.core.internal.events.BuildManager.build
(BuildManager.java:225)
	at org.eclipse.core.internal.jobs.Worker.run(Worker.java:80)
!ENTRY org.eclipse.team.core 2 75 Jul 10, 2003 09:59:29.445
!MESSAGE Errors during build.
!STACK 1
org.eclipse.team.core.TeamException[75]: 
org.eclipse.core.internal.resources.ResourceException: Errors during build.
	at 
org.eclipse.team.internal.ccvs.ui.operations.CheckoutProjectOperation.refreshPr
ojects(CheckoutProjectOperation.java:418)
	at 
org.eclipse.team.internal.ccvs.ui.operations.CheckoutProjectOperation.checkout
(CheckoutProjectOperation.java:234)
	at 
org.eclipse.team.internal.ccvs.ui.operations.CheckoutProjectOperation.checkout
(CheckoutProjectOperation.java:165)
	at 
org.eclipse.team.internal.ccvs.ui.operations.CheckoutProjectOperation.execute
(CheckoutProjectOperation.java:75)
	at org.eclipse.team.internal.ccvs.ui.operations.CVSOperation$1.run
(CVSOperation.java:105)
	at org.eclipse.core.internal.jobs.Worker.run(Worker.java:80)
	at org.eclipse.team.internal.ccvs.ui.operations.CVSOperation$1.run
(CVSOperation.java:100)
	at org.eclipse.core.internal.jobs.Worker.run(Worker.java:58)
	at org.eclipse.core.internal.jobs.Worker.run(Worker.java:80)
!ENTRY org.eclipse.team.core 2 75 Jul 10, 2003 09:59:29.445
!MESSAGE Errors during build.
!STACK 1
org.eclipse.core.internal.resources.ResourceException: Errors during build.
	at 
org.eclipse.team.internal.ccvs.ui.operations.CheckoutProjectOperation.refreshPr
ojects(CheckoutProjectOperation.java:418)
	at 
org.eclipse.team.internal.ccvs.ui.operations.CheckoutProjectOperation.checkout
(CheckoutProjectOperation.java:234)
	at 
org.eclipse.team.internal.ccvs.ui.operations.CheckoutProjectOperation.checkout
(CheckoutProjectOperation.java:165)
	at 
org.eclipse.team.internal.ccvs.ui.operations.CheckoutProjectOperation.execute
(CheckoutProjectOperation.java:75)
	at org.eclipse.team.internal.ccvs.ui.operations.CVSOperation$1.run
(CVSOperation.java:105)
	at org.eclipse.core.internal.jobs.Worker.run(Worker.java:80)
	at org.eclipse.team.internal.ccvs.ui.operations.CVSOperation$1.run
(CVSOperation.java:100)
	at org.eclipse.core.internal.jobs.Worker.run(Worker.java:58)
	at org.eclipse.core.internal.jobs.Worker.run(Worker.java:80)
!ENTRY org.eclipse.core.resources 2 75 Jul 10, 2003 09:59:29.445
!MESSAGE Errors during build.
!SUBENTRY 1 org.eclipse.jdt.core 2 75 Jul 10, 2003 09:59:29.445
!MESSAGE Path must include project and resource 
name: /org.eclipse.ui.workbench.texteditor
!STACK 0
java.lang.IllegalArgumentException: Path must include project and resource 
name: /org.eclipse.ui.workbench.texteditor
	at org.eclipse.core.runtime.Platform.run(Platform.java:421)
	at org.eclipse.core.internal.events.BuildManager.basicBuild
(BuildManager.java:166)
	at org.eclipse.core.internal.events.BuildManager.basicBuildLoop
(BuildManager.java:256)
	at org.eclipse.core.internal.events.BuildManager.build
(BuildManager.java:225)
	at org.eclipse.core.internal.resources.Workspace.endOperation
(Workspace.java:911)
	at org.eclipse.core.internal.resources.Project.touch(Project.java:865)
	at org.eclipse.team.core.RepositoryProvider.map
(RepositoryProvider.java:137)
	at 
org.eclipse.team.internal.ccvs.ui.operations.CheckoutProjectOperation.refreshPr
ojects(CheckoutProjectOperation.java:418)
	at 
org.eclipse.team.internal.ccvs.ui.operations.CheckoutProjectOperation.checkout
(CheckoutProjectOperation.java:234)
	at 
org.eclipse.team.internal.ccvs.ui.operations.CheckoutProjectOperation.checkout
(CheckoutProjectOperation.java:165)
	at 
org.eclipse.team.internal.ccvs.ui.operations.CheckoutProjectOperation.execute
(CheckoutProjectOperation.java:75)
	at org.eclipse.team.internal.ccvs.ui.operations.CVSOperation$1.run
(CVSOperation.java:105)
	at org.eclipse.core.internal.jobs.Worker.run(Worker.java:80)
	at org.eclipse.core.internal.events.BuildManager.basicBuild
(BuildManager.java:142)
	at org.eclipse.core.internal.events.BuildManager.basicBuild
(BuildManager.java:182)
	at org.eclipse.core.internal.events.BuildManager.basicBuild
(BuildManager.java:197)
	at org.eclipse.core.internal.events.BuildManager$1.run
(BuildManager.java:152)
	at org.eclipse.core.internal.runtime.InternalPlatform.run
(InternalPlatform.java:1021)
	at org.eclipse.core.runtime.Platform.run(Platform.java:421)
	at org.eclipse.core.internal.events.BuildManager.basicBuild
(BuildManager.java:166)
	at org.eclipse.core.internal.events.BuildManager.basicBuildLoop
(BuildManager.java:256)
	at org.eclipse.core.internal.events.BuildManager.build
(BuildManager.java:225)
	at org.eclipse.core.internal.jobs.Worker.run(Worker.java:80)


*** This bug has been marked as a duplicate of 41663 ***</WithStack>
    <WithOutStack>20030710

I got the following exceptions trying to check the platform-ui module out of
the repository. It appears to be a builder issue caused by a Team exception

!ENTRY org.eclipse.team.core 2 75 Jul 10, 2003 09:59:29.445
!MESSAGE Errors during build.
!STACK 1
org.eclipse.team.core.TeamException[75]: 
!ENTRY org.eclipse.team.core 2 75 Jul 10, 2003 09:59:29.445
!MESSAGE Errors during build.
!STACK 1
org.eclipse.core.internal.resources.ResourceException: Errors during build.
	at 
org.eclipse.team.internal.ccvs.ui.operations.CheckoutProjectOperation.refreshPr
ojects(CheckoutProjectOperation.java:418)
	at 
org.eclipse.team.internal.ccvs.ui.operations.CheckoutProjectOperation.checkout
(CheckoutProjectOperation.java:234)
	at 
org.eclipse.team.internal.ccvs.ui.operations.CheckoutProjectOperation.checkout
(CheckoutProjectOperation.java:165)
	at 
org.eclipse.team.internal.ccvs.ui.operations.CheckoutProjectOperation.execute
(CheckoutProjectOperation.java:75)
	at org.eclipse.team.internal.ccvs.ui.operations.CVSOperation$1.run
(CVSOperation.java:105)
	at org.eclipse.core.internal.jobs.Worker.run(Worker.java:80)
	at org.eclipse.team.internal.ccvs.ui.operations.CVSOperation$1.run
(CVSOperation.java:100)
	at org.eclipse.core.internal.jobs.Worker.run(Worker.java:58)
	at org.eclipse.core.internal.jobs.Worker.run(Worker.java:80)
!ENTRY org.eclipse.core.resources 2 75 Jul 10, 2003 09:59:29.445
!MESSAGE Errors during build.
!SUBENTRY 1 org.eclipse.jdt.core 2 75 Jul 10, 2003 09:59:29.445
!MESSAGE Path must include project and resource 
name: /org.eclipse.ui.workbench.texteditor
!STACK 0



*** This bug has been marked as a duplicate of 41663 ***</WithOutStack>
  </Bug>
  <Bug>
    <BugId amount="39873" />
    <CreationDate amount="2003-07-10 10:21:00 -0400" />
    <DupId amount="39869" />
    <classification amount="Eclipse" />
    <Product amount="Platform" />
    <component amount="SWT" />
    <Version amount="3.0" />
    <rep_platform amount="PC" />
    <op_sys amount="QNX-Photon" />
    <priority amount="P3" />
    <bug_severity amount="trivial" />
    <Summery>Table widget doesn't redraw if headers are visible</Summery>
    <Patches amount="0" />
    <Stacktraces amount="0" />
    <SourceCodeRegions amount="0" />
    <Enumerations amount="0" />
    <bug_status amount="RESOLVED" />
    <resolution amount="DUPLICATE" />
    <WithStack>When the Table widget is scrolling horizontal it doesn't redraw itself. It's only
if hearders are visible.

I don't put any exapmle because I saw it in all programs (eclise IDE also).

I use QNX PE 6.2.0.


*** This bug has been marked as a duplicate of 39869 ***</WithStack>
    <WithOutStack>When the Table widget is scrolling horizontal it doesn't redraw itself. It's only
if hearders are visible.

I don't put any exapmle because I saw it in all programs (eclise IDE also).

I use QNX PE 6.2.0.


*** This bug has been marked as a duplicate of 39869 ***</WithOutStack>
  </Bug>
  <Bug>
    <BugId amount="39874" />
    <CreationDate amount="2003-07-10 10:32:00 -0400" />
    <DupId amount="" />
    <classification amount="Eclipse" />
    <Product amount="Platform" />
    <component amount="Team" />
    <Version amount="2.1" />
    <rep_platform amount="PC" />
    <op_sys amount="Windows 2000" />
    <priority amount="P3" />
    <bug_severity amount="normal" />
    <Summery>Eclipse fails to check out from repository</Summery>
    <Patches amount="0" />
    <Stacktraces amount="0" />
    <SourceCodeRegions amount="0" />
    <Enumerations amount="0" />
    <bug_status amount="RESOLVED" />
    <resolution amount="FIXED" />
    <WithStack>I can successfully check out as follows from CygWin command line:

cvs -z3 -d :pserver:anoncvs@sources.redhat.com:/cvs/ecos co -P ecos

When I try to do the same from within Eclipse, I get errors. From debug log
(settings I use for repository :pserver:anoncvs@sources.redhat.com:/cvs/ecos).
No exceptions in log.

Argument -c
Directory .
/cvs/ecos/
co
M CVSROOT      CVSROOT
M ecos         -a ecos-no-images net snmp
M ecos-arm     -a ecos/packages/hal/common ecos/packages/hal/arm
M              !ecos/packages/hal no-i386-devs no-mips-devs no-mn10300-devs
M              no-powerpc-devs no-sh-devs no-sparclite-devs no-v85x-devs
M              ecos-target-all
M ecos-common  -a ecos/packages/ChangeLog ecos/packages/NEWS
M              ecos/packages/ecos.db ecos/packages/ecosadmin.tcl
M              ecos/packages/pkgconf ecos/packages/templates
M ecos-full    -a ecos ecos-host ecos-images
M ecos-host    -a ecos/host
M ecos-i386    -a ecos/packages/hal/common ecos/packages/hal/i386
M              !ecos/packages/hal no-arm-devs no-mips-devs no-mn10300-devs
M              no-powerpc-devs no-sh-devs no-sparclite-devs no-v85x-devs
M              ecos-target-all
M ecos-images  -a ecos/images
M ecos-mips    -a ecos/packages/hal/common ecos/packages/hal/mips
M              !ecos/packages/hal no-arm-devs no-i386-devs no-mn10300-devs
M              no-powerpc-devs no-sh-devs no-sparclite-devs no-v85x-devs
M              ecos-target-all
M ecos-mn10300 -a ecos/packages/hal/common ecos/packages/hal/mn10300
M              !ecos/packages/hal no-arm-devs no-i386-devs no-mips-devs
M              no-powerpc-devs no-sh-devs no-sparclite-devs no-v85x-devs
M              ecos-target-all
M ecos-net     -a net
M ecos-no-images -a ecos/COPYING ecos/ChangeLog ecos/Makefile.am ecos/Makefile.i
n
M              ecos/acinclude.m4 ecos/aclocal.m4 ecos/configure ecos/configure.i
n
M              ecos/doc ecos/examples ecos/packages ecos/acsupport
M              ecos/README.host
M ecos-powerpc -a ecos/packages/hal/common ecos/packages/hal/powerpc
M              !ecos/packages/hal no-arm-devs no-i386-devs no-mips-devs
M              no-mn10300-devs no-sh-devs no-sparclite-devs no-v85x-devs
M              ecos-target-all
M ecos-sh      -a ecos/packages/hal/common ecos/packages/hal/sh
M              !ecos/packages/hal no-arm-devs no-i386-devs no-mips-devs
M              no-mn10300-devs no-powerpc-devs no-sparclite-devs no-v85x-devs
M              ecos-target-all
M ecos-sparclite -a ecos/packages/hal/common ecos/packages/hal/sparclite
M              !ecos/packages/hal no-arm-devs no-i386-devs no-mips-devs
M              no-mn10300-devs no-powerpc-devs no-sh-devs no-v85x-devs
M              ecos-target-all
M ecos-target  -a ecos/packages
M ecos-target-all -a ecos-target net snmp
M ecos-v85x    -a ecos/packages/hal/common ecos/packages/hal/v85x
M              !ecos/packages/hal no-arm-devs no-i386-devs no-mips-devs
M              no-mn10300-devs no-powerpc-devs no-sh-devs no-sparclite-devs
M              ecos-target-all
M host         -a ecos/host
M modules      CVSROOT modules
M net          -a !ecos-opt/net/templates nettempl netcode
M netcode      -d ecos/packages/net ecos-opt/net/net
M nettempl     -d ecos/packages/templates/net ecos-opt/net/templates/net
M no-arm-devs  -a !ecos/packages/devs/dsp/arm !ecos/packages/devs/eth/arm
M              !ecos/packages/devs/flash/arm !ecos/packages/devs/kbd/arm
M              !ecos/packages/devs/pcmcia/arm !ecos/packages/devs/serial/arm
M              !ecos/packages/devs/touch/arm !ecos/packages/devs/usb/arm
M              !ecos/packages/devs/usb/sa11x0 !ecos/packages/devs/wallclock/arm
M              !ecos/packages/devs/watchdog/arm
M no-i386-devs -a !ecos/packages/devs/dsp/i386 !ecos/packages/devs/eth/i386
M              !ecos/packages/devs/flash/i386 !ecos/packages/devs/kbd/i386
M              !ecos/packages/devs/pcmcia/i386 !ecos/packages/devs/serial/i386
M              !ecos/packages/devs/touch/i386 !ecos/packages/devs/usb/i386
M              !ecos/packages/devs/wallclock/i386
M              !ecos/packages/devs/watchdog/i386
M no-mips-devs -a !ecos/packages/devs/dsp/mips !ecos/packages/devs/eth/mips
M              !ecos/packages/devs/flash/mips !ecos/packages/devs/kbd/mips
M              !ecos/packages/devs/pcmcia/mips !ecos/packages/devs/serial/mips
M              !ecos/packages/devs/touch/mips !ecos/packages/devs/usb/mips
M              !ecos/packages/devs/wallclock/mips
M              !ecos/packages/devs/watchdog/mips
M no-mn10300-devs -a !ecos/packages/devs/dsp/mn10300 !ecos/packages/devs/eth/mn1
0300
M              !ecos/packages/devs/flash/mn10300 !ecos/packages/devs/kbd/mn10300

M              !ecos/packages/devs/pcmcia/mn10300
M              !ecos/packages/devs/serial/mn10300
M              !ecos/packages/devs/touch/mn10300 !ecos/packages/devs/usb/mn10300

M              !ecos/packages/devs/wallclock/mn10300
M              !ecos/packages/devs/watchdog/mn10300
M no-powerpc-devs -a !ecos/packages/devs/dsp/powerpc !ecos/packages/devs/eth/pow
erpc
M              !ecos/packages/devs/flash/powerpc !ecos/packages/devs/kbd/powerpc

M              !ecos/packages/devs/pcmcia/powerpc
M              !ecos/packages/devs/serial/powerpc
M              !ecos/packages/devs/touch/powerpc !ecos/packages/devs/usb/powerpc

M              !ecos/packages/devs/wallclock/powerpc
M              !ecos/packages/devs/watchdog/powerpc
M no-sh-devs   -a !ecos/packages/devs/dsp/sh !ecos/packages/devs/eth/sh
M              !ecos/packages/devs/flash/sh !ecos/packages/devs/kbd/sh
M              !ecos/packages/devs/pcmcia/sh !ecos/packages/devs/serial/sh
M              !ecos/packages/devs/touch/sh !ecos/packages/devs/usb/sh
M              !ecos/packages/devs/wallclock/sh3 !ecos/packages/devs/watchdog/sh

M no-sparclite-devs -a !ecos/packages/devs/dsp/sparclite
M              !ecos/packages/devs/eth/sparclite
M              !ecos/packages/devs/flash/sparclite
M              !ecos/packages/devs/kbd/sparclite
M              !ecos/packages/devs/pcmcia/sparclite
M              !ecos/packages/devs/serial/sparclite
M              !ecos/packages/devs/touch/sparclite
M              !ecos/packages/devs/usb/sparclite
M              !ecos/packages/devs/wallclock/sparclite
M              !ecos/packages/devs/watchdog/sparclite
M no-v85x-devs -a !ecos/packages/devs/dsp/v85x !ecos/packages/devs/eth/v85x
M              !ecos/packages/devs/flash/v85x !ecos/packages/devs/kbd/v85x
M              !ecos/packages/devs/pcmcia/v85x !ecos/packages/devs/serial/v85x
M              !ecos/packages/devs/touch/v85x !ecos/packages/devs/usb/v85x
M              !ecos/packages/devs/wallclock/v85x
M              !ecos/packages/devs/watchdog/v85x
M packages     -a ecos/packages
M redboot-all  -a redboot-likely ecos/packages/devs ecos/packages/hal
M redboot-ipaq -a !ecos/packages/io/pci redboot-likely ecos/packages/hal/arm/arc
h
M              ecos/packages/hal/arm/sa11x0/var ecos/packages/hal/arm/sa11x0/ipa
q
M              ecos/packages/devs/pcmcia/arm/ipaq
M              ecos/packages/devs/flash/arm/ipaq
M              ecos/packages/devs/flash/intel/strata
M              ecos/packages/devs/watchdog/arm/sa11x0
M              ecos/packages/devs/touch/arm/ipaq ecos/packages/devs/kbd/arm/ipaq

M              ecos/packages/devs/serial/arm/sa11x0 ecos/packages/devs/eth/cf
M              ecos/packages/devs/eth/ns/dp83902a
M redboot-likely -a redboot-min ecos/packages/io/pcmcia ecos/packages/io/eth
M              ecos/packages/io/flash ecos/packages/io/pci ecos/packages/isoinfr
a
M              ecos/packages/services/compress ecos/packages/services/memalloc
M redboot-min  -a ecos-common ecos/packages/redboot ecos/packages/infra
M              ecos/packages/hal/common
M snmp         -a snmpcode
M snmpcode     -d ecos/packages/net/snmp ecos-opt/snmp
M webpages     -a htdocs
ok
RESULT&gt; Status OKorg.eclipse.team.cvs.core code=0 ok null
I LOVE YOU
Valid-responses ok error M E Checked-in Valid-requests Template Set-sticky Clear
-static-directory Module-expansion Set-static-directory Clear-sticky New-entry R
emoved Merged Remove-entry Updated Update-existing Copy-file Notified Created Mo
d-time
valid-requests
Valid-requests Root Valid-responses valid-requests Repository Directory Max-dotd
ot Static-directory Sticky Checkin-prog Update-prog Entry Kopt Checkin-time Modi
fied Is-modified UseUnchanged Unchanged Notify Questionable Case Argument Argume
ntx Global_option Gzip-stream wrapper-sendme-rcsOptions Set Gssapi-authenticate
expand-modules ci co update diff log rlog add remove update-patches gzip-file-co
ntents status rdiff tag rtag import admin export history release watch-on watch-
off watch-add watch-remove watchers editors init annotate rannotate noop version

ok
Root /cvs/ecos
CMD&gt; cvs co -d "ecos" -P -A "/ecos"
Argument ecos
expand-modules
Module-expansion ecos/COPYING
Module-expansion ecos/ChangeLog
Module-expansion ecos/Makefile.am
Module-expansion ecos/Makefile.in
Module-expansion ecos/acinclude.m4
Module-expansion ecos/aclocal.m4
Module-expansion ecos/configure
Module-expansion ecos/configure.in
Module-expansion ecos/doc
Module-expansion ecos/examples
Module-expansion ecos/packages
Module-expansion ecos/acsupport
Module-expansion ecos/README.host
Module-expansion ecos/packages/templates/net
Module-expansion ecos/packages/net
Module-expansion ecos/packages/net/snmp
ok
Argument -d
Argument ecos
Argument -P
Argument -A
Argument ecos
Directory .
/cvs/ecos/
co
Clear-sticky ecos/
/cvs/ecos/ecos/
Set-static-directory ecos/
/cvs/ecos/ecos/
Mod-time 20 May 2002 22:19:26 -0000
M U ecos/COPYING
Created ecos/
/cvs/ecos/ecos/COPYING
/COPYING/1.1///
u=rw,g=rw,o=rw
17992
Mod-time 27 Mar 2003 23:42:26 -0000
M U ecos/ChangeLog
Created ecos/
/cvs/ecos/ecos/ChangeLog
/ChangeLog/1.5///
u=rw,g=rw,o=rw
2655
Mod-time 11 Aug 2002 21:40:50 -0000
M U ecos/Makefile.am
Created ecos/
/cvs/ecos/ecos/Makefile.am
/Makefile.am/1.2///
u=rw,g=rw,o=rw
1695
Mod-time 12 Feb 2003 17:22:10 -0000
M U ecos/Makefile.in
Created ecos/
/cvs/ecos/ecos/Makefile.in
/Makefile.in/1.3///
u=rw,g=rw,o=rw
11588
Mod-time 11 Aug 2002 21:40:50 -0000
M U ecos/acinclude.m4
Created ecos/
/cvs/ecos/ecos/acinclude.m4
/acinclude.m4/1.1///
u=rw,g=rw,o=rw
1802
Mod-time 11 Aug 2002 21:40:50 -0000
M U ecos/aclocal.m4
Created ecos/
/cvs/ecos/ecos/aclocal.m4
/aclocal.m4/1.2///
u=rw,g=rw,o=rw
6177
Mod-time 27 Mar 2003 23:42:26 -0000
M U ecos/configure
Created ecos/
/cvs/ecos/ecos/configure
/configure/1.3///
u=rwx,g=rwx,o=rwx
42601
Mod-time 27 Mar 2003 23:42:26 -0000
M U ecos/configure.in
Created ecos/
/cvs/ecos/ecos/configure.in
/configure.in/1.3///
u=rw,g=rw,o=rw
9502
E cvs server: existing repository /cvs/ecos/ecos does not match /cvs/ecos/ecos/d
oc
E cvs server: ignoring module ecos/doc
E cvs server: existing repository /cvs/ecos/ecos does not match /cvs/ecos/ecos/e
xamples
E cvs server: ignoring module ecos/examples
E cvs server: existing repository /cvs/ecos/ecos does not match /cvs/ecos/ecos/p
ackages
E cvs server: ignoring module ecos/packages
E cvs server: existing repository /cvs/ecos/ecos does not match /cvs/ecos/ecos/a
csupport
E cvs server: ignoring module ecos/acsupport
Mod-time 12 Feb 2003 17:22:10 -0000
M U ecos/README.host
Created ecos/
/cvs/ecos/ecos/README.host
/README.host/1.4///
u=rw,g=rw,o=rw
16190
E cvs server: existing repository /cvs/ecos/ecos does not match /cvs/ecos/ecos-o
pt/net/templates/net
E cvs server: ignoring module nettempl
E cvs server: existing repository /cvs/ecos/ecos does not match /cvs/ecos/ecos-o
pt/net/net
E cvs server: ignoring module netcode
E cvs server: existing repository /cvs/ecos/ecos does not match /cvs/ecos/ecos-o
pt/snmp
E cvs server: ignoring module snmpcode
error
RESULT&gt; Status ERRORorg.eclipse.team.cvs.core code=-10 The server reported an er
ror while performing the "cvs checkout" command. null children=[Status ERRORorg.
eclipse.team.cvs.core code=-14 cvs server: existing repository /cvs/ecos/ecos do
es not match /cvs/ecos/ecos/doc null Status ERRORorg.eclipse.team.cvs.core code=
-14 cvs server: ignoring module ecos/doc null Status ERRORorg.eclipse.team.cvs.c
ore code=-14 cvs server: existing repository /cvs/ecos/ecos does not match /cvs/
ecos/ecos/examples null Status ERRORorg.eclipse.team.cvs.core code=-14 cvs serve
r: ignoring module ecos/examples null Status ERRORorg.eclipse.team.cvs.core code
=-14 cvs server: existing repository /cvs/ecos/ecos does not match /cvs/ecos/eco
s/packages null Status ERRORorg.eclipse.team.cvs.core code=-14 cvs server: ignor
ing module ecos/packages null Status ERRORorg.eclipse.team.cvs.core code=-14 cvs
 server: existing repository /cvs/ecos/ecos does not match /cvs/ecos/ecos/acsupp
ort null Status ERRORorg.eclipse.team.cvs.core code=-14 cvs server: ignoring mod
ule ecos/acsupport null Status ERRORorg.eclipse.team.cvs.core code=-14 cvs serve
r: existing repository /cvs/ecos/ecos does not match /cvs/ecos/ecos-opt/net/temp
lates/net null Status ERRORorg.eclipse.team.cvs.core code=-14 cvs server: ignori
ng module nettempl null Status ERRORorg.eclipse.team.cvs.core code=-14 cvs serve
r: existing repository /cvs/ecos/ecos does not match /cvs/ecos/ecos-opt/net/net
null Status ERRORorg.eclipse.team.cvs.core code=-14 cvs server: ignoring module
netcode null Status ERRORorg.eclipse.team.cvs.core code=-14 cvs server: existing
 repository /cvs/ecos/ecos does not match /cvs/ecos/ecos-opt/snmp null Status ER
RORorg.eclipse.team.cvs.core code=-14 cvs server: ignoring module snmpcode null]
I'm pretty sure this is a result of our basic module support. We should include
a checkout dialog that let's you enter a name and allow the checkout to proceed.
That would help people checkout modules for which we don't provide browsing support.
What Eclipse build are you using? What menu operation did you perform? The 
problem may be that ecos is both a folder and a module. If you perform a 
Checkout As Project or a Chackout As on the folder it will not work. In later 
3.0 builds, there is a Checkout menu item. If you get a chance, try it. I 
suspect it will work. In older builds, you can try Checkout Module which 
should work as well.
&gt;What Eclipse build are you using? 

2.1.1

&gt;What menu operation did you perform? 

Check out as project.

Øyvind

Created attachment 5457
Shows which menu item I used.
This has been fixed in 3.0. As a workaround, use Checkout Module of the module 
that appears in the repo view. To find the module, scroll past al the folders 
and look for the module icon (which differs from the folder icon).</WithStack>
    <WithOutStack>I can successfully check out as follows from CygWin command line:

cvs -z3 -d :pserver:anoncvs@sources.redhat.com:/cvs/ecos co -P ecos

When I try to do the same from within Eclipse, I get errors. From debug log
(settings I use for repository :pserver:anoncvs@sources.redhat.com:/cvs/ecos).
No exceptions in log.

Argument -c
Directory .
/cvs/ecos/
co
M CVSROOT      CVSROOT
M ecos         -a ecos-no-images net snmp
M ecos-arm     -a ecos/packages/hal/common ecos/packages/hal/arm
M              !ecos/packages/hal no-i386-devs no-mips-devs no-mn10300-devs
M              no-powerpc-devs no-sh-devs no-sparclite-devs no-v85x-devs
M              ecos-target-all
M ecos-common  -a ecos/packages/ChangeLog ecos/packages/NEWS
M              ecos/packages/ecos.db ecos/packages/ecosadmin.tcl
M              ecos/packages/pkgconf ecos/packages/templates
M ecos-full    -a ecos ecos-host ecos-images
M ecos-host    -a ecos/host
M ecos-i386    -a ecos/packages/hal/common ecos/packages/hal/i386
M              !ecos/packages/hal no-arm-devs no-mips-devs no-mn10300-devs
M              no-powerpc-devs no-sh-devs no-sparclite-devs no-v85x-devs
M              ecos-target-all
M ecos-images  -a ecos/images
M ecos-mips    -a ecos/packages/hal/common ecos/packages/hal/mips
M              !ecos/packages/hal no-arm-devs no-i386-devs no-mn10300-devs
M              no-powerpc-devs no-sh-devs no-sparclite-devs no-v85x-devs
M              ecos-target-all
M ecos-mn10300 -a ecos/packages/hal/common ecos/packages/hal/mn10300
M              !ecos/packages/hal no-arm-devs no-i386-devs no-mips-devs
M              no-powerpc-devs no-sh-devs no-sparclite-devs no-v85x-devs
M              ecos-target-all
M ecos-net     -a net
M ecos-no-images -a ecos/COPYING ecos/ChangeLog ecos/Makefile.am ecos/Makefile.i
n
M              ecos/acinclude.m4 ecos/aclocal.m4 ecos/configure ecos/configure.i
n
M              ecos/doc ecos/examples ecos/packages ecos/acsupport
M              ecos/README.host
M ecos-powerpc -a ecos/packages/hal/common ecos/packages/hal/powerpc
M              !ecos/packages/hal no-arm-devs no-i386-devs no-mips-devs
M              no-mn10300-devs no-sh-devs no-sparclite-devs no-v85x-devs
M              ecos-target-all
M ecos-sh      -a ecos/packages/hal/common ecos/packages/hal/sh
M              !ecos/packages/hal no-arm-devs no-i386-devs no-mips-devs
M              no-mn10300-devs no-powerpc-devs no-sparclite-devs no-v85x-devs
M              ecos-target-all
M ecos-sparclite -a ecos/packages/hal/common ecos/packages/hal/sparclite
M              !ecos/packages/hal no-arm-devs no-i386-devs no-mips-devs
M              no-mn10300-devs no-powerpc-devs no-sh-devs no-v85x-devs
M              ecos-target-all
M ecos-target  -a ecos/packages
M ecos-target-all -a ecos-target net snmp
M ecos-v85x    -a ecos/packages/hal/common ecos/packages/hal/v85x
M              !ecos/packages/hal no-arm-devs no-i386-devs no-mips-devs
M              no-mn10300-devs no-powerpc-devs no-sh-devs no-sparclite-devs
M              ecos-target-all
M host         -a ecos/host
M modules      CVSROOT modules
M net          -a !ecos-opt/net/templates nettempl netcode
M netcode      -d ecos/packages/net ecos-opt/net/net
M nettempl     -d ecos/packages/templates/net ecos-opt/net/templates/net
M no-arm-devs  -a !ecos/packages/devs/dsp/arm !ecos/packages/devs/eth/arm
M              !ecos/packages/devs/flash/arm !ecos/packages/devs/kbd/arm
M              !ecos/packages/devs/pcmcia/arm !ecos/packages/devs/serial/arm
M              !ecos/packages/devs/touch/arm !ecos/packages/devs/usb/arm
M              !ecos/packages/devs/usb/sa11x0 !ecos/packages/devs/wallclock/arm
M              !ecos/packages/devs/watchdog/arm
M no-i386-devs -a !ecos/packages/devs/dsp/i386 !ecos/packages/devs/eth/i386
M              !ecos/packages/devs/flash/i386 !ecos/packages/devs/kbd/i386
M              !ecos/packages/devs/pcmcia/i386 !ecos/packages/devs/serial/i386
M              !ecos/packages/devs/touch/i386 !ecos/packages/devs/usb/i386
M              !ecos/packages/devs/wallclock/i386
M              !ecos/packages/devs/watchdog/i386
M no-mips-devs -a !ecos/packages/devs/dsp/mips !ecos/packages/devs/eth/mips
M              !ecos/packages/devs/flash/mips !ecos/packages/devs/kbd/mips
M              !ecos/packages/devs/pcmcia/mips !ecos/packages/devs/serial/mips
M              !ecos/packages/devs/touch/mips !ecos/packages/devs/usb/mips
M              !ecos/packages/devs/wallclock/mips
M              !ecos/packages/devs/watchdog/mips
M no-mn10300-devs -a !ecos/packages/devs/dsp/mn10300 !ecos/packages/devs/eth/mn1
0300
M              !ecos/packages/devs/flash/mn10300 !ecos/packages/devs/kbd/mn10300

M              !ecos/packages/devs/pcmcia/mn10300
M              !ecos/packages/devs/serial/mn10300
M              !ecos/packages/devs/touch/mn10300 !ecos/packages/devs/usb/mn10300

M              !ecos/packages/devs/wallclock/mn10300
M              !ecos/packages/devs/watchdog/mn10300
M no-powerpc-devs -a !ecos/packages/devs/dsp/powerpc !ecos/packages/devs/eth/pow
erpc
M              !ecos/packages/devs/flash/powerpc !ecos/packages/devs/kbd/powerpc

M              !ecos/packages/devs/pcmcia/powerpc
M              !ecos/packages/devs/serial/powerpc
M              !ecos/packages/devs/touch/powerpc !ecos/packages/devs/usb/powerpc

M              !ecos/packages/devs/wallclock/powerpc
M              !ecos/packages/devs/watchdog/powerpc
M no-sh-devs   -a !ecos/packages/devs/dsp/sh !ecos/packages/devs/eth/sh
M              !ecos/packages/devs/flash/sh !ecos/packages/devs/kbd/sh
M              !ecos/packages/devs/pcmcia/sh !ecos/packages/devs/serial/sh
M              !ecos/packages/devs/touch/sh !ecos/packages/devs/usb/sh
M              !ecos/packages/devs/wallclock/sh3 !ecos/packages/devs/watchdog/sh

M no-sparclite-devs -a !ecos/packages/devs/dsp/sparclite
M              !ecos/packages/devs/eth/sparclite
M              !ecos/packages/devs/flash/sparclite
M              !ecos/packages/devs/kbd/sparclite
M              !ecos/packages/devs/pcmcia/sparclite
M              !ecos/packages/devs/serial/sparclite
M              !ecos/packages/devs/touch/sparclite
M              !ecos/packages/devs/usb/sparclite
M              !ecos/packages/devs/wallclock/sparclite
M              !ecos/packages/devs/watchdog/sparclite
M no-v85x-devs -a !ecos/packages/devs/dsp/v85x !ecos/packages/devs/eth/v85x
M              !ecos/packages/devs/flash/v85x !ecos/packages/devs/kbd/v85x
M              !ecos/packages/devs/pcmcia/v85x !ecos/packages/devs/serial/v85x
M              !ecos/packages/devs/touch/v85x !ecos/packages/devs/usb/v85x
M              !ecos/packages/devs/wallclock/v85x
M              !ecos/packages/devs/watchdog/v85x
M packages     -a ecos/packages
M redboot-all  -a redboot-likely ecos/packages/devs ecos/packages/hal
M redboot-ipaq -a !ecos/packages/io/pci redboot-likely ecos/packages/hal/arm/arc
h
M              ecos/packages/hal/arm/sa11x0/var ecos/packages/hal/arm/sa11x0/ipa
q
M              ecos/packages/devs/pcmcia/arm/ipaq
M              ecos/packages/devs/flash/arm/ipaq
M              ecos/packages/devs/flash/intel/strata
M              ecos/packages/devs/watchdog/arm/sa11x0
M              ecos/packages/devs/touch/arm/ipaq ecos/packages/devs/kbd/arm/ipaq

M              ecos/packages/devs/serial/arm/sa11x0 ecos/packages/devs/eth/cf
M              ecos/packages/devs/eth/ns/dp83902a
M redboot-likely -a redboot-min ecos/packages/io/pcmcia ecos/packages/io/eth
M              ecos/packages/io/flash ecos/packages/io/pci ecos/packages/isoinfr
a
M              ecos/packages/services/compress ecos/packages/services/memalloc
M redboot-min  -a ecos-common ecos/packages/redboot ecos/packages/infra
M              ecos/packages/hal/common
M snmp         -a snmpcode
M snmpcode     -d ecos/packages/net/snmp ecos-opt/snmp
M webpages     -a htdocs
ok
RESULT&gt; Status OKorg.eclipse.team.cvs.core code=0 ok null
I LOVE YOU
Valid-responses ok error M E Checked-in Valid-requests Template Set-sticky Clear
-static-directory Module-expansion Set-static-directory Clear-sticky New-entry R
emoved Merged Remove-entry Updated Update-existing Copy-file Notified Created Mo
d-time
valid-requests
Valid-requests Root Valid-responses valid-requests Repository Directory Max-dotd
ot Static-directory Sticky Checkin-prog Update-prog Entry Kopt Checkin-time Modi
fied Is-modified UseUnchanged Unchanged Notify Questionable Case Argument Argume
ntx Global_option Gzip-stream wrapper-sendme-rcsOptions Set Gssapi-authenticate
expand-modules ci co update diff log rlog add remove update-patches gzip-file-co
ntents status rdiff tag rtag import admin export history release watch-on watch-
off watch-add watch-remove watchers editors init annotate rannotate noop version

ok
Root /cvs/ecos
CMD&gt; cvs co -d "ecos" -P -A "/ecos"
Argument ecos
expand-modules
Module-expansion ecos/COPYING
Module-expansion ecos/ChangeLog
Module-expansion ecos/Makefile.am
Module-expansion ecos/Makefile.in
Module-expansion ecos/acinclude.m4
Module-expansion ecos/aclocal.m4
Module-expansion ecos/configure
Module-expansion ecos/configure.in
Module-expansion ecos/doc
Module-expansion ecos/examples
Module-expansion ecos/packages
Module-expansion ecos/acsupport
Module-expansion ecos/README.host
Module-expansion ecos/packages/templates/net
Module-expansion ecos/packages/net
Module-expansion ecos/packages/net/snmp
ok
Argument -d
Argument ecos
Argument -P
Argument -A
Argument ecos
Directory .
/cvs/ecos/
co
Clear-sticky ecos/
/cvs/ecos/ecos/
Set-static-directory ecos/
/cvs/ecos/ecos/
Mod-time 20 May 2002 22:19:26 -0000
M U ecos/COPYING
Created ecos/
/cvs/ecos/ecos/COPYING
/COPYING/1.1///
u=rw,g=rw,o=rw
17992
Mod-time 27 Mar 2003 23:42:26 -0000
M U ecos/ChangeLog
Created ecos/
/cvs/ecos/ecos/ChangeLog
/ChangeLog/1.5///
u=rw,g=rw,o=rw
2655
Mod-time 11 Aug 2002 21:40:50 -0000
M U ecos/Makefile.am
Created ecos/
/cvs/ecos/ecos/Makefile.am
/Makefile.am/1.2///
u=rw,g=rw,o=rw
1695
Mod-time 12 Feb 2003 17:22:10 -0000
M U ecos/Makefile.in
Created ecos/
/cvs/ecos/ecos/Makefile.in
/Makefile.in/1.3///
u=rw,g=rw,o=rw
11588
Mod-time 11 Aug 2002 21:40:50 -0000
M U ecos/acinclude.m4
Created ecos/
/cvs/ecos/ecos/acinclude.m4
/acinclude.m4/1.1///
u=rw,g=rw,o=rw
1802
Mod-time 11 Aug 2002 21:40:50 -0000
M U ecos/aclocal.m4
Created ecos/
/cvs/ecos/ecos/aclocal.m4
/aclocal.m4/1.2///
u=rw,g=rw,o=rw
6177
Mod-time 27 Mar 2003 23:42:26 -0000
M U ecos/configure
Created ecos/
/cvs/ecos/ecos/configure
/configure/1.3///
u=rwx,g=rwx,o=rwx
42601
Mod-time 27 Mar 2003 23:42:26 -0000
M U ecos/configure.in
Created ecos/
/cvs/ecos/ecos/configure.in
/configure.in/1.3///
u=rw,g=rw,o=rw
9502
E cvs server: existing repository /cvs/ecos/ecos does not match /cvs/ecos/ecos/d
oc
E cvs server: ignoring module ecos/doc
E cvs server: existing repository /cvs/ecos/ecos does not match /cvs/ecos/ecos/e
xamples
E cvs server: ignoring module ecos/examples
E cvs server: existing repository /cvs/ecos/ecos does not match /cvs/ecos/ecos/p
ackages
E cvs server: ignoring module ecos/packages
E cvs server: existing repository /cvs/ecos/ecos does not match /cvs/ecos/ecos/a
csupport
E cvs server: ignoring module ecos/acsupport
Mod-time 12 Feb 2003 17:22:10 -0000
M U ecos/README.host
Created ecos/
/cvs/ecos/ecos/README.host
/README.host/1.4///
u=rw,g=rw,o=rw
16190
E cvs server: existing repository /cvs/ecos/ecos does not match /cvs/ecos/ecos-o
pt/net/templates/net
E cvs server: ignoring module nettempl
E cvs server: existing repository /cvs/ecos/ecos does not match /cvs/ecos/ecos-o
pt/net/net
E cvs server: ignoring module netcode
E cvs server: existing repository /cvs/ecos/ecos does not match /cvs/ecos/ecos-o
pt/snmp
E cvs server: ignoring module snmpcode
error
RESULT&gt; Status ERRORorg.eclipse.team.cvs.core code=-10 The server reported an er
ror while performing the "cvs checkout" command. null children=[Status ERRORorg.
eclipse.team.cvs.core code=-14 cvs server: existing repository /cvs/ecos/ecos do
es not match /cvs/ecos/ecos/doc null Status ERRORorg.eclipse.team.cvs.core code=
-14 cvs server: ignoring module ecos/doc null Status ERRORorg.eclipse.team.cvs.c
ore code=-14 cvs server: existing repository /cvs/ecos/ecos does not match /cvs/
ecos/ecos/examples null Status ERRORorg.eclipse.team.cvs.core code=-14 cvs serve
r: ignoring module ecos/examples null Status ERRORorg.eclipse.team.cvs.core code
=-14 cvs server: existing repository /cvs/ecos/ecos does not match /cvs/ecos/eco
s/packages null Status ERRORorg.eclipse.team.cvs.core code=-14 cvs server: ignor
ing module ecos/packages null Status ERRORorg.eclipse.team.cvs.core code=-14 cvs
 server: existing repository /cvs/ecos/ecos does not match /cvs/ecos/ecos/acsupp
ort null Status ERRORorg.eclipse.team.cvs.core code=-14 cvs server: ignoring mod
ule ecos/acsupport null Status ERRORorg.eclipse.team.cvs.core code=-14 cvs serve
r: existing repository /cvs/ecos/ecos does not match /cvs/ecos/ecos-opt/net/temp
lates/net null Status ERRORorg.eclipse.team.cvs.core code=-14 cvs server: ignori
ng module nettempl null Status ERRORorg.eclipse.team.cvs.core code=-14 cvs serve
r: existing repository /cvs/ecos/ecos does not match /cvs/ecos/ecos-opt/net/net
null Status ERRORorg.eclipse.team.cvs.core code=-14 cvs server: ignoring module
netcode null Status ERRORorg.eclipse.team.cvs.core code=-14 cvs server: existing
 repository /cvs/ecos/ecos does not match /cvs/ecos/ecos-opt/snmp null Status ER
RORorg.eclipse.team.cvs.core code=-14 cvs server: ignoring module snmpcode null]
I'm pretty sure this is a result of our basic module support. We should include
a checkout dialog that let's you enter a name and allow the checkout to proceed.
That would help people checkout modules for which we don't provide browsing support.
What Eclipse build are you using? What menu operation did you perform? The 
problem may be that ecos is both a folder and a module. If you perform a 
Checkout As Project or a Chackout As on the folder it will not work. In later 
3.0 builds, there is a Checkout menu item. If you get a chance, try it. I 
suspect it will work. In older builds, you can try Checkout Module which 
should work as well.
&gt;What Eclipse build are you using? 

2.1.1

&gt;What menu operation did you perform? 

Check out as project.

Øyvind

Created attachment 5457
Shows which menu item I used.
This has been fixed in 3.0. As a workaround, use Checkout Module of the module 
that appears in the repo view. To find the module, scroll past al the folders 
and look for the module icon (which differs from the folder icon).</WithOutStack>
  </Bug>
  <Bug>
    <BugId amount="39875" />
    <CreationDate amount="2003-07-10 11:22:00 -0400" />
    <DupId amount="" />
    <classification amount="Eclipse" />
    <Product amount="Platform" />
    <component amount="Debug" />
    <Version amount="3.0" />
    <rep_platform amount="PC" />
    <op_sys amount="Windows 2000" />
    <priority amount="P5" />
    <bug_severity amount="enhancement" />
    <Summery>[launching] Managing invalid launch configs</Summery>
    <Patches amount="0" />
    <Stacktraces amount="0" />
    <SourceCodeRegions amount="0" />
    <Enumerations amount="1">
      <Enumeration lines="3">
        <Lines>
          <Line>(1) Configs with missing launch config types (due to missing plug-in)</Line>
          <Line>(2) Shared Configs which are out of sync with the local file system (remain</Line>
          <Line>tossed until refreshed)</Line>
        </Lines>
      </Enumeration>
    </Enumerations>
    <bug_status amount="VERIFIED" />
    <resolution amount="FIXED" />
    <WithStack>When the launch config index is initialized, we toss invalid configs from the 
index (but leave them in the file system). Examples are:
(1) Configs with missing launch config types (due to missing plug-in)
(2) Shared Configs which are out of sync with the local file system (remain 
tossed until refreshed)

Exceptions are logged to note the problems. However, the user is never notified 
of the problems. Should we, and how do we notify the user of these problems? 
(the problems are noticed by the debug core (non-ui) plug-in).
Deferred
*** Bug 42709 has been marked as a duplicate of this bug. ***
Re-opening for 3.0 consideration.
Can you tell me how to get rid of the log message on each startup? It always
drags my focus to the log on each startzp since I have to verify that the only
problem is the launch config one.
Sorry, it's not written on startup but e.g. when I click Run... (but I still
would like to keep the log clean ;-)


Delete the old files in your metadata - org.eclipse.debug.core\.launches\. The 
folder contains all the lauch config files - delete the ones you want to get 
rid of. 
*** Bug 44449 has been marked as a duplicate of this bug. ***
Deferred
*** Bug 183429 has been marked as a duplicate of this bug. ***
reopening
Most of the errors logged are from a config being cached, for example the launch history, and does not exist at the next workbench startup (either the project the type belonged to is closed/unavailable, or the config has been deleted). To prevent these errors cluttering up users' log files we toss invalid configs from the the launch manager and launch history at startup without logging the exception.

The two cases where exceptions are no longer logged are:

1. the launch config type is missing, but the config is valid (will throw an exception the first time the config is touched)

2. if the underlying storage of the config does not exits (if the exists() method of a config returns false)

An exception will still be thrown in the case something more severe happens, like say the xml for the config is corrupt but the type and underlying storage exist.
please verify Curtis W
Verified</WithStack>
    <WithOutStack>When the launch config index is initialized, we toss invalid configs from the 
index (but leave them in the file system). Examples are:
(1) Configs with missing launch config types (due to missing plug-in)
(2) Shared Configs which are out of sync with the local file system (remain 
tossed until refreshed)

Exceptions are logged to note the problems. However, the user is never notified 
of the problems. Should we, and how do we notify the user of these problems? 
(the problems are noticed by the debug core (non-ui) plug-in).
Deferred
*** Bug 42709 has been marked as a duplicate of this bug. ***
Re-opening for 3.0 consideration.
Can you tell me how to get rid of the log message on each startup? It always
drags my focus to the log on each startzp since I have to verify that the only
problem is the launch config one.
Sorry, it's not written on startup but e.g. when I click Run... (but I still
would like to keep the log clean ;-)


Delete the old files in your metadata - org.eclipse.debug.core\.launches\. The 
folder contains all the lauch config files - delete the ones you want to get 
rid of. 
*** Bug 44449 has been marked as a duplicate of this bug. ***
Deferred
*** Bug 183429 has been marked as a duplicate of this bug. ***
reopening
Most of the errors logged are from a config being cached, for example the launch history, and does not exist at the next workbench startup (either the project the type belonged to is closed/unavailable, or the config has been deleted). To prevent these errors cluttering up users' log files we toss invalid configs from the the launch manager and launch history at startup without logging the exception.

The two cases where exceptions are no longer logged are:

1. the launch config type is missing, but the config is valid (will throw an exception the first time the config is touched)

2. if the underlying storage of the config does not exits (if the exists() method of a config returns false)

An exception will still be thrown in the case something more severe happens, like say the xml for the config is corrupt but the type and underlying storage exist.
please verify Curtis W
Verified</WithOutStack>
  </Bug>
  <Bug>
    <BugId amount="39876" />
    <CreationDate amount="2003-07-10 11:26:00 -0400" />
    <DupId amount="" />
    <classification amount="Eclipse" />
    <Product amount="Platform" />
    <component amount="Team" />
    <Version amount="3.0" />
    <rep_platform amount="PC" />
    <op_sys amount="Windows XP" />
    <priority amount="P3" />
    <bug_severity amount="trivial" />
    <Summery>Live Synch view: What's the "CVS Workspace" in refresh drop down</Summery>
    <Patches amount="0" />
    <Stacktraces amount="0" />
    <SourceCodeRegions amount="0" />
    <Enumerations amount="0" />
    <bug_status amount="RESOLVED" />
    <resolution amount="WONTFIX" />
    <WithStack>I20030710

The new Live synch view's Referesh with remote icon has an item
CVS Workspace
which is checked and which I cannot uncheck.

What is it for?
Run a merge and the results will become another entry in that list. Install FTP
or DAV and that those too will appear in the list. Basically it is a cheap way
of having one view with multiple contexts. We are investigating using other
methods (tabbed view) for showing multiple contexts in the same view but this
was our first shot.</WithStack>
    <WithOutStack>I20030710

The new Live synch view's Referesh with remote icon has an item
CVS Workspace
which is checked and which I cannot uncheck.

What is it for?
Run a merge and the results will become another entry in that list. Install FTP
or DAV and that those too will appear in the list. Basically it is a cheap way
of having one view with multiple contexts. We are investigating using other
methods (tabbed view) for showing multiple contexts in the same view but this
was our first shot.</WithOutStack>
  </Bug>
  <Bug>
    <BugId amount="39877" />
    <CreationDate amount="2003-07-10 11:47:00 -0400" />
    <DupId amount="" />
    <classification amount="Eclipse" />
    <Product amount="JDT" />
    <component amount="Core" />
    <Version amount="3.0" />
    <rep_platform amount="Macintosh" />
    <op_sys amount="Mac OS X - Carbon (unsup.)" />
    <priority amount="P3" />
    <bug_severity amount="normal" />
    <Summery>Rebuild All generates extra "Unable to read classpath" entry.</Summery>
    <Patches amount="0" />
    <Stacktraces amount="0" />
    <SourceCodeRegions amount="0" />
    <Enumerations amount="1">
      <Enumeration lines="7">
        <Lines>
          <Line>1) Connect to eclipse.org</Line>
          <Line>2) load project org.eclipse.swt</Line>
          <Line>3) notice that the Problems view is showing 2 problems:</Line>
          <Line>The project cannot be built...</Line>
          <Line>Unable to read 'org.eclipse.swt/.classpath'.</Line>
          <Line>4) select Project -&gt; Rebuild All</Line>
          <Line>5) notice that a second copy of the "Unable to read 'org.eclipse.swt/.classpath'" has appeared.</Line>
        </Lines>
      </Enumeration>
    </Enumerations>
    <bug_status amount="VERIFIED" />
    <resolution amount="FIXED" />
    <WithStack>Tested on eclipse-SDK-I20030709-macosx-carbon.tar.gz

1) Connect to eclipse.org
2) load project org.eclipse.swt
3) notice that the Problems view is showing 2 problems:
        The project cannot be built...
        Unable to read 'org.eclipse.swt/.classpath'.
4) select Project -&gt; Rebuild All
5) notice that a second copy of the "Unable to read 'org.eclipse.swt/.classpath'" has appeared.

Each time you select Rebuild All another copy of the problem is generated. I duplicated this 
behavior on both windows and linux/gtk.
On the mac (only), I am able to replicate an additional problem wherein the number of problems 
being reported does not necessarilly align with the "(nn items)" display in the view title. Will 
attempt to include a screecapture showing this.
Created attachment 5419
number of items in table does not match table header
Now flush classpath format markers before recomputing the resolved classpath.

Added regression test ClasspathTests.testMissingClasspath()
Verified.</WithStack>
    <WithOutStack>Tested on eclipse-SDK-I20030709-macosx-carbon.tar.gz

1) Connect to eclipse.org
2) load project org.eclipse.swt
3) notice that the Problems view is showing 2 problems:
        The project cannot be built...
        Unable to read 'org.eclipse.swt/.classpath'.
4) select Project -&gt; Rebuild All
5) notice that a second copy of the "Unable to read 'org.eclipse.swt/.classpath'" has appeared.

Each time you select Rebuild All another copy of the problem is generated. I duplicated this 
behavior on both windows and linux/gtk.
On the mac (only), I am able to replicate an additional problem wherein the number of problems 
being reported does not necessarilly align with the "(nn items)" display in the view title. Will 
attempt to include a screecapture showing this.
Created attachment 5419
number of items in table does not match table header
Now flush classpath format markers before recomputing the resolved classpath.

Added regression test ClasspathTests.testMissingClasspath()
Verified.</WithOutStack>
  </Bug>
  <Bug>
    <BugId amount="39878" />
    <CreationDate amount="2003-07-10 11:53:00 -0400" />
    <DupId amount="" />
    <classification amount="Eclipse" />
    <Product amount="JDT" />
    <component amount="Debug" />
    <Version amount="3.0" />
    <rep_platform amount="PC" />
    <op_sys amount="Linux" />
    <priority amount="P2" />
    <bug_severity amount="major" />
    <Summery>Debug test failing on Linux</Summery>
    <Patches amount="0" />
    <Stacktraces amount="1">
      <Stacktrace timestamp="1437340746619">
        <Exception>junit.framework.AssertionFailedError</Exception>
        <Reason>Program did not suspend.</Reason>
        <Frames>
          <Frame depth="0">org.eclipse.jdt.debug.tests.AbstractDebugTest.stepOver(AbstractDebugTest.java:617)</Frame>
          <Frame depth="1">org.eclipse.jdt.debug.tests.core.LocalVariableTests.testSimpleVisibility(LocalVariableTests.java:41)</Frame>
          <Frame depth="2">org.eclipse.jdt.debug.tests.AutomatedSuite$1.run(AutomatedSuite.java:161)</Frame>
          <Frame depth="3">java.lang.Thread.run(Thread.java:513)</Frame>
        </Frames>
      </Stacktrace>
    </Stacktraces>
    <SourceCodeRegions amount="0" />
    <Enumerations amount="0" />
    <bug_status amount="VERIFIED" />
    <resolution amount="FIXED" />
    <WithStack>This test has been failing consistently in nightly builds on linux.

Program did not suspend. 

junit.framework.AssertionFailedError: Program did not suspend.
at org.eclipse.jdt.debug.tests.AbstractDebugTest.stepOver
(AbstractDebugTest.java:617)
at org.eclipse.jdt.debug.tests.core.LocalVariableTests.testSimpleVisibility
(LocalVariableTests.java:41)
at org.eclipse.jdt.debug.tests.AutomatedSuite$1.run(AutomatedSuite.java:161)
at java.lang.Thread.run(Thread.java:513)
Fixed.
That was a error in the test. The top stack frame was computed only one time at
the begin of the test. The value need to be updated after each step over, as
there is no warranty that the top stack frame object will be the same.

Code released and test added back in the test suite.
Please verify, Darin W.
Verified code (and crossed my fingers).</WithStack>
    <WithOutStack>This test has been failing consistently in nightly builds on linux.

Program did not suspend. 


Fixed.
That was a error in the test. The top stack frame was computed only one time at
the begin of the test. The value need to be updated after each step over, as
there is no warranty that the top stack frame object will be the same.

Code released and test added back in the test suite.
Please verify, Darin W.
Verified code (and crossed my fingers).</WithOutStack>
  </Bug>
  <Bug>
    <BugId amount="39879" />
    <CreationDate amount="2003-07-10 11:55:00 -0400" />
    <DupId amount="" />
    <classification amount="Eclipse" />
    <Product amount="PDE" />
    <component amount="UI" />
    <Version amount="2.1" />
    <rep_platform amount="PC" />
    <op_sys amount="Windows 2000" />
    <priority amount="P3" />
    <bug_severity amount="normal" />
    <Summery>Debug does not automatically attach source code for plugins found in Target Platform</Summery>
    <Patches amount="0" />
    <Stacktraces amount="0" />
    <SourceCodeRegions amount="0" />
    <Enumerations amount="2">
      <Enumeration lines="23">
        <Lines>
          <Line>- Create two simple plugins which contain proper java code. Plugin1 will reside</Line>
          <Line>in your workspace and Plugin2 will be placed in your eclipse/plugins directory.</Line>
          <Line>- For Plugin2, package it accordingly so that is has a &lt;jarname&gt;.jar file and a</Line>
          <Line>corresponding &lt;jarname&gt;src.zip file. Make sure your plugin code can be viewable</Line>
          <Line>to other plugins by updating the plugin.xml to include the &lt;export name="*"&gt;</Line>
          <Line>line for your library</Line>
          <Line>- Now copy Plugin2 to your eclipse/plugins directory and remove it from your</Line>
          <Line>workspace. (You will want to restart Eclipse after this)</Line>
          <Line>- Goto Window -&gt; Preferences -&gt; Plug-in Development -&gt; Target Platform. and</Line>
          <Line>ensure that your new plugin (Plugin2) is checked</Line>
          <Line>- For Plugin1, make it depend on Plugin2.</Line>
          <Line>- Add java code to Plugin1 which calls methods in Plugin2. (You will need to</Line>
          <Line>include the Plugin2 jar as part of the Plugin1 project).</Line>
          <Line>NOTE: IT IS IMPORTANT AT THIS STAGE THAT YOU DO NOT ATTACH ANY SOURCE CODE FOR</Line>
          <Line>PLUGIN2 WHILE YOU ARE PROGRAMMING, OTHERWISE THIS WILL BREAK THE SCENARIO.</Line>
          <Line>- Add a breakpoint in Plugin1 at a point which calls Plugin2 code.</Line>
          <Line>- Start the debugger so that it runs against your Target Platform (which should</Line>
          <Line>include Plugin2) and Plugin1 from your workspace.</Line>
          <Line>- Perform any actions to invoke the new code you created in Plugin1 so that you</Line>
          <Line>reach your breakpoint.</Line>
          <Line>- Step into the code to the point where you reach code in Plugin2</Line>
          <Line>- Notice that you will need to identify the &lt;jarname&gt;src.zip if you would like</Line>
          <Line>to see the code. (This is the undesirable effect!!)</Line>
        </Lines>
      </Enumeration>
      <Enumeration lines="21">
        <Lines>
          <Line>- Stop the debugger</Line>
          <Line>- Import Plugin2 back into your workspace using File -&gt; Import -&gt; External Plug-</Line>
          <Line>ins and Fragments. You will notice that the src code gets automatically found</Line>
          <Line>and unzipped into the proper location of the plugin. This will also update</Line>
          <Line>the .classpath file of the plugin to indicate where the source code is.</Line>
          <Line>- Run the debugger again against the Target Platform minus Plugin2, and Plugin1</Line>
          <Line>and Plugin2 from your workspace.</Line>
          <Line>- Perform any actions to invoke the code you created in Plugin1 so that you</Line>
          <Line>reach your breakpoint.</Line>
          <Line>- Step into the code to the point where you reach code in Plugin2</Line>
          <Line>- Notice this time that the source code was automatically found because we</Line>
          <Line>first had to import that plugin into our workspace.</Line>
          <Line>Having to first import the plugin is the undesirable effect.</Line>
          <Line>If importing a plugin into the workspace can find the source code</Line>
          <Line>automatically, why cant the debugger perform the same logic when stepping into</Line>
          <Line>code without having to import the plugin first?</Line>
          <Line>This appears to work in the current 3.0 stream. When I use the PDE tooling to</Line>
          <Line>add a required plug-in (plug-in 2 in this case), it gets added to the classpath</Line>
          <Line>with the correct source attachment. (If I just add the jar manually from the</Line>
          <Line>file system with no source attachment, then yes there is a problem). However,</Line>
          <Line>adding the jar manually is not the way the tooling works.</Line>
        </Lines>
      </Enumeration>
    </Enumerations>
    <bug_status amount="RESOLVED" />
    <resolution amount="WORKSFORME" />
    <WithStack>This has been tested on Eclipse releases RC2 and the latest release 2.1.1 built 
on Fri, 27 Jun 2003 -- 15:45.

Here is what the problem is:
When debugging a plugin and stepping into source code which is contained in 
another plugin part of the Target Platform environment, Eclipse does not 
automatically find the source code to attach. Rather, Eclipse displays a dialog 
box prompting the user to specify what .jar or .zip file contains the source 
code.
This is surprising since the plugin that is being stepped into follows the 
convention of including source code in a plugin. That is, the source code is 
packaged in the root directory of the plugin with what the compiled jar name of 
that plugin would be, appended with src.zip (For example, if foo.jar is the 
plugin jar name, then foosrc.zip would contain the plugin source code).

Please note: By following the source packaging convention, if a user was to 
IMPORT the plugin into their workspace, using the option Import -&gt; External 
Plug-ins and Fragments, then Eclipse is intelligent enough to find the source 
and unzip it into the proper src directory for that plugin. This is why is 
seems strange that the debug option of stepping into source code does not 
follow the same logic.

Also note: I realize the fact that had the plugin, that would eventually being 
stepped into during debugging, been imported into my workspace first, then 
Eclipse would be able to automatically find the source code. This is because 
the .classpath file for that plugin would be updated to point to the source 
location. However, when using eclipse to develop large applications, it is 
undesirable to first import all dependent plugins. Rather, pointing to a Target 
Platform and debugging against that platform should be enough.


Here are the steps to reproduce this problem:
- Create two simple plugins which contain proper java code. Plugin1 will reside 
in your workspace and Plugin2 will be placed in your eclipse/plugins directory.
- For Plugin2, package it accordingly so that is has a &lt;jarname&gt;.jar file and a 
corresponding &lt;jarname&gt;src.zip file. Make sure your plugin code can be viewable 
to other plugins by updating the plugin.xml to include the &lt;export name="*"&gt; 
line for your library
- Now copy Plugin2 to your eclipse/plugins directory and remove it from your 
workspace. (You will want to restart Eclipse after this)
- Goto Window -&gt; Preferences -&gt; Plug-in Development -&gt; Target Platform. and 
ensure that your new plugin (Plugin2) is checked
- For Plugin1, make it depend on Plugin2.
- Add java code to Plugin1 which calls methods in Plugin2. (You will need to 
include the Plugin2 jar as part of the Plugin1 project).
NOTE: IT IS IMPORTANT AT THIS STAGE THAT YOU DO NOT ATTACH ANY SOURCE CODE FOR 
PLUGIN2 WHILE YOU ARE PROGRAMMING, OTHERWISE THIS WILL BREAK THE SCENARIO.
- Add a breakpoint in Plugin1 at a point which calls Plugin2 code.
- Start the debugger so that it runs against your Target Platform (which should 
include Plugin2) and Plugin1 from your workspace.
- Perform any actions to invoke the new code you created in Plugin1 so that you 
reach your breakpoint.
- Step into the code to the point where you reach code in Plugin2
- Notice that you will need to identify the &lt;jarname&gt;src.zip if you would like 
to see the code. (This is the undesirable effect!!)

For your information:
(Continuing with the scenario)
- Stop the debugger
- Import Plugin2 back into your workspace using File -&gt; Import -&gt; External Plug-
ins and Fragments. You will notice that the src code gets automatically found 
and unzipped into the proper location of the plugin. This will also update 
the .classpath file of the plugin to indicate where the source code is.
- Run the debugger again against the Target Platform minus Plugin2, and Plugin1 
and Plugin2 from your workspace.
- Perform any actions to invoke the code you created in Plugin1 so that you 
reach your breakpoint.
- Step into the code to the point where you reach code in Plugin2
- Notice this time that the source code was automatically found because we 
first had to import that plugin into our workspace. 
Having to first import the plugin is the undesirable effect.
If importing a plugin into the workspace can find the source code 
automatically, why cant the debugger perform the same logic when stepping into 
code without having to import the plugin first?
This appears to work in the current 3.0 stream. When I use the PDE tooling to 
add a required plug-in (plug-in 2 in this case), it gets added to the classpath 
with the correct source attachment. (If I just add the jar manually from the 
file system with no source attachment, then yes there is a problem). However, 
adding the jar manually is not the way the tooling works.

Moving to PDE for comment. Perhaps this was a known problem that was fixed.
The JDT debug tooling is a generic Java debugging framework that knows nothing 
and should know nothing about plug-ins, fragments, the Eclipse source 
packaging mechanism and other Eclipse-specific concepts.  So, if you manually 
added a jar file without attachment, the debugger will of course prompt you 
for source.  This is the expected behavior.
PDE, on the other hand, does know about plug-ins, where to look for source, 
and all other plug-in artifacts.  This is why when you use any PDE platform 
contributions, e.g. import wizards, update classpath actions, etc., we 
automatically search for source and attach it.
I agree that when developing against a product like WSADIE, it is undesirable 
to import all the plug-ins into your workspace.  And you don't have to do 
that.  PDE should find and automatically attach source to your external jars 
if you explicitly invoke the update classpath function on your project.  This 
is exactly what you want.
If it does not work in 2.1.1, I know for a fact that it works like a charm in 
3.0, so download 3.0 M2 and everything should be fine.</WithStack>
    <WithOutStack>This has been tested on Eclipse releases RC2 and the latest release 2.1.1 built 
on Fri, 27 Jun 2003 -- 15:45.

Here is what the problem is:
When debugging a plugin and stepping into source code which is contained in 
another plugin part of the Target Platform environment, Eclipse does not 
automatically find the source code to attach. Rather, Eclipse displays a dialog 
box prompting the user to specify what .jar or .zip file contains the source 
code.
This is surprising since the plugin that is being stepped into follows the 
convention of including source code in a plugin. That is, the source code is 
packaged in the root directory of the plugin with what the compiled jar name of 
that plugin would be, appended with src.zip (For example, if foo.jar is the 
plugin jar name, then foosrc.zip would contain the plugin source code).

Please note: By following the source packaging convention, if a user was to 
IMPORT the plugin into their workspace, using the option Import -&gt; External 
Plug-ins and Fragments, then Eclipse is intelligent enough to find the source 
and unzip it into the proper src directory for that plugin. This is why is 
seems strange that the debug option of stepping into source code does not 
follow the same logic.

Also note: I realize the fact that had the plugin, that would eventually being 
stepped into during debugging, been imported into my workspace first, then 
Eclipse would be able to automatically find the source code. This is because 
the .classpath file for that plugin would be updated to point to the source 
location. However, when using eclipse to develop large applications, it is 
undesirable to first import all dependent plugins. Rather, pointing to a Target 
Platform and debugging against that platform should be enough.


Here are the steps to reproduce this problem:
- Create two simple plugins which contain proper java code. Plugin1 will reside 
in your workspace and Plugin2 will be placed in your eclipse/plugins directory.
- For Plugin2, package it accordingly so that is has a &lt;jarname&gt;.jar file and a 
corresponding &lt;jarname&gt;src.zip file. Make sure your plugin code can be viewable 
to other plugins by updating the plugin.xml to include the &lt;export name="*"&gt; 
line for your library
- Now copy Plugin2 to your eclipse/plugins directory and remove it from your 
workspace. (You will want to restart Eclipse after this)
- Goto Window -&gt; Preferences -&gt; Plug-in Development -&gt; Target Platform. and 
ensure that your new plugin (Plugin2) is checked
- For Plugin1, make it depend on Plugin2.
- Add java code to Plugin1 which calls methods in Plugin2. (You will need to 
include the Plugin2 jar as part of the Plugin1 project).
NOTE: IT IS IMPORTANT AT THIS STAGE THAT YOU DO NOT ATTACH ANY SOURCE CODE FOR 
PLUGIN2 WHILE YOU ARE PROGRAMMING, OTHERWISE THIS WILL BREAK THE SCENARIO.
- Add a breakpoint in Plugin1 at a point which calls Plugin2 code.
- Start the debugger so that it runs against your Target Platform (which should 
include Plugin2) and Plugin1 from your workspace.
- Perform any actions to invoke the new code you created in Plugin1 so that you 
reach your breakpoint.
- Step into the code to the point where you reach code in Plugin2
- Notice that you will need to identify the &lt;jarname&gt;src.zip if you would like 
to see the code. (This is the undesirable effect!!)

For your information:
(Continuing with the scenario)
- Stop the debugger
- Import Plugin2 back into your workspace using File -&gt; Import -&gt; External Plug-
ins and Fragments. You will notice that the src code gets automatically found 
and unzipped into the proper location of the plugin. This will also update 
the .classpath file of the plugin to indicate where the source code is.
- Run the debugger again against the Target Platform minus Plugin2, and Plugin1 
and Plugin2 from your workspace.
- Perform any actions to invoke the code you created in Plugin1 so that you 
reach your breakpoint.
- Step into the code to the point where you reach code in Plugin2
- Notice this time that the source code was automatically found because we 
first had to import that plugin into our workspace. 
Having to first import the plugin is the undesirable effect.
If importing a plugin into the workspace can find the source code 
automatically, why cant the debugger perform the same logic when stepping into 
code without having to import the plugin first?
This appears to work in the current 3.0 stream. When I use the PDE tooling to 
add a required plug-in (plug-in 2 in this case), it gets added to the classpath 
with the correct source attachment. (If I just add the jar manually from the 
file system with no source attachment, then yes there is a problem). However, 
adding the jar manually is not the way the tooling works.

Moving to PDE for comment. Perhaps this was a known problem that was fixed.
The JDT debug tooling is a generic Java debugging framework that knows nothing 
and should know nothing about plug-ins, fragments, the Eclipse source 
packaging mechanism and other Eclipse-specific concepts.  So, if you manually 
added a jar file without attachment, the debugger will of course prompt you 
for source.  This is the expected behavior.
PDE, on the other hand, does know about plug-ins, where to look for source, 
and all other plug-in artifacts.  This is why when you use any PDE platform 
contributions, e.g. import wizards, update classpath actions, etc., we 
automatically search for source and attach it.
I agree that when developing against a product like WSADIE, it is undesirable 
to import all the plug-ins into your workspace.  And you don't have to do 
that.  PDE should find and automatically attach source to your external jars 
if you explicitly invoke the update classpath function on your project.  This 
is exactly what you want.
If it does not work in 2.1.1, I know for a fact that it works like a charm in 
3.0, so download 3.0 M2 and everything should be fine.</WithOutStack>
  </Bug>
  <Bug>
    <BugId amount="39880" />
    <CreationDate amount="2003-07-10 12:00:00 -0400" />
    <DupId amount="" />
    <classification amount="Eclipse" />
    <Product amount="Platform" />
    <component amount="Team" />
    <Version amount="3.0" />
    <rep_platform amount="PC" />
    <op_sys amount="Windows XP" />
    <priority amount="P3" />
    <bug_severity amount="normal" />
    <Summery>[CVS Core] Consider file contents in comparisons option sends too much binary data</Summery>
    <Patches amount="0" />
    <Stacktraces amount="0" />
    <SourceCodeRegions amount="0" />
    <Enumerations amount="1">
      <Enumeration lines="9">
        <Lines>
          <Line>1) Leave it alone.  The user should turn it off if they don't want the feature.</Line>
          <Line>2) Don't apply this option to binary files.  IE File contents for binary files</Line>
          <Line>are never considered.</Line>
          <Line>3) Don't apply this option to "large" files.  (We can either hard code</Line>
          <Line>what "large" is or let the user specify a size).</Line>
          <Line>4) Remove this option since it seems unecessary since commit will not commit a</Line>
          <Line>file whoes contents have not changed.</Line>
          <Line>The option was removed from the sync view</Line>
          <Line>Meant to mark this fixed</Line>
        </Lines>
      </Enumeration>
    </Enumerations>
    <bug_status amount="RESOLVED" />
    <resolution amount="FIXED" />
    <WithStack>This bug came up while looking at Bug 31453.

When this option is on, file data is sent from the server to the client during 
a synchronize.  While the data transfer is required for the function to work, 
this will have an undesired effect on slow links and large binary files.

There are a number of options that could be implemented.

1) Leave it alone.  The user should turn it off if they don't want the feature.
2) Don't apply this option to binary files.  IE File contents for binary files 
are never considered.
3) Don't apply this option to "large" files.  (We can either hard code 
what "large" is or let the user specify a size).
4) Remove this option since it seems unecessary since commit will not commit a 
file whoes contents have not changed.
The option was removed from the sync view
Meant to mark this fixed</WithStack>
    <WithOutStack>This bug came up while looking at Bug 31453.

When this option is on, file data is sent from the server to the client during 
a synchronize.  While the data transfer is required for the function to work, 
this will have an undesired effect on slow links and large binary files.

There are a number of options that could be implemented.

1) Leave it alone.  The user should turn it off if they don't want the feature.
2) Don't apply this option to binary files.  IE File contents for binary files 
are never considered.
3) Don't apply this option to "large" files.  (We can either hard code 
what "large" is or let the user specify a size).
4) Remove this option since it seems unecessary since commit will not commit a 
file whoes contents have not changed.
The option was removed from the sync view
Meant to mark this fixed</WithOutStack>
  </Bug>
  <Bug>
    <BugId amount="39881" />
    <CreationDate amount="2003-07-10 12:04:00 -0400" />
    <DupId amount="" />
    <classification amount="Eclipse" />
    <Product amount="Platform" />
    <component amount="SWT" />
    <Version amount="3.0" />
    <rep_platform amount="All" />
    <op_sys amount="All" />
    <priority amount="P3" />
    <bug_severity amount="normal" />
    <Summery>BIDI: DCR - Need to implement a Text Layout class</Summery>
    <Patches amount="0" />
    <Stacktraces amount="0" />
    <SourceCodeRegions amount="8">
      <source_code type="functioncall">
        <location start="12639" end="12663" />
        <code>(int context, int desc);</code>
      </source_code>
      <source_code type="functioncall">
        <location start="12872" end="12949" />
        <code>public static final synchronized native int pango_ft2_font_map_for_display();</code>
      </source_code>
      <source_code type="functioncall">
        <location start="13129" end="13198" />
        <code>public static final synchronized native int pango_glyph_string_new();</code>
      </source_code>
      <source_code type="functioncall">
        <location start="13359" end="13409" />
        <code>memmove(int dest, PangoGlyphInfo[] src, int size);</code>
      </source_code>
      <source_code type="functioncall">
        <location start="14319" end="14371" />
        <code>&gt; memmove(int dest, PangoGlyphInfo[] src, int size);</code>
      </source_code>
      <source_code type="functioncall">
        <location start="15353" end="15426" />
        <code>- added trial code for setting keyboard language (work on it is ongoing);</code>
      </source_code>
      <source_code type="functioncall">
        <location start="50615" end="50634" />
        <code>int getLineCount();</code>
      </source_code>
      <source_code type="functioncall">
        <location start="50692" end="50715" />
        <code>int getLineOffset(int);</code>
      </source_code>
    </SourceCodeRegions>
    <Enumerations amount="20">
      <Enumeration lines="5">
        <Lines>
          <Line>a) listen for keyboard language changes and cache existing keyboard mappings,</Line>
          <Line>obtaining them via XGetKeyboardMapping() function (unless we want to support</Line>
          <Line>also not installed keyboard languages -- e.g. to back up cases when input comes</Line>
          <Line>not from the keyboard),</Line>
          <Line>b) load requested keymap by calling XChangeKeyboardMapping() function.</Line>
        </Lines>
      </Enumeration>
      <Enumeration lines="7">
        <Lines>
          <Line>(a) Type b, hold shift and press the arrow left key</Line>
          <Line>expect: select the 'alef part' of the lam-alef ligaure</Line>
          <Line>result: select the whole ligaure</Line>
          <Line>(b) Type g, type h, hold shift and press the arrow left key</Line>
          <Line>expect: select the 'alef part' of the lam-alef ligaure</Line>
          <Line>result: it select the alef char, but render it independily, it means it draws</Line>
          <Line>alef and and lam instead of drawing alef-lam.</Line>
        </Lines>
      </Enumeration>
      <Enumeration lines="13">
        <Lines>
          <Line>1) Actual processing of CTL data before rendering, in compliance with the</Line>
          <Line>Unicode Standard</Line>
          <Line>2) Text measurement</Line>
          <Line>3) Rendering</Line>
          <Line />
          <Line>Anything else? Should it also handle:</Line>
          <Line>4) Cursor movement</Line>
          <Line>5) Selection?</Line>
          <Line>Semion, org.eclipse.swt.graphics.text has been created and you will be getting</Line>
          <Line>commit rights.  This is the area where we will do the work for TextLayout (or</Line>
          <Line>whatever it ends up being called).  It's possible the work will be folded into</Line>
          <Line>org.eclipse.swt.graphics for 3.0 depending on what we decide.  For example, if</Line>
          <Line>this package turns out to be large, we may want to keep it embedded reasons.</Line>
        </Lines>
      </Enumeration>
      <Enumeration lines="16">
        <Lines>
          <Line>1. Lina Kemmel (who is our expert in Text Layout related issues) will be</Line>
          <Line>working on TextLayout for SWT.</Line>
          <Line>2. Question 1: As far as I understand, we need to produce Textlayout class</Line>
          <Line>which will be "compatible" with four platforms (at least):</Line>
          <Line>- Layout Transform (AIX)</Line>
          <Line>- Pango (Linux)</Line>
          <Line>- Windows</Line>
          <Line>- MAC</Line>
          <Line>Do you have any information about Layout engine on MAC platform?</Line>
          <Line>3. Question 2: Did you have a chance to look at ICU</Line>
          <Line>(http://oss.software.ibm.com/icu/)? I assume that using ICU engine may be a</Line>
          <Line>shortcut for ALL TextLayout related issues in SWT with no relation to any</Line>
          <Line>specific platform.</Line>
          <Line>Seems that we need commit rights for Lina for the work area.  Is this</Line>
          <Line>correct?  I had just assumed Semion would be doing the work because of all his</Line>
          <Line>excellent contributions in the past.</Line>
        </Lines>
      </Enumeration>
      <Enumeration lines="14">
        <Lines>
          <Line>1. (From update of attachment 5658)</Line>
          <Line>We are currently sending pango a raw character array (as opposed to glyph</Line>
          <Line>indices) for rendering. However, it appears that higher level pango's APIs that</Line>
          <Line>we are using, anyway produce glyph indices before rendering. So I think that we</Line>
          <Line>should preserve a glyph string, once returned by pando during retrieving</Line>
          <Line>order/render info, and to pass it to gdk_draw_glyphs() function.</Line>
          <Line />
          <Line>2. Implementing setKeyboardLanguage API on GTK/AIX may require Xlib-based</Line>
          <Line>solution, such as:</Line>
          <Line>a) listen for keyboard language changes and cache existing keyboard mappings,</Line>
          <Line>obtaining them via XGetKeyboardMapping() function (unless we want to support</Line>
          <Line>also not installed keyboard languages -- e.g. to back up cases when input comes</Line>
          <Line>not from the keyboard),</Line>
          <Line>b) load requested keymap by calling XChangeKeyboardMapping() function.</Line>
        </Lines>
      </Enumeration>
      <Enumeration lines="43">
        <Lines>
          <Line>1. Knut, my suggestion is in the scope of attachment 5658, i.e. it applies only</Line>
          <Line>for bidi text on GTK. IMO it's justified for performance reasons. If accepted,</Line>
          <Line>GTK would be yet another platform (in addition to Windows) which we pass glyphs</Line>
          <Line>for rendering...</Line>
          <Line>We finally had the chance of starting locking at your code. We hope to get back</Line>
          <Line>to you with more info on it next week.</Line>
          <Line />
          <Line />
          <Line>Please ignore a piece of code, dealing with arrays reallocation, at the end of</Line>
          <Line>BidiUtil.getRenderInfo. It's useless, I wrote it automatically.</Line>
          <Line>Also, I have a number of other updates, one of which fixes getting rendering</Line>
          <Line>info for ligatures. Except for this one, neither of the changes seems to be</Line>
          <Line>critical. However, does it make sense to submit them now?</Line>
          <Line>Does your last changes involve C code ? Are they localized in only one (or two)</Line>
          <Line>class(es) ?</Line>
          <Line>If Yes is the answer for both question you should send your code (just the</Line>
          <Line>class that has changed). We had a bad time to load your patch. The java code</Line>
          <Line>for GC.getLayout was missing as well as the C code for several native methods</Line>
          <Line>sush as:</Line>
          <Line>public static final synchronized native int pango_context_load_font(int</Line>
          <Line>context, int desc);</Line>
          <Line>public static final synchronized native void pango_context_set_font_description</Line>
          <Line />
          <Line>public static final synchronized native int pango_font_find_shaper(int font,</Line>
          <Line>int language, int ch);</Line>
          <Line>public static final synchronized native int pango_font_map_load_font(int</Line>
          <Line>fontmap, int context, int desc);</Line>
          <Line />
          <Line>public static final synchronized native int pango_ft2_get_context(double dpi_x,</Line>
          <Line>double dpi_y);</Line>
          <Line>public static final synchronized native void pango_glyph_string_free(int</Line>
          <Line>glyphs);</Line>
          <Line />
          <Line>public static final synchronized native int pango_layout_get_line(int layout,</Line>
          <Line>int line);</Line>
          <Line />
          <Line>We also had another problems with the C code, like custom C code in:</Line>
          <Line />
          <Line>gdk_keymap_get_direction</Line>
          <Line />
          <Line>Anyway, we could compile the libraries and run your code but the rendering</Line>
          <Line>during the selection is still wrong. I run on RedHat 9, my locale is en_US.UTF-</Line>
          <Line>8. I use XKB to load arabic layout keyboard for testing.</Line>
        </Lines>
      </Enumeration>
      <Enumeration lines="12">
        <Lines>
          <Line>1) Agree with you, gedit has the same problem when using 'b' to print the lam-</Line>
          <Line>alef. We can live with this problem I gess. But selecting the text char by char</Line>
          <Line>still doesn't quite work for us when there is ligature.</Line>
          <Line>Example, in an arabic keyboard, press j, o, hold shift and press arrow left.</Line>
          <Line>The glyph khah ('o') is draw alone with the selection background, the ligature</Line>
          <Line>is gone, the glyph teh ('j') is only partially drawn. Can you reproduce this</Line>
          <Line>problem ?</Line>
          <Line />
          <Line>2) I will have to check the font for you, do you want the XLFD of the font ? I</Line>
          <Line>don't know how to do this so I will need to figure it out first.</Line>
          <Line />
          <Line>3) The crash happens to me all the time...</Line>
        </Lines>
      </Enumeration>
      <Enumeration lines="10">
        <Lines>
          <Line>1) I can reproduce the problem with rendering ligatures (and Arabic shaping in</Line>
          <Line>general) during char-by-char selection. It happens because each text segment is</Line>
          <Line>rendered separately, and character shaping doesn't occur across segment</Line>
          <Line>boundaries. I guess that creating and rendering glyph string should fix this</Line>
          <Line>problem.</Line>
          <Line />
          <Line>2) Does gedit display ligatures with this font?</Line>
          <Line>If so, I'll appreciate if you could check the FamilyName. I don't know what's</Line>
          <Line>the "right" way to do this, but I think that it can be figured out from the</Line>
          <Line>file /etc/fonts/fonts.conf (on RedHat 9 at least):</Line>
        </Lines>
      </Enumeration>
      <Enumeration lines="10">
        <Lines>
          <Line>1) order (this is arranged in logical order):</Line>
          <Line>&lt;dad&gt; LO 0 VO 2</Line>
          <Line>&lt;alef&gt; LO 1 VO 1</Line>
          <Line>&lt;lam&gt; LO 2 VO 1</Line>
          <Line>&lt;sheen&gt; LO 3 VO 0</Line>
          <Line />
          <Line>2) dx (and this one is created for glyph string, in visual order):</Line>
          <Line>&lt;sheen&gt; dx 25</Line>
          <Line>&lt;lam-alef&gt; dx 14</Line>
          <Line>&lt;dad&gt; dx 21</Line>
        </Lines>
      </Enumeration>
      <Enumeration lines="5">
        <Lines>
          <Line>1) This features is not in Eclipse plan 3.0 and probably never will.</Line>
          <Line>2) ATSUI, Pango, Uniscribe do not offer any API to help with this feature.</Line>
          <Line>TextLayout should be the same.</Line>
          <Line>3) Add setSegments() API to TextLayout to implement StyledText</Line>
          <Line>BidiSegmentsListener was bad, we just did it cause it was regression.</Line>
        </Lines>
      </Enumeration>
      <Enumeration lines="12">
        <Lines>
          <Line>- Layout Transform (AIX)</Line>
          <Line>- Pango (Linux)</Line>
          <Line>- Windows</Line>
          <Line>- MAC</Line>
          <Line>Do you have any information about Layout engine on MAC platform?</Line>
          <Line>3. Question 2: Did you have a chance to look at ICU</Line>
          <Line>(http://oss.software.ibm.com/icu/)? I assume that using ICU engine may be a</Line>
          <Line>shortcut for ALL TextLayout related issues in SWT with no relation to any</Line>
          <Line>specific platform.</Line>
          <Line>Seems that we need commit rights for Lina for the work area.  Is this</Line>
          <Line>correct?  I had just assumed Semion would be doing the work because of all his</Line>
          <Line>excellent contributions in the past.</Line>
        </Lines>
      </Enumeration>
      <Enumeration lines="4">
        <Lines>
          <Line>- StyledTextBidi.order array reflects the presence of ligatures;</Line>
          <Line>- BidiUtil.getFontAttributes provides more accurate font information;</Line>
          <Line>- added fixes for getting keyboard language, which are supposed to cover either</Line>
          <Line>XKB or non-XKB keyboard support;</Line>
        </Lines>
      </Enumeration>
      <Enumeration lines="6">
        <Lines>
          <Line>- cosmetic changes.</Line>
          <Line>Lina, last time I've load your code I made some changes:</Line>
          <Line>- put the native method in the right files</Line>
          <Line>- remove custom C code</Line>
          <Line>- rewrote some of the internal java classes (i.e. PangoGlyphGeometry) so that</Line>
          <Line>the we could use our automatic JNI code generation.</Line>
        </Lines>
      </Enumeration>
      <Enumeration lines="4">
        <Lines>
          <Line>- load the SWT code from version 3019c</Line>
          <Line>- load Lina's code</Line>
          <Line>- compile the swt libs and copy to the right place</Line>
          <Line>- run the TextEditor example from org.eclipse.swt.examples</Line>
        </Lines>
      </Enumeration>
      <Enumeration lines="8">
        <Lines>
          <Line>- how to list the keyboard layouts in use</Line>
          <Line>- how to get the active keyboard layout</Line>
          <Line>- how to set the active keyboard layout</Line>
          <Line>- how listen to keyboard layout changes</Line>
          <Line>That's is pretty much all we need for BidiUtil. The major problem with this</Line>
          <Line>code is that it doesn't interact with kxkb (KDE XKB, a keyboard selector app).</Line>
          <Line>Kxkb does not keep in the keyboard list in the xkb, it has its own list that</Line>
          <Line>I'm not sure we can get event using KDE calls.</Line>
        </Lines>
      </Enumeration>
      <Enumeration lines="3">
        <Lines>
          <Line>- gswitch applet in Gnome or kxkb in KDE;</Line>
          <Line>- XKB;</Line>
          <Line>- xmodmap.</Line>
        </Lines>
      </Enumeration>
      <Enumeration lines="4">
        <Lines>
          <Line>- Investigate the StyledText and verify if the API is we are proposing on</Line>
          <Line>TextLayout cover all its needs.</Line>
          <Line>- Write a hack implementation of TextLayout on Win32 (using Uniscribe probably)</Line>
          <Line>- Write a hack implementation of TextLayout on Carbon</Line>
        </Lines>
      </Enumeration>
      <Enumeration lines="6">
        <Lines>
          <Line>- isBidiPlatform()</Line>
          <Line>- getRenderInfo()</Line>
          <Line>- drawGlyph()</Line>
          <Line>- addLanguageListener()</Line>
          <Line>- removeLanguageListener()</Line>
          <Line>- setKeyboardLanguage()</Line>
        </Lines>
      </Enumeration>
      <Enumeration lines="7">
        <Lines>
          <Line>- retrieving glyphs with their width information in a flexible fashion</Line>
          <Line>(getRenderInfo() allows us to control reordering and shaping.</Line>
          <Line>It is important because we want sometimes to override the default behavior</Line>
          <Line>of reordering and shaping.)</Line>
          <Line>- drawing the glyphs</Line>
          <Line>- listening to an event of keyoboard layout chagne</Line>
          <Line>- setting keyboard layout to any available language</Line>
        </Lines>
      </Enumeration>
      <Enumeration lines="2">
        <Lines>
          <Line>- TextLayout does not allow us to override the default behavior on shaping.</Line>
          <Line>- TextLayout does not provide any IME-related functions.</Line>
        </Lines>
      </Enumeration>
    </Enumerations>
    <bug_status amount="RESOLVED" />
    <resolution amount="FIXED" />
    <WithStack>The current text measuring and drawing capability is insufficient to implement 
complex scripting.  To work around this on Windows, SWT uses an internal non-
API class called BidiUtil that has some text layout functionality.  This class 
was never intended as API so it reflects Windows centric cabability and naming.

We'd like to look into implementing a Text Layout class that would expose this 
capability as API.  The class would be added to org.eclipse.swt.graphics and 
implemented natively where possible.  For example, on GTK we could use 
PangoLayout for the implementation.

When we are done, StyledText should be changed to use the new class.
[From a member of an Israel team working on implementing Bidi support in 
StyledText on GTK.]

So, from the functional point of view, a TextLayout class won't just replace 
BidiUtils, but will expose the latter's capabilities? Such that TextLayout will 
be responsible for:

  1) Actual processing of CTL data before rendering, in compliance with the 
Unicode Standard
  2) Text measurement
  3) Rendering

Anything else? Should it also handle:
  4) Cursor movement
  5) Selection?
Semion, org.eclipse.swt.graphics.text has been created and you will be getting 
commit rights.  This is the area where we will do the work for TextLayout (or 
whatever it ends up being called).  It's possible the work will be folded into 
org.eclipse.swt.graphics for 3.0 depending on what we decide.  For example, if 
this package turns out to be large, we may want to keep it embedded reasons.

You will be working along with Silenio to define the API and ensure that it 
can be implemented on the various platforms.  Along the way, we may decide to 
hack BidiUtil for GTK to "get something running" (which I'm sure you already 
have) or a bunch of other fun things.  Anyway, we will be able to share code 
easily and also give you better feedback about how we work.
Steve, Silenio
1. Lina Kemmel (who is our expert in Text Layout related issues) will be 
working on TextLayout for SWT.
2. Question 1: As far as I understand, we need to produce Textlayout class 
which will be "compatible" with four platforms (at least):
 - Layout Transform (AIX)
 - Pango (Linux)
 - Windows
 - MAC
Do you have any information about Layout engine on MAC platform?
3. Question 2: Did you have a chance to look at ICU 
(http://oss.software.ibm.com/icu/)? I assume that using ICU engine may be a 
shortcut for ALL TextLayout related issues in SWT with no relation to any 
specific platform.
Seems that we need commit rights for Lina for the work area.  Is this 
correct?  I had just assumed Semion would be doing the work because of all his 
excellent contributions in the past.

Semion, do you work with Lina?
This is the site with the Mac text layout documentation:
    
http://developer.apple.com/documentation/Carbon/Reference/ATSUI_Reference/index.
html

I have not been able to look at ICU yet.
Steve, thank you.
About my work with Lina - I don't know. Probably, my boss khows this better.
I guess swt goes out of its way to avoid any use of Java2D at all.  That's too 
bad since that's where the complex text layout code is.

Does eclipse just need to support the code editor?  That's much more 
straightforward than a complete styled, line-wrapping text editor, and it means 
you can avoid part of the bidi algorithm dealing with line break reordering, 
which is an added complication.

From a quick glance at the code in BidiUtil, it appears you also rely on the 
ability to pass glyph indices (encoded as chars) down to platform rendering 
code, bypassing native analysis of the text.  It's easy enough to hack this on 
other platforms with Arabic since there are unicode code points assigned to the 
Arabic shaped forms for legacy reasons, but it doesn't quite work for Hindi 
(and Indic generally) or Thai.  I suppose you are focused only on Bidi support 
and not full complex text support, and want something cross-platform at this 
level?

If that's all you need, java.text.Bidi plus some code for arabic shaping (e.g. 
com.ibm.icu.text.ArabicShaping in ICU4J, see 
http://oss.software.ibm.com/cvs/icu4j/icu4j/src/com/ibm/icu/text/ArabicShaping.j
ava) ought to do the trick, and you can use native string rendering calls to 
render the text without resorting to something platform-specific like 
ExtTextOut.  That's essentially what we did for JDK 1.2. Hit testing is easy 
since you have a 1-1 glyph-to-char mapping (apart from lam-alef ligatures) and 
no special glyph placement if you don't handle accents (which you really need 
complex text layout for anyway).

Steve, this is correct. Please give commit rights to Lina Kemmel for the 
TextLayout work area. Semion will keep working on other SWT BIDI related issues 
(Windows, GTK mirroring, ...).  Thanks.
I have applied for Lina to get rights.  She should get email soon.  Please 
ping this PR if nothing happens within a week and I'll chase them on my end.
BTW, great comments from Doug Felt.  Are we focused on Bidi support and not 
full complex text?
The Eclipse story is to support bidi scripts only and not complex scripts in 
general. I'm not aware of new requirements in this area. 

You should ignore BidiUtil, it's very Windows specific and not our dream API. 
We are using the glyph indices during rendering because they're returned to us 
during measuring anyway - a Windows API specific optimization. We use 
StyledTextBidi to shield StyledText from the Windows specific calls of BidiUtil 
although even that doesn't necessarily have to live on.

The Eclipse editors use pretty much everything but word wrap. They use all the 
StyledText text styles (colors and bold). I believe there are form editors that 
use word wrap as well. StyledText bidi support needs to work regardless of how 
the widget is used. That's what we are supporting now and anything else would 
be a regression.
I looked at BidiUtil just in order to see how you are using native code in this 
case.

The basic need is to render (minimally) styled bidirectional text.  Absent APIs 
that accept styled text, you need to break this into separate rendering calls 
for each style run, and in the presence of bidi reordering you need to 
determine the visual position of each run as they are no longer necessarily in 
sequence.  In order to determine the visual position you need to know the 
overall order-- from the bidi algorithm-- and the extent of each run.  For 
Arabic, since the glyphs are contextually shaped, the extent can vary, so you 
either need native apis that can contextually shape the text and measure that 
form, or need to shape it yourself.  This is possible with Arabic because of 
the Extensions-B block in Unicode which includes code points for the shaped 
forms of the glyphs.  Then it is possible to 'shape' the text by converting it 
to these code points, and rendering that text instead.  This makes it possible 
to handle simple Hebrew and Arabic without any native platform support at all 
(except for font support for the shaped code points).

Simple accent placement (using non-spacing marks) is possible but tends to look 
rather poor, especially for Arabic, because the accents can collide with the 
base characters, especially given their contextually varying widths and 
shapes.  Within ligatures (the various lam-alef ligatures are the only required 
ones as far as I know) it's quite difficult to do proper accent placement 
without platform support.  One can always do a better approximation by 
examining the glyph outlines (or bitmaps) and manually positioning the marks 
but the native rendering calls become more complicated if they don't support 
full positioning of individual glyphs.

My guess is your required platforms all support enough complex rendering 
behavior that you can avoid writing this code, and use native APIs to measure 
the extent of, and render, each style run.
After experimenting with the Pango layout engine, my conclusion is that it 
should be sufficient for laying out styled Bidi text.
The following Pango APIs: pango_itemize(), pango_reorder_items(), and 
pango_shape() [meantime, being called from the BidiUtil] - make the StyledText 
properly display attributed Bidi text and get correct cursor movement. (I'm 
still having a couple of issues with selection and horizontal scrolling, 
though.)

On AIX, as Alex mentioned, we may exploit the Layout Transform functions -
http://publib16.boulder.ibm.com/pseries/en_US/libs/basetrf1/layout_object_shapeb
oxchars.htm

On Mac, it seems that ATSUI is able to accept fully *styled* text, but I 
haven't found low level APIs for manipulating Bidi text (which we may prefer in 
TextLayout for XP compatibility reasons).

So, in my opinion, native capabilities of the supported (Bidi enabled) 
platforms may ensure good support for Bidi scripts.
Created attachment 5604
Proposed *preliminary* fix / enhancement

Attached is a zip archive including the following sources:

os.c
os_custom.c
os_structs.c
os_structs.h
org/eclipse/swt/custom/StyledText.java
org/eclipse/swt/custom/StyledTextBidi.java
org/eclipse/swt/internal/BidiUtil.java
org/eclipse/swt/internal/gtk/OS.java
org/eclipse/swt/internal/gtk/PangoAnalysis.java
org/eclipse/swt/internal/gtk/PangoGlyphGeometry.java
org/eclipse/swt/internal/gtk/PangoGlyphInfo.java
org/eclipse/swt/internal/gtk/PangoGlyphString.java
org/eclipse/swt/internal/gtk/PangoGlyphVisAttr.java
org/eclipse/swt/internal/gtk/PangoItem.java

Contains implementation of a number of BidiUtil methods (which in the future
could be used also by the TextLayout class).

Please note that the code is not final, I'm going to provide more clean up and
optimizations.
Created attachment 5620
Proposed patch replacing attachment 5604

Re-submitting the changes, with a little more clean up, in diff format.
Silenio, is this format of code attachments preferable?
Lina, we would prefer to use the Eclipse patch support for this.
Just select the SWT project and use the pop-up menu "Team-&gt;Create Patch...".



Thank you very much, Felipe. I'm already out of the office and will try it 
tomorrow. (And it's amazing, how many things Eclipse is able to do.)
Created attachment 5658
Proposed patch replacing attachments 5604 and 5620
1. (From update of attachment 5658)
We are currently sending pango a raw character array (as opposed to glyph 
indices) for rendering. However, it appears that higher level pango's APIs that 
we are using, anyway produce glyph indices before rendering. So I think that we 
should preserve a glyph string, once returned by pando during retrieving 
order/render info, and to pass it to gdk_draw_glyphs() function.

2. Implementing setKeyboardLanguage API on GTK/AIX may require Xlib-based 
solution, such as:
a) listen for keyboard language changes and cache existing keyboard mappings, 
obtaining them via XGetKeyboardMapping() function (unless we want to support 
also not installed keyboard languages -- e.g. to back up cases when input comes 
not from the keyboard),
b) load requested keymap by calling XChangeKeyboardMapping() function.

Could using core Xlib (directly) be acceptable to us?

1. what you suggest is what we do for StyledText on Windows. The Windows API we 
call to reorder and measure text returns a reordered glyph buffer. We cache 
that buffer and use it later for rendering.
Not sure if this is a good idea for general text layout support.
1. Knut, my suggestion is in the scope of attachment 5658, i.e. it applies only 
for bidi text on GTK. IMO it's justified for performance reasons. If accepted, 
GTK would be yet another platform (in addition to Windows) which we pass glyphs 
for rendering...
We finally had the chance of starting locking at your code. We hope to get back
to you with more info on it next week.


Please ignore a piece of code, dealing with arrays reallocation, at the end of 
BidiUtil.getRenderInfo. It's useless, I wrote it automatically.
Also, I have a number of other updates, one of which fixes getting rendering 
info for ligatures. Except for this one, neither of the changes seems to be 
critical. However, does it make sense to submit them now?
Does your last changes involve C code ? Are they localized in only one (or two) 
class(es) ?
If Yes is the answer for both question you should send your code (just the 
class that has changed). We had a bad time to load your patch. The java code 
for GC.getLayout was missing as well as the C code for several native methods 
sush as:
public static final synchronized native int pango_context_load_font(int 
context, int desc);
public static final synchronized native void pango_context_set_font_description
(int context, int desc);
public static final synchronized native int pango_font_find_shaper(int font, 
int language, int ch);
public static final synchronized native int pango_font_map_load_font(int 
fontmap, int context, int desc);
public static final synchronized native int pango_ft2_font_map_for_display();
public static final synchronized native int pango_ft2_get_context(double dpi_x, 
double dpi_y);
public static final synchronized native void pango_glyph_string_free(int 
glyphs);
public static final synchronized native int pango_glyph_string_new();
public static final synchronized native int pango_layout_get_line(int layout, 
int line);

We also had another problems with the C code, like custom C code in:
memmove(int dest, PangoGlyphInfo[] src, int size);
gdk_keymap_get_direction

Anyway, we could compile the libraries and run your code but the rendering 
during the selection is still wrong. I run on RedHat 9, my locale is en_US.UTF-
8. I use XKB to load arabic layout keyboard for testing.

FYI: we are going to be busy during this week with the release of Eclipse 3.0 
M3. Probably next week we can get back to TextLayout.



&gt; The java code for GC.getLayout was missing as well as the C code for several 
&gt; native methods sush as:
&gt; public static final synchronized native int pango_context_load_font
................................
&gt; public static final synchronized native int pango_layout_get_line

GC.getLayout is really missing for some reason, but all the mentioned native 
methods seem to be present in the patch. Maybe there was a problem during 
creating / applying the patch.

&gt;We also had another problems with the C code, like custom C code in:
&gt; memmove(int dest, PangoGlyphInfo[] src, int size);
It's no longer used.
&gt; gdk_keymap_get_direction
Could you elaborate please? (I guess the problem is with the non-XKB code, and 
you didn't just mean that it should be moved to os_custom.c, right?)

&gt; rendering during the selection is still wrong

If you mean wrong highlighting, then the cause is most likely not setting 
desired colormap on PangoContext before calling to OS.gdk_draw_layout in 
gc.drawString. Once I defined and used OS.gdk_draw_layout_with_colors(..., 
gc.getForeground().handle, gc.getBackground().handle) instead, the problem 
disappeared.

I'll submit a new patch by the next week.
Thanks and good luck with the new release.
Created attachment 5929
New proposed patch

Core changes from the previous patch are:
- StyledTextBidi.order array reflects the presence of ligatures;
- BidiUtil.getFontAttributes provides more accurate font information;
- added fixes for getting keyboard language, which are supposed to cover either
XKB or non-XKB keyboard support;
- added trial code for setting keyboard language (work on it is ongoing);
- cosmetic changes.
Lina, last time I've load your code I made some changes:
- put the native method in the right files
- remove custom C code
- rewrote some of the internal java classes (i.e. PangoGlyphGeometry) so that 
the we could use our automatic JNI code generation.

If I load your last path I will lost all this changes (one day of work at 
least). But anyway, after doing all that I could not see any result when 
running the code with the changes. Probably I did something bad during the 
merge.

I think is time to share the code in a different (simpler) way:
- I would like you to zip your workspace and attach it here. Would be better if 
you could first merge the code in your workspace with the HEAD and if your 
workspace included the minimum code needed (org.eclipse.swt and 
org.eclipse.swt.gtk). I think this should be easy enough for you and for me.






Lina, do you have the rights for org.eclipse.swt.graphics.text yet?  If so, 
put your work there.
Steve, I have no commit rights yet.. So how I proceed?
I'm facing problems checking out the sources today, so would it be OK to attach 
here (or maybe send directly to Felipe) only my *modified* sources (which 
fortunately have been checked out)?
Created attachment 5965
Zip archive containing modified sources

Felipe, I attach only the modified sources. Apologies for any inconvenience.
Okay, I had no problem this time:
- load the SWT code from version 3019c
- load Lina's code 
- compile the swt libs and copy to the right place
- run the TextEditor example from org.eclipse.swt.examples 

The code works, but again I had problem with selection. If I type a whole bunch
of text and then select it character-by-character it fails when there is a
ligature between to character. A funny example is using lam-alef ligatures. Try
this:

(a) Type b, hold shift and press the arrow left key
expect: select the 'alef part' of the lam-alef ligaure
result: select the whole ligaure 
(b) Type g, type h, hold shift and press the arrow left key
expect: select the 'alef part' of the lam-alef ligaure
result: it select the alef char, but render it independily, it means it draws
alef and and lam instead of drawing alef-lam.

Another problem, still with lam-alef ligaure, according with the font I use I
don't get lam-alef when I type g,h (they are draw separately) . It fails with
Sans but works okay with Tahoma, so it can be a font related problem.

After closing the example by the first time I started to crash on the X calls
when attempt to run it again, the only workaround for me was to comment out all
the code using X calls.

Here is the stack:
An unexpected exception has been detected in native code outside the VM.
Unexpected Signal : 11 occurred at PC=0x420744FE
Function=(null)+0x420744FE
Library=/lib/tls/libc.so.6

NOTE: We are unable to locate the function name symbol for the error
      just occurred. Please refer to release documentation for possible
      reason and solutions.


Current Java thread:
	at org.eclipse.swt.internal.gtk.OS.XGetKeyboardMapping(Native Method)
	at org.eclipse.swt.internal.BidiUtil.getKeymap(BidiUtil.java:447)
	at org.eclipse.swt.internal.BidiUtil.&lt;clinit&gt;(BidiUtil.java:82)
	at org.eclipse.swt.custom.StyledTextBidi.isBidiPlatform(StyledTextBidi.java:213)
	at org.eclipse.swt.custom.StyledText.&lt;init&gt;(StyledText.java:1609)
	at
org.eclipse.swt.examples.texteditor.TextEditor.createStyledText(TextEditor.java:185)
	at org.eclipse.swt.examples.texteditor.TextEditor.open(TextEditor.java:324)
	at org.eclipse.swt.examples.texteditor.TextEditor.main(TextEditor.java:314)

Am I the only one having this problems ?

Sorry about the delayed response, I was out of the office. Felipe, I'm 
currently investigating the issues you mentioned. In the meantime, I can say 
that

(a) The keystroke produces the U+FEFB character ("ARABIC LIGATURE LAM WITH ALEF 
ISOLATED FORM"), which at some stage should be decomposed into 2 characters 
U+0644 + U+0627. I think that gtk knows to perform such a decomposition and 
stores the pre-edited string in the 'string' field of GdkEventKey. Do you know 
if this field (as opposed to 'keyval') is used to obtain keyboard input?
(And by the way, gedit also treats lam-alef produced by 'b', as a single 
character.)

Not displaying lam-alef generated by g, h with some fonts: can you tell what's 
the actual font assigned to Sans?

Regarding the crash, I was unable to reproduce it. According to the stack it 
happens when setting keyboard language. I'll keep investigating it.

1) Agree with you, gedit has the same problem when using 'b' to print the lam-
alef. We can live with this problem I gess. But selecting the text char by char 
still doesn't quite work for us when there is ligature.
Example, in an arabic keyboard, press j, o, hold shift and press arrow left.
The glyph khah ('o') is draw alone with the selection background, the ligature 
is gone, the glyph teh ('j') is only partially drawn. Can you reproduce this 
problem ?

2) I will have to check the font for you, do you want the XLFD of the font ? I 
don't know how to do this so I will need to figure it out first.

3) The crash happens to me all the time...

Lina, here is the doc for the field string of the GdkEventKey struct:
"a string containing the an approximation of the text that would result from 
this keypress. The only correct way to handle text input of text is using input 
methods (see GtkIMContext), so this field is deprecated and should never be 
used. (gdk_unicode_to_keyval() provides a non-deprecated way of getting an 
approximate translation for a key.) The string is encoded in the encoding of 
the current locale (Note: this for backwards compatibility: strings in GTK+ and 
GDK are typically in UTF-8.) and NUL-terminated. In some cases, the translation 
of the key code will be a single NUL byte, in which case looking at length is 
necessary to distinguish it from the an empty translation."
(source: http://developer.gnome.org/doc/API/2.0/gdk/gdk-Event-
Structures.html#GdkEventKey)

That is all I know about it.

Felipe, I'm sorry: using the field 'string' was preferable in gtk1; it's 
deprecated in gtk2 as you mentioned.

1) I can reproduce the problem with rendering ligatures (and Arabic shaping in 
general) during char-by-char selection. It happens because each text segment is 
rendered separately, and character shaping doesn't occur across segment 
boundaries. I guess that creating and rendering glyph string should fix this 
problem.

2) Does gedit display ligatures with this font?
If so, I'll appreciate if you could check the FamilyName. I don't know what's 
the "right" way to do this, but I think that it can be figured out from the 
file /etc/fonts/fonts.conf (on RedHat 9 at least):

&lt;!--
  Provide required aliases for standard names
--&gt;
	&lt;alias&gt;
		&lt;family&gt;sans-serif&lt;/family&gt;
		&lt;prefer&gt;
			&lt;family&gt;Luxi Sans&lt;/family&gt;
			..........................
			&lt;family&gt;SimSun&lt;/family&gt;
		&lt;/prefer&gt;
	&lt;/alias&gt;

- It should be first installed font from this list.
Thanks!
2) Gedit also failed. Anyway, I longer able to reproduce the problem, neither 
on Eclipse nor on Gedit. If I have to problem again I let you know (I'll try to 
provide more details as well).
I don't know if you still care, but here is my fonts.conf:
&lt;!--
  Sans-serif faces
 --&gt;
        &lt;alias&gt;
                &lt;family&gt;Helvetica&lt;/family&gt;
                &lt;family&gt;Arial&lt;/family&gt;
                &lt;family&gt;Verdana&lt;/family&gt;
                &lt;family&gt;Nimbus Sans L&lt;/family&gt;
                &lt;family&gt;Luxi Sans&lt;/family&gt;
                &lt;family&gt;Kochi Gothic&lt;/family&gt;
                &lt;family&gt;AR PL KaitiM GB&lt;/family&gt;
                &lt;family&gt;AR PL KaitiM Big5&lt;/family&gt;
                &lt;family&gt;Baekmuk Dotum&lt;/family&gt;
                &lt;family&gt;SimSun&lt;/family&gt;
                &lt;default&gt;&lt;family&gt;sans-serif&lt;/family&gt;&lt;/default&gt;
        &lt;/alias&gt;

Created attachment 6152
Preliminary fix for char by char selection

Attached includes only sources involved in changes for selection, synchronized
with the HEAD. Please let me know if you need a full (merged with the HEAD) set
of bidi-related sources, I'll submit the rest.
The code is quite raw, but I decided to send something running before the
weekend.
Meantime, the problematical X calls are commented out.
Felipe, can you send me your changes to the natives (and probably the tool) for 
auto-generating the JNI code?
*** Bug 6782 has been marked as a duplicate of this bug. ***
Created attachment 6458
XKB C example

This app illustrate how to interact with XKB, more precisely:
- how to list the keyboard layouts in use
- how to get the active keyboard layout
- how to set the active keyboard layout
- how listen to keyboard layout changes
That's is pretty much all we need for BidiUtil. The major problem with this
code is that it doesn't interact with kxkb (KDE XKB, a keyboard selector app).
Kxkb does not keep in the keyboard list in the xkb, it has its own list that
I'm not sure we can get event using KDE calls.

Lynna, The code I'm sending is a complete different alternative of doing the
work. It would be interesting for you check it out. In the meantime I'll be
going thru the pango part of the GTK/BidiUtil implementation.

Let me know with you need help to compile/run the app.
Felipe, the app works for me. However, the current implementation seems to 
interact better with either KDE kxkb or Gnome Keyboard Layout Switcher (gkb-
applet-2), configured for both xkb and xmodmap keymaps. By "better interaction" 
I mean our ability to keep track of keyboard layouts managed by the mentioned 
utilities.
Lina, I can see a number of scenarios where your implementation doesn't work 
(regarding if the keyboard part).
BidiUtil#isKeyboardBidi ()
Expect:
Get the list of keyboard layouts available and detect if it contains a bidi 
layout (arabic or hebrew).
Actual:
Returns if the current keyboard layout is bidi.
Possible bug: in getKeymap the flag isBidiKeyboard can get set to true but 
never to false.

BidiUtil#getKeyboardLanguage ()
Expect:
Return if the current keyboard input is bidi or not.
Actual:
Uses the default keymap to translate the letter 'a' to group zero and level 
zero, check if the resulting character has LTR or RTL directionality.
Bug: the group zero can be any layout the user has set.. greek, hebrew, french, 
thai, etc.

BidiUtil#setKeyboardLanguage ()
Expect:
Set the current keyboard input to bidi or non-bidi.
Actual:
Changes the keyboard mapping with a new collection of keysyms.
Bug: it relies in the gtk signal direction_changed, the first time the 
direction changes to LTR it saves current keysyms, later when the user attempt 
to change the keyboard layout to bidi it uses previously saved keysysms to 
replace the current one. And if, the user attempt to change the keyboard 
direction *before* a direction_changed happens  ? Changing the keysyms of the 
english-layout keyboard to arabic-keysyms can create inconsistences, specially 
if the user has configure his machine with multiple keyboard layouts.


Created attachment 6492
Testing keyboard related BidiUtils calls

Lina, could you run this example ? It fails no my machine.
Part of a talking between Lynne Kues (LK) and me (FH) about StyledText bidi and 
keyboard operations:

FH:
I would like to know from you or Knut which are the StyledText requirements on 
dealing with the keyboard. I mean why does the StyledText need to know:
Q: The list of keyboards available (isKeyboadBidi)?
A: to detected the present of bidi keyboard in order to enable bidi-platform 
support.

LK:
Yes, this is a workaround for XP bug 27629.  Before this problem we were 
looking at whether or not a bidi language was installed (not whether or not a 
bidi keyboard was active).  Even so, I think the keyboard test is the correct 
solution - we really only want to be in bidi mode when bidi input is enabled.

FH:
Q:  The active keyboard (getKeyboardLanguage)?
A: Setting the caret direction.

LK:
Yes.   And the method is also used during setting the keyboard language.  
Whenever the user cursors over text or clicks somewhere in the text, the 
keyboard must change to reflect the character at the cursor position.  As part 
of setting the keyboard language, we test to see whether or not the setting is 
necessary (i.e., if current language == language we want to set, do nothing).

FH:
Q: Set the active keyboard (setKeyboardLanguage) ?
A: set the keyboard to bidi when is when bidi-platform is true.

LK:
See the answer above.  The StyledText changes the keyboard setting 
automatically for the user depending on where the cursor is. Setting the 
keyboard language is a requirement from the bidi people and is typical behavior 
for most editors in bidi mode (e.g., WordPad).

FH:
Q: keyboard changed listener (add/removeLanguageListener) ?
A: set caret direction (workaround a bug in windows?).

LK:
Yes, to set the caret direction when the user changes the keyboard language 
(via ALT-Shift on Windows).  The listener is not working around any bug in 
windows. 

Felipe, I'm not experiencing the problems you mentioned in comment 44.
I guess the different keyboard behavior follows from a different method of
configuring it: I'm used to work with gkb-applet-2 layout switcher.

Also, please find my additional comments below:

&gt; BidiUtil#isKeyboardBidi ()
&gt; Expect:
&gt; Get the list of keyboard layouts available and detect if it contains a bidi
&gt; layout (arabic or hebrew).

My intention was to get the list of keyboard layouts *activated* during the
current session. If not activated, I assume that the keyboard is non-bidi, even
though bidi layouts are potentially available.

&gt; Actual:
&gt; Returns if the current keyboard layout is bidi.

For me: Returns if bidi layout *has ever been activated*.

&gt; BidiUtil#getKeyboardLanguage ()

&gt; Expect:
&gt; Return if the current keyboard input is bidi or not.

For me: Works as expected, probably because the Gnome layout switcher also uses
XGetKeyboardMapping / XChangeKeyboardMapping and replaces keymap of the group
zero (maybe to assure ability to handle both xkb and xmodmap keymaps).

&gt; BidiUtil#setKeyboardLanguage ()
&gt; Bug: it relies in the gtk signal direction_changed, the first time the
&gt; direction changes to LTR it saves current keysyms, later when the user
&gt; attempt to change the keyboard layout to bidi it uses previously saved
&gt; keysysms to replace the current one.

Current keysyms (either LTR or RTL) are saved for the first time in
BidiUtil.&lt;clinit&gt;(). Later, on direction_changed signal, keymaps of the
opposite direction (either RTL or LTR) get saved.

&gt; And if, the user attempt to change the keyboard direction *before* a
&gt; direction_changed happens  ?

Sorry, I'm not sure I got you correctly. I think any user attempt to change the
keyboard direction generates direction_changed signal.

&gt; Changing the keysyms of the english-layout keyboard to arabic-keysyms can
&gt; create inconsistences, specially if the user has configure his machine with
&gt; multiple keyboard layouts.

I agree with you it may sometimes cause inconsistences, for example when
setting XKB by setxkbmap on command line.

Would it be possible to give prerequisites of setting keyboard for Eclipse
users?
Okay, I verified that your code works with gkb (gkb-applet-2), but if you pay 
attention you will notice that when you change the keymap the applet doesn't 
change to reflect the new keymap. Testing your code I easily got in a 
situation where I had a German flag in applet but I was getting arabic 
wherever I type in the desktop. The same problem happens with kxkb. Changing 
the keymap behind the scenes causes this kind of problem.
If the user is using XKB with multiples keyboard the code doesn't work at all.
I'm not saying that your code is bad but you will need to perform a miracle to 
get this code working in all these different scenarios. The problem is: there 
no standard on Linux for configuring the keyboard with multiples layout.

Created attachment 6526
gkb test

just for the fun of it: c code that interacts with gkb/gconf to retrieve the
list of keyboard layouts. Use: gconf-editor to browse the gnome-registry.
Lina:
Why didn't you use pango_itemize &amp; pango_reorder &amp; pango_shape ?
Using PangoLayout you need to create more objects and you don't need any of 
the "sevices" (justify, spacing, alignment, wrap, etc) provided by PangoLayout.



Felipe, I used the APIs mentioned in your comment 48 in earlier 
implementations, e.g. in attachment 5620. Later, I decided to replace these by 
higher level pango layout APIs (which internally call pango_itemize, 
pango_reorder_items, pango_shape), to ensure forward compatibility with later 
versions of pango.
Would it be possible to give recommendations (in the absence of a standard)
for configuring the keyboard? The options are:
- gswitch applet in Gnome or kxkb in KDE;
- XKB;
- xmodmap.

I think that gswitch applet / kxkb are more commonly used for this purpose.

Felipe, I also see that problem: the applet doesn't reflect a new keymap.

Lina: I agree with you, probably gkb/kxkb are the most commonly used. I search 
web (http://www.freedesktop.org/, http://www.linuxbase.org/) trying to find if 
there is, or there will be, a standard way to dealing with the keyboard but I 
didn't find anything.
I'm also checked if gkb/kxkb have an open API that allow us to interact with 
them and I don't think it exists.

I'll need to talk to Silenio/Steve about this keyboard problem.

---

When you decided to use PangoLayout to "ensure forward compatibility with 
later versions of pango", did you find any indication that pango_itemize/ 
pango_reorder/pango_shape will become obsolete or deprecated in the future ?
From where did you get this information ? I checked gtk plans and apis and I 
couldn't find any indication that using those API will compromise 
compatibility with newer versions of pango.

I don't have any serious problem on using PangoLayout if we need to. But if we 
can avoid it is better because we will have less structs to handle and I also 
thing that using pango_itemize/ pango_reorder/pango_shape makes the code more 
straight forward and simple.

Lina: here some cases where the code fails (walkback):

type lam (g)
type shadda (~)  - note: lam is move to right ! the point shadda is place in the
wrong place.
Try to select the text from the right-to-left: walkback:
Exception in thread "main" java.lang.IllegalArgumentException: Argument not valid
	at org.eclipse.swt.SWT.error(SWT.java:2355)
	at org.eclipse.swt.SWT.error(SWT.java:2299)
	at org.eclipse.swt.custom.DefaultContent.error(DefaultContent.java:673)
	at org.eclipse.swt.custom.DefaultContent.getLineAtOffset(DefaultContent.java:567)
	at org.eclipse.swt.custom.StyledText.doMouseLocationChange(StyledText.java:2796)
	at org.eclipse.swt.custom.StyledText.handleMouseMove(StyledText.java:5361)
	at org.eclipse.swt.custom.StyledText$12.handleEvent(StyledText.java:5086)
	at org.eclipse.swt.widgets.EventTable.sendEvent(EventTable.java:82)
	at org.eclipse.swt.widgets.Widget.sendEvent(Widget.java:962)
	at org.eclipse.swt.widgets.Display.runDeferredEvents(Display.java:1815)
	at org.eclipse.swt.widgets.Display.readAndDispatch(Display.java:1595)
	at tests.SimpleStyledText.main(SimpleStyledText.java:71)

Other test:
type shadda (~)
type lam (g)

Walkback:

(&lt;unknown&gt;:12151): Gdk-CRITICAL **: file gdkpixmap-x11.c: line 180
(gdk_pixmap_new): assertion `(width != 0) &amp;&amp; (height != 0)' failed
Exception in thread "main" org.eclipse.swt.SWTError: No more handles
	at org.eclipse.swt.SWT.error(SWT.java:2395)
	at org.eclipse.swt.SWT.error(SWT.java:2299)
	at org.eclipse.swt.graphics.GC.drawSubstring(GC.java:953)
	at org.eclipse.swt.internal.BidiUtil.drawChars(BidiUtil.java:498)
	at org.eclipse.swt.custom.StyledTextBidi.drawChars(StyledTextBidi.java:348)
	at org.eclipse.swt.custom.StyledTextBidi.drawBidiText(StyledTextBidi.java:319)
	at org.eclipse.swt.custom.StyledTextRenderer.drawText(StyledTextRenderer.java:295)
	at
org.eclipse.swt.custom.StyledTextRenderer.drawStyledLine(StyledTextRenderer.java:258)
	at org.eclipse.swt.custom.StyledTextRenderer.drawLine(StyledTextRenderer.java:144)
	at org.eclipse.swt.custom.StyledText.performPaint(StyledText.java:6082)
	at org.eclipse.swt.custom.StyledText.handleTextChanged(StyledText.java:5479)


Lina: Question:

Why you didn't use drawGlyphs ?
I mean, since we had to get the glyphs anyway would no be to use them to draw
(better performance I think).

Lina, looking your code closely, I see that you use the index k to loop thru 
chars and glyphs, the code assumes that the glyph corresponded to the char at 
k is the glyph at k. This is wrong. Using my example I tested:
Typing in arabic: a &lt;dad&gt; + g &lt;lam&gt; + h &lt;alef&gt; + q &lt;sheen&gt;
got the output:
&lt;sheen&gt; dx 25 LO 0 VO 2
&lt;lam&gt; dx 14 LO 1 VO 1
&lt;alef&gt; dx 21 LO 2 VO 1
&lt;dad&gt; dx 0 LO 3 VO 0

The dx of alef should be ZERO, the dx of dad should be 21. Futher, I'm not 
sure if the visual order of the ligature lam-alef should be the same (vo 1 in 
this case).

Test using arrow key to select, cause of this bug it is need a extra keystroke 
to select the last char in the run.

Created attachment 6561
pango test

Just for the fun of it: This is my pango test c example, although this is the
first time I try to implement it I think this code does the right thing on
computing dx and ordering.
First of all, sorry about the delayed response: during the past week I was
unexpectedly out of the office.

Felipe, I do not assume that the glyph corresponded to the char at
k is the glyph at k, and the a &lt;dad&gt; + g &lt;lam&gt; + h &lt;alef&gt; + q &lt;sheen&gt; output
demonstrates complex (as opposed to one-to-one) glyph-to-char
mapping. Also, you can see in the code that in some cases
   order[logOffset] = order[logOffset + direction]
i.e. 2 or more character indices are mapped to the same glyph index.

I think that the output is correct:

1) order (this is arranged in logical order):
&lt;dad&gt; LO 0 VO 2
&lt;alef&gt; LO 1 VO 1
&lt;lam&gt; LO 2 VO 1
&lt;sheen&gt; LO 3 VO 0

2) dx (and this one is created for glyph string, in visual order):
&lt;sheen&gt; dx 25
&lt;lam-alef&gt; dx 14
&lt;dad&gt; dx 21

The "zero-width dx" doesn't belong no any glyph, it's extra array member that 
should be ignored by the StyledText (on Windows as well).

Do you agree with that?

I'm unable to reproduce the lam/shadda problem.
Running your c example (which works fine!), I see that lam + shadda, shadda +
lam, or dad + lam + alef + sheen behave identically as they use to in the
StyledText. However, I'm not in sync with the HEAD; I'll try to upgrade code to
see what happens.

-----------------

I also thought of glyph rendering on gtk for performance reasons.

However, http://developer.gnome.org/doc/API/2.0/gdk/gdk-Drawing-
Primitives.html#gdk-draw-glyphs claims that "...99% of text rendering should be
done using gdk_draw_layout() instead [of gdk_draw_glyphs()]".
I think that gdk_draw_layout() is apparently able to handle various
font/rendering details, thus using it safer that gdk_draw_glyphs. What do you
think?

---------------------

Regarding (a) PangoLayout vs. (b) pango_itemize/pango_reorder_items/pango_shape,
I recalled why I used (a):

- when using (b) with some fonts, after calling itemize and reorder, I still
had some PangoAnalysis fields uninitialized, and had to set them manually. I
suppose such pango problems will get fixed in the future.
However, it's possible that I was doing something wrong. Should I recheck this?

- with (b) I had more structs to handle.

- Sorry that I forgot to say this before: According to the Unicode Bidi
Algorithm, bidi resolution (itemization) should apply to entire paragraph,
reordering - per separate line of text after line breaking. As far as I
understand, StyledText doesn't implement this approach at present (on any
platform). I suggest to do so. If you decide to implement it, (a) - as opposed
to (b) - will provide convenient interface for handling multiline text. And,
upon your agreement, I could investigate the StyledText code closer to see how
to implement it.

----------------

Please let me know if you need additional clarifications. - Thanks.

"The "zero-width dx" doesn't belong no any glyph, it's extra array member that 
should be ignored by the StyledText (on Windows as well).

Do you agree with that?"

It makes sense now. Though, I don't think Windows works this way. Did you test 
the case I described (using arrow key to select text) ?  

About the lam/shadda problem, I got the same bug on gedit, I believe this is 
pango bug not ours.

"I think that gdk_draw_layout() is apparently able to handle various
font/rendering details, thus using it safer that gdk_draw_glyphs. What do you
think? "

I think this is a excellent idea, actually, this is whole point of this work.
We should start implement a TextLayout class, which will uses platform support 
to deal with all the complexity of internationalized text handling. Then we 
change StyledText to use it.

I checked ATSUI (the mac text layout) and it is (at least seems) pretty good.

We also need to decide (a) if we will need Uniscribe for Windows or not; (b) 
if our TextLayout will provide API for caret placement and hit testing; (c)it 
will provide API for text highlighting.

Personally, I think TextLayout should shield the StyledText from dealing with 
internationalized text particularities as possible as it can.

I still don't know what to do about the APIs dealing with the keyboard, right 
now I think we should not export (make public API) any of them and on the 
platforms where its possible SWT would deal with behind the scenes.

Testing a &lt;dad&gt; + g &lt;lam&gt; + h &lt;alef&gt; + q &lt;sheen&gt; char-by-char selection:

Felipe: For me the extra keystroke occurs when selecting the lam-alef, but not
the last character. And it seems to be okay.

Logical selection is processed in respect to the logical sequence of characters, 
not glyphs. Each keystroke selects one character. I need 2 keystrokes to
highlight the lam-alef glyph consisting of 2 characters: one keystroke selects
lam, the second keystroke - alef (or vice versa depending on the selection
direction).

The same behavior shows the StyledText on Windows.

The only problem is: when the caret is located logically between the characters
lam and alef, it should be visually in the middle of a lam-alef glyph. Please
see the Windows notepad. I'm not sure there is a standard about it, though.

As for gedit, it works buggy here.
I just released some code into org.eclipse.swt.graphics.text, it contains:
-An initial (prototype) API for TextLayout and TextStyle
-Hack implementation (partial) of this API on GTK 
-Test case example 

At this point we are mainly investigating platform features and which are the 
StyledText needs.
Our working items are:
- Investigate the StyledText and verify if the API is we are proposing on 
TextLayout cover all its needs.
- Write a hack implementation of TextLayout on Win32 (using Uniscribe probably)
- Write a hack implementation of TextLayout on Carbon 

These hack implementation on each platform (carbon, gtk, win32) are important 
to help us to define a SWT public API that can be implemented on all our 
platforms. Of course, in the future, we will need an emulated implementation 
for photon and motif, it doesn't need to deal with arabic or anything but has 
to work for western scripts in general.

Lina, please load the code, choose one working item that you prefer or suggest 
something else. Either way let me know in what you are currently working on so 
we won't duplicate efforts. I'm currently playing (reading docs, writting test 
code, etc) with cursor positioning, hit test, and draw selection (text 
highlighting).

Felipe, I suggest that I investigate and modify the StyledText to adopt the new
APIs, and - if needed - supply missing APIs for GTK. Is that okay?

-----------

What do you think about using Pango on Win32?
Okay, I won't be working on StyledText then. Lina, do you think that the logic 
of cursor movement and hit test should be provide by the TextLayout object ? 
Currently StyledText is dealing if this problem by it self. And how about text 
highlighting, should it be implement by StyledText or TextLayout (Uniscribe 
and ATSUI both have API for doing that)? I believe it all should be done by 
TextLayout. What do you think ?

If you need new APIs when changing StyledText you should add them to 
TextLayout or request me to do so. Be careful, the APIs on TextLayout should 
be possible to implement across different platforms.
(NOTE: StyledText can't import org.eclipse.swt.internal.gtk.OS! or any other 
internal SWT API.)

I'm having a pretty bad time using PangoLayout to implement cursor movement 
and hit test. Anyway I'll be releasing the code I'm working daily even though 
it's broken so you'll up to date with what I'm doing.

About, using pango on windows, I just clicked on the link "Gtk+ Win32" on 
ww.gtk.org and the whole page talks about bugs, crashes, licenses issues and 
all kind of problem in general. Don't know, I'll talk to SSQ about it.

I thought a little bit more: If we use Pango on Win32 we'll be forcing all 
windows eclipse user to install pango in their machines, this is not a option.
Felipe, I also think that cursor movement and hit test should be provided by 
the TextLayout. The same about text highlighting (assuming that it actually 
comes to xy position &lt;-&gt; char index translations).
Should this approach be conditioned by the presence of appropriate native APIs? 
(no, in my opinion.)

As for Win32, neither Win32 APIs nor Uniscribe (as opposed to Pango or ATSUI) 
seems to be capable to handle attributed text. So, to ensure coherence between 
style runs and directional runs, it appears that we'll need to preserve the 
StyledText[Bidi] logic (even if delegated to the TextLayout). What do you think?

Could gtk+ for Win32 installation occur behind the scene, becoming a part of 
the standard eclipse installation? (But even so, we'll still be forcing all 
windows eclipse users to install pango in their machines...)
I gave up by now trying to use pango_layout_move_cursor_visually, it might 
turn out that we don't need it anyway. The only API for cursor positioning is 
getCursorPosition(int) which takes a character offset and returns the 
appropriate Rectangle to place the caret. I still have problems with care 
positioning when crossing a direction boundary though.
Hit text is working (xy -&gt; character offset).

You can actually use Uniscribe to draw attributed text, but you have to do it 
by hand, no high level APIs, check:
http://msdn.microsoft.com/library/en-us/intl/uniscrib_9t2d.asp
"Before using Uniscribe, an application divides the paragraph into runs, that 
is, a string of characters with the same style. The style depends on what the 
application has implemented, but typically includes such attributes as font, 
size, and color. Uniscribe divides the paragraph into items -- strings that 
have the same script and direction. The application applies the item 
information to produce runs that are unique in script and direction."

My problem with using Uniscribe is that it is not support on NT.

Felipe, I wanted to try your testcase, but failed to build 
org.eclipse.graphics.text, having a number of undefined methods, such as 
pango_layout_move_cursor_visually. Can you please put the missing natives at 
the org.eclipse.graphics.text repository?
Please sync:
org.eclipse.swt
org.eclipse.swt.gtk
org.eclipse.swt.graphics.text
After doing that you should be able to run the example.
Please, fell free to create other examples, junit test, whatever you need. You 
might want to add a copy of the StyleText to org.eclipse.swt.graphics.text so 
you can edit and commit its changes.


I have released some trial changes for TextLayout.getCursorPosition(), into 
org.eclipse.swt.graphics.text, into a separate folder org.eclipse.swt.20031111 
(bad name, but I couldn't figure out how to rename it).
This code selects "weak" or "strong" cursor position according to the match 
between the cursor level and the base direction. It seems to work, but 
sometimes I see two carets at once; however, the "extra" caret disappears when 
forcing repaint.
Lina, you can release your changes in the main file, I don't mind. Actually, 
it would make easier to see the differences. You can add comments to help me 
to understand your changes if you think is necessary. We have to agree with 
the API and its implementation, if we agree that a change is bad we can always 
use CVS retrieve a old version.

The two carets you are seeing is a bug either on the example or in swt/gtk (it 
doesn't happen on win32/uniscribe). Don't bother.

I'm not quite sure when the api getCursorPosition() should use strong or weak 
rect. I don't agree with the native GTK implementation myself. The solution 
could be add a boolean traling parameter to the function and let to the client 
to decide.

At this point I know we'll need to add a moveCursor api and probably another 
api to return if the current position is over a boundary direction so the 
client can set a splitter caret or other kind of special caret.

Felipe, I agree with you that getCursorPosition() may be enhanced by additional 
parameter. However, it seems to me that we can rely on strong / weak 
rectangles - under condition that the embedding level at the insertion point is 
properly calculated. So I think this additional parameter could reflect (or 
help figure out) the cursor level.

I'm currently working on the StyledText, trying to use some of the TextLayout 
APIs; but maybe it makes sense to focus on the TextLayout implementation first? 
What do you think?
I believe we need to understand the StyleText needs in order design a better 
TextLayout API. But if you want to put more efforts into the TextLayout 
implementation its fine. You can either improve GTKs implementation or start a 
Carbon implementation. Hopefully this week I'll be release a working Uniscribe 
implementation and I'll let you to take over it.

Do you still need org.eclipse.swt.20031111 ? Or can it be purge from CVS ? 
I vote to create a new folder "Eclipse SWT PI" with 
subfolders "gtk","win32,"carbon", etc where we can put native code that still 
wasn't release in org.eclipse.swt.

Code format, insert new line before opening brace, sometimes you do it 
sometimes you don't, in SWT, we never do it.

Your changes in getCursorPosition, internally it determines the level at 
position and used it to figure out if the cursor should be at the lead edge or 
at trailing edge. I didn't test but the idea is right in my opnion. Still, I 
think we need an API to return the level (I think BidiUtil used to use the 
idea of class for this) at a certain index, this will provide support for 
clients to set a special caret according with the direction on that position. 
Knowing the level a certain pos the client can also find the level at `pos - 
1` to detect direction boundaries if it wants to use special carets in this 
case (spliter caret or dual-caret).
What do you think ?

I see that you need APIs to get text width, line width, draw line and others. 
We can have these, but then we need to add coherent set of APIs to work if 
lines, something like:
int getLineCount();
Point getLineBounds(int); // or Point getLineExtent(int)
int getLineOffset(int);

I have to talk to SSQ about these API.
Felipe, I no longer need org.eclipse.swt.20031111, thanks.

I also think that we need API to get the level, so that clients could select 
caret shape, set keyboard language.

Regarding adding line-related APIs, I think it may depend on the way supported 
platforms handle lines (if any). As for pango, for example, I'm going to 
investigate if it counts for a "line" a "logical line" or a "wrapped line" 
(which is important for getting line widths, offsets, count etc.).

At present editing, navigation, line iteration of styled text content is 
provided by the WrappedContent and the DefaultContent classes. Do you think it 
should be delegated to the TextLayout?


LINA: "Regarding adding line-related APIs, I think it may depend on the way 
supported platforms handle lines (if any). As for pango, for example, I'm 
going to investigate if it counts for a "line" a "logical line" or a "wrapped 
line" (which is important for getting line widths, offsets, count etc.)."

FELIPE: On windows the whole paragraph and lines handling is done by us, 
therefore we can do whatever we want. Pango, line count returns the number 
of "wrapped lines".

LINA: "At present editing, navigation, line iteration of styled text content 
is provided by the WrappedContent and the DefaultContent classes. Do you think 
it should be delegated to the TextLayout? "

FELIPE: Not sure yet (I didn't look at StyledText). I would say styled text 
content would make sense to delegate to TextLayout. Navigation, should stay on 
StyledText. I don't quite know what editing and line iteration involve in this 
scope. 

To clarify: StyledTextContent (their DefaultContent/WrappedContent 
implementations) stores and provides read/write access to the text model.
StyledText handles all navigation and presentation.
I don't think StyledTextContent implementations should ever know about the 
presentation/layout. It's just the "dumb" storage.
Because Bug6782 was returned as duplicate of this enhancement,
I would like to clarify my requirements described in the Bug.

I have a GEF based editor, which must be enhanced to support bidirectional 
language.  To accomplish this, I was planning to use the following APIs in 
BidiUtil class.

- isBidiPlatform()
- getRenderInfo()
- drawGlyph()
- addLanguageListener()
- removeLanguageListener()
- setKeyboardLanguage()

If your TextLayout class is expected as a public class to expose bidi 
capability, I would like it to have the following four functions.

- retrieving glyphs with their width information in a flexible fashion
  (getRenderInfo() allows us to control reordering and shaping.
   It is important because we want sometimes to override the default behavior
   of reordering and shaping.)
- drawing the glyphs
- listening to an event of keyoboard layout chagne
- setting keyboard layout to any available language

By the way, I was not able to find TestLayout class in eclipse 3.0M6 build.
Do you have any planned date when it will be integrated in a build?
Since I noticed TextLayout class was integrated in the M8 build, I have 
studied the feasibility of using the class instead of BidiUtil class for my 
editor.  The following is the result corresponding to my original request:

&gt; - retrieving glyphs with their width information in a flexible fashion
&gt;   (getRenderInfo() allows us to control reordering and shaping.
&gt;    It is important because we want sometimes to override the default behavior
&gt;    of reordering and shaping.)
The width of each glyph can be retrieved by calling TextLayout.getOffset() 
twice.  This is okay for my editor.
However TextLayout class calculates shaping completly within the class and do 
not allow us to override the default behavior.  This is not enough flexible 
for my editor.  For example, I need sometimes choose middle form or final form 
not initial form for a character even if it is the first one in a text 
string.  Also there are cases that I need choose initial form or middle form 
for the last character in a text string.  I would also like to control the 
digit shape.

&gt; - drawing the glyphs
TextLayout.draw() satisfies this requirement.

&gt; - listening to an event of keyoboard layout chagne
&gt; - setting keyboard layout to any available language
These IME-related functions are missing in TextLayout.  I guess TextLayout 
class is not designed as the complete replacement of BidiUtil but partial 
replacement of it, only layout-related functions.  If so, should I stick to 
Bug6782 on these functions?

Summary of the result:
- TextLayout does not allow us to override the default behavior on shaping.
- TextLayout does not provide any IME-related functions.

I would like to request further enhancement for these missing functions.



&gt; TextLayout does not allow us to override the default behavior on shaping.

The default shaping behavior can be overriden, either in your application code 
or SWT, by using bidi control characters (zero-width joiner/non-joiner) or pre-
shaped presentation forms (U+FExx range). The latter sounds preferable, since 
it doesn't expand the original string.

What do you think?
"either in your application code or SWT"
Implement it in the application, here some reasons:
1) This features is not in Eclipse plan 3.0 and probably never will.
2) ATSUI, Pango, Uniscribe do not offer any API to help with this feature. 
TextLayout should be the same.
3) Add setSegments() API to TextLayout to implement StyledText 
BidiSegmentsListener was bad, we just did it cause it was regression.

SQ,
We need access to a TextLayout's TextStyles and their Fonts in order to 
simulate Zoom functionality in Draw2d.  Please add the necessary API asap so 
we can get this into M9.
Okay, I will use zwj and zwnj for my editor to control shaping and use rlo, 
lro, and pdf to control reordering.  Also GEF team is going to add some APIs 
so that we can use TextLayout class for a GEF based editor.
Now our editor is going to have the ability to render bidirectional characters 
with TextLayout class and GEF's enhancement. Thanks.

As for IME functions, what do you think?   I can not complete bidi enabling of 
my editor without these functions.
To control reordering you can use TextLayout#setSegments(), we had to add it 
because StyledText needs it. 
I'll look at "IME functions" after Eclipse 3.0 only.

Right now we have more people asking for italic support (StyledText) and 
underline.

Felipe,
Thanks for the suggestion.  Unfortunately TextLayout#setSegments() is slightly 
different from what I needed here.  It allows us to insert LRM or RLM at any 
position but the marks only affect to characters of neutral type next to 
them.  What I am trying to do is rendering whole string in non-Arabic in right-
to-left direction or rendering whole string in Arabic in left-to-right 
direction.  That is why I wanted to insert LRO, RLO, or PDF.  If you can 
enhance setSegments() to have the ability, it would be helpful for us but I do 
not think it is mandatory.

Though I understand you have other works having priority over IME related 
functions, I would like you to try to provide IME related functions as well in 
eclipse 3.0.

Closing problem report.

Please enter a new problem report for each defect or feature request still 
reamining.

I have opened another one for IME related functions, Bug62431.</WithStack>
    <WithOutStack>The current text measuring and drawing capability is insufficient to implement 
complex scripting.  To work around this on Windows, SWT uses an internal non-
API class called BidiUtil that has some text layout functionality.  This class 
was never intended as API so it reflects Windows centric cabability and naming.

We'd like to look into implementing a Text Layout class that would expose this 
capability as API.  The class would be added to org.eclipse.swt.graphics and 
implemented natively where possible.  For example, on GTK we could use 
PangoLayout for the implementation.

When we are done, StyledText should be changed to use the new class.
[From a member of an Israel team working on implementing Bidi support in 
StyledText on GTK.]

So, from the functional point of view, a TextLayout class won't just replace 
BidiUtils, but will expose the latter's capabilities? Such that TextLayout will 
be responsible for:

  1) Actual processing of CTL data before rendering, in compliance with the 
Unicode Standard
  2) Text measurement
  3) Rendering

Anything else? Should it also handle:
  4) Cursor movement
  5) Selection?
Semion, org.eclipse.swt.graphics.text has been created and you will be getting 
commit rights.  This is the area where we will do the work for TextLayout (or 
whatever it ends up being called).  It's possible the work will be folded into 
org.eclipse.swt.graphics for 3.0 depending on what we decide.  For example, if 
this package turns out to be large, we may want to keep it embedded reasons.

You will be working along with Silenio to define the API and ensure that it 
can be implemented on the various platforms.  Along the way, we may decide to 
hack BidiUtil for GTK to "get something running" (which I'm sure you already 
have) or a bunch of other fun things.  Anyway, we will be able to share code 
easily and also give you better feedback about how we work.
Steve, Silenio
1. Lina Kemmel (who is our expert in Text Layout related issues) will be 
working on TextLayout for SWT.
2. Question 1: As far as I understand, we need to produce Textlayout class 
which will be "compatible" with four platforms (at least):
 - Layout Transform (AIX)
 - Pango (Linux)
 - Windows
 - MAC
Do you have any information about Layout engine on MAC platform?
3. Question 2: Did you have a chance to look at ICU 
(http://oss.software.ibm.com/icu/)? I assume that using ICU engine may be a 
shortcut for ALL TextLayout related issues in SWT with no relation to any 
specific platform.
Seems that we need commit rights for Lina for the work area.  Is this 
correct?  I had just assumed Semion would be doing the work because of all his 
excellent contributions in the past.

Semion, do you work with Lina?
This is the site with the Mac text layout documentation:
    
http://developer.apple.com/documentation/Carbon/Reference/ATSUI_Reference/index.
html

I have not been able to look at ICU yet.
Steve, thank you.
About my work with Lina - I don't know. Probably, my boss khows this better.
I guess swt goes out of its way to avoid any use of Java2D at all.  That's too 
bad since that's where the complex text layout code is.

Does eclipse just need to support the code editor?  That's much more 
straightforward than a complete styled, line-wrapping text editor, and it means 
you can avoid part of the bidi algorithm dealing with line break reordering, 
which is an added complication.

From a quick glance at the code in BidiUtil, it appears you also rely on the 
ability to pass glyph indices (encoded as chars) down to platform rendering 
code, bypassing native analysis of the text.  It's easy enough to hack this on 
other platforms with Arabic since there are unicode code points assigned to the 
Arabic shaped forms for legacy reasons, but it doesn't quite work for Hindi 
(and Indic generally) or Thai.  I suppose you are focused only on Bidi support 
and not full complex text support, and want something cross-platform at this 
level?

If that's all you need, java.text.Bidi plus some code for arabic shaping (e.g. 
com.ibm.icu.text.ArabicShaping in ICU4J, see 
http://oss.software.ibm.com/cvs/icu4j/icu4j/src/com/ibm/icu/text/ArabicShaping.j
ava) ought to do the trick, and you can use native string rendering calls to 
render the text without resorting to something platform-specific like 
ExtTextOut.  That's essentially what we did for JDK 1.2. Hit testing is easy 
since you have a 1-1 glyph-to-char mapping (apart from lam-alef ligatures) and 
no special glyph placement if you don't handle accents (which you really need 
complex text layout for anyway).

Steve, this is correct. Please give commit rights to Lina Kemmel for the 
TextLayout work area. Semion will keep working on other SWT BIDI related issues 
(Windows, GTK mirroring, ...).  Thanks.
I have applied for Lina to get rights.  She should get email soon.  Please 
ping this PR if nothing happens within a week and I'll chase them on my end.
BTW, great comments from Doug Felt.  Are we focused on Bidi support and not 
full complex text?
The Eclipse story is to support bidi scripts only and not complex scripts in 
general. I'm not aware of new requirements in this area. 

You should ignore BidiUtil, it's very Windows specific and not our dream API. 
We are using the glyph indices during rendering because they're returned to us 
during measuring anyway - a Windows API specific optimization. We use 
StyledTextBidi to shield StyledText from the Windows specific calls of BidiUtil 
although even that doesn't necessarily have to live on.

The Eclipse editors use pretty much everything but word wrap. They use all the 
StyledText text styles (colors and bold). I believe there are form editors that 
use word wrap as well. StyledText bidi support needs to work regardless of how 
the widget is used. That's what we are supporting now and anything else would 
be a regression.
I looked at BidiUtil just in order to see how you are using native code in this 
case.

The basic need is to render (minimally) styled bidirectional text.  Absent APIs 
that accept styled text, you need to break this into separate rendering calls 
for each style run, and in the presence of bidi reordering you need to 
determine the visual position of each run as they are no longer necessarily in 
sequence.  In order to determine the visual position you need to know the 
overall order-- from the bidi algorithm-- and the extent of each run.  For 
Arabic, since the glyphs are contextually shaped, the extent can vary, so you 
either need native apis that can contextually shape the text and measure that 
form, or need to shape it yourself.  This is possible with Arabic because of 
the Extensions-B block in Unicode which includes code points for the shaped 
forms of the glyphs.  Then it is possible to 'shape' the text by converting it 
to these code points, and rendering that text instead.  This makes it possible 
to handle simple Hebrew and Arabic without any native platform support at all 
(except for font support for the shaped code points).

Simple accent placement (using non-spacing marks) is possible but tends to look 
rather poor, especially for Arabic, because the accents can collide with the 
base characters, especially given their contextually varying widths and 
shapes.  Within ligatures (the various lam-alef ligatures are the only required 
ones as far as I know) it's quite difficult to do proper accent placement 
without platform support.  One can always do a better approximation by 
examining the glyph outlines (or bitmaps) and manually positioning the marks 
but the native rendering calls become more complicated if they don't support 
full positioning of individual glyphs.

My guess is your required platforms all support enough complex rendering 
behavior that you can avoid writing this code, and use native APIs to measure 
the extent of, and render, each style run.
After experimenting with the Pango layout engine, my conclusion is that it 
should be sufficient for laying out styled Bidi text.
The following Pango APIs: pango_itemize(), pango_reorder_items(), and 
pango_shape() [meantime, being called from the BidiUtil] - make the StyledText 
properly display attributed Bidi text and get correct cursor movement. (I'm 
still having a couple of issues with selection and horizontal scrolling, 
though.)

On AIX, as Alex mentioned, we may exploit the Layout Transform functions -
http://publib16.boulder.ibm.com/pseries/en_US/libs/basetrf1/layout_object_shapeb
oxchars.htm

On Mac, it seems that ATSUI is able to accept fully *styled* text, but I 
haven't found low level APIs for manipulating Bidi text (which we may prefer in 
TextLayout for XP compatibility reasons).

So, in my opinion, native capabilities of the supported (Bidi enabled) 
platforms may ensure good support for Bidi scripts.
Created attachment 5604
Proposed *preliminary* fix / enhancement

Attached is a zip archive including the following sources:

os.c
os_custom.c
os_structs.c
os_structs.h
org/eclipse/swt/custom/StyledText.java
org/eclipse/swt/custom/StyledTextBidi.java
org/eclipse/swt/internal/BidiUtil.java
org/eclipse/swt/internal/gtk/OS.java
org/eclipse/swt/internal/gtk/PangoAnalysis.java
org/eclipse/swt/internal/gtk/PangoGlyphGeometry.java
org/eclipse/swt/internal/gtk/PangoGlyphInfo.java
org/eclipse/swt/internal/gtk/PangoGlyphString.java
org/eclipse/swt/internal/gtk/PangoGlyphVisAttr.java
org/eclipse/swt/internal/gtk/PangoItem.java

Contains implementation of a number of BidiUtil methods (which in the future
could be used also by the TextLayout class).

Please note that the code is not final, I'm going to provide more clean up and
optimizations.
Created attachment 5620
Proposed patch replacing attachment 5604

Re-submitting the changes, with a little more clean up, in diff format.
Silenio, is this format of code attachments preferable?
Lina, we would prefer to use the Eclipse patch support for this.
Just select the SWT project and use the pop-up menu "Team-&gt;Create Patch...".



Thank you very much, Felipe. I'm already out of the office and will try it 
tomorrow. (And it's amazing, how many things Eclipse is able to do.)
Created attachment 5658
Proposed patch replacing attachments 5604 and 5620
1. (From update of attachment 5658)
We are currently sending pango a raw character array (as opposed to glyph 
indices) for rendering. However, it appears that higher level pango's APIs that 
we are using, anyway produce glyph indices before rendering. So I think that we 
should preserve a glyph string, once returned by pando during retrieving 
order/render info, and to pass it to gdk_draw_glyphs() function.

2. Implementing setKeyboardLanguage API on GTK/AIX may require Xlib-based 
solution, such as:
a) listen for keyboard language changes and cache existing keyboard mappings, 
obtaining them via XGetKeyboardMapping() function (unless we want to support 
also not installed keyboard languages -- e.g. to back up cases when input comes 
not from the keyboard),
b) load requested keymap by calling XChangeKeyboardMapping() function.

Could using core Xlib (directly) be acceptable to us?

1. what you suggest is what we do for StyledText on Windows. The Windows API we 
call to reorder and measure text returns a reordered glyph buffer. We cache 
that buffer and use it later for rendering.
Not sure if this is a good idea for general text layout support.
1. Knut, my suggestion is in the scope of attachment 5658, i.e. it applies only 
for bidi text on GTK. IMO it's justified for performance reasons. If accepted, 
GTK would be yet another platform (in addition to Windows) which we pass glyphs 
for rendering...
We finally had the chance of starting locking at your code. We hope to get back
to you with more info on it next week.


Please ignore a piece of code, dealing with arrays reallocation, at the end of 
BidiUtil.getRenderInfo. It's useless, I wrote it automatically.
Also, I have a number of other updates, one of which fixes getting rendering 
info for ligatures. Except for this one, neither of the changes seems to be 
critical. However, does it make sense to submit them now?
Does your last changes involve C code ? Are they localized in only one (or two) 
class(es) ?
If Yes is the answer for both question you should send your code (just the 
class that has changed). We had a bad time to load your patch. The java code 
for GC.getLayout was missing as well as the C code for several native methods 
sush as:
public static final synchronized native int pango_context_load_font(int 
context, int desc);
public static final synchronized native void pango_context_set_font_description
(int context, int desc);
public static final synchronized native int pango_font_find_shaper(int font, 
int language, int ch);
public static final synchronized native int pango_font_map_load_font(int 
fontmap, int context, int desc);
public static final synchronized native int pango_ft2_font_map_for_display();
public static final synchronized native int pango_ft2_get_context(double dpi_x, 
double dpi_y);
public static final synchronized native void pango_glyph_string_free(int 
glyphs);
public static final synchronized native int pango_glyph_string_new();
public static final synchronized native int pango_layout_get_line(int layout, 
int line);

We also had another problems with the C code, like custom C code in:
memmove(int dest, PangoGlyphInfo[] src, int size);
gdk_keymap_get_direction

Anyway, we could compile the libraries and run your code but the rendering 
during the selection is still wrong. I run on RedHat 9, my locale is en_US.UTF-
8. I use XKB to load arabic layout keyboard for testing.

FYI: we are going to be busy during this week with the release of Eclipse 3.0 
M3. Probably next week we can get back to TextLayout.



&gt; The java code for GC.getLayout was missing as well as the C code for several 
&gt; native methods sush as:
&gt; public static final synchronized native int pango_context_load_font
................................
&gt; public static final synchronized native int pango_layout_get_line

GC.getLayout is really missing for some reason, but all the mentioned native 
methods seem to be present in the patch. Maybe there was a problem during 
creating / applying the patch.

&gt;We also had another problems with the C code, like custom C code in:
&gt; memmove(int dest, PangoGlyphInfo[] src, int size);
It's no longer used.
&gt; gdk_keymap_get_direction
Could you elaborate please? (I guess the problem is with the non-XKB code, and 
you didn't just mean that it should be moved to os_custom.c, right?)

&gt; rendering during the selection is still wrong

If you mean wrong highlighting, then the cause is most likely not setting 
desired colormap on PangoContext before calling to OS.gdk_draw_layout in 
gc.drawString. Once I defined and used OS.gdk_draw_layout_with_colors(..., 
gc.getForeground().handle, gc.getBackground().handle) instead, the problem 
disappeared.

I'll submit a new patch by the next week.
Thanks and good luck with the new release.
Created attachment 5929
New proposed patch

Core changes from the previous patch are:
- StyledTextBidi.order array reflects the presence of ligatures;
- BidiUtil.getFontAttributes provides more accurate font information;
- added fixes for getting keyboard language, which are supposed to cover either
XKB or non-XKB keyboard support;
- added trial code for setting keyboard language (work on it is ongoing);
- cosmetic changes.
Lina, last time I've load your code I made some changes:
- put the native method in the right files
- remove custom C code
- rewrote some of the internal java classes (i.e. PangoGlyphGeometry) so that 
the we could use our automatic JNI code generation.

If I load your last path I will lost all this changes (one day of work at 
least). But anyway, after doing all that I could not see any result when 
running the code with the changes. Probably I did something bad during the 
merge.

I think is time to share the code in a different (simpler) way:
- I would like you to zip your workspace and attach it here. Would be better if 
you could first merge the code in your workspace with the HEAD and if your 
workspace included the minimum code needed (org.eclipse.swt and 
org.eclipse.swt.gtk). I think this should be easy enough for you and for me.






Lina, do you have the rights for org.eclipse.swt.graphics.text yet?  If so, 
put your work there.
Steve, I have no commit rights yet.. So how I proceed?
I'm facing problems checking out the sources today, so would it be OK to attach 
here (or maybe send directly to Felipe) only my *modified* sources (which 
fortunately have been checked out)?
Created attachment 5965
Zip archive containing modified sources

Felipe, I attach only the modified sources. Apologies for any inconvenience.
Okay, I had no problem this time:
- load the SWT code from version 3019c
- load Lina's code 
- compile the swt libs and copy to the right place
- run the TextEditor example from org.eclipse.swt.examples 

The code works, but again I had problem with selection. If I type a whole bunch
of text and then select it character-by-character it fails when there is a
ligature between to character. A funny example is using lam-alef ligatures. Try
this:

(a) Type b, hold shift and press the arrow left key
expect: select the 'alef part' of the lam-alef ligaure
result: select the whole ligaure 
(b) Type g, type h, hold shift and press the arrow left key
expect: select the 'alef part' of the lam-alef ligaure
result: it select the alef char, but render it independily, it means it draws
alef and and lam instead of drawing alef-lam.

Another problem, still with lam-alef ligaure, according with the font I use I
don't get lam-alef when I type g,h (they are draw separately) . It fails with
Sans but works okay with Tahoma, so it can be a font related problem.

After closing the example by the first time I started to crash on the X calls
when attempt to run it again, the only workaround for me was to comment out all
the code using X calls.

Here is the stack:
An unexpected exception has been detected in native code outside the VM.
Unexpected Signal : 11 occurred at PC=0x420744FE
Function=(null)+0x420744FE
Library=/lib/tls/libc.so.6

NOTE: We are unable to locate the function name symbol for the error
      just occurred. Please refer to release documentation for possible
      reason and solutions.


Current Java thread:
	at org.eclipse.swt.internal.gtk.OS.XGetKeyboardMapping(Native Method)
	at org.eclipse.swt.internal.BidiUtil.getKeymap(BidiUtil.java:447)
	at org.eclipse.swt.internal.BidiUtil.&lt;clinit&gt;(BidiUtil.java:82)
	at org.eclipse.swt.custom.StyledTextBidi.isBidiPlatform(StyledTextBidi.java:213)
	at org.eclipse.swt.custom.StyledText.&lt;init&gt;(StyledText.java:1609)
	at
org.eclipse.swt.examples.texteditor.TextEditor.createStyledText(TextEditor.java:185)
	at org.eclipse.swt.examples.texteditor.TextEditor.open(TextEditor.java:324)
	at org.eclipse.swt.examples.texteditor.TextEditor.main(TextEditor.java:314)

Am I the only one having this problems ?

Sorry about the delayed response, I was out of the office. Felipe, I'm 
currently investigating the issues you mentioned. In the meantime, I can say 
that

(a) The keystroke produces the U+FEFB character ("ARABIC LIGATURE LAM WITH ALEF 
ISOLATED FORM"), which at some stage should be decomposed into 2 characters 
U+0644 + U+0627. I think that gtk knows to perform such a decomposition and 
stores the pre-edited string in the 'string' field of GdkEventKey. Do you know 
if this field (as opposed to 'keyval') is used to obtain keyboard input?
(And by the way, gedit also treats lam-alef produced by 'b', as a single 
character.)

Not displaying lam-alef generated by g, h with some fonts: can you tell what's 
the actual font assigned to Sans?

Regarding the crash, I was unable to reproduce it. According to the stack it 
happens when setting keyboard language. I'll keep investigating it.

1) Agree with you, gedit has the same problem when using 'b' to print the lam-
alef. We can live with this problem I gess. But selecting the text char by char 
still doesn't quite work for us when there is ligature.
Example, in an arabic keyboard, press j, o, hold shift and press arrow left.
The glyph khah ('o') is draw alone with the selection background, the ligature 
is gone, the glyph teh ('j') is only partially drawn. Can you reproduce this 
problem ?

2) I will have to check the font for you, do you want the XLFD of the font ? I 
don't know how to do this so I will need to figure it out first.

3) The crash happens to me all the time...

Lina, here is the doc for the field string of the GdkEventKey struct:
"a string containing the an approximation of the text that would result from 
this keypress. The only correct way to handle text input of text is using input 
methods (see GtkIMContext), so this field is deprecated and should never be 
used. (gdk_unicode_to_keyval() provides a non-deprecated way of getting an 
approximate translation for a key.) The string is encoded in the encoding of 
the current locale (Note: this for backwards compatibility: strings in GTK+ and 
GDK are typically in UTF-8.) and NUL-terminated. In some cases, the translation 
of the key code will be a single NUL byte, in which case looking at length is 
necessary to distinguish it from the an empty translation."
(source: http://developer.gnome.org/doc/API/2.0/gdk/gdk-Event-
Structures.html#GdkEventKey)

That is all I know about it.

Felipe, I'm sorry: using the field 'string' was preferable in gtk1; it's 
deprecated in gtk2 as you mentioned.

1) I can reproduce the problem with rendering ligatures (and Arabic shaping in 
general) during char-by-char selection. It happens because each text segment is 
rendered separately, and character shaping doesn't occur across segment 
boundaries. I guess that creating and rendering glyph string should fix this 
problem.

2) Does gedit display ligatures with this font?
If so, I'll appreciate if you could check the FamilyName. I don't know what's 
the "right" way to do this, but I think that it can be figured out from the 
file /etc/fonts/fonts.conf (on RedHat 9 at least):

&lt;!--
  Provide required aliases for standard names
--&gt;
	&lt;alias&gt;
		&lt;family&gt;sans-serif&lt;/family&gt;
		&lt;prefer&gt;
			&lt;family&gt;Luxi Sans&lt;/family&gt;
			..........................
			&lt;family&gt;SimSun&lt;/family&gt;
		&lt;/prefer&gt;
	&lt;/alias&gt;

- It should be first installed font from this list.
Thanks!
2) Gedit also failed. Anyway, I longer able to reproduce the problem, neither 
on Eclipse nor on Gedit. If I have to problem again I let you know (I'll try to 
provide more details as well).
I don't know if you still care, but here is my fonts.conf:
&lt;!--
  Sans-serif faces
 --&gt;
        &lt;alias&gt;
                &lt;family&gt;Helvetica&lt;/family&gt;
                &lt;family&gt;Arial&lt;/family&gt;
                &lt;family&gt;Verdana&lt;/family&gt;
                &lt;family&gt;Nimbus Sans L&lt;/family&gt;
                &lt;family&gt;Luxi Sans&lt;/family&gt;
                &lt;family&gt;Kochi Gothic&lt;/family&gt;
                &lt;family&gt;AR PL KaitiM GB&lt;/family&gt;
                &lt;family&gt;AR PL KaitiM Big5&lt;/family&gt;
                &lt;family&gt;Baekmuk Dotum&lt;/family&gt;
                &lt;family&gt;SimSun&lt;/family&gt;
                &lt;default&gt;&lt;family&gt;sans-serif&lt;/family&gt;&lt;/default&gt;
        &lt;/alias&gt;

Created attachment 6152
Preliminary fix for char by char selection

Attached includes only sources involved in changes for selection, synchronized
with the HEAD. Please let me know if you need a full (merged with the HEAD) set
of bidi-related sources, I'll submit the rest.
The code is quite raw, but I decided to send something running before the
weekend.
Meantime, the problematical X calls are commented out.
Felipe, can you send me your changes to the natives (and probably the tool) for 
auto-generating the JNI code?
*** Bug 6782 has been marked as a duplicate of this bug. ***
Created attachment 6458
XKB C example

This app illustrate how to interact with XKB, more precisely:
- how to list the keyboard layouts in use
- how to get the active keyboard layout
- how to set the active keyboard layout
- how listen to keyboard layout changes
That's is pretty much all we need for BidiUtil. The major problem with this
code is that it doesn't interact with kxkb (KDE XKB, a keyboard selector app).
Kxkb does not keep in the keyboard list in the xkb, it has its own list that
I'm not sure we can get event using KDE calls.

Lynna, The code I'm sending is a complete different alternative of doing the
work. It would be interesting for you check it out. In the meantime I'll be
going thru the pango part of the GTK/BidiUtil implementation.

Let me know with you need help to compile/run the app.
Felipe, the app works for me. However, the current implementation seems to 
interact better with either KDE kxkb or Gnome Keyboard Layout Switcher (gkb-
applet-2), configured for both xkb and xmodmap keymaps. By "better interaction" 
I mean our ability to keep track of keyboard layouts managed by the mentioned 
utilities.
Lina, I can see a number of scenarios where your implementation doesn't work 
(regarding if the keyboard part).
BidiUtil#isKeyboardBidi ()
Expect:
Get the list of keyboard layouts available and detect if it contains a bidi 
layout (arabic or hebrew).
Actual:
Returns if the current keyboard layout is bidi.
Possible bug: in getKeymap the flag isBidiKeyboard can get set to true but 
never to false.

BidiUtil#getKeyboardLanguage ()
Expect:
Return if the current keyboard input is bidi or not.
Actual:
Uses the default keymap to translate the letter 'a' to group zero and level 
zero, check if the resulting character has LTR or RTL directionality.
Bug: the group zero can be any layout the user has set.. greek, hebrew, french, 
thai, etc.

BidiUtil#setKeyboardLanguage ()
Expect:
Set the current keyboard input to bidi or non-bidi.
Actual:
Changes the keyboard mapping with a new collection of keysyms.
Bug: it relies in the gtk signal direction_changed, the first time the 
direction changes to LTR it saves current keysyms, later when the user attempt 
to change the keyboard layout to bidi it uses previously saved keysysms to 
replace the current one. And if, the user attempt to change the keyboard 
direction *before* a direction_changed happens  ? Changing the keysyms of the 
english-layout keyboard to arabic-keysyms can create inconsistences, specially 
if the user has configure his machine with multiple keyboard layouts.


Created attachment 6492
Testing keyboard related BidiUtils calls

Lina, could you run this example ? It fails no my machine.
Part of a talking between Lynne Kues (LK) and me (FH) about StyledText bidi and 
keyboard operations:

FH:
I would like to know from you or Knut which are the StyledText requirements on 
dealing with the keyboard. I mean why does the StyledText need to know:
Q: The list of keyboards available (isKeyboadBidi)?
A: to detected the present of bidi keyboard in order to enable bidi-platform 
support.

LK:
Yes, this is a workaround for XP bug 27629.  Before this problem we were 
looking at whether or not a bidi language was installed (not whether or not a 
bidi keyboard was active).  Even so, I think the keyboard test is the correct 
solution - we really only want to be in bidi mode when bidi input is enabled.

FH:
Q:  The active keyboard (getKeyboardLanguage)?
A: Setting the caret direction.

LK:
Yes.   And the method is also used during setting the keyboard language.  
Whenever the user cursors over text or clicks somewhere in the text, the 
keyboard must change to reflect the character at the cursor position.  As part 
of setting the keyboard language, we test to see whether or not the setting is 
necessary (i.e., if current language == language we want to set, do nothing).

FH:
Q: Set the active keyboard (setKeyboardLanguage) ?
A: set the keyboard to bidi when is when bidi-platform is true.

LK:
See the answer above.  The StyledText changes the keyboard setting 
automatically for the user depending on where the cursor is. Setting the 
keyboard language is a requirement from the bidi people and is typical behavior 
for most editors in bidi mode (e.g., WordPad).

FH:
Q: keyboard changed listener (add/removeLanguageListener) ?
A: set caret direction (workaround a bug in windows?).

LK:
Yes, to set the caret direction when the user changes the keyboard language 
(via ALT-Shift on Windows).  The listener is not working around any bug in 
windows. 

Felipe, I'm not experiencing the problems you mentioned in comment 44.
I guess the different keyboard behavior follows from a different method of
configuring it: I'm used to work with gkb-applet-2 layout switcher.

Also, please find my additional comments below:

&gt; BidiUtil#isKeyboardBidi ()
&gt; Expect:
&gt; Get the list of keyboard layouts available and detect if it contains a bidi
&gt; layout (arabic or hebrew).

My intention was to get the list of keyboard layouts *activated* during the
current session. If not activated, I assume that the keyboard is non-bidi, even
though bidi layouts are potentially available.

&gt; Actual:
&gt; Returns if the current keyboard layout is bidi.

For me: Returns if bidi layout *has ever been activated*.

&gt; BidiUtil#getKeyboardLanguage ()

&gt; Expect:
&gt; Return if the current keyboard input is bidi or not.

For me: Works as expected, probably because the Gnome layout switcher also uses
XGetKeyboardMapping / XChangeKeyboardMapping and replaces keymap of the group
zero (maybe to assure ability to handle both xkb and xmodmap keymaps).

&gt; BidiUtil#setKeyboardLanguage ()
&gt; Bug: it relies in the gtk signal direction_changed, the first time the
&gt; direction changes to LTR it saves current keysyms, later when the user
&gt; attempt to change the keyboard layout to bidi it uses previously saved
&gt; keysysms to replace the current one.

Current keysyms (either LTR or RTL) are saved for the first time in
BidiUtil.&lt;clinit&gt;(). Later, on direction_changed signal, keymaps of the
opposite direction (either RTL or LTR) get saved.

&gt; And if, the user attempt to change the keyboard direction *before* a
&gt; direction_changed happens  ?

Sorry, I'm not sure I got you correctly. I think any user attempt to change the
keyboard direction generates direction_changed signal.

&gt; Changing the keysyms of the english-layout keyboard to arabic-keysyms can
&gt; create inconsistences, specially if the user has configure his machine with
&gt; multiple keyboard layouts.

I agree with you it may sometimes cause inconsistences, for example when
setting XKB by setxkbmap on command line.

Would it be possible to give prerequisites of setting keyboard for Eclipse
users?
Okay, I verified that your code works with gkb (gkb-applet-2), but if you pay 
attention you will notice that when you change the keymap the applet doesn't 
change to reflect the new keymap. Testing your code I easily got in a 
situation where I had a German flag in applet but I was getting arabic 
wherever I type in the desktop. The same problem happens with kxkb. Changing 
the keymap behind the scenes causes this kind of problem.
If the user is using XKB with multiples keyboard the code doesn't work at all.
I'm not saying that your code is bad but you will need to perform a miracle to 
get this code working in all these different scenarios. The problem is: there 
no standard on Linux for configuring the keyboard with multiples layout.

Created attachment 6526
gkb test

just for the fun of it: c code that interacts with gkb/gconf to retrieve the
list of keyboard layouts. Use: gconf-editor to browse the gnome-registry.
Lina:
Why didn't you use pango_itemize &amp; pango_reorder &amp; pango_shape ?
Using PangoLayout you need to create more objects and you don't need any of 
the "sevices" (justify, spacing, alignment, wrap, etc) provided by PangoLayout.



Felipe, I used the APIs mentioned in your comment 48 in earlier 
implementations, e.g. in attachment 5620. Later, I decided to replace these by 
higher level pango layout APIs (which internally call pango_itemize, 
pango_reorder_items, pango_shape), to ensure forward compatibility with later 
versions of pango.
Would it be possible to give recommendations (in the absence of a standard)
for configuring the keyboard? The options are:
- gswitch applet in Gnome or kxkb in KDE;
- XKB;
- xmodmap.

I think that gswitch applet / kxkb are more commonly used for this purpose.

Felipe, I also see that problem: the applet doesn't reflect a new keymap.

Lina: I agree with you, probably gkb/kxkb are the most commonly used. I search 
web (http://www.freedesktop.org/, http://www.linuxbase.org/) trying to find if 
there is, or there will be, a standard way to dealing with the keyboard but I 
didn't find anything.
I'm also checked if gkb/kxkb have an open API that allow us to interact with 
them and I don't think it exists.

I'll need to talk to Silenio/Steve about this keyboard problem.

---

When you decided to use PangoLayout to "ensure forward compatibility with 
later versions of pango", did you find any indication that pango_itemize/ 
pango_reorder/pango_shape will become obsolete or deprecated in the future ?
From where did you get this information ? I checked gtk plans and apis and I 
couldn't find any indication that using those API will compromise 
compatibility with newer versions of pango.

I don't have any serious problem on using PangoLayout if we need to. But if we 
can avoid it is better because we will have less structs to handle and I also 
thing that using pango_itemize/ pango_reorder/pango_shape makes the code more 
straight forward and simple.

Lina: here some cases where the code fails (walkback):

type lam (g)
type shadda (~)  - note: lam is move to right ! the point shadda is place in the
wrong place.
Try to select the text from the right-to-left: walkback:
Exception in thread "main" java.lang.IllegalArgumentException: Argument not valid
	at org.eclipse.swt.SWT.error(SWT.java:2355)
	at org.eclipse.swt.SWT.error(SWT.java:2299)
	at org.eclipse.swt.custom.DefaultContent.error(DefaultContent.java:673)
	at org.eclipse.swt.custom.DefaultContent.getLineAtOffset(DefaultContent.java:567)
	at org.eclipse.swt.custom.StyledText.doMouseLocationChange(StyledText.java:2796)
	at org.eclipse.swt.custom.StyledText.handleMouseMove(StyledText.java:5361)
	at org.eclipse.swt.custom.StyledText$12.handleEvent(StyledText.java:5086)
	at org.eclipse.swt.widgets.EventTable.sendEvent(EventTable.java:82)
	at org.eclipse.swt.widgets.Widget.sendEvent(Widget.java:962)
	at org.eclipse.swt.widgets.Display.runDeferredEvents(Display.java:1815)
	at org.eclipse.swt.widgets.Display.readAndDispatch(Display.java:1595)
	at tests.SimpleStyledText.main(SimpleStyledText.java:71)

Other test:
type shadda (~)
type lam (g)

Walkback:

(&lt;unknown&gt;:12151): Gdk-CRITICAL **: file gdkpixmap-x11.c: line 180
(gdk_pixmap_new): assertion `(width != 0) &amp;&amp; (height != 0)' failed
Exception in thread "main" org.eclipse.swt.SWTError: No more handles
	at org.eclipse.swt.SWT.error(SWT.java:2395)
	at org.eclipse.swt.SWT.error(SWT.java:2299)
	at org.eclipse.swt.graphics.GC.drawSubstring(GC.java:953)
	at org.eclipse.swt.internal.BidiUtil.drawChars(BidiUtil.java:498)
	at org.eclipse.swt.custom.StyledTextBidi.drawChars(StyledTextBidi.java:348)
	at org.eclipse.swt.custom.StyledTextBidi.drawBidiText(StyledTextBidi.java:319)
	at org.eclipse.swt.custom.StyledTextRenderer.drawText(StyledTextRenderer.java:295)
	at
org.eclipse.swt.custom.StyledTextRenderer.drawStyledLine(StyledTextRenderer.java:258)
	at org.eclipse.swt.custom.StyledTextRenderer.drawLine(StyledTextRenderer.java:144)
	at org.eclipse.swt.custom.StyledText.performPaint(StyledText.java:6082)
	at org.eclipse.swt.custom.StyledText.handleTextChanged(StyledText.java:5479)


Lina: Question:

Why you didn't use drawGlyphs ?
I mean, since we had to get the glyphs anyway would no be to use them to draw
(better performance I think).

Lina, looking your code closely, I see that you use the index k to loop thru 
chars and glyphs, the code assumes that the glyph corresponded to the char at 
k is the glyph at k. This is wrong. Using my example I tested:
Typing in arabic: a &lt;dad&gt; + g &lt;lam&gt; + h &lt;alef&gt; + q &lt;sheen&gt;
got the output:
&lt;sheen&gt; dx 25 LO 0 VO 2
&lt;lam&gt; dx 14 LO 1 VO 1
&lt;alef&gt; dx 21 LO 2 VO 1
&lt;dad&gt; dx 0 LO 3 VO 0

The dx of alef should be ZERO, the dx of dad should be 21. Futher, I'm not 
sure if the visual order of the ligature lam-alef should be the same (vo 1 in 
this case).

Test using arrow key to select, cause of this bug it is need a extra keystroke 
to select the last char in the run.

Created attachment 6561
pango test

Just for the fun of it: This is my pango test c example, although this is the
first time I try to implement it I think this code does the right thing on
computing dx and ordering.
First of all, sorry about the delayed response: during the past week I was
unexpectedly out of the office.

Felipe, I do not assume that the glyph corresponded to the char at
k is the glyph at k, and the a &lt;dad&gt; + g &lt;lam&gt; + h &lt;alef&gt; + q &lt;sheen&gt; output
demonstrates complex (as opposed to one-to-one) glyph-to-char
mapping. Also, you can see in the code that in some cases
   order[logOffset] = order[logOffset + direction]
i.e. 2 or more character indices are mapped to the same glyph index.

I think that the output is correct:

1) order (this is arranged in logical order):
&lt;dad&gt; LO 0 VO 2
&lt;alef&gt; LO 1 VO 1
&lt;lam&gt; LO 2 VO 1
&lt;sheen&gt; LO 3 VO 0

2) dx (and this one is created for glyph string, in visual order):
&lt;sheen&gt; dx 25
&lt;lam-alef&gt; dx 14
&lt;dad&gt; dx 21

The "zero-width dx" doesn't belong no any glyph, it's extra array member that 
should be ignored by the StyledText (on Windows as well).

Do you agree with that?

I'm unable to reproduce the lam/shadda problem.
Running your c example (which works fine!), I see that lam + shadda, shadda +
lam, or dad + lam + alef + sheen behave identically as they use to in the
StyledText. However, I'm not in sync with the HEAD; I'll try to upgrade code to
see what happens.

-----------------

I also thought of glyph rendering on gtk for performance reasons.

However, http://developer.gnome.org/doc/API/2.0/gdk/gdk-Drawing-
Primitives.html#gdk-draw-glyphs claims that "...99% of text rendering should be
done using gdk_draw_layout() instead [of gdk_draw_glyphs()]".
I think that gdk_draw_layout() is apparently able to handle various
font/rendering details, thus using it safer that gdk_draw_glyphs. What do you
think?

---------------------

Regarding (a) PangoLayout vs. (b) pango_itemize/pango_reorder_items/pango_shape,
I recalled why I used (a):

- when using (b) with some fonts, after calling itemize and reorder, I still
had some PangoAnalysis fields uninitialized, and had to set them manually. I
suppose such pango problems will get fixed in the future.
However, it's possible that I was doing something wrong. Should I recheck this?

- with (b) I had more structs to handle.

- Sorry that I forgot to say this before: According to the Unicode Bidi
Algorithm, bidi resolution (itemization) should apply to entire paragraph,
reordering - per separate line of text after line breaking. As far as I
understand, StyledText doesn't implement this approach at present (on any
platform). I suggest to do so. If you decide to implement it, (a) - as opposed
to (b) - will provide convenient interface for handling multiline text. And,
upon your agreement, I could investigate the StyledText code closer to see how
to implement it.

----------------

Please let me know if you need additional clarifications. - Thanks.

"The "zero-width dx" doesn't belong no any glyph, it's extra array member that 
should be ignored by the StyledText (on Windows as well).

Do you agree with that?"

It makes sense now. Though, I don't think Windows works this way. Did you test 
the case I described (using arrow key to select text) ?  

About the lam/shadda problem, I got the same bug on gedit, I believe this is 
pango bug not ours.

"I think that gdk_draw_layout() is apparently able to handle various
font/rendering details, thus using it safer that gdk_draw_glyphs. What do you
think? "

I think this is a excellent idea, actually, this is whole point of this work.
We should start implement a TextLayout class, which will uses platform support 
to deal with all the complexity of internationalized text handling. Then we 
change StyledText to use it.

I checked ATSUI (the mac text layout) and it is (at least seems) pretty good.

We also need to decide (a) if we will need Uniscribe for Windows or not; (b) 
if our TextLayout will provide API for caret placement and hit testing; (c)it 
will provide API for text highlighting.

Personally, I think TextLayout should shield the StyledText from dealing with 
internationalized text particularities as possible as it can.

I still don't know what to do about the APIs dealing with the keyboard, right 
now I think we should not export (make public API) any of them and on the 
platforms where its possible SWT would deal with behind the scenes.

Testing a &lt;dad&gt; + g &lt;lam&gt; + h &lt;alef&gt; + q &lt;sheen&gt; char-by-char selection:

Felipe: For me the extra keystroke occurs when selecting the lam-alef, but not
the last character. And it seems to be okay.

Logical selection is processed in respect to the logical sequence of characters, 
not glyphs. Each keystroke selects one character. I need 2 keystrokes to
highlight the lam-alef glyph consisting of 2 characters: one keystroke selects
lam, the second keystroke - alef (or vice versa depending on the selection
direction).

The same behavior shows the StyledText on Windows.

The only problem is: when the caret is located logically between the characters
lam and alef, it should be visually in the middle of a lam-alef glyph. Please
see the Windows notepad. I'm not sure there is a standard about it, though.

As for gedit, it works buggy here.
I just released some code into org.eclipse.swt.graphics.text, it contains:
-An initial (prototype) API for TextLayout and TextStyle
-Hack implementation (partial) of this API on GTK 
-Test case example 

At this point we are mainly investigating platform features and which are the 
StyledText needs.
Our working items are:
- Investigate the StyledText and verify if the API is we are proposing on 
TextLayout cover all its needs.
- Write a hack implementation of TextLayout on Win32 (using Uniscribe probably)
- Write a hack implementation of TextLayout on Carbon 

These hack implementation on each platform (carbon, gtk, win32) are important 
to help us to define a SWT public API that can be implemented on all our 
platforms. Of course, in the future, we will need an emulated implementation 
for photon and motif, it doesn't need to deal with arabic or anything but has 
to work for western scripts in general.

Lina, please load the code, choose one working item that you prefer or suggest 
something else. Either way let me know in what you are currently working on so 
we won't duplicate efforts. I'm currently playing (reading docs, writting test 
code, etc) with cursor positioning, hit test, and draw selection (text 
highlighting).

Felipe, I suggest that I investigate and modify the StyledText to adopt the new
APIs, and - if needed - supply missing APIs for GTK. Is that okay?

-----------

What do you think about using Pango on Win32?
Okay, I won't be working on StyledText then. Lina, do you think that the logic 
of cursor movement and hit test should be provide by the TextLayout object ? 
Currently StyledText is dealing if this problem by it self. And how about text 
highlighting, should it be implement by StyledText or TextLayout (Uniscribe 
and ATSUI both have API for doing that)? I believe it all should be done by 
TextLayout. What do you think ?

If you need new APIs when changing StyledText you should add them to 
TextLayout or request me to do so. Be careful, the APIs on TextLayout should 
be possible to implement across different platforms.
(NOTE: StyledText can't import org.eclipse.swt.internal.gtk.OS! or any other 
internal SWT API.)

I'm having a pretty bad time using PangoLayout to implement cursor movement 
and hit test. Anyway I'll be releasing the code I'm working daily even though 
it's broken so you'll up to date with what I'm doing.

About, using pango on windows, I just clicked on the link "Gtk+ Win32" on 
ww.gtk.org and the whole page talks about bugs, crashes, licenses issues and 
all kind of problem in general. Don't know, I'll talk to SSQ about it.

I thought a little bit more: If we use Pango on Win32 we'll be forcing all 
windows eclipse user to install pango in their machines, this is not a option.
Felipe, I also think that cursor movement and hit test should be provided by 
the TextLayout. The same about text highlighting (assuming that it actually 
comes to xy position &lt;-&gt; char index translations).
Should this approach be conditioned by the presence of appropriate native APIs? 
(no, in my opinion.)

As for Win32, neither Win32 APIs nor Uniscribe (as opposed to Pango or ATSUI) 
seems to be capable to handle attributed text. So, to ensure coherence between 
style runs and directional runs, it appears that we'll need to preserve the 
StyledText[Bidi] logic (even if delegated to the TextLayout). What do you think?

Could gtk+ for Win32 installation occur behind the scene, becoming a part of 
the standard eclipse installation? (But even so, we'll still be forcing all 
windows eclipse users to install pango in their machines...)
I gave up by now trying to use pango_layout_move_cursor_visually, it might 
turn out that we don't need it anyway. The only API for cursor positioning is 
getCursorPosition(int) which takes a character offset and returns the 
appropriate Rectangle to place the caret. I still have problems with care 
positioning when crossing a direction boundary though.
Hit text is working (xy -&gt; character offset).

You can actually use Uniscribe to draw attributed text, but you have to do it 
by hand, no high level APIs, check:
http://msdn.microsoft.com/library/en-us/intl/uniscrib_9t2d.asp
"Before using Uniscribe, an application divides the paragraph into runs, that 
is, a string of characters with the same style. The style depends on what the 
application has implemented, but typically includes such attributes as font, 
size, and color. Uniscribe divides the paragraph into items -- strings that 
have the same script and direction. The application applies the item 
information to produce runs that are unique in script and direction."

My problem with using Uniscribe is that it is not support on NT.

Felipe, I wanted to try your testcase, but failed to build 
org.eclipse.graphics.text, having a number of undefined methods, such as 
pango_layout_move_cursor_visually. Can you please put the missing natives at 
the org.eclipse.graphics.text repository?
Please sync:
org.eclipse.swt
org.eclipse.swt.gtk
org.eclipse.swt.graphics.text
After doing that you should be able to run the example.
Please, fell free to create other examples, junit test, whatever you need. You 
might want to add a copy of the StyleText to org.eclipse.swt.graphics.text so 
you can edit and commit its changes.


I have released some trial changes for TextLayout.getCursorPosition(), into 
org.eclipse.swt.graphics.text, into a separate folder org.eclipse.swt.20031111 
(bad name, but I couldn't figure out how to rename it).
This code selects "weak" or "strong" cursor position according to the match 
between the cursor level and the base direction. It seems to work, but 
sometimes I see two carets at once; however, the "extra" caret disappears when 
forcing repaint.
Lina, you can release your changes in the main file, I don't mind. Actually, 
it would make easier to see the differences. You can add comments to help me 
to understand your changes if you think is necessary. We have to agree with 
the API and its implementation, if we agree that a change is bad we can always 
use CVS retrieve a old version.

The two carets you are seeing is a bug either on the example or in swt/gtk (it 
doesn't happen on win32/uniscribe). Don't bother.

I'm not quite sure when the api getCursorPosition() should use strong or weak 
rect. I don't agree with the native GTK implementation myself. The solution 
could be add a boolean traling parameter to the function and let to the client 
to decide.

At this point I know we'll need to add a moveCursor api and probably another 
api to return if the current position is over a boundary direction so the 
client can set a splitter caret or other kind of special caret.

Felipe, I agree with you that getCursorPosition() may be enhanced by additional 
parameter. However, it seems to me that we can rely on strong / weak 
rectangles - under condition that the embedding level at the insertion point is 
properly calculated. So I think this additional parameter could reflect (or 
help figure out) the cursor level.

I'm currently working on the StyledText, trying to use some of the TextLayout 
APIs; but maybe it makes sense to focus on the TextLayout implementation first? 
What do you think?
I believe we need to understand the StyleText needs in order design a better 
TextLayout API. But if you want to put more efforts into the TextLayout 
implementation its fine. You can either improve GTKs implementation or start a 
Carbon implementation. Hopefully this week I'll be release a working Uniscribe 
implementation and I'll let you to take over it.

Do you still need org.eclipse.swt.20031111 ? Or can it be purge from CVS ? 
I vote to create a new folder "Eclipse SWT PI" with 
subfolders "gtk","win32,"carbon", etc where we can put native code that still 
wasn't release in org.eclipse.swt.

Code format, insert new line before opening brace, sometimes you do it 
sometimes you don't, in SWT, we never do it.

Your changes in getCursorPosition, internally it determines the level at 
position and used it to figure out if the cursor should be at the lead edge or 
at trailing edge. I didn't test but the idea is right in my opnion. Still, I 
think we need an API to return the level (I think BidiUtil used to use the 
idea of class for this) at a certain index, this will provide support for 
clients to set a special caret according with the direction on that position. 
Knowing the level a certain pos the client can also find the level at `pos - 
1` to detect direction boundaries if it wants to use special carets in this 
case (spliter caret or dual-caret).
What do you think ?

I see that you need APIs to get text width, line width, draw line and others. 
We can have these, but then we need to add coherent set of APIs to work if 
lines, something like:
int getLineCount();
Point getLineBounds(int); // or Point getLineExtent(int)
int getLineOffset(int);

I have to talk to SSQ about these API.
Felipe, I no longer need org.eclipse.swt.20031111, thanks.

I also think that we need API to get the level, so that clients could select 
caret shape, set keyboard language.

Regarding adding line-related APIs, I think it may depend on the way supported 
platforms handle lines (if any). As for pango, for example, I'm going to 
investigate if it counts for a "line" a "logical line" or a "wrapped line" 
(which is important for getting line widths, offsets, count etc.).

At present editing, navigation, line iteration of styled text content is 
provided by the WrappedContent and the DefaultContent classes. Do you think it 
should be delegated to the TextLayout?


LINA: "Regarding adding line-related APIs, I think it may depend on the way 
supported platforms handle lines (if any). As for pango, for example, I'm 
going to investigate if it counts for a "line" a "logical line" or a "wrapped 
line" (which is important for getting line widths, offsets, count etc.)."

FELIPE: On windows the whole paragraph and lines handling is done by us, 
therefore we can do whatever we want. Pango, line count returns the number 
of "wrapped lines".

LINA: "At present editing, navigation, line iteration of styled text content 
is provided by the WrappedContent and the DefaultContent classes. Do you think 
it should be delegated to the TextLayout? "

FELIPE: Not sure yet (I didn't look at StyledText). I would say styled text 
content would make sense to delegate to TextLayout. Navigation, should stay on 
StyledText. I don't quite know what editing and line iteration involve in this 
scope. 

To clarify: StyledTextContent (their DefaultContent/WrappedContent 
implementations) stores and provides read/write access to the text model.
StyledText handles all navigation and presentation.
I don't think StyledTextContent implementations should ever know about the 
presentation/layout. It's just the "dumb" storage.
Because Bug6782 was returned as duplicate of this enhancement,
I would like to clarify my requirements described in the Bug.

I have a GEF based editor, which must be enhanced to support bidirectional 
language.  To accomplish this, I was planning to use the following APIs in 
BidiUtil class.

- isBidiPlatform()
- getRenderInfo()
- drawGlyph()
- addLanguageListener()
- removeLanguageListener()
- setKeyboardLanguage()

If your TextLayout class is expected as a public class to expose bidi 
capability, I would like it to have the following four functions.

- retrieving glyphs with their width information in a flexible fashion
  (getRenderInfo() allows us to control reordering and shaping.
   It is important because we want sometimes to override the default behavior
   of reordering and shaping.)
- drawing the glyphs
- listening to an event of keyoboard layout chagne
- setting keyboard layout to any available language

By the way, I was not able to find TestLayout class in eclipse 3.0M6 build.
Do you have any planned date when it will be integrated in a build?
Since I noticed TextLayout class was integrated in the M8 build, I have 
studied the feasibility of using the class instead of BidiUtil class for my 
editor.  The following is the result corresponding to my original request:

&gt; - retrieving glyphs with their width information in a flexible fashion
&gt;   (getRenderInfo() allows us to control reordering and shaping.
&gt;    It is important because we want sometimes to override the default behavior
&gt;    of reordering and shaping.)
The width of each glyph can be retrieved by calling TextLayout.getOffset() 
twice.  This is okay for my editor.
However TextLayout class calculates shaping completly within the class and do 
not allow us to override the default behavior.  This is not enough flexible 
for my editor.  For example, I need sometimes choose middle form or final form 
not initial form for a character even if it is the first one in a text 
string.  Also there are cases that I need choose initial form or middle form 
for the last character in a text string.  I would also like to control the 
digit shape.

&gt; - drawing the glyphs
TextLayout.draw() satisfies this requirement.

&gt; - listening to an event of keyoboard layout chagne
&gt; - setting keyboard layout to any available language
These IME-related functions are missing in TextLayout.  I guess TextLayout 
class is not designed as the complete replacement of BidiUtil but partial 
replacement of it, only layout-related functions.  If so, should I stick to 
Bug6782 on these functions?

Summary of the result:
- TextLayout does not allow us to override the default behavior on shaping.
- TextLayout does not provide any IME-related functions.

I would like to request further enhancement for these missing functions.



&gt; TextLayout does not allow us to override the default behavior on shaping.

The default shaping behavior can be overriden, either in your application code 
or SWT, by using bidi control characters (zero-width joiner/non-joiner) or pre-
shaped presentation forms (U+FExx range). The latter sounds preferable, since 
it doesn't expand the original string.

What do you think?
"either in your application code or SWT"
Implement it in the application, here some reasons:
1) This features is not in Eclipse plan 3.0 and probably never will.
2) ATSUI, Pango, Uniscribe do not offer any API to help with this feature. 
TextLayout should be the same.
3) Add setSegments() API to TextLayout to implement StyledText 
BidiSegmentsListener was bad, we just did it cause it was regression.

SQ,
We need access to a TextLayout's TextStyles and their Fonts in order to 
simulate Zoom functionality in Draw2d.  Please add the necessary API asap so 
we can get this into M9.
Okay, I will use zwj and zwnj for my editor to control shaping and use rlo, 
lro, and pdf to control reordering.  Also GEF team is going to add some APIs 
so that we can use TextLayout class for a GEF based editor.
Now our editor is going to have the ability to render bidirectional characters 
with TextLayout class and GEF's enhancement. Thanks.

As for IME functions, what do you think?   I can not complete bidi enabling of 
my editor without these functions.
To control reordering you can use TextLayout#setSegments(), we had to add it 
because StyledText needs it. 
I'll look at "IME functions" after Eclipse 3.0 only.

Right now we have more people asking for italic support (StyledText) and 
underline.

Felipe,
Thanks for the suggestion.  Unfortunately TextLayout#setSegments() is slightly 
different from what I needed here.  It allows us to insert LRM or RLM at any 
position but the marks only affect to characters of neutral type next to 
them.  What I am trying to do is rendering whole string in non-Arabic in right-
to-left direction or rendering whole string in Arabic in left-to-right 
direction.  That is why I wanted to insert LRO, RLO, or PDF.  If you can 
enhance setSegments() to have the ability, it would be helpful for us but I do 
not think it is mandatory.

Though I understand you have other works having priority over IME related 
functions, I would like you to try to provide IME related functions as well in 
eclipse 3.0.

Closing problem report.

Please enter a new problem report for each defect or feature request still 
reamining.

I have opened another one for IME related functions, Bug62431.</WithOutStack>
  </Bug>
  <Bug>
    <BugId amount="39882" />
    <CreationDate amount="2003-07-10 12:09:00 -0400" />
    <DupId amount="39840" />
    <classification amount="Eclipse" />
    <Product amount="Platform" />
    <component amount="UI" />
    <Version amount="3.0" />
    <rep_platform amount="Macintosh" />
    <op_sys amount="Mac OS X - Carbon (unsup.)" />
    <priority amount="P3" />
    <bug_severity amount="normal" />
    <Summery>No context menu for fastview and perspective toolbar items</Summery>
    <Patches amount="0" />
    <Stacktraces amount="0" />
    <SourceCodeRegions amount="0" />
    <Enumerations amount="0" />
    <bug_status amount="RESOLVED" />
    <resolution amount="DUPLICATE" />
    <WithStack>I20030710

I don't get a context menu when right-clicking (or control-clicking) the fastview and perspective 
items in the vertical toolbar at the left hand side of the workbench.

It works for the horizontal toolbar.


*** This bug has been marked as a duplicate of 39840 ***</WithStack>
    <WithOutStack>I20030710

I don't get a context menu when right-clicking (or control-clicking) the fastview and perspective 
items in the vertical toolbar at the left hand side of the workbench.

It works for the horizontal toolbar.


*** This bug has been marked as a duplicate of 39840 ***</WithOutStack>
  </Bug>
  <Bug>
    <BugId amount="39883" />
    <CreationDate amount="2003-07-10 12:17:00 -0400" />
    <DupId amount="" />
    <classification amount="Eclipse" />
    <Product amount="Platform" />
    <component amount="User Assistance" />
    <Version amount="2.1" />
    <rep_platform amount="PC" />
    <op_sys amount="Windows XP" />
    <priority amount="P3" />
    <bug_severity amount="normal" />
    <Summery>Searching help with wildcards may consume large memory</Summery>
    <Patches amount="0" />
    <Stacktraces amount="0" />
    <SourceCodeRegions amount="0" />
    <Enumerations amount="0" />
    <bug_status amount="RESOLVED" />
    <resolution amount="FIXED" />
    <WithStack>This problem affects infocenter the most, where multiple users may search at 
the same time.

We are using Lucene 1.2  Latest lucene implements a fix - a limit on number of 
terms mathing a wild card to cup the memory requirement.  We should switch to 
Lucene 1.3.

We may also limit number of boolean query terms.
Comment from Jamie in bug 38799:  "Best guess from folks I polled: maximum 
combinations of any 5 instances of boolean terms per query (15 booleans). 
Still a lot ;)"
Released code to limit
number of terms to 10
number of ORed terms to 5
number of wild card terms to 2

Remaining is to upgrade Lucene to post 1.3RC1
Lucene plug-in upgraded to 1.3RC2 that limits nuber of wild card query 
expansions.</WithStack>
    <WithOutStack>This problem affects infocenter the most, where multiple users may search at 
the same time.

We are using Lucene 1.2  Latest lucene implements a fix - a limit on number of 
terms mathing a wild card to cup the memory requirement.  We should switch to 
Lucene 1.3.

We may also limit number of boolean query terms.
Comment from Jamie in bug 38799:  "Best guess from folks I polled: maximum 
combinations of any 5 instances of boolean terms per query (15 booleans). 
Still a lot ;)"
Released code to limit
number of terms to 10
number of ORed terms to 5
number of wild card terms to 2

Remaining is to upgrade Lucene to post 1.3RC1
Lucene plug-in upgraded to 1.3RC2 that limits nuber of wild card query 
expansions.</WithOutStack>
  </Bug>
  <Bug>
    <BugId amount="39884" />
    <CreationDate amount="2003-07-10 13:17:00 -0400" />
    <DupId amount="" />
    <classification amount="Eclipse" />
    <Product amount="Platform" />
    <component amount="Update  (deprecated - use RT&gt;Equinox&gt;p2)" />
    <Version amount="2.1" />
    <rep_platform amount="PC" />
    <op_sys amount="Windows XP" />
    <priority amount="P3" />
    <bug_severity amount="normal" />
    <Summery>Update Manager Fix</Summery>
    <Patches amount="0" />
    <Stacktraces amount="0" />
    <SourceCodeRegions amount="0" />
    <Enumerations amount="0" />
    <bug_status amount="RESOLVED" />
    <resolution amount="WONTFIX" />
    <WithStack>I just shot myself in the foot by using Update Manager to upgrade Eclipse from 
RC1 to 2.1.1. The upgrade produced no error messages but Eclipse doesn't work 
properly now. It turns out that Update Manager only works when the current 
release and the target release are final releases such as 2.1, not interim 
releases like RC1. 

I didn't see anything in the Eclipse Help docs warning about that and 
UpdateManager itself didn't warn me that this was a problem. In my opinion, 
this indicates a bug in Update Manager: it should determine if the current 
build is one that it can update BEFORE attempting to do the update. If the 
current build is NOT one that Update Manager can upgrade, produce a message to 
that effect so that the user knows why Update Manager can't proceed. Also, put 
information in the Help to the effect that Update Manager can only work when 
the current and target builds are final builds like 2.1 and 2.1.1. (If this 
information is already there and I just missed it, I think the information 
needs to be more prominent.)

Reinhardt Christiansen
We never claimed that you can use Update Manager to move between builds. It is 
designed to install updates that are all formal releases (2.1, 2.1.1 etc.). In 
your particular case, you had a bad luck to move between incompatible releases 
(we have introduced a modification after RC1 that is in 2.1 and 2.1.1). 

One of the plan items for 3.0 is to allow build-to-build upgrades using 
Eclipse Update.</WithStack>
    <WithOutStack>I just shot myself in the foot by using Update Manager to upgrade Eclipse from 
RC1 to 2.1.1. The upgrade produced no error messages but Eclipse doesn't work 
properly now. It turns out that Update Manager only works when the current 
release and the target release are final releases such as 2.1, not interim 
releases like RC1. 

I didn't see anything in the Eclipse Help docs warning about that and 
UpdateManager itself didn't warn me that this was a problem. In my opinion, 
this indicates a bug in Update Manager: it should determine if the current 
build is one that it can update BEFORE attempting to do the update. If the 
current build is NOT one that Update Manager can upgrade, produce a message to 
that effect so that the user knows why Update Manager can't proceed. Also, put 
information in the Help to the effect that Update Manager can only work when 
the current and target builds are final builds like 2.1 and 2.1.1. (If this 
information is already there and I just missed it, I think the information 
needs to be more prominent.)

Reinhardt Christiansen
We never claimed that you can use Update Manager to move between builds. It is 
designed to install updates that are all formal releases (2.1, 2.1.1 etc.). In 
your particular case, you had a bad luck to move between incompatible releases 
(we have introduced a modification after RC1 that is in 2.1 and 2.1.1). 

One of the plan items for 3.0 is to allow build-to-build upgrades using 
Eclipse Update.</WithOutStack>
  </Bug>
  <Bug>
    <BugId amount="39885" />
    <CreationDate amount="2003-07-10 13:17:00 -0400" />
    <DupId amount="" />
    <classification amount="Eclipse" />
    <Product amount="Platform" />
    <component amount="Team" />
    <Version amount="3.0" />
    <rep_platform amount="PC" />
    <op_sys amount="Windows 2000" />
    <priority amount="P3" />
    <bug_severity amount="normal" />
    <Summery>create patch fails if local files were deleted from directory</Summery>
    <Patches amount="0" />
    <Stacktraces amount="0" />
    <SourceCodeRegions amount="0" />
    <Enumerations amount="1">
      <Enumeration lines="14">
        <Lines>
          <Line>1. In the org.eclipse.jdt.ui plugin, try to create a patch</Line>
          <Line>on /ui/org/eclipse/jdt/internal/ui/text/link/contentassist</Line>
          <Line />
          <Line>2. The diff works all as expected (and shown in CVS log)</Line>
          <Line />
          <Line>3. At the end, it failes with a message</Line>
          <Line>"Problem accessing resource: [path to resource that previously existed on</Line>
          <Line>working copy side only (not added)]</Line>
          <Line>Perform a Refresh"</Line>
          <Line />
          <Line>4. The cvs log says:</Line>
          <Line>"The server reported an error while performing the "cvs diff" command which may</Line>
          <Line>only indicate that a difference exists. (took 0:09.194)</Line>
          <Line>Error: The server did not provide any additional information."</Line>
        </Lines>
      </Enumeration>
    </Enumerations>
    <bug_status amount="RESOLVED" />
    <resolution amount="FIXED" />
    <WithStack>200307030800 (never occurred before)

May be related to bug 39271.

1. In the org.eclipse.jdt.ui plugin, try to create a patch 
on /ui/org/eclipse/jdt/internal/ui/text/link/contentassist

2. The diff works all as expected (and shown in CVS log)

3. At the end, it failes with a message
"Problem accessing resource: [path to resource that previously existed on 
working copy side only (not added)]
Perform a Refresh"

4. The cvs log says:
"The server reported an error while performing the "cvs diff" command which may 
only indicate that a difference exists. (took 0:09.194)
Error: The server did not provide any additional information."


-&gt; I cannot create patches, which is a blocker for me.

(Might be related to live synchonize?)
Just noticed that the complete diff is still written to the specified file - 
taking back severity to normal.
Fix released to HEAD</WithStack>
    <WithOutStack>200307030800 (never occurred before)

May be related to bug 39271.

1. In the org.eclipse.jdt.ui plugin, try to create a patch 
on /ui/org/eclipse/jdt/internal/ui/text/link/contentassist

2. The diff works all as expected (and shown in CVS log)

3. At the end, it failes with a message
"Problem accessing resource: [path to resource that previously existed on 
working copy side only (not added)]
Perform a Refresh"

4. The cvs log says:
"The server reported an error while performing the "cvs diff" command which may 
only indicate that a difference exists. (took 0:09.194)
Error: The server did not provide any additional information."


-&gt; I cannot create patches, which is a blocker for me.

(Might be related to live synchonize?)
Just noticed that the complete diff is still written to the specified file - 
taking back severity to normal.
Fix released to HEAD</WithOutStack>
  </Bug>
  <Bug>
    <BugId amount="39886" />
    <CreationDate amount="2003-07-10 13:33:00 -0400" />
    <DupId amount="" />
    <classification amount="Eclipse" />
    <Product amount="Platform" />
    <component amount="Team" />
    <Version amount="3.0" />
    <rep_platform amount="PC" />
    <op_sys amount="Windows XP" />
    <priority amount="P3" />
    <bug_severity amount="normal" />
    <Summery>[Live Sync View] Assumption about out-of-sync folders</Summery>
    <Patches amount="0" />
    <Stacktraces amount="0" />
    <SourceCodeRegions amount="0" />
    <Enumerations amount="0" />
    <bug_status amount="RESOLVED" />
    <resolution amount="INVALID" />
    <WithStack>When implementing the compressed folder paths, an assumption was made that the 
children of an out-of-sync folder will all be out-of-sync. Although this is 
true for CVS, I'm not sure it's true with all potential subscribers. However, 
I suspect that this assumption was made elsewhere. We need to determine if 
this is a valid assumption, and, if it isn't, ensure that the Live Sync view 
works for out-of-sync folders that have in-sync folder children.

The problem case is as follows:

folder1/ (out-of-sync)
folder1/folder2/ (in-sync)
folder1/folder2/file.txt (out-of-sync)

Obviously, this will cause problems for folder compression but it may cause 
problems elsewhere as well.
Post 3.0
This is no longer valid</WithStack>
    <WithOutStack>When implementing the compressed folder paths, an assumption was made that the 
children of an out-of-sync folder will all be out-of-sync. Although this is 
true for CVS, I'm not sure it's true with all potential subscribers. However, 
I suspect that this assumption was made elsewhere. We need to determine if 
this is a valid assumption, and, if it isn't, ensure that the Live Sync view 
works for out-of-sync folders that have in-sync folder children.

The problem case is as follows:

folder1/ (out-of-sync)
folder1/folder2/ (in-sync)
folder1/folder2/file.txt (out-of-sync)

Obviously, this will cause problems for folder compression but it may cause 
problems elsewhere as well.
Post 3.0
This is no longer valid</WithOutStack>
  </Bug>
  <Bug>
    <BugId amount="39887" />
    <CreationDate amount="2003-07-10 14:27:00 -0400" />
    <DupId amount="" />
    <classification amount="Eclipse" />
    <Product amount="JDT" />
    <component amount="Core" />
    <Version amount="3.0" />
    <rep_platform amount="PC" />
    <op_sys amount="Windows XP" />
    <priority amount="P3" />
    <bug_severity amount="normal" />
    <Summery>Resource exception while indexing</Summery>
    <Patches amount="0" />
    <Stacktraces amount="2">
      <Stacktrace timestamp="1437340746739">
        <Exception>org.eclipse.core.internal.resources.ResourceException</Exception>
        <Reason>Resource /org.eclipse.debug.core/.classpath is not local.</Reason>
        <Frames>
          <Frame depth="0">org.eclipse.core.internal.resources.Resource.checkLocal(Resource.java:313)</Frame>
          <Frame depth="1">org.eclipse.core.internal.resources.File.getContents(File.java:213)</Frame>
          <Frame depth="2">org.eclipse.jdt.internal.core.Util.getResourceContentsAsByteArray(Util.java:671)</Frame>
          <Frame depth="3">org.eclipse.jdt.internal.core.JavaProject.getSharedProperty(JavaProject.java:1793)</Frame>
          <Frame depth="4">org.eclipse.jdt.internal.core.JavaProject.readClasspathFile(JavaProject.java:2089)</Frame>
          <Frame depth="5">org.eclipse.jdt.internal.core.JavaProject.getRawClasspath(JavaProject.java:1579)</Frame>
          <Frame depth="6">org.eclipse.jdt.internal.core.search.indexing.IndexAllProject.execute(IndexAllProject.java:77)</Frame>
          <Frame depth="7">org.eclipse.jdt.internal.core.search.processing.JobManager.run(JobManager.java:371)</Frame>
        </Frames>
      </Stacktrace>
      <Stacktrace timestamp="1437340746739">
        <Exception>org.eclipse.core.internal.resources.ResourceException</Exception>
        <Reason>Resource /org.eclipse.jdt.launching/.classpath is not local.</Reason>
        <Frames>
          <Frame depth="0">org.eclipse.core.internal.resources.Resource.checkLocal(Resource.java:307)</Frame>
          <Frame depth="1">org.eclipse.core.internal.resources.File.getContents(File.java:213)</Frame>
          <Frame depth="2">org.eclipse.jdt.internal.core.Util.getResourceContentsAsByteArray(Util.java:677)</Frame>
          <Frame depth="3">org.eclipse.jdt.internal.core.JavaProject.getSharedProperty(JavaProject.java:1809)</Frame>
          <Frame depth="4">org.eclipse.jdt.internal.core.JavaProject.readClasspathFile(JavaProject.java:2105)</Frame>
          <Frame depth="5">org.eclipse.jdt.internal.core.JavaProject.getRawClasspath(JavaProject.java:1593)</Frame>
          <Frame depth="6">org.eclipse.jdt.internal.core.JavaProject.getRawClasspath(JavaProject.java:1583)</Frame>
          <Frame depth="7">org.eclipse.jdt.internal.core.JavaProject.getOutputLocation(JavaProject.java:1375)</Frame>
          <Frame depth="8">org.eclipse.jdt.internal.core.search.indexing.IndexAllProject.execute(IndexAllProject.java:90)</Frame>
          <Frame depth="9">org.eclipse.jdt.internal.core.search.processing.JobManager.run(JobManager.java:375)</Frame>
          <Frame depth="10">java.lang.Thread.run(Thread.java:536)</Frame>
        </Frames>
      </Stacktrace>
    </Stacktraces>
    <SourceCodeRegions amount="4">
      <source_code type="functioncall">
        <location start="3147" end="3160" />
        <code>(monitor,1));</code>
      </source_code>
      <source_code type="ifstatement">
        <location start="5526" end="5794" />
        <code>if (isJavaProject) {
	/*IJavaProject jProject = JavaCore.create(project);
	if (jProject.getRawClasspath() != null
		&amp;&amp; jProject.getRawClasspath().length &gt; 0)
		jProject.setRawClasspath(new IClasspathEntry[0], monitor);*/
	modelIds.add(model.getPluginBase().getId());
}</code>
      </source_code>
      <source_code type="ifstatement">
        <location start="5802" end="6005" />
        <code>if (isJavaProject) {
	IJavaProject jProject = JavaCore.create(project);
	jProject.setRawClasspath(new IClasspathEntry[0], project.getFullPath(), 
monitor);
	modelIds.add(model.getPluginBase().getId());
}</code>
      </source_code>
      <source_code type="ifstatement">
        <location start="6898" end="7101" />
        <code>if (isJavaProject) {
	IJavaProject jProject = JavaCore.create(project);
	jProject.setRawClasspath(new IClasspathEntry[0], project.getFullPath(), 
monitor);
	modelIds.add(model.getPluginBase().getId());
}</code>
      </source_code>
    </SourceCodeRegions>
    <Enumerations amount="1">
      <Enumeration lines="23">
        <Lines>
          <Line>1. If autobuilding is on, we turn it off.</Line>
          <Line />
          <Line>2. We import all the plug-ins selected in the import wizard and create a Java</Line>
          <Line>project for each plug-in that contains libraries.  Note that at this step, we</Line>
          <Line>used to clear the classpath of the freshly created Java project because we</Line>
          <Line>will correctly set it at a later step.  However, just before we released 2.1,</Line>
          <Line>Philippe suggested in bug report 34574 that we do not flush the classpath</Line>
          <Line>completely.  So we stopped flushing the classpath at this point, and this</Line>
          <Line>introduced the transient error markers that we now see in the Problems view in</Line>
          <Line>the middle of the operation.  Since these error markers go away later in step</Line>
          <Line>3 when we set the classpath, we regarded them as benign, yet still annoying,</Line>
          <Line>intermediary entities.  This step is done in an IWorkspace.run</Line>
          <Line>(IWorkspaceRunnable, IProgressMonitor) operation.</Line>
          <Line />
          <Line>3. We set the classpath of all the projects that were succesfully imported</Line>
          <Line>into the workspace. This step has to be done in a subsequent IWorkspace.run</Line>
          <Line>(IWorkspaceRunnable, IProgressMonitor) operation for an accurate classpath</Line>
          <Line>computation.  i.e. the Java projects from step 2 have to become part of the</Line>
          <Line>workspace before we set their classpath.</Line>
          <Line />
          <Line>4.  If we had turned autobuilding off in step 1, we turn it back on and invoke</Line>
          <Line>a build via PDEPlugin.getWorkspace().build</Line>
          <Line>(IncrementalProjectBuilder.INCREMENTAL_BUILD,new SubProgressMonitor</Line>
        </Lines>
      </Enumeration>
    </Enumerations>
    <bug_status amount="VERIFIED" />
    <resolution amount="FIXED" />
    <WithStack>Build: I-20030710
I found the exception pasted below in my log file.  Note that 
org.eclipse.debug.core/.classpath is indeed in my workspace.

Error Jul 10, 2003 23:09:32.534 Exception while 
retrieving /org.eclipse.debug.core/.classpath, will revert to default classpath
org.eclipse.core.internal.resources.ResourceException: 
Resource /org.eclipse.debug.core/.classpath is not local.
at org.eclipse.core.internal.resources.Resource.checkLocal(Resource.java:313)
at org.eclipse.core.internal.resources.File.getContents(File.java:213)
at org.eclipse.jdt.internal.core.Util.getResourceContentsAsByteArray
(Util.java:671)
at org.eclipse.jdt.internal.core.JavaProject.getSharedProperty
(JavaProject.java:1793)
at org.eclipse.jdt.internal.core.JavaProject.readClasspathFile
(JavaProject.java:2089)
at org.eclipse.jdt.internal.core.JavaProject.getRawClasspath
(JavaProject.java:1579)
at org.eclipse.jdt.internal.core.search.indexing.IndexAllProject.execute
(IndexAllProject.java:77)
at org.eclipse.jdt.internal.core.search.processing.JobManager.run
(JobManager.java:371)
at java.lang.Thread.run(Unknown Source)
Exceptions come from platform, the file claims to not be local.
How did the classpath file get created ? Imported through CVS or created 
through PDE import ?
The classpath file in question was created during the PDE import operation.
*** Bug 41859 has been marked as a duplicate of this bug. ***
Hello Wassim,
Wasn't it funny to work again together in Eclipse project after WMQI? ;)
I'm currently tracking this bug but have lot of difficulties to recreate it. 
I've imported 58 external plugins several times and never got this exception...
Would it be possible to have your test case or a more precise idea of a 
scenario to reproduce this problem and have a chance to understand what happen 
here?
Thanks
Frederic,
You and I worked on the same project such a long time ago that WMQI was still 
called MQSI ;-)

This bug is difficult to reproduce, as I think it has to do with timing.  
However, it did happen to me more than once.

I think this bug has to do with the two-stage plug-in import operation, and 
the fact that half-way through the operation, JDT core and PDE are fighting 
for cpu time.

Below is a modified excerpt of a note that I sent to Philippe as a follow-up 
to the then-critical bug 37274.  The note explains what happens during import, 
and with an appendix explaining what I think could be causing this particular 
bug.


Here is a breakdown of the activities that take place during the plug-in 
import operation:
1. If autobuilding is on, we turn it off.

2. We import all the plug-ins selected in the import wizard and create a Java 
project for each plug-in that contains libraries.  Note that at this step, we 
used to clear the classpath of the freshly created Java project because we 
will correctly set it at a later step.  However, just before we released 2.1, 
Philippe suggested in bug report 34574 that we do not flush the classpath 
completely.  So we stopped flushing the classpath at this point, and this 
introduced the transient error markers that we now see in the Problems view in 
the middle of the operation.  Since these error markers go away later in step 
3 when we set the classpath, we regarded them as benign, yet still annoying, 
intermediary entities.  This step is done in an IWorkspace.run
(IWorkspaceRunnable, IProgressMonitor) operation.

3. We set the classpath of all the projects that were succesfully imported 
into the workspace. This step has to be done in a subsequent IWorkspace.run
(IWorkspaceRunnable, IProgressMonitor) operation for an accurate classpath 
computation.  i.e. the Java projects from step 2 have to become part of the 
workspace before we set their classpath.

4.  If we had turned autobuilding off in step 1, we turn it back on and invoke 
a build via PDEPlugin.getWorkspace().build
(IncrementalProjectBuilder.INCREMENTAL_BUILD,new SubProgressMonitor
(monitor,1));

Note that after step 2, JDT core and PDE start doing stuff simultaneously and 
competing for CPU (bug 31592).  JDT starts the indexing work, while PDE starts 
setting classpaths.  So what I think might happening in this instance is that 
JDT wants to index the classpath file for org.eclipse.debug.core before PDE 
had a chance to create it or set it.

What is suspicious though is that if you did not flush the classpath, then the 
file should live on disk, and should be readable. However the platform refuses 
to let us access it.

Anyway, since this is only a logging problem, and we believe our indexer 
activity should be fault tolerant (given it is running after the fact), we 
modified our code to be more resilient in this scenario, and stop logging this 
problem, which isn't one in the end.

Fixed
While testing PDE external plugins import, I got another similar exception in 
the indexer:
!ENTRY org.eclipse.jdt.core 4 4 Sep 03, 2003 17:02:24.860
!MESSAGE Exception while retrieving /org.eclipse.jdt.launching/.classpath, will 
revert to default classpath
!STACK 1
org.eclipse.core.internal.resources.ResourceException: 
Resource /org.eclipse.jdt.launching/.classpath is not local.
	at org.eclipse.core.internal.resources.Resource.checkLocal
(Resource.java:307)
	at org.eclipse.core.internal.resources.File.getContents(File.java:213)
	at org.eclipse.jdt.internal.core.Util.getResourceContentsAsByteArray
(Util.java:677)
	at org.eclipse.jdt.internal.core.JavaProject.getSharedProperty
(JavaProject.java:1809)
	at org.eclipse.jdt.internal.core.JavaProject.readClasspathFile
(JavaProject.java:2105)
	at org.eclipse.jdt.internal.core.JavaProject.getRawClasspath
(JavaProject.java:1593)
	at org.eclipse.jdt.internal.core.JavaProject.getRawClasspath
(JavaProject.java:1583)
	at org.eclipse.jdt.internal.core.JavaProject.getOutputLocation
(JavaProject.java:1375)
	at org.eclipse.jdt.internal.core.search.indexing.IndexAllProject.execute
(IndexAllProject.java:90)
	at org.eclipse.jdt.internal.core.search.processing.JobManager.run
(JobManager.java:375)
	at java.lang.Thread.run(Thread.java:536)
!ENTRY org.eclipse.core.resources 4 369 Sep 03, 2003 17:02:24.860
!MESSAGE Resource /org.eclipse.jdt.launching/.classpath is not local.
Created attachment 5960
Fix also exception raised while getting output location

We have similar problem with output location than with raw classpath getter
=&gt; apply similar solution.
Wassim,

About the unnecessary markers displayed between step2 and step3, there's 
nothing we can do avoid them as the projects were created without classpath 
during step 2. At the end of the operation performed while this step, a 
PRE_AUTO_BUILD event is sent and processed by our DeltaProcessor which 
refreshes all markers of resources concerned by the delta.

As these resources are the created and they have no .classpath file, there's 
automatically a  marker created to signal this problem.

I think there are two solutions here to have these markers not displayed:
1) perform the import in only one operation as suggested by bug 31592
2) add a temporary .classpth to the project to avoid markers creation while 
treating PRE_AUTO_BUILD event between the two operation

I'm not sure if solution 1) is possible, but I've made a try to implement 
solution 2) by modifying method createProject(...) in PluginImportOperation 
class.
I've replace following code:
if (isJavaProject) {
	/*IJavaProject jProject = JavaCore.create(project);
	if (jProject.getRawClasspath() != null
		&amp;&amp; jProject.getRawClasspath().length &gt; 0)
		jProject.setRawClasspath(new IClasspathEntry[0], monitor);*/
	modelIds.add(model.getPluginBase().getId());
}

with:
if (isJavaProject) {
	IJavaProject jProject = JavaCore.create(project);
	jProject.setRawClasspath(new IClasspathEntry[0], project.getFullPath(), 
monitor);
	modelIds.add(model.getPluginBase().getId());
}

And it seems to work properly (import does not hang and no markers are 
displayed bewteen two steps).

May you let me know if you get same result with this change?

Thanks
Wassim,

About markers displayed between step 2 and step 3 there's nothing to do on our 
side about it. At the end of step 2, a PRE_AUTO_BUILD event is sent by the 
running operation and processed by our DeltaProcessor which refreshes markers.

As project were created in step 2 without classpath, then we correctly create a 
markers for each concerned project that its .classpath cannot be read.

As it seems necessary to keep the two separated operations, I suggest to set 
the classpath to the created project in order to avoid these markers to be 
displayed.

I've made a try modifying createProject(...) method of PluginImportOperation.
At the end of the method I've changed the if(isJavaProject) block as follow:
if (isJavaProject) {
	IJavaProject jProject = JavaCore.create(project);
	jProject.setRawClasspath(new IClasspathEntry[0], project.getFullPath(), 
monitor);
	modelIds.add(model.getPluginBase().getId());
}

After that, I've made several import operation with new or replacing projects 
and never got any dead lock nor transient error markers :)

Let me know if this change could be acceptable for you, thanks

Frédéric
Transient classpath problem markers are expected due to the PDE import process, 
and should be avoided so as to improve user experience, but this is on the PDE 
side only.

Integrated fix for output location as well.
Fixed.
Frederic,
Your suggested fix is exactly what I had once upon time, but this solution, 
which is perfect for me, seems to have caused unnecessary re-indexing for JDT 
core (bug 34574).  Are you suggesting that it is no longer a problem for JDT 
Core if I flush the classpath completely?
We think we have corrected the exposed problem on JDT side by 2.1, this being 
said it triggers quite a lot of activity in an intermediate state, so I am no 
longer convinced it is the best move.

Still worth investigating though, as it could avoid creating transient problems.
Verified.</WithStack>
    <WithOutStack>Build: I-20030710
I found the exception pasted below in my log file.  Note that 
org.eclipse.debug.core/.classpath is indeed in my workspace.

Error Jul 10, 2003 23:09:32.534 Exception while 
retrieving /org.eclipse.debug.core/.classpath, will revert to default classpath
at java.lang.Thread.run(Unknown Source)
Exceptions come from platform, the file claims to not be local.
How did the classpath file get created ? Imported through CVS or created 
through PDE import ?
The classpath file in question was created during the PDE import operation.
*** Bug 41859 has been marked as a duplicate of this bug. ***
Hello Wassim,
Wasn't it funny to work again together in Eclipse project after WMQI? ;)
I'm currently tracking this bug but have lot of difficulties to recreate it. 
I've imported 58 external plugins several times and never got this exception...
Would it be possible to have your test case or a more precise idea of a 
scenario to reproduce this problem and have a chance to understand what happen 
here?
Thanks
Frederic,
You and I worked on the same project such a long time ago that WMQI was still 
called MQSI ;-)

This bug is difficult to reproduce, as I think it has to do with timing.  
However, it did happen to me more than once.

I think this bug has to do with the two-stage plug-in import operation, and 
the fact that half-way through the operation, JDT core and PDE are fighting 
for cpu time.

Below is a modified excerpt of a note that I sent to Philippe as a follow-up 
to the then-critical bug 37274.  The note explains what happens during import, 
and with an appendix explaining what I think could be causing this particular 
bug.


Here is a breakdown of the activities that take place during the plug-in 
import operation:
1. If autobuilding is on, we turn it off.

2. We import all the plug-ins selected in the import wizard and create a Java 
project for each plug-in that contains libraries.  Note that at this step, we 
used to clear the classpath of the freshly created Java project because we 
will correctly set it at a later step.  However, just before we released 2.1, 
Philippe suggested in bug report 34574 that we do not flush the classpath 
completely.  So we stopped flushing the classpath at this point, and this 
introduced the transient error markers that we now see in the Problems view in 
the middle of the operation.  Since these error markers go away later in step 
3 when we set the classpath, we regarded them as benign, yet still annoying, 
intermediary entities.  This step is done in an IWorkspace.run
(IWorkspaceRunnable, IProgressMonitor) operation.

3. We set the classpath of all the projects that were succesfully imported 
into the workspace. This step has to be done in a subsequent IWorkspace.run
(IWorkspaceRunnable, IProgressMonitor) operation for an accurate classpath 
computation.  i.e. the Java projects from step 2 have to become part of the 
workspace before we set their classpath.

4.  If we had turned autobuilding off in step 1, we turn it back on and invoke 
a build via PDEPlugin.getWorkspace().build
(IncrementalProjectBuilder.INCREMENTAL_BUILD,new SubProgressMonitor
(monitor,1));

Note that after step 2, JDT core and PDE start doing stuff simultaneously and 
competing for CPU (bug 31592).  JDT starts the indexing work, while PDE starts 
setting classpaths.  So what I think might happening in this instance is that 
JDT wants to index the classpath file for org.eclipse.debug.core before PDE 
had a chance to create it or set it.

What is suspicious though is that if you did not flush the classpath, then the 
file should live on disk, and should be readable. However the platform refuses 
to let us access it.

Anyway, since this is only a logging problem, and we believe our indexer 
activity should be fault tolerant (given it is running after the fact), we 
modified our code to be more resilient in this scenario, and stop logging this 
problem, which isn't one in the end.

Fixed
While testing PDE external plugins import, I got another similar exception in 
the indexer:
!ENTRY org.eclipse.jdt.core 4 4 Sep 03, 2003 17:02:24.860
!MESSAGE Exception while retrieving /org.eclipse.jdt.launching/.classpath, will 
revert to default classpath
!STACK 1

!ENTRY org.eclipse.core.resources 4 369 Sep 03, 2003 17:02:24.860
!MESSAGE Resource /org.eclipse.jdt.launching/.classpath is not local.
Created attachment 5960
Fix also exception raised while getting output location

We have similar problem with output location than with raw classpath getter
=&gt; apply similar solution.
Wassim,

About the unnecessary markers displayed between step2 and step3, there's 
nothing we can do avoid them as the projects were created without classpath 
during step 2. At the end of the operation performed while this step, a 
PRE_AUTO_BUILD event is sent and processed by our DeltaProcessor which 
refreshes all markers of resources concerned by the delta.

As these resources are the created and they have no .classpath file, there's 
automatically a  marker created to signal this problem.

I think there are two solutions here to have these markers not displayed:
1) perform the import in only one operation as suggested by bug 31592
2) add a temporary .classpth to the project to avoid markers creation while 
treating PRE_AUTO_BUILD event between the two operation

I'm not sure if solution 1) is possible, but I've made a try to implement 
solution 2) by modifying method createProject(...) in PluginImportOperation 
class.
I've replace following code:
if (isJavaProject) {
	/*IJavaProject jProject = JavaCore.create(project);
	if (jProject.getRawClasspath() != null
		&amp;&amp; jProject.getRawClasspath().length &gt; 0)
		jProject.setRawClasspath(new IClasspathEntry[0], monitor);*/
	modelIds.add(model.getPluginBase().getId());
}

with:
if (isJavaProject) {
	IJavaProject jProject = JavaCore.create(project);
	jProject.setRawClasspath(new IClasspathEntry[0], project.getFullPath(), 
monitor);
	modelIds.add(model.getPluginBase().getId());
}

And it seems to work properly (import does not hang and no markers are 
displayed bewteen two steps).

May you let me know if you get same result with this change?

Thanks
Wassim,

About markers displayed between step 2 and step 3 there's nothing to do on our 
side about it. At the end of step 2, a PRE_AUTO_BUILD event is sent by the 
running operation and processed by our DeltaProcessor which refreshes markers.

As project were created in step 2 without classpath, then we correctly create a 
markers for each concerned project that its .classpath cannot be read.

As it seems necessary to keep the two separated operations, I suggest to set 
the classpath to the created project in order to avoid these markers to be 
displayed.

I've made a try modifying createProject(...) method of PluginImportOperation.
At the end of the method I've changed the if(isJavaProject) block as follow:
if (isJavaProject) {
	IJavaProject jProject = JavaCore.create(project);
	jProject.setRawClasspath(new IClasspathEntry[0], project.getFullPath(), 
monitor);
	modelIds.add(model.getPluginBase().getId());
}

After that, I've made several import operation with new or replacing projects 
and never got any dead lock nor transient error markers :)

Let me know if this change could be acceptable for you, thanks

Frédéric
Transient classpath problem markers are expected due to the PDE import process, 
and should be avoided so as to improve user experience, but this is on the PDE 
side only.

Integrated fix for output location as well.
Fixed.
Frederic,
Your suggested fix is exactly what I had once upon time, but this solution, 
which is perfect for me, seems to have caused unnecessary re-indexing for JDT 
core (bug 34574).  Are you suggesting that it is no longer a problem for JDT 
Core if I flush the classpath completely?
We think we have corrected the exposed problem on JDT side by 2.1, this being 
said it triggers quite a lot of activity in an intermediate state, so I am no 
longer convinced it is the best move.

Still worth investigating though, as it could avoid creating transient problems.
Verified.</WithOutStack>
  </Bug>
  <Bug>
    <BugId amount="39888" />
    <CreationDate amount="2003-07-10 14:36:00 -0400" />
    <DupId amount="" />
    <classification amount="Tools" />
    <Product amount="CDT" />
    <component amount="cdt-core" />
    <Version amount="1.2" />
    <rep_platform amount="PC" />
    <op_sys amount="Windows XP" />
    <priority amount="P3" />
    <bug_severity amount="normal" />
    <Summery>Standard Make Build Info doesn't handle mutex</Summery>
    <Patches amount="0" />
    <Stacktraces amount="0" />
    <SourceCodeRegions amount="0" />
    <Enumerations amount="0" />
    <bug_status amount="RESOLVED" />
    <resolution amount="FIXED" />
    <WithStack>If the indexer and UI access the build info at the same time trouble will be 
brewing.
Doug could you elaborate please, We are looking at the Standard make
good time to put this on the agenda to be fix
marking as resolved/fixed.... no response</WithStack>
    <WithOutStack>If the indexer and UI access the build info at the same time trouble will be 
brewing.
Doug could you elaborate please, We are looking at the Standard make
good time to put this on the agenda to be fix
marking as resolved/fixed.... no response</WithOutStack>
  </Bug>
  <Bug>
    <BugId amount="39889" />
    <CreationDate amount="2003-07-10 14:37:00 -0400" />
    <DupId amount="35580" />
    <classification amount="Eclipse" />
    <Product amount="Platform" />
    <component amount="Update  (deprecated - use RT&gt;Equinox&gt;p2)" />
    <Version amount="2.1" />
    <rep_platform amount="PC" />
    <op_sys amount="Linux" />
    <priority amount="P3" />
    <bug_severity amount="normal" />
    <Summery>Update shows error, if two WS Versions are installed</Summery>
    <Patches amount="0" />
    <Stacktraces amount="0" />
    <SourceCodeRegions amount="0" />
    <Enumerations amount="0" />
    <bug_status amount="RESOLVED" />
    <resolution amount="DUPLICATE" />
    <WithStack>I have installed both the motif and the gtk2 feature, including SDK-*, 
platform-*, and platform-*-source. I can now switch between motif and gtk by 
providing -ws gtk/motif comandline options.

I tried to install a new plugin via the updatemanager, but I got an error that 
'Feature windowing system does not match current environment' (and BTW, it would 
be nice if the detail view would allow for C&amp;P...) for all three features.

I then deleted the feature dirs for both window systems and I could install the 
plugin (at least the dialog came up, but failed in the end, as the only shown 
site was /usr/share/eclipse, which is considered 'non updateable' (which is 
right, I patched PlatformConfiguration.java, as this site is root.root). I will 
file a seperate bug about that...

System: debian packages of eclipse (I'm the maintainer, so they are not the one 
in debian/unstable), version 2.1.1 build from source.

Nice greetings, Jan
Jan, it looks like this bug is related to 
https://bugs.eclipse.org/bugs/show_bug.cgi?id=35580


*** This bug has been marked as a duplicate of 35580 ***</WithStack>
    <WithOutStack>I have installed both the motif and the gtk2 feature, including SDK-*, 
platform-*, and platform-*-source. I can now switch between motif and gtk by 
providing -ws gtk/motif comandline options.

I tried to install a new plugin via the updatemanager, but I got an error that 
'Feature windowing system does not match current environment' (and BTW, it would 
be nice if the detail view would allow for C&amp;P...) for all three features.

I then deleted the feature dirs for both window systems and I could install the 
plugin (at least the dialog came up, but failed in the end, as the only shown 
site was /usr/share/eclipse, which is considered 'non updateable' (which is 
right, I patched PlatformConfiguration.java, as this site is root.root). I will 
file a seperate bug about that...

System: debian packages of eclipse (I'm the maintainer, so they are not the one 
in debian/unstable), version 2.1.1 build from source.

Nice greetings, Jan
Jan, it looks like this bug is related to 
https://bugs.eclipse.org/bugs/show_bug.cgi?id=35580


*** This bug has been marked as a duplicate of 35580 ***</WithOutStack>
  </Bug>
  <Bug>
    <BugId amount="39890" />
    <CreationDate amount="2003-07-10 14:42:00 -0400" />
    <DupId amount="" />
    <classification amount="Eclipse" />
    <Product amount="Platform" />
    <component amount="Update  (deprecated - use RT&gt;Equinox&gt;p2)" />
    <Version amount="2.1" />
    <rep_platform amount="PC" />
    <op_sys amount="Linux" />
    <priority amount="P3" />
    <bug_severity amount="normal" />
    <Summery>linked in 'Install locations' (sites) deosn't show up in install wizard</Summery>
    <Patches amount="0" />
    <Stacktraces amount="0" />
    <SourceCodeRegions amount="0" />
    <Enumerations amount="0" />
    <bug_status amount="RESOLVED" />
    <resolution amount="FIXED" />
    <WithStack>I have two 'sites', one of them linked in by the links/xyz.links feature, one 
added by the patch in Bug:#36101. Both don't show up if I want to instrall a new 
plugin by the "Install Now" wizard. Only the site in /usr/share/eclipse is 
visible there.

System: debian eclipse packages 2.1.1-2 (Not in debian/unstable, but just being 
made here)

Nice greetings, Jan
*** Bug 56922 has been marked as a duplicate of this bug. ***
It appears that the old update code had a policy of not allowing installing 
new features to a linked product extension.
I will change this to allow installing new features, as long as the link is 
read/write. If a product extension is not meant to receive new features (other 
than updates or collocated features), the link should be made read only when 
created:
path=r /home/foo/product/extension
I fixed the bug but only tested on Windows XP, as I did not have a linux box 
available. I will test it on linux soon, but give it a try in the next build.
Thanks a lot! I'm not sure if the 'r ' bit is documented somewhere. I found it 
in the code, but not everyone is looking there.</WithStack>
    <WithOutStack>I have two 'sites', one of them linked in by the links/xyz.links feature, one 
added by the patch in Bug:#36101. Both don't show up if I want to instrall a new 
plugin by the "Install Now" wizard. Only the site in /usr/share/eclipse is 
visible there.

System: debian eclipse packages 2.1.1-2 (Not in debian/unstable, but just being 
made here)

Nice greetings, Jan
*** Bug 56922 has been marked as a duplicate of this bug. ***
It appears that the old update code had a policy of not allowing installing 
new features to a linked product extension.
I will change this to allow installing new features, as long as the link is 
read/write. If a product extension is not meant to receive new features (other 
than updates or collocated features), the link should be made read only when 
created:
path=r /home/foo/product/extension
I fixed the bug but only tested on Windows XP, as I did not have a linux box 
available. I will test it on linux soon, but give it a try in the next build.
Thanks a lot! I'm not sure if the 'r ' bit is documented somewhere. I found it 
in the code, but not everyone is looking there.</WithOutStack>
  </Bug>
  <Bug>
    <BugId amount="39891" />
    <CreationDate amount="2003-07-10 14:59:00 -0400" />
    <DupId amount="" />
    <classification amount="Eclipse" />
    <Product amount="JDT" />
    <component amount="Core" />
    <Version amount="3.0" />
    <rep_platform amount="PC" />
    <op_sys amount="Windows 2000" />
    <priority amount="P3" />
    <bug_severity amount="normal" />
    <Summery>Diagnose parser crashed on code with syntax error.</Summery>
    <Patches amount="0" />
    <Stacktraces amount="2">
      <Stacktrace timestamp="1437340746749">
        <Exception>java.lang.ArrayIndexOutOfBoundsException</Exception>
        <Reason />
        <Frames>
          <Frame depth="0">org.eclipse.jdt.internal.compiler.parser.Parser.tAction(Parser.java:6362)</Frame>
          <Frame depth="1">org.eclipse.jdt.internal.compiler.parser.diagnose.DiagnoseParser.parseCheck(DiagnoseParser.java:1943)</Frame>
          <Frame depth="2">org.eclipse.jdt.internal.compiler.parser.diagnose.DiagnoseParser.checkPrimaryDistance(DiagnoseParser.java:811)</Frame>
          <Frame depth="3">org.eclipse.jdt.internal.compiler.parser.diagnose.DiagnoseParser.primaryPhase(DiagnoseParser.java:539)</Frame>
          <Frame depth="4">org.eclipse.jdt.internal.compiler.parser.diagnose.DiagnoseParser.errorRecovery(DiagnoseParser.java:456)</Frame>
          <Frame depth="5">org.eclipse.jdt.internal.compiler.parser.diagnose.DiagnoseParser.diagnoseParse(DiagnoseParser.java:366)</Frame>
          <Frame depth="6">org.eclipse.jdt.internal.compiler.parser.Parser.reportSyntaxErrors(Parser.java:5619)</Frame>
          <Frame depth="7">org.eclipse.jdt.internal.compiler.parser.Parser.parse(Parser.java:5611)</Frame>
          <Frame depth="8">org.eclipse.jdt.internal.compiler.parser.Parser.parse(Parser.java:5801)</Frame>
          <Frame depth="9">org.eclipse.jdt.internal.compiler.ast.MethodDeclaration.parseStatements(MethodDeclaration.java:95)</Frame>
          <Frame depth="10">org.eclipse.jdt.internal.compiler.ast.TypeDeclaration.parseMethod(TypeDeclaration.java:719)</Frame>
          <Frame depth="11">org.eclipse.jdt.internal.compiler.Compiler.getMethodBodies(Compiler.java:381)</Frame>
          <Frame depth="12">org.eclipse.jdt.internal.compiler.Compiler.process(Compiler.java:522)</Frame>
          <Frame depth="13">org.eclipse.jdt.internal.compiler.Compiler.compile(Compiler.java:328)</Frame>
          <Frame depth="14">org.eclipse.jdt.internal.compiler.batch.Main.performCompilation(Main.java:1459)</Frame>
          <Frame depth="15">org.eclipse.jdt.internal.compiler.batch.Main.compile(Main.java:304)</Frame>
          <Frame depth="16">org.eclipse.jdt.internal.compiler.batch.Main.compile(Main.java:199)</Frame>
          <Frame depth="17">org.eclipse.jdt.internal.compiler.batch.Main.compile(Main.java:191)</Frame>
          <Frame depth="18">org.eclipse.jdt.core.tools.compiler.Compile.main(Compile.java:8)</Frame>
        </Frames>
      </Stacktrace>
      <Stacktrace timestamp="1437340746749">
        <Exception>java.lang.ArrayIndexOutOfBoundsException</Exception>
        <Reason />
        <Frames>
          <Frame depth="0">org.eclipse.jdt.internal.compiler.parser.Parser.tAction(Parser.java:6362)</Frame>
          <Frame depth="1">org.eclipse.jdt.internal.compiler.parser.diagnose.DiagnoseParser.parseCheck(DiagnoseParser.java:1943)</Frame>
          <Frame depth="2">org.eclipse.jdt.internal.compiler.parser.diagnose.DiagnoseParser.checkPrimaryDistance(DiagnoseParser.java:811)</Frame>
          <Frame depth="3">org.eclipse.jdt.internal.compiler.parser.diagnose.DiagnoseParser.primaryPhase(DiagnoseParser.java:539)</Frame>
          <Frame depth="4">org.eclipse.jdt.internal.compiler.parser.diagnose.DiagnoseParser.errorRecovery(DiagnoseParser.java:456)</Frame>
          <Frame depth="5">org.eclipse.jdt.internal.compiler.parser.diagnose.DiagnoseParser.diagnoseParse(DiagnoseParser.java:366)</Frame>
          <Frame depth="6">org.eclipse.jdt.internal.compiler.parser.Parser.reportSyntaxErrors(Parser.java:5619)</Frame>
          <Frame depth="7">org.eclipse.jdt.internal.compiler.parser.Parser.parse(Parser.java:5611)</Frame>
          <Frame depth="8">org.eclipse.jdt.internal.compiler.parser.Parser.parse(Parser.java:5801)</Frame>
          <Frame depth="9">org.eclipse.jdt.internal.compiler.ast.MethodDeclaration.parseStatements(MethodDeclaration.java:95)</Frame>
          <Frame depth="10">org.eclipse.jdt.internal.compiler.ast.TypeDeclaration.parseMethod(TypeDeclaration.java:719)</Frame>
          <Frame depth="11">org.eclipse.jdt.internal.compiler.Compiler.getMethodBodies(Compiler.java:381)</Frame>
          <Frame depth="12">org.eclipse.jdt.internal.compiler.Compiler.process(Compiler.java:522)</Frame>
          <Frame depth="13">org.eclipse.jdt.internal.compiler.Compiler.compile(Compiler.java:328)</Frame>
          <Frame depth="14">org.eclipse.jdt.internal.compiler.batch.Main.performCompilation(Main.java:1459)</Frame>
          <Frame depth="15">org.eclipse.jdt.internal.compiler.batch.Main.compile(Main.java:304)</Frame>
          <Frame depth="16">org.eclipse.jdt.internal.compiler.batch.Main.compile(Main.java:199)</Frame>
          <Frame depth="17">org.eclipse.jdt.internal.compiler.batch.Main.compile(Main.java:191)</Frame>
          <Frame depth="18">org.eclipse.jdt.core.tools.compiler.Compile.main(Compile.java:8)</Frame>
        </Frames>
      </Stacktrace>
    </Stacktraces>
    <SourceCodeRegions amount="4">
      <source_code type="class">
        <location start="62" end="186" />
        <code>class A {
	private void foo()
	{
		int i = 5;
		int j = 7;
		int k = 5;
		if (i &lt; j &gt; k) {
			System.out.println();
		}
	}
}</code>
      </source_code>
      <source_code type="class">
        <location start="247" end="257" />
        <code>class A {</code>
      </source_code>
      <source_code type="ifstatement">
        <location start="374" end="406" />
        <code>if (i &lt; j &gt; k) {</code>
      </source_code>
      <source_code type="ifstatement">
        <location start="516" end="556" />
        <code>7.                 if (i &lt; j &gt; k) {</code>
      </source_code>
    </SourceCodeRegions>
    <Enumerations amount="0" />
    <bug_status amount="RESOLVED" />
    <resolution amount="INVALID" />
    <WithStack>Try to compile the following with the current HEAD contents.

class A {
	private void foo()
	{
		int i = 5;
		int j = 7;
		int k = 5;
		if (i &lt; j &gt; k) {
			System.out.println();
		}
	}
}

You get:
java.lang.ArrayIndexOutOfBoundsException
	at org.eclipse.jdt.internal.compiler.parser.Parser.tAction(Parser.java:6362)
	at
org.eclipse.jdt.internal.compiler.parser.diagnose.DiagnoseParser.parseCheck(DiagnoseParser.java:1943)
	at
org.eclipse.jdt.internal.compiler.parser.diagnose.DiagnoseParser.checkPrimaryDistance(DiagnoseParser.java:811)
	at
org.eclipse.jdt.internal.compiler.parser.diagnose.DiagnoseParser.primaryPhase(DiagnoseParser.java:539)
	at
org.eclipse.jdt.internal.compiler.parser.diagnose.DiagnoseParser.errorRecovery(DiagnoseParser.java:456)
	at
org.eclipse.jdt.internal.compiler.parser.diagnose.DiagnoseParser.diagnoseParse(DiagnoseParser.java:366)
	at
org.eclipse.jdt.internal.compiler.parser.Parser.reportSyntaxErrors(Parser.java:5619)
	at org.eclipse.jdt.internal.compiler.parser.Parser.parse(Parser.java:5611)
	at org.eclipse.jdt.internal.compiler.parser.Parser.parse(Parser.java:5801)
	at
org.eclipse.jdt.internal.compiler.ast.MethodDeclaration.parseStatements(MethodDeclaration.java:95)
	at
org.eclipse.jdt.internal.compiler.ast.TypeDeclaration.parseMethod(TypeDeclaration.java:719)
	at org.eclipse.jdt.internal.compiler.Compiler.getMethodBodies(Compiler.java:381)
	at org.eclipse.jdt.internal.compiler.Compiler.process(Compiler.java:522)
	at org.eclipse.jdt.internal.compiler.Compiler.compile(Compiler.java:328)
	at org.eclipse.jdt.internal.compiler.batch.Main.performCompilation(Main.java:1459)
	at org.eclipse.jdt.internal.compiler.batch.Main.compile(Main.java:304)
	at org.eclipse.jdt.internal.compiler.batch.Main.compile(Main.java:199)
	at org.eclipse.jdt.internal.compiler.batch.Main.compile(Main.java:191)
	at org.eclipse.jdt.core.tools.compiler.Compile.main(Compile.java:8)
----------
1. ERROR in d:\temp\A.java (at line 0)
	class A {
	^
Internal compiler error
java.lang.ArrayIndexOutOfBoundsException
	at org.eclipse.jdt.internal.compiler.parser.Parser.tAction(Parser.java:6362)
	at
org.eclipse.jdt.internal.compiler.parser.diagnose.DiagnoseParser.parseCheck(DiagnoseParser.java:1943)
	at
org.eclipse.jdt.internal.compiler.parser.diagnose.DiagnoseParser.checkPrimaryDistance(DiagnoseParser.java:811)
	at
org.eclipse.jdt.internal.compiler.parser.diagnose.DiagnoseParser.primaryPhase(DiagnoseParser.java:539)
	at
org.eclipse.jdt.internal.compiler.parser.diagnose.DiagnoseParser.errorRecovery(DiagnoseParser.java:456)
	at
org.eclipse.jdt.internal.compiler.parser.diagnose.DiagnoseParser.diagnoseParse(DiagnoseParser.java:366)
	at
org.eclipse.jdt.internal.compiler.parser.Parser.reportSyntaxErrors(Parser.java:5619)
	at org.eclipse.jdt.internal.compiler.parser.Parser.parse(Parser.java:5611)
	at org.eclipse.jdt.internal.compiler.parser.Parser.parse(Parser.java:5801)
	at
org.eclipse.jdt.internal.compiler.ast.MethodDeclaration.parseStatements(MethodDeclaration.java:95)
	at
org.eclipse.jdt.internal.compiler.ast.TypeDeclaration.parseMethod(TypeDeclaration.java:719)
	at org.eclipse.jdt.internal.compiler.Compiler.getMethodBodies(Compiler.java:381)
	at org.eclipse.jdt.internal.compiler.Compiler.process(Compiler.java:522)
	at org.eclipse.jdt.internal.compiler.Compiler.compile(Compiler.java:328)
	at org.eclipse.jdt.internal.compiler.batch.Main.performCompilation(Main.java:1459)
	at org.eclipse.jdt.internal.compiler.batch.Main.compile(Main.java:304)
	at org.eclipse.jdt.internal.compiler.batch.Main.compile(Main.java:199)
	at org.eclipse.jdt.internal.compiler.batch.Main.compile(Main.java:191)
	at org.eclipse.jdt.core.tools.compiler.Compile.main(Compile.java:8)

----------

Javac 1.4.2 reports:
A.java:7: operator &gt; cannot be applied to boolean,int
                if (i &lt; j &gt; k) {
                          ^
1 error

Jikes 1.18 reports:
Found 1 semantic error compiling "D:/temp/A.java":

     7.                 if (i &lt; j &gt; k) {
                            ^---^
*** Semantic Error: The type of this expression, "boolean", is not numeric.
Forget about it. This is due to the fact that I put my scanner in lookahead mode
without using a 1.5 grammar &lt;g&gt;. The '&lt;' is seen as the '&lt;' in the generic syntax.
Close as INVALID.</WithStack>
    <WithOutStack>Try to compile the following with the current HEAD contents.

class A {
	private void foo()
	{
		int i = 5;
		int j = 7;
		int k = 5;
		if (i &lt; j &gt; k) {
			System.out.println();
		}
	}
}

You get:
----------
1. ERROR in d:\temp\A.java (at line 0)
	class A {
	^
Internal compiler error


----------

Javac 1.4.2 reports:
A.java:7: operator &gt; cannot be applied to boolean,int
                if (i &lt; j &gt; k) {
                          ^
1 error

Jikes 1.18 reports:
Found 1 semantic error compiling "D:/temp/A.java":

     7.                 if (i &lt; j &gt; k) {
                            ^---^
*** Semantic Error: The type of this expression, "boolean", is not numeric.
Forget about it. This is due to the fact that I put my scanner in lookahead mode
without using a 1.5 grammar &lt;g&gt;. The '&lt;' is seen as the '&lt;' in the generic syntax.
Close as INVALID.</WithOutStack>
  </Bug>
  <Bug>
    <BugId amount="39892" />
    <CreationDate amount="2003-07-10 15:03:00 -0400" />
    <DupId amount="" />
    <classification amount="Eclipse" />
    <Product amount="Platform" />
    <component amount="SWT" />
    <Version amount="2.1" />
    <rep_platform amount="PC" />
    <op_sys amount="Linux-GTK" />
    <priority amount="P3" />
    <bug_severity amount="major" />
    <Summery>SWT error thrown when refreshing the properties page</Summery>
    <Patches amount="0" />
    <Stacktraces amount="0" />
    <SourceCodeRegions amount="1">
      <source_code type="functiondef">
        <location start="753" end="865" />
        <code>C. Image#init( Device device, int width, int height ) { if ( width &lt;= 0 || 
height &lt;=0 ) {

SWT.error(...) }...}</code>
      </source_code>
    </SourceCodeRegions>
    <Enumerations amount="1">
      <Enumeration lines="9">
        <Lines>
          <Line>A. org.eclipse.swt.custom.TableTreeItem constructor()</Line>
          <Line>A.1 parent.getItemHeight()  # calculate the height of a table cell</Line>
          <Line>B. org.eclipse.swt.widgets.Table#getItemHeight()</Line>
          <Line>B.1 new GtkRectangle()  # creates an empty [0,0,0,0] rectangle)</Line>
          <Line>B.2 OS.gtk_tree_view_get_cell_area(...) # does not update the rectangle;</Line>
          <Line>i.e., it is still [0,0,0,0]</Line>
          <Line>B.3 return GtkRectangle.height</Line>
          <Line>A.2 new Image( null, height, height ) #i.e., new Image( null, 0, 0 ) &gt;&gt; will</Line>
          <Line>cause an</Line>
        </Lines>
      </Enumeration>
    </Enumerations>
    <bug_status amount="RESOLVED" />
    <resolution amount="FIXED" />
    <WithStack>An SWT error is thrown when the property sheet is populated when it is NOT 
currently visible.  

The problem appears to be that OS.gtk_tree_view_get_cell_area(int
tree_view, int path, int column, GdkRectangle rect) does not update the 
supplied rectangle's height. 

A. org.eclipse.swt.custom.TableTreeItem constructor()
 A.1 parent.getItemHeight()  # calculate the height of a table cell
   B. org.eclipse.swt.widgets.Table#getItemHeight()
     B.1 new GtkRectangle()  # creates an empty [0,0,0,0] rectangle)
     B.2 OS.gtk_tree_view_get_cell_area(...) # does not update the rectangle; 
i.e., it is still [0,0,0,0]
     B.3 return GtkRectangle.height
A.2 new Image( null, height, height ) #i.e., new Image( null, 0, 0 ) &gt;&gt; will 
cause an

SWT error

C. Image#init( Device device, int width, int height ) { if ( width &lt;= 0 || 
height &lt;=0 ) {

SWT.error(...) }...}

OS: SuSe 8.0
Eclipse: 2.1
GTK plugin:  org.eclipse.swt.gtk_2.1.1 (libswt-gtk-2135.so)
We will do for this for 2.1.3.  Felipe please investigate Table.getItemHeight
().
I don't have a fix for this problem.
The code in head probably fixes error Michael is having here. But it is not 
correctly cause it does not set cell_data before calling 
gtk_cell_renderer_get_size(). Fixing that is not simple as *just* calling 
gtk_tree_view_column_cell_set_cell_data() cause the Table can have no items 
(the same problem that happens with gtk_tree_view_get_cell_area()).

I'm also not sure if gtk_cell_renderer_get_size() doesn't fail (like 
gtk_tree_view_get_cell_area()) if the Table is not up.

Further, I think we should use gtk_tree_view_get_background_area() instead of 
gtk_tree_view_get_cell_area() so it includes the trim around the table cell.

Silenio ?
Steve, you worked with me fixing this bug in HEAD, but it turns out we still 
don't have the right code for the problem (see comment #3). I've been busy 
with TextLayout and SSQ with virtual table.

I don't think we'll be able to fix this for 2.1.3, unless we backport -not 
ideal, not right- code from head.

What do you think ?

Will the "not ideal, not right" code from HEAD fix this scenario and not be 
harmful?
We fixed the code in HEAD (see comment#20 on bug#38948) and backported it to
R2_1_maintenance stream.
Fixed &gt; 20040301</WithStack>
    <WithOutStack>An SWT error is thrown when the property sheet is populated when it is NOT 
currently visible.  

The problem appears to be that OS.gtk_tree_view_get_cell_area(int
tree_view, int path, int column, GdkRectangle rect) does not update the 
supplied rectangle's height. 

A. org.eclipse.swt.custom.TableTreeItem constructor()
 A.1 parent.getItemHeight()  # calculate the height of a table cell
   B. org.eclipse.swt.widgets.Table#getItemHeight()
     B.1 new GtkRectangle()  # creates an empty [0,0,0,0] rectangle)
     B.2 OS.gtk_tree_view_get_cell_area(...) # does not update the rectangle; 
i.e., it is still [0,0,0,0]
     B.3 return GtkRectangle.height
A.2 new Image( null, height, height ) #i.e., new Image( null, 0, 0 ) &gt;&gt; will 
cause an

SWT error

C. Image#init( Device device, int width, int height ) { if ( width &lt;= 0 || 
height &lt;=0 ) {

SWT.error(...) }...}

OS: SuSe 8.0
Eclipse: 2.1
GTK plugin:  org.eclipse.swt.gtk_2.1.1 (libswt-gtk-2135.so)
We will do for this for 2.1.3.  Felipe please investigate Table.getItemHeight
().
I don't have a fix for this problem.
The code in head probably fixes error Michael is having here. But it is not 
correctly cause it does not set cell_data before calling 
gtk_cell_renderer_get_size(). Fixing that is not simple as *just* calling 
gtk_tree_view_column_cell_set_cell_data() cause the Table can have no items 
(the same problem that happens with gtk_tree_view_get_cell_area()).

I'm also not sure if gtk_cell_renderer_get_size() doesn't fail (like 
gtk_tree_view_get_cell_area()) if the Table is not up.

Further, I think we should use gtk_tree_view_get_background_area() instead of 
gtk_tree_view_get_cell_area() so it includes the trim around the table cell.

Silenio ?
Steve, you worked with me fixing this bug in HEAD, but it turns out we still 
don't have the right code for the problem (see comment #3). I've been busy 
with TextLayout and SSQ with virtual table.

I don't think we'll be able to fix this for 2.1.3, unless we backport -not 
ideal, not right- code from head.

What do you think ?

Will the "not ideal, not right" code from HEAD fix this scenario and not be 
harmful?
We fixed the code in HEAD (see comment#20 on bug#38948) and backported it to
R2_1_maintenance stream.
Fixed &gt; 20040301</WithOutStack>
  </Bug>
  <Bug>
    <BugId amount="39893" />
    <CreationDate amount="2003-07-10 15:18:00 -0400" />
    <DupId amount="" />
    <classification amount="Modeling" />
    <Product amount="EMF" />
    <component amount="Core" />
    <Version amount="1.0" />
    <rep_platform amount="PC" />
    <op_sys amount="Windows XP" />
    <priority amount="P3" />
    <bug_severity amount="normal" />
    <Summery>EObject.eResource().getAllContents().next() yields the Resource, not root object</Summery>
    <Patches amount="0" />
    <Stacktraces amount="0" />
    <SourceCodeRegions amount="0" />
    <Enumerations amount="0" />
    <bug_status amount="VERIFIED" />
    <resolution amount="FIXED" />
    <WithStack>It seems to me that calling next() on the TreeIterator returned by 
EObject.eResource().getAllContents() for the first time ends up with 
inconsistent result, depent on if hasNext() has been called on the 
TreeIterator before next() is called. If hasNext() has been called, next() 
returns a root object in the resource. Otherwise, it returns the Resource 
itself, which is of type org.eclipse.emf.ecore.xmi.impl.XMIResourceImpl in the 
current implementation.
Fixed in EMF 1.1.1 Build 20030819_0612SL
Move to verified as per bug 206558.</WithStack>
    <WithOutStack>It seems to me that calling next() on the TreeIterator returned by 
EObject.eResource().getAllContents() for the first time ends up with 
inconsistent result, depent on if hasNext() has been called on the 
TreeIterator before next() is called. If hasNext() has been called, next() 
returns a root object in the resource. Otherwise, it returns the Resource 
itself, which is of type org.eclipse.emf.ecore.xmi.impl.XMIResourceImpl in the 
current implementation.
Fixed in EMF 1.1.1 Build 20030819_0612SL
Move to verified as per bug 206558.</WithOutStack>
  </Bug>
  <Bug>
    <BugId amount="39894" />
    <CreationDate amount="2003-07-10 15:25:00 -0400" />
    <DupId amount="" />
    <classification amount="Tools" />
    <Product amount="CDT" />
    <component amount="cdt-core" />
    <Version amount="1.1" />
    <rep_platform amount="PC" />
    <op_sys amount="Linux" />
    <priority amount="P3" />
    <bug_severity amount="normal" />
    <Summery>RemoteTestRunner::sendTree::TmpClass missing destructor</Summery>
    <Patches amount="0" />
    <Stacktraces amount="0" />
    <SourceCodeRegions amount="0" />
    <Enumerations amount="0" />
    <bug_status amount="RESOLVED" />
    <resolution amount="FIXED" />
    <WithStack>I ran into a problem when compiling a simple auto generated TestFixture.
Below is the error I am getting from the make process:

make -k testTest 
g++ testTest.cpp
/tools/eclipse/2.1/eclipse/plugins/org.eclipse.cdt.cppunit_1.1.0/lib/RemoteTestRunner.cpp
 -I/usr/local/include test.cpp -o testTest /usr/local/lib/libcppunit.a
/tmp/ccDQf05K.o(.gnu.linkonce.d.__vt_Q316RemoteTestRunner46sendTree__16RemoteTestRunnerPQ27CppUnit4Test.0_8TmpClass+0x8):
undefined reference to
`RemoteTestRunner::sendTree__16RemoteTestRunnerPQ27CppUnit4Test.0::TmpClass::~TmpClass(void)'
collect2: ld returned 1 exit status
make: *** [testTest] Error 1

found on:

OS=Red Hat Linux 7.3
PROC=i686
Eclipse=2.1.1
Build=200306181400
CDT=1.1.0
Build=200305150256
CppUnit=1.1.0
It seems that you are missing a library.

Or is this a problem using CPPUnit ?
This problem is specific to CPPUnit.
&gt; This problem is specific to CPPUnit.


Should CPPUnit problem be part of this database, if yes to whom
should it go to.

Martin ? Doug ?

ping!
I suspect the default generated makefile to be incomplete. 
Please send me the test.cpp and included. (mailto:mlescuyer@fr.ibm.com)
Gnu2.95 could also be an issue.

Not sure whether this database is the proper location, but if yes, then I 
believe it should go to me &amp; Doug. But no need for a new category (yet).
Looking at the beginning of the discussion, do not mix pure CppUnit stuffs, and 
CDT-CppUnit-integration stuffs. For the moment, it looks like this PR is 
related to the integration. Then, this database is the right place. If it is a 
pure CppUnit problem, then it will go to the CppUnit project - IMHO.

thanks Martin.

Reassign.
Fixed in Cvs</WithStack>
    <WithOutStack>I ran into a problem when compiling a simple auto generated TestFixture.
Below is the error I am getting from the make process:

make -k testTest 
g++ testTest.cpp
/tools/eclipse/2.1/eclipse/plugins/org.eclipse.cdt.cppunit_1.1.0/lib/RemoteTestRunner.cpp
 -I/usr/local/include test.cpp -o testTest /usr/local/lib/libcppunit.a
/tmp/ccDQf05K.o(.gnu.linkonce.d.__vt_Q316RemoteTestRunner46sendTree__16RemoteTestRunnerPQ27CppUnit4Test.0_8TmpClass+0x8):
undefined reference to
`RemoteTestRunner::sendTree__16RemoteTestRunnerPQ27CppUnit4Test.0::TmpClass::~TmpClass(void)'
collect2: ld returned 1 exit status
make: *** [testTest] Error 1

found on:

OS=Red Hat Linux 7.3
PROC=i686
Eclipse=2.1.1
Build=200306181400
CDT=1.1.0
Build=200305150256
CppUnit=1.1.0
It seems that you are missing a library.

Or is this a problem using CPPUnit ?
This problem is specific to CPPUnit.
&gt; This problem is specific to CPPUnit.


Should CPPUnit problem be part of this database, if yes to whom
should it go to.

Martin ? Doug ?

ping!
I suspect the default generated makefile to be incomplete. 
Please send me the test.cpp and included. (mailto:mlescuyer@fr.ibm.com)
Gnu2.95 could also be an issue.

Not sure whether this database is the proper location, but if yes, then I 
believe it should go to me &amp; Doug. But no need for a new category (yet).
Looking at the beginning of the discussion, do not mix pure CppUnit stuffs, and 
CDT-CppUnit-integration stuffs. For the moment, it looks like this PR is 
related to the integration. Then, this database is the right place. If it is a 
pure CppUnit problem, then it will go to the CppUnit project - IMHO.

thanks Martin.

Reassign.
Fixed in Cvs</WithOutStack>
  </Bug>
  <Bug>
    <BugId amount="39895" />
    <CreationDate amount="2003-07-10 16:36:00 -0400" />
    <DupId amount="" />
    <classification amount="Eclipse" />
    <Product amount="Platform" />
    <component amount="Resources" />
    <Version amount="2.1" />
    <rep_platform amount="PC" />
    <op_sys amount="Windows 2000" />
    <priority amount="P3" />
    <bug_severity amount="trivial" />
    <Summery>Cannot install Eclipse in my Laptop</Summery>
    <Patches amount="0" />
    <Stacktraces amount="0" />
    <SourceCodeRegions amount="0" />
    <Enumerations amount="0" />
    <bug_status amount="RESOLVED" />
    <resolution amount="WORKSFORME" />
    <WithStack>I try to install Eclipse in my Laptop. Click on the eclipse.exe. I got a pop-up
screen error. Title bar-Eclipse. The message: 
JVM terminated. Exit code=1
C:\WINNT\system32\javaw.exe
-cp C:\Program Files\eclipse\startup.jar org.eclipse.core.launcher.Main
-os win32
-ws win32
-arch x86
-showsplash C:\Program Files\eclipse\eclipse.exe-showsplash 600
Can you try the following:

c:\WINNT\system32\javaw -version

This will tell us what VM you are using.  If this is an old VM (less than 1.3),
you'll need to get a newer Java VM.  To be sure about what VM Eclipse is using,
you can specify the VM on the command line, for example:

eclipse -vm d:\jdk1.4\jre\bin\javaw.exe

Also, check for a log file (workspace/.metadata/.log), this might contain other
error information.
Please reopen if you continue to have problems.
*** Bug 50731 has been marked as a duplicate of this bug. ***</WithStack>
    <WithOutStack>I try to install Eclipse in my Laptop. Click on the eclipse.exe. I got a pop-up
screen error. Title bar-Eclipse. The message: 
JVM terminated. Exit code=1
C:\WINNT\system32\javaw.exe
-cp C:\Program Files\eclipse\startup.jar org.eclipse.core.launcher.Main
-os win32
-ws win32
-arch x86
-showsplash C:\Program Files\eclipse\eclipse.exe-showsplash 600
Can you try the following:

c:\WINNT\system32\javaw -version

This will tell us what VM you are using.  If this is an old VM (less than 1.3),
you'll need to get a newer Java VM.  To be sure about what VM Eclipse is using,
you can specify the VM on the command line, for example:

eclipse -vm d:\jdk1.4\jre\bin\javaw.exe

Also, check for a log file (workspace/.metadata/.log), this might contain other
error information.
Please reopen if you continue to have problems.
*** Bug 50731 has been marked as a duplicate of this bug. ***</WithOutStack>
  </Bug>
  <Bug>
    <BugId amount="39896" />
    <CreationDate amount="2003-07-10 16:43:00 -0400" />
    <DupId amount="" />
    <classification amount="Eclipse" />
    <Product amount="JDT" />
    <component amount="UI" />
    <Version amount="2.1" />
    <rep_platform amount="PC" />
    <op_sys amount="Windows 2000" />
    <priority amount="P3" />
    <bug_severity amount="normal" />
    <Summery>pull up method error when superclass already contains method called by pulled method [refactoring]</Summery>
    <Patches amount="0" />
    <Stacktraces amount="0" />
    <SourceCodeRegions amount="2">
      <source_code type="class">
        <location start="1350" end="1407" />
        <code>abstract class Super {
	protected abstract void test();
}</code>
      </source_code>
      <source_code type="class">
        <location start="1409" end="1535" />
        <code>public class SubClass extends Super {
	public void runTest() {
		test();
	}
	
	protected void test() {
		// Nothing to do
	}
}</code>
      </source_code>
    </SourceCodeRegions>
    <Enumerations amount="0" />
    <bug_status amount="RESOLVED" />
    <resolution amount="FIXED" />
    <WithStack>I am working out mechanics for a refactoring to the Factory Method for my book
on Refactoring to Patterns.   I ran into a bug while doing this.  I want to pull
up a method in a subclass to a superclass.  The subclass method needs acess to a
field and makes calls to two methods in the subclass.  I pull up the field - no
problem.  I then need abstract versions of the 2 called methods to be pulled up
to the superclass.  I have to do that manually and I do.  Now I should be all
set to pull up the original subclass method, since the superclass has everything
it needs to be a home to the subclass method.  When I try to do this, Eclipse
warns me that the pulled method doesn't have acess to one of the methods it
needs to call.  Yet that method already exists as an abstract method in the
superclass.  The refactoring tool lets me procees, despite the warnings and
everything works fine.  The bug is that I got warnings.  There should be no
warnings as I'm doing something harmless and correct.

I can send a code example if it helps.
Adam, please comment.
I just happend to find this same bug, had already written a testcase, and
noticed that it has already been reported.  A testcase wasn't requested but I
figured I'd include in anyway to since I already had it; Pulling up the runTest
method in the code below will result in a warning message.

abstract class Super {
	protected abstract void test();
}

public class SubClass extends Super {
	public void runTest() {
		test();
	}
	
	protected void test() {
		// Nothing to do
	}
}
Fixed &gt; 20041123</WithStack>
    <WithOutStack>I am working out mechanics for a refactoring to the Factory Method for my book
on Refactoring to Patterns.   I ran into a bug while doing this.  I want to pull
up a method in a subclass to a superclass.  The subclass method needs acess to a
field and makes calls to two methods in the subclass.  I pull up the field - no
problem.  I then need abstract versions of the 2 called methods to be pulled up
to the superclass.  I have to do that manually and I do.  Now I should be all
set to pull up the original subclass method, since the superclass has everything
it needs to be a home to the subclass method.  When I try to do this, Eclipse
warns me that the pulled method doesn't have acess to one of the methods it
needs to call.  Yet that method already exists as an abstract method in the
superclass.  The refactoring tool lets me procees, despite the warnings and
everything works fine.  The bug is that I got warnings.  There should be no
warnings as I'm doing something harmless and correct.

I can send a code example if it helps.
Adam, please comment.
I just happend to find this same bug, had already written a testcase, and
noticed that it has already been reported.  A testcase wasn't requested but I
figured I'd include in anyway to since I already had it; Pulling up the runTest
method in the code below will result in a warning message.

abstract class Super {
	protected abstract void test();
}

public class SubClass extends Super {
	public void runTest() {
		test();
	}
	
	protected void test() {
		// Nothing to do
	}
}
Fixed &gt; 20041123</WithOutStack>
  </Bug>
  <Bug>
    <BugId amount="39897" />
    <CreationDate amount="2003-07-10 19:02:00 -0400" />
    <DupId amount="14954" />
    <classification amount="Eclipse" />
    <Product amount="Platform" />
    <component amount="Text" />
    <Version amount="2.1" />
    <rep_platform amount="PC" />
    <op_sys amount="Windows XP" />
    <priority amount="P3" />
    <bug_severity amount="normal" />
    <Summery>It prints the text's background colour</Summery>
    <Patches amount="0" />
    <Stacktraces amount="0" />
    <SourceCodeRegions amount="0" />
    <Enumerations amount="0" />
    <bug_status amount="RESOLVED" />
    <resolution amount="DUPLICATE" />
    <WithStack>Hi,

I have set the "window" item of windows XP colour to a light blue (instead of 
the default white).  So the background colour for text boxes, list boxes, etc 
on my computer is blue.

   I tried to print out a page of code, but found that it printed the blue 
background colour along with the text.


*** This bug has been marked as a duplicate of 28993 ***
wrong dup



*** This bug has been marked as a duplicate of 14954 ***</WithStack>
    <WithOutStack>Hi,

I have set the "window" item of windows XP colour to a light blue (instead of 
the default white).  So the background colour for text boxes, list boxes, etc 
on my computer is blue.

   I tried to print out a page of code, but found that it printed the blue 
background colour along with the text.


*** This bug has been marked as a duplicate of 28993 ***
wrong dup



*** This bug has been marked as a duplicate of 14954 ***</WithOutStack>
  </Bug>
  <Bug>
    <BugId amount="39898" />
    <CreationDate amount="2003-07-10 19:06:00 -0400" />
    <DupId amount="33028" />
    <classification amount="Eclipse" />
    <Product amount="Platform" />
    <component amount="SWT" />
    <Version amount="3.0" />
    <rep_platform amount="PC" />
    <op_sys amount="Linux-GTK" />
    <priority amount="P3" />
    <bug_severity amount="normal" />
    <Summery>seg fault in org.eclipse.swt.internal.gtk.OS.gdk_window_get_origin()</Summery>
    <Patches amount="0" />
    <Stacktraces amount="0" />
    <SourceCodeRegions amount="0" />
    <Enumerations amount="0" />
    <bug_status amount="RESOLVED" />
    <resolution amount="DUPLICATE" />
    <WithStack>Segfault when I hyperlink from StyledText to StyledTextContent.  I'll attach the
log.
Bill,
Please attach the log and also indicate which build of Eclipse you were using.

What Linux flavour are you running?  What version of GTK do you have installed?
I am using Gentoo Linux, with gtk+ 2.2.2. and Eclipse build 200307100800.  I'm
emailing the attachment, because I keep getting an error when I try to send the
attachment (Error 404: "Your browser sent a request that this server could not
understand.").
Created attachment 5444
Log file from Bill
Clipboard.getAvailableTypes is being called from a non-UI thread.  Duplicate 
of bug 33028.

*** This bug has been marked as a duplicate of 33028 ***</WithStack>
    <WithOutStack>Segfault when I hyperlink from StyledText to StyledTextContent.  I'll attach the
log.
Bill,
Please attach the log and also indicate which build of Eclipse you were using.

What Linux flavour are you running?  What version of GTK do you have installed?
I am using Gentoo Linux, with gtk+ 2.2.2. and Eclipse build 200307100800.  I'm
emailing the attachment, because I keep getting an error when I try to send the
attachment (Error 404: "Your browser sent a request that this server could not
understand.").
Created attachment 5444
Log file from Bill
Clipboard.getAvailableTypes is being called from a non-UI thread.  Duplicate 
of bug 33028.

*** This bug has been marked as a duplicate of 33028 ***</WithOutStack>
  </Bug>
  <Bug>
    <BugId amount="39899" />
    <CreationDate amount="2003-07-10 19:09:00 -0400" />
    <DupId amount="" />
    <classification amount="Eclipse" />
    <Product amount="Platform" />
    <component amount="Text" />
    <Version amount="3.0" />
    <rep_platform amount="PC" />
    <op_sys amount="Linux-GTK" />
    <priority amount="P3" />
    <bug_severity amount="normal" />
    <Summery>Editor contents become garbled when scrolling with keys</Summery>
    <Patches amount="0" />
    <Stacktraces amount="0" />
    <SourceCodeRegions amount="0" />
    <Enumerations amount="0" />
    <bug_status amount="RESOLVED" />
    <resolution amount="WORKSFORME" />
    <WithStack>Build 20030703

If you scroll an editor using the arrow keys, the editor contents don't refresh 
correctly. You can force the contents to refresh by highlighting them with the 
mouse.
I'm assuming you are talking about the text or java editor? Moving to text 
component for comments.

Jared - If its only in the Java editor, then please let us know so it can be 
moved to the JDT team to look at.
It happens with both the text and Java editors.
Seems to be fixed in I20030715.</WithStack>
    <WithOutStack>Build 20030703

If you scroll an editor using the arrow keys, the editor contents don't refresh 
correctly. You can force the contents to refresh by highlighting them with the 
mouse.
I'm assuming you are talking about the text or java editor? Moving to text 
component for comments.

Jared - If its only in the Java editor, then please let us know so it can be 
moved to the JDT team to look at.
It happens with both the text and Java editors.
Seems to be fixed in I20030715.</WithOutStack>
  </Bug>
  <Bug>
    <BugId amount="39900" />
    <CreationDate amount="2003-07-10 19:34:00 -0400" />
    <DupId amount="" />
    <classification amount="Eclipse" />
    <Product amount="Platform" />
    <component amount="Debug" />
    <Version amount="3.0" />
    <rep_platform amount="All" />
    <op_sys amount="All" />
    <priority amount="P3" />
    <bug_severity amount="enhancement" />
    <Summery>[launch] Start multiple debug configurations at once</Summery>
    <Patches amount="0" />
    <Stacktraces amount="0" />
    <SourceCodeRegions amount="0" />
    <Enumerations amount="3">
      <Enumeration lines="3">
        <Lines>
          <Line>1) use m2e process a pom.xml that builds a JAR component X</Line>
          <Line>2) use m2e process a pom.xml that runs maven-assembly-plugin to assemble component X into a specific directory structure Y</Line>
          <Line>3) use a plain java run configuration that execs an installer that processes Y and uploads Y into tcp server.</Line>
        </Lines>
      </Enumeration>
      <Enumeration lines="4">
        <Lines>
          <Line>- The multi-launch will always be sequential (not parallel).</Line>
          <Line>- Progress reporting seems not quite right, and I haven't tested if you can cancel.</Line>
          <Line>- There are no fancy pre-launch builds and the like, the action just goes ahead and launches what you have selected.</Line>
          <Line>- The launch dialog will not be closed for you when you multi-launch, but it probably should.</Line>
        </Lines>
      </Enumeration>
      <Enumeration lines="4">
        <Lines>
          <Line>- It is a a top level launch  "Launch Group"</Line>
          <Line>- User can edit the launch sequence - parallel/sequential/mixed launching.</Line>
          <Line>- User can edit the sequence order. Can edit wait period between sequential launches.</Line>
          <Line>- Can mix debug/run/profile launch configurations.</Line>
        </Lines>
      </Enumeration>
    </Enumerations>
    <bug_status amount="ASSIGNED" />
    <resolution amount="" />
    <WithStack>I'm working on a project where we're writing a bunch of web services.  We run 
all of the tiers in "development mode" inside of eclipse.  It works well, but 
we have 4 debug configurations we start when we want to start a debug session.  
It would be nice if, on the Run-&gt;Debug... dialog, it allowed you to multi-
select a few debug configurations, and then click the "Debug" button.

Right now, if you multi-select debug configurations, it greys out the Debug 
button.  If it let me click it and then just started all of the debug 
configurations selected, that would be really useful for us.

Thanks!
Deferred. The proper solution is open for debate:

* A scripting language to create a macro to launch mutiple configs
* multi-select
* A launch config type which is a container of configs to launch (you could 
contribute this yourself if this is urgent)
*** Bug 41168 has been marked as a duplicate of this bug. ***
*** Bug 115058 has been marked as a duplicate of this bug. ***
Reopening. I spent an hour on this and will attach my current patch to this bug so that I don't lose it. I intend to finish the patch someday...
Created attachment 84023
work in progress
*** Bug 221144 has been marked as a duplicate of this bug. ***
*** Bug 113221 has been marked as a duplicate of this bug. ***
*** Bug 228091 has been marked as a duplicate of this bug. ***
We might want to split out a core API for launching multiple configs vs. the UI for launching multiple configs. This will enable clients that do not need the UI (such as launch shortcuts) to use the multi-launch API .
*** Bug 232949 has been marked as a duplicate of this bug. ***
(In reply to comment #10)
&gt; *** Bug 232949 has been marked as a duplicate of this bug. ***
&gt; 

Nice to see that someone is working on it, but it looks like I have to wait for a long time before this feature is added. :(
(The original bug was reported in 2003 if I understand the history?)

Created attachment 109715
patch

This patch works for me, but it is still a little rough around the edges. ;-)

- The multi-launch will always be sequential (not parallel).
- Progress reporting seems not quite right, and I haven't tested if you can cancel.
- There are no fancy pre-launch builds and the like, the action just goes ahead and launches what you have selected.
- The launch dialog will not be closed for you when you multi-launch, but it probably should.

Feedback from the Debug team would be welcome. Do you think this is a feature you would want to have?
Hurray. It makes me very happy to see that this might be solved in a near future. I've been waiting for a feature like this for at least 4 years.


(In reply to comment #13)
&gt; Hurray. It makes me very happy to see that this might be solved in a near
&gt; future. I've been waiting for a feature like this for at least 4 years.

Thanks - but what exactly would you use it for? Are you looking for sequential execution, or parallel execution of multiple launch configurations? If sequential, does the order matter for your use case?
(In reply to comment #14)
&gt; (In reply to comment #13)
&gt; &gt; Hurray. It makes me very happy to see that this might be solved in a near
&gt; &gt; future. I've been waiting for a feature like this for at least 4 years.
&gt; 
&gt; Thanks - but what exactly would you use it for? Are you looking for sequential
&gt; execution, or parallel execution of multiple launch configurations? If
&gt; sequential, does the order matter for your use case?
&gt; 

I'm a consultant and have seen the need for this at many different clients. All of my clients are creating distributed server side systems where you normally need to start several different servers (java applications) when you want to test or debug. The start order isn't important but you must start all of them. It's a very tedious task to do it right now.

What do you mean by sequential? I guess that it isn't waiting for a termination before it continues to launch the next one?
Sequential is fine for me if that means that one thread is launching one VM and then continues to launch the next one while the first one is still executing. (Just as if I had launched one in the menu, and then launched the second one and so on)



(In reply to comment #12)
&gt; Created an attachment (id=109715) [details]
&gt; patch
&gt; 
&gt; This patch works for me, but it is still a little rough around the edges. ;-)
&gt; 
&gt; - The multi-launch will always be sequential (not parallel).
&gt; - Progress reporting seems not quite right, and I haven't tested if you can
&gt; cancel.
&gt; - There are no fancy pre-launch builds and the like, the action just goes ahead
&gt; and launches what you have selected.
&gt; - The launch dialog will not be closed for you when you multi-launch, but it
&gt; probably should.
&gt; 
&gt; Feedback from the Debug team would be welcome. Do you think this is a feature
&gt; you would want to have?
&gt; 

Well done, the patch almost does what I need. Here is my use case for the multi-launch feature. I work on program analyses which usually have to be run with different configurations on various benchmark programs. Every launch runs a new JVM with the target program and a specific configuration. The multi-launch should run every selected launch sequentially, i.e., the next launch is executed after the previous is terminated, otherwise memory consumption would kill the machine. The actual sequence in which selected launches are executed isn't that important, though it would be nice if it could be defined.
Ah. 

Sounds like we have different cases in that case. Launching a new application after termination of the previous wouldn't help me at all :(




I agree with Kaj. I see few use cases where you would want to launch sequencially. In my case I need to run up several server components, which open sockets and talk amongst themselves. I can see other cases, where someone may want to run up mock servers etc. All would require launching many processes in parallel.
Created attachment 109794
patch with parallel and sequential multi-launch

Actually, I need this for sequential launches (like Jan) - when doing a build submission, I would like to multi-select a number of JUnit launch configurations and have them all executed, one after another. Some of these tests are UI tests that are sensitive to other applications running at the same time.

This new patch supports both parallel and sequential multi-launching.
(In reply to comment #16)
&gt; Well done, the patch almost does what I need.

What exactly is missing?
(In reply to comment #20)
&gt; (In reply to comment #16)
&gt; &gt; Well done, the patch almost does what I need.
&gt; 
&gt; What exactly is missing?
&gt; 
Well, I could think of more additions to that feature, such as named groups of launches, but if this isn't a call for the next killer feature it works for me. Thanks a lot!

Thanks Boris! Your patch works great. Like Jan, I'd really like to be able to save (ideally ordered) groups of launch configurations, but what you have so far is already a huge improvement.
Please note comment #9 and dup'ed bug 228091. The attached patch is only at the UI layer and does not appear to solve this related issue when calling debug core API. Please let me know if you plan to attach another patch that resolves both issues, or if we should reopen bug 228091 for more investigation.
Tim - not sure if this will help your case, but I was planning to attach another patch that used a different approach, one that would allow you to define multi-launches as a separate launch configuration type.
Thanks, Boris. Hard to say whether it will help without fully understanding what that means, but I'll look at any patch posted. My basic issue is multiple prompts/inconsistency when a launch shortcut triggers two launches (either consecutive or parent/child) that are conceptually one action for the user.
*** Bug 294713 has been marked as a duplicate of this bug. ***
This is not JDT specific.
I'm an end user and I use Eclipse Galileo build 20090920-1017. How do I get the patch applied to my eclipse?
Try the steps from here: http://www.eclipse.org/eclipse/debug/get_involved.php#writing_code - good luck! If you need help overcoming obstacles, I would recommend the #eclipse channel on http://wiki.eclipse.org/IRC or the forums, for example: http://www.eclipse.org/forums/index.php?t=thread&amp;frm_id=11&amp; .
Created attachment 177951
A plug-in project to show a basic workflow

Hello,

In addition to the great job you have done, we were able to implement a basic workflow (a specific launch configuration to chain configurations) on top of debug components; ie to save the multiple selection to launch. 

Please find attached a plug-in project to demonstrate our purpose. To use it, you have to import the project into your workspace then to run an Eclipse application. In the runtime eclipse, you will have to open the dialog of launch configurations to find the new type "basic workflow". After creating several launch configurations of different types, create a new launch configuration of type "basic workflow" then you will be able to load existing launch configurations (existing limitation, recursion is not allowed so a configuration of a basic workflow is not available in list of launch configurations).
Of course, if you like it, you just have to export the plug-in project in your eclipse to install it properly.

Regards
Gabriel
CDT solution for a similar problems is Bug 270671 or http://wiki.eclipse.org/CDT/User/NewIn60#Debug_and_Launch

- It is a a top level launch  "Launch Group"
- User can edit the launch sequence - parallel/sequential/mixed launching. 
- User can edit the sequence order. Can edit wait period between sequential launches.
- Can mix debug/run/profile launch configurations.

There're no dependency on CDT capabilities and you can simultaneously launch any launch configurations. It could be possible to pull out of CDT launch plugin, may be to promote to platform?
+1 to promote the CDT plug-in, it looks good !
Created attachment 179099
Patch to extract the multi launch from CDT project

Here is a first attempt to cut links to other CDT project and obtain an autonomous plug-in.
Could review it, please ?

Regards,
Gabriel
Nice, want to have to. 2$ when it is out. http://www.bidforfix.com/
Anyone else would pay extra for this feature?
Could be an easy addition to migrate the CDT feature.
Sigh, I've been waiting for this feature for ages. I still have to manually start 10+ launch configurations every time I want to test/debug the system.
Another use case for the sequential workflow is having to run multiple maven (m2e build's) run configurations.  To deploy a change to my development environment I have to

1) use m2e process a pom.xml that builds a JAR component X
2) use m2e process a pom.xml that runs maven-assembly-plugin to assemble component X into a specific directory structure Y
3) use a plain java run configuration that execs an installer that processes Y and uploads Y into tcp server.

So my ideal workflow implementation would include a way to check the return code of steps #1 and #2 to make sure things were successful and if so keep going to the next step.</WithStack>
    <WithOutStack>I'm working on a project where we're writing a bunch of web services.  We run 
all of the tiers in "development mode" inside of eclipse.  It works well, but 
we have 4 debug configurations we start when we want to start a debug session.  
It would be nice if, on the Run-&gt;Debug... dialog, it allowed you to multi-
select a few debug configurations, and then click the "Debug" button.

Right now, if you multi-select debug configurations, it greys out the Debug 
button.  If it let me click it and then just started all of the debug 
configurations selected, that would be really useful for us.

Thanks!
Deferred. The proper solution is open for debate:

* A scripting language to create a macro to launch mutiple configs
* multi-select
* A launch config type which is a container of configs to launch (you could 
contribute this yourself if this is urgent)
*** Bug 41168 has been marked as a duplicate of this bug. ***
*** Bug 115058 has been marked as a duplicate of this bug. ***
Reopening. I spent an hour on this and will attach my current patch to this bug so that I don't lose it. I intend to finish the patch someday...
Created attachment 84023
work in progress
*** Bug 221144 has been marked as a duplicate of this bug. ***
*** Bug 113221 has been marked as a duplicate of this bug. ***
*** Bug 228091 has been marked as a duplicate of this bug. ***
We might want to split out a core API for launching multiple configs vs. the UI for launching multiple configs. This will enable clients that do not need the UI (such as launch shortcuts) to use the multi-launch API .
*** Bug 232949 has been marked as a duplicate of this bug. ***
(In reply to comment #10)
&gt; *** Bug 232949 has been marked as a duplicate of this bug. ***
&gt; 

Nice to see that someone is working on it, but it looks like I have to wait for a long time before this feature is added. :(
(The original bug was reported in 2003 if I understand the history?)

Created attachment 109715
patch

This patch works for me, but it is still a little rough around the edges. ;-)

- The multi-launch will always be sequential (not parallel).
- Progress reporting seems not quite right, and I haven't tested if you can cancel.
- There are no fancy pre-launch builds and the like, the action just goes ahead and launches what you have selected.
- The launch dialog will not be closed for you when you multi-launch, but it probably should.

Feedback from the Debug team would be welcome. Do you think this is a feature you would want to have?
Hurray. It makes me very happy to see that this might be solved in a near future. I've been waiting for a feature like this for at least 4 years.


(In reply to comment #13)
&gt; Hurray. It makes me very happy to see that this might be solved in a near
&gt; future. I've been waiting for a feature like this for at least 4 years.

Thanks - but what exactly would you use it for? Are you looking for sequential execution, or parallel execution of multiple launch configurations? If sequential, does the order matter for your use case?
(In reply to comment #14)
&gt; (In reply to comment #13)
&gt; &gt; Hurray. It makes me very happy to see that this might be solved in a near
&gt; &gt; future. I've been waiting for a feature like this for at least 4 years.
&gt; 
&gt; Thanks - but what exactly would you use it for? Are you looking for sequential
&gt; execution, or parallel execution of multiple launch configurations? If
&gt; sequential, does the order matter for your use case?
&gt; 

I'm a consultant and have seen the need for this at many different clients. All of my clients are creating distributed server side systems where you normally need to start several different servers (java applications) when you want to test or debug. The start order isn't important but you must start all of them. It's a very tedious task to do it right now.

What do you mean by sequential? I guess that it isn't waiting for a termination before it continues to launch the next one?
Sequential is fine for me if that means that one thread is launching one VM and then continues to launch the next one while the first one is still executing. (Just as if I had launched one in the menu, and then launched the second one and so on)



(In reply to comment #12)
&gt; Created an attachment (id=109715) [details]
&gt; patch
&gt; 
&gt; This patch works for me, but it is still a little rough around the edges. ;-)
&gt; 
&gt; - The multi-launch will always be sequential (not parallel).
&gt; - Progress reporting seems not quite right, and I haven't tested if you can
&gt; cancel.
&gt; - There are no fancy pre-launch builds and the like, the action just goes ahead
&gt; and launches what you have selected.
&gt; - The launch dialog will not be closed for you when you multi-launch, but it
&gt; probably should.
&gt; 
&gt; Feedback from the Debug team would be welcome. Do you think this is a feature
&gt; you would want to have?
&gt; 

Well done, the patch almost does what I need. Here is my use case for the multi-launch feature. I work on program analyses which usually have to be run with different configurations on various benchmark programs. Every launch runs a new JVM with the target program and a specific configuration. The multi-launch should run every selected launch sequentially, i.e., the next launch is executed after the previous is terminated, otherwise memory consumption would kill the machine. The actual sequence in which selected launches are executed isn't that important, though it would be nice if it could be defined.
Ah. 

Sounds like we have different cases in that case. Launching a new application after termination of the previous wouldn't help me at all :(




I agree with Kaj. I see few use cases where you would want to launch sequencially. In my case I need to run up several server components, which open sockets and talk amongst themselves. I can see other cases, where someone may want to run up mock servers etc. All would require launching many processes in parallel.
Created attachment 109794
patch with parallel and sequential multi-launch

Actually, I need this for sequential launches (like Jan) - when doing a build submission, I would like to multi-select a number of JUnit launch configurations and have them all executed, one after another. Some of these tests are UI tests that are sensitive to other applications running at the same time.

This new patch supports both parallel and sequential multi-launching.
(In reply to comment #16)
&gt; Well done, the patch almost does what I need.

What exactly is missing?
(In reply to comment #20)
&gt; (In reply to comment #16)
&gt; &gt; Well done, the patch almost does what I need.
&gt; 
&gt; What exactly is missing?
&gt; 
Well, I could think of more additions to that feature, such as named groups of launches, but if this isn't a call for the next killer feature it works for me. Thanks a lot!

Thanks Boris! Your patch works great. Like Jan, I'd really like to be able to save (ideally ordered) groups of launch configurations, but what you have so far is already a huge improvement.
Please note comment #9 and dup'ed bug 228091. The attached patch is only at the UI layer and does not appear to solve this related issue when calling debug core API. Please let me know if you plan to attach another patch that resolves both issues, or if we should reopen bug 228091 for more investigation.
Tim - not sure if this will help your case, but I was planning to attach another patch that used a different approach, one that would allow you to define multi-launches as a separate launch configuration type.
Thanks, Boris. Hard to say whether it will help without fully understanding what that means, but I'll look at any patch posted. My basic issue is multiple prompts/inconsistency when a launch shortcut triggers two launches (either consecutive or parent/child) that are conceptually one action for the user.
*** Bug 294713 has been marked as a duplicate of this bug. ***
This is not JDT specific.
I'm an end user and I use Eclipse Galileo build 20090920-1017. How do I get the patch applied to my eclipse?
Try the steps from here: http://www.eclipse.org/eclipse/debug/get_involved.php#writing_code - good luck! If you need help overcoming obstacles, I would recommend the #eclipse channel on http://wiki.eclipse.org/IRC or the forums, for example: http://www.eclipse.org/forums/index.php?t=thread&amp;frm_id=11&amp; .
Created attachment 177951
A plug-in project to show a basic workflow

Hello,

In addition to the great job you have done, we were able to implement a basic workflow (a specific launch configuration to chain configurations) on top of debug components; ie to save the multiple selection to launch. 

Please find attached a plug-in project to demonstrate our purpose. To use it, you have to import the project into your workspace then to run an Eclipse application. In the runtime eclipse, you will have to open the dialog of launch configurations to find the new type "basic workflow". After creating several launch configurations of different types, create a new launch configuration of type "basic workflow" then you will be able to load existing launch configurations (existing limitation, recursion is not allowed so a configuration of a basic workflow is not available in list of launch configurations).
Of course, if you like it, you just have to export the plug-in project in your eclipse to install it properly.

Regards
Gabriel
CDT solution for a similar problems is Bug 270671 or http://wiki.eclipse.org/CDT/User/NewIn60#Debug_and_Launch

- It is a a top level launch  "Launch Group"
- User can edit the launch sequence - parallel/sequential/mixed launching. 
- User can edit the sequence order. Can edit wait period between sequential launches.
- Can mix debug/run/profile launch configurations.

There're no dependency on CDT capabilities and you can simultaneously launch any launch configurations. It could be possible to pull out of CDT launch plugin, may be to promote to platform?
+1 to promote the CDT plug-in, it looks good !
Created attachment 179099
Patch to extract the multi launch from CDT project

Here is a first attempt to cut links to other CDT project and obtain an autonomous plug-in.
Could review it, please ?

Regards,
Gabriel
Nice, want to have to. 2$ when it is out. http://www.bidforfix.com/
Anyone else would pay extra for this feature?
Could be an easy addition to migrate the CDT feature.
Sigh, I've been waiting for this feature for ages. I still have to manually start 10+ launch configurations every time I want to test/debug the system.
Another use case for the sequential workflow is having to run multiple maven (m2e build's) run configurations.  To deploy a change to my development environment I have to

1) use m2e process a pom.xml that builds a JAR component X
2) use m2e process a pom.xml that runs maven-assembly-plugin to assemble component X into a specific directory structure Y
3) use a plain java run configuration that execs an installer that processes Y and uploads Y into tcp server.

So my ideal workflow implementation would include a way to check the return code of steps #1 and #2 to make sure things were successful and if so keep going to the next step.</WithOutStack>
  </Bug>
</infozilla-output>

