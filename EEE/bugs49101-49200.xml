<?xml version="1.0" encoding="UTF-8"?>
<infozilla-output>
  <Bug>
    <BugId amount="49101" />
    <CreationDate amount="2003-12-18 06:26:00 -0500" />
    <DupId amount="" />
    <classification amount="Eclipse" />
    <Product amount="Platform" />
    <component amount="Search" />
    <Version amount="3.0" />
    <rep_platform amount="All" />
    <op_sys amount="All" />
    <priority amount="P4" />
    <bug_severity amount="enhancement" />
    <Summery>Display search results in a table</Summery>
    <Patches amount="0" />
    <Stacktraces amount="0" />
    <SourceCodeRegions amount="0" />
    <Enumerations amount="0" />
    <bug_status amount="RESOLVED" />
    <resolution amount="WONTFIX" />
    <WithStack>The view of search results for a java search like Reference search in the
workspace could be made more flexible: instead of a list we could have a
table with columns "file", "method", "exact?", "line number", ... and they
could be reorderable.
As far as I am concerned, I am usually more interested in knowing the file in
which the occurence appears than the particular method.
If there is a performance problem with using a table, another solution would be
to provide a setting to choose the formatting of the search result strings,
where one could choose the order in which the infos appear.
Moving to platform search. We are reworking this... 
I have seen the new search dialog in M7, and it still doesn't present results in
a table. A news post stated that there was no plan to change that. Is it true? I
hope not...
There's no plan to change this for 3.0. We're trying to get a away from flat
lists/tables because it doesn't scale (both the implementation and the
usability). The original reason we don't use a multi-column table is that at the
time, the table widget couldn't handle large item sets.
I think a good compromise would be to let the user decide what information he
wants to see in search results. Then this information can be presented in a tree
or whatever. 
Currently if I search references of a java element (Ctrl+Shift+G), the results
are presented in the old search view in the form &lt;invoking method&gt; &lt;invoking
class&gt;. I would rather have &lt;content of the invoking line&gt; &lt;invoking class&gt; for
instance.

setting to later
As of now 'LATER' and 'REMIND' resolutions are no longer supported.
Please reopen this bug if it is still valid for you.</WithStack>
    <WithOutStack>The view of search results for a java search like Reference search in the
workspace could be made more flexible: instead of a list we could have a
table with columns "file", "method", "exact?", "line number", ... and they
could be reorderable.
As far as I am concerned, I am usually more interested in knowing the file in
which the occurence appears than the particular method.
If there is a performance problem with using a table, another solution would be
to provide a setting to choose the formatting of the search result strings,
where one could choose the order in which the infos appear.
Moving to platform search. We are reworking this... 
I have seen the new search dialog in M7, and it still doesn't present results in
a table. A news post stated that there was no plan to change that. Is it true? I
hope not...
There's no plan to change this for 3.0. We're trying to get a away from flat
lists/tables because it doesn't scale (both the implementation and the
usability). The original reason we don't use a multi-column table is that at the
time, the table widget couldn't handle large item sets.
I think a good compromise would be to let the user decide what information he
wants to see in search results. Then this information can be presented in a tree
or whatever. 
Currently if I search references of a java element (Ctrl+Shift+G), the results
are presented in the old search view in the form &lt;invoking method&gt; &lt;invoking
class&gt;. I would rather have &lt;content of the invoking line&gt; &lt;invoking class&gt; for
instance.

setting to later
As of now 'LATER' and 'REMIND' resolutions are no longer supported.
Please reopen this bug if it is still valid for you.</WithOutStack>
  </Bug>
  <Bug>
    <BugId amount="49102" />
    <CreationDate amount="2003-12-18 08:52:00 -0500" />
    <DupId amount="" />
    <classification amount="Tools" />
    <Product amount="CDT" />
    <component amount="cdt-core" />
    <Version amount="1.0" />
    <rep_platform amount="PC" />
    <op_sys amount="Linux" />
    <priority amount="P3" />
    <bug_severity amount="minor" />
    <Summery>C-Build not updating in the first compilation.</Summery>
    <Patches amount="0" />
    <Stacktraces amount="0" />
    <SourceCodeRegions amount="0" />
    <Enumerations amount="2">
      <Enumeration lines="6">
        <Lines>
          <Line>1. System: GNU/Linux Mandrake 9.1</Line>
          <Line>2. Machine: Dual Athlon MP 2000+, 1Gb mem.</Line>
          <Line>3. Java: Sun JRE 1.4.2</Line>
          <Line>Do you have a selection ?</Line>
          <Line>i.e. the C-Build is keyed on selection, probably</Line>
          <Line>the first time no resources are projects were selected.</Line>
        </Lines>
      </Enumeration>
      <Enumeration lines="13">
        <Lines>
          <Line>1. I´ve launched Eclipse (duh...)</Line>
          <Line>2. The "Progress" windows shows an eternal "Update for Decoration Completion"</Line>
          <Line>message.</Line>
          <Line>3. I right click on this message twice: one to "Cancel", other to "Clear All</Line>
          <Line>Errors".</Line>
          <Line>4. I switch perspectives back and forth (Projects -&gt; Debug -&gt; Projects, for</Line>
          <Line>instance).</Line>
          <Line>5. If I don´t take steps 3 and 4 above, Eclipse simply does not respond most of</Line>
          <Line>my commands. I can edit already opened files, though.</Line>
          <Line>6. After all this, I open the "Make Targets" panel and double click in one of my</Line>
          <Line>make targets. It opens the C-Build console, but nothing is displayed, even with</Line>
          <Line>a project selected.</Line>
          <Line>7. From now on, subsequent "make targets" work fine.</Line>
        </Lines>
      </Enumeration>
    </Enumerations>
    <bug_status amount="RESOLVED" />
    <resolution amount="FIXED" />
    <WithStack>The C-Build panel opens but shows nothing during the first compilation using
Eclipse. Subsequent compilations work fine.

The C-Build panel is in 'FastView' mode.
Completing the report:

1. System: GNU/Linux Mandrake 9.1
2. Machine: Dual Athlon MP 2000+, 1Gb mem.
3. Java: Sun JRE 1.4.2
Do you have a selection ?
i.e. the C-Build is keyed on selection, probably
the first time no resources are projects were selected.

The C-Build maintains an output buffer on a per project
basis.  So each project has there separate outputs.

Let me know if this is the problem, if not more investigation
is needed.
I tried both, with and without a selection, and the result was the same. The
complete list of steps is:

1. I´ve launched Eclipse (duh...)
2. The "Progress" windows shows an eternal "Update for Decoration Completion"
message.
3. I right click on this message twice: one to "Cancel", other to "Clear All
Errors".
4. I switch perspectives back and forth (Projects -&gt; Debug -&gt; Projects, for
instance).
5. If I don´t take steps 3 and 4 above, Eclipse simply does not respond most of
my commands. I can edit already opened files, though.
6. After all this, I open the "Make Targets" panel and double click in one of my
make targets. It opens the C-Build console, but nothing is displayed, even with
a project selected.
7. From now on, subsequent "make targets" work fine.

One question that arises is: what is this "Update for Decoration Completion"? Is
it possible that cancelling this I´m breaking something in the Eclipse booting
cycle? I left this "Update..." running for four hours (!), and it didn´t finished...

Thanks!
Dave do you want to grab this ?
PR was not targeted to any particular release. Changing target milestone to 2.1
This appear to be nolonger a problem</WithStack>
    <WithOutStack>The C-Build panel opens but shows nothing during the first compilation using
Eclipse. Subsequent compilations work fine.

The C-Build panel is in 'FastView' mode.
Completing the report:

1. System: GNU/Linux Mandrake 9.1
2. Machine: Dual Athlon MP 2000+, 1Gb mem.
3. Java: Sun JRE 1.4.2
Do you have a selection ?
i.e. the C-Build is keyed on selection, probably
the first time no resources are projects were selected.

The C-Build maintains an output buffer on a per project
basis.  So each project has there separate outputs.

Let me know if this is the problem, if not more investigation
is needed.
I tried both, with and without a selection, and the result was the same. The
complete list of steps is:

1. I´ve launched Eclipse (duh...)
2. The "Progress" windows shows an eternal "Update for Decoration Completion"
message.
3. I right click on this message twice: one to "Cancel", other to "Clear All
Errors".
4. I switch perspectives back and forth (Projects -&gt; Debug -&gt; Projects, for
instance).
5. If I don´t take steps 3 and 4 above, Eclipse simply does not respond most of
my commands. I can edit already opened files, though.
6. After all this, I open the "Make Targets" panel and double click in one of my
make targets. It opens the C-Build console, but nothing is displayed, even with
a project selected.
7. From now on, subsequent "make targets" work fine.

One question that arises is: what is this "Update for Decoration Completion"? Is
it possible that cancelling this I´m breaking something in the Eclipse booting
cycle? I left this "Update..." running for four hours (!), and it didn´t finished...

Thanks!
Dave do you want to grab this ?
PR was not targeted to any particular release. Changing target milestone to 2.1
This appear to be nolonger a problem</WithOutStack>
  </Bug>
  <Bug>
    <BugId amount="49103" />
    <CreationDate amount="2003-12-18 09:52:00 -0500" />
    <DupId amount="" />
    <classification amount="Eclipse" />
    <Product amount="Platform" />
    <component amount="CVS" />
    <Version amount="3.0" />
    <rep_platform amount="PC" />
    <op_sys amount="Windows XP" />
    <priority amount="P3" />
    <bug_severity amount="normal" />
    <Summery>[SSH2] JSchException: channel is not open</Summery>
    <Patches amount="0" />
    <Stacktraces amount="0" />
    <SourceCodeRegions amount="0" />
    <Enumerations amount="0" />
    <bug_status amount="RESOLVED" />
    <resolution amount="FIXED" />
    <WithStack>Thanks for a great plug-in it works just fine under Windows,
but on Linux I experience a problem:
It works when Eclipse is started, but when I have not used the cvs 
connection for a while (10-20 minutes maybe?). I get the following error:
Authentication error: com.jcraft.jsch.JSchException: channel is not opened
Seems I have to restart Eclipse to make it work again.
 
&gt; I have not been able to reproduce this problem by myself yet,
&gt; but I found a defect in the code.  I guess this problem will happen
&gt; in the session down by IP routers, NAT, etc., and not by the remote sshd.
&gt; Now, I have rewritten the code and he has written me that his problem has 
&gt; disappeared.
I will submit this fix into todays M6 build.
I greatly appreciate Anders Blaagaard at swwwig.com, who reported this problem.
Released to HEAD. We will include in M6 build today.</WithStack>
    <WithOutStack>Thanks for a great plug-in it works just fine under Windows,
but on Linux I experience a problem:
It works when Eclipse is started, but when I have not used the cvs 
connection for a while (10-20 minutes maybe?). I get the following error:
Authentication error: com.jcraft.jsch.JSchException: channel is not opened
Seems I have to restart Eclipse to make it work again.
 
&gt; I have not been able to reproduce this problem by myself yet,
&gt; but I found a defect in the code.  I guess this problem will happen
&gt; in the session down by IP routers, NAT, etc., and not by the remote sshd.
&gt; Now, I have rewritten the code and he has written me that his problem has 
&gt; disappeared.
I will submit this fix into todays M6 build.
I greatly appreciate Anders Blaagaard at swwwig.com, who reported this problem.
Released to HEAD. We will include in M6 build today.</WithOutStack>
  </Bug>
  <Bug>
    <BugId amount="49104" />
    <CreationDate amount="2003-12-18 10:01:00 -0500" />
    <DupId amount="" />
    <classification amount="Eclipse Foundation" />
    <Product amount="z_Archived" />
    <component amount="Hyades" />
    <Version amount="unspecified" />
    <rep_platform amount="PC" />
    <op_sys amount="Windows 2000" />
    <priority amount="P3" />
    <bug_severity amount="normal" />
    <Summery>Cannot create log correlation in other perspective and cannot cancel wizard</Summery>
    <Patches amount="0" />
    <Stacktraces amount="0" />
    <SourceCodeRegions amount="0" />
    <Enumerations amount="0" />
    <bug_status amount="CLOSED" />
    <resolution amount="FIXED" />
    <WithStack>Test cases: (log_Navigator_4)
Driver: hyades.runtime_1.2.0_20031217_1814.zip

To repoduce:
&gt;Import one or more log file
&gt;switch to perspective other than profiling perspective, eg resouce perspective.
&gt;File-&gt;New-&gt;Other-&gt;Profiling and Logging-&gt;Log Correlation
&gt; NO available Logs is shown
&gt;click CANCEL and cannot cancel wizard.
Fixed.
Closed.
house keeping</WithStack>
    <WithOutStack>Test cases: (log_Navigator_4)
Driver: hyades.runtime_1.2.0_20031217_1814.zip

To repoduce:
&gt;Import one or more log file
&gt;switch to perspective other than profiling perspective, eg resouce perspective.
&gt;File-&gt;New-&gt;Other-&gt;Profiling and Logging-&gt;Log Correlation
&gt; NO available Logs is shown
&gt;click CANCEL and cannot cancel wizard.
Fixed.
Closed.
house keeping</WithOutStack>
  </Bug>
  <Bug>
    <BugId amount="49105" />
    <CreationDate amount="2003-12-18 10:23:00 -0500" />
    <DupId amount="" />
    <classification amount="Eclipse Foundation" />
    <Product amount="z_Archived" />
    <component amount="Hyades" />
    <Version amount="unspecified" />
    <rep_platform amount="PC" />
    <op_sys amount="Windows 2000" />
    <priority amount="P3" />
    <bug_severity amount="normal" />
    <Summery>Log Navigator does not refresh in Symtom DB deletion</Summery>
    <Patches amount="0" />
    <Stacktraces amount="0" />
    <SourceCodeRegions amount="0" />
    <Enumerations amount="0" />
    <bug_status amount="CLOSED" />
    <resolution amount="FIXED" />
    <WithStack>Test Case: Log_Navigator_5
Driver: hyades.runtime_1.2.0_20031217_1814.zip

To Reproduce:
&gt;Impost several reomote Symtom DB
&gt;In Log Navigator, delete a symtom db
&gt; Log Navigaot is NOT refresh to reflect the deletion made
&gt; and multiple deletion can be made on the delected symtom bm.
Fixed.
Closed.
house keeping</WithStack>
    <WithOutStack>Test Case: Log_Navigator_5
Driver: hyades.runtime_1.2.0_20031217_1814.zip

To Reproduce:
&gt;Impost several reomote Symtom DB
&gt;In Log Navigator, delete a symtom db
&gt; Log Navigaot is NOT refresh to reflect the deletion made
&gt; and multiple deletion can be made on the delected symtom bm.
Fixed.
Closed.
house keeping</WithOutStack>
  </Bug>
  <Bug>
    <BugId amount="49106" />
    <CreationDate amount="2003-12-18 10:26:00 -0500" />
    <DupId amount="" />
    <classification amount="Eclipse Foundation" />
    <Product amount="z_Archived" />
    <component amount="Hyades" />
    <Version amount="unspecified" />
    <rep_platform amount="Other" />
    <op_sys amount="Linux" />
    <priority amount="P3" />
    <bug_severity amount="major" />
    <Summery>RAServer won't start on RedHat 7.2 (S/390)</Summery>
    <Patches amount="0" />
    <Stacktraces amount="0" />
    <SourceCodeRegions amount="0" />
    <Enumerations amount="0" />
    <bug_status amount="CLOSED" />
    <resolution amount="FIXED" />
    <WithStack>The problem is due to a hard-coded shared library name being required by the 
XML4C library.
This is an operating system problem.

The Hyades Data Collection Engine requires the following rpm package installed:
  compat-libstdc++-2.10.0-1

To install, log in as root, change directory to where this package is located 
and run:
  rpm -i compat-libstdc++-2.10.0-1.s390.rpm

This will install the shared library required:
  libstdc++-libc6.1-2.so.3

house keeping
As of TPTP 4.6.0, TPTP is in maintenance mode and focusing on improving quality by resolving relevant enhancements/defects and increasing test coverage through test creation, automation, Build Verification Tests (BVTs), and expanded run-time execution. As part of the TPTP Bugzilla housecleaning process (see http://wiki.eclipse.org/Bugzilla_Housecleaning_Processes), this enhancement/defect is verified/closed by the Project Lead since this originator of this enhancement/defect has an inactive Bugzilla account and considered to be fixed. If this enhancement/defect is still unresolved and reproducible in the latest TPTP release (http://www.eclipse.org/tptp/home/downloads/), please re-open.</WithStack>
    <WithOutStack>The problem is due to a hard-coded shared library name being required by the 
XML4C library.
This is an operating system problem.

The Hyades Data Collection Engine requires the following rpm package installed:
  compat-libstdc++-2.10.0-1

To install, log in as root, change directory to where this package is located 
and run:
  rpm -i compat-libstdc++-2.10.0-1.s390.rpm

This will install the shared library required:
  libstdc++-libc6.1-2.so.3

house keeping
As of TPTP 4.6.0, TPTP is in maintenance mode and focusing on improving quality by resolving relevant enhancements/defects and increasing test coverage through test creation, automation, Build Verification Tests (BVTs), and expanded run-time execution. As part of the TPTP Bugzilla housecleaning process (see http://wiki.eclipse.org/Bugzilla_Housecleaning_Processes), this enhancement/defect is verified/closed by the Project Lead since this originator of this enhancement/defect has an inactive Bugzilla account and considered to be fixed. If this enhancement/defect is still unresolved and reproducible in the latest TPTP release (http://www.eclipse.org/tptp/home/downloads/), please re-open.</WithOutStack>
  </Bug>
  <Bug>
    <BugId amount="49107" />
    <CreationDate amount="2003-12-18 10:47:00 -0500" />
    <DupId amount="" />
    <classification amount="Eclipse" />
    <Product amount="JDT" />
    <component amount="Text" />
    <Version amount="3.0" />
    <rep_platform amount="PC" />
    <op_sys amount="Windows XP" />
    <priority amount="P2" />
    <bug_severity amount="normal" />
    <Summery>[rulers] Green lightbulb is hidden behind magnet</Summery>
    <Patches amount="0" />
    <Stacktraces amount="0" />
    <SourceCodeRegions amount="1">
      <source_code type="class">
        <location start="354" end="426" />
        <code>public class A {
	int first() {
		return 17;
	}
	void second() {
		
	}
}</code>
      </source_code>
    </SourceCodeRegions>
    <Enumerations amount="0" />
    <bug_status amount="VERIFIED" />
    <resolution amount="FIXED" />
    <WithStack>I20031218-0800 (with osgi from earlier build), already happens in I20031216:

I have the "light bulb for quick assists" enabled and "Mark occurrences in file"
disabled. Having the caret in the method name 'first', I see the magnet and 1px
of the lightbulb behind it. When I click into 'second', I get a flash where the
lightbulb originally was.

A.java:
public class A {
	int first() {
		return 17;
	}
	void second() {
		
	}
}
Can be reproduced.
Note: the 1px can only be seen when setting a smaller font.
Fixed.
Available in builds &gt; 20040112</WithStack>
    <WithOutStack>I20031218-0800 (with osgi from earlier build), already happens in I20031216:

I have the "light bulb for quick assists" enabled and "Mark occurrences in file"
disabled. Having the caret in the method name 'first', I see the magnet and 1px
of the lightbulb behind it. When I click into 'second', I get a flash where the
lightbulb originally was.

A.java:
public class A {
	int first() {
		return 17;
	}
	void second() {
		
	}
}
Can be reproduced.
Note: the 1px can only be seen when setting a smaller font.
Fixed.
Available in builds &gt; 20040112</WithOutStack>
  </Bug>
  <Bug>
    <BugId amount="49108" />
    <CreationDate amount="2003-12-18 11:12:00 -0500" />
    <DupId amount="" />
    <classification amount="Eclipse Foundation" />
    <Product amount="z_Archived" />
    <component amount="Hyades" />
    <Version amount="unspecified" />
    <rep_platform amount="All" />
    <op_sys amount="Windows 2000" />
    <priority amount="P1" />
    <bug_severity amount="normal" />
    <Summery>The J2EE Request Profiler Agent doesn't show up in Agents List</Summery>
    <Patches amount="0" />
    <Stacktraces amount="0" />
    <SourceCodeRegions amount="0" />
    <Enumerations amount="0" />
    <bug_status amount="CLOSED" />
    <resolution amount="INVALID" />
    <WithStack>When trying to attach to the Basic Calculator Sample running on either a local 
or remote machine, the J2EE Request Profiling Agent Process does not appear 
under the Agents List.  Thus, I can't attach to the process. Build20031216_1217
Hyades does not support J2EE Request Profiling Agent, must use the AC RAC, and 
copy over the appropriate jar's to the WAS_HOME\lib file.
Closing bug.
house keeping</WithStack>
    <WithOutStack>When trying to attach to the Basic Calculator Sample running on either a local 
or remote machine, the J2EE Request Profiling Agent Process does not appear 
under the Agents List.  Thus, I can't attach to the process. Build20031216_1217
Hyades does not support J2EE Request Profiling Agent, must use the AC RAC, and 
copy over the appropriate jar's to the WAS_HOME\lib file.
Closing bug.
house keeping</WithOutStack>
  </Bug>
  <Bug>
    <BugId amount="49109" />
    <CreationDate amount="2003-12-18 11:25:00 -0500" />
    <DupId amount="51921" />
    <classification amount="Eclipse" />
    <Product amount="PDE" />
    <component amount="UI" />
    <Version amount="3.0" />
    <rep_platform amount="PC" />
    <op_sys amount="Windows XP" />
    <priority amount="P3" />
    <bug_severity amount="normal" />
    <Summery>Tracing options not honored.</Summery>
    <Patches amount="0" />
    <Stacktraces amount="0" />
    <SourceCodeRegions amount="0" />
    <Enumerations amount="0" />
    <bug_status amount="RESOLVED" />
    <resolution amount="DUPLICATE" />
    <WithStack>20031217
Create launching configuration.
Enable tracing, change some tracing option values.

After launching tracing options that were changed in the launching 
configuration have the wrong values (the defaults), not ones specified in the 
launching configurations.
Going to launching configuration, to double check the options reveals that the 
choices were also not saved.  All the tracting options show default values 
(from file).
The build I have seen this behavior in is the last 20031216 build (not 
20031217 as I originally wrote).
Not a problem with the tracing support.
There seems to be a problem with the .options file of the help.ui plugin.
Will investigate for post-M6.


*** This bug has been marked as a duplicate of 51921 ***</WithStack>
    <WithOutStack>20031217
Create launching configuration.
Enable tracing, change some tracing option values.

After launching tracing options that were changed in the launching 
configuration have the wrong values (the defaults), not ones specified in the 
launching configurations.
Going to launching configuration, to double check the options reveals that the 
choices were also not saved.  All the tracting options show default values 
(from file).
The build I have seen this behavior in is the last 20031216 build (not 
20031217 as I originally wrote).
Not a problem with the tracing support.
There seems to be a problem with the .options file of the help.ui plugin.
Will investigate for post-M6.


*** This bug has been marked as a duplicate of 51921 ***</WithOutStack>
  </Bug>
  <Bug>
    <BugId amount="49110" />
    <CreationDate amount="2003-12-18 11:29:00 -0500" />
    <DupId amount="" />
    <classification amount="Eclipse" />
    <Product amount="Platform" />
    <component amount="Search" />
    <Version amount="3.0" />
    <rep_platform amount="PC" />
    <op_sys amount="Windows XP" />
    <priority amount="P3" />
    <bug_severity amount="normal" />
    <Summery>Replace doesn't open next file anymore</Summery>
    <Patches amount="0" />
    <Stacktraces amount="0" />
    <SourceCodeRegions amount="0" />
    <Enumerations amount="1">
      <Enumeration lines="6">
        <Lines>
          <Line>- create project</Line>
          <Line>- add to text files containing the content "eclipse"</Line>
          <Line>- search for eclipse in project</Line>
          <Line>- open replace dialog</Line>
          <Line>- replace eclipse with 3clipse</Line>
          <Line>- press replace</Line>
        </Lines>
      </Enumeration>
    </Enumerations>
    <bug_status amount="RESOLVED" />
    <resolution amount="FIXED" />
    <WithStack>I20031218

- create project
- add to text files containing the content "eclipse"
- search for eclipse in project
- open replace dialog
- replace eclipse with 3clipse
- press replace

observe: the first file is removed from the search matches, but next file 
doesn't open. Nothing in log.
Furthermore next file isn't selected in the search result view.
The problem is with the second to last match when replacing. If you have more
than 2, it works.
Created attachment 7229
patch for replace dialog

We we're too pessimistic when checking whether we can reveal another match.
released the patch and update new search replace, too.</WithStack>
    <WithOutStack>I20031218

- create project
- add to text files containing the content "eclipse"
- search for eclipse in project
- open replace dialog
- replace eclipse with 3clipse
- press replace

observe: the first file is removed from the search matches, but next file 
doesn't open. Nothing in log.
Furthermore next file isn't selected in the search result view.
The problem is with the second to last match when replacing. If you have more
than 2, it works.
Created attachment 7229
patch for replace dialog

We we're too pessimistic when checking whether we can reveal another match.
released the patch and update new search replace, too.</WithOutStack>
  </Bug>
  <Bug>
    <BugId amount="49111" />
    <CreationDate amount="2003-12-18 11:34:00 -0500" />
    <DupId amount="" />
    <classification amount="Eclipse" />
    <Product amount="Platform" />
    <component amount="UI" />
    <Version amount="3.0" />
    <rep_platform amount="PC" />
    <op_sys amount="Windows XP" />
    <priority amount="P3" />
    <bug_severity amount="normal" />
    <Summery>NPE after changing marker filters</Summery>
    <Patches amount="0" />
    <Stacktraces amount="1">
      <Stacktrace timestamp="1437341080765">
        <Exception>java.lang.NullPointerException</Exception>
        <Reason />
        <Frames>
          <Frame depth="0">org.eclipse.ui.views.markers.internal.MarkerFilter.getResourcesInWorkingSet(MarkerFilter.java:291)</Frame>
          <Frame depth="1">org.eclipse.ui.views.markers.internal.MarkerFilter.findMarkers(MarkerFilter.java:278)</Frame>
          <Frame depth="2">org.eclipse.ui.views.markers.internal.MarkerList.compute(MarkerList.java:103)</Frame>
          <Frame depth="3">org.eclipse.ui.views.markers.internal.MarkerView$4.run(MarkerView.java:173)</Frame>
          <Frame depth="4">org.eclipse.core.internal.resources.Workspace.run(Workspace.java:1555)</Frame>
          <Frame depth="5">org.eclipse.core.internal.resources.Workspace.run(Workspace.java:1574)</Frame>
          <Frame depth="6">org.eclipse.ui.views.markers.internal.MarkerView.internalRefresh(MarkerView.java:168)</Frame>
          <Frame depth="7">org.eclipse.ui.views.markers.internal.MarkerView.access$6(MarkerView.java:159)</Frame>
          <Frame depth="8">org.eclipse.ui.views.markers.internal.MarkerView$5.run(MarkerView.java:235)</Frame>
          <Frame depth="9">org.eclipse.ui.views.markers.internal.RestartableJob$2.run(RestartableJob.java:77)</Frame>
          <Frame depth="10">org.eclipse.core.internal.jobs.Worker.run(Worker.java:62)</Frame>
        </Frames>
      </Stacktrace>
    </Stacktraces>
    <SourceCodeRegions amount="0" />
    <Enumerations amount="0" />
    <bug_status amount="RESOLVED" />
    <resolution amount="FIXED" />
    <WithStack>200312180955

I got the following stack trace when I closed the Filters dialog in the Problems
view.  I had just chosen the filter "On working set:" but I had no working set
chosen.  I'm able to consistantly reproduce this.

!ENTRY org.eclipse.core.runtime 4 2 Dec 18, 2003 11:28:18.182
!MESSAGE An internal error occurred during: "Searching for markers in Problems
view".
!STACK 0
java.lang.NullPointerException
	at
org.eclipse.ui.views.markers.internal.MarkerFilter.getResourcesInWorkingSet(MarkerFilter.java:291)
	at
org.eclipse.ui.views.markers.internal.MarkerFilter.findMarkers(MarkerFilter.java:278)
	at org.eclipse.ui.views.markers.internal.MarkerList.compute(MarkerList.java:103)
	at org.eclipse.ui.views.markers.internal.MarkerView$4.run(MarkerView.java:173)
	at org.eclipse.core.internal.resources.Workspace.run(Workspace.java:1555)
	at org.eclipse.core.internal.resources.Workspace.run(Workspace.java:1574)
	at
org.eclipse.ui.views.markers.internal.MarkerView.internalRefresh(MarkerView.java:168)
	at org.eclipse.ui.views.markers.internal.MarkerView.access$6(MarkerView.java:159)
	at org.eclipse.ui.views.markers.internal.MarkerView$5.run(MarkerView.java:235)
	at
org.eclipse.ui.views.markers.internal.RestartableJob$2.run(RestartableJob.java:77)
	at org.eclipse.core.internal.jobs.Worker.run(Worker.java:62)
Created attachment 7227
Reference to the problem in the Progress View
Were you able to continue normally after this?

Yes.  It didn't seem to have any long term effects.
The patch to bug 47503 will also fix this
Patch committed</WithStack>
    <WithOutStack>200312180955

I got the following stack trace when I closed the Filters dialog in the Problems
view.  I had just chosen the filter "On working set:" but I had no working set
chosen.  I'm able to consistantly reproduce this.

!ENTRY org.eclipse.core.runtime 4 2 Dec 18, 2003 11:28:18.182
!MESSAGE An internal error occurred during: "Searching for markers in Problems
view".
!STACK 0

Created attachment 7227
Reference to the problem in the Progress View
Were you able to continue normally after this?

Yes.  It didn't seem to have any long term effects.
The patch to bug 47503 will also fix this
Patch committed</WithOutStack>
  </Bug>
  <Bug>
    <BugId amount="49112" />
    <CreationDate amount="2003-12-18 11:35:00 -0500" />
    <DupId amount="50992" />
    <classification amount="RT" />
    <Product amount="Equinox" />
    <component amount="Incubator" />
    <Version amount="unspecified" />
    <rep_platform amount="PC" />
    <op_sys amount="All" />
    <priority amount="P3" />
    <bug_severity amount="major" />
    <Summery>Strange behavior when running 2 instances</Summery>
    <Patches amount="0" />
    <Stacktraces amount="0" />
    <SourceCodeRegions amount="0" />
    <Enumerations amount="2">
      <Enumeration lines="13">
        <Lines>
          <Line>1. Unzip I200312180955</Line>
          <Line>2. Start using following command line (adapt VM first):</Line>
          <Line>eclipse.exe -vm C:\JavaSDKs\jdk1.4.2\jre\bin\java.exe -vmargs -Xmx150M</Line>
          <Line>3. Start second workbench using following command line (adapt VM first):</Line>
          <Line>eclipse.exe -data w2 -vm C:\JavaSDKs\jdk1.4.2\jre\bin\java.exe -vmargs -Xmx150M</Line>
          <Line>4. Exit first workbench</Line>
          <Line>5. Exit second workbench</Line>
          <Line>==&gt; (even though I gave it 150Megs and my machine has &gt; 700Megs)</Line>
          <Line>!SESSION ----------------------------------------------------------------------</Line>
          <Line>!ENTRY org.eclipse.core.launcher 4 0 Dez 18, 2003 17:22:39.185</Line>
          <Line>!MESSAGE Exception launching the Eclipse Platform:</Line>
          <Line>!STACK</Line>
          <Line>java.lang.OutOfMemoryError</Line>
        </Lines>
      </Enumeration>
      <Enumeration lines="33">
        <Lines>
          <Line>1) develop and go back to your install dir to launch plain empty workspace</Line>
          <Line>==&gt; either this one or most likely the dev workspace throws OOM exceptions</Line>
          <Line />
          <Line>2) develop and at same time start the build workspace to do the build input or a</Line>
          <Line>plug-in export for the team</Line>
          <Line>==&gt; one of them throws OOM exceptions</Line>
          <Line />
          <Line>This makes it rather frustrating and I loose time (close one workspace and wait</Line>
          <Line>until work in other workspace is done). For example running the tests in the</Line>
          <Line>build workspace takes half an hour during which I am simply blocked from developing.</Line>
          <Line>I spent a half hour trying to reproduce, with no luck.  I even tried with three</Line>
          <Line>workspaces for awhile.  Does your use case involve changing or modifying the set</Line>
          <Line>of installed programs at any time?  Anything in particular that is triggering</Line>
          <Line>it? (I tried checking out projects, building, running tests, etc).</Line>
          <Line>This may be caused by bug 49622. The same way we are getting negative array</Line>
          <Line>lengths, we could get a huge value (causing the OOM).</Line>
          <Line />
          <Line>Daniel, could you try running Eclipse (both instances) passing</Line>
          <Line>-noLazyRegistryCacheLoading and tell us if that avoids the problem? Thanks.</Line>
          <Line>Olivier is also seeing this with multiple workspaces</Line>
          <Line>I will try but not today. Did you use I20040128 or a newer one? I started two</Line>
          <Line>workspaces today and did not see the error, I did not stress it however.</Line>
          <Line>John's question is quite relevant. Changing the set of available plug-ins</Line>
          <Line>(adding, or removing plugins, modifying the plugin manifest of an existing</Line>
          <Line>plugin) while two instances are active is the trigger for the problem in bug</Line>
          <Line>49622. Were doing something like that when you saw the problem?</Line>
          <Line>No is the answer. See my test case. With I200312180955 you did not have to do</Line>
          <Line>anything, just start and exit.</Line>
          <Line>I got the problem using build 200401300800.</Line>
          <Line>As Daniel said, this is pretty annoying. I usually keep at least two workspaces</Line>
          <Line>running in the same time (each one using a different branch).</Line>
          <Line>This is a problem that I didn't see with old builds. It is something that has</Line>
          <Line>been introduced in the last week. I used to run using 0121 build for a while.</Line>
        </Lines>
      </Enumeration>
    </Enumerations>
    <bug_status amount="RESOLVED" />
    <resolution amount="DUPLICATE" />
    <WithStack>I200312180955

I experience strange issue when launching two instance of Eclipse.

1. Unzip I200312180955
2. Start using following command line (adapt VM first):
eclipse.exe -vm C:\JavaSDKs\jdk1.4.2\jre\bin\java.exe -vmargs -Xmx150M
3. Start second workbench using following command line (adapt VM first):
eclipse.exe -data w2 -vm C:\JavaSDKs\jdk1.4.2\jre\bin\java.exe -vmargs -Xmx150M
4. Exit first workbench
5. Exit second workbench
==&gt; (even though I gave it 150Megs and my machine has &gt; 700Megs)
!SESSION ----------------------------------------------------------------------
!ENTRY org.eclipse.core.launcher 4 0 Dez 18, 2003 17:22:39.185
!MESSAGE Exception launching the Eclipse Platform:
!STACK
java.lang.OutOfMemoryError

Also, when launching my development workspace while starting a test workbench as
described above, the development workspace does not launch. I have to delete the
.config first.
can reproduce using I20031218_linux_gtk
reproduced using jdk 1.4.2_01 from javasoft
not reproducible using J2RE 1.4.1 IBM build cxia321411-20031112

platform is rh9
Under WinXP switching to J2SC20031212
... does not fix the problem.
I also got an OutOfMemoryError on startup when starting an old workspace with a
build from this week.  The workspace was small and I had -Xmx256M, so I thought
it was odd. I could not reproduce it though.  I'm wondering if there is a
condition that can create an infinite loop during configuration reconciling that
could cause it.
When looking at the described setup it does not look like there's really all the
memory used (it's not counting up in the task manager - I know this isn't
accurate , but normally it shows at least the upper bounds correct) and it exits
very quickly.
This bugs makes Eclipse unusable with two workspaces: while developing I started
the build workspace and then closed my normal one. After that the build
workspace was no longer usable: it reported out of memory even though it only
used 120M while given 350M.

Increasing severity to ensure we don't lose this.  Needs investigation to see
where the OOM is coming from.
Still happens in I20040128 and it is really a blocker to me and drops productivity.

Scenarios:
1) develop and go back to your install dir to launch plain empty workspace
==&gt; either this one or most likely the dev workspace throws OOM exceptions

2) develop and at same time start the build workspace to do the build input or a
plug-in export for the team
==&gt; one of them throws OOM exceptions

This makes it rather frustrating and I loose time (close one workspace and wait
until work in other workspace is done). For example running the tests in the
build workspace takes half an hour during which I am simply blocked from developing.
I spent a half hour trying to reproduce, with no luck.  I even tried with three
workspaces for awhile.  Does your use case involve changing or modifying the set
of installed programs at any time?  Anything in particular that is triggering
it? (I tried checking out projects, building, running tests, etc).
This may be caused by bug 49622. The same way we are getting negative array
lengths, we could get a huge value (causing the OOM).

Daniel, could you try running Eclipse (both instances) passing
-noLazyRegistryCacheLoading and tell us if that avoids the problem? Thanks.
Olivier is also seeing this with multiple workspaces
I will try but not today. Did you use I20040128 or a newer one? I started two
workspaces today and did not see the error, I did not stress it however.
John's question is quite relevant. Changing the set of available plug-ins
(adding, or removing plugins, modifying the plugin manifest of an existing
plugin) while two instances are active is the trigger for the problem in bug
49622. Were doing something like that when you saw the problem?
No is the answer. See my test case. With I200312180955 you did not have to do
anything, just start and exit.
I got the problem using build 200401300800.
As Daniel said, this is pretty annoying. I usually keep at least two workspaces
running in the same time (each one using a different branch).
This is a problem that I didn't see with old builds. It is something that has
been introduced in the last week. I used to run using 0121 build for a while.

Rafael, I didn't add/modify/remove any plugins. I create two fresh workspaces.
When I started the second one that was still empty, I got a OOE in the second
one. I have -Xmx300M. That should be enough to handle an empty workspace.
I just verified the simplest test case as described initially and it happens
using I20040129.

I then used -noLazyRegistryCacheLoading and the problem did no show up.

HTH
Dani
Thanks Dani. This is good to know. 

Unfortunately there are other (maybe not as likely) issues that can appear while
running two instances on a same configuration (see bug 50992).
Verified same behavior using I200401301130
Investigating...
Here is the issue:
1 - at the first startup (reconciler) a new configuration is created, and during
shutdown the extension registry is written to a cache on disk - Eclipse exits
automatically to be restared with the new configuration
2 - at the second startup the registry is read from this cache, but during
execution extension/extension point NLS keys are replaced by the translations,
so, next time, a resource bundle will not be needed (see bug 36373). During
normal shutdown, the registry will be written to the cache file again, but the
translation of strings causes its layout to change. Since the lazy loading of
the registry cache is based on file offsets, it just does not work anymore,
causing random errors (such as ArrayIndexOutOfBoundsExceptions,
NegativeArraySizeException, and OutOfMemoryErrors).

So, the problem is that the second instance is seeing a registry cache at
startup, but a different one after the first instance is shutdown. This is why
disabling lazy loading of the registry cache solves the problem.
Talked with Pascal and decided that until we decide what to do with registry
cache in the shared area, we will disable the lazy loading of the registry cache.

For now, I use -noLazyRegistryCacheLoading and can it works Dropping severitiy
to major.
The change mentioned in comment 22 is in effect since N20040131 (will be in the
next i-build). A real fix must be provided if we want to allow lazy loading for
registry cache and share the cache file between multiple Eclipse instances.
*** Bug 50973 has been marked as a duplicate of this bug. ***
*** Bug 49622 has been marked as a duplicate of this bug. ***
Closing this bug.   Bug 50992 will solve the problem more generally and this 
issue is currently being worked around in the runtime.
&gt;Bug 50992 *will solve* the problem
==&gt; fixed is probably the wrong resolution for this bug
Reopening to change resolution.


*** This bug has been marked as a duplicate of 50992 ***</WithStack>
    <WithOutStack>I200312180955

I experience strange issue when launching two instance of Eclipse.

1. Unzip I200312180955
2. Start using following command line (adapt VM first):
eclipse.exe -vm C:\JavaSDKs\jdk1.4.2\jre\bin\java.exe -vmargs -Xmx150M
3. Start second workbench using following command line (adapt VM first):
eclipse.exe -data w2 -vm C:\JavaSDKs\jdk1.4.2\jre\bin\java.exe -vmargs -Xmx150M
4. Exit first workbench
5. Exit second workbench
==&gt; (even though I gave it 150Megs and my machine has &gt; 700Megs)
!SESSION ----------------------------------------------------------------------
!ENTRY org.eclipse.core.launcher 4 0 Dez 18, 2003 17:22:39.185
!MESSAGE Exception launching the Eclipse Platform:
!STACK
java.lang.OutOfMemoryError

Also, when launching my development workspace while starting a test workbench as
described above, the development workspace does not launch. I have to delete the
.config first.
can reproduce using I20031218_linux_gtk
reproduced using jdk 1.4.2_01 from javasoft
not reproducible using J2RE 1.4.1 IBM build cxia321411-20031112

platform is rh9
Under WinXP switching to J2SC20031212
... does not fix the problem.
I also got an OutOfMemoryError on startup when starting an old workspace with a
build from this week.  The workspace was small and I had -Xmx256M, so I thought
it was odd. I could not reproduce it though.  I'm wondering if there is a
condition that can create an infinite loop during configuration reconciling that
could cause it.
When looking at the described setup it does not look like there's really all the
memory used (it's not counting up in the task manager - I know this isn't
accurate , but normally it shows at least the upper bounds correct) and it exits
very quickly.
This bugs makes Eclipse unusable with two workspaces: while developing I started
the build workspace and then closed my normal one. After that the build
workspace was no longer usable: it reported out of memory even though it only
used 120M while given 350M.

Increasing severity to ensure we don't lose this.  Needs investigation to see
where the OOM is coming from.
Still happens in I20040128 and it is really a blocker to me and drops productivity.

Scenarios:
1) develop and go back to your install dir to launch plain empty workspace
==&gt; either this one or most likely the dev workspace throws OOM exceptions

2) develop and at same time start the build workspace to do the build input or a
plug-in export for the team
==&gt; one of them throws OOM exceptions

This makes it rather frustrating and I loose time (close one workspace and wait
until work in other workspace is done). For example running the tests in the
build workspace takes half an hour during which I am simply blocked from developing.
I spent a half hour trying to reproduce, with no luck.  I even tried with three
workspaces for awhile.  Does your use case involve changing or modifying the set
of installed programs at any time?  Anything in particular that is triggering
it? (I tried checking out projects, building, running tests, etc).
This may be caused by bug 49622. The same way we are getting negative array
lengths, we could get a huge value (causing the OOM).

Daniel, could you try running Eclipse (both instances) passing
-noLazyRegistryCacheLoading and tell us if that avoids the problem? Thanks.
Olivier is also seeing this with multiple workspaces
I will try but not today. Did you use I20040128 or a newer one? I started two
workspaces today and did not see the error, I did not stress it however.
John's question is quite relevant. Changing the set of available plug-ins
(adding, or removing plugins, modifying the plugin manifest of an existing
plugin) while two instances are active is the trigger for the problem in bug
49622. Were doing something like that when you saw the problem?
No is the answer. See my test case. With I200312180955 you did not have to do
anything, just start and exit.
I got the problem using build 200401300800.
As Daniel said, this is pretty annoying. I usually keep at least two workspaces
running in the same time (each one using a different branch).
This is a problem that I didn't see with old builds. It is something that has
been introduced in the last week. I used to run using 0121 build for a while.

Rafael, I didn't add/modify/remove any plugins. I create two fresh workspaces.
When I started the second one that was still empty, I got a OOE in the second
one. I have -Xmx300M. That should be enough to handle an empty workspace.
I just verified the simplest test case as described initially and it happens
using I20040129.

I then used -noLazyRegistryCacheLoading and the problem did no show up.

HTH
Dani
Thanks Dani. This is good to know. 

Unfortunately there are other (maybe not as likely) issues that can appear while
running two instances on a same configuration (see bug 50992).
Verified same behavior using I200401301130
Investigating...
Here is the issue:
1 - at the first startup (reconciler) a new configuration is created, and during
shutdown the extension registry is written to a cache on disk - Eclipse exits
automatically to be restared with the new configuration
2 - at the second startup the registry is read from this cache, but during
execution extension/extension point NLS keys are replaced by the translations,
so, next time, a resource bundle will not be needed (see bug 36373). During
normal shutdown, the registry will be written to the cache file again, but the
translation of strings causes its layout to change. Since the lazy loading of
the registry cache is based on file offsets, it just does not work anymore,
causing random errors (such as ArrayIndexOutOfBoundsExceptions,
NegativeArraySizeException, and OutOfMemoryErrors).

So, the problem is that the second instance is seeing a registry cache at
startup, but a different one after the first instance is shutdown. This is why
disabling lazy loading of the registry cache solves the problem.
Talked with Pascal and decided that until we decide what to do with registry
cache in the shared area, we will disable the lazy loading of the registry cache.

For now, I use -noLazyRegistryCacheLoading and can it works Dropping severitiy
to major.
The change mentioned in comment 22 is in effect since N20040131 (will be in the
next i-build). A real fix must be provided if we want to allow lazy loading for
registry cache and share the cache file between multiple Eclipse instances.
*** Bug 50973 has been marked as a duplicate of this bug. ***
*** Bug 49622 has been marked as a duplicate of this bug. ***
Closing this bug.   Bug 50992 will solve the problem more generally and this 
issue is currently being worked around in the runtime.
&gt;Bug 50992 *will solve* the problem
==&gt; fixed is probably the wrong resolution for this bug
Reopening to change resolution.


*** This bug has been marked as a duplicate of 50992 ***</WithOutStack>
  </Bug>
  <Bug>
    <BugId amount="49113" />
    <CreationDate amount="2003-12-18 11:36:00 -0500" />
    <DupId amount="37178" />
    <classification amount="Eclipse" />
    <Product amount="JDT" />
    <component amount="UI" />
    <Version amount="2.1.1" />
    <rep_platform amount="PC" />
    <op_sys amount="Windows 2000" />
    <priority amount="P3" />
    <bug_severity amount="normal" />
    <Summery>Refactor &gt; Move class(es) creates incorrect import statements</Summery>
    <Patches amount="0" />
    <Stacktraces amount="0" />
    <SourceCodeRegions amount="3">
      <source_code type="class">
        <location start="380" end="416" />
        <code>public class MovingToBar {
    }</code>
      </source_code>
      <source_code type="class">
        <location start="418" end="504" />
        <code>public class StayingPut {
        private MovingToBar m = new MovingToBar();
    }</code>
      </source_code>
      <source_code type="import">
        <location start="650" end="675" />
        <code>import com.foo.bar.*;</code>
      </source_code>
    </SourceCodeRegions>
    <Enumerations amount="1">
      <Enumeration lines="9">
        <Lines>
          <Line>1) Create two packages (com.foo and com.foo.bar)</Line>
          <Line>2) Create two classes in com.foo as follows:</Line>
          <Line />
          <Line />
          <Line />
          <Line />
          <Line />
          <Line>3) Select MovingToBar and Refactor &gt; Move... it to the com.foo.bar package.</Line>
          <Line>4) Note the incorrect import statement that is added to StayingPut:</Line>
        </Lines>
      </Enumeration>
    </Enumerations>
    <bug_status amount="RESOLVED" />
    <resolution amount="DUPLICATE" />
    <WithStack>When Moving a class or classes into another package, other classes that are left
in the old package get import statements added that use the com.foo.bar.*;
format. This happens regardless of how the user has set the Organize Imports
preferences set.
Here is a repsoducible test case:

1) Create two packages (com.foo and com.foo.bar)
2) Create two classes in com.foo as follows:

    public class MovingToBar {
    }

    public class StayingPut {
        private MovingToBar m = new MovingToBar();
    }

3) Select MovingToBar and Refactor &gt; Move... it to the com.foo.bar package.
4) Note the incorrect import statement that is added to StayingPut:
    import com.foo.bar.*;

In addition to this being a "bad" * import, it appears that sometimes two
identical import statements are created.


*** This bug has been marked as a duplicate of 37178 ***</WithStack>
    <WithOutStack>When Moving a class or classes into another package, other classes that are left
in the old package get import statements added that use the com.foo.bar.*;
format. This happens regardless of how the user has set the Organize Imports
preferences set.
Here is a repsoducible test case:

1) Create two packages (com.foo and com.foo.bar)
2) Create two classes in com.foo as follows:

    public class MovingToBar {
    }

    public class StayingPut {
        private MovingToBar m = new MovingToBar();
    }

3) Select MovingToBar and Refactor &gt; Move... it to the com.foo.bar package.
4) Note the incorrect import statement that is added to StayingPut:
    import com.foo.bar.*;

In addition to this being a "bad" * import, it appears that sometimes two
identical import statements are created.


*** This bug has been marked as a duplicate of 37178 ***</WithOutStack>
  </Bug>
  <Bug>
    <BugId amount="49114" />
    <CreationDate amount="2003-12-18 11:42:00 -0500" />
    <DupId amount="" />
    <classification amount="Eclipse" />
    <Product amount="Platform" />
    <component amount="Search" />
    <Version amount="3.0" />
    <rep_platform amount="PC" />
    <op_sys amount="Windows XP" />
    <priority amount="P4" />
    <bug_severity amount="enhancement" />
    <Summery>Replace should work like refactoring</Summery>
    <Patches amount="0" />
    <Stacktraces amount="0" />
    <SourceCodeRegions amount="0" />
    <Enumerations amount="3">
      <Enumeration lines="7">
        <Lines>
          <Line>a) making the replace dialog non-modal</Line>
          <Line>and/or</Line>
          <Line>b) showing the old file name and progress label</Line>
          <Line>But having autobuild on can be annoying as well. Consider you are changing 100</Line>
          <Line>files and a "longer" autobuild kicks in after you have changed each file.</Line>
          <Line>But, isn't that what you're used to when using autobuild?</Line>
          <Line>The problem here is not autobuild in itself, but these things:</Line>
        </Lines>
      </Enumeration>
      <Enumeration lines="5">
        <Lines>
          <Line>1) The problems view comes to the front. This makes the search results view</Line>
          <Line>invisible. Any old plugin can hose us this way. Turning off autobuild doesn't</Line>
          <Line>fix the general problem</Line>
          <Line>2) We don't see how many files we're replacing stuff in and which file we're</Line>
          <Line>currently processing.</Line>
        </Lines>
      </Enumeration>
      <Enumeration lines="5">
        <Lines>
          <Line>- undo support</Line>
          <Line>- easier to review changes</Line>
          <Line>- no playing around with autobuild on/off</Line>
          <Line>- no researching is file is touched</Line>
          <Line>Any chance this could be safely backported to 3.3.1?</Line>
        </Lines>
      </Enumeration>
    </Enumerations>
    <bug_status amount="RESOLVED" />
    <resolution amount="FIXED" />
    <WithStack>I20031218

See bug 47025 for details
I am not sure whether turn off autobuild is what I want. Assume the following
scenario: I start to replace - it compiles - I see the error and want to stop
immediately since I made a typo. Turning autobuild off would let me notice this
only at the very end.

I agree that turning off autobuild is not the best solution. The general problem
(user cannot determine what's going on) can IMO only be solved by
a) making the replace dialog non-modal
 and/or
b) showing the old file name and progress label
But having autobuild on can be annoying as well. Consider you are changing 100 
files and a "longer" autobuild kicks in after you have changed each file. 
But, isn't that what you're used to when using autobuild?
The problem here is not autobuild in itself, but these things:

1) The problems view comes to the front. This makes the search results view
invisible. Any old plugin can hose us this way. Turning off autobuild doesn't
fix the general problem
2) We don't see how many files we're replacing stuff in and which file we're
currently processing. 

I think the real solution is to rewrite the replace dialog to act like a
refactoring (i.e. have a preview page, etc).
This should be possible in M9, when refactoring is API. We can then have a 
look at it.
We are turning off autobuild when doing a replace. I update the summary to
reflect the enhancement proposed.
replace is now implemented using the refactoring framework&gt; 20070723

this solves several issues:
- undo support
- easier to review changes
- no playing around with autobuild on/off
- no researching is file is touched
Any chance this could be safely backported to 3.3.1? 

Hard for me to tell how large a fix it was, but this issue wrecks havoc with some multipage editors (PDE included, and many in WTP, and I'd assume many adopter products where multipage editors are popular). 

See bug 196391. There is sort of a work around, but the work around just avoids a hang ... doesn't really make it work right, like backporting this would. 

Thanks for considering. 

Uh, this change is really big. It's replacing the whole old implementation by a new one, adding new plugin-dependencies, new use model (needs an update in the documenation as well).

The alternative would be to fix the lock with the MarkerHighlighter in the search plugin. If you want me to do that, can you file this as bug against search?
*** Bug 202357 has been marked as a duplicate of this bug. ***</WithStack>
    <WithOutStack>I20031218

See bug 47025 for details
I am not sure whether turn off autobuild is what I want. Assume the following
scenario: I start to replace - it compiles - I see the error and want to stop
immediately since I made a typo. Turning autobuild off would let me notice this
only at the very end.

I agree that turning off autobuild is not the best solution. The general problem
(user cannot determine what's going on) can IMO only be solved by
a) making the replace dialog non-modal
 and/or
b) showing the old file name and progress label
But having autobuild on can be annoying as well. Consider you are changing 100 
files and a "longer" autobuild kicks in after you have changed each file. 
But, isn't that what you're used to when using autobuild?
The problem here is not autobuild in itself, but these things:

1) The problems view comes to the front. This makes the search results view
invisible. Any old plugin can hose us this way. Turning off autobuild doesn't
fix the general problem
2) We don't see how many files we're replacing stuff in and which file we're
currently processing. 

I think the real solution is to rewrite the replace dialog to act like a
refactoring (i.e. have a preview page, etc).
This should be possible in M9, when refactoring is API. We can then have a 
look at it.
We are turning off autobuild when doing a replace. I update the summary to
reflect the enhancement proposed.
replace is now implemented using the refactoring framework&gt; 20070723

this solves several issues:
- undo support
- easier to review changes
- no playing around with autobuild on/off
- no researching is file is touched
Any chance this could be safely backported to 3.3.1? 

Hard for me to tell how large a fix it was, but this issue wrecks havoc with some multipage editors (PDE included, and many in WTP, and I'd assume many adopter products where multipage editors are popular). 

See bug 196391. There is sort of a work around, but the work around just avoids a hang ... doesn't really make it work right, like backporting this would. 

Thanks for considering. 

Uh, this change is really big. It's replacing the whole old implementation by a new one, adding new plugin-dependencies, new use model (needs an update in the documenation as well).

The alternative would be to fix the lock with the MarkerHighlighter in the search plugin. If you want me to do that, can you file this as bug against search?
*** Bug 202357 has been marked as a duplicate of this bug. ***</WithOutStack>
  </Bug>
  <Bug>
    <BugId amount="49115" />
    <CreationDate amount="2003-12-18 11:52:00 -0500" />
    <DupId amount="" />
    <classification amount="Eclipse" />
    <Product amount="JDT" />
    <component amount="Debug" />
    <Version amount="3.0" />
    <rep_platform amount="PC" />
    <op_sys amount="Windows 2000" />
    <priority amount="P3" />
    <bug_severity amount="enhancement" />
    <Summery>Cleanup on VMDisconnectException</Summery>
    <Patches amount="0" />
    <Stacktraces amount="0" />
    <SourceCodeRegions amount="1">
      <source_code type="functiondef">
        <location start="4291" end="4356" />
        <code>try { jdi stuff } catch (RuntimeException e) { requestFailed(e) }</code>
      </source_code>
    </SourceCodeRegions>
    <Enumerations amount="2">
      <Enumeration lines="12">
        <Lines>
          <Line>1. we cannot use JDIDebugElement.disconnected() to do clean up, because the</Line>
          <Line>packet manager (where the exception occured) does not know about elements per</Line>
          <Line>se.</Line>
          <Line>2. the best we could maybe is to push a command or reply packet onto the queue</Line>
          <Line>of remaining packets to be consumed after a disconnect</Line>
          <Line>3. by the time the exception is thrown the VM is already disconnected, so more</Line>
          <Line>processing (adding on packets) will typically not happen, as packet processing</Line>
          <Line>is contained within while(!VM.isDIsconnected()) blocks.</Line>
          <Line>4. I tried in vain to reproduce this exception, but could not exactly as</Line>
          <Line>described. I could not get it to fail in any unexpected manner even when</Line>
          <Line>pounding the VM with requests to show the values of a 100000 value array of</Line>
          <Line>strings, and then terminating it half way through.</Line>
        </Lines>
      </Enumeration>
      <Enumeration lines="7">
        <Lines>
          <Line>- I started a runtime workbench on an existing workspace.</Line>
          <Line>- The progress indicator was moving, I double-clicked on it</Line>
          <Line>- There was an item showing progress, something like "Searching for markers in</Line>
          <Line>task view"</Line>
          <Line>- The UI then became unresponsive.  The debugger showed the main thread was</Line>
          <Line>waiting for a modal context thread to end, but there was no modal context thread.</Line>
          <Line>- The runnable in the modal context thread was "IDEWorkbenchAdvisor$6"</Line>
        </Lines>
      </Enumeration>
    </Enumerations>
    <bug_status amount="VERIFIED" />
    <resolution amount="FIXED" />
    <WithStack>I20031218 0955

- I started a runtime workbench on an existing workspace.
- The progress indicator was moving, I double-clicked on it
- There was an item showing progress, something like "Searching for markers in
task view"
- The UI then became unresponsive.  The debugger showed the main thread was
waiting for a modal context thread to end, but there was no modal context thread.
- The runnable in the modal context thread was "IDEWorkbenchAdvisor$6"

I had to terminate the VM at this point.  Somehow the ModalContextThread must
have exited without changing "continueEventDispatching" to false.



	System Thread [Finalizer] (Suspended)
	System Thread [Reference Handler] (Suspended)
	Thread [main] (Suspended)
		Display.sleep() line: 2608
		ModalContext$ModalContextThread.block() line: 137
		ModalContext.run(IRunnableWithProgress, boolean, IProgressMonitor, Display)
line: 261
		ApplicationWindow$1.run() line: 550
		BusyIndicator.showWhile(Display, Runnable) line: 84
		WorkbenchWindow(ApplicationWindow).run(boolean, boolean,
IRunnableWithProgress) line: 547
		WorkbenchWindow.run(boolean, boolean, IRunnableWithProgress) line: 1595
		IDEWorkbenchAdvisor.enableAutoBuild() line: 544
		IDEWorkbenchAdvisor.postStartup() line: 257
		Workbench.runUI() line: 1466
		Workbench.createAndRunWorkbench(Display, WorkbenchAdvisor) line: 246
		PlatformUI.createAndRunWorkbench(Display, WorkbenchAdvisor) line: 139
		IDEApplication.run(Object) line: 47
		PlatformActivator$1.run() line: 233
		EclipseStarter.run(String[], Runnable) line: 85
		NativeMethodAccessorImpl.invoke0(Method, Object, Object[]) line: not available
[native method]
		NativeMethodAccessorImpl.invoke(Object, Object[]) line: 39
		DelegatingMethodAccessorImpl.invoke(Object, Object[]) line: 25
		Method.invoke(Object, Object[]) line: 324
		Main.basicRun(String[]) line: 281
		Main.run(String[]) line: 744
		Main.main(String[]) line: 583
	System Thread [Signal Dispatcher] (Suspended)
	Thread [Framework Event Dispatcher] (Suspended)
		
	Thread [Start Level Event Dispatcher] (Suspended)
It seems the VM and the debugger were having problems communicating - perhaps
the view wasn't showing accurate contents.  I will attach my log file... this is
probably, if anything, a debugger bug.

I realize that I had a breakpoint set in the thread that the main thread was
waiting for.  I suspect the ModalContextThread was waiting on this breakpoint,
but the thread just wasn't appearing in the UI.  Moving to JDT debug...
Created attachment 7231
Log file showing VM/debugger errors
It looks like the VM unexpectedly disconnected/terminated in this case. We 
should probably handle disconnections better. We rely on getting a disconnect 
event, but we should probably just clean up when we get a disconnect 
exception. I'm going to file this as a new feature request to perform 
cleanup/disconnect when we get a VMDisconnectedException. Curretly, the UI 
makes it look like the debugger/target is still active.
*** Bug 49152 has been marked as a duplicate of this bug. ***
Nothing planned for 3.0
This is handled slightly better in 3.1, but can still be improved. Where ever 
we catch/hanldle a VM disconnect exception, we should call 
JDIDebugElement.disconnected() which will schedule a clean up job with the 
target if the vm disconnect event is not received.
I have been investigating this problem and have found a few interesting things.

1. we cannot use JDIDebugElement.disconnected() to do clean up, because the 
packet manager (where the exception occured) does not know about elements per 
se.
2. the best we could maybe is to push a command or reply packet onto the queue 
of remaining packets to be consumed after a disconnect
3. by the time the exception is thrown the VM is already disconnected, so more 
processing (adding on packets) will typically not happen, as packet processing 
is contained within while(!VM.isDIsconnected()) blocks.
4. I tried in vain to reproduce this exception, but could not exactly as 
described. I could not get it to fail in any unexpected manner even when 
pounding the VM with requests to show the values of a 100000 value array of 
strings, and then terminating it half way through.


Michael, what about this approach...

Our code style for catching JDI exceptions usually does this:

try { jdi stuff } catch (RuntimeException e) { requestFailed(e) }

In JDIDebugElement.requestFailed(...), if the exception is a disconnect, we 
can call the disconnected method to cleanup?
Created attachment 29431
patch (maybe)

Ok, that is a very good suggestion.
I placed some code in JDIDebugElement to handle that case, as well as some
"cleanup" code in PacketSendManager and PacketReceiveManager to do some clean
up on interrrupted exceptions (instead of just IOExceptions).

I have not been able to reproduce the original error in any way with this
patch, but that of course does not mean with 100% certainty that it is fixed
:).
I used variations of two test cases to test the patch:

1. create a very large array of strings. Set a breakpoint somewhere after the
array has been filled. force the debugger to request a lot of the values from
the array (forcing a lot of pending requests). use task manager to kill the
remote VM, forcing a disconnect via an IOException.

2. do roughly the same as above but this time use a firewall to cut the
connection, don't kill the remote VM.
please verify Kevin.
Released patch to async_viewer_branch_2 branch.
Won't mark as FIXED until the branch get merged inton HEAD
released to HEAD
verified</WithStack>
    <WithOutStack>I20031218 0955

- I started a runtime workbench on an existing workspace.
- The progress indicator was moving, I double-clicked on it
- There was an item showing progress, something like "Searching for markers in
task view"
- The UI then became unresponsive.  The debugger showed the main thread was
waiting for a modal context thread to end, but there was no modal context thread.
- The runnable in the modal context thread was "IDEWorkbenchAdvisor$6"

I had to terminate the VM at this point.  Somehow the ModalContextThread must
have exited without changing "continueEventDispatching" to false.



	System Thread [Finalizer] (Suspended)
	System Thread [Reference Handler] (Suspended)
	Thread [main] (Suspended)
		Display.sleep() line: 2608
		ModalContext$ModalContextThread.block() line: 137
		ModalContext.run(IRunnableWithProgress, boolean, IProgressMonitor, Display)
line: 261
		ApplicationWindow$1.run() line: 550
		BusyIndicator.showWhile(Display, Runnable) line: 84
		WorkbenchWindow(ApplicationWindow).run(boolean, boolean,
IRunnableWithProgress) line: 547
		WorkbenchWindow.run(boolean, boolean, IRunnableWithProgress) line: 1595
		IDEWorkbenchAdvisor.enableAutoBuild() line: 544
		IDEWorkbenchAdvisor.postStartup() line: 257
		Workbench.runUI() line: 1466
		Workbench.createAndRunWorkbench(Display, WorkbenchAdvisor) line: 246
		PlatformUI.createAndRunWorkbench(Display, WorkbenchAdvisor) line: 139
		IDEApplication.run(Object) line: 47
		PlatformActivator$1.run() line: 233
		EclipseStarter.run(String[], Runnable) line: 85
		NativeMethodAccessorImpl.invoke0(Method, Object, Object[]) line: not available
[native method]
		NativeMethodAccessorImpl.invoke(Object, Object[]) line: 39
		DelegatingMethodAccessorImpl.invoke(Object, Object[]) line: 25
		Method.invoke(Object, Object[]) line: 324
		Main.basicRun(String[]) line: 281
		Main.run(String[]) line: 744
		Main.main(String[]) line: 583
	System Thread [Signal Dispatcher] (Suspended)
	Thread [Framework Event Dispatcher] (Suspended)
		
	Thread [Start Level Event Dispatcher] (Suspended)
It seems the VM and the debugger were having problems communicating - perhaps
the view wasn't showing accurate contents.  I will attach my log file... this is
probably, if anything, a debugger bug.

I realize that I had a breakpoint set in the thread that the main thread was
waiting for.  I suspect the ModalContextThread was waiting on this breakpoint,
but the thread just wasn't appearing in the UI.  Moving to JDT debug...
Created attachment 7231
Log file showing VM/debugger errors
It looks like the VM unexpectedly disconnected/terminated in this case. We 
should probably handle disconnections better. We rely on getting a disconnect 
event, but we should probably just clean up when we get a disconnect 
exception. I'm going to file this as a new feature request to perform 
cleanup/disconnect when we get a VMDisconnectedException. Curretly, the UI 
makes it look like the debugger/target is still active.
*** Bug 49152 has been marked as a duplicate of this bug. ***
Nothing planned for 3.0
This is handled slightly better in 3.1, but can still be improved. Where ever 
we catch/hanldle a VM disconnect exception, we should call 
JDIDebugElement.disconnected() which will schedule a clean up job with the 
target if the vm disconnect event is not received.
I have been investigating this problem and have found a few interesting things.

1. we cannot use JDIDebugElement.disconnected() to do clean up, because the 
packet manager (where the exception occured) does not know about elements per 
se.
2. the best we could maybe is to push a command or reply packet onto the queue 
of remaining packets to be consumed after a disconnect
3. by the time the exception is thrown the VM is already disconnected, so more 
processing (adding on packets) will typically not happen, as packet processing 
is contained within while(!VM.isDIsconnected()) blocks.
4. I tried in vain to reproduce this exception, but could not exactly as 
described. I could not get it to fail in any unexpected manner even when 
pounding the VM with requests to show the values of a 100000 value array of 
strings, and then terminating it half way through.


Michael, what about this approach...

Our code style for catching JDI exceptions usually does this:

try { jdi stuff } catch (RuntimeException e) { requestFailed(e) }

In JDIDebugElement.requestFailed(...), if the exception is a disconnect, we 
can call the disconnected method to cleanup?
Created attachment 29431
patch (maybe)

Ok, that is a very good suggestion.
I placed some code in JDIDebugElement to handle that case, as well as some
"cleanup" code in PacketSendManager and PacketReceiveManager to do some clean
up on interrrupted exceptions (instead of just IOExceptions).

I have not been able to reproduce the original error in any way with this
patch, but that of course does not mean with 100% certainty that it is fixed
:).
I used variations of two test cases to test the patch:

1. create a very large array of strings. Set a breakpoint somewhere after the
array has been filled. force the debugger to request a lot of the values from
the array (forcing a lot of pending requests). use task manager to kill the
remote VM, forcing a disconnect via an IOException.

2. do roughly the same as above but this time use a firewall to cut the
connection, don't kill the remote VM.
please verify Kevin.
Released patch to async_viewer_branch_2 branch.
Won't mark as FIXED until the branch get merged inton HEAD
released to HEAD
verified</WithOutStack>
  </Bug>
  <Bug>
    <BugId amount="49116" />
    <CreationDate amount="2003-12-18 11:55:00 -0500" />
    <DupId amount="" />
    <classification amount="Eclipse" />
    <Product amount="Platform" />
    <component amount="UI" />
    <Version amount="3.0" />
    <rep_platform amount="PC" />
    <op_sys amount="Windows 2000" />
    <priority amount="P3" />
    <bug_severity amount="normal" />
    <Summery>[Workbench] Two debug views</Summery>
    <Patches amount="0" />
    <Stacktraces amount="0" />
    <SourceCodeRegions amount="0" />
    <Enumerations amount="1">
      <Enumeration lines="5">
        <Lines>
          <Line>- Shutdown workbench with the debug perspective open, but not as the active</Line>
          <Line>perspective.</Line>
          <Line>- Restart</Line>
          <Line>- Launch a program in debug mode (with option turned on to automatically switch</Line>
          <Line>to debug mode on launch).</Line>
        </Lines>
      </Enumeration>
    </Enumerations>
    <bug_status amount="RESOLVED" />
    <resolution amount="WORKSFORME" />
    <WithStack>I20031218 0955

I got into a state where there were two debug views tiled together (see attached
image).

When I closed one debug view, the other tab remained, but the view content area
was blank.  I then moved another view into the group (console view).  When I
closed the console view, the remaining debug view was back to normal (showing
usual contents in content area).
Created attachment 7230
JPG showing window with two debug views.
John did you have an exception happening at the time? I am wondering if it is 
related to your other problem.
Yes, it initially happened at the same time as bug 49115.  However, there is
still some weirdness with the debug view presentation after I shut down and
restart. This is reproducible, so you're welcome to come by and take a look.
Created attachment 7235
Blank debug view (reproducible)
This seems to be fairly easy to reproduce in 3.0 M6:

 - Shutdown workbench with the debug perspective open, but not as the active
perspective.
 - Restart
 - Launch a program in debug mode (with option turned on to automatically switch
to debug mode on launch).

-&gt; The window switches to debug perspective, but debug view is blank (just like
picture in comment #4). Workaround is to tile another view on top of the debug
view, then move it again to reveal the normal debug view.
We did a bit of archeology on my workspace.  It looks like the phantom debug
view was persisted in my workbench.xml:

&lt;folder activePageID="org.eclipse.debug.ui.DebugView"&gt;
&lt;page content="org.eclipse.debug.ui.DebugView" label="Debug"/&gt;
&lt;page content="org.eclipse.ui.views.ResourceNavigator" label="Navigator"/&gt;
&lt;page content="org.eclipse.jdt.ui.PackageExplorer" label="Package Explorer"/&gt;
&lt;page content="org.eclipse.jdt.ui.TypeHierarchy" label="Hierarchy"/&gt;
&lt;page content="org.eclipse.debug.ui.DebugView" label="Debug"/&gt;
&lt;/folder&gt;

Note that the debug view is in the folder twice.  Essentially it looks like some
error occurred that got my workbench into this state, and the bogusness was
persisted in workbench.xml so I continue to get the phantom view every session.
 When I manually remove this duplicate page from workbench.xml, things are back
to normal.
Created attachment 7465
Workbench.xml file that persisted the error
I think this is now obsolete</WithStack>
    <WithOutStack>I20031218 0955

I got into a state where there were two debug views tiled together (see attached
image).

When I closed one debug view, the other tab remained, but the view content area
was blank.  I then moved another view into the group (console view).  When I
closed the console view, the remaining debug view was back to normal (showing
usual contents in content area).
Created attachment 7230
JPG showing window with two debug views.
John did you have an exception happening at the time? I am wondering if it is 
related to your other problem.
Yes, it initially happened at the same time as bug 49115.  However, there is
still some weirdness with the debug view presentation after I shut down and
restart. This is reproducible, so you're welcome to come by and take a look.
Created attachment 7235
Blank debug view (reproducible)
This seems to be fairly easy to reproduce in 3.0 M6:

 - Shutdown workbench with the debug perspective open, but not as the active
perspective.
 - Restart
 - Launch a program in debug mode (with option turned on to automatically switch
to debug mode on launch).

-&gt; The window switches to debug perspective, but debug view is blank (just like
picture in comment #4). Workaround is to tile another view on top of the debug
view, then move it again to reveal the normal debug view.
We did a bit of archeology on my workspace.  It looks like the phantom debug
view was persisted in my workbench.xml:

&lt;folder activePageID="org.eclipse.debug.ui.DebugView"&gt;
&lt;page content="org.eclipse.debug.ui.DebugView" label="Debug"/&gt;
&lt;page content="org.eclipse.ui.views.ResourceNavigator" label="Navigator"/&gt;
&lt;page content="org.eclipse.jdt.ui.PackageExplorer" label="Package Explorer"/&gt;
&lt;page content="org.eclipse.jdt.ui.TypeHierarchy" label="Hierarchy"/&gt;
&lt;page content="org.eclipse.debug.ui.DebugView" label="Debug"/&gt;
&lt;/folder&gt;

Note that the debug view is in the folder twice.  Essentially it looks like some
error occurred that got my workbench into this state, and the bogusness was
persisted in workbench.xml so I continue to get the phantom view every session.
 When I manually remove this duplicate page from workbench.xml, things are back
to normal.
Created attachment 7465
Workbench.xml file that persisted the error
I think this is now obsolete</WithOutStack>
  </Bug>
  <Bug>
    <BugId amount="49117" />
    <CreationDate amount="2003-12-18 11:56:00 -0500" />
    <DupId amount="" />
    <classification amount="Eclipse" />
    <Product amount="Platform" />
    <component amount="UI" />
    <Version amount="3.0" />
    <rep_platform amount="PC" />
    <op_sys amount="Windows XP" />
    <priority amount="P3" />
    <bug_severity amount="normal" />
    <Summery>[Plan Item] Workbench needs hooks for new welcome support</Summery>
    <Patches amount="0" />
    <Stacktraces amount="0" />
    <SourceCodeRegions amount="35">
      <source_code type="multicomment">
        <location start="1291" end="1543" />
        <code>/**
    * Controls the intro area mode.
    * @param active if true, the intro area will be fully visible. Otherwise, 
it 
    * will go into standby mode and only be partially visible to allow users 
quick
    * return to the starting point.
    */</code>
      </source_code>
      <source_code type="functioncall">
        <location start="1544" end="1578" />
        <code>void setActive(boolean active);</code>
      </source_code>
      <source_code type="multicomment">
        <location start="1579" end="1675" />
        <code>/**
    * Returns true if the intro area is active, false if it is in stand-by 
mode.
    */</code>
      </source_code>
      <source_code type="functioncall">
        <location start="1676" end="1698" />
        <code>boolean isActive();</code>
      </source_code>
      <source_code type="multicomment">
        <location start="1699" end="1795" />
        <code>/**
    * Closes the intro area and allows the last active perspective to take 
over.
    */</code>
      </source_code>
      <source_code type="functioncall">
        <location start="1796" end="1812" />
        <code>void close();</code>
      </source_code>
      <source_code type="multicomment">
        <location start="1813" end="1875" />
        <code>/**
    * Returns the intro area's enclosing shell.
    */</code>
      </source_code>
      <source_code type="functioncall">
        <location start="1876" end="1896" />
        <code>Shell getShell();</code>
      </source_code>
      <source_code type="multicomment">
        <location start="1897" end="2062" />
        <code>/**
    * Returns intro area action bars in case the intro part needs to contribute
    * actions to menu, tool bar or status bar of the enclosing window.
    */</code>
      </source_code>
      <source_code type="functioncall">
        <location start="2063" end="2094" />
        <code>IActionBars getActionBars();</code>
      </source_code>
      <source_code type="multicomment">
        <location start="2661" end="2756" />
        <code>/**
    * Primes the part with the intro area object immediately after the 
creation.
    */</code>
      </source_code>
      <source_code type="functioncall">
        <location start="2757" end="2787" />
        <code>void init(IIntroArea area);</code>
      </source_code>
      <source_code type="multicomment">
        <location start="2788" end="2879" />
        <code>/**
    * Returns the intro area the part was provided during initialization.
    */</code>
      </source_code>
      <source_code type="functioncall">
        <location start="2880" end="2909" />
        <code>IIntroArea getIntroArea();</code>
      </source_code>
      <source_code type="multicomment">
        <location start="2910" end="3070" />
        <code>/**
    * Creates the contents of the intro area in the provided container. It 
should
    * also set the layout manager to be used in the container.
    */</code>
      </source_code>
      <source_code type="functioncall">
        <location start="3071" end="3115" />
        <code>void createContents(Composite container);</code>
      </source_code>
      <source_code type="multicomment">
        <location start="3116" end="3293" />
        <code>/**
    * Notifies the part that the intro area has been activated or put on 
standby.
    * Intro part should render itself differently in the full and standby mode.
    */</code>
      </source_code>
      <source_code type="functioncall">
        <location start="3294" end="3323" />
        <code>void activeStateChanged();</code>
      </source_code>
      <source_code type="multicomment">
        <location start="3324" end="3391" />
        <code>/**
    * Disposes of any resources created in the part.
    */</code>
      </source_code>
      <source_code type="functioncall">
        <location start="3392" end="3410" />
        <code>void dispose();</code>
      </source_code>
      <source_code type="multicomment">
        <location start="3411" end="3679" />
        <code>/**
    * Returns true if the part is capable of rendering itself correctly, false
    * otherwise. Created part that returns false will cause the platform to
    * drop the intro and continue with the startup as if it didn't find
    * the extension at all.
    */</code>
      </source_code>
      <source_code type="functioncall">
        <location start="3680" end="3705" />
        <code>boolean isAvailable();</code>
      </source_code>
      <source_code type="multicomment">
        <location start="10713" end="10867" />
        <code>/**
	 * Close the intro part, if one is open.
	 * &lt;p&gt;
	 * &lt;em&gt;EXPERIMENTAL&lt;/em&gt;
	 * 
	 * @return whether the intro part was closed.
	 * @since 3.0
	 */</code>
      </source_code>
      <source_code type="multicomment">
        <location start="10915" end="11110" />
        <code>/**
	 * Return the &lt;code&gt;IIntroPart&lt;/code&gt; for this &lt;code&gt;IWorkbench&lt;/code&gt;, if any.
	 * &lt;p&gt;
	 * &lt;em&gt;EXPERIMENTAL&lt;/em&gt;
	 *  
	 * @return the &lt;code&gt;IIntroPart&lt;/code&gt;, if any.
	 * @since 3.0
	 */</code>
      </source_code>
      <source_code type="functioncall">
        <location start="11111" end="11142" />
        <code>public IIntroPart findIntro();</code>
      </source_code>
      <source_code type="multicomment">
        <location start="11143" end="11474" />
        <code>/**
	 * Show the intro part in the preferred window.  If the intro part is currently
being shown in 
	 * another window, make it the active window.
	 * &lt;p&gt;
	 * &lt;em&gt;EXPERIMENTAL&lt;/em&gt;
	 * 
	 * @param preferredWindow the preferred &lt;code&gt;IWorkbenchWindow&lt;/code&gt;.
	 * @return the intro part, if one was available.
	 * @since 3.0
	 */</code>
      </source_code>
      <source_code type="functioncall">
        <location start="11475" end="11538" />
        <code>public IIntroPart showIntro(IWorkbenchWindow preferredWindow);</code>
      </source_code>
      <source_code type="multicomment">
        <location start="11539" end="11886" />
        <code>/**
	 * Controls the intro site mode.
	 * &lt;p&gt;
	 * &lt;em&gt;EXPERIMENTAL&lt;/em&gt;
	 * 
	 * @param part the &lt;code&gt;IIntroPart&lt;/code&gt; to set.
	 * @param standby if &lt;code&gt;false&lt;/code&gt;, the intro area will be fully visible. 
	 * Otherwise, it will go into standby mode and only be partially visible to 
	 * allow users quick return to the starting point.
	 */</code>
      </source_code>
      <source_code type="functioncall">
        <location start="11888" end="11951" />
        <code>public void setIntroStandby(IIntroPart part, boolean standby);</code>
      </source_code>
      <source_code type="multicomment">
        <location start="11952" end="12214" />
        <code>/**
	 * Returns &lt;code&gt;false&lt;/code&gt; if the intro part is full screen, 
	 * &lt;code&gt;true&lt;/code&gt; if it is in stand-by mode.
	 * &lt;p&gt;
	 * &lt;em&gt;EXPERIMENTAL&lt;/em&gt;
	 * 
	 * @param part the &lt;code&gt;IIntroPart&lt;/code&gt; to test.
	 * @return the activity state of the area.
	 */</code>
      </source_code>
      <source_code type="functioncall">
        <location start="21123" end="21200" />
        <code>public void init(IIntroSite site, IMemento memento) throws PartInitException;</code>
      </source_code>
      <source_code type="functioncall">
        <location start="21201" end="21241" />
        <code>public void saveState(IMemento memento);</code>
      </source_code>
      <source_code type="functioncall">
        <location start="22517" end="22579" />
        <code>public void setIntroStandby(IIntroPart part, boolean standby);</code>
      </source_code>
      <source_code type="functioncall">
        <location start="22580" end="22621" />
        <code>boolean isIntrolStandby(IIntroPart part);</code>
      </source_code>
      <source_code type="functioncall">
        <location start="22622" end="22665" />
        <code>public boolean closeIntro(IIntroPart part);</code>
      </source_code>
    </SourceCodeRegions>
    <Enumerations amount="4">
      <Enumeration lines="8">
        <Lines>
          <Line>1) Fill whole screen</Line>
          <Line>2) Collapsed on the right when the user selects something and starts working</Line>
          <Line>3) Disables when it is no longer of any use</Line>
          <Line>Adding Nick for RCP perspective.</Line>
          <Line>Adding Michael for New Look perspective. I suggested to Dejan that the initial</Line>
          <Line>work be done in the New Look stream if we think we might be able to make this</Line>
          <Line>real for mid January.</Line>
          <Line>Copied from a note:</Line>
        </Lines>
      </Enumeration>
      <Enumeration lines="11">
        <Lines>
          <Line>1) I like the suggestion - IIntroSite it is :-)</Line>
          <Line />
          <Line>2) The scenario you are talking about is real but not very likely. For</Line>
          <Line>simplicity, we could simply do it on a per-window basis, which means that you</Line>
          <Line>can end up with two intro sites if you have two windows. The intro site will</Line>
          <Line>show up on the first start up only and if you expicitly open it</Line>
          <Line>using 'Window&gt;Show Intro' so I don't think we will get into this situation</Line>
          <Line>that often.</Line>
          <Line>For 2), just to clarify, are you saying that if you open a new window that the</Line>
          <Line>intro area will -not- be visible, even if it was visible in the first window?</Line>
          <Line>Note that many Eclipse developers use multiple windows.</Line>
        </Lines>
      </Enumeration>
      <Enumeration lines="9">
        <Lines>
          <Line>- If 'intro' extension is not found, the startup continues with the startup as</Line>
          <Line>today i.e. 'Welcome' editor is opened.</Line>
          <Line>- If 'intro' extension is found, intro area is shown. Even if there</Line>
          <Line>is 'welcome' content in the product, it is ignored (i.e. 'Welcome' editor is</Line>
          <Line>NOT opened).</Line>
          <Line>- If 'intro' extension is found, 'Help&gt;Welcome...' menu item is NOT shown.</Line>
          <Line>Instead, 'Help&gt;Show Intro' menu item is available.</Line>
          <Line>Created attachment 7352</Line>
          <Line>Intro extension point schema</Line>
        </Lines>
      </Enumeration>
      <Enumeration lines="8">
        <Lines>
          <Line>- We keep the intro as a wrapper to a view.  This view may exist at most in one</Line>
          <Line>workbench page in the workbench.</Line>
          <Line>- When this view is maximized (intro not in standby state), we strip off as</Line>
          <Line>much of the menu/toolbar as possible.  The view title bar could be dropped as</Line>
          <Line>well if Bug 5684 is resolved.</Line>
          <Line>- we will hardcode a default placeholder for the 'standby' intro view that will</Line>
          <Line>place it at the far right of the screen (or wherever consensus/armwrestling</Line>
          <Line>determines it best to go).</Line>
        </Lines>
      </Enumeration>
    </Enumerations>
    <bug_status amount="CLOSED" />
    <resolution amount="FIXED" />
    <WithStack>M6

We need to provide an extension point and some interfaces to allow for a 
primary feature to declare a welcome page.

This extension point will be tied the new IProduct being defined by the Core 
team and needs to have 3 states

1) Fill whole screen
2) Collapsed on the right when the user selects something and starts working
3) Disables when it is no longer of any use
Adding Nick for RCP perspective.
Adding Michael for New Look perspective. I suggested to Dejan that the initial 
work be done in the New Look stream if we think we might be able to make this 
real for mid January.
Copied from a note:

* Extension point 'org.eclipse.ui.intro' defined as specified in the attached 
extension point schema file. You are free to change the ids/package 
names/class names if required to fit into the current platform UI naming 
conventions. Note however that the extension point and the two interfaces are 
expected to be part of the low-level RCP layer i.e. not optional. The concrete 
implementations of the IIntroPart that provide progressively richer support 
for initial experience will be in the optional RCP plug-
in 'org.eclipse.ui.intro' that OOBE dynamic team is working on separately.

* Interface 'org.eclipse.ui.intro.IIntroArea' defined as follows:

interface IIntroArea {
   /**
    * Controls the intro area mode.
    * @param active if true, the intro area will be fully visible. Otherwise, 
it 
    * will go into standby mode and only be partially visible to allow users 
quick
    * return to the starting point.
    */
   void setActive(boolean active);

   /**
    * Returns true if the intro area is active, false if it is in stand-by 
mode.
    */
   boolean isActive();

   /**
    * Closes the intro area and allows the last active perspective to take 
over.
    */
   void close();

   /**
    * Returns the intro area's enclosing shell.
    */
   Shell getShell();

   /**
    * Returns intro area action bars in case the intro part needs to contribute
    * actions to menu, tool bar or status bar of the enclosing window.
    */
   IActionBars getActionBars();
} 

You (platform UI) are responsible for implementing the interface so that it 
behaves as expected. The implementing class is internal (not API). If 
extension that plugs into the intro extension point is detected, IIntroArea 
object is created and layed out so that it takes over the entire main window 
client area. After that, an object that 
implements 'org.eclipse.ui.intro.IIntroPart' is created from the extension and 
it is allowed to create contents in the composite claimed by the intro area. 
The interface should be as follows:

interface IIntroPart {
   /**
    * Primes the part with the intro area object immediately after the 
creation.
    */
   void init(IIntroArea area);
   
   /**
    * Returns the intro area the part was provided during initialization.
    */
   IIntroArea getIntroArea();

   /**
    * Creates the contents of the intro area in the provided container. It 
should
    * also set the layout manager to be used in the container.
    */
   void createContents(Composite container);

   /**
    * Notifies the part that the intro area has been activated or put on 
standby.
    * Intro part should render itself differently in the full and standby mode.
    */
   void activeStateChanged();

   /**
    * Disposes of any resources created in the part.
    */
   void dispose();

  /**
    * Returns true if the part is capable of rendering itself correctly, false
    * otherwise. Created part that returns false will cause the platform to
    * drop the intro and continue with the startup as if it didn't find
    * the extension at all.
    */
   boolean isAvailable();
}

The expected flow on startup:

- After the main window has been created and initialized, but before the 
active perspective is shown, extension point 'org.eclipse.ui.intro' is looked 
up.

- If found, IIntroArea object is created and made to consume most of the 
usable window area. Status line and tool bars may still exist, but should be 
empty of anything that can distract the user (e.g. 'Run' button).
IIntroPart is created from the extension and allowed to create the contents in 
the provided parent.

- When 'setActive(false)' is called on IIntroArea, the area should be 
collapsed into a narrow area near one of the edges of the window (right edge 
by default). The rest of the client area should be taken over by the active 
perspective. Menus and tool bars should be updated according to the active 
perspective.

- When 'setActive(true)' is called on IIntroArea, the window area should again 
be fully consumed by IIntroArea. Action bars should be updated so that 
anything that does not apply to the intro is removed.

- When 'close()' is called on IIntroArea, the are should be disposed. It 
should in turn call 'dispose' on the IIntroPart. The entire client area should 
be consumed by the active perspective.

- In addition to calling 'close()' programmatically, IIntroArea can be 
explicitly closed by the user regardless of the mode (active/stand-by) using 
the UI 'close' button (rendered according to the new look).

- The intro area can be created and moved into the active state again 
using 'Help&gt;Show Intro' menu item.

- The state of the intro area should be persisted. If the user closes the 
workbench when IIntroArea is active or in stand-by mode, it should be restored 
into that mode on subsequent startup.

Interaction with 'welcome' content:

- If 'intro' extension is not found, the startup continues with the startup as 
today i.e. 'Welcome' editor is opened.
- If 'intro' extension is found, intro area is shown. Even if there 
is 'welcome' content in the product, it is ignored (i.e. 'Welcome' editor is 
NOT opened).
- If 'intro' extension is found, 'Help&gt;Welcome...' menu item is NOT shown. 
Instead, 'Help&gt;Show Intro' menu item is available.
Created attachment 7352
Intro extension point schema

PDE extension point schema file for 'org.eclipse.ui.intro' extension point.
A couple of points:
- Suggest using IIntroSite rather than IIntroArea for API consistency.  
IIntroPart.getIntroArea() would be renamed to simply getSite().
The intent with site objects is that they provide all needed context and 
services to the contained part.  The fact that there actually is a visible area 
of the workbench window devoted to the site is not that interesting as far as 
the part is concerned (same as workbench parts, which are given a site, but 
don't have access to the pane).

- How is this intended to play in the presence of multiple workbench windows?  
If you create a new window from one with an intro area, should it also get an 
intro area (presumably in the same mode), or not?

1) I like the suggestion - IIntroSite it is :-)

2) The scenario you are talking about is real but not very likely. For 
simplicity, we could simply do it on a per-window basis, which means that you 
can end up with two intro sites if you have two windows. The intro site will 
show up on the first start up only and if you expicitly open it 
using 'Window&gt;Show Intro' so I don't think we will get into this situation 
that often.
For 2), just to clarify, are you saying that if you open a new window that the 
intro area will -not- be visible, even if it was visible in the first window?
Note that many Eclipse developers use multiple windows.

Nick, I don't know about the details re multiple windows. I just played with 
Eclipse and noticed that if I have 'Welcome' editor opened in the first 
window, and created a new one, 'Welcome' was not opened in the second i.e. 
opened editors were not cloned in the new window (the perspective did, 
though). Therefore, I would say that automatic opening of the 'Intro' site is 
related to Eclipse startup and not Window startup. However, I should be able 
to open intro site in the second window by explicitly selecting 'Window&gt;Show 
Intro'. 

We may tweak/refine the behaviour as we go along.
Nick, dejan, 
Im one of those developers that *always* has two windows open ! :-) so I'll 
just quickly use perspective switching as an analogy and then comment on the 
OOBE switching/multiple windows. 
In the two windows I use, one window is only for the package view and editors 
(ie: java development) and the other window is for CVS and debuging. I develop 
and compile in one, and I run/debug/CVS in the other. One of the things that I 
dont like about perspective behavior is that for some reason when the Debug 
perspective (for example) is not the active perspective in any window then 
when you run an application from the development window the debug perspective 
is opened in the same window that issued the run. However, if the debug 
perspective is active in the second window then that second window is simply 
put in focus. ie: perspective switching doesnt seem to be consistant. There 
may be a preference that I am missing, but the point is that if it is already 
opened by the user, he will not mind if you switch to it between windows. 
I know CVS has a perspective switching preference, but it does not work across 
windows. 

With that said, the intro site would be shown to the user when you first run a 
fresh Eclipse image. If he opens a new window, that would/should show the 
default perspective. Think of it as a window where he can play with eclipse 
while reading the OOBE. (I know we have the stand by mode for that, but some 
users will not want to loose context at all). Now if the user tries to open 
the OOBE in the second window (by going to some welcome menu), he should be 
switched to the first window that originally had the OOBE. ie: we only have 
one intro site open at any time. Even if the user puts the intro site into 
stand by mode in one window and goes and works in another, if he asks for OOBE 
we show him the first window. 

One may argue as to why you are not allowing for multiple OOBE windows, we can 
and it could be a preference (allow for multiple OOBE views) but I personally 
belive it is overkill. Think about it, Im a new user banging my head trying to 
read OOBE, will I open two windows AND read OOBE in two windows? 
Thats my two cents...  ;-) 

Mazen..
  





Come to think of it, I second Mazen's observations :-).
I've added the initial draft of the intro API (not implementation!) to
org.eclipse.ui.intro (to be moved to .ui when stable).  This should be available
in todays integration build for browsing.  I've taken several liberties with the
API you've requested and they are: 

* It's IIntroSite instead of IIntroArea and it inherits from IWorkbenchSite
* IIntroSite only contains getActionBars().  The missing methods are are
replaced by the following on IWorkbench:
	
	/**
	 * Close the intro part, if one is open.
	 * &lt;p&gt;
	 * &lt;em&gt;EXPERIMENTAL&lt;/em&gt;
	 * 
	 * @return whether the intro part was closed.
	 * @since 3.0
	 */	
	public boolean closeIntro(IIntroPart part);	

	/**
	 * Return the &lt;code&gt;IIntroPart&lt;/code&gt; for this &lt;code&gt;IWorkbench&lt;/code&gt;, if any.
	 * &lt;p&gt;
	 * &lt;em&gt;EXPERIMENTAL&lt;/em&gt;
	 *  
	 * @return the &lt;code&gt;IIntroPart&lt;/code&gt;, if any.
	 * @since 3.0
	 */
	public IIntroPart findIntro();
	
	/**
	 * Show the intro part in the preferred window.  If the intro part is currently
being shown in 
	 * another window, make it the active window.
	 * &lt;p&gt;
	 * &lt;em&gt;EXPERIMENTAL&lt;/em&gt;
	 * 
	 * @param preferredWindow the preferred &lt;code&gt;IWorkbenchWindow&lt;/code&gt;.
	 * @return the intro part, if one was available.
	 * @since 3.0
	 */
	public IIntroPart showIntro(IWorkbenchWindow preferredWindow);
	
	/**
	 * Controls the intro site mode.
	 * &lt;p&gt;
	 * &lt;em&gt;EXPERIMENTAL&lt;/em&gt;
	 * 
	 * @param part the &lt;code&gt;IIntroPart&lt;/code&gt; to set.
	 * @param standby if &lt;code&gt;false&lt;/code&gt;, the intro area will be fully visible. 
	 * Otherwise, it will go into standby mode and only be partially visible to 
	 * allow users quick return to the starting point.
	 */	
	public void setIntroStandby(IIntroPart part, boolean standby);
	
	/**
	 * Returns &lt;code&gt;false&lt;/code&gt; if the intro part is full screen, 
	 * &lt;code&gt;true&lt;/code&gt; if it is in stand-by mode.
	 * &lt;p&gt;
	 * &lt;em&gt;EXPERIMENTAL&lt;/em&gt;
	 * 
	 * @param part the &lt;code&gt;IIntroPart&lt;/code&gt; to test.
	 * @return the activity state of the area.
	 */
	boolean isIntrolStandby(IIntroPart part);	

This was done to be consistant with part activation/deactivation implemented on
Views and Editors (which is controlled from IWorkbenchPage, not the part site).
 I've gone with the idea expressed by Mazen that there is ever only one Intro
view in a workbench, irregardless of the number of windows.  If it's desired
that such a thing should be possible on every window, I'll move this down to
IWorkbenchPage.

* IIntroPart inherits from IWorkbenchPart.  As such, createContents() becomes
createPartControl().
* IIntroPart.isAvailable is gone.  Instead, a part may declare that it is
unsuitable for use by throwing a PartException in the init method.
* IIntroPart.activeStateChanged() becomes standbyStateChanged(boolean) - active
is such an overloaded word.

Comments?  Complaints?  Death threats?
no Death threats ! 
love it. :)
Just one point, and I may be jumping the gun here: if you treat the IIntroPart 
as an IWorkbenchPart, doesnt it make sense to treat the IIntroSite as an 
IWorkbenchPartSite? The reason I say this is that we might need the getId() 
and getPluginID methods at some point. There may be several IIntroParts 
defined in a given configuration, but only one will ever be picked, and so 
knowing the plugin ID of who contributed it maybe usefull one day. I may be 
jumping ahead here, these APIs are by no means final, but Im only trying to 
give heads up. I can only think of the plugin/ID methods as important. 
Allowing for pop external contributions to IIntroPart is overkill, so I dont 
believe we need contextMenu stuff. 
Just a thought. 

One way to approach this is to not predict (ie: ignore me) and when you do 
actually see similarities enough to put the hierarchy down, it can be done 
then. 
just FYI...

Mazen.  


 
no Death threats ! 
love it. :)
Just one point, and I may be jumping the gun here: if you treat the IIntroPart 
as an IWorkbenchPart, doesnt it make sense to treat the IIntroSite as an 
IWorkbenchPartSite? The reason I say this is that we might need the getId() 
and getPluginID methods at some point. There may be several IIntroParts 
defined in a given configuration, but only one will ever be picked, and so 
knowing the plugin ID of who contributed it maybe usefull one day. I may be 
jumping ahead here, these APIs are by no means final, but Im only trying to 
give heads up. I can only think of the plugin/ID methods as important. 
Allowing for pop external contributions to IIntroPart is overkill, so I dont 
believe we need contextMenu stuff. 
Just a thought. 

One way to approach this is to not predict (ie: ignore me) and when you do 
actually see similarities enough to put the hierarchy down, it can be done 
then. 
just FYI...

Mazen.  


 
Sorry for the duplicates ! 
One thing cought my attention: you said that you initially put the APIs in 
org.eclipse.ui.intro before moving it to org.eclipse.ui. DO you mean package 
or plug-in? We already have org.eclipse.ui.intro plug-in - the OOBE team is 
working on it in a separate repository. If this is package, please disregard.
Dejan:  I was referring to only to the package.

Mazen:  Irk!  You found me out!  I had actually intended it to be a derivative
of IWorkbenchPartSite.  I must've just typed it wrong.  Bad monkey Kim.  The
context menu stuff may be overkill, but it's consistant overkill.  I want to try
and keep this new intro API as close to the existing view/editor API as possible
until there is a compelling reason to do otherwise (which there very well may be).

To quote Nick from another bug "It's unclear that IIntroSite should extend
IWorkbenchSite since it doesn't really belong to a page or a window.  I'd keep
them separate for now, add what you need to IIntroSite, then look at refactoring
it under one of the existing site interfaces later."  I believe it does belong
to a page/window.  It just so happens that (at this time) only one such beast
can exist throughout the workbench... it still has a well defined host.
Kim,
I was going to use org.eclipse.ui.part.WorkbenchPart as my base class for an 
IIntroPart implementation, but I just realized that the docs say "do not 
subclass outside of package". Any reason for that? We can have our own base 
IIntoPart implementation in the OOBE plugin, but I can re-use some of this 
WorkbenchPart class. 
Also, for the Title, ToolTip and Image of this "special" part, are you 
thinking of giving the IIntroPart a title and an image? I believe whats 
currently on the table is to overtake most of the realestate of the UI for an 
IntroPart, so a title and an image, and tooltip is not necessary? 

any thoughts..?   

   
I will provide an abstract IntroPart that you can extend.  This will extend
WorkbenchPart, so feel free to use that for the time being.

I'm not sure about a title image and a tooltip, but a Title could be of use to
you - this could be applied to the window title in the case of the fullscreen
intro.  The case for all three is easier to make for the standby intro mode.
makes sense. 
thanks.
I've put together an implementation of the intro API that makes use of a special
View as as its backend implementation.  This view is special in that it is
filtered from the view menu and it can only be activated from the Help menu
(which in turn calls API methods on IWorkbench).  There is logic in this code to
ensure that only one instance of this view is ever present in the workbench. 
Any attempt to open it (via the intro API) in a different window/perspective
will only bring focus back to the original window/perspective. 
Maximizing/restoring the view will cause a standbyStateChange() events to be
fired and closing the view will of course dispose of the intro part.  No effort
is made to retain the state of the intro part between eclipse sessions.  You
will need to open it each time eclipse starts at present.

The view implementation is just a temporary measure to get you guys going.  With
any luck the real thing will be in place for M7.  

The above work should be checked in for tomorrows integration build pending any
problems with the new look code merge.
Created attachment 7482
Sample introduction project

Sample intro extension.  The IIntroPart simple displays the standby state and
offers a button to switch it.
Kim (Korne), I checked the latest integration build. The extension point is 
there and your sample intro works (somewhat), but:

1) IntroSite is not opened and maximized on first start
2) When opened from the 'Help' menu (Help&gt;Introduction), it should open into 
maximized state.

Both 1) and 2) are important if we are to make any impression at EclipseCon. 
Even if we maximize in scenario 2) and restart, intro site state is not 
persisted, so there is no workaround.
I'll try to have fixes for these in by the end of the day. 
It will also help (although it is not critical) if 'welcome' editor would not 
open if 'intro' was detected.
Do you want it to maximize when the Help action is fired, or only when the intro
is opened?  Ie:  if you use that action when the intro is visible and in standby
mode, do you want it to go out of standby?
The intro is now opened on first-time workbench startup (if present) and
supresses the Welcome editor.  Additionally, whenever the the intro is first
created it is created with standby == false.  

The effects of Help-&gt;Introduction depend on the current state of the intro.  If
it is open in any window, focus is returned to it but its standby state is not
changed.  If it has been closed, then it is reopened in the current window with
standby == false.
Kim, sorry for not replying promptly. The behaviour you described is spot on - 
that's exactly how we expected it.
No problemo - I just wanted to make sure some of the changes were in by the end
of the day.

If what's in HEAD is good for you for the time being then I'll continue with all
new work in the new look stream.
The more I think about it the more I think the view solution (with some
modification) is the way to go for this guy.  What I propose is the following:
 - We keep the intro as a wrapper to a view.  This view may exist at most in one
workbench page in the workbench.
 - When this view is maximized (intro not in standby state), we strip off as
much of the menu/toolbar as possible.  The view title bar could be dropped as
well if Bug 5684 is resolved.
 - we will hardcode a default placeholder for the 'standby' intro view that will
place it at the far right of the screen (or wherever consensus/armwrestling
determines it best to go).

Why do I want to go with the view solution?  At the end of the day this guy
really feels like a special view.  Introducing yet another part beast into the
UI code just doesn't seem justifiable if we can reuse what we already have in
place for views.  Objections?

Also, I'd like to add the following methods to the IIntroPart interface if there
aren't any objections:

public void init(IIntroSite site, IMemento memento) throws PartInitException;
public void saveState(IMemento memento);

This would be so that you can more easily serialize the state of the beast
between sessions.

As far as we are concerned, we should not care about the implementation as 
long as the behaviour is as required. We already have the expected life cycle; 
being able to strip off the menu/toolbar is also the required behaviour.

It is important that in the standby mode the view does not need to be added to 
each perspective i.e. it is there regadless of the perspective currently 
occupying the rest of the window. The view should also not show up anywhere in 
the menus other than 'Help&gt;Introduction'.
Kim,
the two new APIs are just fine. Come to think about it, we _can_ use the 
momento state info. So thanks. 
For the implementation as a view, like Dejan said, from our perspective, as 
long as the IIntroPart gets the correct end behavior/life cycle, then things 
are ok. 
BUT, just to be clear. If you do go with the view implementation, are you 
saying that this view will have a place holder in every page in any window. 
However, that place holder is smart to know that one and only one page in any 
window can have an IIntroPart in it?

Also, this brings me to my next question. We are assuming that only one 
IIntroPart instance will ever exist, so all these APIs:

public void setIntroStandby(IIntroPart part, boolean standby);
boolean isIntrolStandby(IIntroPart part);
public boolean closeIntro(IIntroPart part);

do not need to take IIntroPart as a parameter. thoughts?
Just being picky, thats all :) 
they work by the way. It tried with the 23 nightly build and they seem to be 
working.
so thanks...


Kim,
I just tried with the new look (23 nightly build) and the intro part did not 
come up in the resource perspective.
Are you aware of that?

The new look stream has not been merged with the HEAD stream since intro was
launched automatically on startup.  That feature should work in HEAD.

I left IIntroPart as an argument for the various IWorkbench methods so that
people couldn't use them without knowing whether there was in fact an intro in
the workbench (via findIntro()).  Also, it's consistant with other behaviour and
if in the end we make one intro per workbench window/page then the transition
will be easier.

As for the placeholder... every perspective would have a placeholder
automatically, but only ONE given window/perspective combination in a workbench
can be home to the intro at a given time.  This is already in place.
Kim, we will need the support to work in the 3.0 look branch as well so that 
we can start working on the Eclipse 3.0 content in context of the new look.
The relevant intro work has been merged into new look.  Please let me know if
you have any problems with it.
Kim,
just a technicality question. I download the latest nightly build and I switch 
the magic four jars with the "new look" jars to get the new look. 
So when you now say "The relevant intro work has been merged into new look.", 
does that mean that your code gets packaged into these new jars also nightly? 

I just wanna make sure I am trying the correct code base. I treat the plugin 
we are developing as a standalone entity and thats why I dont develop against 
any Eclipse CVS code. Just nightly builds.

 
no, we do not rebuild the newlook jars nightly, more like once a week (i.e. 
integration builds)

but we can rebuild if you need it
This thread is starting to get a little long in the tooth.  I'd like to have you
guys start reporting any bugs with the intro work to Platform/UI, ideally with
[Intro] in the summary and me as the owner.  We can leave this thread for
general discussion, which is what it's drifted to.
Support is in place. 
Closing.</WithStack>
    <WithOutStack>M6

We need to provide an extension point and some interfaces to allow for a 
primary feature to declare a welcome page.

This extension point will be tied the new IProduct being defined by the Core 
team and needs to have 3 states

1) Fill whole screen
2) Collapsed on the right when the user selects something and starts working
3) Disables when it is no longer of any use
Adding Nick for RCP perspective.
Adding Michael for New Look perspective. I suggested to Dejan that the initial 
work be done in the New Look stream if we think we might be able to make this 
real for mid January.
Copied from a note:

* Extension point 'org.eclipse.ui.intro' defined as specified in the attached 
extension point schema file. You are free to change the ids/package 
names/class names if required to fit into the current platform UI naming 
conventions. Note however that the extension point and the two interfaces are 
expected to be part of the low-level RCP layer i.e. not optional. The concrete 
implementations of the IIntroPart that provide progressively richer support 
for initial experience will be in the optional RCP plug-
in 'org.eclipse.ui.intro' that OOBE dynamic team is working on separately.

* Interface 'org.eclipse.ui.intro.IIntroArea' defined as follows:

interface IIntroArea {
   /**
    * Controls the intro area mode.
    * @param active if true, the intro area will be fully visible. Otherwise, 
it 
    * will go into standby mode and only be partially visible to allow users 
quick
    * return to the starting point.
    */
   void setActive(boolean active);

   /**
    * Returns true if the intro area is active, false if it is in stand-by 
mode.
    */
   boolean isActive();

   /**
    * Closes the intro area and allows the last active perspective to take 
over.
    */
   void close();

   /**
    * Returns the intro area's enclosing shell.
    */
   Shell getShell();

   /**
    * Returns intro area action bars in case the intro part needs to contribute
    * actions to menu, tool bar or status bar of the enclosing window.
    */
   IActionBars getActionBars();
} 

You (platform UI) are responsible for implementing the interface so that it 
behaves as expected. The implementing class is internal (not API). If 
extension that plugs into the intro extension point is detected, IIntroArea 
object is created and layed out so that it takes over the entire main window 
client area. After that, an object that 
implements 'org.eclipse.ui.intro.IIntroPart' is created from the extension and 
it is allowed to create contents in the composite claimed by the intro area. 
The interface should be as follows:

interface IIntroPart {
   /**
    * Primes the part with the intro area object immediately after the 
creation.
    */
   void init(IIntroArea area);
   
   /**
    * Returns the intro area the part was provided during initialization.
    */
   IIntroArea getIntroArea();

   /**
    * Creates the contents of the intro area in the provided container. It 
should
    * also set the layout manager to be used in the container.
    */
   void createContents(Composite container);

   /**
    * Notifies the part that the intro area has been activated or put on 
standby.
    * Intro part should render itself differently in the full and standby mode.
    */
   void activeStateChanged();

   /**
    * Disposes of any resources created in the part.
    */
   void dispose();

  /**
    * Returns true if the part is capable of rendering itself correctly, false
    * otherwise. Created part that returns false will cause the platform to
    * drop the intro and continue with the startup as if it didn't find
    * the extension at all.
    */
   boolean isAvailable();
}

The expected flow on startup:

- After the main window has been created and initialized, but before the 
active perspective is shown, extension point 'org.eclipse.ui.intro' is looked 
up.

- If found, IIntroArea object is created and made to consume most of the 
usable window area. Status line and tool bars may still exist, but should be 
empty of anything that can distract the user (e.g. 'Run' button).
IIntroPart is created from the extension and allowed to create the contents in 
the provided parent.

- When 'setActive(false)' is called on IIntroArea, the area should be 
collapsed into a narrow area near one of the edges of the window (right edge 
by default). The rest of the client area should be taken over by the active 
perspective. Menus and tool bars should be updated according to the active 
perspective.

- When 'setActive(true)' is called on IIntroArea, the window area should again 
be fully consumed by IIntroArea. Action bars should be updated so that 
anything that does not apply to the intro is removed.

- When 'close()' is called on IIntroArea, the are should be disposed. It 
should in turn call 'dispose' on the IIntroPart. The entire client area should 
be consumed by the active perspective.

- In addition to calling 'close()' programmatically, IIntroArea can be 
explicitly closed by the user regardless of the mode (active/stand-by) using 
the UI 'close' button (rendered according to the new look).

- The intro area can be created and moved into the active state again 
using 'Help&gt;Show Intro' menu item.

- The state of the intro area should be persisted. If the user closes the 
workbench when IIntroArea is active or in stand-by mode, it should be restored 
into that mode on subsequent startup.

Interaction with 'welcome' content:

- If 'intro' extension is not found, the startup continues with the startup as 
today i.e. 'Welcome' editor is opened.
- If 'intro' extension is found, intro area is shown. Even if there 
is 'welcome' content in the product, it is ignored (i.e. 'Welcome' editor is 
NOT opened).
- If 'intro' extension is found, 'Help&gt;Welcome...' menu item is NOT shown. 
Instead, 'Help&gt;Show Intro' menu item is available.
Created attachment 7352
Intro extension point schema

PDE extension point schema file for 'org.eclipse.ui.intro' extension point.
A couple of points:
- Suggest using IIntroSite rather than IIntroArea for API consistency.  
IIntroPart.getIntroArea() would be renamed to simply getSite().
The intent with site objects is that they provide all needed context and 
services to the contained part.  The fact that there actually is a visible area 
of the workbench window devoted to the site is not that interesting as far as 
the part is concerned (same as workbench parts, which are given a site, but 
don't have access to the pane).

- How is this intended to play in the presence of multiple workbench windows?  
If you create a new window from one with an intro area, should it also get an 
intro area (presumably in the same mode), or not?

1) I like the suggestion - IIntroSite it is :-)

2) The scenario you are talking about is real but not very likely. For 
simplicity, we could simply do it on a per-window basis, which means that you 
can end up with two intro sites if you have two windows. The intro site will 
show up on the first start up only and if you expicitly open it 
using 'Window&gt;Show Intro' so I don't think we will get into this situation 
that often.
For 2), just to clarify, are you saying that if you open a new window that the 
intro area will -not- be visible, even if it was visible in the first window?
Note that many Eclipse developers use multiple windows.

Nick, I don't know about the details re multiple windows. I just played with 
Eclipse and noticed that if I have 'Welcome' editor opened in the first 
window, and created a new one, 'Welcome' was not opened in the second i.e. 
opened editors were not cloned in the new window (the perspective did, 
though). Therefore, I would say that automatic opening of the 'Intro' site is 
related to Eclipse startup and not Window startup. However, I should be able 
to open intro site in the second window by explicitly selecting 'Window&gt;Show 
Intro'. 

We may tweak/refine the behaviour as we go along.
Nick, dejan, 
Im one of those developers that *always* has two windows open ! :-) so I'll 
just quickly use perspective switching as an analogy and then comment on the 
OOBE switching/multiple windows. 
In the two windows I use, one window is only for the package view and editors 
(ie: java development) and the other window is for CVS and debuging. I develop 
and compile in one, and I run/debug/CVS in the other. One of the things that I 
dont like about perspective behavior is that for some reason when the Debug 
perspective (for example) is not the active perspective in any window then 
when you run an application from the development window the debug perspective 
is opened in the same window that issued the run. However, if the debug 
perspective is active in the second window then that second window is simply 
put in focus. ie: perspective switching doesnt seem to be consistant. There 
may be a preference that I am missing, but the point is that if it is already 
opened by the user, he will not mind if you switch to it between windows. 
I know CVS has a perspective switching preference, but it does not work across 
windows. 

With that said, the intro site would be shown to the user when you first run a 
fresh Eclipse image. If he opens a new window, that would/should show the 
default perspective. Think of it as a window where he can play with eclipse 
while reading the OOBE. (I know we have the stand by mode for that, but some 
users will not want to loose context at all). Now if the user tries to open 
the OOBE in the second window (by going to some welcome menu), he should be 
switched to the first window that originally had the OOBE. ie: we only have 
one intro site open at any time. Even if the user puts the intro site into 
stand by mode in one window and goes and works in another, if he asks for OOBE 
we show him the first window. 

One may argue as to why you are not allowing for multiple OOBE windows, we can 
and it could be a preference (allow for multiple OOBE views) but I personally 
belive it is overkill. Think about it, Im a new user banging my head trying to 
read OOBE, will I open two windows AND read OOBE in two windows? 
Thats my two cents...  ;-) 

Mazen..
  





Come to think of it, I second Mazen's observations :-).
I've added the initial draft of the intro API (not implementation!) to
org.eclipse.ui.intro (to be moved to .ui when stable).  This should be available
in todays integration build for browsing.  I've taken several liberties with the
API you've requested and they are: 

* It's IIntroSite instead of IIntroArea and it inherits from IWorkbenchSite
* IIntroSite only contains getActionBars().  The missing methods are are
replaced by the following on IWorkbench:
	
	/**
	 * Close the intro part, if one is open.
	 * &lt;p&gt;
	 * &lt;em&gt;EXPERIMENTAL&lt;/em&gt;
	 * 
	 * @return whether the intro part was closed.
	 * @since 3.0
	 */	
	public boolean closeIntro(IIntroPart part);	

	/**
	 * Return the &lt;code&gt;IIntroPart&lt;/code&gt; for this &lt;code&gt;IWorkbench&lt;/code&gt;, if any.
	 * &lt;p&gt;
	 * &lt;em&gt;EXPERIMENTAL&lt;/em&gt;
	 *  
	 * @return the &lt;code&gt;IIntroPart&lt;/code&gt;, if any.
	 * @since 3.0
	 */
	public IIntroPart findIntro();
	
	/**
	 * Show the intro part in the preferred window.  If the intro part is currently
being shown in 
	 * another window, make it the active window.
	 * &lt;p&gt;
	 * &lt;em&gt;EXPERIMENTAL&lt;/em&gt;
	 * 
	 * @param preferredWindow the preferred &lt;code&gt;IWorkbenchWindow&lt;/code&gt;.
	 * @return the intro part, if one was available.
	 * @since 3.0
	 */
	public IIntroPart showIntro(IWorkbenchWindow preferredWindow);
	
	/**
	 * Controls the intro site mode.
	 * &lt;p&gt;
	 * &lt;em&gt;EXPERIMENTAL&lt;/em&gt;
	 * 
	 * @param part the &lt;code&gt;IIntroPart&lt;/code&gt; to set.
	 * @param standby if &lt;code&gt;false&lt;/code&gt;, the intro area will be fully visible. 
	 * Otherwise, it will go into standby mode and only be partially visible to 
	 * allow users quick return to the starting point.
	 */	
	public void setIntroStandby(IIntroPart part, boolean standby);
	
	/**
	 * Returns &lt;code&gt;false&lt;/code&gt; if the intro part is full screen, 
	 * &lt;code&gt;true&lt;/code&gt; if it is in stand-by mode.
	 * &lt;p&gt;
	 * &lt;em&gt;EXPERIMENTAL&lt;/em&gt;
	 * 
	 * @param part the &lt;code&gt;IIntroPart&lt;/code&gt; to test.
	 * @return the activity state of the area.
	 */
	boolean isIntrolStandby(IIntroPart part);	

This was done to be consistant with part activation/deactivation implemented on
Views and Editors (which is controlled from IWorkbenchPage, not the part site).
 I've gone with the idea expressed by Mazen that there is ever only one Intro
view in a workbench, irregardless of the number of windows.  If it's desired
that such a thing should be possible on every window, I'll move this down to
IWorkbenchPage.

* IIntroPart inherits from IWorkbenchPart.  As such, createContents() becomes
createPartControl().
* IIntroPart.isAvailable is gone.  Instead, a part may declare that it is
unsuitable for use by throwing a PartException in the init method.
* IIntroPart.activeStateChanged() becomes standbyStateChanged(boolean) - active
is such an overloaded word.

Comments?  Complaints?  Death threats?
no Death threats ! 
love it. :)
Just one point, and I may be jumping the gun here: if you treat the IIntroPart 
as an IWorkbenchPart, doesnt it make sense to treat the IIntroSite as an 
IWorkbenchPartSite? The reason I say this is that we might need the getId() 
and getPluginID methods at some point. There may be several IIntroParts 
defined in a given configuration, but only one will ever be picked, and so 
knowing the plugin ID of who contributed it maybe usefull one day. I may be 
jumping ahead here, these APIs are by no means final, but Im only trying to 
give heads up. I can only think of the plugin/ID methods as important. 
Allowing for pop external contributions to IIntroPart is overkill, so I dont 
believe we need contextMenu stuff. 
Just a thought. 

One way to approach this is to not predict (ie: ignore me) and when you do 
actually see similarities enough to put the hierarchy down, it can be done 
then. 
just FYI...

Mazen.  


 
no Death threats ! 
love it. :)
Just one point, and I may be jumping the gun here: if you treat the IIntroPart 
as an IWorkbenchPart, doesnt it make sense to treat the IIntroSite as an 
IWorkbenchPartSite? The reason I say this is that we might need the getId() 
and getPluginID methods at some point. There may be several IIntroParts 
defined in a given configuration, but only one will ever be picked, and so 
knowing the plugin ID of who contributed it maybe usefull one day. I may be 
jumping ahead here, these APIs are by no means final, but Im only trying to 
give heads up. I can only think of the plugin/ID methods as important. 
Allowing for pop external contributions to IIntroPart is overkill, so I dont 
believe we need contextMenu stuff. 
Just a thought. 

One way to approach this is to not predict (ie: ignore me) and when you do 
actually see similarities enough to put the hierarchy down, it can be done 
then. 
just FYI...

Mazen.  


 
Sorry for the duplicates ! 
One thing cought my attention: you said that you initially put the APIs in 
org.eclipse.ui.intro before moving it to org.eclipse.ui. DO you mean package 
or plug-in? We already have org.eclipse.ui.intro plug-in - the OOBE team is 
working on it in a separate repository. If this is package, please disregard.
Dejan:  I was referring to only to the package.

Mazen:  Irk!  You found me out!  I had actually intended it to be a derivative
of IWorkbenchPartSite.  I must've just typed it wrong.  Bad monkey Kim.  The
context menu stuff may be overkill, but it's consistant overkill.  I want to try
and keep this new intro API as close to the existing view/editor API as possible
until there is a compelling reason to do otherwise (which there very well may be).

To quote Nick from another bug "It's unclear that IIntroSite should extend
IWorkbenchSite since it doesn't really belong to a page or a window.  I'd keep
them separate for now, add what you need to IIntroSite, then look at refactoring
it under one of the existing site interfaces later."  I believe it does belong
to a page/window.  It just so happens that (at this time) only one such beast
can exist throughout the workbench... it still has a well defined host.
Kim,
I was going to use org.eclipse.ui.part.WorkbenchPart as my base class for an 
IIntroPart implementation, but I just realized that the docs say "do not 
subclass outside of package". Any reason for that? We can have our own base 
IIntoPart implementation in the OOBE plugin, but I can re-use some of this 
WorkbenchPart class. 
Also, for the Title, ToolTip and Image of this "special" part, are you 
thinking of giving the IIntroPart a title and an image? I believe whats 
currently on the table is to overtake most of the realestate of the UI for an 
IntroPart, so a title and an image, and tooltip is not necessary? 

any thoughts..?   

   
I will provide an abstract IntroPart that you can extend.  This will extend
WorkbenchPart, so feel free to use that for the time being.

I'm not sure about a title image and a tooltip, but a Title could be of use to
you - this could be applied to the window title in the case of the fullscreen
intro.  The case for all three is easier to make for the standby intro mode.
makes sense. 
thanks.
I've put together an implementation of the intro API that makes use of a special
View as as its backend implementation.  This view is special in that it is
filtered from the view menu and it can only be activated from the Help menu
(which in turn calls API methods on IWorkbench).  There is logic in this code to
ensure that only one instance of this view is ever present in the workbench. 
Any attempt to open it (via the intro API) in a different window/perspective
will only bring focus back to the original window/perspective. 
Maximizing/restoring the view will cause a standbyStateChange() events to be
fired and closing the view will of course dispose of the intro part.  No effort
is made to retain the state of the intro part between eclipse sessions.  You
will need to open it each time eclipse starts at present.

The view implementation is just a temporary measure to get you guys going.  With
any luck the real thing will be in place for M7.  

The above work should be checked in for tomorrows integration build pending any
problems with the new look code merge.
Created attachment 7482
Sample introduction project

Sample intro extension.  The IIntroPart simple displays the standby state and
offers a button to switch it.
Kim (Korne), I checked the latest integration build. The extension point is 
there and your sample intro works (somewhat), but:

1) IntroSite is not opened and maximized on first start
2) When opened from the 'Help' menu (Help&gt;Introduction), it should open into 
maximized state.

Both 1) and 2) are important if we are to make any impression at EclipseCon. 
Even if we maximize in scenario 2) and restart, intro site state is not 
persisted, so there is no workaround.
I'll try to have fixes for these in by the end of the day. 
It will also help (although it is not critical) if 'welcome' editor would not 
open if 'intro' was detected.
Do you want it to maximize when the Help action is fired, or only when the intro
is opened?  Ie:  if you use that action when the intro is visible and in standby
mode, do you want it to go out of standby?
The intro is now opened on first-time workbench startup (if present) and
supresses the Welcome editor.  Additionally, whenever the the intro is first
created it is created with standby == false.  

The effects of Help-&gt;Introduction depend on the current state of the intro.  If
it is open in any window, focus is returned to it but its standby state is not
changed.  If it has been closed, then it is reopened in the current window with
standby == false.
Kim, sorry for not replying promptly. The behaviour you described is spot on - 
that's exactly how we expected it.
No problemo - I just wanted to make sure some of the changes were in by the end
of the day.

If what's in HEAD is good for you for the time being then I'll continue with all
new work in the new look stream.
The more I think about it the more I think the view solution (with some
modification) is the way to go for this guy.  What I propose is the following:
 - We keep the intro as a wrapper to a view.  This view may exist at most in one
workbench page in the workbench.
 - When this view is maximized (intro not in standby state), we strip off as
much of the menu/toolbar as possible.  The view title bar could be dropped as
well if Bug 5684 is resolved.
 - we will hardcode a default placeholder for the 'standby' intro view that will
place it at the far right of the screen (or wherever consensus/armwrestling
determines it best to go).

Why do I want to go with the view solution?  At the end of the day this guy
really feels like a special view.  Introducing yet another part beast into the
UI code just doesn't seem justifiable if we can reuse what we already have in
place for views.  Objections?

Also, I'd like to add the following methods to the IIntroPart interface if there
aren't any objections:

public void init(IIntroSite site, IMemento memento) throws PartInitException;
public void saveState(IMemento memento);

This would be so that you can more easily serialize the state of the beast
between sessions.

As far as we are concerned, we should not care about the implementation as 
long as the behaviour is as required. We already have the expected life cycle; 
being able to strip off the menu/toolbar is also the required behaviour.

It is important that in the standby mode the view does not need to be added to 
each perspective i.e. it is there regadless of the perspective currently 
occupying the rest of the window. The view should also not show up anywhere in 
the menus other than 'Help&gt;Introduction'.
Kim,
the two new APIs are just fine. Come to think about it, we _can_ use the 
momento state info. So thanks. 
For the implementation as a view, like Dejan said, from our perspective, as 
long as the IIntroPart gets the correct end behavior/life cycle, then things 
are ok. 
BUT, just to be clear. If you do go with the view implementation, are you 
saying that this view will have a place holder in every page in any window. 
However, that place holder is smart to know that one and only one page in any 
window can have an IIntroPart in it?

Also, this brings me to my next question. We are assuming that only one 
IIntroPart instance will ever exist, so all these APIs:

public void setIntroStandby(IIntroPart part, boolean standby);
boolean isIntrolStandby(IIntroPart part);
public boolean closeIntro(IIntroPart part);

do not need to take IIntroPart as a parameter. thoughts?
Just being picky, thats all :) 
they work by the way. It tried with the 23 nightly build and they seem to be 
working.
so thanks...


Kim,
I just tried with the new look (23 nightly build) and the intro part did not 
come up in the resource perspective.
Are you aware of that?

The new look stream has not been merged with the HEAD stream since intro was
launched automatically on startup.  That feature should work in HEAD.

I left IIntroPart as an argument for the various IWorkbench methods so that
people couldn't use them without knowing whether there was in fact an intro in
the workbench (via findIntro()).  Also, it's consistant with other behaviour and
if in the end we make one intro per workbench window/page then the transition
will be easier.

As for the placeholder... every perspective would have a placeholder
automatically, but only ONE given window/perspective combination in a workbench
can be home to the intro at a given time.  This is already in place.
Kim, we will need the support to work in the 3.0 look branch as well so that 
we can start working on the Eclipse 3.0 content in context of the new look.
The relevant intro work has been merged into new look.  Please let me know if
you have any problems with it.
Kim,
just a technicality question. I download the latest nightly build and I switch 
the magic four jars with the "new look" jars to get the new look. 
So when you now say "The relevant intro work has been merged into new look.", 
does that mean that your code gets packaged into these new jars also nightly? 

I just wanna make sure I am trying the correct code base. I treat the plugin 
we are developing as a standalone entity and thats why I dont develop against 
any Eclipse CVS code. Just nightly builds.

 
no, we do not rebuild the newlook jars nightly, more like once a week (i.e. 
integration builds)

but we can rebuild if you need it
This thread is starting to get a little long in the tooth.  I'd like to have you
guys start reporting any bugs with the intro work to Platform/UI, ideally with
[Intro] in the summary and me as the owner.  We can leave this thread for
general discussion, which is what it's drifted to.
Support is in place. 
Closing.</WithOutStack>
  </Bug>
  <Bug>
    <BugId amount="49118" />
    <CreationDate amount="2003-12-18 11:58:00 -0500" />
    <DupId amount="" />
    <classification amount="Eclipse Foundation" />
    <Product amount="z_Archived" />
    <component amount="Hyades" />
    <Version amount="unspecified" />
    <rep_platform amount="PC" />
    <op_sys amount="Windows 2000" />
    <priority amount="P3" />
    <bug_severity amount="normal" />
    <Summery>Refresh from Local is not consistant as in PD Expolorer</Summery>
    <Patches amount="0" />
    <Stacktraces amount="0" />
    <SourceCodeRegions amount="0" />
    <Enumerations amount="0" />
    <bug_status amount="CLOSED" />
    <resolution amount="FIXED" />
    <WithStack>Import some logs, save the logs, import a symtom db and create a log 
correlation. and then run a refresh from local, the view is not update.
Fixed - 01/11/2004.
closing bug
house keeping</WithStack>
    <WithOutStack>Import some logs, save the logs, import a symtom db and create a log 
correlation. and then run a refresh from local, the view is not update.
Fixed - 01/11/2004.
closing bug
house keeping</WithOutStack>
  </Bug>
  <Bug>
    <BugId amount="49119" />
    <CreationDate amount="2003-12-18 12:10:00 -0500" />
    <DupId amount="25342" />
    <classification amount="Eclipse" />
    <Product amount="Platform" />
    <component amount="Resources" />
    <Version amount="2.1.2" />
    <rep_platform amount="PC" />
    <op_sys amount="Linux-GTK" />
    <priority amount="P3" />
    <bug_severity amount="major" />
    <Summery>Corrupted workbench failing search extensions, updates etc.</Summery>
    <Patches amount="0" />
    <Stacktraces amount="0" />
    <SourceCodeRegions amount="0" />
    <Enumerations amount="1">
      <Enumeration lines="10">
        <Lines>
          <Line>- Search (ctrl +h) only opens a message ("No Search Extensions plugged into</Line>
          <Line>workbench or search pages disabled").</Line>
          <Line>- "New Updates" does not open at all.</Line>
          <Line>- Preferences window opens first time but contains no information or options</Line>
          <Line>at all (due to NPE in logs?). Second time the window does not open at all.</Line>
          <Line>- Some file types cannot be opened (eg. XSL files). Error msg: "Cannot open</Line>
          <Line>default editor on xxx.xsl. Text Editor does not have a document provider".</Line>
          <Line />
          <Line>This is on a RH9 installation. A SATA RAID 1 setup on a Athlon XP. Additional</Line>
          <Line>detail on system available on request.</Line>
        </Lines>
      </Enumeration>
    </Enumerations>
    <bug_status amount="RESOLVED" />
    <resolution amount="DUPLICATE" />
    <WithStack>On startup (build id 200311030802) several workbench features/plugins refuse to
work. Log contains NullPointerExceptions as well as previous IndexStore
exceptions. As of writing the following behaviour have been noted:

    - Search (ctrl +h) only opens a message ("No Search Extensions plugged into
workbench or search pages disabled").
    - "New Updates" does not open at all.
    - Preferences window opens first time but contains no information or options
at all (due to NPE in logs?). Second time the window does not open at all.
    - Some file types cannot be opened (eg. XSL files). Error msg: "Cannot open
default editor on xxx.xsl. Text Editor does not have a document provider".
    
This is on a RH9 installation. A SATA RAID 1 setup on a Athlon XP. Additional
detail on system available on request.

Will attach relevant log.
Created attachment 7233
Relevant eclipse error log (tar/gz)
This is very likely a duplicate of bug 25342. Please reopen if it still happens
with 3.0.

*** This bug has been marked as a duplicate of 25342 ***</WithStack>
    <WithOutStack>On startup (build id 200311030802) several workbench features/plugins refuse to
work. Log contains NullPointerExceptions as well as previous IndexStore
exceptions. As of writing the following behaviour have been noted:

    - Search (ctrl +h) only opens a message ("No Search Extensions plugged into
workbench or search pages disabled").
    - "New Updates" does not open at all.
    - Preferences window opens first time but contains no information or options
at all (due to NPE in logs?). Second time the window does not open at all.
    - Some file types cannot be opened (eg. XSL files). Error msg: "Cannot open
default editor on xxx.xsl. Text Editor does not have a document provider".
    
This is on a RH9 installation. A SATA RAID 1 setup on a Athlon XP. Additional
detail on system available on request.

Will attach relevant log.
Created attachment 7233
Relevant eclipse error log (tar/gz)
This is very likely a duplicate of bug 25342. Please reopen if it still happens
with 3.0.

*** This bug has been marked as a duplicate of 25342 ***</WithOutStack>
  </Bug>
  <Bug>
    <BugId amount="49120" />
    <CreationDate amount="2003-12-18 12:29:00 -0500" />
    <DupId amount="" />
    <classification amount="Eclipse" />
    <Product amount="JDT" />
    <component amount="Core" />
    <Version amount="3.0" />
    <rep_platform amount="PC" />
    <op_sys amount="Windows XP" />
    <priority amount="P3" />
    <bug_severity amount="normal" />
    <Summery>search doesn't find references to anonymous inner methods</Summery>
    <Patches amount="0" />
    <Stacktraces amount="0" />
    <SourceCodeRegions amount="3">
      <source_code type="multicomment">
        <location start="47" end="209" />
        <code>/*
 * Created on Dec 18, 2003
 *
 * To change the template for this generated file go to
 * Window - Preferences - Java - Code Generation - Code and Comments
 */</code>
      </source_code>
      <source_code type="multicomment">
        <location start="210" end="369" />
        <code>/**
 * @author tma
 *
 * To change the template for this generated type comment go to
 * Window - Preferences - Java - Code Generation - Code and Comments
 */</code>
      </source_code>
      <source_code type="class">
        <location start="370" end="544" />
        <code>public class Test1 {

	public static void main(String[] args) {
		Runnable r= new Runnable() {
			public void run() {
				System.out.println("bla");
			}
		};
		r.run();
	}
}</code>
      </source_code>
    </SourceCodeRegions>
    <Enumerations amount="1">
      <Enumeration lines="8">
        <Lines>
          <Line>1) create a class like so:</Line>
          <Line />
          <Line />
          <Line />
          <Line />
          <Line>2) select the declaration of run() in the inner class</Line>
          <Line>3) do a search for references in the workpaces</Line>
          <Line>4) observe: you get no matches.</Line>
        </Lines>
      </Enumeration>
    </Enumerations>
    <bug_status amount="VERIFIED" />
    <resolution amount="FIXED" />
    <WithStack>I 2003-12-18-09:55

1) create a class like so:

/*
 * Created on Dec 18, 2003
 *
 * To change the template for this generated file go to
 * Window - Preferences - Java - Code Generation - Code and Comments
 */

/**
 * @author tma
 *
 * To change the template for this generated type comment go to
 * Window - Preferences - Java - Code Generation - Code and Comments
 */
public class Test1 {

	public static void main(String[] args) {
		Runnable r= new Runnable() {
			public void run() {
				System.out.println("bla");
			}
		};
		r.run();
	}
}

2) select the declaration of run() in the inner class
3) do a search for references in the workpaces
4) observe: you get no matches.

By accident, I had a breakpoint on NullPointerException, and I got the following
stack trace in the debugger (the exception is eaten silently):

Javadoc.resolve(MethodScope) line: 122
FieldDeclaration.resolve(MethodScope) line: 224
TypeDeclaration.resolve() line: 910
TypeDeclaration.resolve(CompilationUnitScope) line: 975
CompilationUnitDeclaration.resolve() line: 271
MatchLocator.process(PossibleMatch, boolean) line: 888
MatchLocator.locateMatches(JavaProject, PossibleMatch[], int, int) line: 621
MatchLocator.locateMatches(JavaProject, PossibleMatchSet) line: 658
MatchLocator.locateMatches(SearchDocument[]) line: 749
JavaSearchParticipant.locateMatches(SearchDocument[], SearchPattern,
IJavaSearchScope, SearchRequestor, IProgressMonitor) line: 155
MethodPattern(InternalSearchPattern).findMatches(SearchParticipant[],
IJavaSearchScope, SearchRequestor, IProgressMonitor) line: 199
SearchEngine.search(SearchPattern, SearchParticipant[], IJavaSearchScope,
SearchRequestor, IProgressMonitor) line: 729
SearchEngine.search(IWorkspace, ISearchPattern, IJavaSearchScope,
IJavaSearchResultCollector) line: 697
SearchEngine.search(IWorkspace, IJavaElement, int, IJavaSearchScope,
IJavaSearchResultCollector) line: 678
JavaSearchOperation.execute(IProgressMonitor) line: 97
WorkspaceModifyOperation$1.run(IProgressMonitor) line: 91
Workspace.run(IWorkspaceRunnable, ISchedulingRule, int, IProgressMonitor) line: 1555
JavaSearchOperation(WorkspaceModifyOperation).run(IProgressMonitor) line: 105
ModalContext$ModalContextThread.run() line: 101
Was not working in M5 either. Not critical.
Was not able to reproduce the NPE. However this is not the cause of the failure 
to find references to anonymous inner methods. Problem is in the 
SuperTypeNamesCollector that doesn't handle anonymous types correctly.
Created attachment 7250
Proposed patch
Released proposed patch+fix to ASTNodeFinder that didn't find methods with no 
args.

Added regression test JavaSearchTests.testMethodReference5()
Verified for 3.0M7</WithStack>
    <WithOutStack>I 2003-12-18-09:55

1) create a class like so:

/*
 * Created on Dec 18, 2003
 *
 * To change the template for this generated file go to
 * Window - Preferences - Java - Code Generation - Code and Comments
 */

/**
 * @author tma
 *
 * To change the template for this generated type comment go to
 * Window - Preferences - Java - Code Generation - Code and Comments
 */
public class Test1 {

	public static void main(String[] args) {
		Runnable r= new Runnable() {
			public void run() {
				System.out.println("bla");
			}
		};
		r.run();
	}
}

2) select the declaration of run() in the inner class
3) do a search for references in the workpaces
4) observe: you get no matches.

By accident, I had a breakpoint on NullPointerException, and I got the following
stack trace in the debugger (the exception is eaten silently):

Javadoc.resolve(MethodScope) line: 122
FieldDeclaration.resolve(MethodScope) line: 224
TypeDeclaration.resolve() line: 910
TypeDeclaration.resolve(CompilationUnitScope) line: 975
CompilationUnitDeclaration.resolve() line: 271
MatchLocator.process(PossibleMatch, boolean) line: 888
MatchLocator.locateMatches(JavaProject, PossibleMatch[], int, int) line: 621
MatchLocator.locateMatches(JavaProject, PossibleMatchSet) line: 658
MatchLocator.locateMatches(SearchDocument[]) line: 749
JavaSearchParticipant.locateMatches(SearchDocument[], SearchPattern,
IJavaSearchScope, SearchRequestor, IProgressMonitor) line: 155
MethodPattern(InternalSearchPattern).findMatches(SearchParticipant[],
IJavaSearchScope, SearchRequestor, IProgressMonitor) line: 199
SearchEngine.search(SearchPattern, SearchParticipant[], IJavaSearchScope,
SearchRequestor, IProgressMonitor) line: 729
SearchEngine.search(IWorkspace, ISearchPattern, IJavaSearchScope,
IJavaSearchResultCollector) line: 697
SearchEngine.search(IWorkspace, IJavaElement, int, IJavaSearchScope,
IJavaSearchResultCollector) line: 678
JavaSearchOperation.execute(IProgressMonitor) line: 97
WorkspaceModifyOperation$1.run(IProgressMonitor) line: 91
Workspace.run(IWorkspaceRunnable, ISchedulingRule, int, IProgressMonitor) line: 1555
JavaSearchOperation(WorkspaceModifyOperation).run(IProgressMonitor) line: 105
ModalContext$ModalContextThread.run() line: 101
Was not working in M5 either. Not critical.
Was not able to reproduce the NPE. However this is not the cause of the failure 
to find references to anonymous inner methods. Problem is in the 
SuperTypeNamesCollector that doesn't handle anonymous types correctly.
Created attachment 7250
Proposed patch
Released proposed patch+fix to ASTNodeFinder that didn't find methods with no 
args.

Added regression test JavaSearchTests.testMethodReference5()
Verified for 3.0M7</WithOutStack>
  </Bug>
  <Bug>
    <BugId amount="49121" />
    <CreationDate amount="2003-12-18 12:43:00 -0500" />
    <DupId amount="" />
    <classification amount="Eclipse" />
    <Product amount="JDT" />
    <component amount="UI" />
    <Version amount="3.0" />
    <rep_platform amount="PC" />
    <op_sys amount="Windows 2000" />
    <priority amount="P3" />
    <bug_severity amount="normal" />
    <Summery>Link with Editor does not reveal selection if unchanged</Summery>
    <Patches amount="0" />
    <Stacktraces amount="0" />
    <SourceCodeRegions amount="0" />
    <Enumerations amount="1">
      <Enumeration lines="12">
        <Lines>
          <Line>- open a CU</Line>
          <Line>- in package explorer, toggle Link with Editor on</Line>
          <Line>- it shows the selection</Line>
          <Line>- scroll the selection out of view</Line>
          <Line>- toggle Link with Editor off then back on</Line>
          <Line>- the selection is not shown</Line>
          <Line>which is IMO correct. Link with Editor does back linking (e.g reveal the</Line>
          <Line>editor in the packages explorer) not forwarding linking.</Line>
          <Line>To clarify, I was talking about a limitation in back linking.</Line>
          <Line>The expectation is that when you toggle linking on, the file for the current</Line>
          <Line>editor is selected and shown in the Package Explorer, even if it is already the</Line>
          <Line>current selection but hidden.</Line>
        </Lines>
      </Enumeration>
    </Enumerations>
    <bug_status amount="RESOLVED" />
    <resolution amount="FIXED" />
    <WithStack>build I20031218

- open a CU
- in package explorer, toggle Link with Editor on
- it shows the selection
- scroll the selection out of view
- toggle Link with Editor off then back on
- the selection is not shown
which is IMO correct. Link with Editor does back linking (e.g reveal the 
editor in the packages explorer) not forwarding linking.
To clarify, I was talking about a limitation in back linking.
The expectation is that when you toggle linking on, the file for the current 
editor is selected and shown in the Package Explorer, even if it is already the 
current selection but hidden.

Compare with the Navigator.

fixed - reviewed by Martin</WithStack>
    <WithOutStack>build I20031218

- open a CU
- in package explorer, toggle Link with Editor on
- it shows the selection
- scroll the selection out of view
- toggle Link with Editor off then back on
- the selection is not shown
which is IMO correct. Link with Editor does back linking (e.g reveal the 
editor in the packages explorer) not forwarding linking.
To clarify, I was talking about a limitation in back linking.
The expectation is that when you toggle linking on, the file for the current 
editor is selected and shown in the Package Explorer, even if it is already the 
current selection but hidden.

Compare with the Navigator.

fixed - reviewed by Martin</WithOutStack>
  </Bug>
  <Bug>
    <BugId amount="49122" />
    <CreationDate amount="2003-12-18 12:47:00 -0500" />
    <DupId amount="" />
    <classification amount="Eclipse" />
    <Product amount="Platform" />
    <component amount="Releng" />
    <Version amount="3.0" />
    <rep_platform amount="PC" />
    <op_sys amount="Windows 2000" />
    <priority amount="P3" />
    <bug_severity amount="normal" />
    <Summery>Compare With &gt; Released should only apply to projects</Summery>
    <Patches amount="0" />
    <Stacktraces amount="0" />
    <SourceCodeRegions amount="0" />
    <Enumerations amount="1">
      <Enumeration lines="3">
        <Lines>
          <Line>- start Eclipse</Line>
          <Line>- select a CU under revision control</Line>
          <Line>- Compare With &gt; Released</Line>
        </Lines>
      </Enumeration>
    </Enumerations>
    <bug_status amount="RESOLVED" />
    <resolution amount="FIXED" />
    <WithStack>build I20031218

- start Eclipse
- select a CU under revision control
- Compare With &gt; Released

It says that the operation is not enabled.
I was expecting this to be the same as Compare With &gt; Latest from HEAD.
If this only applies to projects in the map files, the object contribution that 
contributes it should be changes so that it only appears for projects.
Fixed and was released to head</WithStack>
    <WithOutStack>build I20031218

- start Eclipse
- select a CU under revision control
- Compare With &gt; Released

It says that the operation is not enabled.
I was expecting this to be the same as Compare With &gt; Latest from HEAD.
If this only applies to projects in the map files, the object contribution that 
contributes it should be changes so that it only appears for projects.
Fixed and was released to head</WithOutStack>
  </Bug>
  <Bug>
    <BugId amount="49123" />
    <CreationDate amount="2003-12-18 12:56:00 -0500" />
    <DupId amount="" />
    <classification amount="Eclipse" />
    <Product amount="Platform" />
    <component amount="SWT" />
    <Version amount="3.0" />
    <rep_platform amount="PC" />
    <op_sys amount="Linux-GTK" />
    <priority amount="P3" />
    <bug_severity amount="normal" />
    <Summery>The text fields in launch configuration does not update immediately when pressing Delete or Backspace button</Summery>
    <Patches amount="0" />
    <Stacktraces amount="0" />
    <SourceCodeRegions amount="0" />
    <Enumerations amount="1">
      <Enumeration lines="5">
        <Lines>
          <Line>1. select run menu item to open configuration window</Line>
          <Line>2. select any one of the existing configurations</Line>
          <Line>3. click arguments tab, in the program arguments Text type in one line of words</Line>
          <Line>4. make sure the cursor is at the end of the words, press the backspace button,</Line>
          <Line>and don't release it.</Line>
        </Lines>
      </Enumeration>
    </Enumerations>
    <bug_status amount="RESOLVED" />
    <resolution amount="WORKSFORME" />
    <WithStack>When user holds down the Delete or Backspace button in a text field, the cursor
should move smothly and the removed characters are not shown in the text field.

However in the text fields of launch configuration, the cursor does not move
until user releases the delete or backspace button.

Steps to reproduce the problem:
1. select run menu item to open configuration window
2. select any one of the existing configurations
3. click arguments tab, in the program arguments Text type in one line of words
4. make sure the cursor is at the end of the words, press the backspace button,     
   and don't release it.

Notice the cursor does not move. When you release the button, the cursor moves
forward.
This is a result of them adding a ModifyListener to the text that updates the 
dialog's message, error message and button enablements on every keystroke.  I 
haven't determined why the Text doesn't update, but I suspect that it's falling 
behind as a result of the processing that's happening on each keystroke.

this works in the latest, closing report</WithStack>
    <WithOutStack>When user holds down the Delete or Backspace button in a text field, the cursor
should move smothly and the removed characters are not shown in the text field.

However in the text fields of launch configuration, the cursor does not move
until user releases the delete or backspace button.

Steps to reproduce the problem:
1. select run menu item to open configuration window
2. select any one of the existing configurations
3. click arguments tab, in the program arguments Text type in one line of words
4. make sure the cursor is at the end of the words, press the backspace button,     
   and don't release it.

Notice the cursor does not move. When you release the button, the cursor moves
forward.
This is a result of them adding a ModifyListener to the text that updates the 
dialog's message, error message and button enablements on every keystroke.  I 
haven't determined why the Text doesn't update, but I suspect that it's falling 
behind as a result of the processing that's happening on each keystroke.

this works in the latest, closing report</WithOutStack>
  </Bug>
  <Bug>
    <BugId amount="49124" />
    <CreationDate amount="2003-12-18 13:09:00 -0500" />
    <DupId amount="" />
    <classification amount="Eclipse" />
    <Product amount="PDE" />
    <component amount="UI" />
    <Version amount="3.0" />
    <rep_platform amount="PC" />
    <op_sys amount="Windows XP" />
    <priority amount="P3" />
    <bug_severity amount="normal" />
    <Summery>Duplicate JAR entries when creating fragment</Summery>
    <Patches amount="0" />
    <Stacktraces amount="0" />
    <SourceCodeRegions amount="0" />
    <Enumerations amount="1">
      <Enumeration lines="3">
        <Lines>
          <Line>- empty workspace</Line>
          <Line>- New -&gt; Plug-in Project -&gt; Fragment</Line>
          <Line>- create a fragment to SWT</Line>
        </Lines>
      </Enumeration>
    </Enumerations>
    <bug_status amount="RESOLVED" />
    <resolution amount="INVALID" />
    <WithStack>build i1218:1200
winxp
j9sc1212

I was trying to reproduce bug 48700 when I came across this problem.

- empty workspace
- New -&gt; Plug-in Project -&gt; Fragment
- create a fragment to SWT

When you go through the steps and hit OK, I got a dialog and following errors in
my log file. Note that the workspace was empty and didn't originally contain SWT.

!ENTRY org.eclipse.pde.core 4 4 Dec 18, 2003 13:04:45.111
!MESSAGE Build path contains duplicate entry: 'C:java/sc/jre/lib/ext/ibmjce
fips.jar' for project org.eclipse.swt.fragment
!ENTRY org.eclipse.jdt.core 4 977 Dec 18, 2003 13:04:45.121
!MESSAGE Build path contains duplicate entry: 'C:java/sc/jre/lib/ext/ibmjce
fips.jar' for project org.eclipse.swt.fragment

As a result the .classpath file was not created, thus the java project was in a
weird state. The only files/folders that I had were:
.project
build.properties
empty src/ dir
empty bin/ dir
The wizard in question has been rewritten from scratch since.
Please reopen if it occurs again.</WithStack>
    <WithOutStack>build i1218:1200
winxp
j9sc1212

I was trying to reproduce bug 48700 when I came across this problem.

- empty workspace
- New -&gt; Plug-in Project -&gt; Fragment
- create a fragment to SWT

When you go through the steps and hit OK, I got a dialog and following errors in
my log file. Note that the workspace was empty and didn't originally contain SWT.

!ENTRY org.eclipse.pde.core 4 4 Dec 18, 2003 13:04:45.111
!MESSAGE Build path contains duplicate entry: 'C:java/sc/jre/lib/ext/ibmjce
fips.jar' for project org.eclipse.swt.fragment
!ENTRY org.eclipse.jdt.core 4 977 Dec 18, 2003 13:04:45.121
!MESSAGE Build path contains duplicate entry: 'C:java/sc/jre/lib/ext/ibmjce
fips.jar' for project org.eclipse.swt.fragment

As a result the .classpath file was not created, thus the java project was in a
weird state. The only files/folders that I had were:
.project
build.properties
empty src/ dir
empty bin/ dir
The wizard in question has been rewritten from scratch since.
Please reopen if it occurs again.</WithOutStack>
  </Bug>
  <Bug>
    <BugId amount="49125" />
    <CreationDate amount="2003-12-18 13:16:00 -0500" />
    <DupId amount="" />
    <classification amount="Eclipse" />
    <Product amount="JDT" />
    <component amount="UI" />
    <Version amount="3.0" />
    <rep_platform amount="PC" />
    <op_sys amount="Windows All" />
    <priority amount="P3" />
    <bug_severity amount="enhancement" />
    <Summery>project &gt; generate javadoc [javadoc]</Summery>
    <Patches amount="0" />
    <Stacktraces amount="0" />
    <SourceCodeRegions amount="0" />
    <Enumerations amount="0" />
    <bug_status amount="RESOLVED" />
    <resolution amount="WONTFIX" />
    <WithStack>I would like to use the javadoc wich have been linked to the jars of the 
projects classpath to be used as "linkoffline" in de creation of the projects 
javadoc. At least for those jars which have a javadoc.
ps I use a custom doclet
Are you aware of the export wizard to create Javadoc and the second page. It 
lets you check those existing javadoc to which links should be created.
Yes, but wen you enter a choose to custom doclet, the second page seems to be  
skipped 

Martin, please comment.
As soon as you choose to use a custom doclet, the standard doclet options don't 
apply anymore. Each doclet can define it's own set of arguments (of course your 
doclet could decide to use the standard options) so we can't add them.
An improvement of the wizard would be to allow you to specify that your doclets 
uses the standard options so the pages are still visible.

I'm afraid we won't have time to improve the Javadoc wizard in regard to custom 
doclets. As a workaround, I would suggest you to use the 'create ANT file' 
functionality from the wizard and modify the created script for your doclet.
As of now 'LATER' and 'REMIND' resolutions are no longer supported.
Please reopen this bug if it is still valid for you.</WithStack>
    <WithOutStack>I would like to use the javadoc wich have been linked to the jars of the 
projects classpath to be used as "linkoffline" in de creation of the projects 
javadoc. At least for those jars which have a javadoc.
ps I use a custom doclet
Are you aware of the export wizard to create Javadoc and the second page. It 
lets you check those existing javadoc to which links should be created.
Yes, but wen you enter a choose to custom doclet, the second page seems to be  
skipped 

Martin, please comment.
As soon as you choose to use a custom doclet, the standard doclet options don't 
apply anymore. Each doclet can define it's own set of arguments (of course your 
doclet could decide to use the standard options) so we can't add them.
An improvement of the wizard would be to allow you to specify that your doclets 
uses the standard options so the pages are still visible.

I'm afraid we won't have time to improve the Javadoc wizard in regard to custom 
doclets. As a workaround, I would suggest you to use the 'create ANT file' 
functionality from the wizard and modify the created script for your doclet.
As of now 'LATER' and 'REMIND' resolutions are no longer supported.
Please reopen this bug if it is still valid for you.</WithOutStack>
  </Bug>
  <Bug>
    <BugId amount="49126" />
    <CreationDate amount="2003-12-18 13:20:00 -0500" />
    <DupId amount="" />
    <classification amount="Eclipse" />
    <Product amount="JDT" />
    <component amount="UI" />
    <Version amount="3.0" />
    <rep_platform amount="PC" />
    <op_sys amount="Windows All" />
    <priority amount="P3" />
    <bug_severity amount="normal" />
    <Summery>Javadoc &gt; Project generation [javadoc]</Summery>
    <Patches amount="0" />
    <Stacktraces amount="0" />
    <SourceCodeRegions amount="0" />
    <Enumerations amount="0" />
    <bug_status amount="RESOLVED" />
    <resolution amount="FIXED" />
    <WithStack>Open generated index file in browser does not take in account the -d option 
when using a custom doclet.
Martin, can you please comment.
Ping Martin...
The -d options is only defined for standard doclets. custom doclet are free to 
choose their own arguments.
So the bug is that 'Open generated index file' is enabled for custom doclets
fixed &gt; 20040401

The 'Open generated index file' is now not shown anymore when running a doclet</WithStack>
    <WithOutStack>Open generated index file in browser does not take in account the -d option 
when using a custom doclet.
Martin, can you please comment.
Ping Martin...
The -d options is only defined for standard doclets. custom doclet are free to 
choose their own arguments.
So the bug is that 'Open generated index file' is enabled for custom doclets
fixed &gt; 20040401

The 'Open generated index file' is now not shown anymore when running a doclet</WithOutStack>
  </Bug>
  <Bug>
    <BugId amount="49127" />
    <CreationDate amount="2003-12-18 13:47:00 -0500" />
    <DupId amount="" />
    <classification amount="Eclipse Foundation" />
    <Product amount="z_Archived" />
    <component amount="Hyades" />
    <Version amount="unspecified" />
    <rep_platform amount="PC" />
    <op_sys amount="Windows XP" />
    <priority amount="P3" />
    <bug_severity amount="normal" />
    <Summery>HyadesResourceExtensions getInstance() will not run in standalone mode</Summery>
    <Patches amount="0" />
    <Stacktraces amount="1">
      <Stacktrace timestamp="1437341080808">
        <Exception>java.lang.NoClassDefFoundError</Exception>
        <Reason>org/eclipse/core/runtime/Plugin</Reason>
        <Frames>
          <Frame depth="0">org.eclipse.hyades.models.hierarchy.impl.TRCAgentImpl.getDefaultEvents(TRCAgentImpl.java:456)</Frame>
          <Frame depth="1">org.eclipse.hyades.loaders.cbe.XMLCommonBaseEventLoader.addYourselfInContext(XMLCommonBaseEventLoader.java:253)</Frame>
          <Frame depth="2">org.eclipse.hyades.loaders.util.XMLLoader.endElement(XMLLoader.java:270)</Frame>
          <Frame depth="3">org.eclipse.hyades.loaders.util.SAXFragmentHandler.endElement(SAXFragmentHandler.java:84)</Frame>
          <Frame depth="4">org.apache.xerces.parsers.AbstractSAXParser.endElement(AbstractSAXParser.java:569)</Frame>
          <Frame depth="5">org.apache.xerces.impl.XMLNamespaceBinder.endElement(XMLNamespaceBinder.java:646)</Frame>
          <Frame depth="6">org.apache.xerces.impl.dtd.XMLDTDValidator.handleEndElement(XMLDTDValidator.java:3003)</Frame>
          <Frame depth="7">org.apache.xerces.impl.dtd.XMLDTDValidator.endElement(XMLDTDValidator.java:931)</Frame>
          <Frame depth="8">org.apache.xerces.impl.XMLDocumentFragmentScannerImpl.handleEndElement(XMLDocumentFragmentScannerImpl.java:1147)</Frame>
          <Frame depth="9">org.apache.xerces.impl.XMLDocumentFragmentScannerImpl.scanEndElement(XMLDocumentFragmentScannerImpl.java:988)</Frame>
          <Frame depth="10">org.apache.xerces.impl.XMLDocumentFragmentScannerImpl$FragmentContentDispatcher.dispatch(XMLDocumentFragmentScannerImpl.java:1448)</Frame>
          <Frame depth="11">org.apache.xerces.impl.XMLDocumentFragmentScannerImpl.scanDocument(XMLDocumentFragmentScannerImpl.java:333)</Frame>
          <Frame depth="12">org.apache.xerces.parsers.StandardParserConfiguration.parse(StandardParserConfiguration.java:525)</Frame>
          <Frame depth="13">org.apache.xerces.parsers.StandardParserConfiguration.parse(StandardParserConfiguration.java:581)</Frame>
          <Frame depth="14">org.apache.xerces.parsers.XMLParser.parse(XMLParser.java:147)</Frame>
          <Frame depth="15">org.apache.xerces.parsers.AbstractSAXParser.parse(AbstractSAXParser.java:1158)</Frame>
          <Frame depth="16">javax.xml.parsers.SAXParser.parse(SAXParser.java:394)</Frame>
          <Frame depth="17">org.eclipse.hyades.loaders.util.SAXFragmentHandler.parse(SAXFragmentHandler.java:182)</Frame>
          <Frame depth="18">org.eclipse.hyades.loaders.util.SAXFragmentHandler$1.run(SAXFragmentHandler.java:56)</Frame>
        </Frames>
      </Stacktrace>
    </Stacktraces>
    <SourceCodeRegions amount="0" />
    <Enumerations amount="0" />
    <bug_status amount="CLOSED" />
    <resolution amount="INVALID" />
    <WithStack>When HyadesResourceExtensions.getInstance() is executed in standalone mode, an 
error stating that the Plugin class is not found is returned.  For standalone 
mode, the Plugin class should not be referenced.

java.lang.NoClassDefFoundError: org/eclipse/core/runtime/Plugin
	at 
org.eclipse.hyades.models.hierarchy.impl.TRCAgentImpl.getDefaultEvents
(TRCAgentImpl.java:456)
	at 
org.eclipse.hyades.loaders.cbe.XMLCommonBaseEventLoader.addYourselfInContext
(XMLCommonBaseEventLoader.java:253)
	at org.eclipse.hyades.loaders.util.XMLLoader.endElement
(XMLLoader.java:270)
	at org.eclipse.hyades.loaders.util.SAXFragmentHandler.endElement
(SAXFragmentHandler.java:84)
	at org.apache.xerces.parsers.AbstractSAXParser.endElement
(AbstractSAXParser.java:569)
	at org.apache.xerces.impl.XMLNamespaceBinder.endElement
(XMLNamespaceBinder.java:646)
	at org.apache.xerces.impl.dtd.XMLDTDValidator.handleEndElement
(XMLDTDValidator.java:3003)
	at org.apache.xerces.impl.dtd.XMLDTDValidator.endElement
(XMLDTDValidator.java:931)
	at 
org.apache.xerces.impl.XMLDocumentFragmentScannerImpl.handleEndElement
(XMLDocumentFragmentScannerImpl.java:1147)
	at org.apache.xerces.impl.XMLDocumentFragmentScannerImpl.scanEndElement
(XMLDocumentFragmentScannerImpl.java:988)
	at 
org.apache.xerces.impl.XMLDocumentFragmentScannerImpl$FragmentContentDispatcher
.dispatch(XMLDocumentFragmentScannerImpl.java:1448)
	at org.apache.xerces.impl.XMLDocumentFragmentScannerImpl.scanDocument
(XMLDocumentFragmentScannerImpl.java:333)
	at org.apache.xerces.parsers.StandardParserConfiguration.parse
(StandardParserConfiguration.java:525)
	at org.apache.xerces.parsers.StandardParserConfiguration.parse
(StandardParserConfiguration.java:581)
	at org.apache.xerces.parsers.XMLParser.parse(XMLParser.java:147)
	at org.apache.xerces.parsers.AbstractSAXParser.parse
(AbstractSAXParser.java:1158)
	at javax.xml.parsers.SAXParser.parse(SAXParser.java:394)
	at org.eclipse.hyades.loaders.util.SAXFragmentHandler.parse
(SAXFragmentHandler.java:182)
	at org.eclipse.hyades.loaders.util.SAXFragmentHandler$1.run
(SAXFragmentHandler.java:56)
cannot be contained in M10
Please reopen this bug if the fix is still required
No longer needed.</WithStack>
    <WithOutStack>When HyadesResourceExtensions.getInstance() is executed in standalone mode, an 
error stating that the Plugin class is not found is returned.  For standalone 
mode, the Plugin class should not be referenced.


cannot be contained in M10
Please reopen this bug if the fix is still required
No longer needed.</WithOutStack>
  </Bug>
  <Bug>
    <BugId amount="49128" />
    <CreationDate amount="2003-12-18 13:50:00 -0500" />
    <DupId amount="" />
    <classification amount="Eclipse" />
    <Product amount="JDT" />
    <component amount="Text" />
    <Version amount="2.1.1" />
    <rep_platform amount="PC" />
    <op_sys amount="Windows 2000" />
    <priority amount="P3" />
    <bug_severity amount="normal" />
    <Summery>API to get access to a IColorManager implementation</Summery>
    <Patches amount="0" />
    <Stacktraces amount="0" />
    <SourceCodeRegions amount="0" />
    <Enumerations amount="0" />
    <bug_status amount="RESOLVED" />
    <resolution amount="WORKSFORME" />
    <WithStack>For the WSADIE tooling, we have an expression editor which uses a java-like 
syntax. We would like to reuse the color define by the java editor (for 
strings, keywords, other).

I found the public interface IJavaColorConstants and IColorManager. But I could 
not find an API to get access to an implementation of IColorManager. The only 
thing I could find was JavaPlugin.getDefault().getJavaTextTools
().getColorManager(). But JavaPlugin is an internal class.

Is there some API I did not see to accomplish this? If not, could one be added?
Just adjusting the version to 2.1.1 (I've not looked at 3.0 code to see if 
there is such an API - if there is, great!)
You can create your own instance of JavaTextTools. If you decide to use the same
preferences as Java UI does then pass along the Java plug-in's preference store.</WithStack>
    <WithOutStack>For the WSADIE tooling, we have an expression editor which uses a java-like 
syntax. We would like to reuse the color define by the java editor (for 
strings, keywords, other).

I found the public interface IJavaColorConstants and IColorManager. But I could 
not find an API to get access to an implementation of IColorManager. The only 
thing I could find was JavaPlugin.getDefault().getJavaTextTools
().getColorManager(). But JavaPlugin is an internal class.

Is there some API I did not see to accomplish this? If not, could one be added?
Just adjusting the version to 2.1.1 (I've not looked at 3.0 code to see if 
there is such an API - if there is, great!)
You can create your own instance of JavaTextTools. If you decide to use the same
preferences as Java UI does then pass along the Java plug-in's preference store.</WithOutStack>
  </Bug>
  <Bug>
    <BugId amount="49129" />
    <CreationDate amount="2003-12-18 13:51:00 -0500" />
    <DupId amount="" />
    <classification amount="Eclipse Foundation" />
    <Product amount="z_Archived" />
    <component amount="Hyades" />
    <Version amount="unspecified" />
    <rep_platform amount="PC" />
    <op_sys amount="Linux" />
    <priority amount="P3" />
    <bug_severity amount="normal" />
    <Summery>LoggingUtilSample() fail to collect the CBEs</Summery>
    <Patches amount="0" />
    <Stacktraces amount="0" />
    <SourceCodeRegions amount="0" />
    <Enumerations amount="1">
      <Enumeration lines="9">
        <Lines>
          <Line>1. Enable logging using the following preference page:  window-&gt;preferences-</Line>
          <Line>&gt;Profile and Logging</Line>
          <Line>2. Add the agent "LoggingUtilSample logger" using the following preference</Line>
          <Line>page: window-&gt;preferences-&gt;Profiling and Logging-&gt;Logging Agents</Line>
          <Line>3. Launch (locally/remotely) to LoggingUtilSample.  ENSURE the jar files</Line>
          <Line>mentioned in LogAndProfile1 are included in the classpath.</Line>
          <Line>4. Press enter when prompted.</Line>
          <Line>6. Open the Log view and ensure that the "LoggingUtilSample logger" agent has</Line>
          <Line>recorded 41 CBEDefaultEvent objects.</Line>
        </Lines>
      </Enumeration>
    </Enumerations>
    <bug_status amount="CLOSED" />
    <resolution amount="FIXED" />
    <WithStack>driver: 20031216_1217
problem: running the test bucket LogandProfile2, the logger fail to collect any 
CBEs

Steps to recreate the scenario:
Instructions:

1. Enable logging using the following preference page:  window-&gt;preferences-
&gt;Profile and Logging
2. Add the agent "LoggingUtilSample logger" using the following preference 
page: window-&gt;preferences-&gt;Profiling and Logging-&gt;Logging Agents
3. Launch (locally/remotely) to LoggingUtilSample.  ENSURE the jar files 
mentioned in LogAndProfile1 are included in the classpath.
4. Press enter when prompted.
6. Open the Log view and ensure that the "LoggingUtilSample logger" agent has 
recorded 41 CBEDefaultEvent objects.

0 CBEdefaultEvent is being recorded.

Note:
This bug doesn not occur in AIX, so I suspect it is platform dependent.
Also this bug does not occur when running in enabled or controlled mode.
Verified fixed in Hyades build 20040209_1643.
house keeping
As of TPTP 4.6.0, TPTP is in maintenance mode and focusing on improving quality by resolving relevant enhancements/defects and increasing test coverage through test creation, automation, Build Verification Tests (BVTs), and expanded run-time execution. As part of the TPTP Bugzilla housecleaning process (see http://wiki.eclipse.org/Bugzilla_Housecleaning_Processes), this enhancement/defect is verified/closed by the Project Lead since this enhancement/defect has been resolved and unverified for more than 1 year and considered to be fixed. If this enhancement/defect is still unresolved and reproducible in the latest TPTP release (http://www.eclipse.org/tptp/home/downloads/), please re-open.</WithStack>
    <WithOutStack>driver: 20031216_1217
problem: running the test bucket LogandProfile2, the logger fail to collect any 
CBEs

Steps to recreate the scenario:
Instructions:

1. Enable logging using the following preference page:  window-&gt;preferences-
&gt;Profile and Logging
2. Add the agent "LoggingUtilSample logger" using the following preference 
page: window-&gt;preferences-&gt;Profiling and Logging-&gt;Logging Agents
3. Launch (locally/remotely) to LoggingUtilSample.  ENSURE the jar files 
mentioned in LogAndProfile1 are included in the classpath.
4. Press enter when prompted.
6. Open the Log view and ensure that the "LoggingUtilSample logger" agent has 
recorded 41 CBEDefaultEvent objects.

0 CBEdefaultEvent is being recorded.

Note:
This bug doesn not occur in AIX, so I suspect it is platform dependent.
Also this bug does not occur when running in enabled or controlled mode.
Verified fixed in Hyades build 20040209_1643.
house keeping
As of TPTP 4.6.0, TPTP is in maintenance mode and focusing on improving quality by resolving relevant enhancements/defects and increasing test coverage through test creation, automation, Build Verification Tests (BVTs), and expanded run-time execution. As part of the TPTP Bugzilla housecleaning process (see http://wiki.eclipse.org/Bugzilla_Housecleaning_Processes), this enhancement/defect is verified/closed by the Project Lead since this enhancement/defect has been resolved and unverified for more than 1 year and considered to be fixed. If this enhancement/defect is still unresolved and reproducible in the latest TPTP release (http://www.eclipse.org/tptp/home/downloads/), please re-open.</WithOutStack>
  </Bug>
  <Bug>
    <BugId amount="49130" />
    <CreationDate amount="2003-12-18 14:11:00 -0500" />
    <DupId amount="" />
    <classification amount="Eclipse Foundation" />
    <Product amount="z_Archived" />
    <component amount="Hyades" />
    <Version amount="unspecified" />
    <rep_platform amount="All" />
    <op_sys amount="All" />
    <priority amount="P3" />
    <bug_severity amount="normal" />
    <Summery>HyadesLoggingJava14Sample theows NullPointerEceptions.</Summery>
    <Patches amount="0" />
    <Stacktraces amount="0" />
    <SourceCodeRegions amount="0" />
    <Enumerations amount="0" />
    <bug_status amount="CLOSED" />
    <resolution amount="FIXED" />
    <WithStack>HyadesLoggingJava14Sample theows NullPointerEceptions.
Fixed in the Hyades 20040115_0724 build.
Closing.
house keeping</WithStack>
    <WithOutStack>HyadesLoggingJava14Sample theows NullPointerEceptions.
Fixed in the Hyades 20040115_0724 build.
Closing.
house keeping</WithOutStack>
  </Bug>
  <Bug>
    <BugId amount="49131" />
    <CreationDate amount="2003-12-18 14:15:00 -0500" />
    <DupId amount="" />
    <classification amount="Eclipse Foundation" />
    <Product amount="z_Archived" />
    <component amount="Hyades" />
    <Version amount="unspecified" />
    <rep_platform amount="All" />
    <op_sys amount="All" />
    <priority amount="P3" />
    <bug_severity amount="normal" />
    <Summery>MyParser example does not implement all Parser methods.</Summery>
    <Patches amount="0" />
    <Stacktraces amount="0" />
    <SourceCodeRegions amount="0" />
    <Enumerations amount="0" />
    <bug_status amount="CLOSED" />
    <resolution amount="FIXED" />
    <WithStack>MyParser example does not implement all Parser methods.
Code checked-in on 29/01/2004.
Closing.
house keeping</WithStack>
    <WithOutStack>MyParser example does not implement all Parser methods.
Code checked-in on 29/01/2004.
Closing.
house keeping</WithOutStack>
  </Bug>
  <Bug>
    <BugId amount="49132" />
    <CreationDate amount="2003-12-18 14:22:00 -0500" />
    <DupId amount="" />
    <classification amount="Eclipse" />
    <Product amount="Platform" />
    <component amount="CVS" />
    <Version amount="3.0" />
    <rep_platform amount="PC" />
    <op_sys amount="Windows XP" />
    <priority amount="P3" />
    <bug_severity amount="normal" />
    <Summery>Message in log after binary plugin import</Summery>
    <Patches amount="0" />
    <Stacktraces amount="0" />
    <SourceCodeRegions amount="0" />
    <Enumerations amount="0" />
    <bug_status amount="RESOLVED" />
    <resolution amount="WORKSFORME" />
    <WithStack>The followign message appeared in the log after binary plugin import of 
org.eclipse.swt.

Errors have occured while calculating the synchronization state. The 
Synchronize View may be out-of-date. Refresh the view or fix the errors and re-
run the Synchronize command.

CVS synchronization information could not be found for 
folder '/org.eclipse.team.ui/bin/org/eclipse/team/internal/ui/preferences'

Given that the resource in question is in the build folder, the condition 
makes sense. The question is why it was logged at all. Unfortunately, no stack 
trace was included.
Could be another side effect of an intermittant delta at just the wrong time.
Unable to reproduce</WithStack>
    <WithOutStack>The followign message appeared in the log after binary plugin import of 
org.eclipse.swt.

Errors have occured while calculating the synchronization state. The 
Synchronize View may be out-of-date. Refresh the view or fix the errors and re-
run the Synchronize command.

CVS synchronization information could not be found for 
folder '/org.eclipse.team.ui/bin/org/eclipse/team/internal/ui/preferences'

Given that the resource in question is in the build folder, the condition 
makes sense. The question is why it was logged at all. Unfortunately, no stack 
trace was included.
Could be another side effect of an intermittant delta at just the wrong time.
Unable to reproduce</WithOutStack>
  </Bug>
  <Bug>
    <BugId amount="49133" />
    <CreationDate amount="2003-12-18 14:28:00 -0500" />
    <DupId amount="" />
    <classification amount="Eclipse" />
    <Product amount="Platform" />
    <component amount="SWT" />
    <Version amount="3.0" />
    <rep_platform amount="All" />
    <op_sys amount="All" />
    <priority amount="P3" />
    <bug_severity amount="normal" />
    <Summery>SWT_AWT API class undocumented</Summery>
    <Patches amount="0" />
    <Stacktraces amount="0" />
    <SourceCodeRegions amount="0" />
    <Enumerations amount="1">
      <Enumeration lines="4">
        <Lines>
          <Line>- API elements must have specs</Line>
          <Line>- new API elements must be tagged @since 3.0</Line>
          <Line>*** Bug 49134 has been marked as a duplicate of this bug. ***</Line>
          <Line>SSQ: ...and JUnit tests too.</Line>
        </Lines>
      </Enumeration>
    </Enumerations>
    <bug_status amount="RESOLVED" />
    <resolution amount="FIXED" />
    <WithStack>Build I200312162000

The new API class is missing Javadoc.
- API elements must have specs
- new API elements must be tagged @since 3.0
*** Bug 49134 has been marked as a duplicate of this bug. ***
SSQ: ...and JUnit tests too.

Fixed &gt; 20040419.</WithStack>
    <WithOutStack>Build I200312162000

The new API class is missing Javadoc.
- API elements must have specs
- new API elements must be tagged @since 3.0
*** Bug 49134 has been marked as a duplicate of this bug. ***
SSQ: ...and JUnit tests too.

Fixed &gt; 20040419.</WithOutStack>
  </Bug>
  <Bug>
    <BugId amount="49134" />
    <CreationDate amount="2003-12-18 14:40:00 -0500" />
    <DupId amount="49133" />
    <classification amount="Eclipse" />
    <Product amount="Platform" />
    <component amount="SWT" />
    <Version amount="3.0" />
    <rep_platform amount="PC" />
    <op_sys amount="Windows XP" />
    <priority amount="P3" />
    <bug_severity amount="normal" />
    <Summery>SWT_AWT has no javadoc</Summery>
    <Patches amount="0" />
    <Stacktraces amount="0" />
    <SourceCodeRegions amount="0" />
    <Enumerations amount="0" />
    <bug_status amount="RESOLVED" />
    <resolution amount="DUPLICATE" />
    <WithStack>Now that this is public, it should be properly documented and @since 3.0 
should be added to all the API.


*** This bug has been marked as a duplicate of 49133 ***</WithStack>
    <WithOutStack>Now that this is public, it should be properly documented and @since 3.0 
should be added to all the API.


*** This bug has been marked as a duplicate of 49133 ***</WithOutStack>
  </Bug>
  <Bug>
    <BugId amount="49135" />
    <CreationDate amount="2003-12-18 14:41:00 -0500" />
    <DupId amount="" />
    <classification amount="Eclipse" />
    <Product amount="Platform" />
    <component amount="Update  (deprecated - use RT&gt;Equinox&gt;p2)" />
    <Version amount="3.0" />
    <rep_platform amount="PC" />
    <op_sys amount="Windows XP" />
    <priority amount="P3" />
    <bug_severity amount="blocker" />
    <Summery>Newly installed features are not recongnized</Summery>
    <Patches amount="0" />
    <Stacktraces amount="0" />
    <SourceCodeRegions amount="0" />
    <Enumerations amount="0" />
    <bug_status amount="RESOLVED" />
    <resolution amount="FIXED" />
    <WithStack>After a new feature is installed and eclipse restarts, the newly installed 
plugins are not recongnized by the runtime.
It appears the the configurator does not call bundleContext.install for the 
new plugins and this is caused by the caching the timestamp of the 
configuration at the wrong time.

The timestamp processed last should be saved after the installBundles() method 
finishes.
Fixed, as suggested above.</WithStack>
    <WithOutStack>After a new feature is installed and eclipse restarts, the newly installed 
plugins are not recongnized by the runtime.
It appears the the configurator does not call bundleContext.install for the 
new plugins and this is caused by the caching the timestamp of the 
configuration at the wrong time.

The timestamp processed last should be saved after the installBundles() method 
finishes.
Fixed, as suggested above.</WithOutStack>
  </Bug>
  <Bug>
    <BugId amount="49136" />
    <CreationDate amount="2003-12-18 14:49:00 -0500" />
    <DupId amount="" />
    <classification amount="Eclipse Foundation" />
    <Product amount="z_Archived" />
    <component amount="Hyades" />
    <Version amount="unspecified" />
    <rep_platform amount="All" />
    <op_sys amount="All" />
    <priority amount="P3" />
    <bug_severity amount="critical" />
    <Summery>Log Navigator does not show all imported log files.</Summery>
    <Patches amount="0" />
    <Stacktraces amount="0" />
    <SourceCodeRegions amount="0" />
    <Enumerations amount="0" />
    <bug_status amount="CLOSED" />
    <resolution amount="INVALID" />
    <WithStack>Log Navigator does not show all imported log files.

When the user imports an Apache access and error log file, only the error log 
is shown in the Log Navigator.
Cannot reproduce the problem with hyades.runtime_1.2.0_20031218_0952.zip.
Closing.
house keeping</WithStack>
    <WithOutStack>Log Navigator does not show all imported log files.

When the user imports an Apache access and error log file, only the error log 
is shown in the Log Navigator.
Cannot reproduce the problem with hyades.runtime_1.2.0_20031218_0952.zip.
Closing.
house keeping</WithOutStack>
  </Bug>
  <Bug>
    <BugId amount="49137" />
    <CreationDate amount="2003-12-18 14:54:00 -0500" />
    <DupId amount="" />
    <classification amount="Eclipse Foundation" />
    <Product amount="z_Archived" />
    <component amount="Hyades" />
    <Version amount="unspecified" />
    <rep_platform amount="All" />
    <op_sys amount="Windows 2000" />
    <priority amount="P3" />
    <bug_severity amount="blocker" />
    <Summery>Template Log and Outputter Result are Blank</Summery>
    <Patches amount="0" />
    <Stacktraces amount="0" />
    <SourceCodeRegions amount="0" />
    <Enumerations amount="0" />
    <bug_status amount="CLOSED" />
    <resolution amount="FIXED" />
    <WithStack>When I hit the rerun Adapter action, the Log Content pane populates 
successfully. However, the template Log, and Outputter results are empty not 
allowing the user to parse through the events.
When I try to open the .out file as an xml documents it says that there is a 
Reference to undeclared namespace prefix: 'xsi' at this location in the file:
&lt;situation categoryName="ReportSituation"&gt;&lt;situationType 
xsi:type="ReportSituation" reasoningScope="INTERNAL" 
reportCategory="STATUS"/&gt;&lt;/situation&gt;
Fixed.  Removed the IContextListener when the adapter is stopped.
Verified.
Closing Bug.
house keeping</WithStack>
    <WithOutStack>When I hit the rerun Adapter action, the Log Content pane populates 
successfully. However, the template Log, and Outputter results are empty not 
allowing the user to parse through the events.
When I try to open the .out file as an xml documents it says that there is a 
Reference to undeclared namespace prefix: 'xsi' at this location in the file:
&lt;situation categoryName="ReportSituation"&gt;&lt;situationType 
xsi:type="ReportSituation" reasoningScope="INTERNAL" 
reportCategory="STATUS"/&gt;&lt;/situation&gt;
Fixed.  Removed the IContextListener when the adapter is stopped.
Verified.
Closing Bug.
house keeping</WithOutStack>
  </Bug>
  <Bug>
    <BugId amount="49138" />
    <CreationDate amount="2003-12-18 15:03:00 -0500" />
    <DupId amount="" />
    <classification amount="Eclipse Foundation" />
    <Product amount="z_Archived" />
    <component amount="Hyades" />
    <Version amount="unspecified" />
    <rep_platform amount="All" />
    <op_sys amount="All" />
    <priority amount="P3" />
    <bug_severity amount="critical" />
    <Summery>AC driver cannot import WAS activity logs from V5.x RAC.</Summery>
    <Patches amount="0" />
    <Stacktraces amount="0" />
    <SourceCodeRegions amount="0" />
    <Enumerations amount="0" />
    <bug_status amount="CLOSED" />
    <resolution amount="INVALID" />
    <WithStack>The following test case failed:

Configuration:

Machine A :  Install current WSAD
Machine B :  Install V5.0 GA RAC

From Machine A:
File-&gt;Import-&gt;Log File--&gt;WebSphere Application Server V4 activity log parser
Select machine B as the remote host
Open the activity.log from machine B

NOTE: Complete the same steps for a V5 WebSphere Application Server (e.g. File-
&gt;Import-&gt;Log File--&gt;WebSphere Application Server V5 activity log parser).

The activity.log from machine B should be properly displayed on machine A.

Machine A should be W2K/XP
Can you please take a look at this
This is an IBM related bug, please reopen it in the internal bug tracking 
system.
Defect opened in internal IBM system.
Closing.
house keeping</WithStack>
    <WithOutStack>The following test case failed:

Configuration:

Machine A :  Install current WSAD
Machine B :  Install V5.0 GA RAC

From Machine A:
File-&gt;Import-&gt;Log File--&gt;WebSphere Application Server V4 activity log parser
Select machine B as the remote host
Open the activity.log from machine B

NOTE: Complete the same steps for a V5 WebSphere Application Server (e.g. File-
&gt;Import-&gt;Log File--&gt;WebSphere Application Server V5 activity log parser).

The activity.log from machine B should be properly displayed on machine A.

Machine A should be W2K/XP
Can you please take a look at this
This is an IBM related bug, please reopen it in the internal bug tracking 
system.
Defect opened in internal IBM system.
Closing.
house keeping</WithOutStack>
  </Bug>
  <Bug>
    <BugId amount="49139" />
    <CreationDate amount="2003-12-18 15:19:00 -0500" />
    <DupId amount="42176" />
    <classification amount="Eclipse" />
    <Product amount="Platform" />
    <component amount="UI" />
    <Version amount="3.0" />
    <rep_platform amount="PC" />
    <op_sys amount="Windows 2000" />
    <priority amount="P3" />
    <bug_severity amount="normal" />
    <Summery>Open Project causes org.eclipse.swt.SWTException: Invalid thread access</Summery>
    <Patches amount="0" />
    <Stacktraces amount="1">
      <Stacktrace timestamp="1437341080815">
        <Exception>org.eclipse.swt.SWTException</Exception>
        <Reason>Invalid thread access</Reason>
        <Frames>
          <Frame depth="0">org.eclipse.swt.SWT.error(SWT.java:2592)</Frame>
          <Frame depth="1">org.eclipse.swt.SWT.error(SWT.java:2522)</Frame>
          <Frame depth="2">org.eclipse.swt.dnd.DND.error(DND.java:230)</Frame>
          <Frame depth="3">org.eclipse.swt.dnd.DND.error(DND.java:181)</Frame>
          <Frame depth="4">org.eclipse.swt.dnd.Clipboard.checkWidget(Clipboard.java:129)</Frame>
          <Frame depth="5">org.eclipse.swt.dnd.Clipboard.getAvailableTypes(Clipboard.java:409)</Frame>
          <Frame depth="6">org.eclipse.ui.views.navigator.PasteAction.updateSelection(PasteAction.java:220)</Frame>
          <Frame depth="7">org.eclipse.ui.actions.BaseSelectionListenerAction.selectionChanged(BaseSelectionListenerAction.java:102)</Frame>
          <Frame depth="8">org.eclipse.ui.views.navigator.RefactorActionGroup.updateActionBars(RefactorActionGroup.java:139)</Frame>
          <Frame depth="9">org.eclipse.ui.views.navigator.MainActionGroup.handleResourceChanged(MainActionGroup.java:109)</Frame>
          <Frame depth="10">org.eclipse.ui.views.navigator.MainActionGroup$1.resourceChanged(MainActionGroup.java:76)</Frame>
          <Frame depth="11">org.eclipse.core.internal.events.NotificationManager$2.run(NotificationManager.java:251)</Frame>
          <Frame depth="12">org.eclipse.core.internal.runtime.InternalPlatform.run(InternalPlatform.java:1127)</Frame>
          <Frame depth="13">org.eclipse.core.runtime.Platform.run(Platform.java:464)</Frame>
          <Frame depth="14">org.eclipse.core.internal.events.NotificationManager.notify(NotificationManager.java:244)</Frame>
          <Frame depth="15">org.eclipse.core.internal.events.NotificationManager.broadcastChanges(NotificationManager.java:138)</Frame>
          <Frame depth="16">org.eclipse.core.internal.resources.Workspace.broadcastChanges(Workspace.java:146)</Frame>
          <Frame depth="17">org.eclipse.core.internal.resources.Workspace.endOperation(Workspace.java:847)</Frame>
          <Frame depth="18">org.eclipse.core.internal.resources.Workspace.run(Workspace.java:1563)</Frame>
          <Frame depth="19">org.eclipse.ui.actions.WorkspaceModifyOperation.run(WorkspaceModifyOperation.java:105)</Frame>
          <Frame depth="20">org.eclipse.jface.operation.ModalContext$ModalContextThread.run(ModalContext.java:101)</Frame>
        </Frames>
      </Stacktrace>
    </Stacktraces>
    <SourceCodeRegions amount="1">
      <source_code type="functioncall">
        <location start="541" end="575" />
        <code>(SWT.ERROR_THREAD_INVALID_ACCESS);</code>
      </source_code>
    </SourceCodeRegions>
    <Enumerations amount="0" />
    <bug_status amount="CLOSED" />
    <resolution amount="DUPLICATE" />
    <WithStack>Using M5, create a new project in from the Resource Perspective. Right click and
close. Then right click and open. The open should(n't) trigger the following
stack trace:

!ENTRY org.eclipse.core.resources 4 2 Dec 18, 2003 15:14:32.979
!MESSAGE Problems occurred when invoking code from plug-in:
"org.eclipse.core.resources".
!STACK 0
org.eclipse.swt.SWTException: Invalid thread access
	at org.eclipse.swt.SWT.error(SWT.java:2592)
	at org.eclipse.swt.SWT.error(SWT.java:2522)
	at org.eclipse.swt.dnd.DND.error(DND.java:230)
	at org.eclipse.swt.dnd.DND.error(DND.java:181)
	at org.eclipse.swt.dnd.Clipboard.checkWidget(Clipboard.java:129)
	at org.eclipse.swt.dnd.Clipboard.getAvailableTypes(Clipboard.java:409)
	at org.eclipse.ui.views.navigator.PasteAction.updateSelection(PasteAction.java:220)
	at
org.eclipse.ui.actions.BaseSelectionListenerAction.selectionChanged(BaseSelectionListenerAction.java:102)
	at
org.eclipse.ui.views.navigator.RefactorActionGroup.updateActionBars(RefactorActionGroup.java:139)
	at
org.eclipse.ui.views.navigator.MainActionGroup.handleResourceChanged(MainActionGroup.java:109)
	at
org.eclipse.ui.views.navigator.MainActionGroup$1.resourceChanged(MainActionGroup.java:76)
	at
org.eclipse.core.internal.events.NotificationManager$2.run(NotificationManager.java:251)
	at
org.eclipse.core.internal.runtime.InternalPlatform.run(InternalPlatform.java:1127)
	at org.eclipse.core.runtime.Platform.run(Platform.java:464)
	at
org.eclipse.core.internal.events.NotificationManager.notify(NotificationManager.java:244)
	at
org.eclipse.core.internal.events.NotificationManager.broadcastChanges(NotificationManager.java:138)
	at
org.eclipse.core.internal.resources.Workspace.broadcastChanges(Workspace.java:146)
	at org.eclipse.core.internal.resources.Workspace.endOperation(Workspace.java:847)
	at org.eclipse.core.internal.resources.Workspace.run(Workspace.java:1563)
	at
org.eclipse.ui.actions.WorkspaceModifyOperation.run(WorkspaceModifyOperation.java:105)
	at
org.eclipse.jface.operation.ModalContext$ModalContextThread.run(ModalContext.java:101)


I *think* this might have something to do with an improper
getDisplay().asyncExec() call, since the problem line in the Clipboard class is 

if (display.getThread() != Thread.currentThread ()) DND.error
(SWT.ERROR_THREAD_INVALID_ACCESS);


*** This bug has been marked as a duplicate of 42176 ***
Dup</WithStack>
    <WithOutStack>Using M5, create a new project in from the Resource Perspective. Right click and
close. Then right click and open. The open should(n't) trigger the following
stack trace:

!ENTRY org.eclipse.core.resources 4 2 Dec 18, 2003 15:14:32.979
!MESSAGE Problems occurred when invoking code from plug-in:
"org.eclipse.core.resources".
!STACK 0



I *think* this might have something to do with an improper
getDisplay().asyncExec() call, since the problem line in the Clipboard class is 

if (display.getThread() != Thread.currentThread ()) DND.error
(SWT.ERROR_THREAD_INVALID_ACCESS);


*** This bug has been marked as a duplicate of 42176 ***
Dup</WithOutStack>
  </Bug>
  <Bug>
    <BugId amount="49140" />
    <CreationDate amount="2003-12-18 15:53:00 -0500" />
    <DupId amount="" />
    <classification amount="Eclipse" />
    <Product amount="Platform" />
    <component amount="SWT" />
    <Version amount="3.0" />
    <rep_platform amount="PC" />
    <op_sys amount="Linux-GTK" />
    <priority amount="P3" />
    <bug_severity amount="normal" />
    <Summery>GTK fires additional events than Windows when selecting a Combo item</Summery>
    <Patches amount="0" />
    <Stacktraces amount="0" />
    <SourceCodeRegions amount="0" />
    <Enumerations amount="0" />
    <bug_status amount="RESOLVED" />
    <resolution amount="WONTFIX" />
    <WithStack>When running org.eclipse.swt.examples in package controlexample, I selected 4
kind of event listeners for Combo widget: Selection, defaultSelection, FocusIn,
FocusOut. Then I click the combo and select a different item. The event console
shows 4 events in the following order:

FocusIn, FocusOut, Selection, FocusIn

Repeat the same steps on WondowsXP, 2 events are fired: FocusIn, Selection.
FH to investigate.

In GTK version &gt; 2.0.6 we send focus event when the text widget (component of 
the combo) loses focus to the list widget (component of the combo as well).
Still happens in the old combo box (version &lt; 2.2)
In Gtk 2.4 this works the same as windows. closing as won't fix.</WithStack>
    <WithOutStack>When running org.eclipse.swt.examples in package controlexample, I selected 4
kind of event listeners for Combo widget: Selection, defaultSelection, FocusIn,
FocusOut. Then I click the combo and select a different item. The event console
shows 4 events in the following order:

FocusIn, FocusOut, Selection, FocusIn

Repeat the same steps on WondowsXP, 2 events are fired: FocusIn, Selection.
FH to investigate.

In GTK version &gt; 2.0.6 we send focus event when the text widget (component of 
the combo) loses focus to the list widget (component of the combo as well).
Still happens in the old combo box (version &lt; 2.2)
In Gtk 2.4 this works the same as windows. closing as won't fix.</WithOutStack>
  </Bug>
  <Bug>
    <BugId amount="49141" />
    <CreationDate amount="2003-12-18 15:53:00 -0500" />
    <DupId amount="" />
    <classification amount="RT" />
    <Product amount="Equinox" />
    <component amount="Incubator" />
    <Version amount="unspecified" />
    <rep_platform amount="PC" />
    <op_sys amount="Windows 2000" />
    <priority amount="P3" />
    <bug_severity amount="normal" />
    <Summery>command line processing needs improvements</Summery>
    <Patches amount="0" />
    <Stacktraces amount="0" />
    <SourceCodeRegions amount="0" />
    <Enumerations amount="3">
      <Enumeration lines="5">
        <Lines>
          <Line>a) requires extra api/structure</Line>
          <Line>b) is prone to error on the part of the consumers</Line>
          <Line>c) does not solve the problem of arg collisions (e.g., what if AntRunner had a -</Line>
          <Line>application switch?)</Line>
          <Line>d) has a race condition in that the args must be setup before the app is run</Line>
        </Lines>
      </Enumeration>
      <Enumeration lines="24">
        <Lines>
          <Line>1. shared install with read-only install directory: when a user launches</Line>
          <Line>eclipse in his own account, we automatically create a new configuration</Line>
          <Line>directory.</Line>
          <Line>- if the user configuration directory already exists and populated with</Line>
          <Line>appropriate files, just use it.</Line>
          <Line>- If the shared install directory does not have a configuration</Line>
          <Line>dir, then we create the full content of the configuration dir</Line>
          <Line>(by picking up all the features/plugins available).</Line>
          <Line>- If there is a shared configuration, then the configuration created</Line>
          <Line>for each user will "cascade" it, by linking to the shared config info.</Line>
          <Line>So, the user config will initially consist of just one link that will</Line>
          <Line>be processed and the configuration initialized from the shared location</Line>
          <Line>and treated as "read-only", i.e. no installs/updates/enable/disable are</Line>
          <Line>allowed on features from the shared config.</Line>
          <Line>The user can still install new features under his own directories, and</Line>
          <Line>this info will be added to the local config.</Line>
          <Line>2. shared or local install, but with -configuration:</Line>
          <Line>Apply the same algorithm as above, where the shared location is</Line>
          <Line>considered to be the eclipse installation, and the user location is what -</Line>
          <Line>configuration points to.</Line>
          <Line>This seems reasonable except it does not allow someone to freeze their</Line>
          <Line>configuration and isolate it from updates to the shared install.  I like the</Line>
          <Line>idea of NOT using a command line arg but there should be some ability to</Line>
          <Line>basically collapse the cascade into the users area.</Line>
        </Lines>
      </Enumeration>
      <Enumeration lines="21">
        <Lines>
          <Line>- if the user configuration directory already exists and populated with</Line>
          <Line>appropriate files, just use it.</Line>
          <Line>- If the shared install directory does not have a configuration</Line>
          <Line>dir, then we create the full content of the configuration dir</Line>
          <Line>(by picking up all the features/plugins available).</Line>
          <Line>- If there is a shared configuration, then the configuration created</Line>
          <Line>for each user will "cascade" it, by linking to the shared config info.</Line>
          <Line>So, the user config will initially consist of just one link that will</Line>
          <Line>be processed and the configuration initialized from the shared location</Line>
          <Line>and treated as "read-only", i.e. no installs/updates/enable/disable are</Line>
          <Line>allowed on features from the shared config.</Line>
          <Line>The user can still install new features under his own directories, and</Line>
          <Line>this info will be added to the local config.</Line>
          <Line>2. shared or local install, but with -configuration:</Line>
          <Line>Apply the same algorithm as above, where the shared location is</Line>
          <Line>considered to be the eclipse installation, and the user location is what -</Line>
          <Line>configuration points to.</Line>
          <Line>This seems reasonable except it does not allow someone to freeze their</Line>
          <Line>configuration and isolate it from updates to the shared install.  I like the</Line>
          <Line>idea of NOT using a command line arg but there should be some ability to</Line>
          <Line>basically collapse the cascade into the users area.</Line>
        </Lines>
      </Enumeration>
    </Enumerations>
    <bug_status amount="RESOLVED" />
    <resolution amount="FIXED" />
    <WithStack>Previously there was some amount of command line consumption caused by code 
from update.   Things like -noupdate, -feature, etc were consumed by the main() 
or Platform.startup().  As a result, they were not passed on to applications 
(like AntRunner).

With the extraction of the update (and other) code from the startup sequence, 
the consumption of these args has stopped.  As a result, the args are showing 
up on the app command line.  Apps like AntRunner are somewhat confused.

There are other args we are consuming that we probably should stop.  This iwll 
make the problem worse.  Unfortunately, there are parts of the system which 
need configuration but are neither part of the runtime or part of the 
appliation (e.g., update).  How do we pass args to them?

Certainly the system property approach is workable but it is less than optimal 
for the user

Another option is to allow arg consumers to signal the runtime that they have 
consumed the argument.  This works as well but 
a) requires extra api/structure 
b) is prone to error on the part of the consumers 
c) does not solve the problem of arg collisions (e.g., what if AntRunner had a -
application switch?)
d) has a race condition in that the args must be setup before the app is run

Thoughts and comments welcome.
In the new re-work of the startup code, Update Manager will not need command 
line arguments (other than the -force/freeze argument we discussed to lock a 
configuration). I will update the bug once I get back from vacation and get 
some work done.
Great.  When you get back, we should consider if the force/freeze function 
should be controlled by a command line arg or if it is essentially a utility 
that someone runs on a config to freeze it.  I.e, would you expect people to be 
running with -freeze all the time or just one time?  Thanks

Can we pick this up and decide what we need?
Here is my proposal:

a). do not support any command line arg for controlling "freeze"/"cascade"
b). there are two scenarios
    1. shared install with read-only install directory: when a user launches 
       eclipse in his own account, we automatically create a new configuration
       directory. 
       - if the user configuration directory already exists and populated with
        appropriate files, just use it.
       - If the shared install directory does not have a configuration
       dir, then we create the full content of the configuration dir
       (by picking up all the features/plugins available).
       - If there is a shared configuration, then the configuration created
       for each user will "cascade" it, by linking to the shared config info.
       So, the user config will initially consist of just one link that will
       be processed and the configuration initialized from the shared location
       and treated as "read-only", i.e. no installs/updates/enable/disable are
       allowed on features from the shared config.
       The user can still install new features under his own directories, and
       this info will be added to the local config. 
     2. shared or local install, but with -configuration:
       Apply the same algorithm as above, where the shared location is 
considered to be the eclipse installation, and the user location is what -
configuration points to.
This seems reasonable except it does not allow someone to freeze their 
configuration and isolate it from updates to the shared install.  I like the 
idea of NOT using a command line arg but there should be some ability to 
basically collapse the cascade into the users area.


That looks like an advance feature, and the user can simply do it by copying 
the configuration himself.
I am not sure a raw copy of the configuration is going to work - the URLs may 
be relative to the original location and may need to be expanded/modified. 
I think a raw copy of the configuration should work. All sites within an 
install would have to be saved with platform:/base/some_path/. The other paths 
will be saved absolutely. The only issues is if some file systems are mounted 
with different paths in root and user's accounts, but in that case our code 
won't be able to do a better job either.
BTW, we may need to revisit the proposal for variable substitution in site 
paths (I think it was Mel who was willing to provide the code).
Command line processing has been rationalized and cleaned up.  We have not done 
any variable substitution and likely will not for 3.0.</WithStack>
    <WithOutStack>Previously there was some amount of command line consumption caused by code 
from update.   Things like -noupdate, -feature, etc were consumed by the main() 
or Platform.startup().  As a result, they were not passed on to applications 
(like AntRunner).

With the extraction of the update (and other) code from the startup sequence, 
the consumption of these args has stopped.  As a result, the args are showing 
up on the app command line.  Apps like AntRunner are somewhat confused.

There are other args we are consuming that we probably should stop.  This iwll 
make the problem worse.  Unfortunately, there are parts of the system which 
need configuration but are neither part of the runtime or part of the 
appliation (e.g., update).  How do we pass args to them?

Certainly the system property approach is workable but it is less than optimal 
for the user

Another option is to allow arg consumers to signal the runtime that they have 
consumed the argument.  This works as well but 
a) requires extra api/structure 
b) is prone to error on the part of the consumers 
c) does not solve the problem of arg collisions (e.g., what if AntRunner had a -
application switch?)
d) has a race condition in that the args must be setup before the app is run

Thoughts and comments welcome.
In the new re-work of the startup code, Update Manager will not need command 
line arguments (other than the -force/freeze argument we discussed to lock a 
configuration). I will update the bug once I get back from vacation and get 
some work done.
Great.  When you get back, we should consider if the force/freeze function 
should be controlled by a command line arg or if it is essentially a utility 
that someone runs on a config to freeze it.  I.e, would you expect people to be 
running with -freeze all the time or just one time?  Thanks

Can we pick this up and decide what we need?
Here is my proposal:

a). do not support any command line arg for controlling "freeze"/"cascade"
b). there are two scenarios
    1. shared install with read-only install directory: when a user launches 
       eclipse in his own account, we automatically create a new configuration
       directory. 
       - if the user configuration directory already exists and populated with
        appropriate files, just use it.
       - If the shared install directory does not have a configuration
       dir, then we create the full content of the configuration dir
       (by picking up all the features/plugins available).
       - If there is a shared configuration, then the configuration created
       for each user will "cascade" it, by linking to the shared config info.
       So, the user config will initially consist of just one link that will
       be processed and the configuration initialized from the shared location
       and treated as "read-only", i.e. no installs/updates/enable/disable are
       allowed on features from the shared config.
       The user can still install new features under his own directories, and
       this info will be added to the local config. 
     2. shared or local install, but with -configuration:
       Apply the same algorithm as above, where the shared location is 
considered to be the eclipse installation, and the user location is what -
configuration points to.
This seems reasonable except it does not allow someone to freeze their 
configuration and isolate it from updates to the shared install.  I like the 
idea of NOT using a command line arg but there should be some ability to 
basically collapse the cascade into the users area.


That looks like an advance feature, and the user can simply do it by copying 
the configuration himself.
I am not sure a raw copy of the configuration is going to work - the URLs may 
be relative to the original location and may need to be expanded/modified. 
I think a raw copy of the configuration should work. All sites within an 
install would have to be saved with platform:/base/some_path/. The other paths 
will be saved absolutely. The only issues is if some file systems are mounted 
with different paths in root and user's accounts, but in that case our code 
won't be able to do a better job either.
BTW, we may need to revisit the proposal for variable substitution in site 
paths (I think it was Mel who was willing to provide the code).
Command line processing has been rationalized and cleaned up.  We have not done 
any variable substitution and likely will not for 3.0.</WithOutStack>
  </Bug>
  <Bug>
    <BugId amount="49142" />
    <CreationDate amount="2003-12-18 15:54:00 -0500" />
    <DupId amount="" />
    <classification amount="RT" />
    <Product amount="Equinox" />
    <component amount="Incubator" />
    <Version amount="unspecified" />
    <rep_platform amount="All" />
    <op_sys amount="All" />
    <priority amount="P3" />
    <bug_severity amount="enhancement" />
    <Summery>Zipped Plugin Option</Summery>
    <Patches amount="0" />
    <Stacktraces amount="0" />
    <SourceCodeRegions amount="0" />
    <Enumerations amount="1">
      <Enumeration lines="4">
        <Lines>
          <Line>1) plugins in dirs iwth code in jars or in dirs</Line>
          <Line>2) plugins in jars with code at root of jar</Line>
          <Line>3) plugins in jars with code in dirs in the jar</Line>
          <Line>4) plugins in jars with code in nested jars</Line>
        </Lines>
      </Enumeration>
    </Enumerations>
    <bug_status amount="RESOLVED" />
    <resolution amount="FIXED" />
    <WithStack>Extend the plugin facility to include the option of placing plugins as zip or
jar files.
I thought there was already a request for running out of JAR/ZIP files but I
can't find it. 

Moving to Equinox for comment. 
related also to bug #48416.  We are looking at this for inclusion in M7
This support is included in the runtime now.  The runtime supports
1) plugins in dirs iwth code in jars or in dirs
2) plugins in jars with code at root of jar
3) plugins in jars with code in dirs in the jar
4) plugins in jars with code in nested jars

Note however that various plugins and the tooling support only options 1 and 
2.  The other options may cause confusion can cannot be used as as base against 
which to compile.


PDE build has a separate bug to track the building of option 2 structures.

Closing.  Reopen if there are other pending issues</WithStack>
    <WithOutStack>Extend the plugin facility to include the option of placing plugins as zip or
jar files.
I thought there was already a request for running out of JAR/ZIP files but I
can't find it. 

Moving to Equinox for comment. 
related also to bug #48416.  We are looking at this for inclusion in M7
This support is included in the runtime now.  The runtime supports
1) plugins in dirs iwth code in jars or in dirs
2) plugins in jars with code at root of jar
3) plugins in jars with code in dirs in the jar
4) plugins in jars with code in nested jars

Note however that various plugins and the tooling support only options 1 and 
2.  The other options may cause confusion can cannot be used as as base against 
which to compile.


PDE build has a separate bug to track the building of option 2 structures.

Closing.  Reopen if there are other pending issues</WithOutStack>
  </Bug>
  <Bug>
    <BugId amount="49143" />
    <CreationDate amount="2003-12-18 16:01:00 -0500" />
    <DupId amount="" />
    <classification amount="Tools" />
    <Product amount="CDT" />
    <component amount="cdt-core" />
    <Version amount="1.2" />
    <rep_platform amount="PC" />
    <op_sys amount="All" />
    <priority amount="P3" />
    <bug_severity amount="normal" />
    <Summery>build project fails after build clean</Summery>
    <Patches amount="0" />
    <Stacktraces amount="0" />
    <SourceCodeRegions amount="0" />
    <Enumerations amount="1">
      <Enumeration lines="4">
        <Lines>
          <Line>- select "Build Make Target..."</Line>
          <Line>- build target "clean"</Line>
          <Line>Right-click project again</Line>
          <Line>- select "Build Project"</Line>
        </Lines>
      </Enumeration>
    </Enumerations>
    <bug_status amount="VERIFIED" />
    <resolution amount="FIXED" />
    <WithStack>Right-click project in C/C++ Projects View
- select "Build Make Target..."
- build target "clean"
Right-click project again
- select "Build Project"

The build should start but instead nothing happens.
fixed in cdt_1_2 and HEAD
fixed and verified in HEAD as of 2004/02/25
verified</WithStack>
    <WithOutStack>Right-click project in C/C++ Projects View
- select "Build Make Target..."
- build target "clean"
Right-click project again
- select "Build Project"

The build should start but instead nothing happens.
fixed in cdt_1_2 and HEAD
fixed and verified in HEAD as of 2004/02/25
verified</WithOutStack>
  </Bug>
  <Bug>
    <BugId amount="49144" />
    <CreationDate amount="2003-12-18 16:18:00 -0500" />
    <DupId amount="" />
    <classification amount="Tools" />
    <Product amount="CDT" />
    <component amount="cdt-core" />
    <Version amount="2.0" />
    <rep_platform amount="All" />
    <op_sys amount="All" />
    <priority amount="P3" />
    <bug_severity amount="enhancement" />
    <Summery>[plan item] IBM-Rational Managed Build Enhancements</Summery>
    <Patches amount="0" />
    <Stacktraces amount="0" />
    <SourceCodeRegions amount="0" />
    <Enumerations amount="0" />
    <bug_status amount="RESOLVED" />
    <resolution amount="FIXED" />
    <WithStack>This is a partial SRS for the managed build system for the CDT 2.0 release. A 
long list of requirements was compiled based on feedback we received from a 
number of end users. However, there were simply too many suggestions for us to 
implement in the time we have allocated to this release. This document 
describes the requirements that we feel are important to the end-user 
experience and that should be considered for the next release of the managed 
build system. That said, the requirements that are not on the short list are 
all valid, and if some other partner wishes to contribute the work, then they 
can also be considered for the release.
*** Bug 49145 has been marked as a duplicate of this bug. ***
Adding Sean to the CC, it is more its territory.

Sean may want to be the "owner" of this for proper followups on these items.
PR was not targeted to any particular release. Changing target milestone to 2.1
Done.</WithStack>
    <WithOutStack>This is a partial SRS for the managed build system for the CDT 2.0 release. A 
long list of requirements was compiled based on feedback we received from a 
number of end users. However, there were simply too many suggestions for us to 
implement in the time we have allocated to this release. This document 
describes the requirements that we feel are important to the end-user 
experience and that should be considered for the next release of the managed 
build system. That said, the requirements that are not on the short list are 
all valid, and if some other partner wishes to contribute the work, then they 
can also be considered for the release.
*** Bug 49145 has been marked as a duplicate of this bug. ***
Adding Sean to the CC, it is more its territory.

Sean may want to be the "owner" of this for proper followups on these items.
PR was not targeted to any particular release. Changing target milestone to 2.1
Done.</WithOutStack>
  </Bug>
  <Bug>
    <BugId amount="49145" />
    <CreationDate amount="2003-12-18 16:21:00 -0500" />
    <DupId amount="49144" />
    <classification amount="Tools" />
    <Product amount="CDT" />
    <component amount="cdt-core" />
    <Version amount="2.0" />
    <rep_platform amount="All" />
    <op_sys amount="All" />
    <priority amount="P3" />
    <bug_severity amount="enhancement" />
    <Summery>[plan item] IBM-Rational Managed Build Enhancements</Summery>
    <Patches amount="0" />
    <Stacktraces amount="0" />
    <SourceCodeRegions amount="0" />
    <Enumerations amount="0" />
    <bug_status amount="RESOLVED" />
    <resolution amount="DUPLICATE" />
    <WithStack>This is a partial SRS for the managed build system for the CDT 2.0 release. A 
long list of requirements was compiled based on feedback we received from a 
number of end users. However, there were simply too many suggestions for us to 
implement in the time we have allocated to this release. This document 
describes the requirements that we feel are important to the end-user 
experience and that should be considered for the next release of the managed 
build system. That said, the requirements that are not on the short list are 
all valid, and if some other partner wishes to contribute the work, then they 
can also be considered for the release.
This is a duplicate of bug 49144.  Somebody authorized, please close it as such.
This one is a dup of 49144.

*** This bug has been marked as a duplicate of 49144 ***</WithStack>
    <WithOutStack>This is a partial SRS for the managed build system for the CDT 2.0 release. A 
long list of requirements was compiled based on feedback we received from a 
number of end users. However, there were simply too many suggestions for us to 
implement in the time we have allocated to this release. This document 
describes the requirements that we feel are important to the end-user 
experience and that should be considered for the next release of the managed 
build system. That said, the requirements that are not on the short list are 
all valid, and if some other partner wishes to contribute the work, then they 
can also be considered for the release.
This is a duplicate of bug 49144.  Somebody authorized, please close it as such.
This one is a dup of 49144.

*** This bug has been marked as a duplicate of 49144 ***</WithOutStack>
  </Bug>
  <Bug>
    <BugId amount="49146" />
    <CreationDate amount="2003-12-18 16:31:00 -0500" />
    <DupId amount="" />
    <classification amount="Tools" />
    <Product amount="CDT" />
    <component amount="cdt-debug-cdi" />
    <Version amount="2.0" />
    <rep_platform amount="PC" />
    <op_sys amount="Linux" />
    <priority amount="P3" />
    <bug_severity amount="normal" />
    <Summery>Possible NPE in the launcher</Summery>
    <Patches amount="0" />
    <Stacktraces amount="0" />
    <SourceCodeRegions amount="0" />
    <Enumerations amount="0" />
    <bug_status amount="RESOLVED" />
    <resolution amount="FIXED" />
    <WithStack>Possible MP in the launcher ... from Alex
Fix in the head and branch, Thanks for the heads up.
The selection may be on someting that is not an IResource.
Check for this.</WithStack>
    <WithOutStack>Possible MP in the launcher ... from Alex
Fix in the head and branch, Thanks for the heads up.
The selection may be on someting that is not an IResource.
Check for this.</WithOutStack>
  </Bug>
  <Bug>
    <BugId amount="49147" />
    <CreationDate amount="2003-12-18 16:42:00 -0500" />
    <DupId amount="" />
    <classification amount="Eclipse Foundation" />
    <Product amount="z_Archived" />
    <component amount="Hyades" />
    <Version amount="unspecified" />
    <rep_platform amount="PC" />
    <op_sys amount="Windows XP" />
    <priority amount="P3" />
    <bug_severity amount="enhancement" />
    <Summery>add gcRoot fragment loader</Summery>
    <Patches amount="0" />
    <Stacktraces amount="0" />
    <SourceCodeRegions amount="0" />
    <Enumerations amount="0" />
    <bug_status amount="CLOSED" />
    <resolution amount="FIXED" />
    <WithStack>fixed
Closed
house keeping</WithStack>
    <WithOutStack>fixed
Closed
house keeping</WithOutStack>
  </Bug>
  <Bug>
    <BugId amount="49148" />
    <CreationDate amount="2003-12-18 16:49:00 -0500" />
    <DupId amount="" />
    <classification amount="Tools" />
    <Product amount="CDT" />
    <component amount="cdt-core" />
    <Version amount="1.2" />
    <rep_platform amount="PC" />
    <op_sys amount="All" />
    <priority amount="P3" />
    <bug_severity amount="normal" />
    <Summery>cygwin gdb debugger sets environment variables incorrectly</Summery>
    <Patches amount="0" />
    <Stacktraces amount="0" />
    <SourceCodeRegions amount="0" />
    <Enumerations amount="0" />
    <bug_status amount="RESOLVED" />
    <resolution amount="FIXED" />
    <WithStack>I came across a problem trying to debug a cygwin app which was linked with
shared libraries.  The debugger would fail to launch with error message "You
can't do that without a process to debug."  It couldn't find the shared libs in
my PATH, even after I explicitly added the directory where the shared libs exist.

However, it would always work successfully when I launched gdb manually from the
command line.  It looks like the CDT is using the gdb -mi interface to set the
enviroment, which fails in my case when it tries to set the PATH.

The trace log shows something like this:
-gdb-set environment
"Path=c:\\winnt;c:\\winnt\\system32;c:\\cygwin\\usr\\bin;C:\\Eclipse3\\runtime-workbench-workspace\\testCygwinLauncherSharedLib"

I believe the -mi set command should correspond to the interactive gdb set command:
(gdb) help set environment
Set environment variable value to give the program.
Arguments are VAR VALUE where VAR is variable name and VALUE is value.
VALUES of environment variables are uninterpreted strings.
This does not affect the program until the next "run" command.

So the proper gdb -mi command should be something like:
-gdb-set environment PATH
c:\\winnt;c:\\winnt\\system32;c:\\cygwin\\usr\\bin;C:\\Eclipse3\\runtime-workbench-workspace\\testCygwinLauncherSharedLib
Merci bucket ...

Fix in the head and the branch</WithStack>
    <WithOutStack>I came across a problem trying to debug a cygwin app which was linked with
shared libraries.  The debugger would fail to launch with error message "You
can't do that without a process to debug."  It couldn't find the shared libs in
my PATH, even after I explicitly added the directory where the shared libs exist.

However, it would always work successfully when I launched gdb manually from the
command line.  It looks like the CDT is using the gdb -mi interface to set the
enviroment, which fails in my case when it tries to set the PATH.

The trace log shows something like this:
-gdb-set environment
"Path=c:\\winnt;c:\\winnt\\system32;c:\\cygwin\\usr\\bin;C:\\Eclipse3\\runtime-workbench-workspace\\testCygwinLauncherSharedLib"

I believe the -mi set command should correspond to the interactive gdb set command:
(gdb) help set environment
Set environment variable value to give the program.
Arguments are VAR VALUE where VAR is variable name and VALUE is value.
VALUES of environment variables are uninterpreted strings.
This does not affect the program until the next "run" command.

So the proper gdb -mi command should be something like:
-gdb-set environment PATH
c:\\winnt;c:\\winnt\\system32;c:\\cygwin\\usr\\bin;C:\\Eclipse3\\runtime-workbench-workspace\\testCygwinLauncherSharedLib
Merci bucket ...

Fix in the head and the branch</WithOutStack>
  </Bug>
  <Bug>
    <BugId amount="49149" />
    <CreationDate amount="2003-12-18 17:25:00 -0500" />
    <DupId amount="" />
    <classification amount="Eclipse" />
    <Product amount="Platform" />
    <component amount="Resources" />
    <Version amount="3.0" />
    <rep_platform amount="All" />
    <op_sys amount="All" />
    <priority amount="P4" />
    <bug_severity amount="enhancement" />
    <Summery>Generalize the Path Variable Management.</Summery>
    <Patches amount="0" />
    <Stacktraces amount="0" />
    <SourceCodeRegions amount="0" />
    <Enumerations amount="0" />
    <bug_status amount="ASSIGNED" />
    <resolution amount="" />
    <WithStack>The current implemenation of Path Variables is closely tied to Linked 
Resources. We want to use Path Variable capabilities but we want to be able to 
distinguish between Path Varialbes associated with our plugin versus those 
used for Linked Resources or other plugins. That is, a more general approach 
to Path Variable support. Perhaps some way of allowing plugins to add 
categories to the corresponding preference page. Users would then define Path 
Variables in the appropriate categories. Internally, we would want to be able 
to query for Path Variables associated with a specific category. Similarly, we 
would need to know the category when a Path Variable is added, changed, 
deleted. 


The following is the email thread on this issue on platform-core-dev.
-------------------------------------------------------------------------------

I suggest entering a feature request against platform core so this discussion 
does not get lost.  Once M6 is out the door most of us will be on holidays 
until next year. 

John. 

platform-core-dev-admin@eclipse.org wrote on 12/17/2003 10:43:46 AM:

&gt; 
&gt; Here is the reason we want plugin specific Path Variables. 
&gt; 
&gt; Our data is used in a team development environment. When serializing
&gt; our data, the absolute paths are checked for possible Path Variable 
&gt; matches. Any match will be replaced. Now if a developer has a Path 
&gt; Variable defined that is not associated with this specific 
&gt; application, it is possible that an unexpected match may be found. 
&gt; When the data is used by other developers, they will not have the 
&gt; corresponding Path Variable. Teams usually define a standard set of 
&gt; Path Variables for a given application. 
&gt; 
&gt; Here is a simple example that may help explain the problem: 
&gt; 
&gt; Team defines the following PathVariables: 
&gt;         Here= C:\where\here 
&gt;         There=C:\where\there 
&gt;         Somewhere=C:\where\somewhere 
&gt; 
&gt; Developer X has also defined 
&gt;         Home=C:\ 
&gt; 
&gt; Now if the data contained a path, C:\Temp, when Developer X 
&gt; serializes the data, the result would be $(HOME)\Temp. 
&gt; None of the other developers will have that defined. 
&gt; 
&gt; If you made the UI more general that would be great. I think we just
&gt; need to be able to group the variables as "global" or 
&gt; plugin/application specific. 
&gt;         T. 
&gt; 
Re: [platform-core-dev] PathVariableManager and friends...  

From: John Arthorne &lt;John_Arthorne@xxxxxxxxxx&gt; 
Date: Tue, 16 Dec 2003 17:54:18 -0500 
Delivered-to: platform-core-dev@eclipse.org 

-------------------------------------------------------------------------------

Can you expand a bit on why you don't want to use the existing path variables 
as they are?  If we can avoid another duplicate "variable" concept I think it 
would make for an easier user experience (there are already path variables and 
java classpath variables).  What problems would you see with sharing path 
variables with the linked resource mechanism? I realize the UI for path 
variables is currently closely tied to the notion of linked resources, but if 
it was made more general would it serve your needs? 

platform-core-dev-admin@eclipse.org wrote on 12/16/2003 02:12:37 PM:

&gt; 
&gt; In our product, we need a mechanism that supports Path Variables 
&gt; very similar to the Linked Resources. However, we do not want to 
&gt; have our variables mixed in with the Linked Resources since this 
&gt; could potentially create problems for us. Ideally, we would want to 
&gt; use the  PathVariableManager, PathVariablesGroup, 
&gt; PathVariableDialog, PathVariableChangeEvent, etc. However, the only 
&gt; difference would be is that we would be able to store the Path 
&gt; Variables in  our plugin's preference store, with our own prefix. 
&gt; These classes are currently defined as internal, as well as the 
&gt; interfaces that these classes implement are tagged "This interface is not 
&gt; intended to be implemented by clients." Any possiblity of making 
&gt; this service available to other plugins? 
&gt;
Removing target milestones (this is set by the development teams when items are
added to the component milestone plan).
Created attachment 8638
My short term fix to get around the problem.

I created a plugin that provides a IPathVariableManager factory. I added new
constructor to PathVariableManager that takes a Preference and and a new
constructor to PathVariablesGroup to that takes an IPathVariableManager. This
allows us to have access to our own path variables.
What's the possiblity of this getting fixed in Eclipse 3.0? I prefer not to use 
my workaround.</WithStack>
    <WithOutStack>The current implemenation of Path Variables is closely tied to Linked 
Resources. We want to use Path Variable capabilities but we want to be able to 
distinguish between Path Varialbes associated with our plugin versus those 
used for Linked Resources or other plugins. That is, a more general approach 
to Path Variable support. Perhaps some way of allowing plugins to add 
categories to the corresponding preference page. Users would then define Path 
Variables in the appropriate categories. Internally, we would want to be able 
to query for Path Variables associated with a specific category. Similarly, we 
would need to know the category when a Path Variable is added, changed, 
deleted. 


The following is the email thread on this issue on platform-core-dev.
-------------------------------------------------------------------------------

I suggest entering a feature request against platform core so this discussion 
does not get lost.  Once M6 is out the door most of us will be on holidays 
until next year. 

John. 

platform-core-dev-admin@eclipse.org wrote on 12/17/2003 10:43:46 AM:

&gt; 
&gt; Here is the reason we want plugin specific Path Variables. 
&gt; 
&gt; Our data is used in a team development environment. When serializing
&gt; our data, the absolute paths are checked for possible Path Variable 
&gt; matches. Any match will be replaced. Now if a developer has a Path 
&gt; Variable defined that is not associated with this specific 
&gt; application, it is possible that an unexpected match may be found. 
&gt; When the data is used by other developers, they will not have the 
&gt; corresponding Path Variable. Teams usually define a standard set of 
&gt; Path Variables for a given application. 
&gt; 
&gt; Here is a simple example that may help explain the problem: 
&gt; 
&gt; Team defines the following PathVariables: 
&gt;         Here= C:\where\here 
&gt;         There=C:\where\there 
&gt;         Somewhere=C:\where\somewhere 
&gt; 
&gt; Developer X has also defined 
&gt;         Home=C:\ 
&gt; 
&gt; Now if the data contained a path, C:\Temp, when Developer X 
&gt; serializes the data, the result would be $(HOME)\Temp. 
&gt; None of the other developers will have that defined. 
&gt; 
&gt; If you made the UI more general that would be great. I think we just
&gt; need to be able to group the variables as "global" or 
&gt; plugin/application specific. 
&gt;         T. 
&gt; 
Re: [platform-core-dev] PathVariableManager and friends...  

From: John Arthorne &lt;John_Arthorne@xxxxxxxxxx&gt; 
Date: Tue, 16 Dec 2003 17:54:18 -0500 
Delivered-to: platform-core-dev@eclipse.org 

-------------------------------------------------------------------------------

Can you expand a bit on why you don't want to use the existing path variables 
as they are?  If we can avoid another duplicate "variable" concept I think it 
would make for an easier user experience (there are already path variables and 
java classpath variables).  What problems would you see with sharing path 
variables with the linked resource mechanism? I realize the UI for path 
variables is currently closely tied to the notion of linked resources, but if 
it was made more general would it serve your needs? 

platform-core-dev-admin@eclipse.org wrote on 12/16/2003 02:12:37 PM:

&gt; 
&gt; In our product, we need a mechanism that supports Path Variables 
&gt; very similar to the Linked Resources. However, we do not want to 
&gt; have our variables mixed in with the Linked Resources since this 
&gt; could potentially create problems for us. Ideally, we would want to 
&gt; use the  PathVariableManager, PathVariablesGroup, 
&gt; PathVariableDialog, PathVariableChangeEvent, etc. However, the only 
&gt; difference would be is that we would be able to store the Path 
&gt; Variables in  our plugin's preference store, with our own prefix. 
&gt; These classes are currently defined as internal, as well as the 
&gt; interfaces that these classes implement are tagged "This interface is not 
&gt; intended to be implemented by clients." Any possiblity of making 
&gt; this service available to other plugins? 
&gt;
Removing target milestones (this is set by the development teams when items are
added to the component milestone plan).
Created attachment 8638
My short term fix to get around the problem.

I created a plugin that provides a IPathVariableManager factory. I added new
constructor to PathVariableManager that takes a Preference and and a new
constructor to PathVariablesGroup to that takes an IPathVariableManager. This
allows us to have access to our own path variables.
What's the possiblity of this getting fixed in Eclipse 3.0? I prefer not to use 
my workaround.</WithOutStack>
  </Bug>
  <Bug>
    <BugId amount="49150" />
    <CreationDate amount="2003-12-18 17:35:00 -0500" />
    <DupId amount="" />
    <classification amount="Eclipse Foundation" />
    <Product amount="z_Archived" />
    <component amount="Hyades" />
    <Version amount="unspecified" />
    <rep_platform amount="PC" />
    <op_sys amount="Solaris" />
    <priority amount="P3" />
    <bug_severity amount="normal" />
    <Summery>number of calls is incorrect for serverImpl()</Summery>
    <Patches amount="0" />
    <Stacktraces amount="0" />
    <SourceCodeRegions amount="0" />
    <Enumerations amount="0" />
    <bug_status amount="CLOSED" />
    <resolution amount="WONTFIX" />
    <WithStack>machine:peanut
driver: 20031218_1210

Problems:
the number of calls of serverImpl() I get is 1, while the testcase description 
state that it should be 6. (i also looked into the source code it should be 6)

Steps to recreate problem:
1. Launch (locally/remotely) StatisticsTest
8&gt;Press enter in the profiling console until it terminates
9&gt;Open Instance Statistics window and verify that there is the following class 
information.

	Class Name	Live Instances
	StatisticsTest		0
	Reporter		1
	ServerImpl		1

10&gt;Open Method Statistics window and verify the following:

	Method Name	          Calls
	Reporter()	           1
	getQuote()	           2
	loadNewVersionOfServer()   6
	main()	                   1
	ServerImpl()               6  (on HP,Solaris method name is -clinit-())
	test1()	                   2
Created attachment 7243
Testcase
This is not a profiler issue.  It is an issue with having the JIT enabled.
If this is a JIT issue, then shouldn't launching the class with
-Djava.compiler=none solve the problem? (ie: the proper number of calls should
appear for serverImpl() if launching without the JIT). I tried this with linux,
and the number of calls is still 1. Should this bug be re-opened? 
On Solaris machine hawaii with Sun JDK 1.4.2_04 ServerImpl() has 6 calls.
house keeping
As of TPTP 4.6.0, TPTP is in maintenance mode and focusing on improving quality by resolving relevant enhancements/defects and increasing test coverage through test creation, automation, Build Verification Tests (BVTs), and expanded run-time execution. As part of the TPTP Bugzilla housecleaning process (see http://wiki.eclipse.org/Bugzilla_Housecleaning_Processes), this enhancement/defect is verified/closed by the Project Lead since this enhancement/defect has been resolved and unverified for more than 1 year and considered to be fixed. If this enhancement/defect is still unresolved and reproducible in the latest TPTP release (http://www.eclipse.org/tptp/home/downloads/), please re-open.</WithStack>
    <WithOutStack>machine:peanut
driver: 20031218_1210

Problems:
the number of calls of serverImpl() I get is 1, while the testcase description 
state that it should be 6. (i also looked into the source code it should be 6)

Steps to recreate problem:
1. Launch (locally/remotely) StatisticsTest
8&gt;Press enter in the profiling console until it terminates
9&gt;Open Instance Statistics window and verify that there is the following class 
information.

	Class Name	Live Instances
	StatisticsTest		0
	Reporter		1
	ServerImpl		1

10&gt;Open Method Statistics window and verify the following:

	Method Name	          Calls
	Reporter()	           1
	getQuote()	           2
	loadNewVersionOfServer()   6
	main()	                   1
	ServerImpl()               6  (on HP,Solaris method name is -clinit-())
	test1()	                   2
Created attachment 7243
Testcase
This is not a profiler issue.  It is an issue with having the JIT enabled.
If this is a JIT issue, then shouldn't launching the class with
-Djava.compiler=none solve the problem? (ie: the proper number of calls should
appear for serverImpl() if launching without the JIT). I tried this with linux,
and the number of calls is still 1. Should this bug be re-opened? 
On Solaris machine hawaii with Sun JDK 1.4.2_04 ServerImpl() has 6 calls.
house keeping
As of TPTP 4.6.0, TPTP is in maintenance mode and focusing on improving quality by resolving relevant enhancements/defects and increasing test coverage through test creation, automation, Build Verification Tests (BVTs), and expanded run-time execution. As part of the TPTP Bugzilla housecleaning process (see http://wiki.eclipse.org/Bugzilla_Housecleaning_Processes), this enhancement/defect is verified/closed by the Project Lead since this enhancement/defect has been resolved and unverified for more than 1 year and considered to be fixed. If this enhancement/defect is still unresolved and reproducible in the latest TPTP release (http://www.eclipse.org/tptp/home/downloads/), please re-open.</WithOutStack>
  </Bug>
  <Bug>
    <BugId amount="49151" />
    <CreationDate amount="2003-12-18 17:42:00 -0500" />
    <DupId amount="" />
    <classification amount="Eclipse Foundation" />
    <Product amount="z_Archived" />
    <component amount="Hyades" />
    <Version amount="unspecified" />
    <rep_platform amount="PC" />
    <op_sys amount="Solaris" />
    <priority amount="P3" />
    <bug_severity amount="minor" />
    <Summery>java.lang.OutOfMemoryError when running LoggingUtilSample</Summery>
    <Patches amount="0" />
    <Stacktraces amount="0" />
    <SourceCodeRegions amount="0" />
    <Enumerations amount="0" />
    <bug_status amount="CLOSED" />
    <resolution amount="WORKSFORME" />
    <WithStack>machine: peanuts
when running the the LoggingUtilSample with profiling turn on (e.g. java -
XrunpiAgent:server=standalone -
classpath "$CLASSPATH:hlcore.jar:hexr.jar:logutil.jar" LoggingUtilSample)

the following exception got thrown:
In Main before creating the logging object

In constructor: before creating all objects

Exception in thread "main" java.lang.OutOfMemoryError: requested -512444872 
bytes

I try increase the heapsize by -Xms 500M -Xmx1000M but get the same result

NOTE: it works with profiling turned off.

this is the jvm:
java version "1.3.1_01"
Java(TM) 2 Runtime Environment, Standard Edition (build 1.3.1_01)
Java HotSpot(TM) Client VM (build 1.3.1_01, mixed mode)
Created attachment 7244
Testcase
Unable to reproduce using java 1.4.2_04 (the latest
LoggingUtilSample/cbe/logging stuff requires at least a 1.4 jdk). 
As of TPTP 4.6.0, TPTP is in maintenance mode and focusing on improving quality by resolving relevant enhancements/defects and increasing test coverage through test creation, automation, Build Verification Tests (BVTs), and expanded run-time execution. As part of the TPTP Bugzilla housecleaning process (see http://wiki.eclipse.org/Bugzilla_Housecleaning_Processes), this enhancement/defect is verified/closed by the Project Lead since this enhancement/defect has been resolved and unverified for more than 1 year and considered to be fixed. If this enhancement/defect is still unresolved and reproducible in the latest TPTP release (http://www.eclipse.org/tptp/home/downloads/), please re-open.</WithStack>
    <WithOutStack>machine: peanuts
when running the the LoggingUtilSample with profiling turn on (e.g. java -
XrunpiAgent:server=standalone -
classpath "$CLASSPATH:hlcore.jar:hexr.jar:logutil.jar" LoggingUtilSample)

the following exception got thrown:
In Main before creating the logging object

In constructor: before creating all objects

Exception in thread "main" java.lang.OutOfMemoryError: requested -512444872 
bytes

I try increase the heapsize by -Xms 500M -Xmx1000M but get the same result

NOTE: it works with profiling turned off.

this is the jvm:
java version "1.3.1_01"
Java(TM) 2 Runtime Environment, Standard Edition (build 1.3.1_01)
Java HotSpot(TM) Client VM (build 1.3.1_01, mixed mode)
Created attachment 7244
Testcase
Unable to reproduce using java 1.4.2_04 (the latest
LoggingUtilSample/cbe/logging stuff requires at least a 1.4 jdk). 
As of TPTP 4.6.0, TPTP is in maintenance mode and focusing on improving quality by resolving relevant enhancements/defects and increasing test coverage through test creation, automation, Build Verification Tests (BVTs), and expanded run-time execution. As part of the TPTP Bugzilla housecleaning process (see http://wiki.eclipse.org/Bugzilla_Housecleaning_Processes), this enhancement/defect is verified/closed by the Project Lead since this enhancement/defect has been resolved and unverified for more than 1 year and considered to be fixed. If this enhancement/defect is still unresolved and reproducible in the latest TPTP release (http://www.eclipse.org/tptp/home/downloads/), please re-open.</WithOutStack>
  </Bug>
  <Bug>
    <BugId amount="49152" />
    <CreationDate amount="2003-12-18 17:45:00 -0500" />
    <DupId amount="49115" />
    <classification amount="Eclipse" />
    <Product amount="Platform" />
    <component amount="Debug" />
    <Version amount="3.0" />
    <rep_platform amount="PC" />
    <op_sys amount="Windows 2000" />
    <priority amount="P3" />
    <bug_severity amount="normal" />
    <Summery>Remote Java Debugger will not terminate / disconnect.</Summery>
    <Patches amount="0" />
    <Stacktraces amount="1">
      <Stacktrace timestamp="1437341080829">
        <Exception>com.sun.jdi.VMDisconnectedException</Exception>
        <Reason>Got IOException from Virtual Machine</Reason>
        <Frames>
          <Frame depth="0">org.eclipse.jdi.internal.connect.PacketSendManager.sendPacket(PacketSendManager.java:79)</Frame>
          <Frame depth="1">org.eclipse.jdi.internal.MirrorImpl.requestVM(MirrorImpl.java:169)</Frame>
          <Frame depth="2">org.eclipse.jdi.internal.MirrorImpl.requestVM(MirrorImpl.java:191)</Frame>
          <Frame depth="3">org.eclipse.jdi.internal.request.EventRequestImpl.disable(EventRequestImpl.java:192)</Frame>
          <Frame depth="4">org.eclipse.jdi.internal.request.EventRequestManagerImpl.deleteEventRequest(EventRequestManagerImpl.java:307)</Frame>
          <Frame depth="5">org.eclipse.jdt.internal.debug.core.breakpoints.JavaBreakpoint.removeRequests(JavaBreakpoint.java:629)</Frame>
          <Frame depth="6">org.eclipse.jdt.internal.debug.core.breakpoints.JavaBreakpoint.removeFromTarget(JavaBreakpoint.java:582)</Frame>
          <Frame depth="7">org.eclipse.jdt.internal.debug.core.breakpoints.JavaLineBreakpoint.removeFromTarget(JavaLineBreakpoint.java:166)</Frame>
          <Frame depth="8">org.eclipse.jdt.internal.debug.core.model.JDIDebugTarget.breakpointRemoved(JDIDebugTarget.java:1085)</Frame>
          <Frame depth="9">org.eclipse.debug.internal.core.BreakpointManager$BreakpointNotifier.run(BreakpointManager.java:760)</Frame>
          <Frame depth="10">org.eclipse.core.internal.runtime.InternalPlatform.run(InternalPlatform.java:1127)</Frame>
          <Frame depth="11">org.eclipse.core.runtime.Platform.run(Platform.java:464)</Frame>
          <Frame depth="12">org.eclipse.debug.internal.core.BreakpointManager$BreakpointNotifier.notify(BreakpointManager.java:783)</Frame>
          <Frame depth="13">org.eclipse.debug.internal.core.BreakpointManager.fireUpdate(BreakpointManager.java:685)</Frame>
          <Frame depth="14">org.eclipse.debug.internal.core.BreakpointManager.removeBreakpoints(BreakpointManager.java:331)</Frame>
          <Frame depth="15">org.eclipse.debug.internal.core.BreakpointManager.removeBreakpoint(BreakpointManager.java:310)</Frame>
          <Frame depth="16">org.eclipse.jdt.internal.debug.ui.actions.ManageBreakpointRulerAction.removeMarkers(ManageBreakpointRulerAction.java:292)</Frame>
          <Frame depth="17">org.eclipse.jdt.internal.debug.ui.actions.ManageBreakpointRulerAction.run(ManageBreakpointRulerAction.java:170)</Frame>
          <Frame depth="18">org.eclipse.ui.texteditor.AbstractRulerActionDelegate.run(AbstractRulerActionDelegate.java:98)</Frame>
          <Frame depth="19">org.eclipse.ui.internal.PluginAction.runWithEvent(PluginAction.java:270)</Frame>
          <Frame depth="20">org.eclipse.ui.internal.PluginAction.run(PluginAction.java:232)</Frame>
          <Frame depth="21">org.eclipse.ui.texteditor.AbstractTextEditor$10.triggerAction(AbstractTextEditor.java:1865)</Frame>
          <Frame depth="22">org.eclipse.ui.texteditor.AbstractTextEditor$10.mouseDoubleClick(AbstractTextEditor.java:1879)</Frame>
          <Frame depth="23">org.eclipse.swt.widgets.TypedListener.handleEvent(TypedListener.java:140)</Frame>
          <Frame depth="24">org.eclipse.swt.widgets.EventTable.sendEvent(EventTable.java:82)</Frame>
          <Frame depth="25">org.eclipse.swt.widgets.Widget.sendEvent(Widget.java:847)</Frame>
          <Frame depth="26">org.eclipse.swt.widgets.Display.runDeferredEvents(Display.java:2187)</Frame>
          <Frame depth="27">org.eclipse.swt.widgets.Display.readAndDispatch(Display.java:1877)</Frame>
          <Frame depth="28">org.eclipse.ui.internal.Workbench.runEventLoop(Workbench.java:1405)</Frame>
          <Frame depth="29">org.eclipse.ui.internal.Workbench.runUI(Workbench.java:1381)</Frame>
          <Frame depth="30">org.eclipse.ui.internal.Workbench.createAndRunWorkbench(Workbench.java:237)</Frame>
          <Frame depth="31">org.eclipse.ui.PlatformUI.createAndRunWorkbench(PlatformUI.java:139)</Frame>
          <Frame depth="32">org.eclipse.ui.internal.ide.IDEApplication.run(IDEApplication.java:47)</Frame>
          <Frame depth="33">org.eclipse.core.internal.boot.InternalBootLoader.run(InternalBootLoader.java:858)</Frame>
          <Frame depth="34">org.eclipse.core.boot.BootLoader.run(BootLoader.java:461)</Frame>
          <Frame depth="35">sun.reflect.NativeMethodAccessorImpl.invoke0(Native Method)</Frame>
          <Frame depth="36">sun.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:39)</Frame>
          <Frame depth="37">sun.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:25)</Frame>
          <Frame depth="38">java.lang.reflect.Method.invoke(Method.java:324)</Frame>
          <Frame depth="39">org.eclipse.core.launcher.Main.basicRun(Main.java:299)</Frame>
          <Frame depth="40">org.eclipse.core.launcher.Main.run(Main.java:767)</Frame>
          <Frame depth="41">org.eclipse.core.launcher.Main.main(Main.java:601)</Frame>
        </Frames>
      </Stacktrace>
    </Stacktraces>
    <SourceCodeRegions amount="0" />
    <Enumerations amount="0" />
    <bug_status amount="RESOLVED" />
    <resolution amount="DUPLICATE" />
    <WithStack>I see this exception in the log file:

!ENTRY org.eclipse.jdt.debug 4 120 Dec 18, 2003 14:41:30.262
!MESSAGE Internal error logged from JDI Debug: 
!STACK 0
com.sun.jdi.VMDisconnectedException: Got IOException from Virtual Machine
	at
org.eclipse.jdi.internal.connect.PacketSendManager.sendPacket(PacketSendManager.java:79)
	at org.eclipse.jdi.internal.MirrorImpl.requestVM(MirrorImpl.java:169)
	at org.eclipse.jdi.internal.MirrorImpl.requestVM(MirrorImpl.java:191)
	at
org.eclipse.jdi.internal.request.EventRequestImpl.disable(EventRequestImpl.java:192)
	at
org.eclipse.jdi.internal.request.EventRequestManagerImpl.deleteEventRequest(EventRequestManagerImpl.java:307)
	at
org.eclipse.jdt.internal.debug.core.breakpoints.JavaBreakpoint.removeRequests(JavaBreakpoint.java:629)
	at
org.eclipse.jdt.internal.debug.core.breakpoints.JavaBreakpoint.removeFromTarget(JavaBreakpoint.java:582)
	at
org.eclipse.jdt.internal.debug.core.breakpoints.JavaLineBreakpoint.removeFromTarget(JavaLineBreakpoint.java:166)
	at
org.eclipse.jdt.internal.debug.core.model.JDIDebugTarget.breakpointRemoved(JDIDebugTarget.java:1085)
	at
org.eclipse.debug.internal.core.BreakpointManager$BreakpointNotifier.run(BreakpointManager.java:760)
	at
org.eclipse.core.internal.runtime.InternalPlatform.run(InternalPlatform.java:1127)
	at org.eclipse.core.runtime.Platform.run(Platform.java:464)
	at
org.eclipse.debug.internal.core.BreakpointManager$BreakpointNotifier.notify(BreakpointManager.java:783)
	at
org.eclipse.debug.internal.core.BreakpointManager.fireUpdate(BreakpointManager.java:685)
	at
org.eclipse.debug.internal.core.BreakpointManager.removeBreakpoints(BreakpointManager.java:331)
	at
org.eclipse.debug.internal.core.BreakpointManager.removeBreakpoint(BreakpointManager.java:310)
	at
org.eclipse.jdt.internal.debug.ui.actions.ManageBreakpointRulerAction.removeMarkers(ManageBreakpointRulerAction.java:292)
	at
org.eclipse.jdt.internal.debug.ui.actions.ManageBreakpointRulerAction.run(ManageBreakpointRulerAction.java:170)
	at
org.eclipse.ui.texteditor.AbstractRulerActionDelegate.run(AbstractRulerActionDelegate.java:98)
	at org.eclipse.ui.internal.PluginAction.runWithEvent(PluginAction.java:270)
	at org.eclipse.ui.internal.PluginAction.run(PluginAction.java:232)
	at
org.eclipse.ui.texteditor.AbstractTextEditor$10.triggerAction(AbstractTextEditor.java:1865)
	at
org.eclipse.ui.texteditor.AbstractTextEditor$10.mouseDoubleClick(AbstractTextEditor.java:1879)
	at org.eclipse.swt.widgets.TypedListener.handleEvent(TypedListener.java:140)
	at org.eclipse.swt.widgets.EventTable.sendEvent(EventTable.java:82)
	at org.eclipse.swt.widgets.Widget.sendEvent(Widget.java:847)
	at org.eclipse.swt.widgets.Display.runDeferredEvents(Display.java:2187)
	at org.eclipse.swt.widgets.Display.readAndDispatch(Display.java:1877)
	at org.eclipse.ui.internal.Workbench.runEventLoop(Workbench.java:1405)
	at org.eclipse.ui.internal.Workbench.runUI(Workbench.java:1381)
	at org.eclipse.ui.internal.Workbench.createAndRunWorkbench(Workbench.java:237)
	at org.eclipse.ui.PlatformUI.createAndRunWorkbench(PlatformUI.java:139)
	at org.eclipse.ui.internal.ide.IDEApplication.run(IDEApplication.java:47)
	at
org.eclipse.core.internal.boot.InternalBootLoader.run(InternalBootLoader.java:858)
	at org.eclipse.core.boot.BootLoader.run(BootLoader.java:461)
	at sun.reflect.NativeMethodAccessorImpl.invoke0(Native Method)
	at sun.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:39)
	at
sun.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:25)
	at java.lang.reflect.Method.invoke(Method.java:324)
	at org.eclipse.core.launcher.Main.basicRun(Main.java:299)
	at org.eclipse.core.launcher.Main.run(Main.java:767)
	at org.eclipse.core.launcher.Main.main(Main.java:601)
Likely means the VM already disconnected, and we did not clean up properly. 
Use "Terminate &amp; Remove" from the context menu to clear it from the debug view.
Tried all of those options.  None would remove it from the debug view.
I'm marking this as a dup - we need to clean up better when a VM disconnects.

*** This bug has been marked as a duplicate of 49115 ***</WithStack>
    <WithOutStack>I see this exception in the log file:

!ENTRY org.eclipse.jdt.debug 4 120 Dec 18, 2003 14:41:30.262
!MESSAGE Internal error logged from JDI Debug: 
!STACK 0

Likely means the VM already disconnected, and we did not clean up properly. 
Use "Terminate &amp; Remove" from the context menu to clear it from the debug view.
Tried all of those options.  None would remove it from the debug view.
I'm marking this as a dup - we need to clean up better when a VM disconnects.

*** This bug has been marked as a duplicate of 49115 ***</WithOutStack>
  </Bug>
  <Bug>
    <BugId amount="49153" />
    <CreationDate amount="2003-12-18 17:47:00 -0500" />
    <DupId amount="" />
    <classification amount="Eclipse Foundation" />
    <Product amount="z_Archived" />
    <component amount="Hyades" />
    <Version amount="unspecified" />
    <rep_platform amount="PC" />
    <op_sys amount="Windows XP" />
    <priority amount="P3" />
    <bug_severity amount="normal" />
    <Summery>fix unload and delete resource</Summery>
    <Patches amount="0" />
    <Stacktraces amount="0" />
    <SourceCodeRegions amount="0" />
    <Enumerations amount="0" />
    <bug_status amount="CLOSED" />
    <resolution amount="FIXED" />
    <WithStack>fixed
Closed
house keeping</WithStack>
    <WithOutStack>fixed
Closed
house keeping</WithOutStack>
  </Bug>
  <Bug>
    <BugId amount="49154" />
    <CreationDate amount="2003-12-18 17:56:00 -0500" />
    <DupId amount="" />
    <classification amount="Eclipse" />
    <Product amount="Platform" />
    <component amount="SWT" />
    <Version amount="2.1" />
    <rep_platform amount="PC" />
    <op_sys amount="Windows 2000" />
    <priority amount="P3" />
    <bug_severity amount="normal" />
    <Summery>Combo behavior not very user-friendly</Summery>
    <Patches amount="0" />
    <Stacktraces amount="0" />
    <SourceCodeRegions amount="1">
      <source_code type="functiondef">
        <location start="1419" end="2105" />
        <code>public static void main(String[] args){
	Display display = new Display();
	Shell shell = new Shell(display);
	shell.setBounds(10,10,200,200);
	Combo combo = new Combo (shell, SWT.NONE);
	combo.setBounds(10,10,100,30);
	combo.add("item 1");
	combo.add("item 2");
	combo.add("item 3");
	combo.addSelectionListener(new SelectionListener() {
		public void widgetSelected(SelectionEvent e) {
			System.out.println("selection: " + e.detail);
		}
		public void widgetDefaultSelected(SelectionEvent e) {
			System.out.println("default selection: " + e.detail);
		}
	});
	shell.open();
	while (!shell.isDisposed()) {
		if (!display.readAndDispatch())
			display.sleep();
	}
	display.dispose();
}</code>
      </source_code>
    </SourceCodeRegions>
    <Enumerations amount="3">
      <Enumeration lines="18">
        <Lines>
          <Line>1) When the user selects something with the mouse from the drop-down, the drop-</Line>
          <Line>down disappears, but the default selection event is not fired.  The user has to</Line>
          <Line>then hit "Enter" to do that.  Listening for selection changes doesn't help us</Line>
          <Line>because it is fired all the time, including when the user uses arrow-keys to</Line>
          <Line>navigate the drop-down.</Line>
          <Line />
          <Line>2) If you have an item on the drop-down selected, hitting Enter should close</Line>
          <Line>the drop-down and fire widget default selected.  This is what happens if your</Line>
          <Line>Combo is READ_ONLY.  If not, then the drop-down does not close (although</Line>
          <Line>default selection event is fired).</Line>
          <Line>re: 1)</Line>
          <Line>- it wouldn't make sense to fire defaultSelection when an item is selected by</Line>
          <Line>clicking, since this isn't what defaultSelection is for</Line>
          <Line>- the current behaviour of firing selection events when arrowing through the</Line>
          <Line>list items is correct since they are each being selected as they're shown (ie.-</Line>
          <Line>if after doing this you press Escape then you'll be left with the last arrowed</Line>
          <Line>item, not a revert to the original combo value)</Line>
          <Line>- so nothing for swt to do here</Line>
        </Lines>
      </Enumeration>
      <Enumeration lines="7">
        <Lines>
          <Line>- it wouldn't make sense to fire defaultSelection when an item is selected by</Line>
          <Line>clicking, since this isn't what defaultSelection is for</Line>
          <Line>- the current behaviour of firing selection events when arrowing through the</Line>
          <Line>list items is correct since they are each being selected as they're shown (ie.-</Line>
          <Line>if after doing this you press Escape then you'll be left with the last arrowed</Line>
          <Line>item, not a revert to the original combo value)</Line>
          <Line>- so nothing for swt to do here</Line>
        </Lines>
      </Enumeration>
      <Enumeration lines="4">
        <Lines>
          <Line>- observing several other programs, it looks like the drop-down should be going</Line>
          <Line>away when Enter is pressed</Line>
          <Line>- SN to investigate whether we're doing something to stop this from happening;</Line>
          <Line>here's a simple snippet:</Line>
        </Lines>
      </Enumeration>
    </Enumerations>
    <bug_status amount="RESOLVED" />
    <resolution amount="FIXED" />
    <WithStack>We have a DROP_DOWN combo (not READ_ONLY) and we listen to it for default 
selection events.  There are a couple of problems:

1) When the user selects something with the mouse from the drop-down, the drop-
down disappears, but the default selection event is not fired.  The user has to 
then hit "Enter" to do that.  Listening for selection changes doesn't help us 
because it is fired all the time, including when the user uses arrow-keys to 
navigate the drop-down.

2) If you have an item on the drop-down selected, hitting Enter should close 
the drop-down and fire widget default selected.  This is what happens if your 
Combo is READ_ONLY.  If not, then the drop-down does not close (although 
default selection event is fired).
re: 1)
- it wouldn't make sense to fire defaultSelection when an item is selected by 
clicking, since this isn't what defaultSelection is for
- the current behaviour of firing selection events when arrowing through the 
list items is correct since they are each being selected as they're shown (ie.- 
if after doing this you press Escape then you'll be left with the last arrowed 
item, not a revert to the original combo value)
- so nothing for swt to do here

re: 2)
- observing several other programs, it looks like the drop-down should be going 
away when Enter is pressed
- SN to investigate whether we're doing something to stop this from happening; 
here's a simple snippet:

public static void main(String[] args){
	Display display = new Display();
	Shell shell = new Shell(display);
	shell.setBounds(10,10,200,200);
	Combo combo = new Combo (shell, SWT.NONE);
	combo.setBounds(10,10,100,30);
	combo.add("item 1");
	combo.add("item 2");
	combo.add("item 3");
	combo.addSelectionListener(new SelectionListener() {
		public void widgetSelected(SelectionEvent e) {
			System.out.println("selection: " + e.detail);
		}
		public void widgetDefaultSelected(SelectionEvent e) {
			System.out.println("default selection: " + e.detail);
		}
	});
	shell.open();
	while (!shell.isDisposed()) {
		if (!display.readAndDispatch())
			display.sleep();
	}
	display.dispose();
}

Fixed &gt; 20040105 (part 2 only)</WithStack>
    <WithOutStack>We have a DROP_DOWN combo (not READ_ONLY) and we listen to it for default 
selection events.  There are a couple of problems:

1) When the user selects something with the mouse from the drop-down, the drop-
down disappears, but the default selection event is not fired.  The user has to 
then hit "Enter" to do that.  Listening for selection changes doesn't help us 
because it is fired all the time, including when the user uses arrow-keys to 
navigate the drop-down.

2) If you have an item on the drop-down selected, hitting Enter should close 
the drop-down and fire widget default selected.  This is what happens if your 
Combo is READ_ONLY.  If not, then the drop-down does not close (although 
default selection event is fired).
re: 1)
- it wouldn't make sense to fire defaultSelection when an item is selected by 
clicking, since this isn't what defaultSelection is for
- the current behaviour of firing selection events when arrowing through the 
list items is correct since they are each being selected as they're shown (ie.- 
if after doing this you press Escape then you'll be left with the last arrowed 
item, not a revert to the original combo value)
- so nothing for swt to do here

re: 2)
- observing several other programs, it looks like the drop-down should be going 
away when Enter is pressed
- SN to investigate whether we're doing something to stop this from happening; 
here's a simple snippet:

public static void main(String[] args){
	Display display = new Display();
	Shell shell = new Shell(display);
	shell.setBounds(10,10,200,200);
	Combo combo = new Combo (shell, SWT.NONE);
	combo.setBounds(10,10,100,30);
	combo.add("item 1");
	combo.add("item 2");
	combo.add("item 3");
	combo.addSelectionListener(new SelectionListener() {
		public void widgetSelected(SelectionEvent e) {
			System.out.println("selection: " + e.detail);
		}
		public void widgetDefaultSelected(SelectionEvent e) {
			System.out.println("default selection: " + e.detail);
		}
	});
	shell.open();
	while (!shell.isDisposed()) {
		if (!display.readAndDispatch())
			display.sleep();
	}
	display.dispose();
}

Fixed &gt; 20040105 (part 2 only)</WithOutStack>
  </Bug>
  <Bug>
    <BugId amount="49155" />
    <CreationDate amount="2003-12-18 18:20:00 -0500" />
    <DupId amount="10712" />
    <classification amount="Eclipse" />
    <Product amount="Platform" />
    <component amount="SWT" />
    <Version amount="3.0" />
    <rep_platform amount="PC" />
    <op_sys amount="Linux-GTK" />
    <priority amount="P3" />
    <bug_severity amount="normal" />
    <Summery>Eclipse in debug mode crashes on GTK for long strings</Summery>
    <Patches amount="0" />
    <Stacktraces amount="0" />
    <SourceCodeRegions amount="0" />
    <Enumerations amount="0" />
    <bug_status amount="RESOLVED" />
    <resolution amount="DUPLICATE" />
    <WithStack>If Eclipse (GTK Build) is running in debug perspective on Linux systems (I have
seen this on RedHat 9) with IBM JDK 1.4.1, it crashes if a given string variable
get assigned a rather long value.

The Motif build does not crash but the string value can't be seen (it looks like
a dark black block) in the variables view of the debug perspective.

The actual reason for crash is a SIGSEGV in libpango.so.0 (as recorded in the
JavaCore file).

I have consistently reproduced this defect on my laptop with Eclipse 3.0 (M5)
builds for GTK and Motif.

This might well be a bug in SWT implementations for GTK+ and Motif, but I have
seen this only when running Eclipse in debug perspective.

I have a screenshot of the crash, as well as the generated Javacore file if you
need more information.

Cheers,
Rohit.

Here are the first 22 lines from the Javacore.txt file:
========================================================
NULL          
------------------------------------------------------------------------
0SECTION       TITLE subcomponent dump routine
NULL           ===============================
1TISIGINFO     signal 11 received 
1TIDATETIME    Date:                 2003/12/18 at 18:14:58
1TIFILENAME    Javacore filename:    /opt/eclipse/javacore.20031218.181458.6029.txt
NULL          
------------------------------------------------------------------------
0SECTION       XHPI subcomponent dump routine
NULL           ==============================
1HPTIME        Thu Dec 18 18:14:58 2003
1HPSIGRECV     SIGSEGV received in ?? at 0x433ca021 in
/usr/lib/libpango-1.0.so.0. Processing terminated.
1HPFULLVERSION J2RE 1.4.1 IBM build cxia321411-20031011
NULL           
1HPOPENV       Operating Environment
NULL           ---------------------
2HPHOSTNAME    Host             : kapoor.(none)
2HPOSLEVEL     OS Level         : 2.4.20-24.9.#1 Mon Dec 1 11:35:51 EST 2003
2HPLIBCVER     glibc Version    : 2.3.2
2HPCPUS        Processors -
3HPARCH          Architecture     : (not implemented)
3HPNUMCPUS       How Many         : (not implemented)
3HPCPUSENABLED   Enabled          : 1
Created attachment 7245
Screenshot of Eclipse just before the crash

Screenshot of Eclipse just before the crash, it has just read 154519 bytes from

a text file into the "sFileContents" string (and is now hung, pending a
complete crash).
Created attachment 7246
Screenshot of Eclipse just after the crash

There is the complete crash.
Created attachment 7247
Messages echoed on the command line right after the crash

These messages are echoed back on the command line after Eclipse crashes.
Created attachment 7248
The javacore file produced by the crash

This is the Javacore file produced by the IBM JDK when Eclipse crashed.
As a workaround, turn on the option to wrap string in the details area (from 
the drop-down menu on the variables view).

I believe this is a dup of bug 10712, but I will move to SWT for commnet, 
since bug 10712 is for the windows platform.
Yes, it's the same issue but on gtk.  X has a documented window (and draw) size 
limit of 32767, which a string of length 154519 exceeds by quite a bit.

*** This bug has been marked as a duplicate of 10712 ***</WithStack>
    <WithOutStack>If Eclipse (GTK Build) is running in debug perspective on Linux systems (I have
seen this on RedHat 9) with IBM JDK 1.4.1, it crashes if a given string variable
get assigned a rather long value.

The Motif build does not crash but the string value can't be seen (it looks like
a dark black block) in the variables view of the debug perspective.

The actual reason for crash is a SIGSEGV in libpango.so.0 (as recorded in the
JavaCore file).

I have consistently reproduced this defect on my laptop with Eclipse 3.0 (M5)
builds for GTK and Motif.

This might well be a bug in SWT implementations for GTK+ and Motif, but I have
seen this only when running Eclipse in debug perspective.

I have a screenshot of the crash, as well as the generated Javacore file if you
need more information.

Cheers,
Rohit.

Here are the first 22 lines from the Javacore.txt file:
========================================================
NULL          
------------------------------------------------------------------------
0SECTION       TITLE subcomponent dump routine
NULL           ===============================
1TISIGINFO     signal 11 received 
1TIDATETIME    Date:                 2003/12/18 at 18:14:58
1TIFILENAME    Javacore filename:    /opt/eclipse/javacore.20031218.181458.6029.txt
NULL          
------------------------------------------------------------------------
0SECTION       XHPI subcomponent dump routine
NULL           ==============================
1HPTIME        Thu Dec 18 18:14:58 2003
1HPSIGRECV     SIGSEGV received in ?? at 0x433ca021 in
/usr/lib/libpango-1.0.so.0. Processing terminated.
1HPFULLVERSION J2RE 1.4.1 IBM build cxia321411-20031011
NULL           
1HPOPENV       Operating Environment
NULL           ---------------------
2HPHOSTNAME    Host             : kapoor.(none)
2HPOSLEVEL     OS Level         : 2.4.20-24.9.#1 Mon Dec 1 11:35:51 EST 2003
2HPLIBCVER     glibc Version    : 2.3.2
2HPCPUS        Processors -
3HPARCH          Architecture     : (not implemented)
3HPNUMCPUS       How Many         : (not implemented)
3HPCPUSENABLED   Enabled          : 1
Created attachment 7245
Screenshot of Eclipse just before the crash

Screenshot of Eclipse just before the crash, it has just read 154519 bytes from

a text file into the "sFileContents" string (and is now hung, pending a
complete crash).
Created attachment 7246
Screenshot of Eclipse just after the crash

There is the complete crash.
Created attachment 7247
Messages echoed on the command line right after the crash

These messages are echoed back on the command line after Eclipse crashes.
Created attachment 7248
The javacore file produced by the crash

This is the Javacore file produced by the IBM JDK when Eclipse crashed.
As a workaround, turn on the option to wrap string in the details area (from 
the drop-down menu on the variables view).

I believe this is a dup of bug 10712, but I will move to SWT for commnet, 
since bug 10712 is for the windows platform.
Yes, it's the same issue but on gtk.  X has a documented window (and draw) size 
limit of 32767, which a string of length 154519 exceeds by quite a bit.

*** This bug has been marked as a duplicate of 10712 ***</WithOutStack>
  </Bug>
  <Bug>
    <BugId amount="49156" />
    <CreationDate amount="2003-12-18 18:38:00 -0500" />
    <DupId amount="" />
    <classification amount="Eclipse Foundation" />
    <Product amount="z_Archived" />
    <component amount="Hyades" />
    <Version amount="unspecified" />
    <rep_platform amount="PC" />
    <op_sys amount="Windows 2000" />
    <priority amount="P3" />
    <bug_severity amount="normal" />
    <Summery>Remote trcxml contains missing info needed for cross platform</Summery>
    <Patches amount="0" />
    <Stacktraces amount="0" />
    <SourceCodeRegions amount="0" />
    <Enumerations amount="0" />
    <bug_status amount="CLOSED" />
    <resolution amount="INVALID" />
    <WithStack>When running the cross platform basic calculator test, I first attach to my 
local host J2EE Request Profiler agent, and then to the J2EE RP agent on the 
remote agent.
I then press Calculate on the local example which is pointing to the remote 
machine.  When viewing the host Interactions from the Monitor level, the 
interaction of the two machines is not displayed. 

According to Marius, it's because the InvocationContext node is missing from 
the Remote trcxml file. (Below is the well-formed version..)

&lt;methodEntry threadIdRef="1061513992" time="1045859136.328" methodIdRef="42" 
classIdRef="40" objIdRef="41" ticket="26" sequenceCounter="6" stackDepth="1"&gt;
&lt;InvocationContext nodeIdRef="2acdaf99-9d80-4c91-9a6b-07ba21f443c2" 
processIdRef="5c50b6908f203a74:3c0c2b00:f381fd8217:-8000" agentIdRef="2acdaf99-
9d80-4c91-9a6b-07ba21f443c2" threadIdRef="1316416264" ticket="47" 
sequenceCounter="22"/&gt;
&lt;/methodEntry&gt;
Reassigned to Richard Duggan in Toronto. This should not have been assigned to 
me.
update component and target; defects should not be tragetted for future
The agent is question is not a part of Hyades.  This defect may need to be
reopened using an IBM internal bug tracking system.
setting target based on last change date, please adjust if not correct
As of TPTP 4.6.0, TPTP is in maintenance mode and focusing on improving quality by resolving relevant enhancements/defects and increasing test coverage through test creation, automation, Build Verification Tests (BVTs), and expanded run-time execution. As part of the TPTP Bugzilla housecleaning process (see http://wiki.eclipse.org/Bugzilla_Housecleaning_Processes), this enhancement/defect is verified/closed by the Project Lead since this enhancement/defect has been resolved and unverified for more than 1 year and considered to be fixed. If this enhancement/defect is still unresolved and reproducible in the latest TPTP release (http://www.eclipse.org/tptp/home/downloads/), please re-open.</WithStack>
    <WithOutStack>When running the cross platform basic calculator test, I first attach to my 
local host J2EE Request Profiler agent, and then to the J2EE RP agent on the 
remote agent.
I then press Calculate on the local example which is pointing to the remote 
machine.  When viewing the host Interactions from the Monitor level, the 
interaction of the two machines is not displayed. 

According to Marius, it's because the InvocationContext node is missing from 
the Remote trcxml file. (Below is the well-formed version..)

&lt;methodEntry threadIdRef="1061513992" time="1045859136.328" methodIdRef="42" 
classIdRef="40" objIdRef="41" ticket="26" sequenceCounter="6" stackDepth="1"&gt;
&lt;InvocationContext nodeIdRef="2acdaf99-9d80-4c91-9a6b-07ba21f443c2" 
processIdRef="5c50b6908f203a74:3c0c2b00:f381fd8217:-8000" agentIdRef="2acdaf99-
9d80-4c91-9a6b-07ba21f443c2" threadIdRef="1316416264" ticket="47" 
sequenceCounter="22"/&gt;
&lt;/methodEntry&gt;
Reassigned to Richard Duggan in Toronto. This should not have been assigned to 
me.
update component and target; defects should not be tragetted for future
The agent is question is not a part of Hyades.  This defect may need to be
reopened using an IBM internal bug tracking system.
setting target based on last change date, please adjust if not correct
As of TPTP 4.6.0, TPTP is in maintenance mode and focusing on improving quality by resolving relevant enhancements/defects and increasing test coverage through test creation, automation, Build Verification Tests (BVTs), and expanded run-time execution. As part of the TPTP Bugzilla housecleaning process (see http://wiki.eclipse.org/Bugzilla_Housecleaning_Processes), this enhancement/defect is verified/closed by the Project Lead since this enhancement/defect has been resolved and unverified for more than 1 year and considered to be fixed. If this enhancement/defect is still unresolved and reproducible in the latest TPTP release (http://www.eclipse.org/tptp/home/downloads/), please re-open.</WithOutStack>
  </Bug>
  <Bug>
    <BugId amount="49157" />
    <CreationDate amount="2003-12-18 18:40:00 -0500" />
    <DupId amount="" />
    <classification amount="Eclipse Foundation" />
    <Product amount="z_Archived" />
    <component amount="Hyades" />
    <Version amount="unspecified" />
    <rep_platform amount="All" />
    <op_sys amount="All" />
    <priority amount="P2" />
    <bug_severity amount="normal" />
    <Summery>Inconclusive verdicts do not roll up properly in Manual tests</Summery>
    <Patches amount="0" />
    <Stacktraces amount="0" />
    <SourceCodeRegions amount="0" />
    <Enumerations amount="0" />
    <bug_status amount="CLOSED" />
    <resolution amount="FIXED" />
    <WithStack>The only way a manual test will report a final verdict of inconclusive is if 
every test within the manual tets was inconclusive.  If there is a single 
passed test, any inconclusive verdicts are ignored, and the final verdict is 
assigned pass.  (It should be inconclusive.)
Fixed.  Verdict hierarchy in manual test arbiter now matches other test 
arbiters ( ERROR &gt; FAIL &gt; INCONCLUSIVE &gt; PASS )
Closing...</WithStack>
    <WithOutStack>The only way a manual test will report a final verdict of inconclusive is if 
every test within the manual tets was inconclusive.  If there is a single 
passed test, any inconclusive verdicts are ignored, and the final verdict is 
assigned pass.  (It should be inconclusive.)
Fixed.  Verdict hierarchy in manual test arbiter now matches other test 
arbiters ( ERROR &gt; FAIL &gt; INCONCLUSIVE &gt; PASS )
Closing...</WithOutStack>
  </Bug>
  <Bug>
    <BugId amount="49158" />
    <CreationDate amount="2003-12-18 20:18:00 -0500" />
    <DupId amount="43769" />
    <classification amount="Eclipse" />
    <Product amount="Platform" />
    <component amount="SWT" />
    <Version amount="3.0" />
    <rep_platform amount="PC" />
    <op_sys amount="Windows XP" />
    <priority amount="P3" />
    <bug_severity amount="normal" />
    <Summery>[browser] JVM Crash when Browser control pointed at page with applets</Summery>
    <Patches amount="0" />
    <Stacktraces amount="0" />
    <SourceCodeRegions amount="0" />
    <Enumerations amount="0" />
    <bug_status amount="RESOLVED" />
    <resolution amount="DUPLICATE" />
    <WithStack>win XP SP1, JDK 1.4.2, 3.0m5

Dont know if its the applets that makes it fail or not.
I have an RCP app that create an Editor based ViewPart using a browser control 
(to allow multiple pages open). This works fine.
When I point at a page with applets in it the JVM crashes (last line is 
interesting). I also get a popup that says 'asdas, register failk'
The page open fine in IE.

An unexpected exception has been detected in native code outside the VM.
Unexpected Signal : EXCEPTION_ACCESS_VIOLATION (0xc0000005) occurred at 
PC=0x70AA8E4C
Function=Ordinal176+0x38
Library=C:\WINDOWS\system32\SHLWAPI.dll

Current Java thread:
	at org.eclipse.swt.internal.win32.OS.DispatchMessageW(Native Method)
	at org.eclipse.swt.internal.win32.OS.DispatchMessage(OS.java:1361)
	at org.eclipse.swt.widgets.Display.readAndDispatch(Display.java:1875)
	at org.eclipse.ui.internal.Workbench.runEventLoop(Workbench.java:1405)
	at org.eclipse.ui.internal.Workbench.runUI(Workbench.java:1381)
	at org.eclipse.ui.internal.Workbench.createAndRunWorkbench
(Workbench.java:237)
	at org.eclipse.ui.PlatformUI.createAndRunWorkbench(PlatformUI.java:139)
	at com.ca.brightstor.ui.boot.BootApp.run(BootApp.java:41)
	at org.eclipse.core.internal.boot.InternalBootLoader.run
(InternalBootLoader.java:858)
	at org.eclipse.core.boot.BootLoader.run(BootLoader.java:461)
	at sun.reflect.NativeMethodAccessorImpl.invoke0(Native Method)
	at sun.reflect.NativeMethodAccessorImpl.invoke
(NativeMethodAccessorImpl.java:39)
	at sun.reflect.DelegatingMethodAccessorImpl.invoke
(DelegatingMethodAccessorImpl.java:25)
	at java.lang.reflect.Method.invoke(Method.java:324)
	at org.eclipse.core.launcher.Main.basicRun(Main.java:299)
	at org.eclipse.core.launcher.Main.run(Main.java:767)
	at org.eclipse.core.launcher.Main.main(Main.java:601)

Dynamic libraries:
0x00400000 - 0x00407000 	C:\j2sdk1.4.2_01\bin\javaw.exe
...
0x76BF0000 - 0x76BFB000 	C:\WINDOWS\System32\PSAPI.DLL

Heap at VM Abort:
Heap
 def new generation   total 576K, used 216K [0x10010000, 0x100b0000, 0x104f0000)
  eden space 512K,  36% used [0x10010000, 0x1003f358, 0x10090000)
  from space 64K,  43% used [0x10090000, 0x10096f08, 0x100a0000)
  to   space 64K,   0% used [0x100a0000, 0x100a0000, 0x100b0000)
 tenured generation   total 2708K, used 2037K [0x104f0000, 0x10795000, 
0x14010000)
   the space 2708K,  75% used [0x104f0000, 0x106ed630, 0x106ed800, 0x10795000)
 compacting perm gen  total 9728K, used 9506K [0x14010000, 0x14990000, 
0x18010000)
   the space 9728K,  97% used [0x14010000, 0x149589f8, 0x14958a00, 0x14990000)

Local Time = Thu Dec 18 17:00:30 2003
Elapsed Time = 35
#
# The exception above was detected in native code outside the VM
#
# Java VM: Java HotSpot(TM) Client VM (1.4.2_01-b06 mixed mode)
#
# An error report file has been saved as hs_err_pid3624.log.
# Please refer to the file for further information.
#
java.lang.NoClassDefFoundError: sun/plugin/services/WinRegistry
Paul, can you reproduce with the standalone SWT Browser example 
(org.eclipse.swt.examples project)?
where do i get the standalone examples - i have the plugin ones

I just ran the embedded browser example in my main eclipse IDe and crashed it. 
However I did get a useful message, i got a popup from something telling me 
that my java plugin wasnt configured OK (with 1.5 jvm) see end of message, note 
I am not using 1.5 so dont close this bug saying 'unsupported JVM' also the bug 
happened before I even tinkered with 1.5. The tests i did previously were with 
1.4.2 and maybe the asadas, register failk ' mesage was their (sun's) old 
version of that dialog.

However if i start ie and go to the same web site it works pefectly

Here is popup
---------------------------
Java(TM) Plug-in Fatal Error
---------------------------
		Cannot load class sun/plugin/JavaRunTime.

	The Bridge was installed at &lt;C:\PROGRA~1\Java\J2RE15~1.0&gt; but the class 
is not there
		Modify the registry key to reflect the new bridge location
The key is HKEY_LOCAL_MACHINE\SOFTWARE\JavaSoft\Java Plug-in
		or change your CLASSPATH to include the new directory

		Please consult the documentation for more information
---------------------------
OK   
---------------------------

ok ran free standing app - crashes with example the same behaviour as original 
bug
Can you forward us to a URL that we can try? Or attach your app (or a simpler 
one that exhibit the same issue) along with an html page that invokes it? This 
seems to be the only way to resolve this.
The free-standing browser sample exhibits this crash, so does the plugin 
samples one

The failing web page is the management web server for a Brocade FibreChannel 
switch on a private internal network. So I cant give you access to it
The thing that is different about it is that I know it tries to install a JRe 
if it doesnt find one. Now I dont know if that is normal or not. I have tried a 
few other web pages to see if I can get tham to fail and they all work.
I dont know if there is much more I can do
Marking this PR as a dup of 43769. The problem seems to be related to the way 
the java applet is invoked: object tag versus applet tag.

*** This bug has been marked as a duplicate of 43769 ***</WithStack>
    <WithOutStack>win XP SP1, JDK 1.4.2, 3.0m5

Dont know if its the applets that makes it fail or not.
I have an RCP app that create an Editor based ViewPart using a browser control 
(to allow multiple pages open). This works fine.
When I point at a page with applets in it the JVM crashes (last line is 
interesting). I also get a popup that says 'asdas, register failk'
The page open fine in IE.

An unexpected exception has been detected in native code outside the VM.
Unexpected Signal : EXCEPTION_ACCESS_VIOLATION (0xc0000005) occurred at 
PC=0x70AA8E4C
Function=Ordinal176+0x38
Library=C:\WINDOWS\system32\SHLWAPI.dll

Current Java thread:
	at org.eclipse.swt.internal.win32.OS.DispatchMessageW(Native Method)
	at org.eclipse.swt.internal.win32.OS.DispatchMessage(OS.java:1361)
	at org.eclipse.swt.widgets.Display.readAndDispatch(Display.java:1875)
	at org.eclipse.ui.internal.Workbench.runEventLoop(Workbench.java:1405)
	at org.eclipse.ui.internal.Workbench.runUI(Workbench.java:1381)
	at org.eclipse.ui.internal.Workbench.createAndRunWorkbench
(Workbench.java:237)
	at org.eclipse.ui.PlatformUI.createAndRunWorkbench(PlatformUI.java:139)
	at com.ca.brightstor.ui.boot.BootApp.run(BootApp.java:41)
	at org.eclipse.core.internal.boot.InternalBootLoader.run
(InternalBootLoader.java:858)
	at org.eclipse.core.boot.BootLoader.run(BootLoader.java:461)
	at sun.reflect.NativeMethodAccessorImpl.invoke0(Native Method)
	at sun.reflect.NativeMethodAccessorImpl.invoke
(NativeMethodAccessorImpl.java:39)
	at sun.reflect.DelegatingMethodAccessorImpl.invoke
(DelegatingMethodAccessorImpl.java:25)
	at java.lang.reflect.Method.invoke(Method.java:324)
	at org.eclipse.core.launcher.Main.basicRun(Main.java:299)
	at org.eclipse.core.launcher.Main.run(Main.java:767)
	at org.eclipse.core.launcher.Main.main(Main.java:601)

Dynamic libraries:
0x00400000 - 0x00407000 	C:\j2sdk1.4.2_01\bin\javaw.exe
...
0x76BF0000 - 0x76BFB000 	C:\WINDOWS\System32\PSAPI.DLL

Heap at VM Abort:
Heap
 def new generation   total 576K, used 216K [0x10010000, 0x100b0000, 0x104f0000)
  eden space 512K,  36% used [0x10010000, 0x1003f358, 0x10090000)
  from space 64K,  43% used [0x10090000, 0x10096f08, 0x100a0000)
  to   space 64K,   0% used [0x100a0000, 0x100a0000, 0x100b0000)
 tenured generation   total 2708K, used 2037K [0x104f0000, 0x10795000, 
0x14010000)
   the space 2708K,  75% used [0x104f0000, 0x106ed630, 0x106ed800, 0x10795000)
 compacting perm gen  total 9728K, used 9506K [0x14010000, 0x14990000, 
0x18010000)
   the space 9728K,  97% used [0x14010000, 0x149589f8, 0x14958a00, 0x14990000)

Local Time = Thu Dec 18 17:00:30 2003
Elapsed Time = 35
#
# The exception above was detected in native code outside the VM
#
# Java VM: Java HotSpot(TM) Client VM (1.4.2_01-b06 mixed mode)
#
# An error report file has been saved as hs_err_pid3624.log.
# Please refer to the file for further information.
#
java.lang.NoClassDefFoundError: sun/plugin/services/WinRegistry
Paul, can you reproduce with the standalone SWT Browser example 
(org.eclipse.swt.examples project)?
where do i get the standalone examples - i have the plugin ones

I just ran the embedded browser example in my main eclipse IDe and crashed it. 
However I did get a useful message, i got a popup from something telling me 
that my java plugin wasnt configured OK (with 1.5 jvm) see end of message, note 
I am not using 1.5 so dont close this bug saying 'unsupported JVM' also the bug 
happened before I even tinkered with 1.5. The tests i did previously were with 
1.4.2 and maybe the asadas, register failk ' mesage was their (sun's) old 
version of that dialog.

However if i start ie and go to the same web site it works pefectly

Here is popup
---------------------------
Java(TM) Plug-in Fatal Error
---------------------------
		Cannot load class sun/plugin/JavaRunTime.

	The Bridge was installed at &lt;C:\PROGRA~1\Java\J2RE15~1.0&gt; but the class 
is not there
		Modify the registry key to reflect the new bridge location
The key is HKEY_LOCAL_MACHINE\SOFTWARE\JavaSoft\Java Plug-in
		or change your CLASSPATH to include the new directory

		Please consult the documentation for more information
---------------------------
OK   
---------------------------

ok ran free standing app - crashes with example the same behaviour as original 
bug
Can you forward us to a URL that we can try? Or attach your app (or a simpler 
one that exhibit the same issue) along with an html page that invokes it? This 
seems to be the only way to resolve this.
The free-standing browser sample exhibits this crash, so does the plugin 
samples one

The failing web page is the management web server for a Brocade FibreChannel 
switch on a private internal network. So I cant give you access to it
The thing that is different about it is that I know it tries to install a JRe 
if it doesnt find one. Now I dont know if that is normal or not. I have tried a 
few other web pages to see if I can get tham to fail and they all work.
I dont know if there is much more I can do
Marking this PR as a dup of 43769. The problem seems to be related to the way 
the java applet is invoked: object tag versus applet tag.

*** This bug has been marked as a duplicate of 43769 ***</WithOutStack>
  </Bug>
  <Bug>
    <BugId amount="49159" />
    <CreationDate amount="2003-12-18 20:35:00 -0500" />
    <DupId amount="" />
    <classification amount="Eclipse Foundation" />
    <Product amount="z_Archived" />
    <component amount="Hyades" />
    <Version amount="unspecified" />
    <rep_platform amount="Other" />
    <op_sys amount="Linux" />
    <priority amount="P3" />
    <bug_severity amount="normal" />
    <Summery>Missing object references from the user classes on Linux</Summery>
    <Patches amount="0" />
    <Stacktraces amount="0" />
    <SourceCodeRegions amount="0" />
    <Enumerations amount="0" />
    <bug_status amount="CLOSED" />
    <resolution amount="INVALID" />
    <WithStack>This is a problem on SuSE SLES 7 on S/390.
Object reference is not available for the class HeapJniCarTest. This can be 
reproduced using the "HeapJniCarTest01 (launch)" test case.
Same thing happens on Linux/x86 (RH Enterprise AS 2.1) using IBM JDK 1.4.1 
(cn1411-20030930).

The object refernce is there if application is started in controlled mode but 
not if it is started in enabled mode.

My earlier comment applied to recent AC 1.3 drivers (eg: 2004_0312 &amp; 2004_0317).
Seems there are different versions of the HeapJniCarTest test case lying around.
I just tested this problem out with Samson, and the HeapJniCarTest he was using
was creating the Door/Wheel objects AFTER the "Press enter" prompt came up (and
hence, after the user had the opportunity to collect object references.) Once we
move the creation of the objects to the start of test case (before the pause),
when the user hits Collect Obj Refs, the Door/Wheel objects will appear as they
should in the obj refs view. 
house keeping
As of TPTP 4.6.0, TPTP is in maintenance mode and focusing on improving quality by resolving relevant enhancements/defects and increasing test coverage through test creation, automation, Build Verification Tests (BVTs), and expanded run-time execution. As part of the TPTP Bugzilla housecleaning process (see http://wiki.eclipse.org/Bugzilla_Housecleaning_Processes), this enhancement/defect is verified/closed by the Project Lead since this originator of this enhancement/defect has an inactive Bugzilla account and considered to be fixed. If this enhancement/defect is still unresolved and reproducible in the latest TPTP release (http://www.eclipse.org/tptp/home/downloads/), please re-open.</WithStack>
    <WithOutStack>This is a problem on SuSE SLES 7 on S/390.
Object reference is not available for the class HeapJniCarTest. This can be 
reproduced using the "HeapJniCarTest01 (launch)" test case.
Same thing happens on Linux/x86 (RH Enterprise AS 2.1) using IBM JDK 1.4.1 
(cn1411-20030930).

The object refernce is there if application is started in controlled mode but 
not if it is started in enabled mode.

My earlier comment applied to recent AC 1.3 drivers (eg: 2004_0312 &amp; 2004_0317).
Seems there are different versions of the HeapJniCarTest test case lying around.
I just tested this problem out with Samson, and the HeapJniCarTest he was using
was creating the Door/Wheel objects AFTER the "Press enter" prompt came up (and
hence, after the user had the opportunity to collect object references.) Once we
move the creation of the objects to the start of test case (before the pause),
when the user hits Collect Obj Refs, the Door/Wheel objects will appear as they
should in the obj refs view. 
house keeping
As of TPTP 4.6.0, TPTP is in maintenance mode and focusing on improving quality by resolving relevant enhancements/defects and increasing test coverage through test creation, automation, Build Verification Tests (BVTs), and expanded run-time execution. As part of the TPTP Bugzilla housecleaning process (see http://wiki.eclipse.org/Bugzilla_Housecleaning_Processes), this enhancement/defect is verified/closed by the Project Lead since this originator of this enhancement/defect has an inactive Bugzilla account and considered to be fixed. If this enhancement/defect is still unresolved and reproducible in the latest TPTP release (http://www.eclipse.org/tptp/home/downloads/), please re-open.</WithOutStack>
  </Bug>
  <Bug>
    <BugId amount="49160" />
    <CreationDate amount="2003-12-18 21:00:00 -0500" />
    <DupId amount="45887" />
    <classification amount="Eclipse" />
    <Product amount="JDT" />
    <component amount="Debug" />
    <Version amount="3.0" />
    <rep_platform amount="All" />
    <op_sys amount="All" />
    <priority amount="P3" />
    <bug_severity amount="enhancement" />
    <Summery>too many problems by to many unneccessary checks</Summery>
    <Patches amount="0" />
    <Stacktraces amount="0" />
    <SourceCodeRegions amount="0" />
    <Enumerations amount="2">
      <Enumeration lines="15">
        <Lines>
          <Line>0) Set in Window | Preferences | Java | Compiler ...</Line>
          <Line>- Style: everything to warning</Line>
          <Line>- Unused code: everything to warning</Line>
          <Line>- all others: as is (defaults)</Line>
          <Line>1) E.g. create a little project (A) in an empty workspace</Line>
          <Line>2) try to run or debug a file in (A) and monitor the time/resources</Line>
          <Line>3) check out xml-batik into the same workspace as a new project</Line>
          <Line>Server: cvs.apache.org</Line>
          <Line>directory: /home/cvspublic</Line>
          <Line>user: anoncvs</Line>
          <Line>password: anoncvs</Line>
          <Line>4) repeat 2)</Line>
          <Line>You may close uninteresting projects, or only build the one project you care</Line>
          <Line>about (instead of building the workspace). Also you can disable the preferences</Line>
          <Line>for building before launching some programs.</Line>
        </Lines>
      </Enumeration>
      <Enumeration lines="14">
        <Lines>
          <Line>- Style: everything to warning</Line>
          <Line>- Unused code: everything to warning</Line>
          <Line>- all others: as is (defaults)</Line>
          <Line>1) E.g. create a little project (A) in an empty workspace</Line>
          <Line>2) try to run or debug a file in (A) and monitor the time/resources</Line>
          <Line>3) check out xml-batik into the same workspace as a new project</Line>
          <Line>Server: cvs.apache.org</Line>
          <Line>directory: /home/cvspublic</Line>
          <Line>user: anoncvs</Line>
          <Line>password: anoncvs</Line>
          <Line>4) repeat 2)</Line>
          <Line>You may close uninteresting projects, or only build the one project you care</Line>
          <Line>about (instead of building the workspace). Also you can disable the preferences</Line>
          <Line>for building before launching some programs.</Line>
        </Lines>
      </Enumeration>
    </Enumerations>
    <bug_status amount="RESOLVED" />
    <resolution amount="DUPLICATE" />
    <WithStack>If one builds/starts to debug/run a file in a project, the compiler
should check only the appropriate files in that project and NOT in all
projects in the workspace!

Rationale: It is not uncommon, that a developer has more than one project
in his workspace or just checks out/imports a project to make some fixes.

If he wanna e.g. run an application in project A, the compiler also
checks all other projects (which have even no relation to project A)
and fires depending on the quality of the other projects 10000s of
warnings. Scanning other projects takes, depending of their size, a lot
of time, requires a lot of resources and time and makes the problem
report view even unusable, if to many problems (e.g. because of bad
documentation) are encountered.

This makes no sense.

Just try this:
0) Set in Window | Preferences | Java | Compiler ...
      - Style: everything to warning
      - Unused code: everything to warning
      - all others: as is (defaults)
1) E.g. create a little project (A) in an empty workspace
2) try to run or debug a file in (A) and monitor the time/resources
3) check out xml-batik into the same workspace as a new project
      Server: cvs.apache.org
      directory: /home/cvspublic
      user: anoncvs
      password: anoncvs
4) repeat 2)
You may close uninteresting projects, or only build the one project you care 
about (instead of building the workspace). Also you can disable the preferences 
for building before launching some programs.

Moving to JDT/Debug for further action.


*** This bug has been marked as a duplicate of 45887 ***</WithStack>
    <WithOutStack>If one builds/starts to debug/run a file in a project, the compiler
should check only the appropriate files in that project and NOT in all
projects in the workspace!

Rationale: It is not uncommon, that a developer has more than one project
in his workspace or just checks out/imports a project to make some fixes.

If he wanna e.g. run an application in project A, the compiler also
checks all other projects (which have even no relation to project A)
and fires depending on the quality of the other projects 10000s of
warnings. Scanning other projects takes, depending of their size, a lot
of time, requires a lot of resources and time and makes the problem
report view even unusable, if to many problems (e.g. because of bad
documentation) are encountered.

This makes no sense.

Just try this:
0) Set in Window | Preferences | Java | Compiler ...
      - Style: everything to warning
      - Unused code: everything to warning
      - all others: as is (defaults)
1) E.g. create a little project (A) in an empty workspace
2) try to run or debug a file in (A) and monitor the time/resources
3) check out xml-batik into the same workspace as a new project
      Server: cvs.apache.org
      directory: /home/cvspublic
      user: anoncvs
      password: anoncvs
4) repeat 2)
You may close uninteresting projects, or only build the one project you care 
about (instead of building the workspace). Also you can disable the preferences 
for building before launching some programs.

Moving to JDT/Debug for further action.


*** This bug has been marked as a duplicate of 45887 ***</WithOutStack>
  </Bug>
  <Bug>
    <BugId amount="49161" />
    <CreationDate amount="2003-12-18 21:07:00 -0500" />
    <DupId amount="" />
    <classification amount="Eclipse" />
    <Product amount="JDT" />
    <component amount="Text" />
    <Version amount="3.0" />
    <rep_platform amount="All" />
    <op_sys amount="All" />
    <priority amount="P3" />
    <bug_severity amount="enhancement" />
    <Summery>Java editor does not use "Enter" when pasting.</Summery>
    <Patches amount="0" />
    <Stacktraces amount="0" />
    <SourceCodeRegions amount="1">
      <source_code type="assignment">
        <location start="17" end="45" />
        <code>private String foo = "";</code>
      </source_code>
    </SourceCodeRegions>
    <Enumerations amount="0" />
    <bug_status amount="RESOLVED" />
    <resolution amount="WORKSFORME" />
    <WithStack>If you type in:

    private String foo = "";

With the cursor b/w the "", hit the ENTER key, you get:

    private String foo = "" +
            "";

Which is Great, but if you paste from the clipboard, then the raw stuff gets
inserted, whithout the nice extra time saving "" + "".

Version 3.0.m5.
If you enable 'Java-&gt;Editor-&gt;Typing tab-&gt;Escape strings when pasting into string
literals', you get what you want.</WithStack>
    <WithOutStack>If you type in:

    private String foo = "";

With the cursor b/w the "", hit the ENTER key, you get:

    private String foo = "" +
            "";

Which is Great, but if you paste from the clipboard, then the raw stuff gets
inserted, whithout the nice extra time saving "" + "".

Version 3.0.m5.
If you enable 'Java-&gt;Editor-&gt;Typing tab-&gt;Escape strings when pasting into string
literals', you get what you want.</WithOutStack>
  </Bug>
  <Bug>
    <BugId amount="49162" />
    <CreationDate amount="2003-12-18 21:13:00 -0500" />
    <DupId amount="" />
    <classification amount="Eclipse" />
    <Product amount="JDT" />
    <component amount="Core" />
    <Version amount="3.0" />
    <rep_platform amount="PC" />
    <op_sys amount="Windows XP" />
    <priority amount="P3" />
    <bug_severity amount="normal" />
    <Summery>Long String init formatting not so great.</Summery>
    <Patches amount="0" />
    <Stacktraces amount="0" />
    <SourceCodeRegions amount="0" />
    <Enumerations amount="0" />
    <bug_status amount="RESOLVED" />
    <resolution amount="WONTFIX" />
    <WithStack>If you format:

    private String foo = "&lt;?xml version='1.0' encoding='utf-8'?&gt;" + 
            "&lt;soap:Envelope
xmlns:soap='http://schemas.xmlsoap.org/soap/envelope/'
xmlns:xsi='http://www.w3.org/2001/XMLSchema-instance'
xmlns:xsd='http://www.w3.org/2001/XMLSchema'&gt;" + 
            "  &lt;soap:Header&gt;" + 
            "   &lt;zAuthPwd xmlns='http://test.com'&gt;" + 
            "    &lt;UserId&gt;xxx&lt;/UserId&gt;" + 
            "   &lt;Password&gt;xxx&lt;/Password&gt;" + 
            "    &lt;/zAuthPwd&gt;" + 
            " &lt;/soap:Header&gt;" + 
            "  &lt;soap:Body&gt;" + 
            "    &lt;Get_bas64 xmlns='http://test.com'&gt;" + 
            "     &lt;Get_bas64Input&gt;" + 
            "      &lt;BASE64_FIELD&gt;xxx&lt;/BASE64_FIELD&gt;" + 
            "   &lt;/Get_bas64Input&gt;" + 
            "&lt;/Get_bas64&gt;" + 
            "  &lt;/soap:Body&gt;" + 
            "&lt;/soap:Envelope&gt;";

You get:

    private String foo = "&lt;?xml version='1.0' encoding='utf-8'?&gt;"
            + "&lt;soap:Envelope
xmlns:soap='http://schemas.xmlsoap.org/soap/envelope/'
xmlns:xsi='http://www.w3.org/2001/XMLSchema-instance'
xmlns:xsd='http://www.w3.org/2001/XMLSchema'&gt;"
            + "  &lt;soap:Header&gt;" + "   &lt;zAuthPwd xmlns='http://test.com'&gt;" + "  
 &lt;UserId&gt;SEAG0&lt;/UserId&gt;" + "   &lt;Password&gt;U0VBR1VMTC&lt;/Password&gt;"
            + "    &lt;/zAuthPwd&gt;" + " &lt;/soap:Header&gt;" + "  &lt;soap:Body&gt;" + "   
&lt;Get_bas64 xmlns='http://test.com'&gt;" + "     &lt;Get_bas64Input&gt;"
            + "      &lt;BASE64_FIELD&gt;MDAwMQ==&lt;/BASE64_FIELD&gt;" + "  
&lt;/Get_bas64Input&gt;" + "&lt;/Get_bas64&gt;" + "  &lt;/soap:Body&gt;" + "&lt;/soap:Envelope&gt;";

Which is not so nice.
Version 3.0.m5
Can you try with 3.0 M6 (when it is out later today) and use the new code 
formatter (Preferences-&gt;Java-&gt;Work in Progress)? Then play with the Line 
Wrapping option for Binary Expressions.

Please let us know if this suits your needs.
In m6, I've played with this and we are ALMOST there ;-) 

The following [1]:

    private static final String EMPID_TEMPLATE = 
        "&lt;?xml version=\"1.0\"?&gt;\r\n" + 
        "&lt;Request name=\"IAT.GetEmployee\"&gt;\r\n" + 
        "    &lt;Input&gt;\r\n" + 
        "        &lt;DEMOREC1&gt;\r\n" + 
        "            &lt;EMPID&gt;0&lt;/EMPID&gt;\r\n" + 
        "        &lt;/DEMOREC1&gt;\r\n" + 
        "    &lt;/Input&gt;\r\n" + 
        "&lt;/Request&gt;";

is formated as [2]:

    private static final String EMPID_TEMPLATE = "&lt;?xml version=\"1.0\"?&gt;\r\n"
        + "&lt;Request name=\"IAT.GetEmployee\"&gt;\r\n"
        + "    &lt;Input&gt;\r\n"
        + "        &lt;DEMOREC1&gt;\r\n"
        + "            &lt;EMPID&gt;0&lt;/EMPID&gt;\r\n"
        + "        &lt;/DEMOREC1&gt;\r\n"
        + "    &lt;/Input&gt;\r\n"
        + "&lt;/Request&gt;";

I am using "Wrap Always" and "Indent by one".
Note the merging of the first line, which is not good for reading String data. 
I would like the tweak the settings to be able to get my (1). So close... :-)
Oh, I do not care about where the "+", I care about being able to read the
String data clearly. Thanks!
Reconsider post 3.0.
As of now 'LATER' and 'REMIND' resolutions are no longer supported.
Please reopen this bug if it is still valid for you.</WithStack>
    <WithOutStack>If you format:

    private String foo = "&lt;?xml version='1.0' encoding='utf-8'?&gt;" + 
            "&lt;soap:Envelope
xmlns:soap='http://schemas.xmlsoap.org/soap/envelope/'
xmlns:xsi='http://www.w3.org/2001/XMLSchema-instance'
xmlns:xsd='http://www.w3.org/2001/XMLSchema'&gt;" + 
            "  &lt;soap:Header&gt;" + 
            "   &lt;zAuthPwd xmlns='http://test.com'&gt;" + 
            "    &lt;UserId&gt;xxx&lt;/UserId&gt;" + 
            "   &lt;Password&gt;xxx&lt;/Password&gt;" + 
            "    &lt;/zAuthPwd&gt;" + 
            " &lt;/soap:Header&gt;" + 
            "  &lt;soap:Body&gt;" + 
            "    &lt;Get_bas64 xmlns='http://test.com'&gt;" + 
            "     &lt;Get_bas64Input&gt;" + 
            "      &lt;BASE64_FIELD&gt;xxx&lt;/BASE64_FIELD&gt;" + 
            "   &lt;/Get_bas64Input&gt;" + 
            "&lt;/Get_bas64&gt;" + 
            "  &lt;/soap:Body&gt;" + 
            "&lt;/soap:Envelope&gt;";

You get:

    private String foo = "&lt;?xml version='1.0' encoding='utf-8'?&gt;"
            + "&lt;soap:Envelope
xmlns:soap='http://schemas.xmlsoap.org/soap/envelope/'
xmlns:xsi='http://www.w3.org/2001/XMLSchema-instance'
xmlns:xsd='http://www.w3.org/2001/XMLSchema'&gt;"
            + "  &lt;soap:Header&gt;" + "   &lt;zAuthPwd xmlns='http://test.com'&gt;" + "  
 &lt;UserId&gt;SEAG0&lt;/UserId&gt;" + "   &lt;Password&gt;U0VBR1VMTC&lt;/Password&gt;"
            + "    &lt;/zAuthPwd&gt;" + " &lt;/soap:Header&gt;" + "  &lt;soap:Body&gt;" + "   
&lt;Get_bas64 xmlns='http://test.com'&gt;" + "     &lt;Get_bas64Input&gt;"
            + "      &lt;BASE64_FIELD&gt;MDAwMQ==&lt;/BASE64_FIELD&gt;" + "  
&lt;/Get_bas64Input&gt;" + "&lt;/Get_bas64&gt;" + "  &lt;/soap:Body&gt;" + "&lt;/soap:Envelope&gt;";

Which is not so nice.
Version 3.0.m5
Can you try with 3.0 M6 (when it is out later today) and use the new code 
formatter (Preferences-&gt;Java-&gt;Work in Progress)? Then play with the Line 
Wrapping option for Binary Expressions.

Please let us know if this suits your needs.
In m6, I've played with this and we are ALMOST there ;-) 

The following [1]:

    private static final String EMPID_TEMPLATE = 
        "&lt;?xml version=\"1.0\"?&gt;\r\n" + 
        "&lt;Request name=\"IAT.GetEmployee\"&gt;\r\n" + 
        "    &lt;Input&gt;\r\n" + 
        "        &lt;DEMOREC1&gt;\r\n" + 
        "            &lt;EMPID&gt;0&lt;/EMPID&gt;\r\n" + 
        "        &lt;/DEMOREC1&gt;\r\n" + 
        "    &lt;/Input&gt;\r\n" + 
        "&lt;/Request&gt;";

is formated as [2]:

    private static final String EMPID_TEMPLATE = "&lt;?xml version=\"1.0\"?&gt;\r\n"
        + "&lt;Request name=\"IAT.GetEmployee\"&gt;\r\n"
        + "    &lt;Input&gt;\r\n"
        + "        &lt;DEMOREC1&gt;\r\n"
        + "            &lt;EMPID&gt;0&lt;/EMPID&gt;\r\n"
        + "        &lt;/DEMOREC1&gt;\r\n"
        + "    &lt;/Input&gt;\r\n"
        + "&lt;/Request&gt;";

I am using "Wrap Always" and "Indent by one".
Note the merging of the first line, which is not good for reading String data. 
I would like the tweak the settings to be able to get my (1). So close... :-)
Oh, I do not care about where the "+", I care about being able to read the
String data clearly. Thanks!
Reconsider post 3.0.
As of now 'LATER' and 'REMIND' resolutions are no longer supported.
Please reopen this bug if it is still valid for you.</WithOutStack>
  </Bug>
  <Bug>
    <BugId amount="49163" />
    <CreationDate amount="2003-12-18 22:01:00 -0500" />
    <DupId amount="44876" />
    <classification amount="Eclipse" />
    <Product amount="JDT" />
    <component amount="Core" />
    <Version amount="3.0" />
    <rep_platform amount="PC" />
    <op_sys amount="Linux" />
    <priority amount="P3" />
    <bug_severity amount="normal" />
    <Summery>addition to compiler option 'Unnecessary declaration of thrown checked exception'</Summery>
    <Patches amount="0" />
    <Stacktraces amount="0" />
    <SourceCodeRegions amount="0" />
    <Enumerations amount="0" />
    <bug_status amount="RESOLVED" />
    <resolution amount="DUPLICATE" />
    <WithStack>please add the same two checkboxes that are under 'Parameter is never read'
* check when overriding concrete method
* check when implementing abstract method

that last one is really driving me nuts, as when implementing an interface its
common to not throw the exception.

BTW, this product doesn't suck.
Needs some compiler support first.
We will add support for this scenario, in a combined option:
- check when overriding method

(taking care of the concrete and abstract scenario)


I'm not sure if Alvin ment the same but I experience trouble when a method 
(declaring an unnecessary throws) is overwritten by another method (this time 
the throws is necessary).
Removing the first throws of course leads to a compile error
This is enforced by the language spec, and this is why we added the extra 
control to tolerate unused exceptions in overriding methods, ad further 
subclasses may require these. It is not solving all cases, but most of them, in 
a non-expensive way. 

Also see comments in bug 44876

*** This bug has been marked as a duplicate of 44876 ***</WithStack>
    <WithOutStack>please add the same two checkboxes that are under 'Parameter is never read'
* check when overriding concrete method
* check when implementing abstract method

that last one is really driving me nuts, as when implementing an interface its
common to not throw the exception.

BTW, this product doesn't suck.
Needs some compiler support first.
We will add support for this scenario, in a combined option:
- check when overriding method

(taking care of the concrete and abstract scenario)


I'm not sure if Alvin ment the same but I experience trouble when a method 
(declaring an unnecessary throws) is overwritten by another method (this time 
the throws is necessary).
Removing the first throws of course leads to a compile error
This is enforced by the language spec, and this is why we added the extra 
control to tolerate unused exceptions in overriding methods, ad further 
subclasses may require these. It is not solving all cases, but most of them, in 
a non-expensive way. 

Also see comments in bug 44876

*** This bug has been marked as a duplicate of 44876 ***</WithOutStack>
  </Bug>
  <Bug>
    <BugId amount="49164" />
    <CreationDate amount="2003-12-18 23:43:00 -0500" />
    <DupId amount="" />
    <classification amount="Eclipse" />
    <Product amount="Platform" />
    <component amount="SWT" />
    <Version amount="2.1.2" />
    <rep_platform amount="Macintosh" />
    <op_sys amount="Mac OS X - Carbon (unsup.)" />
    <priority amount="P3" />
    <bug_severity amount="major" />
    <Summery>SWT shell cannot gain focus</Summery>
    <Patches amount="0" />
    <Stacktraces amount="0" />
    <SourceCodeRegions amount="0" />
    <Enumerations amount="0" />
    <bug_status amount="RESOLVED" />
    <resolution amount="INVALID" />
    <WithStack>SWT shell displays but cannot gain focus.  This occurs with numerous applications using the 
SWT toolkit, including the examples from org.eclipse.swt.examples.  (for example, the Hello 
example).  After trying to select the SWT shell using the mouse to gain focus, I get a "bus error" 
with no other details provided.

I'm running Max OS-X 10.3.2, but have also seen the problem on 10.3.1 and 10.3.0, in all cases 
using libswt-carbon-2135.jnilib.  Running Java 1.4.1_01.
How do you launch SWT applications?
Have you read the SWT FAQ (search for 'Carbon' in FAQ)?

My mistake - I was launching using java -cp ... and wasn't aware of the UI registration issue.

Thanks,
Paul.</WithStack>
    <WithOutStack>SWT shell displays but cannot gain focus.  This occurs with numerous applications using the 
SWT toolkit, including the examples from org.eclipse.swt.examples.  (for example, the Hello 
example).  After trying to select the SWT shell using the mouse to gain focus, I get a "bus error" 
with no other details provided.

I'm running Max OS-X 10.3.2, but have also seen the problem on 10.3.1 and 10.3.0, in all cases 
using libswt-carbon-2135.jnilib.  Running Java 1.4.1_01.
How do you launch SWT applications?
Have you read the SWT FAQ (search for 'Carbon' in FAQ)?

My mistake - I was launching using java -cp ... and wasn't aware of the UI registration issue.

Thanks,
Paul.</WithOutStack>
  </Bug>
  <Bug>
    <BugId amount="49165" />
    <CreationDate amount="2003-12-19 00:35:00 -0500" />
    <DupId amount="" />
    <classification amount="Eclipse" />
    <Product amount="Platform" />
    <component amount="Text" />
    <Version amount="2.1" />
    <rep_platform amount="PC" />
    <op_sys amount="Windows XP" />
    <priority amount="P3" />
    <bug_severity amount="enhancement" />
    <Summery>[preferences] Selection Background Color</Summery>
    <Patches amount="0" />
    <Stacktraces amount="0" />
    <SourceCodeRegions amount="0" />
    <Enumerations amount="0" />
    <bug_status amount="RESOLVED" />
    <resolution amount="FIXED" />
    <WithStack>Java Editor Settings. Editor Apperance/Syntax.

I did not find how to specify selection's background color. By default it's 
blue. 
Problem is more noticable if set Custom Background Color to blue. Then in 
editor selected blocks are becoming blue on blue.
Selection background is determined from your OS settings for text background . 
Change them there and they will be reflected in the java editor.

I will move to JDT who supply this editor but I don't think any action is 
required on thier part.
Thanks Tod,
Even if there's a way to specify selection text background/foreground color on 
OS level I don't think user wants change these settings. I want to set up my 
IDE only, not anything else.
If I can do it in VBA Editor, Visual Studio, Borland IDEs, Intellij why there 
is a problem in Eclipse?
It was a design decision in Eclipse to honour the users workbench settings as 
much as possible - not picking up changes in the OS is a great frustration to 
many people - especially in platforms that support themes.
It's the right decision to pick up the OS settings, no doubts
but since Eclipse allows to change background color for plain text it would be 
logical to allow specify background color for selected text as well. Otherwise 
it's worthless to change plain text background color.

Here's my situation:
I specified text background color to dark blue.
I would like to specify selection background color to white, but can't
as a result, my selection is not noticable (blue on blue)

If it would be a way to specify background color on OS level it would cause 
other problems, like white selection on white background in notepad. Plus I 
don't want to change my OS setting.
Released Christof's patch.
Available in builds &gt; 20040414</WithStack>
    <WithOutStack>Java Editor Settings. Editor Apperance/Syntax.

I did not find how to specify selection's background color. By default it's 
blue. 
Problem is more noticable if set Custom Background Color to blue. Then in 
editor selected blocks are becoming blue on blue.
Selection background is determined from your OS settings for text background . 
Change them there and they will be reflected in the java editor.

I will move to JDT who supply this editor but I don't think any action is 
required on thier part.
Thanks Tod,
Even if there's a way to specify selection text background/foreground color on 
OS level I don't think user wants change these settings. I want to set up my 
IDE only, not anything else.
If I can do it in VBA Editor, Visual Studio, Borland IDEs, Intellij why there 
is a problem in Eclipse?
It was a design decision in Eclipse to honour the users workbench settings as 
much as possible - not picking up changes in the OS is a great frustration to 
many people - especially in platforms that support themes.
It's the right decision to pick up the OS settings, no doubts
but since Eclipse allows to change background color for plain text it would be 
logical to allow specify background color for selected text as well. Otherwise 
it's worthless to change plain text background color.

Here's my situation:
I specified text background color to dark blue.
I would like to specify selection background color to white, but can't
as a result, my selection is not noticable (blue on blue)

If it would be a way to specify background color on OS level it would cause 
other problems, like white selection on white background in notepad. Plus I 
don't want to change my OS setting.
Released Christof's patch.
Available in builds &gt; 20040414</WithOutStack>
  </Bug>
  <Bug>
    <BugId amount="49166" />
    <CreationDate amount="2003-12-19 00:52:00 -0500" />
    <DupId amount="" />
    <classification amount="Eclipse" />
    <Product amount="PDE" />
    <component amount="UI" />
    <Version amount="3.0" />
    <rep_platform amount="PC" />
    <op_sys amount="Windows 2000" />
    <priority amount="P3" />
    <bug_severity amount="normal" />
    <Summery>Debug trace options not immediately available</Summery>
    <Patches amount="0" />
    <Stacktraces amount="0" />
    <SourceCodeRegions amount="0" />
    <Enumerations amount="1">
      <Enumeration lines="8">
        <Lines>
          <Line>1) Create a plug-in</Line>
          <Line>2) Create a .options file with at least one setting</Line>
          <Line>3) Create and apply a Run-time Workbench launcher with those trace options enabled</Line>
          <Line>4) Add a new option to the .options file</Line>
          <Line>5) Reopen the launcher.  The old options may or may not be settable, but the new</Line>
          <Line>one won't be modifiable at all.</Line>
          <Line>Fixed in M6 coming out tomorrow.</Line>
          <Line>Verified in 3.1RC3.</Line>
        </Lines>
      </Enumeration>
    </Enumerations>
    <bug_status amount="CLOSED" />
    <resolution amount="FIXED" />
    <WithStack>3.0M5

Trace settings declared in a plug-in project's .options file after a Run-time
Workbench launcher has been created with options enabled from that plug-in
aren't settable.

Steps to recreate:
1) Create a plug-in
2) Create a .options file with at least one setting
3) Create and apply a Run-time Workbench launcher with those trace options enabled
4) Add a new option to the .options file
5) Reopen the launcher.  The old options may or may not be settable, but the new
one won't be modifiable at all.
Fixed in M6 coming out tomorrow.
Verified in 3.1RC3.</WithStack>
    <WithOutStack>3.0M5

Trace settings declared in a plug-in project's .options file after a Run-time
Workbench launcher has been created with options enabled from that plug-in
aren't settable.

Steps to recreate:
1) Create a plug-in
2) Create a .options file with at least one setting
3) Create and apply a Run-time Workbench launcher with those trace options enabled
4) Add a new option to the .options file
5) Reopen the launcher.  The old options may or may not be settable, but the new
one won't be modifiable at all.
Fixed in M6 coming out tomorrow.
Verified in 3.1RC3.</WithOutStack>
  </Bug>
  <Bug>
    <BugId amount="49167" />
    <CreationDate amount="2003-12-19 05:31:00 -0500" />
    <DupId amount="" />
    <classification amount="Tools" />
    <Product amount="CDT" />
    <component amount="cdt-parser" />
    <Version amount="2.0" />
    <rep_platform amount="PC" />
    <op_sys amount="Linux" />
    <priority amount="P3" />
    <bug_severity amount="critical" />
    <Summery>Editor can't open if code contains certain syntax (GCC)</Summery>
    <Patches amount="0" />
    <Stacktraces amount="0" />
    <SourceCodeRegions amount="0" />
    <Enumerations amount="0" />
    <bug_status amount="RESOLVED" />
    <resolution amount="FIXED" />
    <WithStack>The editor hangs with this code:

struct foo
{

    int member;
};

struct foo bar =
{
        member: = 1, //this is the offending line
};

This is an old (obsolete?) gcc syntax to assign struct members.

If you use the newer .member = 1 syntax, the editor works.

thanks,
--
Francisco
The editor shouldn't hang .. upping the severity of the bug. 
Adding GCC to summary line.  
*** Bug 52788 has been marked as a duplicate of this bug. ***
It no longer causes a hang ... variable bar does not show in the outline 
view.  Lowering severity ... 
*** Bug 58383 has been marked as a duplicate of this bug. ***
i get the hang now if its in a C project, not a C++ project. 
Upping the severity
Fixed in HEAD.</WithStack>
    <WithOutStack>The editor hangs with this code:

struct foo
{

    int member;
};

struct foo bar =
{
        member: = 1, //this is the offending line
};

This is an old (obsolete?) gcc syntax to assign struct members.

If you use the newer .member = 1 syntax, the editor works.

thanks,
--
Francisco
The editor shouldn't hang .. upping the severity of the bug. 
Adding GCC to summary line.  
*** Bug 52788 has been marked as a duplicate of this bug. ***
It no longer causes a hang ... variable bar does not show in the outline 
view.  Lowering severity ... 
*** Bug 58383 has been marked as a duplicate of this bug. ***
i get the hang now if its in a C project, not a C++ project. 
Upping the severity
Fixed in HEAD.</WithOutStack>
  </Bug>
  <Bug>
    <BugId amount="49168" />
    <CreationDate amount="2003-12-19 06:30:00 -0500" />
    <DupId amount="51735" />
    <classification amount="Eclipse" />
    <Product amount="Platform" />
    <component amount="UI" />
    <Version amount="3.0" />
    <rep_platform amount="PC" />
    <op_sys amount="Windows XP" />
    <priority amount="P3" />
    <bug_severity amount="normal" />
    <Summery>[Jobs] Need to show blocking jobs better in workbench and views</Summery>
    <Patches amount="0" />
    <Stacktraces amount="0" />
    <SourceCodeRegions amount="0" />
    <Enumerations amount="2">
      <Enumeration lines="25">
        <Lines>
          <Line>a) Jobs that block everything</Line>
          <Line>b) Jobs that only block a particular view</Line>
          <Line />
          <Line>The API is already there - it is just a matter of implementing a better</Line>
          <Line>looking UI for it.</Line>
          <Line />
          <Line>I am going to change the title of this to reflect the larger changes to</Line>
          <Line>showing the affects of jobs throughout the workbench. If you have any</Line>
          <Line>suggestions please let us know - this dialog really could dowith some redesign.</Line>
          <Line>Some sort of toggle to turn it off might make sense. It also doesn't make sense</Line>
          <Line>during startup when the user is blocked anyway. We'd have to be careful with it</Line>
          <Line>though - I don't see this as something the user will be able to turn off.</Line>
          <Line>What seems wrong to me is that the operation infrastructure decides to pop up</Line>
          <Line>something as it has no context: Does a dialog make sense in the scenarion, if</Line>
          <Line>yes, on what shell whould it be parented...</Line>
          <Line />
          <Line>The usaual way is that only actions open dialogs: progress monitors, error</Line>
          <Line>messages ect.</Line>
          <Line />
          <Line>So I would suggest to instead of opening the blocking dialogs automatically,</Line>
          <Line>offer functionality to be used by actions to show such a dialog until the</Line>
          <Line>workspace lock is free.</Line>
          <Line>A possibibility would be that if you want the dialog, use a new API in platform</Line>
          <Line>UI to run your IWorkspaceRunnables.</Line>
          <Line>e.g. workbench.runWorkspaceRunnable(IWorkspaceRunnable, IProgressMonitor, Shell)</Line>
        </Lines>
      </Enumeration>
      <Enumeration lines="7">
        <Lines>
          <Line>- Makes no sense to show that while runnning tests: Allow the test runner to</Line>
          <Line>turn it off?</Line>
          <Line>- This conflict is so short that it is not worth showing a dialog for</Line>
          <Line>-&gt; If you really decide on sticking with the dialog (which is really not my</Line>
          <Line>favourite!), you could add a timer so it only shows up after one or two seconds.</Line>
          <Line>This comes up when there is a blocking job - this is likely more annoying when</Line>
          <Line>there are tests.</Line>
        </Lines>
      </Enumeration>
    </Enumerations>
    <bug_status amount="RESOLVED" />
    <resolution amount="DUPLICATE" />
    <WithStack>M6

When we run the tests, the 'Block progress monitor' window is constantly popping
up (for each test maybe or even more) and closes right away again to report that
there was a conflict with the snapshot job.

- Makes no sense to show that while runnning tests: Allow the test runner to
turn it off?
- This conflict is so short that it is not worth showing a dialog for
-&gt; If you really decide on sticking with the dialog (which is really not my
favourite!), you could add a timer so it only shows up after one or two seconds.
This comes up when there is a blocking job - this is likely more annoying when 
there are tests. 

We need to decide how we are going to do this for

a) Jobs that block everything
b) Jobs that only block a particular view

The API is already there - it is just a matter of implementing a better 
looking UI for it.

I am going to change the title of this to reflect the larger changes to 
showing the affects of jobs throughout the workbench. If you have any 
suggestions please let us know - this dialog really could dowith some redesign.
Some sort of toggle to turn it off might make sense. It also doesn't make sense
during startup when the user is blocked anyway. We'd have to be careful with it
though - I don't see this as something the user will be able to turn off.
What seems wrong to me is that the operation infrastructure decides to pop up
something as it has no context: Does a dialog make sense in the scenarion, if
yes, on what shell whould it be parented...

The usaual way is that only actions open dialogs: progress monitors, error
messages ect.

So I would suggest to instead of opening the blocking dialogs automatically,
offer functionality to be used by actions to show such a dialog until the
workspace lock is free.
A possibibility would be that if you want the dialog, use a new API in platform
UI to run your IWorkspaceRunnables.
e.g. workbench.runWorkspaceRunnable(IWorkspaceRunnable, IProgressMonitor, Shell)


In this case we are talking about the UI becoming unresponsive - i.e. the UI 
Thread has been blocked. We need a way to inform the user that they cannot 
access the UI due to the blockage so that they do not think that they are the 
victim of a perfomance issue.

This is essentially the same idea as a progress monitor just without an 
indeterminate progress in it.

How would you inform the user of the block in the UI if not with a dialog? I 
agree the current solution is kind of clunky so something more elegant would 
be nice.
Martin, we already have the workbench API you suggest for running an operation
in a way that causes the dialog to pop up after a few seconds.  See
IProgressService, available from IWorkbench.  This service will notify the user
when the operation is blocked, and allow them to browse and cancel the currently
running background jobs.  The problem is, not all operations are "well behaved"
enough to use such an API.  There are many operations (particularly in the text
infrastructure), that modify the workspace without using a dialog or other form
of progress.  The "magic dialog" was specifically added to handle these cases
where operations were performed in the UI thread without any kind of explicit
progress monitoring.  If you are using a real progress monitor (dialog, progress
service, or other IRunnableContext), you will not get the magic popup dialog. If
you run an operation without any progress monitor, we use this popup dialog as a
last line of defense, ensuring that the user is notified when a UI thread
operation is blocked by a background job.

I suspect it is appearing in the tests because the tests are running in the UI
thread without using a progress dialog.  Possible solutions include running the
tests in a non-UI thread (debug tests run this way), or passing in some fake
progress monitor to the operations in the tests.  Again, the dialog you are
seeing will not appear if the operation has a non-null progress monitor (where
NullProgressMonitor is considered the same as a "null" monitor).
Marking as a dup of Bug 51735 so that we can track any improvments there.

*** This bug has been marked as a duplicate of 31735 ***
Should be dup of bug 51735


*** This bug has been marked as a duplicate of 51735 ***</WithStack>
    <WithOutStack>M6

When we run the tests, the 'Block progress monitor' window is constantly popping
up (for each test maybe or even more) and closes right away again to report that
there was a conflict with the snapshot job.

- Makes no sense to show that while runnning tests: Allow the test runner to
turn it off?
- This conflict is so short that it is not worth showing a dialog for
-&gt; If you really decide on sticking with the dialog (which is really not my
favourite!), you could add a timer so it only shows up after one or two seconds.
This comes up when there is a blocking job - this is likely more annoying when 
there are tests. 

We need to decide how we are going to do this for

a) Jobs that block everything
b) Jobs that only block a particular view

The API is already there - it is just a matter of implementing a better 
looking UI for it.

I am going to change the title of this to reflect the larger changes to 
showing the affects of jobs throughout the workbench. If you have any 
suggestions please let us know - this dialog really could dowith some redesign.
Some sort of toggle to turn it off might make sense. It also doesn't make sense
during startup when the user is blocked anyway. We'd have to be careful with it
though - I don't see this as something the user will be able to turn off.
What seems wrong to me is that the operation infrastructure decides to pop up
something as it has no context: Does a dialog make sense in the scenarion, if
yes, on what shell whould it be parented...

The usaual way is that only actions open dialogs: progress monitors, error
messages ect.

So I would suggest to instead of opening the blocking dialogs automatically,
offer functionality to be used by actions to show such a dialog until the
workspace lock is free.
A possibibility would be that if you want the dialog, use a new API in platform
UI to run your IWorkspaceRunnables.
e.g. workbench.runWorkspaceRunnable(IWorkspaceRunnable, IProgressMonitor, Shell)


In this case we are talking about the UI becoming unresponsive - i.e. the UI 
Thread has been blocked. We need a way to inform the user that they cannot 
access the UI due to the blockage so that they do not think that they are the 
victim of a perfomance issue.

This is essentially the same idea as a progress monitor just without an 
indeterminate progress in it.

How would you inform the user of the block in the UI if not with a dialog? I 
agree the current solution is kind of clunky so something more elegant would 
be nice.
Martin, we already have the workbench API you suggest for running an operation
in a way that causes the dialog to pop up after a few seconds.  See
IProgressService, available from IWorkbench.  This service will notify the user
when the operation is blocked, and allow them to browse and cancel the currently
running background jobs.  The problem is, not all operations are "well behaved"
enough to use such an API.  There are many operations (particularly in the text
infrastructure), that modify the workspace without using a dialog or other form
of progress.  The "magic dialog" was specifically added to handle these cases
where operations were performed in the UI thread without any kind of explicit
progress monitoring.  If you are using a real progress monitor (dialog, progress
service, or other IRunnableContext), you will not get the magic popup dialog. If
you run an operation without any progress monitor, we use this popup dialog as a
last line of defense, ensuring that the user is notified when a UI thread
operation is blocked by a background job.

I suspect it is appearing in the tests because the tests are running in the UI
thread without using a progress dialog.  Possible solutions include running the
tests in a non-UI thread (debug tests run this way), or passing in some fake
progress monitor to the operations in the tests.  Again, the dialog you are
seeing will not appear if the operation has a non-null progress monitor (where
NullProgressMonitor is considered the same as a "null" monitor).
Marking as a dup of Bug 51735 so that we can track any improvments there.

*** This bug has been marked as a duplicate of 31735 ***
Should be dup of bug 51735


*** This bug has been marked as a duplicate of 51735 ***</WithOutStack>
  </Bug>
  <Bug>
    <BugId amount="49169" />
    <CreationDate amount="2003-12-19 07:23:00 -0500" />
    <DupId amount="47421" />
    <classification amount="Eclipse Foundation" />
    <Product amount="z_Archived" />
    <component amount="VE" />
    <Version amount="unspecified" />
    <rep_platform amount="PC" />
    <op_sys amount="Windows NT" />
    <priority amount="P3" />
    <bug_severity amount="blocker" />
    <Summery>Problems with JDialog anf components as JButton</Summery>
    <Patches amount="0" />
    <Stacktraces amount="0" />
    <SourceCodeRegions amount="0" />
    <Enumerations amount="0" />
    <bug_status amount="CLOSED" />
    <resolution amount="DUPLICATE" />
    <WithStack>Hello.
When I added a JButton (or another component) to a JDialog, the VE says me:

java.lang.Error (Do not use javax.swing.JDialog.add() use 
javax.swing.JDialog.fetContentPane().add() instead)

I changed the java code with this suggestion and then the JButton appear 
outside the JDialog in the JavaBeans tree. Why?

Note: If I uses Dialog and Button from awt this not happend.


*** This bug has been marked as a duplicate of 47421 ***
M1 released, move all resolved to Verified, as prelude to closing.
M1 released, move all resolved/verified to Closed.</WithStack>
    <WithOutStack>Hello.
When I added a JButton (or another component) to a JDialog, the VE says me:

java.lang.Error (Do not use javax.swing.JDialog.add() use 
javax.swing.JDialog.fetContentPane().add() instead)

I changed the java code with this suggestion and then the JButton appear 
outside the JDialog in the JavaBeans tree. Why?

Note: If I uses Dialog and Button from awt this not happend.


*** This bug has been marked as a duplicate of 47421 ***
M1 released, move all resolved to Verified, as prelude to closing.
M1 released, move all resolved/verified to Closed.</WithOutStack>
  </Bug>
  <Bug>
    <BugId amount="49170" />
    <CreationDate amount="2003-12-19 07:39:00 -0500" />
    <DupId amount="47296" />
    <classification amount="Eclipse" />
    <Product amount="Platform" />
    <component amount="Resources" />
    <Version amount="3.0" />
    <rep_platform amount="PC" />
    <op_sys amount="Windows 2000" />
    <priority amount="P3" />
    <bug_severity amount="normal" />
    <Summery>Eclipse 3.0M5 fails with NullPointException on startup</Summery>
    <Patches amount="0" />
    <Stacktraces amount="2">
      <Stacktrace timestamp="1437341080850">
        <Exception>java.lang.reflect.InvocationTargetException</Exception>
        <Reason />
        <Frames>
          <Frame depth="0">org.eclipse.core.internal.boot.InternalBootLoader.run(InternalBootLoader.java:861)</Frame>
          <Frame depth="1">org.eclipse.core.boot.BootLoader.run(BootLoader.java:461)</Frame>
          <Frame depth="2">sun.reflect.NativeMethodAccessorImpl.invoke0(Native Method)</Frame>
          <Frame depth="3">sun.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:39)</Frame>
          <Frame depth="4">sun.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:25)</Frame>
          <Frame depth="5">java.lang.reflect.Method.invoke(Method.java:324)</Frame>
          <Frame depth="6">org.eclipse.core.launcher.Main.basicRun(Main.java:299)</Frame>
          <Frame depth="7">org.eclipse.core.launcher.Main.run(Main.java:767)</Frame>
          <Frame depth="8">org.eclipse.core.launcher.Main.main(Main.java:601)</Frame>
        </Frames>
      </Stacktrace>
      <Cause timestamp="1437341080850">
        <Exception>java.lang.NullPointerException</Exception>
        <Reason />
        <Frames>
          <Frame depth="0">org.eclipse.ui.keys.KeyStroke.hashCode(KeyStroke.java:517)</Frame>
          <Frame depth="1">java.util.HashMap.hash(HashMap.java:250)</Frame>
          <Frame depth="2">java.util.HashMap.get(HashMap.java:301)</Frame>
          <Frame depth="3">org.eclipse.ui.internal.commands.KeySequenceBindingNode.add(KeySequenceBindingNode.java:174)</Frame>
          <Frame depth="4">org.eclipse.ui.internal.commands.KeySequenceBindingMachine.validateTree(KeySequenceBindingMachine.java:223)</Frame>
          <Frame depth="5">org.eclipse.ui.internal.commands.KeySequenceBindingMachine.validateSolution(KeySequenceBindingMachine.java:202)</Frame>
          <Frame depth="6">org.eclipse.ui.internal.commands.KeySequenceBindingMachine.getKeySequenceBindingsByCommandId(KeySequenceBindingMachine.java:72)</Frame>
          <Frame depth="7">org.eclipse.ui.internal.commands.CommandManager.calculateKeySequenceBindings(CommandManager.java:270)</Frame>
          <Frame depth="8">org.eclipse.ui.internal.commands.CommandManager.readRegistry(CommandManager.java:688)</Frame>
          <Frame depth="9">org.eclipse.ui.internal.commands.CommandManager.&lt;init&gt;(CommandManager.java:229)</Frame>
          <Frame depth="10">org.eclipse.ui.internal.commands.CommandManager.&lt;init&gt;(CommandManager.java:192)</Frame>
          <Frame depth="11">org.eclipse.ui.commands.CommandManagerFactory.getCommandManager(CommandManagerFactory.java:41)</Frame>
          <Frame depth="12">org.eclipse.ui.internal.Workbench.init(Workbench.java:736)</Frame>
          <Frame depth="13">org.eclipse.ui.internal.Workbench.runUI(Workbench.java:1358)</Frame>
          <Frame depth="14">org.eclipse.ui.internal.Workbench.createAndRunWorkbench(Workbench.java:237)</Frame>
          <Frame depth="15">org.eclipse.ui.PlatformUI.createAndRunWorkbench(PlatformUI.java:139)</Frame>
          <Frame depth="16">org.eclipse.ui.internal.ide.IDEApplication.run(IDEApplication.java:47)</Frame>
          <Frame depth="17">org.eclipse.core.internal.boot.InternalBootLoader.run(InternalBootLoader.java:858)</Frame>
        </Frames>
      </Cause>
    </Stacktraces>
    <SourceCodeRegions amount="0" />
    <Enumerations amount="0" />
    <bug_status amount="RESOLVED" />
    <resolution amount="DUPLICATE" />
    <WithStack>I'd tried different current builds, but can't get to work the M5 release or any
other nightly/stream build. After completing the install, while startup screen
is displayed, the following Exception occurs:

!SESSION ----------------------------------------------------------------------
!ENTRY org.eclipse.core.launcher 4 0 Dez 19, 2003 13:36:11.281
!MESSAGE Exception launching the Eclipse Platform:
!STACK
java.lang.reflect.InvocationTargetException
	at
org.eclipse.core.internal.boot.InternalBootLoader.run(InternalBootLoader.java:861)
	at org.eclipse.core.boot.BootLoader.run(BootLoader.java:461)
	at sun.reflect.NativeMethodAccessorImpl.invoke0(Native Method)
	at sun.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:39)
	at
sun.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:25)
	at java.lang.reflect.Method.invoke(Method.java:324)
	at org.eclipse.core.launcher.Main.basicRun(Main.java:299)
	at org.eclipse.core.launcher.Main.run(Main.java:767)
	at org.eclipse.core.launcher.Main.main(Main.java:601)
Caused by: java.lang.NullPointerException
	at org.eclipse.ui.keys.KeyStroke.hashCode(KeyStroke.java:517)
	at java.util.HashMap.hash(HashMap.java:250)
	at java.util.HashMap.get(HashMap.java:301)
	at
org.eclipse.ui.internal.commands.KeySequenceBindingNode.add(KeySequenceBindingNode.java:174)
	at
org.eclipse.ui.internal.commands.KeySequenceBindingMachine.validateTree(KeySequenceBindingMachine.java:223)
	at
org.eclipse.ui.internal.commands.KeySequenceBindingMachine.validateSolution(KeySequenceBindingMachine.java:202)
	at
org.eclipse.ui.internal.commands.KeySequenceBindingMachine.getKeySequenceBindingsByCommandId(KeySequenceBindingMachine.java:72)
	at
org.eclipse.ui.internal.commands.CommandManager.calculateKeySequenceBindings(CommandManager.java:270)
	at
org.eclipse.ui.internal.commands.CommandManager.readRegistry(CommandManager.java:688)
	at org.eclipse.ui.internal.commands.CommandManager.&lt;init&gt;(CommandManager.java:229)
	at org.eclipse.ui.internal.commands.CommandManager.&lt;init&gt;(CommandManager.java:192)
	at
org.eclipse.ui.commands.CommandManagerFactory.getCommandManager(CommandManagerFactory.java:41)
	at org.eclipse.ui.internal.Workbench.init(Workbench.java:736)
	at org.eclipse.ui.internal.Workbench.runUI(Workbench.java:1358)
	at org.eclipse.ui.internal.Workbench.createAndRunWorkbench(Workbench.java:237)
	at org.eclipse.ui.PlatformUI.createAndRunWorkbench(PlatformUI.java:139)
	at org.eclipse.ui.internal.ide.IDEApplication.run(IDEApplication.java:47)
	at
org.eclipse.core.internal.boot.InternalBootLoader.run(InternalBootLoader.java:858)
	... 8 more

My system runs:
Windows 2000
512 MB RAM/ Pentium III 700
JSDK 1.4.1 and J2EE 1.3.1

Hope somebody can deal with it!


*** This bug has been marked as a duplicate of 47296 ***</WithStack>
    <WithOutStack>I'd tried different current builds, but can't get to work the M5 release or any
other nightly/stream build. After completing the install, while startup screen
is displayed, the following Exception occurs:

!SESSION ----------------------------------------------------------------------
!ENTRY org.eclipse.core.launcher 4 0 Dez 19, 2003 13:36:11.281
!MESSAGE Exception launching the Eclipse Platform:
!STACK


	... 8 more

My system runs:
Windows 2000
512 MB RAM/ Pentium III 700
JSDK 1.4.1 and J2EE 1.3.1

Hope somebody can deal with it!


*** This bug has been marked as a duplicate of 47296 ***</WithOutStack>
  </Bug>
  <Bug>
    <BugId amount="49171" />
    <CreationDate amount="2003-12-19 07:53:00 -0500" />
    <DupId amount="" />
    <classification amount="Eclipse" />
    <Product amount="JDT" />
    <component amount="UI" />
    <Version amount="3.0" />
    <rep_platform amount="PC" />
    <op_sys amount="Windows NT" />
    <priority amount="P3" />
    <bug_severity amount="normal" />
    <Summery>M5 New File from context Menu of a package does not work</Summery>
    <Patches amount="0" />
    <Stacktraces amount="0" />
    <SourceCodeRegions amount="0" />
    <Enumerations amount="0" />
    <bug_status amount="RESOLVED" />
    <resolution amount="FIXED" />
    <WithStack>This is on 3.0M5. When I want to create a new file directly in a package, the 
wizard window won't select the associated directory. In fact, all the fields of 
the window are blank.

On previous version, when doing the explained action, the directory of the 
selected package would automatically be selected in the "New File" window.
This got fixed for M6. Was caused by RCP work which got introduced for M5.</WithStack>
    <WithOutStack>This is on 3.0M5. When I want to create a new file directly in a package, the 
wizard window won't select the associated directory. In fact, all the fields of 
the window are blank.

On previous version, when doing the explained action, the directory of the 
selected package would automatically be selected in the "New File" window.
This got fixed for M6. Was caused by RCP work which got introduced for M5.</WithOutStack>
  </Bug>
  <Bug>
    <BugId amount="49172" />
    <CreationDate amount="2003-12-19 08:46:00 -0500" />
    <DupId amount="" />
    <classification amount="RT" />
    <Product amount="Equinox" />
    <component amount="Incubator" />
    <Version amount="unspecified" />
    <rep_platform amount="PC" />
    <op_sys amount="Windows XP" />
    <priority amount="P3" />
    <bug_severity amount="normal" />
    <Summery>NPE on exit</Summery>
    <Patches amount="0" />
    <Stacktraces amount="1">
      <Stacktrace timestamp="1437341080851">
        <Exception>java.lang.NullPointerException</Exception>
        <Reason />
        <Frames>
          <Frame depth="0">org.eclipse.core.internal.runtime.PlatformActivator.stopLegacyBundles(PlatformActivator.java:254)</Frame>
          <Frame depth="1">org.eclipse.core.internal.runtime.PlatformActivator$1.run(PlatformActivator.java:237)</Frame>
          <Frame depth="2">org.eclipse.core.runtime.adaptor.EclipseStarter.run(EclipseStarter.java:85)</Frame>
          <Frame depth="3">sun.reflect.NativeMethodAccessorImpl.invoke0(Native Method)</Frame>
          <Frame depth="4">sun.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:39)</Frame>
          <Frame depth="5">sun.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:25)</Frame>
          <Frame depth="6">java.lang.reflect.Method.invoke(Method.java:324)</Frame>
          <Frame depth="7">org.eclipse.core.launcher.Main.basicRun(Main.java:279)</Frame>
          <Frame depth="8">org.eclipse.core.launcher.Main.run(Main.java:742)</Frame>
          <Frame depth="9">org.eclipse.core.launcher.Main.main(Main.java:581)</Frame>
        </Frames>
      </Stacktrace>
    </Stacktraces>
    <SourceCodeRegions amount="0" />
    <Enumerations amount="0" />
    <bug_status amount="RESOLVED" />
    <resolution amount="WORKSFORME" />
    <WithStack>I200312182000

!SESSION ----------------------------------------------------------------------
!ENTRY org.eclipse.core.launcher 4 0 Dez 19, 2003 14:44:17.968
!MESSAGE Exception launching the Eclipse Platform:
!STACK
java.lang.NullPointerException
	at
org.eclipse.core.internal.runtime.PlatformActivator.stopLegacyBundles(PlatformActivator.java:254)
	at
org.eclipse.core.internal.runtime.PlatformActivator$1.run(PlatformActivator.java:237)
	at org.eclipse.core.runtime.adaptor.EclipseStarter.run(EclipseStarter.java:85)
	at sun.reflect.NativeMethodAccessorImpl.invoke0(Native Method)
	at sun.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:39)
	at
sun.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:25)
	at java.lang.reflect.Method.invoke(Method.java:324)
	at org.eclipse.core.launcher.Main.basicRun(Main.java:279)
	at org.eclipse.core.launcher.Main.run(Main.java:742)
	at org.eclipse.core.launcher.Main.main(Main.java:581)
Moving to equinox
Would you have a reproducible test case?
If so, I would have attached it ;-)
Seems to be fixed in M6. Closing. Please reopen if the problem re-occur.</WithStack>
    <WithOutStack>I200312182000

!SESSION ----------------------------------------------------------------------
!ENTRY org.eclipse.core.launcher 4 0 Dez 19, 2003 14:44:17.968
!MESSAGE Exception launching the Eclipse Platform:
!STACK

Moving to equinox
Would you have a reproducible test case?
If so, I would have attached it ;-)
Seems to be fixed in M6. Closing. Please reopen if the problem re-occur.</WithOutStack>
  </Bug>
  <Bug>
    <BugId amount="49173" />
    <CreationDate amount="2003-12-19 08:58:00 -0500" />
    <DupId amount="" />
    <classification amount="Eclipse" />
    <Product amount="Platform" />
    <component amount="Compare" />
    <Version amount="3.0" />
    <rep_platform amount="PC" />
    <op_sys amount="Linux-GTK" />
    <priority amount="P3" />
    <bug_severity amount="normal" />
    <Summery>[Actions] File -&gt; Revert does not get enabled when Compare Editor is dirty</Summery>
    <Patches amount="0" />
    <Stacktraces amount="0" />
    <SourceCodeRegions amount="0" />
    <Enumerations amount="0" />
    <bug_status amount="ASSIGNED" />
    <resolution amount="" />
    <WithStack>File -&gt; Revert does not get enabled when Compare Editor is dirty.
Using M5.
I've just quickly checked it on 3.4 M6 and it looks like it's still an issue. Postponing to 3.5 to better match the reality - we didn't get any feedback on this bug (except one vote), so it doesn't seem critical.
It now works for Java compare.</WithStack>
    <WithOutStack>File -&gt; Revert does not get enabled when Compare Editor is dirty.
Using M5.
I've just quickly checked it on 3.4 M6 and it looks like it's still an issue. Postponing to 3.5 to better match the reality - we didn't get any feedback on this bug (except one vote), so it doesn't seem critical.
It now works for Java compare.</WithOutStack>
  </Bug>
  <Bug>
    <BugId amount="49174" />
    <CreationDate amount="2003-12-19 08:59:00 -0500" />
    <DupId amount="" />
    <classification amount="Eclipse" />
    <Product amount="Platform" />
    <component amount="Resources" />
    <Version amount="3.0" />
    <rep_platform amount="PC" />
    <op_sys amount="Windows XP" />
    <priority amount="P3" />
    <bug_severity amount="critical" />
    <Summery>complete freeze of Workbench when importing binary project</Summery>
    <Patches amount="0" />
    <Stacktraces amount="0" />
    <SourceCodeRegions amount="0" />
    <Enumerations amount="6">
      <Enumeration lines="21">
        <Lines>
          <Line>- waiting on &lt;0x10223860&gt; (a org.eclipse.core.internal.jobs.Semaphore)</Line>
          <Line>at org.eclipse.core.internal.jobs.Semaphore.acquire(Semaphore.java:36)</Line>
          <Line>- locked &lt;0x10223860&gt; (a org.eclipse.core.internal.jobs.Semaphore)</Line>
          <Line>at org.eclipse.core.internal.jobs.OrderedLock.doAcquire</Line>
          <Line>(OrderedLock.java:153)</Line>
          <Line>at org.eclipse.core.internal.jobs.OrderedLock.acquire</Line>
          <Line>(OrderedLock.java:99)</Line>
          <Line>at org.eclipse.core.internal.jobs.OrderedLock.acquire</Line>
          <Line>(OrderedLock.java:75)</Line>
          <Line>at org.eclipse.core.internal.resources.WorkManager.checkIn</Line>
          <Line>(WorkManager.java:109)</Line>
          <Line>at org.eclipse.core.internal.resources.Workspace.prepareOperation</Line>
          <Line>(Workspace.java:1517)</Line>
          <Line>at org.eclipse.core.internal.resources.Workspace.run</Line>
          <Line>(Workspace.java:1550)</Line>
          <Line>at org.eclipse.core.internal.resources.Workspace.run</Line>
          <Line>(Workspace.java:1574)</Line>
          <Line>at org.eclipse.pde.internal.ui.wizards.imports.PluginImportWizard$2.run</Line>
          <Line>(PluginImportWizard.java:118)</Line>
          <Line>at org.eclipse.jface.operation.ModalContext$ModalContextThread.run</Line>
          <Line>(ModalContext.java:101)</Line>
        </Lines>
      </Enumeration>
      <Enumeration lines="18">
        <Lines>
          <Line>- waiting on &lt;0x10730000&gt; (a org.eclipse.core.internal.jobs.Semaphore)</Line>
          <Line>at org.eclipse.core.internal.jobs.Semaphore.acquire(Semaphore.java:36)</Line>
          <Line>- locked &lt;0x10730000&gt; (a org.eclipse.core.internal.jobs.Semaphore)</Line>
          <Line>at org.eclipse.core.internal.jobs.OrderedLock.doAcquire</Line>
          <Line>(OrderedLock.java:153)</Line>
          <Line>at org.eclipse.core.internal.jobs.OrderedLock.acquire</Line>
          <Line>(OrderedLock.java:99)</Line>
          <Line>at org.eclipse.core.internal.jobs.OrderedLock.acquire</Line>
          <Line>(OrderedLock.java:75)</Line>
          <Line>at org.eclipse.core.internal.resources.WorkManager.checkIn</Line>
          <Line>(WorkManager.java:109)</Line>
          <Line>at org.eclipse.core.internal.resources.Workspace.prepareOperation</Line>
          <Line>(Workspace.java:1517)</Line>
          <Line>at org.eclipse.core.internal.resources.Workspace.run</Line>
          <Line>(Workspace.java:1550)</Line>
          <Line>at org.eclipse.core.internal.events.NotificationManager$NotifyJob.run</Line>
          <Line>(NotificationManager.java:37)</Line>
          <Line>at org.eclipse.core.internal.jobs.Worker.run(Worker.java:62)</Line>
        </Lines>
      </Enumeration>
      <Enumeration lines="88">
        <Lines>
          <Line>- waiting on &lt;0x1606c420&gt; (a org.eclipse.core.internal.jobs.Semaphore)</Line>
          <Line>at org.eclipse.core.internal.jobs.Semaphore.acquire(Semaphore.java:36)</Line>
          <Line>- locked &lt;0x1606c420&gt; (a org.eclipse.core.internal.jobs.Semaphore)</Line>
          <Line>at org.eclipse.core.internal.jobs.OrderedLock.doAcquire</Line>
          <Line>(OrderedLock.java:153)</Line>
          <Line>at org.eclipse.core.internal.jobs.OrderedLock.acquire</Line>
          <Line>(OrderedLock.java:99)</Line>
          <Line>at org.eclipse.core.internal.jobs.OrderedLock.acquire</Line>
          <Line>(OrderedLock.java:75)</Line>
          <Line>at org.eclipse.core.internal.resources.WorkManager.checkIn</Line>
          <Line>(WorkManager.java:109)</Line>
          <Line>at org.eclipse.core.internal.resources.Workspace.prepareOperation</Line>
          <Line>(Workspace.java:1517)</Line>
          <Line>at org.eclipse.core.internal.resources.File.setContents(File.java:275)</Line>
          <Line>at</Line>
          <Line>org.eclipse.core.internal.localstore.FileSystemResourceManager.internalWrite</Line>
          <Line>(FileSystemResourceManager.java:259)</Line>
          <Line>at org.eclipse.core.internal.resources.Project.writeDescription</Line>
          <Line>(Project.java:919)</Line>
          <Line>at org.eclipse.core.internal.resources.Project.setDescription</Line>
          <Line>(Project.java:820)</Line>
          <Line>at org.eclipse.core.internal.resources.Project.setDescription</Line>
          <Line>(Project.java:842)</Line>
          <Line>at</Line>
          <Line>org.eclipse.jdt.internal.core.SetClasspathOperation.updateProjectReferencesIfNe</Line>
          <Line>cessary(SetClasspathOperation.java:810)</Line>
          <Line>at org.eclipse.jdt.internal.core.SetClasspathOperation.executeOperation</Line>
          <Line>(SetClasspathOperation.java:232)</Line>
          <Line>at org.eclipse.jdt.internal.core.JavaModelOperation.execute</Line>
          <Line>(JavaModelOperation.java:364)</Line>
          <Line>at org.eclipse.jdt.internal.core.JavaModelOperation.run</Line>
          <Line>(JavaModelOperation.java:703)</Line>
          <Line>at org.eclipse.core.internal.resources.Workspace.run</Line>
          <Line>(Workspace.java:1555)</Line>
          <Line>at org.eclipse.core.internal.resources.Workspace.run</Line>
          <Line>(Workspace.java:1574)</Line>
          <Line>at org.eclipse.jdt.internal.core.JavaElement.runOperation</Line>
          <Line>(JavaElement.java:529)</Line>
          <Line>at org.eclipse.jdt.internal.core.JavaProject.setRawClasspath</Line>
          <Line>(JavaProject.java:2651)</Line>
          <Line>at org.eclipse.jdt.core.JavaCore$5.run(JavaCore.java:3269)</Line>
          <Line>at org.eclipse.jdt.internal.core.BatchOperation.executeOperation</Line>
          <Line>(BatchOperation.java:34)</Line>
          <Line>at org.eclipse.jdt.internal.core.JavaModelOperation.execute</Line>
          <Line>(JavaModelOperation.java:364)</Line>
          <Line>at org.eclipse.jdt.internal.core.JavaModelOperation.run</Line>
          <Line>(JavaModelOperation.java:703)</Line>
          <Line>at org.eclipse.core.internal.resources.Workspace.run</Line>
          <Line>(Workspace.java:1555)</Line>
          <Line>at org.eclipse.core.internal.resources.Workspace.run</Line>
          <Line>(Workspace.java:1574)</Line>
          <Line>at org.eclipse.jdt.core.JavaCore.run(JavaCore.java:3129)</Line>
          <Line>at org.eclipse.jdt.core.JavaCore.setClasspathContainer</Line>
          <Line>(JavaCore.java:3255)</Line>
          <Line>at</Line>
          <Line>org.eclipse.pde.internal.core.PluginModelManager.updateAffectedEntries</Line>
          <Line>(PluginModelManager.java:241)</Line>
          <Line>at org.eclipse.pde.internal.core.PluginModelManager.handleModelsChanged</Line>
          <Line>(PluginModelManager.java:171)</Line>
          <Line>at org.eclipse.pde.internal.core.PluginModelManager.access$1</Line>
          <Line>(PluginModelManager.java:136)</Line>
          <Line>at org.eclipse.pde.internal.core.PluginModelManager$1.modelsChanged</Line>
          <Line>(PluginModelManager.java:39)</Line>
          <Line>at</Line>
          <Line>org.eclipse.pde.internal.core.WorkspaceModelManager.fireModelProviderEvent</Line>
          <Line>(WorkspaceModelManager.java:212)</Line>
          <Line>at</Line>
          <Line>org.eclipse.pde.internal.core.WorkspaceModelManager.processModelChanges</Line>
          <Line>(WorkspaceModelManager.java:781)</Line>
          <Line>at org.eclipse.pde.internal.core.WorkspaceModelManager.resourceChanged</Line>
          <Line>(WorkspaceModelManager.java:723)</Line>
          <Line>at org.eclipse.core.internal.events.NotificationManager$2.run</Line>
          <Line>(NotificationManager.java:255)</Line>
          <Line>at org.eclipse.core.internal.runtime.InternalPlatform.run</Line>
          <Line>(InternalPlatform.java:813)</Line>
          <Line>at org.eclipse.core.runtime.Platform.run(Platform.java:457)</Line>
          <Line>at org.eclipse.core.internal.events.NotificationManager.notify</Line>
          <Line>(NotificationManager.java:248)</Line>
          <Line>at</Line>
          <Line>org.eclipse.core.internal.events.NotificationManager.broadcastChanges</Line>
          <Line>(NotificationManager.java:142)</Line>
          <Line>at org.eclipse.core.internal.events.AutoBuildJob.broadcastChanges</Line>
          <Line>(AutoBuildJob.java:62)</Line>
          <Line>at org.eclipse.core.internal.events.AutoBuildJob.doBuild</Line>
          <Line>(AutoBuildJob.java:87)</Line>
          <Line>at org.eclipse.core.internal.events.AutoBuildJob.run</Line>
          <Line>(AutoBuildJob.java:114)</Line>
          <Line>at org.eclipse.core.internal.jobs.Worker.run(Worker.java:62)</Line>
        </Lines>
      </Enumeration>
      <Enumeration lines="6">
        <Lines>
          <Line>- waiting on &lt;0x11552068&gt; (a org.eclipse.core.internal.jobs.WorkerPool)</Line>
          <Line>at org.eclipse.core.internal.jobs.WorkerPool.sleep(WorkerPool.java:184)</Line>
          <Line>- locked &lt;0x11552068&gt; (a org.eclipse.core.internal.jobs.WorkerPool)</Line>
          <Line>at org.eclipse.core.internal.jobs.WorkerPool.startJob</Line>
          <Line>(WorkerPool.java:210)</Line>
          <Line>at org.eclipse.core.internal.jobs.Worker.run(Worker.java:55)</Line>
        </Lines>
      </Enumeration>
      <Enumeration lines="9">
        <Lines>
          <Line>- waiting on &lt;0x11341ee8&gt; (a</Line>
          <Line>org.eclipse.osgi.framework.eventmgr.EventThread)</Line>
          <Line>at java.lang.Object.wait(Object.java:429)</Line>
          <Line>at org.eclipse.osgi.framework.eventmgr.EventThread.getNextEvent</Line>
          <Line>(EventThread.java:169)</Line>
          <Line>- locked &lt;0x11341ee8&gt; (a</Line>
          <Line>org.eclipse.osgi.framework.eventmgr.EventThread)</Line>
          <Line>at org.eclipse.osgi.framework.eventmgr.EventThread.run</Line>
          <Line>(EventThread.java:120)</Line>
        </Lines>
      </Enumeration>
      <Enumeration lines="9">
        <Lines>
          <Line>- waiting on &lt;0x11341f38&gt; (a</Line>
          <Line>org.eclipse.osgi.framework.eventmgr.EventThread)</Line>
          <Line>at java.lang.Object.wait(Object.java:429)</Line>
          <Line>at org.eclipse.osgi.framework.eventmgr.EventThread.getNextEvent</Line>
          <Line>(EventThread.java:169)</Line>
          <Line>- locked &lt;0x11341f38&gt; (a</Line>
          <Line>org.eclipse.osgi.framework.eventmgr.EventThread)</Line>
          <Line>at org.eclipse.osgi.framework.eventmgr.EventThread.run</Line>
          <Line>(EventThread.java:120)</Line>
        </Lines>
      </Enumeration>
    </Enumerations>
    <bug_status amount="RESOLVED" />
    <resolution amount="WORKSFORME" />
    <WithStack>I20031218-2000

I selected a project to be imported as binary project and had pressed Finish
in the Import Wizard when it happend. After a couple of minutes of inactivity
on the wizard page I pressed Cancel. The cancel button disabled correctly and 
still nothing happend. I could only terminate the VM and so lost the work in 
all unsaved editors.

Based on the stack trace, my guess is that this is a starvation problem. The 
model context thread is waiting on a semaphore that is no longer used by any 
other thread.


Full thread dump Java HotSpot(TM) Client VM (1.4.2-b28 mixed mode):

"ModalContext" prio=7 tid=0x032f78f8 nid=0x8f4 in Object.wait() 
[3d4f000..3d4fd94]
        at java.lang.Object.wait(Native Method)
        - waiting on &lt;0x10223860&gt; (a org.eclipse.core.internal.jobs.Semaphore)
        at org.eclipse.core.internal.jobs.Semaphore.acquire(Semaphore.java:36)
        - locked &lt;0x10223860&gt; (a org.eclipse.core.internal.jobs.Semaphore)
        at org.eclipse.core.internal.jobs.OrderedLock.doAcquire
(OrderedLock.java:153)
        at org.eclipse.core.internal.jobs.OrderedLock.acquire
(OrderedLock.java:99)
        at org.eclipse.core.internal.jobs.OrderedLock.acquire
(OrderedLock.java:75)
        at org.eclipse.core.internal.resources.WorkManager.checkIn
(WorkManager.java:109)
        at org.eclipse.core.internal.resources.Workspace.prepareOperation
(Workspace.java:1517)
        at org.eclipse.core.internal.resources.Workspace.run
(Workspace.java:1550)
        at org.eclipse.core.internal.resources.Workspace.run
(Workspace.java:1574)
        at org.eclipse.pde.internal.ui.wizards.imports.PluginImportWizard$2.run
(PluginImportWizard.java:118)
        at org.eclipse.jface.operation.ModalContext$ModalContextThread.run
(ModalContext.java:101)

"Worker-20" prio=5 tid=0x0455c830 nid=0xc40 in Object.wait() [3f0f000..3f0fd94]
        at java.lang.Object.wait(Native Method)
        - waiting on &lt;0x10730000&gt; (a org.eclipse.core.internal.jobs.Semaphore)
        at org.eclipse.core.internal.jobs.Semaphore.acquire(Semaphore.java:36)
        - locked &lt;0x10730000&gt; (a org.eclipse.core.internal.jobs.Semaphore)
        at org.eclipse.core.internal.jobs.OrderedLock.doAcquire
(OrderedLock.java:153)
        at org.eclipse.core.internal.jobs.OrderedLock.acquire
(OrderedLock.java:99)
        at org.eclipse.core.internal.jobs.OrderedLock.acquire
(OrderedLock.java:75)
        at org.eclipse.core.internal.resources.WorkManager.checkIn
(WorkManager.java:109)
        at org.eclipse.core.internal.resources.Workspace.prepareOperation
(Workspace.java:1517)
        at org.eclipse.core.internal.resources.Workspace.run
(Workspace.java:1550)
        at org.eclipse.core.internal.events.NotificationManager$NotifyJob.run
(NotificationManager.java:37)
        at org.eclipse.core.internal.jobs.Worker.run(Worker.java:62)

"Worker-19" prio=5 tid=0x032e2aa0 nid=0xad0 in Object.wait() [3c1f000..3c1fd94]
        at java.lang.Object.wait(Native Method)
        - waiting on &lt;0x1606c420&gt; (a org.eclipse.core.internal.jobs.Semaphore)
        at org.eclipse.core.internal.jobs.Semaphore.acquire(Semaphore.java:36)
        - locked &lt;0x1606c420&gt; (a org.eclipse.core.internal.jobs.Semaphore)
        at org.eclipse.core.internal.jobs.OrderedLock.doAcquire
(OrderedLock.java:153)
        at org.eclipse.core.internal.jobs.OrderedLock.acquire
(OrderedLock.java:99)
        at org.eclipse.core.internal.jobs.OrderedLock.acquire
(OrderedLock.java:75)
        at org.eclipse.core.internal.resources.WorkManager.checkIn
(WorkManager.java:109)
        at org.eclipse.core.internal.resources.Workspace.prepareOperation
(Workspace.java:1517)
        at org.eclipse.core.internal.resources.File.setContents(File.java:275)
        at 
org.eclipse.core.internal.localstore.FileSystemResourceManager.internalWrite
(FileSystemResourceManager.java:259)
        at org.eclipse.core.internal.resources.Project.writeDescription
(Project.java:919)
        at org.eclipse.core.internal.resources.Project.setDescription
(Project.java:820)
        at org.eclipse.core.internal.resources.Project.setDescription
(Project.java:842)
        at 
org.eclipse.jdt.internal.core.SetClasspathOperation.updateProjectReferencesIfNe
cessary(SetClasspathOperation.java:810)
        at org.eclipse.jdt.internal.core.SetClasspathOperation.executeOperation
(SetClasspathOperation.java:232)
        at org.eclipse.jdt.internal.core.JavaModelOperation.execute
(JavaModelOperation.java:364)
        at org.eclipse.jdt.internal.core.JavaModelOperation.run
(JavaModelOperation.java:703)
        at org.eclipse.core.internal.resources.Workspace.run
(Workspace.java:1555)
        at org.eclipse.core.internal.resources.Workspace.run
(Workspace.java:1574)
        at org.eclipse.jdt.internal.core.JavaElement.runOperation
(JavaElement.java:529)
        at org.eclipse.jdt.internal.core.JavaProject.setRawClasspath
(JavaProject.java:2651)
        at org.eclipse.jdt.core.JavaCore$5.run(JavaCore.java:3269)
        at org.eclipse.jdt.internal.core.BatchOperation.executeOperation
(BatchOperation.java:34)
        at org.eclipse.jdt.internal.core.JavaModelOperation.execute
(JavaModelOperation.java:364)
        at org.eclipse.jdt.internal.core.JavaModelOperation.run
(JavaModelOperation.java:703)
        at org.eclipse.core.internal.resources.Workspace.run
(Workspace.java:1555)
        at org.eclipse.core.internal.resources.Workspace.run
(Workspace.java:1574)
        at org.eclipse.jdt.core.JavaCore.run(JavaCore.java:3129)
        at org.eclipse.jdt.core.JavaCore.setClasspathContainer
(JavaCore.java:3255)
        at 
org.eclipse.pde.internal.core.PluginModelManager.updateAffectedEntries
(PluginModelManager.java:241)
        at org.eclipse.pde.internal.core.PluginModelManager.handleModelsChanged
(PluginModelManager.java:171)
        at org.eclipse.pde.internal.core.PluginModelManager.access$1
(PluginModelManager.java:136)
        at org.eclipse.pde.internal.core.PluginModelManager$1.modelsChanged
(PluginModelManager.java:39)
        at 
org.eclipse.pde.internal.core.WorkspaceModelManager.fireModelProviderEvent
(WorkspaceModelManager.java:212)
        at 
org.eclipse.pde.internal.core.WorkspaceModelManager.processModelChanges
(WorkspaceModelManager.java:781)
        at org.eclipse.pde.internal.core.WorkspaceModelManager.resourceChanged
(WorkspaceModelManager.java:723)
        at org.eclipse.core.internal.events.NotificationManager$2.run
(NotificationManager.java:255)
        at org.eclipse.core.internal.runtime.InternalPlatform.run
(InternalPlatform.java:813)
        at org.eclipse.core.runtime.Platform.run(Platform.java:457)
        at org.eclipse.core.internal.events.NotificationManager.notify
(NotificationManager.java:248)
        at 
org.eclipse.core.internal.events.NotificationManager.broadcastChanges
(NotificationManager.java:142)
        at org.eclipse.core.internal.events.AutoBuildJob.broadcastChanges
(AutoBuildJob.java:62)
        at org.eclipse.core.internal.events.AutoBuildJob.doBuild
(AutoBuildJob.java:87)
        at org.eclipse.core.internal.events.AutoBuildJob.run
(AutoBuildJob.java:114)
        at org.eclipse.core.internal.jobs.Worker.run(Worker.java:62)

"Worker-18" prio=5 tid=0x0312c128 nid=0x444 in Object.wait() [3ecf000..3ecfd94]
        at java.lang.Object.wait(Native Method)
        - waiting on &lt;0x11552068&gt; (a org.eclipse.core.internal.jobs.WorkerPool)
        at org.eclipse.core.internal.jobs.WorkerPool.sleep(WorkerPool.java:184)
        - locked &lt;0x11552068&gt; (a org.eclipse.core.internal.jobs.WorkerPool)
        at org.eclipse.core.internal.jobs.WorkerPool.startJob
(WorkerPool.java:210)
        at org.eclipse.core.internal.jobs.Worker.run(Worker.java:55)

"Java indexing" daemon prio=4 tid=0x02ec0d20 nid=0x458 in Object.wait() 
[3c6f000..3c6fd94]
        at java.lang.Object.wait(Native Method)
        at java.lang.Object.wait(Object.java:429)
        at org.eclipse.jdt.internal.core.search.processing.JobManager.run
(JobManager.java:327)
        - locked &lt;0x11874e98&gt; (a 
org.eclipse.jdt.internal.core.search.indexing.IndexManager)
        at java.lang.Thread.run(Thread.java:534)

"Start Level Event Dispatcher" daemon prio=5 tid=0x02ebca58 nid=0x3a4 in 
Object.wait() [2fcf000..2fcfd94]
        at java.lang.Object.wait(Native Method)
        - waiting on &lt;0x11341ee8&gt; (a 
org.eclipse.osgi.framework.eventmgr.EventThread)
        at java.lang.Object.wait(Object.java:429)
        at org.eclipse.osgi.framework.eventmgr.EventThread.getNextEvent
(EventThread.java:169)
        - locked &lt;0x11341ee8&gt; (a 
org.eclipse.osgi.framework.eventmgr.EventThread)
        at org.eclipse.osgi.framework.eventmgr.EventThread.run
(EventThread.java:120)

"Framework Event Dispatcher" daemon prio=5 tid=0x02dc9d68 nid=0x9b4 in 
Object.wait() [2f8f000..2f8fd94]
        at java.lang.Object.wait(Native Method)
        - waiting on &lt;0x11341f38&gt; (a 
org.eclipse.osgi.framework.eventmgr.EventThread)
        at java.lang.Object.wait(Object.java:429)
        at org.eclipse.osgi.framework.eventmgr.EventThread.getNextEvent
(EventThread.java:169)
        - locked &lt;0x11341f38&gt; (a 
org.eclipse.osgi.framework.eventmgr.EventThread)
        at org.eclipse.osgi.framework.eventmgr.EventThread.run
(EventThread.java:120)

"Signal Dispatcher" daemon prio=10 tid=0x0003d498 nid=0x744 waiting on 
condition [0..0]

"Finalizer" daemon prio=9 tid=0x009c0280 nid=0x9c8 in Object.wait() 
[2c4f000..2c4fd94]
        at java.lang.Object.wait(Native Method)
        at java.lang.ref.ReferenceQueue.remove(ReferenceQueue.java:111)
        - locked &lt;0x11342060&gt; (a java.lang.ref.ReferenceQueue$Lock)
        at java.lang.ref.ReferenceQueue.remove(ReferenceQueue.java:127)
        at java.lang.ref.Finalizer$FinalizerThread.run(Finalizer.java:159)

"Reference Handler" daemon prio=10 tid=0x009bee50 nid=0xac0 in Object.wait() 
[2c0f000..2c0fd94]
        at java.lang.Object.wait(Native Method)
        at java.lang.Object.wait(Object.java:429)
        at java.lang.ref.Reference$ReferenceHandler.run(Reference.java:115)
        - locked &lt;0x113420c8&gt; (a java.lang.ref.Reference$Lock)

"main" prio=7 tid=0x00035338 nid=0x9f0 runnable [7f000..7fc3c]
        at org.eclipse.swt.internal.win32.OS.WaitMessage(Native Method)
        at org.eclipse.swt.widgets.Display.sleep(Display.java:2608)
        at org.eclipse.jface.operation.ModalContext$ModalContextThread.block
(ModalContext.java:137)
        at org.eclipse.jface.operation.ModalContext.run(ModalContext.java:261)
        at org.eclipse.jface.wizard.WizardDialog.run(WizardDialog.java:758)
        at 
org.eclipse.pde.internal.ui.wizards.imports.PluginImportWizard.performFinish
(PluginImportWizard.java:87)
        at org.eclipse.jface.wizard.WizardDialog.finishPressed
(WizardDialog.java:608)
        at org.eclipse.jface.wizard.WizardDialog.buttonPressed
(WizardDialog.java:321)
        at org.eclipse.jface.dialogs.Dialog$1.widgetSelected(Dialog.java:430)
        at org.eclipse.swt.widgets.TypedListener.handleEvent
(TypedListener.java:89)
        at org.eclipse.swt.widgets.EventTable.sendEvent(EventTable.java:82)
        at org.eclipse.swt.widgets.Widget.sendEvent(Widget.java:847)
        at org.eclipse.swt.widgets.Display.runDeferredEvents(Display.java:2311)
        at org.eclipse.swt.widgets.Display.readAndDispatch(Display.java:1992)
        at org.eclipse.jface.window.Window.runEventLoop(Window.java:586)
        at org.eclipse.jface.window.Window.open(Window.java:566)
        at org.eclipse.ui.actions.ImportResourcesAction.run
(ImportResourcesAction.java:149)
        at org.eclipse.jface.action.Action.runWithEvent(Action.java:842)
        at 
org.eclipse.jface.action.ActionContributionItem.handleWidgetSelection
(ActionContributionItem.java:509)
        at org.eclipse.jface.action.ActionContributionItem.access$2
(ActionContributionItem.java:461)
        at org.eclipse.jface.action.ActionContributionItem$5.handleEvent
(ActionContributionItem.java:408)
        at org.eclipse.swt.widgets.EventTable.sendEvent(EventTable.java:82)
        at org.eclipse.swt.widgets.Widget.sendEvent(Widget.java:847)
        at org.eclipse.swt.widgets.Display.runDeferredEvents(Display.java:2311)
        at org.eclipse.swt.widgets.Display.readAndDispatch(Display.java:1992)
        at org.eclipse.ui.internal.Workbench.runEventLoop(Workbench.java:1506)
        at org.eclipse.ui.internal.Workbench.runUI(Workbench.java:1482)
        at org.eclipse.ui.internal.Workbench.createAndRunWorkbench
(Workbench.java:246)
        at org.eclipse.ui.PlatformUI.createAndRunWorkbench(PlatformUI.java:139)
        at org.eclipse.ui.internal.ide.IDEApplication.run
(IDEApplication.java:47)
        at org.eclipse.core.internal.runtime.PlatformActivator$1.run
(PlatformActivator.java:226)
        at org.eclipse.core.runtime.adaptor.EclipseStarter.run
(EclipseStarter.java:85)
        at sun.reflect.NativeMethodAccessorImpl.invoke0(Native Method)
        at sun.reflect.NativeMethodAccessorImpl.invoke
(NativeMethodAccessorImpl.java:39)
        at sun.reflect.DelegatingMethodAccessorImpl.invoke
(DelegatingMethodAccessorImpl.java:25)
        at java.lang.reflect.Method.invoke(Method.java:324)
        at org.eclipse.core.launcher.Main.basicRun(Main.java:279)
        at org.eclipse.core.launcher.Main.run(Main.java:742)
        at org.eclipse.core.launcher.Main.main(Main.java:581)

"VM Thread" prio=5 tid=0x009fb6f8 nid=0xde0 runnable

"VM Periodic Task Thread" prio=10 tid=0x0003fc88 nid=0x974 waiting on condition
"Suspend Checker Thread" prio=10 tid=0x009c26d0 nid=0xa74 runnable
Any errors in your log file?
Please ignore comment #1 - I thought this was a new bug, but in fact it is five
months old. I am going to close, as we have fixed many deadlocks since then.
Please enter a new bug if deadlocks are encountered in I20040517 or later.</WithStack>
    <WithOutStack>I20031218-2000

I selected a project to be imported as binary project and had pressed Finish
in the Import Wizard when it happend. After a couple of minutes of inactivity
on the wizard page I pressed Cancel. The cancel button disabled correctly and 
still nothing happend. I could only terminate the VM and so lost the work in 
all unsaved editors.

Based on the stack trace, my guess is that this is a starvation problem. The 
model context thread is waiting on a semaphore that is no longer used by any 
other thread.


Full thread dump Java HotSpot(TM) Client VM (1.4.2-b28 mixed mode):

"ModalContext" prio=7 tid=0x032f78f8 nid=0x8f4 in Object.wait() 
[3d4f000..3d4fd94]
        at java.lang.Object.wait(Native Method)
        - waiting on &lt;0x10223860&gt; (a org.eclipse.core.internal.jobs.Semaphore)
        at org.eclipse.core.internal.jobs.Semaphore.acquire(Semaphore.java:36)
        - locked &lt;0x10223860&gt; (a org.eclipse.core.internal.jobs.Semaphore)
        at org.eclipse.core.internal.jobs.OrderedLock.doAcquire
(OrderedLock.java:153)
        at org.eclipse.core.internal.jobs.OrderedLock.acquire
(OrderedLock.java:99)
        at org.eclipse.core.internal.jobs.OrderedLock.acquire
(OrderedLock.java:75)
        at org.eclipse.core.internal.resources.WorkManager.checkIn
(WorkManager.java:109)
        at org.eclipse.core.internal.resources.Workspace.prepareOperation
(Workspace.java:1517)
        at org.eclipse.core.internal.resources.Workspace.run
(Workspace.java:1550)
        at org.eclipse.core.internal.resources.Workspace.run
(Workspace.java:1574)
        at org.eclipse.pde.internal.ui.wizards.imports.PluginImportWizard$2.run
(PluginImportWizard.java:118)
        at org.eclipse.jface.operation.ModalContext$ModalContextThread.run
(ModalContext.java:101)

"Worker-20" prio=5 tid=0x0455c830 nid=0xc40 in Object.wait() [3f0f000..3f0fd94]
        at java.lang.Object.wait(Native Method)
        - waiting on &lt;0x10730000&gt; (a org.eclipse.core.internal.jobs.Semaphore)
        at org.eclipse.core.internal.jobs.Semaphore.acquire(Semaphore.java:36)
        - locked &lt;0x10730000&gt; (a org.eclipse.core.internal.jobs.Semaphore)
        at org.eclipse.core.internal.jobs.OrderedLock.doAcquire
(OrderedLock.java:153)
        at org.eclipse.core.internal.jobs.OrderedLock.acquire
(OrderedLock.java:99)
        at org.eclipse.core.internal.jobs.OrderedLock.acquire
(OrderedLock.java:75)
        at org.eclipse.core.internal.resources.WorkManager.checkIn
(WorkManager.java:109)
        at org.eclipse.core.internal.resources.Workspace.prepareOperation
(Workspace.java:1517)
        at org.eclipse.core.internal.resources.Workspace.run
(Workspace.java:1550)
        at org.eclipse.core.internal.events.NotificationManager$NotifyJob.run
(NotificationManager.java:37)
        at org.eclipse.core.internal.jobs.Worker.run(Worker.java:62)

"Worker-19" prio=5 tid=0x032e2aa0 nid=0xad0 in Object.wait() [3c1f000..3c1fd94]
        at java.lang.Object.wait(Native Method)
        - waiting on &lt;0x1606c420&gt; (a org.eclipse.core.internal.jobs.Semaphore)
        at org.eclipse.core.internal.jobs.Semaphore.acquire(Semaphore.java:36)
        - locked &lt;0x1606c420&gt; (a org.eclipse.core.internal.jobs.Semaphore)
        at org.eclipse.core.internal.jobs.OrderedLock.doAcquire
(OrderedLock.java:153)
        at org.eclipse.core.internal.jobs.OrderedLock.acquire
(OrderedLock.java:99)
        at org.eclipse.core.internal.jobs.OrderedLock.acquire
(OrderedLock.java:75)
        at org.eclipse.core.internal.resources.WorkManager.checkIn
(WorkManager.java:109)
        at org.eclipse.core.internal.resources.Workspace.prepareOperation
(Workspace.java:1517)
        at org.eclipse.core.internal.resources.File.setContents(File.java:275)
        at 
org.eclipse.core.internal.localstore.FileSystemResourceManager.internalWrite
(FileSystemResourceManager.java:259)
        at org.eclipse.core.internal.resources.Project.writeDescription
(Project.java:919)
        at org.eclipse.core.internal.resources.Project.setDescription
(Project.java:820)
        at org.eclipse.core.internal.resources.Project.setDescription
(Project.java:842)
        at 
org.eclipse.jdt.internal.core.SetClasspathOperation.updateProjectReferencesIfNe
cessary(SetClasspathOperation.java:810)
        at org.eclipse.jdt.internal.core.SetClasspathOperation.executeOperation
(SetClasspathOperation.java:232)
        at org.eclipse.jdt.internal.core.JavaModelOperation.execute
(JavaModelOperation.java:364)
        at org.eclipse.jdt.internal.core.JavaModelOperation.run
(JavaModelOperation.java:703)
        at org.eclipse.core.internal.resources.Workspace.run
(Workspace.java:1555)
        at org.eclipse.core.internal.resources.Workspace.run
(Workspace.java:1574)
        at org.eclipse.jdt.internal.core.JavaElement.runOperation
(JavaElement.java:529)
        at org.eclipse.jdt.internal.core.JavaProject.setRawClasspath
(JavaProject.java:2651)
        at org.eclipse.jdt.core.JavaCore$5.run(JavaCore.java:3269)
        at org.eclipse.jdt.internal.core.BatchOperation.executeOperation
(BatchOperation.java:34)
        at org.eclipse.jdt.internal.core.JavaModelOperation.execute
(JavaModelOperation.java:364)
        at org.eclipse.jdt.internal.core.JavaModelOperation.run
(JavaModelOperation.java:703)
        at org.eclipse.core.internal.resources.Workspace.run
(Workspace.java:1555)
        at org.eclipse.core.internal.resources.Workspace.run
(Workspace.java:1574)
        at org.eclipse.jdt.core.JavaCore.run(JavaCore.java:3129)
        at org.eclipse.jdt.core.JavaCore.setClasspathContainer
(JavaCore.java:3255)
        at 
org.eclipse.pde.internal.core.PluginModelManager.updateAffectedEntries
(PluginModelManager.java:241)
        at org.eclipse.pde.internal.core.PluginModelManager.handleModelsChanged
(PluginModelManager.java:171)
        at org.eclipse.pde.internal.core.PluginModelManager.access$1
(PluginModelManager.java:136)
        at org.eclipse.pde.internal.core.PluginModelManager$1.modelsChanged
(PluginModelManager.java:39)
        at 
org.eclipse.pde.internal.core.WorkspaceModelManager.fireModelProviderEvent
(WorkspaceModelManager.java:212)
        at 
org.eclipse.pde.internal.core.WorkspaceModelManager.processModelChanges
(WorkspaceModelManager.java:781)
        at org.eclipse.pde.internal.core.WorkspaceModelManager.resourceChanged
(WorkspaceModelManager.java:723)
        at org.eclipse.core.internal.events.NotificationManager$2.run
(NotificationManager.java:255)
        at org.eclipse.core.internal.runtime.InternalPlatform.run
(InternalPlatform.java:813)
        at org.eclipse.core.runtime.Platform.run(Platform.java:457)
        at org.eclipse.core.internal.events.NotificationManager.notify
(NotificationManager.java:248)
        at 
org.eclipse.core.internal.events.NotificationManager.broadcastChanges
(NotificationManager.java:142)
        at org.eclipse.core.internal.events.AutoBuildJob.broadcastChanges
(AutoBuildJob.java:62)
        at org.eclipse.core.internal.events.AutoBuildJob.doBuild
(AutoBuildJob.java:87)
        at org.eclipse.core.internal.events.AutoBuildJob.run
(AutoBuildJob.java:114)
        at org.eclipse.core.internal.jobs.Worker.run(Worker.java:62)

"Worker-18" prio=5 tid=0x0312c128 nid=0x444 in Object.wait() [3ecf000..3ecfd94]
        at java.lang.Object.wait(Native Method)
        - waiting on &lt;0x11552068&gt; (a org.eclipse.core.internal.jobs.WorkerPool)
        at org.eclipse.core.internal.jobs.WorkerPool.sleep(WorkerPool.java:184)
        - locked &lt;0x11552068&gt; (a org.eclipse.core.internal.jobs.WorkerPool)
        at org.eclipse.core.internal.jobs.WorkerPool.startJob
(WorkerPool.java:210)
        at org.eclipse.core.internal.jobs.Worker.run(Worker.java:55)

"Java indexing" daemon prio=4 tid=0x02ec0d20 nid=0x458 in Object.wait() 
[3c6f000..3c6fd94]
        at java.lang.Object.wait(Native Method)
        at java.lang.Object.wait(Object.java:429)
        at org.eclipse.jdt.internal.core.search.processing.JobManager.run
(JobManager.java:327)
        - locked &lt;0x11874e98&gt; (a 
org.eclipse.jdt.internal.core.search.indexing.IndexManager)
        at java.lang.Thread.run(Thread.java:534)

"Start Level Event Dispatcher" daemon prio=5 tid=0x02ebca58 nid=0x3a4 in 
Object.wait() [2fcf000..2fcfd94]
        at java.lang.Object.wait(Native Method)
        - waiting on &lt;0x11341ee8&gt; (a 
org.eclipse.osgi.framework.eventmgr.EventThread)
        at java.lang.Object.wait(Object.java:429)
        at org.eclipse.osgi.framework.eventmgr.EventThread.getNextEvent
(EventThread.java:169)
        - locked &lt;0x11341ee8&gt; (a 
org.eclipse.osgi.framework.eventmgr.EventThread)
        at org.eclipse.osgi.framework.eventmgr.EventThread.run
(EventThread.java:120)

"Framework Event Dispatcher" daemon prio=5 tid=0x02dc9d68 nid=0x9b4 in 
Object.wait() [2f8f000..2f8fd94]
        at java.lang.Object.wait(Native Method)
        - waiting on &lt;0x11341f38&gt; (a 
org.eclipse.osgi.framework.eventmgr.EventThread)
        at java.lang.Object.wait(Object.java:429)
        at org.eclipse.osgi.framework.eventmgr.EventThread.getNextEvent
(EventThread.java:169)
        - locked &lt;0x11341f38&gt; (a 
org.eclipse.osgi.framework.eventmgr.EventThread)
        at org.eclipse.osgi.framework.eventmgr.EventThread.run
(EventThread.java:120)

"Signal Dispatcher" daemon prio=10 tid=0x0003d498 nid=0x744 waiting on 
condition [0..0]

"Finalizer" daemon prio=9 tid=0x009c0280 nid=0x9c8 in Object.wait() 
[2c4f000..2c4fd94]
        at java.lang.Object.wait(Native Method)
        at java.lang.ref.ReferenceQueue.remove(ReferenceQueue.java:111)
        - locked &lt;0x11342060&gt; (a java.lang.ref.ReferenceQueue$Lock)
        at java.lang.ref.ReferenceQueue.remove(ReferenceQueue.java:127)
        at java.lang.ref.Finalizer$FinalizerThread.run(Finalizer.java:159)

"Reference Handler" daemon prio=10 tid=0x009bee50 nid=0xac0 in Object.wait() 
[2c0f000..2c0fd94]
        at java.lang.Object.wait(Native Method)
        at java.lang.Object.wait(Object.java:429)
        at java.lang.ref.Reference$ReferenceHandler.run(Reference.java:115)
        - locked &lt;0x113420c8&gt; (a java.lang.ref.Reference$Lock)

"main" prio=7 tid=0x00035338 nid=0x9f0 runnable [7f000..7fc3c]
        at org.eclipse.swt.internal.win32.OS.WaitMessage(Native Method)
        at org.eclipse.swt.widgets.Display.sleep(Display.java:2608)
        at org.eclipse.jface.operation.ModalContext$ModalContextThread.block
(ModalContext.java:137)
        at org.eclipse.jface.operation.ModalContext.run(ModalContext.java:261)
        at org.eclipse.jface.wizard.WizardDialog.run(WizardDialog.java:758)
        at 
org.eclipse.pde.internal.ui.wizards.imports.PluginImportWizard.performFinish
(PluginImportWizard.java:87)
        at org.eclipse.jface.wizard.WizardDialog.finishPressed
(WizardDialog.java:608)
        at org.eclipse.jface.wizard.WizardDialog.buttonPressed
(WizardDialog.java:321)
        at org.eclipse.jface.dialogs.Dialog$1.widgetSelected(Dialog.java:430)
        at org.eclipse.swt.widgets.TypedListener.handleEvent
(TypedListener.java:89)
        at org.eclipse.swt.widgets.EventTable.sendEvent(EventTable.java:82)
        at org.eclipse.swt.widgets.Widget.sendEvent(Widget.java:847)
        at org.eclipse.swt.widgets.Display.runDeferredEvents(Display.java:2311)
        at org.eclipse.swt.widgets.Display.readAndDispatch(Display.java:1992)
        at org.eclipse.jface.window.Window.runEventLoop(Window.java:586)
        at org.eclipse.jface.window.Window.open(Window.java:566)
        at org.eclipse.ui.actions.ImportResourcesAction.run
(ImportResourcesAction.java:149)
        at org.eclipse.jface.action.Action.runWithEvent(Action.java:842)
        at 
org.eclipse.jface.action.ActionContributionItem.handleWidgetSelection
(ActionContributionItem.java:509)
        at org.eclipse.jface.action.ActionContributionItem.access$2
(ActionContributionItem.java:461)
        at org.eclipse.jface.action.ActionContributionItem$5.handleEvent
(ActionContributionItem.java:408)
        at org.eclipse.swt.widgets.EventTable.sendEvent(EventTable.java:82)
        at org.eclipse.swt.widgets.Widget.sendEvent(Widget.java:847)
        at org.eclipse.swt.widgets.Display.runDeferredEvents(Display.java:2311)
        at org.eclipse.swt.widgets.Display.readAndDispatch(Display.java:1992)
        at org.eclipse.ui.internal.Workbench.runEventLoop(Workbench.java:1506)
        at org.eclipse.ui.internal.Workbench.runUI(Workbench.java:1482)
        at org.eclipse.ui.internal.Workbench.createAndRunWorkbench
(Workbench.java:246)
        at org.eclipse.ui.PlatformUI.createAndRunWorkbench(PlatformUI.java:139)
        at org.eclipse.ui.internal.ide.IDEApplication.run
(IDEApplication.java:47)
        at org.eclipse.core.internal.runtime.PlatformActivator$1.run
(PlatformActivator.java:226)
        at org.eclipse.core.runtime.adaptor.EclipseStarter.run
(EclipseStarter.java:85)
        at sun.reflect.NativeMethodAccessorImpl.invoke0(Native Method)
        at sun.reflect.NativeMethodAccessorImpl.invoke
(NativeMethodAccessorImpl.java:39)
        at sun.reflect.DelegatingMethodAccessorImpl.invoke
(DelegatingMethodAccessorImpl.java:25)
        at java.lang.reflect.Method.invoke(Method.java:324)
        at org.eclipse.core.launcher.Main.basicRun(Main.java:279)
        at org.eclipse.core.launcher.Main.run(Main.java:742)
        at org.eclipse.core.launcher.Main.main(Main.java:581)

"VM Thread" prio=5 tid=0x009fb6f8 nid=0xde0 runnable

"VM Periodic Task Thread" prio=10 tid=0x0003fc88 nid=0x974 waiting on condition
"Suspend Checker Thread" prio=10 tid=0x009c26d0 nid=0xa74 runnable
Any errors in your log file?
Please ignore comment #1 - I thought this was a new bug, but in fact it is five
months old. I am going to close, as we have fixed many deadlocks since then.
Please enter a new bug if deadlocks are encountered in I20040517 or later.</WithOutStack>
  </Bug>
  <Bug>
    <BugId amount="49175" />
    <CreationDate amount="2003-12-19 09:02:00 -0500" />
    <DupId amount="" />
    <classification amount="Eclipse" />
    <Product amount="Platform" />
    <component amount="Compare" />
    <Version amount="3.0" />
    <rep_platform amount="PC" />
    <op_sys amount="Linux-GTK" />
    <priority amount="P3" />
    <bug_severity amount="normal" />
    <Summery>Shortcut key Ctrl-C for command copy does not work in compare editor</Summery>
    <Patches amount="0" />
    <Stacktraces amount="0" />
    <SourceCodeRegions amount="0" />
    <Enumerations amount="0" />
    <bug_status amount="RESOLVED" />
    <resolution amount="WORKSFORME" />
    <WithStack>Shortcut Ctrl-C for Copy does not work in compare editor (java and text).
Workaround: Ctrl-Insert
Using M5.
This works for me in Eclipse 3.2.</WithStack>
    <WithOutStack>Shortcut Ctrl-C for Copy does not work in compare editor (java and text).
Workaround: Ctrl-Insert
Using M5.
This works for me in Eclipse 3.2.</WithOutStack>
  </Bug>
  <Bug>
    <BugId amount="49176" />
    <CreationDate amount="2003-12-19 09:06:00 -0500" />
    <DupId amount="" />
    <classification amount="Eclipse Foundation" />
    <Product amount="z_Archived" />
    <component amount="Hyades" />
    <Version amount="unspecified" />
    <rep_platform amount="Other" />
    <op_sys amount="other" />
    <priority amount="P3" />
    <bug_severity amount="minor" />
    <Summery>Remote log import not working on AS/400</Summery>
    <Patches amount="0" />
    <Stacktraces amount="0" />
    <SourceCodeRegions amount="0" />
    <Enumerations amount="0" />
    <bug_status amount="CLOSED" />
    <resolution amount="FIXED" />
    <WithStack>I am trying to import an Apache access log from the remote AS/400 machine. No 
data comes back and the JVM is somewhat stuck.

remote host:  torasd80
log location: /opt/hyadesdc/config/Apache/access/v1.3.26/example.log
It is only the first log import (178 records) which fails. It starts working 
again n the second one. I suspect that 300 seconds of timeout is not enough for 
the 178 records at the first import.

On the AS/400, it takes a while for the JVM to "load up" the classes. I 
say "load up" becuase I think it will actually "compile" the java classes into 
native binary codes for execution. If a lot of classes are involved in the log 
import, then it will take a long time for the machine to compile the classes 
and so the first import will most likely fail due to a timeout.

Verified fixed as of the 20040210_1359 Hyades build.
house keeping
As of TPTP 4.6.0, TPTP is in maintenance mode and focusing on improving quality by resolving relevant enhancements/defects and increasing test coverage through test creation, automation, Build Verification Tests (BVTs), and expanded run-time execution. As part of the TPTP Bugzilla housecleaning process (see http://wiki.eclipse.org/Bugzilla_Housecleaning_Processes), this enhancement/defect is verified/closed by the Project Lead since this originator of this enhancement/defect has an inactive Bugzilla account and considered to be fixed. If this enhancement/defect is still unresolved and reproducible in the latest TPTP release (http://www.eclipse.org/tptp/home/downloads/), please re-open.</WithStack>
    <WithOutStack>I am trying to import an Apache access log from the remote AS/400 machine. No 
data comes back and the JVM is somewhat stuck.

remote host:  torasd80
log location: /opt/hyadesdc/config/Apache/access/v1.3.26/example.log
It is only the first log import (178 records) which fails. It starts working 
again n the second one. I suspect that 300 seconds of timeout is not enough for 
the 178 records at the first import.

On the AS/400, it takes a while for the JVM to "load up" the classes. I 
say "load up" becuase I think it will actually "compile" the java classes into 
native binary codes for execution. If a lot of classes are involved in the log 
import, then it will take a long time for the machine to compile the classes 
and so the first import will most likely fail due to a timeout.

Verified fixed as of the 20040210_1359 Hyades build.
house keeping
As of TPTP 4.6.0, TPTP is in maintenance mode and focusing on improving quality by resolving relevant enhancements/defects and increasing test coverage through test creation, automation, Build Verification Tests (BVTs), and expanded run-time execution. As part of the TPTP Bugzilla housecleaning process (see http://wiki.eclipse.org/Bugzilla_Housecleaning_Processes), this enhancement/defect is verified/closed by the Project Lead since this originator of this enhancement/defect has an inactive Bugzilla account and considered to be fixed. If this enhancement/defect is still unresolved and reproducible in the latest TPTP release (http://www.eclipse.org/tptp/home/downloads/), please re-open.</WithOutStack>
  </Bug>
  <Bug>
    <BugId amount="49177" />
    <CreationDate amount="2003-12-19 10:10:00 -0500" />
    <DupId amount="" />
    <classification amount="Eclipse" />
    <Product amount="JDT" />
    <component amount="UI" />
    <Version amount="3.0" />
    <rep_platform amount="PC" />
    <op_sys amount="Windows XP" />
    <priority amount="P3" />
    <bug_severity amount="normal" />
    <Summery>Quick Hierarchy gives NullPointerException [type hierarchy]</Summery>
    <Patches amount="0" />
    <Stacktraces amount="1">
      <Stacktrace timestamp="1437341080881">
        <Exception>java.lang.NullPointerException</Exception>
        <Reason />
        <Frames>
          <Frame depth="0">org.eclipse.jdt.internal.ui.viewsupport.JavaElementLabels.getElementLabel(JavaElementLabels.java:305)</Frame>
          <Frame depth="1">org.eclipse.jdt.internal.ui.viewsupport.JavaElementLabels.getElementLabel(JavaElementLabels.java:297)</Frame>
          <Frame depth="2">org.eclipse.jdt.internal.ui.typehierarchy.HierarchyInformationControl.getHeaderLabel(HierarchyInformationControl.java:392)</Frame>
          <Frame depth="3">org.eclipse.jdt.internal.ui.typehierarchy.HierarchyInformationControl.setInput(HierarchyInformationControl.java:322)</Frame>
          <Frame depth="4">org.eclipse.jface.text.AbstractInformationControlManager.internalShowInformationControl(AbstractInformationControlManager.java:698)</Frame>
          <Frame depth="5">org.eclipse.jface.text.AbstractInformationControlManager.presentInformation(AbstractInformationControlManager.java:677)</Frame>
          <Frame depth="6">org.eclipse.jface.text.AbstractInformationControlManager.setInformation(AbstractInformationControlManager.java:240)</Frame>
          <Frame depth="7">org.eclipse.jface.text.information.InformationPresenter.computeInformation(InformationPresenter.java:341)</Frame>
          <Frame depth="8">org.eclipse.jface.text.AbstractInformationControlManager.doShowInformation(AbstractInformationControlManager.java:661)</Frame>
          <Frame depth="9">org.eclipse.jface.text.AbstractInformationControlManager.showInformation(AbstractInformationControlManager.java:651)</Frame>
          <Frame depth="10">org.eclipse.jdt.internal.ui.javaeditor.JavaSourceViewer.doOperation(JavaSourceViewer.java:120)</Frame>
          <Frame depth="11">org.eclipse.jdt.internal.ui.javaeditor.CompilationUnitEditor$AdaptedSourceViewer.doOperation(CompilationUnitEditor.java:187)</Frame>
          <Frame depth="12">org.eclipse.ui.texteditor.TextOperationAction$1.run(TextOperationAction.java:122)</Frame>
          <Frame depth="13">org.eclipse.swt.custom.BusyIndicator.showWhile(BusyIndicator.java:84)</Frame>
          <Frame depth="14">org.eclipse.ui.texteditor.TextOperationAction.run(TextOperationAction.java:120)</Frame>
          <Frame depth="15">org.eclipse.jface.action.Action.runWithEvent(Action.java:842)</Frame>
          <Frame depth="16">org.eclipse.ui.internal.commands.ActionHandler.execute(ActionHandler.java:40)</Frame>
          <Frame depth="17">org.eclipse.ui.internal.keys.WorkbenchKeyboard.executeCommand(WorkbenchKeyboard.java:390)</Frame>
          <Frame depth="18">org.eclipse.ui.internal.keys.WorkbenchKeyboard.press(WorkbenchKeyboard.java:763)</Frame>
          <Frame depth="19">org.eclipse.ui.internal.keys.WorkbenchKeyboard.processKeyEvent(WorkbenchKeyboard.java:803)</Frame>
          <Frame depth="20">org.eclipse.ui.internal.keys.WorkbenchKeyboard.filterKeySequenceBindings(WorkbenchKeyboard.java:486)</Frame>
          <Frame depth="21">org.eclipse.ui.internal.keys.WorkbenchKeyboard.access$0(WorkbenchKeyboard.java:421)</Frame>
          <Frame depth="22">org.eclipse.ui.internal.keys.WorkbenchKeyboard$1.handleEvent(WorkbenchKeyboard.java:215)</Frame>
          <Frame depth="23">org.eclipse.swt.widgets.EventTable.sendEvent(EventTable.java:82)</Frame>
          <Frame depth="24">org.eclipse.swt.widgets.Display.filterEvent(Display.java:692)</Frame>
          <Frame depth="25">org.eclipse.swt.widgets.Widget.sendEvent(Widget.java:846)</Frame>
          <Frame depth="26">org.eclipse.swt.widgets.Widget.sendEvent(Widget.java:871)</Frame>
          <Frame depth="27">org.eclipse.swt.widgets.Widget.sendEvent(Widget.java:856)</Frame>
          <Frame depth="28">org.eclipse.swt.widgets.Control.sendKeyEvent(Control.java:1716)</Frame>
          <Frame depth="29">org.eclipse.swt.widgets.Control.sendKeyEvent(Control.java:1712)</Frame>
          <Frame depth="30">org.eclipse.swt.widgets.Control.WM_CHAR(Control.java:3036)</Frame>
          <Frame depth="31">org.eclipse.swt.widgets.Control.windowProc(Control.java:2939)</Frame>
          <Frame depth="32">org.eclipse.swt.widgets.Display.windowProc(Display.java:2836)</Frame>
          <Frame depth="33">org.eclipse.swt.internal.win32.OS.DispatchMessageW(Native Method)</Frame>
          <Frame depth="34">org.eclipse.swt.internal.win32.OS.DispatchMessage(OS.java:1369)</Frame>
          <Frame depth="35">org.eclipse.swt.widgets.Display.readAndDispatch(Display.java:1990)</Frame>
          <Frame depth="36">org.eclipse.ui.internal.Workbench.runEventLoop(Workbench.java:1506)</Frame>
          <Frame depth="37">org.eclipse.ui.internal.Workbench.runUI(Workbench.java:1482)</Frame>
          <Frame depth="38">org.eclipse.ui.internal.Workbench.createAndRunWorkbench(Workbench.java:246)</Frame>
          <Frame depth="39">org.eclipse.ui.PlatformUI.createAndRunWorkbench(PlatformUI.java:139)</Frame>
          <Frame depth="40">org.eclipse.ui.internal.ide.IDEApplication.run(IDEApplication.java:47)</Frame>
          <Frame depth="41">org.eclipse.core.internal.runtime.PlatformActivator$1.run(PlatformActivator.java:226)</Frame>
          <Frame depth="42">org.eclipse.core.runtime.adaptor.EclipseStarter.run(EclipseStarter.java:85)</Frame>
          <Frame depth="43">sun.reflect.NativeMethodAccessorImpl.invoke0(Native Method)</Frame>
          <Frame depth="44">sun.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:39)</Frame>
          <Frame depth="45">sun.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:25)</Frame>
          <Frame depth="46">java.lang.reflect.Method.invoke(Method.java:324)</Frame>
          <Frame depth="47">org.eclipse.core.launcher.Main.basicRun(Main.java:279)</Frame>
          <Frame depth="48">org.eclipse.core.launcher.Main.run(Main.java:742)</Frame>
          <Frame depth="49">org.eclipse.core.launcher.Main.main(Main.java:581)</Frame>
        </Frames>
      </Stacktrace>
    </Stacktraces>
    <SourceCodeRegions amount="0" />
    <Enumerations amount="1">
      <Enumeration lines="5">
        <Lines>
          <Line>1) Open JavaPreview.java</Line>
          <Line>2) Goto line 83</Line>
          <Line>3) Place cursor on 'preferenceStore'</Line>
          <Line>4) Open quick hierarchy (ctrl-t)</Line>
          <Line>5) check log:</Line>
        </Lines>
      </Enumeration>
    </Enumerations>
    <bug_status amount="RESOLVED" />
    <resolution amount="FIXED" />
    <WithStack>I200312182000

Reproduce:

1) Open JavaPreview.java
2) Goto line 83
3) Place cursor on 'preferenceStore'
4) Open quick hierarchy (ctrl-t)
5) check log:

!ENTRY org.eclipse.ui 4 4 Dec 19, 2003 16:08:26.575
!MESSAGE Action for command 'org.eclipse.jdt.ui.edit.text.java.open.hierarchy'
failed to execute properly.
!ENTRY org.eclipse.ui 4 0 Dec 19, 2003 16:08:26.575
!MESSAGE Action for command 'org.eclipse.jdt.ui.edit.text.java.open.hierarchy'
failed to execute properly.
!STACK 0
java.lang.NullPointerException
	at
org.eclipse.jdt.internal.ui.viewsupport.JavaElementLabels.getElementLabel(JavaElementLabels.java:305)
	at
org.eclipse.jdt.internal.ui.viewsupport.JavaElementLabels.getElementLabel(JavaElementLabels.java:297)
	at
org.eclipse.jdt.internal.ui.typehierarchy.HierarchyInformationControl.getHeaderLabel(HierarchyInformationControl.java:392)
	at
org.eclipse.jdt.internal.ui.typehierarchy.HierarchyInformationControl.setInput(HierarchyInformationControl.java:322)
	at
org.eclipse.jface.text.AbstractInformationControlManager.internalShowInformationControl(AbstractInformationControlManager.java:698)
	at
org.eclipse.jface.text.AbstractInformationControlManager.presentInformation(AbstractInformationControlManager.java:677)
	at
org.eclipse.jface.text.AbstractInformationControlManager.setInformation(AbstractInformationControlManager.java:240)
	at
org.eclipse.jface.text.information.InformationPresenter.computeInformation(InformationPresenter.java:341)
	at
org.eclipse.jface.text.AbstractInformationControlManager.doShowInformation(AbstractInformationControlManager.java:661)
	at
org.eclipse.jface.text.AbstractInformationControlManager.showInformation(AbstractInformationControlManager.java:651)
	at
org.eclipse.jdt.internal.ui.javaeditor.JavaSourceViewer.doOperation(JavaSourceViewer.java:120)
	at
org.eclipse.jdt.internal.ui.javaeditor.CompilationUnitEditor$AdaptedSourceViewer.doOperation(CompilationUnitEditor.java:187)
	at
org.eclipse.ui.texteditor.TextOperationAction$1.run(TextOperationAction.java:122)
	at org.eclipse.swt.custom.BusyIndicator.showWhile(BusyIndicator.java:84)
	at org.eclipse.ui.texteditor.TextOperationAction.run(TextOperationAction.java:120)
	at org.eclipse.jface.action.Action.runWithEvent(Action.java:842)
	at org.eclipse.ui.internal.commands.ActionHandler.execute(ActionHandler.java:40)
	at
org.eclipse.ui.internal.keys.WorkbenchKeyboard.executeCommand(WorkbenchKeyboard.java:390)
	at org.eclipse.ui.internal.keys.WorkbenchKeyboard.press(WorkbenchKeyboard.java:763)
	at
org.eclipse.ui.internal.keys.WorkbenchKeyboard.processKeyEvent(WorkbenchKeyboard.java:803)
	at
org.eclipse.ui.internal.keys.WorkbenchKeyboard.filterKeySequenceBindings(WorkbenchKeyboard.java:486)
	at
org.eclipse.ui.internal.keys.WorkbenchKeyboard.access$0(WorkbenchKeyboard.java:421)
	at
org.eclipse.ui.internal.keys.WorkbenchKeyboard$1.handleEvent(WorkbenchKeyboard.java:215)
	at org.eclipse.swt.widgets.EventTable.sendEvent(EventTable.java:82)
	at org.eclipse.swt.widgets.Display.filterEvent(Display.java:692)
	at org.eclipse.swt.widgets.Widget.sendEvent(Widget.java:846)
	at org.eclipse.swt.widgets.Widget.sendEvent(Widget.java:871)
	at org.eclipse.swt.widgets.Widget.sendEvent(Widget.java:856)
	at org.eclipse.swt.widgets.Control.sendKeyEvent(Control.java:1716)
	at org.eclipse.swt.widgets.Control.sendKeyEvent(Control.java:1712)
	at org.eclipse.swt.widgets.Control.WM_CHAR(Control.java:3036)
	at org.eclipse.swt.widgets.Control.windowProc(Control.java:2939)
	at org.eclipse.swt.widgets.Display.windowProc(Display.java:2836)
	at org.eclipse.swt.internal.win32.OS.DispatchMessageW(Native Method)
	at org.eclipse.swt.internal.win32.OS.DispatchMessage(OS.java:1369)
	at org.eclipse.swt.widgets.Display.readAndDispatch(Display.java:1990)
	at org.eclipse.ui.internal.Workbench.runEventLoop(Workbench.java:1506)
	at org.eclipse.ui.internal.Workbench.runUI(Workbench.java:1482)
	at org.eclipse.ui.internal.Workbench.createAndRunWorkbench(Workbench.java:246)
	at org.eclipse.ui.PlatformUI.createAndRunWorkbench(PlatformUI.java:139)
	at org.eclipse.ui.internal.ide.IDEApplication.run(IDEApplication.java:47)
	at
org.eclipse.core.internal.runtime.PlatformActivator$1.run(PlatformActivator.java:226)
	at org.eclipse.core.runtime.adaptor.EclipseStarter.run(EclipseStarter.java:85)
	at sun.reflect.NativeMethodAccessorImpl.invoke0(Native Method)
	at sun.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:39)
	at
sun.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:25)
	at java.lang.reflect.Method.invoke(Method.java:324)
	at org.eclipse.core.launcher.Main.basicRun(Main.java:279)
	at org.eclipse.core.launcher.Main.run(Main.java:742)
	at org.eclipse.core.launcher.Main.main(Main.java:581)
fixed &gt; 20031222</WithStack>
    <WithOutStack>I200312182000

Reproduce:

1) Open JavaPreview.java
2) Goto line 83
3) Place cursor on 'preferenceStore'
4) Open quick hierarchy (ctrl-t)
5) check log:

!ENTRY org.eclipse.ui 4 4 Dec 19, 2003 16:08:26.575
!MESSAGE Action for command 'org.eclipse.jdt.ui.edit.text.java.open.hierarchy'
failed to execute properly.
!ENTRY org.eclipse.ui 4 0 Dec 19, 2003 16:08:26.575
!MESSAGE Action for command 'org.eclipse.jdt.ui.edit.text.java.open.hierarchy'
failed to execute properly.
!STACK 0

fixed &gt; 20031222</WithOutStack>
  </Bug>
  <Bug>
    <BugId amount="49178" />
    <CreationDate amount="2003-12-19 10:11:00 -0500" />
    <DupId amount="" />
    <classification amount="Eclipse" />
    <Product amount="JDT" />
    <component amount="Core" />
    <Version amount="3.0" />
    <rep_platform amount="PC" />
    <op_sys amount="Windows 2000" />
    <priority amount="P3" />
    <bug_severity amount="normal" />
    <Summery>New code formatter: Qualified method call splitting insanity</Summery>
    <Patches amount="0" />
    <Stacktraces amount="0" />
    <SourceCodeRegions amount="3">
      <source_code type="functioncall">
        <location start="191" end="251" />
        <code>.getIncludeTextPositionData(), ge.getPartialMatching());</code>
      </source_code>
      <source_code type="functioncall">
        <location start="335" end="397" />
        <code>ge.getIncludeTextPositionData(), ge.getPartialMatching());</code>
      </source_code>
      <source_code type="assignment">
        <location start="758" end="838" />
        <code>protected static Logger log = Logger.getLogger(InsightManagerInitializer.class);</code>
      </source_code>
    </SourceCodeRegions>
    <Enumerations amount="0" />
    <bug_status amount="RESOLVED" />
    <resolution amount="WONTFIX" />
    <WithStack>There ought to be a way to tell the code formatter do prefer not to split
qualified method call expressions. The formatter gives me this:

  IExpression parsedExpr = m_parser.parse(query, ge
    .getIncludeTextPositionData(), ge.getPartialMatching());

This is so much more readable:

  IExpression parsedExpr = m_parser.parse(query, 
    ge.getIncludeTextPositionData(), ge.getPartialMatching());

Using I20031216; under the new prefs, "Line Wrapping" tab, I have set "Qualified
invocations" to "Wrap only when necessary", "Indent by one", no force split.
Agreed. Being able to set a preference for what wraps first, or even being able
to disqualify qualified calls would be very helpful.
Here's an example of the problem. Take the following line of code:

protected static Logger log = Logger.getLogger(InsightManagerInitializer.class);

That line goes out to column 85 before formatting, so it should be split. If I
tell M6 to split qualified calls only when necessary, it splits the line at
Logger(new line).getLogger - far too early, when it has the option to split the
line at the parenthesis.

If I tell M6 to always wrap qualified calls, but only wrap the first if
necessary, Eclipse leaves the line as-is, and does not split it at all.

Method param wrapping is set to "when necessary" at all times.
This is closely related to bug 44642 and 47621. Once these two are fixed, this
one should also be fixed.
Defer to M9 because of 1.5 effort.
*** Bug 60035 has been marked as a duplicate of this bug. ***
Too risky at this stage. Reconsider post 3.0.
As of now 'LATER' and 'REMIND' resolutions are no longer supported.
Please reopen this bug if it is still valid for you.</WithStack>
    <WithOutStack>There ought to be a way to tell the code formatter do prefer not to split
qualified method call expressions. The formatter gives me this:

  IExpression parsedExpr = m_parser.parse(query, ge
    .getIncludeTextPositionData(), ge.getPartialMatching());

This is so much more readable:

  IExpression parsedExpr = m_parser.parse(query, 
    ge.getIncludeTextPositionData(), ge.getPartialMatching());

Using I20031216; under the new prefs, "Line Wrapping" tab, I have set "Qualified
invocations" to "Wrap only when necessary", "Indent by one", no force split.
Agreed. Being able to set a preference for what wraps first, or even being able
to disqualify qualified calls would be very helpful.
Here's an example of the problem. Take the following line of code:

protected static Logger log = Logger.getLogger(InsightManagerInitializer.class);

That line goes out to column 85 before formatting, so it should be split. If I
tell M6 to split qualified calls only when necessary, it splits the line at
Logger(new line).getLogger - far too early, when it has the option to split the
line at the parenthesis.

If I tell M6 to always wrap qualified calls, but only wrap the first if
necessary, Eclipse leaves the line as-is, and does not split it at all.

Method param wrapping is set to "when necessary" at all times.
This is closely related to bug 44642 and 47621. Once these two are fixed, this
one should also be fixed.
Defer to M9 because of 1.5 effort.
*** Bug 60035 has been marked as a duplicate of this bug. ***
Too risky at this stage. Reconsider post 3.0.
As of now 'LATER' and 'REMIND' resolutions are no longer supported.
Please reopen this bug if it is still valid for you.</WithOutStack>
  </Bug>
  <Bug>
    <BugId amount="49179" />
    <CreationDate amount="2003-12-19 10:15:00 -0500" />
    <DupId amount="" />
    <classification amount="Eclipse" />
    <Product amount="JDT" />
    <component amount="Core" />
    <Version amount="3.0" />
    <rep_platform amount="PC" />
    <op_sys amount="All" />
    <priority amount="P3" />
    <bug_severity amount="normal" />
    <Summery>[Javadoc] Overridden methods - Problems with Javadoc compiler warnings</Summery>
    <Patches amount="0" />
    <Stacktraces amount="0" />
    <SourceCodeRegions amount="0" />
    <Enumerations amount="0" />
    <bug_status amount="RESOLVED" />
    <resolution amount="WONTFIX" />
    <WithStack>If you override a method, you inherit the javadoc from the parent.  In this 
case, I do not think you should see the error "Javadoc: Missing comment for 
public declaration".  What I would prefer to see is a warning when I do 
provide javadoc for an overriden method telling me that there is already 
javadoc for this method and the comment I am providing is replacing the "real" 
comment.
Frederic: please investigate expectation level. Sounds a fair request actually.
The problem is that compiler has no way not know whether there's really a 
comment in overridden or implemented methods.

So, warn when a javadoc comment is written that there's is already javadoc for 
this method can be false if no comment are written in corresponding superclass 
or interface.

My point of view is that as we cannot know javadoc state in other file that the 
one we currently parsing, this is the only message we can actually provide to 
user.

To avoid too many warnings the first time user set the javadoc compiler option 
on, we can change default for sub-option 'Check overriding and implementing 
methods'.

Currently its checked by default, which means that as soon as corresponding 
option is activated, all missing tags or comments are reported for overridden 
or implemented methods.

Changing it to false would make the compiler not to signal these problems for 
these kind of methods. User should then allow compiler explicitely to have them 
reported...

Post 3.0
*** Bug 69434 has been marked as a duplicate of this bug. ***
*** Bug 73753 has been marked as a duplicate of this bug. ***
Reopen to change resolution
As I said in comment 2, there's currently nothing we can do for this requirement.
However, defaults for javadoc options have been changed in 3.1 and missing comment warning needs to be explicitely activated by user.
This behavior sounds to be acceptable as I do not receive any complain about it since then...</WithStack>
    <WithOutStack>If you override a method, you inherit the javadoc from the parent.  In this 
case, I do not think you should see the error "Javadoc: Missing comment for 
public declaration".  What I would prefer to see is a warning when I do 
provide javadoc for an overriden method telling me that there is already 
javadoc for this method and the comment I am providing is replacing the "real" 
comment.
Frederic: please investigate expectation level. Sounds a fair request actually.
The problem is that compiler has no way not know whether there's really a 
comment in overridden or implemented methods.

So, warn when a javadoc comment is written that there's is already javadoc for 
this method can be false if no comment are written in corresponding superclass 
or interface.

My point of view is that as we cannot know javadoc state in other file that the 
one we currently parsing, this is the only message we can actually provide to 
user.

To avoid too many warnings the first time user set the javadoc compiler option 
on, we can change default for sub-option 'Check overriding and implementing 
methods'.

Currently its checked by default, which means that as soon as corresponding 
option is activated, all missing tags or comments are reported for overridden 
or implemented methods.

Changing it to false would make the compiler not to signal these problems for 
these kind of methods. User should then allow compiler explicitely to have them 
reported...

Post 3.0
*** Bug 69434 has been marked as a duplicate of this bug. ***
*** Bug 73753 has been marked as a duplicate of this bug. ***
Reopen to change resolution
As I said in comment 2, there's currently nothing we can do for this requirement.
However, defaults for javadoc options have been changed in 3.1 and missing comment warning needs to be explicitely activated by user.
This behavior sounds to be acceptable as I do not receive any complain about it since then...</WithOutStack>
  </Bug>
  <Bug>
    <BugId amount="49180" />
    <CreationDate amount="2003-12-19 10:19:00 -0500" />
    <DupId amount="" />
    <classification amount="Eclipse" />
    <Product amount="JDT" />
    <component amount="Text" />
    <Version amount="3.0" />
    <rep_platform amount="PC" />
    <op_sys amount="Windows 2000" />
    <priority amount="P3" />
    <bug_severity amount="normal" />
    <Summery>New code formatter: ?: uses "default indentation"</Summery>
    <Patches amount="0" />
    <Stacktraces amount="0" />
    <SourceCodeRegions amount="18">
      <source_code type="assignment">
        <location start="620" end="637" />
        <code>int freq = 0;</code>
      </source_code>
      <source_code type="assignment">
        <location start="638" end="716" />
        <code>LuceneReadAccess readAccess = m_catalog.getIndexManager().getReadAccess();</code>
      </source_code>
      <source_code type="assignment">
        <location start="812" end="853" />
        <code>String scope = (String) j.next();</code>
      </source_code>
      <source_code type="functioncall">
        <location start="978" end="1038" />
        <code>LuceneCatalog.scopeToUnfilteredFieldName(scope);</code>
      </source_code>
      <source_code type="assignment">
        <location start="1039" end="1093" />
        <code>IndexReader reader = readAccess.getReader();</code>
      </source_code>
      <source_code type="assignment">
        <location start="1120" end="1184" />
        <code>termFreq = reader.docFreq(new Term(field, synonym));</code>
      </source_code>
      <source_code type="functioncall">
        <location start="1241" end="1292" />
        <code>throw new CompositeRuntimeException(e);</code>
      </source_code>
      <source_code type="assignment">
        <location start="1315" end="1340" />
        <code>freq += termFreq;</code>
      </source_code>
      <source_code type="functioncall">
        <location start="1373" end="1398" />
        <code>readAccess.close();</code>
      </source_code>
      <source_code type="assignment">
        <location start="1487" end="1504" />
        <code>int freq = 0;</code>
      </source_code>
      <source_code type="assignment">
        <location start="1505" end="1583" />
        <code>LuceneReadAccess readAccess = m_catalog.getIndexManager().getReadAccess();</code>
      </source_code>
      <source_code type="assignment">
        <location start="1679" end="1720" />
        <code>String scope = (String) j.next();</code>
      </source_code>
      <source_code type="functioncall">
        <location start="1920" end="1968" />
        <code>LuceneCatalog.scopeToUnfilteredFieldName(scope);</code>
      </source_code>
      <source_code type="functioncall">
        <location start="2034" end="2057" />
        <code>readAccess.getReader();</code>
      </source_code>
      <source_code type="functioncall">
        <location start="2228" end="2250" />
        <code>Term(field, synonym));</code>
      </source_code>
      <source_code type="functioncall">
        <location start="2465" end="2494" />
        <code>CompositeRuntimeException(e);</code>
      </source_code>
      <source_code type="assignment">
        <location start="2551" end="2576" />
        <code>freq += termFreq;</code>
      </source_code>
      <source_code type="functioncall">
        <location start="2609" end="2634" />
        <code>readAccess.close();</code>
      </source_code>
    </SourceCodeRegions>
    <Enumerations amount="0" />
    <bug_status amount="RESOLVED" />
    <resolution amount="FIXED" />
    <WithStack>Note: This only applies only to typing. Formatter is as expected when invoking
the formatter on the block.

I start typing this expression:

  foo = bar != null ?_

(_ = cursor)

Now if I hit Enter, and continue typing blindly, I get:

  foo = bar != null ?
                     bar : foo;

instead of the expected:

  foo = bar != null ?
    bar : foo;

In the new formatter prefs, "Line Wrapping "tab", I have set the indentation
policy of "Conditionals" to "indent by one".
Pasting also screws up indentation, and also for subsequent blocks. For example,
pasting this:

  private int getFrequency(String synonym)
  {
    int freq = 0;
    LuceneReadAccess readAccess = m_catalog.getIndexManager().getReadAccess();
    try
    {
      for (Iterator j = m_catalog.getScopes().iterator(); j.hasNext(); )
      {
        String scope = (String) j.next();
        int termFreq;
        {
          String field = m_filteredIndex ? 
            LuceneCatalog.scopeToField(scope) :
            LuceneCatalog.scopeToUnfilteredFieldName(scope);
          IndexReader reader = readAccess.getReader();
          try
          {
            termFreq = reader.docFreq(new Term(field, synonym));
          }
          catch (IOException e)
          {
            throw new CompositeRuntimeException(e);
          }
        }
        freq += termFreq;
      }
    }
    finally
    {
      readAccess.close();
    }
    return freq;
  }

I get this:

  private int getFrequency(String synonym)
  {
    int freq = 0;
    LuceneReadAccess readAccess = m_catalog.getIndexManager().getReadAccess();
    try
    {
      for (Iterator j = m_catalog.getScopes().iterator(); j.hasNext(); )
      {
        String scope = (String) j.next();
        int termFreq;
        {
          String field = m_filteredIndex ? 
                                          LuceneCatalog.scopeToField(scope) : 
                                           
LuceneCatalog.scopeToUnfilteredFieldName(scope);
                                            IndexReader reader =
readAccess.getReader();
                                            try
                                            {
                                              termFreq = reader.docFreq(new
Term(field, synonym));
                                            }
                                            catch (IOException e)
                                            {
                                              throw new
CompositeRuntimeException(e);
                                            }
        }
        freq += termFreq;
      }
    }
    finally
    {
      readAccess.close();
    }
    return freq;
  }

Move to JDT/Text.
The formatter seems to work as expected when invoked through the format option.
auto-indenting lacks proper conditional support yet.
fixed &gt; 20040107</WithStack>
    <WithOutStack>Note: This only applies only to typing. Formatter is as expected when invoking
the formatter on the block.

I start typing this expression:

  foo = bar != null ?_

(_ = cursor)

Now if I hit Enter, and continue typing blindly, I get:

  foo = bar != null ?
                     bar : foo;

instead of the expected:

  foo = bar != null ?
    bar : foo;

In the new formatter prefs, "Line Wrapping "tab", I have set the indentation
policy of "Conditionals" to "indent by one".
Pasting also screws up indentation, and also for subsequent blocks. For example,
pasting this:

  private int getFrequency(String synonym)
  {
    int freq = 0;
    LuceneReadAccess readAccess = m_catalog.getIndexManager().getReadAccess();
    try
    {
      for (Iterator j = m_catalog.getScopes().iterator(); j.hasNext(); )
      {
        String scope = (String) j.next();
        int termFreq;
        {
          String field = m_filteredIndex ? 
            LuceneCatalog.scopeToField(scope) :
            LuceneCatalog.scopeToUnfilteredFieldName(scope);
          IndexReader reader = readAccess.getReader();
          try
          {
            termFreq = reader.docFreq(new Term(field, synonym));
          }
          catch (IOException e)
          {
            throw new CompositeRuntimeException(e);
          }
        }
        freq += termFreq;
      }
    }
    finally
    {
      readAccess.close();
    }
    return freq;
  }

I get this:

  private int getFrequency(String synonym)
  {
    int freq = 0;
    LuceneReadAccess readAccess = m_catalog.getIndexManager().getReadAccess();
    try
    {
      for (Iterator j = m_catalog.getScopes().iterator(); j.hasNext(); )
      {
        String scope = (String) j.next();
        int termFreq;
        {
          String field = m_filteredIndex ? 
                                          LuceneCatalog.scopeToField(scope) : 
                                           
LuceneCatalog.scopeToUnfilteredFieldName(scope);
                                            IndexReader reader =
readAccess.getReader();
                                            try
                                            {
                                              termFreq = reader.docFreq(new
Term(field, synonym));
                                            }
                                            catch (IOException e)
                                            {
                                              throw new
CompositeRuntimeException(e);
                                            }
        }
        freq += termFreq;
      }
    }
    finally
    {
      readAccess.close();
    }
    return freq;
  }

Move to JDT/Text.
The formatter seems to work as expected when invoked through the format option.
auto-indenting lacks proper conditional support yet.
fixed &gt; 20040107</WithOutStack>
  </Bug>
  <Bug>
    <BugId amount="49181" />
    <CreationDate amount="2003-12-19 10:25:00 -0500" />
    <DupId amount="" />
    <classification amount="Eclipse" />
    <Product amount="JDT" />
    <component amount="Debug" />
    <Version amount="2.1.2" />
    <rep_platform amount="All" />
    <op_sys amount="All" />
    <priority amount="P3" />
    <bug_severity amount="enhancement" />
    <Summery>Debug Highlight Line</Summery>
    <Patches amount="0" />
    <Stacktraces amount="0" />
    <SourceCodeRegions amount="0" />
    <Enumerations amount="0" />
    <bug_status amount="RESOLVED" />
    <resolution amount="WORKSFORME" />
    <WithStack>It would be really nice in the debugger if, in addition to the little arrow on 
the left side indicating the current line running, if the user could specify a 
highlight color so that the line could be highlighted.  It would be really, 
really nice if that color could be different from the line highlight color in 
the text editor.
This exists in 3.0 already. The debugger provides annotations for "Current 
execution location" and "Debug call stack". These annotations can be 
configured per editor to control their color.</WithStack>
    <WithOutStack>It would be really nice in the debugger if, in addition to the little arrow on 
the left side indicating the current line running, if the user could specify a 
highlight color so that the line could be highlighted.  It would be really, 
really nice if that color could be different from the line highlight color in 
the text editor.
This exists in 3.0 already. The debugger provides annotations for "Current 
execution location" and "Debug call stack". These annotations can be 
configured per editor to control their color.</WithOutStack>
  </Bug>
  <Bug>
    <BugId amount="49182" />
    <CreationDate amount="2003-12-19 10:28:00 -0500" />
    <DupId amount="" />
    <classification amount="Eclipse" />
    <Product amount="JDT" />
    <component amount="UI" />
    <Version amount="3.0" />
    <rep_platform amount="PC" />
    <op_sys amount="Windows XP" />
    <priority amount="P3" />
    <bug_severity amount="normal" />
    <Summery>What should canceling setRawClasspath do ?</Summery>
    <Patches amount="0" />
    <Stacktraces amount="0" />
    <SourceCodeRegions amount="0" />
    <Enumerations amount="1">
      <Enumeration lines="4">
        <Lines>
          <Line>- user changes class path</Line>
          <Line>- press OK on dialog</Line>
          <Line>- cancels the build</Line>
          <Line>- press Cancel on dialog.</Line>
        </Lines>
      </Enumeration>
    </Enumerations>
    <bug_status amount="RESOLVED" />
    <resolution amount="FIXED" />
    <WithStack>2.1.2

we now allow canceling the call setRawClasspath (see bug 43692). What should 
canceling really do? Canceling the build or also reset the classpath to its 
old values ? 

Philippe, can you comment on what Java Core is doing here.
Isn't the cancel only supposed to cancel the build (if autobuild is on) ? Then, 
I would leave the classpath as it is.
Dirk, what was the intent of the PR?
For 2.1.3 we allow canceling build path changes. If the user now presses the 
cancel button, the build gets canceled, but not the class path change. This 
means we can have a strange situation:

- user changes class path
- press OK on dialog
- cancels the build
- press Cancel on dialog.

==&gt; observe: the class path is changed although the dialog got canceled. 
fixed the prefpages to return back to the page when the cancel button is pressed
&gt; 20040319</WithStack>
    <WithOutStack>2.1.2

we now allow canceling the call setRawClasspath (see bug 43692). What should 
canceling really do? Canceling the build or also reset the classpath to its 
old values ? 

Philippe, can you comment on what Java Core is doing here.
Isn't the cancel only supposed to cancel the build (if autobuild is on) ? Then, 
I would leave the classpath as it is.
Dirk, what was the intent of the PR?
For 2.1.3 we allow canceling build path changes. If the user now presses the 
cancel button, the build gets canceled, but not the class path change. This 
means we can have a strange situation:

- user changes class path
- press OK on dialog
- cancels the build
- press Cancel on dialog.

==&gt; observe: the class path is changed although the dialog got canceled. 
fixed the prefpages to return back to the page when the cancel button is pressed
&gt; 20040319</WithOutStack>
  </Bug>
  <Bug>
    <BugId amount="49183" />
    <CreationDate amount="2003-12-19 10:32:00 -0500" />
    <DupId amount="" />
    <classification amount="Eclipse" />
    <Product amount="JDT" />
    <component amount="Debug" />
    <Version amount="2.1.2" />
    <rep_platform amount="All" />
    <op_sys amount="All" />
    <priority amount="P3" />
    <bug_severity amount="enhancement" />
    <Summery>Debugger Go To Current Line</Summery>
    <Patches amount="0" />
    <Stacktraces amount="0" />
    <SourceCodeRegions amount="0" />
    <Enumerations amount="0" />
    <bug_status amount="RESOLVED" />
    <resolution amount="WONTFIX" />
    <WithStack>It would be nice if there was a menu item with an associated hot key for 
jumping the user back to the current line being executed.  Since the arrow on 
the left is so small, it is hard to find it sometimes (after you have left 
that spot in the editor to go investigate something else).
Note: selecting the stack frame acheives this. As well, in 3.0, the overview 
ruler (on the right hand side of the editor) shows boxes for each annotation 
in the editor. The execution pointers have boxes in the ruler which can be 
clicked to position to the annotation.

Do not intend to add hot key for this.</WithStack>
    <WithOutStack>It would be nice if there was a menu item with an associated hot key for 
jumping the user back to the current line being executed.  Since the arrow on 
the left is so small, it is hard to find it sometimes (after you have left 
that spot in the editor to go investigate something else).
Note: selecting the stack frame acheives this. As well, in 3.0, the overview 
ruler (on the right hand side of the editor) shows boxes for each annotation 
in the editor. The execution pointers have boxes in the ruler which can be 
clicked to position to the annotation.

Do not intend to add hot key for this.</WithOutStack>
  </Bug>
  <Bug>
    <BugId amount="49184" />
    <CreationDate amount="2003-12-19 10:45:00 -0500" />
    <DupId amount="" />
    <classification amount="Eclipse Foundation" />
    <Product amount="z_Archived" />
    <component amount="Hyades" />
    <Version amount="unspecified" />
    <rep_platform amount="Other" />
    <op_sys amount="other" />
    <priority amount="P3" />
    <bug_severity amount="normal" />
    <Summery>Cumulative time for main() is much less than expected on iSeries</Summery>
    <Patches amount="0" />
    <Stacktraces amount="0" />
    <SourceCodeRegions amount="0" />
    <Enumerations amount="0" />
    <bug_status amount="CLOSED" />
    <resolution amount="INVALID" />
    <WithStack>On the iSeries, the cumulative time for the main() method is too small. For our 
InOut test case, the cumulative time for main() is 0.062582 sec but the actual 
elapsed time is 8.788 sec.

This is an iSeries JVMPI specific bug.
To obtain proper method timings on AS/400 the java application needs to be run
in either interpreted mode (VM argument '-interpret') or pure jit mode (VM
arguments '-Dos400.enbpfrcol=1 -Djava.compiler=jitc'). Running with DE (Direct
Execution) enabled -- which is the default mode -- causes the sequence of method
entry/exits that we receive from the java application to be incorrect. See
documentation bug 59831 for details. (I was able to reproduce this bug when
running in the default mode with DE enabled, but the problem disappeared when I
switched to pure-jit mode.) 

(Note, if running in one of these modes, you still may end up seeing an
unacceptably large overhead from the profiler -- e.g., the cumulative time
reported by the profiler for the main method may be larger than the time
reported by the program itself. There is a bug already open for this issue --
bug 54381)
As of TPTP 4.6.0, TPTP is in maintenance mode and focusing on improving quality by resolving relevant enhancements/defects and increasing test coverage through test creation, automation, Build Verification Tests (BVTs), and expanded run-time execution. As part of the TPTP Bugzilla housecleaning process (see http://wiki.eclipse.org/Bugzilla_Housecleaning_Processes), this enhancement/defect is verified/closed by the Project Lead since this originator of this enhancement/defect has an inactive Bugzilla account and considered to be fixed. If this enhancement/defect is still unresolved and reproducible in the latest TPTP release (http://www.eclipse.org/tptp/home/downloads/), please re-open.</WithStack>
    <WithOutStack>On the iSeries, the cumulative time for the main() method is too small. For our 
InOut test case, the cumulative time for main() is 0.062582 sec but the actual 
elapsed time is 8.788 sec.

This is an iSeries JVMPI specific bug.
To obtain proper method timings on AS/400 the java application needs to be run
in either interpreted mode (VM argument '-interpret') or pure jit mode (VM
arguments '-Dos400.enbpfrcol=1 -Djava.compiler=jitc'). Running with DE (Direct
Execution) enabled -- which is the default mode -- causes the sequence of method
entry/exits that we receive from the java application to be incorrect. See
documentation bug 59831 for details. (I was able to reproduce this bug when
running in the default mode with DE enabled, but the problem disappeared when I
switched to pure-jit mode.) 

(Note, if running in one of these modes, you still may end up seeing an
unacceptably large overhead from the profiler -- e.g., the cumulative time
reported by the profiler for the main method may be larger than the time
reported by the program itself. There is a bug already open for this issue --
bug 54381)
As of TPTP 4.6.0, TPTP is in maintenance mode and focusing on improving quality by resolving relevant enhancements/defects and increasing test coverage through test creation, automation, Build Verification Tests (BVTs), and expanded run-time execution. As part of the TPTP Bugzilla housecleaning process (see http://wiki.eclipse.org/Bugzilla_Housecleaning_Processes), this enhancement/defect is verified/closed by the Project Lead since this originator of this enhancement/defect has an inactive Bugzilla account and considered to be fixed. If this enhancement/defect is still unresolved and reproducible in the latest TPTP release (http://www.eclipse.org/tptp/home/downloads/), please re-open.</WithOutStack>
  </Bug>
  <Bug>
    <BugId amount="49185" />
    <CreationDate amount="2003-12-19 11:12:00 -0500" />
    <DupId amount="" />
    <classification amount="Eclipse" />
    <Product amount="Platform" />
    <component amount="Update  (deprecated - use RT&gt;Equinox&gt;p2)" />
    <Version amount="2.1.1" />
    <rep_platform amount="PC" />
    <op_sys amount="Linux" />
    <priority amount="P3" />
    <bug_severity amount="normal" />
    <Summery>Update Manager description is outdated</Summery>
    <Patches amount="0" />
    <Stacktraces amount="0" />
    <SourceCodeRegions amount="0" />
    <Enumerations amount="0" />
    <bug_status amount="RESOLVED" />
    <resolution amount="FIXED" />
    <WithStack>The section "Installing new features with the update manager" starts with
a description of a nonexistent menu item (Update Manager), which is supposed
to open a nonexistent (Install/Update) perspective. I guess things are a bit
different in 3.0 than they were in 2.1 and perhaps the help system is not
current?
Help content, not help system issue.  Forwarding to Update.
Yes, the docs have not been updated, as this work is still in flux.
If  there is anything in particular that you can't figure out, please let us 
know, as writing the docs may take a while.
It just struck me because I installed 3.0, wanted to proceed with installing
my features/plugins from 2.1.x, noticed that the familiar Install/Update
perspective is missing, fired up help and the first thing I read was this
confusing piece of information.

I found my way around the new configuration manager nevertheless, but thanks
for your assistance offer. :-)

Perhaps updating the help for the configuration manager should be given some
priority because others interested in the 2.1-&gt;3.0 transition might be facing
the same problem. It gives a first impression that 3.0 is not "ripe" enough to
try, which might or might not be your intent. Just a thought.
BTW, if you just want to install new feature, all you need is the install 
wizard (Help&gt;Software Updates &gt; Find and Install).

The 3.0 update manager should be no worse than 2.1.x (we think it is better), 
but it is still evolving. 
Docs have been updated, but they still need a bit (or more) of polishing.</WithStack>
    <WithOutStack>The section "Installing new features with the update manager" starts with
a description of a nonexistent menu item (Update Manager), which is supposed
to open a nonexistent (Install/Update) perspective. I guess things are a bit
different in 3.0 than they were in 2.1 and perhaps the help system is not
current?
Help content, not help system issue.  Forwarding to Update.
Yes, the docs have not been updated, as this work is still in flux.
If  there is anything in particular that you can't figure out, please let us 
know, as writing the docs may take a while.
It just struck me because I installed 3.0, wanted to proceed with installing
my features/plugins from 2.1.x, noticed that the familiar Install/Update
perspective is missing, fired up help and the first thing I read was this
confusing piece of information.

I found my way around the new configuration manager nevertheless, but thanks
for your assistance offer. :-)

Perhaps updating the help for the configuration manager should be given some
priority because others interested in the 2.1-&gt;3.0 transition might be facing
the same problem. It gives a first impression that 3.0 is not "ripe" enough to
try, which might or might not be your intent. Just a thought.
BTW, if you just want to install new feature, all you need is the install 
wizard (Help&gt;Software Updates &gt; Find and Install).

The 3.0 update manager should be no worse than 2.1.x (we think it is better), 
but it is still evolving. 
Docs have been updated, but they still need a bit (or more) of polishing.</WithOutStack>
  </Bug>
  <Bug>
    <BugId amount="49186" />
    <CreationDate amount="2003-12-19 11:47:00 -0500" />
    <DupId amount="" />
    <classification amount="Eclipse" />
    <Product amount="Platform" />
    <component amount="SWT" />
    <Version amount="2.1.2" />
    <rep_platform amount="PC" />
    <op_sys amount="Windows 2000" />
    <priority amount="P3" />
    <bug_severity amount="major" />
    <Summery>org.eclipse.swt.widgets.Text.setText() and java.lang.StackOverflowError</Summery>
    <Patches amount="0" />
    <Stacktraces amount="0" />
    <SourceCodeRegions amount="1">
      <source_code type="functiondef">
        <location start="473" end="1211" />
        <code>public static void main (String [] args) {
	Display display = new Display ();
	Shell shell = new Shell (display);
	shell.setBounds(10,10,200,100);
	final Text text1 = new Text(shell, SWT.SINGLE);
	text1.setBounds(10,10,80,30);
	final Text text2 = new Text(shell, SWT.SINGLE);
	text2.setBounds(100,10,80,30);
	text1.addListener(SWT.KeyDown, new Listener() {
		public void handleEvent(Event event) {
			text2.setText(text1.getText() + "1");
			text2.setText(text1.getText() + "2");
			text2.setText(text1.getText() + "3");
			text2.setText(text1.getText() + "4");
			text2.setText(text1.getText() + "5");
		}
	});
	shell.open();		
	while (!shell.isDisposed()) {
		if (!display.readAndDispatch ()) display.sleep ();
	}
	display.dispose ();
}</code>
      </source_code>
    </SourceCodeRegions>
    <Enumerations amount="0" />
    <bug_status amount="RESOLVED" />
    <resolution amount="WORKSFORME" />
    <WithStack>java.lang.StackOverflowError is thrown when calling setText multiple times on 
the same instance of org.eclipse.swt.widgets.Text 

I am developing a plug-in where each time a user updates a Text field 1 I need 
to change the contents of a Text field 2. Typically calling setText on field 2 
twice is fine. However calling it third time results in StackOverflowError.
The following snippet works for me.  Please attach a snippet that shows the 
problem occurring.  Thanks.

public static void main (String [] args) {
	Display display = new Display ();
	Shell shell = new Shell (display);
	shell.setBounds(10,10,200,100);
	final Text text1 = new Text(shell, SWT.SINGLE);
	text1.setBounds(10,10,80,30);
	final Text text2 = new Text(shell, SWT.SINGLE);
	text2.setBounds(100,10,80,30);
	text1.addListener(SWT.KeyDown, new Listener() {
		public void handleEvent(Event event) {
			text2.setText(text1.getText() + "1");
			text2.setText(text1.getText() + "2");
			text2.setText(text1.getText() + "3");
			text2.setText(text1.getText() + "4");
			text2.setText(text1.getText() + "5");
		}
	});
	shell.open();		
	while (!shell.isDisposed()) {
		if (!display.readAndDispatch ()) display.sleep ();
	}
	display.dispose ();
}

I found the problem in my code. Please disregard this bug. 
My apologies.</WithStack>
    <WithOutStack>java.lang.StackOverflowError is thrown when calling setText multiple times on 
the same instance of org.eclipse.swt.widgets.Text 

I am developing a plug-in where each time a user updates a Text field 1 I need 
to change the contents of a Text field 2. Typically calling setText on field 2 
twice is fine. However calling it third time results in StackOverflowError.
The following snippet works for me.  Please attach a snippet that shows the 
problem occurring.  Thanks.

public static void main (String [] args) {
	Display display = new Display ();
	Shell shell = new Shell (display);
	shell.setBounds(10,10,200,100);
	final Text text1 = new Text(shell, SWT.SINGLE);
	text1.setBounds(10,10,80,30);
	final Text text2 = new Text(shell, SWT.SINGLE);
	text2.setBounds(100,10,80,30);
	text1.addListener(SWT.KeyDown, new Listener() {
		public void handleEvent(Event event) {
			text2.setText(text1.getText() + "1");
			text2.setText(text1.getText() + "2");
			text2.setText(text1.getText() + "3");
			text2.setText(text1.getText() + "4");
			text2.setText(text1.getText() + "5");
		}
	});
	shell.open();		
	while (!shell.isDisposed()) {
		if (!display.readAndDispatch ()) display.sleep ();
	}
	display.dispose ();
}

I found the problem in my code. Please disregard this bug. 
My apologies.</WithOutStack>
  </Bug>
  <Bug>
    <BugId amount="49187" />
    <CreationDate amount="2003-12-19 11:51:00 -0500" />
    <DupId amount="" />
    <classification amount="Eclipse" />
    <Product amount="JDT" />
    <component amount="Text" />
    <Version amount="3.0" />
    <rep_platform amount="PC" />
    <op_sys amount="Windows XP" />
    <priority amount="P2" />
    <bug_severity amount="normal" />
    <Summery>[formatting] "Blank lines before package" not working anymore</Summery>
    <Patches amount="0" />
    <Stacktraces amount="0" />
    <SourceCodeRegions amount="30">
      <source_code type="multicomment">
        <location start="214" end="280" />
        <code>/**
	 * https://bugs.eclipse.org/bugs/show_bug.cgi?id=49187
	 */</code>
      </source_code>
      <source_code type="assignment">
        <location start="306" end="373" />
        <code>Map options = DefaultCodeFormatterConstants.getDefaultSettings();</code>
      </source_code>
      <source_code type="functioncall">
        <location start="422" end="459" />
        <code>DefaultCodeFormatterOptions(options);</code>
      </source_code>
      <source_code type="assignment">
        <location start="460" end="505" />
        <code>preferences.blank_lines_before_package = 2;</code>
      </source_code>
      <source_code type="assignment">
        <location start="506" end="550" />
        <code>preferences.blank_lines_after_package = 0;</code>
      </source_code>
      <source_code type="assignment">
        <location start="551" end="628" />
        <code>DefaultCodeFormatter codeFormatter = new DefaultCodeFormatter(preferences);</code>
      </source_code>
      <source_code type="multicomment">
        <location start="740" end="807" />
        <code>/**
	 * https://bugs.eclipse.org/bugs/show_bug.cgi?id=49187
	 */</code>
      </source_code>
      <source_code type="assignment">
        <location start="833" end="900" />
        <code>Map options = DefaultCodeFormatterConstants.getDefaultSettings();</code>
      </source_code>
      <source_code type="functioncall">
        <location start="949" end="986" />
        <code>DefaultCodeFormatterOptions(options);</code>
      </source_code>
      <source_code type="assignment">
        <location start="987" end="1032" />
        <code>preferences.blank_lines_before_package = 0;</code>
      </source_code>
      <source_code type="assignment">
        <location start="1033" end="1077" />
        <code>preferences.blank_lines_after_package = 0;</code>
      </source_code>
      <source_code type="assignment">
        <location start="1078" end="1155" />
        <code>DefaultCodeFormatter codeFormatter = new DefaultCodeFormatter(preferences);</code>
      </source_code>
      <source_code type="multicomment">
        <location start="1268" end="1334" />
        <code>/**
	 * https://bugs.eclipse.org/bugs/show_bug.cgi?id=49187
	 */</code>
      </source_code>
      <source_code type="assignment">
        <location start="1360" end="1427" />
        <code>Map options = DefaultCodeFormatterConstants.getDefaultSettings();</code>
      </source_code>
      <source_code type="functioncall">
        <location start="1476" end="1513" />
        <code>DefaultCodeFormatterOptions(options);</code>
      </source_code>
      <source_code type="assignment">
        <location start="1514" end="1559" />
        <code>preferences.blank_lines_before_package = 1;</code>
      </source_code>
      <source_code type="assignment">
        <location start="1560" end="1604" />
        <code>preferences.blank_lines_after_package = 1;</code>
      </source_code>
      <source_code type="assignment">
        <location start="1605" end="1682" />
        <code>DefaultCodeFormatter codeFormatter = new DefaultCodeFormatter(preferences);</code>
      </source_code>
      <source_code type="multicomment">
        <location start="1795" end="1862" />
        <code>/**
	 * https://bugs.eclipse.org/bugs/show_bug.cgi?id=49187
	 */</code>
      </source_code>
      <source_code type="assignment">
        <location start="1888" end="1955" />
        <code>Map options = DefaultCodeFormatterConstants.getDefaultSettings();</code>
      </source_code>
      <source_code type="functioncall">
        <location start="2179" end="2216" />
        <code>DefaultCodeFormatterOptions(options);</code>
      </source_code>
      <source_code type="assignment">
        <location start="2217" end="2294" />
        <code>DefaultCodeFormatter codeFormatter = new DefaultCodeFormatter(preferences);</code>
      </source_code>
      <source_code type="class">
        <location start="2468" end="3218" />
        <code>package test; public class Hello {

2) Create a new code formatter profile 'foo' based on java convention settings.

3) Edit 'foo' and add for example 10 to 'Blank lines -&gt; Before package declaration'

4) Format the file.

-&gt; Observation: No blank lines are inserted before the package declaration.


Please comment.
When I set the option directly using the constants or the code formatter 
option, the blank lines are properly added.

Did you forget on purpose the closing brace of the type declaration?
If I format this:
package test; public class Hello {}

with 10 as the number of blank line prior to package declaration.

It works perfectly fine and I get:
"









package test;

public class Hello {
}"


No there should be a closing brace }</code>
      </source_code>
      <source_code type="class">
        <location start="3830" end="3895" />
        <code>public class Format {

  &lt;public void temp() {
    return;&gt;
  }
}</code>
      </source_code>
      <source_code type="class">
        <location start="4011" end="4123" />
        <code>public class Format {

                        &lt;- additional empty line
  public void temp() {
    return;
  }
}</code>
      </source_code>
      <source_code type="class">
        <location start="5117" end="5187" />
        <code>&lt;code&gt;public class Format 
{
  public void temp()  {
    return;
  }
}</code>
      </source_code>
      <source_code type="functiondef">
        <location start="5549" end="5616" />
        <code>string.substring(offset, offset + length) == "public void temp()  {</code>
      </source_code>
      <source_code type="class">
        <location start="5704" end="5774" />
        <code>&lt;code&gt;public class Format 
{
  public void temp()  {
    return;
  }
}</code>
      </source_code>
      <source_code type="class">
        <location start="5857" end="5928" />
        <code>&lt;code&gt;public class Format 
{

  public void temp()  {
    return;
  }
}</code>
      </source_code>
      <source_code type="class">
        <location start="6127" end="6199" />
        <code>&lt;code&gt;public class Format 
{


  public void temp()  {
    return;
  }
}</code>
      </source_code>
    </SourceCodeRegions>
    <Enumerations amount="4">
      <Enumeration lines="1">
        <Lines>
          <Line>1) Create this java file:</Line>
        </Lines>
      </Enumeration>
      <Enumeration lines="7">
        <Lines>
          <Line>0. Formatter settings: indent is two spaces, preserve &gt; 0 emtpy lines</Line>
          <Line>1. Have a (correctly formatted) source file Format.java:</Line>
          <Line />
          <Line>&lt;/code&gt;</Line>
          <Line />
          <Line>2. Select lines 2&amp;3 (zero-based)</Line>
          <Line>3. Choose Source format.</Line>
        </Lines>
      </Enumeration>
      <Enumeration lines="5">
        <Lines>
          <Line>- indentation level provided to the formatter</Line>
          <Line>- offset</Line>
          <Line>- length</Line>
          <Line>- kind</Line>
          <Line>- line separator</Line>
        </Lines>
      </Enumeration>
      <Enumeration lines="7">
        <Lines>
          <Line>- Format.java: java source file</Line>
          <Line>- settings.xml: java formatter settings</Line>
          <Line>I am investigating.</Line>
          <Line>This seems to be a bug in the formatter.</Line>
          <Line>Moving to JDT/Core for further investigation.</Line>
          <Line>Hopefully this is fixed now.</Line>
          <Line>Could you please that it is fixing your problem?</Line>
        </Lines>
      </Enumeration>
    </Enumerations>
    <bug_status amount="RESOLVED" />
    <resolution amount="FIXED" />
    <WithStack>Using I200312182000

see "Blank lines" tab on the new code formatter preference page.
I don't understand. It is working if I call the formatter directly.

See the code formatter tests 397 -&gt; 400. The result is ok.

	/**
	 * https://bugs.eclipse.org/bugs/show_bug.cgi?id=49187
	 */
	public void test397() {
		Map options = DefaultCodeFormatterConstants.getDefaultSettings();
		DefaultCodeFormatterOptions preferences = new
DefaultCodeFormatterOptions(options);
		preferences.blank_lines_before_package = 2;
		preferences.blank_lines_after_package = 0;
		DefaultCodeFormatter codeFormatter = new DefaultCodeFormatter(preferences);
		runTest(codeFormatter, "test397", "A.java",
CodeFormatter.K_COMPILATION_UNIT);//$NON-NLS-1$ //$NON-NLS-2$
	}
	
	/**
	 * https://bugs.eclipse.org/bugs/show_bug.cgi?id=49187
	 */
	public void test398() {
		Map options = DefaultCodeFormatterConstants.getDefaultSettings();
		DefaultCodeFormatterOptions preferences = new
DefaultCodeFormatterOptions(options);
		preferences.blank_lines_before_package = 0;
		preferences.blank_lines_after_package = 0;
		DefaultCodeFormatter codeFormatter = new DefaultCodeFormatter(preferences);
		runTest(codeFormatter, "test398", "A.java",
CodeFormatter.K_COMPILATION_UNIT);//$NON-NLS-1$ //$NON-NLS-2$
	}	

	/**
	 * https://bugs.eclipse.org/bugs/show_bug.cgi?id=49187
	 */
	public void test399() {
		Map options = DefaultCodeFormatterConstants.getDefaultSettings();
		DefaultCodeFormatterOptions preferences = new
DefaultCodeFormatterOptions(options);
		preferences.blank_lines_before_package = 1;
		preferences.blank_lines_after_package = 1;
		DefaultCodeFormatter codeFormatter = new DefaultCodeFormatter(preferences);
		runTest(codeFormatter, "test399", "A.java",
CodeFormatter.K_COMPILATION_UNIT);//$NON-NLS-1$ //$NON-NLS-2$
	}	
	
	/**
	 * https://bugs.eclipse.org/bugs/show_bug.cgi?id=49187
	 */
	public void test400() {
		Map options = DefaultCodeFormatterConstants.getDefaultSettings();
	
options.put(DefaultCodeFormatterConstants.FORMATTER_BLANK_LINES_BEFORE_PACKAGE,
"2");
		options.put(DefaultCodeFormatterConstants.FORMATTER_BLANK_LINES_AFTER_PACKAGE,
"2");
		DefaultCodeFormatterOptions preferences = new
DefaultCodeFormatterOptions(options);
		DefaultCodeFormatter codeFormatter = new DefaultCodeFormatter(preferences);
		runTest(codeFormatter, "test400", "A.java",
CodeFormatter.K_COMPILATION_UNIT);//$NON-NLS-1$ //$NON-NLS-2$
	}
Here are steps to reproduce (M6):

1) Create this java file:

package test; public class Hello {

2) Create a new code formatter profile 'foo' based on java convention settings.

3) Edit 'foo' and add for example 10 to 'Blank lines -&gt; Before package declaration'

4) Format the file.

-&gt; Observation: No blank lines are inserted before the package declaration.


Please comment.
When I set the option directly using the constants or the code formatter 
option, the blank lines are properly added.

Did you forget on purpose the closing brace of the type declaration?
If I format this:
package test; public class Hello {}

with 10 as the number of blank line prior to package declaration.

It works perfectly fine and I get:
"









package test;

public class Hello {
}"


No there should be a closing brace }...must have gone away on copy paste.

Anyway, I'll try to sort this out.
I found the problem, it is in JavaFormattingStrategy:99-102. All leading
whitespace is removed from the formatted string. 

Tom, can you comment why this is done?




Moving to text.
hmm, the code was added to fix bug 47125 (formatting adds extra tabs and line
breaks).
Olivier, I am trying to figure out how the formatter should be called, and
believe there is an inconsistency (or misunderstanding on my part...). Consider
the following source, with indent = '  ' (two spaces), &lt; &gt; delimiting the
selection fed to the formatter.

&lt;pre&gt;
public class Format {

  &lt;public void temp() {
    return;&gt;
  }
}
&lt;/pre&gt;

The returned edit inserts a new line before the correctly formatted text,
resulting in this code: 


&lt;pre&gt;
public class Format {

                        &lt;- additional empty line
  public void temp() {
    return;
  }
}
&lt;/pre&gt;

This does not happen if the original code did not contain an empty line before
the selection. Note that the range fed to the formatter did not contain
whitespace on either start or end.

Can you shed some light on why this happens?
I will investigate the code formatter behavior in this case.
What is the call you are using?
Please, insert your code in this PR.
I believe we are not supposed to return anything prior to the 'public' if what 
we insert correspond to the source prior to the offset position.
My concern is that I don't have the extra line, but I do have a extra 
identation.
I need to know how you are calling the formatter.
Could you please attach your test case in a zip file? Sometimes Bugzilla 
changes text attachments.
Specify:
- indentation level provided to the formatter
- offset
- length
- kind
- line separator

Thanks.
I'll try:

0. Formatter settings: indent is two spaces, preserve &gt; 0 emtpy lines
1. Have a (correctly formatted) source file Format.java:

&lt;code&gt;public class Format 
{
  public void temp()  {
    return;
  }
}&lt;/code&gt;

2. Select lines 2&amp;3 (zero-based)
3. Choose Source format.

Inside, CodeFormatterUtil.format2 calls 

ToolFactory.createCodeFormatter(options).format(kind, string, offset, length,
indentationLevel, lineSeparator);

with:

kind= CodeFormatter.K_COMPILATION_UNIT
string= &lt;entire file content&gt;
offset= 29
length= 33
indentationLevel= 0
lineSeparator= '\n'

string.substring(offset, offset + length) == "public void temp()  {\n    return;"

The returned edit, when applied to the document, results in this file:

&lt;code&gt;public class Format 
{
  public void temp()  {
    return;
  }
}&lt;/code&gt;

-&gt; all good.

----------------
Repeat the entire story with this source:

&lt;code&gt;public class Format 
{

  public void temp()  {
    return;
  }
}&lt;/code&gt;

(select lines 3&amp;4)

ToolFactory.createCodeFormatter(options).format() is called with the same
values, except:

offset= 30

The returned edit, applied to the document, results in this file:

&lt;code&gt;public class Format 
{


  public void temp()  {
    return;
  }
}&lt;/code&gt;

Created attachment 7432
java source and formatter settings

contains:
- Format.java: java source file
- settings.xml: java formatter settings
I am investigating.
This seems to be a bug in the formatter.
Moving to JDT/Core for further investigation.
Hopefully this is fixed now.
Could you please that it is fixing your problem?

Move to JDT/UI for checking.
Tom, you're involved here. (Works for me)
verify next bug fixing day.
christof, please have a look whether this is fixed with the recent builds.
This is not fixed in 200402121200.
It works fine when I use the code formatter internally. If you have a comment
before the package declaration, the blank lines are added between the comment
and the package declaration.
But it doesn't work if there is no package declaration.
Fixed in builds &gt;20040213</WithStack>
    <WithOutStack>Using I200312182000

see "Blank lines" tab on the new code formatter preference page.
I don't understand. It is working if I call the formatter directly.

See the code formatter tests 397 -&gt; 400. The result is ok.

	/**
	 * https://bugs.eclipse.org/bugs/show_bug.cgi?id=49187
	 */
	public void test397() {
		Map options = DefaultCodeFormatterConstants.getDefaultSettings();
		DefaultCodeFormatterOptions preferences = new
DefaultCodeFormatterOptions(options);
		preferences.blank_lines_before_package = 2;
		preferences.blank_lines_after_package = 0;
		DefaultCodeFormatter codeFormatter = new DefaultCodeFormatter(preferences);
		runTest(codeFormatter, "test397", "A.java",
CodeFormatter.K_COMPILATION_UNIT);//$NON-NLS-1$ //$NON-NLS-2$
	}
	
	/**
	 * https://bugs.eclipse.org/bugs/show_bug.cgi?id=49187
	 */
	public void test398() {
		Map options = DefaultCodeFormatterConstants.getDefaultSettings();
		DefaultCodeFormatterOptions preferences = new
DefaultCodeFormatterOptions(options);
		preferences.blank_lines_before_package = 0;
		preferences.blank_lines_after_package = 0;
		DefaultCodeFormatter codeFormatter = new DefaultCodeFormatter(preferences);
		runTest(codeFormatter, "test398", "A.java",
CodeFormatter.K_COMPILATION_UNIT);//$NON-NLS-1$ //$NON-NLS-2$
	}	

	/**
	 * https://bugs.eclipse.org/bugs/show_bug.cgi?id=49187
	 */
	public void test399() {
		Map options = DefaultCodeFormatterConstants.getDefaultSettings();
		DefaultCodeFormatterOptions preferences = new
DefaultCodeFormatterOptions(options);
		preferences.blank_lines_before_package = 1;
		preferences.blank_lines_after_package = 1;
		DefaultCodeFormatter codeFormatter = new DefaultCodeFormatter(preferences);
		runTest(codeFormatter, "test399", "A.java",
CodeFormatter.K_COMPILATION_UNIT);//$NON-NLS-1$ //$NON-NLS-2$
	}	
	
	/**
	 * https://bugs.eclipse.org/bugs/show_bug.cgi?id=49187
	 */
	public void test400() {
		Map options = DefaultCodeFormatterConstants.getDefaultSettings();
	
options.put(DefaultCodeFormatterConstants.FORMATTER_BLANK_LINES_BEFORE_PACKAGE,
"2");
		options.put(DefaultCodeFormatterConstants.FORMATTER_BLANK_LINES_AFTER_PACKAGE,
"2");
		DefaultCodeFormatterOptions preferences = new
DefaultCodeFormatterOptions(options);
		DefaultCodeFormatter codeFormatter = new DefaultCodeFormatter(preferences);
		runTest(codeFormatter, "test400", "A.java",
CodeFormatter.K_COMPILATION_UNIT);//$NON-NLS-1$ //$NON-NLS-2$
	}
Here are steps to reproduce (M6):

1) Create this java file:

package test; public class Hello {

2) Create a new code formatter profile 'foo' based on java convention settings.

3) Edit 'foo' and add for example 10 to 'Blank lines -&gt; Before package declaration'

4) Format the file.

-&gt; Observation: No blank lines are inserted before the package declaration.


Please comment.
When I set the option directly using the constants or the code formatter 
option, the blank lines are properly added.

Did you forget on purpose the closing brace of the type declaration?
If I format this:
package test; public class Hello {}

with 10 as the number of blank line prior to package declaration.

It works perfectly fine and I get:
"









package test;

public class Hello {
}"


No there should be a closing brace }...must have gone away on copy paste.

Anyway, I'll try to sort this out.
I found the problem, it is in JavaFormattingStrategy:99-102. All leading
whitespace is removed from the formatted string. 

Tom, can you comment why this is done?




Moving to text.
hmm, the code was added to fix bug 47125 (formatting adds extra tabs and line
breaks).
Olivier, I am trying to figure out how the formatter should be called, and
believe there is an inconsistency (or misunderstanding on my part...). Consider
the following source, with indent = '  ' (two spaces), &lt; &gt; delimiting the
selection fed to the formatter.

&lt;pre&gt;
public class Format {

  &lt;public void temp() {
    return;&gt;
  }
}
&lt;/pre&gt;

The returned edit inserts a new line before the correctly formatted text,
resulting in this code: 


&lt;pre&gt;
public class Format {

                        &lt;- additional empty line
  public void temp() {
    return;
  }
}
&lt;/pre&gt;

This does not happen if the original code did not contain an empty line before
the selection. Note that the range fed to the formatter did not contain
whitespace on either start or end.

Can you shed some light on why this happens?
I will investigate the code formatter behavior in this case.
What is the call you are using?
Please, insert your code in this PR.
I believe we are not supposed to return anything prior to the 'public' if what 
we insert correspond to the source prior to the offset position.
My concern is that I don't have the extra line, but I do have a extra 
identation.
I need to know how you are calling the formatter.
Could you please attach your test case in a zip file? Sometimes Bugzilla 
changes text attachments.
Specify:
- indentation level provided to the formatter
- offset
- length
- kind
- line separator

Thanks.
I'll try:

0. Formatter settings: indent is two spaces, preserve &gt; 0 emtpy lines
1. Have a (correctly formatted) source file Format.java:

&lt;code&gt;public class Format 
{
  public void temp()  {
    return;
  }
}&lt;/code&gt;

2. Select lines 2&amp;3 (zero-based)
3. Choose Source format.

Inside, CodeFormatterUtil.format2 calls 

ToolFactory.createCodeFormatter(options).format(kind, string, offset, length,
indentationLevel, lineSeparator);

with:

kind= CodeFormatter.K_COMPILATION_UNIT
string= &lt;entire file content&gt;
offset= 29
length= 33
indentationLevel= 0
lineSeparator= '\n'

string.substring(offset, offset + length) == "public void temp()  {\n    return;"

The returned edit, when applied to the document, results in this file:

&lt;code&gt;public class Format 
{
  public void temp()  {
    return;
  }
}&lt;/code&gt;

-&gt; all good.

----------------
Repeat the entire story with this source:

&lt;code&gt;public class Format 
{

  public void temp()  {
    return;
  }
}&lt;/code&gt;

(select lines 3&amp;4)

ToolFactory.createCodeFormatter(options).format() is called with the same
values, except:

offset= 30

The returned edit, applied to the document, results in this file:

&lt;code&gt;public class Format 
{


  public void temp()  {
    return;
  }
}&lt;/code&gt;

Created attachment 7432
java source and formatter settings

contains:
- Format.java: java source file
- settings.xml: java formatter settings
I am investigating.
This seems to be a bug in the formatter.
Moving to JDT/Core for further investigation.
Hopefully this is fixed now.
Could you please that it is fixing your problem?

Move to JDT/UI for checking.
Tom, you're involved here. (Works for me)
verify next bug fixing day.
christof, please have a look whether this is fixed with the recent builds.
This is not fixed in 200402121200.
It works fine when I use the code formatter internally. If you have a comment
before the package declaration, the blank lines are added between the comment
and the package declaration.
But it doesn't work if there is no package declaration.
Fixed in builds &gt;20040213</WithOutStack>
  </Bug>
  <Bug>
    <BugId amount="49188" />
    <CreationDate amount="2003-12-19 11:59:00 -0500" />
    <DupId amount="48096" />
    <classification amount="Eclipse" />
    <Product amount="PDE" />
    <component amount="UI" />
    <Version amount="3.0" />
    <rep_platform amount="PC" />
    <op_sys amount="Windows 2000" />
    <priority amount="P3" />
    <bug_severity amount="normal" />
    <Summery>PDE Java Classpath Container Lost</Summery>
    <Patches amount="0" />
    <Stacktraces amount="0" />
    <SourceCodeRegions amount="0" />
    <Enumerations amount="0" />
    <bug_status amount="CLOSED" />
    <resolution amount="DUPLICATE" />
    <WithStack>Whenever I shut down Eclipse 3.0 M5 (either normally or as a crash) my PDE 
classpath containers are blown away.  When I restart Eclipse I need to reload 
and reselect the required plugins from my target and then do a full rebuild; 
this is a huge waste of time.


*** This bug has been marked as a duplicate of 48096 ***
Verified for Jason.</WithStack>
    <WithOutStack>Whenever I shut down Eclipse 3.0 M5 (either normally or as a crash) my PDE 
classpath containers are blown away.  When I restart Eclipse I need to reload 
and reselect the required plugins from my target and then do a full rebuild; 
this is a huge waste of time.


*** This bug has been marked as a duplicate of 48096 ***
Verified for Jason.</WithOutStack>
  </Bug>
  <Bug>
    <BugId amount="49189" />
    <CreationDate amount="2003-12-19 12:09:00 -0500" />
    <DupId amount="" />
    <classification amount="Eclipse Foundation" />
    <Product amount="z_Archived" />
    <component amount="VE" />
    <Version amount="unspecified" />
    <rep_platform amount="All" />
    <op_sys amount="All" />
    <priority amount="P3" />
    <bug_severity amount="enhancement" />
    <Summery>FEATURE REQUEST ButtonGroup support</Summery>
    <Patches amount="0" />
    <Stacktraces amount="0" />
    <SourceCodeRegions amount="0" />
    <Enumerations amount="1">
      <Enumeration lines="6">
        <Lines>
          <Line>1- There could be a tag in the palette, where non-visual components would be available. ButtonGroup would be in this tag.</Line>
          <Line />
          <Line>2- The design could display non-visual beans that were added to a JFrame, with a default icon in the bottom of the diagram.</Line>
          <Line />
          <Line>3- Finally, in the properties view of a ButtonGroup there could be a list of the buttons that are managed by an instance of this class. Using this property, the user would be able to add buttons to the group.</Line>
          <Line>Instead, there could be an option in the JRadioButton where the user could choose the group that the button belongs. But this will be hard to implement since it can not be done using reflection.</Line>
        </Lines>
      </Enumeration>
    </Enumerations>
    <bug_status amount="NEW" />
    <resolution amount="" />
    <WithStack>Please add javax.swing.ButtonGroup built-in support to Visual Editor.
Hello,

I've noticed that the support for the ButtonGroup for grouping several radio buttons is not implemented.

I don't know how hard it will be to implement this feature, since I'm not aware of the development effort it will take.

Anyway, I would like to propose a solution.

1- There could be a tag in the palette, where non-visual components would be available. ButtonGroup would be in this tag.

2- The design could display non-visual beans that were added to a JFrame, with a default icon in the bottom of the diagram.

3- Finally, in the properties view of a ButtonGroup there could be a list of the buttons that are managed by an instance of this class. Using this property, the user would be able to add buttons to the group.
Instead, there could be an option in the JRadioButton where the user could choose the group that the button belongs. But this will be hard to implement since it can not be done using reflection.


Yes, it would be cool to get the ButtonGroup support.
This obvious feature is really missing in VE.
Is this Feature Request dead? It is going on 8 years old now, is there a better place to post requests? This is something that is needed.</WithStack>
    <WithOutStack>Please add javax.swing.ButtonGroup built-in support to Visual Editor.
Hello,

I've noticed that the support for the ButtonGroup for grouping several radio buttons is not implemented.

I don't know how hard it will be to implement this feature, since I'm not aware of the development effort it will take.

Anyway, I would like to propose a solution.

1- There could be a tag in the palette, where non-visual components would be available. ButtonGroup would be in this tag.

2- The design could display non-visual beans that were added to a JFrame, with a default icon in the bottom of the diagram.

3- Finally, in the properties view of a ButtonGroup there could be a list of the buttons that are managed by an instance of this class. Using this property, the user would be able to add buttons to the group.
Instead, there could be an option in the JRadioButton where the user could choose the group that the button belongs. But this will be hard to implement since it can not be done using reflection.


Yes, it would be cool to get the ButtonGroup support.
This obvious feature is really missing in VE.
Is this Feature Request dead? It is going on 8 years old now, is there a better place to post requests? This is something that is needed.</WithOutStack>
  </Bug>
  <Bug>
    <BugId amount="49190" />
    <CreationDate amount="2003-12-19 12:20:00 -0500" />
    <DupId amount="" />
    <classification amount="Eclipse" />
    <Product amount="Platform" />
    <component amount="Search" />
    <Version amount="3.0" />
    <rep_platform amount="PC" />
    <op_sys amount="Windows XP" />
    <priority amount="P3" />
    <bug_severity amount="normal" />
    <Summery>Search - cannot remove result [search]</Summery>
    <Patches amount="0" />
    <Stacktraces amount="0" />
    <SourceCodeRegions amount="0" />
    <Enumerations amount="0" />
    <bug_status amount="RESOLVED" />
    <resolution amount="WONTFIX" />
    <WithStack>3.0 M5

I was sync'ing up with the repository (a background job), then I did a search.

But when I tried to remove one of the found methods, it popped up a dialog 
saying it had to wait for background jobs to finish.

Why? The original search didn't.
The problem is that both the background activity and the search need to aquire 
looks to perform the action (removing search results means removing IMarkers 
from resources).

However, the search should be smarter regarding the locked element. Currently 
it takes the workspace. Looking the folder which contains the file from which 
the marker is to be removed should be enough.
Affects both text and Java search.
This is old search. Please reopen if this affects the new search, too.</WithStack>
    <WithOutStack>3.0 M5

I was sync'ing up with the repository (a background job), then I did a search.

But when I tried to remove one of the found methods, it popped up a dialog 
saying it had to wait for background jobs to finish.

Why? The original search didn't.
The problem is that both the background activity and the search need to aquire 
looks to perform the action (removing search results means removing IMarkers 
from resources).

However, the search should be smarter regarding the locked element. Currently 
it takes the workspace. Looking the folder which contains the file from which 
the marker is to be removed should be enough.
Affects both text and Java search.
This is old search. Please reopen if this affects the new search, too.</WithOutStack>
  </Bug>
  <Bug>
    <BugId amount="49191" />
    <CreationDate amount="2003-12-19 12:55:00 -0500" />
    <DupId amount="" />
    <classification amount="Eclipse" />
    <Product amount="Platform" />
    <component amount="Team" />
    <Version amount="3.0" />
    <rep_platform amount="PC" />
    <op_sys amount="Windows XP" />
    <priority amount="P3" />
    <bug_severity amount="normal" />
    <Summery>CVS generates incorrect patch</Summery>
    <Patches amount="0" />
    <Stacktraces amount="0" />
    <SourceCodeRegions amount="0" />
    <Enumerations amount="0" />
    <bug_status amount="RESOLVED" />
    <resolution amount="WORKSFORME" />
    <WithStack>I200312182000

I'm creating a patch against the following file in org.eclipse.jdt.ui repository:

formatter.messages in org.eclipse.jdt.internal.ui.preferences, which has
currently revision 1.1 in HEAD.
Created attachment 7253
The local version

This is local version for which I want to generate a patch. 

Effect: the line beginning with

ModifyDialogTabPage.NumberPreference.error.invalid_value

is not included in the patch.
moving to Team
I've fixed a couple of problems with patch since this bug was opened. I can't
duplicate this, so please re-open if this still occurs.</WithStack>
    <WithOutStack>I200312182000

I'm creating a patch against the following file in org.eclipse.jdt.ui repository:

formatter.messages in org.eclipse.jdt.internal.ui.preferences, which has
currently revision 1.1 in HEAD.
Created attachment 7253
The local version

This is local version for which I want to generate a patch. 

Effect: the line beginning with

ModifyDialogTabPage.NumberPreference.error.invalid_value

is not included in the patch.
moving to Team
I've fixed a couple of problems with patch since this bug was opened. I can't
duplicate this, so please re-open if this still occurs.</WithOutStack>
  </Bug>
  <Bug>
    <BugId amount="49192" />
    <CreationDate amount="2003-12-19 13:09:00 -0500" />
    <DupId amount="" />
    <classification amount="Eclipse" />
    <Product amount="Platform" />
    <component amount="Resources" />
    <Version amount="3.0" />
    <rep_platform amount="PC" />
    <op_sys amount="Windows XP" />
    <priority amount="P3" />
    <bug_severity amount="normal" />
    <Summery>Overlapping workspace/project</Summery>
    <Patches amount="0" />
    <Stacktraces amount="1">
      <Cause timestamp="1437341080899">
        <Exception>org.eclipse.core.internal.resources.ResourceException</Exception>
        <Reason>Invalid
project description.</Reason>
        <Frames>
          <Frame depth="0">org.eclipse.core.internal.resources.Project.checkDescription(Project.java:153)</Frame>
          <Frame depth="1">org.eclipse.core.internal.resources.Project.setDescription(Project.java:887)</Frame>
          <Frame depth="2">org.eclipse.core.internal.resources.Project.setDescription(Project.java:931)</Frame>
          <Frame depth="3">org.eclipse.jdt.internal.core.DeltaProcessingState$ProjectUpdateInfo.updateProjectReferencesIfNecessary(DeltaProcessingState.java:151)</Frame>
        </Frames>
      </Cause>
    </Stacktraces>
    <SourceCodeRegions amount="0" />
    <Enumerations amount="1">
      <Enumeration lines="3">
        <Lines>
          <Line>- workspace is in c:/eclipse/workspace</Line>
          <Line>- create new project MyProject</Line>
          <Line>- set project contents to be c:/temp/MyContents</Line>
        </Lines>
      </Enumeration>
    </Enumerations>
    <bug_status amount="RESOLVED" />
    <resolution amount="INVALID" />
    <WithStack>I try to import an existing project into a workspace:
The workspace is in c:\eclipse\workspace and the project is in
c:\eclipse\workspace\rmi-generate

The wizard correctly identifies the directory (shows the project name),
but when I hit "Finish" it displays an error message 
"Invalid project description".

I've seen the other bug about it - but I see this behavior again and the project
location is valid (directly under the workspace directory)

I use Eclipse3.0M6 on WindowsXP.
The other bug is bug #33684
I see the other bug is assigned UI component, so I change it here as well.
Changing owner to match component but will investigate to see what the story is.
The referenced bug was fixed in 2.1.1 so it shouldn't be a problem in the latest
builds.
Is there any information in your .log file? (/workspace/.metadata/.log)

What directory is Eclipse installed in?
Actually I'll move it back to Core until we can determine more information.
I debugged it a little and here are the results - 
It seems to happend for project which directory name is different from the
project name in the .project file.

The failing line is line 128 in the Project class
workspace.validateProjectLocation(project, location)

Genady
I am getting this too.

"Invalid project description"

c:/Development/Projects/CUWebAuth and c:/development/projects overlap.

This results in a bogus compile error:

"The project was not built since its build path is incomplete. Cannot find the
class file for java.lang.Object."

Most of the time Eclipse is just fine but randomly it will start doing this and
nothing will build.  I just specify my data directory with -data param as normal.

At no time have I ever nested projects or done anything like that.

Log stacktrace is:

Java Model Exception: Core Exception [code 77] Invalid project description.
	at
org.eclipse.jdt.internal.core.DeltaProcessingState$ProjectUpdateInfo.updateProjectReferencesIfNecessary(DeltaProcessingState.java:154)
	at
org.eclipse.jdt.internal.core.DeltaProcessingState.performClasspathResourceChange(DeltaProcessingState.java:223)
	at
org.eclipse.jdt.internal.core.SetClasspathOperation.updateProjectReferencesIfNecessary(SetClasspathOperation.java:771)
	at
org.eclipse.jdt.internal.core.SetClasspathOperation.executeOperation(SetClasspathOperation.java:246)
	at
org.eclipse.jdt.internal.core.JavaModelOperation.run(JavaModelOperation.java:700)
	at org.eclipse.core.internal.resources.Workspace.run(Workspace.java:1673)
....

Caused by: org.eclipse.core.internal.resources.ResourceException: Invalid
project description.
	at org.eclipse.core.internal.resources.Project.checkDescription(Project.java:153)
	at org.eclipse.core.internal.resources.Project.setDescription(Project.java:887)
	at org.eclipse.core.internal.resources.Project.setDescription(Project.java:931)
	at
org.eclipse.jdt.internal.core.DeltaProcessingState$ProjectUpdateInfo.updateProjectReferencesIfNecessary(DeltaProcessingState.java:151)
Aaron, please file a new bug report as I believe your problem might be a
separate issue.

Genady, I think I see what is going on. Don't know why I didn't see this before,
sorry.

Eclipse manages all files underneath your workspace. If your workspace is at
c:/eclipse/workspace then you cannot create a project at
c:/eclipse/workspace/rmi-generate unless its created at the "default location".

Therefore, instead of doing an import, you need to create a new project and just
accept the default location. It will see that there is a project description
file already there and use that one and restore all your previous project data.

Let me know if this doesn't solve your problem.
My problem is that sometimes I wish to reset the workspace by erasing the 
metadata. 

Is creating a new project equivalent to importing it?

What happens if the project name is different from the directory name (I think 
it doesn't work well, but I didn't check recently).

Genady
If the project is in the default content area, then you have to create a new
project. (you aren't allowed to import it and you can't create a new one with a
new name and the old location)

If the project name is different than the directory name, that's ok if the
project content area is not in the default area. For example:
- workspace is in c:/eclipse/workspace
- create new project MyProject
- set project contents to be c:/temp/MyContents

Are there problems that are causing you to reset your workspace? In theory you
should be able to keep the same workspace across multiple builds. I upgrade to a
new Eclipse integration build every week and I've had the same workspace for
about 3 years now.
Based on comment #6 and the original comment, this bug appears to be a duplicate of bug 143757.
(In reply to comment #11)
&gt; Based on comment #6 and the original comment, this bug appears to be a
&gt; duplicate of bug 143757.

Looks like it is the same bug. Nice to have it fixed.</WithStack>
    <WithOutStack>I try to import an existing project into a workspace:
The workspace is in c:\eclipse\workspace and the project is in
c:\eclipse\workspace\rmi-generate

The wizard correctly identifies the directory (shows the project name),
but when I hit "Finish" it displays an error message 
"Invalid project description".

I've seen the other bug about it - but I see this behavior again and the project
location is valid (directly under the workspace directory)

I use Eclipse3.0M6 on WindowsXP.
The other bug is bug #33684
I see the other bug is assigned UI component, so I change it here as well.
Changing owner to match component but will investigate to see what the story is.
The referenced bug was fixed in 2.1.1 so it shouldn't be a problem in the latest
builds.
Is there any information in your .log file? (/workspace/.metadata/.log)

What directory is Eclipse installed in?
Actually I'll move it back to Core until we can determine more information.
I debugged it a little and here are the results - 
It seems to happend for project which directory name is different from the
project name in the .project file.

The failing line is line 128 in the Project class
workspace.validateProjectLocation(project, location)

Genady
I am getting this too.

"Invalid project description"

c:/Development/Projects/CUWebAuth and c:/development/projects overlap.

This results in a bogus compile error:

"The project was not built since its build path is incomplete. Cannot find the
class file for java.lang.Object."

Most of the time Eclipse is just fine but randomly it will start doing this and
nothing will build.  I just specify my data directory with -data param as normal.

At no time have I ever nested projects or done anything like that.

Log stacktrace is:

Java Model Exception: Core Exception [code 77] Invalid project description.
	at
org.eclipse.jdt.internal.core.DeltaProcessingState$ProjectUpdateInfo.updateProjectReferencesIfNecessary(DeltaProcessingState.java:154)
	at
org.eclipse.jdt.internal.core.DeltaProcessingState.performClasspathResourceChange(DeltaProcessingState.java:223)
	at
org.eclipse.jdt.internal.core.SetClasspathOperation.updateProjectReferencesIfNecessary(SetClasspathOperation.java:771)
	at
org.eclipse.jdt.internal.core.SetClasspathOperation.executeOperation(SetClasspathOperation.java:246)
	at
org.eclipse.jdt.internal.core.JavaModelOperation.run(JavaModelOperation.java:700)
	at org.eclipse.core.internal.resources.Workspace.run(Workspace.java:1673)
....


Aaron, please file a new bug report as I believe your problem might be a
separate issue.

Genady, I think I see what is going on. Don't know why I didn't see this before,
sorry.

Eclipse manages all files underneath your workspace. If your workspace is at
c:/eclipse/workspace then you cannot create a project at
c:/eclipse/workspace/rmi-generate unless its created at the "default location".

Therefore, instead of doing an import, you need to create a new project and just
accept the default location. It will see that there is a project description
file already there and use that one and restore all your previous project data.

Let me know if this doesn't solve your problem.
My problem is that sometimes I wish to reset the workspace by erasing the 
metadata. 

Is creating a new project equivalent to importing it?

What happens if the project name is different from the directory name (I think 
it doesn't work well, but I didn't check recently).

Genady
If the project is in the default content area, then you have to create a new
project. (you aren't allowed to import it and you can't create a new one with a
new name and the old location)

If the project name is different than the directory name, that's ok if the
project content area is not in the default area. For example:
- workspace is in c:/eclipse/workspace
- create new project MyProject
- set project contents to be c:/temp/MyContents

Are there problems that are causing you to reset your workspace? In theory you
should be able to keep the same workspace across multiple builds. I upgrade to a
new Eclipse integration build every week and I've had the same workspace for
about 3 years now.
Based on comment #6 and the original comment, this bug appears to be a duplicate of bug 143757.
(In reply to comment #11)
&gt; Based on comment #6 and the original comment, this bug appears to be a
&gt; duplicate of bug 143757.

Looks like it is the same bug. Nice to have it fixed.</WithOutStack>
  </Bug>
  <Bug>
    <BugId amount="49193" />
    <CreationDate amount="2003-12-19 14:08:00 -0500" />
    <DupId amount="" />
    <classification amount="Eclipse Foundation" />
    <Product amount="z_Archived" />
    <component amount="Hyades" />
    <Version amount="unspecified" />
    <rep_platform amount="Other" />
    <op_sys amount="other" />
    <priority amount="P3" />
    <bug_severity amount="normal" />
    <Summery>No stack information if METHOD_COUNTS = FALSE on AS/400</Summery>
    <Patches amount="0" />
    <Stacktraces amount="0" />
    <SourceCodeRegions amount="0" />
    <Enumerations amount="0" />
    <bug_status amount="CLOSED" />
    <resolution amount="WORKSFORME" />
    <WithStack>This is running the AS/400 JVMPI profiler standlone. If we set METHOD_COUNTS = 
FALSE in the profile, no stack information (i.e. methodDef) will be produced 
regardless of the STACK_INFORMATION value.
If you were running on V5R2, I no longer see this problem. On V5R1 there are
larger issues with method data not being collected properly; for this, see bug 60519
house keeping
As of TPTP 4.6.0, TPTP is in maintenance mode and focusing on improving quality by resolving relevant enhancements/defects and increasing test coverage through test creation, automation, Build Verification Tests (BVTs), and expanded run-time execution. As part of the TPTP Bugzilla housecleaning process (see http://wiki.eclipse.org/Bugzilla_Housecleaning_Processes), this enhancement/defect is verified/closed by the Project Lead since this originator of this enhancement/defect has an inactive Bugzilla account and considered to be fixed. If this enhancement/defect is still unresolved and reproducible in the latest TPTP release (http://www.eclipse.org/tptp/home/downloads/), please re-open.</WithStack>
    <WithOutStack>This is running the AS/400 JVMPI profiler standlone. If we set METHOD_COUNTS = 
FALSE in the profile, no stack information (i.e. methodDef) will be produced 
regardless of the STACK_INFORMATION value.
If you were running on V5R2, I no longer see this problem. On V5R1 there are
larger issues with method data not being collected properly; for this, see bug 60519
house keeping
As of TPTP 4.6.0, TPTP is in maintenance mode and focusing on improving quality by resolving relevant enhancements/defects and increasing test coverage through test creation, automation, Build Verification Tests (BVTs), and expanded run-time execution. As part of the TPTP Bugzilla housecleaning process (see http://wiki.eclipse.org/Bugzilla_Housecleaning_Processes), this enhancement/defect is verified/closed by the Project Lead since this originator of this enhancement/defect has an inactive Bugzilla account and considered to be fixed. If this enhancement/defect is still unresolved and reproducible in the latest TPTP release (http://www.eclipse.org/tptp/home/downloads/), please re-open.</WithOutStack>
  </Bug>
  <Bug>
    <BugId amount="49194" />
    <CreationDate amount="2003-12-19 14:15:00 -0500" />
    <DupId amount="60519" />
    <classification amount="Eclipse Foundation" />
    <Product amount="z_Archived" />
    <component amount="Hyades" />
    <Version amount="unspecified" />
    <rep_platform amount="Other" />
    <op_sys amount="other" />
    <priority amount="P3" />
    <bug_severity amount="normal" />
    <Summery>No ticket attribute for TICKET = TRUE on AS/400 standalone profiling</Summery>
    <Patches amount="0" />
    <Stacktraces amount="0" />
    <SourceCodeRegions amount="0" />
    <Enumerations amount="0" />
    <bug_status amount="CLOSED" />
    <resolution amount="DUPLICATE" />
    <WithStack>I have specified TICKET = TRUE in the profile but the trace does not have any 
ticket attribute.
Ticket attributes are only displayed as part of method entry and exit events.
Likely you weren't seeing the ticket attributes because you weren't seeing any
method entry/exit events. I didn't have a problem getting method entry/exits on
V5R2, and hence was able to see the ticket attributes without problem. On V5R1 ,
there are issues in printing method entry/exit elements out -- see bug 60519. 

*** This bug has been marked as a duplicate of 60519 ***
house keeping
As of TPTP 4.6.0, TPTP is in maintenance mode and focusing on improving quality by resolving relevant enhancements/defects and increasing test coverage through test creation, automation, Build Verification Tests (BVTs), and expanded run-time execution. As part of the TPTP Bugzilla housecleaning process (see http://wiki.eclipse.org/Bugzilla_Housecleaning_Processes), this enhancement/defect is verified/closed by the Project Lead since this originator of this enhancement/defect has an inactive Bugzilla account and considered to be fixed. If this enhancement/defect is still unresolved and reproducible in the latest TPTP release (http://www.eclipse.org/tptp/home/downloads/), please re-open.</WithStack>
    <WithOutStack>I have specified TICKET = TRUE in the profile but the trace does not have any 
ticket attribute.
Ticket attributes are only displayed as part of method entry and exit events.
Likely you weren't seeing the ticket attributes because you weren't seeing any
method entry/exit events. I didn't have a problem getting method entry/exits on
V5R2, and hence was able to see the ticket attributes without problem. On V5R1 ,
there are issues in printing method entry/exit elements out -- see bug 60519. 

*** This bug has been marked as a duplicate of 60519 ***
house keeping
As of TPTP 4.6.0, TPTP is in maintenance mode and focusing on improving quality by resolving relevant enhancements/defects and increasing test coverage through test creation, automation, Build Verification Tests (BVTs), and expanded run-time execution. As part of the TPTP Bugzilla housecleaning process (see http://wiki.eclipse.org/Bugzilla_Housecleaning_Processes), this enhancement/defect is verified/closed by the Project Lead since this originator of this enhancement/defect has an inactive Bugzilla account and considered to be fixed. If this enhancement/defect is still unresolved and reproducible in the latest TPTP release (http://www.eclipse.org/tptp/home/downloads/), please re-open.</WithOutStack>
  </Bug>
  <Bug>
    <BugId amount="49195" />
    <CreationDate amount="2003-12-19 15:20:00 -0500" />
    <DupId amount="" />
    <classification amount="Tools" />
    <Product amount="GEF" />
    <component amount="GEF (MVC) [GEF 3.x / Zest 1.x]" />
    <Version amount="2.1.2" />
    <rep_platform amount="PC" />
    <op_sys amount="Windows XP" />
    <priority amount="P3" />
    <bug_severity amount="normal" />
    <Summery>DCR: New SelectionTool with support for panning</Summery>
    <Patches amount="0" />
    <Stacktraces amount="0" />
    <SourceCodeRegions amount="0" />
    <Enumerations amount="1">
      <Enumeration lines="7">
        <Lines>
          <Line>- When selection tool is in its initial state, if it receives the SPACE</Line>
          <Line>keydown, it will switch to a PAN state</Line>
          <Line>- While in the PAN (or PAN_IN_PROGRESS) state, a hand cursor will appear</Line>
          <Line>- If I mouse down in the pan state, I will transition to a PAN_IN_PROGRESS</Line>
          <Line>state which allows scrolling the viewport by pressing and dragging the mouse.</Line>
          <Line>- When leaving the state PAN_IN_PROGRESS, return to either the PAN state or</Line>
          <Line>the STATE_INITIAL based on whether the SPACE bar is still depressed.</Line>
        </Lines>
      </Enumeration>
    </Enumerations>
    <bug_status amount="RESOLVED" />
    <resolution amount="FIXED" />
    <WithStack>Create a new SelectionTool subclass.  I want it to behave exactly like the 
existing selection tool, with the following additions:

- When selection tool is in its initial state, if it receives the SPACE 
keydown, it will switch to a PAN state
- While in the PAN (or PAN_IN_PROGRESS) state, a hand cursor will appear
- If I mouse down in the pan state, I will transition to a PAN_IN_PROGRESS 
state which allows scrolling the viewport by pressing and dragging the mouse.
- When leaving the state PAN_IN_PROGRESS, return to either the PAN state or 
the STATE_INITIAL based on whether the SPACE bar is still depressed.

Use the obvious name choices for constants, not exactly what I've used.
Pratik to review changes before releasing.
Added PanningTool, PanningToolEntry.
LogicEditor uses PanningTool by default. Default EditDomain still uses 
SelectionTool.

Don't forget to set the target milestone.
One more change, when pressing CTRL+SPACE, the panning mode should not be 
activated.  CTRL+SPACE is accessibility method for toggling selection of 
focused part.
Classes have been renamed PanningSelectionTool &amp; PanningSelectionToolEntry. SWT
Bug probably not going to be fixed.</WithStack>
    <WithOutStack>Create a new SelectionTool subclass.  I want it to behave exactly like the 
existing selection tool, with the following additions:

- When selection tool is in its initial state, if it receives the SPACE 
keydown, it will switch to a PAN state
- While in the PAN (or PAN_IN_PROGRESS) state, a hand cursor will appear
- If I mouse down in the pan state, I will transition to a PAN_IN_PROGRESS 
state which allows scrolling the viewport by pressing and dragging the mouse.
- When leaving the state PAN_IN_PROGRESS, return to either the PAN state or 
the STATE_INITIAL based on whether the SPACE bar is still depressed.

Use the obvious name choices for constants, not exactly what I've used.
Pratik to review changes before releasing.
Added PanningTool, PanningToolEntry.
LogicEditor uses PanningTool by default. Default EditDomain still uses 
SelectionTool.

Don't forget to set the target milestone.
One more change, when pressing CTRL+SPACE, the panning mode should not be 
activated.  CTRL+SPACE is accessibility method for toggling selection of 
focused part.
Classes have been renamed PanningSelectionTool &amp; PanningSelectionToolEntry. SWT
Bug probably not going to be fixed.</WithOutStack>
  </Bug>
  <Bug>
    <BugId amount="49196" />
    <CreationDate amount="2003-12-19 16:18:00 -0500" />
    <DupId amount="" />
    <classification amount="Eclipse Foundation" />
    <Product amount="z_Archived" />
    <component amount="Hyades" />
    <Version amount="unspecified" />
    <rep_platform amount="PC" />
    <op_sys amount="Windows 2000" />
    <priority amount="P3" />
    <bug_severity amount="normal" />
    <Summery>Update the welcome page - correlation section</Summery>
    <Patches amount="0" />
    <Stacktraces amount="0" />
    <SourceCodeRegions amount="0" />
    <Enumerations amount="0" />
    <bug_status amount="CLOSED" />
    <resolution amount="FIXED" />
    <WithStack>Update the welcome page - correlation section
Zahra, can you please update the welcome.xml so it reflects the way 
correlations are created in the log navigator.
code was dropped to cvs on 01/09/2004
Closed.
house keeping</WithStack>
    <WithOutStack>Update the welcome page - correlation section
Zahra, can you please update the welcome.xml so it reflects the way 
correlations are created in the log navigator.
code was dropped to cvs on 01/09/2004
Closed.
house keeping</WithOutStack>
  </Bug>
  <Bug>
    <BugId amount="49197" />
    <CreationDate amount="2003-12-19 16:21:00 -0500" />
    <DupId amount="" />
    <classification amount="Eclipse Foundation" />
    <Product amount="z_Archived" />
    <component amount="Hyades" />
    <Version amount="unspecified" />
    <rep_platform amount="PC" />
    <op_sys amount="Windows 2000" />
    <priority amount="P3" />
    <bug_severity amount="critical" />
    <Summery>Can't set delta time on the hostname in the LogView anymore</Summery>
    <Patches amount="0" />
    <Stacktraces amount="0" />
    <SourceCodeRegions amount="0" />
    <Enumerations amount="0" />
    <bug_status amount="CLOSED" />
    <resolution amount="FIXED" />
    <WithStack>In the new Log view tree, hostname is no more a branch in the tree so it is now 
impossible to set delta time across host.
The filter options should be available in the Log Navigator
Fixed - 01/11/2004.
Closed
house keeping</WithStack>
    <WithOutStack>In the new Log view tree, hostname is no more a branch in the tree so it is now 
impossible to set delta time across host.
The filter options should be available in the Log Navigator
Fixed - 01/11/2004.
Closed
house keeping</WithOutStack>
  </Bug>
  <Bug>
    <BugId amount="49198" />
    <CreationDate amount="2003-12-19 16:21:00 -0500" />
    <DupId amount="" />
    <classification amount="Eclipse" />
    <Product amount="Platform" />
    <component amount="Debug" />
    <Version amount="3.0" />
    <rep_platform amount="All" />
    <op_sys amount="All" />
    <priority amount="P3" />
    <bug_severity amount="enhancement" />
    <Summery>[console] highlight/color found text in Console</Summery>
    <Patches amount="0" />
    <Stacktraces amount="0" />
    <SourceCodeRegions amount="0" />
    <Enumerations amount="0" />
    <bug_status amount="RESOLVED" />
    <resolution amount="WONTFIX" />
    <WithStack>For use in the Console (output) window:

Allow user to configure text strings or better yet, regular expressions, that 
when found, are highlighed or colored per a users configuration.  This list 
would be saved as part of the Preferences-&gt;Run/Debug-&gt;Console page.

Example:
Find           Color
-----------    -------------
Remote Call    Highlight blue
Exception      Highlight red
ERROR          Text red
Initializing   Text green
This sounds more like something the debug component would do. 
Currently deferred
Closing. The console supports a consolePatternMatchListeners extension point 
that allows regular experssions to add links to the console. Coloring is 
controlled by output streams.
So it sounds like the support is available internally, but from the end-user 
standpoint it not usable. 

E.g., an end-user can't configure in the Preferences-&gt;Run/Debug-&gt;Console 
colorization as described above.
Sorry, I thought the request was for infrastructure, rather than user prefs. 
Will re-open and mark as later again. Currently we don't have plans to do 
this, but patches are welcome.
Deferred
As of now 'LATER' and 'REMIND' resolutions are no longer supported.
Please reopen this bug if it is still valid for you.</WithStack>
    <WithOutStack>For use in the Console (output) window:

Allow user to configure text strings or better yet, regular expressions, that 
when found, are highlighed or colored per a users configuration.  This list 
would be saved as part of the Preferences-&gt;Run/Debug-&gt;Console page.

Example:
Find           Color
-----------    -------------
Remote Call    Highlight blue
Exception      Highlight red
ERROR          Text red
Initializing   Text green
This sounds more like something the debug component would do. 
Currently deferred
Closing. The console supports a consolePatternMatchListeners extension point 
that allows regular experssions to add links to the console. Coloring is 
controlled by output streams.
So it sounds like the support is available internally, but from the end-user 
standpoint it not usable. 

E.g., an end-user can't configure in the Preferences-&gt;Run/Debug-&gt;Console 
colorization as described above.
Sorry, I thought the request was for infrastructure, rather than user prefs. 
Will re-open and mark as later again. Currently we don't have plans to do 
this, but patches are welcome.
Deferred
As of now 'LATER' and 'REMIND' resolutions are no longer supported.
Please reopen this bug if it is still valid for you.</WithOutStack>
  </Bug>
  <Bug>
    <BugId amount="49199" />
    <CreationDate amount="2003-12-19 16:25:00 -0500" />
    <DupId amount="" />
    <classification amount="Eclipse Foundation" />
    <Product amount="z_Archived" />
    <component amount="Hyades" />
    <Version amount="unspecified" />
    <rep_platform amount="Other" />
    <op_sys amount="HP-UX" />
    <priority amount="P3" />
    <bug_severity amount="normal" />
    <Summery>HP-UX: socket communcation problem causes problems attaching to agents and importing logs</Summery>
    <Patches amount="0" />
    <Stacktraces amount="0" />
    <SourceCodeRegions amount="0" />
    <Enumerations amount="1">
      <Enumeration lines="11">
        <Lines>
          <Line>1. Launch (locally/remotely) StartStop.  Ensure "Boundary class included" box</Line>
          <Line>is NOT checked.</Line>
          <Line>2. Open the Method Statistics view after the entry prompt is displayed in the</Line>
          <Line>Profiling Console.  Refresh until no additional data is shown.</Line>
          <Line>3. Detach the agent</Line>
          <Line>4. Press enter in the profiling console.  Refresh the views and verify no</Line>
          <Line>additional data is shown.</Line>
          <Line>5. Attach the agent</Line>
          <Line>6. Press enter in the Profiling Console.</Line>
          <Line>7. Open the Execution Flow view and the method statistics view to verify that</Line>
          <Line>there is no call to methodA() but there is a call to methodB().</Line>
        </Lines>
      </Enumeration>
    </Enumerations>
    <bug_status amount="CLOSED" />
    <resolution amount="FIXED" />
    <WithStack>Profiling the StartStop class using the following testcase fails:

Instructions:
1. Launch (locally/remotely) StartStop.  Ensure "Boundary class included" box 
is NOT checked.
2. Open the Method Statistics view after the entry prompt is displayed in the 
Profiling Console.  Refresh until no additional data is shown.
3. Detach the agent
4. Press enter in the profiling console.  Refresh the views and verify no 
additional data is shown.
5. Attach the agent
6. Press enter in the Profiling Console. 
7. Open the Execution Flow view and the method statistics view to verify that 
there is no call to methodA() but there is a call to methodB().

The methodB() method is not shown in the new agent instance after reattaching.  
No data is collected after reattaching.

I was using the following JRE on HP-UX (olthp1 machine):

java version "1.3.1.10"
Java(TM) 2 Runtime Environment, Standard Edition (build 1.3.1.10-030630-10:50)
Java HotSpot(TM) Server VM (build 1.3.1 1.3.1.10-_30_jun_2003_11_52 PA2.0, 
mixed mode)
I reproduced this with HP JDK 1.4.2.02 however I don't believe it is JVM 
related.  I believe it is the same socket communication problem that I have 
experienced with importing logs from this HP machine.  The following message 
appear in the DCE servicelog.log when I start monitoring the app:

&lt;SERVER_MSG time="2004:4:22:12:58:47" severity="INFORMATION" text="Connecting 
to client on port 1494"/&gt;
&lt;SERVER_MSG time="2004:4:22:12:58:52" severity="INFORMATION" text="Connected to 
client with socket 41"/&gt;
&lt;SERVER_MSG time="2004:4:22:12:58:52" severity="SEVERE" text="Connected to 
client failed with error major=53 minor=4"/&gt;

The RAC is trying to connect to the client TCP Data Server for
 the data channel but the socket connect call fails with the
 "Interrupted system call" errno.

I debugged this problem on the client side and found that the
 socket accept call in TCPDataProcessor.run() succeeded even
 though the connect call in the RAC failed with EINTR errno.
  Here is what the HP documentation for connect() said about
 this errno:

The connect was interrupted by a signal before the connect sequence
 was complete. The building of the connection still takes place,
 even though the user is not blocked on the connect() call.

I tried changing ra_connectToTCPServer()   in RASocket.c in the
 RAC to continue if connect failed with EINTR but that didn't
 help.  The flusher thread ended because the data could not be
 written to the socket.


I confirmed that if the EINTR error is ignored on the RAC side, the send() call 
to send data on the socket fails with ENOTCONN which means "Socket is not 
connected".

The client side of the socket is in a "connected" state but the RAC side of the 
socket is in a "not connected" state.

I found a fix for this problem.  I changed ra_connectToTCPServer() in 
RASocket.c in the RAC so that if the connect call fails with EINTR it tries to 
call connect again in a loop until it either succeeds or fails with a different 
error.  I have tested this fix and it appears to work.  I'll add a loop counter 
so that it won't loop forever.

*** Bug 60139 has been marked as a duplicate of this bug. ***
Committed changes to RASocket.c and RACommS.c to Head.  RACommS.c changes fix 
60139
As of TPTP 4.6.0, TPTP is in maintenance mode and focusing on improving quality by resolving relevant enhancements/defects and increasing test coverage through test creation, automation, Build Verification Tests (BVTs), and expanded run-time execution. As part of the TPTP Bugzilla housecleaning process (see http://wiki.eclipse.org/Bugzilla_Housecleaning_Processes), this enhancement/defect is verified/closed by the Project Lead since this originator of this enhancement/defect has an inactive Bugzilla account and considered to be fixed. If this enhancement/defect is still unresolved and reproducible in the latest TPTP release (http://www.eclipse.org/tptp/home/downloads/), please re-open.</WithStack>
    <WithOutStack>Profiling the StartStop class using the following testcase fails:

Instructions:
1. Launch (locally/remotely) StartStop.  Ensure "Boundary class included" box 
is NOT checked.
2. Open the Method Statistics view after the entry prompt is displayed in the 
Profiling Console.  Refresh until no additional data is shown.
3. Detach the agent
4. Press enter in the profiling console.  Refresh the views and verify no 
additional data is shown.
5. Attach the agent
6. Press enter in the Profiling Console. 
7. Open the Execution Flow view and the method statistics view to verify that 
there is no call to methodA() but there is a call to methodB().

The methodB() method is not shown in the new agent instance after reattaching.  
No data is collected after reattaching.

I was using the following JRE on HP-UX (olthp1 machine):

java version "1.3.1.10"
Java(TM) 2 Runtime Environment, Standard Edition (build 1.3.1.10-030630-10:50)
Java HotSpot(TM) Server VM (build 1.3.1 1.3.1.10-_30_jun_2003_11_52 PA2.0, 
mixed mode)
I reproduced this with HP JDK 1.4.2.02 however I don't believe it is JVM 
related.  I believe it is the same socket communication problem that I have 
experienced with importing logs from this HP machine.  The following message 
appear in the DCE servicelog.log when I start monitoring the app:

&lt;SERVER_MSG time="2004:4:22:12:58:47" severity="INFORMATION" text="Connecting 
to client on port 1494"/&gt;
&lt;SERVER_MSG time="2004:4:22:12:58:52" severity="INFORMATION" text="Connected to 
client with socket 41"/&gt;
&lt;SERVER_MSG time="2004:4:22:12:58:52" severity="SEVERE" text="Connected to 
client failed with error major=53 minor=4"/&gt;

The RAC is trying to connect to the client TCP Data Server for
 the data channel but the socket connect call fails with the
 "Interrupted system call" errno.

I debugged this problem on the client side and found that the
 socket accept call in TCPDataProcessor.run() succeeded even
 though the connect call in the RAC failed with EINTR errno.
  Here is what the HP documentation for connect() said about
 this errno:

The connect was interrupted by a signal before the connect sequence
 was complete. The building of the connection still takes place,
 even though the user is not blocked on the connect() call.

I tried changing ra_connectToTCPServer()   in RASocket.c in the
 RAC to continue if connect failed with EINTR but that didn't
 help.  The flusher thread ended because the data could not be
 written to the socket.


I confirmed that if the EINTR error is ignored on the RAC side, the send() call 
to send data on the socket fails with ENOTCONN which means "Socket is not 
connected".

The client side of the socket is in a "connected" state but the RAC side of the 
socket is in a "not connected" state.

I found a fix for this problem.  I changed ra_connectToTCPServer() in 
RASocket.c in the RAC so that if the connect call fails with EINTR it tries to 
call connect again in a loop until it either succeeds or fails with a different 
error.  I have tested this fix and it appears to work.  I'll add a loop counter 
so that it won't loop forever.

*** Bug 60139 has been marked as a duplicate of this bug. ***
Committed changes to RASocket.c and RACommS.c to Head.  RACommS.c changes fix 
60139
As of TPTP 4.6.0, TPTP is in maintenance mode and focusing on improving quality by resolving relevant enhancements/defects and increasing test coverage through test creation, automation, Build Verification Tests (BVTs), and expanded run-time execution. As part of the TPTP Bugzilla housecleaning process (see http://wiki.eclipse.org/Bugzilla_Housecleaning_Processes), this enhancement/defect is verified/closed by the Project Lead since this originator of this enhancement/defect has an inactive Bugzilla account and considered to be fixed. If this enhancement/defect is still unresolved and reproducible in the latest TPTP release (http://www.eclipse.org/tptp/home/downloads/), please re-open.</WithOutStack>
  </Bug>
  <Bug>
    <BugId amount="49200" />
    <CreationDate amount="2003-12-19 16:46:00 -0500" />
    <DupId amount="" />
    <classification amount="Eclipse Foundation" />
    <Product amount="z_Archived" />
    <component amount="Hyades" />
    <Version amount="unspecified" />
    <rep_platform amount="PC" />
    <op_sys amount="Windows XP" />
    <priority amount="P3" />
    <bug_severity amount="minor" />
    <Summery>Generating test after modifying testsuite requires an explicit save</Summery>
    <Patches amount="0" />
    <Stacktraces amount="0" />
    <SourceCodeRegions amount="0" />
    <Enumerations amount="0" />
    <bug_status amount="CLOSED" />
    <resolution amount="WORKSFORME" />
    <WithStack>Generating test after modifying testsuite requires an explicit save.  Without 
saving the generated test does not reflect the changes.  There is no prompt 
for saving.
It's not clear what the problem is from the description.  It's not even clear
whether the problem is still valid.  Since it's the word test in it, I'm
assigning it to you, Joe.  :)
This appears to have been fixed in 1.2
Closing...</WithStack>
    <WithOutStack>Generating test after modifying testsuite requires an explicit save.  Without 
saving the generated test does not reflect the changes.  There is no prompt 
for saving.
It's not clear what the problem is from the description.  It's not even clear
whether the problem is still valid.  Since it's the word test in it, I'm
assigning it to you, Joe.  :)
This appears to have been fixed in 1.2
Closing...</WithOutStack>
  </Bug>
</infozilla-output>

