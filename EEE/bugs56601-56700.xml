<?xml version="1.0" encoding="UTF-8"?>
<infozilla-output>
  <Bug>
    <BugId amount="56601" />
    <CreationDate amount="2004-03-29 11:43:00 -0500" />
    <DupId amount="" />
    <classification amount="RT" />
    <Product amount="Equinox" />
    <component amount="Incubator" />
    <Version amount="unspecified" />
    <rep_platform amount="PC" />
    <op_sys amount="Windows 2000" />
    <priority amount="P3" />
    <bug_severity amount="blocker" />
    <Summery>cannot start M8 on java commandline (AIOOBE) (only eclipse.exe works)</Summery>
    <Patches amount="0" />
    <Stacktraces amount="3">
      <Stacktrace timestamp="1437341104057">
        <Exception>java.lang.NullPointerException</Exception>
        <Reason />
        <Frames>
          <Frame depth="0">org.eclipse.core.launcher.Main.openLogFile(Main.java:1495)</Frame>
          <Frame depth="1">org.eclipse.core.launcher.Main.log(Main.java:1356)</Frame>
          <Frame depth="2">org.eclipse.core.launcher.Main.run(Main.java:705)</Frame>
          <Frame depth="3">org.eclipse.core.launcher.Main.main(Main.java:676)</Frame>
        </Frames>
      </Stacktrace>
      <Stacktrace timestamp="1437341104057">
        <Exception>java.lang.NullPointerException</Exception>
        <Reason />
        <Frames>
          <Frame depth="0">org.eclipse.core.launcher.Main.openLogFile(Main.java:1495)</Frame>
          <Frame depth="1">org.eclipse.core.launcher.Main.log(Main.java:1356)</Frame>
          <Frame depth="2">org.eclipse.core.launcher.Main.run(Main.java:706)</Frame>
          <Frame depth="3">org.eclipse.core.launcher.Main.main(Main.java:676)</Frame>
        </Frames>
      </Stacktrace>
      <Stacktrace timestamp="1437341104057">
        <Exception>java.lang.ArrayIndexOutOfBoundsException</Exception>
        <Reason>-2</Reason>
        <Frames>
          <Frame depth="0">org.eclipse.core.launcher.Main.processCommandLine(Main.java:746)</Frame>
          <Frame depth="1">org.eclipse.core.launcher.Main.basicRun(Main.java:247)</Frame>
          <Frame depth="2">org.eclipse.core.launcher.Main.run(Main.java:692)</Frame>
          <Frame depth="3">org.eclipse.core.launcher.Main.main(Main.java:676)</Frame>
        </Frames>
      </Stacktrace>
    </Stacktraces>
    <SourceCodeRegions amount="0" />
    <Enumerations amount="0" />
    <bug_status amount="RESOLVED" />
    <resolution amount="FIXED" />
    <WithStack>Cannot start M8 with java commandline.
There is no help on command line args at:
http://dev.eclipse.org:8080/help/content/help:/org.eclipse.platform.doc.user/tasks/running_eclipse.htm
(link from
http://download.eclipse.org/downloads/drops/S-3.0M8-200403261517/srcIncludedBuildInstructions.html)


I just unzipped the m8 and copied my workspace folder, as I always did before.

Launching (with or without the "org.eclipse.ui" last argument):

C:\java\eclipse_3.0_m8&gt;C:\java\jdk14\bin\java.exe -showversion   -verbosegc
-XX:+UseConcMarkSweepGC -XX:+UseParNewGC -XX:+CMSParallelRemarkEnabled
-XX:+UseCMSCompactAtFullCollection -cp C:\java\eclipse_3.0_m8\startup.jar
org.eclipse.core.launcher.Main


I get:

java version "1.4.2_03"
Java(TM) 2 Runtime Environment, Standard Edition (build 1.4.2_03-b02)
Java HotSpot(TM) Client VM (build 1.4.2_03-b02, mixed mode)

An exception occurred while writing to the platform log:
java.lang.NullPointerException
        at org.eclipse.core.launcher.Main.openLogFile(Main.java:1495)
        at org.eclipse.core.launcher.Main.log(Main.java:1356)
        at org.eclipse.core.launcher.Main.run(Main.java:705)
        at org.eclipse.core.launcher.Main.main(Main.java:676)
Logging to the console instead.
!ENTRY org.eclipse.core.launcher 4 0 Mar 29, 2004 11:18:02.283
!MESSAGE Exception launching the Eclipse Platform:
An exception occurred while writing to the platform log:
java.lang.NullPointerException
        at org.eclipse.core.launcher.Main.openLogFile(Main.java:1495)
        at org.eclipse.core.launcher.Main.log(Main.java:1356)
        at org.eclipse.core.launcher.Main.run(Main.java:706)
        at org.eclipse.core.launcher.Main.main(Main.java:676)
Logging to the console instead.
!STACK
java.lang.ArrayIndexOutOfBoundsException: -2
        at org.eclipse.core.launcher.Main.processCommandLine(Main.java:746)
        at org.eclipse.core.launcher.Main.basicRun(Main.java:247)
        at org.eclipse.core.launcher.Main.run(Main.java:692)
        at org.eclipse.core.launcher.Main.main(Main.java:676)
The correct URL for the online doc is available of eclipse.org home page. The
document you mentioned is outdated (opened bug 56618).

It seems Main is expecting at least two arguments, otherwise it fails.

The workaround (so you can run)is to ensure that at least two arguments are
passed to Main.
John released a fix to Main. This should to go into tomorrow's integration build.
See comment 2 above.
*** Bug 56986 has been marked as a duplicate of this bug. ***
There is some code later on that assumes we have at least one argument in the
command line... reopening...
Created attachment 10009
patch for org.eclipse.platform
Jeff, the patch just restores old code (rev. 1.42) that ensures configArgs was
big enough (100), as it is being done on EclipseStarter as well.

InternalPlatform in the other hand just returns, I guess it is because there is
really nothing else to be done. In EclipseStarter and Main, there is some code
in the end of the method that should be run even if no args where passed.
I applied the patch but in the end this hsould not be needed.  The root cause 
is bug 55393 which is forcing us to have a workaround.  The workaround is only 
needed in certain cases involving PDE but is not a problem when running from 
Eclipse.exe.  If you happen to run using java.exe and not spec any command line 
args you are unhappy.

Leaving open pending resolution of bug 55393.  The we will remove the 
workaround and update the array creation to be more robust.
The blocking part of bug 55393 has been fixed.  I updated Main and 
EclipseStarter to use args.length rather than a hardcoded 100.  The processing 
at the end of Main.processCommandLine() does not appear to do anything 
interesting in the args.length == 0 case.

The processing at the end of EclipseStarter.processCommandLine() is interesting 
so I just copied the two interesting lines up and put them inside an if 
(args.length == 0) which then returns.</WithStack>
    <WithOutStack>Cannot start M8 with java commandline.
There is no help on command line args at:
http://dev.eclipse.org:8080/help/content/help:/org.eclipse.platform.doc.user/tasks/running_eclipse.htm
(link from
http://download.eclipse.org/downloads/drops/S-3.0M8-200403261517/srcIncludedBuildInstructions.html)


I just unzipped the m8 and copied my workspace folder, as I always did before.

Launching (with or without the "org.eclipse.ui" last argument):

C:\java\eclipse_3.0_m8&gt;C:\java\jdk14\bin\java.exe -showversion   -verbosegc
-XX:+UseConcMarkSweepGC -XX:+UseParNewGC -XX:+CMSParallelRemarkEnabled
-XX:+UseCMSCompactAtFullCollection -cp C:\java\eclipse_3.0_m8\startup.jar
org.eclipse.core.launcher.Main


I get:

java version "1.4.2_03"
Java(TM) 2 Runtime Environment, Standard Edition (build 1.4.2_03-b02)
Java HotSpot(TM) Client VM (build 1.4.2_03-b02, mixed mode)

An exception occurred while writing to the platform log:

Logging to the console instead.
!ENTRY org.eclipse.core.launcher 4 0 Mar 29, 2004 11:18:02.283
!MESSAGE Exception launching the Eclipse Platform:
An exception occurred while writing to the platform log:

Logging to the console instead.
!STACK

The correct URL for the online doc is available of eclipse.org home page. The
document you mentioned is outdated (opened bug 56618).

It seems Main is expecting at least two arguments, otherwise it fails.

The workaround (so you can run)is to ensure that at least two arguments are
passed to Main.
John released a fix to Main. This should to go into tomorrow's integration build.
See comment 2 above.
*** Bug 56986 has been marked as a duplicate of this bug. ***
There is some code later on that assumes we have at least one argument in the
command line... reopening...
Created attachment 10009
patch for org.eclipse.platform
Jeff, the patch just restores old code (rev. 1.42) that ensures configArgs was
big enough (100), as it is being done on EclipseStarter as well.

InternalPlatform in the other hand just returns, I guess it is because there is
really nothing else to be done. In EclipseStarter and Main, there is some code
in the end of the method that should be run even if no args where passed.
I applied the patch but in the end this hsould not be needed.  The root cause 
is bug 55393 which is forcing us to have a workaround.  The workaround is only 
needed in certain cases involving PDE but is not a problem when running from 
Eclipse.exe.  If you happen to run using java.exe and not spec any command line 
args you are unhappy.

Leaving open pending resolution of bug 55393.  The we will remove the 
workaround and update the array creation to be more robust.
The blocking part of bug 55393 has been fixed.  I updated Main and 
EclipseStarter to use args.length rather than a hardcoded 100.  The processing 
at the end of Main.processCommandLine() does not appear to do anything 
interesting in the args.length == 0 case.

The processing at the end of EclipseStarter.processCommandLine() is interesting 
so I just copied the two interesting lines up and put them inside an if 
(args.length == 0) which then returns.</WithOutStack>
  </Bug>
  <Bug>
    <BugId amount="56602" />
    <CreationDate amount="2004-03-29 11:45:00 -0500" />
    <DupId amount="42002" />
    <classification amount="Eclipse" />
    <Product amount="Platform" />
    <component amount="UI" />
    <Version amount="3.0" />
    <rep_platform amount="PC" />
    <op_sys amount="Windows XP" />
    <priority amount="P4" />
    <bug_severity amount="normal" />
    <Summery>[Preferences] Local History preference page fields do not honour dialog font</Summery>
    <Patches amount="0" />
    <Stacktraces amount="0" />
    <SourceCodeRegions amount="0" />
    <Enumerations amount="0" />
    <bug_status amount="RESOLVED" />
    <resolution amount="DUPLICATE" />
    <WithStack>M8 

The top three fields in the Local History preference page do not apply the dialog 
font.


*** This bug has been marked as a duplicate of 42002 ***</WithStack>
    <WithOutStack>M8 

The top three fields in the Local History preference page do not apply the dialog 
font.


*** This bug has been marked as a duplicate of 42002 ***</WithOutStack>
  </Bug>
  <Bug>
    <BugId amount="56603" />
    <CreationDate amount="2004-03-29 11:47:00 -0500" />
    <DupId amount="" />
    <classification amount="Eclipse" />
    <Product amount="Platform" />
    <component amount="UI" />
    <Version amount="3.0" />
    <rep_platform amount="PC" />
    <op_sys amount="Linux" />
    <priority amount="P2" />
    <bug_severity amount="normal" />
    <Summery>[EditorMgmt] Close of an editor should take you to last viewed editor</Summery>
    <Patches amount="0" />
    <Stacktraces amount="0" />
    <SourceCodeRegions amount="0" />
    <Enumerations amount="0" />
    <bug_status amount="VERIFIED" />
    <resolution amount="FIXED" />
    <WithStack>If I'm editing some file, say Foo.java, and use F3 to go to an editor, Bar.java,
for some declaration used within Foo, if I then close that new editor by
clicking on the X, I end up going to the editor previous to Bar.java in the
editor ordering rather than going back to the last editor I had opened (MRU
ordering from Next/Previous editor).  This is very disorienting for someone used
to using Next/Previous editor (Ctrl-(Shift)-F6) very frequently.

This is on eclipse 3.0M8 on fedora core 1
*** Bug 56609 has been marked as a duplicate of this bug. ***
*** Bug 57913 has been marked as a duplicate of this bug. ***
Still a big pain. I lose mental context whenever I close a file.
Could this regression please be considered for M9?
*** Bug 58382 has been marked as a duplicate of this bug. ***
nick would you be able to look at this?
Sure.  Still a problem in I20040407.

*** Bug 60842 has been marked as a duplicate of this bug. ***
The CTabFolder was selecting the previous tab in its order when removing a 
certain tab. This was causing the previous tab to be added to the activation 
list and so being selected as the next most recently activated tab.

This is fixed by ignoring selection changes triggered by a removal as 
mentionned in the fix for bug 56816 (commment #15).
*** Bug 59271 has been marked as a duplicate of this bug. ***</WithStack>
    <WithOutStack>If I'm editing some file, say Foo.java, and use F3 to go to an editor, Bar.java,
for some declaration used within Foo, if I then close that new editor by
clicking on the X, I end up going to the editor previous to Bar.java in the
editor ordering rather than going back to the last editor I had opened (MRU
ordering from Next/Previous editor).  This is very disorienting for someone used
to using Next/Previous editor (Ctrl-(Shift)-F6) very frequently.

This is on eclipse 3.0M8 on fedora core 1
*** Bug 56609 has been marked as a duplicate of this bug. ***
*** Bug 57913 has been marked as a duplicate of this bug. ***
Still a big pain. I lose mental context whenever I close a file.
Could this regression please be considered for M9?
*** Bug 58382 has been marked as a duplicate of this bug. ***
nick would you be able to look at this?
Sure.  Still a problem in I20040407.

*** Bug 60842 has been marked as a duplicate of this bug. ***
The CTabFolder was selecting the previous tab in its order when removing a 
certain tab. This was causing the previous tab to be added to the activation 
list and so being selected as the next most recently activated tab.

This is fixed by ignoring selection changes triggered by a removal as 
mentionned in the fix for bug 56816 (commment #15).
*** Bug 59271 has been marked as a duplicate of this bug. ***</WithOutStack>
  </Bug>
  <Bug>
    <BugId amount="56604" />
    <CreationDate amount="2004-03-29 11:54:00 -0500" />
    <DupId amount="56515" />
    <classification amount="Eclipse" />
    <Product amount="Platform" />
    <component amount="UI" />
    <Version amount="3.0" />
    <rep_platform amount="PC" />
    <op_sys amount="Windows XP" />
    <priority amount="P3" />
    <bug_severity amount="normal" />
    <Summery>Min and Max View icons do not have hover help.</Summery>
    <Patches amount="0" />
    <Stacktraces amount="0" />
    <SourceCodeRegions amount="0" />
    <Enumerations amount="0" />
    <bug_status amount="RESOLVED" />
    <resolution amount="DUPLICATE" />
    <WithStack>Version 3.0.m8.
The Min and Max View icons do not have hover help. All of the icons in the same
toolbar do provide hover help, for example "Refresh View".


*** This bug has been marked as a duplicate of 56515 ***</WithStack>
    <WithOutStack>Version 3.0.m8.
The Min and Max View icons do not have hover help. All of the icons in the same
toolbar do provide hover help, for example "Refresh View".


*** This bug has been marked as a duplicate of 56515 ***</WithOutStack>
  </Bug>
  <Bug>
    <BugId amount="56605" />
    <CreationDate amount="2004-03-29 11:55:00 -0500" />
    <DupId amount="" />
    <classification amount="Eclipse" />
    <Product amount="Platform" />
    <component amount="UI" />
    <Version amount="3.0" />
    <rep_platform amount="PC" />
    <op_sys amount="Windows XP" />
    <priority amount="P3" />
    <bug_severity amount="normal" />
    <Summery>[EditorMgmt] Ctrl-e does not work when multiple editors are displayed</Summery>
    <Patches amount="0" />
    <Stacktraces amount="0" />
    <SourceCodeRegions amount="0" />
    <Enumerations amount="0" />
    <bug_status amount="RESOLVED" />
    <resolution amount="FIXED" />
    <WithStack>In M8

As soon as you tile the editor area ctrl-e no longer works.
fixed in r3.0</WithStack>
    <WithOutStack>In M8

As soon as you tile the editor area ctrl-e no longer works.
fixed in r3.0</WithOutStack>
  </Bug>
  <Bug>
    <BugId amount="56606" />
    <CreationDate amount="2004-03-29 11:58:00 -0500" />
    <DupId amount="" />
    <classification amount="Eclipse" />
    <Product amount="Platform" />
    <component amount="UI" />
    <Version amount="3.0" />
    <rep_platform amount="PC" />
    <op_sys amount="Windows XP" />
    <priority amount="P3" />
    <bug_severity amount="normal" />
    <Summery>[Workbench] Resource toggle button bar does not follow UI rule for square vs. other tab style.</Summery>
    <Patches amount="0" />
    <Stacktraces amount="0" />
    <SourceCodeRegions amount="0" />
    <Enumerations amount="0" />
    <bug_status amount="RESOLVED" />
    <resolution amount="FIXED" />
    <WithStack>Version 3.0.m8.
I use the "square" tab look (the more XP-like one) but the resource perspective
toggle button area does not follow this UI rule and uses the slopped style. I
think this style should apply here. My personal preferences is to match the OS
as best possible as I am not found of any of the new roundy stuff. Otherwise,
eclipse rocks...
closing.  I think this is fixed in r3.0 although I am not 100% clear on what 
you are reporting but it sounds like the curve left of the perspective 
switcher buttons.
Indeed, fixed in 3.0. :-)</WithStack>
    <WithOutStack>Version 3.0.m8.
I use the "square" tab look (the more XP-like one) but the resource perspective
toggle button area does not follow this UI rule and uses the slopped style. I
think this style should apply here. My personal preferences is to match the OS
as best possible as I am not found of any of the new roundy stuff. Otherwise,
eclipse rocks...
closing.  I think this is fixed in r3.0 although I am not 100% clear on what 
you are reporting but it sounds like the curve left of the perspective 
switcher buttons.
Indeed, fixed in 3.0. :-)</WithOutStack>
  </Bug>
  <Bug>
    <BugId amount="56607" />
    <CreationDate amount="2004-03-29 12:01:00 -0500" />
    <DupId amount="" />
    <classification amount="Eclipse" />
    <Product amount="PDE" />
    <component amount="UI" />
    <Version amount="3.0" />
    <rep_platform amount="PC" />
    <op_sys amount="Windows XP" />
    <priority amount="P3" />
    <bug_severity amount="normal" />
    <Summery>StackOverflow after changing target platform</Summery>
    <Patches amount="0" />
    <Stacktraces amount="0" />
    <SourceCodeRegions amount="1">
      <source_code type="functiondef">
        <location start="855" end="1180" />
        <code>private PluginConverter acquirePluginConverter() throws Exception {
		ServiceTracker tracker = new ServiceTracker(
                     PDECore.getDefault()
				.getBundleContext(), 
                                PluginConverter.class.getName(), null);
		tracker.open();
		return (PluginConverter) tracker.getService();
	}</code>
      </source_code>
    </SourceCodeRegions>
    <Enumerations amount="0" />
    <bug_status amount="RESOLVED" />
    <resolution amount="FIXED" />
    <WithStack>Eclipse 3.0 M8

It could be a PDE problem but since the stack was incomplete I'm logging it 
here (will attach the .log file). Basically what I've done was to import a few 
existing projects into the workspace and then went to Window-&gt;Prefererences-
&gt;Plug-in Development-&gt;Target Platform and changed the location. Pressed "Not 
in Workspace" and than OK. Got the exception and a dialog asking if I wanted 
to exit the workspace. I've said NO, repeated the operation and it worked this 
time.
Created attachment 8980
log file
How many plugins did you have in your target platform you were trying to load?
Only 1751 plugins and fragments. Plus 10 plugins in my workspace.
This situation occurs because a huge number of service listeners are being 
registered by the PDE bundle.  PDE uses ServiceTracker to obtain some services 
from runtime.

In PDEState:

	private PluginConverter acquirePluginConverter() throws Exception {
		ServiceTracker tracker = new ServiceTracker(
                     PDECore.getDefault()
				.getBundleContext(), 
                                PluginConverter.class.getName(), null);
		tracker.open();
		return (PluginConverter) tracker.getService();
	}

This code is creating a ServiceTracker for the PluginConverter on each call.  
This is not very efficient, but what makes it worse is that it open() the 
tracker but does not close() it, so the listener for the tracker is left 
registered until PDE is stopped.

This causes large numbers of listeners to be registered with the Framework 
which will eventually cause a StackOverflowError.

The method NewProjectCreationOperation.convertToOSGIFormat() has the same 
problem.
Additional info:  The ServiceTracker should unregister its ServiceListener 
when it is GC'ed.  But in this case things are happening so quickly that poor 
GC can not keep up.  This may also explain why it worked the second time, 
because GC would have had a chance to clean up the ServiceTrackers.
moving to PDE
Well, this one is certainly a big mess.
Will fix right away.
Fixed.
A single converter in PDEState gets reused for all the plug-ins.
We now also explicitly close the service tracker in PDEState and 
NewProjectCreationOperation.</WithStack>
    <WithOutStack>Eclipse 3.0 M8

It could be a PDE problem but since the stack was incomplete I'm logging it 
here (will attach the .log file). Basically what I've done was to import a few 
existing projects into the workspace and then went to Window-&gt;Prefererences-
&gt;Plug-in Development-&gt;Target Platform and changed the location. Pressed "Not 
in Workspace" and than OK. Got the exception and a dialog asking if I wanted 
to exit the workspace. I've said NO, repeated the operation and it worked this 
time.
Created attachment 8980
log file
How many plugins did you have in your target platform you were trying to load?
Only 1751 plugins and fragments. Plus 10 plugins in my workspace.
This situation occurs because a huge number of service listeners are being 
registered by the PDE bundle.  PDE uses ServiceTracker to obtain some services 
from runtime.

In PDEState:

	private PluginConverter acquirePluginConverter() throws Exception {
		ServiceTracker tracker = new ServiceTracker(
                     PDECore.getDefault()
				.getBundleContext(), 
                                PluginConverter.class.getName(), null);
		tracker.open();
		return (PluginConverter) tracker.getService();
	}

This code is creating a ServiceTracker for the PluginConverter on each call.  
This is not very efficient, but what makes it worse is that it open() the 
tracker but does not close() it, so the listener for the tracker is left 
registered until PDE is stopped.

This causes large numbers of listeners to be registered with the Framework 
which will eventually cause a StackOverflowError.

The method NewProjectCreationOperation.convertToOSGIFormat() has the same 
problem.
Additional info:  The ServiceTracker should unregister its ServiceListener 
when it is GC'ed.  But in this case things are happening so quickly that poor 
GC can not keep up.  This may also explain why it worked the second time, 
because GC would have had a chance to clean up the ServiceTrackers.
moving to PDE
Well, this one is certainly a big mess.
Will fix right away.
Fixed.
A single converter in PDEState gets reused for all the plug-ins.
We now also explicitly close the service tracker in PDEState and 
NewProjectCreationOperation.</WithOutStack>
  </Bug>
  <Bug>
    <BugId amount="56608" />
    <CreationDate amount="2004-03-29 12:02:00 -0500" />
    <DupId amount="" />
    <classification amount="Tools" />
    <Product amount="CDT" />
    <component amount="cdt-core" />
    <Version amount="2.0" />
    <rep_platform amount="PC" />
    <op_sys amount="Linux" />
    <priority amount="P3" />
    <bug_severity amount="major" />
    <Summery>Can't save anything....</Summery>
    <Patches amount="0" />
    <Stacktraces amount="1">
      <Stacktrace timestamp="1437341104066">
        <Exception>java.lang.IllegalArgumentException</Exception>
        <Reason>Attempted to beginRule: R/, does not match
outer scope rule: L/rkn2004/lwip/src/netif/etharp.c</Reason>
        <Frames>
          <Frame depth="0">org.eclipse.core.internal.runtime.Assert.isLegal(Assert.java:56)</Frame>
          <Frame depth="1">org.eclipse.core.internal.jobs.ImplicitJobs$ThreadJob.illegalPush(ImplicitJobs.java:86)</Frame>
          <Frame depth="2">org.eclipse.core.internal.jobs.ImplicitJobs$ThreadJob.push(ImplicitJobs.java:167)</Frame>
          <Frame depth="3">org.eclipse.core.internal.jobs.ImplicitJobs.begin(ImplicitJobs.java:241)</Frame>
          <Frame depth="4">org.eclipse.core.internal.jobs.JobManager.beginRule(JobManager.java:149)</Frame>
          <Frame depth="5">org.eclipse.core.internal.resources.WorkManager.checkIn(WorkManager.java:88)</Frame>
          <Frame depth="6">org.eclipse.core.internal.resources.Workspace.prepareOperation(Workspace.java:1521)</Frame>
          <Frame depth="7">org.eclipse.core.internal.resources.Workspace.run(Workspace.java:1554)</Frame>
          <Frame depth="8">org.eclipse.core.internal.resources.Workspace.run(Workspace.java:1578)</Frame>
          <Frame depth="9">org.eclipse.cdt.internal.core.model.CModelManager.runOperation(CModelManager.java:751)</Frame>
          <Frame depth="10">org.eclipse.cdt.internal.core.model.CElement.runOperation(CElement.java:263)</Frame>
          <Frame depth="11">org.eclipse.cdt.internal.core.model.WorkingCopy.commit(WorkingCopy.java:76)</Frame>
          <Frame depth="12">org.eclipse.cdt.internal.ui.editor.CDocumentProvider.doSaveDocument(CDocumentProvider.java:290)</Frame>
          <Frame depth="13">org.eclipse.ui.texteditor.AbstractDocumentProvider$1$SaveOperation.execute(AbstractDocumentProvider.java:601)</Frame>
          <Frame depth="14">org.eclipse.ui.texteditor.AbstractDocumentProvider$DocumentProviderOperation.run(AbstractDocumentProvider.java:72)</Frame>
          <Frame depth="15">org.eclipse.ui.actions.WorkspaceModifyDelegatingOperation.execute(WorkspaceModifyDelegatingOperation.java:67)</Frame>
          <Frame depth="16">org.eclipse.ui.actions.WorkspaceModifyOperation$1.run(WorkspaceModifyOperation.java:91)</Frame>
          <Frame depth="17">org.eclipse.core.internal.resources.Workspace.run(Workspace.java:1559)</Frame>
          <Frame depth="18">org.eclipse.ui.actions.WorkspaceModifyOperation.run(WorkspaceModifyOperation.java:105)</Frame>
          <Frame depth="19">org.eclipse.ui.editors.text.WorkspaceOperationRunner.run(WorkspaceOperationRunner.java:73)</Frame>
          <Frame depth="20">org.eclipse.ui.editors.text.WorkspaceOperationRunner.run(WorkspaceOperationRunner.java:63)</Frame>
          <Frame depth="21">org.eclipse.ui.texteditor.AbstractDocumentProvider.executeOperation(AbstractDocumentProvider.java:545)</Frame>
          <Frame depth="22">org.eclipse.ui.texteditor.AbstractDocumentProvider.saveDocument(AbstractDocumentProvider.java:620)</Frame>
          <Frame depth="23">org.eclipse.ui.texteditor.AbstractTextEditor.performSave(AbstractTextEditor.java:3136)</Frame>
          <Frame depth="24">org.eclipse.ui.texteditor.AbstractTextEditor.doSave(AbstractTextEditor.java:2931)</Frame>
          <Frame depth="25">org.eclipse.ui.internal.EditorManager$10.run(EditorManager.java:982)</Frame>
          <Frame depth="26">org.eclipse.ui.internal.EditorManager$8.run(EditorManager.java:837)</Frame>
          <Frame depth="27">org.eclipse.jface.operation.ModalContext.runInCurrentThread(ModalContext.java:302)</Frame>
          <Frame depth="28">org.eclipse.jface.operation.ModalContext.run(ModalContext.java:252)</Frame>
          <Frame depth="29">org.eclipse.jface.window.ApplicationWindow$1.run(ApplicationWindow.java:576)</Frame>
          <Frame depth="30">org.eclipse.swt.custom.BusyIndicator.showWhile(BusyIndicator.java:84)</Frame>
          <Frame depth="31">org.eclipse.jface.window.ApplicationWindow.run(ApplicationWindow.java:573)</Frame>
          <Frame depth="32">org.eclipse.ui.internal.WorkbenchWindow.run(WorkbenchWindow.java:1606)</Frame>
          <Frame depth="33">org.eclipse.ui.internal.EditorManager.runProgressMonitorOperation(EditorManager.java:843)</Frame>
          <Frame depth="34">org.eclipse.ui.internal.EditorManager.savePart(EditorManager.java:987)</Frame>
          <Frame depth="35">org.eclipse.ui.internal.WorkbenchPage.savePart(WorkbenchPage.java:2450)</Frame>
          <Frame depth="36">org.eclipse.ui.internal.WorkbenchPage.saveEditor(WorkbenchPage.java:2462)</Frame>
          <Frame depth="37">org.eclipse.ui.internal.SaveAction.run(SaveAction.java:69)</Frame>
          <Frame depth="38">org.eclipse.jface.action.Action.runWithEvent(Action.java:881)</Frame>
          <Frame depth="39">org.eclipse.ui.commands.ActionHandler.execute(ActionHandler.java:68)</Frame>
          <Frame depth="40">org.eclipse.ui.internal.commands.Command.execute(Command.java:173)</Frame>
          <Frame depth="41">org.eclipse.ui.internal.keys.WorkbenchKeyboard.executeCommand(WorkbenchKeyboard.java:463)</Frame>
          <Frame depth="42">org.eclipse.ui.internal.keys.WorkbenchKeyboard.press(WorkbenchKeyboard.java:855)</Frame>
          <Frame depth="43">org.eclipse.ui.internal.keys.WorkbenchKeyboard.processKeyEvent(WorkbenchKeyboard.java:896)</Frame>
          <Frame depth="44">org.eclipse.ui.internal.keys.WorkbenchKeyboard.filterKeySequenceBindings(WorkbenchKeyboard.java:522)</Frame>
          <Frame depth="45">org.eclipse.ui.internal.keys.WorkbenchKeyboard.access$2(WorkbenchKeyboard.java:488)</Frame>
          <Frame depth="46">org.eclipse.ui.internal.keys.WorkbenchKeyboard$1.handleEvent(WorkbenchKeyboard.java:261)</Frame>
          <Frame depth="47">org.eclipse.swt.widgets.EventTable.sendEvent(EventTable.java:82)</Frame>
          <Frame depth="48">org.eclipse.swt.widgets.Display.filterEvent(Display.java:843)</Frame>
          <Frame depth="49">org.eclipse.swt.widgets.Widget.sendEvent(Widget.java:938)</Frame>
          <Frame depth="50">org.eclipse.swt.widgets.Widget.sendEvent(Widget.java:963)</Frame>
          <Frame depth="51">org.eclipse.swt.widgets.Widget.sendEvent(Widget.java:948)</Frame>
          <Frame depth="52">org.eclipse.swt.widgets.Control.sendKeyEvent(Control.java:2239)</Frame>
          <Frame depth="53">org.eclipse.swt.widgets.Control.gtk_key_press_event(Control.java:1751)</Frame>
          <Frame depth="54">org.eclipse.swt.widgets.Composite.gtk_key_press_event(Composite.java:441)</Frame>
          <Frame depth="55">org.eclipse.swt.widgets.Widget.windowProc(Widget.java:1189)</Frame>
          <Frame depth="56">org.eclipse.swt.widgets.Display.windowProc(Display.java:2450)</Frame>
          <Frame depth="57">org.eclipse.swt.internal.gtk.OS.gtk_main_do_event(Native Method)</Frame>
          <Frame depth="58">org.eclipse.swt.widgets.Display.eventProc(Display.java:736)</Frame>
          <Frame depth="59">org.eclipse.swt.internal.gtk.OS.gtk_main_iteration(Native Method)</Frame>
          <Frame depth="60">org.eclipse.swt.widgets.Display.readAndDispatch(Display.java:1725)</Frame>
          <Frame depth="61">org.eclipse.ui.internal.Workbench.runEventLoop(Workbench.java:1562)</Frame>
          <Frame depth="62">org.eclipse.ui.internal.Workbench.runUI(Workbench.java:1536)</Frame>
          <Frame depth="63">org.eclipse.ui.internal.Workbench.createAndRunWorkbench(Workbench.java:257)</Frame>
          <Frame depth="64">org.eclipse.ui.PlatformUI.createAndRunWorkbench(PlatformUI.java:139)</Frame>
          <Frame depth="65">org.eclipse.ui.internal.ide.IDEApplication.run(IDEApplication.java:90)</Frame>
          <Frame depth="66">org.eclipse.core.internal.runtime.PlatformActivator$1.run(PlatformActivator.java:277)</Frame>
          <Frame depth="67">org.eclipse.core.runtime.adaptor.EclipseStarter.run(EclipseStarter.java:239)</Frame>
          <Frame depth="68">org.eclipse.core.runtime.adaptor.EclipseStarter.run(EclipseStarter.java:117)</Frame>
          <Frame depth="69">sun.reflect.NativeMethodAccessorImpl.invoke0(Native Method)</Frame>
          <Frame depth="70">sun.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:39)</Frame>
          <Frame depth="71">sun.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:25)</Frame>
          <Frame depth="72">java.lang.reflect.Method.invoke(Method.java:324)</Frame>
          <Frame depth="73">org.eclipse.core.launcher.Main.basicRun(Main.java:267)</Frame>
          <Frame depth="74">org.eclipse.core.launcher.Main.run(Main.java:692)</Frame>
          <Frame depth="75">org.eclipse.core.launcher.Main.main(Main.java:676)</Frame>
        </Frames>
      </Stacktrace>
    </Stacktraces>
    <SourceCodeRegions amount="0" />
    <Enumerations amount="0" />
    <bug_status amount="RESOLVED" />
    <resolution amount="FIXED" />
    <WithStack>Everything works fine -&gt; except that I can't save any changes I made.

java.lang.IllegalArgumentException: Attempted to beginRule: R/, does not match
outer scope rule: L/rkn2004/lwip/src/netif/etharp.c
	at org.eclipse.core.internal.runtime.Assert.isLegal(Assert.java:56)
	at
org.eclipse.core.internal.jobs.ImplicitJobs$ThreadJob.illegalPush(ImplicitJobs.java:86)
	at
org.eclipse.core.internal.jobs.ImplicitJobs$ThreadJob.push(ImplicitJobs.java:167)
	at org.eclipse.core.internal.jobs.ImplicitJobs.begin(ImplicitJobs.java:241)
	at org.eclipse.core.internal.jobs.JobManager.beginRule(JobManager.java:149)
	at org.eclipse.core.internal.resources.WorkManager.checkIn(WorkManager.java:88)
	at
org.eclipse.core.internal.resources.Workspace.prepareOperation(Workspace.java:1521)
	at org.eclipse.core.internal.resources.Workspace.run(Workspace.java:1554)
	at org.eclipse.core.internal.resources.Workspace.run(Workspace.java:1578)
	at
org.eclipse.cdt.internal.core.model.CModelManager.runOperation(CModelManager.java:751)
	at org.eclipse.cdt.internal.core.model.CElement.runOperation(CElement.java:263)
	at org.eclipse.cdt.internal.core.model.WorkingCopy.commit(WorkingCopy.java:76)
	at
org.eclipse.cdt.internal.ui.editor.CDocumentProvider.doSaveDocument(CDocumentProvider.java:290)
	at
org.eclipse.ui.texteditor.AbstractDocumentProvider$1$SaveOperation.execute(AbstractDocumentProvider.java:601)
	at
org.eclipse.ui.texteditor.AbstractDocumentProvider$DocumentProviderOperation.run(AbstractDocumentProvider.java:72)
	at
org.eclipse.ui.actions.WorkspaceModifyDelegatingOperation.execute(WorkspaceModifyDelegatingOperation.java:67)
	at
org.eclipse.ui.actions.WorkspaceModifyOperation$1.run(WorkspaceModifyOperation.java:91)
	at org.eclipse.core.internal.resources.Workspace.run(Workspace.java:1559)
	at
org.eclipse.ui.actions.WorkspaceModifyOperation.run(WorkspaceModifyOperation.java:105)
	at
org.eclipse.ui.editors.text.WorkspaceOperationRunner.run(WorkspaceOperationRunner.java:73)
	at
org.eclipse.ui.editors.text.WorkspaceOperationRunner.run(WorkspaceOperationRunner.java:63)
	at
org.eclipse.ui.texteditor.AbstractDocumentProvider.executeOperation(AbstractDocumentProvider.java:545)
	at
org.eclipse.ui.texteditor.AbstractDocumentProvider.saveDocument(AbstractDocumentProvider.java:620)
	at
org.eclipse.ui.texteditor.AbstractTextEditor.performSave(AbstractTextEditor.java:3136)
	at
org.eclipse.ui.texteditor.AbstractTextEditor.doSave(AbstractTextEditor.java:2931)
	at org.eclipse.ui.internal.EditorManager$10.run(EditorManager.java:982)
	at org.eclipse.ui.internal.EditorManager$8.run(EditorManager.java:837)
	at
org.eclipse.jface.operation.ModalContext.runInCurrentThread(ModalContext.java:302)
	at org.eclipse.jface.operation.ModalContext.run(ModalContext.java:252)
	at org.eclipse.jface.window.ApplicationWindow$1.run(ApplicationWindow.java:576)
	at org.eclipse.swt.custom.BusyIndicator.showWhile(BusyIndicator.java:84)
	at org.eclipse.jface.window.ApplicationWindow.run(ApplicationWindow.java:573)
	at org.eclipse.ui.internal.WorkbenchWindow.run(WorkbenchWindow.java:1606)
	at
org.eclipse.ui.internal.EditorManager.runProgressMonitorOperation(EditorManager.java:843)
	at org.eclipse.ui.internal.EditorManager.savePart(EditorManager.java:987)
	at org.eclipse.ui.internal.WorkbenchPage.savePart(WorkbenchPage.java:2450)
	at org.eclipse.ui.internal.WorkbenchPage.saveEditor(WorkbenchPage.java:2462)
	at org.eclipse.ui.internal.SaveAction.run(SaveAction.java:69)
	at org.eclipse.jface.action.Action.runWithEvent(Action.java:881)
	at org.eclipse.ui.commands.ActionHandler.execute(ActionHandler.java:68)
	at org.eclipse.ui.internal.commands.Command.execute(Command.java:173)
	at
org.eclipse.ui.internal.keys.WorkbenchKeyboard.executeCommand(WorkbenchKeyboard.java:463)
	at org.eclipse.ui.internal.keys.WorkbenchKeyboard.press(WorkbenchKeyboard.java:855)
	at
org.eclipse.ui.internal.keys.WorkbenchKeyboard.processKeyEvent(WorkbenchKeyboard.java:896)
	at
org.eclipse.ui.internal.keys.WorkbenchKeyboard.filterKeySequenceBindings(WorkbenchKeyboard.java:522)
	at
org.eclipse.ui.internal.keys.WorkbenchKeyboard.access$2(WorkbenchKeyboard.java:488)
	at
org.eclipse.ui.internal.keys.WorkbenchKeyboard$1.handleEvent(WorkbenchKeyboard.java:261)
	at org.eclipse.swt.widgets.EventTable.sendEvent(EventTable.java:82)
	at org.eclipse.swt.widgets.Display.filterEvent(Display.java:843)
	at org.eclipse.swt.widgets.Widget.sendEvent(Widget.java:938)
	at org.eclipse.swt.widgets.Widget.sendEvent(Widget.java:963)
	at org.eclipse.swt.widgets.Widget.sendEvent(Widget.java:948)
	at org.eclipse.swt.widgets.Control.sendKeyEvent(Control.java:2239)
	at org.eclipse.swt.widgets.Control.gtk_key_press_event(Control.java:1751)
	at org.eclipse.swt.widgets.Composite.gtk_key_press_event(Composite.java:441)
	at org.eclipse.swt.widgets.Widget.windowProc(Widget.java:1189)
	at org.eclipse.swt.widgets.Display.windowProc(Display.java:2450)
	at org.eclipse.swt.internal.gtk.OS.gtk_main_do_event(Native Method)
	at org.eclipse.swt.widgets.Display.eventProc(Display.java:736)
	at org.eclipse.swt.internal.gtk.OS.gtk_main_iteration(Native Method)
	at org.eclipse.swt.widgets.Display.readAndDispatch(Display.java:1725)
	at org.eclipse.ui.internal.Workbench.runEventLoop(Workbench.java:1562)
	at org.eclipse.ui.internal.Workbench.runUI(Workbench.java:1536)
	at org.eclipse.ui.internal.Workbench.createAndRunWorkbench(Workbench.java:257)
	at org.eclipse.ui.PlatformUI.createAndRunWorkbench(PlatformUI.java:139)
	at org.eclipse.ui.internal.ide.IDEApplication.run(IDEApplication.java:90)
	at
org.eclipse.core.internal.runtime.PlatformActivator$1.run(PlatformActivator.java:277)
	at org.eclipse.core.runtime.adaptor.EclipseStarter.run(EclipseStarter.java:239)
	at org.eclipse.core.runtime.adaptor.EclipseStarter.run(EclipseStarter.java:117)
	at sun.reflect.NativeMethodAccessorImpl.invoke0(Native Method)
	at sun.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:39)
	at
sun.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:25)
	at java.lang.reflect.Method.invoke(Method.java:324)
	at org.eclipse.core.launcher.Main.basicRun(Main.java:267)
	at org.eclipse.core.launcher.Main.run(Main.java:692)
	at org.eclipse.core.launcher.Main.main(Main.java:676)
My M8 just barely made it out.

Fix in the head by doug.</WithStack>
    <WithOutStack>Everything works fine -&gt; except that I can't save any changes I made.


My M8 just barely made it out.

Fix in the head by doug.</WithOutStack>
  </Bug>
  <Bug>
    <BugId amount="56609" />
    <CreationDate amount="2004-03-29 12:08:00 -0500" />
    <DupId amount="56603" />
    <classification amount="Eclipse" />
    <Product amount="Platform" />
    <component amount="UI" />
    <Version amount="3.0" />
    <rep_platform amount="PC" />
    <op_sys amount="Windows NT" />
    <priority amount="P3" />
    <bug_severity amount="normal" />
    <Summery>Editor tabs behaviour is wrong (different from M7)</Summery>
    <Patches amount="0" />
    <Stacktraces amount="0" />
    <SourceCodeRegions amount="0" />
    <Enumerations amount="0" />
    <bug_status amount="RESOLVED" />
    <resolution amount="DUPLICATE" />
    <WithStack>I'm using Eclispe 3.0 M8. I have just noticed a difference in behaviour from 
M7, which in my opinion is wrong. 

Suppose I allow multiple editor tabs as my preference (this is the default) 
and I have File1.java and File2.java open. 

If I CTRL + click on a line of code in File1.java, that opens the third 
File3.java. 

Now I have File1.java, File2.java, File3.java editor tabs open (in that order) 
with File3.java in focus. If I close File3.java, File2.java (first on the 
left) gains focus, which is wrong. It should take me to the first editor in 
history (i.e. the one I came from which is File1.java). 

This used to work in previous milestone versions up to M7. This does not 
depend on the tab order either. First on the left always gains focus, instead 
top from history editor tab.


*** This bug has been marked as a duplicate of 56603 ***</WithStack>
    <WithOutStack>I'm using Eclispe 3.0 M8. I have just noticed a difference in behaviour from 
M7, which in my opinion is wrong. 

Suppose I allow multiple editor tabs as my preference (this is the default) 
and I have File1.java and File2.java open. 

If I CTRL + click on a line of code in File1.java, that opens the third 
File3.java. 

Now I have File1.java, File2.java, File3.java editor tabs open (in that order) 
with File3.java in focus. If I close File3.java, File2.java (first on the 
left) gains focus, which is wrong. It should take me to the first editor in 
history (i.e. the one I came from which is File1.java). 

This used to work in previous milestone versions up to M7. This does not 
depend on the tab order either. First on the left always gains focus, instead 
top from history editor tab.


*** This bug has been marked as a duplicate of 56603 ***</WithOutStack>
  </Bug>
  <Bug>
    <BugId amount="56610" />
    <CreationDate amount="2004-03-29 12:11:00 -0500" />
    <DupId amount="" />
    <classification amount="Eclipse" />
    <Product amount="PDE" />
    <component amount="UI" />
    <Version amount="3.0" />
    <rep_platform amount="Macintosh" />
    <op_sys amount="Mac OS X - Carbon (unsup.)" />
    <priority amount="P3" />
    <bug_severity amount="major" />
    <Summery>PDE Export fails to export feature</Summery>
    <Patches amount="0" />
    <Stacktraces amount="0" />
    <SourceCodeRegions amount="0" />
    <Enumerations amount="0" />
    <bug_status amount="RESOLVED" />
    <resolution amount="FIXED" />
    <WithStack>Eclipse 3.0 M8

Exporting a feature causes an error dialog:

"Target `ROOTFILES__' does not exist in this project

Some experimentation revealed that you must supply a supported environment on the overview page of 
the feature.xml editor.  Further experimentation revealed that if you supply more than exactly one 
supported environment, you get a similar error dialog.  For example, if you specify MacOS X and 
Windoze as your supported environments, you get:

Target `ROOTFILESmaxosx,win32_carbon,win32_ppc,x86' does not exist in this project
PDE UI need to provide the builder valid configurations.
Fixed.
Eclipse 3.0 M9

Selecting more than one operating system (OS X and windoze) and exporting a feature as an update site 
will export the plugins but not the features.  Exporting as a zip file does not work at all even if only one 
operating system is selected - an error dialog with a meaningless message appears.
You can only export with one os-ws-arch configuration at one time.
This configuration is retrieved from the values on the Build Options 
preference page.
Make sure you set these values correctly for the export operation you are 
doing.

Pascal, how can we make this clearer?
Then, how do you create an update site that supports multiple operating systems?
In comment #4, I meant the PDE &gt; "Target Environment" preference page, 
not "Build Options".

One solution would be to have a separate feature for every os-ws-arch 
configuration.  Eclipse itself has that for its org.eclipse.platform feature.
Hmm, now, I'm confused.  I'm creating a feature and using the feature.xml editor, it says under the 
Supported Environments section "Specify environment combinations in which this feature can be 
installed"  If you select a single environment, exporting as a zip file fails.  If you select more than one 
enviromnent and export as an update site, the features directory is not created.
&gt;If you select a single environment, exporting as a zip file fails.
In the Feature Export wizard, press the Target Environment button, does the 
single environment you specified in the feature match the values on the 
preference page?  They should match for the export to be successful.
Yep, they match
&gt;If you select a single environment, exporting as a zip file fails.
What does the error say upon failure?
Created attachment 10987
error message
Brian you can create a feature that works for several platform and export it in 
several shots. That's not a problem.

Features support optional plugins, like in the platform feature where platform 
specific fragments are listed inside the feature.
Adopting this structure for features save you troubles in managing your 
features since everything is gathered in one place.

When a feature is platform independent and has platform specific things, it 
should be exported for all the platforms. 

It seems that now the problem is a UI problem where you want to say: "export 
for all those configs at once."

I currently don't have a warm fuzzy that I have communicated my "problem" to the point that when 3.0 
is released I'll be happy.  So, please bear with me, and let me try this:

I have created several plug-ins that are 100% platform independent.  I have created a feature to bundle 
those plug-ins.  I bring up the feature.xml editor and see a section on the editor that says:

"Specify environment combinations in which this feature can be installed"

since combinations is plural and the labels below that statement are plural, and since clicking the ... 
button allows me to select more than one platform, I think great, I can select all of the platforms that 
I've tested this feature on.  I do just that and save the feature.xml.  Next, I set up an update site and 
include the feature.  I click "Build All".  I should now have ONE feature and it's associated plugins ready 
to be downloaded by the platforms that I selected in the feature.xml.  This currently does not appear to 
be the case.

I can't comment on features that have platform dependent code as I haven't had that problem yet.
If all your plugins are platform independent then you don't need to specify 
anything in "Specify environment combinations in which this feature can be 
installed".

Leaving "Specify environment combinations in which this feature can be installed" blank, and pressing 
"Build All" on the site.xml editor populates the plugins directory, but not the features directory.
Do you have a build.properties in your feature?
Normally it should contain something like:
bin.includes = feature.xml
Yes, that is there
With M9, I used the wizard to create a new feature (in which I included an hello
world plugin) and  I exported it without problems.




Pascal, as we discussed today, the feature editor (and dtd) lets people enter 
whatever they want for os, ws, arch attributes.  These attributes are used by 
Update Manager for filtering purposes, but do not necessarily imply that there 
is platform-dependent code.

This flexibility in the dtd does not translate well when building plug-ins, 
because pde-build takes os-ws-arch very seriously and tries to package and 
assemble a product accordingly.

The PDE export users are not building products that are supposed to run on 
certain os-ws-arch configurations.  They are just building features.  They 
fill out the feature.xml to the best of their ability, try to export and hope 
for the best.

So exporting a single feature in separate steps: one per os-ws-arch 
configuration is unacceptable and make PDE export next to useless.  We can't 
dictate people on how to fill out their feature.xml.  They should be able to 
enter whatever they want.

Therefer, in this context, what would keep 100% users of PDE export happy is 
if we build all features and included features without even looking at the os-
ws-arch attributes.  They just want the features built.

So if PDE build could accept flags like "all, all, all" or something, in which 
they would build all features regardless of environment, we would address the 
problem once and for all.

I created a new feature and added it to my update site.  Build All worked correctly.  Now, the question is 
why won't my other feature build correctly as it currently looks a lot like the new feature that works.  I'll 
update when I know more.
Pascal, these steps should reproduce the problem with your hello world example:

open feature.xml
under supported environments, click ... next to one of the fields (os for example)
click select all
save feature.xml
under supported environments, click ... next to the field where you previously selected all and click 
deselect all
supported environments should now be blank
save feature.xml
export as update site

Bryan I entered bug #63944 for the editor problem.

Wassim, depending on the implication of the changes in pde-buid, the changes 
you are requiring may not happen.

Anyway I disagree that it should be transparent to the user. In my opinion the 
user should know and understand what he is doing. First if no specific platform 
is targeted then he should not list any os, ws, etc. 

If it happens that there is some platform specific stuffs, the model where 
setting os, ws, arch at the feature level seems bogus and is apparently not the 
model forward. People should specify platform specificities when referencing 
the the plugin.

Note that even with this model people should know what they are exporting for 
which platform and against which platform they are compiling against. For 
example, imagine that I'm on linux and try to export the ui.win32... This will 
obviously result into a error since I don't have the swt.win32 to build against.

&gt;In my opinion the user should know and understand what he is doing. First if 
&gt;no specific platform is targeted then he should not list any os, ws, etc. 

I agree that the user being aware of all these policies is the best answer, 
but unfortunately this cannot happen overnight, and in the meantime we would 
have many frustrated users.  Users just want to build features and publish 
them, so anything we can do to make the process as smooth as possible we 
should do.  If they had made an error by specifying an os attribute when they 
should have not, we should be forgiving and not choke on it.

&gt;For example, imagine that I'm on linux and try to export the ui.win32... This 
&gt;will obviously result into a error since I don't have the swt.win32 to build 
&gt;against.
This is a valid scenario, in which an export should fail and it would be 
understandable to the user when we report the error.
However, all of these scenarios that we are dealing with do not involve 
platform-specific code, and therefore it seems unforgiving on our part that 
the export fails.

Keep in mind that a simple scenario like the one in bug 62027 can't be fully 
supported now.  We can either build the win32 or linux version, but not both 
at the same time.  To make things worse, if you try to build the features in 
bug 62027 for one os as Update JARs, the file for the other linux feature will 
show up in the destination directory, but unpackaged.

Konrad, I referenced you in my earlier comment, so you might as well know 
about it :-)
Projects attached to bug 62020 will actually illustrate the problem in bug 
62027
Note that exporting a feature to a zip file is still an issue (see attachment).  Should I maybe open a 
separate bug report so it doesn't get lost?
*** Bug 65486 has been marked as a duplicate of this bug. ***
Here's our use case:

subclipse plugin consists of 2 platform independent plugins, and 1 platform dependent (yes, native 
libs) fragment.  as the packaging dude, i specified 3 features, each containing both plugins and the 
required native fragment for a particular platform: feature-win32, feature-osx, and feature-linux.

what i _really_ want to happen (and did indeed assume would happen) when "build update site" is 
selected, is to have all 3 features built (since the native libs are included as binaries, and don't require 
any build step).  

as i understand it, the current situation requires me to switch my "target platform" back and forth, 
exporting 1 feature at a time. this makes the update site project nearly useless for our purposes.  i 
found it easier to modify the generated build.xml files to build the foreign (relative to the machine 
doing the packaging) features.

you can take a look at our project layout and configs at http://svn.collab.net/repos/subclipse/
branches/subclipse-3
Are the three features nested or independent of each other?
If they are independent, then we could do something about it.
Specify the os/ws/arch in each one the features.  Make sure you enter a single 
value for each attribute.  If you do so, then PDE/UI will pass the os-ws-arch 
combination for each feature to the builder without you having to change the 
target platform for each one.  Will fix this in RC2.

If the features are nested, building the update site in one shot will be much 
more difficult.
i just tried building the subclipse update site from osx for our win32 and linux featues, but found that 
the build failed with different issues depending on the platform selected. Building them by hand as 
mentioned in my previous comment does the trick, since really, all i want to generate is the feature jar, 
since the actual plugins (as opposed to the fragments also described below) don't require and platform 
specific code.  

in short, swapping the target environments around isn't a very good workaround (though the feature jar 
_does_ get created.
the setup described in 29 is (i think) exactly how we've done it.  if i've made some errors in setup, i'd be 
grateful for some pointers.

our entire config is at http://svn.collab.net/repos/subclipse/branches/subclipse-3
I looked at your site.xml.   Note that when we talk about feature os/ws/arch, 
we are talking about the values as specified in the feature.xml, NOT the ones 
in the site.xml.  you can put whatever you want in the site.xml.  It won't 
affect the build process.

Make sure each one of your feature.xml's contain a single os-ws-arch 
combination.  Right now, you will have to do them separately by changing the 
Target Platform etc.  For RC2, we will make sure that this scenario works in a 
single shot.
they do, so i think we're all good for rc2 

Fixed.

Here is the behavior:

Feature1: os:win32 ws:win32 arch:x86
Feature2: os/ws/arch not specified
Feature3: os:win32,linux ws:win32,gtk arch:x86
The three features are independent of each other, ie. not nested in one 
another.

When you export the three features in a single operation in the wizard or when 
you try to build a site containing all three features, here is what PDE/UI 
will pass to PDE/Build as os-ws-arch combination:
For Feature1: win32-win32-x86 (obviously)
For Feature2: the values of os, ws, arch as they appear on the Target 
Environment preference page.
For Feature3: os (as it appears on pref page), ws (as it appears on pref 
page), arch = x86
I'm not entirely sure this is fixed in rc2. 
 
Having not changed our setup from what it was during RC1, using the pde-&gt;build update site 
task appears to build all the plugins and features in our plugin project, but now, when I test the 
update site locally, i see the platform-x version of the plugin as available, but not platform-y 
(where platform-y is the correct platform). 
 
ex. testing the newly-generated update site on a linux-gtk-x86 machine, i see the win32 feature 
as available(!), same results for osx. 
 
could there be a regression here? or am i just using this functionality incorrectly? 
 
to summarize, our set up is unchanged from the rc1 version, but the update site generation 
functionality is now more broken than before. 
 
 
Additionally, generating and running the ant build for the linux feature now results in : 
 
BUILD FAILED: /home/mml/scl3/feature-linux/build.xml:74: Following error occured while 
executing this line 
Target `rootFileslinux_gtk_x86' does not exist in this project.  
 
ack! 
I forgot to mention, that if the properties of the plugins are examined while testing the update 
site (using the local site method), all the platform properties are correct. 
If "using the pde-&gt;build update site 
task appears to build all the plugins and features in our plugin project,"

how can "the update site generation 
functionality (be) now more broken than before"?

Dorian,
do you have any input/insight on the following, as this does not particularly 
has to do with building plug-ins..

 ex. testing the newly-generated update site on a linux-gtk-x86 machine, i see 
the win32 feature 
as available(!), same results for osx. 

It's more broken since our users trying to update won't see the appropriate plugin, before they 
could. arguably this is more broken, though i'd settle for differently broken ;) 
Differently broken.  Good one :-)

So now we're past the building issue and onto a possible Update manager issue.
Please open a separate bug report against Platform/Update detailing what your 
site.xml and feature.xml look like, so that they could diagnose why the wrong 
features are being picked up.
Yes, if you see any problem with the update site using the update manager 
please open a bug on Platform Update. BTW, on the sites page (second page of 
the Find and Install wizard), make sure that you check the "ignore features 
that don't much current environment".
yah, i did the ignore features thing, if that is checked, i see the wrong platform, if i uncheck it, i 
see all the platforms, and can install normally (or could if there weren't other wierdnesses going 
on). 
 
i'll file a bug against the update manager directly. 
*** Bug 71974 has been marked as a duplicate of this bug. ***</WithStack>
    <WithOutStack>Eclipse 3.0 M8

Exporting a feature causes an error dialog:

"Target `ROOTFILES__' does not exist in this project

Some experimentation revealed that you must supply a supported environment on the overview page of 
the feature.xml editor.  Further experimentation revealed that if you supply more than exactly one 
supported environment, you get a similar error dialog.  For example, if you specify MacOS X and 
Windoze as your supported environments, you get:

Target `ROOTFILESmaxosx,win32_carbon,win32_ppc,x86' does not exist in this project
PDE UI need to provide the builder valid configurations.
Fixed.
Eclipse 3.0 M9

Selecting more than one operating system (OS X and windoze) and exporting a feature as an update site 
will export the plugins but not the features.  Exporting as a zip file does not work at all even if only one 
operating system is selected - an error dialog with a meaningless message appears.
You can only export with one os-ws-arch configuration at one time.
This configuration is retrieved from the values on the Build Options 
preference page.
Make sure you set these values correctly for the export operation you are 
doing.

Pascal, how can we make this clearer?
Then, how do you create an update site that supports multiple operating systems?
In comment #4, I meant the PDE &gt; "Target Environment" preference page, 
not "Build Options".

One solution would be to have a separate feature for every os-ws-arch 
configuration.  Eclipse itself has that for its org.eclipse.platform feature.
Hmm, now, I'm confused.  I'm creating a feature and using the feature.xml editor, it says under the 
Supported Environments section "Specify environment combinations in which this feature can be 
installed"  If you select a single environment, exporting as a zip file fails.  If you select more than one 
enviromnent and export as an update site, the features directory is not created.
&gt;If you select a single environment, exporting as a zip file fails.
In the Feature Export wizard, press the Target Environment button, does the 
single environment you specified in the feature match the values on the 
preference page?  They should match for the export to be successful.
Yep, they match
&gt;If you select a single environment, exporting as a zip file fails.
What does the error say upon failure?
Created attachment 10987
error message
Brian you can create a feature that works for several platform and export it in 
several shots. That's not a problem.

Features support optional plugins, like in the platform feature where platform 
specific fragments are listed inside the feature.
Adopting this structure for features save you troubles in managing your 
features since everything is gathered in one place.

When a feature is platform independent and has platform specific things, it 
should be exported for all the platforms. 

It seems that now the problem is a UI problem where you want to say: "export 
for all those configs at once."

I currently don't have a warm fuzzy that I have communicated my "problem" to the point that when 3.0 
is released I'll be happy.  So, please bear with me, and let me try this:

I have created several plug-ins that are 100% platform independent.  I have created a feature to bundle 
those plug-ins.  I bring up the feature.xml editor and see a section on the editor that says:

"Specify environment combinations in which this feature can be installed"

since combinations is plural and the labels below that statement are plural, and since clicking the ... 
button allows me to select more than one platform, I think great, I can select all of the platforms that 
I've tested this feature on.  I do just that and save the feature.xml.  Next, I set up an update site and 
include the feature.  I click "Build All".  I should now have ONE feature and it's associated plugins ready 
to be downloaded by the platforms that I selected in the feature.xml.  This currently does not appear to 
be the case.

I can't comment on features that have platform dependent code as I haven't had that problem yet.
If all your plugins are platform independent then you don't need to specify 
anything in "Specify environment combinations in which this feature can be 
installed".

Leaving "Specify environment combinations in which this feature can be installed" blank, and pressing 
"Build All" on the site.xml editor populates the plugins directory, but not the features directory.
Do you have a build.properties in your feature?
Normally it should contain something like:
bin.includes = feature.xml
Yes, that is there
With M9, I used the wizard to create a new feature (in which I included an hello
world plugin) and  I exported it without problems.




Pascal, as we discussed today, the feature editor (and dtd) lets people enter 
whatever they want for os, ws, arch attributes.  These attributes are used by 
Update Manager for filtering purposes, but do not necessarily imply that there 
is platform-dependent code.

This flexibility in the dtd does not translate well when building plug-ins, 
because pde-build takes os-ws-arch very seriously and tries to package and 
assemble a product accordingly.

The PDE export users are not building products that are supposed to run on 
certain os-ws-arch configurations.  They are just building features.  They 
fill out the feature.xml to the best of their ability, try to export and hope 
for the best.

So exporting a single feature in separate steps: one per os-ws-arch 
configuration is unacceptable and make PDE export next to useless.  We can't 
dictate people on how to fill out their feature.xml.  They should be able to 
enter whatever they want.

Therefer, in this context, what would keep 100% users of PDE export happy is 
if we build all features and included features without even looking at the os-
ws-arch attributes.  They just want the features built.

So if PDE build could accept flags like "all, all, all" or something, in which 
they would build all features regardless of environment, we would address the 
problem once and for all.

I created a new feature and added it to my update site.  Build All worked correctly.  Now, the question is 
why won't my other feature build correctly as it currently looks a lot like the new feature that works.  I'll 
update when I know more.
Pascal, these steps should reproduce the problem with your hello world example:

open feature.xml
under supported environments, click ... next to one of the fields (os for example)
click select all
save feature.xml
under supported environments, click ... next to the field where you previously selected all and click 
deselect all
supported environments should now be blank
save feature.xml
export as update site

Bryan I entered bug #63944 for the editor problem.

Wassim, depending on the implication of the changes in pde-buid, the changes 
you are requiring may not happen.

Anyway I disagree that it should be transparent to the user. In my opinion the 
user should know and understand what he is doing. First if no specific platform 
is targeted then he should not list any os, ws, etc. 

If it happens that there is some platform specific stuffs, the model where 
setting os, ws, arch at the feature level seems bogus and is apparently not the 
model forward. People should specify platform specificities when referencing 
the the plugin.

Note that even with this model people should know what they are exporting for 
which platform and against which platform they are compiling against. For 
example, imagine that I'm on linux and try to export the ui.win32... This will 
obviously result into a error since I don't have the swt.win32 to build against.

&gt;In my opinion the user should know and understand what he is doing. First if 
&gt;no specific platform is targeted then he should not list any os, ws, etc. 

I agree that the user being aware of all these policies is the best answer, 
but unfortunately this cannot happen overnight, and in the meantime we would 
have many frustrated users.  Users just want to build features and publish 
them, so anything we can do to make the process as smooth as possible we 
should do.  If they had made an error by specifying an os attribute when they 
should have not, we should be forgiving and not choke on it.

&gt;For example, imagine that I'm on linux and try to export the ui.win32... This 
&gt;will obviously result into a error since I don't have the swt.win32 to build 
&gt;against.
This is a valid scenario, in which an export should fail and it would be 
understandable to the user when we report the error.
However, all of these scenarios that we are dealing with do not involve 
platform-specific code, and therefore it seems unforgiving on our part that 
the export fails.

Keep in mind that a simple scenario like the one in bug 62027 can't be fully 
supported now.  We can either build the win32 or linux version, but not both 
at the same time.  To make things worse, if you try to build the features in 
bug 62027 for one os as Update JARs, the file for the other linux feature will 
show up in the destination directory, but unpackaged.

Konrad, I referenced you in my earlier comment, so you might as well know 
about it :-)
Projects attached to bug 62020 will actually illustrate the problem in bug 
62027
Note that exporting a feature to a zip file is still an issue (see attachment).  Should I maybe open a 
separate bug report so it doesn't get lost?
*** Bug 65486 has been marked as a duplicate of this bug. ***
Here's our use case:

subclipse plugin consists of 2 platform independent plugins, and 1 platform dependent (yes, native 
libs) fragment.  as the packaging dude, i specified 3 features, each containing both plugins and the 
required native fragment for a particular platform: feature-win32, feature-osx, and feature-linux.

what i _really_ want to happen (and did indeed assume would happen) when "build update site" is 
selected, is to have all 3 features built (since the native libs are included as binaries, and don't require 
any build step).  

as i understand it, the current situation requires me to switch my "target platform" back and forth, 
exporting 1 feature at a time. this makes the update site project nearly useless for our purposes.  i 
found it easier to modify the generated build.xml files to build the foreign (relative to the machine 
doing the packaging) features.

you can take a look at our project layout and configs at http://svn.collab.net/repos/subclipse/
branches/subclipse-3
Are the three features nested or independent of each other?
If they are independent, then we could do something about it.
Specify the os/ws/arch in each one the features.  Make sure you enter a single 
value for each attribute.  If you do so, then PDE/UI will pass the os-ws-arch 
combination for each feature to the builder without you having to change the 
target platform for each one.  Will fix this in RC2.

If the features are nested, building the update site in one shot will be much 
more difficult.
i just tried building the subclipse update site from osx for our win32 and linux featues, but found that 
the build failed with different issues depending on the platform selected. Building them by hand as 
mentioned in my previous comment does the trick, since really, all i want to generate is the feature jar, 
since the actual plugins (as opposed to the fragments also described below) don't require and platform 
specific code.  

in short, swapping the target environments around isn't a very good workaround (though the feature jar 
_does_ get created.
the setup described in 29 is (i think) exactly how we've done it.  if i've made some errors in setup, i'd be 
grateful for some pointers.

our entire config is at http://svn.collab.net/repos/subclipse/branches/subclipse-3
I looked at your site.xml.   Note that when we talk about feature os/ws/arch, 
we are talking about the values as specified in the feature.xml, NOT the ones 
in the site.xml.  you can put whatever you want in the site.xml.  It won't 
affect the build process.

Make sure each one of your feature.xml's contain a single os-ws-arch 
combination.  Right now, you will have to do them separately by changing the 
Target Platform etc.  For RC2, we will make sure that this scenario works in a 
single shot.
they do, so i think we're all good for rc2 

Fixed.

Here is the behavior:

Feature1: os:win32 ws:win32 arch:x86
Feature2: os/ws/arch not specified
Feature3: os:win32,linux ws:win32,gtk arch:x86
The three features are independent of each other, ie. not nested in one 
another.

When you export the three features in a single operation in the wizard or when 
you try to build a site containing all three features, here is what PDE/UI 
will pass to PDE/Build as os-ws-arch combination:
For Feature1: win32-win32-x86 (obviously)
For Feature2: the values of os, ws, arch as they appear on the Target 
Environment preference page.
For Feature3: os (as it appears on pref page), ws (as it appears on pref 
page), arch = x86
I'm not entirely sure this is fixed in rc2. 
 
Having not changed our setup from what it was during RC1, using the pde-&gt;build update site 
task appears to build all the plugins and features in our plugin project, but now, when I test the 
update site locally, i see the platform-x version of the plugin as available, but not platform-y 
(where platform-y is the correct platform). 
 
ex. testing the newly-generated update site on a linux-gtk-x86 machine, i see the win32 feature 
as available(!), same results for osx. 
 
could there be a regression here? or am i just using this functionality incorrectly? 
 
to summarize, our set up is unchanged from the rc1 version, but the update site generation 
functionality is now more broken than before. 
 
 
Additionally, generating and running the ant build for the linux feature now results in : 
 
BUILD FAILED: /home/mml/scl3/feature-linux/build.xml:74: Following error occured while 
executing this line 
Target `rootFileslinux_gtk_x86' does not exist in this project.  
 
ack! 
I forgot to mention, that if the properties of the plugins are examined while testing the update 
site (using the local site method), all the platform properties are correct. 
If "using the pde-&gt;build update site 
task appears to build all the plugins and features in our plugin project,"

how can "the update site generation 
functionality (be) now more broken than before"?

Dorian,
do you have any input/insight on the following, as this does not particularly 
has to do with building plug-ins..

 ex. testing the newly-generated update site on a linux-gtk-x86 machine, i see 
the win32 feature 
as available(!), same results for osx. 

It's more broken since our users trying to update won't see the appropriate plugin, before they 
could. arguably this is more broken, though i'd settle for differently broken ;) 
Differently broken.  Good one :-)

So now we're past the building issue and onto a possible Update manager issue.
Please open a separate bug report against Platform/Update detailing what your 
site.xml and feature.xml look like, so that they could diagnose why the wrong 
features are being picked up.
Yes, if you see any problem with the update site using the update manager 
please open a bug on Platform Update. BTW, on the sites page (second page of 
the Find and Install wizard), make sure that you check the "ignore features 
that don't much current environment".
yah, i did the ignore features thing, if that is checked, i see the wrong platform, if i uncheck it, i 
see all the platforms, and can install normally (or could if there weren't other wierdnesses going 
on). 
 
i'll file a bug against the update manager directly. 
*** Bug 71974 has been marked as a duplicate of this bug. ***</WithOutStack>
  </Bug>
  <Bug>
    <BugId amount="56611" />
    <CreationDate amount="2004-03-29 12:13:00 -0500" />
    <DupId amount="" />
    <classification amount="Eclipse Foundation" />
    <Product amount="z_Archived" />
    <component amount="Hyades" />
    <Version amount="unspecified" />
    <rep_platform amount="PC" />
    <op_sys amount="Windows 2000" />
    <priority amount="P3" />
    <bug_severity amount="critical" />
    <Summery>Profiling filters do not work.</Summery>
    <Patches amount="0" />
    <Stacktraces amount="0" />
    <SourceCodeRegions amount="0" />
    <Enumerations amount="0" />
    <bug_status amount="CLOSED" />
    <resolution amount="WORKSFORME" />
    <WithStack>For profiling WSADIE 5.1, I have set filters as follows:
com.ibm.etools.ctc.* INCLUDE
*  EXCLUDE
Despite these settings the profiler collects everything which causes 
eventually "OutOfMemoryException"

Hyades driver - v.3_0_M8
Richard, we identified this as not being a UI problem; please take a look
Kris, I recently found &amp; fixed a problem with filtering that only happened when 
attaching. If you have time, try launching WSADIE directly from the UI instead 
of through your batch file. I have a feeling that this will avoid the bug.
As I can recall I have tried the scenario where Agent is attached from the 
begining of the WSADIE startup. I had to stop collecting right a way, because 
the WSADIE launch was very slow.
Reassigning to Curtis as discussed in email. 
Can you add more information to the defect please. I don't have access to the 
email
I believe this was caused by a bug that was present only in the attach launch 
delegate. I cannot reproduce this defect in M9. If this can be reproduced in 
the future, defect will be reopened.
As of TPTP 4.6.0, TPTP is in maintenance mode and focusing on improving quality by resolving relevant enhancements/defects and increasing test coverage through test creation, automation, Build Verification Tests (BVTs), and expanded run-time execution. As part of the TPTP Bugzilla housecleaning process (see http://wiki.eclipse.org/Bugzilla_Housecleaning_Processes), this enhancement/defect is verified/closed by the Project Lead since this enhancement/defect has been resolved and unverified for more than 1 year and considered to be fixed. If this enhancement/defect is still unresolved and reproducible in the latest TPTP release (http://www.eclipse.org/tptp/home/downloads/), please re-open.</WithStack>
    <WithOutStack>For profiling WSADIE 5.1, I have set filters as follows:
com.ibm.etools.ctc.* INCLUDE
*  EXCLUDE
Despite these settings the profiler collects everything which causes 
eventually "OutOfMemoryException"

Hyades driver - v.3_0_M8
Richard, we identified this as not being a UI problem; please take a look
Kris, I recently found &amp; fixed a problem with filtering that only happened when 
attaching. If you have time, try launching WSADIE directly from the UI instead 
of through your batch file. I have a feeling that this will avoid the bug.
As I can recall I have tried the scenario where Agent is attached from the 
begining of the WSADIE startup. I had to stop collecting right a way, because 
the WSADIE launch was very slow.
Reassigning to Curtis as discussed in email. 
Can you add more information to the defect please. I don't have access to the 
email
I believe this was caused by a bug that was present only in the attach launch 
delegate. I cannot reproduce this defect in M9. If this can be reproduced in 
the future, defect will be reopened.
As of TPTP 4.6.0, TPTP is in maintenance mode and focusing on improving quality by resolving relevant enhancements/defects and increasing test coverage through test creation, automation, Build Verification Tests (BVTs), and expanded run-time execution. As part of the TPTP Bugzilla housecleaning process (see http://wiki.eclipse.org/Bugzilla_Housecleaning_Processes), this enhancement/defect is verified/closed by the Project Lead since this enhancement/defect has been resolved and unverified for more than 1 year and considered to be fixed. If this enhancement/defect is still unresolved and reproducible in the latest TPTP release (http://www.eclipse.org/tptp/home/downloads/), please re-open.</WithOutStack>
  </Bug>
  <Bug>
    <BugId amount="56612" />
    <CreationDate amount="2004-03-29 12:47:00 -0500" />
    <DupId amount="" />
    <classification amount="Eclipse Foundation" />
    <Product amount="z_Archived" />
    <component amount="Hyades" />
    <Version amount="unspecified" />
    <rep_platform amount="PC" />
    <op_sys amount="Windows 2000" />
    <priority amount="P3" />
    <bug_severity amount="normal" />
    <Summery>Viewers not closed on File-&gt;Close/Close All</Summery>
    <Patches amount="0" />
    <Stacktraces amount="0" />
    <SourceCodeRegions amount="0" />
    <Enumerations amount="0" />
    <bug_status amount="CLOSED" />
    <resolution amount="WONTFIX" />
    <WithStack>While having few statistic views open, neiter the File-&gt;Close nor the File-
&gt;Close All, does any actions of closing viewers. This is a standart Eclipse 
behaviour.
Hyades driver v.1_3
Unfortunately the only way we could make this action work is by converting all 
our viewers into editors. The framework takes care of all the logic for this 
action, and we have no control over it. In addition, I'm not entirely sure it 
would make sense to have this action for our viewers. There are no "files" open 
that need to be closed. Most of the time, the data is actually in memory (until 
the user explicitly saves it).
*** Bug 82359 has been marked as a duplicate of this bug. ***
Won't fix. Closing bug.</WithStack>
    <WithOutStack>While having few statistic views open, neiter the File-&gt;Close nor the File-
&gt;Close All, does any actions of closing viewers. This is a standart Eclipse 
behaviour.
Hyades driver v.1_3
Unfortunately the only way we could make this action work is by converting all 
our viewers into editors. The framework takes care of all the logic for this 
action, and we have no control over it. In addition, I'm not entirely sure it 
would make sense to have this action for our viewers. There are no "files" open 
that need to be closed. Most of the time, the data is actually in memory (until 
the user explicitly saves it).
*** Bug 82359 has been marked as a duplicate of this bug. ***
Won't fix. Closing bug.</WithOutStack>
  </Bug>
  <Bug>
    <BugId amount="56613" />
    <CreationDate amount="2004-03-29 13:24:00 -0500" />
    <DupId amount="" />
    <classification amount="Eclipse" />
    <Product amount="Platform" />
    <component amount="Text" />
    <Version amount="3.0" />
    <rep_platform amount="All" />
    <op_sys amount="All" />
    <priority amount="P3" />
    <bug_severity amount="enhancement" />
    <Summery>[navigation] Cursor position when closing then opening a text file</Summery>
    <Patches amount="0" />
    <Stacktraces amount="0" />
    <SourceCodeRegions amount="0" />
    <Enumerations amount="0" />
    <bug_status amount="ASSIGNED" />
    <resolution amount="" />
    <WithStack>It would be very helpfull if after closing an text/xml/java/any file, when
opening it again, the cursor could apear at the same position it was before
closing that file.

like IDEA, VI, JEdit and many others does.

Thanks.
If so, it should probably restore the selection as well.</WithStack>
    <WithOutStack>It would be very helpfull if after closing an text/xml/java/any file, when
opening it again, the cursor could apear at the same position it was before
closing that file.

like IDEA, VI, JEdit and many others does.

Thanks.
If so, it should probably restore the selection as well.</WithOutStack>
  </Bug>
  <Bug>
    <BugId amount="56614" />
    <CreationDate amount="2004-03-29 13:25:00 -0500" />
    <DupId amount="" />
    <classification amount="Tools" />
    <Product amount="CDT" />
    <component amount="cdt-core" />
    <Version amount="2.0" />
    <rep_platform amount="PC" />
    <op_sys amount="Windows XP" />
    <priority amount="P3" />
    <bug_severity amount="normal" />
    <Summery>[Content Assist] Global variables do not appear in a global completion list.</Summery>
    <Patches amount="0" />
    <Stacktraces amount="0" />
    <SourceCodeRegions amount="3">
      <source_code type="class">
        <location start="286" end="342" />
        <code>class aClass {
	  public:
		aClass();
		~aClass();  
	}</code>
      </source_code>
      <source_code type="assignment">
        <location start="346" end="360" />
        <code>int aVar = 1;</code>
      </source_code>
      <source_code type="functiondef">
        <location start="404" end="452" />
        <code>main(int argc, char **argv) {
		// ** (B) **
	}</code>
      </source_code>
    </SourceCodeRegions>
    <Enumerations amount="1">
      <Enumeration lines="13">
        <Lines>
          <Line>1. Create a managed make C++ project, call it MgdCpp (for example).</Line>
          <Line>2. Add a file to MgdCpp, call it main.cpp.</Line>
          <Line>3. Insert the following code into main.cpp:</Line>
          <Line />
          <Line>;</Line>
          <Line />
          <Line />
          <Line>int nMyInt = a[^SPC];	// ** (A) **</Line>
          <Line />
          <Line>int</Line>
          <Line />
          <Line />
          <Line>4. Execute Content Assist on line (A) using "a" as a prefix.</Line>
        </Lines>
      </Enumeration>
    </Enumerations>
    <bug_status amount="VERIFIED" />
    <resolution amount="FIXED" />
    <WithStack>Test Configuration:
   Eclipse 3.0 M8 (ID: 200403261517)
   CDT 2.0.0.200403290300
   Sun 1.4.2_03 build 1.4.2_03-b02

Test Case:
1. Create a managed make C++ project, call it MgdCpp (for example).
2. Add a file to MgdCpp, call it main.cpp.
3. Insert the following code into main.cpp:

	class aClass {
	  public:
		aClass();
		~aClass();  
	};
	
	int aVar = 1;
	int nMyInt = a[^SPC];	// ** (A) **
	
	int
	main(int argc, char **argv) {
		// ** (B) **
	}

4. Execute Content Assist on line (A) using "a" as a prefix.

Result: A completion list is presented to the user containing "aClass", "auto",
and "author".

Expected: A completion list containing "aVar", "aClass", "auto", and "author".

Note:  If the user executes Content Assist on line (B), "aVar" appears inside
the completion list; global variables appear to be overlooked in the global scope.
For this completion I get completion kind = VARIABLE_TYPE
I think it should be SINGLE_NAME_REFERENCE
FYI, for A 'auto' is not a valid keyword to be proposed.  
Partial fix applied to HEAD.  

Hoda, I'm going to assign this defect over to you so you can perhaps alter the 
prefix-less case.  Now that you have put the timeout into content assist, we 
can perhaps deliver more results.  

Since this example is not happening inside a function block "{ }" there are no 
local variables or this pointer and thus a prefix-less lookup in this scenario 
will always yield No Completions Available.  
Solved.
This bug has been verified as fixed

Verified using:
  OS Version(s):  Windows XP
  CDT Build:      2.0.0.200404150300
  Eclipse Build:  3.0.0.200404131323</WithStack>
    <WithOutStack>Test Configuration:
   Eclipse 3.0 M8 (ID: 200403261517)
   CDT 2.0.0.200403290300
   Sun 1.4.2_03 build 1.4.2_03-b02

Test Case:
1. Create a managed make C++ project, call it MgdCpp (for example).
2. Add a file to MgdCpp, call it main.cpp.
3. Insert the following code into main.cpp:

	class aClass {
	  public:
		aClass();
		~aClass();  
	};
	
	int aVar = 1;
	int nMyInt = a[^SPC];	// ** (A) **
	
	int
	main(int argc, char **argv) {
		// ** (B) **
	}

4. Execute Content Assist on line (A) using "a" as a prefix.

Result: A completion list is presented to the user containing "aClass", "auto",
and "author".

Expected: A completion list containing "aVar", "aClass", "auto", and "author".

Note:  If the user executes Content Assist on line (B), "aVar" appears inside
the completion list; global variables appear to be overlooked in the global scope.
For this completion I get completion kind = VARIABLE_TYPE
I think it should be SINGLE_NAME_REFERENCE
FYI, for A 'auto' is not a valid keyword to be proposed.  
Partial fix applied to HEAD.  

Hoda, I'm going to assign this defect over to you so you can perhaps alter the 
prefix-less case.  Now that you have put the timeout into content assist, we 
can perhaps deliver more results.  

Since this example is not happening inside a function block "{ }" there are no 
local variables or this pointer and thus a prefix-less lookup in this scenario 
will always yield No Completions Available.  
Solved.
This bug has been verified as fixed

Verified using:
  OS Version(s):  Windows XP
  CDT Build:      2.0.0.200404150300
  Eclipse Build:  3.0.0.200404131323</WithOutStack>
  </Bug>
  <Bug>
    <BugId amount="56615" />
    <CreationDate amount="2004-03-29 13:30:00 -0500" />
    <DupId amount="" />
    <classification amount="Eclipse" />
    <Product amount="Platform" />
    <component amount="UI" />
    <Version amount="3.0" />
    <rep_platform amount="PC" />
    <op_sys amount="Linux-GTK" />
    <priority amount="P3" />
    <bug_severity amount="minor" />
    <Summery>[Wizards] New Project Wizard Dialog Labels are Staggered by 4 Pixels</Summery>
    <Patches amount="0" />
    <Stacktraces amount="0" />
    <SourceCodeRegions amount="0" />
    <Enumerations amount="0" />
    <bug_status amount="CLOSED" />
    <resolution amount="FIXED" />
    <WithStack>This has been bugging me for a bit.  The "Wizards:" and "Description:" labels 
do not align vertically.  The "Wizards:" label is positioned four pixels above 
the "Description:" label.
Fixed in HEAD to prevent pixel madness.
The description text has been moved back into the header for M9 so this bug is
now invalid.</WithStack>
    <WithOutStack>This has been bugging me for a bit.  The "Wizards:" and "Description:" labels 
do not align vertically.  The "Wizards:" label is positioned four pixels above 
the "Description:" label.
Fixed in HEAD to prevent pixel madness.
The description text has been moved back into the header for M9 so this bug is
now invalid.</WithOutStack>
  </Bug>
  <Bug>
    <BugId amount="56616" />
    <CreationDate amount="2004-03-29 13:42:00 -0500" />
    <DupId amount="" />
    <classification amount="Eclipse" />
    <Product amount="Platform" />
    <component amount="UI" />
    <Version amount="3.0" />
    <rep_platform amount="PC" />
    <op_sys amount="Windows XP" />
    <priority amount="P3" />
    <bug_severity amount="normal" />
    <Summery>[Wizards] Description area of new wizard should eat all vertical space if there is no image</Summery>
    <Patches amount="0" />
    <Stacktraces amount="0" />
    <SourceCodeRegions amount="0" />
    <Enumerations amount="0" />
    <bug_status amount="CLOSED" />
    <resolution amount="FIXED" />
    <WithStack>M8

As it is, it will only take up (roughly) the top half of the window.  This needs
to be bigger.
Fix in HEAD.
There is no description area anymore so this is invalid.</WithStack>
    <WithOutStack>M8

As it is, it will only take up (roughly) the top half of the window.  This needs
to be bigger.
Fix in HEAD.
There is no description area anymore so this is invalid.</WithOutStack>
  </Bug>
  <Bug>
    <BugId amount="56617" />
    <CreationDate amount="2004-03-29 13:43:00 -0500" />
    <DupId amount="" />
    <classification amount="Eclipse Foundation" />
    <Product amount="z_Archived" />
    <component amount="Hyades" />
    <Version amount="unspecified" />
    <rep_platform amount="PC" />
    <op_sys amount="Windows XP" />
    <priority amount="P3" />
    <bug_severity amount="major" />
    <Summery>Copyright notices needed in test.ui and models.common files.</Summery>
    <Patches amount="0" />
    <Stacktraces amount="0" />
    <SourceCodeRegions amount="0" />
    <Enumerations amount="0" />
    <bug_status amount="CLOSED" />
    <resolution amount="FIXED" />
    <WithStack>I have fixed the copyrights in these files:

org.eclipse.hyades.models.common/src/org/eclipse/hyades/models/common/datapool/i
mpl/DatapoolIteratorImpl_Private_Base.java
org.eclipse.hyades.models.common/src/org/eclipse/hyades/models/common/datapool/i
mpl/DPLDatapoolSpecImpl.java
org.eclipse.hyades.models.common/src/org/eclipse/hyades/models/common/datapool/D
PLDatapoolSpec.java
org.eclipse.hyades.models.common/src/org/eclipse/hyades/models/common/facades/be
havioral/impl/FacadeResourceFactoryImpl.java
org.eclipse.hyades.models.common/src/org/eclipse/hyades/models/common/facades/be
havioral/impl/PropertyGroupImpl.java
org.eclipse.hyades.models.common/src/org/eclipse/hyades/models/common/facades/be
havioral/test/ValidateFacadeImpl.java
org.eclipse.hyades.models.common/src/org/eclipse/hyades/models/common/configurat
ion/HyadesPasswordCategory.java
org.eclipse.hyades.models.common/src/org/eclipse/hyades/models/common/interactio
ns/impl/Common_Behavior_InteractionsFactoryImpl.java
org.eclipse.hyades.test.datapool/src/org/eclipse/hyades/execution/runtime/datapo
ol/IDatapoolEvaluatorExt.java
org.eclipse.hyades.test.datapool/src/org/eclipse/hyades/execution/runtime/datapo
ol/IDatapoolIteratorExt.java
org.eclipse.hyades.test.ui/src/org/eclipse/hyades/test/ui/editor/form/util/TestO
bjectiveSection.java
org.eclipse.hyades.test.ui/src/org/eclipse/hyades/test/ui/HyadesTestNavigatorPro
vider1.java
org.eclipse.hyades.test.ui/src/org/eclipse/hyades/test/ui/internal/model/ui/Visi
bleTypes.java
org.eclipse.hyades.test.ui/src/org/eclipse/hyades/test/ui/internal/navigator/Exe
cutionVerdictImages.java
org.eclipse.hyades.test.ui/src/org/eclipse/hyades/test/ui/internal/navigator/Exe
cutionHTNDecorator.java
org.eclipse.hyades.test.ui/src/org/eclipse/hyades/test/ui/internal/editor/util/L
ocationResourceFactory.java
org.eclipse.hyades.test.ui/src/org/eclipse/hyades/test/ui/internal/editor/Locati
onEditorPart.java
org.eclipse.hyades.test.ui.datapool/src/org/eclipse/hyades/test/ui/datapool/Data
poolPlugin.java


house keeping
As of TPTP 4.6.0, TPTP is in maintenance mode and focusing on improving quality by resolving relevant enhancements/defects and increasing test coverage through test creation, automation, Build Verification Tests (BVTs), and expanded run-time execution. As part of the TPTP Bugzilla housecleaning process (see http://wiki.eclipse.org/Bugzilla_Housecleaning_Processes), this enhancement/defect is verified/closed by the Project Lead since this enhancement/defect has been resolved and unverified for more than 1 year and considered to be fixed. If this enhancement/defect is still unresolved and reproducible in the latest TPTP release (http://www.eclipse.org/tptp/home/downloads/), please re-open.</WithStack>
    <WithOutStack>I have fixed the copyrights in these files:

org.eclipse.hyades.models.common/src/org/eclipse/hyades/models/common/datapool/i
mpl/DatapoolIteratorImpl_Private_Base.java
org.eclipse.hyades.models.common/src/org/eclipse/hyades/models/common/datapool/i
mpl/DPLDatapoolSpecImpl.java
org.eclipse.hyades.models.common/src/org/eclipse/hyades/models/common/datapool/D
PLDatapoolSpec.java
org.eclipse.hyades.models.common/src/org/eclipse/hyades/models/common/facades/be
havioral/impl/FacadeResourceFactoryImpl.java
org.eclipse.hyades.models.common/src/org/eclipse/hyades/models/common/facades/be
havioral/impl/PropertyGroupImpl.java
org.eclipse.hyades.models.common/src/org/eclipse/hyades/models/common/facades/be
havioral/test/ValidateFacadeImpl.java
org.eclipse.hyades.models.common/src/org/eclipse/hyades/models/common/configurat
ion/HyadesPasswordCategory.java
org.eclipse.hyades.models.common/src/org/eclipse/hyades/models/common/interactio
ns/impl/Common_Behavior_InteractionsFactoryImpl.java
org.eclipse.hyades.test.datapool/src/org/eclipse/hyades/execution/runtime/datapo
ol/IDatapoolEvaluatorExt.java
org.eclipse.hyades.test.datapool/src/org/eclipse/hyades/execution/runtime/datapo
ol/IDatapoolIteratorExt.java
org.eclipse.hyades.test.ui/src/org/eclipse/hyades/test/ui/editor/form/util/TestO
bjectiveSection.java
org.eclipse.hyades.test.ui/src/org/eclipse/hyades/test/ui/HyadesTestNavigatorPro
vider1.java
org.eclipse.hyades.test.ui/src/org/eclipse/hyades/test/ui/internal/model/ui/Visi
bleTypes.java
org.eclipse.hyades.test.ui/src/org/eclipse/hyades/test/ui/internal/navigator/Exe
cutionVerdictImages.java
org.eclipse.hyades.test.ui/src/org/eclipse/hyades/test/ui/internal/navigator/Exe
cutionHTNDecorator.java
org.eclipse.hyades.test.ui/src/org/eclipse/hyades/test/ui/internal/editor/util/L
ocationResourceFactory.java
org.eclipse.hyades.test.ui/src/org/eclipse/hyades/test/ui/internal/editor/Locati
onEditorPart.java
org.eclipse.hyades.test.ui.datapool/src/org/eclipse/hyades/test/ui/datapool/Data
poolPlugin.java


house keeping
As of TPTP 4.6.0, TPTP is in maintenance mode and focusing on improving quality by resolving relevant enhancements/defects and increasing test coverage through test creation, automation, Build Verification Tests (BVTs), and expanded run-time execution. As part of the TPTP Bugzilla housecleaning process (see http://wiki.eclipse.org/Bugzilla_Housecleaning_Processes), this enhancement/defect is verified/closed by the Project Lead since this enhancement/defect has been resolved and unverified for more than 1 year and considered to be fixed. If this enhancement/defect is still unresolved and reproducible in the latest TPTP release (http://www.eclipse.org/tptp/home/downloads/), please re-open.</WithOutStack>
  </Bug>
  <Bug>
    <BugId amount="56618" />
    <CreationDate amount="2004-03-29 13:53:00 -0500" />
    <DupId amount="" />
    <classification amount="Eclipse" />
    <Product amount="Platform" />
    <component amount="Releng" />
    <Version amount="3.0" />
    <rep_platform amount="PC" />
    <op_sys amount="Windows XP" />
    <priority amount="P3" />
    <bug_severity amount="normal" />
    <Summery>broken link from srcIncludedBuildInstructions.html</Summery>
    <Patches amount="0" />
    <Stacktraces amount="0" />
    <SourceCodeRegions amount="0" />
    <Enumerations amount="0" />
    <bug_status amount="RESOLVED" />
    <resolution amount="FIXED" />
    <WithStack>(not sure this is the right component)

The following page:

http://download.eclipse.org/downloads/drops/S-3.0M8-200403261517/srcIncludedBuildInstructions.html

Has a link to Help that is broken. Search for "desired command line parameters"
(without quotes).
Updated in head stream of our builder. We should be updating our builder this 
week.</WithStack>
    <WithOutStack>(not sure this is the right component)

The following page:

http://download.eclipse.org/downloads/drops/S-3.0M8-200403261517/srcIncludedBuildInstructions.html

Has a link to Help that is broken. Search for "desired command line parameters"
(without quotes).
Updated in head stream of our builder. We should be updating our builder this 
week.</WithOutStack>
  </Bug>
  <Bug>
    <BugId amount="56619" />
    <CreationDate amount="2004-03-29 13:56:00 -0500" />
    <DupId amount="" />
    <classification amount="Eclipse" />
    <Product amount="Platform" />
    <component amount="SWT" />
    <Version amount="3.0" />
    <rep_platform amount="Macintosh" />
    <op_sys amount="Mac OS X - Carbon (unsup.)" />
    <priority amount="P3" />
    <bug_severity amount="normal" />
    <Summery>Inadvertant item selection while trying to scroll</Summery>
    <Patches amount="0" />
    <Stacktraces amount="0" />
    <SourceCodeRegions amount="0" />
    <Enumerations amount="0" />
    <bug_status amount="RESOLVED" />
    <resolution amount="WONTFIX" />
    <WithStack>Here's a problem that is driving me crazy. 

When editing Java on my Powerbook I often scroll in the Package Explorer by 
dragging the scroll bar. However, if I "miss" and start the drag operation a 
millimeter to the left of the scroll bar, I actually "grab" the file at that Y 
coordinate. Therefore, when my hand tries to quickly move the scroll bar down, 
I often accidentally grab a file and drag it where ever I happed to be when I 
release the mouse. There is no un-do, so I then have to spend minutes trying to 
figure out what I grabbed and where it ended up. Basically, the scroll bar is 
so dangerous that I simply don't use it. 

This behavior does not happen in Windows. In this case, the scroll window 
widget will only select a file if the mouse is literally on the file name 
itself. In this case, if I "miss" the the scroll bar when dragging then nothing 
happens unless the file name is so long that it extends to the right edge of 
the widget -- such long file names are rare, and the visual feedback of seeing 
the long name abutting the scroll bar is enough to slow down my hand.

So, it would be nice if either (1) the OS X widget did not select to the right 
of the file name, or (2) if there were an un-do for drag operations, or (3) 
there were some "operation history" UI that at least showed me what happened so 
I could un-do it manually.

Thanks!
Max, are you using Motif or GTK on Linux
Oops. The OS on the original bug report is wrong. I'm using the Mac/Carbon 
version (3.0.0, build 200312182000).
Given that M9 is our last milestone undo support for drag and drop will very 
likely not happen. 

Andre, can you comment on the Mac widget behaviour.
Moving to SWT
Closing report, platform is discontinued.</WithStack>
    <WithOutStack>Here's a problem that is driving me crazy. 

When editing Java on my Powerbook I often scroll in the Package Explorer by 
dragging the scroll bar. However, if I "miss" and start the drag operation a 
millimeter to the left of the scroll bar, I actually "grab" the file at that Y 
coordinate. Therefore, when my hand tries to quickly move the scroll bar down, 
I often accidentally grab a file and drag it where ever I happed to be when I 
release the mouse. There is no un-do, so I then have to spend minutes trying to 
figure out what I grabbed and where it ended up. Basically, the scroll bar is 
so dangerous that I simply don't use it. 

This behavior does not happen in Windows. In this case, the scroll window 
widget will only select a file if the mouse is literally on the file name 
itself. In this case, if I "miss" the the scroll bar when dragging then nothing 
happens unless the file name is so long that it extends to the right edge of 
the widget -- such long file names are rare, and the visual feedback of seeing 
the long name abutting the scroll bar is enough to slow down my hand.

So, it would be nice if either (1) the OS X widget did not select to the right 
of the file name, or (2) if there were an un-do for drag operations, or (3) 
there were some "operation history" UI that at least showed me what happened so 
I could un-do it manually.

Thanks!
Max, are you using Motif or GTK on Linux
Oops. The OS on the original bug report is wrong. I'm using the Mac/Carbon 
version (3.0.0, build 200312182000).
Given that M9 is our last milestone undo support for drag and drop will very 
likely not happen. 

Andre, can you comment on the Mac widget behaviour.
Moving to SWT
Closing report, platform is discontinued.</WithOutStack>
  </Bug>
  <Bug>
    <BugId amount="56620" />
    <CreationDate amount="2004-03-29 14:10:00 -0500" />
    <DupId amount="" />
    <classification amount="Tools" />
    <Product amount="CDT" />
    <component amount="cdt-parser" />
    <Version amount="2.0" />
    <rep_platform amount="PC" />
    <op_sys amount="Windows 2000" />
    <priority amount="P3" />
    <bug_severity amount="minor" />
    <Summery>Outline view stops on error on last line of  block</Summery>
    <Patches amount="0" />
    <Stacktraces amount="0" />
    <SourceCodeRegions amount="1">
      <source_code type="class">
        <location start="52" end="68" />
        <code>class A {
   B
}</code>
      </source_code>
    </SourceCodeRegions>
    <Enumerations amount="0" />
    <bug_status amount="RESOLVED" />
    <resolution amount="FIXED" />
    <WithStack>The following code causes the outline view to stop

class A {
   B
};

The error handling consumes the }; which results in the parser trying to parse 
class members  when we are in fact already past the class.  A similar situation 
could cause the indexer to not realize we have left a function.

I propose changing errorHandling() to return if( depth &lt; 0 ) after the switch, 
but before the consume.  This way whatever code block we are in can still exit 
properly.
Actually, because of the conditions on depth in the while loop, errorHandling 
ends up consuming way too much, potentially the rest of the translation unit.
Setting severity to minor .. i'll assign the defect to you, but we have bigger 
fish to fry, no?

its a simple fix, just wanted to give you a chance to speak out if you objected 
to the change.

change has been made</WithStack>
    <WithOutStack>The following code causes the outline view to stop

class A {
   B
};

The error handling consumes the }; which results in the parser trying to parse 
class members  when we are in fact already past the class.  A similar situation 
could cause the indexer to not realize we have left a function.

I propose changing errorHandling() to return if( depth &lt; 0 ) after the switch, 
but before the consume.  This way whatever code block we are in can still exit 
properly.
Actually, because of the conditions on depth in the while loop, errorHandling 
ends up consuming way too much, potentially the rest of the translation unit.
Setting severity to minor .. i'll assign the defect to you, but we have bigger 
fish to fry, no?

its a simple fix, just wanted to give you a chance to speak out if you objected 
to the change.

change has been made</WithOutStack>
  </Bug>
  <Bug>
    <BugId amount="56621" />
    <CreationDate amount="2004-03-29 14:21:00 -0500" />
    <DupId amount="" />
    <classification amount="Eclipse" />
    <Product amount="Platform" />
    <component amount="SWT" />
    <Version amount="2.1.1" />
    <rep_platform amount="PC" />
    <op_sys amount="Windows XP" />
    <priority amount="P3" />
    <bug_severity amount="normal" />
    <Summery>Attempts to create very large images fail with a misleading SWTError</Summery>
    <Patches amount="0" />
    <Stacktraces amount="1">
      <Stacktrace timestamp="1437341104087">
        <Exception>org.eclipse.swt.SWTError</Exception>
        <Reason>No more handles</Reason>
        <Frames>
          <Frame depth="0">java.lang.Throwable.&lt;init&gt;(Throwable.java)</Frame>
          <Frame depth="1">java.lang.Throwable.&lt;init&gt;(Throwable.java)</Frame>
          <Frame depth="2">org.eclipse.swt.SWTError.&lt;init&gt;(SWTError.java:82)</Frame>
          <Frame depth="3">org.eclipse.swt.SWTError.&lt;init&gt;(SWTError.java:71)</Frame>
          <Frame depth="4">org.eclipse.swt.SWT.error(SWT.java:2356)</Frame>
          <Frame depth="5">org.eclipse.swt.SWT.error(SWT.java:2260)</Frame>
          <Frame depth="6">org.eclipse.swt.graphics.Image.init(Image.java:1445)</Frame>
          <Frame depth="7">org.eclipse.swt.graphics.Image.&lt;init&gt;(Image.java:161)</Frame>
          <Frame depth="8">org.eclipse.draw2d.internal.ImageInfo.&lt;init&gt;(ImageInfo.java:69)</Frame>
        </Frames>
      </Stacktrace>
    </Stacktraces>
    <SourceCodeRegions amount="12">
      <source_code type="multicomment">
        <location start="239" end="273" />
        <code>/* Get the HDC for the device */</code>
      </source_code>
      <source_code type="assignment">
        <location start="274" end="314" />
        <code>int hDC = device.internal_new_GC(null);</code>
      </source_code>
      <source_code type="multicomment">
        <location start="315" end="375" />
        <code>/* Fill the bitmap with the current background color */</code>
      </source_code>
      <source_code type="assignment">
        <location start="376" end="432" />
        <code>handle = OS.CreateCompatibleBitmap(hDC, width, height);</code>
      </source_code>
      <source_code type="assignment">
        <location start="433" end="483" />
        <code>if (handle == 0) SWT.error(SWT.ERROR_NO_HANDLES);</code>
      </source_code>
      <source_code type="assignment">
        <location start="484" end="524" />
        <code>int memDC = OS.CreateCompatibleDC(hDC);</code>
      </source_code>
      <source_code type="assignment">
        <location start="838" end="862" />
        <code>HDC hdc = GetDC( hwnd );</code>
      </source_code>
      <source_code type="singlecomment">
        <location start="863" end="882" />
        <code>// get screen size</code>
      </source_code>
      <source_code type="assignment">
        <location start="882" end="929" />
        <code>X_max_pixels = GetSystemMetrics( SM_CXSCREEN );</code>
      </source_code>
      <source_code type="assignment">
        <location start="930" end="977" />
        <code>Y_max_pixels = GetSystemMetrics( SM_CYSCREEN );</code>
      </source_code>
      <source_code type="singlecomment">
        <location start="978" end="1006" />
        <code>// make a compatible bitmap</code>
      </source_code>
      <source_code type="assignment">
        <location start="1006" end="1044" />
        <code>hMemoryDC = CreateCompatibleDC( hdc );</code>
      </source_code>
    </SourceCodeRegions>
    <Enumerations amount="1">
      <Enumeration lines="4">
        <Lines>
          <Line>- is device and driver dependent</Line>
          <Line>- may depend on OS version</Line>
          <Line>- may depend on what DC you use to create the image ???  (we're using a DC</Line>
          <Line>for the whole screen in the cases I'm aware of)</Line>
        </Lines>
      </Enumeration>
    </Enumerations>
    <bug_status amount="RESOLVED" />
    <resolution amount="WONTFIX" />
    <WithStack>If you try to create an Image which is larger than 2048 in either dimension, 
the call will fail on Windows XP (probably all versions of Windows).  SWT 
reports a misleading error in this case:

org.eclipse.swt.SWTError: No more handles
	at java.lang.Throwable.&lt;init&gt;(Throwable.java)
	at java.lang.Throwable.&lt;init&gt;(Throwable.java)
	at org.eclipse.swt.SWTError.&lt;init&gt;(SWTError.java:82)
	at org.eclipse.swt.SWTError.&lt;init&gt;(SWTError.java:71)
	at org.eclipse.swt.SWT.error(SWT.java:2356)
	at org.eclipse.swt.SWT.error(SWT.java:2260)
	at org.eclipse.swt.graphics.Image.init(Image.java:1445)
	at org.eclipse.swt.graphics.Image.&lt;init&gt;(Image.java:161)
	at org.eclipse.draw2d.internal.ImageInfo.&lt;init&gt;(ImageInfo.java:69)

The code in Image.init() looks like this:

	/* Get the HDC for the device */
	int hDC = device.internal_new_GC(null);
			
	/* Fill the bitmap with the current background color */
	handle = OS.CreateCompatibleBitmap(hDC, width, height);
	if (handle == 0) SWT.error(SWT.ERROR_NO_HANDLES);
	int memDC = OS.CreateCompatibleDC(hDC);

The call "OS.GetDC(0)" in internal_new_GC() retrieves the device context for 
the entire screen (since 0 was passed in).  This device context contains 
information limiting the size of bitmaps that can be created on it.

Lorne found this code snippet on the net 
(http://home.att.net/~srschmitt/Num_plot.html):

HDC hdc = GetDC( hwnd );
// get screen size
X_max_pixels = GetSystemMetrics( SM_CXSCREEN );
Y_max_pixels = GetSystemMetrics( SM_CYSCREEN );
// make a compatible bitmap
hMemoryDC = CreateCompatibleDC( hdc );
hbit = CreateCompatibleBitmap( hdc, X_max_pixels, Y_max_pixels ); 

GetSystemMetrics: (http://msdn.microsoft.com/library/default.asp?
url=/library/en-us/sysinfo/base/getsystemmetrics.asp)
The above link basically will tell you that the maximum sizes are system and 
device dependent.

We think that SWT should catch failed attempts to create a bitmap which is too 
large, and report an appropriate error (with an IllegalArgumentException?).

It would then be up to callers (in our case, the draw2d framework) to handle 
this situation gracefully.
As a reference point, I can create images of the size:
3000 x 2500
5000 x 1200
2000 x 4200

without any problems using 32-bit color depth. So there does not appear to be 
any limitation associated with the Display resolution.
I agree with Randy, the maximum size of an image does not depend on the size 
of the screen. If you reduce the depth of the screen (let's say 16bit), you 
will probably be able to create a larger image.

The MSDN documentation for CreateCompatibleBitmap says that the size in bytes 
of the image must not exceed 16Mb on Windows 95/98/Me, but it does not say 
anything about Xp/2k/NT. I believe that the size ultimately depends on the 
video driver, but I have not found any doc to support that.

So, SWT can not just add the sugested check, but the application could limit 
the size of the images it creates to the size of the screen using 
Display.getBounds().
marking as won't fix
Silenio, does "must not exceed 16MB" imply that
"will be successful for all sizes &lt;= 16MB"?
That is all the doc says:

"Windows 95/98/Me: The created bitmap cannot exceed 16MB in size."

I personally don't believe it.

FYI. In my XP machine it seems that the limit is 68Mb.
Re what Randy says:
Silenio, does "must not exceed 16MB" imply that
"will be successful for all sizes &lt;= 16MB"?

I think it doesn't imply that at all.  There might be other circumstances (e.g. 
you are really out of memory) which cause the allocation to fail even if you 
stay under the 16MB limit.  Of course, Windows 95/98/Me would probably crash 
anyway under circumstances like that.

Re Silenio's last comment, Windows XP has a different internal architecture 
from Windows 95/98/Me.  XP apparently doesn't have the same arbitrary size 
limitation.  =)

But ultimately, there is usually *some* limit on the image dimensions, which:
  - is device and driver dependent
  - may depend on OS version
  - may depend on what DC you use to create the image ???  (we're using a DC 
for the whole screen in the cases I'm aware of)

The limit is almost certainly larger than the screen in all ordinary cases.

Steve suggested a good code pattern for callers who try to create images which 
might be large.  If an SWTError is thrown, they should catch it and then try to 
create a tiny image (1x1 ?).  If this succeeds, the image was probably just too 
big, and the SWTError should be treated as a recoverable error.  If it fails, 
then the "out of handles" SWTError really means what it says.</WithStack>
    <WithOutStack>If you try to create an Image which is larger than 2048 in either dimension, 
the call will fail on Windows XP (probably all versions of Windows).  SWT 
reports a misleading error in this case:



The code in Image.init() looks like this:

	/* Get the HDC for the device */
	int hDC = device.internal_new_GC(null);
			
	/* Fill the bitmap with the current background color */
	handle = OS.CreateCompatibleBitmap(hDC, width, height);
	if (handle == 0) SWT.error(SWT.ERROR_NO_HANDLES);
	int memDC = OS.CreateCompatibleDC(hDC);

The call "OS.GetDC(0)" in internal_new_GC() retrieves the device context for 
the entire screen (since 0 was passed in).  This device context contains 
information limiting the size of bitmaps that can be created on it.

Lorne found this code snippet on the net 
(http://home.att.net/~srschmitt/Num_plot.html):

HDC hdc = GetDC( hwnd );
// get screen size
X_max_pixels = GetSystemMetrics( SM_CXSCREEN );
Y_max_pixels = GetSystemMetrics( SM_CYSCREEN );
// make a compatible bitmap
hMemoryDC = CreateCompatibleDC( hdc );
hbit = CreateCompatibleBitmap( hdc, X_max_pixels, Y_max_pixels ); 

GetSystemMetrics: (http://msdn.microsoft.com/library/default.asp?
url=/library/en-us/sysinfo/base/getsystemmetrics.asp)
The above link basically will tell you that the maximum sizes are system and 
device dependent.

We think that SWT should catch failed attempts to create a bitmap which is too 
large, and report an appropriate error (with an IllegalArgumentException?).

It would then be up to callers (in our case, the draw2d framework) to handle 
this situation gracefully.
As a reference point, I can create images of the size:
3000 x 2500
5000 x 1200
2000 x 4200

without any problems using 32-bit color depth. So there does not appear to be 
any limitation associated with the Display resolution.
I agree with Randy, the maximum size of an image does not depend on the size 
of the screen. If you reduce the depth of the screen (let's say 16bit), you 
will probably be able to create a larger image.

The MSDN documentation for CreateCompatibleBitmap says that the size in bytes 
of the image must not exceed 16Mb on Windows 95/98/Me, but it does not say 
anything about Xp/2k/NT. I believe that the size ultimately depends on the 
video driver, but I have not found any doc to support that.

So, SWT can not just add the sugested check, but the application could limit 
the size of the images it creates to the size of the screen using 
Display.getBounds().
marking as won't fix
Silenio, does "must not exceed 16MB" imply that
"will be successful for all sizes &lt;= 16MB"?
That is all the doc says:

"Windows 95/98/Me: The created bitmap cannot exceed 16MB in size."

I personally don't believe it.

FYI. In my XP machine it seems that the limit is 68Mb.
Re what Randy says:
Silenio, does "must not exceed 16MB" imply that
"will be successful for all sizes &lt;= 16MB"?

I think it doesn't imply that at all.  There might be other circumstances (e.g. 
you are really out of memory) which cause the allocation to fail even if you 
stay under the 16MB limit.  Of course, Windows 95/98/Me would probably crash 
anyway under circumstances like that.

Re Silenio's last comment, Windows XP has a different internal architecture 
from Windows 95/98/Me.  XP apparently doesn't have the same arbitrary size 
limitation.  =)

But ultimately, there is usually *some* limit on the image dimensions, which:
  - is device and driver dependent
  - may depend on OS version
  - may depend on what DC you use to create the image ???  (we're using a DC 
for the whole screen in the cases I'm aware of)

The limit is almost certainly larger than the screen in all ordinary cases.

Steve suggested a good code pattern for callers who try to create images which 
might be large.  If an SWTError is thrown, they should catch it and then try to 
create a tiny image (1x1 ?).  If this succeeds, the image was probably just too 
big, and the SWTError should be treated as a recoverable error.  If it fails, 
then the "out of handles" SWTError really means what it says.</WithOutStack>
  </Bug>
  <Bug>
    <BugId amount="56622" />
    <CreationDate amount="2004-03-29 14:31:00 -0500" />
    <DupId amount="" />
    <classification amount="Tools" />
    <Product amount="GEF" />
    <component amount="Draw2d [GEF 3.x / Zest 1.x]" />
    <Version amount="2.1.1" />
    <rep_platform amount="PC" />
    <op_sys amount="Windows XP" />
    <priority amount="P3" />
    <bug_severity amount="normal" />
    <Summery>Attempts to create large images in ImageCache.checkout() can fail with an SWTError</Summery>
    <Patches amount="0" />
    <Stacktraces amount="0" />
    <SourceCodeRegions amount="0" />
    <Enumerations amount="0" />
    <bug_status amount="RESOLVED" />
    <resolution amount="FIXED" />
    <WithStack>We hit a case where we had a very large canvas in our BPEL editor, and when 
opening the editor, GEF or draw2d tries to repair the entire canvas area.

This results in LightweightSystem.getGraphics() calling ImageCache.checkout() 
with the size of the entire canvas.  ImageCache.checkout() tries to create this 
large image, which fails at the OS level.

ImageCache.checkout() seems to be aware of this problem, its method comment 
mentions that it will return null if the image size requested is too big, and 
it contains a catch handler for IllegalArgumentException that returns null.

Unfortunately, at least some versions of SWT (2.1.1 and probably other 
versions) are actually throwing an SWTError with "No more handles" as the 
reason, when ImageCache attempts to create an immage which is too large.

We've logged defect 56621 with SWT alleging that they are reporting the error 
incorrectly.  But it also seems prudent to modify draw2d to also catch SWTError 
in this situation and treat it like IllegalArgumentException.

For our specific case: Grant Taylor found that we could catch the SWTError in 
ImageCache.checkout(), and also add a try/catch around the body of 
DeferredUpdateManager.repairDamage(), and nothing bad would happen.  It fails 
to repair the entire canvas but apparently, it then repairs the part which can 
be seen in (our version of) the ScrollingGraphicalViewer.  I have a really ugly 
hack to do this workaround for the BPEL editor without changing the code of 
draw2d.
How large is the image? Your canvas can't be any larger than the screen, 
right?  Are you using NVidia display driver?
We're using a ScrollingBPELGraphicalViewer (based on 
ScrollingGraphicalViewer).  The canvas is as big as it needs to be to show the 
whole process, and is scrolled natively (?).  In this case, it was much bigger 
than the screen.
Fixed. When images cannot be obtained, we do not paint with double-buffering.</WithStack>
    <WithOutStack>We hit a case where we had a very large canvas in our BPEL editor, and when 
opening the editor, GEF or draw2d tries to repair the entire canvas area.

This results in LightweightSystem.getGraphics() calling ImageCache.checkout() 
with the size of the entire canvas.  ImageCache.checkout() tries to create this 
large image, which fails at the OS level.

ImageCache.checkout() seems to be aware of this problem, its method comment 
mentions that it will return null if the image size requested is too big, and 
it contains a catch handler for IllegalArgumentException that returns null.

Unfortunately, at least some versions of SWT (2.1.1 and probably other 
versions) are actually throwing an SWTError with "No more handles" as the 
reason, when ImageCache attempts to create an immage which is too large.

We've logged defect 56621 with SWT alleging that they are reporting the error 
incorrectly.  But it also seems prudent to modify draw2d to also catch SWTError 
in this situation and treat it like IllegalArgumentException.

For our specific case: Grant Taylor found that we could catch the SWTError in 
ImageCache.checkout(), and also add a try/catch around the body of 
DeferredUpdateManager.repairDamage(), and nothing bad would happen.  It fails 
to repair the entire canvas but apparently, it then repairs the part which can 
be seen in (our version of) the ScrollingGraphicalViewer.  I have a really ugly 
hack to do this workaround for the BPEL editor without changing the code of 
draw2d.
How large is the image? Your canvas can't be any larger than the screen, 
right?  Are you using NVidia display driver?
We're using a ScrollingBPELGraphicalViewer (based on 
ScrollingGraphicalViewer).  The canvas is as big as it needs to be to show the 
whole process, and is scrolled natively (?).  In this case, it was much bigger 
than the screen.
Fixed. When images cannot be obtained, we do not paint with double-buffering.</WithOutStack>
  </Bug>
  <Bug>
    <BugId amount="56623" />
    <CreationDate amount="2004-03-29 14:33:00 -0500" />
    <DupId amount="56528" />
    <classification amount="Eclipse" />
    <Product amount="PDE" />
    <component amount="UI" />
    <Version amount="3.0" />
    <rep_platform amount="PC" />
    <op_sys amount="Windows 2000" />
    <priority amount="P3" />
    <bug_severity amount="major" />
    <Summery>PDE not loading plugins properly</Summery>
    <Patches amount="0" />
    <Stacktraces amount="0" />
    <SourceCodeRegions amount="0" />
    <Enumerations amount="0" />
    <bug_status amount="CLOSED" />
    <resolution amount="DUPLICATE" />
    <WithStack>Eclispe M8 does not load plugins properly from my runtime target (based on the 
200403040800).  Preferences-&gt;plugin development-&gt;target platform is only 
finding 68 plugins.  The 200403040800 driver finds 427.
The Core resolver must not like your target platform for some reason.
In tomorrow's I-build, PDE will spit out to the log the reasons why many of 
your plug-ins were discarded.  
Try again with that build, and attach the log so that the Core team could 
investigate.

*** This bug has been marked as a duplicate of 56528 ***
Verified for Jason</WithStack>
    <WithOutStack>Eclispe M8 does not load plugins properly from my runtime target (based on the 
200403040800).  Preferences-&gt;plugin development-&gt;target platform is only 
finding 68 plugins.  The 200403040800 driver finds 427.
The Core resolver must not like your target platform for some reason.
In tomorrow's I-build, PDE will spit out to the log the reasons why many of 
your plug-ins were discarded.  
Try again with that build, and attach the log so that the Core team could 
investigate.

*** This bug has been marked as a duplicate of 56528 ***
Verified for Jason</WithOutStack>
  </Bug>
  <Bug>
    <BugId amount="56624" />
    <CreationDate amount="2004-03-29 14:36:00 -0500" />
    <DupId amount="43097" />
    <classification amount="Eclipse" />
    <Product amount="Platform" />
    <component amount="Debug" />
    <Version amount="3.0" />
    <rep_platform amount="PC" />
    <op_sys amount="Windows 2000" />
    <priority amount="P3" />
    <bug_severity amount="normal" />
    <Summery>[KeyBindings] Key binding for Run | Toggle Breakpoint does not work properly</Summery>
    <Patches amount="0" />
    <Stacktraces amount="0" />
    <SourceCodeRegions amount="0" />
    <Enumerations amount="0" />
    <bug_status amount="RESOLVED" />
    <resolution amount="DUPLICATE" />
    <WithStack>I have F9 bound to Run | Toggle Breakpoint when Editing Java Source, when
Debugging Java and when Editing Text.  In the Resource Perspective, I have a
Java source file open.  When I hit F9 to toggle a breakpoint, it does not work.
 If I switch to the Debug Perspective, F9 does toggle the line breakpoint.  This
is a regression from M7.  Under 3.0 M7, this key binding configuration worked as
expected.
Debug: can you comment? 
I'm having the same sort of issue, but debugging does not help. I've had F9
bound to toggle breakpoint for a while now and when I installed M8 the binding
went away and I can't get F9 or Ctrl-Shift-B to toggle a breakpoint for me at
all anymore.

Make sure you have the "Breakpoints" action group turned on. Since this is a 
new action group it may not appear automatically in an old workspace. 
See "Window &gt; Customize &gt; Commands (tab) &gt; Breakpoints".
That fixed it for me (didn't even know that dialog was there!). I have heavily 
customized my Java and Debug Perspectives and IIRC my current Debug is actually 
a saved copy of the original Java around the M3 timeframe. I guess that makes 
this a little bug in the update process?


I believe the workbench already has a bug report for this (but I'll have to 
dig to find it).
Grrr, what a lame timewaste.

Would have spent most of an hour, in three separate sessions, trying to get 
those key bindings to work.

I wasn't really happy with the constantly breaking key bindings or the awkward 
and obstructive UI. Even less impressed when I find out the Customize/ 
Perspective configuration, which is a whole separate and rather complex are of 
ui, is required to be inter-worked with this.

The fact that failure is silent and unexplained probably gives the average user 
a 10% or worse chance of getting it to work at all.


*** This bug has been marked as a duplicate of 43097 ***</WithStack>
    <WithOutStack>I have F9 bound to Run | Toggle Breakpoint when Editing Java Source, when
Debugging Java and when Editing Text.  In the Resource Perspective, I have a
Java source file open.  When I hit F9 to toggle a breakpoint, it does not work.
 If I switch to the Debug Perspective, F9 does toggle the line breakpoint.  This
is a regression from M7.  Under 3.0 M7, this key binding configuration worked as
expected.
Debug: can you comment? 
I'm having the same sort of issue, but debugging does not help. I've had F9
bound to toggle breakpoint for a while now and when I installed M8 the binding
went away and I can't get F9 or Ctrl-Shift-B to toggle a breakpoint for me at
all anymore.

Make sure you have the "Breakpoints" action group turned on. Since this is a 
new action group it may not appear automatically in an old workspace. 
See "Window &gt; Customize &gt; Commands (tab) &gt; Breakpoints".
That fixed it for me (didn't even know that dialog was there!). I have heavily 
customized my Java and Debug Perspectives and IIRC my current Debug is actually 
a saved copy of the original Java around the M3 timeframe. I guess that makes 
this a little bug in the update process?


I believe the workbench already has a bug report for this (but I'll have to 
dig to find it).
Grrr, what a lame timewaste.

Would have spent most of an hour, in three separate sessions, trying to get 
those key bindings to work.

I wasn't really happy with the constantly breaking key bindings or the awkward 
and obstructive UI. Even less impressed when I find out the Customize/ 
Perspective configuration, which is a whole separate and rather complex are of 
ui, is required to be inter-worked with this.

The fact that failure is silent and unexplained probably gives the average user 
a 10% or worse chance of getting it to work at all.


*** This bug has been marked as a duplicate of 43097 ***</WithOutStack>
  </Bug>
  <Bug>
    <BugId amount="56625" />
    <CreationDate amount="2004-03-29 14:37:00 -0500" />
    <DupId amount="" />
    <classification amount="Eclipse" />
    <Product amount="Platform" />
    <component amount="UI" />
    <Version amount="3.0" />
    <rep_platform amount="All" />
    <op_sys amount="All" />
    <priority amount="P3" />
    <bug_severity amount="enhancement" />
    <Summery>[Workbench] Hide Perspective Bar</Summery>
    <Patches amount="0" />
    <Stacktraces amount="0" />
    <SourceCodeRegions amount="0" />
    <Enumerations amount="0" />
    <bug_status amount="RESOLVED" />
    <resolution amount="WONTFIX" />
    <WithStack>Please allow the user to hide the perspective bar and add the Open a Perspective
icon to the toolbar.  When the user has the Workbench&gt;Perspective&gt;Open a new
perspective&gt;In a new window selected, the perspective bar has less meaning.
*** Bug 56626 has been marked as a duplicate of this bug. ***
*** Bug 56630 has been marked as a duplicate of this bug. ***
There are currently no plans to work on this</WithStack>
    <WithOutStack>Please allow the user to hide the perspective bar and add the Open a Perspective
icon to the toolbar.  When the user has the Workbench&gt;Perspective&gt;Open a new
perspective&gt;In a new window selected, the perspective bar has less meaning.
*** Bug 56626 has been marked as a duplicate of this bug. ***
*** Bug 56630 has been marked as a duplicate of this bug. ***
There are currently no plans to work on this</WithOutStack>
  </Bug>
  <Bug>
    <BugId amount="56626" />
    <CreationDate amount="2004-03-29 14:38:00 -0500" />
    <DupId amount="56625" />
    <classification amount="Eclipse" />
    <Product amount="Platform" />
    <component amount="UI" />
    <Version amount="3.0" />
    <rep_platform amount="All" />
    <op_sys amount="All" />
    <priority amount="P3" />
    <bug_severity amount="enhancement" />
    <Summery>Hide Perspective Bar</Summery>
    <Patches amount="0" />
    <Stacktraces amount="0" />
    <SourceCodeRegions amount="0" />
    <Enumerations amount="0" />
    <bug_status amount="RESOLVED" />
    <resolution amount="DUPLICATE" />
    <WithStack>Please allow the user to hide the perspective bar and add the Open a Perspective
icon to the toolbar.  When the user has the Workbench&gt;Perspective&gt;Open a new
perspective&gt;In a new window selected, the perspective bar has less meaning.


*** This bug has been marked as a duplicate of 56625 ***</WithStack>
    <WithOutStack>Please allow the user to hide the perspective bar and add the Open a Perspective
icon to the toolbar.  When the user has the Workbench&gt;Perspective&gt;Open a new
perspective&gt;In a new window selected, the perspective bar has less meaning.


*** This bug has been marked as a duplicate of 56625 ***</WithOutStack>
  </Bug>
  <Bug>
    <BugId amount="56627" />
    <CreationDate amount="2004-03-29 14:38:00 -0500" />
    <DupId amount="" />
    <classification amount="Eclipse" />
    <Product amount="Platform" />
    <component amount="UI" />
    <Version amount="3.0" />
    <rep_platform amount="PC" />
    <op_sys amount="Windows 2000" />
    <priority amount="P1" />
    <bug_severity amount="normal" />
    <Summery>[KeyBindings] Import of settings exported from M7 did not set key bindings</Summery>
    <Patches amount="0" />
    <Stacktraces amount="0" />
    <SourceCodeRegions amount="0" />
    <Enumerations amount="0" />
    <bug_status amount="RESOLVED" />
    <resolution amount="INVALID" />
    <WithStack>Before moving to M8, I exported my preferences from M7.  These preferences
include several customized key bindings.  When I imported these preferences into
M8, none of my customized key bindings worked.
I have my export file available if you would like a copy.  Please e-mail me and
I can send it to you.
Created attachment 8989
Exported preferences from 3.0 M7

This is the file containing my exported preferences from 3.0 M7.
From DJ Houghton on the newsgroups: 
"Sorry, I had a mental block and forgot that I've seen this before. This  
problem was addressed in bug 57101 and is fixed post-M8." 
 
He was talking about similar sounding problem.  Could try to reproduce in 
today's integration build (I200404131323)? 
Waiting for response. 
 
I've tried tinkering with your preferences file, and at least the few key 
bindings I looked at were imported.  Could you specify which ones in particular 
you think are missing?  Could you try to duplicate in a recent integration 
build? 
I tried importing your preferences in a freshly installed M7. I get the
following error:
"Unable to import preferences from file "C:\temp\MyEclipseSettings.epf
Reason:
Error while importPreferences."

I imported another “epf” file I own with no problems.

Did you try importing in M7 the preferences you exported? I am using Windows XP.

On another note, I created a dummy file ("temp.epf") containing random
characters. I imported it in M8 and Build id: 200405040800 and did not get an
error message. I did however get an error message for the same files on M7. I am
going to log a bug report about that.
I am closing this bug since I cannot replicate it. Please re-open if this is
still a problem and specify which keys are missing.
When I imported my settings, the key bindings did not work when I edited Java
source even though the bindings appeared to be set in the configuration dialog.
 I believe the problem is that the key bindings were imported at the When: level
of In Windows.  I had to go through each key binding and set the When: level to
"Editing Java Source" to make them work.

I just retried this on Linux GTK integration build I20040512 and the problem
still occurs.  After importing my settings, take a look at the key binding for
Editing Text | Delete Line as an example.  It is bound at the "In Windows" level
to CTRL+L and CTRL+Backspace.  However, when I edit a text file using eclipse,
CTRL+L does not delete a line.  It brings up the "Go to line" dialog.  I have
attached my exported settings again.
Created attachment 10594
Exported settings containing key bindings that don't work after import
Thank you for re-opening this bug and providing more information. The problem
has been identified and we are currently investigating this issue.
Ok, so after some investigation, here is my conclusion.

I do not believe this is a bug, but a design issue. I am guessing that the key
bindings you are adding conflict with each other. For example:

CTRL+L:
In Windows -&gt; Delete a line
In Editing Text -&gt; Go To Line

The 2 key bindings clearly conflict. If you press CTRL+L in an editor, the "Go
To Line" command will be executed. It's a little bit of a design flaw since the
preference page should prevent the addition of conflicting keys.

As a work around, you can delete the "Go To Line" command for editing text.

Let me know if this differs from what you actually did. My guess is you added
the CTRL+L for "Delete a line" but did not remove "Go To Line". If I am
mistaken, please post more information.
Before I exported my settings from M7, all of my customized key bindings in M7
worked.  Typically, I configure the following:

CTRL+L = Delete Line
CTRL+E = Delete to end of line
CTRL+I = Incremental search
CTRL+G = Go to line
F5 = Debug Resume
F8 = Debug Step Over
F11 = Debug Step Into
Shift-F11 = Debug Step Out
F3 = File Close

What I expect to happen is when I import these settings into a new install, the
key bindings should work without having to worry about possible overrides.  This
is not the case.  If I have to spend time checking each customized key binding
for a possible override, then I don't save any time by exporting/importing.  I
might as well map all of these keys manually for each install.

Also, I think the key binding UI could be simplified.  I understand the concept
of binding keys under certain contexts (the When: drop down) and I also
understand that some users probably like this.  Personally, I want all of my key
bindings to be global.  I don't want to worry about which context I am in.  Let
me select the action and the key to use and then, clicking Bind binds the key
globally.
Well, this is definitely a usability issue. If you want to comment on this more,
I suggest you post to Bug 43506 ([KeyBindings] preference page: usability issues).

Thank you for your feedback.</WithStack>
    <WithOutStack>Before moving to M8, I exported my preferences from M7.  These preferences
include several customized key bindings.  When I imported these preferences into
M8, none of my customized key bindings worked.
I have my export file available if you would like a copy.  Please e-mail me and
I can send it to you.
Created attachment 8989
Exported preferences from 3.0 M7

This is the file containing my exported preferences from 3.0 M7.
From DJ Houghton on the newsgroups: 
"Sorry, I had a mental block and forgot that I've seen this before. This  
problem was addressed in bug 57101 and is fixed post-M8." 
 
He was talking about similar sounding problem.  Could try to reproduce in 
today's integration build (I200404131323)? 
Waiting for response. 
 
I've tried tinkering with your preferences file, and at least the few key 
bindings I looked at were imported.  Could you specify which ones in particular 
you think are missing?  Could you try to duplicate in a recent integration 
build? 
I tried importing your preferences in a freshly installed M7. I get the
following error:
"Unable to import preferences from file "C:\temp\MyEclipseSettings.epf
Reason:
Error while importPreferences."

I imported another “epf” file I own with no problems.

Did you try importing in M7 the preferences you exported? I am using Windows XP.

On another note, I created a dummy file ("temp.epf") containing random
characters. I imported it in M8 and Build id: 200405040800 and did not get an
error message. I did however get an error message for the same files on M7. I am
going to log a bug report about that.
I am closing this bug since I cannot replicate it. Please re-open if this is
still a problem and specify which keys are missing.
When I imported my settings, the key bindings did not work when I edited Java
source even though the bindings appeared to be set in the configuration dialog.
 I believe the problem is that the key bindings were imported at the When: level
of In Windows.  I had to go through each key binding and set the When: level to
"Editing Java Source" to make them work.

I just retried this on Linux GTK integration build I20040512 and the problem
still occurs.  After importing my settings, take a look at the key binding for
Editing Text | Delete Line as an example.  It is bound at the "In Windows" level
to CTRL+L and CTRL+Backspace.  However, when I edit a text file using eclipse,
CTRL+L does not delete a line.  It brings up the "Go to line" dialog.  I have
attached my exported settings again.
Created attachment 10594
Exported settings containing key bindings that don't work after import
Thank you for re-opening this bug and providing more information. The problem
has been identified and we are currently investigating this issue.
Ok, so after some investigation, here is my conclusion.

I do not believe this is a bug, but a design issue. I am guessing that the key
bindings you are adding conflict with each other. For example:

CTRL+L:
In Windows -&gt; Delete a line
In Editing Text -&gt; Go To Line

The 2 key bindings clearly conflict. If you press CTRL+L in an editor, the "Go
To Line" command will be executed. It's a little bit of a design flaw since the
preference page should prevent the addition of conflicting keys.

As a work around, you can delete the "Go To Line" command for editing text.

Let me know if this differs from what you actually did. My guess is you added
the CTRL+L for "Delete a line" but did not remove "Go To Line". If I am
mistaken, please post more information.
Before I exported my settings from M7, all of my customized key bindings in M7
worked.  Typically, I configure the following:

CTRL+L = Delete Line
CTRL+E = Delete to end of line
CTRL+I = Incremental search
CTRL+G = Go to line
F5 = Debug Resume
F8 = Debug Step Over
F11 = Debug Step Into
Shift-F11 = Debug Step Out
F3 = File Close

What I expect to happen is when I import these settings into a new install, the
key bindings should work without having to worry about possible overrides.  This
is not the case.  If I have to spend time checking each customized key binding
for a possible override, then I don't save any time by exporting/importing.  I
might as well map all of these keys manually for each install.

Also, I think the key binding UI could be simplified.  I understand the concept
of binding keys under certain contexts (the When: drop down) and I also
understand that some users probably like this.  Personally, I want all of my key
bindings to be global.  I don't want to worry about which context I am in.  Let
me select the action and the key to use and then, clicking Bind binds the key
globally.
Well, this is definitely a usability issue. If you want to comment on this more,
I suggest you post to Bug 43506 ([KeyBindings] preference page: usability issues).

Thank you for your feedback.</WithOutStack>
  </Bug>
  <Bug>
    <BugId amount="56628" />
    <CreationDate amount="2004-03-29 14:39:00 -0500" />
    <DupId amount="" />
    <classification amount="Eclipse" />
    <Product amount="JDT" />
    <component amount="UI" />
    <Version amount="3.0" />
    <rep_platform amount="All" />
    <op_sys amount="All" />
    <priority amount="P3" />
    <bug_severity amount="normal" />
    <Summery>Outdated comment in default code template [code manipulation]</Summery>
    <Patches amount="0" />
    <Stacktraces amount="0" />
    <SourceCodeRegions amount="0" />
    <Enumerations amount="0" />
    <bug_status amount="RESOLVED" />
    <resolution amount="FIXED" />
    <WithStack>The instruction for changing code template in default template should be updated
to reflect changes in structure of preferences, since Code Template is no longer
where it used to be.  Doesn't hurt experienced users, but may confuse a new user.
Move to JDT/UI.
*** Bug 57013 has been marked as a duplicate of this bug. ***
fixed &gt; 20040401
*** Bug 57100 has been marked as a duplicate of this bug. ***</WithStack>
    <WithOutStack>The instruction for changing code template in default template should be updated
to reflect changes in structure of preferences, since Code Template is no longer
where it used to be.  Doesn't hurt experienced users, but may confuse a new user.
Move to JDT/UI.
*** Bug 57013 has been marked as a duplicate of this bug. ***
fixed &gt; 20040401
*** Bug 57100 has been marked as a duplicate of this bug. ***</WithOutStack>
  </Bug>
  <Bug>
    <BugId amount="56629" />
    <CreationDate amount="2004-03-29 14:46:00 -0500" />
    <DupId amount="" />
    <classification amount="Eclipse" />
    <Product amount="Platform" />
    <component amount="UI" />
    <Version amount="3.0" />
    <rep_platform amount="All" />
    <op_sys amount="All" />
    <priority amount="P3" />
    <bug_severity amount="enhancement" />
    <Summery>[Trim] Make Menu Bar a "live" toolbar row</Summery>
    <Patches amount="0" />
    <Stacktraces amount="0" />
    <SourceCodeRegions amount="0" />
    <Enumerations amount="0" />
    <bug_status amount="NEW" />
    <resolution amount="" />
    <WithStack>Please make the Menu bar (File, Edit, etc) a "live" toolbar for moveability, and
allow the row upon which this toolbar lives be a "live" toolbar row.  Allow
other toolbars (Run, etc.) to be placed on this row.  Please see both IE and
Mozilla FireFox for examples of this.

This will increase the usable area within Eclipse and allow a power user "one
row to rule them all" toolbar row layout.  

This would be especially useful if the Hide Perspective Bar enhancement is
implemented (Bug 56625)
Created attachment 8990
Mozilla Firefox example
Created attachment 8991
IE Example
Seems to be a duplicate of bug 20654.
Dup of bug 44649?

Sort of, there are various flavours of requests to be more flexible in the management of the upper part of the screen. This one is about opening up the 'menu' while some of the other referenced ones seem to want the be able to place the Perspective Switcher (the 'shortcut bar'?) into the main CoolBar.

I'm going to mark this one for 3.4 as a placeholder for the work that I'll be doing in these areas. I've had a new trim layout mechanism in the works for quite a while now and this cycle I intend to get it in (it's in my PBC...;-).

Part of this work will be to 'normalize' the handling between all the different trim elements and should provide the capability to mix/match at least the Perspective Switcher and 'Command' Toolbars.

Mote that making the Menu bar behave this way will depend on whether or not it can be supported on all platforms... so no promises on that one.

Removing outdated target milestone.</WithStack>
    <WithOutStack>Please make the Menu bar (File, Edit, etc) a "live" toolbar for moveability, and
allow the row upon which this toolbar lives be a "live" toolbar row.  Allow
other toolbars (Run, etc.) to be placed on this row.  Please see both IE and
Mozilla FireFox for examples of this.

This will increase the usable area within Eclipse and allow a power user "one
row to rule them all" toolbar row layout.  

This would be especially useful if the Hide Perspective Bar enhancement is
implemented (Bug 56625)
Created attachment 8990
Mozilla Firefox example
Created attachment 8991
IE Example
Seems to be a duplicate of bug 20654.
Dup of bug 44649?

Sort of, there are various flavours of requests to be more flexible in the management of the upper part of the screen. This one is about opening up the 'menu' while some of the other referenced ones seem to want the be able to place the Perspective Switcher (the 'shortcut bar'?) into the main CoolBar.

I'm going to mark this one for 3.4 as a placeholder for the work that I'll be doing in these areas. I've had a new trim layout mechanism in the works for quite a while now and this cycle I intend to get it in (it's in my PBC...;-).

Part of this work will be to 'normalize' the handling between all the different trim elements and should provide the capability to mix/match at least the Perspective Switcher and 'Command' Toolbars.

Mote that making the Menu bar behave this way will depend on whether or not it can be supported on all platforms... so no promises on that one.

Removing outdated target milestone.</WithOutStack>
  </Bug>
  <Bug>
    <BugId amount="56630" />
    <CreationDate amount="2004-03-29 14:46:00 -0500" />
    <DupId amount="56625" />
    <classification amount="Eclipse" />
    <Product amount="Platform" />
    <component amount="UI" />
    <Version amount="3.0" />
    <rep_platform amount="All" />
    <op_sys amount="All" />
    <priority amount="P3" />
    <bug_severity amount="enhancement" />
    <Summery>Hide Perspective Bar</Summery>
    <Patches amount="0" />
    <Stacktraces amount="0" />
    <SourceCodeRegions amount="0" />
    <Enumerations amount="0" />
    <bug_status amount="RESOLVED" />
    <resolution amount="DUPLICATE" />
    <WithStack>Please allow the user to hide the perspective bar and add the Open a Perspective
icon to the toolbar.  When the user has the Workbench&gt;Perspective&gt;Open a new
perspective&gt;In a new window selected, the perspective bar has less meaning.


*** This bug has been marked as a duplicate of 56625 ***</WithStack>
    <WithOutStack>Please allow the user to hide the perspective bar and add the Open a Perspective
icon to the toolbar.  When the user has the Workbench&gt;Perspective&gt;Open a new
perspective&gt;In a new window selected, the perspective bar has less meaning.


*** This bug has been marked as a duplicate of 56625 ***</WithOutStack>
  </Bug>
  <Bug>
    <BugId amount="56631" />
    <CreationDate amount="2004-03-29 14:48:00 -0500" />
    <DupId amount="" />
    <classification amount="Eclipse" />
    <Product amount="JDT" />
    <component amount="Core" />
    <Version amount="2.1.2" />
    <rep_platform amount="All" />
    <op_sys amount="All" />
    <priority amount="P3" />
    <bug_severity amount="enhancement" />
    <Summery>ITypeBinding, IMethodBinding, IVariableBinding should have a method to return the Javadoc string</Summery>
    <Patches amount="0" />
    <Stacktraces amount="0" />
    <SourceCodeRegions amount="0" />
    <Enumerations amount="0" />
    <bug_status amount="RESOLVED" />
    <resolution amount="WONTFIX" />
    <WithStack>it is great if the IBinding can have a getJavadoc() which return the javadoc 
string.
Another API change.
Not for 3.0.

Bindings do not maintain a hold onto their declaration file location. This 
would require parsing, caching, etc...
As of now 'LATER' and 'REMIND' resolutions are no longer supported.
Please reopen this bug if it is still valid for you.</WithStack>
    <WithOutStack>it is great if the IBinding can have a getJavadoc() which return the javadoc 
string.
Another API change.
Not for 3.0.

Bindings do not maintain a hold onto their declaration file location. This 
would require parsing, caching, etc...
As of now 'LATER' and 'REMIND' resolutions are no longer supported.
Please reopen this bug if it is still valid for you.</WithOutStack>
  </Bug>
  <Bug>
    <BugId amount="56632" />
    <CreationDate amount="2004-03-29 14:54:00 -0500" />
    <DupId amount="" />
    <classification amount="Eclipse Foundation" />
    <Product amount="z_Archived" />
    <component amount="Hyades" />
    <Version amount="unspecified" />
    <rep_platform amount="All" />
    <op_sys amount="All" />
    <priority amount="P1" />
    <bug_severity amount="critical" />
    <Summery>(M8) Missing icon: link with viewer</Summery>
    <Patches amount="0" />
    <Stacktraces amount="0" />
    <SourceCodeRegions amount="0" />
    <Enumerations amount="0" />
    <bug_status amount="CLOSED" />
    <resolution amount="FIXED" />
    <WithStack>In the latest Eclipse UI, there is no concept of enabled icons which are not 
colored. The corresponding /icons directory has been removed (all icons are now 
colored). We are still trying to load the grayscale icon for link with viewer 
from the platform. Since this is the only icon we're using from the platform, 
the icon will be copied to hyades, as are all other icons.
Fixed.
Closing bug.
house keeping</WithStack>
    <WithOutStack>In the latest Eclipse UI, there is no concept of enabled icons which are not 
colored. The corresponding /icons directory has been removed (all icons are now 
colored). We are still trying to load the grayscale icon for link with viewer 
from the platform. Since this is the only icon we're using from the platform, 
the icon will be copied to hyades, as are all other icons.
Fixed.
Closing bug.
house keeping</WithOutStack>
  </Bug>
  <Bug>
    <BugId amount="56633" />
    <CreationDate amount="2004-03-29 14:55:00 -0500" />
    <DupId amount="" />
    <classification amount="Eclipse" />
    <Product amount="JDT" />
    <component amount="Core" />
    <Version amount="3.0" />
    <rep_platform amount="PC" />
    <op_sys amount="Windows XP" />
    <priority amount="P3" />
    <bug_severity amount="enhancement" />
    <Summery>Package dependency verification</Summery>
    <Patches amount="0" />
    <Stacktraces amount="0" />
    <SourceCodeRegions amount="0" />
    <Enumerations amount="0" />
    <bug_status amount="RESOLVED" />
    <resolution amount="WONTFIX" />
    <WithStack>The code verifications of JDT could include verification of package
dependencies, with user configurable "invalid dependencies" like the follow:
org.anything.logic can depend on org.anything.framework
org.anything.framework can't depend on org.anything.logic


that should be configured by project I think.

Thanks.
Will reconsider post 3.0
As of now 'LATER' and 'REMIND' resolutions are no longer supported.
Please reopen this bug if it is still valid for you.</WithStack>
    <WithOutStack>The code verifications of JDT could include verification of package
dependencies, with user configurable "invalid dependencies" like the follow:
org.anything.logic can depend on org.anything.framework
org.anything.framework can't depend on org.anything.logic


that should be configured by project I think.

Thanks.
Will reconsider post 3.0
As of now 'LATER' and 'REMIND' resolutions are no longer supported.
Please reopen this bug if it is still valid for you.</WithOutStack>
  </Bug>
  <Bug>
    <BugId amount="56634" />
    <CreationDate amount="2004-03-29 14:57:00 -0500" />
    <DupId amount="" />
    <classification amount="Tools" />
    <Product amount="CDT" />
    <component amount="cdt-core" />
    <Version amount="2.0" />
    <rep_platform amount="PC" />
    <op_sys amount="Windows 2000" />
    <priority amount="P3" />
    <bug_severity amount="normal" />
    <Summery>Renaming a fcn in class A renames same named function of other classes</Summery>
    <Patches amount="0" />
    <Stacktraces amount="0" />
    <SourceCodeRegions amount="4">
      <source_code type="functioncall">
        <location start="20" end="32" />
        <code>void fcn();</code>
      </source_code>
      <source_code type="functioncall">
        <location start="47" end="59" />
        <code>void fcn();</code>
      </source_code>
      <source_code type="functiondef">
        <location start="63" end="75" />
        <code>C1::fcn()
{}</code>
      </source_code>
      <source_code type="functiondef">
        <location start="77" end="89" />
        <code>C2::fcn()
{}</code>
      </source_code>
    </SourceCodeRegions>
    <Enumerations amount="0" />
    <bug_status amount="RESOLVED" />
    <resolution amount="FIXED" />
    <WithStack>I have:

Class C1 {
 void fcn();
}

Class C2 {
 void fcn();
}

C1::fcn()
{}

C2::fcn()
{}

I select fcn of Class C1 and choose to rename it.  The function implementation 
of C2 is also renamed.
Fixed in HEAD</WithStack>
    <WithOutStack>I have:

Class C1 {
 void fcn();
}

Class C2 {
 void fcn();
}

C1::fcn()
{}

C2::fcn()
{}

I select fcn of Class C1 and choose to rename it.  The function implementation 
of C2 is also renamed.
Fixed in HEAD</WithOutStack>
  </Bug>
  <Bug>
    <BugId amount="56635" />
    <CreationDate amount="2004-03-29 15:02:00 -0500" />
    <DupId amount="" />
    <classification amount="Eclipse" />
    <Product amount="Platform" />
    <component amount="CVS" />
    <Version amount="2.1.1" />
    <rep_platform amount="PC" />
    <op_sys amount="Windows XP" />
    <priority amount="P3" />
    <bug_severity amount="major" />
    <Summery>[FAQ] Error fetching file revisions (CVSNT)</Summery>
    <Patches amount="0" />
    <Stacktraces amount="0" />
    <SourceCodeRegions amount="0" />
    <Enumerations amount="0" />
    <bug_status amount="RESOLVED" />
    <resolution amount="FIXED" />
    <WithStack>When attempting to merge a branch to the HEAD, or compare a branch with the 
HEAD or any other branch or tag.  We recieve the following error: "Error 
fetching file revisions.".

Our error occurs within WSAD v 5.1 that is based on Eclipse 2.1.1.  The version 
of CVS NT is 2.0.29.

This is only happening with 2 of 30+ modules.  We were able to accomplish the 
merge outside of the IDE with the command line client.  We have rebuilt our 
workspace and refreshed the project from CVS, the error still occurs.
This is a known issue with CVSNT. We should add it to the FAQ with the 
workaround which is to perform a Team&gt;Update on the project before performing 
the merge.
While performing the Merge, we committed all modifications into the branch, 
then replaced the current workspace with the CVS-&gt;Head then attempted to 
perform the merge.  That is when the error occurs.  Would that not update the 
current workspace with the version that is currently in the Head?

Also, just attempted to perform a Team-&gt;Update (no modifications) then tried 
the compare with the Head and recieved the same error.
Perhaps this is a different problem then. Do you have repository prefixes 
turned on or off?
We have repository prefix turned off.
Is there anything in the log file?
Nothing in the .log file or in the CVS Console.
Is there any new information, and possibly a time line for this bug fix?
In performing the compare with individual files or resources within the 
projects, we've recieved the following error message:

An error has occurred processing file
"I:/cvsrepo/apps/vegasWar/WebContent/WEB-INF/struts-config.xml 1.5.6.1"

Again, there is nothing within the .log file in the metadata folder of the 
workspace.  We recieve this same error if we attempt to merge the individual 
file.

There is no new information. CVS NT is not officially supported so this bug 
will only be addressed if time permits. Also, it would only be addressed in 
the 3.0 product. If you need to use CVS NT with Eclise 2.1.x, you may need to 
downgrade your server version.

It is possible that this bug is related to bug 15724. If you have file 
compression turned on, turn it off and see if that helps.
Post 3.0
Same problem occured on our Eclipse Configuration.

We solved the problem by checking repository path case.

Our example :
  "d:/JavAPX/CVSRepositories/DL-Foundation" doesn't work
  "D:/JavAPX/CVSRepositories/DL-Foundation" works  well
In our case path separator was causing problem
e:\cvsrepository\cvsmodules
does not work 
but 
e:/cvsrepository/cvsmodules
works.


Regards,
-Sudhan
Thanks Sudhan for the post about changing the slashes. After reading the first posts I cut and paste the path from the Windows Explorer to get the case exact. When that didn't fix it I was about to search elsewhere when I saw your post about changing the slashes to Unix style instead of Windows style. Matching the case, but using Unix slashes did the trick.

C:\cvsrepo\arjis   --- Initial value that didn't work
C:\CVSRepo\Arjis   --- Changed the case to match the server, but still didn't work
C:/CVSRepo/Arjis   --- Matching case, but Unix slashes... WORKS

I read above that CVS NT is not officially supported. I would encourage the Eclipse team to support some Windows based CVS server. As much as we might like otherwise most development is still done in a Windows environment. That is not to bag on you guys. We appreciate all you do. Just hopefully some constructive criticism.
CVSNT is supported as of 3.0. We will add this information to our FAQ.
FAQ updated</WithStack>
    <WithOutStack>When attempting to merge a branch to the HEAD, or compare a branch with the 
HEAD or any other branch or tag.  We recieve the following error: "Error 
fetching file revisions.".

Our error occurs within WSAD v 5.1 that is based on Eclipse 2.1.1.  The version 
of CVS NT is 2.0.29.

This is only happening with 2 of 30+ modules.  We were able to accomplish the 
merge outside of the IDE with the command line client.  We have rebuilt our 
workspace and refreshed the project from CVS, the error still occurs.
This is a known issue with CVSNT. We should add it to the FAQ with the 
workaround which is to perform a Team&gt;Update on the project before performing 
the merge.
While performing the Merge, we committed all modifications into the branch, 
then replaced the current workspace with the CVS-&gt;Head then attempted to 
perform the merge.  That is when the error occurs.  Would that not update the 
current workspace with the version that is currently in the Head?

Also, just attempted to perform a Team-&gt;Update (no modifications) then tried 
the compare with the Head and recieved the same error.
Perhaps this is a different problem then. Do you have repository prefixes 
turned on or off?
We have repository prefix turned off.
Is there anything in the log file?
Nothing in the .log file or in the CVS Console.
Is there any new information, and possibly a time line for this bug fix?
In performing the compare with individual files or resources within the 
projects, we've recieved the following error message:

An error has occurred processing file
"I:/cvsrepo/apps/vegasWar/WebContent/WEB-INF/struts-config.xml 1.5.6.1"

Again, there is nothing within the .log file in the metadata folder of the 
workspace.  We recieve this same error if we attempt to merge the individual 
file.

There is no new information. CVS NT is not officially supported so this bug 
will only be addressed if time permits. Also, it would only be addressed in 
the 3.0 product. If you need to use CVS NT with Eclise 2.1.x, you may need to 
downgrade your server version.

It is possible that this bug is related to bug 15724. If you have file 
compression turned on, turn it off and see if that helps.
Post 3.0
Same problem occured on our Eclipse Configuration.

We solved the problem by checking repository path case.

Our example :
  "d:/JavAPX/CVSRepositories/DL-Foundation" doesn't work
  "D:/JavAPX/CVSRepositories/DL-Foundation" works  well
In our case path separator was causing problem
e:\cvsrepository\cvsmodules
does not work 
but 
e:/cvsrepository/cvsmodules
works.


Regards,
-Sudhan
Thanks Sudhan for the post about changing the slashes. After reading the first posts I cut and paste the path from the Windows Explorer to get the case exact. When that didn't fix it I was about to search elsewhere when I saw your post about changing the slashes to Unix style instead of Windows style. Matching the case, but using Unix slashes did the trick.

C:\cvsrepo\arjis   --- Initial value that didn't work
C:\CVSRepo\Arjis   --- Changed the case to match the server, but still didn't work
C:/CVSRepo/Arjis   --- Matching case, but Unix slashes... WORKS

I read above that CVS NT is not officially supported. I would encourage the Eclipse team to support some Windows based CVS server. As much as we might like otherwise most development is still done in a Windows environment. That is not to bag on you guys. We appreciate all you do. Just hopefully some constructive criticism.
CVSNT is supported as of 3.0. We will add this information to our FAQ.
FAQ updated</WithOutStack>
  </Bug>
  <Bug>
    <BugId amount="56636" />
    <CreationDate amount="2004-03-29 15:02:00 -0500" />
    <DupId amount="" />
    <classification amount="Eclipse" />
    <Product amount="Platform" />
    <component amount="Team" />
    <Version amount="3.0" />
    <rep_platform amount="PC" />
    <op_sys amount="Linux-GTK" />
    <priority amount="P3" />
    <bug_severity amount="normal" />
    <Summery>EXT can't use EXTSSH for write access</Summery>
    <Patches amount="0" />
    <Stacktraces amount="1">
      <Stacktrace timestamp="1437341104099">
        <Exception>java.lang.NoClassDefFoundError</Exception>
        <Reason>com/jcraft/jsch/SftpException</Reason>
        <Frames>
          <Frame depth="0">org.eclipse.team.ccvs.ssh2.CVSSSH2Method.createConnection(CVSSSH2Method.java:28) 	at org.eclipse.team.internal.ccvs.core.connection.CVSRepositoryLocation.createConnection(CVSRepositoryLocation.java:488) 	at org.eclipse.team.internal.ccvs.core.connection.CVSRepositoryLocation.openConnection(CVSRepositoryLocation.java:702) 	at org.eclipse.team.internal.ccvs.core.client.Session.open(Session.java:168) 	at org.eclipse.team.internal.ccvs.core.CVSTeamProvider.checkin(CVSTeamProvider.java:328) 	at org.eclipse.team.internal.ccvs.ui.repo.RepositoryManager.commit(RepositoryManager.java:643) 	at org.eclipse.team.internal.ccvs.ui.subscriber.SubscriberCommitOperation.run(SubscriberCommitOperation.java:205) 	at org.eclipse.team.internal.ccvs.ui.subscriber.CVSSubscriberOperation$1.run(CVSSubscriberOperation.java:57) 	at org.eclipse.team.internal.ccvs.core.resources.EclipseSynchronizer.run(EclipseSynchronizer.java:1403) 	at org.eclipse.team.internal.ccvs.ui.subscriber.CVSSubscriberOperation.run(CVSSubscriberOperation.java:52) 	at org.eclipse.team.internal.ui.actions.JobRunnableContext.run(JobRunnableContext.java:118) 	at org.eclipse.team.internal.ui.actions.JobRunnableContext$3.runInWorkspace(JobRunnableContext.java:138) 	at org.eclipse.core.internal.resources.InternalWorkspaceJob.run(InternalWorkspaceJob.java:37) 	at org.eclipse.core.internal.jobs.Worker.run(Worker.java:62)</Frame>
        </Frames>
      </Stacktrace>
    </Stacktraces>
    <SourceCodeRegions amount="0" />
    <Enumerations amount="0" />
    <bug_status amount="RESOLVED" />
    <resolution amount="FIXED" />
    <WithStack>My set-up is to create three repository connections: one pserver/anonymous, one 
ext and one extssh.  The ext connection uses the pserver for read, and the 
extssh connection for write.  I check out all source code using the ext 
connection. 
 
Just last week, something changed which caused this set-up to stop working.  I 
get the following exception in the log when attempting to commit code: 
 
!ENTRY org.eclipse.core.runtime 4 2 Mar 29, 2004 14:42:49.267 
!MESSAGE An internal error occurred during: "Performing a CVS Commit on 5 
resources". 
!STACK 0 
java.lang.NoClassDefFoundError: com/jcraft/jsch/SftpException 
	at 
org.eclipse.team.ccvs.ssh2.CVSSSH2Method.createConnection(CVSSSH2Method.java:28) 
	at 
org.eclipse.team.internal.ccvs.core.connection.CVSRepositoryLocation.createConnection(CVSRepositoryLocation.java:488) 
	at 
org.eclipse.team.internal.ccvs.core.connection.CVSRepositoryLocation.openConnection(CVSRepositoryLocation.java:702) 
	at 
org.eclipse.team.internal.ccvs.core.client.Session.open(Session.java:168) 
	at 
org.eclipse.team.internal.ccvs.core.CVSTeamProvider.checkin(CVSTeamProvider.java:328) 
	at 
org.eclipse.team.internal.ccvs.ui.repo.RepositoryManager.commit(RepositoryManager.java:643) 
	at 
org.eclipse.team.internal.ccvs.ui.subscriber.SubscriberCommitOperation.run(SubscriberCommitOperation.java:205) 
	at 
org.eclipse.team.internal.ccvs.ui.subscriber.CVSSubscriberOperation$1.run(CVSSubscriberOperation.java:57) 
	at 
org.eclipse.team.internal.ccvs.core.resources.EclipseSynchronizer.run(EclipseSynchronizer.java:1403) 
	at 
org.eclipse.team.internal.ccvs.ui.subscriber.CVSSubscriberOperation.run(CVSSubscriberOperation.java:52) 
	at 
org.eclipse.team.internal.ui.actions.JobRunnableContext.run(JobRunnableContext.java:118) 
	at 
org.eclipse.team.internal.ui.actions.JobRunnableContext$3.runInWorkspace(JobRunnableContext.java:138) 
	at 
org.eclipse.core.internal.resources.InternalWorkspaceJob.run(InternalWorkspaceJob.java:37) 
	at org.eclipse.core.internal.jobs.Worker.run(Worker.java:62) 
 
 
 
I use the ext connection because it ensures that the structure of the CVS 
directories on disk is readable by the command-line utility.  The command-line 
utility provides functionality that Eclipse does not.  I use the extssh for 
write because of promised speed benefits. 
 
Changing the write connection from extssh to ext fixes the problem, and life 
carries on.
Sonia saw this yesterday. I believe she fixed it by deleting the config 
directory in the install.
There is a new feature by which you can configure 'ext' to use an internal
connection method while keeping the CVS meta files with 'ext'. See the ext
preference page.</WithStack>
    <WithOutStack>My set-up is to create three repository connections: one pserver/anonymous, one 
ext and one extssh.  The ext connection uses the pserver for read, and the 
extssh connection for write.  I check out all source code using the ext 
connection. 
 
Just last week, something changed which caused this set-up to stop working.  I 
get the following exception in the log when attempting to commit code: 
 
!ENTRY org.eclipse.core.runtime 4 2 Mar 29, 2004 14:42:49.267 
!MESSAGE An internal error occurred during: "Performing a CVS Commit on 5 
resources". 
!STACK 0 
 
 
 
 
I use the ext connection because it ensures that the structure of the CVS 
directories on disk is readable by the command-line utility.  The command-line 
utility provides functionality that Eclipse does not.  I use the extssh for 
write because of promised speed benefits. 
 
Changing the write connection from extssh to ext fixes the problem, and life 
carries on.
Sonia saw this yesterday. I believe she fixed it by deleting the config 
directory in the install.
There is a new feature by which you can configure 'ext' to use an internal
connection method while keeping the CVS meta files with 'ext'. See the ext
preference page.</WithOutStack>
  </Bug>
  <Bug>
    <BugId amount="56637" />
    <CreationDate amount="2004-03-29 15:03:00 -0500" />
    <DupId amount="" />
    <classification amount="Eclipse" />
    <Product amount="Platform" />
    <component amount="UI" />
    <Version amount="3.0" />
    <rep_platform amount="PC" />
    <op_sys amount="Windows 2000" />
    <priority amount="P2" />
    <bug_severity amount="normal" />
    <Summery>[Preferences] DialogMessageArea image is too large</Summery>
    <Patches amount="0" />
    <Stacktraces amount="0" />
    <SourceCodeRegions amount="0" />
    <Enumerations amount="2">
      <Enumeration lines="5">
        <Lines>
          <Line>- Window-&gt;Preferences-&gt;Workbench</Line>
          <Line>- In 'Workspace Save Interval' enter the value 'a' - or some non-numeric.  You</Line>
          <Line>get a message saying "The workspace save interval should be between" and then</Line>
          <Line>a big white space.</Line>
          <Line>Deb - that is a different issue. The workspace area is not large enough.</Line>
        </Lines>
      </Enumeration>
      <Enumeration lines="4">
        <Lines>
          <Line>- Increase the initial size of the "Preferences" window.</Line>
          <Line>- Shorten the title string.</Line>
          <Line>Created attachment 9728</Line>
          <Line>The title for the editors</Line>
        </Lines>
      </Enumeration>
    </Enumerations>
    <bug_status amount="RESOLVED" />
    <resolution amount="FIXED" />
    <WithStack>Is the background color of the error shown by DialogMessageArea to be changed?  
Or do you intend to leave it as it is right now?  The error message looks a 
little out of place in the current implementation (being surrounded by white 
space).
Created attachment 8992
Screenshot

Screenshot attached.
M8 - There's something strange happening here.  
- Window-&gt;Preferences-&gt;Workbench
- In 'Workspace Save Interval' enter the value 'a' - or some non-numeric.  You 
get a message saying "The workspace save interval should be between" and then 
a big white space.
Deb - that is a different issue. The workspace area is not large enough.

We won't be adjusting the background of the composite as it wil lalso affect 
the image.

Renaming the PR
*** Bug 58138 has been marked as a duplicate of this bug. ***
I have modified the layout code in PreferenceDialog#createTitleArea to shorten 
the image’s width. However, the title "The size of the recently opened files 
list should be between 0 and 15" is still too long (see attached picture).
Here are some alternatives:
- Increase the initial size of the "Preferences" window.
- Shorten the title string.
Created attachment 9728
The title for the editors

Even by making the image's width shorter, the title is still too long.
This is an seperate issue - we just want to be sure that we have as much room 
in this dialog as we did in 2.1.

Please verify that your patch takes up the same amount of space as 2.1 did and 
attach the patch here.
We should have the same behaviour as 2.1. This is a regression due to our 
accessibility work.
I am attaching a patch that reverts the behavior of the “PreferenceDialog” 
class to 2.1’s behavior.

To do so, I added PreferenceDialog#getShortenedString(String text) to shorten 
the messages that are too long to display in the title area.

I also modified PreferenceDialog#updateMessage() so that it now shows/hides 
the preference image accordingly.

The remaining issue that this patch does not handle is the extra white border 
that appears when a message is visible in the title area.
Created attachment 9805
Patch for the preference dialog behavior.

I added shortened string functionality for messages too long for display and
hide/show for the preference image.
Ines this patch is not attaching the text to the bottom of the Composite and 
as a result the error message is getting cut off.

It should have the same attachment behaviour as the main label.
Created attachment 9879
Patch 2 for the preference dialog behavior.

Fixed the bottom attachment in the patch.
Patch released.</WithStack>
    <WithOutStack>Is the background color of the error shown by DialogMessageArea to be changed?  
Or do you intend to leave it as it is right now?  The error message looks a 
little out of place in the current implementation (being surrounded by white 
space).
Created attachment 8992
Screenshot

Screenshot attached.
M8 - There's something strange happening here.  
- Window-&gt;Preferences-&gt;Workbench
- In 'Workspace Save Interval' enter the value 'a' - or some non-numeric.  You 
get a message saying "The workspace save interval should be between" and then 
a big white space.
Deb - that is a different issue. The workspace area is not large enough.

We won't be adjusting the background of the composite as it wil lalso affect 
the image.

Renaming the PR
*** Bug 58138 has been marked as a duplicate of this bug. ***
I have modified the layout code in PreferenceDialog#createTitleArea to shorten 
the image’s width. However, the title "The size of the recently opened files 
list should be between 0 and 15" is still too long (see attached picture).
Here are some alternatives:
- Increase the initial size of the "Preferences" window.
- Shorten the title string.
Created attachment 9728
The title for the editors

Even by making the image's width shorter, the title is still too long.
This is an seperate issue - we just want to be sure that we have as much room 
in this dialog as we did in 2.1.

Please verify that your patch takes up the same amount of space as 2.1 did and 
attach the patch here.
We should have the same behaviour as 2.1. This is a regression due to our 
accessibility work.
I am attaching a patch that reverts the behavior of the “PreferenceDialog” 
class to 2.1’s behavior.

To do so, I added PreferenceDialog#getShortenedString(String text) to shorten 
the messages that are too long to display in the title area.

I also modified PreferenceDialog#updateMessage() so that it now shows/hides 
the preference image accordingly.

The remaining issue that this patch does not handle is the extra white border 
that appears when a message is visible in the title area.
Created attachment 9805
Patch for the preference dialog behavior.

I added shortened string functionality for messages too long for display and
hide/show for the preference image.
Ines this patch is not attaching the text to the bottom of the Composite and 
as a result the error message is getting cut off.

It should have the same attachment behaviour as the main label.
Created attachment 9879
Patch 2 for the preference dialog behavior.

Fixed the bottom attachment in the patch.
Patch released.</WithOutStack>
  </Bug>
  <Bug>
    <BugId amount="56638" />
    <CreationDate amount="2004-03-29 15:19:00 -0500" />
    <DupId amount="" />
    <classification amount="Eclipse" />
    <Product amount="Platform" />
    <component amount="SWT" />
    <Version amount="3.0" />
    <rep_platform amount="PC" />
    <op_sys amount="Linux-GTK" />
    <priority amount="P3" />
    <bug_severity amount="normal" />
    <Summery>pango-layout.c message on console: broken PangoLayout</Summery>
    <Patches amount="0" />
    <Stacktraces amount="0" />
    <SourceCodeRegions amount="0" />
    <Enumerations amount="1">
      <Enumeration lines="3">
        <Lines>
          <Line>1. Start Eclipse.</Line>
          <Line>2. Create New Java Project</Line>
          <Line>3. Create a new Class using the New Class Wizard</Line>
        </Lines>
      </Enumeration>
    </Enumerations>
    <bug_status amount="RESOLVED" />
    <resolution amount="WORKSFORME" />
    <WithStack>With Eclipse M8 candidate 200403261517
On Linux Suse SLES 8 distribution.
Note: this problem was not noticed on Linux SLES 9 beta 2 distribution.

1. Start Eclipse.
2. Create New Java Project
3. Create a new Class using the New Class Wizard

The console from which I started Eclipse contains hundreds of messages:
** (&lt;unknown&gt;:15815): WARNING **: pango-layout.c:2435: broken PangoLayout
I guess the message is written by GTK since it is C code. Moving to SWT.
Same on RedHat 8:
...
** (&lt;unknown&gt;:1353): WARNING **: pango-layout.c:2435: broken PangoLayout

** (&lt;unknown&gt;:1353): WARNING **: pango-layout.c:2435: broken PangoLayout
...
I don't see this problem, but I'm running a fairly recent Mandrake.  Moving to 
SSQ since RH8 is a supported platform.

RedHat 8 is no longer a support platform.
Check out Eclipse 3.0 plan, Eclipse requires at least GTK 2.2.1.

*** Bug 60047 has been marked as a duplicate of this bug. ***</WithStack>
    <WithOutStack>With Eclipse M8 candidate 200403261517
On Linux Suse SLES 8 distribution.
Note: this problem was not noticed on Linux SLES 9 beta 2 distribution.

1. Start Eclipse.
2. Create New Java Project
3. Create a new Class using the New Class Wizard

The console from which I started Eclipse contains hundreds of messages:
** (&lt;unknown&gt;:15815): WARNING **: pango-layout.c:2435: broken PangoLayout
I guess the message is written by GTK since it is C code. Moving to SWT.
Same on RedHat 8:
...
** (&lt;unknown&gt;:1353): WARNING **: pango-layout.c:2435: broken PangoLayout

** (&lt;unknown&gt;:1353): WARNING **: pango-layout.c:2435: broken PangoLayout
...
I don't see this problem, but I'm running a fairly recent Mandrake.  Moving to 
SSQ since RH8 is a supported platform.

RedHat 8 is no longer a support platform.
Check out Eclipse 3.0 plan, Eclipse requires at least GTK 2.2.1.

*** Bug 60047 has been marked as a duplicate of this bug. ***</WithOutStack>
  </Bug>
  <Bug>
    <BugId amount="56639" />
    <CreationDate amount="2004-03-29 15:30:00 -0500" />
    <DupId amount="" />
    <classification amount="RT" />
    <Product amount="Equinox" />
    <component amount="Incubator" />
    <Version amount="unspecified" />
    <rep_platform amount="PC" />
    <op_sys amount="Windows 2000" />
    <priority amount="P2" />
    <bug_severity amount="normal" />
    <Summery>Specifying product information doesn't (seem to) work</Summery>
    <Patches amount="0" />
    <Stacktraces amount="0" />
    <SourceCodeRegions amount="0" />
    <Enumerations amount="0" />
    <bug_status amount="RESOLVED" />
    <resolution amount="FIXED" />
    <WithStack>M8

I have been trying specify product information using PDE I think the expected
way of doing this is to specify:

-Declipse.product=coolProvider

in the VM parameters, where "coolProvider" references an extension point of type
org.eclipse.core.runtime.products i.e:

&lt;extension id="coolProvider" point="org.eclipse.core.runtime.products"&gt;
  &lt;provider&gt;
     &lt;run class="com.example.productProvider"/&gt;
  &lt;/provider&gt;
&lt;/extension&gt;
 
This doesn't seem to work, the product provider class
(com.example.productProvider) never gets called.  Note - I have tried
experimenting putting the parameters as program arguments and forming the
parameters in slightly different ways (i.e. -Declipse.product="coolProvider").
You need to specify the fully qualified name of the extension
pluginId.coolProvider.

Let me know if it works.
Pascal,

Thanks for your response.  Not it doesn't seem to work even with the fully
qualified extension.  Just to be clear that I am doing this correct, I am adding
the following, for example, to VM arguments:

-Declipse.product=com.example.plugin.coolProvider
The provider class is only to be used for specific use case where products can
not be declared, and are registered dynamically. 
For example in eclipse this is used by the update mechanism to convert/register
of the fly primary features as products.

If you have a plugin that defines a product you just need to put declare your
product in your xml.


Pascal,

Thanks for your response.  Well I have the configuration you suggest, but the
product provider never gets called by anybody.  What or who is suppose to do
this in the context of an RCP application?

James
Your provider will get called if the product being run is not discovered as an 
extension and is not provided by a provider queried before yours.

Perhaps it would clarify things if you described what issue you are trying to 
address with your provider.  Generally speaking, unless you are doing some sort 
of management agent (e.g., update/install) you should not need to define a 
provider, just declare the products you are actually supplying.
Looking at the documentation for IProduct and IProductProvider extension points,
my impression is that you can use these extensions to provide branding
information (rather than doing this via a primary feature).  My aim is to be
able to define branding information in an RCP application run via PDE without
messing about trying to structure my workspace according to features.
Perfect.  You should be defining a product extension that is not a provider.  
Your extension should define various attributes with keys and values as defined 
in org.eclipse.ui.branding.IProductConstants.

Jeff - Thanks for your response and patience.  If this is not the appropriate
place to continue the discussion, please let me know.

I still cannot get this to work.  When I define the product using purely XML aka:

   &lt;extension id="coolProduct" point="org.eclipse.core.runtime.products"&gt;
     &lt;product name="myCoolProduct" application= "coolApp" description=""&gt;
       &lt;property name="windowImage" value="iconSmall.gif"/&gt;
       &lt;property name="aboutImage"  value="image.gif"/&gt;
       &lt;property name="featureImage" value="feature.gif"/&gt;
       &lt;property name="aboutText" value="%aboutText"/&gt;
       &lt;property name="appName" value="CoolApp"/&gt;
       &lt;property name="welcomePage" value="$nl$/welcome.xml"/&gt;
     &lt;/product&gt;
   &lt;/extension&gt;

Nothing happens (Note the documentation specifies that "property" should be
"parameter" - this is a bug).

However I've had a good look at the code, and can now get product to work using
a provider.  I'll supply the info here because I know others are interested in
this. The key (I was missing) is to ensure that the product is specified as a
program argument using "-product" the string should be the same string as
returned by getId() in Product.  I'm fairly sure that unless this argument is
supplied, then the platform won't even bother looking at any of the product
information supplied.  The provider is supplied in the XML in the document way:

&lt;extension id="coolProvider" point="org.eclipse.core.runtime.products"&gt;
  &lt;provider&gt;
    &lt;run class="com.example.productProvider"/&gt;
  &lt;/provider&gt;
&lt;/extension&gt;

James
 
Can you point me at the documentation you are using?

According to the code, the XML should look more like:
   &lt;extension id="coolProduct" point="org.eclipse.core.runtime.products"&gt;
     &lt;product 
       name="myCoolProduct" 
       application= "coolApp" 
       description=""
       windowImage="iconSmall.gif"
       aboutImage="image.gif"
       featureImage="feature.gif"
       aboutText="%aboutText"
       appName="CoolApp"
       welcomePage="$nl$/welcome.xml"
     /&gt;
   &lt;/extension&gt;

That is, the code looks for attributes of the product tag not subelements.  
There must have been some miscommunication.  Thanks for keeping on this.

I'm reopening to ensure it gets addressed.

The documentation I am using (and from where I cut and paste the XML fragment)
is shown by right clicking on "org.eclipse.core.runtime.products" and selecting
"Show Description" in the extensions browser which is shown when you edit a
plugin.xml file.
Well whaddya know?!  The left hand was not talking to the right hand.  This 
will be fixed up ASAP.  We have to decide which syntax is correct based on the 
other things in Eclipse.  For now you can either supply a provider or use the 
markup as I described.  Sorry for the confusion
*** Bug 57259 has been marked as a duplicate of this bug. ***
Fixed the code to match the extension point doc.  That is, the product markup 
looks like the one in comment 8.</WithStack>
    <WithOutStack>M8

I have been trying specify product information using PDE I think the expected
way of doing this is to specify:

-Declipse.product=coolProvider

in the VM parameters, where "coolProvider" references an extension point of type
org.eclipse.core.runtime.products i.e:

&lt;extension id="coolProvider" point="org.eclipse.core.runtime.products"&gt;
  &lt;provider&gt;
     &lt;run class="com.example.productProvider"/&gt;
  &lt;/provider&gt;
&lt;/extension&gt;
 
This doesn't seem to work, the product provider class
(com.example.productProvider) never gets called.  Note - I have tried
experimenting putting the parameters as program arguments and forming the
parameters in slightly different ways (i.e. -Declipse.product="coolProvider").
You need to specify the fully qualified name of the extension
pluginId.coolProvider.

Let me know if it works.
Pascal,

Thanks for your response.  Not it doesn't seem to work even with the fully
qualified extension.  Just to be clear that I am doing this correct, I am adding
the following, for example, to VM arguments:

-Declipse.product=com.example.plugin.coolProvider
The provider class is only to be used for specific use case where products can
not be declared, and are registered dynamically. 
For example in eclipse this is used by the update mechanism to convert/register
of the fly primary features as products.

If you have a plugin that defines a product you just need to put declare your
product in your xml.


Pascal,

Thanks for your response.  Well I have the configuration you suggest, but the
product provider never gets called by anybody.  What or who is suppose to do
this in the context of an RCP application?

James
Your provider will get called if the product being run is not discovered as an 
extension and is not provided by a provider queried before yours.

Perhaps it would clarify things if you described what issue you are trying to 
address with your provider.  Generally speaking, unless you are doing some sort 
of management agent (e.g., update/install) you should not need to define a 
provider, just declare the products you are actually supplying.
Looking at the documentation for IProduct and IProductProvider extension points,
my impression is that you can use these extensions to provide branding
information (rather than doing this via a primary feature).  My aim is to be
able to define branding information in an RCP application run via PDE without
messing about trying to structure my workspace according to features.
Perfect.  You should be defining a product extension that is not a provider.  
Your extension should define various attributes with keys and values as defined 
in org.eclipse.ui.branding.IProductConstants.

Jeff - Thanks for your response and patience.  If this is not the appropriate
place to continue the discussion, please let me know.

I still cannot get this to work.  When I define the product using purely XML aka:

   &lt;extension id="coolProduct" point="org.eclipse.core.runtime.products"&gt;
     &lt;product name="myCoolProduct" application= "coolApp" description=""&gt;
       &lt;property name="windowImage" value="iconSmall.gif"/&gt;
       &lt;property name="aboutImage"  value="image.gif"/&gt;
       &lt;property name="featureImage" value="feature.gif"/&gt;
       &lt;property name="aboutText" value="%aboutText"/&gt;
       &lt;property name="appName" value="CoolApp"/&gt;
       &lt;property name="welcomePage" value="$nl$/welcome.xml"/&gt;
     &lt;/product&gt;
   &lt;/extension&gt;

Nothing happens (Note the documentation specifies that "property" should be
"parameter" - this is a bug).

However I've had a good look at the code, and can now get product to work using
a provider.  I'll supply the info here because I know others are interested in
this. The key (I was missing) is to ensure that the product is specified as a
program argument using "-product" the string should be the same string as
returned by getId() in Product.  I'm fairly sure that unless this argument is
supplied, then the platform won't even bother looking at any of the product
information supplied.  The provider is supplied in the XML in the document way:

&lt;extension id="coolProvider" point="org.eclipse.core.runtime.products"&gt;
  &lt;provider&gt;
    &lt;run class="com.example.productProvider"/&gt;
  &lt;/provider&gt;
&lt;/extension&gt;

James
 
Can you point me at the documentation you are using?

According to the code, the XML should look more like:
   &lt;extension id="coolProduct" point="org.eclipse.core.runtime.products"&gt;
     &lt;product 
       name="myCoolProduct" 
       application= "coolApp" 
       description=""
       windowImage="iconSmall.gif"
       aboutImage="image.gif"
       featureImage="feature.gif"
       aboutText="%aboutText"
       appName="CoolApp"
       welcomePage="$nl$/welcome.xml"
     /&gt;
   &lt;/extension&gt;

That is, the code looks for attributes of the product tag not subelements.  
There must have been some miscommunication.  Thanks for keeping on this.

I'm reopening to ensure it gets addressed.

The documentation I am using (and from where I cut and paste the XML fragment)
is shown by right clicking on "org.eclipse.core.runtime.products" and selecting
"Show Description" in the extensions browser which is shown when you edit a
plugin.xml file.
Well whaddya know?!  The left hand was not talking to the right hand.  This 
will be fixed up ASAP.  We have to decide which syntax is correct based on the 
other things in Eclipse.  For now you can either supply a provider or use the 
markup as I described.  Sorry for the confusion
*** Bug 57259 has been marked as a duplicate of this bug. ***
Fixed the code to match the extension point doc.  That is, the product markup 
looks like the one in comment 8.</WithOutStack>
  </Bug>
  <Bug>
    <BugId amount="56640" />
    <CreationDate amount="2004-03-29 15:49:00 -0500" />
    <DupId amount="" />
    <classification amount="Eclipse Foundation" />
    <Product amount="z_Archived" />
    <component amount="Hyades" />
    <Version amount="unspecified" />
    <rep_platform amount="PC" />
    <op_sys amount="Windows 2000" />
    <priority amount="P3" />
    <bug_severity amount="major" />
    <Summery>Cannot attach to IBM msg logger</Summery>
    <Patches amount="0" />
    <Stacktraces amount="0" />
    <SourceCodeRegions amount="0" />
    <Enumerations amount="0" />
    <bug_status amount="CLOSED" />
    <resolution amount="WORKSFORME" />
    <WithStack>I have Hyades M8 driver and c.i.e.logging.util, c.i.e.logging.ui on top of that.
I try to attach to the c.i.e.logging.ui agent using the attach profile 
configuration but I can't see the agents.
The only way to activate these agents and make them available in the attach 
wizard is to open Preferences and select Logging page
I don't thonk this belongs to me.  I have nothing to do with filtering in the 
UI.  The lower levels which the Ui deals with always have the agent information 
in the transient memory models.  Its the Ui which is hiding these if the agent 
type is not enabled.  Furthermore, this has always worked like this since the 
Ui added the filtering of types.  If this is not the desired UI paridigm then 
the UI team needs to change the filtering capabilities.
Richard, I debugged the code and is not a UI problem. When the attach page 
queries available processes on selected host, an empty list is returned.
I have enabled logging in the UI before running the scenario, so the UI filter 
was off.
Do you have the RAC binaries in your path?  I was able to make this work on my 
system,
house keeping
As of TPTP 4.6.0, TPTP is in maintenance mode and focusing on improving quality by resolving relevant enhancements/defects and increasing test coverage through test creation, automation, Build Verification Tests (BVTs), and expanded run-time execution. As part of the TPTP Bugzilla housecleaning process (see http://wiki.eclipse.org/Bugzilla_Housecleaning_Processes), this enhancement/defect is verified/closed by the Project Lead since this enhancement/defect has been resolved and unverified for more than 1 year and considered to be fixed. If this enhancement/defect is still unresolved and reproducible in the latest TPTP release (http://www.eclipse.org/tptp/home/downloads/), please re-open.</WithStack>
    <WithOutStack>I have Hyades M8 driver and c.i.e.logging.util, c.i.e.logging.ui on top of that.
I try to attach to the c.i.e.logging.ui agent using the attach profile 
configuration but I can't see the agents.
The only way to activate these agents and make them available in the attach 
wizard is to open Preferences and select Logging page
I don't thonk this belongs to me.  I have nothing to do with filtering in the 
UI.  The lower levels which the Ui deals with always have the agent information 
in the transient memory models.  Its the Ui which is hiding these if the agent 
type is not enabled.  Furthermore, this has always worked like this since the 
Ui added the filtering of types.  If this is not the desired UI paridigm then 
the UI team needs to change the filtering capabilities.
Richard, I debugged the code and is not a UI problem. When the attach page 
queries available processes on selected host, an empty list is returned.
I have enabled logging in the UI before running the scenario, so the UI filter 
was off.
Do you have the RAC binaries in your path?  I was able to make this work on my 
system,
house keeping
As of TPTP 4.6.0, TPTP is in maintenance mode and focusing on improving quality by resolving relevant enhancements/defects and increasing test coverage through test creation, automation, Build Verification Tests (BVTs), and expanded run-time execution. As part of the TPTP Bugzilla housecleaning process (see http://wiki.eclipse.org/Bugzilla_Housecleaning_Processes), this enhancement/defect is verified/closed by the Project Lead since this enhancement/defect has been resolved and unverified for more than 1 year and considered to be fixed. If this enhancement/defect is still unresolved and reproducible in the latest TPTP release (http://www.eclipse.org/tptp/home/downloads/), please re-open.</WithOutStack>
  </Bug>
  <Bug>
    <BugId amount="56641" />
    <CreationDate amount="2004-03-29 15:50:00 -0500" />
    <DupId amount="" />
    <classification amount="Eclipse" />
    <Product amount="Platform" />
    <component amount="CVS" />
    <Version amount="3.0" />
    <rep_platform amount="PC" />
    <op_sys amount="Windows XP" />
    <priority amount="P3" />
    <bug_severity amount="normal" />
    <Summery>Compare With Released incurs error  when map project does not exist in local work space</Summery>
    <Patches amount="0" />
    <Stacktraces amount="0" />
    <SourceCodeRegions amount="0" />
    <Enumerations amount="1">
      <Enumeration lines="2">
        <Lines>
          <Line>(1)Delete local org.eclipse.releng</Line>
          <Line>(2)Select a released project to compare with released</Line>
        </Lines>
      </Enumeration>
    </Enumerations>
    <bug_status amount="RESOLVED" />
    <resolution amount="FIXED" />
    <WithStack>Build id: 200403261517

Steps:
(1)Delete local org.eclipse.releng
(2)Select a released project to compare with released

Results:
An error is logged. Eclispe cannot find "org.eclispe.releng/maps"
Created attachment 8995
patch
Patch has been applied
Fixed</WithStack>
    <WithOutStack>Build id: 200403261517

Steps:
(1)Delete local org.eclipse.releng
(2)Select a released project to compare with released

Results:
An error is logged. Eclispe cannot find "org.eclispe.releng/maps"
Created attachment 8995
patch
Patch has been applied
Fixed</WithOutStack>
  </Bug>
  <Bug>
    <BugId amount="56642" />
    <CreationDate amount="2004-03-29 15:53:00 -0500" />
    <DupId amount="" />
    <classification amount="Eclipse" />
    <Product amount="Platform" />
    <component amount="Debug" />
    <Version amount="3.0" />
    <rep_platform amount="PC" />
    <op_sys amount="Windows XP" />
    <priority amount="P3" />
    <bug_severity amount="normal" />
    <Summery>[launching] Launching progress</Summery>
    <Patches amount="0" />
    <Stacktraces amount="0" />
    <SourceCodeRegions amount="2">
      <source_code type="functiondef">
        <location start="2741" end="2800" />
        <code>- - - - Job begins with monitor: public IStatus run (...) {</code>
      </source_code>
      <source_code type="singlecomment">
        <location start="5142" end="5178" />
        <code>// initialize source locator</code>
      </source_code>
    </SourceCodeRegions>
    <Enumerations amount="3">
      <Enumeration lines="4">
        <Lines>
          <Line>- The launch progress monitor is broken. The monitor reports 100% or sometimes XX% and does not progress at all</Line>
          <Line>- The launch progress does not mention the name of the launch configuration being launched</Line>
          <Line>- A launch delegate's launch() gets called with a long task message prepended to the monitor: "Initializing source locator and launch delegate". The launch delegate does not have much room left for appending sub task messages</Line>
          <Line>- Some task message are wrong (like "Determining if launch before build is required" when the actual build process has already begun)</Line>
        </Lines>
      </Enumeration>
      <Enumeration lines="5">
        <Lines>
          <Line>- SubProgressMonitors have been put at the right places</Line>
          <Line>- Tick allocation has been fixed</Line>
          <Line>- setTaskName calls have been removed (they should not be used - says api doc)</Line>
          <Line>- Messages have been adjusted/removed/added - "..." added to messages which don't have subtasks</Line>
          <Line>- ...</Line>
        </Lines>
      </Enumeration>
      <Enumeration lines="2">
        <Lines>
          <Line>- New/changed strings have not been externalized. This should be done by the comitter. (see //TODO: EXTERNALIZE)</Line>
          <Line>- Some more testing is required. But it should not break anything - the progress monitor code was already more than broken ;-)</Line>
        </Lines>
      </Enumeration>
    </Enumerations>
    <bug_status amount="VERIFIED" />
    <resolution amount="FIXED" />
    <WithStack>M8
It sometimes occurs that launching takes a while. The progress shows text saying
Launching 66% for a long while. If I open the progress view to figure out what
is happening, there are no subtasks giving details. It would be nice if it told
me what it was doing (e.g. scrubbing workspace, waiting on a build, others).
We should ensure that the progress message is updated properly.
Deferred
*** Bug 63018 has been marked as a duplicate of this bug. ***
Is this a good time to look at this one again?

The worst case is when the launcher advertises that it is 100% complete... for about a minute or so... (false advertising &lt;g&gt;)

This is what bug 63018 was complaining about.
FYI - We're not planning to look at this in 3.3 M6.
*** Bug 174373 has been marked as a duplicate of this bug. ***
Currently there are several bugs regarding the launch progress. Since some applications have a rather long running launch delegate (transfering data to a remote target, ...), it is important to give the user feedback about the progress. A working launch progress is required!

I did some investigations and created a patch to fix those problems.

***************************
Current situation
***************************
Launch progress bugs:
- The launch progress monitor is broken. The monitor reports 100% or sometimes XX% and does not progress at all
- The launch progress does not mention the name of the launch configuration being launched
- A launch delegate's launch() gets called with a long task message prepended to the monitor: "Initializing source locator and launch delegate". The launch delegate does not have much room left for appending sub task messages
- Some task message are wrong (like "Determining if launch before build is required" when the actual build process has already begun)

***************************
Investigation report
***************************

I tried to investigate the whole launch progess problem and finally figured out why the launch progess monitor is broken: The whole situation is based on a misunderstanding of the progress monitor concept. Unfortunatelly, in the whole launch code the progess monitors have been used the wrong way. I have to admit, those progress monitors can be tricky.

I recommend reading the following links about how to use progess monitors first &amp;#8211; especially how to use sub progess monitors:
http://wiki.eclipse.org/index.php/FAQ_How_do_I_use_progress_monitors%3F
http://wiki.eclipse.org/index.php/FAQ_How_do_I_use_a_SubProgressMonitor%3F


- - - - - - - - - - 

The trouble begins in DebugUIPlugin (either launchInBackground or launchInForeground). The following text explains the problems in the order they appear when a launch has been started:

* DebugUIPlugin:975
- - - - Job begins with monitor: public IStatus run (...) {

INFO1: --&gt; No monitor.beginTask gets called


* DebugUIPlugin:1004
- - - - In Job:
	if (waitInJob)...

		call to jobManager.join(..., monitor) twice to wait for other jobs to finish

BUG 1: --&gt; No subprogess monitor gets passed to .join: .join expects a fresh monitor and calls monitor.beginTask/done. After the call to .join the whole main monitor will already be used up (100%) !


*DebugUIPlugin:1013	
- - - - In Job:

	call to buildAndLaunch(..., monitor)  [with used up monitor]


* DebugUIPlugin:712
- - - - In buildAndLaunch(..., monitor)

	if (buildBeforeLaunch)
		monitor.beginTask(..., 200)
		call to configuration.launch(...)
	else
		monitor.beginTask(..., 100)
		call to configuration.launch(...)

BUG 2: --&gt; Here finally monitor.beginTask gets called to setup the main monitor. Too late. (See BUG1). Also: There should not be a difference in how many ticks get allocated (100 or 200) as configuration.launch(...) expects (or SHOULD expect) a fresh monitor and therefore you will have to pass a sub-progess monitor, which again allocates ticks from the main monitor. So monitor.beginTask(..., 1) and passing a new subProgessMonitor(..., 1) should work. But beginTask for the main monitor is called at the wrong place anyway (see INFO1/BUG1).


* LaunchConfiguration:621	
- - - - In launch(...)

Sets taskname of task or creates a new nullprogressmonitor if none is supplied (with 100 ticks). 

BUG 3: --&gt; See BUG2 / A fresh monitor should be expected and so monitor.beginTask should always be called. The numer of ticks allocated should match the ticks required for the steps to be performed in launch()


* LaunchConfiguration:718
- - - - In Launch(...)

	if (build)...
		subMonitor = SubProgessMonitor(monitor, 100)
	
BUG4: --&gt; Creates a new subprogess monitor (good!), but using 100 ticks. So all available ticks of the main monitor will be used up already ! (except for BUG2 when 200 get allocated - still wrong though).

		if (build)...
			subMonitor = SubProgessMonitor(monitor, 100)

BUG5: --&gt; Creates another sub progess monitor (good again), but again with 100 ticks. So we already used 200 out of 100 available ticks

	if (delegate2 != null)
		subMonitor = SubProgessMonitor(monitor, 100)

BUG 6: --&gt; Same as above...again 100 ticks allocated from main monitor. This would be a total of 300 ticks allocated out of 100
					
	// initialize source locator
	try {
	subMonitor = SubProgessMonitor(monitor, 100)

BUG 7: --&gt; Same again. 100 ticks allocated.....Would be a total of 400 out of 100


DONE....

				
***************************
Patch
***************************

Most of the monitor code had to be replaced.
- SubProgressMonitors have been put at the right places
- Tick allocation has been fixed
- setTaskName calls have been removed (they should not be used - says api doc)
- Messages have been adjusted/removed/added - "..." added to messages which don't have subtasks
- ...

See the patch for more.

NOTE:
- New/changed strings have not been externalized. This should be done by the comitter. (see //TODO: EXTERNALIZE)
- Some more testing is required. But it should not break anything - the progress monitor code was already more than broken ;-)

I'd really like to see this fixed in 3.3. I hope the patch will be helpful.

Created attachment 59504
Patch
reopening to apply patch
applied patch with minor stylistic changes, and NLS updates
verified
Wow - thanks, Sascha! Can't wait to try it!</WithStack>
    <WithOutStack>M8
It sometimes occurs that launching takes a while. The progress shows text saying
Launching 66% for a long while. If I open the progress view to figure out what
is happening, there are no subtasks giving details. It would be nice if it told
me what it was doing (e.g. scrubbing workspace, waiting on a build, others).
We should ensure that the progress message is updated properly.
Deferred
*** Bug 63018 has been marked as a duplicate of this bug. ***
Is this a good time to look at this one again?

The worst case is when the launcher advertises that it is 100% complete... for about a minute or so... (false advertising &lt;g&gt;)

This is what bug 63018 was complaining about.
FYI - We're not planning to look at this in 3.3 M6.
*** Bug 174373 has been marked as a duplicate of this bug. ***
Currently there are several bugs regarding the launch progress. Since some applications have a rather long running launch delegate (transfering data to a remote target, ...), it is important to give the user feedback about the progress. A working launch progress is required!

I did some investigations and created a patch to fix those problems.

***************************
Current situation
***************************
Launch progress bugs:
- The launch progress monitor is broken. The monitor reports 100% or sometimes XX% and does not progress at all
- The launch progress does not mention the name of the launch configuration being launched
- A launch delegate's launch() gets called with a long task message prepended to the monitor: "Initializing source locator and launch delegate". The launch delegate does not have much room left for appending sub task messages
- Some task message are wrong (like "Determining if launch before build is required" when the actual build process has already begun)

***************************
Investigation report
***************************

I tried to investigate the whole launch progess problem and finally figured out why the launch progess monitor is broken: The whole situation is based on a misunderstanding of the progress monitor concept. Unfortunatelly, in the whole launch code the progess monitors have been used the wrong way. I have to admit, those progress monitors can be tricky.

I recommend reading the following links about how to use progess monitors first &amp;#8211; especially how to use sub progess monitors:
http://wiki.eclipse.org/index.php/FAQ_How_do_I_use_progress_monitors%3F
http://wiki.eclipse.org/index.php/FAQ_How_do_I_use_a_SubProgressMonitor%3F


- - - - - - - - - - 

The trouble begins in DebugUIPlugin (either launchInBackground or launchInForeground). The following text explains the problems in the order they appear when a launch has been started:

* DebugUIPlugin:975
- - - - Job begins with monitor: public IStatus run (...) {

INFO1: --&gt; No monitor.beginTask gets called


* DebugUIPlugin:1004
- - - - In Job:
	if (waitInJob)...

		call to jobManager.join(..., monitor) twice to wait for other jobs to finish

BUG 1: --&gt; No subprogess monitor gets passed to .join: .join expects a fresh monitor and calls monitor.beginTask/done. After the call to .join the whole main monitor will already be used up (100%) !


*DebugUIPlugin:1013	
- - - - In Job:

	call to buildAndLaunch(..., monitor)  [with used up monitor]


* DebugUIPlugin:712
- - - - In buildAndLaunch(..., monitor)

	if (buildBeforeLaunch)
		monitor.beginTask(..., 200)
		call to configuration.launch(...)
	else
		monitor.beginTask(..., 100)
		call to configuration.launch(...)

BUG 2: --&gt; Here finally monitor.beginTask gets called to setup the main monitor. Too late. (See BUG1). Also: There should not be a difference in how many ticks get allocated (100 or 200) as configuration.launch(...) expects (or SHOULD expect) a fresh monitor and therefore you will have to pass a sub-progess monitor, which again allocates ticks from the main monitor. So monitor.beginTask(..., 1) and passing a new subProgessMonitor(..., 1) should work. But beginTask for the main monitor is called at the wrong place anyway (see INFO1/BUG1).


* LaunchConfiguration:621	
- - - - In launch(...)

Sets taskname of task or creates a new nullprogressmonitor if none is supplied (with 100 ticks). 

BUG 3: --&gt; See BUG2 / A fresh monitor should be expected and so monitor.beginTask should always be called. The numer of ticks allocated should match the ticks required for the steps to be performed in launch()


* LaunchConfiguration:718
- - - - In Launch(...)

	if (build)...
		subMonitor = SubProgessMonitor(monitor, 100)
	
BUG4: --&gt; Creates a new subprogess monitor (good!), but using 100 ticks. So all available ticks of the main monitor will be used up already ! (except for BUG2 when 200 get allocated - still wrong though).

		if (build)...
			subMonitor = SubProgessMonitor(monitor, 100)

BUG5: --&gt; Creates another sub progess monitor (good again), but again with 100 ticks. So we already used 200 out of 100 available ticks

	if (delegate2 != null)
		subMonitor = SubProgessMonitor(monitor, 100)

BUG 6: --&gt; Same as above...again 100 ticks allocated from main monitor. This would be a total of 300 ticks allocated out of 100
					
	// initialize source locator
	try {
	subMonitor = SubProgessMonitor(monitor, 100)

BUG 7: --&gt; Same again. 100 ticks allocated.....Would be a total of 400 out of 100


DONE....

				
***************************
Patch
***************************

Most of the monitor code had to be replaced.
- SubProgressMonitors have been put at the right places
- Tick allocation has been fixed
- setTaskName calls have been removed (they should not be used - says api doc)
- Messages have been adjusted/removed/added - "..." added to messages which don't have subtasks
- ...

See the patch for more.

NOTE:
- New/changed strings have not been externalized. This should be done by the comitter. (see //TODO: EXTERNALIZE)
- Some more testing is required. But it should not break anything - the progress monitor code was already more than broken ;-)

I'd really like to see this fixed in 3.3. I hope the patch will be helpful.

Created attachment 59504
Patch
reopening to apply patch
applied patch with minor stylistic changes, and NLS updates
verified
Wow - thanks, Sascha! Can't wait to try it!</WithOutStack>
  </Bug>
  <Bug>
    <BugId amount="56643" />
    <CreationDate amount="2004-03-29 15:56:00 -0500" />
    <DupId amount="" />
    <classification amount="Eclipse" />
    <Product amount="Platform" />
    <component amount="Update  (deprecated - use RT&gt;Equinox&gt;p2)" />
    <Version amount="3.0" />
    <rep_platform amount="PC" />
    <op_sys amount="Windows 2000" />
    <priority amount="P3" />
    <bug_severity amount="major" />
    <Summery>Eclipse does not start when osgi and configurators are loaded as source</Summery>
    <Patches amount="0" />
    <Stacktraces amount="2">
      <Stacktrace timestamp="1437341104113">
        <Exception>org.osgi.framework.BundleException</Exception>
        <Reason>A bundle with the unique ID and version is
already installed: org.eclipse.update.configurator 3.0.0</Reason>
        <Frames>
          <Frame depth="0">java.lang.Throwable.&lt;init&gt;(Throwable.java:59)</Frame>
          <Frame depth="1">java.lang.Throwable.&lt;init&gt;(Throwable.java:73)</Frame>
          <Frame depth="2">org.osgi.framework.BundleException.&lt;init&gt;(BundleException.java:68)</Frame>
          <Frame depth="3">org.eclipse.osgi.framework.internal.core.Framework.installWorkerPrivileged(Framework.java:727)</Frame>
          <Frame depth="4">org.eclipse.osgi.framework.internal.core.Framework$1.run(Framework.java:612)</Frame>
          <Frame depth="5">java.security.AccessController.doPrivileged(AccessController.java:189)</Frame>
          <Frame depth="6">org.eclipse.osgi.framework.internal.core.Framework.installWorker(Framework.java:690)</Frame>
          <Frame depth="7">org.eclipse.osgi.framework.internal.core.Framework.installBundle(Framework.java:607)</Frame>
          <Frame depth="8">org.eclipse.osgi.framework.internal.core.BundleContext.installBundle(BundleContext.java:207)</Frame>
          <Frame depth="9">org.eclipse.update.internal.configurator.ConfigurationActivator.installBundles(ConfigurationActivator.java:183)</Frame>
          <Frame depth="10">org.eclipse.update.internal.configurator.ConfigurationActivator.start(ConfigurationActivator.java:88)</Frame>
          <Frame depth="11">org.eclipse.osgi.framework.internal.core.BundleContext$1.run(BundleContext.java:992)</Frame>
          <Frame depth="12">java.security.AccessController.doPrivileged(AccessController.java:189)</Frame>
          <Frame depth="13">org.eclipse.osgi.framework.internal.core.BundleContext.startActivator(BundleContext.java:988)</Frame>
          <Frame depth="14">org.eclipse.osgi.framework.internal.core.BundleContext.start(BundleContext.java:971)</Frame>
          <Frame depth="15">org.eclipse.osgi.framework.internal.core.BundleHost.startWorker(BundleHost.java:412)</Frame>
          <Frame depth="16">org.eclipse.osgi.framework.internal.core.Bundle.resume(Bundle.java:377)</Frame>
          <Frame depth="17">org.eclipse.osgi.framework.internal.core.Framework.resumeBundle(Framework.java:971)</Frame>
          <Frame depth="18">org.eclipse.osgi.framework.internal.core.StartLevelImpl.resumeBundles(StartLevelImpl.java:565)</Frame>
          <Frame depth="19">org.eclipse.osgi.framework.internal.core.StartLevelImpl.incFWSL(StartLevelImpl.java:479)</Frame>
          <Frame depth="20">org.eclipse.osgi.framework.internal.core.StartLevelImpl.doSetStartLevel(StartLevelImpl.java:269)</Frame>
          <Frame depth="21">org.eclipse.osgi.framework.internal.core.StartLevelImpl.dispatchEvent(StartLevelImpl.java:439)</Frame>
          <Frame depth="22">org.eclipse.osgi.framework.eventmgr.ListenerList.dispatchEvent(ListenerList.java:135)</Frame>
          <Frame depth="23">org.eclipse.osgi.framework.eventmgr.EventThread$EventThreadItem.dispatchEvent(EventThread.java:59)</Frame>
          <Frame depth="24">org.eclipse.osgi.framework.eventmgr.EventThread.run(EventThread.java:118)</Frame>
        </Frames>
      </Stacktrace>
      <Stacktrace timestamp="1437341104113">
        <Exception>java.lang.IllegalStateException</Exception>
        <Reason>Bundle
reference:file:d:/1target/plugins/org.eclipse.osgi.util/ [2] is not active</Reason>
        <Frames>
          <Frame depth="0">java.lang.Throwable.&lt;init&gt;(Throwable.java:59)</Frame>
          <Frame depth="1">java.lang.Throwable.&lt;init&gt;(Throwable.java:73)</Frame>
          <Frame depth="2">org.eclipse.core.runtime.adaptor.EclipseStarter.ensureBundlesActive(EclipseStarter.java:271)</Frame>
          <Frame depth="3">org.eclipse.core.runtime.adaptor.EclipseStarter.startup(EclipseStarter.java:213)</Frame>
          <Frame depth="4">org.eclipse.core.runtime.adaptor.EclipseStarter.run(EclipseStarter.java:115)</Frame>
          <Frame depth="5">sun.reflect.NativeMethodAccessorImpl.invoke0(Native Method)</Frame>
          <Frame depth="6">sun.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:79)</Frame>
          <Frame depth="7">sun.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:41)</Frame>
          <Frame depth="8">java.lang.reflect.Method.invoke(Method.java:386)</Frame>
          <Frame depth="9">org.eclipse.core.launcher.Main.basicRun(Main.java:267)</Frame>
          <Frame depth="10">org.eclipse.core.launcher.Main.run(Main.java:692)</Frame>
          <Frame depth="11">org.eclipse.core.launcher.Main.main(Main.java:676)</Frame>
        </Frames>
      </Stacktrace>
    </Stacktraces>
    <SourceCodeRegions amount="0" />
    <Enumerations amount="0" />
    <bug_status amount="RESOLVED" />
    <resolution amount="FIXED" />
    <WithStack>If you are loading all osgi projects, runtime and update.configurator in the
workspace, the runtime-workbench no longer starts.

The problem seems to come from the method getBundlesToUninstall() which is not
able to recognize that services, utils and runtime are bundles that should not
get uninstalled.
Pascal, what happens if we install a newer version of those bundles?
Should we let the runtime take care of this?
i.e. we just install the newer version of those plugins and the runtime will 
figure out that whatever version gets installed during the current session 
takes precedence over what's cached.
If I revert to the tagged version of update.configurator the problem no longer
occurs.  Here is the stack dump when it fails to start:

!SESSION Mar 29, 2004 16:04:26.916 ---------------------------------------------
java.fullversion=J2RE 1.4.1 IBM J9 build 20031212 (JIT enabled)
BootLoader constants: OS=win32, ARCH=x86, WS=win32, NL=en_US
Command-line arguments: -keyring d:\eclipse\test\.metadata\.keyring
!ENTRY org.eclipse.update.configurator Mar 29, 2004 16:04:26.916
!MESSAGE Could not uninstall unused bundle
reference:file:d:/1target/plugins/org.eclipse.update.configurator/
!ENTRY org.eclipse.update.configurator Mar 29, 2004 16:04:28.994
!MESSAGE Ignoring bundle at:
reference:file:d:/eclipse/plugins/org.eclipse.update.configurator_3.0.0/
!STACK 0
org.osgi.framework.BundleException: A bundle with the unique ID and version is
already installed: org.eclipse.update.configurator 3.0.0
	at java.lang.Throwable.&lt;init&gt;(Throwable.java:59)
	at java.lang.Throwable.&lt;init&gt;(Throwable.java:73)
	at org.osgi.framework.BundleException.&lt;init&gt;(BundleException.java:68)
	at
org.eclipse.osgi.framework.internal.core.Framework.installWorkerPrivileged(Framework.java:727)
	at org.eclipse.osgi.framework.internal.core.Framework$1.run(Framework.java:612)
	at java.security.AccessController.doPrivileged(AccessController.java:189)
	at
org.eclipse.osgi.framework.internal.core.Framework.installWorker(Framework.java:690)
	at
org.eclipse.osgi.framework.internal.core.Framework.installBundle(Framework.java:607)
	at
org.eclipse.osgi.framework.internal.core.BundleContext.installBundle(BundleContext.java:207)
	at
org.eclipse.update.internal.configurator.ConfigurationActivator.installBundles(ConfigurationActivator.java:183)
	at
org.eclipse.update.internal.configurator.ConfigurationActivator.start(ConfigurationActivator.java:88)
	at
org.eclipse.osgi.framework.internal.core.BundleContext$1.run(BundleContext.java:992)
	at java.security.AccessController.doPrivileged(AccessController.java:189)
	at
org.eclipse.osgi.framework.internal.core.BundleContext.startActivator(BundleContext.java:988)
	at
org.eclipse.osgi.framework.internal.core.BundleContext.start(BundleContext.java:971)
	at
org.eclipse.osgi.framework.internal.core.BundleHost.startWorker(BundleHost.java:412)
	at org.eclipse.osgi.framework.internal.core.Bundle.resume(Bundle.java:377)
	at
org.eclipse.osgi.framework.internal.core.Framework.resumeBundle(Framework.java:971)
	at
org.eclipse.osgi.framework.internal.core.StartLevelImpl.resumeBundles(StartLevelImpl.java:565)
	at
org.eclipse.osgi.framework.internal.core.StartLevelImpl.incFWSL(StartLevelImpl.java:479)
	at
org.eclipse.osgi.framework.internal.core.StartLevelImpl.doSetStartLevel(StartLevelImpl.java:269)
	at
org.eclipse.osgi.framework.internal.core.StartLevelImpl.dispatchEvent(StartLevelImpl.java:439)
	at
org.eclipse.osgi.framework.eventmgr.ListenerList.dispatchEvent(ListenerList.java:135)
	at
org.eclipse.osgi.framework.eventmgr.EventThread$EventThreadItem.dispatchEvent(EventThread.java:59)
	at org.eclipse.osgi.framework.eventmgr.EventThread.run(EventThread.java:118)
!ENTRY org.eclipse.osgi Mar 29, 2004 16:04:29.526
!MESSAGE Startup error
!STACK 1
java.lang.IllegalStateException: Bundle
reference:file:d:/1target/plugins/org.eclipse.osgi.util/ [2] is not active
	at java.lang.Throwable.&lt;init&gt;(Throwable.java:59)
	at java.lang.Throwable.&lt;init&gt;(Throwable.java:73)
	at
org.eclipse.core.runtime.adaptor.EclipseStarter.ensureBundlesActive(EclipseStarter.java:271)
	at org.eclipse.core.runtime.adaptor.EclipseStarter.startup(EclipseStarter.java:213)
	at org.eclipse.core.runtime.adaptor.EclipseStarter.run(EclipseStarter.java:115)
	at sun.reflect.NativeMethodAccessorImpl.invoke0(Native Method)
	at sun.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:79)
	at
sun.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:41)
	at java.lang.reflect.Method.invoke(Method.java:386)
	at org.eclipse.core.launcher.Main.basicRun(Main.java:267)
	at org.eclipse.core.launcher.Main.run(Main.java:692)
	at org.eclipse.core.launcher.Main.main(Main.java:676)

Letting the system discover them the next time is a possibility, and is 
probably the easiest.

If the configurator was to uninstall then reinstall them, then it should makes 
sure that it puts them back to the state where they were (resolved / active, 
etc. - note that this behavior is equivalent to an "update").
Doing so would trigger the stop and restart of the configurator since it relies 
on these bundles and therefore need to be refreshed to release the classes that 
it holds.

Anyway I'm wondering how in a real scenario, this can happen. Basically, is it 
possible, between the moment that the configurator starts and the 
getBundlesToUninstall method runs, that some bundles get installed (by update)?
The update configurator in head is not good for self hosting, as it has some 
changes that PDE must still react to (I am waiting for Wassim to ok this). 
As per John's comment, use the last versioned project (the one used for M8), 
that would be a safer option.

There is no install of bundle in before the getBundlesToUninstall() is called. 
It is later that the configurator decides what to install and to uninstall. 

If the framework can handle this, I propose that the configurator will never 
uninstall bundles from the osgi.bundles list, but may install them from a 
diffierent location (including a potentially newer version or the same 
version). Notice that the configurator is starting as this is happening, so 
this may create a big mess in the bundle states.
John/Pascal, can you attach the platform.xml file used to launch the config?

Wassim, I noticed a difference in the platform.cfg and platform.xml: the .cfg 
looks correct, while platform.xml appears incorrect. Here is my platform.xml 
(note that I was expecting a large list of plugins in the site, but there is 
none, and the policy is USER-EXCLUDE):


&lt;config version="3.0" date="Tue Mar 30 11:26:54 EST 2004" transient="false"&gt;
&lt;site url="platform:/base/" enabled="true" updateable="true" policy="USER-
EXCLUDE"&gt;
&lt;feature id="org.eclipse.platform" primary="true" version="3.0.0" 
application="org.eclipse.ui.ide.workbench" 
url="features/org.eclipse.platform_3.0.0/"/&gt;
&lt;feature id="org.eclipse.platform.source" version="3.0.0" 
url="features/org.eclipse.platform.source_3.0.0/"/&gt;
&lt;feature id="org.eclipse.jdt" version="3.0.0" 
url="features/org.eclipse.jdt_3.0.0/"/&gt;
&lt;feature id="org.eclipse.jdt.source" version="3.0.0" 
url="features/org.eclipse.jdt.source_3.0.0/"/&gt;
&lt;feature id="org.eclipse.pde" version="3.0.0" 
url="features/org.eclipse.pde_3.0.0/"/&gt;
&lt;feature id="org.eclipse.sdk" version="3.0.0" 
url="features/org.eclipse.sdk_3.0.0/"/&gt;
&lt;/site&gt;
&lt;/config&gt;

Pls ignore my last comment, I was using the nightly build, not M8. With M8 
things work fine.
With the latest build I can no longer reproduce this problem.
Please re-open if you can reproduce it with today's build.</WithStack>
    <WithOutStack>If you are loading all osgi projects, runtime and update.configurator in the
workspace, the runtime-workbench no longer starts.

The problem seems to come from the method getBundlesToUninstall() which is not
able to recognize that services, utils and runtime are bundles that should not
get uninstalled.
Pascal, what happens if we install a newer version of those bundles?
Should we let the runtime take care of this?
i.e. we just install the newer version of those plugins and the runtime will 
figure out that whatever version gets installed during the current session 
takes precedence over what's cached.
If I revert to the tagged version of update.configurator the problem no longer
occurs.  Here is the stack dump when it fails to start:

!SESSION Mar 29, 2004 16:04:26.916 ---------------------------------------------
java.fullversion=J2RE 1.4.1 IBM J9 build 20031212 (JIT enabled)
BootLoader constants: OS=win32, ARCH=x86, WS=win32, NL=en_US
Command-line arguments: -keyring d:\eclipse\test\.metadata\.keyring
!ENTRY org.eclipse.update.configurator Mar 29, 2004 16:04:26.916
!MESSAGE Could not uninstall unused bundle
reference:file:d:/1target/plugins/org.eclipse.update.configurator/
!ENTRY org.eclipse.update.configurator Mar 29, 2004 16:04:28.994
!MESSAGE Ignoring bundle at:
reference:file:d:/eclipse/plugins/org.eclipse.update.configurator_3.0.0/
!STACK 0
!ENTRY org.eclipse.osgi Mar 29, 2004 16:04:29.526
!MESSAGE Startup error
!STACK 1


Letting the system discover them the next time is a possibility, and is 
probably the easiest.

If the configurator was to uninstall then reinstall them, then it should makes 
sure that it puts them back to the state where they were (resolved / active, 
etc. - note that this behavior is equivalent to an "update").
Doing so would trigger the stop and restart of the configurator since it relies 
on these bundles and therefore need to be refreshed to release the classes that 
it holds.

Anyway I'm wondering how in a real scenario, this can happen. Basically, is it 
possible, between the moment that the configurator starts and the 
getBundlesToUninstall method runs, that some bundles get installed (by update)?
The update configurator in head is not good for self hosting, as it has some 
changes that PDE must still react to (I am waiting for Wassim to ok this). 
As per John's comment, use the last versioned project (the one used for M8), 
that would be a safer option.

There is no install of bundle in before the getBundlesToUninstall() is called. 
It is later that the configurator decides what to install and to uninstall. 

If the framework can handle this, I propose that the configurator will never 
uninstall bundles from the osgi.bundles list, but may install them from a 
diffierent location (including a potentially newer version or the same 
version). Notice that the configurator is starting as this is happening, so 
this may create a big mess in the bundle states.
John/Pascal, can you attach the platform.xml file used to launch the config?

Wassim, I noticed a difference in the platform.cfg and platform.xml: the .cfg 
looks correct, while platform.xml appears incorrect. Here is my platform.xml 
(note that I was expecting a large list of plugins in the site, but there is 
none, and the policy is USER-EXCLUDE):


&lt;config version="3.0" date="Tue Mar 30 11:26:54 EST 2004" transient="false"&gt;
&lt;site url="platform:/base/" enabled="true" updateable="true" policy="USER-
EXCLUDE"&gt;
&lt;feature id="org.eclipse.platform" primary="true" version="3.0.0" 
application="org.eclipse.ui.ide.workbench" 
url="features/org.eclipse.platform_3.0.0/"/&gt;
&lt;feature id="org.eclipse.platform.source" version="3.0.0" 
url="features/org.eclipse.platform.source_3.0.0/"/&gt;
&lt;feature id="org.eclipse.jdt" version="3.0.0" 
url="features/org.eclipse.jdt_3.0.0/"/&gt;
&lt;feature id="org.eclipse.jdt.source" version="3.0.0" 
url="features/org.eclipse.jdt.source_3.0.0/"/&gt;
&lt;feature id="org.eclipse.pde" version="3.0.0" 
url="features/org.eclipse.pde_3.0.0/"/&gt;
&lt;feature id="org.eclipse.sdk" version="3.0.0" 
url="features/org.eclipse.sdk_3.0.0/"/&gt;
&lt;/site&gt;
&lt;/config&gt;

Pls ignore my last comment, I was using the nightly build, not M8. With M8 
things work fine.
With the latest build I can no longer reproduce this problem.
Please re-open if you can reproduce it with today's build.</WithOutStack>
  </Bug>
  <Bug>
    <BugId amount="56644" />
    <CreationDate amount="2004-03-29 16:10:00 -0500" />
    <DupId amount="" />
    <classification amount="Eclipse" />
    <Product amount="PDE" />
    <component amount="UI" />
    <Version amount="3.0" />
    <rep_platform amount="PC" />
    <op_sys amount="Windows XP" />
    <priority amount="P3" />
    <bug_severity amount="normal" />
    <Summery>Unsatisfied constraints are not expressive enough</Summery>
    <Patches amount="0" />
    <Stacktraces amount="0" />
    <SourceCodeRegions amount="0" />
    <Enumerations amount="0" />
    <bug_status amount="RESOLVED" />
    <resolution amount="FIXED" />
    <WithStack>Build: 3.0M8

Currently, the reason why a bundle is unresolved are not very expressive.
For example, if a bundle had an unsatisfied prerequiste (org.eclipse.bla), the 
message would say: "name: org.eclipse.bla version:null"

Also, if a bundle was unresolved because another bundle with the same id had a 
higher version, the unsatisfied constraint for the unresolved bundle with the 
lower version has no associated message.
VersionConstraint has subclasses to represent pre-requisites
(BundleSpecification), imported packages (PackageSpecification), fragment-host
dependency (HostSpecification).

Messages can be built by checking the actual type of each unresolved constraint.
See, for example, how we do it in
EclipseAdaptorMessage#getResoultionFailureMessage. The constraints' toString
representations are not intended to be presented to the end user.
&gt;Also, if a bundle was unresolved because another bundle 
&gt;with the same id had a higher version, the unsatisfied 
&gt;constraint for the unresolved bundle with the 
&gt;lower version has no associated message.

Actually, you should be getting an empty array as the result of
StateHelper#getUnsatisfiedConstraints (since there are no unsatisfied
constraints for that bundle).
Thanks Rafael.  The messages that PDE logs now about unsatisfied constraints 
are very expressive.
Fixed.</WithStack>
    <WithOutStack>Build: 3.0M8

Currently, the reason why a bundle is unresolved are not very expressive.
For example, if a bundle had an unsatisfied prerequiste (org.eclipse.bla), the 
message would say: "name: org.eclipse.bla version:null"

Also, if a bundle was unresolved because another bundle with the same id had a 
higher version, the unsatisfied constraint for the unresolved bundle with the 
lower version has no associated message.
VersionConstraint has subclasses to represent pre-requisites
(BundleSpecification), imported packages (PackageSpecification), fragment-host
dependency (HostSpecification).

Messages can be built by checking the actual type of each unresolved constraint.
See, for example, how we do it in
EclipseAdaptorMessage#getResoultionFailureMessage. The constraints' toString
representations are not intended to be presented to the end user.
&gt;Also, if a bundle was unresolved because another bundle 
&gt;with the same id had a higher version, the unsatisfied 
&gt;constraint for the unresolved bundle with the 
&gt;lower version has no associated message.

Actually, you should be getting an empty array as the result of
StateHelper#getUnsatisfiedConstraints (since there are no unsatisfied
constraints for that bundle).
Thanks Rafael.  The messages that PDE logs now about unsatisfied constraints 
are very expressive.
Fixed.</WithOutStack>
  </Bug>
  <Bug>
    <BugId amount="56645" />
    <CreationDate amount="2004-03-29 16:26:00 -0500" />
    <DupId amount="" />
    <classification amount="Tools" />
    <Product amount="TPTP Agent Controller" />
    <component amount="Platform.Communication" />
    <Version amount="4.0" />
    <rep_platform amount="PC" />
    <op_sys amount="Windows 2000" />
    <priority amount="P3" />
    <bug_severity amount="normal" />
    <Summery>(Plat) Performance problem while collecting data.</Summery>
    <Patches amount="0" />
    <Stacktraces amount="0" />
    <SourceCodeRegions amount="0" />
    <Enumerations amount="0" />
    <bug_status amount="CLOSED" />
    <resolution amount="WONTFIX" />
    <WithStack>Hyades collecting slowes down the profiled tool so much that execution scripts 
like XDE scripts fail to execute profiled scenario. This defect is based on 
comparision with other profiling tools like JProbe for example.
Setup:
profiled application: WSADIE 5.1
testcase script run by: Rational XDE
profiler: Hyades v1_3
Moving to normal severity.  This is not a failure hense it is not a major 
defect.
transfer to tptp
Hi Bing. I have transferred my bugs to you for triage. Thanks.
As of TPTP 4.6.0, TPTP is in maintenance mode and focusing on improving quality by resolving relevant defects and increasing test coverage through test creation, automation, Build Verification Tests (BVTs), and expanded run-time execution. Since this defect is more than 2 years old, it may be no longer relevant. As part of the TPTP Bugzilla housecleaning process (see http://wiki.eclipse.org/Bugzilla_Housecleaning_Processes), this defect is resolved as WONTFIX. If this defect is still relevant and reproducible in the latest TPTP release (http://www.eclipse.org/tptp/home/downloads/), please re-open.
As of TPTP 4.6.0, TPTP is in maintenance mode and focusing on improving quality by resolving relevant enhancements/defects and increasing test coverage through test creation, automation, Build Verification Tests (BVTs), and expanded run-time execution. As part of the TPTP Bugzilla housecleaning process (see http://wiki.eclipse.org/Bugzilla_Housecleaning_Processes), this enhancement/defect is verified/closed by the Project Lead since this enhancement/defect has been resolved and unverified for more than 1 year and considered to be fixed. If this enhancement/defect is still unresolved and reproducible in the latest TPTP release (http://www.eclipse.org/tptp/home/downloads/), please re-open.</WithStack>
    <WithOutStack>Hyades collecting slowes down the profiled tool so much that execution scripts 
like XDE scripts fail to execute profiled scenario. This defect is based on 
comparision with other profiling tools like JProbe for example.
Setup:
profiled application: WSADIE 5.1
testcase script run by: Rational XDE
profiler: Hyades v1_3
Moving to normal severity.  This is not a failure hense it is not a major 
defect.
transfer to tptp
Hi Bing. I have transferred my bugs to you for triage. Thanks.
As of TPTP 4.6.0, TPTP is in maintenance mode and focusing on improving quality by resolving relevant defects and increasing test coverage through test creation, automation, Build Verification Tests (BVTs), and expanded run-time execution. Since this defect is more than 2 years old, it may be no longer relevant. As part of the TPTP Bugzilla housecleaning process (see http://wiki.eclipse.org/Bugzilla_Housecleaning_Processes), this defect is resolved as WONTFIX. If this defect is still relevant and reproducible in the latest TPTP release (http://www.eclipse.org/tptp/home/downloads/), please re-open.
As of TPTP 4.6.0, TPTP is in maintenance mode and focusing on improving quality by resolving relevant enhancements/defects and increasing test coverage through test creation, automation, Build Verification Tests (BVTs), and expanded run-time execution. As part of the TPTP Bugzilla housecleaning process (see http://wiki.eclipse.org/Bugzilla_Housecleaning_Processes), this enhancement/defect is verified/closed by the Project Lead since this enhancement/defect has been resolved and unverified for more than 1 year and considered to be fixed. If this enhancement/defect is still unresolved and reproducible in the latest TPTP release (http://www.eclipse.org/tptp/home/downloads/), please re-open.</WithOutStack>
  </Bug>
  <Bug>
    <BugId amount="56646" />
    <CreationDate amount="2004-03-29 16:27:00 -0500" />
    <DupId amount="" />
    <classification amount="Tools" />
    <Product amount="CDT" />
    <component amount="cdt-core" />
    <Version amount="2.0" />
    <rep_platform amount="PC" />
    <op_sys amount="Windows 2000" />
    <priority amount="P3" />
    <bug_severity amount="normal" />
    <Summery>Did not get warning when renaming a virtual function</Summery>
    <Patches amount="0" />
    <Stacktraces amount="0" />
    <SourceCodeRegions amount="2">
      <source_code type="class">
        <location start="10" end="74" />
        <code>class AB{
public:

	AB();
	virtual ~AB();
	virtual void fcn();
}</code>
      </source_code>
      <source_code type="class">
        <location start="78" end="162" />
        <code>class CD : public virtual AB{
public:

	CD();
	virtual ~CD();
	virtual void fcn();
}</code>
      </source_code>
    </SourceCodeRegions>
    <Enumerations amount="0" />
    <bug_status amount="RESOLVED" />
    <resolution amount="FIXED" />
    <WithStack>I have:


class AB{
public:

	AB();
	virtual ~AB();
	virtual void fcn();
};


class CD : public virtual AB{
public:

	CD();
	virtual ~CD();
	virtual void fcn();
};

When I renamed method fcn (tried AB::fcn and CD::fcn) I did not get a warning 
telling me I was renaming a virtual method and should also think about renaming 
the base and derived class methods.  The wizard proposal said we would try to 
do this if we could.
Fixed in HEAD</WithStack>
    <WithOutStack>I have:


class AB{
public:

	AB();
	virtual ~AB();
	virtual void fcn();
};


class CD : public virtual AB{
public:

	CD();
	virtual ~CD();
	virtual void fcn();
};

When I renamed method fcn (tried AB::fcn and CD::fcn) I did not get a warning 
telling me I was renaming a virtual method and should also think about renaming 
the base and derived class methods.  The wizard proposal said we would try to 
do this if we could.
Fixed in HEAD</WithOutStack>
  </Bug>
  <Bug>
    <BugId amount="56647" />
    <CreationDate amount="2004-03-29 16:29:00 -0500" />
    <DupId amount="" />
    <classification amount="Modeling" />
    <Product amount="EMF" />
    <component amount="Core" />
    <Version amount="2.0" />
    <rep_platform amount="PC" />
    <op_sys amount="Windows 2000" />
    <priority amount="P3" />
    <bug_severity amount="normal" />
    <Summery>XMLHandler/XMIHandlers support for proper xmlns scoping</Summery>
    <Patches amount="0" />
    <Stacktraces amount="0" />
    <SourceCodeRegions amount="0" />
    <Enumerations amount="0" />
    <bug_status amount="VERIFIED" />
    <resolution amount="FIXED" />
    <WithStack>Properly handle a case like this:

XML document:
&lt;?xml version="1.0" encoding="utf-8"?&gt;
&lt;Root xmlns="urn:u2"&gt;
  &lt;a1&gt;
    &lt;value xmlns="urn:u1"&gt;11&lt;/value&gt;
  &lt;/a1&gt;
  &lt;a2 xmlns=""&gt;
    &lt;value xmlns="urn:u1"&gt;12&lt;/value&gt;
  &lt;/a2&gt;
  &lt;b1&gt;
    &lt;value xmlns=""&gt;21&lt;/value&gt;
  &lt;/b1&gt;
  &lt;b2 xmlns=""&gt;
    &lt;value&gt;22&lt;/value&gt;
  &lt;/b2&gt;
&lt;/Root&gt;

For these schemas:

&lt;?xml version="1.0" encoding="utf-8"?&gt;
&lt;xs:schema xmlns:xs="http://www.w3.org/2001/XMLSchema" targetNamespace="urn:u1"&gt;
       &lt;xs:complexType name="TypeA"&gt;
    &lt;xs:sequence&gt;
      &lt;xs:element name="value" type="xs:int" form="qualified"/&gt;
    &lt;/xs:sequence&gt;
  &lt;/xs:complexType&gt;
       &lt;xs:complexType name="TypeB"&gt;
    &lt;xs:sequence&gt;
      &lt;xs:element name="value" type="xs:int" form="unqualified"/&gt;
    &lt;/xs:sequence&gt;
  &lt;/xs:complexType&gt;
&lt;/xs:schema&gt;

&lt;?xml version="1.0" encoding="utf-8"?&gt;
&lt;xs:schema xmlns:xs="http://www.w3.org/2001/XMLSchema" targetNamespace="urn:u2" 
xmlns:data1="urn:u1"&gt;
  &lt;xs:import namespace="urn:u1" schemaLocation="u1.xsd"/&gt;
  &lt;xs:element name="Root"&gt;
       &lt;xs:complexType&gt;
    &lt;xs:sequence&gt;
      &lt;xs:element name="a1" type="data1:TypeA" form="qualified"/&gt;
      &lt;xs:element name="a2" type="data1:TypeA" form="unqualified"/&gt;
      &lt;xs:element name="b1" type="data1:TypeB" form="qualified"/&gt;
      &lt;xs:element name="b2" type="data1:TypeB" form="unqualified"/&gt;
    &lt;/xs:sequence&gt;
  &lt;/xs:complexType&gt;
    &lt;/xs:element&gt;
&lt;/xs:schema&gt;
Fixed in CVS
Re-opening since the fix is not yet available in the driver
The fix is available in the I200404080557 build.
Move to verified as per bug 206558.</WithStack>
    <WithOutStack>Properly handle a case like this:

XML document:
&lt;?xml version="1.0" encoding="utf-8"?&gt;
&lt;Root xmlns="urn:u2"&gt;
  &lt;a1&gt;
    &lt;value xmlns="urn:u1"&gt;11&lt;/value&gt;
  &lt;/a1&gt;
  &lt;a2 xmlns=""&gt;
    &lt;value xmlns="urn:u1"&gt;12&lt;/value&gt;
  &lt;/a2&gt;
  &lt;b1&gt;
    &lt;value xmlns=""&gt;21&lt;/value&gt;
  &lt;/b1&gt;
  &lt;b2 xmlns=""&gt;
    &lt;value&gt;22&lt;/value&gt;
  &lt;/b2&gt;
&lt;/Root&gt;

For these schemas:

&lt;?xml version="1.0" encoding="utf-8"?&gt;
&lt;xs:schema xmlns:xs="http://www.w3.org/2001/XMLSchema" targetNamespace="urn:u1"&gt;
       &lt;xs:complexType name="TypeA"&gt;
    &lt;xs:sequence&gt;
      &lt;xs:element name="value" type="xs:int" form="qualified"/&gt;
    &lt;/xs:sequence&gt;
  &lt;/xs:complexType&gt;
       &lt;xs:complexType name="TypeB"&gt;
    &lt;xs:sequence&gt;
      &lt;xs:element name="value" type="xs:int" form="unqualified"/&gt;
    &lt;/xs:sequence&gt;
  &lt;/xs:complexType&gt;
&lt;/xs:schema&gt;

&lt;?xml version="1.0" encoding="utf-8"?&gt;
&lt;xs:schema xmlns:xs="http://www.w3.org/2001/XMLSchema" targetNamespace="urn:u2" 
xmlns:data1="urn:u1"&gt;
  &lt;xs:import namespace="urn:u1" schemaLocation="u1.xsd"/&gt;
  &lt;xs:element name="Root"&gt;
       &lt;xs:complexType&gt;
    &lt;xs:sequence&gt;
      &lt;xs:element name="a1" type="data1:TypeA" form="qualified"/&gt;
      &lt;xs:element name="a2" type="data1:TypeA" form="unqualified"/&gt;
      &lt;xs:element name="b1" type="data1:TypeB" form="qualified"/&gt;
      &lt;xs:element name="b2" type="data1:TypeB" form="unqualified"/&gt;
    &lt;/xs:sequence&gt;
  &lt;/xs:complexType&gt;
    &lt;/xs:element&gt;
&lt;/xs:schema&gt;
Fixed in CVS
Re-opening since the fix is not yet available in the driver
The fix is available in the I200404080557 build.
Move to verified as per bug 206558.</WithOutStack>
  </Bug>
  <Bug>
    <BugId amount="56648" />
    <CreationDate amount="2004-03-29 16:31:00 -0500" />
    <DupId amount="56323" />
    <classification amount="Eclipse" />
    <Product amount="JDT" />
    <component amount="Text" />
    <Version amount="3.0" />
    <rep_platform amount="PC" />
    <op_sys amount="Windows XP" />
    <priority amount="P3" />
    <bug_severity amount="normal" />
    <Summery>Opening external file crashes</Summery>
    <Patches amount="0" />
    <Stacktraces amount="1">
      <Stacktrace timestamp="1437341104119">
        <Exception>java.lang.NullPointerException</Exception>
        <Reason />
        <Frames>
          <Frame depth="0">org.eclipse.jdt.internal.ui.javaeditor.ASTProvider.activeJavaEditorChanged(ASTProvider.java:210)</Frame>
          <Frame depth="1">org.eclipse.jdt.internal.ui.javaeditor.ASTProvider.access$0(ASTProvider.java:199)</Frame>
          <Frame depth="2">org.eclipse.jdt.internal.ui.javaeditor.ASTProvider$ActivationListener.partOpened(ASTProvider.java:88)</Frame>
          <Frame depth="3">org.eclipse.ui.internal.PartListenerList2$5.run(PartListenerList2.java:125)</Frame>
          <Frame depth="4">org.eclipse.core.internal.runtime.InternalPlatform.run(InternalPlatform.java:610)</Frame>
          <Frame depth="5">org.eclipse.core.runtime.Platform.run(Platform.java:521)</Frame>
          <Frame depth="6">org.eclipse.ui.internal.PartListenerList2.firePartOpened(PartListenerList2.java:123)</Frame>
          <Frame depth="7">org.eclipse.ui.internal.WWinPartService$1.partOpened(WWinPartService.java:62)</Frame>
          <Frame depth="8">org.eclipse.ui.internal.PartListenerList2$5.run(PartListenerList2.java:125)</Frame>
          <Frame depth="9">org.eclipse.core.internal.runtime.InternalPlatform.run(InternalPlatform.java:610)</Frame>
          <Frame depth="10">org.eclipse.core.runtime.Platform.run(Platform.java:521)</Frame>
          <Frame depth="11">org.eclipse.ui.internal.PartListenerList2.firePartOpened(PartListenerList2.java:123)</Frame>
          <Frame depth="12">org.eclipse.ui.internal.WorkbenchPage.firePartOpened(WorkbenchPage.java:1356)</Frame>
          <Frame depth="13">org.eclipse.ui.internal.PartPane.createChildControl(PartPane.java:121)</Frame>
          <Frame depth="14">org.eclipse.ui.internal.PartPane.createControl(PartPane.java:154)</Frame>
          <Frame depth="15">org.eclipse.ui.internal.EditorWorkbook.showPart(EditorWorkbook.java:470)</Frame>
          <Frame depth="16">org.eclipse.ui.internal.EditorWorkbook.add(EditorWorkbook.java:292)</Frame>
          <Frame depth="17">org.eclipse.ui.internal.EditorArea.addEditor(EditorArea.java:56)</Frame>
          <Frame depth="18">org.eclipse.ui.internal.EditorPresentation.openEditor(EditorPresentation.java:225)</Frame>
          <Frame depth="19">org.eclipse.ui.internal.EditorManager$2.run(EditorManager.java:550)</Frame>
          <Frame depth="20">org.eclipse.swt.custom.BusyIndicator.showWhile(BusyIndicator.java:84)</Frame>
          <Frame depth="21">org.eclipse.ui.internal.EditorManager.createEditorTab(EditorManager.java:539)</Frame>
          <Frame depth="22">org.eclipse.ui.internal.EditorManager.openInternalEditor(EditorManager.java:635)</Frame>
          <Frame depth="23">org.eclipse.ui.internal.EditorManager.openEditorFromDescriptor(EditorManager.java:438)</Frame>
          <Frame depth="24">org.eclipse.ui.internal.EditorManager.openEditor(EditorManager.java:426)</Frame>
          <Frame depth="25">org.eclipse.ui.internal.WorkbenchPage.busyOpenEditor(WorkbenchPage.java:2129)</Frame>
          <Frame depth="26">org.eclipse.ui.internal.WorkbenchPage.access$6(WorkbenchPage.java:2072)</Frame>
          <Frame depth="27">org.eclipse.ui.internal.WorkbenchPage$9.run(WorkbenchPage.java:2059)</Frame>
          <Frame depth="28">org.eclipse.swt.custom.BusyIndicator.showWhile(BusyIndicator.java:84)</Frame>
          <Frame depth="29">org.eclipse.ui.internal.WorkbenchPage.openEditor(WorkbenchPage.java:2054)</Frame>
          <Frame depth="30">org.eclipse.ui.internal.WorkbenchPage.openEditor(WorkbenchPage.java:2037)</Frame>
          <Frame depth="31">org.eclipse.ui.internal.editors.text.OpenExternalFileAction.run(OpenExternalFileAction.java:115)</Frame>
          <Frame depth="32">org.eclipse.ui.internal.editors.text.OpenExternalFileAction.run(OpenExternalFileAction.java:87)</Frame>
          <Frame depth="33">org.eclipse.ui.internal.PluginAction.runWithEvent(PluginAction.java:269)</Frame>
          <Frame depth="34">org.eclipse.ui.internal.WWinPluginAction.runWithEvent(WWinPluginAction.java:207)</Frame>
          <Frame depth="35">org.eclipse.jface.action.ActionContributionItem.handleWidgetSelection(ActionContributionItem.java:550)</Frame>
          <Frame depth="36">org.eclipse.jface.action.ActionContributionItem.access$2(ActionContributionItem.java:502)</Frame>
          <Frame depth="37">org.eclipse.jface.action.ActionContributionItem$5.handleEvent(ActionContributionItem.java:435)</Frame>
          <Frame depth="38">org.eclipse.swt.widgets.EventTable.sendEvent(EventTable.java:82)</Frame>
          <Frame depth="39">org.eclipse.swt.widgets.Widget.sendEvent(Widget.java:769)</Frame>
          <Frame depth="40">org.eclipse.swt.widgets.Display.runDeferredEvents(Display.java:2578)</Frame>
          <Frame depth="41">org.eclipse.swt.widgets.Display.readAndDispatch(Display.java:2256)</Frame>
          <Frame depth="42">org.eclipse.ui.internal.Workbench.runEventLoop(Workbench.java:1562)</Frame>
          <Frame depth="43">org.eclipse.ui.internal.Workbench.runUI(Workbench.java:1536)</Frame>
          <Frame depth="44">org.eclipse.ui.internal.Workbench.createAndRunWorkbench(Workbench.java:257)</Frame>
          <Frame depth="45">org.eclipse.ui.PlatformUI.createAndRunWorkbench(PlatformUI.java:139)</Frame>
          <Frame depth="46">org.eclipse.ui.internal.ide.IDEApplication.run(IDEApplication.java:90)</Frame>
          <Frame depth="47">org.eclipse.core.internal.runtime.PlatformActivator$1.run(PlatformActivator.java:277)</Frame>
          <Frame depth="48">org.eclipse.core.runtime.adaptor.EclipseStarter.run(EclipseStarter.java:239)</Frame>
          <Frame depth="49">org.eclipse.core.runtime.adaptor.EclipseStarter.run(EclipseStarter.java:117)</Frame>
          <Frame depth="50">sun.reflect.NativeMethodAccessorImpl.invoke0(Native Method)</Frame>
          <Frame depth="51">sun.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:39)</Frame>
          <Frame depth="52">sun.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:25)</Frame>
          <Frame depth="53">java.lang.reflect.Method.invoke(Method.java:324)</Frame>
          <Frame depth="54">org.eclipse.core.launcher.Main.basicRun(Main.java:267)</Frame>
          <Frame depth="55">org.eclipse.core.launcher.Main.run(Main.java:692)</Frame>
          <Frame depth="56">org.eclipse.core.launcher.Main.main(Main.java:676)</Frame>
        </Frames>
      </Stacktrace>
    </Stacktraces>
    <SourceCodeRegions amount="0" />
    <Enumerations amount="1">
      <Enumeration lines="4">
        <Lines>
          <Line>- Create a project with a class called "bla.java".</Line>
          <Line>- Save a copy of "bla.java" on your Desktop (or somewhere else).</Line>
          <Line>- Launch eclipse</Line>
          <Line>- Open the "bla.java" file on your Desktop. (File-&gt;Open External File).</Line>
        </Lines>
      </Enumeration>
    </Enumerations>
    <bug_status amount="RESOLVED" />
    <resolution amount="DUPLICATE" />
    <WithStack>I am using M8, and I am currently working on a plug-in project. I had 5 java 
files open. I had a copy of one of the opened java files in a zip file that I 
extracted to the Desktop. When I tried to open the extracted file, I was 
notified that the operation had failed, and that an error had been written to 
the log file. The point to note is that the file I opened had the same 
filename as one of the java files already opened.
I was able to reproduce the error by restarting eclipse, and directly opening 
the file in the desktop with the same name as on of the plug-in project files.

Steps:
- Create a project with a class called "bla.java".
- Save a copy of "bla.java" on your Desktop (or somewhere else).
- Launch eclipse
- Open the "bla.java" file on your Desktop. (File-&gt;Open External File).

Log:
!SESSION Mar 29, 2004 16:21:33.119 --------------------------------------------
-
java.version=1.4.2_02
java.vendor=Sun Microsystems Inc.
BootLoader constants: OS=win32, ARCH=x86, WS=win32, NL=en_US
!ENTRY org.eclipse.core.runtime 4 2 Mar 29, 2004 16:21:33.119
!MESSAGE Problems occurred when invoking code from plug-
in: "org.eclipse.core.runtime".
!STACK 0
java.lang.NullPointerException
	at 
org.eclipse.jdt.internal.ui.javaeditor.ASTProvider.activeJavaEditorChanged
(ASTProvider.java:210)
	at org.eclipse.jdt.internal.ui.javaeditor.ASTProvider.access$0
(ASTProvider.java:199)
	at 
org.eclipse.jdt.internal.ui.javaeditor.ASTProvider$ActivationListener.partOpene
d(ASTProvider.java:88)
	at org.eclipse.ui.internal.PartListenerList2$5.run
(PartListenerList2.java:125)
	at org.eclipse.core.internal.runtime.InternalPlatform.run
(InternalPlatform.java:610)
	at org.eclipse.core.runtime.Platform.run(Platform.java:521)
	at org.eclipse.ui.internal.PartListenerList2.firePartOpened
(PartListenerList2.java:123)
	at org.eclipse.ui.internal.WWinPartService$1.partOpened
(WWinPartService.java:62)
	at org.eclipse.ui.internal.PartListenerList2$5.run
(PartListenerList2.java:125)
	at org.eclipse.core.internal.runtime.InternalPlatform.run
(InternalPlatform.java:610)
	at org.eclipse.core.runtime.Platform.run(Platform.java:521)
	at org.eclipse.ui.internal.PartListenerList2.firePartOpened
(PartListenerList2.java:123)
	at org.eclipse.ui.internal.WorkbenchPage.firePartOpened
(WorkbenchPage.java:1356)
	at org.eclipse.ui.internal.PartPane.createChildControl
(PartPane.java:121)
	at org.eclipse.ui.internal.PartPane.createControl(PartPane.java:154)
	at org.eclipse.ui.internal.EditorWorkbook.showPart
(EditorWorkbook.java:470)
	at org.eclipse.ui.internal.EditorWorkbook.add(EditorWorkbook.java:292)
	at org.eclipse.ui.internal.EditorArea.addEditor(EditorArea.java:56)
	at org.eclipse.ui.internal.EditorPresentation.openEditor
(EditorPresentation.java:225)
	at org.eclipse.ui.internal.EditorManager$2.run(EditorManager.java:550)
	at org.eclipse.swt.custom.BusyIndicator.showWhile
(BusyIndicator.java:84)
	at org.eclipse.ui.internal.EditorManager.createEditorTab
(EditorManager.java:539)
	at org.eclipse.ui.internal.EditorManager.openInternalEditor
(EditorManager.java:635)
	at org.eclipse.ui.internal.EditorManager.openEditorFromDescriptor
(EditorManager.java:438)
	at org.eclipse.ui.internal.EditorManager.openEditor
(EditorManager.java:426)
	at org.eclipse.ui.internal.WorkbenchPage.busyOpenEditor
(WorkbenchPage.java:2129)
	at org.eclipse.ui.internal.WorkbenchPage.access$6
(WorkbenchPage.java:2072)
	at org.eclipse.ui.internal.WorkbenchPage$9.run(WorkbenchPage.java:2059)
	at org.eclipse.swt.custom.BusyIndicator.showWhile
(BusyIndicator.java:84)
	at org.eclipse.ui.internal.WorkbenchPage.openEditor
(WorkbenchPage.java:2054)
	at org.eclipse.ui.internal.WorkbenchPage.openEditor
(WorkbenchPage.java:2037)
	at org.eclipse.ui.internal.editors.text.OpenExternalFileAction.run
(OpenExternalFileAction.java:115)
	at org.eclipse.ui.internal.editors.text.OpenExternalFileAction.run
(OpenExternalFileAction.java:87)
	at org.eclipse.ui.internal.PluginAction.runWithEvent
(PluginAction.java:269)
	at org.eclipse.ui.internal.WWinPluginAction.runWithEvent
(WWinPluginAction.java:207)
	at 
org.eclipse.jface.action.ActionContributionItem.handleWidgetSelection
(ActionContributionItem.java:550)
	at org.eclipse.jface.action.ActionContributionItem.access$2
(ActionContributionItem.java:502)
	at org.eclipse.jface.action.ActionContributionItem$5.handleEvent
(ActionContributionItem.java:435)
	at org.eclipse.swt.widgets.EventTable.sendEvent(EventTable.java:82)
	at org.eclipse.swt.widgets.Widget.sendEvent(Widget.java:769)
	at org.eclipse.swt.widgets.Display.runDeferredEvents(Display.java:2578)
	at org.eclipse.swt.widgets.Display.readAndDispatch(Display.java:2256)
	at org.eclipse.ui.internal.Workbench.runEventLoop(Workbench.java:1562)
	at org.eclipse.ui.internal.Workbench.runUI(Workbench.java:1536)
	at org.eclipse.ui.internal.Workbench.createAndRunWorkbench
(Workbench.java:257)
	at org.eclipse.ui.PlatformUI.createAndRunWorkbench(PlatformUI.java:139)
	at org.eclipse.ui.internal.ide.IDEApplication.run
(IDEApplication.java:90)
	at org.eclipse.core.internal.runtime.PlatformActivator$1.run
(PlatformActivator.java:277)
	at org.eclipse.core.runtime.adaptor.EclipseStarter.run
(EclipseStarter.java:239)
	at org.eclipse.core.runtime.adaptor.EclipseStarter.run
(EclipseStarter.java:117)
	at sun.reflect.NativeMethodAccessorImpl.invoke0(Native Method)
	at sun.reflect.NativeMethodAccessorImpl.invoke
(NativeMethodAccessorImpl.java:39)
	at sun.reflect.DelegatingMethodAccessorImpl.invoke
(DelegatingMethodAccessorImpl.java:25)
	at java.lang.reflect.Method.invoke(Method.java:324)
	at org.eclipse.core.launcher.Main.basicRun(Main.java:267)
	at org.eclipse.core.launcher.Main.run(Main.java:692)
	at org.eclipse.core.launcher.Main.main(Main.java:676)
Move to JDT/UI


*** This bug has been marked as a duplicate of 56323 ***</WithStack>
    <WithOutStack>I am using M8, and I am currently working on a plug-in project. I had 5 java 
files open. I had a copy of one of the opened java files in a zip file that I 
extracted to the Desktop. When I tried to open the extracted file, I was 
notified that the operation had failed, and that an error had been written to 
the log file. The point to note is that the file I opened had the same 
filename as one of the java files already opened.
I was able to reproduce the error by restarting eclipse, and directly opening 
the file in the desktop with the same name as on of the plug-in project files.

Steps:
- Create a project with a class called "bla.java".
- Save a copy of "bla.java" on your Desktop (or somewhere else).
- Launch eclipse
- Open the "bla.java" file on your Desktop. (File-&gt;Open External File).

Log:
!SESSION Mar 29, 2004 16:21:33.119 --------------------------------------------
-
java.version=1.4.2_02
java.vendor=Sun Microsystems Inc.
BootLoader constants: OS=win32, ARCH=x86, WS=win32, NL=en_US
!ENTRY org.eclipse.core.runtime 4 2 Mar 29, 2004 16:21:33.119
!MESSAGE Problems occurred when invoking code from plug-
in: "org.eclipse.core.runtime".
!STACK 0

Move to JDT/UI


*** This bug has been marked as a duplicate of 56323 ***</WithOutStack>
  </Bug>
  <Bug>
    <BugId amount="56649" />
    <CreationDate amount="2004-03-29 16:34:00 -0500" />
    <DupId amount="" />
    <classification amount="Eclipse" />
    <Product amount="Platform" />
    <component amount="UI" />
    <Version amount="3.0" />
    <rep_platform amount="PC" />
    <op_sys amount="Windows XP" />
    <priority amount="P3" />
    <bug_severity amount="normal" />
    <Summery>[Perspectives] 2.1 -&gt; 3.0 Can delete the Debug perspective</Summery>
    <Patches amount="0" />
    <Stacktraces amount="0" />
    <SourceCodeRegions amount="0" />
    <Enumerations amount="0" />
    <bug_status amount="VERIFIED" />
    <resolution amount="FIXED" />
    <WithStack>In a 2.1 environment, create a preference file such that the 2.1 Debug 
perspective was modified and saved as the Debug perspective (i.e. Save 
Perspective As -&gt; Debug).  I have attached a preference file from 2.1 that 
does just that.

In a 3.0 environment, load this preference file.  Try to open the Debug 
perspective.  This causes errors because the view ConsoleView from the 2.1 
Debug perspective no longer exists.  

If you look at the list of perspectives now available to you (Window-&gt;Open 
Perspective-&gt;Other...) you will notice that the Debug perspective is no longer 
listed.  UI removed all perspectives with that id because a problem was 
encountered opening that perspective.

Workaround - There is a ray of sunshine, however.  If you shutdown Eclipse and 
start it up again, the 3.0 Debug perspective is reloaded and available to you.
Created attachment 8996
A 2.1 preference file
Deb, would you be able to look into this one?
We should ensure that if there is an error restoring a customized perspective,
that it does not blow away the corresponding built-in one.

Okay

Fixed in HEAD.  Note that if you wish to reset the debug perspective after 
encountering this problem, you need to use Windows-&gt;Reset Perspective.  See 
bug 60504 for further details.</WithStack>
    <WithOutStack>In a 2.1 environment, create a preference file such that the 2.1 Debug 
perspective was modified and saved as the Debug perspective (i.e. Save 
Perspective As -&gt; Debug).  I have attached a preference file from 2.1 that 
does just that.

In a 3.0 environment, load this preference file.  Try to open the Debug 
perspective.  This causes errors because the view ConsoleView from the 2.1 
Debug perspective no longer exists.  

If you look at the list of perspectives now available to you (Window-&gt;Open 
Perspective-&gt;Other...) you will notice that the Debug perspective is no longer 
listed.  UI removed all perspectives with that id because a problem was 
encountered opening that perspective.

Workaround - There is a ray of sunshine, however.  If you shutdown Eclipse and 
start it up again, the 3.0 Debug perspective is reloaded and available to you.
Created attachment 8996
A 2.1 preference file
Deb, would you be able to look into this one?
We should ensure that if there is an error restoring a customized perspective,
that it does not blow away the corresponding built-in one.

Okay

Fixed in HEAD.  Note that if you wish to reset the debug perspective after 
encountering this problem, you need to use Windows-&gt;Reset Perspective.  See 
bug 60504 for further details.</WithOutStack>
  </Bug>
  <Bug>
    <BugId amount="56650" />
    <CreationDate amount="2004-03-29 16:36:00 -0500" />
    <DupId amount="" />
    <classification amount="Tools" />
    <Product amount="CDT" />
    <component amount="cdt-core" />
    <Version amount="2.0" />
    <rep_platform amount="PC" />
    <op_sys amount="Windows XP" />
    <priority amount="P3" />
    <bug_severity amount="normal" />
    <Summery>Context menu for C/C++ Projects view should display the "Import" menu item when view is empty or nothing is selected</Summery>
    <Patches amount="0" />
    <Stacktraces amount="0" />
    <SourceCodeRegions amount="0" />
    <Enumerations amount="1">
      <Enumeration lines="3">
        <Lines>
          <Line>1. Open the C/C++ perspective and C/C++ Projects view.</Line>
          <Line>2. De-select everything in the C/C++ Projects view.</Line>
          <Line>3. Right-click anywhere in the view.</Line>
        </Lines>
      </Enumeration>
    </Enumerations>
    <bug_status amount="VERIFIED" />
    <resolution amount="FIXED" />
    <WithStack>CDT 2.0.0.200403291152
Eclipse M8

The "Import" project menu item is absent from the context menu of the C/C++
Projects view when the view is empty or nothing is selected.

This behaviour differs from JDT.

Test case:
1. Open the C/C++ perspective and C/C++ Projects view.
2. De-select everything in the C/C++ Projects view.
3. Right-click anywhere in the view.

Result:  Note how the "Import" menu item is not present.
&gt; The "Import" project menu item is absent from the context menu of the C/C++
&gt; Projects view when the view is empty or nothing is selected.

Ok sound reasonable to have the import.  In the head, thanks


This bug has been verified on Eclipse build 20040603 and CDT build 
200406030301, and it passes.

Pixy.


marking it verified</WithStack>
    <WithOutStack>CDT 2.0.0.200403291152
Eclipse M8

The "Import" project menu item is absent from the context menu of the C/C++
Projects view when the view is empty or nothing is selected.

This behaviour differs from JDT.

Test case:
1. Open the C/C++ perspective and C/C++ Projects view.
2. De-select everything in the C/C++ Projects view.
3. Right-click anywhere in the view.

Result:  Note how the "Import" menu item is not present.
&gt; The "Import" project menu item is absent from the context menu of the C/C++
&gt; Projects view when the view is empty or nothing is selected.

Ok sound reasonable to have the import.  In the head, thanks


This bug has been verified on Eclipse build 20040603 and CDT build 
200406030301, and it passes.

Pixy.


marking it verified</WithOutStack>
  </Bug>
  <Bug>
    <BugId amount="56651" />
    <CreationDate amount="2004-03-29 16:41:00 -0500" />
    <DupId amount="56524" />
    <classification amount="Eclipse" />
    <Product amount="Platform" />
    <component amount="UI" />
    <Version amount="3.0" />
    <rep_platform amount="Sun" />
    <op_sys amount="Solaris" />
    <priority amount="P3" />
    <bug_severity amount="normal" />
    <Summery>Cannot select Plug-in Development perspective after a new install of 3.0M8 on Solaris</Summery>
    <Patches amount="0" />
    <Stacktraces amount="0" />
    <SourceCodeRegions amount="0" />
    <Enumerations amount="1">
      <Enumeration lines="6">
        <Lines>
          <Line>1. Install Eclipse 3.0M8 on Solaris 9 via the eclipse.org download page.</Line>
          <Line>2. Launch Eclipse 3.0M8 and select the “Go To The Workbench” icon.</Line>
          <Line>3. When the workbench window appears with default Resource perpective,</Line>
          <Line>select “Window-&gt;Open Perspective-Other”.</Line>
          <Line>4. The ‘Select Perspective’ window pops up, but the Plug-in Development</Line>
          <Line>perspective is missing from the selection.</Line>
        </Lines>
      </Enumeration>
    </Enumerations>
    <bug_status amount="RESOLVED" />
    <resolution amount="DUPLICATE" />
    <WithStack>The Plug-in development view is missing from “Window-&gt;Open Perspective-Other” 
for a new install of 3.0M8 on Solaris 9.

Here are the steps to follow to reproduce the problem:
1. Install Eclipse 3.0M8 on Solaris 9 via the eclipse.org download page.
2. Launch Eclipse 3.0M8 and select the “Go To The Workbench” icon.
3. When the workbench window appears with default Resource perpective, 
select “Window-&gt;Open Perspective-Other”.
4. The ‘Select Perspective’ window pops up, but the Plug-in Development 
perspective is missing from the selection.

This problem is also occurred on HPUX 11.11.

The workaround is to create a Plug-in project. Once the project is created, the 
Plug-in Development perspective will be on the ‘Select Perspective’ window.
This is due to the new activities work.  Believe it or not, it's intentional. :)  

*** This bug has been marked as a duplicate of 56524 ***</WithStack>
    <WithOutStack>The Plug-in development view is missing from “Window-&gt;Open Perspective-Other” 
for a new install of 3.0M8 on Solaris 9.

Here are the steps to follow to reproduce the problem:
1. Install Eclipse 3.0M8 on Solaris 9 via the eclipse.org download page.
2. Launch Eclipse 3.0M8 and select the “Go To The Workbench” icon.
3. When the workbench window appears with default Resource perpective, 
select “Window-&gt;Open Perspective-Other”.
4. The ‘Select Perspective’ window pops up, but the Plug-in Development 
perspective is missing from the selection.

This problem is also occurred on HPUX 11.11.

The workaround is to create a Plug-in project. Once the project is created, the 
Plug-in Development perspective will be on the ‘Select Perspective’ window.
This is due to the new activities work.  Believe it or not, it's intentional. :)  

*** This bug has been marked as a duplicate of 56524 ***</WithOutStack>
  </Bug>
  <Bug>
    <BugId amount="56652" />
    <CreationDate amount="2004-03-29 16:46:00 -0500" />
    <DupId amount="56445" />
    <classification amount="Eclipse" />
    <Product amount="JDT" />
    <component amount="UI" />
    <Version amount="3.0" />
    <rep_platform amount="Macintosh" />
    <op_sys amount="Mac OS X - Carbon (unsup.)" />
    <priority amount="P3" />
    <bug_severity amount="normal" />
    <Summery>NPE when trying to edit a code formatter profile</Summery>
    <Patches amount="0" />
    <Stacktraces amount="1">
      <Stacktrace timestamp="1437341104123">
        <Exception>java.lang.NullPointerException</Exception>
        <Reason />
        <Frames>
          <Frame depth="0">org.eclipse.jdt.internal.ui.preferences.formatter.WhiteSpaceTabPage$JavaElementComponent.innerViewerChanged(WhiteSpaceTabPage.java:336)</Frame>
          <Frame depth="1">org.eclipse.jdt.internal.ui.preferences.formatter.WhiteSpaceTabPage$JavaElementComponent.refreshState(WhiteSpaceTabPage.java:267)</Frame>
          <Frame depth="2">org.eclipse.jdt.internal.ui.preferences.formatter.WhiteSpaceTabPage$JavaElementComponent.initialize(WhiteSpaceTabPage.java:275)</Frame>
          <Frame depth="3">org.eclipse.jdt.internal.ui.preferences.formatter.WhiteSpaceTabPage$SwitchComponent.initialize(WhiteSpaceTabPage.java:417)</Frame>
          <Frame depth="4">org.eclipse.jdt.internal.ui.preferences.formatter.WhiteSpaceTabPage.initializePage(WhiteSpaceTabPage.java:457)</Frame>
          <Frame depth="5">org.eclipse.jdt.internal.ui.preferences.formatter.ModifyDialogTabPage.createContents(ModifyDialogTabPage.java:573)</Frame>
          <Frame depth="6">org.eclipse.jdt.internal.ui.preferences.formatter.ModifyDialog.addTabPage(ModifyDialog.java:199)</Frame>
          <Frame depth="7">org.eclipse.jdt.internal.ui.preferences.formatter.ModifyDialog.createDialogArea(ModifyDialog.java:127)</Frame>
          <Frame depth="8">org.eclipse.jface.dialogs.Dialog.createContents(Dialog.java:556)</Frame>
          <Frame depth="9">org.eclipse.jface.window.Window.create(Window.java:350)</Frame>
          <Frame depth="10">org.eclipse.jface.dialogs.Dialog.create(Dialog.java:859)</Frame>
          <Frame depth="11">org.eclipse.jdt.internal.ui.dialogs.StatusDialog.create(StatusDialog.java:103)</Frame>
          <Frame depth="12">org.eclipse.jdt.internal.ui.preferences.formatter.ModifyDialog.create(ModifyDialog.java:97)</Frame>
          <Frame depth="13">org.eclipse.jface.window.Window.open(Window.java:639)</Frame>
          <Frame depth="14">org.eclipse.jdt.internal.ui.preferences.formatter.CodingStyleConfigurationBlock$ButtonController.modifyButtonPressed(CodingStyleConfigurationBlock.java:172)</Frame>
          <Frame depth="15">org.eclipse.jdt.internal.ui.preferences.formatter.CodingStyleConfigurationBlock$ButtonController.widgetSelected(CodingStyleConfigurationBlock.java:149)</Frame>
          <Frame depth="16">org.eclipse.swt.widgets.TypedListener.handleEvent(TypedListener.java:89)</Frame>
          <Frame depth="17">org.eclipse.swt.widgets.EventTable.sendEvent(EventTable.java:82)</Frame>
          <Frame depth="18">org.eclipse.swt.widgets.Widget.sendEvent(Widget.java:1195)</Frame>
          <Frame depth="19">org.eclipse.swt.widgets.Widget.sendEvent(Widget.java:1219)</Frame>
          <Frame depth="20">org.eclipse.swt.widgets.Widget.sendEvent(Widget.java:1204)</Frame>
          <Frame depth="21">org.eclipse.swt.widgets.Widget.notifyListeners(Widget.java:1052)</Frame>
          <Frame depth="22">org.eclipse.swt.widgets.Display.runDeferredEvents(Display.java:2327)</Frame>
          <Frame depth="23">org.eclipse.swt.widgets.Display.readAndDispatch(Display.java:2037)</Frame>
          <Frame depth="24">org.eclipse.jface.window.Window.runEventLoop(Window.java:670)</Frame>
          <Frame depth="25">org.eclipse.jface.window.Window.open(Window.java:650)</Frame>
          <Frame depth="26">org.eclipse.ui.internal.OpenPreferencesAction.run(OpenPreferencesAction.java:72)</Frame>
          <Frame depth="27">org.eclipse.jface.action.Action.runWithEvent(Action.java:881)</Frame>
          <Frame depth="28">org.eclipse.jface.action.ActionContributionItem.handleWidgetSelection(ActionContributionItem.java:550)</Frame>
          <Frame depth="29">org.eclipse.jface.action.ActionContributionItem.access$2(ActionContributionItem.java:502)</Frame>
          <Frame depth="30">org.eclipse.jface.action.ActionContributionItem$5.handleEvent(ActionContributionItem.java:435)</Frame>
          <Frame depth="31">org.eclipse.swt.widgets.EventTable.sendEvent(EventTable.java:82)</Frame>
          <Frame depth="32">org.eclipse.swt.widgets.Widget.sendEvent(Widget.java:1195)</Frame>
          <Frame depth="33">org.eclipse.swt.widgets.Widget.sendEvent(Widget.java:1219)</Frame>
          <Frame depth="34">org.eclipse.swt.widgets.Widget.sendEvent(Widget.java:1204)</Frame>
          <Frame depth="35">org.eclipse.swt.widgets.Widget.notifyListeners(Widget.java:1052)</Frame>
          <Frame depth="36">org.eclipse.swt.widgets.Display.runDeferredEvents(Display.java:2327)</Frame>
          <Frame depth="37">org.eclipse.swt.widgets.Display.readAndDispatch(Display.java:2037)</Frame>
          <Frame depth="38">org.eclipse.ui.internal.Workbench.runEventLoop(Workbench.java:1562)</Frame>
          <Frame depth="39">org.eclipse.ui.internal.Workbench.runUI(Workbench.java:1536)</Frame>
          <Frame depth="40">org.eclipse.ui.internal.Workbench.createAndRunWorkbench(Workbench.java:257)</Frame>
          <Frame depth="41">org.eclipse.ui.PlatformUI.createAndRunWorkbench(PlatformUI.java:139)</Frame>
          <Frame depth="42">org.eclipse.ui.internal.ide.IDEApplication.run(IDEApplication.java:90)</Frame>
          <Frame depth="43">org.eclipse.core.internal.runtime.PlatformActivator$1.run(PlatformActivator.java:277)</Frame>
          <Frame depth="44">org.eclipse.core.runtime.adaptor.EclipseStarter.run(EclipseStarter.java:239)</Frame>
          <Frame depth="45">org.eclipse.core.runtime.adaptor.EclipseStarter.run(EclipseStarter.java:117)</Frame>
          <Frame depth="46">sun.reflect.NativeMethodAccessorImpl.invoke0(Native Method)</Frame>
          <Frame depth="47">sun.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:39)</Frame>
          <Frame depth="48">sun.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:25)</Frame>
          <Frame depth="49">java.lang.reflect.Method.invoke(Method.java:324)</Frame>
          <Frame depth="50">org.eclipse.core.launcher.Main.basicRun(Main.java:267)</Frame>
          <Frame depth="51">org.eclipse.core.launcher.Main.run(Main.java:692)</Frame>
          <Frame depth="52">org.eclipse.core.launcher.Main.main(Main.java:676)</Frame>
        </Frames>
      </Stacktrace>
    </Stacktraces>
    <SourceCodeRegions amount="0" />
    <Enumerations amount="0" />
    <bug_status amount="RESOLVED" />
    <resolution amount="DUPLICATE" />
    <WithStack>M8

NPE when trying to edit an new code formatter profile in an old workspace.
Problem does not occur in new workspace.


!ENTRY org.eclipse.ui 4 0 Mar 29, 2004 23:08:49.525
!MESSAGE java.lang.NullPointerException
!STACK 0
java.lang.NullPointerException
	at 
org.eclipse.jdt.internal.ui.preferences.formatter.WhiteSpaceTabPage$JavaElementComponent.innerView
erChanged(WhiteSpaceTabPage.java:336)
	at 
org.eclipse.jdt.internal.ui.preferences.formatter.WhiteSpaceTabPage$JavaElementComponent.refreshSta
te(WhiteSpaceTabPage.java:267)
	at 
org.eclipse.jdt.internal.ui.preferences.formatter.WhiteSpaceTabPage$JavaElementComponent.initialize(
WhiteSpaceTabPage.java:275)
	at 
org.eclipse.jdt.internal.ui.preferences.formatter.WhiteSpaceTabPage$SwitchComponent.initialize(WhiteS
paceTabPage.java:417)
	at 
org.eclipse.jdt.internal.ui.preferences.formatter.WhiteSpaceTabPage.initializePage(WhiteSpaceTabPage.j
ava:457)
	at 
org.eclipse.jdt.internal.ui.preferences.formatter.ModifyDialogTabPage.createContents(ModifyDialogTab
Page.java:573)
	at org.eclipse.jdt.internal.ui.preferences.formatter.ModifyDialog.addTabPage(ModifyDialog.java:
199)
	at 
org.eclipse.jdt.internal.ui.preferences.formatter.ModifyDialog.createDialogArea(ModifyDialog.java:127)
	at org.eclipse.jface.dialogs.Dialog.createContents(Dialog.java:556)
	at org.eclipse.jface.window.Window.create(Window.java:350)
	at org.eclipse.jface.dialogs.Dialog.create(Dialog.java:859)
	at org.eclipse.jdt.internal.ui.dialogs.StatusDialog.create(StatusDialog.java:103)
	at org.eclipse.jdt.internal.ui.preferences.formatter.ModifyDialog.create(ModifyDialog.java:97)
	at org.eclipse.jface.window.Window.open(Window.java:639)
	at 
org.eclipse.jdt.internal.ui.preferences.formatter.CodingStyleConfigurationBlock$ButtonController.modif
yButtonPressed(CodingStyleConfigurationBlock.java:172)
	at 
org.eclipse.jdt.internal.ui.preferences.formatter.CodingStyleConfigurationBlock$ButtonController.widge
tSelected(CodingStyleConfigurationBlock.java:149)
	at org.eclipse.swt.widgets.TypedListener.handleEvent(TypedListener.java:89)
	at org.eclipse.swt.widgets.EventTable.sendEvent(EventTable.java:82)
	at org.eclipse.swt.widgets.Widget.sendEvent(Widget.java:1195)
	at org.eclipse.swt.widgets.Widget.sendEvent(Widget.java:1219)
	at org.eclipse.swt.widgets.Widget.sendEvent(Widget.java:1204)
	at org.eclipse.swt.widgets.Widget.notifyListeners(Widget.java:1052)
	at org.eclipse.swt.widgets.Display.runDeferredEvents(Display.java:2327)
	at org.eclipse.swt.widgets.Display.readAndDispatch(Display.java:2037)
	at org.eclipse.jface.window.Window.runEventLoop(Window.java:670)
	at org.eclipse.jface.window.Window.open(Window.java:650)
	at org.eclipse.ui.internal.OpenPreferencesAction.run(OpenPreferencesAction.java:72)
	at org.eclipse.jface.action.Action.runWithEvent(Action.java:881)
	at 
org.eclipse.jface.action.ActionContributionItem.handleWidgetSelection(ActionContributionItem.java:
550)
	at org.eclipse.jface.action.ActionContributionItem.access$2(ActionContributionItem.java:502)
	at org.eclipse.jface.action.ActionContributionItem$5.handleEvent(ActionContributionItem.java:
435)
	at org.eclipse.swt.widgets.EventTable.sendEvent(EventTable.java:82)
	at org.eclipse.swt.widgets.Widget.sendEvent(Widget.java:1195)
	at org.eclipse.swt.widgets.Widget.sendEvent(Widget.java:1219)
	at org.eclipse.swt.widgets.Widget.sendEvent(Widget.java:1204)
	at org.eclipse.swt.widgets.Widget.notifyListeners(Widget.java:1052)
	at org.eclipse.swt.widgets.Display.runDeferredEvents(Display.java:2327)
	at org.eclipse.swt.widgets.Display.readAndDispatch(Display.java:2037)
	at org.eclipse.ui.internal.Workbench.runEventLoop(Workbench.java:1562)
	at org.eclipse.ui.internal.Workbench.runUI(Workbench.java:1536)
	at org.eclipse.ui.internal.Workbench.createAndRunWorkbench(Workbench.java:257)
	at org.eclipse.ui.PlatformUI.createAndRunWorkbench(PlatformUI.java:139)
	at org.eclipse.ui.internal.ide.IDEApplication.run(IDEApplication.java:90)
	at org.eclipse.core.internal.runtime.PlatformActivator$1.run(PlatformActivator.java:277)
	at org.eclipse.core.runtime.adaptor.EclipseStarter.run(EclipseStarter.java:239)
	at org.eclipse.core.runtime.adaptor.EclipseStarter.run(EclipseStarter.java:117)
	at sun.reflect.NativeMethodAccessorImpl.invoke0(Native Method)
	at sun.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:39)
	at sun.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:25)
	at java.lang.reflect.Method.invoke(Method.java:324)
	at org.eclipse.core.launcher.Main.basicRun(Main.java:267)
	at org.eclipse.core.launcher.Main.run(Main.java:692)
	at org.eclipse.core.launcher.Main.main(Main.java:676)
java.lang.NullPointerException


*** This bug has been marked as a duplicate of 56445 ***</WithStack>
    <WithOutStack>M8

NPE when trying to edit an new code formatter profile in an old workspace.
Problem does not occur in new workspace.


!ENTRY org.eclipse.ui 4 0 Mar 29, 2004 23:08:49.525
!MESSAGE java.lang.NullPointerException
!STACK 0
java.lang.NullPointerException


*** This bug has been marked as a duplicate of 56445 ***</WithOutStack>
  </Bug>
  <Bug>
    <BugId amount="56653" />
    <CreationDate amount="2004-03-29 16:46:00 -0500" />
    <DupId amount="" />
    <classification amount="Tools" />
    <Product amount="CDT" />
    <component amount="cdt-core" />
    <Version amount="2.0" />
    <rep_platform amount="PC" />
    <op_sys amount="Windows 2000" />
    <priority amount="P3" />
    <bug_severity amount="enhancement" />
    <Summery>[Refactoring] Difficult to rename methods that are in files included within a class</Summery>
    <Patches amount="0" />
    <Stacktraces amount="0" />
    <SourceCodeRegions amount="2">
      <source_code type="class">
        <location start="27" end="121" />
        <code>class TestInclude{
public:
	TestInclude();
	~TestInclude();
	#include "TestIncludeMethods.h"
}</code>
      </source_code>
      <source_code type="functioncall">
        <location start="207" end="235" />
        <code>Confusion1* moreConfusion();</code>
      </source_code>
    </SourceCodeRegions>
    <Enumerations amount="2">
      <Enumeration lines="2">
        <Lines>
          <Line>a) from a reference to 'moreConfusion' in some source file.</Line>
          <Line>b) from the header file</Line>
        </Lines>
      </Enumeration>
      <Enumeration lines="4">
        <Lines>
          <Line>1) Header is included from only one scope.</Line>
          <Line>2) Header is included from multiple different scopes (global/namespace/class).</Line>
          <Line>In this case a correct rename must take care of 'moreConfusion' within the</Line>
          <Line>different scopes simultaneously.</Line>
        </Lines>
      </Enumeration>
    </Enumerations>
    <bug_status amount="NEW" />
    <resolution amount="" />
    <WithStack>I have:
class Confusion1;

class TestInclude{
public:
	TestInclude();
	~TestInclude();
	#include "TestIncludeMethods.h"
};

TestIncludeMethods.h is:
#ifndef TestIncludeMethods_H
#define TestIncludeMethods_H
Confusion1* moreConfusion();

#endif // I1_H

I also have a cpp file with TestInclude::moreConfusion defined

If I rename moreConfusion, it renames it as if it were a global and not the 
function impl within class TestInclude.  I imagine calls to it are also not 
renamed.

I don't see how you can know what to rename though because it implies you know 
how the file was used which is not possible from just the CElement.  

I imagine a similar problem if someone does:
namespace n {
#include "MyClass.h"
};

renaming MyClass is not going to catch everything.

I don't think that this would be a common use case though...
I don't think this could be done in the 2.0 time frame. 
Setting Target to future.
Let's split this up in three scenarios:
1) Header is included from only one scope.
2) Header is included from multiple different scopes (global/namespace/class). 
In this case a correct rename must take care of 'moreConfusion' within the 
different scopes simultaneously. 

Additionally there are two ways of invoking the refactoring:
a) from a reference to 'moreConfusion' in some source file.
b) from the header file

Here is how it works at the moment:
===================================
The case (1a) is handled correctly.
In case (2a) the refactoring may or may not suggest to rename the declaration
in the header file. This depends on the order the files get analyzed. 
The cases (1b) and (2b) are treated as if you'd be renaming a global 
function, as after all the occurrences are identified as methods, no
code changes are performed. In case (2b) if the header is included on global
scope, occurrences are found and this then works like case (2a).

Here is what can be done with reasonable effort:
================================================
In case (1b) and (2b) we can produce an error message that explains the 
situation. The refactoring still cannot be done.

In case (2a) we could procuce an error message. If we want to do this,
we have to give up on the optimization, that headers are analyzed only once
even if included from different source files. The refactoring itself still
cannot be done. 


back to the pool.
Future means you commit to fix it in the Future. Inboxes can't make committments. Moving to '--'.</WithStack>
    <WithOutStack>I have:
class Confusion1;

class TestInclude{
public:
	TestInclude();
	~TestInclude();
	#include "TestIncludeMethods.h"
};

TestIncludeMethods.h is:
#ifndef TestIncludeMethods_H
#define TestIncludeMethods_H
Confusion1* moreConfusion();

#endif // I1_H

I also have a cpp file with TestInclude::moreConfusion defined

If I rename moreConfusion, it renames it as if it were a global and not the 
function impl within class TestInclude.  I imagine calls to it are also not 
renamed.

I don't see how you can know what to rename though because it implies you know 
how the file was used which is not possible from just the CElement.  

I imagine a similar problem if someone does:
namespace n {
#include "MyClass.h"
};

renaming MyClass is not going to catch everything.

I don't think that this would be a common use case though...
I don't think this could be done in the 2.0 time frame. 
Setting Target to future.
Let's split this up in three scenarios:
1) Header is included from only one scope.
2) Header is included from multiple different scopes (global/namespace/class). 
In this case a correct rename must take care of 'moreConfusion' within the 
different scopes simultaneously. 

Additionally there are two ways of invoking the refactoring:
a) from a reference to 'moreConfusion' in some source file.
b) from the header file

Here is how it works at the moment:
===================================
The case (1a) is handled correctly.
In case (2a) the refactoring may or may not suggest to rename the declaration
in the header file. This depends on the order the files get analyzed. 
The cases (1b) and (2b) are treated as if you'd be renaming a global 
function, as after all the occurrences are identified as methods, no
code changes are performed. In case (2b) if the header is included on global
scope, occurrences are found and this then works like case (2a).

Here is what can be done with reasonable effort:
================================================
In case (1b) and (2b) we can produce an error message that explains the 
situation. The refactoring still cannot be done.

In case (2a) we could procuce an error message. If we want to do this,
we have to give up on the optimization, that headers are analyzed only once
even if included from different source files. The refactoring itself still
cannot be done. 


back to the pool.
Future means you commit to fix it in the Future. Inboxes can't make committments. Moving to '--'.</WithOutStack>
  </Bug>
  <Bug>
    <BugId amount="56654" />
    <CreationDate amount="2004-03-29 16:47:00 -0500" />
    <DupId amount="56467" />
    <classification amount="Eclipse" />
    <Product amount="Platform" />
    <component amount="UI" />
    <Version amount="3.0" />
    <rep_platform amount="PC" />
    <op_sys amount="Windows XP" />
    <priority amount="P3" />
    <bug_severity amount="normal" />
    <Summery>[Workbench] SWTException: PresentationUtil.handleMouseMove</Summery>
    <Patches amount="0" />
    <Stacktraces amount="1">
      <Stacktrace timestamp="1437341104125">
        <Exception>org.eclipse.swt.SWTException</Exception>
        <Reason>Widget is disposed</Reason>
        <Frames>
          <Frame depth="0">org.eclipse.swt.SWT.error(SWT.java:2625)</Frame>
          <Frame depth="1">org.eclipse.swt.SWT.error(SWT.java:2555)</Frame>
          <Frame depth="2">org.eclipse.swt.widgets.Widget.error(Widget.java:354)</Frame>
          <Frame depth="3">org.eclipse.swt.widgets.Widget.checkWidget(Widget.java:283)</Frame>
          <Frame depth="4">org.eclipse.swt.widgets.Widget.getData(Widget.java:413)</Frame>
          <Frame depth="5">org.eclipse.ui.presentations.PresentationUtil.handleMouseMove(PresentationUtil.java:82)</Frame>
          <Frame depth="6">org.eclipse.ui.presentations.PresentationUtil.access$1(PresentationUtil.java:79)</Frame>
          <Frame depth="7">org.eclipse.ui.presentations.PresentationUtil$2.handleEvent(PresentationUtil.java:58)</Frame>
          <Frame depth="8">org.eclipse.swt.widgets.EventTable.sendEvent(EventTable.java:82)</Frame>
          <Frame depth="9">org.eclipse.swt.widgets.Widget.sendEvent(Widget.java:769)</Frame>
          <Frame depth="10">org.eclipse.swt.widgets.Display.runDeferredEvents(Display.java:2578)</Frame>
          <Frame depth="11">org.eclipse.swt.widgets.Display.readAndDispatch(Display.java:2256)</Frame>
          <Frame depth="12">org.eclipse.ui.internal.Workbench.runEventLoop(Workbench.java:1562)</Frame>
          <Frame depth="13">org.eclipse.ui.internal.Workbench.runUI(Workbench.java:1536)</Frame>
          <Frame depth="14">org.eclipse.ui.internal.Workbench.createAndRunWorkbench(Workbench.java:257)</Frame>
          <Frame depth="15">org.eclipse.ui.PlatformUI.createAndRunWorkbench(PlatformUI.java:139)</Frame>
          <Frame depth="16">org.eclipse.ui.internal.ide.IDEApplication.run(IDEApplication.java:90)</Frame>
          <Frame depth="17">org.eclipse.core.internal.runtime.PlatformActivator$1.run(PlatformActivator.java:277)</Frame>
          <Frame depth="18">org.eclipse.core.runtime.adaptor.EclipseStarter.run(EclipseStarter.java:239)</Frame>
          <Frame depth="19">org.eclipse.core.runtime.adaptor.EclipseStarter.run(EclipseStarter.java:117)</Frame>
          <Frame depth="20">sun.reflect.NativeMethodAccessorImpl.invoke0(Native Method)</Frame>
          <Frame depth="21">sun.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:39)</Frame>
          <Frame depth="22">sun.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:25)</Frame>
          <Frame depth="23">java.lang.reflect.Method.invoke(Method.java:324)</Frame>
          <Frame depth="24">org.eclipse.core.launcher.Main.basicRun(Main.java:267)</Frame>
          <Frame depth="25">org.eclipse.core.launcher.Main.run(Main.java:692)</Frame>
          <Frame depth="26">org.eclipse.core.launcher.Main.main(Main.java:676)</Frame>
        </Frames>
      </Stacktrace>
    </Stacktraces>
    <SourceCodeRegions amount="0" />
    <Enumerations amount="0" />
    <bug_status amount="RESOLVED" />
    <resolution amount="DUPLICATE" />
    <WithStack>Using Eclipse 3.0, M8.

!ENTRY org.eclipse.ui 4 0 Mar 29, 2004 12:31:08.405
!MESSAGE Widget is disposed
!STACK 0
org.eclipse.swt.SWTException: Widget is disposed
  at org.eclipse.swt.SWT.error(SWT.java:2625)
  at org.eclipse.swt.SWT.error(SWT.java:2555)
  at org.eclipse.swt.widgets.Widget.error(Widget.java:354)
  at org.eclipse.swt.widgets.Widget.checkWidget(Widget.java:283)
  at org.eclipse.swt.widgets.Widget.getData(Widget.java:413)
  at org.eclipse.ui.presentations.PresentationUtil.handleMouseMove
(PresentationUtil.java:82)
  at org.eclipse.ui.presentations.PresentationUtil.access$1
(PresentationUtil.java:79)
  at org.eclipse.ui.presentations.PresentationUtil$2.handleEvent
(PresentationUtil.java:58)
  at org.eclipse.swt.widgets.EventTable.sendEvent(EventTable.java:82)
  at org.eclipse.swt.widgets.Widget.sendEvent(Widget.java:769)
  at org.eclipse.swt.widgets.Display.runDeferredEvents(Display.java:2578)
  at org.eclipse.swt.widgets.Display.readAndDispatch(Display.java:2256)
  at org.eclipse.ui.internal.Workbench.runEventLoop(Workbench.java:1562)
  at org.eclipse.ui.internal.Workbench.runUI(Workbench.java:1536)
  at org.eclipse.ui.internal.Workbench.createAndRunWorkbench(Workbench.java:257)
  at org.eclipse.ui.PlatformUI.createAndRunWorkbench(PlatformUI.java:139)
  at org.eclipse.ui.internal.ide.IDEApplication.run(IDEApplication.java:90)
  at org.eclipse.core.internal.runtime.PlatformActivator$1.run
(PlatformActivator.java:277)
  at org.eclipse.core.runtime.adaptor.EclipseStarter.run
(EclipseStarter.java:239)
  at org.eclipse.core.runtime.adaptor.EclipseStarter.run
(EclipseStarter.java:117)
  at sun.reflect.NativeMethodAccessorImpl.invoke0(Native Method)
  at sun.reflect.NativeMethodAccessorImpl.invoke
(NativeMethodAccessorImpl.java:39)
  at sun.reflect.DelegatingMethodAccessorImpl.invoke
(DelegatingMethodAccessorImpl.java:25)
  at java.lang.reflect.Method.invoke(Method.java:324)
  at org.eclipse.core.launcher.Main.basicRun(Main.java:267)
  at org.eclipse.core.launcher.Main.run(Main.java:692)
  at org.eclipse.core.launcher.Main.main(Main.java:676)
Simon, I'm having a lot of trouble reproducing this one. Do you have any idea
what you were doing when this exception was thrown?

*** This bug has been marked as a duplicate of 56467 ***
I think I was launching a Runtime Workbench. Sorry about the lack of info on 
this one.</WithStack>
    <WithOutStack>Using Eclipse 3.0, M8.

!ENTRY org.eclipse.ui 4 0 Mar 29, 2004 12:31:08.405
!MESSAGE Widget is disposed
!STACK 0

Simon, I'm having a lot of trouble reproducing this one. Do you have any idea
what you were doing when this exception was thrown?

*** This bug has been marked as a duplicate of 56467 ***
I think I was launching a Runtime Workbench. Sorry about the lack of info on 
this one.</WithOutStack>
  </Bug>
  <Bug>
    <BugId amount="56655" />
    <CreationDate amount="2004-03-29 16:52:00 -0500" />
    <DupId amount="" />
    <classification amount="Eclipse" />
    <Product amount="Platform" />
    <component amount="Update  (deprecated - use RT&gt;Equinox&gt;p2)" />
    <Version amount="3.0" />
    <rep_platform amount="PC" />
    <op_sys amount="Windows 2000" />
    <priority amount="P2" />
    <bug_severity amount="critical" />
    <Summery>Linking extension locations does not work</Summery>
    <Patches amount="0" />
    <Stacktraces amount="0" />
    <SourceCodeRegions amount="0" />
    <Enumerations amount="2">
      <Enumeration lines="3">
        <Lines>
          <Line>1) Create a new workspace using 3.0 M8</Line>
          <Line>2) Under Help &gt; Software Updates &gt; Manage Configuration, select "Link an</Line>
          <Line>Extension Location".</Line>
        </Lines>
      </Enumeration>
      <Enumeration lines="4">
        <Lines>
          <Line>1) Download eclipse</Line>
          <Line>2) Start a new workspace</Line>
          <Line>3) Under Help &gt; Software Updates &gt; Manage Configuration, select "Link an</Line>
          <Line>Extension Location"</Line>
        </Lines>
      </Enumeration>
    </Enumerations>
    <bug_status amount="RESOLVED" />
    <resolution amount="FIXED" />
    <WithStack>Build: 3.0 M8

1) Create a new workspace using 3.0 M8
2) Under Help &gt; Software Updates &gt; Manage Configuration, select "Link an
Extension Location".

Error: "Requested operation cannot be performed because it would invalidate the
current configuration. See details for more information."

Details says: "Platform configuration has been modified outside this program. A
restart is recommended".

Not true! I just started a new workspace.  Shutdown and restart, or blowing away
configuration directory, does not fix the problem.
John, was there other eclipse instance running on a different workspace?
The first time I tried it, yes.  But then I shut down everything, deleted my
configuration, and tried again with a single instance and got the same result.
The error message should only appear when attempting to modify the 
configuration (in  your case by adding a link), and the configuration 
timestamp is different than what is believed to be. In particular, this 
happens when platform.xml is manually modified, deleted, or saved from another 
eclipse instance.
Can you consistently reproduce this? Is it only happening in self hosting or 
it happens with the hosting eclipse as well?

Sorry, I missed your question.  It consistently happens every time in my
development workspace (not in a runtime workbench). Still happens in I20040407
OK, I was able to consistently reproduce this on regular self-hosting. I've 
been running with feature based self hosting setup, where things work ok.

PDE is generating a new platform.xml in the configuration area on each 
restart, so any update/install changes (persisted in platform.xml) will not be 
visible upon restart.

PDE will always generate a new platform.xml, so if you want to perform any 
update operations, you will have to setup self hosting in feature based mode 
(or bug Wassim about fixing it in PDE :-)
To be able to observe feature lifecycles and all Update Manager operations, 
you have to be in feature-based self-hosting mode.  This is where we let 
Update do its thing. 

In regular self-hosting, PDE feeds Update a hand-crafted platform.xml, 
containing all the info it needs to find plug-ins etc.  We need to generate it 
on the fly with every launch as it becomes stale very quickly.  List of plug-
ins to run changes often.  Plug-ins are imported/deleted/modified in the 
workspace.  Plug-ins are selected/deselected on the target platform page.
I don't understand what this has to do with self-hosting (or PDE for that matter).

1) Download eclipse
2) Start a new workspace
3) Under Help &gt; Software Updates &gt; Manage Configuration, select "Link an
Extension Location"

-&gt; It does not work. I am not self-hosting at this point. I have no plug-in
projects in my workspace.  I am not a plugin developer. I have never launched a
runtime workbench. I am just a naive Eclipse user who wants to install a cool
new plugin/feature/whatever that I found on the web.

Furthermore, the error message is still incorrect.  It tells me that restarting
will fix the problem, but it does not.
Now that I actually read John's bug report, this scenario certainly has 
absolutely nothing to do with self-hosting.

I added comment #8 based on a question Dorian asked me in an email regarding 
this bug saying that users are unhappy with the fact that PDE overwrites the 
platform.xml that it generates in PDE's own private metadata area upon 
launching, which is clearly not the case here.
re-opening, I misread comment #4...

John, is this happening with latest nightly build?
If yes, could you please attach the .log file and the 
configuration/org.eclipse.update folder (zipped) ?
Thanks!
We need to try  on  Windows 2000, 2.8 Ghz PIII, Sun VM 1.4.1 (John's setup)
It looks like this is happening on FAT file systems where the timestamp on 
files is rounded to the closest second. As such, some timestamp comparsion 
fails and the platform configuration is believed to be modified outside the 
current eclipse instance.
One possible fix is to relax the comparison to allow for 2 second delay (hey, 
even Don Cherry gets a 2 secodn delay:), but I'll have to see what side 
effects this has.

Note that in 0505 build, there was a regression in the jface ErrorDialog when 
multi status messages were not correctly displayed,so you could not see the 
same old message (config modified outside this program).
If you are changing the timestamp on files, you must then read back the new
value to see if it is the same. The Java spec reserves the right to round off
all times to the nearest second (presumably to support file systems like FAT).
java.io.File.setLastModified says:

     * &lt;p&gt; All platforms support file-modification times to the nearest second,
     * but some provide more precision.  The argument will be truncated to fit
     * the supported precision.  If the operation succeeds and no intervening
     * operations on the file take place, then the next invocation of the
     * &lt;code&gt;{@link #lastModified}&lt;/code&gt; method will return the (possibly
     * truncated) &lt;code&gt;time&lt;/code&gt; argument that was passed to this method.
Yes, I was aware of that. I was comparing timestamp/1000 to stay within a 
second, but that was not enough, I actually need a bit more.
You are comparing the timestamp of a file on disk to a timestamp that has been
recorded earlier and saved somewhere, correct?  My point is that instead of
trying to fix it when you compare, it should be corrected at the time the old
timestamp was cached. I.e., at the time you cache the timestamp, make sure it is
exactly the same as the timestamp returned by File.getLastModifiedTime. This is
what CVS does when recording timestamps, so it never has to do a "fuzzy"
comparison of times. Am I making any sense?
Thanks John.
What's happening is that I save the timestamp in the very file that I care 
about.
Basically, I save an xml file (platform.xml) that has
&lt;config date="some_time_stamp"&gt;

and then, after the file is saved, I change the timestamp on the file to match 
the one it's in the "date" attribute. When I compare timestamps that involve 
file timestamps, I only look at the seconds (I first divide the timestamp by 
1000).

Perhaps I can first try to set the timestamp on some dummy file, get it back, 
and use that timestamp to save it in the date attribute in xml. When setting 
the timestamp now, upon save, the timestamp should not be modified by the OS, 
because it was obtained from the OS before, so it should be a valid value.

Does this make sense? Is it too hacky?
&lt;g&gt; I see the dillemma! It sounds like trying to record the length of a file
inside the file, which then changes the length of the file...

It would make more sense to store the timestamp of platform.xml in some other file.

Or, store a hash of the interesting data rather than the timestamp.

Failing that, the two second fuzz factor sounds more appealing than your other
suggestion. That would work as long as you don't think it is possible for the
configuration to change twice within two seconds. I guess this would fail anyway
on FAT32.
Another solution is to store in memory the file time stamp used when 
platform.xml was read in and use it for comparison (as opposed to using the 
timestamp from the &lt;config&gt; element)
I released some code based on comment #19 that should fix the problem.
I can only test it on win2k on Monday.
Code is in update.config and update.core in HEAD.
*** Bug 54302 has been marked as a duplicate of this bug. ***
Fixed in 0511 integration build.</WithStack>
    <WithOutStack>Build: 3.0 M8

1) Create a new workspace using 3.0 M8
2) Under Help &gt; Software Updates &gt; Manage Configuration, select "Link an
Extension Location".

Error: "Requested operation cannot be performed because it would invalidate the
current configuration. See details for more information."

Details says: "Platform configuration has been modified outside this program. A
restart is recommended".

Not true! I just started a new workspace.  Shutdown and restart, or blowing away
configuration directory, does not fix the problem.
John, was there other eclipse instance running on a different workspace?
The first time I tried it, yes.  But then I shut down everything, deleted my
configuration, and tried again with a single instance and got the same result.
The error message should only appear when attempting to modify the 
configuration (in  your case by adding a link), and the configuration 
timestamp is different than what is believed to be. In particular, this 
happens when platform.xml is manually modified, deleted, or saved from another 
eclipse instance.
Can you consistently reproduce this? Is it only happening in self hosting or 
it happens with the hosting eclipse as well?

Sorry, I missed your question.  It consistently happens every time in my
development workspace (not in a runtime workbench). Still happens in I20040407
OK, I was able to consistently reproduce this on regular self-hosting. I've 
been running with feature based self hosting setup, where things work ok.

PDE is generating a new platform.xml in the configuration area on each 
restart, so any update/install changes (persisted in platform.xml) will not be 
visible upon restart.

PDE will always generate a new platform.xml, so if you want to perform any 
update operations, you will have to setup self hosting in feature based mode 
(or bug Wassim about fixing it in PDE :-)
To be able to observe feature lifecycles and all Update Manager operations, 
you have to be in feature-based self-hosting mode.  This is where we let 
Update do its thing. 

In regular self-hosting, PDE feeds Update a hand-crafted platform.xml, 
containing all the info it needs to find plug-ins etc.  We need to generate it 
on the fly with every launch as it becomes stale very quickly.  List of plug-
ins to run changes often.  Plug-ins are imported/deleted/modified in the 
workspace.  Plug-ins are selected/deselected on the target platform page.
I don't understand what this has to do with self-hosting (or PDE for that matter).

1) Download eclipse
2) Start a new workspace
3) Under Help &gt; Software Updates &gt; Manage Configuration, select "Link an
Extension Location"

-&gt; It does not work. I am not self-hosting at this point. I have no plug-in
projects in my workspace.  I am not a plugin developer. I have never launched a
runtime workbench. I am just a naive Eclipse user who wants to install a cool
new plugin/feature/whatever that I found on the web.

Furthermore, the error message is still incorrect.  It tells me that restarting
will fix the problem, but it does not.
Now that I actually read John's bug report, this scenario certainly has 
absolutely nothing to do with self-hosting.

I added comment #8 based on a question Dorian asked me in an email regarding 
this bug saying that users are unhappy with the fact that PDE overwrites the 
platform.xml that it generates in PDE's own private metadata area upon 
launching, which is clearly not the case here.
re-opening, I misread comment #4...

John, is this happening with latest nightly build?
If yes, could you please attach the .log file and the 
configuration/org.eclipse.update folder (zipped) ?
Thanks!
We need to try  on  Windows 2000, 2.8 Ghz PIII, Sun VM 1.4.1 (John's setup)
It looks like this is happening on FAT file systems where the timestamp on 
files is rounded to the closest second. As such, some timestamp comparsion 
fails and the platform configuration is believed to be modified outside the 
current eclipse instance.
One possible fix is to relax the comparison to allow for 2 second delay (hey, 
even Don Cherry gets a 2 secodn delay:), but I'll have to see what side 
effects this has.

Note that in 0505 build, there was a regression in the jface ErrorDialog when 
multi status messages were not correctly displayed,so you could not see the 
same old message (config modified outside this program).
If you are changing the timestamp on files, you must then read back the new
value to see if it is the same. The Java spec reserves the right to round off
all times to the nearest second (presumably to support file systems like FAT).
java.io.File.setLastModified says:

     * &lt;p&gt; All platforms support file-modification times to the nearest second,
     * but some provide more precision.  The argument will be truncated to fit
     * the supported precision.  If the operation succeeds and no intervening
     * operations on the file take place, then the next invocation of the
     * &lt;code&gt;{@link #lastModified}&lt;/code&gt; method will return the (possibly
     * truncated) &lt;code&gt;time&lt;/code&gt; argument that was passed to this method.
Yes, I was aware of that. I was comparing timestamp/1000 to stay within a 
second, but that was not enough, I actually need a bit more.
You are comparing the timestamp of a file on disk to a timestamp that has been
recorded earlier and saved somewhere, correct?  My point is that instead of
trying to fix it when you compare, it should be corrected at the time the old
timestamp was cached. I.e., at the time you cache the timestamp, make sure it is
exactly the same as the timestamp returned by File.getLastModifiedTime. This is
what CVS does when recording timestamps, so it never has to do a "fuzzy"
comparison of times. Am I making any sense?
Thanks John.
What's happening is that I save the timestamp in the very file that I care 
about.
Basically, I save an xml file (platform.xml) that has
&lt;config date="some_time_stamp"&gt;

and then, after the file is saved, I change the timestamp on the file to match 
the one it's in the "date" attribute. When I compare timestamps that involve 
file timestamps, I only look at the seconds (I first divide the timestamp by 
1000).

Perhaps I can first try to set the timestamp on some dummy file, get it back, 
and use that timestamp to save it in the date attribute in xml. When setting 
the timestamp now, upon save, the timestamp should not be modified by the OS, 
because it was obtained from the OS before, so it should be a valid value.

Does this make sense? Is it too hacky?
&lt;g&gt; I see the dillemma! It sounds like trying to record the length of a file
inside the file, which then changes the length of the file...

It would make more sense to store the timestamp of platform.xml in some other file.

Or, store a hash of the interesting data rather than the timestamp.

Failing that, the two second fuzz factor sounds more appealing than your other
suggestion. That would work as long as you don't think it is possible for the
configuration to change twice within two seconds. I guess this would fail anyway
on FAT32.
Another solution is to store in memory the file time stamp used when 
platform.xml was read in and use it for comparison (as opposed to using the 
timestamp from the &lt;config&gt; element)
I released some code based on comment #19 that should fix the problem.
I can only test it on win2k on Monday.
Code is in update.config and update.core in HEAD.
*** Bug 54302 has been marked as a duplicate of this bug. ***
Fixed in 0511 integration build.</WithOutStack>
  </Bug>
  <Bug>
    <BugId amount="56656" />
    <CreationDate amount="2004-03-29 17:05:00 -0500" />
    <DupId amount="" />
    <classification amount="Tools" />
    <Product amount="CDT" />
    <component amount="cdt-core" />
    <Version amount="2.0" />
    <rep_platform amount="PC" />
    <op_sys amount="Windows XP" />
    <priority amount="P3" />
    <bug_severity amount="normal" />
    <Summery>Make Targets view does not respect the "Save all modified resources..." setting</Summery>
    <Patches amount="0" />
    <Stacktraces amount="0" />
    <SourceCodeRegions amount="0" />
    <Enumerations amount="1">
      <Enumeration lines="9">
        <Lines>
          <Line>1. Open Window-&gt;Preferences</Line>
          <Line>2. From the tree control on the left, select the Workbench node.</Line>
          <Line>3. Check the "Save all modified resources automatically prior to manual build"</Line>
          <Line>checkbox.</Line>
          <Line>4. Create a standard make project that will compile (a simple HelloWorld will</Line>
          <Line>suffice)</Line>
          <Line>5. Create a make target to build your project.</Line>
          <Line>6. Make a change to a code file of that project but do not save.</Line>
          <Line>7. Build the target you created in step 5.</Line>
        </Lines>
      </Enumeration>
    </Enumerations>
    <bug_status amount="VERIFIED" />
    <resolution amount="WORKSFORME" />
    <WithStack>CDT 2.0.0.200403291152
Eclipse M8

1. Open Window-&gt;Preferences
2. From the tree control on the left, select the Workbench node.
3. Check the "Save all modified resources automatically prior to manual build"
checkbox.
4. Create a standard make project that will compile (a simple HelloWorld will
suffice)
5. Create a make target to build your project.
6. Make a change to a code file of that project but do not save.
7. Build the target you created in step 5.

Result: The project builds, but does not save the changed resource as expected.
Hmm, problem went away after I restarted Eclipse.

I will keep an eye on it...
*** Bug 60274 has been marked as a duplicate of this bug. ***
This bug has been verified on Eclipse build 20040603 and CDT build 
200406030301, and it passes.

Pixy.


marking as verified</WithStack>
    <WithOutStack>CDT 2.0.0.200403291152
Eclipse M8

1. Open Window-&gt;Preferences
2. From the tree control on the left, select the Workbench node.
3. Check the "Save all modified resources automatically prior to manual build"
checkbox.
4. Create a standard make project that will compile (a simple HelloWorld will
suffice)
5. Create a make target to build your project.
6. Make a change to a code file of that project but do not save.
7. Build the target you created in step 5.

Result: The project builds, but does not save the changed resource as expected.
Hmm, problem went away after I restarted Eclipse.

I will keep an eye on it...
*** Bug 60274 has been marked as a duplicate of this bug. ***
This bug has been verified on Eclipse build 20040603 and CDT build 
200406030301, and it passes.

Pixy.


marking as verified</WithOutStack>
  </Bug>
  <Bug>
    <BugId amount="56657" />
    <CreationDate amount="2004-03-29 17:09:00 -0500" />
    <DupId amount="" />
    <classification amount="Eclipse" />
    <Product amount="Platform" />
    <component amount="Ant" />
    <Version amount="3.0" />
    <rep_platform amount="PC" />
    <op_sys amount="Windows NT" />
    <priority amount="P2" />
    <bug_severity amount="major" />
    <Summery>External tool builders need to adapt to new build story</Summery>
    <Patches amount="0" />
    <Stacktraces amount="0" />
    <SourceCodeRegions amount="0" />
    <Enumerations amount="0" />
    <bug_status amount="VERIFIED" />
    <resolution amount="FIXED" />
    <WithStack>The external tool builders did not adapt to the changes in the build story that 
occurred for M8.
We need to adapt the triggering of external tool builders to make up for 
the "loss" of full builds.
I will change platform core to invoke a FULL_BUILD on the first build after a
clean. I will also add a "Start a build immediately" check box to the clean
dialog. The only change that would then be needed in Ant is to change the
terminology on the builder configuration page (which wasn't consistent with the
UI terminology to begin with). We'll see how that goes.
That would be great John. Thanks. Is that for tomorrow's build?
Thinking on this more with John W...doesn't this potentially cause problems for 
the user who does a Clean and only has auto-build or incremental triggered 
builders? 
Should they expect their builders to be triggered in this case as well to be 
consistent with the "new" story?
I was thinking the three preferences in the Build Options page would become:

"After a Clean"
"During manual builds"
"During Auto-builds"

That is consistent with the options presented to the end user in the Project menu.
And, I don't plan on making any changes for tomorrow's build.
So for M8 and the first integration build thereafter, users should use the 
Window&gt;Preferences&gt;Workbench&gt;Work in Progress&gt;"Temporarily restore 2.1 rebuild 
actions" to workaround this problem.
*** Bug 56725 has been marked as a duplicate of this bug. ***
Darin, I have released the core change to force the build trigger to FULL_BUILD
on the first build (of any kind) after a clean.  With the current UI, you will
only get FULL_BUILD after a clean, since there is no other way to trigger one. I
will likely not get around to any UI changes before the next build.  I have a
number of incremental UI improvements piled up that I would like to submit
patches for all at once. Again, from the Ant UI point of view, I think you only
need to rename the Ant script trigger names on the preference page to match the
vocabulary of the build commands in the project menu.
Updated the external tools ui strings to match the new build story.
Changes to ExternalToolsBuilderTab and ExternalToolsLaunchConfigurationMessages
Please verify Kevin.
verified. Darins please update build notes.
Thanks. Build notes updated.
*** Bug 58170 has been marked as a duplicate of this bug. ***
I'm not sure why Bug 58170 is a duplicate of this.  The option of "rebuild" or
"rebuild all" should still be present even if the clean option is there, I don't
want to have to go through 3 clicks to rebuild everything.  

comment 14 is right.
will there be no 'rebuild all' or 'rebuild project'? that sounds too clearly
wrong to be true.

could you clarify?

i'm not moving past M7 is if there's no 'rebuild project'. (stuck now because of
bug 58170). and that would be rather suboptimal.
Adam, "rebuild" has been replaced by "clean." They are functionally equivalent.
Please describe why this does not meet your needs.
no, i'm fine with 'rebuild' being called 'clean' now.

i'd be unhappy if after 'clean' i had to 'build' (thus having to click twice to
achieve the 'rebuild' result)
*** Bug 60803 has been marked as a duplicate of this bug. ***
Since my bug was marked duplicate of this one, I'll reopen it, I guess...

My question is how to I invoke an external tool builder (ant in my case) that 
is not marked to run on auto build (i.e. the default setting), when I have 
build automatically enabled. There doesn't seem to be a way to invoke these 
builders since build project menu item is disabled.
Would be better to ask the question in the newsgroup....but this has been a 
bit of a mess.

To invoke the build, Use "Clean" and select the project you wish to clean. The 
build will be invoked on the build started from the clean. This works on fine 
on I200404281424.

Back to verified.
O.K., it was a retorical question...

With the CDT, build automatically is usually turned off since you generally 
don't want to wait for a compile/link on every save. At the same time, build 
automatically works great for Java projects. When you try to mix the two 
worlds, as we are trying to do to support using the CDT to build native 
libraries for Java projects, the current Eclipse builder workflows break down.

I'd like to have this addressed, thus the bug report :). You can leave at a 
lower priority for 3.0, but by next release, we'd like to have mixed CDT/JDT 
projects with a smooth builder workflow in place.
Doug, your original bug looked like a duplicate of this one, but you are now
talking about something different.  Please enter a new bug report, or reopen
your original with a better description of the issue.

Sorry for the churn, Darin.
seems not fixed in m9 - the rebuild project/rebuild all' functionality from m7 
is still missing. opened bug 63680 for it.
My personal project setup with some Ant scripts attached build fine.
The "build tab" of the Ant builder has a tick at "After a "clean"".

The only remaining problem is that all console output from the different
scripts delete the output from the former scripts.
With M7 I end with 6 console outputs selectable in the console view.
Now I get only 1 console output of the last ant script that runs. The other
scripts are only temporaly readable during build. 
&gt;My personal project setup with some Ant scripts attached build fine.
&gt;The "build tab" of the Ant builder has a tick at "After a "clean""

not working for me - i have that checked and nothing happens after 'build' - no
targets are run
For Comment #25, Robert change the debug preference to remove terminated 
launches when a new launch is created (on the launching preference page).

I do not know why Adam is special :-)
Can you attach a sample project with buildfile that fails to be invoked 
correctly on a clean or create a new bug report for the problem? Thanks.
Created attachment 11024
the project

this is the sample project
(you will need to fix the working dir in the ant build config)

now try, project &gt; clean ... &gt; clean all projects 
(btw, that's adding a mouse click to what we had in M7 thus making is worse)

anyway, nothing happens on 'clean'!
I agree that there is something wrong here....investigating.
Opened a new bug against platform-ant: see 
Adam your workaround is to move your builder before the disabled Java builder.
New bug 63760
thanks, it worked.
i don't understand why bug 63680 got closed as dup of this. 
(adding my comment here because John is not on CC of the other bug)
bug 63680 talks about a UI usability problem (something that took 1 click before
now opens a dialog thus being disruptive and slower.) 
Actually, the key binding for 'rebuild all' is now simply ignored: bug 64210</WithStack>
    <WithOutStack>The external tool builders did not adapt to the changes in the build story that 
occurred for M8.
We need to adapt the triggering of external tool builders to make up for 
the "loss" of full builds.
I will change platform core to invoke a FULL_BUILD on the first build after a
clean. I will also add a "Start a build immediately" check box to the clean
dialog. The only change that would then be needed in Ant is to change the
terminology on the builder configuration page (which wasn't consistent with the
UI terminology to begin with). We'll see how that goes.
That would be great John. Thanks. Is that for tomorrow's build?
Thinking on this more with John W...doesn't this potentially cause problems for 
the user who does a Clean and only has auto-build or incremental triggered 
builders? 
Should they expect their builders to be triggered in this case as well to be 
consistent with the "new" story?
I was thinking the three preferences in the Build Options page would become:

"After a Clean"
"During manual builds"
"During Auto-builds"

That is consistent with the options presented to the end user in the Project menu.
And, I don't plan on making any changes for tomorrow's build.
So for M8 and the first integration build thereafter, users should use the 
Window&gt;Preferences&gt;Workbench&gt;Work in Progress&gt;"Temporarily restore 2.1 rebuild 
actions" to workaround this problem.
*** Bug 56725 has been marked as a duplicate of this bug. ***
Darin, I have released the core change to force the build trigger to FULL_BUILD
on the first build (of any kind) after a clean.  With the current UI, you will
only get FULL_BUILD after a clean, since there is no other way to trigger one. I
will likely not get around to any UI changes before the next build.  I have a
number of incremental UI improvements piled up that I would like to submit
patches for all at once. Again, from the Ant UI point of view, I think you only
need to rename the Ant script trigger names on the preference page to match the
vocabulary of the build commands in the project menu.
Updated the external tools ui strings to match the new build story.
Changes to ExternalToolsBuilderTab and ExternalToolsLaunchConfigurationMessages
Please verify Kevin.
verified. Darins please update build notes.
Thanks. Build notes updated.
*** Bug 58170 has been marked as a duplicate of this bug. ***
I'm not sure why Bug 58170 is a duplicate of this.  The option of "rebuild" or
"rebuild all" should still be present even if the clean option is there, I don't
want to have to go through 3 clicks to rebuild everything.  

comment 14 is right.
will there be no 'rebuild all' or 'rebuild project'? that sounds too clearly
wrong to be true.

could you clarify?

i'm not moving past M7 is if there's no 'rebuild project'. (stuck now because of
bug 58170). and that would be rather suboptimal.
Adam, "rebuild" has been replaced by "clean." They are functionally equivalent.
Please describe why this does not meet your needs.
no, i'm fine with 'rebuild' being called 'clean' now.

i'd be unhappy if after 'clean' i had to 'build' (thus having to click twice to
achieve the 'rebuild' result)
*** Bug 60803 has been marked as a duplicate of this bug. ***
Since my bug was marked duplicate of this one, I'll reopen it, I guess...

My question is how to I invoke an external tool builder (ant in my case) that 
is not marked to run on auto build (i.e. the default setting), when I have 
build automatically enabled. There doesn't seem to be a way to invoke these 
builders since build project menu item is disabled.
Would be better to ask the question in the newsgroup....but this has been a 
bit of a mess.

To invoke the build, Use "Clean" and select the project you wish to clean. The 
build will be invoked on the build started from the clean. This works on fine 
on I200404281424.

Back to verified.
O.K., it was a retorical question...

With the CDT, build automatically is usually turned off since you generally 
don't want to wait for a compile/link on every save. At the same time, build 
automatically works great for Java projects. When you try to mix the two 
worlds, as we are trying to do to support using the CDT to build native 
libraries for Java projects, the current Eclipse builder workflows break down.

I'd like to have this addressed, thus the bug report :). You can leave at a 
lower priority for 3.0, but by next release, we'd like to have mixed CDT/JDT 
projects with a smooth builder workflow in place.
Doug, your original bug looked like a duplicate of this one, but you are now
talking about something different.  Please enter a new bug report, or reopen
your original with a better description of the issue.

Sorry for the churn, Darin.
seems not fixed in m9 - the rebuild project/rebuild all' functionality from m7 
is still missing. opened bug 63680 for it.
My personal project setup with some Ant scripts attached build fine.
The "build tab" of the Ant builder has a tick at "After a "clean"".

The only remaining problem is that all console output from the different
scripts delete the output from the former scripts.
With M7 I end with 6 console outputs selectable in the console view.
Now I get only 1 console output of the last ant script that runs. The other
scripts are only temporaly readable during build. 
&gt;My personal project setup with some Ant scripts attached build fine.
&gt;The "build tab" of the Ant builder has a tick at "After a "clean""

not working for me - i have that checked and nothing happens after 'build' - no
targets are run
For Comment #25, Robert change the debug preference to remove terminated 
launches when a new launch is created (on the launching preference page).

I do not know why Adam is special :-)
Can you attach a sample project with buildfile that fails to be invoked 
correctly on a clean or create a new bug report for the problem? Thanks.
Created attachment 11024
the project

this is the sample project
(you will need to fix the working dir in the ant build config)

now try, project &gt; clean ... &gt; clean all projects 
(btw, that's adding a mouse click to what we had in M7 thus making is worse)

anyway, nothing happens on 'clean'!
I agree that there is something wrong here....investigating.
Opened a new bug against platform-ant: see 
Adam your workaround is to move your builder before the disabled Java builder.
New bug 63760
thanks, it worked.
i don't understand why bug 63680 got closed as dup of this. 
(adding my comment here because John is not on CC of the other bug)
bug 63680 talks about a UI usability problem (something that took 1 click before
now opens a dialog thus being disruptive and slower.) 
Actually, the key binding for 'rebuild all' is now simply ignored: bug 64210</WithOutStack>
  </Bug>
  <Bug>
    <BugId amount="56658" />
    <CreationDate amount="2004-03-29 17:10:00 -0500" />
    <DupId amount="" />
    <classification amount="Eclipse" />
    <Product amount="JDT" />
    <component amount="UI" />
    <Version amount="3.0" />
    <rep_platform amount="PC" />
    <op_sys amount="Windows 2000" />
    <priority amount="P3" />
    <bug_severity amount="normal" />
    <Summery>Package Explorer not in synch</Summery>
    <Patches amount="0" />
    <Stacktraces amount="0" />
    <SourceCodeRegions amount="0" />
    <Enumerations amount="0" />
    <bug_status amount="RESOLVED" />
    <resolution amount="WORKSFORME" />
    <WithStack>If you open multiple editors and switch between them, the package explorer does 
not stay in synch. I'm seeing this problem with M8 and M7. In previous 
versions, the package explorer would automatically show the element currently 
open in the editor.
You have to enabled editor syncing via the "Link with Editor" tool bar button 
in the package explorer's tool bar.</WithStack>
    <WithOutStack>If you open multiple editors and switch between them, the package explorer does 
not stay in synch. I'm seeing this problem with M8 and M7. In previous 
versions, the package explorer would automatically show the element currently 
open in the editor.
You have to enabled editor syncing via the "Link with Editor" tool bar button 
in the package explorer's tool bar.</WithOutStack>
  </Bug>
  <Bug>
    <BugId amount="56659" />
    <CreationDate amount="2004-03-29 17:14:00 -0500" />
    <DupId amount="52475" />
    <classification amount="Eclipse" />
    <Product amount="Platform" />
    <component amount="Team" />
    <Version amount="3.0" />
    <rep_platform amount="PC" />
    <op_sys amount="Windows XP" />
    <priority amount="P3" />
    <bug_severity amount="normal" />
    <Summery>multi-project CVS checkout quits too early if one of projects already in workspace</Summery>
    <Patches amount="0" />
    <Stacktraces amount="0" />
    <SourceCodeRegions amount="0" />
    <Enumerations amount="1">
      <Enumeration lines="6">
        <Lines>
          <Line>0. empty workspace</Line>
          <Line>1. Switch to CVS perspective and create a repo connection</Line>
          <Line>2. Check Out a project from a CVS repository containing more than 1 project</Line>
          <Line>In my case org.eclipse.jface</Line>
          <Line>3. Check Out a pair of projects including the one you just checked out</Line>
          <Line>In my case org.eclipse.jface and org.eclipse.osgi</Line>
        </Lines>
      </Enumeration>
    </Enumerations>
    <bug_status amount="RESOLVED" />
    <resolution amount="DUPLICATE" />
    <WithStack>Build M8

0. empty workspace
1. Switch to CVS perspective and create a repo connection
2. Check Out a project from a CVS repository containing more than 1 project
In my case org.eclipse.jface
3. Check Out a pair of projects including the one you just checked out
In my case org.eclipse.jface and org.eclipse.osgi

When it says that org.eclipse.jface is already in workspace and whether you'd 
like to proceed with the check out of org.eclipse.jface,
say No.

Observe: The Check Out is canceled. If you switch to the Resource perspective, 
you can see that org.eclipse.osgi is in the workspace.

Expectation: The Check Out should ignore org.eclipse.jface and proceed with 
the other projects. org.eclipse.osgi should end up being checked out.


*** This bug has been marked as a duplicate of 52475 ***</WithStack>
    <WithOutStack>Build M8

0. empty workspace
1. Switch to CVS perspective and create a repo connection
2. Check Out a project from a CVS repository containing more than 1 project
In my case org.eclipse.jface
3. Check Out a pair of projects including the one you just checked out
In my case org.eclipse.jface and org.eclipse.osgi

When it says that org.eclipse.jface is already in workspace and whether you'd 
like to proceed with the check out of org.eclipse.jface,
say No.

Observe: The Check Out is canceled. If you switch to the Resource perspective, 
you can see that org.eclipse.osgi is in the workspace.

Expectation: The Check Out should ignore org.eclipse.jface and proceed with 
the other projects. org.eclipse.osgi should end up being checked out.


*** This bug has been marked as a duplicate of 52475 ***</WithOutStack>
  </Bug>
  <Bug>
    <BugId amount="56660" />
    <CreationDate amount="2004-03-29 17:17:00 -0500" />
    <DupId amount="" />
    <classification amount="Eclipse Foundation" />
    <Product amount="z_Archived" />
    <component amount="Hyades" />
    <Version amount="unspecified" />
    <rep_platform amount="All" />
    <op_sys amount="All" />
    <priority amount="P3" />
    <bug_severity amount="enhancement" />
    <Summery>Add name and eventType to TPFExecutionEvent</Summery>
    <Patches amount="0" />
    <Stacktraces amount="0" />
    <SourceCodeRegions amount="0" />
    <Enumerations amount="0" />
    <bug_status amount="CLOSED" />
    <resolution amount="FIXED" />
    <WithStack>Add name and eventType to TPFExecutionEvent to support part 1 of execution 
history extensibility
Added and generated code.
house keeping
Closing...</WithStack>
    <WithOutStack>Add name and eventType to TPFExecutionEvent to support part 1 of execution 
history extensibility
Added and generated code.
house keeping
Closing...</WithOutStack>
  </Bug>
  <Bug>
    <BugId amount="56661" />
    <CreationDate amount="2004-03-29 17:28:00 -0500" />
    <DupId amount="58642" />
    <classification amount="Eclipse" />
    <Product amount="Platform" />
    <component amount="UI" />
    <Version amount="3.0" />
    <rep_platform amount="PC" />
    <op_sys amount="Linux-GTK" />
    <priority amount="P3" />
    <bug_severity amount="normal" />
    <Summery>[EditorMgmt] "Other Editors" floating window can get stuck</Summery>
    <Patches amount="0" />
    <Stacktraces amount="0" />
    <SourceCodeRegions amount="0" />
    <Enumerations amount="0" />
    <bug_status amount="RESOLVED" />
    <resolution amount="DUPLICATE" />
    <WithStack>[Reported against M8]

Firstly M8 rocks, nice work peoples.

I seem to be able to get the "Other Editors" window to get stuck in the floating 
position, and I can't get rid of it.   This might just be a GTK issue, but I 
can't test it on W2k as I don't have that here.

By "Other Editors" I mean the floating popup window that shows the names of the 
other file editors that are effectively hidden, and you access it by that cool 
"5&gt;&gt;" feature.

Steps to reproduce:

* Open up enough files such that it uses that "N&gt;&gt;&gt;" appears (where N is the # 
of hidden files".  

* Click on the "&gt;&gt;" to float the hidden editors popup

* WITHOUT choosing anything, try bringing up the old-style Editor selector via 
the CTRL-SHIFT-E combo (why that's changed from CTRL-SHIFT-W I am not sure...)

* THe popup stays floating on top, but I can choose other editors in the 
old-style window selector.

* I closed all the editors via the old-style window: Invert Selection, Close 
Selected Editors, then pressed Close.

* New hidden editor selector is still floating and now I cannot work out how to 
close it.  Not even minimising Eclipse and restoring it helps.

I will attach some screen shots.
Created attachment 8998
"Hidden Editor" floating window after having closed all the editors using old style editor selector
Created attachment 8999
Still Floating! :)

After minimising Eclipse, the window is still floating, as you can see as I
start to enter this bug in Bugzilla... :)

I can't find a way to get rid of it without exiting eclipse.
I managed to get access to an M8 version on W2K, and this doesn't occur, mainly 
because in the sequence I describe, you can't bring up the old-style editor 
selector via the hotkeys when the new floating hidden editor window is visible.  

This would be the expected behaviour I think, so maybe GTK is causing some grief 
with focus/window/modal stuff.  

Let me know if you want me to test anything.
Stupid Window XP won't read your .PNG's.  This doesn't seem like an SWT issue 
although it would be nice to see the window that is stuck.  Moving to UI.
While it may not seem like it, this is a duplicate of Bug 58642.  This is a 
problem with top-level shells and using the XSetInputFocus call.  GTK+ gets 
into a strange state when the set focus calls aren't matched (because focus 
temporarily returns to the root window). 
 
If you see further problems like this, please append your comments to Bug 
58642. 

*** This bug has been marked as a duplicate of 58642 ***</WithStack>
    <WithOutStack>[Reported against M8]

Firstly M8 rocks, nice work peoples.

I seem to be able to get the "Other Editors" window to get stuck in the floating 
position, and I can't get rid of it.   This might just be a GTK issue, but I 
can't test it on W2k as I don't have that here.

By "Other Editors" I mean the floating popup window that shows the names of the 
other file editors that are effectively hidden, and you access it by that cool 
"5&gt;&gt;" feature.

Steps to reproduce:

* Open up enough files such that it uses that "N&gt;&gt;&gt;" appears (where N is the # 
of hidden files".  

* Click on the "&gt;&gt;" to float the hidden editors popup

* WITHOUT choosing anything, try bringing up the old-style Editor selector via 
the CTRL-SHIFT-E combo (why that's changed from CTRL-SHIFT-W I am not sure...)

* THe popup stays floating on top, but I can choose other editors in the 
old-style window selector.

* I closed all the editors via the old-style window: Invert Selection, Close 
Selected Editors, then pressed Close.

* New hidden editor selector is still floating and now I cannot work out how to 
close it.  Not even minimising Eclipse and restoring it helps.

I will attach some screen shots.
Created attachment 8998
"Hidden Editor" floating window after having closed all the editors using old style editor selector
Created attachment 8999
Still Floating! :)

After minimising Eclipse, the window is still floating, as you can see as I
start to enter this bug in Bugzilla... :)

I can't find a way to get rid of it without exiting eclipse.
I managed to get access to an M8 version on W2K, and this doesn't occur, mainly 
because in the sequence I describe, you can't bring up the old-style editor 
selector via the hotkeys when the new floating hidden editor window is visible.  

This would be the expected behaviour I think, so maybe GTK is causing some grief 
with focus/window/modal stuff.  

Let me know if you want me to test anything.
Stupid Window XP won't read your .PNG's.  This doesn't seem like an SWT issue 
although it would be nice to see the window that is stuck.  Moving to UI.
While it may not seem like it, this is a duplicate of Bug 58642.  This is a 
problem with top-level shells and using the XSetInputFocus call.  GTK+ gets 
into a strange state when the set focus calls aren't matched (because focus 
temporarily returns to the root window). 
 
If you see further problems like this, please append your comments to Bug 
58642. 

*** This bug has been marked as a duplicate of 58642 ***</WithOutStack>
  </Bug>
  <Bug>
    <BugId amount="56662" />
    <CreationDate amount="2004-03-29 17:31:00 -0500" />
    <DupId amount="" />
    <classification amount="Eclipse" />
    <Product amount="JDT" />
    <component amount="Text" />
    <Version amount="3.0" />
    <rep_platform amount="PC" />
    <op_sys amount="Windows XP" />
    <priority amount="P2" />
    <bug_severity amount="major" />
    <Summery>IllegalStateException when file open in two perspectives</Summery>
    <Patches amount="0" />
    <Stacktraces amount="1">
      <Stacktrace timestamp="1437341104138">
        <Exception>java.lang.IllegalStateException</Exception>
        <Reason />
        <Frames>
          <Frame depth="0">org.eclipse.jface.text.projection.ProjectionDocument.internalError(ProjectionDocument.java:106)</Frame>
          <Frame depth="1">org.eclipse.jface.text.projection.ProjectionDocument.initializeProjection(ProjectionDocument.java:172)</Frame>
          <Frame depth="2">org.eclipse.jface.text.projection.ProjectionDocument.&lt;init&gt;(ProjectionDocument.java:101)</Frame>
          <Frame depth="3">org.eclipse.jface.text.projection.ChildDocument.&lt;init&gt;(ChildDocument.java:57)</Frame>
          <Frame depth="4">org.eclipse.jface.text.projection.ChildDocumentManager.createProjectionDocument(ChildDocumentManager.java:35)</Frame>
          <Frame depth="5">org.eclipse.jface.text.projection.ProjectionDocumentManager.createSlaveDocument(ProjectionDocumentManager.java:182)</Frame>
          <Frame depth="6">org.eclipse.jface.text.TextViewer.createSlaveDocument(TextViewer.java:2389)</Frame>
          <Frame depth="7">org.eclipse.jface.text.TextViewer.setVisibleRegion(TextViewer.java:3078)</Frame>
          <Frame depth="8">org.eclipse.ui.texteditor.AbstractTextEditor.setHighlightRange(AbstractTextEditor.java:4047)</Frame>
          <Frame depth="9">org.eclipse.jdt.internal.ui.javaeditor.JavaEditor.setSelection(JavaEditor.java:2378)</Frame>
          <Frame depth="10">org.eclipse.jdt.internal.ui.javaeditor.JavaEditor.doSelectionChanged(JavaEditor.java:2482)</Frame>
          <Frame depth="11">org.eclipse.jdt.internal.ui.javaeditor.JavaEditor$OutlineSelectionChangedListener.selectionChanged(JavaEditor.java:291)</Frame>
          <Frame depth="12">org.eclipse.jface.viewers.StructuredViewer$3.run(StructuredViewer.java:431)</Frame>
          <Frame depth="13">org.eclipse.core.internal.runtime.InternalPlatform.run(InternalPlatform.java:610)</Frame>
          <Frame depth="14">org.eclipse.core.runtime.Platform.run(Platform.java:521)</Frame>
          <Frame depth="15">org.eclipse.jface.viewers.StructuredViewer.firePostSelectionChanged(StructuredViewer.java:429)</Frame>
          <Frame depth="16">org.eclipse.jface.viewers.StructuredViewer.handlePostSelect(StructuredViewer.java:680)</Frame>
          <Frame depth="17">org.eclipse.jface.viewers.StructuredViewer$5.widgetSelected(StructuredViewer.java:698)</Frame>
          <Frame depth="18">org.eclipse.jface.util.OpenStrategy.firePostSelectionEvent(OpenStrategy.java:198)</Frame>
          <Frame depth="19">org.eclipse.jface.util.OpenStrategy.access$4(OpenStrategy.java:193)</Frame>
          <Frame depth="20">org.eclipse.jface.util.OpenStrategy$3.run(OpenStrategy.java:334)</Frame>
          <Frame depth="21">org.eclipse.swt.widgets.RunnableLock.run(RunnableLock.java:35)</Frame>
          <Frame depth="22">org.eclipse.swt.widgets.Synchronizer.runAsyncMessages(Synchronizer.java:106)</Frame>
          <Frame depth="23">org.eclipse.swt.widgets.Display.runAsyncMessages(Display.java:2555)</Frame>
          <Frame depth="24">org.eclipse.swt.widgets.Display.readAndDispatch(Display.java:2260)</Frame>
          <Frame depth="25">org.eclipse.ui.internal.Workbench.runEventLoop(Workbench.java:1562)</Frame>
          <Frame depth="26">org.eclipse.ui.internal.Workbench.runUI(Workbench.java:1536)</Frame>
          <Frame depth="27">org.eclipse.ui.internal.Workbench.createAndRunWorkbench(Workbench.java:257)</Frame>
          <Frame depth="28">org.eclipse.ui.PlatformUI.createAndRunWorkbench(PlatformUI.java:139)</Frame>
          <Frame depth="29">org.eclipse.ui.internal.ide.IDEApplication.run(IDEApplication.java:90)</Frame>
          <Frame depth="30">org.eclipse.core.internal.runtime.PlatformActivator$1.run(PlatformActivator.java:277)</Frame>
          <Frame depth="31">org.eclipse.core.runtime.adaptor.EclipseStarter.run(EclipseStarter.java:239)</Frame>
          <Frame depth="32">org.eclipse.core.runtime.adaptor.EclipseStarter.run(EclipseStarter.java:117)</Frame>
          <Frame depth="33">sun.reflect.NativeMethodAccessorImpl.invoke0(Native Method)</Frame>
          <Frame depth="34">sun.reflect.NativeMethodAccessorImpl.invoke(Unknown Source)</Frame>
          <Frame depth="35">sun.reflect.DelegatingMethodAccessorImpl.invoke(Unknown Source)</Frame>
          <Frame depth="36">java.lang.reflect.Method.invoke(Unknown Source)</Frame>
          <Frame depth="37">org.eclipse.core.launcher.Main.basicRun(Main.java:267)</Frame>
          <Frame depth="38">org.eclipse.core.launcher.Main.run(Main.java:692)</Frame>
          <Frame depth="39">org.eclipse.core.launcher.Main.main(Main.java:676)</Frame>
        </Frames>
      </Stacktrace>
    </Stacktraces>
    <SourceCodeRegions amount="0" />
    <Enumerations amount="1">
      <Enumeration lines="5">
        <Lines>
          <Line>- JUnit in workspace</Line>
          <Line>- opened two windows one with Java perspective one with browsing perspective</Line>
          <Line>- opened same file in both windows</Line>
          <Line>- edited file, switched between segemented mode, used code assist,</Line>
          <Line>refactored source</Line>
        </Lines>
      </Enumeration>
    </Enumerations>
    <bug_status amount="VERIFIED" />
    <resolution amount="FIXED" />
    <WithStack>M8.

I often get an IllegalStateException.  It seems that when I have a file open in
two perspectives, which are in two different windows, I often get an
IllegalStateException.  In the perspective that had the problem, no java file
will open correctly or show me the source; if it does happen to show me the
source, I cannot select any methods in the Outline view without getting the
exception.  I must shut down eclipse to get it to work again.

Stack: 
Error Mar 29, 2004 14:16:33.132 Problems occurred when invoking code from
plug-in: "org.eclipse.core.runtime".
java.lang.IllegalStateException
	at
org.eclipse.jface.text.projection.ProjectionDocument.internalError(ProjectionDocument.java:106)
	at
org.eclipse.jface.text.projection.ProjectionDocument.initializeProjection(ProjectionDocument.java:172)
	at
org.eclipse.jface.text.projection.ProjectionDocument.&lt;init&gt;(ProjectionDocument.java:101)
	at org.eclipse.jface.text.projection.ChildDocument.&lt;init&gt;(ChildDocument.java:57)
	at
org.eclipse.jface.text.projection.ChildDocumentManager.createProjectionDocument(ChildDocumentManager.java:35)
	at
org.eclipse.jface.text.projection.ProjectionDocumentManager.createSlaveDocument(ProjectionDocumentManager.java:182)
	at org.eclipse.jface.text.TextViewer.createSlaveDocument(TextViewer.java:2389)
	at org.eclipse.jface.text.TextViewer.setVisibleRegion(TextViewer.java:3078)
	at
org.eclipse.ui.texteditor.AbstractTextEditor.setHighlightRange(AbstractTextEditor.java:4047)
	at
org.eclipse.jdt.internal.ui.javaeditor.JavaEditor.setSelection(JavaEditor.java:2378)
	at
org.eclipse.jdt.internal.ui.javaeditor.JavaEditor.doSelectionChanged(JavaEditor.java:2482)
	at
org.eclipse.jdt.internal.ui.javaeditor.JavaEditor$OutlineSelectionChangedListener.selectionChanged(JavaEditor.java:291)
	at org.eclipse.jface.viewers.StructuredViewer$3.run(StructuredViewer.java:431)
	at
org.eclipse.core.internal.runtime.InternalPlatform.run(InternalPlatform.java:610)
	at org.eclipse.core.runtime.Platform.run(Platform.java:521)
	at
org.eclipse.jface.viewers.StructuredViewer.firePostSelectionChanged(StructuredViewer.java:429)
	at
org.eclipse.jface.viewers.StructuredViewer.handlePostSelect(StructuredViewer.java:680)
	at
org.eclipse.jface.viewers.StructuredViewer$5.widgetSelected(StructuredViewer.java:698)
	at
org.eclipse.jface.util.OpenStrategy.firePostSelectionEvent(OpenStrategy.java:198)
	at org.eclipse.jface.util.OpenStrategy.access$4(OpenStrategy.java:193)
	at org.eclipse.jface.util.OpenStrategy$3.run(OpenStrategy.java:334)
	at org.eclipse.swt.widgets.RunnableLock.run(RunnableLock.java:35)
	at org.eclipse.swt.widgets.Synchronizer.runAsyncMessages(Synchronizer.java:106)
	at org.eclipse.swt.widgets.Display.runAsyncMessages(Display.java:2555)
	at org.eclipse.swt.widgets.Display.readAndDispatch(Display.java:2260)
	at org.eclipse.ui.internal.Workbench.runEventLoop(Workbench.java:1562)
	at org.eclipse.ui.internal.Workbench.runUI(Workbench.java:1536)
	at org.eclipse.ui.internal.Workbench.createAndRunWorkbench(Workbench.java:257)
	at org.eclipse.ui.PlatformUI.createAndRunWorkbench(PlatformUI.java:139)
	at org.eclipse.ui.internal.ide.IDEApplication.run(IDEApplication.java:90)
	at
org.eclipse.core.internal.runtime.PlatformActivator$1.run(PlatformActivator.java:277)
	at org.eclipse.core.runtime.adaptor.EclipseStarter.run(EclipseStarter.java:239)
	at org.eclipse.core.runtime.adaptor.EclipseStarter.run(EclipseStarter.java:117)
	at sun.reflect.NativeMethodAccessorImpl.invoke0(Native Method)
	at sun.reflect.NativeMethodAccessorImpl.invoke(Unknown Source)
	at sun.reflect.DelegatingMethodAccessorImpl.invoke(Unknown Source)
	at java.lang.reflect.Method.invoke(Unknown Source)
	at org.eclipse.core.launcher.Main.basicRun(Main.java:267)
	at org.eclipse.core.launcher.Main.run(Main.java:692)
	at org.eclipse.core.launcher.Main.main(Main.java:676)

session data:
java.version=1.4.2
java.vendor=Sun Microsystems Inc.
BootLoader constants: OS=win32, ARCH=x86, WS=win32, NL=en_US
Move to JDT/Text.
Which build are you using?
M8
Version: 3.0.0
Build id: 200403261517

Let me know if you nee any more info.
I also got it just now. In one of the perspectives I used segmented mode.
I20040406.
Verifying...
Since detailed steps are missing I did the following to verify the bug;

- JUnit in workspace
- opened two windows one with Java perspective one with browsing perspective
- opened same file in both windows
- edited file, switched between segemented mode, used code assist,
  refactored source</WithStack>
    <WithOutStack>M8.

I often get an IllegalStateException.  It seems that when I have a file open in
two perspectives, which are in two different windows, I often get an
IllegalStateException.  In the perspective that had the problem, no java file
will open correctly or show me the source; if it does happen to show me the
source, I cannot select any methods in the Outline view without getting the
exception.  I must shut down eclipse to get it to work again.

Stack: 
Error Mar 29, 2004 14:16:33.132 Problems occurred when invoking code from
plug-in: "org.eclipse.core.runtime".


session data:
java.version=1.4.2
java.vendor=Sun Microsystems Inc.
BootLoader constants: OS=win32, ARCH=x86, WS=win32, NL=en_US
Move to JDT/Text.
Which build are you using?
M8
Version: 3.0.0
Build id: 200403261517

Let me know if you nee any more info.
I also got it just now. In one of the perspectives I used segmented mode.
I20040406.
Verifying...
Since detailed steps are missing I did the following to verify the bug;

- JUnit in workspace
- opened two windows one with Java perspective one with browsing perspective
- opened same file in both windows
- edited file, switched between segemented mode, used code assist,
  refactored source</WithOutStack>
  </Bug>
  <Bug>
    <BugId amount="56663" />
    <CreationDate amount="2004-03-29 17:38:00 -0500" />
    <DupId amount="" />
    <classification amount="Eclipse" />
    <Product amount="Platform" />
    <component amount="Debug" />
    <Version amount="3.0" />
    <rep_platform amount="PC" />
    <op_sys amount="All" />
    <priority amount="P3" />
    <bug_severity amount="normal" />
    <Summery>"Wait for build" dialog should dismiss itself when build finishes</Summery>
    <Patches amount="0" />
    <Stacktraces amount="0" />
    <SourceCodeRegions amount="0" />
    <Enumerations amount="0" />
    <bug_status amount="RESOLVED" />
    <resolution amount="WONTFIX" />
    <WithStack>Eclipse 3.0 M8

If the user asks to launch while a build is running, we open a dialog asking them if they want to 
wait. If the build finishes while this dialog is open, we should automatically dismiss the dialog as if 
the user clicked "Yes".
On a second look, I do not agree with this one. It seems like non-standard 
behavior to prompt the user and then remove the prompt. I think it would be 
better to show that we are waiting for the build, and allow the user to "skip" 
waiting for the build. However, do not intend to address in 3.0.</WithStack>
    <WithOutStack>Eclipse 3.0 M8

If the user asks to launch while a build is running, we open a dialog asking them if they want to 
wait. If the build finishes while this dialog is open, we should automatically dismiss the dialog as if 
the user clicked "Yes".
On a second look, I do not agree with this one. It seems like non-standard 
behavior to prompt the user and then remove the prompt. I think it would be 
better to show that we are waiting for the build, and allow the user to "skip" 
waiting for the build. However, do not intend to address in 3.0.</WithOutStack>
  </Bug>
  <Bug>
    <BugId amount="56664" />
    <CreationDate amount="2004-03-29 17:48:00 -0500" />
    <DupId amount="" />
    <classification amount="Eclipse Foundation" />
    <Product amount="z_Archived" />
    <component amount="Hyades" />
    <Version amount="unspecified" />
    <rep_platform amount="PC" />
    <op_sys amount="Windows 2000" />
    <priority amount="P1" />
    <bug_severity amount="critical" />
    <Summery>provide support to customize Graph Node and spacing size</Summery>
    <Patches amount="0" />
    <Stacktraces amount="0" />
    <SourceCodeRegions amount="1">
      <source_code type="functioncall">
        <location start="239" end="283" />
        <code>MyFrame.forceEventOccurrenceSpacing(size);</code>
      </source_code>
    </SourceCodeRegions>
    <Enumerations amount="0" />
    <bug_status amount="CLOSED" />
    <resolution amount="FIXED" />
    <WithStack>Provide API to customize the size for graph Node(vertical and horizontal), as 
well as spacing in between graphNodes in SD view.
Now you can force the horizontal spacing between execution occurrences:

Usage:
  Frame MyFrame = New Frame()
  MyFrame.forceEventOccurrenceSpacing(size);

Size is an int which repesent a pixel size.
You need to call forceEventOccurrenceSpacing each time you create a NEW frame 
and want to used a specific horizontal spacing
Cool. It is working good. Thanks very much!
closing bug
house keeping</WithStack>
    <WithOutStack>Provide API to customize the size for graph Node(vertical and horizontal), as 
well as spacing in between graphNodes in SD view.
Now you can force the horizontal spacing between execution occurrences:

Usage:
  Frame MyFrame = New Frame()
  MyFrame.forceEventOccurrenceSpacing(size);

Size is an int which repesent a pixel size.
You need to call forceEventOccurrenceSpacing each time you create a NEW frame 
and want to used a specific horizontal spacing
Cool. It is working good. Thanks very much!
closing bug
house keeping</WithOutStack>
  </Bug>
  <Bug>
    <BugId amount="56665" />
    <CreationDate amount="2004-03-29 17:51:00 -0500" />
    <DupId amount="" />
    <classification amount="Eclipse" />
    <Product amount="JDT" />
    <component amount="Debug" />
    <Version amount="3.0" />
    <rep_platform amount="PC" />
    <op_sys amount="Windows XP" />
    <priority amount="P3" />
    <bug_severity amount="normal" />
    <Summery>bootstrap entries classpath for junit is not being set</Summery>
    <Patches amount="0" />
    <Stacktraces amount="0" />
    <SourceCodeRegions amount="0" />
    <Enumerations amount="0" />
    <bug_status amount="VERIFIED" />
    <resolution amount="FIXED" />
    <WithStack>This seems to have broken between M7 and M8. When creating a Junit configuration
to run or debug, the entries in the Bootstap Entries are not being set when the
Junit is started.
Move to JDT/Debug
Luc can you see if this is a migration problem in our stuff or in the JUnit 
configuration. Thanks.
*** Bug 56693 has been marked as a duplicate of this bug. ***
Fixed.
No bootpath were added if the config had no VM specific attributes.
Changes in StandartVMRunner#addBootClassPathArguments().
I also submit a new patch to JUnit, so they use the new bootpath stuff (bug 53913).
Please verify, Darin W.
Verified.</WithStack>
    <WithOutStack>This seems to have broken between M7 and M8. When creating a Junit configuration
to run or debug, the entries in the Bootstap Entries are not being set when the
Junit is started.
Move to JDT/Debug
Luc can you see if this is a migration problem in our stuff or in the JUnit 
configuration. Thanks.
*** Bug 56693 has been marked as a duplicate of this bug. ***
Fixed.
No bootpath were added if the config had no VM specific attributes.
Changes in StandartVMRunner#addBootClassPathArguments().
I also submit a new patch to JUnit, so they use the new bootpath stuff (bug 53913).
Please verify, Darin W.
Verified.</WithOutStack>
  </Bug>
  <Bug>
    <BugId amount="56666" />
    <CreationDate amount="2004-03-29 17:52:00 -0500" />
    <DupId amount="" />
    <classification amount="Eclipse Foundation" />
    <Product amount="z_Archived" />
    <component amount="Hyades" />
    <Version amount="unspecified" />
    <rep_platform amount="PC" />
    <op_sys amount="Windows 2000" />
    <priority amount="P1" />
    <bug_severity amount="critical" />
    <Summery>log graph node expend and collapse support in log interactions view</Summery>
    <Patches amount="0" />
    <Stacktraces amount="0" />
    <SourceCodeRegions amount="0" />
    <Enumerations amount="0" />
    <bug_status amount="CLOSED" />
    <resolution amount="FIXED" />
    <WithStack>provide context menu action (thru object contribution) to let user 
expend/collapse on grouped log graph node of same timestamp in log interactions 
view.
please see Bug 56669 for further support features in expended log graph node.
Code checked into 1.3 and head(m9).
closing bug
house keeping</WithStack>
    <WithOutStack>provide context menu action (thru object contribution) to let user 
expend/collapse on grouped log graph node of same timestamp in log interactions 
view.
please see Bug 56669 for further support features in expended log graph node.
Code checked into 1.3 and head(m9).
closing bug
house keeping</WithOutStack>
  </Bug>
  <Bug>
    <BugId amount="56667" />
    <CreationDate amount="2004-03-29 17:54:00 -0500" />
    <DupId amount="" />
    <classification amount="Eclipse" />
    <Product amount="Platform" />
    <component amount="SWT" />
    <Version amount="3.0" />
    <rep_platform amount="All" />
    <op_sys amount="Windows CE" />
    <priority amount="P1" />
    <bug_severity amount="critical" />
    <Summery>Minimization of top Shell widgets impossible (SWT.MIN &amp; SWT.NONE) on PocketPC (BBAWT)</Summery>
    <Patches amount="0" />
    <Stacktraces amount="0" />
    <SourceCodeRegions amount="5">
      <source_code type="import">
        <location start="953" end="979" />
        <code>import org.eclipse.swt.*;</code>
      </source_code>
      <source_code type="import">
        <location start="980" end="1012" />
        <code>import org.eclipse.swt.events.*;</code>
      </source_code>
      <source_code type="import">
        <location start="1013" end="1046" />
        <code>import org.eclipse.swt.widgets.*;</code>
      </source_code>
      <source_code type="class">
        <location start="1047" end="2651" />
        <code>public class SWTHelloWorld {
	public static void main(String[] args) {
		Display display = new Display();
		final Shell shell = new Shell(display, SWT.CLIP_CHILDREN | 
SWT.CLIP_SIBLINGS | SWT.MIN);
		shell.setText("Das erste Fenster");
		//shell.setBounds(0, 120, 160, 100);
		Button button = new Button(shell, SWT.PUSH);
		button.setText("Klick mich!");
		button.setBounds(0, 0, 120, 30);
		button.addSelectionListener(new SelectionListener() {
			public void widgetSelected(SelectionEvent e) {
				System.out.println("Danke");
				shell.dispose();
			}

			public void widgetDefaultSelected(SelectionEvent e) {
				// TODO Auto-generated method stub
				
			}
		});
		shell.addListener(SWT.Close, new Listener() {
			public void handleEvent(Event event) {
				System.out.println("Close event passed by!") ;
				try {
					Thread.sleep(1000) ;
				} catch (InterruptedException e) {
					e.printStackTrace();
				}
			}
		}) ;
		shell.addShellListener(new ShellListener() {

			public void shellActivated(ShellEvent e) {
				// TODO Auto-generated method stub
				
			}

			public void shellClosed(ShellEvent e) {
				System.out.println("Shell Closed") ;
			}

			public void shellDeactivated(ShellEvent e) {
				// TODO Auto-generated method stub
				
			}

			public void shellDeiconified(ShellEvent e) {
				// TODO Auto-generated method stub
				
			}

			public void shellIconified(ShellEvent e) {
				// TODO Auto-generated method stub
				
			}
			
		}) ;
		shell.open();
		while (!shell.isDisposed()) {
			if (!display.readAndDispatch()) {
				display.sleep();
			}
		}
		display.dispose();
	}
}</code>
      </source_code>
      <source_code type="singlecomment">
        <location start="2652" end="2721" />
        <code>// Taken from http://www.3plus4software.de/sma/Ein_SWT_Tutorial.html</code>
      </source_code>
    </SourceCodeRegions>
    <Enumerations amount="0" />
    <bug_status amount="VERIFIED" />
    <resolution amount="FIXED" />
    <WithStack>[TESTCASE INCLUDED @ THE END]

[ENVIRONMENT:]
Version SWT 3.044.
Platform PocketPC - Windows CE (PocketPC 2003) on ARM

[STEPS TO RECREATE:]
Create a Shell with style SWT.MIN or SWT.NONE.
Add the shell to a Display.
Do not setBounds on the Shell.
Open the shell.

[OBSERVATIONS:]
The shell appears maximised.
There is an X botton at the top right corner.
The title is different from that of the Shell (it is that of the prev window).
Tapping on the X does not minimize the window.
Selecting the Shell from the tasks list makes the Shell's title appear,
but the Shell can still not be minimized.  Tapping on the X button now
makes it disappear.
Trying to close the Shell from the tasks list makes the application hang,
and forces a PocketPC soft reboot.

[COMPARISON:]
In previous versions, tapping on the X button would minimize the Shell and 
closing it from the tasks list would trigger an SWT.Close event.

To be run on a PocketPC device:
[TESTCASE]

import org.eclipse.swt.*;
import org.eclipse.swt.events.*;
import org.eclipse.swt.widgets.*;
public class SWTHelloWorld {
	public static void main(String[] args) {
		Display display = new Display();
		final Shell shell = new Shell(display, SWT.CLIP_CHILDREN | 
SWT.CLIP_SIBLINGS | SWT.MIN);
		shell.setText("Das erste Fenster");
		//shell.setBounds(0, 120, 160, 100);
		Button button = new Button(shell, SWT.PUSH);
		button.setText("Klick mich!");
		button.setBounds(0, 0, 120, 30);
		button.addSelectionListener(new SelectionListener() {
			public void widgetSelected(SelectionEvent e) {
				System.out.println("Danke");
				shell.dispose();
			}

			public void widgetDefaultSelected(SelectionEvent e) {
				// TODO Auto-generated method stub
				
			}
		});
		shell.addListener(SWT.Close, new Listener() {
			public void handleEvent(Event event) {
				System.out.println("Close event passed by!") ;
				try {
					Thread.sleep(1000) ;
				} catch (InterruptedException e) {
					e.printStackTrace();
				}
			}
		}) ;
		shell.addShellListener(new ShellListener() {

			public void shellActivated(ShellEvent e) {
				// TODO Auto-generated method stub
				
			}

			public void shellClosed(ShellEvent e) {
				System.out.println("Shell Closed") ;
			}

			public void shellDeactivated(ShellEvent e) {
				// TODO Auto-generated method stub
				
			}

			public void shellDeiconified(ShellEvent e) {
				// TODO Auto-generated method stub
				
			}

			public void shellIconified(ShellEvent e) {
				// TODO Auto-generated method stub
				
			}
			
		}) ;
		shell.open();
		while (!shell.isDisposed()) {
			if (!display.readAndDispatch()) {
				display.sleep();
			}
		}
		display.dispose();
	}
}
// Taken from http://www.3plus4software.de/sma/Ein_SWT_Tutorial.html

[JUSTIFICATION 4 PRIORITY]
Failing standards checks.
The observations should have read

[OBSERVATIONS:]
...
Tapping on the X button now makes
*the X button in the corner, NOT the Shell*
disappear, so we're left with no way to close the window.
...
Ok, just posting the observations again.. easier to read than the diff I posted 
above :(

[OBSERVATIONS:]
The shell appears maximised.
There is an X botton at the top right corner.
The title is different from that of the Shell (it is that of the prev window).
Tapping on the X does not minimize the window.
Selecting the Shell from the tasks list makes the Shell's title appear,
but the Shell can still not be minimized.  Tapping on the X button now makes
*the X button in the corner, NOT the Shell*
disappear, so we're left with no way to close the window.
Trying to close the Shell from the tasks list makes the application hang,
and forces a PocketPC soft reboot.

Christophe, I'd like to see this promoted to a P2.

To elaborate on what Cohan said, we were relying on the absence of a style 
(i.e. SWT.NONE) to be able to have the X trigger a close event on PocketPC; 
this behavior changed between v3043 and v3044.  If there is another style we 
can use that will give us similar behavior as before, we would be happy to 
switch to using it.   

Remember we are trying to map to the expected behavior of java.awt.Frame, and I 
don't think we want those Windows to use SWT.CLOSE, as this would result in an 
Ok button, which is not consistent with what you would expect Frame to look 
like on PocketPC (at least I wouldn't think so, based on the conflicting 
desires for platform look-and-feel and consistent Frame behavior cross 
platforms).  Any suggestions are welcome.
Looking into this. Thanks for reporting.
fixed v&gt;20040330 - regression from v3043</WithStack>
    <WithOutStack>[TESTCASE INCLUDED @ THE END]

[ENVIRONMENT:]
Version SWT 3.044.
Platform PocketPC - Windows CE (PocketPC 2003) on ARM

[STEPS TO RECREATE:]
Create a Shell with style SWT.MIN or SWT.NONE.
Add the shell to a Display.
Do not setBounds on the Shell.
Open the shell.

[OBSERVATIONS:]
The shell appears maximised.
There is an X botton at the top right corner.
The title is different from that of the Shell (it is that of the prev window).
Tapping on the X does not minimize the window.
Selecting the Shell from the tasks list makes the Shell's title appear,
but the Shell can still not be minimized.  Tapping on the X button now
makes it disappear.
Trying to close the Shell from the tasks list makes the application hang,
and forces a PocketPC soft reboot.

[COMPARISON:]
In previous versions, tapping on the X button would minimize the Shell and 
closing it from the tasks list would trigger an SWT.Close event.

To be run on a PocketPC device:
[TESTCASE]

import org.eclipse.swt.*;
import org.eclipse.swt.events.*;
import org.eclipse.swt.widgets.*;
public class SWTHelloWorld {
	public static void main(String[] args) {
		Display display = new Display();
		final Shell shell = new Shell(display, SWT.CLIP_CHILDREN | 
SWT.CLIP_SIBLINGS | SWT.MIN);
		shell.setText("Das erste Fenster");
		//shell.setBounds(0, 120, 160, 100);
		Button button = new Button(shell, SWT.PUSH);
		button.setText("Klick mich!");
		button.setBounds(0, 0, 120, 30);
		button.addSelectionListener(new SelectionListener() {
			public void widgetSelected(SelectionEvent e) {
				System.out.println("Danke");
				shell.dispose();
			}

			public void widgetDefaultSelected(SelectionEvent e) {
				// TODO Auto-generated method stub
				
			}
		});
		shell.addListener(SWT.Close, new Listener() {
			public void handleEvent(Event event) {
				System.out.println("Close event passed by!") ;
				try {
					Thread.sleep(1000) ;
				} catch (InterruptedException e) {
					e.printStackTrace();
				}
			}
		}) ;
		shell.addShellListener(new ShellListener() {

			public void shellActivated(ShellEvent e) {
				// TODO Auto-generated method stub
				
			}

			public void shellClosed(ShellEvent e) {
				System.out.println("Shell Closed") ;
			}

			public void shellDeactivated(ShellEvent e) {
				// TODO Auto-generated method stub
				
			}

			public void shellDeiconified(ShellEvent e) {
				// TODO Auto-generated method stub
				
			}

			public void shellIconified(ShellEvent e) {
				// TODO Auto-generated method stub
				
			}
			
		}) ;
		shell.open();
		while (!shell.isDisposed()) {
			if (!display.readAndDispatch()) {
				display.sleep();
			}
		}
		display.dispose();
	}
}
// Taken from http://www.3plus4software.de/sma/Ein_SWT_Tutorial.html

[JUSTIFICATION 4 PRIORITY]
Failing standards checks.
The observations should have read

[OBSERVATIONS:]
...
Tapping on the X button now makes
*the X button in the corner, NOT the Shell*
disappear, so we're left with no way to close the window.
...
Ok, just posting the observations again.. easier to read than the diff I posted 
above :(

[OBSERVATIONS:]
The shell appears maximised.
There is an X botton at the top right corner.
The title is different from that of the Shell (it is that of the prev window).
Tapping on the X does not minimize the window.
Selecting the Shell from the tasks list makes the Shell's title appear,
but the Shell can still not be minimized.  Tapping on the X button now makes
*the X button in the corner, NOT the Shell*
disappear, so we're left with no way to close the window.
Trying to close the Shell from the tasks list makes the application hang,
and forces a PocketPC soft reboot.

Christophe, I'd like to see this promoted to a P2.

To elaborate on what Cohan said, we were relying on the absence of a style 
(i.e. SWT.NONE) to be able to have the X trigger a close event on PocketPC; 
this behavior changed between v3043 and v3044.  If there is another style we 
can use that will give us similar behavior as before, we would be happy to 
switch to using it.   

Remember we are trying to map to the expected behavior of java.awt.Frame, and I 
don't think we want those Windows to use SWT.CLOSE, as this would result in an 
Ok button, which is not consistent with what you would expect Frame to look 
like on PocketPC (at least I wouldn't think so, based on the conflicting 
desires for platform look-and-feel and consistent Frame behavior cross 
platforms).  Any suggestions are welcome.
Looking into this. Thanks for reporting.
fixed v&gt;20040330 - regression from v3043</WithOutStack>
  </Bug>
  <Bug>
    <BugId amount="56668" />
    <CreationDate amount="2004-03-29 17:58:00 -0500" />
    <DupId amount="" />
    <classification amount="Eclipse Foundation" />
    <Product amount="z_Archived" />
    <component amount="Hyades" />
    <Version amount="unspecified" />
    <rep_platform amount="PC" />
    <op_sys amount="Windows 2000" />
    <priority amount="P3" />
    <bug_severity amount="normal" />
    <Summery>NullPointerException when clicking on "Link with Viewer"</Summery>
    <Patches amount="0" />
    <Stacktraces amount="1">
      <Stacktrace timestamp="1437341104143">
        <Exception>java.lang.NullPointerException</Exception>
        <Reason />
        <Frames>
          <Frame depth="0">org.eclipse.hyades.trace.ui.internal.actions.ToggleLinkingAction.run(ToggleLinkingAction.java:50)</Frame>
          <Frame depth="1">org.eclipse.jface.action.Action.runWithEvent(Action.java:881)</Frame>
          <Frame depth="2">org.eclipse.jface.action.ActionContributionItem.handleWidgetSelection(ActionContributionItem.java:550)</Frame>
          <Frame depth="3">org.eclipse.jface.action.ActionContributionItem.access$2(ActionContributionItem.java:502)</Frame>
          <Frame depth="4">org.eclipse.jface.action.ActionContributionItem$6.handleEvent(ActionContributionItem.java:474)</Frame>
          <Frame depth="5">org.eclipse.swt.widgets.EventTable.sendEvent(EventTable.java(Compiled Code))</Frame>
          <Frame depth="6">org.eclipse.swt.widgets.Widget.sendEvent(Widget.java(Inlined Compiled Code))</Frame>
          <Frame depth="7">org.eclipse.swt.widgets.Display.runDeferredEvents(Display.java(Compiled Code))</Frame>
          <Frame depth="8">org.eclipse.swt.widgets.Display.readAndDispatch(Display.java(Compiled Code))</Frame>
          <Frame depth="9">org.eclipse.ui.internal.Workbench.runEventLoop(Workbench.java(Compiled Code))</Frame>
          <Frame depth="10">org.eclipse.ui.internal.Workbench.runUI(Workbench.java:1536)</Frame>
          <Frame depth="11">org.eclipse.ui.internal.Workbench.createAndRunWorkbench(Workbench.java:257)</Frame>
          <Frame depth="12">org.eclipse.ui.PlatformUI.createAndRunWorkbench(PlatformUI.java:139)</Frame>
          <Frame depth="13">org.eclipse.ui.internal.ide.IDEApplication.run(IDEApplication.java:90)</Frame>
          <Frame depth="14">org.eclipse.core.internal.runtime.PlatformActivator$1.run(PlatformActivator.java:277)</Frame>
          <Frame depth="15">org.eclipse.core.runtime.adaptor.EclipseStarter.run(EclipseStarter.java:239)</Frame>
          <Frame depth="16">org.eclipse.core.runtime.adaptor.EclipseStarter.run(EclipseStarter.java:117)</Frame>
          <Frame depth="17">sun.reflect.NativeMethodAccessorImpl.invoke0(Native Method)</Frame>
          <Frame depth="18">sun.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:84)</Frame>
          <Frame depth="19">sun.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:57)</Frame>
          <Frame depth="20">sun.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:59)</Frame>
          <Frame depth="21">java.lang.reflect.Method.invoke(Method.java:389)</Frame>
          <Frame depth="22">org.eclipse.core.launcher.Main.basicRun(Main.java:316)</Frame>
          <Frame depth="23">org.eclipse.core.launcher.Main.run(Main.java:741)</Frame>
          <Frame depth="24">org.eclipse.core.launcher.Main.main(Main.java:725)</Frame>
        </Frames>
      </Stacktrace>
    </Stacktraces>
    <SourceCodeRegions amount="0" />
    <Enumerations amount="1">
      <Enumeration lines="5">
        <Lines>
          <Line>- Start profiling an application.</Line>
          <Line>- Terminate the application.</Line>
          <Line>- Delete the agent / node etc from the profiling monitor (and filesystem).</Line>
          <Line>- Click on "Link with Viewer" in the profiling monitor.</Line>
          <Line>- Note: NullPointerException printed in the console and in the log.</Line>
        </Lines>
      </Enumeration>
    </Enumerations>
    <bug_status amount="CLOSED" />
    <resolution amount="FIXED" />
    <WithStack>- Start profiling an application.
- Terminate the application.
- Delete the agent / node etc from the profiling monitor (and filesystem).
- Click on "Link with Viewer" in the profiling monitor.
- Note: NullPointerException printed in the console and in the log.

This appears to be happening because the Link with Viewer action is being 
created and recreated multiple times, and the navigator field in 
ToggleLinkingAction is null. I don't think this is related to the Link with 
Viewer icon problem (#56632).

Here's the stack trace:

java.lang.NullPointerException
	at org.eclipse.hyades.trace.ui.internal.actions.ToggleLinkingAction.run
(ToggleLinkingAction.java:50)
	at org.eclipse.jface.action.Action.runWithEvent(Action.java:881)
	at org.eclipse.jface.action.ActionContributionItem.handleWidgetSelection
(ActionContributionItem.java:550)
	at org.eclipse.jface.action.ActionContributionItem.access$2
(ActionContributionItem.java:502)
	at org.eclipse.jface.action.ActionContributionItem$6.handleEvent
(ActionContributionItem.java:474)
	at org.eclipse.swt.widgets.EventTable.sendEvent(EventTable.java
(Compiled Code))
	at org.eclipse.swt.widgets.Widget.sendEvent(Widget.java(Inlined 
Compiled Code))
	at org.eclipse.swt.widgets.Display.runDeferredEvents(Display.java
(Compiled Code))
	at org.eclipse.swt.widgets.Display.readAndDispatch(Display.java
(Compiled Code))
	at org.eclipse.ui.internal.Workbench.runEventLoop(Workbench.java
(Compiled Code))
	at org.eclipse.ui.internal.Workbench.runUI(Workbench.java:1536)
	at org.eclipse.ui.internal.Workbench.createAndRunWorkbench
(Workbench.java:257)
	at org.eclipse.ui.PlatformUI.createAndRunWorkbench(PlatformUI.java:139)
	at org.eclipse.ui.internal.ide.IDEApplication.run
(IDEApplication.java:90)
	at org.eclipse.core.internal.runtime.PlatformActivator$1.run
(PlatformActivator.java:277)
	at org.eclipse.core.runtime.adaptor.EclipseStarter.run
(EclipseStarter.java:239)
	at org.eclipse.core.runtime.adaptor.EclipseStarter.run
(EclipseStarter.java:117)
	at sun.reflect.NativeMethodAccessorImpl.invoke0(Native Method)
	at sun.reflect.NativeMethodAccessorImpl.invoke
(NativeMethodAccessorImpl.java:84)
	at sun.reflect.NativeMethodAccessorImpl.invoke
(NativeMethodAccessorImpl.java:57)
	at sun.reflect.DelegatingMethodAccessorImpl.invoke
(DelegatingMethodAccessorImpl.java:59)
	at java.lang.reflect.Method.invoke(Method.java:389)
	at org.eclipse.core.launcher.Main.basicRun(Main.java:316)
	at org.eclipse.core.launcher.Main.run(Main.java:741)
	at org.eclipse.core.launcher.Main.main(Main.java:725)
The ToggleLinkingAction only gets created once at the beginning, but gets 
disposed several times. The problem was that during it's dispose it was setting 
the navigator to null, which shouldn't happen since it never creates it. 
Removing this line in the dispose method fixes the problem, and the navigator 
gets set to null at the appropriate time by it's creator.
Patch applied to CVS for M9.
Closing bug.
house keeping</WithStack>
    <WithOutStack>- Start profiling an application.
- Terminate the application.
- Delete the agent / node etc from the profiling monitor (and filesystem).
- Click on "Link with Viewer" in the profiling monitor.
- Note: NullPointerException printed in the console and in the log.

This appears to be happening because the Link with Viewer action is being 
created and recreated multiple times, and the navigator field in 
ToggleLinkingAction is null. I don't think this is related to the Link with 
Viewer icon problem (#56632).

Here's the stack trace:


The ToggleLinkingAction only gets created once at the beginning, but gets 
disposed several times. The problem was that during it's dispose it was setting 
the navigator to null, which shouldn't happen since it never creates it. 
Removing this line in the dispose method fixes the problem, and the navigator 
gets set to null at the appropriate time by it's creator.
Patch applied to CVS for M9.
Closing bug.
house keeping</WithOutStack>
  </Bug>
  <Bug>
    <BugId amount="56669" />
    <CreationDate amount="2004-03-29 18:00:00 -0500" />
    <DupId amount="" />
    <classification amount="Eclipse Foundation" />
    <Product amount="z_Archived" />
    <component amount="Hyades" />
    <Version amount="unspecified" />
    <rep_platform amount="PC" />
    <op_sys amount="Windows 2000" />
    <priority amount="P1" />
    <bug_severity amount="critical" />
    <Summery>show correlations of group log node base on user selection</Summery>
    <Patches amount="0" />
    <Stacktraces amount="0" />
    <SourceCodeRegions amount="0" />
    <Enumerations amount="0" />
    <bug_status amount="CLOSED" />
    <resolution amount="FIXED" />
    <WithStack>For grouped log node in UML2SD log interactions view which are expanded, show 
correlations of only the selected node within the expended node, and displayed 
others correlations under the same group node as '...'(or other outgoing 
message type).

There is a prerequisite of bug 56666 for this feature.
Code checked into 1.3 and HEAD(m9).
closing bug
*** Bug 55100 has been marked as a duplicate of this bug. ***
house keeping</WithStack>
    <WithOutStack>For grouped log node in UML2SD log interactions view which are expanded, show 
correlations of only the selected node within the expended node, and displayed 
others correlations under the same group node as '...'(or other outgoing 
message type).

There is a prerequisite of bug 56666 for this feature.
Code checked into 1.3 and HEAD(m9).
closing bug
*** Bug 55100 has been marked as a duplicate of this bug. ***
house keeping</WithOutStack>
  </Bug>
  <Bug>
    <BugId amount="56670" />
    <CreationDate amount="2004-03-29 18:16:00 -0500" />
    <DupId amount="" />
    <classification amount="Eclipse Foundation" />
    <Product amount="z_Archived" />
    <component amount="VE" />
    <Version amount="unspecified" />
    <rep_platform amount="PC" />
    <op_sys amount="Windows XP" />
    <priority amount="P3" />
    <bug_severity amount="normal" />
    <Summery>Perf: Removal of beanpart should be done is a specific way</Summery>
    <Patches amount="0" />
    <Stacktraces amount="0" />
    <SourceCodeRegions amount="0" />
    <Enumerations amount="1">
      <Enumeration lines="3">
        <Lines>
          <Line>1. Remove all references to this beanpart in the model.</Line>
          <Line>2. Remove this beanpart from the model itself.</Line>
          <Line>3. Remove all properties of this model.</Line>
        </Lines>
      </Enumeration>
    </Enumerations>
    <bug_status amount="NEW" />
    <resolution amount="" />
    <WithStack>Deleting a beanpart should follow a particular sequence in order to reduce the
number of notifications and improve performance:
1. Remove all references to this beanpart in the model. 
2. Remove this beanpart from the model itself.
3. Remove all properties of this model.</WithStack>
    <WithOutStack>Deleting a beanpart should follow a particular sequence in order to reduce the
number of notifications and improve performance:
1. Remove all references to this beanpart in the model. 
2. Remove this beanpart from the model itself.
3. Remove all properties of this model.</WithOutStack>
  </Bug>
  <Bug>
    <BugId amount="56671" />
    <CreationDate amount="2004-03-29 18:30:00 -0500" />
    <DupId amount="" />
    <classification amount="Eclipse" />
    <Product amount="Platform" />
    <component amount="Releng" />
    <Version amount="3.0" />
    <rep_platform amount="PC" />
    <op_sys amount="Windows 2000" />
    <priority amount="P3" />
    <bug_severity amount="enhancement" />
    <Summery>Allow specifying map file in release wizard</Summery>
    <Patches amount="0" />
    <Stacktraces amount="0" />
    <SourceCodeRegions amount="0" />
    <Enumerations amount="0" />
    <bug_status amount="VERIFIED" />
    <resolution amount="FIXED" />
    <WithStack>It'd be very useful to us if the release wizard allowed the user to specify the 
location of the map file.  So far, we've had to change the plugin at every 
release before we could use it.  It's a little more convenient now that the 
location is being read from a text file (no more importing, changing, 
compiling, exporting), but allowing to specify the location dynamically would 
still be much better.  At the very least, you should consider reading the map-
file location from plugin.properties (which is easier to access and modify) 
instead of messages.properties (which is in a jar).
I would vote for this enhancement as well. 
Would it be any easier to provide a simple preference page where it could 
be specified, with the defaults being the current ones that the base eclipse 
team uses?

I might add, as a good programming practice, it is advicable to have your 
"program control" properties and your "human readable message properties" in 
different properties files (mostly due to potential for translation, but in 
general, you'd often have different audiences for the two types of properties). 
As far as I can tell from quick glance, there are three such program control 
properties in the messages properties file: 
RelEngPlugin.1=org.eclipse.releng
RelEngPlugin.2=maps
RelEngPlugin.3=RelEngPluginResources

Thanks, I haven't used the new wizard very much yet, but its a great 
improvement!
Created attachment 9599
patch

A new wizard page was added to allow user to specify the map project he wants
to use.
Patch released. Zhiyong, please verify
verified</WithStack>
    <WithOutStack>It'd be very useful to us if the release wizard allowed the user to specify the 
location of the map file.  So far, we've had to change the plugin at every 
release before we could use it.  It's a little more convenient now that the 
location is being read from a text file (no more importing, changing, 
compiling, exporting), but allowing to specify the location dynamically would 
still be much better.  At the very least, you should consider reading the map-
file location from plugin.properties (which is easier to access and modify) 
instead of messages.properties (which is in a jar).
I would vote for this enhancement as well. 
Would it be any easier to provide a simple preference page where it could 
be specified, with the defaults being the current ones that the base eclipse 
team uses?

I might add, as a good programming practice, it is advicable to have your 
"program control" properties and your "human readable message properties" in 
different properties files (mostly due to potential for translation, but in 
general, you'd often have different audiences for the two types of properties). 
As far as I can tell from quick glance, there are three such program control 
properties in the messages properties file: 
RelEngPlugin.1=org.eclipse.releng
RelEngPlugin.2=maps
RelEngPlugin.3=RelEngPluginResources

Thanks, I haven't used the new wizard very much yet, but its a great 
improvement!
Created attachment 9599
patch

A new wizard page was added to allow user to specify the map project he wants
to use.
Patch released. Zhiyong, please verify
verified</WithOutStack>
  </Bug>
  <Bug>
    <BugId amount="56672" />
    <CreationDate amount="2004-03-29 18:33:00 -0500" />
    <DupId amount="" />
    <classification amount="Eclipse" />
    <Product amount="Platform" />
    <component amount="Debug" />
    <Version amount="3.0" />
    <rep_platform amount="PC" />
    <op_sys amount="Linux" />
    <priority amount="P3" />
    <bug_severity amount="normal" />
    <Summery>'Marker id not found' error in breakpoint view during fast create/delete breakpoint actions</Summery>
    <Patches amount="0" />
    <Stacktraces amount="1">
      <Stacktrace timestamp="1437341104146">
        <Exception>org.eclipse.core.internal.resources.ResourceException</Exception>
        <Reason>Marker id: 18 not found.</Reason>
        <Frames>
          <Frame depth="0">java.lang.Throwable.&lt;init&gt;(Throwable.java:59)</Frame>
          <Frame depth="1">java.lang.Throwable.&lt;init&gt;(Throwable.java:73)</Frame>
          <Frame depth="2">org.eclipse.core.runtime.CoreException.&lt;init&gt;(CoreException.java:35)</Frame>
          <Frame depth="3">org.eclipse.core.internal.resources.Marker.checkInfo(Marker.java:55)</Frame>
          <Frame depth="4">org.eclipse.core.internal.resources.Marker.getType(Marker.java:179)</Frame>
          <Frame depth="5">org.eclipse.debug.internal.ui.views.breakpoints.BreakpointsSorter.compare(BreakpointsSorter.java:63)</Frame>
          <Frame depth="6">org.eclipse.jface.viewers.TableViewer.indexForElement(TableViewer.java:354)</Frame>
          <Frame depth="7">org.eclipse.jface.viewers.TableViewer.add(TableViewer.java:115)</Frame>
          <Frame depth="8">org.eclipse.jface.viewers.TableViewer.add(TableViewer.java:134)</Frame>
          <Frame depth="9">org.eclipse.debug.internal.ui.views.breakpoints.BreakpointsViewEventHandler$1.run(BreakpointsViewEventHandler.java:78)</Frame>
          <Frame depth="10">org.eclipse.swt.widgets.RunnableLock.run(RunnableLock.java:35)</Frame>
          <Frame depth="11">org.eclipse.swt.widgets.Synchronizer.runAsyncMessages(Synchronizer.java:106)</Frame>
          <Frame depth="12">org.eclipse.swt.widgets.Display.runAsyncMessages(Display.java:1930)</Frame>
          <Frame depth="13">org.eclipse.swt.widgets.Display.readAndDispatch(Display.java)</Frame>
          <Frame depth="14">org.eclipse.ui.internal.Workbench.runEventLoop(Workbench.java:1562)</Frame>
          <Frame depth="15">org.eclipse.ui.internal.Workbench.runUI(Workbench.java:1536)</Frame>
          <Frame depth="16">org.eclipse.ui.internal.Workbench.createAndRunWorkbench(Workbench.java:257)</Frame>
          <Frame depth="17">org.eclipse.ui.PlatformUI.createAndRunWorkbench(PlatformUI.java:139)</Frame>
          <Frame depth="18">org.eclipse.ui.internal.ide.IDEApplication.run(IDEApplication.java:90)</Frame>
          <Frame depth="19">org.eclipse.core.internal.runtime.PlatformActivator$1.run(PlatformActivator.java:277)</Frame>
          <Frame depth="20">org.eclipse.core.runtime.adaptor.EclipseStarter.run(EclipseStarter.java:239)</Frame>
          <Frame depth="21">org.eclipse.core.runtime.adaptor.EclipseStarter.run(EclipseStarter.java:117)</Frame>
          <Frame depth="22">sun.reflect.NativeMethodAccessorImpl.invoke0(Native Method)</Frame>
          <Frame depth="23">sun.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:79)</Frame>
          <Frame depth="24">sun.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:41)</Frame>
          <Frame depth="25">java.lang.reflect.Method.invoke(Method.java:386)</Frame>
          <Frame depth="26">org.eclipse.core.launcher.Main.basicRun(Main.java:267)</Frame>
          <Frame depth="27">org.eclipse.core.launcher.Main.run(Main.java:692)</Frame>
          <Frame depth="28">org.eclipse.core.launcher.Main.main(Main.java:676)</Frame>
        </Frames>
      </Stacktrace>
    </Stacktraces>
    <SourceCodeRegions amount="0" />
    <Enumerations amount="0" />
    <bug_status amount="VERIFIED" />
    <resolution amount="FIXED" />
    <WithStack>The sorter for the breakpoint view doesn't handle well when multiple breakpoints
are created/deleted programatically.
In the case of the watchpoint refactoring support for field rename, the
following error is logged :

org.eclipse.core.internal.resources.ResourceException: Marker id: 18 not found.
        at java.lang.Throwable.&lt;init&gt;(Throwable.java:59)
        at java.lang.Throwable.&lt;init&gt;(Throwable.java:73)
        at org.eclipse.core.runtime.CoreException.&lt;init&gt;(CoreException.java:35)
        at org.eclipse.core.internal.resources.Marker.checkInfo(Marker.java:55)
        at org.eclipse.core.internal.resources.Marker.getType(Marker.java:179)
        at
org.eclipse.debug.internal.ui.views.breakpoints.BreakpointsSorter.compare(BreakpointsSorter.java:63)
        at
org.eclipse.jface.viewers.TableViewer.indexForElement(TableViewer.java:354)
        at org.eclipse.jface.viewers.TableViewer.add(TableViewer.java:115)
        at org.eclipse.jface.viewers.TableViewer.add(TableViewer.java:134)
        at
org.eclipse.debug.internal.ui.views.breakpoints.BreakpointsViewEventHandler$1.run(BreakpointsViewEventHandler.java:78)
        at org.eclipse.swt.widgets.RunnableLock.run(RunnableLock.java:35)
        at
org.eclipse.swt.widgets.Synchronizer.runAsyncMessages(Synchronizer.java:106)
        at org.eclipse.swt.widgets.Display.runAsyncMessages(Display.java:1930)
        at org.eclipse.swt.widgets.Display.readAndDispatch(Display.java)
        at org.eclipse.ui.internal.Workbench.runEventLoop(Workbench.java:1562)
        at org.eclipse.ui.internal.Workbench.runUI(Workbench.java:1536)
        at
org.eclipse.ui.internal.Workbench.createAndRunWorkbench(Workbench.java:257)
        at org.eclipse.ui.PlatformUI.createAndRunWorkbench(PlatformUI.java:139)
        at org.eclipse.ui.internal.ide.IDEApplication.run(IDEApplication.java:90)
        at
org.eclipse.core.internal.runtime.PlatformActivator$1.run(PlatformActivator.java:277)
        at
org.eclipse.core.runtime.adaptor.EclipseStarter.run(EclipseStarter.java:239)
        at
org.eclipse.core.runtime.adaptor.EclipseStarter.run(EclipseStarter.java:117)
        at sun.reflect.NativeMethodAccessorImpl.invoke0(Native Method)
        at
sun.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:79)
        at
sun.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:41)
        at java.lang.reflect.Method.invoke(Method.java:386)
        at org.eclipse.core.launcher.Main.basicRun(Main.java:267)
        at org.eclipse.core.launcher.Main.run(Main.java:692)
        at org.eclipse.core.launcher.Main.main(Main.java:676)
!SUBENTRY 1 org.eclipse.core.resources 4 376 Mar 29, 2004 15:18:53.342
!MESSAGE Marker id: 18 not found.
Fixed in BreakpointSorter#compare(). Check that the markers exist before trying
to get data from them.
Please verify, Darin S.
Verified.</WithStack>
    <WithOutStack>The sorter for the breakpoint view doesn't handle well when multiple breakpoints
are created/deleted programatically.
In the case of the watchpoint refactoring support for field rename, the
following error is logged :


!SUBENTRY 1 org.eclipse.core.resources 4 376 Mar 29, 2004 15:18:53.342
!MESSAGE Marker id: 18 not found.
Fixed in BreakpointSorter#compare(). Check that the markers exist before trying
to get data from them.
Please verify, Darin S.
Verified.</WithOutStack>
  </Bug>
  <Bug>
    <BugId amount="56673" />
    <CreationDate amount="2004-03-29 18:36:00 -0500" />
    <DupId amount="" />
    <classification amount="Tools" />
    <Product amount="TPTP Profiling" />
    <component amount="Platform.UI" />
    <Version amount="4.2" />
    <rep_platform amount="All" />
    <op_sys amount="Windows 2000" />
    <priority amount="P2" />
    <bug_severity amount="enhancement" />
    <Summery>(Plat)Support for dynamic Profiling Types in Edit Profiling Set dialog</Summery>
    <Patches amount="0" />
    <Stacktraces amount="0" />
    <SourceCodeRegions amount="0" />
    <Enumerations amount="2">
      <Enumeration lines="7">
        <Lines>
          <Line>1) individual probes are not visible in the contents of a Profiling Set on the</Line>
          <Line>first page of the Profiling tab (users will not be able to easily see what</Line>
          <Line>probes are enabled quickly)</Line>
          <Line>2) the tree structure is unusual in the case of Probes, as there is only one</Line>
          <Line>sub-node under the Probes category, and all additional probes would have to be</Line>
          <Line>displayed in the right-side contents of the Edit Profiling Type dialog. This</Line>
          <Line>leads to inconsistency in the Edit Profiling Set dialog.</Line>
        </Lines>
      </Enumeration>
      <Enumeration lines="9">
        <Lines>
          <Line>1) There is currently no visible defect nor loss of functionality for the</Line>
          <Line>user.</Line>
          <Line>2) We (Hyades and BlueRat) have already addressed (via the</Line>
          <Line>IProfilingType.getDescription(ProfilingSetsManagerCopy) method) one of the main</Line>
          <Line>user interface issues related to this enhancement request so that the user is</Line>
          <Line>now able to see what probes are selected for a profiling set without having to</Line>
          <Line>click on the Edit Profiling Set dialog.</Line>
          <Line>3) Even if this support was added in Hyades for M10, there is not enough time</Line>
          <Line>to update and stabilize Probekit User Interface prior to UI freeze.</Line>
        </Lines>
      </Enumeration>
    </Enumerations>
    <bug_status amount="CLOSED" />
    <resolution amount="WONTFIX" />
    <WithStack>Within the Edit Profiling Set dialog:
The current implementation does now allow the tree to be dynamically updated. 
This leads to two usability issues (specifically with the Probe use cases, but
this could potentially be a problem for any other profiling types that could be
added by a user in the future):

1) individual probes are not visible in the contents of a Profiling Set on the
first page of the Profiling tab (users will not be able to easily see what
probes are enabled quickly)
2) the tree structure is unusual in the case of Probes, as there is only one
sub-node under the Probes category, and all additional probes would have to be
displayed in the right-side contents of the Edit Profiling Type dialog. This
leads to inconsistency in the Edit Profiling Set dialog.

In the case of user-defined probes (e.g., ProbeKit) it is not possible have the
tree reflect the addition of newly created or newly imported probes into the list.  

The ideal user interaction, is to have new probes display under a Probes
category dynamically.

[+] Memory Analysis
[+] Time Analysis
[-] Probes
    [ ] HelloWorld Probe
    [ ] Debug Probe
    [ ] My New Probe    

In the above example, when the user imports a probe "My New Probe" it would then
appear in the tree view of the Edit Profiling Type dialog.
Not major for M9, since we provide an extended description for profiling types
See defect 57170
Adding Glenn to the CC list so he can track this issue as well.
How important is this for M10? Is it causing a visible defect for the user of 
the probekit? (i.e. are you currently trying to use this?)
This definitely should not be considered necessary for M10 (in my humble 
opinion) for several reasons.  
1) There is currently no visible defect nor loss of functionality for the 
user.  
2) We (Hyades and BlueRat) have already addressed (via the 
IProfilingType.getDescription(ProfilingSetsManagerCopy) method) one of the main 
user interface issues related to this enhancement request so that the user is 
now able to see what probes are selected for a profiling set without having to 
click on the Edit Profiling Set dialog.
3) Even if this support was added in Hyades for M10, there is not enough time 
to update and stabilize Probekit User Interface prior to UI freeze. 

Thanks, Glenn. Moving to post 3.0.
Retarget Priority. P4 and P5 should not be used for prioritization.
Moving defect to 3.3 since the work cannot be contained by the 3.2 i2 cycle. 
There are only two weeks to go and we should come up with a design document 
first.

Per discussion with Harm, the defect should be discussed in the committers call 
and decided if it can be moved to 3.3.
Moving defect back to 3.2 i2
Defect discussed in Hyades committers call and approved to move to a higher 
release


Theme: Appealing to the Broader Community
Review this in the context of the JVMTI restructuring
Setting the target to future since it has not officially been planned, but this feature is being considered as part of the JVMTI refactoring.
Is this a 'help wanted' feature?
It's not helpwanted according to TPTP4.3 release plan:  http://www.eclipse.org/tptp/home/project_info/devplans/Eclipse%20TPTP%20Project%204.3%20Release%20Plan.htm.  I'm changing the target milestone to --.
As of TPTP 4.6.0, TPTP is in maintenance mode and focusing on improving quality by resolving relevant defects and increasing test coverage through test creation, automation, Build Verification Tests (BVTs), and expanded run-time execution. As such, TPTP is not delivering enhancements. As part of the TPTP Bugzilla housecleaning process (see http://wiki.eclipse.org/Bugzilla_Housecleaning_Processes), this enhancement is resolved as WONTFIX. For this enhancement to be considered, please re-open with an attached patch including the Description Document (see http://www.eclipse.org/tptp/home/documents/process/development/description_documents.html), code (see http://www.eclipse.org/tptp/home/documents/resources/TPTPDevGuide.htm), and test cases (see http://www.eclipse.org/tptp/home/documents/process/TPTP_Testing_Strategy.html).
As of TPTP 4.6.0, TPTP is in maintenance mode and focusing on improving quality by resolving relevant defects and increasing test coverage through test creation, automation, Build Verification Tests (BVTs), and expanded run-time execution. As such, TPTP is not delivering enhancements. As part of the TPTP Bugzilla housecleaning process (see http://wiki.eclipse.org/Bugzilla_Housecleaning_Processes), this enhancement is resolved as WONTFIX. For this enhancement to be considered, please re-open with an attached patch including the Description Document (see http://www.eclipse.org/tptp/home/documents/process/development/description_documents.html), code (see http://www.eclipse.org/tptp/home/documents/resources/TPTPDevGuide.htm), and test cases (see http://www.eclipse.org/tptp/home/documents/process/TPTP_Testing_Strategy.html).
As of TPTP 4.6.0, TPTP is in maintenance mode and focusing on improving quality by resolving relevant enhancements/defects and increasing test coverage through test creation, automation, Build Verification Tests (BVTs), and expanded run-time execution. As part of the TPTP Bugzilla housecleaning process (see http://wiki.eclipse.org/Bugzilla_Housecleaning_Processes), this enhancement/defect is verified/closed by the Project Lead since the originator of this enhancement/defect has an inactive Bugzilla account and considered to be fixed. If this enhancement/defect is still unresolved and reproducible in the latest TPTP release (http://www.eclipse.org/tptp/home/downloads/), please re-open.</WithStack>
    <WithOutStack>Within the Edit Profiling Set dialog:
The current implementation does now allow the tree to be dynamically updated. 
This leads to two usability issues (specifically with the Probe use cases, but
this could potentially be a problem for any other profiling types that could be
added by a user in the future):

1) individual probes are not visible in the contents of a Profiling Set on the
first page of the Profiling tab (users will not be able to easily see what
probes are enabled quickly)
2) the tree structure is unusual in the case of Probes, as there is only one
sub-node under the Probes category, and all additional probes would have to be
displayed in the right-side contents of the Edit Profiling Type dialog. This
leads to inconsistency in the Edit Profiling Set dialog.

In the case of user-defined probes (e.g., ProbeKit) it is not possible have the
tree reflect the addition of newly created or newly imported probes into the list.  

The ideal user interaction, is to have new probes display under a Probes
category dynamically.

[+] Memory Analysis
[+] Time Analysis
[-] Probes
    [ ] HelloWorld Probe
    [ ] Debug Probe
    [ ] My New Probe    

In the above example, when the user imports a probe "My New Probe" it would then
appear in the tree view of the Edit Profiling Type dialog.
Not major for M9, since we provide an extended description for profiling types
See defect 57170
Adding Glenn to the CC list so he can track this issue as well.
How important is this for M10? Is it causing a visible defect for the user of 
the probekit? (i.e. are you currently trying to use this?)
This definitely should not be considered necessary for M10 (in my humble 
opinion) for several reasons.  
1) There is currently no visible defect nor loss of functionality for the 
user.  
2) We (Hyades and BlueRat) have already addressed (via the 
IProfilingType.getDescription(ProfilingSetsManagerCopy) method) one of the main 
user interface issues related to this enhancement request so that the user is 
now able to see what probes are selected for a profiling set without having to 
click on the Edit Profiling Set dialog.
3) Even if this support was added in Hyades for M10, there is not enough time 
to update and stabilize Probekit User Interface prior to UI freeze. 

Thanks, Glenn. Moving to post 3.0.
Retarget Priority. P4 and P5 should not be used for prioritization.
Moving defect to 3.3 since the work cannot be contained by the 3.2 i2 cycle. 
There are only two weeks to go and we should come up with a design document 
first.

Per discussion with Harm, the defect should be discussed in the committers call 
and decided if it can be moved to 3.3.
Moving defect back to 3.2 i2
Defect discussed in Hyades committers call and approved to move to a higher 
release


Theme: Appealing to the Broader Community
Review this in the context of the JVMTI restructuring
Setting the target to future since it has not officially been planned, but this feature is being considered as part of the JVMTI refactoring.
Is this a 'help wanted' feature?
It's not helpwanted according to TPTP4.3 release plan:  http://www.eclipse.org/tptp/home/project_info/devplans/Eclipse%20TPTP%20Project%204.3%20Release%20Plan.htm.  I'm changing the target milestone to --.
As of TPTP 4.6.0, TPTP is in maintenance mode and focusing on improving quality by resolving relevant defects and increasing test coverage through test creation, automation, Build Verification Tests (BVTs), and expanded run-time execution. As such, TPTP is not delivering enhancements. As part of the TPTP Bugzilla housecleaning process (see http://wiki.eclipse.org/Bugzilla_Housecleaning_Processes), this enhancement is resolved as WONTFIX. For this enhancement to be considered, please re-open with an attached patch including the Description Document (see http://www.eclipse.org/tptp/home/documents/process/development/description_documents.html), code (see http://www.eclipse.org/tptp/home/documents/resources/TPTPDevGuide.htm), and test cases (see http://www.eclipse.org/tptp/home/documents/process/TPTP_Testing_Strategy.html).
As of TPTP 4.6.0, TPTP is in maintenance mode and focusing on improving quality by resolving relevant defects and increasing test coverage through test creation, automation, Build Verification Tests (BVTs), and expanded run-time execution. As such, TPTP is not delivering enhancements. As part of the TPTP Bugzilla housecleaning process (see http://wiki.eclipse.org/Bugzilla_Housecleaning_Processes), this enhancement is resolved as WONTFIX. For this enhancement to be considered, please re-open with an attached patch including the Description Document (see http://www.eclipse.org/tptp/home/documents/process/development/description_documents.html), code (see http://www.eclipse.org/tptp/home/documents/resources/TPTPDevGuide.htm), and test cases (see http://www.eclipse.org/tptp/home/documents/process/TPTP_Testing_Strategy.html).
As of TPTP 4.6.0, TPTP is in maintenance mode and focusing on improving quality by resolving relevant enhancements/defects and increasing test coverage through test creation, automation, Build Verification Tests (BVTs), and expanded run-time execution. As part of the TPTP Bugzilla housecleaning process (see http://wiki.eclipse.org/Bugzilla_Housecleaning_Processes), this enhancement/defect is verified/closed by the Project Lead since the originator of this enhancement/defect has an inactive Bugzilla account and considered to be fixed. If this enhancement/defect is still unresolved and reproducible in the latest TPTP release (http://www.eclipse.org/tptp/home/downloads/), please re-open.</WithOutStack>
  </Bug>
  <Bug>
    <BugId amount="56674" />
    <CreationDate amount="2004-03-29 18:40:00 -0500" />
    <DupId amount="429332" />
    <classification amount="Eclipse" />
    <Product amount="Platform" />
    <component amount="SWT" />
    <Version amount="3.0" />
    <rep_platform amount="Sun" />
    <op_sys amount="Solaris-GTK" />
    <priority amount="P4" />
    <bug_severity amount="enhancement" />
    <Summery>[64] 64 bit support needed for Solaris</Summery>
    <Patches amount="0" />
    <Stacktraces amount="1">
      <Stacktrace timestamp="1437341104151">
        <Exception>java.lang.UnsatisfiedLinkError</Exception>
        <Reason>:
/bunky1/users/vincef/newsite/eclipse/plugins/org.eclipse.swt.motif_2.1.3/os/solaris/sparc/libswt-motif-2136.so:
ld.so.1: /bunky1/users/vincef/newsite/facets30/product/bin/java: fatal:
/bunky1/users/vincef/newsite/eclipse/plugins/org.eclipse.swt.motif_2.1.3/os/solaris/sparc/libswt-motif-2136.so:
wrong ELF class: ELFCLASS32</Reason>
        <Frames>
          <Frame depth="0">java.lang.ClassLoader$NativeLibrary.load(Native Method)</Frame>
          <Frame depth="1">java.lang.ClassLoader.loadLibrary0(ClassLoader.java:1560)</Frame>
          <Frame depth="2">java.lang.ClassLoader.loadLibrary(ClassLoader.java:1469)</Frame>
          <Frame depth="3">java.lang.Runtime.loadLibrary0(Runtime.java:788)</Frame>
          <Frame depth="4">java.lang.System.loadLibrary(System.java:834)</Frame>
          <Frame depth="5">org.eclipse.swt.internal.Library.loadLibrary(Library.java:108)</Frame>
          <Frame depth="6">org.eclipse.swt.internal.motif.OS.&lt;clinit&gt;(OS.java:20)</Frame>
          <Frame depth="7">org.eclipse.swt.widgets.Display.createDisplay(Display.java:590)</Frame>
          <Frame depth="8">org.eclipse.swt.widgets.Display.create(Display.java:576)</Frame>
          <Frame depth="9">org.eclipse.swt.graphics.Device.&lt;init&gt;(Device.java:126)</Frame>
          <Frame depth="10">org.eclipse.swt.widgets.Display.&lt;init&gt;(Display.java:339)</Frame>
          <Frame depth="11">org.eclipse.swt.widgets.Display.&lt;init&gt;(Display.java:336)</Frame>
          <Frame depth="12">org.eclipse.ui.internal.Workbench.run(Workbench.java:1361)</Frame>
          <Frame depth="13">org.eclipse.core.internal.boot.InternalBootLoader.run(InternalBootLoader.java:858)</Frame>
          <Frame depth="14">org.eclipse.core.boot.BootLoader.run(BootLoader.java:461)</Frame>
          <Frame depth="15">sun.reflect.NativeMethodAccessorImpl.invoke0(Native Method)</Frame>
          <Frame depth="16">sun.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:39)</Frame>
          <Frame depth="17">sun.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:25)</Frame>
          <Frame depth="18">java.lang.reflect.Method.invoke(Method.java:324)</Frame>
          <Frame depth="19">org.eclipse.core.launcher.Main.basicRun(Main.java:291)</Frame>
          <Frame depth="20">org.eclipse.core.launcher.Main.run(Main.java:747)</Frame>
          <Frame depth="21">org.eclipse.core.launcher.Main.main(Main.java:583)</Frame>
        </Frames>
      </Stacktrace>
    </Stacktraces>
    <SourceCodeRegions amount="0" />
    <Enumerations amount="0" />
    <bug_status amount="CLOSED" />
    <resolution amount="DUPLICATE" />
    <WithStack>64 bit VM can not run eclipse because of native library support required. 

./eclipse
java.lang.UnsatisfiedLinkError:
/bunky1/users/vincef/newsite/eclipse/plugins/org.eclipse.swt.motif_2.1.3/os/solaris/sparc/libswt-motif-2136.so:
ld.so.1: /bunky1/users/vincef/newsite/facets30/product/bin/java: fatal:
/bunky1/users/vincef/newsite/eclipse/plugins/org.eclipse.swt.motif_2.1.3/os/solaris/sparc/libswt-motif-2136.so:
wrong ELF class: ELFCLASS32
        at java.lang.ClassLoader$NativeLibrary.load(Native Method)
        at java.lang.ClassLoader.loadLibrary0(ClassLoader.java:1560)
        at java.lang.ClassLoader.loadLibrary(ClassLoader.java:1469)
        at java.lang.Runtime.loadLibrary0(Runtime.java:788)
        at java.lang.System.loadLibrary(System.java:834)
        at org.eclipse.swt.internal.Library.loadLibrary(Library.java:108)
        at org.eclipse.swt.internal.motif.OS.&lt;clinit&gt;(OS.java:20)
        at org.eclipse.swt.widgets.Display.createDisplay(Display.java:590)
        at org.eclipse.swt.widgets.Display.create(Display.java:576)
        at org.eclipse.swt.graphics.Device.&lt;init&gt;(Device.java:126)
        at org.eclipse.swt.widgets.Display.&lt;init&gt;(Display.java:339)
        at org.eclipse.swt.widgets.Display.&lt;init&gt;(Display.java:336)
        at org.eclipse.ui.internal.Workbench.run(Workbench.java:1361)
        at
org.eclipse.core.internal.boot.InternalBootLoader.run(InternalBootLoader.java:858)
        at org.eclipse.core.boot.BootLoader.run(BootLoader.java:461)
        at sun.reflect.NativeMethodAccessorImpl.invoke0(Native Method)
        at
sun.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:39)
        at
sun.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:25)
        at java.lang.reflect.Method.invoke(Method.java:324)
        at org.eclipse.core.launcher.Main.basicRun(Main.java:291)
        at org.eclipse.core.launcher.Main.run(Main.java:747)
        at org.eclipse.core.launcher.Main.main(Main.java:583)
Note that it's unlikely that swt-motif will be retrofitted to support 64 bits, 
but once swt-gtk becomes the typical port for Solaris then this should provide 
what's needed.

Since SUN doesn't provide all GNOME libs (libgnome* etc.) as ELF 64-bit ...
Moving report to triage, see http://www.eclipse.org/swt/triage.php
for more info about swt bug handling.



*** This bug has been marked as a duplicate of bug 429332 ***</WithStack>
    <WithOutStack>64 bit VM can not run eclipse because of native library support required. 

./eclipse

Note that it's unlikely that swt-motif will be retrofitted to support 64 bits, 
but once swt-gtk becomes the typical port for Solaris then this should provide 
what's needed.

Since SUN doesn't provide all GNOME libs (libgnome* etc.) as ELF 64-bit ...
Moving report to triage, see http://www.eclipse.org/swt/triage.php
for more info about swt bug handling.



*** This bug has been marked as a duplicate of bug 429332 ***</WithOutStack>
  </Bug>
  <Bug>
    <BugId amount="56675" />
    <CreationDate amount="2004-03-29 18:42:00 -0500" />
    <DupId amount="" />
    <classification amount="Eclipse Foundation" />
    <Product amount="z_Archived" />
    <component amount="Hyades" />
    <Version amount="unspecified" />
    <rep_platform amount="PC" />
    <op_sys amount="Windows 2000" />
    <priority amount="P3" />
    <bug_severity amount="enhancement" />
    <Summery>Add Descriptions for Tree Categories in Edit Profiling Type dialog</Summery>
    <Patches amount="0" />
    <Stacktraces amount="0" />
    <SourceCodeRegions amount="0" />
    <Enumerations amount="0" />
    <bug_status amount="CLOSED" />
    <resolution amount="FIXED" />
    <WithStack>Currently when selecting a root category in the tree within the Edit Profiling
Type dialog, the right-side UI is blank.

As an improvement, it should be possible to add a Category description on the
right side if the user selects the category node in the tree.

There should be a description for each of the Hyades categories:
Memory Analysis
Time Analysis
Code Coverage

and it should be possible for others contributing categories to provide
descriptions that appear on the right side as well.
Created attachment 9071
Shows what the UI will look when the user highlights a profiling group

The first screen shot shows what the UI will look like when it reads the
description provided by the contributors in the plugin.xml

The second screen shot shows what the UI will look like when this attribute is
not provided or it's length is 0.
Are these descriptions appropriate for the existing groups.

Memory Analysis - "Captures heap dumps and performs memory analysis."
Time Analysis - "Captures the execution history of code, excluding the classes 
in the default filter set."
Code Coverage - "Captures code coverage information and is optimized for high 
performance."
I would suggest getting input from Information Development / documentation
people.   We probably want to be clear and consistent with the online docs.
sure. do you have a name I can contact?
Nellie, can you please verify the descriptions?
Descriptions verified by Nellie.
Fixed in CVS (M9).
Used the following descriptions:
Memory Analysis - "Captures heap dumps and performs memory analysis."
Time Analysis - "Captures the execution history of code."
Code Coverage - "Captures code coverage information and is optimized for high 
performance."
As of TPTP 4.6.0, TPTP is in maintenance mode and focusing on improving quality by resolving relevant enhancements/defects and increasing test coverage through test creation, automation, Build Verification Tests (BVTs), and expanded run-time execution. As part of the TPTP Bugzilla housecleaning process (see http://wiki.eclipse.org/Bugzilla_Housecleaning_Processes), this enhancement/defect is verified/closed by the Project Lead since this enhancement/defect has been resolved and unverified for more than 1 year and considered to be fixed. If this enhancement/defect is still unresolved and reproducible in the latest TPTP release (http://www.eclipse.org/tptp/home/downloads/), please re-open.</WithStack>
    <WithOutStack>Currently when selecting a root category in the tree within the Edit Profiling
Type dialog, the right-side UI is blank.

As an improvement, it should be possible to add a Category description on the
right side if the user selects the category node in the tree.

There should be a description for each of the Hyades categories:
Memory Analysis
Time Analysis
Code Coverage

and it should be possible for others contributing categories to provide
descriptions that appear on the right side as well.
Created attachment 9071
Shows what the UI will look when the user highlights a profiling group

The first screen shot shows what the UI will look like when it reads the
description provided by the contributors in the plugin.xml

The second screen shot shows what the UI will look like when this attribute is
not provided or it's length is 0.
Are these descriptions appropriate for the existing groups.

Memory Analysis - "Captures heap dumps and performs memory analysis."
Time Analysis - "Captures the execution history of code, excluding the classes 
in the default filter set."
Code Coverage - "Captures code coverage information and is optimized for high 
performance."
I would suggest getting input from Information Development / documentation
people.   We probably want to be clear and consistent with the online docs.
sure. do you have a name I can contact?
Nellie, can you please verify the descriptions?
Descriptions verified by Nellie.
Fixed in CVS (M9).
Used the following descriptions:
Memory Analysis - "Captures heap dumps and performs memory analysis."
Time Analysis - "Captures the execution history of code."
Code Coverage - "Captures code coverage information and is optimized for high 
performance."
As of TPTP 4.6.0, TPTP is in maintenance mode and focusing on improving quality by resolving relevant enhancements/defects and increasing test coverage through test creation, automation, Build Verification Tests (BVTs), and expanded run-time execution. As part of the TPTP Bugzilla housecleaning process (see http://wiki.eclipse.org/Bugzilla_Housecleaning_Processes), this enhancement/defect is verified/closed by the Project Lead since this enhancement/defect has been resolved and unverified for more than 1 year and considered to be fixed. If this enhancement/defect is still unresolved and reproducible in the latest TPTP release (http://www.eclipse.org/tptp/home/downloads/), please re-open.</WithOutStack>
  </Bug>
  <Bug>
    <BugId amount="56676" />
    <CreationDate amount="2004-03-29 18:48:00 -0500" />
    <DupId amount="" />
    <classification amount="Eclipse" />
    <Product amount="Platform" />
    <component amount="Search" />
    <Version amount="3.0" />
    <rep_platform amount="PC" />
    <op_sys amount="Windows XP" />
    <priority amount="P4" />
    <bug_severity amount="enhancement" />
    <Summery>Want enable "group by" but not "hierarchal" in New Search view</Summery>
    <Patches amount="0" />
    <Stacktraces amount="0" />
    <SourceCodeRegions amount="0" />
    <Enumerations amount="1">
      <Enumeration lines="16">
        <Lines>
          <Line>1. Allow "flat layout" and "group by" to be enabled at the same time. In this</Line>
          <Line>situation, the tree would always have a depth of 2. The top level would be</Line>
          <Line>whatever I selected in "group by", and immediately below this would be the</Line>
          <Line>search results.</Line>
          <Line>2. Show the search as a split view. Show the current tree (minus the search</Line>
          <Line>results) on the left, and show the search results in a flat list on the right.</Line>
          <Line>The search results on the right would always be filtered according to the</Line>
          <Line>selection on the left. If I want to see all the results in my file, I can just</Line>
          <Line>click on the file without expanding the tree further.</Line>
          <Line>3. Always show the search view as a flat list, but allow a "filter by selected</Line>
          <Line>resource and children" option similar to the problems view.</Line>
          <Line>Another alternative occured to me:</Line>
          <Line />
          <Line>4. Show the tree as it is now. At any unexpanded branch, show (X matches), where</Line>
          <Line>X is the sum of the matches in all of its children (currently, this is only done</Line>
          <Line>for leaf nodes).</Line>
        </Lines>
      </Enumeration>
    </Enumerations>
    <bug_status amount="RESOLVED" />
    <resolution amount="WONTFIX" />
    <WithStack>I am usually only interested in search results in a particular file, and when I
select "group by file", I still need to hunt for my search results in an outline
tree. This can be frustrating since search results look very similar to internal
nodes in the tree.

When I disable the tree by selecting "flat layout", I lose the (useful) ability
to group my results by file. What I really want is a way to focus on the search
results for one file, but to see those results in a flat list.

I can see three ways of doing this:
1. Allow "flat layout" and "group by" to be enabled at the same time. In this
situation, the tree would always have a depth of 2. The top level would be
whatever I selected in "group by", and immediately below this would be the
search results.
2. Show the search as a split view. Show the current tree (minus the search
results) on the left, and show the search results in a flat list on the right.
The search results on the right would always be filtered according to the
selection on the left. If I want to see all the results in my file, I can just
click on the file without expanding the tree further.
3. Always show the search view as a flat list, but allow a "filter by selected
resource and children" option similar to the problems view.
Another alternative occured to me:

4. Show the tree as it is now. At any unexpanded branch, show (X matches), where
X is the sum of the matches in all of its children (currently, this is only done
for leaf nodes).

Rather than making double-click expand the branch, make double-click open the
first match in that subtree. In this way, I could simply choose not to expand
all the subtrees within my file or class, and use it as though it were a flat list.

This mainly a problem for files containing anonymous inner classes.
later
As of now 'LATER' and 'REMIND' resolutions are no longer supported.
Please reopen this bug if it is still valid for you.</WithStack>
    <WithOutStack>I am usually only interested in search results in a particular file, and when I
select "group by file", I still need to hunt for my search results in an outline
tree. This can be frustrating since search results look very similar to internal
nodes in the tree.

When I disable the tree by selecting "flat layout", I lose the (useful) ability
to group my results by file. What I really want is a way to focus on the search
results for one file, but to see those results in a flat list.

I can see three ways of doing this:
1. Allow "flat layout" and "group by" to be enabled at the same time. In this
situation, the tree would always have a depth of 2. The top level would be
whatever I selected in "group by", and immediately below this would be the
search results.
2. Show the search as a split view. Show the current tree (minus the search
results) on the left, and show the search results in a flat list on the right.
The search results on the right would always be filtered according to the
selection on the left. If I want to see all the results in my file, I can just
click on the file without expanding the tree further.
3. Always show the search view as a flat list, but allow a "filter by selected
resource and children" option similar to the problems view.
Another alternative occured to me:

4. Show the tree as it is now. At any unexpanded branch, show (X matches), where
X is the sum of the matches in all of its children (currently, this is only done
for leaf nodes).

Rather than making double-click expand the branch, make double-click open the
first match in that subtree. In this way, I could simply choose not to expand
all the subtrees within my file or class, and use it as though it were a flat list.

This mainly a problem for files containing anonymous inner classes.
later
As of now 'LATER' and 'REMIND' resolutions are no longer supported.
Please reopen this bug if it is still valid for you.</WithOutStack>
  </Bug>
  <Bug>
    <BugId amount="56677" />
    <CreationDate amount="2004-03-29 19:07:00 -0500" />
    <DupId amount="" />
    <classification amount="Eclipse" />
    <Product amount="Platform" />
    <component amount="Debug" />
    <Version amount="3.0" />
    <rep_platform amount="PC" />
    <op_sys amount="Linux-GTK" />
    <priority amount="P3" />
    <bug_severity amount="normal" />
    <Summery>AssertionFailed from LaunchConfigurationView</Summery>
    <Patches amount="0" />
    <Stacktraces amount="1">
      <Stacktrace timestamp="1437341104156">
        <Exception>org.eclipse.jface.util.Assert$AssertionFailedException</Exception>
        <Reason>null argument;</Reason>
        <Frames>
          <Frame depth="0">org.eclipse.jface.util.Assert.isNotNull(Assert.java:139)</Frame>
          <Frame depth="1">org.eclipse.jface.util.Assert.isNotNull(Assert.java:116)</Frame>
          <Frame depth="2">org.eclipse.jface.viewers.StructuredSelection.&lt;init&gt;(StructuredSelection.java:61)</Frame>
          <Frame depth="3">org.eclipse.debug.internal.ui.launchConfigurations.LaunchConfigurationView.launchConfigurationRemoved(LaunchConfigurationView.java:271)</Frame>
          <Frame depth="4">org.eclipse.debug.internal.core.LaunchManager$ConfigurationNotifier.run(LaunchManager.java:1477)</Frame>
          <Frame depth="5">org.eclipse.core.internal.runtime.InternalPlatform.run(InternalPlatform.java:610)</Frame>
          <Frame depth="6">org.eclipse.core.runtime.Platform.run(Platform.java:521)</Frame>
          <Frame depth="7">org.eclipse.debug.internal.core.LaunchManager$ConfigurationNotifier.notify(LaunchManager.java:1498)</Frame>
          <Frame depth="8">org.eclipse.debug.internal.core.LaunchManager.launchConfigurationDeleted(LaunchManager.java:729)</Frame>
          <Frame depth="9">org.eclipse.debug.internal.core.LaunchConfiguration.delete(LaunchConfiguration.java:317)</Frame>
          <Frame depth="10">org.eclipse.debug.internal.ui.launchConfigurations.DeleteLaunchConfigurationAction.performAction(DeleteLaunchConfigurationAction.java:65)</Frame>
          <Frame depth="11">org.eclipse.debug.internal.ui.launchConfigurations.AbstractLaunchConfigurationAction$1.run(AbstractLaunchConfigurationAction.java:103)</Frame>
          <Frame depth="12">org.eclipse.swt.custom.BusyIndicator.showWhile(BusyIndicator.java:84)</Frame>
          <Frame depth="13">org.eclipse.debug.internal.ui.launchConfigurations.AbstractLaunchConfigurationAction.run(AbstractLaunchConfigurationAction.java:106)</Frame>
          <Frame depth="14">org.eclipse.debug.ui.AbstractDebugView.handleKeyPressed(AbstractDebugView.java:709)</Frame>
          <Frame depth="15">org.eclipse.debug.internal.ui.launchConfigurations.LaunchConfigurationView.access$0(LaunchConfigurationView.java:1)</Frame>
          <Frame depth="16">org.eclipse.debug.internal.ui.launchConfigurations.LaunchConfigurationView$2.keyPressed(LaunchConfigurationView.java:297)</Frame>
          <Frame depth="17">org.eclipse.swt.widgets.TypedListener.handleEvent(TypedListener.java:121)</Frame>
          <Frame depth="18">org.eclipse.swt.widgets.EventTable.sendEvent(EventTable.java:82)</Frame>
          <Frame depth="19">org.eclipse.swt.widgets.Widget.sendEvent(Widget.java:939)</Frame>
          <Frame depth="20">org.eclipse.swt.widgets.Widget.sendEvent(Widget.java:963)</Frame>
          <Frame depth="21">org.eclipse.swt.widgets.Widget.sendEvent(Widget.java:948)</Frame>
          <Frame depth="22">org.eclipse.swt.widgets.Control.sendKeyEvent(Control.java:2239)</Frame>
          <Frame depth="23">org.eclipse.swt.widgets.Control.gtk_key_press_event(Control.java:1751)</Frame>
          <Frame depth="24">org.eclipse.swt.widgets.Composite.gtk_key_press_event(Composite.java:441)</Frame>
          <Frame depth="25">org.eclipse.swt.widgets.Tree.gtk_key_press_event(Tree.java:641)</Frame>
          <Frame depth="26">org.eclipse.swt.widgets.Widget.windowProc(Widget.java:1189)</Frame>
          <Frame depth="27">org.eclipse.swt.widgets.Display.windowProc(Display.java:2450)</Frame>
          <Frame depth="28">org.eclipse.swt.internal.gtk.OS.gtk_main_do_event(Native Method)</Frame>
          <Frame depth="29">org.eclipse.swt.widgets.Display.eventProc(Display.java:736)</Frame>
          <Frame depth="30">org.eclipse.swt.internal.gtk.OS.gtk_main_iteration(Native Method)</Frame>
          <Frame depth="31">org.eclipse.swt.widgets.Display.readAndDispatch(Display.java:1725)</Frame>
          <Frame depth="32">org.eclipse.jface.window.Window.runEventLoop(Window.java:670)</Frame>
          <Frame depth="33">org.eclipse.jface.window.Window.open(Window.java:650)</Frame>
          <Frame depth="34">org.eclipse.debug.internal.ui.launchConfigurations.LaunchConfigurationsDialog.open(LaunchConfigurationsDialog.java:440)</Frame>
          <Frame depth="35">org.eclipse.debug.ui.DebugUITools$1.run(DebugUITools.java:394)</Frame>
          <Frame depth="36">org.eclipse.swt.custom.BusyIndicator.showWhile(BusyIndicator.java:84)</Frame>
          <Frame depth="37">org.eclipse.debug.ui.DebugUITools.openLaunchConfigurationDialogOnGroup(DebugUITools.java:398)</Frame>
          <Frame depth="38">org.eclipse.debug.ui.DebugUITools.openLaunchConfigurationDialogOnGroup(DebugUITools.java:340)</Frame>
          <Frame depth="39">org.eclipse.debug.ui.actions.OpenLaunchDialogAction.run(OpenLaunchDialogAction.java:79)</Frame>
          <Frame depth="40">org.eclipse.jface.action.Action.runWithEvent(Action.java:881)</Frame>
          <Frame depth="41">org.eclipse.jface.action.ActionContributionItem.handleWidgetSelection(ActionContributionItem.java:550)</Frame>
          <Frame depth="42">org.eclipse.jface.action.ActionContributionItem.access$2(ActionContributionItem.java:502)</Frame>
          <Frame depth="43">org.eclipse.jface.action.ActionContributionItem$5.handleEvent(ActionContributionItem.java:435)</Frame>
          <Frame depth="44">org.eclipse.swt.widgets.EventTable.sendEvent(EventTable.java:82)</Frame>
          <Frame depth="45">org.eclipse.swt.widgets.Widget.sendEvent(Widget.java:939)</Frame>
          <Frame depth="46">org.eclipse.swt.widgets.Display.runDeferredEvents(Display.java:1953)</Frame>
          <Frame depth="47">org.eclipse.swt.widgets.Display.readAndDispatch(Display.java:1726)</Frame>
          <Frame depth="48">org.eclipse.ui.internal.Workbench.runEventLoop(Workbench.java:1558)</Frame>
          <Frame depth="49">org.eclipse.ui.internal.Workbench.runUI(Workbench.java:1532)</Frame>
          <Frame depth="50">org.eclipse.ui.internal.Workbench.createAndRunWorkbench(Workbench.java:257)</Frame>
          <Frame depth="51">org.eclipse.ui.PlatformUI.createAndRunWorkbench(PlatformUI.java:139)</Frame>
          <Frame depth="52">org.eclipse.ui.internal.ide.IDEApplication.run(IDEApplication.java:90)</Frame>
          <Frame depth="53">org.eclipse.core.internal.runtime.PlatformActivator$1.run(PlatformActivator.java:277)</Frame>
          <Frame depth="54">org.eclipse.core.runtime.adaptor.EclipseStarter.run(EclipseStarter.java:239)</Frame>
          <Frame depth="55">org.eclipse.core.runtime.adaptor.EclipseStarter.run(EclipseStarter.java:117)</Frame>
          <Frame depth="56">sun.reflect.NativeMethodAccessorImpl.invoke0(Native Method)</Frame>
          <Frame depth="57">sun.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:39)</Frame>
          <Frame depth="58">sun.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:25)</Frame>
          <Frame depth="59">java.lang.reflect.Method.invoke(Method.java:324)</Frame>
          <Frame depth="60">org.eclipse.core.launcher.Main.basicRun(Main.java:267)</Frame>
          <Frame depth="61">org.eclipse.core.launcher.Main.run(Main.java:692)</Frame>
          <Frame depth="62">org.eclipse.core.launcher.Main.main(Main.java:676)</Frame>
        </Frames>
      </Stacktrace>
    </Stacktraces>
    <SourceCodeRegions amount="0" />
    <Enumerations amount="0" />
    <bug_status amount="VERIFIED" />
    <resolution amount="FIXED" />
    <WithStack>I got the following NPE in my target while messing around with third-party
plugins (CDT):

org.eclipse.jface.util.Assert$AssertionFailedException: null argument;
at org.eclipse.jface.util.Assert.isNotNull(Assert.java:139)
at org.eclipse.jface.util.Assert.isNotNull(Assert.java:116)
at org.eclipse.jface.viewers.StructuredSelection.&lt;init&gt;(StructuredSelection.java:61)
at
org.eclipse.debug.internal.ui.launchConfigurations.LaunchConfigurationView.launchConfigurationRemoved(LaunchConfigurationView.java:271)
at
org.eclipse.debug.internal.core.LaunchManager$ConfigurationNotifier.run(LaunchManager.java:1477)
at org.eclipse.core.internal.runtime.InternalPlatform.run(InternalPlatform.java:610)
at org.eclipse.core.runtime.Platform.run(Platform.java:521)
at
org.eclipse.debug.internal.core.LaunchManager$ConfigurationNotifier.notify(LaunchManager.java:1498)
at
org.eclipse.debug.internal.core.LaunchManager.launchConfigurationDeleted(LaunchManager.java:729)
at
org.eclipse.debug.internal.core.LaunchConfiguration.delete(LaunchConfiguration.java:317)
at
org.eclipse.debug.internal.ui.launchConfigurations.DeleteLaunchConfigurationAction.performAction(DeleteLaunchConfigurationAction.java:65)
at
org.eclipse.debug.internal.ui.launchConfigurations.AbstractLaunchConfigurationAction$1.run(AbstractLaunchConfigurationAction.java:103)
at org.eclipse.swt.custom.BusyIndicator.showWhile(BusyIndicator.java:84)
at
org.eclipse.debug.internal.ui.launchConfigurations.AbstractLaunchConfigurationAction.run(AbstractLaunchConfigurationAction.java:106)
at
org.eclipse.debug.ui.AbstractDebugView.handleKeyPressed(AbstractDebugView.java:709)
at
org.eclipse.debug.internal.ui.launchConfigurations.LaunchConfigurationView.access$0(LaunchConfigurationView.java:1)
at
org.eclipse.debug.internal.ui.launchConfigurations.LaunchConfigurationView$2.keyPressed(LaunchConfigurationView.java:297)
at org.eclipse.swt.widgets.TypedListener.handleEvent(TypedListener.java:121)
at org.eclipse.swt.widgets.EventTable.sendEvent(EventTable.java:82)
at org.eclipse.swt.widgets.Widget.sendEvent(Widget.java:939)
at org.eclipse.swt.widgets.Widget.sendEvent(Widget.java:963)
at org.eclipse.swt.widgets.Widget.sendEvent(Widget.java:948)
at org.eclipse.swt.widgets.Control.sendKeyEvent(Control.java:2239)
at org.eclipse.swt.widgets.Control.gtk_key_press_event(Control.java:1751)
at org.eclipse.swt.widgets.Composite.gtk_key_press_event(Composite.java:441)
at org.eclipse.swt.widgets.Tree.gtk_key_press_event(Tree.java:641)
at org.eclipse.swt.widgets.Widget.windowProc(Widget.java:1189)
at org.eclipse.swt.widgets.Display.windowProc(Display.java:2450)
at org.eclipse.swt.internal.gtk.OS.gtk_main_do_event(Native Method)
at org.eclipse.swt.widgets.Display.eventProc(Display.java:736)
at org.eclipse.swt.internal.gtk.OS.gtk_main_iteration(Native Method)
at org.eclipse.swt.widgets.Display.readAndDispatch(Display.java:1725)
at org.eclipse.jface.window.Window.runEventLoop(Window.java:670)
at org.eclipse.jface.window.Window.open(Window.java:650)
at
org.eclipse.debug.internal.ui.launchConfigurations.LaunchConfigurationsDialog.open(LaunchConfigurationsDialog.java:440)
at org.eclipse.debug.ui.DebugUITools$1.run(DebugUITools.java:394)
at org.eclipse.swt.custom.BusyIndicator.showWhile(BusyIndicator.java:84)
at
org.eclipse.debug.ui.DebugUITools.openLaunchConfigurationDialogOnGroup(DebugUITools.java:398)
at
org.eclipse.debug.ui.DebugUITools.openLaunchConfigurationDialogOnGroup(DebugUITools.java:340)
at
org.eclipse.debug.ui.actions.OpenLaunchDialogAction.run(OpenLaunchDialogAction.java:79)
at org.eclipse.jface.action.Action.runWithEvent(Action.java:881)
at
org.eclipse.jface.action.ActionContributionItem.handleWidgetSelection(ActionContributionItem.java:550)
at
org.eclipse.jface.action.ActionContributionItem.access$2(ActionContributionItem.java:502)
at
org.eclipse.jface.action.ActionContributionItem$5.handleEvent(ActionContributionItem.java:435)
at org.eclipse.swt.widgets.EventTable.sendEvent(EventTable.java:82)
at org.eclipse.swt.widgets.Widget.sendEvent(Widget.java:939)
at org.eclipse.swt.widgets.Display.runDeferredEvents(Display.java:1953)
at org.eclipse.swt.widgets.Display.readAndDispatch(Display.java:1726)
at org.eclipse.ui.internal.Workbench.runEventLoop(Workbench.java:1558)
at org.eclipse.ui.internal.Workbench.runUI(Workbench.java:1532)
at org.eclipse.ui.internal.Workbench.createAndRunWorkbench(Workbench.java:257)
at org.eclipse.ui.PlatformUI.createAndRunWorkbench(PlatformUI.java:139)
at org.eclipse.ui.internal.ide.IDEApplication.run(IDEApplication.java:90)
at
org.eclipse.core.internal.runtime.PlatformActivator$1.run(PlatformActivator.java:277)
at org.eclipse.core.runtime.adaptor.EclipseStarter.run(EclipseStarter.java:239)
at org.eclipse.core.runtime.adaptor.EclipseStarter.run(EclipseStarter.java:117)
at sun.reflect.NativeMethodAccessorImpl.invoke0(Native Method)
at sun.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:39)
at
sun.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:25)
at java.lang.reflect.Method.invoke(Method.java:324)
at org.eclipse.core.launcher.Main.basicRun(Main.java:267)
at org.eclipse.core.launcher.Main.run(Main.java:692)
at org.eclipse.core.launcher.Main.main(Main.java:676)
Fixed in LaunchConfigurationView. Please verify, DarinS.
Verified code.</WithStack>
    <WithOutStack>I got the following NPE in my target while messing around with third-party
plugins (CDT):


Fixed in LaunchConfigurationView. Please verify, DarinS.
Verified code.</WithOutStack>
  </Bug>
  <Bug>
    <BugId amount="56678" />
    <CreationDate amount="2004-03-29 19:08:00 -0500" />
    <DupId amount="" />
    <classification amount="Eclipse" />
    <Product amount="JDT" />
    <component amount="Debug" />
    <Version amount="3.0" />
    <rep_platform amount="PC" />
    <op_sys amount="Windows 2000" />
    <priority amount="P2" />
    <bug_severity amount="normal" />
    <Summery>3M8-JUnit : run/debug configuration - Classpath-User Entries doesn't include all project's libraries</Summery>
    <Patches amount="0" />
    <Stacktraces amount="0" />
    <SourceCodeRegions amount="0" />
    <Enumerations amount="1">
      <Enumeration lines="31">
        <Lines>
          <Line>1.Create java project (with one silly Main.java with main()).</Line>
          <Line>2.In project's setting, create 10 user libraries and assign them to the</Line>
          <Line>project's classpath.</Line>
          <Line>3.Run the project.</Line>
          <Line />
          <Line>4.Go to the project's run configuration-&gt;Classpath, and under "User entries" -</Line>
          <Line>&gt; "TestProject", I expect to see all libraries assigned to this project in step</Line>
          <Line>2.</Line>
          <Line>But actually I only see one library.</Line>
          <Line />
          <Line>thansk for looking into this issue.</Line>
          <Line />
          <Line>nope. I'm still no able to reproduce. I guess I'm not doing exactly the same</Line>
          <Line>thing that you do.</Line>
          <Line>Can you provide a step by step description of how you create and configure the</Line>
          <Line>project ? thanks.</Line>
          <Line>Created attachment 9078</Line>
          <Line>project to recreate the problem</Line>
          <Line>Hmm, it's strange, the previous instruction should lead to the problem. I think</Line>
          <Line>I don't do anything special. Are you using exactly 3m8 or some later build?</Line>
          <Line>Maybe it was magically fixed already.</Line>
          <Line>I've attached zip file with project I use. You can try to import it and create</Line>
          <Line>a launch configuration to see if classpath are properly copied. (The only</Line>
          <Line>problem, that I have some trouble to import this project in my enviroment - CPU</Line>
          <Line>usage goes to 100%, I see message "building project" and after a couple of</Line>
          <Line>minutes I kill eclipse.)</Line>
          <Line>thanks</Line>
          <Line>I was using M8, but I was creating variables instead of user libraries. Too many</Line>
          <Line>ways to do the same thing :/</Line>
          <Line>Marking as 'works for me', it works fine with the code from HEAD.</Line>
          <Line>I filed bug 57115 for the import project problem.</Line>
        </Lines>
      </Enumeration>
    </Enumerations>
    <bug_status amount="RESOLVED" />
    <resolution amount="WORKSFORME" />
    <WithStack>Only first 4 classpath entries are copied from project classpath tab to the 
junit's run/debug configuration classpath tab.

To recreate : 
Create a project with 10 libraries.
Add junit test case.
Try to run it by selecting junit testcase in outline and go to run/junit.
If you project depends on all 10 librarias ClassNotFound exception is thrown. 
Or just go to 'run' configuration for this test case and check classpath-User 
Entries-YourProject. 
I expect to see all classpath entries I assigned to this project.
Actual result - only first 4 entries.
Move to JDT/Debug
The same for problem happens for other run/debug configurations, not only junit.
Luc, please investigate.
I can't reproduce the problem. I created a set of interdependant jars, I have no
problem to launch in run or debug mode any java apps or JUnit test using these jars.

Roman : Can you give more information about your configuration ? your classpath,
if the jars are external or internal jar ...
Can you provide a simple test case ?
I use "User Libraries", didn't test it with "jars". Please be sure that you are 
using "User Libraries" too.

Just tried it on different computer - have the same problem.
To recreate : 
1.Create java project (with one silly Main.java with main()).
2.In project's setting, create 10 user libraries and assign them to the 
project's classpath.
3.Run the project.

4.Go to the project's run configuration-&gt;Classpath, and under "User entries" -
&gt; "TestProject", I expect to see all libraries assigned to this project in step 
2.
But actually I only see one library.
 
thansk for looking into this issue.
 
nope. I'm still no able to reproduce. I guess I'm not doing exactly the same
thing that you do.
Can you provide a step by step description of how you create and configure the
project ? thanks.
Created attachment 9078
project to recreate the problem
Hmm, it's strange, the previous instruction should lead to the problem. I think 
I don't do anything special. Are you using exactly 3m8 or some later build? 
Maybe it was magically fixed already.
I've attached zip file with project I use. You can try to import it and create 
a launch configuration to see if classpath are properly copied. (The only 
problem, that I have some trouble to import this project in my enviroment - CPU 
usage goes to 100%, I see message "building project" and after a couple of 
minutes I kill eclipse.)
thanks
I was using M8, but I was creating variables instead of user libraries. Too many
ways to do the same thing :/
Marking as 'works for me', it works fine with the code from HEAD.
I filed bug 57115 for the import project problem.</WithStack>
    <WithOutStack>Only first 4 classpath entries are copied from project classpath tab to the 
junit's run/debug configuration classpath tab.

To recreate : 
Create a project with 10 libraries.
Add junit test case.
Try to run it by selecting junit testcase in outline and go to run/junit.
If you project depends on all 10 librarias ClassNotFound exception is thrown. 
Or just go to 'run' configuration for this test case and check classpath-User 
Entries-YourProject. 
I expect to see all classpath entries I assigned to this project.
Actual result - only first 4 entries.
Move to JDT/Debug
The same for problem happens for other run/debug configurations, not only junit.
Luc, please investigate.
I can't reproduce the problem. I created a set of interdependant jars, I have no
problem to launch in run or debug mode any java apps or JUnit test using these jars.

Roman : Can you give more information about your configuration ? your classpath,
if the jars are external or internal jar ...
Can you provide a simple test case ?
I use "User Libraries", didn't test it with "jars". Please be sure that you are 
using "User Libraries" too.

Just tried it on different computer - have the same problem.
To recreate : 
1.Create java project (with one silly Main.java with main()).
2.In project's setting, create 10 user libraries and assign them to the 
project's classpath.
3.Run the project.

4.Go to the project's run configuration-&gt;Classpath, and under "User entries" -
&gt; "TestProject", I expect to see all libraries assigned to this project in step 
2.
But actually I only see one library.
 
thansk for looking into this issue.
 
nope. I'm still no able to reproduce. I guess I'm not doing exactly the same
thing that you do.
Can you provide a step by step description of how you create and configure the
project ? thanks.
Created attachment 9078
project to recreate the problem
Hmm, it's strange, the previous instruction should lead to the problem. I think 
I don't do anything special. Are you using exactly 3m8 or some later build? 
Maybe it was magically fixed already.
I've attached zip file with project I use. You can try to import it and create 
a launch configuration to see if classpath are properly copied. (The only 
problem, that I have some trouble to import this project in my enviroment - CPU 
usage goes to 100%, I see message "building project" and after a couple of 
minutes I kill eclipse.)
thanks
I was using M8, but I was creating variables instead of user libraries. Too many
ways to do the same thing :/
Marking as 'works for me', it works fine with the code from HEAD.
I filed bug 57115 for the import project problem.</WithOutStack>
  </Bug>
  <Bug>
    <BugId amount="56679" />
    <CreationDate amount="2004-03-29 19:27:00 -0500" />
    <DupId amount="" />
    <classification amount="Eclipse" />
    <Product amount="Platform" />
    <component amount="SWT" />
    <Version amount="3.0" />
    <rep_platform amount="Macintosh" />
    <op_sys amount="Mac OS X - Carbon (unsup.)" />
    <priority amount="P3" />
    <bug_severity amount="normal" />
    <Summery>Right/Left Scroll Drawing Incorrect on Jump Scroll</Summery>
    <Patches amount="0" />
    <Stacktraces amount="0" />
    <SourceCodeRegions amount="0" />
    <Enumerations amount="1">
      <Enumeration lines="5">
        <Lines>
          <Line>1) Open a file with lines wider than fit in the editor window</Line>
          <Line>I was editing NLSMessages.properties in org.eclipse.jdt.internal.corext.refactoring.nls in the</Line>
          <Line>org.eclipse.jdt.ui project when I noticed the problem.</Line>
          <Line>2) Scroll all the way to the left by clicking in the background of the scroller near the incremental</Line>
          <Line>movement buttons</Line>
        </Lines>
      </Enumeration>
    </Enumerations>
    <bug_status amount="RESOLVED" />
    <resolution amount="WORKSFORME" />
    <WithStack>Happen on M8.

To reproduce:
1) Open a file with lines wider than fit in the editor window
         I was editing NLSMessages.properties in org.eclipse.jdt.internal.corext.refactoring.nls in the 
org.eclipse.jdt.ui project when I noticed the problem.
2) Scroll all the way to the left by clicking in the background of the scroller near the incremental 
movement buttons

Notice: The left side of the window does not have the text renderered/drawn. If you click all the way 
over to the right again the a large portion of the text does not draw.

I tried to reproduce with a Java file but it I could not make it happen in the Java editor.
FH and SSQ to investigate.  Is this a repeatable case for the "mystery McQ 
cheese"?
I cannot reproduce the problem following the steps above, but I have seen this problem before. 
Need to find a reproducible case.
I am now unable to reproduce it either. When I saw the bug I had just installed M8 (i.e. a fresh install) 
and had only checked out the o.e.jdt.ui project and opened a few files. Since then I have modified the 
borders of the Text Editor (i.e. set the print margin and changed the tab spacing).

Hope this helps.
I finally got this to reproduce (2.1.3 anyway).
If you click on a line of java code that is too long to display.
The click and drag over to the right it will start drawing strangely.

I will try to reproduce again on 3.0 M8 but hopefully this will give you something to go on.
Cannot reproduce in I20050315-1100</WithStack>
    <WithOutStack>Happen on M8.

To reproduce:
1) Open a file with lines wider than fit in the editor window
         I was editing NLSMessages.properties in org.eclipse.jdt.internal.corext.refactoring.nls in the 
org.eclipse.jdt.ui project when I noticed the problem.
2) Scroll all the way to the left by clicking in the background of the scroller near the incremental 
movement buttons

Notice: The left side of the window does not have the text renderered/drawn. If you click all the way 
over to the right again the a large portion of the text does not draw.

I tried to reproduce with a Java file but it I could not make it happen in the Java editor.
FH and SSQ to investigate.  Is this a repeatable case for the "mystery McQ 
cheese"?
I cannot reproduce the problem following the steps above, but I have seen this problem before. 
Need to find a reproducible case.
I am now unable to reproduce it either. When I saw the bug I had just installed M8 (i.e. a fresh install) 
and had only checked out the o.e.jdt.ui project and opened a few files. Since then I have modified the 
borders of the Text Editor (i.e. set the print margin and changed the tab spacing).

Hope this helps.
I finally got this to reproduce (2.1.3 anyway).
If you click on a line of java code that is too long to display.
The click and drag over to the right it will start drawing strangely.

I will try to reproduce again on 3.0 M8 but hopefully this will give you something to go on.
Cannot reproduce in I20050315-1100</WithOutStack>
  </Bug>
  <Bug>
    <BugId amount="56680" />
    <CreationDate amount="2004-03-29 19:50:00 -0500" />
    <DupId amount="" />
    <classification amount="RT" />
    <Product amount="Equinox" />
    <component amount="Incubator" />
    <Version amount="unspecified" />
    <rep_platform amount="All" />
    <op_sys amount="All" />
    <priority amount="P3" />
    <bug_severity amount="normal" />
    <Summery>org.eclipse.osgi.* package names</Summery>
    <Patches amount="0" />
    <Stacktraces amount="0" />
    <SourceCodeRegions amount="0" />
    <Enumerations amount="0" />
    <bug_status amount="RESOLVED" />
    <resolution amount="FIXED" />
    <WithStack>Build M8

The packages in the org.eclipse.osgi.* plug-ins should follow eclipse standard 
naming conventions ( http://dev.eclipse.org/naming.html ). In particular, all 
API must be in recognizable API packages, and all non-API packages should have 
names of the form org.eclipse.osgi.internal.* (i.e., with "internal" 
immediately following "osgi").

(This is a must-fix for M9.)
Current list of package with API names (all from org.eclipse.osgi plug-in):
org.eclipse.osgi.framework
org.eclipse.osgi.framework.adaptor
org.eclipse.osgi.framework.adaptor.core
org.eclipse.osgi.framework.log
org.eclipse.osgi.framework.util
org.eclipse.osgi.framework.console
org.eclipse.osgi.framework.debug
org.eclipse.osgi.framework.eventmgr
org.eclipse.osgi.framework.launcher
org.eclipse.osgi.framework.msg
org.eclipse.osgi.framework.security.action
org.eclipse.osgi.framework.stats
org.eclipse.osgi.framework.tracker
org.eclipse.osgi.service.debug
org.eclipse.osgi.service.datalocation
org.eclipse.osgi.service.environment
org.eclipse.osgi.service.localization
org.eclipse.osgi.service.pluginconversion
org.eclipse.osgi.service.runnable
org.eclipse.osgi.service.urlconversion
org.eclipse.osgi.service.resolver
org.eclipse.osgi.service.packageadmin
org.eclipse.osgi.service.permissionadmin
org.eclipse.osgi.service.startlevel
org.eclipse.osgi.service.url
org.eclipse.osgi.util
org.eclipse.core.dependencies
org.eclipse.core.runtime.adaptor
org.eclipse.core.runtime.adaptor.testsupport


It has been determined that org.eclipse.osgi.* does not contain any *Eclipse* 
API that requires doc.  Most of it is used only by very specific people like 
PDE or Update.  The main issue is that the OSGi layer is usable on its own and 
one man's (i.e., Eclipse's) implementation is another's (ie., OSGi's) API.  
Inserting "internal" etc into the package names would not work here.

Instead, we are just not going to include/generate Javadoc for these packages.  
We will include Javadoc for the org.osgi packages however.

The only possible exception is Location which we point to in a couple of 
deprecation notices.  This Location type is not being proposed back to OSGi and 
is very much an "Eclipse-ism".

There has been some discussion of renaming the package (from 
org.eclipse.osgi.service.datalocation to org.eclipse.core.runtime.datalocation 
or some such).  We could then generate the Javadoc for this package.

It is unclear if the package actually needs to be renamed.  It would be cleaner 
but given the potential disruption to current users it may be better just to 
keep it as is.

Need to confirm direction with Jeem and the rest of the team. 
*** Bug 56682 has been marked as a duplicate of this bug. ***
The Location API has been documented.  While it would perhaps be good to rename 
the package, there is not enough gain for the pain.

Otherwise all the required Java doc is done.</WithStack>
    <WithOutStack>Build M8

The packages in the org.eclipse.osgi.* plug-ins should follow eclipse standard 
naming conventions ( http://dev.eclipse.org/naming.html ). In particular, all 
API must be in recognizable API packages, and all non-API packages should have 
names of the form org.eclipse.osgi.internal.* (i.e., with "internal" 
immediately following "osgi").

(This is a must-fix for M9.)
Current list of package with API names (all from org.eclipse.osgi plug-in):
org.eclipse.osgi.framework
org.eclipse.osgi.framework.adaptor
org.eclipse.osgi.framework.adaptor.core
org.eclipse.osgi.framework.log
org.eclipse.osgi.framework.util
org.eclipse.osgi.framework.console
org.eclipse.osgi.framework.debug
org.eclipse.osgi.framework.eventmgr
org.eclipse.osgi.framework.launcher
org.eclipse.osgi.framework.msg
org.eclipse.osgi.framework.security.action
org.eclipse.osgi.framework.stats
org.eclipse.osgi.framework.tracker
org.eclipse.osgi.service.debug
org.eclipse.osgi.service.datalocation
org.eclipse.osgi.service.environment
org.eclipse.osgi.service.localization
org.eclipse.osgi.service.pluginconversion
org.eclipse.osgi.service.runnable
org.eclipse.osgi.service.urlconversion
org.eclipse.osgi.service.resolver
org.eclipse.osgi.service.packageadmin
org.eclipse.osgi.service.permissionadmin
org.eclipse.osgi.service.startlevel
org.eclipse.osgi.service.url
org.eclipse.osgi.util
org.eclipse.core.dependencies
org.eclipse.core.runtime.adaptor
org.eclipse.core.runtime.adaptor.testsupport


It has been determined that org.eclipse.osgi.* does not contain any *Eclipse* 
API that requires doc.  Most of it is used only by very specific people like 
PDE or Update.  The main issue is that the OSGi layer is usable on its own and 
one man's (i.e., Eclipse's) implementation is another's (ie., OSGi's) API.  
Inserting "internal" etc into the package names would not work here.

Instead, we are just not going to include/generate Javadoc for these packages.  
We will include Javadoc for the org.osgi packages however.

The only possible exception is Location which we point to in a couple of 
deprecation notices.  This Location type is not being proposed back to OSGi and 
is very much an "Eclipse-ism".

There has been some discussion of renaming the package (from 
org.eclipse.osgi.service.datalocation to org.eclipse.core.runtime.datalocation 
or some such).  We could then generate the Javadoc for this package.

It is unclear if the package actually needs to be renamed.  It would be cleaner 
but given the potential disruption to current users it may be better just to 
keep it as is.

Need to confirm direction with Jeem and the rest of the team. 
*** Bug 56682 has been marked as a duplicate of this bug. ***
The Location API has been documented.  While it would perhaps be good to rename 
the package, there is not enough gain for the pain.

Otherwise all the required Java doc is done.</WithOutStack>
  </Bug>
  <Bug>
    <BugId amount="56681" />
    <CreationDate amount="2004-03-29 19:50:00 -0500" />
    <DupId amount="" />
    <classification amount="Tools" />
    <Product amount="CDT" />
    <component amount="cdt-debug" />
    <Version amount="2.0" />
    <rep_platform amount="PC" />
    <op_sys amount="Linux-GTK" />
    <priority amount="P3" />
    <bug_severity amount="normal" />
    <Summery>Can't get started with debugging</Summery>
    <Patches amount="0" />
    <Stacktraces amount="0" />
    <SourceCodeRegions amount="0" />
    <Enumerations amount="0" />
    <bug_status amount="RESOLVED" />
    <resolution amount="FIXED" />
    <WithStack>With the latest code from HEAD, whenever I create a new "C/C++ Local" launch config, the 
Debugger tab comes up with the error "No debugger available." There are no debuggers listed on 
the pulldown in the Debugger tab. I do have GDB installed on my machine, though, and I've 
successfully launched the binaries in my project with it.

I'm trying to get CDT working with the latest and greatest Eclipse in order to test new platform 
behavior that I'm adding to the debugger. The newest 2.0 milestone build doesn't work with the 
latest Eclipse, so I need the code from HEAD. I'm not familiar with CDT, so it's entirely possible 
that I've just got the wrong set of projects checked out. Here's what I've got:

org.eclipse.cdt.linux.gtk
org.eclipse.cdt.core
org.eclipse.cdt.core.linux
org.eclipse.cdt.debug.core
org.eclipse.cdt.debug.mi.core
org.eclipse.cdt.debug.mi.ui
org.eclipse.cdt.debug.ui
org.eclipse.cdt.launch
org.eclipse.cdt.make.core
org.eclipse.cdt.make.ui
org.eclipse.cdt.managedbuilder.core
org.eclipse.cdt.managedbuilder.ui
org.eclipse.cdt.ui
Dave Inglis is going to look at this.
But the current HEAD version of CDT doesn't work properly with the latest 
platform features. We are simply unable to catch up with the platform 
milestones.
Understandable that you're not necessarily up to date with code that was released a couple days 
ago. :-) But I'm on the platform debug team and I can't think of any changes we've made that 
would cause this failure in your code.
I caught up with the CDT HEAD stream this morning and the problem is gone. Looks like 
someone fixed it.
Since it seems to work.</WithStack>
    <WithOutStack>With the latest code from HEAD, whenever I create a new "C/C++ Local" launch config, the 
Debugger tab comes up with the error "No debugger available." There are no debuggers listed on 
the pulldown in the Debugger tab. I do have GDB installed on my machine, though, and I've 
successfully launched the binaries in my project with it.

I'm trying to get CDT working with the latest and greatest Eclipse in order to test new platform 
behavior that I'm adding to the debugger. The newest 2.0 milestone build doesn't work with the 
latest Eclipse, so I need the code from HEAD. I'm not familiar with CDT, so it's entirely possible 
that I've just got the wrong set of projects checked out. Here's what I've got:

org.eclipse.cdt.linux.gtk
org.eclipse.cdt.core
org.eclipse.cdt.core.linux
org.eclipse.cdt.debug.core
org.eclipse.cdt.debug.mi.core
org.eclipse.cdt.debug.mi.ui
org.eclipse.cdt.debug.ui
org.eclipse.cdt.launch
org.eclipse.cdt.make.core
org.eclipse.cdt.make.ui
org.eclipse.cdt.managedbuilder.core
org.eclipse.cdt.managedbuilder.ui
org.eclipse.cdt.ui
Dave Inglis is going to look at this.
But the current HEAD version of CDT doesn't work properly with the latest 
platform features. We are simply unable to catch up with the platform 
milestones.
Understandable that you're not necessarily up to date with code that was released a couple days 
ago. :-) But I'm on the platform debug team and I can't think of any changes we've made that 
would cause this failure in your code.
I caught up with the CDT HEAD stream this morning and the problem is gone. Looks like 
someone fixed it.
Since it seems to work.</WithOutStack>
  </Bug>
  <Bug>
    <BugId amount="56682" />
    <CreationDate amount="2004-03-29 19:55:00 -0500" />
    <DupId amount="56680" />
    <classification amount="RT" />
    <Product amount="Equinox" />
    <component amount="Incubator" />
    <Version amount="unspecified" />
    <rep_platform amount="All" />
    <op_sys amount="All" />
    <priority amount="P3" />
    <bug_severity amount="major" />
    <Summery>org.eclipse.osgi.* API elements need API specs</Summery>
    <Patches amount="0" />
    <Stacktraces amount="0" />
    <SourceCodeRegions amount="0" />
    <Enumerations amount="0" />
    <bug_status amount="RESOLVED" />
    <resolution amount="DUPLICATE" />
    <WithStack>Build M8

The API packages of the org.eclipse.osgi.* plug-ins require Javadoc specs for 
all API elements, and all classes and interfaces should be tagged "@since 3.0".

(This is a must-fix for M9.)
Given the direction in bug 56680, closing this as a duplicate.

*** This bug has been marked as a duplicate of 56680 ***</WithStack>
    <WithOutStack>Build M8

The API packages of the org.eclipse.osgi.* plug-ins require Javadoc specs for 
all API elements, and all classes and interfaces should be tagged "@since 3.0".

(This is a must-fix for M9.)
Given the direction in bug 56680, closing this as a duplicate.

*** This bug has been marked as a duplicate of 56680 ***</WithOutStack>
  </Bug>
  <Bug>
    <BugId amount="56683" />
    <CreationDate amount="2004-03-29 20:10:00 -0500" />
    <DupId amount="" />
    <classification amount="Eclipse" />
    <Product amount="Platform" />
    <component amount="CVS" />
    <Version amount="3.0" />
    <rep_platform amount="All" />
    <op_sys amount="All" />
    <priority amount="P3" />
    <bug_severity amount="normal" />
    <Summery>[Doc] core CVS extension point names</Summery>
    <Patches amount="0" />
    <Stacktraces amount="0" />
    <SourceCodeRegions amount="0" />
    <Enumerations amount="1">
      <Enumeration lines="2">
        <Lines>
          <Line>- camel-case is used for ext point names</Line>
          <Line>- ergo, "connectionMethods" and "fileModificationValidator"</Line>
        </Lines>
      </Enumeration>
    </Enumerations>
    <bug_status amount="VERIFIED" />
    <resolution amount="FIXED" />
    <WithStack>Build M8

org.eclipse.team.core.cvs.authenticator
- should be "authenticators" if it makes sense for more than one party to 
contribute to this extension point

org.eclipse.team.core.cvs.connectionmethods
org.eclipse.team.core.cvs.filemodificationvalidator
- camel-case is used for ext point names
- ergo, "connectionMethods" and "fileModificationValidator"

(Also, all extension points need schemas - all the team.core.cvs ones are 
missing theirs.)
These extension points are internal and thus the lack of schema files describing
them.
What I see other teams doing is giving them a schema/~.mxsd file and 
documenting it as an internal extension point. We do not generate extension 
point doc for .mxsd files.


Actually the org.eclipse.team.core.cvs.authenticator extension point is for a 
single authenticator that is provided by the CVS UI plugin so the name is 
correct.

As for the schemas, why are they required if they are not API. That is, 
everything seems to be working now. Is there new funtionality coming down the 
pipe that will break us if we don't have the schemas?
It all internal extension points had schemas and were documented as 
being "internal", it would settle the question of whether or not the extension 
point was internal vs. API with a missing schema. So having a trivial .mxsd 
schema would help document the state of things, and save me from asking you 
this question ever again&lt;g&gt;.
Good. I just wanted to determine the severity. It looks like this can be done 
near the end of 3.0 as it will have little impact.
All extension point schemas should be .exsd (not .mxsd as I stated in comment 
#2).
Fixed
The doc for connectionMethods should clearly state that it is internal as well.

Done</WithStack>
    <WithOutStack>Build M8

org.eclipse.team.core.cvs.authenticator
- should be "authenticators" if it makes sense for more than one party to 
contribute to this extension point

org.eclipse.team.core.cvs.connectionmethods
org.eclipse.team.core.cvs.filemodificationvalidator
- camel-case is used for ext point names
- ergo, "connectionMethods" and "fileModificationValidator"

(Also, all extension points need schemas - all the team.core.cvs ones are 
missing theirs.)
These extension points are internal and thus the lack of schema files describing
them.
What I see other teams doing is giving them a schema/~.mxsd file and 
documenting it as an internal extension point. We do not generate extension 
point doc for .mxsd files.


Actually the org.eclipse.team.core.cvs.authenticator extension point is for a 
single authenticator that is provided by the CVS UI plugin so the name is 
correct.

As for the schemas, why are they required if they are not API. That is, 
everything seems to be working now. Is there new funtionality coming down the 
pipe that will break us if we don't have the schemas?
It all internal extension points had schemas and were documented as 
being "internal", it would settle the question of whether or not the extension 
point was internal vs. API with a missing schema. So having a trivial .mxsd 
schema would help document the state of things, and save me from asking you 
this question ever again&lt;g&gt;.
Good. I just wanted to determine the severity. It looks like this can be done 
near the end of 3.0 as it will have little impact.
All extension point schemas should be .exsd (not .mxsd as I stated in comment 
#2).
Fixed
The doc for connectionMethods should clearly state that it is internal as well.

Done</WithOutStack>
  </Bug>
  <Bug>
    <BugId amount="56684" />
    <CreationDate amount="2004-03-29 20:13:00 -0500" />
    <DupId amount="" />
    <classification amount="Eclipse" />
    <Product amount="Platform" />
    <component amount="Ant" />
    <Version amount="3.0" />
    <rep_platform amount="PC" />
    <op_sys amount="All" />
    <priority amount="P3" />
    <bug_severity amount="enhancement" />
    <Summery>Prompt before re-resolving editors</Summery>
    <Patches amount="0" />
    <Stacktraces amount="0" />
    <SourceCodeRegions amount="0" />
    <Enumerations amount="0" />
    <bug_status amount="RESOLVED" />
    <resolution amount="WONTFIX" />
    <WithStack>Bug 56293 introduced a new behavior whereby open editors will be "re-resolved" when the Ant 
Runtime preferences are changed. Because this can take real time, we should pop up a dialog 
similar to the one that's shown when you switch your installed JRE. Something like:  "The Ant 
runtime settings have changed. All editors must be resolved to make the changes effective. 
Resolve all open Ant editors now?"

If the user selects Yes, we should do what we do today. If they choose No, the editor should 
update for the changes on the next edit.
Deferred to post 3.0
Similar problem when changing the problem preferences.
As of now 'LATER' and 'REMIND' resolutions are no longer supported.
Please reopen this bug if it is still valid for you.</WithStack>
    <WithOutStack>Bug 56293 introduced a new behavior whereby open editors will be "re-resolved" when the Ant 
Runtime preferences are changed. Because this can take real time, we should pop up a dialog 
similar to the one that's shown when you switch your installed JRE. Something like:  "The Ant 
runtime settings have changed. All editors must be resolved to make the changes effective. 
Resolve all open Ant editors now?"

If the user selects Yes, we should do what we do today. If they choose No, the editor should 
update for the changes on the next edit.
Deferred to post 3.0
Similar problem when changing the problem preferences.
As of now 'LATER' and 'REMIND' resolutions are no longer supported.
Please reopen this bug if it is still valid for you.</WithOutStack>
  </Bug>
  <Bug>
    <BugId amount="56685" />
    <CreationDate amount="2004-03-29 20:34:00 -0500" />
    <DupId amount="" />
    <classification amount="Eclipse" />
    <Product amount="Platform" />
    <component amount="UI" />
    <Version amount="3.0" />
    <rep_platform amount="PC" />
    <op_sys amount="Windows XP" />
    <priority amount="P3" />
    <bug_severity amount="normal" />
    <Summery>[Intro] "Introduction" action should not appear if there is not valid intro product binding</Summery>
    <Patches amount="0" />
    <Stacktraces amount="0" />
    <SourceCodeRegions amount="0" />
    <Enumerations amount="1">
      <Enumeration lines="7">
        <Lines>
          <Line>1) edit platform plugin.xml to change the productId in the introProductBinding:</Line>
          <Line>&lt;introProductBinding</Line>
          <Line>productId="org.eclipse.platformXXX"</Line>
          <Line>introId="org.eclipse.platform.intro"/&gt;</Line>
          <Line />
          <Line>2) save, run platform.</Line>
          <Line>3) Help -&gt; Introduction still apears.</Line>
        </Lines>
      </Enumeration>
    </Enumerations>
    <bug_status amount="CLOSED" />
    <resolution amount="FIXED" />
    <WithStack>Build id: 200403261517
0326 Integration build. 

Steps to reproduce:
1) edit platform plugin.xml to change the productId in the introProductBinding:
&lt;introProductBinding 
      		productId="org.eclipse.platformXXX"
      		introId="org.eclipse.platform.intro"/&gt;

2) save, run platform.
3) Help -&gt; Introduction still apears.

Only the old Welcome should appear.
This should've been fixed yesterday as a consequence of the lifecycle changes I
was working on.
Confirmed, this went in yesterday and should be in todays IBuild.
Verified in 200405180816
Closing to keep a tidy house.  Pardon the spam.</WithStack>
    <WithOutStack>Build id: 200403261517
0326 Integration build. 

Steps to reproduce:
1) edit platform plugin.xml to change the productId in the introProductBinding:
&lt;introProductBinding 
      		productId="org.eclipse.platformXXX"
      		introId="org.eclipse.platform.intro"/&gt;

2) save, run platform.
3) Help -&gt; Introduction still apears.

Only the old Welcome should appear.
This should've been fixed yesterday as a consequence of the lifecycle changes I
was working on.
Confirmed, this went in yesterday and should be in todays IBuild.
Verified in 200405180816
Closing to keep a tidy house.  Pardon the spam.</WithOutStack>
  </Bug>
  <Bug>
    <BugId amount="56686" />
    <CreationDate amount="2004-03-29 20:48:00 -0500" />
    <DupId amount="" />
    <classification amount="Eclipse" />
    <Product amount="Platform" />
    <component amount="Update  (deprecated - use RT&gt;Equinox&gt;p2)" />
    <Version amount="3.0" />
    <rep_platform amount="All" />
    <op_sys amount="All" />
    <priority amount="P3" />
    <bug_severity amount="normal" />
    <Summery>org.eclipse.update.ui.forms plug-in should be deleted</Summery>
    <Patches amount="0" />
    <Stacktraces amount="0" />
    <SourceCodeRegions amount="0" />
    <Enumerations amount="0" />
    <bug_status amount="RESOLVED" />
    <resolution amount="FIXED" />
    <WithStack>Build M8

Now that org.eclipse.ui.forms exists as real API (and org.eclipse.update.ui is 
using it), the org.eclipse.update.ui.forms plug-in should be deleted (this 
plug-in was never considered API, and we have never generated or published 
Javadoc for it).
Dejan, is PDE still dependent on the old forms code?
Yes. PDE is slowly moving to the new one, but we are not even sure we will be 
able to completely move from it for 3.0.
With schema, feature and site editors still using it, it is unlikely we will 
have enough time in 3.0 to detach ourselves from it.
Since it's not considered API, this is just a matter of the PDE implementation 
hanging on to more internal junk than absolutely necessary. But it does make 
us look disorganized when we introduce new API and don't get around to 
rebasing our code on it (especially in this case, where there is a direct 
relationship between the old internal package and the new API package).
All PDE editors have been ported to Eclipse Forms. I beleive we are on track 
to delete this plug-in by M9.
That's good news. Are there still other uses in the SDK? We should remove the 
plug-in from the build as soon as possible, ideally in a nightly build first 
so that we have proof that everyone is off.
Using PDE Search yields only org.eclipse.pde.ui as a plug-in with a dependency 
on org.eclipse.update.ui.forms. We plan to switch to the new editors for the 
next integration build if possible. Soon after the I build we will remove the 
plug-in.
I suggest you give fair warning on eclipse-dev and pde-dev and then delete the 
old plug-in concurrently with switching to new editors.
Build I20040420

org.eclipse.pde.ui plug-in still has a dependency on it:
      &lt;import plugin="org.eclipse.update.ui.forms"/&gt;
Wassim, Please remove as soon as feasible, and annotate this PR so that we can 
complete the removal of this plug-in from platform feature.
The current plan is to release the new manifest editor on Tuesday, either for 
the I-build or right after it.  At that time, update.ui.forms can be dropped 
like a bad habit.
done this morning and released for the I build tomorrow</WithStack>
    <WithOutStack>Build M8

Now that org.eclipse.ui.forms exists as real API (and org.eclipse.update.ui is 
using it), the org.eclipse.update.ui.forms plug-in should be deleted (this 
plug-in was never considered API, and we have never generated or published 
Javadoc for it).
Dejan, is PDE still dependent on the old forms code?
Yes. PDE is slowly moving to the new one, but we are not even sure we will be 
able to completely move from it for 3.0.
With schema, feature and site editors still using it, it is unlikely we will 
have enough time in 3.0 to detach ourselves from it.
Since it's not considered API, this is just a matter of the PDE implementation 
hanging on to more internal junk than absolutely necessary. But it does make 
us look disorganized when we introduce new API and don't get around to 
rebasing our code on it (especially in this case, where there is a direct 
relationship between the old internal package and the new API package).
All PDE editors have been ported to Eclipse Forms. I beleive we are on track 
to delete this plug-in by M9.
That's good news. Are there still other uses in the SDK? We should remove the 
plug-in from the build as soon as possible, ideally in a nightly build first 
so that we have proof that everyone is off.
Using PDE Search yields only org.eclipse.pde.ui as a plug-in with a dependency 
on org.eclipse.update.ui.forms. We plan to switch to the new editors for the 
next integration build if possible. Soon after the I build we will remove the 
plug-in.
I suggest you give fair warning on eclipse-dev and pde-dev and then delete the 
old plug-in concurrently with switching to new editors.
Build I20040420

org.eclipse.pde.ui plug-in still has a dependency on it:
      &lt;import plugin="org.eclipse.update.ui.forms"/&gt;
Wassim, Please remove as soon as feasible, and annotate this PR so that we can 
complete the removal of this plug-in from platform feature.
The current plan is to release the new manifest editor on Tuesday, either for 
the I-build or right after it.  At that time, update.ui.forms can be dropped 
like a bad habit.
done this morning and released for the I build tomorrow</WithOutStack>
  </Bug>
  <Bug>
    <BugId amount="56687" />
    <CreationDate amount="2004-03-29 21:21:00 -0500" />
    <DupId amount="" />
    <classification amount="Eclipse" />
    <Product amount="Platform" />
    <component amount="User Assistance" />
    <Version amount="3.0" />
    <rep_platform amount="PC" />
    <op_sys amount="Windows XP" />
    <priority amount="P3" />
    <bug_severity amount="enhancement" />
    <Summery>Add ability to suppress primary tocs</Summery>
    <Patches amount="0" />
    <Stacktraces amount="0" />
    <SourceCodeRegions amount="0" />
    <Enumerations amount="0" />
    <bug_status amount="RESOLVED" />
    <resolution amount="FIXED" />
    <WithStack>Right now, you can bury primary tocs within other tocs (by linking to them), 
but not suppress them altogether. It would be very useful if primary tocs 
could be suppressed so that they don't show up at all in help.

It's not unusual for tools to be developed on Eclipse, and, as they're being 
developed, to continually refresh their Eclipse base from eclipse.org (as it 
is being developed). Currently, if a tool producer does not want to include 
the base documentation at all (Workbench User Guide, etc.), it would need to 
remove or disable the plug-in that provides this help. This makes the above 
development scenario more complicated than it needs to be.
How is this different for tools developed on eclipse that don't want to ship 
all the plugins that come with eclipse?
I'd say this requirement is not help specific, and I think the RCP (rich 
client platform) is meant for exactly that: start with a minimal set of 
plugins and then selectively pick up what is needed.
There are some partial solutions to not having to the removal, one being the 
current work on activities (which behave more like roles).
I'll let Konrad add his thoughts on this, but I think it is not worth it for 
the help component to provide this generic function that is needed elsewhere 
as well.
It is not valid to assume that products can have control/choice over all the 
plugins they ship (everybody can't build on RCP).   When you build on top of 
another eclipse-based product, there is typically a support contract that 
forbids you from modifying the image you are building on.

So I think Jennifer's point is valid...that there should be a programmatic  
way of disabling help books.   In Debug-land, a related issue has been 
addressed with the numerous views available in the Debug Perspective.   The 
solution there involves Contexts.   The Eclipse Debug support provides an 
extension point where Debug Providers can essentially choose which views they 
want to show/hide while the user is making use of their debug function.

I also agree with your point however. that this issue of a plugin customizing 
existing function rather than just extending it, is definitely not Help-System 
Specific.  In fact, I think that correct conceptual model is to treat plugins 
as extenders instead of modifiers, or else you get into some fairly murky 
situations, but I think a case could be made for making the disabling/hiding 
of Help a special case.  I think that giving Products the ability to present 
(at least initially, out-of-the-box) a stream-lined subset of the help is a 
key aspect of Usability/Branding.

Perhaps Activities could help out here, but I think there would need to be 
some guidance given on how folks would make use of Activities to this end.

Thanks

- Jeff
Jeff, thanks for the clarification. 
Jeniffer, is there something inherently wrong with the eclipse docs that can't 
be fixed by changing the tocs, content, etc. that they need to be completely 
removed?

I've seen some discussions on being able to manage the extensions, so a 
product could , theoretically, decide what extensions to pick up, out of all 
contributions by plugins. Disabling some help books (which are extensions to 
the org.eclipse.help.toc extension point) becomes straightforward.

As far as I remember, this was not something for the 3.0 stream. If you can 
leave with the filtering provided by activities (which is really a 
progressively disclosure mechanism), then the work involved is trivial.
I was using the Eclipse base docs only as an example - as Jeff points out, I 
could be building on top of an Eclipse-based product and want to suppress 
primary tocs that they've provided. This is about building a toolset on top of 
Eclipse or an Eclipse-based product, and suppressing documentation that does 
not apply to the toolset (I'll argue that non-pertinent documentation 
(especially when it's at the top level of the help contents frame) will muddle 
the user experience - complicate matters).

I'm afraid I don't know enough about activities yet - I will look at this now. 
I do agree that filtering help out, by activity, is a reasonable partial-
solution. The only issue that I would have with this is the fact that the user 
would need to become involved in getting the right help to display. Instead, I 
would want the product to have a way of displaying its help by default 
(yes, 'its help' implies that other help could have been filtered out).

Just to be clear, I never *wanted* to disable plug-ins or not ship things - I 
was suggesting this as the only option that we currently have. If anything, I'd 
still like to be able to link to the content or individual topics of these plug-
ins through my own tocs (ie. I want these plug-ins to remain enabled!).

Maybe I don't 100% agree with the help-system-specifics of all of this. Are 
there not many Eclipse UI elements that can be turned off by preferences - and 
this can be done programmatically by other contributing plug-ins? With these 
help books, we have no such option. I'm not saying that everything else about 
the workbench is customizable - but I do think that the help system could 
benefit by being more customizable.
In WSWB, 21 books show up in the help system. Of these, my customers may be 
interested in 5 of them. Some of the books contain information that contradicts 
the new information provided in the product for related components.

We can bury the books, but the information would still appear in searches and 
this is an awful lot of information to 'bury' when we're trying to make the 
help easier to use.

It would really help to have a feature that allows us to select which books are 
inherited from WSWB. We have no control over this and the issue has caused no 
end of headaches in past releases.



We are investigating using Infocenter for our online help docs.  One big issue 
we're running into is how to organize and limit the tocs that the user sees.  
This is a huge difficulty for us because we may have hundreds of books for 
dozens of products (not to mention different versions).  It seems to be overkill 
to create multiple infocenters as a way to organize the list of topics that are 
displayed (I think we would run out of port numbers fairly quickly).

The preferences.ini in org.eclipse.help has a baseTOCS property to allow 
ordering of the primary TOCs.  The problem is that there's only one 
preferences.ini per infocenter or standalone help.  One solution would be to 
allow multiple preferences files for the baseTOCs that will override the main 
one in preferences.ini.  I would like to be able to tell Infocenter to look at 
another preferences file through a URL, e.g. 
http://myinfocenter/?baseTOC=productABCversion1_1.  We can then put *all* the 
books into one Infocenter, then create baseTOC files to organize the books into 
meaningful collections.  The user will only see the tocs defined in the baseTOC. 
 Ideally, this would also limit search to only those toc nodes in the baseTOC 
file.

Activities added in 3.0, that can be used to hide books.

Controlling books by product preferences of command line (in the infocenter) - 
to investigate post 3.0.
(In reply to comment #7)
&gt; Activities added in 3.0, that can be used to hide books.
&gt; Controlling books by product preferences of command line (in the infocenter) -
 
&gt; to investigate post 3.0.

By "command line", does that mean that we would have to open multiple 
infocenters, one for each product collection?  This could become very 
unmanageable quickly if there are many products.  Instead, could the product 
preference be passed in the URL query string?  This way, there would only be 
one infocenter for all the books, but the user sees only a subset depending on 
the parameters passed in the URL.


Yes.  That is what I mean.  There should be a way for a product to get rid of 
unwanted book provided by a base product it is building on top.  I believe 
this is what this bug is about.

Having many sets of TOCs available from the set infocenter instance is a 
different problem, probably better described as multiple infocenters in one, 
or mutliple active roles.  I see no way of doing it for 3.1.
Fixed.
Product can override
org.eclipse.help/ignoredTOCS preference and list the TOCs to disable.  The 
TOCs listed will be ignored completely.  They will not appear even if linked, 
by other TOCs.  They will not be searchable either.
The option takes a list of hrefs similary to baseTOCS preference.</WithStack>
    <WithOutStack>Right now, you can bury primary tocs within other tocs (by linking to them), 
but not suppress them altogether. It would be very useful if primary tocs 
could be suppressed so that they don't show up at all in help.

It's not unusual for tools to be developed on Eclipse, and, as they're being 
developed, to continually refresh their Eclipse base from eclipse.org (as it 
is being developed). Currently, if a tool producer does not want to include 
the base documentation at all (Workbench User Guide, etc.), it would need to 
remove or disable the plug-in that provides this help. This makes the above 
development scenario more complicated than it needs to be.
How is this different for tools developed on eclipse that don't want to ship 
all the plugins that come with eclipse?
I'd say this requirement is not help specific, and I think the RCP (rich 
client platform) is meant for exactly that: start with a minimal set of 
plugins and then selectively pick up what is needed.
There are some partial solutions to not having to the removal, one being the 
current work on activities (which behave more like roles).
I'll let Konrad add his thoughts on this, but I think it is not worth it for 
the help component to provide this generic function that is needed elsewhere 
as well.
It is not valid to assume that products can have control/choice over all the 
plugins they ship (everybody can't build on RCP).   When you build on top of 
another eclipse-based product, there is typically a support contract that 
forbids you from modifying the image you are building on.

So I think Jennifer's point is valid...that there should be a programmatic  
way of disabling help books.   In Debug-land, a related issue has been 
addressed with the numerous views available in the Debug Perspective.   The 
solution there involves Contexts.   The Eclipse Debug support provides an 
extension point where Debug Providers can essentially choose which views they 
want to show/hide while the user is making use of their debug function.

I also agree with your point however. that this issue of a plugin customizing 
existing function rather than just extending it, is definitely not Help-System 
Specific.  In fact, I think that correct conceptual model is to treat plugins 
as extenders instead of modifiers, or else you get into some fairly murky 
situations, but I think a case could be made for making the disabling/hiding 
of Help a special case.  I think that giving Products the ability to present 
(at least initially, out-of-the-box) a stream-lined subset of the help is a 
key aspect of Usability/Branding.

Perhaps Activities could help out here, but I think there would need to be 
some guidance given on how folks would make use of Activities to this end.

Thanks

- Jeff
Jeff, thanks for the clarification. 
Jeniffer, is there something inherently wrong with the eclipse docs that can't 
be fixed by changing the tocs, content, etc. that they need to be completely 
removed?

I've seen some discussions on being able to manage the extensions, so a 
product could , theoretically, decide what extensions to pick up, out of all 
contributions by plugins. Disabling some help books (which are extensions to 
the org.eclipse.help.toc extension point) becomes straightforward.

As far as I remember, this was not something for the 3.0 stream. If you can 
leave with the filtering provided by activities (which is really a 
progressively disclosure mechanism), then the work involved is trivial.
I was using the Eclipse base docs only as an example - as Jeff points out, I 
could be building on top of an Eclipse-based product and want to suppress 
primary tocs that they've provided. This is about building a toolset on top of 
Eclipse or an Eclipse-based product, and suppressing documentation that does 
not apply to the toolset (I'll argue that non-pertinent documentation 
(especially when it's at the top level of the help contents frame) will muddle 
the user experience - complicate matters).

I'm afraid I don't know enough about activities yet - I will look at this now. 
I do agree that filtering help out, by activity, is a reasonable partial-
solution. The only issue that I would have with this is the fact that the user 
would need to become involved in getting the right help to display. Instead, I 
would want the product to have a way of displaying its help by default 
(yes, 'its help' implies that other help could have been filtered out).

Just to be clear, I never *wanted* to disable plug-ins or not ship things - I 
was suggesting this as the only option that we currently have. If anything, I'd 
still like to be able to link to the content or individual topics of these plug-
ins through my own tocs (ie. I want these plug-ins to remain enabled!).

Maybe I don't 100% agree with the help-system-specifics of all of this. Are 
there not many Eclipse UI elements that can be turned off by preferences - and 
this can be done programmatically by other contributing plug-ins? With these 
help books, we have no such option. I'm not saying that everything else about 
the workbench is customizable - but I do think that the help system could 
benefit by being more customizable.
In WSWB, 21 books show up in the help system. Of these, my customers may be 
interested in 5 of them. Some of the books contain information that contradicts 
the new information provided in the product for related components.

We can bury the books, but the information would still appear in searches and 
this is an awful lot of information to 'bury' when we're trying to make the 
help easier to use.

It would really help to have a feature that allows us to select which books are 
inherited from WSWB. We have no control over this and the issue has caused no 
end of headaches in past releases.



We are investigating using Infocenter for our online help docs.  One big issue 
we're running into is how to organize and limit the tocs that the user sees.  
This is a huge difficulty for us because we may have hundreds of books for 
dozens of products (not to mention different versions).  It seems to be overkill 
to create multiple infocenters as a way to organize the list of topics that are 
displayed (I think we would run out of port numbers fairly quickly).

The preferences.ini in org.eclipse.help has a baseTOCS property to allow 
ordering of the primary TOCs.  The problem is that there's only one 
preferences.ini per infocenter or standalone help.  One solution would be to 
allow multiple preferences files for the baseTOCs that will override the main 
one in preferences.ini.  I would like to be able to tell Infocenter to look at 
another preferences file through a URL, e.g. 
http://myinfocenter/?baseTOC=productABCversion1_1.  We can then put *all* the 
books into one Infocenter, then create baseTOC files to organize the books into 
meaningful collections.  The user will only see the tocs defined in the baseTOC. 
 Ideally, this would also limit search to only those toc nodes in the baseTOC 
file.

Activities added in 3.0, that can be used to hide books.

Controlling books by product preferences of command line (in the infocenter) - 
to investigate post 3.0.
(In reply to comment #7)
&gt; Activities added in 3.0, that can be used to hide books.
&gt; Controlling books by product preferences of command line (in the infocenter) -
 
&gt; to investigate post 3.0.

By "command line", does that mean that we would have to open multiple 
infocenters, one for each product collection?  This could become very 
unmanageable quickly if there are many products.  Instead, could the product 
preference be passed in the URL query string?  This way, there would only be 
one infocenter for all the books, but the user sees only a subset depending on 
the parameters passed in the URL.


Yes.  That is what I mean.  There should be a way for a product to get rid of 
unwanted book provided by a base product it is building on top.  I believe 
this is what this bug is about.

Having many sets of TOCs available from the set infocenter instance is a 
different problem, probably better described as multiple infocenters in one, 
or mutliple active roles.  I see no way of doing it for 3.1.
Fixed.
Product can override
org.eclipse.help/ignoredTOCS preference and list the TOCs to disable.  The 
TOCs listed will be ignored completely.  They will not appear even if linked, 
by other TOCs.  They will not be searchable either.
The option takes a list of hrefs similary to baseTOCS preference.</WithOutStack>
  </Bug>
  <Bug>
    <BugId amount="56688" />
    <CreationDate amount="2004-03-29 21:35:00 -0500" />
    <DupId amount="" />
    <classification amount="Eclipse" />
    <Product amount="Platform" />
    <component amount="CVS" />
    <Version amount="3.0" />
    <rep_platform amount="All" />
    <op_sys amount="All" />
    <priority amount="P2" />
    <bug_severity amount="normal" />
    <Summery>[SSH2] org.eclipse.team.ccvs.ssh2</Summery>
    <Patches amount="0" />
    <Stacktraces amount="0" />
    <SourceCodeRegions amount="0" />
    <Enumerations amount="0" />
    <bug_status amount="RESOLVED" />
    <resolution amount="FIXED" />
    <WithStack>Build M8

Plug-in org.eclipse.team.cvs.ssh2 has a package org.eclipse.team.ccvs.ssh2.
I suspect that this is not an API package; if this is right, the package name 
should be changed to "org.eclipse.team.internal.ccvs.ssh2" 
(matching "org.eclipse.team.internal.ccvs.ssh").

(This is a must-fix for M9.)
I'm currently doing work on this plugin so I'll do the rename when I'm done
Fix released to HEAD</WithStack>
    <WithOutStack>Build M8

Plug-in org.eclipse.team.cvs.ssh2 has a package org.eclipse.team.ccvs.ssh2.
I suspect that this is not an API package; if this is right, the package name 
should be changed to "org.eclipse.team.internal.ccvs.ssh2" 
(matching "org.eclipse.team.internal.ccvs.ssh").

(This is a must-fix for M9.)
I'm currently doing work on this plugin so I'll do the rename when I'm done
Fix released to HEAD</WithOutStack>
  </Bug>
  <Bug>
    <BugId amount="56689" />
    <CreationDate amount="2004-03-29 22:22:00 -0500" />
    <DupId amount="" />
    <classification amount="Eclipse" />
    <Product amount="Platform" />
    <component amount="Update  (deprecated - use RT&gt;Equinox&gt;p2)" />
    <Version amount="3.0" />
    <rep_platform amount="PC" />
    <op_sys amount="Windows XP" />
    <priority amount="P3" />
    <bug_severity amount="normal" />
    <Summery>Cannot run Software updates in M8</Summery>
    <Patches amount="0" />
    <Stacktraces amount="0" />
    <SourceCodeRegions amount="0" />
    <Enumerations amount="0" />
    <bug_status amount="RESOLVED" />
    <resolution amount="WORKSFORME" />
    <WithStack>When going to Help&gt;SoftWare Updates&gt;Find and Install I get an exception in my
command prompt that reads:

Unhandled event loop exception
Reason:
org/eclipse/update/internal/configurator/FeatureEntry

I am running my version of eclipse with -vm C:\j2sdk1.4.1_06\bin\java arg.
If you're running with Sun's JDK you need at least:
Sun Java 2 SDK, Standard Edition, version 1.4.2_03
(as noted on 
http://eclipse.org/eclipse/development/eclipse_project_plan_3_0.html)

Also, are you running on a clean eclipse install?
Clean eclipse installed fixed the problem. Closing the bug....
*** Bug 57023 has been marked as a duplicate of this bug. ***</WithStack>
    <WithOutStack>When going to Help&gt;SoftWare Updates&gt;Find and Install I get an exception in my
command prompt that reads:

Unhandled event loop exception
Reason:
org/eclipse/update/internal/configurator/FeatureEntry

I am running my version of eclipse with -vm C:\j2sdk1.4.1_06\bin\java arg.
If you're running with Sun's JDK you need at least:
Sun Java 2 SDK, Standard Edition, version 1.4.2_03
(as noted on 
http://eclipse.org/eclipse/development/eclipse_project_plan_3_0.html)

Also, are you running on a clean eclipse install?
Clean eclipse installed fixed the problem. Closing the bug....
*** Bug 57023 has been marked as a duplicate of this bug. ***</WithOutStack>
  </Bug>
  <Bug>
    <BugId amount="56690" />
    <CreationDate amount="2004-03-29 23:16:00 -0500" />
    <DupId amount="" />
    <classification amount="RT" />
    <Product amount="Equinox" />
    <component amount="Incubator" />
    <Version amount="unspecified" />
    <rep_platform amount="All" />
    <op_sys amount="All" />
    <priority amount="P3" />
    <bug_severity amount="normal" />
    <Summery>links to javadoc specs for org.osgi.* packages</Summery>
    <Patches amount="0" />
    <Stacktraces amount="0" />
    <SourceCodeRegions amount="0" />
    <Enumerations amount="1">
      <Enumeration lines="4">
        <Lines>
          <Line>(1) agreed. I will add a link to OSGi APIs.</Line>
          <Line>(2) The Javadoc tool alphabetizes the summary tables for fields and methods,</Line>
          <Line>but generates the detailed specs in source file order. This behavior appears</Line>
          <Line>to be hard-wired.</Line>
        </Lines>
      </Enumeration>
    </Enumerations>
    <bug_status amount="RESOLVED" />
    <resolution amount="FIXED" />
    <WithStack>Build M8

Platform Javadoc contains API classes that reference classes in 
org.osgi.* packages. If the javadoc specs for org.osgi.* packages is reliably 
available somewhere (i.e., on the osgi.org website), we should add a Javadoc
-link command the way we link to the javadoc for java.* packages on the 
java.sun.com web site.
The OSGi packages have javadoc in their source.  This should be added to the 
Javadoc processing.

The OSGi javadoc is not available reliably elsewhere.
We run Javadoc as part of our regular build process from the sources. However, 
it doesn't look like the regular Eclipse build process compiles any of the 
java files in the org.eclipse.osgi.services and org.eclipse.osgi.util plug-ins 
(content is pre-JARd).
We would like to avoid compiling these classes that are provided by OSGi.  Is 
there a way we can run javadoc tool against the source but still use the 
prebuilt jars?

Unfortunately some of these API's have requirements on other API's (like 
java.servlet, javax.microedition.io, net.jini, javax.xml) to compile.
When you compile the OSGi files, you could also run Javadoc and zip up the 
directory it generates into a 3rd file that could be included with the other 
JAR and source zip. The Eclipse build could then upzip it and include it with 
the rest of the doc.
Unfortuanately it appears that Javadoc wants to "compile" the code as well.  
Presumeably to resolve links/references to classes etc.  I suggest we 
investigate getting this Javadoc from OSGi either as a link to some stable URL 
or as a zip of html.  Presumeably the process OSGi uses to build the .class 
files in the first place has all the prerequisites.  We would very much like to 
avoid having to collect all these prereqs.
Tom has the ability to gen the Javadoc.  We will then include the zip'd 
prebuilt javadoc in the org.eclipse.osgi project.  The build will be updated to 
find, explode and link the javadoc appropriately.

Moving to Tom for the first part.  This should all be in place by M9
I checked in a zip file containing all the org.osgi.* javadoc.  The new zip is 
located in the org.eclipse.osgi project at:

osgi/osgiJavaDoc.zip

Assigning back to equinox-inbox@eclipse.org.  Need to have somebody link this 
javadoc into the Eclispe javadoc system.
adding Sonia.  We need to update the build process to integrate the OSGi 
javadoc into the main javadoc processing.  We would like to have the shape in 
place by M9.

Please advise
Will investigate today.
This should be fixed in builds &gt; 200405031520.  Leaving as "New", component 
owner please close once this is verified.
Fix:

-add instructions in buildDoc.xml in org.eclipse.platform.doc.isv to unzip the 
osgi javadoc zip into org.eclipse.platform.doc.isv/reference/osgi
-update javadoc options files, platformOptions* with -linkoffline parameter to 
this location
I've updated platformOptions[.txt] to 
include /org.eclipse.osgi.services/services.jar 
nd /org.eclipse.osgi.util/util.jar on the -classpath
The Javadoc is in.  There are a mess o' updates to the OSGi Javadoc.  We need 
to regen and add to the build then check over.  

Moving the milestone to 3.0.  The M9 work is done.
OSGi Java doc is there (you can follow links to Bundle for example from various 
Platform methods).  questions:

- I could not find a top level OSGi API entry under the References section in 
the Help system.  I agree that we are not spec'ing the OSGi apis as Eclipse 
APIs but pragmatically over the life of 3.0 it will be relevant for people to 
access the OSGi apis directly.

- The OSGi javadoc type members are not sorted alphabetically.  For example, in 
Bundle, getEntry() and friends is at the very end of the html page.  this 
likely is an artifact of its position in the original java source file but is 
unfortunate for readers of the doc.  There is no particular grouping (that I 
can see) of the methods in the the type so alphabetical does not lose anything 
and gains predictability.  Is there an option in Java doc to alphabetize and 
should we use it?
re: comment 14
(1) agreed. I will add a link to OSGi APIs.
(2) The Javadoc tool alphabetizes the summary tables for fields and methods, 
but generates the detailed specs in source file order. This behavior appears 
to be hard-wired.

Can we close this one now?

Yep.
fixed</WithStack>
    <WithOutStack>Build M8

Platform Javadoc contains API classes that reference classes in 
org.osgi.* packages. If the javadoc specs for org.osgi.* packages is reliably 
available somewhere (i.e., on the osgi.org website), we should add a Javadoc
-link command the way we link to the javadoc for java.* packages on the 
java.sun.com web site.
The OSGi packages have javadoc in their source.  This should be added to the 
Javadoc processing.

The OSGi javadoc is not available reliably elsewhere.
We run Javadoc as part of our regular build process from the sources. However, 
it doesn't look like the regular Eclipse build process compiles any of the 
java files in the org.eclipse.osgi.services and org.eclipse.osgi.util plug-ins 
(content is pre-JARd).
We would like to avoid compiling these classes that are provided by OSGi.  Is 
there a way we can run javadoc tool against the source but still use the 
prebuilt jars?

Unfortunately some of these API's have requirements on other API's (like 
java.servlet, javax.microedition.io, net.jini, javax.xml) to compile.
When you compile the OSGi files, you could also run Javadoc and zip up the 
directory it generates into a 3rd file that could be included with the other 
JAR and source zip. The Eclipse build could then upzip it and include it with 
the rest of the doc.
Unfortuanately it appears that Javadoc wants to "compile" the code as well.  
Presumeably to resolve links/references to classes etc.  I suggest we 
investigate getting this Javadoc from OSGi either as a link to some stable URL 
or as a zip of html.  Presumeably the process OSGi uses to build the .class 
files in the first place has all the prerequisites.  We would very much like to 
avoid having to collect all these prereqs.
Tom has the ability to gen the Javadoc.  We will then include the zip'd 
prebuilt javadoc in the org.eclipse.osgi project.  The build will be updated to 
find, explode and link the javadoc appropriately.

Moving to Tom for the first part.  This should all be in place by M9
I checked in a zip file containing all the org.osgi.* javadoc.  The new zip is 
located in the org.eclipse.osgi project at:

osgi/osgiJavaDoc.zip

Assigning back to equinox-inbox@eclipse.org.  Need to have somebody link this 
javadoc into the Eclispe javadoc system.
adding Sonia.  We need to update the build process to integrate the OSGi 
javadoc into the main javadoc processing.  We would like to have the shape in 
place by M9.

Please advise
Will investigate today.
This should be fixed in builds &gt; 200405031520.  Leaving as "New", component 
owner please close once this is verified.
Fix:

-add instructions in buildDoc.xml in org.eclipse.platform.doc.isv to unzip the 
osgi javadoc zip into org.eclipse.platform.doc.isv/reference/osgi
-update javadoc options files, platformOptions* with -linkoffline parameter to 
this location
I've updated platformOptions[.txt] to 
include /org.eclipse.osgi.services/services.jar 
nd /org.eclipse.osgi.util/util.jar on the -classpath
The Javadoc is in.  There are a mess o' updates to the OSGi Javadoc.  We need 
to regen and add to the build then check over.  

Moving the milestone to 3.0.  The M9 work is done.
OSGi Java doc is there (you can follow links to Bundle for example from various 
Platform methods).  questions:

- I could not find a top level OSGi API entry under the References section in 
the Help system.  I agree that we are not spec'ing the OSGi apis as Eclipse 
APIs but pragmatically over the life of 3.0 it will be relevant for people to 
access the OSGi apis directly.

- The OSGi javadoc type members are not sorted alphabetically.  For example, in 
Bundle, getEntry() and friends is at the very end of the html page.  this 
likely is an artifact of its position in the original java source file but is 
unfortunate for readers of the doc.  There is no particular grouping (that I 
can see) of the methods in the the type so alphabetical does not lose anything 
and gains predictability.  Is there an option in Java doc to alphabetize and 
should we use it?
re: comment 14
(1) agreed. I will add a link to OSGi APIs.
(2) The Javadoc tool alphabetizes the summary tables for fields and methods, 
but generates the detailed specs in source file order. This behavior appears 
to be hard-wired.

Can we close this one now?

Yep.
fixed</WithOutStack>
  </Bug>
  <Bug>
    <BugId amount="56691" />
    <CreationDate amount="2004-03-29 23:35:00 -0500" />
    <DupId amount="" />
    <classification amount="Eclipse" />
    <Product amount="JDT" />
    <component amount="UI" />
    <Version amount="3.0" />
    <rep_platform amount="PC" />
    <op_sys amount="Windows XP" />
    <priority amount="P3" />
    <bug_severity amount="minor" />
    <Summery>Missing Java Formatter option when sort is by Java element [formatter]</Summery>
    <Patches amount="0" />
    <Stacktraces amount="0" />
    <SourceCodeRegions amount="0" />
    <Enumerations amount="0" />
    <bug_status amount="RESOLVED" />
    <resolution amount="FIXED" />
    <WithStack>In Preferences|Java|Code Style|Code Formatter, select "Edit". In the "Edit
Profile" dialog, select the White Space tab.

In the little list box, first select "Sort options by Syntax element." One of
the 24 items in the resulting tree list is "Before opening brace". Expand this
node, and note that there is a subitem "Array Initializer".

Now select "Sort options by Java element" in the list box. Expand the "Arrays"
node in the resulting tree list, then select the "Array Initializers" subnode.
In the lower pane, there is a list of five possible positions for white space.
It does not include "before opening brace".
fixed &gt; 20040330</WithStack>
    <WithOutStack>In Preferences|Java|Code Style|Code Formatter, select "Edit". In the "Edit
Profile" dialog, select the White Space tab.

In the little list box, first select "Sort options by Syntax element." One of
the 24 items in the resulting tree list is "Before opening brace". Expand this
node, and note that there is a subitem "Array Initializer".

Now select "Sort options by Java element" in the list box. Expand the "Arrays"
node in the resulting tree list, then select the "Array Initializers" subnode.
In the lower pane, there is a list of five possible positions for white space.
It does not include "before opening brace".
fixed &gt; 20040330</WithOutStack>
  </Bug>
  <Bug>
    <BugId amount="56692" />
    <CreationDate amount="2004-03-30 00:38:00 -0500" />
    <DupId amount="56437" />
    <classification amount="Eclipse" />
    <Product amount="Platform" />
    <component amount="Text" />
    <Version amount="3.0" />
    <rep_platform amount="PC" />
    <op_sys amount="Windows XP" />
    <priority amount="P3" />
    <bug_severity amount="normal" />
    <Summery>editor cannot display chinese</Summery>
    <Patches amount="0" />
    <Stacktraces amount="0" />
    <SourceCodeRegions amount="0" />
    <Enumerations amount="0" />
    <bug_status amount="RESOLVED" />
    <resolution amount="DUPLICATE" />
    <WithStack>I use eclipse sdk 3.0M8 build20040326.The text editor can not display chinese.
Did previous builds work before? If so, which ones?
Try setting the default text file encoding to ASCII (Preferences &gt; Workbench &gt;
Editors)
From direct e-mail:
Yes.I use eclipse since version 2.1 and I used v2.1,v3.0M1-M7,they all work well.
I tried all available encodings,and none works.
Related to bug 56437?


*** This bug has been marked as a duplicate of 56437 ***</WithStack>
    <WithOutStack>I use eclipse sdk 3.0M8 build20040326.The text editor can not display chinese.
Did previous builds work before? If so, which ones?
Try setting the default text file encoding to ASCII (Preferences &gt; Workbench &gt;
Editors)
From direct e-mail:
Yes.I use eclipse since version 2.1 and I used v2.1,v3.0M1-M7,they all work well.
I tried all available encodings,and none works.
Related to bug 56437?


*** This bug has been marked as a duplicate of 56437 ***</WithOutStack>
  </Bug>
  <Bug>
    <BugId amount="56693" />
    <CreationDate amount="2004-03-30 00:56:00 -0500" />
    <DupId amount="56665" />
    <classification amount="Eclipse" />
    <Product amount="JDT" />
    <component amount="UI" />
    <Version amount="3.0" />
    <rep_platform amount="PC" />
    <op_sys amount="Windows XP" />
    <priority amount="P3" />
    <bug_severity amount="minor" />
    <Summery>Bootstrap entries not recognized for JUnit launch configurations [JUnit]</Summery>
    <Patches amount="0" />
    <Stacktraces amount="0" />
    <SourceCodeRegions amount="0" />
    <Enumerations amount="0" />
    <bug_status amount="RESOLVED" />
    <resolution amount="DUPLICATE" />
    <WithStack>I have several JUnit launch configurations that have libraries that must be
loaded before the JRE System Library.  These were working in M6 but since i have
upgraded to M8 they have ceased to work.  

I have worked around this issue by using the -Xbootclasspath/p: option in the VM
arguments box under the Arguments tab of the launch configuration.


*** This bug has been marked as a duplicate of 56665 ***</WithStack>
    <WithOutStack>I have several JUnit launch configurations that have libraries that must be
loaded before the JRE System Library.  These were working in M6 but since i have
upgraded to M8 they have ceased to work.  

I have worked around this issue by using the -Xbootclasspath/p: option in the VM
arguments box under the Arguments tab of the launch configuration.


*** This bug has been marked as a duplicate of 56665 ***</WithOutStack>
  </Bug>
  <Bug>
    <BugId amount="56694" />
    <CreationDate amount="2004-03-30 01:51:00 -0500" />
    <DupId amount="" />
    <classification amount="Eclipse" />
    <Product amount="Platform" />
    <component amount="SWT" />
    <Version amount="3.0" />
    <rep_platform amount="PC" />
    <op_sys amount="Linux" />
    <priority amount="P2" />
    <bug_severity amount="major" />
    <Summery>Typing slow because too much data sent over the wire (was: [Workbench] since 3.0M8 typing is terribly slow)</Summery>
    <Patches amount="0" />
    <Stacktraces amount="1">
      <Stacktrace timestamp="1437341104193">
        <Exception>java.lang.NoClassDefFoundError</Exception>
        <Reason />
        <Frames>
          <Frame depth="0">org.eclipse.ui.internal.WorkbenchConfigurer.declareImage(WorkbenchConfigurer.java:92)</Frame>
          <Frame depth="1">org.eclipse.ui.internal.ide.IDEWorkbenchAdvisor.declareWorkbenchImage(IDEWorkbenchAdvisor.java:942)</Frame>
          <Frame depth="2">org.eclipse.ui.internal.ide.IDEWorkbenchAdvisor.declareWorkbenchImages(IDEWorkbenchAdvisor.java:860)</Frame>
          <Frame depth="3">org.eclipse.ui.internal.ide.IDEWorkbenchAdvisor.initialize(IDEWorkbenchAdvisor.java:182)</Frame>
          <Frame depth="4">org.eclipse.ui.application.WorkbenchAdvisor.basicInitialize(WorkbenchAdvisor.java:156)</Frame>
          <Frame depth="5">org.eclipse.ui.internal.Workbench.init(Workbench.java:787)</Frame>
          <Frame depth="6">org.eclipse.ui.internal.Workbench.runUI(Workbench.java:1513)</Frame>
          <Frame depth="7">org.eclipse.ui.internal.Workbench.createAndRunWorkbench(Workbench.java:257)</Frame>
          <Frame depth="8">org.eclipse.ui.PlatformUI.createAndRunWorkbench(PlatformUI.java:139)</Frame>
          <Frame depth="9">org.eclipse.ui.internal.ide.IDEApplication.run(IDEApplication.java:90)</Frame>
          <Frame depth="10">org.eclipse.core.internal.runtime.PlatformActivator$1.run(PlatformActivator.java:277)</Frame>
          <Frame depth="11">org.eclipse.core.runtime.adaptor.EclipseStarter.run(EclipseStarter.java:239)</Frame>
          <Frame depth="12">org.eclipse.core.runtime.adaptor.EclipseStarter.run(EclipseStarter.java:117)</Frame>
          <Frame depth="13">sun.reflect.NativeMethodAccessorImpl.invoke0(Native Method)</Frame>
          <Frame depth="14">sun.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:39)</Frame>
          <Frame depth="15">sun.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:25)</Frame>
          <Frame depth="16">java.lang.reflect.Method.invoke(Method.java:324)</Frame>
          <Frame depth="17">org.eclipse.core.launcher.Main.basicRun(Main.java:267)</Frame>
          <Frame depth="18">org.eclipse.core.launcher.Main.run(Main.java:692)</Frame>
          <Frame depth="19">org.eclipse.core.launcher.Main.main(Main.java:676)</Frame>
        </Frames>
      </Stacktrace>
    </Stacktraces>
    <SourceCodeRegions amount="0" />
    <Enumerations amount="6">
      <Enumeration lines="26">
        <Lines>
          <Line>1. the problem occurs on both gtk and eclipse.</Line>
          <Line />
          <Line>2. I have tried the custom control example as plugin, and that is much faster.</Line>
          <Line />
          <Line>3. I also tried to run this as stand-alone, but I must have done something wrong,</Line>
          <Line>for I get: java.util.MissingResourceException: Can't find bundle for base name</Line>
          <Line>examples_control, locale en_US</Line>
          <Line />
          <Line>4. I don't think it has to do with long lines.</Line>
          <Line />
          <Line>5. Also I must add,that it is not *always* slow, I have tried to figure out when</Line>
          <Line>exactly it is slow, but I have not yet seen a pattern.</Line>
          <Line />
          <Line>6. my linux platform: gentoo linux</Line>
          <Line>Linux i686 Intel(R) Pentium(R) 4 CPU 2.80GHz GenuineIntel GNU/Linux</Line>
          <Line />
          <Line>7. I run eclipse on a remote computer (with ssh). the information at point 6 is</Line>
          <Line>about this remote computer.</Line>
          <Line>at point 1 in my previous comment I meant gtk and motif of course (not gtk and</Line>
          <Line>eclipse)</Line>
          <Line>Did you try the new integration build (Integration Build: I20040407</Line>
          <Line>)?</Line>
          <Line>FH, this has nothing to do with SWT (typing in ControlExample plug-in was not</Line>
          <Line>slow).  Please move this out of SWT and reassign bug ownership (unless you</Line>
          <Line>disagree of course).  Thanks.</Line>
          <Line>Tom, did you notice this (degradation also on Text editor)?</Line>
        </Lines>
      </Enumeration>
      <Enumeration lines="3">
        <Lines>
          <Line>1. Create a fresh workspace.</Line>
          <Line>2. Create a new Java project.</Line>
          <Line>3. Create a new Java class, it is initialized to default text.</Line>
        </Lines>
      </Enumeration>
      <Enumeration lines="8">
        <Lines>
          <Line>1. Start eclipse.</Line>
          <Line>2. The editor for our new java class is active, scroll down to the line with the</Line>
          <Line>class declaration.</Line>
          <Line>3. Hit 'END' to go to the end of the line.</Line>
          <Line>4. Hit enter to start a new line.</Line>
          <Line>5. Go to file -&gt; quit.</Line>
          <Line>6. Hit deselect all and OK when the 'save changed files' dialog appears.</Line>
          <Line>7. Eclipse exits.</Line>
        </Lines>
      </Enumeration>
      <Enumeration lines="2">
        <Lines>
          <Line>1. X requests: 20751 with M7, 19894 with M8</Line>
          <Line>2. X events: 2965 with M7, 2993 with M8</Line>
        </Lines>
      </Enumeration>
      <Enumeration lines="2">
        <Lines>
          <Line>1. Client -&gt; Server:  1509476 bytes with M7, 4845348 with M8</Line>
          <Line>2. Server -&gt; Client:  214500 bytes with M7, 224744 with M8</Line>
        </Lines>
      </Enumeration>
      <Enumeration lines="10">
        <Lines>
          <Line>1) Go back to the original swt.jar that was included in 3.0 M8</Line>
          <Line>2) Open an editor and give it focus by clicking in it but do not type any keys</Line>
          <Line>3) Wait for 5 minutes without doing anything on that machine</Line>
          <Line>4) Start typing in the editor</Line>
          <Line />
          <Line>When you type in the editor in step 4, is typing slow or fast?</Line>
          <Line />
          <Line>5) Now click on a view and click back on the editor (this causes a gradient</Line>
          <Line>colour change)</Line>
          <Line>6) Immediately start typing in the editor</Line>
        </Lines>
      </Enumeration>
    </Enumerations>
    <bug_status amount="RESOLVED" />
    <resolution amount="FIXED" />
    <WithStack>since 3.0M8 typing is terribly slow, for example if I want to add
a new line, and I type &lt;Enter&gt; then the effect is that the line on which
the cursor was, is duplicated, then a few seconds later the new duplicated
line will become gray (to indicate that it is selected), and then after a
second the cursor will return and I can continue typing.
Moving to Platform/SWT for comment. Perhaps related to changes in StyledText?

Ruth, were you using a Java Editor or a regular Text Editor?
Try turning off all Java Editor options - I mean EVERYTHING.  Is it still 
slow?  Is typing slow in the StyledText tab of the CustomControlExample?
This happens both in the java-editor and also in the regular text editor.
about the StyledText tab of the CustomControlExample, I don't know where to find
that.
CAR, can you help this guy run the CustomControlExample?
Hi, Ruth.

I am also curious which Linux platform you are running on.

To run the CustomControlExample, please go to this link, and follow the 
instructions in the "SWT Examples" section.
http://dev.eclipse.org/viewcvs/index.cgi/~checkout~/platform-swt-
home/SWT_Resources.html

CustomControlExample is a plug-in example (it can also run stand-alone, but 
the easiest thing for you to do is to follow the plug-in example instructions).
After launching the CustomControlExample, go to the StyledText tab. This is 
the eclipse java editor widget, without all of the java editing "extras". To 
make the StyledText in this example have a few more lines, just type in 
several more lines, and then change the size to "100 x 100" and back 
to "Preferred". Please let us know if this widget has the same slowness that 
you are experiencing in the java editor.
NOTE:  Do not run it as a plug in.  This will defeat the purpose of the 
experiment (ie. is typing slow in stand alone SWT or in Eclipse).
Actually, both standalone and plug-in will tell us something.

If StyledText runs fast when running CustomControlExample as a plug-in, then 
it is the java editor goo that is making StyledText slow.

If StyledText runs fast when running CustomControlExample standalone, then it 
is the hooking of global accelerators for all of eclipse that is making 
StyledText slow.

If StyledText is still slow when running CustomControlExample standalone, then 
it is our changes to StyledText that are the culprit.

I have just talked to the guys that made the StyledText changes, and they say 
they have made some performance improvements since M8. They also ask if it is 
really long lines of text that are very slow when you hit &lt;Enter&gt;.

They have not seen this kind of terribly slow behavior, but they are on fast 
machines, running Linux Red Hat 9.

Reassigning this bug to FH at the request of SSQ.
Ruth, are you running GTK or Motif ?
GTK is faster than used to be, so I suppose you are running motif.
You also could download this week integration build (which will be build 
tomorrow morning) and give it a try, it is much faster than M8.


1. the problem occurs on both gtk and eclipse.

2. I have tried the custom control example as plugin, and that is much faster.

3. I also tried to run this as stand-alone, but I must have done something wrong, 
for I get: java.util.MissingResourceException: Can't find bundle for base name
examples_control, locale en_US

4. I don't think it has to do with long lines.

5. Also I must add,that it is not *always* slow, I have tried to figure out when
exactly it is slow, but I have not yet seen a pattern.

6. my linux platform: gentoo linux 
Linux i686 Intel(R) Pentium(R) 4 CPU 2.80GHz GenuineIntel GNU/Linux 

7. I run eclipse on a remote computer (with ssh). the information at point 6 is
about this remote computer.
at point 1 in my previous comment I meant gtk and motif of course (not gtk and
eclipse)
Did you try the new integration build (Integration Build: I20040407
)?
FH, this has nothing to do with SWT (typing in ControlExample plug-in was not 
slow).  Please move this out of SWT and reassign bug ownership (unless you 
disagree of course).  Thanks.
Tom, did you notice this (degradation also on Text editor)?

Ruth,
&gt;5. Also I must add,that it is not *always* slow, I have tried to figure out when
&gt;exactly it is slow, but I have not yet seen a pattern.
might it be when you have lots of stuff highlighted in text (e.g. when having
search results)?
No, I haven't seen any degradation in M8 or after. 

&gt; 7. I run eclipse on a remote computer (with ssh). the information at point 6 is
&gt; about this remote computer.

Could this make a difference? I am not sure about how good we are running on a
remote X server - even with good bandwidth frequent updates might cause
problems. This could also explain why it's sometimes slow and sometimes isn't:
that may well depend on the delay experienced on the network.

Carolyn, do we have any measurings of running eclipse remotely.
Steve, please read comment 15 - does anyone run eclipse over ssh?
Ask Felipe or SSQ.  They have done this in the past.
I done this on the past (like one time 6 months ago), I really don't remember 
how fast/slow it was.
I asked to Ruth (reporter) to retested this problem with a newer version of 
Eclipse (see comment12). 

We disabled double buffered for gtk/carbon and we started to cache 
glyphs/metrics for the visible content of the StyledText. StyledText 
performance is much better now (uses more memory though).

Is anti-aliasing enabled ? Does it make any difference ?
FH, please try again.  Be sure to distinguish between typing in a stand alone 
SWT example and Eclipse.  Thanks.
I'd like to add that I'm seeing the same. I'm running on Gentoo with 3.0M8 and
JDK 1.4.2.04 from Sun.

I've noticed that I can type for a while with no problems then all of a sudden,
things will start bogging down tremendously. I will type a line and the text
will appear 5-7 seconds later. It usually occurs after a few minutes of usage
(maybe 60).

L
Re: comment 16:

&gt;&gt;Steve, please read comment 15 - does anyone run eclipse over ssh?&lt;&lt;

I've run in the cartesian product of all of the following configurations:

(Eclipse, Standalone SWT)(Naked X protocol, X tunnled through SSH)

Informally, here's what I've observed:

- Lightweight SWT controls tend to perform badly over X--both pure X and tunnled
over SSH.

- GC.drawText() performs terribly if antialiasing is on.  Turning antialiasing
off using the XFT environment variable makes GC.drawText() perform beautifully.  

When using an X terminal, you can see a huge amount of network traffic when
doing GC.drawText() with antialiasing on simply by watching the activity LEDs on
the network card.  I've traced the code down to the Pango calls used by
#drawText() and it seems that Pango is rendering the text into a pixmap in the X
client, and then sending the pixmap to the X server.  This is obviously very
inefficient.  I have no idea if there is a way to make GTK/GDK do antialiasing
in the X server if that is available, but this would greatly improve performance.

- On my 10MBPS LAN, Eclipse 2.x and 3.0 up to M4 (haven't tried later than that)
performs miserably on X terminals.  By "miserably", I mean that typing in the
Java editor refreshes approximately every *second*.  Other actions--picking menu
choices, running dialog boxes, using list boxes, etc--perform acceptably.

- Occasionally I forget to commit changes I've been working on at home (under
Linux) to CVS at work.  In that situation, I SSH from my work machine (running
Cygwin/X on Windows 2000) back to my home machine.  At work, we have a T1.  At
home, I have a decent-sized ADSL connection with slightly less bandwidth than a T1.

When I do this, Eclipse is almost entirely unusable.  Everything--menus, native
GTK controls--everything can be seen drawing.  Similarly, SWT standalone apps
are unusable.  However, Emacs runs fine once it starts up--which takes awhile.

However, if i run the DXPC X protocol compressor, then both Eclipse and SWT
applications run reasonably--except for the Java editor or my custom control
that uses #drawText() when antialiasing is turned on.

I wish I could provide more detail, but I hope this helps.

David, when you say you are using X terminals, what hardware specifically or
what version of the X server?  When you notice Pango rendering its antialiased
text to a pixmap, it is likely because the X server you are talking to does not
support the RENDER extension for server-side compositing, and so this is its
only fallback.

I'm specifically curious about your 10Mbps LAN cases.  What is the hardware in
question there?
&gt;&gt;When I do this, Eclipse is almost entirely unusable.  Everything--menus, native
GTK controls--everything can be seen drawing.  Similarly, SWT standalone apps
are unusable.  However, Emacs runs fine once it starts up--which takes awhile.&lt;&lt;

I should clarify this.  The only standalone SWT application I've tried over this
connection is one that heavily uses lightweight controls using #drawText().  So
I'm not saying that all of SWT performs miserably in this situation.
&gt;&gt;David, when you say you are using X terminals, what hardware specifically or
what version of the X server?&lt;&lt;

I have an older machine running Mandrake Linux and XFree86 3.3.6 in a thin
client configuration for my main workstation/server.  (Yeah, it boots from the
hard drive, not over the network.)

&gt;&gt;When you notice Pango rendering its antialiased text to a pixmap, it is likely
because the X server you are talking to does not support the RENDER extension
for server-side compositing, and so this is its only fallback.&lt;&lt;

Certainly this is a possibility.  I have no idea what versions of XFree added
support for XRender...

&gt;&gt;I'm specifically curious about your 10Mbps LAN cases.  What is the hardware in
question there?&lt;&lt;

My 10Mbps LAN has 3 machines on it--the main server, the Mandrake box, and a
custom MP3 stereo that I built from spare parts.  All of my tests have been run
when the MP3 stereo box was *not* streaming any music over the LAN, so there was
effectively a dedicated 10MBPS connection between the server and the Mandrake box.

The two machines are connected via a hub, not a switch.

(Although I have several switches--for example, built into my firewall--I've
noticed that connection setup/teardown is *much* slower through a switch than
through the hub.  Since the next/prev buttons my MP3 stereo client rely on low
latencies during TCP connection setup/teardown, I've stuck with the hub.)

The server is using an Intel EtherExpress Pro card.

The Mandrake box is a Pentium 2 266Mhz laptop and is using an Apollo 10/100
PCMCIA card.

I have no idea what brand the hub is, but it seems to perform decently.


&gt;&gt;I have an older machine running Mandrake Linux and XFree86 3.3.6 in a thin
client configuration for my main workstation/server.&lt;&lt;

The older box is the thin client, not the server.  ;-)
RENDER support was added in X 4.0.2, so for any X 3.3.6 client you will have to
render text to a pixmap.  Also, remember that the X server does actually do
work, so having such a slow machine as your client won't help. :)
&gt;&gt;so having such a slow machine as your client won't help.&lt;&lt;

Hey!  In its day, *that* machine rendered 3d scene graphs using Mesa!  (Simple
ones, at only a few frames per second).  ;-)

Seriously though, that machine has always had decent accelerated 2d graphics,
especially under Linux.  And OpenOffice and Mozilla currently perform fine on it
in X terminal mode (haven't tried the local configuration).


looks more like a general platform ui/swt than an editor problem
I don't think this is a general gtk or ssh problem, for I have returned to using
eclipse3.0M7 which doesn't have any of these problems at all.
I ran I20040420 over ssh to a remote machine.  The X client was a P3-733mhz and
the appliaction was launched from a P4-2.5ghz over a fast LAN.  Performance
seemed fine and I did not notice any major slowdowns.  Definitely not as bad as
what Ruth describes.

I did see the behavior of hit enter, see line doubled, then see line cleared. 
This occured only on the first time I hit enter, the rest were snappy.  It was
about a second before the line was cleared.  Maybe this might be a worthwhile
test case to watch the X traffic of and see if we're making too many requests ?
I attempted to measure the amount of X traffic between M7 and M8.  The goal was
to determine if there was a significant increase in X calls between the two
versions, and also to look at the amount of data.  I did not look at the
difference in the types of requests being made, simply how many events and
requests occured, and how large they were.  I used the X protocol monitor 'xmon'
with patches from Debian.  The test was performed on a RH9 machine, Gtk+ 2.2.1.

Test case:

On both eclipse M7 and M8:
1. Create a fresh workspace.
2. Create a new Java project.
3. Create a new Java class, it is initialized to default text.

Then I ran each in 'xmon', enabling viewing of requests, events, and errors.  In
each I did the following:

1. Start eclipse.
2. The editor for our new java class is active, scroll down to the line with the
class declaration.
3. Hit 'END' to go to the end of the line.
4. Hit enter to start a new line.
5. Go to file -&gt; quit.
6. Hit deselect all and OK when the 'save changed files' dialog appears.
7. Eclipse exits.

Each test took about 30 seconds to run.  Here are the request and event counts:

1. X requests: 20751 with M7, 19894 with M8
2. X events: 2965 with M7, 2993 with M8

So I don't think we're seeing a large increase in the number of requests made. 
I think this implies that there is not a signifiacnt increase in the number of X
requests between the two versions.

Here is the byte counts:

1. Client -&gt; Server:  1509476 bytes with M7, 4845348 with M8
2. Server -&gt; Client:  214500 bytes with M7, 224744 with M8

So we're sending more than 3 times as much data to the X server.  This is likely
where the problem is.  We're seemingly not doing a lot more work, just sending a
lot more data.  To move forward, I will try and look at which X requests are
sending a lot of data, and see where they are from.  Note that I'm also not
distinguishing between startup cost and cost of running, these numbers all
include the startup time when we have to upload our gradient images and all
that.  It may be worthwhile to look at X traffic just from the middle of an
active session.
Created attachment 10066
xmon log from Eclipse M7
Created attachment 10067
xmon log from Eclipse M8
Created attachment 10367
Wire images from M7, M7+newlook jars, and M8

I extracted the raw images being sent over the wire between M7, M7+newlook jar
files, and M8.	Attached is a set of images over about 10k from each run.  With
both M8 and M7 with the new look jar files, we're uploading some really large
gradient images.  All of the gradient images for the tabs in M7 were much
smaller.  M8 sends almost twice as much image data over M7 using my (admittedly
over-simplistic) test.

If there is a way to cut back on the number of gradient images sent to the
server, or just make them smaller, it may be worth it for remote users of
eclipse.
BB to build a patch that disables gradient in Eclipse.  Once this patch is 
installed, we can then determine whether too much data over the wire is 
responsible for the slow down you are seeing.
Created attachment 10370
Patch to disable gradients

Ruth, can you try this patch and see if it solves your speed problems?

This one-line patch simply disables gradients and decreases eclipse's X traffic
a lot.	It makes some text difficult to read but if this solves your speed
issue it would help clarify where the problem is.
I don't know how to apply this patch, I suppose I would need the source-code from
eclipse for that. Would it be possible for you to compile this and send me the
jar-file, so that I put that in the plugins-directory (I suppose that's where 
it should go in the end)?
Created attachment 10394
swt.jar with all gradients disabled

Here is a copy of swt.jar for eclipse-M8 which has gradients disabled.	Put
this file in the plugins/org.eclipse.swt.gtk_3.0.0/ws/gtk directory, first
making a backup of the swt.jar file that's already there.  I think this jar
file will only work with M8.
Created attachment 10437
error log

error log when I use the swt.jar
When I use this swt.jar I get an error, I've attached the errorlog.
Before I tested this jar, I installed 3.0M8 again, and I looked if the typing was
still this slow, I noticed that it is particularly bad if I type in a file that
I just opened. 
So for instance, if I have two tabs, one for foo.java and one for bar.java
I type in foo.java, first it is slow, but after one line it gets better. Then I 
click on the tab for bar.java, and again the first line is slow, but it gets better.
I don't know if this information helps, nor if this is *always* like I just
described.

The error indicates that the jar file cannot be opened.  Is there a permissions
problem, or was the download somehow corrupted?  I downloaded it here and it
seems to be OK...
with this no-gradient swt.jar eclipse is _lighting_ fast :-) even over remote
X11 sessions. I hope there will be also a way to get this kind of swt.jar for
futher versions of eclipse :-) [maybe separate download for it on main download
page?]
Indeed I got a corrupt swt.jar when I downloaded it with mozilla. I've now got the
swt.jar with wget, and this worked.
Also it does indeed solve the problem. It works perfect now. 
Moving this bug to SWT.  The question is whether we are sending more data than 
is necessary?  Or are there some other ways to optimize this scenario.
Interesting that gradient should affect typing.  Are we drawing it more than 
we should?  VI to investigate with SSQ and SN as necessary.  Both Ruth and 
Adam confirm that Eclipse is faster.

Ruth and/or Adam - Is typing really faster or does Eclipse just feel faster?
Yes it's really much faster. Please see the first description: it really took
seconds for the screen to update itself after I hit enter to create a new line.
And this behaviour is probably worse when I just opened a new file (see
comment 40)
I replaced the swt.jar file and after working a few minutes with it, eclipse
crashed. Ater I tried to restart it, I kept getting this error:

!SESSION May 11, 2004 09:41:23.115 ---------------------------------------------
java.version=1.4.2_04
java.vendor=Sun Microsystems Inc.
BootLoader constants: OS=linux, ARCH=x86, WS=gtk, NL=en_US
!ENTRY org.eclipse.osgi May 11, 2004 09:41:23.116
!MESSAGE Bundle
reference:file:/usr/local/eclipse/plugins/org.eclipse.jdt.debug_3.0.0/ [29] was
not resolved
!ENTRY org.eclipse.osgi May 11, 2004 09:41:23.119
!MESSAGE Bundle
reference:file:/usr/local/eclipse/plugins/org.eclipse.debug.ui_3.0.0/ [57] was
not resolved
!ENTRY org.eclipse.osgi May 11, 2004 09:41:28.644
!MESSAGE Application error
!STACK 1
java.lang.NoClassDefFoundError
	at
org.eclipse.ui.internal.WorkbenchConfigurer.declareImage(WorkbenchConfigurer.java:92)
	at
org.eclipse.ui.internal.ide.IDEWorkbenchAdvisor.declareWorkbenchImage(IDEWorkbenchAdvisor.java:942)
	at
org.eclipse.ui.internal.ide.IDEWorkbenchAdvisor.declareWorkbenchImages(IDEWorkbenchAdvisor.java:860)
	at
org.eclipse.ui.internal.ide.IDEWorkbenchAdvisor.initialize(IDEWorkbenchAdvisor.java:182)
	at
org.eclipse.ui.application.WorkbenchAdvisor.basicInitialize(WorkbenchAdvisor.java:156)
	at org.eclipse.ui.internal.Workbench.init(Workbench.java:787)
	at org.eclipse.ui.internal.Workbench.runUI(Workbench.java:1513)
	at org.eclipse.ui.internal.Workbench.createAndRunWorkbench(Workbench.java:257)
	at org.eclipse.ui.PlatformUI.createAndRunWorkbench(PlatformUI.java:139)
	at org.eclipse.ui.internal.ide.IDEApplication.run(IDEApplication.java:90)
	at
org.eclipse.core.internal.runtime.PlatformActivator$1.run(PlatformActivator.java:277)
	at org.eclipse.core.runtime.adaptor.EclipseStarter.run(EclipseStarter.java:239)
	at org.eclipse.core.runtime.adaptor.EclipseStarter.run(EclipseStarter.java:117)
	at sun.reflect.NativeMethodAccessorImpl.invoke0(Native Method)
	at sun.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:39)
	at
sun.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:25)
	at java.lang.reflect.Method.invoke(Method.java:324)
	at org.eclipse.core.launcher.Main.basicRun(Main.java:267)
	at org.eclipse.core.launcher.Main.run(Main.java:692)
	at org.eclipse.core.launcher.Main.main(Main.java:676)


Now Eclipse is unusable. I suppose deleting the workspace should fix it but if
someone has a better idea befor I do this, please speak up! :-)

L
I need to understand this better.  When you type a key it is not causing the 
gradient to be drawn.  What we believe is happening is that when you first 
open an editor (or you first switch the focus to an editor from either a view 
or another application) this causes the gradient to be drawn.  If you start 
typing while the gradient is still being drawn, the keys typed will not 
actually be processed by the OS until after the painting of the screen has 
completed.

To confirm that this theory is correct, Ruth can you please do the following.

1) Go back to the original swt.jar that was included in 3.0 M8
2) Open an editor and give it focus by clicking in it but do not type any keys
3) Wait for 5 minutes without doing anything on that machine
4) Start typing in the editor

When you type in the editor in step 4, is typing slow or fast?

5) Now click on a view and click back on the editor (this causes a gradient 
colour change)
6) Immediately start typing in the editor

Is typing now slow or fast?
*** Bug 59014 has been marked as a duplicate of this bug. ***
okay, I've done these tests with the original swt.jar
First of all: it matters a lot if these files have been saved before or not. For
if they have pending changes a * is drawn in the tabheader and I think that that
also causes the gradient to repaint.

So I open a view files, type something in each of them, and then start the 
sequence of test as proposed.
At point 4: it still takes quite a while before you actually see where you
clicked, and the cursor starts blinking, but then after that the typing is fast.
At point 6: the same behaviour as at point 4.

If I do the same tests with files that aren't edited yet, then both 4 and 6 
take as slow as described earlier. 
I noticed in the meantime that there is also some flickering in the 
package explorer if I save a file (the cvs-attributes disappear and appear again)

Another data-point:

Using a 768/1.5M connection, the DXPC X protocol compressor, and the CygWin X
server (which is a recent version of X), Eclipse is *almost* usable using the
no-gradient version of SWT.jar.

I can still easily out-type Eclipse in the Java editor, but everything else is
now fast enough to be barely usable in this configuration.

By comparison, OpenOffice.org nearly keeps up with my keyboard autorepeat, which
is set as fast as possible, and *easily* keeps up with my typing speed.

Of course, both applications take forever to come up, but once up,
OpenOffice.org is very usable for anything I want to do in it, but Eclipse (with
the gradient-free SWT) is only usable for things that don't involve typing Java
code.

David, see comment #10.  Can you try the StyledText in the 
CustomControlExample?  It was "much faster" for Ruth.  Next try turning off 
all of the JavaEditor features in Eclipse.  Does typing get faster?
Ruth,

In the latest integration build (I20040512) I have reduced the number of times 
the gradient is drawn to the bare minimum.  A gradient is still being drawn 
but much less frequently and the size of the area being filled in is much 
smaller.  Can you please try this latest integration build and see if the 
performance is acceptable?  Thanks.
Steve,

I didn't get to the StyledText test you suggested last night (had a honey-do
list that kept me up until almost midnight), but one thing I notice when using
Eclipse running at home, but displaying here is that every character in the Java
editor that is not drawn black is drawn at least twice.  ie: I can see it appear
in black, and then its color changes to the keyword color, quoted string color,
etc.  The black characters might be doing the same thing too, but I couldn't
verify that visually.

I'll definitely try to do some testing with StyledText today or tomorrow and see
if I can pinpoint any issues with it or with how it is being used in the Java
editor.

I tested I20040506 versus I200405111600 in terms of image data sent using the
steps I described in comment #31.  I recorded a decrease of 33% in the amount of
image data sent: 3844k down to 2604k.  This decrease is especially significant
considering that this includes the splash logo, all icons, and Gtk+'s fancy
animated cursors.
I tested I200405111600, and it is indeed much better. Great!
I have got this problem on Eclipse 3.0M8 for Windows.
I am using Windows XP SP1 but I think it is the same origin in source code.

Is there already a patch for Windows (like this for Linux)?

Thanx in advance.

p.s.: I have made an update for this linux bug because I have not found it for
Windows. If there is already a bug report for Windows please excuse me.
Ruth, can we close this bug report?
PhoenixBB, the fix is X specific.  Sorry.
yes, and thanks for all the good work.
Fixed &gt; 20040513</WithStack>
    <WithOutStack>since 3.0M8 typing is terribly slow, for example if I want to add
a new line, and I type &lt;Enter&gt; then the effect is that the line on which
the cursor was, is duplicated, then a few seconds later the new duplicated
line will become gray (to indicate that it is selected), and then after a
second the cursor will return and I can continue typing.
Moving to Platform/SWT for comment. Perhaps related to changes in StyledText?

Ruth, were you using a Java Editor or a regular Text Editor?
Try turning off all Java Editor options - I mean EVERYTHING.  Is it still 
slow?  Is typing slow in the StyledText tab of the CustomControlExample?
This happens both in the java-editor and also in the regular text editor.
about the StyledText tab of the CustomControlExample, I don't know where to find
that.
CAR, can you help this guy run the CustomControlExample?
Hi, Ruth.

I am also curious which Linux platform you are running on.

To run the CustomControlExample, please go to this link, and follow the 
instructions in the "SWT Examples" section.
http://dev.eclipse.org/viewcvs/index.cgi/~checkout~/platform-swt-
home/SWT_Resources.html

CustomControlExample is a plug-in example (it can also run stand-alone, but 
the easiest thing for you to do is to follow the plug-in example instructions).
After launching the CustomControlExample, go to the StyledText tab. This is 
the eclipse java editor widget, without all of the java editing "extras". To 
make the StyledText in this example have a few more lines, just type in 
several more lines, and then change the size to "100 x 100" and back 
to "Preferred". Please let us know if this widget has the same slowness that 
you are experiencing in the java editor.
NOTE:  Do not run it as a plug in.  This will defeat the purpose of the 
experiment (ie. is typing slow in stand alone SWT or in Eclipse).
Actually, both standalone and plug-in will tell us something.

If StyledText runs fast when running CustomControlExample as a plug-in, then 
it is the java editor goo that is making StyledText slow.

If StyledText runs fast when running CustomControlExample standalone, then it 
is the hooking of global accelerators for all of eclipse that is making 
StyledText slow.

If StyledText is still slow when running CustomControlExample standalone, then 
it is our changes to StyledText that are the culprit.

I have just talked to the guys that made the StyledText changes, and they say 
they have made some performance improvements since M8. They also ask if it is 
really long lines of text that are very slow when you hit &lt;Enter&gt;.

They have not seen this kind of terribly slow behavior, but they are on fast 
machines, running Linux Red Hat 9.

Reassigning this bug to FH at the request of SSQ.
Ruth, are you running GTK or Motif ?
GTK is faster than used to be, so I suppose you are running motif.
You also could download this week integration build (which will be build 
tomorrow morning) and give it a try, it is much faster than M8.


1. the problem occurs on both gtk and eclipse.

2. I have tried the custom control example as plugin, and that is much faster.

3. I also tried to run this as stand-alone, but I must have done something wrong, 
for I get: java.util.MissingResourceException: Can't find bundle for base name
examples_control, locale en_US

4. I don't think it has to do with long lines.

5. Also I must add,that it is not *always* slow, I have tried to figure out when
exactly it is slow, but I have not yet seen a pattern.

6. my linux platform: gentoo linux 
Linux i686 Intel(R) Pentium(R) 4 CPU 2.80GHz GenuineIntel GNU/Linux 

7. I run eclipse on a remote computer (with ssh). the information at point 6 is
about this remote computer.
at point 1 in my previous comment I meant gtk and motif of course (not gtk and
eclipse)
Did you try the new integration build (Integration Build: I20040407
)?
FH, this has nothing to do with SWT (typing in ControlExample plug-in was not 
slow).  Please move this out of SWT and reassign bug ownership (unless you 
disagree of course).  Thanks.
Tom, did you notice this (degradation also on Text editor)?

Ruth,
&gt;5. Also I must add,that it is not *always* slow, I have tried to figure out when
&gt;exactly it is slow, but I have not yet seen a pattern.
might it be when you have lots of stuff highlighted in text (e.g. when having
search results)?
No, I haven't seen any degradation in M8 or after. 

&gt; 7. I run eclipse on a remote computer (with ssh). the information at point 6 is
&gt; about this remote computer.

Could this make a difference? I am not sure about how good we are running on a
remote X server - even with good bandwidth frequent updates might cause
problems. This could also explain why it's sometimes slow and sometimes isn't:
that may well depend on the delay experienced on the network.

Carolyn, do we have any measurings of running eclipse remotely.
Steve, please read comment 15 - does anyone run eclipse over ssh?
Ask Felipe or SSQ.  They have done this in the past.
I done this on the past (like one time 6 months ago), I really don't remember 
how fast/slow it was.
I asked to Ruth (reporter) to retested this problem with a newer version of 
Eclipse (see comment12). 

We disabled double buffered for gtk/carbon and we started to cache 
glyphs/metrics for the visible content of the StyledText. StyledText 
performance is much better now (uses more memory though).

Is anti-aliasing enabled ? Does it make any difference ?
FH, please try again.  Be sure to distinguish between typing in a stand alone 
SWT example and Eclipse.  Thanks.
I'd like to add that I'm seeing the same. I'm running on Gentoo with 3.0M8 and
JDK 1.4.2.04 from Sun.

I've noticed that I can type for a while with no problems then all of a sudden,
things will start bogging down tremendously. I will type a line and the text
will appear 5-7 seconds later. It usually occurs after a few minutes of usage
(maybe 60).

L
Re: comment 16:

&gt;&gt;Steve, please read comment 15 - does anyone run eclipse over ssh?&lt;&lt;

I've run in the cartesian product of all of the following configurations:

(Eclipse, Standalone SWT)(Naked X protocol, X tunnled through SSH)

Informally, here's what I've observed:

- Lightweight SWT controls tend to perform badly over X--both pure X and tunnled
over SSH.

- GC.drawText() performs terribly if antialiasing is on.  Turning antialiasing
off using the XFT environment variable makes GC.drawText() perform beautifully.  

When using an X terminal, you can see a huge amount of network traffic when
doing GC.drawText() with antialiasing on simply by watching the activity LEDs on
the network card.  I've traced the code down to the Pango calls used by
#drawText() and it seems that Pango is rendering the text into a pixmap in the X
client, and then sending the pixmap to the X server.  This is obviously very
inefficient.  I have no idea if there is a way to make GTK/GDK do antialiasing
in the X server if that is available, but this would greatly improve performance.

- On my 10MBPS LAN, Eclipse 2.x and 3.0 up to M4 (haven't tried later than that)
performs miserably on X terminals.  By "miserably", I mean that typing in the
Java editor refreshes approximately every *second*.  Other actions--picking menu
choices, running dialog boxes, using list boxes, etc--perform acceptably.

- Occasionally I forget to commit changes I've been working on at home (under
Linux) to CVS at work.  In that situation, I SSH from my work machine (running
Cygwin/X on Windows 2000) back to my home machine.  At work, we have a T1.  At
home, I have a decent-sized ADSL connection with slightly less bandwidth than a T1.

When I do this, Eclipse is almost entirely unusable.  Everything--menus, native
GTK controls--everything can be seen drawing.  Similarly, SWT standalone apps
are unusable.  However, Emacs runs fine once it starts up--which takes awhile.

However, if i run the DXPC X protocol compressor, then both Eclipse and SWT
applications run reasonably--except for the Java editor or my custom control
that uses #drawText() when antialiasing is turned on.

I wish I could provide more detail, but I hope this helps.

David, when you say you are using X terminals, what hardware specifically or
what version of the X server?  When you notice Pango rendering its antialiased
text to a pixmap, it is likely because the X server you are talking to does not
support the RENDER extension for server-side compositing, and so this is its
only fallback.

I'm specifically curious about your 10Mbps LAN cases.  What is the hardware in
question there?
&gt;&gt;When I do this, Eclipse is almost entirely unusable.  Everything--menus, native
GTK controls--everything can be seen drawing.  Similarly, SWT standalone apps
are unusable.  However, Emacs runs fine once it starts up--which takes awhile.&lt;&lt;

I should clarify this.  The only standalone SWT application I've tried over this
connection is one that heavily uses lightweight controls using #drawText().  So
I'm not saying that all of SWT performs miserably in this situation.
&gt;&gt;David, when you say you are using X terminals, what hardware specifically or
what version of the X server?&lt;&lt;

I have an older machine running Mandrake Linux and XFree86 3.3.6 in a thin
client configuration for my main workstation/server.  (Yeah, it boots from the
hard drive, not over the network.)

&gt;&gt;When you notice Pango rendering its antialiased text to a pixmap, it is likely
because the X server you are talking to does not support the RENDER extension
for server-side compositing, and so this is its only fallback.&lt;&lt;

Certainly this is a possibility.  I have no idea what versions of XFree added
support for XRender...

&gt;&gt;I'm specifically curious about your 10Mbps LAN cases.  What is the hardware in
question there?&lt;&lt;

My 10Mbps LAN has 3 machines on it--the main server, the Mandrake box, and a
custom MP3 stereo that I built from spare parts.  All of my tests have been run
when the MP3 stereo box was *not* streaming any music over the LAN, so there was
effectively a dedicated 10MBPS connection between the server and the Mandrake box.

The two machines are connected via a hub, not a switch.

(Although I have several switches--for example, built into my firewall--I've
noticed that connection setup/teardown is *much* slower through a switch than
through the hub.  Since the next/prev buttons my MP3 stereo client rely on low
latencies during TCP connection setup/teardown, I've stuck with the hub.)

The server is using an Intel EtherExpress Pro card.

The Mandrake box is a Pentium 2 266Mhz laptop and is using an Apollo 10/100
PCMCIA card.

I have no idea what brand the hub is, but it seems to perform decently.


&gt;&gt;I have an older machine running Mandrake Linux and XFree86 3.3.6 in a thin
client configuration for my main workstation/server.&lt;&lt;

The older box is the thin client, not the server.  ;-)
RENDER support was added in X 4.0.2, so for any X 3.3.6 client you will have to
render text to a pixmap.  Also, remember that the X server does actually do
work, so having such a slow machine as your client won't help. :)
&gt;&gt;so having such a slow machine as your client won't help.&lt;&lt;

Hey!  In its day, *that* machine rendered 3d scene graphs using Mesa!  (Simple
ones, at only a few frames per second).  ;-)

Seriously though, that machine has always had decent accelerated 2d graphics,
especially under Linux.  And OpenOffice and Mozilla currently perform fine on it
in X terminal mode (haven't tried the local configuration).


looks more like a general platform ui/swt than an editor problem
I don't think this is a general gtk or ssh problem, for I have returned to using
eclipse3.0M7 which doesn't have any of these problems at all.
I ran I20040420 over ssh to a remote machine.  The X client was a P3-733mhz and
the appliaction was launched from a P4-2.5ghz over a fast LAN.  Performance
seemed fine and I did not notice any major slowdowns.  Definitely not as bad as
what Ruth describes.

I did see the behavior of hit enter, see line doubled, then see line cleared. 
This occured only on the first time I hit enter, the rest were snappy.  It was
about a second before the line was cleared.  Maybe this might be a worthwhile
test case to watch the X traffic of and see if we're making too many requests ?
I attempted to measure the amount of X traffic between M7 and M8.  The goal was
to determine if there was a significant increase in X calls between the two
versions, and also to look at the amount of data.  I did not look at the
difference in the types of requests being made, simply how many events and
requests occured, and how large they were.  I used the X protocol monitor 'xmon'
with patches from Debian.  The test was performed on a RH9 machine, Gtk+ 2.2.1.

Test case:

On both eclipse M7 and M8:
1. Create a fresh workspace.
2. Create a new Java project.
3. Create a new Java class, it is initialized to default text.

Then I ran each in 'xmon', enabling viewing of requests, events, and errors.  In
each I did the following:

1. Start eclipse.
2. The editor for our new java class is active, scroll down to the line with the
class declaration.
3. Hit 'END' to go to the end of the line.
4. Hit enter to start a new line.
5. Go to file -&gt; quit.
6. Hit deselect all and OK when the 'save changed files' dialog appears.
7. Eclipse exits.

Each test took about 30 seconds to run.  Here are the request and event counts:

1. X requests: 20751 with M7, 19894 with M8
2. X events: 2965 with M7, 2993 with M8

So I don't think we're seeing a large increase in the number of requests made. 
I think this implies that there is not a signifiacnt increase in the number of X
requests between the two versions.

Here is the byte counts:

1. Client -&gt; Server:  1509476 bytes with M7, 4845348 with M8
2. Server -&gt; Client:  214500 bytes with M7, 224744 with M8

So we're sending more than 3 times as much data to the X server.  This is likely
where the problem is.  We're seemingly not doing a lot more work, just sending a
lot more data.  To move forward, I will try and look at which X requests are
sending a lot of data, and see where they are from.  Note that I'm also not
distinguishing between startup cost and cost of running, these numbers all
include the startup time when we have to upload our gradient images and all
that.  It may be worthwhile to look at X traffic just from the middle of an
active session.
Created attachment 10066
xmon log from Eclipse M7
Created attachment 10067
xmon log from Eclipse M8
Created attachment 10367
Wire images from M7, M7+newlook jars, and M8

I extracted the raw images being sent over the wire between M7, M7+newlook jar
files, and M8.	Attached is a set of images over about 10k from each run.  With
both M8 and M7 with the new look jar files, we're uploading some really large
gradient images.  All of the gradient images for the tabs in M7 were much
smaller.  M8 sends almost twice as much image data over M7 using my (admittedly
over-simplistic) test.

If there is a way to cut back on the number of gradient images sent to the
server, or just make them smaller, it may be worth it for remote users of
eclipse.
BB to build a patch that disables gradient in Eclipse.  Once this patch is 
installed, we can then determine whether too much data over the wire is 
responsible for the slow down you are seeing.
Created attachment 10370
Patch to disable gradients

Ruth, can you try this patch and see if it solves your speed problems?

This one-line patch simply disables gradients and decreases eclipse's X traffic
a lot.	It makes some text difficult to read but if this solves your speed
issue it would help clarify where the problem is.
I don't know how to apply this patch, I suppose I would need the source-code from
eclipse for that. Would it be possible for you to compile this and send me the
jar-file, so that I put that in the plugins-directory (I suppose that's where 
it should go in the end)?
Created attachment 10394
swt.jar with all gradients disabled

Here is a copy of swt.jar for eclipse-M8 which has gradients disabled.	Put
this file in the plugins/org.eclipse.swt.gtk_3.0.0/ws/gtk directory, first
making a backup of the swt.jar file that's already there.  I think this jar
file will only work with M8.
Created attachment 10437
error log

error log when I use the swt.jar
When I use this swt.jar I get an error, I've attached the errorlog.
Before I tested this jar, I installed 3.0M8 again, and I looked if the typing was
still this slow, I noticed that it is particularly bad if I type in a file that
I just opened. 
So for instance, if I have two tabs, one for foo.java and one for bar.java
I type in foo.java, first it is slow, but after one line it gets better. Then I 
click on the tab for bar.java, and again the first line is slow, but it gets better.
I don't know if this information helps, nor if this is *always* like I just
described.

The error indicates that the jar file cannot be opened.  Is there a permissions
problem, or was the download somehow corrupted?  I downloaded it here and it
seems to be OK...
with this no-gradient swt.jar eclipse is _lighting_ fast :-) even over remote
X11 sessions. I hope there will be also a way to get this kind of swt.jar for
futher versions of eclipse :-) [maybe separate download for it on main download
page?]
Indeed I got a corrupt swt.jar when I downloaded it with mozilla. I've now got the
swt.jar with wget, and this worked.
Also it does indeed solve the problem. It works perfect now. 
Moving this bug to SWT.  The question is whether we are sending more data than 
is necessary?  Or are there some other ways to optimize this scenario.
Interesting that gradient should affect typing.  Are we drawing it more than 
we should?  VI to investigate with SSQ and SN as necessary.  Both Ruth and 
Adam confirm that Eclipse is faster.

Ruth and/or Adam - Is typing really faster or does Eclipse just feel faster?
Yes it's really much faster. Please see the first description: it really took
seconds for the screen to update itself after I hit enter to create a new line.
And this behaviour is probably worse when I just opened a new file (see
comment 40)
I replaced the swt.jar file and after working a few minutes with it, eclipse
crashed. Ater I tried to restart it, I kept getting this error:

!SESSION May 11, 2004 09:41:23.115 ---------------------------------------------
java.version=1.4.2_04
java.vendor=Sun Microsystems Inc.
BootLoader constants: OS=linux, ARCH=x86, WS=gtk, NL=en_US
!ENTRY org.eclipse.osgi May 11, 2004 09:41:23.116
!MESSAGE Bundle
reference:file:/usr/local/eclipse/plugins/org.eclipse.jdt.debug_3.0.0/ [29] was
not resolved
!ENTRY org.eclipse.osgi May 11, 2004 09:41:23.119
!MESSAGE Bundle
reference:file:/usr/local/eclipse/plugins/org.eclipse.debug.ui_3.0.0/ [57] was
not resolved
!ENTRY org.eclipse.osgi May 11, 2004 09:41:28.644
!MESSAGE Application error
!STACK 1



Now Eclipse is unusable. I suppose deleting the workspace should fix it but if
someone has a better idea befor I do this, please speak up! :-)

L
I need to understand this better.  When you type a key it is not causing the 
gradient to be drawn.  What we believe is happening is that when you first 
open an editor (or you first switch the focus to an editor from either a view 
or another application) this causes the gradient to be drawn.  If you start 
typing while the gradient is still being drawn, the keys typed will not 
actually be processed by the OS until after the painting of the screen has 
completed.

To confirm that this theory is correct, Ruth can you please do the following.

1) Go back to the original swt.jar that was included in 3.0 M8
2) Open an editor and give it focus by clicking in it but do not type any keys
3) Wait for 5 minutes without doing anything on that machine
4) Start typing in the editor

When you type in the editor in step 4, is typing slow or fast?

5) Now click on a view and click back on the editor (this causes a gradient 
colour change)
6) Immediately start typing in the editor

Is typing now slow or fast?
*** Bug 59014 has been marked as a duplicate of this bug. ***
okay, I've done these tests with the original swt.jar
First of all: it matters a lot if these files have been saved before or not. For
if they have pending changes a * is drawn in the tabheader and I think that that
also causes the gradient to repaint.

So I open a view files, type something in each of them, and then start the 
sequence of test as proposed.
At point 4: it still takes quite a while before you actually see where you
clicked, and the cursor starts blinking, but then after that the typing is fast.
At point 6: the same behaviour as at point 4.

If I do the same tests with files that aren't edited yet, then both 4 and 6 
take as slow as described earlier. 
I noticed in the meantime that there is also some flickering in the 
package explorer if I save a file (the cvs-attributes disappear and appear again)

Another data-point:

Using a 768/1.5M connection, the DXPC X protocol compressor, and the CygWin X
server (which is a recent version of X), Eclipse is *almost* usable using the
no-gradient version of SWT.jar.

I can still easily out-type Eclipse in the Java editor, but everything else is
now fast enough to be barely usable in this configuration.

By comparison, OpenOffice.org nearly keeps up with my keyboard autorepeat, which
is set as fast as possible, and *easily* keeps up with my typing speed.

Of course, both applications take forever to come up, but once up,
OpenOffice.org is very usable for anything I want to do in it, but Eclipse (with
the gradient-free SWT) is only usable for things that don't involve typing Java
code.

David, see comment #10.  Can you try the StyledText in the 
CustomControlExample?  It was "much faster" for Ruth.  Next try turning off 
all of the JavaEditor features in Eclipse.  Does typing get faster?
Ruth,

In the latest integration build (I20040512) I have reduced the number of times 
the gradient is drawn to the bare minimum.  A gradient is still being drawn 
but much less frequently and the size of the area being filled in is much 
smaller.  Can you please try this latest integration build and see if the 
performance is acceptable?  Thanks.
Steve,

I didn't get to the StyledText test you suggested last night (had a honey-do
list that kept me up until almost midnight), but one thing I notice when using
Eclipse running at home, but displaying here is that every character in the Java
editor that is not drawn black is drawn at least twice.  ie: I can see it appear
in black, and then its color changes to the keyword color, quoted string color,
etc.  The black characters might be doing the same thing too, but I couldn't
verify that visually.

I'll definitely try to do some testing with StyledText today or tomorrow and see
if I can pinpoint any issues with it or with how it is being used in the Java
editor.

I tested I20040506 versus I200405111600 in terms of image data sent using the
steps I described in comment #31.  I recorded a decrease of 33% in the amount of
image data sent: 3844k down to 2604k.  This decrease is especially significant
considering that this includes the splash logo, all icons, and Gtk+'s fancy
animated cursors.
I tested I200405111600, and it is indeed much better. Great!
I have got this problem on Eclipse 3.0M8 for Windows.
I am using Windows XP SP1 but I think it is the same origin in source code.

Is there already a patch for Windows (like this for Linux)?

Thanx in advance.

p.s.: I have made an update for this linux bug because I have not found it for
Windows. If there is already a bug report for Windows please excuse me.
Ruth, can we close this bug report?
PhoenixBB, the fix is X specific.  Sorry.
yes, and thanks for all the good work.
Fixed &gt; 20040513</WithOutStack>
  </Bug>
  <Bug>
    <BugId amount="56695" />
    <CreationDate amount="2004-03-30 02:30:00 -0500" />
    <DupId amount="" />
    <classification amount="Eclipse" />
    <Product amount="JDT" />
    <component amount="UI" />
    <Version amount="3.0" />
    <rep_platform amount="PC" />
    <op_sys amount="Windows NT" />
    <priority amount="P3" />
    <bug_severity amount="normal" />
    <Summery>M8 Cannot edit a custom Code Formatter profile</Summery>
    <Patches amount="0" />
    <Stacktraces amount="0" />
    <SourceCodeRegions amount="0" />
    <Enumerations amount="0" />
    <bug_status amount="RESOLVED" />
    <resolution amount="FIXED" />
    <WithStack>I have selected a custom profile. When I want to edit it by clicking on the 
Edit' button, the editor window does not show up.
Got fixed for build I20040330</WithStack>
    <WithOutStack>I have selected a custom profile. When I want to edit it by clicking on the 
Edit' button, the editor window does not show up.
Got fixed for build I20040330</WithOutStack>
  </Bug>
  <Bug>
    <BugId amount="56696" />
    <CreationDate amount="2004-03-30 02:39:00 -0500" />
    <DupId amount="53702" />
    <classification amount="Eclipse" />
    <Product amount="JDT" />
    <component amount="UI" />
    <Version amount="3.0" />
    <rep_platform amount="PC" />
    <op_sys amount="Windows NT" />
    <priority amount="P3" />
    <bug_severity amount="minor" />
    <Summery>M8 Wrong format for getter/setter [code manipulation]</Summery>
    <Patches amount="0" />
    <Stacktraces amount="0" />
    <SourceCodeRegions amount="0" />
    <Enumerations amount="0" />
    <bug_status amount="RESOLVED" />
    <resolution amount="DUPLICATE" />
    <WithStack>It seems that the format for Eclipse generated getters/setters is a bit broken. 
It won't add any extra blank line between methods, in spite of the code 
formatter that is correctly setup for this purpose.


*** This bug has been marked as a duplicate of 53702 ***</WithStack>
    <WithOutStack>It seems that the format for Eclipse generated getters/setters is a bit broken. 
It won't add any extra blank line between methods, in spite of the code 
formatter that is correctly setup for this purpose.


*** This bug has been marked as a duplicate of 53702 ***</WithOutStack>
  </Bug>
  <Bug>
    <BugId amount="56697" />
    <CreationDate amount="2004-03-30 03:11:00 -0500" />
    <DupId amount="" />
    <classification amount="Eclipse" />
    <Product amount="JDT" />
    <component amount="Core" />
    <Version amount="2.1.2" />
    <rep_platform amount="PC" />
    <op_sys amount="Windows XP" />
    <priority amount="P3" />
    <bug_severity amount="normal" />
    <Summery>An error during parsing and AST tree.</Summery>
    <Patches amount="0" />
    <Stacktraces amount="0" />
    <SourceCodeRegions amount="1">
      <source_code type="assignment">
        <location start="251" end="329" />
        <code>ITypeBinding type_binding = qualifiedName.getQualifier().resolveTypeBinding();</code>
      </source_code>
    </SourceCodeRegions>
    <Enumerations amount="0" />
    <bug_status amount="RESOLVED" />
    <resolution amount="WORKSFORME" />
    <WithStack>Hi!

I've found an error during parsing and AST tree.

I use an AST tree and a visitor class.

The visitor method 'endVisit' (with QualifiedName as parameter) has this lines:

IBinding i_binding = qualifiedName.getQualifier().resolveBinding();	
					
ITypeBinding type_binding = qualifiedName.getQualifier().resolveTypeBinding();


The problems is that when visitor inspect lines as:


  private int[] posicionTabla = new int[]
        {
            AP502002.CODNIVEL3, AP502002.NOMNIVEL3, AP502002.CODAUTORIZA,
            AP502002.NOMUSRCIA, AP502002.TIPAUTORIZA, AP502002.NOMAUTORIZA,
            AP502002.CODCTOAUTORIZA, AP502002.NOMCTOAUTORIZA, AP502002.CODMON,
            AP502002.NOMMON, AP502002.MCAINH, AP502002.IMPORTEAUTORIZA,
            AP502002.NUMDECIMALES
        };


the type_binding variables is only correct (not null) for the first element in 
the array. It is null for the next ones. 

AP502002 extends from JFrame and all fields are ints.
Could you please attach your complete test case? It is easier for us to
reproduce your problem.

I will investigate as soon as I have your test case. Please zip the file and
attach it to this bug report.
Created attachment 9005
Classes
Thanks, I will check it with the 3.0 builds.
Could you please provide the source for the class AP502002?
Thanks.
Decrease severity as I am waiting for complete reproducable test case.
Created attachment 9082
The AP502002 Class
All the fields in your array initializer are wrong.
The names in the file you sent me are preceeded with 'ivj'. Is this a mistake
submitting the bug?

I will try to reproduce your problem with a simple test case.

I tried to reproduce your problem but unsuccessfully.
I will attach my test case. Could you please try it on your side and let me know
if it is working?

Thanks.
I tried only in 3.0 stream.
Created attachment 9102
Test case to try on your machine
Hi!

I run your test case and the problem persist.

I'm using VE 2.1.2 and java 1.4.2_3.

My code prefix the fields names with a 'ivj' prefix.

can you send me your 'parser code' that do this changes?

Many thanks!
I build up an example and I removed the 'ivj' prefix.

I need some clarifications. Are you saying that you write some code that refers
to field without the prefix and you expect to get the bindings?

Could you please describe what you are doing to get the problem from an empty
worspace?

Thanks.
Close as WORKSFORME.
Reopen if you can provide a simple test case that shows the problem. Trying to
reproduce it using your description is unsuccessful so far.</WithStack>
    <WithOutStack>Hi!

I've found an error during parsing and AST tree.

I use an AST tree and a visitor class.

The visitor method 'endVisit' (with QualifiedName as parameter) has this lines:

IBinding i_binding = qualifiedName.getQualifier().resolveBinding();	
					
ITypeBinding type_binding = qualifiedName.getQualifier().resolveTypeBinding();


The problems is that when visitor inspect lines as:


  private int[] posicionTabla = new int[]
        {
            AP502002.CODNIVEL3, AP502002.NOMNIVEL3, AP502002.CODAUTORIZA,
            AP502002.NOMUSRCIA, AP502002.TIPAUTORIZA, AP502002.NOMAUTORIZA,
            AP502002.CODCTOAUTORIZA, AP502002.NOMCTOAUTORIZA, AP502002.CODMON,
            AP502002.NOMMON, AP502002.MCAINH, AP502002.IMPORTEAUTORIZA,
            AP502002.NUMDECIMALES
        };


the type_binding variables is only correct (not null) for the first element in 
the array. It is null for the next ones. 

AP502002 extends from JFrame and all fields are ints.
Could you please attach your complete test case? It is easier for us to
reproduce your problem.

I will investigate as soon as I have your test case. Please zip the file and
attach it to this bug report.
Created attachment 9005
Classes
Thanks, I will check it with the 3.0 builds.
Could you please provide the source for the class AP502002?
Thanks.
Decrease severity as I am waiting for complete reproducable test case.
Created attachment 9082
The AP502002 Class
All the fields in your array initializer are wrong.
The names in the file you sent me are preceeded with 'ivj'. Is this a mistake
submitting the bug?

I will try to reproduce your problem with a simple test case.

I tried to reproduce your problem but unsuccessfully.
I will attach my test case. Could you please try it on your side and let me know
if it is working?

Thanks.
I tried only in 3.0 stream.
Created attachment 9102
Test case to try on your machine
Hi!

I run your test case and the problem persist.

I'm using VE 2.1.2 and java 1.4.2_3.

My code prefix the fields names with a 'ivj' prefix.

can you send me your 'parser code' that do this changes?

Many thanks!
I build up an example and I removed the 'ivj' prefix.

I need some clarifications. Are you saying that you write some code that refers
to field without the prefix and you expect to get the bindings?

Could you please describe what you are doing to get the problem from an empty
worspace?

Thanks.
Close as WORKSFORME.
Reopen if you can provide a simple test case that shows the problem. Trying to
reproduce it using your description is unsuccessful so far.</WithOutStack>
  </Bug>
  <Bug>
    <BugId amount="56698" />
    <CreationDate amount="2004-03-30 03:12:00 -0500" />
    <DupId amount="56425" />
    <classification amount="Eclipse" />
    <Product amount="PDE" />
    <component amount="UI" />
    <Version amount="3.0" />
    <rep_platform amount="PC" />
    <op_sys amount="Windows XP" />
    <priority amount="P3" />
    <bug_severity amount="normal" />
    <Summery>Plug-in dependencies not updated</Summery>
    <Patches amount="0" />
    <Stacktraces amount="0" />
    <SourceCodeRegions amount="0" />
    <Enumerations amount="0" />
    <bug_status amount="RESOLVED" />
    <resolution amount="DUPLICATE" />
    <WithStack>I have created a new plugin project and selected the OSGi option. In the
required plugins list I only see:
org.eclipse.core.runtime and org.eclipse.ui

I manually add org.eclipse.core.resources and save the plugin, in the plugin.xml
file I now see the import statement for org.eclipse.core.resources but in the
Plug-in Dependencies list in the Package Explorer, I can't see my resources
appear and I can't reference any classes in the resources in my Java code. I
have to manually add the resources.jar file to my Java build path to be able to
reference the classes.
Same problem with org.eclipse.ui.forms.
I add it to my plugin's dependencies but it does not appear in the explorer.
At execution, I get a java.lang.NoClassDefFoundError: 
org/eclipse/ui/forms/widgets/FormToolkit


*** This bug has been marked as a duplicate of 56425 ***</WithStack>
    <WithOutStack>I have created a new plugin project and selected the OSGi option. In the
required plugins list I only see:
org.eclipse.core.runtime and org.eclipse.ui

I manually add org.eclipse.core.resources and save the plugin, in the plugin.xml
file I now see the import statement for org.eclipse.core.resources but in the
Plug-in Dependencies list in the Package Explorer, I can't see my resources
appear and I can't reference any classes in the resources in my Java code. I
have to manually add the resources.jar file to my Java build path to be able to
reference the classes.
Same problem with org.eclipse.ui.forms.
I add it to my plugin's dependencies but it does not appear in the explorer.
At execution, I get a java.lang.NoClassDefFoundError: 
org/eclipse/ui/forms/widgets/FormToolkit


*** This bug has been marked as a duplicate of 56425 ***</WithOutStack>
  </Bug>
  <Bug>
    <BugId amount="56699" />
    <CreationDate amount="2004-03-30 03:15:00 -0500" />
    <DupId amount="" />
    <classification amount="Eclipse" />
    <Product amount="PDE" />
    <component amount="Doc" />
    <Version amount="3.0" />
    <rep_platform amount="PC" />
    <op_sys amount="Windows 2000" />
    <priority amount="P3" />
    <bug_severity amount="normal" />
    <Summery>Generated resources should be marked as DERIVED</Summery>
    <Patches amount="0" />
    <Stacktraces amount="0" />
    <SourceCodeRegions amount="0" />
    <Enumerations amount="0" />
    <bug_status amount="RESOLVED" />
    <resolution amount="WORKSFORME" />
    <WithStack>The resouces generated by PDE for the extension point documentation should be 
marked as DERIVED so that any team provider can recognize them as generated 
resources and will ignore them.

Every build checks out these files from ClearCase. The will make trouble in a 
team enverionment when working with reserved checkouts (only one can checkout a 
file). If they are marked as DERIVED any well implemented team provider will 
recognize them as generated files and will ignore these resources. Currently 
they are marked as "NEW" (not under source control).
The extension point schema documentation is generated in a temporary directory on preview, and doesn't show up in the workspace.

Gunnar, is this bug still an issue?
nope.</WithStack>
    <WithOutStack>The resouces generated by PDE for the extension point documentation should be 
marked as DERIVED so that any team provider can recognize them as generated 
resources and will ignore them.

Every build checks out these files from ClearCase. The will make trouble in a 
team enverionment when working with reserved checkouts (only one can checkout a 
file). If they are marked as DERIVED any well implemented team provider will 
recognize them as generated files and will ignore these resources. Currently 
they are marked as "NEW" (not under source control).
The extension point schema documentation is generated in a temporary directory on preview, and doesn't show up in the workspace.

Gunnar, is this bug still an issue?
nope.</WithOutStack>
  </Bug>
  <Bug>
    <BugId amount="56700" />
    <CreationDate amount="2004-03-30 03:16:00 -0500" />
    <DupId amount="" />
    <classification amount="Eclipse" />
    <Product amount="PDE" />
    <component amount="UI" />
    <Version amount="3.0" />
    <rep_platform amount="PC" />
    <op_sys amount="Windows XP" />
    <priority amount="P3" />
    <bug_severity amount="normal" />
    <Summery>Manually changed Java Build Path gets overwritten</Summery>
    <Patches amount="0" />
    <Stacktraces amount="0" />
    <SourceCodeRegions amount="0" />
    <Enumerations amount="0" />
    <bug_status amount="CLOSED" />
    <resolution amount="WORKSFORME" />
    <WithStack>When I manually add Required projects on the build path in the project
properties, e.g. I have Project1, Project2 and Project3 in my Workspace. On
Project1 I add Project2 as required project in the Java Build Path. Then I open
the plugin.xml file and I add or remove a required plugin and I save the
plugin.xml file, now my manually selected projects have been unselected and thus
I get lots of compiler errors (since it can't find the classes.
What build are you using?  Not 3.0M8 for sure.  You must be using an old 
build.  This would not happen if you are using PDE's dynamic classpath.  PDE 
would then leave all other entries in the .classpath alone.

By the way, we suggest that you do NOT manually tweak your plug-in project's 
classpath at development time, as this might result in a false compilation 
success at dev time, but you would have classloading errors at runtime.

The only classes available to your plug-in at runtime are what is provided by 
the JARs contributed by the plug-ins explicitly listed on your plug-in's 
dependency list.  If you manually add a Java project to your plug-in's 
classpath without adding that plug-in to your dependency list, you're just 
asking for trouble.
This is the build I'm using:
Version: 3.0.0
Build id: 200403261517

OK I now understand a little bit better how I should handle (or not handle) the
classpath. But this is my scenario and I can't get it working:

I have one plugin Project1 that contains my plugin and my perspective.
I then defined a new fragment Project2 that contains a class with all my global
constants and some other utility classes.
I then defined another fragment Project3 that contains all of my GUI stuff
(Wizards, views, editors, etc).

Of course, the GUI fragment need to reference some constants and/or utility
classes from Project2. 

How would I best handle this scenario without adding Project2 manually to
Project3's "Project References" and the build path?

Thanks for your help and feedback.

Alex
Your problem is that you are abusing the notion of a fragment.  A fragment is 
only meant to contain NL-translations and/or OS-specific code.

If you turn all those fragments into plug-ins, and establish the right 
dependencies among the plug-ins, everything should be fine.
OK I see ... that's pretty obvious after all. I'll do that.

I guess I would have run into some strange "problems" in a couple of months when
I would have tried to deploy my code.

Thank you very much.

Alex

PS: I closed this bug. I hope that's right.</WithStack>
    <WithOutStack>When I manually add Required projects on the build path in the project
properties, e.g. I have Project1, Project2 and Project3 in my Workspace. On
Project1 I add Project2 as required project in the Java Build Path. Then I open
the plugin.xml file and I add or remove a required plugin and I save the
plugin.xml file, now my manually selected projects have been unselected and thus
I get lots of compiler errors (since it can't find the classes.
What build are you using?  Not 3.0M8 for sure.  You must be using an old 
build.  This would not happen if you are using PDE's dynamic classpath.  PDE 
would then leave all other entries in the .classpath alone.

By the way, we suggest that you do NOT manually tweak your plug-in project's 
classpath at development time, as this might result in a false compilation 
success at dev time, but you would have classloading errors at runtime.

The only classes available to your plug-in at runtime are what is provided by 
the JARs contributed by the plug-ins explicitly listed on your plug-in's 
dependency list.  If you manually add a Java project to your plug-in's 
classpath without adding that plug-in to your dependency list, you're just 
asking for trouble.
This is the build I'm using:
Version: 3.0.0
Build id: 200403261517

OK I now understand a little bit better how I should handle (or not handle) the
classpath. But this is my scenario and I can't get it working:

I have one plugin Project1 that contains my plugin and my perspective.
I then defined a new fragment Project2 that contains a class with all my global
constants and some other utility classes.
I then defined another fragment Project3 that contains all of my GUI stuff
(Wizards, views, editors, etc).

Of course, the GUI fragment need to reference some constants and/or utility
classes from Project2. 

How would I best handle this scenario without adding Project2 manually to
Project3's "Project References" and the build path?

Thanks for your help and feedback.

Alex
Your problem is that you are abusing the notion of a fragment.  A fragment is 
only meant to contain NL-translations and/or OS-specific code.

If you turn all those fragments into plug-ins, and establish the right 
dependencies among the plug-ins, everything should be fine.
OK I see ... that's pretty obvious after all. I'll do that.

I guess I would have run into some strange "problems" in a couple of months when
I would have tried to deploy my code.

Thank you very much.

Alex

PS: I closed this bug. I hope that's right.</WithOutStack>
  </Bug>
</infozilla-output>

