<?xml version="1.0" encoding="UTF-8"?>
<infozilla-output>
  <Bug>
    <BugId amount="67901" />
    <CreationDate amount="2004-06-18 17:33:00 -0400" />
    <DupId amount="40838" />
    <classification amount="Eclipse" />
    <Product amount="JDT" />
    <component amount="Debug" />
    <Version amount="3.0" />
    <rep_platform amount="PC" />
    <op_sys amount="Windows XP" />
    <priority amount="P3" />
    <bug_severity amount="normal" />
    <Summery>Variables window gives com.sun.jdi.InternalException</Summery>
    <Patches amount="0" />
    <Stacktraces amount="0" />
    <SourceCodeRegions amount="0" />
    <Enumerations amount="0" />
    <bug_status amount="RESOLVED" />
    <resolution amount="DUPLICATE" />
    <WithStack>From time to time, the Variables window in the debugger turns grey with 
a "com.sun.jdi.InternalException: Got error code in reply: 34 occurred while 
retreiving value"

Work around is to put local variables into the Expressions window, but this is 
a touch annoying.

After stepping a few lines of code, the error goes away.  The error then 
resurfaces after stepping for the next few lines of code.  Seems random when 
it does/does not occur.

Client (Eclipse) is running under:
C:\&gt;java -version
java version "1.4.1"
Java(TM) 2 Runtime Environment, Standard Edition (build 1.4.1-b21)
Java HotSpot(TM) Client VM (build 1.4.1-b21, mixed mode)

Attaching to a remote session with this VM:
brucema@paias362 ~/]: java -version
java version "1.4.1"
Java(TM) 2 Runtime Environment, Standard Edition (build 1.4.1)
Classic VM (build 1.4.1, J2RE 1.4.1 IBM build cxia321411-20030930 (JIT 
enabled: jitc))
Fixed for RC3

*** This bug has been marked as a duplicate of 40838 ***</WithStack>
    <WithOutStack>From time to time, the Variables window in the debugger turns grey with 
a "com.sun.jdi.InternalException: Got error code in reply: 34 occurred while 
retreiving value"

Work around is to put local variables into the Expressions window, but this is 
a touch annoying.

After stepping a few lines of code, the error goes away.  The error then 
resurfaces after stepping for the next few lines of code.  Seems random when 
it does/does not occur.

Client (Eclipse) is running under:
C:\&gt;java -version
java version "1.4.1"
Java(TM) 2 Runtime Environment, Standard Edition (build 1.4.1-b21)
Java HotSpot(TM) Client VM (build 1.4.1-b21, mixed mode)

Attaching to a remote session with this VM:
brucema@paias362 ~/]: java -version
java version "1.4.1"
Java(TM) 2 Runtime Environment, Standard Edition (build 1.4.1)
Classic VM (build 1.4.1, J2RE 1.4.1 IBM build cxia321411-20030930 (JIT 
enabled: jitc))
Fixed for RC3

*** This bug has been marked as a duplicate of 40838 ***</WithOutStack>
  </Bug>
  <Bug>
    <BugId amount="67902" />
    <CreationDate amount="2004-06-18 17:34:00 -0400" />
    <DupId amount="65053" />
    <classification amount="Eclipse" />
    <Product amount="Platform" />
    <component amount="UI" />
    <Version amount="3.0" />
    <rep_platform amount="PC" />
    <op_sys amount="Linux" />
    <priority amount="P3" />
    <bug_severity amount="normal" />
    <Summery>keybindings stop working</Summery>
    <Patches amount="0" />
    <Stacktraces amount="0" />
    <SourceCodeRegions amount="0" />
    <Enumerations amount="0" />
    <bug_status amount="RESOLVED" />
    <resolution amount="DUPLICATE" />
    <WithStack>Using RC2 on two seperate linux machines I've had keybindings stop working
completely.  I haven't been able to find a specific reproducible set steps yet,
but it has happened several times.

Often, only Ctrl+Shift+T stops working, but I have seen all keybindings stop
working (as in I try to type characters into the editor and it doesn't work). 
The only way to work around the problem is to "Window-&gt;Reset Perspective"


*** This bug has been marked as a duplicate of 65053 ***
Surprising this still hasn't been fixed in v3.2
There were some lingering shell activation problems that were fixed in 3.3, as well as one handler conflict problem.

PW

True and I've followed all those threads.
What I know for sure:

* I'm using Eclipse v3.2 final
* I'm now using OS X, not Linux
* I open the Synchronize view
* Press F5 to refresh the sync info
* Press F12 to return to the Editor and nothing happens.  No keyboard commands are recognized until I use the mouse to select some UI element.

Alway reproducible, on Mac and Linux.  I still run into this problem daily.  You think after 3 full years I would have learned not to do that.

Oh well.
(In reply to comment #4)
&gt; 
&gt; Alway reproducible, on Mac and Linux.  I still run into this problem daily. 
&gt; You think after 3 full years I would have learned not to do that.

Give 3.3 a try (3.2 is over a year old) ... there were some sync bugs fixed as well.

Later,
PW

sorry, I meant 3.3.  I've been running 3.3 since M4.
Mike, do Travis' steps from comment #4 sound familiar.  He says that is a problem that is still in 3.3.0 final.

PW

I seem to recall seeing a similar report in the past but I don't recall the details. Bug 194089 and bug 145310 look like they may be related. One issue that I am aware of that may or may not be related involves focus problems that occur when the Progress Dialog opens. I would be curious to know if enabling/disabling the General&gt;Always run in background preferences has any effect.</WithStack>
    <WithOutStack>Using RC2 on two seperate linux machines I've had keybindings stop working
completely.  I haven't been able to find a specific reproducible set steps yet,
but it has happened several times.

Often, only Ctrl+Shift+T stops working, but I have seen all keybindings stop
working (as in I try to type characters into the editor and it doesn't work). 
The only way to work around the problem is to "Window-&gt;Reset Perspective"


*** This bug has been marked as a duplicate of 65053 ***
Surprising this still hasn't been fixed in v3.2
There were some lingering shell activation problems that were fixed in 3.3, as well as one handler conflict problem.

PW

True and I've followed all those threads.
What I know for sure:

* I'm using Eclipse v3.2 final
* I'm now using OS X, not Linux
* I open the Synchronize view
* Press F5 to refresh the sync info
* Press F12 to return to the Editor and nothing happens.  No keyboard commands are recognized until I use the mouse to select some UI element.

Alway reproducible, on Mac and Linux.  I still run into this problem daily.  You think after 3 full years I would have learned not to do that.

Oh well.
(In reply to comment #4)
&gt; 
&gt; Alway reproducible, on Mac and Linux.  I still run into this problem daily. 
&gt; You think after 3 full years I would have learned not to do that.

Give 3.3 a try (3.2 is over a year old) ... there were some sync bugs fixed as well.

Later,
PW

sorry, I meant 3.3.  I've been running 3.3 since M4.
Mike, do Travis' steps from comment #4 sound familiar.  He says that is a problem that is still in 3.3.0 final.

PW

I seem to recall seeing a similar report in the past but I don't recall the details. Bug 194089 and bug 145310 look like they may be related. One issue that I am aware of that may or may not be related involves focus problems that occur when the Progress Dialog opens. I would be curious to know if enabling/disabling the General&gt;Always run in background preferences has any effect.</WithOutStack>
  </Bug>
  <Bug>
    <BugId amount="67903" />
    <CreationDate amount="2004-06-18 17:36:00 -0400" />
    <DupId amount="" />
    <classification amount="Eclipse" />
    <Product amount="JDT" />
    <component amount="UI" />
    <Version amount="3.0" />
    <rep_platform amount="PC" />
    <op_sys amount="Windows 2000" />
    <priority amount="P3" />
    <bug_severity amount="normal" />
    <Summery>inconsistent behavior with empty selection [misc] [general issue]</Summery>
    <Patches amount="0" />
    <Stacktraces amount="0" />
    <SourceCodeRegions amount="0" />
    <Enumerations amount="1">
      <Enumeration lines="11">
        <Lines>
          <Line>a. Open Declaration: beep + red message in status bar</Line>
          <Line />
          <Line>b. Open Type Hierarchy: only beep</Line>
          <Line />
          <Line>c. Open Super Implementation: message box with explanation, no beep, no red message</Line>
          <Line />
          <Line>d. Source &gt; Correct indendation: nothing at all</Line>
          <Line />
          <Line>e. Source &gt; create constructor using fields: message box with no explanation of</Line>
          <Line>what the correct selection would be</Line>
          <Line>it's a detail, won't fix</Line>
        </Lines>
      </Enumeration>
    </Enumerations>
    <bug_status amount="RESOLVED" />
    <resolution amount="WONTFIX" />
    <WithStack>3.0rc2
action behavior on empty selection seems random.
create an empty java file.

use differnt actions from the context menu:
i counted 5 different outcomes

a. Open Declaration: beep + red message in status bar

b. Open Type Hierarchy: only beep

c. Open Super Implementation: message box with explanation, no beep, no red message 

d. Source &gt; Correct indendation: nothing at all

e. Source &gt; create constructor using fields: message box with no explanation of
what the correct selection would be
it's a detail, won't fix</WithStack>
    <WithOutStack>3.0rc2
action behavior on empty selection seems random.
create an empty java file.

use differnt actions from the context menu:
i counted 5 different outcomes

a. Open Declaration: beep + red message in status bar

b. Open Type Hierarchy: only beep

c. Open Super Implementation: message box with explanation, no beep, no red message 

d. Source &gt; Correct indendation: nothing at all

e. Source &gt; create constructor using fields: message box with no explanation of
what the correct selection would be
it's a detail, won't fix</WithOutStack>
  </Bug>
  <Bug>
    <BugId amount="67904" />
    <CreationDate amount="2004-06-18 17:44:00 -0400" />
    <DupId amount="" />
    <classification amount="Eclipse" />
    <Product amount="Platform" />
    <component amount="CVS" />
    <Version amount="3.0" />
    <rep_platform amount="PC" />
    <op_sys amount="Windows XP" />
    <priority amount="P5" />
    <bug_severity amount="normal" />
    <Summery>[History View] CVS history view not refreshed after Team/Update op.</Summery>
    <Patches amount="0" />
    <Stacktraces amount="0" />
    <SourceCodeRegions amount="0" />
    <Enumerations amount="1">
      <Enumeration lines="4">
        <Lines>
          <Line>- Open a type.</Line>
          <Line>- Team/View CVS History. I am on version 1.10, the latest is 1.12. The view</Line>
          <Line>shows 1.10 as my local copy.</Line>
          <Line>- Do a Team/Update on that type.</Line>
        </Lines>
      </Enumeration>
    </Enumerations>
    <bug_status amount="RESOLVED" />
    <resolution amount="WORKSFORME" />
    <WithStack>Version 3.0.rc2.

In the Java Browsing Perspective:
- Open a type.
- Team/View CVS History. I am on version 1.10, the latest is 1.12. The view
shows 1.10 as my local copy.
- Do a Team/Update on that type.

The CVS History view still shows 1.10 in bold with a "*" instead of 1.12. Doing
a refresh by right-clicking in the view updates it correctly.
Yes, that would be nice and not too hard to do. Not a regression, it has always
never auto-updated based on sync changes. That is why the refresh button exists.
*** Bug 97958 has been marked as a duplicate of this bug. ***
It tested it on build 200406251208 where the described behaviour is present and on I20081118-0800 where it's not.

I'm closing the bug with WORKSFORME.</WithStack>
    <WithOutStack>Version 3.0.rc2.

In the Java Browsing Perspective:
- Open a type.
- Team/View CVS History. I am on version 1.10, the latest is 1.12. The view
shows 1.10 as my local copy.
- Do a Team/Update on that type.

The CVS History view still shows 1.10 in bold with a "*" instead of 1.12. Doing
a refresh by right-clicking in the view updates it correctly.
Yes, that would be nice and not too hard to do. Not a regression, it has always
never auto-updated based on sync changes. That is why the refresh button exists.
*** Bug 97958 has been marked as a duplicate of this bug. ***
It tested it on build 200406251208 where the described behaviour is present and on I20081118-0800 where it's not.

I'm closing the bug with WORKSFORME.</WithOutStack>
  </Bug>
  <Bug>
    <BugId amount="67905" />
    <CreationDate amount="2004-06-18 18:14:00 -0400" />
    <DupId amount="" />
    <classification amount="Eclipse" />
    <Product amount="Platform" />
    <component amount="Compare" />
    <Version amount="3.0" />
    <rep_platform amount="PC" />
    <op_sys amount="Windows 2000" />
    <priority amount="P3" />
    <bug_severity amount="normal" />
    <Summery>[Java] replace from local history should not be disabled only because of parse errors</Summery>
    <Patches amount="0" />
    <Stacktraces amount="0" />
    <SourceCodeRegions amount="0" />
    <Enumerations amount="0" />
    <bug_status amount="ASSIGNED" />
    <resolution amount="" />
    <WithStack>3.0rc2
replace with local history is disabled if an entry has parsing problems
it should not be - i can see what the entry looks like and do want to replace.
i hava to copy and paste now</WithStack>
    <WithOutStack>3.0rc2
replace with local history is disabled if an entry has parsing problems
it should not be - i can see what the entry looks like and do want to replace.
i hava to copy and paste now</WithOutStack>
  </Bug>
  <Bug>
    <BugId amount="67906" />
    <CreationDate amount="2004-06-18 18:17:00 -0400" />
    <DupId amount="" />
    <classification amount="Eclipse" />
    <Product amount="Platform" />
    <component amount="SWT" />
    <Version amount="3.0" />
    <rep_platform amount="PC" />
    <op_sys amount="Linux-GTK" />
    <priority amount="P3" />
    <bug_severity amount="normal" />
    <Summery>VM crash running the UI test suite</Summery>
    <Patches amount="0" />
    <Stacktraces amount="0" />
    <SourceCodeRegions amount="0" />
    <Enumerations amount="0" />
    <bug_status amount="RESOLVED" />
    <resolution amount="WONTFIX" />
    <WithStack>While running the UI test suite I'm seeing this VM crash.  It does not seem to
always be in the same test when it dies.

An unexpected exception has been detected in native code outside the VM.
Unexpected Signal : 11 occurred at PC=0x59637020
Function=(null)+0x59637020
Library=/usr/lib/libgdk-x11-2.0.so.0

NOTE: We are unable to locate the function name symbol for the error
      just occurred. Please refer to release documentation for possible
      reason and solutions.


Current Java thread:
	at org.eclipse.swt.internal.gtk.OS.gtk_main_iteration(Native Method)
	at org.eclipse.swt.widgets.Shell.setVisible(Shell.java:1203)
	at org.eclipse.swt.widgets.Shell.open(Shell.java:839)
	at org.eclipse.jface.window.Window.open(Window.java:644)
	at org.eclipse.ui.internal.WorkbenchWindow.open(WorkbenchWindow.java:513)
	at org.eclipse.ui.internal.Workbench.busyOpenWorkbenchWindow(Workbench.java:535)
	at org.eclipse.ui.internal.Workbench.access$11(Workbench.java:519)
	at org.eclipse.ui.internal.Workbench$14.run(Workbench.java:1143)
	at org.eclipse.swt.custom.BusyIndicator.showWhile(BusyIndicator.java:69)
	at org.eclipse.ui.internal.Workbench.openWorkbenchWindow(Workbench.java:1140)
	at org.eclipse.ui.tests.util.UITestCase.openTestWindow(UITestCase.java:170)
	at org.eclipse.ui.tests.util.UITestCase.openTestWindow(UITestCase.java:161)
	at org.eclipse.ui.tests.zoom.ZoomTestCase.doSetUp(ZoomTestCase.java:58)
	at org.eclipse.ui.tests.util.UITestCase.setUp(UITestCase.java:113)
	at junit.framework.TestCase.runBare(TestCase.java:125)
	at junit.framework.TestResult$1.protect(TestResult.java:106)
	at junit.framework.TestResult.runProtected(TestResult.java:124)
	at junit.framework.TestResult.run(TestResult.java:109)
	at junit.framework.TestCase.run(TestCase.java:118)
	at junit.framework.TestSuite.runTest(TestSuite.java:208)
	at junit.framework.TestSuite.run(TestSuite.java:203)
	at junit.framework.TestSuite.runTest(TestSuite.java:208)
	at junit.framework.TestSuite.run(TestSuite.java:203)
	at junit.framework.TestSuite.runTest(TestSuite.java:208)
	at junit.framework.TestSuite.run(TestSuite.java:203)
	at
org.eclipse.jdt.internal.junit.runner.RemoteTestRunner.runTests(RemoteTestRunner.java:421)
	at
org.eclipse.jdt.internal.junit.runner.RemoteTestRunner.run(RemoteTestRunner.java:305)
	at
org.eclipse.pde.internal.junit.runtime.RemotePluginTestRunner.main(RemotePluginTestRunner.java:30)
	at
org.eclipse.pde.internal.junit.runtime.UITestApplication$1.run(UITestApplication.java:92)
	at org.eclipse.swt.widgets.RunnableLock.run(RunnableLock.java:35)
	at org.eclipse.swt.widgets.Synchronizer.runAsyncMessages(Synchronizer.java:106)
	- locked &lt;0x460896b0&gt; (a org.eclipse.swt.widgets.RunnableLock)
	at org.eclipse.swt.widgets.Display.runAsyncMessages(Display.java:2558)
	at org.eclipse.swt.widgets.Display.readAndDispatch(Display.java:2291)
	at org.eclipse.ui.internal.Workbench.runEventLoop(Workbench.java:1375)
	at org.eclipse.ui.internal.Workbench.runUI(Workbench.java:1346)
	at org.eclipse.ui.internal.Workbench.createAndRunWorkbench(Workbench.java:252)
	at org.eclipse.ui.PlatformUI.createAndRunWorkbench(PlatformUI.java:141)
	at org.eclipse.ui.internal.ide.IDEApplication.run(IDEApplication.java:96)
	at
org.eclipse.pde.internal.junit.runtime.UITestApplication.run(UITestApplication.java:33)
	at
org.eclipse.core.internal.runtime.PlatformActivator$1.run(PlatformActivator.java:335)
	at org.eclipse.core.runtime.adaptor.EclipseStarter.run(EclipseStarter.java:272)
	at org.eclipse.core.runtime.adaptor.EclipseStarter.run(EclipseStarter.java:128)
	at sun.reflect.NativeMethodAccessorImpl.invoke0(Native Method)
	at sun.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:39)
	at
sun.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:25)
	at java.lang.reflect.Method.invoke(Method.java:324)
	at org.eclipse.core.launcher.Main.basicRun(Main.java:186)
	at org.eclipse.core.launcher.Main.run(Main.java:647)
	at org.eclipse.core.launcher.Main.main(Main.java:631)

Dynamic libraries:
08048000-0804e000 r-xp 00000000 03:03 3172950    /usr/java/j2sdk1.4.2_03/bin/java
0804e000-0804f000 rw-p 00005000 03:03 3172950    /usr/java/j2sdk1.4.2_03/bin/java
40000000-40015000 r-xp 00000000 03:03 4088005    /lib/ld-2.3.2.so
40015000-40016000 rw-p 00015000 03:03 4088005    /lib/ld-2.3.2.so
40016000-4001e000 r-xp 00000000 03:03 1226769   
/usr/java/j2sdk1.4.2_03/jre/lib/i386/native_threads/libhpi.so
4001e000-4001f000 rw-p 00007000 03:03 1226769   
/usr/java/j2sdk1.4.2_03/jre/lib/i386/native_threads/libhpi.so
4001f000-40023000 rw-s 00000000 03:03 1228117    /tmp/hsperfdata_bbiggs/18318
40023000-40026000 r--s 00000000 03:03 1930173   
/usr/java/j2sdk1.4.2_03/jre/lib/ext/dnsns.jar
40026000-40029000 r--s 00000000 03:03 2634152   
/work/eclipse-I200406180800/plugins/org.eclipse.pde.junit.runtime_3.0.0/pdejunit.jar
40029000-4002a000 r--s 00000000 03:03 1980214   
/work/eclipse-I200406180800/plugins/org.eclipse.ui.workbench.compatibility_3.0.0/compatibility.jar
4002b000-40036000 r-xp 00000000 03:03 588684     /lib/tls/libpthread-0.34.so
40036000-40037000 rw-p 0000a000 03:03 588684     /lib/tls/libpthread-0.34.so
40039000-4003c000 r-xp 00000000 03:03 4088020    /lib/libdl-2.3.2.so
4003c000-4003d000 rw-p 00002000 03:03 4088020    /lib/libdl-2.3.2.so
4003e000-40438000 r-xp 00000000 03:03 4137608   
/usr/java/j2sdk1.4.2_03/jre/lib/i386/client/libjvm.so
40438000-40454000 rw-p 003f9000 03:03 4137608   
/usr/java/j2sdk1.4.2_03/jre/lib/i386/client/libjvm.so
40466000-40478000 r-xp 00000000 03:03 4088024    /lib/libnsl-2.3.2.so
40478000-40479000 rw-p 00011000 03:03 4088024    /lib/libnsl-2.3.2.so
4047b000-4049c000 r-xp 00000000 03:03 588682     /lib/tls/libm-2.3.2.so
4049c000-4049d000 rw-p 00020000 03:03 588682     /lib/tls/libm-2.3.2.so
4049d000-404ad000 r-xp 00000000 03:03 4121140   
/usr/java/j2sdk1.4.2_03/jre/lib/i386/libverify.so
404ad000-404af000 rw-p 0000f000 03:03 4121140   
/usr/java/j2sdk1.4.2_03/jre/lib/i386/libverify.so
404af000-404b0000 r--s 00000000 03:03 3550003   
/work/eclipse-I200406180800/plugins/org.eclipse.ui_3.0.0/ui.jar
404b1000-404bc000 r-xp 00000000 03:03 4088040    /lib/libnss_files-2.3.2.so
404bc000-404bd000 rw-p 0000a000 03:03 4088040    /lib/libnss_files-2.3.2.so
404bd000-404dd000 r-xp 00000000 03:03 4121126   
/usr/java/j2sdk1.4.2_03/jre/lib/i386/libjava.so
404dd000-404df000 rw-p 0001f000 03:03 4121126   
/usr/java/j2sdk1.4.2_03/jre/lib/i386/libjava.so
404df000-404f3000 r-xp 00000000 03:03 4121141   
/usr/java/j2sdk1.4.2_03/jre/lib/i386/libzip.so
404f3000-404f6000 rw-p 00013000 03:03 4121141   
/usr/java/j2sdk1.4.2_03/jre/lib/i386/libzip.so
404f6000-41e8e000 r--s 00000000 03:03 3041822   
/usr/java/j2sdk1.4.2_03/jre/lib/rt.jar
41ed8000-41eee000 r--s 00000000 03:03 3041821   
/usr/java/j2sdk1.4.2_03/jre/lib/sunrsasign.jar
41eee000-41fc9000 r--s 00000000 03:03 3041820   
/usr/java/j2sdk1.4.2_03/jre/lib/jsse.jar
41fc9000-41fda000 r--s 00000000 03:03 3041812   
/usr/java/j2sdk1.4.2_03/jre/lib/jce.jar
41ffb000-42000000 r--s 00000000 03:03 393370    
/work/eclipse-I200406180800/startup.jar
42000000-42130000 r-xp 00000000 03:03 588678     /lib/tls/libc-2.3.2.so
42130000-42133000 rw-p 00130000 03:03 588678     /lib/tls/libc-2.3.2.so
42136000-4268f000 r--s 00000000 03:03 3041813   
/usr/java/j2sdk1.4.2_03/jre/lib/charsets.jar
44737000-4473f000 r--s 00000000 03:03 4677460   
/work/eclipse-I200406180800/plugins/org.eclipse.osgi_3.0.0/console.jar
4473f000-44740000 r--s 00000000 03:03 4056916   
/work/eclipse-I200406180800/plugins/org.eclipse.platform_3.0.0/platform.jar
589db000-58bdb000 r--p 00000000 03:03 475266     /usr/lib/locale/locale-archive
58ddf000-58dec000 r--s 00000000 03:03 1930174   
/usr/java/j2sdk1.4.2_03/jre/lib/ext/ldapsec.jar
58dec000-58ea8000 r--s 00000000 03:03 1930177   
/usr/java/j2sdk1.4.2_03/jre/lib/ext/localedata.jar
58ea8000-58ec4000 r--s 00000000 03:03 1930176   
/usr/java/j2sdk1.4.2_03/jre/lib/ext/sunjce_provider.jar
58ec4000-58efc000 r--s 00000000 03:03 4677459   
/work/eclipse-I200406180800/plugins/org.eclipse.osgi_3.0.0/core.jar
58efc000-58f08000 r--s 00000000 03:03 4677462   
/work/eclipse-I200406180800/plugins/org.eclipse.osgi_3.0.0/osgi.jar
58f08000-58f1e000 r--s 00000000 03:03 4677461   
/work/eclipse-I200406180800/plugins/org.eclipse.osgi_3.0.0/resolver.jar
58f1e000-58f34000 r--s 00000000 03:03 4677464   
/work/eclipse-I200406180800/plugins/org.eclipse.osgi_3.0.0/defaultAdaptor.jar
58f34000-58f53000 r--s 00000000 03:03 4677463   
/work/eclipse-I200406180800/plugins/org.eclipse.osgi_3.0.0/eclipseAdaptor.jar
58fd4000-58fe4000 r-xp 00000000 03:03 4121137   
/usr/java/j2sdk1.4.2_03/jre/lib/i386/libnet.so
58fe4000-58fe5000 rw-p 0000f000 03:03 4121137   
/usr/java/j2sdk1.4.2_03/jre/lib/i386/libnet.so
58fe5000-58fe6000 r-xp 00000000 03:03 2175889   
/usr/X11R6/lib/X11/locale/lib/common/xlcUTF8Load.so.2
58fe6000-58fe7000 rw-p 00000000 03:03 2175889   
/usr/X11R6/lib/X11/locale/lib/common/xlcUTF8Load.so.2
590ea000-59140000 r--s 00000000 03:03 132427    
/work/eclipse-I200406180800/plugins/org.eclipse.core.runtime_3.0.0/runtime.jar
59140000-59146000 r-xp 00000000 03:03 4121138   
/usr/java/j2sdk1.4.2_03/jre/lib/i386/libnio.so
59146000-59147000 rw-p 00005000 03:03 4121138   
/usr/java/j2sdk1.4.2_03/jre/lib/i386/libnio.so
59147000-5915b000 r--s 00000000 03:03 2078326   
/work/eclipse-I200406180800/plugins/org.eclipse.update.configurator_3.0.0/configurator.jar
5915b000-59170000 r--s 00000000 03:03 2356300   
/work/eclipse-I200406180800/plugins/org.eclipse.core.runtime.compatibility_3.0.0/compatibility.jar
59170000-591ee000 r--s 00000000 03:03 4253136   
/work/eclipse-I200406180800/plugins/org.eclipse.jface_3.0.0/jface.jar
591ee000-5920c000 r--s 00000000 03:03 262218    
/work/eclipse-I200406180800/plugins/org.junit_3.8.1/junit.jar
5920c000-5935a000 r--s 00000000 03:03 4498205   
/work/eclipse-I200406180800/plugins/org.eclipse.ui.ide_3.0.0/ide.jar
5935a000-59390000 r-xp 00000000 03:03 1293446   
/work/workspaces/eclipse-bug2/org.eclipse.swt.gtk/os/linux/x86/libswt-pi-gtk-3061.so
59390000-59391000 rw-p 00035000 03:03 1293446   
/work/workspaces/eclipse-bug2/org.eclipse.swt.gtk/os/linux/x86/libswt-pi-gtk-3061.so
59392000-59398000 r--s 00000000 03:03 474404     /usr/lib/gconv/gconv-modules.cache
59398000-593a4000 r-xp 00000000 03:03 1700694   
/usr/lib/gtk-2.0/2.2.0/engines/libbluecurve.so
593a4000-593a5000 rw-p 0000b000 03:03 1700694   
/usr/lib/gtk-2.0/2.2.0/engines/libbluecurve.so
593a6000-595ef000 r-xp 00000000 03:03 360014     /usr/lib/libgtk-x11-2.0.so.0.200.1
595ef000-595f8000 rw-p 00248000 03:03 360014     /usr/lib/libgtk-x11-2.0.so.0.200.1
595fa000-59663000 r-xp 00000000 03:03 360008     /usr/lib/libgdk-x11-2.0.so.0.200.1
59663000-59668000 rw-p 00069000 03:03 360008     /usr/lib/libgdk-x11-2.0.so.0.200.1
59668000-5967f000 r-xp 00000000 03:03 359976     /usr/lib/libatk-1.0.so.0.200.0
5967f000-59681000 rw-p 00016000 03:03 359976     /usr/lib/libatk-1.0.so.0.200.0
59681000-59693000 r-xp 00000000 03:03 360010    
/usr/lib/libgdk_pixbuf-2.0.so.0.200.1
59693000-59694000 rw-p 00011000 03:03 360010    
/usr/lib/libgdk_pixbuf-2.0.so.0.200.1
59694000-596b4000 r-xp 00000000 03:03 360006     /usr/lib/libpangoxft-1.0.so.0.200.1
596b4000-596b5000 rw-p 0001f000 03:03 360006     /usr/lib/libpangoxft-1.0.so.0.200.1
596b5000-596c1000 r-xp 00000000 03:03 360004     /usr/lib/libpangox-1.0.so.0.200.1
596c1000-596c2000 rw-p 0000b000 03:03 360004     /usr/lib/libpangox-1.0.so.0.200.1
596c2000-596e9000 r-xp 00000000 03:03 360000     /usr/lib/libpango-1.0.so.0.200.1
596e9000-596f5000 rw-p 00026000 03:03 360000     /usr/lib/libpango-1.0.so.0.200.1
596f5000-59728000 r-xp 00000000 03:03 359803     /usr/lib/libgobject-2.0.so.0.200.1
59728000-5972a000 rw-p 00032000 03:03 359803     /usr/lib/libgobject-2.0.so.0.200.1
5972a000-5972d000 r-xp 00000000 03:03 359801     /usr/lib/libgmodule-2.0.so.0.200.1
5972d000-5972e000 rw-p 00002000 03:03 359801     /usr/lib/libgmodule-2.0.so.0.200.1
5972e000-59732000 r-xp 00000000 03:03 359805     /usr/lib/libgthread-2.0.so.0.200.1
59732000-59733000 rw-p 00003000 03:03 359805     /usr/lib/libgthread-2.0.so.0.200.1
59733000-5979c000 r-xp 00000000 03:03 359799     /usr/lib/libglib-2.0.so.0.200.1
5979c000-5979d000 rw-p 00069000 03:03 359799     /usr/lib/libglib-2.0.so.0.200.1
5979d000-597a1000 r-xp 00000000 03:03 2485615    /usr/X11R6/lib/libXtst.so.6.1
597a1000-597a2000 rw-p 00004000 03:03 2485615    /usr/X11R6/lib/libXtst.so.6.1
597a2000-597a5000 r-xp 00000000 03:03 2485609    /usr/X11R6/lib/libXrandr.so.2.0
597a5000-597a6000 rw-p 00002000 03:03 2485609    /usr/X11R6/lib/libXrandr.so.2.0
597a6000-597ad000 r-xp 00000000 03:03 2485599    /usr/X11R6/lib/libXi.so.6.0
597ad000-597ae000 rw-p 00006000 03:03 2485599    /usr/X11R6/lib/libXi.so.6.0
597ae000-597bb000 r-xp 00000000 03:03 2485591    /usr/X11R6/lib/libXext.so.6.4
597bb000-597bc000 rw-p 0000c000 03:03 2485591    /usr/X11R6/lib/libXext.so.6.4
597bc000-597cd000 r-xp 00000000 03:03 2485597    /usr/X11R6/lib/libXft.so.2.1.1
597cd000-597ce000 rw-p 00011000 03:03 2485597    /usr/X11R6/lib/libXft.so.2.1.1
597ce000-597d5000 r-xp 00000000 03:03 2485611    /usr/X11R6/lib/libXrender.so.1.2.2
597d5000-597d6000 rw-p 00006000 03:03 2485611    /usr/X11R6/lib/libXrender.so.1.2.2
597d6000-597f7000 r-xp 00000000 03:03 359917     /usr/lib/libfontconfig.so.1.0
597f7000-597fa000 rw-p 00021000 03:03 359917     /usr/lib/libfontconfig.so.1.0
597fb000-598d7000 r-xp 00000000 03:03 2485581    /usr/X11R6/lib/libX11.so.6.2
598d7000-598da000 rw-p 000db000 03:03 2485581    /usr/X11R6/lib/libX11.so.6.2
598da000-5992c000 r-xp 00000000 03:03 361552     /usr/lib/libfreetype.so.6.3.2
5992c000-59930000 rw-p 00052000 03:03 361552     /usr/lib/libfreetype.so.6.3.2
59931000-5994f000 r-xp 00000000 03:03 359789     /usr/lib/libexpat.so.0.4.0
5994f000-59951000 rw-p 0001e000 03:03 359789     /usr/lib/libexpat.so.0.4.0
59951000-59977000 r-xp 00000000 03:03 1293444   
/work/workspaces/eclipse-bug2/org.eclipse.swt.gtk/os/linux/x86/libswt-gtk-3061.so
59977000-59979000 rw-p 00026000 03:03 1293444   
/work/workspaces/eclipse-bug2/org.eclipse.swt.gtk/os/linux/x86/libswt-gtk-3061.so
59979000-5997a000 r-xp 00000000 03:03 474348     /usr/lib/gconv/ISO8859-1.so
5997a000-5997b000 rw-p 00001000 03:03 474348     /usr/lib/gconv/ISO8859-1.so
5997b000-5998b000 r--s 00000000 03:03 2699696   
/work/eclipse-I200406180800/plugins/org.eclipse.help_3.0.0/help.jar
5998b000-5998d000 r-xp 00000000 03:03 3548482   
/usr/lib/pango/1.2.0/modules/pango-basic-xft.so
5998d000-5998e000 rw-p 00001000 03:03 3548482   
/usr/lib/pango/1.2.0/modules/pango-basic-xft.so
5998f000-59997000 r-xp 00000000 03:03 2485589    /usr/X11R6/lib/libXcursor.so.1.0
59997000-59998000 rw-p 00007000 03:03 2485589    /usr/X11R6/lib/libXcursor.so.1.0
59998000-59a35000 r--s 00000000 03:03 3695625   
/work/eclipse-I200406180800/plugins/org.eclipse.core.resources_3.0.0/resources.jar
59ab6000-59ad9000 r--p 00000000 03:03 2077359   
/usr/share/fonts/truetype/Verdana.ttf
59ad9000-59ae0000 r-xp 00000000 03:03 1293441   
/work/workspaces/eclipse-bug2/org.eclipse.swt.gtk/os/linux/x86/libswt-atk-gtk-3061.so
59ae0000-59ae1000 rw-p 00007000 03:03 1293441   
/work/workspaces/eclipse-bug2/org.eclipse.swt.gtk/os/linux/x86/libswt-atk-gtk-3061.so
59b62000-59b70000 r--s 00000000 03:03 2977677   
/work/eclipse-I200406180800/plugins/org.eclipse.ui.views_3.0.0/views.jar
59b70000-59b8a000 r--s 00000000 03:03 819215    
/work/eclipse-I200406180800/plugins/org.eclipse.ui.externaltools_3.0.0/externaltools.jar
59b8a000-59c6a000 r--s 00000000 03:03 2634071   
/work/eclipse-I200406180800/plugins/org.eclipse.debug.ui_3.0.0/dtui.jar
59c6a000-59ca2000 r--s 00000000 03:03 3778085   
/work/eclipse-I200406180800/plugins/org.eclipse.debug.core_3.0.0/dtcore.jar
59ca2000-59caf000 r--s 00000000 03:03 3777971   
/work/eclipse-I200406180800/plugins/org.eclipse.core.expressions_3.0.0/expressions.jar
59caf000-59cd9000 r--s 00000000 03:03 4645579   
/work/eclipse-I200406180800/plugins/org.eclipse.ui.intro_3.0.0/intro.jar
59cd9000-59d00000 r--s 00000000 03:03 2241193   
/work/eclipse-I200406180800/plugins/org.eclipse.ui.forms_3.0.0/forms.jar
59d00000-59d46000 r--p 00000000 03:03 2077337   
/usr/share/fonts/truetype/Arial_Bold.ttf
59fcb000-59fd1000 r--s 00000000 03:03 393258    
/work/eclipse-I200406180800/plugins/org.eclipse.update.scheduler_3.0.0/scheduler.jar
59fd1000-59fd3000 r-xp 00000000 03:03 1293443   
/work/workspaces/eclipse-bug2/org.eclipse.swt.gtk/os/linux/x86/libswt-gnome-gtk-3061.so
59fd3000-59fd4000 rw-p 00001000 03:03 1293443   
/work/workspaces/eclipse-bug2/org.eclipse.swt.gtk/os/linux/x86/libswt-gnome-gtk-3061.so
59fe8000-59ff0000 r-xp 00000000 03:03 2485579    /usr/X11R6/lib/libSM.so.6.0
59ff0000-59ff1000 rw-p 00007000 03:03 2485579    /usr/X11R6/lib/libSM.so.6.0
59ff1000-59ff2000 r-xp 00000000 03:03 2632689    /usr/kerberos/lib/libcom_err.so.3.0
59ff2000-59ff3000 rw-p 00001000 03:03 2632689    /usr/kerberos/lib/libcom_err.so.3.0
59ff7000-59ffb000 r--s 00000000 03:03 4498233   
/work/eclipse-I200406180800/plugins/org.eclipse.jdt.junit.runtime_3.0.0/junitruntime.jar
59ffb000-5a027000 r--s 00000000 03:03 3695643   
/work/eclipse-I200406180800/plugins/org.eclipse.team.core_3.0.0/team.jar
5a027000-5a028000 r-xp 00000000 03:03 3695622   
/work/eclipse-I200406180800/plugins/org.eclipse.core.resources.linux_3.0.0/os/linux/x86/libcore_2_1_0b.so
5a028000-5a029000 rw-p 00001000 03:03 3695622   
/work/eclipse-I200406180800/plugins/org.eclipse.core.resources.linux_3.0.0/os/linux/x86/libcore_2_1_0b.so
5a029000-5a053000 r--s 00000000 03:03 1031792   
/work/eclipse-I200406180800/plugins/org.eclipse.text_3.0.0/text.jar
5a053000-5a0ea000 r--s 00000000 03:03 3255024   
/work/eclipse-I200406180800/plugins/org.eclipse.jface.text_3.0.0/jfacetext.jar
5a0ea000-5a128000 r--s 00000000 03:03 2160054   
/work/eclipse-I200406180800/plugins/org.eclipse.ui.editors_3.0.0/editors.jar
5a128000-5a183000 r--s 00000000 03:03 279572    
/work/eclipse-I200406180800/plugins/org.eclipse.ui.workbench.texteditor_3.0.0/texteditor.jar
5a183000-5a18f000 r--s 00000000 03:03 3566348   
/work/eclipse-I200406180800/plugins/org.eclipse.core.filebuffers_3.0.0/filebuffers.jar
5a18f000-5a1a3000 r-xp 00000000 03:03 2485575    /usr/X11R6/lib/libICE.so.6.3
5a1a3000-5a1a4000 rw-p 00013000 03:03 2485575    /usr/X11R6/lib/libICE.so.6.3
5a1a6000-5a1ac000 r-xp 00000000 03:03 359989     /usr/lib/liblinc.so.1.0.0
5a1ac000-5a1ad000 rw-p 00006000 03:03 359989     /usr/lib/liblinc.so.1.0.0
5a1b1000-5a1d7000 r--p 00000000 03:03 2077362   
/usr/share/fonts/truetype/Verdana_Bold_Italic.ttf
5a1d7000-5a1d9000 r-xp 00000000 03:03 3548476   
/usr/lib/pango/1.2.0/modules/pango-arabic-xft.so
5a1d9000-5a1da000 rw-p 00002000 03:03 3548476   
/usr/lib/pango/1.2.0/modules/pango-arabic-xft.so
5a1da000-5a1dc000 r-xp 00000000 03:03 3548494   
/usr/lib/pango/1.2.0/modules/pango-hangul-xft.so
5a1dc000-5a1dd000 rw-p 00002000 03:03 3548494   
/usr/lib/pango/1.2.0/modules/pango-hangul-xft.so
5a1dd000-5a1e9000 r-xp 00000000 03:03 359833     /usr/lib/libz.so.1.1.4
5a1e9000-5a1eb000 rw-p 0000b000 03:03 359833     /usr/lib/libz.so.1.1.4
5a1eb000-5a212000 r-xp 00000000 03:03 360023    
/usr/lib/libgnomecanvas-2.so.0.200.0
5a212000-5a213000 rw-p 00027000 03:03 360023    
/usr/lib/libgnomecanvas-2.so.0.200.0
5a219000-5a5f5000 r--p 00000000 03:03 4546049   
/usr/share/fonts/ja/TrueType/kochi-gothic.ttf
5a5f5000-5a5fc000 r-xp 00000000 03:03 359816     /usr/lib/libpopt.so.0.0.0
5a5fc000-5a5fd000 rw-p 00006000 03:03 359816     /usr/lib/libpopt.so.0.0.0
5a5fd000-5a637000 r--p 00000000 03:03 2077345   
/usr/share/fonts/truetype/Courier_New_Bold_Italic.ttf
5a637000-5a681000 r--p 00000000 03:03 2077342   
/usr/share/fonts/truetype/Courier_New.ttf
5a681000-5a709000 r-xp 00000000 03:03 360032     /usr/lib/libgnomeui-2.so.0.200.0
5a709000-5a70c000 rw-p 00088000 03:03 360032     /usr/lib/libgnomeui-2.so.0.200.0
5a70c000-5a772000 r-xp 00000000 03:03 360029     /usr/lib/libbonoboui-2.so.0.0.0
5a772000-5a775000 rw-p 00066000 03:03 360029     /usr/lib/libbonoboui-2.so.0.0.0
5a775000-5a854000 r-xp 00000000 03:03 359929     /usr/lib/libxml2.so.2.5.4
5a854000-5a85f000 rw-p 000de000 03:03 359929     /usr/lib/libxml2.so.2.5.4
5a860000-5a873000 r-xp 00000000 03:03 360022     /usr/lib/libgnome-2.so.0.200.0
5a873000-5a874000 rw-p 00013000 03:03 360022     /usr/lib/libgnome-2.so.0.200.0
5a874000-5a889000 r-xp 00000000 03:03 359986     /usr/lib/libart_lgpl_2.so.2.3.11
5a889000-5a88a000 rw-p 00015000 03:03 359986     /usr/lib/libart_lgpl_2.so.2.3.11
5a88a000-5a8ab000 r-xp 00000000 03:03 360002     /usr/lib/libpangoft2-1.0.so.0.200.1
5a8ab000-5a8ac000 rw-p 00021000 03:03 360002     /usr/lib/libpangoft2-1.0.so.0.200.1
5a8ac000-5a8ee000 r-xp 00000000 03:03 359997     /usr/lib/libbonobo-2.so.0.0.0
5a8ee000-5a8f8000 rw-p 00041000 03:03 359997     /usr/lib/libbonobo-2.so.0.0.0
5a8f8000-5a92b000 r-xp 00000000 03:03 360016     /usr/lib/libgconf-2.so.4.1.0
5a92b000-5a92e000 rw-p 00033000 03:03 360016     /usr/lib/libgconf-2.so.4.1.0
5a92e000-5a965000 r-xp 00000000 03:03 360018     /usr/lib/libgnomevfs-2.so.0.0.0
5a965000-5a967000 rw-p 00036000 03:03 360018     /usr/lib/libgnomevfs-2.so.0.0.0
5a967000-5a977000 r-xp 00000000 03:03 359995    
/usr/lib/libbonobo-activation.so.4.0.0
5a977000-5a979000 rw-p 00010000 03:03 359995    
/usr/lib/libbonobo-activation.so.4.0.0
5a979000-5a9c4000 r-xp 00000000 03:03 359952     /usr/lib/libORBit-2.so.0.0.0
5a9c4000-5a9cd000 rw-p 0004b000 03:03 359952     /usr/lib/libORBit-2.so.0.0.0
5a9cd000-5a9ea000 r-xp 00000000 03:03 359923     /usr/lib/libjpeg.so.62.0.0
5a9ea000-5a9eb000 rw-p 0001d000 03:03 359923     /usr/lib/libjpeg.so.62.0.0
5a9eb000-5a9f2000 r-xp 00000000 03:03 359980     /usr/lib/libesd.so.0.2.28
5a9f2000-5a9f3000 rw-p 00006000 03:03 359980     /usr/lib/libesd.so.0.2.28
5a9f3000-5aa15000 r-xp 00000000 03:03 359978     /usr/lib/libaudiofile.so.0.0.2
5aa15000-5aa18000 rw-p 00021000 03:03 359978     /usr/lib/libaudiofile.so.0.0.2
5aa18000-5aa23000 r-xp 00000000 03:03 359993    
/usr/lib/libORBitCosNaming-2.so.0.0.0
5aa23000-5aa25000 rw-p 0000b000 03:03 359993    
/usr/lib/libORBitCosNaming-2.so.0.0.0
5aa25000-5aa57000 r-xp 00000000 03:03 4088017    /lib/libssl.so.0.9.7a
5aa57000-5aa5a000 rw-p 00032000 03:03 4088017    /lib/libssl.so.0.9.7a
5aa5a000-5ab36000 r-xp 00000000 03:03 4088012    /lib/libcrypto.so.0.9.7a
5ab36000-5ab47000 rw-p 000dc000 03:03 4088012    /lib/libcrypto.so.0.9.7a
5ab4b000-5ab51000 r-xp 00000000 03:03 588686     /lib/tls/librt-2.3.2.so
5ab51000-5ab53000 rw-p 00005000 03:03 588686     /lib/tls/librt-2.3.2.so
5ab5d000-5ab6f000 r-xp 00000000 03:03 2632695   
/usr/kerberos/lib/libgssapi_krb5.so.2.2
5ab6f000-5ab70000 rw-p 00011000 03:03 2632695   
/usr/kerberos/lib/libgssapi_krb5.so.2.2
5ab70000-5abcc000 r-xp 00000000 03:03 2632709    /usr/kerberos/lib/libkrb5.so.3.1
5abcc000-5abce000 rw-p 0005c000 03:03 2632709    /usr/kerberos/lib/libkrb5.so.3.1
5abce000-5abdd000 r-xp 00000000 03:03 2632699   
/usr/kerberos/lib/libk5crypto.so.3.0
5abdd000-5abde000 rw-p 0000f000 03:03 2632699   
/usr/kerberos/lib/libk5crypto.so.3.0
5abde000-5abed000 r-xp 00000000 03:03 4088052    /lib/libresolv-2.3.2.so
5abed000-5abee000 rw-p 0000f000 03:03 4088052    /lib/libresolv-2.3.2.so

Heap at VM Abort:
Heap
 def new generation   total 1472K, used 776K [0x44740000, 0x448d0000, 0x45af0000)
  eden space 1344K,  48% used [0x44740000, 0x447e2770, 0x44890000)
  from space 128K,  98% used [0x44890000, 0x448afa10, 0x448b0000)
  to   space 128K,   0% used [0x448b0000, 0x448b0000, 0x448d0000)
 tenured generation   total 18460K, used 12026K [0x45af0000, 0x46cf7000, 0x54740000)
   the space 18460K,  65% used [0x45af0000, 0x466aea28, 0x466aec00, 0x46cf7000)
 compacting perm gen  total 15616K, used 15605K [0x54740000, 0x55680000, 0x58740000)
   the space 15616K,  99% used [0x54740000, 0x5567d540, 0x5567d600, 0x55680000)

Local Time = Fri Jun 18 18:02:42 2004
Elapsed Time = 359
#
# The exception above was detected in native code outside the VM
#
# Java VM: Java HotSpot(TM) Client VM (1.4.2_03-b02 mixed mode)
#
# An error report file has been saved as hs_err_pid18318.log.
# Please refer to the file for further information.
#
How do I run the UI test suite? Which projects have to be loaded?
Get org.eclipse.ui.tests and run:
Eclipse UI Tests/org.eclipse.ui.tests/UiTestSuite.java
as a JUnit Plug-in test.
Run 3 times the tests and I did not get the GPF. Which version of gtk are you
running? Which window manager? Which desktop? Which theme?
GNOME, Gtk+ 2.2.1, Bluecurve.
Changed my theme from Mist to Bluecurve and got the following GPF. Bluecurve has
always been a problem.

Current Java thread:
	at org.eclipse.swt.internal.gtk.OS.gtk_main_iteration(Native Method)
	at org.eclipse.swt.widgets.Display.readAndDispatch(Display.java:2287)
	at org.eclipse.ui.tests.util.UITestCase.processEvents(UITestCase.java:153)
	at org.eclipse.ui.tests.util.UITestCase.doTearDown(UITestCase.java:145)
	at org.eclipse.ui.tests.util.UITestCase.tearDown(UITestCase.java:134)
	at junit.framework.TestCase.runBare(TestCase.java:130)
	at junit.framework.TestResult$1.protect(TestResult.java:106)
	at junit.framework.TestResult.runProtected(TestResult.java:124)
	at junit.framework.TestResult.run(TestResult.java:109)
	at junit.framework.TestCase.run(TestCase.java:118)
	at junit.framework.TestSuite.runTest(TestSuite.java:208)
	at junit.framework.TestSuite.run(TestSuite.java:203)
	at junit.framework.TestSuite.runTest(TestSuite.java:208)
	at junit.framework.TestSuite.run(TestSuite.java:203)
	at junit.framework.TestSuite.runTest(TestSuite.java:208)
	at junit.framework.TestSuite.run(TestSuite.java:203)
	at
org.eclipse.jdt.internal.junit.runner.RemoteTestRunner.runTests(RemoteTestRunner.java:421)
	at
org.eclipse.jdt.internal.junit.runner.RemoteTestRunner.run(RemoteTestRunner.java:305)
	at
org.eclipse.pde.internal.junit.runtime.RemotePluginTestRunner.main(RemotePluginTestRunner.java:30)
	at
org.eclipse.pde.internal.junit.runtime.UITestApplication$1.run(UITestApplication.java:92)
	at org.eclipse.swt.widgets.RunnableLock.run(RunnableLock.java:35)
	at org.eclipse.swt.widgets.Synchronizer.runAsyncMessages(Synchronizer.java:106)
	- locked &lt;0x45163870&gt; (a org.eclipse.swt.widgets.RunnableLock)
	at org.eclipse.swt.widgets.Display.runAsyncMessages(Display.java:2558)
	at org.eclipse.swt.widgets.Display.readAndDispatch(Display.java:2291)
	at org.eclipse.ui.internal.Workbench.runEventLoop(Workbench.java:1375)
	at org.eclipse.ui.internal.Workbench.runUI(Workbench.java:1346)
	at org.eclipse.ui.internal.Workbench.createAndRunWorkbench(Workbench.java:252)
	at org.eclipse.ui.PlatformUI.createAndRunWorkbench(PlatformUI.java:141)
	at org.eclipse.ui.internal.ide.IDEApplication.run(IDEApplication.java:96)
	at
org.eclipse.pde.internal.junit.runtime.UITestApplication.run(UITestApplication.java:33)
	at
org.eclipse.core.internal.runtime.PlatformActivator$1.run(PlatformActivator.java:335)
	at org.eclipse.core.runtime.adaptor.EclipseStarter.run(EclipseStarter.java:272)
	at org.eclipse.core.runtime.adaptor.EclipseStarter.run(EclipseStarter.java:128)
	at sun.reflect.NativeMethodAccessorImpl.invoke0(Native Method)
	at sun.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:39)
	at
sun.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:25)
	at java.lang.reflect.Method.invoke(Method.java:324)
	at org.eclipse.core.launcher.Main.basicRun(Main.java:186)
	at org.eclipse.core.launcher.Main.run(Main.java:647)
	at org.eclipse.core.launcher.Main.main(Main.java:631)
*** Bug 65505 has been marked as a duplicate of this bug. ***
*** Bug 65274 has been marked as a duplicate of this bug. ***
I have seen some interest in this for 3.0.1.  Is anyone still looking at this 
for 3.0.1?  It looks like we now have a repeatable test case.  On the other 
hand is this really critical?  Can the people (or the customers of the people) 
who reported this bug or its dups just refrain from using the Bluecurve 
theme?  At least for a while?

Sorry, this is not being look at for 3.0.1. The bug is not really critical, because the user can avoid 
bluecurve.

Also, even though the UI test suite always reproduce the segment fault. It happens at random points. So 
it is not that easy to debug.
We can't fix bugs in Bluecurve.</WithStack>
    <WithOutStack>While running the UI test suite I'm seeing this VM crash.  It does not seem to
always be in the same test when it dies.

An unexpected exception has been detected in native code outside the VM.
Unexpected Signal : 11 occurred at PC=0x59637020
Function=(null)+0x59637020
Library=/usr/lib/libgdk-x11-2.0.so.0

NOTE: We are unable to locate the function name symbol for the error
      just occurred. Please refer to release documentation for possible
      reason and solutions.


Current Java thread:
	at org.eclipse.swt.internal.gtk.OS.gtk_main_iteration(Native Method)
	at org.eclipse.swt.widgets.Shell.setVisible(Shell.java:1203)
	at org.eclipse.swt.widgets.Shell.open(Shell.java:839)
	at org.eclipse.jface.window.Window.open(Window.java:644)
	at org.eclipse.ui.internal.WorkbenchWindow.open(WorkbenchWindow.java:513)
	at org.eclipse.ui.internal.Workbench.busyOpenWorkbenchWindow(Workbench.java:535)
	at org.eclipse.ui.internal.Workbench.access$11(Workbench.java:519)
	at org.eclipse.ui.internal.Workbench$14.run(Workbench.java:1143)
	at org.eclipse.swt.custom.BusyIndicator.showWhile(BusyIndicator.java:69)
	at org.eclipse.ui.internal.Workbench.openWorkbenchWindow(Workbench.java:1140)
	at org.eclipse.ui.tests.util.UITestCase.openTestWindow(UITestCase.java:170)
	at org.eclipse.ui.tests.util.UITestCase.openTestWindow(UITestCase.java:161)
	at org.eclipse.ui.tests.zoom.ZoomTestCase.doSetUp(ZoomTestCase.java:58)
	at org.eclipse.ui.tests.util.UITestCase.setUp(UITestCase.java:113)
	at junit.framework.TestCase.runBare(TestCase.java:125)
	at junit.framework.TestResult$1.protect(TestResult.java:106)
	at junit.framework.TestResult.runProtected(TestResult.java:124)
	at junit.framework.TestResult.run(TestResult.java:109)
	at junit.framework.TestCase.run(TestCase.java:118)
	at junit.framework.TestSuite.runTest(TestSuite.java:208)
	at junit.framework.TestSuite.run(TestSuite.java:203)
	at junit.framework.TestSuite.runTest(TestSuite.java:208)
	at junit.framework.TestSuite.run(TestSuite.java:203)
	at junit.framework.TestSuite.runTest(TestSuite.java:208)
	at junit.framework.TestSuite.run(TestSuite.java:203)
	at
org.eclipse.jdt.internal.junit.runner.RemoteTestRunner.runTests(RemoteTestRunner.java:421)
	at
org.eclipse.jdt.internal.junit.runner.RemoteTestRunner.run(RemoteTestRunner.java:305)
	at
org.eclipse.pde.internal.junit.runtime.RemotePluginTestRunner.main(RemotePluginTestRunner.java:30)
	at
org.eclipse.pde.internal.junit.runtime.UITestApplication$1.run(UITestApplication.java:92)
	at org.eclipse.swt.widgets.RunnableLock.run(RunnableLock.java:35)
	at org.eclipse.swt.widgets.Synchronizer.runAsyncMessages(Synchronizer.java:106)
	- locked &lt;0x460896b0&gt; (a org.eclipse.swt.widgets.RunnableLock)
	at org.eclipse.swt.widgets.Display.runAsyncMessages(Display.java:2558)
	at org.eclipse.swt.widgets.Display.readAndDispatch(Display.java:2291)
	at org.eclipse.ui.internal.Workbench.runEventLoop(Workbench.java:1375)
	at org.eclipse.ui.internal.Workbench.runUI(Workbench.java:1346)
	at org.eclipse.ui.internal.Workbench.createAndRunWorkbench(Workbench.java:252)
	at org.eclipse.ui.PlatformUI.createAndRunWorkbench(PlatformUI.java:141)
	at org.eclipse.ui.internal.ide.IDEApplication.run(IDEApplication.java:96)
	at
org.eclipse.pde.internal.junit.runtime.UITestApplication.run(UITestApplication.java:33)
	at
org.eclipse.core.internal.runtime.PlatformActivator$1.run(PlatformActivator.java:335)
	at org.eclipse.core.runtime.adaptor.EclipseStarter.run(EclipseStarter.java:272)
	at org.eclipse.core.runtime.adaptor.EclipseStarter.run(EclipseStarter.java:128)
	at sun.reflect.NativeMethodAccessorImpl.invoke0(Native Method)
	at sun.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:39)
	at
sun.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:25)
	at java.lang.reflect.Method.invoke(Method.java:324)
	at org.eclipse.core.launcher.Main.basicRun(Main.java:186)
	at org.eclipse.core.launcher.Main.run(Main.java:647)
	at org.eclipse.core.launcher.Main.main(Main.java:631)

Dynamic libraries:
08048000-0804e000 r-xp 00000000 03:03 3172950    /usr/java/j2sdk1.4.2_03/bin/java
0804e000-0804f000 rw-p 00005000 03:03 3172950    /usr/java/j2sdk1.4.2_03/bin/java
40000000-40015000 r-xp 00000000 03:03 4088005    /lib/ld-2.3.2.so
40015000-40016000 rw-p 00015000 03:03 4088005    /lib/ld-2.3.2.so
40016000-4001e000 r-xp 00000000 03:03 1226769   
/usr/java/j2sdk1.4.2_03/jre/lib/i386/native_threads/libhpi.so
4001e000-4001f000 rw-p 00007000 03:03 1226769   
/usr/java/j2sdk1.4.2_03/jre/lib/i386/native_threads/libhpi.so
4001f000-40023000 rw-s 00000000 03:03 1228117    /tmp/hsperfdata_bbiggs/18318
40023000-40026000 r--s 00000000 03:03 1930173   
/usr/java/j2sdk1.4.2_03/jre/lib/ext/dnsns.jar
40026000-40029000 r--s 00000000 03:03 2634152   
/work/eclipse-I200406180800/plugins/org.eclipse.pde.junit.runtime_3.0.0/pdejunit.jar
40029000-4002a000 r--s 00000000 03:03 1980214   
/work/eclipse-I200406180800/plugins/org.eclipse.ui.workbench.compatibility_3.0.0/compatibility.jar
4002b000-40036000 r-xp 00000000 03:03 588684     /lib/tls/libpthread-0.34.so
40036000-40037000 rw-p 0000a000 03:03 588684     /lib/tls/libpthread-0.34.so
40039000-4003c000 r-xp 00000000 03:03 4088020    /lib/libdl-2.3.2.so
4003c000-4003d000 rw-p 00002000 03:03 4088020    /lib/libdl-2.3.2.so
4003e000-40438000 r-xp 00000000 03:03 4137608   
/usr/java/j2sdk1.4.2_03/jre/lib/i386/client/libjvm.so
40438000-40454000 rw-p 003f9000 03:03 4137608   
/usr/java/j2sdk1.4.2_03/jre/lib/i386/client/libjvm.so
40466000-40478000 r-xp 00000000 03:03 4088024    /lib/libnsl-2.3.2.so
40478000-40479000 rw-p 00011000 03:03 4088024    /lib/libnsl-2.3.2.so
4047b000-4049c000 r-xp 00000000 03:03 588682     /lib/tls/libm-2.3.2.so
4049c000-4049d000 rw-p 00020000 03:03 588682     /lib/tls/libm-2.3.2.so
4049d000-404ad000 r-xp 00000000 03:03 4121140   
/usr/java/j2sdk1.4.2_03/jre/lib/i386/libverify.so
404ad000-404af000 rw-p 0000f000 03:03 4121140   
/usr/java/j2sdk1.4.2_03/jre/lib/i386/libverify.so
404af000-404b0000 r--s 00000000 03:03 3550003   
/work/eclipse-I200406180800/plugins/org.eclipse.ui_3.0.0/ui.jar
404b1000-404bc000 r-xp 00000000 03:03 4088040    /lib/libnss_files-2.3.2.so
404bc000-404bd000 rw-p 0000a000 03:03 4088040    /lib/libnss_files-2.3.2.so
404bd000-404dd000 r-xp 00000000 03:03 4121126   
/usr/java/j2sdk1.4.2_03/jre/lib/i386/libjava.so
404dd000-404df000 rw-p 0001f000 03:03 4121126   
/usr/java/j2sdk1.4.2_03/jre/lib/i386/libjava.so
404df000-404f3000 r-xp 00000000 03:03 4121141   
/usr/java/j2sdk1.4.2_03/jre/lib/i386/libzip.so
404f3000-404f6000 rw-p 00013000 03:03 4121141   
/usr/java/j2sdk1.4.2_03/jre/lib/i386/libzip.so
404f6000-41e8e000 r--s 00000000 03:03 3041822   
/usr/java/j2sdk1.4.2_03/jre/lib/rt.jar
41ed8000-41eee000 r--s 00000000 03:03 3041821   
/usr/java/j2sdk1.4.2_03/jre/lib/sunrsasign.jar
41eee000-41fc9000 r--s 00000000 03:03 3041820   
/usr/java/j2sdk1.4.2_03/jre/lib/jsse.jar
41fc9000-41fda000 r--s 00000000 03:03 3041812   
/usr/java/j2sdk1.4.2_03/jre/lib/jce.jar
41ffb000-42000000 r--s 00000000 03:03 393370    
/work/eclipse-I200406180800/startup.jar
42000000-42130000 r-xp 00000000 03:03 588678     /lib/tls/libc-2.3.2.so
42130000-42133000 rw-p 00130000 03:03 588678     /lib/tls/libc-2.3.2.so
42136000-4268f000 r--s 00000000 03:03 3041813   
/usr/java/j2sdk1.4.2_03/jre/lib/charsets.jar
44737000-4473f000 r--s 00000000 03:03 4677460   
/work/eclipse-I200406180800/plugins/org.eclipse.osgi_3.0.0/console.jar
4473f000-44740000 r--s 00000000 03:03 4056916   
/work/eclipse-I200406180800/plugins/org.eclipse.platform_3.0.0/platform.jar
589db000-58bdb000 r--p 00000000 03:03 475266     /usr/lib/locale/locale-archive
58ddf000-58dec000 r--s 00000000 03:03 1930174   
/usr/java/j2sdk1.4.2_03/jre/lib/ext/ldapsec.jar
58dec000-58ea8000 r--s 00000000 03:03 1930177   
/usr/java/j2sdk1.4.2_03/jre/lib/ext/localedata.jar
58ea8000-58ec4000 r--s 00000000 03:03 1930176   
/usr/java/j2sdk1.4.2_03/jre/lib/ext/sunjce_provider.jar
58ec4000-58efc000 r--s 00000000 03:03 4677459   
/work/eclipse-I200406180800/plugins/org.eclipse.osgi_3.0.0/core.jar
58efc000-58f08000 r--s 00000000 03:03 4677462   
/work/eclipse-I200406180800/plugins/org.eclipse.osgi_3.0.0/osgi.jar
58f08000-58f1e000 r--s 00000000 03:03 4677461   
/work/eclipse-I200406180800/plugins/org.eclipse.osgi_3.0.0/resolver.jar
58f1e000-58f34000 r--s 00000000 03:03 4677464   
/work/eclipse-I200406180800/plugins/org.eclipse.osgi_3.0.0/defaultAdaptor.jar
58f34000-58f53000 r--s 00000000 03:03 4677463   
/work/eclipse-I200406180800/plugins/org.eclipse.osgi_3.0.0/eclipseAdaptor.jar
58fd4000-58fe4000 r-xp 00000000 03:03 4121137   
/usr/java/j2sdk1.4.2_03/jre/lib/i386/libnet.so
58fe4000-58fe5000 rw-p 0000f000 03:03 4121137   
/usr/java/j2sdk1.4.2_03/jre/lib/i386/libnet.so
58fe5000-58fe6000 r-xp 00000000 03:03 2175889   
/usr/X11R6/lib/X11/locale/lib/common/xlcUTF8Load.so.2
58fe6000-58fe7000 rw-p 00000000 03:03 2175889   
/usr/X11R6/lib/X11/locale/lib/common/xlcUTF8Load.so.2
590ea000-59140000 r--s 00000000 03:03 132427    
/work/eclipse-I200406180800/plugins/org.eclipse.core.runtime_3.0.0/runtime.jar
59140000-59146000 r-xp 00000000 03:03 4121138   
/usr/java/j2sdk1.4.2_03/jre/lib/i386/libnio.so
59146000-59147000 rw-p 00005000 03:03 4121138   
/usr/java/j2sdk1.4.2_03/jre/lib/i386/libnio.so
59147000-5915b000 r--s 00000000 03:03 2078326   
/work/eclipse-I200406180800/plugins/org.eclipse.update.configurator_3.0.0/configurator.jar
5915b000-59170000 r--s 00000000 03:03 2356300   
/work/eclipse-I200406180800/plugins/org.eclipse.core.runtime.compatibility_3.0.0/compatibility.jar
59170000-591ee000 r--s 00000000 03:03 4253136   
/work/eclipse-I200406180800/plugins/org.eclipse.jface_3.0.0/jface.jar
591ee000-5920c000 r--s 00000000 03:03 262218    
/work/eclipse-I200406180800/plugins/org.junit_3.8.1/junit.jar
5920c000-5935a000 r--s 00000000 03:03 4498205   
/work/eclipse-I200406180800/plugins/org.eclipse.ui.ide_3.0.0/ide.jar
5935a000-59390000 r-xp 00000000 03:03 1293446   
/work/workspaces/eclipse-bug2/org.eclipse.swt.gtk/os/linux/x86/libswt-pi-gtk-3061.so
59390000-59391000 rw-p 00035000 03:03 1293446   
/work/workspaces/eclipse-bug2/org.eclipse.swt.gtk/os/linux/x86/libswt-pi-gtk-3061.so
59392000-59398000 r--s 00000000 03:03 474404     /usr/lib/gconv/gconv-modules.cache
59398000-593a4000 r-xp 00000000 03:03 1700694   
/usr/lib/gtk-2.0/2.2.0/engines/libbluecurve.so
593a4000-593a5000 rw-p 0000b000 03:03 1700694   
/usr/lib/gtk-2.0/2.2.0/engines/libbluecurve.so
593a6000-595ef000 r-xp 00000000 03:03 360014     /usr/lib/libgtk-x11-2.0.so.0.200.1
595ef000-595f8000 rw-p 00248000 03:03 360014     /usr/lib/libgtk-x11-2.0.so.0.200.1
595fa000-59663000 r-xp 00000000 03:03 360008     /usr/lib/libgdk-x11-2.0.so.0.200.1
59663000-59668000 rw-p 00069000 03:03 360008     /usr/lib/libgdk-x11-2.0.so.0.200.1
59668000-5967f000 r-xp 00000000 03:03 359976     /usr/lib/libatk-1.0.so.0.200.0
5967f000-59681000 rw-p 00016000 03:03 359976     /usr/lib/libatk-1.0.so.0.200.0
59681000-59693000 r-xp 00000000 03:03 360010    
/usr/lib/libgdk_pixbuf-2.0.so.0.200.1
59693000-59694000 rw-p 00011000 03:03 360010    
/usr/lib/libgdk_pixbuf-2.0.so.0.200.1
59694000-596b4000 r-xp 00000000 03:03 360006     /usr/lib/libpangoxft-1.0.so.0.200.1
596b4000-596b5000 rw-p 0001f000 03:03 360006     /usr/lib/libpangoxft-1.0.so.0.200.1
596b5000-596c1000 r-xp 00000000 03:03 360004     /usr/lib/libpangox-1.0.so.0.200.1
596c1000-596c2000 rw-p 0000b000 03:03 360004     /usr/lib/libpangox-1.0.so.0.200.1
596c2000-596e9000 r-xp 00000000 03:03 360000     /usr/lib/libpango-1.0.so.0.200.1
596e9000-596f5000 rw-p 00026000 03:03 360000     /usr/lib/libpango-1.0.so.0.200.1
596f5000-59728000 r-xp 00000000 03:03 359803     /usr/lib/libgobject-2.0.so.0.200.1
59728000-5972a000 rw-p 00032000 03:03 359803     /usr/lib/libgobject-2.0.so.0.200.1
5972a000-5972d000 r-xp 00000000 03:03 359801     /usr/lib/libgmodule-2.0.so.0.200.1
5972d000-5972e000 rw-p 00002000 03:03 359801     /usr/lib/libgmodule-2.0.so.0.200.1
5972e000-59732000 r-xp 00000000 03:03 359805     /usr/lib/libgthread-2.0.so.0.200.1
59732000-59733000 rw-p 00003000 03:03 359805     /usr/lib/libgthread-2.0.so.0.200.1
59733000-5979c000 r-xp 00000000 03:03 359799     /usr/lib/libglib-2.0.so.0.200.1
5979c000-5979d000 rw-p 00069000 03:03 359799     /usr/lib/libglib-2.0.so.0.200.1
5979d000-597a1000 r-xp 00000000 03:03 2485615    /usr/X11R6/lib/libXtst.so.6.1
597a1000-597a2000 rw-p 00004000 03:03 2485615    /usr/X11R6/lib/libXtst.so.6.1
597a2000-597a5000 r-xp 00000000 03:03 2485609    /usr/X11R6/lib/libXrandr.so.2.0
597a5000-597a6000 rw-p 00002000 03:03 2485609    /usr/X11R6/lib/libXrandr.so.2.0
597a6000-597ad000 r-xp 00000000 03:03 2485599    /usr/X11R6/lib/libXi.so.6.0
597ad000-597ae000 rw-p 00006000 03:03 2485599    /usr/X11R6/lib/libXi.so.6.0
597ae000-597bb000 r-xp 00000000 03:03 2485591    /usr/X11R6/lib/libXext.so.6.4
597bb000-597bc000 rw-p 0000c000 03:03 2485591    /usr/X11R6/lib/libXext.so.6.4
597bc000-597cd000 r-xp 00000000 03:03 2485597    /usr/X11R6/lib/libXft.so.2.1.1
597cd000-597ce000 rw-p 00011000 03:03 2485597    /usr/X11R6/lib/libXft.so.2.1.1
597ce000-597d5000 r-xp 00000000 03:03 2485611    /usr/X11R6/lib/libXrender.so.1.2.2
597d5000-597d6000 rw-p 00006000 03:03 2485611    /usr/X11R6/lib/libXrender.so.1.2.2
597d6000-597f7000 r-xp 00000000 03:03 359917     /usr/lib/libfontconfig.so.1.0
597f7000-597fa000 rw-p 00021000 03:03 359917     /usr/lib/libfontconfig.so.1.0
597fb000-598d7000 r-xp 00000000 03:03 2485581    /usr/X11R6/lib/libX11.so.6.2
598d7000-598da000 rw-p 000db000 03:03 2485581    /usr/X11R6/lib/libX11.so.6.2
598da000-5992c000 r-xp 00000000 03:03 361552     /usr/lib/libfreetype.so.6.3.2
5992c000-59930000 rw-p 00052000 03:03 361552     /usr/lib/libfreetype.so.6.3.2
59931000-5994f000 r-xp 00000000 03:03 359789     /usr/lib/libexpat.so.0.4.0
5994f000-59951000 rw-p 0001e000 03:03 359789     /usr/lib/libexpat.so.0.4.0
59951000-59977000 r-xp 00000000 03:03 1293444   
/work/workspaces/eclipse-bug2/org.eclipse.swt.gtk/os/linux/x86/libswt-gtk-3061.so
59977000-59979000 rw-p 00026000 03:03 1293444   
/work/workspaces/eclipse-bug2/org.eclipse.swt.gtk/os/linux/x86/libswt-gtk-3061.so
59979000-5997a000 r-xp 00000000 03:03 474348     /usr/lib/gconv/ISO8859-1.so
5997a000-5997b000 rw-p 00001000 03:03 474348     /usr/lib/gconv/ISO8859-1.so
5997b000-5998b000 r--s 00000000 03:03 2699696   
/work/eclipse-I200406180800/plugins/org.eclipse.help_3.0.0/help.jar
5998b000-5998d000 r-xp 00000000 03:03 3548482   
/usr/lib/pango/1.2.0/modules/pango-basic-xft.so
5998d000-5998e000 rw-p 00001000 03:03 3548482   
/usr/lib/pango/1.2.0/modules/pango-basic-xft.so
5998f000-59997000 r-xp 00000000 03:03 2485589    /usr/X11R6/lib/libXcursor.so.1.0
59997000-59998000 rw-p 00007000 03:03 2485589    /usr/X11R6/lib/libXcursor.so.1.0
59998000-59a35000 r--s 00000000 03:03 3695625   
/work/eclipse-I200406180800/plugins/org.eclipse.core.resources_3.0.0/resources.jar
59ab6000-59ad9000 r--p 00000000 03:03 2077359   
/usr/share/fonts/truetype/Verdana.ttf
59ad9000-59ae0000 r-xp 00000000 03:03 1293441   
/work/workspaces/eclipse-bug2/org.eclipse.swt.gtk/os/linux/x86/libswt-atk-gtk-3061.so
59ae0000-59ae1000 rw-p 00007000 03:03 1293441   
/work/workspaces/eclipse-bug2/org.eclipse.swt.gtk/os/linux/x86/libswt-atk-gtk-3061.so
59b62000-59b70000 r--s 00000000 03:03 2977677   
/work/eclipse-I200406180800/plugins/org.eclipse.ui.views_3.0.0/views.jar
59b70000-59b8a000 r--s 00000000 03:03 819215    
/work/eclipse-I200406180800/plugins/org.eclipse.ui.externaltools_3.0.0/externaltools.jar
59b8a000-59c6a000 r--s 00000000 03:03 2634071   
/work/eclipse-I200406180800/plugins/org.eclipse.debug.ui_3.0.0/dtui.jar
59c6a000-59ca2000 r--s 00000000 03:03 3778085   
/work/eclipse-I200406180800/plugins/org.eclipse.debug.core_3.0.0/dtcore.jar
59ca2000-59caf000 r--s 00000000 03:03 3777971   
/work/eclipse-I200406180800/plugins/org.eclipse.core.expressions_3.0.0/expressions.jar
59caf000-59cd9000 r--s 00000000 03:03 4645579   
/work/eclipse-I200406180800/plugins/org.eclipse.ui.intro_3.0.0/intro.jar
59cd9000-59d00000 r--s 00000000 03:03 2241193   
/work/eclipse-I200406180800/plugins/org.eclipse.ui.forms_3.0.0/forms.jar
59d00000-59d46000 r--p 00000000 03:03 2077337   
/usr/share/fonts/truetype/Arial_Bold.ttf
59fcb000-59fd1000 r--s 00000000 03:03 393258    
/work/eclipse-I200406180800/plugins/org.eclipse.update.scheduler_3.0.0/scheduler.jar
59fd1000-59fd3000 r-xp 00000000 03:03 1293443   
/work/workspaces/eclipse-bug2/org.eclipse.swt.gtk/os/linux/x86/libswt-gnome-gtk-3061.so
59fd3000-59fd4000 rw-p 00001000 03:03 1293443   
/work/workspaces/eclipse-bug2/org.eclipse.swt.gtk/os/linux/x86/libswt-gnome-gtk-3061.so
59fe8000-59ff0000 r-xp 00000000 03:03 2485579    /usr/X11R6/lib/libSM.so.6.0
59ff0000-59ff1000 rw-p 00007000 03:03 2485579    /usr/X11R6/lib/libSM.so.6.0
59ff1000-59ff2000 r-xp 00000000 03:03 2632689    /usr/kerberos/lib/libcom_err.so.3.0
59ff2000-59ff3000 rw-p 00001000 03:03 2632689    /usr/kerberos/lib/libcom_err.so.3.0
59ff7000-59ffb000 r--s 00000000 03:03 4498233   
/work/eclipse-I200406180800/plugins/org.eclipse.jdt.junit.runtime_3.0.0/junitruntime.jar
59ffb000-5a027000 r--s 00000000 03:03 3695643   
/work/eclipse-I200406180800/plugins/org.eclipse.team.core_3.0.0/team.jar
5a027000-5a028000 r-xp 00000000 03:03 3695622   
/work/eclipse-I200406180800/plugins/org.eclipse.core.resources.linux_3.0.0/os/linux/x86/libcore_2_1_0b.so
5a028000-5a029000 rw-p 00001000 03:03 3695622   
/work/eclipse-I200406180800/plugins/org.eclipse.core.resources.linux_3.0.0/os/linux/x86/libcore_2_1_0b.so
5a029000-5a053000 r--s 00000000 03:03 1031792   
/work/eclipse-I200406180800/plugins/org.eclipse.text_3.0.0/text.jar
5a053000-5a0ea000 r--s 00000000 03:03 3255024   
/work/eclipse-I200406180800/plugins/org.eclipse.jface.text_3.0.0/jfacetext.jar
5a0ea000-5a128000 r--s 00000000 03:03 2160054   
/work/eclipse-I200406180800/plugins/org.eclipse.ui.editors_3.0.0/editors.jar
5a128000-5a183000 r--s 00000000 03:03 279572    
/work/eclipse-I200406180800/plugins/org.eclipse.ui.workbench.texteditor_3.0.0/texteditor.jar
5a183000-5a18f000 r--s 00000000 03:03 3566348   
/work/eclipse-I200406180800/plugins/org.eclipse.core.filebuffers_3.0.0/filebuffers.jar
5a18f000-5a1a3000 r-xp 00000000 03:03 2485575    /usr/X11R6/lib/libICE.so.6.3
5a1a3000-5a1a4000 rw-p 00013000 03:03 2485575    /usr/X11R6/lib/libICE.so.6.3
5a1a6000-5a1ac000 r-xp 00000000 03:03 359989     /usr/lib/liblinc.so.1.0.0
5a1ac000-5a1ad000 rw-p 00006000 03:03 359989     /usr/lib/liblinc.so.1.0.0
5a1b1000-5a1d7000 r--p 00000000 03:03 2077362   
/usr/share/fonts/truetype/Verdana_Bold_Italic.ttf
5a1d7000-5a1d9000 r-xp 00000000 03:03 3548476   
/usr/lib/pango/1.2.0/modules/pango-arabic-xft.so
5a1d9000-5a1da000 rw-p 00002000 03:03 3548476   
/usr/lib/pango/1.2.0/modules/pango-arabic-xft.so
5a1da000-5a1dc000 r-xp 00000000 03:03 3548494   
/usr/lib/pango/1.2.0/modules/pango-hangul-xft.so
5a1dc000-5a1dd000 rw-p 00002000 03:03 3548494   
/usr/lib/pango/1.2.0/modules/pango-hangul-xft.so
5a1dd000-5a1e9000 r-xp 00000000 03:03 359833     /usr/lib/libz.so.1.1.4
5a1e9000-5a1eb000 rw-p 0000b000 03:03 359833     /usr/lib/libz.so.1.1.4
5a1eb000-5a212000 r-xp 00000000 03:03 360023    
/usr/lib/libgnomecanvas-2.so.0.200.0
5a212000-5a213000 rw-p 00027000 03:03 360023    
/usr/lib/libgnomecanvas-2.so.0.200.0
5a219000-5a5f5000 r--p 00000000 03:03 4546049   
/usr/share/fonts/ja/TrueType/kochi-gothic.ttf
5a5f5000-5a5fc000 r-xp 00000000 03:03 359816     /usr/lib/libpopt.so.0.0.0
5a5fc000-5a5fd000 rw-p 00006000 03:03 359816     /usr/lib/libpopt.so.0.0.0
5a5fd000-5a637000 r--p 00000000 03:03 2077345   
/usr/share/fonts/truetype/Courier_New_Bold_Italic.ttf
5a637000-5a681000 r--p 00000000 03:03 2077342   
/usr/share/fonts/truetype/Courier_New.ttf
5a681000-5a709000 r-xp 00000000 03:03 360032     /usr/lib/libgnomeui-2.so.0.200.0
5a709000-5a70c000 rw-p 00088000 03:03 360032     /usr/lib/libgnomeui-2.so.0.200.0
5a70c000-5a772000 r-xp 00000000 03:03 360029     /usr/lib/libbonoboui-2.so.0.0.0
5a772000-5a775000 rw-p 00066000 03:03 360029     /usr/lib/libbonoboui-2.so.0.0.0
5a775000-5a854000 r-xp 00000000 03:03 359929     /usr/lib/libxml2.so.2.5.4
5a854000-5a85f000 rw-p 000de000 03:03 359929     /usr/lib/libxml2.so.2.5.4
5a860000-5a873000 r-xp 00000000 03:03 360022     /usr/lib/libgnome-2.so.0.200.0
5a873000-5a874000 rw-p 00013000 03:03 360022     /usr/lib/libgnome-2.so.0.200.0
5a874000-5a889000 r-xp 00000000 03:03 359986     /usr/lib/libart_lgpl_2.so.2.3.11
5a889000-5a88a000 rw-p 00015000 03:03 359986     /usr/lib/libart_lgpl_2.so.2.3.11
5a88a000-5a8ab000 r-xp 00000000 03:03 360002     /usr/lib/libpangoft2-1.0.so.0.200.1
5a8ab000-5a8ac000 rw-p 00021000 03:03 360002     /usr/lib/libpangoft2-1.0.so.0.200.1
5a8ac000-5a8ee000 r-xp 00000000 03:03 359997     /usr/lib/libbonobo-2.so.0.0.0
5a8ee000-5a8f8000 rw-p 00041000 03:03 359997     /usr/lib/libbonobo-2.so.0.0.0
5a8f8000-5a92b000 r-xp 00000000 03:03 360016     /usr/lib/libgconf-2.so.4.1.0
5a92b000-5a92e000 rw-p 00033000 03:03 360016     /usr/lib/libgconf-2.so.4.1.0
5a92e000-5a965000 r-xp 00000000 03:03 360018     /usr/lib/libgnomevfs-2.so.0.0.0
5a965000-5a967000 rw-p 00036000 03:03 360018     /usr/lib/libgnomevfs-2.so.0.0.0
5a967000-5a977000 r-xp 00000000 03:03 359995    
/usr/lib/libbonobo-activation.so.4.0.0
5a977000-5a979000 rw-p 00010000 03:03 359995    
/usr/lib/libbonobo-activation.so.4.0.0
5a979000-5a9c4000 r-xp 00000000 03:03 359952     /usr/lib/libORBit-2.so.0.0.0
5a9c4000-5a9cd000 rw-p 0004b000 03:03 359952     /usr/lib/libORBit-2.so.0.0.0
5a9cd000-5a9ea000 r-xp 00000000 03:03 359923     /usr/lib/libjpeg.so.62.0.0
5a9ea000-5a9eb000 rw-p 0001d000 03:03 359923     /usr/lib/libjpeg.so.62.0.0
5a9eb000-5a9f2000 r-xp 00000000 03:03 359980     /usr/lib/libesd.so.0.2.28
5a9f2000-5a9f3000 rw-p 00006000 03:03 359980     /usr/lib/libesd.so.0.2.28
5a9f3000-5aa15000 r-xp 00000000 03:03 359978     /usr/lib/libaudiofile.so.0.0.2
5aa15000-5aa18000 rw-p 00021000 03:03 359978     /usr/lib/libaudiofile.so.0.0.2
5aa18000-5aa23000 r-xp 00000000 03:03 359993    
/usr/lib/libORBitCosNaming-2.so.0.0.0
5aa23000-5aa25000 rw-p 0000b000 03:03 359993    
/usr/lib/libORBitCosNaming-2.so.0.0.0
5aa25000-5aa57000 r-xp 00000000 03:03 4088017    /lib/libssl.so.0.9.7a
5aa57000-5aa5a000 rw-p 00032000 03:03 4088017    /lib/libssl.so.0.9.7a
5aa5a000-5ab36000 r-xp 00000000 03:03 4088012    /lib/libcrypto.so.0.9.7a
5ab36000-5ab47000 rw-p 000dc000 03:03 4088012    /lib/libcrypto.so.0.9.7a
5ab4b000-5ab51000 r-xp 00000000 03:03 588686     /lib/tls/librt-2.3.2.so
5ab51000-5ab53000 rw-p 00005000 03:03 588686     /lib/tls/librt-2.3.2.so
5ab5d000-5ab6f000 r-xp 00000000 03:03 2632695   
/usr/kerberos/lib/libgssapi_krb5.so.2.2
5ab6f000-5ab70000 rw-p 00011000 03:03 2632695   
/usr/kerberos/lib/libgssapi_krb5.so.2.2
5ab70000-5abcc000 r-xp 00000000 03:03 2632709    /usr/kerberos/lib/libkrb5.so.3.1
5abcc000-5abce000 rw-p 0005c000 03:03 2632709    /usr/kerberos/lib/libkrb5.so.3.1
5abce000-5abdd000 r-xp 00000000 03:03 2632699   
/usr/kerberos/lib/libk5crypto.so.3.0
5abdd000-5abde000 rw-p 0000f000 03:03 2632699   
/usr/kerberos/lib/libk5crypto.so.3.0
5abde000-5abed000 r-xp 00000000 03:03 4088052    /lib/libresolv-2.3.2.so
5abed000-5abee000 rw-p 0000f000 03:03 4088052    /lib/libresolv-2.3.2.so

Heap at VM Abort:
Heap
 def new generation   total 1472K, used 776K [0x44740000, 0x448d0000, 0x45af0000)
  eden space 1344K,  48% used [0x44740000, 0x447e2770, 0x44890000)
  from space 128K,  98% used [0x44890000, 0x448afa10, 0x448b0000)
  to   space 128K,   0% used [0x448b0000, 0x448b0000, 0x448d0000)
 tenured generation   total 18460K, used 12026K [0x45af0000, 0x46cf7000, 0x54740000)
   the space 18460K,  65% used [0x45af0000, 0x466aea28, 0x466aec00, 0x46cf7000)
 compacting perm gen  total 15616K, used 15605K [0x54740000, 0x55680000, 0x58740000)
   the space 15616K,  99% used [0x54740000, 0x5567d540, 0x5567d600, 0x55680000)

Local Time = Fri Jun 18 18:02:42 2004
Elapsed Time = 359
#
# The exception above was detected in native code outside the VM
#
# Java VM: Java HotSpot(TM) Client VM (1.4.2_03-b02 mixed mode)
#
# An error report file has been saved as hs_err_pid18318.log.
# Please refer to the file for further information.
#
How do I run the UI test suite? Which projects have to be loaded?
Get org.eclipse.ui.tests and run:
Eclipse UI Tests/org.eclipse.ui.tests/UiTestSuite.java
as a JUnit Plug-in test.
Run 3 times the tests and I did not get the GPF. Which version of gtk are you
running? Which window manager? Which desktop? Which theme?
GNOME, Gtk+ 2.2.1, Bluecurve.
Changed my theme from Mist to Bluecurve and got the following GPF. Bluecurve has
always been a problem.

Current Java thread:
	at org.eclipse.swt.internal.gtk.OS.gtk_main_iteration(Native Method)
	at org.eclipse.swt.widgets.Display.readAndDispatch(Display.java:2287)
	at org.eclipse.ui.tests.util.UITestCase.processEvents(UITestCase.java:153)
	at org.eclipse.ui.tests.util.UITestCase.doTearDown(UITestCase.java:145)
	at org.eclipse.ui.tests.util.UITestCase.tearDown(UITestCase.java:134)
	at junit.framework.TestCase.runBare(TestCase.java:130)
	at junit.framework.TestResult$1.protect(TestResult.java:106)
	at junit.framework.TestResult.runProtected(TestResult.java:124)
	at junit.framework.TestResult.run(TestResult.java:109)
	at junit.framework.TestCase.run(TestCase.java:118)
	at junit.framework.TestSuite.runTest(TestSuite.java:208)
	at junit.framework.TestSuite.run(TestSuite.java:203)
	at junit.framework.TestSuite.runTest(TestSuite.java:208)
	at junit.framework.TestSuite.run(TestSuite.java:203)
	at junit.framework.TestSuite.runTest(TestSuite.java:208)
	at junit.framework.TestSuite.run(TestSuite.java:203)
	at
org.eclipse.jdt.internal.junit.runner.RemoteTestRunner.runTests(RemoteTestRunner.java:421)
	at
org.eclipse.jdt.internal.junit.runner.RemoteTestRunner.run(RemoteTestRunner.java:305)
	at
org.eclipse.pde.internal.junit.runtime.RemotePluginTestRunner.main(RemotePluginTestRunner.java:30)
	at
org.eclipse.pde.internal.junit.runtime.UITestApplication$1.run(UITestApplication.java:92)
	at org.eclipse.swt.widgets.RunnableLock.run(RunnableLock.java:35)
	at org.eclipse.swt.widgets.Synchronizer.runAsyncMessages(Synchronizer.java:106)
	- locked &lt;0x45163870&gt; (a org.eclipse.swt.widgets.RunnableLock)
	at org.eclipse.swt.widgets.Display.runAsyncMessages(Display.java:2558)
	at org.eclipse.swt.widgets.Display.readAndDispatch(Display.java:2291)
	at org.eclipse.ui.internal.Workbench.runEventLoop(Workbench.java:1375)
	at org.eclipse.ui.internal.Workbench.runUI(Workbench.java:1346)
	at org.eclipse.ui.internal.Workbench.createAndRunWorkbench(Workbench.java:252)
	at org.eclipse.ui.PlatformUI.createAndRunWorkbench(PlatformUI.java:141)
	at org.eclipse.ui.internal.ide.IDEApplication.run(IDEApplication.java:96)
	at
org.eclipse.pde.internal.junit.runtime.UITestApplication.run(UITestApplication.java:33)
	at
org.eclipse.core.internal.runtime.PlatformActivator$1.run(PlatformActivator.java:335)
	at org.eclipse.core.runtime.adaptor.EclipseStarter.run(EclipseStarter.java:272)
	at org.eclipse.core.runtime.adaptor.EclipseStarter.run(EclipseStarter.java:128)
	at sun.reflect.NativeMethodAccessorImpl.invoke0(Native Method)
	at sun.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:39)
	at
sun.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:25)
	at java.lang.reflect.Method.invoke(Method.java:324)
	at org.eclipse.core.launcher.Main.basicRun(Main.java:186)
	at org.eclipse.core.launcher.Main.run(Main.java:647)
	at org.eclipse.core.launcher.Main.main(Main.java:631)
*** Bug 65505 has been marked as a duplicate of this bug. ***
*** Bug 65274 has been marked as a duplicate of this bug. ***
I have seen some interest in this for 3.0.1.  Is anyone still looking at this 
for 3.0.1?  It looks like we now have a repeatable test case.  On the other 
hand is this really critical?  Can the people (or the customers of the people) 
who reported this bug or its dups just refrain from using the Bluecurve 
theme?  At least for a while?

Sorry, this is not being look at for 3.0.1. The bug is not really critical, because the user can avoid 
bluecurve.

Also, even though the UI test suite always reproduce the segment fault. It happens at random points. So 
it is not that easy to debug.
We can't fix bugs in Bluecurve.</WithOutStack>
  </Bug>
  <Bug>
    <BugId amount="67907" />
    <CreationDate amount="2004-06-18 18:22:00 -0400" />
    <DupId amount="" />
    <classification amount="Tools" />
    <Product amount="GEF" />
    <component amount="GEF (MVC) [GEF 3.x / Zest 1.x]" />
    <Version amount="unspecified" />
    <rep_platform amount="PC" />
    <op_sys amount="Windows XP" />
    <priority amount="P3" />
    <bug_severity amount="normal" />
    <Summery>Flyout palette does not show/hide anymore when the sash is clicked</Summery>
    <Patches amount="0" />
    <Stacktraces amount="0" />
    <SourceCodeRegions amount="0" />
    <Enumerations amount="0" />
    <bug_status amount="RESOLVED" />
    <resolution amount="FIXED" />
    <WithStack>Clikcing on the rotated "Palette" title still shows/hides the palette, but 
doing so on the sash does not work anymore.

This is broken as a result of the fix to Bug# 66589: SWT.DragDetect is not 
used for drag notification anymore
https://bugs.eclipse.org/bugs/show_bug.cgi?id=66589
Fixed in R30_Maintenance stream.
I undid this change in the 3.0 Maintenance stream, and released it in the HEAD 
stream.</WithStack>
    <WithOutStack>Clikcing on the rotated "Palette" title still shows/hides the palette, but 
doing so on the sash does not work anymore.

This is broken as a result of the fix to Bug# 66589: SWT.DragDetect is not 
used for drag notification anymore
https://bugs.eclipse.org/bugs/show_bug.cgi?id=66589
Fixed in R30_Maintenance stream.
I undid this change in the 3.0 Maintenance stream, and released it in the HEAD 
stream.</WithOutStack>
  </Bug>
  <Bug>
    <BugId amount="67908" />
    <CreationDate amount="2004-06-18 20:22:00 -0400" />
    <DupId amount="" />
    <classification amount="Eclipse" />
    <Product amount="Platform" />
    <component amount="Runtime" />
    <Version amount="3.0" />
    <rep_platform amount="All" />
    <op_sys amount="All" />
    <priority amount="P3" />
    <bug_severity amount="trivial" />
    <Summery>use 3.0.0 as plug-in version number</Summery>
    <Patches amount="0" />
    <Stacktraces amount="0" />
    <SourceCodeRegions amount="0" />
    <Enumerations amount="1">
      <Enumeration lines="2">
        <Lines>
          <Line>1. Help &gt; About Eclipse Platform</Line>
          <Line>2. Plug-in Details</Line>
        </Lines>
      </Enumeration>
    </Enumerations>
    <bug_status amount="RESOLVED" />
    <resolution amount="FIXED" />
    <WithStack>Build 3.0 RC3

1. Help &gt; About Eclipse Platform
2. Plug-in Details

Most plug-ins use 3-part version ids. But some of the code one use 2-part 
ones, and they're all in the corridor:
org.eclipse.core.boot
org.eclipse.core.resources[.*]
org.eclipse.core.filebuffers
org.eclipse.osgi.util
org.eclipse.osgi.servies
org.eclipse.pde.build

A nit, for sure. But it would be nice to have them all say "3.0.0" for 3.0.
Adding Nick to CC re: core.filebuffers project.
The Text team owns org.eclipse.core.filebuffers.

However, when I try this using I20040618-0800, they all appear as 3-part,
despite some of them being specified as 2-part in the plugin.xml.

I'm running 3.0 RC3 (200406192000) and I'm still seeing the problem.
OK, I see it now on the RC3 build.

Andrew and Pascal, has there been a change in how we obtain the version labels,
or a corresponding change in Core?

In 2.1 the plugin details dialog showed only the plugins that are accessible 
through features but in 3.0 all bundles are shown.  I *think* that the entries 
with other version numbers showed up at the same time.
I have changed the following projects in HEAD. Changes reviewed by JM.

org.eclipse.core.boot
org.eclipse.core.resources
org.eclipse.core.resources.hpux
org.eclipse.core.resources.linux
org.eclipse.core.resources.macosx
org.eclipse.core.resources.qnx
org.eclipse.core.resources.win32
org.eclipse.core.tests.resources
org.eclipse.core.tests.runtime
org.eclipse.osgi.services
org.eclipse.osgi.tests
org.eclipse.osgi.util
org.eclipse.pde.build
org.eclipse.webdav

Moving to Kai to change filebuffers and closure.
Created attachment 12630
patch for org.eclipse.core.filebuffers
File buffers fixed in build I200406220800. Moving back to Platform Core.
Closing.
Andrew, can you please get to the bottom of why the display changed here?  Other
products that build on us may have the same problem, and may have many more
plugins to update.  If we previously always showed a 3- or 4-part version id,
then we should do the same now.


Andrew, See also bug 65042 [Workbench] Normalize plug-in version ids
Just confirmed that in I20040618-0800, they all showed as 3-part.
this should be investigated only to make sure it is not a problem for 3.0... 
no plans to fix if this has low impact.
*** Bug 68262 has been marked as a duplicate of this bug. ***
I thought I had already summarized this, but don't see it here so...

In 2.1 we got the version number from PluginDescriptor.getVersionIdentifier 
which does the normalization.

In 3.0 we just take the string out of the manifest header.  I haven't tested 
this case but I expect that means it could be anything.

After 3.0 we should use the PluginVersionIdentifier to normalize the string that 
comes out of the manifest.  I'll attach a patch shortly.
Created attachment 12805
patch so that about dialog normalizes version strings as in 2.1

This patch modifies the about features and about plugins dialogs to normalize
the version ids in the same way as 2.1.
When we were chatting earlier, you said that the behaviour in the current code
sometimes changes, e.g. was different on first run than on subsequent runs
(which might explain the difference I was seeing in I20040618).  Is there
another bug lurking here that would be hidden by the patch?

I had forgotten about that part -- I just talked to pascal about it and 
apparently the difference in behaviour is still a mystery.

However, he also added that they should be doing the normalization for all 
version numbers (I didn't realize that).  There needs to be more investigation, 
but it may be that the problem is in core, not the about dialog.
From previous talks with pascal it sounds like the runtime should be normalizing 
the version numbers.  I'm moving it to him to figure out why that isn't always 
happening.
This was sitting in the UI bucket.  Pascal, should the runtime be normalizing
version numbers?  If so, then Andrew's patch should not be needed.  If not, we
can discuss whether the UI should normalize, but my initial feeling is that it
should not munge what the runtime provides.

I actually don't believe that anyone should be normalizing...  If it makes 
sense to have them normalized in the About display that's cool but there are so 
many version numbers hanging around in OSGi/runtime it doesn't make sense for 
them all to be normalized and normalizing some but not others doesn't feel 
right.
OK, I'm fine with less mungeing.  I've closed bug 65042 as wontfix.

Checked the about plugins dialog in the latest I-build.  The version numbers all
look fine without normalization.

Closing.</WithStack>
    <WithOutStack>Build 3.0 RC3

1. Help &gt; About Eclipse Platform
2. Plug-in Details

Most plug-ins use 3-part version ids. But some of the code one use 2-part 
ones, and they're all in the corridor:
org.eclipse.core.boot
org.eclipse.core.resources[.*]
org.eclipse.core.filebuffers
org.eclipse.osgi.util
org.eclipse.osgi.servies
org.eclipse.pde.build

A nit, for sure. But it would be nice to have them all say "3.0.0" for 3.0.
Adding Nick to CC re: core.filebuffers project.
The Text team owns org.eclipse.core.filebuffers.

However, when I try this using I20040618-0800, they all appear as 3-part,
despite some of them being specified as 2-part in the plugin.xml.

I'm running 3.0 RC3 (200406192000) and I'm still seeing the problem.
OK, I see it now on the RC3 build.

Andrew and Pascal, has there been a change in how we obtain the version labels,
or a corresponding change in Core?

In 2.1 the plugin details dialog showed only the plugins that are accessible 
through features but in 3.0 all bundles are shown.  I *think* that the entries 
with other version numbers showed up at the same time.
I have changed the following projects in HEAD. Changes reviewed by JM.

org.eclipse.core.boot
org.eclipse.core.resources
org.eclipse.core.resources.hpux
org.eclipse.core.resources.linux
org.eclipse.core.resources.macosx
org.eclipse.core.resources.qnx
org.eclipse.core.resources.win32
org.eclipse.core.tests.resources
org.eclipse.core.tests.runtime
org.eclipse.osgi.services
org.eclipse.osgi.tests
org.eclipse.osgi.util
org.eclipse.pde.build
org.eclipse.webdav

Moving to Kai to change filebuffers and closure.
Created attachment 12630
patch for org.eclipse.core.filebuffers
File buffers fixed in build I200406220800. Moving back to Platform Core.
Closing.
Andrew, can you please get to the bottom of why the display changed here?  Other
products that build on us may have the same problem, and may have many more
plugins to update.  If we previously always showed a 3- or 4-part version id,
then we should do the same now.


Andrew, See also bug 65042 [Workbench] Normalize plug-in version ids
Just confirmed that in I20040618-0800, they all showed as 3-part.
this should be investigated only to make sure it is not a problem for 3.0... 
no plans to fix if this has low impact.
*** Bug 68262 has been marked as a duplicate of this bug. ***
I thought I had already summarized this, but don't see it here so...

In 2.1 we got the version number from PluginDescriptor.getVersionIdentifier 
which does the normalization.

In 3.0 we just take the string out of the manifest header.  I haven't tested 
this case but I expect that means it could be anything.

After 3.0 we should use the PluginVersionIdentifier to normalize the string that 
comes out of the manifest.  I'll attach a patch shortly.
Created attachment 12805
patch so that about dialog normalizes version strings as in 2.1

This patch modifies the about features and about plugins dialogs to normalize
the version ids in the same way as 2.1.
When we were chatting earlier, you said that the behaviour in the current code
sometimes changes, e.g. was different on first run than on subsequent runs
(which might explain the difference I was seeing in I20040618).  Is there
another bug lurking here that would be hidden by the patch?

I had forgotten about that part -- I just talked to pascal about it and 
apparently the difference in behaviour is still a mystery.

However, he also added that they should be doing the normalization for all 
version numbers (I didn't realize that).  There needs to be more investigation, 
but it may be that the problem is in core, not the about dialog.
From previous talks with pascal it sounds like the runtime should be normalizing 
the version numbers.  I'm moving it to him to figure out why that isn't always 
happening.
This was sitting in the UI bucket.  Pascal, should the runtime be normalizing
version numbers?  If so, then Andrew's patch should not be needed.  If not, we
can discuss whether the UI should normalize, but my initial feeling is that it
should not munge what the runtime provides.

I actually don't believe that anyone should be normalizing...  If it makes 
sense to have them normalized in the About display that's cool but there are so 
many version numbers hanging around in OSGi/runtime it doesn't make sense for 
them all to be normalized and normalizing some but not others doesn't feel 
right.
OK, I'm fine with less mungeing.  I've closed bug 65042 as wontfix.

Checked the about plugins dialog in the latest I-build.  The version numbers all
look fine without normalization.

Closing.</WithOutStack>
  </Bug>
  <Bug>
    <BugId amount="67909" />
    <CreationDate amount="2004-06-18 20:25:00 -0400" />
    <DupId amount="" />
    <classification amount="Eclipse" />
    <Product amount="Platform" />
    <component amount="UI" />
    <Version amount="3.0" />
    <rep_platform amount="PC" />
    <op_sys amount="Linux-GTK" />
    <priority amount="P3" />
    <bug_severity amount="normal" />
    <Summery>[PerspectiveBar] Perspective bar default size too short for CVS perspective button</Summery>
    <Patches amount="0" />
    <Stacktraces amount="0" />
    <SourceCodeRegions amount="0" />
    <Enumerations amount="0" />
    <bug_status amount="NEW" />
    <resolution amount="" />
    <WithStack>I200406181804

Using the default theme and fonts in RH9 the CVS repository perspective button
is clipped on the right.  If you run under Gtk+ 2.4, which does not show clipped
toolbar items, then the perspective bar must be resized before it shows anything.

While I think that because of differences in fonts this may occur no matter what
default size we use, specifically targeting the default font sizes from RH9 may
be useful.
Created attachment 12545
Screenshot
I'd like to fix this by shortening the text width to accomodate this in 
PerspectiveContributionItem
deferring</WithStack>
    <WithOutStack>I200406181804

Using the default theme and fonts in RH9 the CVS repository perspective button
is clipped on the right.  If you run under Gtk+ 2.4, which does not show clipped
toolbar items, then the perspective bar must be resized before it shows anything.

While I think that because of differences in fonts this may occur no matter what
default size we use, specifically targeting the default font sizes from RH9 may
be useful.
Created attachment 12545
Screenshot
I'd like to fix this by shortening the text width to accomodate this in 
PerspectiveContributionItem
deferring</WithOutStack>
  </Bug>
  <Bug>
    <BugId amount="67910" />
    <CreationDate amount="2004-06-18 20:40:00 -0400" />
    <DupId amount="" />
    <classification amount="Eclipse" />
    <Product amount="PDE" />
    <component amount="UI" />
    <Version amount="3.0" />
    <rep_platform amount="PC" />
    <op_sys amount="Windows XP" />
    <priority amount="P3" />
    <bug_severity amount="enhancement" />
    <Summery>[export] PDE can stop sheltering PDE Build from exporting binary plugins</Summery>
    <Patches amount="0" />
    <Stacktraces amount="0" />
    <SourceCodeRegions amount="0" />
    <Enumerations amount="1">
      <Enumeration lines="16">
        <Lines>
          <Line>1. Now that binary plugins would show up in the viewer, potentially a lot more</Line>
          <Line>plugins would show up in the wizard viewer, since people who import binary</Line>
          <Line>plugins import them en masse.   The viewer is already small.  So this will</Line>
          <Line>result in a lot of vertical scrolling and it will be a major annoyance for the</Line>
          <Line>majority of users who don't even care about exporting binary plugins.</Line>
          <Line />
          <Line>2. So to please everybody, PDE/UI would for sure be asked to provide a</Line>
          <Line>checkbox that toggles the filtering of binary plugins, so that people who</Line>
          <Line>don't care about them don't see them and their user experience would be</Line>
          <Line>identical as before.  If we do, the counter (x out of x are selected) would</Line>
          <Line>have to be affected too.</Line>
          <Line />
          <Line>3. Also now that the number of plugins in the viewer is higher and the nature</Line>
          <Line>of the plugins in the viewer is of two types (source vs. binary), we would be</Line>
          <Line>expected to provide more buttons like in the import wizard, e.g. "Select</Line>
          <Line>Binary", "Invert Selection", etc.</Line>
        </Lines>
      </Enumeration>
    </Enumerations>
    <bug_status amount="NEW" />
    <resolution amount="" />
    <WithStack>PDE build now contains facility to export binary plugins (it was actually not
too difficult to put together) that are either imported (linked or not) or leave
in the target platform. For pde build, a binary plugin is a plugin that does not
have a build.properties.

The support works pretty well and I'm confident to expose it to the public.

Therefore, I would like pde ui to stop protecting its beloved pde build and let
the users export binary plugins.

Given the ease with which the filtering as been added I guess it can probably be
removed easily too :-)
The motivation for pde build to fix the original problem was that nothign
prevented users to create/load features that included a binary plugin and it was
failing while exporting.

Com'on Wassim don't be shy :-)
Too little too late ;-) 
Not sure we can sneak this one in for 3.0 at this point.
It will have to wait for 3.0.1.

I'm sure Jeff and Kevin will give your their +1.
I can probably bride others for extra +1 ;-)
Before you take out your cheque book, I have to give this a +1, and I am not 
willing to do that at this point in time in the imminent RC4 cycle, unless a 
better argument is presented.

When it comes right down to it, this is really an enhancement for the plugin 
export experience and not a bug and certainly not an RC4 bug.

From a PDE/UI point of view, it is not just a matter of filtering.  The whole 
user experience can be affected.

1. Now that binary plugins would show up in the viewer, potentially a lot more 
plugins would show up in the wizard viewer, since people who import binary 
plugins import them en masse.   The viewer is already small.  So this will 
result in a lot of vertical scrolling and it will be a major annoyance for the 
majority of users who don't even care about exporting binary plugins.

2. So to please everybody, PDE/UI would for sure be asked to provide a 
checkbox that toggles the filtering of binary plugins, so that people who 
don't care about them don't see them and their user experience would be 
identical as before.  If we do, the counter (x out of x are selected) would 
have to be affected too.

3. Also now that the number of plugins in the viewer is higher and the nature 
of the plugins in the viewer is of two types (source vs. binary), we would be 
expected to provide more buttons like in the import wizard, e.g. "Select 
Binary", "Invert Selection", etc.

As you can see this can open the door to many inconveniences to the already 
huge audience of the plugin export wizard, and RC4 is not the time to address 
these cosmetic UI changes.

Seen from this angle, I agree that it is hard to motivate people for 3.0.
What I was proposing was simply to revert to the 2.1 mode where binary plugins
were shown.
*** Bug 221995 has been marked as a duplicate of this bug. ***
Let's look at this during M7 and see what damage we can cause.
This will have to wait for 3.5
(In reply to comment #0)
&gt; PDE build now contains facility to export binary plugins (it was actually not
&gt; too difficult to put together) that are either imported (linked or not) or leave
&gt; in the target platform. For pde build, a binary plugin is a plugin that does not
&gt; have a build.properties.

Bug #240821 [1] shows that binary export doesn't fully work. One ends up with the binary plug-in as a nested jar. And I haven't seen anything in the code base that could handle binary export. Thus I suggest to make this bug a dependent of #240821.

[1] https://bugs.eclipse.org/bugs/show_bug.cgi?id=240821



In light of p2, I think this should be solved differently. If the binary bundle being exported is part of an installation, its content should be mirrored during export. However, I don't see this as critical for 3.5.</WithStack>
    <WithOutStack>PDE build now contains facility to export binary plugins (it was actually not
too difficult to put together) that are either imported (linked or not) or leave
in the target platform. For pde build, a binary plugin is a plugin that does not
have a build.properties.

The support works pretty well and I'm confident to expose it to the public.

Therefore, I would like pde ui to stop protecting its beloved pde build and let
the users export binary plugins.

Given the ease with which the filtering as been added I guess it can probably be
removed easily too :-)
The motivation for pde build to fix the original problem was that nothign
prevented users to create/load features that included a binary plugin and it was
failing while exporting.

Com'on Wassim don't be shy :-)
Too little too late ;-) 
Not sure we can sneak this one in for 3.0 at this point.
It will have to wait for 3.0.1.

I'm sure Jeff and Kevin will give your their +1.
I can probably bride others for extra +1 ;-)
Before you take out your cheque book, I have to give this a +1, and I am not 
willing to do that at this point in time in the imminent RC4 cycle, unless a 
better argument is presented.

When it comes right down to it, this is really an enhancement for the plugin 
export experience and not a bug and certainly not an RC4 bug.

From a PDE/UI point of view, it is not just a matter of filtering.  The whole 
user experience can be affected.

1. Now that binary plugins would show up in the viewer, potentially a lot more 
plugins would show up in the wizard viewer, since people who import binary 
plugins import them en masse.   The viewer is already small.  So this will 
result in a lot of vertical scrolling and it will be a major annoyance for the 
majority of users who don't even care about exporting binary plugins.

2. So to please everybody, PDE/UI would for sure be asked to provide a 
checkbox that toggles the filtering of binary plugins, so that people who 
don't care about them don't see them and their user experience would be 
identical as before.  If we do, the counter (x out of x are selected) would 
have to be affected too.

3. Also now that the number of plugins in the viewer is higher and the nature 
of the plugins in the viewer is of two types (source vs. binary), we would be 
expected to provide more buttons like in the import wizard, e.g. "Select 
Binary", "Invert Selection", etc.

As you can see this can open the door to many inconveniences to the already 
huge audience of the plugin export wizard, and RC4 is not the time to address 
these cosmetic UI changes.

Seen from this angle, I agree that it is hard to motivate people for 3.0.
What I was proposing was simply to revert to the 2.1 mode where binary plugins
were shown.
*** Bug 221995 has been marked as a duplicate of this bug. ***
Let's look at this during M7 and see what damage we can cause.
This will have to wait for 3.5
(In reply to comment #0)
&gt; PDE build now contains facility to export binary plugins (it was actually not
&gt; too difficult to put together) that are either imported (linked or not) or leave
&gt; in the target platform. For pde build, a binary plugin is a plugin that does not
&gt; have a build.properties.

Bug #240821 [1] shows that binary export doesn't fully work. One ends up with the binary plug-in as a nested jar. And I haven't seen anything in the code base that could handle binary export. Thus I suggest to make this bug a dependent of #240821.

[1] https://bugs.eclipse.org/bugs/show_bug.cgi?id=240821



In light of p2, I think this should be solved differently. If the binary bundle being exported is part of an installation, its content should be mirrored during export. However, I don't see this as critical for 3.5.</WithOutStack>
  </Bug>
  <Bug>
    <BugId amount="67911" />
    <CreationDate amount="2004-06-18 21:03:00 -0400" />
    <DupId amount="" />
    <classification amount="Tools" />
    <Product amount="CDT" />
    <component amount="cdt-core" />
    <Version amount="2.0" />
    <rep_platform amount="PC" />
    <op_sys amount="Linux" />
    <priority amount="P3" />
    <bug_severity amount="major" />
    <Summery>Save of static library build options fails</Summery>
    <Patches amount="0" />
    <Stacktraces amount="0" />
    <SourceCodeRegions amount="0" />
    <Enumerations amount="0" />
    <bug_status amount="RESOLVED" />
    <resolution amount="WONTFIX" />
    <WithStack>I've used Subclipse to import a subversion directory as a managed make C++ 
project. Walking through the project wizard, I chose GNU static library as the 
type for the project. The project seems to be created properly - everything 
under project properties looks okay. Then when the project is built, I get this 
error: 
 
"CDT Project async save (Error: An internal error occurred during: "CDT Project 
async save".)" 
 
Once that happens, the build options are lost and the project can no longer be 
built. On the C/C++ Build page of the project properties, it says "The project 
settings are stored in an earlier format. You must upgrade the project before 
the settings can be upgraded." 
 
I think this could be a problem specific to the static library type of project, 
because I've made two GNU executable type projects in the same way (also 
importing using subclipse) and those projects have retained their settings.  
 
Here are the details of the software I'm running: 
Eclipse 3.0M9 (x86, GTK) 
CDT 2.0M9 
Subclipse 0.9.3 
Blackdown Java Server VM (1.4.1-01) 
Linux kernel 2.6.7 
 
I hope this is useful. If you need any more information or want me to test 
anything I'll be happy to help.
I thought I'd better try this on a more up-to-date virtual machine. Sun's 
1.4.2_04-b05 VM gives the same problem, unfortunately. 
A workaround seems to be to click the Restore Defaults button on the C/C++ 
build settings page of the project properties before the settings are lost. 
This generates the .cdtbuild file correctly. It seems like the settings get 
lost because this file isn't generated (or isn't saved, at least) otherwise. 
Sean, This looks like it is yours  -- could this be related to 66739?
This is unrelated to 66739 (which is just a missing flag that caused the build 
to fail because the linker was looking for a main function). Just looking at 
the description, it looks like the build settings save is somehow 
getting "pooched" to use a highly technical term. I don't know why, though. 
Gareth,
I cannot duplicate this error based on your description. I have experimented 
with turning the save automatically before build and run build in background 
options on and off to no avail. I will try this with a larger project to see 
if there is some sort of threshold that can lead to a deadlock on save.

I would appreciate it if you could give me more information on the options you 
have enabled and whether this happens on all projects, just large ones, or 
when you are using a CM system (I am reading between the lines here, but it 
sounds like you might be). As well, if you could attach the 
&lt;workspace_dir&gt;/.metadata/.log file to this report it might help narrow the 
problem down.

P.S. what is Subclipse?

Aggh, I'm sorry, I think I've found the reason for this problem. If I'm right, 
this is more a problem with Subclipse than with CDT. For the sake of 
completeness though I'll tell you what I've tested. 
 
First of all, Subclipse is a subversion plugin for eclipse 
(http://subclipse.tigris.org). Subversion is meant to be a better alternative 
to the CVS versioning system. 
 
As you asked, I tried creating a new managed make project (File -&gt; New -&gt; 
Project), and that worked fine - the .cdtbuild file was created. 
 
I tried importing another few projects from Subclipse and each time I got the 
same async save error - it happens on GNU executable type projects as well as 
static libraries after all. Maybe when I found this problem the first time 
around I happened to restore the project build defaults for my executable 
project by chance (thereby creating the .cdtbuild file), but not for my static 
library ? Anyway, I've tried with the build automatically setting on and off - 
both ways gives me the same error. 
 
Here's what I think is going on. I noticed another message while I was testing 
that I didn't pay any attention to before. After confirming the project import 
wizard, a dialogue pops up saying "The resource &lt;project name&gt; already exists 
in the workspace and will be deleted. Proceed?". Previously I've just proceeded 
here, which causes subclipse to check out the source code into the project and 
leads to the async save error. 
 
This time, before I said okay to the dialogue, I checked to see what had 
actually been created in the workspace. It turned out that the project had been 
created properly, including a .cdtbuild file. I think that saying okay to the 
dialogue must clear out all or part of the project that's already been created, 
including the .cdtbuild file. I'm guessing that the async save error is caused 
because some code somewhere assumes that the .cdtbuild file already exists 
before it is written to. Does that sound plausible? 
 
I'm very sorry if I've reported this bug in error - it could be that it's 
really a problem for the subclipse developers and not you guys after all! I'll 
attach the .metadata/.log file for you to take a look at though just in case. 
Created attachment 12601
.metadata/.log file
Gareth,
I'm sorry that this is happening to you, but from the log file and the 
description of the problem, I do not think this is a problem that we caused. 
That said, if you do end up raising this issue with Subclipse (with whom we 
have no association) and they try to punt it back to us, please let me know 
and I will do my best to help you on my end. 
Thanks for the help. I'll let the subclipse guys know :)</WithStack>
    <WithOutStack>I've used Subclipse to import a subversion directory as a managed make C++ 
project. Walking through the project wizard, I chose GNU static library as the 
type for the project. The project seems to be created properly - everything 
under project properties looks okay. Then when the project is built, I get this 
error: 
 
"CDT Project async save (Error: An internal error occurred during: "CDT Project 
async save".)" 
 
Once that happens, the build options are lost and the project can no longer be 
built. On the C/C++ Build page of the project properties, it says "The project 
settings are stored in an earlier format. You must upgrade the project before 
the settings can be upgraded." 
 
I think this could be a problem specific to the static library type of project, 
because I've made two GNU executable type projects in the same way (also 
importing using subclipse) and those projects have retained their settings.  
 
Here are the details of the software I'm running: 
Eclipse 3.0M9 (x86, GTK) 
CDT 2.0M9 
Subclipse 0.9.3 
Blackdown Java Server VM (1.4.1-01) 
Linux kernel 2.6.7 
 
I hope this is useful. If you need any more information or want me to test 
anything I'll be happy to help.
I thought I'd better try this on a more up-to-date virtual machine. Sun's 
1.4.2_04-b05 VM gives the same problem, unfortunately. 
A workaround seems to be to click the Restore Defaults button on the C/C++ 
build settings page of the project properties before the settings are lost. 
This generates the .cdtbuild file correctly. It seems like the settings get 
lost because this file isn't generated (or isn't saved, at least) otherwise. 
Sean, This looks like it is yours  -- could this be related to 66739?
This is unrelated to 66739 (which is just a missing flag that caused the build 
to fail because the linker was looking for a main function). Just looking at 
the description, it looks like the build settings save is somehow 
getting "pooched" to use a highly technical term. I don't know why, though. 
Gareth,
I cannot duplicate this error based on your description. I have experimented 
with turning the save automatically before build and run build in background 
options on and off to no avail. I will try this with a larger project to see 
if there is some sort of threshold that can lead to a deadlock on save.

I would appreciate it if you could give me more information on the options you 
have enabled and whether this happens on all projects, just large ones, or 
when you are using a CM system (I am reading between the lines here, but it 
sounds like you might be). As well, if you could attach the 
&lt;workspace_dir&gt;/.metadata/.log file to this report it might help narrow the 
problem down.

P.S. what is Subclipse?

Aggh, I'm sorry, I think I've found the reason for this problem. If I'm right, 
this is more a problem with Subclipse than with CDT. For the sake of 
completeness though I'll tell you what I've tested. 
 
First of all, Subclipse is a subversion plugin for eclipse 
(http://subclipse.tigris.org). Subversion is meant to be a better alternative 
to the CVS versioning system. 
 
As you asked, I tried creating a new managed make project (File -&gt; New -&gt; 
Project), and that worked fine - the .cdtbuild file was created. 
 
I tried importing another few projects from Subclipse and each time I got the 
same async save error - it happens on GNU executable type projects as well as 
static libraries after all. Maybe when I found this problem the first time 
around I happened to restore the project build defaults for my executable 
project by chance (thereby creating the .cdtbuild file), but not for my static 
library ? Anyway, I've tried with the build automatically setting on and off - 
both ways gives me the same error. 
 
Here's what I think is going on. I noticed another message while I was testing 
that I didn't pay any attention to before. After confirming the project import 
wizard, a dialogue pops up saying "The resource &lt;project name&gt; already exists 
in the workspace and will be deleted. Proceed?". Previously I've just proceeded 
here, which causes subclipse to check out the source code into the project and 
leads to the async save error. 
 
This time, before I said okay to the dialogue, I checked to see what had 
actually been created in the workspace. It turned out that the project had been 
created properly, including a .cdtbuild file. I think that saying okay to the 
dialogue must clear out all or part of the project that's already been created, 
including the .cdtbuild file. I'm guessing that the async save error is caused 
because some code somewhere assumes that the .cdtbuild file already exists 
before it is written to. Does that sound plausible? 
 
I'm very sorry if I've reported this bug in error - it could be that it's 
really a problem for the subclipse developers and not you guys after all! I'll 
attach the .metadata/.log file for you to take a look at though just in case. 
Created attachment 12601
.metadata/.log file
Gareth,
I'm sorry that this is happening to you, but from the log file and the 
description of the problem, I do not think this is a problem that we caused. 
That said, if you do end up raising this issue with Subclipse (with whom we 
have no association) and they try to punt it back to us, please let me know 
and I will do my best to help you on my end. 
Thanks for the help. I'll let the subclipse guys know :)</WithOutStack>
  </Bug>
  <Bug>
    <BugId amount="67912" />
    <CreationDate amount="2004-06-18 21:13:00 -0400" />
    <DupId amount="" />
    <classification amount="Eclipse" />
    <Product amount="Platform" />
    <component amount="Update  (deprecated - use RT&gt;Equinox&gt;p2)" />
    <Version amount="3.0" />
    <rep_platform amount="PC" />
    <op_sys amount="Windows XP" />
    <priority amount="P3" />
    <bug_severity amount="normal" />
    <Summery>ConfiguredSite is null after dynamically installing a feature</Summery>
    <Patches amount="0" />
    <Stacktraces amount="0" />
    <SourceCodeRegions amount="0" />
    <Enumerations amount="0" />
    <bug_status amount="RESOLVED" />
    <resolution amount="FIXED" />
    <WithStack>Install a new feature.
Select to apply changes now, without restarting.
Open Configuration Manager and check the feature's status.
The status displays "ConfiguredSite is null"
In addition to this, if you try to install features in the newly added site, 
you need to first restart eclipse for the site for the site to become 
updateable.
fixed in 3.1
fix released in the 3.0.1 branch.</WithStack>
    <WithOutStack>Install a new feature.
Select to apply changes now, without restarting.
Open Configuration Manager and check the feature's status.
The status displays "ConfiguredSite is null"
In addition to this, if you try to install features in the newly added site, 
you need to first restart eclipse for the site for the site to become 
updateable.
fixed in 3.1
fix released in the 3.0.1 branch.</WithOutStack>
  </Bug>
  <Bug>
    <BugId amount="67913" />
    <CreationDate amount="2004-06-18 21:24:00 -0400" />
    <DupId amount="" />
    <classification amount="Eclipse" />
    <Product amount="Platform" />
    <component amount="UI" />
    <Version amount="3.0" />
    <rep_platform amount="All" />
    <op_sys amount="All" />
    <priority amount="P1" />
    <bug_severity amount="major" />
    <Summery>[ActionSets] Actions associated with views not disposed</Summery>
    <Patches amount="1">
      <Patch>
        <index>ActionPresentation.java</index>
        <original_file>ActionPresentation.java</original_file>
        <modified_file>ActionPresentation.java</modified_file>
        <Hunks>
          <hunk>public void clearActionSets() {&#xD;
&#xD;
         // Get all of the action sets -- both visible and invisible.&#xD;
&#xD;
         List oldList = copyActionSets(mapDescToRec);&#xD;
&#xD;
-        oldList.addAll(copyActionSets(invisibleBars));&#xD;
&#xD;
+        oldList.addAll(invisibleBars.keySet());&#xD;
&#xD;
 &#xD;
&#xD;
         Iterator iter = oldList.iterator();&#xD;
&#xD;
         while (iter.hasNext()) {</hunk>
          <hunk>private List copyActionSets(Map map) {&#xD;
&#xD;
         Set keys = map.keySet();&#xD;
&#xD;
         ArrayList list = new ArrayList(keys.size());&#xD;
&#xD;
-        Iterator iter = keys.iterator();&#xD;
&#xD;
-        while (iter.hasNext()) {&#xD;
&#xD;
-            list.add(iter.next());&#xD;
&#xD;
-        }&#xD;
&#xD;
+        list.addAll(keys);&#xD;
&#xD;
         return list;&#xD;
&#xD;
     }</hunk>
          <hunk>* Destroy an action set.&#xD;
&#xD;
      */&#xD;
&#xD;
     public void removeActionSet(IActionSetDescriptor desc) {&#xD;
&#xD;
-        SetRec rec = (SetRec) mapDescToRec.get(desc);&#xD;
&#xD;
+        SetRec rec = (SetRec) mapDescToRec.remove(desc);&#xD;
&#xD;
         if (rec == null) {&#xD;
&#xD;
-            rec = (SetRec) invisibleBars.get(desc);&#xD;
&#xD;
+            rec = (SetRec) invisibleBars.remove(desc);&#xD;
&#xD;
         }&#xD;
&#xD;
         if (rec != null) {&#xD;
&#xD;
-            mapDescToRec.remove(desc);&#xD;
&#xD;
-            // Remove from the map that stores invisible bars&#xD;
&#xD;
-            invisibleBars.remove(desc);&#xD;
&#xD;
             IActionSet set = rec.set;&#xD;
&#xD;
             SubActionBars bars = rec.bars;&#xD;
&#xD;
             if (bars != null) {</hunk>
        </Hunks>
      </Patch>
    </Patches>
    <Stacktraces amount="0" />
    <SourceCodeRegions amount="18">
      <source_code type="functiondef">
        <location start="2435" end="2471" />
        <code>public void clearActionSets() {</code>
      </source_code>
      <source_code type="singlecomment">
        <location start="2472" end="2542" />
        <code>// Get all of the action sets -- both visible and invisible.</code>
      </source_code>
      <source_code type="assignment">
        <location start="2542" end="2595" />
        <code>List oldList = copyActionSets(mapDescToRec);</code>
      </source_code>
      <source_code type="functioncall">
        <location start="2596" end="2651" />
        <code>-        oldList.addAll(copyActionSets(invisibleBars));</code>
      </source_code>
      <source_code type="functioncall">
        <location start="2652" end="2700" />
        <code>+        oldList.addAll(invisibleBars.keySet());</code>
      </source_code>
      <source_code type="assignment">
        <location start="2703" end="2747" />
        <code>Iterator iter = oldList.iterator();</code>
      </source_code>
      <source_code type="functiondef">
        <location start="2748" end="2781" />
        <code>while (iter.hasNext()) {</code>
      </source_code>
      <source_code type="functiondef">
        <location start="2801" end="3112" />
        <code>private List copyActionSets(Map map) {
         Set keys = map.keySet();
         ArrayList list = new ArrayList(keys.size());
-        Iterator iter = keys.iterator();
-        while (iter.hasNext()) {
-            list.add(iter.next());
-        }
+        list.addAll(keys);
         return list;
     }</code>
      </source_code>
      <source_code type="functiondef">
        <location start="3175" end="3236" />
        <code>public void removeActionSet(IActionSetDescriptor desc) {</code>
      </source_code>
      <source_code type="assignment">
        <location start="3237" end="3291" />
        <code>-        SetRec rec = (SetRec) mapDescToRec.get(desc);</code>
      </source_code>
      <source_code type="assignment">
        <location start="3292" end="3349" />
        <code>+        SetRec rec = (SetRec) mapDescToRec.remove(desc);</code>
      </source_code>
      <source_code type="ifstatement">
        <location start="3350" end="3497" />
        <code>if (rec == null) {
-            rec = (SetRec) invisibleBars.get(desc);
+            rec = (SetRec) invisibleBars.remove(desc);
         }</code>
      </source_code>
      <source_code type="ifstatement">
        <location start="3498" end="3525" />
        <code>if (rec != null) {</code>
      </source_code>
      <source_code type="functioncall">
        <location start="3526" end="3565" />
        <code>-            mapDescToRec.remove(desc);</code>
      </source_code>
      <source_code type="functioncall">
        <location start="3629" end="3669" />
        <code>-            invisibleBars.remove(desc);</code>
      </source_code>
      <source_code type="assignment">
        <location start="3670" end="3708" />
        <code>IActionSet set = rec.set;</code>
      </source_code>
      <source_code type="assignment">
        <location start="3709" end="3752" />
        <code>SubActionBars bars = rec.bars;</code>
      </source_code>
      <source_code type="ifstatement">
        <location start="3753" end="3785" />
        <code>if (bars != null) {</code>
      </source_code>
    </SourceCodeRegions>
    <Enumerations amount="2">
      <Enumeration lines="4">
        <Lines>
          <Line>1. Create a new Workbench Window</Line>
          <Line>2. Show the Java Browsing -&gt; Members View</Line>
          <Line>3. Select a different view</Line>
          <Line>4. Close the Workbench Window</Line>
        </Lines>
      </Enumeration>
      <Enumeration lines="6">
        <Lines>
          <Line>1. Create a new Workbench Window via Window -&gt; New Window</Line>
          <Line>2. Expose the Java Browsing Member View, Window -&gt; Show View -&gt; Other... -&gt;</Line>
          <Line>Java Browsing -&gt; Members</Line>
          <Line>3. Switch to the Task View which has the Member View currently selected</Line>
          <Line>4. Close the Workbench Window</Line>
          <Line>Verified by reporter.</Line>
        </Lines>
      </Enumeration>
    </Enumerations>
    <bug_status amount="VERIFIED" />
    <resolution amount="FIXED" />
    <WithStack>Here is the easy way to create this problem...

1. Create a new Workbench Window
2. Show the Java Browsing -&gt; Members View
3. Select a different view
4. Close the Workbench Window

Both org.eclipse.debug.internal.ui.actions.DebugDropDownAction and 
org.eclipse.debug.internal.ui.actions.RunDropDownAction are not disposed.

ActionPresentation doesn't clear out the invisibleBars.

Much of the code could be cleaned up to avoid all the constant 
contains/get/remove sequence and just do a single remove instead.
Created attachment 12546
Remove invisibleBars
Tagging for 3.0.1.

Glancing at the patch, it doesn't look like removeActionSet will remove the
entry from invisibleBars if it was found there.

The removal was already being done in removeActionSet (line 83).  But this is 
partly why I made the comment about cleaning up some of the code.  I think 
some of the copying and management could be simplified.  But that is separate 
from the current problem.
Moving to the 3.0.1 milestone for consideration.... 
I have modified the patch slightly (rather than iterator two lists, it 
iterators over one larger list containing all items).   
 
I'm not entirely sure how to recreate the test case you give (i.e., it doesn't 
seem to work for me, though I'm not entirely convinced that I know what you 
mean by 'org.eclipse.debug.internal.ui.actions.DebugDropDownAction').  I would 
really appreciate it if you could test this fix when it becomes available. 
 
This patch has been reviewed by Kim, and is committed to the 3.1 and 3.0.1 
branches.  It should appear in I200408170800 and M200408180800. 
 
I have one minor concern that the clearActionSets method could be called in a 
situation where the invisible bars aren't meant to be disposed.  
WorkbenchWindow.updateActionSets is the possible culprit, but it only does if 
the active page is null.  But, I don't believe this can ever happen. 
 
It works.  However, I would have done some slight modifications like those 
seen below.  Nothing earth shattering or required.

Index: ActionPresentation.java
===================================================================
RCS file: /home/eclipse/org.eclipse.ui.workbench/Eclipse 
UI/org/eclipse/ui/internal/ActionPresentation.java,v
retrieving revision 1.14
diff -u -r1.14 ActionPresentation.java
--- ActionPresentation.java	13 Aug 2004 19:11:26 -0000	1.14
+++ ActionPresentation.java	13 Aug 2004 21:51:20 -0000
@@ -63,7 +63,7 @@
     public void clearActionSets() {
         // Get all of the action sets -- both visible and invisible.
         List oldList = copyActionSets(mapDescToRec);
-        oldList.addAll(copyActionSets(invisibleBars));
+        oldList.addAll(invisibleBars.keySet());
 
         Iterator iter = oldList.iterator();
         while (iter.hasNext()) {
@@ -78,10 +78,7 @@
     private List copyActionSets(Map map) {
         Set keys = map.keySet();
         ArrayList list = new ArrayList(keys.size());
-        Iterator iter = keys.iterator();
-        while (iter.hasNext()) {
-            list.add(iter.next());
-        }
+        list.addAll(keys);
         return list;
     }
 
@@ -89,14 +86,11 @@
      * Destroy an action set.
      */
     public void removeActionSet(IActionSetDescriptor desc) {
-        SetRec rec = (SetRec) mapDescToRec.get(desc);
+        SetRec rec = (SetRec) mapDescToRec.remove(desc);
         if (rec == null) {
-            rec = (SetRec) invisibleBars.get(desc);
+            rec = (SetRec) invisibleBars.remove(desc);
         }
         if (rec != null) {
-            mapDescToRec.remove(desc);
-            // Remove from the map that stores invisible bars
-            invisibleBars.remove(desc);
             IActionSet set = rec.set;
             SubActionBars bars = rec.bars;
             if (bars != null) {

For 3.0.1, I'm not going to make any further changes.  For 3.1, I've taken your 
suggestions and gone one step further.  I've removed "copyActionSets" entirely. 
Re comment #5, the active page is null if all perspectives are closed (e.g.
Window &gt; Close All Perspectives).  Not sure if this case matters though.


Michael: can you verify that the fix exists in M200408180800, and works as 
you'd like?  Thanks. 
Its fixed in M200408180800.

Just to clarify my test:

1. Create a new Workbench Window via Window -&gt; New Window
2. Expose the Java Browsing Member View, Window -&gt; Show View -&gt; Other... -&gt; 
Java Browsing -&gt; Members
3. Switch to the Task View which has the Member View currently selected
4. Close the Workbench Window
Verified by reporter.</WithStack>
    <WithOutStack>Here is the easy way to create this problem...

1. Create a new Workbench Window
2. Show the Java Browsing -&gt; Members View
3. Select a different view
4. Close the Workbench Window

Both org.eclipse.debug.internal.ui.actions.DebugDropDownAction and 
org.eclipse.debug.internal.ui.actions.RunDropDownAction are not disposed.

ActionPresentation doesn't clear out the invisibleBars.

Much of the code could be cleaned up to avoid all the constant 
contains/get/remove sequence and just do a single remove instead.
Created attachment 12546
Remove invisibleBars
Tagging for 3.0.1.

Glancing at the patch, it doesn't look like removeActionSet will remove the
entry from invisibleBars if it was found there.

The removal was already being done in removeActionSet (line 83).  But this is 
partly why I made the comment about cleaning up some of the code.  I think 
some of the copying and management could be simplified.  But that is separate 
from the current problem.
Moving to the 3.0.1 milestone for consideration.... 
I have modified the patch slightly (rather than iterator two lists, it 
iterators over one larger list containing all items).   
 
I'm not entirely sure how to recreate the test case you give (i.e., it doesn't 
seem to work for me, though I'm not entirely convinced that I know what you 
mean by 'org.eclipse.debug.internal.ui.actions.DebugDropDownAction').  I would 
really appreciate it if you could test this fix when it becomes available. 
 
This patch has been reviewed by Kim, and is committed to the 3.1 and 3.0.1 
branches.  It should appear in I200408170800 and M200408180800. 
 
I have one minor concern that the clearActionSets method could be called in a 
situation where the invisible bars aren't meant to be disposed.  
WorkbenchWindow.updateActionSets is the possible culprit, but it only does if 
the active page is null.  But, I don't believe this can ever happen. 
 
It works.  However, I would have done some slight modifications like those 
seen below.  Nothing earth shattering or required.

Index: ActionPresentation.java
===================================================================
RCS file: /home/eclipse/org.eclipse.ui.workbench/Eclipse 
UI/org/eclipse/ui/internal/ActionPresentation.java,v
retrieving revision 1.14
diff -u -r1.14 ActionPresentation.java
--- ActionPresentation.java	13 Aug 2004 19:11:26 -0000	1.14
+++ ActionPresentation.java	13 Aug 2004 21:51:20 -0000
@@ -63,7 +63,7 @@
     public void clearActionSets() {
         // Get all of the action sets -- both visible and invisible.
         List oldList = copyActionSets(mapDescToRec);
-        oldList.addAll(copyActionSets(invisibleBars));
+        oldList.addAll(invisibleBars.keySet());
 
         Iterator iter = oldList.iterator();
         while (iter.hasNext()) {
@@ -78,10 +78,7 @@
     private List copyActionSets(Map map) {
         Set keys = map.keySet();
         ArrayList list = new ArrayList(keys.size());
-        Iterator iter = keys.iterator();
-        while (iter.hasNext()) {
-            list.add(iter.next());
-        }
+        list.addAll(keys);
         return list;
     }
 
@@ -89,14 +86,11 @@
      * Destroy an action set.
      */
     public void removeActionSet(IActionSetDescriptor desc) {
-        SetRec rec = (SetRec) mapDescToRec.get(desc);
+        SetRec rec = (SetRec) mapDescToRec.remove(desc);
         if (rec == null) {
-            rec = (SetRec) invisibleBars.get(desc);
+            rec = (SetRec) invisibleBars.remove(desc);
         }
         if (rec != null) {
-            mapDescToRec.remove(desc);
-            // Remove from the map that stores invisible bars
-            invisibleBars.remove(desc);
             IActionSet set = rec.set;
             SubActionBars bars = rec.bars;
             if (bars != null) {

For 3.0.1, I'm not going to make any further changes.  For 3.1, I've taken your 
suggestions and gone one step further.  I've removed "copyActionSets" entirely. 
Re comment #5, the active page is null if all perspectives are closed (e.g.
Window &gt; Close All Perspectives).  Not sure if this case matters though.


Michael: can you verify that the fix exists in M200408180800, and works as 
you'd like?  Thanks. 
Its fixed in M200408180800.

Just to clarify my test:

1. Create a new Workbench Window via Window -&gt; New Window
2. Expose the Java Browsing Member View, Window -&gt; Show View -&gt; Other... -&gt; 
Java Browsing -&gt; Members
3. Switch to the Task View which has the Member View currently selected
4. Close the Workbench Window
Verified by reporter.</WithOutStack>
  </Bug>
  <Bug>
    <BugId amount="67914" />
    <CreationDate amount="2004-06-18 22:06:00 -0400" />
    <DupId amount="65278" />
    <classification amount="Eclipse" />
    <Product amount="Platform" />
    <component amount="Debug" />
    <Version amount="3.0" />
    <rep_platform amount="PC" />
    <op_sys amount="Windows XP" />
    <priority amount="P3" />
    <bug_severity amount="trivial" />
    <Summery>[RC2] Strings in run/debug component are not being read</Summery>
    <Patches amount="0" />
    <Stacktraces amount="0" />
    <SourceCodeRegions amount="0" />
    <Enumerations amount="0" />
    <bug_status amount="RESOLVED" />
    <resolution amount="DUPLICATE" />
    <WithStack>For lack of a more concise way of describing it, in the run/debug preferences
panes, as well as several places throughout the UI for run/debug there are
strings like "!DebugPreferencePage.1!" where the internationalized text should
be occurring.
See bug 65278. Using MyEclipse?

*** This bug has been marked as a duplicate of 65278 ***</WithStack>
    <WithOutStack>For lack of a more concise way of describing it, in the run/debug preferences
panes, as well as several places throughout the UI for run/debug there are
strings like "!DebugPreferencePage.1!" where the internationalized text should
be occurring.
See bug 65278. Using MyEclipse?

*** This bug has been marked as a duplicate of 65278 ***</WithOutStack>
  </Bug>
  <Bug>
    <BugId amount="67915" />
    <CreationDate amount="2004-06-18 22:24:00 -0400" />
    <DupId amount="64612" />
    <classification amount="Eclipse" />
    <Product amount="Platform" />
    <component amount="Debug" />
    <Version amount="3.0" />
    <rep_platform amount="PC" />
    <op_sys amount="Windows XP" />
    <priority amount="P3" />
    <bug_severity amount="normal" />
    <Summery>Output to hidden Console causes active view tab to flash</Summery>
    <Patches amount="0" />
    <Stacktraces amount="0" />
    <SourceCodeRegions amount="0" />
    <Enumerations amount="1">
      <Enumeration lines="16">
        <Lines>
          <Line>- I have the CVS console turned on and the Console view open.</Line>
          <Line>- I have many views stacked in the same area as the console (Synchronize, CVS</Line>
          <Line>Repositories, Search, etc)</Line>
          <Line>- The console view is hidden by another view (e.g. Synchronize view)</Line>
          <Line>- If I perform a long running operation that writes to the console such as a</Line>
          <Line>checkout, the console view does not come to the front but the tab of the</Line>
          <Line>active view in the same tab group will flicker when output is written to the</Line>
          <Line>console.</Line>
          <Line>- The same flicker occurs if I configure the Debug console to not come</Line>
          <Line>forward when output is written and run a program that outputs to the console.</Line>
          <Line>- In both cases, if I bring the console to the front, the flicker stops and</Line>
          <Line>if I close the console the flicker stops.</Line>
          <Line>This is not a debug problem, but a problem in the way the workbench responds to</Line>
          <Line>the view saying that it has something interesting to show. The workbench doesn't</Line>
          <Line>cache the previous state of the view part is is constantly trying to update its</Line>
          <Line>tab. That is what causes the flickering. There is a PR about this already.</Line>
        </Lines>
      </Enumeration>
    </Enumerations>
    <bug_status amount="RESOLVED" />
    <resolution amount="DUPLICATE" />
    <WithStack>I witness view tab flashing with the following setup.

 - I have the CVS console turned on and the Console view open.
 - I have many views stacked in the same area as the console (Synchronize, CVS 
Repositories, Search, etc)
 - The console view is hidden by another view (e.g. Synchronize view)
 - If I perform a long running operation that writes to the console such as a 
checkout, the console view does not come to the front but the tab of the 
active view in the same tab group will flicker when output is written to the 
console.
 - The same flicker occurs if I configure the Debug console to not come 
forward when output is written and run a program that outputs to the console.
 - In both cases, if I bring the console to the front, the flicker stops and 
if I close the console the flicker stops.
This is not a debug problem, but a problem in the way the workbench responds to
the view saying that it has something interesting to show. The workbench doesn't
cache the previous state of the view part is is constantly trying to update its
tab. That is what causes the flickering. There is a PR about this already.

*** This bug has been marked as a duplicate of 64612 ***</WithStack>
    <WithOutStack>I witness view tab flashing with the following setup.

 - I have the CVS console turned on and the Console view open.
 - I have many views stacked in the same area as the console (Synchronize, CVS 
Repositories, Search, etc)
 - The console view is hidden by another view (e.g. Synchronize view)
 - If I perform a long running operation that writes to the console such as a 
checkout, the console view does not come to the front but the tab of the 
active view in the same tab group will flicker when output is written to the 
console.
 - The same flicker occurs if I configure the Debug console to not come 
forward when output is written and run a program that outputs to the console.
 - In both cases, if I bring the console to the front, the flicker stops and 
if I close the console the flicker stops.
This is not a debug problem, but a problem in the way the workbench responds to
the view saying that it has something interesting to show. The workbench doesn't
cache the previous state of the view part is is constantly trying to update its
tab. That is what causes the flickering. There is a PR about this already.

*** This bug has been marked as a duplicate of 64612 ***</WithOutStack>
  </Bug>
  <Bug>
    <BugId amount="67916" />
    <CreationDate amount="2004-06-18 22:46:00 -0400" />
    <DupId amount="" />
    <classification amount="Eclipse" />
    <Product amount="Platform" />
    <component amount="User Assistance" />
    <Version amount="3.0" />
    <rep_platform amount="PC" />
    <op_sys amount="Windows XP" />
    <priority amount="P3" />
    <bug_severity amount="normal" />
    <Summery>[Intro] Chkpii errors in build 200406181804</Summery>
    <Patches amount="0" />
    <Stacktraces amount="0" />
    <SourceCodeRegions amount="0" />
    <Enumerations amount="0" />
    <bug_status amount="RESOLVED" />
    <resolution amount="FIXED" />
    <WithStack>The file introContentFileSpec.html in the schema folder contains chkpii errors.

ECLIPSE\PLUGINS\ORG.ECLIPSE.PLATFORM.SOURCE_3.0.0\SRC\ORG.ECLIPSE.UI.INTRO_3.0.0\SCHEMA\
  INTROCONTENTFILESPEC.HTML  HTML-40     841   STYLE section should not contain
'font-family' information.  Line: 25           
                                         841   STYLE section should not contain
'font-family' information.  Line: 42           
                                         841   STYLE section should not contain
'font-family' information.  Line: 59           
                                         841   STYLE section should not contain
'font-family' information.  Line: 74           
                                         841   STYLE section should not contain
'font-family' information.  Line: 82           
                                         841   STYLE section should not contain
'font-family' information.  Line: 83           
                                         801   Either '&lt;br/' is an unsupported
tag or replace '&lt;' with '&amp;lt;'.  Line: 207      
                                         801   Either '&lt;br/' is an unsupported
tag or replace '&lt;' with '&amp;lt;'.  Line: 209      
                                         801   Either '&lt;br/' is an unsupported
tag or replace '&lt;' with '&amp;lt;'.  Line: 211      
                                         801   Either '&lt;br/' is an unsupported
tag or replace '&lt;' with '&amp;lt;'.  Line: 212      
                                         801   Either '&lt;br/' is an unsupported
tag or replace '&lt;' with '&amp;lt;'.  Line: 213      
                                         860   Blank line will split
translatable text into 2 segments during translation.  Line: 214
                                         801   Either '&lt;extensionContent' is an
unsupported tag or replace '&lt;' with '&amp;lt;'.  Line: 215
                                         801   Either '&lt;action' is an
unsupported tag or replace '&lt;' with '&amp;lt;'.  Line: 252   
                                         813   Invalid HTML symbol: &amp;param2;. 
Line: 252                                       
                                         814   HTML symbol &amp;param2  does not
have ending semicolon.  Line: 252
Created attachment 12547
Apply on HEAD

Patch to fix the chkpii errors.
Created attachment 12548
Apply on HEAD

Discard the previous attachment. It contains an error for the path to the
cascading style sheet file.
Committed patch for Olivier.

Per the comments in the bug report, this problem fixed but I do not have the
authorize to mark it as such.
this was fixed in 3.0</WithStack>
    <WithOutStack>The file introContentFileSpec.html in the schema folder contains chkpii errors.

ECLIPSE\PLUGINS\ORG.ECLIPSE.PLATFORM.SOURCE_3.0.0\SRC\ORG.ECLIPSE.UI.INTRO_3.0.0\SCHEMA\
  INTROCONTENTFILESPEC.HTML  HTML-40     841   STYLE section should not contain
'font-family' information.  Line: 25           
                                         841   STYLE section should not contain
'font-family' information.  Line: 42           
                                         841   STYLE section should not contain
'font-family' information.  Line: 59           
                                         841   STYLE section should not contain
'font-family' information.  Line: 74           
                                         841   STYLE section should not contain
'font-family' information.  Line: 82           
                                         841   STYLE section should not contain
'font-family' information.  Line: 83           
                                         801   Either '&lt;br/' is an unsupported
tag or replace '&lt;' with '&amp;lt;'.  Line: 207      
                                         801   Either '&lt;br/' is an unsupported
tag or replace '&lt;' with '&amp;lt;'.  Line: 209      
                                         801   Either '&lt;br/' is an unsupported
tag or replace '&lt;' with '&amp;lt;'.  Line: 211      
                                         801   Either '&lt;br/' is an unsupported
tag or replace '&lt;' with '&amp;lt;'.  Line: 212      
                                         801   Either '&lt;br/' is an unsupported
tag or replace '&lt;' with '&amp;lt;'.  Line: 213      
                                         860   Blank line will split
translatable text into 2 segments during translation.  Line: 214
                                         801   Either '&lt;extensionContent' is an
unsupported tag or replace '&lt;' with '&amp;lt;'.  Line: 215
                                         801   Either '&lt;action' is an
unsupported tag or replace '&lt;' with '&amp;lt;'.  Line: 252   
                                         813   Invalid HTML symbol: &amp;param2;. 
Line: 252                                       
                                         814   HTML symbol &amp;param2  does not
have ending semicolon.  Line: 252
Created attachment 12547
Apply on HEAD

Patch to fix the chkpii errors.
Created attachment 12548
Apply on HEAD

Discard the previous attachment. It contains an error for the path to the
cascading style sheet file.
Committed patch for Olivier.

Per the comments in the bug report, this problem fixed but I do not have the
authorize to mark it as such.
this was fixed in 3.0</WithOutStack>
  </Bug>
  <Bug>
    <BugId amount="67917" />
    <CreationDate amount="2004-06-18 23:02:00 -0400" />
    <DupId amount="" />
    <classification amount="Eclipse" />
    <Product amount="Platform" />
    <component amount="UI" />
    <Version amount="3.0" />
    <rep_platform amount="PC" />
    <op_sys amount="Windows 2000" />
    <priority amount="P3" />
    <bug_severity amount="normal" />
    <Summery>[About] Value for eclipse.commands has invalid characters in config details</Summery>
    <Patches amount="0" />
    <Stacktraces amount="0" />
    <SourceCodeRegions amount="0" />
    <Enumerations amount="1">
      <Enumeration lines="3">
        <Lines>
          <Line>- Help &gt; About &gt; Configuration Details</Line>
          <Line>- the entry under System properties for eclipse.commands has boxes instead of spaces</Line>
          <Line>- these are apparently line delimiters, since it gets pasted as follows:</Line>
        </Lines>
      </Enumeration>
    </Enumerations>
    <bug_status amount="VERIFIED" />
    <resolution amount="FIXED" />
    <WithStack>build I20040618-0800

- Help &gt; About &gt; Configuration Details
- the entry under System properties for eclipse.commands has boxes instead of spaces
- these are apparently line delimiters, since it gets pasted as follows:

eclipse.commands=-data
d:\eclipse-new\plugins
-showLocation
-debug


Assuming it's expected and valid for this property to have these characters (or
even if it's not), the config details printout should handle this, e.g.
converting to escaped characters.
The \n's are used as a delimiter in some of the eclipse properties.  I've 
submitted a fix to 3.1 that examines eclipse.* properties and replaces \n with 
line breaks.  Originally I tried a version that printed the \n characters but I 
decided against that approach because it means that the value cannot be 
copy-and-pasted directly (which does work in 3.0).

Also the line breaks make it more convenient to read the property since all the 
values can be seen.
Verified on 200408090800.</WithStack>
    <WithOutStack>build I20040618-0800

- Help &gt; About &gt; Configuration Details
- the entry under System properties for eclipse.commands has boxes instead of spaces
- these are apparently line delimiters, since it gets pasted as follows:

eclipse.commands=-data
d:\eclipse-new\plugins
-showLocation
-debug


Assuming it's expected and valid for this property to have these characters (or
even if it's not), the config details printout should handle this, e.g.
converting to escaped characters.
The \n's are used as a delimiter in some of the eclipse properties.  I've 
submitted a fix to 3.1 that examines eclipse.* properties and replaces \n with 
line breaks.  Originally I tried a version that printed the \n characters but I 
decided against that approach because it means that the value cannot be 
copy-and-pasted directly (which does work in 3.0).

Also the line breaks make it more convenient to read the property since all the 
values can be seen.
Verified on 200408090800.</WithOutStack>
  </Bug>
  <Bug>
    <BugId amount="67918" />
    <CreationDate amount="2004-06-18 23:20:00 -0400" />
    <DupId amount="67407" />
    <classification amount="Eclipse" />
    <Product amount="Platform" />
    <component amount="Releng" />
    <Version amount="3.0" />
    <rep_platform amount="PC" />
    <op_sys amount="Windows 2000" />
    <priority amount="P3" />
    <bug_severity amount="normal" />
    <Summery>Release tool does not show added file in diff</Summery>
    <Patches amount="0" />
    <Stacktraces amount="0" />
    <SourceCodeRegions amount="0" />
    <Enumerations amount="1">
      <Enumeration lines="8">
        <Lines>
          <Line>- applied patch in bug 67916 comment #2 against v20040618a of org.eclipse.ui.intro</Line>
          <Line>- this includes two changed files and an added file</Line>
          <Line>- committed this to head</Line>
          <Line>- loaded latest org.eclipse.releng from head</Line>
          <Line>- tried to Team &gt; Release on org.eclipse.ui.intro</Line>
          <Line>- when it showed me the diff, it did not included the added file style.css</Line>
          <Line>- Compare With &gt; Released does show the addition.</Line>
          <Line>This has already been fixed but I forgot to release the plugin to the build.</Line>
        </Lines>
      </Enumeration>
    </Enumerations>
    <bug_status amount="RESOLVED" />
    <resolution amount="DUPLICATE" />
    <WithStack>build I20040618-0800 + releng tools 3.0.4

- applied patch in bug 67916 comment #2 against v20040618a of org.eclipse.ui.intro
- this includes two changed files and an added file
- committed this to head
- loaded latest org.eclipse.releng from head
- tried to Team &gt; Release on org.eclipse.ui.intro
- when it showed me the diff, it did not included the added file style.css
- Compare With &gt; Released does show the addition.
This has already been fixed but I forgot to release the plugin to the build.

*** This bug has been marked as a duplicate of 67407 ***</WithStack>
    <WithOutStack>build I20040618-0800 + releng tools 3.0.4

- applied patch in bug 67916 comment #2 against v20040618a of org.eclipse.ui.intro
- this includes two changed files and an added file
- committed this to head
- loaded latest org.eclipse.releng from head
- tried to Team &gt; Release on org.eclipse.ui.intro
- when it showed me the diff, it did not included the added file style.css
- Compare With &gt; Released does show the addition.
This has already been fixed but I forgot to release the plugin to the build.

*** This bug has been marked as a duplicate of 67407 ***</WithOutStack>
  </Bug>
  <Bug>
    <BugId amount="67919" />
    <CreationDate amount="2004-06-18 23:41:00 -0400" />
    <DupId amount="58823" />
    <classification amount="Eclipse" />
    <Product amount="Platform" />
    <component amount="UI" />
    <Version amount="3.0" />
    <rep_platform amount="PC" />
    <op_sys amount="Windows 2000" />
    <priority amount="P3" />
    <bug_severity amount="major" />
    <Summery>[ViewMgmt] Double-clicking on part frame causes a zoom</Summery>
    <Patches amount="0" />
    <Stacktraces amount="0" />
    <SourceCodeRegions amount="0" />
    <Enumerations amount="1">
      <Enumeration lines="2">
        <Lines>
          <Line>- double-click on the left, right or bottom frame of a view or editor</Line>
          <Line>- it zooms</Line>
        </Lines>
      </Enumeration>
    </Enumerations>
    <bug_status amount="RESOLVED" />
    <resolution amount="DUPLICATE" />
    <WithStack>build I20040618-0800

- double-click on the left, right or bottom frame of a view or editor
- it zooms

It's very disorienting when this happens, e.g. I was trying to select a tab in a
multi-page editor (at the bottom), accidentally double-clicked, and it zoomed.

Only double-clicking on the part tab should zoom.
Easily reproducable by double-clicking 1 pixel to the right of a view resize sash.

Yuck.
I seem to recall us having to check bounds on double-click even in 2.1.

Fixed in HEAD.
These bugs were modified after M1 had shipped.  I'm attaching them to the 3.1 
M2 milestone so that they are picked up for the test pass.  If they were fixed 
earlier, please feel free to remove the target milestone. 
I200409230800 verified on Windows XP, multimonitor
Reopening to flag as dupe


*** This bug has been marked as a duplicate of 58823 ***</WithStack>
    <WithOutStack>build I20040618-0800

- double-click on the left, right or bottom frame of a view or editor
- it zooms

It's very disorienting when this happens, e.g. I was trying to select a tab in a
multi-page editor (at the bottom), accidentally double-clicked, and it zoomed.

Only double-clicking on the part tab should zoom.
Easily reproducable by double-clicking 1 pixel to the right of a view resize sash.

Yuck.
I seem to recall us having to check bounds on double-click even in 2.1.

Fixed in HEAD.
These bugs were modified after M1 had shipped.  I'm attaching them to the 3.1 
M2 milestone so that they are picked up for the test pass.  If they were fixed 
earlier, please feel free to remove the target milestone. 
I200409230800 verified on Windows XP, multimonitor
Reopening to flag as dupe


*** This bug has been marked as a duplicate of 58823 ***</WithOutStack>
  </Bug>
  <Bug>
    <BugId amount="67920" />
    <CreationDate amount="2004-06-19 00:17:00 -0400" />
    <DupId amount="" />
    <classification amount="Eclipse" />
    <Product amount="JDT" />
    <component amount="Text" />
    <Version amount="3.0" />
    <rep_platform amount="PC" />
    <op_sys amount="Windows 2000" />
    <priority amount="P4" />
    <bug_severity amount="enhancement" />
    <Summery>Java outline should be useful for exploration w/o moving Editor cursor</Summery>
    <Patches amount="0" />
    <Stacktraces amount="0" />
    <SourceCodeRegions amount="0" />
    <Enumerations amount="0" />
    <bug_status amount="RESOLVED" />
    <resolution amount="WORKSFORME" />
    <WithStack>Frequently the intended use of the Outline view, is to look/ search 
associations of methods rather than editing the methods themselves.

The hardcoded 'link' behaviour means that the editor moves away from the 
worksite to the methods selected in the Outline view, when this is not needed 
or wanted.

Exploration of structure in code should be possible without instantly losing 
site of the original context.

Eclipse 3 rc1
This behaviour is specific to the Java outline.

Simply disable the linking (view menu &gt; Link with Editor)</WithStack>
    <WithOutStack>Frequently the intended use of the Outline view, is to look/ search 
associations of methods rather than editing the methods themselves.

The hardcoded 'link' behaviour means that the editor moves away from the 
worksite to the methods selected in the Outline view, when this is not needed 
or wanted.

Exploration of structure in code should be possible without instantly losing 
site of the original context.

Eclipse 3 rc1
This behaviour is specific to the Java outline.

Simply disable the linking (view menu &gt; Link with Editor)</WithOutStack>
  </Bug>
  <Bug>
    <BugId amount="67921" />
    <CreationDate amount="2004-06-19 00:26:00 -0400" />
    <DupId amount="" />
    <classification amount="Eclipse" />
    <Product amount="JDT" />
    <component amount="UI" />
    <Version amount="3.0" />
    <rep_platform amount="PC" />
    <op_sys amount="Windows 2000" />
    <priority amount="P4" />
    <bug_severity amount="enhancement" />
    <Summery>Heirarchy Focus &amp; Down/ Up selection needed at same time [type hierarchy]</Summery>
    <Patches amount="0" />
    <Stacktraces amount="0" />
    <SourceCodeRegions amount="0" />
    <Enumerations amount="0" />
    <bug_status amount="RESOLVED" />
    <resolution amount="WONTFIX" />
    <WithStack>For the heirarchy view 'Refocusing' is one of the most important operations. 

Use of 'Refocus' very often also involves switching to Down, Up, or Both. 

However the Focus switching is neither very accessible from the UI surface or 
context menu (incorrectly positioned for its major status), nor is the menu 
item offered effective for the actual requirement of both setting Focus &amp; Up/ 
Down/ Both view type.

Better UI would have 'Focus Heirarchy', 'Focus Subtypes', 'Focus Supertypes' 
and place these at the *top* of the menu. In fact the general object items in 
this menu could probably increase usability by being dispensed with.

Cheers,
Thomas
Nor critical for 3.0.
As of now 'LATER' and 'REMIND' resolutions are no longer supported.
Please reopen this bug if it is still valid for you.</WithStack>
    <WithOutStack>For the heirarchy view 'Refocusing' is one of the most important operations. 

Use of 'Refocus' very often also involves switching to Down, Up, or Both. 

However the Focus switching is neither very accessible from the UI surface or 
context menu (incorrectly positioned for its major status), nor is the menu 
item offered effective for the actual requirement of both setting Focus &amp; Up/ 
Down/ Both view type.

Better UI would have 'Focus Heirarchy', 'Focus Subtypes', 'Focus Supertypes' 
and place these at the *top* of the menu. In fact the general object items in 
this menu could probably increase usability by being dispensed with.

Cheers,
Thomas
Nor critical for 3.0.
As of now 'LATER' and 'REMIND' resolutions are no longer supported.
Please reopen this bug if it is still valid for you.</WithOutStack>
  </Bug>
  <Bug>
    <BugId amount="67922" />
    <CreationDate amount="2004-06-19 01:42:00 -0400" />
    <DupId amount="60161" />
    <classification amount="Eclipse" />
    <Product amount="Platform" />
    <component amount="Ant" />
    <Version amount="3.0" />
    <rep_platform amount="All" />
    <op_sys amount="All" />
    <priority amount="P3" />
    <bug_severity amount="trivial" />
    <Summery>Default size of Ant external builder dialog too small</Summery>
    <Patches amount="0" />
    <Stacktraces amount="0" />
    <SourceCodeRegions amount="0" />
    <Enumerations amount="0" />
    <bug_status amount="RESOLVED" />
    <resolution amount="DUPLICATE" />
    <WithStack>Build id: 200406111814 (RC2)

When creating/modifying an ant builder for a project in a fresh workspace, you
are unable to read the message about escaping arguments with "".  This does not
occur when editing an ant launch, only the builders.  The workaround is easy
(resize the frame), so i marked this as trivial.
Created attachment 12549
Ant Builder dialog

Pic of message that was given the chop.
Forgot to mention this is on WinXP with classic theme


*** This bug has been marked as a duplicate of 60161 ***</WithStack>
    <WithOutStack>Build id: 200406111814 (RC2)

When creating/modifying an ant builder for a project in a fresh workspace, you
are unable to read the message about escaping arguments with "".  This does not
occur when editing an ant launch, only the builders.  The workaround is easy
(resize the frame), so i marked this as trivial.
Created attachment 12549
Ant Builder dialog

Pic of message that was given the chop.
Forgot to mention this is on WinXP with classic theme


*** This bug has been marked as a duplicate of 60161 ***</WithOutStack>
  </Bug>
  <Bug>
    <BugId amount="67923" />
    <CreationDate amount="2004-06-19 02:56:00 -0400" />
    <DupId amount="" />
    <classification amount="Eclipse Foundation" />
    <Product amount="z_Archived" />
    <component amount="VE" />
    <Version amount="unspecified" />
    <rep_platform amount="PC" />
    <op_sys amount="Windows 2000" />
    <priority amount="P3" />
    <bug_severity amount="normal" />
    <Summery>Unable to create a new Visual Class</Summery>
    <Patches amount="0" />
    <Stacktraces amount="1">
      <Stacktrace timestamp="1437341152837">
        <Exception>java.lang.AbstractMethodError</Exception>
        <Reason>:
org.eclipse.jdt.internal.ui.wizards.NewElementWizard.getSchedulingRule()Lorg/eclipse/core/runtime/jobs/ISchedulingRule;</Reason>
        <Frames>
          <Frame depth="0">org.eclipse.jdt.internal.ui.wizards.NewElementWizard.performFinish(NewElementWizard.java:107)</Frame>
          <Frame depth="1">org.eclipse.ve.internal.java.codegen.wizards.NewVisualClassCreationWizard.performFinish(NewVisualClassCreationWizard.java:391)</Frame>
          <Frame depth="2">org.eclipse.jface.wizard.WizardDialog.finishPressed(WizardDialog.java:606)</Frame>
          <Frame depth="3">org.eclipse.jface.wizard.WizardDialog.buttonPressed(WizardDialog.java:319)</Frame>
          <Frame depth="4">org.eclipse.jface.dialogs.Dialog$1.widgetSelected(Dialog.java:413)</Frame>
          <Frame depth="5">org.eclipse.swt.widgets.TypedListener.handleEvent(TypedListener.java:89)</Frame>
          <Frame depth="6">org.eclipse.swt.widgets.EventTable.sendEvent(EventTable.java:82)</Frame>
          <Frame depth="7">org.eclipse.swt.widgets.Widget.sendEvent(Widget.java:769)</Frame>
          <Frame depth="8">org.eclipse.swt.widgets.Display.runDeferredEvents(Display.java:2578)</Frame>
          <Frame depth="9">org.eclipse.swt.widgets.Display.readAndDispatch(Display.java:2256)</Frame>
          <Frame depth="10">org.eclipse.jface.window.Window.runEventLoop(Window.java:670)</Frame>
          <Frame depth="11">org.eclipse.jface.window.Window.open(Window.java:650)</Frame>
          <Frame depth="12">org.eclipse.ui.actions.NewWizardAction.run(NewWizardAction.java:163)</Frame>
          <Frame depth="13">org.eclipse.jface.action.Action.runWithEvent(Action.java:881)</Frame>
          <Frame depth="14">org.eclipse.jface.action.ActionContributionItem.handleWidgetSelection(ActionContributionItem.java:550)</Frame>
          <Frame depth="15">org.eclipse.jface.action.ActionContributionItem.access$2(ActionContributionItem.java:502)</Frame>
          <Frame depth="16">org.eclipse.jface.action.ActionContributionItem$5.handleEvent(ActionContributionItem.java:435)</Frame>
          <Frame depth="17">org.eclipse.swt.widgets.EventTable.sendEvent(EventTable.java:82)</Frame>
          <Frame depth="18">org.eclipse.swt.widgets.Widget.sendEvent(Widget.java:769)</Frame>
          <Frame depth="19">org.eclipse.swt.widgets.Display.runDeferredEvents(Display.java:2578)</Frame>
          <Frame depth="20">org.eclipse.swt.widgets.Display.readAndDispatch(Display.java:2256)</Frame>
          <Frame depth="21">org.eclipse.ui.internal.Workbench.runEventLoop(Workbench.java:1562)</Frame>
          <Frame depth="22">org.eclipse.ui.internal.Workbench.runUI(Workbench.java:1536)</Frame>
          <Frame depth="23">org.eclipse.ui.internal.Workbench.createAndRunWorkbench(Workbench.java:257)</Frame>
          <Frame depth="24">org.eclipse.ui.PlatformUI.createAndRunWorkbench(PlatformUI.java:139)</Frame>
          <Frame depth="25">org.eclipse.ui.internal.ide.IDEApplication.run(IDEApplication.java:90)</Frame>
          <Frame depth="26">org.eclipse.core.internal.runtime.PlatformActivator$1.run(PlatformActivator.java:277)</Frame>
          <Frame depth="27">org.eclipse.core.runtime.adaptor.EclipseStarter.run(EclipseStarter.java:239)</Frame>
          <Frame depth="28">org.eclipse.core.runtime.adaptor.EclipseStarter.run(EclipseStarter.java:117)</Frame>
          <Frame depth="29">sun.reflect.NativeMethodAccessorImpl.invoke0(Native Method)</Frame>
          <Frame depth="30">sun.reflect.NativeMethodAccessorImpl.invoke(Unknown Source)</Frame>
          <Frame depth="31">sun.reflect.DelegatingMethodAccessorImpl.invoke(Unknown Source)</Frame>
          <Frame depth="32">java.lang.reflect.Method.invoke(Unknown Source)</Frame>
          <Frame depth="33">org.eclipse.core.launcher.Main.basicRun(Main.java:267)</Frame>
          <Frame depth="34">org.eclipse.core.launcher.Main.run(Main.java:692)</Frame>
          <Frame depth="35">org.eclipse.core.launcher.Main.main(Main.java:676)</Frame>
        </Frames>
      </Stacktrace>
    </Stacktraces>
    <SourceCodeRegions amount="1">
      <source_code type="functioncall">
        <location start="226" end="345" />
        <code>org.eclipse.jdt.internal.ui.wizards.NewElementWizard.getSchedulingRule()Lorg/eclipse/core/runtime/jobs/ISchedulingRule;</code>
      </source_code>
    </SourceCodeRegions>
    <Enumerations amount="0" />
    <bug_status amount="CLOSED" />
    <resolution amount="INVALID" />
    <WithStack>Using a blank new installation of eclipse M8 and VE 1.0.0
I am not able to create a new Class unsing the Editor. In Configuration-Details
I found the Error Message:
!ENTRY org.eclipse.ui 4 0 Jun 19, 2004 08:51:52.879
!MESSAGE
org.eclipse.jdt.internal.ui.wizards.NewElementWizard.getSchedulingRule()Lorg/eclipse/core/runtime/jobs/ISchedulingRule;
!STACK 0
java.lang.AbstractMethodError:
org.eclipse.jdt.internal.ui.wizards.NewElementWizard.getSchedulingRule()Lorg/eclipse/core/runtime/jobs/ISchedulingRule;
	at
org.eclipse.jdt.internal.ui.wizards.NewElementWizard.performFinish(NewElementWizard.java:107)
	at
org.eclipse.ve.internal.java.codegen.wizards.NewVisualClassCreationWizard.performFinish(NewVisualClassCreationWizard.java:391)
	at org.eclipse.jface.wizard.WizardDialog.finishPressed(WizardDialog.java:606)
	at org.eclipse.jface.wizard.WizardDialog.buttonPressed(WizardDialog.java:319)
	at org.eclipse.jface.dialogs.Dialog$1.widgetSelected(Dialog.java:413)
	at org.eclipse.swt.widgets.TypedListener.handleEvent(TypedListener.java:89)
	at org.eclipse.swt.widgets.EventTable.sendEvent(EventTable.java:82)
	at org.eclipse.swt.widgets.Widget.sendEvent(Widget.java:769)
	at org.eclipse.swt.widgets.Display.runDeferredEvents(Display.java:2578)
	at org.eclipse.swt.widgets.Display.readAndDispatch(Display.java:2256)
	at org.eclipse.jface.window.Window.runEventLoop(Window.java:670)
	at org.eclipse.jface.window.Window.open(Window.java:650)
	at org.eclipse.ui.actions.NewWizardAction.run(NewWizardAction.java:163)
	at org.eclipse.jface.action.Action.runWithEvent(Action.java:881)
	at
org.eclipse.jface.action.ActionContributionItem.handleWidgetSelection(ActionContributionItem.java:550)
	at
org.eclipse.jface.action.ActionContributionItem.access$2(ActionContributionItem.java:502)
	at
org.eclipse.jface.action.ActionContributionItem$5.handleEvent(ActionContributionItem.java:435)
	at org.eclipse.swt.widgets.EventTable.sendEvent(EventTable.java:82)
	at org.eclipse.swt.widgets.Widget.sendEvent(Widget.java:769)
	at org.eclipse.swt.widgets.Display.runDeferredEvents(Display.java:2578)
	at org.eclipse.swt.widgets.Display.readAndDispatch(Display.java:2256)
	at org.eclipse.ui.internal.Workbench.runEventLoop(Workbench.java:1562)
	at org.eclipse.ui.internal.Workbench.runUI(Workbench.java:1536)
	at org.eclipse.ui.internal.Workbench.createAndRunWorkbench(Workbench.java:257)
	at org.eclipse.ui.PlatformUI.createAndRunWorkbench(PlatformUI.java:139)
	at org.eclipse.ui.internal.ide.IDEApplication.run(IDEApplication.java:90)
	at
org.eclipse.core.internal.runtime.PlatformActivator$1.run(PlatformActivator.java:277)
	at org.eclipse.core.runtime.adaptor.EclipseStarter.run(EclipseStarter.java:239)
	at org.eclipse.core.runtime.adaptor.EclipseStarter.run(EclipseStarter.java:117)
	at sun.reflect.NativeMethodAccessorImpl.invoke0(Native Method)
	at sun.reflect.NativeMethodAccessorImpl.invoke(Unknown Source)
	at sun.reflect.DelegatingMethodAccessorImpl.invoke(Unknown Source)
	at java.lang.reflect.Method.invoke(Unknown Source)
	at org.eclipse.core.launcher.Main.basicRun(Main.java:267)
	at org.eclipse.core.launcher.Main.run(Main.java:692)
	at org.eclipse.core.launcher.Main.main(Main.java:676)
This sounds like you have an imcompatible build. You must have the correct
levels of Eclipse, GEF, EMF, and VE to work correctly.
Unfortunately, GEF did some housecleaning lately and deleted the GEF build that
VE depends on for the M1 driver. I would recommend getting the latest stable VE
driver which is based on Eclipse RC3 and the a recent GEF and EMF. Get this from 
http://download.eclipse.org/tools/ve/downloads/drops/S-S20040622-200406221415/index.html
Since this bug was not reOpened for more than a month, this bug is verified.
now closing.</WithStack>
    <WithOutStack>Using a blank new installation of eclipse M8 and VE 1.0.0
I am not able to create a new Class unsing the Editor. In Configuration-Details
I found the Error Message:
!ENTRY org.eclipse.ui 4 0 Jun 19, 2004 08:51:52.879
!MESSAGE
org.eclipse.jdt.internal.ui.wizards.NewElementWizard.getSchedulingRule()Lorg/eclipse/core/runtime/jobs/ISchedulingRule;
!STACK 0

This sounds like you have an imcompatible build. You must have the correct
levels of Eclipse, GEF, EMF, and VE to work correctly.
Unfortunately, GEF did some housecleaning lately and deleted the GEF build that
VE depends on for the M1 driver. I would recommend getting the latest stable VE
driver which is based on Eclipse RC3 and the a recent GEF and EMF. Get this from 
http://download.eclipse.org/tools/ve/downloads/drops/S-S20040622-200406221415/index.html
Since this bug was not reOpened for more than a month, this bug is verified.
now closing.</WithOutStack>
  </Bug>
  <Bug>
    <BugId amount="67924" />
    <CreationDate amount="2004-06-19 03:23:00 -0400" />
    <DupId amount="" />
    <classification amount="Eclipse" />
    <Product amount="JDT" />
    <component amount="UI" />
    <Version amount="3.0" />
    <rep_platform amount="PC" />
    <op_sys amount="Windows 2000" />
    <priority amount="P4" />
    <bug_severity amount="enhancement" />
    <Summery>Search for Implementations/ of ancestor [search]</Summery>
    <Patches amount="0" />
    <Stacktraces amount="0" />
    <SourceCodeRegions amount="0" />
    <Enumerations amount="1">
      <Enumeration lines="3">
        <Lines>
          <Line>- Explore the designed structure of code, to</Line>
          <Line>- View other functional sites as examples/ collaborators, and</Line>
          <Line>- Return to edit the original functional site.</Line>
        </Lines>
      </Enumeration>
    </Enumerations>
    <bug_status amount="RESOLVED" />
    <resolution amount="WONTFIX" />
    <WithStack>Usage of 'Search Declarations' (of methods) is very frequently performed from 
one method impl searching for others.

Current implementation of 'Search Implementation' finds children but not 
siblings. Most engineering however is performed in implementation classes since 
this is where the body of the code is.

The UI would probably be OK if outline/ heirarchy could be used, without moving 
the cursor, to search these. These ancillary worksites could then be quickly 
visited and the original worksite returned to.

Very importantly, it should be possible to 

- Explore the designed structure of code, to
- View other functional sites as examples/ collaborators, and
- Return to edit the original functional site.


without the IDE being moved from useful positions to unwanted 
informationally 'blank' supertypes, class declarations etc. These
are then encountered several files later by the users who expects
to return :-( and is taken somewhere other than where they were 
working.

Perhaps the Outline, Heirarchy views could be more controlled in moving the 
cursor; perhaps not on r-click, or only on dbl-click. Importantly it should be 
possible to use keyboard shortcuts.

I have Ctrl-Sh-5, Ctrl-Sh-6, Ctrl-Sh-7 set as an almost 'complete debugging' 
workflow in addition with Ctrl-Alt-H. These correspond to 'find 
references', 'find writes' and 'find implementations' which enable one to 
rapidly find the causative point, clients and sibling impls involved in 
erroneous states.

Additionally, there seems to be some conceptual overlap between 'Search 
Implementations' of interface and 'Search Declarations' of methods. Search
Implementations seems almost useless, could 'Search Decls' include these
cases and take all the functionality?

Cheers,
Thomas
Not critical for 3.0.
As of now 'LATER' and 'REMIND' resolutions are no longer supported.
Please reopen this bug if it is still valid for you.</WithStack>
    <WithOutStack>Usage of 'Search Declarations' (of methods) is very frequently performed from 
one method impl searching for others.

Current implementation of 'Search Implementation' finds children but not 
siblings. Most engineering however is performed in implementation classes since 
this is where the body of the code is.

The UI would probably be OK if outline/ heirarchy could be used, without moving 
the cursor, to search these. These ancillary worksites could then be quickly 
visited and the original worksite returned to.

Very importantly, it should be possible to 

- Explore the designed structure of code, to
- View other functional sites as examples/ collaborators, and
- Return to edit the original functional site.


without the IDE being moved from useful positions to unwanted 
informationally 'blank' supertypes, class declarations etc. These
are then encountered several files later by the users who expects
to return :-( and is taken somewhere other than where they were 
working.

Perhaps the Outline, Heirarchy views could be more controlled in moving the 
cursor; perhaps not on r-click, or only on dbl-click. Importantly it should be 
possible to use keyboard shortcuts.

I have Ctrl-Sh-5, Ctrl-Sh-6, Ctrl-Sh-7 set as an almost 'complete debugging' 
workflow in addition with Ctrl-Alt-H. These correspond to 'find 
references', 'find writes' and 'find implementations' which enable one to 
rapidly find the causative point, clients and sibling impls involved in 
erroneous states.

Additionally, there seems to be some conceptual overlap between 'Search 
Implementations' of interface and 'Search Declarations' of methods. Search
Implementations seems almost useless, could 'Search Decls' include these
cases and take all the functionality?

Cheers,
Thomas
Not critical for 3.0.
As of now 'LATER' and 'REMIND' resolutions are no longer supported.
Please reopen this bug if it is still valid for you.</WithOutStack>
  </Bug>
  <Bug>
    <BugId amount="67925" />
    <CreationDate amount="2004-06-19 06:30:00 -0400" />
    <DupId amount="" />
    <classification amount="Eclipse" />
    <Product amount="Platform" />
    <component amount="Resources" />
    <Version amount="3.0" />
    <rep_platform amount="PC" />
    <op_sys amount="Windows XP" />
    <priority amount="P3" />
    <bug_severity amount="normal" />
    <Summery>Refresh Resource after completion settings partly lost</Summery>
    <Patches amount="0" />
    <Stacktraces amount="0" />
    <SourceCodeRegions amount="0" />
    <Enumerations amount="0" />
    <bug_status amount="RESOLVED" />
    <resolution amount="WORKSFORME" />
    <WithStack>Using: Version: 3.0.0 Build id: 200405211200

The "Refresh Resource after completion" settings do not seem to stick properly.

I have several Ant builds, and tried to set most of them to Refresh "the 
Project conatining the selected resource", but when I come back to the Refresh 
Tab, the setting has been changed to "Specific Resources" with no resources 
selected.

I've just tried creating a dummy project in an empty workspace:

Create a single build config; seems OK. Problems arise if I:

Duplicate the config - both configs are set to "Specific Resources".

or alternatively:

Create a new config - on returning to the original confic, it has been set 
to "Specific Resources"

This may be related to bug 43387
Forgot to add - Eclipse 3.0 seems to takes much longer to switch between 
configurations.

Some more experiments show that the only Refresh setting that seems to be 
sticky is the "Specific Resources". I wonder if it is anything to do with it 
being the last button?
Just discovered that there is a later build - 3.0RC3, and the problem no 
longer appears there.</WithStack>
    <WithOutStack>Using: Version: 3.0.0 Build id: 200405211200

The "Refresh Resource after completion" settings do not seem to stick properly.

I have several Ant builds, and tried to set most of them to Refresh "the 
Project conatining the selected resource", but when I come back to the Refresh 
Tab, the setting has been changed to "Specific Resources" with no resources 
selected.

I've just tried creating a dummy project in an empty workspace:

Create a single build config; seems OK. Problems arise if I:

Duplicate the config - both configs are set to "Specific Resources".

or alternatively:

Create a new config - on returning to the original confic, it has been set 
to "Specific Resources"

This may be related to bug 43387
Forgot to add - Eclipse 3.0 seems to takes much longer to switch between 
configurations.

Some more experiments show that the only Refresh setting that seems to be 
sticky is the "Specific Resources". I wonder if it is anything to do with it 
being the last button?
Just discovered that there is a later build - 3.0RC3, and the problem no 
longer appears there.</WithOutStack>
  </Bug>
  <Bug>
    <BugId amount="67926" />
    <CreationDate amount="2004-06-19 06:59:00 -0400" />
    <DupId amount="" />
    <classification amount="Eclipse" />
    <Product amount="JDT" />
    <component amount="UI" />
    <Version amount="3.0" />
    <rep_platform amount="PC" />
    <op_sys amount="Windows XP" />
    <priority amount="P3" />
    <bug_severity amount="normal" />
    <Summery>Filtering both read and writes still shows read/write accesses [search]</Summery>
    <Patches amount="0" />
    <Stacktraces amount="0" />
    <SourceCodeRegions amount="1">
      <source_code type="class">
        <location start="14" end="178" />
        <code>public class A {

	private int field;
	
	public void write() {
		field= 10;
	}

	public void readwrite() {
		field++;
	}

	public void read() {
		int i= field;
	}
}</code>
      </source_code>
    </SourceCodeRegions>
    <Enumerations amount="1">
      <Enumeration lines="3">
        <Lines>
          <Line>- search for references to field.</Line>
          <Line>- enable both read &amp; write filters.</Line>
          <Line>That's on purpose. The "real" logic is now:</Line>
        </Lines>
      </Enumeration>
    </Enumerations>
    <bug_status amount="RESOLVED" />
    <resolution amount="WORKSFORME" />
    <WithStack>200406181804

public class A {

	private int field;
	
	public void write() {
		field= 10;
	}

	public void readwrite() {
		field++;
	}

	public void read() {
		int i= field;
	}
}

- search for references to field.
- enable both read &amp; write filters.
That's on purpose. The "real" logic is now:

Read Filter: filters everything that's a pure read (i.e. not a write)
Write Filter: filters everything that's a pure write (i.e. not a read). 

We fixed a RC3 bug to have exactly the behaviour we have now. If you're not
happy with the current behaviour, please state what you'd like instead, because
I think we're actually doing the right thing.
Dirk, since I haven't heard back I assume that you're happy with the behaviour now?</WithStack>
    <WithOutStack>200406181804

public class A {

	private int field;
	
	public void write() {
		field= 10;
	}

	public void readwrite() {
		field++;
	}

	public void read() {
		int i= field;
	}
}

- search for references to field.
- enable both read &amp; write filters.
That's on purpose. The "real" logic is now:

Read Filter: filters everything that's a pure read (i.e. not a write)
Write Filter: filters everything that's a pure write (i.e. not a read). 

We fixed a RC3 bug to have exactly the behaviour we have now. If you're not
happy with the current behaviour, please state what you'd like instead, because
I think we're actually doing the right thing.
Dirk, since I haven't heard back I assume that you're happy with the behaviour now?</WithOutStack>
  </Bug>
  <Bug>
    <BugId amount="67927" />
    <CreationDate amount="2004-06-19 09:09:00 -0400" />
    <DupId amount="" />
    <classification amount="Eclipse" />
    <Product amount="PDE" />
    <component amount="UI" />
    <Version amount="3.0" />
    <rep_platform amount="PC" />
    <op_sys amount="Windows XP" />
    <priority amount="P3" />
    <bug_severity amount="critical" />
    <Summery>Mutliple error dialogs when in full name mode</Summery>
    <Patches amount="0" />
    <Stacktraces amount="0" />
    <SourceCodeRegions amount="0" />
    <Enumerations amount="0" />
    <bug_status amount="RESOLVED" />
    <resolution amount="FIXED" />
    <WithStack>Trying to get a decent PDE UI/Editor interaction going. Due to the issues with 
Bug 67022, and the problem of seeing only the first few bits of my plugin id 
as the the editor name once enough editors are open (they all have a name in 
the UI of com.ibm...), I tried the PDE prefernce for showing objects by 
identifer or name, switching to name.  

Not bad in the editor - takes some getting used to.  Better in the editor 
name, my plugin name is more like what I remembmer from 2.1.

Bad in the Outline view.  This is the BUG. The extensions area of the Outline 
view ends up empty.  Lots of images but no text. The generic name visible on 
the extensions page of the editor is not used in the Outline view.  A real 
pain.  The potential improvement offered by the pref setting choice of names 
is lost due to an outline view that will not play along.

Now I know that one of the reasons I see nothing is that like many I have no 
id or name defined for many of my extensions.  But the Extensions page in the 
editor does fine with this, it uses the generic term instead.  If I type in a 
name it does show in the outline view and the extensions page.  Note that if I 
take it back out the generic name does NOT return in the exentions page 
display.  Also a bit of a pain.
When setting the preferences to showing full names in editors, the problem is 
actually much more severe than the one reported.

If you open the plugin.xml for org.eclipse.pde.ui in this mode and you go to 
the Extensions page, you get an error dialog.  You close it, you get another 
one, etc.  I think I got 20 in a row.

The problem is that we are hitting NPEs in ExtensionsSection when we assume 
that the schemaRegistry had been initialized in the constructor of that 
class.  In reality though, the tree viewer is being drawn before the schema 
registry was initialized.
Fixed by adding a getter for the schemaRegistry in ExtensionsSection, and 
making the access to that member variable exclusive through the getter.

As for the labels in the outline views, this problem was easily fixed.  Our 
label provider was calling getText() on an object in a couple of places, which 
do not work for the new editing model.

Value: Huge
Risk: Virtually non-existent.

Dejan, +1 for RC3?
+1
Fixed.
Feedback.  Looks ok - much better - empty was not good and the problem you 
found was even worse. 

Problem now is consistency. Depends on your design/intent.

The outline view is consistent in that it always shows the same thing - 
extensions as a list of extension point ids.  Inconsistent in that the editor 
list is either extension point ids or names depending on the preference 
setting.  

Definitely not critical, but you might want to tag this for a 3.01 fix for 
consistency of display in the Outline view if the design is that it should 
also respect the preference setting.
I also noticed that.  Will open a separate bug report of severity min for the 
inconsistency issue to be addressed at a later time.</WithStack>
    <WithOutStack>Trying to get a decent PDE UI/Editor interaction going. Due to the issues with 
Bug 67022, and the problem of seeing only the first few bits of my plugin id 
as the the editor name once enough editors are open (they all have a name in 
the UI of com.ibm...), I tried the PDE prefernce for showing objects by 
identifer or name, switching to name.  

Not bad in the editor - takes some getting used to.  Better in the editor 
name, my plugin name is more like what I remembmer from 2.1.

Bad in the Outline view.  This is the BUG. The extensions area of the Outline 
view ends up empty.  Lots of images but no text. The generic name visible on 
the extensions page of the editor is not used in the Outline view.  A real 
pain.  The potential improvement offered by the pref setting choice of names 
is lost due to an outline view that will not play along.

Now I know that one of the reasons I see nothing is that like many I have no 
id or name defined for many of my extensions.  But the Extensions page in the 
editor does fine with this, it uses the generic term instead.  If I type in a 
name it does show in the outline view and the extensions page.  Note that if I 
take it back out the generic name does NOT return in the exentions page 
display.  Also a bit of a pain.
When setting the preferences to showing full names in editors, the problem is 
actually much more severe than the one reported.

If you open the plugin.xml for org.eclipse.pde.ui in this mode and you go to 
the Extensions page, you get an error dialog.  You close it, you get another 
one, etc.  I think I got 20 in a row.

The problem is that we are hitting NPEs in ExtensionsSection when we assume 
that the schemaRegistry had been initialized in the constructor of that 
class.  In reality though, the tree viewer is being drawn before the schema 
registry was initialized.
Fixed by adding a getter for the schemaRegistry in ExtensionsSection, and 
making the access to that member variable exclusive through the getter.

As for the labels in the outline views, this problem was easily fixed.  Our 
label provider was calling getText() on an object in a couple of places, which 
do not work for the new editing model.

Value: Huge
Risk: Virtually non-existent.

Dejan, +1 for RC3?
+1
Fixed.
Feedback.  Looks ok - much better - empty was not good and the problem you 
found was even worse. 

Problem now is consistency. Depends on your design/intent.

The outline view is consistent in that it always shows the same thing - 
extensions as a list of extension point ids.  Inconsistent in that the editor 
list is either extension point ids or names depending on the preference 
setting.  

Definitely not critical, but you might want to tag this for a 3.01 fix for 
consistency of display in the Outline view if the design is that it should 
also respect the preference setting.
I also noticed that.  Will open a separate bug report of severity min for the 
inconsistency issue to be addressed at a later time.</WithOutStack>
  </Bug>
  <Bug>
    <BugId amount="67928" />
    <CreationDate amount="2004-06-19 10:15:00 -0400" />
    <DupId amount="" />
    <classification amount="Eclipse" />
    <Product amount="Platform" />
    <component amount="SWT" />
    <Version amount="3.0" />
    <rep_platform amount="PC" />
    <op_sys amount="Windows XP" />
    <priority amount="P1" />
    <bug_severity amount="critical" />
    <Summery>[Browser] Enter path to non-existing file brings NullPE</Summery>
    <Patches amount="0" />
    <Stacktraces amount="0" />
    <SourceCodeRegions amount="0" />
    <Enumerations amount="0" />
    <bug_status amount="RESOLVED" />
    <resolution amount="FIXED" />
    <WithStack>Hi,

using the browser snippet (http://dev.eclipse.org/viewcvs/index.cgi/%7Echeckout%
7E/platform-swt-home/snippits/snippet128.html) and entering something 
like "C:/skdjskjd" (= non existing file) results in a Nullpointer Exception at 
org.eclipse.swt.browser.Browser.setUrl(Browser.java:1094).

I am currently simply catching the NullpointerException but that's not very 
good style.

Regards,
Ben
Chrix to investigate.
Verified. Any non existing URL will bring up the NPE on the Windows 
implementation of the Browser - instead of returning the boolean value false. 
This is breaking the API contract of the Browser on this platform.

The fix is to add a check for null when examining the result of the request 
inside the Browser code on Windows.


fixed v&gt;20040622</WithStack>
    <WithOutStack>Hi,

using the browser snippet (http://dev.eclipse.org/viewcvs/index.cgi/%7Echeckout%
7E/platform-swt-home/snippits/snippet128.html) and entering something 
like "C:/skdjskjd" (= non existing file) results in a Nullpointer Exception at 
org.eclipse.swt.browser.Browser.setUrl(Browser.java:1094).

I am currently simply catching the NullpointerException but that's not very 
good style.

Regards,
Ben
Chrix to investigate.
Verified. Any non existing URL will bring up the NPE on the Windows 
implementation of the Browser - instead of returning the boolean value false. 
This is breaking the API contract of the Browser on this platform.

The fix is to add a check for null when examining the result of the request 
inside the Browser code on Windows.


fixed v&gt;20040622</WithOutStack>
  </Bug>
  <Bug>
    <BugId amount="67929" />
    <CreationDate amount="2004-06-19 10:43:00 -0400" />
    <DupId amount="39934" />
    <classification amount="Eclipse" />
    <Product amount="Platform" />
    <component amount="SWT" />
    <Version amount="3.0" />
    <rep_platform amount="PC" />
    <op_sys amount="Windows XP" />
    <priority amount="P4" />
    <bug_severity amount="enhancement" />
    <Summery>Strange behaviour in Progress View scrollbar</Summery>
    <Patches amount="0" />
    <Stacktraces amount="0" />
    <SourceCodeRegions amount="0" />
    <Enumerations amount="1">
      <Enumeration lines="7">
        <Lines>
          <Line>- open Progress View</Line>
          <Line>- create multiple jobs (so there is a scrollbar on the right-hand side)</Line>
          <Line>- when you click in the area above and below the scrollbar-dragging-spot (sorry</Line>
          <Line>don't know what its called) the expected behaviour is for the list to scroll one</Line>
          <Line>page.</Line>
          <Line>- but when you do it in the Progress view, it doesn't scroll a whole page...it</Line>
          <Line>only moves one line.</Line>
        </Lines>
      </Enumeration>
    </Enumerations>
    <bug_status amount="RESOLVED" />
    <resolution amount="DUPLICATE" />
    <WithStack>build i0618-1804

- open Progress View
- create multiple jobs (so there is a scrollbar on the right-hand side)
- when you click in the area above and below the scrollbar-dragging-spot (sorry
don't know what its called) the expected behaviour is for the list to scroll one
page.
- but when you do it in the Progress view, it doesn't scroll a whole page...it
only moves one line.

- behaviour is correct in (for instance) CVS Repos view, Navigator, etc
The ProgressViewer is based on the ScrolledComposite, which doesn't seem to 
implement page wise scrolling.
Moving to SWT for comment.
Vikki?


*** This bug has been marked as a duplicate of 39934 ***</WithStack>
    <WithOutStack>build i0618-1804

- open Progress View
- create multiple jobs (so there is a scrollbar on the right-hand side)
- when you click in the area above and below the scrollbar-dragging-spot (sorry
don't know what its called) the expected behaviour is for the list to scroll one
page.
- but when you do it in the Progress view, it doesn't scroll a whole page...it
only moves one line.

- behaviour is correct in (for instance) CVS Repos view, Navigator, etc
The ProgressViewer is based on the ScrolledComposite, which doesn't seem to 
implement page wise scrolling.
Moving to SWT for comment.
Vikki?


*** This bug has been marked as a duplicate of 39934 ***</WithOutStack>
  </Bug>
  <Bug>
    <BugId amount="67930" />
    <CreationDate amount="2004-06-19 11:01:00 -0400" />
    <DupId amount="" />
    <classification amount="Eclipse" />
    <Product amount="Platform" />
    <component amount="UI" />
    <Version amount="3.0" />
    <rep_platform amount="All" />
    <op_sys amount="All" />
    <priority amount="P1" />
    <bug_severity amount="major" />
    <Summery>[Keybindings] Wrong behaviour when triggering Code Assist in "Rename Field"-Dialog</Summery>
    <Patches amount="0" />
    <Stacktraces amount="0" />
    <SourceCodeRegions amount="3">
      <source_code type="import">
        <location start="80" end="112" />
        <code>import java.util.EventListener;</code>
      </source_code>
      <source_code type="import">
        <location start="113" end="156" />
        <code>import javax.swing.event.EventListenerList;</code>
      </source_code>
      <source_code type="class">
        <location start="158" end="368" />
        <code>public class Test1 {
    EventListenerList listeners = new EventListenerList();
    public void addEventListener(EventListener eventListener) {
        listeners.add(EventListener.class, eventListener);
    }
}</code>
      </source_code>
    </SourceCodeRegions>
    <Enumerations amount="2">
      <Enumeration lines="5">
        <Lines>
          <Line>1.) Actions register through the key binding service are assigned a shell</Line>
          <Line>2.) If a dialog is open, then the fallback to window won't be allowed.</Line>
          <Line>Patch is reviewed by Tod Creasey and Kim Horne.  It has been committed to CVS.</Line>
          <Line>It should appear in I200406221600.</Line>
          <Line>Verified in I200406230010, GTK+ 2.4.1, KDE 3.2.2, Linux 2.6.6.</Line>
        </Lines>
      </Enumeration>
      <Enumeration lines="4">
        <Lines>
          <Line>- Trigger Rename Field Refactoring (using Ctrl-Shift-R) while Cursor is on</Line>
          <Line>"listeners"</Line>
          <Line>- Rename Field-Dialog opens</Line>
          <Line>- Type "ev" in "New Name" and trigger Code Assistant using "Ctrl-Space"</Line>
        </Lines>
      </Enumeration>
    </Enumerations>
    <bug_status amount="VERIFIED" />
    <resolution amount="FIXED" />
    <WithStack>I200406190041

I wanted to rename the field "listeners" in the following code: 

import java.util.EventListener;
import javax.swing.event.EventListenerList;

public class Test1 {
    EventListenerList listeners = new EventListenerList();
    public void addEventListener(EventListener eventListener) {
        listeners.add(EventListener.class, eventListener);
    }
}

Steps: 
- Trigger Rename Field Refactoring (using Ctrl-Shift-R) while Cursor is on
"listeners"
- Rename Field-Dialog opens
- Type "ev" in "New Name" and trigger Code Assistant using "Ctrl-Space"

Actual Result: 
A popup opens suggesting some field-names, *but* this popup is triggered on the
editor, and not on the dialog. If you press "Enter" to select a suggestion the
field is renamed to "ev", and the popup remains open.

Expected Result: 
Popup closes and selection is inserted into the "New Name"-Field.
This is actuall the same problem as described in bug 67611. The keyboard short 
cuts target the widget of the application window not the dialog. 

I tested this on build I200406191600 and could reproduce. To better see the 
bahaviour, open the rename dialog and move it to the lower right corner and 
press Ctrl+Space in the dialog. You see the code assist opening on the editor.

Marking as critical since this is a regression.

Moving to platform UI since 67611 was fixed there.
Some additional info...

When pressing ctrl+space in a dialog which offers code assist in a field (e.g. 
New Class&gt;Superclass, Refactoring&gt;Change Method Signature) then the code 
assist dialog shows up as expected, i.e., it targets the dialog.

In the case of Rename Field we don't offer code assist in the dialog (but we 
should bug# 67974).

This means that pressing ctrl+space in any dialog which doesn't offer code 
assist will pop-up the code assist targetting the editor (e.g. Open Type).
I see this problem as well.  This is likely a handler submission somewhere that 
is not specifying a shell. 
 
Downgrading to major, as this does not cause crashes or loss of data. 
Note that this seems to be a problem with all commands with "When:" set to "In
Dialogs".

When I change 'Text Editing &gt; Select Next Word' from 'Editing Text' to 'In
Dialogs and Windows', I see the same behavior in any dialog.
Is this dialog supposed to support content assist? 
The problem is likely as follows: 
+ Fall back support was added to dialogs to support detached views.  Detached 
views look like dialogs, but want the regular workbench window handlers.  So, 
if no handler is defined for the active shell, the command mechanism checks to 
see if there is a handler for the active workbench window. 
+ Code assist has a hander on the workbench window, the key binding is defined 
as dialog+window, but the handler does not handle the case where a dialog is 
open. 
 
Would it be possible to change the content assist action (the one registered on 
the workbench window) to include a line "if 
(!workbenchWindow.getShell().equals(display.getActiveShell())) return;"? 
 
&gt; Is this dialog supposed to support content assist? 
No! The original poster thought it should, and maybe we'll add it post 3.0.
Currently it doesn't support content assist and the shortcut should behave as
every other unbound shortcut (do nothing).

As said in my comment 4, the problem is not about content assist. It's a general
problem of all commands which are assigned to the 'In Dialogs and Windows'
context. Users and plugin providers can run into this problem whenever they
define a command to be active in the d&amp;w context.

Another example: Assign Ctrl+Alt+A to Views &gt; Ant. Close the Prefs dialog and
re-open it. Pressing Ctrl+Alt+A now opens the Ant view in the Workbench Win.

=&gt; I don't think we should have to change something with the content assist handler.
Created attachment 12581
Patch to "org.eclipse.ui.workbench"

This fixes the problem in two ways:
1.) Actions register through the key binding service are assigned a shell
2.) If a dialog is open, then the fallback to window won't be allowed.
Patch is reviewed by Tod Creasey and Kim Horne.  It has been committed to CVS.  
It should appear in I200406221600. 
Verified in I200406230010, GTK+ 2.4.1, KDE 3.2.2, Linux 2.6.6.</WithStack>
    <WithOutStack>I200406190041

I wanted to rename the field "listeners" in the following code: 

import java.util.EventListener;
import javax.swing.event.EventListenerList;

public class Test1 {
    EventListenerList listeners = new EventListenerList();
    public void addEventListener(EventListener eventListener) {
        listeners.add(EventListener.class, eventListener);
    }
}

Steps: 
- Trigger Rename Field Refactoring (using Ctrl-Shift-R) while Cursor is on
"listeners"
- Rename Field-Dialog opens
- Type "ev" in "New Name" and trigger Code Assistant using "Ctrl-Space"

Actual Result: 
A popup opens suggesting some field-names, *but* this popup is triggered on the
editor, and not on the dialog. If you press "Enter" to select a suggestion the
field is renamed to "ev", and the popup remains open.

Expected Result: 
Popup closes and selection is inserted into the "New Name"-Field.
This is actuall the same problem as described in bug 67611. The keyboard short 
cuts target the widget of the application window not the dialog. 

I tested this on build I200406191600 and could reproduce. To better see the 
bahaviour, open the rename dialog and move it to the lower right corner and 
press Ctrl+Space in the dialog. You see the code assist opening on the editor.

Marking as critical since this is a regression.

Moving to platform UI since 67611 was fixed there.
Some additional info...

When pressing ctrl+space in a dialog which offers code assist in a field (e.g. 
New Class&gt;Superclass, Refactoring&gt;Change Method Signature) then the code 
assist dialog shows up as expected, i.e., it targets the dialog.

In the case of Rename Field we don't offer code assist in the dialog (but we 
should bug# 67974).

This means that pressing ctrl+space in any dialog which doesn't offer code 
assist will pop-up the code assist targetting the editor (e.g. Open Type).
I see this problem as well.  This is likely a handler submission somewhere that 
is not specifying a shell. 
 
Downgrading to major, as this does not cause crashes or loss of data. 
Note that this seems to be a problem with all commands with "When:" set to "In
Dialogs".

When I change 'Text Editing &gt; Select Next Word' from 'Editing Text' to 'In
Dialogs and Windows', I see the same behavior in any dialog.
Is this dialog supposed to support content assist? 
The problem is likely as follows: 
+ Fall back support was added to dialogs to support detached views.  Detached 
views look like dialogs, but want the regular workbench window handlers.  So, 
if no handler is defined for the active shell, the command mechanism checks to 
see if there is a handler for the active workbench window. 
+ Code assist has a hander on the workbench window, the key binding is defined 
as dialog+window, but the handler does not handle the case where a dialog is 
open. 
 
Would it be possible to change the content assist action (the one registered on 
the workbench window) to include a line "if 
(!workbenchWindow.getShell().equals(display.getActiveShell())) return;"? 
 
&gt; Is this dialog supposed to support content assist? 
No! The original poster thought it should, and maybe we'll add it post 3.0.
Currently it doesn't support content assist and the shortcut should behave as
every other unbound shortcut (do nothing).

As said in my comment 4, the problem is not about content assist. It's a general
problem of all commands which are assigned to the 'In Dialogs and Windows'
context. Users and plugin providers can run into this problem whenever they
define a command to be active in the d&amp;w context.

Another example: Assign Ctrl+Alt+A to Views &gt; Ant. Close the Prefs dialog and
re-open it. Pressing Ctrl+Alt+A now opens the Ant view in the Workbench Win.

=&gt; I don't think we should have to change something with the content assist handler.
Created attachment 12581
Patch to "org.eclipse.ui.workbench"

This fixes the problem in two ways:
1.) Actions register through the key binding service are assigned a shell
2.) If a dialog is open, then the fallback to window won't be allowed.
Patch is reviewed by Tod Creasey and Kim Horne.  It has been committed to CVS.  
It should appear in I200406221600. 
Verified in I200406230010, GTK+ 2.4.1, KDE 3.2.2, Linux 2.6.6.</WithOutStack>
  </Bug>
  <Bug>
    <BugId amount="67931" />
    <CreationDate amount="2004-06-19 11:04:00 -0400" />
    <DupId amount="" />
    <classification amount="Eclipse" />
    <Product amount="JDT" />
    <component amount="Text" />
    <Version amount="3.0" />
    <rep_platform amount="PC" />
    <op_sys amount="Windows XP" />
    <priority amount="P3" />
    <bug_severity amount="normal" />
    <Summery>code folding expands automatically (inner class)</Summery>
    <Patches amount="0" />
    <Stacktraces amount="0" />
    <SourceCodeRegions amount="4">
      <source_code type="import">
        <location start="166" end="195" />
        <code>import java.util.Comparator;</code>
      </source_code>
      <source_code type="class">
        <location start="197" end="462" />
        <code>public class test
{
  public static void main(String[] args)
  {
    Object[] xPointsArray = new Object[10];

    java.util.Arrays.sort(xPointsArray, new Comparator()
    {
      public int compare(Object a, Object b)
      {
        return 0;
      }
    });
  }
}</code>
      </source_code>
      <source_code type="import">
        <location start="635" end="664" />
        <code>import java.util.Comparator;</code>
      </source_code>
      <source_code type="class">
        <location start="666" end="970" />
        <code>public class test
{
  public static void main(String[] args)
  {
    Object[] xPointsArray = new Object[10];

    java.util.Arrays.sort(xPointsArray, new Comparator()
    {
      public int compare(Object a, Object b)
      {
        return 0;
      }
    });

    System. // or something else.....
  }
}</code>
      </source_code>
    </SourceCodeRegions>
    <Enumerations amount="1">
      <Enumeration lines="2">
        <Lines>
          <Line>- build id</Line>
          <Line>- more detailed steps to reproduce</Line>
        </Lines>
      </Enumeration>
    </Enumerations>
    <bug_status amount="RESOLVED" />
    <resolution amount="WORKSFORME" />
    <WithStack>If I collapse (folding) a part of sourcecode (inner class!) and type some new 
code behind this collapsed code the folded sourcecode expands automatically.

Example:

import java.util.Comparator;

public class test
{
  public static void main(String[] args)
  {
    Object[] xPointsArray = new Object[10];

    java.util.Arrays.sort(xPointsArray, new Comparator()
    {
      public int compare(Object a, Object b)
      {
        return 0;
      }
    });
  }
}

I collapse the inner class "Comparator" to this line:

  java.util.Arrays.sort(xPointsArray, new Comparator()[..]



If i type something like that the phenomenon appears:

import java.util.Comparator;

public class test
{
  public static void main(String[] args)
  {
    Object[] xPointsArray = new Object[10];

    java.util.Arrays.sort(xPointsArray, new Comparator()
    {
      public int compare(Object a, Object b)
      {
        return 0;
      }
    });

    System. // or something else.....
  }
}
If with "behind" you mean on the same line then this is expected behavior. If
this is not the case i.e. if you typed code above or below the folded line and
the code got expanded then please provide
- build id
- more detailed steps to reproduce

I verified in 3.0 RC3 that typing below or above folded code does not expand.
I'm sorry, I didn't have the newest Version.
The behavior appears in 3.0 RC1.

But I checked out RC3 an the beavior appears (a little modified).
In RC3 you have to save the file to see the behavior.

Copy the my sample code WITHOUT the Line "System. // or something else....." 
into a new class and save the file. Eclipse builds "folding-structures". 
Collapse the line "java.util.Arrays.sort(xPointsArray, new Comparator()".
Now insert incorrect code behind or above (not in the same line!! but in the 
method main) the collapsed part and save the file. The collapsed code expands.
This is the intended behavior. The folding structure reflect the structure of 
your code. If your code is incorrectly structured, the folding structure is 
changed, and it can happen that a previous collapsable region is no longer a 
such. If when this happens the collapsable region was indeed collapsed we have 
to expand it in order to prevent loss of text.</WithStack>
    <WithOutStack>If I collapse (folding) a part of sourcecode (inner class!) and type some new 
code behind this collapsed code the folded sourcecode expands automatically.

Example:

import java.util.Comparator;

public class test
{
  public static void main(String[] args)
  {
    Object[] xPointsArray = new Object[10];

    java.util.Arrays.sort(xPointsArray, new Comparator()
    {
      public int compare(Object a, Object b)
      {
        return 0;
      }
    });
  }
}

I collapse the inner class "Comparator" to this line:

  java.util.Arrays.sort(xPointsArray, new Comparator()[..]



If i type something like that the phenomenon appears:

import java.util.Comparator;

public class test
{
  public static void main(String[] args)
  {
    Object[] xPointsArray = new Object[10];

    java.util.Arrays.sort(xPointsArray, new Comparator()
    {
      public int compare(Object a, Object b)
      {
        return 0;
      }
    });

    System. // or something else.....
  }
}
If with "behind" you mean on the same line then this is expected behavior. If
this is not the case i.e. if you typed code above or below the folded line and
the code got expanded then please provide
- build id
- more detailed steps to reproduce

I verified in 3.0 RC3 that typing below or above folded code does not expand.
I'm sorry, I didn't have the newest Version.
The behavior appears in 3.0 RC1.

But I checked out RC3 an the beavior appears (a little modified).
In RC3 you have to save the file to see the behavior.

Copy the my sample code WITHOUT the Line "System. // or something else....." 
into a new class and save the file. Eclipse builds "folding-structures". 
Collapse the line "java.util.Arrays.sort(xPointsArray, new Comparator()".
Now insert incorrect code behind or above (not in the same line!! but in the 
method main) the collapsed part and save the file. The collapsed code expands.
This is the intended behavior. The folding structure reflect the structure of 
your code. If your code is incorrectly structured, the folding structure is 
changed, and it can happen that a previous collapsable region is no longer a 
such. If when this happens the collapsable region was indeed collapsed we have 
to expand it in order to prevent loss of text.</WithOutStack>
  </Bug>
  <Bug>
    <BugId amount="67932" />
    <CreationDate amount="2004-06-19 12:54:00 -0400" />
    <DupId amount="" />
    <classification amount="Eclipse Foundation" />
    <Product amount="z_Archived" />
    <component amount="VE" />
    <Version amount="unspecified" />
    <rep_platform amount="PC" />
    <op_sys amount="Windows XP" />
    <priority amount="P1" />
    <bug_severity amount="critical" />
    <Summery>JJet compilation of templates cause extra CR.\LF.</Summery>
    <Patches amount="0" />
    <Stacktraces amount="0" />
    <SourceCodeRegions amount="1">
      <source_code type="multicomment">
        <location start="169" end="263" />
        <code>/**

	 * This method initializes jCheckBox	

	 * 	

	 * @return javax.swing.JCheckBox	

	 */</code>
      </source_code>
    </SourceCodeRegions>
    <Enumerations amount="0" />
    <bug_status amount="CLOSED" />
    <resolution amount="FIXED" />
    <WithStack>If you are in a distributed binary runtime on Windows, the JJet compilation of
DefaultMethodTemplate results in two linefeeds being generated for each single one.

i.e:

	/**

	 * This method initializes jCheckBox	

	 * 	

	 * @return javax.swing.JCheckBox	

	 */   

I believe it is the jjet compilation because it only happens with the built
runtime. I think what is happening is that the template jjet files have the
Linux single LF, but this confuses the JJet compiler on Windows.

To test this theory out, I removed the compiled template out of the temp area
where it put it, went back to the template, opened it in wordpad, made a slight
change and saved it back out. Now it had the CRLF. This time when I went into
the editor and dropped the button it recreated the template and this time it worked.

We may need to reroute this over the EMF  because it looks like a JJET problem.
This has been fixed. It will work with VE driver S20040622. You must pull the
new EMF driver that the VE build points to.
1.0M2 is out, so these are now closed in M2.</WithStack>
    <WithOutStack>If you are in a distributed binary runtime on Windows, the JJet compilation of
DefaultMethodTemplate results in two linefeeds being generated for each single one.

i.e:

	/**

	 * This method initializes jCheckBox	

	 * 	

	 * @return javax.swing.JCheckBox	

	 */   

I believe it is the jjet compilation because it only happens with the built
runtime. I think what is happening is that the template jjet files have the
Linux single LF, but this confuses the JJet compiler on Windows.

To test this theory out, I removed the compiled template out of the temp area
where it put it, went back to the template, opened it in wordpad, made a slight
change and saved it back out. Now it had the CRLF. This time when I went into
the editor and dropped the button it recreated the template and this time it worked.

We may need to reroute this over the EMF  because it looks like a JJET problem.
This has been fixed. It will work with VE driver S20040622. You must pull the
new EMF driver that the VE build points to.
1.0M2 is out, so these are now closed in M2.</WithOutStack>
  </Bug>
  <Bug>
    <BugId amount="67933" />
    <CreationDate amount="2004-06-19 12:59:00 -0400" />
    <DupId amount="" />
    <classification amount="Eclipse" />
    <Product amount="Platform" />
    <component amount="CVS" />
    <Version amount="3.0" />
    <rep_platform amount="PC" />
    <op_sys amount="Windows XP" />
    <priority amount="P3" />
    <bug_severity amount="critical" />
    <Summery>[Patch] new files and new directories don't appear in patches</Summery>
    <Patches amount="0" />
    <Stacktraces amount="0" />
    <SourceCodeRegions amount="0" />
    <Enumerations amount="1">
      <Enumeration lines="3">
        <Lines>
          <Line>1. checkout org.eclipse.team.core</Line>
          <Line>2. add a file, a directory, and a file in the new directory</Line>
          <Line>3. create a patch from the project</Line>
        </Lines>
      </Enumeration>
    </Enumerations>
    <bug_status amount="RESOLVED" />
    <resolution amount="INVALID" />
    <WithStack>3.0 RC3
1. checkout org.eclipse.team.core
2. add a file, a directory, and a file in the new directory
3. create a patch from the project

This is the resulting patch file. The new file is not included.

PS: The add new files option was checked in the create patch wizard.
I just tried this and it worked. Were the files you added binary by any chance?
I am on crack! The new files I had added had no content.</WithStack>
    <WithOutStack>3.0 RC3
1. checkout org.eclipse.team.core
2. add a file, a directory, and a file in the new directory
3. create a patch from the project

This is the resulting patch file. The new file is not included.

PS: The add new files option was checked in the create patch wizard.
I just tried this and it worked. Were the files you added binary by any chance?
I am on crack! The new files I had added had no content.</WithOutStack>
  </Bug>
  <Bug>
    <BugId amount="67934" />
    <CreationDate amount="2004-06-19 13:48:00 -0400" />
    <DupId amount="" />
    <classification amount="Modeling" />
    <Product amount="EMF" />
    <component amount="Core" />
    <Version amount="2.0" />
    <rep_platform amount="PC" />
    <op_sys amount="Windows 2000" />
    <priority amount="P3" />
    <bug_severity amount="normal" />
    <Summery>BasicEObjectImpl.eDerivedStructuralFeatureID(EStructuralFeature) gives bad result for open content features</Summery>
    <Patches amount="0" />
    <Stacktraces amount="0" />
    <SourceCodeRegions amount="1">
      <source_code type="assignment">
        <location start="105" end="171" />
        <code>Class containerClass = eStructuralFeature.getContainerClass();</code>
      </source_code>
    </SourceCodeRegions>
    <Enumerations amount="0" />
    <bug_status amount="VERIFIED" />
    <resolution amount="FIXED" />
    <WithStack>This implementation

  public int eDerivedStructuralFeatureID(EStructuralFeature eStructuralFeature)
  {
    Class containerClass = eStructuralFeature.getContainerClass();
    return
      containerClass == null ?
        eClass().getEAllStructuralFeatures().indexOf(eStructuralFeature) :
        eDerivedStructuralFeatureID(eStructuralFeature.getFeatureID(), 
containerClass);
  }

needs to take the null path for open content features, rather than the optimized 
static path.

We'll change the generator package class template to set the container class 
more efficiently and to ensure it's null for features of a document root.
The fix is committed to CVS.
The fix is available in the latest build.
Move to verified as per bug 206558.</WithStack>
    <WithOutStack>This implementation

  public int eDerivedStructuralFeatureID(EStructuralFeature eStructuralFeature)
  {
    Class containerClass = eStructuralFeature.getContainerClass();
    return
      containerClass == null ?
        eClass().getEAllStructuralFeatures().indexOf(eStructuralFeature) :
        eDerivedStructuralFeatureID(eStructuralFeature.getFeatureID(), 
containerClass);
  }

needs to take the null path for open content features, rather than the optimized 
static path.

We'll change the generator package class template to set the container class 
more efficiently and to ensure it's null for features of a document root.
The fix is committed to CVS.
The fix is available in the latest build.
Move to verified as per bug 206558.</WithOutStack>
  </Bug>
  <Bug>
    <BugId amount="67935" />
    <CreationDate amount="2004-06-19 17:58:00 -0400" />
    <DupId amount="" />
    <classification amount="Eclipse" />
    <Product amount="Platform" />
    <component amount="SWT" />
    <Version amount="3.0" />
    <rep_platform amount="PC" />
    <op_sys amount="Windows XP" />
    <priority amount="P3" />
    <bug_severity amount="minor" />
    <Summery>Typo in SWT_AWT.new_Frame javadoc</Summery>
    <Patches amount="0" />
    <Stacktraces amount="0" />
    <SourceCodeRegions amount="0" />
    <Enumerations amount="0" />
    <bug_status amount="RESOLVED" />
    <resolution amount="FIXED" />
    <WithStack>There is no such thing as a "heightweight" component... You must mean
heavyweight.
Fixed &gt; 20040621.</WithStack>
    <WithOutStack>There is no such thing as a "heightweight" component... You must mean
heavyweight.
Fixed &gt; 20040621.</WithOutStack>
  </Bug>
  <Bug>
    <BugId amount="67936" />
    <CreationDate amount="2004-06-19 19:02:00 -0400" />
    <DupId amount="" />
    <classification amount="Tools" />
    <Product amount="CDT" />
    <component amount="cdt-core" />
    <Version amount="2.0" />
    <rep_platform amount="PC" />
    <op_sys amount="Windows 2000" />
    <priority amount="P3" />
    <bug_severity amount="normal" />
    <Summery>CDT plugins not visible in plugin window</Summery>
    <Patches amount="0" />
    <Stacktraces amount="0" />
    <SourceCodeRegions amount="0" />
    <Enumerations amount="0" />
    <bug_status amount="VERIFIED" />
    <resolution amount="FIXED" />
    <WithStack>I am not clear it this is a CDT bug or a PDE bug:

I installed Eclipse 3.0M9 and CDT 2.0M9 (with sources) from the update site. 
None of the CDT plugins where visible in PDE's plugin window. After some 
investigation I discovered that this was because all the CDT plug-ins 
directories contain META-INF directories, but the Manifest.Mf files these 
contain are empty.

Renaming the META-INF directories causes the CDT plug-ins to re-appear in the 
plugin window.
PR was not targeted to any particular release. Changing target milestone to 2.1
can you please test this with a current release.  I cannot reproduce this.
This is no longer a problem with Eclipse 3.0.1 and CDT 2.0.2</WithStack>
    <WithOutStack>I am not clear it this is a CDT bug or a PDE bug:

I installed Eclipse 3.0M9 and CDT 2.0M9 (with sources) from the update site. 
None of the CDT plugins where visible in PDE's plugin window. After some 
investigation I discovered that this was because all the CDT plug-ins 
directories contain META-INF directories, but the Manifest.Mf files these 
contain are empty.

Renaming the META-INF directories causes the CDT plug-ins to re-appear in the 
plugin window.
PR was not targeted to any particular release. Changing target milestone to 2.1
can you please test this with a current release.  I cannot reproduce this.
This is no longer a problem with Eclipse 3.0.1 and CDT 2.0.2</WithOutStack>
  </Bug>
  <Bug>
    <BugId amount="67937" />
    <CreationDate amount="2004-06-19 20:28:00 -0400" />
    <DupId amount="" />
    <classification amount="Eclipse" />
    <Product amount="JDT" />
    <component amount="UI" />
    <Version amount="3.0" />
    <rep_platform amount="PC" />
    <op_sys amount="Windows XP" />
    <priority amount="P3" />
    <bug_severity amount="normal" />
    <Summery>[ccp][refactoring] pasting multiple resources in Package Explorer results in multiple validateEdits</Summery>
    <Patches amount="0" />
    <Stacktraces amount="0" />
    <SourceCodeRegions amount="0" />
    <Enumerations amount="0" />
    <bug_status amount="ASSIGNED" />
    <resolution amount="" />
    <WithStack>I have CVS Watch/Edit enabled. I pasted several gif images into a single 
folder in the packages explorer. This resultes in multiple connections to CVS 
which implies that validateEdit is being invoked multiple times (most likely 
onece per file). The files should be batched into a single call to 
validateEdit.
Unhappy, but not critical for 3.0. 

The more interesting question here is why we call validteEdit at all. 
Copy/Paste of gif files doesn't change any content.
Sorry, I forgot to mention that I was copying over image files that exisited 
already (I was updating screenshots) so validateEdit should be called.
Tobias, can you please check if this is still a problem. Is there something we
can do for 3.1.
Cannot reproduce the multiple connections.

My findings are for Move and Copy over existing files (both d'n'd and via 
menu/shortcuts):

Resource Navigator: Move calls validateEdit, Copy doesn't, validateEdit is 
called once for multiple files

Package Explorer: Move and Copy do not call validate edit

This must be fixed for 3.1
Dirk, how should we handle this?
Tobias, do we know the set of files which will conflict before the operation is
executed or is the list easy to compute. If so, we could call validateEdit on
them. If not I opt to leave as is since the Navigator is inconsistent as well.
Opt to deferr. To risky to change so late in the cycle and it isn't consistent
in the Navigator as well (Move does a validate edit and copy not). We have to
decide what copy and move should do regarding validate edit.
Not for 3.2
not critical for 3.3
I think this should be fixed if it is still a problem.</WithStack>
    <WithOutStack>I have CVS Watch/Edit enabled. I pasted several gif images into a single 
folder in the packages explorer. This resultes in multiple connections to CVS 
which implies that validateEdit is being invoked multiple times (most likely 
onece per file). The files should be batched into a single call to 
validateEdit.
Unhappy, but not critical for 3.0. 

The more interesting question here is why we call validteEdit at all. 
Copy/Paste of gif files doesn't change any content.
Sorry, I forgot to mention that I was copying over image files that exisited 
already (I was updating screenshots) so validateEdit should be called.
Tobias, can you please check if this is still a problem. Is there something we
can do for 3.1.
Cannot reproduce the multiple connections.

My findings are for Move and Copy over existing files (both d'n'd and via 
menu/shortcuts):

Resource Navigator: Move calls validateEdit, Copy doesn't, validateEdit is 
called once for multiple files

Package Explorer: Move and Copy do not call validate edit

This must be fixed for 3.1
Dirk, how should we handle this?
Tobias, do we know the set of files which will conflict before the operation is
executed or is the list easy to compute. If so, we could call validateEdit on
them. If not I opt to leave as is since the Navigator is inconsistent as well.
Opt to deferr. To risky to change so late in the cycle and it isn't consistent
in the Navigator as well (Move does a validate edit and copy not). We have to
decide what copy and move should do regarding validate edit.
Not for 3.2
not critical for 3.3
I think this should be fixed if it is still a problem.</WithOutStack>
  </Bug>
  <Bug>
    <BugId amount="67938" />
    <CreationDate amount="2004-06-19 21:37:00 -0400" />
    <DupId amount="" />
    <classification amount="Eclipse" />
    <Product amount="JDT" />
    <component amount="UI" />
    <Version amount="3.0" />
    <rep_platform amount="PC" />
    <op_sys amount="Windows XP" />
    <priority amount="P3" />
    <bug_severity amount="normal" />
    <Summery>Suppress display of libraries already in use</Summery>
    <Patches amount="0" />
    <Stacktraces amount="0" />
    <SourceCodeRegions amount="0" />
    <Enumerations amount="0" />
    <bug_status amount="RESOLVED" />
    <resolution amount="WORKSFORME" />
    <WithStack>In previous versions of Eclipse, when adding a jar to the list of libraries, 
the search dialog would only show jars that were not already included. This 
was easier to use.

Could the previous behaviour be restored please? Or perhaps there could be 
some way to make it optional, or maybe the icons could be different for jars 
that were already included?
Which build are you using ? This got fixed for RC2.

If you still see this on RC3 please provide steps to reproduce.
I'm using Version: 3.0.0 Build id: 200405211200 according to the help display, 
which I think is 3.0M9.

Sorry, I did not realise that there had been any releases since then, as they 
did not appear in the What's new section, unlike 3.0M9.

I'll try RC3 and re-open if necessary.</WithStack>
    <WithOutStack>In previous versions of Eclipse, when adding a jar to the list of libraries, 
the search dialog would only show jars that were not already included. This 
was easier to use.

Could the previous behaviour be restored please? Or perhaps there could be 
some way to make it optional, or maybe the icons could be different for jars 
that were already included?
Which build are you using ? This got fixed for RC2.

If you still see this on RC3 please provide steps to reproduce.
I'm using Version: 3.0.0 Build id: 200405211200 according to the help display, 
which I think is 3.0M9.

Sorry, I did not realise that there had been any releases since then, as they 
did not appear in the What's new section, unlike 3.0M9.

I'll try RC3 and re-open if necessary.</WithOutStack>
  </Bug>
  <Bug>
    <BugId amount="67939" />
    <CreationDate amount="2004-06-19 21:47:00 -0400" />
    <DupId amount="" />
    <classification amount="Eclipse" />
    <Product amount="Platform" />
    <component amount="CVS" />
    <Version amount="3.0" />
    <rep_platform amount="PC" />
    <op_sys amount="Windows XP" />
    <priority amount="P3" />
    <bug_severity amount="normal" />
    <Summery>CVS Checkout inconsistencies</Summery>
    <Patches amount="0" />
    <Stacktraces amount="0" />
    <SourceCodeRegions amount="0" />
    <Enumerations amount="0" />
    <bug_status amount="RESOLVED" />
    <resolution amount="WONTFIX" />
    <WithStack>As I'm writing the checkout doc, I notice that in some places we use "check 
out" and in others we use "checkout". We should be consistent.

I also noticed that the Checkout wizard title changes when the Checkout As 
wizard pages are shown. We should use the same title throughout.
Won't fix</WithStack>
    <WithOutStack>As I'm writing the checkout doc, I notice that in some places we use "check 
out" and in others we use "checkout". We should be consistent.

I also noticed that the Checkout wizard title changes when the Checkout As 
wizard pages are shown. We should use the same title throughout.
Won't fix</WithOutStack>
  </Bug>
  <Bug>
    <BugId amount="67940" />
    <CreationDate amount="2004-06-19 22:29:00 -0400" />
    <DupId amount="" />
    <classification amount="Eclipse" />
    <Product amount="Platform" />
    <component amount="CVS" />
    <Version amount="3.0" />
    <rep_platform amount="PC" />
    <op_sys amount="Windows XP" />
    <priority amount="P3" />
    <bug_severity amount="trivial" />
    <Summery>Merge wizard start tag list does not resize with wizard</Summery>
    <Patches amount="0" />
    <Stacktraces amount="0" />
    <SourceCodeRegions amount="0" />
    <Enumerations amount="0" />
    <bug_status amount="RESOLVED" />
    <resolution amount="INVALID" />
    <WithStack>I was making the Merge wizard smaller and noticed that the start tag list did 
not shrink past a certain size. Not a big deal but...
Start page no longer exists</WithStack>
    <WithOutStack>I was making the Merge wizard smaller and noticed that the start tag list did 
not shrink past a certain size. Not a big deal but...
Start page no longer exists</WithOutStack>
  </Bug>
  <Bug>
    <BugId amount="67941" />
    <CreationDate amount="2004-06-20 06:23:00 -0400" />
    <DupId amount="21068" />
    <classification amount="Eclipse" />
    <Product amount="Platform" />
    <component amount="Resources" />
    <Version amount="3.0" />
    <rep_platform amount="PC" />
    <op_sys amount="Linux-GTK" />
    <priority amount="P3" />
    <bug_severity amount="normal" />
    <Summery>Background stays white</Summery>
    <Patches amount="0" />
    <Stacktraces amount="0" />
    <SourceCodeRegions amount="0" />
    <Enumerations amount="0" />
    <bug_status amount="RESOLVED" />
    <resolution amount="DUPLICATE" />
    <WithStack>On windows the IDE window backgrounds (except for ones that are configurable
like the Java editor) follows the system background colour. 

On Linux (RH9) this doesn't happen. They all stay white (except, as mentioned
the ones that can be individually configured). I can't use the IDE until this is
fixed or settable in the preferences (eye strein). Some people might agree.

This problem goes for reading help as well. I can't work with a white background.

Thanks, Regards and Cheers ;-)

Note from possibly related bug:
Bug#: 21068

------- Additional Comment #1 From Susan Franklin  2002-06-27 11:56 -------

It appears that many pages are explicitly forcing the body color to white 
(which would override any stylesheet preferences).  We need to figure out the 
correct way to handle this consistently vs. forcing everything white in the 
pages.  This problem should be handled after GM for 2.0.


*** This bug has been marked as a duplicate of 21068 ***
Have you veified that this does not occur on Linux? i.e. that its possible to
set all windows to something non-white? If so, may I ask how its done? I've gone
through all the preferences a few times and I've done a few web searches.

Thanks.</WithStack>
    <WithOutStack>On windows the IDE window backgrounds (except for ones that are configurable
like the Java editor) follows the system background colour. 

On Linux (RH9) this doesn't happen. They all stay white (except, as mentioned
the ones that can be individually configured). I can't use the IDE until this is
fixed or settable in the preferences (eye strein). Some people might agree.

This problem goes for reading help as well. I can't work with a white background.

Thanks, Regards and Cheers ;-)

Note from possibly related bug:
Bug#: 21068

------- Additional Comment #1 From Susan Franklin  2002-06-27 11:56 -------

It appears that many pages are explicitly forcing the body color to white 
(which would override any stylesheet preferences).  We need to figure out the 
correct way to handle this consistently vs. forcing everything white in the 
pages.  This problem should be handled after GM for 2.0.


*** This bug has been marked as a duplicate of 21068 ***
Have you veified that this does not occur on Linux? i.e. that its possible to
set all windows to something non-white? If so, may I ask how its done? I've gone
through all the preferences a few times and I've done a few web searches.

Thanks.</WithOutStack>
  </Bug>
  <Bug>
    <BugId amount="67942" />
    <CreationDate amount="2004-06-20 07:43:00 -0400" />
    <DupId amount="" />
    <classification amount="Eclipse" />
    <Product amount="JDT" />
    <component amount="UI" />
    <Version amount="3.0" />
    <rep_platform amount="All" />
    <op_sys amount="All" />
    <priority amount="P3" />
    <bug_severity amount="enhancement" />
    <Summery>External JARs, attaching java-sources [build path]</Summery>
    <Patches amount="0" />
    <Stacktraces amount="0" />
    <SourceCodeRegions amount="0" />
    <Enumerations amount="0" />
    <bug_status amount="RESOLVED" />
    <resolution amount="WONTFIX" />
    <WithStack>If java-sources are in the same external jar, they can be attached automatically
as source for this jar-file.
Example of such jar-file:
+ package
|
+--- File1.class
+--- File1.java
+--- File2.class
+--- File2.java
(like exporting jar-file with sources)
Then it should be an option in interface while setting jar file in build path...
=&gt; move to JDT/UI
That should work. Just set the Jar as its own source attachment. Did you had 
problems with that?
I had no problem adding it manualy. 
My feature request was to do it AUTOMATICALLY in this case.
nice to have but not a trivial feature. It would require opening the JAR and
search for *.java files and could take quite some time for bigger archives.
I think it's ok if we let the user do this.</WithStack>
    <WithOutStack>If java-sources are in the same external jar, they can be attached automatically
as source for this jar-file.
Example of such jar-file:
+ package
|
+--- File1.class
+--- File1.java
+--- File2.class
+--- File2.java
(like exporting jar-file with sources)
Then it should be an option in interface while setting jar file in build path...
=&gt; move to JDT/UI
That should work. Just set the Jar as its own source attachment. Did you had 
problems with that?
I had no problem adding it manualy. 
My feature request was to do it AUTOMATICALLY in this case.
nice to have but not a trivial feature. It would require opening the JAR and
search for *.java files and could take quite some time for bigger archives.
I think it's ok if we let the user do this.</WithOutStack>
  </Bug>
  <Bug>
    <BugId amount="67943" />
    <CreationDate amount="2004-06-20 08:16:00 -0400" />
    <DupId amount="" />
    <classification amount="Eclipse" />
    <Product amount="JDT" />
    <component amount="UI" />
    <Version amount="3.0" />
    <rep_platform amount="PC" />
    <op_sys amount="Windows XP" />
    <priority amount="P3" />
    <bug_severity amount="normal" />
    <Summery>Run Javadoc Wizard should be named Open Javadoc Wizard</Summery>
    <Patches amount="0" />
    <Stacktraces amount="0" />
    <SourceCodeRegions amount="0" />
    <Enumerations amount="0" />
    <bug_status amount="RESOLVED" />
    <resolution amount="FIXED" />
    <WithStack>RC3

As said in bug 65649 the action should be named Open... not Run...
fixed &gt; 20040901</WithStack>
    <WithOutStack>RC3

As said in bug 65649 the action should be named Open... not Run...
fixed &gt; 20040901</WithOutStack>
  </Bug>
  <Bug>
    <BugId amount="67944" />
    <CreationDate amount="2004-06-20 09:03:00 -0400" />
    <DupId amount="" />
    <classification amount="Eclipse" />
    <Product amount="JDT" />
    <component amount="UI" />
    <Version amount="3.0" />
    <rep_platform amount="PC" />
    <op_sys amount="Windows XP" />
    <priority amount="P2" />
    <bug_severity amount="critical" />
    <Summery>Regression: package explorer doesn't show folders with non package names anymore</Summery>
    <Patches amount="0" />
    <Stacktraces amount="0" />
    <SourceCodeRegions amount="0" />
    <Enumerations amount="1">
      <Enumeration lines="4">
        <Lines>
          <Line>- create normal Java project</Line>
          <Line>- select project</Line>
          <Line>- New-&gt;Folder</Line>
          <Line>- enter name a-b</Line>
        </Lines>
      </Enumeration>
    </Enumerations>
    <bug_status amount="VERIFIED" />
    <resolution amount="FIXED" />
    <WithStack>RC3

The regression was introduced by a fix we put in into M5. The bug number is
45062. However this problem was already raised against 2.1 and we fixed it for 
2.1.1 since we considered it major there.

The problem appears in situations where clients create a folder insides a 
source folder with a non package name (for example a-b) and source folder == 
output folder.

We havent't seen this since Eclipse developement setup is src and output 
folder bin. 

Test cases:

- create normal Java project
- select project 
- New-&gt;Folder
- enter name a-b

observe: folder doesn't show-up.
Possible fixes:

- remove OutputFolderFilter which is internal and got introduced in 3.0. This
  will bring back bug 45062. Fix is low risk.

- tweak OutputFolderFilter so that it knows something about parent chains.
  Haven't investigate deeply yet, but feels risky.

- move the code from the OutputFolderFilter into the 
  StandardJavaElementContentProvider#getResources. We alrady do filter elements
  here which are on the build path of a Java project (since the will show
  up as Java elements). The method already takes care whether the folder is
  inside of a Java project or not. So it will not demage non Java projects.
  Fix is low/middle risk and should be reviewed by Philippe Mulet.

In general all the code in StandardJavaElementContentProvider#getResources 
should be pushed into JDT/Core for 3.1.
Created attachment 12555
Patch

Patch to fix problem as outlined in option three.
Created attachment 12556
Patch for option two

Here is a patch for option two. Contrary to my first analysis, there is a
simple fix in OutputFolderFilter. We have to check if the folder is on the
classpath of the project. Output folders are never on the class path.

Option three fixes the problem in all views where we render Java elements,
option two only in the package explorer since the OutputFolderFilter is only
used there.
Bug number for the fix we put into 2.1.1 is 35851
Fourth option to fix the problem. Instead of checking if the output folder is 
a prefix of the folder we can check for equals. Since this will filter out all 
output folder roots, children won't be visible either.


Created attachment 12633
Patch for option four.
Investigating the problem, I also had come to the conclusion that the #equals 
check in the output folder filter was the best take. It is consistent with how 
we exclude nested source folders in content provider (by checking for exact 
match to a subsequent pkg fragment root), assuming the filter is applied in a 
top-down fashion, and children of an excluded folder are not further asked the 
same question.
I would volunteer this for RC4, as you are also missing access to all 
subsequent children of folder 'a-b' if any.
Approved for RC4.
Fixed for RC4.
Verified for I20040625

folder "a-b"  didn't show up in RC3 but it does in I20040625
*** Bug 67184 has been marked as a duplicate of this bug. ***
Same thing if you create a folder named: elem
The package will show as a folder and not a package with a classpath
Created attachment 225411
Directory structure - elem
Created attachment 225412
Project Explorer - elem
(In reply to comment #13)
&gt; Same thing if you create a folder named: elem
&gt; The package will show as a folder and not a package with a classpath

Your problem is in the 'Project Explorer' and not the 'Package Explorer' and it is not in a Java project but an Android project. You need to report the bug there.
(In reply to comment #16)
&gt; (In reply to comment #13)
&gt; &gt; Same thing if you create a folder named: elem
&gt; &gt; The package will show as a folder and not a package with a classpath
&gt; 
&gt; Your problem is in the 'Project Explorer' and not the 'Package Explorer' and
&gt; it is not in a Java project but an Android project. You need to report the
&gt; bug there.

Yes that's right, it's an Android project and the Project Explorer, but the same thing is true for the Package Explorer.
Can you tell me where exactly I have to report this bug ? I am not familiar with Eclipse component and category names and with the bug reporting system.

Zoli
(In reply to comment #17)
&gt; (In reply to comment #16)
&gt; &gt; (In reply to comment #13)
&gt; &gt; &gt; Same thing if you create a folder named: elem
&gt; &gt; &gt; The package will show as a folder and not a package with a classpath
&gt; &gt; 
&gt; &gt; Your problem is in the 'Project Explorer' and not the 'Package Explorer' and
&gt; &gt; it is not in a Java project but an Android project. You need to report the
&gt; &gt; bug there.
&gt; 
&gt; Yes that's right, it's an Android project and the Project Explorer, but the
&gt; same thing is true for the Package Explorer.
&gt; Can you tell me where exactly I have to report this bug ? I am not familiar
&gt; with Eclipse component and category names and with the bug reporting system.
&gt; 
&gt; Zoli

The Android tooling doesn't come from Eclipse but from Google. You have to report it there.</WithStack>
    <WithOutStack>RC3

The regression was introduced by a fix we put in into M5. The bug number is
45062. However this problem was already raised against 2.1 and we fixed it for 
2.1.1 since we considered it major there.

The problem appears in situations where clients create a folder insides a 
source folder with a non package name (for example a-b) and source folder == 
output folder.

We havent't seen this since Eclipse developement setup is src and output 
folder bin. 

Test cases:

- create normal Java project
- select project 
- New-&gt;Folder
- enter name a-b

observe: folder doesn't show-up.
Possible fixes:

- remove OutputFolderFilter which is internal and got introduced in 3.0. This
  will bring back bug 45062. Fix is low risk.

- tweak OutputFolderFilter so that it knows something about parent chains.
  Haven't investigate deeply yet, but feels risky.

- move the code from the OutputFolderFilter into the 
  StandardJavaElementContentProvider#getResources. We alrady do filter elements
  here which are on the build path of a Java project (since the will show
  up as Java elements). The method already takes care whether the folder is
  inside of a Java project or not. So it will not demage non Java projects.
  Fix is low/middle risk and should be reviewed by Philippe Mulet.

In general all the code in StandardJavaElementContentProvider#getResources 
should be pushed into JDT/Core for 3.1.
Created attachment 12555
Patch

Patch to fix problem as outlined in option three.
Created attachment 12556
Patch for option two

Here is a patch for option two. Contrary to my first analysis, there is a
simple fix in OutputFolderFilter. We have to check if the folder is on the
classpath of the project. Output folders are never on the class path.

Option three fixes the problem in all views where we render Java elements,
option two only in the package explorer since the OutputFolderFilter is only
used there.
Bug number for the fix we put into 2.1.1 is 35851
Fourth option to fix the problem. Instead of checking if the output folder is 
a prefix of the folder we can check for equals. Since this will filter out all 
output folder roots, children won't be visible either.


Created attachment 12633
Patch for option four.
Investigating the problem, I also had come to the conclusion that the #equals 
check in the output folder filter was the best take. It is consistent with how 
we exclude nested source folders in content provider (by checking for exact 
match to a subsequent pkg fragment root), assuming the filter is applied in a 
top-down fashion, and children of an excluded folder are not further asked the 
same question.
I would volunteer this for RC4, as you are also missing access to all 
subsequent children of folder 'a-b' if any.
Approved for RC4.
Fixed for RC4.
Verified for I20040625

folder "a-b"  didn't show up in RC3 but it does in I20040625
*** Bug 67184 has been marked as a duplicate of this bug. ***
Same thing if you create a folder named: elem
The package will show as a folder and not a package with a classpath
Created attachment 225411
Directory structure - elem
Created attachment 225412
Project Explorer - elem
(In reply to comment #13)
&gt; Same thing if you create a folder named: elem
&gt; The package will show as a folder and not a package with a classpath

Your problem is in the 'Project Explorer' and not the 'Package Explorer' and it is not in a Java project but an Android project. You need to report the bug there.
(In reply to comment #16)
&gt; (In reply to comment #13)
&gt; &gt; Same thing if you create a folder named: elem
&gt; &gt; The package will show as a folder and not a package with a classpath
&gt; 
&gt; Your problem is in the 'Project Explorer' and not the 'Package Explorer' and
&gt; it is not in a Java project but an Android project. You need to report the
&gt; bug there.

Yes that's right, it's an Android project and the Project Explorer, but the same thing is true for the Package Explorer.
Can you tell me where exactly I have to report this bug ? I am not familiar with Eclipse component and category names and with the bug reporting system.

Zoli
(In reply to comment #17)
&gt; (In reply to comment #16)
&gt; &gt; (In reply to comment #13)
&gt; &gt; &gt; Same thing if you create a folder named: elem
&gt; &gt; &gt; The package will show as a folder and not a package with a classpath
&gt; &gt; 
&gt; &gt; Your problem is in the 'Project Explorer' and not the 'Package Explorer' and
&gt; &gt; it is not in a Java project but an Android project. You need to report the
&gt; &gt; bug there.
&gt; 
&gt; Yes that's right, it's an Android project and the Project Explorer, but the
&gt; same thing is true for the Package Explorer.
&gt; Can you tell me where exactly I have to report this bug ? I am not familiar
&gt; with Eclipse component and category names and with the bug reporting system.
&gt; 
&gt; Zoli

The Android tooling doesn't come from Eclipse but from Google. You have to report it there.</WithOutStack>
  </Bug>
  <Bug>
    <BugId amount="67945" />
    <CreationDate amount="2004-06-20 09:18:00 -0400" />
    <DupId amount="67381" />
    <classification amount="Eclipse" />
    <Product amount="JDT" />
    <component amount="Text" />
    <Version amount="3.0" />
    <rep_platform amount="PC" />
    <op_sys amount="Linux" />
    <priority amount="P3" />
    <bug_severity amount="enhancement" />
    <Summery>Smart caret positioning in quoted strings should be improved</Summery>
    <Patches amount="0" />
    <Stacktraces amount="0" />
    <SourceCodeRegions amount="2">
      <source_code type="assignment">
        <location start="278" end="303" />
        <code>String foo = something();</code>
      </source_code>
      <source_code type="assignment">
        <location start="304" end="331" />
        <code>String foo = "something()";</code>
      </source_code>
    </SourceCodeRegions>
    <Enumerations amount="0" />
    <bug_status amount="RESOLVED" />
    <resolution amount="DUPLICATE" />
    <WithStack>Place cursor before '()' in first and second line and press Ctrl+Delete.
Behavior is the same (everything to the end of line is deleted) while expected,
intuitive behavior in second case would be to delete only text to the closing
quote (only '()' brackets should be deleted).

String foo = something();
String foo = "something()";

Java-&gt;Editor-&gt;Navigation-&gt;"Smart caret positioning in Java names...' is turned
ON, without it deleting text with Ctrl+Delete is a total massacre.
&gt; without it deleting text with Ctrl+Delete is a total massacre.
see bug 62627


*** This bug has been marked as a duplicate of 67381 ***</WithStack>
    <WithOutStack>Place cursor before '()' in first and second line and press Ctrl+Delete.
Behavior is the same (everything to the end of line is deleted) while expected,
intuitive behavior in second case would be to delete only text to the closing
quote (only '()' brackets should be deleted).

String foo = something();
String foo = "something()";

Java-&gt;Editor-&gt;Navigation-&gt;"Smart caret positioning in Java names...' is turned
ON, without it deleting text with Ctrl+Delete is a total massacre.
&gt; without it deleting text with Ctrl+Delete is a total massacre.
see bug 62627


*** This bug has been marked as a duplicate of 67381 ***</WithOutStack>
  </Bug>
  <Bug>
    <BugId amount="67946" />
    <CreationDate amount="2004-06-20 11:04:00 -0400" />
    <DupId amount="" />
    <classification amount="Eclipse" />
    <Product amount="JDT" />
    <component amount="Text" />
    <Version amount="3.0" />
    <rep_platform amount="PC" />
    <op_sys amount="Windows XP" />
    <priority amount="P3" />
    <bug_severity amount="normal" />
    <Summery>Folding and Control + Down Arrow doesn't work correctly</Summery>
    <Patches amount="0" />
    <Stacktraces amount="0" />
    <SourceCodeRegions amount="0" />
    <Enumerations amount="0" />
    <bug_status amount="RESOLVED" />
    <resolution amount="FIXED" />
    <WithStack>If I collapse a part of code (like a method or something else) the shortcut 
Control + Down Array doesn't work correctly. If nothing ist collapsed there 
exists no problem. If I collapse a part, Control + Down Array moves the code-
view and stops when the collapsed part is the first line in the code-view.
In 3.0 RC3 the behavior doesn't exist any more.</WithStack>
    <WithOutStack>If I collapse a part of code (like a method or something else) the shortcut 
Control + Down Array doesn't work correctly. If nothing ist collapsed there 
exists no problem. If I collapse a part, Control + Down Array moves the code-
view and stops when the collapsed part is the first line in the code-view.
In 3.0 RC3 the behavior doesn't exist any more.</WithOutStack>
  </Bug>
  <Bug>
    <BugId amount="67947" />
    <CreationDate amount="2004-06-20 12:47:00 -0400" />
    <DupId amount="35381" />
    <classification amount="Eclipse" />
    <Product amount="JDT" />
    <component amount="UI" />
    <Version amount="3.0" />
    <rep_platform amount="PC" />
    <op_sys amount="Windows XP" />
    <priority amount="P3" />
    <bug_severity amount="major" />
    <Summery>[RC1] Files created by wizard are not added to explorer view</Summery>
    <Patches amount="0" />
    <Stacktraces amount="0" />
    <SourceCodeRegions amount="0" />
    <Enumerations amount="0" />
    <bug_status amount="RESOLVED" />
    <resolution amount="DUPLICATE" />
    <WithStack>AFAIK, this problem appeared in RC1 and has not been present in any previous
version since at least 2.0. My plug-in has a number of New file wizards. Files
created by these wizards do not show up in the explorer view unless the user
does a Refresh.
No, scratch that. The new files are showing up at the bottom! I haven't been
able to find a way to get them in the proper, alphabetical order short of
restarting Eclipse. 

Please restore the former behavior.
Does this happen with the RC3 build?

How are you creating the resources? (which API are you using?)

By "Explorer" I assume that you mean "Package Explorer"?

Do the resources appear immediately in the Navigator view?

Can you install the Core Tools (available on the Core Team web page) and open
the Resource Delta view and post the results to this bug report?

Moving to JDT/UI for comment to see if we have had any reports about similar
behaviour in the Packages Explorer.
The package explorer sorts files in categories. First all Java related files 
are shown and then all non Java resources. So a package having a CU Z.java and 
a file A.txt is sorted like this:

Sorting
+ pack
  + Z.java
  + A.txt

This is the same behavior as in 2.1.x. 

We are aware of a problem when adding files to a normal folder (non package). 
See bug 65782.


*** This bug has been marked as a duplicate of 35381 ***</WithStack>
    <WithOutStack>AFAIK, this problem appeared in RC1 and has not been present in any previous
version since at least 2.0. My plug-in has a number of New file wizards. Files
created by these wizards do not show up in the explorer view unless the user
does a Refresh.
No, scratch that. The new files are showing up at the bottom! I haven't been
able to find a way to get them in the proper, alphabetical order short of
restarting Eclipse. 

Please restore the former behavior.
Does this happen with the RC3 build?

How are you creating the resources? (which API are you using?)

By "Explorer" I assume that you mean "Package Explorer"?

Do the resources appear immediately in the Navigator view?

Can you install the Core Tools (available on the Core Team web page) and open
the Resource Delta view and post the results to this bug report?

Moving to JDT/UI for comment to see if we have had any reports about similar
behaviour in the Packages Explorer.
The package explorer sorts files in categories. First all Java related files 
are shown and then all non Java resources. So a package having a CU Z.java and 
a file A.txt is sorted like this:

Sorting
+ pack
  + Z.java
  + A.txt

This is the same behavior as in 2.1.x. 

We are aware of a problem when adding files to a normal folder (non package). 
See bug 65782.


*** This bug has been marked as a duplicate of 35381 ***</WithOutStack>
  </Bug>
  <Bug>
    <BugId amount="67948" />
    <CreationDate amount="2004-06-20 13:02:00 -0400" />
    <DupId amount="" />
    <classification amount="Eclipse" />
    <Product amount="Platform" />
    <component amount="Team" />
    <Version amount="3.0" />
    <rep_platform amount="PC" />
    <op_sys amount="Windows XP" />
    <priority amount="P3" />
    <bug_severity amount="normal" />
    <Summery>[Team API] File content type is not changed in Explorer view until Eclipse restarted</Summery>
    <Patches amount="0" />
    <Stacktraces amount="0" />
    <SourceCodeRegions amount="0" />
    <Enumerations amount="0" />
    <bug_status amount="RESOLVED" />
    <resolution amount="FIXED" />
    <WithStack>If a user creates a file with an extension Team doesn't know about, it is
assigned Binary file type, which displays in the Package Explorer view. However,
when the user adds the file extension to the Team &gt; File Content preferences and
commits, the Explorer view is not updated to reflect the new information. The
only way to change it, AFAIK, is to restart Eclipse.
It is only the decorator that is not updated. Turning off and on the CVS 
decorators should fix the problem as well. Also, if the file is committed 
after the addition of the Team file type, the correct type will be assigned.
Also, I beleive the reason for this is that we don't have property change events
for file types. We should since we already have a global ignore property change
fired by Team.
Fix released to HEAD
*** Bug 37970 has been marked as a duplicate of this bug. ***</WithStack>
    <WithOutStack>If a user creates a file with an extension Team doesn't know about, it is
assigned Binary file type, which displays in the Package Explorer view. However,
when the user adds the file extension to the Team &gt; File Content preferences and
commits, the Explorer view is not updated to reflect the new information. The
only way to change it, AFAIK, is to restart Eclipse.
It is only the decorator that is not updated. Turning off and on the CVS 
decorators should fix the problem as well. Also, if the file is committed 
after the addition of the Team file type, the correct type will be assigned.
Also, I beleive the reason for this is that we don't have property change events
for file types. We should since we already have a global ignore property change
fired by Team.
Fix released to HEAD
*** Bug 37970 has been marked as a duplicate of this bug. ***</WithOutStack>
  </Bug>
  <Bug>
    <BugId amount="67949" />
    <CreationDate amount="2004-06-20 14:22:00 -0400" />
    <DupId amount="" />
    <classification amount="Eclipse" />
    <Product amount="Platform" />
    <component amount="User Assistance" />
    <Version amount="3.0" />
    <rep_platform amount="All" />
    <op_sys amount="All" />
    <priority amount="P3" />
    <bug_severity amount="trivial" />
    <Summery>[Intro] [doc] wordings on Welcome &gt; What's New page</Summery>
    <Patches amount="0" />
    <Stacktraces amount="0" />
    <SourceCodeRegions amount="0" />
    <Enumerations amount="0" />
    <bug_status amount="RESOLVED" />
    <resolution amount="FIXED" />
    <WithStack>Build 3.0 RC3

Help &gt; Welcome &gt; What's New

Title: "Java Development"
A lowercase "d" is required for legal reasons.
This should read "Java development tools".

"Find out about significant developments made to the Java Development Tools"
Again, a lowercase "d" is required for legal reasons.
This should read
"Find out about significant developments made to the Java development tools"

Title: "PDE"
This should read "Plug-in Development Environment" since some new users may be 
unfamiliar with the acronym "PDE".

Must fix for 3.0 because of the legal aspect.
Created attachment 12653
patch to update the JDT wording as described in the defect
Created attachment 12654
patch to update the PDE wording as described in the defect
Must make lawyers happy.
+1
Released.
Reopening to resolve checkpii failure. 

http://download.eclipse.org/downloads/drops/I-I20040622-
200406221200/testresults/chkpii/winxp_org.eclipse.nls.xml.txt

ECLIPSE\PLUGINS\ORG.ECLIPSE.JDT_3.0.0\
  NEWSEXTENSIONCONTENT.XML  XML-10      969   (W) XML tag attribute (label) 
may contain translatable text which cannot be translated.  Line: 5

Intro XML files (as well as cheat sheet files) are translated as a whole i.e. 
not through a separate message file. These files should not be tested for 
possible translatable content. The same exception applied to cheat sheet 
content files should be applied here as well.
Dejan,  Please forward to Sonia a list of the paths of all intro and 
cheatsheet content files that should be checkpii-exempt.
This is what we have so far:

*/plugins/org.eclipse.jdt_*/samplesExtensionContent.xml
*/plugins/org.eclipse.jdt_*/tutorialsExtensionContent.xml
*/plugins/org.eclipse.jdt_*/cheatsheets/HelloWorld.xml
*/plugins/org.eclipse.jdt_*/cheatsheets/HelloWorldSWT.xml
*/plugins/org.eclipse.pde_*/overviewExtensionContent.xml
*/plugins/org.eclipse.pde_*/tutorialsExtensionContent.xml
*/plugins/org.eclipse.pde_*/cheatsheets/helloworld.xml
*/plugins/org.eclipse.pde_*/cheatsheets/updates.xml
*/plugins/org.eclipse.platform_*/introContent.xml
*/plugins/org.eclipse.platform_*/cheatsheets/CVS_1.xml
Looks like */plugins/org.eclipse.jdt_*/newsExtensionContent.xml should be 
added.

Also 

*/plugins/org.eclipse.pde_*/newsExtensionContent.xml 
I have updated the ignore files list in the releng tests with the files in
comment #9 and comment #10.
The tests now pass - closing.</WithStack>
    <WithOutStack>Build 3.0 RC3

Help &gt; Welcome &gt; What's New

Title: "Java Development"
A lowercase "d" is required for legal reasons.
This should read "Java development tools".

"Find out about significant developments made to the Java Development Tools"
Again, a lowercase "d" is required for legal reasons.
This should read
"Find out about significant developments made to the Java development tools"

Title: "PDE"
This should read "Plug-in Development Environment" since some new users may be 
unfamiliar with the acronym "PDE".

Must fix for 3.0 because of the legal aspect.
Created attachment 12653
patch to update the JDT wording as described in the defect
Created attachment 12654
patch to update the PDE wording as described in the defect
Must make lawyers happy.
+1
Released.
Reopening to resolve checkpii failure. 

http://download.eclipse.org/downloads/drops/I-I20040622-
200406221200/testresults/chkpii/winxp_org.eclipse.nls.xml.txt

ECLIPSE\PLUGINS\ORG.ECLIPSE.JDT_3.0.0\
  NEWSEXTENSIONCONTENT.XML  XML-10      969   (W) XML tag attribute (label) 
may contain translatable text which cannot be translated.  Line: 5

Intro XML files (as well as cheat sheet files) are translated as a whole i.e. 
not through a separate message file. These files should not be tested for 
possible translatable content. The same exception applied to cheat sheet 
content files should be applied here as well.
Dejan,  Please forward to Sonia a list of the paths of all intro and 
cheatsheet content files that should be checkpii-exempt.
This is what we have so far:

*/plugins/org.eclipse.jdt_*/samplesExtensionContent.xml
*/plugins/org.eclipse.jdt_*/tutorialsExtensionContent.xml
*/plugins/org.eclipse.jdt_*/cheatsheets/HelloWorld.xml
*/plugins/org.eclipse.jdt_*/cheatsheets/HelloWorldSWT.xml
*/plugins/org.eclipse.pde_*/overviewExtensionContent.xml
*/plugins/org.eclipse.pde_*/tutorialsExtensionContent.xml
*/plugins/org.eclipse.pde_*/cheatsheets/helloworld.xml
*/plugins/org.eclipse.pde_*/cheatsheets/updates.xml
*/plugins/org.eclipse.platform_*/introContent.xml
*/plugins/org.eclipse.platform_*/cheatsheets/CVS_1.xml
Looks like */plugins/org.eclipse.jdt_*/newsExtensionContent.xml should be 
added.

Also 

*/plugins/org.eclipse.pde_*/newsExtensionContent.xml 
I have updated the ignore files list in the releng tests with the files in
comment #9 and comment #10.
The tests now pass - closing.</WithOutStack>
  </Bug>
  <Bug>
    <BugId amount="67950" />
    <CreationDate amount="2004-06-20 15:39:00 -0400" />
    <DupId amount="" />
    <classification amount="Eclipse" />
    <Product amount="Platform" />
    <component amount="UI" />
    <Version amount="3.0" />
    <rep_platform amount="All" />
    <op_sys amount="All" />
    <priority amount="P3" />
    <bug_severity amount="normal" />
    <Summery>[RCP] [doc] ui.workbench.compatibility methods should have deprecation warnings</Summery>
    <Patches amount="0" />
    <Stacktraces amount="0" />
    <SourceCodeRegions amount="0" />
    <Enumerations amount="0" />
    <bug_status amount="VERIFIED" />
    <resolution amount="FIXED" />
    <WithStack>Build 3.0 RC3

The old IWorkbenchPage methods declared in 
o.e.ui.workbench.compatibility.ICompatibleWorkbenchPage should have 
deprecation warnings in case someone imports the plug-in fragment into the 
workspace and arranges to compile code against it.
Created attachment 12557
patch to o.e.ui.workbench.compatibility to add deprecations and update copyrights
Must fix for 3.0
Perhaps the deprecation should indicate that plugins should not compile against
this fragment at all, in addition to pointing to the moved API. 
That is, the real error is with their classpath.

Should also fix typo in patch: fromm -&gt; from.





No objections to strengthening the wording to say that you shouldn't be 
compiling against these (if that is even possible).
I noticed that the deprecation warning on openSystemEditor is wrong (there is 
no equivalent on IDE).
Created attachment 12680
Revised patch
Jim and Andrew, could you please review the latest patch?

Re comment #4, it would not normally be possible to compile against the
org.eclipse.ui.workbench.compatibility fragment, since it does not actually
export any jars (or even have any &lt;library&gt; entries).  It just replaces the
compatibility.jar defined in org.eclipse.ui.workbench.

So normally the deprecations we're adding here would never be seen.

Clients could jump through hoops, though, and include its source folder on their
classpath.  The deprecations now include a suitable warning if they do so.


+1
Looks good to me.
I've released the changes to head, and also to the ui.map, since we've had
problems in the past with this not getting properly tagged by the releng tool.

Verified that the changes are in I20040623-1200.</WithStack>
    <WithOutStack>Build 3.0 RC3

The old IWorkbenchPage methods declared in 
o.e.ui.workbench.compatibility.ICompatibleWorkbenchPage should have 
deprecation warnings in case someone imports the plug-in fragment into the 
workspace and arranges to compile code against it.
Created attachment 12557
patch to o.e.ui.workbench.compatibility to add deprecations and update copyrights
Must fix for 3.0
Perhaps the deprecation should indicate that plugins should not compile against
this fragment at all, in addition to pointing to the moved API. 
That is, the real error is with their classpath.

Should also fix typo in patch: fromm -&gt; from.





No objections to strengthening the wording to say that you shouldn't be 
compiling against these (if that is even possible).
I noticed that the deprecation warning on openSystemEditor is wrong (there is 
no equivalent on IDE).
Created attachment 12680
Revised patch
Jim and Andrew, could you please review the latest patch?

Re comment #4, it would not normally be possible to compile against the
org.eclipse.ui.workbench.compatibility fragment, since it does not actually
export any jars (or even have any &lt;library&gt; entries).  It just replaces the
compatibility.jar defined in org.eclipse.ui.workbench.

So normally the deprecations we're adding here would never be seen.

Clients could jump through hoops, though, and include its source folder on their
classpath.  The deprecations now include a suitable warning if they do so.


+1
Looks good to me.
I've released the changes to head, and also to the ui.map, since we've had
problems in the past with this not getting properly tagged by the releng tool.

Verified that the changes are in I20040623-1200.</WithOutStack>
  </Bug>
  <Bug>
    <BugId amount="67951" />
    <CreationDate amount="2004-06-20 15:44:00 -0400" />
    <DupId amount="" />
    <classification amount="Eclipse" />
    <Product amount="Platform" />
    <component amount="Team" />
    <Version amount="3.0" />
    <rep_platform amount="PC" />
    <op_sys amount="Windows XP" />
    <priority amount="P3" />
    <bug_severity amount="normal" />
    <Summery>[API] There is no way to get a SyncInfo element from a ISynchronizeModelElement</Summery>
    <Patches amount="0" />
    <Stacktraces amount="0" />
    <SourceCodeRegions amount="0" />
    <Enumerations amount="0" />
    <bug_status amount="RESOLVED" />
    <resolution amount="INVALID" />
    <WithStack>3.0 RC3
When trying to write a label decorator for a synchronize participant, there is
no way to find the SyncInfo, if it exists, associated with the element. The CVS
decorator uses the internal SyncInfoModelElement, but this is not correct.
I thought we agreed that we would use the adaptable mechanism for this? The 
SyncInfoModelElement does return the SyncInfo in the getAdapter method.
That conversation is slowly comming back :)</WithStack>
    <WithOutStack>3.0 RC3
When trying to write a label decorator for a synchronize participant, there is
no way to find the SyncInfo, if it exists, associated with the element. The CVS
decorator uses the internal SyncInfoModelElement, but this is not correct.
I thought we agreed that we would use the adaptable mechanism for this? The 
SyncInfoModelElement does return the SyncInfo in the getAdapter method.
That conversation is slowly comming back :)</WithOutStack>
  </Bug>
  <Bug>
    <BugId amount="67952" />
    <CreationDate amount="2004-06-20 17:23:00 -0400" />
    <DupId amount="66288" />
    <classification amount="Eclipse" />
    <Product amount="JDT" />
    <component amount="Core" />
    <Version amount="3.0" />
    <rep_platform amount="All" />
    <op_sys amount="All" />
    <priority amount="P3" />
    <bug_severity amount="normal" />
    <Summery>CoreException while building</Summery>
    <Patches amount="0" />
    <Stacktraces amount="1">
      <Stacktrace timestamp="1437341152864">
        <Exception>org.eclipse.core.internal.resources.ResourceException</Exception>
        <Reason>Resource /org.eclipse.jdt.debug/bin/org/eclipse/jdi/internal/request already 
exists.</Reason>
        <Frames>
          <Frame depth="0">org.eclipse.core.internal.resources.Resource.checkDoesNotExist(Resource.java:298)</Frame>
          <Frame depth="1">org.eclipse.core.internal.resources.Resource.checkDoesNotExist(Resource.java:271)</Frame>
          <Frame depth="2">org.eclipse.core.internal.resources.Folder.assertCreateRequirements(Folder.java:25)</Frame>
          <Frame depth="3">org.eclipse.core.internal.resources.Folder.create(Folder.java:88)</Frame>
          <Frame depth="4">org.eclipse.core.internal.resources.Folder.create(Folder.java:119)</Frame>
          <Frame depth="5">org.eclipse.jdt.internal.core.builder.AbstractImageBuilder.createFolder(AbstractImageBuilder.java:255)</Frame>
          <Frame depth="6">org.eclipse.jdt.internal.core.builder.AbstractImageBuilder.writeClassFile(AbstractImageBuilder.java:450)</Frame>
          <Frame depth="7">org.eclipse.jdt.internal.core.builder.AbstractImageBuilder.acceptResult(AbstractImageBuilder.java:115)</Frame>
          <Frame depth="8">org.eclipse.jdt.internal.compiler.Compiler.compile(Compiler.java:341)</Frame>
          <Frame depth="9">org.eclipse.jdt.internal.core.builder.AbstractImageBuilder.compile(AbstractImageBuilder.java:203)</Frame>
          <Frame depth="10">org.eclipse.jdt.internal.core.builder.AbstractImageBuilder.compile(AbstractImageBuilder.java:153)</Frame>
          <Frame depth="11">org.eclipse.jdt.internal.core.builder.BatchImageBuilder.build(BatchImageBuilder.java:49)</Frame>
          <Frame depth="12">org.eclipse.jdt.internal.core.builder.JavaBuilder.buildAll(JavaBuilder.java:213)</Frame>
          <Frame depth="13">org.eclipse.jdt.internal.core.builder.JavaBuilder.build(JavaBuilder.java:145)</Frame>
          <Frame depth="14">org.eclipse.core.internal.events.BuildManager$2.run(BuildManager.java:564)</Frame>
          <Frame depth="15">org.eclipse.core.internal.runtime.InternalPlatform.run(InternalPlatform.java:615)</Frame>
          <Frame depth="16">org.eclipse.core.runtime.Platform.run(Platform.java:758)</Frame>
          <Frame depth="17">org.eclipse.core.internal.events.BuildManager.basicBuild(BuildManager.java:157)</Frame>
          <Frame depth="18">org.eclipse.core.internal.events.BuildManager.basicBuild(BuildManager.java:249)</Frame>
          <Frame depth="19">org.eclipse.core.internal.events.BuildManager.basicBuild(BuildManager.java:202)</Frame>
          <Frame depth="20">org.eclipse.core.internal.events.BuildManager$1.run(BuildManager.java:229)</Frame>
          <Frame depth="21">org.eclipse.core.internal.runtime.InternalPlatform.run(InternalPlatform.java:615)</Frame>
          <Frame depth="22">org.eclipse.core.runtime.Platform.run(Platform.java:758)</Frame>
          <Frame depth="23">org.eclipse.core.internal.events.BuildManager.basicBuild(BuildManager.java:232)</Frame>
          <Frame depth="24">org.eclipse.core.internal.events.BuildManager.basicBuildLoop(BuildManager.java:268)</Frame>
          <Frame depth="25">org.eclipse.core.internal.events.BuildManager.build(BuildManager.java:297)</Frame>
          <Frame depth="26">org.eclipse.core.internal.resources.Workspace.build(Workspace.java:198)</Frame>
          <Frame depth="27">org.eclipse.ui.actions.GlobalBuildAction$1.run(GlobalBuildAction.java:182)</Frame>
          <Frame depth="28">org.eclipse.core.internal.jobs.Worker.run(Worker.java:66)</Frame>
        </Frames>
      </Stacktrace>
    </Stacktraces>
    <SourceCodeRegions amount="0" />
    <Enumerations amount="0" />
    <bug_status amount="RESOLVED" />
    <resolution amount="DUPLICATE" />
    <WithStack>Build 3.0 RC3

Thre first time I asked to build my full source workspace, I got the following 
exception. This workspace had been compiling in earlier builds without such 
problems. I wasn't doing anything else at the time.

!SESSION Jun 20, 2004 17:11:35.905 --------------------------------------------
-
eclipse.buildId=I200406192000
java.version=1.4.2
java.vendor=Sun Microsystems Inc.
BootLoader constants: OS=win32, ARCH=x86, WS=win32, NL=en_US

!ENTRY org.eclipse.jdt.core 4 4 Jun 20, 2004 17:11:35.905
!MESSAGE JavaBuilder handling CoreException
!STACK 1
org.eclipse.core.internal.resources.ResourceException: 
Resource /org.eclipse.jdt.debug/bin/org/eclipse/jdi/internal/request already 
exists.
	at org.eclipse.core.internal.resources.Resource.checkDoesNotExist
(Resource.java:298)
	at org.eclipse.core.internal.resources.Resource.checkDoesNotExist
(Resource.java:271)
	at org.eclipse.core.internal.resources.Folder.assertCreateRequirements
(Folder.java:25)
	at org.eclipse.core.internal.resources.Folder.create(Folder.java:88)
	at org.eclipse.core.internal.resources.Folder.create(Folder.java:119)
	at 
org.eclipse.jdt.internal.core.builder.AbstractImageBuilder.createFolder
(AbstractImageBuilder.java:255)
	at 
org.eclipse.jdt.internal.core.builder.AbstractImageBuilder.writeClassFile
(AbstractImageBuilder.java:450)
	at 
org.eclipse.jdt.internal.core.builder.AbstractImageBuilder.acceptResult
(AbstractImageBuilder.java:115)
	at org.eclipse.jdt.internal.compiler.Compiler.compile
(Compiler.java:341)
	at org.eclipse.jdt.internal.core.builder.AbstractImageBuilder.compile
(AbstractImageBuilder.java:203)
	at org.eclipse.jdt.internal.core.builder.AbstractImageBuilder.compile
(AbstractImageBuilder.java:153)
	at org.eclipse.jdt.internal.core.builder.BatchImageBuilder.build
(BatchImageBuilder.java:49)
	at org.eclipse.jdt.internal.core.builder.JavaBuilder.buildAll
(JavaBuilder.java:213)
	at org.eclipse.jdt.internal.core.builder.JavaBuilder.build
(JavaBuilder.java:145)
	at org.eclipse.core.internal.events.BuildManager$2.run
(BuildManager.java:564)
	at org.eclipse.core.internal.runtime.InternalPlatform.run
(InternalPlatform.java:615)
	at org.eclipse.core.runtime.Platform.run(Platform.java:758)
	at org.eclipse.core.internal.events.BuildManager.basicBuild
(BuildManager.java:157)
	at org.eclipse.core.internal.events.BuildManager.basicBuild
(BuildManager.java:249)
	at org.eclipse.core.internal.events.BuildManager.basicBuild
(BuildManager.java:202)
	at org.eclipse.core.internal.events.BuildManager$1.run
(BuildManager.java:229)
	at org.eclipse.core.internal.runtime.InternalPlatform.run
(InternalPlatform.java:615)
	at org.eclipse.core.runtime.Platform.run(Platform.java:758)
	at org.eclipse.core.internal.events.BuildManager.basicBuild
(BuildManager.java:232)
	at org.eclipse.core.internal.events.BuildManager.basicBuildLoop
(BuildManager.java:268)
	at org.eclipse.core.internal.events.BuildManager.build
(BuildManager.java:297)
	at org.eclipse.core.internal.resources.Workspace.build
(Workspace.java:198)
	at org.eclipse.ui.actions.GlobalBuildAction$1.run
(GlobalBuildAction.java:182)
	at org.eclipse.core.internal.jobs.Worker.run(Worker.java:66)
!SUBENTRY 1 org.eclipse.core.resources 4 374 Jun 20, 2004 17:11:35.905
!MESSAGE Resource /org.eclipse.jdt.debug/bin/org/eclipse/jdi/internal/request 
already exists.
It looks like the error occured while the compile was compiling 
org.eclipse.jdi.internal.request.StepRequestImpl.java. This file had not 
changed in a long time. There was a red X on the first line of the file.
After doing Clean on the project org.eclipse.jdt.debug, a Build Project got 
rid of the error condition.
*** Bug 68037 has been marked as a duplicate of this bug. ***


*** This bug has been marked as a duplicate of 66288 ***</WithStack>
    <WithOutStack>Build 3.0 RC3

Thre first time I asked to build my full source workspace, I got the following 
exception. This workspace had been compiling in earlier builds without such 
problems. I wasn't doing anything else at the time.

!SESSION Jun 20, 2004 17:11:35.905 --------------------------------------------
-
eclipse.buildId=I200406192000
java.version=1.4.2
java.vendor=Sun Microsystems Inc.
BootLoader constants: OS=win32, ARCH=x86, WS=win32, NL=en_US

!ENTRY org.eclipse.jdt.core 4 4 Jun 20, 2004 17:11:35.905
!MESSAGE JavaBuilder handling CoreException
!STACK 1

!SUBENTRY 1 org.eclipse.core.resources 4 374 Jun 20, 2004 17:11:35.905
!MESSAGE Resource /org.eclipse.jdt.debug/bin/org/eclipse/jdi/internal/request 
already exists.
It looks like the error occured while the compile was compiling 
org.eclipse.jdi.internal.request.StepRequestImpl.java. This file had not 
changed in a long time. There was a red X on the first line of the file.
After doing Clean on the project org.eclipse.jdt.debug, a Build Project got 
rid of the error condition.
*** Bug 68037 has been marked as a duplicate of this bug. ***


*** This bug has been marked as a duplicate of 66288 ***</WithOutStack>
  </Bug>
  <Bug>
    <BugId amount="67953" />
    <CreationDate amount="2004-06-20 19:41:00 -0400" />
    <DupId amount="" />
    <classification amount="Eclipse" />
    <Product amount="Platform" />
    <component amount="CVS" />
    <Version amount="3.0" />
    <rep_platform amount="PC" />
    <op_sys amount="Windows XP" />
    <priority amount="P3" />
    <bug_severity amount="major" />
    <Summery>[SSH2] Socks functionality totally not working</Summery>
    <Patches amount="0" />
    <Stacktraces amount="0" />
    <SourceCodeRegions amount="0" />
    <Enumerations amount="0" />
    <bug_status amount="CLOSED" />
    <resolution amount="INVALID" />
    <WithStack>I have set up a socks server on my local machine, and configured Eclipse to 
use it. It fails with an exception suggesting it cannot connect.

I tested the setup by using the socks server to connect mIRC to an IRC server, 
and that worked just fine. Furthermore, I used my firewall to monitor network 
connections, and make sure that mIRC was going through the firewall. So I'm 
positive the setup is ok.

I'm sure the bug is reproducible on any Windows XP. I did that experiment 
because a person on my team complained they use SOCKS to connect to our cvs 
server.
So I assume you mean using the 'extssh' connection method? What build are you
using, and what are the configuration parameters you are using for your SOCKS
connection.
Whoops... I am so sorry... I forgot to mention this.

Build: RC3
Configuration:
Team &gt; CVS &gt; SSH2 Connection Method &gt; Proxy
Enable proxy conn
Proxy type: SOCKS5 (also tried HTTP, but I'm not very sure it also fails there)
Host address: my computer (costan.mit.edu)
Host port: 1080

Enable proxy authentification
User, password

I'm having Windows XP SP1a.
Yes, the connection type is extssh.

(the server is cvs.sf.net, in case that helps).

I can connect to the server without using Socks connectivity.
Yamanaka, can you help me with this one. I personally haven't tried the SOCKS
support yet. Thanks.
Hi,

I'm author of that sutff.
Frankly to say, password authentication for SOCKS5 proxy
has not been tested well.  Can you reconfig your SOCKS5 without
password authentication for testing?
Tested without authentication. Again, used mIRC for confirmation. mIRC works, 
Eclipse fails. Proxy logs suggest that Eclipse isn't even attempting to 
connect. Hope this helps.

Error message:

"
Error fetching resource list from repository.
Reason:
 Authentication error: com.jcraft.jsch.JschException: ProxySOCKS5:
com.jcraft.jsch.JSchException: fail in SOCKS5 proxy
"
(copied by hand from dialog window... does not show up in error log)
Thank you for testing.

Now, it is AM2:00 and this is from home.
Tomorrow, if I get a chance, I'll try to find the reason at 
my office, where SOCS5 server is running.

I downloaded SysInternal's TDImon. According to that tool, Eclipse is 
connecting to the proxy, and sends some data. Pasting operations log below:

3.96295501	javaw.exe:296	81AE0688	IRP_MJ_CREATE	TCP:0.0.0.0:0
		SUCCESS	Address Open	
3.96320136	javaw.exe:296	81AE0688	TDI_SET_EVENT_HANDLER
	TCP:0.0.0.0:2177		SUCCESS	Error Event	
3.96321790	javaw.exe:296	81AE0688	TDI_SET_EVENT_HANDLER
	TCP:0.0.0.0:2177		SUCCESS	Disconnect Event	
3.96322749	javaw.exe:296	81AE0688	TDI_SET_EVENT_HANDLER
	TCP:0.0.0.0:2177		SUCCESS	Receive Event	
3.96323682	javaw.exe:296	81AE0688	TDI_SET_EVENT_HANDLER
	TCP:0.0.0.0:2177		SUCCESS	Expedited Receive Event	
3.96324597	javaw.exe:296	81AE0688	TDI_SET_EVENT_HANDLER
	TCP:0.0.0.0:2177		SUCCESS	Chained Receive Event	
3.96325463	javaw.exe:296	81AE0688	TDI_QUERY_INFORMATION
	TCP:0.0.0.0:2177		SUCCESS	Query Address	
3.96328128	javaw.exe:296	81AE0688	TDI_QUERY_INFORMATION
	TCP:0.0.0.0:2177		SUCCESS	Query Address	
3.96343770	javaw.exe:296	82214810	IRP_MJ_CREATE	TCP:Connection 
obj		SUCCESS	Context:0x81A92550	
3.96346311	javaw.exe:296	82214810	TDI_ASSOCIATE_ADDRESS
	TCP:Connection obj		SUCCESS	TCP:0.0.0.0:2177	
3.96349071	javaw.exe:296	82214810	TDI_CONNECT
	TCP:0.0.0.0:2177	127.0.0.1:9999	SUCCESS		
3.96397910	FreeProxy.exe:34	8232F028	IRP_MJ_CREATE
	TCP:Connection obj		SUCCESS	Context:0x81A9EA30	
3.96404574	FreeProxy.exe:34	8232F028	TDI_ASSOCIATE_ADDRESS
	TCP:Connection obj		SUCCESS	TCP:0.0.0.0:9999	
3.96415338	FreeProxy.exe:34	819592A8	IRP_MJ_DEVICE_CONTROL
	TCP:&lt;none&gt;		SUCCESS	IOCTL_TCP_SET_INFORMATION_EX	
3.96569974	javaw.exe:296	82214810	IRP_MJ_DEVICE_CONTROL
	TCP:0.0.0.0:2177	127.0.0.1:9999	SUCCESS
	IOCTL_TCP_SET_INFORMATION_EX	
3.96580649	javaw.exe:296	82214810	TDI_SEND
	TCP:0.0.0.0:2177	127.0.0.1:9999	SUCCESS	Length:4 	
3.96603994	FreeProxy.exe:34	819592A8	TDI_SEND
	TCP:127.0.0.1:9999		SUCCESS-215	Length:2 	
3.96613196	javaw.exe:296	81AE0688	TDI_EVENT_RECEIVE
	TCP:0.0.0.0:2177	127.0.0.1:9999	SUCCESS	Length:2 Flags: 
ENTIRE_MESSAGE LOOKAHEAD DISPATCH 	
3.96627028	javaw.exe:296	82214810	TDI_DISCONNECT
	TCP:0.0.0.0:2177	127.0.0.1:9999	SUCCESS	RELEASE	
3.96965995	FreeProxy.exe:34	818E0B20	TDI_EVENT_DISCONNECT
	TCP:0.0.0.0:9999	???	SUCCESS	RELEASE 	

I tried Eclipse 3.0RC2 and I have confirmed it has worked for 
SOCS5(1.0r11-3) proxy without the password authentication.
How about your /etc/socs5.conf setting? Has the port 22 been forwared?

I am using this on Windows. Everything is on Windows, including the socks 
server (freeproxy, in this case).

My teammate also uses Windows, but I'm not sure about the OS on his socks 
server. I can provide access to my socks server, if that helps.
(In reply to comment #10)
&gt; I am using this on Windows. Everything is on Windows, including the socks 
&gt; server (freeproxy, in this case).
&gt; My teammate also uses Windows, but I'm not sure about the OS on his socks 
&gt; server. I can provide access to my socks server, if that helps.

You are only talking about your success of IRC(TCP port 6667), 
but has TCP port 22 been really allowed to be forward?

Awaiting response to previous comment. Please reopen with the requested information.
Our usual practice is to move bugs to the RESOLVED REMIND state when there is not enough information provided to address the reported issue and more information has been requested. This bug has been in the RESOLVED REMIND state for quite some time so it is being CLOSED. If you can provide the requested information or you otherwise feel that this is still an issue, please reopen the bug. If you are unable to open it due to a lack or permissions, please add a comment to the bug stating that you would like to have the request reconsidered.  I applogize for this blanket approach to bug screening but there are just to many bugs in the REMIND state for us to effectively triage them. Your help in this matter is appreciated.
[REMIND-&gt;INVALID] The "REMIND" bugzilla resolution is being removed so reopening
to mark as INVALID.
INVALID.
Closing.</WithStack>
    <WithOutStack>I have set up a socks server on my local machine, and configured Eclipse to 
use it. It fails with an exception suggesting it cannot connect.

I tested the setup by using the socks server to connect mIRC to an IRC server, 
and that worked just fine. Furthermore, I used my firewall to monitor network 
connections, and make sure that mIRC was going through the firewall. So I'm 
positive the setup is ok.

I'm sure the bug is reproducible on any Windows XP. I did that experiment 
because a person on my team complained they use SOCKS to connect to our cvs 
server.
So I assume you mean using the 'extssh' connection method? What build are you
using, and what are the configuration parameters you are using for your SOCKS
connection.
Whoops... I am so sorry... I forgot to mention this.

Build: RC3
Configuration:
Team &gt; CVS &gt; SSH2 Connection Method &gt; Proxy
Enable proxy conn
Proxy type: SOCKS5 (also tried HTTP, but I'm not very sure it also fails there)
Host address: my computer (costan.mit.edu)
Host port: 1080

Enable proxy authentification
User, password

I'm having Windows XP SP1a.
Yes, the connection type is extssh.

(the server is cvs.sf.net, in case that helps).

I can connect to the server without using Socks connectivity.
Yamanaka, can you help me with this one. I personally haven't tried the SOCKS
support yet. Thanks.
Hi,

I'm author of that sutff.
Frankly to say, password authentication for SOCKS5 proxy
has not been tested well.  Can you reconfig your SOCKS5 without
password authentication for testing?
Tested without authentication. Again, used mIRC for confirmation. mIRC works, 
Eclipse fails. Proxy logs suggest that Eclipse isn't even attempting to 
connect. Hope this helps.

Error message:

"
Error fetching resource list from repository.
Reason:
 Authentication error: com.jcraft.jsch.JschException: ProxySOCKS5:
com.jcraft.jsch.JSchException: fail in SOCKS5 proxy
"
(copied by hand from dialog window... does not show up in error log)
Thank you for testing.

Now, it is AM2:00 and this is from home.
Tomorrow, if I get a chance, I'll try to find the reason at 
my office, where SOCS5 server is running.

I downloaded SysInternal's TDImon. According to that tool, Eclipse is 
connecting to the proxy, and sends some data. Pasting operations log below:

3.96295501	javaw.exe:296	81AE0688	IRP_MJ_CREATE	TCP:0.0.0.0:0
		SUCCESS	Address Open	
3.96320136	javaw.exe:296	81AE0688	TDI_SET_EVENT_HANDLER
	TCP:0.0.0.0:2177		SUCCESS	Error Event	
3.96321790	javaw.exe:296	81AE0688	TDI_SET_EVENT_HANDLER
	TCP:0.0.0.0:2177		SUCCESS	Disconnect Event	
3.96322749	javaw.exe:296	81AE0688	TDI_SET_EVENT_HANDLER
	TCP:0.0.0.0:2177		SUCCESS	Receive Event	
3.96323682	javaw.exe:296	81AE0688	TDI_SET_EVENT_HANDLER
	TCP:0.0.0.0:2177		SUCCESS	Expedited Receive Event	
3.96324597	javaw.exe:296	81AE0688	TDI_SET_EVENT_HANDLER
	TCP:0.0.0.0:2177		SUCCESS	Chained Receive Event	
3.96325463	javaw.exe:296	81AE0688	TDI_QUERY_INFORMATION
	TCP:0.0.0.0:2177		SUCCESS	Query Address	
3.96328128	javaw.exe:296	81AE0688	TDI_QUERY_INFORMATION
	TCP:0.0.0.0:2177		SUCCESS	Query Address	
3.96343770	javaw.exe:296	82214810	IRP_MJ_CREATE	TCP:Connection 
obj		SUCCESS	Context:0x81A92550	
3.96346311	javaw.exe:296	82214810	TDI_ASSOCIATE_ADDRESS
	TCP:Connection obj		SUCCESS	TCP:0.0.0.0:2177	
3.96349071	javaw.exe:296	82214810	TDI_CONNECT
	TCP:0.0.0.0:2177	127.0.0.1:9999	SUCCESS		
3.96397910	FreeProxy.exe:34	8232F028	IRP_MJ_CREATE
	TCP:Connection obj		SUCCESS	Context:0x81A9EA30	
3.96404574	FreeProxy.exe:34	8232F028	TDI_ASSOCIATE_ADDRESS
	TCP:Connection obj		SUCCESS	TCP:0.0.0.0:9999	
3.96415338	FreeProxy.exe:34	819592A8	IRP_MJ_DEVICE_CONTROL
	TCP:&lt;none&gt;		SUCCESS	IOCTL_TCP_SET_INFORMATION_EX	
3.96569974	javaw.exe:296	82214810	IRP_MJ_DEVICE_CONTROL
	TCP:0.0.0.0:2177	127.0.0.1:9999	SUCCESS
	IOCTL_TCP_SET_INFORMATION_EX	
3.96580649	javaw.exe:296	82214810	TDI_SEND
	TCP:0.0.0.0:2177	127.0.0.1:9999	SUCCESS	Length:4 	
3.96603994	FreeProxy.exe:34	819592A8	TDI_SEND
	TCP:127.0.0.1:9999		SUCCESS-215	Length:2 	
3.96613196	javaw.exe:296	81AE0688	TDI_EVENT_RECEIVE
	TCP:0.0.0.0:2177	127.0.0.1:9999	SUCCESS	Length:2 Flags: 
ENTIRE_MESSAGE LOOKAHEAD DISPATCH 	
3.96627028	javaw.exe:296	82214810	TDI_DISCONNECT
	TCP:0.0.0.0:2177	127.0.0.1:9999	SUCCESS	RELEASE	
3.96965995	FreeProxy.exe:34	818E0B20	TDI_EVENT_DISCONNECT
	TCP:0.0.0.0:9999	???	SUCCESS	RELEASE 	

I tried Eclipse 3.0RC2 and I have confirmed it has worked for 
SOCS5(1.0r11-3) proxy without the password authentication.
How about your /etc/socs5.conf setting? Has the port 22 been forwared?

I am using this on Windows. Everything is on Windows, including the socks 
server (freeproxy, in this case).

My teammate also uses Windows, but I'm not sure about the OS on his socks 
server. I can provide access to my socks server, if that helps.
(In reply to comment #10)
&gt; I am using this on Windows. Everything is on Windows, including the socks 
&gt; server (freeproxy, in this case).
&gt; My teammate also uses Windows, but I'm not sure about the OS on his socks 
&gt; server. I can provide access to my socks server, if that helps.

You are only talking about your success of IRC(TCP port 6667), 
but has TCP port 22 been really allowed to be forward?

Awaiting response to previous comment. Please reopen with the requested information.
Our usual practice is to move bugs to the RESOLVED REMIND state when there is not enough information provided to address the reported issue and more information has been requested. This bug has been in the RESOLVED REMIND state for quite some time so it is being CLOSED. If you can provide the requested information or you otherwise feel that this is still an issue, please reopen the bug. If you are unable to open it due to a lack or permissions, please add a comment to the bug stating that you would like to have the request reconsidered.  I applogize for this blanket approach to bug screening but there are just to many bugs in the REMIND state for us to effectively triage them. Your help in this matter is appreciated.
[REMIND-&gt;INVALID] The "REMIND" bugzilla resolution is being removed so reopening
to mark as INVALID.
INVALID.
Closing.</WithOutStack>
  </Bug>
  <Bug>
    <BugId amount="67954" />
    <CreationDate amount="2004-06-20 20:24:00 -0400" />
    <DupId amount="" />
    <classification amount="Eclipse" />
    <Product amount="Platform" />
    <component amount="CVS" />
    <Version amount="3.0" />
    <rep_platform amount="PC" />
    <op_sys amount="Windows 2000" />
    <priority amount="P5" />
    <bug_severity amount="major" />
    <Summery>[Change Sets] "Commit Sets" does not work on cvs.dev.java.net</Summery>
    <Patches amount="0" />
    <Stacktraces amount="0" />
    <SourceCodeRegions amount="0" />
    <Enumerations amount="0" />
    <bug_status amount="RESOLVED" />
    <resolution amount="NOT_ECLIPSE" />
    <WithStack>"Commit Sets" does not work on cvs.dev.java.net the largest Java community site
(e.g. jogl project).
All of the changes appears as a plain list in the root folder. However if I
double click on the changed file I can see the difference and linked CVS history
view shows the author and comment details for given change.
It may be the case that this is the largest Java community site but they are 
running a customized CVS server. I found this is my log when I connected to 
the site:

Host 'cvs.dev.java.net' is running 'Concurrent Versions System (scast-vc-
1.5.2) (CVS) 1.11.1p1 (client/server)' which is an unknown version to the 
workbench. Although most functionality may work, use version 1.11.1p1 or later 
for full support.

The trace for the rlog command used to fetch the commit comments yields the 
following:

rlog
E lock.c:222: failed assertion `strncmp (repository, current_parsed_root-
&gt;directory, strlen (current_parsed_root-&gt;directory)) == 0'
E cvs [rlog aborted]: received abort signal
E cvs [rlog aborted]: received abort signal
E lock.c:222: failed assertion `strncmp (repository, current_parsed_root-
&gt;directory, strlen (current_parsed_root-&gt;directory)) == 0'
error

It look like the customization they are running has broken the rlog command.
I still don't get it. Information presented in commit sets is seems no different
then information in CVS history.
Note on bug maintenance: The severity is set by the reporter and the priority 
is set by the development team.

As to your last question, the Commit set uses rlog while the Resource History 
uses log. It appears that the customization used by cvs.dev.java.net has a bug 
(or feature) that prevents the rlog command from working, at least for the 
parameters that are being used to populate the Commit Set. 

Not much we can do on our end except improve the error handling. We should be 
showing the user that an error occurred. Actualy getting Commit Sets to work 
with cvs.dev.java.net will require a fix on their end. We won't be pursuing 
this until 3.0 is out the door. However, feel free to contact the maintainers 
of cvs.dev.java.net yourself if you want to see this issue resolved sooner.
What was the reason to use rlog for commit sets?
By the way, it is difficult to reproduce, but I saw incorrect rendering of the
commit sets for the projects that are using branches...
We use rlog because it gave us the information we needed (i.e. some of the 
changes may be incoming additions).
I see the similar problem for :pserver:anoncvs@cvs.apache.org:/home/cvspublic
module maven-components.
Maybe we could implement the remote log using the log instead of rlog. The
problem with log is that it assumes a sandbox, which we don't always have when
files are only on the server and not updated yet. We may be able to workaround
this though.
In any case it is not really good idea to drop all not recognized changes into
the root of the commitset tree. I believe that at least some information could
be retrieved and showed to the user (e.g. date, user who did the commit and also
comment for commit), it will allow to sort by user and by date.

Another possibility is to use rlog and switch into the log if it does not work.
Not for 3.1
Michael, I still see this happening on java.net. Since it became a primary repository hosting for many JEE projects it is became more critical now.

Can you please enlighten me on rlog issue again? What is there and what is supposed to look like, so I can raise this with java.net and CollabNet folks. Thanks.
The problem is that the rlog command doesn't work, at least with the paramters that the Eclipse CVS client is providing. If you want to see what the exact parameters are during the failure, here is a link that describes how to get the complete client/server communications trace.

http://dev.eclipse.org/viewcvs/index.cgi/%7Echeckout%7E/platform-vcm-home/docs/online/cvs_features2.0/cvs-faq.html#misc_0
Micheal, I opened a ticket on java.net support and CollabNet folks said that they will fix it in 2007. https://java-net.dev.java.net/issues/show_bug.cgi?id=240

So, I wonder if in a mean time Eclipse can workaround it? E.g. try log command if rlog fail (then leave new files under "unknown changes").
This is not a high priority for us but you are free to implement a workaround in Eclipse and attach it as a patch. 
There is currently no plan to address this item.
I got an update from CollabNet support team. See https://java-net.dev.java.net/issues/show_bug.cgi?id=240

Apparently rlog command is working when using /shared/data/ccvs/repository path (for java.net portal). However their rlog does not recognize -S option. So, I see the following error now. I wonder if Eclipse CVS client can live without -S or have an option to disable this flag.

----
Valid-responses ok error M E Checked-in Valid-requests Template Set-sticky MT Clear-static-directory Module-expansion Set-static-directory Clear-sticky New-entry Merged Removed Updated Remove-entry Update-existing Copy-file Created Notified Mod-time
valid-requests
Valid-requests Root Valid-responses valid-requests Repository Directory Max-dotdot Static-directory Sticky Checkin-prog Update-prog Entry Kopt Checkin-time Modified Is-modified UseUnchanged Unchanged Notify Questionable Case Argument Argumentx Global_option Gzip-stream wrapper-sendme-rcsOptions Set expand-modules ci co update diff log rlog add remove update-patches gzip-file-contents status rdiff tag rtag import admin export history release watch-on watch-off watch-add watch-remove watchers editors init annotate rannotate noop version
ok
Root /shared/data/ccvs/repository
CMD&gt; cvs version
version
M Concurrent Versions System (scast-vc-1.5.6) (CVS) 1.11.1p1 (client/server)
ok
RESULT&gt; Status INFO: org.eclipse.team.cvs.core code=1 The following warnings were reported while performing the "cvs version" command. null children=[Status INFO: org.eclipse.team.cvs.core code=-22 Host 'cvs.dev.java.net' is running 'Concurrent Versions System (scast-vc-1.5.6) (CVS) 1.11.1p1 (client/server)' which is an unknown version to the workbench. Although most functionality may work, use version 1.11.1p1 or later for full support. null]
CMD&gt; cvs rlog -N -S "/springmodules/sandbox/xt/build.xml"
Argument -N
Argument -S
Argument springmodules/sandbox/xt/build.xml
rlog
E cvs server: invalid option -- S
E Usage: cvs rlog [-lRhtNb] [-r[revisions]] [-d dates] [-s states]
E     [-w[logins]] [files...]
E       -l      Local directory only, no recursion.
E       -R      Only print name of RCS file.
E       -h      Only print header.
E       -t      Only print header and descriptive text.
E       -N      Do not list tags.
E       -b      Only list revisions on the default branch.
E       -r[revisions]   Specify revision(s)s to list.
E          rev1:rev2   Between rev1 and rev2, including rev1 and rev2.
E          rev1::rev2  Between rev1 and rev2, excluding rev1 and rev2.
E          rev:        rev and following revisions on the same branch.
E          rev::       After rev on the same branch.
E          :rev        rev and previous revisions on the same branch.
E          ::rev       Before rev on the same branch.
E          rev         Just rev.
E          branch      All revisions on the branch.
E          branch.     The last revision on the branch.
E       -d dates        Specify dates (D1&lt;D2 for range, D for latest before).
E       -s states       Only list revisions with specified states.
E       -w[logins]      Only list revisions checked in by specified logins.
E (Specify the --help global option for a list of other help options)
error
RESULT&gt; Status ERROR: org.eclipse.team.cvs.core code=-10 The server reported an error while performing the "cvs rlog" command. null children
=[Status ERROR: org.eclipse.team.cvs.core code=-10 The server did not provide any additional information. null]
This issue is decribed in bug 81960. Given that users of CVS have been advised to move to the latest 1.11.x versions due to some security holes that were found in previous versions, there is little incentive to invest manpower in fixing this. However, it wouldn't be much work to patch out the use of -S in the rlog command.   I don't remember the specifics as to why we needed it but there was a reason. However, it may have been a corner case so it may be worth it for you to patch the CVS core plugin and try it out to see what results you get.
(In reply to comment #17)
&gt; This issue is decribed in bug 81960. Given that users of CVS have been advised
&gt; to move to the latest 1.11.x versions due to some security holes that were
&gt; found in previous versions, there is little incentive to invest manpower in
&gt; fixing this. However, it wouldn't be much work to patch out the use of -S in
&gt; the rlog command.   I don't remember the specifics as to why we needed it but
&gt; there was a reason. However, it may have been a corner case so it may be worth
&gt; it for you to patch the CVS core plugin and try it out to see what results you
&gt; get.

Michael, can you please give me a hint where this switch set in the code? Thanks in advance.
The RemoteLogOperation in the org.eclipse.team.cvs.ui plugin has a getLocalOptions method that includes -S (RLog.ONLY_INCLUDE_CHANGES).
(In reply to comment #13)
&gt; Micheal, I opened a ticket on java.net support and CollabNet folks said that
&gt; they will fix it in 2007.
&gt; https://java-net.dev.java.net/issues/show_bug.cgi?id=240

Eugene, the issue you referenced has been fixed. Could we close this bug?
(In reply to comment #20)
&gt; Eugene, the issue you referenced has been fixed. Could we close this bug?

Sure. Thanks. 


Closing as NOT_ECLIPSE.</WithStack>
    <WithOutStack>"Commit Sets" does not work on cvs.dev.java.net the largest Java community site
(e.g. jogl project).
All of the changes appears as a plain list in the root folder. However if I
double click on the changed file I can see the difference and linked CVS history
view shows the author and comment details for given change.
It may be the case that this is the largest Java community site but they are 
running a customized CVS server. I found this is my log when I connected to 
the site:

Host 'cvs.dev.java.net' is running 'Concurrent Versions System (scast-vc-
1.5.2) (CVS) 1.11.1p1 (client/server)' which is an unknown version to the 
workbench. Although most functionality may work, use version 1.11.1p1 or later 
for full support.

The trace for the rlog command used to fetch the commit comments yields the 
following:

rlog
E lock.c:222: failed assertion `strncmp (repository, current_parsed_root-
&gt;directory, strlen (current_parsed_root-&gt;directory)) == 0'
E cvs [rlog aborted]: received abort signal
E cvs [rlog aborted]: received abort signal
E lock.c:222: failed assertion `strncmp (repository, current_parsed_root-
&gt;directory, strlen (current_parsed_root-&gt;directory)) == 0'
error

It look like the customization they are running has broken the rlog command.
I still don't get it. Information presented in commit sets is seems no different
then information in CVS history.
Note on bug maintenance: The severity is set by the reporter and the priority 
is set by the development team.

As to your last question, the Commit set uses rlog while the Resource History 
uses log. It appears that the customization used by cvs.dev.java.net has a bug 
(or feature) that prevents the rlog command from working, at least for the 
parameters that are being used to populate the Commit Set. 

Not much we can do on our end except improve the error handling. We should be 
showing the user that an error occurred. Actualy getting Commit Sets to work 
with cvs.dev.java.net will require a fix on their end. We won't be pursuing 
this until 3.0 is out the door. However, feel free to contact the maintainers 
of cvs.dev.java.net yourself if you want to see this issue resolved sooner.
What was the reason to use rlog for commit sets?
By the way, it is difficult to reproduce, but I saw incorrect rendering of the
commit sets for the projects that are using branches...
We use rlog because it gave us the information we needed (i.e. some of the 
changes may be incoming additions).
I see the similar problem for :pserver:anoncvs@cvs.apache.org:/home/cvspublic
module maven-components.
Maybe we could implement the remote log using the log instead of rlog. The
problem with log is that it assumes a sandbox, which we don't always have when
files are only on the server and not updated yet. We may be able to workaround
this though.
In any case it is not really good idea to drop all not recognized changes into
the root of the commitset tree. I believe that at least some information could
be retrieved and showed to the user (e.g. date, user who did the commit and also
comment for commit), it will allow to sort by user and by date.

Another possibility is to use rlog and switch into the log if it does not work.
Not for 3.1
Michael, I still see this happening on java.net. Since it became a primary repository hosting for many JEE projects it is became more critical now.

Can you please enlighten me on rlog issue again? What is there and what is supposed to look like, so I can raise this with java.net and CollabNet folks. Thanks.
The problem is that the rlog command doesn't work, at least with the paramters that the Eclipse CVS client is providing. If you want to see what the exact parameters are during the failure, here is a link that describes how to get the complete client/server communications trace.

http://dev.eclipse.org/viewcvs/index.cgi/%7Echeckout%7E/platform-vcm-home/docs/online/cvs_features2.0/cvs-faq.html#misc_0
Micheal, I opened a ticket on java.net support and CollabNet folks said that they will fix it in 2007. https://java-net.dev.java.net/issues/show_bug.cgi?id=240

So, I wonder if in a mean time Eclipse can workaround it? E.g. try log command if rlog fail (then leave new files under "unknown changes").
This is not a high priority for us but you are free to implement a workaround in Eclipse and attach it as a patch. 
There is currently no plan to address this item.
I got an update from CollabNet support team. See https://java-net.dev.java.net/issues/show_bug.cgi?id=240

Apparently rlog command is working when using /shared/data/ccvs/repository path (for java.net portal). However their rlog does not recognize -S option. So, I see the following error now. I wonder if Eclipse CVS client can live without -S or have an option to disable this flag.

----
Valid-responses ok error M E Checked-in Valid-requests Template Set-sticky MT Clear-static-directory Module-expansion Set-static-directory Clear-sticky New-entry Merged Removed Updated Remove-entry Update-existing Copy-file Created Notified Mod-time
valid-requests
Valid-requests Root Valid-responses valid-requests Repository Directory Max-dotdot Static-directory Sticky Checkin-prog Update-prog Entry Kopt Checkin-time Modified Is-modified UseUnchanged Unchanged Notify Questionable Case Argument Argumentx Global_option Gzip-stream wrapper-sendme-rcsOptions Set expand-modules ci co update diff log rlog add remove update-patches gzip-file-contents status rdiff tag rtag import admin export history release watch-on watch-off watch-add watch-remove watchers editors init annotate rannotate noop version
ok
Root /shared/data/ccvs/repository
CMD&gt; cvs version
version
M Concurrent Versions System (scast-vc-1.5.6) (CVS) 1.11.1p1 (client/server)
ok
RESULT&gt; Status INFO: org.eclipse.team.cvs.core code=1 The following warnings were reported while performing the "cvs version" command. null children=[Status INFO: org.eclipse.team.cvs.core code=-22 Host 'cvs.dev.java.net' is running 'Concurrent Versions System (scast-vc-1.5.6) (CVS) 1.11.1p1 (client/server)' which is an unknown version to the workbench. Although most functionality may work, use version 1.11.1p1 or later for full support. null]
CMD&gt; cvs rlog -N -S "/springmodules/sandbox/xt/build.xml"
Argument -N
Argument -S
Argument springmodules/sandbox/xt/build.xml
rlog
E cvs server: invalid option -- S
E Usage: cvs rlog [-lRhtNb] [-r[revisions]] [-d dates] [-s states]
E     [-w[logins]] [files...]
E       -l      Local directory only, no recursion.
E       -R      Only print name of RCS file.
E       -h      Only print header.
E       -t      Only print header and descriptive text.
E       -N      Do not list tags.
E       -b      Only list revisions on the default branch.
E       -r[revisions]   Specify revision(s)s to list.
E          rev1:rev2   Between rev1 and rev2, including rev1 and rev2.
E          rev1::rev2  Between rev1 and rev2, excluding rev1 and rev2.
E          rev:        rev and following revisions on the same branch.
E          rev::       After rev on the same branch.
E          :rev        rev and previous revisions on the same branch.
E          ::rev       Before rev on the same branch.
E          rev         Just rev.
E          branch      All revisions on the branch.
E          branch.     The last revision on the branch.
E       -d dates        Specify dates (D1&lt;D2 for range, D for latest before).
E       -s states       Only list revisions with specified states.
E       -w[logins]      Only list revisions checked in by specified logins.
E (Specify the --help global option for a list of other help options)
error
RESULT&gt; Status ERROR: org.eclipse.team.cvs.core code=-10 The server reported an error while performing the "cvs rlog" command. null children
=[Status ERROR: org.eclipse.team.cvs.core code=-10 The server did not provide any additional information. null]
This issue is decribed in bug 81960. Given that users of CVS have been advised to move to the latest 1.11.x versions due to some security holes that were found in previous versions, there is little incentive to invest manpower in fixing this. However, it wouldn't be much work to patch out the use of -S in the rlog command.   I don't remember the specifics as to why we needed it but there was a reason. However, it may have been a corner case so it may be worth it for you to patch the CVS core plugin and try it out to see what results you get.
(In reply to comment #17)
&gt; This issue is decribed in bug 81960. Given that users of CVS have been advised
&gt; to move to the latest 1.11.x versions due to some security holes that were
&gt; found in previous versions, there is little incentive to invest manpower in
&gt; fixing this. However, it wouldn't be much work to patch out the use of -S in
&gt; the rlog command.   I don't remember the specifics as to why we needed it but
&gt; there was a reason. However, it may have been a corner case so it may be worth
&gt; it for you to patch the CVS core plugin and try it out to see what results you
&gt; get.

Michael, can you please give me a hint where this switch set in the code? Thanks in advance.
The RemoteLogOperation in the org.eclipse.team.cvs.ui plugin has a getLocalOptions method that includes -S (RLog.ONLY_INCLUDE_CHANGES).
(In reply to comment #13)
&gt; Micheal, I opened a ticket on java.net support and CollabNet folks said that
&gt; they will fix it in 2007.
&gt; https://java-net.dev.java.net/issues/show_bug.cgi?id=240

Eugene, the issue you referenced has been fixed. Could we close this bug?
(In reply to comment #20)
&gt; Eugene, the issue you referenced has been fixed. Could we close this bug?

Sure. Thanks. 


Closing as NOT_ECLIPSE.</WithOutStack>
  </Bug>
  <Bug>
    <BugId amount="67955" />
    <CreationDate amount="2004-06-20 21:06:00 -0400" />
    <DupId amount="56996" />
    <classification amount="Eclipse" />
    <Product amount="Platform" />
    <component amount="SWT" />
    <Version amount="3.0" />
    <rep_platform amount="PC" />
    <op_sys amount="Linux-GTK" />
    <priority amount="P3" />
    <bug_severity amount="blocker" />
    <Summery>TableTreeItem not Indenting on Linux / OS X</Summery>
    <Patches amount="0" />
    <Stacktraces amount="0" />
    <SourceCodeRegions amount="1">
      <source_code type="functiondef">
        <location start="363" end="762" />
        <code>private void resizeChildItems(TableTreeItem parent,int size) {
		TableTreeItem[] items = parent.getItems();
		if (items.length &lt; size) {
			for (int i=items.length; i &lt; size; i++) {
				TableTreeItem item = new TableTreeItem
(parent,SWT.NULL);
			}
		} else if (items.length &gt; size) {
			for (int i=items.length-1; i &gt;= size; i--) {
				TableTreeItem item = items[i];
				item.dispose();
			}
		}
	}</code>
      </source_code>
    </SourceCodeRegions>
    <Enumerations amount="0" />
    <bug_status amount="RESOLVED" />
    <resolution amount="DUPLICATE" />
    <WithStack>If you create TableTreeItems that are children of TableTreeItems, they are 
properly indented on Windows.  On Linux and OS X Carbon, all items are 
displayed without indentation.

This problem has existed for some time and still exists in RC2.

This is a blocker bug because TableTree's do not properly work and are unsable 
otherwise.

Here is some sample code:
private void resizeChildItems(TableTreeItem parent,int size) {
		TableTreeItem[] items = parent.getItems();
		if (items.length &lt; size) {
			for (int i=items.length; i &lt; size; i++) {
				TableTreeItem item = new TableTreeItem
(parent,SWT.NULL);
			}
		} else if (items.length &gt; size) {
			for (int i=items.length-1; i &gt;= size; i--) {
				TableTreeItem item = items[i];
				item.dispose();
			}
		}
	}

If you set text on column 0 (item.setText(0,label), you will see the 
indentation problem.
This is a duplicate of bug 56996.


*** This bug has been marked as a duplicate of 56996 ***</WithStack>
    <WithOutStack>If you create TableTreeItems that are children of TableTreeItems, they are 
properly indented on Windows.  On Linux and OS X Carbon, all items are 
displayed without indentation.

This problem has existed for some time and still exists in RC2.

This is a blocker bug because TableTree's do not properly work and are unsable 
otherwise.

Here is some sample code:
private void resizeChildItems(TableTreeItem parent,int size) {
		TableTreeItem[] items = parent.getItems();
		if (items.length &lt; size) {
			for (int i=items.length; i &lt; size; i++) {
				TableTreeItem item = new TableTreeItem
(parent,SWT.NULL);
			}
		} else if (items.length &gt; size) {
			for (int i=items.length-1; i &gt;= size; i--) {
				TableTreeItem item = items[i];
				item.dispose();
			}
		}
	}

If you set text on column 0 (item.setText(0,label), you will see the 
indentation problem.
This is a duplicate of bug 56996.


*** This bug has been marked as a duplicate of 56996 ***</WithOutStack>
  </Bug>
  <Bug>
    <BugId amount="67956" />
    <CreationDate amount="2004-06-20 22:25:00 -0400" />
    <DupId amount="67716" />
    <classification amount="Eclipse" />
    <Product amount="Platform" />
    <component amount="UI" />
    <Version amount="3.0" />
    <rep_platform amount="PC" />
    <op_sys amount="Windows XP" />
    <priority amount="P3" />
    <bug_severity amount="normal" />
    <Summery>Task and Problems views go empty when you filter by "Any resource in the same project"</Summery>
    <Patches amount="0" />
    <Stacktraces amount="0" />
    <SourceCodeRegions amount="0" />
    <Enumerations amount="0" />
    <bug_status amount="RESOLVED" />
    <resolution amount="DUPLICATE" />
    <WithStack>Process is set filter, select a project resource or open a file from the 
project in an editor.  At this point tasks show as expected (say 50 of 57).  
When you click on the tasks view header to sort by column all markers 
disappear.  they can only be recalled by selecting a resource/editor again.

See the same in RC2 and RC3.
Does not seem to matter what the filter option is (same project, single 
resource...).
Almost as if the workbench selection change listener is resetting the viewer 
input when the selection becomes anything but a resource (viewer object, 
editor input) when it should in fact be sticky. The selection of a given task 
or problem does not cause the input to reset.

Also goes empty upon return from Tasks/Problems view filter dialog in both RC2 
and RC3.

Tasks view is full of TODO and other Java task tags, include a custom task tag 
added using the preferences page. Problems view is full of deprecations :-).

Either way they all disappear until I do something to tickle them back into 
the input.

The end result is baffling, you know you have markers to see, they were just 
there, but now they are gone. Removes the key function of being able to keep 
the list focused on your active work.  I almost marked as major, your call 
overall, but I'd hate to see 3.0 with this fundamental problem.


*** This bug has been marked as a duplicate of 67716 ***</WithStack>
    <WithOutStack>Process is set filter, select a project resource or open a file from the 
project in an editor.  At this point tasks show as expected (say 50 of 57).  
When you click on the tasks view header to sort by column all markers 
disappear.  they can only be recalled by selecting a resource/editor again.

See the same in RC2 and RC3.
Does not seem to matter what the filter option is (same project, single 
resource...).
Almost as if the workbench selection change listener is resetting the viewer 
input when the selection becomes anything but a resource (viewer object, 
editor input) when it should in fact be sticky. The selection of a given task 
or problem does not cause the input to reset.

Also goes empty upon return from Tasks/Problems view filter dialog in both RC2 
and RC3.

Tasks view is full of TODO and other Java task tags, include a custom task tag 
added using the preferences page. Problems view is full of deprecations :-).

Either way they all disappear until I do something to tickle them back into 
the input.

The end result is baffling, you know you have markers to see, they were just 
there, but now they are gone. Removes the key function of being able to keep 
the list focused on your active work.  I almost marked as major, your call 
overall, but I'd hate to see 3.0 with this fundamental problem.


*** This bug has been marked as a duplicate of 67716 ***</WithOutStack>
  </Bug>
  <Bug>
    <BugId amount="67957" />
    <CreationDate amount="2004-06-21 00:20:00 -0400" />
    <DupId amount="" />
    <classification amount="Eclipse Foundation" />
    <Product amount="z_Archived" />
    <component amount="Hyades" />
    <Version amount="unspecified" />
    <rep_platform amount="PC" />
    <op_sys amount="Windows XP" />
    <priority amount="P2" />
    <bug_severity amount="major" />
    <Summery>Datapool Editor: Usibility issues raised by consumers of Datapool Editor and by usbility studies.</Summery>
    <Patches amount="0" />
    <Stacktraces amount="0" />
    <SourceCodeRegions amount="0" />
    <Enumerations amount="3">
      <Enumeration lines="6">
        <Lines>
          <Line>1.Select a cell, edit cell value,move to the next cell(use right arrow),from</Line>
          <Line>here on we can't navigate further using keyboard</Line>
          <Line>2.Navigate through the Datapool cells using no mouse.Select a cell press enter</Line>
          <Line>at this point the cell is in edit mode, using right or left arrow keys shifts</Line>
          <Line>the focus to a different cell rather than being able to move with in the cell.</Line>
          <Line>(This one is the same behavior as in Windows)</Line>
        </Lines>
      </Enumeration>
      <Enumeration lines="5">
        <Lines>
          <Line>1.Create a Datapool,add some variables</Line>
          <Line>2.Click on a Variable Header, in the resulting dialog change the name of</Line>
          <Line>varible and click 'ok'.</Line>
          <Line>3.Variable name is not updated to the Editor. But if the editor is closed and</Line>
          <Line>re-opened it gets updated.</Line>
        </Lines>
      </Enumeration>
      <Enumeration lines="6">
        <Lines>
          <Line>1) Create datapool, open it.</Line>
          <Line>2) In grid area, right-click and select "Add Record". Add Record dialog</Line>
          <Line>appears.</Line>
          <Line>RESULT: This is a very small dialog that consists of only 2 radio buttons and</Line>
          <Line>associated lables. The second radio button and lable text are clipped in half.</Line>
          <Line>NOTE: OK on Windows.</Line>
        </Lines>
      </Enumeration>
    </Enumerations>
    <bug_status amount="CLOSED" />
    <resolution amount="FIXED" />
    <WithStack>Several usability defects affect the usability of the Datapool Editor. While no 
defect by itself is significant.  They issues combined makes the experience 
less than ideal.
*** Bug 67091 has been marked as a duplicate of this bug. ***
*** Bug 67380 has been marked as a duplicate of this bug. ***
*** Bug 60933 has been marked as a duplicate of this bug. ***
*** Bug 58359 has been marked as a duplicate of this bug. ***
Bug 58359: Datapool Editor: Needs the ability to multi-select rows.
Bug 60933: On Win2K, can't use Delete Key, when editing a cell value in 
datapool table

There's no problem on WinXp, but happens on Win2K.

From Functional Tester Eclipes:
Open Datapool and edit a cell value, delete key is not functional only 
backspace can be used.

Bug 67091: Copy&amp;Paste a cell does not work for non-string

For example, pick a cell from datapool which is a Script.State object (in 
RFT), choose copy, then paste to another cell, nothing happens.
In the code DatapoolClipboard.java, TextTransfer is used and content is cast 
to String. I guess that may be the problem.

Bug 67380: "Edit Record" dialog still has equivalence class field 

From RFT Eclipse datapool editor, right click on a record, choose "Edit 
Record". In the dialog, there's still a field for equivalence class.

Additional defect involves the use of TAB and Enter navigation.

TAB should cause the cell to the right to be selected and Enter should cause 
the cell below the currently selected cell to be selected.
Additional defect concerns the insertion of rows on paste instead of 
overwriting.  

RFT would like rows to be inserted upon paste and not simply overwrite.  Check 
with Pleadies and come up with proper solution.  This deviates from Excel.
*** Bug 69421 has been marked as a duplicate of this bug. ***
*** Bug 69406 has been marked as a duplicate of this bug. ***
Bug 69406: RFT Datapool: Linux: Keyboard navigation problem

1.Select a cell, edit cell value,move to the next cell(use right arrow),from 
here on we can't navigate further using keyboard
2.Navigate through the Datapool cells using no mouse.Select a cell press enter 
at this point the cell is in edit mode, using right or left arrow keys shifts 
the focus to a different cell rather than being able to move with in the cell. 
(This one is the same behavior as in Windows)

*** Bug 69385 has been marked as a duplicate of this bug. ***
Bug 69385: Datapool RFT Eclipse IDE: Variable name, is not updated to the Editor

It happens on a clean RFT project.
1.Create a Datapool,add some variables 
2.Click on a Variable Header, in the resulting dialog change the name of 
varible and click 'ok'.
3.Variable name is not updated to the Editor. But if the editor is closed and
re-opened it gets updated.

*** Bug 69402 has been marked as a duplicate of this bug. ***
Bug 69402: RFT Datapools: Linux - Add Record dialog clipped

RFT Datapools: Linux (Red Hat Enterprise) - Add Record dialog clipped.

To reproduce:
1) Create datapool, open it.
2) In grid area, right-click and select "Add Record". Add Record dialog 
appears.
RESULT: This is a very small dialog that consists of only 2 radio buttons and
associated lables. The second radio button and lable text are clipped in half.
NOTE: OK on Windows.

*** Bug 69404 has been marked as a duplicate of this bug. ***
Bug 69404: RFT Datapool: Linux: Context menu items get selected automatically

To reproduce:
1.Select a cell within a Datapool
2.RightClick on the cell, which has to open ContextMenu, instead what we see is
that a particular menu item gets selected automatically, and context menu is 
not presented to the user

Fixed 67091: Copy&amp;Paste a cell does not work for non-string
Fixed 67380: "Edit Record" dialog still has equivalence class field
Fixed enter key handling (moves down a row) and arrow key navigation inside a 
cell once data has been entered.  Excel allows arrow key navigation within a 
cell if a person hits F2 or if there is already text in the field.


Fixed 69385: Datapool RFT Eclipse IDE: Variable name, is not updated to the 
Editor

Could not reproduce this one.

Unfixed defects refiled as:

Bug 70801: Datapool Editor: Linux Usability Issues 
Bug 70740: RFT datapool: Paste behavior inconsistant and has usability issues.
Bug 70802: Datapool Editor: Tab navigation does not work.  
Bug 58359: Datapool Editor: Needs the ability to multi-select rows.  
As of TPTP 4.6.0, TPTP is in maintenance mode and focusing on improving quality by resolving relevant enhancements/defects and increasing test coverage through test creation, automation, Build Verification Tests (BVTs), and expanded run-time execution. As part of the TPTP Bugzilla housecleaning process (see http://wiki.eclipse.org/Bugzilla_Housecleaning_Processes), this enhancement/defect is verified/closed by the Project Lead since this enhancement/defect has been resolved and unverified for more than 1 year and considered to be fixed. If this enhancement/defect is still unresolved and reproducible in the latest TPTP release (http://www.eclipse.org/tptp/home/downloads/), please re-open.</WithStack>
    <WithOutStack>Several usability defects affect the usability of the Datapool Editor. While no 
defect by itself is significant.  They issues combined makes the experience 
less than ideal.
*** Bug 67091 has been marked as a duplicate of this bug. ***
*** Bug 67380 has been marked as a duplicate of this bug. ***
*** Bug 60933 has been marked as a duplicate of this bug. ***
*** Bug 58359 has been marked as a duplicate of this bug. ***
Bug 58359: Datapool Editor: Needs the ability to multi-select rows.
Bug 60933: On Win2K, can't use Delete Key, when editing a cell value in 
datapool table

There's no problem on WinXp, but happens on Win2K.

From Functional Tester Eclipes:
Open Datapool and edit a cell value, delete key is not functional only 
backspace can be used.

Bug 67091: Copy&amp;Paste a cell does not work for non-string

For example, pick a cell from datapool which is a Script.State object (in 
RFT), choose copy, then paste to another cell, nothing happens.
In the code DatapoolClipboard.java, TextTransfer is used and content is cast 
to String. I guess that may be the problem.

Bug 67380: "Edit Record" dialog still has equivalence class field 

From RFT Eclipse datapool editor, right click on a record, choose "Edit 
Record". In the dialog, there's still a field for equivalence class.

Additional defect involves the use of TAB and Enter navigation.

TAB should cause the cell to the right to be selected and Enter should cause 
the cell below the currently selected cell to be selected.
Additional defect concerns the insertion of rows on paste instead of 
overwriting.  

RFT would like rows to be inserted upon paste and not simply overwrite.  Check 
with Pleadies and come up with proper solution.  This deviates from Excel.
*** Bug 69421 has been marked as a duplicate of this bug. ***
*** Bug 69406 has been marked as a duplicate of this bug. ***
Bug 69406: RFT Datapool: Linux: Keyboard navigation problem

1.Select a cell, edit cell value,move to the next cell(use right arrow),from 
here on we can't navigate further using keyboard
2.Navigate through the Datapool cells using no mouse.Select a cell press enter 
at this point the cell is in edit mode, using right or left arrow keys shifts 
the focus to a different cell rather than being able to move with in the cell. 
(This one is the same behavior as in Windows)

*** Bug 69385 has been marked as a duplicate of this bug. ***
Bug 69385: Datapool RFT Eclipse IDE: Variable name, is not updated to the Editor

It happens on a clean RFT project.
1.Create a Datapool,add some variables 
2.Click on a Variable Header, in the resulting dialog change the name of 
varible and click 'ok'.
3.Variable name is not updated to the Editor. But if the editor is closed and
re-opened it gets updated.

*** Bug 69402 has been marked as a duplicate of this bug. ***
Bug 69402: RFT Datapools: Linux - Add Record dialog clipped

RFT Datapools: Linux (Red Hat Enterprise) - Add Record dialog clipped.

To reproduce:
1) Create datapool, open it.
2) In grid area, right-click and select "Add Record". Add Record dialog 
appears.
RESULT: This is a very small dialog that consists of only 2 radio buttons and
associated lables. The second radio button and lable text are clipped in half.
NOTE: OK on Windows.

*** Bug 69404 has been marked as a duplicate of this bug. ***
Bug 69404: RFT Datapool: Linux: Context menu items get selected automatically

To reproduce:
1.Select a cell within a Datapool
2.RightClick on the cell, which has to open ContextMenu, instead what we see is
that a particular menu item gets selected automatically, and context menu is 
not presented to the user

Fixed 67091: Copy&amp;Paste a cell does not work for non-string
Fixed 67380: "Edit Record" dialog still has equivalence class field
Fixed enter key handling (moves down a row) and arrow key navigation inside a 
cell once data has been entered.  Excel allows arrow key navigation within a 
cell if a person hits F2 or if there is already text in the field.


Fixed 69385: Datapool RFT Eclipse IDE: Variable name, is not updated to the 
Editor

Could not reproduce this one.

Unfixed defects refiled as:

Bug 70801: Datapool Editor: Linux Usability Issues 
Bug 70740: RFT datapool: Paste behavior inconsistant and has usability issues.
Bug 70802: Datapool Editor: Tab navigation does not work.  
Bug 58359: Datapool Editor: Needs the ability to multi-select rows.  
As of TPTP 4.6.0, TPTP is in maintenance mode and focusing on improving quality by resolving relevant enhancements/defects and increasing test coverage through test creation, automation, Build Verification Tests (BVTs), and expanded run-time execution. As part of the TPTP Bugzilla housecleaning process (see http://wiki.eclipse.org/Bugzilla_Housecleaning_Processes), this enhancement/defect is verified/closed by the Project Lead since this enhancement/defect has been resolved and unverified for more than 1 year and considered to be fixed. If this enhancement/defect is still unresolved and reproducible in the latest TPTP release (http://www.eclipse.org/tptp/home/downloads/), please re-open.</WithOutStack>
  </Bug>
  <Bug>
    <BugId amount="67958" />
    <CreationDate amount="2004-06-21 01:46:00 -0400" />
    <DupId amount="" />
    <classification amount="Eclipse" />
    <Product amount="Platform" />
    <component amount="UI" />
    <Version amount="3.0" />
    <rep_platform amount="PC" />
    <op_sys amount="Windows XP" />
    <priority amount="P3" />
    <bug_severity amount="normal" />
    <Summery>[ViewMgmt] Wrapped view toolbar is dead to mouse clicks</Summery>
    <Patches amount="0" />
    <Stacktraces amount="0" />
    <SourceCodeRegions amount="0" />
    <Enumerations amount="0" />
    <bug_status amount="RESOLVED" />
    <resolution amount="WORKSFORME" />
    <WithStack>When a view is sized small enough that its toolbar jumps below the tab, the area
of the toolbar that doesn't have any toolbar buttons is unresponsive to mouse
clicks (i.e. the view doesn't get focus).
This only seems to happen when the folder has a chevron.  The wrapped toolbars
are a red herring.
Created attachment 12567
Screenshot showing dead areas

This only happens to me when the view's toolbar is wrapped under the tabs.  See
the screenshot showing the dead areas (also notice there are no chevrons).  If
the view is widened so that the toolbar is on the same row as the tabs, the
problem does not occur.
OH!  I'm seeing an entirely different dead area.  It's to the right of the
chevron in the tab folder itself.
These dead areas are separate.  The one in the screenshot posted is a ViewForm
control created in PaneFolder.  The area to the right of the chevron seems to be
part of the CTabFolder.
This must have been fixed since it was reported. Could not reproduce with a recent 3.2 build.</WithStack>
    <WithOutStack>When a view is sized small enough that its toolbar jumps below the tab, the area
of the toolbar that doesn't have any toolbar buttons is unresponsive to mouse
clicks (i.e. the view doesn't get focus).
This only seems to happen when the folder has a chevron.  The wrapped toolbars
are a red herring.
Created attachment 12567
Screenshot showing dead areas

This only happens to me when the view's toolbar is wrapped under the tabs.  See
the screenshot showing the dead areas (also notice there are no chevrons).  If
the view is widened so that the toolbar is on the same row as the tabs, the
problem does not occur.
OH!  I'm seeing an entirely different dead area.  It's to the right of the
chevron in the tab folder itself.
These dead areas are separate.  The one in the screenshot posted is a ViewForm
control created in PaneFolder.  The area to the right of the chevron seems to be
part of the CTabFolder.
This must have been fixed since it was reported. Could not reproduce with a recent 3.2 build.</WithOutStack>
  </Bug>
  <Bug>
    <BugId amount="67959" />
    <CreationDate amount="2004-06-21 03:20:00 -0400" />
    <DupId amount="" />
    <classification amount="Eclipse" />
    <Product amount="Platform" />
    <component amount="Compare" />
    <Version amount="3.0" />
    <rep_platform amount="PC" />
    <op_sys amount="Windows XP" />
    <priority amount="P3" />
    <bug_severity amount="major" />
    <Summery>copying and then comparing the two identical folders will eroneously show difference</Summery>
    <Patches amount="0" />
    <Stacktraces amount="0" />
    <SourceCodeRegions amount="0" />
    <Enumerations amount="0" />
    <bug_status amount="RESOLVED" />
    <resolution amount="INVALID" />
    <WithStack>Build id: 200406192000

My workspace has a single project JUnit (variant 3.8.1). In the Navigator view 
I copy the folder runner and give it a new name runner2. Do a "Compare with 
each other" on the runner and runner2. Unexpectedly it shows me bunch of 
differences all in class files. All have this message (for instance 
BaseTestRunner.class): "First bytes differ at position 8".
This is the expected behavior: if you have autobuild on the Java compiler kicks in and compiles the new 
Java files. This fails because the package declaration is wrong (you don't see the errors because the 
Resource Navigator does not show errors). The compiler writes new (significantly shorter) *.class files 
which no longer match the original *.class files.

If you turn autobuild off, comparing the folders shows no differences.</WithStack>
    <WithOutStack>Build id: 200406192000

My workspace has a single project JUnit (variant 3.8.1). In the Navigator view 
I copy the folder runner and give it a new name runner2. Do a "Compare with 
each other" on the runner and runner2. Unexpectedly it shows me bunch of 
differences all in class files. All have this message (for instance 
BaseTestRunner.class): "First bytes differ at position 8".
This is the expected behavior: if you have autobuild on the Java compiler kicks in and compiles the new 
Java files. This fails because the package declaration is wrong (you don't see the errors because the 
Resource Navigator does not show errors). The compiler writes new (significantly shorter) *.class files 
which no longer match the original *.class files.

If you turn autobuild off, comparing the folders shows no differences.</WithOutStack>
  </Bug>
  <Bug>
    <BugId amount="67960" />
    <CreationDate amount="2004-06-21 03:26:00 -0400" />
    <DupId amount="" />
    <classification amount="Eclipse" />
    <Product amount="JDT" />
    <component amount="Text" />
    <Version amount="3.0" />
    <rep_platform amount="PC" />
    <op_sys amount="Windows XP" />
    <priority amount="P2" />
    <bug_severity amount="normal" />
    <Summery>[misc] Occurrences have same layer as Search Results</Summery>
    <Patches amount="0" />
    <Stacktraces amount="0" />
    <SourceCodeRegions amount="0" />
    <Enumerations amount="1">
      <Enumeration lines="5">
        <Lines>
          <Line>- enable Mark Occurences</Line>
          <Line>- perform a local search on a local variable with many occurences</Line>
          <Line>- step through the search results</Line>
          <Line>-&gt; hits change between Occurences and Search Result background colors</Line>
          <Line>This issues got exposed by the chances we made for RC3.</Line>
        </Lines>
      </Enumeration>
    </Enumerations>
    <bug_status amount="VERIFIED" />
    <resolution amount="FIXED" />
    <WithStack>3.0RC3

With default settings:
- enable Mark Occurences
- perform a local search on a local variable with many occurences
- step through the search results
-&gt; hits change between Occurences and Search Result background colors
This issues got exposed by the chances we made for RC3.

In order to circumvent the issue, we are moving the "occurrences" annotations 
to layer 4 which is reserved for infos. Infos, however, are currently not in 
use.
Created attachment 12631
patch for the jdt ui plugin.xml file
Approved to be released into RC4
Build I200406221600.
Verified for I20040625

Compared behavior between RC3 and I20040625.
Problem occurs in RC3 and not in I20040625</WithStack>
    <WithOutStack>3.0RC3

With default settings:
- enable Mark Occurences
- perform a local search on a local variable with many occurences
- step through the search results
-&gt; hits change between Occurences and Search Result background colors
This issues got exposed by the chances we made for RC3.

In order to circumvent the issue, we are moving the "occurrences" annotations 
to layer 4 which is reserved for infos. Infos, however, are currently not in 
use.
Created attachment 12631
patch for the jdt ui plugin.xml file
Approved to be released into RC4
Build I200406221600.
Verified for I20040625

Compared behavior between RC3 and I20040625.
Problem occurs in RC3 and not in I20040625</WithOutStack>
  </Bug>
  <Bug>
    <BugId amount="67961" />
    <CreationDate amount="2004-06-21 03:27:00 -0400" />
    <DupId amount="" />
    <classification amount="Eclipse" />
    <Product amount="JDT" />
    <component amount="Text" />
    <Version amount="3.0" />
    <rep_platform amount="PC" />
    <op_sys amount="Windows XP" />
    <priority amount="P3" />
    <bug_severity amount="minor" />
    <Summery>[navigation] Override indicators in Outline and Vertical Ruler not in sync</Summery>
    <Patches amount="0" />
    <Stacktraces amount="0" />
    <SourceCodeRegions amount="0" />
    <Enumerations amount="0" />
    <bug_status amount="ASSIGNED" />
    <resolution amount="" />
    <WithStack>Override indicators in the Outline view and the editor's Vertical Ruler are not
always in sync. As explained in bug 42639 comment 16 and following, override
indicators are currently not updated unless the affected method is edited in a
way which causes a structural change in the enclosing CU. On the other hand,
override indicators in the vertical ruler are correctly updated on reconcile.

It looks strange that the vertical ruler is always up-to-date but the outline is
not. I see that updating java model elements down the type hierarchy is
prohibitively expensive and not feasible in general (e.g. for the Package
Explorer). However, I think a least the outline should be updated when the
vertical ruler override indicator detects a change on reconcile.
As mentioned, for the override decorators it's too expensive to correctly evaluate  the elements to update (needs all subtypes). But of course we can make sure that the outline is at least correct and have the editor refresh the outline when it is brought to the front or activated. The editor seems to do that with the override indicators in the vertical ruler.
Moving to JDT Text</WithStack>
    <WithOutStack>Override indicators in the Outline view and the editor's Vertical Ruler are not
always in sync. As explained in bug 42639 comment 16 and following, override
indicators are currently not updated unless the affected method is edited in a
way which causes a structural change in the enclosing CU. On the other hand,
override indicators in the vertical ruler are correctly updated on reconcile.

It looks strange that the vertical ruler is always up-to-date but the outline is
not. I see that updating java model elements down the type hierarchy is
prohibitively expensive and not feasible in general (e.g. for the Package
Explorer). However, I think a least the outline should be updated when the
vertical ruler override indicator detects a change on reconcile.
As mentioned, for the override decorators it's too expensive to correctly evaluate  the elements to update (needs all subtypes). But of course we can make sure that the outline is at least correct and have the editor refresh the outline when it is brought to the front or activated. The editor seems to do that with the override indicators in the vertical ruler.
Moving to JDT Text</WithOutStack>
  </Bug>
  <Bug>
    <BugId amount="67962" />
    <CreationDate amount="2004-06-21 03:28:00 -0400" />
    <DupId amount="26070" />
    <classification amount="Eclipse" />
    <Product amount="JDT" />
    <component amount="UI" />
    <Version amount="3.0" />
    <rep_platform amount="All" />
    <op_sys amount="All" />
    <priority amount="P3" />
    <bug_severity amount="enhancement" />
    <Summery>A Source-&gt;Generate toString() using fields...</Summery>
    <Patches amount="0" />
    <Stacktraces amount="0" />
    <SourceCodeRegions amount="1">
      <source_code type="functiondef">
        <location start="301" end="549" />
        <code>public String toString() {
		StringBuffer sb = new StringBuffer();
		sb.append("yourVar1: ");
		sb.append(yourVar1);
		sb.append(", yourVar2: ");
		sb.append(yourVar2);
		sb.append(", yourVar4: ");
		sb.append(yourVar4);
		return sb.toString();
	}</code>
      </source_code>
    </SourceCodeRegions>
    <Enumerations amount="0" />
    <bug_status amount="RESOLVED" />
    <resolution amount="DUPLICATE" />
    <WithStack>When you clic with the right mouse button on the code, it would be nice to have
Source-&gt;Generate toString() using fields...

This option will open a menu similar to the "Generate constructor".
Then you select the variable you want to show.
In the end, a code similar to the next one will be created.

	public String toString() {
		StringBuffer sb = new StringBuffer();
		sb.append("yourVar1: ");
		sb.append(yourVar1);
		sb.append(", yourVar2: ");
		sb.append(yourVar2);
		sb.append(", yourVar4: ");
		sb.append(yourVar4);
		return sb.toString();
	}

So you can use feature like (System.out.println(object)) to display some
relevant informations about an object.


*** This bug has been marked as a duplicate of 26070 ***</WithStack>
    <WithOutStack>When you clic with the right mouse button on the code, it would be nice to have
Source-&gt;Generate toString() using fields...

This option will open a menu similar to the "Generate constructor".
Then you select the variable you want to show.
In the end, a code similar to the next one will be created.

	public String toString() {
		StringBuffer sb = new StringBuffer();
		sb.append("yourVar1: ");
		sb.append(yourVar1);
		sb.append(", yourVar2: ");
		sb.append(yourVar2);
		sb.append(", yourVar4: ");
		sb.append(yourVar4);
		return sb.toString();
	}

So you can use feature like (System.out.println(object)) to display some
relevant informations about an object.


*** This bug has been marked as a duplicate of 26070 ***</WithOutStack>
  </Bug>
  <Bug>
    <BugId amount="67963" />
    <CreationDate amount="2004-06-21 03:52:00 -0400" />
    <DupId amount="" />
    <classification amount="Eclipse" />
    <Product amount="JDT" />
    <component amount="Text" />
    <Version amount="3.0" />
    <rep_platform amount="PC" />
    <op_sys amount="Windows XP" />
    <priority amount="P3" />
    <bug_severity amount="normal" />
    <Summery>[performance] Newline in commented StyledText takes too long</Summery>
    <Patches amount="0" />
    <Stacktraces amount="0" />
    <SourceCodeRegions amount="0" />
    <Enumerations amount="1">
      <Enumeration lines="3">
        <Lines>
          <Line>- toggle comment StyledText</Line>
          <Line>- press enter to add a new line</Line>
          <Line>-&gt; takes too long</Line>
        </Lines>
      </Enumeration>
    </Enumerations>
    <bug_status amount="RESOLVED" />
    <resolution amount="FIXED" />
    <WithStack>3.0RC3

- toggle comment StyledText
- press enter to add a new line
-&gt; takes too long

The JavaIndenter uses the JavaHeuristicScanner which calls in its
isDefaultPartition(..) TextUtilities.getPartition(..) which leads in
DefaultPartitioner.getPartition(..) to a call to
AbstractDocument.getPositions(..). getPositions(..) becomes expensive with many
partitions (that is, typed positions).
Adding a new line at the end of the commented StyledText just took ~1 min. on my
machine.

*** Bug 80615 has been marked as a duplicate of this bug. ***
*** Bug 83814 has been marked as a duplicate of this bug. ***
Fixed twofold:
- added FastPartitioner (replacement for DefaultPartitioner, caches the list of
Positions instead of getting a new one upon every query. Saves an array creation
for every query)

- JavaHeuristicScanner now uses the partitioning information to skip non-default
partitions alltogether instead of querying the partition type for every character.

Here are the numbers, nothing to add...
Scenario
'org.eclipse.jdt.text.tests.performance.JavaIndenterTest#testJavaIndenter2()'
(average over 10 samples):

                I20050125    JavaHeuristicScanner   FastPartitioner    both
CPU Time           9.26 s                  778 ms            121 ms   23 ms
Kernel time         15 ms                    2 ms              1 ms    0 ms
Soft Page Faults       44                      13                17       1</WithStack>
    <WithOutStack>3.0RC3

- toggle comment StyledText
- press enter to add a new line
-&gt; takes too long

The JavaIndenter uses the JavaHeuristicScanner which calls in its
isDefaultPartition(..) TextUtilities.getPartition(..) which leads in
DefaultPartitioner.getPartition(..) to a call to
AbstractDocument.getPositions(..). getPositions(..) becomes expensive with many
partitions (that is, typed positions).
Adding a new line at the end of the commented StyledText just took ~1 min. on my
machine.

*** Bug 80615 has been marked as a duplicate of this bug. ***
*** Bug 83814 has been marked as a duplicate of this bug. ***
Fixed twofold:
- added FastPartitioner (replacement for DefaultPartitioner, caches the list of
Positions instead of getting a new one upon every query. Saves an array creation
for every query)

- JavaHeuristicScanner now uses the partitioning information to skip non-default
partitions alltogether instead of querying the partition type for every character.

Here are the numbers, nothing to add...
Scenario
'org.eclipse.jdt.text.tests.performance.JavaIndenterTest#testJavaIndenter2()'
(average over 10 samples):

                I20050125    JavaHeuristicScanner   FastPartitioner    both
CPU Time           9.26 s                  778 ms            121 ms   23 ms
Kernel time         15 ms                    2 ms              1 ms    0 ms
Soft Page Faults       44                      13                17       1</WithOutStack>
  </Bug>
  <Bug>
    <BugId amount="67964" />
    <CreationDate amount="2004-06-21 04:14:00 -0400" />
    <DupId amount="45469" />
    <classification amount="Eclipse" />
    <Product amount="JDT" />
    <component amount="Debug" />
    <Version amount="3.0" />
    <rep_platform amount="PC" />
    <op_sys amount="Windows XP" />
    <priority amount="P3" />
    <bug_severity amount="normal" />
    <Summery>Expanding JRE dialog should also expand libraries list</Summery>
    <Patches amount="0" />
    <Stacktraces amount="0" />
    <SourceCodeRegions amount="0" />
    <Enumerations amount="0" />
    <bug_status amount="RESOLVED" />
    <resolution amount="DUPLICATE" />
    <WithStack>20040619

Running on Sun JDK 1.4.2, using IBM ibm-java2-ws-sdk-pj9ndev-20040511: 

Started up with an existing RC2 workspace and an error was given that
java.lang.Object can't be found. I detected that core.jar isn't in the list of
detected archives anymore; it seems that only archives in the ext dir are there.
With a new workspace and the same JRE location everything works fine. But I
can't convince the old workpsace to detect the core.jar again. Adding a new JRE
with new name but old location doesn't help either.
RC3

Expanding the JRE dialog vertically should also expand libraries list
What if you remove/add the JRE? (rather than new name?)
(There is a newer IBM1.4.2 - 0524, but I'm not sure why this should matter).
Looking at our code, we cache and re-use the library information based on 
install location - so adding another VM with a new name at the same location 
will not refresh the library list. However, removing and re-adding a VM at the 
same location should refresh the library list.

Deferred
The list expansion is handled by bug 66204, which is fixed. The library 
caching is a dup of bug 45469.


*** This bug has been marked as a duplicate of 45469 ***</WithStack>
    <WithOutStack>20040619

Running on Sun JDK 1.4.2, using IBM ibm-java2-ws-sdk-pj9ndev-20040511: 

Started up with an existing RC2 workspace and an error was given that
java.lang.Object can't be found. I detected that core.jar isn't in the list of
detected archives anymore; it seems that only archives in the ext dir are there.
With a new workspace and the same JRE location everything works fine. But I
can't convince the old workpsace to detect the core.jar again. Adding a new JRE
with new name but old location doesn't help either.
RC3

Expanding the JRE dialog vertically should also expand libraries list
What if you remove/add the JRE? (rather than new name?)
(There is a newer IBM1.4.2 - 0524, but I'm not sure why this should matter).
Looking at our code, we cache and re-use the library information based on 
install location - so adding another VM with a new name at the same location 
will not refresh the library list. However, removing and re-adding a VM at the 
same location should refresh the library list.

Deferred
The list expansion is handled by bug 66204, which is fixed. The library 
caching is a dup of bug 45469.


*** This bug has been marked as a duplicate of 45469 ***</WithOutStack>
  </Bug>
  <Bug>
    <BugId amount="67965" />
    <CreationDate amount="2004-06-21 04:20:00 -0400" />
    <DupId amount="" />
    <classification amount="Eclipse" />
    <Product amount="JDT" />
    <component amount="UI" />
    <Version amount="3.0" />
    <rep_platform amount="PC" />
    <op_sys amount="Windows XP" />
    <priority amount="P3" />
    <bug_severity amount="normal" />
    <Summery>BadLocationException caused by LinkedNamesAssistProposal#apply</Summery>
    <Patches amount="0" />
    <Stacktraces amount="1">
      <Stacktrace timestamp="1437341152884">
        <Exception>org.eclipse.jface.text.BadLocationException</Exception>
        <Reason />
        <Frames>
          <Frame depth="0">org.eclipse.jface.text.link.LinkedPositionGroup.enforceEqualContent(LinkedPositionGroup.java:121)</Frame>
          <Frame depth="1">org.eclipse.jface.text.link.LinkedPositionGroup.addPosition(LinkedPositionGroup.java:103)</Frame>
          <Frame depth="2">org.eclipse.jdt.internal.ui.text.correction.LinkedNamesAssistProposal.apply(LinkedNamesAssistProposal.java:117)</Frame>
          <Frame depth="3">org.eclipse.jface.text.contentassist.CompletionProposalPopup.insertProposal(CompletionProposalPopup.java:393)</Frame>
          <Frame depth="4">org.eclipse.jface.text.contentassist.CompletionProposalPopup.selectProposalWithMask(CompletionProposalPopup.java:361)</Frame>
          <Frame depth="5">org.eclipse.jface.text.contentassist.CompletionProposalPopup.verifyKey(CompletionProposalPopup.java:688)</Frame>
          <Frame depth="6">org.eclipse.jface.text.contentassist.ContentAssistant$InternalListener.verifyKey(ContentAssistant.java:625)</Frame>
          <Frame depth="7">org.eclipse.jface.text.TextViewer$VerifyKeyListenersManager.verifyKey(TextViewer.java:390)</Frame>
          <Frame depth="8">org.eclipse.swt.custom.StyledTextListener.handleEvent(StyledTextListener.java:55)</Frame>
          <Frame depth="9">org.eclipse.swt.widgets.EventTable.sendEvent(EventTable.java:82)</Frame>
          <Frame depth="10">org.eclipse.swt.widgets.Widget.sendEvent(Widget.java:796)</Frame>
          <Frame depth="11">org.eclipse.swt.widgets.Widget.sendEvent(Widget.java:820)</Frame>
          <Frame depth="12">org.eclipse.swt.widgets.Widget.sendEvent(Widget.java:805)</Frame>
          <Frame depth="13">org.eclipse.swt.widgets.Widget.notifyListeners(Widget.java:613)</Frame>
          <Frame depth="14">org.eclipse.swt.custom.StyledText.handleKeyDown(StyledText.java:5000)</Frame>
          <Frame depth="15">org.eclipse.swt.custom.StyledText$7.handleEvent(StyledText.java:4747)</Frame>
          <Frame depth="16">org.eclipse.swt.widgets.EventTable.sendEvent(EventTable.java:82)</Frame>
          <Frame depth="17">org.eclipse.swt.widgets.Widget.sendEvent(Widget.java:796)</Frame>
          <Frame depth="18">org.eclipse.swt.widgets.Widget.sendEvent(Widget.java:820)</Frame>
          <Frame depth="19">org.eclipse.swt.widgets.Widget.sendEvent(Widget.java:805)</Frame>
          <Frame depth="20">org.eclipse.swt.widgets.Control.sendKeyEvent(Control.java:1734)</Frame>
          <Frame depth="21">org.eclipse.swt.widgets.Control.sendKeyEvent(Control.java:1730)</Frame>
          <Frame depth="22">org.eclipse.swt.widgets.Control.WM_CHAR(Control.java:3067)</Frame>
          <Frame depth="23">org.eclipse.swt.widgets.Control.windowProc(Control.java:2970)</Frame>
          <Frame depth="24">org.eclipse.swt.widgets.Display.windowProc(Display.java:3298)</Frame>
          <Frame depth="25">org.eclipse.swt.internal.win32.OS.DispatchMessageW(Native Method)</Frame>
          <Frame depth="26">org.eclipse.swt.internal.win32.OS.DispatchMessage(OS.java:1467)</Frame>
          <Frame depth="27">org.eclipse.swt.widgets.Display.readAndDispatch(Display.java:2396)</Frame>
          <Frame depth="28">org.eclipse.ui.internal.Workbench.runEventLoop(Workbench.java:1375)</Frame>
          <Frame depth="29">org.eclipse.ui.internal.Workbench.runUI(Workbench.java:1346)</Frame>
          <Frame depth="30">org.eclipse.ui.internal.Workbench.createAndRunWorkbench(Workbench.java:252)</Frame>
          <Frame depth="31">org.eclipse.ui.PlatformUI.createAndRunWorkbench(PlatformUI.java:141)</Frame>
          <Frame depth="32">org.eclipse.ui.internal.ide.IDEApplication.run(IDEApplication.java:96)</Frame>
          <Frame depth="33">org.eclipse.core.internal.runtime.PlatformActivator$1.run(PlatformActivator.java:335)</Frame>
          <Frame depth="34">org.eclipse.core.runtime.adaptor.EclipseStarter.run(EclipseStarter.java:272)</Frame>
          <Frame depth="35">org.eclipse.core.runtime.adaptor.EclipseStarter.run(EclipseStarter.java:128)</Frame>
          <Frame depth="36">sun.reflect.NativeMethodAccessorImpl.invoke0(Native Method)</Frame>
          <Frame depth="37">sun.reflect.NativeMethodAccessorImpl.invoke(Unknown Source)</Frame>
          <Frame depth="38">sun.reflect.DelegatingMethodAccessorImpl.invoke(Unknown Source)</Frame>
          <Frame depth="39">java.lang.reflect.Method.invoke(Unknown Source)</Frame>
          <Frame depth="40">org.eclipse.core.launcher.Main.basicRun(Main.java:186)</Frame>
          <Frame depth="41">org.eclipse.core.launcher.Main.run(Main.java:647)</Frame>
          <Frame depth="42">org.eclipse.core.launcher.Main.main(Main.java:631)</Frame>
        </Frames>
      </Stacktrace>
    </Stacktraces>
    <SourceCodeRegions amount="0" />
    <Enumerations amount="0" />
    <bug_status amount="RESOLVED" />
    <resolution amount="FIXED" />
    <WithStack>3.0 RC3

When invoking the quick fix assist via "Ctrl+1" and selecting "Rename in file" 
the following exception is logged:

!ENTRY org.eclipse.jdt.ui 4 10001 Jun 21, 2004 10:13:59.78
!MESSAGE Internal Error
!STACK 0
org.eclipse.jface.text.BadLocationException
	at org.eclipse.jface.text.link.LinkedPositionGroup.enforceEqualContent
(LinkedPositionGroup.java:121)
	at org.eclipse.jface.text.link.LinkedPositionGroup.addPosition
(LinkedPositionGroup.java:103)
	at 
org.eclipse.jdt.internal.ui.text.correction.LinkedNamesAssistProposal.apply
(LinkedNamesAssistProposal.java:117)
	at 
org.eclipse.jface.text.contentassist.CompletionProposalPopup.insertProposal
(CompletionProposalPopup.java:393)
	at 
org.eclipse.jface.text.contentassist.CompletionProposalPopup.selectProposalWith
Mask(CompletionProposalPopup.java:361)
	at 
org.eclipse.jface.text.contentassist.CompletionProposalPopup.verifyKey
(CompletionProposalPopup.java:688)
	at 
org.eclipse.jface.text.contentassist.ContentAssistant$InternalListener.verifyKe
y(ContentAssistant.java:625)
	at 
org.eclipse.jface.text.TextViewer$VerifyKeyListenersManager.verifyKey
(TextViewer.java:390)
	at org.eclipse.swt.custom.StyledTextListener.handleEvent
(StyledTextListener.java:55)
	at org.eclipse.swt.widgets.EventTable.sendEvent(EventTable.java:82)
	at org.eclipse.swt.widgets.Widget.sendEvent(Widget.java:796)
	at org.eclipse.swt.widgets.Widget.sendEvent(Widget.java:820)
	at org.eclipse.swt.widgets.Widget.sendEvent(Widget.java:805)
	at org.eclipse.swt.widgets.Widget.notifyListeners(Widget.java:613)
	at org.eclipse.swt.custom.StyledText.handleKeyDown
(StyledText.java:5000)
	at org.eclipse.swt.custom.StyledText$7.handleEvent
(StyledText.java:4747)
	at org.eclipse.swt.widgets.EventTable.sendEvent(EventTable.java:82)
	at org.eclipse.swt.widgets.Widget.sendEvent(Widget.java:796)
	at org.eclipse.swt.widgets.Widget.sendEvent(Widget.java:820)
	at org.eclipse.swt.widgets.Widget.sendEvent(Widget.java:805)
	at org.eclipse.swt.widgets.Control.sendKeyEvent(Control.java:1734)
	at org.eclipse.swt.widgets.Control.sendKeyEvent(Control.java:1730)
	at org.eclipse.swt.widgets.Control.WM_CHAR(Control.java:3067)
	at org.eclipse.swt.widgets.Control.windowProc(Control.java:2970)
	at org.eclipse.swt.widgets.Display.windowProc(Display.java:3298)
	at org.eclipse.swt.internal.win32.OS.DispatchMessageW(Native Method)
	at org.eclipse.swt.internal.win32.OS.DispatchMessage(OS.java:1467)
	at org.eclipse.swt.widgets.Display.readAndDispatch(Display.java:2396)
	at org.eclipse.ui.internal.Workbench.runEventLoop(Workbench.java:1375)
	at org.eclipse.ui.internal.Workbench.runUI(Workbench.java:1346)
	at org.eclipse.ui.internal.Workbench.createAndRunWorkbench
(Workbench.java:252)
	at org.eclipse.ui.PlatformUI.createAndRunWorkbench(PlatformUI.java:141)
	at org.eclipse.ui.internal.ide.IDEApplication.run
(IDEApplication.java:96)
	at org.eclipse.core.internal.runtime.PlatformActivator$1.run
(PlatformActivator.java:335)
	at org.eclipse.core.runtime.adaptor.EclipseStarter.run
(EclipseStarter.java:272)
	at org.eclipse.core.runtime.adaptor.EclipseStarter.run
(EclipseStarter.java:128)
	at sun.reflect.NativeMethodAccessorImpl.invoke0(Native Method)
	at sun.reflect.NativeMethodAccessorImpl.invoke(Unknown Source)
	at sun.reflect.DelegatingMethodAccessorImpl.invoke(Unknown Source)
	at java.lang.reflect.Method.invoke(Unknown Source)
	at org.eclipse.core.launcher.Main.basicRun(Main.java:186)
	at org.eclipse.core.launcher.Main.run(Main.java:647)
	at org.eclipse.core.launcher.Main.main(Main.java:631)
After restarting Eclipse the problem was gone. I wanted to rename a local 
variable. I also noticed that list of possible quick fixes after pressing 
Ctrl+1 is now different after the restart.

Before: 3 itmes (don't remember) with "Rename in file" as last (3rd) entry. 
After restart: 2 items with "Rename in file" beeing the first and "Split 
variable declaration" beeing the second.
i had that yesterday
kinda nasty - the editor gets all messed up. you cannot copy and paste anymore
any chance of this going into 3.0? 
no
see also bug 43135
Moving to jdt-ui, as the error indicates that linked mode was not set up correctly.
*** Bug 82756 has been marked as a duplicate of this bug. ***
Argh, should have read Tom's last note.
*** Bug 115064 has been marked as a duplicate of this bug. ***
See bug 115064 comment 5: according to Martin this was caused by an outdated AST. Since 3.2 Quick assists waits for the correct AST.</WithStack>
    <WithOutStack>3.0 RC3

When invoking the quick fix assist via "Ctrl+1" and selecting "Rename in file" 
the following exception is logged:

!ENTRY org.eclipse.jdt.ui 4 10001 Jun 21, 2004 10:13:59.78
!MESSAGE Internal Error
!STACK 0

After restarting Eclipse the problem was gone. I wanted to rename a local 
variable. I also noticed that list of possible quick fixes after pressing 
Ctrl+1 is now different after the restart.

Before: 3 itmes (don't remember) with "Rename in file" as last (3rd) entry. 
After restart: 2 items with "Rename in file" beeing the first and "Split 
variable declaration" beeing the second.
i had that yesterday
kinda nasty - the editor gets all messed up. you cannot copy and paste anymore
any chance of this going into 3.0? 
no
see also bug 43135
Moving to jdt-ui, as the error indicates that linked mode was not set up correctly.
*** Bug 82756 has been marked as a duplicate of this bug. ***
Argh, should have read Tom's last note.
*** Bug 115064 has been marked as a duplicate of this bug. ***
See bug 115064 comment 5: according to Martin this was caused by an outdated AST. Since 3.2 Quick assists waits for the correct AST.</WithOutStack>
  </Bug>
  <Bug>
    <BugId amount="67966" />
    <CreationDate amount="2004-06-21 04:28:00 -0400" />
    <DupId amount="66352" />
    <classification amount="Eclipse" />
    <Product amount="Platform" />
    <component amount="Search" />
    <Version amount="3.0" />
    <rep_platform amount="PC" />
    <op_sys amount="Windows XP" />
    <priority amount="P3" />
    <bug_severity amount="enhancement" />
    <Summery>Filter for potential matches</Summery>
    <Patches amount="0" />
    <Stacktraces amount="0" />
    <SourceCodeRegions amount="0" />
    <Enumerations amount="0" />
    <bug_status amount="RESOLVED" />
    <resolution amount="DUPLICATE" />
    <WithStack>The search view could offer a filter for potential (inexact, inaccurate) matches.


*** This bug has been marked as a duplicate of 66352 ***</WithStack>
    <WithOutStack>The search view could offer a filter for potential (inexact, inaccurate) matches.


*** This bug has been marked as a duplicate of 66352 ***</WithOutStack>
  </Bug>
  <Bug>
    <BugId amount="67967" />
    <CreationDate amount="2004-06-21 04:30:00 -0400" />
    <DupId amount="" />
    <classification amount="Eclipse" />
    <Product amount="JDT" />
    <component amount="UI" />
    <Version amount="3.0" />
    <rep_platform amount="PC" />
    <op_sys amount="Windows XP" />
    <priority amount="P3" />
    <bug_severity amount="enhancement" />
    <Summery>[search] Filter read/write variable references</Summery>
    <Patches amount="0" />
    <Stacktraces amount="0" />
    <SourceCodeRegions amount="0" />
    <Enumerations amount="0" />
    <bug_status amount="VERIFIED" />
    <resolution amount="FIXED" />
    <WithStack>The java search view filters for read and write access should be updated to
filter read and write references to local variable, too.
Not for 3.2
Fixed in HEAD with existing API from bug 60867.
verified in I20060810-0010</WithStack>
    <WithOutStack>The java search view filters for read and write access should be updated to
filter read and write references to local variable, too.
Not for 3.2
Fixed in HEAD with existing API from bug 60867.
verified in I20060810-0010</WithOutStack>
  </Bug>
  <Bug>
    <BugId amount="67968" />
    <CreationDate amount="2004-06-21 04:33:00 -0400" />
    <DupId amount="" />
    <classification amount="Eclipse" />
    <Product amount="JDT" />
    <component amount="UI" />
    <Version amount="3.0" />
    <rep_platform amount="PC" />
    <op_sys amount="Windows XP" />
    <priority amount="P3" />
    <bug_severity amount="enhancement" />
    <Summery>[mark occurrence] Java occurrences search should offer filters [search]</Summery>
    <Patches amount="0" />
    <Stacktraces amount="0" />
    <SourceCodeRegions amount="0" />
    <Enumerations amount="1">
      <Enumeration lines="5">
        <Lines>
          <Line>- read/write access to fields and local variables (see also bug 67967)</Line>
          <Line>- potential matches (see bug 67966)</Line>
          <Line>- javadoc</Line>
          <Line>This is java search.</Line>
          <Line>*** Bug 153416 has been marked as a duplicate of this bug. ***</Line>
        </Lines>
      </Enumeration>
    </Enumerations>
    <bug_status amount="ASSIGNED" />
    <resolution amount="" />
    <WithStack>Java occurrences search (Search &gt; Occurrences in File) should offer filters for
- read/write access to fields and local variables (see also bug 67967)
- potential matches (see bug 67966)
- javadoc
This is java search.
*** Bug 153416 has been marked as a duplicate of this bug. ***</WithStack>
    <WithOutStack>Java occurrences search (Search &gt; Occurrences in File) should offer filters for
- read/write access to fields and local variables (see also bug 67967)
- potential matches (see bug 67966)
- javadoc
This is java search.
*** Bug 153416 has been marked as a duplicate of this bug. ***</WithOutStack>
  </Bug>
  <Bug>
    <BugId amount="67969" />
    <CreationDate amount="2004-06-21 04:34:00 -0400" />
    <DupId amount="" />
    <classification amount="Eclipse" />
    <Product amount="Platform" />
    <component amount="Runtime" />
    <Version amount="3.0" />
    <rep_platform amount="PC" />
    <op_sys amount="Windows 2000" />
    <priority amount="P3" />
    <bug_severity amount="critical" />
    <Summery>3.0RC3 displays AST creation Error</Summery>
    <Patches amount="0" />
    <Stacktraces amount="15">
      <Stacktrace timestamp="1437341152910">
        <Exception>java.lang.NoClassDefFoundError</Exception>
        <Reason />
        <Frames>
          <Frame depth="0">org.eclipse.jdt.core.dom.AST.newVariableDeclarationStatement(AST.java:1802)</Frame>
          <Frame depth="1">org.eclipse.jdt.core.dom.ASTConverter.convertToVariableDeclarationStatement(ASTConverter.java:2787)</Frame>
          <Frame depth="2">org.eclipse.jdt.core.dom.ASTConverter.checkAndAddMultipleLocalDeclaration(ASTConverter.java:390)</Frame>
          <Frame depth="3">org.eclipse.jdt.core.dom.ASTConverter.convert(ASTConverter.java:1908)</Frame>
          <Frame depth="4">org.eclipse.jdt.core.dom.ASTConverter.convert(ASTConverter.java:2117)</Frame>
          <Frame depth="5">org.eclipse.jdt.core.dom.ASTConverter.convert(ASTConverter.java:1855)</Frame>
          <Frame depth="6">org.eclipse.jdt.core.dom.ASTConverter.convert(ASTConverter.java:770)</Frame>
          <Frame depth="7">org.eclipse.jdt.core.dom.ASTConverter.buildBodyDeclarations(ASTConverter.java:336)</Frame>
          <Frame depth="8">org.eclipse.jdt.core.dom.ASTConverter.convert(ASTConverter.java:274)</Frame>
          <Frame depth="9">org.eclipse.jdt.core.dom.ASTConverter.convert(ASTConverter.java:152)</Frame>
          <Frame depth="10">org.eclipse.jdt.core.dom.ASTParser.convert(ASTParser.java:711)</Frame>
          <Frame depth="11">org.eclipse.jdt.core.dom.ASTParser.internalCreateAST(ASTParser.java:681)</Frame>
          <Frame depth="12">org.eclipse.jdt.core.dom.ASTParser.createAST(ASTParser.java:574)</Frame>
          <Frame depth="13">org.eclipse.jdt.internal.ui.javaeditor.ASTProvider.createAST(ASTProvider.java:439)</Frame>
          <Frame depth="14">org.eclipse.jdt.internal.ui.javaeditor.ASTProvider.getAST(ASTProvider.java:391)</Frame>
          <Frame depth="15">org.eclipse.jdt.internal.ui.viewsupport.SelectionListenerWithASTManager$PartListenerGroup.calculateASTandInform(SelectionListenerWithASTManager.java:159)</Frame>
          <Frame depth="16">org.eclipse.jdt.internal.ui.viewsupport.SelectionListenerWithASTManager$3.run(SelectionListenerWithASTManager.java:136)</Frame>
          <Frame depth="17">org.eclipse.core.internal.jobs.Worker.run(Worker.java:66)</Frame>
        </Frames>
      </Stacktrace>
      <Stacktrace timestamp="1437341152910">
        <Exception>java.lang.NoClassDefFoundError</Exception>
        <Reason />
        <Frames>
          <Frame depth="0">org.eclipse.jdt.core.dom.AST.newVariableDeclarationStatement(AST.java:1802)</Frame>
          <Frame depth="1">org.eclipse.jdt.core.dom.ASTConverter.convertToVariableDeclarationStatement(ASTConverter.java:2787)</Frame>
          <Frame depth="2">org.eclipse.jdt.core.dom.ASTConverter.checkAndAddMultipleLocalDeclaration(ASTConverter.java:390)</Frame>
          <Frame depth="3">org.eclipse.jdt.core.dom.ASTConverter.convert(ASTConverter.java:768)</Frame>
          <Frame depth="4">org.eclipse.jdt.core.dom.ASTConverter.buildBodyDeclarations(ASTConverter.java:336)</Frame>
          <Frame depth="5">org.eclipse.jdt.core.dom.ASTConverter.convert(ASTConverter.java:274)</Frame>
          <Frame depth="6">org.eclipse.jdt.core.dom.ASTConverter.convert(ASTConverter.java:152)</Frame>
          <Frame depth="7">org.eclipse.jdt.core.dom.ASTParser.convert(ASTParser.java:711)</Frame>
          <Frame depth="8">org.eclipse.jdt.core.dom.ASTParser.internalCreateAST(ASTParser.java:681)</Frame>
          <Frame depth="9">org.eclipse.jdt.core.dom.ASTParser.createAST(ASTParser.java:574)</Frame>
          <Frame depth="10">org.eclipse.jdt.internal.ui.javaeditor.ASTProvider.createAST(ASTProvider.java:439)</Frame>
          <Frame depth="11">org.eclipse.jdt.internal.ui.javaeditor.ASTProvider.getAST(ASTProvider.java:391)</Frame>
          <Frame depth="12">org.eclipse.jdt.internal.ui.viewsupport.SelectionListenerWithASTManager$PartListenerGroup.calculateASTandInform(SelectionListenerWithASTManager.java:159)</Frame>
          <Frame depth="13">org.eclipse.jdt.internal.ui.viewsupport.SelectionListenerWithASTManager$3.run(SelectionListenerWithASTManager.java:136)</Frame>
          <Frame depth="14">org.eclipse.core.internal.jobs.Worker.run(Worker.java:66)</Frame>
        </Frames>
      </Stacktrace>
      <Stacktrace timestamp="1437341152910">
        <Exception>java.lang.NoClassDefFoundError</Exception>
        <Reason />
        <Frames>
          <Frame depth="0">org.eclipse.jdt.core.dom.AST.newVariableDeclarationStatement(AST.java:1802)</Frame>
          <Frame depth="1">org.eclipse.jdt.core.dom.ASTConverter.convertToVariableDeclarationStatement(ASTConverter.java:2787)</Frame>
          <Frame depth="2">org.eclipse.jdt.core.dom.ASTConverter.checkAndAddMultipleLocalDeclaration(ASTConverter.java:390)</Frame>
          <Frame depth="3">org.eclipse.jdt.core.dom.ASTConverter.convert(ASTConverter.java:768)</Frame>
          <Frame depth="4">org.eclipse.jdt.core.dom.ASTConverter.buildBodyDeclarations(ASTConverter.java:336)</Frame>
          <Frame depth="5">org.eclipse.jdt.core.dom.ASTConverter.convert(ASTConverter.java:274)</Frame>
          <Frame depth="6">org.eclipse.jdt.core.dom.ASTConverter.convert(ASTConverter.java:152)</Frame>
          <Frame depth="7">org.eclipse.jdt.core.dom.ASTParser.convert(ASTParser.java:711)</Frame>
          <Frame depth="8">org.eclipse.jdt.core.dom.ASTParser.internalCreateAST(ASTParser.java:681)</Frame>
          <Frame depth="9">org.eclipse.jdt.core.dom.ASTParser.createAST(ASTParser.java:574)</Frame>
          <Frame depth="10">org.eclipse.jdt.internal.ui.javaeditor.ASTProvider.createAST(ASTProvider.java:439)</Frame>
          <Frame depth="11">org.eclipse.jdt.internal.ui.javaeditor.ASTProvider.getAST(ASTProvider.java:391)</Frame>
          <Frame depth="12">org.eclipse.jdt.internal.ui.viewsupport.SelectionListenerWithASTManager$PartListenerGroup.calculateASTandInform(SelectionListenerWithASTManager.java:159)</Frame>
          <Frame depth="13">org.eclipse.jdt.internal.ui.viewsupport.SelectionListenerWithASTManager$3.run(SelectionListenerWithASTManager.java:136)</Frame>
          <Frame depth="14">org.eclipse.core.internal.jobs.Worker.run(Worker.java:66)</Frame>
        </Frames>
      </Stacktrace>
      <Stacktrace timestamp="1437341152910">
        <Exception>java.lang.NoClassDefFoundError</Exception>
        <Reason />
        <Frames>
          <Frame depth="0">org.eclipse.jdt.core.dom.AST.newVariableDeclarationStatement(AST.java:1802)</Frame>
          <Frame depth="1">org.eclipse.jdt.core.dom.ASTConverter.convertToVariableDeclarationStatement(ASTConverter.java:2787)</Frame>
          <Frame depth="2">org.eclipse.jdt.core.dom.ASTConverter.checkAndAddMultipleLocalDeclaration(ASTConverter.java:390)</Frame>
          <Frame depth="3">org.eclipse.jdt.core.dom.ASTConverter.convert(ASTConverter.java:768)</Frame>
          <Frame depth="4">org.eclipse.jdt.core.dom.ASTConverter.buildBodyDeclarations(ASTConverter.java:336)</Frame>
          <Frame depth="5">org.eclipse.jdt.core.dom.ASTConverter.convert(ASTConverter.java:274)</Frame>
          <Frame depth="6">org.eclipse.jdt.core.dom.ASTConverter.convert(ASTConverter.java:152)</Frame>
          <Frame depth="7">org.eclipse.jdt.core.dom.ASTParser.convert(ASTParser.java:711)</Frame>
          <Frame depth="8">org.eclipse.jdt.core.dom.ASTParser.internalCreateAST(ASTParser.java:681)</Frame>
          <Frame depth="9">org.eclipse.jdt.core.dom.ASTParser.createAST(ASTParser.java:574)</Frame>
          <Frame depth="10">org.eclipse.jdt.internal.ui.javaeditor.ASTProvider.createAST(ASTProvider.java:439)</Frame>
          <Frame depth="11">org.eclipse.jdt.internal.ui.javaeditor.ASTProvider.getAST(ASTProvider.java:391)</Frame>
          <Frame depth="12">org.eclipse.jdt.internal.ui.viewsupport.SelectionListenerWithASTManager$PartListenerGroup.calculateASTandInform(SelectionListenerWithASTManager.java:159)</Frame>
          <Frame depth="13">org.eclipse.jdt.internal.ui.viewsupport.SelectionListenerWithASTManager$3.run(SelectionListenerWithASTManager.java:136)</Frame>
          <Frame depth="14">org.eclipse.core.internal.jobs.Worker.run(Worker.java:66)</Frame>
        </Frames>
      </Stacktrace>
      <Stacktrace timestamp="1437341152910">
        <Exception>java.lang.NoClassDefFoundError</Exception>
        <Reason />
        <Frames>
          <Frame depth="0">org.eclipse.jdt.core.dom.AST.newVariableDeclarationStatement(AST.java:1802)</Frame>
          <Frame depth="1">org.eclipse.jdt.core.dom.ASTConverter.convertToVariableDeclarationStatement(ASTConverter.java:2787)</Frame>
          <Frame depth="2">org.eclipse.jdt.core.dom.ASTConverter.checkAndAddMultipleLocalDeclaration(ASTConverter.java:390)</Frame>
          <Frame depth="3">org.eclipse.jdt.core.dom.ASTConverter.convert(ASTConverter.java:768)</Frame>
          <Frame depth="4">org.eclipse.jdt.core.dom.ASTConverter.buildBodyDeclarations(ASTConverter.java:336)</Frame>
          <Frame depth="5">org.eclipse.jdt.core.dom.ASTConverter.convert(ASTConverter.java:274)</Frame>
          <Frame depth="6">org.eclipse.jdt.core.dom.ASTConverter.convert(ASTConverter.java:152)</Frame>
          <Frame depth="7">org.eclipse.jdt.core.dom.ASTParser.convert(ASTParser.java:711)</Frame>
          <Frame depth="8">org.eclipse.jdt.core.dom.ASTParser.internalCreateAST(ASTParser.java:681)</Frame>
          <Frame depth="9">org.eclipse.jdt.core.dom.ASTParser.createAST(ASTParser.java:574)</Frame>
          <Frame depth="10">org.eclipse.jdt.internal.ui.javaeditor.ASTProvider.createAST(ASTProvider.java:439)</Frame>
          <Frame depth="11">org.eclipse.jdt.internal.ui.javaeditor.ASTProvider.getAST(ASTProvider.java:391)</Frame>
          <Frame depth="12">org.eclipse.jdt.internal.ui.viewsupport.SelectionListenerWithASTManager$PartListenerGroup.calculateASTandInform(SelectionListenerWithASTManager.java:159)</Frame>
          <Frame depth="13">org.eclipse.jdt.internal.ui.viewsupport.SelectionListenerWithASTManager$3.run(SelectionListenerWithASTManager.java:136)</Frame>
          <Frame depth="14">org.eclipse.core.internal.jobs.Worker.run(Worker.java:66)</Frame>
        </Frames>
      </Stacktrace>
      <Stacktrace timestamp="1437341152910">
        <Exception>java.lang.NoClassDefFoundError</Exception>
        <Reason />
        <Frames>
          <Frame depth="0">org.eclipse.jdt.core.dom.AST.newVariableDeclarationStatement(AST.java:1802)</Frame>
          <Frame depth="1">org.eclipse.jdt.core.dom.ASTConverter.convertToVariableDeclarationStatement(ASTConverter.java:2787)</Frame>
          <Frame depth="2">org.eclipse.jdt.core.dom.ASTConverter.checkAndAddMultipleLocalDeclaration(ASTConverter.java:390)</Frame>
          <Frame depth="3">org.eclipse.jdt.core.dom.ASTConverter.convert(ASTConverter.java:768)</Frame>
          <Frame depth="4">org.eclipse.jdt.core.dom.ASTConverter.buildBodyDeclarations(ASTConverter.java:336)</Frame>
          <Frame depth="5">org.eclipse.jdt.core.dom.ASTConverter.convert(ASTConverter.java:274)</Frame>
          <Frame depth="6">org.eclipse.jdt.core.dom.ASTConverter.convert(ASTConverter.java:152)</Frame>
          <Frame depth="7">org.eclipse.jdt.core.dom.ASTParser.convert(ASTParser.java:711)</Frame>
          <Frame depth="8">org.eclipse.jdt.core.dom.ASTParser.internalCreateAST(ASTParser.java:681)</Frame>
          <Frame depth="9">org.eclipse.jdt.core.dom.ASTParser.createAST(ASTParser.java:574)</Frame>
          <Frame depth="10">org.eclipse.jdt.internal.ui.javaeditor.ASTProvider.createAST(ASTProvider.java:439)</Frame>
          <Frame depth="11">org.eclipse.jdt.internal.ui.javaeditor.ASTProvider.getAST(ASTProvider.java:391)</Frame>
          <Frame depth="12">org.eclipse.jdt.internal.ui.viewsupport.SelectionListenerWithASTManager$PartListenerGroup.calculateASTandInform(SelectionListenerWithASTManager.java:159)</Frame>
          <Frame depth="13">org.eclipse.jdt.internal.ui.viewsupport.SelectionListenerWithASTManager$3.run(SelectionListenerWithASTManager.java:136)</Frame>
          <Frame depth="14">org.eclipse.core.internal.jobs.Worker.run(Worker.java:66)</Frame>
        </Frames>
      </Stacktrace>
      <Stacktrace timestamp="1437341152910">
        <Exception>java.lang.NoClassDefFoundError</Exception>
        <Reason />
        <Frames>
          <Frame depth="0">org.eclipse.jdt.core.dom.AST.newVariableDeclarationStatement(AST.java:1802)</Frame>
          <Frame depth="1">org.eclipse.jdt.core.dom.ASTConverter.convertToVariableDeclarationStatement(ASTConverter.java:2787)</Frame>
          <Frame depth="2">org.eclipse.jdt.core.dom.ASTConverter.checkAndAddMultipleLocalDeclaration(ASTConverter.java:390)</Frame>
          <Frame depth="3">org.eclipse.jdt.core.dom.ASTConverter.convert(ASTConverter.java:768)</Frame>
          <Frame depth="4">org.eclipse.jdt.core.dom.ASTConverter.buildBodyDeclarations(ASTConverter.java:336)</Frame>
          <Frame depth="5">org.eclipse.jdt.core.dom.ASTConverter.convert(ASTConverter.java:274)</Frame>
          <Frame depth="6">org.eclipse.jdt.core.dom.ASTConverter.convert(ASTConverter.java:152)</Frame>
          <Frame depth="7">org.eclipse.jdt.core.dom.ASTParser.convert(ASTParser.java:711)</Frame>
          <Frame depth="8">org.eclipse.jdt.core.dom.ASTParser.internalCreateAST(ASTParser.java:681)</Frame>
          <Frame depth="9">org.eclipse.jdt.core.dom.ASTParser.createAST(ASTParser.java:574)</Frame>
          <Frame depth="10">org.eclipse.jdt.internal.ui.javaeditor.ASTProvider.createAST(ASTProvider.java:439)</Frame>
          <Frame depth="11">org.eclipse.jdt.internal.ui.javaeditor.ASTProvider.getAST(ASTProvider.java:391)</Frame>
          <Frame depth="12">org.eclipse.jdt.internal.ui.viewsupport.SelectionListenerWithASTManager$PartListenerGroup.calculateASTandInform(SelectionListenerWithASTManager.java:159)</Frame>
          <Frame depth="13">org.eclipse.jdt.internal.ui.viewsupport.SelectionListenerWithASTManager$3.run(SelectionListenerWithASTManager.java:136)</Frame>
          <Frame depth="14">org.eclipse.core.internal.jobs.Worker.run(Worker.java:66)</Frame>
        </Frames>
      </Stacktrace>
      <Stacktrace timestamp="1437341152910">
        <Exception>java.lang.NoClassDefFoundError</Exception>
        <Reason />
        <Frames>
          <Frame depth="0">org.eclipse.jdt.core.dom.AST.newVariableDeclarationStatement(AST.java:1802)</Frame>
          <Frame depth="1">org.eclipse.jdt.core.dom.ASTConverter.convertToVariableDeclarationStatement(ASTConverter.java:2787)</Frame>
          <Frame depth="2">org.eclipse.jdt.core.dom.ASTConverter.checkAndAddMultipleLocalDeclaration(ASTConverter.java:390)</Frame>
          <Frame depth="3">org.eclipse.jdt.core.dom.ASTConverter.convert(ASTConverter.java:768)</Frame>
          <Frame depth="4">org.eclipse.jdt.core.dom.ASTConverter.buildBodyDeclarations(ASTConverter.java:336)</Frame>
          <Frame depth="5">org.eclipse.jdt.core.dom.ASTConverter.convert(ASTConverter.java:274)</Frame>
          <Frame depth="6">org.eclipse.jdt.core.dom.ASTConverter.convert(ASTConverter.java:152)</Frame>
          <Frame depth="7">org.eclipse.jdt.core.dom.ASTParser.convert(ASTParser.java:711)</Frame>
          <Frame depth="8">org.eclipse.jdt.core.dom.ASTParser.internalCreateAST(ASTParser.java:681)</Frame>
          <Frame depth="9">org.eclipse.jdt.core.dom.ASTParser.createAST(ASTParser.java:574)</Frame>
          <Frame depth="10">org.eclipse.jdt.internal.ui.javaeditor.ASTProvider.createAST(ASTProvider.java:439)</Frame>
          <Frame depth="11">org.eclipse.jdt.internal.ui.javaeditor.ASTProvider.getAST(ASTProvider.java:391)</Frame>
          <Frame depth="12">org.eclipse.jdt.internal.ui.viewsupport.SelectionListenerWithASTManager$PartListenerGroup.calculateASTandInform(SelectionListenerWithASTManager.java:159)</Frame>
          <Frame depth="13">org.eclipse.jdt.internal.ui.viewsupport.SelectionListenerWithASTManager$3.run(SelectionListenerWithASTManager.java:136)</Frame>
          <Frame depth="14">org.eclipse.core.internal.jobs.Worker.run(Worker.java:66)</Frame>
        </Frames>
      </Stacktrace>
      <Stacktrace timestamp="1437341152910">
        <Exception>java.lang.NoClassDefFoundError</Exception>
        <Reason />
        <Frames>
          <Frame depth="0">org.eclipse.jdt.core.dom.AST.newVariableDeclarationStatement(AST.java:1802)</Frame>
          <Frame depth="1">org.eclipse.jdt.core.dom.ASTConverter.convertToVariableDeclarationStatement(ASTConverter.java:2787)</Frame>
          <Frame depth="2">org.eclipse.jdt.core.dom.ASTConverter.checkAndAddMultipleLocalDeclaration(ASTConverter.java:390)</Frame>
          <Frame depth="3">org.eclipse.jdt.core.dom.ASTConverter.convert(ASTConverter.java:768)</Frame>
          <Frame depth="4">org.eclipse.jdt.core.dom.ASTConverter.buildBodyDeclarations(ASTConverter.java:336)</Frame>
          <Frame depth="5">org.eclipse.jdt.core.dom.ASTConverter.convert(ASTConverter.java:274)</Frame>
          <Frame depth="6">org.eclipse.jdt.core.dom.ASTConverter.convert(ASTConverter.java:152)</Frame>
          <Frame depth="7">org.eclipse.jdt.core.dom.ASTParser.convert(ASTParser.java:711)</Frame>
          <Frame depth="8">org.eclipse.jdt.core.dom.ASTParser.internalCreateAST(ASTParser.java:681)</Frame>
          <Frame depth="9">org.eclipse.jdt.core.dom.ASTParser.createAST(ASTParser.java:574)</Frame>
          <Frame depth="10">org.eclipse.jdt.internal.ui.javaeditor.ASTProvider.createAST(ASTProvider.java:439)</Frame>
          <Frame depth="11">org.eclipse.jdt.internal.ui.javaeditor.ASTProvider.getAST(ASTProvider.java:391)</Frame>
          <Frame depth="12">org.eclipse.jdt.internal.ui.viewsupport.SelectionListenerWithASTManager$PartListenerGroup.calculateASTandInform(SelectionListenerWithASTManager.java:159)</Frame>
          <Frame depth="13">org.eclipse.jdt.internal.ui.viewsupport.SelectionListenerWithASTManager$3.run(SelectionListenerWithASTManager.java:136)</Frame>
          <Frame depth="14">org.eclipse.core.internal.jobs.Worker.run(Worker.java:66)</Frame>
        </Frames>
      </Stacktrace>
      <Stacktrace timestamp="1437341152910">
        <Exception>java.lang.NoClassDefFoundError</Exception>
        <Reason />
        <Frames>
          <Frame depth="0">org.eclipse.jdt.core.dom.AST.newVariableDeclarationStatement(AST.java:1802)</Frame>
          <Frame depth="1">org.eclipse.jdt.core.dom.ASTConverter.convertToVariableDeclarationStatement(ASTConverter.java:2787)</Frame>
          <Frame depth="2">org.eclipse.jdt.core.dom.ASTConverter.checkAndAddMultipleLocalDeclaration(ASTConverter.java:390)</Frame>
          <Frame depth="3">org.eclipse.jdt.core.dom.ASTConverter.convert(ASTConverter.java:768)</Frame>
          <Frame depth="4">org.eclipse.jdt.core.dom.ASTConverter.buildBodyDeclarations(ASTConverter.java:336)</Frame>
          <Frame depth="5">org.eclipse.jdt.core.dom.ASTConverter.convert(ASTConverter.java:274)</Frame>
          <Frame depth="6">org.eclipse.jdt.core.dom.ASTConverter.convert(ASTConverter.java:152)</Frame>
          <Frame depth="7">org.eclipse.jdt.core.dom.ASTParser.convert(ASTParser.java:711)</Frame>
          <Frame depth="8">org.eclipse.jdt.core.dom.ASTParser.internalCreateAST(ASTParser.java:681)</Frame>
          <Frame depth="9">org.eclipse.jdt.core.dom.ASTParser.createAST(ASTParser.java:574)</Frame>
          <Frame depth="10">org.eclipse.jdt.internal.ui.javaeditor.ASTProvider.createAST(ASTProvider.java:439)</Frame>
          <Frame depth="11">org.eclipse.jdt.internal.ui.javaeditor.ASTProvider.getAST(ASTProvider.java:391)</Frame>
          <Frame depth="12">org.eclipse.jdt.internal.ui.viewsupport.SelectionListenerWithASTManager$PartListenerGroup.calculateASTandInform(SelectionListenerWithASTManager.java:159)</Frame>
          <Frame depth="13">org.eclipse.jdt.internal.ui.viewsupport.SelectionListenerWithASTManager$3.run(SelectionListenerWithASTManager.java:136)</Frame>
          <Frame depth="14">org.eclipse.core.internal.jobs.Worker.run(Worker.java:66)</Frame>
        </Frames>
      </Stacktrace>
      <Stacktrace timestamp="1437341152910">
        <Exception>java.lang.NoClassDefFoundError</Exception>
        <Reason />
        <Frames>
          <Frame depth="0">org.eclipse.jdt.core.dom.AST.newVariableDeclarationStatement(AST.java:1802)</Frame>
          <Frame depth="1">org.eclipse.jdt.core.dom.ASTConverter.convertToVariableDeclarationStatement(ASTConverter.java:2787)</Frame>
          <Frame depth="2">org.eclipse.jdt.core.dom.ASTConverter.checkAndAddMultipleLocalDeclaration(ASTConverter.java:390)</Frame>
          <Frame depth="3">org.eclipse.jdt.core.dom.ASTConverter.convert(ASTConverter.java:768)</Frame>
          <Frame depth="4">org.eclipse.jdt.core.dom.ASTConverter.buildBodyDeclarations(ASTConverter.java:336)</Frame>
          <Frame depth="5">org.eclipse.jdt.core.dom.ASTConverter.convert(ASTConverter.java:274)</Frame>
          <Frame depth="6">org.eclipse.jdt.core.dom.ASTConverter.convert(ASTConverter.java:152)</Frame>
          <Frame depth="7">org.eclipse.jdt.core.dom.ASTParser.convert(ASTParser.java:711)</Frame>
          <Frame depth="8">org.eclipse.jdt.core.dom.ASTParser.internalCreateAST(ASTParser.java:681)</Frame>
          <Frame depth="9">org.eclipse.jdt.core.dom.ASTParser.createAST(ASTParser.java:574)</Frame>
          <Frame depth="10">org.eclipse.jdt.internal.ui.javaeditor.ASTProvider.createAST(ASTProvider.java:439)</Frame>
          <Frame depth="11">org.eclipse.jdt.internal.ui.javaeditor.ASTProvider.getAST(ASTProvider.java:391)</Frame>
          <Frame depth="12">org.eclipse.jdt.internal.ui.viewsupport.SelectionListenerWithASTManager$PartListenerGroup.calculateASTandInform(SelectionListenerWithASTManager.java:159)</Frame>
          <Frame depth="13">org.eclipse.jdt.internal.ui.viewsupport.SelectionListenerWithASTManager$3.run(SelectionListenerWithASTManager.java:136)</Frame>
          <Frame depth="14">org.eclipse.core.internal.jobs.Worker.run(Worker.java:66)</Frame>
        </Frames>
      </Stacktrace>
      <Stacktrace timestamp="1437341152910">
        <Exception>java.lang.NoClassDefFoundError</Exception>
        <Reason />
        <Frames>
          <Frame depth="0">org.eclipse.jdt.core.dom.AST.newVariableDeclarationStatement(AST.java:1802)</Frame>
          <Frame depth="1">org.eclipse.jdt.core.dom.ASTConverter.convertToVariableDeclarationStatement(ASTConverter.java:2787)</Frame>
          <Frame depth="2">org.eclipse.jdt.core.dom.ASTConverter.checkAndAddMultipleLocalDeclaration(ASTConverter.java:390)</Frame>
          <Frame depth="3">org.eclipse.jdt.core.dom.ASTConverter.convert(ASTConverter.java:768)</Frame>
          <Frame depth="4">org.eclipse.jdt.core.dom.ASTConverter.buildBodyDeclarations(ASTConverter.java:336)</Frame>
          <Frame depth="5">org.eclipse.jdt.core.dom.ASTConverter.convert(ASTConverter.java:274)</Frame>
          <Frame depth="6">org.eclipse.jdt.core.dom.ASTConverter.convert(ASTConverter.java:152)</Frame>
          <Frame depth="7">org.eclipse.jdt.core.dom.ASTParser.convert(ASTParser.java:711)</Frame>
          <Frame depth="8">org.eclipse.jdt.core.dom.ASTParser.internalCreateAST(ASTParser.java:681)</Frame>
          <Frame depth="9">org.eclipse.jdt.core.dom.ASTParser.createAST(ASTParser.java:574)</Frame>
          <Frame depth="10">org.eclipse.jdt.internal.ui.javaeditor.ASTProvider.createAST(ASTProvider.java:439)</Frame>
          <Frame depth="11">org.eclipse.jdt.internal.ui.javaeditor.ASTProvider.getAST(ASTProvider.java:391)</Frame>
          <Frame depth="12">org.eclipse.jdt.internal.ui.viewsupport.SelectionListenerWithASTManager$PartListenerGroup.calculateASTandInform(SelectionListenerWithASTManager.java:159)</Frame>
          <Frame depth="13">org.eclipse.jdt.internal.ui.viewsupport.SelectionListenerWithASTManager$3.run(SelectionListenerWithASTManager.java:136)</Frame>
          <Frame depth="14">org.eclipse.core.internal.jobs.Worker.run(Worker.java:66)</Frame>
        </Frames>
      </Stacktrace>
      <Stacktrace timestamp="1437341152910">
        <Exception>java.lang.NoClassDefFoundError</Exception>
        <Reason />
        <Frames>
          <Frame depth="0">org.eclipse.jdt.core.dom.AST.newVariableDeclarationStatement(AST.java:1802)</Frame>
          <Frame depth="1">org.eclipse.jdt.core.dom.ASTConverter.convertToVariableDeclarationStatement(ASTConverter.java:2787)</Frame>
          <Frame depth="2">org.eclipse.jdt.core.dom.ASTConverter.checkAndAddMultipleLocalDeclaration(ASTConverter.java:390)</Frame>
          <Frame depth="3">org.eclipse.jdt.core.dom.ASTConverter.convert(ASTConverter.java:768)</Frame>
          <Frame depth="4">org.eclipse.jdt.core.dom.ASTConverter.buildBodyDeclarations(ASTConverter.java:336)</Frame>
          <Frame depth="5">org.eclipse.jdt.core.dom.ASTConverter.convert(ASTConverter.java:274)</Frame>
          <Frame depth="6">org.eclipse.jdt.core.dom.ASTConverter.convert(ASTConverter.java:152)</Frame>
          <Frame depth="7">org.eclipse.jdt.core.dom.ASTParser.convert(ASTParser.java:711)</Frame>
          <Frame depth="8">org.eclipse.jdt.core.dom.ASTParser.internalCreateAST(ASTParser.java:681)</Frame>
          <Frame depth="9">org.eclipse.jdt.core.dom.ASTParser.createAST(ASTParser.java:574)</Frame>
          <Frame depth="10">org.eclipse.jdt.internal.ui.javaeditor.ASTProvider.createAST(ASTProvider.java:439)</Frame>
          <Frame depth="11">org.eclipse.jdt.internal.ui.javaeditor.ASTProvider.getAST(ASTProvider.java:391)</Frame>
          <Frame depth="12">org.eclipse.jdt.internal.ui.viewsupport.SelectionListenerWithASTManager$PartListenerGroup.calculateASTandInform(SelectionListenerWithASTManager.java:159)</Frame>
          <Frame depth="13">org.eclipse.jdt.internal.ui.viewsupport.SelectionListenerWithASTManager$3.run(SelectionListenerWithASTManager.java:136)</Frame>
          <Frame depth="14">org.eclipse.core.internal.jobs.Worker.run(Worker.java:66)</Frame>
        </Frames>
      </Stacktrace>
      <Stacktrace timestamp="1437341152910">
        <Exception>java.lang.NoClassDefFoundError</Exception>
        <Reason />
        <Frames>
          <Frame depth="0">org.eclipse.jdt.core.dom.AST.newVariableDeclarationStatement(AST.java:1802)</Frame>
          <Frame depth="1">org.eclipse.jdt.core.dom.ASTConverter.convertToVariableDeclarationStatement(ASTConverter.java:2787)</Frame>
          <Frame depth="2">org.eclipse.jdt.core.dom.ASTConverter.checkAndAddMultipleLocalDeclaration(ASTConverter.java:390)</Frame>
          <Frame depth="3">org.eclipse.jdt.core.dom.ASTConverter.convert(ASTConverter.java:768)</Frame>
          <Frame depth="4">org.eclipse.jdt.core.dom.ASTConverter.buildBodyDeclarations(ASTConverter.java:336)</Frame>
          <Frame depth="5">org.eclipse.jdt.core.dom.ASTConverter.convert(ASTConverter.java:274)</Frame>
          <Frame depth="6">org.eclipse.jdt.core.dom.ASTConverter.convert(ASTConverter.java:152)</Frame>
          <Frame depth="7">org.eclipse.jdt.core.dom.ASTParser.convert(ASTParser.java:711)</Frame>
          <Frame depth="8">org.eclipse.jdt.core.dom.ASTParser.internalCreateAST(ASTParser.java:681)</Frame>
          <Frame depth="9">org.eclipse.jdt.core.dom.ASTParser.createAST(ASTParser.java:574)</Frame>
          <Frame depth="10">org.eclipse.jdt.internal.ui.javaeditor.ASTProvider.createAST(ASTProvider.java:439)</Frame>
          <Frame depth="11">org.eclipse.jdt.internal.ui.javaeditor.ASTProvider.getAST(ASTProvider.java:391)</Frame>
          <Frame depth="12">org.eclipse.jdt.internal.ui.viewsupport.SelectionListenerWithASTManager$PartListenerGroup.calculateASTandInform(SelectionListenerWithASTManager.java:159)</Frame>
          <Frame depth="13">org.eclipse.jdt.internal.ui.viewsupport.SelectionListenerWithASTManager$3.run(SelectionListenerWithASTManager.java:136)</Frame>
          <Frame depth="14">org.eclipse.core.internal.jobs.Worker.run(Worker.java:66)</Frame>
        </Frames>
      </Stacktrace>
      <Stacktrace timestamp="1437341152910">
        <Exception>java.lang.NoClassDefFoundError</Exception>
        <Reason />
        <Frames>
          <Frame depth="0">org.eclipse.jdt.core.dom.AST.newClassInstanceCreation(AST.java:2483)         at org.eclipse.jdt.core.dom.ASTConverter.convert(ASTConverter.java:942)         at org.eclipse.jdt.core.dom.ASTConverter.convert(ASTConverter.java:833)         at org.eclipse.jdt.core.dom.ASTConverter.convert(ASTConverter.java:2108)         at org.eclipse.jdt.core.dom.ASTConverter.convert(ASTConverter.java:1852)         at org.eclipse.jdt.core.dom.ASTConverter.convert(ASTConverter.java:2055)         at org.eclipse.jdt.core.dom.ASTConverter.convert(ASTConverter.java:1837)         at org.eclipse.jdt.core.dom.ASTConverter.convert(ASTConverter.java:770)         at org.eclipse.jdt.core.dom.ASTConverter.buildBodyDeclarations(ASTConverter.java:336)         at org.eclipse.jdt.core.dom.ASTConverter.convert(ASTConverter.java:274)         at org.eclipse.jdt.core.dom.ASTConverter.convert(ASTConverter.java:152)         at org.eclipse.jdt.core.dom.ASTParser.convert(ASTParser.java:711)         at org.eclipse.jdt.core.dom.ASTParser.internalCreateAST(ASTParser.java:681)         at org.eclipse.jdt.core.dom.ASTParser.createAST(ASTParser.java:574)         at org.eclipse.jdt.internal.ui.javaeditor.ASTProvider.createAST(ASTProvider.java:439)         at org.eclipse.jdt.internal.ui.javaeditor.ASTProvider.getAST(ASTProvider.java:391)         at org.eclipse.jdt.internal.ui.viewsupport.SelectionListenerWithASTManager$PartListenerGroup.calculateASTandInform(Selection ListenerWithASTManager.java:159)         at org.eclipse.jdt.internal.ui.viewsupport.SelectionListenerWithASTManager$3.run(SelectionListenerWithASTManager.java:136)         at org.eclipse.core.internal.jobs.Worker.run(Worker.java:66)</Frame>
        </Frames>
      </Stacktrace>
    </Stacktraces>
    <SourceCodeRegions amount="0" />
    <Enumerations amount="0" />
    <bug_status amount="RESOLVED" />
    <resolution amount="INVALID" />
    <WithStack>I downloaded RC3 this morning, unzipped it in a Directory,  installed xmlbuddy
2.0.10 and started it with the workspace from the RC2.
Every time i click in the java editor, i get the following error in a message box.

An internal error occurred during: "Java AST creation".
java.lang.NoClassDefFoundError
org.eclipse.jdt.core.dom.AST.newVariableDeclarationStatement(AST.java:1802)
org.eclipse.jdt.core.dom.ASTConverter.convertToVariableDeclarationStatement(ASTConverter.java:2787)
org.eclipse.jdt.core.dom.ASTConverter.checkAndAddMultipleLocalDeclaration(ASTConverter.java:390)
org.eclipse.jdt.core.dom.ASTConverter.convert(ASTConverter.java:768)
org.eclipse.jdt.core.dom.ASTConverter.buildBodyDeclarations(ASTConverter.java:336)
org.eclipse.jdt.core.dom.ASTConverter.convert(ASTConverter.java:274)
org.eclipse.jdt.core.dom.ASTConverter.convert(ASTConverter.java:152)
org.eclipse.jdt.core.dom.ASTParser.convert(ASTParser.java:711)
org.eclipse.jdt.core.dom.ASTParser.internalCreateAST(ASTParser.java:681)
org.eclipse.jdt.core.dom.ASTParser.createAST(ASTParser.java:574)
org.eclipse.jdt.internal.ui.javaeditor.ASTProvider.createAST(ASTProvider.java:439)
org.eclipse.jdt.internal.ui.javaeditor.ASTProvider.getAST(ASTProvider.java:391)
org.eclipse.jdt.internal.ui.viewsupport.SelectionListenerWithASTManager$PartListenerGroup.calculateASTandInform(SelectionListenerWithASTManager.java:159)
org.eclipse.jdt.internal.ui.viewsupport.SelectionListenerWithASTManager$3.run(SelectionListenerWithASTManager.java:136)
org.eclipse.core.internal.jobs.Worker.run(Worker.java:66)

I tried a rebuild of all projects in the workspace, but the problem stays the same.
Do you have anything else in your .log file ?
The following are the entries for the session started this morning.
Perhaps xmlbuddy is the problem, but the error occured when trying to edit a
java-file not a xml-file.

!SESSION Jun 21, 2004 08:51:07.437 ---------------------------------------------
eclipse.buildId=I200406192000
java.version=1.4.2_04
java.vendor=Sun Microsystems Inc.
BootLoader constants: OS=win32, ARCH=x86, WS=win32, NL=de_CH

!ENTRY org.eclipse.core.filebuffers 4 0 Jun 21, 2004 08:51:07.437
!MESSAGE The content type with id "com.objfac.xmlbuddy.xmlfile" specified in the
extension point does not exist.

!ENTRY org.eclipse.core.runtime 4 2 Jun 21, 2004 08:51:28.812
!MESSAGE An internal error occurred during: "Java AST creation".
!STACK 0
java.lang.NoClassDefFoundError
	at org.eclipse.jdt.core.dom.AST.newVariableDeclarationStatement(AST.java:1802)
	at
org.eclipse.jdt.core.dom.ASTConverter.convertToVariableDeclarationStatement(ASTConverter.java:2787)
	at
org.eclipse.jdt.core.dom.ASTConverter.checkAndAddMultipleLocalDeclaration(ASTConverter.java:390)
	at org.eclipse.jdt.core.dom.ASTConverter.convert(ASTConverter.java:1908)
	at org.eclipse.jdt.core.dom.ASTConverter.convert(ASTConverter.java:2117)
	at org.eclipse.jdt.core.dom.ASTConverter.convert(ASTConverter.java:1855)
	at org.eclipse.jdt.core.dom.ASTConverter.convert(ASTConverter.java:770)
	at
org.eclipse.jdt.core.dom.ASTConverter.buildBodyDeclarations(ASTConverter.java:336)
	at org.eclipse.jdt.core.dom.ASTConverter.convert(ASTConverter.java:274)
	at org.eclipse.jdt.core.dom.ASTConverter.convert(ASTConverter.java:152)
	at org.eclipse.jdt.core.dom.ASTParser.convert(ASTParser.java:711)
	at org.eclipse.jdt.core.dom.ASTParser.internalCreateAST(ASTParser.java:681)
	at org.eclipse.jdt.core.dom.ASTParser.createAST(ASTParser.java:574)
	at
org.eclipse.jdt.internal.ui.javaeditor.ASTProvider.createAST(ASTProvider.java:439)
	at org.eclipse.jdt.internal.ui.javaeditor.ASTProvider.getAST(ASTProvider.java:391)
	at
org.eclipse.jdt.internal.ui.viewsupport.SelectionListenerWithASTManager$PartListenerGroup.calculateASTandInform(SelectionListenerWithASTManager.java:159)
	at
org.eclipse.jdt.internal.ui.viewsupport.SelectionListenerWithASTManager$3.run(SelectionListenerWithASTManager.java:136)
	at org.eclipse.core.internal.jobs.Worker.run(Worker.java:66)

!ENTRY org.eclipse.core.runtime 4 2 Jun 21, 2004 08:51:59.734
!MESSAGE An internal error occurred during: "Java AST creation".
!STACK 0
java.lang.NoClassDefFoundError
	at org.eclipse.jdt.core.dom.AST.newVariableDeclarationStatement(AST.java:1802)
	at
org.eclipse.jdt.core.dom.ASTConverter.convertToVariableDeclarationStatement(ASTConverter.java:2787)
	at
org.eclipse.jdt.core.dom.ASTConverter.checkAndAddMultipleLocalDeclaration(ASTConverter.java:390)
	at org.eclipse.jdt.core.dom.ASTConverter.convert(ASTConverter.java:768)
	at
org.eclipse.jdt.core.dom.ASTConverter.buildBodyDeclarations(ASTConverter.java:336)
	at org.eclipse.jdt.core.dom.ASTConverter.convert(ASTConverter.java:274)
	at org.eclipse.jdt.core.dom.ASTConverter.convert(ASTConverter.java:152)
	at org.eclipse.jdt.core.dom.ASTParser.convert(ASTParser.java:711)
	at org.eclipse.jdt.core.dom.ASTParser.internalCreateAST(ASTParser.java:681)
	at org.eclipse.jdt.core.dom.ASTParser.createAST(ASTParser.java:574)
	at
org.eclipse.jdt.internal.ui.javaeditor.ASTProvider.createAST(ASTProvider.java:439)
	at org.eclipse.jdt.internal.ui.javaeditor.ASTProvider.getAST(ASTProvider.java:391)
	at
org.eclipse.jdt.internal.ui.viewsupport.SelectionListenerWithASTManager$PartListenerGroup.calculateASTandInform(SelectionListenerWithASTManager.java:159)
	at
org.eclipse.jdt.internal.ui.viewsupport.SelectionListenerWithASTManager$3.run(SelectionListenerWithASTManager.java:136)
	at org.eclipse.core.internal.jobs.Worker.run(Worker.java:66)

!ENTRY org.eclipse.core.runtime 4 2 Jun 21, 2004 08:53:25.62
!MESSAGE An internal error occurred during: "Java AST creation".
!STACK 0
java.lang.NoClassDefFoundError
	at org.eclipse.jdt.core.dom.AST.newVariableDeclarationStatement(AST.java:1802)
	at
org.eclipse.jdt.core.dom.ASTConverter.convertToVariableDeclarationStatement(ASTConverter.java:2787)
	at
org.eclipse.jdt.core.dom.ASTConverter.checkAndAddMultipleLocalDeclaration(ASTConverter.java:390)
	at org.eclipse.jdt.core.dom.ASTConverter.convert(ASTConverter.java:768)
	at
org.eclipse.jdt.core.dom.ASTConverter.buildBodyDeclarations(ASTConverter.java:336)
	at org.eclipse.jdt.core.dom.ASTConverter.convert(ASTConverter.java:274)
	at org.eclipse.jdt.core.dom.ASTConverter.convert(ASTConverter.java:152)
	at org.eclipse.jdt.core.dom.ASTParser.convert(ASTParser.java:711)
	at org.eclipse.jdt.core.dom.ASTParser.internalCreateAST(ASTParser.java:681)
	at org.eclipse.jdt.core.dom.ASTParser.createAST(ASTParser.java:574)
	at
org.eclipse.jdt.internal.ui.javaeditor.ASTProvider.createAST(ASTProvider.java:439)
	at org.eclipse.jdt.internal.ui.javaeditor.ASTProvider.getAST(ASTProvider.java:391)
	at
org.eclipse.jdt.internal.ui.viewsupport.SelectionListenerWithASTManager$PartListenerGroup.calculateASTandInform(SelectionListenerWithASTManager.java:159)
	at
org.eclipse.jdt.internal.ui.viewsupport.SelectionListenerWithASTManager$3.run(SelectionListenerWithASTManager.java:136)
	at org.eclipse.core.internal.jobs.Worker.run(Worker.java:66)

!ENTRY org.eclipse.core.runtime 4 2 Jun 21, 2004 08:53:31.250
!MESSAGE An internal error occurred during: "Java AST creation".
!STACK 0
java.lang.NoClassDefFoundError
	at org.eclipse.jdt.core.dom.AST.newVariableDeclarationStatement(AST.java:1802)
	at
org.eclipse.jdt.core.dom.ASTConverter.convertToVariableDeclarationStatement(ASTConverter.java:2787)
	at
org.eclipse.jdt.core.dom.ASTConverter.checkAndAddMultipleLocalDeclaration(ASTConverter.java:390)
	at org.eclipse.jdt.core.dom.ASTConverter.convert(ASTConverter.java:768)
	at
org.eclipse.jdt.core.dom.ASTConverter.buildBodyDeclarations(ASTConverter.java:336)
	at org.eclipse.jdt.core.dom.ASTConverter.convert(ASTConverter.java:274)
	at org.eclipse.jdt.core.dom.ASTConverter.convert(ASTConverter.java:152)
	at org.eclipse.jdt.core.dom.ASTParser.convert(ASTParser.java:711)
	at org.eclipse.jdt.core.dom.ASTParser.internalCreateAST(ASTParser.java:681)
	at org.eclipse.jdt.core.dom.ASTParser.createAST(ASTParser.java:574)
	at
org.eclipse.jdt.internal.ui.javaeditor.ASTProvider.createAST(ASTProvider.java:439)
	at org.eclipse.jdt.internal.ui.javaeditor.ASTProvider.getAST(ASTProvider.java:391)
	at
org.eclipse.jdt.internal.ui.viewsupport.SelectionListenerWithASTManager$PartListenerGroup.calculateASTandInform(SelectionListenerWithASTManager.java:159)
	at
org.eclipse.jdt.internal.ui.viewsupport.SelectionListenerWithASTManager$3.run(SelectionListenerWithASTManager.java:136)
	at org.eclipse.core.internal.jobs.Worker.run(Worker.java:66)

!ENTRY org.eclipse.ui 4 4 Jun 21, 2004 09:43:16.62
!MESSAGE Memento problem - invalid integer for key:
org.eclipse.jdt.search.resultpage.grouping value: TRUE

!ENTRY org.eclipse.core.runtime 4 2 Jun 21, 2004 09:43:38.281
!MESSAGE An internal error occurred during: "Java AST creation".
!STACK 0
java.lang.NoClassDefFoundError
	at org.eclipse.jdt.core.dom.AST.newVariableDeclarationStatement(AST.java:1802)
	at
org.eclipse.jdt.core.dom.ASTConverter.convertToVariableDeclarationStatement(ASTConverter.java:2787)
	at
org.eclipse.jdt.core.dom.ASTConverter.checkAndAddMultipleLocalDeclaration(ASTConverter.java:390)
	at org.eclipse.jdt.core.dom.ASTConverter.convert(ASTConverter.java:768)
	at
org.eclipse.jdt.core.dom.ASTConverter.buildBodyDeclarations(ASTConverter.java:336)
	at org.eclipse.jdt.core.dom.ASTConverter.convert(ASTConverter.java:274)
	at org.eclipse.jdt.core.dom.ASTConverter.convert(ASTConverter.java:152)
	at org.eclipse.jdt.core.dom.ASTParser.convert(ASTParser.java:711)
	at org.eclipse.jdt.core.dom.ASTParser.internalCreateAST(ASTParser.java:681)
	at org.eclipse.jdt.core.dom.ASTParser.createAST(ASTParser.java:574)
	at
org.eclipse.jdt.internal.ui.javaeditor.ASTProvider.createAST(ASTProvider.java:439)
	at org.eclipse.jdt.internal.ui.javaeditor.ASTProvider.getAST(ASTProvider.java:391)
	at
org.eclipse.jdt.internal.ui.viewsupport.SelectionListenerWithASTManager$PartListenerGroup.calculateASTandInform(SelectionListenerWithASTManager.java:159)
	at
org.eclipse.jdt.internal.ui.viewsupport.SelectionListenerWithASTManager$3.run(SelectionListenerWithASTManager.java:136)
	at org.eclipse.core.internal.jobs.Worker.run(Worker.java:66)

!ENTRY org.eclipse.core.runtime 4 2 Jun 21, 2004 10:03:56.31
!MESSAGE An internal error occurred during: "Java AST creation".
!STACK 0
java.lang.NoClassDefFoundError
	at org.eclipse.jdt.core.dom.AST.newVariableDeclarationStatement(AST.java:1802)
	at
org.eclipse.jdt.core.dom.ASTConverter.convertToVariableDeclarationStatement(ASTConverter.java:2787)
	at
org.eclipse.jdt.core.dom.ASTConverter.checkAndAddMultipleLocalDeclaration(ASTConverter.java:390)
	at org.eclipse.jdt.core.dom.ASTConverter.convert(ASTConverter.java:768)
	at
org.eclipse.jdt.core.dom.ASTConverter.buildBodyDeclarations(ASTConverter.java:336)
	at org.eclipse.jdt.core.dom.ASTConverter.convert(ASTConverter.java:274)
	at org.eclipse.jdt.core.dom.ASTConverter.convert(ASTConverter.java:152)
	at org.eclipse.jdt.core.dom.ASTParser.convert(ASTParser.java:711)
	at org.eclipse.jdt.core.dom.ASTParser.internalCreateAST(ASTParser.java:681)
	at org.eclipse.jdt.core.dom.ASTParser.createAST(ASTParser.java:574)
	at
org.eclipse.jdt.internal.ui.javaeditor.ASTProvider.createAST(ASTProvider.java:439)
	at org.eclipse.jdt.internal.ui.javaeditor.ASTProvider.getAST(ASTProvider.java:391)
	at
org.eclipse.jdt.internal.ui.viewsupport.SelectionListenerWithASTManager$PartListenerGroup.calculateASTandInform(SelectionListenerWithASTManager.java:159)
	at
org.eclipse.jdt.internal.ui.viewsupport.SelectionListenerWithASTManager$3.run(SelectionListenerWithASTManager.java:136)
	at org.eclipse.core.internal.jobs.Worker.run(Worker.java:66)

!ENTRY org.eclipse.core.runtime 4 2 Jun 21, 2004 10:03:56.953
!MESSAGE An internal error occurred during: "Java AST creation".
!STACK 0
java.lang.NoClassDefFoundError
	at org.eclipse.jdt.core.dom.AST.newVariableDeclarationStatement(AST.java:1802)
	at
org.eclipse.jdt.core.dom.ASTConverter.convertToVariableDeclarationStatement(ASTConverter.java:2787)
	at
org.eclipse.jdt.core.dom.ASTConverter.checkAndAddMultipleLocalDeclaration(ASTConverter.java:390)
	at org.eclipse.jdt.core.dom.ASTConverter.convert(ASTConverter.java:768)
	at
org.eclipse.jdt.core.dom.ASTConverter.buildBodyDeclarations(ASTConverter.java:336)
	at org.eclipse.jdt.core.dom.ASTConverter.convert(ASTConverter.java:274)
	at org.eclipse.jdt.core.dom.ASTConverter.convert(ASTConverter.java:152)
	at org.eclipse.jdt.core.dom.ASTParser.convert(ASTParser.java:711)
	at org.eclipse.jdt.core.dom.ASTParser.internalCreateAST(ASTParser.java:681)
	at org.eclipse.jdt.core.dom.ASTParser.createAST(ASTParser.java:574)
	at
org.eclipse.jdt.internal.ui.javaeditor.ASTProvider.createAST(ASTProvider.java:439)
	at org.eclipse.jdt.internal.ui.javaeditor.ASTProvider.getAST(ASTProvider.java:391)
	at
org.eclipse.jdt.internal.ui.viewsupport.SelectionListenerWithASTManager$PartListenerGroup.calculateASTandInform(SelectionListenerWithASTManager.java:159)
	at
org.eclipse.jdt.internal.ui.viewsupport.SelectionListenerWithASTManager$3.run(SelectionListenerWithASTManager.java:136)
	at org.eclipse.core.internal.jobs.Worker.run(Worker.java:66)

!ENTRY org.eclipse.core.runtime 4 2 Jun 21, 2004 10:11:19.78
!MESSAGE An internal error occurred during: "Java AST creation".
!STACK 0
java.lang.NoClassDefFoundError
	at org.eclipse.jdt.core.dom.AST.newVariableDeclarationStatement(AST.java:1802)
	at
org.eclipse.jdt.core.dom.ASTConverter.convertToVariableDeclarationStatement(ASTConverter.java:2787)
	at
org.eclipse.jdt.core.dom.ASTConverter.checkAndAddMultipleLocalDeclaration(ASTConverter.java:390)
	at org.eclipse.jdt.core.dom.ASTConverter.convert(ASTConverter.java:768)
	at
org.eclipse.jdt.core.dom.ASTConverter.buildBodyDeclarations(ASTConverter.java:336)
	at org.eclipse.jdt.core.dom.ASTConverter.convert(ASTConverter.java:274)
	at org.eclipse.jdt.core.dom.ASTConverter.convert(ASTConverter.java:152)
	at org.eclipse.jdt.core.dom.ASTParser.convert(ASTParser.java:711)
	at org.eclipse.jdt.core.dom.ASTParser.internalCreateAST(ASTParser.java:681)
	at org.eclipse.jdt.core.dom.ASTParser.createAST(ASTParser.java:574)
	at
org.eclipse.jdt.internal.ui.javaeditor.ASTProvider.createAST(ASTProvider.java:439)
	at org.eclipse.jdt.internal.ui.javaeditor.ASTProvider.getAST(ASTProvider.java:391)
	at
org.eclipse.jdt.internal.ui.viewsupport.SelectionListenerWithASTManager$PartListenerGroup.calculateASTandInform(SelectionListenerWithASTManager.java:159)
	at
org.eclipse.jdt.internal.ui.viewsupport.SelectionListenerWithASTManager$3.run(SelectionListenerWithASTManager.java:136)
	at org.eclipse.core.internal.jobs.Worker.run(Worker.java:66)

!ENTRY org.eclipse.core.runtime 4 2 Jun 21, 2004 10:16:50.656
!MESSAGE An internal error occurred during: "Java AST creation".
!STACK 0
java.lang.NoClassDefFoundError
	at org.eclipse.jdt.core.dom.AST.newVariableDeclarationStatement(AST.java:1802)
	at
org.eclipse.jdt.core.dom.ASTConverter.convertToVariableDeclarationStatement(ASTConverter.java:2787)
	at
org.eclipse.jdt.core.dom.ASTConverter.checkAndAddMultipleLocalDeclaration(ASTConverter.java:390)
	at org.eclipse.jdt.core.dom.ASTConverter.convert(ASTConverter.java:768)
	at
org.eclipse.jdt.core.dom.ASTConverter.buildBodyDeclarations(ASTConverter.java:336)
	at org.eclipse.jdt.core.dom.ASTConverter.convert(ASTConverter.java:274)
	at org.eclipse.jdt.core.dom.ASTConverter.convert(ASTConverter.java:152)
	at org.eclipse.jdt.core.dom.ASTParser.convert(ASTParser.java:711)
	at org.eclipse.jdt.core.dom.ASTParser.internalCreateAST(ASTParser.java:681)
	at org.eclipse.jdt.core.dom.ASTParser.createAST(ASTParser.java:574)
	at
org.eclipse.jdt.internal.ui.javaeditor.ASTProvider.createAST(ASTProvider.java:439)
	at org.eclipse.jdt.internal.ui.javaeditor.ASTProvider.getAST(ASTProvider.java:391)
	at
org.eclipse.jdt.internal.ui.viewsupport.SelectionListenerWithASTManager$PartListenerGroup.calculateASTandInform(SelectionListenerWithASTManager.java:159)
	at
org.eclipse.jdt.internal.ui.viewsupport.SelectionListenerWithASTManager$3.run(SelectionListenerWithASTManager.java:136)
	at org.eclipse.core.internal.jobs.Worker.run(Worker.java:66)

!ENTRY org.eclipse.core.runtime 4 2 Jun 21, 2004 10:26:37.453
!MESSAGE An internal error occurred during: "Java AST creation".
!STACK 0
java.lang.NoClassDefFoundError
	at org.eclipse.jdt.core.dom.AST.newVariableDeclarationStatement(AST.java:1802)
	at
org.eclipse.jdt.core.dom.ASTConverter.convertToVariableDeclarationStatement(ASTConverter.java:2787)
	at
org.eclipse.jdt.core.dom.ASTConverter.checkAndAddMultipleLocalDeclaration(ASTConverter.java:390)
	at org.eclipse.jdt.core.dom.ASTConverter.convert(ASTConverter.java:768)
	at
org.eclipse.jdt.core.dom.ASTConverter.buildBodyDeclarations(ASTConverter.java:336)
	at org.eclipse.jdt.core.dom.ASTConverter.convert(ASTConverter.java:274)
	at org.eclipse.jdt.core.dom.ASTConverter.convert(ASTConverter.java:152)
	at org.eclipse.jdt.core.dom.ASTParser.convert(ASTParser.java:711)
	at org.eclipse.jdt.core.dom.ASTParser.internalCreateAST(ASTParser.java:681)
	at org.eclipse.jdt.core.dom.ASTParser.createAST(ASTParser.java:574)
	at
org.eclipse.jdt.internal.ui.javaeditor.ASTProvider.createAST(ASTProvider.java:439)
	at org.eclipse.jdt.internal.ui.javaeditor.ASTProvider.getAST(ASTProvider.java:391)
	at
org.eclipse.jdt.internal.ui.viewsupport.SelectionListenerWithASTManager$PartListenerGroup.calculateASTandInform(SelectionListenerWithASTManager.java:159)
	at
org.eclipse.jdt.internal.ui.viewsupport.SelectionListenerWithASTManager$3.run(SelectionListenerWithASTManager.java:136)
	at org.eclipse.core.internal.jobs.Worker.run(Worker.java:66)

!ENTRY org.eclipse.core.runtime 4 2 Jun 21, 2004 10:26:43.875
!MESSAGE An internal error occurred during: "Java AST creation".
!STACK 0
java.lang.NoClassDefFoundError
	at org.eclipse.jdt.core.dom.AST.newVariableDeclarationStatement(AST.java:1802)
	at
org.eclipse.jdt.core.dom.ASTConverter.convertToVariableDeclarationStatement(ASTConverter.java:2787)
	at
org.eclipse.jdt.core.dom.ASTConverter.checkAndAddMultipleLocalDeclaration(ASTConverter.java:390)
	at org.eclipse.jdt.core.dom.ASTConverter.convert(ASTConverter.java:768)
	at
org.eclipse.jdt.core.dom.ASTConverter.buildBodyDeclarations(ASTConverter.java:336)
	at org.eclipse.jdt.core.dom.ASTConverter.convert(ASTConverter.java:274)
	at org.eclipse.jdt.core.dom.ASTConverter.convert(ASTConverter.java:152)
	at org.eclipse.jdt.core.dom.ASTParser.convert(ASTParser.java:711)
	at org.eclipse.jdt.core.dom.ASTParser.internalCreateAST(ASTParser.java:681)
	at org.eclipse.jdt.core.dom.ASTParser.createAST(ASTParser.java:574)
	at
org.eclipse.jdt.internal.ui.javaeditor.ASTProvider.createAST(ASTProvider.java:439)
	at org.eclipse.jdt.internal.ui.javaeditor.ASTProvider.getAST(ASTProvider.java:391)
	at
org.eclipse.jdt.internal.ui.viewsupport.SelectionListenerWithASTManager$PartListenerGroup.calculateASTandInform(SelectionListenerWithASTManager.java:159)
	at
org.eclipse.jdt.internal.ui.viewsupport.SelectionListenerWithASTManager$3.run(SelectionListenerWithASTManager.java:136)
	at org.eclipse.core.internal.jobs.Worker.run(Worker.java:66)

!ENTRY org.eclipse.core.runtime 4 2 Jun 21, 2004 10:41:31.718
!MESSAGE An internal error occurred during: "Java AST creation".
!STACK 0
java.lang.NoClassDefFoundError
	at org.eclipse.jdt.core.dom.AST.newVariableDeclarationStatement(AST.java:1802)
	at
org.eclipse.jdt.core.dom.ASTConverter.convertToVariableDeclarationStatement(ASTConverter.java:2787)
	at
org.eclipse.jdt.core.dom.ASTConverter.checkAndAddMultipleLocalDeclaration(ASTConverter.java:390)
	at org.eclipse.jdt.core.dom.ASTConverter.convert(ASTConverter.java:768)
	at
org.eclipse.jdt.core.dom.ASTConverter.buildBodyDeclarations(ASTConverter.java:336)
	at org.eclipse.jdt.core.dom.ASTConverter.convert(ASTConverter.java:274)
	at org.eclipse.jdt.core.dom.ASTConverter.convert(ASTConverter.java:152)
	at org.eclipse.jdt.core.dom.ASTParser.convert(ASTParser.java:711)
	at org.eclipse.jdt.core.dom.ASTParser.internalCreateAST(ASTParser.java:681)
	at org.eclipse.jdt.core.dom.ASTParser.createAST(ASTParser.java:574)
	at
org.eclipse.jdt.internal.ui.javaeditor.ASTProvider.createAST(ASTProvider.java:439)
	at org.eclipse.jdt.internal.ui.javaeditor.ASTProvider.getAST(ASTProvider.java:391)
	at
org.eclipse.jdt.internal.ui.viewsupport.SelectionListenerWithASTManager$PartListenerGroup.calculateASTandInform(SelectionListenerWithASTManager.java:159)
	at
org.eclipse.jdt.internal.ui.viewsupport.SelectionListenerWithASTManager$3.run(SelectionListenerWithASTManager.java:136)
	at org.eclipse.core.internal.jobs.Worker.run(Worker.java:66)

!ENTRY org.eclipse.core.runtime 4 2 Jun 21, 2004 10:41:35.703
!MESSAGE An internal error occurred during: "Java AST creation".
!STACK 0
java.lang.NoClassDefFoundError
	at org.eclipse.jdt.core.dom.AST.newVariableDeclarationStatement(AST.java:1802)
	at
org.eclipse.jdt.core.dom.ASTConverter.convertToVariableDeclarationStatement(ASTConverter.java:2787)
	at
org.eclipse.jdt.core.dom.ASTConverter.checkAndAddMultipleLocalDeclaration(ASTConverter.java:390)
	at org.eclipse.jdt.core.dom.ASTConverter.convert(ASTConverter.java:768)
	at
org.eclipse.jdt.core.dom.ASTConverter.buildBodyDeclarations(ASTConverter.java:336)
	at org.eclipse.jdt.core.dom.ASTConverter.convert(ASTConverter.java:274)
	at org.eclipse.jdt.core.dom.ASTConverter.convert(ASTConverter.java:152)
	at org.eclipse.jdt.core.dom.ASTParser.convert(ASTParser.java:711)
	at org.eclipse.jdt.core.dom.ASTParser.internalCreateAST(ASTParser.java:681)
	at org.eclipse.jdt.core.dom.ASTParser.createAST(ASTParser.java:574)
	at
org.eclipse.jdt.internal.ui.javaeditor.ASTProvider.createAST(ASTProvider.java:439)
	at org.eclipse.jdt.internal.ui.javaeditor.ASTProvider.getAST(ASTProvider.java:391)
	at
org.eclipse.jdt.internal.ui.viewsupport.SelectionListenerWithASTManager$PartListenerGroup.calculateASTandInform(SelectionListenerWithASTManager.java:159)
	at
org.eclipse.jdt.internal.ui.viewsupport.SelectionListenerWithASTManager$3.run(SelectionListenerWithASTManager.java:136)
	at org.eclipse.core.internal.jobs.Worker.run(Worker.java:66)

!ENTRY org.eclipse.core.runtime 4 2 Jun 21, 2004 10:41:54.15
!MESSAGE An internal error occurred during: "Java AST creation".
!STACK 0
java.lang.NoClassDefFoundError
	at org.eclipse.jdt.core.dom.AST.newVariableDeclarationStatement(AST.java:1802)
	at
org.eclipse.jdt.core.dom.ASTConverter.convertToVariableDeclarationStatement(ASTConverter.java:2787)
	at
org.eclipse.jdt.core.dom.ASTConverter.checkAndAddMultipleLocalDeclaration(ASTConverter.java:390)
	at org.eclipse.jdt.core.dom.ASTConverter.convert(ASTConverter.java:768)
	at
org.eclipse.jdt.core.dom.ASTConverter.buildBodyDeclarations(ASTConverter.java:336)
	at org.eclipse.jdt.core.dom.ASTConverter.convert(ASTConverter.java:274)
	at org.eclipse.jdt.core.dom.ASTConverter.convert(ASTConverter.java:152)
	at org.eclipse.jdt.core.dom.ASTParser.convert(ASTParser.java:711)
	at org.eclipse.jdt.core.dom.ASTParser.internalCreateAST(ASTParser.java:681)
	at org.eclipse.jdt.core.dom.ASTParser.createAST(ASTParser.java:574)
	at
org.eclipse.jdt.internal.ui.javaeditor.ASTProvider.createAST(ASTProvider.java:439)
	at org.eclipse.jdt.internal.ui.javaeditor.ASTProvider.getAST(ASTProvider.java:391)
	at
org.eclipse.jdt.internal.ui.viewsupport.SelectionListenerWithASTManager$PartListenerGroup.calculateASTandInform(SelectionListenerWithASTManager.java:159)
	at
org.eclipse.jdt.internal.ui.viewsupport.SelectionListenerWithASTManager$3.run(SelectionListenerWithASTManager.java:136)
	at org.eclipse.core.internal.jobs.Worker.run(Worker.java:66)

Add reporter of bug 67469, as a similar NoClassDefFoundError exception occured
on a different context...
*** Bug 68159 has been marked as a duplicate of this bug. ***
I've seen this bug as well (on 3.0GA Linux/GTK). There is no other exception 
in the log except this one (which happens constantly until I restart).  
 
 
This error normally shows up when a class has an exception happen in the 
static part of the code (either initializing the static fields or a static {} 
block). Any attempt from then on to instanciate the class fails until the 
class is unloaded from the classloader/restart. 
 
I notice, at least in my exception, the AST.java line it fails on is trying to 
do new ClassInstanceCreation( .. ); a class which has a huge static block in 
it. It is strange perhaps that the original exception is not found in the 
logs, but I assume it is caught and ignored somewhere in the system. I would 
bet money on that the cause is within that static block (or the static 
fields). 
 
I've put a try/catch block in the static block in my system in that particular 
class, but the chance of this happening again is slim as it only has happened 
once in probably a thousand runs of Eclipse. 
 
 
 
--- Exception 
 
 
!ENTRY org.eclipse.core.runtime 4 2 Jul 18, 2004 18:11:45.819 
!MESSAGE An internal error occurred during: "Java AST creation". 
!STACK 0 
java.lang.NoClassDefFoundError 
        at 
org.eclipse.jdt.core.dom.AST.newClassInstanceCreation(AST.java:2483) 
        at 
org.eclipse.jdt.core.dom.ASTConverter.convert(ASTConverter.java:942) 
        at 
org.eclipse.jdt.core.dom.ASTConverter.convert(ASTConverter.java:833) 
        at 
org.eclipse.jdt.core.dom.ASTConverter.convert(ASTConverter.java:2108) 
        at 
org.eclipse.jdt.core.dom.ASTConverter.convert(ASTConverter.java:1852) 
        at 
org.eclipse.jdt.core.dom.ASTConverter.convert(ASTConverter.java:2055) 
        at 
org.eclipse.jdt.core.dom.ASTConverter.convert(ASTConverter.java:1837) 
        at 
org.eclipse.jdt.core.dom.ASTConverter.convert(ASTConverter.java:770) 
        at 
org.eclipse.jdt.core.dom.ASTConverter.buildBodyDeclarations(ASTConverter.java:336) 
        at 
org.eclipse.jdt.core.dom.ASTConverter.convert(ASTConverter.java:274) 
        at 
org.eclipse.jdt.core.dom.ASTConverter.convert(ASTConverter.java:152) 
        at org.eclipse.jdt.core.dom.ASTParser.convert(ASTParser.java:711) 
        at 
org.eclipse.jdt.core.dom.ASTParser.internalCreateAST(ASTParser.java:681) 
        at org.eclipse.jdt.core.dom.ASTParser.createAST(ASTParser.java:574) 
        at 
org.eclipse.jdt.internal.ui.javaeditor.ASTProvider.createAST(ASTProvider.java:439) 
        at 
org.eclipse.jdt.internal.ui.javaeditor.ASTProvider.getAST(ASTProvider.java:391) 
        at 
org.eclipse.jdt.internal.ui.viewsupport.SelectionListenerWithASTManager$PartListenerGroup.calculateASTandInform(Selection 
ListenerWithASTManager.java:159) 
        at 
org.eclipse.jdt.internal.ui.viewsupport.SelectionListenerWithASTManager$3.run(SelectionListenerWithASTManager.java:136) 
        at org.eclipse.core.internal.jobs.Worker.run(Worker.java:66) 
 
 
*** Bug 70940 has been marked as a duplicate of this bug. ***
*** Bug 70470 has been marked as a duplicate of this bug. ***
*** Bug 71536 has been marked as a duplicate of this bug. ***
Could this be due to the fact that the job is still running when Eclipse is
shutting down?
So far, we cannot determine what could be the steps to reproduce. If anybody has
some pointers, it would be great!
Created attachment 13806
Stack trace(s)

Two different stack traces of bug occurring.
I originally reported bug 71536 which has been marked as a duplicate of this.

As with other reporters the last occurrence I had started near the time I opened eclipse (might have 
been after I did a cvs update right at the start) then continued at varying rates until (about an hour 
later) I stopped and restarted. I have had this same bug turn up and go away about 4 times in the last 2 
weeks of pretty continuous 16hours/6 days use of eclipse. This is on MacOSX 10.3. 

On last post I attached a text file which contains two different stack traces (both occurred many times). 
If anyone wants I can post the entire .log (which may contain other variants I didnt have the patience to 
find).

*** Bug 71641 has been marked as a duplicate of this bug. ***
*** Bug 71194 has been marked as a duplicate of this bug. ***
Move to Platform/Runtime for comment.
This seems to be a runtime problem. I have no idea how a NoClassDefFoundError
can happen in this case.
*** Bug 71871 has been marked as a duplicate of this bug. ***
*** Bug 72739 has been marked as a duplicate of this bug. ***
*** Bug 72883 has been marked as a duplicate of this bug. ***
*** Bug 73848 has been marked as a duplicate of this bug. ***
Created attachment 14551
Produces AST generation errors

Using Eclipse SDK Version: 3.0.0, Build id: 200406251208, Linux/GTK running
with IBM jdk on i386, I can reproducibly trigger AST generation errors. 

In line 20 of the attached source file, replace == with a single =, and watch
them appear.
Additional Info: I have the JDK 1.5 Plugin installed, but the compiler and class 
files preferences are all set to 1.4
Another addition: When I deactivate the 1.5 plugin, the error does not appear.
appears that this has gone away or is no longer relevant.  Nothing has 
happened here for months.  Please reopen if you are seeing anything similar.</WithStack>
    <WithOutStack>I downloaded RC3 this morning, unzipped it in a Directory,  installed xmlbuddy
2.0.10 and started it with the workspace from the RC2.
Every time i click in the java editor, i get the following error in a message box.

An internal error occurred during: "Java AST creation".
java.lang.NoClassDefFoundError
org.eclipse.jdt.core.dom.AST.newVariableDeclarationStatement(AST.java:1802)
org.eclipse.jdt.core.dom.ASTConverter.convertToVariableDeclarationStatement(ASTConverter.java:2787)
org.eclipse.jdt.core.dom.ASTConverter.checkAndAddMultipleLocalDeclaration(ASTConverter.java:390)
org.eclipse.jdt.core.dom.ASTConverter.convert(ASTConverter.java:768)
org.eclipse.jdt.core.dom.ASTConverter.buildBodyDeclarations(ASTConverter.java:336)
org.eclipse.jdt.core.dom.ASTConverter.convert(ASTConverter.java:274)
org.eclipse.jdt.core.dom.ASTConverter.convert(ASTConverter.java:152)
org.eclipse.jdt.core.dom.ASTParser.convert(ASTParser.java:711)
org.eclipse.jdt.core.dom.ASTParser.internalCreateAST(ASTParser.java:681)
org.eclipse.jdt.core.dom.ASTParser.createAST(ASTParser.java:574)
org.eclipse.jdt.internal.ui.javaeditor.ASTProvider.createAST(ASTProvider.java:439)
org.eclipse.jdt.internal.ui.javaeditor.ASTProvider.getAST(ASTProvider.java:391)
org.eclipse.jdt.internal.ui.viewsupport.SelectionListenerWithASTManager$PartListenerGroup.calculateASTandInform(SelectionListenerWithASTManager.java:159)
org.eclipse.jdt.internal.ui.viewsupport.SelectionListenerWithASTManager$3.run(SelectionListenerWithASTManager.java:136)
org.eclipse.core.internal.jobs.Worker.run(Worker.java:66)

I tried a rebuild of all projects in the workspace, but the problem stays the same.
Do you have anything else in your .log file ?
The following are the entries for the session started this morning.
Perhaps xmlbuddy is the problem, but the error occured when trying to edit a
java-file not a xml-file.

!SESSION Jun 21, 2004 08:51:07.437 ---------------------------------------------
eclipse.buildId=I200406192000
java.version=1.4.2_04
java.vendor=Sun Microsystems Inc.
BootLoader constants: OS=win32, ARCH=x86, WS=win32, NL=de_CH

!ENTRY org.eclipse.core.filebuffers 4 0 Jun 21, 2004 08:51:07.437
!MESSAGE The content type with id "com.objfac.xmlbuddy.xmlfile" specified in the
extension point does not exist.

!ENTRY org.eclipse.core.runtime 4 2 Jun 21, 2004 08:51:28.812
!MESSAGE An internal error occurred during: "Java AST creation".
!STACK 0

!ENTRY org.eclipse.core.runtime 4 2 Jun 21, 2004 08:51:59.734
!MESSAGE An internal error occurred during: "Java AST creation".
!STACK 0

!ENTRY org.eclipse.core.runtime 4 2 Jun 21, 2004 08:53:25.62
!MESSAGE An internal error occurred during: "Java AST creation".
!STACK 0
java.lang.NoClassDefFoundError
	at org.eclipse.jdt.core.dom.AST.newVariableDeclarationStatement(AST.java:1802)
	at
org.eclipse.jdt.core.dom.ASTConverter.convertToVariableDeclarationStatement(ASTConverter.java:2787)
	at
org.eclipse.jdt.core.dom.ASTConverter.checkAndAddMultipleLocalDeclaration(ASTConverter.java:390)
	at org.eclipse.jdt.core.dom.ASTConverter.convert(ASTConverter.java:768)
	at
org.eclipse.jdt.core.dom.ASTConverter.buildBodyDeclarations(ASTConverter.java:336)
	at org.eclipse.jdt.core.dom.ASTConverter.convert(ASTConverter.java:274)
	at org.eclipse.jdt.core.dom.ASTConverter.convert(ASTConverter.java:152)
	at org.eclipse.jdt.core.dom.ASTParser.convert(ASTParser.java:711)
	at org.eclipse.jdt.core.dom.ASTParser.internalCreateAST(ASTParser.java:681)
	at org.eclipse.jdt.core.dom.ASTParser.createAST(ASTParser.java:574)
	at
org.eclipse.jdt.internal.ui.javaeditor.ASTProvider.createAST(ASTProvider.java:439)
	at org.eclipse.jdt.internal.ui.javaeditor.ASTProvider.getAST(ASTProvider.java:391)
	at
org.eclipse.jdt.internal.ui.viewsupport.SelectionListenerWithASTManager$PartListenerGroup.calculateASTandInform(SelectionListenerWithASTManager.java:159)
	at
org.eclipse.jdt.internal.ui.viewsupport.SelectionListenerWithASTManager$3.run(SelectionListenerWithASTManager.java:136)
	at org.eclipse.core.internal.jobs.Worker.run(Worker.java:66)

!ENTRY org.eclipse.core.runtime 4 2 Jun 21, 2004 08:53:31.250
!MESSAGE An internal error occurred during: "Java AST creation".
!STACK 0
java.lang.NoClassDefFoundError
	at org.eclipse.jdt.core.dom.AST.newVariableDeclarationStatement(AST.java:1802)
	at
org.eclipse.jdt.core.dom.ASTConverter.convertToVariableDeclarationStatement(ASTConverter.java:2787)
	at
org.eclipse.jdt.core.dom.ASTConverter.checkAndAddMultipleLocalDeclaration(ASTConverter.java:390)
	at org.eclipse.jdt.core.dom.ASTConverter.convert(ASTConverter.java:768)
	at
org.eclipse.jdt.core.dom.ASTConverter.buildBodyDeclarations(ASTConverter.java:336)
	at org.eclipse.jdt.core.dom.ASTConverter.convert(ASTConverter.java:274)
	at org.eclipse.jdt.core.dom.ASTConverter.convert(ASTConverter.java:152)
	at org.eclipse.jdt.core.dom.ASTParser.convert(ASTParser.java:711)
	at org.eclipse.jdt.core.dom.ASTParser.internalCreateAST(ASTParser.java:681)
	at org.eclipse.jdt.core.dom.ASTParser.createAST(ASTParser.java:574)
	at
org.eclipse.jdt.internal.ui.javaeditor.ASTProvider.createAST(ASTProvider.java:439)
	at org.eclipse.jdt.internal.ui.javaeditor.ASTProvider.getAST(ASTProvider.java:391)
	at
org.eclipse.jdt.internal.ui.viewsupport.SelectionListenerWithASTManager$PartListenerGroup.calculateASTandInform(SelectionListenerWithASTManager.java:159)
	at
org.eclipse.jdt.internal.ui.viewsupport.SelectionListenerWithASTManager$3.run(SelectionListenerWithASTManager.java:136)
	at org.eclipse.core.internal.jobs.Worker.run(Worker.java:66)

!ENTRY org.eclipse.ui 4 4 Jun 21, 2004 09:43:16.62
!MESSAGE Memento problem - invalid integer for key:
org.eclipse.jdt.search.resultpage.grouping value: TRUE

!ENTRY org.eclipse.core.runtime 4 2 Jun 21, 2004 09:43:38.281
!MESSAGE An internal error occurred during: "Java AST creation".
!STACK 0
java.lang.NoClassDefFoundError
	at org.eclipse.jdt.core.dom.AST.newVariableDeclarationStatement(AST.java:1802)
	at
org.eclipse.jdt.core.dom.ASTConverter.convertToVariableDeclarationStatement(ASTConverter.java:2787)
	at
org.eclipse.jdt.core.dom.ASTConverter.checkAndAddMultipleLocalDeclaration(ASTConverter.java:390)
	at org.eclipse.jdt.core.dom.ASTConverter.convert(ASTConverter.java:768)
	at
org.eclipse.jdt.core.dom.ASTConverter.buildBodyDeclarations(ASTConverter.java:336)
	at org.eclipse.jdt.core.dom.ASTConverter.convert(ASTConverter.java:274)
	at org.eclipse.jdt.core.dom.ASTConverter.convert(ASTConverter.java:152)
	at org.eclipse.jdt.core.dom.ASTParser.convert(ASTParser.java:711)
	at org.eclipse.jdt.core.dom.ASTParser.internalCreateAST(ASTParser.java:681)
	at org.eclipse.jdt.core.dom.ASTParser.createAST(ASTParser.java:574)
	at
org.eclipse.jdt.internal.ui.javaeditor.ASTProvider.createAST(ASTProvider.java:439)
	at org.eclipse.jdt.internal.ui.javaeditor.ASTProvider.getAST(ASTProvider.java:391)
	at
org.eclipse.jdt.internal.ui.viewsupport.SelectionListenerWithASTManager$PartListenerGroup.calculateASTandInform(SelectionListenerWithASTManager.java:159)
	at
org.eclipse.jdt.internal.ui.viewsupport.SelectionListenerWithASTManager$3.run(SelectionListenerWithASTManager.java:136)
	at org.eclipse.core.internal.jobs.Worker.run(Worker.java:66)

!ENTRY org.eclipse.core.runtime 4 2 Jun 21, 2004 10:03:56.31
!MESSAGE An internal error occurred during: "Java AST creation".
!STACK 0
java.lang.NoClassDefFoundError
	at org.eclipse.jdt.core.dom.AST.newVariableDeclarationStatement(AST.java:1802)
	at
org.eclipse.jdt.core.dom.ASTConverter.convertToVariableDeclarationStatement(ASTConverter.java:2787)
	at
org.eclipse.jdt.core.dom.ASTConverter.checkAndAddMultipleLocalDeclaration(ASTConverter.java:390)
	at org.eclipse.jdt.core.dom.ASTConverter.convert(ASTConverter.java:768)
	at
org.eclipse.jdt.core.dom.ASTConverter.buildBodyDeclarations(ASTConverter.java:336)
	at org.eclipse.jdt.core.dom.ASTConverter.convert(ASTConverter.java:274)
	at org.eclipse.jdt.core.dom.ASTConverter.convert(ASTConverter.java:152)
	at org.eclipse.jdt.core.dom.ASTParser.convert(ASTParser.java:711)
	at org.eclipse.jdt.core.dom.ASTParser.internalCreateAST(ASTParser.java:681)
	at org.eclipse.jdt.core.dom.ASTParser.createAST(ASTParser.java:574)
	at
org.eclipse.jdt.internal.ui.javaeditor.ASTProvider.createAST(ASTProvider.java:439)
	at org.eclipse.jdt.internal.ui.javaeditor.ASTProvider.getAST(ASTProvider.java:391)
	at
org.eclipse.jdt.internal.ui.viewsupport.SelectionListenerWithASTManager$PartListenerGroup.calculateASTandInform(SelectionListenerWithASTManager.java:159)
	at
org.eclipse.jdt.internal.ui.viewsupport.SelectionListenerWithASTManager$3.run(SelectionListenerWithASTManager.java:136)
	at org.eclipse.core.internal.jobs.Worker.run(Worker.java:66)

!ENTRY org.eclipse.core.runtime 4 2 Jun 21, 2004 10:03:56.953
!MESSAGE An internal error occurred during: "Java AST creation".
!STACK 0
java.lang.NoClassDefFoundError
	at org.eclipse.jdt.core.dom.AST.newVariableDeclarationStatement(AST.java:1802)
	at
org.eclipse.jdt.core.dom.ASTConverter.convertToVariableDeclarationStatement(ASTConverter.java:2787)
	at
org.eclipse.jdt.core.dom.ASTConverter.checkAndAddMultipleLocalDeclaration(ASTConverter.java:390)
	at org.eclipse.jdt.core.dom.ASTConverter.convert(ASTConverter.java:768)
	at
org.eclipse.jdt.core.dom.ASTConverter.buildBodyDeclarations(ASTConverter.java:336)
	at org.eclipse.jdt.core.dom.ASTConverter.convert(ASTConverter.java:274)
	at org.eclipse.jdt.core.dom.ASTConverter.convert(ASTConverter.java:152)
	at org.eclipse.jdt.core.dom.ASTParser.convert(ASTParser.java:711)
	at org.eclipse.jdt.core.dom.ASTParser.internalCreateAST(ASTParser.java:681)
	at org.eclipse.jdt.core.dom.ASTParser.createAST(ASTParser.java:574)
	at
org.eclipse.jdt.internal.ui.javaeditor.ASTProvider.createAST(ASTProvider.java:439)
	at org.eclipse.jdt.internal.ui.javaeditor.ASTProvider.getAST(ASTProvider.java:391)
	at
org.eclipse.jdt.internal.ui.viewsupport.SelectionListenerWithASTManager$PartListenerGroup.calculateASTandInform(SelectionListenerWithASTManager.java:159)
	at
org.eclipse.jdt.internal.ui.viewsupport.SelectionListenerWithASTManager$3.run(SelectionListenerWithASTManager.java:136)
	at org.eclipse.core.internal.jobs.Worker.run(Worker.java:66)

!ENTRY org.eclipse.core.runtime 4 2 Jun 21, 2004 10:11:19.78
!MESSAGE An internal error occurred during: "Java AST creation".
!STACK 0
java.lang.NoClassDefFoundError
	at org.eclipse.jdt.core.dom.AST.newVariableDeclarationStatement(AST.java:1802)
	at
org.eclipse.jdt.core.dom.ASTConverter.convertToVariableDeclarationStatement(ASTConverter.java:2787)
	at
org.eclipse.jdt.core.dom.ASTConverter.checkAndAddMultipleLocalDeclaration(ASTConverter.java:390)
	at org.eclipse.jdt.core.dom.ASTConverter.convert(ASTConverter.java:768)
	at
org.eclipse.jdt.core.dom.ASTConverter.buildBodyDeclarations(ASTConverter.java:336)
	at org.eclipse.jdt.core.dom.ASTConverter.convert(ASTConverter.java:274)
	at org.eclipse.jdt.core.dom.ASTConverter.convert(ASTConverter.java:152)
	at org.eclipse.jdt.core.dom.ASTParser.convert(ASTParser.java:711)
	at org.eclipse.jdt.core.dom.ASTParser.internalCreateAST(ASTParser.java:681)
	at org.eclipse.jdt.core.dom.ASTParser.createAST(ASTParser.java:574)
	at
org.eclipse.jdt.internal.ui.javaeditor.ASTProvider.createAST(ASTProvider.java:439)
	at org.eclipse.jdt.internal.ui.javaeditor.ASTProvider.getAST(ASTProvider.java:391)
	at
org.eclipse.jdt.internal.ui.viewsupport.SelectionListenerWithASTManager$PartListenerGroup.calculateASTandInform(SelectionListenerWithASTManager.java:159)
	at
org.eclipse.jdt.internal.ui.viewsupport.SelectionListenerWithASTManager$3.run(SelectionListenerWithASTManager.java:136)
	at org.eclipse.core.internal.jobs.Worker.run(Worker.java:66)

!ENTRY org.eclipse.core.runtime 4 2 Jun 21, 2004 10:16:50.656
!MESSAGE An internal error occurred during: "Java AST creation".
!STACK 0
java.lang.NoClassDefFoundError
	at org.eclipse.jdt.core.dom.AST.newVariableDeclarationStatement(AST.java:1802)
	at
org.eclipse.jdt.core.dom.ASTConverter.convertToVariableDeclarationStatement(ASTConverter.java:2787)
	at
org.eclipse.jdt.core.dom.ASTConverter.checkAndAddMultipleLocalDeclaration(ASTConverter.java:390)
	at org.eclipse.jdt.core.dom.ASTConverter.convert(ASTConverter.java:768)
	at
org.eclipse.jdt.core.dom.ASTConverter.buildBodyDeclarations(ASTConverter.java:336)
	at org.eclipse.jdt.core.dom.ASTConverter.convert(ASTConverter.java:274)
	at org.eclipse.jdt.core.dom.ASTConverter.convert(ASTConverter.java:152)
	at org.eclipse.jdt.core.dom.ASTParser.convert(ASTParser.java:711)
	at org.eclipse.jdt.core.dom.ASTParser.internalCreateAST(ASTParser.java:681)
	at org.eclipse.jdt.core.dom.ASTParser.createAST(ASTParser.java:574)
	at
org.eclipse.jdt.internal.ui.javaeditor.ASTProvider.createAST(ASTProvider.java:439)
	at org.eclipse.jdt.internal.ui.javaeditor.ASTProvider.getAST(ASTProvider.java:391)
	at
org.eclipse.jdt.internal.ui.viewsupport.SelectionListenerWithASTManager$PartListenerGroup.calculateASTandInform(SelectionListenerWithASTManager.java:159)
	at
org.eclipse.jdt.internal.ui.viewsupport.SelectionListenerWithASTManager$3.run(SelectionListenerWithASTManager.java:136)
	at org.eclipse.core.internal.jobs.Worker.run(Worker.java:66)

!ENTRY org.eclipse.core.runtime 4 2 Jun 21, 2004 10:26:37.453
!MESSAGE An internal error occurred during: "Java AST creation".
!STACK 0
java.lang.NoClassDefFoundError
	at org.eclipse.jdt.core.dom.AST.newVariableDeclarationStatement(AST.java:1802)
	at
org.eclipse.jdt.core.dom.ASTConverter.convertToVariableDeclarationStatement(ASTConverter.java:2787)
	at
org.eclipse.jdt.core.dom.ASTConverter.checkAndAddMultipleLocalDeclaration(ASTConverter.java:390)
	at org.eclipse.jdt.core.dom.ASTConverter.convert(ASTConverter.java:768)
	at
org.eclipse.jdt.core.dom.ASTConverter.buildBodyDeclarations(ASTConverter.java:336)
	at org.eclipse.jdt.core.dom.ASTConverter.convert(ASTConverter.java:274)
	at org.eclipse.jdt.core.dom.ASTConverter.convert(ASTConverter.java:152)
	at org.eclipse.jdt.core.dom.ASTParser.convert(ASTParser.java:711)
	at org.eclipse.jdt.core.dom.ASTParser.internalCreateAST(ASTParser.java:681)
	at org.eclipse.jdt.core.dom.ASTParser.createAST(ASTParser.java:574)
	at
org.eclipse.jdt.internal.ui.javaeditor.ASTProvider.createAST(ASTProvider.java:439)
	at org.eclipse.jdt.internal.ui.javaeditor.ASTProvider.getAST(ASTProvider.java:391)
	at
org.eclipse.jdt.internal.ui.viewsupport.SelectionListenerWithASTManager$PartListenerGroup.calculateASTandInform(SelectionListenerWithASTManager.java:159)
	at
org.eclipse.jdt.internal.ui.viewsupport.SelectionListenerWithASTManager$3.run(SelectionListenerWithASTManager.java:136)
	at org.eclipse.core.internal.jobs.Worker.run(Worker.java:66)

!ENTRY org.eclipse.core.runtime 4 2 Jun 21, 2004 10:26:43.875
!MESSAGE An internal error occurred during: "Java AST creation".
!STACK 0
java.lang.NoClassDefFoundError
	at org.eclipse.jdt.core.dom.AST.newVariableDeclarationStatement(AST.java:1802)
	at
org.eclipse.jdt.core.dom.ASTConverter.convertToVariableDeclarationStatement(ASTConverter.java:2787)
	at
org.eclipse.jdt.core.dom.ASTConverter.checkAndAddMultipleLocalDeclaration(ASTConverter.java:390)
	at org.eclipse.jdt.core.dom.ASTConverter.convert(ASTConverter.java:768)
	at
org.eclipse.jdt.core.dom.ASTConverter.buildBodyDeclarations(ASTConverter.java:336)
	at org.eclipse.jdt.core.dom.ASTConverter.convert(ASTConverter.java:274)
	at org.eclipse.jdt.core.dom.ASTConverter.convert(ASTConverter.java:152)
	at org.eclipse.jdt.core.dom.ASTParser.convert(ASTParser.java:711)
	at org.eclipse.jdt.core.dom.ASTParser.internalCreateAST(ASTParser.java:681)
	at org.eclipse.jdt.core.dom.ASTParser.createAST(ASTParser.java:574)
	at
org.eclipse.jdt.internal.ui.javaeditor.ASTProvider.createAST(ASTProvider.java:439)
	at org.eclipse.jdt.internal.ui.javaeditor.ASTProvider.getAST(ASTProvider.java:391)
	at
org.eclipse.jdt.internal.ui.viewsupport.SelectionListenerWithASTManager$PartListenerGroup.calculateASTandInform(SelectionListenerWithASTManager.java:159)
	at
org.eclipse.jdt.internal.ui.viewsupport.SelectionListenerWithASTManager$3.run(SelectionListenerWithASTManager.java:136)
	at org.eclipse.core.internal.jobs.Worker.run(Worker.java:66)

!ENTRY org.eclipse.core.runtime 4 2 Jun 21, 2004 10:41:31.718
!MESSAGE An internal error occurred during: "Java AST creation".
!STACK 0
java.lang.NoClassDefFoundError
	at org.eclipse.jdt.core.dom.AST.newVariableDeclarationStatement(AST.java:1802)
	at
org.eclipse.jdt.core.dom.ASTConverter.convertToVariableDeclarationStatement(ASTConverter.java:2787)
	at
org.eclipse.jdt.core.dom.ASTConverter.checkAndAddMultipleLocalDeclaration(ASTConverter.java:390)
	at org.eclipse.jdt.core.dom.ASTConverter.convert(ASTConverter.java:768)
	at
org.eclipse.jdt.core.dom.ASTConverter.buildBodyDeclarations(ASTConverter.java:336)
	at org.eclipse.jdt.core.dom.ASTConverter.convert(ASTConverter.java:274)
	at org.eclipse.jdt.core.dom.ASTConverter.convert(ASTConverter.java:152)
	at org.eclipse.jdt.core.dom.ASTParser.convert(ASTParser.java:711)
	at org.eclipse.jdt.core.dom.ASTParser.internalCreateAST(ASTParser.java:681)
	at org.eclipse.jdt.core.dom.ASTParser.createAST(ASTParser.java:574)
	at
org.eclipse.jdt.internal.ui.javaeditor.ASTProvider.createAST(ASTProvider.java:439)
	at org.eclipse.jdt.internal.ui.javaeditor.ASTProvider.getAST(ASTProvider.java:391)
	at
org.eclipse.jdt.internal.ui.viewsupport.SelectionListenerWithASTManager$PartListenerGroup.calculateASTandInform(SelectionListenerWithASTManager.java:159)
	at
org.eclipse.jdt.internal.ui.viewsupport.SelectionListenerWithASTManager$3.run(SelectionListenerWithASTManager.java:136)
	at org.eclipse.core.internal.jobs.Worker.run(Worker.java:66)

!ENTRY org.eclipse.core.runtime 4 2 Jun 21, 2004 10:41:35.703
!MESSAGE An internal error occurred during: "Java AST creation".
!STACK 0
java.lang.NoClassDefFoundError
	at org.eclipse.jdt.core.dom.AST.newVariableDeclarationStatement(AST.java:1802)
	at
org.eclipse.jdt.core.dom.ASTConverter.convertToVariableDeclarationStatement(ASTConverter.java:2787)
	at
org.eclipse.jdt.core.dom.ASTConverter.checkAndAddMultipleLocalDeclaration(ASTConverter.java:390)
	at org.eclipse.jdt.core.dom.ASTConverter.convert(ASTConverter.java:768)
	at
org.eclipse.jdt.core.dom.ASTConverter.buildBodyDeclarations(ASTConverter.java:336)
	at org.eclipse.jdt.core.dom.ASTConverter.convert(ASTConverter.java:274)
	at org.eclipse.jdt.core.dom.ASTConverter.convert(ASTConverter.java:152)
	at org.eclipse.jdt.core.dom.ASTParser.convert(ASTParser.java:711)
	at org.eclipse.jdt.core.dom.ASTParser.internalCreateAST(ASTParser.java:681)
	at org.eclipse.jdt.core.dom.ASTParser.createAST(ASTParser.java:574)
	at
org.eclipse.jdt.internal.ui.javaeditor.ASTProvider.createAST(ASTProvider.java:439)
	at org.eclipse.jdt.internal.ui.javaeditor.ASTProvider.getAST(ASTProvider.java:391)
	at
org.eclipse.jdt.internal.ui.viewsupport.SelectionListenerWithASTManager$PartListenerGroup.calculateASTandInform(SelectionListenerWithASTManager.java:159)
	at
org.eclipse.jdt.internal.ui.viewsupport.SelectionListenerWithASTManager$3.run(SelectionListenerWithASTManager.java:136)
	at org.eclipse.core.internal.jobs.Worker.run(Worker.java:66)

!ENTRY org.eclipse.core.runtime 4 2 Jun 21, 2004 10:41:54.15
!MESSAGE An internal error occurred during: "Java AST creation".
!STACK 0
java.lang.NoClassDefFoundError
	at org.eclipse.jdt.core.dom.AST.newVariableDeclarationStatement(AST.java:1802)
	at
org.eclipse.jdt.core.dom.ASTConverter.convertToVariableDeclarationStatement(ASTConverter.java:2787)
	at
org.eclipse.jdt.core.dom.ASTConverter.checkAndAddMultipleLocalDeclaration(ASTConverter.java:390)
	at org.eclipse.jdt.core.dom.ASTConverter.convert(ASTConverter.java:768)
	at
org.eclipse.jdt.core.dom.ASTConverter.buildBodyDeclarations(ASTConverter.java:336)
	at org.eclipse.jdt.core.dom.ASTConverter.convert(ASTConverter.java:274)
	at org.eclipse.jdt.core.dom.ASTConverter.convert(ASTConverter.java:152)
	at org.eclipse.jdt.core.dom.ASTParser.convert(ASTParser.java:711)
	at org.eclipse.jdt.core.dom.ASTParser.internalCreateAST(ASTParser.java:681)
	at org.eclipse.jdt.core.dom.ASTParser.createAST(ASTParser.java:574)
	at
org.eclipse.jdt.internal.ui.javaeditor.ASTProvider.createAST(ASTProvider.java:439)
	at org.eclipse.jdt.internal.ui.javaeditor.ASTProvider.getAST(ASTProvider.java:391)
	at
org.eclipse.jdt.internal.ui.viewsupport.SelectionListenerWithASTManager$PartListenerGroup.calculateASTandInform(SelectionListenerWithASTManager.java:159)
	at
org.eclipse.jdt.internal.ui.viewsupport.SelectionListenerWithASTManager$3.run(SelectionListenerWithASTManager.java:136)
	at org.eclipse.core.internal.jobs.Worker.run(Worker.java:66)

Add reporter of bug 67469, as a similar NoClassDefFoundError exception occured
on a different context...
*** Bug 68159 has been marked as a duplicate of this bug. ***
I've seen this bug as well (on 3.0GA Linux/GTK). There is no other exception 
in the log except this one (which happens constantly until I restart).  
 
 
This error normally shows up when a class has an exception happen in the 
static part of the code (either initializing the static fields or a static {} 
block). Any attempt from then on to instanciate the class fails until the 
class is unloaded from the classloader/restart. 
 
I notice, at least in my exception, the AST.java line it fails on is trying to 
do new ClassInstanceCreation( .. ); a class which has a huge static block in 
it. It is strange perhaps that the original exception is not found in the 
logs, but I assume it is caught and ignored somewhere in the system. I would 
bet money on that the cause is within that static block (or the static 
fields). 
 
I've put a try/catch block in the static block in my system in that particular 
class, but the chance of this happening again is slim as it only has happened 
once in probably a thousand runs of Eclipse. 
 
 
 
--- Exception 
 
 
!ENTRY org.eclipse.core.runtime 4 2 Jul 18, 2004 18:11:45.819 
!MESSAGE An internal error occurred during: "Java AST creation". 
!STACK 0 
 
 
 
*** Bug 70940 has been marked as a duplicate of this bug. ***
*** Bug 70470 has been marked as a duplicate of this bug. ***
*** Bug 71536 has been marked as a duplicate of this bug. ***
Could this be due to the fact that the job is still running when Eclipse is
shutting down?
So far, we cannot determine what could be the steps to reproduce. If anybody has
some pointers, it would be great!
Created attachment 13806
Stack trace(s)

Two different stack traces of bug occurring.
I originally reported bug 71536 which has been marked as a duplicate of this.

As with other reporters the last occurrence I had started near the time I opened eclipse (might have 
been after I did a cvs update right at the start) then continued at varying rates until (about an hour 
later) I stopped and restarted. I have had this same bug turn up and go away about 4 times in the last 2 
weeks of pretty continuous 16hours/6 days use of eclipse. This is on MacOSX 10.3. 

On last post I attached a text file which contains two different stack traces (both occurred many times). 
If anyone wants I can post the entire .log (which may contain other variants I didnt have the patience to 
find).

*** Bug 71641 has been marked as a duplicate of this bug. ***
*** Bug 71194 has been marked as a duplicate of this bug. ***
Move to Platform/Runtime for comment.
This seems to be a runtime problem. I have no idea how a NoClassDefFoundError
can happen in this case.
*** Bug 71871 has been marked as a duplicate of this bug. ***
*** Bug 72739 has been marked as a duplicate of this bug. ***
*** Bug 72883 has been marked as a duplicate of this bug. ***
*** Bug 73848 has been marked as a duplicate of this bug. ***
Created attachment 14551
Produces AST generation errors

Using Eclipse SDK Version: 3.0.0, Build id: 200406251208, Linux/GTK running
with IBM jdk on i386, I can reproducibly trigger AST generation errors. 

In line 20 of the attached source file, replace == with a single =, and watch
them appear.
Additional Info: I have the JDK 1.5 Plugin installed, but the compiler and class 
files preferences are all set to 1.4
Another addition: When I deactivate the 1.5 plugin, the error does not appear.
appears that this has gone away or is no longer relevant.  Nothing has 
happened here for months.  Please reopen if you are seeing anything similar.</WithOutStack>
  </Bug>
  <Bug>
    <BugId amount="67970" />
    <CreationDate amount="2004-06-21 04:52:00 -0400" />
    <DupId amount="" />
    <classification amount="Eclipse" />
    <Product amount="JDT" />
    <component amount="Text" />
    <Version amount="3.0" />
    <rep_platform amount="PC" />
    <op_sys amount="Windows 2000" />
    <priority amount="P3" />
    <bug_severity amount="trivial" />
    <Summery>[navigation] "Open Declaration" forgets target while attaching source</Summery>
    <Patches amount="0" />
    <Stacktraces amount="0" />
    <SourceCodeRegions amount="0" />
    <Enumerations amount="0" />
    <bug_status amount="ASSIGNED" />
    <resolution amount="" />
    <WithStack>"Open Declaration" on a library method shows the "Source not found" page when 
there is no source attached to the library. On this "Source not found" page, 
there is an "Attach Source ..." button which (via the "Workspace ..." button) 
lets you assign a corresponding project containing the library's source code. 

After doing so, Eclipse opens the corresponding source file in an editor window, 
but does NOT jump to the desired declaration. Instead, Eclipse places the Cursor 
on line 1 of the file.

It seems that Eclipse forgets its jump target while assigning the source to the 
library. 

This shows on 3.0M7 and 3.0M9 (and presumably others -- didn't try)</WithStack>
    <WithOutStack>"Open Declaration" on a library method shows the "Source not found" page when 
there is no source attached to the library. On this "Source not found" page, 
there is an "Attach Source ..." button which (via the "Workspace ..." button) 
lets you assign a corresponding project containing the library's source code. 

After doing so, Eclipse opens the corresponding source file in an editor window, 
but does NOT jump to the desired declaration. Instead, Eclipse places the Cursor 
on line 1 of the file.

It seems that Eclipse forgets its jump target while assigning the source to the 
library. 

This shows on 3.0M7 and 3.0M9 (and presumably others -- didn't try)</WithOutStack>
  </Bug>
  <Bug>
    <BugId amount="67971" />
    <CreationDate amount="2004-06-21 05:17:00 -0400" />
    <DupId amount="" />
    <classification amount="Eclipse" />
    <Product amount="Platform" />
    <component amount="UI" />
    <Version amount="3.0" />
    <rep_platform amount="PC" />
    <op_sys amount="Windows XP" />
    <priority amount="P4" />
    <bug_severity amount="normal" />
    <Summery>[Viewers] Created project not shown in package explorer</Summery>
    <Patches amount="0" />
    <Stacktraces amount="0" />
    <SourceCodeRegions amount="0" />
    <Enumerations amount="2">
      <Enumeration lines="7">
        <Lines>
          <Line>1. in an empty workspace, create a project 'xx', add a file A; the file opnes in</Line>
          <Line>the editor</Line>
          <Line>2. select the project in the package explorer, press delete, select to remove</Line>
          <Line>content</Line>
          <Line>3. when the delete is done, quickly click on the 'New Java project' toolbar</Line>
          <Line>button and create project 'x' again</Line>
          <Line>-&gt; Package explorer doesn't show the new project</Line>
        </Lines>
      </Enumeration>
      <Enumeration lines="4">
        <Lines>
          <Line>1) Does it still happen in 3.0?</Line>
          <Line>2) Are we sure the tree is visible?</Line>
          <Line>3) Are we sure the tree that is being inspected is actually the tree that is</Line>
          <Line>in the package viewer?</Line>
        </Lines>
      </Enumeration>
    </Enumerations>
    <bug_status amount="RESOLVED" />
    <resolution amount="WORKSFORME" />
    <WithStack>RC3 (I20040619-2000)

1. in an empty workspace, create a project 'xx', add a file A; the file opnes in
the editor
2. select the project in the package explorer, press delete, select to remove
content
3. when the delete is done, quickly click on the 'New Java project' toolbar
button and create project 'x' again
-&gt; Package explorer doesn't show the new project

Seems to be a JFace/SWT problem:
Java model sends the correct delta, package explorer posts a 'viewer.add'.
I debugged this up to the place where the new item is created as root node.
After the 'add', tree.getItems also contains the item
bug is also reproducable in RC2
I can't make this happen in RC 3 - we did some update fixes after RC2 that may 
have cleared this.

Martin could you try this again for me in RC3?
This is with RC3. I have it reproducable, but not always. Important is that 
the workspace is empty. Also make sure that you're quickwith creating the 
project again. Just enter the name on the first page and press finish.
Created attachment 12643
result when inspecting with spider

The tree item is existing but not shown. Although I have it 100% reproducable,
we couldn't do so on Dirks machine.
Created attachment 12644
complete screenshot showing spider and (empty) package explorer
Moving to SWT as we are creating the tree item
A couple of questions:

1) Does it still happen in 3.0?
2) Are we sure the tree is visible?
3) Are we sure the tree that is being inspected is actually the tree that is 
in the package viewer?

Tod, if you want to investigate this further, I am willing to look into it 
with you.  I have never seen this happen in a regular Tree.
I am going to reduce priority as it has not been reported since 3.0. Martin 
can you make this happen?
Marking as WORKSFORME</WithStack>
    <WithOutStack>RC3 (I20040619-2000)

1. in an empty workspace, create a project 'xx', add a file A; the file opnes in
the editor
2. select the project in the package explorer, press delete, select to remove
content
3. when the delete is done, quickly click on the 'New Java project' toolbar
button and create project 'x' again
-&gt; Package explorer doesn't show the new project

Seems to be a JFace/SWT problem:
Java model sends the correct delta, package explorer posts a 'viewer.add'.
I debugged this up to the place where the new item is created as root node.
After the 'add', tree.getItems also contains the item
bug is also reproducable in RC2
I can't make this happen in RC 3 - we did some update fixes after RC2 that may 
have cleared this.

Martin could you try this again for me in RC3?
This is with RC3. I have it reproducable, but not always. Important is that 
the workspace is empty. Also make sure that you're quickwith creating the 
project again. Just enter the name on the first page and press finish.
Created attachment 12643
result when inspecting with spider

The tree item is existing but not shown. Although I have it 100% reproducable,
we couldn't do so on Dirks machine.
Created attachment 12644
complete screenshot showing spider and (empty) package explorer
Moving to SWT as we are creating the tree item
A couple of questions:

1) Does it still happen in 3.0?
2) Are we sure the tree is visible?
3) Are we sure the tree that is being inspected is actually the tree that is 
in the package viewer?

Tod, if you want to investigate this further, I am willing to look into it 
with you.  I have never seen this happen in a regular Tree.
I am going to reduce priority as it has not been reported since 3.0. Martin 
can you make this happen?
Marking as WORKSFORME</WithOutStack>
  </Bug>
  <Bug>
    <BugId amount="67972" />
    <CreationDate amount="2004-06-21 05:27:00 -0400" />
    <DupId amount="" />
    <classification amount="Eclipse" />
    <Product amount="Platform" />
    <component amount="Search" />
    <Version amount="3.0" />
    <rep_platform amount="PC" />
    <op_sys amount="Windows XP" />
    <priority amount="P3" />
    <bug_severity amount="normal" />
    <Summery>[Progress] [Dialogs] Replace all does not call IProgressMonitor.done() in finally block</Summery>
    <Patches amount="0" />
    <Stacktraces amount="0" />
    <SourceCodeRegions amount="0" />
    <Enumerations amount="1">
      <Enumeration lines="9">
        <Lines>
          <Line>- ReplaceDialog.replaceAll(IProgressMonitor, String)</Line>
          <Line>- ReplaceDialog2.replaceAll(IProgressMonitor, String)</Line>
          <Line>I'm not sure that's what the API for IProgressMonitor asks for:</Line>
          <Line>IProgressMonitor.done() should be called when the "...task is completed...".</Line>
          <Line>Does an exception qualify? At least the API doesn't make clear that one has to</Line>
          <Line>call done() in all cases.</Line>
          <Line>Moving to platform-UI for clarification.</Line>
          <Line>You should call done() whenever you use a progress monitor but our code is</Line>
          <Line>written is such a way that we should be protected against it.</Line>
        </Lines>
      </Enumeration>
    </Enumerations>
    <bug_status amount="RESOLVED" />
    <resolution amount="FIXED" />
    <WithStack>3.0 RC3

The code should ensure that IProgressMonitor.done() gets called under all
circumstances.

see:
- ReplaceDialog.replaceAll(IProgressMonitor, String)
- ReplaceDialog2.replaceAll(IProgressMonitor, String)
I'm not sure that's what the API for IProgressMonitor asks for:
IProgressMonitor.done() should be called when the "...task is completed...".
Does an exception qualify? At least the API doesn't make clear that one has to
call done() in all cases.
Moving to platform-UI for clarification. 
You should call done() whenever you use a progress monitor but our code is 
written is such a way that we should be protected against it.

If you are not throwing an exception then you should call done().
fixed &gt; 20041223</WithStack>
    <WithOutStack>3.0 RC3

The code should ensure that IProgressMonitor.done() gets called under all
circumstances.

see:
- ReplaceDialog.replaceAll(IProgressMonitor, String)
- ReplaceDialog2.replaceAll(IProgressMonitor, String)
I'm not sure that's what the API for IProgressMonitor asks for:
IProgressMonitor.done() should be called when the "...task is completed...".
Does an exception qualify? At least the API doesn't make clear that one has to
call done() in all cases.
Moving to platform-UI for clarification. 
You should call done() whenever you use a progress monitor but our code is 
written is such a way that we should be protected against it.

If you are not throwing an exception then you should call done().
fixed &gt; 20041223</WithOutStack>
  </Bug>
  <Bug>
    <BugId amount="67973" />
    <CreationDate amount="2004-06-21 05:48:00 -0400" />
    <DupId amount="" />
    <classification amount="Eclipse" />
    <Product amount="Platform" />
    <component amount="Text" />
    <Version amount="3.0" />
    <rep_platform amount="PC" />
    <op_sys amount="Windows XP" />
    <priority amount="P3" />
    <bug_severity amount="blocker" />
    <Summery>Cannot input Chinese properly in ctrl-h dialog</Summery>
    <Patches amount="0" />
    <Stacktraces amount="0" />
    <SourceCodeRegions amount="0" />
    <Enumerations amount="1">
      <Enumeration lines="4">
        <Lines>
          <Line>1) What is the locale you are using</Line>
          <Line>2) Are you using the IME or a Chinese keyboard?</Line>
          <Line>3) What font is the message box on your machine (check Properties-&gt; Appearance-</Line>
          <Line>&gt;Advanced).</Line>
        </Lines>
      </Enumeration>
    </Enumerations>
    <bug_status amount="RESOLVED" />
    <resolution amount="INVALID" />
    <WithStack>Press ctrl-H to bring up the search (or ctrl-f for find). Input some Chinese 
and not all will be displayed correctly.
中文 ended up as 中 only
What about other dialogs such as New Project wizard etc. Thanks.
It happens only in the search related dialogs (ctrl-h, ctrl-f). In other 
dialogs they are normal. Java editors are not affected either.
I have just tried this using Chinese PRC with the IME set to using ZhengMa and 
had no problems.

What a problem with rendering usually indicates is that your system font does 
not have the glyphs for the characters you are using.

Could you give some more details
1) What is the locale you are using
2) Are you using the IME or a Chinese keyboard?
3) What font is the message box on your machine (check Properties-&gt; Appearance-
&gt;Advanced).

As far as I know search doesn't do anything special with these widgets.
Setting on remind until we have more details.
I am using Windows XP T-Chinese with Microsoft new phonetic ime from 
http://www.microsoft.com/taiwan/products/windows/ime/windowsxp.htm.

The font is MingLiU, the system default font. It used to work in M9 and RC1.
Get rid of deprecated state.
.</WithStack>
    <WithOutStack>Press ctrl-H to bring up the search (or ctrl-f for find). Input some Chinese 
and not all will be displayed correctly.
中文 ended up as 中 only
What about other dialogs such as New Project wizard etc. Thanks.
It happens only in the search related dialogs (ctrl-h, ctrl-f). In other 
dialogs they are normal. Java editors are not affected either.
I have just tried this using Chinese PRC with the IME set to using ZhengMa and 
had no problems.

What a problem with rendering usually indicates is that your system font does 
not have the glyphs for the characters you are using.

Could you give some more details
1) What is the locale you are using
2) Are you using the IME or a Chinese keyboard?
3) What font is the message box on your machine (check Properties-&gt; Appearance-
&gt;Advanced).

As far as I know search doesn't do anything special with these widgets.
Setting on remind until we have more details.
I am using Windows XP T-Chinese with Microsoft new phonetic ime from 
http://www.microsoft.com/taiwan/products/windows/ime/windowsxp.htm.

The font is MingLiU, the system default font. It used to work in M9 and RC1.
Get rid of deprecated state.
.</WithOutStack>
  </Bug>
  <Bug>
    <BugId amount="67974" />
    <CreationDate amount="2004-06-21 05:55:00 -0400" />
    <DupId amount="" />
    <classification amount="Eclipse" />
    <Product amount="JDT" />
    <component amount="UI" />
    <Version amount="3.0" />
    <rep_platform amount="PC" />
    <op_sys amount="Windows XP" />
    <priority amount="P3" />
    <bug_severity amount="normal" />
    <Summery>[rename] Rename constant/field/variable/parameter/method/type should provide code assist in the rename dialog</Summery>
    <Patches amount="0" />
    <Stacktraces amount="0" />
    <SourceCodeRegions amount="0" />
    <Enumerations amount="1">
      <Enumeration lines="3">
        <Lines>
          <Line>- the original name (depends on bug 38111) for renaming types</Line>
          <Line>- the original name and the type of the element for renaming constant/field/variable/parameter/method</Line>
          <Line>Not for 3.4</Line>
        </Lines>
      </Enumeration>
    </Enumerations>
    <bug_status amount="ASSIGNED" />
    <resolution amount="" />
    <WithStack>Bug# 67930 indicates that users are expecting code assist in the rename field 
dialog.

We should offer code assist in the dialog and suggest the same proposals you 
would get when entering the field in the editor and pressing ctrl+space.
Fair request.
*** Bug 80371 has been marked as a duplicate of this bug. ***
The name should be based on
- the original name (depends on bug 38111) for renaming types
- the original name and the type of the element for renaming constant/field/variable/parameter/method
Not for 3.4</WithStack>
    <WithOutStack>Bug# 67930 indicates that users are expecting code assist in the rename field 
dialog.

We should offer code assist in the dialog and suggest the same proposals you 
would get when entering the field in the editor and pressing ctrl+space.
Fair request.
*** Bug 80371 has been marked as a duplicate of this bug. ***
The name should be based on
- the original name (depends on bug 38111) for renaming types
- the original name and the type of the element for renaming constant/field/variable/parameter/method
Not for 3.4</WithOutStack>
  </Bug>
  <Bug>
    <BugId amount="67975" />
    <CreationDate amount="2004-06-21 05:55:00 -0400" />
    <DupId amount="" />
    <classification amount="Eclipse" />
    <Product amount="Platform" />
    <component amount="Resources" />
    <Version amount="3.0" />
    <rep_platform amount="Macintosh" />
    <op_sys amount="Mac OS X - Carbon (unsup.)" />
    <priority amount="P1" />
    <bug_severity amount="normal" />
    <Summery>[content type] No "Run Ant Build" actions available for Ant files with UTF-16 encoding</Summery>
    <Patches amount="0" />
    <Stacktraces amount="0" />
    <SourceCodeRegions amount="0" />
    <Enumerations amount="1">
      <Enumeration lines="6">
        <Lines>
          <Line>- create foo.xml file with UTF-16 encoding</Line>
          <Line>- copy contents of legal Ant build file into foo.xml</Line>
          <Line>- edit encoding in first line to reflect UTF-16 encoding</Line>
          <Line>- save</Line>
          <Line>- open context menu on foo.xml</Line>
          <Line>Observe: no Ant action</Line>
        </Lines>
      </Enumeration>
    </Enumerations>
    <bug_status amount="RESOLVED" />
    <resolution amount="FIXED" />
    <WithStack>RC3:

- create foo.xml file with UTF-16 encoding
- copy contents of legal Ant build file into foo.xml
- edit encoding in first line to reflect UTF-16 encoding
- save
- open context menu on foo.xml
Observe: no Ant action

- open Properties/Info dialog on foo.xml
Observe: Type is "XML" not "Ant"
Platform Core determines the content type...we just react to the setting.
I am looking into this now. Some XML parsers might choke with UTF-16 content, so
that may be the reason.
Andre, what VM are you using? 
Ok, this is not a duplicate of bug 61564. This is a regression introduced by
fixing bug 67211. The fix is easy, although the problem is quite serious. Will
ask for approval.
Created attachment 12587
patches for runtime and tests.runtime
Created attachment 12596
patched runtime.jar

Andre, could you confirm the patched runtime.jar attached solves your problem?
You may have to touch the ant script in order to force its content type to be
re-assessed. Thanks.
Our custom input stream read() method will return -1 if 0xFF appears in the
contents. General effect is that during content type determination, files
containing a 0xFF byte will seem to be shorter than they actually are, so
content types will not be propertly detected.

Fix is trivial (return b &amp; 0xFF, where b is a byte read), risk is none. There
are no known workarounds users can apply.
+1 to fix
Increasing priority to match severity of problem.
patched runtime.jar fixes problem for me.
Approved to fix from Architecture Team.

A reminder that you need 2 other committers to look over your shoulder and
review the code before you release it.

Fixed. Released to HEAD.

Reviewed by JohnA and DJ.</WithStack>
    <WithOutStack>RC3:

- create foo.xml file with UTF-16 encoding
- copy contents of legal Ant build file into foo.xml
- edit encoding in first line to reflect UTF-16 encoding
- save
- open context menu on foo.xml
Observe: no Ant action

- open Properties/Info dialog on foo.xml
Observe: Type is "XML" not "Ant"
Platform Core determines the content type...we just react to the setting.
I am looking into this now. Some XML parsers might choke with UTF-16 content, so
that may be the reason.
Andre, what VM are you using? 
Ok, this is not a duplicate of bug 61564. This is a regression introduced by
fixing bug 67211. The fix is easy, although the problem is quite serious. Will
ask for approval.
Created attachment 12587
patches for runtime and tests.runtime
Created attachment 12596
patched runtime.jar

Andre, could you confirm the patched runtime.jar attached solves your problem?
You may have to touch the ant script in order to force its content type to be
re-assessed. Thanks.
Our custom input stream read() method will return -1 if 0xFF appears in the
contents. General effect is that during content type determination, files
containing a 0xFF byte will seem to be shorter than they actually are, so
content types will not be propertly detected.

Fix is trivial (return b &amp; 0xFF, where b is a byte read), risk is none. There
are no known workarounds users can apply.
+1 to fix
Increasing priority to match severity of problem.
patched runtime.jar fixes problem for me.
Approved to fix from Architecture Team.

A reminder that you need 2 other committers to look over your shoulder and
review the code before you release it.

Fixed. Released to HEAD.

Reviewed by JohnA and DJ.</WithOutStack>
  </Bug>
  <Bug>
    <BugId amount="67976" />
    <CreationDate amount="2004-06-21 06:04:00 -0400" />
    <DupId amount="" />
    <classification amount="Eclipse" />
    <Product amount="JDT" />
    <component amount="Core" />
    <Version amount="3.0" />
    <rep_platform amount="PC" />
    <op_sys amount="Windows XP" />
    <priority amount="P3" />
    <bug_severity amount="major" />
    <Summery>Exceptions in log when Opening type while checking out</Summery>
    <Patches amount="0" />
    <Stacktraces amount="0" />
    <SourceCodeRegions amount="0" />
    <Enumerations amount="3">
      <Enumeration lines="266">
        <Lines>
          <Line>t.java)</Line>
          <Line>at org.eclipse.jdt.internal.core.hierarchy.ChangeCollector.getAllTypesFr</Line>
          <Line>omElement(ChangeCollector.java)</Line>
          <Line>at org.eclipse.jdt.internal.core.hierarchy.ChangeCollector.addChange(Cha</Line>
          <Line>ngeCollector.java)</Line>
          <Line>at org.eclipse.jdt.internal.core.hierarchy.TypeHierarchy.isAffectedByOpe</Line>
          <Line>nable(TypeHierarchy.java)</Line>
          <Line>at org.eclipse.jdt.internal.core.hierarchy.TypeHierarchy.isAffected(Type</Line>
          <Line>Hierarchy.java)</Line>
          <Line>at org.eclipse.jdt.internal.core.hierarchy.TypeHierarchy.isAffectedByChi</Line>
          <Line>ldren(TypeHierarchy.java)</Line>
          <Line>at org.eclipse.jdt.internal.core.hierarchy.TypeHierarchy.isAffectedByPac</Line>
          <Line>kageFragment(TypeHierarchy.java:908)</Line>
          <Line>at org.eclipse.jdt.internal.core.hierarchy.TypeHierarchy.isAffected(Type</Line>
          <Line>Hierarchy.java)</Line>
          <Line>at org.eclipse.jdt.internal.core.hierarchy.TypeHierarchy.isAffectedByChi</Line>
          <Line>ldren(TypeHierarchy.java)</Line>
          <Line>at org.eclipse.jdt.internal.core.hierarchy.TypeHierarchy.isAffectedByPac</Line>
          <Line>kageFragmentRoot(TypeHierarchy.java)</Line>
          <Line>at org.eclipse.jdt.internal.core.hierarchy.TypeHierarchy.isAffected(Type</Line>
          <Line>Hierarchy.java)</Line>
          <Line>at org.eclipse.jdt.internal.core.hierarchy.TypeHierarchy.isAffectedByChi</Line>
          <Line>ldren(TypeHierarchy.java)</Line>
          <Line>at org.eclipse.jdt.internal.core.hierarchy.TypeHierarchy.isAffectedByJav</Line>
          <Line>aProject(TypeHierarchy.java)</Line>
          <Line>at org.eclipse.jdt.internal.core.hierarchy.TypeHierarchy.isAffected(Type</Line>
          <Line>Hierarchy.java)</Line>
          <Line>at org.eclipse.jdt.internal.core.hierarchy.TypeHierarchy.isAffectedByChi</Line>
          <Line>ldren(TypeHierarchy.java)</Line>
          <Line>at org.eclipse.jdt.internal.core.hierarchy.TypeHierarchy.isAffectedByJav</Line>
          <Line>aModel(TypeHierarchy.java:855)</Line>
          <Line>at org.eclipse.jdt.internal.core.hierarchy.TypeHierarchy.isAffected(Type</Line>
          <Line>Hierarchy.java)</Line>
          <Line>at org.eclipse.jdt.internal.core.hierarchy.TypeHierarchy.elementChanged(</Line>
          <Line>TypeHierarchy.java:347)</Line>
          <Line>at org.eclipse.jdt.internal.core.DeltaProcessor$2.run(DeltaProcessor.jav</Line>
          <Line>a)</Line>
          <Line>at org.eclipse.core.internal.runtime.InternalPlatform.run(InternalPlatfo</Line>
          <Line>rm.java)</Line>
          <Line>at org.eclipse.core.runtime.Platform.run(Platform.java)</Line>
          <Line>at org.eclipse.jdt.internal.core.DeltaProcessor.notifyListeners(DeltaPro</Line>
          <Line>cessor.java)</Line>
          <Line>at org.eclipse.jdt.internal.core.DeltaProcessor.firePostChangeDelta(Delt</Line>
          <Line>aProcessor.java:1314)</Line>
          <Line>at org.eclipse.jdt.internal.core.DeltaProcessor.fire(DeltaProcessor.java</Line>
          <Line>:1293)</Line>
          <Line>at org.eclipse.jdt.internal.core.DeltaProcessor.resourceChanged(DeltaPro</Line>
          <Line>cessor.java:1891)</Line>
          <Line>at org.eclipse.jdt.internal.core.DeltaProcessingState.resourceChanged(De</Line>
          <Line>ltaProcessingState.java:414)</Line>
          <Line>at org.eclipse.core.internal.events.NotificationManager$2.run(Notificati</Line>
          <Line>onManager.java)</Line>
          <Line>at org.eclipse.core.internal.runtime.InternalPlatform.run(InternalPlatfo</Line>
          <Line>rm.java)</Line>
          <Line>at org.eclipse.core.runtime.Platform.run(Platform.java)</Line>
          <Line>at org.eclipse.core.internal.events.NotificationManager.notify(Notificat</Line>
          <Line>ionManager.java:277)</Line>
          <Line>at org.eclipse.core.internal.events.NotificationManager.broadcastChanges</Line>
          <Line>(NotificationManager.java:151)</Line>
          <Line>at org.eclipse.core.internal.resources.Workspace.broadcastChanges(Worksp</Line>
          <Line>ace.java:172)</Line>
          <Line>at org.eclipse.core.internal.resources.Workspace.endOperation(Workspace.</Line>
          <Line>java)</Line>
          <Line>at org.eclipse.core.internal.resources.File.create(File.java)</Line>
          <Line>at org.eclipse.core.internal.resources.File.create(File.java)</Line>
          <Line>at org.eclipse.team.internal.ccvs.core.resources.EclipseFile.setContents</Line>
          <Line>(EclipseFile.java)</Line>
          <Line>at org.eclipse.team.internal.ccvs.core.client.Session.receiveFile(Sessio</Line>
          <Line>n.java)</Line>
          <Line>at org.eclipse.team.internal.ccvs.core.client.UpdatedHandler.receiveTarg</Line>
          <Line>etFile(UpdatedHandler.java)</Line>
          <Line>at org.eclipse.team.internal.ccvs.core.client.UpdatedHandler.handle(Upda</Line>
          <Line>tedHandler.java)</Line>
          <Line>at org.eclipse.team.internal.ccvs.core.client.Request.executeRequest(Req</Line>
          <Line>uest.java)</Line>
          <Line>at org.eclipse.team.internal.ccvs.core.client.Command.doExecute(Command.</Line>
          <Line>java:421)</Line>
          <Line>at org.eclipse.team.internal.ccvs.core.client.Checkout.doExecute(Checkou</Line>
          <Line>t.java:168)</Line>
          <Line>at org.eclipse.team.internal.ccvs.core.client.CheckoutWithOverwrite.doEx</Line>
          <Line>ecute(CheckoutWithOverwrite.java:52)</Line>
          <Line>at org.eclipse.team.internal.ccvs.core.client.Command$1.run(Command.java</Line>
          <Line>:337)</Line>
          <Line>at org.eclipse.team.internal.ccvs.core.resources.EclipseSynchronizer.run</Line>
          <Line>(EclipseSynchronizer.java)</Line>
          <Line>at org.eclipse.team.internal.ccvs.core.resources.EclipseResource$2.run(E</Line>
          <Line>clipseResource.java:268)</Line>
          <Line>at org.eclipse.core.internal.resources.Workspace.run(Workspace.java)</Line>
          <Line>at org.eclipse.team.internal.ccvs.core.resources.EclipseResource.run(Ecl</Line>
          <Line>ipseResource.java:265)</Line>
          <Line>at org.eclipse.team.internal.ccvs.core.client.Command.execute(Command.ja</Line>
          <Line>va:349)</Line>
          <Line>at org.eclipse.team.internal.ccvs.ui.operations.CheckoutProjectOperation</Line>
          <Line>.performCheckout(CheckoutProjectOperation.java:245)</Line>
          <Line>at org.eclipse.team.internal.ccvs.ui.operations.CheckoutProjectOperation</Line>
          <Line>$1.run(CheckoutProjectOperation.java:151)</Line>
          <Line>at org.eclipse.team.internal.ccvs.core.resources.EclipseSynchronizer.run</Line>
          <Line>(EclipseSynchronizer.java)</Line>
          <Line>at org.eclipse.team.internal.ccvs.ui.operations.CheckoutProjectOperation</Line>
          <Line>.checkout(CheckoutProjectOperation.java:149)</Line>
          <Line>at org.eclipse.team.internal.ccvs.ui.operations.CheckoutMultipleProjects</Line>
          <Line>Operation.checkout(CheckoutMultipleProjectsOperation.java:50)</Line>
          <Line>at org.eclipse.team.internal.ccvs.ui.operations.CheckoutOperation.checko</Line>
          <Line>ut(CheckoutOperation.java:46)</Line>
          <Line>at org.eclipse.team.internal.ccvs.ui.operations.CheckoutOperation.execut</Line>
          <Line>e(CheckoutOperation.java:31)</Line>
          <Line>at org.eclipse.team.internal.ccvs.ui.operations.CVSOperation.run(CVSOper</Line>
          <Line>ation.java:84)</Line>
          <Line>at org.eclipse.team.internal.ui.actions.JobRunnableContext.run(JobRunnab</Line>
          <Line>leContext.java:159)</Line>
          <Line>at org.eclipse.team.internal.ui.actions.JobRunnableContext$3.runInWorksp</Line>
          <Line>ace(JobRunnableContext.java:179)</Line>
          <Line>at org.eclipse.core.internal.resources.InternalWorkspaceJob.run(Internal</Line>
          <Line>WorkspaceJob.java:38)</Line>
          <Line>at org.eclipse.core.internal.jobs.Worker.run(Worker.java)</Line>
          <Line>Java Model Exception: Java Model Status [Eclipse SWT PI/motif/org/eclipse/swt/in</Line>
          <Line>ternal/motif [in org.eclipse.swt] does not exist]</Line>
          <Line>at java.lang.Throwable.&lt;init&gt;(Throwable.java)</Line>
          <Line>at java.lang.Throwable.&lt;init&gt;(Throwable.java)</Line>
          <Line>at org.eclipse.core.runtime.CoreException.&lt;init&gt;(CoreException.java)</Line>
          <Line>at org.eclipse.jdt.core.JavaModelException.&lt;init&gt;(JavaModelException.jav</Line>
          <Line>a:67)</Line>
          <Line>at org.eclipse.jdt.internal.core.JavaElement.newNotPresentException(Java</Line>
          <Line>Element.java:561)</Line>
          <Line>at org.eclipse.jdt.internal.core.PackageFragmentRoot.buildStructure(Pack</Line>
          <Line>ageFragmentRoot.java:169)</Line>
          <Line>at org.eclipse.jdt.internal.core.Openable.generateInfos(Openable.java)</Line>
          <Line>at org.eclipse.jdt.internal.core.JavaElement.openWhenClosed(JavaElement.</Line>
          <Line>java)</Line>
          <Line>at org.eclipse.jdt.internal.core.JavaElement.getElementInfo(JavaElement.</Line>
          <Line>java)</Line>
          <Line>at org.eclipse.jdt.internal.core.JavaElement.getElementInfo(JavaElement.</Line>
          <Line>java)</Line>
          <Line>at org.eclipse.jdt.internal.core.PackageFragmentRoot.getKind(PackageFrag</Line>
          <Line>mentRoot.java)</Line>
          <Line>at org.eclipse.jdt.internal.core.PackageFragment.getKind(PackageFragment</Line>
          <Line>.java)</Line>
          <Line>at org.eclipse.jdt.internal.core.CompilationUnit.buildStructure(Compilat</Line>
          <Line>ionUnit.java)</Line>
          <Line>at org.eclipse.jdt.internal.core.Openable.generateInfos(Openable.java)</Line>
          <Line>at org.eclipse.jdt.internal.core.JavaElement.openWhenClosed(JavaElement.</Line>
          <Line>java)</Line>
          <Line>at org.eclipse.jdt.internal.core.JavaElement.getElementInfo(JavaElement.</Line>
          <Line>java)</Line>
          <Line>at org.eclipse.jdt.internal.core.JavaElement.getElementInfo(JavaElement.</Line>
          <Line>java)</Line>
          <Line>at org.eclipse.jdt.internal.core.JavaElement.getChildren(JavaElement.jav</Line>
          <Line>a)</Line>
          <Line>at org.eclipse.jdt.internal.core.JavaElement.getChildrenOfType(JavaEleme</Line>
          <Line>nt.java)</Line>
          <Line>at org.eclipse.jdt.internal.core.CompilationUnit.getTypes(CompilationUni</Line>
          <Line>t.java)</Line>
          <Line>at org.eclipse.jdt.internal.core.hierarchy.ChangeCollector.getAllTypesFr</Line>
          <Line>omElement(ChangeCollector.java)</Line>
          <Line>at org.eclipse.jdt.internal.core.hierarchy.ChangeCollector.addChange(Cha</Line>
          <Line>ngeCollector.java)</Line>
          <Line>at org.eclipse.jdt.internal.core.hierarchy.TypeHierarchy.isAffectedByOpe</Line>
          <Line>nable(TypeHierarchy.java)</Line>
          <Line>at org.eclipse.jdt.internal.core.hierarchy.TypeHierarchy.isAffected(Type</Line>
          <Line>Hierarchy.java)</Line>
          <Line>at org.eclipse.jdt.internal.core.hierarchy.TypeHierarchy.isAffectedByChi</Line>
          <Line>ldren(TypeHierarchy.java)</Line>
          <Line>at org.eclipse.jdt.internal.core.hierarchy.TypeHierarchy.isAffectedByPac</Line>
          <Line>kageFragment(TypeHierarchy.java:908)</Line>
          <Line>at org.eclipse.jdt.internal.core.hierarchy.TypeHierarchy.isAffected(Type</Line>
          <Line>Hierarchy.java)</Line>
          <Line>at org.eclipse.jdt.internal.core.hierarchy.TypeHierarchy.isAffectedByChi</Line>
          <Line>ldren(TypeHierarchy.java)</Line>
          <Line>at org.eclipse.jdt.internal.core.hierarchy.TypeHierarchy.isAffectedByPac</Line>
          <Line>kageFragmentRoot(TypeHierarchy.java)</Line>
          <Line>at org.eclipse.jdt.internal.core.hierarchy.TypeHierarchy.isAffected(Type</Line>
          <Line>Hierarchy.java)</Line>
          <Line>at org.eclipse.jdt.internal.core.hierarchy.TypeHierarchy.isAffectedByChi</Line>
          <Line>ldren(TypeHierarchy.java)</Line>
          <Line>at org.eclipse.jdt.internal.core.hierarchy.TypeHierarchy.isAffectedByJav</Line>
          <Line>aProject(TypeHierarchy.java)</Line>
          <Line>at org.eclipse.jdt.internal.core.hierarchy.TypeHierarchy.isAffected(Type</Line>
          <Line>Hierarchy.java)</Line>
          <Line>at org.eclipse.jdt.internal.core.hierarchy.TypeHierarchy.isAffectedByChi</Line>
          <Line>ldren(TypeHierarchy.java)</Line>
          <Line>at org.eclipse.jdt.internal.core.hierarchy.TypeHierarchy.isAffectedByJav</Line>
          <Line>aModel(TypeHierarchy.java:855)</Line>
          <Line>at org.eclipse.jdt.internal.core.hierarchy.TypeHierarchy.isAffected(Type</Line>
          <Line>Hierarchy.java)</Line>
          <Line>at org.eclipse.jdt.internal.core.hierarchy.TypeHierarchy.elementChanged(</Line>
          <Line>TypeHierarchy.java:347)</Line>
          <Line>at org.eclipse.jdt.internal.core.DeltaProcessor$2.run(DeltaProcessor.jav</Line>
          <Line>a)</Line>
          <Line>at org.eclipse.core.internal.runtime.InternalPlatform.run(InternalPlatfo</Line>
          <Line>rm.java)</Line>
          <Line>at org.eclipse.core.runtime.Platform.run(Platform.java)</Line>
          <Line>at org.eclipse.jdt.internal.core.DeltaProcessor.notifyListeners(DeltaPro</Line>
          <Line>cessor.java)</Line>
          <Line>at org.eclipse.jdt.internal.core.DeltaProcessor.firePostChangeDelta(Delt</Line>
          <Line>aProcessor.java:1314)</Line>
          <Line>at org.eclipse.jdt.internal.core.DeltaProcessor.fire(DeltaProcessor.java</Line>
          <Line>:1293)</Line>
          <Line>at org.eclipse.jdt.internal.core.DeltaProcessor.resourceChanged(DeltaPro</Line>
          <Line>cessor.java:1891)</Line>
          <Line>at org.eclipse.jdt.internal.core.DeltaProcessingState.resourceChanged(De</Line>
          <Line>ltaProcessingState.java:414)</Line>
          <Line>at org.eclipse.core.internal.events.NotificationManager$2.run(Notificati</Line>
          <Line>onManager.java)</Line>
          <Line>at org.eclipse.core.internal.runtime.InternalPlatform.run(InternalPlatfo</Line>
          <Line>rm.java)</Line>
          <Line>at org.eclipse.core.runtime.Platform.run(Platform.java)</Line>
          <Line>at org.eclipse.core.internal.events.NotificationManager.notify(Notificat</Line>
          <Line>ionManager.java:277)</Line>
          <Line>at org.eclipse.core.internal.events.NotificationManager.broadcastChanges</Line>
          <Line>(NotificationManager.java:151)</Line>
          <Line>at org.eclipse.core.internal.resources.Workspace.broadcastChanges(Worksp</Line>
          <Line>ace.java:172)</Line>
          <Line>at org.eclipse.core.internal.resources.Workspace.endOperation(Workspace.</Line>
          <Line>java)</Line>
          <Line>at org.eclipse.core.internal.resources.File.create(File.java)</Line>
          <Line>at org.eclipse.core.internal.resources.File.create(File.java)</Line>
          <Line>at org.eclipse.team.internal.ccvs.core.resources.EclipseFile.setContents</Line>
          <Line>(EclipseFile.java)</Line>
          <Line>at org.eclipse.team.internal.ccvs.core.client.Session.receiveFile(Sessio</Line>
          <Line>n.java)</Line>
          <Line>at org.eclipse.team.internal.ccvs.core.client.UpdatedHandler.receiveTarg</Line>
          <Line>etFile(UpdatedHandler.java)</Line>
          <Line>at org.eclipse.team.internal.ccvs.core.client.UpdatedHandler.handle(Upda</Line>
          <Line>tedHandler.java)</Line>
          <Line>at org.eclipse.team.internal.ccvs.core.client.Request.executeRequest(Req</Line>
          <Line>uest.java)</Line>
          <Line>at org.eclipse.team.internal.ccvs.core.client.Command.doExecute(Command.</Line>
          <Line>java:421)</Line>
          <Line>at org.eclipse.team.internal.ccvs.core.client.Checkout.doExecute(Checkou</Line>
          <Line>t.java:168)</Line>
          <Line>at org.eclipse.team.internal.ccvs.core.client.CheckoutWithOverwrite.doEx</Line>
          <Line>ecute(CheckoutWithOverwrite.java:52)</Line>
          <Line>at org.eclipse.team.internal.ccvs.core.client.Command$1.run(Command.java</Line>
          <Line>:337)</Line>
          <Line>at org.eclipse.team.internal.ccvs.core.resources.EclipseSynchronizer.run</Line>
          <Line>(EclipseSynchronizer.java)</Line>
          <Line>at org.eclipse.team.internal.ccvs.core.resources.EclipseResource$2.run(E</Line>
          <Line>clipseResource.java:268)</Line>
          <Line>at org.eclipse.core.internal.resources.Workspace.run(Workspace.java)</Line>
          <Line>at org.eclipse.team.internal.ccvs.core.resources.EclipseResource.run(Ecl</Line>
          <Line>ipseResource.java:265)</Line>
          <Line>at org.eclipse.team.internal.ccvs.core.client.Command.execute(Command.ja</Line>
          <Line>va:349)</Line>
          <Line>at org.eclipse.team.internal.ccvs.ui.operations.CheckoutProjectOperation</Line>
          <Line>.performCheckout(CheckoutProjectOperation.java:245)</Line>
          <Line>at org.eclipse.team.internal.ccvs.ui.operations.CheckoutProjectOperation</Line>
          <Line>$1.run(CheckoutProjectOperation.java:151)</Line>
          <Line>at org.eclipse.team.internal.ccvs.core.resources.EclipseSynchronizer.run</Line>
          <Line>(EclipseSynchronizer.java)</Line>
          <Line>at org.eclipse.team.internal.ccvs.ui.operations.CheckoutProjectOperation</Line>
          <Line>.checkout(CheckoutProjectOperation.java:149)</Line>
          <Line>at org.eclipse.team.internal.ccvs.ui.operations.CheckoutMultipleProjects</Line>
          <Line>Operation.checkout(CheckoutMultipleProjectsOperation.java:50)</Line>
          <Line>at org.eclipse.team.internal.ccvs.ui.operations.CheckoutOperation.checko</Line>
          <Line>ut(CheckoutOperation.java:46)</Line>
          <Line>at org.eclipse.team.internal.ccvs.ui.operations.CheckoutOperation.execut</Line>
          <Line>e(CheckoutOperation.java:31)</Line>
          <Line>at org.eclipse.team.internal.ccvs.ui.operations.CVSOperation.run(CVSOper</Line>
          <Line>ation.java:84)</Line>
          <Line>at org.eclipse.team.internal.ui.actions.JobRunnableContext.run(JobRunnab</Line>
          <Line>leContext.java:159)</Line>
          <Line>at org.eclipse.team.internal.ui.actions.JobRunnableContext$3.runInWorksp</Line>
          <Line>ace(JobRunnableContext.java:179)</Line>
          <Line>at org.eclipse.core.internal.resources.InternalWorkspaceJob.run(Internal</Line>
          <Line>WorkspaceJob.java:38)</Line>
          <Line>at org.eclipse.core.internal.jobs.Worker.run(Worker.java)</Line>
        </Lines>
      </Enumeration>
      <Enumeration lines="198">
        <Lines>
          <Line>n.java)</Line>
          <Line>at org.eclipse.team.internal.ccvs.core.client.UpdatedHandler.receiveTarg</Line>
          <Line>etFile(UpdatedHandler.java)</Line>
          <Line>at org.eclipse.team.internal.ccvs.core.client.UpdatedHandler.handle(Upda</Line>
          <Line>tedHandler.java)</Line>
          <Line>at org.eclipse.team.internal.ccvs.core.client.Request.executeRequest(Req</Line>
          <Line>uest.java)</Line>
          <Line>at org.eclipse.team.internal.ccvs.core.client.Command.doExecute(Command.</Line>
          <Line>java:421)</Line>
          <Line>at org.eclipse.team.internal.ccvs.core.client.Checkout.doExecute(Checkou</Line>
          <Line>t.java:168)</Line>
          <Line>at org.eclipse.team.internal.ccvs.core.client.CheckoutWithOverwrite.doEx</Line>
          <Line>ecute(CheckoutWithOverwrite.java:52)</Line>
          <Line>at org.eclipse.team.internal.ccvs.core.client.Command$1.run(Command.java</Line>
          <Line>:337)</Line>
          <Line>at org.eclipse.team.internal.ccvs.core.resources.EclipseSynchronizer.run</Line>
          <Line>(EclipseSynchronizer.java)</Line>
          <Line>at org.eclipse.team.internal.ccvs.core.resources.EclipseResource$2.run(E</Line>
          <Line>clipseResource.java:268)</Line>
          <Line>at org.eclipse.core.internal.resources.Workspace.run(Workspace.java)</Line>
          <Line>at org.eclipse.team.internal.ccvs.core.resources.EclipseResource.run(Ecl</Line>
          <Line>ipseResource.java:265)</Line>
          <Line>at org.eclipse.team.internal.ccvs.core.client.Command.execute(Command.ja</Line>
          <Line>va:349)</Line>
          <Line>at org.eclipse.team.internal.ccvs.ui.operations.CheckoutProjectOperation</Line>
          <Line>.performCheckout(CheckoutProjectOperation.java:245)</Line>
          <Line>at org.eclipse.team.internal.ccvs.ui.operations.CheckoutProjectOperation</Line>
          <Line>$1.run(CheckoutProjectOperation.java:151)</Line>
          <Line>at org.eclipse.team.internal.ccvs.core.resources.EclipseSynchronizer.run</Line>
          <Line>(EclipseSynchronizer.java)</Line>
          <Line>at org.eclipse.team.internal.ccvs.ui.operations.CheckoutProjectOperation</Line>
          <Line>.checkout(CheckoutProjectOperation.java:149)</Line>
          <Line>at org.eclipse.team.internal.ccvs.ui.operations.CheckoutMultipleProjects</Line>
          <Line>Operation.checkout(CheckoutMultipleProjectsOperation.java:50)</Line>
          <Line>at org.eclipse.team.internal.ccvs.ui.operations.CheckoutOperation.checko</Line>
          <Line>ut(CheckoutOperation.java:46)</Line>
          <Line>at org.eclipse.team.internal.ccvs.ui.operations.CheckoutOperation.execut</Line>
          <Line>e(CheckoutOperation.java:31)</Line>
          <Line>at org.eclipse.team.internal.ccvs.ui.operations.CVSOperation.run(CVSOper</Line>
          <Line>ation.java:84)</Line>
          <Line>at org.eclipse.team.internal.ui.actions.JobRunnableContext.run(JobRunnab</Line>
          <Line>leContext.java:159)</Line>
          <Line>at org.eclipse.team.internal.ui.actions.JobRunnableContext$3.runInWorksp</Line>
          <Line>ace(JobRunnableContext.java:179)</Line>
          <Line>at org.eclipse.core.internal.resources.InternalWorkspaceJob.run(Internal</Line>
          <Line>WorkspaceJob.java:38)</Line>
          <Line>at org.eclipse.core.internal.jobs.Worker.run(Worker.java)</Line>
          <Line>Java Model Exception: Java Model Status [Eclipse SWT PI/motif/org/eclipse/swt/in</Line>
          <Line>ternal/motif [in org.eclipse.swt] does not exist]</Line>
          <Line>at java.lang.Throwable.&lt;init&gt;(Throwable.java)</Line>
          <Line>at java.lang.Throwable.&lt;init&gt;(Throwable.java)</Line>
          <Line>at org.eclipse.core.runtime.CoreException.&lt;init&gt;(CoreException.java)</Line>
          <Line>at org.eclipse.jdt.core.JavaModelException.&lt;init&gt;(JavaModelException.jav</Line>
          <Line>a:67)</Line>
          <Line>at org.eclipse.jdt.internal.core.JavaElement.newNotPresentException(Java</Line>
          <Line>Element.java:561)</Line>
          <Line>at org.eclipse.jdt.internal.core.PackageFragmentRoot.buildStructure(Pack</Line>
          <Line>ageFragmentRoot.java:169)</Line>
          <Line>at org.eclipse.jdt.internal.core.Openable.generateInfos(Openable.java)</Line>
          <Line>at org.eclipse.jdt.internal.core.JavaElement.openWhenClosed(JavaElement.</Line>
          <Line>java)</Line>
          <Line>at org.eclipse.jdt.internal.core.JavaElement.getElementInfo(JavaElement.</Line>
          <Line>java)</Line>
          <Line>at org.eclipse.jdt.internal.core.JavaElement.getElementInfo(JavaElement.</Line>
          <Line>java)</Line>
          <Line>at org.eclipse.jdt.internal.core.PackageFragmentRoot.getKind(PackageFrag</Line>
          <Line>mentRoot.java)</Line>
          <Line>at org.eclipse.jdt.internal.core.PackageFragment.getKind(PackageFragment</Line>
          <Line>.java)</Line>
          <Line>at org.eclipse.jdt.internal.core.CompilationUnit.buildStructure(Compilat</Line>
          <Line>ionUnit.java)</Line>
          <Line>at org.eclipse.jdt.internal.core.Openable.generateInfos(Openable.java)</Line>
          <Line>at org.eclipse.jdt.internal.core.JavaElement.openWhenClosed(JavaElement.</Line>
          <Line>java)</Line>
          <Line>at org.eclipse.jdt.internal.core.JavaElement.getElementInfo(JavaElement.</Line>
          <Line>java)</Line>
          <Line>at org.eclipse.jdt.internal.core.JavaElement.getElementInfo(JavaElement.</Line>
          <Line>java)</Line>
          <Line>at org.eclipse.jdt.internal.core.JavaElement.getChildren(JavaElement.jav</Line>
          <Line>a)</Line>
          <Line>at org.eclipse.jdt.internal.core.JavaElement.getChildrenOfType(JavaEleme</Line>
          <Line>nt.java)</Line>
          <Line>at org.eclipse.jdt.internal.core.CompilationUnit.getTypes(CompilationUni</Line>
          <Line>t.java)</Line>
          <Line>at org.eclipse.jdt.internal.core.hierarchy.ChangeCollector.getAllTypesFr</Line>
          <Line>omElement(ChangeCollector.java)</Line>
          <Line>at org.eclipse.jdt.internal.core.hierarchy.ChangeCollector.addChange(Cha</Line>
          <Line>ngeCollector.java)</Line>
          <Line>at org.eclipse.jdt.internal.core.hierarchy.TypeHierarchy.isAffectedByOpe</Line>
          <Line>nable(TypeHierarchy.java)</Line>
          <Line>at org.eclipse.jdt.internal.core.hierarchy.TypeHierarchy.isAffected(Type</Line>
          <Line>Hierarchy.java)</Line>
          <Line>at org.eclipse.jdt.internal.core.hierarchy.TypeHierarchy.isAffectedByChi</Line>
          <Line>ldren(TypeHierarchy.java)</Line>
          <Line>at org.eclipse.jdt.internal.core.hierarchy.TypeHierarchy.isAffectedByPac</Line>
          <Line>kageFragment(TypeHierarchy.java:908)</Line>
          <Line>at org.eclipse.jdt.internal.core.hierarchy.TypeHierarchy.isAffected(Type</Line>
          <Line>Hierarchy.java)</Line>
          <Line>at org.eclipse.jdt.internal.core.hierarchy.TypeHierarchy.isAffectedByChi</Line>
          <Line>ldren(TypeHierarchy.java)</Line>
          <Line>at org.eclipse.jdt.internal.core.hierarchy.TypeHierarchy.isAffectedByPac</Line>
          <Line>kageFragmentRoot(TypeHierarchy.java)</Line>
          <Line>at org.eclipse.jdt.internal.core.hierarchy.TypeHierarchy.isAffected(Type</Line>
          <Line>Hierarchy.java)</Line>
          <Line>at org.eclipse.jdt.internal.core.hierarchy.TypeHierarchy.isAffectedByChi</Line>
          <Line>ldren(TypeHierarchy.java)</Line>
          <Line>at org.eclipse.jdt.internal.core.hierarchy.TypeHierarchy.isAffectedByJav</Line>
          <Line>aProject(TypeHierarchy.java)</Line>
          <Line>at org.eclipse.jdt.internal.core.hierarchy.TypeHierarchy.isAffected(Type</Line>
          <Line>Hierarchy.java)</Line>
          <Line>at org.eclipse.jdt.internal.core.hierarchy.TypeHierarchy.isAffectedByChi</Line>
          <Line>ldren(TypeHierarchy.java)</Line>
          <Line>at org.eclipse.jdt.internal.core.hierarchy.TypeHierarchy.isAffectedByJav</Line>
          <Line>aModel(TypeHierarchy.java:855)</Line>
          <Line>at org.eclipse.jdt.internal.core.hierarchy.TypeHierarchy.isAffected(Type</Line>
          <Line>Hierarchy.java)</Line>
          <Line>at org.eclipse.jdt.internal.core.hierarchy.TypeHierarchy.elementChanged(</Line>
          <Line>TypeHierarchy.java:347)</Line>
          <Line>at org.eclipse.jdt.internal.core.DeltaProcessor$2.run(DeltaProcessor.jav</Line>
          <Line>a)</Line>
          <Line>at org.eclipse.core.internal.runtime.InternalPlatform.run(InternalPlatfo</Line>
          <Line>rm.java)</Line>
          <Line>at org.eclipse.core.runtime.Platform.run(Platform.java)</Line>
          <Line>at org.eclipse.jdt.internal.core.DeltaProcessor.notifyListeners(DeltaPro</Line>
          <Line>cessor.java)</Line>
          <Line>at org.eclipse.jdt.internal.core.DeltaProcessor.firePostChangeDelta(Delt</Line>
          <Line>aProcessor.java:1314)</Line>
          <Line>at org.eclipse.jdt.internal.core.DeltaProcessor.fire(DeltaProcessor.java</Line>
          <Line>:1293)</Line>
          <Line>at org.eclipse.jdt.internal.core.DeltaProcessor.resourceChanged(DeltaPro</Line>
          <Line>cessor.java:1891)</Line>
          <Line>at org.eclipse.jdt.internal.core.DeltaProcessingState.resourceChanged(De</Line>
          <Line>ltaProcessingState.java:414)</Line>
          <Line>at org.eclipse.core.internal.events.NotificationManager$2.run(Notificati</Line>
          <Line>onManager.java)</Line>
          <Line>at org.eclipse.core.internal.runtime.InternalPlatform.run(InternalPlatfo</Line>
          <Line>rm.java)</Line>
          <Line>at org.eclipse.core.runtime.Platform.run(Platform.java)</Line>
          <Line>at org.eclipse.core.internal.events.NotificationManager.notify(Notificat</Line>
          <Line>ionManager.java:277)</Line>
          <Line>at org.eclipse.core.internal.events.NotificationManager.broadcastChanges</Line>
          <Line>(NotificationManager.java:151)</Line>
          <Line>at org.eclipse.core.internal.resources.Workspace.broadcastChanges(Worksp</Line>
          <Line>ace.java:172)</Line>
          <Line>at org.eclipse.core.internal.resources.Workspace.endOperation(Workspace.</Line>
          <Line>java)</Line>
          <Line>at org.eclipse.core.internal.resources.File.create(File.java)</Line>
          <Line>at org.eclipse.core.internal.resources.File.create(File.java)</Line>
          <Line>at org.eclipse.team.internal.ccvs.core.resources.EclipseFile.setContents</Line>
          <Line>(EclipseFile.java)</Line>
          <Line>at org.eclipse.team.internal.ccvs.core.client.Session.receiveFile(Sessio</Line>
          <Line>n.java)</Line>
          <Line>at org.eclipse.team.internal.ccvs.core.client.UpdatedHandler.receiveTarg</Line>
          <Line>etFile(UpdatedHandler.java)</Line>
          <Line>at org.eclipse.team.internal.ccvs.core.client.UpdatedHandler.handle(Upda</Line>
          <Line>tedHandler.java)</Line>
          <Line>at org.eclipse.team.internal.ccvs.core.client.Request.executeRequest(Req</Line>
          <Line>uest.java)</Line>
          <Line>at org.eclipse.team.internal.ccvs.core.client.Command.doExecute(Command.</Line>
          <Line>java:421)</Line>
          <Line>at org.eclipse.team.internal.ccvs.core.client.Checkout.doExecute(Checkou</Line>
          <Line>t.java:168)</Line>
          <Line>at org.eclipse.team.internal.ccvs.core.client.CheckoutWithOverwrite.doEx</Line>
          <Line>ecute(CheckoutWithOverwrite.java:52)</Line>
          <Line>at org.eclipse.team.internal.ccvs.core.client.Command$1.run(Command.java</Line>
          <Line>:337)</Line>
          <Line>at org.eclipse.team.internal.ccvs.core.resources.EclipseSynchronizer.run</Line>
          <Line>(EclipseSynchronizer.java)</Line>
          <Line>at org.eclipse.team.internal.ccvs.core.resources.EclipseResource$2.run(E</Line>
          <Line>clipseResource.java:268)</Line>
          <Line>at org.eclipse.core.internal.resources.Workspace.run(Workspace.java)</Line>
          <Line>at org.eclipse.team.internal.ccvs.core.resources.EclipseResource.run(Ecl</Line>
          <Line>ipseResource.java:265)</Line>
          <Line>at org.eclipse.team.internal.ccvs.core.client.Command.execute(Command.ja</Line>
          <Line>va:349)</Line>
          <Line>at org.eclipse.team.internal.ccvs.ui.operations.CheckoutProjectOperation</Line>
          <Line>.performCheckout(CheckoutProjectOperation.java:245)</Line>
          <Line>at org.eclipse.team.internal.ccvs.ui.operations.CheckoutProjectOperation</Line>
          <Line>$1.run(CheckoutProjectOperation.java:151)</Line>
          <Line>at org.eclipse.team.internal.ccvs.core.resources.EclipseSynchronizer.run</Line>
          <Line>(EclipseSynchronizer.java)</Line>
          <Line>at org.eclipse.team.internal.ccvs.ui.operations.CheckoutProjectOperation</Line>
          <Line>.checkout(CheckoutProjectOperation.java:149)</Line>
          <Line>at org.eclipse.team.internal.ccvs.ui.operations.CheckoutMultipleProjects</Line>
          <Line>Operation.checkout(CheckoutMultipleProjectsOperation.java:50)</Line>
          <Line>at org.eclipse.team.internal.ccvs.ui.operations.CheckoutOperation.checko</Line>
          <Line>ut(CheckoutOperation.java:46)</Line>
          <Line>at org.eclipse.team.internal.ccvs.ui.operations.CheckoutOperation.execut</Line>
          <Line>e(CheckoutOperation.java:31)</Line>
          <Line>at org.eclipse.team.internal.ccvs.ui.operations.CVSOperation.run(CVSOper</Line>
          <Line>ation.java:84)</Line>
          <Line>at org.eclipse.team.internal.ui.actions.JobRunnableContext.run(JobRunnab</Line>
          <Line>leContext.java:159)</Line>
          <Line>at org.eclipse.team.internal.ui.actions.JobRunnableContext$3.runInWorksp</Line>
          <Line>ace(JobRunnableContext.java:179)</Line>
          <Line>at org.eclipse.core.internal.resources.InternalWorkspaceJob.run(Internal</Line>
          <Line>WorkspaceJob.java:38)</Line>
          <Line>at org.eclipse.core.internal.jobs.Worker.run(Worker.java)</Line>
        </Lines>
      </Enumeration>
      <Enumeration lines="8">
        <Lines>
          <Line>1) I have a workspace (newly created) that contains JUnit as per Smoke test.</Line>
          <Line>2) I created a second Project "Test" with a couple of classes</Line>
          <Line>3) I checked out org.eclipse.jdt.ui</Line>
          <Line>4) Did some testing, etc</Line>
          <Line>5) I checked out org.eclipse.swt</Line>
          <Line>6) while the checkout was running in the background, I tried to open</Line>
          <Line>"StyledText" repeatedly via the "Open Type" dialog (by pressing ctrl-shift-t).</Line>
          <Line>7) I noticed these stack traces in the console log:</Line>
        </Lines>
      </Enumeration>
    </Enumerations>
    <bug_status amount="VERIFIED" />
    <resolution amount="FIXED" />
    <WithStack>3.0 RC3 

1) I have a workspace (newly created) that contains JUnit as per Smoke test.
2) I created a second Project "Test" with a couple of classes
3) I checked out org.eclipse.jdt.ui
4) Did some testing, etc
5) I checked out org.eclipse.swt
6) while the checkout was running in the background, I tried to open
"StyledText" repeatedly via the "Open Type" dialog (by pressing ctrl-shift-t).
7) I noticed these stack traces in the console log:

        at java.lang.Throwable.&lt;init&gt;(Throwable.java)
        at org.eclipse.core.runtime.CoreException.&lt;init&gt;(CoreException.java)
        at org.eclipse.jdt.core.JavaModelException.&lt;init&gt;(JavaModelException.jav
a:67)
        at org.eclipse.jdt.internal.core.JavaElement.newNotPresentException(Java
Element.java:561)
        at org.eclipse.jdt.internal.core.PackageFragmentRoot.buildStructure(Pack
ageFragmentRoot.java:169)
        at org.eclipse.jdt.internal.core.Openable.generateInfos(Openable.java)
        at org.eclipse.jdt.internal.core.JavaElement.openWhenClosed(JavaElement.
java)
        at org.eclipse.jdt.internal.core.JavaElement.getElementInfo(JavaElement.
java)
        at org.eclipse.jdt.internal.core.JavaElement.getElementInfo(JavaElement.
java)
        at org.eclipse.jdt.internal.core.PackageFragmentRoot.getKind(PackageFrag
mentRoot.java)
        at org.eclipse.jdt.internal.core.PackageFragment.getKind(PackageFragment
.java)
        at org.eclipse.jdt.internal.core.CompilationUnit.buildStructure(Compilat
ionUnit.java)
        at org.eclipse.jdt.internal.core.Openable.generateInfos(Openable.java)
        at org.eclipse.jdt.internal.core.JavaElement.openWhenClosed(JavaElement.
java)
        at org.eclipse.jdt.internal.core.JavaElement.getElementInfo(JavaElement.
java)
        at org.eclipse.jdt.internal.core.JavaElement.getElementInfo(JavaElement.
java)
        at org.eclipse.jdt.internal.core.JavaElement.getChildren(JavaElement.jav
a)
        at org.eclipse.jdt.internal.core.JavaElement.getChildrenOfType(JavaEleme
nt.java)
        at org.eclipse.jdt.internal.core.CompilationUnit.getTypes(CompilationUni
t.java)
        at org.eclipse.jdt.internal.core.hierarchy.ChangeCollector.getAllTypesFr
omElement(ChangeCollector.java)
        at org.eclipse.jdt.internal.core.hierarchy.ChangeCollector.addChange(Cha
ngeCollector.java)
        at org.eclipse.jdt.internal.core.hierarchy.TypeHierarchy.isAffectedByOpe
nable(TypeHierarchy.java)
        at org.eclipse.jdt.internal.core.hierarchy.TypeHierarchy.isAffected(Type
Hierarchy.java)
        at org.eclipse.jdt.internal.core.hierarchy.TypeHierarchy.isAffectedByChi
ldren(TypeHierarchy.java)
        at org.eclipse.jdt.internal.core.hierarchy.TypeHierarchy.isAffectedByPac
kageFragment(TypeHierarchy.java:908)
        at org.eclipse.jdt.internal.core.hierarchy.TypeHierarchy.isAffected(Type
Hierarchy.java)
        at org.eclipse.jdt.internal.core.hierarchy.TypeHierarchy.isAffectedByChi
ldren(TypeHierarchy.java)
        at org.eclipse.jdt.internal.core.hierarchy.TypeHierarchy.isAffectedByPac
kageFragmentRoot(TypeHierarchy.java)
        at org.eclipse.jdt.internal.core.hierarchy.TypeHierarchy.isAffected(Type
Hierarchy.java)
        at org.eclipse.jdt.internal.core.hierarchy.TypeHierarchy.isAffectedByChi
ldren(TypeHierarchy.java)
        at org.eclipse.jdt.internal.core.hierarchy.TypeHierarchy.isAffectedByJav
aProject(TypeHierarchy.java)
        at org.eclipse.jdt.internal.core.hierarchy.TypeHierarchy.isAffected(Type
Hierarchy.java)
        at org.eclipse.jdt.internal.core.hierarchy.TypeHierarchy.isAffectedByChi
ldren(TypeHierarchy.java)
        at org.eclipse.jdt.internal.core.hierarchy.TypeHierarchy.isAffectedByJav
aModel(TypeHierarchy.java:855)
        at org.eclipse.jdt.internal.core.hierarchy.TypeHierarchy.isAffected(Type
Hierarchy.java)
        at org.eclipse.jdt.internal.core.hierarchy.TypeHierarchy.elementChanged(
TypeHierarchy.java:347)
        at org.eclipse.jdt.internal.core.DeltaProcessor$2.run(DeltaProcessor.jav
a)
        at org.eclipse.core.internal.runtime.InternalPlatform.run(InternalPlatfo
rm.java)
        at org.eclipse.core.runtime.Platform.run(Platform.java)
        at org.eclipse.jdt.internal.core.DeltaProcessor.notifyListeners(DeltaPro
cessor.java)
        at org.eclipse.jdt.internal.core.DeltaProcessor.firePostChangeDelta(Delt
aProcessor.java:1314)
        at org.eclipse.jdt.internal.core.DeltaProcessor.fire(DeltaProcessor.java
:1293)
        at org.eclipse.jdt.internal.core.DeltaProcessor.resourceChanged(DeltaPro
cessor.java:1891)
        at org.eclipse.jdt.internal.core.DeltaProcessingState.resourceChanged(De
ltaProcessingState.java:414)
        at org.eclipse.core.internal.events.NotificationManager$2.run(Notificati
onManager.java)
        at org.eclipse.core.internal.runtime.InternalPlatform.run(InternalPlatfo
rm.java)
        at org.eclipse.core.runtime.Platform.run(Platform.java)
        at org.eclipse.core.internal.events.NotificationManager.notify(Notificat
ionManager.java:277)
        at org.eclipse.core.internal.events.NotificationManager.broadcastChanges
(NotificationManager.java:151)
        at org.eclipse.core.internal.resources.Workspace.broadcastChanges(Worksp
ace.java:172)
        at org.eclipse.core.internal.resources.Workspace.endOperation(Workspace.
java)
        at org.eclipse.core.internal.resources.File.create(File.java)
        at org.eclipse.core.internal.resources.File.create(File.java)
        at org.eclipse.team.internal.ccvs.core.resources.EclipseFile.setContents
(EclipseFile.java)
        at org.eclipse.team.internal.ccvs.core.client.Session.receiveFile(Sessio
n.java)
        at org.eclipse.team.internal.ccvs.core.client.UpdatedHandler.receiveTarg
etFile(UpdatedHandler.java)
        at org.eclipse.team.internal.ccvs.core.client.UpdatedHandler.handle(Upda
tedHandler.java)
        at org.eclipse.team.internal.ccvs.core.client.Request.executeRequest(Req
uest.java)
        at org.eclipse.team.internal.ccvs.core.client.Command.doExecute(Command.
java:421)
        at org.eclipse.team.internal.ccvs.core.client.Checkout.doExecute(Checkou
t.java:168)
        at org.eclipse.team.internal.ccvs.core.client.CheckoutWithOverwrite.doEx
ecute(CheckoutWithOverwrite.java:52)
        at org.eclipse.team.internal.ccvs.core.client.Command$1.run(Command.java
:337)
        at org.eclipse.team.internal.ccvs.core.resources.EclipseSynchronizer.run
(EclipseSynchronizer.java)
        at org.eclipse.team.internal.ccvs.core.resources.EclipseResource$2.run(E
clipseResource.java:268)
        at org.eclipse.core.internal.resources.Workspace.run(Workspace.java)
        at org.eclipse.team.internal.ccvs.core.resources.EclipseResource.run(Ecl
ipseResource.java:265)
        at org.eclipse.team.internal.ccvs.core.client.Command.execute(Command.ja
va:349)
        at org.eclipse.team.internal.ccvs.ui.operations.CheckoutProjectOperation
.performCheckout(CheckoutProjectOperation.java:245)
        at org.eclipse.team.internal.ccvs.ui.operations.CheckoutProjectOperation
$1.run(CheckoutProjectOperation.java:151)
        at org.eclipse.team.internal.ccvs.core.resources.EclipseSynchronizer.run
(EclipseSynchronizer.java)
        at org.eclipse.team.internal.ccvs.ui.operations.CheckoutProjectOperation
.checkout(CheckoutProjectOperation.java:149)
        at org.eclipse.team.internal.ccvs.ui.operations.CheckoutMultipleProjects
Operation.checkout(CheckoutMultipleProjectsOperation.java:50)
        at org.eclipse.team.internal.ccvs.ui.operations.CheckoutOperation.checko
ut(CheckoutOperation.java:46)
        at org.eclipse.team.internal.ccvs.ui.operations.CheckoutOperation.execut
e(CheckoutOperation.java:31)
        at org.eclipse.team.internal.ccvs.ui.operations.CVSOperation.run(CVSOper
ation.java:84)
        at org.eclipse.team.internal.ui.actions.JobRunnableContext.run(JobRunnab
leContext.java:159)
        at org.eclipse.team.internal.ui.actions.JobRunnableContext$3.runInWorksp
ace(JobRunnableContext.java:179)
        at org.eclipse.core.internal.resources.InternalWorkspaceJob.run(Internal
WorkspaceJob.java:38)
        at org.eclipse.core.internal.jobs.Worker.run(Worker.java)
Java Model Exception: Java Model Status [Eclipse SWT PI/motif/org/eclipse/swt/in
ternal/motif [in org.eclipse.swt] does not exist]
        at java.lang.Throwable.&lt;init&gt;(Throwable.java)
        at java.lang.Throwable.&lt;init&gt;(Throwable.java)
        at org.eclipse.core.runtime.CoreException.&lt;init&gt;(CoreException.java)
        at org.eclipse.jdt.core.JavaModelException.&lt;init&gt;(JavaModelException.jav
a:67)
        at org.eclipse.jdt.internal.core.JavaElement.newNotPresentException(Java
Element.java:561)
        at org.eclipse.jdt.internal.core.PackageFragmentRoot.buildStructure(Pack
ageFragmentRoot.java:169)
        at org.eclipse.jdt.internal.core.Openable.generateInfos(Openable.java)
        at org.eclipse.jdt.internal.core.JavaElement.openWhenClosed(JavaElement.
java)
        at org.eclipse.jdt.internal.core.JavaElement.getElementInfo(JavaElement.
java)
        at org.eclipse.jdt.internal.core.JavaElement.getElementInfo(JavaElement.
java)
        at org.eclipse.jdt.internal.core.PackageFragmentRoot.getKind(PackageFrag
mentRoot.java)
        at org.eclipse.jdt.internal.core.PackageFragment.getKind(PackageFragment
.java)
        at org.eclipse.jdt.internal.core.CompilationUnit.buildStructure(Compilat
ionUnit.java)
        at org.eclipse.jdt.internal.core.Openable.generateInfos(Openable.java)
        at org.eclipse.jdt.internal.core.JavaElement.openWhenClosed(JavaElement.
java)
        at org.eclipse.jdt.internal.core.JavaElement.getElementInfo(JavaElement.
java)
        at org.eclipse.jdt.internal.core.JavaElement.getElementInfo(JavaElement.
java)
        at org.eclipse.jdt.internal.core.JavaElement.getChildren(JavaElement.jav
a)
        at org.eclipse.jdt.internal.core.JavaElement.getChildrenOfType(JavaEleme
nt.java)
        at org.eclipse.jdt.internal.core.CompilationUnit.getTypes(CompilationUni
t.java)
        at org.eclipse.jdt.internal.core.hierarchy.ChangeCollector.getAllTypesFr
omElement(ChangeCollector.java)
        at org.eclipse.jdt.internal.core.hierarchy.ChangeCollector.addChange(Cha
ngeCollector.java)
        at org.eclipse.jdt.internal.core.hierarchy.TypeHierarchy.isAffectedByOpe
nable(TypeHierarchy.java)
        at org.eclipse.jdt.internal.core.hierarchy.TypeHierarchy.isAffected(Type
Hierarchy.java)
        at org.eclipse.jdt.internal.core.hierarchy.TypeHierarchy.isAffectedByChi
ldren(TypeHierarchy.java)
        at org.eclipse.jdt.internal.core.hierarchy.TypeHierarchy.isAffectedByPac
kageFragment(TypeHierarchy.java:908)
        at org.eclipse.jdt.internal.core.hierarchy.TypeHierarchy.isAffected(Type
Hierarchy.java)
        at org.eclipse.jdt.internal.core.hierarchy.TypeHierarchy.isAffectedByChi
ldren(TypeHierarchy.java)
        at org.eclipse.jdt.internal.core.hierarchy.TypeHierarchy.isAffectedByPac
kageFragmentRoot(TypeHierarchy.java)
        at org.eclipse.jdt.internal.core.hierarchy.TypeHierarchy.isAffected(Type
Hierarchy.java)
        at org.eclipse.jdt.internal.core.hierarchy.TypeHierarchy.isAffectedByChi
ldren(TypeHierarchy.java)
        at org.eclipse.jdt.internal.core.hierarchy.TypeHierarchy.isAffectedByJav
aProject(TypeHierarchy.java)
        at org.eclipse.jdt.internal.core.hierarchy.TypeHierarchy.isAffected(Type
Hierarchy.java)
        at org.eclipse.jdt.internal.core.hierarchy.TypeHierarchy.isAffectedByChi
ldren(TypeHierarchy.java)
        at org.eclipse.jdt.internal.core.hierarchy.TypeHierarchy.isAffectedByJav
aModel(TypeHierarchy.java:855)
        at org.eclipse.jdt.internal.core.hierarchy.TypeHierarchy.isAffected(Type
Hierarchy.java)
        at org.eclipse.jdt.internal.core.hierarchy.TypeHierarchy.elementChanged(
TypeHierarchy.java:347)
        at org.eclipse.jdt.internal.core.DeltaProcessor$2.run(DeltaProcessor.jav
a)
        at org.eclipse.core.internal.runtime.InternalPlatform.run(InternalPlatfo
rm.java)
        at org.eclipse.core.runtime.Platform.run(Platform.java)
        at org.eclipse.jdt.internal.core.DeltaProcessor.notifyListeners(DeltaPro
cessor.java)
        at org.eclipse.jdt.internal.core.DeltaProcessor.firePostChangeDelta(Delt
aProcessor.java:1314)
        at org.eclipse.jdt.internal.core.DeltaProcessor.fire(DeltaProcessor.java
:1293)
        at org.eclipse.jdt.internal.core.DeltaProcessor.resourceChanged(DeltaPro
cessor.java:1891)
        at org.eclipse.jdt.internal.core.DeltaProcessingState.resourceChanged(De
ltaProcessingState.java:414)
        at org.eclipse.core.internal.events.NotificationManager$2.run(Notificati
onManager.java)
        at org.eclipse.core.internal.runtime.InternalPlatform.run(InternalPlatfo
rm.java)
        at org.eclipse.core.runtime.Platform.run(Platform.java)
        at org.eclipse.core.internal.events.NotificationManager.notify(Notificat
ionManager.java:277)
        at org.eclipse.core.internal.events.NotificationManager.broadcastChanges
(NotificationManager.java:151)
        at org.eclipse.core.internal.resources.Workspace.broadcastChanges(Worksp
ace.java:172)
        at org.eclipse.core.internal.resources.Workspace.endOperation(Workspace.
java)
        at org.eclipse.core.internal.resources.File.create(File.java)
        at org.eclipse.core.internal.resources.File.create(File.java)
        at org.eclipse.team.internal.ccvs.core.resources.EclipseFile.setContents
(EclipseFile.java)
        at org.eclipse.team.internal.ccvs.core.client.Session.receiveFile(Sessio
n.java)
        at org.eclipse.team.internal.ccvs.core.client.UpdatedHandler.receiveTarg
etFile(UpdatedHandler.java)
        at org.eclipse.team.internal.ccvs.core.client.UpdatedHandler.handle(Upda
tedHandler.java)
        at org.eclipse.team.internal.ccvs.core.client.Request.executeRequest(Req
uest.java)
        at org.eclipse.team.internal.ccvs.core.client.Command.doExecute(Command.
java:421)
        at org.eclipse.team.internal.ccvs.core.client.Checkout.doExecute(Checkou
t.java:168)
        at org.eclipse.team.internal.ccvs.core.client.CheckoutWithOverwrite.doEx
ecute(CheckoutWithOverwrite.java:52)
        at org.eclipse.team.internal.ccvs.core.client.Command$1.run(Command.java
:337)
        at org.eclipse.team.internal.ccvs.core.resources.EclipseSynchronizer.run
(EclipseSynchronizer.java)
        at org.eclipse.team.internal.ccvs.core.resources.EclipseResource$2.run(E
clipseResource.java:268)
        at org.eclipse.core.internal.resources.Workspace.run(Workspace.java)
        at org.eclipse.team.internal.ccvs.core.resources.EclipseResource.run(Ecl
ipseResource.java:265)
        at org.eclipse.team.internal.ccvs.core.client.Command.execute(Command.ja
va:349)
        at org.eclipse.team.internal.ccvs.ui.operations.CheckoutProjectOperation
.performCheckout(CheckoutProjectOperation.java:245)
        at org.eclipse.team.internal.ccvs.ui.operations.CheckoutProjectOperation
$1.run(CheckoutProjectOperation.java:151)
        at org.eclipse.team.internal.ccvs.core.resources.EclipseSynchronizer.run
(EclipseSynchronizer.java)
        at org.eclipse.team.internal.ccvs.ui.operations.CheckoutProjectOperation
.checkout(CheckoutProjectOperation.java:149)
        at org.eclipse.team.internal.ccvs.ui.operations.CheckoutMultipleProjects
Operation.checkout(CheckoutMultipleProjectsOperation.java:50)
        at org.eclipse.team.internal.ccvs.ui.operations.CheckoutOperation.checko
ut(CheckoutOperation.java:46)
        at org.eclipse.team.internal.ccvs.ui.operations.CheckoutOperation.execut
e(CheckoutOperation.java:31)
        at org.eclipse.team.internal.ccvs.ui.operations.CVSOperation.run(CVSOper
ation.java:84)
        at org.eclipse.team.internal.ui.actions.JobRunnableContext.run(JobRunnab
leContext.java:159)
        at org.eclipse.team.internal.ui.actions.JobRunnableContext$3.runInWorksp
ace(JobRunnableContext.java:179)
        at org.eclipse.core.internal.resources.InternalWorkspaceJob.run(Internal
WorkspaceJob.java:38)
        at org.eclipse.core.internal.jobs.Worker.run(Worker.java)


Note that the org.eclipse.swt project looks like it's missing the JRE container
(not showing up in the package explorer, and the compiler complains about
missing java.lang.Object). When looking at the java build path page, the JRE
container is present, though.
Moving to JDT/Core since the exception happens there and JDT/UI doesn't show 
up in the call chain
Similar to bug 71608.
Stack trace should not have been surfaced. This is expected. 
Changed TypeHierarchy#isAffectedByOpenable(...) to show the stack trace only 
if DEBUG is on.
Verified for 3.1 M2 with build I200409230010.</WithStack>
    <WithOutStack>3.0 RC3 

1) I have a workspace (newly created) that contains JUnit as per Smoke test.
2) I created a second Project "Test" with a couple of classes
3) I checked out org.eclipse.jdt.ui
4) Did some testing, etc
5) I checked out org.eclipse.swt
6) while the checkout was running in the background, I tried to open
"StyledText" repeatedly via the "Open Type" dialog (by pressing ctrl-shift-t).
7) I noticed these stack traces in the console log:

        at java.lang.Throwable.&lt;init&gt;(Throwable.java)
        at org.eclipse.core.runtime.CoreException.&lt;init&gt;(CoreException.java)
        at org.eclipse.jdt.core.JavaModelException.&lt;init&gt;(JavaModelException.jav
a:67)
        at org.eclipse.jdt.internal.core.JavaElement.newNotPresentException(Java
Element.java:561)
        at org.eclipse.jdt.internal.core.PackageFragmentRoot.buildStructure(Pack
ageFragmentRoot.java:169)
        at org.eclipse.jdt.internal.core.Openable.generateInfos(Openable.java)
        at org.eclipse.jdt.internal.core.JavaElement.openWhenClosed(JavaElement.
java)
        at org.eclipse.jdt.internal.core.JavaElement.getElementInfo(JavaElement.
java)
        at org.eclipse.jdt.internal.core.JavaElement.getElementInfo(JavaElement.
java)
        at org.eclipse.jdt.internal.core.PackageFragmentRoot.getKind(PackageFrag
mentRoot.java)
        at org.eclipse.jdt.internal.core.PackageFragment.getKind(PackageFragment
.java)
        at org.eclipse.jdt.internal.core.CompilationUnit.buildStructure(Compilat
ionUnit.java)
        at org.eclipse.jdt.internal.core.Openable.generateInfos(Openable.java)
        at org.eclipse.jdt.internal.core.JavaElement.openWhenClosed(JavaElement.
java)
        at org.eclipse.jdt.internal.core.JavaElement.getElementInfo(JavaElement.
java)
        at org.eclipse.jdt.internal.core.JavaElement.getElementInfo(JavaElement.
java)
        at org.eclipse.jdt.internal.core.JavaElement.getChildren(JavaElement.jav
a)
        at org.eclipse.jdt.internal.core.JavaElement.getChildrenOfType(JavaEleme
nt.java)
        at org.eclipse.jdt.internal.core.CompilationUnit.getTypes(CompilationUni
t.java)
        at org.eclipse.jdt.internal.core.hierarchy.ChangeCollector.getAllTypesFr
omElement(ChangeCollector.java)
        at org.eclipse.jdt.internal.core.hierarchy.ChangeCollector.addChange(Cha
ngeCollector.java)
        at org.eclipse.jdt.internal.core.hierarchy.TypeHierarchy.isAffectedByOpe
nable(TypeHierarchy.java)
        at org.eclipse.jdt.internal.core.hierarchy.TypeHierarchy.isAffected(Type
Hierarchy.java)
        at org.eclipse.jdt.internal.core.hierarchy.TypeHierarchy.isAffectedByChi
ldren(TypeHierarchy.java)
        at org.eclipse.jdt.internal.core.hierarchy.TypeHierarchy.isAffectedByPac
kageFragment(TypeHierarchy.java:908)
        at org.eclipse.jdt.internal.core.hierarchy.TypeHierarchy.isAffected(Type
Hierarchy.java)
        at org.eclipse.jdt.internal.core.hierarchy.TypeHierarchy.isAffectedByChi
ldren(TypeHierarchy.java)
        at org.eclipse.jdt.internal.core.hierarchy.TypeHierarchy.isAffectedByPac
kageFragmentRoot(TypeHierarchy.java)
        at org.eclipse.jdt.internal.core.hierarchy.TypeHierarchy.isAffected(Type
Hierarchy.java)
        at org.eclipse.jdt.internal.core.hierarchy.TypeHierarchy.isAffectedByChi
ldren(TypeHierarchy.java)
        at org.eclipse.jdt.internal.core.hierarchy.TypeHierarchy.isAffectedByJav
aProject(TypeHierarchy.java)
        at org.eclipse.jdt.internal.core.hierarchy.TypeHierarchy.isAffected(Type
Hierarchy.java)
        at org.eclipse.jdt.internal.core.hierarchy.TypeHierarchy.isAffectedByChi
ldren(TypeHierarchy.java)
        at org.eclipse.jdt.internal.core.hierarchy.TypeHierarchy.isAffectedByJav
aModel(TypeHierarchy.java:855)
        at org.eclipse.jdt.internal.core.hierarchy.TypeHierarchy.isAffected(Type
Hierarchy.java)
        at org.eclipse.jdt.internal.core.hierarchy.TypeHierarchy.elementChanged(
TypeHierarchy.java:347)
        at org.eclipse.jdt.internal.core.DeltaProcessor$2.run(DeltaProcessor.jav
a)
        at org.eclipse.core.internal.runtime.InternalPlatform.run(InternalPlatfo
rm.java)
        at org.eclipse.core.runtime.Platform.run(Platform.java)
        at org.eclipse.jdt.internal.core.DeltaProcessor.notifyListeners(DeltaPro
cessor.java)
        at org.eclipse.jdt.internal.core.DeltaProcessor.firePostChangeDelta(Delt
aProcessor.java:1314)
        at org.eclipse.jdt.internal.core.DeltaProcessor.fire(DeltaProcessor.java
:1293)
        at org.eclipse.jdt.internal.core.DeltaProcessor.resourceChanged(DeltaPro
cessor.java:1891)
        at org.eclipse.jdt.internal.core.DeltaProcessingState.resourceChanged(De
ltaProcessingState.java:414)
        at org.eclipse.core.internal.events.NotificationManager$2.run(Notificati
onManager.java)
        at org.eclipse.core.internal.runtime.InternalPlatform.run(InternalPlatfo
rm.java)
        at org.eclipse.core.runtime.Platform.run(Platform.java)
        at org.eclipse.core.internal.events.NotificationManager.notify(Notificat
ionManager.java:277)
        at org.eclipse.core.internal.events.NotificationManager.broadcastChanges
(NotificationManager.java:151)
        at org.eclipse.core.internal.resources.Workspace.broadcastChanges(Worksp
ace.java:172)
        at org.eclipse.core.internal.resources.Workspace.endOperation(Workspace.
java)
        at org.eclipse.core.internal.resources.File.create(File.java)
        at org.eclipse.core.internal.resources.File.create(File.java)
        at org.eclipse.team.internal.ccvs.core.resources.EclipseFile.setContents
(EclipseFile.java)
        at org.eclipse.team.internal.ccvs.core.client.Session.receiveFile(Sessio
n.java)
        at org.eclipse.team.internal.ccvs.core.client.UpdatedHandler.receiveTarg
etFile(UpdatedHandler.java)
        at org.eclipse.team.internal.ccvs.core.client.UpdatedHandler.handle(Upda
tedHandler.java)
        at org.eclipse.team.internal.ccvs.core.client.Request.executeRequest(Req
uest.java)
        at org.eclipse.team.internal.ccvs.core.client.Command.doExecute(Command.
java:421)
        at org.eclipse.team.internal.ccvs.core.client.Checkout.doExecute(Checkou
t.java:168)
        at org.eclipse.team.internal.ccvs.core.client.CheckoutWithOverwrite.doEx
ecute(CheckoutWithOverwrite.java:52)
        at org.eclipse.team.internal.ccvs.core.client.Command$1.run(Command.java
:337)
        at org.eclipse.team.internal.ccvs.core.resources.EclipseSynchronizer.run
(EclipseSynchronizer.java)
        at org.eclipse.team.internal.ccvs.core.resources.EclipseResource$2.run(E
clipseResource.java:268)
        at org.eclipse.core.internal.resources.Workspace.run(Workspace.java)
        at org.eclipse.team.internal.ccvs.core.resources.EclipseResource.run(Ecl
ipseResource.java:265)
        at org.eclipse.team.internal.ccvs.core.client.Command.execute(Command.ja
va:349)
        at org.eclipse.team.internal.ccvs.ui.operations.CheckoutProjectOperation
.performCheckout(CheckoutProjectOperation.java:245)
        at org.eclipse.team.internal.ccvs.ui.operations.CheckoutProjectOperation
$1.run(CheckoutProjectOperation.java:151)
        at org.eclipse.team.internal.ccvs.core.resources.EclipseSynchronizer.run
(EclipseSynchronizer.java)
        at org.eclipse.team.internal.ccvs.ui.operations.CheckoutProjectOperation
.checkout(CheckoutProjectOperation.java:149)
        at org.eclipse.team.internal.ccvs.ui.operations.CheckoutMultipleProjects
Operation.checkout(CheckoutMultipleProjectsOperation.java:50)
        at org.eclipse.team.internal.ccvs.ui.operations.CheckoutOperation.checko
ut(CheckoutOperation.java:46)
        at org.eclipse.team.internal.ccvs.ui.operations.CheckoutOperation.execut
e(CheckoutOperation.java:31)
        at org.eclipse.team.internal.ccvs.ui.operations.CVSOperation.run(CVSOper
ation.java:84)
        at org.eclipse.team.internal.ui.actions.JobRunnableContext.run(JobRunnab
leContext.java:159)
        at org.eclipse.team.internal.ui.actions.JobRunnableContext$3.runInWorksp
ace(JobRunnableContext.java:179)
        at org.eclipse.core.internal.resources.InternalWorkspaceJob.run(Internal
WorkspaceJob.java:38)
        at org.eclipse.core.internal.jobs.Worker.run(Worker.java)
Java Model Exception: Java Model Status [Eclipse SWT PI/motif/org/eclipse/swt/in
ternal/motif [in org.eclipse.swt] does not exist]
        at java.lang.Throwable.&lt;init&gt;(Throwable.java)
        at java.lang.Throwable.&lt;init&gt;(Throwable.java)
        at org.eclipse.core.runtime.CoreException.&lt;init&gt;(CoreException.java)
        at org.eclipse.jdt.core.JavaModelException.&lt;init&gt;(JavaModelException.jav
a:67)
        at org.eclipse.jdt.internal.core.JavaElement.newNotPresentException(Java
Element.java:561)
        at org.eclipse.jdt.internal.core.PackageFragmentRoot.buildStructure(Pack
ageFragmentRoot.java:169)
        at org.eclipse.jdt.internal.core.Openable.generateInfos(Openable.java)
        at org.eclipse.jdt.internal.core.JavaElement.openWhenClosed(JavaElement.
java)
        at org.eclipse.jdt.internal.core.JavaElement.getElementInfo(JavaElement.
java)
        at org.eclipse.jdt.internal.core.JavaElement.getElementInfo(JavaElement.
java)
        at org.eclipse.jdt.internal.core.PackageFragmentRoot.getKind(PackageFrag
mentRoot.java)
        at org.eclipse.jdt.internal.core.PackageFragment.getKind(PackageFragment
.java)
        at org.eclipse.jdt.internal.core.CompilationUnit.buildStructure(Compilat
ionUnit.java)
        at org.eclipse.jdt.internal.core.Openable.generateInfos(Openable.java)
        at org.eclipse.jdt.internal.core.JavaElement.openWhenClosed(JavaElement.
java)
        at org.eclipse.jdt.internal.core.JavaElement.getElementInfo(JavaElement.
java)
        at org.eclipse.jdt.internal.core.JavaElement.getElementInfo(JavaElement.
java)
        at org.eclipse.jdt.internal.core.JavaElement.getChildren(JavaElement.jav
a)
        at org.eclipse.jdt.internal.core.JavaElement.getChildrenOfType(JavaEleme
nt.java)
        at org.eclipse.jdt.internal.core.CompilationUnit.getTypes(CompilationUni
t.java)
        at org.eclipse.jdt.internal.core.hierarchy.ChangeCollector.getAllTypesFr
omElement(ChangeCollector.java)
        at org.eclipse.jdt.internal.core.hierarchy.ChangeCollector.addChange(Cha
ngeCollector.java)
        at org.eclipse.jdt.internal.core.hierarchy.TypeHierarchy.isAffectedByOpe
nable(TypeHierarchy.java)
        at org.eclipse.jdt.internal.core.hierarchy.TypeHierarchy.isAffected(Type
Hierarchy.java)
        at org.eclipse.jdt.internal.core.hierarchy.TypeHierarchy.isAffectedByChi
ldren(TypeHierarchy.java)
        at org.eclipse.jdt.internal.core.hierarchy.TypeHierarchy.isAffectedByPac
kageFragment(TypeHierarchy.java:908)
        at org.eclipse.jdt.internal.core.hierarchy.TypeHierarchy.isAffected(Type
Hierarchy.java)
        at org.eclipse.jdt.internal.core.hierarchy.TypeHierarchy.isAffectedByChi
ldren(TypeHierarchy.java)
        at org.eclipse.jdt.internal.core.hierarchy.TypeHierarchy.isAffectedByPac
kageFragmentRoot(TypeHierarchy.java)
        at org.eclipse.jdt.internal.core.hierarchy.TypeHierarchy.isAffected(Type
Hierarchy.java)
        at org.eclipse.jdt.internal.core.hierarchy.TypeHierarchy.isAffectedByChi
ldren(TypeHierarchy.java)
        at org.eclipse.jdt.internal.core.hierarchy.TypeHierarchy.isAffectedByJav
aProject(TypeHierarchy.java)
        at org.eclipse.jdt.internal.core.hierarchy.TypeHierarchy.isAffected(Type
Hierarchy.java)
        at org.eclipse.jdt.internal.core.hierarchy.TypeHierarchy.isAffectedByChi
ldren(TypeHierarchy.java)
        at org.eclipse.jdt.internal.core.hierarchy.TypeHierarchy.isAffectedByJav
aModel(TypeHierarchy.java:855)
        at org.eclipse.jdt.internal.core.hierarchy.TypeHierarchy.isAffected(Type
Hierarchy.java)
        at org.eclipse.jdt.internal.core.hierarchy.TypeHierarchy.elementChanged(
TypeHierarchy.java:347)
        at org.eclipse.jdt.internal.core.DeltaProcessor$2.run(DeltaProcessor.jav
a)
        at org.eclipse.core.internal.runtime.InternalPlatform.run(InternalPlatfo
rm.java)
        at org.eclipse.core.runtime.Platform.run(Platform.java)
        at org.eclipse.jdt.internal.core.DeltaProcessor.notifyListeners(DeltaPro
cessor.java)
        at org.eclipse.jdt.internal.core.DeltaProcessor.firePostChangeDelta(Delt
aProcessor.java:1314)
        at org.eclipse.jdt.internal.core.DeltaProcessor.fire(DeltaProcessor.java
:1293)
        at org.eclipse.jdt.internal.core.DeltaProcessor.resourceChanged(DeltaPro
cessor.java:1891)
        at org.eclipse.jdt.internal.core.DeltaProcessingState.resourceChanged(De
ltaProcessingState.java:414)
        at org.eclipse.core.internal.events.NotificationManager$2.run(Notificati
onManager.java)
        at org.eclipse.core.internal.runtime.InternalPlatform.run(InternalPlatfo
rm.java)
        at org.eclipse.core.runtime.Platform.run(Platform.java)
        at org.eclipse.core.internal.events.NotificationManager.notify(Notificat
ionManager.java:277)
        at org.eclipse.core.internal.events.NotificationManager.broadcastChanges
(NotificationManager.java:151)
        at org.eclipse.core.internal.resources.Workspace.broadcastChanges(Worksp
ace.java:172)
        at org.eclipse.core.internal.resources.Workspace.endOperation(Workspace.
java)
        at org.eclipse.core.internal.resources.File.create(File.java)
        at org.eclipse.core.internal.resources.File.create(File.java)
        at org.eclipse.team.internal.ccvs.core.resources.EclipseFile.setContents
(EclipseFile.java)
        at org.eclipse.team.internal.ccvs.core.client.Session.receiveFile(Sessio
n.java)
        at org.eclipse.team.internal.ccvs.core.client.UpdatedHandler.receiveTarg
etFile(UpdatedHandler.java)
        at org.eclipse.team.internal.ccvs.core.client.UpdatedHandler.handle(Upda
tedHandler.java)
        at org.eclipse.team.internal.ccvs.core.client.Request.executeRequest(Req
uest.java)
        at org.eclipse.team.internal.ccvs.core.client.Command.doExecute(Command.
java:421)
        at org.eclipse.team.internal.ccvs.core.client.Checkout.doExecute(Checkou
t.java:168)
        at org.eclipse.team.internal.ccvs.core.client.CheckoutWithOverwrite.doEx
ecute(CheckoutWithOverwrite.java:52)
        at org.eclipse.team.internal.ccvs.core.client.Command$1.run(Command.java
:337)
        at org.eclipse.team.internal.ccvs.core.resources.EclipseSynchronizer.run
(EclipseSynchronizer.java)
        at org.eclipse.team.internal.ccvs.core.resources.EclipseResource$2.run(E
clipseResource.java:268)
        at org.eclipse.core.internal.resources.Workspace.run(Workspace.java)
        at org.eclipse.team.internal.ccvs.core.resources.EclipseResource.run(Ecl
ipseResource.java:265)
        at org.eclipse.team.internal.ccvs.core.client.Command.execute(Command.ja
va:349)
        at org.eclipse.team.internal.ccvs.ui.operations.CheckoutProjectOperation
.performCheckout(CheckoutProjectOperation.java:245)
        at org.eclipse.team.internal.ccvs.ui.operations.CheckoutProjectOperation
$1.run(CheckoutProjectOperation.java:151)
        at org.eclipse.team.internal.ccvs.core.resources.EclipseSynchronizer.run
(EclipseSynchronizer.java)
        at org.eclipse.team.internal.ccvs.ui.operations.CheckoutProjectOperation
.checkout(CheckoutProjectOperation.java:149)
        at org.eclipse.team.internal.ccvs.ui.operations.CheckoutMultipleProjects
Operation.checkout(CheckoutMultipleProjectsOperation.java:50)
        at org.eclipse.team.internal.ccvs.ui.operations.CheckoutOperation.checko
ut(CheckoutOperation.java:46)
        at org.eclipse.team.internal.ccvs.ui.operations.CheckoutOperation.execut
e(CheckoutOperation.java:31)
        at org.eclipse.team.internal.ccvs.ui.operations.CVSOperation.run(CVSOper
ation.java:84)
        at org.eclipse.team.internal.ui.actions.JobRunnableContext.run(JobRunnab
leContext.java:159)
        at org.eclipse.team.internal.ui.actions.JobRunnableContext$3.runInWorksp
ace(JobRunnableContext.java:179)
        at org.eclipse.core.internal.resources.InternalWorkspaceJob.run(Internal
WorkspaceJob.java:38)
        at org.eclipse.core.internal.jobs.Worker.run(Worker.java)


Note that the org.eclipse.swt project looks like it's missing the JRE container
(not showing up in the package explorer, and the compiler complains about
missing java.lang.Object). When looking at the java build path page, the JRE
container is present, though.
Moving to JDT/Core since the exception happens there and JDT/UI doesn't show 
up in the call chain
Similar to bug 71608.
Stack trace should not have been surfaced. This is expected. 
Changed TypeHierarchy#isAffectedByOpenable(...) to show the stack trace only 
if DEBUG is on.
Verified for 3.1 M2 with build I200409230010.</WithOutStack>
  </Bug>
  <Bug>
    <BugId amount="67977" />
    <CreationDate amount="2004-06-21 06:05:00 -0400" />
    <DupId amount="" />
    <classification amount="Eclipse" />
    <Product amount="JDT" />
    <component amount="UI" />
    <Version amount="3.0" />
    <rep_platform amount="PC" />
    <op_sys amount="Windows XP" />
    <priority amount="P3" />
    <bug_severity amount="normal" />
    <Summery>Last version of UI Refactoring tests project does not contain any file</Summery>
    <Patches amount="0" />
    <Stacktraces amount="0" />
    <SourceCodeRegions amount="0" />
    <Enumerations amount="0" />
    <bug_status amount="RESOLVED" />
    <resolution amount="WORKSFORME" />
    <WithStack>This morning, I replace my org.eclipse.jdt.ui.tests.refactoring project in my
workspace with last version from org.eclipse.dev /home/eclipse repository:
v20040618_1700 and rebuild my workspace and then got lot of errors (I have one
project which depends on this project)...

Looking at content of this version, it seems that all files of "resources"
folder and "test cases" source folder have been removed...

I guess there was surely a problem in repository after last RC3 build because
nthere was no error on tests of this project...
Tom started to make v20040618_1700 for the refactoring.tests, but cancelled and
decided to use the previous tag as there were no changes. Look at the jdt map
file to see the version used for refactoring.tests in the v20040618_1700 build
(I think it was v20040617_0800, but not sure)</WithStack>
    <WithOutStack>This morning, I replace my org.eclipse.jdt.ui.tests.refactoring project in my
workspace with last version from org.eclipse.dev /home/eclipse repository:
v20040618_1700 and rebuild my workspace and then got lot of errors (I have one
project which depends on this project)...

Looking at content of this version, it seems that all files of "resources"
folder and "test cases" source folder have been removed...

I guess there was surely a problem in repository after last RC3 build because
nthere was no error on tests of this project...
Tom started to make v20040618_1700 for the refactoring.tests, but cancelled and
decided to use the previous tag as there were no changes. Look at the jdt map
file to see the version used for refactoring.tests in the v20040618_1700 build
(I think it was v20040617_0800, but not sure)</WithOutStack>
  </Bug>
  <Bug>
    <BugId amount="67978" />
    <CreationDate amount="2004-06-21 06:38:00 -0400" />
    <DupId amount="" />
    <classification amount="Eclipse" />
    <Product amount="JDT" />
    <component amount="Text" />
    <Version amount="3.0" />
    <rep_platform amount="PC" />
    <op_sys amount="Windows XP" />
    <priority amount="P3" />
    <bug_severity amount="normal" />
    <Summery>IndexOutOfBounds in JavaEditor$MouseClickListener.repairRepresentation()</Summery>
    <Patches amount="0" />
    <Stacktraces amount="1">
      <Stacktrace timestamp="1437341152987">
        <Exception>java.lang.IllegalArgumentException</Exception>
        <Reason>Index out of bounds</Reason>
        <Frames>
          <Frame depth="0">org.eclipse.swt.SWT.error(SWT.java:2677)</Frame>
          <Frame depth="1">org.eclipse.swt.SWT.error(SWT.java:2616)</Frame>
          <Frame depth="2">org.eclipse.swt.SWT.error(SWT.java:2587)</Frame>
          <Frame depth="3">org.eclipse.swt.custom.StyledText.redrawRange(StyledText.java:6019)</Frame>
          <Frame depth="4">org.eclipse.jdt.internal.ui.javaeditor.JavaEditor$MouseClickListener.repairRepresentation(JavaEditor.java:907)</Frame>
          <Frame depth="5">org.eclipse.jdt.internal.ui.javaeditor.JavaEditor$MouseClickListener.deactivate(JavaEditor.java:717)</Frame>
          <Frame depth="6">org.eclipse.jdt.internal.ui.javaeditor.JavaEditor$MouseClickListener.deactivate(JavaEditor.java:710)</Frame>
          <Frame depth="7">org.eclipse.jdt.internal.ui.javaeditor.JavaEditor$MouseClickListener.focusLost(JavaEditor.java:1212)</Frame>
          <Frame depth="8">org.eclipse.swt.widgets.TypedListener.handleEvent(TypedListener.java:108)</Frame>
          <Frame depth="9">org.eclipse.swt.widgets.EventTable.sendEvent(EventTable.java:82)</Frame>
          <Frame depth="10">org.eclipse.swt.widgets.Widget.sendEvent(Widget.java:796)</Frame>
          <Frame depth="11">org.eclipse.swt.widgets.Widget.sendEvent(Widget.java:820)</Frame>
          <Frame depth="12">org.eclipse.swt.widgets.Widget.sendEvent(Widget.java:801)</Frame>
          <Frame depth="13">org.eclipse.swt.widgets.Control.sendFocusEvent(Control.java:1756)</Frame>
          <Frame depth="14">org.eclipse.swt.widgets.Control.WM_KILLFOCUS(Control.java:3615)</Frame>
          <Frame depth="15">org.eclipse.swt.widgets.Canvas.WM_KILLFOCUS(Canvas.java:233)</Frame>
          <Frame depth="16">org.eclipse.swt.widgets.Control.windowProc(Control.java:2999)</Frame>
          <Frame depth="17">org.eclipse.swt.widgets.Display.windowProc(Display.java:3298)</Frame>
          <Frame depth="18">org.eclipse.swt.internal.win32.OS.BringWindowToTop(Native Method)</Frame>
          <Frame depth="19">org.eclipse.swt.widgets.Decorations.bringToTop(Decorations.java:206)</Frame>
          <Frame depth="20">org.eclipse.swt.widgets.Shell.open(Shell.java:757)</Frame>
          <Frame depth="21">org.eclipse.jface.window.Window.open(Window.java:644)</Frame>
          <Frame depth="22">org.eclipse.jface.dialogs.ErrorDialog.open(ErrorDialog.java:257)</Frame>
          <Frame depth="23">org.eclipse.jface.dialogs.ErrorDialog.openError(ErrorDialog.java:319)</Frame>
          <Frame depth="24">org.eclipse.jface.dialogs.ErrorDialog.openError(ErrorDialog.java:285)</Frame>
          <Frame depth="25">org.eclipse.ui.internal.keys.WorkbenchKeyboard.logException(WorkbenchKeyboard.java:662)</Frame>
          <Frame depth="26">org.eclipse.ui.internal.keys.WorkbenchKeyboard.processKeyEvent(WorkbenchKeyboard.java:930)</Frame>
          <Frame depth="27">org.eclipse.ui.internal.keys.WorkbenchKeyboard.filterKeySequenceBindings(WorkbenchKeyboard.java:546)</Frame>
          <Frame depth="28">org.eclipse.ui.internal.keys.WorkbenchKeyboard.access$2(WorkbenchKeyboard.java:494)</Frame>
          <Frame depth="29">org.eclipse.ui.internal.keys.WorkbenchKeyboard$1.handleEvent(WorkbenchKeyboard.java:259)</Frame>
          <Frame depth="30">org.eclipse.swt.widgets.EventTable.sendEvent(EventTable.java:82)</Frame>
          <Frame depth="31">org.eclipse.swt.widgets.Display.filterEvent(Display.java:714)</Frame>
          <Frame depth="32">org.eclipse.swt.widgets.Widget.sendEvent(Widget.java:795)</Frame>
          <Frame depth="33">org.eclipse.swt.widgets.Widget.sendEvent(Widget.java:820)</Frame>
          <Frame depth="34">org.eclipse.swt.widgets.Widget.sendEvent(Widget.java:805)</Frame>
          <Frame depth="35">org.eclipse.swt.widgets.Control.sendKeyEvent(Control.java:1734)</Frame>
          <Frame depth="36">org.eclipse.swt.widgets.Control.sendKeyEvent(Control.java:1730)</Frame>
          <Frame depth="37">org.eclipse.swt.widgets.Control.WM_CHAR(Control.java:3067)</Frame>
          <Frame depth="38">org.eclipse.swt.widgets.Control.windowProc(Control.java:2970)</Frame>
          <Frame depth="39">org.eclipse.swt.widgets.Display.windowProc(Display.java:3298)</Frame>
          <Frame depth="40">org.eclipse.swt.internal.win32.OS.DispatchMessageW(Native Method)</Frame>
          <Frame depth="41">org.eclipse.swt.internal.win32.OS.DispatchMessage(OS.java:1467)</Frame>
          <Frame depth="42">org.eclipse.swt.widgets.Display.readAndDispatch(Display.java:2396)</Frame>
          <Frame depth="43">org.eclipse.ui.internal.Workbench.runEventLoop(Workbench.java:1375)</Frame>
          <Frame depth="44">org.eclipse.ui.internal.Workbench.runUI(Workbench.java:1346)</Frame>
          <Frame depth="45">org.eclipse.ui.internal.Workbench.createAndRunWorkbench(Workbench.java:252)</Frame>
          <Frame depth="46">org.eclipse.ui.PlatformUI.createAndRunWorkbench(PlatformUI.java:141)</Frame>
          <Frame depth="47">org.eclipse.ui.internal.ide.IDEApplication.run(IDEApplication.java:96)</Frame>
          <Frame depth="48">org.eclipse.core.internal.runtime.PlatformActivator$1.run(PlatformActivator.java:335)</Frame>
          <Frame depth="49">org.eclipse.core.runtime.adaptor.EclipseStarter.run(EclipseStarter.java:272)</Frame>
          <Frame depth="50">org.eclipse.core.runtime.adaptor.EclipseStarter.run(EclipseStarter.java:128)</Frame>
          <Frame depth="51">sun.reflect.NativeMethodAccessorImpl.invoke0(Native Method)</Frame>
          <Frame depth="52">sun.reflect.NativeMethodAccessorImpl.invoke(Unknown Source)</Frame>
          <Frame depth="53">sun.reflect.DelegatingMethodAccessorImpl.invoke(Unknown Source)</Frame>
          <Frame depth="54">java.lang.reflect.Method.invoke(Unknown Source)</Frame>
          <Frame depth="55">org.eclipse.core.launcher.Main.basicRun(Main.java:186)</Frame>
          <Frame depth="56">org.eclipse.core.launcher.Main.run(Main.java:647)</Frame>
          <Frame depth="57">org.eclipse.core.launcher.Main.main(Main.java:631)</Frame>
        </Frames>
      </Stacktrace>
    </Stacktraces>
    <SourceCodeRegions amount="0" />
    <Enumerations amount="0" />
    <bug_status amount="RESOLVED" />
    <resolution amount="FIXED" />
    <WithStack>While using the JDT editor in Eclipse 3.0RC3 I received the following
stacktrace, but can't say exactly what I did to get that. 

Not sure if it belongs to SWT or JDT-UI.

Hope it tells somebody enought to fix it:

java.lang.IllegalArgumentException: Index out of bounds
at org.eclipse.swt.SWT.error(SWT.java:2677)
at org.eclipse.swt.SWT.error(SWT.java:2616)
at org.eclipse.swt.SWT.error(SWT.java:2587)
at org.eclipse.swt.custom.StyledText.redrawRange(StyledText.java:6019)
at
org.eclipse.jdt.internal.ui.javaeditor.JavaEditor$MouseClickListener.repairRepresentation(JavaEditor.java:907)
at
org.eclipse.jdt.internal.ui.javaeditor.JavaEditor$MouseClickListener.deactivate(JavaEditor.java:717)
at
org.eclipse.jdt.internal.ui.javaeditor.JavaEditor$MouseClickListener.deactivate(JavaEditor.java:710)
at
org.eclipse.jdt.internal.ui.javaeditor.JavaEditor$MouseClickListener.focusLost(JavaEditor.java:1212)
at org.eclipse.swt.widgets.TypedListener.handleEvent(TypedListener.java:108)
at org.eclipse.swt.widgets.EventTable.sendEvent(EventTable.java:82)
at org.eclipse.swt.widgets.Widget.sendEvent(Widget.java:796)
at org.eclipse.swt.widgets.Widget.sendEvent(Widget.java:820)
at org.eclipse.swt.widgets.Widget.sendEvent(Widget.java:801)
at org.eclipse.swt.widgets.Control.sendFocusEvent(Control.java:1756)
at org.eclipse.swt.widgets.Control.WM_KILLFOCUS(Control.java:3615)
at org.eclipse.swt.widgets.Canvas.WM_KILLFOCUS(Canvas.java:233)
at org.eclipse.swt.widgets.Control.windowProc(Control.java:2999)
at org.eclipse.swt.widgets.Display.windowProc(Display.java:3298)
at org.eclipse.swt.internal.win32.OS.BringWindowToTop(Native Method)
at org.eclipse.swt.widgets.Decorations.bringToTop(Decorations.java:206)
at org.eclipse.swt.widgets.Shell.open(Shell.java:757)
at org.eclipse.jface.window.Window.open(Window.java:644)
at org.eclipse.jface.dialogs.ErrorDialog.open(ErrorDialog.java:257)
at org.eclipse.jface.dialogs.ErrorDialog.openError(ErrorDialog.java:319)
at org.eclipse.jface.dialogs.ErrorDialog.openError(ErrorDialog.java:285)
at
org.eclipse.ui.internal.keys.WorkbenchKeyboard.logException(WorkbenchKeyboard.java:662)
at
org.eclipse.ui.internal.keys.WorkbenchKeyboard.processKeyEvent(WorkbenchKeyboard.java:930)
at
org.eclipse.ui.internal.keys.WorkbenchKeyboard.filterKeySequenceBindings(WorkbenchKeyboard.java:546)
at
org.eclipse.ui.internal.keys.WorkbenchKeyboard.access$2(WorkbenchKeyboard.java:494)
at
org.eclipse.ui.internal.keys.WorkbenchKeyboard$1.handleEvent(WorkbenchKeyboard.java:259)
at org.eclipse.swt.widgets.EventTable.sendEvent(EventTable.java:82)
at org.eclipse.swt.widgets.Display.filterEvent(Display.java:714)
at org.eclipse.swt.widgets.Widget.sendEvent(Widget.java:795)
at org.eclipse.swt.widgets.Widget.sendEvent(Widget.java:820)
at org.eclipse.swt.widgets.Widget.sendEvent(Widget.java:805)
at org.eclipse.swt.widgets.Control.sendKeyEvent(Control.java:1734)
at org.eclipse.swt.widgets.Control.sendKeyEvent(Control.java:1730)
at org.eclipse.swt.widgets.Control.WM_CHAR(Control.java:3067)
at org.eclipse.swt.widgets.Control.windowProc(Control.java:2970)
at org.eclipse.swt.widgets.Display.windowProc(Display.java:3298)
at org.eclipse.swt.internal.win32.OS.DispatchMessageW(Native Method)
at org.eclipse.swt.internal.win32.OS.DispatchMessage(OS.java:1467)
at org.eclipse.swt.widgets.Display.readAndDispatch(Display.java:2396)
at org.eclipse.ui.internal.Workbench.runEventLoop(Workbench.java:1375)
at org.eclipse.ui.internal.Workbench.runUI(Workbench.java:1346)
at org.eclipse.ui.internal.Workbench.createAndRunWorkbench(Workbench.java:252)
at org.eclipse.ui.PlatformUI.createAndRunWorkbench(PlatformUI.java:141)
at org.eclipse.ui.internal.ide.IDEApplication.run(IDEApplication.java:96)
at
org.eclipse.core.internal.runtime.PlatformActivator$1.run(PlatformActivator.java:335)
at org.eclipse.core.runtime.adaptor.EclipseStarter.run(EclipseStarter.java:272)
at org.eclipse.core.runtime.adaptor.EclipseStarter.run(EclipseStarter.java:128)
at sun.reflect.NativeMethodAccessorImpl.invoke0(Native Method)
at sun.reflect.NativeMethodAccessorImpl.invoke(Unknown Source)
at sun.reflect.DelegatingMethodAccessorImpl.invoke(Unknown Source)
at java.lang.reflect.Method.invoke(Unknown Source)
at org.eclipse.core.launcher.Main.basicRun(Main.java:186)
at org.eclipse.core.launcher.Main.run(Main.java:647)
at org.eclipse.core.launcher.Main.main(Main.java:631)
Any additional exception after that one in your log?
Yes, there are 3 identical stacktraces that were written shortly before the one
above: 

Java Model Exception: Java Model Status [ExtendedWeighterTest [in [Working copy]
ExtendedWeighterTest.java [in com.futuremanagement.LogicMindGuide.model [in src
[in com.futuremanagement.LogicMindGuide.Tests]]]] does not exist]
	at
org.eclipse.jdt.internal.core.JavaElement.newNotPresentException(JavaElement.java:561)
	at org.eclipse.jdt.internal.core.JavaElement.openWhenClosed(JavaElement.java:583)
	at org.eclipse.jdt.internal.core.JavaElement.getElementInfo(JavaElement.java:309)
	at org.eclipse.jdt.internal.core.JavaElement.getElementInfo(JavaElement.java:295)
	at org.eclipse.jdt.internal.core.SourceType.isInterface(SourceType.java:486)
	at
org.eclipse.jdt.ui.actions.FindImplementorsAction.canOperateOn(FindImplementorsAction.java:74)
	at org.eclipse.jdt.ui.actions.FindAction.canOperateOn(FindAction.java:93)
	at org.eclipse.jdt.ui.actions.FindAction.selectionChanged(FindAction.java:260)
	at
org.eclipse.jdt.ui.actions.SelectionDispatchAction.dispatchSelectionChanged(SelectionDispatchAction.java:200)
	at
org.eclipse.jdt.ui.actions.SelectionDispatchAction.selectionChanged(SelectionDispatchAction.java:195)
	at org.eclipse.jface.viewers.Viewer$2.run(Viewer.java:159)
	at
org.eclipse.core.internal.runtime.InternalPlatform.run(InternalPlatform.java:615)
	at org.eclipse.core.runtime.Platform.run(Platform.java:758)
	at org.eclipse.jface.viewers.Viewer.fireSelectionChanged(Viewer.java:157)
	at
org.eclipse.jface.viewers.StructuredViewer.updateSelection(StructuredViewer.java:1389)
	at
org.eclipse.jface.viewers.StructuredViewer.handleSelect(StructuredViewer.java:695)
	at
org.eclipse.jface.viewers.StructuredViewer$4.widgetSelected(StructuredViewer.java:721)
	at org.eclipse.jface.util.OpenStrategy.fireSelectionEvent(OpenStrategy.java:180)
	at org.eclipse.jface.util.OpenStrategy.access$3(OpenStrategy.java:175)
	at org.eclipse.jface.util.OpenStrategy$1.handleEvent(OpenStrategy.java:324)
	at org.eclipse.swt.widgets.EventTable.sendEvent(EventTable.java:82)
	at org.eclipse.swt.widgets.Widget.sendEvent(Widget.java:796)
	at org.eclipse.swt.widgets.Display.runDeferredEvents(Display.java:2732)
	at org.eclipse.swt.widgets.Display.readAndDispatch(Display.java:2398)
	at org.eclipse.ui.internal.Workbench.runEventLoop(Workbench.java:1375)
	at org.eclipse.ui.internal.Workbench.runUI(Workbench.java:1346)
	at org.eclipse.ui.internal.Workbench.createAndRunWorkbench(Workbench.java:252)
	at org.eclipse.ui.PlatformUI.createAndRunWorkbench(PlatformUI.java:141)
	at org.eclipse.ui.internal.ide.IDEApplication.run(IDEApplication.java:96)
	at
org.eclipse.core.internal.runtime.PlatformActivator$1.run(PlatformActivator.java:335)
	at org.eclipse.core.runtime.adaptor.EclipseStarter.run(EclipseStarter.java:272)
	at org.eclipse.core.runtime.adaptor.EclipseStarter.run(EclipseStarter.java:128)
	at sun.reflect.NativeMethodAccessorImpl.invoke0(Native Method)
	at sun.reflect.NativeMethodAccessorImpl.invoke(Unknown Source)
	at sun.reflect.DelegatingMethodAccessorImpl.invoke(Unknown Source)
	at java.lang.reflect.Method.invoke(Unknown Source)
	at org.eclipse.core.launcher.Main.basicRun(Main.java:186)
	at org.eclipse.core.launcher.Main.run(Main.java:647)
	at org.eclipse.core.launcher.Main.main(Main.java:631)
Sorry, just re-read your posting and noticed that I did not answer your question:
There was none after the exception, only 3 before (as described comment 2)
This exception you found in your log does not indicate a "real" problem. We 
guard the painting inside the MouseClickListener and log an exception if it 
did not work as expected. I'll remove the logging code, as it is unneccessary 
in this case. Build I200406231600.</WithStack>
    <WithOutStack>While using the JDT editor in Eclipse 3.0RC3 I received the following
stacktrace, but can't say exactly what I did to get that. 

Not sure if it belongs to SWT or JDT-UI.

Hope it tells somebody enought to fix it:


Any additional exception after that one in your log?
Yes, there are 3 identical stacktraces that were written shortly before the one
above: 

Java Model Exception: Java Model Status [ExtendedWeighterTest [in [Working copy]
ExtendedWeighterTest.java [in com.futuremanagement.LogicMindGuide.model [in src
[in com.futuremanagement.LogicMindGuide.Tests]]]] does not exist]
	at
org.eclipse.jdt.internal.core.JavaElement.newNotPresentException(JavaElement.java:561)
	at org.eclipse.jdt.internal.core.JavaElement.openWhenClosed(JavaElement.java:583)
	at org.eclipse.jdt.internal.core.JavaElement.getElementInfo(JavaElement.java:309)
	at org.eclipse.jdt.internal.core.JavaElement.getElementInfo(JavaElement.java:295)
	at org.eclipse.jdt.internal.core.SourceType.isInterface(SourceType.java:486)
	at
org.eclipse.jdt.ui.actions.FindImplementorsAction.canOperateOn(FindImplementorsAction.java:74)
	at org.eclipse.jdt.ui.actions.FindAction.canOperateOn(FindAction.java:93)
	at org.eclipse.jdt.ui.actions.FindAction.selectionChanged(FindAction.java:260)
	at
org.eclipse.jdt.ui.actions.SelectionDispatchAction.dispatchSelectionChanged(SelectionDispatchAction.java:200)
	at
org.eclipse.jdt.ui.actions.SelectionDispatchAction.selectionChanged(SelectionDispatchAction.java:195)
	at org.eclipse.jface.viewers.Viewer$2.run(Viewer.java:159)
	at
org.eclipse.core.internal.runtime.InternalPlatform.run(InternalPlatform.java:615)
	at org.eclipse.core.runtime.Platform.run(Platform.java:758)
	at org.eclipse.jface.viewers.Viewer.fireSelectionChanged(Viewer.java:157)
	at
org.eclipse.jface.viewers.StructuredViewer.updateSelection(StructuredViewer.java:1389)
	at
org.eclipse.jface.viewers.StructuredViewer.handleSelect(StructuredViewer.java:695)
	at
org.eclipse.jface.viewers.StructuredViewer$4.widgetSelected(StructuredViewer.java:721)
	at org.eclipse.jface.util.OpenStrategy.fireSelectionEvent(OpenStrategy.java:180)
	at org.eclipse.jface.util.OpenStrategy.access$3(OpenStrategy.java:175)
	at org.eclipse.jface.util.OpenStrategy$1.handleEvent(OpenStrategy.java:324)
	at org.eclipse.swt.widgets.EventTable.sendEvent(EventTable.java:82)
	at org.eclipse.swt.widgets.Widget.sendEvent(Widget.java:796)
	at org.eclipse.swt.widgets.Display.runDeferredEvents(Display.java:2732)
	at org.eclipse.swt.widgets.Display.readAndDispatch(Display.java:2398)
	at org.eclipse.ui.internal.Workbench.runEventLoop(Workbench.java:1375)
	at org.eclipse.ui.internal.Workbench.runUI(Workbench.java:1346)
	at org.eclipse.ui.internal.Workbench.createAndRunWorkbench(Workbench.java:252)
	at org.eclipse.ui.PlatformUI.createAndRunWorkbench(PlatformUI.java:141)
	at org.eclipse.ui.internal.ide.IDEApplication.run(IDEApplication.java:96)
	at
org.eclipse.core.internal.runtime.PlatformActivator$1.run(PlatformActivator.java:335)
	at org.eclipse.core.runtime.adaptor.EclipseStarter.run(EclipseStarter.java:272)
	at org.eclipse.core.runtime.adaptor.EclipseStarter.run(EclipseStarter.java:128)
	at sun.reflect.NativeMethodAccessorImpl.invoke0(Native Method)
	at sun.reflect.NativeMethodAccessorImpl.invoke(Unknown Source)
	at sun.reflect.DelegatingMethodAccessorImpl.invoke(Unknown Source)
	at java.lang.reflect.Method.invoke(Unknown Source)
	at org.eclipse.core.launcher.Main.basicRun(Main.java:186)
	at org.eclipse.core.launcher.Main.run(Main.java:647)
	at org.eclipse.core.launcher.Main.main(Main.java:631)
Sorry, just re-read your posting and noticed that I did not answer your question:
There was none after the exception, only 3 before (as described comment 2)
This exception you found in your log does not indicate a "real" problem. We 
guard the painting inside the MouseClickListener and log an exception if it 
did not work as expected. I'll remove the logging code, as it is unneccessary 
in this case. Build I200406231600.</WithOutStack>
  </Bug>
  <Bug>
    <BugId amount="67979" />
    <CreationDate amount="2004-06-21 06:48:00 -0400" />
    <DupId amount="" />
    <classification amount="Eclipse" />
    <Product amount="Platform" />
    <component amount="SWT" />
    <Version amount="3.0" />
    <rep_platform amount="PC" />
    <op_sys amount="Linux-GTK" />
    <priority amount="P3" />
    <bug_severity amount="critical" />
    <Summery>editor focus issue</Summery>
    <Patches amount="0" />
    <Stacktraces amount="0" />
    <SourceCodeRegions amount="1">
      <source_code type="class">
        <location start="171" end="233" />
        <code>class C {
    void m() {
        System.out.println();
    }
}</code>
      </source_code>
    </SourceCodeRegions>
    <Enumerations amount="6">
      <Enumeration lines="29">
        <Lines>
          <Line>1.) It has the potential to create a race condition with focus follows mouse.</Line>
          <Line>Moving the mouse around the screen, it is possible for Eclipse to steal focus</Line>
          <Line>after the mouse has left the window.</Line>
          <Line />
          <Line>2.) "Alt+Tab" to another window in KDE.  A pop-up appears while switching --</Line>
          <Line>telling you which window you will switch to.  Releasing "Alt" while another</Line>
          <Line>window is selected, brings that window to top.  However, Eclipse will not</Line>
          <Line>repaint the section dirtied by the pop-up.</Line>
          <Line />
          <Line>3.) Taking a screenshot and switching desktops caused the following.  This is</Line>
          <Line>likely because of a race condition in which the input focus is being set on a</Line>
          <Line>window that is no longer mapped.</Line>
          <Line />
          <Line>The program '&lt;unknown&gt;' received an X Window System error.</Line>
          <Line>This probably reflects a bug in the program.</Line>
          <Line>The error was 'BadMatch (invalid parameter attributes)'.</Line>
          <Line>(Details: serial 183493 error_code 8 request_code 42 minor_code 0)</Line>
          <Line>(Note to programmers: normally, X errors are reported asynchronously;</Line>
          <Line>that is, you will receive the error a while after causing it.</Line>
          <Line>To debug your program, run it with the --sync command line</Line>
          <Line>option to change this behavior. You can then get a meaningful</Line>
          <Line>backtrace from your debugger if you break on the gdk_x_error() function.)</Line>
          <Line />
          <Line>Fixed again (SSQ). Billy and Doug, can you guys verify the new fix in HEAD ?</Line>
          <Line>Thanks</Line>
          <Line>After using Eclipse from HEAD for a while under KDE 3.1 on RH9, I was able to</Line>
          <Line>reproduce the caret-disappears problem from bug 58642.</Line>
          <Line>I have reproducable steps for a persistent editor drop-down using the code from</Line>
          <Line>HEAD.  KDE 3.1, RH9, Mist theme, Gtk+ 2.2.1.</Line>
        </Lines>
      </Enumeration>
      <Enumeration lines="6">
        <Lines>
          <Line>1. Enter the Debug perspective.</Line>
          <Line>2. Click on the contents of the variables view.</Line>
          <Line>2. Click the editor drop-down.</Line>
          <Line>3. Click back on the variables view, this closes the drop-down.</Line>
          <Line>4. Click the editor drop-down again.  It is now persistent and won't go away.</Line>
          <Line>Sorry, those steps are unreliable.  These steps are awesome.</Line>
        </Lines>
      </Enumeration>
      <Enumeration lines="4">
        <Lines>
          <Line>2. Click the editor drop-down.</Line>
          <Line>3. Click back on the variables view, this closes the drop-down.</Line>
          <Line>4. Click the editor drop-down again.  It is now persistent and won't go away.</Line>
          <Line>Sorry, those steps are unreliable.  These steps are awesome.</Line>
        </Lines>
      </Enumeration>
      <Enumeration lines="4">
        <Lines>
          <Line>1. Debug perspective.</Line>
          <Line>2. Click on the outline view's tree view.</Line>
          <Line>3. Click on the editor drop down.</Line>
          <Line>4. Click on the variables view.</Line>
        </Lines>
      </Enumeration>
      <Enumeration lines="7">
        <Lines>
          <Line>- caret on println</Line>
          <Line>- press F2</Line>
          <Line>-&gt; popup</Line>
          <Line>- press Esc</Line>
          <Line>-&gt; popup goes away</Line>
          <Line>-&gt; editor quickly gains focus, but then looses it again</Line>
          <Line>-&gt; no keyboard focus, only the main menu works</Line>
        </Lines>
      </Enumeration>
      <Enumeration lines="6">
        <Lines>
          <Line>- Global menu bar works</Line>
          <Line>- System key bindings (Alt+Tab etc.) work. Using Alt+Tab to switch applications</Line>
          <Line>and back to eclipse brings back the focus.</Line>
          <Line>OK, I can reproduce this easily now under kwin 0.95 / KDE 3.1-13 Red Hat.</Line>
          <Line>When it occurs, Display.getActiveShell() and Display.getFocusControl() are both</Line>
          <Line>null.  This may again be related to bug 65985.</Line>
        </Lines>
      </Enumeration>
    </Enumerations>
    <bug_status amount="RESOLVED" />
    <resolution amount="FIXED" />
    <WithStack>3.0RC3

Not sure if this is related to bug 58642, bug 65985 or bug 65053, but they are
all fixed for RC3. 

Example copied from bug 57311 comment 12:

- Have this class:

class C {
    void m() {
        System.out.println();
    }
}

- caret on println
- press F2
-&gt; popup
- press Esc 
-&gt; popup goes away
-&gt; editor quickly gains focus, but then looses it again
-&gt; no keyboard focus, only the main menu works

I only marked this as critical because it seems to be an unfixed case of the
bugs noted above. On its own, this is major.
I have tried to reproduce this problem but cannot.  Could you please 
double-check that this is happening in I200406192000? 
 
You are using GTK+ 2.2.1, right? 
I keep forgetting...

$ rpm -q gtk+ gtk2 kdebase
gtk+-1.2.10-25
gtk2-2.2.1-4
kdebase-3.1-15

Yes, this is on I200406192000.
Note that, other than bug 65053, left-clicking into the editor fixes the
problem. It really just looks like the focus is somwhere else (but Ctrl+Tab
won't help).
I can't reproduce it here on Gtk+ 2.2.1, 3.0-RC3.  For kicks, can you post a
screenshot of your setup?  Also, where is your mouse located when this happens?
Created attachment 12570
before_popup.png

Shows screenshot with everything ok: caret in 'println'. The mouse cursor is
somewhere where where it will not interfere with the popup shown in the next
attachment, for example in the whitespace to the right of the package
statement.

To get the popup from this setup, press F2.
Created attachment 12572
with_popup.png

Popup showing. The javadoc popup has the focus, you can scroll around etc,
which is fine (make sure you get the popup by pressing F2, not the mouse
hover). Note that the editor is grey, i.e. does not have the focus.

When pressing Esc in this situation, the popup will go away, but editor focus
is not restored. The focus is gone.

- Global menu bar works
- System key bindings (Alt+Tab etc.) work. Using Alt+Tab to switch applications
and back to eclipse brings back the focus.
OK, I can reproduce this easily now under kwin 0.95 / KDE 3.1-13 Red Hat.
When it occurs, Display.getActiveShell() and Display.getFocusControl() are both
null.  This may again be related to bug 65985.

To reproduce, you need to use KDE 3.1 and GTK+ 2.2, since Doug cannot reproduce
under KDE 3.2 and GTK+ 2.4.
I just checked: we don't regularly dispose of the popup shell when it hides -
the shell is kept invisible and reused by the next popup. It is disposed when
the subject (=editor) is.

Pressing Esc however seems to dispose of the shell, since the internally used
StyledText translates the Esc key somehow (not sure about this one).
&gt; Pressing Esc however seems to dispose of the shell, since the internally used
&gt; StyledText translates the Esc key somehow (not sure about this one).

This is wrong. DefaultInformationControl registers a keylistener with the
StyledText and disposes upon Esc (hardcoded).
Here is a log of what happens to shell.hasFocus when I hit ESC:

[key] activeShell = Shell {Java - C.java - Eclipse Platform}, focusControl =
StyledText {}
Shell.bringToTop() setting hasFocus = false
Shell.bringToTop() setting hasFocus = true
Shell.gtk_focus_out_event() setting hasFocus = false
Shell.gtk_focus_in_event() setting hasFocus = true
Shell.bringToTop() setting hasFocus = false
Shell.bringToTop() setting hasFocus = true
Shell.gtk_focus_in_event() setting hasFocus = true
Shell.gtk_focus_out_event() setting hasFocus = false

And now we are hosed.  Switching between windows corrects the problem.
Here comes my debug trace:

# pressing F2:

KEYS &gt;&gt;&gt; Listener.handleEvent(type = KeyDown, stateMask = 0x0, keyCode =
0x100000b, character = 0x0)
KEYS &gt;&gt;&gt; WorkbenchKeyboard.press(potentialKeyStrokes = [F2, NUL])
KEYS &gt;&gt;&gt; WorkbenchKeyboard.executeCommand(commandId =
'org.eclipse.jdt.ui.edit.text.java.show.javadoc')
KEYS &gt;&gt;&gt;     value for 'id' attribute = null
KEYS &gt;&gt;&gt;     value for 'enabled' attribute = true
KEYS &gt;&gt;&gt;     executing 'org.eclipse.ui.commands.ActionHandler' (492445018)
CONTEXTS &gt;&gt;&gt; [org.eclipse.ui.contexts.dialogAndWindow,
org.eclipse.ui.contexts.dialog, org.eclipse.jdt.ui.javaEditorScope]

# in the popup, pressing Esc:

KEYS &gt;&gt;&gt; Listener.handleEvent(type = Traverse, stateMask = 0x0, keyCode = 0x1b,
character = 0x1b)
KEYS &gt;&gt;&gt; Listener.handleEvent(type = Traverse, stateMask = 0x0, keyCode = 0x1b,
character = 0x1b)
CONTEXTS &gt;&gt;&gt; [org.eclipse.ui.contexts.dialogAndWindow,
org.eclipse.jdt.ui.javaEditorScope, org.eclipse.ui.contexts.window]

# from now on: no trace whatsoever
Here is what we think is going wrong.

Shell.fixShellFocus() is trying to work around a GTK+ bug by sending a fake
FocusOut event to try and clear some GTK+ state.  However, if the control that
receives the FocusOut event does not have focus already, GDK will send a
FocusOut event up to the application.  This event then clears the hasFocus flag
on Shell and causes the behaviour you see.
This is something we should investigate/fix for 3.0, as it really causes 
disruption in workflow.

We released a fix for this. Fixed &gt; 20040623.

This is really a bug in GTK and if this fix is not enough, we are going to
remove the whole Shell.fixShellFocus() code.
I can still reproduce this in I200406240800 but not in HEAD.  I assume it didn't
yet make it into the builds.
This fix is broken in at least 3 ways: 
1.) It has the potential to create a race condition with focus follows mouse.  
Moving the mouse around the screen, it is possible for Eclipse to steal focus 
after the mouse has left the window. 
 
2.) "Alt+Tab" to another window in KDE.  A pop-up appears while switching -- 
telling you which window you will switch to.  Releasing "Alt" while another 
window is selected, brings that window to top.  However, Eclipse will not 
repaint the section dirtied by the pop-up. 
 
3.) Taking a screenshot and switching desktops caused the following.  This is 
likely because of a race condition in which the input focus is being set on a 
window that is no longer mapped. 
 
The program '&lt;unknown&gt;' received an X Window System error. 
This probably reflects a bug in the program. 
The error was 'BadMatch (invalid parameter attributes)'. 
  (Details: serial 183493 error_code 8 request_code 42 minor_code 0) 
  (Note to programmers: normally, X errors are reported asynchronously; 
   that is, you will receive the error a while after causing it. 
   To debug your program, run it with the --sync command line 
   option to change this behavior. You can then get a meaningful 
   backtrace from your debugger if you break on the gdk_x_error() function.) 
 
Fixed again (SSQ). Billy and Doug, can you guys verify the new fix in HEAD ? 
Thanks
After using Eclipse from HEAD for a while under KDE 3.1 on RH9, I was able to
reproduce the caret-disappears problem from bug 58642.
I have reproducable steps for a persistent editor drop-down using the code from
HEAD.  KDE 3.1, RH9, Mist theme, Gtk+ 2.2.1.

1. Enter the Debug perspective.
2. Click on the contents of the variables view.
2. Click the editor drop-down.
3. Click back on the variables view, this closes the drop-down.
4. Click the editor drop-down again.  It is now persistent and won't go away.
Sorry, those steps are unreliable.  These steps are awesome.

1. Debug perspective.
2. Click on the outline view's tree view.
3. Click on the editor drop down.
4. Click on the variables view.

You're now in the bad state.  I will attach a screenshot of my setup.
Created attachment 12804
My setup
(Doug speaking:) From this bad state, just by fiddling around I was able to
descend into a place from which there is no return.  Eclipse will not shutdown
properly (needs to be hard killed), the editor drop-down is open and can't be
closed, and there is no focus control.</WithStack>
    <WithOutStack>3.0RC3

Not sure if this is related to bug 58642, bug 65985 or bug 65053, but they are
all fixed for RC3. 

Example copied from bug 57311 comment 12:

- Have this class:

class C {
    void m() {
        System.out.println();
    }
}

- caret on println
- press F2
-&gt; popup
- press Esc 
-&gt; popup goes away
-&gt; editor quickly gains focus, but then looses it again
-&gt; no keyboard focus, only the main menu works

I only marked this as critical because it seems to be an unfixed case of the
bugs noted above. On its own, this is major.
I have tried to reproduce this problem but cannot.  Could you please 
double-check that this is happening in I200406192000? 
 
You are using GTK+ 2.2.1, right? 
I keep forgetting...

$ rpm -q gtk+ gtk2 kdebase
gtk+-1.2.10-25
gtk2-2.2.1-4
kdebase-3.1-15

Yes, this is on I200406192000.
Note that, other than bug 65053, left-clicking into the editor fixes the
problem. It really just looks like the focus is somwhere else (but Ctrl+Tab
won't help).
I can't reproduce it here on Gtk+ 2.2.1, 3.0-RC3.  For kicks, can you post a
screenshot of your setup?  Also, where is your mouse located when this happens?
Created attachment 12570
before_popup.png

Shows screenshot with everything ok: caret in 'println'. The mouse cursor is
somewhere where where it will not interfere with the popup shown in the next
attachment, for example in the whitespace to the right of the package
statement.

To get the popup from this setup, press F2.
Created attachment 12572
with_popup.png

Popup showing. The javadoc popup has the focus, you can scroll around etc,
which is fine (make sure you get the popup by pressing F2, not the mouse
hover). Note that the editor is grey, i.e. does not have the focus.

When pressing Esc in this situation, the popup will go away, but editor focus
is not restored. The focus is gone.

- Global menu bar works
- System key bindings (Alt+Tab etc.) work. Using Alt+Tab to switch applications
and back to eclipse brings back the focus.
OK, I can reproduce this easily now under kwin 0.95 / KDE 3.1-13 Red Hat.
When it occurs, Display.getActiveShell() and Display.getFocusControl() are both
null.  This may again be related to bug 65985.

To reproduce, you need to use KDE 3.1 and GTK+ 2.2, since Doug cannot reproduce
under KDE 3.2 and GTK+ 2.4.
I just checked: we don't regularly dispose of the popup shell when it hides -
the shell is kept invisible and reused by the next popup. It is disposed when
the subject (=editor) is.

Pressing Esc however seems to dispose of the shell, since the internally used
StyledText translates the Esc key somehow (not sure about this one).
&gt; Pressing Esc however seems to dispose of the shell, since the internally used
&gt; StyledText translates the Esc key somehow (not sure about this one).

This is wrong. DefaultInformationControl registers a keylistener with the
StyledText and disposes upon Esc (hardcoded).
Here is a log of what happens to shell.hasFocus when I hit ESC:

[key] activeShell = Shell {Java - C.java - Eclipse Platform}, focusControl =
StyledText {}
Shell.bringToTop() setting hasFocus = false
Shell.bringToTop() setting hasFocus = true
Shell.gtk_focus_out_event() setting hasFocus = false
Shell.gtk_focus_in_event() setting hasFocus = true
Shell.bringToTop() setting hasFocus = false
Shell.bringToTop() setting hasFocus = true
Shell.gtk_focus_in_event() setting hasFocus = true
Shell.gtk_focus_out_event() setting hasFocus = false

And now we are hosed.  Switching between windows corrects the problem.
Here comes my debug trace:

# pressing F2:

KEYS &gt;&gt;&gt; Listener.handleEvent(type = KeyDown, stateMask = 0x0, keyCode =
0x100000b, character = 0x0)
KEYS &gt;&gt;&gt; WorkbenchKeyboard.press(potentialKeyStrokes = [F2, NUL])
KEYS &gt;&gt;&gt; WorkbenchKeyboard.executeCommand(commandId =
'org.eclipse.jdt.ui.edit.text.java.show.javadoc')
KEYS &gt;&gt;&gt;     value for 'id' attribute = null
KEYS &gt;&gt;&gt;     value for 'enabled' attribute = true
KEYS &gt;&gt;&gt;     executing 'org.eclipse.ui.commands.ActionHandler' (492445018)
CONTEXTS &gt;&gt;&gt; [org.eclipse.ui.contexts.dialogAndWindow,
org.eclipse.ui.contexts.dialog, org.eclipse.jdt.ui.javaEditorScope]

# in the popup, pressing Esc:

KEYS &gt;&gt;&gt; Listener.handleEvent(type = Traverse, stateMask = 0x0, keyCode = 0x1b,
character = 0x1b)
KEYS &gt;&gt;&gt; Listener.handleEvent(type = Traverse, stateMask = 0x0, keyCode = 0x1b,
character = 0x1b)
CONTEXTS &gt;&gt;&gt; [org.eclipse.ui.contexts.dialogAndWindow,
org.eclipse.jdt.ui.javaEditorScope, org.eclipse.ui.contexts.window]

# from now on: no trace whatsoever
Here is what we think is going wrong.

Shell.fixShellFocus() is trying to work around a GTK+ bug by sending a fake
FocusOut event to try and clear some GTK+ state.  However, if the control that
receives the FocusOut event does not have focus already, GDK will send a
FocusOut event up to the application.  This event then clears the hasFocus flag
on Shell and causes the behaviour you see.
This is something we should investigate/fix for 3.0, as it really causes 
disruption in workflow.

We released a fix for this. Fixed &gt; 20040623.

This is really a bug in GTK and if this fix is not enough, we are going to
remove the whole Shell.fixShellFocus() code.
I can still reproduce this in I200406240800 but not in HEAD.  I assume it didn't
yet make it into the builds.
This fix is broken in at least 3 ways: 
1.) It has the potential to create a race condition with focus follows mouse.  
Moving the mouse around the screen, it is possible for Eclipse to steal focus 
after the mouse has left the window. 
 
2.) "Alt+Tab" to another window in KDE.  A pop-up appears while switching -- 
telling you which window you will switch to.  Releasing "Alt" while another 
window is selected, brings that window to top.  However, Eclipse will not 
repaint the section dirtied by the pop-up. 
 
3.) Taking a screenshot and switching desktops caused the following.  This is 
likely because of a race condition in which the input focus is being set on a 
window that is no longer mapped. 
 
The program '&lt;unknown&gt;' received an X Window System error. 
This probably reflects a bug in the program. 
The error was 'BadMatch (invalid parameter attributes)'. 
  (Details: serial 183493 error_code 8 request_code 42 minor_code 0) 
  (Note to programmers: normally, X errors are reported asynchronously; 
   that is, you will receive the error a while after causing it. 
   To debug your program, run it with the --sync command line 
   option to change this behavior. You can then get a meaningful 
   backtrace from your debugger if you break on the gdk_x_error() function.) 
 
Fixed again (SSQ). Billy and Doug, can you guys verify the new fix in HEAD ? 
Thanks
After using Eclipse from HEAD for a while under KDE 3.1 on RH9, I was able to
reproduce the caret-disappears problem from bug 58642.
I have reproducable steps for a persistent editor drop-down using the code from
HEAD.  KDE 3.1, RH9, Mist theme, Gtk+ 2.2.1.

1. Enter the Debug perspective.
2. Click on the contents of the variables view.
2. Click the editor drop-down.
3. Click back on the variables view, this closes the drop-down.
4. Click the editor drop-down again.  It is now persistent and won't go away.
Sorry, those steps are unreliable.  These steps are awesome.

1. Debug perspective.
2. Click on the outline view's tree view.
3. Click on the editor drop down.
4. Click on the variables view.

You're now in the bad state.  I will attach a screenshot of my setup.
Created attachment 12804
My setup
(Doug speaking:) From this bad state, just by fiddling around I was able to
descend into a place from which there is no return.  Eclipse will not shutdown
properly (needs to be hard killed), the editor drop-down is open and can't be
closed, and there is no focus control.</WithOutStack>
  </Bug>
  <Bug>
    <BugId amount="67980" />
    <CreationDate amount="2004-06-21 06:50:00 -0400" />
    <DupId amount="" />
    <classification amount="Eclipse" />
    <Product amount="Platform" />
    <component amount="Ant" />
    <Version amount="3.0" />
    <rep_platform amount="PC" />
    <op_sys amount="Windows XP" />
    <priority amount="P3" />
    <bug_severity amount="normal" />
    <Summery>Prolog error message in console</Summery>
    <Patches amount="0" />
    <Stacktraces amount="0" />
    <SourceCodeRegions amount="0" />
    <Enumerations amount="1">
      <Enumeration lines="8">
        <Lines>
          <Line>- started Eclipse on a clean workspace.</Line>
          <Line>- switched to the CVS perspective</Line>
          <Line>- started checking out projects</Line>
          <Line>- turned off auto-build</Line>
          <Line>- changed default text font along with some other prefs</Line>
          <Line>- changed SWT classpath file to be the win32 one</Line>
          <Line>- hit Ctrl-B to build</Line>
          <Line>- waited</Line>
        </Lines>
      </Enumeration>
    </Enumerations>
    <bug_status amount="VERIFIED" />
    <resolution amount="FIXED" />
    <WithStack>From DJ Houghton (bug 28637)

I got this error message ("[Fatal Error] :1:1: Content is not allowed in
prolog.") in my console with build i0618-1804.

- started Eclipse on a clean workspace.
- switched to the CVS perspective
- started checking out projects
- turned off auto-build
- changed default text font along with some other prefs
- changed SWT classpath file to be the win32 one
- hit Ctrl-B to build
- waited

Noticed the error message in my console.
No other side effects.

Here is a list of projects in my workspace:
org.eclipse.help.ui.win32
org.eclipse.update
platform-launcher
org.apache.lucene
org.eclipse.compare
org.eclipse.core.filebuffers
org.eclipse.core.resources
org.eclipse.core.runtime
org.eclipse.core.runtime.compatibility
org.eclipse.debug.core
org.eclipse.debug.ui
org.eclipse.help
org.eclipse.help.appserver
org.eclipse.help.base
org.eclipse.help.ide
org.eclipse.help.ui
org.eclipse.help.webapp
org.eclipse.jdt.core
org.eclipse.jdt.debug
org.eclipse.jdt.debug.ui
org.eclipse.jdt.junit
org.eclipse.jdt.junit.runtime
org.eclipse.jdt.launching
org.eclipse.jdt.ui
org.eclipse.jface
org.eclipse.jface.text
org.eclipse.osgi
org.eclipse.osgi.services
org.eclipse.osgi.util
org.eclipse.pde.build
org.eclipse.pde.core
org.eclipse.pde.runtime
org.eclipse.pde.ui
org.eclipse.search
org.eclipse.swt
org.eclipse.team.core
org.eclipse.team.cvs.core
org.eclipse.team.cvs.ssh
org.eclipse.team.cvs.ui
org.eclipse.team.ui
org.eclipse.text
org.eclipse.tomcat
org.eclipse.ui
org.eclipse.ui.editors
org.eclipse.ui.ide
org.eclipse.ui.views
org.eclipse.ui.workbench
org.eclipse.ui.workbench.texteditor
org.eclipse.update.core
org.eclipse.update.ui
I can not reproduce the problem.

DJ - what is your JRE ?
java version "1.4.1"
J9 - VM for the Java(TM) platform (build 2.1)
IBM J9SE VM (build 2.1, J2RE 1.4.1 IBM J9 build 20040510 (JIT enabled))
I also get this error when doing a full build on this workspace.
Note I just got these messages again while doing a full build on a rather large
workspace with a bunch of other plug-ins installed. I turned on builder debug
information and it looks like it is inside an ExternalTools builder when the
message is being printed out.

VM version is:
IBM J9SE VM (build 2.1, J2RE 1.4.2 IBM J9 build 20040610 (jit enabled))

I can provide (via email) the XML file which was being run. (javadoc generation
I believe)
This error message only appears when using the IBM VM. It's coming from the 
XML parsing implementation included with the IBM JRE.
Is there something different that we should be doing with our XML so we don't
get this error. The words "Fatal Error" sound bad. I presume that there are no
adverse side effects?
DJ can you just provide the xml that comes before the declaration of the 
project in the buildfile? This is the interesting part.
DJ can you indicate which builder or provide the XML that is causing the 
problem.
Oops...sorry for the delay.

The strange thing is that there wasn't anything before the &lt;project&gt; declaration
in the file. (well, except for &lt;?xml version="1.0" encoding="UTF-8"?&gt;)

I talked to the owner of the project and there were set-up steps that I had to
do with that particular project. When looking at the steps, it included using
the SUN JDK among other things....
When running on IBM VM (J9) and building my workspace I get lots of:
[Fatal Error] :1:68: XML document structures must start and end within the same
entity.
[Fatal Error] :1:1: Content is not allowed in prolog.

Needs more investigation but I really doubt there is anything we can do...we 
do not provide the XML parser.
The question is whether we have fatal errors in our files or whether this is an
IBM VM bug.
Some plugin that is parsing XML is not adding an error handler.
See bug 18350. 
Now the trick is to find the guilty plugin...Ant adds more error handlers than 
I know what to do with :-)
The error handler allows other components to handle the error. Why would that
component ignore a fatal error? Bug 18350 says that they sometimes parse invalid
xml and hence it's OK to swallow error in such cases. This should not be the
case when building my workspace that has no errors at all (PDE plugin.xml
checking enabled). We should find out which files cause these errors.
Agree. A test case would be great.
It always happens to me when I rebuild org.eclipse.ant.core. But this can't be
the only one since I have many entries in the console.
This problem surfaces as the BuilderUtil class is passing malformed XML to the 
debug launch configuration framework.

I have made the required changes to the BuilderUtil class and have logged bug 
73397 to cover all the other cases in debug land where this problem could crop 
up.
Reordered how the BuilderUtils deals with the config handle.
Please verify Jared.
DarinS, the way I read the code, we'll still get this output for projects created during the 3.0 cycle 
(up to RC1). Since we were told to support this case, we should probably further re-order the code 
to only do the parsing as the last attempt.
Same fix applied for 3.0 "interim format" builders. Please verify change to BuilderUtils, DarinS.
Verified.</WithStack>
    <WithOutStack>From DJ Houghton (bug 28637)

I got this error message ("[Fatal Error] :1:1: Content is not allowed in
prolog.") in my console with build i0618-1804.

- started Eclipse on a clean workspace.
- switched to the CVS perspective
- started checking out projects
- turned off auto-build
- changed default text font along with some other prefs
- changed SWT classpath file to be the win32 one
- hit Ctrl-B to build
- waited

Noticed the error message in my console.
No other side effects.

Here is a list of projects in my workspace:
org.eclipse.help.ui.win32
org.eclipse.update
platform-launcher
org.apache.lucene
org.eclipse.compare
org.eclipse.core.filebuffers
org.eclipse.core.resources
org.eclipse.core.runtime
org.eclipse.core.runtime.compatibility
org.eclipse.debug.core
org.eclipse.debug.ui
org.eclipse.help
org.eclipse.help.appserver
org.eclipse.help.base
org.eclipse.help.ide
org.eclipse.help.ui
org.eclipse.help.webapp
org.eclipse.jdt.core
org.eclipse.jdt.debug
org.eclipse.jdt.debug.ui
org.eclipse.jdt.junit
org.eclipse.jdt.junit.runtime
org.eclipse.jdt.launching
org.eclipse.jdt.ui
org.eclipse.jface
org.eclipse.jface.text
org.eclipse.osgi
org.eclipse.osgi.services
org.eclipse.osgi.util
org.eclipse.pde.build
org.eclipse.pde.core
org.eclipse.pde.runtime
org.eclipse.pde.ui
org.eclipse.search
org.eclipse.swt
org.eclipse.team.core
org.eclipse.team.cvs.core
org.eclipse.team.cvs.ssh
org.eclipse.team.cvs.ui
org.eclipse.team.ui
org.eclipse.text
org.eclipse.tomcat
org.eclipse.ui
org.eclipse.ui.editors
org.eclipse.ui.ide
org.eclipse.ui.views
org.eclipse.ui.workbench
org.eclipse.ui.workbench.texteditor
org.eclipse.update.core
org.eclipse.update.ui
I can not reproduce the problem.

DJ - what is your JRE ?
java version "1.4.1"
J9 - VM for the Java(TM) platform (build 2.1)
IBM J9SE VM (build 2.1, J2RE 1.4.1 IBM J9 build 20040510 (JIT enabled))
I also get this error when doing a full build on this workspace.
Note I just got these messages again while doing a full build on a rather large
workspace with a bunch of other plug-ins installed. I turned on builder debug
information and it looks like it is inside an ExternalTools builder when the
message is being printed out.

VM version is:
IBM J9SE VM (build 2.1, J2RE 1.4.2 IBM J9 build 20040610 (jit enabled))

I can provide (via email) the XML file which was being run. (javadoc generation
I believe)
This error message only appears when using the IBM VM. It's coming from the 
XML parsing implementation included with the IBM JRE.
Is there something different that we should be doing with our XML so we don't
get this error. The words "Fatal Error" sound bad. I presume that there are no
adverse side effects?
DJ can you just provide the xml that comes before the declaration of the 
project in the buildfile? This is the interesting part.
DJ can you indicate which builder or provide the XML that is causing the 
problem.
Oops...sorry for the delay.

The strange thing is that there wasn't anything before the &lt;project&gt; declaration
in the file. (well, except for &lt;?xml version="1.0" encoding="UTF-8"?&gt;)

I talked to the owner of the project and there were set-up steps that I had to
do with that particular project. When looking at the steps, it included using
the SUN JDK among other things....
When running on IBM VM (J9) and building my workspace I get lots of:
[Fatal Error] :1:68: XML document structures must start and end within the same
entity.
[Fatal Error] :1:1: Content is not allowed in prolog.

Needs more investigation but I really doubt there is anything we can do...we 
do not provide the XML parser.
The question is whether we have fatal errors in our files or whether this is an
IBM VM bug.
Some plugin that is parsing XML is not adding an error handler.
See bug 18350. 
Now the trick is to find the guilty plugin...Ant adds more error handlers than 
I know what to do with :-)
The error handler allows other components to handle the error. Why would that
component ignore a fatal error? Bug 18350 says that they sometimes parse invalid
xml and hence it's OK to swallow error in such cases. This should not be the
case when building my workspace that has no errors at all (PDE plugin.xml
checking enabled). We should find out which files cause these errors.
Agree. A test case would be great.
It always happens to me when I rebuild org.eclipse.ant.core. But this can't be
the only one since I have many entries in the console.
This problem surfaces as the BuilderUtil class is passing malformed XML to the 
debug launch configuration framework.

I have made the required changes to the BuilderUtil class and have logged bug 
73397 to cover all the other cases in debug land where this problem could crop 
up.
Reordered how the BuilderUtils deals with the config handle.
Please verify Jared.
DarinS, the way I read the code, we'll still get this output for projects created during the 3.0 cycle 
(up to RC1). Since we were told to support this case, we should probably further re-order the code 
to only do the parsing as the last attempt.
Same fix applied for 3.0 "interim format" builders. Please verify change to BuilderUtils, DarinS.
Verified.</WithOutStack>
  </Bug>
  <Bug>
    <BugId amount="67981" />
    <CreationDate amount="2004-06-21 06:51:00 -0400" />
    <DupId amount="" />
    <classification amount="Eclipse" />
    <Product amount="JDT" />
    <component amount="Core" />
    <Version amount="3.0" />
    <rep_platform amount="PC" />
    <op_sys amount="Windows XP" />
    <priority amount="P3" />
    <bug_severity amount="normal" />
    <Summery>Add Java Exception Breakpoint is broken</Summery>
    <Patches amount="0" />
    <Stacktraces amount="0" />
    <SourceCodeRegions amount="0" />
    <Enumerations amount="0" />
    <bug_status amount="VERIFIED" />
    <resolution amount="FIXED" />
    <WithStack>This is with 3.0 RC3

When I want to add a Java Exception Breakpoint for an Exception that in fact
*does* inherit from Exception, the dialog says "Selected type is not a subclass
of java.lang.Throwable". The Exception in question is org.xml.sax.SaxException
coming from xerces.jar (Xerces 1.4.4) within my project.
I am unable to reproduce this in my workspace. In my workspace, the exception 
is coming from a jar in my JRE (a 1.4.2 JRE). Is the jar on one of your 
project's build paths?
Yes, I have xerces.jar (version 1.4.4) in my buildpath (shows up in project's
properties buildpath). The project is a JDK 1.3.1_09 project, by the way, which
is why I have to use a separate xerces.jar in the first place.

If you want to reproduce, you might want to setup such a project and put
xerces.jar in the buildpath. You can find the .jar at
http://xml.apache.org/dist/xerces-j/Xerces-J-bin.1.4.4.zip
I can reproduce the problem when the xerces jar is on the buildpath and a JRE 
with SaxException is also on buildpath. If I change to use a JRE that does not 
contain xerces/SaxException then I can add the breakpoint successfully. In the 
failure case, there is more than one SaxException on the buildpath, and adding 
the first works (from the JRE). Adding the second fails. Steppin thru the code 
it looks like the computed type hierarchy is showing "null" for the superclass 
of SaxException.

Steps:

* Create a new project, build with a 1.4.2 JRE (IBM or Sun)
* Add external xerces jar to the buildpath (version 1.4.4, as referenced above)
* Try to create an exception breakpoint for SaxException, from the 1.4.4 jar
-&gt; claims that SaxException is not a subclass of throwable

Re-assigning to JCORE for investigation
Changed HierarchyBuilder.lookupBinaryHandle(...) to return the focus handle 
instead of the visible one.

Added regression test TypeHierarchyTests.testBinaryTypeHiddenByOther
Verified for 3.1 M2 with build I200409230010.</WithStack>
    <WithOutStack>This is with 3.0 RC3

When I want to add a Java Exception Breakpoint for an Exception that in fact
*does* inherit from Exception, the dialog says "Selected type is not a subclass
of java.lang.Throwable". The Exception in question is org.xml.sax.SaxException
coming from xerces.jar (Xerces 1.4.4) within my project.
I am unable to reproduce this in my workspace. In my workspace, the exception 
is coming from a jar in my JRE (a 1.4.2 JRE). Is the jar on one of your 
project's build paths?
Yes, I have xerces.jar (version 1.4.4) in my buildpath (shows up in project's
properties buildpath). The project is a JDK 1.3.1_09 project, by the way, which
is why I have to use a separate xerces.jar in the first place.

If you want to reproduce, you might want to setup such a project and put
xerces.jar in the buildpath. You can find the .jar at
http://xml.apache.org/dist/xerces-j/Xerces-J-bin.1.4.4.zip
I can reproduce the problem when the xerces jar is on the buildpath and a JRE 
with SaxException is also on buildpath. If I change to use a JRE that does not 
contain xerces/SaxException then I can add the breakpoint successfully. In the 
failure case, there is more than one SaxException on the buildpath, and adding 
the first works (from the JRE). Adding the second fails. Steppin thru the code 
it looks like the computed type hierarchy is showing "null" for the superclass 
of SaxException.

Steps:

* Create a new project, build with a 1.4.2 JRE (IBM or Sun)
* Add external xerces jar to the buildpath (version 1.4.4, as referenced above)
* Try to create an exception breakpoint for SaxException, from the 1.4.4 jar
-&gt; claims that SaxException is not a subclass of throwable

Re-assigning to JCORE for investigation
Changed HierarchyBuilder.lookupBinaryHandle(...) to return the focus handle 
instead of the visible one.

Added regression test TypeHierarchyTests.testBinaryTypeHiddenByOther
Verified for 3.1 M2 with build I200409230010.</WithOutStack>
  </Bug>
  <Bug>
    <BugId amount="67982" />
    <CreationDate amount="2004-06-21 07:00:00 -0400" />
    <DupId amount="" />
    <classification amount="Eclipse" />
    <Product amount="JDT" />
    <component amount="UI" />
    <Version amount="3.0" />
    <rep_platform amount="PC" />
    <op_sys amount="Windows XP" />
    <priority amount="P3" />
    <bug_severity amount="major" />
    <Summery>Javadoc filter filters non Javadoc matches [search]</Summery>
    <Patches amount="0" />
    <Stacktraces amount="0" />
    <SourceCodeRegions amount="0" />
    <Enumerations amount="5">
      <Enumeration lines="2">
        <Lines>
          <Line>a) Is not dangerous</Line>
          <Line>b) Fixes the problem this bug reports.</Line>
        </Lines>
      </Enumeration>
      <Enumeration lines="2">
        <Lines>
          <Line>1) Detect when a remove is not really removing an element in the tree.</Line>
          <Line>2) Do all removes before the adds.</Line>
        </Lines>
      </Enumeration>
      <Enumeration lines="2">
        <Lines>
          <Line>1) We get a remove, then an add of node X</Line>
          <Line>2) We get an add, then a remove of node X</Line>
        </Lines>
      </Enumeration>
      <Enumeration lines="5">
        <Lines>
          <Line>1) Either X has matches or some descendent of X has matches. Therefore X must be</Line>
          <Line>present in the tree.</Line>
          <Line>2) Either X was present before in the tree or it was not. If we didn't get a</Line>
          <Line>remove before, we know that it wasn't in the tree before (otherwise, it would be</Line>
          <Line>a "false" add, and we wouldn't detect it as an add).</Line>
        </Lines>
      </Enumeration>
      <Enumeration lines="3">
        <Lines>
          <Line>1) start out with a single match in /x/y/Foo,</Line>
          <Line>2) then remove the match (generating removes for { x, y, Foo }.</Line>
          <Line>3) Then we add a match in /x/y/Bar (generating adds for { x, y, Bar }.</Line>
        </Lines>
      </Enumeration>
    </Enumerations>
    <bug_status amount="VERIFIED" />
    <resolution amount="FIXED" />
    <WithStack>RC3

While verifying bug 63723 I installed the attached source plug-in. I then 
opened IContentFormatter and did a reference search to IContentFormatter with 
Javadoc filters enabled, gouping set to project. The presented result didn't 
contain any matches in com.ibm.jdg2e.editor.jfacetext.sql although there is 
one in SQLEditorSourceViewerConfiguration. Turning off the Javadoc filter 
showed the match. Turing it back on again still showed the match.

Thomas, we have to understand what is going on here.
The problem is that we're collecting adds/removes and then do them all at the
end. This reorders removes after adds. I propose that we back out of Changes in
LevelTreeContentProvider.java to revision 1.6. At this time, we updated the
viewer directly, not batching the updates. Since this is hierarchical layout
only, the performance hit should be beareable.


Created attachment 12578
Patch with the rev. 1.6 of LevelTreeContentProvider.java
We can run into this error case each time we have a filtered match and a
non-filtered match in the same being added to the same subtree in the same 0.5
seconds and the filtered match comes first in it's subtree. 
The fix is going back to a version that has been in for about 2 months without
causing any trouble. The major risk I see is that the old way was used before
filtering was introduced, so testing would be needed in the presence of filtering. 
I double checked that the "flat" case doesn't have the problem, since we're only
ever looking at each element exactly once. Therefore it can't be both a remove
and an add at the same time. The "tree" case has the problem, because we're
computing the delta going up the parent chain.
review 1 by Tom Eicher.
Review 2 by Andre Weinand.
Approved to be released into RC4
released.
Some intensive testing has shown that the current fix has a performance impact 
in group by type mode and a larger set ot matches. We should investigate if we 
can come up with a better fix.
Futher analysis showed the main problem in the bug scenario is that we're not
detecting "false" removes. In the bug scenario, we're first getting the filtered
match. We think it's a remove of the match, and compute removes for all
ancestors of the match element (i.e. the import statement); this includes a
remove of the project. Then we get the non-filtered match and detect an add for
all ancestors (including the project).
We then execute all adds, followed by all removes. 

The proposed fix is this (starting with the "old" revision 1.8):

1) Detect when a remove is not really removing an element in the tree.
2) Do all removes before the adds.

I'd like to convince the reader that this change

a) Is not dangerous
b) Fixes the problem this bug reports.

I'll start by observing that for any given node in the tree, multiple adds or
multiple removes are folded into single adds/removes when they are collected in
the corresponding sets. The case where there is only a remove or only an add for
 a given node is not interesting, since the algorithm works anyway in those cases. 
Therefore, there are two interesting cases:

1) We get a remove, then an add of node X
2) We get an add, then a remove of node X

Note that the elements in the array of changed elements (see
elementsChange(Object[] elements)), form a set, i.e. no element appears twice.

If we get an element X only in the removed set or the added set, we have no
problem. If we get an element X in both sets, we know that:

1) Either X has matches or some descendent of X has matches. Therefore X must be
present in the tree.
2) Either X was present before in the tree or it was not. If we didn't get a
remove before, we know that it wasn't in the tree before (otherwise, it would be
a "false" add, and we wouldn't detect it as an add). 

Thus, by doing the removes first and the adds second, we will ensure that the
element is present, without duplicating it.
Note that, if we actually detect "false" removes, the only case where we will
get elements in both the "added" and "removed" sets will be when we have a
single match in a subtree, then we remove the match (generating removes for the
ancestors in the subtree) and then we add a different match in the same subtree.
For example, if we 
1) start out with a single match in /x/y/Foo, 
2) then remove the match (generating removes for { x, y, Foo }. 
3) Then we add a match in /x/y/Bar (generating adds for { x, y, Bar }. 

If we had had a second match in /x/y/Bla in step 1, we wouldn't have generated
removes for x and y.
If we have no match in /x/y/Foo, we detect the false remove and just have the
adds from step 3).
Note also that the case of changed filters is handled separately (in fact, we
reinitialize the content provider and refresh the whole viewer). 
Therefore the only way we can get the above scenario is when we delete a match
through some editing or background activity and get another matche reported in
the  same subtree in the same 0.5 seconds (unlikely).
Created attachment 12722
Patch based on LevelTreeContentProvider rev.1.8

New Patch based on the "original" revision of the content provider.
Patch has been reviewed by Christof Marti.
Second review by Andre Weinand.
Released fix.
Verified for I20040625

The in initial search result showed the correct matches in 
SQLEditorSourceViewerConfiguration.
Toggling the JavaDoc filter had no effect.</WithStack>
    <WithOutStack>RC3

While verifying bug 63723 I installed the attached source plug-in. I then 
opened IContentFormatter and did a reference search to IContentFormatter with 
Javadoc filters enabled, gouping set to project. The presented result didn't 
contain any matches in com.ibm.jdg2e.editor.jfacetext.sql although there is 
one in SQLEditorSourceViewerConfiguration. Turning off the Javadoc filter 
showed the match. Turing it back on again still showed the match.

Thomas, we have to understand what is going on here.
The problem is that we're collecting adds/removes and then do them all at the
end. This reorders removes after adds. I propose that we back out of Changes in
LevelTreeContentProvider.java to revision 1.6. At this time, we updated the
viewer directly, not batching the updates. Since this is hierarchical layout
only, the performance hit should be beareable.


Created attachment 12578
Patch with the rev. 1.6 of LevelTreeContentProvider.java
We can run into this error case each time we have a filtered match and a
non-filtered match in the same being added to the same subtree in the same 0.5
seconds and the filtered match comes first in it's subtree. 
The fix is going back to a version that has been in for about 2 months without
causing any trouble. The major risk I see is that the old way was used before
filtering was introduced, so testing would be needed in the presence of filtering. 
I double checked that the "flat" case doesn't have the problem, since we're only
ever looking at each element exactly once. Therefore it can't be both a remove
and an add at the same time. The "tree" case has the problem, because we're
computing the delta going up the parent chain.
review 1 by Tom Eicher.
Review 2 by Andre Weinand.
Approved to be released into RC4
released.
Some intensive testing has shown that the current fix has a performance impact 
in group by type mode and a larger set ot matches. We should investigate if we 
can come up with a better fix.
Futher analysis showed the main problem in the bug scenario is that we're not
detecting "false" removes. In the bug scenario, we're first getting the filtered
match. We think it's a remove of the match, and compute removes for all
ancestors of the match element (i.e. the import statement); this includes a
remove of the project. Then we get the non-filtered match and detect an add for
all ancestors (including the project).
We then execute all adds, followed by all removes. 

The proposed fix is this (starting with the "old" revision 1.8):

1) Detect when a remove is not really removing an element in the tree.
2) Do all removes before the adds.

I'd like to convince the reader that this change

a) Is not dangerous
b) Fixes the problem this bug reports.

I'll start by observing that for any given node in the tree, multiple adds or
multiple removes are folded into single adds/removes when they are collected in
the corresponding sets. The case where there is only a remove or only an add for
 a given node is not interesting, since the algorithm works anyway in those cases. 
Therefore, there are two interesting cases:

1) We get a remove, then an add of node X
2) We get an add, then a remove of node X

Note that the elements in the array of changed elements (see
elementsChange(Object[] elements)), form a set, i.e. no element appears twice.

If we get an element X only in the removed set or the added set, we have no
problem. If we get an element X in both sets, we know that:

1) Either X has matches or some descendent of X has matches. Therefore X must be
present in the tree.
2) Either X was present before in the tree or it was not. If we didn't get a
remove before, we know that it wasn't in the tree before (otherwise, it would be
a "false" add, and we wouldn't detect it as an add). 

Thus, by doing the removes first and the adds second, we will ensure that the
element is present, without duplicating it.
Note that, if we actually detect "false" removes, the only case where we will
get elements in both the "added" and "removed" sets will be when we have a
single match in a subtree, then we remove the match (generating removes for the
ancestors in the subtree) and then we add a different match in the same subtree.
For example, if we 
1) start out with a single match in /x/y/Foo, 
2) then remove the match (generating removes for { x, y, Foo }. 
3) Then we add a match in /x/y/Bar (generating adds for { x, y, Bar }. 

If we had had a second match in /x/y/Bla in step 1, we wouldn't have generated
removes for x and y.
If we have no match in /x/y/Foo, we detect the false remove and just have the
adds from step 3).
Note also that the case of changed filters is handled separately (in fact, we
reinitialize the content provider and refresh the whole viewer). 
Therefore the only way we can get the above scenario is when we delete a match
through some editing or background activity and get another matche reported in
the  same subtree in the same 0.5 seconds (unlikely).
Created attachment 12722
Patch based on LevelTreeContentProvider rev.1.8

New Patch based on the "original" revision of the content provider.
Patch has been reviewed by Christof Marti.
Second review by Andre Weinand.
Released fix.
Verified for I20040625

The in initial search result showed the correct matches in 
SQLEditorSourceViewerConfiguration.
Toggling the JavaDoc filter had no effect.</WithOutStack>
  </Bug>
  <Bug>
    <BugId amount="67983" />
    <CreationDate amount="2004-06-21 08:27:00 -0400" />
    <DupId amount="" />
    <classification amount="Eclipse" />
    <Product amount="JDT" />
    <component amount="UI" />
    <Version amount="3.0" />
    <rep_platform amount="PC" />
    <op_sys amount="Linux-GTK" />
    <priority amount="P3" />
    <bug_severity amount="normal" />
    <Summery>Quick Fix: implement methods sometimes duplicates methods. [quick fix]</Summery>
    <Patches amount="0" />
    <Stacktraces amount="0" />
    <SourceCodeRegions amount="0" />
    <Enumerations amount="0" />
    <bug_status amount="RESOLVED" />
    <resolution amount="INVALID" />
    <WithStack>Using build 200405260010.

After adding a new method to an interface, an implementing class is flagged red.
When I click the Quick Fix in that class, it offers to implement the missing
methods. So far so good. About 10% of the time, it wants to implement (i.e.
reimplement) all interface methods, resulting in duplicate methods in the
concrete implementation. The popup also tells me that it wants to implement x
methods, instead of the expected 1.
If I implement the new method via the Source/Override/Implement Methods menu,
this behavior never occurs.
I've tried hard to come up with a reproducible test case for this bug, but
haven't had any success. These are typically interfaces with 5-10 methods; the
concrete classes usually implement 3-4 interfaces (our interface, plus serveral
Apache Avalon lifecycle interfaces).
If I succeed in coming up with a test case I'll certainly post it; in the
meantime has anyone else seen this behavior?
Move to JDT/UI
I haven't seen this so far. I set this to 'REMIND', please reopen it when you
have a example.
As of now 'LATER' and 'REMIND' resolutions are no longer supported.
Please reopen this bug if it is still valid for you.</WithStack>
    <WithOutStack>Using build 200405260010.

After adding a new method to an interface, an implementing class is flagged red.
When I click the Quick Fix in that class, it offers to implement the missing
methods. So far so good. About 10% of the time, it wants to implement (i.e.
reimplement) all interface methods, resulting in duplicate methods in the
concrete implementation. The popup also tells me that it wants to implement x
methods, instead of the expected 1.
If I implement the new method via the Source/Override/Implement Methods menu,
this behavior never occurs.
I've tried hard to come up with a reproducible test case for this bug, but
haven't had any success. These are typically interfaces with 5-10 methods; the
concrete classes usually implement 3-4 interfaces (our interface, plus serveral
Apache Avalon lifecycle interfaces).
If I succeed in coming up with a test case I'll certainly post it; in the
meantime has anyone else seen this behavior?
Move to JDT/UI
I haven't seen this so far. I set this to 'REMIND', please reopen it when you
have a example.
As of now 'LATER' and 'REMIND' resolutions are no longer supported.
Please reopen this bug if it is still valid for you.</WithOutStack>
  </Bug>
  <Bug>
    <BugId amount="67984" />
    <CreationDate amount="2004-06-21 08:28:00 -0400" />
    <DupId amount="" />
    <classification amount="Tools" />
    <Product amount="CDT" />
    <component amount="cdt-core" />
    <Version amount="2.0" />
    <rep_platform amount="All" />
    <op_sys amount="All" />
    <priority amount="P3" />
    <bug_severity amount="normal" />
    <Summery>[Importing]  After importing a C/C++ project, it should ask the user to open the C/C++ perspective</Summery>
    <Patches amount="0" />
    <Stacktraces amount="0" />
    <SourceCodeRegions amount="0" />
    <Enumerations amount="0" />
    <bug_status amount="RESOLVED" />
    <resolution amount="WONTFIX" />
    <WithStack>Eclipse 200406111814   CDT 200406180301

After importing a C/C++ project (and if the C/C++ perspective is NOT opened), 
it should ask the user to open the C/C++ perspective.   Currently it stays in 
the default perspective.
This should not be gating.  It does work when you create a new project, so I 
will drop its Severity to normal
&gt; After importing a C/C++ project (and if the C/C++ perspective is NOT opened), 
&gt; it should ask the user to open the C/C++ perspective.   Currently it stays in 
&gt; the default perspective.

This behaviour is dependent on your preference, the platform UI
controls it, see
Windows --&gt; Preference --&gt; Workbench --&gt; Perspective

I'll let you close the PR.  If something is still wrong
reassign to me ... but this behaviour is not directly on the control
of the CDT/UI


PR was not targeted to any particular release. Changing target milestone to 2.1
As Alain mentions, this is controlled by the Platform, although the preference
he mentions doesn't apply when you import an existing project (Java or C/C++).
If you need this addressed, please raise a bug on the platform gang.</WithStack>
    <WithOutStack>Eclipse 200406111814   CDT 200406180301

After importing a C/C++ project (and if the C/C++ perspective is NOT opened), 
it should ask the user to open the C/C++ perspective.   Currently it stays in 
the default perspective.
This should not be gating.  It does work when you create a new project, so I 
will drop its Severity to normal
&gt; After importing a C/C++ project (and if the C/C++ perspective is NOT opened), 
&gt; it should ask the user to open the C/C++ perspective.   Currently it stays in 
&gt; the default perspective.

This behaviour is dependent on your preference, the platform UI
controls it, see
Windows --&gt; Preference --&gt; Workbench --&gt; Perspective

I'll let you close the PR.  If something is still wrong
reassign to me ... but this behaviour is not directly on the control
of the CDT/UI


PR was not targeted to any particular release. Changing target milestone to 2.1
As Alain mentions, this is controlled by the Platform, although the preference
he mentions doesn't apply when you import an existing project (Java or C/C++).
If you need this addressed, please raise a bug on the platform gang.</WithOutStack>
  </Bug>
  <Bug>
    <BugId amount="67985" />
    <CreationDate amount="2004-06-21 09:11:00 -0400" />
    <DupId amount="64612" />
    <classification amount="Eclipse" />
    <Product amount="Platform" />
    <component amount="UI" />
    <Version amount="3.0" />
    <rep_platform amount="PC" />
    <op_sys amount="Windows XP" />
    <priority amount="P3" />
    <bug_severity amount="minor" />
    <Summery>[Presentations] Potentially unnecessary call to theme code in DefaultPartPresentation.childPropertyChanged</Summery>
    <Patches amount="0" />
    <Stacktraces amount="0" />
    <SourceCodeRegions amount="0" />
    <Enumerations amount="0" />
    <bug_status amount="RESOLVED" />
    <resolution amount="DUPLICATE" />
    <WithStack>RC3

In the case IPresentablePart.PROP_HIGHLIGHT_IF_BACK: block, we get the font
manager and then check to see if we need to update the font.  This code should
be inside of the if statement, particularly since we seem to call this method so
frequently.
This problem is repeated in initTab()


*** This bug has been marked as a duplicate of 64612 ***</WithStack>
    <WithOutStack>RC3

In the case IPresentablePart.PROP_HIGHLIGHT_IF_BACK: block, we get the font
manager and then check to see if we need to update the font.  This code should
be inside of the if statement, particularly since we seem to call this method so
frequently.
This problem is repeated in initTab()


*** This bug has been marked as a duplicate of 64612 ***</WithOutStack>
  </Bug>
  <Bug>
    <BugId amount="67986" />
    <CreationDate amount="2004-06-21 09:18:00 -0400" />
    <DupId amount="64612" />
    <classification amount="Eclipse" />
    <Product amount="Platform" />
    <component amount="UI" />
    <Version amount="3.0" />
    <rep_platform amount="All" />
    <op_sys amount="All" />
    <priority amount="P3" />
    <bug_severity amount="normal" />
    <Summery>[Presentations] Bad handling of child property changes in the default presentation</Summery>
    <Patches amount="0" />
    <Stacktraces amount="0" />
    <SourceCodeRegions amount="0" />
    <Enumerations amount="0" />
    <bug_status amount="RESOLVED" />
    <resolution amount="DUPLICATE" />
    <WithStack>RC3

In DefaultPartPresentaiton.childPropertyChange we call initTab which causes the
title attributes to be updated regardless of whether they've actually changed or
not.  This should be handled in the case statement and initTab should be avoided
entirely.  In fact, we should revisit our entire property listening story (see
Bug 64612 which describes flicker caused by this badness).
I took out the initTab() call in the R21 presentation for this reason. Compare 
with code there, which was largely copied from R3 presentation but has 
diverged some.


*** This bug has been marked as a duplicate of 64612 ***</WithStack>
    <WithOutStack>RC3

In DefaultPartPresentaiton.childPropertyChange we call initTab which causes the
title attributes to be updated regardless of whether they've actually changed or
not.  This should be handled in the case statement and initTab should be avoided
entirely.  In fact, we should revisit our entire property listening story (see
Bug 64612 which describes flicker caused by this badness).
I took out the initTab() call in the R21 presentation for this reason. Compare 
with code there, which was largely copied from R3 presentation but has 
diverged some.


*** This bug has been marked as a duplicate of 64612 ***</WithOutStack>
  </Bug>
  <Bug>
    <BugId amount="67987" />
    <CreationDate amount="2004-06-21 09:19:00 -0400" />
    <DupId amount="" />
    <classification amount="Tools" />
    <Product amount="CDT" />
    <component amount="cdt-core" />
    <Version amount="2.0" />
    <rep_platform amount="All" />
    <op_sys amount="All" />
    <priority amount="P3" />
    <bug_severity amount="normal" />
    <Summery>[Search] C Search results do no show up as editor annotations</Summery>
    <Patches amount="0" />
    <Stacktraces amount="0" />
    <SourceCodeRegions amount="0" />
    <Enumerations amount="0" />
    <bug_status amount="RESOLVED" />
    <resolution amount="FIXED" />
    <WithStack>C search result are not annotated inside an editor, and is not specific to just
the C editor, viewing with simple text editor does not show any annotations either.
Fixed in head. 

- BG</WithStack>
    <WithOutStack>C search result are not annotated inside an editor, and is not specific to just
the C editor, viewing with simple text editor does not show any annotations either.
Fixed in head. 

- BG</WithOutStack>
  </Bug>
  <Bug>
    <BugId amount="67988" />
    <CreationDate amount="2004-06-21 09:19:00 -0400" />
    <DupId amount="" />
    <classification amount="Eclipse" />
    <Product amount="Platform" />
    <component amount="Team" />
    <Version amount="3.0" />
    <rep_platform amount="PC" />
    <op_sys amount="Windows XP" />
    <priority amount="P3" />
    <bug_severity amount="normal" />
    <Summery>CVS checkout problem</Summery>
    <Patches amount="0" />
    <Stacktraces amount="3">
      <Stacktrace timestamp="1437341153011">
        <Exception>org.eclipse.core.internal.resources.ResourceException</Exception>
        <Reason>The location for
/support/rt/2003/7264/mt_server.sln could not be determined because it is based
on an undefined path variable.</Reason>
        <Frames>
          <Frame depth="0">org.eclipse.core.internal.localstore.FileSystemResourceManager.setLocalTimeStamp(FileSystemResourceManager.java:685)</Frame>
          <Frame depth="1">org.eclipse.core.internal.resources.Resource.setLocalTimeStamp(Resource.java:1267)</Frame>
          <Frame depth="2">org.eclipse.core.internal.resources.File.setLocalTimeStamp(File.java:352)</Frame>
          <Frame depth="3">org.eclipse.team.internal.ccvs.core.resources.EclipseSynchronizer.setTimeStamp(EclipseSynchronizer.java:1587)</Frame>
          <Frame depth="4">org.eclipse.team.internal.ccvs.core.resources.EclipseFile.setTimeStamp(EclipseFile.java:104)</Frame>
          <Frame depth="5">org.eclipse.team.internal.ccvs.core.client.UpdatedHandler.receiveTargetFile(UpdatedHandler.java:104)</Frame>
          <Frame depth="6">org.eclipse.team.internal.ccvs.core.client.UpdatedHandler.handle(UpdatedHandler.java:90)</Frame>
          <Frame depth="7">org.eclipse.team.internal.ccvs.core.client.Request.executeRequest(Request.java:232)</Frame>
          <Frame depth="8">org.eclipse.team.internal.ccvs.core.client.Command.doExecute(Command.java:421)</Frame>
          <Frame depth="9">org.eclipse.team.internal.ccvs.core.client.Checkout.doExecute(Checkout.java:168)</Frame>
          <Frame depth="10">org.eclipse.team.internal.ccvs.core.client.CheckoutWithOverwrite.doExecute(CheckoutWithOverwrite.java:52)</Frame>
          <Frame depth="11">org.eclipse.team.internal.ccvs.core.client.Command$1.run(Command.java:337)</Frame>
          <Frame depth="12">org.eclipse.team.internal.ccvs.core.resources.EclipseSynchronizer.run(EclipseSynchronizer.java:1408)</Frame>
          <Frame depth="13">org.eclipse.team.internal.ccvs.core.resources.EclipseResource$2.run(EclipseResource.java:268)</Frame>
          <Frame depth="14">org.eclipse.core.internal.resources.Workspace.run(Workspace.java:1673)</Frame>
          <Frame depth="15">org.eclipse.team.internal.ccvs.core.resources.EclipseResource.run(EclipseResource.java:265)</Frame>
          <Frame depth="16">org.eclipse.team.internal.ccvs.core.client.Command.execute(Command.java:349)</Frame>
          <Frame depth="17">org.eclipse.team.internal.ccvs.ui.operations.CheckoutProjectOperation.performCheckout(CheckoutProjectOperation.java:245)</Frame>
          <Frame depth="18">org.eclipse.team.internal.ccvs.ui.operations.CheckoutProjectOperation$1.run(CheckoutProjectOperation.java:151)</Frame>
          <Frame depth="19">org.eclipse.team.internal.ccvs.core.resources.EclipseSynchronizer.run(EclipseSynchronizer.java:1408)</Frame>
          <Frame depth="20">org.eclipse.team.internal.ccvs.ui.operations.CheckoutProjectOperation.checkout(CheckoutProjectOperation.java:149)</Frame>
          <Frame depth="21">org.eclipse.team.internal.ccvs.ui.operations.CheckoutSingleProjectOperation.checkout(CheckoutSingleProjectOperation.java:60)</Frame>
          <Frame depth="22">org.eclipse.team.internal.ccvs.ui.operations.CheckoutOperation.checkout(CheckoutOperation.java:46)</Frame>
          <Frame depth="23">org.eclipse.team.internal.ccvs.ui.operations.CheckoutOperation.execute(CheckoutOperation.java:31)</Frame>
          <Frame depth="24">org.eclipse.team.internal.ccvs.ui.operations.CVSOperation.run(CVSOperation.java:84)</Frame>
          <Frame depth="25">org.eclipse.team.internal.ui.actions.JobRunnableContext.run(JobRunnableContext.java:159)</Frame>
          <Frame depth="26">org.eclipse.team.internal.ui.actions.JobRunnableContext$3.runInWorkspace(JobRunnableContext.java:179)</Frame>
          <Frame depth="27">org.eclipse.core.internal.resources.InternalWorkspaceJob.run(InternalWorkspaceJob.java:38)</Frame>
          <Frame depth="28">org.eclipse.core.internal.jobs.Worker.run(Worker.java:66)</Frame>
        </Frames>
      </Stacktrace>
      <Stacktrace timestamp="1437341153011">
        <Exception>org.eclipse.core.internal.resources.ResourceException</Exception>
        <Reason>Resource
/support/rt/2003/7264/mt_server.sln already exists.</Reason>
        <Frames>
          <Frame depth="0">org.eclipse.core.internal.resources.Resource.checkDoesNotExist(Resource.java:298)</Frame>
          <Frame depth="1">org.eclipse.core.internal.resources.Resource.checkDoesNotExist(Resource.java:271)</Frame>
          <Frame depth="2">org.eclipse.core.internal.resources.File.create(File.java:106)</Frame>
          <Frame depth="3">org.eclipse.core.internal.resources.File.create(File.java:181)</Frame>
          <Frame depth="4">org.eclipse.team.internal.ccvs.core.resources.EclipseFile.setContents(EclipseFile.java:198)</Frame>
          <Frame depth="5">org.eclipse.team.internal.ccvs.core.client.Session.receiveFile(Session.java:778)</Frame>
          <Frame depth="6">org.eclipse.team.internal.ccvs.core.client.UpdatedHandler.receiveTargetFile(UpdatedHandler.java:100)</Frame>
          <Frame depth="7">org.eclipse.team.internal.ccvs.core.client.UpdatedHandler.handle(UpdatedHandler.java:90)</Frame>
          <Frame depth="8">org.eclipse.team.internal.ccvs.core.client.Request.executeRequest(Request.java:232)</Frame>
          <Frame depth="9">org.eclipse.team.internal.ccvs.core.client.Command.doExecute(Command.java:421)</Frame>
          <Frame depth="10">org.eclipse.team.internal.ccvs.core.client.Update.doExecute(Update.java:201)</Frame>
          <Frame depth="11">org.eclipse.team.internal.ccvs.core.client.Command$1.run(Command.java:337)</Frame>
          <Frame depth="12">org.eclipse.team.internal.ccvs.core.resources.EclipseSynchronizer.run(EclipseSynchronizer.java:1408)</Frame>
          <Frame depth="13">org.eclipse.team.internal.ccvs.core.resources.EclipseResource$2.run(EclipseResource.java:268)</Frame>
          <Frame depth="14">org.eclipse.core.internal.resources.Workspace.run(Workspace.java:1673)</Frame>
          <Frame depth="15">org.eclipse.team.internal.ccvs.core.resources.EclipseResource.run(EclipseResource.java:265)</Frame>
          <Frame depth="16">org.eclipse.team.internal.ccvs.core.client.Command.execute(Command.java:349)</Frame>
          <Frame depth="17">org.eclipse.team.internal.ccvs.core.client.Command.execute(Command.java:754)</Frame>
          <Frame depth="18">org.eclipse.team.internal.ccvs.ui.operations.UpdateOperation.executeCommand(UpdateOperation.java:79)</Frame>
          <Frame depth="19">org.eclipse.team.internal.ccvs.ui.operations.SingleCommandOperation.execute(SingleCommandOperation.java:46)</Frame>
          <Frame depth="20">org.eclipse.team.internal.ccvs.ui.operations.RepositoryProviderOperation.execute(RepositoryProviderOperation.java:59)</Frame>
          <Frame depth="21">org.eclipse.team.internal.ccvs.ui.operations.CVSOperation.run(CVSOperation.java:84)</Frame>
          <Frame depth="22">org.eclipse.team.internal.ui.actions.JobRunnableContext.run(JobRunnableContext.java:159)</Frame>
          <Frame depth="23">org.eclipse.team.internal.ui.actions.JobRunnableContext$3.runInWorkspace(JobRunnableContext.java:179)</Frame>
          <Frame depth="24">org.eclipse.core.internal.resources.InternalWorkspaceJob.run(InternalWorkspaceJob.java:38)</Frame>
          <Frame depth="25">org.eclipse.core.internal.jobs.Worker.run(Worker.java:66)</Frame>
        </Frames>
      </Stacktrace>
      <Stacktrace timestamp="1437341153011">
        <Exception>org.eclipse.swt.SWTException</Exception>
        <Reason>Widget is disposed</Reason>
        <Frames>
          <Frame depth="0">org.eclipse.swt.SWT.error(SWT.java:2691)</Frame>
          <Frame depth="1">org.eclipse.swt.SWT.error(SWT.java:2616)</Frame>
          <Frame depth="2">org.eclipse.swt.SWT.error(SWT.java:2587)</Frame>
          <Frame depth="3">org.eclipse.swt.widgets.Widget.error(Widget.java:381)</Frame>
          <Frame depth="4">org.eclipse.swt.widgets.Widget.checkWidget(Widget.java:283)</Frame>
          <Frame depth="5">org.eclipse.swt.widgets.TreeItem.setImage(TreeItem.java:710)</Frame>
          <Frame depth="6">org.eclipse.jface.viewers.TreeViewer.doUpdateItem(TreeViewer.java:109)</Frame>
          <Frame depth="7">org.eclipse.jface.viewers.AbstractTreeViewer$UpdateItemSafeRunnable.run(AbstractTreeViewer.java:83)</Frame>
          <Frame depth="8">org.eclipse.core.internal.runtime.InternalPlatform.run(InternalPlatform.java:615)</Frame>
          <Frame depth="9">org.eclipse.core.runtime.Platform.run(Platform.java:758)</Frame>
          <Frame depth="10">org.eclipse.jface.viewers.AbstractTreeViewer.doUpdateItem(AbstractTreeViewer.java:464)</Frame>
          <Frame depth="11">org.eclipse.jface.viewers.StructuredViewer$UpdateItemSafeRunnable.run(StructuredViewer.java:128)</Frame>
          <Frame depth="12">org.eclipse.core.internal.runtime.InternalPlatform.run(InternalPlatform.java:615)</Frame>
          <Frame depth="13">org.eclipse.core.runtime.Platform.run(Platform.java:758)</Frame>
          <Frame depth="14">org.eclipse.jface.viewers.StructuredViewer.updateItem(StructuredViewer.java:1369)</Frame>
          <Frame depth="15">org.eclipse.jface.viewers.StructuredViewer.update(StructuredViewer.java:1353)</Frame>
          <Frame depth="16">org.eclipse.jface.viewers.StructuredViewer.update(StructuredViewer.java:1281)</Frame>
          <Frame depth="17">org.eclipse.team.internal.ui.synchronize.SynchronizeModelProvider$LabelUpdateJob.runInUIThread(SynchronizeModelProvider.java:93)</Frame>
          <Frame depth="18">org.eclipse.ui.progress.UIJob$1.run(UIJob.java:92)</Frame>
          <Frame depth="19">org.eclipse.swt.widgets.RunnableLock.run(RunnableLock.java:35)</Frame>
          <Frame depth="20">org.eclipse.swt.widgets.Synchronizer.runAsyncMessages(Synchronizer.java:106)</Frame>
          <Frame depth="21">org.eclipse.swt.widgets.Display.runAsyncMessages(Display.java:2709)</Frame>
          <Frame depth="22">org.eclipse.swt.widgets.Display.readAndDispatch(Display.java:2401)</Frame>
          <Frame depth="23">org.eclipse.ui.internal.Workbench.runEventLoop(Workbench.java:1375)</Frame>
          <Frame depth="24">org.eclipse.ui.internal.Workbench.runUI(Workbench.java:1346)</Frame>
          <Frame depth="25">org.eclipse.ui.internal.Workbench.createAndRunWorkbench(Workbench.java:252)</Frame>
          <Frame depth="26">org.eclipse.ui.PlatformUI.createAndRunWorkbench(PlatformUI.java:141)</Frame>
          <Frame depth="27">org.eclipse.ui.internal.ide.IDEApplication.run(IDEApplication.java:96)</Frame>
          <Frame depth="28">org.eclipse.core.internal.runtime.PlatformActivator$1.run(PlatformActivator.java:335)</Frame>
          <Frame depth="29">org.eclipse.core.runtime.adaptor.EclipseStarter.run(EclipseStarter.java:272)</Frame>
          <Frame depth="30">org.eclipse.core.runtime.adaptor.EclipseStarter.run(EclipseStarter.java:128)</Frame>
          <Frame depth="31">sun.reflect.NativeMethodAccessorImpl.invoke0(Native Method)</Frame>
          <Frame depth="32">sun.reflect.NativeMethodAccessorImpl.invoke(Unknown Source)</Frame>
          <Frame depth="33">sun.reflect.DelegatingMethodAccessorImpl.invoke(Unknown Source)</Frame>
          <Frame depth="34">java.lang.reflect.Method.invoke(Unknown Source)</Frame>
          <Frame depth="35">org.eclipse.core.launcher.Main.basicRun(Main.java:186)</Frame>
          <Frame depth="36">org.eclipse.core.launcher.Main.run(Main.java:647)</Frame>
          <Frame depth="37">org.eclipse.core.launcher.Main.main(Main.java:631)</Frame>
        </Frames>
      </Stacktrace>
    </Stacktraces>
    <SourceCodeRegions amount="0" />
    <Enumerations amount="0" />
    <bug_status amount="CLOSED" />
    <resolution amount="INVALID" />
    <WithStack>I ran CVS checkout into an empty directory an got this exception:

!STACK 1
org.eclipse.core.internal.resources.ResourceException: The location for
/support/rt/2003/7264/mt_server.sln could not be determined because it is based
on an undefined path variable.
	at
org.eclipse.core.internal.localstore.FileSystemResourceManager.setLocalTimeStamp(FileSystemResourceManager.java:685)
	at
org.eclipse.core.internal.resources.Resource.setLocalTimeStamp(Resource.java:1267)
	at org.eclipse.core.internal.resources.File.setLocalTimeStamp(File.java:352)
	at
org.eclipse.team.internal.ccvs.core.resources.EclipseSynchronizer.setTimeStamp(EclipseSynchronizer.java:1587)
	at
org.eclipse.team.internal.ccvs.core.resources.EclipseFile.setTimeStamp(EclipseFile.java:104)
	at
org.eclipse.team.internal.ccvs.core.client.UpdatedHandler.receiveTargetFile(UpdatedHandler.java:104)
	at
org.eclipse.team.internal.ccvs.core.client.UpdatedHandler.handle(UpdatedHandler.java:90)
	at
org.eclipse.team.internal.ccvs.core.client.Request.executeRequest(Request.java:232)
	at org.eclipse.team.internal.ccvs.core.client.Command.doExecute(Command.java:421)
	at org.eclipse.team.internal.ccvs.core.client.Checkout.doExecute(Checkout.java:168)
	at
org.eclipse.team.internal.ccvs.core.client.CheckoutWithOverwrite.doExecute(CheckoutWithOverwrite.java:52)
	at org.eclipse.team.internal.ccvs.core.client.Command$1.run(Command.java:337)
	at
org.eclipse.team.internal.ccvs.core.resources.EclipseSynchronizer.run(EclipseSynchronizer.java:1408)
	at
org.eclipse.team.internal.ccvs.core.resources.EclipseResource$2.run(EclipseResource.java:268)
	at org.eclipse.core.internal.resources.Workspace.run(Workspace.java:1673)
	at
org.eclipse.team.internal.ccvs.core.resources.EclipseResource.run(EclipseResource.java:265)
	at org.eclipse.team.internal.ccvs.core.client.Command.execute(Command.java:349)
	at
org.eclipse.team.internal.ccvs.ui.operations.CheckoutProjectOperation.performCheckout(CheckoutProjectOperation.java:245)
	at
org.eclipse.team.internal.ccvs.ui.operations.CheckoutProjectOperation$1.run(CheckoutProjectOperation.java:151)
	at
org.eclipse.team.internal.ccvs.core.resources.EclipseSynchronizer.run(EclipseSynchronizer.java:1408)
	at
org.eclipse.team.internal.ccvs.ui.operations.CheckoutProjectOperation.checkout(CheckoutProjectOperation.java:149)
	at
org.eclipse.team.internal.ccvs.ui.operations.CheckoutSingleProjectOperation.checkout(CheckoutSingleProjectOperation.java:60)
	at
org.eclipse.team.internal.ccvs.ui.operations.CheckoutOperation.checkout(CheckoutOperation.java:46)
	at
org.eclipse.team.internal.ccvs.ui.operations.CheckoutOperation.execute(CheckoutOperation.java:31)
	at
org.eclipse.team.internal.ccvs.ui.operations.CVSOperation.run(CVSOperation.java:84)
	at
org.eclipse.team.internal.ui.actions.JobRunnableContext.run(JobRunnableContext.java:159)
	at
org.eclipse.team.internal.ui.actions.JobRunnableContext$3.runInWorkspace(JobRunnableContext.java:179)
	at
org.eclipse.core.internal.resources.InternalWorkspaceJob.run(InternalWorkspaceJob.java:38)
	at org.eclipse.core.internal.jobs.Worker.run(Worker.java:66)
!SUBENTRY 1 org.eclipse.core.resources 4 272 VI 21, 2004 13:36:09.483
!MESSAGE The location for /support/rt/2003/7264/mt_server.sln could not be
determined because it is based on an undefined path variable.

I ran it again and I got:

!ENTRY org.eclipse.team.cvs.core 4 374 VI 21, 2004 13:36:57.963
!MESSAGE Problem writing resource '/support/rt/2003/7264/mt_server.sln'.
Resource /support/rt/2003/7264/mt_server.sln already exists.
!STACK 1
org.eclipse.core.internal.resources.ResourceException: Resource
/support/rt/2003/7264/mt_server.sln already exists.
	at
org.eclipse.core.internal.resources.Resource.checkDoesNotExist(Resource.java:298)
	at
org.eclipse.core.internal.resources.Resource.checkDoesNotExist(Resource.java:271)
	at org.eclipse.core.internal.resources.File.create(File.java:106)
	at org.eclipse.core.internal.resources.File.create(File.java:181)
	at
org.eclipse.team.internal.ccvs.core.resources.EclipseFile.setContents(EclipseFile.java:198)
	at org.eclipse.team.internal.ccvs.core.client.Session.receiveFile(Session.java:778)
	at
org.eclipse.team.internal.ccvs.core.client.UpdatedHandler.receiveTargetFile(UpdatedHandler.java:100)
	at
org.eclipse.team.internal.ccvs.core.client.UpdatedHandler.handle(UpdatedHandler.java:90)
	at
org.eclipse.team.internal.ccvs.core.client.Request.executeRequest(Request.java:232)
	at org.eclipse.team.internal.ccvs.core.client.Command.doExecute(Command.java:421)
	at org.eclipse.team.internal.ccvs.core.client.Update.doExecute(Update.java:201)
	at org.eclipse.team.internal.ccvs.core.client.Command$1.run(Command.java:337)
	at
org.eclipse.team.internal.ccvs.core.resources.EclipseSynchronizer.run(EclipseSynchronizer.java:1408)
	at
org.eclipse.team.internal.ccvs.core.resources.EclipseResource$2.run(EclipseResource.java:268)
	at org.eclipse.core.internal.resources.Workspace.run(Workspace.java:1673)
	at
org.eclipse.team.internal.ccvs.core.resources.EclipseResource.run(EclipseResource.java:265)
	at org.eclipse.team.internal.ccvs.core.client.Command.execute(Command.java:349)
	at org.eclipse.team.internal.ccvs.core.client.Command.execute(Command.java:754)
	at
org.eclipse.team.internal.ccvs.ui.operations.UpdateOperation.executeCommand(UpdateOperation.java:79)
	at
org.eclipse.team.internal.ccvs.ui.operations.SingleCommandOperation.execute(SingleCommandOperation.java:46)
	at
org.eclipse.team.internal.ccvs.ui.operations.RepositoryProviderOperation.execute(RepositoryProviderOperation.java:59)
	at
org.eclipse.team.internal.ccvs.ui.operations.CVSOperation.run(CVSOperation.java:84)
	at
org.eclipse.team.internal.ui.actions.JobRunnableContext.run(JobRunnableContext.java:159)
	at
org.eclipse.team.internal.ui.actions.JobRunnableContext$3.runInWorkspace(JobRunnableContext.java:179)
	at
org.eclipse.core.internal.resources.InternalWorkspaceJob.run(InternalWorkspaceJob.java:38)
	at org.eclipse.core.internal.jobs.Worker.run(Worker.java:66)
!SUBENTRY 1 org.eclipse.core.resources 4 374 VI 21, 2004 13:36:57.963
!MESSAGE Resource /support/rt/2003/7264/mt_server.sln already exists.

The file really was in the directory so I deleted it, but after I ran it again I
got the same exception. So I had run Synchronize, the file appeared as conflict,
I choosed Override and Update and then it worked.

But when the update was complete it threw:

!ENTRY org.eclipse.core.runtime 4 2 VI 21, 2004 13:48:08.607
!MESSAGE Problems occurred when invoking code from plug-in:
"org.eclipse.core.runtime".
!STACK 0
org.eclipse.swt.SWTException: Widget is disposed
	at org.eclipse.swt.SWT.error(SWT.java:2691)
	at org.eclipse.swt.SWT.error(SWT.java:2616)
	at org.eclipse.swt.SWT.error(SWT.java:2587)
	at org.eclipse.swt.widgets.Widget.error(Widget.java:381)
	at org.eclipse.swt.widgets.Widget.checkWidget(Widget.java:283)
	at org.eclipse.swt.widgets.TreeItem.setImage(TreeItem.java:710)
	at org.eclipse.jface.viewers.TreeViewer.doUpdateItem(TreeViewer.java:109)
	at
org.eclipse.jface.viewers.AbstractTreeViewer$UpdateItemSafeRunnable.run(AbstractTreeViewer.java:83)
	at
org.eclipse.core.internal.runtime.InternalPlatform.run(InternalPlatform.java:615)
	at org.eclipse.core.runtime.Platform.run(Platform.java:758)
	at
org.eclipse.jface.viewers.AbstractTreeViewer.doUpdateItem(AbstractTreeViewer.java:464)
	at
org.eclipse.jface.viewers.StructuredViewer$UpdateItemSafeRunnable.run(StructuredViewer.java:128)
	at
org.eclipse.core.internal.runtime.InternalPlatform.run(InternalPlatform.java:615)
	at org.eclipse.core.runtime.Platform.run(Platform.java:758)
	at
org.eclipse.jface.viewers.StructuredViewer.updateItem(StructuredViewer.java:1369)
	at org.eclipse.jface.viewers.StructuredViewer.update(StructuredViewer.java:1353)
	at org.eclipse.jface.viewers.StructuredViewer.update(StructuredViewer.java:1281)
	at
org.eclipse.team.internal.ui.synchronize.SynchronizeModelProvider$LabelUpdateJob.runInUIThread(SynchronizeModelProvider.java:93)
	at org.eclipse.ui.progress.UIJob$1.run(UIJob.java:92)
	at org.eclipse.swt.widgets.RunnableLock.run(RunnableLock.java:35)
	at org.eclipse.swt.widgets.Synchronizer.runAsyncMessages(Synchronizer.java:106)
	at org.eclipse.swt.widgets.Display.runAsyncMessages(Display.java:2709)
	at org.eclipse.swt.widgets.Display.readAndDispatch(Display.java:2401)
	at org.eclipse.ui.internal.Workbench.runEventLoop(Workbench.java:1375)
	at org.eclipse.ui.internal.Workbench.runUI(Workbench.java:1346)
	at org.eclipse.ui.internal.Workbench.createAndRunWorkbench(Workbench.java:252)
	at org.eclipse.ui.PlatformUI.createAndRunWorkbench(PlatformUI.java:141)
	at org.eclipse.ui.internal.ide.IDEApplication.run(IDEApplication.java:96)
	at
org.eclipse.core.internal.runtime.PlatformActivator$1.run(PlatformActivator.java:335)
	at org.eclipse.core.runtime.adaptor.EclipseStarter.run(EclipseStarter.java:272)
	at org.eclipse.core.runtime.adaptor.EclipseStarter.run(EclipseStarter.java:128)
	at sun.reflect.NativeMethodAccessorImpl.invoke0(Native Method)
	at sun.reflect.NativeMethodAccessorImpl.invoke(Unknown Source)
	at sun.reflect.DelegatingMethodAccessorImpl.invoke(Unknown Source)
	at java.lang.reflect.Method.invoke(Unknown Source)
	at org.eclipse.core.launcher.Main.basicRun(Main.java:186)
	at org.eclipse.core.launcher.Main.run(Main.java:647)
	at org.eclipse.core.launcher.Main.main(Main.java:631)
Did you set a custom project location on the Checkout? If not, is there any 
linked folders in your project? Can you attach the .projec file to this bug 
report?
Created attachment 12564
project file

The project is located under workspace directory which is under eclipse
directory. Whole path is:
C:\Java\eclipse\workspace\support

I belive there aren't any linked folders. If you'll need something else let me
know.
John, can you offer any insight into what this message means?
Martin, if you right click on the project in the navigator or package explorer,
and select Properties, what is the location of the project under the "Info" tab?
This error suggests that the project location is a relative path, which is
interpreted as a variable-relative path.
Hi John, The location is: C:\Java\eclipse\workspace\support
Type is: Project
Path: /support

So it isn't relative path...

I'm using build ID "200406180800"
Upgrade to the official 3.0 release next week and re-open if you still have
problems.
Our usual practice is to move bugs to the RESOLVED REMIND state when there is not enough information provided to address the reported issue and more information has been requested. This bug has been in the RESOLVED REMIND state for quite some time so it is being CLOSED. If you can provide the requested information or you otherwise feel that this is still an issue, please reopen the bug. If you are unable to open it due to a lack or permissions, please add a comment to the bug stating that you would like to have the request reconsidered.  I applogize for this blanket approach to bug screening but there are just to many bugs in the REMIND state for us to effectively triage them. Your help in this matter is appreciated.
[REMIND-&gt;INVALID] The "REMIND" bugzilla resolution is being removed so reopening
to mark as INVALID.
INVALID.
Closing.</WithStack>
    <WithOutStack>I ran CVS checkout into an empty directory an got this exception:

!STACK 1
!SUBENTRY 1 org.eclipse.core.resources 4 272 VI 21, 2004 13:36:09.483
!MESSAGE The location for /support/rt/2003/7264/mt_server.sln could not be
determined because it is based on an undefined path variable.

I ran it again and I got:

!ENTRY org.eclipse.team.cvs.core 4 374 VI 21, 2004 13:36:57.963
!MESSAGE Problem writing resource '/support/rt/2003/7264/mt_server.sln'.
Resource /support/rt/2003/7264/mt_server.sln already exists.
!STACK 1
!SUBENTRY 1 org.eclipse.core.resources 4 374 VI 21, 2004 13:36:57.963
!MESSAGE Resource /support/rt/2003/7264/mt_server.sln already exists.

The file really was in the directory so I deleted it, but after I ran it again I
got the same exception. So I had run Synchronize, the file appeared as conflict,
I choosed Override and Update and then it worked.

But when the update was complete it threw:

!ENTRY org.eclipse.core.runtime 4 2 VI 21, 2004 13:48:08.607
!MESSAGE Problems occurred when invoking code from plug-in:
"org.eclipse.core.runtime".
!STACK 0

Did you set a custom project location on the Checkout? If not, is there any 
linked folders in your project? Can you attach the .projec file to this bug 
report?
Created attachment 12564
project file

The project is located under workspace directory which is under eclipse
directory. Whole path is:
C:\Java\eclipse\workspace\support

I belive there aren't any linked folders. If you'll need something else let me
know.
John, can you offer any insight into what this message means?
Martin, if you right click on the project in the navigator or package explorer,
and select Properties, what is the location of the project under the "Info" tab?
This error suggests that the project location is a relative path, which is
interpreted as a variable-relative path.
Hi John, The location is: C:\Java\eclipse\workspace\support
Type is: Project
Path: /support

So it isn't relative path...

I'm using build ID "200406180800"
Upgrade to the official 3.0 release next week and re-open if you still have
problems.
Our usual practice is to move bugs to the RESOLVED REMIND state when there is not enough information provided to address the reported issue and more information has been requested. This bug has been in the RESOLVED REMIND state for quite some time so it is being CLOSED. If you can provide the requested information or you otherwise feel that this is still an issue, please reopen the bug. If you are unable to open it due to a lack or permissions, please add a comment to the bug stating that you would like to have the request reconsidered.  I applogize for this blanket approach to bug screening but there are just to many bugs in the REMIND state for us to effectively triage them. Your help in this matter is appreciated.
[REMIND-&gt;INVALID] The "REMIND" bugzilla resolution is being removed so reopening
to mark as INVALID.
INVALID.
Closing.</WithOutStack>
  </Bug>
  <Bug>
    <BugId amount="67989" />
    <CreationDate amount="2004-06-21 09:41:00 -0400" />
    <DupId amount="" />
    <classification amount="Eclipse Foundation" />
    <Product amount="z_Archived" />
    <component amount="Hyades" />
    <Version amount="unspecified" />
    <rep_platform amount="PC" />
    <op_sys amount="Linux" />
    <priority amount="P3" />
    <bug_severity amount="normal" />
    <Summery>Readme: RAC under Sun JVM on Linux enters infinite loop</Summery>
    <Patches amount="0" />
    <Stacktraces amount="0" />
    <SourceCodeRegions amount="0" />
    <Enumerations amount="0" />
    <bug_status amount="CLOSED" />
    <resolution amount="FIXED" />
    <WithStack>Readme for bug 65778

The workaround is described in bug 65778.
Fixed.  Will be posted later today on the web.
As of TPTP 4.6.0, TPTP is in maintenance mode and focusing on improving quality by resolving relevant enhancements/defects and increasing test coverage through test creation, automation, Build Verification Tests (BVTs), and expanded run-time execution. As part of the TPTP Bugzilla housecleaning process (see http://wiki.eclipse.org/Bugzilla_Housecleaning_Processes), this enhancement/defect is verified/closed by the Project Lead since this originator of this enhancement/defect has an inactive Bugzilla account and considered to be fixed. If this enhancement/defect is still unresolved and reproducible in the latest TPTP release (http://www.eclipse.org/tptp/home/downloads/), please re-open.</WithStack>
    <WithOutStack>Readme for bug 65778

The workaround is described in bug 65778.
Fixed.  Will be posted later today on the web.
As of TPTP 4.6.0, TPTP is in maintenance mode and focusing on improving quality by resolving relevant enhancements/defects and increasing test coverage through test creation, automation, Build Verification Tests (BVTs), and expanded run-time execution. As part of the TPTP Bugzilla housecleaning process (see http://wiki.eclipse.org/Bugzilla_Housecleaning_Processes), this enhancement/defect is verified/closed by the Project Lead since this originator of this enhancement/defect has an inactive Bugzilla account and considered to be fixed. If this enhancement/defect is still unresolved and reproducible in the latest TPTP release (http://www.eclipse.org/tptp/home/downloads/), please re-open.</WithOutStack>
  </Bug>
  <Bug>
    <BugId amount="67990" />
    <CreationDate amount="2004-06-21 09:45:00 -0400" />
    <DupId amount="" />
    <classification amount="Eclipse Foundation" />
    <Product amount="z_Archived" />
    <component amount="Hyades" />
    <Version amount="unspecified" />
    <rep_platform amount="PC" />
    <op_sys amount="Windows 2000" />
    <priority amount="P3" />
    <bug_severity amount="normal" />
    <Summery>release note update for 3.0</Summery>
    <Patches amount="0" />
    <Stacktraces amount="0" />
    <SourceCodeRegions amount="0" />
    <Enumerations amount="0" />
    <bug_status amount="CLOSED" />
    <resolution amount="FIXED" />
    <WithStack>Attaching modified relase note for 3.0 with the following sections added.
1.3 Log and Trace Analyzer 
1.3.1 Refreshing viewers 
1.3.2 Cannot set working path when profiling 
1.3.3 Agents/processes lost when closing the Profiling Monitor 
1.3.4 Blank log view when importing a log
Created attachment 12561
release note for 3.0
Please append the following entry in the release note as well:

1.3.5 Refresh button does not refresh Coverage Statistics view 
Bugzilla defect: 60756
Data in coverage statistic view is not updated after refresh action is 
performed. The workaround is to close the view and reopen the Coverage 
Statistics view.
fixed.
closing defect</WithStack>
    <WithOutStack>Attaching modified relase note for 3.0 with the following sections added.
1.3 Log and Trace Analyzer 
1.3.1 Refreshing viewers 
1.3.2 Cannot set working path when profiling 
1.3.3 Agents/processes lost when closing the Profiling Monitor 
1.3.4 Blank log view when importing a log
Created attachment 12561
release note for 3.0
Please append the following entry in the release note as well:

1.3.5 Refresh button does not refresh Coverage Statistics view 
Bugzilla defect: 60756
Data in coverage statistic view is not updated after refresh action is 
performed. The workaround is to close the view and reopen the Coverage 
Statistics view.
fixed.
closing defect</WithOutStack>
  </Bug>
  <Bug>
    <BugId amount="67991" />
    <CreationDate amount="2004-06-21 09:49:00 -0400" />
    <DupId amount="" />
    <classification amount="Tools" />
    <Product amount="GEF" />
    <component amount="GEF (MVC) [GEF 3.x / Zest 1.x]" />
    <Version amount="3.0" />
    <rep_platform amount="All" />
    <op_sys amount="All" />
    <priority amount="P3" />
    <bug_severity amount="enhancement" />
    <Summery>[Tool] MarqueeSelectionTool should be extensible</Summery>
    <Patches amount="0" />
    <Stacktraces amount="0" />
    <SourceCodeRegions amount="10">
      <source_code type="multicomment">
        <location start="974" end="1126" />
        <code>/**
 * This behaviour selects nodes completely encompassed by the marquee rectangle.  This 
 * is the default behaviour for this tool.
 * @since 3.1
 */</code>
      </source_code>
      <source_code type="assignment">
        <location start="1127" end="1204" />
        <code>public static final int BEHAVIOR_NODES_CONTAINED = new Integer(1).intValue();</code>
      </source_code>
      <source_code type="multicomment">
        <location start="1205" end="1302" />
        <code>/**
 * This behaviour selects connections that intersect the marquee rectangle.
 * @since 3.1
 */</code>
      </source_code>
      <source_code type="assignment">
        <location start="1303" end="1384" />
        <code>public static final int BEHAVIOR_CONNECTIONS_TOUCHED = new Integer(2).intValue();</code>
      </source_code>
      <source_code type="multicomment">
        <location start="1385" end="1531" />
        <code>/**
 * This behaviour selects nodes completely encompassed by the marquee rectangle, and
 * all connections between those nodes.
 * @since 3.1
 */</code>
      </source_code>
      <source_code type="assignment">
        <location start="1532" end="1615" />
        <code>public static final int BEHAVIOR_NODES_AND_CONNECTIONS = new Integer(3).intValue();</code>
      </source_code>
      <source_code type="assignment">
        <location start="2055" end="2134" />
        <code>&gt; public static final int BEHAVIOR_NODES_CONTAINED = new Integer(1).intValue();</code>
      </source_code>
      <source_code type="functioncall">
        <location start="2302" end="2326" />
        <code>&gt; Integer(2).intValue();</code>
      </source_code>
      <source_code type="functioncall">
        <location start="2549" end="2573" />
        <code>&gt; Integer(3).intValue();</code>
      </source_code>
      <source_code type="functioncall">
        <location start="6546" end="6637" />
        <code>return super.isPartSelectable (part) &amp;&amp; (part.getParent () instanceof SectionPart);</code>
      </source_code>
    </SourceCodeRegions>
    <Enumerations amount="4">
      <Enumeration lines="2">
        <Lines>
          <Line>a) part.isSelectable() - I cannot distinguish between a normal selection (ie. single mouse click) and a marquee selection.</Line>
          <Line>b) part.getTargetEditPart(MARQUEE_REQUEST) - again the request is too generic.</Line>
        </Lines>
      </Enumeration>
      <Enumeration lines="5">
        <Lines>
          <Line>1. New BEHAVIOR_NODES_TOUCHED marquee behavoir that uses rectangle.intersect instead of rectangle.contains.</Line>
          <Line />
          <Line>2. Extracted some logic from calculateNewSelection to a protected member isPartSelectable() so children can add their own criteria.  For example I wish to have some parts that are not selectable via the marquee but may be selectable via a single mouse click.  I thought this implimentation change would cause less compatibility problems then changing the request type sent to getTargetEditPart() where children could decide for themselves if they may be selected by the marquee tool.  Currently the request type is a generic RequestConstants.REQ_SELECTION event.</Line>
          <Line />
          <Line>3. I've made getSelectionMode() and its constants DEFAULT, TOGGLE and APPEND public so children can make use of them in overridden methods such as handleButtonUp, handleButtonDown or handleDragStarted etc...</Line>
        </Lines>
      </Enumeration>
      <Enumeration lines="2">
        <Lines>
          <Line>- Instead of exposing the selection mode, could clients not query the current input to see if the corresponding key is pressed - i.e. getCurrentInput().isShiftKeyDown().</Line>
          <Line>- isPartSelectable : not sure I agree that the tool should determine whether or not the EditPart is selectable or not.  There is a method on the EditPart isSelectable that can be overridden to change this criteria.  For the case you describe, couldn't it be distilled into logic such as: if my parent is selected, then I'm not selected instead of being driven by the gesture?</Line>
        </Lines>
      </Enumeration>
      <Enumeration lines="6">
        <Lines>
          <Line>- BEHAVIOR_CONNECTIONS_TOUCHED (already present)</Line>
          <Line>- BEHAVIOR_CONNECTIONS_CONTAINED</Line>
          <Line>- BEHAVIOR_NODES_TOUCHED</Line>
          <Line>- BEHAVIOR_NODES_CONTAINED (already present)</Line>
          <Line>- BEHAVIOR_NODES_TOUCHED_AND_RELATED_CONNECTIONS</Line>
          <Line>- BEHAVIOR_NODES_CONTAINED_AND_RELATED_CONNECTIONS (formerly known as BEHAVIOR_NODES_AND_CONNECTIONS, which was in turn deprecated).</Line>
        </Lines>
      </Enumeration>
    </Enumerations>
    <bug_status amount="RESOLVED" />
    <resolution amount="FIXED" />
    <WithStack>Actually I need to tweak calculateNewSelection(...) method to be 'greedy' and
grab all nodes that intersect marquee, but since almost all methods there are
private I  was forced to copy them to my subclass (that is terrible I have to
admit). I suggest to make that method (and better many other methods) protected
like they are in other tools.
I have the same problem with the customization of the calculateNewSelection(...) method
I'll investigate if this is possible in M6 without affecting API.  Setting the target milestone for tracking purposes...
I too would like to tweak calculateNewSelection(...) to grab all parts that intersect marquee.  In addition I think it would be nice if subclasses could read the selectionMode().
I'm not sure this bugzilla is even necessary.  There are different tweaks for the behavior of the marquee class using the setMarqueeBehavior api on the MarqueeSelectionTool.

The behavior can then be configured using the following constants:
/**
 * This behaviour selects nodes completely encompassed by the marquee rectangle.  This 
 * is the default behaviour for this tool.
 * @since 3.1
 */
public static final int BEHAVIOR_NODES_CONTAINED = new Integer(1).intValue();
/**
 * This behaviour selects connections that intersect the marquee rectangle.
 * @since 3.1
 */
public static final int BEHAVIOR_CONNECTIONS_TOUCHED = new Integer(2).intValue();
/**
 * This behaviour selects nodes completely encompassed by the marquee rectangle, and
 * all connections between those nodes.
 * @since 3.1
 */
public static final int BEHAVIOR_NODES_AND_CONNECTIONS = new Integer(3).intValue();
(In reply to comment #4)
&gt; I'm not sure this bugzilla is even necessary.  There are different tweaks for
&gt; the behavior of the marquee class using the setMarqueeBehavior api on the
&gt; MarqueeSelectionTool.
&gt; The behavior can then be configured using the following constants:
&gt; /**
&gt;  * This behaviour selects nodes completely encompassed by the marquee
&gt; rectangle.  This 
&gt;  * is the default behaviour for this tool.
&gt;  * @since 3.1
&gt;  */
&gt; public static final int BEHAVIOR_NODES_CONTAINED = new Integer(1).intValue();
&gt; /**
&gt;  * This behaviour selects connections that intersect the marquee rectangle.
&gt;  * @since 3.1
&gt;  */
&gt; public static final int BEHAVIOR_CONNECTIONS_TOUCHED = new
&gt; Integer(2).intValue();
&gt; /**
&gt;  * This behaviour selects nodes completely encompassed by the marquee
&gt; rectangle, and
&gt;  * all connections between those nodes.
&gt;  * @since 3.1
&gt;  */
&gt; public static final int BEHAVIOR_NODES_AND_CONNECTIONS = new
&gt; Integer(3).intValue();

Steve,

I think that the problem here is that there doesn't seem to be an option for Nodes Touched (ie. BEHAVIOR_NODES_TOUCHED) nor is there logic for it in calculateNewSelection (included = marqueeRect.intersects(r);).

Please correct me if I'm mistaken.
Created attachment 39850
Diff for suggested patch

Please check out my suggestions for the MarqueeSelectionTool.
1. New BEHAVIOR_NODES_TOUCHED marquee behavoir that uses rectangle.intersect instead of rectangle.contains.

2. Extracted some logic from calculateNewSelection to a protected member isPartSelectable() so children can add their own criteria.  For example I wish to have some parts that are not selectable via the marquee but may be selectable via a single mouse click.  I thought this implimentation change would cause less compatibility problems then changing the request type sent to getTargetEditPart() where children could decide for themselves if they may be selected by the marquee tool.  Currently the request type is a generic RequestConstants.REQ_SELECTION event.

3. I've made getSelectionMode() and its constants DEFAULT, TOGGLE and APPEND public so children can make use of them in overridden methods such as handleButtonUp, handleButtonDown or handleDragStarted etc...

Thanks for taking these suggestions into consideration.

Justin
Thanks for the patch.  Few comments in the interest of minimizing api changes:

- Instead of exposing the selection mode, could clients not query the current input to see if the corresponding key is pressed - i.e. getCurrentInput().isShiftKeyDown().
- isPartSelectable : not sure I agree that the tool should determine whether or not the EditPart is selectable or not.  There is a method on the EditPart isSelectable that can be overridden to change this criteria.  For the case you describe, couldn't it be distilled into logic such as: if my parent is selected, then I'm not selected instead of being driven by the gesture?

Since we're in API freeze mode, special approvals would be required.




I don't think contained vs. touches should be separate behaviors, but they could be mix-in bits similar to style bits.  Otherwise, the number of combinations would grow exponentially. What if I want select nodes contained, excluding children of contained nodes, and connections touched?

I think the behavior could be a combination of multiple bit flags, like style in SWT. Luckily, this class is final, so we can do whatever we want as long as the existing scenarios still work. The behavior constants could be changed to powers of 2 without breaking clients.

Or, leave behavior alone, and add a new property like "style" or "options".

If there is still a need to subclass, we haven't fixed anything. I still think the class should be final. Could you supply a snippet showing how you would override isPartSelectable()? If you need more control, we could delegate to some helper that calculates the new selection.

Finally, we're way beyond the API freeze so this will have to be for post 3.2
Thanks for the quick replies.

- getCurrentInput().isShiftKeyDown() is an acceptable workaround which we've been using.

- using style bits for behavours would definitly be the way to go.  I wasn't sure if you would allow this since setMarqueeBehavoir takes an int.

- isPartSelectable() is required because the two existing ways the method checks if a part is selectable are
a) part.isSelectable() - I cannot distinguish between a normal selection (ie. single mouse click) and a marquee selection.
b) part.getTargetEditPart(MARQUEE_REQUEST) - again the request is too generic.

The suggestion to check if the parent is selected would solve only one of my cases.  A second case I have is that we have a SideBar composed of EditParts which is in the Editor and is selectable.  We want our marquee to select only parts contained within a certain section of the editor.


Here's the snippet...
    protected boolean isPartSelectable(GraphicalEditPart part)
    {
        return super.isPartSelectable (part) &amp;&amp; (part.getParent () instanceof SectionPart);
    }

some background...
RootEditPart
--&gt;SectionPart
----&gt;lots of parts which are selectable via marquee
--&gt;OtherParts which are not selectable via marquee

If I'm able to attach a small screen shot I will.
Created attachment 40011
screenshot example of why i need to know if a part is being selected by the marquee or single click
An alternative to adding isPartSelectable() would be to make MARQUEE_SELECTION public so that parts could decifer the getTargetEditPart request from regular selection.
Is there any way to get the NODES_TOUCHED part of this enhancement fixed for 3.2 or is it too late?  I ask because there is no work around for that part of the problem.

Thank you
I'm afraid it's far past API freeze so, it's not possible to put this in 3.2.  

However, since you've contributed all your changes to the bugzilla I think you are within your rights (by the EPL license) to copy the code locally.  You should probably consult with your legal department before doing this to be sure (I'm not a lawyer :) )...
*ping*

Hey guys - wondering if there's any chance of BEHAVIOR_NODES_TOUCHED or any part of this making it in sometime...

One of the reasons I'm asking is that over the past while, our version of the tool has been extended/tweaked (including changes to the cursor in setViewer, fix in paintFigure when graphics doesn't support XOR mode), and I'm about to make another one (customize behavior for isFigureVisible).

It seems odd that the current solution to extend functionality in this class is to copy/paste it rather than make more of the class public/protected for easier extensions.
We never planned to do this work and now it is past API freeze for 3.6.
Any chance for 3.7 or 4.1?... 

I guess I'm just looking for some sign of whether the changes might make it in and we can turn our copy/paste version into a simple extension, or if the expectation is this issue will never be addressed.
What is going on with this request? It's been 6 years since it was submitted. Adding at least BEHAVIOR_NODES_TOUCHED shouldn't be that hard.

I opened a new bug (https://bugs.eclipse.org/bugs/show_bug.cgi?id=327390) about the BEHAVIOR_NODES_TOUCHED before I saw this request, I apologize. Please mark it as duplicate as this request is more comprehensive.
*** Bug 327390 has been marked as a duplicate of this bug. ***
The option to use style bits does not seem to be favorable for me, as the calculation of related connections is normally done based on the nodes being selected before, so selecting nodes and connections would in my eyes not work well by just combining different selection modes for both individually. I think offering some usable default behavior modes and allow for customizations is the more flexible solution.

As such, I have altered MarqueeSelectionTool to now offer 6 behavior modes, which offer the most important default behaviors requested: 

- BEHAVIOR_CONNECTIONS_TOUCHED (already present)
- BEHAVIOR_CONNECTIONS_CONTAINED
- BEHAVIOR_NODES_TOUCHED
- BEHAVIOR_NODES_CONTAINED (already present)
- BEHAVIOR_NODES_TOUCHED_AND_RELATED_CONNECTIONS
- BEHAVIOR_NODES_CONTAINED_AND_RELATED_CONNECTIONS (formerly known as BEHAVIOR_NODES_AND_CONNECTIONS, which was in turn deprecated).

Added respective support for description messages in MarqueeToolsEntry and GEFMessages and changed LogicExample to offer Marquee tools with all behavior modes for demonstration purposes.

To allow a customizaton of marquee selection behavior by clients, I made calculateNewSelection protected (renamed it to calculateSelectionDelta to better reflect what it does and provided the current marqee selection rectangle as additional parameter). This way, most clients could probably work with one or a subset of the 6 default behavior modes, while subclassing and customizing the default behavior would still be possible.

As extensibility is now ensured and default behavior is enriched by 3 new modes, I regard this to be resolved. In case further extensibility is still required, please open a new bugzilla for this.
(In reply to comment #19)
&gt; The option to use style bits does not seem to be favorable for me, as the
&gt; calculation of related connections is normally done based on the nodes being
&gt; selected before, so selecting nodes and connections would in my eyes not work
&gt; well by just combining different selection modes for both individually. I think
&gt; offering some usable default behavior modes and allow for customizations is the
&gt; more flexible solution.
&gt; 
&gt; As such, I have altered MarqueeSelectionTool to now offer 6 behavior modes,
&gt; which offer the most important default behaviors requested: 
&gt; 
&gt; - BEHAVIOR_CONNECTIONS_TOUCHED (already present)
&gt; - BEHAVIOR_CONNECTIONS_CONTAINED
&gt; - BEHAVIOR_NODES_TOUCHED
&gt; - BEHAVIOR_NODES_CONTAINED (already present)
&gt; - BEHAVIOR_NODES_TOUCHED_AND_RELATED_CONNECTIONS
&gt; - BEHAVIOR_NODES_CONTAINED_AND_RELATED_CONNECTIONS (formerly known as
&gt; BEHAVIOR_NODES_AND_CONNECTIONS, which was in turn deprecated).
&gt; 
&gt; Added respective support for description messages in MarqueeToolsEntry and
&gt; GEFMessages and changed LogicExample to offer Marquee tools with all behavior
&gt; modes for demonstration purposes.
&gt; 
&gt; To allow a customizaton of marquee selection behavior by clients, I made
&gt; calculateNewSelection protected (renamed it to calculateSelectionDelta to
&gt; better reflect what it does and provided the current marqee selection rectangle
&gt; as additional parameter). This way, most clients could probably work with one
&gt; or a subset of the 6 default behavior modes, while subclassing and customizing
&gt; the default behavior would still be possible.
&gt; 
&gt; As extensibility is now ensured and default behavior is enriched by 3 new
&gt; modes, I regard this to be resolved. In case further extensibility is still
&gt; required, please open a new bugzilla for this.

All changes have been committed to cvs HEAD (3.7).
*** Bug 186859 has been marked as a duplicate of this bug. ***
When renaming/exposing calculateSelectionDelta, I was not aware that the parameter lists (editPartsToSelect, editPartsToDeselect) will be interpreted differently dependent on the current mode (default, append, toggle). I will have to adjust this (or make the mode available to clients and document this in the method's javadoc).
Refactored MarqueeSelectionTool to perform calculation of marquee selection in a two-step process. Separated those code fragments depending on the current tool mode from those depending on the selected marquee behavior. 

Exposed the following methods, so client can extend and customize the marquee selection behavior:
-performMarqueeSelect()
-getCurrentMarqueeSelectionRectangle
-getCurrentSelectionMode
-calculateMarqueeSelectedEditParts
-isMarqueeSelectable
*** Bug 106167 has been marked as a duplicate of this bug. ***</WithStack>
    <WithOutStack>Actually I need to tweak calculateNewSelection(...) method to be 'greedy' and
grab all nodes that intersect marquee, but since almost all methods there are
private I  was forced to copy them to my subclass (that is terrible I have to
admit). I suggest to make that method (and better many other methods) protected
like they are in other tools.
I have the same problem with the customization of the calculateNewSelection(...) method
I'll investigate if this is possible in M6 without affecting API.  Setting the target milestone for tracking purposes...
I too would like to tweak calculateNewSelection(...) to grab all parts that intersect marquee.  In addition I think it would be nice if subclasses could read the selectionMode().
I'm not sure this bugzilla is even necessary.  There are different tweaks for the behavior of the marquee class using the setMarqueeBehavior api on the MarqueeSelectionTool.

The behavior can then be configured using the following constants:
/**
 * This behaviour selects nodes completely encompassed by the marquee rectangle.  This 
 * is the default behaviour for this tool.
 * @since 3.1
 */
public static final int BEHAVIOR_NODES_CONTAINED = new Integer(1).intValue();
/**
 * This behaviour selects connections that intersect the marquee rectangle.
 * @since 3.1
 */
public static final int BEHAVIOR_CONNECTIONS_TOUCHED = new Integer(2).intValue();
/**
 * This behaviour selects nodes completely encompassed by the marquee rectangle, and
 * all connections between those nodes.
 * @since 3.1
 */
public static final int BEHAVIOR_NODES_AND_CONNECTIONS = new Integer(3).intValue();
(In reply to comment #4)
&gt; I'm not sure this bugzilla is even necessary.  There are different tweaks for
&gt; the behavior of the marquee class using the setMarqueeBehavior api on the
&gt; MarqueeSelectionTool.
&gt; The behavior can then be configured using the following constants:
&gt; /**
&gt;  * This behaviour selects nodes completely encompassed by the marquee
&gt; rectangle.  This 
&gt;  * is the default behaviour for this tool.
&gt;  * @since 3.1
&gt;  */
&gt; public static final int BEHAVIOR_NODES_CONTAINED = new Integer(1).intValue();
&gt; /**
&gt;  * This behaviour selects connections that intersect the marquee rectangle.
&gt;  * @since 3.1
&gt;  */
&gt; public static final int BEHAVIOR_CONNECTIONS_TOUCHED = new
&gt; Integer(2).intValue();
&gt; /**
&gt;  * This behaviour selects nodes completely encompassed by the marquee
&gt; rectangle, and
&gt;  * all connections between those nodes.
&gt;  * @since 3.1
&gt;  */
&gt; public static final int BEHAVIOR_NODES_AND_CONNECTIONS = new
&gt; Integer(3).intValue();

Steve,

I think that the problem here is that there doesn't seem to be an option for Nodes Touched (ie. BEHAVIOR_NODES_TOUCHED) nor is there logic for it in calculateNewSelection (included = marqueeRect.intersects(r);).

Please correct me if I'm mistaken.
Created attachment 39850
Diff for suggested patch

Please check out my suggestions for the MarqueeSelectionTool.
1. New BEHAVIOR_NODES_TOUCHED marquee behavoir that uses rectangle.intersect instead of rectangle.contains.

2. Extracted some logic from calculateNewSelection to a protected member isPartSelectable() so children can add their own criteria.  For example I wish to have some parts that are not selectable via the marquee but may be selectable via a single mouse click.  I thought this implimentation change would cause less compatibility problems then changing the request type sent to getTargetEditPart() where children could decide for themselves if they may be selected by the marquee tool.  Currently the request type is a generic RequestConstants.REQ_SELECTION event.

3. I've made getSelectionMode() and its constants DEFAULT, TOGGLE and APPEND public so children can make use of them in overridden methods such as handleButtonUp, handleButtonDown or handleDragStarted etc...

Thanks for taking these suggestions into consideration.

Justin
Thanks for the patch.  Few comments in the interest of minimizing api changes:

- Instead of exposing the selection mode, could clients not query the current input to see if the corresponding key is pressed - i.e. getCurrentInput().isShiftKeyDown().
- isPartSelectable : not sure I agree that the tool should determine whether or not the EditPart is selectable or not.  There is a method on the EditPart isSelectable that can be overridden to change this criteria.  For the case you describe, couldn't it be distilled into logic such as: if my parent is selected, then I'm not selected instead of being driven by the gesture?

Since we're in API freeze mode, special approvals would be required.




I don't think contained vs. touches should be separate behaviors, but they could be mix-in bits similar to style bits.  Otherwise, the number of combinations would grow exponentially. What if I want select nodes contained, excluding children of contained nodes, and connections touched?

I think the behavior could be a combination of multiple bit flags, like style in SWT. Luckily, this class is final, so we can do whatever we want as long as the existing scenarios still work. The behavior constants could be changed to powers of 2 without breaking clients.

Or, leave behavior alone, and add a new property like "style" or "options".

If there is still a need to subclass, we haven't fixed anything. I still think the class should be final. Could you supply a snippet showing how you would override isPartSelectable()? If you need more control, we could delegate to some helper that calculates the new selection.

Finally, we're way beyond the API freeze so this will have to be for post 3.2
Thanks for the quick replies.

- getCurrentInput().isShiftKeyDown() is an acceptable workaround which we've been using.

- using style bits for behavours would definitly be the way to go.  I wasn't sure if you would allow this since setMarqueeBehavoir takes an int.

- isPartSelectable() is required because the two existing ways the method checks if a part is selectable are
a) part.isSelectable() - I cannot distinguish between a normal selection (ie. single mouse click) and a marquee selection.
b) part.getTargetEditPart(MARQUEE_REQUEST) - again the request is too generic.

The suggestion to check if the parent is selected would solve only one of my cases.  A second case I have is that we have a SideBar composed of EditParts which is in the Editor and is selectable.  We want our marquee to select only parts contained within a certain section of the editor.


Here's the snippet...
    protected boolean isPartSelectable(GraphicalEditPart part)
    {
        return super.isPartSelectable (part) &amp;&amp; (part.getParent () instanceof SectionPart);
    }

some background...
RootEditPart
--&gt;SectionPart
----&gt;lots of parts which are selectable via marquee
--&gt;OtherParts which are not selectable via marquee

If I'm able to attach a small screen shot I will.
Created attachment 40011
screenshot example of why i need to know if a part is being selected by the marquee or single click
An alternative to adding isPartSelectable() would be to make MARQUEE_SELECTION public so that parts could decifer the getTargetEditPart request from regular selection.
Is there any way to get the NODES_TOUCHED part of this enhancement fixed for 3.2 or is it too late?  I ask because there is no work around for that part of the problem.

Thank you
I'm afraid it's far past API freeze so, it's not possible to put this in 3.2.  

However, since you've contributed all your changes to the bugzilla I think you are within your rights (by the EPL license) to copy the code locally.  You should probably consult with your legal department before doing this to be sure (I'm not a lawyer :) )...
*ping*

Hey guys - wondering if there's any chance of BEHAVIOR_NODES_TOUCHED or any part of this making it in sometime...

One of the reasons I'm asking is that over the past while, our version of the tool has been extended/tweaked (including changes to the cursor in setViewer, fix in paintFigure when graphics doesn't support XOR mode), and I'm about to make another one (customize behavior for isFigureVisible).

It seems odd that the current solution to extend functionality in this class is to copy/paste it rather than make more of the class public/protected for easier extensions.
We never planned to do this work and now it is past API freeze for 3.6.
Any chance for 3.7 or 4.1?... 

I guess I'm just looking for some sign of whether the changes might make it in and we can turn our copy/paste version into a simple extension, or if the expectation is this issue will never be addressed.
What is going on with this request? It's been 6 years since it was submitted. Adding at least BEHAVIOR_NODES_TOUCHED shouldn't be that hard.

I opened a new bug (https://bugs.eclipse.org/bugs/show_bug.cgi?id=327390) about the BEHAVIOR_NODES_TOUCHED before I saw this request, I apologize. Please mark it as duplicate as this request is more comprehensive.
*** Bug 327390 has been marked as a duplicate of this bug. ***
The option to use style bits does not seem to be favorable for me, as the calculation of related connections is normally done based on the nodes being selected before, so selecting nodes and connections would in my eyes not work well by just combining different selection modes for both individually. I think offering some usable default behavior modes and allow for customizations is the more flexible solution.

As such, I have altered MarqueeSelectionTool to now offer 6 behavior modes, which offer the most important default behaviors requested: 

- BEHAVIOR_CONNECTIONS_TOUCHED (already present)
- BEHAVIOR_CONNECTIONS_CONTAINED
- BEHAVIOR_NODES_TOUCHED
- BEHAVIOR_NODES_CONTAINED (already present)
- BEHAVIOR_NODES_TOUCHED_AND_RELATED_CONNECTIONS
- BEHAVIOR_NODES_CONTAINED_AND_RELATED_CONNECTIONS (formerly known as BEHAVIOR_NODES_AND_CONNECTIONS, which was in turn deprecated).

Added respective support for description messages in MarqueeToolsEntry and GEFMessages and changed LogicExample to offer Marquee tools with all behavior modes for demonstration purposes.

To allow a customizaton of marquee selection behavior by clients, I made calculateNewSelection protected (renamed it to calculateSelectionDelta to better reflect what it does and provided the current marqee selection rectangle as additional parameter). This way, most clients could probably work with one or a subset of the 6 default behavior modes, while subclassing and customizing the default behavior would still be possible.

As extensibility is now ensured and default behavior is enriched by 3 new modes, I regard this to be resolved. In case further extensibility is still required, please open a new bugzilla for this.
(In reply to comment #19)
&gt; The option to use style bits does not seem to be favorable for me, as the
&gt; calculation of related connections is normally done based on the nodes being
&gt; selected before, so selecting nodes and connections would in my eyes not work
&gt; well by just combining different selection modes for both individually. I think
&gt; offering some usable default behavior modes and allow for customizations is the
&gt; more flexible solution.
&gt; 
&gt; As such, I have altered MarqueeSelectionTool to now offer 6 behavior modes,
&gt; which offer the most important default behaviors requested: 
&gt; 
&gt; - BEHAVIOR_CONNECTIONS_TOUCHED (already present)
&gt; - BEHAVIOR_CONNECTIONS_CONTAINED
&gt; - BEHAVIOR_NODES_TOUCHED
&gt; - BEHAVIOR_NODES_CONTAINED (already present)
&gt; - BEHAVIOR_NODES_TOUCHED_AND_RELATED_CONNECTIONS
&gt; - BEHAVIOR_NODES_CONTAINED_AND_RELATED_CONNECTIONS (formerly known as
&gt; BEHAVIOR_NODES_AND_CONNECTIONS, which was in turn deprecated).
&gt; 
&gt; Added respective support for description messages in MarqueeToolsEntry and
&gt; GEFMessages and changed LogicExample to offer Marquee tools with all behavior
&gt; modes for demonstration purposes.
&gt; 
&gt; To allow a customizaton of marquee selection behavior by clients, I made
&gt; calculateNewSelection protected (renamed it to calculateSelectionDelta to
&gt; better reflect what it does and provided the current marqee selection rectangle
&gt; as additional parameter). This way, most clients could probably work with one
&gt; or a subset of the 6 default behavior modes, while subclassing and customizing
&gt; the default behavior would still be possible.
&gt; 
&gt; As extensibility is now ensured and default behavior is enriched by 3 new
&gt; modes, I regard this to be resolved. In case further extensibility is still
&gt; required, please open a new bugzilla for this.

All changes have been committed to cvs HEAD (3.7).
*** Bug 186859 has been marked as a duplicate of this bug. ***
When renaming/exposing calculateSelectionDelta, I was not aware that the parameter lists (editPartsToSelect, editPartsToDeselect) will be interpreted differently dependent on the current mode (default, append, toggle). I will have to adjust this (or make the mode available to clients and document this in the method's javadoc).
Refactored MarqueeSelectionTool to perform calculation of marquee selection in a two-step process. Separated those code fragments depending on the current tool mode from those depending on the selected marquee behavior. 

Exposed the following methods, so client can extend and customize the marquee selection behavior:
-performMarqueeSelect()
-getCurrentMarqueeSelectionRectangle
-getCurrentSelectionMode
-calculateMarqueeSelectedEditParts
-isMarqueeSelectable
*** Bug 106167 has been marked as a duplicate of this bug. ***</WithOutStack>
  </Bug>
  <Bug>
    <BugId amount="67992" />
    <CreationDate amount="2004-06-21 09:55:00 -0400" />
    <DupId amount="" />
    <classification amount="Modeling" />
    <Product amount="EMF" />
    <component amount="Core" />
    <Version amount="2.0" />
    <rep_platform amount="PC" />
    <op_sys amount="Windows 2000" />
    <priority amount="P3" />
    <bug_severity amount="normal" />
    <Summery>Provide more flexibility in the package registry implementation</Summery>
    <Patches amount="0" />
    <Stacktraces amount="0" />
    <SourceCodeRegions amount="0" />
    <Enumerations amount="0" />
    <bug_status amount="VERIFIED" />
    <resolution amount="FIXED" />
    <WithStack>We'll provide a hook to be able to replace the package registry implementation 
as well as providing an implementation that scoped by classloader.
The changes are committed to CVS.
The fix is available in the latest build.
Move to verified as per bug 206558.</WithStack>
    <WithOutStack>We'll provide a hook to be able to replace the package registry implementation 
as well as providing an implementation that scoped by classloader.
The changes are committed to CVS.
The fix is available in the latest build.
Move to verified as per bug 206558.</WithOutStack>
  </Bug>
  <Bug>
    <BugId amount="67993" />
    <CreationDate amount="2004-06-21 10:06:00 -0400" />
    <DupId amount="68013" />
    <classification amount="Eclipse" />
    <Product amount="Platform" />
    <component amount="User Assistance" />
    <Version amount="3.0" />
    <rep_platform amount="PC" />
    <op_sys amount="Windows 2000" />
    <priority amount="P3" />
    <bug_severity amount="major" />
    <Summery>[Intro] Resetting perspective causes all content to disappear</Summery>
    <Patches amount="0" />
    <Stacktraces amount="0" />
    <SourceCodeRegions amount="0" />
    <Enumerations amount="2">
      <Enumeration lines="9">
        <Lines>
          <Line>- launch eclipse (RC3)</Line>
          <Line>- put the welcome into standby by double clicking the view</Line>
          <Line>- Window -&gt; Open Perspective -&gt; Java</Line>
          <Line>- Click on the "Samples" link in the Welcome to re-open the full intro</Line>
          <Line>- Click on one of the samples.  Say "Yes" to download the samples</Line>
          <Line>- When the dialog comes up asking to reset the perspective, choose "Yes"</Line>
          <Line>- The background will turn grey, and the Eclipse samples wizard will open.  If</Line>
          <Line>you press finish on this wizard you will be returned to the workbench, but there</Line>
          <Line>will be nothing in the perspective.  Opening another perspective</Line>
        </Lines>
      </Enumeration>
      <Enumeration lines="9">
        <Lines>
          <Line>- launch eclipse (RC3)</Line>
          <Line>- put the welcome into standby by double clicking the view</Line>
          <Line>- 'Window -&gt; Open Perspective -&gt; Java' to open the Java perspective</Line>
          <Line>- Click on the "Samples" link in the Welcome to re-open the full intro</Line>
          <Line>- Click on one of the samples.  Say "Yes" to download the samples</Line>
          <Line>- When the dialog comes up asking to reset the perspective, choose "Yes"</Line>
          <Line>- The background will turn grey, and the Eclipse samples wizard will open.  If</Line>
          <Line>you press finish on this wizard you will be returned to the workbench, but there</Line>
          <Line>will be nothing in the perspective.  Opening other perspectives doesn't help.</Line>
        </Lines>
      </Enumeration>
    </Enumerations>
    <bug_status amount="RESOLVED" />
    <resolution amount="DUPLICATE" />
    <WithStack>Using Eclipse 3.0 RC3 driver:

Installing the samples from the samples page triggers a perspective reset.  If
the Java perspective happens to be the current perspective

To reproduce:
- launch eclipse (RC3)
- put the welcome into standby by double clicking the view
- Window -&gt; Open Perspective -&gt; Java
- Click on the "Samples" link in the Welcome to re-open the full intro
- Click on one of the samples.  Say "Yes" to download the samples
- When the dialog comes up asking to reset the perspective, choose "Yes"
- The background will turn grey, and the Eclipse samples wizard will open.  If
you press finish on this wizard you will be returned to the workbench, but there
will be nothing in the perspective.  Opening another perspective 

This is a critical problem.  Some of the tutorials from the Tutorials page
involve opening the Java perspective.  If a user does one of these tutorials
before progressing to the Samples page, then they will see this behaviour.
oops, I accidentally pressed "enter" before I finished typing the content of the
bug..  Lets try that again :)

Using Eclipse 3.0 RC3 driver:

If the user has opened a perspective other than the Resources perspective and
then returns to the intro, then resetting the perspective from within the intro
causes all of the content to disappear.  Switching to a different perspective or
resetting the perspective again doesn't bring the content back.  You seem to
have to exit eclipse.

This is a serious problem when it comes to using the samples, since after the
samples are installed the user is asked to reset the current perspective.  If
they have gone through any of the Java tutorials beforehand, then the Java
perspective will be the current perspective, and they will see the behaviour
described above.

To reproduce:
- launch eclipse (RC3)
- put the welcome into standby by double clicking the view
- 'Window -&gt; Open Perspective -&gt; Java' to open the Java perspective
- Click on the "Samples" link in the Welcome to re-open the full intro
- Click on one of the samples.  Say "Yes" to download the samples
- When the dialog comes up asking to reset the perspective, choose "Yes"
- The background will turn grey, and the Eclipse samples wizard will open.  If
you press finish on this wizard you will be returned to the workbench, but there
will be nothing in the perspective.  Opening other perspectives doesn't help.

Note that you don't have to download the samples to see this behaviour.  If you
just run eclipse and switch to the java perspective, then put the intro back
into maximized mode and manually reset the perspective from the Window menu, you
see the same behaviour.

I will attach a screen shot
Created attachment 12568
Workbench after resetting the perspective from within the intro
duplicate of bug 68013  


*** This bug has been marked as a duplicate of 68013 ***</WithStack>
    <WithOutStack>Using Eclipse 3.0 RC3 driver:

Installing the samples from the samples page triggers a perspective reset.  If
the Java perspective happens to be the current perspective

To reproduce:
- launch eclipse (RC3)
- put the welcome into standby by double clicking the view
- Window -&gt; Open Perspective -&gt; Java
- Click on the "Samples" link in the Welcome to re-open the full intro
- Click on one of the samples.  Say "Yes" to download the samples
- When the dialog comes up asking to reset the perspective, choose "Yes"
- The background will turn grey, and the Eclipse samples wizard will open.  If
you press finish on this wizard you will be returned to the workbench, but there
will be nothing in the perspective.  Opening another perspective 

This is a critical problem.  Some of the tutorials from the Tutorials page
involve opening the Java perspective.  If a user does one of these tutorials
before progressing to the Samples page, then they will see this behaviour.
oops, I accidentally pressed "enter" before I finished typing the content of the
bug..  Lets try that again :)

Using Eclipse 3.0 RC3 driver:

If the user has opened a perspective other than the Resources perspective and
then returns to the intro, then resetting the perspective from within the intro
causes all of the content to disappear.  Switching to a different perspective or
resetting the perspective again doesn't bring the content back.  You seem to
have to exit eclipse.

This is a serious problem when it comes to using the samples, since after the
samples are installed the user is asked to reset the current perspective.  If
they have gone through any of the Java tutorials beforehand, then the Java
perspective will be the current perspective, and they will see the behaviour
described above.

To reproduce:
- launch eclipse (RC3)
- put the welcome into standby by double clicking the view
- 'Window -&gt; Open Perspective -&gt; Java' to open the Java perspective
- Click on the "Samples" link in the Welcome to re-open the full intro
- Click on one of the samples.  Say "Yes" to download the samples
- When the dialog comes up asking to reset the perspective, choose "Yes"
- The background will turn grey, and the Eclipse samples wizard will open.  If
you press finish on this wizard you will be returned to the workbench, but there
will be nothing in the perspective.  Opening other perspectives doesn't help.

Note that you don't have to download the samples to see this behaviour.  If you
just run eclipse and switch to the java perspective, then put the intro back
into maximized mode and manually reset the perspective from the Window menu, you
see the same behaviour.

I will attach a screen shot
Created attachment 12568
Workbench after resetting the perspective from within the intro
duplicate of bug 68013  


*** This bug has been marked as a duplicate of 68013 ***</WithOutStack>
  </Bug>
  <Bug>
    <BugId amount="67994" />
    <CreationDate amount="2004-06-21 10:06:00 -0400" />
    <DupId amount="" />
    <classification amount="Eclipse" />
    <Product amount="Platform" />
    <component amount="SWT" />
    <Version amount="3.0" />
    <rep_platform amount="Macintosh" />
    <op_sys amount="Mac OS X - Carbon (unsup.)" />
    <priority amount="P3" />
    <bug_severity amount="major" />
    <Summery>[Workbench] ApplicationWindow exception in open on quit</Summery>
    <Patches amount="0" />
    <Stacktraces amount="0" />
    <SourceCodeRegions amount="5">
      <source_code type="class">
        <location start="723" end="1016" />
        <code>public class Test {

    public static void main(String[] args) {
            ApplicationWindow window = new ApplicationWindow(null);
        window.setBlockOnOpen(true);
        window.open();
        if (!Display.getCurrent().isDisposed())
            Display.getCurrent().dispose();
    }
}</code>
      </source_code>
      <source_code type="functiondef">
        <location start="1316" end="1431" />
        <code>public void eventLoopIdle(Display display) {
  super.eventLoopIdle(display);
  PlatformUI.getWorkbench().close();
}</code>
      </source_code>
      <source_code type="import">
        <location start="1955" end="1995" />
        <code>import org.eclipse.swt.widgets.Display;</code>
      </source_code>
      <source_code type="import">
        <location start="1996" end="2033" />
        <code>import org.eclipse.swt.widgets.Shell;</code>
      </source_code>
      <source_code type="class">
        <location start="2035" end="2621" />
        <code>public class Test {

	public static void main(String[] args) {
		Display display = new Display();
		Shell shell = new Shell(display);
		shell.setText("HelloWorld");
		shell.open();
		runEventLoop(shell);
		
	}
	
	public static void runEventLoop(Shell shell) {
		Display display;
		if(shell == null)
			 display = Display.getCurrent();
		else
			display = shell.getDisplay();
			
		while (shell != null &amp;&amp; ! shell.isDisposed()) {
			try {
				if (!display.readAndDispatch())
					display.sleep();
				
			} catch (Throwable e) {
				e.printStackTrace();
			}
		}
		display.update();
	}
}</code>
      </source_code>
    </SourceCodeRegions>
    <Enumerations amount="0" />
    <bug_status amount="RESOLVED" />
    <resolution amount="WONTFIX" />
    <WithStack>If an application utilizing the ApplicationWindow class on Mac OSX is quit via the menu or by through 
command-Q the following exception is thrown:
Exception in thread "main" org.eclipse.swt.SWTException: Device is disposed
	at org.eclipse.swt.SWT.error(SWT.java:2691)
	at org.eclipse.swt.SWT.error(SWT.java:2616)
	at org.eclipse.swt.SWT.error(SWT.java:2587)
	at org.eclipse.swt.widgets.Display.error(Display.java:912)
	at org.eclipse.swt.widgets.Display.checkDevice(Display.java:536)
	at org.eclipse.swt.widgets.Display.update(Display.java:3411)
	at org.eclipse.jface.window.Window.runEventLoop(Window.java:674)

If the window is closed the application quits properly.

RC2
Version: 3.0.0
Build id: 200406111814

example:
public class Test {

    public static void main(String[] args) {
            ApplicationWindow window = new ApplicationWindow(null);
        window.setBlockOnOpen(true);
        window.open();
        if (!Display.getCurrent().isDisposed())
            Display.getCurrent().dispose();
    }
}
Doesn't happen in stand alone SWT apps.
Ines, weren't you seeing some weirdness with the event loop on the Mac?
Yes, the "weirdness" I was seeing on Mac OS X is that the "eventLoopIdle" didn't
seem to be triggered. I had a method that looked like this in my implementation
of the WorkbenchAdvisor:

public void eventLoopIdle(Display display) {
  super.eventLoopIdle(display);
  PlatformUI.getWorkbench().close();
}

On Windows, eclipse would restart itself once it was done processing jobs. On
the Mac, it wouldn't shut down by itself. I had to trigger a mouse event to make
it close.

I am not sure if this is related to this bug. If it's not, I will log a separate
one.
Below is an SWT code snippet that mimics the ApplicationWindow class’ behavior.
It runs correctly on Windows when quitting via the menu -- Alt+F4 or the x
button. On the Mac, it fails when quitting via the menu -- Apple+Q, but does not
fail when using the x button.

import org.eclipse.swt.widgets.Display;
import org.eclipse.swt.widgets.Shell;

public class Test {

	public static void main(String[] args) {
		Display display = new Display();
		Shell shell = new Shell(display);
		shell.setText("HelloWorld");
		shell.open();
		runEventLoop(shell);
		
	}
	
	public static void runEventLoop(Shell shell) {
		Display display;
		if(shell == null)
			 display = Display.getCurrent();
		else
			display = shell.getDisplay();
			
		while (shell != null &amp;&amp; ! shell.isDisposed()) {
			try {
				if (!display.readAndDispatch())
					display.sleep();
				
			} catch (Throwable e) {
				e.printStackTrace();
			}
		}
		display.update();
	}
}

This bug could be moved to SWT.
sample SWT app written, moving back to SWT
Command-Q is manifested as Display.close() since there is no menu item 
associated with the standard apple menu.  You can cancel the closing of the 
display with an SWT.Close listener and exit through the event loop.</WithStack>
    <WithOutStack>If an application utilizing the ApplicationWindow class on Mac OSX is quit via the menu or by through 
command-Q the following exception is thrown:
Exception in thread "main" org.eclipse.swt.SWTException: Device is disposed
	at org.eclipse.swt.SWT.error(SWT.java:2691)
	at org.eclipse.swt.SWT.error(SWT.java:2616)
	at org.eclipse.swt.SWT.error(SWT.java:2587)
	at org.eclipse.swt.widgets.Display.error(Display.java:912)
	at org.eclipse.swt.widgets.Display.checkDevice(Display.java:536)
	at org.eclipse.swt.widgets.Display.update(Display.java:3411)
	at org.eclipse.jface.window.Window.runEventLoop(Window.java:674)

If the window is closed the application quits properly.

RC2
Version: 3.0.0
Build id: 200406111814

example:
public class Test {

    public static void main(String[] args) {
            ApplicationWindow window = new ApplicationWindow(null);
        window.setBlockOnOpen(true);
        window.open();
        if (!Display.getCurrent().isDisposed())
            Display.getCurrent().dispose();
    }
}
Doesn't happen in stand alone SWT apps.
Ines, weren't you seeing some weirdness with the event loop on the Mac?
Yes, the "weirdness" I was seeing on Mac OS X is that the "eventLoopIdle" didn't
seem to be triggered. I had a method that looked like this in my implementation
of the WorkbenchAdvisor:

public void eventLoopIdle(Display display) {
  super.eventLoopIdle(display);
  PlatformUI.getWorkbench().close();
}

On Windows, eclipse would restart itself once it was done processing jobs. On
the Mac, it wouldn't shut down by itself. I had to trigger a mouse event to make
it close.

I am not sure if this is related to this bug. If it's not, I will log a separate
one.
Below is an SWT code snippet that mimics the ApplicationWindow class’ behavior.
It runs correctly on Windows when quitting via the menu -- Alt+F4 or the x
button. On the Mac, it fails when quitting via the menu -- Apple+Q, but does not
fail when using the x button.

import org.eclipse.swt.widgets.Display;
import org.eclipse.swt.widgets.Shell;

public class Test {

	public static void main(String[] args) {
		Display display = new Display();
		Shell shell = new Shell(display);
		shell.setText("HelloWorld");
		shell.open();
		runEventLoop(shell);
		
	}
	
	public static void runEventLoop(Shell shell) {
		Display display;
		if(shell == null)
			 display = Display.getCurrent();
		else
			display = shell.getDisplay();
			
		while (shell != null &amp;&amp; ! shell.isDisposed()) {
			try {
				if (!display.readAndDispatch())
					display.sleep();
				
			} catch (Throwable e) {
				e.printStackTrace();
			}
		}
		display.update();
	}
}

This bug could be moved to SWT.
sample SWT app written, moving back to SWT
Command-Q is manifested as Display.close() since there is no menu item 
associated with the standard apple menu.  You can cancel the closing of the 
display with an SWT.Close listener and exit through the event loop.</WithOutStack>
  </Bug>
  <Bug>
    <BugId amount="67995" />
    <CreationDate amount="2004-06-21 10:12:00 -0400" />
    <DupId amount="65588" />
    <classification amount="Tools" />
    <Product amount="CDT" />
    <component amount="cdt-core" />
    <Version amount="2.0" />
    <rep_platform amount="PC" />
    <op_sys amount="Linux-GTK" />
    <priority amount="P3" />
    <bug_severity amount="major" />
    <Summery>Source Folder Selection dialog is blank on Linux</Summery>
    <Patches amount="0" />
    <Stacktraces amount="0" />
    <SourceCodeRegions amount="0" />
    <Enumerations amount="1">
      <Enumeration lines="5">
        <Lines>
          <Line>1. Create a Std C++ project.</Line>
          <Line>2. Create a subdir within it.</Line>
          <Line>3. Project &gt; Properties &gt; Project Paths &gt; Source &gt; Add Folder...</Line>
          <Line>The Source Folder Selection dialog appears.</Line>
          <Line>Apart from the title of the window, the rest of the dialog is blank!</Line>
        </Lines>
      </Enumeration>
    </Enumerations>
    <bug_status amount="VERIFIED" />
    <resolution amount="DUPLICATE" />
    <WithStack>CDT 2.0.0.200406210818
on Eclipse RC3
Linux RedHat EL3

1. Create a Std C++ project.
2. Create a subdir within it.
3. Project &gt; Properties &gt; Project Paths &gt; Source &gt; Add Folder...
The Source Folder Selection dialog appears.
Apart from the title of the window, the rest of the dialog is blank!

Problem does not exhibit on Windows.


*** This bug has been marked as a duplicate of 65588 ***
Verified this is a duplicate (not yet resolved).</WithStack>
    <WithOutStack>CDT 2.0.0.200406210818
on Eclipse RC3
Linux RedHat EL3

1. Create a Std C++ project.
2. Create a subdir within it.
3. Project &gt; Properties &gt; Project Paths &gt; Source &gt; Add Folder...
The Source Folder Selection dialog appears.
Apart from the title of the window, the rest of the dialog is blank!

Problem does not exhibit on Windows.


*** This bug has been marked as a duplicate of 65588 ***
Verified this is a duplicate (not yet resolved).</WithOutStack>
  </Bug>
  <Bug>
    <BugId amount="67996" />
    <CreationDate amount="2004-06-21 10:20:00 -0400" />
    <DupId amount="" />
    <classification amount="Eclipse" />
    <Product amount="Platform" />
    <component amount="Resources" />
    <Version amount="3.0" />
    <rep_platform amount="PC" />
    <op_sys amount="Windows XP" />
    <priority amount="P3" />
    <bug_severity amount="normal" />
    <Summery>Memory leak in IndexedStore</Summery>
    <Patches amount="0" />
    <Stacktraces amount="0" />
    <SourceCodeRegions amount="0" />
    <Enumerations amount="1">
      <Enumeration lines="11">
        <Lines>
          <Line>1. Start new workspace</Line>
          <Line>2. Switch to Java perspective</Line>
          <Line>3. Import all sdk plugins as binary linked projects</Line>
          <Line>4. Take a snapshot of the memory with YourKit.</Line>
          <Line>The retained size of IndexStore is 5,764KB</Line>
          <Line>5. Exit/restart</Line>
          <Line>6. Take another memory snapshot.</Line>
          <Line>The retained size of IndexedStore is 142KB</Line>
          <Line>The IndexedStore is a disk-based btree. A limited number of pages are cached in</Line>
          <Line>memory as they are used. On startup, if few pages have been requested, the</Line>
          <Line>referenced memory usage will inevitably be much smaller.</Line>
        </Lines>
      </Enumeration>
    </Enumerations>
    <bug_status amount="RESOLVED" />
    <resolution amount="INVALID" />
    <WithStack>I200406192000

1. Start new workspace
2. Switch to Java perspective
3. Import all sdk plugins as binary linked projects
4. Take a snapshot of the memory with YourKit.
The retained size of IndexStore is 5,764KB
5. Exit/restart
6. Take another memory snapshot.
The retained size of IndexedStore is 142KB
The IndexedStore is a disk-based btree. A limited number of pages are cached in
memory as they are used. On startup, if few pages have been requested, the
referenced memory usage will inevitably be much smaller.</WithStack>
    <WithOutStack>I200406192000

1. Start new workspace
2. Switch to Java perspective
3. Import all sdk plugins as binary linked projects
4. Take a snapshot of the memory with YourKit.
The retained size of IndexStore is 5,764KB
5. Exit/restart
6. Take another memory snapshot.
The retained size of IndexedStore is 142KB
The IndexedStore is a disk-based btree. A limited number of pages are cached in
memory as they are used. On startup, if few pages have been requested, the
referenced memory usage will inevitably be much smaller.</WithOutStack>
  </Bug>
  <Bug>
    <BugId amount="67997" />
    <CreationDate amount="2004-06-21 10:20:00 -0400" />
    <DupId amount="68150" />
    <classification amount="Eclipse" />
    <Product amount="Platform" />
    <component amount="UI" />
    <Version amount="3.0" />
    <rep_platform amount="PC" />
    <op_sys amount="Windows XP" />
    <priority amount="P3" />
    <bug_severity amount="normal" />
    <Summery>Job not appearing in Progress View</Summery>
    <Patches amount="0" />
    <Stacktraces amount="0" />
    <SourceCodeRegions amount="0" />
    <Enumerations amount="1">
      <Enumeration lines="10">
        <Lines>
          <Line>- I have a large workspace (lots of projects checked out from dev.eclipse.org)</Line>
          <Line>- ran it against RC2.</Line>
          <Line>- installed RC3</Line>
          <Line>- started Eclipse</Line>
          <Line>- build happened on startup presumably since some of the external jar</Line>
          <Line>dependancies changed</Line>
          <Line>- but the job wasn't in the Progress View (I did see it in the status bar though)</Line>
          <Line>- when I put the view into Verbose mode it appeared</Line>
          <Line>- when I took it out of Verbose mode it remained in the Progress View</Line>
          <Line>most likely a duplicate of #68150</Line>
        </Lines>
      </Enumeration>
    </Enumerations>
    <bug_status amount="RESOLVED" />
    <resolution amount="DUPLICATE" />
    <WithStack>build 3.0 RC3.

- I have a large workspace (lots of projects checked out from dev.eclipse.org)
- ran it against RC2.
- installed RC3
- started Eclipse
- build happened on startup presumably since some of the external jar
dependancies changed
- but the job wasn't in the Progress View (I did see it in the status bar though)
- when I put the view into Verbose mode it appeared
- when I took it out of Verbose mode it remained in the Progress View
most likely a duplicate of #68150

*** This bug has been marked as a duplicate of 68150 ***</WithStack>
    <WithOutStack>build 3.0 RC3.

- I have a large workspace (lots of projects checked out from dev.eclipse.org)
- ran it against RC2.
- installed RC3
- started Eclipse
- build happened on startup presumably since some of the external jar
dependancies changed
- but the job wasn't in the Progress View (I did see it in the status bar though)
- when I put the view into Verbose mode it appeared
- when I took it out of Verbose mode it remained in the Progress View
most likely a duplicate of #68150

*** This bug has been marked as a duplicate of 68150 ***</WithOutStack>
  </Bug>
  <Bug>
    <BugId amount="67998" />
    <CreationDate amount="2004-06-21 10:25:00 -0400" />
    <DupId amount="" />
    <classification amount="Eclipse" />
    <Product amount="JDT" />
    <component amount="Text" />
    <Version amount="3.0" />
    <rep_platform amount="PC" />
    <op_sys amount="Windows XP" />
    <priority amount="P3" />
    <bug_severity amount="normal" />
    <Summery>[formatting][templates] Wrong formatting of editor-template context java</Summery>
    <Patches amount="0" />
    <Stacktraces amount="0" />
    <SourceCodeRegions amount="14">
      <source_code type="multicomment">
        <location start="42" end="224" />
        <code>/* ---------------------------------------------------------------------- *
 * ${word_selection}${cursor}
 * ---------------------------------------------------------------------- */</code>
      </source_code>
      <source_code type="class">
        <location start="311" end="555" />
        <code>class A {
...
    /* ---------------------------------------------------------------------- *
     * Attributes &amp; References
     * ---------------------------------------------------------------------- */
    
    private boolean undone;
...
}</code>
      </source_code>
      <source_code type="class">
        <location start="582" end="831" />
        <code>class A {
...
        /* 
---------------------------------------------------------------------- *
     * Attributes &amp; References
     * ---------------------------------------------------------------------- */
    
    private boolean undone;
...
}</code>
      </source_code>
      <source_code type="class">
        <location start="1260" end="1500" />
        <code>class A {
...
        /* ------------------------------------------------------------------ *
     * Attributes &amp; References
     * ------------------------------------------------------------------ */
    
    private boolean undone;
...
}</code>
      </source_code>
      <source_code type="multicomment">
        <location start="1645" end="1720" />
        <code>/* -------------------------------------------------------------------- */</code>
      </source_code>
      <source_code type="multicomment">
        <location start="1721" end="1779" />
        <code>/* ${enclosing_package}.${enclosing_type}.${testname}() */</code>
      </source_code>
      <source_code type="multicomment">
        <location start="1780" end="2053" />
        <code>/**
 * Method to test the ${cursor}.
 * 
 * &lt;div class="test"&gt;
 * inputs:
 *     1.
 * outputs:
 *     1.
 * procedure:
 *     1. 
 *     2.
 * &lt;/div&gt;
 * 
 * @throws Exception All exceptions are invalid so throw through to the
 *         runner to be reported as errors
 */</code>
      </source_code>
      <source_code type="multicomment">
        <location start="2054" end="2128" />
        <code>/* -------------------------------------------------------------------- */</code>
      </source_code>
      <source_code type="functiondef">
        <location start="2180" end="2247" />
        <code>fail("Not yet implemented"); // TODO Implement test ${testname}</code>
      </source_code>
      <source_code type="multicomment">
        <location start="2315" end="2394" />
        <code>/* -------------------------------------------------------------------- */</code>
      </source_code>
      <source_code type="multicomment">
        <location start="2395" end="2453" />
        <code>/* XMLConfiguration.test.ClassCollectionTest.testName() */</code>
      </source_code>
      <source_code type="multicomment">
        <location start="2454" end="2778" />
        <code>/**
 * Method to test the .
 * 
 * &lt;div class="test"&gt;
 * inputs:
     *     1.
     * outputs:
         *     1.
         * procedure:
             *     1. 
             *     2.
             * &lt;/div&gt;
 * 
 * @throws Exception All exceptions are invalid so throw through to the
 *         runner to be reported as errors
 */</code>
      </source_code>
      <source_code type="multicomment">
        <location start="2779" end="2854" />
        <code>/* -------------------------------------------------------------------- */</code>
      </source_code>
      <source_code type="functiondef">
        <location start="2862" end="2973" />
        <code>public void testName() throws Exception {
     fail("Not yet implemented"); // TODO Implement test testName
 }</code>
      </source_code>
    </SourceCodeRegions>
    <Enumerations amount="0" />
    <bug_status amount="ASSIGNED" />
    <resolution amount="" />
    <WithStack>When using the following template:

&lt;pre&gt;
/* ---------------------------------------------------------------------- *
 * ${word_selection}${cursor}
 * ---------------------------------------------------------------------- */
&lt;/pre&gt;

the outcoming formatted text is not the expected result. It should be:

&lt;pre&gt;
class A {
...
    /* ---------------------------------------------------------------------- *
     * Attributes &amp; References
     * ---------------------------------------------------------------------- */
    
    private boolean undone;
...
}
&lt;/pre&gt;

but it is:

&lt;pre&gt;
class A {
...
        /* 
---------------------------------------------------------------------- *
     * Attributes &amp; References
     * ---------------------------------------------------------------------- */
    
    private boolean undone;
...
}
&lt;/pre&gt;

What happens is, that the formatter appends 4 spaces to the beginning of the 
template which is incorrect. This first happened in version 3.0 RC1, before that 
it was correct.

Greetings, 

Christian Domsch
I made a formatting mistake myself, as I thought I had to use &lt;pre&gt; tags. The 
second code sample should be the following (I shortened the line length from 80 
to 76 characters to visualise the error correctly):

class A {
...
        /* ------------------------------------------------------------------ *
     * Attributes &amp; References
     * ------------------------------------------------------------------ */
    
    private boolean undone;
...
}
I would like to add to this bug that longer more complex javadoc comment blocks make this issue more pronounced as with the following template:

/* -------------------------------------------------------------------- */
/* ${enclosing_package}.${enclosing_type}.${testname}() */
/**
 * Method to test the ${cursor}.
 * 
 * &lt;div class="test"&gt;
 * inputs:
 *     1.
 * outputs:
 *     1.
 * procedure:
 *     1. 
 *     2.
 * &lt;/div&gt;
 * 
 * @throws Exception All exceptions are invalid so throw through to the
 *         runner to be reported as errors
 */
/* -------------------------------------------------------------------- */
@Test
public void ${testname}() throws Exception {
    fail("Not yet implemented"); // TODO Implement test ${testname}
}

the incorrect indenting of the completed template comes out as:

    /* -------------------------------------------------------------------- */
/* XMLConfiguration.test.ClassCollectionTest.testName() */
/**
 * Method to test the .
 * 
 * &lt;div class="test"&gt;
 * inputs:
     *     1.
     * outputs:
         *     1.
         * procedure:
             *     1. 
             *     2.
             * &lt;/div&gt;
 * 
 * @throws Exception All exceptions are invalid so throw through to the
 *         runner to be reported as errors
 */
 /* -------------------------------------------------------------------- */
 @Test
 public void testName() throws Exception {
     fail("Not yet implemented"); // TODO Implement test testName
 }

This gets rather frustrating when you have many different and specialized comment blocks that are common (for our project this helps with documentation)</WithStack>
    <WithOutStack>When using the following template:

&lt;pre&gt;
/* ---------------------------------------------------------------------- *
 * ${word_selection}${cursor}
 * ---------------------------------------------------------------------- */
&lt;/pre&gt;

the outcoming formatted text is not the expected result. It should be:

&lt;pre&gt;
class A {
...
    /* ---------------------------------------------------------------------- *
     * Attributes &amp; References
     * ---------------------------------------------------------------------- */
    
    private boolean undone;
...
}
&lt;/pre&gt;

but it is:

&lt;pre&gt;
class A {
...
        /* 
---------------------------------------------------------------------- *
     * Attributes &amp; References
     * ---------------------------------------------------------------------- */
    
    private boolean undone;
...
}
&lt;/pre&gt;

What happens is, that the formatter appends 4 spaces to the beginning of the 
template which is incorrect. This first happened in version 3.0 RC1, before that 
it was correct.

Greetings, 

Christian Domsch
I made a formatting mistake myself, as I thought I had to use &lt;pre&gt; tags. The 
second code sample should be the following (I shortened the line length from 80 
to 76 characters to visualise the error correctly):

class A {
...
        /* ------------------------------------------------------------------ *
     * Attributes &amp; References
     * ------------------------------------------------------------------ */
    
    private boolean undone;
...
}
I would like to add to this bug that longer more complex javadoc comment blocks make this issue more pronounced as with the following template:

/* -------------------------------------------------------------------- */
/* ${enclosing_package}.${enclosing_type}.${testname}() */
/**
 * Method to test the ${cursor}.
 * 
 * &lt;div class="test"&gt;
 * inputs:
 *     1.
 * outputs:
 *     1.
 * procedure:
 *     1. 
 *     2.
 * &lt;/div&gt;
 * 
 * @throws Exception All exceptions are invalid so throw through to the
 *         runner to be reported as errors
 */
/* -------------------------------------------------------------------- */
@Test
public void ${testname}() throws Exception {
    fail("Not yet implemented"); // TODO Implement test ${testname}
}

the incorrect indenting of the completed template comes out as:

    /* -------------------------------------------------------------------- */
/* XMLConfiguration.test.ClassCollectionTest.testName() */
/**
 * Method to test the .
 * 
 * &lt;div class="test"&gt;
 * inputs:
     *     1.
     * outputs:
         *     1.
         * procedure:
             *     1. 
             *     2.
             * &lt;/div&gt;
 * 
 * @throws Exception All exceptions are invalid so throw through to the
 *         runner to be reported as errors
 */
 /* -------------------------------------------------------------------- */
 @Test
 public void testName() throws Exception {
     fail("Not yet implemented"); // TODO Implement test testName
 }

This gets rather frustrating when you have many different and specialized comment blocks that are common (for our project this helps with documentation)</WithOutStack>
  </Bug>
  <Bug>
    <BugId amount="67999" />
    <CreationDate amount="2004-06-21 10:30:00 -0400" />
    <DupId amount="" />
    <classification amount="Eclipse" />
    <Product amount="Platform" />
    <component amount="Ant" />
    <Version amount="3.0" />
    <rep_platform amount="PC" />
    <op_sys amount="Windows XP" />
    <priority amount="P2" />
    <bug_severity amount="critical" />
    <Summery>Eclipse hangs on "Close All" (ctrl-shift-F4 or menu item)</Summery>
    <Patches amount="0" />
    <Stacktraces amount="0" />
    <SourceCodeRegions amount="0" />
    <Enumerations amount="1">
      <Enumeration lines="4">
        <Lines>
          <Line>a) It is possible for the UI thread to be waiting for the reconciler to complete.</Line>
          <Line>b) It is possible for the reconciler to make changes to the workspace (marker</Line>
          <Line>changes).</Line>
          <Line>c) It is possible for resource change listeners to do a syncExec.</Line>
        </Lines>
      </Enumeration>
    </Enumerations>
    <bug_status amount="VERIFIED" />
    <resolution amount="FIXED" />
    <WithStack>3.0 RC3

Eclipse hangs when I start eclipse with my existing workspace, the hit
ctrl-shift-F4 or click "Close All" from the menu.  There is nothing written to
the .log file.

I demonstrated the problem to Doug.  I created a 30workspace.zip of my workspace
- it is on the local network in my accounts directory.
Note: I was not able to reproduce this problem with either of my machines and 
my own workspaces.  I'll try duplicating with Sonia's workspace. 
I can't recreate this yet on WinXP either
I cannot on my machine either.
I can reproduce this bug with Sonia's workspace on my machine.  I will now try 
to reproduce in a self-hosted session.... 
It is a three way deadlock:

UI Thread is waiting for the reconciler's dirty region queue to become empty
The reconciler thread is trying to modify the workspace (delete a marker)
In the Autobuild thread, a resource change listener is trying to do a syncExec.

This happens with the Ant editor, but I don't know if the same pattern is
possible with other editors. Moving to text component.
Created attachment 12613
Stack traces
John, the marker rule is/returns null. For what exactly does the work manager wait?
As Dani pointed out, the ant reconciler tries to delete markers using 
File.deleteMarkers. This internally uses "null" as synchronization ruler, i.e. 
there is no synchronization constrain. The UI threads waits for the reconciler 
to finish, this is the intented behavior. Thus, from our perspective this 
looks OK. Moving to core.
Scheduling rules prevent concurrent modification for multiple long running
operations, but we still have a workspace lock that prevents modification during
resource change broadcasts. Since marker changes are broadcast during resource
change notification, we cannot allow markers to be changed during this period.
Kai, Dani: are you planning on changes here or should I work on changes for 
the Ant editor code?
Just recording the result of conversations with Kai and Darin. The problem comes
down to:

a) It is possible for the UI thread to be waiting for the reconciler to complete.
b) It is possible for the reconciler to make changes to the workspace (marker
changes).
c) It is possible for resource change listeners to do a syncExec.

When these three conditions combine, you get deadlock. One of those three
conditions would have to be removed to fix the problem. Or, the UI thread would
need to honour syncExec attempts while it waits (using either ILock or by
spinning the event loop while waiting).
Created attachment 12669
Proposed patch for AntEditorMarkerUpdater
Since it appears that the Ant component will be making the fix for 3.0, should 
I move this bug to Ant?
Potential RC4
Created attachment 12681
modified patch

Modified patch to avoid nesting a workspace runnable in a job. The scheduling
rule is on the job itself, rather than the workspace runnable.
Note that if you make your Job a subclass of WorkspaceJob, then you will get
batching to prevent multiple resource change events. WorkspaceJob is the
background equivalent of IWorkspaceRunnable.
Let me know what build you are releasing to, and I can verify. I can reproduce
the deadlock every time using Sonia's workspace, which I have a copy of.
I will update the patch to use the WorkspaceJob...thanks John.

The patch is working well for everything except a buildfile that has problems 
which is restored at startup. I am investigating
The problem with restoration at startup predates this change: logged as bug 
68234.
Created attachment 12696
Latest patch for AntEditorMarkerUpdater
Sonia, we didn't see CHKPII errors for cheat sheet files. Are they already 
exempt?
*** Bug 68231 has been marked as a duplicate of this bug. ***
Fix approved.
Will be included in the I200406231200 build.
Verified.</WithStack>
    <WithOutStack>3.0 RC3

Eclipse hangs when I start eclipse with my existing workspace, the hit
ctrl-shift-F4 or click "Close All" from the menu.  There is nothing written to
the .log file.

I demonstrated the problem to Doug.  I created a 30workspace.zip of my workspace
- it is on the local network in my accounts directory.
Note: I was not able to reproduce this problem with either of my machines and 
my own workspaces.  I'll try duplicating with Sonia's workspace. 
I can't recreate this yet on WinXP either
I cannot on my machine either.
I can reproduce this bug with Sonia's workspace on my machine.  I will now try 
to reproduce in a self-hosted session.... 
It is a three way deadlock:

UI Thread is waiting for the reconciler's dirty region queue to become empty
The reconciler thread is trying to modify the workspace (delete a marker)
In the Autobuild thread, a resource change listener is trying to do a syncExec.

This happens with the Ant editor, but I don't know if the same pattern is
possible with other editors. Moving to text component.
Created attachment 12613
Stack traces
John, the marker rule is/returns null. For what exactly does the work manager wait?
As Dani pointed out, the ant reconciler tries to delete markers using 
File.deleteMarkers. This internally uses "null" as synchronization ruler, i.e. 
there is no synchronization constrain. The UI threads waits for the reconciler 
to finish, this is the intented behavior. Thus, from our perspective this 
looks OK. Moving to core.
Scheduling rules prevent concurrent modification for multiple long running
operations, but we still have a workspace lock that prevents modification during
resource change broadcasts. Since marker changes are broadcast during resource
change notification, we cannot allow markers to be changed during this period.
Kai, Dani: are you planning on changes here or should I work on changes for 
the Ant editor code?
Just recording the result of conversations with Kai and Darin. The problem comes
down to:

a) It is possible for the UI thread to be waiting for the reconciler to complete.
b) It is possible for the reconciler to make changes to the workspace (marker
changes).
c) It is possible for resource change listeners to do a syncExec.

When these three conditions combine, you get deadlock. One of those three
conditions would have to be removed to fix the problem. Or, the UI thread would
need to honour syncExec attempts while it waits (using either ILock or by
spinning the event loop while waiting).
Created attachment 12669
Proposed patch for AntEditorMarkerUpdater
Since it appears that the Ant component will be making the fix for 3.0, should 
I move this bug to Ant?
Potential RC4
Created attachment 12681
modified patch

Modified patch to avoid nesting a workspace runnable in a job. The scheduling
rule is on the job itself, rather than the workspace runnable.
Note that if you make your Job a subclass of WorkspaceJob, then you will get
batching to prevent multiple resource change events. WorkspaceJob is the
background equivalent of IWorkspaceRunnable.
Let me know what build you are releasing to, and I can verify. I can reproduce
the deadlock every time using Sonia's workspace, which I have a copy of.
I will update the patch to use the WorkspaceJob...thanks John.

The patch is working well for everything except a buildfile that has problems 
which is restored at startup. I am investigating
The problem with restoration at startup predates this change: logged as bug 
68234.
Created attachment 12696
Latest patch for AntEditorMarkerUpdater
Sonia, we didn't see CHKPII errors for cheat sheet files. Are they already 
exempt?
*** Bug 68231 has been marked as a duplicate of this bug. ***
Fix approved.
Will be included in the I200406231200 build.
Verified.</WithOutStack>
  </Bug>
  <Bug>
    <BugId amount="68000" />
    <CreationDate amount="2004-06-21 10:35:00 -0400" />
    <DupId amount="52687" />
    <classification amount="Eclipse" />
    <Product amount="Platform" />
    <component amount="Ant" />
    <Version amount="3.0" />
    <rep_platform amount="PC" />
    <op_sys amount="Windows XP" />
    <priority amount="P3" />
    <bug_severity amount="normal" />
    <Summery>${eclipse.home} does not appear in code assist</Summery>
    <Patches amount="0" />
    <Stacktraces amount="0" />
    <SourceCodeRegions amount="0" />
    <Enumerations amount="0" />
    <bug_status amount="RESOLVED" />
    <resolution amount="DUPLICATE" />
    <WithStack>RC3

While verifying bug 65655, I found that "eclispe.home" does not appear in Ant 
code assist.
You win the prize..68000!



*** This bug has been marked as a duplicate of 52687 ***</WithStack>
    <WithOutStack>RC3

While verifying bug 65655, I found that "eclispe.home" does not appear in Ant 
code assist.
You win the prize..68000!



*** This bug has been marked as a duplicate of 52687 ***</WithOutStack>
  </Bug>
</infozilla-output>

