<?xml version="1.0" encoding="UTF-8"?>
<infozilla-output>
  <Bug>
    <BugId amount="81401" />
    <CreationDate amount="2004-12-16 09:55:00 -0500" />
    <DupId amount="79336" />
    <classification amount="Eclipse" />
    <Product amount="Platform" />
    <component amount="SWT" />
    <Version amount="3.1" />
    <rep_platform amount="All" />
    <op_sys amount="All" />
    <priority amount="P3" />
    <bug_severity amount="enhancement" />
    <Summery>[Consistency] Mouse track events should be fired when button pressed and event button property should be set</Summery>
    <Patches amount="0" />
    <Stacktraces amount="0" />
    <SourceCodeRegions amount="1">
      <source_code type="functiondef">
        <location start="572" end="1317" />
        <code>public static void main(String[] args) {
	Display display = new Display();
	final Shell shell = new Shell(display);
	shell.setBounds(10,10,200,200);
	Canvas canvas = new Canvas(shell, SWT.BORDER);
	canvas.setBounds(10,10,100,100);
	canvas.addMouseMoveListener(new MouseMoveListener() {
		public void mouseMove(MouseEvent e) {
			if ((e.stateMask &amp; SWT.BUTTON1) != 0) {
				System.out.println("button 1");
			}
			if ((e.stateMask &amp; SWT.BUTTON2) != 0) {
				System.out.println("button 2");
			}
			if ((e.stateMask &amp; SWT.BUTTON3) != 0) {
				System.out.println("button 3");
			}
			System.out.println(e.toString());
		}
	});
	shell.open();
	while (!shell.isDisposed()) {
		if (!display.readAndDispatch()) display.sleep();
	}
	display.dispose();
}</code>
      </source_code>
    </SourceCodeRegions>
    <Enumerations amount="1">
      <Enumeration lines="4">
        <Lines>
          <Line>- MouseMove events have their stateMask set, as shown in the snippet below.</Line>
          <Line>This is how you should determine which button(s) are pressed on MouseMove.</Line>
          <Line>- Marking report as duplicate of the other report that details</Line>
          <Line>MouseEnter/MouseExit not firing when the mouse is grabbed.</Line>
        </Lines>
      </Enumeration>
    </Enumerations>
    <bug_status amount="RESOLVED" />
    <resolution amount="DUPLICATE" />
    <WithStack>When the mouse is being dragged, the mouse enter and exit track events (sent 
to MouseTrackListeners) should still be fired.  In addition, mouse move events 
(sent to MouseMoveListeners) should have the button property set on the event.
GG, I know this is a dup but can't look for it right now.
- MouseMove events have their stateMask set, as shown in the snippet below.  
This is how you should determine which button(s) are pressed on MouseMove.
- Marking report as duplicate of the other report that details 
MouseEnter/MouseExit not firing when the mouse is grabbed.

public static void main(String[] args) {
	Display display = new Display();
	final Shell shell = new Shell(display);
	shell.setBounds(10,10,200,200);
	Canvas canvas = new Canvas(shell, SWT.BORDER);
	canvas.setBounds(10,10,100,100);
	canvas.addMouseMoveListener(new MouseMoveListener() {
		public void mouseMove(MouseEvent e) {
			if ((e.stateMask &amp; SWT.BUTTON1) != 0) {
				System.out.println("button 1");
			}
			if ((e.stateMask &amp; SWT.BUTTON2) != 0) {
				System.out.println("button 2");
			}
			if ((e.stateMask &amp; SWT.BUTTON3) != 0) {
				System.out.println("button 3");
			}
			System.out.println(e.toString());
		}
	});
	shell.open();
	while (!shell.isDisposed()) {
		if (!display.readAndDispatch()) display.sleep();
	}
	display.dispose();
}


*** This bug has been marked as a duplicate of 79336 ***</WithStack>
    <WithOutStack>When the mouse is being dragged, the mouse enter and exit track events (sent 
to MouseTrackListeners) should still be fired.  In addition, mouse move events 
(sent to MouseMoveListeners) should have the button property set on the event.
GG, I know this is a dup but can't look for it right now.
- MouseMove events have their stateMask set, as shown in the snippet below.  
This is how you should determine which button(s) are pressed on MouseMove.
- Marking report as duplicate of the other report that details 
MouseEnter/MouseExit not firing when the mouse is grabbed.

public static void main(String[] args) {
	Display display = new Display();
	final Shell shell = new Shell(display);
	shell.setBounds(10,10,200,200);
	Canvas canvas = new Canvas(shell, SWT.BORDER);
	canvas.setBounds(10,10,100,100);
	canvas.addMouseMoveListener(new MouseMoveListener() {
		public void mouseMove(MouseEvent e) {
			if ((e.stateMask &amp; SWT.BUTTON1) != 0) {
				System.out.println("button 1");
			}
			if ((e.stateMask &amp; SWT.BUTTON2) != 0) {
				System.out.println("button 2");
			}
			if ((e.stateMask &amp; SWT.BUTTON3) != 0) {
				System.out.println("button 3");
			}
			System.out.println(e.toString());
		}
	});
	shell.open();
	while (!shell.isDisposed()) {
		if (!display.readAndDispatch()) display.sleep();
	}
	display.dispose();
}


*** This bug has been marked as a duplicate of 79336 ***</WithOutStack>
  </Bug>
  <Bug>
    <BugId amount="81402" />
    <CreationDate amount="2004-12-16 10:04:00 -0500" />
    <DupId amount="" />
    <classification amount="Eclipse" />
    <Product amount="JDT" />
    <component amount="Core" />
    <Version amount="3.0.1" />
    <rep_platform amount="PC" />
    <op_sys amount="Windows XP" />
    <priority amount="P3" />
    <bug_severity amount="normal" />
    <Summery>[classpath] Allow external classfolders from a container</Summery>
    <Patches amount="0" />
    <Stacktraces amount="0" />
    <SourceCodeRegions amount="0" />
    <Enumerations amount="0" />
    <bug_status amount="RESOLVED" />
    <resolution amount="WONTFIX" />
    <WithStack>I need to have a container return an external classfolder in addition to jars
that it can now return. It needs to be a classfolder and the container allows it
to be dynamically found and not hard-coded. That way I supply a plugin to
someone and they just add the container. The container will then find the
correct class folder in the system to use.
Sorry Rich, we cannot allow this scenario since we would not be notified of
changes in this external folder. Note that for external jar files, we keep the
timestamp of the jar and thus we know when the jar file changes. But this would
not work for external folders as the file systems usually don't change the
timestamp of a folder if the change is inside this folder.

You should first create a linked folder to the external folder, then return the
path to this linked in your container.

OK to close ?
It's not satisfactory, but if you can't do it, you can't do it. :-( The problem
is that this guy is dynamic in my case, in which case the linkage can change, so
how would the container handle this? It may even go away. So I don't see how I
can handle link/change/remove in a dynamic way from the container.
I just ran into this exact case. I have a container which produces both jar and 
class dir entries. It's not really practical to create linked folders since 
these entries and folders come and go frequently. It seems to me that if JDT 
requires change notification and that's only available through linked folders, 
then JDT should auto-setup a linked folder in this situation. Making the 
container be responsible for this exposes an implementation detail that should 
stay hidden (in my opinion).
I agree that users should not be made aware of linked folders, but I don't quite
see how the container provider cannot be held responsible for doing it. It is
the one knowing which artifacts are required on the classpath, and that can
figure what is no longer necessary. 

We could imagine a way for classpath entries to be created and requesting some
linking under the cover, but this would need to be something brand new. Also, it
wouldn't be obvious as to deciding when a linked folder is no longer necessary
and should be discarded. Also, a linked classfolder entry would need to provide
both a link name path ('lib/') and an actual OS location corresponding to it
('C:/myLibs/blah/classes/'). But again, the classpath initializer should be able
to drive the linked folder creation directly.
I don't think the writer of classpath container should need to be aware of this 
limitation. It is inconsistent and confusing that it's perfectly ok to add a 
jar from an external location, but it's not ok to add a class folder. The 
explanation given shows this to be an implementation limitation. As such, 
any "fix" for this problem should be taken care of by the implementation (JDT). 
It's clear that there is already logic inside the JDT that detects this 
condition. It seems pretty straight-forward to add auto-linking at that point 
instead of requiring every container writer to duplicate this code. 

As an additional point, when the container is expanded in the package explorer, 
the paths are shown. It would be confusing for the user to see the actual 
physical location for the jars and some random linked location for the classes 
dirs, while they may be physically co-located. If it's the JDT that's tracking 
this auto-linking, it could easily display the physical location for auto-
linked folders.

As far as implementation is concerned... I don't think any extra info is needed 
in the classpath entry. The container api already provides for a way to tell 
the JDT what should be on the classpath and the JDT can detect when an external 
folder is given. If an external folder is not included in the returned list 
when the container is refereshed, then it's no longer needed. Note that the 
choice of the actual link target is not important. In the ideal world, the user 
is never made aware of it. The only thing that's needed for tracking this is a 
map of auto-linked paths to their auto-generated target names. When classpath 
is refreshed, the extraneous entries can be detected and links removed.
Deferring post 3.1
As of now 'LATER' and 'REMIND' resolutions are no longer supported.
Please reopen this bug if it is still valid for you.</WithStack>
    <WithOutStack>I need to have a container return an external classfolder in addition to jars
that it can now return. It needs to be a classfolder and the container allows it
to be dynamically found and not hard-coded. That way I supply a plugin to
someone and they just add the container. The container will then find the
correct class folder in the system to use.
Sorry Rich, we cannot allow this scenario since we would not be notified of
changes in this external folder. Note that for external jar files, we keep the
timestamp of the jar and thus we know when the jar file changes. But this would
not work for external folders as the file systems usually don't change the
timestamp of a folder if the change is inside this folder.

You should first create a linked folder to the external folder, then return the
path to this linked in your container.

OK to close ?
It's not satisfactory, but if you can't do it, you can't do it. :-( The problem
is that this guy is dynamic in my case, in which case the linkage can change, so
how would the container handle this? It may even go away. So I don't see how I
can handle link/change/remove in a dynamic way from the container.
I just ran into this exact case. I have a container which produces both jar and 
class dir entries. It's not really practical to create linked folders since 
these entries and folders come and go frequently. It seems to me that if JDT 
requires change notification and that's only available through linked folders, 
then JDT should auto-setup a linked folder in this situation. Making the 
container be responsible for this exposes an implementation detail that should 
stay hidden (in my opinion).
I agree that users should not be made aware of linked folders, but I don't quite
see how the container provider cannot be held responsible for doing it. It is
the one knowing which artifacts are required on the classpath, and that can
figure what is no longer necessary. 

We could imagine a way for classpath entries to be created and requesting some
linking under the cover, but this would need to be something brand new. Also, it
wouldn't be obvious as to deciding when a linked folder is no longer necessary
and should be discarded. Also, a linked classfolder entry would need to provide
both a link name path ('lib/') and an actual OS location corresponding to it
('C:/myLibs/blah/classes/'). But again, the classpath initializer should be able
to drive the linked folder creation directly.
I don't think the writer of classpath container should need to be aware of this 
limitation. It is inconsistent and confusing that it's perfectly ok to add a 
jar from an external location, but it's not ok to add a class folder. The 
explanation given shows this to be an implementation limitation. As such, 
any "fix" for this problem should be taken care of by the implementation (JDT). 
It's clear that there is already logic inside the JDT that detects this 
condition. It seems pretty straight-forward to add auto-linking at that point 
instead of requiring every container writer to duplicate this code. 

As an additional point, when the container is expanded in the package explorer, 
the paths are shown. It would be confusing for the user to see the actual 
physical location for the jars and some random linked location for the classes 
dirs, while they may be physically co-located. If it's the JDT that's tracking 
this auto-linking, it could easily display the physical location for auto-
linked folders.

As far as implementation is concerned... I don't think any extra info is needed 
in the classpath entry. The container api already provides for a way to tell 
the JDT what should be on the classpath and the JDT can detect when an external 
folder is given. If an external folder is not included in the returned list 
when the container is refereshed, then it's no longer needed. Note that the 
choice of the actual link target is not important. In the ideal world, the user 
is never made aware of it. The only thing that's needed for tracking this is a 
map of auto-linked paths to their auto-generated target names. When classpath 
is refreshed, the extraneous entries can be detected and links removed.
Deferring post 3.1
As of now 'LATER' and 'REMIND' resolutions are no longer supported.
Please reopen this bug if it is still valid for you.</WithOutStack>
  </Bug>
  <Bug>
    <BugId amount="81403" />
    <CreationDate amount="2004-12-16 10:05:00 -0500" />
    <DupId amount="" />
    <classification amount="Tools" />
    <Product amount="CDT" />
    <component amount="cdt-core" />
    <Version amount="3.0" />
    <rep_platform amount="All" />
    <op_sys amount="All" />
    <priority amount="P3" />
    <bug_severity amount="enhancement" />
    <Summery>Completion improvement.</Summery>
    <Patches amount="0" />
    <Stacktraces amount="0" />
    <SourceCodeRegions amount="1">
      <source_code type="functioncall">
        <location start="2594" end="2635" />
        <code>ContentAssit.enablePrefixCompletion();</code>
      </source_code>
    </SourceCodeRegions>
    <Enumerations amount="3">
      <Enumeration lines="8">
        <Lines>
          <Line>(a) there is a bug, if I have</Line>
          <Line>foo_bar_full()</Line>
          <Line>foo_bar_complete()</Line>
          <Line>foo_bar_none()</Line>
          <Line>as functions</Line>
          <Line>after doing "foo_bar", go back and</Line>
          <Line>try to with "foo" only no proposals are presented</Line>
          <Line>(b) potentialof IndexOutOfbound exception.</Line>
        </Lines>
      </Enumeration>
      <Enumeration lines="10">
        <Lines>
          <Line>(1) you have to do completion twice  8-(</Line>
          <Line>So if we look at the example</Line>
          <Line />
          <Line>AP_EX</Line>
          <Line />
          <Line>the completion will complete to AP_EXIT but I'll have to hit</Line>
          <Line>CTRL_Space again ... to get the lists.</Line>
          <Line />
          <Line>(2) Sometimes we use completion, just to see the possibilities</Line>
          <Line>now it will be necessary to erase the partial hits.</Line>
        </Lines>
      </Enumeration>
      <Enumeration lines="4">
        <Lines>
          <Line>- comply with Eclipse-3.1 UI</Line>
          <Line>- Improve performance(i.e. the Code Assist page does not have</Line>
          <Line>to be instanciate all the time if you did not choose it)</Line>
          <Line>- better UI (??)</Line>
        </Lines>
      </Enumeration>
    </Enumerations>
    <bug_status amount="RESOLVED" />
    <resolution amount="FIXED" />
    <WithStack>Improvement for completion. Adds fast completion feature which complete
proposals parts, if all of them are the same.
Created attachment 16695
Adds the improvement.
Please explain what a "fast completion" is?
If prefix is:
APP_EX
and proposals are:
APP_EXIT_FULL
APP_EXIT_NONE
APP_EXIT_ONE_LEVEL

it completes:
APP_EXIT
without proposals popup.
&gt; it completes:
&gt; APP_EXIT
&gt; without proposals popup.

And with which one ? it seems that
APP_EXIT_FULL
APP_EXIT_NONE
APP_EXIT_ONE_LEVEL

are all valid proposals for APP_EXIT
I did not look at the patch yet, but is "fast" a misnomer for
best guess proposal ..  And you guess is base on what algo.



Allright, I took the time to loo at this in more detail.
(1) you have to do completion twice  8-(
  So if we look at the example

AP_EX

the completion will complete to AP_EXIT but I'll have to hit
CTRL_Space again ... to get the lists.

(2) Sometimes we use completion, just to see the possibilities
now it will be necessary to erase the partial hits.

(2) is not that bad but (1) is an issue.

Also note:
(a) there is a bug, if I have
      foo_bar_full()
      foo_bar_complete()
      foo_bar_none()
    as functions
   after doing "foo_bar", go back and
   try to with "foo" only no proposals are presented
(b) potentialof IndexOutOfbound exception.

Because of those reasons I'm not too inclined to apply this patch
What do you think ?

Looked at the JDT UI, .. guess what they have a preference
to take care of problem (1) (detail in the previous post)
See JDT Preference
Java --&gt; Editor --&gt; Code Assist --&gt;"Insert common prefix automatically"

So that take care of my objections.

I will not apply the patch yet because there some buggy behaviours
that it introduce...
So do you want to take a second pass at it ?

It works as I would like to work:). It completes to the nearest separator (in
your case is _ after foo so there is no completition popup, no array out of
bounds), but I've looked into JDT behaviour and I rewrite it to work in the same
way.
Created attachment 16722
Rewritten solution

Look at this one, it should work similiar to JDT. When there is more than one
proposal, it retrives their's common part (from the beggining) and creates the
proposal.
&gt; Look at this one, it should work similiar to JDT. When there is more than one
&gt; proposal, it retrives their's common part (from the beggining) and creates 
the
proposal.

sigh .. I did and I was applying the patch and doing some changes to the
Code Assist preference page ... when I discovered it was already
supportted within the JFace ContentAssist
Take a look at Jface
   ContentAssit.enablePrefixCompletion();
So basically this is done for us.
I hope this does not stop you from sending improvements in the UI 8-(


Should this bug be closed then?
&gt; Should this bug be closed then?

Not yet, since we do not have any preference page to toggle this on/off.
See for similarity:
Preferences -&gt; Java -&gt; Editor -&gt; Code Assist -&gt; "Insert common prefixes .."

I would like to "move out" the Code Assist Tab into is own preference
page.  There are a few reasons to this:
- comply with Eclipse-3.1 UI
- Improve performance(i.e. the Code Assist page does not have
  to be instanciate all the time if you did not choose it)
- better UI (??)

I'm looking at doing this currently, but been preempted ... sigh.

I have implemented removing duplicated completions (see attachment).
Created attachment 17195
It removes repeated completions.
Created attachment 17233
Replacement ArrayList with Vector

Previous patch puts all completions into ArrayList (as it has been before),
I've changed it into Vector because all repeating completions has been removed
from ArrayList (this list searches all elements and removes all which match the
pattern), and from Vector are not. I've not found any annoying loose of time
due to synchronization usage by Vector.
Ha yes !!
It is a good thing you remind me of this.
The real problem is that we(I) did not have time to
make this visible so a user can turn this on/off via a preference page.
In Eclipse-3.1 we can turn on this behaviour on the CompletionProcessor.

The delay is that I'm bug down with CDT-2.1.1 issues and to get
the UI right, we would need to move the "Code Assist" tab in its own
preference page ... we'll get to it.
Patch applied from PR 82964.
I will keep the PR open to deal with the UI issue.

Still make sure is the patch is ok after update from the repository.


Patch applied from PR 82964 - great, thanks.
&gt; I will keep the PR open to deal with the UI issue.

Fixed.
The Code Assist settings been move out of the CEditorPreferencPage.
And the new CodeAssist Preference Page contains a new checkbox:

"insert common prefixes automatically"

It is on by default.  The original patch was not necessary, the work
was already implemented in JFace.

Please turn to Verify, when you have chance to check things out.</WithStack>
    <WithOutStack>Improvement for completion. Adds fast completion feature which complete
proposals parts, if all of them are the same.
Created attachment 16695
Adds the improvement.
Please explain what a "fast completion" is?
If prefix is:
APP_EX
and proposals are:
APP_EXIT_FULL
APP_EXIT_NONE
APP_EXIT_ONE_LEVEL

it completes:
APP_EXIT
without proposals popup.
&gt; it completes:
&gt; APP_EXIT
&gt; without proposals popup.

And with which one ? it seems that
APP_EXIT_FULL
APP_EXIT_NONE
APP_EXIT_ONE_LEVEL

are all valid proposals for APP_EXIT
I did not look at the patch yet, but is "fast" a misnomer for
best guess proposal ..  And you guess is base on what algo.



Allright, I took the time to loo at this in more detail.
(1) you have to do completion twice  8-(
  So if we look at the example

AP_EX

the completion will complete to AP_EXIT but I'll have to hit
CTRL_Space again ... to get the lists.

(2) Sometimes we use completion, just to see the possibilities
now it will be necessary to erase the partial hits.

(2) is not that bad but (1) is an issue.

Also note:
(a) there is a bug, if I have
      foo_bar_full()
      foo_bar_complete()
      foo_bar_none()
    as functions
   after doing "foo_bar", go back and
   try to with "foo" only no proposals are presented
(b) potentialof IndexOutOfbound exception.

Because of those reasons I'm not too inclined to apply this patch
What do you think ?

Looked at the JDT UI, .. guess what they have a preference
to take care of problem (1) (detail in the previous post)
See JDT Preference
Java --&gt; Editor --&gt; Code Assist --&gt;"Insert common prefix automatically"

So that take care of my objections.

I will not apply the patch yet because there some buggy behaviours
that it introduce...
So do you want to take a second pass at it ?

It works as I would like to work:). It completes to the nearest separator (in
your case is _ after foo so there is no completition popup, no array out of
bounds), but I've looked into JDT behaviour and I rewrite it to work in the same
way.
Created attachment 16722
Rewritten solution

Look at this one, it should work similiar to JDT. When there is more than one
proposal, it retrives their's common part (from the beggining) and creates the
proposal.
&gt; Look at this one, it should work similiar to JDT. When there is more than one
&gt; proposal, it retrives their's common part (from the beggining) and creates 
the
proposal.

sigh .. I did and I was applying the patch and doing some changes to the
Code Assist preference page ... when I discovered it was already
supportted within the JFace ContentAssist
Take a look at Jface
   ContentAssit.enablePrefixCompletion();
So basically this is done for us.
I hope this does not stop you from sending improvements in the UI 8-(


Should this bug be closed then?
&gt; Should this bug be closed then?

Not yet, since we do not have any preference page to toggle this on/off.
See for similarity:
Preferences -&gt; Java -&gt; Editor -&gt; Code Assist -&gt; "Insert common prefixes .."

I would like to "move out" the Code Assist Tab into is own preference
page.  There are a few reasons to this:
- comply with Eclipse-3.1 UI
- Improve performance(i.e. the Code Assist page does not have
  to be instanciate all the time if you did not choose it)
- better UI (??)

I'm looking at doing this currently, but been preempted ... sigh.

I have implemented removing duplicated completions (see attachment).
Created attachment 17195
It removes repeated completions.
Created attachment 17233
Replacement ArrayList with Vector

Previous patch puts all completions into ArrayList (as it has been before),
I've changed it into Vector because all repeating completions has been removed
from ArrayList (this list searches all elements and removes all which match the
pattern), and from Vector are not. I've not found any annoying loose of time
due to synchronization usage by Vector.
Ha yes !!
It is a good thing you remind me of this.
The real problem is that we(I) did not have time to
make this visible so a user can turn this on/off via a preference page.
In Eclipse-3.1 we can turn on this behaviour on the CompletionProcessor.

The delay is that I'm bug down with CDT-2.1.1 issues and to get
the UI right, we would need to move the "Code Assist" tab in its own
preference page ... we'll get to it.
Patch applied from PR 82964.
I will keep the PR open to deal with the UI issue.

Still make sure is the patch is ok after update from the repository.


Patch applied from PR 82964 - great, thanks.
&gt; I will keep the PR open to deal with the UI issue.

Fixed.
The Code Assist settings been move out of the CEditorPreferencPage.
And the new CodeAssist Preference Page contains a new checkbox:

"insert common prefixes automatically"

It is on by default.  The original patch was not necessary, the work
was already implemented in JFace.

Please turn to Verify, when you have chance to check things out.</WithOutStack>
  </Bug>
  <Bug>
    <BugId amount="81404" />
    <CreationDate amount="2004-12-16 10:05:00 -0500" />
    <DupId amount="" />
    <classification amount="WebTools" />
    <Product amount="WTP Source Editing" />
    <component amount="jst.jsp" />
    <Version amount="unspecified" />
    <rep_platform amount="PC" />
    <op_sys amount="Windows XP" />
    <priority amount="P3" />
    <bug_severity amount="normal" />
    <Summery>[tests] JSP Cleanup tests failed on Linux due to incorrect test</Summery>
    <Patches amount="0" />
    <Stacktraces amount="0" />
    <SourceCodeRegions amount="0" />
    <Enumerations amount="1">
      <Enumeration lines="3">
        <Lines>
          <Line>- testCleanupJSPEmptyTag1</Line>
          <Line>- testCleanupJSPEmptyTag2</Line>
          <Line>Since test only problem, we'll (probably) wait until after the release.</Line>
        </Lines>
      </Enumeration>
    </Enumerations>
    <bug_status amount="RESOLVED" />
    <resolution amount="FIXED" />
    <WithStack>2 JSP Cleanup tests failed on Linux because the expected results were create 
on Windows where the default line delimiter is \r\n, but new lines added 
during Cleanup on Linux used \n. The results after Cleanup do not match the 
expected results.

The following 2 tests have been commented out in 
org.eclipse.jst.jsp.core.tests.CleanupTester until we think of a platform 
independing way of testing Cleanup/Format:
- testCleanupJSPEmptyTag1
- testCleanupJSPEmptyTag2
Since test only problem, we'll (probably) wait until after the release. 

There are indeed still commented out.  There are examples in other JSP tests of replacing all of the \r\n with \n during the test run so that tests run consistently on Windows and Linux.  Should be a relatively quick fix worth doing.
Changes released.</WithStack>
    <WithOutStack>2 JSP Cleanup tests failed on Linux because the expected results were create 
on Windows where the default line delimiter is \r\n, but new lines added 
during Cleanup on Linux used \n. The results after Cleanup do not match the 
expected results.

The following 2 tests have been commented out in 
org.eclipse.jst.jsp.core.tests.CleanupTester until we think of a platform 
independing way of testing Cleanup/Format:
- testCleanupJSPEmptyTag1
- testCleanupJSPEmptyTag2
Since test only problem, we'll (probably) wait until after the release. 

There are indeed still commented out.  There are examples in other JSP tests of replacing all of the \r\n with \n during the test run so that tests run consistently on Windows and Linux.  Should be a relatively quick fix worth doing.
Changes released.</WithOutStack>
  </Bug>
  <Bug>
    <BugId amount="81405" />
    <CreationDate amount="2004-12-16 10:13:00 -0500" />
    <DupId amount="10628" />
    <classification amount="Eclipse" />
    <Product amount="Platform" />
    <component amount="Resources" />
    <Version amount="3.1" />
    <rep_platform amount="Sun" />
    <op_sys amount="Solaris-GTK" />
    <priority amount="P3" />
    <bug_severity amount="normal" />
    <Summery>Performance improvement is required for deleting large number of files</Summery>
    <Patches amount="0" />
    <Stacktraces amount="0" />
    <SourceCodeRegions amount="0" />
    <Enumerations amount="1">
      <Enumeration lines="5">
        <Lines>
          <Line>- Using the Plugin Development perspective. Create a Simple project and Import</Line>
          <Line>5000 (size approx. .2k) text files.</Line>
          <Line>- Perform a File Search on the text "DummyFile" on files with extension ".txt".</Line>
          <Line>There are 2 occurrences of "DummyFile" on each file.</Line>
          <Line>- From Package Explorer view, select 4000 ".txt" files and delete them.</Line>
        </Lines>
      </Enumeration>
    </Enumerations>
    <bug_status amount="RESOLVED" />
    <resolution amount="DUPLICATE" />
    <WithStack>I did a performance test on both Solaris 9 and Win2000 platform using the 3.0.2 
build (M20041215). The procedure was as follows:
- Using the Plugin Development perspective. Create a Simple project and Import 
5000 (size approx. .2k) text files.
- Perform a File Search on the text "DummyFile" on files with extension ".txt". 
There are 2 occurrences of "DummyFile" on each file.
- From Package Explorer view, select 4000 ".txt" files and delete them.

The results are as follows:
Solaris 9 (dual cpu 1GHz each, 2G memory): 
Time to delete all 4000 files: 1 hr. 44 mins. (JVM 1.4.2_06-b03)

Win2000 (1800MHz, 1G RAM)
Time to delete all 4000 files: 1 hr. 50 mins. (JVM 1.4.2_04-b05)

I tried the test with differet JVM on Solaris and the results are almost the 
same. Looks like the file deletion is independent of what JVM I am using. There 
was a similar bug report (32146) raised for Eclipse 2.1, but it was closed due 
to the fact that it was not planned for 2.1. Unfortunately this defect was 
never reopened again.


*** This bug has been marked as a duplicate of 10628 ***</WithStack>
    <WithOutStack>I did a performance test on both Solaris 9 and Win2000 platform using the 3.0.2 
build (M20041215). The procedure was as follows:
- Using the Plugin Development perspective. Create a Simple project and Import 
5000 (size approx. .2k) text files.
- Perform a File Search on the text "DummyFile" on files with extension ".txt". 
There are 2 occurrences of "DummyFile" on each file.
- From Package Explorer view, select 4000 ".txt" files and delete them.

The results are as follows:
Solaris 9 (dual cpu 1GHz each, 2G memory): 
Time to delete all 4000 files: 1 hr. 44 mins. (JVM 1.4.2_06-b03)

Win2000 (1800MHz, 1G RAM)
Time to delete all 4000 files: 1 hr. 50 mins. (JVM 1.4.2_04-b05)

I tried the test with differet JVM on Solaris and the results are almost the 
same. Looks like the file deletion is independent of what JVM I am using. There 
was a similar bug report (32146) raised for Eclipse 2.1, but it was closed due 
to the fact that it was not planned for 2.1. Unfortunately this defect was 
never reopened again.


*** This bug has been marked as a duplicate of 10628 ***</WithOutStack>
  </Bug>
  <Bug>
    <BugId amount="81406" />
    <CreationDate amount="2004-12-16 10:16:00 -0500" />
    <DupId amount="" />
    <classification amount="Eclipse Foundation" />
    <Product amount="z_Archived" />
    <component amount="Hyades" />
    <Version amount="unspecified" />
    <rep_platform amount="PC" />
    <op_sys amount="All" />
    <priority amount="P3" />
    <bug_severity amount="normal" />
    <Summery>(Plat) CBEnative: Buffer overrun can occur in serialization service.</Summery>
    <Patches amount="0" />
    <Stacktraces amount="0" />
    <SourceCodeRegions amount="0" />
    <Enumerations amount="0" />
    <bug_status amount="CLOSED" />
    <resolution amount="FIXED" />
    <WithStack>The user of the CBE native implementation is required to pass a buffer when 
serializing a CBE. The CBE native serialization will serialize the CBE into 
that buffer and is expected to check as it goes to determine if the buffer will 
be overrun.  If imminent overrun is detected, the serialization code must 
abandon the serialization and return with an indicator. That checking is very 
incomplete at present and needs to be completed to properly protect against 
SEGV's and other failures.

This overrun has not been encountered in practice yet (ie: not in the RAC 
logging code that uses CBE native support) and that's why the severity is not 
higher. It was discovered in a code review while fixing another problem. We now 
have a test case that reliably produces the overrun. The fix hits many points 
but only in one part and the necessary change can be made safe and 
simple/mechanical if care is exercised in how the overrun is fixed.
Assignment: Bob Duncan
Assignment:  Paul Slauenwhite
Created attachment 18663
Partial fix.

The zip file includes the original and modified EventFormatter.c as well as a
fragment of utility functions safeStrCat that probably needs to be incorporated
into XmlUtility.c or maybe directly into EventFormatter.c itself.
Now that we have a "3.3" Version in bugzilla, updating bugzillas targeted to 3.3
or a 3.3 iteration so that their Version matches their Target. "future",
"unspecified", "4.0", and "4.1" Versions will not be updated.
Sizing: 2 PW
Created attachment 18926
EventFormatter.c
Comment on attachment 18926
EventFormatter.c

Funcitons safeStrCat/2/3 and saftAttrCat were incorporated to EventFormatter.c
file.
EventFormatter.c checked-in to Hyades 3.3 (HEAD) and TPTP 4.0 (HEAD) on April 
28, 2005.

As of TPTP 4.6.0, TPTP is in maintenance mode and focusing on improving quality by resolving relevant enhancements/defects and increasing test coverage through test creation, automation, Build Verification Tests (BVTs), and expanded run-time execution. As part of the TPTP Bugzilla housecleaning process (see http://wiki.eclipse.org/Bugzilla_Housecleaning_Processes), this enhancement/defect is verified/closed by the Project Lead since this enhancement/defect has been resolved and unverified for more than 1 year and considered to be fixed. If this enhancement/defect is still unresolved and reproducible in the latest TPTP release (http://www.eclipse.org/tptp/home/downloads/), please re-open.</WithStack>
    <WithOutStack>The user of the CBE native implementation is required to pass a buffer when 
serializing a CBE. The CBE native serialization will serialize the CBE into 
that buffer and is expected to check as it goes to determine if the buffer will 
be overrun.  If imminent overrun is detected, the serialization code must 
abandon the serialization and return with an indicator. That checking is very 
incomplete at present and needs to be completed to properly protect against 
SEGV's and other failures.

This overrun has not been encountered in practice yet (ie: not in the RAC 
logging code that uses CBE native support) and that's why the severity is not 
higher. It was discovered in a code review while fixing another problem. We now 
have a test case that reliably produces the overrun. The fix hits many points 
but only in one part and the necessary change can be made safe and 
simple/mechanical if care is exercised in how the overrun is fixed.
Assignment: Bob Duncan
Assignment:  Paul Slauenwhite
Created attachment 18663
Partial fix.

The zip file includes the original and modified EventFormatter.c as well as a
fragment of utility functions safeStrCat that probably needs to be incorporated
into XmlUtility.c or maybe directly into EventFormatter.c itself.
Now that we have a "3.3" Version in bugzilla, updating bugzillas targeted to 3.3
or a 3.3 iteration so that their Version matches their Target. "future",
"unspecified", "4.0", and "4.1" Versions will not be updated.
Sizing: 2 PW
Created attachment 18926
EventFormatter.c
Comment on attachment 18926
EventFormatter.c

Funcitons safeStrCat/2/3 and saftAttrCat were incorporated to EventFormatter.c
file.
EventFormatter.c checked-in to Hyades 3.3 (HEAD) and TPTP 4.0 (HEAD) on April 
28, 2005.

As of TPTP 4.6.0, TPTP is in maintenance mode and focusing on improving quality by resolving relevant enhancements/defects and increasing test coverage through test creation, automation, Build Verification Tests (BVTs), and expanded run-time execution. As part of the TPTP Bugzilla housecleaning process (see http://wiki.eclipse.org/Bugzilla_Housecleaning_Processes), this enhancement/defect is verified/closed by the Project Lead since this enhancement/defect has been resolved and unverified for more than 1 year and considered to be fixed. If this enhancement/defect is still unresolved and reproducible in the latest TPTP release (http://www.eclipse.org/tptp/home/downloads/), please re-open.</WithOutStack>
  </Bug>
  <Bug>
    <BugId amount="81407" />
    <CreationDate amount="2004-12-16 10:19:00 -0500" />
    <DupId amount="" />
    <classification amount="Eclipse" />
    <Product amount="JDT" />
    <component amount="Text" />
    <Version amount="3.1" />
    <rep_platform amount="PC" />
    <op_sys amount="All" />
    <priority amount="P3" />
    <bug_severity amount="enhancement" />
    <Summery>[5.0][navigation] Mark occurrences could highlight statically imported fields and methods</Summery>
    <Patches amount="0" />
    <Stacktraces amount="0" />
    <SourceCodeRegions amount="0" />
    <Enumerations amount="0" />
    <bug_status amount="RESOLVED" />
    <resolution amount="FIXED" />
    <WithStack>200412160010:

When clicking on a static import for a field or method, all occurrences of 
that member should be highlighted. Same also for static star imports.
&gt; Same also for static star imports.
This won't happen unless we touch bug 75876. Added comment there.

Currently works for field imports and will work for method imports once bug
80945 has been fixed.
actually not a dup
Fixed in HEAD.</WithStack>
    <WithOutStack>200412160010:

When clicking on a static import for a field or method, all occurrences of 
that member should be highlighted. Same also for static star imports.
&gt; Same also for static star imports.
This won't happen unless we touch bug 75876. Added comment there.

Currently works for field imports and will work for method imports once bug
80945 has been fixed.
actually not a dup
Fixed in HEAD.</WithOutStack>
  </Bug>
  <Bug>
    <BugId amount="81408" />
    <CreationDate amount="2004-12-16 10:23:00 -0500" />
    <DupId amount="" />
    <classification amount="Eclipse" />
    <Product amount="Platform" />
    <component amount="Ant" />
    <Version amount="3.1" />
    <rep_platform amount="PC" />
    <op_sys amount="Windows XP" />
    <priority amount="P3" />
    <bug_severity amount="normal" />
    <Summery>Remove quick diff actions</Summery>
    <Patches amount="0" />
    <Stacktraces amount="0" />
    <SourceCodeRegions amount="0" />
    <Enumerations amount="0" />
    <bug_status amount="VERIFIED" />
    <resolution amount="FIXED" />
    <WithStack>From bug 80401:

- AbstractDecoratedTextEditor now includes a 'Toggle Quick Diff' action in its
set of pre-installed actions. There is no need any longer for you to contribute
such an action (remember these PRs on how to get it working in the ant 
editor?).
Fixed in the plugin.xml of org.eclipse.ant.ui

Also changed the location of the folding menu to be more consistent with the 
Java editor ruler context menu.
Please verify Jared.
Verified.</WithStack>
    <WithOutStack>From bug 80401:

- AbstractDecoratedTextEditor now includes a 'Toggle Quick Diff' action in its
set of pre-installed actions. There is no need any longer for you to contribute
such an action (remember these PRs on how to get it working in the ant 
editor?).
Fixed in the plugin.xml of org.eclipse.ant.ui

Also changed the location of the folding menu to be more consistent with the 
Java editor ruler context menu.
Please verify Jared.
Verified.</WithOutStack>
  </Bug>
  <Bug>
    <BugId amount="81409" />
    <CreationDate amount="2004-12-16 10:24:00 -0500" />
    <DupId amount="" />
    <classification amount="Eclipse" />
    <Product amount="Platform" />
    <component amount="Ant" />
    <Version amount="3.1" />
    <rep_platform amount="PC" />
    <op_sys amount="Windows XP" />
    <priority amount="P3" />
    <bug_severity amount="normal" />
    <Summery>Set relevant preference pages for Ant editor</Summery>
    <Patches amount="0" />
    <Stacktraces amount="0" />
    <SourceCodeRegions amount="0" />
    <Enumerations amount="0" />
    <bug_status amount="VERIFIED" />
    <resolution amount="FIXED" />
    <WithStack>From bug 80401: 
AbstractDecoratedTextEditor shows a 'Preferences...' action in both its context
and ruler context menus. Once the preference page supports filtering, only a
subset of 'interesting' pages will be displayed in the such opened preference
dialog. You can change the set of pages by extending
AbstractDecoratedTextEditor.collectContextMenuPreferencePages.
added in AntEditor
Please verify Luc.
Verified.
Please update the build notes, Darin S.
Thanks. Build notes updated.</WithStack>
    <WithOutStack>From bug 80401: 
AbstractDecoratedTextEditor shows a 'Preferences...' action in both its context
and ruler context menus. Once the preference page supports filtering, only a
subset of 'interesting' pages will be displayed in the such opened preference
dialog. You can change the set of pages by extending
AbstractDecoratedTextEditor.collectContextMenuPreferencePages.
added in AntEditor
Please verify Luc.
Verified.
Please update the build notes, Darin S.
Thanks. Build notes updated.</WithOutStack>
  </Bug>
  <Bug>
    <BugId amount="81410" />
    <CreationDate amount="2004-12-16 10:25:00 -0500" />
    <DupId amount="" />
    <classification amount="Eclipse" />
    <Product amount="Platform" />
    <component amount="Resources" />
    <Version amount="3.0.1" />
    <rep_platform amount="PC" />
    <op_sys amount="Windows NT" />
    <priority amount="P3" />
    <bug_severity amount="blocker" />
    <Summery>Creating a new project doesn't allow for an external location</Summery>
    <Patches amount="0" />
    <Stacktraces amount="0" />
    <SourceCodeRegions amount="0" />
    <Enumerations amount="0" />
    <bug_status amount="RESOLVED" />
    <resolution amount="WONTFIX" />
    <WithStack>I just performed a new installation and wanted to create my first project.
From the menu I choose new Project/Java Project
I clicked 'Project at external location' 
(which is an existing folder containing sources, classes, etc...)

As soon as I start typing the project name, 
an error message appears at the top of this dialog stating :
"Cannot create project content in workspace."
I closed all other applications and logged out.
This didn't help.
Apparently, it does work for for some other locations, within this same workspace.
There's no other/further explanation on what exactly is blocking the creation of
the project. (can I see this somewhere ?)

A sidenote :
My workspace was set at d:\development\java\cfmu.
Creating a project in a folder at a higher level also blocks and gives : '
D:/development/java and D:/development/java/cfmu overlap.'
I agree that it wouldn't be a good thing to do but is it necessary to block ?
Is their really a need for a workspace location when an external location is
defined ?

Shouldn't the logic rather be :
New Project
     ---&gt; In workspace
     ---&gt; At external location

?

I'm using WinNT4, My Eclipse =
Version: 3.0.1
Build id: 200409161125
(= official release version)
Created attachment 16696
Screenshot of blocking 'Project creation dialog' with error message
In the wizard, you have selected the "external location" option and then
proceeded to select a location inside the workspace. If you want the project to
be in the workspace, then don't select the "external location" option.

We do not allow multiple projects to share the same loation, and your selection
of a directory below the workspace location makes this possible.  If a project
is created later in the default location with name "ATFCM_REFACTORING" then the
locations of the two projects would collide.

We don't allow a project location that is a parent of the workspace, because
that project would then subsume all the private workspace metadata (in the
.metadata directory), making it appear in the workspace.

These are restrictions that we do not plan on changing.</WithStack>
    <WithOutStack>I just performed a new installation and wanted to create my first project.
From the menu I choose new Project/Java Project
I clicked 'Project at external location' 
(which is an existing folder containing sources, classes, etc...)

As soon as I start typing the project name, 
an error message appears at the top of this dialog stating :
"Cannot create project content in workspace."
I closed all other applications and logged out.
This didn't help.
Apparently, it does work for for some other locations, within this same workspace.
There's no other/further explanation on what exactly is blocking the creation of
the project. (can I see this somewhere ?)

A sidenote :
My workspace was set at d:\development\java\cfmu.
Creating a project in a folder at a higher level also blocks and gives : '
D:/development/java and D:/development/java/cfmu overlap.'
I agree that it wouldn't be a good thing to do but is it necessary to block ?
Is their really a need for a workspace location when an external location is
defined ?

Shouldn't the logic rather be :
New Project
     ---&gt; In workspace
     ---&gt; At external location

?

I'm using WinNT4, My Eclipse =
Version: 3.0.1
Build id: 200409161125
(= official release version)
Created attachment 16696
Screenshot of blocking 'Project creation dialog' with error message
In the wizard, you have selected the "external location" option and then
proceeded to select a location inside the workspace. If you want the project to
be in the workspace, then don't select the "external location" option.

We do not allow multiple projects to share the same loation, and your selection
of a directory below the workspace location makes this possible.  If a project
is created later in the default location with name "ATFCM_REFACTORING" then the
locations of the two projects would collide.

We don't allow a project location that is a parent of the workspace, because
that project would then subsume all the private workspace metadata (in the
.metadata directory), making it appear in the workspace.

These are restrictions that we do not plan on changing.</WithOutStack>
  </Bug>
  <Bug>
    <BugId amount="81411" />
    <CreationDate amount="2004-12-16 10:31:00 -0500" />
    <DupId amount="" />
    <classification amount="Eclipse" />
    <Product amount="JDT" />
    <component amount="UI" />
    <Version amount="3.0" />
    <rep_platform amount="PC" />
    <op_sys amount="Windows 2000" />
    <priority amount="P3" />
    <bug_severity amount="normal" />
    <Summery>[dnd] Java outline's handling of drop cancel should not cause selection</Summery>
    <Patches amount="0" />
    <Stacktraces amount="0" />
    <SourceCodeRegions amount="0" />
    <Enumerations amount="1">
      <Enumeration lines="4">
        <Lines>
          <Line>- in the Java outline, drag a method to a blank spot in the outline view, or</Line>
          <Line>some other view that doesn't accept the drop</Line>
          <Line>- on release, the selection change event occurs and the editor scrolls to show</Line>
          <Line>the selected method</Line>
        </Lines>
      </Enumeration>
    </Enumerations>
    <bug_status amount="RESOLVED" />
    <resolution amount="WORKSFORME" />
    <WithStack>build I20041214-2000

- in the Java outline, drag a method to a blank spot in the outline view, or
some other view that doesn't accept the drop
- on release, the selection change event occurs and the editor scrolls to show
the selected method

This can be pretty confusing.  See bug 81051 for the scenario.

Normally, a canceled drag should revert the selection to what it was before.
E.g. try dragging a folder from the left hand pane in Windows Explorer to below
the Start button.

Alternatively, have the selection take effect immediately, rather than after the
drag, or perhaps when the drag starts (I know we're using post-selection here
for a reason).

See also the MS guidelines under "Differentiating Transfer and Selection when
Dragging" at
http://msdn.microsoft.com/library/en-us/dnwue/html/ch06f.asp
IMHO, the selection cancelling thing is a bug, but the selection timing thing is
correct.

If you select at the start of the drag then you can't drag to any location that
depends on the old selection. Imagine an editor that allowed items from the
outline view to be dropped on it. If we selected the item at the start of the
drag, the editor would immediately select the object being dragged and you would
no longer be able to see the object you're trying to drag onto. (This pattern
previously prevented users from dragging files from the resource navigator to
the active editor when link with editor was enabled, and I suspect it is the
reason why a post-selection-change listener is being used here).

It might be more useful to cancel the selection change entirely after a drag
rather than to force the selection change to occur immediately.

This works for me in I20070717-1020: The selection change event is send on drag. I guess this is a platform thing and we can do nothing about it. Do you have an actual scenario where this is a problem?</WithStack>
    <WithOutStack>build I20041214-2000

- in the Java outline, drag a method to a blank spot in the outline view, or
some other view that doesn't accept the drop
- on release, the selection change event occurs and the editor scrolls to show
the selected method

This can be pretty confusing.  See bug 81051 for the scenario.

Normally, a canceled drag should revert the selection to what it was before.
E.g. try dragging a folder from the left hand pane in Windows Explorer to below
the Start button.

Alternatively, have the selection take effect immediately, rather than after the
drag, or perhaps when the drag starts (I know we're using post-selection here
for a reason).

See also the MS guidelines under "Differentiating Transfer and Selection when
Dragging" at
http://msdn.microsoft.com/library/en-us/dnwue/html/ch06f.asp
IMHO, the selection cancelling thing is a bug, but the selection timing thing is
correct.

If you select at the start of the drag then you can't drag to any location that
depends on the old selection. Imagine an editor that allowed items from the
outline view to be dropped on it. If we selected the item at the start of the
drag, the editor would immediately select the object being dragged and you would
no longer be able to see the object you're trying to drag onto. (This pattern
previously prevented users from dragging files from the resource navigator to
the active editor when link with editor was enabled, and I suspect it is the
reason why a post-selection-change listener is being used here).

It might be more useful to cancel the selection change entirely after a drag
rather than to force the selection change to occur immediately.

This works for me in I20070717-1020: The selection change event is send on drag. I guess this is a platform thing and we can do nothing about it. Do you have an actual scenario where this is a problem?</WithOutStack>
  </Bug>
  <Bug>
    <BugId amount="81412" />
    <CreationDate amount="2004-12-16 10:33:00 -0500" />
    <DupId amount="" />
    <classification amount="Eclipse" />
    <Product amount="JDT" />
    <component amount="Core" />
    <Version amount="3.1" />
    <rep_platform amount="PC" />
    <op_sys amount="Windows XP" />
    <priority amount="P3" />
    <bug_severity amount="normal" />
    <Summery>[1.5][compiler] Parameterized generic method binding well computed but not stored in one specific case</Summery>
    <Patches amount="0" />
    <Stacktraces amount="0" />
    <SourceCodeRegions amount="3">
      <source_code type="class">
        <location start="78" end="165" />
        <code>public class X {
  public &lt;U&gt; X(Object o) {
  }
  void bar() {
    new X(null){};
  }
}</code>
      </source_code>
      <source_code type="functiondef">
        <location start="219" end="263" />
        <code>QualifiedAllocationExpression (new X(null){}</code>
      </source_code>
      <source_code type="singlecomment">
        <location start="619" end="674" />
        <code>//============BINDING UPDATE==========================</code>
      </source_code>
    </SourceCodeRegions>
    <Enumerations amount="0" />
    <bug_status amount="RESOLVED" />
    <resolution amount="WONTFIX" />
    <WithStack>After bug 79673 verification, open this bug because with following test case:
public class X {
  public &lt;U&gt; X(Object o) {
  }
  void bar() {
    new X(null){};
  }
}
constructorCall.binding of ConstructorDeclaration in
QualifiedAllocationExpression (new X(null){}) anonymousType methods array is
still a MethodBinding although inheritedBinding was well computed to a
ParameterizedGenericMethodBinding in resolveType(BlockScope) method.
is that still an issue in latest?
Still happens using I20050420-1200 + HEAD.
Problem seems to come from createDefaultConstructorWithBinding(MethodBinding) 
method of TypeDeclaration:
//============BINDING UPDATE==========================
cd.binding = new MethodBinding(
	cd.modifiers, //methodDeclaration
	argumentsLength == 0 ? NoParameters : argumentTypes,//arguments bindings
	inheritedConstructorBinding.thrownExceptions, //exceptions
	binding); //declaringClass

Defer
As of now 'LATER' and 'REMIND' resolutions are no longer supported.
Please reopen this bug if it is still valid for you.</WithStack>
    <WithOutStack>After bug 79673 verification, open this bug because with following test case:
public class X {
  public &lt;U&gt; X(Object o) {
  }
  void bar() {
    new X(null){};
  }
}
constructorCall.binding of ConstructorDeclaration in
QualifiedAllocationExpression (new X(null){}) anonymousType methods array is
still a MethodBinding although inheritedBinding was well computed to a
ParameterizedGenericMethodBinding in resolveType(BlockScope) method.
is that still an issue in latest?
Still happens using I20050420-1200 + HEAD.
Problem seems to come from createDefaultConstructorWithBinding(MethodBinding) 
method of TypeDeclaration:
//============BINDING UPDATE==========================
cd.binding = new MethodBinding(
	cd.modifiers, //methodDeclaration
	argumentsLength == 0 ? NoParameters : argumentTypes,//arguments bindings
	inheritedConstructorBinding.thrownExceptions, //exceptions
	binding); //declaringClass

Defer
As of now 'LATER' and 'REMIND' resolutions are no longer supported.
Please reopen this bug if it is still valid for you.</WithOutStack>
  </Bug>
  <Bug>
    <BugId amount="81413" />
    <CreationDate amount="2004-12-16 10:35:00 -0500" />
    <DupId amount="" />
    <classification amount="Eclipse" />
    <Product amount="Platform" />
    <component amount="UI" />
    <Version amount="3.0" />
    <rep_platform amount="All" />
    <op_sys amount="All" />
    <priority amount="P3" />
    <bug_severity amount="minor" />
    <Summery>[Perspectives] Workbench.showPerspective refers to wrong NLS string</Summery>
    <Patches amount="0" />
    <Stacktraces amount="0" />
    <SourceCodeRegions amount="0" />
    <Enumerations amount="0" />
    <bug_status amount="VERIFIED" />
    <resolution amount="FIXED" />
    <WithStack>build I20041214-2000

Workbench.showPerspective refers to the NLS'ed string with key
"WorkbenchPage.ErrorRecreatingPerspective".  This string's usage in
WorkbenchPage was changed a while back to
"WorkbenchPage.ErrorCreatingPerspective", which now takes a parameter (the
perspective id).  Workbench.showPerspective should be fixed accordingly.
Fixed.
Not fully fixed.  There were other occurrences that I missed.

Fixed.
Verified in I20041216-2000.</WithStack>
    <WithOutStack>build I20041214-2000

Workbench.showPerspective refers to the NLS'ed string with key
"WorkbenchPage.ErrorRecreatingPerspective".  This string's usage in
WorkbenchPage was changed a while back to
"WorkbenchPage.ErrorCreatingPerspective", which now takes a parameter (the
perspective id).  Workbench.showPerspective should be fixed accordingly.
Fixed.
Not fully fixed.  There were other occurrences that I missed.

Fixed.
Verified in I20041216-2000.</WithOutStack>
  </Bug>
  <Bug>
    <BugId amount="81414" />
    <CreationDate amount="2004-12-16 10:38:00 -0500" />
    <DupId amount="" />
    <classification amount="Eclipse" />
    <Product amount="JDT" />
    <component amount="UI" />
    <Version amount="3.0.1" />
    <rep_platform amount="All" />
    <op_sys amount="All" />
    <priority amount="P3" />
    <bug_severity amount="enhancement" />
    <Summery>unhelpful generated JUNIT run configuration name for source folder unit-test runs</Summery>
    <Patches amount="0" />
    <Stacktraces amount="0" />
    <SourceCodeRegions amount="0" />
    <Enumerations amount="0" />
    <bug_status amount="RESOLVED" />
    <resolution amount="FIXED" />
    <WithStack>If you rightclick source folders and run unit tests, a Junit run configuration 
is created for that run. The name of this configuration is: "test (%NR)"
where %nr is an incrementing number.

I suggest the following run configuration name: "junit %project-name %source-
folder-name"

so for the project myXml and folder: src/test the generated name would 
be "junit myXml src/test"

Cheers,
Erik
Erich, any comments.
Ping Erich.
fixed - for containers the fully qualified name is used as the launch config name.</WithStack>
    <WithOutStack>If you rightclick source folders and run unit tests, a Junit run configuration 
is created for that run. The name of this configuration is: "test (%NR)"
where %nr is an incrementing number.

I suggest the following run configuration name: "junit %project-name %source-
folder-name"

so for the project myXml and folder: src/test the generated name would 
be "junit myXml src/test"

Cheers,
Erik
Erich, any comments.
Ping Erich.
fixed - for containers the fully qualified name is used as the launch config name.</WithOutStack>
  </Bug>
  <Bug>
    <BugId amount="81415" />
    <CreationDate amount="2004-12-16 10:40:00 -0500" />
    <DupId amount="79687" />
    <classification amount="Eclipse" />
    <Product amount="JDT" />
    <component amount="Core" />
    <Version amount="3.1" />
    <rep_platform amount="PC" />
    <op_sys amount="All" />
    <priority amount="P3" />
    <bug_severity amount="normal" />
    <Summery>[5.0] Superfluos type safety warning on method return types of non-generic classes</Summery>
    <Patches amount="0" />
    <Stacktraces amount="0" />
    <SourceCodeRegions amount="0" />
    <Enumerations amount="1">
      <Enumeration lines="4">
        <Lines>
          <Line>- Create class "IntList implements List&lt;Integer&gt;"</Line>
          <Line>- Implement all methods by quickfix</Line>
          <Line>-&gt; Generated methods with return type "Integer" have a superfluos (class is</Line>
          <Line>simple instantiation of generic type "List&lt;E&gt;") type conversion warning</Line>
        </Lines>
      </Enumeration>
    </Enumerations>
    <bug_status amount="RESOLVED" />
    <resolution amount="DUPLICATE" />
    <WithStack>200412160010:

Steps to reproduce:
- Create class "IntList implements List&lt;Integer&gt;"
- Implement all methods by quickfix
-&gt; Generated methods with return type "Integer" have a superfluos (class is 
simple instantiation of generic type "List&lt;E&gt;") type conversion warning

A similar problem happens on "IntList implements List". Methods with return 
type "Iterator" are flagged as well.


*** This bug has been marked as a duplicate of 79687 ***</WithStack>
    <WithOutStack>200412160010:

Steps to reproduce:
- Create class "IntList implements List&lt;Integer&gt;"
- Implement all methods by quickfix
-&gt; Generated methods with return type "Integer" have a superfluos (class is 
simple instantiation of generic type "List&lt;E&gt;") type conversion warning

A similar problem happens on "IntList implements List". Methods with return 
type "Iterator" are flagged as well.


*** This bug has been marked as a duplicate of 79687 ***</WithOutStack>
  </Bug>
  <Bug>
    <BugId amount="81416" />
    <CreationDate amount="2004-12-16 10:56:00 -0500" />
    <DupId amount="" />
    <classification amount="Eclipse" />
    <Product amount="Platform" />
    <component amount="Debug" />
    <Version amount="3.0" />
    <rep_platform amount="PC" />
    <op_sys amount="Windows 2000" />
    <priority amount="P3" />
    <bug_severity amount="trivial" />
    <Summery>Detail formatter dialog should give focus to detail pane</Summery>
    <Patches amount="0" />
    <Stacktraces amount="0" />
    <SourceCodeRegions amount="0" />
    <Enumerations amount="0" />
    <bug_status amount="VERIFIED" />
    <resolution amount="FIXED" />
    <WithStack>build I20041214-2000

When the Edit Details Formatter dialog is opened, focus is on the (apparently
disabled) 'Qualified type name' field.  It should be on the snippet text control.
Fixed in DetailFormatterDialog
Darin, please verify
Verified (and also fixed for "new" case when a type name is seeded from the 
variables view).</WithStack>
    <WithOutStack>build I20041214-2000

When the Edit Details Formatter dialog is opened, focus is on the (apparently
disabled) 'Qualified type name' field.  It should be on the snippet text control.
Fixed in DetailFormatterDialog
Darin, please verify
Verified (and also fixed for "new" case when a type name is seeded from the 
variables view).</WithOutStack>
  </Bug>
  <Bug>
    <BugId amount="81417" />
    <CreationDate amount="2004-12-16 11:26:00 -0500" />
    <DupId amount="" />
    <classification amount="Eclipse" />
    <Product amount="JDT" />
    <component amount="Core" />
    <Version amount="3.1" />
    <rep_platform amount="PC" />
    <op_sys amount="Windows XP" />
    <priority amount="P3" />
    <bug_severity amount="normal" />
    <Summery>[dom] getJavaElement() throws a NPE for WildcardBinding</Summery>
    <Patches amount="0" />
    <Stacktraces amount="0" />
    <SourceCodeRegions amount="2">
      <source_code type="class">
        <location start="49" end="62" />
        <code>class X&lt;T&gt; {}</code>
      </source_code>
      <source_code type="class">
        <location start="63" end="115" />
        <code>public class Test {
	X&lt;? extends Exception&gt; test;	
}</code>
      </source_code>
    </SourceCodeRegions>
    <Enumerations amount="0" />
    <bug_status amount="VERIFIED" />
    <resolution amount="FIXED" />
    <WithStack>Using 3.1 M4 candidate I200412160010.
Test case:
class X&lt;T&gt; {}
public class Test {
	X&lt;? extends Exception&gt; test;	
}

If you try to get java element for WildcardBinding of WildcardType, you get null.

Also happen with 3.1 M3.
Actually it should return null, but it currently throws a NPE.
Created attachment 16709
Proposed fix
Created attachment 16710
Regression test
Released fix and regression test (ASTModelBridgeTest#testWildCard())
Verified in I20050214-0927</WithStack>
    <WithOutStack>Using 3.1 M4 candidate I200412160010.
Test case:
class X&lt;T&gt; {}
public class Test {
	X&lt;? extends Exception&gt; test;	
}

If you try to get java element for WildcardBinding of WildcardType, you get null.

Also happen with 3.1 M3.
Actually it should return null, but it currently throws a NPE.
Created attachment 16709
Proposed fix
Created attachment 16710
Regression test
Released fix and regression test (ASTModelBridgeTest#testWildCard())
Verified in I20050214-0927</WithOutStack>
  </Bug>
  <Bug>
    <BugId amount="81418" />
    <CreationDate amount="2004-12-16 11:27:00 -0500" />
    <DupId amount="" />
    <classification amount="Eclipse" />
    <Product amount="Platform" />
    <component amount="Ant" />
    <Version amount="3.1" />
    <rep_platform amount="PC" />
    <op_sys amount="Windows XP" />
    <priority amount="P3" />
    <bug_severity amount="normal" />
    <Summery>Handling marshalling line.separator</Summery>
    <Patches amount="0" />
    <Stacktraces amount="0" />
    <SourceCodeRegions amount="0" />
    <Enumerations amount="0" />
    <bug_status amount="VERIFIED" />
    <resolution amount="FIXED" />
    <WithStack>RemoteAntDebugBuildLogger has a hack to not marshal the line.separator 
property as this seems to flush the print writer. Needs more investigation.
Changes to:
 AntProcessDebugBuildLogger: implementation of unescape; does nothing as the
Strings are not marshalled with same JRE degugging
 IAntDebugController: add unescapeString method
 AntDebugTarget: provide access to the debug controller
 AntThread: allow the debug controller to unescape the String if required
 RemoteAntDebugBuildListener: implementation of unescapeString to correctly
unescape the marshalled string
 AntDebugState: escape the strings beforing marshalling
 RemoteAntDebugBuildLogger: set that line separators should be escaped
*** Bug 83121 has been marked as a duplicate of this bug. ***
Please verify.
Verified.</WithStack>
    <WithOutStack>RemoteAntDebugBuildLogger has a hack to not marshal the line.separator 
property as this seems to flush the print writer. Needs more investigation.
Changes to:
 AntProcessDebugBuildLogger: implementation of unescape; does nothing as the
Strings are not marshalled with same JRE degugging
 IAntDebugController: add unescapeString method
 AntDebugTarget: provide access to the debug controller
 AntThread: allow the debug controller to unescape the String if required
 RemoteAntDebugBuildListener: implementation of unescapeString to correctly
unescape the marshalled string
 AntDebugState: escape the strings beforing marshalling
 RemoteAntDebugBuildLogger: set that line separators should be escaped
*** Bug 83121 has been marked as a duplicate of this bug. ***
Please verify.
Verified.</WithOutStack>
  </Bug>
  <Bug>
    <BugId amount="81419" />
    <CreationDate amount="2004-12-16 11:37:00 -0500" />
    <DupId amount="81165" />
    <classification amount="Eclipse" />
    <Product amount="Platform" />
    <component amount="CVS" />
    <Version amount="3.1" />
    <rep_platform amount="PC" />
    <op_sys amount="Windows XP" />
    <priority amount="P3" />
    <bug_severity amount="normal" />
    <Summery>AssertFailuer when shutting down workbench</Summery>
    <Patches amount="0" />
    <Stacktraces amount="1">
      <Stacktrace timestamp="1437341216807">
        <Exception>org.eclipse.jface.util.Assert$AssertionFailedException</Exception>
        <Reason>null argument;</Reason>
        <Frames>
          <Frame depth="0">org.eclipse.jface.util.Assert.isNotNull(Assert.java:149)</Frame>
          <Frame depth="1">org.eclipse.jface.util.Assert.isNotNull(Assert.java:125)</Frame>
          <Frame depth="2">org.eclipse.jface.util.ListenerList.remove(ListenerList.java:155)</Frame>
          <Frame depth="3">org.eclipse.ui.internal.PartListenerList.removePartListener(PartListenerList.java:122)</Frame>
          <Frame depth="4">org.eclipse.ui.internal.WWinPartService.removePartListener(WWinPartService.java:96)</Frame>
          <Frame depth="5">org.eclipse.team.internal.ccvs.ui.actions.CVSAction.dispose(CVSAction.java:160)</Frame>
          <Frame depth="6">org.eclipse.ui.internal.WWinPluginAction.dispose(WWinPluginAction.java:195)</Frame>
          <Frame depth="7">org.eclipse.ui.internal.PluginActionSet.dispose(PluginActionSet.java:66)</Frame>
          <Frame depth="8">org.eclipse.ui.internal.ActionPresentation.removeActionSet(ActionPresentation.java:89)</Frame>
          <Frame depth="9">org.eclipse.ui.internal.ActionPresentation.clearActionSets(ActionPresentation.java:70)</Frame>
          <Frame depth="10">org.eclipse.ui.internal.WorkbenchWindow.hardClose(WorkbenchWindow.java:1207)</Frame>
          <Frame depth="11">org.eclipse.ui.internal.WorkbenchWindow.busyClose(WorkbenchWindow.java:533)</Frame>
          <Frame depth="12">org.eclipse.ui.internal.WorkbenchWindow.access$0(WorkbenchWindow.java:514)</Frame>
          <Frame depth="13">org.eclipse.ui.internal.WorkbenchWindow$1.run(WorkbenchWindow.java:612)</Frame>
          <Frame depth="14">org.eclipse.swt.custom.BusyIndicator.showWhile(BusyIndicator.java:69)</Frame>
          <Frame depth="15">org.eclipse.ui.internal.WorkbenchWindow.close(WorkbenchWindow.java:610)</Frame>
          <Frame depth="16">org.eclipse.jface.window.WindowManager.close(WindowManager.java:108)</Frame>
          <Frame depth="17">org.eclipse.ui.internal.Workbench$12.run(Workbench.java:505)</Frame>
          <Frame depth="18">org.eclipse.core.internal.runtime.InternalPlatform.run(InternalPlatform.java:1044)</Frame>
          <Frame depth="19">org.eclipse.core.runtime.Platform.run(Platform.java:747)</Frame>
          <Frame depth="20">org.eclipse.ui.internal.Workbench.busyClose(Workbench.java:501)</Frame>
          <Frame depth="21">org.eclipse.ui.internal.Workbench.access$8(Workbench.java:436)</Frame>
          <Frame depth="22">org.eclipse.ui.internal.Workbench$14.run(Workbench.java:623)</Frame>
          <Frame depth="23">org.eclipse.swt.custom.BusyIndicator.showWhile(BusyIndicator.java:69)</Frame>
          <Frame depth="24">org.eclipse.ui.internal.Workbench.close(Workbench.java:621)</Frame>
          <Frame depth="25">org.eclipse.ui.internal.Workbench.close(Workbench.java:596)</Frame>
          <Frame depth="26">org.eclipse.ui.internal.QuitAction.run(QuitAction.java:55)</Frame>
          <Frame depth="27">org.eclipse.jface.action.Action.runWithEvent(Action.java:989)</Frame>
          <Frame depth="28">org.eclipse.jface.action.ActionContributionItem.handleWidgetSelection(ActionContributionItem.java:555)</Frame>
          <Frame depth="29">org.eclipse.jface.action.ActionContributionItem.access$2(ActionContributionItem.java:505)</Frame>
          <Frame depth="30">org.eclipse.jface.action.ActionContributionItem$6.handleEvent(ActionContributionItem.java:419)</Frame>
          <Frame depth="31">org.eclipse.swt.widgets.EventTable.sendEvent(EventTable.java:82)</Frame>
          <Frame depth="32">org.eclipse.swt.widgets.Widget.sendEvent(Widget.java:833)</Frame>
          <Frame depth="33">org.eclipse.swt.widgets.Display.runDeferredEvents(Display.java:2803)</Frame>
          <Frame depth="34">org.eclipse.swt.widgets.Display.readAndDispatch(Display.java:2448)</Frame>
          <Frame depth="35">org.eclipse.ui.internal.Workbench.runEventLoop(Workbench.java:1569)</Frame>
          <Frame depth="36">org.eclipse.ui.internal.Workbench.runUI(Workbench.java:1540)</Frame>
          <Frame depth="37">org.eclipse.ui.internal.Workbench.createAndRunWorkbench(Workbench.java:285)</Frame>
          <Frame depth="38">org.eclipse.ui.PlatformUI.createAndRunWorkbench(PlatformUI.java:144)</Frame>
          <Frame depth="39">org.eclipse.ui.internal.ide.IDEApplication.run(IDEApplication.java:102)</Frame>
          <Frame depth="40">org.eclipse.core.internal.runtime.PlatformActivator$1.run(PlatformActivator.java:220)</Frame>
          <Frame depth="41">org.eclipse.core.runtime.adaptor.EclipseStarter.run(EclipseStarter.java:273)</Frame>
          <Frame depth="42">org.eclipse.core.runtime.adaptor.EclipseStarter.run(EclipseStarter.java:129)</Frame>
          <Frame depth="43">sun.reflect.NativeMethodAccessorImpl.invoke0(Native Method)</Frame>
          <Frame depth="44">sun.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:39)</Frame>
          <Frame depth="45">sun.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:25)</Frame>
          <Frame depth="46">java.lang.reflect.Method.invoke(Method.java:324)</Frame>
          <Frame depth="47">org.eclipse.core.launcher.Main.basicRun(Main.java:185)</Frame>
          <Frame depth="48">org.eclipse.core.launcher.Main.run(Main.java:684)</Frame>
          <Frame depth="49">org.eclipse.core.launcher.Main.main(Main.java:668)</Frame>
        </Frames>
      </Stacktrace>
    </Stacktraces>
    <SourceCodeRegions amount="0" />
    <Enumerations amount="0" />
    <bug_status amount="RESOLVED" />
    <resolution amount="DUPLICATE" />
    <WithStack>I200412160010

Got the following assertion failure when shutting down the workbench

!ENTRY org.eclipse.core.runtime 4 2 2004-12-16 17:33:34.893
!MESSAGE Problems occurred when invoking code from plug-in:
"org.eclipse.core.runtime".
!STACK 0
org.eclipse.jface.util.Assert$AssertionFailedException: null argument;
	at org.eclipse.jface.util.Assert.isNotNull(Assert.java:149)
	at org.eclipse.jface.util.Assert.isNotNull(Assert.java:125)
	at org.eclipse.jface.util.ListenerList.remove(ListenerList.java:155)
	at
org.eclipse.ui.internal.PartListenerList.removePartListener(PartListenerList.java:122)
	at
org.eclipse.ui.internal.WWinPartService.removePartListener(WWinPartService.java:96)
	at org.eclipse.team.internal.ccvs.ui.actions.CVSAction.dispose(CVSAction.java:160)
	at org.eclipse.ui.internal.WWinPluginAction.dispose(WWinPluginAction.java:195)
	at org.eclipse.ui.internal.PluginActionSet.dispose(PluginActionSet.java:66)
	at
org.eclipse.ui.internal.ActionPresentation.removeActionSet(ActionPresentation.java:89)
	at
org.eclipse.ui.internal.ActionPresentation.clearActionSets(ActionPresentation.java:70)
	at org.eclipse.ui.internal.WorkbenchWindow.hardClose(WorkbenchWindow.java:1207)
	at org.eclipse.ui.internal.WorkbenchWindow.busyClose(WorkbenchWindow.java:533)
	at org.eclipse.ui.internal.WorkbenchWindow.access$0(WorkbenchWindow.java:514)
	at org.eclipse.ui.internal.WorkbenchWindow$1.run(WorkbenchWindow.java:612)
	at org.eclipse.swt.custom.BusyIndicator.showWhile(BusyIndicator.java:69)
	at org.eclipse.ui.internal.WorkbenchWindow.close(WorkbenchWindow.java:610)
	at org.eclipse.jface.window.WindowManager.close(WindowManager.java:108)
	at org.eclipse.ui.internal.Workbench$12.run(Workbench.java:505)
	at
org.eclipse.core.internal.runtime.InternalPlatform.run(InternalPlatform.java:1044)
	at org.eclipse.core.runtime.Platform.run(Platform.java:747)
	at org.eclipse.ui.internal.Workbench.busyClose(Workbench.java:501)
	at org.eclipse.ui.internal.Workbench.access$8(Workbench.java:436)
	at org.eclipse.ui.internal.Workbench$14.run(Workbench.java:623)
	at org.eclipse.swt.custom.BusyIndicator.showWhile(BusyIndicator.java:69)
	at org.eclipse.ui.internal.Workbench.close(Workbench.java:621)
	at org.eclipse.ui.internal.Workbench.close(Workbench.java:596)
	at org.eclipse.ui.internal.QuitAction.run(QuitAction.java:55)
	at org.eclipse.jface.action.Action.runWithEvent(Action.java:989)
	at
org.eclipse.jface.action.ActionContributionItem.handleWidgetSelection(ActionContributionItem.java:555)
	at
org.eclipse.jface.action.ActionContributionItem.access$2(ActionContributionItem.java:505)
	at
org.eclipse.jface.action.ActionContributionItem$6.handleEvent(ActionContributionItem.java:419)
	at org.eclipse.swt.widgets.EventTable.sendEvent(EventTable.java:82)
	at org.eclipse.swt.widgets.Widget.sendEvent(Widget.java:833)
	at org.eclipse.swt.widgets.Display.runDeferredEvents(Display.java:2803)
	at org.eclipse.swt.widgets.Display.readAndDispatch(Display.java:2448)
	at org.eclipse.ui.internal.Workbench.runEventLoop(Workbench.java:1569)
	at org.eclipse.ui.internal.Workbench.runUI(Workbench.java:1540)
	at org.eclipse.ui.internal.Workbench.createAndRunWorkbench(Workbench.java:285)
	at org.eclipse.ui.PlatformUI.createAndRunWorkbench(PlatformUI.java:144)
	at org.eclipse.ui.internal.ide.IDEApplication.run(IDEApplication.java:102)
	at
org.eclipse.core.internal.runtime.PlatformActivator$1.run(PlatformActivator.java:220)
	at org.eclipse.core.runtime.adaptor.EclipseStarter.run(EclipseStarter.java:273)
	at org.eclipse.core.runtime.adaptor.EclipseStarter.run(EclipseStarter.java:129)
	at sun.reflect.NativeMethodAccessorImpl.invoke0(Native Method)
	at sun.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:39)
	at
sun.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:25)
	at java.lang.reflect.Method.invoke(Method.java:324)
	at org.eclipse.core.launcher.Main.basicRun(Main.java:185)
	at org.eclipse.core.launcher.Main.run(Main.java:684)
	at org.eclipse.core.launcher.Main.main(Main.java:668)


*** This bug has been marked as a duplicate of 81165 ***</WithStack>
    <WithOutStack>I200412160010

Got the following assertion failure when shutting down the workbench

!ENTRY org.eclipse.core.runtime 4 2 2004-12-16 17:33:34.893
!MESSAGE Problems occurred when invoking code from plug-in:
"org.eclipse.core.runtime".
!STACK 0



*** This bug has been marked as a duplicate of 81165 ***</WithOutStack>
  </Bug>
  <Bug>
    <BugId amount="81420" />
    <CreationDate amount="2004-12-16 11:41:00 -0500" />
    <DupId amount="" />
    <classification amount="WebTools" />
    <Product amount="WTP Java EE Tools" />
    <component amount="jst.j2ee" />
    <Version amount="unspecified" />
    <rep_platform amount="PC" />
    <op_sys amount="Windows XP" />
    <priority amount="P3" />
    <bug_severity amount="normal" />
    <Summery>"Add Module to to an EAR project" should be unchecked for  Tomcat</Summery>
    <Patches amount="0" />
    <Stacktraces amount="0" />
    <SourceCodeRegions amount="0" />
    <Enumerations amount="0" />
    <bug_status amount="CLOSED" />
    <resolution amount="FIXED" />
    <WithStack>When you  create a Webproject targeted for Tomcat error message
"The selected server target is not valid for the specified EAR project"
is displayed. Since  Tomcat doesn't support EAR's  so whenever a  web project 
is  created it shouldn't be added to an EAR.
Fix Released.

The error message was updated to direct the user to Uncheck the checkbox. The
new error message is "The selected server target is not valid for the specified
EAR project. The selected server may not support EAR projects." There are many
reasons why we are not automatically unchecking the checkbox, as it would make
it more complicated. This approach is a lot safer, in insuring more defects
don't get generated.

Please verify the new error message.

Thanks
Tested</WithStack>
    <WithOutStack>When you  create a Webproject targeted for Tomcat error message
"The selected server target is not valid for the specified EAR project"
is displayed. Since  Tomcat doesn't support EAR's  so whenever a  web project 
is  created it shouldn't be added to an EAR.
Fix Released.

The error message was updated to direct the user to Uncheck the checkbox. The
new error message is "The selected server target is not valid for the specified
EAR project. The selected server may not support EAR projects." There are many
reasons why we are not automatically unchecking the checkbox, as it would make
it more complicated. This approach is a lot safer, in insuring more defects
don't get generated.

Please verify the new error message.

Thanks
Tested</WithOutStack>
  </Bug>
  <Bug>
    <BugId amount="81421" />
    <CreationDate amount="2004-12-16 11:46:00 -0500" />
    <DupId amount="" />
    <classification amount="Eclipse" />
    <Product amount="JDT" />
    <component amount="UI" />
    <Version amount="3.1" />
    <rep_platform amount="PC" />
    <op_sys amount="Windows XP" />
    <priority amount="P3" />
    <bug_severity amount="normal" />
    <Summery>Closing a project with open editors leaves stale elements in Package Explorer's working set layout</Summery>
    <Patches amount="0" />
    <Stacktraces amount="0" />
    <SourceCodeRegions amount="0" />
    <Enumerations amount="1">
      <Enumeration lines="6">
        <Lines>
          <Line>1. open a CU</Line>
          <Line>2. change it don't save</Line>
          <Line>3. open Navigator</Line>
          <Line>4. close project of CU in Navigator</Line>
          <Line>==&gt; error happens whether you save or not and whether the CU is already in the</Line>
          <Line>History working set</Line>
        </Lines>
      </Enumeration>
    </Enumerations>
    <bug_status amount="RESOLVED" />
    <resolution amount="FIXED" />
    <WithStack>I20041216-0800

Closing a project with open editors leaves stale elements in Package Explorer's
working sets mode.

This only affects CUs not normal resources.
Dani,

do you have more detailed steps. I can't reproduce it with a single editor where
the element is in the history list.
1. open a CU
2. change it don't save
3. open Navigator
4. close project of CU in Navigator
==&gt; error happens whether you save or not and whether the CU is already in the
History working set

Fixed.</WithStack>
    <WithOutStack>I20041216-0800

Closing a project with open editors leaves stale elements in Package Explorer's
working sets mode.

This only affects CUs not normal resources.
Dani,

do you have more detailed steps. I can't reproduce it with a single editor where
the element is in the history list.
1. open a CU
2. change it don't save
3. open Navigator
4. close project of CU in Navigator
==&gt; error happens whether you save or not and whether the CU is already in the
History working set

Fixed.</WithOutStack>
  </Bug>
  <Bug>
    <BugId amount="81422" />
    <CreationDate amount="2004-12-16 11:48:00 -0500" />
    <DupId amount="" />
    <classification amount="Eclipse" />
    <Product amount="Platform" />
    <component amount="UI" />
    <Version amount="3.0" />
    <rep_platform amount="All" />
    <op_sys amount="All" />
    <priority amount="P3" />
    <bug_severity amount="normal" />
    <Summery>[Contributions] Regression test for action delegate dispose</Summery>
    <Patches amount="0" />
    <Stacktraces amount="0" />
    <SourceCodeRegions amount="0" />
    <Enumerations amount="0" />
    <bug_status amount="VERIFIED" />
    <resolution amount="FIXED" />
    <WithStack>build I20041214-2000

Need a regression test for bug 81165.
Boris, I could use your help on this one.
...in case nothing else more important comes up.

Created attachment 23657
new test method in IWorkbenchPageTest

This test fails in 3.1M3 (before the change) and succeeds in 3.1RC3.
Patch applied, but with the test method moved to IWorkbenchWindowActionDelegateTest.

Confirmed that the test passes in N20050621 + latest from head.

Thanks Boris.

Verified that the test runs and passes in N20050622-0010.
Verified in build I20050623-2000 that
testDisposeWorkbenchWindowActionDelegateBug81422 is called and passes.</WithStack>
    <WithOutStack>build I20041214-2000

Need a regression test for bug 81165.
Boris, I could use your help on this one.
...in case nothing else more important comes up.

Created attachment 23657
new test method in IWorkbenchPageTest

This test fails in 3.1M3 (before the change) and succeeds in 3.1RC3.
Patch applied, but with the test method moved to IWorkbenchWindowActionDelegateTest.

Confirmed that the test passes in N20050621 + latest from head.

Thanks Boris.

Verified that the test runs and passes in N20050622-0010.
Verified in build I20050623-2000 that
testDisposeWorkbenchWindowActionDelegateBug81422 is called and passes.</WithOutStack>
  </Bug>
  <Bug>
    <BugId amount="81423" />
    <CreationDate amount="2004-12-16 11:49:00 -0500" />
    <DupId amount="" />
    <classification amount="Eclipse" />
    <Product amount="Platform" />
    <component amount="Runtime" />
    <Version amount="3.1" />
    <rep_platform amount="PC" />
    <op_sys amount="Windows XP" />
    <priority amount="P3" />
    <bug_severity amount="normal" />
    <Summery>Missing information when deadlock is resolved</Summery>
    <Patches amount="0" />
    <Stacktraces amount="0" />
    <SourceCodeRegions amount="0" />
    <Enumerations amount="1">
      <Enumeration lines="3">
        <Lines>
          <Line>- the classes that were being loaded at the time of the deadlock</Line>
          <Line>- the stacks of all the threads at the time of the deadlock</Line>
          <Line>The message is providing all the info that are available at that time...</Line>
        </Lines>
      </Enumeration>
    </Enumerations>
    <bug_status amount="RESOLVED" />
    <resolution amount="WONTFIX" />
    <WithStack>I20041216

Bug 81306 shows a stack trace saying that a deadlock occured during start up. It
looks like the deadlock was resolved, but the trace doesn't provide enough
information to debug this problem.

It should at least show:
- the classes that were being loaded at the time of the deadlock
- the stacks of all the threads at the time of the deadlock
The message is providing all the info that are available at that time...

The class that is being loaded and that caused the message is indicated in the
message (for example in the bug you mentionned, it is
org.eclipse.jdt.core.JavaCore$7).

Showing the stack of all the thread is impossible in that case since Java does
not expose API that allow it (Thread.dumpStack() applies to the current thread).
If you know a trick then we'd happy to hear it because we are not really happy
with the current state of this message.
Thread#getThreadGroup() is your friend.
I'm not sure what to do then, how do I get their stack trace?
Sorry, I looked at 1.5 API which you cannot rely on. Agreed that there is
nothing you can do.</WithStack>
    <WithOutStack>I20041216

Bug 81306 shows a stack trace saying that a deadlock occured during start up. It
looks like the deadlock was resolved, but the trace doesn't provide enough
information to debug this problem.

It should at least show:
- the classes that were being loaded at the time of the deadlock
- the stacks of all the threads at the time of the deadlock
The message is providing all the info that are available at that time...

The class that is being loaded and that caused the message is indicated in the
message (for example in the bug you mentionned, it is
org.eclipse.jdt.core.JavaCore$7).

Showing the stack of all the thread is impossible in that case since Java does
not expose API that allow it (Thread.dumpStack() applies to the current thread).
If you know a trick then we'd happy to hear it because we are not really happy
with the current state of this message.
Thread#getThreadGroup() is your friend.
I'm not sure what to do then, how do I get their stack trace?
Sorry, I looked at 1.5 API which you cannot rely on. Agreed that there is
nothing you can do.</WithOutStack>
  </Bug>
  <Bug>
    <BugId amount="81424" />
    <CreationDate amount="2004-12-16 11:50:00 -0500" />
    <DupId amount="" />
    <classification amount="Eclipse" />
    <Product amount="JDT" />
    <component amount="Text" />
    <Version amount="3.1" />
    <rep_platform amount="PC" />
    <op_sys amount="Windows 2000" />
    <priority amount="P1" />
    <bug_severity amount="normal" />
    <Summery>NPE in PropertiesSpellingReconcileStrategy</Summery>
    <Patches amount="0" />
    <Stacktraces amount="1">
      <Stacktrace timestamp="1437341216812">
        <Exception>java.lang.NullPointerException</Exception>
        <Reason />
        <Frames>
          <Frame depth="0">org.eclipse.jdt.internal.ui.text.spelling.PropertiesSpellingReconcileStrategy.getAnnotationModel(PropertiesSpellingReconcileStrategy.java:222)</Frame>
          <Frame depth="1">org.eclipse.jdt.internal.ui.text.spelling.PropertiesSpellingReconcileStrategy.reconcile(PropertiesSpellingReconcileStrategy.java:171)</Frame>
          <Frame depth="2">org.eclipse.jdt.internal.ui.text.spelling.PropertiesSpellingReconcileStrategy.initialReconcile(PropertiesSpellingReconcileStrategy.java:157)</Frame>
          <Frame depth="3">org.eclipse.jface.text.reconciler.MonoReconciler.initialProcess(MonoReconciler.java:103)</Frame>
          <Frame depth="4">org.eclipse.jface.text.reconciler.AbstractReconciler$BackgroundThread.run(AbstractReconciler.java:170)</Frame>
        </Frames>
      </Stacktrace>
    </Stacktraces>
    <SourceCodeRegions amount="0" />
    <Enumerations amount="1">
      <Enumeration lines="2">
        <Lines>
          <Line>- have a large document with many spelling errors</Line>
          <Line>- type, wait shortly then close the editor</Line>
        </Lines>
      </Enumeration>
    </Enumerations>
    <bug_status amount="VERIFIED" />
    <resolution amount="FIXED" />
    <WithStack>Build: 20041214-2000

I had several Java files open in the Java editor.  As a test I was going through
the preference pages and toggling all the preferences and then setting back to
default.  I noticed shortly after the following NPE on the Java console (not in
the log file):

java.lang.NullPointerException
        at org.eclipse.jdt.internal.ui.text.spelling.PropertiesSpellingReconcile
Strategy.getAnnotationModel(PropertiesSpellingReconcileStrategy.java:222)
        at org.eclipse.jdt.internal.ui.text.spelling.PropertiesSpellingReconcile
Strategy.reconcile(PropertiesSpellingReconcileStrategy.java:171)
        at org.eclipse.jdt.internal.ui.text.spelling.PropertiesSpellingReconcile
Strategy.initialReconcile(PropertiesSpellingReconcileStrategy.java:157)
        at org.eclipse.jface.text.reconciler.MonoReconciler.initialProcess(MonoR
econciler.java:103)
        at org.eclipse.jface.text.reconciler.AbstractReconciler$BackgroundThread
.run(AbstractReconciler.java:170)
Please investigate.
Fixed in HEAD.
Will be in I20041216-1600
Start verification...
Found ways to reproduce the error in 20041214-2000:
- have a large document with many spelling errors
- type, wait shortly then close the editor

Verified that this no longer causes an NPE in I20041216-2000 and inspected the code.</WithStack>
    <WithOutStack>Build: 20041214-2000

I had several Java files open in the Java editor.  As a test I was going through
the preference pages and toggling all the preferences and then setting back to
default.  I noticed shortly after the following NPE on the Java console (not in
the log file):


Please investigate.
Fixed in HEAD.
Will be in I20041216-1600
Start verification...
Found ways to reproduce the error in 20041214-2000:
- have a large document with many spelling errors
- type, wait shortly then close the editor

Verified that this no longer causes an NPE in I20041216-2000 and inspected the code.</WithOutStack>
  </Bug>
  <Bug>
    <BugId amount="81425" />
    <CreationDate amount="2004-12-16 11:56:00 -0500" />
    <DupId amount="" />
    <classification amount="Eclipse" />
    <Product amount="Platform" />
    <component amount="UI" />
    <Version amount="3.1" />
    <rep_platform amount="PC" />
    <op_sys amount="Linux-GTK" />
    <priority amount="P5" />
    <bug_severity amount="normal" />
    <Summery>[PresentationAPI] Presentation preference does not reset to default</Summery>
    <Patches amount="0" />
    <Stacktraces amount="0" />
    <SourceCodeRegions amount="0" />
    <Enumerations amount="1">
      <Enumeration lines="5">
        <Lines>
          <Line>1) Open the Appearance preference page.</Line>
          <Line>2) Switch to "Eclipse 2.1 Style Presentation</Line>
          <Line>3) Click Apply (and say ok to the warning about setting prefs)</Line>
          <Line>4) Click Restore Defaults</Line>
          <Line>5) Click Apply</Line>
        </Lines>
      </Enumeration>
    </Enumerations>
    <bug_status amount="RESOLVED" />
    <resolution amount="WONTFIX" />
    <WithStack>Build: I20041214-2000

In a new workspace

1) Open the Appearance preference page.
2) Switch to "Eclipse 2.1 Style Presentation
3) Click Apply (and say ok to the warning about setting prefs)
4) Click Restore Defaults
5) Click Apply

-&gt; It doesn't reset to the default presentation.
*** Bug 97692 has been marked as a duplicate of this bug. ***
maybe we should also remove the 1/2 support we have for changing the
presentation when you select it before a restart so that you always have to restart.

*** Bug 110629 has been marked as a duplicate of this bug. ***
*** Bug 92595 has been marked as a duplicate of this bug. ***
Is this still a problem in 3.3?

PW

Changes requested on bug 193523
The PresentationAPI has been deprecated with the Eclipse 4.x release and it has been replaced with the CSS engine. I therefore close this bugs as WONTFIX. In case your bug report is still valid for the Eclipse 4.4 release, please open a new bug report for it.</WithStack>
    <WithOutStack>Build: I20041214-2000

In a new workspace

1) Open the Appearance preference page.
2) Switch to "Eclipse 2.1 Style Presentation
3) Click Apply (and say ok to the warning about setting prefs)
4) Click Restore Defaults
5) Click Apply

-&gt; It doesn't reset to the default presentation.
*** Bug 97692 has been marked as a duplicate of this bug. ***
maybe we should also remove the 1/2 support we have for changing the
presentation when you select it before a restart so that you always have to restart.

*** Bug 110629 has been marked as a duplicate of this bug. ***
*** Bug 92595 has been marked as a duplicate of this bug. ***
Is this still a problem in 3.3?

PW

Changes requested on bug 193523
The PresentationAPI has been deprecated with the Eclipse 4.x release and it has been replaced with the CSS engine. I therefore close this bugs as WONTFIX. In case your bug report is still valid for the Eclipse 4.4 release, please open a new bug report for it.</WithOutStack>
  </Bug>
  <Bug>
    <BugId amount="81426" />
    <CreationDate amount="2004-12-16 11:57:00 -0500" />
    <DupId amount="" />
    <classification amount="Eclipse" />
    <Product amount="JDT" />
    <component amount="UI" />
    <Version amount="3.1" />
    <rep_platform amount="PC" />
    <op_sys amount="Windows XP" />
    <priority amount="P3" />
    <bug_severity amount="minor" />
    <Summery>Package Explorer shows nothing after drill into working set, then show projects</Summery>
    <Patches amount="0" />
    <Stacktraces amount="0" />
    <SourceCodeRegions amount="0" />
    <Enumerations amount="1">
      <Enumeration lines="3">
        <Lines>
          <Line>- switch Package Explorer to working sets</Line>
          <Line>- context menu &gt; Go Into a working set</Line>
          <Line>- Show &gt; Projects</Line>
        </Lines>
      </Enumeration>
    </Enumerations>
    <bug_status amount="RESOLVED" />
    <resolution amount="FIXED" />
    <WithStack>I200412160800

- switch Package Explorer to working sets
- context menu &gt; Go Into a working set
- Show &gt; Projects

-&gt; view is empty
-&gt; view toolbar button 'Up to Working Sets' does not do anything
Fixed. The package explorer will show all projects now if you turn the mode back
while being inside of a working set.</WithStack>
    <WithOutStack>I200412160800

- switch Package Explorer to working sets
- context menu &gt; Go Into a working set
- Show &gt; Projects

-&gt; view is empty
-&gt; view toolbar button 'Up to Working Sets' does not do anything
Fixed. The package explorer will show all projects now if you turn the mode back
while being inside of a working set.</WithOutStack>
  </Bug>
  <Bug>
    <BugId amount="81427" />
    <CreationDate amount="2004-12-16 12:00:00 -0500" />
    <DupId amount="" />
    <classification amount="Eclipse" />
    <Product amount="Platform" />
    <component amount="Compare" />
    <Version amount="3.1" />
    <rep_platform amount="PC" />
    <op_sys amount="Linux-GTK" />
    <priority amount="P3" />
    <bug_severity amount="normal" />
    <Summery>Widget disposed error changing compare preference</Summery>
    <Patches amount="0" />
    <Stacktraces amount="1">
      <Stacktrace timestamp="1437341216816">
        <Exception>org.eclipse.swt.SWTException</Exception>
        <Reason>Widget is disposed</Reason>
        <Frames>
          <Frame depth="0">org.eclipse.swt.SWT.error(SWT.java:2827)</Frame>
          <Frame depth="1">org.eclipse.swt.SWT.error(SWT.java:2752)</Frame>
          <Frame depth="2">org.eclipse.swt.SWT.error(SWT.java:2723)</Frame>
          <Frame depth="3">org.eclipse.swt.widgets.Widget.error(Widget.java:386)</Frame>
          <Frame depth="4">org.eclipse.swt.widgets.Widget.checkWidget(Widget.java:322)</Frame>
          <Frame depth="5">org.eclipse.swt.widgets.Control.setVisible(Control.java:2855)</Frame>
          <Frame depth="6">org.eclipse.compare.contentmergeviewer.TextMergeViewer.setCurrentDiff(TextMergeViewer.java:3765)</Frame>
          <Frame depth="7">org.eclipse.compare.contentmergeviewer.TextMergeViewer.selectFirstDiff(TextMergeViewer.java:3168)</Frame>
          <Frame depth="8">org.eclipse.compare.contentmergeviewer.TextMergeViewer.propertyChange(TextMergeViewer.java:3087)</Frame>
          <Frame depth="9">org.eclipse.compare.contentmergeviewer.TextMergeViewer$1.propertyChange(TextMergeViewer.java:668)</Frame>
          <Frame depth="10">org.eclipse.jface.preference.PreferenceStore.firePropertyChangeEvent(PreferenceStore.java:140)</Frame>
          <Frame depth="11">org.eclipse.jface.preference.PreferenceStore.setValue(PreferenceStore.java:609)</Frame>
          <Frame depth="12">org.eclipse.compare.internal.OverlayPreferenceStore.setValue(OverlayPreferenceStore.java:450)</Frame>
          <Frame depth="13">org.eclipse.compare.internal.ComparePreferencePage$4.widgetSelected(ComparePreferencePage.java:364)</Frame>
          <Frame depth="14">org.eclipse.swt.widgets.TypedListener.handleEvent(TypedListener.java:89)</Frame>
          <Frame depth="15">org.eclipse.swt.widgets.EventTable.sendEvent(EventTable.java:82)</Frame>
          <Frame depth="16">org.eclipse.swt.widgets.Widget.sendEvent(Widget.java:996)</Frame>
          <Frame depth="17">org.eclipse.swt.widgets.Display.runDeferredEvents(Display.java:2698)</Frame>
          <Frame depth="18">org.eclipse.swt.widgets.Display.readAndDispatch(Display.java:2397)</Frame>
          <Frame depth="19">org.eclipse.jface.window.Window.runEventLoop(Window.java:718)</Frame>
          <Frame depth="20">org.eclipse.jface.window.Window.open(Window.java:696)</Frame>
          <Frame depth="21">org.eclipse.ui.internal.OpenPreferencesAction.run(OpenPreferencesAction.java:64)</Frame>
          <Frame depth="22">org.eclipse.jface.action.Action.runWithEvent(Action.java:989)</Frame>
          <Frame depth="23">org.eclipse.jface.action.ActionContributionItem.handleWidgetSelection(ActionContributionItem.java:555)</Frame>
          <Frame depth="24">org.eclipse.jface.action.ActionContributionItem.access$2(ActionContributionItem.java:505)</Frame>
          <Frame depth="25">org.eclipse.jface.action.ActionContributionItem$6.handleEvent(ActionContributionItem.java:419)</Frame>
          <Frame depth="26">org.eclipse.swt.widgets.EventTable.sendEvent(EventTable.java:82)</Frame>
          <Frame depth="27">org.eclipse.swt.widgets.Widget.sendEvent(Widget.java:996)</Frame>
          <Frame depth="28">org.eclipse.swt.widgets.Display.runDeferredEvents(Display.java:2698)</Frame>
          <Frame depth="29">org.eclipse.swt.widgets.Display.readAndDispatch(Display.java:2397)</Frame>
          <Frame depth="30">org.eclipse.ui.internal.Workbench.runEventLoop(Workbench.java:1569)</Frame>
          <Frame depth="31">org.eclipse.ui.internal.Workbench.runUI(Workbench.java:1540)</Frame>
          <Frame depth="32">org.eclipse.ui.internal.Workbench.createAndRunWorkbench(Workbench.java:285)</Frame>
          <Frame depth="33">org.eclipse.ui.PlatformUI.createAndRunWorkbench(PlatformUI.java:144)</Frame>
          <Frame depth="34">org.eclipse.ui.internal.ide.IDEApplication.run(IDEApplication.java:102)</Frame>
          <Frame depth="35">org.eclipse.core.internal.runtime.PlatformActivator$1.run(PlatformActivator.java:220)</Frame>
          <Frame depth="36">org.eclipse.core.runtime.adaptor.EclipseStarter.run(EclipseStarter.java:273)</Frame>
          <Frame depth="37">org.eclipse.core.runtime.adaptor.EclipseStarter.run(EclipseStarter.java:129)</Frame>
          <Frame depth="38">sun.reflect.NativeMethodAccessorImpl.invoke0(Native Method)</Frame>
          <Frame depth="39">sun.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:39)</Frame>
          <Frame depth="40">sun.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:25)</Frame>
          <Frame depth="41">java.lang.reflect.Method.invoke(Method.java:324)</Frame>
          <Frame depth="42">org.eclipse.core.launcher.Main.basicRun(Main.java:185)</Frame>
          <Frame depth="43">org.eclipse.core.launcher.Main.run(Main.java:710)</Frame>
          <Frame depth="44">org.eclipse.core.launcher.Main.main(Main.java:694)</Frame>
        </Frames>
      </Stacktrace>
    </Stacktraces>
    <SourceCodeRegions amount="0" />
    <Enumerations amount="0" />
    <bug_status amount="RESOLVED" />
    <resolution amount="FIXED" />
    <WithStack>Build: I20041214-2000

On the Compare/Text Compare preference page, toggle the first three check box
preferences at the top (start with first, then second, then third). When the
third is toggled, and exception is printed to the log:

org.eclipse.swt.SWTException: Widget is disposed
	at org.eclipse.swt.SWT.error(SWT.java:2827)
	at org.eclipse.swt.SWT.error(SWT.java:2752)
	at org.eclipse.swt.SWT.error(SWT.java:2723)
	at org.eclipse.swt.widgets.Widget.error(Widget.java:386)
	at org.eclipse.swt.widgets.Widget.checkWidget(Widget.java:322)
	at org.eclipse.swt.widgets.Control.setVisible(Control.java:2855)
	at
org.eclipse.compare.contentmergeviewer.TextMergeViewer.setCurrentDiff(TextMergeViewer.java:3765)
	at
org.eclipse.compare.contentmergeviewer.TextMergeViewer.selectFirstDiff(TextMergeViewer.java:3168)
	at
org.eclipse.compare.contentmergeviewer.TextMergeViewer.propertyChange(TextMergeViewer.java:3087)
	at
org.eclipse.compare.contentmergeviewer.TextMergeViewer$1.propertyChange(TextMergeViewer.java:668)
	at
org.eclipse.jface.preference.PreferenceStore.firePropertyChangeEvent(PreferenceStore.java:140)
	at org.eclipse.jface.preference.PreferenceStore.setValue(PreferenceStore.java:609)
	at
org.eclipse.compare.internal.OverlayPreferenceStore.setValue(OverlayPreferenceStore.java:450)
	at
org.eclipse.compare.internal.ComparePreferencePage$4.widgetSelected(ComparePreferencePage.java:364)
	at org.eclipse.swt.widgets.TypedListener.handleEvent(TypedListener.java:89)
	at org.eclipse.swt.widgets.EventTable.sendEvent(EventTable.java:82)
	at org.eclipse.swt.widgets.Widget.sendEvent(Widget.java:996)
	at org.eclipse.swt.widgets.Display.runDeferredEvents(Display.java:2698)
	at org.eclipse.swt.widgets.Display.readAndDispatch(Display.java:2397)
	at org.eclipse.jface.window.Window.runEventLoop(Window.java:718)
	at org.eclipse.jface.window.Window.open(Window.java:696)
	at org.eclipse.ui.internal.OpenPreferencesAction.run(OpenPreferencesAction.java:64)
	at org.eclipse.jface.action.Action.runWithEvent(Action.java:989)
	at
org.eclipse.jface.action.ActionContributionItem.handleWidgetSelection(ActionContributionItem.java:555)
	at
org.eclipse.jface.action.ActionContributionItem.access$2(ActionContributionItem.java:505)
	at
org.eclipse.jface.action.ActionContributionItem$6.handleEvent(ActionContributionItem.java:419)
	at org.eclipse.swt.widgets.EventTable.sendEvent(EventTable.java:82)
	at org.eclipse.swt.widgets.Widget.sendEvent(Widget.java:996)
	at org.eclipse.swt.widgets.Display.runDeferredEvents(Display.java:2698)
	at org.eclipse.swt.widgets.Display.readAndDispatch(Display.java:2397)
	at org.eclipse.ui.internal.Workbench.runEventLoop(Workbench.java:1569)
	at org.eclipse.ui.internal.Workbench.runUI(Workbench.java:1540)
	at org.eclipse.ui.internal.Workbench.createAndRunWorkbench(Workbench.java:285)
	at org.eclipse.ui.PlatformUI.createAndRunWorkbench(PlatformUI.java:144)
	at org.eclipse.ui.internal.ide.IDEApplication.run(IDEApplication.java:102)
	at
org.eclipse.core.internal.runtime.PlatformActivator$1.run(PlatformActivator.java:220)
	at org.eclipse.core.runtime.adaptor.EclipseStarter.run(EclipseStarter.java:273)
	at org.eclipse.core.runtime.adaptor.EclipseStarter.run(EclipseStarter.java:129)
	at sun.reflect.NativeMethodAccessorImpl.invoke0(Native Method)
	at sun.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:39)
	at
sun.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:25)
	at java.lang.reflect.Method.invoke(Method.java:324)
	at org.eclipse.core.launcher.Main.basicRun(Main.java:185)
	at org.eclipse.core.launcher.Main.run(Main.java:710)
	at org.eclipse.core.launcher.Main.main(Main.java:694)
Has been fixed some time a go.</WithStack>
    <WithOutStack>Build: I20041214-2000

On the Compare/Text Compare preference page, toggle the first three check box
preferences at the top (start with first, then second, then third). When the
third is toggled, and exception is printed to the log:


Has been fixed some time a go.</WithOutStack>
  </Bug>
  <Bug>
    <BugId amount="81428" />
    <CreationDate amount="2004-12-16 12:04:00 -0500" />
    <DupId amount="" />
    <classification amount="Eclipse" />
    <Product amount="JDT" />
    <component amount="Debug" />
    <Version amount="3.1" />
    <rep_platform amount="PC" />
    <op_sys amount="Windows XP" />
    <priority amount="P3" />
    <bug_severity amount="normal" />
    <Summery>JDI code requires use of optional timeout argument</Summery>
    <Patches amount="0" />
    <Stacktraces amount="0" />
    <SourceCodeRegions amount="1">
      <source_code type="functioncall">
        <location start="1006" end="1076" />
        <code>JavaRuntime.getPreferences().getInt(JavaRuntime.PREF_CONNECT_TIMEOUT);</code>
      </source_code>
    </SourceCodeRegions>
    <Enumerations amount="0" />
    <bug_status amount="VERIFIED" />
    <resolution amount="FIXED" />
    <WithStack>Build 3.0M3

The symptoms are the J9 launching plug-in does not work in debug mode with 
this build.

After snooping around, I discovered that the JDI code defines an *optional* 
default timeout argument in the class:
   org.eclipse.jdi.internal.connect.SocketListeningConnectorImpl

see
   #defaultArguments()  line:55

and then throws an expection if that argument is not provided
    #getConnectionArguments(Map) line:85 &amp; 88


The J9 launching plug-in did not specify a timeout.
The workaround is to change the J9 launching code to specify a timeout, then 
all seems to work ok.
Created attachment 16704
patch to SocketListeningConnectorImpl

Tim - does this patch solve the problem for you?
Released patch to M4.
Actually it doesn't solve the problem -- but looking at the fix I don't 
understand why it doesn't!?  I'm happy to leave this bug closed for now and 
I'll look into it when I get a bit more time.

BTW: is specifying the timeout as zero the right answer?  Would it not be 
better as this?
JavaRuntime.getPreferences().getInt(JavaRuntime.PREF_CONNECT_TIMEOUT);
We should likely use the default timeout instead of 0.
JavaRuntime is launching plugin and can't be referenced from jdt.debug. The preference should be 
retrieved and set in the arguments Map before the call to startListening(Map arguments). If the 
argument isn't in the Map it seems reasonable to assume 0 ms (wait forever).
All the code to perform the timeouts was done, but the SocketTransportService.Capabilities was saying 
that the timeouts were not supported. 
Also changed SocketListeningConnectorImpl.accept(..) to call getConnectionArguments() before 
attempting to establish a connection.
Marking Fixed
Darin, please verify
note bug # 84473. Still work to do handling timeouts properly.
Verified, noting bug 84473.</WithStack>
    <WithOutStack>Build 3.0M3

The symptoms are the J9 launching plug-in does not work in debug mode with 
this build.

After snooping around, I discovered that the JDI code defines an *optional* 
default timeout argument in the class:
   org.eclipse.jdi.internal.connect.SocketListeningConnectorImpl

see
   #defaultArguments()  line:55

and then throws an expection if that argument is not provided
    #getConnectionArguments(Map) line:85 &amp; 88


The J9 launching plug-in did not specify a timeout.
The workaround is to change the J9 launching code to specify a timeout, then 
all seems to work ok.
Created attachment 16704
patch to SocketListeningConnectorImpl

Tim - does this patch solve the problem for you?
Released patch to M4.
Actually it doesn't solve the problem -- but looking at the fix I don't 
understand why it doesn't!?  I'm happy to leave this bug closed for now and 
I'll look into it when I get a bit more time.

BTW: is specifying the timeout as zero the right answer?  Would it not be 
better as this?
JavaRuntime.getPreferences().getInt(JavaRuntime.PREF_CONNECT_TIMEOUT);
We should likely use the default timeout instead of 0.
JavaRuntime is launching plugin and can't be referenced from jdt.debug. The preference should be 
retrieved and set in the arguments Map before the call to startListening(Map arguments). If the 
argument isn't in the Map it seems reasonable to assume 0 ms (wait forever).
All the code to perform the timeouts was done, but the SocketTransportService.Capabilities was saying 
that the timeouts were not supported. 
Also changed SocketListeningConnectorImpl.accept(..) to call getConnectionArguments() before 
attempting to establish a connection.
Marking Fixed
Darin, please verify
note bug # 84473. Still work to do handling timeouts properly.
Verified, noting bug 84473.</WithOutStack>
  </Bug>
  <Bug>
    <BugId amount="81429" />
    <CreationDate amount="2004-12-16 12:05:00 -0500" />
    <DupId amount="" />
    <classification amount="Eclipse" />
    <Product amount="Platform" />
    <component amount="Team" />
    <Version amount="3.1" />
    <rep_platform amount="PC" />
    <op_sys amount="Windows XP" />
    <priority amount="P4" />
    <bug_severity amount="enhancement" />
    <Summery>Set the commit comment to be the last comment used</Summery>
    <Patches amount="0" />
    <Stacktraces amount="0" />
    <SourceCodeRegions amount="0" />
    <Enumerations amount="0" />
    <bug_status amount="RESOLVED" />
    <resolution amount="WONTFIX" />
    <WithStack>I generally release code in batches that would require the same commit comment 
(not all released on the same commit).

Would it be possible to set the commit comment to be the last commit comment 
used? 
Or could be a preference tied to whether empty commit comments are allowed?
I seem to recall that we used to do this. Must of been purged when we
implemented the template (e.g. CVS server templates). Valid request though.
*** Bug 87619 has been marked as a duplicate of this bug. ***
We do not plan on addressing this issue.</WithStack>
    <WithOutStack>I generally release code in batches that would require the same commit comment 
(not all released on the same commit).

Would it be possible to set the commit comment to be the last commit comment 
used? 
Or could be a preference tied to whether empty commit comments are allowed?
I seem to recall that we used to do this. Must of been purged when we
implemented the template (e.g. CVS server templates). Valid request though.
*** Bug 87619 has been marked as a duplicate of this bug. ***
We do not plan on addressing this issue.</WithOutStack>
  </Bug>
  <Bug>
    <BugId amount="81430" />
    <CreationDate amount="2004-12-16 12:14:00 -0500" />
    <DupId amount="49617" />
    <classification amount="Eclipse" />
    <Product amount="Platform" />
    <component amount="Ant" />
    <Version amount="3.1" />
    <rep_platform amount="PC" />
    <op_sys amount="Linux-GTK" />
    <priority amount="P3" />
    <bug_severity amount="normal" />
    <Summery>Invisible writing on ant runtime preference page</Summery>
    <Patches amount="0" />
    <Stacktraces amount="0" />
    <SourceCodeRegions amount="0" />
    <Enumerations amount="1">
      <Enumeration lines="4">
        <Lines>
          <Line>1) Go to the Ant &gt; Runtime preference page</Line>
          <Line>2) Go to the "Properties" tab and select the first property in the list</Line>
          <Line>(eclipse.home)</Line>
          <Line>3) Switch to the types tab and then back to the properties tab</Line>
        </Lines>
      </Enumeration>
    </Enumerations>
    <bug_status amount="RESOLVED" />
    <resolution amount="DUPLICATE" />
    <WithStack>Build: I20041214-2000
3.1 M4 test pass

1) Go to the Ant &gt; Runtime preference page
2) Go to the "Properties" tab and select the first property in the list
(eclipse.home)
3) Switch to the types tab and then back to the properties tab

-&gt; The blue selection highlighting is gone.  What remains is white text on a
light yellow background, meaning it is almost invisible.
Created attachment 16702
Screen shot of invisible writing
Jared this rings a bell with an issue you found on linux. 
I could not find the bug report after a quick search?
This is due to a GTK+ bug.  If you set the foreground or background colours
of a row in a table, these will be overridden by the selection foreground and
background as normal.  However, if the tree loses focus, the unfocused
selection colours do not override the user preferences as expected.  This is
fixed in GTK+ for their next major release (GTK+ 2.6.0).

In this screenshot, it seems that the background colour has been set on
the row to be yellow, and the table does not have focus.
The SWT bug on this issue is bug 49617.  This should probably just be marked
as a duplicate of that.
Works fine on windows. no plans to change.

*** This bug has been marked as a duplicate of 49617 ***
Is there a particular reason why you are setting the table and tree background
colours in these preference dialogs (let alone choosing light yellow as the
background colour)?  Browsing through other preference pages, even the Ant
editor preferences, other preference pages don't change the background colour. 
The Ant runtime preferences stand out, even on Windows.
Extension point contributed items (read only) are background highlighted. 
User defined items have the default background. 
The point is to make these items stand out.</WithStack>
    <WithOutStack>Build: I20041214-2000
3.1 M4 test pass

1) Go to the Ant &gt; Runtime preference page
2) Go to the "Properties" tab and select the first property in the list
(eclipse.home)
3) Switch to the types tab and then back to the properties tab

-&gt; The blue selection highlighting is gone.  What remains is white text on a
light yellow background, meaning it is almost invisible.
Created attachment 16702
Screen shot of invisible writing
Jared this rings a bell with an issue you found on linux. 
I could not find the bug report after a quick search?
This is due to a GTK+ bug.  If you set the foreground or background colours
of a row in a table, these will be overridden by the selection foreground and
background as normal.  However, if the tree loses focus, the unfocused
selection colours do not override the user preferences as expected.  This is
fixed in GTK+ for their next major release (GTK+ 2.6.0).

In this screenshot, it seems that the background colour has been set on
the row to be yellow, and the table does not have focus.
The SWT bug on this issue is bug 49617.  This should probably just be marked
as a duplicate of that.
Works fine on windows. no plans to change.

*** This bug has been marked as a duplicate of 49617 ***
Is there a particular reason why you are setting the table and tree background
colours in these preference dialogs (let alone choosing light yellow as the
background colour)?  Browsing through other preference pages, even the Ant
editor preferences, other preference pages don't change the background colour. 
The Ant runtime preferences stand out, even on Windows.
Extension point contributed items (read only) are background highlighted. 
User defined items have the default background. 
The point is to make these items stand out.</WithOutStack>
  </Bug>
  <Bug>
    <BugId amount="81431" />
    <CreationDate amount="2004-12-16 12:20:00 -0500" />
    <DupId amount="" />
    <classification amount="Eclipse" />
    <Product amount="Platform" />
    <component amount="CVS" />
    <Version amount="3.1" />
    <rep_platform amount="PC" />
    <op_sys amount="Windows XP" />
    <priority amount="P3" />
    <bug_severity amount="normal" />
    <Summery>Auto-refresh of tags should not prompt</Summery>
    <Patches amount="0" />
    <Stacktraces amount="0" />
    <SourceCodeRegions amount="0" />
    <Enumerations amount="0" />
    <bug_status amount="RESOLVED" />
    <resolution amount="FIXED" />
    <WithStack>If no tags are found in the background job, the user gets interrupted by a
popup asking for further steps (deep search or manual configuration). That's
intrusive, I think the job should just fail gracefully and let the user be in
charge of taking additional mesures.
I think that prompting is a bit intrusive given that there is already a dialog 
open. I don't think we should just go ahead with the deep search as it may 
take a very long time if the project is big. My vote would be to show a 
message in the existing dialog that would give the user the same information 
that the prompt does. The options to Refresh or Configure manually are already 
in the existing dialog so the message would just need to point to them.
As pointed out in bug 80478, comment 17 and also agreed upon by Michael (see
80478, comment 18) I suggest to close this one as WONTFIX or WORKSFORME :-)

I agree with comment 1.
+1 if users who enabled auto-refresh get some feedback that there might be more
tags.

Out of curiosity: Michael, what is the scenario that you think of in bug 80478,
comment 18?
You will get the deep prompt any time you are fetching tags for a folder that 
doesn't contain files but does contain other folders. For instance, if I do a 
Compare With in the CVS Repositories view on the src folder of an Eclipse 
project, I will get the prompt if auto-refresh is enabled.
released fix.</WithStack>
    <WithOutStack>If no tags are found in the background job, the user gets interrupted by a
popup asking for further steps (deep search or manual configuration). That's
intrusive, I think the job should just fail gracefully and let the user be in
charge of taking additional mesures.
I think that prompting is a bit intrusive given that there is already a dialog 
open. I don't think we should just go ahead with the deep search as it may 
take a very long time if the project is big. My vote would be to show a 
message in the existing dialog that would give the user the same information 
that the prompt does. The options to Refresh or Configure manually are already 
in the existing dialog so the message would just need to point to them.
As pointed out in bug 80478, comment 17 and also agreed upon by Michael (see
80478, comment 18) I suggest to close this one as WONTFIX or WORKSFORME :-)

I agree with comment 1.
+1 if users who enabled auto-refresh get some feedback that there might be more
tags.

Out of curiosity: Michael, what is the scenario that you think of in bug 80478,
comment 18?
You will get the deep prompt any time you are fetching tags for a folder that 
doesn't contain files but does contain other folders. For instance, if I do a 
Compare With in the CVS Repositories view on the src folder of an Eclipse 
project, I will get the prompt if auto-refresh is enabled.
released fix.</WithOutStack>
  </Bug>
  <Bug>
    <BugId amount="81432" />
    <CreationDate amount="2004-12-16 12:31:00 -0500" />
    <DupId amount="" />
    <classification amount="Eclipse" />
    <Product amount="Platform" />
    <component amount="Compare" />
    <Version amount="3.1" />
    <rep_platform amount="PC" />
    <op_sys amount="Windows XP" />
    <priority amount="P3" />
    <bug_severity amount="minor" />
    <Summery>[Structured Compare] Go to Next/Previous Difference makes tree selection flicker</Summery>
    <Patches amount="0" />
    <Stacktraces amount="0" />
    <SourceCodeRegions amount="0" />
    <Enumerations amount="0" />
    <bug_status amount="ASSIGNED" />
    <resolution amount="" />
    <WithStack>I200412160800

Do a structure compare of two revisions of a java compilation unit. Select the
top item in the change structure tree and start pressing Go to Next Difference
or Ctrl+.

Whenever the selection in the structure tree changes, it flickers (looks like
select-unselect-reselect).</WithStack>
    <WithOutStack>I200412160800

Do a structure compare of two revisions of a java compilation unit. Select the
top item in the change structure tree and start pressing Go to Next Difference
or Ctrl+.

Whenever the selection in the structure tree changes, it flickers (looks like
select-unselect-reselect).</WithOutStack>
  </Bug>
  <Bug>
    <BugId amount="81433" />
    <CreationDate amount="2004-12-16 12:31:00 -0500" />
    <DupId amount="51595" />
    <classification amount="Eclipse" />
    <Product amount="JDT" />
    <component amount="Text" />
    <Version amount="3.0" />
    <rep_platform amount="PC" />
    <op_sys amount="Windows 2000" />
    <priority amount="P3" />
    <bug_severity amount="major" />
    <Summery>Quick Fix action in annotation ruler has no effect</Summery>
    <Patches amount="0" />
    <Stacktraces amount="0" />
    <SourceCodeRegions amount="0" />
    <Enumerations amount="0" />
    <bug_status amount="RESOLVED" />
    <resolution amount="DUPLICATE" />
    <WithStack>build I20041214-2000

In a java class with some error, invoke quick fix via the ruler's context menu.
It has no effect.
Ctrl+1 in the text area works OK.
Sorry Nick, I have to disagree :-)
I assume you're now working with the annotation roll-over feature, right? There
it unfortunately never worked so far. I just verified that it works when the
roll-overs are off.


*** This bug has been marked as a duplicate of 51595 ***
Yes, I did still have roll-over on, and when I turn it off Quick Fix in the
ruler works OK.</WithStack>
    <WithOutStack>build I20041214-2000

In a java class with some error, invoke quick fix via the ruler's context menu.
It has no effect.
Ctrl+1 in the text area works OK.
Sorry Nick, I have to disagree :-)
I assume you're now working with the annotation roll-over feature, right? There
it unfortunately never worked so far. I just verified that it works when the
roll-overs are off.


*** This bug has been marked as a duplicate of 51595 ***
Yes, I did still have roll-over on, and when I turn it off Quick Fix in the
ruler works OK.</WithOutStack>
  </Bug>
  <Bug>
    <BugId amount="81434" />
    <CreationDate amount="2004-12-16 12:33:00 -0500" />
    <DupId amount="" />
    <classification amount="Eclipse" />
    <Product amount="Platform" />
    <component amount="Runtime" />
    <Version amount="3.0" />
    <rep_platform amount="PC" />
    <op_sys amount="Windows XP" />
    <priority amount="P3" />
    <bug_severity amount="normal" />
    <Summery>Odd things in my Error Log view</Summery>
    <Patches amount="0" />
    <Stacktraces amount="0" />
    <SourceCodeRegions amount="0" />
    <Enumerations amount="0" />
    <bug_status amount="RESOLVED" />
    <resolution amount="INVALID" />
    <WithStack>I20041214-2000
I'm seeing malformed messages and dates and plug-in ids. I'll attach a
screenshot and a log file.
Created attachment 16705
Error log screenshot
Created attachment 16706
Exported error log that goes with the screenshot.
Rafael, it seems as though the framework is logging messages in a weird format 
that is inconsistent with the runtime logging.
The presence of  "initial@reference:file:c:/Program 
Files/eclipse/plugins/org.eclipse.core.runtime_3.1.0/" with the spaces instead 
of the plugin id that the pde log parser expects is causing this behavior.
But all you care about is that the string between the !ENTRY tag and the
severity/error code numbers does not contain spaces, correct? I mean, no
assumptions about the meaning of the string, right (because we allow anything to
go there)?

The other problem is the lack of two integers (error code/severity) after the
message (covered by bug 79515), such as in:

!ENTRY org.eclipse.osgi 2004-12-16 12:27:14.938
!MESSAGE An unexpected runtime error has occurred.




&gt;But all you care about is that the string between the !ENTRY tag and the
&gt;severity/error code numbers does not contain spaces, correct?

Syntactically yes.  We are expecting a single token.  However, the header in 
the log viewer does say 'Plug-in' so semantically we are expecting a plugin id 
or the like.
Moving to Platform/Runtime.

As per my conversation with Rafael, the framework should be consistent in that 
it spits out the bundle symbolic name to the log instead of the bundle 
location.  Only if the name is not found, should we resort to a bundle 
location.

So along with bug 79515, we should be back in business.
An easy way to ensure that the location (when a symbolic name is not available)
won't contain strings could be by encoding it with URL encoder. PDE could then
decode it with URLDecoder.
How about the "{0}" in the messages?
That was reported in a different PR. See bug 81453.
I believe these problems were addressed by bug 123189 and bug 81453. Closing.</WithStack>
    <WithOutStack>I20041214-2000
I'm seeing malformed messages and dates and plug-in ids. I'll attach a
screenshot and a log file.
Created attachment 16705
Error log screenshot
Created attachment 16706
Exported error log that goes with the screenshot.
Rafael, it seems as though the framework is logging messages in a weird format 
that is inconsistent with the runtime logging.
The presence of  "initial@reference:file:c:/Program 
Files/eclipse/plugins/org.eclipse.core.runtime_3.1.0/" with the spaces instead 
of the plugin id that the pde log parser expects is causing this behavior.
But all you care about is that the string between the !ENTRY tag and the
severity/error code numbers does not contain spaces, correct? I mean, no
assumptions about the meaning of the string, right (because we allow anything to
go there)?

The other problem is the lack of two integers (error code/severity) after the
message (covered by bug 79515), such as in:

!ENTRY org.eclipse.osgi 2004-12-16 12:27:14.938
!MESSAGE An unexpected runtime error has occurred.




&gt;But all you care about is that the string between the !ENTRY tag and the
&gt;severity/error code numbers does not contain spaces, correct?

Syntactically yes.  We are expecting a single token.  However, the header in 
the log viewer does say 'Plug-in' so semantically we are expecting a plugin id 
or the like.
Moving to Platform/Runtime.

As per my conversation with Rafael, the framework should be consistent in that 
it spits out the bundle symbolic name to the log instead of the bundle 
location.  Only if the name is not found, should we resort to a bundle 
location.

So along with bug 79515, we should be back in business.
An easy way to ensure that the location (when a symbolic name is not available)
won't contain strings could be by encoding it with URL encoder. PDE could then
decode it with URLDecoder.
How about the "{0}" in the messages?
That was reported in a different PR. See bug 81453.
I believe these problems were addressed by bug 123189 and bug 81453. Closing.</WithOutStack>
  </Bug>
  <Bug>
    <BugId amount="81435" />
    <CreationDate amount="2004-12-16 12:34:00 -0500" />
    <DupId amount="" />
    <classification amount="Eclipse" />
    <Product amount="Platform" />
    <component amount="Text" />
    <Version amount="3.1" />
    <rep_platform amount="PC" />
    <op_sys amount="All" />
    <priority amount="P2" />
    <bug_severity amount="major" />
    <Summery>Revert actions are not correctly updated</Summery>
    <Patches amount="0" />
    <Stacktraces amount="0" />
    <SourceCodeRegions amount="0" />
    <Enumerations amount="0" />
    <bug_status amount="VERIFIED" />
    <resolution amount="FIXED" />
    <WithStack>I200412160800

The Revert {Line, Block, Selection} actions in the ruler context menu are not
correctly updated. This results in disabled menu entries and wrong behavior, as
the actions cache the line of activity from the last isEnabled() call and
operate on it when selected. Choosing "Revert ..." may change the document at
the caret selection instead of at the line where the user invoked the context menu.

The fix is to create two sets of actions: ruler based actions and selection
based actions. The former are created on the fly when the context menu is
created and compute their activity line based on the IVerticalRulerInfo obtained
from the editor; the latter are part of AbstractDecoratedTextEditor's action set
and operate based on the editor's selection. The selection based actions are
used when the Revert actions are activated using keyboard shortcuts.
into M4 if possible.
fixed for I20041216-1600
Verified in I20041216-2000</WithStack>
    <WithOutStack>I200412160800

The Revert {Line, Block, Selection} actions in the ruler context menu are not
correctly updated. This results in disabled menu entries and wrong behavior, as
the actions cache the line of activity from the last isEnabled() call and
operate on it when selected. Choosing "Revert ..." may change the document at
the caret selection instead of at the line where the user invoked the context menu.

The fix is to create two sets of actions: ruler based actions and selection
based actions. The former are created on the fly when the context menu is
created and compute their activity line based on the IVerticalRulerInfo obtained
from the editor; the latter are part of AbstractDecoratedTextEditor's action set
and operate based on the editor's selection. The selection based actions are
used when the Revert actions are activated using keyboard shortcuts.
into M4 if possible.
fixed for I20041216-1600
Verified in I20041216-2000</WithOutStack>
  </Bug>
  <Bug>
    <BugId amount="81436" />
    <CreationDate amount="2004-12-16 12:43:00 -0500" />
    <DupId amount="" />
    <classification amount="Eclipse" />
    <Product amount="Platform" />
    <component amount="UI" />
    <Version amount="3.0.1" />
    <rep_platform amount="PC" />
    <op_sys amount="Windows XP" />
    <priority amount="P3" />
    <bug_severity amount="normal" />
    <Summery>[DnD] IllegalArgumentException: Index out of Bounds while dragging editor tab to editor pane</Summery>
    <Patches amount="0" />
    <Stacktraces amount="1">
      <Stacktrace timestamp="1437341216824">
        <Exception>java.lang.IllegalArgumentException</Exception>
        <Reason>Index out of bounds</Reason>
        <Frames>
          <Frame depth="0">org.eclipse.swt.SWT.error(SWT.java:2677)</Frame>
          <Frame depth="1">org.eclipse.swt.SWT.error(SWT.java:2616)</Frame>
          <Frame depth="2">org.eclipse.swt.SWT.error(SWT.java:2587)</Frame>
          <Frame depth="3">org.eclipse.swt.custom.CTabFolder.getItem(CTabFolder.java:1213)</Frame>
          <Frame depth="4">org.eclipse.ui.internal.presentations.PaneFolder.getItem(PaneFolder.java:597)</Frame>
          <Frame depth="5">org.eclipse.ui.internal.presentations.DefaultPartPresentation.dragOver(DefaultPartPresentation.java:1253)</Frame>
          <Frame depth="6">org.eclipse.ui.internal.PartStack$2.drag(PartStack.java:419)</Frame>
          <Frame depth="7">org.eclipse.ui.internal.dnd.DragUtil.getDropTarget(DragUtil.java:303)</Frame>
          <Frame depth="8">org.eclipse.ui.internal.dnd.DragUtil.getDropTarget(DragUtil.java:323)</Frame>
          <Frame depth="9">org.eclipse.ui.internal.dnd.DragUtil$2.run(DragUtil.java:211)</Frame>
          <Frame depth="10">org.eclipse.swt.widgets.Synchronizer.syncExec(Synchronizer.java:135)</Frame>
          <Frame depth="11">org.eclipse.ui.internal.UISynchronizer.syncExec(UISynchronizer.java:25)</Frame>
          <Frame depth="12">org.eclipse.swt.widgets.Display.syncExec(Display.java:3096)</Frame>
          <Frame depth="13">org.eclipse.ui.internal.dnd.DragUtil$1.handleEvent(DragUtil.java:205)</Frame>
          <Frame depth="14">org.eclipse.swt.widgets.EventTable.sendEvent(EventTable.java:82)</Frame>
          <Frame depth="15">org.eclipse.swt.widgets.Widget.sendEvent(Widget.java:796)</Frame>
          <Frame depth="16">org.eclipse.swt.widgets.Widget.sendEvent(Widget.java:820)</Frame>
          <Frame depth="17">org.eclipse.swt.widgets.Widget.sendEvent(Widget.java:805)</Frame>
          <Frame depth="18">org.eclipse.swt.widgets.Tracker.open(Tracker.java:584)</Frame>
          <Frame depth="19">org.eclipse.ui.internal.dnd.DragUtil.dragToTarget(DragUtil.java:260)</Frame>
          <Frame depth="20">org.eclipse.ui.internal.dnd.DragUtil.performDrag(DragUtil.java:121)</Frame>
          <Frame depth="21">org.eclipse.ui.internal.PartStack.dragStart(PartStack.java:1147)</Frame>
          <Frame depth="22">org.eclipse.ui.internal.PartStack$1.dragStart(PartStack.java:78)</Frame>
          <Frame depth="23">org.eclipse.ui.internal.presentations.DefaultPartPresentation$11.handleEvent(DefaultPartPresentation.java:333)</Frame>
          <Frame depth="24">org.eclipse.ui.presentations.PresentationUtil.handleMouseMove(PresentationUtil.java:89)</Frame>
          <Frame depth="25">org.eclipse.ui.presentations.PresentationUtil.access$4(PresentationUtil.java:83)</Frame>
          <Frame depth="26">org.eclipse.ui.presentations.PresentationUtil$2.handleEvent(PresentationUtil.java:55)</Frame>
          <Frame depth="27">org.eclipse.swt.widgets.EventTable.sendEvent(EventTable.java:82)</Frame>
          <Frame depth="28">org.eclipse.swt.widgets.Widget.sendEvent(Widget.java:796)</Frame>
          <Frame depth="29">org.eclipse.swt.widgets.Display.runDeferredEvents(Display.java:2772)</Frame>
          <Frame depth="30">org.eclipse.swt.widgets.Display.readAndDispatch(Display.java:2431)</Frame>
          <Frame depth="31">org.eclipse.ui.internal.Workbench.runEventLoop(Workbench.java:1377)</Frame>
          <Frame depth="32">org.eclipse.ui.internal.Workbench.runUI(Workbench.java:1348)</Frame>
          <Frame depth="33">org.eclipse.ui.internal.Workbench.createAndRunWorkbench(Workbench.java:254)</Frame>
          <Frame depth="34">org.eclipse.ui.PlatformUI.createAndRunWorkbench(PlatformUI.java:141)</Frame>
          <Frame depth="35">com.streambase.sb.ide.IDEApplication.doRun(IDEApplication.java:190)</Frame>
          <Frame depth="36">com.streambase.sb.ide.IDERunnable.run(IDERunnable.java:17)</Frame>
          <Frame depth="37">org.eclipse.core.internal.runtime.PlatformActivator$1.run(PlatformActivator.java:335)</Frame>
          <Frame depth="38">org.eclipse.core.runtime.adaptor.EclipseStarter.run(EclipseStarter.java:273)</Frame>
          <Frame depth="39">org.eclipse.core.runtime.adaptor.EclipseStarter.run(EclipseStarter.java:129)</Frame>
          <Frame depth="40">sun.reflect.NativeMethodAccessorImpl.invoke0(Native Method)</Frame>
          <Frame depth="41">sun.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:39)</Frame>
          <Frame depth="42">sun.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:25)</Frame>
          <Frame depth="43">java.lang.reflect.Method.invoke(Method.java:324)</Frame>
          <Frame depth="44">org.eclipse.core.launcher.Main.basicRun(Main.java:185)</Frame>
          <Frame depth="45">org.eclipse.core.launcher.Main.run(Main.java:704)</Frame>
          <Frame depth="46">org.eclipse.core.launcher.Main.main(Main.java:688)</Frame>
        </Frames>
      </Stacktrace>
    </Stacktraces>
    <SourceCodeRegions amount="0" />
    <Enumerations amount="0" />
    <bug_status amount="CLOSED" />
    <resolution amount="FIXED" />
    <WithStack>This was seen in an RCP application:
 I opened our app, and the workbench had saved the Editor area with three panes:

___________
|  1  |   |
|  _  | 3 |
|  2  |   |
-----------

I opened a resource, an editor popped up in pane 2. If I dragged the editor's
tab to the top of pane 1, or the top of pane 3, I got an
IllegalArgumentException: Index out of bounds.

Trace to follow.
Unhandled event loop exception
Reason:
Index out of bounds
java.lang.IllegalArgumentException: Index out of bounds
	at org.eclipse.swt.SWT.error(SWT.java:2677)
	at org.eclipse.swt.SWT.error(SWT.java:2616)
	at org.eclipse.swt.SWT.error(SWT.java:2587)
	at org.eclipse.swt.custom.CTabFolder.getItem(CTabFolder.java:1213)
	at org.eclipse.ui.internal.presentations.PaneFolder.getItem
(PaneFolder.java:597)
	at 
org.eclipse.ui.internal.presentations.DefaultPartPresentation.dragOver
(DefaultPartPresentation.java:1253)
	at org.eclipse.ui.internal.PartStack$2.drag(PartStack.java:419)
	at org.eclipse.ui.internal.dnd.DragUtil.getDropTarget
(DragUtil.java:303)
	at org.eclipse.ui.internal.dnd.DragUtil.getDropTarget
(DragUtil.java:323)
	at org.eclipse.ui.internal.dnd.DragUtil$2.run(DragUtil.java:211)
	at org.eclipse.swt.widgets.Synchronizer.syncExec(Synchronizer.java:135)
	at org.eclipse.ui.internal.UISynchronizer.syncExec
(UISynchronizer.java:25)
	at org.eclipse.swt.widgets.Display.syncExec(Display.java:3096)
	at org.eclipse.ui.internal.dnd.DragUtil$1.handleEvent
(DragUtil.java:205)
	at org.eclipse.swt.widgets.EventTable.sendEvent(EventTable.java:82)
	at org.eclipse.swt.widgets.Widget.sendEvent(Widget.java:796)
	at org.eclipse.swt.widgets.Widget.sendEvent(Widget.java:820)
	at org.eclipse.swt.widgets.Widget.sendEvent(Widget.java:805)
	at org.eclipse.swt.widgets.Tracker.open(Tracker.java:584)
	at org.eclipse.ui.internal.dnd.DragUtil.dragToTarget(DragUtil.java:260)
	at org.eclipse.ui.internal.dnd.DragUtil.performDrag(DragUtil.java:121)
	at org.eclipse.ui.internal.PartStack.dragStart(PartStack.java:1147)
	at org.eclipse.ui.internal.PartStack$1.dragStart(PartStack.java:78)
	at 
org.eclipse.ui.internal.presentations.DefaultPartPresentation$11.handleEvent
(DefaultPartPresentation.java:333)
	at org.eclipse.ui.presentations.PresentationUtil.handleMouseMove
(PresentationUtil.java:89)
	at org.eclipse.ui.presentations.PresentationUtil.access$4
(PresentationUtil.java:83)
	at org.eclipse.ui.presentations.PresentationUtil$2.handleEvent
(PresentationUtil.java:55)
	at org.eclipse.swt.widgets.EventTable.sendEvent(EventTable.java:82)
	at org.eclipse.swt.widgets.Widget.sendEvent(Widget.java:796)
	at org.eclipse.swt.widgets.Display.runDeferredEvents(Display.java:2772)
	at org.eclipse.swt.widgets.Display.readAndDispatch(Display.java:2431)
	at org.eclipse.ui.internal.Workbench.runEventLoop(Workbench.java:1377)
	at org.eclipse.ui.internal.Workbench.runUI(Workbench.java:1348)
	at org.eclipse.ui.internal.Workbench.createAndRunWorkbench
(Workbench.java:254)
	at org.eclipse.ui.PlatformUI.createAndRunWorkbench(PlatformUI.java:141)
	at com.streambase.sb.ide.IDEApplication.doRun(IDEApplication.java:190)
	at com.streambase.sb.ide.IDERunnable.run(IDERunnable.java:17)
	at org.eclipse.core.internal.runtime.PlatformActivator$1.run
(PlatformActivator.java:335)
	at org.eclipse.core.runtime.adaptor.EclipseStarter.run
(EclipseStarter.java:273)
	at org.eclipse.core.runtime.adaptor.EclipseStarter.run
(EclipseStarter.java:129)
	at sun.reflect.NativeMethodAccessorImpl.invoke0(Native Method)
	at sun.reflect.NativeMethodAccessorImpl.invoke
(NativeMethodAccessorImpl.java:39)
	at sun.reflect.DelegatingMethodAccessorImpl.invoke
(DelegatingMethodAccessorImpl.java:25)
	at java.lang.reflect.Method.invoke(Method.java:324)
	at org.eclipse.core.launcher.Main.basicRun(Main.java:185)
	at org.eclipse.core.launcher.Main.run(Main.java:704)
	at org.eclipse.core.launcher.Main.main(Main.java:688)
Unhandled event loop exception
Reason:
Index out of bounds

Just tried this with 3.1 and dont see the issue...

yeah, its gone!

I'm marking fixed -- I'm going to assume it really got fixed, even if indirectly.

Closing as per last comment...</WithStack>
    <WithOutStack>This was seen in an RCP application:
 I opened our app, and the workbench had saved the Editor area with three panes:

___________
|  1  |   |
|  _  | 3 |
|  2  |   |
-----------

I opened a resource, an editor popped up in pane 2. If I dragged the editor's
tab to the top of pane 1, or the top of pane 3, I got an
IllegalArgumentException: Index out of bounds.

Trace to follow.
Unhandled event loop exception
Reason:
Index out of bounds

Unhandled event loop exception
Reason:
Index out of bounds

Just tried this with 3.1 and dont see the issue...

yeah, its gone!

I'm marking fixed -- I'm going to assume it really got fixed, even if indirectly.

Closing as per last comment...</WithOutStack>
  </Bug>
  <Bug>
    <BugId amount="81437" />
    <CreationDate amount="2004-12-16 12:50:00 -0500" />
    <DupId amount="" />
    <classification amount="WebTools" />
    <Product amount="WTP Source Editing" />
    <component amount="wst.css" />
    <Version amount="unspecified" />
    <rep_platform amount="PC" />
    <op_sys amount="Windows XP" />
    <priority amount="P3" />
    <bug_severity amount="normal" />
    <Summery>cannot use bold syntax highlighting preference in embedded css in html</Summery>
    <Patches amount="0" />
    <Stacktraces amount="0" />
    <SourceCodeRegions amount="2">
      <source_code type="functioncall">
        <location start="335" end="442" />
        <code>holdResults.add(new StyleRange(start, token.length, attribute.getForeground(), attribute.getBackground()));</code>
      </source_code>
      <source_code type="functioncall">
        <location start="449" end="578" />
        <code>holdResults.add(new StyleRange(start, token.length, attribute.getForeground(), attribute.getBackground(), attribute.getStyle()));</code>
      </source_code>
    </SourceCodeRegions>
    <Enumerations amount="1">
      <Enumeration lines="6">
        <Lines>
          <Line>1. create an html file with embedded css</Line>
          <Line>2. change a css syntax highlight preference to be bold</Line>
          <Line>3. nothing is bold-ed</Line>
          <Line>*** Bug 110036 has been marked as a duplicate of this bug. ***</Line>
          <Line>In LineStyleProvderForEmbeddedCSS#prepareRegions</Line>
          <Line>Instead of:</Line>
        </Lines>
      </Enumeration>
    </Enumerations>
    <bug_status amount="CLOSED" />
    <resolution amount="FIXED" />
    <WithStack>using WTP I20041214

cannot use bold syntax highlighting preference in embedded css in html

1. create an html file with embedded css
2. change a css syntax highlight preference to be bold
3. nothing is bold-ed
*** Bug 110036 has been marked as a duplicate of this bug. ***
In LineStyleProvderForEmbeddedCSS#prepareRegions
Instead of:
holdResults.add(new StyleRange(start, token.length, attribute.getForeground(), attribute.getBackground()));

Use:
holdResults.add(new StyleRange(start, token.length, attribute.getForeground(), attribute.getBackground(), attribute.getStyle()));
fix released to ibuild
verified in wtp 1.5 rc5</WithStack>
    <WithOutStack>using WTP I20041214

cannot use bold syntax highlighting preference in embedded css in html

1. create an html file with embedded css
2. change a css syntax highlight preference to be bold
3. nothing is bold-ed
*** Bug 110036 has been marked as a duplicate of this bug. ***
In LineStyleProvderForEmbeddedCSS#prepareRegions
Instead of:
holdResults.add(new StyleRange(start, token.length, attribute.getForeground(), attribute.getBackground()));

Use:
holdResults.add(new StyleRange(start, token.length, attribute.getForeground(), attribute.getBackground(), attribute.getStyle()));
fix released to ibuild
verified in wtp 1.5 rc5</WithOutStack>
  </Bug>
  <Bug>
    <BugId amount="81438" />
    <CreationDate amount="2004-12-16 12:51:00 -0500" />
    <DupId amount="" />
    <classification amount="Eclipse" />
    <Product amount="JDT" />
    <component amount="Core" />
    <Version amount="3.1" />
    <rep_platform amount="PC" />
    <op_sys amount="Windows XP" />
    <priority amount="P3" />
    <bug_severity amount="normal" />
    <Summery>[index] Adding invalid jar on the classpath causes long delays in hierarchy</Summery>
    <Patches amount="0" />
    <Stacktraces amount="0" />
    <SourceCodeRegions amount="0" />
    <Enumerations amount="1">
      <Enumeration lines="10">
        <Lines>
          <Line>1. Workspace with all JDT Core projects as source</Line>
          <Line>2. Add a 'Test' Java project.</Line>
          <Line>3. Create empty file '/Test/mylib.jar' (it has 0 bytes so it is an invalid jar)</Line>
          <Line>4. Add mylib.jar to the classpath of Test</Line>
          <Line>5. Open hierarchy on ASTNode</Line>
          <Line>Observe: This takes an excessively long time to be computed</Line>
          <Line>Looks like we permanently try to reindex the invalid jar.</Line>
          <Line>Also we add launch many ProgressJobs in JobManager.run().</Line>
          <Line>Is this still an issue ?</Line>
          <Line>No, it's not =&gt; close as WORKSFORME</Line>
        </Lines>
      </Enumeration>
    </Enumerations>
    <bug_status amount="RESOLVED" />
    <resolution amount="WORKSFORME" />
    <WithStack>I20041216

1. Workspace with all JDT Core projects as source
2. Add a 'Test' Java project.
3. Create empty file '/Test/mylib.jar' (it has 0 bytes so it is an invalid jar)
4. Add mylib.jar to the classpath of Test
5. Open hierarchy on ASTNode
Observe: This takes an excessively long time to be computed
Looks like we permanently try to reindex the invalid jar.
Also we add launch many ProgressJobs in JobManager.run().
Is this still an issue ?
No, it's not =&gt; close as WORKSFORME</WithStack>
    <WithOutStack>I20041216

1. Workspace with all JDT Core projects as source
2. Add a 'Test' Java project.
3. Create empty file '/Test/mylib.jar' (it has 0 bytes so it is an invalid jar)
4. Add mylib.jar to the classpath of Test
5. Open hierarchy on ASTNode
Observe: This takes an excessively long time to be computed
Looks like we permanently try to reindex the invalid jar.
Also we add launch many ProgressJobs in JobManager.run().
Is this still an issue ?
No, it's not =&gt; close as WORKSFORME</WithOutStack>
  </Bug>
  <Bug>
    <BugId amount="81439" />
    <CreationDate amount="2004-12-16 13:01:00 -0500" />
    <DupId amount="78934" />
    <classification amount="Eclipse" />
    <Product amount="JDT" />
    <component amount="Core" />
    <Version amount="3.1" />
    <rep_platform amount="PC" />
    <op_sys amount="Windows XP" />
    <priority amount="P3" />
    <bug_severity amount="normal" />
    <Summery>[1.5][dom] incorrect bindings with member interface</Summery>
    <Patches amount="0" />
    <Stacktraces amount="0" />
    <SourceCodeRegions amount="1">
      <source_code type="class">
        <location start="52" end="125" />
        <code>public class Test&lt;A, B&gt; implements ITest&lt;A, B&gt; {
	ITest.IE&lt;A, B&gt; field;
}</code>
      </source_code>
    </SourceCodeRegions>
    <Enumerations amount="2">
      <Enumeration lines="5">
        <Lines>
          <Line>1) getType() is a SimpleType with a QualifiedName.</Line>
          <Line>2) SimpleType binding is null</Line>
          <Line>3) QualifiedName ITest.IE and Simplename IE bindings are both</Line>
          <Line>(raw) type binding: ITest</Line>
          <Line>4) SimpleName ITest binding is (parameterized) type binding: ITest.IE&lt;A,B&gt;</Line>
        </Lines>
      </Enumeration>
      <Enumeration lines="6">
        <Lines>
          <Line>1) QualifiedType (I'm not sure of this one)</Line>
          <Line>2) QualifiedType binding is (parameterized) type binding: ITest.IE</Line>
          <Line>3) QualifiedName ITest.IE and Simplename IE bindings are both</Line>
          <Line>(parameterized) type binding: ITest.IE</Line>
          <Line>4) SimpleName ITest binding is (raw) type binding: ITest</Line>
          <Line>Might be related to bug 78934.</Line>
        </Lines>
      </Enumeration>
    </Enumerations>
    <bug_status amount="RESOLVED" />
    <resolution amount="DUPLICATE" />
    <WithStack>Using 3.1 M4 candidate (I200412160010).

Test case:
public class Test&lt;A, B&gt; implements ITest&lt;A, B&gt; {
	ITest.IE&lt;A, B&gt; field;
}
interface ITest&lt;I, J&gt; {
	interface IE&lt;I, J&gt; {}
}

If you look at field type (ParameterizedType ITest.IE&lt;A, B&gt;), then you can
observe using ASTView 1.0.2 than:
 1) getType() is a SimpleType with a QualifiedName.
 2) SimpleType binding is null
 3) QualifiedName ITest.IE and Simplename IE bindings are both
    (raw) type binding: ITest
 4) SimpleName ITest binding is (parameterized) type binding: ITest.IE&lt;A,B&gt;

I would expect:
 1) QualifiedType (I'm not sure of this one)
 2) QualifiedType binding is (parameterized) type binding: ITest.IE
 3) QualifiedName ITest.IE and Simplename IE bindings are both
    (parameterized) type binding: ITest.IE
 4) SimpleName ITest binding is (raw) type binding: ITest
Might be related to bug 78934.


*** This bug has been marked as a duplicate of 78934 ***</WithStack>
    <WithOutStack>Using 3.1 M4 candidate (I200412160010).

Test case:
public class Test&lt;A, B&gt; implements ITest&lt;A, B&gt; {
	ITest.IE&lt;A, B&gt; field;
}
interface ITest&lt;I, J&gt; {
	interface IE&lt;I, J&gt; {}
}

If you look at field type (ParameterizedType ITest.IE&lt;A, B&gt;), then you can
observe using ASTView 1.0.2 than:
 1) getType() is a SimpleType with a QualifiedName.
 2) SimpleType binding is null
 3) QualifiedName ITest.IE and Simplename IE bindings are both
    (raw) type binding: ITest
 4) SimpleName ITest binding is (parameterized) type binding: ITest.IE&lt;A,B&gt;

I would expect:
 1) QualifiedType (I'm not sure of this one)
 2) QualifiedType binding is (parameterized) type binding: ITest.IE
 3) QualifiedName ITest.IE and Simplename IE bindings are both
    (parameterized) type binding: ITest.IE
 4) SimpleName ITest binding is (raw) type binding: ITest
Might be related to bug 78934.


*** This bug has been marked as a duplicate of 78934 ***</WithOutStack>
  </Bug>
  <Bug>
    <BugId amount="81440" />
    <CreationDate amount="2004-12-16 13:07:00 -0500" />
    <DupId amount="" />
    <classification amount="Eclipse" />
    <Product amount="PDE" />
    <component amount="UI" />
    <Version amount="3.1" />
    <rep_platform amount="PC" />
    <op_sys amount="Windows XP" />
    <priority amount="P3" />
    <bug_severity amount="normal" />
    <Summery>IndexOutOfBoundsException opening Log view (not only in Switzerland)</Summery>
    <Patches amount="0" />
    <Stacktraces amount="1">
      <Stacktrace timestamp="1437341216829">
        <Exception>java.lang.IndexOutOfBoundsException</Exception>
        <Reason>Index: 1, Size: 1</Reason>
        <Frames>
          <Frame depth="0">java.util.ArrayList.RangeCheck(ArrayList.java:539)</Frame>
          <Frame depth="1">java.util.ArrayList.get(ArrayList.java:356)</Frame>
          <Frame depth="2">org.eclipse.pde.internal.runtime.logview.LogReader.parseLargeFile(LogReader.java:115)</Frame>
          <Frame depth="3">org.eclipse.pde.internal.runtime.logview.LogView.readLogFile(LogView.java:614)</Frame>
          <Frame depth="4">org.eclipse.pde.internal.runtime.logview.LogView.createPartControl(LogView.java:93)</Frame>
          <Frame depth="5">org.eclipse.ui.internal.PartPane$2.run(PartPane.java:148)</Frame>
          <Frame depth="6">org.eclipse.core.internal.runtime.InternalPlatform.run(InternalPlatform.java:1044)</Frame>
          <Frame depth="7">org.eclipse.core.runtime.Platform.run(Platform.java:747)</Frame>
          <Frame depth="8">org.eclipse.ui.internal.PartPane.doCreateChildControl(PartPane.java:144)</Frame>
          <Frame depth="9">org.eclipse.ui.internal.ViewPane.doCreateChildControl(ViewPane.java:135)</Frame>
          <Frame depth="10">org.eclipse.ui.internal.PartPane.createChildControl(PartPane.java:349)</Frame>
          <Frame depth="11">org.eclipse.ui.internal.ViewFactory$1.run(ViewFactory.java:398)</Frame>
          <Frame depth="12">org.eclipse.core.internal.runtime.InternalPlatform.run(InternalPlatform.java:1044)</Frame>
          <Frame depth="13">org.eclipse.core.runtime.Platform.run(Platform.java:747)</Frame>
          <Frame depth="14">org.eclipse.ui.internal.ViewFactory.busyRestoreView(ViewFactory.java:287)</Frame>
          <Frame depth="15">org.eclipse.ui.internal.ViewFactory$2.run(ViewFactory.java:582)</Frame>
          <Frame depth="16">org.eclipse.swt.custom.BusyIndicator.showWhile(BusyIndicator.java:69)</Frame>
          <Frame depth="17">org.eclipse.ui.internal.ViewFactory.restoreView(ViewFactory.java:579)</Frame>
          <Frame depth="18">org.eclipse.ui.internal.ViewFactory$ViewReference.getPart(ViewFactory.java:106)</Frame>
          <Frame depth="19">org.eclipse.ui.internal.PartPane.setVisible(PartPane.java:329)</Frame>
          <Frame depth="20">org.eclipse.ui.internal.ViewPane.setVisible(ViewPane.java:607)</Frame>
          <Frame depth="21">org.eclipse.ui.internal.presentations.PresentablePart.setVisible(PresentablePart.java:126)</Frame>
          <Frame depth="22">org.eclipse.ui.internal.presentations.newapi.PresentablePartFolder.select(PresentablePartFolder.java:266)</Frame>
          <Frame depth="23">org.eclipse.ui.internal.presentations.newapi.LeftToRightTabOrder.select(LeftToRightTabOrder.java:65)</Frame>
          <Frame depth="24">org.eclipse.ui.internal.presentations.newapi.TabbedStackPresentation.selectPart(TabbedStackPresentation.java:381)</Frame>
          <Frame depth="25">org.eclipse.ui.internal.PartStack.refreshPresentationSelection(PartStack.java:1034)</Frame>
          <Frame depth="26">org.eclipse.ui.internal.PartStack.createControl(PartStack.java:535)</Frame>
          <Frame depth="27">org.eclipse.ui.internal.PartStack.createControl(PartStack.java:472)</Frame>
          <Frame depth="28">org.eclipse.ui.internal.PartSashContainer.createControl(PartSashContainer.java:477)</Frame>
          <Frame depth="29">org.eclipse.ui.internal.PerspectiveHelper.activate(PerspectiveHelper.java:230)</Frame>
          <Frame depth="30">org.eclipse.ui.internal.Perspective.onActivate(Perspective.java:779)</Frame>
          <Frame depth="31">org.eclipse.ui.internal.WorkbenchPage.onActivate(WorkbenchPage.java:2028)</Frame>
          <Frame depth="32">org.eclipse.ui.internal.WorkbenchWindow$4.run(WorkbenchWindow.java:2158)</Frame>
          <Frame depth="33">org.eclipse.swt.custom.BusyIndicator.showWhile(BusyIndicator.java:69)</Frame>
          <Frame depth="34">org.eclipse.ui.internal.WorkbenchWindow.setActivePage(WorkbenchWindow.java:2144)</Frame>
          <Frame depth="35">org.eclipse.ui.internal.WorkbenchWindow.restoreState(WorkbenchWindow.java:1676)</Frame>
          <Frame depth="36">org.eclipse.ui.internal.Workbench.restoreState(Workbench.java:1414)</Frame>
          <Frame depth="37">org.eclipse.ui.internal.Workbench.access$10(Workbench.java:1370)</Frame>
          <Frame depth="38">org.eclipse.ui.internal.Workbench$15.run(Workbench.java:1273)</Frame>
          <Frame depth="39">org.eclipse.core.internal.runtime.InternalPlatform.run(InternalPlatform.java:1044)</Frame>
          <Frame depth="40">org.eclipse.core.runtime.Platform.run(Platform.java:747)</Frame>
          <Frame depth="41">org.eclipse.ui.internal.Workbench.restoreState(Workbench.java:1207)</Frame>
          <Frame depth="42">org.eclipse.ui.internal.WorkbenchConfigurer.restoreState(WorkbenchConfigurer.java:171)</Frame>
          <Frame depth="43">org.eclipse.ui.application.WorkbenchAdvisor.openWindows(WorkbenchAdvisor.java:659)</Frame>
          <Frame depth="44">org.eclipse.ui.internal.Workbench.init(Workbench.java:886)</Frame>
          <Frame depth="45">org.eclipse.ui.internal.Workbench.runUI(Workbench.java:1516)</Frame>
          <Frame depth="46">org.eclipse.ui.internal.Workbench.createAndRunWorkbench(Workbench.java:285)</Frame>
          <Frame depth="47">org.eclipse.ui.PlatformUI.createAndRunWorkbench(PlatformUI.java:144)</Frame>
          <Frame depth="48">org.eclipse.ui.internal.ide.IDEApplication.run(IDEApplication.java:102)</Frame>
          <Frame depth="49">org.eclipse.core.internal.runtime.PlatformActivator$1.run(PlatformActivator.java:220)</Frame>
          <Frame depth="50">org.eclipse.core.runtime.adaptor.EclipseStarter.run(EclipseStarter.java:273)</Frame>
          <Frame depth="51">org.eclipse.core.runtime.adaptor.EclipseStarter.run(EclipseStarter.java:129)</Frame>
          <Frame depth="52">sun.reflect.NativeMethodAccessorImpl.invoke0(Native Method)</Frame>
          <Frame depth="53">sun.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:85)</Frame>
          <Frame depth="54">sun.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:58)</Frame>
          <Frame depth="55">sun.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:60)</Frame>
          <Frame depth="56">java.lang.reflect.Method.invoke(Method.java:391)</Frame>
          <Frame depth="57">org.eclipse.core.launcher.Main.basicRun(Main.java:185)</Frame>
          <Frame depth="58">org.eclipse.core.launcher.Main.run(Main.java:710)</Frame>
          <Frame depth="59">org.eclipse.core.launcher.Main.main(Main.java:694)</Frame>
        </Frames>
      </Stacktrace>
    </Stacktraces>
    <SourceCodeRegions amount="0" />
    <Enumerations amount="0" />
    <bug_status amount="VERIFIED" />
    <resolution amount="FIXED" />
    <WithStack>I200412160800

The Error Log view shows only "An error has occurred when creating this view".

!ENTRY org.eclipse.core.runtime 4 2 2004-12-16 18:43:14.262
!MESSAGE Problems occurred when invoking code from plug-in:
"org.eclipse.core.runtime".
!STACK 0
java.lang.IndexOutOfBoundsException: Index: 1, Size: 1
        at java.util.ArrayList.RangeCheck(ArrayList.java:539)
        at java.util.ArrayList.get(ArrayList.java:356)
        at
org.eclipse.pde.internal.runtime.logview.LogReader.parseLargeFile(LogReader.java:115)
        at
org.eclipse.pde.internal.runtime.logview.LogView.readLogFile(LogView.java:614)
        at
org.eclipse.pde.internal.runtime.logview.LogView.createPartControl(LogView.java:93)
        at org.eclipse.ui.internal.PartPane$2.run(PartPane.java:148)
        at
org.eclipse.core.internal.runtime.InternalPlatform.run(InternalPlatform.java:1044)
        at org.eclipse.core.runtime.Platform.run(Platform.java:747)
        at org.eclipse.ui.internal.PartPane.doCreateChildControl(PartPane.java:144)
        at org.eclipse.ui.internal.ViewPane.doCreateChildControl(ViewPane.java:135)
        at org.eclipse.ui.internal.PartPane.createChildControl(PartPane.java:349)
        at org.eclipse.ui.internal.ViewFactory$1.run(ViewFactory.java:398)
        at
org.eclipse.core.internal.runtime.InternalPlatform.run(InternalPlatform.java:1044)
        at org.eclipse.core.runtime.Platform.run(Platform.java:747)
        at org.eclipse.ui.internal.ViewFactory.busyRestoreView(ViewFactory.java:287)
        at org.eclipse.ui.internal.ViewFactory$2.run(ViewFactory.java:582)
        at org.eclipse.swt.custom.BusyIndicator.showWhile(BusyIndicator.java:69)
        at org.eclipse.ui.internal.ViewFactory.restoreView(ViewFactory.java:579)
        at
org.eclipse.ui.internal.ViewFactory$ViewReference.getPart(ViewFactory.java:106)
        at org.eclipse.ui.internal.PartPane.setVisible(PartPane.java:329)
        at org.eclipse.ui.internal.ViewPane.setVisible(ViewPane.java:607)
        at
org.eclipse.ui.internal.presentations.PresentablePart.setVisible(PresentablePart.java:126)
        at
org.eclipse.ui.internal.presentations.newapi.PresentablePartFolder.select(PresentablePartFolder.java:266)
        at
org.eclipse.ui.internal.presentations.newapi.LeftToRightTabOrder.select(LeftToRightTabOrder.java:65)
        at
org.eclipse.ui.internal.presentations.newapi.TabbedStackPresentation.selectPart(TabbedStackPresentation.java:381)
        at
org.eclipse.ui.internal.PartStack.refreshPresentationSelection(PartStack.java:1034)
        at org.eclipse.ui.internal.PartStack.createControl(PartStack.java:535)
        at org.eclipse.ui.internal.PartStack.createControl(PartStack.java:472)
        at
org.eclipse.ui.internal.PartSashContainer.createControl(PartSashContainer.java:477)
        at
org.eclipse.ui.internal.PerspectiveHelper.activate(PerspectiveHelper.java:230)
        at org.eclipse.ui.internal.Perspective.onActivate(Perspective.java:779)
        at org.eclipse.ui.internal.WorkbenchPage.onActivate(WorkbenchPage.java:2028)
        at org.eclipse.ui.internal.WorkbenchWindow$4.run(WorkbenchWindow.java:2158)
        at org.eclipse.swt.custom.BusyIndicator.showWhile(BusyIndicator.java:69)
        at
org.eclipse.ui.internal.WorkbenchWindow.setActivePage(WorkbenchWindow.java:2144)
        at
org.eclipse.ui.internal.WorkbenchWindow.restoreState(WorkbenchWindow.java:1676)
        at org.eclipse.ui.internal.Workbench.restoreState(Workbench.java:1414)
        at org.eclipse.ui.internal.Workbench.access$10(Workbench.java:1370)
        at org.eclipse.ui.internal.Workbench$15.run(Workbench.java:1273)
        at
org.eclipse.core.internal.runtime.InternalPlatform.run(InternalPlatform.java:1044)
        at org.eclipse.core.runtime.Platform.run(Platform.java:747)
        at org.eclipse.ui.internal.Workbench.restoreState(Workbench.java:1207)
        at
org.eclipse.ui.internal.WorkbenchConfigurer.restoreState(WorkbenchConfigurer.java:171)
        at
org.eclipse.ui.application.WorkbenchAdvisor.openWindows(WorkbenchAdvisor.java:659)
        at org.eclipse.ui.internal.Workbench.init(Workbench.java:886)
        at org.eclipse.ui.internal.Workbench.runUI(Workbench.java:1516)
        at
org.eclipse.ui.internal.Workbench.createAndRunWorkbench(Workbench.java:285)
        at org.eclipse.ui.PlatformUI.createAndRunWorkbench(PlatformUI.java:144)
        at org.eclipse.ui.internal.ide.IDEApplication.run(IDEApplication.java:102)
        at
org.eclipse.core.internal.runtime.PlatformActivator$1.run(PlatformActivator.java:220)
        at
org.eclipse.core.runtime.adaptor.EclipseStarter.run(EclipseStarter.java:273)
        at
org.eclipse.core.runtime.adaptor.EclipseStarter.run(EclipseStarter.java:129)
        at sun.reflect.NativeMethodAccessorImpl.invoke0(Native Method)
        at
sun.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:85)
        at
sun.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:58)
        at
sun.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:60)
        at java.lang.reflect.Method.invoke(Method.java:391)
        at org.eclipse.core.launcher.Main.basicRun(Main.java:185)
        at org.eclipse.core.launcher.Main.run(Main.java:710)
        at org.eclipse.core.launcher.Main.main(Main.java:694)
Created attachment 16708
Log file
MK, do you still have the log file?
never mind :-)
when I tried importing the log file, I did not get the out of bounds 
exception, but the log file wouldn't load at all.  the viewer was empty.

when loading a large (&gt;1MB) file, we only load the last 1MB as otherwise we 
would choke and have out of memory exceptions, etc.

in the last meg, we look for the first !ENTRY entry and start reading.
In this case, we actually hit a !SUBENTRY entry (whose parent !ENTRY was 
skipped) and we failed when we tried to make it a child of its parent in the 
table tree viewer. 

Fixed.
Verified to be fixed in I20041216-2000.

The exception only occurred when the .log file was the workspace's
.metadata/.log file on startup. The log file importer seems to have swallowed
the exception.
*** Bug 82015 has been marked as a duplicate of this bug. ***</WithStack>
    <WithOutStack>I200412160800

The Error Log view shows only "An error has occurred when creating this view".

!ENTRY org.eclipse.core.runtime 4 2 2004-12-16 18:43:14.262
!MESSAGE Problems occurred when invoking code from plug-in:
"org.eclipse.core.runtime".
!STACK 0

Created attachment 16708
Log file
MK, do you still have the log file?
never mind :-)
when I tried importing the log file, I did not get the out of bounds 
exception, but the log file wouldn't load at all.  the viewer was empty.

when loading a large (&gt;1MB) file, we only load the last 1MB as otherwise we 
would choke and have out of memory exceptions, etc.

in the last meg, we look for the first !ENTRY entry and start reading.
In this case, we actually hit a !SUBENTRY entry (whose parent !ENTRY was 
skipped) and we failed when we tried to make it a child of its parent in the 
table tree viewer. 

Fixed.
Verified to be fixed in I20041216-2000.

The exception only occurred when the .log file was the workspace's
.metadata/.log file on startup. The log file importer seems to have swallowed
the exception.
*** Bug 82015 has been marked as a duplicate of this bug. ***</WithOutStack>
  </Bug>
  <Bug>
    <BugId amount="81441" />
    <CreationDate amount="2004-12-16 13:11:00 -0500" />
    <DupId amount="" />
    <classification amount="Eclipse" />
    <Product amount="JDT" />
    <component amount="UI" />
    <Version amount="3.1" />
    <rep_platform amount="PC" />
    <op_sys amount="Windows XP" />
    <priority amount="P3" />
    <bug_severity amount="normal" />
    <Summery>[5.0] [refactoring] renaming method in annotation doesn't work</Summery>
    <Patches amount="0" />
    <Stacktraces amount="0" />
    <SourceCodeRegions amount="0" />
    <Enumerations amount="0" />
    <bug_status amount="RESOLVED" />
    <resolution amount="FIXED" />
    <WithStack>M4

See bug 81058 for the clory details.
Can't do anything without support from core.
Fixed in HEAD. See bug 93392 for remaining problem with renaming value().</WithStack>
    <WithOutStack>M4

See bug 81058 for the clory details.
Can't do anything without support from core.
Fixed in HEAD. See bug 93392 for remaining problem with renaming value().</WithOutStack>
  </Bug>
  <Bug>
    <BugId amount="81442" />
    <CreationDate amount="2004-12-16 13:14:00 -0500" />
    <DupId amount="81199" />
    <classification amount="Eclipse" />
    <Product amount="Platform" />
    <component amount="Debug" />
    <Version amount="3.1" />
    <rep_platform amount="PC" />
    <op_sys amount="Windows XP" />
    <priority amount="P3" />
    <bug_severity amount="normal" />
    <Summery>Monitor left over after threads resumed in debug view</Summery>
    <Patches amount="0" />
    <Stacktraces amount="0" />
    <SourceCodeRegions amount="0" />
    <Enumerations amount="0" />
    <bug_status amount="RESOLVED" />
    <resolution amount="DUPLICATE" />
    <WithStack>I20041214-2000
In the Debug view I have Show Monitors turned on. I clicked on a process and
clicked Suspend. All threads stopped ok. I expanded one of the threads. It
showed a monitor the thread was using. Then I resumed the whole process. The
threads collapsed except for the monitor which was left visible. I'll attach a
screenshot.
Created attachment 16711
Test thread 6 says it's both running and waiting on something


*** This bug has been marked as a duplicate of 81199 ***</WithStack>
    <WithOutStack>I20041214-2000
In the Debug view I have Show Monitors turned on. I clicked on a process and
clicked Suspend. All threads stopped ok. I expanded one of the threads. It
showed a monitor the thread was using. Then I resumed the whole process. The
threads collapsed except for the monitor which was left visible. I'll attach a
screenshot.
Created attachment 16711
Test thread 6 says it's both running and waiting on something


*** This bug has been marked as a duplicate of 81199 ***</WithOutStack>
  </Bug>
  <Bug>
    <BugId amount="81443" />
    <CreationDate amount="2004-12-16 13:19:00 -0500" />
    <DupId amount="81165" />
    <classification amount="Eclipse" />
    <Product amount="Platform" />
    <component amount="Team" />
    <Version amount="3.1" />
    <rep_platform amount="PC" />
    <op_sys amount="Linux-Motif" />
    <priority amount="P3" />
    <bug_severity amount="normal" />
    <Summery>On shutdown AssertionFailedException: null argument</Summery>
    <Patches amount="0" />
    <Stacktraces amount="1">
      <Stacktrace timestamp="1437341216832">
        <Exception>org.eclipse.jface.util.Assert$AssertionFailedException</Exception>
        <Reason>null argument;</Reason>
        <Frames>
          <Frame depth="0">org.eclipse.jface.util.Assert.isNotNull(Assert.java:149)</Frame>
          <Frame depth="1">org.eclipse.jface.util.Assert.isNotNull(Assert.java:125)</Frame>
          <Frame depth="2">org.eclipse.jface.util.ListenerList.remove(ListenerList.java:155)</Frame>
          <Frame depth="3">org.eclipse.ui.internal.PartListenerList.removePartListener(PartListenerList.java:122)</Frame>
          <Frame depth="4">org.eclipse.ui.internal.WWinPartService.removePartListener(WWinPartService.java:96)</Frame>
          <Frame depth="5">org.eclipse.team.internal.ccvs.ui.actions.CVSAction.dispose(CVSAction.java:160)</Frame>
          <Frame depth="6">org.eclipse.ui.internal.WWinPluginAction.dispose(WWinPluginAction.java:195)</Frame>
          <Frame depth="7">org.eclipse.ui.internal.PluginActionSet.dispose(PluginActionSet.java:66)</Frame>
          <Frame depth="8">org.eclipse.ui.internal.ActionPresentation.removeActionSet(ActionPresentation.java:89)</Frame>
          <Frame depth="9">org.eclipse.ui.internal.ActionPresentation.clearActionSets(ActionPresentation.java:70)</Frame>
          <Frame depth="10">org.eclipse.ui.internal.WorkbenchWindow.hardClose(WorkbenchWindow.java:1207)</Frame>
          <Frame depth="11">org.eclipse.ui.internal.WorkbenchWindow.busyClose(WorkbenchWindow.java:533)</Frame>
          <Frame depth="12">org.eclipse.ui.internal.WorkbenchWindow.access$0(WorkbenchWindow.java:514)</Frame>
          <Frame depth="13">org.eclipse.ui.internal.WorkbenchWindow$1.run(WorkbenchWindow.java:612)</Frame>
          <Frame depth="14">org.eclipse.swt.custom.BusyIndicator.showWhile(BusyIndicator.java:69)</Frame>
          <Frame depth="15">org.eclipse.ui.internal.WorkbenchWindow.close(WorkbenchWindow.java:610)</Frame>
          <Frame depth="16">org.eclipse.jface.window.WindowManager.close(WindowManager.java:108)</Frame>
          <Frame depth="17">org.eclipse.ui.internal.Workbench$12.run(Workbench.java:505)</Frame>
          <Frame depth="18">org.eclipse.core.internal.runtime.InternalPlatform.run(InternalPlatform.java:1044)</Frame>
          <Frame depth="19">org.eclipse.core.runtime.Platform.run(Platform.java:747)</Frame>
          <Frame depth="20">org.eclipse.ui.internal.Workbench.busyClose(Workbench.java:501)</Frame>
          <Frame depth="21">org.eclipse.ui.internal.Workbench.access$8(Workbench.java:436)</Frame>
          <Frame depth="22">org.eclipse.ui.internal.Workbench$14.run(Workbench.java:623)</Frame>
          <Frame depth="23">org.eclipse.swt.custom.BusyIndicator.showWhile(BusyIndicator.java:69)</Frame>
          <Frame depth="24">org.eclipse.ui.internal.Workbench.close(Workbench.java:621)</Frame>
          <Frame depth="25">org.eclipse.ui.internal.Workbench.close(Workbench.java:596)</Frame>
          <Frame depth="26">org.eclipse.ui.internal.WorkbenchWindow.busyClose(WorkbenchWindow.java:530)</Frame>
          <Frame depth="27">org.eclipse.ui.internal.WorkbenchWindow.access$0(WorkbenchWindow.java:514)</Frame>
          <Frame depth="28">org.eclipse.ui.internal.WorkbenchWindow$1.run(WorkbenchWindow.java:612)</Frame>
          <Frame depth="29">org.eclipse.swt.custom.BusyIndicator.showWhile(BusyIndicator.java:69)</Frame>
          <Frame depth="30">org.eclipse.ui.internal.WorkbenchWindow.close(WorkbenchWindow.java:610)</Frame>
          <Frame depth="31">org.eclipse.jface.window.Window.handleShellCloseEvent(Window.java:637)</Frame>
          <Frame depth="32">org.eclipse.jface.window.Window$2.shellClosed(Window.java:584)</Frame>
          <Frame depth="33">org.eclipse.swt.widgets.TypedListener.handleEvent(TypedListener.java:158)</Frame>
          <Frame depth="34">org.eclipse.swt.widgets.EventTable.sendEvent(EventTable.java:82)</Frame>
          <Frame depth="35">org.eclipse.swt.widgets.Widget.sendEvent(Widget.java:736)</Frame>
          <Frame depth="36">org.eclipse.swt.widgets.Widget.sendEvent(Widget.java:757)</Frame>
          <Frame depth="37">org.eclipse.swt.widgets.Widget.sendEvent(Widget.java:743)</Frame>
          <Frame depth="38">org.eclipse.swt.widgets.Shell.closeWidget(Shell.java:509)</Frame>
          <Frame depth="39">org.eclipse.swt.widgets.Shell.WM_DELETE_WINDOW(Shell.java:1648)</Frame>
          <Frame depth="40">org.eclipse.swt.widgets.Widget.windowProc(Widget.java:1045)</Frame>
          <Frame depth="41">org.eclipse.swt.widgets.Display.windowProc(Display.java:3498)</Frame>
          <Frame depth="42">org.eclipse.swt.internal.motif.OS._XtDispatchEvent(Native Method)</Frame>
          <Frame depth="43">org.eclipse.swt.internal.motif.OS.XtDispatchEvent(OS.java:3643)</Frame>
          <Frame depth="44">org.eclipse.swt.widgets.Display.readAndDispatch(Display.java:2646)</Frame>
          <Frame depth="45">org.eclipse.ui.internal.Workbench.runEventLoop(Workbench.java:1569)</Frame>
          <Frame depth="46">org.eclipse.ui.internal.Workbench.runUI(Workbench.java:1540)</Frame>
          <Frame depth="47">org.eclipse.ui.internal.Workbench.createAndRunWorkbench(Workbench.java:285)</Frame>
          <Frame depth="48">org.eclipse.ui.PlatformUI.createAndRunWorkbench(PlatformUI.java:144)</Frame>
          <Frame depth="49">org.eclipse.ui.internal.ide.IDEApplication.run(IDEApplication.java:102)</Frame>
          <Frame depth="50">org.eclipse.core.internal.runtime.PlatformActivator$1.run(PlatformActivator.java:220)</Frame>
          <Frame depth="51">org.eclipse.core.runtime.adaptor.EclipseStarter.run(EclipseStarter.java:273)</Frame>
          <Frame depth="52">org.eclipse.core.runtime.adaptor.EclipseStarter.run(EclipseStarter.java:129)</Frame>
          <Frame depth="53">sun.reflect.NativeMethodAccessorImpl.invoke0(Native Method)</Frame>
          <Frame depth="54">sun.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:39)</Frame>
          <Frame depth="55">sun.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:25)</Frame>
          <Frame depth="56">java.lang.reflect.Method.invoke(Method.java:324)</Frame>
          <Frame depth="57">org.eclipse.core.launcher.Main.basicRun(Main.java:185)</Frame>
          <Frame depth="58">org.eclipse.core.launcher.Main.run(Main.java:710)</Frame>
          <Frame depth="59">org.eclipse.core.launcher.Main.main(Main.java:694)</Frame>
        </Frames>
      </Stacktrace>
    </Stacktraces>
    <SourceCodeRegions amount="0" />
    <Enumerations amount="0" />
    <bug_status amount="RESOLVED" />
    <resolution amount="DUPLICATE" />
    <WithStack>eclipse.buildId=I20041216-0800
java.version=1.4.2_06
java.vendor=Sun Microsystems Inc.
BootLoader constants: OS=linux, ARCH=x86, WS=motif, NL=en_US
Framework arguments:  -showlocation
Command-line arguments:  -os linux -ws motif -arch x86 -showlocation -clean

org.eclipse.jface.util.Assert$AssertionFailedException: null argument;
at org.eclipse.jface.util.Assert.isNotNull(Assert.java:149)
at org.eclipse.jface.util.Assert.isNotNull(Assert.java:125)
at org.eclipse.jface.util.ListenerList.remove(ListenerList.java:155)
at
org.eclipse.ui.internal.PartListenerList.removePartListener(PartListenerList.java:122)
at
org.eclipse.ui.internal.WWinPartService.removePartListener(WWinPartService.java:96)
at org.eclipse.team.internal.ccvs.ui.actions.CVSAction.dispose(CVSAction.java:160)
at org.eclipse.ui.internal.WWinPluginAction.dispose(WWinPluginAction.java:195)
at org.eclipse.ui.internal.PluginActionSet.dispose(PluginActionSet.java:66)
at
org.eclipse.ui.internal.ActionPresentation.removeActionSet(ActionPresentation.java:89)
at
org.eclipse.ui.internal.ActionPresentation.clearActionSets(ActionPresentation.java:70)
at org.eclipse.ui.internal.WorkbenchWindow.hardClose(WorkbenchWindow.java:1207)
at org.eclipse.ui.internal.WorkbenchWindow.busyClose(WorkbenchWindow.java:533)
at org.eclipse.ui.internal.WorkbenchWindow.access$0(WorkbenchWindow.java:514)
at org.eclipse.ui.internal.WorkbenchWindow$1.run(WorkbenchWindow.java:612)
at org.eclipse.swt.custom.BusyIndicator.showWhile(BusyIndicator.java:69)
at org.eclipse.ui.internal.WorkbenchWindow.close(WorkbenchWindow.java:610)
at org.eclipse.jface.window.WindowManager.close(WindowManager.java:108)
at org.eclipse.ui.internal.Workbench$12.run(Workbench.java:505)
at
org.eclipse.core.internal.runtime.InternalPlatform.run(InternalPlatform.java:1044)
at org.eclipse.core.runtime.Platform.run(Platform.java:747)
at org.eclipse.ui.internal.Workbench.busyClose(Workbench.java:501)
at org.eclipse.ui.internal.Workbench.access$8(Workbench.java:436)
at org.eclipse.ui.internal.Workbench$14.run(Workbench.java:623)
at org.eclipse.swt.custom.BusyIndicator.showWhile(BusyIndicator.java:69)
at org.eclipse.ui.internal.Workbench.close(Workbench.java:621)
at org.eclipse.ui.internal.Workbench.close(Workbench.java:596)
at org.eclipse.ui.internal.WorkbenchWindow.busyClose(WorkbenchWindow.java:530)
at org.eclipse.ui.internal.WorkbenchWindow.access$0(WorkbenchWindow.java:514)
at org.eclipse.ui.internal.WorkbenchWindow$1.run(WorkbenchWindow.java:612)
at org.eclipse.swt.custom.BusyIndicator.showWhile(BusyIndicator.java:69)
at org.eclipse.ui.internal.WorkbenchWindow.close(WorkbenchWindow.java:610)
at org.eclipse.jface.window.Window.handleShellCloseEvent(Window.java:637)
at org.eclipse.jface.window.Window$2.shellClosed(Window.java:584)
at org.eclipse.swt.widgets.TypedListener.handleEvent(TypedListener.java:158)
at org.eclipse.swt.widgets.EventTable.sendEvent(EventTable.java:82)
at org.eclipse.swt.widgets.Widget.sendEvent(Widget.java:736)
at org.eclipse.swt.widgets.Widget.sendEvent(Widget.java:757)
at org.eclipse.swt.widgets.Widget.sendEvent(Widget.java:743)
at org.eclipse.swt.widgets.Shell.closeWidget(Shell.java:509)
at org.eclipse.swt.widgets.Shell.WM_DELETE_WINDOW(Shell.java:1648)
at org.eclipse.swt.widgets.Widget.windowProc(Widget.java:1045)
at org.eclipse.swt.widgets.Display.windowProc(Display.java:3498)
at org.eclipse.swt.internal.motif.OS._XtDispatchEvent(Native Method)
at org.eclipse.swt.internal.motif.OS.XtDispatchEvent(OS.java:3643)
at org.eclipse.swt.widgets.Display.readAndDispatch(Display.java:2646)
at org.eclipse.ui.internal.Workbench.runEventLoop(Workbench.java:1569)
at org.eclipse.ui.internal.Workbench.runUI(Workbench.java:1540)
at org.eclipse.ui.internal.Workbench.createAndRunWorkbench(Workbench.java:285)
at org.eclipse.ui.PlatformUI.createAndRunWorkbench(PlatformUI.java:144)
at org.eclipse.ui.internal.ide.IDEApplication.run(IDEApplication.java:102)
at
org.eclipse.core.internal.runtime.PlatformActivator$1.run(PlatformActivator.java:220)
at org.eclipse.core.runtime.adaptor.EclipseStarter.run(EclipseStarter.java:273)
at org.eclipse.core.runtime.adaptor.EclipseStarter.run(EclipseStarter.java:129)
at sun.reflect.NativeMethodAccessorImpl.invoke0(Native Method)
at sun.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:39)
at
sun.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:25)
at java.lang.reflect.Method.invoke(Method.java:324)
at org.eclipse.core.launcher.Main.basicRun(Main.java:185)
at org.eclipse.core.launcher.Main.run(Main.java:710)
at org.eclipse.core.launcher.Main.main(Main.java:694)


*** This bug has been marked as a duplicate of 81165 ***</WithStack>
    <WithOutStack>eclipse.buildId=I20041216-0800
java.version=1.4.2_06
java.vendor=Sun Microsystems Inc.
BootLoader constants: OS=linux, ARCH=x86, WS=motif, NL=en_US
Framework arguments:  -showlocation
Command-line arguments:  -os linux -ws motif -arch x86 -showlocation -clean




*** This bug has been marked as a duplicate of 81165 ***</WithOutStack>
  </Bug>
  <Bug>
    <BugId amount="81444" />
    <CreationDate amount="2004-12-16 13:20:00 -0500" />
    <DupId amount="" />
    <classification amount="Eclipse" />
    <Product amount="Platform" />
    <component amount="UI" />
    <Version amount="3.1" />
    <rep_platform amount="All" />
    <op_sys amount="All" />
    <priority amount="P3" />
    <bug_severity amount="normal" />
    <Summery>[Contributions] ordering: Team menus (Compare, Replace, Team) not consistently ordered</Summery>
    <Patches amount="0" />
    <Stacktraces amount="0" />
    <SourceCodeRegions amount="0" />
    <Enumerations amount="1">
      <Enumeration lines="10">
        <Lines>
          <Line>1) The ordering of contributions is differs depending on whether the selection</Line>
          <Line>is an IResource or adapts to an IResource. This is due to the logic that</Line>
          <Line>avoids duplicate contributions.</Line>
          <Line />
          <Line>2) Contributions that redefine a submenu change the location of that menu. The</Line>
          <Line>scenario mentioned in this bug is caused by the Java local history actions</Line>
          <Line>that are contributed to the Replace With and Compare With menus for Source</Line>
          <Line>Types but not for compilation units.</Line>
          <Line>Created attachment 19810</Line>
          <Line>Patch to org.eclipse.ui.workbench</Line>
        </Lines>
      </Enumeration>
    </Enumerations>
    <bug_status amount="VERIFIED" />
    <resolution amount="FIXED" />
    <WithStack>I20041216-0800

The team menus in the context menu are not consistently ordered.

On Compilation Units, the order is:
  Team, Compare With, Replace With, Restore from Local History...
On Types, the order is:
  Compare With, Replace With, Restore from Local History..., Team
*** Bug 89993 has been marked as a duplicate of this bug. ***
There are two problems I see related to object contributions:

1) The ordering of contributions is differs depending on whether the selection 
is an IResource or adapts to an IResource. This is due to the logic that 
avoids duplicate contributions.

2) Contributions that redefine a submenu change the location of that menu. The 
scenario mentioned in this bug is caused by the Java local history actions 
that are contributed to the Replace With and Compare With menus for Source 
Types but not for compilation units.
Created attachment 19810
Patch to org.eclipse.ui.workbench

This patch addressed point 1 in comment 2 directly. The reordering of
contributions also fixes the issue reported in this bug without addressing
point 2 directly. I will open a separate bug report with a patch that fixes
point 2. I would recommend applying this patch in 3.1 and I will let the UI
team decide on what to do with the other patch.
The bug for point 2 is bug 91122.
Reassigning to UI to consider applying the patch. I would recommend that this 
patch get applied to 3.1 since the change in menu ordering is confusing for 
the user.
Jean-Michel, could you please review the patch too?

The patch looks good to me.
Applied.
Thanks Michael.

Verified in I20050509-2010.</WithStack>
    <WithOutStack>I20041216-0800

The team menus in the context menu are not consistently ordered.

On Compilation Units, the order is:
  Team, Compare With, Replace With, Restore from Local History...
On Types, the order is:
  Compare With, Replace With, Restore from Local History..., Team
*** Bug 89993 has been marked as a duplicate of this bug. ***
There are two problems I see related to object contributions:

1) The ordering of contributions is differs depending on whether the selection 
is an IResource or adapts to an IResource. This is due to the logic that 
avoids duplicate contributions.

2) Contributions that redefine a submenu change the location of that menu. The 
scenario mentioned in this bug is caused by the Java local history actions 
that are contributed to the Replace With and Compare With menus for Source 
Types but not for compilation units.
Created attachment 19810
Patch to org.eclipse.ui.workbench

This patch addressed point 1 in comment 2 directly. The reordering of
contributions also fixes the issue reported in this bug without addressing
point 2 directly. I will open a separate bug report with a patch that fixes
point 2. I would recommend applying this patch in 3.1 and I will let the UI
team decide on what to do with the other patch.
The bug for point 2 is bug 91122.
Reassigning to UI to consider applying the patch. I would recommend that this 
patch get applied to 3.1 since the change in menu ordering is confusing for 
the user.
Jean-Michel, could you please review the patch too?

The patch looks good to me.
Applied.
Thanks Michael.

Verified in I20050509-2010.</WithOutStack>
  </Bug>
  <Bug>
    <BugId amount="81445" />
    <CreationDate amount="2004-12-16 13:56:00 -0500" />
    <DupId amount="" />
    <classification amount="Eclipse" />
    <Product amount="Platform" />
    <component amount="UI" />
    <Version amount="3.1" />
    <rep_platform amount="PC" />
    <op_sys amount="Windows XP" />
    <priority amount="P3" />
    <bug_severity amount="normal" />
    <Summery>[Markers] Task View / On any resource in same project / Manual Task</Summery>
    <Patches amount="0" />
    <Stacktraces amount="0" />
    <SourceCodeRegions amount="0" />
    <Enumerations amount="1">
      <Enumeration lines="7">
        <Lines>
          <Line>1) Open Task View</Line>
          <Line>2) Make sure filters are turned on, and set to "On any resource".</Line>
          <Line>3) Make sure a project is selected / that the current project is unambiguous.</Line>
          <Line>4) Manually create a new task using the Add Task button.</Line>
          <Line>5) Confirm that the freshly created task is shown.</Line>
          <Line>6) Switch the filter to "On any resource in the same project".</Line>
          <Line>7) Note that the freshly created task is no longer shown.</Line>
        </Lines>
      </Enumeration>
    </Enumerations>
    <bug_status amount="RESOLVED" />
    <resolution amount="INVALID" />
    <WithStack>[Eclipse 3.1 M3 on Windows Xp]

Tasks that are created explicitly using the Add Task button / dialog are
filtered out when the option to filter "On any resource in the same project" is
selected.  It's as if they're not associated with the project in which they were
created.

To recreate:
1) Open Task View
2) Make sure filters are turned on, and set to "On any resource".
3) Make sure a project is selected / that the current project is unambiguous.
4) Manually create a new task using the Add Task button.
5) Confirm that the freshly created task is shown.
6) Switch the filter to "On any resource in the same project".
7) Note that the freshly created task is no longer shown.

(Step 3 may not have an effect)

I would expect that any explicitly created tasks for this project would also be
shown.  I often create tasks for myself and would like to be able to associated
them with a project.

Could it be that manually created tasks are not associated with the active
project at all?  That's what is seem like is happening.

Somewhat related: When you create a manual task, there are three disable text
fields (On Resource, In Folder, and Location)... perhaps these should be enabled
and allow for the user to optionally specifiy them (at least resource)?
I'm going to try and create a patch for this as I also need this fixed
This is because tasks are created on the workspace root not the selected project.</WithStack>
    <WithOutStack>[Eclipse 3.1 M3 on Windows Xp]

Tasks that are created explicitly using the Add Task button / dialog are
filtered out when the option to filter "On any resource in the same project" is
selected.  It's as if they're not associated with the project in which they were
created.

To recreate:
1) Open Task View
2) Make sure filters are turned on, and set to "On any resource".
3) Make sure a project is selected / that the current project is unambiguous.
4) Manually create a new task using the Add Task button.
5) Confirm that the freshly created task is shown.
6) Switch the filter to "On any resource in the same project".
7) Note that the freshly created task is no longer shown.

(Step 3 may not have an effect)

I would expect that any explicitly created tasks for this project would also be
shown.  I often create tasks for myself and would like to be able to associated
them with a project.

Could it be that manually created tasks are not associated with the active
project at all?  That's what is seem like is happening.

Somewhat related: When you create a manual task, there are three disable text
fields (On Resource, In Folder, and Location)... perhaps these should be enabled
and allow for the user to optionally specifiy them (at least resource)?
I'm going to try and create a patch for this as I also need this fixed
This is because tasks are created on the workspace root not the selected project.</WithOutStack>
  </Bug>
  <Bug>
    <BugId amount="81446" />
    <CreationDate amount="2004-12-16 13:59:00 -0500" />
    <DupId amount="" />
    <classification amount="Eclipse Foundation" />
    <Product amount="z_Archived" />
    <component amount="Hyades" />
    <Version amount="unspecified" />
    <rep_platform amount="PC" />
    <op_sys amount="Windows 2000" />
    <priority amount="P1" />
    <bug_severity amount="blocker" />
    <Summery>Dynamic discovery not working properly</Summery>
    <Patches amount="0" />
    <Stacktraces amount="0" />
    <SourceCodeRegions amount="0" />
    <Enumerations amount="1">
      <Enumeration lines="19">
        <Lines>
          <Line>1. The agent often gets stuck in a "monitoring...collecting" state, forever.</Line>
          <Line />
          <Line>2. Duplicate agents appear in the profiling monitor, because it's trying to</Line>
          <Line>attach to the same agent multiple times and failing. The reason is because the</Line>
          <Line>agent can send more than one request to connect, and the workbench doesn't</Line>
          <Line>check whether or not it's already attached.</Line>
          <Line />
          <Line>3. There is a 5-second delay when detaching from discovered agents because it's</Line>
          <Line>trying to re-establish a connection to the RAC. This can be very annoying when</Line>
          <Line>you have to detach 5 agents after you're done.</Line>
          <Line />
          <Line>4. Profiling types are not added to the agent. Discovered agents should have</Line>
          <Line>the same profiling types as their peer agent.</Line>
          <Line>Created attachment 16712</Line>
          <Line>proposed patch</Line>
          <Line>mark it untarget for now and waiting for approval for 3.0.2</Line>
          <Line>approved for 3.0.2</Line>
          <Line>Fixed in 3.0.2 (already fixed previously in HEAD).</Line>
          <Line>Verified. Closing bug.</Line>
        </Lines>
      </Enumeration>
    </Enumerations>
    <bug_status amount="CLOSED" />
    <resolution amount="FIXED" />
    <WithStack>Same as bug 80869, but for 3.0.2:

Currently the collection mode is defaulted to HEAP_STATISTIC for agents.  

When I explicitly attach to collect Execution Flow data the default is 
changed.  However, for agents that auto-attach to the Eclipse UI (via Hyades 
RemoteComponentSkeleton) the collection mode for the newly attached agent will 
default to HEAP_STATISTIC only.  Therefore, I will not be able to collect any 
execution flow details by default.  Thus, if the whole intent of my 
implemented agents is to look at execution flow details I will be prevented 
from doing this.

Without this fix our product feature will be broken.  We need to have this bug 
fixed in Hyades 3.0.2.

-------------------

There are more problems with dynamic discovery of agents, in addition to having 
the collection mode set incorrectly on discovered agents:

1. The agent often gets stuck in a "monitoring...collecting" state, forever.

2. Duplicate agents appear in the profiling monitor, because it's trying to 
attach to the same agent multiple times and failing. The reason is because the 
agent can send more than one request to connect, and the workbench doesn't 
check whether or not it's already attached.

3. There is a 5-second delay when detaching from discovered agents because it's 
trying to re-establish a connection to the RAC. This can be very annoying when 
you have to detach 5 agents after you're done.

4. Profiling types are not added to the agent. Discovered agents should have 
the same profiling types as their peer agent.
Created attachment 16712
proposed patch
mark it untarget for now and waiting for approval for 3.0.2
approved for 3.0.2
Fixed in 3.0.2 (already fixed previously in HEAD).
Verified. Closing bug.</WithStack>
    <WithOutStack>Same as bug 80869, but for 3.0.2:

Currently the collection mode is defaulted to HEAP_STATISTIC for agents.  

When I explicitly attach to collect Execution Flow data the default is 
changed.  However, for agents that auto-attach to the Eclipse UI (via Hyades 
RemoteComponentSkeleton) the collection mode for the newly attached agent will 
default to HEAP_STATISTIC only.  Therefore, I will not be able to collect any 
execution flow details by default.  Thus, if the whole intent of my 
implemented agents is to look at execution flow details I will be prevented 
from doing this.

Without this fix our product feature will be broken.  We need to have this bug 
fixed in Hyades 3.0.2.

-------------------

There are more problems with dynamic discovery of agents, in addition to having 
the collection mode set incorrectly on discovered agents:

1. The agent often gets stuck in a "monitoring...collecting" state, forever.

2. Duplicate agents appear in the profiling monitor, because it's trying to 
attach to the same agent multiple times and failing. The reason is because the 
agent can send more than one request to connect, and the workbench doesn't 
check whether or not it's already attached.

3. There is a 5-second delay when detaching from discovered agents because it's 
trying to re-establish a connection to the RAC. This can be very annoying when 
you have to detach 5 agents after you're done.

4. Profiling types are not added to the agent. Discovered agents should have 
the same profiling types as their peer agent.
Created attachment 16712
proposed patch
mark it untarget for now and waiting for approval for 3.0.2
approved for 3.0.2
Fixed in 3.0.2 (already fixed previously in HEAD).
Verified. Closing bug.</WithOutStack>
  </Bug>
  <Bug>
    <BugId amount="81447" />
    <CreationDate amount="2004-12-16 14:17:00 -0500" />
    <DupId amount="" />
    <classification amount="Eclipse" />
    <Product amount="Platform" />
    <component amount="Team" />
    <Version amount="3.1" />
    <rep_platform amount="PC" />
    <op_sys amount="Windows XP" />
    <priority amount="P3" />
    <bug_severity amount="normal" />
    <Summery>Shortcut for "Compare with another branch or version" not working</Summery>
    <Patches amount="0" />
    <Stacktraces amount="0" />
    <SourceCodeRegions amount="0" />
    <Enumerations amount="0" />
    <bug_status amount="RESOLVED" />
    <resolution amount="FIXED" />
    <WithStack>Version: 3.1.0
Build id: 200412160800
fixed.
fixed in plugin.xml. The actionDefinitionId had a typo.</WithStack>
    <WithOutStack>Version: 3.1.0
Build id: 200412160800
fixed.
fixed in plugin.xml. The actionDefinitionId had a typo.</WithOutStack>
  </Bug>
  <Bug>
    <BugId amount="81448" />
    <CreationDate amount="2004-12-16 14:20:00 -0500" />
    <DupId amount="" />
    <classification amount="Eclipse" />
    <Product amount="Platform" />
    <component amount="Runtime" />
    <Version amount="3.0" />
    <rep_platform amount="PC" />
    <op_sys amount="Windows 2000" />
    <priority amount="P3" />
    <bug_severity amount="normal" />
    <Summery>Remove runtime counter :-)</Summery>
    <Patches amount="0" />
    <Stacktraces amount="0" />
    <SourceCodeRegions amount="0" />
    <Enumerations amount="0" />
    <bug_status amount="RESOLVED" />
    <resolution amount="FIXED" />
    <WithStack>Accidentally I released a System.out.println in the ReferenceMap.
Fixed in HEAD.
My highscore is 9, what's yours? :)</WithStack>
    <WithOutStack>Accidentally I released a System.out.println in the ReferenceMap.
Fixed in HEAD.
My highscore is 9, what's yours? :)</WithOutStack>
  </Bug>
  <Bug>
    <BugId amount="81449" />
    <CreationDate amount="2004-12-16 14:23:00 -0500" />
    <DupId amount="" />
    <classification amount="Eclipse" />
    <Product amount="Platform" />
    <component amount="Team" />
    <Version amount="3.1" />
    <rep_platform amount="PC" />
    <op_sys amount="Windows XP" />
    <priority amount="P3" />
    <bug_severity amount="normal" />
    <Summery>Error message when cancelling "Compare with revision" triggered by shortcut</Summery>
    <Patches amount="0" />
    <Stacktraces amount="0" />
    <SourceCodeRegions amount="0" />
    <Enumerations amount="1">
      <Enumeration lines="3">
        <Lines>
          <Line>1) Assign a shortcut to "Compare with revision"</Line>
          <Line>2) Select a shared file and perform the shortcut</Line>
          <Line>3) While revisions are being fetched, click Cancel</Line>
        </Lines>
      </Enumeration>
    </Enumerations>
    <bug_status amount="RESOLVED" />
    <resolution amount="FIXED" />
    <WithStack>Version: 3.1.0
Build id: 200412160800

1) Assign a shortcut to "Compare with revision"
2) Select a shared file and perform the shortcut
3) While revisions are being fetched, click Cancel

-&gt; An error message appears saying "The command for the key you pressed failed"
Same for "Replace with revision"
Fix released to HEAD</WithStack>
    <WithOutStack>Version: 3.1.0
Build id: 200412160800

1) Assign a shortcut to "Compare with revision"
2) Select a shared file and perform the shortcut
3) While revisions are being fetched, click Cancel

-&gt; An error message appears saying "The command for the key you pressed failed"
Same for "Replace with revision"
Fix released to HEAD</WithOutStack>
  </Bug>
  <Bug>
    <BugId amount="81450" />
    <CreationDate amount="2004-12-16 14:24:00 -0500" />
    <DupId amount="" />
    <classification amount="Tools" />
    <Product amount="CDT" />
    <component amount="cdt-build" />
    <Version amount="3.0" />
    <rep_platform amount="All" />
    <op_sys amount="All" />
    <priority amount="P3" />
    <bug_severity amount="enhancement" />
    <Summery>Proposed Managed Build System functionality for CDT 3.0</Summery>
    <Patches amount="0" />
    <Stacktraces amount="0" />
    <SourceCodeRegions amount="0" />
    <Enumerations amount="1">
      <Enumeration lines="9">
        <Lines>
          <Line>1.  A prioritized list of all the unimplemented MBS requirements that I am</Line>
          <Line>aware of.  Please comment on the list - missing items, items to delete, the</Line>
          <Line>priority order, items that need further explanation...</Line>
          <Line />
          <Line>2.  There is a "line" drawn to indicate the end of the list that Intel is</Line>
          <Line>currently investigating for implementation in CDT 3.0.  This does not yet</Line>
          <Line>represent a commitment to any particular set of functionality.  It is just our</Line>
          <Line>first "wild guess" at matching the resources that we expect to have to the</Line>
          <Line>prioritized list - more investigation is needed before a commitment can be made.</Line>
        </Lines>
      </Enumeration>
    </Enumerations>
    <bug_status amount="RESOLVED" />
    <resolution amount="FIXED" />
    <WithStack>Attached is an MS Word document that contains a proposal for the new Managed 
Build System (MBS) functionality in CDT 3.0.  Specifically, it contains:

1.  A prioritized list of all the unimplemented MBS requirements that I am 
aware of.  Please comment on the list - missing items, items to delete, the 
priority order, items that need further explanation...

2.  There is a "line" drawn to indicate the end of the list that Intel is 
currently investigating for implementation in CDT 3.0.  This does not yet 
represent a commitment to any particular set of functionality.  It is just our 
first "wild guess" at matching the resources that we expect to have to the 
prioritized list - more investigation is needed before a commitment can be made.

If you would like to work on one or more of the items for CDT 3.0, please 
respond with that information as well.  But note that we will be looking for a 
firm commitment to implement the functionality as the CDT 3.0 planning process 
proceeds.

I will be on vacation from tomorrow through Jan 4th.  I'll look forward to 
reading your comments...
Created attachment 16714
The Proposal
Leo, 

For 3.0, we are trying to allow for build-settings to be discovered per-file.
Part of that is in providing support for constructs like GCC -imacros and
-include command line switches.  These type of options are exported through
IExtendedScannerInfo (which inherits from IScannerInfo for
backwards-compatability issues) and I would like to see the MBS system push
those out as well.  

Vlad owns the original enhancement request (67491) which serves as the place
holder for the parser work (mostly complete) and the work for Scanner Discovery
(not yet complete).  

Is this something that will fit into your plans for 3.0?
Hi John,

I'll add that to the list.  If the parser is going to support that in 3.0, we 
will want MBS to also support it.  Depeneding upon the scope of the work, it 
could push something else "below the line".

"Custom build steps" sound like they should support code generators like yacc
and lex. Today, one can't easily add yacc or lex targets -- they generate
ephemeral C/C++ sources that shouldn't be edited (or offer only r/o editing.)
The problem here is augmenting an existing toolchain to mix in these kinds of tools.

At another extreme, custom build steps seem to be generalizable into custom
build targets, which would be a giant step toward supporting some form of
subproject functionality.
Hi Scott,

&gt; "Custom build steps" sound like they should support code generators like yacc
and lex. Today, one can't easily add yacc or lex targets -- they generate
ephemeral C/C++ sources that shouldn't be edited (or offer only r/o editing.)
The problem here is augmenting an existing toolchain to mix in these kinds of 
tools.

This is the sort of support we are defining for custom build steps.

&gt; At another extreme, custom build steps seem to be generalizable into custom
build targets, which would be a giant step toward supporting some form of
subproject functionality.

Would you explain some more what you mean by "custom build targets"?

Thanks,
Leo

(In reply to comment #5)
&gt; &gt; At another extreme, custom build steps seem to be generalizable into custom
&gt; build targets, which would be a giant step toward supporting some form of
&gt; subproject functionality.
&gt; 
&gt; Would you explain some more what you mean by "custom build targets"?

It's pretty typical to have more than one build target in a hand-crafted make
file. One example would be test executables that depend on a shared object or
DLL, the primary build target.

While creating projects within projects doesn't appear to be feasible (from the
way that IContainer works, but I'm happy to be corrected), being able to add and
manage build targets would probably help a lot of people.
As discussed in the weekly meeting -- all enhancements requests that had a
target milestone of 3.0 but were assigned to an inbox owner (which is an invalid
combination), have been moved to Target Milestone "--".
This is ancient... resolving as FIXED.</WithStack>
    <WithOutStack>Attached is an MS Word document that contains a proposal for the new Managed 
Build System (MBS) functionality in CDT 3.0.  Specifically, it contains:

1.  A prioritized list of all the unimplemented MBS requirements that I am 
aware of.  Please comment on the list - missing items, items to delete, the 
priority order, items that need further explanation...

2.  There is a "line" drawn to indicate the end of the list that Intel is 
currently investigating for implementation in CDT 3.0.  This does not yet 
represent a commitment to any particular set of functionality.  It is just our 
first "wild guess" at matching the resources that we expect to have to the 
prioritized list - more investigation is needed before a commitment can be made.

If you would like to work on one or more of the items for CDT 3.0, please 
respond with that information as well.  But note that we will be looking for a 
firm commitment to implement the functionality as the CDT 3.0 planning process 
proceeds.

I will be on vacation from tomorrow through Jan 4th.  I'll look forward to 
reading your comments...
Created attachment 16714
The Proposal
Leo, 

For 3.0, we are trying to allow for build-settings to be discovered per-file.
Part of that is in providing support for constructs like GCC -imacros and
-include command line switches.  These type of options are exported through
IExtendedScannerInfo (which inherits from IScannerInfo for
backwards-compatability issues) and I would like to see the MBS system push
those out as well.  

Vlad owns the original enhancement request (67491) which serves as the place
holder for the parser work (mostly complete) and the work for Scanner Discovery
(not yet complete).  

Is this something that will fit into your plans for 3.0?
Hi John,

I'll add that to the list.  If the parser is going to support that in 3.0, we 
will want MBS to also support it.  Depeneding upon the scope of the work, it 
could push something else "below the line".

"Custom build steps" sound like they should support code generators like yacc
and lex. Today, one can't easily add yacc or lex targets -- they generate
ephemeral C/C++ sources that shouldn't be edited (or offer only r/o editing.)
The problem here is augmenting an existing toolchain to mix in these kinds of tools.

At another extreme, custom build steps seem to be generalizable into custom
build targets, which would be a giant step toward supporting some form of
subproject functionality.
Hi Scott,

&gt; "Custom build steps" sound like they should support code generators like yacc
and lex. Today, one can't easily add yacc or lex targets -- they generate
ephemeral C/C++ sources that shouldn't be edited (or offer only r/o editing.)
The problem here is augmenting an existing toolchain to mix in these kinds of 
tools.

This is the sort of support we are defining for custom build steps.

&gt; At another extreme, custom build steps seem to be generalizable into custom
build targets, which would be a giant step toward supporting some form of
subproject functionality.

Would you explain some more what you mean by "custom build targets"?

Thanks,
Leo

(In reply to comment #5)
&gt; &gt; At another extreme, custom build steps seem to be generalizable into custom
&gt; build targets, which would be a giant step toward supporting some form of
&gt; subproject functionality.
&gt; 
&gt; Would you explain some more what you mean by "custom build targets"?

It's pretty typical to have more than one build target in a hand-crafted make
file. One example would be test executables that depend on a shared object or
DLL, the primary build target.

While creating projects within projects doesn't appear to be feasible (from the
way that IContainer works, but I'm happy to be corrected), being able to add and
manage build targets would probably help a lot of people.
As discussed in the weekly meeting -- all enhancements requests that had a
target milestone of 3.0 but were assigned to an inbox owner (which is an invalid
combination), have been moved to Target Milestone "--".
This is ancient... resolving as FIXED.</WithOutStack>
  </Bug>
  <Bug>
    <BugId amount="81451" />
    <CreationDate amount="2004-12-16 14:29:00 -0500" />
    <DupId amount="" />
    <classification amount="Eclipse" />
    <Product amount="JDT" />
    <component amount="Text" />
    <Version amount="3.1" />
    <rep_platform amount="All" />
    <op_sys amount="All" />
    <priority amount="P5" />
    <bug_severity amount="enhancement" />
    <Summery>[misc] graphical diff view of a non-saved file</Summery>
    <Patches amount="0" />
    <Stacktraces amount="0" />
    <SourceCodeRegions amount="0" />
    <Enumerations amount="0" />
    <bug_status amount="ASSIGNED" />
    <resolution amount="" />
    <WithStack>Oracle JDeveloper has a nice feature where you can easily toggle back and 
forth between a java editor and a graphical diff of the file that is being 
edited.
Created attachment 16715
the screenshot

Note the internal tabs at the bottom of the screenshot that enable the
toggling.
There are currently no plans to implement this.
Get rid of deprecated state.</WithStack>
    <WithOutStack>Oracle JDeveloper has a nice feature where you can easily toggle back and 
forth between a java editor and a graphical diff of the file that is being 
edited.
Created attachment 16715
the screenshot

Note the internal tabs at the bottom of the screenshot that enable the
toggling.
There are currently no plans to implement this.
Get rid of deprecated state.</WithOutStack>
  </Bug>
  <Bug>
    <BugId amount="81452" />
    <CreationDate amount="2004-12-16 14:37:00 -0500" />
    <DupId amount="82175" />
    <classification amount="Eclipse" />
    <Product amount="Platform" />
    <component amount="CVS" />
    <Version amount="3.1" />
    <rep_platform amount="PC" />
    <op_sys amount="Linux" />
    <priority amount="P3" />
    <bug_severity amount="normal" />
    <Summery>[Update] Switching tags causes error in CVS/Entries</Summery>
    <Patches amount="0" />
    <Stacktraces amount="0" />
    <SourceCodeRegions amount="0" />
    <Enumerations amount="1">
      <Enumeration lines="5">
        <Lines>
          <Line>- check out and modify FILE in branch A</Line>
          <Line>- as time progresses, bring in all external changes, but never check FILE in</Line>
          <Line>- when the time comes, switch my project to branch B</Line>
          <Line>- continue bringing in all changes to FILE without checking FILE in</Line>
          <Line>- rinse, repeat</Line>
        </Lines>
      </Enumeration>
    </Enumerations>
    <bug_status amount="RESOLVED" />
    <resolution amount="DUPLICATE" />
    <WithStack>This happens on I20041216-0800 and jdk 5.0.

The simple description is: I get an error when I try to view a specific resource
in the synchronize view (when I expand its parent folder) -- log entry will be
attached.

I looked into it, and what's happening is that the
org.eclipse.team.internal.ccvs.core.syncinfo.ResourceSyncInfo that's created for
the entry is created via the ResourceSyncInfo(String, String, Date) constructor,
but there is a small problem:
the permissions String is null, and the timestamp Date is null, *but* the
entryLine is "/weblogic.xml/1.4.2.3/Result of merge+//TR10_0_1" -- ie/ no
timestamp is ever created for the entry.  This turns into a problem in the
isNeedsMerge(Date) method because it doesn't contain a null-check for
this.timeStamp.

I don't know how to get that Entries line.  *BUT* I do know that it happens to
me only for files that I've been carrying forward, across branches, modified but
not commited.  ie/
- check out and modify FILE in branch A
- as time progresses, bring in all external changes, but never check FILE in
- when the time comes, switch my project to branch B
- continue bringing in all changes to FILE without checking FILE in
- rinse, repeat

Also, as a final point, these files have only been touched by Eclipse's CVS
client.  I don't know if there was a bug in the past concerning timeStamps not
being persisted in Entries.  And this hasn't been happening for long, maybe only
a week or so (not sure).
Created attachment 16716
entry from log file


*** This bug has been marked as a duplicate of 82175 ***</WithStack>
    <WithOutStack>This happens on I20041216-0800 and jdk 5.0.

The simple description is: I get an error when I try to view a specific resource
in the synchronize view (when I expand its parent folder) -- log entry will be
attached.

I looked into it, and what's happening is that the
org.eclipse.team.internal.ccvs.core.syncinfo.ResourceSyncInfo that's created for
the entry is created via the ResourceSyncInfo(String, String, Date) constructor,
but there is a small problem:
the permissions String is null, and the timestamp Date is null, *but* the
entryLine is "/weblogic.xml/1.4.2.3/Result of merge+//TR10_0_1" -- ie/ no
timestamp is ever created for the entry.  This turns into a problem in the
isNeedsMerge(Date) method because it doesn't contain a null-check for
this.timeStamp.

I don't know how to get that Entries line.  *BUT* I do know that it happens to
me only for files that I've been carrying forward, across branches, modified but
not commited.  ie/
- check out and modify FILE in branch A
- as time progresses, bring in all external changes, but never check FILE in
- when the time comes, switch my project to branch B
- continue bringing in all changes to FILE without checking FILE in
- rinse, repeat

Also, as a final point, these files have only been touched by Eclipse's CVS
client.  I don't know if there was a bug in the past concerning timeStamps not
being persisted in Entries.  And this hasn't been happening for long, maybe only
a week or so (not sure).
Created attachment 16716
entry from log file


*** This bug has been marked as a duplicate of 82175 ***</WithOutStack>
  </Bug>
  <Bug>
    <BugId amount="81453" />
    <CreationDate amount="2004-12-16 15:07:00 -0500" />
    <DupId amount="" />
    <classification amount="Eclipse" />
    <Product amount="Platform" />
    <component amount="Runtime" />
    <Version amount="3.1" />
    <rep_platform amount="PC" />
    <op_sys amount="Windows XP" />
    <priority amount="P3" />
    <bug_severity amount="normal" />
    <Summery>review message binding in TableReader</Summery>
    <Patches amount="0" />
    <Stacktraces amount="0" />
    <SourceCodeRegions amount="0" />
    <Enumerations amount="0" />
    <bug_status amount="RESOLVED" />
    <resolution amount="FIXED" />
    <WithStack>i200412161200

Messages produced by TableReader are not being properly translated because the
replaceable parameters in the string are not being provided when calling
Policy.bind. This causes entries like this in the log file:

!ENTRY org.eclipse.core.runtime 4 0 2004-12-16 12:27:14.984
!MESSAGE IOException encountered while reading "{0}".
!STACK 0

I noticed this when looking at the log file attached to bug 81434.
*** Bug 85873 has been marked as a duplicate of this bug. ***
See TableReader#loadConfigurationElement
Fix released to HEAD. 
Passed in the appropriate file name.</WithStack>
    <WithOutStack>i200412161200

Messages produced by TableReader are not being properly translated because the
replaceable parameters in the string are not being provided when calling
Policy.bind. This causes entries like this in the log file:

!ENTRY org.eclipse.core.runtime 4 0 2004-12-16 12:27:14.984
!MESSAGE IOException encountered while reading "{0}".
!STACK 0

I noticed this when looking at the log file attached to bug 81434.
*** Bug 85873 has been marked as a duplicate of this bug. ***
See TableReader#loadConfigurationElement
Fix released to HEAD. 
Passed in the appropriate file name.</WithOutStack>
  </Bug>
  <Bug>
    <BugId amount="81454" />
    <CreationDate amount="2004-12-16 15:11:00 -0500" />
    <DupId amount="78321" />
    <classification amount="Eclipse" />
    <Product amount="JDT" />
    <component amount="Core" />
    <Version amount="3.1" />
    <rep_platform amount="PC" />
    <op_sys amount="Linux" />
    <priority amount="P3" />
    <bug_severity amount="critical" />
    <Summery>enum values() method fails when called from static initializer</Summery>
    <Patches amount="0" />
    <Stacktraces amount="1">
      <Cause timestamp="1437341216842">
        <Exception>java.lang.NullPointerException</Exception>
        <Reason />
        <Frames>
          <Frame depth="0">EnumTest.values(EnumTest.java:1)</Frame>
          <Frame depth="1">EnumTest.&lt;clinit&gt;(EnumTest.java:6)</Frame>
        </Frames>
      </Cause>
    </Stacktraces>
    <SourceCodeRegions amount="2">
      <source_code type="assignment">
        <location start="323" end="371" />
        <code>System.out.println("values = " + values());</code>
      </source_code>
      <source_code type="functiondef">
        <location start="377" end="419" />
        <code>public static void main(String args[]) {}</code>
      </source_code>
    </SourceCodeRegions>
    <Enumerations amount="0" />
    <bug_status amount="RESOLVED" />
    <resolution amount="DUPLICATE" />
    <WithStack>Calling an enum's values() method from a static initializer within that enum
will fail in Eclipse 3.1 M3, but not in Sun's javac/java.  As I explain below,
this appears to be caused by a bug in Eclipse's java compiler.  This simple
program will reliably reproduce the error:

public enum EnumTest {
	FOO,
	BAR;
	
	static {
	    System.out.println("values = " + values());
	}
	
	public static void main(String args[]) {}
}

If compiled with Sun's 1.5 javac and run with Sun's java, this program produces
the following (correct) output:

&gt; values = [LEnumTest;@192d342

If compiled and run within Eclipse 3.1 M3, this program fails with the following
exception:

Exception in thread "main" java.lang.ExceptionInInitializerError
Caused by: java.lang.NullPointerException
	at EnumTest.values(EnumTest.java:1)
	at EnumTest.&lt;clinit&gt;(EnumTest.java:6)

This error is *also* produced if I run the class produced by Eclipse using Sun's
1.5 jre.  Therefore, I believe that there is a bug in the Eclipse compiler.  

I speculate that the Eclipse compiler is placing the static initializer that it
generates from the enumerated values *AFTER* that static initializer that I
wrote.  If this is the case, that's a bug - the static initializer produced from
the enumerated values should appear first.  Again, that's just speculation.


*** This bug has been marked as a duplicate of 78321 ***</WithStack>
    <WithOutStack>Calling an enum's values() method from a static initializer within that enum
will fail in Eclipse 3.1 M3, but not in Sun's javac/java.  As I explain below,
this appears to be caused by a bug in Eclipse's java compiler.  This simple
program will reliably reproduce the error:

public enum EnumTest {
	FOO,
	BAR;
	
	static {
	    System.out.println("values = " + values());
	}
	
	public static void main(String args[]) {}
}

If compiled with Sun's 1.5 javac and run with Sun's java, this program produces
the following (correct) output:

&gt; values = [LEnumTest;@192d342

If compiled and run within Eclipse 3.1 M3, this program fails with the following
exception:

Exception in thread "main" java.lang.ExceptionInInitializerError


This error is *also* produced if I run the class produced by Eclipse using Sun's
1.5 jre.  Therefore, I believe that there is a bug in the Eclipse compiler.  

I speculate that the Eclipse compiler is placing the static initializer that it
generates from the enumerated values *AFTER* that static initializer that I
wrote.  If this is the case, that's a bug - the static initializer produced from
the enumerated values should appear first.  Again, that's just speculation.


*** This bug has been marked as a duplicate of 78321 ***</WithOutStack>
  </Bug>
  <Bug>
    <BugId amount="81455" />
    <CreationDate amount="2004-12-16 15:11:00 -0500" />
    <DupId amount="" />
    <classification amount="Tools" />
    <Product amount="GEF" />
    <component amount="Draw2d [GEF 3.x / Zest 1.x]" />
    <Version amount="unspecified" />
    <rep_platform amount="PC" />
    <op_sys amount="Windows 2000" />
    <priority amount="P3" />
    <bug_severity amount="normal" />
    <Summery>StringIndexOutOfBounds in ParagraphTextLayout</Summery>
    <Patches amount="0" />
    <Stacktraces amount="1">
      <Cause timestamp="1437341216844">
        <Exception>java.lang.StringIndexOutOfBoundsException</Exception>
        <Reason>String index out of 
range: -1</Reason>
        <Frames>
          <Frame depth="0">java.lang.String.substring(String.java:1444)</Frame>
          <Frame depth="1">java.lang.String.substring(String.java:1411)</Frame>
          <Frame depth="2">org.eclipse.draw2d.text.ParagraphTextLayout.layout(ParagraphTextLayout.java:172)</Frame>
          <Frame depth="3">org.eclipse.draw2d.text.FlowFigureLayout.layout(FlowFigureLayout.java:80)</Frame>
          <Frame depth="4">org.eclipse.draw2d.Figure.layout(Figure.java:985)</Frame>
          <Frame depth="5">org.eclipse.draw2d.Figure.validate(Figure.java:1686)</Frame>
          <Frame depth="6">org.eclipse.draw2d.text.FlowContainerLayout.layoutChildren(FlowContainerLayout.java:125)</Frame>
          <Frame depth="7">org.eclipse.draw2d.text.FlowContainerLayout.layout(FlowContainerLayout.java:112)</Frame>
          <Frame depth="8">org.eclipse.draw2d.text.FlowFigureLayout.layout(FlowFigureLayout.java:80)</Frame>
          <Frame depth="9">org.eclipse.draw2d.Figure.layout(Figure.java:985)</Frame>
          <Frame depth="10">org.eclipse.draw2d.Figure.validate(Figure.java:1686)</Frame>
          <Frame depth="11">org.eclipse.draw2d.text.BlockFlow.validate(BlockFlow.java:220)</Frame>
          <Frame depth="12">org.eclipse.draw2d.text.FlowPage.validate(FlowPage.java:138)</Frame>
          <Frame depth="13">org.eclipse.draw2d.text.FlowPage.getPreferredSize(FlowPage.java:81)</Frame>
          <Frame depth="14">org.eclipse.draw2d.text.FlowPage.getMinimumSize(FlowPage.java:48)</Frame>
          <Frame depth="15">org.eclipse.draw2d.BorderLayout.calculateMinimumSize(BorderLayout.java:94)</Frame>
          <Frame depth="16">org.eclipse.draw2d.AbstractHintLayout.getMinimumSize(AbstractHintLayout.java:69)</Frame>
          <Frame depth="17">org.eclipse.draw2d.Figure.getMinimumSize(Figure.java:670)</Frame>
          <Frame depth="18">org.eclipse.draw2d.StackLayout.calculateMinimumSize(StackLayout.java:44)</Frame>
          <Frame depth="19">org.eclipse.draw2d.AbstractHintLayout.getMinimumSize(AbstractHintLayout.java:69)</Frame>
          <Frame depth="20">org.eclipse.draw2d.Figure.getMinimumSize(Figure.java:670)</Frame>
          <Frame depth="21">org.eclipse.draw2d.ToolbarLayout.calculateChildrenSize(ToolbarLayout.java:96)</Frame>
          <Frame depth="22">org.eclipse.draw2d.ToolbarLayout.calculateMinimumSize(ToolbarLayout.java:131)</Frame>
          <Frame depth="23">org.eclipse.draw2d.AbstractHintLayout.getMinimumSize(AbstractHintLayout.java:69)</Frame>
          <Frame depth="24">org.eclipse.draw2d.Figure.getMinimumSize(Figure.java:670)</Frame>
          <Frame depth="25">org.eclipse.draw2d.ViewportLayout.calculatePreferredSize(ViewportLayout.java:65)</Frame>
          <Frame depth="26">org.eclipse.draw2d.AbstractLayout.getPreferredSize(AbstractLayout.java:93)</Frame>
          <Frame depth="27">org.eclipse.draw2d.AbstractHintLayout.getPreferredSize(AbstractHintLayout.java:86)</Frame>
          <Frame depth="28">org.eclipse.draw2d.Figure.getPreferredSize(Figure.java:698)</Frame>
          <Frame depth="29">org.eclipse.gef.internal.ui.palette.editparts.OverlayScrollPaneLayout.calculatePreferredSize(OverlayScrollPaneLayout.java:41)</Frame>
          <Frame depth="30">org.eclipse.draw2d.AbstractLayout.getPreferredSize(AbstractLayout.java:93)</Frame>
          <Frame depth="31">org.eclipse.draw2d.AbstractHintLayout.getPreferredSize(AbstractHintLayout.java:86)</Frame>
          <Frame depth="32">org.eclipse.draw2d.Figure.getPreferredSize(Figure.java:698)</Frame>
          <Frame depth="33">org.eclipse.gef.internal.ui.palette.editparts.DrawerFigure$1.isChildGrowing(DrawerFigure.java:110)</Frame>
          <Frame depth="34">org.eclipse.gef.internal.ui.palette.editparts.PaletteToolbarLayout.normalLayout(PaletteToolbarLayout.java:118)</Frame>
          <Frame depth="35">org.eclipse.gef.internal.ui.palette.editparts.PaletteToolbarLayout.layout(PaletteToolbarLayout.java:82)</Frame>
          <Frame depth="36">org.eclipse.draw2d.Figure.layout(Figure.java:985)</Frame>
          <Frame depth="37">org.eclipse.draw2d.Figure.validate(Figure.java:1686)</Frame>
          <Frame depth="38">org.eclipse.draw2d.Figure.validate(Figure.java:1688)</Frame>
          <Frame depth="39">org.eclipse.draw2d.Figure.validate(Figure.java:1688)</Frame>
          <Frame depth="40">org.eclipse.draw2d.Figure.validate(Figure.java:1688)</Frame>
          <Frame depth="41">org.eclipse.draw2d.Viewport.validate(Viewport.java:363)</Frame>
          <Frame depth="42">org.eclipse.draw2d.Figure.validate(Figure.java:1688)</Frame>
          <Frame depth="43">org.eclipse.draw2d.DeferredUpdateManager.validateFigures(DeferredUpdateManager.java:270)</Frame>
        </Frames>
      </Cause>
    </Stacktraces>
    <SourceCodeRegions amount="0" />
    <Enumerations amount="0" />
    <bug_status amount="RESOLVED" />
    <resolution amount="WORKSFORME" />
    <WithStack>I've just updated GEF/Draw2D from cvs and my code stopped working. For some 
reason fragLength is 8 for segment "Polygon", so it fails with such below. Bug 
is easy to reproduce, so let me know if any additional info is needed.


Caused by: java.lang.StringIndexOutOfBoundsException: String index out of 
range: -1
	at java.lang.String.substring(String.java:1444)
	at java.lang.String.substring(String.java:1411)
	at org.eclipse.draw2d.text.ParagraphTextLayout.layout
(ParagraphTextLayout.java:172)
	at org.eclipse.draw2d.text.FlowFigureLayout.layout
(FlowFigureLayout.java:80)
	at org.eclipse.draw2d.Figure.layout(Figure.java:985)
	at org.eclipse.draw2d.Figure.validate(Figure.java:1686)
	at org.eclipse.draw2d.text.FlowContainerLayout.layoutChildren
(FlowContainerLayout.java:125)
	at org.eclipse.draw2d.text.FlowContainerLayout.layout
(FlowContainerLayout.java:112)
	at org.eclipse.draw2d.text.FlowFigureLayout.layout
(FlowFigureLayout.java:80)
	at org.eclipse.draw2d.Figure.layout(Figure.java:985)
	at org.eclipse.draw2d.Figure.validate(Figure.java:1686)
	at org.eclipse.draw2d.text.BlockFlow.validate(BlockFlow.java:220)
	at org.eclipse.draw2d.text.FlowPage.validate(FlowPage.java:138)
	at org.eclipse.draw2d.text.FlowPage.getPreferredSize(FlowPage.java:81)
	at org.eclipse.draw2d.text.FlowPage.getMinimumSize(FlowPage.java:48)
	at org.eclipse.draw2d.BorderLayout.calculateMinimumSize
(BorderLayout.java:94)
	at org.eclipse.draw2d.AbstractHintLayout.getMinimumSize
(AbstractHintLayout.java:69)
	at org.eclipse.draw2d.Figure.getMinimumSize(Figure.java:670)
	at org.eclipse.draw2d.StackLayout.calculateMinimumSize
(StackLayout.java:44)
	at org.eclipse.draw2d.AbstractHintLayout.getMinimumSize
(AbstractHintLayout.java:69)
	at org.eclipse.draw2d.Figure.getMinimumSize(Figure.java:670)
	at org.eclipse.draw2d.ToolbarLayout.calculateChildrenSize
(ToolbarLayout.java:96)
	at org.eclipse.draw2d.ToolbarLayout.calculateMinimumSize
(ToolbarLayout.java:131)
	at org.eclipse.draw2d.AbstractHintLayout.getMinimumSize
(AbstractHintLayout.java:69)
	at org.eclipse.draw2d.Figure.getMinimumSize(Figure.java:670)
	at org.eclipse.draw2d.ViewportLayout.calculatePreferredSize
(ViewportLayout.java:65)
	at org.eclipse.draw2d.AbstractLayout.getPreferredSize
(AbstractLayout.java:93)
	at org.eclipse.draw2d.AbstractHintLayout.getPreferredSize
(AbstractHintLayout.java:86)
	at org.eclipse.draw2d.Figure.getPreferredSize(Figure.java:698)
	at 
org.eclipse.gef.internal.ui.palette.editparts.OverlayScrollPaneLayout.calculateP
referredSize(OverlayScrollPaneLayout.java:41)
	at org.eclipse.draw2d.AbstractLayout.getPreferredSize
(AbstractLayout.java:93)
	at org.eclipse.draw2d.AbstractHintLayout.getPreferredSize
(AbstractHintLayout.java:86)
	at org.eclipse.draw2d.Figure.getPreferredSize(Figure.java:698)
	at 
org.eclipse.gef.internal.ui.palette.editparts.DrawerFigure$1.isChildGrowing
(DrawerFigure.java:110)
	at 
org.eclipse.gef.internal.ui.palette.editparts.PaletteToolbarLayout.normalLayout
(PaletteToolbarLayout.java:118)
	at 
org.eclipse.gef.internal.ui.palette.editparts.PaletteToolbarLayout.layout
(PaletteToolbarLayout.java:82)
	at org.eclipse.draw2d.Figure.layout(Figure.java:985)
	at org.eclipse.draw2d.Figure.validate(Figure.java:1686)
	at org.eclipse.draw2d.Figure.validate(Figure.java:1688)
	at org.eclipse.draw2d.Figure.validate(Figure.java:1688)
	at org.eclipse.draw2d.Figure.validate(Figure.java:1688)
	at org.eclipse.draw2d.Viewport.validate(Viewport.java:363)
	at org.eclipse.draw2d.Figure.validate(Figure.java:1688)
	at org.eclipse.draw2d.DeferredUpdateManager.validateFigures
(DeferredUpdateManager.java:270)
We're aware of this problem.  Technically, you shouldn't open bugs against 
code in the repository (that hasn't made it into a build yet).  I've fixed 
this problem, however.  So you can update from the repository again.  Keep in 
mind that we're still working on this text package and it is prone to being 
buggy.
I think it's perfectly valid to open bugs against code in the HEAD stream. It's 
much better to have people using our code (and bugs) sooner than later. The 
newsgroup could also be used if you think it's something obvious which may 
already be fixed but unreleased.
Reopening. Wrapping code will undergo further changes.
Should be working now.  We're still making slight changes for borders and bidi.</WithStack>
    <WithOutStack>I've just updated GEF/Draw2D from cvs and my code stopped working. For some 
reason fragLength is 8 for segment "Polygon", so it fails with such below. Bug 
is easy to reproduce, so let me know if any additional info is needed.



We're aware of this problem.  Technically, you shouldn't open bugs against 
code in the repository (that hasn't made it into a build yet).  I've fixed 
this problem, however.  So you can update from the repository again.  Keep in 
mind that we're still working on this text package and it is prone to being 
buggy.
I think it's perfectly valid to open bugs against code in the HEAD stream. It's 
much better to have people using our code (and bugs) sooner than later. The 
newsgroup could also be used if you think it's something obvious which may 
already be fixed but unreleased.
Reopening. Wrapping code will undergo further changes.
Should be working now.  We're still making slight changes for borders and bidi.</WithOutStack>
  </Bug>
  <Bug>
    <BugId amount="81456" />
    <CreationDate amount="2004-12-16 15:12:00 -0500" />
    <DupId amount="" />
    <classification amount="Eclipse" />
    <Product amount="Platform" />
    <component amount="UI" />
    <Version amount="3.1" />
    <rep_platform amount="Sun" />
    <op_sys amount="Solaris" />
    <priority amount="P5" />
    <bug_severity amount="minor" />
    <Summery>[Progress] Progress blocked dialog has weird scrollbar</Summery>
    <Patches amount="0" />
    <Stacktraces amount="0" />
    <SourceCodeRegions amount="0" />
    <Enumerations amount="0" />
    <bug_status amount="NEW" />
    <resolution amount="" />
    <WithStack>I20041216-1200, Solaris, Motif, CDE

The progress dialog appeared with a weird scrollbar in the top left.  Screenshot
should show what I mean.
Created attachment 16717
Screenshot
Is this only the blocked dialog or does it happen to all dialogs?
I didn't notice it in any other dialogs, but I didn't do an exhaustive search 
of all dialogs either. 
There are currently no plans to work on this although we would be happy to review a patch
As per http://wiki.eclipse.org/Platform_UI/Bug_Triage_Change_2009</WithStack>
    <WithOutStack>I20041216-1200, Solaris, Motif, CDE

The progress dialog appeared with a weird scrollbar in the top left.  Screenshot
should show what I mean.
Created attachment 16717
Screenshot
Is this only the blocked dialog or does it happen to all dialogs?
I didn't notice it in any other dialogs, but I didn't do an exhaustive search 
of all dialogs either. 
There are currently no plans to work on this although we would be happy to review a patch
As per http://wiki.eclipse.org/Platform_UI/Bug_Triage_Change_2009</WithOutStack>
  </Bug>
  <Bug>
    <BugId amount="81457" />
    <CreationDate amount="2004-12-16 15:18:00 -0500" />
    <DupId amount="" />
    <classification amount="Eclipse" />
    <Product amount="JDT" />
    <component amount="Core" />
    <Version amount="3.1" />
    <rep_platform amount="PC" />
    <op_sys amount="Windows XP" />
    <priority amount="P3" />
    <bug_severity amount="normal" />
    <Summery>[dom] AST rewrite doesn't return the expected code</Summery>
    <Patches amount="0" />
    <Stacktraces amount="0" />
    <SourceCodeRegions amount="5">
      <source_code type="class">
        <location start="204" end="269" />
        <code>public class Test {
    void bar() {
	}
	public void foo() {
	}
}</code>
      </source_code>
      <source_code type="functiondef">
        <location start="831" end="850" />
        <code>void bar() {
	}</code>
      </source_code>
      <source_code type="functioncall">
        <location start="1106" end="1159" />
        <code>listRewrite.insertLast(bodyDeclarations[i], null);</code>
      </source_code>
      <source_code type="assignment">
        <location start="1163" end="1238" />
        <code>ASTNode moveTarget= rewrite.createMoveTarget(bodyDeclarations[i], null);</code>
      </source_code>
      <source_code type="functioncall">
        <location start="1239" end="1283" />
        <code>listRewrite.insertLast(moveTarget, null);</code>
      </source_code>
    </SourceCodeRegions>
    <Enumerations amount="0" />
    <bug_status amount="RESOLVED" />
    <resolution amount="WORKSFORME" />
    <WithStack>Using 200412161200, I don't get the expected result trying to sort the methods
of a type declaration.
Copy paste the attached code snippet into the ASTConverter15Test and run that test.
At the end I get:
public class Test {
    void bar() {
	}
	public void foo() {
	}
}

that contains tab instead of spaces and the foo method is too indented to the right.
If I replace spaces with tabs, it works fine.
Created attachment 16718
Use this code snippet

I'd like to use the rewriting infrastructure to handle sorting of members
inside compilation unit. This would handle new 1.5 constructs.
There are several problems in your code:
- You use spaces for indent in the example code, but use the default formatter
settings ('null' in ASTRewrite.create(doc, null)) that uses tabs. The console
and also bugzilla render tabs with size of 8.
    void bar() {
	}
looks wrong but is all fine, both line have one indent

- To move or copy a element you have to create a target node when you insert it
again. Otherwise the inserted node is treated as newly contructed ast node and
looses all user formatting and comments
   listRewrite.insertLast(bodyDeclarations[i], null);
-&gt;
   ASTNode moveTarget= rewrite.createMoveTarget(bodyDeclarations[i], null);
   listRewrite.insertLast(moveTarget, null);
As this is a move, there's no need to first remove the original nodes

- The 'ast' you use to create in 'ASTRewrite.create(ast)' seems to be a instance
variable. Always use the ast you created the AST with.
I added test ASTRewritingMethodDeclTest.testListCombination2
(org.eclipse.jdt.core.tests.rewrite.describing) that does a reordering of methods.</WithStack>
    <WithOutStack>Using 200412161200, I don't get the expected result trying to sort the methods
of a type declaration.
Copy paste the attached code snippet into the ASTConverter15Test and run that test.
At the end I get:
public class Test {
    void bar() {
	}
	public void foo() {
	}
}

that contains tab instead of spaces and the foo method is too indented to the right.
If I replace spaces with tabs, it works fine.
Created attachment 16718
Use this code snippet

I'd like to use the rewriting infrastructure to handle sorting of members
inside compilation unit. This would handle new 1.5 constructs.
There are several problems in your code:
- You use spaces for indent in the example code, but use the default formatter
settings ('null' in ASTRewrite.create(doc, null)) that uses tabs. The console
and also bugzilla render tabs with size of 8.
    void bar() {
	}
looks wrong but is all fine, both line have one indent

- To move or copy a element you have to create a target node when you insert it
again. Otherwise the inserted node is treated as newly contructed ast node and
looses all user formatting and comments
   listRewrite.insertLast(bodyDeclarations[i], null);
-&gt;
   ASTNode moveTarget= rewrite.createMoveTarget(bodyDeclarations[i], null);
   listRewrite.insertLast(moveTarget, null);
As this is a move, there's no need to first remove the original nodes

- The 'ast' you use to create in 'ASTRewrite.create(ast)' seems to be a instance
variable. Always use the ast you created the AST with.
I added test ASTRewritingMethodDeclTest.testListCombination2
(org.eclipse.jdt.core.tests.rewrite.describing) that does a reordering of methods.</WithOutStack>
  </Bug>
  <Bug>
    <BugId amount="81458" />
    <CreationDate amount="2004-12-16 15:20:00 -0500" />
    <DupId amount="" />
    <classification amount="Eclipse" />
    <Product amount="Platform" />
    <component amount="UI" />
    <Version amount="3.1" />
    <rep_platform amount="Sun" />
    <op_sys amount="Solaris" />
    <priority amount="P2" />
    <bug_severity amount="normal" />
    <Summery>[Preferences] Preference dialog background colours do not match on many platforms</Summery>
    <Patches amount="0" />
    <Stacktraces amount="0" />
    <SourceCodeRegions amount="0" />
    <Enumerations amount="0" />
    <bug_status amount="VERIFIED" />
    <resolution amount="FIXED" />
    <WithStack>I20041216-1200, Solaris, Motif, CDE

The background colours for the preference dialog on Motif look wrong.  The left
and top edges of the dialog have a white background.  However, all of the
widgetry (scrollable composite, scrollbar, etc.) have the dark grey background. 
It would be better is the entire dialog were done in the customary Motif dark
grey.
It is washed out on the MAc too
We have reverted to a single tab and standard colours in build &gt;20050103
Verified in 20050215-2300</WithStack>
    <WithOutStack>I20041216-1200, Solaris, Motif, CDE

The background colours for the preference dialog on Motif look wrong.  The left
and top edges of the dialog have a white background.  However, all of the
widgetry (scrollable composite, scrollbar, etc.) have the dark grey background. 
It would be better is the entire dialog were done in the customary Motif dark
grey.
It is washed out on the MAc too
We have reverted to a single tab and standard colours in build &gt;20050103
Verified in 20050215-2300</WithOutStack>
  </Bug>
  <Bug>
    <BugId amount="81459" />
    <CreationDate amount="2004-12-16 15:23:00 -0500" />
    <DupId amount="" />
    <classification amount="Eclipse" />
    <Product amount="Platform" />
    <component amount="UI" />
    <Version amount="3.1" />
    <rep_platform amount="PC" />
    <op_sys amount="Solaris-Motif" />
    <priority amount="P4" />
    <bug_severity amount="enhancement" />
    <Summery>[Preferences] In preference dialog, if only one item matches, then jump to match</Summery>
    <Patches amount="0" />
    <Stacktraces amount="0" />
    <SourceCodeRegions amount="0" />
    <Enumerations amount="0" />
    <bug_status amount="RESOLVED" />
    <resolution amount="WONTFIX" />
    <WithStack>I20041216-1200, Solaris, Motif, CDE 
 
If I'm typing in the filter text area and manage to narrow the choice to one 
page, it should probably just jump to that page -- rather than requiring me to 
tab out or use the mouse.  There should probably be a suitable delay of some 
sort ( 500ms or less ),
This is a good idea - we just need to decide what to do in the deselection 
case.
There are currently no plans to work on this feature although we would be happy to review a patch.
As of now 'LATER' and 'REMIND' resolutions are no longer supported.
Please reopen this bug if it is still valid for you.</WithStack>
    <WithOutStack>I20041216-1200, Solaris, Motif, CDE 
 
If I'm typing in the filter text area and manage to narrow the choice to one 
page, it should probably just jump to that page -- rather than requiring me to 
tab out or use the mouse.  There should probably be a suitable delay of some 
sort ( 500ms or less ),
This is a good idea - we just need to decide what to do in the deselection 
case.
There are currently no plans to work on this feature although we would be happy to review a patch.
As of now 'LATER' and 'REMIND' resolutions are no longer supported.
Please reopen this bug if it is still valid for you.</WithOutStack>
  </Bug>
  <Bug>
    <BugId amount="81460" />
    <CreationDate amount="2004-12-16 15:25:00 -0500" />
    <DupId amount="" />
    <classification amount="Eclipse" />
    <Product amount="Platform" />
    <component amount="UI" />
    <Version amount="3.1" />
    <rep_platform amount="All" />
    <op_sys amount="All" />
    <priority amount="P3" />
    <bug_severity amount="normal" />
    <Summery>[Workbench] (regression) Close all perspectives, open Java perspective, layout wrong</Summery>
    <Patches amount="0" />
    <Stacktraces amount="0" />
    <SourceCodeRegions amount="1">
      <source_code type="functioncall">
        <location start="2970" end="3033" />
        <code>defaultLayout.setCenterControl(newPage.getClientComposite());</code>
      </source_code>
    </SourceCodeRegions>
    <Enumerations amount="1">
      <Enumeration lines="5">
        <Lines>
          <Line>- Get rid of the pageComposite and the StackLayout</Line>
          <Line>- Create the page controls directly under the shell, and use the center control</Line>
          <Line>of the TrimLayout like a StackLayout. That is, rather than this:</Line>
          <Line>layout.topControl = newPage.getClientComposite()</Line>
          <Line>use this:</Line>
        </Lines>
      </Enumeration>
    </Enumerations>
    <bug_status amount="VERIFIED" />
    <resolution amount="FIXED" />
    <WithStack>I20041216-1200, Solaris, Motif, CDE 
 
If you close all perspectives and then open the Java perspective, the layout 
of the Java perspective is wrong.  The editor area is given almost all of the 
space, and the outline/explorer/problems views are all squished.
And when you then Reset, the window adjusts itself.  Odd.
Stefan, would you be able to look into this?

I believe the cause is the same as bug 69615: ever since views stopped resizing
proportionally window, the initial ratios in a perspective are no longer
deterministic.
The problem is in the initial layout of the perspective, which is specified as
ratios, not in resizing.  No resize is necessary to show the problem.  I don't
see why this can't be deterministic based on the current size of the window.

Does not occur in 3.0.1, so it's not directly caused by the resize change.

Occurs on Windows too.

This looks really goofy.  Please consider for M7.

Re: comment 5

You're right, this is different. I should have read the steps to reproduce more
carefully.
The bug is in WorkbenchWindow. It creates the WorkbenchPage control and the
"getWindowAdvisor().createEmptyWindowContents" control in the same composite,
which has a FillLayout(SWT.HORIZONTAL) for its layout.

This means that when the workbench page composite gets its initial size, it's
sharing half the window with the "no perspectives" composite and the initial
layout is computed for a thin, tall composite. 

This is the size used to compute the initial view sizes, which don't change when
the page gets its final (correct) size. This could be fixed by using a
WorkbenchWindow layout that makes all the children overlap and fill the window,
or by disposing the "no perspectives" composite before creating the workbench
page controls.

If I recall correctly, Eclipse 3.0 didn't make use of createEmptyWindowContents,
so the workbench page ended up alone in the window and was computed with the
correct width.
I'll fix it up, as this was due to the createEmptyWindowContents change.

Created attachment 20310
Patch to WorkbenchWindow

I've changed the layout to be a StackLayout, since the empty window contents
was not been created/disposed in the same place as the workbench page's
controls.
This may lead to extra layouts though.

Stefan, could you please review this patch?
Nick: the patch looks okay to me. I verified that there are no extra layouts
being triggered on perspective switches, and that it fixes this PR.

There does seem to be 3 redundant layouts of a PartSashContainer when opening
the first perspective, but I don't think that's due to your patch.

Looking through the code, I think we may be able to squeeze out a small amount
of extra performance like this:

- Get rid of the pageComposite and the StackLayout
- Create the page controls directly under the shell, and use the center control
of the TrimLayout like a StackLayout. That is, rather than this:
  layout.topControl = newPage.getClientComposite()
  use this:
  defaultLayout.setCenterControl(newPage.getClientComposite());

This will eliminate one SWT Composite and one layer of layouts. This is a very
minor optimization, so just take it as a suggestion.

Unfortunately I don't think we can get away with that optimization since the app
has control over where the page composite is placed, if it has a custom layout.
See IWorkbenchWindowConfigurer.createPageComposite.

In the case of the default layout, we could do this, but then we'd have
different code for the two cases.  I suggest leaving as-is for 3.1.

I've released the patch.
Verified in I20050509-2010.</WithStack>
    <WithOutStack>I20041216-1200, Solaris, Motif, CDE 
 
If you close all perspectives and then open the Java perspective, the layout 
of the Java perspective is wrong.  The editor area is given almost all of the 
space, and the outline/explorer/problems views are all squished.
And when you then Reset, the window adjusts itself.  Odd.
Stefan, would you be able to look into this?

I believe the cause is the same as bug 69615: ever since views stopped resizing
proportionally window, the initial ratios in a perspective are no longer
deterministic.
The problem is in the initial layout of the perspective, which is specified as
ratios, not in resizing.  No resize is necessary to show the problem.  I don't
see why this can't be deterministic based on the current size of the window.

Does not occur in 3.0.1, so it's not directly caused by the resize change.

Occurs on Windows too.

This looks really goofy.  Please consider for M7.

Re: comment 5

You're right, this is different. I should have read the steps to reproduce more
carefully.
The bug is in WorkbenchWindow. It creates the WorkbenchPage control and the
"getWindowAdvisor().createEmptyWindowContents" control in the same composite,
which has a FillLayout(SWT.HORIZONTAL) for its layout.

This means that when the workbench page composite gets its initial size, it's
sharing half the window with the "no perspectives" composite and the initial
layout is computed for a thin, tall composite. 

This is the size used to compute the initial view sizes, which don't change when
the page gets its final (correct) size. This could be fixed by using a
WorkbenchWindow layout that makes all the children overlap and fill the window,
or by disposing the "no perspectives" composite before creating the workbench
page controls.

If I recall correctly, Eclipse 3.0 didn't make use of createEmptyWindowContents,
so the workbench page ended up alone in the window and was computed with the
correct width.
I'll fix it up, as this was due to the createEmptyWindowContents change.

Created attachment 20310
Patch to WorkbenchWindow

I've changed the layout to be a StackLayout, since the empty window contents
was not been created/disposed in the same place as the workbench page's
controls.
This may lead to extra layouts though.

Stefan, could you please review this patch?
Nick: the patch looks okay to me. I verified that there are no extra layouts
being triggered on perspective switches, and that it fixes this PR.

There does seem to be 3 redundant layouts of a PartSashContainer when opening
the first perspective, but I don't think that's due to your patch.

Looking through the code, I think we may be able to squeeze out a small amount
of extra performance like this:

- Get rid of the pageComposite and the StackLayout
- Create the page controls directly under the shell, and use the center control
of the TrimLayout like a StackLayout. That is, rather than this:
  layout.topControl = newPage.getClientComposite()
  use this:
  defaultLayout.setCenterControl(newPage.getClientComposite());

This will eliminate one SWT Composite and one layer of layouts. This is a very
minor optimization, so just take it as a suggestion.

Unfortunately I don't think we can get away with that optimization since the app
has control over where the page composite is placed, if it has a custom layout.
See IWorkbenchWindowConfigurer.createPageComposite.

In the case of the default layout, we could do this, but then we'd have
different code for the two cases.  I suggest leaving as-is for 3.1.

I've released the patch.
Verified in I20050509-2010.</WithOutStack>
  </Bug>
  <Bug>
    <BugId amount="81461" />
    <CreationDate amount="2004-12-16 15:30:00 -0500" />
    <DupId amount="" />
    <classification amount="Eclipse" />
    <Product amount="Platform" />
    <component amount="Debug" />
    <Version amount="3.0" />
    <rep_platform amount="PC" />
    <op_sys amount="Windows XP" />
    <priority amount="P3" />
    <bug_severity amount="enhancement" />
    <Summery>[console] needs key to clear</Summery>
    <Patches amount="0" />
    <Stacktraces amount="0" />
    <SourceCodeRegions amount="0" />
    <Enumerations amount="0" />
    <bug_status amount="ASSIGNED" />
    <resolution amount="" />
    <WithStack>traffic on eclipse.platform:

Tom Roche Wed, 15 Dec 2004 19:52:32 -0500
&gt;&gt; Is there a keychord that performs the same action as clicking the
&gt;&gt; little eraser on the Console view?

Kevin Barnes &lt;krbarnes@ca.ibm.com&gt; Thu, 16 Dec 2004 00:32:14 -0600
&gt; the clear console is not mapped to any key binding. I'd recommend
&gt; that you file a bug against Platform-Debug.
Suggest to add command with no key-binding. Users can assign a binding as 
desired. (I don't know of a standard "clear" key).
Deferred
Reopening to mark as bugday</WithStack>
    <WithOutStack>traffic on eclipse.platform:

Tom Roche Wed, 15 Dec 2004 19:52:32 -0500
&gt;&gt; Is there a keychord that performs the same action as clicking the
&gt;&gt; little eraser on the Console view?

Kevin Barnes &lt;krbarnes@ca.ibm.com&gt; Thu, 16 Dec 2004 00:32:14 -0600
&gt; the clear console is not mapped to any key binding. I'd recommend
&gt; that you file a bug against Platform-Debug.
Suggest to add command with no key-binding. Users can assign a binding as 
desired. (I don't know of a standard "clear" key).
Deferred
Reopening to mark as bugday</WithOutStack>
  </Bug>
  <Bug>
    <BugId amount="81462" />
    <CreationDate amount="2004-12-16 15:31:00 -0500" />
    <DupId amount="" />
    <classification amount="Eclipse" />
    <Product amount="Platform" />
    <component amount="UI" />
    <Version amount="3.1" />
    <rep_platform amount="PC" />
    <op_sys amount="Solaris-Motif" />
    <priority amount="P5" />
    <bug_severity amount="normal" />
    <Summery>[Perspectives] The background colour when closing all perspectives is hard-coded and non-standard</Summery>
    <Patches amount="0" />
    <Stacktraces amount="0" />
    <SourceCodeRegions amount="0" />
    <Enumerations amount="0" />
    <bug_status amount="ASSIGNED" />
    <resolution amount="" />
    <WithStack>I20041216-1200, Solaris, Motif, CDE 
 
When all perspectives are closed now, a custom background colour and 
foreground colour are chosen.  These colours are not configurably, and are 
non-standard (at least with respect to non-Windows apps).  These should 
ideally play nice with either native widget toolkit theming (e.g., GTK+) or 
with Eclipse's homegrown theming.
The code is in IDEWorkbenchAdvisor.createEmptyWindowContents.
It currently uses SWT.COLOR_DARK_GREY and SWT.COLOR_WHITE.

If it's changed to use SWT.COLOR_TITLE_INACTIVE_BACKGROUND and
SWT.COLOR_TITLE_INACTIVE_FOREGROUND, it looks acceptable on Windows, and should
play well with the theme.

Billy, do you have any suggestions for which values look good here on GTK?
If possible, I'd like to stick to the predefined colours rather than defining
new ones via the themes xpt.



The inactive title bar colours are not well defined on GTK+ (and seem to
actually map to the inactive selection foreground and background colours).

I am not sure what would be an appropriate choice here either.  Using anything
other than the default widget foreground and background makes the margins along
the sides of the window stand out in a strange way.  If it just drew a maximized
editor area frame instead of using colours I think it might fix the blankness
problem without getting into too much trouble with themes.
Deferring.

We want to show extra instructions here, not just a blank editor area.

Doug, can we live with this as-is for 3.1?

I must confess that I'm finding the lack of interest expressed on a few bugs of
this sort very disheartening.  (Bug 62900, Bug 62903, and Bug 85581, for
example).  The cumulative effect of not paying attention to appearance on
non-Windows platforms is an unprofessional overall appearance on non-Windows
platforms.

Now that I've had my chance to rant ... yeah, sure ... after 3.1 is fine.

Reassigning bugs in component areas that are changing ownership.
Is this still a problem in 3.3?

PW

Changes requested on bug 193523</WithStack>
    <WithOutStack>I20041216-1200, Solaris, Motif, CDE 
 
When all perspectives are closed now, a custom background colour and 
foreground colour are chosen.  These colours are not configurably, and are 
non-standard (at least with respect to non-Windows apps).  These should 
ideally play nice with either native widget toolkit theming (e.g., GTK+) or 
with Eclipse's homegrown theming.
The code is in IDEWorkbenchAdvisor.createEmptyWindowContents.
It currently uses SWT.COLOR_DARK_GREY and SWT.COLOR_WHITE.

If it's changed to use SWT.COLOR_TITLE_INACTIVE_BACKGROUND and
SWT.COLOR_TITLE_INACTIVE_FOREGROUND, it looks acceptable on Windows, and should
play well with the theme.

Billy, do you have any suggestions for which values look good here on GTK?
If possible, I'd like to stick to the predefined colours rather than defining
new ones via the themes xpt.



The inactive title bar colours are not well defined on GTK+ (and seem to
actually map to the inactive selection foreground and background colours).

I am not sure what would be an appropriate choice here either.  Using anything
other than the default widget foreground and background makes the margins along
the sides of the window stand out in a strange way.  If it just drew a maximized
editor area frame instead of using colours I think it might fix the blankness
problem without getting into too much trouble with themes.
Deferring.

We want to show extra instructions here, not just a blank editor area.

Doug, can we live with this as-is for 3.1?

I must confess that I'm finding the lack of interest expressed on a few bugs of
this sort very disheartening.  (Bug 62900, Bug 62903, and Bug 85581, for
example).  The cumulative effect of not paying attention to appearance on
non-Windows platforms is an unprofessional overall appearance on non-Windows
platforms.

Now that I've had my chance to rant ... yeah, sure ... after 3.1 is fine.

Reassigning bugs in component areas that are changing ownership.
Is this still a problem in 3.3?

PW

Changes requested on bug 193523</WithOutStack>
  </Bug>
  <Bug>
    <BugId amount="81463" />
    <CreationDate amount="2004-12-16 15:31:00 -0500" />
    <DupId amount="" />
    <classification amount="Eclipse" />
    <Product amount="Platform" />
    <component amount="SWT" />
    <Version amount="3.1" />
    <rep_platform amount="PC" />
    <op_sys amount="All" />
    <priority amount="P3" />
    <bug_severity amount="normal" />
    <Summery>[launcher] Launcher and Core issues regarding -showSplash</Summery>
    <Patches amount="0" />
    <Stacktraces amount="0" />
    <SourceCodeRegions amount="0" />
    <Enumerations amount="0" />
    <bug_status amount="RESOLVED" />
    <resolution amount="FIXED" />
    <WithStack>Top eclipse passes a bunch of commands to the java including the following:
-showsplash
d:/eclipse.exe -showsplash 600

This command is parsed on the java side by:
org.eclipse.platform/org.eclipse.core.launcher.Main.runCommand

Problem 1: that method does not simply append the location of the BMP splash 
screen to the given command "d:/eclipse.exe 600". It tries to break up into 
the following parts:
d:/eclipse.exe
-showsplash
600
d:/screen.bmp

This code looks up of " " and breaks up when the executable name has spaces 
and if more arguments are passed.

Problem 2
To support -name on Windows, the command executed by Core should look like:
d:/eclipse.exe
-name
My Application Name
-showsplash
600
d:/screen.bmp

So that Windows displays the correct name for the splash window.

Possible solution:
Top eclipse could pass any splash related argument as an argument to -splash. 
java Main would assemble a String[] from all the -splash arguments and call 
Runtime.exec.

-splash
d:/eclipse.exe
-splash
-name
-splash
My Application Name
-splash
-showsplash
-splash
600

TBD check for simpler solution when everyone is back next year.
Better solution would be for the java code, not the native launcher code, to do
the splash. I know this has been investigated before; anyone have the bugzilla
number handy?
See bug 82518 for a possible solution.
The code change required in startup.jar has been released in HEAD, and will be
made available for the I build.
The code is compatible with the previous launcher.
Some new new changes have been released to HEAD to accomodate better ways to
pass the information back and forth with the exe.
This is released for tomorrow's I build.
v&gt;20050131
Changes are in in both sides - launcher and core.
platform-launcher eclipse.c 'documentation' has been updated.
test main.java has been updated
platform-launcher has mutated to a java project so we can compile and build a 
test startup.jar (see ant task build.startup.jar in build.xml)</WithStack>
    <WithOutStack>Top eclipse passes a bunch of commands to the java including the following:
-showsplash
d:/eclipse.exe -showsplash 600

This command is parsed on the java side by:
org.eclipse.platform/org.eclipse.core.launcher.Main.runCommand

Problem 1: that method does not simply append the location of the BMP splash 
screen to the given command "d:/eclipse.exe 600". It tries to break up into 
the following parts:
d:/eclipse.exe
-showsplash
600
d:/screen.bmp

This code looks up of " " and breaks up when the executable name has spaces 
and if more arguments are passed.

Problem 2
To support -name on Windows, the command executed by Core should look like:
d:/eclipse.exe
-name
My Application Name
-showsplash
600
d:/screen.bmp

So that Windows displays the correct name for the splash window.

Possible solution:
Top eclipse could pass any splash related argument as an argument to -splash. 
java Main would assemble a String[] from all the -splash arguments and call 
Runtime.exec.

-splash
d:/eclipse.exe
-splash
-name
-splash
My Application Name
-splash
-showsplash
-splash
600

TBD check for simpler solution when everyone is back next year.
Better solution would be for the java code, not the native launcher code, to do
the splash. I know this has been investigated before; anyone have the bugzilla
number handy?
See bug 82518 for a possible solution.
The code change required in startup.jar has been released in HEAD, and will be
made available for the I build.
The code is compatible with the previous launcher.
Some new new changes have been released to HEAD to accomodate better ways to
pass the information back and forth with the exe.
This is released for tomorrow's I build.
v&gt;20050131
Changes are in in both sides - launcher and core.
platform-launcher eclipse.c 'documentation' has been updated.
test main.java has been updated
platform-launcher has mutated to a java project so we can compile and build a 
test startup.jar (see ant task build.startup.jar in build.xml)</WithOutStack>
  </Bug>
  <Bug>
    <BugId amount="81464" />
    <CreationDate amount="2004-12-16 15:31:00 -0500" />
    <DupId amount="" />
    <classification amount="Tools" />
    <Product amount="TPTP Release Engineering" />
    <component amount="TPTP.Web" />
    <Version amount="4.0" />
    <rep_platform amount="PC" />
    <op_sys amount="Windows 2000" />
    <priority amount="P3" />
    <bug_severity amount="enhancement" />
    <Summery>(Plat) Build improvements - release notes / bugzilla-cvs integration automation</Summery>
    <Patches amount="0" />
    <Stacktraces amount="0" />
    <SourceCodeRegions amount="0" />
    <Enumerations amount="2">
      <Enumeration lines="5">
        <Lines>
          <Line>a) Simple Format:</Line>
          <Line />
          <Line>i) [12345]</Line>
          <Line>ii) [12345] Some comments</Line>
          <Line>iii)</Line>
        </Lines>
      </Enumeration>
      <Enumeration lines="30">
        <Lines>
          <Line>1. check out the required files from cvs (in order to log changes)</Line>
          <Line />
          <Line>2. run generateBugzillaList.php, eg:</Line>
          <Line>/tmp/promoteToEclipse-emf-nickb/bugz/scripts/generateBugzillaList.php</Line>
          <Line />
          <Line>outputFile=/tmp/promoteToEclipse-emf-nickb/bugz/emf-home/news/1/release-notes2.1.0.html</Line>
          <Line>buildVer=2.1.0</Line>
          <Line>CVSDir=../sdo</Line>
          <Line>package=sdo</Line>
          <Line>since=200412020800</Line>
          <Line>label=I200412091159</Line>
          <Line>buildID=I200412091159</Line>
          <Line>buildAlias=I200412091159</Line>
          <Line>noLogging=0</Line>
          <Line>debug=0</Line>
          <Line>3. For every bug found in CVS within the required date range (-since value to</Line>
          <Line>today), whatsnew-cvs.sh will be fired, eg:</Line>
          <Line>/home/www-data/emf-build/scripts/whatsnew-cvs.sh -target $package -startdate</Line>
          <Line>$releaseDate -showbinaries -bug $bz -anon -tmpfolder $tmpdir/bugz/1/ -Q -debug</Line>
          <Line>$debug</Line>
          <Line>Which is a wrapper to call whatsnew-cvs.php:</Line>
          <Line>$PHP -d html_errors=Off -q $scriptpath/whatsnew-cvs.php uselog=$uselog</Line>
          <Line>logfile=$logfile.txt bug=$bug showbinaries=$showbinaries startdate=$startdate</Line>
          <Line>enddate=$enddate workingdir=$workingdir quietCVS=$quietCVS debug=$debug email=$email</Line>
          <Line>which (finally) generates the log file and copies it into the web path on the</Line>
          <Line>build box, eg., /vaw/www/tools/emf/whatsnew-cvs/bugz-logs/*.xml</Line>
          <Line />
          <Line>It's a BIT of a process to set this up, but it's mostly just tweaking scripts to</Line>
          <Line>point at different temp/target folders, and specifying which cvs reps to check</Line>
          <Line>out and process for bugs/deltas. If your people need a hand I'm available to help.</Line>
        </Lines>
      </Enumeration>
    </Enumerations>
    <bug_status amount="CLOSED" />
    <resolution amount="FIXED" />
    <WithStack>Code's in dev.eclipse.org's CVS, under emf-home/emf-build/scripts/.

--

Only workflow change that may be required (if not already being done) is that
when committing changes to CVS that are as a result of a bug, that bug's number
 (or URL) must be put into the commit comments in one of two forms:

a) Simple Format: 

i) [12345]
ii) [12345] Some comments
iii) 

[12345]
[23456]
...
(multiple bugs on one check-in)

iv) 

[12345] Some comments
[23456] Some more comments
...
(multiple bugs on one check-in)

b) or, the Longer Format, same as above except using:

https://bugs.eclipse.org/bugs/show_bug.cgi?id=12345

instead of 

[12345]

etc.

Given these comments in CVS, Bugzilla-CVS integration is possible, and the CVS
log can be used to generate a list of bugs fixed in a given release (release
notes), and also generate a list of files changed for that bug since a given
date (eg., the last Release build).
--

To use my scripts to generate release notes with links to bugzilla-specific
whatsnew-cvs logs, you can run the following:
 
emf-home/emf-build/scripts/promoteToEclipse.sh -bugzonly -noCheckInNews -since
200412020800 -branch 2.1.0 -buildID I200412091159 -Q  2&gt;&amp;1 | tee ~/log_`date
+%Y%m%d_%H%M%S`.txt
 
which will: 
 
1. check out the required files from cvs (in order to log changes)
 
2. run generateBugzillaList.php, eg:
/tmp/promoteToEclipse-emf-nickb/bugz/scripts/generateBugzillaList.php
           
outputFile=/tmp/promoteToEclipse-emf-nickb/bugz/emf-home/news/1/release-notes2.1.0.html
            buildVer=2.1.0
            CVSDir=../sdo
            package=sdo
            since=200412020800
            label=I200412091159
            buildID=I200412091159
            buildAlias=I200412091159
            noLogging=0
            debug=0
3. For every bug found in CVS within the required date range (-since value to
today), whatsnew-cvs.sh will be fired, eg:
/home/www-data/emf-build/scripts/whatsnew-cvs.sh -target $package -startdate
$releaseDate -showbinaries -bug $bz -anon -tmpfolder $tmpdir/bugz/1/ -Q -debug
$debug
Which is a wrapper to call whatsnew-cvs.php:
$PHP -d html_errors=Off -q $scriptpath/whatsnew-cvs.php uselog=$uselog
logfile=$logfile.txt bug=$bug showbinaries=$showbinaries startdate=$startdate
enddate=$enddate workingdir=$workingdir quietCVS=$quietCVS debug=$debug email=$email
which (finally) generates the log file and copies it into the web path on the
build box, eg., /vaw/www/tools/emf/whatsnew-cvs/bugz-logs/*.xml
 
It's a BIT of a process to set this up, but it's mostly just tweaking scripts to
point at different temp/target folders, and specifying which cvs reps to check
out and process for bugs/deltas. If your people need a hand I'm available to help.

--

Examples of what the results look like can be seen here:

Release Notes (with links to bugzilla and What's New, Bugzilla?)
http://download.eclipse.org/tools/emf/scripts/news-release-notes.php

What's New, CVS? (for the past week (ie., intrabuild changes)
http://download.eclipse.org/tools/emf/scripts/news-whatsnew-cvs.php

What's New, Bugzilla? (for a given bug since last Release build)
http://download.eclipse.org/tools/emf/scripts/news-whatsnew-cvs.php?source=emf&amp;bug=80153

Additionally, other artefacts can be generated, such as Site News:
http://download.eclipse.org/tools/emf/scripts/news-whatsnew.php

(this is also where the reference to the "last Release build"'s buildID is
stored so that the script can look up that build's ID/date to use thast as the
"-since yyyymmddhhmm" or "since=yyyymmddhhmm" value when building the What's
New, Bugzilla? xml logfile.)
Layout of the Release Notes listed below has been updated:

http://www.eclipse.org/emf/news/release-notes.xml

Click on the "folder has changed" icons next to the bugzilla numbers listed to
see a list of files affected by that Bugzilla.
CVS and bugzilla activities of TPTP is now shown in the download page.  A list 
of bugs that have CVS checkins can be shown from a link.  
As of TPTP 4.6.0, TPTP is in maintenance mode and focusing on improving quality by resolving relevant enhancements/defects and increasing test coverage through test creation, automation, Build Verification Tests (BVTs), and expanded run-time execution. As part of the TPTP Bugzilla housecleaning process (see http://wiki.eclipse.org/Bugzilla_Housecleaning_Processes), this enhancement/defect is verified/closed by the Project Lead since this enhancement/defect has been resolved and unverified for more than 1 year and considered to be fixed. If this enhancement/defect is still unresolved and reproducible in the latest TPTP release (http://www.eclipse.org/tptp/home/downloads/), please re-open.</WithStack>
    <WithOutStack>Code's in dev.eclipse.org's CVS, under emf-home/emf-build/scripts/.

--

Only workflow change that may be required (if not already being done) is that
when committing changes to CVS that are as a result of a bug, that bug's number
 (or URL) must be put into the commit comments in one of two forms:

a) Simple Format: 

i) [12345]
ii) [12345] Some comments
iii) 

[12345]
[23456]
...
(multiple bugs on one check-in)

iv) 

[12345] Some comments
[23456] Some more comments
...
(multiple bugs on one check-in)

b) or, the Longer Format, same as above except using:

https://bugs.eclipse.org/bugs/show_bug.cgi?id=12345

instead of 

[12345]

etc.

Given these comments in CVS, Bugzilla-CVS integration is possible, and the CVS
log can be used to generate a list of bugs fixed in a given release (release
notes), and also generate a list of files changed for that bug since a given
date (eg., the last Release build).
--

To use my scripts to generate release notes with links to bugzilla-specific
whatsnew-cvs logs, you can run the following:
 
emf-home/emf-build/scripts/promoteToEclipse.sh -bugzonly -noCheckInNews -since
200412020800 -branch 2.1.0 -buildID I200412091159 -Q  2&gt;&amp;1 | tee ~/log_`date
+%Y%m%d_%H%M%S`.txt
 
which will: 
 
1. check out the required files from cvs (in order to log changes)
 
2. run generateBugzillaList.php, eg:
/tmp/promoteToEclipse-emf-nickb/bugz/scripts/generateBugzillaList.php
           
outputFile=/tmp/promoteToEclipse-emf-nickb/bugz/emf-home/news/1/release-notes2.1.0.html
            buildVer=2.1.0
            CVSDir=../sdo
            package=sdo
            since=200412020800
            label=I200412091159
            buildID=I200412091159
            buildAlias=I200412091159
            noLogging=0
            debug=0
3. For every bug found in CVS within the required date range (-since value to
today), whatsnew-cvs.sh will be fired, eg:
/home/www-data/emf-build/scripts/whatsnew-cvs.sh -target $package -startdate
$releaseDate -showbinaries -bug $bz -anon -tmpfolder $tmpdir/bugz/1/ -Q -debug
$debug
Which is a wrapper to call whatsnew-cvs.php:
$PHP -d html_errors=Off -q $scriptpath/whatsnew-cvs.php uselog=$uselog
logfile=$logfile.txt bug=$bug showbinaries=$showbinaries startdate=$startdate
enddate=$enddate workingdir=$workingdir quietCVS=$quietCVS debug=$debug email=$email
which (finally) generates the log file and copies it into the web path on the
build box, eg., /vaw/www/tools/emf/whatsnew-cvs/bugz-logs/*.xml
 
It's a BIT of a process to set this up, but it's mostly just tweaking scripts to
point at different temp/target folders, and specifying which cvs reps to check
out and process for bugs/deltas. If your people need a hand I'm available to help.

--

Examples of what the results look like can be seen here:

Release Notes (with links to bugzilla and What's New, Bugzilla?)
http://download.eclipse.org/tools/emf/scripts/news-release-notes.php

What's New, CVS? (for the past week (ie., intrabuild changes)
http://download.eclipse.org/tools/emf/scripts/news-whatsnew-cvs.php

What's New, Bugzilla? (for a given bug since last Release build)
http://download.eclipse.org/tools/emf/scripts/news-whatsnew-cvs.php?source=emf&amp;bug=80153

Additionally, other artefacts can be generated, such as Site News:
http://download.eclipse.org/tools/emf/scripts/news-whatsnew.php

(this is also where the reference to the "last Release build"'s buildID is
stored so that the script can look up that build's ID/date to use thast as the
"-since yyyymmddhhmm" or "since=yyyymmddhhmm" value when building the What's
New, Bugzilla? xml logfile.)
Layout of the Release Notes listed below has been updated:

http://www.eclipse.org/emf/news/release-notes.xml

Click on the "folder has changed" icons next to the bugzilla numbers listed to
see a list of files affected by that Bugzilla.
CVS and bugzilla activities of TPTP is now shown in the download page.  A list 
of bugs that have CVS checkins can be shown from a link.  
As of TPTP 4.6.0, TPTP is in maintenance mode and focusing on improving quality by resolving relevant enhancements/defects and increasing test coverage through test creation, automation, Build Verification Tests (BVTs), and expanded run-time execution. As part of the TPTP Bugzilla housecleaning process (see http://wiki.eclipse.org/Bugzilla_Housecleaning_Processes), this enhancement/defect is verified/closed by the Project Lead since this enhancement/defect has been resolved and unverified for more than 1 year and considered to be fixed. If this enhancement/defect is still unresolved and reproducible in the latest TPTP release (http://www.eclipse.org/tptp/home/downloads/), please re-open.</WithOutStack>
  </Bug>
  <Bug>
    <BugId amount="81465" />
    <CreationDate amount="2004-12-16 15:36:00 -0500" />
    <DupId amount="" />
    <classification amount="Eclipse" />
    <Product amount="Platform" />
    <component amount="Team" />
    <Version amount="3.1" />
    <rep_platform amount="PC" />
    <op_sys amount="Windows XP" />
    <priority amount="P3" />
    <bug_severity amount="normal" />
    <Summery>Patch wizard creates invalid patch when file is empty</Summery>
    <Patches amount="0" />
    <Stacktraces amount="0" />
    <SourceCodeRegions amount="0" />
    <Enumerations amount="1">
      <Enumeration lines="3">
        <Lines>
          <Line>1) Take a project which is in-sync with the repo and create an empty file</Line>
          <Line>2) Create a patch on that file, its parent or the project root</Line>
          <Line>3) Try to apply the patch</Line>
        </Lines>
      </Enumeration>
    </Enumerations>
    <bug_status amount="RESOLVED" />
    <resolution amount="FIXED" />
    <WithStack>Version: 3.1.0
Build id: 200412160800

1) Take a project which is in-sync with the repo and create an empty file
2) Create a patch on that file, its parent or the project root
3) Try to apply the patch

-&gt; A message says that the patch is invalid.
good catch... enjoy fixing :) just ignore empty files since we handle new files
as a special case.
*** Bug 81472 has been marked as a duplicate of this bug. ***
fixed in HEAD</WithStack>
    <WithOutStack>Version: 3.1.0
Build id: 200412160800

1) Take a project which is in-sync with the repo and create an empty file
2) Create a patch on that file, its parent or the project root
3) Try to apply the patch

-&gt; A message says that the patch is invalid.
good catch... enjoy fixing :) just ignore empty files since we handle new files
as a special case.
*** Bug 81472 has been marked as a duplicate of this bug. ***
fixed in HEAD</WithOutStack>
  </Bug>
  <Bug>
    <BugId amount="81466" />
    <CreationDate amount="2004-12-16 15:40:00 -0500" />
    <DupId amount="77014" />
    <classification amount="Eclipse" />
    <Product amount="Platform" />
    <component amount="UI" />
    <Version amount="3.0" />
    <rep_platform amount="PC" />
    <op_sys amount="Windows XP" />
    <priority amount="P3" />
    <bug_severity amount="normal" />
    <Summery>[ViewMgmt] [Commands] need key that closes current view</Summery>
    <Patches amount="0" />
    <Stacktraces amount="0" />
    <SourceCodeRegions amount="0" />
    <Enumerations amount="0" />
    <bug_status amount="RESOLVED" />
    <resolution amount="DUPLICATE" />
    <WithStack>A user can close the current editor with C-F4. What's the key to close
the current view, i.e. that has the same effect as hitting the X on
the view's tab?

In prefs&gt;Workbench&gt;Keys&gt;Category=Views I see nothing like Name=Close,
and the following query got no response:

From: Tom Roche &lt;tlroche@us.ibm.com&gt;
Newsgroups: eclipse.platform
Subject: key to close welcome page? or any current view?
Date: Tue, 14 Dec 2004 22:19:25 -0500

&gt; Use case: I launch (Run&gt;&lt;Run|Debug&gt;&gt;Eclipse Application) a blank
&gt; runspace to do some testing. The first thing I wanna do is close
&gt; that damn Welcome page :-) Can I keyboard that?

If there is no such key, there should be.
Try Alt+Hyphen, C.
But there should be a direct command for these too.

Comment #1 From Nick Edgar  2004-12-16 16:03 -------
&gt; Try Alt+Hyphen, C.

Yep, that works! Thanks.

&gt; But there should be a direct command for these too.

Also, is this modifiable from prefs&gt;Workbench&gt;Keys?

The Alt+Hyphen binding for showing the part's system menu can be changed.
Category: Window command name: Show System Menu.

But the 'C' is just a regular menu mnemonic, and so is not customizable.


*** This bug has been marked as a duplicate of 77014 ***</WithStack>
    <WithOutStack>A user can close the current editor with C-F4. What's the key to close
the current view, i.e. that has the same effect as hitting the X on
the view's tab?

In prefs&gt;Workbench&gt;Keys&gt;Category=Views I see nothing like Name=Close,
and the following query got no response:

From: Tom Roche &lt;tlroche@us.ibm.com&gt;
Newsgroups: eclipse.platform
Subject: key to close welcome page? or any current view?
Date: Tue, 14 Dec 2004 22:19:25 -0500

&gt; Use case: I launch (Run&gt;&lt;Run|Debug&gt;&gt;Eclipse Application) a blank
&gt; runspace to do some testing. The first thing I wanna do is close
&gt; that damn Welcome page :-) Can I keyboard that?

If there is no such key, there should be.
Try Alt+Hyphen, C.
But there should be a direct command for these too.

Comment #1 From Nick Edgar  2004-12-16 16:03 -------
&gt; Try Alt+Hyphen, C.

Yep, that works! Thanks.

&gt; But there should be a direct command for these too.

Also, is this modifiable from prefs&gt;Workbench&gt;Keys?

The Alt+Hyphen binding for showing the part's system menu can be changed.
Category: Window command name: Show System Menu.

But the 'C' is just a regular menu mnemonic, and so is not customizable.


*** This bug has been marked as a duplicate of 77014 ***</WithOutStack>
  </Bug>
  <Bug>
    <BugId amount="81467" />
    <CreationDate amount="2004-12-16 15:41:00 -0500" />
    <DupId amount="" />
    <classification amount="Tools" />
    <Product amount="GEF" />
    <component amount="Draw2d [GEF 3.x / Zest 1.x]" />
    <Version amount="3.0" />
    <rep_platform amount="Macintosh" />
    <op_sys amount="Mac OS X - Carbon (unsup.)" />
    <priority amount="P3" />
    <bug_severity amount="normal" />
    <Summery>Draw2D fails to print on Mac OSX 10.3</Summery>
    <Patches amount="0" />
    <Stacktraces amount="0" />
    <SourceCodeRegions amount="65">
      <source_code type="assignment">
        <location start="306" end="372" />
        <code>PrintDialog dialog = new PrintDialog(this.getShell(), SWT.NULL);</code>
      </source_code>
      <source_code type="assignment">
        <location start="373" end="420" />
        <code>Printer printer = new Printer(dialog.open());</code>
      </source_code>
      <source_code type="assignment">
        <location start="421" end="487" />
        <code>PrintFigureOperation pfo = new PrintFigureOperation(printer, c);</code>
      </source_code>
      <source_code type="functioncall">
        <location start="488" end="516" />
        <code>pfo.run("TEST PRINT JOB");</code>
      </source_code>
      <source_code type="import">
        <location start="937" end="975" />
        <code>import org.eclipse.swt.widgets.Shell;</code>
      </source_code>
      <source_code type="import">
        <location start="976" end="1015" />
        <code>import org.eclipse.swt.widgets.Display;</code>
      </source_code>
      <source_code type="import">
        <location start="1016" end="1058" />
        <code>import org.eclipse.swt.graphics.Rectangle;</code>
      </source_code>
      <source_code type="import">
        <location start="1059" end="1102" />
        <code>import org.eclipse.swt.events.DisposeEvent;</code>
      </source_code>
      <source_code type="import">
        <location start="1103" end="1149" />
        <code>import org.eclipse.swt.events.DisposeListener;</code>
      </source_code>
      <source_code type="import">
        <location start="1150" end="1190" />
        <code>import org.eclipse.swt.widgets.MenuItem;</code>
      </source_code>
      <source_code type="import">
        <location start="1191" end="1227" />
        <code>import org.eclipse.swt.widgets.Menu;</code>
      </source_code>
      <source_code type="import">
        <location start="1228" end="1269" />
        <code>import org.eclipse.swt.layout.GridLayout;</code>
      </source_code>
      <source_code type="import">
        <location start="1270" end="1308" />
        <code>import org.eclipse.swt.graphics.Color;</code>
      </source_code>
      <source_code type="import">
        <location start="1309" end="1350" />
        <code>import org.eclipse.swt.widgets.Composite;</code>
      </source_code>
      <source_code type="import">
        <location start="1351" end="1392" />
        <code>import org.eclipse.swt.layout.FillLayout;</code>
      </source_code>
      <source_code type="import">
        <location start="1393" end="1434" />
        <code>import org.eclipse.swt.layout.FormLayout;</code>
      </source_code>
      <source_code type="import">
        <location start="1435" end="1462" />
        <code>import org.eclipse.swt.SWT;</code>
      </source_code>
      <source_code type="import">
        <location start="1463" end="1497" />
        <code>import org.eclipse.swt.printing.*;</code>
      </source_code>
      <source_code type="import">
        <location start="1498" end="1536" />
        <code>import org.eclipse.swt.widgets.Canvas;</code>
      </source_code>
      <source_code type="import">
        <location start="1537" end="1576" />
        <code>import org.eclipse.swt.layout.FormData;</code>
      </source_code>
      <source_code type="import">
        <location start="1577" end="1622" />
        <code>import org.eclipse.swt.layout.FormAttachment;</code>
      </source_code>
      <source_code type="import">
        <location start="1623" end="1651" />
        <code>import org.eclipse.draw2d.*;</code>
      </source_code>
      <source_code type="import">
        <location start="1652" end="1689" />
        <code>import org.eclipse.swt.widgets.Combo;</code>
      </source_code>
      <source_code type="import">
        <location start="1690" end="1737" />
        <code>import org.eclipse.swt.events.SelectionAdapter;</code>
      </source_code>
      <source_code type="import">
        <location start="1738" end="1783" />
        <code>import org.eclipse.swt.events.SelectionEvent;</code>
      </source_code>
      <source_code type="import">
        <location start="1784" end="1822" />
        <code>import org.eclipse.swt.widgets.Button;</code>
      </source_code>
      <source_code type="import">
        <location start="1823" end="1860" />
        <code>import org.eclipse.swt.widgets.Scale;</code>
      </source_code>
      <source_code type="import">
        <location start="1861" end="1909" />
        <code>import org.eclipse.swt.events.MouseMoveListener;</code>
      </source_code>
      <source_code type="import">
        <location start="1910" end="1951" />
        <code>import org.eclipse.swt.events.MouseEvent;</code>
      </source_code>
      <source_code type="import">
        <location start="1952" end="1991" />
        <code>import org.eclipse.swt.custom.SashForm;</code>
      </source_code>
      <source_code type="import">
        <location start="1992" end="2032" />
        <code>import org.eclipse.swt.layout.RowLayout;</code>
      </source_code>
      <source_code type="import">
        <location start="2033" end="2071" />
        <code>import org.eclipse.swt.layout.RowData;</code>
      </source_code>
      <source_code type="import">
        <location start="2072" end="2106" />
        <code>import org.eclipse.draw2d.parts.*;</code>
      </source_code>
      <source_code type="import">
        <location start="2107" end="2144" />
        <code>import org.eclipse.draw2d.geometry.*;</code>
      </source_code>
      <source_code type="multicomment">
        <location start="2145" end="2447" />
        <code>/**import org.
* This code was generated using CloudGarden's Jigloo
* SWT/Swing GUI Builder, which is free for non-commercial
* use. If Jigloo is being used commercially (ie, by a
* for-profit company or business) then you should purchase
* a license - please visit www.cloudgarden.com for details.
*/</code>
      </source_code>
      <source_code type="class">
        <location start="2448" end="13865" />
        <code>public class NewSWTApp extends org.eclipse.swt.widgets.Composite {
	private Scale scale1;
	private Button button1;
	private Canvas thumbnailCanvas;
	private Combo scaleCombo;
	private Canvas canvas;
	private Composite composite1;
	private SashForm sashForm1;
	private MenuItem aboutMenuItem;
	private MenuItem contentsMenuItem;
	private Menu helpMenu;
	private MenuItem helpMenuItem;
	private MenuItem exitMenuItem;
	private MenuItem closeFileMenuItem;
	private MenuItem saveFileMenuItem;
	private MenuItem newFileMenuItem;
	private MenuItem openFileMenuItem;
	private Menu fileMenu;
	private MenuItem fileMenuItem;
	private Menu menu1;
	
	private ScalableLayeredPane p = null;
	private ScrollableThumbnail t = null;
	private IFigure c = null;
	
	public NewSWTApp(Composite parent, int style) {
		super(parent, style);
		initGUI();
	}

	/**
	* Initializes the GUI.
	* Auto-generated code - any changes you make will disappear.
	*/
	public void initGUI(){
		try {
			preInitGUI();
	
			sashForm1 = new SashForm(this,SWT.NULL);
			canvas = new Canvas(sashForm1,SWT.NULL);
			composite1 = new Composite(sashForm1,SWT.NULL);
			scaleCombo = new Combo(composite1,SWT.NULL);
			thumbnailCanvas = new Canvas(composite1,SWT.NULL);
			button1 = new Button(composite1,SWT.PUSH| SWT.CENTER);
			scale1 = new Scale(composite1,SWT.NULL);
	
			this.setSize(new org.eclipse.swt.graphics.Point(605,335));
			final Color NewSWTAppbackground = new Color(Display.getDefault(),128,128,128);
			this.setBackground(NewSWTAppbackground);
	
			FormData sashForm1LData = new FormData();
			sashForm1LData.height = 315;
			sashForm1LData.width = 605;
			sashForm1LData.left =  new FormAttachment(0, 1000, 0);
			sashForm1LData.right =  new FormAttachment(1000, 1000, 0);
			sashForm1LData.top =  new FormAttachment(0, 1000, 0);
			sashForm1LData.bottom =  new FormAttachment(1000, 1000, -20);
			sashForm1.setLayoutData(sashForm1LData);
			sashForm1.setSize(new org.eclipse.swt.graphics.Point(605,295));
	
			canvas.setSize(new org.eclipse.swt.graphics.Point(298,295));
			final Color canvasbackground = new Color(Display.getDefault(),255,255,255);
			canvas.setBackground(canvasbackground);
	
			composite1.setSize(new org.eclipse.swt.graphics.Point(304,295));
	
			FormData scaleComboLData = new FormData();
			scaleComboLData.height = 20;
			scaleComboLData.width = 290;
			scaleComboLData.left =  new FormAttachment(0, 1000, 5);
			scaleComboLData.right =  new FormAttachment(1000, 1000, -9);
			scaleComboLData.top =  new FormAttachment(0, 1000, 5);
			scaleComboLData.bottom =  new FormAttachment(0, 1000, 25);
			scaleCombo.setLayoutData(scaleComboLData);
			scaleCombo.setSize(new org.eclipse.swt.graphics.Point(290,20));
			scaleCombo.addSelectionListener( new SelectionAdapter() {
				public void widgetSelected(SelectionEvent evt) {
					scaleComboWidgetSelected(evt);
				}
			});
	
			FormData thumbnailCanvasLData = new FormData();
			thumbnailCanvasLData.height = 115;
			thumbnailCanvasLData.width = 290;
			thumbnailCanvasLData.left =  new FormAttachment(0, 1000, 5);
			thumbnailCanvasLData.right =  new FormAttachment(1000, 1000, -9);
			thumbnailCanvasLData.top =  new FormAttachment(0, 1000, 35);
			thumbnailCanvasLData.bottom =  new FormAttachment(0, 1000, 150);
			thumbnailCanvas.setLayoutData(thumbnailCanvasLData);
			thumbnailCanvas.setSize(new org.eclipse.swt.graphics.Point(290,115));
	
			FormData button1LData = new FormData();
			button1LData.height = 36;
			button1LData.width = 286;
			button1LData.left =  new FormAttachment(0, 1000, 5);
			button1LData.right =  new FormAttachment(1000, 1000, -9);
			button1LData.top =  new FormAttachment(0, 1000, 155);
			button1LData.bottom =  new FormAttachment(0, 1000, 195);
			button1.setLayoutData(button1LData);
			button1.setText("button1");
			button1.setSize(new org.eclipse.swt.graphics.Point(286,36));
			button1.addSelectionListener( new SelectionAdapter() {
				public void widgetSelected(SelectionEvent evt) {
					button1WidgetSelected(evt);
				}
			});
	
			FormData scale1LData = new FormData();
			scale1LData.height = 20;
			scale1LData.width = 290;
			scale1LData.left =  new FormAttachment(0, 1000, 5);
			scale1LData.right =  new FormAttachment(1000, 1000, -9);
			scale1LData.top =  new FormAttachment(0, 1000, 205);
			scale1LData.bottom =  new FormAttachment(0, 1000, 225);
			scale1.setLayoutData(scale1LData);
			scale1.setMaximum(800);
			scale1.setMinimum(25);
			scale1.setSize(new org.eclipse.swt.graphics.Point(290,20));
			scale1.addSelectionListener( new SelectionAdapter() {
				public void widgetSelected(SelectionEvent evt) {
					scale1WidgetSelected(evt);
				}
			});
			scale1.addMouseMoveListener( new MouseMoveListener() {
				public void mouseMove(MouseEvent evt) {
					scale1MouseMove(evt);
				}
			});
			FormLayout composite1Layout = new FormLayout();
			composite1.setLayout(composite1Layout);
			composite1Layout.marginWidth = 0;
			composite1Layout.marginHeight = 0;
			composite1Layout.spacing = 0;
			composite1.layout();
			FormLayout thisLayout = new FormLayout();
			this.setLayout(thisLayout);
			thisLayout.marginWidth = 0;
			thisLayout.marginHeight = 0;
			thisLayout.spacing = 0;
			this.layout();
			menu1 = new Menu(getShell(),SWT.BAR);
			fileMenuItem = new MenuItem(menu1,SWT.CASCADE);
			fileMenu = new Menu(fileMenuItem);
			openFileMenuItem = new MenuItem(fileMenu,SWT.CASCADE);
			newFileMenuItem = new MenuItem(fileMenu,SWT.CASCADE);
			saveFileMenuItem = new MenuItem(fileMenu,SWT.CASCADE);
			closeFileMenuItem = new MenuItem(fileMenu,SWT.CASCADE);
			exitMenuItem = new MenuItem(fileMenu,SWT.CASCADE);
			helpMenuItem = new MenuItem(menu1,SWT.CASCADE);
			helpMenu = new Menu(helpMenuItem);
			contentsMenuItem = new MenuItem(helpMenu,SWT.CASCADE);
			aboutMenuItem = new MenuItem(helpMenu,SWT.CASCADE);
	
			getShell().setMenuBar(menu1);
	
			fileMenuItem.setText("File");
	
			fileMenuItem.setMenu(fileMenu);
	
			openFileMenuItem.setText("Open");
	
			newFileMenuItem.setText("New");
	
			saveFileMenuItem.setText("Save");
	
			closeFileMenuItem.setText("Close");
	
			exitMenuItem.setText("Exit");
	
			helpMenuItem.setText("Help");
	
			helpMenuItem.setMenu(helpMenu);
	
			contentsMenuItem.setText("Contents");
	
			aboutMenuItem.setText("About");
			addDisposeListener(new DisposeListener() {
				public void widgetDisposed(DisposeEvent e) {
					NewSWTAppbackground.dispose();
					canvasbackground.dispose();
				}
			});
	
			postInitGUI();
		} catch (Exception e) {
			e.printStackTrace();
		}
	}
	/** Add your pre-init code in here 	*/
	public void preInitGUI(){
	}

	/** Add your post-init code in here 	*/
	public void postInitGUI(){
	
		scaleCombo.add("0.2");
		scaleCombo.add("0.4");
		scaleCombo.add("0.6");
		scaleCombo.add("0.8");
		scaleCombo.add("1.0");
		scaleCombo.add("1.5");
		scaleCombo.add("2.0");
		scaleCombo.add("4.0");
		scaleCombo.add("8.0");
	
		LightweightSystem lws = new LightweightSystem(canvas);
		final Layer contents = new Layer();
		final ScalableLayeredPane pane = new ScalableLayeredPane();
		final ScrollPane scroll = new ScrollPane();
		pane.add(contents, "1", 0);
		scroll.setContents(pane);
		final XYLayout layout = new XYLayout();
		contents.setLayoutManager(layout);
		
		c = contents;
		p = pane;
		
		IFigure old = null;
		int row = 0;
		int col = 0;
		for (int i = 0; i &lt; 100; i++) {
			
			if (i % 10 == 0) System.out.println(i);
			
			IFigure btn = new WindowFrame();
			
			/*
			final IFigure btn = new Button("TEST" + i);
			btn.setBorder(new FrameBorder("WINDOW" + i));
			btn.addMouseMotionListener(new MouseMotionListener() {

				public void mouseDragged(MouseEvent arg0) {
				//	System.out.println(arg0.x + " " + arg0.y);
		//			btn.setBounds(new org.eclipse.draw2d.geometry.Rectangle(
		//					arg0.x, arg0.y, btn.getBounds().width, btn.getBounds().height));
					contents.setConstraint(btn, new org.eclipse.draw2d.geometry.Rectangle(
							arg0.x - 10, arg0.y - 10, btn.getBounds().width, 
btn.getBounds().height));
		//			btn.invalidate();
		//			contents.invalidate();
				}

				public void mouseEntered(MouseEvent arg0) {
					// TODO Auto-generated method stub
					
				}

				public void mouseExited(MouseEvent arg0) {
					// TODO Auto-generated method stub
					
				}

				public void mouseHover(MouseEvent arg0) {
					// TODO Auto-generated method stub
					
				}

				public void mouseMoved(MouseEvent arg0) {
					//System.out.println("MOVED: " + arg0.x + " " + arg0.y);
					
				}
				
			});
			
			*/
			
			btn.setOpaque(true);
			layout.setConstraint(btn, new org.eclipse.draw2d.geometry.Rectangle(200 * row, 200 * 
col,-1,-1));
			contents.add(btn);
			if (old != null) {
				PolylineConnection conn = new PolylineConnection();
				ChopboxAnchor srcAnchor = new ChopboxAnchor(btn);
				ChopboxAnchor dstAnchor = new ChopboxAnchor(old);
				conn.setSourceAnchor(srcAnchor);
				conn.setTargetAnchor(dstAnchor);
				contents.add(conn);
			}
			old = btn;
			
			row++;
			if (row &gt; 10) {
				row = 0;
				col++;
			}
			
		}


		LightweightSystem tlws = new LightweightSystem(thumbnailCanvas);
		ScrollableThumbnail thumb = new ScrollableThumbnail();
		thumb.setViewport(scroll.getViewport());
		thumb.setSource(contents);
		tlws.setContents(thumb);
		
		
		t = thumb;
		
		
		lws.setContents(scroll);
		

	}

	/** Auto-generated mainForm method */
	public static void main(String[] args){
		showGUI();
	}

	/**
	* This static method creates a new instance of this class and shows
	* it inside a new Shell.
	*
	* It is a convenience method for showing the GUI, but it can be
	* copied and used as a basis for your own code.	*
	* It is auto-generated code - the body of this method will be
	* re-generated after any changes are made to the GUI.
	* However, if you delete this method it will not be re-created.
	*/
	public static void showGUI(){
		try {
			Display display = Display.getDefault();
			Shell shell = new Shell(display);
			NewSWTApp inst = new NewSWTApp(shell, SWT.NULL);
			shell.setLayout(new org.eclipse.swt.layout.FillLayout());
			Rectangle shellBounds = shell.computeTrim(0,0,605,315);
			shell.setSize(shellBounds.width, shellBounds.height);
			shell.open();
			while (!shell.isDisposed()) {
				if (!display.readAndDispatch())
					display.sleep();
			}
		} catch (Exception e) {
			e.printStackTrace();
		}
	}
	/** Auto-generated event handler method */
	protected void scaleComboWidgetSelected(SelectionEvent evt){
		try {
		System.out.println("TEST");
			double scale = Double.parseDouble(scaleCombo.getText());
			p.setScale(scale);
			p.invalidate();
		} catch (Exception e) {
			e.printStackTrace();
		}
	}

	/** Auto-generated event handler method */
	protected void button1WidgetSelected(SelectionEvent evt){
	
		PrintDialog dialog = new PrintDialog(this.getShell(), SWT.NULL);
		Printer printer = new Printer(dialog.open());
		PrintFigureOperation pfo = new PrintFigureOperation(printer, c);
		pfo.run("TEST PRINT JOB");
	}

	/** Auto-generated event handler method */
	protected void scale1WidgetSelected(SelectionEvent evt){
		
		double s = scale1.getSelection() / 100f;
		p.setScale(s);
		t.setDirty(true);
		t.invalidate();
		//t.setDirty(true);
		scaleCombo.setText(String.valueOf(s));

	}

	/** Auto-generated event handler method */
	protected void scale1MouseMove(MouseEvent evt){
		double s = scale1.getSelection() / 100f;
		scaleCombo.setText(String.valueOf(s));
	}
}</code>
      </source_code>
      <source_code type="import">
        <location start="13891" end="13929" />
        <code>import org.eclipse.draw2d.Clickable;</code>
      </source_code>
      <source_code type="import">
        <location start="13930" end="13963" />
        <code>import org.eclipse.draw2d.Figure;</code>
      </source_code>
      <source_code type="import">
        <location start="13964" end="14002" />
        <code>import org.eclipse.draw2d.FrameBorder;</code>
      </source_code>
      <source_code type="import">
        <location start="14003" end="14035" />
        <code>import org.eclipse.draw2d.Label;</code>
      </source_code>
      <source_code type="import">
        <location start="14036" end="14073" />
        <code>import org.eclipse.draw2d.MouseEvent;</code>
      </source_code>
      <source_code type="import">
        <location start="14074" end="14120" />
        <code>import org.eclipse.draw2d.MouseMotionListener;</code>
      </source_code>
      <source_code type="import">
        <location start="14121" end="14149" />
        <code>import org.eclipse.draw2d.*;</code>
      </source_code>
      <source_code type="multicomment">
        <location start="14150" end="14309" />
        <code>/*
 * Created on Dec 15, 2004
 *
 * TODO To change the template for this generated file go to
 * Window - Preferences - Java - Code Style - Code Templates
 */</code>
      </source_code>
      <source_code type="multicomment">
        <location start="14310" end="14473" />
        <code>/**
 * @author ncallender
 *
 * TODO To change the template for this generated type comment go to
 * Window - Preferences - Java - Code Style - Code Templates
 */</code>
      </source_code>
      <source_code type="class">
        <location start="14476" end="15787" />
        <code>public class WindowFrame extends Clickable {
	
	public WindowFrame() {
		super();	
		ToolbarLayout layout = new ToolbarLayout(false);
		
		Label label1 = new Label("Line 1");
		Label label2 = new Label("Line 2");
		Label label3 = new Label("Line 3");
		Label label4 = new Label("Line 4");
		
		setLayoutManager(layout);
		add(label1);
		add(label2);
		add(label3);
		add(label4);
		
		
		
		label1.setBorder(new LineBorder(1));
		label2.setBorder(new LineBorder(1));
		label3.setBorder(new LineBorder(1));
		label4.setBorder(new LineBorder(1));

		FrameBorder border = new FrameBorder("ASF");
		setBorder(border);
		
		final Figure me = this;
		addMouseMotionListener(new MouseMotionListener() {

			public void mouseDragged(MouseEvent arg0) {
				
				getParent().setConstraint(me, new org.eclipse.draw2d.geometry.Rectangle(
						arg0.x - 10, arg0.y - 10, me.getBounds().width, 
me.getBounds().height));

			}

			public void mouseEntered(MouseEvent arg0) {
				// TODO Auto-generated method stub
				
			}

			public void mouseExited(MouseEvent arg0) {
				// TODO Auto-generated method stub
				
			}

			public void mouseHover(MouseEvent arg0) {
				// TODO Auto-generated method stub
				
			}

			public void mouseMoved(MouseEvent arg0) {
				// TODO Auto-generated method stub
				
			}
			
		});
	
	}
}</code>
      </source_code>
      <source_code type="assignment">
        <location start="16369" end="16431" />
        <code>PrintDialog dialog = new PrintDialog(shell, SWT.NULL);</code>
      </source_code>
      <source_code type="assignment">
        <location start="16432" end="16473" />
        <code>PrinterData data = dialog.open();</code>
      </source_code>
      <source_code type="class">
        <location start="17195" end="17817" />
        <code>public class Bug81467 {

public static void main(String[] args) {
	Font font = new Font(null, "Helvetica", 12, 0);
	Printer printer = new Printer();
	printer.startJob("bugzilla 81467");

	GC gc = new GC(printer);
	SWTGraphics graphics = new SWTGraphics(gc);
	PrinterGraphics printGraphics = new PrinterGraphics(graphics, printer);
	
	printGraphics.scale((double)printer.getDPI().x / Display.getDefault
().getDPI().x);
	printGraphics.setFont(font);
	printGraphics.drawString("Hello world", 50, 50);
	printGraphics.dispose();
	
	graphics.dispose();
	gc.dispose();
	printer.endJob();
	printer.dispose();
	font.dispose();
}

}</code>
      </source_code>
      <source_code type="assignment">
        <location start="18195" end="18220" />
        <code>GC gc = new GC(printer);</code>
      </source_code>
      <source_code type="assignment">
        <location start="18221" end="18265" />
        <code>SWTGraphics graphics = new SWTGraphics(gc);</code>
      </source_code>
      <source_code type="assignment">
        <location start="18342" end="18414" />
        <code>PrinterGraphics printGraphics = new PrinterGraphics(graphics, printer);</code>
      </source_code>
      <source_code type="assignment">
        <location start="18533" end="18602" />
        <code>currentState.relativeClip = new RectangleClipping(gc.getClipping());</code>
      </source_code>
      <source_code type="functiondef">
        <location start="18603" end="18649" />
        <code>GC.getClipping() is returning a rect {0,0,0,0}</code>
      </source_code>
      <source_code type="assignment">
        <location start="19635" end="19667" />
        <code>Printer printer = new Printer();</code>
      </source_code>
      <source_code type="functioncall">
        <location start="19668" end="19703" />
        <code>printer.startJob("bugzilla 81467");</code>
      </source_code>
      <source_code type="assignment">
        <location start="19704" end="19728" />
        <code>GC gc = new GC(printer);</code>
      </source_code>
      <source_code type="functioncall">
        <location start="19729" end="19766" />
        <code>System.out.println(gc.getClipping());</code>
      </source_code>
      <source_code type="functioncall">
        <location start="19767" end="19780" />
        <code>gc.dispose();</code>
      </source_code>
      <source_code type="functioncall">
        <location start="19781" end="19799" />
        <code>printer.dispose();</code>
      </source_code>
      <source_code type="functiondef">
        <location start="20475" end="21303" />
        <code>protected void printPages() {
	Graphics graphics = getFreshPrinterGraphics();
	IFigure figure = getPrintSource();
	setupPrinterGraphicsFor(graphics, figure);
	Rectangle bounds = figure.getBounds();
	int x = bounds.x, y = bounds.y;
	Rectangle clipRect = new Rectangle();
	while (y &lt; bounds.y + bounds.height) {
		while (x &lt; bounds.x + bounds.width) {    // &lt;&lt;&lt;----- (0)
			graphics.pushState();
			getPrinter().startPage();
			graphics.translate(-x, -y);
			graphics.getClip(clipRect);            // &lt;&lt;&lt;------ (1) this always sets clipRect to {0,0,0,0}
			clipRect.setLocation(x, y);
			graphics.clipRect(clipRect);
			figure.paint(graphics);
			getPrinter().endPage();
			graphics.popState();
			x += clipRect.width;                   // &lt;&lt;&lt;------- (2) clipRect.width is always 0
		}
		x = bounds.x;
		y += clipRect.height;
	}
}</code>
      </source_code>
      <source_code type="functiondef">
        <location start="21582" end="21631" />
        <code>where the GC.getClipping() has returned {0,0,0,0}</code>
      </source_code>
      <source_code type="import">
        <location start="22639" end="22674" />
        <code>import org.eclipse.swt.graphics.*;</code>
      </source_code>
      <source_code type="import">
        <location start="22675" end="22709" />
        <code>import org.eclipse.swt.printing.*;</code>
      </source_code>
      <source_code type="class">
        <location start="22711" end="22973" />
        <code>public class Bug81467 {

public static void main(String[] args) {
    Printer printer = new Printer();
    printer.startJob("bugzilla 81467");
    GC gc = new GC(printer);
    System.out.println(gc.getClipping());
    printer.endJob();
    printer.dispose();
}
}</code>
      </source_code>
    </SourceCodeRegions>
    <Enumerations amount="2">
      <Enumeration lines="2">
        <Lines>
          <Line>i.e. the clip rect has zero extent.</Line>
          <Line>Regarding the second part of comment #9</Line>
        </Lines>
      </Enumeration>
      <Enumeration lines="7">
        <Lines>
          <Line>(1) always sets clipRect to {0,0,0,0}</Line>
          <Line>This is because the underlying SWTGraphics has a currentState.relativeClip which is {0,0,0,0}</Line>
          <Line>in turn it has this zero size clip due to the SWTGraphics.init() doing</Line>
          <Line>currentState.relativeClip = new RectangleClipping(gc.getClipping());</Line>
          <Line />
          <Line />
          <Line>(2) x increments by zero since the clipRect width is zero. Therefore the loop (0) never exits.</Line>
        </Lines>
      </Enumeration>
    </Enumerations>
    <bug_status amount="RESOLVED" />
    <resolution amount="FIXED" />
    <WithStack>I am trying to print out a figure using Draw2D.  I have the  code working under Windows XP.  It is a 
standalone application using SWT (3062) and the Draw2D jar (3.0.0).  The code is below (it's sloppy, but 
this is just a prototyping application to make sure everything works).  The interesting part is:

		PrintDialog dialog = new PrintDialog(this.getShell(), SWT.NULL);
		Printer printer = new Printer(dialog.open());
		PrintFigureOperation pfo = new PrintFigureOperation(printer, c);
		pfo.run("TEST PRINT JOB");

This run method "hangs" the application.  I've tried debugging it and it looks like it's just printing really 
slowly down int the JNI code, but I'm not sure about that.  Anyway, I haven't gotten it to print anything 
yet on Mac OS X even after wait for about 10 minutes (on a really simple figure) so I know something is 
wrong there.  Let me know if I'm doing something wrong with the code ...



File NewSWTApp.java

import org.eclipse.swt.widgets.Shell;
import org.eclipse.swt.widgets.Display;
import org.eclipse.swt.graphics.Rectangle;
import org.eclipse.swt.events.DisposeEvent;
import org.eclipse.swt.events.DisposeListener;
import org.eclipse.swt.widgets.MenuItem;
import org.eclipse.swt.widgets.Menu;
import org.eclipse.swt.layout.GridLayout;
import org.eclipse.swt.graphics.Color;
import org.eclipse.swt.widgets.Composite;
import org.eclipse.swt.layout.FillLayout;
import org.eclipse.swt.layout.FormLayout;
import org.eclipse.swt.SWT;
import org.eclipse.swt.printing.*;
import org.eclipse.swt.widgets.Canvas;
import org.eclipse.swt.layout.FormData;
import org.eclipse.swt.layout.FormAttachment;
import org.eclipse.draw2d.*;
import org.eclipse.swt.widgets.Combo;
import org.eclipse.swt.events.SelectionAdapter;
import org.eclipse.swt.events.SelectionEvent;
import org.eclipse.swt.widgets.Button;
import org.eclipse.swt.widgets.Scale;
import org.eclipse.swt.events.MouseMoveListener;
import org.eclipse.swt.events.MouseEvent;
import org.eclipse.swt.custom.SashForm;
import org.eclipse.swt.layout.RowLayout;
import org.eclipse.swt.layout.RowData;
import org.eclipse.draw2d.parts.*;
import org.eclipse.draw2d.geometry.*;

/**import org.
* This code was generated using CloudGarden's Jigloo
* SWT/Swing GUI Builder, which is free for non-commercial
* use. If Jigloo is being used commercially (ie, by a
* for-profit company or business) then you should purchase
* a license - please visit www.cloudgarden.com for details.
*/
public class NewSWTApp extends org.eclipse.swt.widgets.Composite {
	private Scale scale1;
	private Button button1;
	private Canvas thumbnailCanvas;
	private Combo scaleCombo;
	private Canvas canvas;
	private Composite composite1;
	private SashForm sashForm1;
	private MenuItem aboutMenuItem;
	private MenuItem contentsMenuItem;
	private Menu helpMenu;
	private MenuItem helpMenuItem;
	private MenuItem exitMenuItem;
	private MenuItem closeFileMenuItem;
	private MenuItem saveFileMenuItem;
	private MenuItem newFileMenuItem;
	private MenuItem openFileMenuItem;
	private Menu fileMenu;
	private MenuItem fileMenuItem;
	private Menu menu1;
	
	private ScalableLayeredPane p = null;
	private ScrollableThumbnail t = null;
	private IFigure c = null;
	
	public NewSWTApp(Composite parent, int style) {
		super(parent, style);
		initGUI();
	}

	/**
	* Initializes the GUI.
	* Auto-generated code - any changes you make will disappear.
	*/
	public void initGUI(){
		try {
			preInitGUI();
	
			sashForm1 = new SashForm(this,SWT.NULL);
			canvas = new Canvas(sashForm1,SWT.NULL);
			composite1 = new Composite(sashForm1,SWT.NULL);
			scaleCombo = new Combo(composite1,SWT.NULL);
			thumbnailCanvas = new Canvas(composite1,SWT.NULL);
			button1 = new Button(composite1,SWT.PUSH| SWT.CENTER);
			scale1 = new Scale(composite1,SWT.NULL);
	
			this.setSize(new org.eclipse.swt.graphics.Point(605,335));
			final Color NewSWTAppbackground = new Color(Display.getDefault(),128,128,128);
			this.setBackground(NewSWTAppbackground);
	
			FormData sashForm1LData = new FormData();
			sashForm1LData.height = 315;
			sashForm1LData.width = 605;
			sashForm1LData.left =  new FormAttachment(0, 1000, 0);
			sashForm1LData.right =  new FormAttachment(1000, 1000, 0);
			sashForm1LData.top =  new FormAttachment(0, 1000, 0);
			sashForm1LData.bottom =  new FormAttachment(1000, 1000, -20);
			sashForm1.setLayoutData(sashForm1LData);
			sashForm1.setSize(new org.eclipse.swt.graphics.Point(605,295));
	
			canvas.setSize(new org.eclipse.swt.graphics.Point(298,295));
			final Color canvasbackground = new Color(Display.getDefault(),255,255,255);
			canvas.setBackground(canvasbackground);
	
			composite1.setSize(new org.eclipse.swt.graphics.Point(304,295));
	
			FormData scaleComboLData = new FormData();
			scaleComboLData.height = 20;
			scaleComboLData.width = 290;
			scaleComboLData.left =  new FormAttachment(0, 1000, 5);
			scaleComboLData.right =  new FormAttachment(1000, 1000, -9);
			scaleComboLData.top =  new FormAttachment(0, 1000, 5);
			scaleComboLData.bottom =  new FormAttachment(0, 1000, 25);
			scaleCombo.setLayoutData(scaleComboLData);
			scaleCombo.setSize(new org.eclipse.swt.graphics.Point(290,20));
			scaleCombo.addSelectionListener( new SelectionAdapter() {
				public void widgetSelected(SelectionEvent evt) {
					scaleComboWidgetSelected(evt);
				}
			});
	
			FormData thumbnailCanvasLData = new FormData();
			thumbnailCanvasLData.height = 115;
			thumbnailCanvasLData.width = 290;
			thumbnailCanvasLData.left =  new FormAttachment(0, 1000, 5);
			thumbnailCanvasLData.right =  new FormAttachment(1000, 1000, -9);
			thumbnailCanvasLData.top =  new FormAttachment(0, 1000, 35);
			thumbnailCanvasLData.bottom =  new FormAttachment(0, 1000, 150);
			thumbnailCanvas.setLayoutData(thumbnailCanvasLData);
			thumbnailCanvas.setSize(new org.eclipse.swt.graphics.Point(290,115));
	
			FormData button1LData = new FormData();
			button1LData.height = 36;
			button1LData.width = 286;
			button1LData.left =  new FormAttachment(0, 1000, 5);
			button1LData.right =  new FormAttachment(1000, 1000, -9);
			button1LData.top =  new FormAttachment(0, 1000, 155);
			button1LData.bottom =  new FormAttachment(0, 1000, 195);
			button1.setLayoutData(button1LData);
			button1.setText("button1");
			button1.setSize(new org.eclipse.swt.graphics.Point(286,36));
			button1.addSelectionListener( new SelectionAdapter() {
				public void widgetSelected(SelectionEvent evt) {
					button1WidgetSelected(evt);
				}
			});
	
			FormData scale1LData = new FormData();
			scale1LData.height = 20;
			scale1LData.width = 290;
			scale1LData.left =  new FormAttachment(0, 1000, 5);
			scale1LData.right =  new FormAttachment(1000, 1000, -9);
			scale1LData.top =  new FormAttachment(0, 1000, 205);
			scale1LData.bottom =  new FormAttachment(0, 1000, 225);
			scale1.setLayoutData(scale1LData);
			scale1.setMaximum(800);
			scale1.setMinimum(25);
			scale1.setSize(new org.eclipse.swt.graphics.Point(290,20));
			scale1.addSelectionListener( new SelectionAdapter() {
				public void widgetSelected(SelectionEvent evt) {
					scale1WidgetSelected(evt);
				}
			});
			scale1.addMouseMoveListener( new MouseMoveListener() {
				public void mouseMove(MouseEvent evt) {
					scale1MouseMove(evt);
				}
			});
			FormLayout composite1Layout = new FormLayout();
			composite1.setLayout(composite1Layout);
			composite1Layout.marginWidth = 0;
			composite1Layout.marginHeight = 0;
			composite1Layout.spacing = 0;
			composite1.layout();
			FormLayout thisLayout = new FormLayout();
			this.setLayout(thisLayout);
			thisLayout.marginWidth = 0;
			thisLayout.marginHeight = 0;
			thisLayout.spacing = 0;
			this.layout();
			menu1 = new Menu(getShell(),SWT.BAR);
			fileMenuItem = new MenuItem(menu1,SWT.CASCADE);
			fileMenu = new Menu(fileMenuItem);
			openFileMenuItem = new MenuItem(fileMenu,SWT.CASCADE);
			newFileMenuItem = new MenuItem(fileMenu,SWT.CASCADE);
			saveFileMenuItem = new MenuItem(fileMenu,SWT.CASCADE);
			closeFileMenuItem = new MenuItem(fileMenu,SWT.CASCADE);
			exitMenuItem = new MenuItem(fileMenu,SWT.CASCADE);
			helpMenuItem = new MenuItem(menu1,SWT.CASCADE);
			helpMenu = new Menu(helpMenuItem);
			contentsMenuItem = new MenuItem(helpMenu,SWT.CASCADE);
			aboutMenuItem = new MenuItem(helpMenu,SWT.CASCADE);
	
			getShell().setMenuBar(menu1);
	
			fileMenuItem.setText("File");
	
			fileMenuItem.setMenu(fileMenu);
	
			openFileMenuItem.setText("Open");
	
			newFileMenuItem.setText("New");
	
			saveFileMenuItem.setText("Save");
	
			closeFileMenuItem.setText("Close");
	
			exitMenuItem.setText("Exit");
	
			helpMenuItem.setText("Help");
	
			helpMenuItem.setMenu(helpMenu);
	
			contentsMenuItem.setText("Contents");
	
			aboutMenuItem.setText("About");
			addDisposeListener(new DisposeListener() {
				public void widgetDisposed(DisposeEvent e) {
					NewSWTAppbackground.dispose();
					canvasbackground.dispose();
				}
			});
	
			postInitGUI();
		} catch (Exception e) {
			e.printStackTrace();
		}
	}
	/** Add your pre-init code in here 	*/
	public void preInitGUI(){
	}

	/** Add your post-init code in here 	*/
	public void postInitGUI(){
	
		scaleCombo.add("0.2");
		scaleCombo.add("0.4");
		scaleCombo.add("0.6");
		scaleCombo.add("0.8");
		scaleCombo.add("1.0");
		scaleCombo.add("1.5");
		scaleCombo.add("2.0");
		scaleCombo.add("4.0");
		scaleCombo.add("8.0");
	
		LightweightSystem lws = new LightweightSystem(canvas);
		final Layer contents = new Layer();
		final ScalableLayeredPane pane = new ScalableLayeredPane();
		final ScrollPane scroll = new ScrollPane();
		pane.add(contents, "1", 0);
		scroll.setContents(pane);
		final XYLayout layout = new XYLayout();
		contents.setLayoutManager(layout);
		
		c = contents;
		p = pane;
		
		IFigure old = null;
		int row = 0;
		int col = 0;
		for (int i = 0; i &lt; 100; i++) {
			
			if (i % 10 == 0) System.out.println(i);
			
			IFigure btn = new WindowFrame();
			
			/*
			final IFigure btn = new Button("TEST" + i);
			btn.setBorder(new FrameBorder("WINDOW" + i));
			btn.addMouseMotionListener(new MouseMotionListener() {

				public void mouseDragged(MouseEvent arg0) {
				//	System.out.println(arg0.x + " " + arg0.y);
		//			btn.setBounds(new org.eclipse.draw2d.geometry.Rectangle(
		//					arg0.x, arg0.y, btn.getBounds().width, btn.getBounds().height));
					contents.setConstraint(btn, new org.eclipse.draw2d.geometry.Rectangle(
							arg0.x - 10, arg0.y - 10, btn.getBounds().width, 
btn.getBounds().height));
		//			btn.invalidate();
		//			contents.invalidate();
				}

				public void mouseEntered(MouseEvent arg0) {
					// TODO Auto-generated method stub
					
				}

				public void mouseExited(MouseEvent arg0) {
					// TODO Auto-generated method stub
					
				}

				public void mouseHover(MouseEvent arg0) {
					// TODO Auto-generated method stub
					
				}

				public void mouseMoved(MouseEvent arg0) {
					//System.out.println("MOVED: " + arg0.x + " " + arg0.y);
					
				}
				
			});
			
			*/
			
			btn.setOpaque(true);
			layout.setConstraint(btn, new org.eclipse.draw2d.geometry.Rectangle(200 * row, 200 * 
col,-1,-1));
			contents.add(btn);
			if (old != null) {
				PolylineConnection conn = new PolylineConnection();
				ChopboxAnchor srcAnchor = new ChopboxAnchor(btn);
				ChopboxAnchor dstAnchor = new ChopboxAnchor(old);
				conn.setSourceAnchor(srcAnchor);
				conn.setTargetAnchor(dstAnchor);
				contents.add(conn);
			}
			old = btn;
			
			row++;
			if (row &gt; 10) {
				row = 0;
				col++;
			}
			
		}


		LightweightSystem tlws = new LightweightSystem(thumbnailCanvas);
		ScrollableThumbnail thumb = new ScrollableThumbnail();
		thumb.setViewport(scroll.getViewport());
		thumb.setSource(contents);
		tlws.setContents(thumb);
		
		
		t = thumb;
		
		
		lws.setContents(scroll);
		

	}

	/** Auto-generated mainForm method */
	public static void main(String[] args){
		showGUI();
	}

	/**
	* This static method creates a new instance of this class and shows
	* it inside a new Shell.
	*
	* It is a convenience method for showing the GUI, but it can be
	* copied and used as a basis for your own code.	*
	* It is auto-generated code - the body of this method will be
	* re-generated after any changes are made to the GUI.
	* However, if you delete this method it will not be re-created.
	*/
	public static void showGUI(){
		try {
			Display display = Display.getDefault();
			Shell shell = new Shell(display);
			NewSWTApp inst = new NewSWTApp(shell, SWT.NULL);
			shell.setLayout(new org.eclipse.swt.layout.FillLayout());
			Rectangle shellBounds = shell.computeTrim(0,0,605,315);
			shell.setSize(shellBounds.width, shellBounds.height);
			shell.open();
			while (!shell.isDisposed()) {
				if (!display.readAndDispatch())
					display.sleep();
			}
		} catch (Exception e) {
			e.printStackTrace();
		}
	}
	/** Auto-generated event handler method */
	protected void scaleComboWidgetSelected(SelectionEvent evt){
		try {
		System.out.println("TEST");
			double scale = Double.parseDouble(scaleCombo.getText());
			p.setScale(scale);
			p.invalidate();
		} catch (Exception e) {
			e.printStackTrace();
		}
	}

	/** Auto-generated event handler method */
	protected void button1WidgetSelected(SelectionEvent evt){
	
		PrintDialog dialog = new PrintDialog(this.getShell(), SWT.NULL);
		Printer printer = new Printer(dialog.open());
		PrintFigureOperation pfo = new PrintFigureOperation(printer, c);
		pfo.run("TEST PRINT JOB");
	}

	/** Auto-generated event handler method */
	protected void scale1WidgetSelected(SelectionEvent evt){
		
		double s = scale1.getSelection() / 100f;
		p.setScale(s);
		t.setDirty(true);
		t.invalidate();
		//t.setDirty(true);
		scaleCombo.setText(String.valueOf(s));

	}

	/** Auto-generated event handler method */
	protected void scale1MouseMove(MouseEvent evt){
		double s = scale1.getSelection() / 100f;
		scaleCombo.setText(String.valueOf(s));
	}
}



File WindowFrame.java


import org.eclipse.draw2d.Clickable;
import org.eclipse.draw2d.Figure;
import org.eclipse.draw2d.FrameBorder;
import org.eclipse.draw2d.Label;
import org.eclipse.draw2d.MouseEvent;
import org.eclipse.draw2d.MouseMotionListener;
import org.eclipse.draw2d.*;

/*
 * Created on Dec 15, 2004
 *
 * TODO To change the template for this generated file go to
 * Window - Preferences - Java - Code Style - Code Templates
 */

/**
 * @author ncallender
 *
 * TODO To change the template for this generated type comment go to
 * Window - Preferences - Java - Code Style - Code Templates
 */


public class WindowFrame extends Clickable {
	
	public WindowFrame() {
		super();	
		ToolbarLayout layout = new ToolbarLayout(false);
		
		Label label1 = new Label("Line 1");
		Label label2 = new Label("Line 2");
		Label label3 = new Label("Line 3");
		Label label4 = new Label("Line 4");
		
		setLayoutManager(layout);
		add(label1);
		add(label2);
		add(label3);
		add(label4);
		
		
		
		label1.setBorder(new LineBorder(1));
		label2.setBorder(new LineBorder(1));
		label3.setBorder(new LineBorder(1));
		label4.setBorder(new LineBorder(1));

		FrameBorder border = new FrameBorder("ASF");
		setBorder(border);
		
		final Figure me = this;
		addMouseMotionListener(new MouseMotionListener() {

			public void mouseDragged(MouseEvent arg0) {
				
				getParent().setConstraint(me, new org.eclipse.draw2d.geometry.Rectangle(
						arg0.x - 10, arg0.y - 10, me.getBounds().width, 
me.getBounds().height));

			}

			public void mouseEntered(MouseEvent arg0) {
				// TODO Auto-generated method stub
				
			}

			public void mouseExited(MouseEvent arg0) {
				// TODO Auto-generated method stub
				
			}

			public void mouseHover(MouseEvent arg0) {
				// TODO Auto-generated method stub
				
			}

			public void mouseMoved(MouseEvent arg0) {
				// TODO Auto-generated method stub
				
			}
			
		});
	
	}
}
This might be an SWT problem.  Although printing is not supported on all 
platforms, I believe Mac OSX is supported.  Can you successfully run the SWT 
printing snippet?

http://dev.eclipse.org/viewcvs/index.cgi/org.eclipse.swt.snippets/src/org/eclip
se/swt/snippets/Snippet132.java?rev=HEAD&amp;content-type=text/vnd.viewcvs-markup
Yes, I can run the SWT printing snippet.  I just downloaded the code, compiled and ran the application 
and the output was correct.    I also modified the snippet to use the same PrinterData settings that I 
have been using in the Draw2D application:

        PrintDialog dialog = new PrintDialog(shell, SWT.NULL);
        PrinterData data = dialog.open();

This also produced the correct output.  So, SWT is working, but I'm wondering if Draw2D is either not 
drawing on the right GC or I'm not setting up the GC correctly (or some resources are on the wrong 
GC).  However, the sample code is pretty basic as far as the Draw2D functionality is concerned.  

Whatever draw2d is doing, it works fine on win32.  You should try to reduce 
the snippet to its very basic elements.  Perhaps remove figures until the 
problem stops happening.  If you remove everything and the problem still 
occurs, it be related to simply drawing an Image.

I'd like to help but I don't have any printers installed on my Mac.
Please try running the following test case and append the results here:

public class Bug81467 {

public static void main(String[] args) {
	Font font = new Font(null, "Helvetica", 12, 0);
	Printer printer = new Printer();
	printer.startJob("bugzilla 81467");

	GC gc = new GC(printer);
	SWTGraphics graphics = new SWTGraphics(gc);
	PrinterGraphics printGraphics = new PrinterGraphics(graphics, printer);
	
	printGraphics.scale((double)printer.getDPI().x / Display.getDefault
().getDPI().x);
	printGraphics.setFont(font);
	printGraphics.drawString("Hello world", 50, 50);
	printGraphics.dispose();
	
	graphics.dispose();
	gc.dispose();
	printer.endJob();
	printer.dispose();
	font.dispose();
}

}
I am having trouble printing a GEF editor's on Mac OS X 10.4.5. The symptom is an infinite loop that I traced down to the clip rect having zero extent.

I believe this bug is related.

Trying Randy Hudson's test case (see comment #4) I get a single blank page out of the printer.
some additional information. If I modify Randy's test case (see comment #4) thusly,

        ...
	GC gc = new GC(printer);
	SWTGraphics graphics = new SWTGraphics(gc);
        graphics.setClip(new Rectangle(0,0,500, 500)); // FORCE a clip rect
	PrinterGraphics printGraphics = new PrinterGraphics(graphics, printer);
        ...

Then the test produces the expected result ("Hello World").

The relevant code in SWTGraphics.init() is:
	currentState.relativeClip = new RectangleClipping(gc.getClipping());
GC.getClipping() is returning a rect {0,0,0,0}

I can't tell without a lot more study whether the fault lies in the GC class for Mac OS, in SWTGraphics (or somewhere else). I suspect GC.getClipping() is not adhering to its contract as laid out in the method comment:

/** 
 * Returns the bounding rectangle of the receiver's clipping
 * region. If no clipping region is set, the return value
 * will be a rectangle which covers the entire bounds of the
 * object the receiver is drawing on.
 *
 * @return the bounding rectangle of the clipping region

In this case no clipping region is set but the returned rectangle is clearly not covering the bounds of the printable area.
Reopening. Sounds like we almost have a test snippet here.
SWT folks, any chance a printer fresh GC has empty clip rect on the Mac?
Mac was changed to use HIView for 3.2.  Could this be causing the trouble?  You can go and hammer a constant in org.eclipse.swt.internal.carbon.OS to test out this theory?
Eric, please try removing Draw2d from the snippet:

Printer printer = new Printer();
printer.startJob("bugzilla 81467");
GC gc = new GC(printer);
System.out.println(gc.getClipping());
gc.dispose();
printer.dispose();

If getClipping() is returning an empty Rectangle, I think this should moved to SWT.

But, the infinite loop is interesting. Is your code in the loop, or is it 100% draw2d code looping? A partial stack trace would help.
Regarding comment #8

My tests have been on Eclipse 3.1.2 not 3.2 so changes in the latter version did not bring this about.

To what constant in org.eclipse.swt.internal.carbon.OS are you referring?
Regarding comment #9

Randy's draw2D-free snippet prints:

Rectangle {0, 0, 0, 0}

i.e. the clip rect has zero extent.
Regarding the second part of comment #9

The infinite loop is all in draw2D code: org.eclipse.draw2D.PrintFigureOperation.printPages()

protected void printPages() {
	Graphics graphics = getFreshPrinterGraphics();
	IFigure figure = getPrintSource();
	setupPrinterGraphicsFor(graphics, figure);
	Rectangle bounds = figure.getBounds();
	int x = bounds.x, y = bounds.y;
	Rectangle clipRect = new Rectangle();
	while (y &lt; bounds.y + bounds.height) {
		while (x &lt; bounds.x + bounds.width) {    // &lt;&lt;&lt;----- (0)
			graphics.pushState();
			getPrinter().startPage();
			graphics.translate(-x, -y);
			graphics.getClip(clipRect);            // &lt;&lt;&lt;------ (1) this always sets clipRect to {0,0,0,0}
			clipRect.setLocation(x, y);
			graphics.clipRect(clipRect);
			figure.paint(graphics);
			getPrinter().endPage();
			graphics.popState();
			x += clipRect.width;                   // &lt;&lt;&lt;------- (2) clipRect.width is always 0
		}
		x = bounds.x;
		y += clipRect.height;
	}
}


(1) always sets clipRect to {0,0,0,0}
This is because the underlying SWTGraphics has a currentState.relativeClip which is {0,0,0,0}
in turn it has this zero size clip due to the SWTGraphics.init() doing 
  currentState.relativeClip = new RectangleClipping(gc.getClipping()); 
where the GC.getClipping() has returned {0,0,0,0}

(2) x increments by zero since the clipRect width is zero. Therefore the loop (0) never exits.


For what it's worth, I looked at how the StyledText prints (because printing of, for example, Java code works on OS X). In this case the bounds of the printer are derived from org.eclipse.swt.printing.Printer.getClientArea() instead of from the clipRect of the printer GC. This yields a Rectangle of non-zero size.

This clip rect thing looks like our bug.
Changing Severity since there are several workarounds. One workaround would be to override setupPrinterGraphics to set the clipRect to the Printer's clientArea, as StyledText is doing.
What is the best workaround to use on Mac OS to get printing from GEF working?
CAR, can you check out the clip rect bug?
Fixed &gt; 20070416.  Will be in tomorrow's I-build.
The Printer object now saves the page bounds in the GCData, so that the getClipping methods can return a clip rectangle for printers.
Note that I only tested using Randy's snippet from comment 9:

import org.eclipse.swt.graphics.*;
import org.eclipse.swt.printing.*;

public class Bug81467 {

public static void main(String[] args) {
    Printer printer = new Printer();
    printer.startJob("bugzilla 81467");
    GC gc = new GC(printer);
    System.out.println(gc.getClipping());
    printer.endJob();
    printer.dispose();
}
}

i.e. I am unable to easily test GEF. Can someone please get tomorrow's I-build and try Randy's snippet in comment 4 to make sure that GEF no longer gets stuck in an infinite loop? I suspect that it should be ok.</WithStack>
    <WithOutStack>I am trying to print out a figure using Draw2D.  I have the  code working under Windows XP.  It is a 
standalone application using SWT (3062) and the Draw2D jar (3.0.0).  The code is below (it's sloppy, but 
this is just a prototyping application to make sure everything works).  The interesting part is:

		PrintDialog dialog = new PrintDialog(this.getShell(), SWT.NULL);
		Printer printer = new Printer(dialog.open());
		PrintFigureOperation pfo = new PrintFigureOperation(printer, c);
		pfo.run("TEST PRINT JOB");

This run method "hangs" the application.  I've tried debugging it and it looks like it's just printing really 
slowly down int the JNI code, but I'm not sure about that.  Anyway, I haven't gotten it to print anything 
yet on Mac OS X even after wait for about 10 minutes (on a really simple figure) so I know something is 
wrong there.  Let me know if I'm doing something wrong with the code ...



File NewSWTApp.java

import org.eclipse.swt.widgets.Shell;
import org.eclipse.swt.widgets.Display;
import org.eclipse.swt.graphics.Rectangle;
import org.eclipse.swt.events.DisposeEvent;
import org.eclipse.swt.events.DisposeListener;
import org.eclipse.swt.widgets.MenuItem;
import org.eclipse.swt.widgets.Menu;
import org.eclipse.swt.layout.GridLayout;
import org.eclipse.swt.graphics.Color;
import org.eclipse.swt.widgets.Composite;
import org.eclipse.swt.layout.FillLayout;
import org.eclipse.swt.layout.FormLayout;
import org.eclipse.swt.SWT;
import org.eclipse.swt.printing.*;
import org.eclipse.swt.widgets.Canvas;
import org.eclipse.swt.layout.FormData;
import org.eclipse.swt.layout.FormAttachment;
import org.eclipse.draw2d.*;
import org.eclipse.swt.widgets.Combo;
import org.eclipse.swt.events.SelectionAdapter;
import org.eclipse.swt.events.SelectionEvent;
import org.eclipse.swt.widgets.Button;
import org.eclipse.swt.widgets.Scale;
import org.eclipse.swt.events.MouseMoveListener;
import org.eclipse.swt.events.MouseEvent;
import org.eclipse.swt.custom.SashForm;
import org.eclipse.swt.layout.RowLayout;
import org.eclipse.swt.layout.RowData;
import org.eclipse.draw2d.parts.*;
import org.eclipse.draw2d.geometry.*;

/**import org.
* This code was generated using CloudGarden's Jigloo
* SWT/Swing GUI Builder, which is free for non-commercial
* use. If Jigloo is being used commercially (ie, by a
* for-profit company or business) then you should purchase
* a license - please visit www.cloudgarden.com for details.
*/
public class NewSWTApp extends org.eclipse.swt.widgets.Composite {
	private Scale scale1;
	private Button button1;
	private Canvas thumbnailCanvas;
	private Combo scaleCombo;
	private Canvas canvas;
	private Composite composite1;
	private SashForm sashForm1;
	private MenuItem aboutMenuItem;
	private MenuItem contentsMenuItem;
	private Menu helpMenu;
	private MenuItem helpMenuItem;
	private MenuItem exitMenuItem;
	private MenuItem closeFileMenuItem;
	private MenuItem saveFileMenuItem;
	private MenuItem newFileMenuItem;
	private MenuItem openFileMenuItem;
	private Menu fileMenu;
	private MenuItem fileMenuItem;
	private Menu menu1;
	
	private ScalableLayeredPane p = null;
	private ScrollableThumbnail t = null;
	private IFigure c = null;
	
	public NewSWTApp(Composite parent, int style) {
		super(parent, style);
		initGUI();
	}

	/**
	* Initializes the GUI.
	* Auto-generated code - any changes you make will disappear.
	*/
	public void initGUI(){
		try {
			preInitGUI();
	
			sashForm1 = new SashForm(this,SWT.NULL);
			canvas = new Canvas(sashForm1,SWT.NULL);
			composite1 = new Composite(sashForm1,SWT.NULL);
			scaleCombo = new Combo(composite1,SWT.NULL);
			thumbnailCanvas = new Canvas(composite1,SWT.NULL);
			button1 = new Button(composite1,SWT.PUSH| SWT.CENTER);
			scale1 = new Scale(composite1,SWT.NULL);
	
			this.setSize(new org.eclipse.swt.graphics.Point(605,335));
			final Color NewSWTAppbackground = new Color(Display.getDefault(),128,128,128);
			this.setBackground(NewSWTAppbackground);
	
			FormData sashForm1LData = new FormData();
			sashForm1LData.height = 315;
			sashForm1LData.width = 605;
			sashForm1LData.left =  new FormAttachment(0, 1000, 0);
			sashForm1LData.right =  new FormAttachment(1000, 1000, 0);
			sashForm1LData.top =  new FormAttachment(0, 1000, 0);
			sashForm1LData.bottom =  new FormAttachment(1000, 1000, -20);
			sashForm1.setLayoutData(sashForm1LData);
			sashForm1.setSize(new org.eclipse.swt.graphics.Point(605,295));
	
			canvas.setSize(new org.eclipse.swt.graphics.Point(298,295));
			final Color canvasbackground = new Color(Display.getDefault(),255,255,255);
			canvas.setBackground(canvasbackground);
	
			composite1.setSize(new org.eclipse.swt.graphics.Point(304,295));
	
			FormData scaleComboLData = new FormData();
			scaleComboLData.height = 20;
			scaleComboLData.width = 290;
			scaleComboLData.left =  new FormAttachment(0, 1000, 5);
			scaleComboLData.right =  new FormAttachment(1000, 1000, -9);
			scaleComboLData.top =  new FormAttachment(0, 1000, 5);
			scaleComboLData.bottom =  new FormAttachment(0, 1000, 25);
			scaleCombo.setLayoutData(scaleComboLData);
			scaleCombo.setSize(new org.eclipse.swt.graphics.Point(290,20));
			scaleCombo.addSelectionListener( new SelectionAdapter() {
				public void widgetSelected(SelectionEvent evt) {
					scaleComboWidgetSelected(evt);
				}
			});
	
			FormData thumbnailCanvasLData = new FormData();
			thumbnailCanvasLData.height = 115;
			thumbnailCanvasLData.width = 290;
			thumbnailCanvasLData.left =  new FormAttachment(0, 1000, 5);
			thumbnailCanvasLData.right =  new FormAttachment(1000, 1000, -9);
			thumbnailCanvasLData.top =  new FormAttachment(0, 1000, 35);
			thumbnailCanvasLData.bottom =  new FormAttachment(0, 1000, 150);
			thumbnailCanvas.setLayoutData(thumbnailCanvasLData);
			thumbnailCanvas.setSize(new org.eclipse.swt.graphics.Point(290,115));
	
			FormData button1LData = new FormData();
			button1LData.height = 36;
			button1LData.width = 286;
			button1LData.left =  new FormAttachment(0, 1000, 5);
			button1LData.right =  new FormAttachment(1000, 1000, -9);
			button1LData.top =  new FormAttachment(0, 1000, 155);
			button1LData.bottom =  new FormAttachment(0, 1000, 195);
			button1.setLayoutData(button1LData);
			button1.setText("button1");
			button1.setSize(new org.eclipse.swt.graphics.Point(286,36));
			button1.addSelectionListener( new SelectionAdapter() {
				public void widgetSelected(SelectionEvent evt) {
					button1WidgetSelected(evt);
				}
			});
	
			FormData scale1LData = new FormData();
			scale1LData.height = 20;
			scale1LData.width = 290;
			scale1LData.left =  new FormAttachment(0, 1000, 5);
			scale1LData.right =  new FormAttachment(1000, 1000, -9);
			scale1LData.top =  new FormAttachment(0, 1000, 205);
			scale1LData.bottom =  new FormAttachment(0, 1000, 225);
			scale1.setLayoutData(scale1LData);
			scale1.setMaximum(800);
			scale1.setMinimum(25);
			scale1.setSize(new org.eclipse.swt.graphics.Point(290,20));
			scale1.addSelectionListener( new SelectionAdapter() {
				public void widgetSelected(SelectionEvent evt) {
					scale1WidgetSelected(evt);
				}
			});
			scale1.addMouseMoveListener( new MouseMoveListener() {
				public void mouseMove(MouseEvent evt) {
					scale1MouseMove(evt);
				}
			});
			FormLayout composite1Layout = new FormLayout();
			composite1.setLayout(composite1Layout);
			composite1Layout.marginWidth = 0;
			composite1Layout.marginHeight = 0;
			composite1Layout.spacing = 0;
			composite1.layout();
			FormLayout thisLayout = new FormLayout();
			this.setLayout(thisLayout);
			thisLayout.marginWidth = 0;
			thisLayout.marginHeight = 0;
			thisLayout.spacing = 0;
			this.layout();
			menu1 = new Menu(getShell(),SWT.BAR);
			fileMenuItem = new MenuItem(menu1,SWT.CASCADE);
			fileMenu = new Menu(fileMenuItem);
			openFileMenuItem = new MenuItem(fileMenu,SWT.CASCADE);
			newFileMenuItem = new MenuItem(fileMenu,SWT.CASCADE);
			saveFileMenuItem = new MenuItem(fileMenu,SWT.CASCADE);
			closeFileMenuItem = new MenuItem(fileMenu,SWT.CASCADE);
			exitMenuItem = new MenuItem(fileMenu,SWT.CASCADE);
			helpMenuItem = new MenuItem(menu1,SWT.CASCADE);
			helpMenu = new Menu(helpMenuItem);
			contentsMenuItem = new MenuItem(helpMenu,SWT.CASCADE);
			aboutMenuItem = new MenuItem(helpMenu,SWT.CASCADE);
	
			getShell().setMenuBar(menu1);
	
			fileMenuItem.setText("File");
	
			fileMenuItem.setMenu(fileMenu);
	
			openFileMenuItem.setText("Open");
	
			newFileMenuItem.setText("New");
	
			saveFileMenuItem.setText("Save");
	
			closeFileMenuItem.setText("Close");
	
			exitMenuItem.setText("Exit");
	
			helpMenuItem.setText("Help");
	
			helpMenuItem.setMenu(helpMenu);
	
			contentsMenuItem.setText("Contents");
	
			aboutMenuItem.setText("About");
			addDisposeListener(new DisposeListener() {
				public void widgetDisposed(DisposeEvent e) {
					NewSWTAppbackground.dispose();
					canvasbackground.dispose();
				}
			});
	
			postInitGUI();
		} catch (Exception e) {
			e.printStackTrace();
		}
	}
	/** Add your pre-init code in here 	*/
	public void preInitGUI(){
	}

	/** Add your post-init code in here 	*/
	public void postInitGUI(){
	
		scaleCombo.add("0.2");
		scaleCombo.add("0.4");
		scaleCombo.add("0.6");
		scaleCombo.add("0.8");
		scaleCombo.add("1.0");
		scaleCombo.add("1.5");
		scaleCombo.add("2.0");
		scaleCombo.add("4.0");
		scaleCombo.add("8.0");
	
		LightweightSystem lws = new LightweightSystem(canvas);
		final Layer contents = new Layer();
		final ScalableLayeredPane pane = new ScalableLayeredPane();
		final ScrollPane scroll = new ScrollPane();
		pane.add(contents, "1", 0);
		scroll.setContents(pane);
		final XYLayout layout = new XYLayout();
		contents.setLayoutManager(layout);
		
		c = contents;
		p = pane;
		
		IFigure old = null;
		int row = 0;
		int col = 0;
		for (int i = 0; i &lt; 100; i++) {
			
			if (i % 10 == 0) System.out.println(i);
			
			IFigure btn = new WindowFrame();
			
			/*
			final IFigure btn = new Button("TEST" + i);
			btn.setBorder(new FrameBorder("WINDOW" + i));
			btn.addMouseMotionListener(new MouseMotionListener() {

				public void mouseDragged(MouseEvent arg0) {
				//	System.out.println(arg0.x + " " + arg0.y);
		//			btn.setBounds(new org.eclipse.draw2d.geometry.Rectangle(
		//					arg0.x, arg0.y, btn.getBounds().width, btn.getBounds().height));
					contents.setConstraint(btn, new org.eclipse.draw2d.geometry.Rectangle(
							arg0.x - 10, arg0.y - 10, btn.getBounds().width, 
btn.getBounds().height));
		//			btn.invalidate();
		//			contents.invalidate();
				}

				public void mouseEntered(MouseEvent arg0) {
					// TODO Auto-generated method stub
					
				}

				public void mouseExited(MouseEvent arg0) {
					// TODO Auto-generated method stub
					
				}

				public void mouseHover(MouseEvent arg0) {
					// TODO Auto-generated method stub
					
				}

				public void mouseMoved(MouseEvent arg0) {
					//System.out.println("MOVED: " + arg0.x + " " + arg0.y);
					
				}
				
			});
			
			*/
			
			btn.setOpaque(true);
			layout.setConstraint(btn, new org.eclipse.draw2d.geometry.Rectangle(200 * row, 200 * 
col,-1,-1));
			contents.add(btn);
			if (old != null) {
				PolylineConnection conn = new PolylineConnection();
				ChopboxAnchor srcAnchor = new ChopboxAnchor(btn);
				ChopboxAnchor dstAnchor = new ChopboxAnchor(old);
				conn.setSourceAnchor(srcAnchor);
				conn.setTargetAnchor(dstAnchor);
				contents.add(conn);
			}
			old = btn;
			
			row++;
			if (row &gt; 10) {
				row = 0;
				col++;
			}
			
		}


		LightweightSystem tlws = new LightweightSystem(thumbnailCanvas);
		ScrollableThumbnail thumb = new ScrollableThumbnail();
		thumb.setViewport(scroll.getViewport());
		thumb.setSource(contents);
		tlws.setContents(thumb);
		
		
		t = thumb;
		
		
		lws.setContents(scroll);
		

	}

	/** Auto-generated mainForm method */
	public static void main(String[] args){
		showGUI();
	}

	/**
	* This static method creates a new instance of this class and shows
	* it inside a new Shell.
	*
	* It is a convenience method for showing the GUI, but it can be
	* copied and used as a basis for your own code.	*
	* It is auto-generated code - the body of this method will be
	* re-generated after any changes are made to the GUI.
	* However, if you delete this method it will not be re-created.
	*/
	public static void showGUI(){
		try {
			Display display = Display.getDefault();
			Shell shell = new Shell(display);
			NewSWTApp inst = new NewSWTApp(shell, SWT.NULL);
			shell.setLayout(new org.eclipse.swt.layout.FillLayout());
			Rectangle shellBounds = shell.computeTrim(0,0,605,315);
			shell.setSize(shellBounds.width, shellBounds.height);
			shell.open();
			while (!shell.isDisposed()) {
				if (!display.readAndDispatch())
					display.sleep();
			}
		} catch (Exception e) {
			e.printStackTrace();
		}
	}
	/** Auto-generated event handler method */
	protected void scaleComboWidgetSelected(SelectionEvent evt){
		try {
		System.out.println("TEST");
			double scale = Double.parseDouble(scaleCombo.getText());
			p.setScale(scale);
			p.invalidate();
		} catch (Exception e) {
			e.printStackTrace();
		}
	}

	/** Auto-generated event handler method */
	protected void button1WidgetSelected(SelectionEvent evt){
	
		PrintDialog dialog = new PrintDialog(this.getShell(), SWT.NULL);
		Printer printer = new Printer(dialog.open());
		PrintFigureOperation pfo = new PrintFigureOperation(printer, c);
		pfo.run("TEST PRINT JOB");
	}

	/** Auto-generated event handler method */
	protected void scale1WidgetSelected(SelectionEvent evt){
		
		double s = scale1.getSelection() / 100f;
		p.setScale(s);
		t.setDirty(true);
		t.invalidate();
		//t.setDirty(true);
		scaleCombo.setText(String.valueOf(s));

	}

	/** Auto-generated event handler method */
	protected void scale1MouseMove(MouseEvent evt){
		double s = scale1.getSelection() / 100f;
		scaleCombo.setText(String.valueOf(s));
	}
}



File WindowFrame.java


import org.eclipse.draw2d.Clickable;
import org.eclipse.draw2d.Figure;
import org.eclipse.draw2d.FrameBorder;
import org.eclipse.draw2d.Label;
import org.eclipse.draw2d.MouseEvent;
import org.eclipse.draw2d.MouseMotionListener;
import org.eclipse.draw2d.*;

/*
 * Created on Dec 15, 2004
 *
 * TODO To change the template for this generated file go to
 * Window - Preferences - Java - Code Style - Code Templates
 */

/**
 * @author ncallender
 *
 * TODO To change the template for this generated type comment go to
 * Window - Preferences - Java - Code Style - Code Templates
 */


public class WindowFrame extends Clickable {
	
	public WindowFrame() {
		super();	
		ToolbarLayout layout = new ToolbarLayout(false);
		
		Label label1 = new Label("Line 1");
		Label label2 = new Label("Line 2");
		Label label3 = new Label("Line 3");
		Label label4 = new Label("Line 4");
		
		setLayoutManager(layout);
		add(label1);
		add(label2);
		add(label3);
		add(label4);
		
		
		
		label1.setBorder(new LineBorder(1));
		label2.setBorder(new LineBorder(1));
		label3.setBorder(new LineBorder(1));
		label4.setBorder(new LineBorder(1));

		FrameBorder border = new FrameBorder("ASF");
		setBorder(border);
		
		final Figure me = this;
		addMouseMotionListener(new MouseMotionListener() {

			public void mouseDragged(MouseEvent arg0) {
				
				getParent().setConstraint(me, new org.eclipse.draw2d.geometry.Rectangle(
						arg0.x - 10, arg0.y - 10, me.getBounds().width, 
me.getBounds().height));

			}

			public void mouseEntered(MouseEvent arg0) {
				// TODO Auto-generated method stub
				
			}

			public void mouseExited(MouseEvent arg0) {
				// TODO Auto-generated method stub
				
			}

			public void mouseHover(MouseEvent arg0) {
				// TODO Auto-generated method stub
				
			}

			public void mouseMoved(MouseEvent arg0) {
				// TODO Auto-generated method stub
				
			}
			
		});
	
	}
}
This might be an SWT problem.  Although printing is not supported on all 
platforms, I believe Mac OSX is supported.  Can you successfully run the SWT 
printing snippet?

http://dev.eclipse.org/viewcvs/index.cgi/org.eclipse.swt.snippets/src/org/eclip
se/swt/snippets/Snippet132.java?rev=HEAD&amp;content-type=text/vnd.viewcvs-markup
Yes, I can run the SWT printing snippet.  I just downloaded the code, compiled and ran the application 
and the output was correct.    I also modified the snippet to use the same PrinterData settings that I 
have been using in the Draw2D application:

        PrintDialog dialog = new PrintDialog(shell, SWT.NULL);
        PrinterData data = dialog.open();

This also produced the correct output.  So, SWT is working, but I'm wondering if Draw2D is either not 
drawing on the right GC or I'm not setting up the GC correctly (or some resources are on the wrong 
GC).  However, the sample code is pretty basic as far as the Draw2D functionality is concerned.  

Whatever draw2d is doing, it works fine on win32.  You should try to reduce 
the snippet to its very basic elements.  Perhaps remove figures until the 
problem stops happening.  If you remove everything and the problem still 
occurs, it be related to simply drawing an Image.

I'd like to help but I don't have any printers installed on my Mac.
Please try running the following test case and append the results here:

public class Bug81467 {

public static void main(String[] args) {
	Font font = new Font(null, "Helvetica", 12, 0);
	Printer printer = new Printer();
	printer.startJob("bugzilla 81467");

	GC gc = new GC(printer);
	SWTGraphics graphics = new SWTGraphics(gc);
	PrinterGraphics printGraphics = new PrinterGraphics(graphics, printer);
	
	printGraphics.scale((double)printer.getDPI().x / Display.getDefault
().getDPI().x);
	printGraphics.setFont(font);
	printGraphics.drawString("Hello world", 50, 50);
	printGraphics.dispose();
	
	graphics.dispose();
	gc.dispose();
	printer.endJob();
	printer.dispose();
	font.dispose();
}

}
I am having trouble printing a GEF editor's on Mac OS X 10.4.5. The symptom is an infinite loop that I traced down to the clip rect having zero extent.

I believe this bug is related.

Trying Randy Hudson's test case (see comment #4) I get a single blank page out of the printer.
some additional information. If I modify Randy's test case (see comment #4) thusly,

        ...
	GC gc = new GC(printer);
	SWTGraphics graphics = new SWTGraphics(gc);
        graphics.setClip(new Rectangle(0,0,500, 500)); // FORCE a clip rect
	PrinterGraphics printGraphics = new PrinterGraphics(graphics, printer);
        ...

Then the test produces the expected result ("Hello World").

The relevant code in SWTGraphics.init() is:
	currentState.relativeClip = new RectangleClipping(gc.getClipping());
GC.getClipping() is returning a rect {0,0,0,0}

I can't tell without a lot more study whether the fault lies in the GC class for Mac OS, in SWTGraphics (or somewhere else). I suspect GC.getClipping() is not adhering to its contract as laid out in the method comment:

/** 
 * Returns the bounding rectangle of the receiver's clipping
 * region. If no clipping region is set, the return value
 * will be a rectangle which covers the entire bounds of the
 * object the receiver is drawing on.
 *
 * @return the bounding rectangle of the clipping region

In this case no clipping region is set but the returned rectangle is clearly not covering the bounds of the printable area.
Reopening. Sounds like we almost have a test snippet here.
SWT folks, any chance a printer fresh GC has empty clip rect on the Mac?
Mac was changed to use HIView for 3.2.  Could this be causing the trouble?  You can go and hammer a constant in org.eclipse.swt.internal.carbon.OS to test out this theory?
Eric, please try removing Draw2d from the snippet:

Printer printer = new Printer();
printer.startJob("bugzilla 81467");
GC gc = new GC(printer);
System.out.println(gc.getClipping());
gc.dispose();
printer.dispose();

If getClipping() is returning an empty Rectangle, I think this should moved to SWT.

But, the infinite loop is interesting. Is your code in the loop, or is it 100% draw2d code looping? A partial stack trace would help.
Regarding comment #8

My tests have been on Eclipse 3.1.2 not 3.2 so changes in the latter version did not bring this about.

To what constant in org.eclipse.swt.internal.carbon.OS are you referring?
Regarding comment #9

Randy's draw2D-free snippet prints:

Rectangle {0, 0, 0, 0}

i.e. the clip rect has zero extent.
Regarding the second part of comment #9

The infinite loop is all in draw2D code: org.eclipse.draw2D.PrintFigureOperation.printPages()

protected void printPages() {
	Graphics graphics = getFreshPrinterGraphics();
	IFigure figure = getPrintSource();
	setupPrinterGraphicsFor(graphics, figure);
	Rectangle bounds = figure.getBounds();
	int x = bounds.x, y = bounds.y;
	Rectangle clipRect = new Rectangle();
	while (y &lt; bounds.y + bounds.height) {
		while (x &lt; bounds.x + bounds.width) {    // &lt;&lt;&lt;----- (0)
			graphics.pushState();
			getPrinter().startPage();
			graphics.translate(-x, -y);
			graphics.getClip(clipRect);            // &lt;&lt;&lt;------ (1) this always sets clipRect to {0,0,0,0}
			clipRect.setLocation(x, y);
			graphics.clipRect(clipRect);
			figure.paint(graphics);
			getPrinter().endPage();
			graphics.popState();
			x += clipRect.width;                   // &lt;&lt;&lt;------- (2) clipRect.width is always 0
		}
		x = bounds.x;
		y += clipRect.height;
	}
}


(1) always sets clipRect to {0,0,0,0}
This is because the underlying SWTGraphics has a currentState.relativeClip which is {0,0,0,0}
in turn it has this zero size clip due to the SWTGraphics.init() doing 
  currentState.relativeClip = new RectangleClipping(gc.getClipping()); 
where the GC.getClipping() has returned {0,0,0,0}

(2) x increments by zero since the clipRect width is zero. Therefore the loop (0) never exits.


For what it's worth, I looked at how the StyledText prints (because printing of, for example, Java code works on OS X). In this case the bounds of the printer are derived from org.eclipse.swt.printing.Printer.getClientArea() instead of from the clipRect of the printer GC. This yields a Rectangle of non-zero size.

This clip rect thing looks like our bug.
Changing Severity since there are several workarounds. One workaround would be to override setupPrinterGraphics to set the clipRect to the Printer's clientArea, as StyledText is doing.
What is the best workaround to use on Mac OS to get printing from GEF working?
CAR, can you check out the clip rect bug?
Fixed &gt; 20070416.  Will be in tomorrow's I-build.
The Printer object now saves the page bounds in the GCData, so that the getClipping methods can return a clip rectangle for printers.
Note that I only tested using Randy's snippet from comment 9:

import org.eclipse.swt.graphics.*;
import org.eclipse.swt.printing.*;

public class Bug81467 {

public static void main(String[] args) {
    Printer printer = new Printer();
    printer.startJob("bugzilla 81467");
    GC gc = new GC(printer);
    System.out.println(gc.getClipping());
    printer.endJob();
    printer.dispose();
}
}

i.e. I am unable to easily test GEF. Can someone please get tomorrow's I-build and try Randy's snippet in comment 4 to make sure that GEF no longer gets stuck in an infinite loop? I suspect that it should be ok.</WithOutStack>
  </Bug>
  <Bug>
    <BugId amount="81468" />
    <CreationDate amount="2004-12-16 15:42:00 -0500" />
    <DupId amount="" />
    <classification amount="Eclipse Foundation" />
    <Product amount="z_Archived" />
    <component amount="Hyades" />
    <Version amount="unspecified" />
    <rep_platform amount="PC" />
    <op_sys amount="Windows 2000" />
    <priority amount="P3" />
    <bug_severity amount="normal" />
    <Summery>Review the TraceViewer selection and refresh event handling</Summery>
    <Patches amount="0" />
    <Stacktraces amount="0" />
    <SourceCodeRegions amount="0" />
    <Enumerations amount="0" />
    <bug_status amount="CLOSED" />
    <resolution amount="FIXED" />
    <WithStack>The refresh and update event handling in TraceViewer framework require review.
Some of the refresh event are fired twice and there are unnecessry
refresh/update calls from the addViewPage method.
patch submitted to HEAd
setting target based on last change date, please adjust if not correct
close bug</WithStack>
    <WithOutStack>The refresh and update event handling in TraceViewer framework require review.
Some of the refresh event are fired twice and there are unnecessry
refresh/update calls from the addViewPage method.
patch submitted to HEAd
setting target based on last change date, please adjust if not correct
close bug</WithOutStack>
  </Bug>
  <Bug>
    <BugId amount="81469" />
    <CreationDate amount="2004-12-16 15:50:00 -0500" />
    <DupId amount="" />
    <classification amount="WebTools" />
    <Product amount="WTP Java EE Tools" />
    <component amount="jst.j2ee" />
    <Version amount="unspecified" />
    <rep_platform amount="PC" />
    <op_sys amount="Windows XP" />
    <priority amount="P3" />
    <bug_severity amount="normal" />
    <Summery>Web project does not deploy properly if the output folder is not WEB-INF/classes</Summery>
    <Patches amount="0" />
    <Stacktraces amount="0" />
    <SourceCodeRegions amount="0" />
    <Enumerations amount="1">
      <Enumeration lines="10">
        <Lines>
          <Line>1. Create a web project.</Line>
          <Line>2. Create a servlet.</Line>
          <Line>3. Go to the properties of the web project and under Java Build Path change the</Line>
          <Line>Default Output folder to be something different than the WEB-INF/classes.</Line>
          <Line>4. Try running it on tomcat. It does not run as it expects the output folder to</Line>
          <Line>be WEB-INF/classes.</Line>
          <Line>This is invalid, tomcat expects the classes to be in WEB-INF/classes.  Obviously</Line>
          <Line>w/ the new flexible structure we can put the source anywhere but the output will</Line>
          <Line>still put the classes in WEB-INF/classes.</Line>
          <Line>should be taken care by flexible project structure</Line>
        </Lines>
      </Enumeration>
    </Enumerations>
    <bug_status amount="CLOSED" />
    <resolution amount="INVALID" />
    <WithStack>1. Create a web project.
2. Create a servlet.
3. Go to the properties of the web project and under Java Build Path change the 
Default Output folder to be something different than the WEB-INF/classes.
4. Try running it on tomcat. It does not run as it expects the output folder to 
be WEB-INF/classes.
This is invalid, tomcat expects the classes to be in WEB-INF/classes.  Obviously
w/ the new flexible structure we can put the source anywhere but the output will
still put the classes in WEB-INF/classes.
should be taken care by flexible project structure</WithStack>
    <WithOutStack>1. Create a web project.
2. Create a servlet.
3. Go to the properties of the web project and under Java Build Path change the 
Default Output folder to be something different than the WEB-INF/classes.
4. Try running it on tomcat. It does not run as it expects the output folder to 
be WEB-INF/classes.
This is invalid, tomcat expects the classes to be in WEB-INF/classes.  Obviously
w/ the new flexible structure we can put the source anywhere but the output will
still put the classes in WEB-INF/classes.
should be taken care by flexible project structure</WithOutStack>
  </Bug>
  <Bug>
    <BugId amount="81470" />
    <CreationDate amount="2004-12-16 15:57:00 -0500" />
    <DupId amount="" />
    <classification amount="Eclipse" />
    <Product amount="JDT" />
    <component amount="Core" />
    <Version amount="3.1" />
    <rep_platform amount="PC" />
    <op_sys amount="Windows XP" />
    <priority amount="P3" />
    <bug_severity amount="normal" />
    <Summery>Implement JSR-201 (enumerations, autoboxing, varargs, enhanced loops, static imports)</Summery>
    <Patches amount="0" />
    <Stacktraces amount="0" />
    <SourceCodeRegions amount="0" />
    <Enumerations amount="0" />
    <bug_status amount="RESOLVED" />
    <resolution amount="INVALID" />
    <WithStack>Please implement the JSR-201.
  * enumerations
  * autoboxing
  * varargs
  * enhanced loops
  * static imports
These are already implemented. If you find specific scenarii which doesn't work,
then please enter specific bugs.
Closing
"
#   static imports (jsr-201) (1 week)
    * coming soon : static method imports
"
source:
http://dev.eclipse.org/viewcvs/index.cgi/%7Echeckout%7E/jdt-core-home/r3.1/main.html

According to the (just updated) plan, this Issue is still open.

I just reopened it, whilst adding a new depending Issue (Bug 82593).

See the actual dependency tree (JSR-176):
https://bugs.eclipse.org/bugs/showdependencytree.cgi?id=80775
As Philippe already mentioned, please enter specific bugs for problems you 
have found AFTER checking for duplicate PRs.
JSR-201 is not yet fully implemented in JDT.Core.

this is a specific issue.
this is a problem.
this is a unique issue.

(See the dependend bugs or alternatively the plan).

reopened.
Please enter specific bugs WITH REAL TESTCASES for problems you have found 
AFTER checking for duplicate PRs.

*** This bug has been marked as a duplicate of 81706 ***
This Issue is _not_ a duplicate of Bug 81706 ("[1.5] Static import of static
method produces compile error").

reopened.

-

"Please enter specific bugs WITH REAL TESTCASES for problems you have found 
AFTER checking for duplicate PRs."

this is a specific Issue, which is unique. 

"REAL TESTCASES" are not a general requirement for filing issues.

-

Please close this Issue _after_ "JSR-201 ..." is implemented fully within
JDT.Core [see current depends on bugs, and further known Issues documented on
the plan].
Please do not waste our time by reopening PRs without testcases that show the 
problem.

*** This bug has been marked as a duplicate of 81706 ***
see Comment 7, reopened.

Changed summary to be more descriptive.

added link to JSR-201 in URL field.
.
reopened
.
JSR-201 (enumerations, autoboxing, varargs, enhanced loops, static imports) is
not yet fully implemented within JDT.Core.

Reopened.
Its impossible to say when we're 100% bug free, so moving to REMIND.

Its up to the super human intelligent one amongst us to close in the future.
.
GCing duplicate
GC</WithStack>
    <WithOutStack>Please implement the JSR-201.
  * enumerations
  * autoboxing
  * varargs
  * enhanced loops
  * static imports
These are already implemented. If you find specific scenarii which doesn't work,
then please enter specific bugs.
Closing
"
#   static imports (jsr-201) (1 week)
    * coming soon : static method imports
"
source:
http://dev.eclipse.org/viewcvs/index.cgi/%7Echeckout%7E/jdt-core-home/r3.1/main.html

According to the (just updated) plan, this Issue is still open.

I just reopened it, whilst adding a new depending Issue (Bug 82593).

See the actual dependency tree (JSR-176):
https://bugs.eclipse.org/bugs/showdependencytree.cgi?id=80775
As Philippe already mentioned, please enter specific bugs for problems you 
have found AFTER checking for duplicate PRs.
JSR-201 is not yet fully implemented in JDT.Core.

this is a specific issue.
this is a problem.
this is a unique issue.

(See the dependend bugs or alternatively the plan).

reopened.
Please enter specific bugs WITH REAL TESTCASES for problems you have found 
AFTER checking for duplicate PRs.

*** This bug has been marked as a duplicate of 81706 ***
This Issue is _not_ a duplicate of Bug 81706 ("[1.5] Static import of static
method produces compile error").

reopened.

-

"Please enter specific bugs WITH REAL TESTCASES for problems you have found 
AFTER checking for duplicate PRs."

this is a specific Issue, which is unique. 

"REAL TESTCASES" are not a general requirement for filing issues.

-

Please close this Issue _after_ "JSR-201 ..." is implemented fully within
JDT.Core [see current depends on bugs, and further known Issues documented on
the plan].
Please do not waste our time by reopening PRs without testcases that show the 
problem.

*** This bug has been marked as a duplicate of 81706 ***
see Comment 7, reopened.

Changed summary to be more descriptive.

added link to JSR-201 in URL field.
.
reopened
.
JSR-201 (enumerations, autoboxing, varargs, enhanced loops, static imports) is
not yet fully implemented within JDT.Core.

Reopened.
Its impossible to say when we're 100% bug free, so moving to REMIND.

Its up to the super human intelligent one amongst us to close in the future.
.
GCing duplicate
GC</WithOutStack>
  </Bug>
  <Bug>
    <BugId amount="81471" />
    <CreationDate amount="2004-12-16 16:00:00 -0500" />
    <DupId amount="154111" />
    <classification amount="Eclipse" />
    <Product amount="JDT" />
    <component amount="Core" />
    <Version amount="3.1" />
    <rep_platform amount="PC" />
    <op_sys amount="Windows XP" />
    <priority amount="P3" />
    <bug_severity amount="enhancement" />
    <Summery>[plan] JSR-199 Compiler APIs</Summery>
    <Patches amount="0" />
    <Stacktraces amount="0" />
    <SourceCodeRegions amount="0" />
    <Enumerations amount="0" />
    <bug_status amount="RESOLVED" />
    <resolution amount="DUPLICATE" />
    <WithStack>Implement JSR-199 Compiler API's
This JSR is not part of J2SE 5.0. And not planned for Eclipse 3.1
ok, possibly the current plan needs an update:
http://dev.eclipse.org/viewcvs/index.cgi/%7Echeckout%7E/jdt-core-home/r3.1/main.html#release-plan
Indeed this item is outdated. Thanks for pointing it out.
*** Bug 107798 has been marked as a duplicate of this bug. ***
*** Bug 48075 has been marked as a duplicate of this bug. ***
Considering for 3.2
Deferring until final JSR199 is available. Will reconsider during 3.3 cycle.


*** This bug has been marked as a duplicate of 154111 ***</WithStack>
    <WithOutStack>Implement JSR-199 Compiler API's
This JSR is not part of J2SE 5.0. And not planned for Eclipse 3.1
ok, possibly the current plan needs an update:
http://dev.eclipse.org/viewcvs/index.cgi/%7Echeckout%7E/jdt-core-home/r3.1/main.html#release-plan
Indeed this item is outdated. Thanks for pointing it out.
*** Bug 107798 has been marked as a duplicate of this bug. ***
*** Bug 48075 has been marked as a duplicate of this bug. ***
Considering for 3.2
Deferring until final JSR199 is available. Will reconsider during 3.3 cycle.


*** This bug has been marked as a duplicate of 154111 ***</WithOutStack>
  </Bug>
  <Bug>
    <BugId amount="81472" />
    <CreationDate amount="2004-12-16 16:08:00 -0500" />
    <DupId amount="81465" />
    <classification amount="Eclipse" />
    <Product amount="Platform" />
    <component amount="Team" />
    <Version amount="3.1" />
    <rep_platform amount="PC" />
    <op_sys amount="Windows XP" />
    <priority amount="P3" />
    <bug_severity amount="normal" />
    <Summery>Patch wizard creates invalid patch when file is empty</Summery>
    <Patches amount="0" />
    <Stacktraces amount="0" />
    <SourceCodeRegions amount="0" />
    <Enumerations amount="1">
      <Enumeration lines="3">
        <Lines>
          <Line>1) Take a project which is in-sync with the repo and create an empty file</Line>
          <Line>2) Create a patch on that file, its parent or the project root</Line>
          <Line>3) Try to apply the patch</Line>
        </Lines>
      </Enumeration>
    </Enumerations>
    <bug_status amount="RESOLVED" />
    <resolution amount="DUPLICATE" />
    <WithStack>Version: 3.1.0
Build id: 200412160800

1) Take a project which is in-sync with the repo and create an empty file
2) Create a patch on that file, its parent or the project root
3) Try to apply the patch

-&gt; A message says that the patch is invalid.


*** This bug has been marked as a duplicate of 81465 ***</WithStack>
    <WithOutStack>Version: 3.1.0
Build id: 200412160800

1) Take a project which is in-sync with the repo and create an empty file
2) Create a patch on that file, its parent or the project root
3) Try to apply the patch

-&gt; A message says that the patch is invalid.


*** This bug has been marked as a duplicate of 81465 ***</WithOutStack>
  </Bug>
  <Bug>
    <BugId amount="81473" />
    <CreationDate amount="2004-12-16 16:26:00 -0500" />
    <DupId amount="" />
    <classification amount="Eclipse Foundation" />
    <Product amount="z_Archived" />
    <component amount="Hyades" />
    <Version amount="unspecified" />
    <rep_platform amount="All" />
    <op_sys amount="All" />
    <priority amount="P3" />
    <bug_severity amount="normal" />
    <Summery>(Plat) Guid.java degrates database performance when GUIDs are used for keys.</Summery>
    <Patches amount="0" />
    <Stacktraces amount="0" />
    <SourceCodeRegions amount="0" />
    <Enumerations amount="1">
      <Enumeration lines="3">
        <Lines>
          <Line>1) With an empty database, insert 100,000 events and the execute 'runstats' on</Line>
          <Line>existing data.</Line>
          <Line>2) Measure the overall event submission rate for 1,000,000 events.</Line>
        </Lines>
      </Enumeration>
    </Enumerations>
    <bug_status amount="CLOSED" />
    <resolution amount="FIXED" />
    <WithStack>Guid.java degrates database performance when GUIDs are used for keys.

- Problem description:
 Event submission performance progressively degrades as the number of rows 
increase within a database. The degradation
is due to the database (e.g. DB2) progressively spending more and more time 
reading index pages. That is, the index buffer reads 
to index buffer writes ratio is increasing.

- Scenario description:
 1) With an empty database, insert 100,000 events and the execute 'runstats' on 
existing data.
 2) Measure the overall event submission rate for 1,000,000 events.

- Findings:
 It is my opinion that the performance degradation is due to the GUID as a 
primary key. Currently, the GUID implements the IETF spec and is of the 
following format:
 
 'CE' || U[0-63] || T[0-31] || T[32-47] || T[48-63] where,
  'CE'  - 2 character static string
  U[0-63]  - 64 bit unique ID converted to hex string, 16 character string 
(green)
  T[0-31]  - low order 32 bits of  a 64-bit time stamp measured in nanoseconds 
and converted to a hex 8 character string (red)
  T[32-47] - 'middle' 16 bits of the same 64-bit time stamp converted to hex 4 
character string (blue)
  T[48-63] - 'upper' 16 bits of the same 64-bit time stamp converted to hex 4 
character string 
 Sample GUIDs:
 CE 82C8FC3C482BD135 DD27FC90 2388 11D9
 CE 82C8FC3C482BD135 E31FB250 2388 11D9
 CE 82C8FC3C482BD135 E9174100 2388 11D9
 CE 82C8FC3C482BD135 EF0EF6C0 2388 11D9
 CE 82C8FC3C482BD135 F5068570 2388 11D9
 CE 82C8FC3C482BD135 FAFE1420 2388 11D9 &lt;---
 CE 82C8FC3C482BD135 00F5C9E0 2389 11D9 &lt;---
 CE 82C8FC3C482BD135 06ED5890 2389 11D9
 CE 82C8FC3C482BD135 0CE50E50 2389 11D9
 CE 82C8FC3C482BD135 12DD1230 2389 11D9
 CE 82C8FC3C482BD135 18D452C0 2389 11D9
 CE 82C8FC3C482BD135 1ECBE170 2389 11D9
 CE 82C8FC3C482BD135 24C37020 2389 11D9
 CE 82C8FC3C482BD135 2ABB25E0 2389 11D9

 Please note when the low 32-bit time component recycles (see &lt;--- above). The 
frequency of the time wrap-around is about 400 seconds.
Since the generated GUID is not monotonic, this forces the database to go back 
in the index list and insert new IDs into existing pages, possibly splitting
 the data across 2 data pages.

 Below is an alternate way to generate GUIDs. The algorithm used generates a 
monotonic GUID and does not show any degradation
in performance as data grows. Alternate GUID format:
 'CE' || T[48-63] || T[32-48] T[0-31] || U[0-63]

 CE 11D9 238F F316E640 9EA7E5A5C52889EC
 CE 11D9 238F F90E74F0 9EA7E5A5C52889EC
 CE 11D9 238F FF0603A0 9EA7E5A5C52889EC
 CE 11D9 2390 04FDB960 9EA7E5A5C52889EC
 CE 11D9 2390 0AF54810 9EA7E5A5C52889EC
 CE 11D9 2390 10ECFDD0 9EA7E5A5C52889EC
 CE 11D9 2390 16E48C80 9EA7E5A5C52889EC
 CE 11D9 2390 1CDC1B30 9EA7E5A5C52889EC
 CE 11D9 2390 22D3D0F0 9EA7E5A5C52889EC
 CE 11D9 2390 28CB5FA0 9EA7E5A5C52889EC
 CE 11D9 2390 2EC31560 9EA7E5A5C52889EC
 CE 11D9 2390 34BAA410 9EA7E5A5C52889EC


 The PDF below is a graph of the measured event submission rate for the GUID 
and the alternate method. The X scale is time
in seconds while the Y scale represents submitted events/second.

- Plot 'CEI generated original GUID' represents the event rate when GUIDs were 
generated at the server side by CEI.

- Plot 'client generated original GUID' represents the same algorithm as used 
on the server side, but generated by the client application. It's purpose is to
document the performance improvement obtained when the client application 
generates the GUID vs. CEI generating it on the server.

- Plot 'client generated alternate GUID' represents the event submission rate 
when a client application generates GUIDs using the alternate algorithm.
Notice the constant event submission rate due to the monotonic nature of the 
primary key.
Created attachment 16719
Graph.
Code (Guid.java) checked-in to Hyades v3.3 (HEAD) and TPTP v4.0 (HEAD) on Jan. 
31/04.
Verified in Toronto's 20050204_1540 (HEAD) build.
Closing.</WithStack>
    <WithOutStack>Guid.java degrates database performance when GUIDs are used for keys.

- Problem description:
 Event submission performance progressively degrades as the number of rows 
increase within a database. The degradation
is due to the database (e.g. DB2) progressively spending more and more time 
reading index pages. That is, the index buffer reads 
to index buffer writes ratio is increasing.

- Scenario description:
 1) With an empty database, insert 100,000 events and the execute 'runstats' on 
existing data.
 2) Measure the overall event submission rate for 1,000,000 events.

- Findings:
 It is my opinion that the performance degradation is due to the GUID as a 
primary key. Currently, the GUID implements the IETF spec and is of the 
following format:
 
 'CE' || U[0-63] || T[0-31] || T[32-47] || T[48-63] where,
  'CE'  - 2 character static string
  U[0-63]  - 64 bit unique ID converted to hex string, 16 character string 
(green)
  T[0-31]  - low order 32 bits of  a 64-bit time stamp measured in nanoseconds 
and converted to a hex 8 character string (red)
  T[32-47] - 'middle' 16 bits of the same 64-bit time stamp converted to hex 4 
character string (blue)
  T[48-63] - 'upper' 16 bits of the same 64-bit time stamp converted to hex 4 
character string 
 Sample GUIDs:
 CE 82C8FC3C482BD135 DD27FC90 2388 11D9
 CE 82C8FC3C482BD135 E31FB250 2388 11D9
 CE 82C8FC3C482BD135 E9174100 2388 11D9
 CE 82C8FC3C482BD135 EF0EF6C0 2388 11D9
 CE 82C8FC3C482BD135 F5068570 2388 11D9
 CE 82C8FC3C482BD135 FAFE1420 2388 11D9 &lt;---
 CE 82C8FC3C482BD135 00F5C9E0 2389 11D9 &lt;---
 CE 82C8FC3C482BD135 06ED5890 2389 11D9
 CE 82C8FC3C482BD135 0CE50E50 2389 11D9
 CE 82C8FC3C482BD135 12DD1230 2389 11D9
 CE 82C8FC3C482BD135 18D452C0 2389 11D9
 CE 82C8FC3C482BD135 1ECBE170 2389 11D9
 CE 82C8FC3C482BD135 24C37020 2389 11D9
 CE 82C8FC3C482BD135 2ABB25E0 2389 11D9

 Please note when the low 32-bit time component recycles (see &lt;--- above). The 
frequency of the time wrap-around is about 400 seconds.
Since the generated GUID is not monotonic, this forces the database to go back 
in the index list and insert new IDs into existing pages, possibly splitting
 the data across 2 data pages.

 Below is an alternate way to generate GUIDs. The algorithm used generates a 
monotonic GUID and does not show any degradation
in performance as data grows. Alternate GUID format:
 'CE' || T[48-63] || T[32-48] T[0-31] || U[0-63]

 CE 11D9 238F F316E640 9EA7E5A5C52889EC
 CE 11D9 238F F90E74F0 9EA7E5A5C52889EC
 CE 11D9 238F FF0603A0 9EA7E5A5C52889EC
 CE 11D9 2390 04FDB960 9EA7E5A5C52889EC
 CE 11D9 2390 0AF54810 9EA7E5A5C52889EC
 CE 11D9 2390 10ECFDD0 9EA7E5A5C52889EC
 CE 11D9 2390 16E48C80 9EA7E5A5C52889EC
 CE 11D9 2390 1CDC1B30 9EA7E5A5C52889EC
 CE 11D9 2390 22D3D0F0 9EA7E5A5C52889EC
 CE 11D9 2390 28CB5FA0 9EA7E5A5C52889EC
 CE 11D9 2390 2EC31560 9EA7E5A5C52889EC
 CE 11D9 2390 34BAA410 9EA7E5A5C52889EC


 The PDF below is a graph of the measured event submission rate for the GUID 
and the alternate method. The X scale is time
in seconds while the Y scale represents submitted events/second.

- Plot 'CEI generated original GUID' represents the event rate when GUIDs were 
generated at the server side by CEI.

- Plot 'client generated original GUID' represents the same algorithm as used 
on the server side, but generated by the client application. It's purpose is to
document the performance improvement obtained when the client application 
generates the GUID vs. CEI generating it on the server.

- Plot 'client generated alternate GUID' represents the event submission rate 
when a client application generates GUIDs using the alternate algorithm.
Notice the constant event submission rate due to the monotonic nature of the 
primary key.
Created attachment 16719
Graph.
Code (Guid.java) checked-in to Hyades v3.3 (HEAD) and TPTP v4.0 (HEAD) on Jan. 
31/04.
Verified in Toronto's 20050204_1540 (HEAD) build.
Closing.</WithOutStack>
  </Bug>
  <Bug>
    <BugId amount="81474" />
    <CreationDate amount="2004-12-16 17:02:00 -0500" />
    <DupId amount="75440" />
    <classification amount="Eclipse" />
    <Product amount="JDT" />
    <component amount="Text" />
    <Version amount="3.1" />
    <rep_platform amount="PC" />
    <op_sys amount="Windows XP" />
    <priority amount="P3" />
    <bug_severity amount="normal" />
    <Summery>IllegalStateException on shutdown</Summery>
    <Patches amount="0" />
    <Stacktraces amount="2">
      <Stacktrace timestamp="1437341216876">
        <Exception>java.lang.IllegalStateException</Exception>
        <Reason>Workspace is closed.</Reason>
        <Frames>
          <Frame depth="0">org.eclipse.core.resources.ResourcesPlugin.getWorkspace(ResourcesPlugin.java:320)</Frame>
          <Frame depth="1">org.eclipse.ui.editors.text.TextFileDocumentProvider.&lt;init&gt;(TextFileDocumentProvider.java:385)</Frame>
          <Frame depth="2">org.eclipse.ui.editors.text.TextFileDocumentProvider.&lt;init&gt;(TextFileDocumentProvider.java:370)</Frame>
          <Frame depth="3">org.eclipse.jdt.internal.ui.javaeditor.CompilationUnitDocumentProvider.&lt;init&gt;(CompilationUnitDocumentProvider.java:783)</Frame>
          <Frame depth="4">org.eclipse.jdt.internal.ui.JavaPlugin.getCompilationUnitDocumentProvider(JavaPlugin.java:505)</Frame>
          <Frame depth="5">org.eclipse.jdt.internal.ui.text.JavaCompositeReconcilingStrategy.getProblemRequestorExtension(JavaCompositeReconcilingStrategy.java:61)</Frame>
          <Frame depth="6">org.eclipse.jdt.internal.ui.text.JavaCompositeReconcilingStrategy.initialReconcile(JavaCompositeReconcilingStrategy.java:116)</Frame>
          <Frame depth="7">org.eclipse.jface.text.reconciler.MonoReconciler.initialProcess(MonoReconciler.java:103)</Frame>
          <Frame depth="8">org.eclipse.jdt.internal.ui.text.JavaReconciler.initialProcess(JavaReconciler.java:307)</Frame>
          <Frame depth="9">org.eclipse.jface.text.reconciler.AbstractReconciler$BackgroundThread.run(AbstractReconciler.java:170)</Frame>
        </Frames>
      </Stacktrace>
      <Stacktrace timestamp="1437341216876">
        <Exception>java.lang.ClassNotFoundException</Exception>
        <Reason>The 
class "org.eclipse.jdt.internal.ui.javaeditor.CompilationUnitDocumentProvider$C
ompilationUnitAnnotationModel$ProblemRequestorState" cannot be loaded because 
the system is shutting down and the plug-in "org.eclipse.jdt.ui" has already 
been stopped.</Reason>
        <Frames>
          <Frame depth="0">org.eclipse.core.runtime.adaptor.EclipseClassLoader.shouldActivateFor(EclipseClassLoader.java:147)</Frame>
          <Frame depth="1">org.eclipse.core.runtime.adaptor.EclipseClassLoader.findLocalClass(EclipseClassLoader.java:62)</Frame>
          <Frame depth="2">org.eclipse.osgi.framework.internal.core.BundleLoader.findLocalClass(BundleLoader.java:371)</Frame>
          <Frame depth="3">org.eclipse.osgi.framework.internal.core.BundleLoader.findClass(BundleLoader.java:402)</Frame>
          <Frame depth="4">org.eclipse.osgi.framework.adaptor.core.AbstractClassLoader.loadClass(AbstractClassLoader.java:93)</Frame>
          <Frame depth="5">java.lang.ClassLoader.loadClass(ClassLoader.java:235)</Frame>
          <Frame depth="6">java.lang.ClassLoader.loadClassInternal(ClassLoader.java:302)</Frame>
          <Frame depth="7">org.eclipse.jdt.internal.ui.javaeditor.CompilationUnitDocumentProvider$CompilationUnitAnnotationModel.internalBeginReporting(CompilationUnitDocumentProvider.java:465)</Frame>
          <Frame depth="8">org.eclipse.jdt.internal.ui.javaeditor.CompilationUnitDocumentProvider$CompilationUnitAnnotationModel.beginReporting(CompilationUnitDocumentProvider.java:445)</Frame>
          <Frame depth="9">org.eclipse.jdt.internal.ui.text.spelling.JavaSpellingReconcileStrategy$SpellingProblemCollector.beginReporting(JavaSpellingReconcileStrategy.java:80)</Frame>
          <Frame depth="10">org.eclipse.ui.texteditor.spelling.SpellingService.check(SpellingService.java:98)</Frame>
          <Frame depth="11">org.eclipse.ui.texteditor.spelling.SpellingService.check(SpellingService.java:82)</Frame>
          <Frame depth="12">org.eclipse.jdt.internal.ui.text.spelling.JavaSpellingReconcileStrategy.reconcile(JavaSpellingReconcileStrategy.java:142)</Frame>
          <Frame depth="13">org.eclipse.jdt.internal.ui.text.spelling.JavaSpellingReconcileStrategy.initialReconcile(JavaSpellingReconcileStrategy.java:124)</Frame>
          <Frame depth="14">org.eclipse.jdt.internal.ui.text.CompositeReconcilingStrategy.initialReconcile(CompositeReconcilingStrategy.java:114)</Frame>
          <Frame depth="15">org.eclipse.jdt.internal.ui.text.JavaCompositeReconcilingStrategy.initialReconcile(JavaCompositeReconcilingStrategy.java:125)</Frame>
          <Frame depth="16">org.eclipse.jface.text.reconciler.MonoReconciler.initialProcess(MonoReconciler.java:103)</Frame>
          <Frame depth="17">org.eclipse.jdt.internal.ui.text.JavaReconciler.initialProcess(JavaReconciler.java:307)</Frame>
          <Frame depth="18">org.eclipse.jface.text.reconciler.AbstractReconciler$BackgroundThread.run(AbstractReconciler.java:170)</Frame>
        </Frames>
      </Stacktrace>
    </Stacktraces>
    <SourceCodeRegions amount="0" />
    <Enumerations amount="0" />
    <bug_status amount="RESOLVED" />
    <resolution amount="DUPLICATE" />
    <WithStack>I2004161200

I have two files displayed in editors (order of the files is important):
Ant buildfile, java cu
Focus on the Ant editor.

If I start Eclipse and then shutdown (never going to the java editor) I end up 
with (90% of the time):

java.lang.IllegalStateException: Workspace is closed.
	at org.eclipse.core.resources.ResourcesPlugin.getWorkspace
(ResourcesPlugin.java:320)
	at org.eclipse.ui.editors.text.TextFileDocumentProvider.&lt;init&gt;
(TextFileDocumentProvider.java:385)
	at org.eclipse.ui.editors.text.TextFileDocumentProvider.&lt;init&gt;
(TextFileDocumentProvider.java:370)
	at 
org.eclipse.jdt.internal.ui.javaeditor.CompilationUnitDocumentProvider.&lt;init&gt;
(CompilationUnitDocumentProvider.java:783)
	at 
org.eclipse.jdt.internal.ui.JavaPlugin.getCompilationUnitDocumentProvider
(JavaPlugin.java:505)
	at 
org.eclipse.jdt.internal.ui.text.JavaCompositeReconcilingStrategy.getProblemReq
uestorExtension(JavaCompositeReconcilingStrategy.java:61)
	at 
org.eclipse.jdt.internal.ui.text.JavaCompositeReconcilingStrategy.initialReconc
ile(JavaCompositeReconcilingStrategy.java:116)
	at org.eclipse.jface.text.reconciler.MonoReconciler.initialProcess
(MonoReconciler.java:103)
	at org.eclipse.jdt.internal.ui.text.JavaReconciler.initialProcess
(JavaReconciler.java:307)
	at 
org.eclipse.jface.text.reconciler.AbstractReconciler$BackgroundThread.run
(AbstractReconciler.java:170)

Can also get:
java.lang.ClassNotFoundException: The 
class "org.eclipse.jdt.internal.ui.javaeditor.CompilationUnitDocumentProvider$C
ompilationUnitAnnotationModel$ProblemRequestorState" cannot be loaded because 
the system is shutting down and the plug-in "org.eclipse.jdt.ui" has already 
been stopped.
at org.eclipse.core.runtime.adaptor.EclipseClassLoader.shouldActivateFor
(EclipseClassLoader.java:147)
at org.eclipse.core.runtime.adaptor.EclipseClassLoader.findLocalClass
(EclipseClassLoader.java:62)
at org.eclipse.osgi.framework.internal.core.BundleLoader.findLocalClass
(BundleLoader.java:371)
at org.eclipse.osgi.framework.internal.core.BundleLoader.findClass
(BundleLoader.java:402)
at org.eclipse.osgi.framework.adaptor.core.AbstractClassLoader.loadClass
(AbstractClassLoader.java:93)
at java.lang.ClassLoader.loadClass(ClassLoader.java:235)
at java.lang.ClassLoader.loadClassInternal(ClassLoader.java:302)
at 
org.eclipse.jdt.internal.ui.javaeditor.CompilationUnitDocumentProvider$Compilat
ionUnitAnnotationModel.internalBeginReporting
(CompilationUnitDocumentProvider.java:465)
at 
org.eclipse.jdt.internal.ui.javaeditor.CompilationUnitDocumentProvider$Compilat
ionUnitAnnotationModel.beginReporting(CompilationUnitDocumentProvider.java:445)
at 
org.eclipse.jdt.internal.ui.text.spelling.JavaSpellingReconcileStrategy$Spellin
gProblemCollector.beginReporting(JavaSpellingReconcileStrategy.java:80)
at org.eclipse.ui.texteditor.spelling.SpellingService.check
(SpellingService.java:98)
at org.eclipse.ui.texteditor.spelling.SpellingService.check
(SpellingService.java:82)
at 
org.eclipse.jdt.internal.ui.text.spelling.JavaSpellingReconcileStrategy.reconci
le(JavaSpellingReconcileStrategy.java:142)
at 
org.eclipse.jdt.internal.ui.text.spelling.JavaSpellingReconcileStrategy.initial
Reconcile(JavaSpellingReconcileStrategy.java:124)
at 
org.eclipse.jdt.internal.ui.text.CompositeReconcilingStrategy.initialReconcile
(CompositeReconcilingStrategy.java:114)
at 
org.eclipse.jdt.internal.ui.text.JavaCompositeReconcilingStrategy.initialReconc
ile(JavaCompositeReconcilingStrategy.java:125)
at org.eclipse.jface.text.reconciler.MonoReconciler.initialProcess
(MonoReconciler.java:103)
at org.eclipse.jdt.internal.ui.text.JavaReconciler.initialProcess
(JavaReconciler.java:307)
at org.eclipse.jface.text.reconciler.AbstractReconciler$BackgroundThread.run
(AbstractReconciler.java:170)


*** This bug has been marked as a duplicate of 75440 ***</WithStack>
    <WithOutStack>I2004161200

I have two files displayed in editors (order of the files is important):
Ant buildfile, java cu
Focus on the Ant editor.

If I start Eclipse and then shutdown (never going to the java editor) I end up 
with (90% of the time):


Can also get:



*** This bug has been marked as a duplicate of 75440 ***</WithOutStack>
  </Bug>
  <Bug>
    <BugId amount="81475" />
    <CreationDate amount="2004-12-16 17:16:00 -0500" />
    <DupId amount="" />
    <classification amount="Eclipse" />
    <Product amount="Platform" />
    <component amount="Releng" />
    <Version amount="3.1" />
    <rep_platform amount="All" />
    <op_sys amount="All" />
    <priority amount="P3" />
    <bug_severity amount="enhancement" />
    <Summery>testResults.php page showing a lot of rows makes finding failed tests hard</Summery>
    <Patches amount="0" />
    <Stacktraces amount="0" />
    <SourceCodeRegions amount="0" />
    <Enumerations amount="0" />
    <bug_status amount="CLOSED" />
    <resolution amount="FIXED" />
    <WithStack>hi,
When I view the Test Results page (by clicking on the red X link if any build
failed), I see that there are a lot of rows in the table. Trying to find which
test (suite?) failed means that I look on the "Errors &amp; Failures" column. Its
pretty hard to find a non-zero cell and then see the corresponding suite on the
first column. It would be a lot easier if the text in that whole row is bolded.
If  I click on the failed test, it takes me to the "Unit Test Results" page -
where the text is bold for any failed tests. I am not sure whether I am clear
enough - if not, I can attach screen shots.

thanks
fixed in builds &gt; N20041206
Created attachment 16959
Screen shot

This does not seem to be fixed. Am attaching a screen shot of the latest I
build.
This does not seem to be fixed. Am attaching a screen shot of the latest I build.
As per comment #1, it was fixed in the latest nightly build (&gt; N20041206). It
was not fixed for this weeks integration build.  See

http://download.eclipse.org/downloads/drops/N20050106-0010/testResults.php
Cool - now its a lot easier to traverse this page!
thanks for the fast turnaround!
Closing</WithStack>
    <WithOutStack>hi,
When I view the Test Results page (by clicking on the red X link if any build
failed), I see that there are a lot of rows in the table. Trying to find which
test (suite?) failed means that I look on the "Errors &amp; Failures" column. Its
pretty hard to find a non-zero cell and then see the corresponding suite on the
first column. It would be a lot easier if the text in that whole row is bolded.
If  I click on the failed test, it takes me to the "Unit Test Results" page -
where the text is bold for any failed tests. I am not sure whether I am clear
enough - if not, I can attach screen shots.

thanks
fixed in builds &gt; N20041206
Created attachment 16959
Screen shot

This does not seem to be fixed. Am attaching a screen shot of the latest I
build.
This does not seem to be fixed. Am attaching a screen shot of the latest I build.
As per comment #1, it was fixed in the latest nightly build (&gt; N20041206). It
was not fixed for this weeks integration build.  See

http://download.eclipse.org/downloads/drops/N20050106-0010/testResults.php
Cool - now its a lot easier to traverse this page!
thanks for the fast turnaround!
Closing</WithOutStack>
  </Bug>
  <Bug>
    <BugId amount="81476" />
    <CreationDate amount="2004-12-16 17:34:00 -0500" />
    <DupId amount="" />
    <classification amount="Eclipse" />
    <Product amount="JDT" />
    <component amount="UI" />
    <Version amount="3.1" />
    <rep_platform amount="PC" />
    <op_sys amount="Windows 2000" />
    <priority amount="P3" />
    <bug_severity amount="normal" />
    <Summery>Package Explorer uses deleted working sets</Summery>
    <Patches amount="0" />
    <Stacktraces amount="0" />
    <SourceCodeRegions amount="0" />
    <Enumerations amount="1">
      <Enumeration lines="6">
        <Lines>
          <Line>1) Create two Java working sets and add some projects to them</Line>
          <Line>2) Toggle the Package Explorer to view working sets.  Looks good.</Line>
          <Line>3) Toggle PE back to not showing working sets.</Line>
          <Line>4) From the context menu, pick "Select Working Set"</Line>
          <Line>5) From this dialog, delete one of the working sets defined in 1)</Line>
          <Line>6) Close the dialog and toggle PE back to showing working sets.</Line>
        </Lines>
      </Enumeration>
    </Enumerations>
    <bug_status amount="RESOLVED" />
    <resolution amount="FIXED" />
    <WithStack>Build: I20041216-1600

1) Create two Java working sets and add some projects to them
2) Toggle the Package Explorer to view working sets.  Looks good.
3) Toggle PE back to not showing working sets.
4) From the context menu, pick "Select Working Set"
5) From this dialog, delete one of the working sets defined in 1)
6) Close the dialog and toggle PE back to showing working sets.

-&gt; It is still showing the deleted working set.  Picking "Select Working Set"
still shows the deleted working sets but they contain no projects. If I pick
"Select Working Set" in the Navigator, it does not show the deleted working
sets.  Somehow the PE is remembering about these working sets after the
platform's IWorkingSetManager has removed them.
Fixed for M5.</WithStack>
    <WithOutStack>Build: I20041216-1600

1) Create two Java working sets and add some projects to them
2) Toggle the Package Explorer to view working sets.  Looks good.
3) Toggle PE back to not showing working sets.
4) From the context menu, pick "Select Working Set"
5) From this dialog, delete one of the working sets defined in 1)
6) Close the dialog and toggle PE back to showing working sets.

-&gt; It is still showing the deleted working set.  Picking "Select Working Set"
still shows the deleted working sets but they contain no projects. If I pick
"Select Working Set" in the Navigator, it does not show the deleted working
sets.  Somehow the PE is remembering about these working sets after the
platform's IWorkingSetManager has removed them.
Fixed for M5.</WithOutStack>
  </Bug>
  <Bug>
    <BugId amount="81477" />
    <CreationDate amount="2004-12-16 17:50:00 -0500" />
    <DupId amount="" />
    <classification amount="Eclipse" />
    <Product amount="Platform" />
    <component amount="Debug" />
    <Version amount="3.1" />
    <rep_platform amount="PC" />
    <op_sys amount="Windows 2000" />
    <priority amount="P3" />
    <bug_severity amount="normal" />
    <Summery>Remote debugger gets stuck....</Summery>
    <Patches amount="0" />
    <Stacktraces amount="0" />
    <SourceCodeRegions amount="0" />
    <Enumerations amount="0" />
    <bug_status amount="VERIFIED" />
    <resolution amount="FIXED" />
    <WithStack>If you remote debug a java application and disconnect and then reconnect
multiple times eclipse eventually just sits there trying to connect.  Perhaps
there is something wrong with the open/closing of sockets in eclipse.  Pushing
the stop button on the establishing connection doesn't do anything and it just
continues trying to connect.  If I shutdown eclipse and then try to connect
again it just says connection refused, so I have to shutdown the remote application.

There is nothing in the log except remoteconnection has been refused.
Cannot reproduce. I can repeatedly re-connect to a VM in debug mode without 
trouble. Is there anything more specific you can provide?
This is on JDK 142-03...   Here are my vm launch options:

JAVA_OPTIONS = -Xdebug -ms1024m -mx1024m -XX:MaxPermSize=128m -Xdebug
-Xrunjdwp:transport=dt_socket,suspend=n,server=y,address=20501

Not sure what else I could give you but it pretty much appears that after
connect and disconnect I can not reconnect to the vm wo stopping the vm.  And
the cancel does not work on the establishing connection process.  It also does
not appear to timeout ever..   I'd say if it does not connect in the first 3
minutes then this process should automatically cancel.
Even after I kill the vm it is trying to connect to Eclipse still continues with
the establishing connection routine.
netstat -a -n does shows something interesting....

  TCP    0.0.0.0:20501          0.0.0.0:0              LISTENING
  TCP    0.0.0.0:20501          0.0.0.0:0              LISTENING

This is with eclipse closed after it failed to connect the 2nd time and now
fails to connect until restarting the vm.  This would seem to indicate that the
same port is listening in two processes...   I am not sure how that is possible.

So I shutdown my remote vm and netstat still listed a 25001 tcp port
listening...   so I checked my processes and there was a java.exe process which
was still running that wasn't for any process that should have been running.  I
killed it and started both the remote vm and eclipse again...   and now I can
remote debug and disconnect and reconnect.

So I think what you can do for eclipse is make it possible to cancel the
establishing connection task so that you don't have to close eclipse in this
situation.

I'm unable to reproduce the problem. 
I have been able to reproduce your netstat output though. I did that by launching two java processes in 
debug mode, both listening to the same address and port. Even with both of those processes running 
Eclipse behaved normally (ie it connected to one target vm every time).

Also noticed that your JAVA_OPTIONS declares -Xdebug twice. This does not seem to have any impact 
on my window box running 1.4.2_05, but once should be enough. Also the correct options for setting 
heap size are -Xmx and -Xmx on my vm. 

What is -XX:MaxPermSize?
Are you using Sun's 1.4.2_03? Have you tried any other vms?
Max perm size is the amount of memory that the vm will allocate to internal
objects to it's process.  So items that have nothing to do with your application
but are needed for the vm to run.

My application runs under weblogic81sp2 and the appserver is certified against
this jvm so I have no option but to use it and haven't tried any others.

I think repro is going to be hard...  but did you try to cancel when
establishing the connection?
If the launch is canceled after the socket is created and before the launch process is complete the 
socket is not closed properly and subsequent attempts to connect to the target will fail. 
Added cleanup code to JavaRemoteApplicationLaunchConfigurationDelegate. If the launch is cancelled, 
iterates through the launches debug targets and attempts to disconnect them.

To reproduce original behavior, set a breakpoint in SocketTransportService.attach(...) where the new 
socket is created. Attaching to a remote target in your target workbench and you will hit the breakpoint 
in your host. At this point you can cancel the launch in your target workbench, and resume the paused 
thread in your host.
reopening to reassign..
Darin, please verify
Verified.
I am using e31m5a and I just had this case occur again today.  I tried to debug
my project, eclipse decided that it needed to compile the project so I killed
the remote app that eclipse was to debug.  Eclipse finished compiling and then
said internal error - although reason was process to debug was no longer
listening.  Then I started it up again and tried to connect and eclipse just
stalled waiting to connect, so I clicked cancel and then tried again.  This time
it could not establish connection b/c the previous jvm that eclipse had spawned
to connect was still there.  Eclipse must properly cleanup it's forked jvms.

I then went to task manager.  Found the extra java.exe, killed it and tried
again in eclipse to connect it worked.
When attaching to a remote process we don't fork a VM... it's already there.</WithStack>
    <WithOutStack>If you remote debug a java application and disconnect and then reconnect
multiple times eclipse eventually just sits there trying to connect.  Perhaps
there is something wrong with the open/closing of sockets in eclipse.  Pushing
the stop button on the establishing connection doesn't do anything and it just
continues trying to connect.  If I shutdown eclipse and then try to connect
again it just says connection refused, so I have to shutdown the remote application.

There is nothing in the log except remoteconnection has been refused.
Cannot reproduce. I can repeatedly re-connect to a VM in debug mode without 
trouble. Is there anything more specific you can provide?
This is on JDK 142-03...   Here are my vm launch options:

JAVA_OPTIONS = -Xdebug -ms1024m -mx1024m -XX:MaxPermSize=128m -Xdebug
-Xrunjdwp:transport=dt_socket,suspend=n,server=y,address=20501

Not sure what else I could give you but it pretty much appears that after
connect and disconnect I can not reconnect to the vm wo stopping the vm.  And
the cancel does not work on the establishing connection process.  It also does
not appear to timeout ever..   I'd say if it does not connect in the first 3
minutes then this process should automatically cancel.
Even after I kill the vm it is trying to connect to Eclipse still continues with
the establishing connection routine.
netstat -a -n does shows something interesting....

  TCP    0.0.0.0:20501          0.0.0.0:0              LISTENING
  TCP    0.0.0.0:20501          0.0.0.0:0              LISTENING

This is with eclipse closed after it failed to connect the 2nd time and now
fails to connect until restarting the vm.  This would seem to indicate that the
same port is listening in two processes...   I am not sure how that is possible.

So I shutdown my remote vm and netstat still listed a 25001 tcp port
listening...   so I checked my processes and there was a java.exe process which
was still running that wasn't for any process that should have been running.  I
killed it and started both the remote vm and eclipse again...   and now I can
remote debug and disconnect and reconnect.

So I think what you can do for eclipse is make it possible to cancel the
establishing connection task so that you don't have to close eclipse in this
situation.

I'm unable to reproduce the problem. 
I have been able to reproduce your netstat output though. I did that by launching two java processes in 
debug mode, both listening to the same address and port. Even with both of those processes running 
Eclipse behaved normally (ie it connected to one target vm every time).

Also noticed that your JAVA_OPTIONS declares -Xdebug twice. This does not seem to have any impact 
on my window box running 1.4.2_05, but once should be enough. Also the correct options for setting 
heap size are -Xmx and -Xmx on my vm. 

What is -XX:MaxPermSize?
Are you using Sun's 1.4.2_03? Have you tried any other vms?
Max perm size is the amount of memory that the vm will allocate to internal
objects to it's process.  So items that have nothing to do with your application
but are needed for the vm to run.

My application runs under weblogic81sp2 and the appserver is certified against
this jvm so I have no option but to use it and haven't tried any others.

I think repro is going to be hard...  but did you try to cancel when
establishing the connection?
If the launch is canceled after the socket is created and before the launch process is complete the 
socket is not closed properly and subsequent attempts to connect to the target will fail. 
Added cleanup code to JavaRemoteApplicationLaunchConfigurationDelegate. If the launch is cancelled, 
iterates through the launches debug targets and attempts to disconnect them.

To reproduce original behavior, set a breakpoint in SocketTransportService.attach(...) where the new 
socket is created. Attaching to a remote target in your target workbench and you will hit the breakpoint 
in your host. At this point you can cancel the launch in your target workbench, and resume the paused 
thread in your host.
reopening to reassign..
Darin, please verify
Verified.
I am using e31m5a and I just had this case occur again today.  I tried to debug
my project, eclipse decided that it needed to compile the project so I killed
the remote app that eclipse was to debug.  Eclipse finished compiling and then
said internal error - although reason was process to debug was no longer
listening.  Then I started it up again and tried to connect and eclipse just
stalled waiting to connect, so I clicked cancel and then tried again.  This time
it could not establish connection b/c the previous jvm that eclipse had spawned
to connect was still there.  Eclipse must properly cleanup it's forked jvms.

I then went to task manager.  Found the extra java.exe, killed it and tried
again in eclipse to connect it worked.
When attaching to a remote process we don't fork a VM... it's already there.</WithOutStack>
  </Bug>
  <Bug>
    <BugId amount="81478" />
    <CreationDate amount="2004-12-16 18:00:00 -0500" />
    <DupId amount="" />
    <classification amount="Eclipse Foundation" />
    <Product amount="z_Archived" />
    <component amount="Hyades" />
    <Version amount="unspecified" />
    <rep_platform amount="PC" />
    <op_sys amount="Windows 2000" />
    <priority amount="P3" />
    <bug_severity amount="normal" />
    <Summery>Add Readme item for GLA limitation on z/OS due to JDK bug</Summery>
    <Patches amount="0" />
    <Stacktraces amount="0" />
    <SourceCodeRegions amount="0" />
    <Enumerations amount="1">
      <Enumeration lines="14">
        <Lines>
          <Line>1) Edit the file</Line>
          <Line>plugins/org.eclipse.hyades.logging.parsers/config/pluginconfig.xml in the Agent</Line>
          <Line>Controller install directory.</Line>
          <Line>2) Add a new Parameter to the RemoteLogParserLoader Application element after</Line>
          <Line>the java.version parameter.  For example:</Line>
          <Line>&lt;Parameter position="prepend" value="-Djava.version=1.4"/&gt;</Line>
          <Line>&lt;Parameter position="prepend" value="-Djava.compiler=NONE"/&gt;</Line>
          <Line>&lt;Parameter position="append" value="&amp;quot;config_path=%GLA_CONFIG_PATH%&amp;quot;"/&gt;</Line>
          <Line>3) Restart the Agent Controller.</Line>
          <Line>4) Import the log file again.</Line>
          <Line>This readme item is required for Hyades 3.2.</Line>
          <Line>Done.</Line>
          <Line>Verified that this problem is included in the Hyades v3.2.0 - Release notes.</Line>
          <Line>Closing</Line>
        </Lines>
      </Enumeration>
    </Enumerations>
    <bug_status amount="CLOSED" />
    <resolution amount="FIXED" />
    <WithStack>Please add the following item to the Readme for Hyades 3.2 to cover the problem 
reported in bugzilla 80730.

Importing a log file from a remote z/OS system may result in incomplete data

Importing a log file using Log and Trace Analyzer from a remote z/OS system may 
result in incomplete data shown in the Log View.  The import operation may stop 
prematurely and not all of the log records are shown in the Log View.  This 
problem occurs when one of the following IBM JDK versions is installed on the 
z/OS system:

1.4.1 PTF UQ88783
1.4.2 PTF UQ90449
1.4.2 PTF UQ93743

To work around this problem, change the configuration of the Hyades Agent 
Controller on the z/OS system by doing the following:

1) Edit the file 
plugins/org.eclipse.hyades.logging.parsers/config/pluginconfig.xml in the Agent 
Controller install directory.
2) Add a new Parameter to the RemoteLogParserLoader Application element after 
the java.version parameter.  For example:
&lt;Parameter position="prepend" value="-Djava.version=1.4"/&gt;
&lt;Parameter position="prepend" value="-Djava.compiler=NONE"/&gt;
&lt;Parameter position="append" value="&amp;quot;config_path=%GLA_CONFIG_PATH%&amp;quot;"/&gt;
3) Restart the Agent Controller.
4) Import the log file again.
This readme item is required for Hyades 3.2.
Done.
Verified that this problem is included in the Hyades v3.2.0 - Release notes.
Closing</WithStack>
    <WithOutStack>Please add the following item to the Readme for Hyades 3.2 to cover the problem 
reported in bugzilla 80730.

Importing a log file from a remote z/OS system may result in incomplete data

Importing a log file using Log and Trace Analyzer from a remote z/OS system may 
result in incomplete data shown in the Log View.  The import operation may stop 
prematurely and not all of the log records are shown in the Log View.  This 
problem occurs when one of the following IBM JDK versions is installed on the 
z/OS system:

1.4.1 PTF UQ88783
1.4.2 PTF UQ90449
1.4.2 PTF UQ93743

To work around this problem, change the configuration of the Hyades Agent 
Controller on the z/OS system by doing the following:

1) Edit the file 
plugins/org.eclipse.hyades.logging.parsers/config/pluginconfig.xml in the Agent 
Controller install directory.
2) Add a new Parameter to the RemoteLogParserLoader Application element after 
the java.version parameter.  For example:
&lt;Parameter position="prepend" value="-Djava.version=1.4"/&gt;
&lt;Parameter position="prepend" value="-Djava.compiler=NONE"/&gt;
&lt;Parameter position="append" value="&amp;quot;config_path=%GLA_CONFIG_PATH%&amp;quot;"/&gt;
3) Restart the Agent Controller.
4) Import the log file again.
This readme item is required for Hyades 3.2.
Done.
Verified that this problem is included in the Hyades v3.2.0 - Release notes.
Closing</WithOutStack>
  </Bug>
  <Bug>
    <BugId amount="81479" />
    <CreationDate amount="2004-12-16 18:18:00 -0500" />
    <DupId amount="" />
    <classification amount="Eclipse" />
    <Product amount="Platform" />
    <component amount="Ant" />
    <Version amount="3.1" />
    <rep_platform amount="PC" />
    <op_sys amount="Windows XP" />
    <priority amount="P3" />
    <bug_severity amount="normal" />
    <Summery>Ant debugger hits disabled breakpoints</Summery>
    <Patches amount="0" />
    <Stacktraces amount="0" />
    <SourceCodeRegions amount="0" />
    <Enumerations amount="0" />
    <bug_status amount="VERIFIED" />
    <resolution amount="FIXED" />
    <WithStack>I200412161200
Set a breakpoint to be disabled.
Debug an Ant build
The breakpoint will be hit
Fixed in AntDebugTarget
Please verify Luc.
Verified.
Please update the build notes, Darin S.
Thanks. Build notes updated.</WithStack>
    <WithOutStack>I200412161200
Set a breakpoint to be disabled.
Debug an Ant build
The breakpoint will be hit
Fixed in AntDebugTarget
Please verify Luc.
Verified.
Please update the build notes, Darin S.
Thanks. Build notes updated.</WithOutStack>
  </Bug>
  <Bug>
    <BugId amount="81480" />
    <CreationDate amount="2004-12-16 18:39:00 -0500" />
    <DupId amount="" />
    <classification amount="Eclipse" />
    <Product amount="JDT" />
    <component amount="Core" />
    <Version amount="3.1" />
    <rep_platform amount="PC" />
    <op_sys amount="Windows 2000" />
    <priority amount="P3" />
    <bug_severity amount="normal" />
    <Summery>[classpath] Source attachment for library based on classpath variable ... [build path]</Summery>
    <Patches amount="0" />
    <Stacktraces amount="0" />
    <SourceCodeRegions amount="0" />
    <Enumerations amount="0" />
    <bug_status amount="RESOLVED" />
    <resolution amount="WONTFIX" />
    <WithStack>Source attachment for library based on classpath variable is missing a browse
button like the normal source attachments.
jdt.core currently only supports the usage of variables in classpath variable
entries
Martin, MG, I don't understand this bug report. In 3.1 M4 you can edit the
source attachment of a library based on a classpath variable in the Java Build
Path dialog. Can you clarify what is missing ?
I understood the request that for a variable class path entry they don't want
the source attachments to be restricted to 'paths with variables' (say just a
normal path like 'c:\xy\x.jar')

I don't think we should do that, the point of variable entries is to not contain
any platform specific paths, also not for the source attachments.
Yeah Martin is interpreting my request properly.  

I don't think the source should always be constrained to exist in the same place
or even relative to the same place that the installed _variable_ dependant jar
exists.  

I can still do what I want in the current version I just can't use the GUI to do
it - meaning I can take a library which is located with a variable and then edit
the .classpath file to have a sourcepath that does not include and is not
relative to that variable.
I'm surprised that editing the .classpath file would work. Is this a new
jdt.core feature? How is a variable path distinguished from a non-variable path?
Martin I don't remember we ever had the restriction that for a variable lib
entry, the source attachment had to be a variable as well.

Moving to JDT UI as there is no restriction in JDT Core.
It's in fact specified in IClasspathEntry.getSourceAttachmentPath():

For variable classpath entries, the 
* result path (if present) has an analogous form and meaning as the 
* variable path, namely the first segment is the name of a classpath variable.

That's how I remember it and I think it makes sense as you can't distinguish a
variable path from a normal path and otherwise thing get really messy
(especially in the UI where we would end up with another 3 buttons (workspace
path, ext. file path, ext. folder path)
Variable entries have been designed to be shareable by not containing local file
system paths, so having a platform specific path as source attachment is not
such a good idea.

Martin is right, we cannot change this as this is clearly spec'ed.
No action planned.</WithStack>
    <WithOutStack>Source attachment for library based on classpath variable is missing a browse
button like the normal source attachments.
jdt.core currently only supports the usage of variables in classpath variable
entries
Martin, MG, I don't understand this bug report. In 3.1 M4 you can edit the
source attachment of a library based on a classpath variable in the Java Build
Path dialog. Can you clarify what is missing ?
I understood the request that for a variable class path entry they don't want
the source attachments to be restricted to 'paths with variables' (say just a
normal path like 'c:\xy\x.jar')

I don't think we should do that, the point of variable entries is to not contain
any platform specific paths, also not for the source attachments.
Yeah Martin is interpreting my request properly.  

I don't think the source should always be constrained to exist in the same place
or even relative to the same place that the installed _variable_ dependant jar
exists.  

I can still do what I want in the current version I just can't use the GUI to do
it - meaning I can take a library which is located with a variable and then edit
the .classpath file to have a sourcepath that does not include and is not
relative to that variable.
I'm surprised that editing the .classpath file would work. Is this a new
jdt.core feature? How is a variable path distinguished from a non-variable path?
Martin I don't remember we ever had the restriction that for a variable lib
entry, the source attachment had to be a variable as well.

Moving to JDT UI as there is no restriction in JDT Core.
It's in fact specified in IClasspathEntry.getSourceAttachmentPath():

For variable classpath entries, the 
* result path (if present) has an analogous form and meaning as the 
* variable path, namely the first segment is the name of a classpath variable.

That's how I remember it and I think it makes sense as you can't distinguish a
variable path from a normal path and otherwise thing get really messy
(especially in the UI where we would end up with another 3 buttons (workspace
path, ext. file path, ext. folder path)
Variable entries have been designed to be shareable by not containing local file
system paths, so having a platform specific path as source attachment is not
such a good idea.

Martin is right, we cannot change this as this is clearly spec'ed.
No action planned.</WithOutStack>
  </Bug>
  <Bug>
    <BugId amount="81481" />
    <CreationDate amount="2004-12-16 18:42:00 -0500" />
    <DupId amount="" />
    <classification amount="WebTools" />
    <Product amount="WTP ServerTools" />
    <component amount="jst.server" />
    <Version amount="0.7" />
    <rep_platform amount="PC" />
    <op_sys amount="Windows XP" />
    <priority amount="P3" />
    <bug_severity amount="normal" />
    <Summery>tomcat.ui.tests is in map, but not feature.xml</Summery>
    <Patches amount="0" />
    <Stacktraces amount="0" />
    <SourceCodeRegions amount="0" />
    <Enumerations amount="0" />
    <bug_status amount="CLOSED" />
    <resolution amount="FIXED" />
    <WithStack>May I suggest that 
org.eclipse.jst.server.tomcat.ui.tests

be removed from map file? 
Since its not in feature, it is not being built, but if someone 
(like me) does "load map projects" then several errors show up. 
They are not errors in build, since not being built, but makes it
confusing. 

I would think we'd want this done for M2, so we have a good "clean" correspondence 
between what's built and what's in map files. So ... that's why I made 
priority 1. If this is problematic for some reason, feel free to adjust 
priorty and/or close defect as appropriate.
This test plugin is running fine locally, but had problems in the build. It 
was previously temporarily removed from the build until I could figure out 
what the difference was, but it wasn't removed from the map file. As 
suggested, I've removed it from the map file for M2.
done</WithStack>
    <WithOutStack>May I suggest that 
org.eclipse.jst.server.tomcat.ui.tests

be removed from map file? 
Since its not in feature, it is not being built, but if someone 
(like me) does "load map projects" then several errors show up. 
They are not errors in build, since not being built, but makes it
confusing. 

I would think we'd want this done for M2, so we have a good "clean" correspondence 
between what's built and what's in map files. So ... that's why I made 
priority 1. If this is problematic for some reason, feel free to adjust 
priorty and/or close defect as appropriate.
This test plugin is running fine locally, but had problems in the build. It 
was previously temporarily removed from the build until I could figure out 
what the difference was, but it wasn't removed from the map file. As 
suggested, I've removed it from the map file for M2.
done</WithOutStack>
  </Bug>
  <Bug>
    <BugId amount="81482" />
    <CreationDate amount="2004-12-16 18:48:00 -0500" />
    <DupId amount="" />
    <classification amount="Eclipse" />
    <Product amount="Platform" />
    <component amount="SWT" />
    <Version amount="3.0" />
    <rep_platform amount="PC" />
    <op_sys amount="Windows 2000" />
    <priority amount="P3" />
    <bug_severity amount="normal" />
    <Summery>java.lang.NoClassDefFoundError</Summery>
    <Patches amount="0" />
    <Stacktraces amount="0" />
    <SourceCodeRegions amount="0" />
    <Enumerations amount="0" />
    <bug_status amount="NEW" />
    <resolution amount="" />
    <WithStack>I follow the tutorial for the basic SWT application exactly as the instructions 
say.  
When I run the application, I get a dialog box.  The title is:  "Java Virtual 
Machine Launcher" and the text is: "Could not find the main class.  Program 
will exit."

In the console, I get the following message:
java.lang.NoClassDefFoundError: 
Files\eclipse/plugins/org/eclipse/swt/win32_3/0/0/os/win32/x86
Exception in thread "main"
CAR to determine exactly what tutuoral is being followed and try to help the 
guy out.  It sounds like .classpath madness.
Please send the URL for the tutorial you were following.
Thanks.
The tutorial is the one included with Eclipse on the welcome screen 
called "Build a standalone SWT application"
i m getting the error ::

Exception in thread "main" java.lang.NoClassDefFoundError: 
org/eclipse/swt/events/ModifyListener

i m trying hard to run as exe jar of my appl. but to no avail
can i get any help??
thanx
I am new to use eclipse i got this error:
  java.lang.NoClassDefFoundError:main
 i am unable to see my class path variables.Can anyone tell me how to bug it.</WithStack>
    <WithOutStack>I follow the tutorial for the basic SWT application exactly as the instructions 
say.  
When I run the application, I get a dialog box.  The title is:  "Java Virtual 
Machine Launcher" and the text is: "Could not find the main class.  Program 
will exit."

In the console, I get the following message:
java.lang.NoClassDefFoundError: 
Files\eclipse/plugins/org/eclipse/swt/win32_3/0/0/os/win32/x86
Exception in thread "main"
CAR to determine exactly what tutuoral is being followed and try to help the 
guy out.  It sounds like .classpath madness.
Please send the URL for the tutorial you were following.
Thanks.
The tutorial is the one included with Eclipse on the welcome screen 
called "Build a standalone SWT application"
i m getting the error ::

Exception in thread "main" java.lang.NoClassDefFoundError: 
org/eclipse/swt/events/ModifyListener

i m trying hard to run as exe jar of my appl. but to no avail
can i get any help??
thanx
I am new to use eclipse i got this error:
  java.lang.NoClassDefFoundError:main
 i am unable to see my class path variables.Can anyone tell me how to bug it.</WithOutStack>
  </Bug>
  <Bug>
    <BugId amount="81483" />
    <CreationDate amount="2004-12-16 19:53:00 -0500" />
    <DupId amount="" />
    <classification amount="Eclipse" />
    <Product amount="JDT" />
    <component amount="UI" />
    <Version amount="3.1" />
    <rep_platform amount="All" />
    <op_sys amount="All" />
    <priority amount="P3" />
    <bug_severity amount="enhancement" />
    <Summery>[browsing] Select-All does not work in Members pane.</Summery>
    <Patches amount="0" />
    <Stacktraces amount="0" />
    <SourceCodeRegions amount="0" />
    <Enumerations amount="0" />
    <bug_status amount="RESOLVED" />
    <resolution amount="FIXED" />
    <WithStack>Version 3.1M3.

Select-All does not work in the Java Browsing Perspective's Members pane.

I would like to consolidate all my constant definitions from a bunch of little
classes into one class. In order to do so I want to click Ctrl-A in the Members
pane for each class and then refactor/move. Ctrl-A just beeps right now.

Thanks,
Gary
Martin, I think it's inconsistent that only some tree views support Select All (see bug 77067).
No longer true in 3.6 RC4. I guess it got fixed at some point.</WithStack>
    <WithOutStack>Version 3.1M3.

Select-All does not work in the Java Browsing Perspective's Members pane.

I would like to consolidate all my constant definitions from a bunch of little
classes into one class. In order to do so I want to click Ctrl-A in the Members
pane for each class and then refactor/move. Ctrl-A just beeps right now.

Thanks,
Gary
Martin, I think it's inconsistent that only some tree views support Select All (see bug 77067).
No longer true in 3.6 RC4. I guess it got fixed at some point.</WithOutStack>
  </Bug>
  <Bug>
    <BugId amount="81484" />
    <CreationDate amount="2004-12-16 19:54:00 -0500" />
    <DupId amount="" />
    <classification amount="Eclipse" />
    <Product amount="Platform" />
    <component amount="Ant" />
    <Version amount="3.1" />
    <rep_platform amount="PC" />
    <op_sys amount="Linux" />
    <priority amount="P3" />
    <bug_severity amount="normal" />
    <Summery>ConnectException in RemoteAntDebugBuildListener</Summery>
    <Patches amount="0" />
    <Stacktraces amount="1">
      <Stacktrace timestamp="1437341216886">
        <Exception>java.net.ConnectException</Exception>
        <Reason>Connection refused</Reason>
        <Frames>
          <Frame depth="0">java.net.PlainSocketImpl.socketConnect(Native Method)</Frame>
          <Frame depth="1">java.net.PlainSocketImpl.doConnect(PlainSocketImpl.java:331)</Frame>
          <Frame depth="2">java.net.PlainSocketImpl.connectToAddress(PlainSocketImpl.java:196)</Frame>
          <Frame depth="3">java.net.PlainSocketImpl.connect(PlainSocketImpl.java:183)</Frame>
          <Frame depth="4">java.net.Socket.connect(Socket.java:478)</Frame>
          <Frame depth="5">java.net.Socket.connect(Socket.java:428)</Frame>
          <Frame depth="6">java.net.Socket.&lt;init&gt;(Socket.java:335)</Frame>
          <Frame depth="7">java.net.Socket.&lt;init&gt;(Socket.java:150)</Frame>
          <Frame depth="8">org.eclipse.ant.internal.ui.debug.model.RemoteAntDebugBuildListener.connectRequest(RemoteAntDebugBuildListener.java)</Frame>
          <Frame depth="9">org.eclipse.ant.internal.ui.debug.model.RemoteAntDebugBuildListener.buildStarted(RemoteAntDebugBuildListener.java:121)</Frame>
          <Frame depth="10">org.eclipse.ant.internal.ui.debug.model.RemoteAntDebugBuildListener.receiveMessage(RemoteAntDebugBuildListener.java:81)</Frame>
          <Frame depth="11">org.eclipse.ant.internal.ui.launchConfigurations.RemoteAntBuildListener$ServerConnection.run(RemoteAntBuildListener.java:87)</Frame>
        </Frames>
      </Stacktrace>
    </Stacktraces>
    <SourceCodeRegions amount="0" />
    <Enumerations amount="0" />
    <bug_status amount="VERIFIED" />
    <resolution amount="FIXED" />
    <WithStack>While verifying bug 81479, I hit a lot of time the same problem. The debugger
would start and stall, nothing to do but terminate.

I debugged the problem a bit, and found that a ConnectionException is thrown
(and caught) when trying to connect to the remote part of the debugger.

java.net.ConnectException: Connection refused
	at java.net.PlainSocketImpl.socketConnect(Native Method)
	at java.net.PlainSocketImpl.doConnect(PlainSocketImpl.java:331)
	at java.net.PlainSocketImpl.connectToAddress(PlainSocketImpl.java:196)
	at java.net.PlainSocketImpl.connect(PlainSocketImpl.java:183)
	at java.net.Socket.connect(Socket.java:478)
	at java.net.Socket.connect(Socket.java:428)
	at java.net.Socket.&lt;init&gt;(Socket.java:335)
	at java.net.Socket.&lt;init&gt;(Socket.java:150)
	at
org.eclipse.ant.internal.ui.debug.model.RemoteAntDebugBuildListener.connectRequest(RemoteAntDebugBuildListener.java)
	at
org.eclipse.ant.internal.ui.debug.model.RemoteAntDebugBuildListener.buildStarted(RemoteAntDebugBuildListener.java:121)
	at
org.eclipse.ant.internal.ui.debug.model.RemoteAntDebugBuildListener.receiveMessage(RemoteAntDebugBuildListener.java:81)
	at
org.eclipse.ant.internal.ui.launchConfigurations.RemoteAntBuildListener$ServerConnection.run(RemoteAntBuildListener.java:87)

It looks like you try to access to the socket to early the server is not created
yet.
I added a Thread.sleep(500) to test, that worked fine. Maybe you should put the
socket connection in a loop and try to connect multiple time.
Fixed in RemoteAntDebugBuildListener
Please verify Kevin (since luc is going to be gone soooooo long :-) )
verified.
Added a break to UnknownHostException catch clause. If the host isn't known there is no reason to 
keep trying.</WithStack>
    <WithOutStack>While verifying bug 81479, I hit a lot of time the same problem. The debugger
would start and stall, nothing to do but terminate.

I debugged the problem a bit, and found that a ConnectionException is thrown
(and caught) when trying to connect to the remote part of the debugger.



It looks like you try to access to the socket to early the server is not created
yet.
I added a Thread.sleep(500) to test, that worked fine. Maybe you should put the
socket connection in a loop and try to connect multiple time.
Fixed in RemoteAntDebugBuildListener
Please verify Kevin (since luc is going to be gone soooooo long :-) )
verified.
Added a break to UnknownHostException catch clause. If the host isn't known there is no reason to 
keep trying.</WithOutStack>
  </Bug>
  <Bug>
    <BugId amount="81485" />
    <CreationDate amount="2004-12-16 20:32:00 -0500" />
    <DupId amount="" />
    <classification amount="Tools" />
    <Product amount="TPTP Probe Instrumentation" />
    <component amount="Platform.Execution.ProbekitBCI" />
    <Version amount="4.0" />
    <rep_platform amount="PC" />
    <op_sys amount="Windows XP" />
    <priority amount="P3" />
    <bug_severity amount="normal" />
    <Summery>Probekit compiler's verify function should throw if there are errors</Summery>
    <Patches amount="0" />
    <Stacktraces amount="0" />
    <SourceCodeRegions amount="0" />
    <Enumerations amount="0" />
    <bug_status amount="CLOSED" />
    <resolution amount="WORKSFORME" />
    <WithStack>In a malformed Probekit source file, it's possible that Fragment.getCode() will 
return Null. This condition is not checked in Compiler.java line 1588, where 
the fragment string is written into the generated source code buffer.

Somehow this malformed probe got through to generateSource() and ultimately 
emitOneProbeInnerClass even though verify() throws an error when any errors are 
reported, and a fragment with a null string for its code is something that 
verifyOneProbe detects and reports. I can't explain that, but I definitely see 
NullPointerException at emitOneProbeInnerClass line 1588, which emits 
frag.getCode().
Until I see a reproducing case I can't debug this further. There is a clear 
check for getCode returning null, and this reports an error, which sets the 
state to error, which causes verify() to throw an exception. So inspection does 
not indicate where this problem is.
As of TPTP 4.6.0, TPTP is in maintenance mode and focusing on improving quality by resolving relevant enhancements/defects and increasing test coverage through test creation, automation, Build Verification Tests (BVTs), and expanded run-time execution. As part of the TPTP Bugzilla housecleaning process (see http://wiki.eclipse.org/Bugzilla_Housecleaning_Processes), this enhancement/defect is verified/closed by the Project Lead since this enhancement/defect has been resolved and unverified for more than 1 year and considered to be fixed. If this enhancement/defect is still unresolved and reproducible in the latest TPTP release (http://www.eclipse.org/tptp/home/downloads/), please re-open.</WithStack>
    <WithOutStack>In a malformed Probekit source file, it's possible that Fragment.getCode() will 
return Null. This condition is not checked in Compiler.java line 1588, where 
the fragment string is written into the generated source code buffer.

Somehow this malformed probe got through to generateSource() and ultimately 
emitOneProbeInnerClass even though verify() throws an error when any errors are 
reported, and a fragment with a null string for its code is something that 
verifyOneProbe detects and reports. I can't explain that, but I definitely see 
NullPointerException at emitOneProbeInnerClass line 1588, which emits 
frag.getCode().
Until I see a reproducing case I can't debug this further. There is a clear 
check for getCode returning null, and this reports an error, which sets the 
state to error, which causes verify() to throw an exception. So inspection does 
not indicate where this problem is.
As of TPTP 4.6.0, TPTP is in maintenance mode and focusing on improving quality by resolving relevant enhancements/defects and increasing test coverage through test creation, automation, Build Verification Tests (BVTs), and expanded run-time execution. As part of the TPTP Bugzilla housecleaning process (see http://wiki.eclipse.org/Bugzilla_Housecleaning_Processes), this enhancement/defect is verified/closed by the Project Lead since this enhancement/defect has been resolved and unverified for more than 1 year and considered to be fixed. If this enhancement/defect is still unresolved and reproducible in the latest TPTP release (http://www.eclipse.org/tptp/home/downloads/), please re-open.</WithOutStack>
  </Bug>
  <Bug>
    <BugId amount="81486" />
    <CreationDate amount="2004-12-16 20:43:00 -0500" />
    <DupId amount="" />
    <classification amount="Tools" />
    <Product amount="TPTP Probe Instrumentation" />
    <component amount="Platform.Execution.ProbekitBCI" />
    <Version amount="4.1" />
    <rep_platform amount="PC" />
    <op_sys amount="Windows XP" />
    <priority amount="P3" />
    <bug_severity amount="minor" />
    <Summery>(Plat) Probekit static instrumenter driver can throw NullPointerException</Summery>
    <Patches amount="0" />
    <Stacktraces amount="0" />
    <SourceCodeRegions amount="0" />
    <Enumerations amount="0" />
    <bug_status amount="CLOSED" />
    <resolution amount="WONTFIX" />
    <WithStack>If the native probe instrumenter executable for the user's platform is not in 
the expected directory (os/win32/x86 for example) or the directory itself 
doesn't exist, ProbeInstrumenterDriver can throw NullPointerException. It would 
be better to throw a more structured exception that describes the error.
Allan,  this looks like it should be yours.
Now that we have a "3.3" Version in bugzilla, updating bugzillas targeted to 3.3
or a 3.3 iteration so that their Version matches their Target. "future",
"unspecified", "4.0", and "4.1" Versions will not be updated.
Moving to 4.1 and assigning to OC Systems. This is low priority since it only 
happens in the case of a broken Workbench installation.
reassigning to Allan
Closing as Wontfix. This only happens if your installation is botched, and in
that case Ghu knows what else can go wrong.
As of TPTP 4.6.0, TPTP is in maintenance mode and focusing on improving quality by resolving relevant enhancements/defects and increasing test coverage through test creation, automation, Build Verification Tests (BVTs), and expanded run-time execution. As part of the TPTP Bugzilla housecleaning process (see http://wiki.eclipse.org/Bugzilla_Housecleaning_Processes), this enhancement/defect is verified/closed by the Project Lead since this enhancement/defect has been resolved and unverified for more than 1 year and considered to be fixed. If this enhancement/defect is still unresolved and reproducible in the latest TPTP release (http://www.eclipse.org/tptp/home/downloads/), please re-open.</WithStack>
    <WithOutStack>If the native probe instrumenter executable for the user's platform is not in 
the expected directory (os/win32/x86 for example) or the directory itself 
doesn't exist, ProbeInstrumenterDriver can throw NullPointerException. It would 
be better to throw a more structured exception that describes the error.
Allan,  this looks like it should be yours.
Now that we have a "3.3" Version in bugzilla, updating bugzillas targeted to 3.3
or a 3.3 iteration so that their Version matches their Target. "future",
"unspecified", "4.0", and "4.1" Versions will not be updated.
Moving to 4.1 and assigning to OC Systems. This is low priority since it only 
happens in the case of a broken Workbench installation.
reassigning to Allan
Closing as Wontfix. This only happens if your installation is botched, and in
that case Ghu knows what else can go wrong.
As of TPTP 4.6.0, TPTP is in maintenance mode and focusing on improving quality by resolving relevant enhancements/defects and increasing test coverage through test creation, automation, Build Verification Tests (BVTs), and expanded run-time execution. As part of the TPTP Bugzilla housecleaning process (see http://wiki.eclipse.org/Bugzilla_Housecleaning_Processes), this enhancement/defect is verified/closed by the Project Lead since this enhancement/defect has been resolved and unverified for more than 1 year and considered to be fixed. If this enhancement/defect is still unresolved and reproducible in the latest TPTP release (http://www.eclipse.org/tptp/home/downloads/), please re-open.</WithOutStack>
  </Bug>
  <Bug>
    <BugId amount="81487" />
    <CreationDate amount="2004-12-16 21:29:00 -0500" />
    <DupId amount="" />
    <classification amount="Modeling" />
    <Product amount="MDT.XSD" />
    <component amount="Core" />
    <Version amount="2.1.0" />
    <rep_platform amount="All" />
    <op_sys amount="All" />
    <priority amount="P3" />
    <bug_severity amount="enhancement" />
    <Summery>add methods to get named components relative to a schema</Summery>
    <Patches amount="0" />
    <Stacktraces amount="0" />
    <SourceCodeRegions amount="3">
      <source_code type="functioncall">
        <location start="816" end="881" />
        <code>targetNamespace, localName}, StringPairComparator.getInstance());</code>
      </source_code>
      <source_code type="ifstatement">
        <location start="882" end="931" />
        <code>if (index &lt; 0)
    {
      return null;
    }</code>
      </source_code>
      <source_code type="elsestatement">
        <location start="932" end="1015" />
        <code>else
    {
      return (XSDNamedComponent)xsdNamedComponents.get(index);
    }</code>
      </source_code>
    </SourceCodeRegions>
    <Enumerations amount="0" />
    <bug_status amount="VERIFIED" />
    <resolution amount="FIXED" />
    <WithStack>Please add methods to XSDSchema to get the named components relative to a 
schema.  For example:

XSDTypeDefinition getTypeDefinition(String namespace, String localName) 
XSDElementDeclaration getElementDeclaration(String namespace, String localName) 
XSDIdentityConstraintDefinition getIdentityConstraintDefinition(String 
namespace, String localName)
...

These methods would search the appropriate sorted list of names in the schema, 
essentially mimicing the behavior of the resolve methods prior to Eclipse XSD 
2.1.
James, 

What if I provided a method like this (from XSDNamedComponentImpl) in XSDUtil:

  public static XSDNamedComponent findInSortedList(List xsdNamedComponents,
String targetNamespace, String localName)
  {
    int index =
      Collections.binarySearch(xsdNamedComponents, new String [] {
targetNamespace, localName}, StringPairComparator.getInstance());
    if (index &lt; 0)
    {
      return null;
    }
    else
    {
      return (XSDNamedComponent)xsdNamedComponents.get(index);
    }
  }

You could use it to search any of the schema's lists like this:

  XSDUtil.findInSortedList(xsdSchema.getTypeDefinitions(), namespace, name)

It's a little less handy, but less obstrusive for the API (and less likely to
confuse folks using the API, although harder to find).
Ed,

Your solution would work fine for me.  Thanks,

    James

The change to add XSDUtil.findInSortedList was committed to CVS.
One more late X-mas present, please, Santa: don't you want to make the method 
static?  Thanks,

    James
So you want to trade santa's gift in for one that works! 
Well, isn't that picky!! ;-)

Done...
Changes committed to Build 2.1.0.I200501041213
Move to verified as per bug 206558.</WithStack>
    <WithOutStack>Please add methods to XSDSchema to get the named components relative to a 
schema.  For example:

XSDTypeDefinition getTypeDefinition(String namespace, String localName) 
XSDElementDeclaration getElementDeclaration(String namespace, String localName) 
XSDIdentityConstraintDefinition getIdentityConstraintDefinition(String 
namespace, String localName)
...

These methods would search the appropriate sorted list of names in the schema, 
essentially mimicing the behavior of the resolve methods prior to Eclipse XSD 
2.1.
James, 

What if I provided a method like this (from XSDNamedComponentImpl) in XSDUtil:

  public static XSDNamedComponent findInSortedList(List xsdNamedComponents,
String targetNamespace, String localName)
  {
    int index =
      Collections.binarySearch(xsdNamedComponents, new String [] {
targetNamespace, localName}, StringPairComparator.getInstance());
    if (index &lt; 0)
    {
      return null;
    }
    else
    {
      return (XSDNamedComponent)xsdNamedComponents.get(index);
    }
  }

You could use it to search any of the schema's lists like this:

  XSDUtil.findInSortedList(xsdSchema.getTypeDefinitions(), namespace, name)

It's a little less handy, but less obstrusive for the API (and less likely to
confuse folks using the API, although harder to find).
Ed,

Your solution would work fine for me.  Thanks,

    James

The change to add XSDUtil.findInSortedList was committed to CVS.
One more late X-mas present, please, Santa: don't you want to make the method 
static?  Thanks,

    James
So you want to trade santa's gift in for one that works! 
Well, isn't that picky!! ;-)

Done...
Changes committed to Build 2.1.0.I200501041213
Move to verified as per bug 206558.</WithOutStack>
  </Bug>
  <Bug>
    <BugId amount="81488" />
    <CreationDate amount="2004-12-16 22:33:00 -0500" />
    <DupId amount="" />
    <classification amount="Tools" />
    <Product amount="CDT" />
    <component amount="cdt-build" />
    <Version amount="2.1" />
    <rep_platform amount="All" />
    <op_sys amount="All" />
    <priority amount="P3" />
    <bug_severity amount="normal" />
    <Summery>Conversion of projects from 1.2 to 2.1 mishandles String options</Summery>
    <Patches amount="0" />
    <Stacktraces amount="0" />
    <SourceCodeRegions amount="0" />
    <Enumerations amount="0" />
    <bug_status amount="RESOLVED" />
    <resolution amount="FIXED" />
    <WithStack>When a project is converted from 1.2 to 2.1, the String option values are lost.
Fixed in 2.1 &amp; Head</WithStack>
    <WithOutStack>When a project is converted from 1.2 to 2.1, the String option values are lost.
Fixed in 2.1 &amp; Head</WithOutStack>
  </Bug>
  <Bug>
    <BugId amount="81489" />
    <CreationDate amount="2004-12-16 22:35:00 -0500" />
    <DupId amount="" />
    <classification amount="Tools" />
    <Product amount="CDT" />
    <component amount="cdt-build" />
    <Version amount="2.1" />
    <rep_platform amount="All" />
    <op_sys amount="All" />
    <priority amount="P3" />
    <bug_severity amount="normal" />
    <Summery>The getCommandLinePattern method does not check the superclass if null</Summery>
    <Patches amount="0" />
    <Stacktraces amount="0" />
    <SourceCodeRegions amount="0" />
    <Enumerations amount="0" />
    <bug_status amount="RESOLVED" />
    <resolution amount="FIXED" />
    <WithStack>If a Tool has no commandLinePattern attribute, the getCommandLinePattern method 
should ask its superclass for its value.  It currently doesn't.
Fixed in 2.1 &amp; Head.</WithStack>
    <WithOutStack>If a Tool has no commandLinePattern attribute, the getCommandLinePattern method 
should ask its superclass for its value.  It currently doesn't.
Fixed in 2.1 &amp; Head.</WithOutStack>
  </Bug>
  <Bug>
    <BugId amount="81490" />
    <CreationDate amount="2004-12-17 01:37:00 -0500" />
    <DupId amount="" />
    <classification amount="Eclipse Foundation" />
    <Product amount="z_Archived" />
    <component amount="Hyades" />
    <Version amount="unspecified" />
    <rep_platform amount="PC" />
    <op_sys amount="Windows 2000" />
    <priority amount="P3" />
    <bug_severity amount="normal" />
    <Summery>(Plat) Control characters in log file causes GLA to generate invalid XML for CommonBaseEvents</Summery>
    <Patches amount="0" />
    <Stacktraces amount="0" />
    <SourceCodeRegions amount="2">
      <source_code type="functioncall">
        <location start="2558" end="2609" />
        <code>normalizedString.append(character);</code>
      </source_code>
      <source_code type="functioncall">
        <location start="2611" end="2677" />
        <code>normalizedString.append(string.charAt(++counter));</code>
      </source_code>
    </SourceCodeRegions>
    <Enumerations amount="0" />
    <bug_status amount="CLOSED" />
    <resolution amount="FIXED" />
    <WithStack>When a log file contains control characters such as x01, the GLA Outputter 
generates invalid XML for the CommonBaseEvents that include these control 
characters.  The resulting XML cannot be loaded into the model during a log 
import operation.  Exceptions like the following are printed to the console 
when the eclipse workbench is started with -console option.

Thread[ModalContext,6,main] - org.xml.sax.SAXParseException: An invalid XML 
character (Unicode: 0x1) was found in the value of attribute "msg" and element 
is "CommonBaseEvent".
	at org.apache.xerces.util.ErrorHandlerWrapper.createSAXParseException
(Unknown Source)
	at org.apache.xerces.util.ErrorHandlerWrapper.fatalError(Unknown Source)
	at org.apache.xerces.impl.XMLErrorReporter.reportError(Unknown Source)
	at org.apache.xerces.impl.XMLErrorReporter.reportError(Unknown Source)
	at org.apache.xerces.impl.XMLScanner.reportFatalError(Unknown Source)
	at org.apache.xerces.impl.XMLScanner.scanAttributeValue(Unknown Source)
	at org.apache.xerces.impl.XMLDocumentFragmentScannerImpl.scanAttribute
(Unknown Source)
	at 
org.apache.xerces.impl.XMLDocumentFragmentScannerImpl.scanStartElement(Unknown 
Source)
	at 
org.apache.xerces.impl.XMLDocumentFragmentScannerImpl$FragmentContentDispatcher.
dispatch(Unknown Source)
	at org.apache.xerces.impl.XMLDocumentFragmentScannerImpl.scanDocument
(Unknown Source)
	at org.apache.xerces.parsers.XML11Configuration.parse(Unknown Source)
	at org.apache.xerces.parsers.XML11Configuration.parse(Unknown Source)
	at org.apache.xerces.parsers.XMLParser.parse(Unknown Source)
	at org.apache.xerces.parsers.AbstractSAXParser.parse(Unknown Source)
	at javax.xml.parsers.SAXParser.parse(Unknown Source)
	at org.eclipse.hyades.loaders.util.SAXFragmentHandler.parse
(SAXFragmentHandler.java)
	at org.eclipse.hyades.loaders.util.SAXFragmentHandler$1.run
(SAXFragmentHandler.java)


I have traced this problem down to the Outputter calling utility methods to 
convert the CBE to XML which eventually call the 
EventFormatter.toCanonicalXMLString() method which results in some of the 
string values being normalized with the 
org.eclipse.hyades.logging.core.XMLUtility.normalize() method.

XMLUtility.normalize() contains code to handle UTF-32 characters and 0x0001 is 
a part of a valid UTF-32 character.  But it is not valid UTF-8 character which 
the loader expects when it parses the XML.

Here is the code in normalize to handle UTF-32 characters:

            else if ((character &gt;= 0x0001) &amp;&amp; (character &lt;= 0x0010) &amp;&amp; 
((counter + 1) &lt; stringLength)) {

                normalizedString.append(character);

                normalizedString.append(string.charAt(++counter));
            }

One solution is to comment this code out.  The XML 1.0 Specification does not 
explicitly say that UTF-32 is supported.
Targetting this to 3.3 because the problem affects only a small percentage of 
log files but the change to fix this requires a full regression test of log 
parsing.
assign by request from Dave
Paul, can you please fix XMLUtility.normalize method.
Since the XML v1.0 specification does not explicitly support the UTF-32 
encoding, removed UTF-32 support from normalization API.

The following code has been checked-in to Hyades and TPTP HEAD on January 28, 
2004:

-XmlUtility.java
-XmlUtilityTest.java
As of TPTP 4.6.0, TPTP is in maintenance mode and focusing on improving quality by resolving relevant enhancements/defects and increasing test coverage through test creation, automation, Build Verification Tests (BVTs), and expanded run-time execution. As part of the TPTP Bugzilla housecleaning process (see http://wiki.eclipse.org/Bugzilla_Housecleaning_Processes), this enhancement/defect is verified/closed by the Project Lead since this originator of this enhancement/defect has an inactive Bugzilla account and considered to be fixed. If this enhancement/defect is still unresolved and reproducible in the latest TPTP release (http://www.eclipse.org/tptp/home/downloads/), please re-open.</WithStack>
    <WithOutStack>When a log file contains control characters such as x01, the GLA Outputter 
generates invalid XML for the CommonBaseEvents that include these control 
characters.  The resulting XML cannot be loaded into the model during a log 
import operation.  Exceptions like the following are printed to the console 
when the eclipse workbench is started with -console option.

Thread[ModalContext,6,main] - org.xml.sax.SAXParseException: An invalid XML 
character (Unicode: 0x1) was found in the value of attribute "msg" and element 
is "CommonBaseEvent".
	at org.apache.xerces.util.ErrorHandlerWrapper.createSAXParseException
(Unknown Source)
	at org.apache.xerces.util.ErrorHandlerWrapper.fatalError(Unknown Source)
	at org.apache.xerces.impl.XMLErrorReporter.reportError(Unknown Source)
	at org.apache.xerces.impl.XMLErrorReporter.reportError(Unknown Source)
	at org.apache.xerces.impl.XMLScanner.reportFatalError(Unknown Source)
	at org.apache.xerces.impl.XMLScanner.scanAttributeValue(Unknown Source)
	at org.apache.xerces.impl.XMLDocumentFragmentScannerImpl.scanAttribute
(Unknown Source)
	at 
org.apache.xerces.impl.XMLDocumentFragmentScannerImpl.scanStartElement(Unknown 
Source)
	at 
org.apache.xerces.impl.XMLDocumentFragmentScannerImpl$FragmentContentDispatcher.
dispatch(Unknown Source)
	at org.apache.xerces.impl.XMLDocumentFragmentScannerImpl.scanDocument
(Unknown Source)
	at org.apache.xerces.parsers.XML11Configuration.parse(Unknown Source)
	at org.apache.xerces.parsers.XML11Configuration.parse(Unknown Source)
	at org.apache.xerces.parsers.XMLParser.parse(Unknown Source)
	at org.apache.xerces.parsers.AbstractSAXParser.parse(Unknown Source)
	at javax.xml.parsers.SAXParser.parse(Unknown Source)
	at org.eclipse.hyades.loaders.util.SAXFragmentHandler.parse
(SAXFragmentHandler.java)
	at org.eclipse.hyades.loaders.util.SAXFragmentHandler$1.run
(SAXFragmentHandler.java)


I have traced this problem down to the Outputter calling utility methods to 
convert the CBE to XML which eventually call the 
EventFormatter.toCanonicalXMLString() method which results in some of the 
string values being normalized with the 
org.eclipse.hyades.logging.core.XMLUtility.normalize() method.

XMLUtility.normalize() contains code to handle UTF-32 characters and 0x0001 is 
a part of a valid UTF-32 character.  But it is not valid UTF-8 character which 
the loader expects when it parses the XML.

Here is the code in normalize to handle UTF-32 characters:

            else if ((character &gt;= 0x0001) &amp;&amp; (character &lt;= 0x0010) &amp;&amp; 
((counter + 1) &lt; stringLength)) {

                normalizedString.append(character);

                normalizedString.append(string.charAt(++counter));
            }

One solution is to comment this code out.  The XML 1.0 Specification does not 
explicitly say that UTF-32 is supported.
Targetting this to 3.3 because the problem affects only a small percentage of 
log files but the change to fix this requires a full regression test of log 
parsing.
assign by request from Dave
Paul, can you please fix XMLUtility.normalize method.
Since the XML v1.0 specification does not explicitly support the UTF-32 
encoding, removed UTF-32 support from normalization API.

The following code has been checked-in to Hyades and TPTP HEAD on January 28, 
2004:

-XmlUtility.java
-XmlUtilityTest.java
As of TPTP 4.6.0, TPTP is in maintenance mode and focusing on improving quality by resolving relevant enhancements/defects and increasing test coverage through test creation, automation, Build Verification Tests (BVTs), and expanded run-time execution. As part of the TPTP Bugzilla housecleaning process (see http://wiki.eclipse.org/Bugzilla_Housecleaning_Processes), this enhancement/defect is verified/closed by the Project Lead since this originator of this enhancement/defect has an inactive Bugzilla account and considered to be fixed. If this enhancement/defect is still unresolved and reproducible in the latest TPTP release (http://www.eclipse.org/tptp/home/downloads/), please re-open.</WithOutStack>
  </Bug>
  <Bug>
    <BugId amount="81491" />
    <CreationDate amount="2004-12-17 02:24:00 -0500" />
    <DupId amount="81014" />
    <classification amount="Eclipse" />
    <Product amount="Platform" />
    <component amount="SWT" />
    <Version amount="3.0.1" />
    <rep_platform amount="PC" />
    <op_sys amount="Windows XP" />
    <priority amount="P3" />
    <bug_severity amount="normal" />
    <Summery>[OLE] Failed to create Ole Client on XP with Norton AntiVirus</Summery>
    <Patches amount="0" />
    <Stacktraces amount="1">
      <Cause timestamp="1437341216894">
        <Exception>org.eclipse.swt.SWTException</Exception>
        <Reason>Failed to create Ole Client. result 
= -2147467262</Reason>
        <Frames>
          <Frame depth="0">org.eclipse.swt.ole.win32.OLE.error(OLE.java:302)</Frame>
          <Frame depth="1">org.eclipse.swt.ole.win32.OleControlSite.&lt;init&gt;(OleControlSite.java:100)</Frame>
          <Frame depth="2">com.impart.ole.outlook.Application.&lt;init&gt;(Application.java:31)</Frame>
        </Frames>
      </Cause>
    </Stacktraces>
    <SourceCodeRegions amount="0" />
    <Enumerations amount="0" />
    <bug_status amount="RESOLVED" />
    <resolution amount="DUPLICATE" />
    <WithStack>It is not possible to create a Outlook or Word Ole Client if the Norton 
AntiVirus Programm is running. The Problem is that in the registry is a 
InProcServer32 entry with value:
C:\Programme\Gemeinsame Dateien\Symantec Shared\Script Blocking\ScrBlock.dll

If I delete this entry then the creation of a Outlook or Word Client works 
fine.


Plattform and Error of Eclipse:
Version: 3.0.1
Build id: 200409161125

Caused by: org.eclipse.swt.SWTException: Failed to create Ole Client. result 
= -2147467262
	at org.eclipse.swt.ole.win32.OLE.error(OLE.java:302)
	at org.eclipse.swt.ole.win32.OleControlSite.&lt;init&gt;
(OleControlSite.java:100)
	at com.impart.ole.outlook.Application.&lt;init&gt;(Application.java:31)


*** This bug has been marked as a duplicate of bug 81014 ***</WithStack>
    <WithOutStack>It is not possible to create a Outlook or Word Ole Client if the Norton 
AntiVirus Programm is running. The Problem is that in the registry is a 
InProcServer32 entry with value:
C:\Programme\Gemeinsame Dateien\Symantec Shared\Script Blocking\ScrBlock.dll

If I delete this entry then the creation of a Outlook or Word Client works 
fine.


Plattform and Error of Eclipse:
Version: 3.0.1
Build id: 200409161125




*** This bug has been marked as a duplicate of bug 81014 ***</WithOutStack>
  </Bug>
  <Bug>
    <BugId amount="81492" />
    <CreationDate amount="2004-12-17 02:34:00 -0500" />
    <DupId amount="" />
    <classification amount="Eclipse" />
    <Product amount="Platform" />
    <component amount="UI" />
    <Version amount="3.1" />
    <rep_platform amount="PC" />
    <op_sys amount="Windows XP" />
    <priority amount="P3" />
    <bug_severity amount="normal" />
    <Summery>[Workbench] inability to get focus</Summery>
    <Patches amount="0" />
    <Stacktraces amount="0" />
    <SourceCodeRegions amount="0" />
    <Enumerations amount="0" />
    <bug_status amount="RESOLVED" />
    <resolution amount="INVALID" />
    <WithStack>using i1214 (and for the past few months)

I have a layout where my perspective is only editor area and the various 
explorers etc are in torn off views.  I frequently (though not always) get in a 
state were if there are no editors open in the main window, it is impossible 
for me to get focus into the main window.  As a result I cannot pull down any 
menus.  If I do have editors open than I have to click in one of the editors 
before I can use the editors.

This is very frustrating and basically forces me to open some random file just 
to get focus.
is this an issue in 3.2?
As of now 'LATER' and 'REMIND' resolutions are no longer supported.
Please reopen this bug if it is still valid for you.</WithStack>
    <WithOutStack>using i1214 (and for the past few months)

I have a layout where my perspective is only editor area and the various 
explorers etc are in torn off views.  I frequently (though not always) get in a 
state were if there are no editors open in the main window, it is impossible 
for me to get focus into the main window.  As a result I cannot pull down any 
menus.  If I do have editors open than I have to click in one of the editors 
before I can use the editors.

This is very frustrating and basically forces me to open some random file just 
to get focus.
is this an issue in 3.2?
As of now 'LATER' and 'REMIND' resolutions are no longer supported.
Please reopen this bug if it is still valid for you.</WithOutStack>
  </Bug>
  <Bug>
    <BugId amount="81493" />
    <CreationDate amount="2004-12-17 03:36:00 -0500" />
    <DupId amount="" />
    <classification amount="Eclipse" />
    <Product amount="JDT" />
    <component amount="Text" />
    <Version amount="3.1" />
    <rep_platform amount="PC" />
    <op_sys amount="Windows XP" />
    <priority amount="P3" />
    <bug_severity amount="minor" />
    <Summery>[nls tooling] Properties File editor does not properly color first = or : on continuation lines</Summery>
    <Patches amount="0" />
    <Stacktraces amount="0" />
    <SourceCodeRegions amount="0" />
    <Enumerations amount="0" />
    <bug_status amount="VERIFIED" />
    <resolution amount="FIXED" />
    <WithStack>I200412162000

[nls tooling] Properties File editor does not properly color first = or : on
continuation lines. In this example, all = and : characters are black, although
those on continuation lines should be blue:

key1= value\n\
notakey1= value2

key2: value\n\
notakey2: value2
Similar examples which don't work:

key1 = : value
key1=:value
key : = value


*** Bug 80198 has been marked as a duplicate of this bug. ***
Created attachment 182487
fix
(In reply to comment #3)
&gt; Created an attachment (id=182487) [details] [diff]
&gt; fix

Fixed in HEAD.
Verified for 3.7 M4 with I20101206-1800.</WithStack>
    <WithOutStack>I200412162000

[nls tooling] Properties File editor does not properly color first = or : on
continuation lines. In this example, all = and : characters are black, although
those on continuation lines should be blue:

key1= value\n\
notakey1= value2

key2: value\n\
notakey2: value2
Similar examples which don't work:

key1 = : value
key1=:value
key : = value


*** Bug 80198 has been marked as a duplicate of this bug. ***
Created attachment 182487
fix
(In reply to comment #3)
&gt; Created an attachment (id=182487) [details] [diff]
&gt; fix

Fixed in HEAD.
Verified for 3.7 M4 with I20101206-1800.</WithOutStack>
  </Bug>
  <Bug>
    <BugId amount="81494" />
    <CreationDate amount="2004-12-17 04:15:00 -0500" />
    <DupId amount="43691" />
    <classification amount="Eclipse" />
    <Product amount="Platform" />
    <component amount="UI" />
    <Version amount="3.1" />
    <rep_platform amount="PC" />
    <op_sys amount="Windows 2000" />
    <priority amount="P3" />
    <bug_severity amount="normal" />
    <Summery>[Keybindings] Shortcut keybinding cannot be dynamically defined (Command related)</Summery>
    <Patches amount="0" />
    <Stacktraces amount="0" />
    <SourceCodeRegions amount="0" />
    <Enumerations amount="0" />
    <bug_status amount="RESOLVED" />
    <resolution amount="DUPLICATE" />
    <WithStack>Commands can only be defined in the manifest and consequently must be known
prior to runtime, this has a knock-on effect that shortcut key bindings must
also be defined statically.  Sometimes it is desirable for key bindings to be
dynamically defined.  In our case the key bindings are defined based on messages
from a remote server once an RCP app is up and running, it is impossible to know
what these are prior to runtime.  This problem is a severe limitation for us. 
Would exposing the API for programmatically creating commands solve this problem?


*** This bug has been marked as a duplicate of 43691 ***</WithStack>
    <WithOutStack>Commands can only be defined in the manifest and consequently must be known
prior to runtime, this has a knock-on effect that shortcut key bindings must
also be defined statically.  Sometimes it is desirable for key bindings to be
dynamically defined.  In our case the key bindings are defined based on messages
from a remote server once an RCP app is up and running, it is impossible to know
what these are prior to runtime.  This problem is a severe limitation for us. 
Would exposing the API for programmatically creating commands solve this problem?


*** This bug has been marked as a duplicate of 43691 ***</WithOutStack>
  </Bug>
  <Bug>
    <BugId amount="81495" />
    <CreationDate amount="2004-12-17 04:25:00 -0500" />
    <DupId amount="" />
    <classification amount="Eclipse" />
    <Product amount="Platform" />
    <component amount="UI" />
    <Version amount="3.1" />
    <rep_platform amount="PC" />
    <op_sys amount="Windows 2000" />
    <priority amount="P3" />
    <bug_severity amount="normal" />
    <Summery>[EditorMgmt] Text editor should be notified when closed</Summery>
    <Patches amount="0" />
    <Stacktraces amount="0" />
    <SourceCodeRegions amount="0" />
    <Enumerations amount="0" />
    <bug_status amount="RESOLVED" />
    <resolution amount="WORKSFORME" />
    <WithStack>Currently the text editor (AbstractTextEditor) is not notified when it is
closed.  It is the case that it is sometimes necessary to perform computation
prior to disposing of the text editor.  The doSave(..) method provides for this
if the text editor is dirty - however some applications (like ours) do not make
use of this API (for a number of reasons including not wanting to ask the user
to save the text, not wanting to display the * on the editor).  Unfortunately by
the time dispose() is called, the text editor's document has been lost.  I
request that a new method is added to TextEditor "aboutToClose()" which is fired
as soon as the user closes the editor.
What about overriding "isSaveOnCloseNeeded" to return true? 
As far as I remember, that method currently never gets called.  If it got called
when (and only when) the editor has received a closed event - then it would do
just fine!
And why don't you want the user to be prompted to save?  What kind of editor 
are you creating? 
A couple of reasons for wanting this functionality.

o The editor we are creating is a "thin client" editor which communicates with a
server.  The server has a model of dialog interaction with the user which we
want to use rather than that of Eclipse's.

o For some of our editor's the notion of "save" is inappropriate since the text
is not saved but compiled and assembled (we backwards engineer the text).
Moving Dougs bugs
As per http://wiki.eclipse.org/Platform_UI/Bug_Triage_Change_2009
Remy is now responsible for watching the [EditorMgmt] component area.
Is this still an issue, James? The isSaveOnCloseNeeded() seems to be called for me when I click the 'X' button to close the editor.
(In reply to comment #8)
&gt; Is this still an issue, James? The isSaveOnCloseNeeded() seems to be called for
&gt; me when I click the 'X' button to close the editor.

James, please reopen if the method is not being called for you.</WithStack>
    <WithOutStack>Currently the text editor (AbstractTextEditor) is not notified when it is
closed.  It is the case that it is sometimes necessary to perform computation
prior to disposing of the text editor.  The doSave(..) method provides for this
if the text editor is dirty - however some applications (like ours) do not make
use of this API (for a number of reasons including not wanting to ask the user
to save the text, not wanting to display the * on the editor).  Unfortunately by
the time dispose() is called, the text editor's document has been lost.  I
request that a new method is added to TextEditor "aboutToClose()" which is fired
as soon as the user closes the editor.
What about overriding "isSaveOnCloseNeeded" to return true? 
As far as I remember, that method currently never gets called.  If it got called
when (and only when) the editor has received a closed event - then it would do
just fine!
And why don't you want the user to be prompted to save?  What kind of editor 
are you creating? 
A couple of reasons for wanting this functionality.

o The editor we are creating is a "thin client" editor which communicates with a
server.  The server has a model of dialog interaction with the user which we
want to use rather than that of Eclipse's.

o For some of our editor's the notion of "save" is inappropriate since the text
is not saved but compiled and assembled (we backwards engineer the text).
Moving Dougs bugs
As per http://wiki.eclipse.org/Platform_UI/Bug_Triage_Change_2009
Remy is now responsible for watching the [EditorMgmt] component area.
Is this still an issue, James? The isSaveOnCloseNeeded() seems to be called for me when I click the 'X' button to close the editor.
(In reply to comment #8)
&gt; Is this still an issue, James? The isSaveOnCloseNeeded() seems to be called for
&gt; me when I click the 'X' button to close the editor.

James, please reopen if the method is not being called for you.</WithOutStack>
  </Bug>
  <Bug>
    <BugId amount="81496" />
    <CreationDate amount="2004-12-17 04:44:00 -0500" />
    <DupId amount="" />
    <classification amount="Eclipse" />
    <Product amount="Platform" />
    <component amount="Debug" />
    <Version amount="3.1" />
    <rep_platform amount="PC" />
    <op_sys amount="Windows XP" />
    <priority amount="P3" />
    <bug_severity amount="normal" />
    <Summery>Console with Hyperlinks: can't see selection inside link</Summery>
    <Patches amount="0" />
    <Stacktraces amount="0" />
    <SourceCodeRegions amount="0" />
    <Enumerations amount="0" />
    <bug_status amount="RESOLVED" />
    <resolution amount="WORKSFORME" />
    <WithStack>I20041216-2000

In a console containing a java stacktrace, move the mouse over a stack entry
such that the hyperlink becomes underlined. Now select a single word on this line.

Expected: Selection is visible, link remains underlined.

Was: Selection is not visible (only the cursor blinks); link remains underlined,
but looks as if nothing was selected.

The missing feedback makes it difficult to select and copy something. Moving the
mouse away from the link with the selection makes the selection visible.

Works correctly in the java editor when holding Ctrl and e.g. pointing to a
selected type name.
This works for me in 3.1M5a</WithStack>
    <WithOutStack>I20041216-2000

In a console containing a java stacktrace, move the mouse over a stack entry
such that the hyperlink becomes underlined. Now select a single word on this line.

Expected: Selection is visible, link remains underlined.

Was: Selection is not visible (only the cursor blinks); link remains underlined,
but looks as if nothing was selected.

The missing feedback makes it difficult to select and copy something. Moving the
mouse away from the link with the selection makes the selection visible.

Works correctly in the java editor when holding Ctrl and e.g. pointing to a
selected type name.
This works for me in 3.1M5a</WithOutStack>
  </Bug>
  <Bug>
    <BugId amount="81497" />
    <CreationDate amount="2004-12-17 04:46:00 -0500" />
    <DupId amount="" />
    <classification amount="Eclipse" />
    <Product amount="JDT" />
    <component amount="Core" />
    <Version amount="3.0.1" />
    <rep_platform amount="PC" />
    <op_sys amount="Windows XP" />
    <priority amount="P3" />
    <bug_severity amount="normal" />
    <Summery>[format] Wrong feeding after array-initialization</Summery>
    <Patches amount="0" />
    <Stacktraces amount="0" />
    <SourceCodeRegions amount="1">
      <source_code type="functiondef">
        <location start="72" end="181" />
        <code>public String[] getStrings() 
{
   if (b) 
   {
      return new String[] {};
}  // &lt;&lt; wrong feed
return x;
}</code>
      </source_code>
    </SourceCodeRegions>
    <Enumerations amount="0" />
    <bug_status amount="VERIFIED" />
    <resolution amount="FIXED" />
    <WithStack>The following code fragment lacks one feed in line 6 after formatting:

public String[] getStrings() 
{
   if (b) 
   {
      return new String[] {};
}  // &lt;&lt; wrong feed
return x;
}
Fixed and released in HEAD.
Regression tests added in FormatterRegressionTests.test560/561.
I could not reproduce with latest. So this should not be considered as fixed.
Reopen to close as WORKSFORME.
Closing as WORKSFORME.
I added regressions tests as mentionned in comment 1.
Reopen to close as FIXED.
By reverting change for bug 89299 I was abble to reproduce it.

Fixed and released in HEAD.
Same regression tests.
Verified in 20050330-0500</WithStack>
    <WithOutStack>The following code fragment lacks one feed in line 6 after formatting:

public String[] getStrings() 
{
   if (b) 
   {
      return new String[] {};
}  // &lt;&lt; wrong feed
return x;
}
Fixed and released in HEAD.
Regression tests added in FormatterRegressionTests.test560/561.
I could not reproduce with latest. So this should not be considered as fixed.
Reopen to close as WORKSFORME.
Closing as WORKSFORME.
I added regressions tests as mentionned in comment 1.
Reopen to close as FIXED.
By reverting change for bug 89299 I was abble to reproduce it.

Fixed and released in HEAD.
Same regression tests.
Verified in 20050330-0500</WithOutStack>
  </Bug>
  <Bug>
    <BugId amount="81498" />
    <CreationDate amount="2004-12-17 04:54:00 -0500" />
    <DupId amount="" />
    <classification amount="Eclipse" />
    <Product amount="JDT" />
    <component amount="Core" />
    <Version amount="3.1" />
    <rep_platform amount="PC" />
    <op_sys amount="Windows XP" />
    <priority amount="P3" />
    <bug_severity amount="enhancement" />
    <Summery>[search] ITypeNameRequestor should support enums and annotations as well</Summery>
    <Patches amount="0" />
    <Stacktraces amount="0" />
    <SourceCodeRegions amount="0" />
    <Enumerations amount="0" />
    <bug_status amount="VERIFIED" />
    <resolution amount="FIXED" />
    <WithStack>To render the correct icon for enums and annotations in the Open Type dialog the
search engine has to report this information via the ITypeNameRequestor.
Unfortunately since clients implement this interface, we cannot modify it. We
should deprecate it and replace it with a class with a default behavior.
Detection of circular annotations does not blocks the implementation of this
enhancement =&gt; remove dependency.

It would be nice if the new API would just return the modifier flags and solve
bug 36896 as well.
Dirk,

Proposal to match your requirement would be to have a new class
org.eclipse.jdt.core.search.TypeNameRequestor. I'll attach it to this bug to
make its review easier...

Of course interface ITypeNameRequestor would be deprecated and SearchEngine will
continue to assume its use transparently.

I've verified that's assumption was true by running all JDT/UI tests with new
implementation and got no error :-)

Created attachment 18593
TypeNameRequestor.java

Let me know asap if this class matches your requirement, thx
Frederic, can you clarify on the parameter

@param access the restriction access for the type. &lt;code&gt;null&lt;/code&gt; means no
restriction.


Sorry, AccessRestriction is currently JDT/Core internal, so it should never be
presented in this API... You can forget it.

Then the API is fine with me.
Created attachment 18687
New version for TypeNameRequestor

Internal parameter access restriction removed + Update modifiers param javadoc
Fixed.

TypeNameRequestor now replaces deprecated ITypeNameRequestor.

[jdt-core-internal]
No specific test cases added, just keep OldSearchTests using deprecated
interface to verify that search engine assume backward compatibility and modify
all other clients to use new class...

Verified in I20050330-0500
Verified in I20050330-0500</WithStack>
    <WithOutStack>To render the correct icon for enums and annotations in the Open Type dialog the
search engine has to report this information via the ITypeNameRequestor.
Unfortunately since clients implement this interface, we cannot modify it. We
should deprecate it and replace it with a class with a default behavior.
Detection of circular annotations does not blocks the implementation of this
enhancement =&gt; remove dependency.

It would be nice if the new API would just return the modifier flags and solve
bug 36896 as well.
Dirk,

Proposal to match your requirement would be to have a new class
org.eclipse.jdt.core.search.TypeNameRequestor. I'll attach it to this bug to
make its review easier...

Of course interface ITypeNameRequestor would be deprecated and SearchEngine will
continue to assume its use transparently.

I've verified that's assumption was true by running all JDT/UI tests with new
implementation and got no error :-)

Created attachment 18593
TypeNameRequestor.java

Let me know asap if this class matches your requirement, thx
Frederic, can you clarify on the parameter

@param access the restriction access for the type. &lt;code&gt;null&lt;/code&gt; means no
restriction.


Sorry, AccessRestriction is currently JDT/Core internal, so it should never be
presented in this API... You can forget it.

Then the API is fine with me.
Created attachment 18687
New version for TypeNameRequestor

Internal parameter access restriction removed + Update modifiers param javadoc
Fixed.

TypeNameRequestor now replaces deprecated ITypeNameRequestor.

[jdt-core-internal]
No specific test cases added, just keep OldSearchTests using deprecated
interface to verify that search engine assume backward compatibility and modify
all other clients to use new class...

Verified in I20050330-0500
Verified in I20050330-0500</WithOutStack>
  </Bug>
  <Bug>
    <BugId amount="81499" />
    <CreationDate amount="2004-12-17 05:04:00 -0500" />
    <DupId amount="82141" />
    <classification amount="Eclipse" />
    <Product amount="JDT" />
    <component amount="Core" />
    <Version amount="3.1" />
    <rep_platform amount="PC" />
    <op_sys amount="Windows XP" />
    <priority amount="P3" />
    <bug_severity amount="normal" />
    <Summery>[annot][dom] no binding on annotations modifiers</Summery>
    <Patches amount="0" />
    <Stacktraces amount="0" />
    <SourceCodeRegions amount="0" />
    <Enumerations amount="0" />
    <bug_status amount="RESOLVED" />
    <resolution amount="DUPLICATE" />
    <WithStack>Using I200412160800.

Open Deprecated annotation of JDK 1.5 and show its AST node tree using ASTView
1.0.2. Expand modifiers of AnnotationTypeDeclaration: there's no binding for
MarkerAnnotation and SimpleMemberAnnotation nodes.

I would expect bindings repsectively on java.lang.Documented and
java.lang.Retention annotations.


*** This bug has been marked as a duplicate of 82141 ***</WithStack>
    <WithOutStack>Using I200412160800.

Open Deprecated annotation of JDK 1.5 and show its AST node tree using ASTView
1.0.2. Expand modifiers of AnnotationTypeDeclaration: there's no binding for
MarkerAnnotation and SimpleMemberAnnotation nodes.

I would expect bindings repsectively on java.lang.Documented and
java.lang.Retention annotations.


*** This bug has been marked as a duplicate of 82141 ***</WithOutStack>
  </Bug>
  <Bug>
    <BugId amount="81500" />
    <CreationDate amount="2004-12-17 05:22:00 -0500" />
    <DupId amount="" />
    <classification amount="Eclipse" />
    <Product amount="Platform" />
    <component amount="CVS" />
    <Version amount="3.0.1" />
    <rep_platform amount="PC" />
    <op_sys amount="Windows 2000" />
    <priority amount="P3" />
    <bug_severity amount="normal" />
    <Summery>Can't see branch or version in CVS</Summery>
    <Patches amount="0" />
    <Stacktraces amount="0" />
    <SourceCodeRegions amount="0" />
    <Enumerations amount="0" />
    <bug_status amount="RESOLVED" />
    <resolution amount="WORKSFORME" />
    <WithStack>I've got a CVS repository (V 1.11.6) on a linux box.
We use it with Eclipse 3.0.1

When i create a new branch for a new version of my project , other developper
can't see them.
I check that that repository is clean with 'tortoise' and i can see my branch
and version.

Regards

Christophe
Other developers need to refresh there know tags in order to see any new tags. 
This is descibed in the documentation that ships with Eclipse. A feature has 
been added to 3.1 to auto-refresh the tags.</WithStack>
    <WithOutStack>I've got a CVS repository (V 1.11.6) on a linux box.
We use it with Eclipse 3.0.1

When i create a new branch for a new version of my project , other developper
can't see them.
I check that that repository is clean with 'tortoise' and i can see my branch
and version.

Regards

Christophe
Other developers need to refresh there know tags in order to see any new tags. 
This is descibed in the documentation that ships with Eclipse. A feature has 
been added to 3.1 to auto-refresh the tags.</WithOutStack>
  </Bug>
</infozilla-output>

