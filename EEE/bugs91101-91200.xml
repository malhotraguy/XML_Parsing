<?xml version="1.0" encoding="UTF-8"?>
<infozilla-output>
  <Bug>
    <BugId amount="91101" />
    <CreationDate amount="2005-04-12 06:21:00 -0400" />
    <DupId amount="" />
    <classification amount="Eclipse Foundation" />
    <Product amount="z_Archived" />
    <component amount="VE" />
    <Version amount="unspecified" />
    <rep_platform amount="PC" />
    <op_sys amount="Windows 2000" />
    <priority amount="P3" />
    <bug_severity amount="enhancement" />
    <Summery>Editing support for bean children of a bean</Summery>
    <Patches amount="0" />
    <Stacktraces amount="0" />
    <SourceCodeRegions amount="3">
      <source_code type="functioncall">
        <location start="610" end="655" />
        <code>&gt; myComponent.getChildA().setProperty("Foo");</code>
      </source_code>
      <source_code type="functioncall">
        <location start="1103" end="1152" />
        <code>&gt; myComponent.getComponent(3).setProperty("Foo");</code>
      </source_code>
      <source_code type="functioncall">
        <location start="1279" end="1325" />
        <code>&gt; myComponent.getMyChild().setProperty("Foo");</code>
      </source_code>
    </SourceCodeRegions>
    <Enumerations amount="0" />
    <bug_status amount="NEW" />
    <resolution amount="" />
    <WithStack>A custom bean which is as container (derived from JPanel) and which already
contains some child components (created and added in the constructor) can be
dropped into the designer but the children cannot be selected and therefore not
be edited.

Joe Winchester asked me to open an enhancement request. He wrote:

&gt; If you add a getter and setter for the child properties this would expose them 
&gt; on the property sheet.  For example, if your children were getChildA() you 
&gt; could expand the + on the property sheet and modify the child properties.  
&gt; However the problem is the code we generate would not be

&gt; myComponent.getChildA().setProperty("Foo");

&gt; and instead we'd try to fluff up a new instance of the childA().  This is 
&gt; something we need to fix via support for implicit properties and we are 
&gt; working on this for RCP, however could you please open a bugzilla feature 
&gt; request for this so we can track its progress and we can discuss how to 
&gt; implement it.  We've got some ideas that I've outlined below.

&gt; In a general way we could expose all child components and have code like


&gt; myComponent.getComponent(3).setProperty("Foo");

&gt; or we could instead have you specify the controls you wanted to be exposed via
&gt; explicit getter and setter methods, e.g.

&gt; myComponent.getMyChild().setProperty("Foo");

&gt; We could find all of these type of child properties by looking at the API 
&gt; methods on the Container and seeing which were typed to java.awt.Component, or 
&gt; we could have some kind of custom BeanInfo extension where the properties were 
&gt; explicitly identified via a key/value pair we recognized during introspection.

&gt; What do you think would make the most sense for an implementation ?

I think all children which are available by public getters which confirm to a
certain convention should be abled to be edited. Should I not wish thaht some
children are editable, then I can readuce visibility. Maybe some BeanInfo way to
 prevent some children of being edited could also help.</WithStack>
    <WithOutStack>A custom bean which is as container (derived from JPanel) and which already
contains some child components (created and added in the constructor) can be
dropped into the designer but the children cannot be selected and therefore not
be edited.

Joe Winchester asked me to open an enhancement request. He wrote:

&gt; If you add a getter and setter for the child properties this would expose them 
&gt; on the property sheet.  For example, if your children were getChildA() you 
&gt; could expand the + on the property sheet and modify the child properties.  
&gt; However the problem is the code we generate would not be

&gt; myComponent.getChildA().setProperty("Foo");

&gt; and instead we'd try to fluff up a new instance of the childA().  This is 
&gt; something we need to fix via support for implicit properties and we are 
&gt; working on this for RCP, however could you please open a bugzilla feature 
&gt; request for this so we can track its progress and we can discuss how to 
&gt; implement it.  We've got some ideas that I've outlined below.

&gt; In a general way we could expose all child components and have code like


&gt; myComponent.getComponent(3).setProperty("Foo");

&gt; or we could instead have you specify the controls you wanted to be exposed via
&gt; explicit getter and setter methods, e.g.

&gt; myComponent.getMyChild().setProperty("Foo");

&gt; We could find all of these type of child properties by looking at the API 
&gt; methods on the Container and seeing which were typed to java.awt.Component, or 
&gt; we could have some kind of custom BeanInfo extension where the properties were 
&gt; explicitly identified via a key/value pair we recognized during introspection.

&gt; What do you think would make the most sense for an implementation ?

I think all children which are available by public getters which confirm to a
certain convention should be abled to be edited. Should I not wish thaht some
children are editable, then I can readuce visibility. Maybe some BeanInfo way to
 prevent some children of being edited could also help.</WithOutStack>
  </Bug>
  <Bug>
    <BugId amount="91102" />
    <CreationDate amount="2005-04-12 06:25:00 -0400" />
    <DupId amount="" />
    <classification amount="Tools" />
    <Product amount="AJDT" />
    <component amount="UI" />
    <Version amount="1.2.0 M2" />
    <rep_platform amount="PC" />
    <op_sys amount="Windows XP" />
    <priority amount="P3" />
    <bug_severity amount="normal" />
    <Summery>Debug arrow missing in .aj files</Summery>
    <Patches amount="0" />
    <Stacktraces amount="0" />
    <SourceCodeRegions amount="0" />
    <Enumerations amount="0" />
    <bug_status amount="RESOLVED" />
    <resolution amount="FIXED" />
    <WithStack>In both Eclipse 3.0 and Eclipse 3.1 when you set a breakpoint in an aspect in 
a .aj file, or set a breakpoint elsewhere and step in, the arrow icon that 
normally appears in the margin for java files is missing.
We replace the annotation model in the AspectJ editor in order to replace the 
eager parser, however the document provider still has an old annotation model 
as there is no way to set that.  The instruction pointer annotation is added 
directly to this old model.  This bug was fixed by adding a listener that 
listened for these types of annotations being added and removed in the old 
model and replicated the events in our model.

Fixed in the following builds:

AJDT 1.2.1 for Eclipse 3.0:
BUILD COMPLETE -  build.564
Date of build: 11/03/2005 14:20:17
Time to build: 36 minutes 10 seconds

AJDT 1.3.0 for Eclipse 3.1:
BUILD COMPLETE -  build.171
Date of build: 11/03/2005 14:57:11
Time to build: 45 minutes 24 seconds</WithStack>
    <WithOutStack>In both Eclipse 3.0 and Eclipse 3.1 when you set a breakpoint in an aspect in 
a .aj file, or set a breakpoint elsewhere and step in, the arrow icon that 
normally appears in the margin for java files is missing.
We replace the annotation model in the AspectJ editor in order to replace the 
eager parser, however the document provider still has an old annotation model 
as there is no way to set that.  The instruction pointer annotation is added 
directly to this old model.  This bug was fixed by adding a listener that 
listened for these types of annotations being added and removed in the old 
model and replicated the events in our model.

Fixed in the following builds:

AJDT 1.2.1 for Eclipse 3.0:
BUILD COMPLETE -  build.564
Date of build: 11/03/2005 14:20:17
Time to build: 36 minutes 10 seconds

AJDT 1.3.0 for Eclipse 3.1:
BUILD COMPLETE -  build.171
Date of build: 11/03/2005 14:57:11
Time to build: 45 minutes 24 seconds</WithOutStack>
  </Bug>
  <Bug>
    <BugId amount="91103" />
    <CreationDate amount="2005-04-12 06:29:00 -0400" />
    <DupId amount="" />
    <classification amount="Eclipse Foundation" />
    <Product amount="z_Archived" />
    <component amount="VE" />
    <Version amount="unspecified" />
    <rep_platform amount="PC" />
    <op_sys amount="Windows XP" />
    <priority amount="P3" />
    <bug_severity amount="normal" />
    <Summery>Look at Java proxies as a way to hot stop class definitions inside the target VM without closing it</Summery>
    <Patches amount="0" />
    <Stacktraces amount="0" />
    <SourceCodeRegions amount="0" />
    <Enumerations amount="0" />
    <bug_status amount="NEW" />
    <resolution amount="" />
    <WithStack>Look at Java proxies as a way to hot stop class definitions inside the target 
VM without closing it.  This might avoid us having to drop the JVM so often</WithStack>
    <WithOutStack>Look at Java proxies as a way to hot stop class definitions inside the target 
VM without closing it.  This might avoid us having to drop the JVM so often</WithOutStack>
  </Bug>
  <Bug>
    <BugId amount="91104" />
    <CreationDate amount="2005-04-12 06:33:00 -0400" />
    <DupId amount="" />
    <classification amount="Eclipse" />
    <Product amount="JDT" />
    <component amount="Text" />
    <Version amount="3.1" />
    <rep_platform amount="PC" />
    <op_sys amount="All" />
    <priority amount="P3" />
    <bug_severity amount="minor" />
    <Summery>[hovering] Javadoc hover does not show Javadoc of (type) parameters</Summery>
    <Patches amount="0" />
    <Stacktraces amount="0" />
    <SourceCodeRegions amount="4">
      <source_code type="multicomment">
        <location start="142" end="256" />
        <code>/**
	 * Description of foo
	 * @param &lt;T&gt; description of type parameter
	 * @param t description of argument
	 */</code>
      </source_code>
      <source_code type="functiondef">
        <location start="257" end="300" />
        <code>public final &lt;T&gt; void foo(T t) {
        }</code>
      </source_code>
      <source_code type="class">
        <location start="1701" end="1988" />
        <code>public class Super {
    /**
     * Main desc.
     * 
     * @param value The value passed to {@link #foo(int, boolean)}
     * @param enable TODO
     * @return the value as String
     */
    public String foo(int value, boolean enable) {
        return String.valueOf(value);
    }
}</code>
      </source_code>
      <source_code type="class">
        <location start="1990" end="2125" />
        <code>class Sub extends Super {
    @Override
    public String foo(int val, boolean enable) {
        return super.foo(val, enable);
    }
}</code>
      </source_code>
    </SourceCodeRegions>
    <Enumerations amount="1">
      <Enumeration lines="5">
        <Lines>
          <Line>- The check for local variables that are not method parameters is done at the beginning of JavadocContentAccess2.getHTMLContent(IJavaElement element, boolean useAttachedJavadoc).</Line>
          <Line>- The javadoc of parameters for methods with attached javadoc is shown as the javadoc of the associated method itself, instead of trying to extract the parameter javadoc from the attached method javadoc.</Line>
          <Line>- Inherited javadoc for type parameters was not handled earlier. Since Project &gt; Generate Javadoc generates the inherited javadoc of a type parameter, implemented the same here.</Line>
          <Line>- Added a separate tag title "Type Parameters:" similar to generated javadoc for type parameters.</Line>
          <Line>- Updated header flags to be shown for type parameters in JavadocView.getHeaderFlags(IJavaElement element). We should probably replace this method with the existing JavadocHover.getHeaderFlags(IJavaElement element). It differs wrt the package javadoc flags, hence did not update.</Line>
        </Lines>
      </Enumeration>
    </Enumerations>
    <bug_status amount="RESOLVED" />
    <resolution amount="FIXED" />
    <WithStack>I20050405-0800 + ZRH plugin export

The javadoc hover does not show javadoc associated with type parameters.

Steps to reproduce:
- Create cu
	/**
	 * Description of foo
	 * @param &lt;T&gt; description of type parameter
	 * @param t description of argument
	 */
	public final &lt;T&gt; void foo(T t) {
        }
- Hover over the type of the method argument 't'
-&gt; No javadoc available
-&gt; Same also happens for type parameters of classes
Currently we show just "T"

We should show the signature as we do for parameters:
&lt;T&gt; void Cell.foo(T)

Additionally we could extract the Javadoc from the @param doc. If so, we should
do the same for the parameters.
*** Bug 269990 has been marked as a duplicate of this bug. ***
Sorry for the duplicate; I did search before posting, and I even saw this one, but the &lt;T&gt; and the title had me thinking this was to do with generics, rather than simply about parameters.
Created attachment 247534
proof of concept

Here's a proof of concept for how to add this to Javadoc hovers.

Doesn't work in the Javadoc view yet, and doesn't handle parameters for methods with attached Javadoc. It probably misses some error checking, and the handling of local variables that are not method parameters, needs to be cleaned up (need to see where to best do the check that skips those ILocalVariables and then remove unnecessary re-checking of the same later on).

I thought we could reuse more of the code that finds and renders the @param tags, but it looks like that would become quite complicated and not help much. Bug JavadocContentAccess2#parameterToHTML(..) at least reuses fJavadocLookup.getInheritedParamDescription(fMethod, i) to find the description of Sub#foo(..)'s "val" here:

public class Super {
    /**
     * Main desc.
     * 
     * @param value The value passed to {@link #foo(int, boolean)}
     * @param enable TODO
     * @return the value as String
     */
    public String foo(int value, boolean enable) {
        return String.valueOf(value);
    }
}

class Sub extends Super {
    @Override
    public String foo(int val, boolean enable) {
        return super.foo(val, enable);
    }
}
Created attachment 247549
proof of concept v2

Sorry, first attachment was an unrelated patch.
Created attachment 249058
Patch

Enhanced the patch from comment #5.
- The check for local variables that are not method parameters is done at the beginning of JavadocContentAccess2.getHTMLContent(IJavaElement element, boolean useAttachedJavadoc).
- The javadoc of parameters for methods with attached javadoc is shown as the javadoc of the associated method itself, instead of trying to extract the parameter javadoc from the attached method javadoc.
- Inherited javadoc for type parameters was not handled earlier. Since Project &gt; Generate Javadoc generates the inherited javadoc of a type parameter, implemented the same here.
- Added a separate tag title "Type Parameters:" similar to generated javadoc for type parameters.
- Updated header flags to be shown for type parameters in JavadocView.getHeaderFlags(IJavaElement element). We should probably replace this method with the existing JavadocHover.getHeaderFlags(IJavaElement element). It differs wrt the package javadoc flags, hence did not update.

Markus, please have a look.
(In reply to Noopur Gupta from comment #6)
Looks very good!

I found one tiny glitch: For methods with inherited type parameter descriptions, the type parameter name in the generated Javadoc was not enclosed in &lt;&gt;. Fixed in JavadocContentAccess2#handleParameterTags(..) and released with http://git.eclipse.org/c/jdt/eclipse.jdt.ui.git/commit/?id=0d974018ed578a4e9b21cc31f3028688732f99da

&gt; - Updated header flags to be shown for type parameters in
&gt; JavadocView.getHeaderFlags(IJavaElement element). We should probably replace
&gt; this method with the existing JavadocHover.getHeaderFlags(IJavaElement
&gt; element). It differs wrt the package javadoc flags, hence did not update.

Feel free to unify the getHeaderFlags(..) methods. I think they already do the same, since ^ and &amp; ~ do the same thing here (since the LHS always has all the RHS bits set).
(In reply to Markus Keller from comment #7)
&gt; (In reply to Noopur Gupta from comment #6)
&gt; &gt; - Updated header flags to be shown for type parameters in
&gt; &gt; JavadocView.getHeaderFlags(IJavaElement element). We should probably replace
&gt; &gt; this method with the existing JavadocHover.getHeaderFlags(IJavaElement
&gt; &gt; element). It differs wrt the package javadoc flags, hence did not update.
&gt; 
&gt; Feel free to unify the getHeaderFlags(..) methods. I think they already do
&gt; the same, since ^ and &amp; ~ do the same thing here (since the LHS always has
&gt; all the RHS bits set).

Released with http://git.eclipse.org/c/jdt/eclipse.jdt.ui.git/commit/?id=64e811de299e3f52922f686dff8e1398e8c6e6c3</WithStack>
    <WithOutStack>I20050405-0800 + ZRH plugin export

The javadoc hover does not show javadoc associated with type parameters.

Steps to reproduce:
- Create cu
	/**
	 * Description of foo
	 * @param &lt;T&gt; description of type parameter
	 * @param t description of argument
	 */
	public final &lt;T&gt; void foo(T t) {
        }
- Hover over the type of the method argument 't'
-&gt; No javadoc available
-&gt; Same also happens for type parameters of classes
Currently we show just "T"

We should show the signature as we do for parameters:
&lt;T&gt; void Cell.foo(T)

Additionally we could extract the Javadoc from the @param doc. If so, we should
do the same for the parameters.
*** Bug 269990 has been marked as a duplicate of this bug. ***
Sorry for the duplicate; I did search before posting, and I even saw this one, but the &lt;T&gt; and the title had me thinking this was to do with generics, rather than simply about parameters.
Created attachment 247534
proof of concept

Here's a proof of concept for how to add this to Javadoc hovers.

Doesn't work in the Javadoc view yet, and doesn't handle parameters for methods with attached Javadoc. It probably misses some error checking, and the handling of local variables that are not method parameters, needs to be cleaned up (need to see where to best do the check that skips those ILocalVariables and then remove unnecessary re-checking of the same later on).

I thought we could reuse more of the code that finds and renders the @param tags, but it looks like that would become quite complicated and not help much. Bug JavadocContentAccess2#parameterToHTML(..) at least reuses fJavadocLookup.getInheritedParamDescription(fMethod, i) to find the description of Sub#foo(..)'s "val" here:

public class Super {
    /**
     * Main desc.
     * 
     * @param value The value passed to {@link #foo(int, boolean)}
     * @param enable TODO
     * @return the value as String
     */
    public String foo(int value, boolean enable) {
        return String.valueOf(value);
    }
}

class Sub extends Super {
    @Override
    public String foo(int val, boolean enable) {
        return super.foo(val, enable);
    }
}
Created attachment 247549
proof of concept v2

Sorry, first attachment was an unrelated patch.
Created attachment 249058
Patch

Enhanced the patch from comment #5.
- The check for local variables that are not method parameters is done at the beginning of JavadocContentAccess2.getHTMLContent(IJavaElement element, boolean useAttachedJavadoc).
- The javadoc of parameters for methods with attached javadoc is shown as the javadoc of the associated method itself, instead of trying to extract the parameter javadoc from the attached method javadoc.
- Inherited javadoc for type parameters was not handled earlier. Since Project &gt; Generate Javadoc generates the inherited javadoc of a type parameter, implemented the same here.
- Added a separate tag title "Type Parameters:" similar to generated javadoc for type parameters.
- Updated header flags to be shown for type parameters in JavadocView.getHeaderFlags(IJavaElement element). We should probably replace this method with the existing JavadocHover.getHeaderFlags(IJavaElement element). It differs wrt the package javadoc flags, hence did not update.

Markus, please have a look.
(In reply to Noopur Gupta from comment #6)
Looks very good!

I found one tiny glitch: For methods with inherited type parameter descriptions, the type parameter name in the generated Javadoc was not enclosed in &lt;&gt;. Fixed in JavadocContentAccess2#handleParameterTags(..) and released with http://git.eclipse.org/c/jdt/eclipse.jdt.ui.git/commit/?id=0d974018ed578a4e9b21cc31f3028688732f99da

&gt; - Updated header flags to be shown for type parameters in
&gt; JavadocView.getHeaderFlags(IJavaElement element). We should probably replace
&gt; this method with the existing JavadocHover.getHeaderFlags(IJavaElement
&gt; element). It differs wrt the package javadoc flags, hence did not update.

Feel free to unify the getHeaderFlags(..) methods. I think they already do the same, since ^ and &amp; ~ do the same thing here (since the LHS always has all the RHS bits set).
(In reply to Markus Keller from comment #7)
&gt; (In reply to Noopur Gupta from comment #6)
&gt; &gt; - Updated header flags to be shown for type parameters in
&gt; &gt; JavadocView.getHeaderFlags(IJavaElement element). We should probably replace
&gt; &gt; this method with the existing JavadocHover.getHeaderFlags(IJavaElement
&gt; &gt; element). It differs wrt the package javadoc flags, hence did not update.
&gt; 
&gt; Feel free to unify the getHeaderFlags(..) methods. I think they already do
&gt; the same, since ^ and &amp; ~ do the same thing here (since the LHS always has
&gt; all the RHS bits set).

Released with http://git.eclipse.org/c/jdt/eclipse.jdt.ui.git/commit/?id=64e811de299e3f52922f686dff8e1398e8c6e6c3</WithOutStack>
  </Bug>
  <Bug>
    <BugId amount="91105" />
    <CreationDate amount="2005-04-12 06:34:00 -0400" />
    <DupId amount="" />
    <classification amount="Tools" />
    <Product amount="AJDT" />
    <component amount="UI" />
    <Version amount="unspecified" />
    <rep_platform amount="PC" />
    <op_sys amount="Windows XP" />
    <priority amount="P3" />
    <bug_severity amount="normal" />
    <Summery>XRef View: ClassCastException from JavaElement.getOpenableParent()</Summery>
    <Patches amount="0" />
    <Stacktraces amount="1">
      <Stacktrace timestamp="1437341255578">
        <Exception>java.lang.ClassCastException</Exception>
        <Reason />
        <Frames>
          <Frame depth="0">org.eclipse.jdt.internal.core.JavaElement.getOpenableParent(JavaElement.java:400)</Frame>
          <Frame depth="1">org.eclipse.jdt.internal.core.JavaElement.getOpenable(JavaElement.java:391)</Frame>
          <Frame depth="2">org.eclipse.ajdt.ui.xref.AJXReferenceProvider.getExtraChildren(AJXReferenceProvider.java:75)</Frame>
          <Frame depth="3">org.eclipse.contribution.xref.internal.core.XReferenceAdapter.getExtraChildren_aroundBody0(XReferenceAdapter.java:46)</Frame>
          <Frame depth="4">org.eclipse.contribution.xref.internal.core.XReferenceAdapter$AjcClosure1.run(XReferenceAdapter.java)</Frame>
          <Frame depth="5">org.eclipse.contribution.xref.core.IXReferenceProvider$SafeExecution.ajc$around$org_eclipse_contribution_xref_core_IXReferenceProvider$SafeExecution$1$b538bdbdproceed(IXReferenceProvider.aj)</Frame>
          <Frame depth="6">org.eclipse.contribution.xref.core.IXReferenceProvider$1.run(IXReferenceProvider.aj:94)</Frame>
          <Frame depth="7">org.eclipse.core.internal.runtime.InternalPlatform.run(InternalPlatform.java:616)</Frame>
          <Frame depth="8">org.eclipse.core.runtime.Platform.run(Platform.java:747)</Frame>
          <Frame depth="9">org.eclipse.contribution.xref.core.IXReferenceProvider$SafeExecution.ajc$around$org_eclipse_contribution_xref_core_IXReferenceProvider$SafeExecution$1$b538bdbd(IXReferenceProvider.aj:100)</Frame>
          <Frame depth="10">org.eclipse.contribution.xref.internal.core.XReferenceAdapter.getExtraChildren(XReferenceAdapter.java:46)</Frame>
          <Frame depth="11">org.eclipse.contribution.xref.internal.ui.providers.XReferenceContentProvider.addChildren(XReferenceContentProvider.java:133)</Frame>
          <Frame depth="12">org.eclipse.contribution.xref.internal.ui.providers.XReferenceContentProvider.createXRefTree(XReferenceContentProvider.java:126)</Frame>
          <Frame depth="13">org.eclipse.contribution.xref.internal.ui.providers.XReferenceContentProvider.initialize(XReferenceContentProvider.java:100)</Frame>
          <Frame depth="14">org.eclipse.contribution.xref.internal.ui.providers.XReferenceContentProvider.inputChanged(XReferenceContentProvider.java:43)</Frame>
          <Frame depth="15">org.eclipse.jface.viewers.ContentViewer.setInput(ContentViewer.java:234)</Frame>
          <Frame depth="16">org.eclipse.jface.viewers.StructuredViewer.setInput(StructuredViewer.java:1059)</Frame>
          <Frame depth="17">org.eclipse.contribution.xref.ui.views.XReferenceView.selectionChanged(XReferenceView.java:170)</Frame>
          <Frame depth="18">org.eclipse.ui.internal.AbstractSelectionService$3.run(AbstractSelectionService.java:153)</Frame>
          <Frame depth="19">org.eclipse.core.internal.runtime.InternalPlatform.run(InternalPlatform.java:616)</Frame>
          <Frame depth="20">org.eclipse.core.runtime.Platform.run(Platform.java:747)</Frame>
          <Frame depth="21">org.eclipse.ui.internal.AbstractSelectionService.fireSelection(AbstractSelectionService.java:151)</Frame>
          <Frame depth="22">org.eclipse.ui.internal.AbstractSelectionService$1.selectionChanged(AbstractSelectionService.java:66)</Frame>
          <Frame depth="23">org.eclipse.jface.viewers.Viewer$2.run(Viewer.java:159)</Frame>
          <Frame depth="24">org.eclipse.core.internal.runtime.InternalPlatform.run(InternalPlatform.java:616)</Frame>
          <Frame depth="25">org.eclipse.core.runtime.Platform.run(Platform.java:747)</Frame>
          <Frame depth="26">org.eclipse.jface.viewers.Viewer.fireSelectionChanged(Viewer.java:157)</Frame>
          <Frame depth="27">org.eclipse.jface.text.TextViewer.fireSelectionChanged(TextViewer.java:2164)</Frame>
          <Frame depth="28">org.eclipse.jface.text.TextViewer.selectionChanged(TextViewer.java:2147)</Frame>
          <Frame depth="29">org.eclipse.jface.text.TextViewer.setSelectedRange(TextViewer.java:1929)</Frame>
          <Frame depth="30">org.eclipse.jface.text.source.SourceViewer.setRangeIndication(SourceViewer.java:831)</Frame>
          <Frame depth="31">org.eclipse.jface.text.source.projection.ProjectionViewer.setRangeIndication(ProjectionViewer.java:1242)</Frame>
          <Frame depth="32">org.eclipse.ui.texteditor.AbstractTextEditor.setHighlightRange(AbstractTextEditor.java:4481)</Frame>
          <Frame depth="33">org.eclipse.jdt.internal.ui.javaeditor.JavaEditor.adjustHighlightRange(JavaEditor.java:2685)</Frame>
          <Frame depth="34">org.eclipse.ui.texteditor.AbstractTextEditor.selectAndReveal(AbstractTextEditor.java:4562)</Frame>
          <Frame depth="35">org.eclipse.ui.texteditor.AbstractTextEditor.selectAndReveal(AbstractTextEditor.java:4536)</Frame>
          <Frame depth="36">org.eclipse.ui.texteditor.AbstractDecoratedTextEditor.gotoMarker(AbstractDecoratedTextEditor.java:954)</Frame>
          <Frame depth="37">org.eclipse.jdt.internal.ui.javaeditor.JavaEditor.gotoMarker(JavaEditor.java:3378)</Frame>
          <Frame depth="38">org.eclipse.ui.texteditor.AbstractDecoratedTextEditor$GotoMarkerAdapter.gotoMarker(AbstractDecoratedTextEditor.java:107)</Frame>
          <Frame depth="39">org.eclipse.ui.ide.IDE.gotoMarker(IDE.java:206)</Frame>
          <Frame depth="40">org.eclipse.ui.ide.IDE.openEditor(IDE.java:528)</Frame>
          <Frame depth="41">org.eclipse.ui.views.markers.internal.ActionOpenMarker.run(ActionOpenMarker.java:74)</Frame>
          <Frame depth="42">org.eclipse.ui.views.markers.internal.MarkerView.handleOpenEvent(MarkerView.java:462)</Frame>
          <Frame depth="43">org.eclipse.ui.views.markers.internal.TableView$2.open(TableView.java:168)</Frame>
          <Frame depth="44">org.eclipse.jface.viewers.StructuredViewer$2.run(StructuredViewer.java:429)</Frame>
          <Frame depth="45">org.eclipse.core.internal.runtime.InternalPlatform.run(InternalPlatform.java:616)</Frame>
          <Frame depth="46">org.eclipse.core.runtime.Platform.run(Platform.java:747)</Frame>
          <Frame depth="47">org.eclipse.jface.viewers.StructuredViewer.fireOpen(StructuredViewer.java:427)</Frame>
          <Frame depth="48">org.eclipse.jface.viewers.StructuredViewer.handleOpen(StructuredViewer.java:635)</Frame>
          <Frame depth="49">org.eclipse.jface.viewers.StructuredViewer$6.handleOpen(StructuredViewer.java:731)</Frame>
          <Frame depth="50">org.eclipse.jface.util.OpenStrategy.fireOpenEvent(OpenStrategy.java:211)</Frame>
          <Frame depth="51">org.eclipse.jface.util.OpenStrategy.access$2(OpenStrategy.java:206)</Frame>
          <Frame depth="52">org.eclipse.jface.util.OpenStrategy$1.handleEvent(OpenStrategy.java:238)</Frame>
          <Frame depth="53">org.eclipse.swt.widgets.EventTable.sendEvent(EventTable.java:82)</Frame>
          <Frame depth="54">org.eclipse.swt.widgets.Widget.sendEvent(Widget.java:796)</Frame>
          <Frame depth="55">org.eclipse.swt.widgets.Display.runDeferredEvents(Display.java:2773)</Frame>
          <Frame depth="56">org.eclipse.swt.widgets.Display.readAndDispatch(Display.java:2432)</Frame>
          <Frame depth="57">org.eclipse.ui.internal.Workbench.runEventLoop(Workbench.java:1377)</Frame>
          <Frame depth="58">org.eclipse.ui.internal.Workbench.runUI(Workbench.java:1348)</Frame>
          <Frame depth="59">org.eclipse.ui.internal.Workbench.createAndRunWorkbench(Workbench.java:254)</Frame>
          <Frame depth="60">org.eclipse.ui.PlatformUI.createAndRunWorkbench(PlatformUI.java:141)</Frame>
          <Frame depth="61">org.eclipse.ui.internal.ide.IDEApplication.run(IDEApplication.java:96)</Frame>
          <Frame depth="62">org.eclipse.core.internal.runtime.PlatformActivator$1.run(PlatformActivator.java:335)</Frame>
          <Frame depth="63">org.eclipse.core.runtime.adaptor.EclipseStarter.run(EclipseStarter.java:273)</Frame>
          <Frame depth="64">org.eclipse.core.runtime.adaptor.EclipseStarter.run(EclipseStarter.java:129)</Frame>
          <Frame depth="65">sun.reflect.NativeMethodAccessorImpl.invoke0(Native Method)</Frame>
          <Frame depth="66">sun.reflect.NativeMethodAccessorImpl.invoke(Unknown Source)</Frame>
          <Frame depth="67">sun.reflect.DelegatingMethodAccessorImpl.invoke(Unknown Source)</Frame>
          <Frame depth="68">java.lang.reflect.Method.invoke(Unknown Source)</Frame>
          <Frame depth="69">org.eclipse.core.launcher.Main.basicRun(Main.java:185)</Frame>
          <Frame depth="70">org.eclipse.core.launcher.Main.run(Main.java:704)</Frame>
          <Frame depth="71">org.eclipse.core.launcher.Main.main(Main.java:688)</Frame>
        </Frames>
      </Stacktrace>
    </Stacktraces>
    <SourceCodeRegions amount="0" />
    <Enumerations amount="0" />
    <bug_status amount="RESOLVED" />
    <resolution amount="FIXED" />
    <WithStack>The following ClassCastException has been seen:

java.lang.ClassCastException
	at org.eclipse.jdt.internal.core.JavaElement.getOpenableParent
(JavaElement.java:400)
	at org.eclipse.jdt.internal.core.JavaElement.getOpenable
(JavaElement.java:391)
	at org.eclipse.ajdt.ui.xref.AJXReferenceProvider.getExtraChildren
(AJXReferenceProvider.java:75)
	at 
org.eclipse.contribution.xref.internal.core.XReferenceAdapter.getExtraChildren_
aroundBody0(XReferenceAdapter.java:46)
	at 
org.eclipse.contribution.xref.internal.core.XReferenceAdapter$AjcClosure1.run
(XReferenceAdapter.java)
	at 
org.eclipse.contribution.xref.core.IXReferenceProvider$SafeExecution.ajc$around
$org_eclipse_contribution_xref_core_IXReferenceProvider$SafeExecution$1
$b538bdbdproceed(IXReferenceProvider.aj)
	at org.eclipse.contribution.xref.core.IXReferenceProvider$1.run
(IXReferenceProvider.aj:94)
	at org.eclipse.core.internal.runtime.InternalPlatform.run
(InternalPlatform.java:616)
	at org.eclipse.core.runtime.Platform.run(Platform.java:747)
	at 
org.eclipse.contribution.xref.core.IXReferenceProvider$SafeExecution.ajc$around
$org_eclipse_contribution_xref_core_IXReferenceProvider$SafeExecution$1
$b538bdbd(IXReferenceProvider.aj:100)
	at 
org.eclipse.contribution.xref.internal.core.XReferenceAdapter.getExtraChildren
(XReferenceAdapter.java:46)
	at 
org.eclipse.contribution.xref.internal.ui.providers.XReferenceContentProvider.a
ddChildren(XReferenceContentProvider.java:133)
	at 
org.eclipse.contribution.xref.internal.ui.providers.XReferenceContentProvider.c
reateXRefTree(XReferenceContentProvider.java:126)
	at 
org.eclipse.contribution.xref.internal.ui.providers.XReferenceContentProvider.i
nitialize(XReferenceContentProvider.java:100)
	at 
org.eclipse.contribution.xref.internal.ui.providers.XReferenceContentProvider.i
nputChanged(XReferenceContentProvider.java:43)
	at org.eclipse.jface.viewers.ContentViewer.setInput
(ContentViewer.java:234)
	at org.eclipse.jface.viewers.StructuredViewer.setInput
(StructuredViewer.java:1059)
	at 
org.eclipse.contribution.xref.ui.views.XReferenceView.selectionChanged
(XReferenceView.java:170)
	at org.eclipse.ui.internal.AbstractSelectionService$3.run
(AbstractSelectionService.java:153)
	at org.eclipse.core.internal.runtime.InternalPlatform.run
(InternalPlatform.java:616)
	at org.eclipse.core.runtime.Platform.run(Platform.java:747)
	at org.eclipse.ui.internal.AbstractSelectionService.fireSelection
(AbstractSelectionService.java:151)
	at org.eclipse.ui.internal.AbstractSelectionService$1.selectionChanged
(AbstractSelectionService.java:66)
	at org.eclipse.jface.viewers.Viewer$2.run(Viewer.java:159)
	at org.eclipse.core.internal.runtime.InternalPlatform.run
(InternalPlatform.java:616)
	at org.eclipse.core.runtime.Platform.run(Platform.java:747)
	at org.eclipse.jface.viewers.Viewer.fireSelectionChanged
(Viewer.java:157)
	at org.eclipse.jface.text.TextViewer.fireSelectionChanged
(TextViewer.java:2164)
	at org.eclipse.jface.text.TextViewer.selectionChanged
(TextViewer.java:2147)
	at org.eclipse.jface.text.TextViewer.setSelectedRange
(TextViewer.java:1929)
	at org.eclipse.jface.text.source.SourceViewer.setRangeIndication
(SourceViewer.java:831)
	at 
org.eclipse.jface.text.source.projection.ProjectionViewer.setRangeIndication
(ProjectionViewer.java:1242)
	at org.eclipse.ui.texteditor.AbstractTextEditor.setHighlightRange
(AbstractTextEditor.java:4481)
	at 
org.eclipse.jdt.internal.ui.javaeditor.JavaEditor.adjustHighlightRange
(JavaEditor.java:2685)
	at org.eclipse.ui.texteditor.AbstractTextEditor.selectAndReveal
(AbstractTextEditor.java:4562)
	at org.eclipse.ui.texteditor.AbstractTextEditor.selectAndReveal
(AbstractTextEditor.java:4536)
	at org.eclipse.ui.texteditor.AbstractDecoratedTextEditor.gotoMarker
(AbstractDecoratedTextEditor.java:954)
	at org.eclipse.jdt.internal.ui.javaeditor.JavaEditor.gotoMarker
(JavaEditor.java:3378)
	at 
org.eclipse.ui.texteditor.AbstractDecoratedTextEditor$GotoMarkerAdapter.gotoMar
ker(AbstractDecoratedTextEditor.java:107)
	at org.eclipse.ui.ide.IDE.gotoMarker(IDE.java:206)
	at org.eclipse.ui.ide.IDE.openEditor(IDE.java:528)
	at org.eclipse.ui.views.markers.internal.ActionOpenMarker.run
(ActionOpenMarker.java:74)
	at org.eclipse.ui.views.markers.internal.MarkerView.handleOpenEvent
(MarkerView.java:462)
	at org.eclipse.ui.views.markers.internal.TableView$2.open
(TableView.java:168)
	at org.eclipse.jface.viewers.StructuredViewer$2.run
(StructuredViewer.java:429)
	at org.eclipse.core.internal.runtime.InternalPlatform.run
(InternalPlatform.java:616)
	at org.eclipse.core.runtime.Platform.run(Platform.java:747)
	at org.eclipse.jface.viewers.StructuredViewer.fireOpen
(StructuredViewer.java:427)
	at org.eclipse.jface.viewers.StructuredViewer.handleOpen
(StructuredViewer.java:635)
	at org.eclipse.jface.viewers.StructuredViewer$6.handleOpen
(StructuredViewer.java:731)
	at org.eclipse.jface.util.OpenStrategy.fireOpenEvent
(OpenStrategy.java:211)
	at org.eclipse.jface.util.OpenStrategy.access$2(OpenStrategy.java:206)
	at org.eclipse.jface.util.OpenStrategy$1.handleEvent
(OpenStrategy.java:238)
	at org.eclipse.swt.widgets.EventTable.sendEvent(EventTable.java:82)
	at org.eclipse.swt.widgets.Widget.sendEvent(Widget.java:796)
	at org.eclipse.swt.widgets.Display.runDeferredEvents(Display.java:2773)
	at org.eclipse.swt.widgets.Display.readAndDispatch(Display.java:2432)
	at org.eclipse.ui.internal.Workbench.runEventLoop(Workbench.java:1377)
	at org.eclipse.ui.internal.Workbench.runUI(Workbench.java:1348)
	at org.eclipse.ui.internal.Workbench.createAndRunWorkbench
(Workbench.java:254)
	at org.eclipse.ui.PlatformUI.createAndRunWorkbench(PlatformUI.java:141)
	at org.eclipse.ui.internal.ide.IDEApplication.run
(IDEApplication.java:96)
	at org.eclipse.core.internal.runtime.PlatformActivator$1.run
(PlatformActivator.java:335)
	at org.eclipse.core.runtime.adaptor.EclipseStarter.run
(EclipseStarter.java:273)
	at org.eclipse.core.runtime.adaptor.EclipseStarter.run
(EclipseStarter.java:129)
	at sun.reflect.NativeMethodAccessorImpl.invoke0(Native Method)
	at sun.reflect.NativeMethodAccessorImpl.invoke(Unknown Source)
	at sun.reflect.DelegatingMethodAccessorImpl.invoke(Unknown Source)
	at java.lang.reflect.Method.invoke(Unknown Source)
	at org.eclipse.core.launcher.Main.basicRun(Main.java:185)
	at org.eclipse.core.launcher.Main.run(Main.java:704)
	at org.eclipse.core.launcher.Main.main(Main.java:688)


However, need to track down the steps to recreate this :-(

(this is with the latest development build)
Further investigation indicated that the ClassCastException was appearing when
the javaelement was an AJCodeElement.

A workaround for this has gone in: JavaElement expects the parent to be an
openable, but it is not for an AJCodeElement. Therefore method getChildren in
AJCodeElement now returns JavaElement.NO_ELEMENTS.
Believed to be fixed in RC1</WithStack>
    <WithOutStack>The following ClassCastException has been seen:




However, need to track down the steps to recreate this :-(

(this is with the latest development build)
Further investigation indicated that the ClassCastException was appearing when
the javaelement was an AJCodeElement.

A workaround for this has gone in: JavaElement expects the parent to be an
openable, but it is not for an AJCodeElement. Therefore method getChildren in
AJCodeElement now returns JavaElement.NO_ELEMENTS.
Believed to be fixed in RC1</WithOutStack>
  </Bug>
  <Bug>
    <BugId amount="91106" />
    <CreationDate amount="2005-04-12 06:43:00 -0400" />
    <DupId amount="79919" />
    <classification amount="Eclipse" />
    <Product amount="JDT" />
    <component amount="Debug" />
    <Version amount="3.1" />
    <rep_platform amount="PC" />
    <op_sys amount="Windows XP" />
    <priority amount="P2" />
    <bug_severity amount="major" />
    <Summery>Debug view uses almost 100% CPU after killing my target</Summery>
    <Patches amount="0" />
    <Stacktraces amount="0" />
    <SourceCodeRegions amount="0" />
    <Enumerations amount="1">
      <Enumeration lines="44">
        <Lines>
          <Line>- locked &lt;0x12e73770&gt; (a</Line>
          <Line>org.eclipse.debug.internal.ui.views.launch.LaunchViewer)</Line>
          <Line>at</Line>
          <Line>org.eclipse.debug.internal.ui.views.RemoteTreeViewer$3.run(RemoteTreeViewer.java:421)</Line>
          <Line>at</Line>
          <Line>org.eclipse.jface.viewers.StructuredViewer.preservingSelection(StructuredViewer.java:1191)</Line>
          <Line>at</Line>
          <Line>org.eclipse.debug.internal.ui.views.RemoteTreeViewer.replace(RemoteTreeViewer.java:391)</Line>
          <Line>- locked &lt;0x12e73770&gt; (a</Line>
          <Line>org.eclipse.debug.internal.ui.views.launch.LaunchViewer)</Line>
          <Line>at</Line>
          <Line>org.eclipse.debug.internal.ui.views.RemoteTreeContentManager$2.runInUIThread(RemoteTreeContentManager.java:153)</Line>
          <Line>at org.eclipse.ui.progress.UIJob$1.run(UIJob.java:93)</Line>
          <Line>at org.eclipse.swt.widgets.RunnableLock.run(RunnableLock.java:35)</Line>
          <Line>at</Line>
          <Line>org.eclipse.swt.widgets.Synchronizer.runAsyncMessages(Synchronizer.java:118)</Line>
          <Line>- locked &lt;0x19837c10&gt; (a org.eclipse.swt.widgets.RunnableLock)</Line>
          <Line>at org.eclipse.swt.widgets.Display.runAsyncMessages(Display.java:2871)</Line>
          <Line>at org.eclipse.swt.widgets.Display.readAndDispatch(Display.java:2530)</Line>
          <Line>at org.eclipse.ui.internal.Workbench.runEventLoop(Workbench.java:1570)</Line>
          <Line>at org.eclipse.ui.internal.Workbench.runUI(Workbench.java:1534)</Line>
          <Line>at</Line>
          <Line>org.eclipse.ui.internal.Workbench.createAndRunWorkbench(Workbench.java:306)</Line>
          <Line>at org.eclipse.ui.PlatformUI.createAndRunWorkbench(PlatformUI.java:143)</Line>
          <Line>at org.eclipse.ui.internal.ide.IDEApplication.run(IDEApplication.java:103)</Line>
          <Line>at</Line>
          <Line>org.eclipse.core.internal.runtime.PlatformActivator$1.run(PlatformActivator.java:228)</Line>
          <Line>at</Line>
          <Line>org.eclipse.core.runtime.adaptor.EclipseStarter.run(EclipseStarter.java:344)</Line>
          <Line>at</Line>
          <Line>org.eclipse.core.runtime.adaptor.EclipseStarter.run(EclipseStarter.java:156)</Line>
          <Line>at sun.reflect.NativeMethodAccessorImpl.invoke0(Native Method)</Line>
          <Line>at</Line>
          <Line>sun.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:39)</Line>
          <Line>at</Line>
          <Line>sun.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:25)</Line>
          <Line>at java.lang.reflect.Method.invoke(Method.java:324)</Line>
          <Line>at org.eclipse.core.launcher.Main.invokeFramework(Main.java:315)</Line>
          <Line>at org.eclipse.core.launcher.Main.basicRun(Main.java:268)</Line>
          <Line>at org.eclipse.core.launcher.Main.run(Main.java:947)</Line>
          <Line>at org.eclipse.core.launcher.Main.main(Main.java:931)</Line>
          <Line>Seems to work forever. I had to kill my dev workspace after waiting for 10 minutes.</Line>
          <Line>Created attachment 19799</Line>
          <Line>full dump</Line>
        </Lines>
      </Enumeration>
    </Enumerations>
    <bug_status amount="RESOLVED" />
    <resolution amount="DUPLICATE" />
    <WithStack>I20050405-0800 + Text, JDT and Debug code from HEAD

During debugging a workspace I ran into a stack overflow. I therefore killed the
target via task manager. The Debug view seems not to detect that and is still
working (creating tree items):


"main" prio=5 tid=0x00035db8 nid=0x280 runnable [7e000..7fc3c]
        at org.eclipse.swt.internal.win32.OS.SendMessageW(Native Method)
        at org.eclipse.swt.internal.win32.OS.SendMessage(OS.java:2201)
        at org.eclipse.swt.widgets.TreeItem.&lt;init&gt;(TreeItem.java:213)
        at org.eclipse.jface.viewers.TreeViewer.newItem(TreeViewer.java:502)
        at
org.eclipse.jface.viewers.AbstractTreeViewer.createTreeItem(AbstractTreeViewer.java:437)
        at
org.eclipse.jface.viewers.AbstractTreeViewer.createAddedElement(AbstractTreeViewer.java:224)
        at
org.eclipse.jface.viewers.AbstractTreeViewer.internalAdd(AbstractTreeViewer.java:186)
        at
org.eclipse.jface.viewers.AbstractTreeViewer.add(AbstractTreeViewer.java:124)
        at
org.eclipse.debug.internal.ui.views.RemoteTreeViewer.add(RemoteTreeViewer.java:271)
        - locked &lt;0x12e73770&gt; (a
org.eclipse.debug.internal.ui.views.launch.LaunchViewer)
        at
org.eclipse.debug.internal.ui.views.RemoteTreeViewer$3.run(RemoteTreeViewer.java:421)
        at
org.eclipse.jface.viewers.StructuredViewer.preservingSelection(StructuredViewer.java:1191)
        at
org.eclipse.debug.internal.ui.views.RemoteTreeViewer.replace(RemoteTreeViewer.java:391)
        - locked &lt;0x12e73770&gt; (a
org.eclipse.debug.internal.ui.views.launch.LaunchViewer)
        at
org.eclipse.debug.internal.ui.views.RemoteTreeContentManager$2.runInUIThread(RemoteTreeContentManager.java:153)
        at org.eclipse.ui.progress.UIJob$1.run(UIJob.java:93)
        at org.eclipse.swt.widgets.RunnableLock.run(RunnableLock.java:35)
        at
org.eclipse.swt.widgets.Synchronizer.runAsyncMessages(Synchronizer.java:118)
        - locked &lt;0x19837c10&gt; (a org.eclipse.swt.widgets.RunnableLock)
        at org.eclipse.swt.widgets.Display.runAsyncMessages(Display.java:2871)
        at org.eclipse.swt.widgets.Display.readAndDispatch(Display.java:2530)
        at org.eclipse.ui.internal.Workbench.runEventLoop(Workbench.java:1570)
        at org.eclipse.ui.internal.Workbench.runUI(Workbench.java:1534)
        at
org.eclipse.ui.internal.Workbench.createAndRunWorkbench(Workbench.java:306)
        at org.eclipse.ui.PlatformUI.createAndRunWorkbench(PlatformUI.java:143)
        at org.eclipse.ui.internal.ide.IDEApplication.run(IDEApplication.java:103)
        at
org.eclipse.core.internal.runtime.PlatformActivator$1.run(PlatformActivator.java:228)
        at
org.eclipse.core.runtime.adaptor.EclipseStarter.run(EclipseStarter.java:344)
        at
org.eclipse.core.runtime.adaptor.EclipseStarter.run(EclipseStarter.java:156)
        at sun.reflect.NativeMethodAccessorImpl.invoke0(Native Method)
        at
sun.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:39)
        at
sun.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:25)
        at java.lang.reflect.Method.invoke(Method.java:324)
        at org.eclipse.core.launcher.Main.invokeFramework(Main.java:315)
        at org.eclipse.core.launcher.Main.basicRun(Main.java:268)
        at org.eclipse.core.launcher.Main.run(Main.java:947)
        at org.eclipse.core.launcher.Main.main(Main.java:931)
Seems to work forever. I had to kill my dev workspace after waiting for 10 minutes.
Created attachment 19799
full dump


*** This bug has been marked as a duplicate of 79919 ***</WithStack>
    <WithOutStack>I20050405-0800 + Text, JDT and Debug code from HEAD

During debugging a workspace I ran into a stack overflow. I therefore killed the
target via task manager. The Debug view seems not to detect that and is still
working (creating tree items):


"main" prio=5 tid=0x00035db8 nid=0x280 runnable [7e000..7fc3c]
        at org.eclipse.swt.internal.win32.OS.SendMessageW(Native Method)
        at org.eclipse.swt.internal.win32.OS.SendMessage(OS.java:2201)
        at org.eclipse.swt.widgets.TreeItem.&lt;init&gt;(TreeItem.java:213)
        at org.eclipse.jface.viewers.TreeViewer.newItem(TreeViewer.java:502)
        at
org.eclipse.jface.viewers.AbstractTreeViewer.createTreeItem(AbstractTreeViewer.java:437)
        at
org.eclipse.jface.viewers.AbstractTreeViewer.createAddedElement(AbstractTreeViewer.java:224)
        at
org.eclipse.jface.viewers.AbstractTreeViewer.internalAdd(AbstractTreeViewer.java:186)
        at
org.eclipse.jface.viewers.AbstractTreeViewer.add(AbstractTreeViewer.java:124)
        at
org.eclipse.debug.internal.ui.views.RemoteTreeViewer.add(RemoteTreeViewer.java:271)
        - locked &lt;0x12e73770&gt; (a
org.eclipse.debug.internal.ui.views.launch.LaunchViewer)
        at
org.eclipse.debug.internal.ui.views.RemoteTreeViewer$3.run(RemoteTreeViewer.java:421)
        at
org.eclipse.jface.viewers.StructuredViewer.preservingSelection(StructuredViewer.java:1191)
        at
org.eclipse.debug.internal.ui.views.RemoteTreeViewer.replace(RemoteTreeViewer.java:391)
        - locked &lt;0x12e73770&gt; (a
org.eclipse.debug.internal.ui.views.launch.LaunchViewer)
        at
org.eclipse.debug.internal.ui.views.RemoteTreeContentManager$2.runInUIThread(RemoteTreeContentManager.java:153)
        at org.eclipse.ui.progress.UIJob$1.run(UIJob.java:93)
        at org.eclipse.swt.widgets.RunnableLock.run(RunnableLock.java:35)
        at
org.eclipse.swt.widgets.Synchronizer.runAsyncMessages(Synchronizer.java:118)
        - locked &lt;0x19837c10&gt; (a org.eclipse.swt.widgets.RunnableLock)
        at org.eclipse.swt.widgets.Display.runAsyncMessages(Display.java:2871)
        at org.eclipse.swt.widgets.Display.readAndDispatch(Display.java:2530)
        at org.eclipse.ui.internal.Workbench.runEventLoop(Workbench.java:1570)
        at org.eclipse.ui.internal.Workbench.runUI(Workbench.java:1534)
        at
org.eclipse.ui.internal.Workbench.createAndRunWorkbench(Workbench.java:306)
        at org.eclipse.ui.PlatformUI.createAndRunWorkbench(PlatformUI.java:143)
        at org.eclipse.ui.internal.ide.IDEApplication.run(IDEApplication.java:103)
        at
org.eclipse.core.internal.runtime.PlatformActivator$1.run(PlatformActivator.java:228)
        at
org.eclipse.core.runtime.adaptor.EclipseStarter.run(EclipseStarter.java:344)
        at
org.eclipse.core.runtime.adaptor.EclipseStarter.run(EclipseStarter.java:156)
        at sun.reflect.NativeMethodAccessorImpl.invoke0(Native Method)
        at
sun.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:39)
        at
sun.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:25)
        at java.lang.reflect.Method.invoke(Method.java:324)
        at org.eclipse.core.launcher.Main.invokeFramework(Main.java:315)
        at org.eclipse.core.launcher.Main.basicRun(Main.java:268)
        at org.eclipse.core.launcher.Main.run(Main.java:947)
        at org.eclipse.core.launcher.Main.main(Main.java:931)
Seems to work forever. I had to kill my dev workspace after waiting for 10 minutes.
Created attachment 19799
full dump


*** This bug has been marked as a duplicate of 79919 ***</WithOutStack>
  </Bug>
  <Bug>
    <BugId amount="91107" />
    <CreationDate amount="2005-04-12 06:53:00 -0400" />
    <DupId amount="" />
    <classification amount="Eclipse Foundation" />
    <Product amount="Community" />
    <component amount="Articles" />
    <Version amount="unspecified" />
    <rep_platform amount="All" />
    <op_sys amount="All" />
    <priority amount="P5" />
    <bug_severity amount="normal" />
    <Summery>[JDT] Java program manipulation with JDT</Summery>
    <Patches amount="0" />
    <Stacktraces amount="0" />
    <SourceCodeRegions amount="0" />
    <Enumerations amount="0" />
    <bug_status amount="RESOLVED" />
    <resolution amount="WONTFIX" />
    <WithStack>Apr. 5, 2005

&gt; Hello Jim,
&gt; we sent you a final version about JDT article, the 3th March.
&gt; We are not sure if you recived it properly, so we resend it again.
&gt; Take a look on it and let us know if you see something wrong.
&gt;
&gt; Thanks and cheers,
&gt; Oscar Combarros
&gt; Irene Jiménez

Oct. 12, 2004
&gt; Hi Irene and Oscar,
&gt;
&gt; After reviewing your detailed outline, the only gap the reviewer noticed
&gt; is that the paper should also describe the relationship between the Java
&gt; model and the AST APIs.  Assuming you are still interested, please send me
&gt; a draft of your article when you have one you'd like reviewed.
&gt;
&gt; Regards, jim
Created attachment 19800
initial draft of article

submitted by authors for review
Interesting article, just the right length. Since I didn't know anything about
JDT API before, I checked the style, not the content.

I think "programs" in the title should be "program". The title should be
properly capitalized, as "Java Program Manipulation with JDT".

The last two sentences in the summary could be better and the last one is
missing a period. How about: "We will focus the article on the new, 3.0 JDT
release. In  3.0 the JDT API has been revised entirely and many previous methods
are now deprecated."

Java is a trademark and should be consistently capitalized throughout, e.g.,
"the Java nature" and "Java code" unless you are citing how someone else has
written it, like ".java" and "javanature".

"Couple" means two. Then you present three. How about "a few concepts"? "Java
model" pops in and out of quotes. The first sentence "At the first
time...useful." can be removed.

Shouldn't "JavaCore" be "JDT Core" referenced above?

Instead of 'We said "Java model"...' try 'We use the term "Java Model"...'.

Is it "image" or "images"? Saying "previous images" made me look back to see if
there were more. How about before the figure "In the annotated screenshots below
we can see a few of those classes:" and after "As the arrows show, we can
establish a correspondence...".

"Conclussions" at the end jumps out. Should be "Conclusions". "stantards" should
be "standards". There are probably others that running a spell checker will find
for you.

The phrase "such as a java code analyzer that allows to guarantee our code
conformance to any known quality stantards" comes off a bit grandiose. How
about: "such as building a Java code analyzer that ensures conformance to a set
of coding standards"?
Oh, I see (from a later comment on another bug). Technical review here, Ed does
the editing. If I broke protocol, sorry. Take that as an indication the article
was so interesting I read it all. ;-}
Where'd you see that? Comments on editing are welcome. I'm trying not to be "the
editor" as much as "one editor among many". The more eyeballs the better.
Assigning to Irene as the primary author. Anyone interested should add
themselves to the cc list. Somebody with knowledge of JDT will need to do a
technical review of it (any volunteers?).

I took a quick glance at it but the only thing that jumped out at me is that it
should have a References section at the end. Look at some of the other recent
articles to see what I mean. Links to other articles, documentation, faqs, that
sort of thing.

After you get a technical review and the reviewer is happy with the changes then
I'll take another look to see what's left to be done before publication. Thanks
for taking the time to contribute this article and for helping the Eclipse
developer community.
It's been a while since the last update; were you able to get any reviewers for it?
Nice simple starting point for developers interested in starting building an
extension to JDT. However, since such developers will want to deal with the UI a
little, it might be useful to also include a very quick 'Step 0' for adding a
context menu to a project and thereby connecting the UI to the rest of the code.

Technical Comments:
o I think mentioning and linking to ASTView is a good idea: 
http://dev.eclipse.org/viewcvs/index.cgi/%7Echeckout%7E/jdt-ui-home/plugins/org.eclipse.jdt.astview/index.html
o As far as I understand there are two distinct hierarchies in JDT Core: The AST
hierarchy (used in steps 1 and 2) and the Java Model hierarchy (used in steps 3
and 4). I think this it might be a good idea to mention the differences and 
o As of Eclipse 3.1 JLS2 is deprecated. I would suggest using JLS3 in the
examples and mentioning that JLS2 is deprecated.

Non Technical:
o s/determinate/determine/
o I can imagine putting the Examples together in a downloadable project will be
helpful.
Awaiting second draft with Vineet's comments applied, or a response saying that
the first draft should be taken as-is.
What is the status of this article?
There doesn't seem to be any activity on this. Reopen if this changes.
LATER/REMIND bugs are being automatically reopened as P5 because the LATER and REMIND resolutions are deprecated.
We're no longer taking articles for Eclipse Corner. Further, this bug has been in the system with little activity for some time. Feel free to reopen.</WithStack>
    <WithOutStack>Apr. 5, 2005

&gt; Hello Jim,
&gt; we sent you a final version about JDT article, the 3th March.
&gt; We are not sure if you recived it properly, so we resend it again.
&gt; Take a look on it and let us know if you see something wrong.
&gt;
&gt; Thanks and cheers,
&gt; Oscar Combarros
&gt; Irene Jiménez

Oct. 12, 2004
&gt; Hi Irene and Oscar,
&gt;
&gt; After reviewing your detailed outline, the only gap the reviewer noticed
&gt; is that the paper should also describe the relationship between the Java
&gt; model and the AST APIs.  Assuming you are still interested, please send me
&gt; a draft of your article when you have one you'd like reviewed.
&gt;
&gt; Regards, jim
Created attachment 19800
initial draft of article

submitted by authors for review
Interesting article, just the right length. Since I didn't know anything about
JDT API before, I checked the style, not the content.

I think "programs" in the title should be "program". The title should be
properly capitalized, as "Java Program Manipulation with JDT".

The last two sentences in the summary could be better and the last one is
missing a period. How about: "We will focus the article on the new, 3.0 JDT
release. In  3.0 the JDT API has been revised entirely and many previous methods
are now deprecated."

Java is a trademark and should be consistently capitalized throughout, e.g.,
"the Java nature" and "Java code" unless you are citing how someone else has
written it, like ".java" and "javanature".

"Couple" means two. Then you present three. How about "a few concepts"? "Java
model" pops in and out of quotes. The first sentence "At the first
time...useful." can be removed.

Shouldn't "JavaCore" be "JDT Core" referenced above?

Instead of 'We said "Java model"...' try 'We use the term "Java Model"...'.

Is it "image" or "images"? Saying "previous images" made me look back to see if
there were more. How about before the figure "In the annotated screenshots below
we can see a few of those classes:" and after "As the arrows show, we can
establish a correspondence...".

"Conclussions" at the end jumps out. Should be "Conclusions". "stantards" should
be "standards". There are probably others that running a spell checker will find
for you.

The phrase "such as a java code analyzer that allows to guarantee our code
conformance to any known quality stantards" comes off a bit grandiose. How
about: "such as building a Java code analyzer that ensures conformance to a set
of coding standards"?
Oh, I see (from a later comment on another bug). Technical review here, Ed does
the editing. If I broke protocol, sorry. Take that as an indication the article
was so interesting I read it all. ;-}
Where'd you see that? Comments on editing are welcome. I'm trying not to be "the
editor" as much as "one editor among many". The more eyeballs the better.
Assigning to Irene as the primary author. Anyone interested should add
themselves to the cc list. Somebody with knowledge of JDT will need to do a
technical review of it (any volunteers?).

I took a quick glance at it but the only thing that jumped out at me is that it
should have a References section at the end. Look at some of the other recent
articles to see what I mean. Links to other articles, documentation, faqs, that
sort of thing.

After you get a technical review and the reviewer is happy with the changes then
I'll take another look to see what's left to be done before publication. Thanks
for taking the time to contribute this article and for helping the Eclipse
developer community.
It's been a while since the last update; were you able to get any reviewers for it?
Nice simple starting point for developers interested in starting building an
extension to JDT. However, since such developers will want to deal with the UI a
little, it might be useful to also include a very quick 'Step 0' for adding a
context menu to a project and thereby connecting the UI to the rest of the code.

Technical Comments:
o I think mentioning and linking to ASTView is a good idea: 
http://dev.eclipse.org/viewcvs/index.cgi/%7Echeckout%7E/jdt-ui-home/plugins/org.eclipse.jdt.astview/index.html
o As far as I understand there are two distinct hierarchies in JDT Core: The AST
hierarchy (used in steps 1 and 2) and the Java Model hierarchy (used in steps 3
and 4). I think this it might be a good idea to mention the differences and 
o As of Eclipse 3.1 JLS2 is deprecated. I would suggest using JLS3 in the
examples and mentioning that JLS2 is deprecated.

Non Technical:
o s/determinate/determine/
o I can imagine putting the Examples together in a downloadable project will be
helpful.
Awaiting second draft with Vineet's comments applied, or a response saying that
the first draft should be taken as-is.
What is the status of this article?
There doesn't seem to be any activity on this. Reopen if this changes.
LATER/REMIND bugs are being automatically reopened as P5 because the LATER and REMIND resolutions are deprecated.
We're no longer taking articles for Eclipse Corner. Further, this bug has been in the system with little activity for some time. Feel free to reopen.</WithOutStack>
  </Bug>
  <Bug>
    <BugId amount="91108" />
    <CreationDate amount="2005-04-12 06:59:00 -0400" />
    <DupId amount="" />
    <classification amount="Eclipse" />
    <Product amount="Platform" />
    <component amount="Search" />
    <Version amount="3.1" />
    <rep_platform amount="PC" />
    <op_sys amount="Windows XP" />
    <priority amount="P3" />
    <bug_severity amount="enhancement" />
    <Summery>Search view should link to search preference page</Summery>
    <Patches amount="0" />
    <Stacktraces amount="0" />
    <SourceCodeRegions amount="0" />
    <Enumerations amount="0" />
    <bug_status amount="RESOLVED" />
    <resolution amount="FIXED" />
    <WithStack>I20050405-0800

The Search view should link to the search preference page. If I have set a file
search result table limit, I only see (showing 20 of 85 files) in the
description, but neither the context menu nor the view menu give me a way to
configure this filter.

I would add "Preferences..." to the view menu (for all search result pages).
Additionally, the Search preference page should contain a link
"The rendering of the search results can be configured on the Annotations
preference page" and link to General &gt; Editors &gt; Text Editors &gt; Annotations.
fixed &gt; 20060404

Added to the view menu. But currently only to text and Java search, to not fool other search page provider who already have such an action, or do not follow our preferences.
*** Bug 67149 has been marked as a duplicate of this bug. ***</WithStack>
    <WithOutStack>I20050405-0800

The Search view should link to the search preference page. If I have set a file
search result table limit, I only see (showing 20 of 85 files) in the
description, but neither the context menu nor the view menu give me a way to
configure this filter.

I would add "Preferences..." to the view menu (for all search result pages).
Additionally, the Search preference page should contain a link
"The rendering of the search results can be configured on the Annotations
preference page" and link to General &gt; Editors &gt; Text Editors &gt; Annotations.
fixed &gt; 20060404

Added to the view menu. But currently only to text and Java search, to not fool other search page provider who already have such an action, or do not follow our preferences.
*** Bug 67149 has been marked as a duplicate of this bug. ***</WithOutStack>
  </Bug>
  <Bug>
    <BugId amount="91109" />
    <CreationDate amount="2005-04-12 07:09:00 -0400" />
    <DupId amount="" />
    <classification amount="Eclipse Foundation" />
    <Product amount="z_Archived" />
    <component amount="VE" />
    <Version amount="unspecified" />
    <rep_platform amount="PC" />
    <op_sys amount="All" />
    <priority amount="P3" />
    <bug_severity amount="major" />
    <Summery>DBCS3.1: DBCS will garble by save and open</Summery>
    <Patches amount="0" />
    <Stacktraces amount="0" />
    <SourceCodeRegions amount="0" />
    <Enumerations amount="1">
      <Enumeration lines="3">
        <Lines>
          <Line>1. run test scenario Enablement-testing-VE-04012005.doc, creating a Swing appl.</Line>
          <Line>2. Use DBCS for Title, Jbutton</Line>
          <Line>3. Save and exit, then reopen</Line>
        </Lines>
      </Enumeration>
    </Enumerations>
    <bug_status amount="CLOSED" />
    <resolution amount="FIXED" />
    <WithStack>Driver : Eclipse 3.1 M6, VE-runtime-N20050407, IBM JVM 1.4.2 SR1a
Platform: Windows2003 Japanese

steps
1. run test scenario Enablement-testing-VE-04012005.doc, creating a Swing appl.
2. Use DBCS for Title, Jbutton
3. Save and exit, then reopen

Result
DBCS in design, Java beans and Properties are garbled on Windows.
Created attachment 19801
screenshot after reopen
I detected a similar problem in bug 93546
https://bugs.eclipse.org/bugs/show_bug.cgi?id=93546 and it was fixed recently.
It could be the same problem. This needs to be verified in a build and closed.

okay, I will retest when the VE driver is available.
Driver N20050519 looks working fine but I will re-check in later stable feture 
drivers as I'm encountering some unstability issues to save the edited dirty 
Visual file. 
I would request closing this defect if this particular problem has been fixed
and opening new defects for new problems, as the new problems could be becuase
of completely different reasons and it would be nice to have a separate defect
to track them. Thanks.
okay.
verified in N20050519
*** Bug 93110 has been marked as a duplicate of this bug. ***
VE 1.1. releaased. close bug.</WithStack>
    <WithOutStack>Driver : Eclipse 3.1 M6, VE-runtime-N20050407, IBM JVM 1.4.2 SR1a
Platform: Windows2003 Japanese

steps
1. run test scenario Enablement-testing-VE-04012005.doc, creating a Swing appl.
2. Use DBCS for Title, Jbutton
3. Save and exit, then reopen

Result
DBCS in design, Java beans and Properties are garbled on Windows.
Created attachment 19801
screenshot after reopen
I detected a similar problem in bug 93546
https://bugs.eclipse.org/bugs/show_bug.cgi?id=93546 and it was fixed recently.
It could be the same problem. This needs to be verified in a build and closed.

okay, I will retest when the VE driver is available.
Driver N20050519 looks working fine but I will re-check in later stable feture 
drivers as I'm encountering some unstability issues to save the edited dirty 
Visual file. 
I would request closing this defect if this particular problem has been fixed
and opening new defects for new problems, as the new problems could be becuase
of completely different reasons and it would be nice to have a separate defect
to track them. Thanks.
okay.
verified in N20050519
*** Bug 93110 has been marked as a duplicate of this bug. ***
VE 1.1. releaased. close bug.</WithOutStack>
  </Bug>
  <Bug>
    <BugId amount="91110" />
    <CreationDate amount="2005-04-12 07:09:00 -0400" />
    <DupId amount="" />
    <classification amount="Tools" />
    <Product amount="GEF" />
    <component amount="GEF (MVC) [GEF 3.x / Zest 1.x]" />
    <Version amount="3.1" />
    <rep_platform amount="PC" />
    <op_sys amount="Windows XP" />
    <priority amount="P3" />
    <bug_severity amount="normal" />
    <Summery>Changing default cursor for CanvasView works unpredictable.</Summery>
    <Patches amount="0" />
    <Stacktraces amount="0" />
    <SourceCodeRegions amount="1">
      <source_code type="functioncall">
        <location start="1173" end="1317" />
        <code>On the handles (class VertexHandle extends SquareHandle) I put another cursor. In the constructor I call super(owner, locator, Cursors.SIZEALL);</code>
      </source_code>
    </SourceCodeRegions>
    <Enumerations amount="2">
      <Enumeration lines="5">
        <Lines>
          <Line>a. the cursor of a general tool (such as the selection tool)</Line>
          <Line />
          <Line>or</Line>
          <Line />
          <Line>b. the cursor of a more specialized tool which can become active over a certain figure  (such as the VertexTracker at a VertexHandle)</Line>
        </Lines>
      </Enumeration>
      <Enumeration lines="4">
        <Lines>
          <Line>1. does it tell us something about the state of an object</Line>
          <Line>2. does it tell us something about what can be done with the object</Line>
          <Line>3. does it tell is something about what we are doing now with the object</Line>
          <Line>4. ...</Line>
        </Lines>
      </Enumeration>
    </Enumerations>
    <bug_status amount="NEW" />
    <resolution amount="" />
    <WithStack>I'm trying to customize default cursor for Canvas with Canvas.setCursor() 
method.
Unfortunately, it doesn't work well.
At the time the view is opened the cursor looks good - the one I specified.
But when I move mouse over selection handle and then move it back to canvas, 
the cursor changes to default arrow, and doesn't seem to change to my custom 
cursor ever after that.
Have you tried setting the default cursor -- setDefaultCursor() -- for the 
tool?
It doesn't work for the selection tool.
Does this get addressed in near future? 

It is a real problem not to get a dragtrackers cursor if a tool's default cursor has been set.

Use case: I have a specialized selection tool with a cursor which depicts the selection tolerance with a circle. By using this special cursor I do not get my dragtrackers cursor.
I don't even understand my own comment.

Did you try setDefaultCursor() on the selection tool?
You can also set cursors on figures, such as the contents editpart's figure. That would probably work best, since handles' cursors are shown via draw2d cursor support.
The selectiontool has a custom cursor which is set with setDefaultCursor().

This works fine.

On the handles (class VertexHandle extends SquareHandle) I put another cursor. In the constructor I call super(owner, locator, Cursors.SIZEALL);

This does *not* give me a SIZEALL cursor when the cursor is over a handle.

In VertexHandle.createDragTracker I return a VertexTracker.

Only when a VertexTracker (extends SimpleDragTracker) is actually dragging such a handle, the cursor becomes SIZEALL. It does not make any difference if I call setDefaultCursor(Cursors.SIZEALL) in the VertexTracker.

I think the problem is demonstrated by the following stackdump:

Thread [main] (Suspended)	
	DomainEventDispatcher(SWTEventDispatcher).setCursor(Cursor) line: 418	
	DomainEventDispatcher.setCursor(Cursor) line: 473	
=&gt;	DomainEventDispatcher.setOverrideCursor(Cursor) line: 495	
	SpatialEditor$1MyViewer(GraphicalViewerImpl).setCursor(Cursor) line: 316	
	SelTool(AbstractTool).setCursor(Cursor) line: 1214	
	SelTool(AbstractTool).refreshCursor() line: 1166	
	SelTool(SelectionTool).refreshCursor() line: 569	
	SelTool(AbstractTool).setViewer(EditPartViewer) line: 1335	
	SelTool(AbstractTool).focusGained(FocusEvent, EditPartViewer) line: 411	
	EditDomain.focusGained(FocusEvent, EditPartViewer) line: 84	
	DomainEventDispatcher.dispatchFocusGained(FocusEvent) line: 224	
	LightweightSystem$EventHandler.focusGained(FocusEvent) line: 348	
	TypedListener.handleEvent(Event) line: 105	
	EventTable.sendEvent(Event) line: 66	
	FigureCanvas(Widget).sendEvent(Event) line: 925	


at =&gt; the DomainEventDispatchers overrideCursor is set. If set, this overrideCursor is used instead of any other cursor.

In this case the default cursor of the tool takes precedence over the cursor of any figure in the drawing. Only when another tool (such as the VertexTracker) becomdes active, another cursor gets a chance (be it the cursor of the VertexHandle, or the default cursor of the VertexTracker).

I suppose there are use cases for behaviour like the displayed behaviour. It is difficult to make a general statement about which cursor is more important and should be displayed: 

a. the cursor of a general tool (such as the selection tool)

or

b. the cursor of a more specialized tool which can become active over a certain figure  (such as the VertexTracker at a VertexHandle)


Randy, what would you advise in this case?




I think my original comment is starting to make sense to me now.

You can't change the Selection tool's default cursor because GEF's active tool's cursor overrides any figure cursor from draw2d.

So, how do you set a tool's cursor and make it lower priority than any figure cursor? You can't, so just try to set the root figure's cursor instead or something like that.
This seems plausible, and to a certain degree it works. But, when the cursor is over a figure which is not the rootfigure the cursor changes back to its system default (the arrow) ...
To understand this better we may need to answer the following question:

What is a cursor used for, what does it tell us?

1. does it tell us something about the state of an object
2. does it tell us something about what can be done with the object
3. does it tell is something about what we are doing now with the object
4. ...

ad 1. This what what IFigure.setCursor() seems to intend to do.

ad 2. This may be more than one action, depending on for example modifier keys. What action is choosen, what tool is going to be used, is not known at forehand.

ad 3. Is a little bit late, not quite informative.</WithStack>
    <WithOutStack>I'm trying to customize default cursor for Canvas with Canvas.setCursor() 
method.
Unfortunately, it doesn't work well.
At the time the view is opened the cursor looks good - the one I specified.
But when I move mouse over selection handle and then move it back to canvas, 
the cursor changes to default arrow, and doesn't seem to change to my custom 
cursor ever after that.
Have you tried setting the default cursor -- setDefaultCursor() -- for the 
tool?
It doesn't work for the selection tool.
Does this get addressed in near future? 

It is a real problem not to get a dragtrackers cursor if a tool's default cursor has been set.

Use case: I have a specialized selection tool with a cursor which depicts the selection tolerance with a circle. By using this special cursor I do not get my dragtrackers cursor.
I don't even understand my own comment.

Did you try setDefaultCursor() on the selection tool?
You can also set cursors on figures, such as the contents editpart's figure. That would probably work best, since handles' cursors are shown via draw2d cursor support.
The selectiontool has a custom cursor which is set with setDefaultCursor().

This works fine.

On the handles (class VertexHandle extends SquareHandle) I put another cursor. In the constructor I call super(owner, locator, Cursors.SIZEALL);

This does *not* give me a SIZEALL cursor when the cursor is over a handle.

In VertexHandle.createDragTracker I return a VertexTracker.

Only when a VertexTracker (extends SimpleDragTracker) is actually dragging such a handle, the cursor becomes SIZEALL. It does not make any difference if I call setDefaultCursor(Cursors.SIZEALL) in the VertexTracker.

I think the problem is demonstrated by the following stackdump:

Thread [main] (Suspended)	
	DomainEventDispatcher(SWTEventDispatcher).setCursor(Cursor) line: 418	
	DomainEventDispatcher.setCursor(Cursor) line: 473	
=&gt;	DomainEventDispatcher.setOverrideCursor(Cursor) line: 495	
	SpatialEditor$1MyViewer(GraphicalViewerImpl).setCursor(Cursor) line: 316	
	SelTool(AbstractTool).setCursor(Cursor) line: 1214	
	SelTool(AbstractTool).refreshCursor() line: 1166	
	SelTool(SelectionTool).refreshCursor() line: 569	
	SelTool(AbstractTool).setViewer(EditPartViewer) line: 1335	
	SelTool(AbstractTool).focusGained(FocusEvent, EditPartViewer) line: 411	
	EditDomain.focusGained(FocusEvent, EditPartViewer) line: 84	
	DomainEventDispatcher.dispatchFocusGained(FocusEvent) line: 224	
	LightweightSystem$EventHandler.focusGained(FocusEvent) line: 348	
	TypedListener.handleEvent(Event) line: 105	
	EventTable.sendEvent(Event) line: 66	
	FigureCanvas(Widget).sendEvent(Event) line: 925	


at =&gt; the DomainEventDispatchers overrideCursor is set. If set, this overrideCursor is used instead of any other cursor.

In this case the default cursor of the tool takes precedence over the cursor of any figure in the drawing. Only when another tool (such as the VertexTracker) becomdes active, another cursor gets a chance (be it the cursor of the VertexHandle, or the default cursor of the VertexTracker).

I suppose there are use cases for behaviour like the displayed behaviour. It is difficult to make a general statement about which cursor is more important and should be displayed: 

a. the cursor of a general tool (such as the selection tool)

or

b. the cursor of a more specialized tool which can become active over a certain figure  (such as the VertexTracker at a VertexHandle)


Randy, what would you advise in this case?




I think my original comment is starting to make sense to me now.

You can't change the Selection tool's default cursor because GEF's active tool's cursor overrides any figure cursor from draw2d.

So, how do you set a tool's cursor and make it lower priority than any figure cursor? You can't, so just try to set the root figure's cursor instead or something like that.
This seems plausible, and to a certain degree it works. But, when the cursor is over a figure which is not the rootfigure the cursor changes back to its system default (the arrow) ...
To understand this better we may need to answer the following question:

What is a cursor used for, what does it tell us?

1. does it tell us something about the state of an object
2. does it tell us something about what can be done with the object
3. does it tell is something about what we are doing now with the object
4. ...

ad 1. This what what IFigure.setCursor() seems to intend to do.

ad 2. This may be more than one action, depending on for example modifier keys. What action is choosen, what tool is going to be used, is not known at forehand.

ad 3. Is a little bit late, not quite informative.</WithOutStack>
  </Bug>
  <Bug>
    <BugId amount="91111" />
    <CreationDate amount="2005-04-12 07:24:00 -0400" />
    <DupId amount="" />
    <classification amount="Eclipse Foundation" />
    <Product amount="z_Archived" />
    <component amount="VE" />
    <Version amount="unspecified" />
    <rep_platform amount="PC" />
    <op_sys amount="Windows XP" />
    <priority amount="P3" />
    <bug_severity amount="critical" />
    <Summery>Deletion of a declerative/reused object should regenerate the decleration</Summery>
    <Patches amount="0" />
    <Stacktraces amount="0" />
    <SourceCodeRegions amount="0" />
    <Enumerations amount="0" />
    <bug_status amount="CLOSED" />
    <resolution amount="FIXED" />
    <WithStack>In the case of:

 Label l = new Label (...)
  ....

 l = new Label (....)
 ....

The deletion of the first label instance should generate the Label decleration
for the second instance.
This is more serious: If you update the flags on the constructor, the decoder
will regenerate, and will always create the decleration (resulting in a syntax
error)
Released to CVS
VE 1.1. releaased. close bug.</WithStack>
    <WithOutStack>In the case of:

 Label l = new Label (...)
  ....

 l = new Label (....)
 ....

The deletion of the first label instance should generate the Label decleration
for the second instance.
This is more serious: If you update the flags on the constructor, the decoder
will regenerate, and will always create the decleration (resulting in a syntax
error)
Released to CVS
VE 1.1. releaased. close bug.</WithOutStack>
  </Bug>
  <Bug>
    <BugId amount="91112" />
    <CreationDate amount="2005-04-12 07:31:00 -0400" />
    <DupId amount="" />
    <classification amount="WebTools" />
    <Product amount="WTP Source Editing" />
    <component amount="jst.jsp" />
    <Version amount="0.7" />
    <rep_platform amount="PC" />
    <op_sys amount="Windows XP" />
    <priority amount="P3" />
    <bug_severity amount="major" />
    <Summery>Unable to create part:</Summery>
    <Patches amount="0" />
    <Stacktraces amount="0" />
    <SourceCodeRegions amount="0" />
    <Enumerations amount="0" />
    <bug_status amount="CLOSED" />
    <resolution amount="FIXED" />
    <WithStack>Hello,
I installed eclipse and WT from one big file(wtp-eclipse-prereqs-sdk-1.0M3-
win32.zip). Then I added all files from 
http://www.eclipse.org/webtools/wst/components/ws/download_instructions_for_jars
.htmllink.
I made new project by tutorial by WTP Tutorials - Building a Simple EJB 
Application.
Only one difference. I am using Tomcat50 no JBoss.

And the problem. When I want open the .jsp file I get meesage Unable to create 
part: 
and in the log is 
Unhandled event loop exception
An exception stack trace could not be found.

Now I try it again and this problem is no 100% in WebContent Folder, but I get 
it there too. But in subfolder is this problem 100%.
In Package Explorer is this file visible but when I try open it shows message 
and  editor without title.

Maybe it is my mistake. Any suggestions for with this?
So my news.
When I create new .jsp file it can't be open with JSP Src.Pg.editor. It can be 
open only with text editor.
One solutions of this problem is restart all eclipse apl. Then I can open 
all .jsp files in JSP ed.
But it's not normal, it is?
Georg, I think you put this in "resolved - later" state by mistake? (Resolved,
later, means "it will be addressed in future release"). 

Do you still see this with M4?
(In reply to comment #2)
&gt; Georg, I think you put this in "resolved - later" state by mistake? (Resolved,
&gt; later, means "it will be addressed in future release"). 
&gt; Do you still see this with M4?

Hi David,
I am not conscious of this my setting but this problem is fixed now(M4).

I have stil one question. You will plane final version WTP in summer. Will it 
be there solved transfer of .jsp compile errors to problems view?
Thanks for your work and info. Georg.
Thanks George. Sorry I didn't see your last question before, 
but yes, I think Phil has figured out a way to put JSP 
problems in task view. 

Changed Version field given new release numbering.

I received the following email from Georg. Sounds like this is partially fixed. 
Georg or David, can you reopen this bug? Thanks.

# So I tested it on Integration Build: I20050704(July 4, 2005 ) . But  this bug
# doesn't fixed there. I attach test file(aa.html). First input work correct but
# the second not. Maybe the revision didn't get to this build only. Please check
# my finding.
# 
# I tested it in Static Web Project(if it's important).
Created attachment 24417
aa.html
(In reply to comment #6)
&gt; I received the following email from Georg. Sounds like this is partially 
fixed. 
&gt; Georg or David, can you reopen this bug? Thanks.
&gt; # So I tested it on Integration Build: I20050704(July 4, 2005 ) . But  this 
bug
&gt; # doesn't fixed there. I attach test file(aa.html). First input work correct 
but
&gt; # the second not. Maybe the revision didn't get to this build only. Please 
check
&gt; # my finding.
&gt; # 
&gt; # I tested it in Static Web Project(if it's important).

This email was send due to the bug 102448. I don't know why is here.
Marking as verified as I know this issue is fixed (or correctly categorized).
If, as originator, you disagree or still see, please re-open, or open a new bug. 

Thanks very much for reporting and helping make WTP better. 

This is part of a mass update to close out all stale WTP defects already verified by the reporter but awaiting closure by the assignee.  If you feel this defect was closed inappropriately, please reopen.

Thanks, John Lanuti</WithStack>
    <WithOutStack>Hello,
I installed eclipse and WT from one big file(wtp-eclipse-prereqs-sdk-1.0M3-
win32.zip). Then I added all files from 
http://www.eclipse.org/webtools/wst/components/ws/download_instructions_for_jars
.htmllink.
I made new project by tutorial by WTP Tutorials - Building a Simple EJB 
Application.
Only one difference. I am using Tomcat50 no JBoss.

And the problem. When I want open the .jsp file I get meesage Unable to create 
part: 
and in the log is 
Unhandled event loop exception
An exception stack trace could not be found.

Now I try it again and this problem is no 100% in WebContent Folder, but I get 
it there too. But in subfolder is this problem 100%.
In Package Explorer is this file visible but when I try open it shows message 
and  editor without title.

Maybe it is my mistake. Any suggestions for with this?
So my news.
When I create new .jsp file it can't be open with JSP Src.Pg.editor. It can be 
open only with text editor.
One solutions of this problem is restart all eclipse apl. Then I can open 
all .jsp files in JSP ed.
But it's not normal, it is?
Georg, I think you put this in "resolved - later" state by mistake? (Resolved,
later, means "it will be addressed in future release"). 

Do you still see this with M4?
(In reply to comment #2)
&gt; Georg, I think you put this in "resolved - later" state by mistake? (Resolved,
&gt; later, means "it will be addressed in future release"). 
&gt; Do you still see this with M4?

Hi David,
I am not conscious of this my setting but this problem is fixed now(M4).

I have stil one question. You will plane final version WTP in summer. Will it 
be there solved transfer of .jsp compile errors to problems view?
Thanks for your work and info. Georg.
Thanks George. Sorry I didn't see your last question before, 
but yes, I think Phil has figured out a way to put JSP 
problems in task view. 

Changed Version field given new release numbering.

I received the following email from Georg. Sounds like this is partially fixed. 
Georg or David, can you reopen this bug? Thanks.

# So I tested it on Integration Build: I20050704(July 4, 2005 ) . But  this bug
# doesn't fixed there. I attach test file(aa.html). First input work correct but
# the second not. Maybe the revision didn't get to this build only. Please check
# my finding.
# 
# I tested it in Static Web Project(if it's important).
Created attachment 24417
aa.html
(In reply to comment #6)
&gt; I received the following email from Georg. Sounds like this is partially 
fixed. 
&gt; Georg or David, can you reopen this bug? Thanks.
&gt; # So I tested it on Integration Build: I20050704(July 4, 2005 ) . But  this 
bug
&gt; # doesn't fixed there. I attach test file(aa.html). First input work correct 
but
&gt; # the second not. Maybe the revision didn't get to this build only. Please 
check
&gt; # my finding.
&gt; # 
&gt; # I tested it in Static Web Project(if it's important).

This email was send due to the bug 102448. I don't know why is here.
Marking as verified as I know this issue is fixed (or correctly categorized).
If, as originator, you disagree or still see, please re-open, or open a new bug. 

Thanks very much for reporting and helping make WTP better. 

This is part of a mass update to close out all stale WTP defects already verified by the reporter but awaiting closure by the assignee.  If you feel this defect was closed inappropriately, please reopen.

Thanks, John Lanuti</WithOutStack>
  </Bug>
  <Bug>
    <BugId amount="91113" />
    <CreationDate amount="2005-04-12 07:41:00 -0400" />
    <DupId amount="" />
    <classification amount="Eclipse" />
    <Product amount="JDT" />
    <component amount="UI" />
    <Version amount="3.1" />
    <rep_platform amount="PC" />
    <op_sys amount="Windows XP" />
    <priority amount="P3" />
    <bug_severity amount="normal" />
    <Summery>[search] Misleading ordering of search matches inside one element</Summery>
    <Patches amount="0" />
    <Stacktraces amount="0" />
    <SourceCodeRegions amount="14">
      <source_code type="assignment">
        <location start="510" end="556" />
        <code>public static final int FIELD = ASTNode.Bit1;</code>
      </source_code>
      <source_code type="assignment">
        <location start="557" end="603" />
        <code>public static final int LOCAL = ASTNode.Bit2;</code>
      </source_code>
      <source_code type="assignment">
        <location start="604" end="654" />
        <code>public static final int VARIABLE = FIELD | LOCAL;</code>
      </source_code>
      <source_code type="assignment">
        <location start="655" end="700" />
        <code>public static final int TYPE = ASTNode.Bit3;</code>
      </source_code>
      <source_code type="assignment">
        <location start="701" end="748" />
        <code>public static final int METHOD = ASTNode.Bit4;</code>
      </source_code>
      <source_code type="assignment">
        <location start="749" end="797" />
        <code>public static final int PACKAGE = ASTNode.Bit5;</code>
      </source_code>
      <source_code type="assignment">
        <location start="798" end="845" />
        <code>public static final int IMPORT = ASTNode.Bit6;</code>
      </source_code>
      <source_code type="assignment">
        <location start="846" end="904" />
        <code>public static final int ARRAY_TYPE = TYPE | ASTNode.Bit7;</code>
      </source_code>
      <source_code type="assignment">
        <location start="905" end="962" />
        <code>public static final int BASE_TYPE = TYPE | ASTNode.Bit8;</code>
      </source_code>
      <source_code type="assignment">
        <location start="963" end="1029" />
        <code>public static final int PARAMETERIZED_TYPE = TYPE | ASTNode.Bit9;</code>
      </source_code>
      <source_code type="assignment">
        <location start="1030" end="1092" />
        <code>public static final int WILDCARD_TYPE = TYPE | ASTNode.Bit10;</code>
      </source_code>
      <source_code type="assignment">
        <location start="1093" end="1150" />
        <code>public static final int RAW_TYPE = TYPE | ASTNode.Bit11;</code>
      </source_code>
      <source_code type="assignment">
        <location start="1151" end="1212" />
        <code>public static final int GENERIC_TYPE = TYPE | ASTNode.Bit12;</code>
      </source_code>
      <source_code type="assignment">
        <location start="1213" end="1276" />
        <code>public static final int TYPE_PARAMETER = TYPE | ASTNode.Bit13;</code>
      </source_code>
    </SourceCodeRegions>
    <Enumerations amount="0" />
    <bug_status amount="ASSIGNED" />
    <resolution amount="" />
    <WithStack>3.1m6

In source version of org.eclipse.jdt.core, searching for references to
Binding.TYPE detects 6 hits inside the class itself (as field constant
initializations). When iterating through the matches, these are ordered in
alphabetical order instead of syntactic order, which causes some yoyo effect
when navigating through the matches.

type: org.eclipse.jdt.internal.compiler.lookup.Binding
search for reference to constant Binding.TYPE

Here are the various constants, which aren't sorted alphabetically.

	public static final int FIELD = ASTNode.Bit1;
	public static final int LOCAL = ASTNode.Bit2;
	public static final int VARIABLE = FIELD | LOCAL;
	public static final int TYPE = ASTNode.Bit3;
	public static final int METHOD = ASTNode.Bit4;
	public static final int PACKAGE = ASTNode.Bit5;
	public static final int IMPORT = ASTNode.Bit6;
	public static final int ARRAY_TYPE = TYPE | ASTNode.Bit7;
	public static final int BASE_TYPE = TYPE | ASTNode.Bit8;
	public static final int PARAMETERIZED_TYPE = TYPE | ASTNode.Bit9;
	public static final int WILDCARD_TYPE = TYPE | ASTNode.Bit10;
	public static final int RAW_TYPE = TYPE | ASTNode.Bit11;
	public static final int GENERIC_TYPE = TYPE | ASTNode.Bit12;
	public static final int TYPE_PARAMETER = TYPE | ASTNode.Bit13;</WithStack>
    <WithOutStack>3.1m6

In source version of org.eclipse.jdt.core, searching for references to
Binding.TYPE detects 6 hits inside the class itself (as field constant
initializations). When iterating through the matches, these are ordered in
alphabetical order instead of syntactic order, which causes some yoyo effect
when navigating through the matches.

type: org.eclipse.jdt.internal.compiler.lookup.Binding
search for reference to constant Binding.TYPE

Here are the various constants, which aren't sorted alphabetically.

	public static final int FIELD = ASTNode.Bit1;
	public static final int LOCAL = ASTNode.Bit2;
	public static final int VARIABLE = FIELD | LOCAL;
	public static final int TYPE = ASTNode.Bit3;
	public static final int METHOD = ASTNode.Bit4;
	public static final int PACKAGE = ASTNode.Bit5;
	public static final int IMPORT = ASTNode.Bit6;
	public static final int ARRAY_TYPE = TYPE | ASTNode.Bit7;
	public static final int BASE_TYPE = TYPE | ASTNode.Bit8;
	public static final int PARAMETERIZED_TYPE = TYPE | ASTNode.Bit9;
	public static final int WILDCARD_TYPE = TYPE | ASTNode.Bit10;
	public static final int RAW_TYPE = TYPE | ASTNode.Bit11;
	public static final int GENERIC_TYPE = TYPE | ASTNode.Bit12;
	public static final int TYPE_PARAMETER = TYPE | ASTNode.Bit13;</WithOutStack>
  </Bug>
  <Bug>
    <BugId amount="91114" />
    <CreationDate amount="2005-04-12 08:03:00 -0400" />
    <DupId amount="" />
    <classification amount="Tools" />
    <Product amount="AspectJ" />
    <component amount="Compiler" />
    <Version amount="1.5.0M2" />
    <rep_platform amount="Sun" />
    <op_sys amount="All" />
    <priority amount="P3" />
    <bug_severity amount="normal" />
    <Summery>[jdt-parser] Parser error on System.out.printf("..." + (after-before) + "...")</Summery>
    <Patches amount="0" />
    <Stacktraces amount="0" />
    <SourceCodeRegions amount="3">
      <source_code type="class">
        <location start="56" end="246" />
        <code>class Foo {
        public void bar () {
                long before = 0;
                long after = 0;
                System.out.println("... " + (before - after) + " ...");

        }
}</code>
      </source_code>
      <source_code type="functioncall">
        <location start="417" end="472" />
        <code>System.out.println("... " + (before - after) + " ...");</code>
      </source_code>
      <source_code type="functioncall">
        <location start="580" end="639" />
        <code>System.out.println("... " + (after - before) + " ...");</code>
      </source_code>
    </SourceCodeRegions>
    <Enumerations amount="0" />
    <bug_status amount="RESOLVED" />
    <resolution amount="FIXED" />
    <WithStack>Following code fragment:

*****************************
class Foo {
        public void bar () {
                long before = 0;
                long after = 0;
                System.out.println("... " + (before - after) + " ...");

        }
}
*****************************

leads to following parser error

*****************************
[...].java:25 [error] Syntax error on token "-", invalid AssignmentOperator
System.out.println("... " + (before - after) + " ...");
*****************************

Problems seems to vanish when I rename the before variable.
Same applies if
    System.out.println("... " + (after - before) + " ...");

again, renaming after solves the problem
whilst Adrian has the parser open, he can take a look :)
Verified as happening on Windows 2000, PC hardware. I would switch the hardware 
to All if I had the power. Recommend that this never gets assigned as minor 
since some legacy/existing code cannot be changed to workaround this bug.
The problem is in the way that AspectJ handles its pseudo-keywords. Identifiers
such as "aspect", "pointcut", "before", "after" etc. are treated as keywords in
the context in which they may legitimately appear, but as identifiers in other
contexts. This *should* allow you to name your variable before and after in the
fragments of code shown in this bug report, but where the grammar has been
extended to cope with the new features of Java5, we clearly haven't yet nailed
all of the places where we need to be accomodating. 

Fix will be to find the grammar production for these expressions and ensure that
any use of 'Identifier' is replaced by 'JavaIdentifier'. Still targetting to fix
this as part of the current milestone (M3) development.
turns out a whole family of expressions fail, eg.

before * after, before &gt;&gt;&gt;  x, after \ before etc..

all of these are now successfully compiled as expected.

Fix committed to tree.</WithStack>
    <WithOutStack>Following code fragment:

*****************************
class Foo {
        public void bar () {
                long before = 0;
                long after = 0;
                System.out.println("... " + (before - after) + " ...");

        }
}
*****************************

leads to following parser error

*****************************
[...].java:25 [error] Syntax error on token "-", invalid AssignmentOperator
System.out.println("... " + (before - after) + " ...");
*****************************

Problems seems to vanish when I rename the before variable.
Same applies if
    System.out.println("... " + (after - before) + " ...");

again, renaming after solves the problem
whilst Adrian has the parser open, he can take a look :)
Verified as happening on Windows 2000, PC hardware. I would switch the hardware 
to All if I had the power. Recommend that this never gets assigned as minor 
since some legacy/existing code cannot be changed to workaround this bug.
The problem is in the way that AspectJ handles its pseudo-keywords. Identifiers
such as "aspect", "pointcut", "before", "after" etc. are treated as keywords in
the context in which they may legitimately appear, but as identifiers in other
contexts. This *should* allow you to name your variable before and after in the
fragments of code shown in this bug report, but where the grammar has been
extended to cope with the new features of Java5, we clearly haven't yet nailed
all of the places where we need to be accomodating. 

Fix will be to find the grammar production for these expressions and ensure that
any use of 'Identifier' is replaced by 'JavaIdentifier'. Still targetting to fix
this as part of the current milestone (M3) development.
turns out a whole family of expressions fail, eg.

before * after, before &gt;&gt;&gt;  x, after \ before etc..

all of these are now successfully compiled as expected.

Fix committed to tree.</WithOutStack>
  </Bug>
  <Bug>
    <BugId amount="91115" />
    <CreationDate amount="2005-04-12 08:27:00 -0400" />
    <DupId amount="" />
    <classification amount="Eclipse" />
    <Product amount="JDT" />
    <component amount="UI" />
    <Version amount="3.1" />
    <rep_platform amount="PC" />
    <op_sys amount="All" />
    <priority amount="P3" />
    <bug_severity amount="normal" />
    <Summery>Change method signature does not select table items on tab [refactoring]</Summery>
    <Patches amount="0" />
    <Stacktraces amount="0" />
    <SourceCodeRegions amount="0" />
    <Enumerations amount="0" />
    <bug_status amount="RESOLVED" />
    <resolution amount="FIXED" />
    <WithStack>I20050405-0800 + ZRH plugin export

Tabbing through the table items of a newly created parameter does not select 
the entire text of the table item anymore, but places the cursor at the end of 
the item text.

While this is certainly convenient in the new type wizard, the old behavior is 
more appropriate for change method signature, extract method and introduce 
parameter.
Fixed in HEAD.

Full cell selection behavior restored for refactoring dialogs. Still setting
caret to end of cell after adding interfaces in new type wizard.</WithStack>
    <WithOutStack>I20050405-0800 + ZRH plugin export

Tabbing through the table items of a newly created parameter does not select 
the entire text of the table item anymore, but places the cursor at the end of 
the item text.

While this is certainly convenient in the new type wizard, the old behavior is 
more appropriate for change method signature, extract method and introduce 
parameter.
Fixed in HEAD.

Full cell selection behavior restored for refactoring dialogs. Still setting
caret to end of cell after adding interfaces in new type wizard.</WithOutStack>
  </Bug>
  <Bug>
    <BugId amount="91116" />
    <CreationDate amount="2005-04-12 08:34:00 -0400" />
    <DupId amount="" />
    <classification amount="Tools" />
    <Product amount="TPTP Profiling" />
    <component amount="Platform.Doc" />
    <Version amount="4.0" />
    <rep_platform amount="PC" />
    <op_sys amount="Windows 2000" />
    <priority amount="P3" />
    <bug_severity amount="normal" />
    <Summery>Getting_started* contains link to old Hyades website</Summery>
    <Patches amount="0" />
    <Stacktraces amount="0" />
    <SourceCodeRegions amount="0" />
    <Enumerations amount="0" />
    <bug_status amount="CLOSED" />
    <resolution amount="FIXED" />
    <WithStack>Need to update the link pointing to old website
Fixed in tptp 3.3. &amp; 4.0
As of TPTP 4.6.0, TPTP is in maintenance mode and focusing on improving quality by resolving relevant enhancements/defects and increasing test coverage through test creation, automation, Build Verification Tests (BVTs), and expanded run-time execution. As part of the TPTP Bugzilla housecleaning process (see http://wiki.eclipse.org/Bugzilla_Housecleaning_Processes), this enhancement/defect is verified/closed by the Project Lead since this enhancement/defect has been resolved and unverified for more than 1 year and considered to be fixed. If this enhancement/defect is still unresolved and reproducible in the latest TPTP release (http://www.eclipse.org/tptp/home/downloads/), please re-open.</WithStack>
    <WithOutStack>Need to update the link pointing to old website
Fixed in tptp 3.3. &amp; 4.0
As of TPTP 4.6.0, TPTP is in maintenance mode and focusing on improving quality by resolving relevant enhancements/defects and increasing test coverage through test creation, automation, Build Verification Tests (BVTs), and expanded run-time execution. As part of the TPTP Bugzilla housecleaning process (see http://wiki.eclipse.org/Bugzilla_Housecleaning_Processes), this enhancement/defect is verified/closed by the Project Lead since this enhancement/defect has been resolved and unverified for more than 1 year and considered to be fixed. If this enhancement/defect is still unresolved and reproducible in the latest TPTP release (http://www.eclipse.org/tptp/home/downloads/), please re-open.</WithOutStack>
  </Bug>
  <Bug>
    <BugId amount="91117" />
    <CreationDate amount="2005-04-12 08:48:00 -0400" />
    <DupId amount="" />
    <classification amount="Eclipse Foundation" />
    <Product amount="z_Archived" />
    <component amount="VE" />
    <Version amount="unspecified" />
    <rep_platform amount="PC" />
    <op_sys amount="Windows XP" />
    <priority amount="P3" />
    <bug_severity amount="normal" />
    <Summery>Change defaults to make GridBagLayout and the grid more prominent</Summery>
    <Patches amount="0" />
    <Stacktraces amount="0" />
    <SourceCodeRegions amount="0" />
    <Enumerations amount="0" />
    <bug_status amount="NEW" />
    <resolution amount="" />
    <WithStack>The templates for creating Swing and SWT should default to have GridBagLayout
and GridLayout with the grid already on.  This should also be the default for
the Composite child that is created as part of the RCP View template.  We should
also have the actual grid lines showing by default with a checkbox to change the
default possibly on the preferences page.  This is based on feedback where users
would prefer to have GridBag and GridBagLayout with the grid as being the
default - we can't change the default JFC and SWT behavior but we can prime our
templates better which is what we should do.</WithStack>
    <WithOutStack>The templates for creating Swing and SWT should default to have GridBagLayout
and GridLayout with the grid already on.  This should also be the default for
the Composite child that is created as part of the RCP View template.  We should
also have the actual grid lines showing by default with a checkbox to change the
default possibly on the preferences page.  This is based on feedback where users
would prefer to have GridBag and GridBagLayout with the grid as being the
default - we can't change the default JFC and SWT behavior but we can prime our
templates better which is what we should do.</WithOutStack>
  </Bug>
  <Bug>
    <BugId amount="91118" />
    <CreationDate amount="2005-04-12 08:54:00 -0400" />
    <DupId amount="" />
    <classification amount="Eclipse" />
    <Product amount="Platform" />
    <component amount="Runtime" />
    <Version amount="3.1" />
    <rep_platform amount="Other" />
    <op_sys amount="other" />
    <priority amount="P3" />
    <bug_severity amount="normal" />
    <Summery>IPAQ: runtime M6 startup has increased over 100%</Summery>
    <Patches amount="0" />
    <Stacktraces amount="0" />
    <SourceCodeRegions amount="0" />
    <Enumerations amount="2">
      <Enumeration lines="8">
        <Lines>
          <Line>-  3644 :   470       - BundleContextImpl.startActivator() &gt; enter</Line>
          <Line>-  3645 :     1       - BundleContextImpl.startActivator() &gt; calling</Line>
          <Line>initial@reference: file:/M5a/plugins/org.eclipse.core.runtime_3.1.0/ bundle</Line>
          <Line>activator</Line>
          <Line>-  4033 :   388       - BundleContextImpl.startActivator() &gt; returned from</Line>
          <Line>initial@reference: file:/M5a/plugins/org.eclipse.core.runtime_3.1.0/ bundle</Line>
          <Line>activator</Line>
          <Line>-  4033 :   389       - BundleContextImpl.startActivator() &gt; exit</Line>
        </Lines>
      </Enumeration>
      <Enumeration lines="12">
        <Lines>
          <Line>-  3771 :   360       - BundleContextImpl.startActivator() &gt; enter</Line>
          <Line>-  3771 :     0       - BundleContextImpl.startActivator() &gt; calling</Line>
          <Line>initial@reference: file:/jxe/plugins/org.eclipse.core.runtime_3.1.0.jar/ bundle</Line>
          <Line>activator</Line>
          <Line>-  4719 :   948       - BundleContextImpl.startActivator() &gt; returned from</Line>
          <Line>initial@reference: file:/jxe/plugins/org.eclipse.core.runtime_3.1.0.jar/ bundle</Line>
          <Line>activator</Line>
          <Line>-  4719 :   948       - BundleContextImpl.startActivator() &gt; exit</Line>
          <Line>I haven't been able to reproduce this measurement.  Are you gathering this</Line>
          <Line>timing information by directly instrumenting the code yourself?  I gathering</Line>
          <Line>some startup times using the built in debug options.  I put these lines in my</Line>
          <Line>.options file:</Line>
        </Lines>
      </Enumeration>
    </Enumerations>
    <bug_status amount="RESOLVED" />
    <resolution amount="INVALID" />
    <WithStack>In comparing eRCP startup from M5a to M6 (using a iPAQ 5550, 400mhz ARM), the
startup time for org.eclipse.core.runtime has increased from about .40 seconds
to about .95 seconds.  This caused the eRCP demo application startup to go from
5.3 sec. to 5.8 seconds - almost 10% slower.  

Any suggestions on what to investigate?
Here is a typical profile for M5a &amp; M6:

M5a:: 0.388 seconds
-  3644 :   470       - BundleContextImpl.startActivator() &gt; enter
-  3645 :     1       - BundleContextImpl.startActivator() &gt; calling
initial@reference: file:/M5a/plugins/org.eclipse.core.runtime_3.1.0/ bundle
activator
-  4033 :   388       - BundleContextImpl.startActivator() &gt; returned from
initial@reference: file:/M5a/plugins/org.eclipse.core.runtime_3.1.0/ bundle
activator
-  4033 :   389       - BundleContextImpl.startActivator() &gt; exit


M6:: 0.948 seconds
-  3771 :   360       - BundleContextImpl.startActivator() &gt; enter
-  3771 :     0       - BundleContextImpl.startActivator() &gt; calling
initial@reference: file:/jxe/plugins/org.eclipse.core.runtime_3.1.0.jar/ bundle
activator
-  4719 :   948       - BundleContextImpl.startActivator() &gt; returned from
initial@reference: file:/jxe/plugins/org.eclipse.core.runtime_3.1.0.jar/ bundle
activator
-  4719 :   948       - BundleContextImpl.startActivator() &gt; exit
I haven't been able to reproduce this measurement.  Are you gathering this
timing information by directly instrumenting the code yourself?  I gathering
some startup times using the built in debug options.  I put these lines in my
.options file:

org.eclipse.core.runtime/debug=true
org.eclipse.core.runtime/timing/startup=true

Here are my startup times for the org.eclipse.core.runtime plugin, averaged over
ten runs:

M5a: 234 ms  std dev: 22 ms
M6: 197 ms std dev: 24 ms
I20050413: 205 ms std dev: 5 ms

If anything, an improvement from M5a to M6 in startup time for the
org.eclipse.core.runtime plugin.  Of course these times are going to be slighly
dependent on the size of your extension registry.  You're also running on very
different hardware, so if we have made tradeoffs that increase I/O but decrease
CPU we might obtain different results.

Our automated startup performance tests also don't show a regression during this
period.

It would be useful if you could try your measurement on the latest 3.1
integration build.  Also, let us know how many times you are repeating your test
and what the standard deviation looks like.
The size of my registry should be very small as I only had one plug-in with a
plug-in.xml file.  The IO performance on this device is very poor (compressed
file system, slow CPU, etc.)  

My measurements were using the osgi profiling: 
  org.eclipse.osgi/profile/startup=false

I don't have my data handy to tell you the starndard deviation, but I am certain
that the results were consistent (over at least 10 runs as I checked it many
times to get averages).  The startup from M5a to M6 was always more than 2x slower.

Do note that the profile timmings also include loading the .jar file.  I did not
check to see if the runtime code size grew a lot. 

It will take some time for me to isolate where the time is being spent for this
device (due to priorities). Looks like this may be required to make progress.
Phil, any progress on that?
I reran my tests of M5 and M6 using the OSGi profiling flags:

org.eclipse.osgi/debug=true
org.eclipse.osgi/profile/startup=true
org.eclipse.osgi/defaultprofile/logsynchronously=true

My results, across ten runs:

3.1 M5: average: 187.4 ms  std dev: 37.7 ms
3.1 M6: average: 151.8 ms  std dev: 12.9 ms

Note the results are much less consistent on M5.  However, I could not reproduce
any regression.  I am updating the bug title to make it clear this appears to
only be a regression on embedded platforms.
Removing target milestone.  We can't commit to fixing something we can't reproduce.
John, Thank you for looking at this. I have been detracted from eRCP work for a
customer which will likely persist for another couple weeks. I will verify the
results and get more profiling information on this device.
I've been thinking about this regression, and I have an idea for an experiment
you can try.  As you may know, the extension registry was changed in 3.1 to be
flushed from memory when not referenced and reloaded lazily from disk as needed.
 This is a standard speed/space tradeoff.  When the extension registry is very
large, this has a big payoff.  However, it does result in more disk I/O,
particularly during startup.  If a change was made between M5 and M6 that
results in more registry activity, it might be hurting your resource-constrained
device much more than the desktop case.  To test this, I suggest running both
3.1 M5 and M6 on your device with the following system property:

-Declipse.noRegistryFlushing=true

This turns off flushing of the in-memory registry, although it will still be
loaded lazily as various pieces are needed.  It would be interesting to see how
this affects your performance numbers across these milestones.
John, Thank you for this info. This is likely what I'm seeing. I'll try to test
this out sometime this week.
I've integrated RC1 level source into eRCP and tested this bug again using the
-Declipse.noRegistryFlushing=true value.

On RC1, core.runtime bundle activator takes about 865 milliseconds and 875
milliseconds if using the noRegistryFlushing flag set in config.ini.  I still
show M5a activator about a bout 400 milliseconds.  

The good news, overall startup is not any slower.  The unforunate news, I have
not got far into investigating this bug.
There has been significant changes in 3.2 around the startup sequence, the number of bundles, their activation, etc... so I think it somehow became invalid. That said, any idea on how to improve the startup performance are welcome.</WithStack>
    <WithOutStack>In comparing eRCP startup from M5a to M6 (using a iPAQ 5550, 400mhz ARM), the
startup time for org.eclipse.core.runtime has increased from about .40 seconds
to about .95 seconds.  This caused the eRCP demo application startup to go from
5.3 sec. to 5.8 seconds - almost 10% slower.  

Any suggestions on what to investigate?
Here is a typical profile for M5a &amp; M6:

M5a:: 0.388 seconds
-  3644 :   470       - BundleContextImpl.startActivator() &gt; enter
-  3645 :     1       - BundleContextImpl.startActivator() &gt; calling
initial@reference: file:/M5a/plugins/org.eclipse.core.runtime_3.1.0/ bundle
activator
-  4033 :   388       - BundleContextImpl.startActivator() &gt; returned from
initial@reference: file:/M5a/plugins/org.eclipse.core.runtime_3.1.0/ bundle
activator
-  4033 :   389       - BundleContextImpl.startActivator() &gt; exit


M6:: 0.948 seconds
-  3771 :   360       - BundleContextImpl.startActivator() &gt; enter
-  3771 :     0       - BundleContextImpl.startActivator() &gt; calling
initial@reference: file:/jxe/plugins/org.eclipse.core.runtime_3.1.0.jar/ bundle
activator
-  4719 :   948       - BundleContextImpl.startActivator() &gt; returned from
initial@reference: file:/jxe/plugins/org.eclipse.core.runtime_3.1.0.jar/ bundle
activator
-  4719 :   948       - BundleContextImpl.startActivator() &gt; exit
I haven't been able to reproduce this measurement.  Are you gathering this
timing information by directly instrumenting the code yourself?  I gathering
some startup times using the built in debug options.  I put these lines in my
.options file:

org.eclipse.core.runtime/debug=true
org.eclipse.core.runtime/timing/startup=true

Here are my startup times for the org.eclipse.core.runtime plugin, averaged over
ten runs:

M5a: 234 ms  std dev: 22 ms
M6: 197 ms std dev: 24 ms
I20050413: 205 ms std dev: 5 ms

If anything, an improvement from M5a to M6 in startup time for the
org.eclipse.core.runtime plugin.  Of course these times are going to be slighly
dependent on the size of your extension registry.  You're also running on very
different hardware, so if we have made tradeoffs that increase I/O but decrease
CPU we might obtain different results.

Our automated startup performance tests also don't show a regression during this
period.

It would be useful if you could try your measurement on the latest 3.1
integration build.  Also, let us know how many times you are repeating your test
and what the standard deviation looks like.
The size of my registry should be very small as I only had one plug-in with a
plug-in.xml file.  The IO performance on this device is very poor (compressed
file system, slow CPU, etc.)  

My measurements were using the osgi profiling: 
  org.eclipse.osgi/profile/startup=false

I don't have my data handy to tell you the starndard deviation, but I am certain
that the results were consistent (over at least 10 runs as I checked it many
times to get averages).  The startup from M5a to M6 was always more than 2x slower.

Do note that the profile timmings also include loading the .jar file.  I did not
check to see if the runtime code size grew a lot. 

It will take some time for me to isolate where the time is being spent for this
device (due to priorities). Looks like this may be required to make progress.
Phil, any progress on that?
I reran my tests of M5 and M6 using the OSGi profiling flags:

org.eclipse.osgi/debug=true
org.eclipse.osgi/profile/startup=true
org.eclipse.osgi/defaultprofile/logsynchronously=true

My results, across ten runs:

3.1 M5: average: 187.4 ms  std dev: 37.7 ms
3.1 M6: average: 151.8 ms  std dev: 12.9 ms

Note the results are much less consistent on M5.  However, I could not reproduce
any regression.  I am updating the bug title to make it clear this appears to
only be a regression on embedded platforms.
Removing target milestone.  We can't commit to fixing something we can't reproduce.
John, Thank you for looking at this. I have been detracted from eRCP work for a
customer which will likely persist for another couple weeks. I will verify the
results and get more profiling information on this device.
I've been thinking about this regression, and I have an idea for an experiment
you can try.  As you may know, the extension registry was changed in 3.1 to be
flushed from memory when not referenced and reloaded lazily from disk as needed.
 This is a standard speed/space tradeoff.  When the extension registry is very
large, this has a big payoff.  However, it does result in more disk I/O,
particularly during startup.  If a change was made between M5 and M6 that
results in more registry activity, it might be hurting your resource-constrained
device much more than the desktop case.  To test this, I suggest running both
3.1 M5 and M6 on your device with the following system property:

-Declipse.noRegistryFlushing=true

This turns off flushing of the in-memory registry, although it will still be
loaded lazily as various pieces are needed.  It would be interesting to see how
this affects your performance numbers across these milestones.
John, Thank you for this info. This is likely what I'm seeing. I'll try to test
this out sometime this week.
I've integrated RC1 level source into eRCP and tested this bug again using the
-Declipse.noRegistryFlushing=true value.

On RC1, core.runtime bundle activator takes about 865 milliseconds and 875
milliseconds if using the noRegistryFlushing flag set in config.ini.  I still
show M5a activator about a bout 400 milliseconds.  

The good news, overall startup is not any slower.  The unforunate news, I have
not got far into investigating this bug.
There has been significant changes in 3.2 around the startup sequence, the number of bundles, their activation, etc... so I think it somehow became invalid. That said, any idea on how to improve the startup performance are welcome.</WithOutStack>
  </Bug>
  <Bug>
    <BugId amount="91119" />
    <CreationDate amount="2005-04-12 09:09:00 -0400" />
    <DupId amount="" />
    <classification amount="Eclipse" />
    <Product amount="JDT" />
    <component amount="Core" />
    <Version amount="3.1" />
    <rep_platform amount="Sun" />
    <op_sys amount="Solaris" />
    <priority amount="P3" />
    <bug_severity amount="major" />
    <Summery>Java builder extremly slow with soft links</Summery>
    <Patches amount="0" />
    <Stacktraces amount="0" />
    <SourceCodeRegions amount="1">
      <source_code type="singlecomment">
        <location start="511" end="521" />
        <code>//Mikael</code>
      </source_code>
    </SourceCodeRegions>
    <Enumerations amount="0" />
    <bug_status amount="CLOSED" />
    <resolution amount="INVALID" />
    <WithStack>Hi,

We are using clearcase as our SCM. In there we have a couple of soft links that 
point to the source code packages.

ddd_swb/ddd_bldu/ant_build/src/se/ercisson/.........../ddmao_swu@@" -
&gt; ./../../../../../../../ddmao_swu/src/
ddd_swb/ddmao_swu/src/*

The reason for this structure is that we want to separate package structure 
labling and the actual source file labling.

However eclipse is considerble slow using symbolic links. 

I have tested the following on my $HOME dir and eclipse is much faster.

//Mikael
Have you tried any other application with the same structure/links?

Eclipse is just calling the file system to get to the directories/files, so it 
should be the same as other applications.

I doubt there is anything we can do to work around this.
Please provide requested feedback and reopen in case this slowness it's specific
to eclipse, thx

Timeout. Closing
As of now 'LATER' and 'REMIND' resolutions are no longer supported.
Please reopen this bug if it is still valid for you.</WithStack>
    <WithOutStack>Hi,

We are using clearcase as our SCM. In there we have a couple of soft links that 
point to the source code packages.

ddd_swb/ddd_bldu/ant_build/src/se/ercisson/.........../ddmao_swu@@" -
&gt; ./../../../../../../../ddmao_swu/src/
ddd_swb/ddmao_swu/src/*

The reason for this structure is that we want to separate package structure 
labling and the actual source file labling.

However eclipse is considerble slow using symbolic links. 

I have tested the following on my $HOME dir and eclipse is much faster.

//Mikael
Have you tried any other application with the same structure/links?

Eclipse is just calling the file system to get to the directories/files, so it 
should be the same as other applications.

I doubt there is anything we can do to work around this.
Please provide requested feedback and reopen in case this slowness it's specific
to eclipse, thx

Timeout. Closing
As of now 'LATER' and 'REMIND' resolutions are no longer supported.
Please reopen this bug if it is still valid for you.</WithOutStack>
  </Bug>
  <Bug>
    <BugId amount="91120" />
    <CreationDate amount="2005-04-12 09:19:00 -0400" />
    <DupId amount="" />
    <classification amount="Eclipse" />
    <Product amount="Platform" />
    <component amount="IDE" />
    <Version amount="3.0.1" />
    <rep_platform amount="PC" />
    <op_sys amount="Windows XP" />
    <priority amount="P5" />
    <bug_severity amount="normal" />
    <Summery>[IDE]ide defines unselected resource filter</Summery>
    <Patches amount="0" />
    <Stacktraces amount="0" />
    <SourceCodeRegions amount="0" />
    <Enumerations amount="0" />
    <bug_status amount="NEW" />
    <resolution amount="" />
    <WithStack>The org.eclipse.ui.ide.resourceFilters extension point in 

The plugin.xml in org.eclipse.ui.ide sets the resourceFilters extension for 
the ".*" pattern to false. There is no id for the extension point. 

org.eclipse.ui.ide plugin.xml

&lt;extension
point="org.eclipse.ui.ide.resourceFilters"&gt;
&lt;filter
selected="false"
pattern=".*"&gt;
&lt;/filter&gt;
&lt;/extension&gt;

The result of setting a ".*" filter in another plugin.xml is a new 
UNSELECTED filter for ".*" . 

   &lt;extension
         id="SystemFileFilter"
         name="System File Filter"
         point="org.eclipse.ui.ide.resourceFilters"&gt;
      &lt;filter
            selected="true"
            pattern=".*"/&gt;
   &lt;/extension&gt;
What would you expect the behaviour to be?  
Adding a resource filter in a plug-in with selected = "true" should select the 
filter for the pattern. 

In this case, there is contention for the filter pattern from the 
org.eclipse.ui.ide plug-in and no way to change the default value set by 
org.eclipse.ui.ide. 
So if N plug-ins contribute a pattern P, and any of them specifies
selected="true", then that should override all the others that specify
selected="false"?

Obviously not! 

Is it important that org.eclipse.ui.ide create the filter? If not, remove it. 
Why create a filter if it is not selected? Currently, there is no way to change 
the default value of the ".*" filter if an application needs to include 
org.eclipse.ui.ide.

If the filter is needed, add an id and name to the extension point in 
org.eclipse.ui.ide. I am assuming that others can use their own plug-in to 
change the selected value of the ".*" filter using the extension point id. This 
needs to be confirmed or verified. If this is not true, there is a larger 
problem that needs to be addressed at a higher level and you definitely don't 
want to create an unnecessary filter in org.eclipse.ui.ide. 


&gt; Is it important that org.eclipse.ui.ide create the filter? If not, remove it. 
&gt; Why create a filter if it is not selected? 

It creates the filter to allow it to be chosen by the user, e.g. to hide
.project and .classpath files, but we decided not to hide these by default.
So in the IDE scenario, it makes sense to have it be declared with selected="false".

&gt; Currently, there is no way to change the default value of the ".*" filter if
an application needs to include org.eclipse.ui.ide.

Are you talking about an RCP app scenario?  If so, note that org.eclipse.ui.ide
is not intended to be reused in other RCP apps.  See:
http://eclipse.org/rcp/faq.html#idePlugin

&gt; If the filter is needed, add an id and name to the extension point in 
org.eclipse.ui.ide. I am assuming that others can use their own plug-in to 
change the selected value of the ".*" filter using the extension point id. 

There is currently no way for other plug-ins to override the selected attribute
for existing extensions.  The id and name attibutes are not currently used.

For a related discussion, see bug 73587, especially bug 73587 comment 9.


&gt;Are you talking about an RCP app scenario? 

We based our application on the Eclipse platform which includes 
org.eclipse.ui.ide. 

&gt;[org.eclipse.ui.ide] creates the filter to allow it to be chosen by the user, 
e.g. to hide .project and .classpath files, but we decided not to hide these by 
default.

To be clear, ".*" files are displayed to the user by default for every 
application that includes org.eclipse.ui.ide. 

&gt; There is currently no way for other plug-ins to override the selected 
attribute for existing extensions.  The id and name attibutes are not currently 
used.

While this particular case is a minor problem for us, the inability to modify 
plug-in default settings makes the re-use of plug-ins in our applications (and 
therefore Eclipse itself) less attractive. 

&gt;For a related discussion, see bug 73587, especially bug 73587 comment 9.

Thanks for the link to the related disucssion. I strongly agree that there 
should be a runtime product configuration mechanism to configure plug-in 
options. 


"As per http://wiki.eclipse.org/Platform_UI/Bug_Triage_Change_2009"</WithStack>
    <WithOutStack>The org.eclipse.ui.ide.resourceFilters extension point in 

The plugin.xml in org.eclipse.ui.ide sets the resourceFilters extension for 
the ".*" pattern to false. There is no id for the extension point. 

org.eclipse.ui.ide plugin.xml

&lt;extension
point="org.eclipse.ui.ide.resourceFilters"&gt;
&lt;filter
selected="false"
pattern=".*"&gt;
&lt;/filter&gt;
&lt;/extension&gt;

The result of setting a ".*" filter in another plugin.xml is a new 
UNSELECTED filter for ".*" . 

   &lt;extension
         id="SystemFileFilter"
         name="System File Filter"
         point="org.eclipse.ui.ide.resourceFilters"&gt;
      &lt;filter
            selected="true"
            pattern=".*"/&gt;
   &lt;/extension&gt;
What would you expect the behaviour to be?  
Adding a resource filter in a plug-in with selected = "true" should select the 
filter for the pattern. 

In this case, there is contention for the filter pattern from the 
org.eclipse.ui.ide plug-in and no way to change the default value set by 
org.eclipse.ui.ide. 
So if N plug-ins contribute a pattern P, and any of them specifies
selected="true", then that should override all the others that specify
selected="false"?

Obviously not! 

Is it important that org.eclipse.ui.ide create the filter? If not, remove it. 
Why create a filter if it is not selected? Currently, there is no way to change 
the default value of the ".*" filter if an application needs to include 
org.eclipse.ui.ide.

If the filter is needed, add an id and name to the extension point in 
org.eclipse.ui.ide. I am assuming that others can use their own plug-in to 
change the selected value of the ".*" filter using the extension point id. This 
needs to be confirmed or verified. If this is not true, there is a larger 
problem that needs to be addressed at a higher level and you definitely don't 
want to create an unnecessary filter in org.eclipse.ui.ide. 


&gt; Is it important that org.eclipse.ui.ide create the filter? If not, remove it. 
&gt; Why create a filter if it is not selected? 

It creates the filter to allow it to be chosen by the user, e.g. to hide
.project and .classpath files, but we decided not to hide these by default.
So in the IDE scenario, it makes sense to have it be declared with selected="false".

&gt; Currently, there is no way to change the default value of the ".*" filter if
an application needs to include org.eclipse.ui.ide.

Are you talking about an RCP app scenario?  If so, note that org.eclipse.ui.ide
is not intended to be reused in other RCP apps.  See:
http://eclipse.org/rcp/faq.html#idePlugin

&gt; If the filter is needed, add an id and name to the extension point in 
org.eclipse.ui.ide. I am assuming that others can use their own plug-in to 
change the selected value of the ".*" filter using the extension point id. 

There is currently no way for other plug-ins to override the selected attribute
for existing extensions.  The id and name attibutes are not currently used.

For a related discussion, see bug 73587, especially bug 73587 comment 9.


&gt;Are you talking about an RCP app scenario? 

We based our application on the Eclipse platform which includes 
org.eclipse.ui.ide. 

&gt;[org.eclipse.ui.ide] creates the filter to allow it to be chosen by the user, 
e.g. to hide .project and .classpath files, but we decided not to hide these by 
default.

To be clear, ".*" files are displayed to the user by default for every 
application that includes org.eclipse.ui.ide. 

&gt; There is currently no way for other plug-ins to override the selected 
attribute for existing extensions.  The id and name attibutes are not currently 
used.

While this particular case is a minor problem for us, the inability to modify 
plug-in default settings makes the re-use of plug-ins in our applications (and 
therefore Eclipse itself) less attractive. 

&gt;For a related discussion, see bug 73587, especially bug 73587 comment 9.

Thanks for the link to the related disucssion. I strongly agree that there 
should be a runtime product configuration mechanism to configure plug-in 
options. 


"As per http://wiki.eclipse.org/Platform_UI/Bug_Triage_Change_2009"</WithOutStack>
  </Bug>
  <Bug>
    <BugId amount="91121" />
    <CreationDate amount="2005-04-12 09:20:00 -0400" />
    <DupId amount="" />
    <classification amount="Eclipse Foundation" />
    <Product amount="z_Archived" />
    <component amount="VE" />
    <Version amount="unspecified" />
    <rep_platform amount="PC" />
    <op_sys amount="Windows XP" />
    <priority amount="P3" />
    <bug_severity amount="normal" />
    <Summery>Changing fields names to be shared caused edit part problems</Summery>
    <Patches amount="0" />
    <Stacktraces amount="2">
      <Stacktrace timestamp="1437341255623">
        <Exception>org.eclipse.swt.SWTException</Exception>
        <Reason>Failed to execute runnable
(java.lang.NullPointerException)</Reason>
        <Frames>
          <Frame depth="0">org.eclipse.swt.SWT.error(SWT.java:2860)</Frame>
          <Frame depth="1">org.eclipse.swt.SWT.error(SWT.java:2783)</Frame>
          <Frame depth="2">org.eclipse.swt.widgets.Synchronizer.runAsyncMessages(Synchronizer.java:121)</Frame>
          <Frame depth="3">org.eclipse.swt.widgets.Display.runAsyncMessages(Display.java:2871)</Frame>
          <Frame depth="4">org.eclipse.swt.widgets.Display.readAndDispatch(Display.java:2530)</Frame>
          <Frame depth="5">org.eclipse.ui.internal.Workbench.runEventLoop(Workbench.java:1570)</Frame>
          <Frame depth="6">org.eclipse.ui.internal.Workbench.runUI(Workbench.java:1534)</Frame>
          <Frame depth="7">org.eclipse.ui.internal.Workbench.createAndRunWorkbench(Workbench.java:306)</Frame>
          <Frame depth="8">org.eclipse.ui.PlatformUI.createAndRunWorkbench(PlatformUI.java:143)</Frame>
          <Frame depth="9">org.eclipse.ui.internal.ide.IDEApplication.run(IDEApplication.java:103)</Frame>
          <Frame depth="10">org.eclipse.core.internal.runtime.PlatformActivator$1.run(PlatformActivator.java:228)</Frame>
          <Frame depth="11">org.eclipse.core.runtime.adaptor.EclipseStarter.run(EclipseStarter.java:344)</Frame>
          <Frame depth="12">org.eclipse.core.runtime.adaptor.EclipseStarter.run(EclipseStarter.java:156)</Frame>
          <Frame depth="13">sun.reflect.NativeMethodAccessorImpl.invoke0(Native Method)</Frame>
          <Frame depth="14">sun.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:39)</Frame>
          <Frame depth="15">sun.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:25)</Frame>
          <Frame depth="16">java.lang.reflect.Method.invoke(Method.java:324)</Frame>
          <Frame depth="17">org.eclipse.core.launcher.Main.invokeFramework(Main.java:315)</Frame>
          <Frame depth="18">org.eclipse.core.launcher.Main.basicRun(Main.java:268)</Frame>
          <Frame depth="19">org.eclipse.core.launcher.Main.run(Main.java:942)</Frame>
          <Frame depth="20">org.eclipse.core.launcher.Main.main(Main.java:926)</Frame>
        </Frames>
      </Stacktrace>
      <Cause timestamp="1437341255623">
        <Exception>java.lang.NullPointerException</Exception>
        <Reason />
        <Frames>
          <Frame depth="0">org.eclipse.ve.internal.swt.ControlProxyAdapter.refreshImage(ControlProxyAdapter.java:271)</Frame>
          <Frame depth="1">org.eclipse.ve.internal.swt.ControlProxyAdapter$3.run(ControlProxyAdapter.java:316)</Frame>
          <Frame depth="2">org.eclipse.swt.widgets.RunnableLock.run(RunnableLock.java:35)</Frame>
          <Frame depth="3">org.eclipse.swt.widgets.Synchronizer.runAsyncMessages(Synchronizer.java:118)</Frame>
        </Frames>
      </Cause>
    </Stacktraces>
    <SourceCodeRegions amount="1">
      <source_code type="class">
        <location start="28" end="509" />
        <code>public class GridLayoutSharedNames extends Composite {

	private Button button = null;
	private Button button1;

	public GridLayoutSharedNames(Composite parent, int style) {
		super(parent, style);
		initialize();
	}

	private void initialize() {
		this.setLayout(new GridLayout());
		setSize(new org.eclipse.swt.graphics.Point(300,200));
		button = new Button(this, SWT.NONE);
		button.setText("First");		
		button1 = new Button(this, SWT.NONE);
		button1.setText("Second");

	}
}</code>
      </source_code>
    </SourceCodeRegions>
    <Enumerations amount="0" />
    <bug_status amount="CLOSED" />
    <resolution amount="FIXED" />
    <WithStack>Test case:  start with file
public class GridLayoutSharedNames extends Composite {

	private Button button = null;
	private Button button1;

	public GridLayoutSharedNames(Composite parent, int style) {
		super(parent, style);
		initialize();
	}

	private void initialize() {
		this.setLayout(new GridLayout());
		setSize(new org.eclipse.swt.graphics.Point(300,200));
		button = new Button(this, SWT.NONE);
		button.setText("First");		
		button1 = new Button(this, SWT.NONE);
		button1.setText("Second");

	}
}

Then delete the button1 field and change the two references in the source code
to be "button".  This makes the class now share the field name "button" between
two fields.  The edit parts are wrong on the tree where the second button is a
child of the composition and now the composite and on the GUI it isn't showing
the label text correctly.  Re-load from scratch fixes it.
If the changing of the two fields is done in the order where button is deleted
(the first one) and its references changed to "button1" then the
ControlProxyAdapter throws an NPE as below doing image capture:

org.eclipse.swt.SWTException: Failed to execute runnable
(java.lang.NullPointerException)
at org.eclipse.swt.SWT.error(SWT.java:2860)
at org.eclipse.swt.SWT.error(SWT.java:2783)
at org.eclipse.swt.widgets.Synchronizer.runAsyncMessages(Synchronizer.java:121)
at org.eclipse.swt.widgets.Display.runAsyncMessages(Display.java:2871)
at org.eclipse.swt.widgets.Display.readAndDispatch(Display.java:2530)
at org.eclipse.ui.internal.Workbench.runEventLoop(Workbench.java:1570)
at org.eclipse.ui.internal.Workbench.runUI(Workbench.java:1534)
at org.eclipse.ui.internal.Workbench.createAndRunWorkbench(Workbench.java:306)
at org.eclipse.ui.PlatformUI.createAndRunWorkbench(PlatformUI.java:143)
at org.eclipse.ui.internal.ide.IDEApplication.run(IDEApplication.java:103)
at
org.eclipse.core.internal.runtime.PlatformActivator$1.run(PlatformActivator.java:228)
at org.eclipse.core.runtime.adaptor.EclipseStarter.run(EclipseStarter.java:344)
at org.eclipse.core.runtime.adaptor.EclipseStarter.run(EclipseStarter.java:156)
at sun.reflect.NativeMethodAccessorImpl.invoke0(Native Method)
at sun.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:39)
at
sun.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:25)
at java.lang.reflect.Method.invoke(Method.java:324)
at org.eclipse.core.launcher.Main.invokeFramework(Main.java:315)
at org.eclipse.core.launcher.Main.basicRun(Main.java:268)
at org.eclipse.core.launcher.Main.run(Main.java:942)
at org.eclipse.core.launcher.Main.main(Main.java:926)
Caused by: java.lang.NullPointerException
at
org.eclipse.ve.internal.swt.ControlProxyAdapter.refreshImage(ControlProxyAdapter.java:271)
at
org.eclipse.ve.internal.swt.ControlProxyAdapter$3.run(ControlProxyAdapter.java:316)
at org.eclipse.swt.widgets.RunnableLock.run(RunnableLock.java:35)
at org.eclipse.swt.widgets.Synchronizer.runAsyncMessages(Synchronizer.java:118)


Joe, please try to recreate this. I have fixed a lot of snippet problems with
Bug 90967.
Per Joe, it is fixed now

1.1M1 is out. Time to close.</WithStack>
    <WithOutStack>Test case:  start with file
public class GridLayoutSharedNames extends Composite {

	private Button button = null;
	private Button button1;

	public GridLayoutSharedNames(Composite parent, int style) {
		super(parent, style);
		initialize();
	}

	private void initialize() {
		this.setLayout(new GridLayout());
		setSize(new org.eclipse.swt.graphics.Point(300,200));
		button = new Button(this, SWT.NONE);
		button.setText("First");		
		button1 = new Button(this, SWT.NONE);
		button1.setText("Second");

	}
}

Then delete the button1 field and change the two references in the source code
to be "button".  This makes the class now share the field name "button" between
two fields.  The edit parts are wrong on the tree where the second button is a
child of the composition and now the composite and on the GUI it isn't showing
the label text correctly.  Re-load from scratch fixes it.
If the changing of the two fields is done in the order where button is deleted
(the first one) and its references changed to "button1" then the
ControlProxyAdapter throws an NPE as below doing image capture:





Joe, please try to recreate this. I have fixed a lot of snippet problems with
Bug 90967.
Per Joe, it is fixed now

1.1M1 is out. Time to close.</WithOutStack>
  </Bug>
  <Bug>
    <BugId amount="91122" />
    <CreationDate amount="2005-04-12 09:30:00 -0400" />
    <DupId amount="" />
    <classification amount="Eclipse" />
    <Product amount="Platform" />
    <component amount="UI" />
    <Version amount="3.1" />
    <rep_platform amount="All" />
    <op_sys amount="All" />
    <priority amount="P3" />
    <bug_severity amount="normal" />
    <Summery>[Contributions] ordering: issue with multiple object contributions that contribute the same menu</Summery>
    <Patches amount="0" />
    <Stacktraces amount="0" />
    <SourceCodeRegions amount="0" />
    <Enumerations amount="1">
      <Enumeration lines="7">
        <Lines>
          <Line>- assume you have two object class: ICompilationUnit and SourceType.</Line>
          <Line>- ICompilcationUnit has two contributions that include the Replace With menu</Line>
          <Line>- Source Type has a different contribution to the Replace With menu (replace</Line>
          <Line>with element from local history).</Line>
          <Line>- Each contribution redefines the Replace With menu so the replace with menu</Line>
          <Line>is added multiple times to the context menu</Line>
          <Line>- Each insert of the submenu repositions the submenu</Line>
        </Lines>
      </Enumeration>
    </Enumerations>
    <bug_status amount="NEW" />
    <resolution amount="" />
    <WithStack>For the original problem that surfaced this bug, see bug 81444. A summary of 
the issue is this:

- assume you have two object class: ICompilationUnit and SourceType.
- ICompilcationUnit has two contributions that include the Replace With menu
- Source Type has a different contribution to the Replace With menu (replace 
with element from local history).
- Each contribution redefines the Replace With menu so the replace with menu 
is added multiple times to the context menu
- Each insert of the submenu repositions the submenu

There are two problems here. First, the group is readded each time and second 
the order of the menu may differ depending on when each contribution is added. 
I will attach a patch that fixes the first problem and reduces the chances of 
the second.
Created attachment 19811
Patch to org.eclipse.ui.workbench

Here's the patch. This does fix the problem as stated but I don't know if there
are any undesirable side effects.
Jean-Michel, could you please review the patch too?

The patch looks good to me.
Applied.

Verified in I20050509-2010.

Fix reverted as it introduced 98020
marking as 3.2
Moving Dougs bugs
Assigning to component owner
PW

We should solve this issue or mark as WONTFIX in 3.4
PW

Updated as per http://wiki.eclipse.org/Platform_UI/Bug_Triage
PW</WithStack>
    <WithOutStack>For the original problem that surfaced this bug, see bug 81444. A summary of 
the issue is this:

- assume you have two object class: ICompilationUnit and SourceType.
- ICompilcationUnit has two contributions that include the Replace With menu
- Source Type has a different contribution to the Replace With menu (replace 
with element from local history).
- Each contribution redefines the Replace With menu so the replace with menu 
is added multiple times to the context menu
- Each insert of the submenu repositions the submenu

There are two problems here. First, the group is readded each time and second 
the order of the menu may differ depending on when each contribution is added. 
I will attach a patch that fixes the first problem and reduces the chances of 
the second.
Created attachment 19811
Patch to org.eclipse.ui.workbench

Here's the patch. This does fix the problem as stated but I don't know if there
are any undesirable side effects.
Jean-Michel, could you please review the patch too?

The patch looks good to me.
Applied.

Verified in I20050509-2010.

Fix reverted as it introduced 98020
marking as 3.2
Moving Dougs bugs
Assigning to component owner
PW

We should solve this issue or mark as WONTFIX in 3.4
PW

Updated as per http://wiki.eclipse.org/Platform_UI/Bug_Triage
PW</WithOutStack>
  </Bug>
  <Bug>
    <BugId amount="91123" />
    <CreationDate amount="2005-04-12 09:30:00 -0400" />
    <DupId amount="" />
    <classification amount="WebTools" />
    <Product amount="WTP Java EE Tools" />
    <component amount="jst.j2ee" />
    <Version amount="0.7" />
    <rep_platform amount="PC" />
    <op_sys amount="Windows XP" />
    <priority amount="P3" />
    <bug_severity amount="major" />
    <Summery>NPE in EJBDeployableFactory</Summery>
    <Patches amount="0" />
    <Stacktraces amount="1">
      <Stacktrace timestamp="1437341255628">
        <Exception>java.lang.NullPointerException</Exception>
        <Reason />
        <Frames>
          <Frame depth="0">org.eclipse.jst.j2ee.ejb.internal.deployables.EJBDeployableFactory.isValidModule(EJBDeployableFactory.java:98)</Frame>
          <Frame depth="1">org.eclipse.wst.server.core.util.ProjectModuleFactoryDelegate.cacheModules(ProjectModuleFactoryDelegate.java:59)</Frame>
          <Frame depth="2">org.eclipse.jst.j2ee.ejb.internal.deployables.EJBDeployableFactory.getModules(EJBDeployableFactory.java:81)</Frame>
          <Frame depth="3">org.eclipse.wst.server.core.util.ProjectModuleFactoryDelegate.updateProjects(ProjectModuleFactoryDelegate.java:183)</Frame>
          <Frame depth="4">org.eclipse.wst.server.core.util.ProjectModuleFactoryDelegate.fireGlobalEvents(ProjectModuleFactoryDelegate.java:169)</Frame>
          <Frame depth="5">org.eclipse.wst.server.core.util.ProjectModuleFactoryDelegate$1.resourceChanged(ProjectModuleFactoryDelegate.java:129)</Frame>
          <Frame depth="6">org.eclipse.core.internal.events.NotificationManager$2.run(NotificationManager.java:276)</Frame>
          <Frame depth="7">org.eclipse.core.internal.runtime.InternalPlatform.run(InternalPlatform.java:1021)</Frame>
          <Frame depth="8">org.eclipse.core.runtime.Platform.run(Platform.java:757)</Frame>
          <Frame depth="9">org.eclipse.core.internal.events.NotificationManager.notify(NotificationManager.java:270)</Frame>
          <Frame depth="10">org.eclipse.core.internal.events.NotificationManager.broadcastChanges(NotificationManager.java:144)</Frame>
          <Frame depth="11">org.eclipse.core.internal.resources.Workspace.broadcastPostChange(Workspace.java:180)</Frame>
          <Frame depth="12">org.eclipse.core.internal.resources.Workspace.endOperation(Workspace.java:912)</Frame>
          <Frame depth="13">org.eclipse.core.internal.resources.Workspace.run(Workspace.java:1723)</Frame>
          <Frame depth="14">org.eclipse.jdt.core.JavaCore.run(JavaCore.java:3665)</Frame>
          <Frame depth="15">org.eclipse.jdt.core.JavaCore.setClasspathContainer(JavaCore.java:3835)</Frame>
          <Frame depth="16">org.eclipse.jdt.internal.launching.JREContainerInitializer.initialize(JREContainerInitializer.java:54)</Frame>
          <Frame depth="17">org.eclipse.jdt.internal.core.JavaModelManager.initializeContainer(JavaModelManager.java:1281)</Frame>
          <Frame depth="18">org.eclipse.jdt.internal.core.JavaModelManager.initializeAllContainers(JavaModelManager.java:1246)</Frame>
          <Frame depth="19">org.eclipse.jdt.internal.core.JavaModelManager.getClasspathContainer(JavaModelManager.java:853)</Frame>
          <Frame depth="20">org.eclipse.jdt.core.JavaCore.getClasspathContainer(JavaCore.java:1313)</Frame>
          <Frame depth="21">org.eclipse.jdt.internal.core.JavaProject.getResolvedClasspath(JavaProject.java:2033)</Frame>
          <Frame depth="22">org.eclipse.jdt.internal.core.JavaProject.getResolvedClasspath(JavaProject.java:1941)</Frame>
          <Frame depth="23">org.eclipse.jdt.internal.core.search.JavaSearchScope.add(JavaSearchScope.java:100)</Frame>
          <Frame depth="24">org.eclipse.jdt.internal.core.search.JavaWorkspaceScope.initialize(JavaWorkspaceScope.java:80)</Frame>
          <Frame depth="25">org.eclipse.jdt.internal.core.search.JavaSearchScope.&lt;init&gt;(JavaSearchScope.java:56)</Frame>
          <Frame depth="26">org.eclipse.jdt.internal.core.search.JavaWorkspaceScope.&lt;init&gt;(JavaWorkspaceScope.java:31)</Frame>
          <Frame depth="27">org.eclipse.jdt.internal.core.search.BasicSearchEngine.createWorkspaceScope(BasicSearchEngine.java:157)</Frame>
          <Frame depth="28">org.eclipse.jdt.core.search.SearchEngine.createWorkspaceScope(SearchEngine.java:392)</Frame>
          <Frame depth="29">org.eclipse.jdt.internal.corext.util.AllTypesCache.search(AllTypesCache.java:557)</Frame>
        </Frames>
      </Stacktrace>
    </Stacktraces>
    <SourceCodeRegions amount="0" />
    <Enumerations amount="0" />
    <bug_status amount="CLOSED" />
    <resolution amount="FIXED" />
    <WithStack>I'm seeing a lot of stack traces like the following once I moved up to last
week's I-build:

java.lang.NullPointerException
	at
org.eclipse.jst.j2ee.ejb.internal.deployables.EJBDeployableFactory.isValidModule(EJBDeployableFactory.java:98)
	at
org.eclipse.wst.server.core.util.ProjectModuleFactoryDelegate.cacheModules(ProjectModuleFactoryDelegate.java:59)
	at
org.eclipse.jst.j2ee.ejb.internal.deployables.EJBDeployableFactory.getModules(EJBDeployableFactory.java:81)
	at
org.eclipse.wst.server.core.util.ProjectModuleFactoryDelegate.updateProjects(ProjectModuleFactoryDelegate.java:183)
	at
org.eclipse.wst.server.core.util.ProjectModuleFactoryDelegate.fireGlobalEvents(ProjectModuleFactoryDelegate.java:169)
	at
org.eclipse.wst.server.core.util.ProjectModuleFactoryDelegate$1.resourceChanged(ProjectModuleFactoryDelegate.java:129)
	at
org.eclipse.core.internal.events.NotificationManager$2.run(NotificationManager.java:276)
	at
org.eclipse.core.internal.runtime.InternalPlatform.run(InternalPlatform.java:1021)
	at org.eclipse.core.runtime.Platform.run(Platform.java:757)
	at
org.eclipse.core.internal.events.NotificationManager.notify(NotificationManager.java:270)
	at
org.eclipse.core.internal.events.NotificationManager.broadcastChanges(NotificationManager.java:144)
	at
org.eclipse.core.internal.resources.Workspace.broadcastPostChange(Workspace.java:180)
	at org.eclipse.core.internal.resources.Workspace.endOperation(Workspace.java:912)
	at org.eclipse.core.internal.resources.Workspace.run(Workspace.java:1723)
	at org.eclipse.jdt.core.JavaCore.run(JavaCore.java:3665)
	at org.eclipse.jdt.core.JavaCore.setClasspathContainer(JavaCore.java:3835)
	at
org.eclipse.jdt.internal.launching.JREContainerInitializer.initialize(JREContainerInitializer.java:54)
	at
org.eclipse.jdt.internal.core.JavaModelManager.initializeContainer(JavaModelManager.java:1281)
	at
org.eclipse.jdt.internal.core.JavaModelManager.initializeAllContainers(JavaModelManager.java:1246)
	at
org.eclipse.jdt.internal.core.JavaModelManager.getClasspathContainer(JavaModelManager.java:853)
	at org.eclipse.jdt.core.JavaCore.getClasspathContainer(JavaCore.java:1313)
	at
org.eclipse.jdt.internal.core.JavaProject.getResolvedClasspath(JavaProject.java:2033)
	at
org.eclipse.jdt.internal.core.JavaProject.getResolvedClasspath(JavaProject.java:1941)
	at
org.eclipse.jdt.internal.core.search.JavaSearchScope.add(JavaSearchScope.java:100)
	at
org.eclipse.jdt.internal.core.search.JavaWorkspaceScope.initialize(JavaWorkspaceScope.java:80)
	at
org.eclipse.jdt.internal.core.search.JavaSearchScope.&lt;init&gt;(JavaSearchScope.java:56)
	at
org.eclipse.jdt.internal.core.search.JavaWorkspaceScope.&lt;init&gt;(JavaWorkspaceScope.java:31)
	at
org.eclipse.jdt.internal.core.search.BasicSearchEngine.createWorkspaceScope(BasicSearchEngine.java:157)
	at
org.eclipse.jdt.core.search.SearchEngine.createWorkspaceScope(SearchEngine.java:392)
	at
org.eclipse.jdt.internal.corext.util.AllTypesCache.search(AllTypesCache.java:557)org.eclipse.wst.server.core

	at
org.eclipse.jdt.internal.corext.util.AllTypesCache$TypeCacher.doSearchTypes(AllTypesCache.java:197)
	at
org.eclipse.jdt.internal.corext.util.AllTypesCache$TypeCacher.run(AllTypesCache.java:159)
Still seeing this lots in current builds and it is blocking me from testing 
another bug.
this is fixed for tonight integration and in head, will verify tomorrow and
update comments.
verified
see previous comments
Verified.
Changed Version field given new release numbering.</WithStack>
    <WithOutStack>I'm seeing a lot of stack traces like the following once I moved up to last
week's I-build:

org.eclipse.wst.server.core

	at
org.eclipse.jdt.internal.corext.util.AllTypesCache$TypeCacher.doSearchTypes(AllTypesCache.java:197)
	at
org.eclipse.jdt.internal.corext.util.AllTypesCache$TypeCacher.run(AllTypesCache.java:159)
Still seeing this lots in current builds and it is blocking me from testing 
another bug.
this is fixed for tonight integration and in head, will verify tomorrow and
update comments.
verified
see previous comments
Verified.
Changed Version field given new release numbering.</WithOutStack>
  </Bug>
  <Bug>
    <BugId amount="91124" />
    <CreationDate amount="2005-04-12 09:31:00 -0400" />
    <DupId amount="85431" />
    <classification amount="Tools" />
    <Product amount="TPTP Profiling" />
    <component amount="Platform.Model" />
    <Version amount="4.0" />
    <rep_platform amount="PC" />
    <op_sys amount="Windows XP" />
    <priority amount="P3" />
    <bug_severity amount="critical" />
    <Summery>incorrect statistics in trace views</Summery>
    <Patches amount="0" />
    <Stacktraces amount="0" />
    <SourceCodeRegions amount="0" />
    <Enumerations amount="1">
      <Enumeration lines="14">
        <Lines>
          <Line>1) In several classes there is a discrepancy between the time spent in</Line>
          <Line>a class and the time spent in methods. Example: A class has only one</Line>
          <Line>method which does some calculations. The package-centric statistics</Line>
          <Line>view states 7,484 for the method (base time) and 0,003 for the</Line>
          <Line>constructor. The base time for the class itself is 7,086. Shouldn't the</Line>
          <Line>time for the class be the sum of the time for the single method and the</Line>
          <Line>time for the constructor? The same discrepancy appears for the</Line>
          <Line>cumulative time.</Line>
          <Line />
          <Line>2) The second oddity is related to the same view. The view states the</Line>
          <Line>time spent in some particular packages. The problem I see is, that the</Line>
          <Line>cumulative time is calculated by summing the cumulative time for all</Line>
          <Line>classes in a package. In my eyes this is simply wrong and produces</Line>
          <Line>fantasy values. An example:</Line>
        </Lines>
      </Enumeration>
    </Enumerations>
    <bug_status amount="CLOSED" />
    <resolution amount="DUPLICATE" />
    <WithStack>Andreas, please attach a sample trace file (profile to file) for the first problem. 

---------------

Hello NG,

I'm using Hyades (Release Version 3.2.0) to profile some combinatorial
optimization algorithm. When examining the profiling results, some
oddities catched my eye.

1) In several classes there is a discrepancy between the time spent in
a class and the time spent in methods. Example: A class has only one
method which does some calculations. The package-centric statistics
view states 7,484 for the method (base time) and 0,003 for the
constructor. The base time for the class itself is 7,086. Shouldn't the
time for the class be the sum of the time for the single method and the
time for the constructor? The same discrepancy appears for the
cumulative time.

2) The second oddity is related to the same view. The view states the
time spent in some particular packages. The problem I see is, that the
cumulative time is calculated by summing the cumulative time for all
classes in a package. In my eyes this is simply wrong and produces
fantasy values. An example:

package/class/method    cumulative time
--------------------    ---------------

Package A                   250
  Class A                   150
    calc(), calls B.calc()  150
  Class B                   100
    calc()                  100

Package B
  Class C
    main(), calls A.calc()  150


C ist the main method of the application and calls A.calc(). Inside
A.calc() the calc()-method of B is called which does all the work.
Overall the whole application spents 150 on its execution, but the
statistics view says 250 is spent in package A (longer than the whole
application!), because it sums the values of A and B.

I hope, someone is able to clarify these things for me.

Best regards,

Andreas Rummler
Created attachment 19812
HTML Page containing incorrect results

The related lines are lines 3-5. No. 3 is the class, 4 the constructor and 5
the
working method.
Created attachment 19813
Zip file containing the saved profiling resources

The files generated when doing "Save" on the profile have been put together
into a zipfile.
I've made a second run, redirecting the profile information into a trcxml.
This file grew up to 22 MB and unfortunately didn't show the discrepancy
described above.
Changed priority to critical, I will open another bug for the 3.3 release.
Fix for package cumulative time in CVS (TPTP HEAD).

The zipped project doesn't match the HTML file (or the HTML contains an
intermediate state), also the agent in the project has been created using the
execution statistics option did you use the same option for the HTML file ? (if
you still have the project that was used to export the HTML please attach it
here if its not too big).

I haven't been able yet to reproduce the first problem using your Salesmen
example (from Evolvica), I collected Execution statistics and used the filters
from your sample project. How often it is happening ?

Would be good if you can attach a simple testcase that I can use to reproduce
the first problem ?

Andreas,

In your sample project I don't see the first problem which might be related with
the following explanation.

Because we compute incrementally all the columns when you do a view refresh you
migth get an intermediate state that will not look correct something similar
with what you show in the HTML file, I usually expect one call off, your example
is over 200 calls off which seems strange. We should avoid the one call off case
I will try to see how we can fix it easily.

For example when you do view refresh the calls info might have been set in the
methodEntry/methodExit loader but the base time and cumulative time are in
progress of being updated in the same loader (instance/invocation). A new
refresh (also after stop monitoring) should correct this problem.

Andreas, did you use SUN JVM, if yes can you try with an IBM JVM or use the
endorsed option to point to a Xerces JAR like here:

&lt;eclipse-install-dir&gt;eclipse.exe -vmargs
-Djava.endorsed.dirs=&lt;path-to-your-xerces-jars-folder&gt;

I have a defect opened to improve the stability of the parsing when SUN JVM is
used (see bug 85431).

Please let me know if the first problem described in this bug happens only when
SUN JVM is used so I can tag this bug as a dup of 85431.
(In reply to comment #6)

Marius,

&gt; Because we compute incrementally all the columns when you do a view refresh 

I'm very sorry, but not able to reproduce the behaviour I've described and
I'm unable to create a testcase for that.
The HTML page has been generated by clicking "Export HTML" in the profiling
view. The profiling resources have been saved at a later point of time by
rightclicking "Save" on the Profile itself.

Today I compared the values again and noticed that be discepancy I described
is gone (after restarting Eclipse). Most probabaly you're right an this has/had
something to do with an "unrefreshed" profiling view, showing an intermediate
result. So I assume you can delete this "bug" or at least alter the state
"critical".

And yes, I'm using SUN VM build 1.4.2_06-b03.
Thanks Andreas.

On SUN JVM the intermediate state might be off by more then one call if you
don't override the default Crimson parser (as I explained on comment #7).

I will mark the defect as a dup of another one that will be used to improve the
behavior when Crimson is used.

The fix for the second problem is already in CVS.

*** This bug has been marked as a duplicate of 85431 ***
As of TPTP 4.6.0, TPTP is in maintenance mode and focusing on improving quality by resolving relevant enhancements/defects and increasing test coverage through test creation, automation, Build Verification Tests (BVTs), and expanded run-time execution. As part of the TPTP Bugzilla housecleaning process (see http://wiki.eclipse.org/Bugzilla_Housecleaning_Processes), this enhancement/defect is verified/closed by the Project Lead since this originator of this enhancement/defect has an inactive Bugzilla account and considered to be fixed. If this enhancement/defect is still unresolved and reproducible in the latest TPTP release (http://www.eclipse.org/tptp/home/downloads/), please re-open.</WithStack>
    <WithOutStack>Andreas, please attach a sample trace file (profile to file) for the first problem. 

---------------

Hello NG,

I'm using Hyades (Release Version 3.2.0) to profile some combinatorial
optimization algorithm. When examining the profiling results, some
oddities catched my eye.

1) In several classes there is a discrepancy between the time spent in
a class and the time spent in methods. Example: A class has only one
method which does some calculations. The package-centric statistics
view states 7,484 for the method (base time) and 0,003 for the
constructor. The base time for the class itself is 7,086. Shouldn't the
time for the class be the sum of the time for the single method and the
time for the constructor? The same discrepancy appears for the
cumulative time.

2) The second oddity is related to the same view. The view states the
time spent in some particular packages. The problem I see is, that the
cumulative time is calculated by summing the cumulative time for all
classes in a package. In my eyes this is simply wrong and produces
fantasy values. An example:

package/class/method    cumulative time
--------------------    ---------------

Package A                   250
  Class A                   150
    calc(), calls B.calc()  150
  Class B                   100
    calc()                  100

Package B
  Class C
    main(), calls A.calc()  150


C ist the main method of the application and calls A.calc(). Inside
A.calc() the calc()-method of B is called which does all the work.
Overall the whole application spents 150 on its execution, but the
statistics view says 250 is spent in package A (longer than the whole
application!), because it sums the values of A and B.

I hope, someone is able to clarify these things for me.

Best regards,

Andreas Rummler
Created attachment 19812
HTML Page containing incorrect results

The related lines are lines 3-5. No. 3 is the class, 4 the constructor and 5
the
working method.
Created attachment 19813
Zip file containing the saved profiling resources

The files generated when doing "Save" on the profile have been put together
into a zipfile.
I've made a second run, redirecting the profile information into a trcxml.
This file grew up to 22 MB and unfortunately didn't show the discrepancy
described above.
Changed priority to critical, I will open another bug for the 3.3 release.
Fix for package cumulative time in CVS (TPTP HEAD).

The zipped project doesn't match the HTML file (or the HTML contains an
intermediate state), also the agent in the project has been created using the
execution statistics option did you use the same option for the HTML file ? (if
you still have the project that was used to export the HTML please attach it
here if its not too big).

I haven't been able yet to reproduce the first problem using your Salesmen
example (from Evolvica), I collected Execution statistics and used the filters
from your sample project. How often it is happening ?

Would be good if you can attach a simple testcase that I can use to reproduce
the first problem ?

Andreas,

In your sample project I don't see the first problem which might be related with
the following explanation.

Because we compute incrementally all the columns when you do a view refresh you
migth get an intermediate state that will not look correct something similar
with what you show in the HTML file, I usually expect one call off, your example
is over 200 calls off which seems strange. We should avoid the one call off case
I will try to see how we can fix it easily.

For example when you do view refresh the calls info might have been set in the
methodEntry/methodExit loader but the base time and cumulative time are in
progress of being updated in the same loader (instance/invocation). A new
refresh (also after stop monitoring) should correct this problem.

Andreas, did you use SUN JVM, if yes can you try with an IBM JVM or use the
endorsed option to point to a Xerces JAR like here:

&lt;eclipse-install-dir&gt;eclipse.exe -vmargs
-Djava.endorsed.dirs=&lt;path-to-your-xerces-jars-folder&gt;

I have a defect opened to improve the stability of the parsing when SUN JVM is
used (see bug 85431).

Please let me know if the first problem described in this bug happens only when
SUN JVM is used so I can tag this bug as a dup of 85431.
(In reply to comment #6)

Marius,

&gt; Because we compute incrementally all the columns when you do a view refresh 

I'm very sorry, but not able to reproduce the behaviour I've described and
I'm unable to create a testcase for that.
The HTML page has been generated by clicking "Export HTML" in the profiling
view. The profiling resources have been saved at a later point of time by
rightclicking "Save" on the Profile itself.

Today I compared the values again and noticed that be discepancy I described
is gone (after restarting Eclipse). Most probabaly you're right an this has/had
something to do with an "unrefreshed" profiling view, showing an intermediate
result. So I assume you can delete this "bug" or at least alter the state
"critical".

And yes, I'm using SUN VM build 1.4.2_06-b03.
Thanks Andreas.

On SUN JVM the intermediate state might be off by more then one call if you
don't override the default Crimson parser (as I explained on comment #7).

I will mark the defect as a dup of another one that will be used to improve the
behavior when Crimson is used.

The fix for the second problem is already in CVS.

*** This bug has been marked as a duplicate of 85431 ***
As of TPTP 4.6.0, TPTP is in maintenance mode and focusing on improving quality by resolving relevant enhancements/defects and increasing test coverage through test creation, automation, Build Verification Tests (BVTs), and expanded run-time execution. As part of the TPTP Bugzilla housecleaning process (see http://wiki.eclipse.org/Bugzilla_Housecleaning_Processes), this enhancement/defect is verified/closed by the Project Lead since this originator of this enhancement/defect has an inactive Bugzilla account and considered to be fixed. If this enhancement/defect is still unresolved and reproducible in the latest TPTP release (http://www.eclipse.org/tptp/home/downloads/), please re-open.</WithOutStack>
  </Bug>
  <Bug>
    <BugId amount="91125" />
    <CreationDate amount="2005-04-12 09:48:00 -0400" />
    <DupId amount="" />
    <classification amount="Tools" />
    <Product amount="TPTP Log Analyzer" />
    <component amount="Platform.UI.LogView" />
    <Version amount="4.0" />
    <rep_platform amount="PC" />
    <op_sys amount="Windows 2000" />
    <priority amount="P3" />
    <bug_severity amount="normal" />
    <Summery>Filter does not work for imported log file</Summery>
    <Patches amount="0" />
    <Stacktraces amount="0" />
    <SourceCodeRegions amount="0" />
    <Enumerations amount="1">
      <Enumeration lines="15">
        <Lines>
          <Line>1) In the Eclipse workbench select File -&gt; Import... -&gt; Log File and click Next</Line>
          <Line>2) On the Log Files window click on Add... button</Line>
          <Line>3) On the Add Log File window select Apache HTTP Server access log in the</Line>
          <Line>Selected Log Files pane.  Add and select the host name on the Host name tab of</Line>
          <Line>the remote machine you will be importing the log file from.</Line>
          <Line>4) Select the Details tab and enter the log file name and specify the 1.3.x</Line>
          <Line>(rules) version.</Line>
          <Line>5) Select the Filter tab and click on the New... tab</Line>
          <Line>6) On the Edit Filters window, ensure that Import Log is selected and click on</Line>
          <Line>OK.</Line>
          <Line>7) A new Edit Filters window will be displayed.  On this second Edit Filters</Line>
          <Line>window  check the "Filter by events" box.  Replace 10 in the middle field on</Line>
          <Line>the Show: line with 2 and select "events" in the right-most field.  Click OK</Line>
          <Line>8) Click OK on the Add Log File window.</Line>
          <Line>9) Click Finish on the Import Log File window.</Line>
        </Lines>
      </Enumeration>
    </Enumerations>
    <bug_status amount="CLOSED" />
    <resolution amount="FIXED" />
    <WithStack>Driver id: TPTP_4.0_200504101503
Tested on remote Windows machine and AS400 machines.

Steps: 
1) In the Eclipse workbench select File -&gt; Import... -&gt; Log File and click Next
2) On the Log Files window click on Add... button
3) On the Add Log File window select Apache HTTP Server access log in the 
Selected Log Files pane.  Add and select the host name on the Host name tab of 
the remote machine you will be importing the log file from.
4) Select the Details tab and enter the log file name and specify the 1.3.x
(rules) version.
5) Select the Filter tab and click on the New... tab
6) On the Edit Filters window, ensure that Import Log is selected and click on 
OK.
7) A new Edit Filters window will be displayed.  On this second Edit Filters 
window  check the "Filter by events" box.  Replace 10 in the middle field on 
the Show: line with 2 and select "events" in the right-most field.  Click OK
8) Click OK on the Add Log File window.
9) Click Finish on the Import Log File window.

The filter does not work. i.e. all log records are imported into the Log View.

On Windows 2k local machine, the filter works well. Only two log records are 
imported into the Log View and they are the first two records in the log file.
Tested using the same build on Linux_x86, Linux_390 and OS/390 
platforms. 'Filter by events' didn't work properly. After set this filter to 
allow on first 2 records imported, the whole log files (more than 2 records) 
still could be imported into workbench.
Try to import a larger log file and verify during the import if a temporary 
adapter file is created in the temporary directory /tmp/ on the remote host's 
file system. Please send me the adapter file to investigate. It is quite 
possible that this adapter file is not created. Note thate the file is deleted 
after the import finishes so you have to do a copy before the import ends. Look 
for the latest *.adapter files created in /tmp/ (if any).
Is any other filter working on the specified platforms, by the way?
Profiling filter works for local/remote Windows and AS400 by using the same 
driver.
I mean import log filters other then "Filter  by events" for ex. by severity.
Import Apache HTTP Server error log file with the following setting:
Check "Show enevts by severity", check "Errors", "Warnings" and "Information" 
are unchecked.
All log file is imported, include errors and information.
Problem identified and fixed.
As of TPTP 4.6.0, TPTP is in maintenance mode and focusing on improving quality by resolving relevant enhancements/defects and increasing test coverage through test creation, automation, Build Verification Tests (BVTs), and expanded run-time execution. As part of the TPTP Bugzilla housecleaning process (see http://wiki.eclipse.org/Bugzilla_Housecleaning_Processes), this enhancement/defect is verified/closed by the Project Lead since this enhancement/defect has been resolved and unverified for more than 1 year and considered to be fixed. If this enhancement/defect is still unresolved and reproducible in the latest TPTP release (http://www.eclipse.org/tptp/home/downloads/), please re-open.</WithStack>
    <WithOutStack>Driver id: TPTP_4.0_200504101503
Tested on remote Windows machine and AS400 machines.

Steps: 
1) In the Eclipse workbench select File -&gt; Import... -&gt; Log File and click Next
2) On the Log Files window click on Add... button
3) On the Add Log File window select Apache HTTP Server access log in the 
Selected Log Files pane.  Add and select the host name on the Host name tab of 
the remote machine you will be importing the log file from.
4) Select the Details tab and enter the log file name and specify the 1.3.x
(rules) version.
5) Select the Filter tab and click on the New... tab
6) On the Edit Filters window, ensure that Import Log is selected and click on 
OK.
7) A new Edit Filters window will be displayed.  On this second Edit Filters 
window  check the "Filter by events" box.  Replace 10 in the middle field on 
the Show: line with 2 and select "events" in the right-most field.  Click OK
8) Click OK on the Add Log File window.
9) Click Finish on the Import Log File window.

The filter does not work. i.e. all log records are imported into the Log View.

On Windows 2k local machine, the filter works well. Only two log records are 
imported into the Log View and they are the first two records in the log file.
Tested using the same build on Linux_x86, Linux_390 and OS/390 
platforms. 'Filter by events' didn't work properly. After set this filter to 
allow on first 2 records imported, the whole log files (more than 2 records) 
still could be imported into workbench.
Try to import a larger log file and verify during the import if a temporary 
adapter file is created in the temporary directory /tmp/ on the remote host's 
file system. Please send me the adapter file to investigate. It is quite 
possible that this adapter file is not created. Note thate the file is deleted 
after the import finishes so you have to do a copy before the import ends. Look 
for the latest *.adapter files created in /tmp/ (if any).
Is any other filter working on the specified platforms, by the way?
Profiling filter works for local/remote Windows and AS400 by using the same 
driver.
I mean import log filters other then "Filter  by events" for ex. by severity.
Import Apache HTTP Server error log file with the following setting:
Check "Show enevts by severity", check "Errors", "Warnings" and "Information" 
are unchecked.
All log file is imported, include errors and information.
Problem identified and fixed.
As of TPTP 4.6.0, TPTP is in maintenance mode and focusing on improving quality by resolving relevant enhancements/defects and increasing test coverage through test creation, automation, Build Verification Tests (BVTs), and expanded run-time execution. As part of the TPTP Bugzilla housecleaning process (see http://wiki.eclipse.org/Bugzilla_Housecleaning_Processes), this enhancement/defect is verified/closed by the Project Lead since this enhancement/defect has been resolved and unverified for more than 1 year and considered to be fixed. If this enhancement/defect is still unresolved and reproducible in the latest TPTP release (http://www.eclipse.org/tptp/home/downloads/), please re-open.</WithOutStack>
  </Bug>
  <Bug>
    <BugId amount="91126" />
    <CreationDate amount="2005-04-12 09:52:00 -0400" />
    <DupId amount="75659" />
    <classification amount="Modeling" />
    <Product amount="MDT.UML2" />
    <component amount="Core" />
    <Version amount="1.0.1" />
    <rep_platform amount="PC" />
    <op_sys amount="Windows XP" />
    <priority amount="P3" />
    <bug_severity amount="normal" />
    <Summery>"Subsystem" is not translated in Korean</Summery>
    <Patches amount="0" />
    <Stacktraces amount="0" />
    <SourceCodeRegions amount="0" />
    <Enumerations amount="0" />
    <bug_status amount="RESOLVED" />
    <resolution amount="DUPLICATE" />
    <WithStack>subsystem is the Intermediate__Subsystem key in 
Intermediate.profile.properties in org.eclipse.uml2.resources_1.0.1\profiles

This is not translated in Korean


*** This bug has been marked as a duplicate of 75659 ***</WithStack>
    <WithOutStack>subsystem is the Intermediate__Subsystem key in 
Intermediate.profile.properties in org.eclipse.uml2.resources_1.0.1\profiles

This is not translated in Korean


*** This bug has been marked as a duplicate of 75659 ***</WithOutStack>
  </Bug>
  <Bug>
    <BugId amount="91127" />
    <CreationDate amount="2005-04-12 09:56:00 -0400" />
    <DupId amount="" />
    <classification amount="Tools" />
    <Product amount="CDT" />
    <component amount="cdt-core" />
    <Version amount="3.0" />
    <rep_platform amount="PC" />
    <op_sys amount="Windows XP" />
    <priority amount="P3" />
    <bug_severity amount="major" />
    <Summery>Cannot create project with DOM or Original C/C++ indexer being chosen</Summery>
    <Patches amount="0" />
    <Stacktraces amount="0" />
    <SourceCodeRegions amount="0" />
    <Enumerations amount="0" />
    <bug_status amount="CLOSED" />
    <resolution amount="FIXED" />
    <WithStack>Tested on cdt M6 build I200504120301.

If the either Origianl C/C++ or DOM AST indexer option is chosen when creating 
a c or c++ project(std make or mgd make), it will fail and an error dialog 
will pop up.  An error log is also generated but not too much info:

Error 2005-04-12 09:36:43.105 Resource /mgdCPP-1 does not exist. An exception 
stack trace is not available.

Ctag indexer is OK.
That doesn't sound good. Marking milestone as M6.
Fixed in head.

BG
Hi Bog,

I tried with this morning's build(, looked same. Maybe it's not picked up in 
the build?

James
Checking to see if the change made it in....
Tested with new build I200504131010. 
works fine now</WithStack>
    <WithOutStack>Tested on cdt M6 build I200504120301.

If the either Origianl C/C++ or DOM AST indexer option is chosen when creating 
a c or c++ project(std make or mgd make), it will fail and an error dialog 
will pop up.  An error log is also generated but not too much info:

Error 2005-04-12 09:36:43.105 Resource /mgdCPP-1 does not exist. An exception 
stack trace is not available.

Ctag indexer is OK.
That doesn't sound good. Marking milestone as M6.
Fixed in head.

BG
Hi Bog,

I tried with this morning's build(, looked same. Maybe it's not picked up in 
the build?

James
Checking to see if the change made it in....
Tested with new build I200504131010. 
works fine now</WithOutStack>
  </Bug>
  <Bug>
    <BugId amount="91128" />
    <CreationDate amount="2005-04-12 10:01:00 -0400" />
    <DupId amount="" />
    <classification amount="Tools" />
    <Product amount="AJDT" />
    <component amount="UI" />
    <Version amount="1.2.0 M2" />
    <rep_platform amount="PC" />
    <op_sys amount="Windows XP" />
    <priority amount="P3" />
    <bug_severity amount="normal" />
    <Summery>Editor ruler context menus don't match in 3.1</Summery>
    <Patches amount="0" />
    <Stacktraces amount="0" />
    <SourceCodeRegions amount="0" />
    <Enumerations amount="0" />
    <bug_status amount="RESOLVED" />
    <resolution amount="FIXED" />
    <WithStack>The Java editor and Aspectj editor ruler context menus should match.  We had 
to re-define the actions in our plugin.xml for the AspectJ editor due to a 
breakpoint problem.  Since the Java editor ruler context menus differ slightly 
between 3.0 and 3.1 and we only have one plugin.xml for both our 3.0 and 3.1 
versions of AJDT, our 3.1 version is incorrect.
Fixed</WithStack>
    <WithOutStack>The Java editor and Aspectj editor ruler context menus should match.  We had 
to re-define the actions in our plugin.xml for the AspectJ editor due to a 
breakpoint problem.  Since the Java editor ruler context menus differ slightly 
between 3.0 and 3.1 and we only have one plugin.xml for both our 3.0 and 3.1 
versions of AJDT, our 3.1 version is incorrect.
Fixed</WithOutStack>
  </Bug>
  <Bug>
    <BugId amount="91129" />
    <CreationDate amount="2005-04-12 10:01:00 -0400" />
    <DupId amount="" />
    <classification amount="Eclipse Foundation" />
    <Product amount="z_Archived" />
    <component amount="VE" />
    <Version amount="unspecified" />
    <rep_platform amount="PC" />
    <op_sys amount="Windows XP" />
    <priority amount="P3" />
    <bug_severity amount="major" />
    <Summery>Order of parsed controls incorrect</Summery>
    <Patches amount="0" />
    <Stacktraces amount="0" />
    <SourceCodeRegions amount="5">
      <source_code type="class">
        <location start="177" end="231" />
        <code>public class GridLayoutUniqueNames extends Composite {</code>
      </source_code>
      <source_code type="assignment">
        <location start="233" end="263" />
        <code>private Button button = null;</code>
      </source_code>
      <source_code type="assignment">
        <location start="289" end="321" />
        <code>private Button checkBox = null;</code>
      </source_code>
      <source_code type="functiondef">
        <location start="323" end="426" />
        <code>public GridLayoutUniqueNames(Composite parent, int style) {
		super(parent, style);
		initialize();
	}</code>
      </source_code>
      <source_code type="functiondef">
        <location start="428" end="760" />
        <code>private void initialize() {
		this.setLayout(new GridLayout());
		setSize(new org.eclipse.swt.graphics.Point(300,200));
		checkBox = new Button(this, SWT.CHECK);
		button = new Button(this, SWT.NONE);
		button1 = new Button(this, SWT.NONE);
		checkBox.setText("Third");
		button.setText("First");		
		button1.setText("Second");

	}</code>
      </source_code>
    </SourceCodeRegions>
    <Enumerations amount="0" />
    <bug_status amount="CLOSED" />
    <resolution amount="FIXED" />
    <WithStack>Following file parses showing button, checkbox, button (top to bottom).  The
runtime order is checkbox, button, button.

------------------------------------------------------

public class GridLayoutUniqueNames extends Composite {

	private Button button = null;
	private Button button1;
	private Button checkBox = null;

	public GridLayoutUniqueNames(Composite parent, int style) {
		super(parent, style);
		initialize();
	}

	private void initialize() {
		this.setLayout(new GridLayout());
		setSize(new org.eclipse.swt.graphics.Point(300,200));
		checkBox = new Button(this, SWT.CHECK);
		button = new Button(this, SWT.NONE);
		button1 = new Button(this, SWT.NONE);
		checkBox.setText("Third");
		button.setText("First");		
		button1.setText("Second");

	}
works on the latest code base
1.1M1 is out. Time to close.</WithStack>
    <WithOutStack>Following file parses showing button, checkbox, button (top to bottom).  The
runtime order is checkbox, button, button.

------------------------------------------------------

public class GridLayoutUniqueNames extends Composite {

	private Button button = null;
	private Button button1;
	private Button checkBox = null;

	public GridLayoutUniqueNames(Composite parent, int style) {
		super(parent, style);
		initialize();
	}

	private void initialize() {
		this.setLayout(new GridLayout());
		setSize(new org.eclipse.swt.graphics.Point(300,200));
		checkBox = new Button(this, SWT.CHECK);
		button = new Button(this, SWT.NONE);
		button1 = new Button(this, SWT.NONE);
		checkBox.setText("Third");
		button.setText("First");		
		button1.setText("Second");

	}
works on the latest code base
1.1M1 is out. Time to close.</WithOutStack>
  </Bug>
  <Bug>
    <BugId amount="91130" />
    <CreationDate amount="2005-04-12 10:08:00 -0400" />
    <DupId amount="" />
    <classification amount="Tools" />
    <Product amount="CDT" />
    <component amount="cdt-core" />
    <Version amount="3.0" />
    <rep_platform amount="PC" />
    <op_sys amount="Windows XP" />
    <priority amount="P3" />
    <bug_severity amount="normal" />
    <Summery>[content assist] problems with SHAPES example and 3.0M6 candidate</Summery>
    <Patches amount="0" />
    <Stacktraces amount="0" />
    <SourceCodeRegions amount="2">
      <source_code type="singlecomment">
        <location start="509" end="546" />
        <code>//in the SHAPES example's main.cpp:</code>
      </source_code>
      <source_code type="functiondef">
        <location start="672" end="936" />
        <code>int main() {

 	square ex1;
	ex1.print();

        // try the following here:
	//square// content assist after the e
        //circle//content assit after e
        //ex// content assist after x
        //tria//content assist after a
        // and others

//...
}</code>
      </source_code>
    </SourceCodeRegions>
    <Enumerations amount="0" />
    <bug_status amount="RESOLVED" />
    <resolution amount="WORKSFORME" />
    <WithStack>I'm using Eclipse 3.1M6 with CDT 3.0M6 candidate 
(http://download.eclipse.org/tools/cdt/builds/3.0.0/I.I200504120301/index.html)
and the DOM Indexer.

There is strange behaviour with content assist in the SHAPES example.  One 
example is that square//content assist replaces "square" with "squex1".

Similarly "circle" is replaced with "cirex1".

ex//content assist doesn't produce any results

tria// content assist here replaces "tria" with "trie" and lists the results 
for a content assist on "e" alone.

//in the SHAPES example's main.cpp:
#include "circle.h"
#include "square.h"
#include "triangle.h"
#include "sphere.h"
#include "cube.h"
#include "tetrahedron.h"

int main() {

 	square ex1;
	ex1.print();

        // try the following here:
	//square// content assist after the e
        //circle//content assit after e
        //ex// content assist after x
        //tria//content assist after a
        // and others

//...
}
This bug will be fixed post M7.
I can't reproduce this. Content assist is producing the right results. Maybe I
fixed something earlier but I've never seen behavior like you've described.</WithStack>
    <WithOutStack>I'm using Eclipse 3.1M6 with CDT 3.0M6 candidate 
(http://download.eclipse.org/tools/cdt/builds/3.0.0/I.I200504120301/index.html)
and the DOM Indexer.

There is strange behaviour with content assist in the SHAPES example.  One 
example is that square//content assist replaces "square" with "squex1".

Similarly "circle" is replaced with "cirex1".

ex//content assist doesn't produce any results

tria// content assist here replaces "tria" with "trie" and lists the results 
for a content assist on "e" alone.

//in the SHAPES example's main.cpp:
#include "circle.h"
#include "square.h"
#include "triangle.h"
#include "sphere.h"
#include "cube.h"
#include "tetrahedron.h"

int main() {

 	square ex1;
	ex1.print();

        // try the following here:
	//square// content assist after the e
        //circle//content assit after e
        //ex// content assist after x
        //tria//content assist after a
        // and others

//...
}
This bug will be fixed post M7.
I can't reproduce this. Content assist is producing the right results. Maybe I
fixed something earlier but I've never seen behavior like you've described.</WithOutStack>
  </Bug>
  <Bug>
    <BugId amount="91131" />
    <CreationDate amount="2005-04-12 10:09:00 -0400" />
    <DupId amount="" />
    <classification amount="Tools" />
    <Product amount="AJDT" />
    <component amount="UI" />
    <Version amount="1.2.0 M2" />
    <rep_platform amount="PC" />
    <op_sys amount="Windows XP" />
    <priority amount="P3" />
    <bug_severity amount="normal" />
    <Summery>Project dependencies are not resolved properly on CVS checkout in Eclispe 3.1</Summery>
    <Patches amount="0" />
    <Stacktraces amount="0" />
    <SourceCodeRegions amount="4">
      <source_code type="assignment">
        <location start="510" end="578" />
        <code>JavaProject jp = (JavaProject)JavaCore.create(dependingProject);</code>
      </source_code>
      <source_code type="assignment">
        <location start="579" end="636" />
        <code>String[] names = jp.getPreferences().propertyNames();</code>
      </source_code>
      <source_code type="assignment">
        <location start="1197" end="1252" />
        <code>String[] names = jp.getPreferences().propertyNames();</code>
      </source_code>
      <source_code type="ifstatement">
        <location start="1253" end="1338" />
        <code>if (names.length == 0 &amp;&amp; !setWorkbenchPref) {
        // change the setting....
  }</code>
      </source_code>
    </SourceCodeRegions>
    <Enumerations amount="1">
      <Enumeration lines="4">
        <Lines>
          <Line>- AJ project using workspace settings</Line>
          <Line>- Java project (depending on AJ project) using project settings</Line>
          <Line>- workspace settings = don't abort if there are classpath problems</Line>
          <Line>- java projects project settings = abort if there are classpath problems</Line>
        </Lines>
      </Enumeration>
    </Enumerations>
    <bug_status amount="RESOLVED" />
    <resolution amount="FIXED" />
    <WithStack>When two projects, one with a dependency on the other are checked out from CVS 
AJDT needs to ensure that the dependencies are resolved properly and the 
projects build successfuly.  This support is broken on Eclipse 3.1.  To 
reproduce check out the org.eclipse.contributions.visualiser and 
org.eclispe.contributions.visualiser.tests projects from the AJDT project and 
rebuild the Visualiser project by clicking the build button.
This was the workaround for bug 73435. In it, we get the preferences using:

    JavaProject jp = (JavaProject)JavaCore.create(dependingProject);
    String[] names = jp.getPreferences().propertyNames();

In 3.1 M6, the call "jp.getPreferences()" is deprecated and doesn't actually 
do anything. Instead, you're advised to use the new API. 

Since this is just a workaround, and should be fixed properly by bug 73435 
(which is all to do with creating a meaningfull state.dat file) I'm therefore 
marking this as depends on bug 73435 rather than splitting the code and 
providign another workaround for M6 - the release notes mention this 
limitation.
I'm unable to reproduce this bug with the latest AJDT and Eclipse 3.1 final.
This is because there is a check:

  String[] names = jp.getPreferences().propertyNames();
  if (names.length == 0 &amp;&amp; !setWorkbenchPref) {
        // change the setting....
  }...

that is executed on Eclipse 3.1 since names.length == 0 that consequently
changes the settings.

Now we have split the codebase though, there is the issue of the deprecated API
which specifically advises you to address it as it will be removed soon.
Therefore, I will use this bug to track that. 

If you see the problem again, please mention it in this bug.

Thanks, Helen

The failing scenario is as follows:

- AJ project using workspace settings
- Java project (depending on AJ project) using project settings
- workspace settings = don't abort if there are classpath problems
- java projects project settings = abort if there are classpath problems

At this point the java project has the failure message "cannot rebuild until
prerequisite project has been built" (as expected). Building the AJ project by
pressing the build button does not fix this. In other words, it doesn't change
the  java projects project settings. This works on Eclipse 3.0 because if the
java project is using project settings then 

  jp.getPreferences().propertyNames().length &gt; 0, 

whereas if it's using workspace settings then 

  jp.getPreferences().propertyNames().length == 0.

In the case of 3.1, due to the use of the deprecated API, we always get 

  jp.getPreferences().propertyNames().length == 0

and so the project specific setting is never updated.
The fix was to use IEclipsePreferences instead - see
AJBuilder.udpateJavaCompilerPreferences(..) for fix and "Project Dependencies
Script.txt" for the updated manual test (has to be manual because involves
checking out projects from CVS.

The fix has been integrated and can be found in build:

BUILD COMPLETE -  build.34
Date of build: 08/03/2005 15:06:22
Time to build: 25 minutes 40 seconds
Last changed: 08/03/2005 14:39:09</WithStack>
    <WithOutStack>When two projects, one with a dependency on the other are checked out from CVS 
AJDT needs to ensure that the dependencies are resolved properly and the 
projects build successfuly.  This support is broken on Eclipse 3.1.  To 
reproduce check out the org.eclipse.contributions.visualiser and 
org.eclispe.contributions.visualiser.tests projects from the AJDT project and 
rebuild the Visualiser project by clicking the build button.
This was the workaround for bug 73435. In it, we get the preferences using:

    JavaProject jp = (JavaProject)JavaCore.create(dependingProject);
    String[] names = jp.getPreferences().propertyNames();

In 3.1 M6, the call "jp.getPreferences()" is deprecated and doesn't actually 
do anything. Instead, you're advised to use the new API. 

Since this is just a workaround, and should be fixed properly by bug 73435 
(which is all to do with creating a meaningfull state.dat file) I'm therefore 
marking this as depends on bug 73435 rather than splitting the code and 
providign another workaround for M6 - the release notes mention this 
limitation.
I'm unable to reproduce this bug with the latest AJDT and Eclipse 3.1 final.
This is because there is a check:

  String[] names = jp.getPreferences().propertyNames();
  if (names.length == 0 &amp;&amp; !setWorkbenchPref) {
        // change the setting....
  }...

that is executed on Eclipse 3.1 since names.length == 0 that consequently
changes the settings.

Now we have split the codebase though, there is the issue of the deprecated API
which specifically advises you to address it as it will be removed soon.
Therefore, I will use this bug to track that. 

If you see the problem again, please mention it in this bug.

Thanks, Helen

The failing scenario is as follows:

- AJ project using workspace settings
- Java project (depending on AJ project) using project settings
- workspace settings = don't abort if there are classpath problems
- java projects project settings = abort if there are classpath problems

At this point the java project has the failure message "cannot rebuild until
prerequisite project has been built" (as expected). Building the AJ project by
pressing the build button does not fix this. In other words, it doesn't change
the  java projects project settings. This works on Eclipse 3.0 because if the
java project is using project settings then 

  jp.getPreferences().propertyNames().length &gt; 0, 

whereas if it's using workspace settings then 

  jp.getPreferences().propertyNames().length == 0.

In the case of 3.1, due to the use of the deprecated API, we always get 

  jp.getPreferences().propertyNames().length == 0

and so the project specific setting is never updated.
The fix was to use IEclipsePreferences instead - see
AJBuilder.udpateJavaCompilerPreferences(..) for fix and "Project Dependencies
Script.txt" for the updated manual test (has to be manual because involves
checking out projects from CVS.

The fix has been integrated and can be found in build:

BUILD COMPLETE -  build.34
Date of build: 08/03/2005 15:06:22
Time to build: 25 minutes 40 seconds
Last changed: 08/03/2005 14:39:09</WithOutStack>
  </Bug>
  <Bug>
    <BugId amount="91132" />
    <CreationDate amount="2005-04-12 10:30:00 -0400" />
    <DupId amount="65514" />
    <classification amount="Eclipse" />
    <Product amount="Platform" />
    <component amount="SWT" />
    <Version amount="3.1" />
    <rep_platform amount="PC" />
    <op_sys amount="Windows XP" />
    <priority amount="P3" />
    <bug_severity amount="normal" />
    <Summery>next/previous word should not stop at every tab</Summery>
    <Patches amount="0" />
    <Stacktraces amount="0" />
    <SourceCodeRegions amount="0" />
    <Enumerations amount="0" />
    <bug_status amount="VERIFIED" />
    <resolution amount="DUPLICATE" />
    <WithStack>Back in v2.1, Bug 37785 was fixed so that it considered tabs a word stop.  
This made it so that when you did next/previous word, it would always stop at 
a tab.  This does not seem correct.  If you have several tabs in a row, 
performing next/previous word will stop at every tab instead of skipping all 
the tabs and going to the next real word.

Here is what someone else had to say:

I find it very perplexing, however, that tabs should be considered a
word stop. A simple &lt;shift&gt;+&lt;arrow&gt; will select a single tab already,
show it seems reasonable that &lt;ctrl&gt;+&lt;shift&gt;+&lt;arrow&gt; select more. 

I use both jEdit and EditPlus, and they, along with the current 
Java Editor, all treat tabs as blank space in this respect--i.e.
&lt;ctrl&gt;+&lt;shift&gt;+&lt;arrow&gt; selects all adjacent tabs and spaces. I also
tried the Visual Basic editor, and it works correctly also.

Notepad is a bit bizarre, in that it not only selects all spaces &amp;
tabs, but also includes the first word. However, Gnome gedit works that
way, along with the RAD LPEX editor. The only other editor I have
access to that worked like the jsp editor is Microsoft Word, and then,
only if the file is saved as a .txt file. I suppose that a case could
be made for this type of behavior for word processor users, but it
hardly makes sense for programmers
This may ultimately be the way that the platform breaks text.  If so, please 
move this bug back.
This is the behavior we get from SWT. For the Java editor we override/fix this
when Java &gt; Editor | Navigation section
[x] Smart caret positioning in Java names
is checked.

Seems to me this is the correct platform behavior and we shouldn't change it.  
Felipe?
Yes, this is the Windows behavior.
How is this windows behavior?  Could you please provide an example?  The 
person I talked to gave me examples of how this is not correct behavior.
Windows applications like Notepad, WordPad and Word have this behavior when
using Ctrl + Arrow Left/Right. Other text editors most likely fixed this
behavior as we did in the Java editor when smart navigation is enabled.
Windows applications like Notepad, WordPad and Word have this behavior when
using Ctrl + Arrow Left/Right. Other text editors most likely fixed this
behavior as we did in the Java editor when smart navigation is enabled.
The StyledText should offer native behaviour, if StyledText behaves the same 
as notepad,wordpad, and word on windows so there is no bug in here.
Again, if an application doesn't like the behaviour it can modify it as the 
JavaEditor did it.

Daniel: why did you move this PR back to SWT-Inbox (SN just gave it to me two 
hours ago) ? Was it by accident or you just don't like me fixing StyledText 
bugs :) LOL
Ok, wordpad does behave this same way, but notepad does not.  I am on the 
verge of giving in and saying I guess this is correct behavior for Text Editor 
(but not for any other source editors)  but I still find it unecessary to stop 
at tabs if just normal navigation with just the arrow keys already stop at the 
tabs.
No, probably accidentaly checked "reassign to bug owner". I'm always glad if you
fix SWT bugs ;-)
FH to confirm one more time that we should not be fixing this because it is 
the correct platform behavior on Windows (although unwanted by some).


*** This bug has been marked as a duplicate of 65514 ***
verified this is a duplicate</WithStack>
    <WithOutStack>Back in v2.1, Bug 37785 was fixed so that it considered tabs a word stop.  
This made it so that when you did next/previous word, it would always stop at 
a tab.  This does not seem correct.  If you have several tabs in a row, 
performing next/previous word will stop at every tab instead of skipping all 
the tabs and going to the next real word.

Here is what someone else had to say:

I find it very perplexing, however, that tabs should be considered a
word stop. A simple &lt;shift&gt;+&lt;arrow&gt; will select a single tab already,
show it seems reasonable that &lt;ctrl&gt;+&lt;shift&gt;+&lt;arrow&gt; select more. 

I use both jEdit and EditPlus, and they, along with the current 
Java Editor, all treat tabs as blank space in this respect--i.e.
&lt;ctrl&gt;+&lt;shift&gt;+&lt;arrow&gt; selects all adjacent tabs and spaces. I also
tried the Visual Basic editor, and it works correctly also.

Notepad is a bit bizarre, in that it not only selects all spaces &amp;
tabs, but also includes the first word. However, Gnome gedit works that
way, along with the RAD LPEX editor. The only other editor I have
access to that worked like the jsp editor is Microsoft Word, and then,
only if the file is saved as a .txt file. I suppose that a case could
be made for this type of behavior for word processor users, but it
hardly makes sense for programmers
This may ultimately be the way that the platform breaks text.  If so, please 
move this bug back.
This is the behavior we get from SWT. For the Java editor we override/fix this
when Java &gt; Editor | Navigation section
[x] Smart caret positioning in Java names
is checked.

Seems to me this is the correct platform behavior and we shouldn't change it.  
Felipe?
Yes, this is the Windows behavior.
How is this windows behavior?  Could you please provide an example?  The 
person I talked to gave me examples of how this is not correct behavior.
Windows applications like Notepad, WordPad and Word have this behavior when
using Ctrl + Arrow Left/Right. Other text editors most likely fixed this
behavior as we did in the Java editor when smart navigation is enabled.
Windows applications like Notepad, WordPad and Word have this behavior when
using Ctrl + Arrow Left/Right. Other text editors most likely fixed this
behavior as we did in the Java editor when smart navigation is enabled.
The StyledText should offer native behaviour, if StyledText behaves the same 
as notepad,wordpad, and word on windows so there is no bug in here.
Again, if an application doesn't like the behaviour it can modify it as the 
JavaEditor did it.

Daniel: why did you move this PR back to SWT-Inbox (SN just gave it to me two 
hours ago) ? Was it by accident or you just don't like me fixing StyledText 
bugs :) LOL
Ok, wordpad does behave this same way, but notepad does not.  I am on the 
verge of giving in and saying I guess this is correct behavior for Text Editor 
(but not for any other source editors)  but I still find it unecessary to stop 
at tabs if just normal navigation with just the arrow keys already stop at the 
tabs.
No, probably accidentaly checked "reassign to bug owner". I'm always glad if you
fix SWT bugs ;-)
FH to confirm one more time that we should not be fixing this because it is 
the correct platform behavior on Windows (although unwanted by some).


*** This bug has been marked as a duplicate of 65514 ***
verified this is a duplicate</WithOutStack>
  </Bug>
  <Bug>
    <BugId amount="91133" />
    <CreationDate amount="2005-04-12 10:31:00 -0400" />
    <DupId amount="77682" />
    <classification amount="Eclipse Foundation" />
    <Product amount="z_Archived" />
    <component amount="VE" />
    <Version amount="unspecified" />
    <rep_platform amount="PC" />
    <op_sys amount="Windows XP" />
    <priority amount="P3" />
    <bug_severity amount="normal" />
    <Summery>Support JFace viewers</Summery>
    <Patches amount="0" />
    <Stacktraces amount="0" />
    <SourceCodeRegions amount="0" />
    <Enumerations amount="0" />
    <bug_status amount="CLOSED" />
    <resolution amount="DUPLICATE" />
    <WithStack>Support JFace viewers.  This would involve being able to drop classes like
TableViewer, TextViewer, etc.. (subclasses of Viewer) and generating code
patterns where we have the instance variable for the Control and are also able
to set properties on the viewer itself (such as its content provider and label
provider).
We should have a palette category with the commonly used ones


*** This bug has been marked as a duplicate of 77682 ***
closing</WithStack>
    <WithOutStack>Support JFace viewers.  This would involve being able to drop classes like
TableViewer, TextViewer, etc.. (subclasses of Viewer) and generating code
patterns where we have the instance variable for the Control and are also able
to set properties on the viewer itself (such as its content provider and label
provider).
We should have a palette category with the commonly used ones


*** This bug has been marked as a duplicate of 77682 ***
closing</WithOutStack>
  </Bug>
  <Bug>
    <BugId amount="91134" />
    <CreationDate amount="2005-04-12 10:32:00 -0400" />
    <DupId amount="" />
    <classification amount="Eclipse Foundation" />
    <Product amount="z_Archived" />
    <component amount="Hyades" />
    <Version amount="unspecified" />
    <rep_platform amount="PC" />
    <op_sys amount="Windows 2000" />
    <priority amount="P3" />
    <bug_severity amount="major" />
    <Summery>(Plat) Array classes don't appear appropriately in the memory statistics views</Summery>
    <Patches amount="0" />
    <Stacktraces amount="0" />
    <SourceCodeRegions amount="0" />
    <Enumerations amount="0" />
    <bug_status amount="CLOSED" />
    <resolution amount="FIXED" />
    <WithStack>The array classes don't appear appropriately in the memory statistics views.  A 
quick workaround is to add a filter class name like *.
Fix in CVS (3.3 and 4.0).
verified, closing</WithStack>
    <WithOutStack>The array classes don't appear appropriately in the memory statistics views.  A 
quick workaround is to add a filter class name like *.
Fix in CVS (3.3 and 4.0).
verified, closing</WithOutStack>
  </Bug>
  <Bug>
    <BugId amount="91135" />
    <CreationDate amount="2005-04-12 10:37:00 -0400" />
    <DupId amount="" />
    <classification amount="Eclipse" />
    <Product amount="JDT" />
    <component amount="UI" />
    <Version amount="3.0.1" />
    <rep_platform amount="PC" />
    <op_sys amount="Linux" />
    <priority amount="P3" />
    <bug_severity amount="normal" />
    <Summery>RegExp's are misinterpreted as Error</Summery>
    <Patches amount="0" />
    <Stacktraces amount="0" />
    <SourceCodeRegions amount="0" />
    <Enumerations amount="0" />
    <bug_status amount="CLOSED" />
    <resolution amount="INVALID" />
    <WithStack>Hi,

If i create a pattern, let's say "[\w[\.@_\-+]]*", Eclipse doesn't recognize
that this IS NOT a String, but a pattern...

Result is, that eclipse complains about wrong Escape-Syntax, because only some
escape's are allowed in Strings!

Obviously, the compiler compiles, because it is NOT wrong, just the UI does a
misleading interpretation...

Ex.-code:
boolean b=Pattern.matches( "[\w[\.@_\-+]]*", "Some senseless text!")

Perhaps it's just enough to change the error down to a remark mentioning, that
this is ok, if it's a regExp.....

Greets, Qeldroma
Can you provide input where the UI does some misleading interpretation. A screen
shot would be helpful.
Setting to remind. Waiting for reporter information.
...i think, it is resolved. If i double-Backslash every Backslash, it seems to 
work. 
So "[\\w[\\.@_\\-+]]*" did work.... 
 
I changed to CLOSED 
As of now 'LATER' and 'REMIND' resolutions are no longer supported.
Please reopen this bug if it is still valid for you.</WithStack>
    <WithOutStack>Hi,

If i create a pattern, let's say "[\w[\.@_\-+]]*", Eclipse doesn't recognize
that this IS NOT a String, but a pattern...

Result is, that eclipse complains about wrong Escape-Syntax, because only some
escape's are allowed in Strings!

Obviously, the compiler compiles, because it is NOT wrong, just the UI does a
misleading interpretation...

Ex.-code:
boolean b=Pattern.matches( "[\w[\.@_\-+]]*", "Some senseless text!")

Perhaps it's just enough to change the error down to a remark mentioning, that
this is ok, if it's a regExp.....

Greets, Qeldroma
Can you provide input where the UI does some misleading interpretation. A screen
shot would be helpful.
Setting to remind. Waiting for reporter information.
...i think, it is resolved. If i double-Backslash every Backslash, it seems to 
work. 
So "[\\w[\\.@_\\-+]]*" did work.... 
 
I changed to CLOSED 
As of now 'LATER' and 'REMIND' resolutions are no longer supported.
Please reopen this bug if it is still valid for you.</WithOutStack>
  </Bug>
  <Bug>
    <BugId amount="91136" />
    <CreationDate amount="2005-04-12 10:40:00 -0400" />
    <DupId amount="" />
    <classification amount="Eclipse" />
    <Product amount="PDE" />
    <component amount="UI" />
    <Version amount="3.1" />
    <rep_platform amount="PC" />
    <op_sys amount="Windows XP" />
    <priority amount="P3" />
    <bug_severity amount="normal" />
    <Summery>NPE restoring workspace</Summery>
    <Patches amount="0" />
    <Stacktraces amount="1">
      <Stacktrace timestamp="1437341255647">
        <Exception>java.lang.NullPointerException</Exception>
        <Reason />
        <Frames>
          <Frame depth="0">org.eclipse.pde.internal.ui.editor.site.SiteEditor.computeInitialPageId(SiteEditor.java:149)</Frame>
          <Frame depth="1">org.eclipse.pde.internal.ui.editor.PDEFormEditor.createPages(PDEFormEditor.java:224)</Frame>
          <Frame depth="2">org.eclipse.ui.part.MultiPageEditorPart.createPartControl(MultiPageEditorPart.java:241)</Frame>
          <Frame depth="3">org.eclipse.ui.internal.EditorManager.busyRestoreEditorHelper(EditorManager.java:1237)</Frame>
          <Frame depth="4">org.eclipse.ui.internal.EditorManager.busyRestoreEditor(EditorManager.java:1102)</Frame>
          <Frame depth="5">org.eclipse.ui.internal.EditorManager$7.run(EditorManager.java:1064)</Frame>
          <Frame depth="6">org.eclipse.swt.custom.BusyIndicator.showWhile(BusyIndicator.java:69)</Frame>
          <Frame depth="7">org.eclipse.ui.internal.EditorManager.restoreEditor(EditorManager.java:1062)</Frame>
          <Frame depth="8">org.eclipse.ui.internal.EditorManager.restoreEditorState(EditorManager.java:1876)</Frame>
          <Frame depth="9">org.eclipse.ui.internal.EditorManager.restoreState(EditorManager.java:1016)</Frame>
          <Frame depth="10">org.eclipse.ui.internal.WorkbenchPage.restoreState(WorkbenchPage.java:2464)</Frame>
          <Frame depth="11">org.eclipse.ui.internal.WorkbenchWindow.restoreState(WorkbenchWindow.java:1660)</Frame>
          <Frame depth="12">org.eclipse.ui.internal.Workbench.restoreState(Workbench.java:1408)</Frame>
          <Frame depth="13">org.eclipse.ui.internal.Workbench.access$9(Workbench.java:1358)</Frame>
          <Frame depth="14">org.eclipse.ui.internal.Workbench$14.run(Workbench.java:1241)</Frame>
        </Frames>
      </Stacktrace>
    </Stacktraces>
    <SourceCodeRegions amount="0" />
    <Enumerations amount="0" />
    <bug_status amount="RESOLVED" />
    <resolution amount="FIXED" />
    <WithStack>in M6

I had a site editor open and then crashed.  When I came back I got the 
follwoing NPE in the log

!ENTRY org.eclipse.ui 4 0 2005-04-12 10:38:36.192
!MESSAGE Unable to create editor ID org.eclipse.pde.ui.siteEditor: An 
unexpected exception was thrown.
!STACK 0
java.lang.NullPointerException
        at 
org.eclipse.pde.internal.ui.editor.site.SiteEditor.computeInitialPageId
(SiteEditor.java:149)
        at org.eclipse.pde.internal.ui.editor.PDEFormEditor.createPages
(PDEFormEditor.java:224)
        at org.eclipse.ui.part.MultiPageEditorPart.createPartControl
(MultiPageEditorPart.java:241)
        at org.eclipse.ui.internal.EditorManager.busyRestoreEditorHelper
(EditorManager.java:1237)
        at org.eclipse.ui.internal.EditorManager.busyRestoreEditor
(EditorManager.java:1102)
        at org.eclipse.ui.internal.EditorManager$7.run(EditorManager.java:1064)
        at org.eclipse.swt.custom.BusyIndicator.showWhile(BusyIndicator.java:69)
        at org.eclipse.ui.internal.EditorManager.restoreEditor
(EditorManager.java:1062)
        at org.eclipse.ui.internal.EditorManager.restoreEditorState
(EditorManager.java:1876)
        at org.eclipse.ui.internal.EditorManager.restoreState
(EditorManager.java:1016)
        at org.eclipse.ui.internal.WorkbenchPage.restoreState
(WorkbenchPage.java:2464)
        at org.eclipse.ui.internal.WorkbenchWindow.restoreState
(WorkbenchWindow.java:1660)
        at org.eclipse.ui.internal.Workbench.restoreState(Workbench.java:1408)
        at org.eclipse.ui.internal.Workbench.access$9(Workbench.java:1358)
        at org.eclipse.ui.internal.Workbench$14.run(Workbench.java:1241)
Fixed.</WithStack>
    <WithOutStack>in M6

I had a site editor open and then crashed.  When I came back I got the 
follwoing NPE in the log

!ENTRY org.eclipse.ui 4 0 2005-04-12 10:38:36.192
!MESSAGE Unable to create editor ID org.eclipse.pde.ui.siteEditor: An 
unexpected exception was thrown.
!STACK 0

Fixed.</WithOutStack>
  </Bug>
  <Bug>
    <BugId amount="91137" />
    <CreationDate amount="2005-04-12 10:48:00 -0400" />
    <DupId amount="" />
    <classification amount="Eclipse" />
    <Product amount="Platform" />
    <component amount="UI" />
    <Version amount="3.1" />
    <rep_platform amount="All" />
    <op_sys amount="All" />
    <priority amount="P3" />
    <bug_severity amount="normal" />
    <Summery>hashCode() + equals() inefficiencies</Summery>
    <Patches amount="0" />
    <Stacktraces amount="0" />
    <SourceCodeRegions amount="2">
      <source_code type="assignment">
        <location start="153" end="228" />
        <code>&gt;&gt;&gt;&gt; thrown away &gt;&gt;&gt;  hashCode = HASH_INITIAL * HASH_F ... Code(parameter);</code>
      </source_code>
      <source_code type="assignment">
        <location start="229" end="292" />
        <code>hashCode = HASH_INITIAL * HASH_FACTOR + Util.hashCode(value);</code>
      </source_code>
    </SourceCodeRegions>
    <Enumerations amount="1">
      <Enumeration lines="5">
        <Lines>
          <Line>- does not cache it.</Line>
          <Line>- class is not referenced, Tod can we delete?</Line>
          <Line>I removed the gestures package.</Line>
          <Line>I fixed up 1, 2, 3, 4, 5, 6, and 8.</Line>
          <Line>Removed the code mentioned in 7 and 9.</Line>
        </Lines>
      </Enumeration>
    </Enumerations>
    <bug_status amount="VERIFIED" />
    <resolution amount="FIXED" />
    <WithStack>So after reading bug 88653 I thought I would look around at other declarations
of hashCode() and found the following: 

#1 - Parameterization.hashCode()
&gt;&gt;&gt;&gt; thrown away &gt;&gt;&gt;  hashCode = HASH_INITIAL * HASH_F ... Code(parameter);
		hashCode = HASH_INITIAL * HASH_FACTOR + Util.hashCode(value);


#2 org.eclipse.ui.commands.HandlerSubmission 
    - implements hashCode() but not equals()

#3 org.eclipse.ui.commandsPriority 
    - implements hashCode() but not equals()

#4 org.eclipse.ui.contexts.EnabledSubmission 
    - implements hashCode() but not equals()

#5 org.eclipse.ui.internal.activities.Activity.equals()
    - could be optimized by returning whenever false scenario found

#6 org.eclipse.ui.internal.activities.ActivityDefinition.equals()
org.eclipse.ui.internal.activities.ActivityPatternBinding
org.eclipse.ui.internal.activities.ActivityPatternBindingDefinition
org.eclipse.ui.internal.activities.ActivityRequirementBinding
etc...
- same as #5  
&lt; in fact all .equals in this package have that quality &gt; 

#7 org.eclipse.ui.internal.gestures
  - innefficient .equals() see #5

#8 org.eclipse.ui.internal.keys.KeySequenceBinding.equals() 
   - see #5

#9 org.eclipse.ui.internal.misc.OverlayComposite.hashCode()
   - does not cache it.
   - class is not referenced, Tod can we delete?
I removed the gestures package.
I fixed up 1, 2, 3, 4, 5, 6, and 8.
Removed the code mentioned in 7 and 9.

Verified by inspecting the source code in I20050513-0010.</WithStack>
    <WithOutStack>So after reading bug 88653 I thought I would look around at other declarations
of hashCode() and found the following: 

#1 - Parameterization.hashCode()
&gt;&gt;&gt;&gt; thrown away &gt;&gt;&gt;  hashCode = HASH_INITIAL * HASH_F ... Code(parameter);
		hashCode = HASH_INITIAL * HASH_FACTOR + Util.hashCode(value);


#2 org.eclipse.ui.commands.HandlerSubmission 
    - implements hashCode() but not equals()

#3 org.eclipse.ui.commandsPriority 
    - implements hashCode() but not equals()

#4 org.eclipse.ui.contexts.EnabledSubmission 
    - implements hashCode() but not equals()

#5 org.eclipse.ui.internal.activities.Activity.equals()
    - could be optimized by returning whenever false scenario found

#6 org.eclipse.ui.internal.activities.ActivityDefinition.equals()
org.eclipse.ui.internal.activities.ActivityPatternBinding
org.eclipse.ui.internal.activities.ActivityPatternBindingDefinition
org.eclipse.ui.internal.activities.ActivityRequirementBinding
etc...
- same as #5  
&lt; in fact all .equals in this package have that quality &gt; 

#7 org.eclipse.ui.internal.gestures
  - innefficient .equals() see #5

#8 org.eclipse.ui.internal.keys.KeySequenceBinding.equals() 
   - see #5

#9 org.eclipse.ui.internal.misc.OverlayComposite.hashCode()
   - does not cache it.
   - class is not referenced, Tod can we delete?
I removed the gestures package.
I fixed up 1, 2, 3, 4, 5, 6, and 8.
Removed the code mentioned in 7 and 9.

Verified by inspecting the source code in I20050513-0010.</WithOutStack>
  </Bug>
  <Bug>
    <BugId amount="91138" />
    <CreationDate amount="2005-04-12 10:50:00 -0400" />
    <DupId amount="" />
    <classification amount="Eclipse Foundation" />
    <Product amount="z_Archived" />
    <component amount="VE" />
    <Version amount="unspecified" />
    <rep_platform amount="PC" />
    <op_sys amount="Windows XP" />
    <priority amount="P3" />
    <bug_severity amount="normal" />
    <Summery>VE should model any instance that is referenced</Summery>
    <Patches amount="0" />
    <Stacktraces amount="0" />
    <SourceCodeRegions amount="4">
      <source_code type="assignment">
        <location start="183" end="227" />
        <code>FooInterface foo = FooFactory.createFoo();</code>
      </source_code>
      <source_code type="functioncall">
        <location start="236" end="261" />
        <code>component.setFoo(foo) ;</code>
      </source_code>
      <source_code type="assignment">
        <location start="614" end="633" />
        <code>String s = "Hello";</code>
      </source_code>
      <source_code type="functioncall">
        <location start="634" end="652" />
        <code>button.setText(s);</code>
      </source_code>
    </SourceCodeRegions>
    <Enumerations amount="1">
      <Enumeration lines="7">
        <Lines>
          <Line>1. Have modelled=true in the overrides or is this bean.</Line>
          <Line>2. Have modelled=false in the overrides but has a //@jve:decl-index=0 for the</Line>
          <Line>field/variable</Line>
          <Line>3. Have modelled=false, but are referenced by BeanParts in 1. or 2.</Line>
          <Line>(parent-child or property relationships)</Line>
          <Line>4. Have modelled=false, but are referenced by BeanParts in 3. (parent-child or</Line>
          <Line>property relationships)</Line>
        </Lines>
      </Enumeration>
    </Enumerations>
    <bug_status amount="CLOSED" />
    <resolution amount="FIXED" />
    <WithStack>Currently VE requires ivj, or //  @jve:decl-index=0 comment, or makred in the
override file to be modeled.

VE should also, include instances that are refered by decoders....

e.g.,

  FooInterface foo = FooFactory.createFoo();

.....

  component.setFoo(foo) ;

foo is an intefance, and hence the overrides can not mark him as modeled... but
if component is modeled, the reference to foo, should model foo as well.
Currently for simplename references to immutable types which are not modelled,
we follow up the AST tree to resolve the RHS init string. Becuase of this we can
handle cases like:
------------------
String s = "Hello";
button.setText(s);
------------------
This is implemented in CGResolver.createImmutablePTExpression()
see also Bug 90041 
Sri, we need to also mark FormLayout contstraints are model=true
Now codegen will model every instance in the code, and deactivate those which
are not being referenced anywhere. Snippet update works similarly. Closing this
defect, please open a new one for any specific problems.

Releasing 
JavaSourceTranslator.java
AnnotationDecoderAdapter.java
BDMMerger.java
BeanPartFactory.java
ChildRelationshipDecoderHelper.java
ConstructorDecoderHelper.java
ExpressionVisitor.java
FreeFormAnnoationDecoder.java
MethodVisitor.java
InstanceVariableRule.java
BeanDeclModel.java
BeanPart.java
BeanPartDecleration.java
CodeExpressionRef.java
IBeanDeclModel.java
CodeGenUtil.java
TestRule.java

Reopening this defect to add in the scenario where someone might want to model a
non-referenced bean specifically by adding "//  @jve:decl-index=0" comment.
From the javadoc of IBeanDeclModel.getUnreferencedBeanParts(), the conditions in
which a beanpart is now modelled by codegen is:
-----------------------------------------------------
1. Have modelled=true in the overrides or is this bean. 
2. Have modelled=false in the overrides but has a //@jve:decl-index=0 for the
field/variable 
3. Have modelled=false, but are referenced by BeanParts in 1. or 2.
(parent-child or property relationships) 
4. Have modelled=false, but are referenced by BeanParts in 3. (parent-child or
property relationships) 

This API should detect BeanParts which are disconnected islands and return them
for deactivation. This API should be called only after all the decoding of
expressions has finished so that the relationships between BeanParts is
established. 
--------------------------------------

Releasing classes:
AnnotationDecoderAdapter.java
BDMMerger.java
JavaBeanModelBuilder.java
BeanDeclModel.java
CodeMethodRef.java
CodeTypeRef.java
IBeanDeclModel.java
CodeGenUtil.java
*** Bug 99816 has been marked as a duplicate of this bug. ***
Need to handle TableModel, ListModel, TableColumns etc. correctly.
Released fixes so that only the following types and subtypes have modelled=true
-----------------------------------------------------------
AbstractListModel.override - org.eclipse.ve.jfc/overrides/javax/swing
AbstractTableModel.override - org.eclipse.ve.jfc/overrides/javax/swing/table
CheckboxGroup.override - org.eclipse.ve.jfc/overrides/java/awt
Component.override - org.eclipse.ve.jfc/overrides/java/awt
Widget.override - org.eclipse.ve.swt/overrides/org/eclipse/swt/widgets
-----------------------------------------------------------

Need to create testcases and testdocuments.
Created testdocument for changes made.
VE 1.1 is released. Moving to closed.</WithStack>
    <WithOutStack>Currently VE requires ivj, or //  @jve:decl-index=0 comment, or makred in the
override file to be modeled.

VE should also, include instances that are refered by decoders....

e.g.,

  FooInterface foo = FooFactory.createFoo();

.....

  component.setFoo(foo) ;

foo is an intefance, and hence the overrides can not mark him as modeled... but
if component is modeled, the reference to foo, should model foo as well.
Currently for simplename references to immutable types which are not modelled,
we follow up the AST tree to resolve the RHS init string. Becuase of this we can
handle cases like:
------------------
String s = "Hello";
button.setText(s);
------------------
This is implemented in CGResolver.createImmutablePTExpression()
see also Bug 90041 
Sri, we need to also mark FormLayout contstraints are model=true
Now codegen will model every instance in the code, and deactivate those which
are not being referenced anywhere. Snippet update works similarly. Closing this
defect, please open a new one for any specific problems.

Releasing 
JavaSourceTranslator.java
AnnotationDecoderAdapter.java
BDMMerger.java
BeanPartFactory.java
ChildRelationshipDecoderHelper.java
ConstructorDecoderHelper.java
ExpressionVisitor.java
FreeFormAnnoationDecoder.java
MethodVisitor.java
InstanceVariableRule.java
BeanDeclModel.java
BeanPart.java
BeanPartDecleration.java
CodeExpressionRef.java
IBeanDeclModel.java
CodeGenUtil.java
TestRule.java

Reopening this defect to add in the scenario where someone might want to model a
non-referenced bean specifically by adding "//  @jve:decl-index=0" comment.
From the javadoc of IBeanDeclModel.getUnreferencedBeanParts(), the conditions in
which a beanpart is now modelled by codegen is:
-----------------------------------------------------
1. Have modelled=true in the overrides or is this bean. 
2. Have modelled=false in the overrides but has a //@jve:decl-index=0 for the
field/variable 
3. Have modelled=false, but are referenced by BeanParts in 1. or 2.
(parent-child or property relationships) 
4. Have modelled=false, but are referenced by BeanParts in 3. (parent-child or
property relationships) 

This API should detect BeanParts which are disconnected islands and return them
for deactivation. This API should be called only after all the decoding of
expressions has finished so that the relationships between BeanParts is
established. 
--------------------------------------

Releasing classes:
AnnotationDecoderAdapter.java
BDMMerger.java
JavaBeanModelBuilder.java
BeanDeclModel.java
CodeMethodRef.java
CodeTypeRef.java
IBeanDeclModel.java
CodeGenUtil.java
*** Bug 99816 has been marked as a duplicate of this bug. ***
Need to handle TableModel, ListModel, TableColumns etc. correctly.
Released fixes so that only the following types and subtypes have modelled=true
-----------------------------------------------------------
AbstractListModel.override - org.eclipse.ve.jfc/overrides/javax/swing
AbstractTableModel.override - org.eclipse.ve.jfc/overrides/javax/swing/table
CheckboxGroup.override - org.eclipse.ve.jfc/overrides/java/awt
Component.override - org.eclipse.ve.jfc/overrides/java/awt
Widget.override - org.eclipse.ve.swt/overrides/org/eclipse/swt/widgets
-----------------------------------------------------------

Need to create testcases and testdocuments.
Created testdocument for changes made.
VE 1.1 is released. Moving to closed.</WithOutStack>
  </Bug>
  <Bug>
    <BugId amount="91139" />
    <CreationDate amount="2005-04-12 10:57:00 -0400" />
    <DupId amount="" />
    <classification amount="Tools" />
    <Product amount="CDT" />
    <component amount="cdt-core" />
    <Version amount="3.0" />
    <rep_platform amount="PC" />
    <op_sys amount="Windows XP" />
    <priority amount="P3" />
    <bug_severity amount="major" />
    <Summery>Code assistant doesn't work with C files</Summery>
    <Patches amount="0" />
    <Stacktraces amount="0" />
    <SourceCodeRegions amount="3">
      <source_code type="singlecomment">
        <location start="1026" end="1045" />
        <code>// struct Cube {</code>
      </source_code>
      <source_code type="functiondef">
        <location start="1113" end="1215" />
        <code>int getVolume( struct Cube * pCube ) { 
    return pCube-&gt;nHeight * pCube-&gt;nLength * pCube-&gt;nWidth; 
}</code>
      </source_code>
      <source_code type="functiondef">
        <location start="1223" end="1931" />
        <code>main(int argc, char **argv) { 
    // printf("Calculate the volume of a cube\n"); 
    pr[^SPC] 

    // struct Cube * pCube; 
    struct C[^SPC] * pCube; 

    // pCube = (struct Cube*)(malloc( sizeof(struct Cube) )); 
    pC[^SPC] = (struct Cube*)(malloc( siz[^SPC](struct Cube) )); 

    printf("Length: "); 
    // scanf("%d", &amp;(pCube-&gt;nLength) ); 
    s[^SPC]("%d", &amp;(pCube-&gt;[^SPC]) ); 
    printf("Width: "); 
    scanf("%d", &amp;(pCube-&gt;nWidth)); 
    printf("Height: "); 
    scanf("%d", &amp;(pCube-&gt;nHeight)); 

    // int nVolume = getVolume( pCube ); 
    int nVolume = g[^SPC]; 

    // printf("\nThe volume of this cube is %d\n", nVolume); 
    printf("\nThe volume of this cube is %d\n", n[^SPC]); 
}</code>
      </source_code>
    </SourceCodeRegions>
    <Enumerations amount="0" />
    <bug_status amount="CLOSED" />
    <resolution amount="FIXED" />
    <WithStack>Alain and I tried to use code assistant to get some simple stuff like "printf" 
or "FILE" on a std Make C project. It didn't work. Is Code Assistant broken in 
general. I marked it as blocker for now. Correct me if I am wrong.

I used the follow test case from cdt sanity test level 2 under System Test link 
on CDT website:

*******************************
8. Content Assist for Standard Make Project
Create a new standard make C project, call it StdC. 
Add a new file to the project StdC, call it makefile. 
Open makefile and enter the following: 
all: cubevolume.exe 

clean: 
     rm -f main.o cubevolume.exe 

cubevolume.exe: main.o 
     gcc -g -o cubevolume.exe main.o 

main.o: 
     gcc -c -g main.c 
 


Add a new file to the project StdC, call it main.c. 
Right click on StdC and click Rebuild Project. There will be errors but this 
step is necessary for content assist to work. 
Open main.c and manually insert the following code (using Content Assist where 
indicated): 
#include &lt;stdio.h&gt; 
#include &lt;stdlib.h&gt; 

// struct Cube { 
st[^SPC] 
    int nLength; 
    int nWidth; 
    int nHeight; 
}; 

int getVolume( struct Cube * pCube ) { 
    return pCube-&gt;nHeight * pCube-&gt;nLength * pCube-&gt;nWidth; 
} 

int 
main(int argc, char **argv) { 
    // printf("Calculate the volume of a cube\n"); 
    pr[^SPC] 

    // struct Cube * pCube; 
    struct C[^SPC] * pCube; 

    // pCube = (struct Cube*)(malloc( sizeof(struct Cube) )); 
    pC[^SPC] = (struct Cube*)(malloc( siz[^SPC](struct Cube) )); 

    printf("Length: "); 
    // scanf("%d", &amp;(pCube-&gt;nLength) ); 
    s[^SPC]("%d", &amp;(pCube-&gt;[^SPC]) ); 
    printf("Width: "); 
    scanf("%d", &amp;(pCube-&gt;nWidth)); 
    printf("Height: "); 
    scanf("%d", &amp;(pCube-&gt;nHeight)); 

    // int nVolume = getVolume( pCube ); 
    int nVolume = g[^SPC]; 

    // printf("\nThe volume of this cube is %d\n", nVolume); 
    printf("\nThe volume of this cube is %d\n", n[^SPC]); 
} 
 


Verify that each of the completions was successful.
Thanks. Not sure how this is blocking, though.
Also changing the title. It works fine for C++ files. It used to work with C
files but doesn't seem to at the moment. I'll dig a bit deeper. The workaround
for M6 would be to switch back to the old completion processor using the
preference. Hopefully this can be a quick fix and we can get it into M6.
Well, my quick fix didn't work. So what I've done instead is turned on the old
completion for C files. I'll get to work right away at updating the C parser
with the right stuff.
Strange as it is, I can't get the other to work either. I have ctags in a PATHed
directory, it doesn't work.

The old indexer does not seem to have much fun doing the work either.
Tested and it works.</WithStack>
    <WithOutStack>Alain and I tried to use code assistant to get some simple stuff like "printf" 
or "FILE" on a std Make C project. It didn't work. Is Code Assistant broken in 
general. I marked it as blocker for now. Correct me if I am wrong.

I used the follow test case from cdt sanity test level 2 under System Test link 
on CDT website:

*******************************
8. Content Assist for Standard Make Project
Create a new standard make C project, call it StdC. 
Add a new file to the project StdC, call it makefile. 
Open makefile and enter the following: 
all: cubevolume.exe 

clean: 
     rm -f main.o cubevolume.exe 

cubevolume.exe: main.o 
     gcc -g -o cubevolume.exe main.o 

main.o: 
     gcc -c -g main.c 
 


Add a new file to the project StdC, call it main.c. 
Right click on StdC and click Rebuild Project. There will be errors but this 
step is necessary for content assist to work. 
Open main.c and manually insert the following code (using Content Assist where 
indicated): 
#include &lt;stdio.h&gt; 
#include &lt;stdlib.h&gt; 

// struct Cube { 
st[^SPC] 
    int nLength; 
    int nWidth; 
    int nHeight; 
}; 

int getVolume( struct Cube * pCube ) { 
    return pCube-&gt;nHeight * pCube-&gt;nLength * pCube-&gt;nWidth; 
} 

int 
main(int argc, char **argv) { 
    // printf("Calculate the volume of a cube\n"); 
    pr[^SPC] 

    // struct Cube * pCube; 
    struct C[^SPC] * pCube; 

    // pCube = (struct Cube*)(malloc( sizeof(struct Cube) )); 
    pC[^SPC] = (struct Cube*)(malloc( siz[^SPC](struct Cube) )); 

    printf("Length: "); 
    // scanf("%d", &amp;(pCube-&gt;nLength) ); 
    s[^SPC]("%d", &amp;(pCube-&gt;[^SPC]) ); 
    printf("Width: "); 
    scanf("%d", &amp;(pCube-&gt;nWidth)); 
    printf("Height: "); 
    scanf("%d", &amp;(pCube-&gt;nHeight)); 

    // int nVolume = getVolume( pCube ); 
    int nVolume = g[^SPC]; 

    // printf("\nThe volume of this cube is %d\n", nVolume); 
    printf("\nThe volume of this cube is %d\n", n[^SPC]); 
} 
 


Verify that each of the completions was successful.
Thanks. Not sure how this is blocking, though.
Also changing the title. It works fine for C++ files. It used to work with C
files but doesn't seem to at the moment. I'll dig a bit deeper. The workaround
for M6 would be to switch back to the old completion processor using the
preference. Hopefully this can be a quick fix and we can get it into M6.
Well, my quick fix didn't work. So what I've done instead is turned on the old
completion for C files. I'll get to work right away at updating the C parser
with the right stuff.
Strange as it is, I can't get the other to work either. I have ctags in a PATHed
directory, it doesn't work.

The old indexer does not seem to have much fun doing the work either.
Tested and it works.</WithOutStack>
  </Bug>
  <Bug>
    <BugId amount="91140" />
    <CreationDate amount="2005-04-12 11:17:00 -0400" />
    <DupId amount="" />
    <classification amount="Tools" />
    <Product amount="CDT" />
    <component amount="cdt-core" />
    <Version amount="3.0" />
    <rep_platform amount="PC" />
    <op_sys amount="Windows XP" />
    <priority amount="P3" />
    <bug_severity amount="normal" />
    <Summery>Exceptions generated for deleting a project without saving source files</Summery>
    <Patches amount="0" />
    <Stacktraces amount="2">
      <Stacktrace timestamp="1437341255654">
        <Exception>org.eclipse.ui.PartInitException</Exception>
        <Reason>No saved state can be found for editor id= 
name=&lt;null&gt;</Reason>
        <Frames>
          <Frame depth="0">org.eclipse.ui.internal.EditorManager$Editor.getRestoredInput(EditorManager.java:1726)</Frame>
          <Frame depth="1">org.eclipse.ui.internal.EditorManager$Editor.getEditorInput(EditorManager.java:1715)</Frame>
          <Frame depth="2">org.eclipse.ui.internal.EditorManager.busyRestoreEditorHelper(EditorManager.java:1177)</Frame>
          <Frame depth="3">org.eclipse.ui.internal.EditorManager.busyRestoreEditor(EditorManager.java:1102)</Frame>
          <Frame depth="4">org.eclipse.ui.internal.EditorManager$7.run(EditorManager.java:1064)</Frame>
          <Frame depth="5">org.eclipse.swt.custom.BusyIndicator.showWhile(BusyIndicator.java:69)</Frame>
          <Frame depth="6">org.eclipse.ui.internal.EditorManager.restoreEditor(EditorManager.java:1062)</Frame>
          <Frame depth="7">org.eclipse.ui.internal.EditorManager$Editor.getEditor(EditorManager.java:1648)</Frame>
          <Frame depth="8">org.eclipse.ui.internal.EditorManager$Editor.getPart(EditorManager.java:1639)</Frame>
          <Frame depth="9">org.eclipse.ui.internal.PartPane.setFocus(PartPane.java:271)</Frame>
          <Frame depth="10">org.eclipse.ui.internal.EditorPane.setFocus(EditorPane.java:116)</Frame>
          <Frame depth="11">org.eclipse.ui.internal.presentations.PresentablePart.setFocus(PresentablePart.java:134)</Frame>
          <Frame depth="12">org.eclipse.ui.internal.presentations.newapi.TabbedStackPresentation$1.handleEvent(TabbedStackPresentation.java:92)</Frame>
          <Frame depth="13">org.eclipse.ui.internal.presentations.newapi.AbstractTabFolder.fireEvent(AbstractTabFolder.java:263)</Frame>
          <Frame depth="14">org.eclipse.ui.internal.presentations.newapi.AbstractTabFolder.fireEvent(AbstractTabFolder.java:268)</Frame>
          <Frame depth="15">org.eclipse.ui.internal.presentations.newapi.AbstractTabFolder.handleMouseDown(AbstractTabFolder.java:322)</Frame>
          <Frame depth="16">org.eclipse.ui.internal.presentations.newapi.AbstractTabFolder$3.mouseDown(AbstractTabFolder.java:79)</Frame>
          <Frame depth="17">org.eclipse.swt.widgets.TypedListener.handleEvent(TypedListener.java:132)</Frame>
          <Frame depth="18">org.eclipse.swt.widgets.EventTable.sendEvent(EventTable.java:82)</Frame>
          <Frame depth="19">org.eclipse.swt.widgets.Widget.sendEvent(Widget.java:842)</Frame>
          <Frame depth="20">org.eclipse.swt.widgets.Display.runDeferredEvents(Display.java:2894)</Frame>
          <Frame depth="21">org.eclipse.swt.widgets.Display.readAndDispatch(Display.java:2527)</Frame>
          <Frame depth="22">org.eclipse.ui.internal.Workbench.runEventLoop(Workbench.java:1570)</Frame>
          <Frame depth="23">org.eclipse.ui.internal.Workbench.runUI(Workbench.java:1534)</Frame>
          <Frame depth="24">org.eclipse.ui.internal.Workbench.createAndRunWorkbench(Workbench.java:306)</Frame>
          <Frame depth="25">org.eclipse.ui.PlatformUI.createAndRunWorkbench(PlatformUI.java:143)</Frame>
          <Frame depth="26">org.eclipse.ui.internal.ide.IDEApplication.run(IDEApplication.java:103)</Frame>
          <Frame depth="27">org.eclipse.core.internal.runtime.PlatformActivator$1.run(PlatformActivator.java:228)</Frame>
          <Frame depth="28">org.eclipse.core.runtime.adaptor.EclipseStarter.run(EclipseStarter.java:344)</Frame>
          <Frame depth="29">org.eclipse.core.runtime.adaptor.EclipseStarter.run(EclipseStarter.java:156)</Frame>
          <Frame depth="30">sun.reflect.NativeMethodAccessorImpl.invoke0(Native Method)</Frame>
          <Frame depth="31">sun.reflect.NativeMethodAccessorImpl.invoke(Unknown Source)</Frame>
          <Frame depth="32">sun.reflect.DelegatingMethodAccessorImpl.invoke(Unknown Source)</Frame>
          <Frame depth="33">java.lang.reflect.Method.invoke(Unknown Source)</Frame>
          <Frame depth="34">org.eclipse.core.launcher.Main.invokeFramework(Main.java:315)</Frame>
          <Frame depth="35">org.eclipse.core.launcher.Main.basicRun(Main.java:268)</Frame>
          <Frame depth="36">org.eclipse.core.launcher.Main.run(Main.java:942)</Frame>
          <Frame depth="37">org.eclipse.core.launcher.Main.main(Main.java:926)</Frame>
        </Frames>
      </Stacktrace>
      <Stacktrace timestamp="1437341255654">
        <Exception>org.eclipse.swt.SWTException</Exception>
        <Reason>Widget is disposed</Reason>
        <Frames>
          <Frame depth="0">org.eclipse.swt.SWT.error(SWT.java:2860)</Frame>
          <Frame depth="1">org.eclipse.swt.SWT.error(SWT.java:2783)</Frame>
          <Frame depth="2">org.eclipse.swt.SWT.error(SWT.java:2754)</Frame>
          <Frame depth="3">org.eclipse.swt.widgets.Widget.error(Widget.java:393)</Frame>
          <Frame depth="4">org.eclipse.swt.widgets.Widget.checkWidget(Widget.java:295)</Frame>
          <Frame depth="5">org.eclipse.swt.widgets.Widget.getData(Widget.java:475)</Frame>
          <Frame depth="6">org.eclipse.ui.presentations.PresentationUtil$4.handleEvent(PresentationUtil.java:75)</Frame>
          <Frame depth="7">org.eclipse.swt.widgets.EventTable.sendEvent(EventTable.java:82)</Frame>
          <Frame depth="8">org.eclipse.swt.widgets.Widget.sendEvent(Widget.java:842)</Frame>
          <Frame depth="9">org.eclipse.swt.widgets.Display.runDeferredEvents(Display.java:2894)</Frame>
          <Frame depth="10">org.eclipse.swt.widgets.Display.readAndDispatch(Display.java:2527)</Frame>
          <Frame depth="11">org.eclipse.ui.internal.Workbench.runEventLoop(Workbench.java:1570)</Frame>
          <Frame depth="12">org.eclipse.ui.internal.Workbench.runUI(Workbench.java:1534)</Frame>
          <Frame depth="13">org.eclipse.ui.internal.Workbench.createAndRunWorkbench(Workbench.java:306)</Frame>
          <Frame depth="14">org.eclipse.ui.PlatformUI.createAndRunWorkbench(PlatformUI.java:143)</Frame>
          <Frame depth="15">org.eclipse.ui.internal.ide.IDEApplication.run(IDEApplication.java:103)</Frame>
          <Frame depth="16">org.eclipse.core.internal.runtime.PlatformActivator$1.run(PlatformActivator.java:228)</Frame>
          <Frame depth="17">org.eclipse.core.runtime.adaptor.EclipseStarter.run(EclipseStarter.java:344)</Frame>
          <Frame depth="18">org.eclipse.core.runtime.adaptor.EclipseStarter.run(EclipseStarter.java:156)</Frame>
          <Frame depth="19">sun.reflect.NativeMethodAccessorImpl.invoke0(Native Method)</Frame>
          <Frame depth="20">sun.reflect.NativeMethodAccessorImpl.invoke(Unknown Source)</Frame>
          <Frame depth="21">sun.reflect.DelegatingMethodAccessorImpl.invoke(Unknown Source)</Frame>
          <Frame depth="22">java.lang.reflect.Method.invoke(Unknown Source)</Frame>
          <Frame depth="23">org.eclipse.core.launcher.Main.invokeFramework(Main.java:315)</Frame>
          <Frame depth="24">org.eclipse.core.launcher.Main.basicRun(Main.java:268)</Frame>
          <Frame depth="25">org.eclipse.core.launcher.Main.run(Main.java:942)</Frame>
          <Frame depth="26">org.eclipse.core.launcher.Main.main(Main.java:926)</Frame>
        </Frames>
      </Stacktrace>
    </Stacktraces>
    <SourceCodeRegions amount="0" />
    <Enumerations amount="0" />
    <bug_status amount="CLOSED" />
    <resolution amount="INVALID" />
    <WithStack>Used cdt 3.0 M6 candidate: I200504120301 

When I tried to delete a std make C project without saving the source code in 
editor, some exceptions were generated as below:



!SESSION 2005-04-12 10:58:56.348 ----------------------------------------------
-
eclipse.buildId=I20050401-1645
java.version=1.4.2_07
java.vendor=Sun Microsystems Inc.
BootLoader constants: OS=win32, ARCH=x86, WS=win32, NL=en_US
Command-line arguments:  -os win32 -ws win32 -arch x86

!ENTRY org.eclipse.ui 4 0 2005-04-12 10:58:56.348
!MESSAGE Unable to create editor ID : No saved state can be found for editor 
id= name=&lt;null&gt;
!STACK 1
org.eclipse.ui.PartInitException: No saved state can be found for editor id= 
name=&lt;null&gt;
	at org.eclipse.ui.internal.EditorManager$Editor.getRestoredInput
(EditorManager.java:1726)
	at org.eclipse.ui.internal.EditorManager$Editor.getEditorInput
(EditorManager.java:1715)
	at org.eclipse.ui.internal.EditorManager.busyRestoreEditorHelper
(EditorManager.java:1177)
	at org.eclipse.ui.internal.EditorManager.busyRestoreEditor
(EditorManager.java:1102)
	at org.eclipse.ui.internal.EditorManager$7.run(EditorManager.java:1064)
	at org.eclipse.swt.custom.BusyIndicator.showWhile
(BusyIndicator.java:69)
	at org.eclipse.ui.internal.EditorManager.restoreEditor
(EditorManager.java:1062)
	at org.eclipse.ui.internal.EditorManager$Editor.getEditor
(EditorManager.java:1648)
	at org.eclipse.ui.internal.EditorManager$Editor.getPart
(EditorManager.java:1639)
	at org.eclipse.ui.internal.PartPane.setFocus(PartPane.java:271)
	at org.eclipse.ui.internal.EditorPane.setFocus(EditorPane.java:116)
	at org.eclipse.ui.internal.presentations.PresentablePart.setFocus
(PresentablePart.java:134)
	at 
org.eclipse.ui.internal.presentations.newapi.TabbedStackPresentation$1.handleEv
ent(TabbedStackPresentation.java:92)
	at 
org.eclipse.ui.internal.presentations.newapi.AbstractTabFolder.fireEvent
(AbstractTabFolder.java:263)
	at 
org.eclipse.ui.internal.presentations.newapi.AbstractTabFolder.fireEvent
(AbstractTabFolder.java:268)
	at 
org.eclipse.ui.internal.presentations.newapi.AbstractTabFolder.handleMouseDown
(AbstractTabFolder.java:322)
	at 
org.eclipse.ui.internal.presentations.newapi.AbstractTabFolder$3.mouseDown
(AbstractTabFolder.java:79)
	at org.eclipse.swt.widgets.TypedListener.handleEvent
(TypedListener.java:132)
	at org.eclipse.swt.widgets.EventTable.sendEvent(EventTable.java:82)
	at org.eclipse.swt.widgets.Widget.sendEvent(Widget.java:842)
	at org.eclipse.swt.widgets.Display.runDeferredEvents(Display.java:2894)
	at org.eclipse.swt.widgets.Display.readAndDispatch(Display.java:2527)
	at org.eclipse.ui.internal.Workbench.runEventLoop(Workbench.java:1570)
	at org.eclipse.ui.internal.Workbench.runUI(Workbench.java:1534)
	at org.eclipse.ui.internal.Workbench.createAndRunWorkbench
(Workbench.java:306)
	at org.eclipse.ui.PlatformUI.createAndRunWorkbench(PlatformUI.java:143)
	at org.eclipse.ui.internal.ide.IDEApplication.run
(IDEApplication.java:103)
	at org.eclipse.core.internal.runtime.PlatformActivator$1.run
(PlatformActivator.java:228)
	at org.eclipse.core.runtime.adaptor.EclipseStarter.run
(EclipseStarter.java:344)
	at org.eclipse.core.runtime.adaptor.EclipseStarter.run
(EclipseStarter.java:156)
	at sun.reflect.NativeMethodAccessorImpl.invoke0(Native Method)
	at sun.reflect.NativeMethodAccessorImpl.invoke(Unknown Source)
	at sun.reflect.DelegatingMethodAccessorImpl.invoke(Unknown Source)
	at java.lang.reflect.Method.invoke(Unknown Source)
	at org.eclipse.core.launcher.Main.invokeFramework(Main.java:315)
	at org.eclipse.core.launcher.Main.basicRun(Main.java:268)
	at org.eclipse.core.launcher.Main.run(Main.java:942)
	at org.eclipse.core.launcher.Main.main(Main.java:926)
!SUBENTRY 1 org.eclipse.ui 4 0 2005-04-12 10:58:56.358
!MESSAGE No saved state can be found for editor id= name=&lt;null&gt;

!ENTRY org.eclipse.ui 4 4 2005-04-12 10:58:56.418
!MESSAGE Unhandled event loop exception

!ENTRY org.eclipse.ui 4 0 2005-04-12 10:58:56.428
!MESSAGE Widget is disposed
!STACK 0
org.eclipse.swt.SWTException: Widget is disposed
	at org.eclipse.swt.SWT.error(SWT.java:2860)
	at org.eclipse.swt.SWT.error(SWT.java:2783)
	at org.eclipse.swt.SWT.error(SWT.java:2754)
	at org.eclipse.swt.widgets.Widget.error(Widget.java:393)
	at org.eclipse.swt.widgets.Widget.checkWidget(Widget.java:295)
	at org.eclipse.swt.widgets.Widget.getData(Widget.java:475)
	at org.eclipse.ui.presentations.PresentationUtil$4.handleEvent
(PresentationUtil.java:75)
	at org.eclipse.swt.widgets.EventTable.sendEvent(EventTable.java:82)
	at org.eclipse.swt.widgets.Widget.sendEvent(Widget.java:842)
	at org.eclipse.swt.widgets.Display.runDeferredEvents(Display.java:2894)
	at org.eclipse.swt.widgets.Display.readAndDispatch(Display.java:2527)
	at org.eclipse.ui.internal.Workbench.runEventLoop(Workbench.java:1570)
	at org.eclipse.ui.internal.Workbench.runUI(Workbench.java:1534)
	at org.eclipse.ui.internal.Workbench.createAndRunWorkbench
(Workbench.java:306)
	at org.eclipse.ui.PlatformUI.createAndRunWorkbench(PlatformUI.java:143)
	at org.eclipse.ui.internal.ide.IDEApplication.run
(IDEApplication.java:103)
	at org.eclipse.core.internal.runtime.PlatformActivator$1.run
(PlatformActivator.java:228)
	at org.eclipse.core.runtime.adaptor.EclipseStarter.run
(EclipseStarter.java:344)
	at org.eclipse.core.runtime.adaptor.EclipseStarter.run
(EclipseStarter.java:156)
	at sun.reflect.NativeMethodAccessorImpl.invoke0(Native Method)
	at sun.reflect.NativeMethodAccessorImpl.invoke(Unknown Source)
	at sun.reflect.DelegatingMethodAccessorImpl.invoke(Unknown Source)
	at java.lang.reflect.Method.invoke(Unknown Source)
	at org.eclipse.core.launcher.Main.invokeFramework(Main.java:315)
	at org.eclipse.core.launcher.Main.basicRun(Main.java:268)
	at org.eclipse.core.launcher.Main.run(Main.java:942)
	at org.eclipse.core.launcher.Main.main(Main.java:926)
(In reply to comment #0)
&gt; Used cdt 3.0 M6 candidate: I200504120301 
&gt; When I tried to delete a std make C project without saving the source code 
in 

Jame,
I was unable to reproduce this one, could you show on the next build
tomorrow.  Thanks

Seems I can't reproduce this on today's build either. 
can't reproduce on  build 200504131010</WithStack>
    <WithOutStack>Used cdt 3.0 M6 candidate: I200504120301 

When I tried to delete a std make C project without saving the source code in 
editor, some exceptions were generated as below:



!SESSION 2005-04-12 10:58:56.348 ----------------------------------------------
-
eclipse.buildId=I20050401-1645
java.version=1.4.2_07
java.vendor=Sun Microsystems Inc.
BootLoader constants: OS=win32, ARCH=x86, WS=win32, NL=en_US
Command-line arguments:  -os win32 -ws win32 -arch x86

!ENTRY org.eclipse.ui 4 0 2005-04-12 10:58:56.348
!MESSAGE Unable to create editor ID : No saved state can be found for editor 
id= name=&lt;null&gt;
!STACK 1
!SUBENTRY 1 org.eclipse.ui 4 0 2005-04-12 10:58:56.358
!MESSAGE No saved state can be found for editor id= name=&lt;null&gt;

!ENTRY org.eclipse.ui 4 4 2005-04-12 10:58:56.418
!MESSAGE Unhandled event loop exception

!ENTRY org.eclipse.ui 4 0 2005-04-12 10:58:56.428
!MESSAGE Widget is disposed
!STACK 0

(In reply to comment #0)
&gt; Used cdt 3.0 M6 candidate: I200504120301 
&gt; When I tried to delete a std make C project without saving the source code 
in 

Jame,
I was unable to reproduce this one, could you show on the next build
tomorrow.  Thanks

Seems I can't reproduce this on today's build either. 
can't reproduce on  build 200504131010</WithOutStack>
  </Bug>
  <Bug>
    <BugId amount="91141" />
    <CreationDate amount="2005-04-12 11:20:00 -0400" />
    <DupId amount="" />
    <classification amount="WebTools" />
    <Product amount="WTP Common Tools" />
    <component amount="wst.command" />
    <Version amount="unspecified" />
    <rep_platform amount="All" />
    <op_sys amount="All" />
    <priority amount="P3" />
    <bug_severity amount="normal" />
    <Summery>Plugin.xml errors: widgetFactory not legal child of extension</Summery>
    <Patches amount="0" />
    <Stacktraces amount="0" />
    <SourceCodeRegions amount="0" />
    <Enumerations amount="0" />
    <bug_status amount="CLOSED" />
    <resolution amount="FIXED" />
    <WithStack>The plugin manifest compiler is complaining about the &lt;widgetFactory&gt; element 
in the extensions to org.eclipse.wst.command.env.ui.widgetRegistry in plugins 
org.eclipse.jst.ws.axis.creation.ui and org.eclipse.jst.ws.consumption.ui:

Element 'widgetFactory' is not legal as a child of element 'extension'.
plugin.xml org.eclipse.jst.ws.axis.creation.ui line 182

Note that "Illegal elements" and "Illegal attributes" should be set to "Error" 
under Preferences -&gt; Plug-in Development -&gt; Compilers.

Perhaps org.eclipse.wst.command.env.ui/schema/widgetRegistry.exsd needs some 
tweaking?
Created attachment 19816
Patch for env ui plugin

This bug is fixed with the attached patch.
Peter, thanks for the patch. Please remember to accept your bugs into 
the "assigned" state when you start working on them.
Committed.
Verified. Thanks.</WithStack>
    <WithOutStack>The plugin manifest compiler is complaining about the &lt;widgetFactory&gt; element 
in the extensions to org.eclipse.wst.command.env.ui.widgetRegistry in plugins 
org.eclipse.jst.ws.axis.creation.ui and org.eclipse.jst.ws.consumption.ui:

Element 'widgetFactory' is not legal as a child of element 'extension'.
plugin.xml org.eclipse.jst.ws.axis.creation.ui line 182

Note that "Illegal elements" and "Illegal attributes" should be set to "Error" 
under Preferences -&gt; Plug-in Development -&gt; Compilers.

Perhaps org.eclipse.wst.command.env.ui/schema/widgetRegistry.exsd needs some 
tweaking?
Created attachment 19816
Patch for env ui plugin

This bug is fixed with the attached patch.
Peter, thanks for the patch. Please remember to accept your bugs into 
the "assigned" state when you start working on them.
Committed.
Verified. Thanks.</WithOutStack>
  </Bug>
  <Bug>
    <BugId amount="91142" />
    <CreationDate amount="2005-04-12 11:21:00 -0400" />
    <DupId amount="" />
    <classification amount="Eclipse Foundation" />
    <Product amount="z_Archived" />
    <component amount="Hyades" />
    <Version amount="unspecified" />
    <rep_platform amount="PC" />
    <op_sys amount="All" />
    <priority amount="P3" />
    <bug_severity amount="normal" />
    <Summery>(Plat) chkpii erros in logui.xml</Summery>
    <Patches amount="0" />
    <Stacktraces amount="0" />
    <SourceCodeRegions amount="0" />
    <Enumerations amount="0" />
    <bug_status amount="CLOSED" />
    <resolution amount="INVALID" />
    <WithStack>Line 62, there is no opening &lt;context&gt; tag:

&lt;topic label="Log and Trace Analyzer"
href="../org.eclipse.hyades.log.ui.doc.user/concepts/ceautcom.htm"/&gt;
&lt;/context&gt;
The file looks OK to me.  
As of TPTP 4.6.0, TPTP is in maintenance mode and focusing on improving quality by resolving relevant enhancements/defects and increasing test coverage through test creation, automation, Build Verification Tests (BVTs), and expanded run-time execution. As part of the TPTP Bugzilla housecleaning process (see http://wiki.eclipse.org/Bugzilla_Housecleaning_Processes), this enhancement/defect is verified/closed by the Project Lead since this enhancement/defect has been resolved and unverified for more than 1 year and considered to be fixed. If this enhancement/defect is still unresolved and reproducible in the latest TPTP release (http://www.eclipse.org/tptp/home/downloads/), please re-open.</WithStack>
    <WithOutStack>Line 62, there is no opening &lt;context&gt; tag:

&lt;topic label="Log and Trace Analyzer"
href="../org.eclipse.hyades.log.ui.doc.user/concepts/ceautcom.htm"/&gt;
&lt;/context&gt;
The file looks OK to me.  
As of TPTP 4.6.0, TPTP is in maintenance mode and focusing on improving quality by resolving relevant enhancements/defects and increasing test coverage through test creation, automation, Build Verification Tests (BVTs), and expanded run-time execution. As part of the TPTP Bugzilla housecleaning process (see http://wiki.eclipse.org/Bugzilla_Housecleaning_Processes), this enhancement/defect is verified/closed by the Project Lead since this enhancement/defect has been resolved and unverified for more than 1 year and considered to be fixed. If this enhancement/defect is still unresolved and reproducible in the latest TPTP release (http://www.eclipse.org/tptp/home/downloads/), please re-open.</WithOutStack>
  </Bug>
  <Bug>
    <BugId amount="91143" />
    <CreationDate amount="2005-04-12 11:23:00 -0400" />
    <DupId amount="" />
    <classification amount="Tools" />
    <Product amount="GEF" />
    <component amount="GEF (MVC) [GEF 3.x / Zest 1.x]" />
    <Version amount="unspecified" />
    <rep_platform amount="PC" />
    <op_sys amount="All" />
    <priority amount="P3" />
    <bug_severity amount="normal" />
    <Summery>chkpii error in overview.html</Summery>
    <Patches amount="0" />
    <Stacktraces amount="0" />
    <SourceCodeRegions amount="0" />
    <Enumerations amount="0" />
    <bug_status amount="CLOSED" />
    <resolution amount="INVALID" />
    <WithStack>ECLIPSE\PLUGINS\ORG.ECLIPSE.GEF_JAR\
  OVERVIEW.HTML     HTML-32     801   Either '&lt;COLGROUP' is an unsupported tag
or replace '&lt;' with '&amp;lt;'.  Line: 403 
                                801   Either '&lt;COLGROUP' is an unsupported tag
or replace '&lt;' with '&amp;lt;'.  Line: 403 
                                801   Either '&lt;THEAD' is an unsupported tag or
replace '&lt;' with '&amp;lt;'.  Line: 405    
                                801   Either '&lt;BR/' is an unsupported tag or
replace '&lt;' with '&amp;lt;'.  Line: 749      
                                801   Either '&lt;BR/' is an unsupported tag or
replace '&lt;' with '&amp;lt;'.  Line: 764      
                                801   Either '&lt;BR/' is an unsupported tag or
replace '&lt;' with '&amp;lt;'.  Line: 792      
                                801   Either '&lt;br/' is an unsupported tag or
replace '&lt;' with '&amp;lt;'.  Line: 818      
                                801   Either '&lt;br/' is an unsupported tag or
replace '&lt;' with '&amp;lt;'.  Line: 845      
                                801   Either '&lt;br/' is an unsupported tag or
replace '&lt;' with '&amp;lt;'.  Line: 875      
                                801   Either '&lt;BR/' is an unsupported tag or
replace '&lt;' with '&amp;lt;'.  Line: 910      
                                810   Unmatched (TBODY /TBODY) tag on/after NLV
line: 414                             
                                833   Missing META tag.  Required CHARSET value
must be defined in this file.
These warning don't seem  valid
I'm using v 7.041.

Do you see something different when you run it?
This file is currently unchanged since 3.0, the previous release.
I haven't run checkpii, but I know that &lt;BR/&gt; is valid HTML.
According to the W3C HTML Specification, when a "&lt;" character is used within the
translatable text, it should be defined using the HTML symbol "&amp;lt;". 

It's probably a good idea to talk to the chkpii development team about this
before any action is taken.
HTML Tags are not translatable.
closing, per Cam's request
closed</WithStack>
    <WithOutStack>ECLIPSE\PLUGINS\ORG.ECLIPSE.GEF_JAR\
  OVERVIEW.HTML     HTML-32     801   Either '&lt;COLGROUP' is an unsupported tag
or replace '&lt;' with '&amp;lt;'.  Line: 403 
                                801   Either '&lt;COLGROUP' is an unsupported tag
or replace '&lt;' with '&amp;lt;'.  Line: 403 
                                801   Either '&lt;THEAD' is an unsupported tag or
replace '&lt;' with '&amp;lt;'.  Line: 405    
                                801   Either '&lt;BR/' is an unsupported tag or
replace '&lt;' with '&amp;lt;'.  Line: 749      
                                801   Either '&lt;BR/' is an unsupported tag or
replace '&lt;' with '&amp;lt;'.  Line: 764      
                                801   Either '&lt;BR/' is an unsupported tag or
replace '&lt;' with '&amp;lt;'.  Line: 792      
                                801   Either '&lt;br/' is an unsupported tag or
replace '&lt;' with '&amp;lt;'.  Line: 818      
                                801   Either '&lt;br/' is an unsupported tag or
replace '&lt;' with '&amp;lt;'.  Line: 845      
                                801   Either '&lt;br/' is an unsupported tag or
replace '&lt;' with '&amp;lt;'.  Line: 875      
                                801   Either '&lt;BR/' is an unsupported tag or
replace '&lt;' with '&amp;lt;'.  Line: 910      
                                810   Unmatched (TBODY /TBODY) tag on/after NLV
line: 414                             
                                833   Missing META tag.  Required CHARSET value
must be defined in this file.
These warning don't seem  valid
I'm using v 7.041.

Do you see something different when you run it?
This file is currently unchanged since 3.0, the previous release.
I haven't run checkpii, but I know that &lt;BR/&gt; is valid HTML.
According to the W3C HTML Specification, when a "&lt;" character is used within the
translatable text, it should be defined using the HTML symbol "&amp;lt;". 

It's probably a good idea to talk to the chkpii development team about this
before any action is taken.
HTML Tags are not translatable.
closing, per Cam's request
closed</WithOutStack>
  </Bug>
  <Bug>
    <BugId amount="91144" />
    <CreationDate amount="2005-04-12 11:25:00 -0400" />
    <DupId amount="" />
    <classification amount="Eclipse" />
    <Product amount="Platform" />
    <component amount="UI" />
    <Version amount="3.1" />
    <rep_platform amount="PC" />
    <op_sys amount="Windows XP" />
    <priority amount="P3" />
    <bug_severity amount="normal" />
    <Summery>No Import/Export on Windows-&gt;Preferences in 3.1M6</Summery>
    <Patches amount="0" />
    <Stacktraces amount="0" />
    <SourceCodeRegions amount="0" />
    <Enumerations amount="0" />
    <bug_status amount="RESOLVED" />
    <resolution amount="INVALID" />
    <WithStack>When I run 3.1M6 and click Window -&gt; Preferences, the Import and Export 
buttons (usually lower left corner of that5 pop-up) are missing.
See File &gt; Import/Export &gt; Preferences , this support has moved.</WithStack>
    <WithOutStack>When I run 3.1M6 and click Window -&gt; Preferences, the Import and Export 
buttons (usually lower left corner of that5 pop-up) are missing.
See File &gt; Import/Export &gt; Preferences , this support has moved.</WithOutStack>
  </Bug>
  <Bug>
    <BugId amount="91145" />
    <CreationDate amount="2005-04-12 11:27:00 -0400" />
    <DupId amount="" />
    <classification amount="Tools" />
    <Product amount="CDT" />
    <component amount="cdt-core" />
    <Version amount="3.0" />
    <rep_platform amount="PC" />
    <op_sys amount="Windows XP" />
    <priority amount="P3" />
    <bug_severity amount="normal" />
    <Summery>DOM Indexer doesn't merge indexes properly</Summery>
    <Patches amount="0" />
    <Stacktraces amount="0" />
    <SourceCodeRegions amount="0" />
    <Enumerations amount="0" />
    <bug_status amount="RESOLVED" />
    <resolution amount="FIXED" />
    <WithStack>The DOM Indexer does not always merge in the indexes properly - which results in
multiple indexes on next start up.
Couldn't reproduce - will leave open as a reminder to keep an eye out for this
type of problem. Basically each time a file is added to an index in the Index
class, after it gets indexed the merge state should be updated to CAN_MERGE and
eventually a call to save will force a merge.


*** This bug has been marked as a duplicate of 89965 ***
Oops...didn't mean to do that.
This seems to have been an artifact of the M6 build. I've also added save
commands to the end of all indexing actions so everything should get merged.

- BG</WithStack>
    <WithOutStack>The DOM Indexer does not always merge in the indexes properly - which results in
multiple indexes on next start up.
Couldn't reproduce - will leave open as a reminder to keep an eye out for this
type of problem. Basically each time a file is added to an index in the Index
class, after it gets indexed the merge state should be updated to CAN_MERGE and
eventually a call to save will force a merge.


*** This bug has been marked as a duplicate of 89965 ***
Oops...didn't mean to do that.
This seems to have been an artifact of the M6 build. I've also added save
commands to the end of all indexing actions so everything should get merged.

- BG</WithOutStack>
  </Bug>
  <Bug>
    <BugId amount="91146" />
    <CreationDate amount="2005-04-12 11:29:00 -0400" />
    <DupId amount="" />
    <classification amount="Eclipse Foundation" />
    <Product amount="z_Archived" />
    <component amount="Hyades" />
    <Version amount="unspecified" />
    <rep_platform amount="PC" />
    <op_sys amount="All" />
    <priority amount="P3" />
    <bug_severity amount="normal" />
    <Summery>(Plat) chkpii errors in TPTP Platform Analysis properties files</Summery>
    <Patches amount="0" />
    <Stacktraces amount="0" />
    <SourceCodeRegions amount="1">
      <source_code type="multicomment">
        <location start="2424" end="2531" />
        <code>/**
 * &lt;copyright&gt;
 * &lt;/copyright&gt;
 *
 * $Id: plugin.properties,v 1.3 2005/03/24 17:47:19 ewurth Exp $
 */</code>
      </source_code>
    </SourceCodeRegions>
    <Enumerations amount="1">
      <Enumeration lines="8">
        <Lines>
          <Line>1.  This should be removed, or use the '#' for comments in properties files...</Line>
          <Line />
          <Line />
          <Line />
          <Line>2.  The last line of the file should have text on it, not a blank line...</Line>
          <Line>Fixed in latest TPTP 4.0 build</Line>
          <Line>(http://download.torolab.ibm.com/download/TPTP/4.0/TPTP-4.0-200504191732/CHKPII-TPTP-4.0-200504191732.SUM)</Line>
          <Line>As of TPTP 4.6.0, TPTP is in maintenance mode and focusing on improving quality by resolving relevant enhancements/defects and increasing test coverage through test creation, automation, Build Verification Tests (BVTs), and expanded run-time execution. As part of the TPTP Bugzilla housecleaning process (see http://wiki.eclipse.org/Bugzilla_Housecleaning_Processes), this enhancement/defect is verified/closed by the Project Lead since this enhancement/defect has been resolved and unverified for more than 1 year and considered to be fixed. If this enhancement/defect is still unresolved and reproducible in the latest TPTP release (http://www.eclipse.org/tptp/home/downloads/), please re-open.</Line>
        </Lines>
      </Enumeration>
    </Enumerations>
    <bug_status amount="CLOSED" />
    <resolution amount="FIXED" />
    <WithStack>ECLIPSE\PLUGINS\ORG.ECLIPSE.TPTP.PLATFORM.ANALYSIS.STATIC.ENGINE\
  PLUGIN.PROPERTIES  JAVA2-PRB   910   Invalid comment delimiter (/*) used in
PropertyResourceBundle.  Line: 3         
                                 910   Invalid comment delimiter (*/) used in
PropertyResourceBundle.  Line: 8         
                                 914   Separator between string ID and text
should be ' '.  May be invalid text continuation.  Line: 22
                                 914   Separator between string ID and text
should be ' '.  May be invalid text continuation.  Line: 23

ECLIPSE\PLUGINS\ORG.ECLIPSE.TPTP.PLATFORM.ANALYSIS.STATIC.ENGINE.UI\
  PLUGIN.PROPERTIES  JAVA2-PRB   910   Invalid comment delimiter (/*) used in
PropertyResourceBundle.  Line: 3         
                                 910   Invalid comment delimiter (*/) used in
PropertyResourceBundle.  Line: 8         
                                 914   Separator between string ID and text
should be ' '.  May be invalid text continuation.  Line: 22
                                 914   Separator between string ID and text
should be ' '.  May be invalid text continuation.  Line: 23

ECLIPSE\PLUGINS\ORG.ECLIPSE.TPTP.PLATFORM.ANALYSIS.STATIC.UTIL\
  PLUGIN.PROPERTIES  JAVA2-PRB   910   Invalid comment delimiter (/*) used in
PropertyResourceBundle.  Line: 3         
                                 910   Invalid comment delimiter (*/) used in
PropertyResourceBundle.  Line: 8         
                                 914   Separator between string ID and text
should be ' '.  May be invalid text continuation.  Line: 22
                                 914   Separator between string ID and text
should be ' '.  May be invalid text continuation.  Line: 23

ECLIPSE\PLUGINS\ORG.ECLIPSE.TPTP.PLATFORM.ANALYSIS.STATIC.UTIL.UI\
  PLUGIN.PROPERTIES  JAVA2-PRB   910   Invalid comment delimiter (/*) used in
PropertyResourceBundle.  Line: 3         
                                 910   Invalid comment delimiter (*/) used in
PropertyResourceBundle.  Line: 8         
                                 914   Separator between string ID and text
should be ' '.  May be invalid text continuation.  Line: 22
                                 914   Separator between string ID and text
should be ' '.  May be invalid text continuation.  Line: 23


There is two problems:  

1.  This should be removed, or use the '#' for comments in properties files...

/**
 * &lt;copyright&gt;
 * &lt;/copyright&gt;
 *
 * $Id: plugin.properties,v 1.3 2005/03/24 17:47:19 ewurth Exp $
 */


2.  The last line of the file should have text on it, not a blank line...
Fixed in latest TPTP 4.0 build
(http://download.torolab.ibm.com/download/TPTP/4.0/TPTP-4.0-200504191732/CHKPII-TPTP-4.0-200504191732.SUM)
As of TPTP 4.6.0, TPTP is in maintenance mode and focusing on improving quality by resolving relevant enhancements/defects and increasing test coverage through test creation, automation, Build Verification Tests (BVTs), and expanded run-time execution. As part of the TPTP Bugzilla housecleaning process (see http://wiki.eclipse.org/Bugzilla_Housecleaning_Processes), this enhancement/defect is verified/closed by the Project Lead since this enhancement/defect has been resolved and unverified for more than 1 year and considered to be fixed. If this enhancement/defect is still unresolved and reproducible in the latest TPTP release (http://www.eclipse.org/tptp/home/downloads/), please re-open.</WithStack>
    <WithOutStack>ECLIPSE\PLUGINS\ORG.ECLIPSE.TPTP.PLATFORM.ANALYSIS.STATIC.ENGINE\
  PLUGIN.PROPERTIES  JAVA2-PRB   910   Invalid comment delimiter (/*) used in
PropertyResourceBundle.  Line: 3         
                                 910   Invalid comment delimiter (*/) used in
PropertyResourceBundle.  Line: 8         
                                 914   Separator between string ID and text
should be ' '.  May be invalid text continuation.  Line: 22
                                 914   Separator between string ID and text
should be ' '.  May be invalid text continuation.  Line: 23

ECLIPSE\PLUGINS\ORG.ECLIPSE.TPTP.PLATFORM.ANALYSIS.STATIC.ENGINE.UI\
  PLUGIN.PROPERTIES  JAVA2-PRB   910   Invalid comment delimiter (/*) used in
PropertyResourceBundle.  Line: 3         
                                 910   Invalid comment delimiter (*/) used in
PropertyResourceBundle.  Line: 8         
                                 914   Separator between string ID and text
should be ' '.  May be invalid text continuation.  Line: 22
                                 914   Separator between string ID and text
should be ' '.  May be invalid text continuation.  Line: 23

ECLIPSE\PLUGINS\ORG.ECLIPSE.TPTP.PLATFORM.ANALYSIS.STATIC.UTIL\
  PLUGIN.PROPERTIES  JAVA2-PRB   910   Invalid comment delimiter (/*) used in
PropertyResourceBundle.  Line: 3         
                                 910   Invalid comment delimiter (*/) used in
PropertyResourceBundle.  Line: 8         
                                 914   Separator between string ID and text
should be ' '.  May be invalid text continuation.  Line: 22
                                 914   Separator between string ID and text
should be ' '.  May be invalid text continuation.  Line: 23

ECLIPSE\PLUGINS\ORG.ECLIPSE.TPTP.PLATFORM.ANALYSIS.STATIC.UTIL.UI\
  PLUGIN.PROPERTIES  JAVA2-PRB   910   Invalid comment delimiter (/*) used in
PropertyResourceBundle.  Line: 3         
                                 910   Invalid comment delimiter (*/) used in
PropertyResourceBundle.  Line: 8         
                                 914   Separator between string ID and text
should be ' '.  May be invalid text continuation.  Line: 22
                                 914   Separator between string ID and text
should be ' '.  May be invalid text continuation.  Line: 23


There is two problems:  

1.  This should be removed, or use the '#' for comments in properties files...

/**
 * &lt;copyright&gt;
 * &lt;/copyright&gt;
 *
 * $Id: plugin.properties,v 1.3 2005/03/24 17:47:19 ewurth Exp $
 */


2.  The last line of the file should have text on it, not a blank line...
Fixed in latest TPTP 4.0 build
(http://download.torolab.ibm.com/download/TPTP/4.0/TPTP-4.0-200504191732/CHKPII-TPTP-4.0-200504191732.SUM)
As of TPTP 4.6.0, TPTP is in maintenance mode and focusing on improving quality by resolving relevant enhancements/defects and increasing test coverage through test creation, automation, Build Verification Tests (BVTs), and expanded run-time execution. As part of the TPTP Bugzilla housecleaning process (see http://wiki.eclipse.org/Bugzilla_Housecleaning_Processes), this enhancement/defect is verified/closed by the Project Lead since this enhancement/defect has been resolved and unverified for more than 1 year and considered to be fixed. If this enhancement/defect is still unresolved and reproducible in the latest TPTP release (http://www.eclipse.org/tptp/home/downloads/), please re-open.</WithOutStack>
  </Bug>
  <Bug>
    <BugId amount="91147" />
    <CreationDate amount="2005-04-12 11:35:00 -0400" />
    <DupId amount="" />
    <classification amount="Eclipse Foundation" />
    <Product amount="z_Archived" />
    <component amount="WTP Datatools" />
    <Version amount="unspecified" />
    <rep_platform amount="PC" />
    <op_sys amount="Windows XP" />
    <priority amount="P3" />
    <bug_severity amount="normal" />
    <Summery>chkpii erros in RDB Models properties files</Summery>
    <Patches amount="0" />
    <Stacktraces amount="0" />
    <SourceCodeRegions amount="1">
      <source_code type="multicomment">
        <location start="1206" end="1275" />
        <code>/**
 * &lt;copyright&gt;
 * &lt;/copyright&gt;
 *
 * %W%
 * @version %I% %H%
 */</code>
      </source_code>
    </SourceCodeRegions>
    <Enumerations amount="1">
      <Enumeration lines="8">
        <Lines>
          <Line>1.  Please remove this or use '#' for comments</Line>
          <Line />
          <Line />
          <Line />
          <Line>2. The last line in the file must not be blank</Line>
          <Line>This was a duplicate of another defect.  I applied the patch included with the</Line>
          <Line>other defect.</Line>
          <Line>Verified fixed.</Line>
        </Lines>
      </Enumeration>
    </Enumerations>
    <bug_status amount="CLOSED" />
    <resolution amount="FIXED" />
    <WithStack>ECLIPSE\PLUGINS\ORG.ECLIPSE.WST.RDB.MODELS.DBDEFINITION\
  PLUGIN.PROPERTIES  JAVA2-PRB   910   Invalid comment delimiter (/*) used in
PropertyResourceBundle.  Line: 13        
                                 910   Invalid comment delimiter (*/) used in
PropertyResourceBundle.  Line: 19        
                                 914   Separator between string ID and text
should be ' '.  May be invalid text continuation.  Line: 33
                                 914   Separator between string ID and text
should be ' '.  May be invalid text continuation.  Line: 34

ECLIPSE\PLUGINS\ORG.ECLIPSE.WST.RDB.MODELS.SQL\
  PLUGIN.PROPERTIES  JAVA2-PRB   910   Invalid comment delimiter (/*) used in
PropertyResourceBundle.  Line: 13        
                                 910   Invalid comment delimiter (*/) used in
PropertyResourceBundle.  Line: 19        
                                 914   Separator between string ID and text
should be ' '.  May be invalid text continuation.  Line: 33
                                 914   Separator between string ID and text
should be ' '.  May be invalid text continuation.  Line: 34


There are two problems...

1.  Please remove this or use '#' for comments

/**
 * &lt;copyright&gt;
 * &lt;/copyright&gt;
 *
 * %W%
 * @version %I% %H%
 */


2. The last line in the file must not be blank
This was a duplicate of another defect.  I applied the patch included with the 
other defect.
Verified fixed.</WithStack>
    <WithOutStack>ECLIPSE\PLUGINS\ORG.ECLIPSE.WST.RDB.MODELS.DBDEFINITION\
  PLUGIN.PROPERTIES  JAVA2-PRB   910   Invalid comment delimiter (/*) used in
PropertyResourceBundle.  Line: 13        
                                 910   Invalid comment delimiter (*/) used in
PropertyResourceBundle.  Line: 19        
                                 914   Separator between string ID and text
should be ' '.  May be invalid text continuation.  Line: 33
                                 914   Separator between string ID and text
should be ' '.  May be invalid text continuation.  Line: 34

ECLIPSE\PLUGINS\ORG.ECLIPSE.WST.RDB.MODELS.SQL\
  PLUGIN.PROPERTIES  JAVA2-PRB   910   Invalid comment delimiter (/*) used in
PropertyResourceBundle.  Line: 13        
                                 910   Invalid comment delimiter (*/) used in
PropertyResourceBundle.  Line: 19        
                                 914   Separator between string ID and text
should be ' '.  May be invalid text continuation.  Line: 33
                                 914   Separator between string ID and text
should be ' '.  May be invalid text continuation.  Line: 34


There are two problems...

1.  Please remove this or use '#' for comments

/**
 * &lt;copyright&gt;
 * &lt;/copyright&gt;
 *
 * %W%
 * @version %I% %H%
 */


2. The last line in the file must not be blank
This was a duplicate of another defect.  I applied the patch included with the 
other defect.
Verified fixed.</WithOutStack>
  </Bug>
  <Bug>
    <BugId amount="91148" />
    <CreationDate amount="2005-04-12 11:39:00 -0400" />
    <DupId amount="" />
    <classification amount="Eclipse" />
    <Product amount="Platform" />
    <component amount="Ant" />
    <Version amount="3.1" />
    <rep_platform amount="PC" />
    <op_sys amount="Windows XP" />
    <priority amount="P3" />
    <bug_severity amount="normal" />
    <Summery>Move Preferences &gt; Ant  &gt; Templates &gt; Import/Export to File menu</Summery>
    <Patches amount="0" />
    <Stacktraces amount="0" />
    <SourceCodeRegions amount="0" />
    <Enumerations amount="0" />
    <bug_status amount="RESOLVED" />
    <resolution amount="WONTFIX" />
    <WithStack>Please convert your import and export options to the new support available off
the File &gt; Import/Export &gt; Preferences  wizard.

For an example see the Preference Transfer ext. pt. (no code necessary)
org.eclipse.ui\schema\preferenceTransfer.exsd

and also if you need to do preference migration or modifications on import see:
org.eclipse.core.runtime\schema\preferences.exsd  (modifier element)
Currently the Ant template support relies on the generic Template support
provided from org.eclipse.ui.texteditor.templates.TemplatePreferencePage. It
would seem the generic support needs the migration (but appears it will not be
as outlined in bug 91149).

mvm do you see value in adding the Ant preferences in general at the top level
as JDT has done? I am leaning towards not doing any changes.
Deferred to post 3.1
In response to comment #1, I think you need to answer whether the user would
look to be exporting/sharing the Ant preferences/templates as a rule.  If this
is atypical then thats a reason not to.  

We need to work towards not having import/export on any preference page however
so I think this should be the goal as soon as possible.  If you don't have an
Ant Template specific export type then it would be exported with the general
Export All function anyway.
The template exporting provides functinality that is not supported by the 
transfer extension (as outlined in bug 91149)...removing the import and export 
buttons on the Ant template page would be a degradation in function for the 
user.

I believe that Export All covers the requirements of the average Ant 
user...retaining the support for specific import/export via the Ant template 
preference page.
Not currently planned.
Ok, from an overall UI experience I still want to point out then until we move everything the users will find export in multiple places and this will introduce confusion.  Anything the UI team can do to help?
As of now 'LATER' and 'REMIND' resolutions are no longer supported.
Please reopen this bug if it is still valid for you.</WithStack>
    <WithOutStack>Please convert your import and export options to the new support available off
the File &gt; Import/Export &gt; Preferences  wizard.

For an example see the Preference Transfer ext. pt. (no code necessary)
org.eclipse.ui\schema\preferenceTransfer.exsd

and also if you need to do preference migration or modifications on import see:
org.eclipse.core.runtime\schema\preferences.exsd  (modifier element)
Currently the Ant template support relies on the generic Template support
provided from org.eclipse.ui.texteditor.templates.TemplatePreferencePage. It
would seem the generic support needs the migration (but appears it will not be
as outlined in bug 91149).

mvm do you see value in adding the Ant preferences in general at the top level
as JDT has done? I am leaning towards not doing any changes.
Deferred to post 3.1
In response to comment #1, I think you need to answer whether the user would
look to be exporting/sharing the Ant preferences/templates as a rule.  If this
is atypical then thats a reason not to.  

We need to work towards not having import/export on any preference page however
so I think this should be the goal as soon as possible.  If you don't have an
Ant Template specific export type then it would be exported with the general
Export All function anyway.
The template exporting provides functinality that is not supported by the 
transfer extension (as outlined in bug 91149)...removing the import and export 
buttons on the Ant template page would be a degradation in function for the 
user.

I believe that Export All covers the requirements of the average Ant 
user...retaining the support for specific import/export via the Ant template 
preference page.
Not currently planned.
Ok, from an overall UI experience I still want to point out then until we move everything the users will find export in multiple places and this will introduce confusion.  Anything the UI team can do to help?
As of now 'LATER' and 'REMIND' resolutions are no longer supported.
Please reopen this bug if it is still valid for you.</WithOutStack>
  </Bug>
  <Bug>
    <BugId amount="91149" />
    <CreationDate amount="2005-04-12 11:44:00 -0400" />
    <DupId amount="" />
    <classification amount="Eclipse" />
    <Product amount="JDT" />
    <component amount="UI" />
    <Version amount="3.1" />
    <rep_platform amount="PC" />
    <op_sys amount="Windows XP" />
    <priority amount="P3" />
    <bug_severity amount="normal" />
    <Summery>[preferences] Convert preferences import/export to File &gt; import/export</Summery>
    <Patches amount="0" />
    <Stacktraces amount="0" />
    <SourceCodeRegions amount="0" />
    <Enumerations amount="1">
      <Enumeration lines="9">
        <Lines>
          <Line>- code templates, editor templates and code formatter import/export all support</Line>
          <Line>exporting single entries or a selection of entries. Code and editor templates</Line>
          <Line>also have the problem that what we store in the key is only the delta to the</Line>
          <Line>default settings.</Line>
          <Line>- another aspect is that all these settings also can be configured project</Line>
          <Line>specificly. Our import/export buttons allow you to store settings from either</Line>
          <Line>project or instance and import them whereever you want (different project or</Line>
          <Line>instance). The preference transfer page only would limit us to export/import on</Line>
          <Line>instance settings.</Line>
        </Lines>
      </Enumeration>
    </Enumerations>
    <bug_status amount="RESOLVED" />
    <resolution amount="FIXED" />
    <WithStack>Preference pages to convert:
Java &gt; Build Path &gt; User Libraries
Java &gt; Code Style &gt; *
Java &gt; Editor &gt; Templates


Please convert your import and export options to the new support available off
the File &gt; Import/Export &gt; Preferences  wizard.

For an example see the Preference Transfer ext. pt. (no code necessary)
org.eclipse.ui\schema\preferenceTransfer.exsd

and also if you need to do preference migration or modifications on import see:
org.eclipse.core.runtime\schema\preferences.exsd  (modifier element)
Martin, we already have this on the list for M7. Right ?
yes, that's on my item list
I added the first transfers for JDT. There are still some more I would like to
add; I'm waiting for resolution of bug 91298.

I guess you wrote this bug to have the import/export buttons removed.

- I currently can't define a transfer for 'User Libraries': The keys are not
static as they contain the name of the library
    'org.eclipse.jdt.core.userLibrary.Apache=&lt;?xml version....'
A solution would be to allow wildcards in keys:
 &lt;mapping scope="instance"&gt;
  &lt;entry node="org.eclipse.jdt.core" keys="org.eclipse.jdt.core.userLibrary.*"/&gt;
 &lt;/mapping&gt;

- code templates, editor templates and code formatter import/export all support
exporting single entries or a selection of entries. Code and editor templates
also have the problem that what we store in the key is only the delta to the
default settings.
- another aspect is that all these settings also can be configured project
specificly. Our import/export buttons allow you to store settings from either
project or instance and import them whereever you want (different project or
instance). The preference transfer page only would limit us to export/import on
instance settings.

I would prefer to keep the specific import/export buttons to not loose
functionality. Dirk, what is your opinion?
It is OK with me to keep the page specific import/export functionality since it
is especially useful to transfer settings from workspace to project specific
settings. This scenario isn't supported with new import/export and removing it
so late might cause user confusion.
After discussions in the team we decided to currently offer only one transfer
'Java Development Preferences'

&gt; 20050414</WithStack>
    <WithOutStack>Preference pages to convert:
Java &gt; Build Path &gt; User Libraries
Java &gt; Code Style &gt; *
Java &gt; Editor &gt; Templates


Please convert your import and export options to the new support available off
the File &gt; Import/Export &gt; Preferences  wizard.

For an example see the Preference Transfer ext. pt. (no code necessary)
org.eclipse.ui\schema\preferenceTransfer.exsd

and also if you need to do preference migration or modifications on import see:
org.eclipse.core.runtime\schema\preferences.exsd  (modifier element)
Martin, we already have this on the list for M7. Right ?
yes, that's on my item list
I added the first transfers for JDT. There are still some more I would like to
add; I'm waiting for resolution of bug 91298.

I guess you wrote this bug to have the import/export buttons removed.

- I currently can't define a transfer for 'User Libraries': The keys are not
static as they contain the name of the library
    'org.eclipse.jdt.core.userLibrary.Apache=&lt;?xml version....'
A solution would be to allow wildcards in keys:
 &lt;mapping scope="instance"&gt;
  &lt;entry node="org.eclipse.jdt.core" keys="org.eclipse.jdt.core.userLibrary.*"/&gt;
 &lt;/mapping&gt;

- code templates, editor templates and code formatter import/export all support
exporting single entries or a selection of entries. Code and editor templates
also have the problem that what we store in the key is only the delta to the
default settings.
- another aspect is that all these settings also can be configured project
specificly. Our import/export buttons allow you to store settings from either
project or instance and import them whereever you want (different project or
instance). The preference transfer page only would limit us to export/import on
instance settings.

I would prefer to keep the specific import/export buttons to not loose
functionality. Dirk, what is your opinion?
It is OK with me to keep the page specific import/export functionality since it
is especially useful to transfer settings from workspace to project specific
settings. This scenario isn't supported with new import/export and removing it
so late might cause user confusion.
After discussions in the team we decided to currently offer only one transfer
'Java Development Preferences'

&gt; 20050414</WithOutStack>
  </Bug>
  <Bug>
    <BugId amount="91150" />
    <CreationDate amount="2005-04-12 11:46:00 -0400" />
    <DupId amount="91152" />
    <classification amount="Eclipse" />
    <Product amount="PDE" />
    <component amount="UI" />
    <Version amount="3.1" />
    <rep_platform amount="PC" />
    <op_sys amount="Windows 2000" />
    <priority amount="P3" />
    <bug_severity amount="normal" />
    <Summery>NPE while creating new plug-in from existing jar</Summery>
    <Patches amount="0" />
    <Stacktraces amount="1">
      <Stacktrace timestamp="1437341255666">
        <Exception>java.lang.NullPointerException</Exception>
        <Reason />
        <Frames>
          <Frame depth="0">org.eclipse.pde.internal.core.RequiredPluginsClasspathContainer.getSupplier(RequiredPluginsClasspathContainer.java:160)</Frame>
          <Frame depth="1">org.eclipse.pde.internal.core.RequiredPluginsClasspathContainer.computePluginEntries(RequiredPluginsClasspathContainer.java:131)</Frame>
          <Frame depth="2">org.eclipse.pde.internal.core.RequiredPluginsClasspathContainer.getClasspathEntries(RequiredPluginsClasspathContainer.java:100)</Frame>
          <Frame depth="3">org.eclipse.jdt.internal.core.ClasspathEntry.validateClasspathEntry(ClasspathEntry.java:1366)</Frame>
          <Frame depth="4">org.eclipse.jdt.internal.core.JavaProject.getResolvedClasspath(JavaProject.java:2004)</Frame>
          <Frame depth="5">org.eclipse.jdt.internal.core.DeltaProcessingState$ProjectUpdateInfo.updateProjectReferencesIfNecessary(DeltaProcessingState.java:98)</Frame>
          <Frame depth="6">org.eclipse.jdt.internal.core.DeltaProcessingState.performClasspathResourceChange(DeltaProcessingState.java:223)</Frame>
          <Frame depth="7">org.eclipse.jdt.internal.core.SetClasspathOperation.updateProjectReferencesIfNecessary(SetClasspathOperation.java:785)</Frame>
          <Frame depth="8">org.eclipse.jdt.internal.core.SetClasspathOperation.executeOperation(SetClasspathOperation.java:244)</Frame>
          <Frame depth="9">org.eclipse.jdt.internal.core.JavaModelOperation.run(JavaModelOperation.java:710)</Frame>
          <Frame depth="10">org.eclipse.core.internal.resources.Workspace.run(Workspace.java:1714)</Frame>
          <Frame depth="11">org.eclipse.jdt.internal.core.JavaModelOperation.runOperation(JavaModelOperation.java:771)</Frame>
          <Frame depth="12">org.eclipse.jdt.internal.core.JavaProject.setRawClasspath(JavaProject.java:2740)</Frame>
          <Frame depth="13">org.eclipse.jdt.core.JavaCore$3.run(JavaCore.java:3853)</Frame>
          <Frame depth="14">org.eclipse.jdt.internal.core.BatchOperation.executeOperation(BatchOperation.java:34)</Frame>
          <Frame depth="15">org.eclipse.jdt.internal.core.JavaModelOperation.run(JavaModelOperation.java:710)</Frame>
          <Frame depth="16">org.eclipse.core.internal.resources.Workspace.run(Workspace.java:1714)</Frame>
          <Frame depth="17">org.eclipse.jdt.core.JavaCore.run(JavaCore.java:3666)</Frame>
          <Frame depth="18">org.eclipse.jdt.core.JavaCore.setClasspathContainer(JavaCore.java:3836)</Frame>
          <Frame depth="19">org.eclipse.pde.internal.core.ModelEntry.updateClasspathContainer(ModelEntry.java:110)</Frame>
          <Frame depth="20">org.eclipse.pde.internal.core.RequiredPluginsInitializer.initialize(RequiredPluginsInitializer.java:40)</Frame>
          <Frame depth="21">org.eclipse.jdt.internal.core.JavaModelManager.initializeContainer(JavaModelManager.java:1282)</Frame>
          <Frame depth="22">org.eclipse.jdt.internal.core.JavaModelManager.initializeAllContainers(JavaModelManager.java:1247)</Frame>
          <Frame depth="23">org.eclipse.jdt.internal.core.JavaModelManager.getClasspathContainer(JavaModelManager.java:854)</Frame>
          <Frame depth="24">org.eclipse.jdt.core.JavaCore.getClasspathContainer(JavaCore.java:1314)</Frame>
          <Frame depth="25">org.eclipse.jdt.internal.core.JavaProject.getResolvedClasspath(JavaProject.java:2034)</Frame>
          <Frame depth="26">org.eclipse.jdt.internal.core.ClasspathEntry.validateClasspath(ClasspathEntry.java:1106)</Frame>
          <Frame depth="27">org.eclipse.jdt.internal.core.SetClasspathOperation.verify(SetClasspathOperation.java:821)</Frame>
          <Frame depth="28">org.eclipse.jdt.internal.core.JavaModelOperation.runOperation(JavaModelOperation.java:760)</Frame>
          <Frame depth="29">org.eclipse.jdt.internal.core.JavaProject.setRawClasspath(JavaProject.java:2740)</Frame>
          <Frame depth="30">org.eclipse.jdt.internal.core.JavaProject.setRawClasspath(JavaProject.java:2756)</Frame>
          <Frame depth="31">org.eclipse.pde.internal.ui.wizards.plugin.NewProjectCreationOperation.setClasspath(NewProjectCreationOperation.java:367)</Frame>
          <Frame depth="32">org.eclipse.pde.internal.ui.wizards.plugin.NewProjectCreationOperation.execute(NewProjectCreationOperation.java:100)</Frame>
          <Frame depth="33">org.eclipse.ui.actions.WorkspaceModifyOperation$1.run(WorkspaceModifyOperation.java:98)</Frame>
          <Frame depth="34">org.eclipse.core.internal.resources.Workspace.run(Workspace.java:1714)</Frame>
          <Frame depth="35">org.eclipse.ui.actions.WorkspaceModifyOperation.run(WorkspaceModifyOperation.java:110)</Frame>
          <Frame depth="36">org.eclipse.jface.operation.ModalContext.runInCurrentThread(ModalContext.java:346)</Frame>
          <Frame depth="37">org.eclipse.jface.operation.ModalContext.run(ModalContext.java:291)</Frame>
          <Frame depth="38">org.eclipse.jface.wizard.WizardDialog.run(WizardDialog.java:830)</Frame>
          <Frame depth="39">org.eclipse.pde.internal.ui.wizards.plugin.NewLibraryPluginProjectWizard.performFinish(NewLibraryPluginProjectWizard.java:125)</Frame>
          <Frame depth="40">org.eclipse.jface.wizard.WizardDialog.finishPressed(WizardDialog.java:676)</Frame>
          <Frame depth="41">org.eclipse.jface.wizard.WizardDialog.buttonPressed(WizardDialog.java:349)</Frame>
          <Frame depth="42">org.eclipse.jface.dialogs.Dialog$2.widgetSelected(Dialog.java:556)</Frame>
          <Frame depth="43">org.eclipse.swt.widgets.TypedListener.handleEvent(TypedListener.java:89)</Frame>
          <Frame depth="44">org.eclipse.swt.widgets.EventTable.sendEvent(EventTable.java:82)</Frame>
          <Frame depth="45">org.eclipse.swt.widgets.Widget.sendEvent(Widget.java:842)</Frame>
          <Frame depth="46">org.eclipse.swt.widgets.Display.runDeferredEvents(Display.java:2895)</Frame>
          <Frame depth="47">org.eclipse.swt.widgets.Display.readAndDispatch(Display.java:2528)</Frame>
          <Frame depth="48">org.eclipse.jface.window.Window.runEventLoop(Window.java:803)</Frame>
          <Frame depth="49">org.eclipse.jface.window.Window.open(Window.java:781)</Frame>
          <Frame depth="50">org.eclipse.ui.actions.NewProjectAction.run(NewProjectAction.java:114)</Frame>
          <Frame depth="51">org.eclipse.jface.action.Action.runWithEvent(Action.java:996)</Frame>
          <Frame depth="52">org.eclipse.jface.action.ActionContributionItem.handleWidgetSelection(ActionContributionItem.java:538)</Frame>
          <Frame depth="53">org.eclipse.jface.action.ActionContributionItem.access$2(ActionContributionItem.java:488)</Frame>
          <Frame depth="54">org.eclipse.jface.action.ActionContributionItem$5.handleEvent(ActionContributionItem.java:400)</Frame>
          <Frame depth="55">org.eclipse.swt.widgets.EventTable.sendEvent(EventTable.java:82)</Frame>
          <Frame depth="56">org.eclipse.swt.widgets.Widget.sendEvent(Widget.java:842)</Frame>
          <Frame depth="57">org.eclipse.swt.widgets.Display.runDeferredEvents(Display.java:2895)</Frame>
          <Frame depth="58">org.eclipse.swt.widgets.Display.readAndDispatch(Display.java:2528)</Frame>
          <Frame depth="59">org.eclipse.ui.internal.Workbench.runEventLoop(Workbench.java:1570)</Frame>
          <Frame depth="60">org.eclipse.ui.internal.Workbench.runUI(Workbench.java:1534)</Frame>
          <Frame depth="61">org.eclipse.ui.internal.Workbench.createAndRunWorkbench(Workbench.java:306)</Frame>
          <Frame depth="62">org.eclipse.ui.PlatformUI.createAndRunWorkbench(PlatformUI.java:143)</Frame>
          <Frame depth="63">org.eclipse.ui.internal.ide.IDEApplication.run(IDEApplication.java:103)</Frame>
          <Frame depth="64">org.eclipse.core.internal.runtime.PlatformActivator$1.run(PlatformActivator.java:228)</Frame>
          <Frame depth="65">org.eclipse.core.runtime.adaptor.EclipseStarter.run(EclipseStarter.java:344)</Frame>
          <Frame depth="66">org.eclipse.core.runtime.adaptor.EclipseStarter.run(EclipseStarter.java:156)</Frame>
          <Frame depth="67">sun.reflect.NativeMethodAccessorImpl.invoke0(Native Method)</Frame>
          <Frame depth="68">sun.reflect.NativeMethodAccessorImpl.invoke(Unknown Source)</Frame>
          <Frame depth="69">sun.reflect.DelegatingMethodAccessorImpl.invoke(Unknown Source)</Frame>
          <Frame depth="70">java.lang.reflect.Method.invoke(Unknown Source)</Frame>
          <Frame depth="71">org.eclipse.core.launcher.Main.invokeFramework(Main.java:316)</Frame>
          <Frame depth="72">org.eclipse.core.launcher.Main.basicRun(Main.java:269)</Frame>
          <Frame depth="73">org.eclipse.core.launcher.Main.run(Main.java:948)</Frame>
          <Frame depth="74">org.eclipse.core.launcher.Main.main(Main.java:932)</Frame>
        </Frames>
      </Stacktrace>
    </Stacktraces>
    <SourceCodeRegions amount="0" />
    <Enumerations amount="0" />
    <bug_status amount="RESOLVED" />
    <resolution amount="DUPLICATE" />
    <WithStack>I20050412-1036
I had a copy of log4j jar.
I use a wizard to create a plugin from it and I got the following exception:

java.lang.NullPointerException
at
org.eclipse.pde.internal.core.RequiredPluginsClasspathContainer.getSupplier(RequiredPluginsClasspathContainer.java:160)
at
org.eclipse.pde.internal.core.RequiredPluginsClasspathContainer.computePluginEntries(RequiredPluginsClasspathContainer.java:131)
at
org.eclipse.pde.internal.core.RequiredPluginsClasspathContainer.getClasspathEntries(RequiredPluginsClasspathContainer.java:100)
at
org.eclipse.jdt.internal.core.ClasspathEntry.validateClasspathEntry(ClasspathEntry.java:1366)
at
org.eclipse.jdt.internal.core.JavaProject.getResolvedClasspath(JavaProject.java:2004)
at
org.eclipse.jdt.internal.core.DeltaProcessingState$ProjectUpdateInfo.updateProjectReferencesIfNecessary(DeltaProcessingState.java:98)
at
org.eclipse.jdt.internal.core.DeltaProcessingState.performClasspathResourceChange(DeltaProcessingState.java:223)
at
org.eclipse.jdt.internal.core.SetClasspathOperation.updateProjectReferencesIfNecessary(SetClasspathOperation.java:785)
at
org.eclipse.jdt.internal.core.SetClasspathOperation.executeOperation(SetClasspathOperation.java:244)
at org.eclipse.jdt.internal.core.JavaModelOperation.run(JavaModelOperation.java:710)
at org.eclipse.core.internal.resources.Workspace.run(Workspace.java:1714)
at
org.eclipse.jdt.internal.core.JavaModelOperation.runOperation(JavaModelOperation.java:771)
at org.eclipse.jdt.internal.core.JavaProject.setRawClasspath(JavaProject.java:2740)
at org.eclipse.jdt.core.JavaCore$3.run(JavaCore.java:3853)
at
org.eclipse.jdt.internal.core.BatchOperation.executeOperation(BatchOperation.java:34)
at org.eclipse.jdt.internal.core.JavaModelOperation.run(JavaModelOperation.java:710)
at org.eclipse.core.internal.resources.Workspace.run(Workspace.java:1714)
at org.eclipse.jdt.core.JavaCore.run(JavaCore.java:3666)
at org.eclipse.jdt.core.JavaCore.setClasspathContainer(JavaCore.java:3836)
at
org.eclipse.pde.internal.core.ModelEntry.updateClasspathContainer(ModelEntry.java:110)
at
org.eclipse.pde.internal.core.RequiredPluginsInitializer.initialize(RequiredPluginsInitializer.java:40)
at
org.eclipse.jdt.internal.core.JavaModelManager.initializeContainer(JavaModelManager.java:1282)
at
org.eclipse.jdt.internal.core.JavaModelManager.initializeAllContainers(JavaModelManager.java:1247)
at
org.eclipse.jdt.internal.core.JavaModelManager.getClasspathContainer(JavaModelManager.java:854)
at org.eclipse.jdt.core.JavaCore.getClasspathContainer(JavaCore.java:1314)
at
org.eclipse.jdt.internal.core.JavaProject.getResolvedClasspath(JavaProject.java:2034)
at
org.eclipse.jdt.internal.core.ClasspathEntry.validateClasspath(ClasspathEntry.java:1106)
at
org.eclipse.jdt.internal.core.SetClasspathOperation.verify(SetClasspathOperation.java:821)
at
org.eclipse.jdt.internal.core.JavaModelOperation.runOperation(JavaModelOperation.java:760)
at org.eclipse.jdt.internal.core.JavaProject.setRawClasspath(JavaProject.java:2740)
at org.eclipse.jdt.internal.core.JavaProject.setRawClasspath(JavaProject.java:2756)
at
org.eclipse.pde.internal.ui.wizards.plugin.NewProjectCreationOperation.setClasspath(NewProjectCreationOperation.java:367)
at
org.eclipse.pde.internal.ui.wizards.plugin.NewProjectCreationOperation.execute(NewProjectCreationOperation.java:100)
at
org.eclipse.ui.actions.WorkspaceModifyOperation$1.run(WorkspaceModifyOperation.java:98)
at org.eclipse.core.internal.resources.Workspace.run(Workspace.java:1714)
at
org.eclipse.ui.actions.WorkspaceModifyOperation.run(WorkspaceModifyOperation.java:110)
at
org.eclipse.jface.operation.ModalContext.runInCurrentThread(ModalContext.java:346)
at org.eclipse.jface.operation.ModalContext.run(ModalContext.java:291)
at org.eclipse.jface.wizard.WizardDialog.run(WizardDialog.java:830)
at
org.eclipse.pde.internal.ui.wizards.plugin.NewLibraryPluginProjectWizard.performFinish(NewLibraryPluginProjectWizard.java:125)
at org.eclipse.jface.wizard.WizardDialog.finishPressed(WizardDialog.java:676)
at org.eclipse.jface.wizard.WizardDialog.buttonPressed(WizardDialog.java:349)
at org.eclipse.jface.dialogs.Dialog$2.widgetSelected(Dialog.java:556)
at org.eclipse.swt.widgets.TypedListener.handleEvent(TypedListener.java:89)
at org.eclipse.swt.widgets.EventTable.sendEvent(EventTable.java:82)
at org.eclipse.swt.widgets.Widget.sendEvent(Widget.java:842)
at org.eclipse.swt.widgets.Display.runDeferredEvents(Display.java:2895)
at org.eclipse.swt.widgets.Display.readAndDispatch(Display.java:2528)
at org.eclipse.jface.window.Window.runEventLoop(Window.java:803)
at org.eclipse.jface.window.Window.open(Window.java:781)
at org.eclipse.ui.actions.NewProjectAction.run(NewProjectAction.java:114)
at org.eclipse.jface.action.Action.runWithEvent(Action.java:996)
at
org.eclipse.jface.action.ActionContributionItem.handleWidgetSelection(ActionContributionItem.java:538)
at
org.eclipse.jface.action.ActionContributionItem.access$2(ActionContributionItem.java:488)
at
org.eclipse.jface.action.ActionContributionItem$5.handleEvent(ActionContributionItem.java:400)
at org.eclipse.swt.widgets.EventTable.sendEvent(EventTable.java:82)
at org.eclipse.swt.widgets.Widget.sendEvent(Widget.java:842)
at org.eclipse.swt.widgets.Display.runDeferredEvents(Display.java:2895)
at org.eclipse.swt.widgets.Display.readAndDispatch(Display.java:2528)
at org.eclipse.ui.internal.Workbench.runEventLoop(Workbench.java:1570)
at org.eclipse.ui.internal.Workbench.runUI(Workbench.java:1534)
at org.eclipse.ui.internal.Workbench.createAndRunWorkbench(Workbench.java:306)
at org.eclipse.ui.PlatformUI.createAndRunWorkbench(PlatformUI.java:143)
at org.eclipse.ui.internal.ide.IDEApplication.run(IDEApplication.java:103)
at
org.eclipse.core.internal.runtime.PlatformActivator$1.run(PlatformActivator.java:228)
at org.eclipse.core.runtime.adaptor.EclipseStarter.run(EclipseStarter.java:344)
at org.eclipse.core.runtime.adaptor.EclipseStarter.run(EclipseStarter.java:156)
at sun.reflect.NativeMethodAccessorImpl.invoke0(Native Method)
at sun.reflect.NativeMethodAccessorImpl.invoke(Unknown Source)
at sun.reflect.DelegatingMethodAccessorImpl.invoke(Unknown Source)
at java.lang.reflect.Method.invoke(Unknown Source)
at org.eclipse.core.launcher.Main.invokeFramework(Main.java:316)
at org.eclipse.core.launcher.Main.basicRun(Main.java:269)
at org.eclipse.core.launcher.Main.run(Main.java:948)
at org.eclipse.core.launcher.Main.main(Main.java:932)


*** This bug has been marked as a duplicate of 91152 ***</WithStack>
    <WithOutStack>I20050412-1036
I had a copy of log4j jar.
I use a wizard to create a plugin from it and I got the following exception:




*** This bug has been marked as a duplicate of 91152 ***</WithOutStack>
  </Bug>
  <Bug>
    <BugId amount="91151" />
    <CreationDate amount="2005-04-12 11:47:00 -0400" />
    <DupId amount="47099" />
    <classification amount="Eclipse" />
    <Product amount="Platform" />
    <component amount="UI" />
    <Version amount="3.1" />
    <rep_platform amount="PC" />
    <op_sys amount="Windows XP" />
    <priority amount="P3" />
    <bug_severity amount="enhancement" />
    <Summery>[Commands] Navigate code with mouse button</Summery>
    <Patches amount="0" />
    <Stacktraces amount="0" />
    <SourceCodeRegions amount="0" />
    <Enumerations amount="0" />
    <bug_status amount="RESOLVED" />
    <resolution amount="DUPLICATE" />
    <WithStack>Now most a new mouse got more and more button.
The mouse button 4 &amp; 5 are now dedicated for page navigation ( back and
forward)in MS IE and firefox.
It sounds very nice to be able to bind thess mouse button (or other) to java
history navigation.
Allowing to bind mouse functionality to commands is a general Platform UI
feature. This is also part of the new action contribution work which has started
for 3.1 and will continue for 3.2.


*** This bug has been marked as a duplicate of 47099 ***</WithStack>
    <WithOutStack>Now most a new mouse got more and more button.
The mouse button 4 &amp; 5 are now dedicated for page navigation ( back and
forward)in MS IE and firefox.
It sounds very nice to be able to bind thess mouse button (or other) to java
history navigation.
Allowing to bind mouse functionality to commands is a general Platform UI
feature. This is also part of the new action contribution work which has started
for 3.1 and will continue for 3.2.


*** This bug has been marked as a duplicate of 47099 ***</WithOutStack>
  </Bug>
  <Bug>
    <BugId amount="91152" />
    <CreationDate amount="2005-04-12 11:48:00 -0400" />
    <DupId amount="" />
    <classification amount="Eclipse" />
    <Product amount="PDE" />
    <component amount="UI" />
    <Version amount="3.1" />
    <rep_platform amount="PC" />
    <op_sys amount="Windows 2000" />
    <priority amount="P3" />
    <bug_severity amount="blocker" />
    <Summery>NPE: Cannot create a new plugin project</Summery>
    <Patches amount="0" />
    <Stacktraces amount="1">
      <Stacktrace timestamp="1437341255670">
        <Exception>java.lang.NullPointerException</Exception>
        <Reason />
        <Frames>
          <Frame depth="0">org.eclipse.pde.internal.core.RequiredPluginsClasspathContainer.getSupplier(RequiredPluginsClasspathContainer.java:160)</Frame>
          <Frame depth="1">org.eclipse.pde.internal.core.RequiredPluginsClasspathContainer.computePluginEntries(RequiredPluginsClasspathContainer.java:131)</Frame>
          <Frame depth="2">org.eclipse.pde.internal.core.RequiredPluginsClasspathContainer.getClasspathEntries(RequiredPluginsClasspathContainer.java:100)</Frame>
          <Frame depth="3">org.eclipse.jdt.internal.core.ClasspathEntry.validateClasspathEntry(ClasspathEntry.java:1366)</Frame>
          <Frame depth="4">org.eclipse.jdt.internal.core.JavaProject.getResolvedClasspath(JavaProject.java:2004)</Frame>
          <Frame depth="5">org.eclipse.jdt.internal.core.DeltaProcessingState$ProjectUpdateInfo.updateProjectReferencesIfNecessary(DeltaProcessingState.java:98)</Frame>
          <Frame depth="6">org.eclipse.jdt.internal.core.DeltaProcessingState.performClasspathResourceChange(DeltaProcessingState.java:223)</Frame>
          <Frame depth="7">org.eclipse.jdt.internal.core.SetClasspathOperation.updateProjectReferencesIfNecessary(SetClasspathOperation.java:785)</Frame>
          <Frame depth="8">org.eclipse.jdt.internal.core.SetClasspathOperation.executeOperation(SetClasspathOperation.java:244)</Frame>
          <Frame depth="9">org.eclipse.jdt.internal.core.JavaModelOperation.run(JavaModelOperation.java:710)</Frame>
          <Frame depth="10">org.eclipse.core.internal.resources.Workspace.run(Workspace.java:1714)</Frame>
          <Frame depth="11">org.eclipse.jdt.internal.core.JavaModelOperation.runOperation(JavaModelOperation.java:771)</Frame>
          <Frame depth="12">org.eclipse.jdt.internal.core.JavaProject.setRawClasspath(JavaProject.java:2740)</Frame>
          <Frame depth="13">org.eclipse.jdt.core.JavaCore$3.run(JavaCore.java:3853)</Frame>
          <Frame depth="14">org.eclipse.jdt.internal.core.BatchOperation.executeOperation(BatchOperation.java:34)</Frame>
          <Frame depth="15">org.eclipse.jdt.internal.core.JavaModelOperation.run(JavaModelOperation.java:710)</Frame>
          <Frame depth="16">org.eclipse.core.internal.resources.Workspace.run(Workspace.java:1714)</Frame>
          <Frame depth="17">org.eclipse.jdt.core.JavaCore.run(JavaCore.java:3666)</Frame>
          <Frame depth="18">org.eclipse.jdt.core.JavaCore.setClasspathContainer(JavaCore.java:3836)</Frame>
          <Frame depth="19">org.eclipse.pde.internal.core.ModelEntry.updateClasspathContainer(ModelEntry.java:110)</Frame>
          <Frame depth="20">org.eclipse.pde.internal.core.RequiredPluginsInitializer.initialize(RequiredPluginsInitializer.java:40)</Frame>
          <Frame depth="21">org.eclipse.jdt.internal.core.JavaModelManager.initializeContainer(JavaModelManager.java:1282)</Frame>
          <Frame depth="22">org.eclipse.jdt.internal.core.JavaModelManager.initializeAllContainers(JavaModelManager.java:1247)</Frame>
          <Frame depth="23">org.eclipse.jdt.internal.core.JavaModelManager.getClasspathContainer(JavaModelManager.java:854)</Frame>
          <Frame depth="24">org.eclipse.jdt.core.JavaCore.getClasspathContainer(JavaCore.java:1314)</Frame>
          <Frame depth="25">org.eclipse.jdt.internal.core.JavaProject.getResolvedClasspath(JavaProject.java:2034)</Frame>
          <Frame depth="26">org.eclipse.jdt.internal.core.ClasspathEntry.validateClasspath(ClasspathEntry.java:1106)</Frame>
          <Frame depth="27">org.eclipse.jdt.internal.core.SetClasspathOperation.verify(SetClasspathOperation.java:821)</Frame>
          <Frame depth="28">org.eclipse.jdt.internal.core.JavaModelOperation.runOperation(JavaModelOperation.java:760)</Frame>
          <Frame depth="29">org.eclipse.jdt.internal.core.JavaProject.setRawClasspath(JavaProject.java:2740)</Frame>
          <Frame depth="30">org.eclipse.jdt.internal.core.JavaProject.setRawClasspath(JavaProject.java:2756)</Frame>
          <Frame depth="31">org.eclipse.pde.internal.ui.wizards.plugin.NewProjectCreationOperation.setClasspath(NewProjectCreationOperation.java:367)</Frame>
          <Frame depth="32">org.eclipse.pde.internal.ui.wizards.plugin.NewProjectCreationOperation.execute(NewProjectCreationOperation.java:100)</Frame>
          <Frame depth="33">org.eclipse.ui.actions.WorkspaceModifyOperation$1.run(WorkspaceModifyOperation.java:98)</Frame>
          <Frame depth="34">org.eclipse.core.internal.resources.Workspace.run(Workspace.java:1714)</Frame>
          <Frame depth="35">org.eclipse.ui.actions.WorkspaceModifyOperation.run(WorkspaceModifyOperation.java:110)</Frame>
          <Frame depth="36">org.eclipse.jface.operation.ModalContext.runInCurrentThread(ModalContext.java:346)</Frame>
          <Frame depth="37">org.eclipse.jface.operation.ModalContext.run(ModalContext.java:291)</Frame>
          <Frame depth="38">org.eclipse.jface.wizard.WizardDialog.run(WizardDialog.java:830)</Frame>
          <Frame depth="39">org.eclipse.pde.internal.ui.wizards.plugin.NewLibraryPluginProjectWizard.performFinish(NewLibraryPluginProjectWizard.java:125)</Frame>
          <Frame depth="40">org.eclipse.jface.wizard.WizardDialog.finishPressed(WizardDialog.java:676)</Frame>
          <Frame depth="41">org.eclipse.jface.wizard.WizardDialog.buttonPressed(WizardDialog.java:349)</Frame>
          <Frame depth="42">org.eclipse.jface.dialogs.Dialog$2.widgetSelected(Dialog.java:556)</Frame>
          <Frame depth="43">org.eclipse.swt.widgets.TypedListener.handleEvent(TypedListener.java:89)</Frame>
          <Frame depth="44">org.eclipse.swt.widgets.EventTable.sendEvent(EventTable.java:82)</Frame>
          <Frame depth="45">org.eclipse.swt.widgets.Widget.sendEvent(Widget.java:842)</Frame>
          <Frame depth="46">org.eclipse.swt.widgets.Display.runDeferredEvents(Display.java:2895)</Frame>
          <Frame depth="47">org.eclipse.swt.widgets.Display.readAndDispatch(Display.java:2528)</Frame>
          <Frame depth="48">org.eclipse.jface.window.Window.runEventLoop(Window.java:803)</Frame>
          <Frame depth="49">org.eclipse.jface.window.Window.open(Window.java:781)</Frame>
          <Frame depth="50">org.eclipse.ui.actions.NewProjectAction.run(NewProjectAction.java:114)</Frame>
          <Frame depth="51">org.eclipse.jface.action.Action.runWithEvent(Action.java:996)</Frame>
          <Frame depth="52">org.eclipse.jface.action.ActionContributionItem.handleWidgetSelection(ActionContributionItem.java:538)</Frame>
          <Frame depth="53">org.eclipse.jface.action.ActionContributionItem.access$2(ActionContributionItem.java:488)</Frame>
          <Frame depth="54">org.eclipse.jface.action.ActionContributionItem$5.handleEvent(ActionContributionItem.java:400)</Frame>
          <Frame depth="55">org.eclipse.swt.widgets.EventTable.sendEvent(EventTable.java:82)</Frame>
          <Frame depth="56">org.eclipse.swt.widgets.Widget.sendEvent(Widget.java:842)</Frame>
          <Frame depth="57">org.eclipse.swt.widgets.Display.runDeferredEvents(Display.java:2895)</Frame>
          <Frame depth="58">org.eclipse.swt.widgets.Display.readAndDispatch(Display.java:2528)</Frame>
          <Frame depth="59">org.eclipse.ui.internal.Workbench.runEventLoop(Workbench.java:1570)</Frame>
          <Frame depth="60">org.eclipse.ui.internal.Workbench.runUI(Workbench.java:1534)</Frame>
          <Frame depth="61">org.eclipse.ui.internal.Workbench.createAndRunWorkbench(Workbench.java:306)</Frame>
          <Frame depth="62">org.eclipse.ui.PlatformUI.createAndRunWorkbench(PlatformUI.java:143)</Frame>
          <Frame depth="63">org.eclipse.ui.internal.ide.IDEApplication.run(IDEApplication.java:103)</Frame>
          <Frame depth="64">org.eclipse.core.internal.runtime.PlatformActivator$1.run(PlatformActivator.java:228)</Frame>
          <Frame depth="65">org.eclipse.core.runtime.adaptor.EclipseStarter.run(EclipseStarter.java:344)</Frame>
          <Frame depth="66">org.eclipse.core.runtime.adaptor.EclipseStarter.run(EclipseStarter.java:156)</Frame>
          <Frame depth="67">sun.reflect.NativeMethodAccessorImpl.invoke0(Native Method)</Frame>
          <Frame depth="68">sun.reflect.NativeMethodAccessorImpl.invoke(Unknown Source)</Frame>
          <Frame depth="69">sun.reflect.DelegatingMethodAccessorImpl.invoke(Unknown Source)</Frame>
          <Frame depth="70">java.lang.reflect.Method.invoke(Unknown Source)</Frame>
          <Frame depth="71">org.eclipse.core.launcher.Main.invokeFramework(Main.java:316)</Frame>
          <Frame depth="72">org.eclipse.core.launcher.Main.basicRun(Main.java:269)</Frame>
          <Frame depth="73">org.eclipse.core.launcher.Main.run(Main.java:948)</Frame>
          <Frame depth="74">org.eclipse.core.launcher.Main.main(Main.java:932)</Frame>
        </Frames>
      </Stacktrace>
    </Stacktraces>
    <SourceCodeRegions amount="1">
      <source_code type="functioncall">
        <location start="408" end="420" />
        <code>sleep();</code>
      </source_code>
    </SourceCodeRegions>
    <Enumerations amount="0" />
    <bug_status amount="RESOLVED" />
    <resolution amount="FIXED" />
    <WithStack>I 20050412-1036

Trying to create a new plugin project using the wizard, I got the following
exception.

java.lang.NullPointerException
at
org.eclipse.pde.internal.core.RequiredPluginsClasspathContainer.getSupplier(RequiredPluginsClasspathContainer.java:160)
at
org.eclipse.pde.internal.core.RequiredPluginsClasspathContainer.computePluginEntries(RequiredPluginsClasspathContainer.java:131)
at
org.eclipse.pde.internal.core.RequiredPluginsClasspathContainer.getClasspathEntries(RequiredPluginsClasspathContainer.java:100)
at
org.eclipse.jdt.internal.core.ClasspathEntry.validateClasspathEntry(ClasspathEntry.java:1366)
at
org.eclipse.jdt.internal.core.JavaProject.getResolvedClasspath(JavaProject.java:2004)
at
org.eclipse.jdt.internal.core.DeltaProcessingState$ProjectUpdateInfo.updateProjectReferencesIfNecessary(DeltaProcessingState.java:98)
at
org.eclipse.jdt.internal.core.DeltaProcessingState.performClasspathResourceChange(DeltaProcessingState.java:223)
at
org.eclipse.jdt.internal.core.SetClasspathOperation.updateProjectReferencesIfNecessary(SetClasspathOperation.java:785)
at
org.eclipse.jdt.internal.core.SetClasspathOperation.executeOperation(SetClasspathOperation.java:244)
at org.eclipse.jdt.internal.core.JavaModelOperation.run(JavaModelOperation.java:710)
at org.eclipse.core.internal.resources.Workspace.run(Workspace.java:1714)
at
org.eclipse.jdt.internal.core.JavaModelOperation.runOperation(JavaModelOperation.java:771)
at org.eclipse.jdt.internal.core.JavaProject.setRawClasspath(JavaProject.java:2740)
at org.eclipse.jdt.core.JavaCore$3.run(JavaCore.java:3853)
at
org.eclipse.jdt.internal.core.BatchOperation.executeOperation(BatchOperation.java:34)
at org.eclipse.jdt.internal.core.JavaModelOperation.run(JavaModelOperation.java:710)
at org.eclipse.core.internal.resources.Workspace.run(Workspace.java:1714)
at org.eclipse.jdt.core.JavaCore.run(JavaCore.java:3666)
at org.eclipse.jdt.core.JavaCore.setClasspathContainer(JavaCore.java:3836)
at
org.eclipse.pde.internal.core.ModelEntry.updateClasspathContainer(ModelEntry.java:110)
at
org.eclipse.pde.internal.core.RequiredPluginsInitializer.initialize(RequiredPluginsInitializer.java:40)
at
org.eclipse.jdt.internal.core.JavaModelManager.initializeContainer(JavaModelManager.java:1282)
at
org.eclipse.jdt.internal.core.JavaModelManager.initializeAllContainers(JavaModelManager.java:1247)
at
org.eclipse.jdt.internal.core.JavaModelManager.getClasspathContainer(JavaModelManager.java:854)
at org.eclipse.jdt.core.JavaCore.getClasspathContainer(JavaCore.java:1314)
at
org.eclipse.jdt.internal.core.JavaProject.getResolvedClasspath(JavaProject.java:2034)
at
org.eclipse.jdt.internal.core.ClasspathEntry.validateClasspath(ClasspathEntry.java:1106)
at
org.eclipse.jdt.internal.core.SetClasspathOperation.verify(SetClasspathOperation.java:821)
at
org.eclipse.jdt.internal.core.JavaModelOperation.runOperation(JavaModelOperation.java:760)
at org.eclipse.jdt.internal.core.JavaProject.setRawClasspath(JavaProject.java:2740)
at org.eclipse.jdt.internal.core.JavaProject.setRawClasspath(JavaProject.java:2756)
at
org.eclipse.pde.internal.ui.wizards.plugin.NewProjectCreationOperation.setClasspath(NewProjectCreationOperation.java:367)
at
org.eclipse.pde.internal.ui.wizards.plugin.NewProjectCreationOperation.execute(NewProjectCreationOperation.java:100)
at
org.eclipse.ui.actions.WorkspaceModifyOperation$1.run(WorkspaceModifyOperation.java:98)
at org.eclipse.core.internal.resources.Workspace.run(Workspace.java:1714)
at
org.eclipse.ui.actions.WorkspaceModifyOperation.run(WorkspaceModifyOperation.java:110)
at
org.eclipse.jface.operation.ModalContext.runInCurrentThread(ModalContext.java:346)
at org.eclipse.jface.operation.ModalContext.run(ModalContext.java:291)
at org.eclipse.jface.wizard.WizardDialog.run(WizardDialog.java:830)
at
org.eclipse.pde.internal.ui.wizards.plugin.NewLibraryPluginProjectWizard.performFinish(NewLibraryPluginProjectWizard.java:125)
at org.eclipse.jface.wizard.WizardDialog.finishPressed(WizardDialog.java:676)
at org.eclipse.jface.wizard.WizardDialog.buttonPressed(WizardDialog.java:349)
at org.eclipse.jface.dialogs.Dialog$2.widgetSelected(Dialog.java:556)
at org.eclipse.swt.widgets.TypedListener.handleEvent(TypedListener.java:89)
at org.eclipse.swt.widgets.EventTable.sendEvent(EventTable.java:82)
at org.eclipse.swt.widgets.Widget.sendEvent(Widget.java:842)
at org.eclipse.swt.widgets.Display.runDeferredEvents(Display.java:2895)
at org.eclipse.swt.widgets.Display.readAndDispatch(Display.java:2528)
at org.eclipse.jface.window.Window.runEventLoop(Window.java:803)
at org.eclipse.jface.window.Window.open(Window.java:781)
at org.eclipse.ui.actions.NewProjectAction.run(NewProjectAction.java:114)
at org.eclipse.jface.action.Action.runWithEvent(Action.java:996)
at
org.eclipse.jface.action.ActionContributionItem.handleWidgetSelection(ActionContributionItem.java:538)
at
org.eclipse.jface.action.ActionContributionItem.access$2(ActionContributionItem.java:488)
at
org.eclipse.jface.action.ActionContributionItem$5.handleEvent(ActionContributionItem.java:400)
at org.eclipse.swt.widgets.EventTable.sendEvent(EventTable.java:82)
at org.eclipse.swt.widgets.Widget.sendEvent(Widget.java:842)
at org.eclipse.swt.widgets.Display.runDeferredEvents(Display.java:2895)
at org.eclipse.swt.widgets.Display.readAndDispatch(Display.java:2528)
at org.eclipse.ui.internal.Workbench.runEventLoop(Workbench.java:1570)
at org.eclipse.ui.internal.Workbench.runUI(Workbench.java:1534)
at org.eclipse.ui.internal.Workbench.createAndRunWorkbench(Workbench.java:306)
at org.eclipse.ui.PlatformUI.createAndRunWorkbench(PlatformUI.java:143)
at org.eclipse.ui.internal.ide.IDEApplication.run(IDEApplication.java:103)
at
org.eclipse.core.internal.runtime.PlatformActivator$1.run(PlatformActivator.java:228)
at org.eclipse.core.runtime.adaptor.EclipseStarter.run(EclipseStarter.java:344)
at org.eclipse.core.runtime.adaptor.EclipseStarter.run(EclipseStarter.java:156)
at sun.reflect.NativeMethodAccessorImpl.invoke0(Native Method)
at sun.reflect.NativeMethodAccessorImpl.invoke(Unknown Source)
at sun.reflect.DelegatingMethodAccessorImpl.invoke(Unknown Source)
at java.lang.reflect.Method.invoke(Unknown Source)
at org.eclipse.core.launcher.Main.invokeFramework(Main.java:316)
at org.eclipse.core.launcher.Main.basicRun(Main.java:269)
at org.eclipse.core.launcher.Main.run(Main.java:948)
at org.eclipse.core.launcher.Main.main(Main.java:932)
*** Bug 91150 has been marked as a duplicate of this bug. ***
*** Bug 91154 has been marked as a duplicate of this bug. ***
Fixed.

this severe bug was caused by lack of sleep and the presence of a &amp;&amp; instead 
of || in a condition evaluation.



Here's a proposed patch:

while (!haveSlept &amp;&amp; isTired)
    sleep();

&lt;g&gt;
This is safer: (!haveSlept || isTired)</WithStack>
    <WithOutStack>I 20050412-1036

Trying to create a new plugin project using the wizard, I got the following
exception.


*** Bug 91150 has been marked as a duplicate of this bug. ***
*** Bug 91154 has been marked as a duplicate of this bug. ***
Fixed.

this severe bug was caused by lack of sleep and the presence of a &amp;&amp; instead 
of || in a condition evaluation.



Here's a proposed patch:

while (!haveSlept &amp;&amp; isTired)
    sleep();

&lt;g&gt;
This is safer: (!haveSlept || isTired)</WithOutStack>
  </Bug>
  <Bug>
    <BugId amount="91153" />
    <CreationDate amount="2005-04-12 11:51:00 -0400" />
    <DupId amount="" />
    <classification amount="Eclipse" />
    <Product amount="Platform" />
    <component amount="UI" />
    <Version amount="3.0" />
    <rep_platform amount="PC" />
    <op_sys amount="Windows XP" />
    <priority amount="P3" />
    <bug_severity amount="enhancement" />
    <Summery>[Contributions] Add Actionset only to specified Perspective</Summery>
    <Patches amount="0" />
    <Stacktraces amount="0" />
    <SourceCodeRegions amount="0" />
    <Enumerations amount="0" />
    <bug_status amount="RESOLVED" />
    <resolution amount="INVALID" />
    <WithStack>We're developing an app that will be distributed as both a plug-in and a
standalone app.  It has enough functionality to justify having several 
menus (4-5?) in addition to the usual File/Edit/Window/Help menus.  
However, I hesitate to add a bunch of menus when adding a plug-in.
If every plug-in did that, we'd quickly run out of menu space.  We 
would only like our menus visible when in our perspective, by default.

I've seen posts that tell how to associate an ActionSet with a 
specific perspective.  But nobody seems to know how to specify that
an ActionSet NOT be associated with other perspectives, by default.

To be clear, I'm not requesting that the user would not be able to add the
ActionSet to other perspectives, if that is what they want.  Just that
some of my ActionSets would not be added to other perspectives by default.

Is this not possible?  Did the Eclipse team intend for the user to
have to manually remove ActionSets from every perspective for
every plug-in they install?

Thanks,
Chris
BTW, this is exactly the opposite of #43096  :&gt;
actionSet visible="false"?

IIRC, adding "visible=false" results in the ActionSet not added to any
perspectives at all.
Have you tried setting visible="false" and then using perspectiveExtensions to
bind it to your perspective?
We tried that and it worked.  Thanks!
No problem.</WithStack>
    <WithOutStack>We're developing an app that will be distributed as both a plug-in and a
standalone app.  It has enough functionality to justify having several 
menus (4-5?) in addition to the usual File/Edit/Window/Help menus.  
However, I hesitate to add a bunch of menus when adding a plug-in.
If every plug-in did that, we'd quickly run out of menu space.  We 
would only like our menus visible when in our perspective, by default.

I've seen posts that tell how to associate an ActionSet with a 
specific perspective.  But nobody seems to know how to specify that
an ActionSet NOT be associated with other perspectives, by default.

To be clear, I'm not requesting that the user would not be able to add the
ActionSet to other perspectives, if that is what they want.  Just that
some of my ActionSets would not be added to other perspectives by default.

Is this not possible?  Did the Eclipse team intend for the user to
have to manually remove ActionSets from every perspective for
every plug-in they install?

Thanks,
Chris
BTW, this is exactly the opposite of #43096  :&gt;
actionSet visible="false"?

IIRC, adding "visible=false" results in the ActionSet not added to any
perspectives at all.
Have you tried setting visible="false" and then using perspectiveExtensions to
bind it to your perspective?
We tried that and it worked.  Thanks!
No problem.</WithOutStack>
  </Bug>
  <Bug>
    <BugId amount="91154" />
    <CreationDate amount="2005-04-12 11:54:00 -0400" />
    <DupId amount="91152" />
    <classification amount="Eclipse" />
    <Product amount="PDE" />
    <component amount="UI" />
    <Version amount="3.1" />
    <rep_platform amount="PC" />
    <op_sys amount="Windows 2000" />
    <priority amount="P3" />
    <bug_severity amount="normal" />
    <Summery>NPE during build after startup</Summery>
    <Patches amount="0" />
    <Stacktraces amount="1">
      <Stacktrace timestamp="1437341255673">
        <Exception>java.lang.NullPointerException</Exception>
        <Reason />
        <Frames>
          <Frame depth="0">org.eclipse.pde.internal.core.RequiredPluginsClasspathContainer.getSupplier(RequiredPluginsClasspathContainer.java:160)</Frame>
          <Frame depth="1">org.eclipse.pde.internal.core.RequiredPluginsClasspathContainer.computePluginEntries(RequiredPluginsClasspathContainer.java:131)</Frame>
          <Frame depth="2">org.eclipse.pde.internal.core.RequiredPluginsClasspathContainer.getClasspathEntries(RequiredPluginsClasspathContainer.java:100)</Frame>
          <Frame depth="3">org.eclipse.jdt.internal.core.ClasspathEntry.validateClasspathEntry(ClasspathEntry.java(CompiledCode))</Frame>
          <Frame depth="4">org.eclipse.jdt.internal.core.JavaProject.getResolvedClasspath(JavaProject.java(CompiledCode))</Frame>
          <Frame depth="5">org.eclipse.jdt.internal.core.DeltaProcessingState$ProjectUpdateInfo.updateProjectReferencesIfNecessary(DeltaProcessingState.java(CompiledCode))</Frame>
          <Frame depth="6">org.eclipse.jdt.internal.core.DeltaProcessingState.performClasspathResourceChange(DeltaProcessingState.java:223)</Frame>
          <Frame depth="7">org.eclipse.jdt.internal.core.SetClasspathOperation.updateProjectReferencesIfNecessary(SetClasspathOperation.java:785)</Frame>
          <Frame depth="8">org.eclipse.jdt.internal.core.SetClasspathOperation.executeOperation(SetClasspathOperation.java:244)</Frame>
          <Frame depth="9">org.eclipse.jdt.internal.core.JavaModelOperation.run(JavaModelOperation.java:710)</Frame>
          <Frame depth="10">org.eclipse.core.internal.resources.Workspace.run(Workspace.java:1714)</Frame>
          <Frame depth="11">org.eclipse.jdt.internal.core.JavaModelOperation.runOperation(JavaModelOperation.java:771)</Frame>
          <Frame depth="12">org.eclipse.jdt.internal.core.JavaProject.setRawClasspath(JavaProject.java:2740)</Frame>
          <Frame depth="13">org.eclipse.jdt.core.JavaCore$3.run(JavaCore.java:3853)</Frame>
          <Frame depth="14">org.eclipse.jdt.internal.core.BatchOperation.executeOperation(BatchOperation.java:34)</Frame>
          <Frame depth="15">org.eclipse.jdt.internal.core.JavaModelOperation.run(JavaModelOperation.java:710)</Frame>
          <Frame depth="16">org.eclipse.core.internal.resources.Workspace.run(Workspace.java:1714)</Frame>
          <Frame depth="17">org.eclipse.jdt.core.JavaCore.run(JavaCore.java:3666)</Frame>
          <Frame depth="18">org.eclipse.jdt.core.JavaCore.setClasspathContainer(JavaCore.java:3836)</Frame>
          <Frame depth="19">org.eclipse.pde.internal.core.ModelEntry.updateClasspathContainer(ModelEntry.java:110)</Frame>
          <Frame depth="20">org.eclipse.pde.internal.core.RequiredPluginsInitializer.initialize(RequiredPluginsInitializer.java:40)</Frame>
          <Frame depth="21">org.eclipse.jdt.internal.core.JavaModelManager.initializeContainer(JavaModelManager.java:1282)</Frame>
          <Frame depth="22">org.eclipse.jdt.internal.core.JavaModelManager.initializeAllContainers(JavaModelManager.java:1247)</Frame>
          <Frame depth="23">org.eclipse.jdt.internal.core.JavaModelManager.getClasspathContainer(JavaModelManager.java:854)</Frame>
          <Frame depth="24">org.eclipse.jdt.core.JavaCore.getClasspathContainer(JavaCore.java:1314)</Frame>
          <Frame depth="25">org.eclipse.jdt.internal.core.JavaProject.getResolvedClasspath(JavaProject.java:2034)</Frame>
          <Frame depth="26">org.eclipse.jdt.internal.core.JavaProject.getResolvedClasspath(JavaProject.java:1942)</Frame>
          <Frame depth="27">org.eclipse.jdt.internal.core.JavaProject.isOnClasspath(JavaProject.java:2220)</Frame>
          <Frame depth="28">org.eclipse.jdt.internal.corext.buildpath.EditFiltersOperation.isValid(EditFiltersOperation.java:100)</Frame>
          <Frame depth="29">org.eclipse.jdt.internal.ui.wizards.buildpaths.newsourcepage.BuildPathAction.selectionChanged(BuildPathAction.java:124)</Frame>
          <Frame depth="30">org.eclipse.jdt.ui.actions.SelectionDispatchAction.dispatchSelectionChanged(SelectionDispatchAction.java:200)</Frame>
          <Frame depth="31">org.eclipse.jdt.ui.actions.SelectionDispatchAction.selectionChanged(SelectionDispatchAction.java:195)</Frame>
          <Frame depth="32">org.eclipse.jface.viewers.Viewer$2.run(Viewer.java:162)</Frame>
          <Frame depth="33">org.eclipse.core.internal.runtime.InternalPlatform.run(InternalPlatform.java:1021)</Frame>
          <Frame depth="34">org.eclipse.core.runtime.Platform.run(Platform.java:757)</Frame>
          <Frame depth="35">org.eclipse.ui.internal.JFaceUtil$1.run(JFaceUtil.java:40)</Frame>
          <Frame depth="36">org.eclipse.jface.util.SafeRunnable.run(SafeRunnable.java:148)</Frame>
          <Frame depth="37">org.eclipse.jface.viewers.Viewer.fireSelectionChanged(Viewer.java:160)</Frame>
          <Frame depth="38">org.eclipse.jface.viewers.StructuredViewer.updateSelection(StructuredViewer.java:1774)</Frame>
          <Frame depth="39">org.eclipse.jface.viewers.StructuredViewer.handleSelect(StructuredViewer.java:1017)</Frame>
          <Frame depth="40">org.eclipse.jface.viewers.StructuredViewer$4.widgetSelected(StructuredViewer.java:1043)</Frame>
          <Frame depth="41">org.eclipse.jface.util.OpenStrategy.fireSelectionEvent(OpenStrategy.java:209)</Frame>
          <Frame depth="42">org.eclipse.jface.util.OpenStrategy.access$3(OpenStrategy.java:204)</Frame>
          <Frame depth="43">org.eclipse.jface.util.OpenStrategy$1.handleEvent(OpenStrategy.java:364)</Frame>
          <Frame depth="44">org.eclipse.swt.widgets.EventTable.sendEvent(EventTable.java(Compiled Code))</Frame>
          <Frame depth="45">org.eclipse.swt.widgets.Widget.sendEvent(Widget.java:842)</Frame>
          <Frame depth="46">org.eclipse.swt.widgets.Display.runDeferredEvents(Display.java:2895)</Frame>
          <Frame depth="47">org.eclipse.swt.widgets.Display.readAndDispatch(Display.java:2528)</Frame>
          <Frame depth="48">org.eclipse.ui.internal.Workbench.runEventLoop(Workbench.java:1570)</Frame>
          <Frame depth="49">org.eclipse.ui.internal.Workbench.runUI(Workbench.java:1534)</Frame>
          <Frame depth="50">org.eclipse.ui.internal.Workbench.createAndRunWorkbench(Workbench.java:306)</Frame>
          <Frame depth="51">org.eclipse.ui.PlatformUI.createAndRunWorkbench(PlatformUI.java:143)</Frame>
          <Frame depth="52">org.eclipse.ui.internal.ide.IDEApplication.run(IDEApplication.java:103)</Frame>
          <Frame depth="53">org.eclipse.core.internal.runtime.PlatformActivator$1.run(PlatformActivator.java:228)</Frame>
          <Frame depth="54">org.eclipse.core.runtime.adaptor.EclipseStarter.run(EclipseStarter.java:344)</Frame>
          <Frame depth="55">org.eclipse.core.runtime.adaptor.EclipseStarter.run(EclipseStarter.java:156)</Frame>
          <Frame depth="56">sun.reflect.NativeMethodAccessorImpl.invoke0(Native Method)</Frame>
          <Frame depth="57">sun.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:85)</Frame>
          <Frame depth="58">sun.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:58)</Frame>
          <Frame depth="59">sun.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:60)</Frame>
          <Frame depth="60">java.lang.reflect.Method.invoke(Method.java:391)</Frame>
          <Frame depth="61">org.eclipse.core.launcher.Main.invokeFramework(Main.java:316)</Frame>
          <Frame depth="62">org.eclipse.core.launcher.Main.basicRun(Main.java:269)</Frame>
          <Frame depth="63">org.eclipse.core.launcher.Main.run(Main.java:948)</Frame>
          <Frame depth="64">org.eclipse.core.launcher.Main.main(Main.java:932)</Frame>
        </Frames>
      </Stacktrace>
    </Stacktraces>
    <SourceCodeRegions amount="0" />
    <Enumerations amount="0" />
    <bug_status amount="RESOLVED" />
    <resolution amount="DUPLICATE" />
    <WithStack>Build: I20050412

After starting on this build, a full workspace build started.  During this
build, an error occurred.  This was in the log file:

java.lang.NullPointerException
	at
org.eclipse.pde.internal.core.RequiredPluginsClasspathContainer.getSupplier(RequiredPluginsClasspathContainer.java:160)
	at
org.eclipse.pde.internal.core.RequiredPluginsClasspathContainer.computePluginEntries(RequiredPluginsClasspathContainer.java:131)
	at
org.eclipse.pde.internal.core.RequiredPluginsClasspathContainer.getClasspathEntries(RequiredPluginsClasspathContainer.java:100)
	at
org.eclipse.jdt.internal.core.ClasspathEntry.validateClasspathEntry(ClasspathEntry.java(Compiled
Code))
	at
org.eclipse.jdt.internal.core.JavaProject.getResolvedClasspath(JavaProject.java(Compiled
Code))
	at
org.eclipse.jdt.internal.core.DeltaProcessingState$ProjectUpdateInfo.updateProjectReferencesIfNecessary(DeltaProcessingState.java(Compiled
Code))
	at
org.eclipse.jdt.internal.core.DeltaProcessingState.performClasspathResourceChange(DeltaProcessingState.java:223)
	at
org.eclipse.jdt.internal.core.SetClasspathOperation.updateProjectReferencesIfNecessary(SetClasspathOperation.java:785)
	at
org.eclipse.jdt.internal.core.SetClasspathOperation.executeOperation(SetClasspathOperation.java:244)
	at
org.eclipse.jdt.internal.core.JavaModelOperation.run(JavaModelOperation.java:710)
	at org.eclipse.core.internal.resources.Workspace.run(Workspace.java:1714)
	at
org.eclipse.jdt.internal.core.JavaModelOperation.runOperation(JavaModelOperation.java:771)
	at org.eclipse.jdt.internal.core.JavaProject.setRawClasspath(JavaProject.java:2740)
	at org.eclipse.jdt.core.JavaCore$3.run(JavaCore.java:3853)
	at
org.eclipse.jdt.internal.core.BatchOperation.executeOperation(BatchOperation.java:34)
	at
org.eclipse.jdt.internal.core.JavaModelOperation.run(JavaModelOperation.java:710)
	at org.eclipse.core.internal.resources.Workspace.run(Workspace.java:1714)
	at org.eclipse.jdt.core.JavaCore.run(JavaCore.java:3666)
	at org.eclipse.jdt.core.JavaCore.setClasspathContainer(JavaCore.java:3836)
	at
org.eclipse.pde.internal.core.ModelEntry.updateClasspathContainer(ModelEntry.java:110)
	at
org.eclipse.pde.internal.core.RequiredPluginsInitializer.initialize(RequiredPluginsInitializer.java:40)
	at
org.eclipse.jdt.internal.core.JavaModelManager.initializeContainer(JavaModelManager.java:1282)
	at
org.eclipse.jdt.internal.core.JavaModelManager.initializeAllContainers(JavaModelManager.java:1247)
	at
org.eclipse.jdt.internal.core.JavaModelManager.getClasspathContainer(JavaModelManager.java:854)
	at org.eclipse.jdt.core.JavaCore.getClasspathContainer(JavaCore.java:1314)
	at
org.eclipse.jdt.internal.core.JavaProject.getResolvedClasspath(JavaProject.java:2034)
	at
org.eclipse.jdt.internal.core.JavaProject.getResolvedClasspath(JavaProject.java:1942)
	at org.eclipse.jdt.internal.core.JavaProject.isOnClasspath(JavaProject.java:2220)
	at
org.eclipse.jdt.internal.corext.buildpath.EditFiltersOperation.isValid(EditFiltersOperation.java:100)
	at
org.eclipse.jdt.internal.ui.wizards.buildpaths.newsourcepage.BuildPathAction.selectionChanged(BuildPathAction.java:124)
	at
org.eclipse.jdt.ui.actions.SelectionDispatchAction.dispatchSelectionChanged(SelectionDispatchAction.java:200)
	at
org.eclipse.jdt.ui.actions.SelectionDispatchAction.selectionChanged(SelectionDispatchAction.java:195)
	at org.eclipse.jface.viewers.Viewer$2.run(Viewer.java:162)
	at
org.eclipse.core.internal.runtime.InternalPlatform.run(InternalPlatform.java:1021)
	at org.eclipse.core.runtime.Platform.run(Platform.java:757)
	at org.eclipse.ui.internal.JFaceUtil$1.run(JFaceUtil.java:40)
	at org.eclipse.jface.util.SafeRunnable.run(SafeRunnable.java:148)
	at org.eclipse.jface.viewers.Viewer.fireSelectionChanged(Viewer.java:160)
	at
org.eclipse.jface.viewers.StructuredViewer.updateSelection(StructuredViewer.java:1774)
	at
org.eclipse.jface.viewers.StructuredViewer.handleSelect(StructuredViewer.java:1017)
	at
org.eclipse.jface.viewers.StructuredViewer$4.widgetSelected(StructuredViewer.java:1043)
	at org.eclipse.jface.util.OpenStrategy.fireSelectionEvent(OpenStrategy.java:209)
	at org.eclipse.jface.util.OpenStrategy.access$3(OpenStrategy.java:204)
	at org.eclipse.jface.util.OpenStrategy$1.handleEvent(OpenStrategy.java:364)
	at org.eclipse.swt.widgets.EventTable.sendEvent(EventTable.java(Compiled Code))
	at org.eclipse.swt.widgets.Widget.sendEvent(Widget.java:842)
	at org.eclipse.swt.widgets.Display.runDeferredEvents(Display.java:2895)
	at org.eclipse.swt.widgets.Display.readAndDispatch(Display.java:2528)
	at org.eclipse.ui.internal.Workbench.runEventLoop(Workbench.java:1570)
	at org.eclipse.ui.internal.Workbench.runUI(Workbench.java:1534)
	at org.eclipse.ui.internal.Workbench.createAndRunWorkbench(Workbench.java:306)
	at org.eclipse.ui.PlatformUI.createAndRunWorkbench(PlatformUI.java:143)
	at org.eclipse.ui.internal.ide.IDEApplication.run(IDEApplication.java:103)
	at
org.eclipse.core.internal.runtime.PlatformActivator$1.run(PlatformActivator.java:228)
	at org.eclipse.core.runtime.adaptor.EclipseStarter.run(EclipseStarter.java:344)
	at org.eclipse.core.runtime.adaptor.EclipseStarter.run(EclipseStarter.java:156)
	at sun.reflect.NativeMethodAccessorImpl.invoke0(Native Method)
	at sun.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:85)
	at sun.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:58)
	at
sun.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:60)
	at java.lang.reflect.Method.invoke(Method.java:391)
	at org.eclipse.core.launcher.Main.invokeFramework(Main.java:316)
	at org.eclipse.core.launcher.Main.basicRun(Main.java:269)
	at org.eclipse.core.launcher.Main.run(Main.java:948)
	at org.eclipse.core.launcher.Main.main(Main.java:932)
After this error, all of my projects had red X's and another full clean &amp;
rebuild was required.


*** This bug has been marked as a duplicate of 91152 ***</WithStack>
    <WithOutStack>Build: I20050412

After starting on this build, a full workspace build started.  During this
build, an error occurred.  This was in the log file:


After this error, all of my projects had red X's and another full clean &amp;
rebuild was required.


*** This bug has been marked as a duplicate of 91152 ***</WithOutStack>
  </Bug>
  <Bug>
    <BugId amount="91155" />
    <CreationDate amount="2005-04-12 11:57:00 -0400" />
    <DupId amount="" />
    <classification amount="Tools" />
    <Product amount="CDT" />
    <component amount="cdt-debug" />
    <Version amount="3.0" />
    <rep_platform amount="PC" />
    <op_sys amount="Windows XP" />
    <priority amount="P3" />
    <bug_severity amount="minor" />
    <Summery>Wrong Icon for "Restart"</Summery>
    <Patches amount="0" />
    <Stacktraces amount="0" />
    <SourceCodeRegions amount="0" />
    <Enumerations amount="0" />
    <bug_status amount="NEW" />
    <resolution amount="" />
    <WithStack>Used M6 candidate I200504120301 

The icon for "Restart" is same as "Resume" on Debug View Toolbar.
I have replaced the new icon by the old one, but we need a better image.
Dave, do you want me to reassign it to you?
Yes,  I'll take this one.</WithStack>
    <WithOutStack>Used M6 candidate I200504120301 

The icon for "Restart" is same as "Resume" on Debug View Toolbar.
I have replaced the new icon by the old one, but we need a better image.
Dave, do you want me to reassign it to you?
Yes,  I'll take this one.</WithOutStack>
  </Bug>
  <Bug>
    <BugId amount="91156" />
    <CreationDate amount="2005-04-12 12:05:00 -0400" />
    <DupId amount="" />
    <classification amount="Eclipse" />
    <Product amount="Platform" />
    <component amount="UI" />
    <Version amount="3.1" />
    <rep_platform amount="PC" />
    <op_sys amount="Windows XP" />
    <priority amount="P3" />
    <bug_severity amount="normal" />
    <Summery>[Viewers] Package explorer selection flashing when opening a new editor</Summery>
    <Patches amount="0" />
    <Stacktraces amount="0" />
    <SourceCodeRegions amount="2">
      <source_code type="functioncall">
        <location start="1179" end="1237" />
        <code>getSite().getWorkbenchWindow().run(false, true, runnable);</code>
      </source_code>
      <source_code type="functioncall">
        <location start="2140" end="2180" />
        <code>runnable.run(new NullProgressMonitor());</code>
      </source_code>
    </SourceCodeRegions>
    <Enumerations amount="2">
      <Enumeration lines="5">
        <Lines>
          <Line>1. Ensure that the package explorer is wide enough so that a tooltip does not</Line>
          <Line>obscure the current selection.</Line>
          <Line>2. Open a new editor.</Line>
          <Line>3. Observe the selection in the list become gray while the editor is opened, and</Line>
          <Line>then return to blue, as focus is lost and then regained.</Line>
        </Lines>
      </Enumeration>
      <Enumeration lines="14">
        <Lines>
          <Line>1) Text uses something else like IProgressManager#busyCursorWhile so that they</Line>
          <Line>don't get this behaviour. The problem with this is that they will get a progress</Line>
          <Line>dialog now and again when loading slow editors. I'm not sure this will look very</Line>
          <Line>good.</Line>
          <Line />
          <Line>2) We implement the 100ms delay in turning off the UI like busyCursorWhile and</Line>
          <Line>do the same thing.</Line>
          <Line />
          <Line>3) WorkbenchWindow scraps the piecemeal turning off of components and disables</Line>
          <Line>the UI in one fell swoop like busyCursorWhile does. We would need to keep the</Line>
          <Line>progress monitor alive however so this may not work.</Line>
          <Line>I would just as soon we didn't address this for 3.1. There is a lot of room for</Line>
          <Line>subtle breakage if we do this.</Line>
          <Line>Steve and I tried using this instead</Line>
        </Lines>
      </Enumeration>
    </Enumerations>
    <bug_status amount="ASSIGNED" />
    <resolution amount="" />
    <WithStack>3.1M6

When I double click on an item in the package explorer, the selection goes gray
while the editor opens and then returns to blue.  Steps to reproduce:

1. Ensure that the package explorer is wide enough so that a tooltip does not
obscure the current selection.
2. Open a new editor.
3. Observe the selection in the list become gray while the editor is opened, and
then return to blue, as focus is lost and then regained.

Note that this only seems to happen when a new editor is opened.
Tod, this is the "blue/gray flash" bug I am so hot about.  If you watch the 
perspective switcher, it also flashes.  Billy did some rough timings on Linux 
using his responsiveness hacks and it made a difference commenting out the 
lines that disabled and enabled (5-10%).  We need to retest to prove these 
numbers but if this is true, then it's a double win -- faster and less flash.

Billy, we need to confirm the speed improvement and paste the numbers into 
this bug report.
Can you point me at the lines you commented out for this one?
I believe we commented all the disabling and at least the enabling and 
disabling of toolbars.
The issue is line 2378 of CompilationUnitEditor

getSite().getWorkbenchWindow().run(false, true, runnable);

In many cases this is pretty fast. In some (like the single click open case) it
is slow enough that the user might get themselves in trouble clicking around.

We have three options here I think

1) Text uses something else like IProgressManager#busyCursorWhile so that they
don't get this behaviour. The problem with this is that they will get a progress
dialog now and again when loading slow editors. I'm not sure this will look very
good.

2) We implement the 100ms delay in turning off the UI like busyCursorWhile and
do the same thing.

3) WorkbenchWindow scraps the piecemeal turning off of components and disables
the UI in one fell swoop like busyCursorWhile does. We would need to keep the
progress monitor alive however so this may not work.
I would just as soon we didn't address this for 3.1. There is a lot of room for
subtle breakage if we do this.
Steve and I tried using this instead

runnable.run(new NullProgressMonitor());

And it doesn't flash at all in this case.

I would be nervous to do this in general because we are not sure what other
applications are depending on the disabling of the UI. Dani might consider doing
this in the CompilationUnitEditor only but I would have the same concerns.

If you look at the comment for AbstractTextEditor it indicates that the site
should decide - I would expect that would be something we would not want to rush
into but that it is a better idea than hacking an editor.
Personally, I'd like to see the "NullProgressMonitor" thing happen, even if it 
was a Java editor only fix.  It makes the UI look way more professional.  Try 
it and see.
Re option (3) above, we can't disable the whole shell because the cancel button
needs to remain responsive.


For me at this point it's too risky to change this in Text land.
Note that the proposed solution to only change this in text land would still
expose the problem for editors like PDE, Web Browser and all other non-text editors.

Platform Text could change the code to set cancelable to 'false' and hence there
might be no need to drive the event loop for keeping a 'Cancel' button alive for
the case where 'cancelable' is false. Would that help?
Setting cancelable to false won't actually eliminate the flash.
If fork==false, the event loop is not actually spun during a window.run, unless
the runnable does so.

Having said that, I'm curious as to why we see the flicker if the event loop
isn't running.  It seems Windows likes to redraw fairly often, not just during
paint events.

In general, the operating system can redraw at any time.  The blue/gray flash 
dance doesn't happen on the other platforms, but the toolbar flahses on Linux 
(might be unrelated).

Try a hack version of the fix on Windows and compare with the original.  Looks 
good enough to risk it, even if only for Java editors?
Ok, too dangerous to change this for 3.1.  Give up.  How about 3.2?
For 3.2 we have to implement a solution that works for all kinds of editors
being opened from the Package Explorer.
Cool, hope too many things don't break. ;-)
Sorry, this one fell through the cracks for 3.2.  Do you mean the blue/gray flash that occurs when the open mode is set to single click?
Yes.
Marking for investigation in 3.4 M1.
Moving to M3.
The milestone for this is 3.4 M3. Did it get fixed?


&gt;The milestone for this is 3.4 M3. Did it get fixed?
No, the gray/blue flash still there and it also happens when opening any editor either from Package Explorer or Navigator as soon as this editor wants/needs to report progress.

Note that to reproduce you need to have single-click open mode enabled, otherwise the viewer selection will go gray and stay gray i.e. no flashing.
I have tried but failed to find a solution.

The problem is that the CompilationUnitEditor calls API that shows a progress monitor in the window trim. This will spin the event loop while we are opening the editor. At this time, we are not prepared for UI events coming in from anything other than that progress monitor's cancel button. Because of this, we need to disable controls, which leads to the blue/gray flash.

Steve, is there a way to disable UI events that does not lead to the blue/gray flash? If not, I am afraid we will have to close this one as wontfix.
Ok, here is what is happening:

You are spinning an event loop so the user can press cancel.  You need to disable all controls in the shell so that the only thing the user can to is press the cancel button.  Disabling a hierarchy of controls that contains a control that has focus (ie. the tree) causes focus to be assigned somewhere else.  When focus is assigned somewhere, the control redraws to reflect the change (ie tree draws selected in gray).  Then focus is reassigned (tree draws blue).  Result is the blue/gray flash dance.

The hilarious part is that there is no way that I could possibly find and click the cancel button between the time that I click the tree item.  In fact, my UI doesn't even contain one.

The fix is for the application code to know what it is doing.  Try to run the operating right away and wait for the result.  If the result takes too long, stop waiting and do the dance, otherwise, the job was fast and avoid the dance.
(In reply to comment #23)
&gt; The hilarious part is that there is no way that I could possibly find and click
&gt; the cancel button between the time that I click the tree item.  In fact, my UI
&gt; doesn't even contain one.

Yes. It is actually quite sad.  I did not explain the full story in comment 22. The full story goes like this (additions in [brackets]):

"The problem is that the CompilationUnitEditor calls API that [runs a client-supplied operation and while running that operation] shows a progress monitor in the window trim [if progress is being reported from the operation - the common case is that the operation does not report progress]. The [operation is allowed to] spin the event loop while we are opening the editor [but at the Workbench level, we don't know if this will happen so we must assume the worst]. At this time, we are not prepared for UI events coming in from anything other than that progress monitor's cancel button. Because of this, we need to disable controls, which leads to the blue/gray flash."

&gt; The fix is for the application code to know what it is doing.

I agree. In this particular case, the "application code" is itself a framework, namely Dani's AbstractTextEditor, in the method internalInit. It looks like at that level, we also don't know what the operation runnable will end up doing - will it be long-running at all? Will it report progress? Will it be cancelable at all? Will it spin the event loop?
Good lord!  Someone has to know ... Dani?
The problem is that the general editor (not the text) framework neither allows to report progress nor canceling the opening of the editor. Hence this had to be added by Platform Text.

Maybe, if this support is added to the Platform, then we could solve this. Not sure though. 
Hitesh is now responsible for watching bugs in the [Viewers] component area.</WithStack>
    <WithOutStack>3.1M6

When I double click on an item in the package explorer, the selection goes gray
while the editor opens and then returns to blue.  Steps to reproduce:

1. Ensure that the package explorer is wide enough so that a tooltip does not
obscure the current selection.
2. Open a new editor.
3. Observe the selection in the list become gray while the editor is opened, and
then return to blue, as focus is lost and then regained.

Note that this only seems to happen when a new editor is opened.
Tod, this is the "blue/gray flash" bug I am so hot about.  If you watch the 
perspective switcher, it also flashes.  Billy did some rough timings on Linux 
using his responsiveness hacks and it made a difference commenting out the 
lines that disabled and enabled (5-10%).  We need to retest to prove these 
numbers but if this is true, then it's a double win -- faster and less flash.

Billy, we need to confirm the speed improvement and paste the numbers into 
this bug report.
Can you point me at the lines you commented out for this one?
I believe we commented all the disabling and at least the enabling and 
disabling of toolbars.
The issue is line 2378 of CompilationUnitEditor

getSite().getWorkbenchWindow().run(false, true, runnable);

In many cases this is pretty fast. In some (like the single click open case) it
is slow enough that the user might get themselves in trouble clicking around.

We have three options here I think

1) Text uses something else like IProgressManager#busyCursorWhile so that they
don't get this behaviour. The problem with this is that they will get a progress
dialog now and again when loading slow editors. I'm not sure this will look very
good.

2) We implement the 100ms delay in turning off the UI like busyCursorWhile and
do the same thing.

3) WorkbenchWindow scraps the piecemeal turning off of components and disables
the UI in one fell swoop like busyCursorWhile does. We would need to keep the
progress monitor alive however so this may not work.
I would just as soon we didn't address this for 3.1. There is a lot of room for
subtle breakage if we do this.
Steve and I tried using this instead

runnable.run(new NullProgressMonitor());

And it doesn't flash at all in this case.

I would be nervous to do this in general because we are not sure what other
applications are depending on the disabling of the UI. Dani might consider doing
this in the CompilationUnitEditor only but I would have the same concerns.

If you look at the comment for AbstractTextEditor it indicates that the site
should decide - I would expect that would be something we would not want to rush
into but that it is a better idea than hacking an editor.
Personally, I'd like to see the "NullProgressMonitor" thing happen, even if it 
was a Java editor only fix.  It makes the UI look way more professional.  Try 
it and see.
Re option (3) above, we can't disable the whole shell because the cancel button
needs to remain responsive.


For me at this point it's too risky to change this in Text land.
Note that the proposed solution to only change this in text land would still
expose the problem for editors like PDE, Web Browser and all other non-text editors.

Platform Text could change the code to set cancelable to 'false' and hence there
might be no need to drive the event loop for keeping a 'Cancel' button alive for
the case where 'cancelable' is false. Would that help?
Setting cancelable to false won't actually eliminate the flash.
If fork==false, the event loop is not actually spun during a window.run, unless
the runnable does so.

Having said that, I'm curious as to why we see the flicker if the event loop
isn't running.  It seems Windows likes to redraw fairly often, not just during
paint events.

In general, the operating system can redraw at any time.  The blue/gray flash 
dance doesn't happen on the other platforms, but the toolbar flahses on Linux 
(might be unrelated).

Try a hack version of the fix on Windows and compare with the original.  Looks 
good enough to risk it, even if only for Java editors?
Ok, too dangerous to change this for 3.1.  Give up.  How about 3.2?
For 3.2 we have to implement a solution that works for all kinds of editors
being opened from the Package Explorer.
Cool, hope too many things don't break. ;-)
Sorry, this one fell through the cracks for 3.2.  Do you mean the blue/gray flash that occurs when the open mode is set to single click?
Yes.
Marking for investigation in 3.4 M1.
Moving to M3.
The milestone for this is 3.4 M3. Did it get fixed?


&gt;The milestone for this is 3.4 M3. Did it get fixed?
No, the gray/blue flash still there and it also happens when opening any editor either from Package Explorer or Navigator as soon as this editor wants/needs to report progress.

Note that to reproduce you need to have single-click open mode enabled, otherwise the viewer selection will go gray and stay gray i.e. no flashing.
I have tried but failed to find a solution.

The problem is that the CompilationUnitEditor calls API that shows a progress monitor in the window trim. This will spin the event loop while we are opening the editor. At this time, we are not prepared for UI events coming in from anything other than that progress monitor's cancel button. Because of this, we need to disable controls, which leads to the blue/gray flash.

Steve, is there a way to disable UI events that does not lead to the blue/gray flash? If not, I am afraid we will have to close this one as wontfix.
Ok, here is what is happening:

You are spinning an event loop so the user can press cancel.  You need to disable all controls in the shell so that the only thing the user can to is press the cancel button.  Disabling a hierarchy of controls that contains a control that has focus (ie. the tree) causes focus to be assigned somewhere else.  When focus is assigned somewhere, the control redraws to reflect the change (ie tree draws selected in gray).  Then focus is reassigned (tree draws blue).  Result is the blue/gray flash dance.

The hilarious part is that there is no way that I could possibly find and click the cancel button between the time that I click the tree item.  In fact, my UI doesn't even contain one.

The fix is for the application code to know what it is doing.  Try to run the operating right away and wait for the result.  If the result takes too long, stop waiting and do the dance, otherwise, the job was fast and avoid the dance.
(In reply to comment #23)
&gt; The hilarious part is that there is no way that I could possibly find and click
&gt; the cancel button between the time that I click the tree item.  In fact, my UI
&gt; doesn't even contain one.

Yes. It is actually quite sad.  I did not explain the full story in comment 22. The full story goes like this (additions in [brackets]):

"The problem is that the CompilationUnitEditor calls API that [runs a client-supplied operation and while running that operation] shows a progress monitor in the window trim [if progress is being reported from the operation - the common case is that the operation does not report progress]. The [operation is allowed to] spin the event loop while we are opening the editor [but at the Workbench level, we don't know if this will happen so we must assume the worst]. At this time, we are not prepared for UI events coming in from anything other than that progress monitor's cancel button. Because of this, we need to disable controls, which leads to the blue/gray flash."

&gt; The fix is for the application code to know what it is doing.

I agree. In this particular case, the "application code" is itself a framework, namely Dani's AbstractTextEditor, in the method internalInit. It looks like at that level, we also don't know what the operation runnable will end up doing - will it be long-running at all? Will it report progress? Will it be cancelable at all? Will it spin the event loop?
Good lord!  Someone has to know ... Dani?
The problem is that the general editor (not the text) framework neither allows to report progress nor canceling the opening of the editor. Hence this had to be added by Platform Text.

Maybe, if this support is added to the Platform, then we could solve this. Not sure though. 
Hitesh is now responsible for watching bugs in the [Viewers] component area.</WithOutStack>
  </Bug>
  <Bug>
    <BugId amount="91157" />
    <CreationDate amount="2005-04-12 12:19:00 -0400" />
    <DupId amount="" />
    <classification amount="Eclipse" />
    <Product amount="Platform" />
    <component amount="SWT" />
    <Version amount="3.1" />
    <rep_platform amount="Other" />
    <op_sys amount="Linux-GTK" />
    <priority amount="P3" />
    <bug_severity amount="normal" />
    <Summery>embedded SWT_AWT frames flicker when the SWT window is resized</Summery>
    <Patches amount="0" />
    <Stacktraces amount="0" />
    <SourceCodeRegions amount="6">
      <source_code type="functioncall">
        <location start="1047" end="1111" />
        <code>System.setProperty("sun.awt.noerasebackground", "true");</code>
      </source_code>
      <source_code type="functiondef">
        <location start="1172" end="1825" />
        <code>public static void main(String[] args) {
    java.awt.Frame frame = new java.awt.Frame();
    java.awt.Panel panel =
        new java.awt.Panel(new BorderLayout()) {
            public void update(java.awt.Graphics g) {
                // Don't erase the background, to decrease flickering.
                paint(g);
            }
        };
    JRootPane root = new JRootPane();
    panel.add(root);
    java.awt.Container contentPane = root.getContentPane();
    JPanel blackPanel = new JPanel();
    blackPanel.setBackground(java.awt.Color.black);
    contentPane.add(blackPanel, BorderLayout.CENTER);
    frame.add(panel);
	frame.setVisible(true);
}</code>
      </source_code>
      <source_code type="functiondef">
        <location start="1905" end="2487" />
        <code>public static void main(String[] args) { 
    java.awt.Frame frame = 
        new java.awt.Frame() { 
            public void update(java.awt.Graphics g) { 
                // Don't erase the background, to decrease flickering. 
                paint(g); 
            } 
        }; 
    JRootPane root = new JRootPane(); 
    frame.add(root); 
    java.awt.Container contentPane = root.getContentPane(); 
    JPanel blackPanel = new JPanel(); 
    blackPanel.setBackground(java.awt.Color.black); 
    contentPane.add(blackPanel, BorderLayout.CENTER); 
    frame.setVisible(true); 
}</code>
      </source_code>
      <source_code type="functioncall">
        <location start="6069" end="6135" />
        <code>- OS.gtk_widget_set_redraw_on_allocate(composite.handle, false);</code>
      </source_code>
      <source_code type="functioncall">
        <location start="6136" end="6193" />
        <code>- OS.gtk_fixed_set_has_window(composite.handle, false);</code>
      </source_code>
      <source_code type="functioncall">
        <location start="6301" end="6356" />
        <code>OS.gtk_widget_size_allocate (topHandle, allocation);</code>
      </source_code>
    </SourceCodeRegions>
    <Enumerations amount="4">
      <Enumeration lines="17">
        <Lines>
          <Line>a) Compile the subclass with the 'int' constructor on a platform where</Line>
          <Line>sun.awt.X11.XEmbeddedFrame has 'int'; likewise with 'long' on a different</Line>
          <Line>platform; then choose the appropriate one at runtime and load it through an</Line>
          <Line>extra classloader. Or</Line>
          <Line>b) Construct the appropriate subclass entirely at runtime using the Apache BCEL package,</Line>
          <Line>parametrizing it with the information about sun.awt.X11.XEmbeddedFrame.</Line>
          <Line>The class is converted from a byte[] to a Class object through a custom ClassLoader</Line>
          <Line>whose findClass method just calls defineClass of the byte array.</Line>
          <Line />
          <Line>How to solve the conflict between Bug#58308 and this one regarding the extra java.awt.Panel,</Line>
          <Line>I don't know.</Line>
          <Line />
          <Line>Having different classes at compile time for different platforms was not a</Line>
          <Line>option in JDK 1.3, because the same platform (Windows) had JREs with different</Line>
          <Line>WEmbeddedFrame classes. So if we compiled for one jre, we would not be able to</Line>
          <Line>run in the other jre. This may have change for newer JREs, I would have to</Line>
          <Line>check.</Line>
        </Lines>
      </Enumeration>
      <Enumeration lines="15">
        <Lines>
          <Line>1) Unpack the attached application.</Line>
          <Line>2) $ export ECLIPSE_HOME=directory_of_your_eclipse_installation</Line>
          <Line>3) "ant"</Line>
          <Line>4) with a JDK 1.5: "ant run"</Line>
          <Line>5) resize the application window</Line>
          <Line>Created attachment 19817</Line>
          <Line>sample application that uses embedded SWT frames</Line>
          <Line>We believe strongly that the flickering is on the AWT/Swing side.  SSQ to</Line>
          <Line>provide strategies to reduce this.  Isn't there one on the SWT snippets page?</Line>
          <Line>The strategy from Snippet 154 is already taken into account in the sample. It succeeds to fix the</Line>
          <Line>problem only on Windows, not on linux-gtk.</Line>
          <Line />
          <Line>This is an AWT problem and I believe there is nothing SWT can do to work around</Line>
          <Line>it. The problem does not happen on because of the AWT system property</Line>
          <Line>"sun.awt.noerasebackground", but this property is only honoured on Windows.</Line>
        </Lines>
      </Enumeration>
      <Enumeration lines="11">
        <Lines>
          <Line>- The class FixedXEmbeddedFrame cannot be compiled on non-X11 platforms.</Line>
          <Line>- The comments in class SWT_AWT say that the constructor should take an 'int' on some</Line>
          <Line>platforms and a 'long' on others.</Line>
          <Line>Therefore I believe this fix should best be integrated into SWT, so that code that uses SWT</Line>
          <Line>can remain platform independent.</Line>
          <Line />
          <Line>Created attachment 19906</Line>
          <Line>Sample without flickering, through a subclass of sun.awt.X11.XEmbeddedFrame</Line>
          <Line>The extra java.awt.Panel is needed with JDK 1.4.2 (at least). The cursor will</Line>
          <Line>not change to the "resize cursor" when you try to resize the columns of the</Line>
          <Line>table without the panel (see Bug#58308).</Line>
        </Lines>
      </Enumeration>
      <Enumeration lines="2">
        <Lines>
          <Line>- Use of the SWT.NO_REDRAW_RESIZE flag in the constructor.</Line>
          <Line>- Use of the SWT.TRANSPARENT flag in the constructor.</Line>
        </Lines>
      </Enumeration>
    </Enumerations>
    <bug_status amount="REOPENED" />
    <resolution amount="" />
    <WithStack>With SWT from Eclipse 3.1M6 on Linux/x86 with the gtk window system, the 
attached application - which contains three SWT_AWT embedded frames - flickers 
when the SWT application window is resized (both when it is enlarged and also when 
it is shrinked). 
 
To reproduce: 
1) Unpack the attached application. 
2) $ export ECLIPSE_HOME=directory_of_your_eclipse_installation 
3) "ant" 
4) with a JDK 1.5: "ant run" 
5) resize the application window
Created attachment 19817
sample application that uses embedded SWT frames
We believe strongly that the flickering is on the AWT/Swing side.  SSQ to 
provide strategies to reduce this.  Isn't there one on the SWT snippets page?
The strategy from Snippet 154 is already taken into account in the sample. It succeeds to fix the 
problem only on Windows, not on linux-gtk. 
 
This is an AWT problem and I believe there is nothing SWT can do to work around
it. The problem does not happen on because of the AWT system property
"sun.awt.noerasebackground", but this property is only honoured on Windows.

        System.setProperty("sun.awt.noerasebackground", "true");

Here is a simple AWT only example that shows the problem:

public static void main(String[] args) {
    java.awt.Frame frame = new java.awt.Frame();
    java.awt.Panel panel =
        new java.awt.Panel(new BorderLayout()) {
            public void update(java.awt.Graphics g) {
                // Don't erase the background, to decrease flickering.
                paint(g);
            }
        };
    JRootPane root = new JRootPane();
    panel.add(root);
    java.awt.Container contentPane = root.getContentPane();
    JPanel blackPanel = new JPanel();
    blackPanel.setBackground(java.awt.Color.black);
    contentPane.add(blackPanel, BorderLayout.CENTER);
    frame.add(panel);
	frame.setVisible(true);
}
The AWT sample can be changed so that it doesn't show the problem any more: 
 
public static void main(String[] args) { 
    java.awt.Frame frame = 
        new java.awt.Frame() { 
            public void update(java.awt.Graphics g) { 
                // Don't erase the background, to decrease flickering. 
                paint(g); 
            } 
        }; 
    JRootPane root = new JRootPane(); 
    frame.add(root); 
    java.awt.Container contentPane = root.getContentPane(); 
    JPanel blackPanel = new JPanel(); 
    blackPanel.setBackground(java.awt.Color.black); 
    contentPane.add(blackPanel, BorderLayout.CENTER); 
    frame.setVisible(true); 
} 
 
The two tricks to get rid of the flickering are: 
   1) Not to use java.awt.Panel, 
   2) Override the update(Graphics) method of the java.awt.Frame class, to avoid 
      the clearRect call found in java.awt.Container:update(Graphics). 
 
These two tricks can be transposed to the SWT world. Find attached a sample with a class 
FixedXEmbeddedFrame, subclass of sun.awt.X11.XEmbeddedFrame, that overrides the 
update(Graphics) method as needed. This shows that the problem can indeed be fixed. 
 
However, this fix is not satisfactorily deployable on our side, because it is platform dependent: 
  - The class FixedXEmbeddedFrame cannot be compiled on non-X11 platforms. 
  - The comments in class SWT_AWT say that the constructor should take an 'int' on some 
    platforms and a 'long' on others. 
Therefore I believe this fix should best be integrated into SWT, so that code that uses SWT 
can remain platform independent. 
 
Created attachment 19906
Sample without flickering, through a subclass of sun.awt.X11.XEmbeddedFrame
The extra java.awt.Panel is needed with JDK 1.4.2 (at least). The cursor will 
not change to the "resize cursor" when you try to resize the columns of the 
table without the panel (see Bug#58308).

Now, If I put the java.awt.Panel back, the example will still flicker even if 
I subclass XEmbeddedFrame and reimplement update().

sun.awt.X11.XEmbeddedFrame is not public API and there are binary 
incompatability between JREs for the same platform. So how can I have a 
subclass that will work on all JREs, since I have to decide between int or 
long at compile time. Right now, we use reflection to work around this problem.
To make a subclass that works on all JREs, you can either 
   a) Compile the subclass with the 'int' constructor on a platform where 
      sun.awt.X11.XEmbeddedFrame has 'int'; likewise with 'long' on a different 
      platform; then choose the appropriate one at runtime and load it through an 
      extra classloader. Or 
   b) Construct the appropriate subclass entirely at runtime using the Apache BCEL package, 
      parametrizing it with the information about sun.awt.X11.XEmbeddedFrame. 
      The class is converted from a byte[] to a Class object through a custom ClassLoader 
      whose findClass method just calls defineClass of the byte array. 
 
How to solve the conflict between Bug#58308 and this one regarding the extra java.awt.Panel, 
I don't know. 
 
Having different classes at compile time for different platforms was not a 
option in JDK 1.3, because the same platform (Windows) had JREs with different 
WEmbeddedFrame classes. So if we compiled for one jre, we would not be able to 
run in the other jre. This may have change for newer JREs, I would have to 
check.

I believe adding dependence to Apache BCEL package is not a option (over kill).
This bug is still (in Eclipse 3.4M4) a major problem with SWT_AWT on Gtk.

You can easily reproduce it with Albireo: Install Albireo from http://wiki.eclipse.org/Albireo_Download, then launch the examples plugin, and open the "Resize Flickering" view. At every mouse drag events, it resizes 4 adjacent SWT_AWT instances, and the flickering is *heavy*.

You can see the flickering with the white color (#xffffff), although the background is set to grey.

You are right in comment #7 that a subclass of sun.awt.X11.XEmbeddedFrame does not fix the flickering, at least not with JDK 1.5.

Also, the following do not fix the problem:
  - Use of the SWT.NO_REDRAW_RESIZE flag in the constructor.
  - Use of the SWT.TRANSPARENT flag in the constructor.
  - OS.gtk_widget_set_redraw_on_allocate(composite.handle, false);
  - OS.gtk_fixed_set_has_window(composite.handle, false);

Single-stepping through the code, I found that the flickering occurs in
(or as a consequence of) the call
   OS.gtk_widget_size_allocate (topHandle, allocation);
in Control.java, method
setBounds (int x, int y, int width, int height, boolean move, boolean resize).

I've been looking at the source code of gtk_widget_size_allocate and
gtk_fixed_size_allocate (since the handle is an instance of SwtFixed,
subclass of GtkFixed), but I don't understand where the area is filled with
white color.

Is SwtFixed the right class at all for this? The SWT_AWT.new_Frame method
takes a Composite as argument. A Composite is meant to contain other widgets
and therefore normally paints a background. But here, the entire Composite's
area is covered by the Frame's area, therefore it should not paint a
background. Possibly this could be achieved by using the GTK_NO_WINDOW flag
- but this flag is not used by the implementation of Composite. - Is
SwtFixed or GtkFixed the right type to use here at all?

There's an old post by Havoc Pennington (you won't find a better expert
on Gtk)
  http://dev.eclipse.org/mhonarc/lists/platform-swt-dev/msg00260.html
who explains (AFAIU) that one should use NO_WINDOW in order to avoid flicker.</WithStack>
    <WithOutStack>With SWT from Eclipse 3.1M6 on Linux/x86 with the gtk window system, the 
attached application - which contains three SWT_AWT embedded frames - flickers 
when the SWT application window is resized (both when it is enlarged and also when 
it is shrinked). 
 
To reproduce: 
1) Unpack the attached application. 
2) $ export ECLIPSE_HOME=directory_of_your_eclipse_installation 
3) "ant" 
4) with a JDK 1.5: "ant run" 
5) resize the application window
Created attachment 19817
sample application that uses embedded SWT frames
We believe strongly that the flickering is on the AWT/Swing side.  SSQ to 
provide strategies to reduce this.  Isn't there one on the SWT snippets page?
The strategy from Snippet 154 is already taken into account in the sample. It succeeds to fix the 
problem only on Windows, not on linux-gtk. 
 
This is an AWT problem and I believe there is nothing SWT can do to work around
it. The problem does not happen on because of the AWT system property
"sun.awt.noerasebackground", but this property is only honoured on Windows.

        System.setProperty("sun.awt.noerasebackground", "true");

Here is a simple AWT only example that shows the problem:

public static void main(String[] args) {
    java.awt.Frame frame = new java.awt.Frame();
    java.awt.Panel panel =
        new java.awt.Panel(new BorderLayout()) {
            public void update(java.awt.Graphics g) {
                // Don't erase the background, to decrease flickering.
                paint(g);
            }
        };
    JRootPane root = new JRootPane();
    panel.add(root);
    java.awt.Container contentPane = root.getContentPane();
    JPanel blackPanel = new JPanel();
    blackPanel.setBackground(java.awt.Color.black);
    contentPane.add(blackPanel, BorderLayout.CENTER);
    frame.add(panel);
	frame.setVisible(true);
}
The AWT sample can be changed so that it doesn't show the problem any more: 
 
public static void main(String[] args) { 
    java.awt.Frame frame = 
        new java.awt.Frame() { 
            public void update(java.awt.Graphics g) { 
                // Don't erase the background, to decrease flickering. 
                paint(g); 
            } 
        }; 
    JRootPane root = new JRootPane(); 
    frame.add(root); 
    java.awt.Container contentPane = root.getContentPane(); 
    JPanel blackPanel = new JPanel(); 
    blackPanel.setBackground(java.awt.Color.black); 
    contentPane.add(blackPanel, BorderLayout.CENTER); 
    frame.setVisible(true); 
} 
 
The two tricks to get rid of the flickering are: 
   1) Not to use java.awt.Panel, 
   2) Override the update(Graphics) method of the java.awt.Frame class, to avoid 
      the clearRect call found in java.awt.Container:update(Graphics). 
 
These two tricks can be transposed to the SWT world. Find attached a sample with a class 
FixedXEmbeddedFrame, subclass of sun.awt.X11.XEmbeddedFrame, that overrides the 
update(Graphics) method as needed. This shows that the problem can indeed be fixed. 
 
However, this fix is not satisfactorily deployable on our side, because it is platform dependent: 
  - The class FixedXEmbeddedFrame cannot be compiled on non-X11 platforms. 
  - The comments in class SWT_AWT say that the constructor should take an 'int' on some 
    platforms and a 'long' on others. 
Therefore I believe this fix should best be integrated into SWT, so that code that uses SWT 
can remain platform independent. 
 
Created attachment 19906
Sample without flickering, through a subclass of sun.awt.X11.XEmbeddedFrame
The extra java.awt.Panel is needed with JDK 1.4.2 (at least). The cursor will 
not change to the "resize cursor" when you try to resize the columns of the 
table without the panel (see Bug#58308).

Now, If I put the java.awt.Panel back, the example will still flicker even if 
I subclass XEmbeddedFrame and reimplement update().

sun.awt.X11.XEmbeddedFrame is not public API and there are binary 
incompatability between JREs for the same platform. So how can I have a 
subclass that will work on all JREs, since I have to decide between int or 
long at compile time. Right now, we use reflection to work around this problem.
To make a subclass that works on all JREs, you can either 
   a) Compile the subclass with the 'int' constructor on a platform where 
      sun.awt.X11.XEmbeddedFrame has 'int'; likewise with 'long' on a different 
      platform; then choose the appropriate one at runtime and load it through an 
      extra classloader. Or 
   b) Construct the appropriate subclass entirely at runtime using the Apache BCEL package, 
      parametrizing it with the information about sun.awt.X11.XEmbeddedFrame. 
      The class is converted from a byte[] to a Class object through a custom ClassLoader 
      whose findClass method just calls defineClass of the byte array. 
 
How to solve the conflict between Bug#58308 and this one regarding the extra java.awt.Panel, 
I don't know. 
 
Having different classes at compile time for different platforms was not a 
option in JDK 1.3, because the same platform (Windows) had JREs with different 
WEmbeddedFrame classes. So if we compiled for one jre, we would not be able to 
run in the other jre. This may have change for newer JREs, I would have to 
check.

I believe adding dependence to Apache BCEL package is not a option (over kill).
This bug is still (in Eclipse 3.4M4) a major problem with SWT_AWT on Gtk.

You can easily reproduce it with Albireo: Install Albireo from http://wiki.eclipse.org/Albireo_Download, then launch the examples plugin, and open the "Resize Flickering" view. At every mouse drag events, it resizes 4 adjacent SWT_AWT instances, and the flickering is *heavy*.

You can see the flickering with the white color (#xffffff), although the background is set to grey.

You are right in comment #7 that a subclass of sun.awt.X11.XEmbeddedFrame does not fix the flickering, at least not with JDK 1.5.

Also, the following do not fix the problem:
  - Use of the SWT.NO_REDRAW_RESIZE flag in the constructor.
  - Use of the SWT.TRANSPARENT flag in the constructor.
  - OS.gtk_widget_set_redraw_on_allocate(composite.handle, false);
  - OS.gtk_fixed_set_has_window(composite.handle, false);

Single-stepping through the code, I found that the flickering occurs in
(or as a consequence of) the call
   OS.gtk_widget_size_allocate (topHandle, allocation);
in Control.java, method
setBounds (int x, int y, int width, int height, boolean move, boolean resize).

I've been looking at the source code of gtk_widget_size_allocate and
gtk_fixed_size_allocate (since the handle is an instance of SwtFixed,
subclass of GtkFixed), but I don't understand where the area is filled with
white color.

Is SwtFixed the right class at all for this? The SWT_AWT.new_Frame method
takes a Composite as argument. A Composite is meant to contain other widgets
and therefore normally paints a background. But here, the entire Composite's
area is covered by the Frame's area, therefore it should not paint a
background. Possibly this could be achieved by using the GTK_NO_WINDOW flag
- but this flag is not used by the implementation of Composite. - Is
SwtFixed or GtkFixed the right type to use here at all?

There's an old post by Havoc Pennington (you won't find a better expert
on Gtk)
  http://dev.eclipse.org/mhonarc/lists/platform-swt-dev/msg00260.html
who explains (AFAIU) that one should use NO_WINDOW in order to avoid flicker.</WithOutStack>
  </Bug>
  <Bug>
    <BugId amount="91158" />
    <CreationDate amount="2005-04-12 12:22:00 -0400" />
    <DupId amount="" />
    <classification amount="WebTools" />
    <Product amount="WTP Source Editing" />
    <component amount="wst.sse" />
    <Version amount="0.7" />
    <rep_platform amount="PC" />
    <op_sys amount="Windows XP" />
    <priority amount="P3" />
    <bug_severity amount="normal" />
    <Summery>resource strings for sse</Summery>
    <Patches amount="0" />
    <Stacktraces amount="0" />
    <SourceCodeRegions amount="0" />
    <Enumerations amount="0" />
    <bug_status amount="CLOSED" />
    <resolution amount="FIXED" />
    <WithStack>externalize strings for sse core/ui
Created attachment 19834
org.eclipse.wst.sse.core.patch
Created attachment 19835
org.eclipse.wst.sse.ui.patch
Created attachment 19836
org.eclipse.wst.wsdl.ui.patch
Created attachment 19837
org.eclipse.wst.xsd.ui.patch
-removed getResourceString/Bundle from SSECore/UIPlugin
-created SSECore/UIMessages to handle strings
-ran through externalize strings tool
-removed/commented out unused strings

wsdl.ui and xsd.ui were changed because they were using some sse strings.  The 
fix was to give those plugins their own copy of strings.

David, these patches might not be as clean as the others..but it should just 
be an issue with the SSEUIMessages class/properties file.  But i wanted to at 
least submit everything so that all major changes are in.
Thanks, Amy, I've applied these patches, committed to head and released for
I-build. 
Changed Version field given new release numbering.

Verifying a number of these on Amy's behalf, since she opened and fixed them on
my behalf :) And ... I did review, apply the patches, and confirmed all was well
at the time. Any new "missing resources", etc., would simply be new bugs. 

mass closing verified bugs I own</WithStack>
    <WithOutStack>externalize strings for sse core/ui
Created attachment 19834
org.eclipse.wst.sse.core.patch
Created attachment 19835
org.eclipse.wst.sse.ui.patch
Created attachment 19836
org.eclipse.wst.wsdl.ui.patch
Created attachment 19837
org.eclipse.wst.xsd.ui.patch
-removed getResourceString/Bundle from SSECore/UIPlugin
-created SSECore/UIMessages to handle strings
-ran through externalize strings tool
-removed/commented out unused strings

wsdl.ui and xsd.ui were changed because they were using some sse strings.  The 
fix was to give those plugins their own copy of strings.

David, these patches might not be as clean as the others..but it should just 
be an issue with the SSEUIMessages class/properties file.  But i wanted to at 
least submit everything so that all major changes are in.
Thanks, Amy, I've applied these patches, committed to head and released for
I-build. 
Changed Version field given new release numbering.

Verifying a number of these on Amy's behalf, since she opened and fixed them on
my behalf :) And ... I did review, apply the patches, and confirmed all was well
at the time. Any new "missing resources", etc., would simply be new bugs. 

mass closing verified bugs I own</WithOutStack>
  </Bug>
  <Bug>
    <BugId amount="91159" />
    <CreationDate amount="2005-04-12 12:28:00 -0400" />
    <DupId amount="" />
    <classification amount="Eclipse" />
    <Product amount="Platform" />
    <component amount="SWT" />
    <Version amount="3.1" />
    <rep_platform amount="PC" />
    <op_sys amount="Windows XP" />
    <priority amount="P3" />
    <bug_severity amount="normal" />
    <Summery>[Consistency] DropTarget event.dataType field not alwys set on DragEnter</Summery>
    <Patches amount="0" />
    <Stacktraces amount="0" />
    <SourceCodeRegions amount="0" />
    <Enumerations amount="0" />
    <bug_status amount="RESOLVED" />
    <resolution amount="FIXED" />
    <WithStack>On Windows in DragEnter the event.dataType field is set to the first value in 
the event.dataTypes array.  On Carbon, GTK and Motif, the event.dataType field 
is null.
I was wrong.  The event.dataType is always being set.  I found one case on 
Motif where the operation was not correctly set if no modifier keys were 
selecetd and the DEFAULT flag was not set - fixed for 3.1 M7.  Apart from 
that, all looks good.</WithStack>
    <WithOutStack>On Windows in DragEnter the event.dataType field is set to the first value in 
the event.dataTypes array.  On Carbon, GTK and Motif, the event.dataType field 
is null.
I was wrong.  The event.dataType is always being set.  I found one case on 
Motif where the operation was not correctly set if no modifier keys were 
selecetd and the DEFAULT flag was not set - fixed for 3.1 M7.  Apart from 
that, all looks good.</WithOutStack>
  </Bug>
  <Bug>
    <BugId amount="91160" />
    <CreationDate amount="2005-04-12 12:41:00 -0400" />
    <DupId amount="" />
    <classification amount="Eclipse" />
    <Product amount="JDT" />
    <component amount="Core" />
    <Version amount="3.0.1" />
    <rep_platform amount="PC" />
    <op_sys amount="Windows XP" />
    <priority amount="P3" />
    <bug_severity amount="normal" />
    <Summery>SourceField.getConstant() incorrect for char constants</Summery>
    <Patches amount="0" />
    <Stacktraces amount="0" />
    <SourceCodeRegions amount="1">
      <source_code type="assignment">
        <location start="19" end="52" />
        <code>public static final char c = ' ';</code>
      </source_code>
    </SourceCodeRegions>
    <Enumerations amount="0" />
    <bug_status amount="VERIFIED" />
    <resolution amount="FIXED" />
    <WithStack>If I have a field:
public static final char c = ' ';

getConstant() on the SourceField returns ' (the single quote character) instead
of the space character.
Reproduced.
Fixed and released in HEAD.
Add regression test in GetSourceTests.testFieldConstant() method
(field4/field5/field6).
Verified for 3.1 M7 using build I20050512-2035 + jdt.core HEAD.</WithStack>
    <WithOutStack>If I have a field:
public static final char c = ' ';

getConstant() on the SourceField returns ' (the single quote character) instead
of the space character.
Reproduced.
Fixed and released in HEAD.
Add regression test in GetSourceTests.testFieldConstant() method
(field4/field5/field6).
Verified for 3.1 M7 using build I20050512-2035 + jdt.core HEAD.</WithOutStack>
  </Bug>
  <Bug>
    <BugId amount="91161" />
    <CreationDate amount="2005-04-12 12:44:00 -0400" />
    <DupId amount="" />
    <classification amount="Eclipse" />
    <Product amount="Platform" />
    <component amount="UI" />
    <Version amount="3.1" />
    <rep_platform amount="PC" />
    <op_sys amount="Windows XP" />
    <priority amount="P3" />
    <bug_severity amount="normal" />
    <Summery>[DnD] ViewerDropAdapter fails for multiple data types</Summery>
    <Patches amount="0" />
    <Stacktraces amount="0" />
    <SourceCodeRegions amount="0" />
    <Enumerations amount="0" />
    <bug_status amount="ASSIGNED" />
    <resolution amount="" />
    <WithStack>Version: 3.1.0
Build id: I20050405-0800

In ViewerDropAdapter there is no way for subclasses to change the 
event.currentDataType field based on items in event.dataTypes.

In all of the drop target events except for drop, the application should be 
able to iterate through the list of available types and choose the type most 
suited for the current target.  They do this checking the event.dataTypes 
array and assigning to event.currentDataType one of the values in 
event.dataTypes.

In ViewerDropAdapter, the method validateDrop is called.  It does not pass on 
the event.dataTypes field.  Also, it passes on the event.currentDataType only 
as an input parameter.  As a result, views can not choose between a variety of 
available types.

I agree but this is an API change...how do folks here approach such issues ??


Another reason to revamp the current DnD stategy...</WithStack>
    <WithOutStack>Version: 3.1.0
Build id: I20050405-0800

In ViewerDropAdapter there is no way for subclasses to change the 
event.currentDataType field based on items in event.dataTypes.

In all of the drop target events except for drop, the application should be 
able to iterate through the list of available types and choose the type most 
suited for the current target.  They do this checking the event.dataTypes 
array and assigning to event.currentDataType one of the values in 
event.dataTypes.

In ViewerDropAdapter, the method validateDrop is called.  It does not pass on 
the event.dataTypes field.  Also, it passes on the event.currentDataType only 
as an input parameter.  As a result, views can not choose between a variety of 
available types.

I agree but this is an API change...how do folks here approach such issues ??


Another reason to revamp the current DnD stategy...</WithOutStack>
  </Bug>
  <Bug>
    <BugId amount="91162" />
    <CreationDate amount="2005-04-12 13:06:00 -0400" />
    <DupId amount="" />
    <classification amount="Eclipse Foundation" />
    <Product amount="z_Archived" />
    <component amount="Hyades" />
    <Version amount="unspecified" />
    <rep_platform amount="PC" />
    <op_sys amount="Windows XP" />
    <priority amount="P3" />
    <bug_severity amount="normal" />
    <Summery>(Test) Test Generation support formalized Connection Start Time (bugzilla 89968)</Summery>
    <Patches amount="0" />
    <Stacktraces amount="0" />
    <SourceCodeRegions amount="0" />
    <Enumerations amount="0" />
    <bug_status amount="CLOSED" />
    <resolution amount="FIXED" />
    <WithStack>Test Generation must support the new Connection Start Time packet of 
information that will be introduced with Bugzilla defect 89968.  Decided to 
track this item separately rather than including it in 89968 because resources 
to fix this may be different.
This defect depends on 89968.

[ sizing = 4 days ]
I will take this one.
I fixed this in TPTP 3.3 on April 20, 2005.  The new record is a TRCConection 
record with type="START".  I have tested this and found that it ignores the 
new message (as hoped) and works correctly.
As of TPTP 4.6.0, TPTP is in maintenance mode and focusing on improving quality by resolving relevant enhancements/defects and increasing test coverage through test creation, automation, Build Verification Tests (BVTs), and expanded run-time execution. As part of the TPTP Bugzilla housecleaning process (see http://wiki.eclipse.org/Bugzilla_Housecleaning_Processes), this enhancement/defect is verified/closed by the Project Lead since this enhancement/defect has been resolved and unverified for more than 1 year and considered to be fixed. If this enhancement/defect is still unresolved and reproducible in the latest TPTP release (http://www.eclipse.org/tptp/home/downloads/), please re-open.</WithStack>
    <WithOutStack>Test Generation must support the new Connection Start Time packet of 
information that will be introduced with Bugzilla defect 89968.  Decided to 
track this item separately rather than including it in 89968 because resources 
to fix this may be different.
This defect depends on 89968.

[ sizing = 4 days ]
I will take this one.
I fixed this in TPTP 3.3 on April 20, 2005.  The new record is a TRCConection 
record with type="START".  I have tested this and found that it ignores the 
new message (as hoped) and works correctly.
As of TPTP 4.6.0, TPTP is in maintenance mode and focusing on improving quality by resolving relevant enhancements/defects and increasing test coverage through test creation, automation, Build Verification Tests (BVTs), and expanded run-time execution. As part of the TPTP Bugzilla housecleaning process (see http://wiki.eclipse.org/Bugzilla_Housecleaning_Processes), this enhancement/defect is verified/closed by the Project Lead since this enhancement/defect has been resolved and unverified for more than 1 year and considered to be fixed. If this enhancement/defect is still unresolved and reproducible in the latest TPTP release (http://www.eclipse.org/tptp/home/downloads/), please re-open.</WithOutStack>
  </Bug>
  <Bug>
    <BugId amount="91163" />
    <CreationDate amount="2005-04-12 13:09:00 -0400" />
    <DupId amount="" />
    <classification amount="Tools" />
    <Product amount="CDT" />
    <component amount="cdt-core" />
    <Version amount="3.0" />
    <rep_platform amount="PC" />
    <op_sys amount="Windows XP" />
    <priority amount="P3" />
    <bug_severity amount="normal" />
    <Summery>Non persistent preferences for Hover and Code-Folding</Summery>
    <Patches amount="0" />
    <Stacktraces amount="0" />
    <SourceCodeRegions amount="0" />
    <Enumerations amount="0" />
    <bug_status amount="CLOSED" />
    <resolution amount="FIXED" />
    <WithStack>Since some builds now, there are preference pages for "Hovers"-&gt;"Enable editor
problem annotation" and "Folding". When changing something in there, the settings
are not persistent, at least the property page does not know of the settings the
second time opened.
Thanks, for the feedback.
Fix in the head please verify when you can
Well, I have no access to the CVS right now. Hope, it gets into the next build
(is it M6?).
(In reply to comment #3)
&gt; Well, I have no access to the CVS right now. Hope, it gets into the next build
&gt; (is it M6?).

It should the commit was made Tuesday 12 ...
but you never know 8-)
Tried yesterday evening, looks good.</WithStack>
    <WithOutStack>Since some builds now, there are preference pages for "Hovers"-&gt;"Enable editor
problem annotation" and "Folding". When changing something in there, the settings
are not persistent, at least the property page does not know of the settings the
second time opened.
Thanks, for the feedback.
Fix in the head please verify when you can
Well, I have no access to the CVS right now. Hope, it gets into the next build
(is it M6?).
(In reply to comment #3)
&gt; Well, I have no access to the CVS right now. Hope, it gets into the next build
&gt; (is it M6?).

It should the commit was made Tuesday 12 ...
but you never know 8-)
Tried yesterday evening, looks good.</WithOutStack>
  </Bug>
  <Bug>
    <BugId amount="91164" />
    <CreationDate amount="2005-04-12 13:11:00 -0400" />
    <DupId amount="" />
    <classification amount="Tools" />
    <Product amount="CDT" />
    <component amount="cdt-core" />
    <Version amount="3.0" />
    <rep_platform amount="PC" />
    <op_sys amount="Windows XP" />
    <priority amount="P3" />
    <bug_severity amount="normal" />
    <Summery>New Content Assist doesn't work on C files</Summery>
    <Patches amount="0" />
    <Stacktraces amount="0" />
    <SourceCodeRegions amount="0" />
    <Enumerations amount="0" />
    <bug_status amount="RESOLVED" />
    <resolution amount="FIXED" />
    <WithStack>This is to properly address: https://bugs.eclipse.org/bugs/show_bug.cgi?id=91139.
The old one is still fine, actually.
Well, we have some completion now.</WithStack>
    <WithOutStack>This is to properly address: https://bugs.eclipse.org/bugs/show_bug.cgi?id=91139.
The old one is still fine, actually.
Well, we have some completion now.</WithOutStack>
  </Bug>
  <Bug>
    <BugId amount="91165" />
    <CreationDate amount="2005-04-12 13:13:00 -0400" />
    <DupId amount="" />
    <classification amount="Tools" />
    <Product amount="CDT" />
    <component amount="cdt-core" />
    <Version amount="3.0" />
    <rep_platform amount="PC" />
    <op_sys amount="Windows XP" />
    <priority amount="P3" />
    <bug_severity amount="normal" />
    <Summery>Editor Preview in Preferences not updated on Changes</Summery>
    <Patches amount="0" />
    <Stacktraces amount="0" />
    <SourceCodeRegions amount="0" />
    <Enumerations amount="0" />
    <bug_status amount="RESOLVED" />
    <resolution amount="FIXED" />
    <WithStack>In the preferences page too, when setting up syntax highlighting, colors and
font-attributes are not visible when changed. It will update if you select
something else and change it, at good will. Like change the font-attribute
of keywords to darkblue - no change in preview. Select something else, like
comments, change from normal to bold and back, maybe your change of keywords
settings is shown.
Yes, you're rigth.  We'll look into it.
Fix in the head.
Please verify.</WithStack>
    <WithOutStack>In the preferences page too, when setting up syntax highlighting, colors and
font-attributes are not visible when changed. It will update if you select
something else and change it, at good will. Like change the font-attribute
of keywords to darkblue - no change in preview. Select something else, like
comments, change from normal to bold and back, maybe your change of keywords
settings is shown.
Yes, you're rigth.  We'll look into it.
Fix in the head.
Please verify.</WithOutStack>
  </Bug>
  <Bug>
    <BugId amount="91166" />
    <CreationDate amount="2005-04-12 13:13:00 -0400" />
    <DupId amount="" />
    <classification amount="Tools" />
    <Product amount="TPTP Log Analyzer" />
    <component amount="LogAnalyzer.Doc" />
    <Version amount="4.0" />
    <rep_platform amount="PC" />
    <op_sys amount="Windows XP" />
    <priority amount="P3" />
    <bug_severity amount="normal" />
    <Summery>(Mon) org.xml.sax.SAXParseException: Next character must be "=" after attribute name "href".</Summery>
    <Patches amount="0" />
    <Stacktraces amount="1">
      <Stacktrace timestamp="1437341255691">
        <Exception>org.xml.sax.SAXParseException</Exception>
        <Reason>Next character must be "=" after attribute name
"href".</Reason>
        <Frames>
          <Frame depth="0">org.apache.crimson.parser.Parser2.fatal(Parser2.java:3376)</Frame>
          <Frame depth="1">org.apache.crimson.parser.Parser2.fatal(Parser2.java:3370)</Frame>
          <Frame depth="2">org.apache.crimson.parser.Parser2.nextChar(Parser2.java:3292)</Frame>
          <Frame depth="3">org.apache.crimson.parser.Parser2.maybeElement(Parser2.java:1575)</Frame>
          <Frame depth="4">org.apache.crimson.parser.Parser2.content(Parser2.java:1963)</Frame>
          <Frame depth="5">org.apache.crimson.parser.Parser2.maybeElement(Parser2.java:1691)</Frame>
          <Frame depth="6">org.apache.crimson.parser.Parser2.content(Parser2.java:1963)</Frame>
          <Frame depth="7">org.apache.crimson.parser.Parser2.maybeElement(Parser2.java:1691)</Frame>
          <Frame depth="8">org.apache.crimson.parser.Parser2.parseInternal(Parser2.java:667)</Frame>
          <Frame depth="9">org.apache.crimson.parser.Parser2.parse(Parser2.java:337)</Frame>
          <Frame depth="10">org.apache.crimson.parser.XMLReaderImpl.parse(XMLReaderImpl.java:448)</Frame>
          <Frame depth="11">javax.xml.parsers.SAXParser.parse(SAXParser.java:345)</Frame>
          <Frame depth="12">org.eclipse.help.internal.toc.TocFileParser.parse(TocFileParser.java:89)</Frame>
          <Frame depth="13">org.eclipse.help.internal.toc.TocBuilder.buildTocFile(TocBuilder.java:76)</Frame>
          <Frame depth="14">org.eclipse.help.internal.toc.TocFile.build(TocFile.java:112)</Frame>
          <Frame depth="15">org.eclipse.help.internal.toc.TocBuilder.build(TocBuilder.java:58)</Frame>
          <Frame depth="16">org.eclipse.help.internal.toc.TocManager.build(TocManager.java:104)</Frame>
          <Frame depth="17">org.eclipse.help.internal.toc.TocManager.&lt;init&gt;(TocManager.java:42)</Frame>
          <Frame depth="18">org.eclipse.help.internal.HelpPlugin.getTocManager(HelpPlugin.java:123)</Frame>
          <Frame depth="19">org.eclipse.help.internal.search.SearchManager.getIndex(SearchManager.java:48)</Frame>
          <Frame depth="20">org.eclipse.help.internal.search.federated.IndexerJob.run(IndexerJob.java:25)</Frame>
          <Frame depth="21">org.eclipse.core.internal.jobs.Worker.run(Worker.java:67)</Frame>
        </Frames>
      </Stacktrace>
    </Stacktraces>
    <SourceCodeRegions amount="0" />
    <Enumerations amount="0" />
    <bug_status amount="CLOSED" />
    <resolution amount="FIXED" />
    <WithStack>Eclipse 3.1M6 + TPTP-4.0-200504050020.

!MESSAGE Error loading Table of Contents file
/org.eclipse.tptp.monitoring.doc.user/gla_toc.xml.
!STACK 0
org.xml.sax.SAXParseException: Next character must be "=" after attribute name
"href".
        at org.apache.crimson.parser.Parser2.fatal(Parser2.java:3376)
        at org.apache.crimson.parser.Parser2.fatal(Parser2.java:3370)
        at org.apache.crimson.parser.Parser2.nextChar(Parser2.java:3292)
        at org.apache.crimson.parser.Parser2.maybeElement(Parser2.java:1575)
        at org.apache.crimson.parser.Parser2.content(Parser2.java:1963)
        at org.apache.crimson.parser.Parser2.maybeElement(Parser2.java:1691)
        at org.apache.crimson.parser.Parser2.content(Parser2.java:1963)
        at org.apache.crimson.parser.Parser2.maybeElement(Parser2.java:1691)
        at org.apache.crimson.parser.Parser2.parseInternal(Parser2.java:667)
        at org.apache.crimson.parser.Parser2.parse(Parser2.java:337)
        at org.apache.crimson.parser.XMLReaderImpl.parse(XMLReaderImpl.java:448)
        at javax.xml.parsers.SAXParser.parse(SAXParser.java:345)
        at org.eclipse.help.internal.toc.TocFileParser.parse(TocFileParser.java:89)
        at org.eclipse.help.internal.toc.TocBuilder.buildTocFile(TocBuilder.java:76)
        at org.eclipse.help.internal.toc.TocFile.build(TocFile.java:112)
        at org.eclipse.help.internal.toc.TocBuilder.build(TocBuilder.java:58)
        at org.eclipse.help.internal.toc.TocManager.build(TocManager.java:104)
        at org.eclipse.help.internal.toc.TocManager.&lt;init&gt;(TocManager.java:42)
        at org.eclipse.help.internal.HelpPlugin.getTocManager(HelpPlugin.java:123)
        at
org.eclipse.help.internal.search.SearchManager.getIndex(SearchManager.java:48)
        at
org.eclipse.help.internal.search.federated.IndexerJob.run(IndexerJob.java:25)
        at org.eclipse.core.internal.jobs.Worker.run(Worker.java:67)
Parse Aborted: Encountered "&lt;EOF&gt;" at line 33, column 9.
Was expecting:
    &lt;CloseQuote2&gt; ...
Nellie, this seems to be doc related, if I am not mistaken.
Fixed in TPTP 4.0
As of TPTP 4.6.0, TPTP is in maintenance mode and focusing on improving quality by resolving relevant enhancements/defects and increasing test coverage through test creation, automation, Build Verification Tests (BVTs), and expanded run-time execution. As part of the TPTP Bugzilla housecleaning process (see http://wiki.eclipse.org/Bugzilla_Housecleaning_Processes), this enhancement/defect is verified/closed by the Project Lead since this enhancement/defect has been resolved and unverified for more than 1 year and considered to be fixed. If this enhancement/defect is still unresolved and reproducible in the latest TPTP release (http://www.eclipse.org/tptp/home/downloads/), please re-open.</WithStack>
    <WithOutStack>Eclipse 3.1M6 + TPTP-4.0-200504050020.

!MESSAGE Error loading Table of Contents file
/org.eclipse.tptp.monitoring.doc.user/gla_toc.xml.
!STACK 0

Parse Aborted: Encountered "&lt;EOF&gt;" at line 33, column 9.
Was expecting:
    &lt;CloseQuote2&gt; ...
Nellie, this seems to be doc related, if I am not mistaken.
Fixed in TPTP 4.0
As of TPTP 4.6.0, TPTP is in maintenance mode and focusing on improving quality by resolving relevant enhancements/defects and increasing test coverage through test creation, automation, Build Verification Tests (BVTs), and expanded run-time execution. As part of the TPTP Bugzilla housecleaning process (see http://wiki.eclipse.org/Bugzilla_Housecleaning_Processes), this enhancement/defect is verified/closed by the Project Lead since this enhancement/defect has been resolved and unverified for more than 1 year and considered to be fixed. If this enhancement/defect is still unresolved and reproducible in the latest TPTP release (http://www.eclipse.org/tptp/home/downloads/), please re-open.</WithOutStack>
  </Bug>
  <Bug>
    <BugId amount="91167" />
    <CreationDate amount="2005-04-12 13:19:00 -0400" />
    <DupId amount="" />
    <classification amount="Eclipse" />
    <Product amount="Platform" />
    <component amount="Update  (deprecated - use RT&gt;Equinox&gt;p2)" />
    <Version amount="3.1" />
    <rep_platform amount="PC" />
    <op_sys amount="Windows XP" />
    <priority amount="P3" />
    <bug_severity amount="enhancement" />
    <Summery>Spoof eclipse specific user agent when communication via HTTP</Summery>
    <Patches amount="0" />
    <Stacktraces amount="0" />
    <SourceCodeRegions amount="0" />
    <Enumerations amount="0" />
    <bug_status amount="RESOLVED" />
    <resolution amount="WONTFIX" />
    <WithStack>Some webhosts (e.g. Textdrive) block access to the generic, java version
specific user agent (e.g.  Java/1.4.2_05). Those hosts got hit by spamming
software which also uses the generic java identifier. Eclipse should either use
it's own (e.g. "Eclipse") or spoof a well known browser user agent.
True, but if some the spamming software decides to change their user agent 
to 'Eclipse' then we need to change it again. Using a browser agent may be 
better.
This is currently an isolated case, and we don't know what happen if the user 
agent is changed, so this one may need to wait a bit.
This is a mass update of Platform Update bugs that have had no activity in three years. Platform Update was replaced in Eclipse 3.4 (2008) by a new provisioning system called Equinox p2. If this bug or enhancement is not already addressed in p2 please enter a new bug report against p2 (RT &gt; Equinox &gt; p2). If you still want to see this bug addressed in the deprecated Platform Update component, please reopen this bug. Patches welcome.</WithStack>
    <WithOutStack>Some webhosts (e.g. Textdrive) block access to the generic, java version
specific user agent (e.g.  Java/1.4.2_05). Those hosts got hit by spamming
software which also uses the generic java identifier. Eclipse should either use
it's own (e.g. "Eclipse") or spoof a well known browser user agent.
True, but if some the spamming software decides to change their user agent 
to 'Eclipse' then we need to change it again. Using a browser agent may be 
better.
This is currently an isolated case, and we don't know what happen if the user 
agent is changed, so this one may need to wait a bit.
This is a mass update of Platform Update bugs that have had no activity in three years. Platform Update was replaced in Eclipse 3.4 (2008) by a new provisioning system called Equinox p2. If this bug or enhancement is not already addressed in p2 please enter a new bug report against p2 (RT &gt; Equinox &gt; p2). If you still want to see this bug addressed in the deprecated Platform Update component, please reopen this bug. Patches welcome.</WithOutStack>
  </Bug>
  <Bug>
    <BugId amount="91168" />
    <CreationDate amount="2005-04-12 13:24:00 -0400" />
    <DupId amount="" />
    <classification amount="Tools" />
    <Product amount="CDT" />
    <component amount="cdt-core" />
    <Version amount="3.0" />
    <rep_platform amount="PC" />
    <op_sys amount="Windows XP" />
    <priority amount="P3" />
    <bug_severity amount="trivial" />
    <Summery>In C-Editor Context menu has two entries without proper description</Summery>
    <Patches amount="0" />
    <Stacktraces amount="0" />
    <SourceCodeRegions amount="0" />
    <Enumerations amount="1">
      <Enumeration lines="4">
        <Lines>
          <Line>- GotoNextMember.label</Line>
          <Line>- GotoPrevMember.label</Line>
          <Line>Noted, thanks.</Line>
          <Line>Fix in the head.</Line>
        </Lines>
      </Enumeration>
    </Enumerations>
    <bug_status amount="RESOLVED" />
    <resolution amount="FIXED" />
    <WithStack>Missing real menu text for
- GotoNextMember.label
- GotoPrevMember.label
Noted, thanks.
Fix in the head.

Please verify.</WithStack>
    <WithOutStack>Missing real menu text for
- GotoNextMember.label
- GotoPrevMember.label
Noted, thanks.
Fix in the head.

Please verify.</WithOutStack>
  </Bug>
  <Bug>
    <BugId amount="91169" />
    <CreationDate amount="2005-04-12 13:26:00 -0400" />
    <DupId amount="" />
    <classification amount="Eclipse" />
    <Product amount="JDT" />
    <component amount="Text" />
    <Version amount="3.1" />
    <rep_platform amount="Sun" />
    <op_sys amount="Solaris-GTK" />
    <priority amount="P3" />
    <bug_severity amount="normal" />
    <Summery>[key binding] Delete key does not work in Java Editor</Summery>
    <Patches amount="0" />
    <Stacktraces amount="0" />
    <SourceCodeRegions amount="0" />
    <Enumerations amount="1">
      <Enumeration lines="5">
        <Lines>
          <Line>- is it the 'Delete' or the backspace key?</Line>
          <Line>- once the key stops working,</Line>
          <Line>- does the key still work in other Eclipse editors, e.g. Text editor?</Line>
          <Line>- does the key still work in Eclipse dialogs?</Line>
          <Line>- does close and reopen the Java editor fix the problem?</Line>
        </Lines>
      </Enumeration>
    </Enumerations>
    <bug_status amount="RESOLVED" />
    <resolution amount="INVALID" />
    <WithStack>Build: 3.1M6

The delete key stops functioning while using eclipse.  If one closes and starts
eclipse the delete key starts working again.  I am not sure what I did, or the
sequence of steps that lead to this, but it did happen to me 5-6 times since I
started using eclipse 3.1M6.

Let me know if you need any log files or details of the configuration I am
using.
Moving to JDT/UI
- is it the 'Delete' or the backspace key?
- once the key stops working,
  - does the key still work in other Eclipse editors, e.g. Text editor?
  - does the key still work in Eclipse dialogs?
  - does close and reopen the Java editor fix the problem?

Please reopen the bug report after providing above info together with the .log file.







(In reply to comment #0)
&gt; Build: 3.1M6
&gt; 
&gt; The delete key stops functioning while using eclipse.  If one closes and starts
&gt; eclipse the delete key starts working again.  I am not sure what I did, or the
&gt; sequence of steps that lead to this, but it did happen to me 5-6 times since I
&gt; started using eclipse 3.1M6.
&gt; 
&gt; Let me know if you need any log files or details of the configuration I am
&gt; using.


Where can I find the .log file? Sorry, I am not too familiar with the Eclipse
internals?
see:
http://dev.eclipse.org/viewcvs/index.cgi/%7Echeckout%7E/platform-text-home/development/bug-incomplete.htm
Get rid of deprecated state.
.</WithStack>
    <WithOutStack>Build: 3.1M6

The delete key stops functioning while using eclipse.  If one closes and starts
eclipse the delete key starts working again.  I am not sure what I did, or the
sequence of steps that lead to this, but it did happen to me 5-6 times since I
started using eclipse 3.1M6.

Let me know if you need any log files or details of the configuration I am
using.
Moving to JDT/UI
- is it the 'Delete' or the backspace key?
- once the key stops working,
  - does the key still work in other Eclipse editors, e.g. Text editor?
  - does the key still work in Eclipse dialogs?
  - does close and reopen the Java editor fix the problem?

Please reopen the bug report after providing above info together with the .log file.







(In reply to comment #0)
&gt; Build: 3.1M6
&gt; 
&gt; The delete key stops functioning while using eclipse.  If one closes and starts
&gt; eclipse the delete key starts working again.  I am not sure what I did, or the
&gt; sequence of steps that lead to this, but it did happen to me 5-6 times since I
&gt; started using eclipse 3.1M6.
&gt; 
&gt; Let me know if you need any log files or details of the configuration I am
&gt; using.


Where can I find the .log file? Sorry, I am not too familiar with the Eclipse
internals?
see:
http://dev.eclipse.org/viewcvs/index.cgi/%7Echeckout%7E/platform-text-home/development/bug-incomplete.htm
Get rid of deprecated state.
.</WithOutStack>
  </Bug>
  <Bug>
    <BugId amount="91170" />
    <CreationDate amount="2005-04-12 13:29:00 -0400" />
    <DupId amount="" />
    <classification amount="Eclipse" />
    <Product amount="Platform" />
    <component amount="Resources" />
    <Version amount="3.1" />
    <rep_platform amount="PC" />
    <op_sys amount="Windows XP" />
    <priority amount="P3" />
    <bug_severity amount="major" />
    <Summery>IResource.exists() is inconsistent with filesystem after project refresh</Summery>
    <Patches amount="0" />
    <Stacktraces amount="0" />
    <SourceCodeRegions amount="8">
      <source_code type="package">
        <location start="315" end="349" />
        <code>package org.eclipse.jdt.apt.tests;</code>
      </source_code>
      <source_code type="import">
        <location start="350" end="371" />
        <code>import java.io.File;</code>
      </source_code>
      <source_code type="import">
        <location start="372" end="417" />
        <code>import org.eclipse.core.resources.IResource;</code>
      </source_code>
      <source_code type="import">
        <location start="418" end="459" />
        <code>import org.eclipse.jdt.core.IJavaProject;</code>
      </source_code>
      <source_code type="import">
        <location start="460" end="523" />
        <code>import org.eclipse.jdt.core.tests.model.ModifyingResourceTests;</code>
      </source_code>
      <source_code type="class">
        <location start="525" end="1346" />
        <code>public class WorkspaceFileTest extends ModifyingResourceTests
{
    public static final String	TEST_PROJECT	= "WorkspaceFileTestProject";

    public WorkspaceFileTest(String name)
    {
        super( name );
    }

    public void testResourceFileSystemConsistent() throws Throwable
    {
        try
        {
            final IJavaProject project = createJavaProject( TEST_PROJECT,
                new String[] { "src" }, new String[] { "JCL15_LIB" }, "bin",
                "1.5" );

            project.getProject().refreshLocal( IResource.DEPTH_INFINITE, 
null );

            IResource r = project.getResource();
            File f = r.getFullPath().toFile();
			
            assertTrue( r.exists() == f.exists() );
        }
        finally
        {
            deleteProject( TEST_PROJECT );
        }
    }
}</code>
      </source_code>
      <source_code type="assignment">
        <location start="1371" end="1407" />
        <code>File f = r.getFullPath().toFile();</code>
      </source_code>
      <source_code type="assignment">
        <location start="1658" end="1694" />
        <code>File f = r.getLocation().toFile();</code>
      </source_code>
    </SourceCodeRegions>
    <Enumerations amount="0" />
    <bug_status amount="RESOLVED" />
    <resolution amount="INVALID" />
    <WithStack>See junit test below.  The test fails on my machine.  Specifically, for a 
given resource r, r.exists() != r.getFullPath().toFile().exists().  This is 
true after a project.refreshLocal(...) call.  

I'm told I should enter a bug on this.  Please ping me with questions if you 
can't repro.

Thanks!

Mike Kaufman

package org.eclipse.jdt.apt.tests;

import java.io.File;

import org.eclipse.core.resources.IResource;
import org.eclipse.jdt.core.IJavaProject;
import org.eclipse.jdt.core.tests.model.ModifyingResourceTests;

public class WorkspaceFileTest extends ModifyingResourceTests
{
    public static final String	TEST_PROJECT	= "WorkspaceFileTestProject";

    public WorkspaceFileTest(String name)
    {
        super( name );
    }

    public void testResourceFileSystemConsistent() throws Throwable
    {
        try
        {
            final IJavaProject project = createJavaProject( TEST_PROJECT,
                new String[] { "src" }, new String[] { "JCL15_LIB" }, "bin",
                "1.5" );

            project.getProject().refreshLocal( IResource.DEPTH_INFINITE, 
null );

            IResource r = project.getResource();
            File f = r.getFullPath().toFile();
			
            assertTrue( r.exists() == f.exists() );
        }
        finally
        {
            deleteProject( TEST_PROJECT );
        }
    }
}
This line is incorrect:
  File f = r.getFullPath().toFile();

IResource#getFullPath() returns the path of the resource in the workspace. In
this case, it will return: "/WorkspaceFileTestProject". If you are looking for
the file-system path, then you should be calling #getLocation.

Changing the above line to:
  File f = r.getLocation().toFile();
allows your test case to pass.</WithStack>
    <WithOutStack>See junit test below.  The test fails on my machine.  Specifically, for a 
given resource r, r.exists() != r.getFullPath().toFile().exists().  This is 
true after a project.refreshLocal(...) call.  

I'm told I should enter a bug on this.  Please ping me with questions if you 
can't repro.

Thanks!

Mike Kaufman

package org.eclipse.jdt.apt.tests;

import java.io.File;

import org.eclipse.core.resources.IResource;
import org.eclipse.jdt.core.IJavaProject;
import org.eclipse.jdt.core.tests.model.ModifyingResourceTests;

public class WorkspaceFileTest extends ModifyingResourceTests
{
    public static final String	TEST_PROJECT	= "WorkspaceFileTestProject";

    public WorkspaceFileTest(String name)
    {
        super( name );
    }

    public void testResourceFileSystemConsistent() throws Throwable
    {
        try
        {
            final IJavaProject project = createJavaProject( TEST_PROJECT,
                new String[] { "src" }, new String[] { "JCL15_LIB" }, "bin",
                "1.5" );

            project.getProject().refreshLocal( IResource.DEPTH_INFINITE, 
null );

            IResource r = project.getResource();
            File f = r.getFullPath().toFile();
			
            assertTrue( r.exists() == f.exists() );
        }
        finally
        {
            deleteProject( TEST_PROJECT );
        }
    }
}
This line is incorrect:
  File f = r.getFullPath().toFile();

IResource#getFullPath() returns the path of the resource in the workspace. In
this case, it will return: "/WorkspaceFileTestProject". If you are looking for
the file-system path, then you should be calling #getLocation.

Changing the above line to:
  File f = r.getLocation().toFile();
allows your test case to pass.</WithOutStack>
  </Bug>
  <Bug>
    <BugId amount="91171" />
    <CreationDate amount="2005-04-12 13:33:00 -0400" />
    <DupId amount="89991" />
    <classification amount="Eclipse" />
    <Product amount="Platform" />
    <component amount="Team" />
    <Version amount="3.1" />
    <rep_platform amount="Sun" />
    <op_sys amount="Solaris-GTK" />
    <priority amount="P3" />
    <bug_severity amount="normal" />
    <Summery>Eclipse hangs when trying to compare a revision from CVS</Summery>
    <Patches amount="0" />
    <Stacktraces amount="0" />
    <SourceCodeRegions amount="0" />
    <Enumerations amount="1">
      <Enumeration lines="7">
        <Lines>
          <Line>1. Start eclipse</Line>
          <Line>2. Open the synchronization view (do not update the project)</Line>
          <Line>3. Right click on any file that is under version control and choose "Compare</Line>
          <Line>with Revision" or "Compare with latest from branch ..".</Line>
          <Line>4. You will then be prompted to enter your username/pwd for the cvs server.</Line>
          <Line>Enter the correct username/pwd and close the login dialg.</Line>
          <Line>5. Eclipse tries to open the comparator editor and then hangs.</Line>
        </Lines>
      </Enumeration>
    </Enumerations>
    <bug_status amount="RESOLVED" />
    <resolution amount="DUPLICATE" />
    <WithStack>Build: 3.1M6 (using Java 1.5)

Eclipse hangs while trying to compare a file with the latest revision from CVS. 
I am able to replicate the problem by following the steps below,

1. Start eclipse
2. Open the synchronization view (do not update the project)
3. Right click on any file that is under version control and choose "Compare
with Revision" or "Compare with latest from branch ..".  
4. You will then be prompted to enter your username/pwd for the cvs server.
Enter the correct username/pwd and close the login dialg.
5. Eclipse tries to open the comparator editor and then hangs.

This behavior is not seen if you do an update before doing the compare
operation.

Please let me know if you need more information on how to replicate this
behavior.
Could you please provide a thread dump when it is hanging?

Moving to Platform/Team for investigation.
Although not technically a duplicate of bug 89991, the solution to that bug 
fixes this as well.

*** This bug has been marked as a duplicate of 89991 ***</WithStack>
    <WithOutStack>Build: 3.1M6 (using Java 1.5)

Eclipse hangs while trying to compare a file with the latest revision from CVS. 
I am able to replicate the problem by following the steps below,

1. Start eclipse
2. Open the synchronization view (do not update the project)
3. Right click on any file that is under version control and choose "Compare
with Revision" or "Compare with latest from branch ..".  
4. You will then be prompted to enter your username/pwd for the cvs server.
Enter the correct username/pwd and close the login dialg.
5. Eclipse tries to open the comparator editor and then hangs.

This behavior is not seen if you do an update before doing the compare
operation.

Please let me know if you need more information on how to replicate this
behavior.
Could you please provide a thread dump when it is hanging?

Moving to Platform/Team for investigation.
Although not technically a duplicate of bug 89991, the solution to that bug 
fixes this as well.

*** This bug has been marked as a duplicate of 89991 ***</WithOutStack>
  </Bug>
  <Bug>
    <BugId amount="91172" />
    <CreationDate amount="2005-04-12 13:35:00 -0400" />
    <DupId amount="" />
    <classification amount="Eclipse Foundation" />
    <Product amount="z_Archived" />
    <component amount="VE" />
    <Version amount="unspecified" />
    <rep_platform amount="PC" />
    <op_sys amount="Windows XP" />
    <priority amount="P3" />
    <bug_severity amount="normal" />
    <Summery>NPE on a reload</Summery>
    <Patches amount="0" />
    <Stacktraces amount="5">
      <Stacktrace timestamp="1437341255700">
        <Exception>java.lang.IllegalArgumentException</Exception>
        <Reason>argument type mismatch</Reason>
        <Frames>
          <Frame depth="0">sun.reflect.NativeMethodAccessorImpl.invoke0(Native Method)</Frame>
          <Frame depth="1">sun.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:39)</Frame>
          <Frame depth="2">sun.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:25)</Frame>
          <Frame depth="3">java.lang.reflect.Method.invoke(Method.java:324)</Frame>
          <Frame depth="4">org.eclipse.jem.internal.proxy.vm.remote.ConnectionHandler.run(ConnectionHandler.java:316)</Frame>
          <Frame depth="5">org.eclipse.jem.internal.proxy.vm.remote.CallbackHandler.callbackWithParms(CallbackHandler.java:153)</Frame>
          <Frame depth="6">org.eclipse.ve.internal.swt.targetvm.DisplayExec$1.run(DisplayExec.java:109)</Frame>
          <Frame depth="7">org.eclipse.jem.internal.proxy.vm.remote.RemoteVMServerThread.doCallback(RemoteVMServerThread.java:493)</Frame>
          <Frame depth="8">org.eclipse.ve.internal.swt.targetvm.DisplayExec$ExecRunnable.run(DisplayExec.java:107)</Frame>
          <Frame depth="9">org.eclipse.swt.widgets.RunnableLock.run(RunnableLock.java:35)</Frame>
          <Frame depth="10">org.eclipse.swt.widgets.Synchronizer.runAsyncMessages(Synchronizer.java:118)</Frame>
          <Frame depth="11">org.eclipse.swt.widgets.Display.runAsyncMessages(Display.java:2871)</Frame>
          <Frame depth="12">org.eclipse.swt.widgets.Display.readAndDispatch(Display.java:2530)</Frame>
          <Frame depth="13">org.eclipse.ve.internal.swt.targetvm.Environment$1.run(Environment.java:37)</Frame>
        </Frames>
      </Stacktrace>
      <Stacktrace timestamp="1437341255700">
        <Exception>java.lang.IllegalArgumentException</Exception>
        <Reason>argument type mismatch</Reason>
        <Frames>
          <Frame depth="0">org.eclipse.jem.internal.proxy.remote.REMThrowableBeanTypeProxy.createThrowableBeanProxy(REMThrowableBeanTypeProxy.java:34)</Frame>
          <Frame depth="1">org.eclipse.jem.internal.proxy.remote.REMThrowableBeanTypeProxy.newBeanProxy(REMThrowableBeanTypeProxy.java:65)</Frame>
          <Frame depth="2">org.eclipse.jem.internal.proxy.remote.REMStandardBeanProxyFactory.getBeanProxy(REMStandardBeanProxyFactory.java:454)</Frame>
          <Frame depth="3">org.eclipse.jem.internal.proxy.remote.REMStandardBeanProxyFactory.processErrorReturn(REMStandardBeanProxyFactory.java:505)</Frame>
          <Frame depth="4">org.eclipse.jem.internal.proxy.remote.REMMethodProxy.invoke(REMMethodProxy.java:216)</Frame>
          <Frame depth="5">org.eclipse.jem.internal.proxy.remote.REMMethodProxy.invokeWithParms(REMMethodProxy.java:175)</Frame>
          <Frame depth="6">org.eclipse.jem.internal.proxy.remote.REMMethodProxy.invoke(REMMethodProxy.java:101)</Frame>
          <Frame depth="7">org.eclipse.jem.internal.proxy.remote.REMMethodProxy.invoke(REMMethodProxy.java:221)</Frame>
          <Frame depth="8">org.eclipse.jem.internal.proxy.remote.REMMethodProxy.invokeCatchThrowableExceptions(REMMethodProxy.java:246)</Frame>
          <Frame depth="9">org.eclipse.ve.internal.jface.ViewPartProxyAdapter$1.run(ViewPartProxyAdapter.java:113)</Frame>
          <Frame depth="10">org.eclipse.jem.internal.proxy.swt.DisplayManager$DisplayRunnable.calledBack(DisplayManager.java:116)</Frame>
          <Frame depth="11">org.eclipse.jem.internal.proxy.remote.REMCallbackThread.run(REMCallbackThread.java:160)</Frame>
        </Frames>
      </Stacktrace>
      <Stacktrace timestamp="1437341255700">
        <Exception>org.eclipse.swt.SWTException</Exception>
        <Reason>Widget is disposed</Reason>
        <Frames>
          <Frame depth="0">org.eclipse.swt.SWT.error(SWT.java:2860)</Frame>
          <Frame depth="1">org.eclipse.swt.SWT.error(SWT.java:2783)</Frame>
          <Frame depth="2">org.eclipse.swt.SWT.error(SWT.java:2754)</Frame>
          <Frame depth="3">org.eclipse.swt.widgets.Widget.error(Widget.java:393)</Frame>
          <Frame depth="4">org.eclipse.swt.widgets.Widget.checkWidget(Widget.java:295)</Frame>
          <Frame depth="5">org.eclipse.swt.widgets.Composite.computeSize(Composite.java:201)</Frame>
          <Frame depth="6">org.eclipse.ve.internal.jface.targetvm.ViewPartHost$1.computeSize(ViewPartHost.java:54)</Frame>
          <Frame depth="7">org.eclipse.swt.custom.ViewFormLayout.computeSize(ViewFormLayout.java:68)</Frame>
          <Frame depth="8">org.eclipse.swt.widgets.Composite.computeSize(Composite.java:207)</Frame>
          <Frame depth="9">org.eclipse.swt.custom.CTabFolderLayout.computeSize(CTabFolderLayout.java:53)</Frame>
          <Frame depth="10">org.eclipse.swt.widgets.Composite.computeSize(Composite.java:207)</Frame>
          <Frame depth="11">org.eclipse.swt.layout.FillLayout.computeSize(FillLayout.java:110)</Frame>
          <Frame depth="12">org.eclipse.swt.widgets.Composite.computeSize(Composite.java:207)</Frame>
          <Frame depth="13">org.eclipse.swt.layout.RowLayout.computeSize(RowLayout.java:206)</Frame>
          <Frame depth="14">org.eclipse.swt.layout.RowLayout.layoutHorizontal(RowLayout.java:266)</Frame>
          <Frame depth="15">org.eclipse.swt.layout.RowLayout.layout(RowLayout.java:223)</Frame>
          <Frame depth="16">org.eclipse.swt.widgets.Composite.updateLayout(Composite.java:849)</Frame>
          <Frame depth="17">org.eclipse.swt.widgets.Composite.layout(Composite.java:487)</Frame>
          <Frame depth="18">org.eclipse.swt.widgets.Composite.layout(Composite.java:452)</Frame>
          <Frame depth="19">org.eclipse.ve.internal.jface.targetvm.ViewPartHost.addViewPart(ViewPartHost.java:70)</Frame>
          <Frame depth="20">sun.reflect.NativeMethodAccessorImpl.invoke0(Native Method)</Frame>
          <Frame depth="21">sun.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:39)</Frame>
          <Frame depth="22">sun.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:25)</Frame>
          <Frame depth="23">java.lang.reflect.Method.invoke(Method.java:324)</Frame>
          <Frame depth="24">org.eclipse.jem.internal.proxy.vm.remote.ConnectionHandler.run(ConnectionHandler.java:316)</Frame>
          <Frame depth="25">org.eclipse.jem.internal.proxy.vm.remote.CallbackHandler.callbackWithParms(CallbackHandler.java:153)</Frame>
          <Frame depth="26">org.eclipse.ve.internal.swt.targetvm.DisplayExec$1.run(DisplayExec.java:109)</Frame>
          <Frame depth="27">org.eclipse.jem.internal.proxy.vm.remote.RemoteVMServerThread.doCallback(RemoteVMServerThread.java:493)</Frame>
          <Frame depth="28">org.eclipse.ve.internal.swt.targetvm.DisplayExec$ExecRunnable.run(DisplayExec.java:107)</Frame>
          <Frame depth="29">org.eclipse.swt.widgets.RunnableLock.run(RunnableLock.java:35)</Frame>
          <Frame depth="30">org.eclipse.swt.widgets.Synchronizer.runAsyncMessages(Synchronizer.java:118)</Frame>
          <Frame depth="31">org.eclipse.swt.widgets.Display.runAsyncMessages(Display.java:2871)</Frame>
          <Frame depth="32">org.eclipse.swt.widgets.Display.readAndDispatch(Display.java:2530)</Frame>
          <Frame depth="33">org.eclipse.ve.internal.swt.targetvm.Environment$1.run(Environment.java:37)</Frame>
        </Frames>
      </Stacktrace>
      <Stacktrace timestamp="1437341255700">
        <Exception>org.eclipse.swt.SWTException</Exception>
        <Reason>Widget is disposed</Reason>
        <Frames>
          <Frame depth="0">org.eclipse.jem.internal.proxy.remote.REMThrowableBeanTypeProxy.createThrowableBeanProxy(REMThrowableBeanTypeProxy.java:34)</Frame>
          <Frame depth="1">org.eclipse.jem.internal.proxy.remote.REMThrowableBeanTypeProxy.newBeanProxy(REMThrowableBeanTypeProxy.java:65)</Frame>
          <Frame depth="2">org.eclipse.jem.internal.proxy.remote.REMStandardBeanProxyFactory.getBeanProxy(REMStandardBeanProxyFactory.java:454)</Frame>
          <Frame depth="3">org.eclipse.jem.internal.proxy.remote.REMStandardBeanProxyFactory.processErrorReturn(REMStandardBeanProxyFactory.java:505)</Frame>
          <Frame depth="4">org.eclipse.jem.internal.proxy.remote.REMMethodProxy.invoke(REMMethodProxy.java:216)</Frame>
          <Frame depth="5">org.eclipse.jem.internal.proxy.remote.REMMethodProxy.invokeWithParms(REMMethodProxy.java:175)</Frame>
          <Frame depth="6">org.eclipse.jem.internal.proxy.remote.REMMethodProxy.invoke(REMMethodProxy.java:101)</Frame>
          <Frame depth="7">org.eclipse.jem.internal.proxy.remote.REMMethodProxy.invokeCatchThrowableExceptions(REMMethodProxy.java:236)</Frame>
          <Frame depth="8">org.eclipse.ve.internal.jface.ViewPartProxyAdapter$3.run(ViewPartProxyAdapter.java:283)</Frame>
          <Frame depth="9">org.eclipse.jem.internal.proxy.swt.DisplayManager$DisplayRunnable.calledBack(DisplayManager.java:116)</Frame>
          <Frame depth="10">org.eclipse.jem.internal.proxy.remote.REMCallbackThread.run(REMCallbackThread.java:160)</Frame>
        </Frames>
      </Stacktrace>
      <Stacktrace timestamp="1437341255700">
        <Exception>java.lang.NullPointerException</Exception>
        <Reason />
        <Frames>
          <Frame depth="0">org.eclipse.ve.internal.jface.ViewPartProxyAdapter$3.run(ViewPartProxyAdapter.java:285)</Frame>
          <Frame depth="1">org.eclipse.jem.internal.proxy.swt.DisplayManager$DisplayRunnable.calledBack(DisplayManager.java:116)</Frame>
          <Frame depth="2">org.eclipse.jem.internal.proxy.remote.REMCallbackThread.run(REMCallbackThread.java:160)</Frame>
        </Frames>
      </Stacktrace>
    </Stacktraces>
    <SourceCodeRegions amount="0" />
    <Enumerations amount="0" />
    <bug_status amount="CLOSED" />
    <resolution amount="FIXED" />
    <WithStack>Open the RCPmail template, and press the reload button


!ENTRY org.eclipse.jem.proxy 2 0 2005-04-12 13:33:19.161
!MESSAGE 
!STACK 0
IWAV0073I *** RemoteVM Exception - Trace from Remote VM:
java.lang.IllegalArgumentException: argument type mismatch
	at sun.reflect.NativeMethodAccessorImpl.invoke0(Native Method)
	at sun.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:39)
	at
sun.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:25)
	at java.lang.reflect.Method.invoke(Method.java:324)
	at
org.eclipse.jem.internal.proxy.vm.remote.ConnectionHandler.run(ConnectionHandler.java:316)
	at
org.eclipse.jem.internal.proxy.vm.remote.CallbackHandler.callbackWithParms(CallbackHandler.java:153)
	at org.eclipse.ve.internal.swt.targetvm.DisplayExec$1.run(DisplayExec.java:109)
	at
org.eclipse.jem.internal.proxy.vm.remote.RemoteVMServerThread.doCallback(RemoteVMServerThread.java:493)
	at
org.eclipse.ve.internal.swt.targetvm.DisplayExec$ExecRunnable.run(DisplayExec.java:107)
	at org.eclipse.swt.widgets.RunnableLock.run(RunnableLock.java:35)
	at org.eclipse.swt.widgets.Synchronizer.runAsyncMessages(Synchronizer.java:118)
	at org.eclipse.swt.widgets.Display.runAsyncMessages(Display.java:2871)
	at org.eclipse.swt.widgets.Display.readAndDispatch(Display.java:2530)
	at org.eclipse.ve.internal.swt.targetvm.Environment$1.run(Environment.java:37)
IWAV0074I *** Local StackTrace:
org.eclipse.jem.internal.proxy.remote.REMThrowableBeanProxyProxy:
java.lang.IllegalArgumentException: argument type mismatch
	at
org.eclipse.jem.internal.proxy.remote.REMThrowableBeanTypeProxy.createThrowableBeanProxy(REMThrowableBeanTypeProxy.java:34)
	at
org.eclipse.jem.internal.proxy.remote.REMThrowableBeanTypeProxy.newBeanProxy(REMThrowableBeanTypeProxy.java:65)
	at
org.eclipse.jem.internal.proxy.remote.REMStandardBeanProxyFactory.getBeanProxy(REMStandardBeanProxyFactory.java:454)
	at
org.eclipse.jem.internal.proxy.remote.REMStandardBeanProxyFactory.processErrorReturn(REMStandardBeanProxyFactory.java:505)
	at
org.eclipse.jem.internal.proxy.remote.REMMethodProxy.invoke(REMMethodProxy.java:216)
	at
org.eclipse.jem.internal.proxy.remote.REMMethodProxy.invokeWithParms(REMMethodProxy.java:175)
	at
org.eclipse.jem.internal.proxy.remote.REMMethodProxy.invoke(REMMethodProxy.java:101)
	at
org.eclipse.jem.internal.proxy.remote.REMMethodProxy.invoke(REMMethodProxy.java:221)
	at
org.eclipse.jem.internal.proxy.remote.REMMethodProxy.invokeCatchThrowableExceptions(REMMethodProxy.java:246)
	at
org.eclipse.ve.internal.jface.ViewPartProxyAdapter$1.run(ViewPartProxyAdapter.java:113)
	at
org.eclipse.jem.internal.proxy.swt.DisplayManager$DisplayRunnable.calledBack(DisplayManager.java:116)
	at
org.eclipse.jem.internal.proxy.remote.REMCallbackThread.run(REMCallbackThread.java:160)

!ENTRY org.eclipse.jem.proxy 2 0 2005-04-12 13:33:23.276
!MESSAGE 
!STACK 0
IWAV0073I *** RemoteVM Exception - Trace from Remote VM:
org.eclipse.swt.SWTException: Widget is disposed
	at org.eclipse.swt.SWT.error(SWT.java:2860)
	at org.eclipse.swt.SWT.error(SWT.java:2783)
	at org.eclipse.swt.SWT.error(SWT.java:2754)
	at org.eclipse.swt.widgets.Widget.error(Widget.java:393)
	at org.eclipse.swt.widgets.Widget.checkWidget(Widget.java:295)
	at org.eclipse.swt.widgets.Composite.computeSize(Composite.java:201)
	at
org.eclipse.ve.internal.jface.targetvm.ViewPartHost$1.computeSize(ViewPartHost.java:54)
	at org.eclipse.swt.custom.ViewFormLayout.computeSize(ViewFormLayout.java:68)
	at org.eclipse.swt.widgets.Composite.computeSize(Composite.java:207)
	at org.eclipse.swt.custom.CTabFolderLayout.computeSize(CTabFolderLayout.java:53)
	at org.eclipse.swt.widgets.Composite.computeSize(Composite.java:207)
	at org.eclipse.swt.layout.FillLayout.computeSize(FillLayout.java:110)
	at org.eclipse.swt.widgets.Composite.computeSize(Composite.java:207)
	at org.eclipse.swt.layout.RowLayout.computeSize(RowLayout.java:206)
	at org.eclipse.swt.layout.RowLayout.layoutHorizontal(RowLayout.java:266)
	at org.eclipse.swt.layout.RowLayout.layout(RowLayout.java:223)
	at org.eclipse.swt.widgets.Composite.updateLayout(Composite.java:849)
	at org.eclipse.swt.widgets.Composite.layout(Composite.java:487)
	at org.eclipse.swt.widgets.Composite.layout(Composite.java:452)
	at
org.eclipse.ve.internal.jface.targetvm.ViewPartHost.addViewPart(ViewPartHost.java:70)
	at sun.reflect.NativeMethodAccessorImpl.invoke0(Native Method)
	at sun.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:39)
	at
sun.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:25)
	at java.lang.reflect.Method.invoke(Method.java:324)
	at
org.eclipse.jem.internal.proxy.vm.remote.ConnectionHandler.run(ConnectionHandler.java:316)
	at
org.eclipse.jem.internal.proxy.vm.remote.CallbackHandler.callbackWithParms(CallbackHandler.java:153)
	at org.eclipse.ve.internal.swt.targetvm.DisplayExec$1.run(DisplayExec.java:109)
	at
org.eclipse.jem.internal.proxy.vm.remote.RemoteVMServerThread.doCallback(RemoteVMServerThread.java:493)
	at
org.eclipse.ve.internal.swt.targetvm.DisplayExec$ExecRunnable.run(DisplayExec.java:107)
	at org.eclipse.swt.widgets.RunnableLock.run(RunnableLock.java:35)
	at org.eclipse.swt.widgets.Synchronizer.runAsyncMessages(Synchronizer.java:118)
	at org.eclipse.swt.widgets.Display.runAsyncMessages(Display.java:2871)
	at org.eclipse.swt.widgets.Display.readAndDispatch(Display.java:2530)
	at org.eclipse.ve.internal.swt.targetvm.Environment$1.run(Environment.java:37)
IWAV0074I *** Local StackTrace:
org.eclipse.jem.internal.proxy.remote.REMThrowableBeanProxyProxy:
org.eclipse.swt.SWTException: Widget is disposed
	at
org.eclipse.jem.internal.proxy.remote.REMThrowableBeanTypeProxy.createThrowableBeanProxy(REMThrowableBeanTypeProxy.java:34)
	at
org.eclipse.jem.internal.proxy.remote.REMThrowableBeanTypeProxy.newBeanProxy(REMThrowableBeanTypeProxy.java:65)
	at
org.eclipse.jem.internal.proxy.remote.REMStandardBeanProxyFactory.getBeanProxy(REMStandardBeanProxyFactory.java:454)
	at
org.eclipse.jem.internal.proxy.remote.REMStandardBeanProxyFactory.processErrorReturn(REMStandardBeanProxyFactory.java:505)
	at
org.eclipse.jem.internal.proxy.remote.REMMethodProxy.invoke(REMMethodProxy.java:216)
	at
org.eclipse.jem.internal.proxy.remote.REMMethodProxy.invokeWithParms(REMMethodProxy.java:175)
	at
org.eclipse.jem.internal.proxy.remote.REMMethodProxy.invoke(REMMethodProxy.java:101)
	at
org.eclipse.jem.internal.proxy.remote.REMMethodProxy.invokeCatchThrowableExceptions(REMMethodProxy.java:236)
	at
org.eclipse.ve.internal.jface.ViewPartProxyAdapter$3.run(ViewPartProxyAdapter.java:283)
	at
org.eclipse.jem.internal.proxy.swt.DisplayManager$DisplayRunnable.calledBack(DisplayManager.java:116)
	at
org.eclipse.jem.internal.proxy.remote.REMCallbackThread.run(REMCallbackThread.java:160)

!ENTRY org.eclipse.jem.proxy 2 0 2005-04-12 13:33:24.458
!MESSAGE 
+++ Warning +++: Tue Apr 12 13:33:24 EDT 2005    Project (OriRCP)-VM for
OriRCP:err&gt;org.eclipse.jem.internal.proxy.common.remote.CommandErrorException--
Error code:7 Value data:"null" 

!ENTRY org.eclipse.jem.proxy 2 0 2005-04-12 13:33:25.279
!MESSAGE 
+++ Warning +++: Tue Apr 12 13:33:24 EDT 2005    Project (OriRCP)-VM for OriRCP:err&gt;
    	at
org.eclipse.jem.internal.proxy.common.remote.Commands.readBackValue(Commands.java:1162)
    	at
org.eclipse.jem.internal.proxy.vm.remote.ConnectionHandler.run(ConnectionHandler.java:453)
    	at
org.eclipse.jem.internal.proxy.vm.remote.CallbackHandler.callbackWithParms(CallbackHandler.java:153)
    	at org.eclipse.ve.internal.swt.targetvm.DisplayExec$1.run(DisplayExec.java:109)
    	at
org.eclipse.jem.internal.proxy.vm.remote.RemoteVMServerThread.doCallback(RemoteVMServerThread.java:493)
    	at
org.eclipse.ve.internal.swt.targetvm.DisplayExec$ExecRunnable.run(DisplayExec.java:107)

!ENTRY org.eclipse.ve.java.core 4 0 2005-04-12 13:33:25.289
!MESSAGE Exception thrown.
!STACK 0
java.lang.NullPointerException
	at
org.eclipse.ve.internal.jface.ViewPartProxyAdapter$3.run(ViewPartProxyAdapter.java:285)
	at
org.eclipse.jem.internal.proxy.swt.DisplayManager$DisplayRunnable.calledBack(DisplayManager.java:116)
	at
org.eclipse.jem.internal.proxy.remote.REMCallbackThread.run(REMCallbackThread.java:160)

!ENTRY org.eclipse.jem.proxy 2 0 2005-04-12 13:33:25.940
!MESSAGE 
+++ Warning +++: Tue Apr 12 13:33:25 EDT 2005    Project (OriRCP)-VM for OriRCP:err&gt;
    	at org.eclipse.swt.widgets.RunnableLock.run(RunnableLock.java:35)
    	at org.eclipse.swt.widgets.Synchronizer.runAsyncMessages(Synchronizer.java:118)
    	at org.eclipse.swt.widgets.Display.runAsyncMessages(Display.java:2871)
    	at org.eclipse.swt.widgets.Display.readAndDispatch(Display.java:2530)
    	at org.eclipse.ve.internal.swt.targetvm.Environment$1.run(Environment.java:37)
This was caused because on a releaseBeanProxy() the ViewPartProxyAdapter was
disposing the Composite that it used as the argument to
createPartControl(Composite aComposite) but not the parent CTabFolder that held
onto the trim.  When re-instantiating it tried to re-use the CTabFolder which
caused the target VM to throw an SWTException meaning no Composite was returned
to the ViewPartProxyAdapter meaning it fell over with an NPE.
The fixed code is released.  There are issues however with the targetVM controls
on re-load however where they are OK but then GEF refreshed them incorrectly for
a split second which doesn't look great, and also we have the remaining problem
with the locations being slightly out as not all the correct parent trim is
being applied.  This however is being tracked separately in 091174 so I'll close
out this bug as the re-load NPE no longer occurs.

1.1M1 is out. Time to close.</WithStack>
    <WithOutStack>Open the RCPmail template, and press the reload button


!ENTRY org.eclipse.jem.proxy 2 0 2005-04-12 13:33:19.161
!MESSAGE 
!STACK 0
IWAV0073I *** RemoteVM Exception - Trace from Remote VM:
IWAV0074I *** Local StackTrace:
org.eclipse.jem.internal.proxy.remote.REMThrowableBeanProxyProxy:

!ENTRY org.eclipse.jem.proxy 2 0 2005-04-12 13:33:23.276
!MESSAGE 
!STACK 0
IWAV0073I *** RemoteVM Exception - Trace from Remote VM:
IWAV0074I *** Local StackTrace:
org.eclipse.jem.internal.proxy.remote.REMThrowableBeanProxyProxy:

!ENTRY org.eclipse.jem.proxy 2 0 2005-04-12 13:33:24.458
!MESSAGE 
+++ Warning +++: Tue Apr 12 13:33:24 EDT 2005    Project (OriRCP)-VM for
OriRCP:err&gt;org.eclipse.jem.internal.proxy.common.remote.CommandErrorException--
Error code:7 Value data:"null" 

!ENTRY org.eclipse.jem.proxy 2 0 2005-04-12 13:33:25.279
!MESSAGE 
+++ Warning +++: Tue Apr 12 13:33:24 EDT 2005    Project (OriRCP)-VM for OriRCP:err&gt;
    	at
org.eclipse.jem.internal.proxy.common.remote.Commands.readBackValue(Commands.java:1162)
    	at
org.eclipse.jem.internal.proxy.vm.remote.ConnectionHandler.run(ConnectionHandler.java:453)
    	at
org.eclipse.jem.internal.proxy.vm.remote.CallbackHandler.callbackWithParms(CallbackHandler.java:153)
    	at org.eclipse.ve.internal.swt.targetvm.DisplayExec$1.run(DisplayExec.java:109)
    	at
org.eclipse.jem.internal.proxy.vm.remote.RemoteVMServerThread.doCallback(RemoteVMServerThread.java:493)
    	at
org.eclipse.ve.internal.swt.targetvm.DisplayExec$ExecRunnable.run(DisplayExec.java:107)

!ENTRY org.eclipse.ve.java.core 4 0 2005-04-12 13:33:25.289
!MESSAGE Exception thrown.
!STACK 0


!ENTRY org.eclipse.jem.proxy 2 0 2005-04-12 13:33:25.940
!MESSAGE 
+++ Warning +++: Tue Apr 12 13:33:25 EDT 2005    Project (OriRCP)-VM for OriRCP:err&gt;
    	at org.eclipse.swt.widgets.RunnableLock.run(RunnableLock.java:35)
    	at org.eclipse.swt.widgets.Synchronizer.runAsyncMessages(Synchronizer.java:118)
    	at org.eclipse.swt.widgets.Display.runAsyncMessages(Display.java:2871)
    	at org.eclipse.swt.widgets.Display.readAndDispatch(Display.java:2530)
    	at org.eclipse.ve.internal.swt.targetvm.Environment$1.run(Environment.java:37)
This was caused because on a releaseBeanProxy() the ViewPartProxyAdapter was
disposing the Composite that it used as the argument to
createPartControl(Composite aComposite) but not the parent CTabFolder that held
onto the trim.  When re-instantiating it tried to re-use the CTabFolder which
caused the target VM to throw an SWTException meaning no Composite was returned
to the ViewPartProxyAdapter meaning it fell over with an NPE.
The fixed code is released.  There are issues however with the targetVM controls
on re-load however where they are OK but then GEF refreshed them incorrectly for
a split second which doesn't look great, and also we have the remaining problem
with the locations being slightly out as not all the correct parent trim is
being applied.  This however is being tracked separately in 091174 so I'll close
out this bug as the re-load NPE no longer occurs.

1.1M1 is out. Time to close.</WithOutStack>
  </Bug>
  <Bug>
    <BugId amount="91173" />
    <CreationDate amount="2005-04-12 13:41:00 -0400" />
    <DupId amount="" />
    <classification amount="Tools" />
    <Product amount="CDT" />
    <component amount="cdt-core" />
    <Version amount="3.0" />
    <rep_platform amount="PC" />
    <op_sys amount="Windows XP" />
    <priority amount="P3" />
    <bug_severity amount="normal" />
    <Summery>In the C/C++ Properties, we should remove the enable/disable chechbox for the indexer</Summery>
    <Patches amount="0" />
    <Stacktraces amount="0" />
    <SourceCodeRegions amount="0" />
    <Enumerations amount="0" />
    <bug_status amount="RESOLVED" />
    <resolution amount="FIXED" />
    <WithStack>CDT build 20050412  M6 candidate

In the C/C++ Properties (in the indexer page), we should remove the 
enable/disable checkbox for the indexer.   The combo box acts as the enabler 
of the indexer feature.
Enable checkbox has been removed - in its place there is the No Indexer option.

- BG</WithStack>
    <WithOutStack>CDT build 20050412  M6 candidate

In the C/C++ Properties (in the indexer page), we should remove the 
enable/disable checkbox for the indexer.   The combo box acts as the enabler 
of the indexer feature.
Enable checkbox has been removed - in its place there is the No Indexer option.

- BG</WithOutStack>
  </Bug>
  <Bug>
    <BugId amount="91174" />
    <CreationDate amount="2005-04-12 13:42:00 -0400" />
    <DupId amount="" />
    <classification amount="Eclipse Foundation" />
    <Product amount="z_Archived" />
    <component amount="VE" />
    <Version amount="unspecified" />
    <rep_platform amount="PC" />
    <op_sys amount="Windows XP" />
    <priority amount="P3" />
    <bug_severity amount="normal" />
    <Summery>bounds is not right on a ViewPart</Summery>
    <Patches amount="0" />
    <Stacktraces amount="0" />
    <SourceCodeRegions amount="11">
      <source_code type="functiondef">
        <location start="478" end="511" />
        <code>createPartControl(Composite arg){</code>
      </source_code>
      <source_code type="assignment">
        <location start="512" end="550" />
        <code>top = new Composite(arg,SWT.BORDER);</code>
      </source_code>
      <source_code type="assignment">
        <location start="551" end="587" />
        <code>button = new Button(top,SWT.PUSH);</code>
      </source_code>
      <source_code type="package">
        <location start="1150" end="1166" />
        <code>package testing;</code>
      </source_code>
      <source_code type="import">
        <location start="1167" end="1209" />
        <code>import org.eclipse.swt.widgets.Composite;</code>
      </source_code>
      <source_code type="import">
        <location start="1210" end="1246" />
        <code>import org.eclipse.ui.part.ViewPart;</code>
      </source_code>
      <source_code type="import">
        <location start="1247" end="1285" />
        <code>import org.eclipse.swt.widgets.Button;</code>
      </source_code>
      <source_code type="import">
        <location start="1286" end="1313" />
        <code>import org.eclipse.swt.SWT;</code>
      </source_code>
      <source_code type="import">
        <location start="1314" end="1351" />
        <code>import org.eclipse.swt.graphics.Font;</code>
      </source_code>
      <source_code type="import">
        <location start="1352" end="1391" />
        <code>import org.eclipse.swt.widgets.Display;</code>
      </source_code>
      <source_code type="class">
        <location start="1393" end="2166" />
        <code>public class TestViewPart extends ViewPart {

	public static final String ID = "org.eclipse.ui.part.ViewPart.TestViewPart"; //
TODO Needs to be whatever is mentioned in plugin.xml
	private org.eclipse.swt.widgets.Composite top = null;
	private Button button = null;
	public void createPartControl(Composite parent) {
			// TODO Auto-generated method stub
			top = new Composite(parent, SWT.BORDER);	
			top.setBackground(Display.getDefault().getSystemColor(SWT.COLOR_RED));
			button = new Button(top, SWT.PUSH);
			button.setBounds(new org.eclipse.swt.graphics.Rectangle(2,2,123,69));
			button.setText("Button");
			button.setFont(new Font(Display.getDefault(), "Times New Roman", 14, SWT.BOLD));
		}

	public void setFocus() {
		// TODO Auto-generated method stub

	}

}</code>
      </source_code>
    </SourceCodeRegions>
    <Enumerations amount="0" />
    <bug_status amount="CLOSED" />
    <resolution amount="FIXED" />
    <WithStack>When inside the ViewPart parent, we do not get the right bounds for components
Created attachment 19822
ScreenScrape

ScreenScrape
Sri,
This is proving very tricky for me to pinpoint.  I keep changing my mind about
what is wrong, but it now looks as though the problem is in the way the JBCF
model is being generatred. 
If we have a composite that is a child of the parent argument it is not set up
in the model as being initialized by the createcomposite method.  For example

createPartControl(Composite arg){
  top = new Composite(arg,SWT.BORDER);
  button = new Button(top,SWT.PUSH);

There are 2 members.  The Composite argument, the top Composite and the Button.
 There is one JEMMethodImple for createPartControl.
The arg and button are children of the method but NOT the top.  This means that
the IJavaInstance for the top thinks it is on the free form as its parent is
BeanSubclassComposite.  It therefore gets positioned wrongly.  

My test case is the following code:
Put a breakpoint in ControlProxyAdapter.setTarget(..) and see each of them go
through and look at the eContainer.  You can also show the XML viewer and see
what's wrong.

package testing;

import org.eclipse.swt.widgets.Composite;
import org.eclipse.ui.part.ViewPart;
import org.eclipse.swt.widgets.Button;
import org.eclipse.swt.SWT;
import org.eclipse.swt.graphics.Font;
import org.eclipse.swt.widgets.Display;

public class TestViewPart extends ViewPart {

	public static final String ID = "org.eclipse.ui.part.ViewPart.TestViewPart"; //
TODO Needs to be whatever is mentioned in plugin.xml
	private org.eclipse.swt.widgets.Composite top = null;
	private Button button = null;
	public void createPartControl(Composite parent) {
			// TODO Auto-generated method stub
			top = new Composite(parent, SWT.BORDER);	
			top.setBackground(Display.getDefault().getSystemColor(SWT.COLOR_RED));
			button = new Button(top, SWT.PUSH);
			button.setBounds(new org.eclipse.swt.graphics.Rectangle(2,2,123,69));
			button.setText("Button");
			button.setFont(new Font(Display.getDefault(), "Times New Roman", 14, SWT.BOLD));
		}

	public void setFocus() {
		// TODO Auto-generated method stub

	}

}
Problem with ControlProxyAdapter and the fact it instantiated controls while it
was disposing them because it added them to the free form for a brief period in
time.  This is now fixed (thanks for Rich helping with this)
Also ControlManager on the target VM which now does causes all layouts to be up
to date just after the parent composite is set, which having fixed the first one
with Rich's help became more obvious.
1.1M1 is out. Time to close.</WithStack>
    <WithOutStack>When inside the ViewPart parent, we do not get the right bounds for components
Created attachment 19822
ScreenScrape

ScreenScrape
Sri,
This is proving very tricky for me to pinpoint.  I keep changing my mind about
what is wrong, but it now looks as though the problem is in the way the JBCF
model is being generatred. 
If we have a composite that is a child of the parent argument it is not set up
in the model as being initialized by the createcomposite method.  For example

createPartControl(Composite arg){
  top = new Composite(arg,SWT.BORDER);
  button = new Button(top,SWT.PUSH);

There are 2 members.  The Composite argument, the top Composite and the Button.
 There is one JEMMethodImple for createPartControl.
The arg and button are children of the method but NOT the top.  This means that
the IJavaInstance for the top thinks it is on the free form as its parent is
BeanSubclassComposite.  It therefore gets positioned wrongly.  

My test case is the following code:
Put a breakpoint in ControlProxyAdapter.setTarget(..) and see each of them go
through and look at the eContainer.  You can also show the XML viewer and see
what's wrong.

package testing;

import org.eclipse.swt.widgets.Composite;
import org.eclipse.ui.part.ViewPart;
import org.eclipse.swt.widgets.Button;
import org.eclipse.swt.SWT;
import org.eclipse.swt.graphics.Font;
import org.eclipse.swt.widgets.Display;

public class TestViewPart extends ViewPart {

	public static final String ID = "org.eclipse.ui.part.ViewPart.TestViewPart"; //
TODO Needs to be whatever is mentioned in plugin.xml
	private org.eclipse.swt.widgets.Composite top = null;
	private Button button = null;
	public void createPartControl(Composite parent) {
			// TODO Auto-generated method stub
			top = new Composite(parent, SWT.BORDER);	
			top.setBackground(Display.getDefault().getSystemColor(SWT.COLOR_RED));
			button = new Button(top, SWT.PUSH);
			button.setBounds(new org.eclipse.swt.graphics.Rectangle(2,2,123,69));
			button.setText("Button");
			button.setFont(new Font(Display.getDefault(), "Times New Roman", 14, SWT.BOLD));
		}

	public void setFocus() {
		// TODO Auto-generated method stub

	}

}
Problem with ControlProxyAdapter and the fact it instantiated controls while it
was disposing them because it added them to the free form for a brief period in
time.  This is now fixed (thanks for Rich helping with this)
Also ControlManager on the target VM which now does causes all layouts to be up
to date just after the parent composite is set, which having fixed the first one
with Rich's help became more obvious.
1.1M1 is out. Time to close.</WithOutStack>
  </Bug>
  <Bug>
    <BugId amount="91175" />
    <CreationDate amount="2005-04-12 13:45:00 -0400" />
    <DupId amount="" />
    <classification amount="Eclipse Foundation" />
    <Product amount="z_Archived" />
    <component amount="VE" />
    <Version amount="unspecified" />
    <rep_platform amount="PC" />
    <op_sys amount="Windows XP" />
    <priority amount="P3" />
    <bug_severity amount="normal" />
    <Summery>Image/Title properties for a ViewPart</Summery>
    <Patches amount="0" />
    <Stacktraces amount="0" />
    <SourceCodeRegions amount="0" />
    <Enumerations amount="0" />
    <bug_status amount="CLOSED" />
    <resolution amount="FIXED" />
    <WithStack>We should provide these properties, persisting them, and parsing them from the
manifest.
The plugin.xml is now parsed and if the view is declared the image and name are
read.  The name is shown in the GUI and also in the tree, as is the icon.
If the icon does not exist or fails to load (but is declared) then no icon is
shown in the GUI and the tree shows a default icon.  If there is no plugin.xml
entry then what was shown before remains which is the class name in the GUI and
the "this" label in the tree.  We might want to think about whether or not to
have a different label graphic to show that there is no plugin.xml entry but
maybe defer that to when we allow update of the icon and text to occur.
The name property works directly when it is declared in the XML or within a
bundle.  If the plugin.xml or plugin.properties are changed while the VE is open
a reload from scratch will cause them to be updated.
Updated the targetVM launcher as well so that the icon and name shown here also
come from the plugin.xml if ones are defined
Coolio - need to update the new and NoteWorthy
VE 1.1. releaased. close bug.</WithStack>
    <WithOutStack>We should provide these properties, persisting them, and parsing them from the
manifest.
The plugin.xml is now parsed and if the view is declared the image and name are
read.  The name is shown in the GUI and also in the tree, as is the icon.
If the icon does not exist or fails to load (but is declared) then no icon is
shown in the GUI and the tree shows a default icon.  If there is no plugin.xml
entry then what was shown before remains which is the class name in the GUI and
the "this" label in the tree.  We might want to think about whether or not to
have a different label graphic to show that there is no plugin.xml entry but
maybe defer that to when we allow update of the icon and text to occur.
The name property works directly when it is declared in the XML or within a
bundle.  If the plugin.xml or plugin.properties are changed while the VE is open
a reload from scratch will cause them to be updated.
Updated the targetVM launcher as well so that the icon and name shown here also
come from the plugin.xml if ones are defined
Coolio - need to update the new and NoteWorthy
VE 1.1. releaased. close bug.</WithOutStack>
  </Bug>
  <Bug>
    <BugId amount="91176" />
    <CreationDate amount="2005-04-12 14:13:00 -0400" />
    <DupId amount="89991" />
    <classification amount="Eclipse" />
    <Product amount="Platform" />
    <component amount="CVS" />
    <Version amount="3.1" />
    <rep_platform amount="PC" />
    <op_sys amount="Windows XP" />
    <priority amount="P3" />
    <bug_severity amount="critical" />
    <Summery>File is uneditable if CVS host cannot be located</Summery>
    <Patches amount="0" />
    <Stacktraces amount="0" />
    <SourceCodeRegions amount="0" />
    <Enumerations amount="0" />
    <bug_status amount="RESOLVED" />
    <resolution amount="DUPLICATE" />
    <WithStack>Eclipse 3.1M4.

I have a project on my laptop where all the files are stored in a CVS
repository, and I have the version numbers listed in the navigator. When I start
Eclipse outside of our internal network the name of the CVS server is unknown,
and when I try to edit a Javafile the editor is immediately replaced by an error
page saying that

Could not connect to :pserver:username@cvsserver:2402/cvsroot: Cannot locate
host: cvsserver

This means that Eclipse is unusable if I cannot get access to our internal
network.  It would be fine if it just told me that the cvs server was
unavailable, and skipped all CVS functionality until I told it to try again (An
entry on the Team menu?)


*** This bug has been marked as a duplicate of 89991 ***</WithStack>
    <WithOutStack>Eclipse 3.1M4.

I have a project on my laptop where all the files are stored in a CVS
repository, and I have the version numbers listed in the navigator. When I start
Eclipse outside of our internal network the name of the CVS server is unknown,
and when I try to edit a Javafile the editor is immediately replaced by an error
page saying that

Could not connect to :pserver:username@cvsserver:2402/cvsroot: Cannot locate
host: cvsserver

This means that Eclipse is unusable if I cannot get access to our internal
network.  It would be fine if it just told me that the cvs server was
unavailable, and skipped all CVS functionality until I told it to try again (An
entry on the Team menu?)


*** This bug has been marked as a duplicate of 89991 ***</WithOutStack>
  </Bug>
  <Bug>
    <BugId amount="91177" />
    <CreationDate amount="2005-04-12 14:17:00 -0400" />
    <DupId amount="" />
    <classification amount="Eclipse Foundation" />
    <Product amount="z_Archived" />
    <component amount="Hyades" />
    <Version amount="unspecified" />
    <rep_platform amount="PC" />
    <op_sys amount="Windows XP" />
    <priority amount="P3" />
    <bug_severity amount="critical" />
    <Summery>(Plat) incorrect statistics in trace views</Summery>
    <Patches amount="0" />
    <Stacktraces amount="0" />
    <SourceCodeRegions amount="0" />
    <Enumerations amount="0" />
    <bug_status amount="CLOSED" />
    <resolution amount="FIXED" />
    <WithStack>See bug https://bugs.eclipse.org/bugs/show_bug.cgi?id=91124 for details.
Fix in CVS.
As of TPTP 4.6.0, TPTP is in maintenance mode and focusing on improving quality by resolving relevant enhancements/defects and increasing test coverage through test creation, automation, Build Verification Tests (BVTs), and expanded run-time execution. As part of the TPTP Bugzilla housecleaning process (see http://wiki.eclipse.org/Bugzilla_Housecleaning_Processes), this enhancement/defect is verified/closed by the Project Lead since this originator of this enhancement/defect has an inactive Bugzilla account and considered to be fixed. If this enhancement/defect is still unresolved and reproducible in the latest TPTP release (http://www.eclipse.org/tptp/home/downloads/), please re-open.</WithStack>
    <WithOutStack>See bug https://bugs.eclipse.org/bugs/show_bug.cgi?id=91124 for details.
Fix in CVS.
As of TPTP 4.6.0, TPTP is in maintenance mode and focusing on improving quality by resolving relevant enhancements/defects and increasing test coverage through test creation, automation, Build Verification Tests (BVTs), and expanded run-time execution. As part of the TPTP Bugzilla housecleaning process (see http://wiki.eclipse.org/Bugzilla_Housecleaning_Processes), this enhancement/defect is verified/closed by the Project Lead since this originator of this enhancement/defect has an inactive Bugzilla account and considered to be fixed. If this enhancement/defect is still unresolved and reproducible in the latest TPTP release (http://www.eclipse.org/tptp/home/downloads/), please re-open.</WithOutStack>
  </Bug>
  <Bug>
    <BugId amount="91178" />
    <CreationDate amount="2005-04-12 14:19:00 -0400" />
    <DupId amount="" />
    <classification amount="Eclipse Foundation" />
    <Product amount="z_Archived" />
    <component amount="VE" />
    <Version amount="unspecified" />
    <rep_platform amount="PC" />
    <op_sys amount="Windows XP" />
    <priority amount="P3" />
    <bug_severity amount="normal" />
    <Summery>VE should be able to deal with .java source not in the source folder</Summery>
    <Patches amount="0" />
    <Stacktraces amount="0" />
    <SourceCodeRegions amount="0" />
    <Enumerations amount="0" />
    <bug_status amount="NEW" />
    <resolution amount="" />
    <WithStack>One can create a .java class not in the src. pkg.  In which case VE does not
come up properly.

Need to put a proper warning on VE,
also, not allow (with the visual create wizard) to create such .java source
The New Visual Class Wizard has been changed to detect when the project is a PDE
one and the source folder isn't on the class path.  For non-PDE this is valid
and allowed.
In addition the wizard had another problem fixed where if a template was
selected and then the superclass altered it used to try to use the template with
the wrong superclass and got into trouble.
We should look more into the fact that the Class creation wizard lets a .java
file exist in a non-source folder in a PDE project and this opens OK with the
Java editor but can't browse hierarchy and stuff cause it can't be built.  We
should die softly just in case we are ever manually opened on such a file and
put up some kind of GEF figure error or an error on opening.  Move to unschelded
for this and therefore leaving this bug as open so we can revisit this.</WithStack>
    <WithOutStack>One can create a .java class not in the src. pkg.  In which case VE does not
come up properly.

Need to put a proper warning on VE,
also, not allow (with the visual create wizard) to create such .java source
The New Visual Class Wizard has been changed to detect when the project is a PDE
one and the source folder isn't on the class path.  For non-PDE this is valid
and allowed.
In addition the wizard had another problem fixed where if a template was
selected and then the superclass altered it used to try to use the template with
the wrong superclass and got into trouble.
We should look more into the fact that the Class creation wizard lets a .java
file exist in a non-source folder in a PDE project and this opens OK with the
Java editor but can't browse hierarchy and stuff cause it can't be built.  We
should die softly just in case we are ever manually opened on such a file and
put up some kind of GEF figure error or an error on opening.  Move to unschelded
for this and therefore leaving this bug as open so we can revisit this.</WithOutStack>
  </Bug>
  <Bug>
    <BugId amount="91179" />
    <CreationDate amount="2005-04-12 14:23:00 -0400" />
    <DupId amount="" />
    <classification amount="Eclipse" />
    <Product amount="Platform" />
    <component amount="CVS" />
    <Version amount="3.1" />
    <rep_platform amount="PC" />
    <op_sys amount="Windows XP" />
    <priority amount="P3" />
    <bug_severity amount="normal" />
    <Summery>Can't use CVS in build I20050412-1036</Summery>
    <Patches amount="0" />
    <Stacktraces amount="3">
      <Stacktrace timestamp="1437341255706">
        <Exception>org.osgi.framework.BundleException</Exception>
        <Reason>Exception in 
org.eclipse.team.internal.ccvs.ssh2.CVSSSH2Plugin.stop() of bundle 
org.eclipse.team.cvs.ssh2.</Reason>
        <Frames>
          <Frame depth="0">org.eclipse.osgi.framework.internal.core.BundleContextImpl.stop(BundleContextImpl.java:1051)</Frame>
          <Frame depth="1">org.eclipse.osgi.framework.internal.core.BundleHost.stopWorker(BundleHost.java:402)</Frame>
          <Frame depth="2">org.eclipse.osgi.framework.internal.core.AbstractBundle.stop(AbstractBundle.java:410)</Frame>
          <Frame depth="3">org.eclipse.core.runtime.adaptor.BundleStopper.basicStopBundles(BundleStopper.java:73)</Frame>
          <Frame depth="4">org.eclipse.core.runtime.adaptor.BundleStopper.stopBundles(BundleStopper.java:62)</Frame>
          <Frame depth="5">org.eclipse.core.runtime.adaptor.EclipseAdaptor.frameworkStopping(EclipseAdaptor.java:709)</Frame>
          <Frame depth="6">org.eclipse.osgi.framework.internal.core.Framework.shutdown(Framework.java:502)</Frame>
          <Frame depth="7">org.eclipse.osgi.framework.internal.core.SystemBundle$1.run(SystemBundle.java:171)</Frame>
          <Frame depth="8">java.lang.Thread.run(Thread.java:534)</Frame>
        </Frames>
      </Stacktrace>
      <Cause timestamp="1437341255706">
        <Exception>java.lang.NoClassDefFoundError</Exception>
        <Reason>org/eclipse/team/internal/ccvs/ssh2/JSchSession</Reason>
        <Frames>
          <Frame depth="0">org.eclipse.team.internal.ccvs.ssh2.CVSSSH2Plugin.stop(CVSSSH2Plugin.java:47)</Frame>
          <Frame depth="1">org.eclipse.osgi.framework.internal.core.BundleContextImpl$3.run(BundleContextImpl.java:1035)</Frame>
          <Frame depth="2">java.security.AccessController.doPrivileged(Native Method)</Frame>
          <Frame depth="3">org.eclipse.osgi.framework.internal.core.BundleContextImpl.stop(BundleContextImpl.java:1031)</Frame>
        </Frames>
      </Cause>
      <Stacktrace timestamp="1437341255706">
        <Exception>java.lang.NoClassDefFoundError</Exception>
        <Reason>org/eclipse/team/internal/ccvs/ssh2/JSchSession</Reason>
        <Frames>
          <Frame depth="0">org.eclipse.team.internal.ccvs.ssh2.CVSSSH2Plugin.stop(CVSSSH2Plugin.java:47)</Frame>
          <Frame depth="1">org.eclipse.osgi.framework.internal.core.BundleContextImpl$3.run(BundleContextImpl.java:1035)</Frame>
          <Frame depth="2">java.security.AccessController.doPrivileged(Native Method)</Frame>
          <Frame depth="3">org.eclipse.osgi.framework.internal.core.BundleContextImpl.stop(BundleContextImpl.java:1031)</Frame>
          <Frame depth="4">org.eclipse.osgi.framework.internal.core.BundleHost.stopWorker(BundleHost.java:402)</Frame>
          <Frame depth="5">org.eclipse.osgi.framework.internal.core.AbstractBundle.stop(AbstractBundle.java:410)</Frame>
          <Frame depth="6">org.eclipse.core.runtime.adaptor.BundleStopper.basicStopBundles(BundleStopper.java:73)</Frame>
          <Frame depth="7">org.eclipse.core.runtime.adaptor.BundleStopper.stopBundles(BundleStopper.java:62)</Frame>
          <Frame depth="8">org.eclipse.core.runtime.adaptor.EclipseAdaptor.frameworkStopping(EclipseAdaptor.java:709)</Frame>
          <Frame depth="9">org.eclipse.osgi.framework.internal.core.Framework.shutdown(Framework.java:502)</Frame>
          <Frame depth="10">org.eclipse.osgi.framework.internal.core.SystemBundle$1.run(SystemBundle.java:171)</Frame>
          <Frame depth="11">java.lang.Thread.run(Thread.java:534)</Frame>
        </Frames>
      </Stacktrace>
    </Stacktraces>
    <SourceCodeRegions amount="0" />
    <Enumerations amount="0" />
    <bug_status amount="VERIFIED" />
    <resolution amount="FIXED" />
    <WithStack>eclipse.buildId=I20050412-1036
java.version=1.4.2_03
java.vendor=Sun Microsystems Inc.
BootLoader constants: OS=win32, ARCH=x86, WS=win32, NL=en
Framework arguments:  -showlocation
Command-line arguments:  -os win32 -ws win32 -arch x86 -debug -clean -
showlocation

Try to connect to CVS and get teh following error in log:

org.osgi.framework.BundleException: Exception in 
org.eclipse.team.internal.ccvs.ssh2.CVSSSH2Plugin.stop() of bundle 
org.eclipse.team.cvs.ssh2.
at org.eclipse.osgi.framework.internal.core.BundleContextImpl.stop
(BundleContextImpl.java:1051)
at org.eclipse.osgi.framework.internal.core.BundleHost.stopWorker
(BundleHost.java:402)
at org.eclipse.osgi.framework.internal.core.AbstractBundle.stop
(AbstractBundle.java:410)
at org.eclipse.core.runtime.adaptor.BundleStopper.basicStopBundles
(BundleStopper.java:73)
at org.eclipse.core.runtime.adaptor.BundleStopper.stopBundles
(BundleStopper.java:62)
at org.eclipse.core.runtime.adaptor.EclipseAdaptor.frameworkStopping
(EclipseAdaptor.java:709)
at org.eclipse.osgi.framework.internal.core.Framework.shutdown
(Framework.java:502)
at org.eclipse.osgi.framework.internal.core.SystemBundle$1.run
(SystemBundle.java:171)
at java.lang.Thread.run(Thread.java:534)
Caused by: java.lang.NoClassDefFoundError: 
org/eclipse/team/internal/ccvs/ssh2/JSchSession
at org.eclipse.team.internal.ccvs.ssh2.CVSSSH2Plugin.stop
(CVSSSH2Plugin.java:47)
at org.eclipse.osgi.framework.internal.core.BundleContextImpl$3.run
(BundleContextImpl.java:1035)
at java.security.AccessController.doPrivileged(Native Method)
at org.eclipse.osgi.framework.internal.core.BundleContextImpl.stop
(BundleContextImpl.java:1031)
... 8 more
Root exception:
java.lang.NoClassDefFoundError: org/eclipse/team/internal/ccvs/ssh2/JSchSession
at org.eclipse.team.internal.ccvs.ssh2.CVSSSH2Plugin.stop
(CVSSSH2Plugin.java:47)
at org.eclipse.osgi.framework.internal.core.BundleContextImpl$3.run
(BundleContextImpl.java:1035)
at java.security.AccessController.doPrivileged(Native Method)
at org.eclipse.osgi.framework.internal.core.BundleContextImpl.stop
(BundleContextImpl.java:1031)
at org.eclipse.osgi.framework.internal.core.BundleHost.stopWorker
(BundleHost.java:402)
at org.eclipse.osgi.framework.internal.core.AbstractBundle.stop
(AbstractBundle.java:410)
at org.eclipse.core.runtime.adaptor.BundleStopper.basicStopBundles
(BundleStopper.java:73)
at org.eclipse.core.runtime.adaptor.BundleStopper.stopBundles
(BundleStopper.java:62)
at org.eclipse.core.runtime.adaptor.EclipseAdaptor.frameworkStopping
(EclipseAdaptor.java:709)
at org.eclipse.osgi.framework.internal.core.Framework.shutdown
(Framework.java:502)
at org.eclipse.osgi.framework.internal.core.SystemBundle$1.run
(SystemBundle.java:171)
at java.lang.Thread.run(Thread.java:534)
There was a compile error in SSH2 in that build due to a change in the SWT 
fragment names. It was fixed for the next build.
Verified</WithStack>
    <WithOutStack>eclipse.buildId=I20050412-1036
java.version=1.4.2_03
java.vendor=Sun Microsystems Inc.
BootLoader constants: OS=win32, ARCH=x86, WS=win32, NL=en
Framework arguments:  -showlocation
Command-line arguments:  -os win32 -ws win32 -arch x86 -debug -clean -
showlocation

Try to connect to CVS and get teh following error in log:

... 8 more
Root exception:

There was a compile error in SSH2 in that build due to a change in the SWT 
fragment names. It was fixed for the next build.
Verified</WithOutStack>
  </Bug>
  <Bug>
    <BugId amount="91180" />
    <CreationDate amount="2005-04-12 14:30:00 -0400" />
    <DupId amount="" />
    <classification amount="Eclipse Foundation" />
    <Product amount="z_Archived" />
    <component amount="Hyades" />
    <Version amount="unspecified" />
    <rep_platform amount="PC" />
    <op_sys amount="Windows 2000" />
    <priority amount="P3" />
    <bug_severity amount="normal" />
    <Summery>(MON) Apache Error log message not categorized correctly</Summery>
    <Patches amount="0" />
    <Stacktraces amount="0" />
    <SourceCodeRegions amount="0" />
    <Enumerations amount="0" />
    <bug_status amount="CLOSED" />
    <resolution amount="FIXED" />
    <WithStack>Actual Results:  In APACHE ERROR v1.3.26 log file, the message "Caught SIGTERM, 
shutting down"  is classified as ReportSituation when parsed by GLA using the 
rules adapter.

Expected Result: The message should be classified as StopSituation.
The Apache Error log adapter file needs to be changed.  StopSituation rules 
need to be added so this message is parsed as a StopSituation.
Committed changes to Apache Error log rules adapter files in Hyades 3.3 and 
TPTP 4.0 Head CVS.
As of TPTP 4.6.0, TPTP is in maintenance mode and focusing on improving quality by resolving relevant enhancements/defects and increasing test coverage through test creation, automation, Build Verification Tests (BVTs), and expanded run-time execution. As part of the TPTP Bugzilla housecleaning process (see http://wiki.eclipse.org/Bugzilla_Housecleaning_Processes), this enhancement/defect is verified/closed by the Project Lead since this originator of this enhancement/defect has an inactive Bugzilla account and considered to be fixed. If this enhancement/defect is still unresolved and reproducible in the latest TPTP release (http://www.eclipse.org/tptp/home/downloads/), please re-open.</WithStack>
    <WithOutStack>Actual Results:  In APACHE ERROR v1.3.26 log file, the message "Caught SIGTERM, 
shutting down"  is classified as ReportSituation when parsed by GLA using the 
rules adapter.

Expected Result: The message should be classified as StopSituation.
The Apache Error log adapter file needs to be changed.  StopSituation rules 
need to be added so this message is parsed as a StopSituation.
Committed changes to Apache Error log rules adapter files in Hyades 3.3 and 
TPTP 4.0 Head CVS.
As of TPTP 4.6.0, TPTP is in maintenance mode and focusing on improving quality by resolving relevant enhancements/defects and increasing test coverage through test creation, automation, Build Verification Tests (BVTs), and expanded run-time execution. As part of the TPTP Bugzilla housecleaning process (see http://wiki.eclipse.org/Bugzilla_Housecleaning_Processes), this enhancement/defect is verified/closed by the Project Lead since this originator of this enhancement/defect has an inactive Bugzilla account and considered to be fixed. If this enhancement/defect is still unresolved and reproducible in the latest TPTP release (http://www.eclipse.org/tptp/home/downloads/), please re-open.</WithOutStack>
  </Bug>
  <Bug>
    <BugId amount="91181" />
    <CreationDate amount="2005-04-12 14:34:00 -0400" />
    <DupId amount="" />
    <classification amount="Tools" />
    <Product amount="TPTP Profiling" />
    <component amount="Platform.Model" />
    <Version amount="4.2" />
    <rep_platform amount="PC" />
    <op_sys amount="All" />
    <priority amount="P3" />
    <bug_severity amount="enhancement" />
    <Summery>[Functionality]  XMLExecutionDataProcessor does not support model loading to existing resource</Summery>
    <Patches amount="0" />
    <Stacktraces amount="0" />
    <SourceCodeRegions amount="0" />
    <Enumerations amount="0" />
    <bug_status amount="CLOSED" />
    <resolution amount="WONTFIX" />
    <WithStack>XMLExecutionDataProcessor takes only a execution result name and location, 
assuming that a new resource should always be created.  It should take (in 
setInitData) an optional existing resource to be appended to.

This blocks a consuming product from exposing important functionality.
Requirement for fix no longer critical for consumer

[ sizing = 3 days ]
Paul has some interest in this, as he was just discussing the requirement to 
add pause/resume support to the TPTP manual runner today.  

I'm pretty sure he won't get to this in 4.1 either, but I'm adding him to the 
cc list so he knows which defect to look for in the future.

Moving back to TPTP 4.1 i2 in case Paul needs it for manual tests.  Paul please
let me know if you will require this in 4.1 i2 (if not I will push to future).
Hi Scott,
Unfortunately, due to a resource deficiency for feature #74841, we will not be 
adding pause/resume functionality in the new manual test client in v4.1 (i2).  
However, this function will be added early in v4.2 so completing this defect in 
v4.1 (i2) would mean we could start this work item early in v4.2 (i1).  If 
resources are not available, completing this defect in v4.2 (i1) would suffice.
Just curios, Paul why do you need XMLExecutionDataProcessor in the manual test
client (I assume that the manual test client doesn't use the test EMF model)?
All TPTP tests are run through the test execution harness and produce 
execution history models, so they all implicitly use XMLExecutionDataProcessor.
We are providing function to for the manual test client to consume the EMF 
model.
ASAIK the current manual test client
(/org.eclipse.hyades.test.tools.core/src-manual-runner) doesn't require EMF test
model or harnes code, that's why I was curios why the new one would add
dependency on those components (which I think should not be required). I will
comment more on the Bug 74841.

Regardin Pause/Stop I don't think the manual test client should generate
execution  results, it just needs to send/save the raw events (as all the other
runners do).
The manual test runner works the same way the other runners do in the test 
space today -- it streams back events as they happen, and those events are 
model loaded at the time they arrive at the workbench.  They are not stored 
once they are model loaded.  We have no way of knowing if the user will 
gesture to pause at some point in time.  When they do gesture to pause, the 
prior XML fragements are gone -- they were already loaded and discarded.

As for depenedency, the test runners all have runtime access to EMF and the 
test model as confiured in the RAC plugin today.  This is used for datapool 
runtime access, among other things.  Given the enhancements that are being 
proposed for the manual runner (like embedding files in the model and 
displaying them in the runner), and given that EMF and the test model are 
already available on the runtime side, I don't see a good reason to continue 
making a transform to XML and supporting two different XML representations of 
a test behavior.  But we can discuss this at Paul's next meeting on the manual 
runner enhancements.  (Paul, can you invite Maruis to these meetings?)

Thanks Joe for the explanation.

Paul please invite me to those meeting.

I agree with the testcase model, I believe the facade would be used instead of
the EMF generated classes, same for datapools.


As of TPTP 4.6.0, TPTP is in maintenance mode and focusing on improving quality by resolving relevant defects and increasing test coverage through test creation, automation, Build Verification Tests (BVTs), and expanded run-time execution. As such, TPTP is not delivering enhancements. As part of the TPTP Bugzilla housecleaning process (see http://wiki.eclipse.org/Bugzilla_Housecleaning_Processes), this enhancement is resolved as WONTFIX. For this enhancement to be considered, please re-open with an attached patch including the Description Document (see http://www.eclipse.org/tptp/home/documents/process/development/description_documents.html), code (see http://www.eclipse.org/tptp/home/documents/resources/TPTPDevGuide.htm), and test cases (see http://www.eclipse.org/tptp/home/documents/process/TPTP_Testing_Strategy.html).
As of TPTP 4.6.0, TPTP is in maintenance mode and focusing on improving quality by resolving relevant defects and increasing test coverage through test creation, automation, Build Verification Tests (BVTs), and expanded run-time execution. As such, TPTP is not delivering enhancements. As part of the TPTP Bugzilla housecleaning process (see http://wiki.eclipse.org/Bugzilla_Housecleaning_Processes), this enhancement is resolved as WONTFIX. For this enhancement to be considered, please re-open with an attached patch including the Description Document (see http://www.eclipse.org/tptp/home/documents/process/development/description_documents.html), code (see http://www.eclipse.org/tptp/home/documents/resources/TPTPDevGuide.htm), and test cases (see http://www.eclipse.org/tptp/home/documents/process/TPTP_Testing_Strategy.html).
As of TPTP 4.6.0, TPTP is in maintenance mode and focusing on improving quality by resolving relevant enhancements/defects and increasing test coverage through test creation, automation, Build Verification Tests (BVTs), and expanded run-time execution. As part of the TPTP Bugzilla housecleaning process (see http://wiki.eclipse.org/Bugzilla_Housecleaning_Processes), this enhancement/defect is verified/closed by the Project Lead since this enhancement/defect has been resolved and unverified for more than 1 year and considered to be fixed. If this enhancement/defect is still unresolved and reproducible in the latest TPTP release (http://www.eclipse.org/tptp/home/downloads/), please re-open.</WithStack>
    <WithOutStack>XMLExecutionDataProcessor takes only a execution result name and location, 
assuming that a new resource should always be created.  It should take (in 
setInitData) an optional existing resource to be appended to.

This blocks a consuming product from exposing important functionality.
Requirement for fix no longer critical for consumer

[ sizing = 3 days ]
Paul has some interest in this, as he was just discussing the requirement to 
add pause/resume support to the TPTP manual runner today.  

I'm pretty sure he won't get to this in 4.1 either, but I'm adding him to the 
cc list so he knows which defect to look for in the future.

Moving back to TPTP 4.1 i2 in case Paul needs it for manual tests.  Paul please
let me know if you will require this in 4.1 i2 (if not I will push to future).
Hi Scott,
Unfortunately, due to a resource deficiency for feature #74841, we will not be 
adding pause/resume functionality in the new manual test client in v4.1 (i2).  
However, this function will be added early in v4.2 so completing this defect in 
v4.1 (i2) would mean we could start this work item early in v4.2 (i1).  If 
resources are not available, completing this defect in v4.2 (i1) would suffice.
Just curios, Paul why do you need XMLExecutionDataProcessor in the manual test
client (I assume that the manual test client doesn't use the test EMF model)?
All TPTP tests are run through the test execution harness and produce 
execution history models, so they all implicitly use XMLExecutionDataProcessor.
We are providing function to for the manual test client to consume the EMF 
model.
ASAIK the current manual test client
(/org.eclipse.hyades.test.tools.core/src-manual-runner) doesn't require EMF test
model or harnes code, that's why I was curios why the new one would add
dependency on those components (which I think should not be required). I will
comment more on the Bug 74841.

Regardin Pause/Stop I don't think the manual test client should generate
execution  results, it just needs to send/save the raw events (as all the other
runners do).
The manual test runner works the same way the other runners do in the test 
space today -- it streams back events as they happen, and those events are 
model loaded at the time they arrive at the workbench.  They are not stored 
once they are model loaded.  We have no way of knowing if the user will 
gesture to pause at some point in time.  When they do gesture to pause, the 
prior XML fragements are gone -- they were already loaded and discarded.

As for depenedency, the test runners all have runtime access to EMF and the 
test model as confiured in the RAC plugin today.  This is used for datapool 
runtime access, among other things.  Given the enhancements that are being 
proposed for the manual runner (like embedding files in the model and 
displaying them in the runner), and given that EMF and the test model are 
already available on the runtime side, I don't see a good reason to continue 
making a transform to XML and supporting two different XML representations of 
a test behavior.  But we can discuss this at Paul's next meeting on the manual 
runner enhancements.  (Paul, can you invite Maruis to these meetings?)

Thanks Joe for the explanation.

Paul please invite me to those meeting.

I agree with the testcase model, I believe the facade would be used instead of
the EMF generated classes, same for datapools.


As of TPTP 4.6.0, TPTP is in maintenance mode and focusing on improving quality by resolving relevant defects and increasing test coverage through test creation, automation, Build Verification Tests (BVTs), and expanded run-time execution. As such, TPTP is not delivering enhancements. As part of the TPTP Bugzilla housecleaning process (see http://wiki.eclipse.org/Bugzilla_Housecleaning_Processes), this enhancement is resolved as WONTFIX. For this enhancement to be considered, please re-open with an attached patch including the Description Document (see http://www.eclipse.org/tptp/home/documents/process/development/description_documents.html), code (see http://www.eclipse.org/tptp/home/documents/resources/TPTPDevGuide.htm), and test cases (see http://www.eclipse.org/tptp/home/documents/process/TPTP_Testing_Strategy.html).
As of TPTP 4.6.0, TPTP is in maintenance mode and focusing on improving quality by resolving relevant defects and increasing test coverage through test creation, automation, Build Verification Tests (BVTs), and expanded run-time execution. As such, TPTP is not delivering enhancements. As part of the TPTP Bugzilla housecleaning process (see http://wiki.eclipse.org/Bugzilla_Housecleaning_Processes), this enhancement is resolved as WONTFIX. For this enhancement to be considered, please re-open with an attached patch including the Description Document (see http://www.eclipse.org/tptp/home/documents/process/development/description_documents.html), code (see http://www.eclipse.org/tptp/home/documents/resources/TPTPDevGuide.htm), and test cases (see http://www.eclipse.org/tptp/home/documents/process/TPTP_Testing_Strategy.html).
As of TPTP 4.6.0, TPTP is in maintenance mode and focusing on improving quality by resolving relevant enhancements/defects and increasing test coverage through test creation, automation, Build Verification Tests (BVTs), and expanded run-time execution. As part of the TPTP Bugzilla housecleaning process (see http://wiki.eclipse.org/Bugzilla_Housecleaning_Processes), this enhancement/defect is verified/closed by the Project Lead since this enhancement/defect has been resolved and unverified for more than 1 year and considered to be fixed. If this enhancement/defect is still unresolved and reproducible in the latest TPTP release (http://www.eclipse.org/tptp/home/downloads/), please re-open.</WithOutStack>
  </Bug>
  <Bug>
    <BugId amount="91182" />
    <CreationDate amount="2005-04-12 14:34:00 -0400" />
    <DupId amount="" />
    <classification amount="Eclipse Foundation" />
    <Product amount="z_Archived" />
    <component amount="Hyades" />
    <Version amount="unspecified" />
    <rep_platform amount="PC" />
    <op_sys amount="Windows 2000" />
    <priority amount="P3" />
    <bug_severity amount="normal" />
    <Summery>I could not launch an application on my local machine from an AIX machine</Summery>
    <Patches amount="0" />
    <Stacktraces amount="0" />
    <SourceCodeRegions amount="0" />
    <Enumerations amount="0" />
    <bug_status amount="CLOSED" />
    <resolution amount="FIXED" />
    <WithStack>I installed, the UI on an AIX machine.  I tried to launch an External Java 
Application on my local machine from the AIX machine.  It could not launch, I 
got errors saying the class could not be found.
The problem happen on invalid working directory for remote launch scenario. 
It is decided to disable working directory for remote selection, and make sue
setloation(null) for remote case.
We will have to document this as a limitation in help content
After some investigation, generic Eclipse working directory UI composite cannot
be disabled in remote case, but setlocation(null) for remote case can be done.

As a result, working directory field has no effect for remote case and any input
there will be ignored for any remote launch scenario.

fixed in TPTP 3.3 and 4.0
verified, closing</WithStack>
    <WithOutStack>I installed, the UI on an AIX machine.  I tried to launch an External Java 
Application on my local machine from the AIX machine.  It could not launch, I 
got errors saying the class could not be found.
The problem happen on invalid working directory for remote launch scenario. 
It is decided to disable working directory for remote selection, and make sue
setloation(null) for remote case.
We will have to document this as a limitation in help content
After some investigation, generic Eclipse working directory UI composite cannot
be disabled in remote case, but setlocation(null) for remote case can be done.

As a result, working directory field has no effect for remote case and any input
there will be ignored for any remote launch scenario.

fixed in TPTP 3.3 and 4.0
verified, closing</WithOutStack>
  </Bug>
  <Bug>
    <BugId amount="91183" />
    <CreationDate amount="2005-04-12 14:37:00 -0400" />
    <DupId amount="" />
    <classification amount="Eclipse Foundation" />
    <Product amount="z_Archived" />
    <component amount="VE" />
    <Version amount="unspecified" />
    <rep_platform amount="PC" />
    <op_sys amount="Windows XP" />
    <priority amount="P3" />
    <bug_severity amount="normal" />
    <Summery>Need to refactor launchers to move them into their respective plugins</Summery>
    <Patches amount="0" />
    <Stacktraces amount="0" />
    <SourceCodeRegions amount="0" />
    <Enumerations amount="0" />
    <bug_status amount="NEW" />
    <resolution amount="" />
    <WithStack>org.eclipse.ve.java.core includes specific launchers like
org.eclipse.ve.internal.java.vce.launcher.remotevm.SWTLauncher.
This class should be in the SWT plugin and the main launcher in ve.java.core
should be changed to get/launch to correct launcher based on what class and what
project is selected. 
See also bug 90784</WithStack>
    <WithOutStack>org.eclipse.ve.java.core includes specific launchers like
org.eclipse.ve.internal.java.vce.launcher.remotevm.SWTLauncher.
This class should be in the SWT plugin and the main launcher in ve.java.core
should be changed to get/launch to correct launcher based on what class and what
project is selected. 
See also bug 90784</WithOutStack>
  </Bug>
  <Bug>
    <BugId amount="91184" />
    <CreationDate amount="2005-04-12 14:47:00 -0400" />
    <DupId amount="" />
    <classification amount="Eclipse Foundation" />
    <Product amount="z_Archived" />
    <component amount="VE" />
    <Version amount="unspecified" />
    <rep_platform amount="PC" />
    <op_sys amount="Windows XP" />
    <priority amount="P3" />
    <bug_severity amount="normal" />
    <Summery>SWT appearance need to be picked up from the current configuration</Summery>
    <Patches amount="0" />
    <Stacktraces amount="0" />
    <SourceCodeRegions amount="0" />
    <Enumerations amount="0" />
    <bug_status amount="CLOSED" />
    <resolution amount="FIXED" />
    <WithStack>The RCP ViewPart Host does not pick up the SWT tab style.
Available in M1
VE 1.1. releaased. close bug.</WithStack>
    <WithOutStack>The RCP ViewPart Host does not pick up the SWT tab style.
Available in M1
VE 1.1. releaased. close bug.</WithOutStack>
  </Bug>
  <Bug>
    <BugId amount="91185" />
    <CreationDate amount="2005-04-12 14:59:00 -0400" />
    <DupId amount="" />
    <classification amount="Eclipse" />
    <Product amount="Platform" />
    <component amount="CVS" />
    <Version amount="3.0" />
    <rep_platform amount="PC" />
    <op_sys amount="Windows 2000" />
    <priority amount="P3" />
    <bug_severity amount="normal" />
    <Summery>Losing Connection To CVS on Solaris Version 8</Summery>
    <Patches amount="0" />
    <Stacktraces amount="0" />
    <SourceCodeRegions amount="0" />
    <Enumerations amount="1">
      <Enumeration lines="15">
        <Lines>
          <Line>1) Go to the following URL and download the core tools for your Eclipse</Line>
          <Line>version. For version 3.0, use Core Tools V1.1.0.</Line>
          <Line />
          <Line>http://dev.eclipse.org/viewcvs/index.cgi/%7Echeckout%7E/platform-core-</Line>
          <Line>home/downloads.html</Line>
          <Line />
          <Line>2) Install that plugin into Eclipse. The easiest way is to put it into the</Line>
          <Line>plugins directory of your Eclipse install. You can also load them from the</Line>
          <Line>Core update site if you want.</Line>
          <Line />
          <Line>3) Restart Eclipse and perform a Windows&gt;Show View and choose Resource</Line>
          <Line>Tools&gt;Resource Spy.</Line>
          <Line />
          <Line>4) Selecting the project in question should populate the view. Included should</Line>
          <Line>be the following two lines.</Line>
        </Lines>
      </Enumeration>
    </Enumerations>
    <bug_status amount="RESOLVED" />
    <resolution amount="INVALID" />
    <WithStack>I am using Rational Application Server CVS client to connect to CVS 1.11.5 on 
Scolaris 8.  After connecting and sharing projects I debug an application using 
RADv6 Test Environment.  If I restart an EAR that is connected to CVS on 
Solaris, the connection to CVS is lost.  The only option available from Team is 
Apply Patch.  In addition, the CVS decorations that indicate Workspace 
differences from the CVS Repository disappear also.  I have tried this on CVSNT 
and there is no problem.  My development platform is Windows 2000 with a CVS 
Repository on Solaris 8.

I am hoping someone has encountered this problem, or it can be tested by 
Eclipse developers. 

I have not found a way to work around this.

Thanks,


William Jackson
It looks like the repository properties of your project are being corrupted 
somehow. Does restarting fix the problem? Could you perform the following 
steps:

1) Go to the following URL and download the core tools for your Eclipse 
version. For version 3.0, use Core Tools V1.1.0. 

http://dev.eclipse.org/viewcvs/index.cgi/%7Echeckout%7E/platform-core-
home/downloads.html

2) Install that plugin into Eclipse. The easiest way is to put it into the 
plugins directory of your Eclipse install. You can also load them from the 
Core update site if you want.

3) Restart Eclipse and perform a Windows&gt;Show View and choose Resource 
Tools&gt;Resource Spy.

4) Selecting the project in question should populate the view. Included should 
be the following two lines.

Persistent Properties
   org.eclipse.team.core:repository = org.eclipse.team.cvs.core.cvsnature
Session Properties
   org.eclipse.team.core:repository = 
                      &lt;project name&gt;:org.eclipse.team.cvs.core.cvsnature

Do similar lines appear in the view for you? If they differ slightly, could 
you copy and past them into this bug?
Full Path = /Glcd
Content ID = 26
Type = Project
Node ID = 1846698
Local Sync Info = 1113006939984
Flags
Open = true
Local exists = true
Phantom = false
Used = true
Derived = false
Team private = false
Marker snapshot is dirty = false
Sync info snapshot is dirty = false
Markers
com.ibm.etools.validation.problemmarker [id = 465113]
groupName = 
location = 
message = IWAE0035W IWAD3000I: Some messages may be missing because the maximum 
number of messages has been reported. Increase the maximum number of messages 
and try again.
messageId = VBF_TASK_WARN_MESSAGE_LIMIT_VAL
owner = com.ibm.etools.validate.ValidatorManager
severity = 0
targetObject = 
validationSeverity = 4
com.ibm.etools.links.management.projectmarker [id = 463978]
com.ibm.etools.webtools.additions.projectmarker [id = 464294]
debugJspPrecompilation = false
enabledJspPrecompilation = false
com.ibm.etools.links.management.maxbrokenlinksexceeded_problem [id = 465086]
message = All broken links may not be shown.  Increase the maximum number of 
broken links messages and rebuild.
severity = 0
Persistent Properties
com.ibm.etools.validation:ValidationConfiguration = 
overrideGlobalPreferencesfalse
com.ibm.ws.rapiddeploy.websphere:disk_location = C:\RADv6\Workspace\V6
\.metadata\.plugins\com.ibm.ws.rapiddeploy.websphere\installed_apps\server_95258
0336
org.eclipse.team.core:repository = 
com.ibm.ws.rapiddeploy.websphere.WRDResourceProvider
Session Properties
org.eclipse.core.resources:BuildMap = 
{com.ibm.sse.model.structuredbuilder=org.eclipse.core.internal.events.BuilderPer
sistentInfo@6db06db0, 
com.ibm.etools.webpage.template.templatebuilder=org.eclipse.core.internal.events
.BuilderPersistentInfo@6ee06ee0, 
com.ibm.wtp.j2ee.LibCopyBuilder=org.eclipse.core.internal.events.BuilderPersiste
ntInfo@6f1b6f1b, 
com.ibm.etools.siteedit.SiteUpdateBuilder=org.eclipse.core.internal.events.Build
erPersistentInfo@6d0c6d0c, 
com.ibm.etools.webtools.additions.jspcompilationbuilder=org.eclipse.core.interna
l.events.BuilderPersistentInfo@6f4e6f4e, 
com.ibm.etools.ctc.serviceprojectbuilder=org.eclipse.core.internal.events.Builde
rPersistentInfo@6d446d44, 
org.eclipse.jdt.core.javabuilder=org.eclipse.core.internal.events.BuilderPersist
entInfo@71027102, 
com.ibm.etools.siteedit.SiteNavBuilder=org.eclipse.core.internal.events.BuilderP
ersistentInfo@71477147, 
com.ibm.etools.webtools.additions.linksbuilder=org.eclipse.core.internal.events.
BuilderPersistentInfo@74e874e8, 
com.ibm.etools.validation.validationbuilder=org.eclipse.core.internal.events.Bui
lderPersistentInfo@749d749d, 
com.ibm.etools.j2ee.ui.LibDirBuilder=org.eclipse.core.internal.events.BuilderPer
sistentInfo@6d7b6d7b}

The intersting persistant property is this one:

org.eclipse.team.core:repository = 
com.ibm.ws.rapiddeploy.websphere.WRDResourceProvider

This indicates that the project is not a CVS project (although it may have 
been at one point). Perhaps the deployment operation you ran reconfigured the 
project. You should seek support through the channels provided for the product 
you are using.</WithStack>
    <WithOutStack>I am using Rational Application Server CVS client to connect to CVS 1.11.5 on 
Scolaris 8.  After connecting and sharing projects I debug an application using 
RADv6 Test Environment.  If I restart an EAR that is connected to CVS on 
Solaris, the connection to CVS is lost.  The only option available from Team is 
Apply Patch.  In addition, the CVS decorations that indicate Workspace 
differences from the CVS Repository disappear also.  I have tried this on CVSNT 
and there is no problem.  My development platform is Windows 2000 with a CVS 
Repository on Solaris 8.

I am hoping someone has encountered this problem, or it can be tested by 
Eclipse developers. 

I have not found a way to work around this.

Thanks,


William Jackson
It looks like the repository properties of your project are being corrupted 
somehow. Does restarting fix the problem? Could you perform the following 
steps:

1) Go to the following URL and download the core tools for your Eclipse 
version. For version 3.0, use Core Tools V1.1.0. 

http://dev.eclipse.org/viewcvs/index.cgi/%7Echeckout%7E/platform-core-
home/downloads.html

2) Install that plugin into Eclipse. The easiest way is to put it into the 
plugins directory of your Eclipse install. You can also load them from the 
Core update site if you want.

3) Restart Eclipse and perform a Windows&gt;Show View and choose Resource 
Tools&gt;Resource Spy.

4) Selecting the project in question should populate the view. Included should 
be the following two lines.

Persistent Properties
   org.eclipse.team.core:repository = org.eclipse.team.cvs.core.cvsnature
Session Properties
   org.eclipse.team.core:repository = 
                      &lt;project name&gt;:org.eclipse.team.cvs.core.cvsnature

Do similar lines appear in the view for you? If they differ slightly, could 
you copy and past them into this bug?
Full Path = /Glcd
Content ID = 26
Type = Project
Node ID = 1846698
Local Sync Info = 1113006939984
Flags
Open = true
Local exists = true
Phantom = false
Used = true
Derived = false
Team private = false
Marker snapshot is dirty = false
Sync info snapshot is dirty = false
Markers
com.ibm.etools.validation.problemmarker [id = 465113]
groupName = 
location = 
message = IWAE0035W IWAD3000I: Some messages may be missing because the maximum 
number of messages has been reported. Increase the maximum number of messages 
and try again.
messageId = VBF_TASK_WARN_MESSAGE_LIMIT_VAL
owner = com.ibm.etools.validate.ValidatorManager
severity = 0
targetObject = 
validationSeverity = 4
com.ibm.etools.links.management.projectmarker [id = 463978]
com.ibm.etools.webtools.additions.projectmarker [id = 464294]
debugJspPrecompilation = false
enabledJspPrecompilation = false
com.ibm.etools.links.management.maxbrokenlinksexceeded_problem [id = 465086]
message = All broken links may not be shown.  Increase the maximum number of 
broken links messages and rebuild.
severity = 0
Persistent Properties
com.ibm.etools.validation:ValidationConfiguration = 
overrideGlobalPreferencesfalse
com.ibm.ws.rapiddeploy.websphere:disk_location = C:\RADv6\Workspace\V6
\.metadata\.plugins\com.ibm.ws.rapiddeploy.websphere\installed_apps\server_95258
0336
org.eclipse.team.core:repository = 
com.ibm.ws.rapiddeploy.websphere.WRDResourceProvider
Session Properties
org.eclipse.core.resources:BuildMap = 
{com.ibm.sse.model.structuredbuilder=org.eclipse.core.internal.events.BuilderPer
sistentInfo@6db06db0, 
com.ibm.etools.webpage.template.templatebuilder=org.eclipse.core.internal.events
.BuilderPersistentInfo@6ee06ee0, 
com.ibm.wtp.j2ee.LibCopyBuilder=org.eclipse.core.internal.events.BuilderPersiste
ntInfo@6f1b6f1b, 
com.ibm.etools.siteedit.SiteUpdateBuilder=org.eclipse.core.internal.events.Build
erPersistentInfo@6d0c6d0c, 
com.ibm.etools.webtools.additions.jspcompilationbuilder=org.eclipse.core.interna
l.events.BuilderPersistentInfo@6f4e6f4e, 
com.ibm.etools.ctc.serviceprojectbuilder=org.eclipse.core.internal.events.Builde
rPersistentInfo@6d446d44, 
org.eclipse.jdt.core.javabuilder=org.eclipse.core.internal.events.BuilderPersist
entInfo@71027102, 
com.ibm.etools.siteedit.SiteNavBuilder=org.eclipse.core.internal.events.BuilderP
ersistentInfo@71477147, 
com.ibm.etools.webtools.additions.linksbuilder=org.eclipse.core.internal.events.
BuilderPersistentInfo@74e874e8, 
com.ibm.etools.validation.validationbuilder=org.eclipse.core.internal.events.Bui
lderPersistentInfo@749d749d, 
com.ibm.etools.j2ee.ui.LibDirBuilder=org.eclipse.core.internal.events.BuilderPer
sistentInfo@6d7b6d7b}

The intersting persistant property is this one:

org.eclipse.team.core:repository = 
com.ibm.ws.rapiddeploy.websphere.WRDResourceProvider

This indicates that the project is not a CVS project (although it may have 
been at one point). Perhaps the deployment operation you ran reconfigured the 
project. You should seek support through the channels provided for the product 
you are using.</WithOutStack>
  </Bug>
  <Bug>
    <BugId amount="91186" />
    <CreationDate amount="2005-04-12 15:01:00 -0400" />
    <DupId amount="" />
    <classification amount="WebTools" />
    <Product amount="WTP Source Editing" />
    <component amount="jst.jsp" />
    <Version amount="unspecified" />
    <rep_platform amount="PC" />
    <op_sys amount="Windows XP" />
    <priority amount="P3" />
    <bug_severity amount="normal" />
    <Summery>JSP source validation has poor performance</Summery>
    <Patches amount="0" />
    <Stacktraces amount="0" />
    <SourceCodeRegions amount="0" />
    <Enumerations amount="0" />
    <bug_status amount="CLOSED" />
    <resolution amount="FIXED" />
    <WithStack>The reason is because StructuredRegionProcessor iterates all
partitions in each dirty region in the queue.

Some strategies validate the entire file for each dirty region passed to it, so
the strategy really only needs to be called for one dirty region per group of
changes.

To solve this, the partitions for the dirty region being processed can be
filtered so that for "total-scope" partitions (partitions mapped to strategies
that validate the entire file) all but one dirty region is removed, so that the
file is only validated once.

Also some notion of "isTotalScope()" must be added to
AbstractStructuredTextReconcilingStrategy so we know which partitions we need to
filter...
fixed in HEAD
closing.</WithStack>
    <WithOutStack>The reason is because StructuredRegionProcessor iterates all
partitions in each dirty region in the queue.

Some strategies validate the entire file for each dirty region passed to it, so
the strategy really only needs to be called for one dirty region per group of
changes.

To solve this, the partitions for the dirty region being processed can be
filtered so that for "total-scope" partitions (partitions mapped to strategies
that validate the entire file) all but one dirty region is removed, so that the
file is only validated once.

Also some notion of "isTotalScope()" must be added to
AbstractStructuredTextReconcilingStrategy so we know which partitions we need to
filter...
fixed in HEAD
closing.</WithOutStack>
  </Bug>
  <Bug>
    <BugId amount="91187" />
    <CreationDate amount="2005-04-12 15:17:00 -0400" />
    <DupId amount="" />
    <classification amount="WebTools" />
    <Product amount="WTP Java EE Tools" />
    <component amount="jst.j2ee" />
    <Version amount="0.7" />
    <rep_platform amount="PC" />
    <op_sys amount="Windows 2000" />
    <priority amount="P3" />
    <bug_severity amount="major" />
    <Summery>WebArtifactEdit.getDeploymentDescriptorResource() returning incorrect value</Summery>
    <Patches amount="0" />
    <Stacktraces amount="1">
      <Stacktrace timestamp="1437341255719">
        <Exception>org.eclipse.emf.ecore.resource.Resource$IOWrappedException</Exception>
        <Reason>Resource /c1 does 
not exist.</Reason>
        <Frames>
          <Frame depth="0">org.apache.xalan.serialize.SerializerToXML.flushWriter(SerializerToXML.java:1505)</Frame>
          <Frame depth="1">org.apache.xalan.serialize.SerializerToXML.endDocument(SerializerToXML.java:729)</Frame>
          <Frame depth="2">org.apache.xalan.transformer.TransformerIdentityImpl.endDocument(TransformerIdentityImpl.java:910)</Frame>
          <Frame depth="3">org.apache.xalan.transformer.TransformerIdentityImpl.transform(TransformerIdentityImpl.java:331)</Frame>
          <Frame depth="4">org.eclipse.wst.common.internal.emf.resource.EMF2DOMRenderer.serializeDocument(EMF2DOMRenderer.java:190)</Frame>
          <Frame depth="5">org.eclipse.wst.common.internal.emf.resource.EMF2DOMRenderer.doSave(EMF2DOMRenderer.java:89)</Frame>
          <Frame depth="6">org.eclipse.wst.common.internal.emf.resource.TranslatorResourceImpl.doSave(TranslatorResourceImpl.java:164)</Frame>
          <Frame depth="7">org.eclipse.emf.ecore.resource.impl.ResourceImpl.save(ResourceImpl.java:888)</Frame>
          <Frame depth="8">org.eclipse.emf.ecore.resource.impl.ResourceImpl.save(ResourceImpl.java:808)</Frame>
          <Frame depth="9">org.eclipse.wst.common.internal.emf.resource.ReferencedXMIResourceImpl.save(ReferencedXMIResourceImpl.java:276)</Frame>
          <Frame depth="10">org.eclipse.wst.common.internal.emf.resource.TranslatorResourceImpl.save(TranslatorResourceImpl.java:152)</Frame>
          <Frame depth="11">org.eclipse.wst.common.internal.emf.resource.ReferencedXMIResourceImpl.saveIfNecessary(ReferencedXMIResourceImpl.java:206)</Frame>
          <Frame depth="12">org.eclipse.jst.j2ee.web.modulecore.util.WebArtifactEdit.addWebAppIfNecessary(WebArtifactEdit.java:365)</Frame>
          <Frame depth="13">org.eclipse.jst.j2ee.web.modulecore.util.WebArtifactEdit.getDeploymentDescriptorRoot(WebArtifactEdit.java:282)</Frame>
          <Frame depth="14">org.eclipse.jst.ws.internal.axis.creation.ui.command.UpdateWEBXMLCommand.addServlet(UpdateWEBXMLCommand.java:126)</Frame>
          <Frame depth="15">org.eclipse.jst.ws.internal.axis.creation.ui.command.UpdateWEBXMLCommand.execute(UpdateWEBXMLCommand.java:57)</Frame>
        </Frames>
      </Stacktrace>
    </Stacktraces>
    <SourceCodeRegions amount="16">
      <source_code type="assignment">
        <location start="170" end="191" />
        <code>WebApp webapp = null;</code>
      </source_code>
      <source_code type="assignment">
        <location start="192" end="256" />
        <code>structEdit = StructureEdit.getStructureEditForRead(webProject);;</code>
      </source_code>
      <source_code type="assignment">
        <location start="257" end="318" />
        <code>WorkbenchComponent wbcs[] = structEdit.getWorkbenchModules();</code>
      </source_code>
      <source_code type="assignment">
        <location start="319" end="381" />
        <code>webEdit = WebArtifactEdit.getWebArtifactEditForWrite(wbcs[0]);</code>
      </source_code>
      <source_code type="assignment">
        <location start="403" end="462" />
        <code>webapp = (WebApp) webEdit.getDeploymentDescriptorRoot();</code>
      </source_code>
      <source_code type="functiondef">
        <location start="577" end="859" />
        <code>public EObject getDeploymentDescriptorRoot() {
List contents = getDeploymentDescriptorResource().getContents();
if (contents.size() &gt; 0)
   return (EObject) contents.get(0);
addWebAppIfNecessary((WebAppResource)getDeploymentDescriptorResource());
return (EObject) contents.get(0);
}</code>
      </source_code>
      <source_code type="assignment">
        <location start="1729" end="1785" />
        <code>IPath deployPath = new Path(deployPathSegment.path());</code>
      </source_code>
      <source_code type="assignment">
        <location start="1786" end="1828" />
        <code>deployPath = deployPath.makeAbsolute();</code>
      </source_code>
      <source_code type="functiondef">
        <location start="1829" end="1909" />
        <code>for (int resourceIndex = 0; resourceIndex &lt; resources.length; resourceIndex++) {</code>
      </source_code>
      <source_code type="ifstatement">
        <location start="1910" end="1940" />
        <code>if(resources.length == 1) {</code>
      </source_code>
      <source_code type="assignment">
        <location start="1941" end="1999" />
        <code>WorkbenchComponent comp = resources[0].getComponent();</code>
      </source_code>
      <source_code type="assignment">
        <location start="2000" end="2064" />
        <code>IProject project = StructureEdit.getContainingProject(comp);</code>
      </source_code>
      <source_code type="functioncall">
        <location start="2135" end="2270" />
        <code>URI.createPlatformResourceURI(normalizeToWorkspaceRelative(project,resources[0].getSourcePath(),aModuleResourceDeployPath).toString());</code>
      </source_code>
      <source_code type="functioncall">
        <location start="2271" end="2354" />
        <code>return URI.createPlatformResourceURI(resources[0].getRuntimePath().toString());</code>
      </source_code>
      <source_code type="assignment">
        <location start="2515" end="2556" />
        <code>String projectName = project.getName();</code>
      </source_code>
      <source_code type="functioncall">
        <location start="2557" end="2623" />
        <code>return URI.createURI(projectName + '/' + sourcePath.toString());</code>
      </source_code>
    </SourceCodeRegions>
    <Enumerations amount="0" />
    <bug_status amount="CLOSED" />
    <resolution amount="FIXED" />
    <WithStack>Driver:  0408I + latest from HEAD for jst.j2ee

I have a J2EE project CProj containing a module c1.

In our UpdateWebXMLCommand, we try to update web.xml with the code:

WebApp webapp = null;
structEdit = StructureEdit.getStructureEditForRead(webProject);;
WorkbenchComponent wbcs[] = structEdit.getWorkbenchModules();
webEdit = WebArtifactEdit.getWebArtifactEditForWrite(wbcs[0]);
if (webEdit != null)
   webapp = (WebApp) webEdit.getDeploymentDescriptorRoot();

However, we are getting the error:

org.eclipse.emf.ecore.resource.Resource$IOWrappedException: Resource /c1 does 
not exist.
    	at org.apache.xalan.serialize.SerializerToXML.flushWriter
(SerializerToXML.java:1505)
    	at org.apache.xalan.serialize.SerializerToXML.endDocument
(SerializerToXML.java:729)
    	at org.apache.xalan.transformer.TransformerIdentityImpl.endDocument
(TransformerIdentityImpl.java:910)
    	at org.apache.xalan.transformer.TransformerIdentityImpl.transform
(TransformerIdentityImpl.java:331)
    	at 
org.eclipse.wst.common.internal.emf.resource.EMF2DOMRenderer.serializeDocument
(EMF2DOMRenderer.java:190)
    	at org.eclipse.wst.common.internal.emf.resource.EMF2DOMRenderer.doSave
(EMF2DOMRenderer.java:89)
    	at 
org.eclipse.wst.common.internal.emf.resource.TranslatorResourceImpl.doSave
(TranslatorResourceImpl.java:164)
    	at org.eclipse.emf.ecore.resource.impl.ResourceImpl.save
(ResourceImpl.java:888)
    	at org.eclipse.emf.ecore.resource.impl.ResourceImpl.save
(ResourceImpl.java:808)
    	at 
org.eclipse.wst.common.internal.emf.resource.ReferencedXMIResourceImpl.save
(ReferencedXMIResourceImpl.java:276)
    	at 
org.eclipse.wst.common.internal.emf.resource.TranslatorResourceImpl.save
(TranslatorResourceImpl.java:152)
    	at 
org.eclipse.wst.common.internal.emf.resource.ReferencedXMIResourceImpl.saveIfNec
essary(ReferencedXMIResourceImpl.java:206)
    	at 
org.eclipse.jst.j2ee.web.modulecore.util.WebArtifactEdit.addWebAppIfNecessary
(WebArtifactEdit.java:365)
    	at 
org.eclipse.jst.j2ee.web.modulecore.util.WebArtifactEdit.getDeploymentDescriptor
Root(WebArtifactEdit.java:282)
    	at 
org.eclipse.jst.ws.internal.axis.creation.ui.command.UpdateWEBXMLCommand.addServ
let(UpdateWEBXMLCommand.java:126)
    	at 
org.eclipse.jst.ws.internal.axis.creation.ui.command.UpdateWEBXMLCommand.execute
(UpdateWEBXMLCommand.java:57)

I stepped through the WebArtifactEdit.getDeploymentDescriptorRoot() code:

public EObject getDeploymentDescriptorRoot() {
List contents = getDeploymentDescriptorResource().getContents();
if (contents.size() &gt; 0)
   return (EObject) contents.get(0);
addWebAppIfNecessary((WebAppResource)getDeploymentDescriptorResource());
return (EObject) contents.get(0);
}

I found that 
getDeploymentDescriptorResource() has the value:

(org.eclipse.jst.j2ee.internal.webapplication.impl.WebAppResourceImpl) 
org.eclipse.jst.j2ee.internal.webapplication.impl.WebAppResourceImplplatform:
/resource/c1/WebContent/WEB-INF/web.xml/WEB-INF/web.xml

As you can see, the value /WEB-INF/web.xml seems to be appended too many 
times.  That's why we were not able to get the contents of web.xml.

Please let us know if there are other alternatives to get a handle of web.xml 
in order to edit that file.
With a new workspace, getDeploymentDescriptorResource() has the correct value 
of:

/resource/c1/WebContent/WEB-INF/web.xml
 
However, it starts having WEB-INF/web.xml appended again when I bring down the 
workspace and open it again.

Fixed PlatformURLModuleConnection was not normalizing the workbench uri properly. 

the following was added: 

  IPath deployPath = new Path(deployPathSegment.path());
			deployPath = deployPath.makeAbsolute();
for (int resourceIndex = 0; resourceIndex &lt; resources.length; resourceIndex++) {
			if(resources.length == 1) {
				WorkbenchComponent comp = resources[0].getComponent();
				IProject project = StructureEdit.getContainingProject(comp);
				if (resources[0].getRuntimePath().equals(deployPath))
					return
URI.createPlatformResourceURI(normalizeToWorkspaceRelative(project,resources[0].getSourcePath(),aModuleResourceDeployPath).toString());
				return URI.createPlatformResourceURI(resources[0].getRuntimePath().toString());




and 

	private static URI normalizeToWorkspaceRelative(IProject project, IPath
sourcePath, URI moduleResourceDeployPath) throws UnresolveableURIException {
		String projectName = project.getName();
		return URI.createURI(projectName + '/' + sourcePath.toString());
	
	
}

verified with junits.
fixed in latest integration, module url was not being normalized properly. 
Verified.
Changed Version field given new release numbering.</WithStack>
    <WithOutStack>Driver:  0408I + latest from HEAD for jst.j2ee

I have a J2EE project CProj containing a module c1.

In our UpdateWebXMLCommand, we try to update web.xml with the code:

WebApp webapp = null;
structEdit = StructureEdit.getStructureEditForRead(webProject);;
WorkbenchComponent wbcs[] = structEdit.getWorkbenchModules();
webEdit = WebArtifactEdit.getWebArtifactEditForWrite(wbcs[0]);
if (webEdit != null)
   webapp = (WebApp) webEdit.getDeploymentDescriptorRoot();

However, we are getting the error:



I stepped through the WebArtifactEdit.getDeploymentDescriptorRoot() code:

public EObject getDeploymentDescriptorRoot() {
List contents = getDeploymentDescriptorResource().getContents();
if (contents.size() &gt; 0)
   return (EObject) contents.get(0);
addWebAppIfNecessary((WebAppResource)getDeploymentDescriptorResource());
return (EObject) contents.get(0);
}

I found that 
getDeploymentDescriptorResource() has the value:

(org.eclipse.jst.j2ee.internal.webapplication.impl.WebAppResourceImpl) 
org.eclipse.jst.j2ee.internal.webapplication.impl.WebAppResourceImplplatform:
/resource/c1/WebContent/WEB-INF/web.xml/WEB-INF/web.xml

As you can see, the value /WEB-INF/web.xml seems to be appended too many 
times.  That's why we were not able to get the contents of web.xml.

Please let us know if there are other alternatives to get a handle of web.xml 
in order to edit that file.
With a new workspace, getDeploymentDescriptorResource() has the correct value 
of:

/resource/c1/WebContent/WEB-INF/web.xml
 
However, it starts having WEB-INF/web.xml appended again when I bring down the 
workspace and open it again.

Fixed PlatformURLModuleConnection was not normalizing the workbench uri properly. 

the following was added: 

  IPath deployPath = new Path(deployPathSegment.path());
			deployPath = deployPath.makeAbsolute();
for (int resourceIndex = 0; resourceIndex &lt; resources.length; resourceIndex++) {
			if(resources.length == 1) {
				WorkbenchComponent comp = resources[0].getComponent();
				IProject project = StructureEdit.getContainingProject(comp);
				if (resources[0].getRuntimePath().equals(deployPath))
					return
URI.createPlatformResourceURI(normalizeToWorkspaceRelative(project,resources[0].getSourcePath(),aModuleResourceDeployPath).toString());
				return URI.createPlatformResourceURI(resources[0].getRuntimePath().toString());




and 

	private static URI normalizeToWorkspaceRelative(IProject project, IPath
sourcePath, URI moduleResourceDeployPath) throws UnresolveableURIException {
		String projectName = project.getName();
		return URI.createURI(projectName + '/' + sourcePath.toString());
	
	
}

verified with junits.
fixed in latest integration, module url was not being normalized properly. 
Verified.
Changed Version field given new release numbering.</WithOutStack>
  </Bug>
  <Bug>
    <BugId amount="91188" />
    <CreationDate amount="2005-04-12 15:48:00 -0400" />
    <DupId amount="86177" />
    <classification amount="Eclipse" />
    <Product amount="Platform" />
    <component amount="Text" />
    <Version amount="3.1" />
    <rep_platform amount="PC" />
    <op_sys amount="Windows XP" />
    <priority amount="P3" />
    <bug_severity amount="normal" />
    <Summery>Eclipse crash when changing Java Editor font</Summery>
    <Patches amount="0" />
    <Stacktraces amount="1">
      <Stacktrace timestamp="1437341255723">
        <Exception>java.lang.IllegalArgumentException</Exception>
        <Reason>Argument not valid</Reason>
        <Frames>
          <Frame depth="0">org.eclipse.swt.SWT.error(SWT.java:2823)</Frame>
          <Frame depth="1">org.eclipse.swt.SWT.error(SWT.java:2762)</Frame>
          <Frame depth="2">org.eclipse.swt.SWT.error(SWT.java:2733)</Frame>
          <Frame depth="3">org.eclipse.swt.graphics.TextStyle.&lt;init&gt;(TextStyle.java:73)</Frame>
          <Frame depth="4">org.eclipse.swt.custom.StyledTextRenderer.getTextLayout(StyledTextRenderer.java:437)</Frame>
          <Frame depth="5">org.eclipse.swt.custom.StyledText$ContentWidthCache.contentWidth(StyledText.java:1261)</Frame>
          <Frame depth="6">org.eclipse.swt.custom.StyledText$ContentWidthCache.calculate(StyledText.java:1225)</Frame>
          <Frame depth="7">org.eclipse.swt.custom.StyledText.redraw(StyledText.java:5860)</Frame>
          <Frame depth="8">org.eclipse.swt.custom.StyledText.setForeground(StyledText.java:6846)</Frame>
          <Frame depth="9">org.eclipse.jdt.internal.ui.javaeditor.JavaSourceViewer.unconfigure(JavaSourceViewer.java:299)</Frame>
          <Frame depth="10">org.eclipse.jface.text.source.SourceViewer.handleDispose(SourceViewer.java:564)</Frame>
          <Frame depth="11">org.eclipse.jface.text.source.projection.ProjectionViewer.handleDispose(ProjectionViewer.java:1362)</Frame>
          <Frame depth="12">org.eclipse.jdt.internal.ui.javaeditor.JavaSourceViewer.handleDispose(JavaSourceViewer.java:399)</Frame>
          <Frame depth="13">org.eclipse.jface.text.TextViewer$1.widgetDisposed(TextViewer.java:1447)</Frame>
          <Frame depth="14">org.eclipse.swt.widgets.TypedListener.handleEvent(TypedListener.java:100)</Frame>
          <Frame depth="15">org.eclipse.swt.widgets.EventTable.sendEvent(EventTable.java:82)</Frame>
          <Frame depth="16">org.eclipse.swt.widgets.Widget.sendEvent(Widget.java:842)</Frame>
          <Frame depth="17">org.eclipse.swt.widgets.Widget.sendEvent(Widget.java:866)</Frame>
          <Frame depth="18">org.eclipse.swt.widgets.Widget.sendEvent(Widget.java:851)</Frame>
          <Frame depth="19">org.eclipse.swt.widgets.Widget.notifyListeners(Widget.java:659)</Frame>
          <Frame depth="20">org.eclipse.swt.custom.StyledText.handleDispose(StyledText.java:4914)</Frame>
          <Frame depth="21">org.eclipse.swt.custom.StyledText$7.handleEvent(StyledText.java:4785)</Frame>
          <Frame depth="22">org.eclipse.swt.widgets.EventTable.sendEvent(EventTable.java:82)</Frame>
          <Frame depth="23">org.eclipse.swt.widgets.Widget.sendEvent(Widget.java:842)</Frame>
          <Frame depth="24">org.eclipse.swt.widgets.Widget.sendEvent(Widget.java:866)</Frame>
          <Frame depth="25">org.eclipse.swt.widgets.Widget.sendEvent(Widget.java:847)</Frame>
          <Frame depth="26">org.eclipse.swt.widgets.Widget.releaseWidget(Widget.java:754)</Frame>
          <Frame depth="27">org.eclipse.swt.widgets.Control.releaseWidget(Control.java:1571)</Frame>
          <Frame depth="28">org.eclipse.swt.widgets.Scrollable.releaseWidget(Scrollable.java:195)</Frame>
          <Frame depth="29">org.eclipse.swt.widgets.Composite.releaseWidget(Composite.java:588)</Frame>
          <Frame depth="30">org.eclipse.swt.widgets.Canvas.releaseWidget(Canvas.java:118)</Frame>
          <Frame depth="31">org.eclipse.swt.widgets.Widget.releaseResources(Widget.java:719)</Frame>
          <Frame depth="32">org.eclipse.swt.widgets.Composite.releaseChildren(Composite.java:582)</Frame>
          <Frame depth="33">org.eclipse.swt.widgets.Composite.releaseWidget(Composite.java:587)</Frame>
          <Frame depth="34">org.eclipse.swt.widgets.Widget.releaseResources(Widget.java:719)</Frame>
          <Frame depth="35">org.eclipse.swt.widgets.Composite.releaseChildren(Composite.java:582)</Frame>
          <Frame depth="36">org.eclipse.swt.widgets.Composite.releaseWidget(Composite.java:587)</Frame>
          <Frame depth="37">org.eclipse.swt.widgets.Widget.releaseResources(Widget.java:719)</Frame>
          <Frame depth="38">org.eclipse.swt.widgets.Composite.releaseChildren(Composite.java:582)</Frame>
          <Frame depth="39">org.eclipse.swt.widgets.Composite.releaseWidget(Composite.java:587)</Frame>
          <Frame depth="40">org.eclipse.swt.widgets.Widget.releaseResources(Widget.java:719)</Frame>
          <Frame depth="41">org.eclipse.swt.widgets.Composite.releaseChildren(Composite.java:582)</Frame>
          <Frame depth="42">org.eclipse.swt.widgets.Composite.releaseWidget(Composite.java:587)</Frame>
          <Frame depth="43">org.eclipse.swt.widgets.Widget.releaseResources(Widget.java:719)</Frame>
          <Frame depth="44">org.eclipse.swt.widgets.Composite.releaseChildren(Composite.java:582)</Frame>
          <Frame depth="45">org.eclipse.swt.widgets.Composite.releaseWidget(Composite.java:587)</Frame>
          <Frame depth="46">org.eclipse.swt.widgets.Widget.releaseResources(Widget.java:719)</Frame>
          <Frame depth="47">org.eclipse.swt.widgets.Composite.releaseChildren(Composite.java:582)</Frame>
          <Frame depth="48">org.eclipse.swt.widgets.Composite.releaseWidget(Composite.java:587)</Frame>
          <Frame depth="49">org.eclipse.swt.widgets.Widget.releaseResources(Widget.java:719)</Frame>
          <Frame depth="50">org.eclipse.swt.widgets.Composite.releaseChildren(Composite.java:582)</Frame>
          <Frame depth="51">org.eclipse.swt.widgets.Composite.releaseWidget(Composite.java:587)</Frame>
          <Frame depth="52">org.eclipse.swt.widgets.Widget.releaseResources(Widget.java:719)</Frame>
          <Frame depth="53">org.eclipse.swt.widgets.Composite.releaseChildren(Composite.java:582)</Frame>
          <Frame depth="54">org.eclipse.swt.widgets.Composite.releaseWidget(Composite.java:587)</Frame>
          <Frame depth="55">org.eclipse.swt.widgets.Widget.releaseResources(Widget.java:719)</Frame>
          <Frame depth="56">org.eclipse.swt.widgets.Composite.releaseChildren(Composite.java:582)</Frame>
          <Frame depth="57">org.eclipse.swt.widgets.Composite.releaseWidget(Composite.java:587)</Frame>
          <Frame depth="58">org.eclipse.swt.widgets.Widget.releaseResources(Widget.java:719)</Frame>
          <Frame depth="59">org.eclipse.swt.widgets.Composite.releaseChildren(Composite.java:582)</Frame>
          <Frame depth="60">org.eclipse.swt.widgets.Composite.releaseWidget(Composite.java:587)</Frame>
          <Frame depth="61">org.eclipse.swt.widgets.Canvas.releaseWidget(Canvas.java:118)</Frame>
          <Frame depth="62">org.eclipse.swt.widgets.Decorations.releaseWidget(Decorations.java:714)</Frame>
          <Frame depth="63">org.eclipse.swt.widgets.Shell.releaseWidget(Shell.java:860)</Frame>
          <Frame depth="64">org.eclipse.swt.widgets.Widget.dispose(Widget.java:380)</Frame>
          <Frame depth="65">org.eclipse.swt.widgets.Decorations.dispose(Decorations.java:373)</Frame>
          <Frame depth="66">org.eclipse.swt.widgets.Shell.dispose(Shell.java:492)</Frame>
          <Frame depth="67">org.eclipse.jface.window.Window.close(Window.java:278)</Frame>
          <Frame depth="68">org.eclipse.jface.dialogs.Dialog.close(Dialog.java:878)</Frame>
          <Frame depth="69">org.eclipse.jface.preference.PreferenceDialog.close(PreferenceDialog.java:276)</Frame>
          <Frame depth="70">org.eclipse.ui.internal.dialogs.WorkbenchPreferenceDialog.close(WorkbenchPreferenceDialog.java:260)</Frame>
          <Frame depth="71">org.eclipse.jface.preference.PreferenceDialog$12.run(PreferenceDialog.java:871)</Frame>
          <Frame depth="72">org.eclipse.core.internal.runtime.InternalPlatform.run(InternalPlatform.java:1015)</Frame>
          <Frame depth="73">org.eclipse.core.runtime.Platform.run(Platform.java:757)</Frame>
          <Frame depth="74">org.eclipse.jface.preference.PreferenceDialog.okPressed(PreferenceDialog.java:833)</Frame>
          <Frame depth="75">org.eclipse.jface.preference.PreferenceDialog.buttonPressed(PreferenceDialog.java:220)</Frame>
          <Frame depth="76">org.eclipse.ui.internal.dialogs.WorkbenchPreferenceDialog.buttonPressed(WorkbenchPreferenceDialog.java:246)</Frame>
          <Frame depth="77">org.eclipse.jface.dialogs.Dialog$2.widgetSelected(Dialog.java:543)</Frame>
          <Frame depth="78">org.eclipse.swt.widgets.TypedListener.handleEvent(TypedListener.java:89)</Frame>
          <Frame depth="79">org.eclipse.swt.widgets.EventTable.sendEvent(EventTable.java:82)</Frame>
          <Frame depth="80">org.eclipse.swt.widgets.Widget.sendEvent(Widget.java:842)</Frame>
          <Frame depth="81">org.eclipse.swt.widgets.Display.runDeferredEvents(Display.java:2908)</Frame>
          <Frame depth="82">org.eclipse.swt.widgets.Display.readAndDispatch(Display.java:2541)</Frame>
          <Frame depth="83">org.eclipse.jface.window.Window.runEventLoop(Window.java:718)</Frame>
          <Frame depth="84">org.eclipse.jface.window.Window.open(Window.java:696)</Frame>
          <Frame depth="85">org.eclipse.ui.internal.OpenPreferencesAction.run(OpenPreferencesAction.java:66)</Frame>
          <Frame depth="86">org.eclipse.jface.action.Action.runWithEvent(Action.java:1003)</Frame>
          <Frame depth="87">org.eclipse.jface.action.ActionContributionItem.handleWidgetSelection(ActionContributionItem.java:557)</Frame>
          <Frame depth="88">org.eclipse.jface.action.ActionContributionItem.access$2(ActionContributionItem.java:507)</Frame>
          <Frame depth="89">org.eclipse.jface.action.ActionContributionItem$6.handleEvent(ActionContributionItem.java:421)</Frame>
          <Frame depth="90">org.eclipse.swt.widgets.EventTable.sendEvent(EventTable.java:82)</Frame>
          <Frame depth="91">org.eclipse.swt.widgets.Widget.sendEvent(Widget.java:842)</Frame>
          <Frame depth="92">org.eclipse.swt.widgets.Display.runDeferredEvents(Display.java:2908)</Frame>
          <Frame depth="93">org.eclipse.swt.widgets.Display.readAndDispatch(Display.java:2541)</Frame>
          <Frame depth="94">org.eclipse.ui.internal.Workbench.runEventLoop(Workbench.java:1612)</Frame>
          <Frame depth="95">org.eclipse.ui.internal.Workbench.runUI(Workbench.java:1578)</Frame>
          <Frame depth="96">org.eclipse.ui.internal.Workbench.createAndRunWorkbench(Workbench.java:293)</Frame>
          <Frame depth="97">org.eclipse.ui.PlatformUI.createAndRunWorkbench(PlatformUI.java:144)</Frame>
          <Frame depth="98">org.eclipse.ui.internal.ide.IDEApplication.run(IDEApplication.java:102)</Frame>
          <Frame depth="99">org.eclipse.core.internal.runtime.PlatformActivator$1.run(PlatformActivator.java:228)</Frame>
          <Frame depth="100">org.eclipse.core.runtime.adaptor.EclipseStarter.run(EclipseStarter.java:333)</Frame>
          <Frame depth="101">org.eclipse.core.runtime.adaptor.EclipseStarter.run(EclipseStarter.java:150)</Frame>
          <Frame depth="102">sun.reflect.NativeMethodAccessorImpl.invoke0(Native Method)</Frame>
          <Frame depth="103">sun.reflect.NativeMethodAccessorImpl.invoke(Unknown Source)</Frame>
          <Frame depth="104">sun.reflect.DelegatingMethodAccessorImpl.invoke(Unknown Source)</Frame>
          <Frame depth="105">java.lang.reflect.Method.invoke(Unknown Source)</Frame>
          <Frame depth="106">org.eclipse.core.launcher.Main.invokeFramework(Main.java:268)</Frame>
          <Frame depth="107">org.eclipse.core.launcher.Main.basicRun(Main.java:260)</Frame>
          <Frame depth="108">org.eclipse.core.launcher.Main.run(Main.java:887)</Frame>
          <Frame depth="109">org.eclipse.core.launcher.Main.main(Main.java:871)</Frame>
        </Frames>
      </Stacktrace>
    </Stacktraces>
    <SourceCodeRegions amount="0" />
    <Enumerations amount="0" />
    <bug_status amount="RESOLVED" />
    <resolution amount="DUPLICATE" />
    <WithStack>I'm a little new to Eclipse and Bugzilla.  I did some searching and found a 
similar item from 2001.  Probably not relevant, but I didnt' see anything more 
recent.

I've changed my Java editor font.  When I open Preferences / Java / Editor/ 
Syntax Coloring and (without changing anything) click on OK, I get the 
attached exception.

Rob

Eclipse build: Version: 3.1.0
Build id: I20050219-1500

!ENTRY org.eclipse.core.runtime 4 0 2005-04-12 14:59:11.336
!MESSAGE java.lang.IllegalArgumentException: Argument not valid
!STACK 0
java.lang.IllegalArgumentException: Argument not valid
	at org.eclipse.swt.SWT.error(SWT.java:2823)
	at org.eclipse.swt.SWT.error(SWT.java:2762)
	at org.eclipse.swt.SWT.error(SWT.java:2733)
	at org.eclipse.swt.graphics.TextStyle.&lt;init&gt;(TextStyle.java:73)
	at org.eclipse.swt.custom.StyledTextRenderer.getTextLayout
(StyledTextRenderer.java:437)
	at org.eclipse.swt.custom.StyledText$ContentWidthCache.contentWidth
(StyledText.java:1261)
	at org.eclipse.swt.custom.StyledText$ContentWidthCache.calculate
(StyledText.java:1225)
	at org.eclipse.swt.custom.StyledText.redraw(StyledText.java:5860)
	at org.eclipse.swt.custom.StyledText.setForeground
(StyledText.java:6846)
	at org.eclipse.jdt.internal.ui.javaeditor.JavaSourceViewer.unconfigure
(JavaSourceViewer.java:299)
	at org.eclipse.jface.text.source.SourceViewer.handleDispose
(SourceViewer.java:564)
	at 
org.eclipse.jface.text.source.projection.ProjectionViewer.handleDispose
(ProjectionViewer.java:1362)
	at 
org.eclipse.jdt.internal.ui.javaeditor.JavaSourceViewer.handleDispose
(JavaSourceViewer.java:399)
	at org.eclipse.jface.text.TextViewer$1.widgetDisposed
(TextViewer.java:1447)
	at org.eclipse.swt.widgets.TypedListener.handleEvent
(TypedListener.java:100)
	at org.eclipse.swt.widgets.EventTable.sendEvent(EventTable.java:82)
	at org.eclipse.swt.widgets.Widget.sendEvent(Widget.java:842)
	at org.eclipse.swt.widgets.Widget.sendEvent(Widget.java:866)
	at org.eclipse.swt.widgets.Widget.sendEvent(Widget.java:851)
	at org.eclipse.swt.widgets.Widget.notifyListeners(Widget.java:659)
	at org.eclipse.swt.custom.StyledText.handleDispose
(StyledText.java:4914)
	at org.eclipse.swt.custom.StyledText$7.handleEvent
(StyledText.java:4785)
	at org.eclipse.swt.widgets.EventTable.sendEvent(EventTable.java:82)
	at org.eclipse.swt.widgets.Widget.sendEvent(Widget.java:842)
	at org.eclipse.swt.widgets.Widget.sendEvent(Widget.java:866)
	at org.eclipse.swt.widgets.Widget.sendEvent(Widget.java:847)
	at org.eclipse.swt.widgets.Widget.releaseWidget(Widget.java:754)
	at org.eclipse.swt.widgets.Control.releaseWidget(Control.java:1571)
	at org.eclipse.swt.widgets.Scrollable.releaseWidget
(Scrollable.java:195)
	at org.eclipse.swt.widgets.Composite.releaseWidget(Composite.java:588)
	at org.eclipse.swt.widgets.Canvas.releaseWidget(Canvas.java:118)
	at org.eclipse.swt.widgets.Widget.releaseResources(Widget.java:719)
	at org.eclipse.swt.widgets.Composite.releaseChildren
(Composite.java:582)
	at org.eclipse.swt.widgets.Composite.releaseWidget(Composite.java:587)
	at org.eclipse.swt.widgets.Widget.releaseResources(Widget.java:719)
	at org.eclipse.swt.widgets.Composite.releaseChildren
(Composite.java:582)
	at org.eclipse.swt.widgets.Composite.releaseWidget(Composite.java:587)
	at org.eclipse.swt.widgets.Widget.releaseResources(Widget.java:719)
	at org.eclipse.swt.widgets.Composite.releaseChildren
(Composite.java:582)
	at org.eclipse.swt.widgets.Composite.releaseWidget(Composite.java:587)
	at org.eclipse.swt.widgets.Widget.releaseResources(Widget.java:719)
	at org.eclipse.swt.widgets.Composite.releaseChildren
(Composite.java:582)
	at org.eclipse.swt.widgets.Composite.releaseWidget(Composite.java:587)
	at org.eclipse.swt.widgets.Widget.releaseResources(Widget.java:719)
	at org.eclipse.swt.widgets.Composite.releaseChildren
(Composite.java:582)
	at org.eclipse.swt.widgets.Composite.releaseWidget(Composite.java:587)
	at org.eclipse.swt.widgets.Widget.releaseResources(Widget.java:719)
	at org.eclipse.swt.widgets.Composite.releaseChildren
(Composite.java:582)
	at org.eclipse.swt.widgets.Composite.releaseWidget(Composite.java:587)
	at org.eclipse.swt.widgets.Widget.releaseResources(Widget.java:719)
	at org.eclipse.swt.widgets.Composite.releaseChildren
(Composite.java:582)
	at org.eclipse.swt.widgets.Composite.releaseWidget(Composite.java:587)
	at org.eclipse.swt.widgets.Widget.releaseResources(Widget.java:719)
	at org.eclipse.swt.widgets.Composite.releaseChildren
(Composite.java:582)
	at org.eclipse.swt.widgets.Composite.releaseWidget(Composite.java:587)
	at org.eclipse.swt.widgets.Widget.releaseResources(Widget.java:719)
	at org.eclipse.swt.widgets.Composite.releaseChildren
(Composite.java:582)
	at org.eclipse.swt.widgets.Composite.releaseWidget(Composite.java:587)
	at org.eclipse.swt.widgets.Widget.releaseResources(Widget.java:719)
	at org.eclipse.swt.widgets.Composite.releaseChildren
(Composite.java:582)
	at org.eclipse.swt.widgets.Composite.releaseWidget(Composite.java:587)
	at org.eclipse.swt.widgets.Canvas.releaseWidget(Canvas.java:118)
	at org.eclipse.swt.widgets.Decorations.releaseWidget
(Decorations.java:714)
	at org.eclipse.swt.widgets.Shell.releaseWidget(Shell.java:860)
	at org.eclipse.swt.widgets.Widget.dispose(Widget.java:380)
	at org.eclipse.swt.widgets.Decorations.dispose(Decorations.java:373)
	at org.eclipse.swt.widgets.Shell.dispose(Shell.java:492)
	at org.eclipse.jface.window.Window.close(Window.java:278)
	at org.eclipse.jface.dialogs.Dialog.close(Dialog.java:878)
	at org.eclipse.jface.preference.PreferenceDialog.close
(PreferenceDialog.java:276)
	at org.eclipse.ui.internal.dialogs.WorkbenchPreferenceDialog.close
(WorkbenchPreferenceDialog.java:260)
	at org.eclipse.jface.preference.PreferenceDialog$12.run
(PreferenceDialog.java:871)
	at org.eclipse.core.internal.runtime.InternalPlatform.run
(InternalPlatform.java:1015)
	at org.eclipse.core.runtime.Platform.run(Platform.java:757)
	at org.eclipse.jface.preference.PreferenceDialog.okPressed
(PreferenceDialog.java:833)
	at org.eclipse.jface.preference.PreferenceDialog.buttonPressed
(PreferenceDialog.java:220)
	at 
org.eclipse.ui.internal.dialogs.WorkbenchPreferenceDialog.buttonPressed
(WorkbenchPreferenceDialog.java:246)
	at org.eclipse.jface.dialogs.Dialog$2.widgetSelected(Dialog.java:543)
	at org.eclipse.swt.widgets.TypedListener.handleEvent
(TypedListener.java:89)
	at org.eclipse.swt.widgets.EventTable.sendEvent(EventTable.java:82)
	at org.eclipse.swt.widgets.Widget.sendEvent(Widget.java:842)
	at org.eclipse.swt.widgets.Display.runDeferredEvents(Display.java:2908)
	at org.eclipse.swt.widgets.Display.readAndDispatch(Display.java:2541)
	at org.eclipse.jface.window.Window.runEventLoop(Window.java:718)
	at org.eclipse.jface.window.Window.open(Window.java:696)
	at org.eclipse.ui.internal.OpenPreferencesAction.run
(OpenPreferencesAction.java:66)
	at org.eclipse.jface.action.Action.runWithEvent(Action.java:1003)
	at 
org.eclipse.jface.action.ActionContributionItem.handleWidgetSelection
(ActionContributionItem.java:557)
	at org.eclipse.jface.action.ActionContributionItem.access$2
(ActionContributionItem.java:507)
	at org.eclipse.jface.action.ActionContributionItem$6.handleEvent
(ActionContributionItem.java:421)
	at org.eclipse.swt.widgets.EventTable.sendEvent(EventTable.java:82)
	at org.eclipse.swt.widgets.Widget.sendEvent(Widget.java:842)
	at org.eclipse.swt.widgets.Display.runDeferredEvents(Display.java:2908)
	at org.eclipse.swt.widgets.Display.readAndDispatch(Display.java:2541)
	at org.eclipse.ui.internal.Workbench.runEventLoop(Workbench.java:1612)
	at org.eclipse.ui.internal.Workbench.runUI(Workbench.java:1578)
	at org.eclipse.ui.internal.Workbench.createAndRunWorkbench
(Workbench.java:293)
	at org.eclipse.ui.PlatformUI.createAndRunWorkbench(PlatformUI.java:144)
	at org.eclipse.ui.internal.ide.IDEApplication.run
(IDEApplication.java:102)
	at org.eclipse.core.internal.runtime.PlatformActivator$1.run
(PlatformActivator.java:228)
	at org.eclipse.core.runtime.adaptor.EclipseStarter.run
(EclipseStarter.java:333)
	at org.eclipse.core.runtime.adaptor.EclipseStarter.run
(EclipseStarter.java:150)
	at sun.reflect.NativeMethodAccessorImpl.invoke0(Native Method)
	at sun.reflect.NativeMethodAccessorImpl.invoke(Unknown Source)
	at sun.reflect.DelegatingMethodAccessorImpl.invoke(Unknown Source)
	at java.lang.reflect.Method.invoke(Unknown Source)
	at org.eclipse.core.launcher.Main.invokeFramework(Main.java:268)
	at org.eclipse.core.launcher.Main.basicRun(Main.java:260)
	at org.eclipse.core.launcher.Main.run(Main.java:887)
	at org.eclipse.core.launcher.Main.main(Main.java:871)
FH to fix this. Could it be the old "width can't be zero" bug/feature?
If you desire, I can send you the font I'm using.  It's something I got from 
the Codewright editor I used to use.  I've also changed a lot of colors, but 
it seems to be the font that is doing the crashing.

Rob
Application has disposed a color (foreground color in this case) that was 
still in use by the StyledText.
Maybe this is known problem, moving to Text for comments.


*** This bug has been marked as a duplicate of 86177 ***</WithStack>
    <WithOutStack>I'm a little new to Eclipse and Bugzilla.  I did some searching and found a 
similar item from 2001.  Probably not relevant, but I didnt' see anything more 
recent.

I've changed my Java editor font.  When I open Preferences / Java / Editor/ 
Syntax Coloring and (without changing anything) click on OK, I get the 
attached exception.

Rob

Eclipse build: Version: 3.1.0
Build id: I20050219-1500

!ENTRY org.eclipse.core.runtime 4 0 2005-04-12 14:59:11.336
!MESSAGE java.lang.IllegalArgumentException: Argument not valid
!STACK 0

FH to fix this. Could it be the old "width can't be zero" bug/feature?
If you desire, I can send you the font I'm using.  It's something I got from 
the Codewright editor I used to use.  I've also changed a lot of colors, but 
it seems to be the font that is doing the crashing.

Rob
Application has disposed a color (foreground color in this case) that was 
still in use by the StyledText.
Maybe this is known problem, moving to Text for comments.


*** This bug has been marked as a duplicate of 86177 ***</WithOutStack>
  </Bug>
  <Bug>
    <BugId amount="91189" />
    <CreationDate amount="2005-04-12 15:54:00 -0400" />
    <DupId amount="" />
    <classification amount="Tools" />
    <Product amount="GEF" />
    <component amount="GEF (MVC) [GEF 3.x / Zest 1.x]" />
    <Version amount="3.1" />
    <rep_platform amount="PC" />
    <op_sys amount="Windows XP" />
    <priority amount="P3" />
    <bug_severity amount="normal" />
    <Summery>MarqueeSelectionTool does not revert to default mode</Summery>
    <Patches amount="0" />
    <Stacktraces amount="0" />
    <SourceCodeRegions amount="0" />
    <Enumerations amount="0" />
    <bug_status amount="RESOLVED" />
    <resolution amount="FIXED" />
    <WithStack>Once the marquee tool goes into either the toggle or append mode, it does not 
ever revert back to the default mode.

I have verified that this bug existed in 3.0.
Fixed and released to HEAD.  Added DEFAULT_MODE that the tool reverts if no 
key is pressed when drag is started.</WithStack>
    <WithOutStack>Once the marquee tool goes into either the toggle or append mode, it does not 
ever revert back to the default mode.

I have verified that this bug existed in 3.0.
Fixed and released to HEAD.  Added DEFAULT_MODE that the tool reverts if no 
key is pressed when drag is started.</WithOutStack>
  </Bug>
  <Bug>
    <BugId amount="91190" />
    <CreationDate amount="2005-04-12 16:05:00 -0400" />
    <DupId amount="" />
    <classification amount="Modeling" />
    <Product amount="EMF" />
    <component amount="Core" />
    <Version amount="2.1" />
    <rep_platform amount="PC" />
    <op_sys amount="Windows 2000" />
    <priority amount="P3" />
    <bug_severity amount="enhancement" />
    <Summery>Allow BasicExtendedMetaData to lookup/save annotations in a side map.</Summery>
    <Patches amount="0" />
    <Stacktraces amount="0" />
    <SourceCodeRegions amount="0" />
    <Enumerations amount="0" />
    <bug_status amount="VERIFIED" />
    <resolution amount="FIXED" />
    <WithStack>The change to BasicExtendedMetaData is committed to CVS.
The fix is available on the I200504141117 build.
Move to verified as per bug 206558.</WithStack>
    <WithOutStack>The change to BasicExtendedMetaData is committed to CVS.
The fix is available on the I200504141117 build.
Move to verified as per bug 206558.</WithOutStack>
  </Bug>
  <Bug>
    <BugId amount="91191" />
    <CreationDate amount="2005-04-12 16:05:00 -0400" />
    <DupId amount="" />
    <classification amount="Eclipse" />
    <Product amount="Platform" />
    <component amount="Compare" />
    <Version amount="3.1" />
    <rep_platform amount="PC" />
    <op_sys amount="Windows XP" />
    <priority amount="P3" />
    <bug_severity amount="normal" />
    <Summery>[Algorithms] Select next change did not select past single quote in comment</Summery>
    <Patches amount="0" />
    <Stacktraces amount="0" />
    <SourceCodeRegions amount="2">
      <source_code type="multicomment">
        <location start="94" end="277" />
        <code>/**
	 * the number of times to repeat the display of a sequence
	 * of animated images (this corresponds to the commonly-used
	 * GIF application extension for "NETSCAPE 2.0 01
	 */</code>
      </source_code>
      <source_code type="multicomment">
        <location start="309" end="557" />
        <code>/**
	 * the number of times to repeat the display of a sequence
	 * of animated images (this corresponds to the commonly-used
	 * GIF application extension for "NETSCAPE 2.0 01").
	 * The default is 1. A value of 0 means 'display repeatedly'
	 */</code>
      </source_code>
    </SourceCodeRegions>
    <Enumerations amount="0" />
    <bug_status amount="RESOLVED" />
    <resolution amount="WORKSFORME" />
    <WithStack>I20050401-1205

I changed a comment for a field in org.eclipse.swt.graphics.ImageLoader from:

	/**
	 * the number of times to repeat the display of a sequence
	 * of animated images (this corresponds to the commonly-used
	 * GIF application extension for "NETSCAPE 2.0 01
	 */
	public int repeatCount;


to:

	/**
	 * the number of times to repeat the display of a sequence
	 * of animated images (this corresponds to the commonly-used
	 * GIF application extension for "NETSCAPE 2.0 01").
	 * The default is 1. A value of 0 means 'display repeatedly'
	 */
	public int repeatCount;


In other words, I added a period and one new line of text.
Then before committing the change, I synchronized, and clicked the "Select 
next change" arrow in the compare browser. I expected to see the following 
text selected:
.
	 * The default is 1. A value of 0 means 'display repeatedly'

but instead, only this text was selected:
.
	 * The default is 1. A value of 0 means 

i.e. the selection stopped at the '
The Java comment tokenizer was fixed in 3.3.</WithStack>
    <WithOutStack>I20050401-1205

I changed a comment for a field in org.eclipse.swt.graphics.ImageLoader from:

	/**
	 * the number of times to repeat the display of a sequence
	 * of animated images (this corresponds to the commonly-used
	 * GIF application extension for "NETSCAPE 2.0 01
	 */
	public int repeatCount;


to:

	/**
	 * the number of times to repeat the display of a sequence
	 * of animated images (this corresponds to the commonly-used
	 * GIF application extension for "NETSCAPE 2.0 01").
	 * The default is 1. A value of 0 means 'display repeatedly'
	 */
	public int repeatCount;


In other words, I added a period and one new line of text.
Then before committing the change, I synchronized, and clicked the "Select 
next change" arrow in the compare browser. I expected to see the following 
text selected:
.
	 * The default is 1. A value of 0 means 'display repeatedly'

but instead, only this text was selected:
.
	 * The default is 1. A value of 0 means 

i.e. the selection stopped at the '
The Java comment tokenizer was fixed in 3.3.</WithOutStack>
  </Bug>
  <Bug>
    <BugId amount="91192" />
    <CreationDate amount="2005-04-12 16:09:00 -0400" />
    <DupId amount="" />
    <classification amount="Eclipse" />
    <Product amount="JDT" />
    <component amount="UI" />
    <Version amount="3.1" />
    <rep_platform amount="PC" />
    <op_sys amount="All" />
    <priority amount="P4" />
    <bug_severity amount="enhancement" />
    <Summery>[JUnit] Each jUnit test should allow to just to unit test part of the standard out</Summery>
    <Patches amount="0" />
    <Stacktraces amount="0" />
    <SourceCodeRegions amount="0" />
    <Enumerations amount="0" />
    <bug_status amount="RESOLVED" />
    <resolution amount="WONTFIX" />
    <WithStack>Intellij has a nice feature within their jUnit support. I'm not sure how they do
this, but they are able to keep all the output for the console. Plus, clicking
on the test in the Run view will jump the console to the part of the standard
out. This is a wonderful feature when testing problems in unit tests.
Has to wait until &gt; 3.1
As of now 'LATER' and 'REMIND' resolutions are no longer supported.
Please reopen this bug if it is still valid for you.</WithStack>
    <WithOutStack>Intellij has a nice feature within their jUnit support. I'm not sure how they do
this, but they are able to keep all the output for the console. Plus, clicking
on the test in the Run view will jump the console to the part of the standard
out. This is a wonderful feature when testing problems in unit tests.
Has to wait until &gt; 3.1
As of now 'LATER' and 'REMIND' resolutions are no longer supported.
Please reopen this bug if it is still valid for you.</WithOutStack>
  </Bug>
  <Bug>
    <BugId amount="91193" />
    <CreationDate amount="2005-04-12 16:15:00 -0400" />
    <DupId amount="" />
    <classification amount="Eclipse" />
    <Product amount="Platform" />
    <component amount="UI" />
    <Version amount="3.1" />
    <rep_platform amount="PC" />
    <op_sys amount="Windows XP" />
    <priority amount="P3" />
    <bug_severity amount="normal" />
    <Summery>[FastViews] Impove the fast view work more like auto hide views in VS and Intellij</Summery>
    <Patches amount="0" />
    <Stacktraces amount="0" />
    <SourceCodeRegions amount="0" />
    <Enumerations amount="0" />
    <bug_status amount="RESOLVED" />
    <resolution amount="WONTFIX" />
    <WithStack>One the features I miss from VS.net and IntelliJ is auto hide feature of views.
This is something that both better than Eclipse's Fast Views. I'm pretty sure
that even Netbeans now has this feature. This is great tool to deal with the
complexity of an IDE.

We're deprecating the FVB but I'll keep this in mind for future work.</WithStack>
    <WithOutStack>One the features I miss from VS.net and IntelliJ is auto hide feature of views.
This is something that both better than Eclipse's Fast Views. I'm pretty sure
that even Netbeans now has this feature. This is great tool to deal with the
complexity of an IDE.

We're deprecating the FVB but I'll keep this in mind for future work.</WithOutStack>
  </Bug>
  <Bug>
    <BugId amount="91194" />
    <CreationDate amount="2005-04-12 16:21:00 -0400" />
    <DupId amount="" />
    <classification amount="WebTools" />
    <Product amount="WTP Webservices" />
    <component amount="wst.wsdl" />
    <Version amount="unspecified" />
    <rep_platform amount="PC" />
    <op_sys amount="Windows XP" />
    <priority amount="P3" />
    <bug_severity amount="normal" />
    <Summery>[Editor] The enabled context menu for a imported/data type is misleading</Summery>
    <Patches amount="0" />
    <Stacktraces amount="0" />
    <SourceCodeRegions amount="0" />
    <Enumerations amount="0" />
    <bug_status amount="CLOSED" />
    <resolution amount="FIXED" />
    <WithStack>if a data type is imported or refering to a type created in an external(  
included/imported schema), user should not be allowed to make any modification 
on this inported data type directly, hence the context menu popped up should be 
disabled
Fixed now.
This is part of a mass update to close out all stale WTP bugs which are in the resolved state without an appropriate targeted version.  If you feel this bug was closed inappropriately, please reopen.</WithStack>
    <WithOutStack>if a data type is imported or refering to a type created in an external(  
included/imported schema), user should not be allowed to make any modification 
on this inported data type directly, hence the context menu popped up should be 
disabled
Fixed now.
This is part of a mass update to close out all stale WTP bugs which are in the resolved state without an appropriate targeted version.  If you feel this bug was closed inappropriately, please reopen.</WithOutStack>
  </Bug>
  <Bug>
    <BugId amount="91195" />
    <CreationDate amount="2005-04-12 16:25:00 -0400" />
    <DupId amount="87222" />
    <classification amount="Eclipse" />
    <Product amount="Platform" />
    <component amount="UI" />
    <Version amount="3.1" />
    <rep_platform amount="All" />
    <op_sys amount="All" />
    <priority amount="P3" />
    <bug_severity amount="normal" />
    <Summery>[KeyBindings] preference page: Same keybinding used in different contexts is shown only once</Summery>
    <Patches amount="0" />
    <Stacktraces amount="0" />
    <SourceCodeRegions amount="0" />
    <Enumerations amount="0" />
    <bug_status amount="RESOLVED" />
    <resolution amount="DUPLICATE" />
    <WithStack>I20050405-0800

When the same keybinding is used in different contexts, the Keys preference page
shows only one of them in the list and on the modify tab. The other one is
completely swept under the rug.

One example is Ctrl+F10, which opens the ruler context menu when 'Editing Text',
but also opens the view menu in the 'In Windows' context (the second binding is
not visible on the Keys page, but correctly shows up in Window &gt; Navigation menu).

Another example is this:
 
org.eclipse.jdt.ui declares (this is not visible):
   &lt;extension point="org.eclipse.ui.bindings"&gt;
      &lt;key
            sequence="M1+M2+F"
            contextId="org.eclipse.jdt.ui.javaEditorScope"
            commandId="org.eclipse.jdt.ui.edit.text.java.format"
            schemeId="org.eclipse.ui.defaultAcceleratorConfiguration"/&gt;
   ...

org.eclipse.ant.ui declares:
   &lt;extension point="org.eclipse.ui.commands"&gt;
      &lt;keyBinding
            keySequence="M1+SHIFT+F"
            contextId="org.eclipse.ant.ui.AntEditorScope"
            commandId="org.eclipse.ant.ui.format"
            keyConfigurationId="org.eclipse.ui.defaultAcceleratorConfiguration"&gt;
      &lt;/keyBinding&gt;
   ...


*** This bug has been marked as a duplicate of 87222 ***</WithStack>
    <WithOutStack>I20050405-0800

When the same keybinding is used in different contexts, the Keys preference page
shows only one of them in the list and on the modify tab. The other one is
completely swept under the rug.

One example is Ctrl+F10, which opens the ruler context menu when 'Editing Text',
but also opens the view menu in the 'In Windows' context (the second binding is
not visible on the Keys page, but correctly shows up in Window &gt; Navigation menu).

Another example is this:
 
org.eclipse.jdt.ui declares (this is not visible):
   &lt;extension point="org.eclipse.ui.bindings"&gt;
      &lt;key
            sequence="M1+M2+F"
            contextId="org.eclipse.jdt.ui.javaEditorScope"
            commandId="org.eclipse.jdt.ui.edit.text.java.format"
            schemeId="org.eclipse.ui.defaultAcceleratorConfiguration"/&gt;
   ...

org.eclipse.ant.ui declares:
   &lt;extension point="org.eclipse.ui.commands"&gt;
      &lt;keyBinding
            keySequence="M1+SHIFT+F"
            contextId="org.eclipse.ant.ui.AntEditorScope"
            commandId="org.eclipse.ant.ui.format"
            keyConfigurationId="org.eclipse.ui.defaultAcceleratorConfiguration"&gt;
      &lt;/keyBinding&gt;
   ...


*** This bug has been marked as a duplicate of 87222 ***</WithOutStack>
  </Bug>
  <Bug>
    <BugId amount="91196" />
    <CreationDate amount="2005-04-12 16:31:00 -0400" />
    <DupId amount="" />
    <classification amount="Eclipse" />
    <Product amount="Platform" />
    <component amount="CVS" />
    <Version amount="3.0.1" />
    <rep_platform amount="PC" />
    <op_sys amount="Windows XP" />
    <priority amount="P3" />
    <bug_severity amount="normal" />
    <Summery>cvs pserver to local gets connection reset by peer</Summery>
    <Patches amount="0" />
    <Stacktraces amount="0" />
    <SourceCodeRegions amount="0" />
    <Enumerations amount="0" />
    <bug_status amount="RESOLVED" />
    <resolution amount="INVALID" />
    <WithStack>Tried running an ant script using the cvs tags.  Afterwards, all cvs access 
seems to be giving a Connection reset by peer.  The connection is and has been 
a :pserver:woo@localhost:/cygwin/usr/local/cvsroot checkout xyz.java

where I'm cd'd into the project/src/x.y.z package where xyz.java is located.

Many of the ant tasks still work, but I can't get eclipse to reset so that it 
can connect.  There is no information about "recovering" when this happens.  
I've restored the cvs root from a backup file, reinstalled eclipse, reinstalled 
WinCVS that runs the server.
You have not provided enough information for me to try to reproduce this 
failure. Even if you did, it is more likely a configuration issue than an 
issue with the Eclipse client itself. There isn't really any better 
description of the problem that can be given. When the client tries to connect 
to the server, the "connection reset by peer" is the connection error that 
Java gives us. I don't know enough about cygwin to hazard a guess about what 
is going wrong. You may want to ask on the eclipse-platform newsgroup.</WithStack>
    <WithOutStack>Tried running an ant script using the cvs tags.  Afterwards, all cvs access 
seems to be giving a Connection reset by peer.  The connection is and has been 
a :pserver:woo@localhost:/cygwin/usr/local/cvsroot checkout xyz.java

where I'm cd'd into the project/src/x.y.z package where xyz.java is located.

Many of the ant tasks still work, but I can't get eclipse to reset so that it 
can connect.  There is no information about "recovering" when this happens.  
I've restored the cvs root from a backup file, reinstalled eclipse, reinstalled 
WinCVS that runs the server.
You have not provided enough information for me to try to reproduce this 
failure. Even if you did, it is more likely a configuration issue than an 
issue with the Eclipse client itself. There isn't really any better 
description of the problem that can be given. When the client tries to connect 
to the server, the "connection reset by peer" is the connection error that 
Java gives us. I don't know enough about cygwin to hazard a guess about what 
is going wrong. You may want to ask on the eclipse-platform newsgroup.</WithOutStack>
  </Bug>
  <Bug>
    <BugId amount="91197" />
    <CreationDate amount="2005-04-12 16:36:00 -0400" />
    <DupId amount="" />
    <classification amount="WebTools" />
    <Product amount="WTP Webservices" />
    <component amount="wst.wsdl" />
    <Version amount="unspecified" />
    <rep_platform amount="PC" />
    <op_sys amount="Windows XP" />
    <priority amount="P3" />
    <bug_severity amount="enhancement" />
    <Summery>[editor] WSI-compliant: type for a messge part can't be "type" should be set as "element"</Summery>
    <Patches amount="0" />
    <Stacktraces amount="0" />
    <SourceCodeRegions amount="0" />
    <Enumerations amount="0" />
    <bug_status amount="NEW" />
    <resolution amount="" />
    <WithStack>May's suggesting that we 'disable' the setType action when the user has chosen
to work in 'require WS-I compliance' mode.
This is slightly more complex than just enforcing that 'element' is chosen.  We have to understand the nature of the portType style (literal or encoded).  In some cases we'd only enable 'element' (when it's literal) in others we'd only enable 'type' (when it's encoded).  Since we guide the user along this path when new operations are created I think this is a fairly minor problem ... but one that is worth fixing when time permits.
Any update on this particular bug?  It sounds like it could be a good candidate for Bug Day?
Sure, if anyone wants to take a stab at this for bug day, I don't mind.
I'll also add investigate to the whiteboard just to serve as a reminder for me to consider this for 3.1.
This sounds more like an enhancement to me. Help is appreciated.</WithStack>
    <WithOutStack>May's suggesting that we 'disable' the setType action when the user has chosen
to work in 'require WS-I compliance' mode.
This is slightly more complex than just enforcing that 'element' is chosen.  We have to understand the nature of the portType style (literal or encoded).  In some cases we'd only enable 'element' (when it's literal) in others we'd only enable 'type' (when it's encoded).  Since we guide the user along this path when new operations are created I think this is a fairly minor problem ... but one that is worth fixing when time permits.
Any update on this particular bug?  It sounds like it could be a good candidate for Bug Day?
Sure, if anyone wants to take a stab at this for bug day, I don't mind.
I'll also add investigate to the whiteboard just to serve as a reminder for me to consider this for 3.1.
This sounds more like an enhancement to me. Help is appreciated.</WithOutStack>
  </Bug>
  <Bug>
    <BugId amount="91198" />
    <CreationDate amount="2005-04-12 16:38:00 -0400" />
    <DupId amount="" />
    <classification amount="WebTools" />
    <Product amount="WTP Webservices" />
    <component amount="wst.wsdl" />
    <Version amount="unspecified" />
    <rep_platform amount="PC" />
    <op_sys amount="Windows XP" />
    <priority amount="P3" />
    <bug_severity amount="normal" />
    <Summery>Imported element with a namespace "NULL"</Summery>
    <Patches amount="0" />
    <Stacktraces amount="0" />
    <SourceCodeRegions amount="0" />
    <Enumerations amount="0" />
    <bug_status amount="CLOSED" />
    <resolution amount="INVALID" />
    <WithStack>As a schema is imported in a WSDl, the imported schema elements have a prefix 
as "NULL"
May, can you recall the steps required to reproduce this?

I do remember the WSDL editor was used and given some series of steps it
resulted in generating 'null' as the prefix name.  So we had xmlns declarations
like this 'xmlns:null="http://xxxxx"'.  
(In reply to comment #1)
&gt; May, can you recall the steps required to reproduce this?
&gt; I do remember the WSDL editor was used and given some series of steps it
&gt; resulted in generating 'null' as the prefix name.  So we had xmlns 
declarations
&gt; like this 'xmlns:null="http://xxxxx"'.  

Sorry, can't recall the steps since it has been a while.Anyhow, if the problem 
is not produced anymore, it could be gone. I will further test on this. 
May, if you're able to reproduce this, please reopen.
closing bug</WithStack>
    <WithOutStack>As a schema is imported in a WSDl, the imported schema elements have a prefix 
as "NULL"
May, can you recall the steps required to reproduce this?

I do remember the WSDL editor was used and given some series of steps it
resulted in generating 'null' as the prefix name.  So we had xmlns declarations
like this 'xmlns:null="http://xxxxx"'.  
(In reply to comment #1)
&gt; May, can you recall the steps required to reproduce this?
&gt; I do remember the WSDL editor was used and given some series of steps it
&gt; resulted in generating 'null' as the prefix name.  So we had xmlns 
declarations
&gt; like this 'xmlns:null="http://xxxxx"'.  

Sorry, can't recall the steps since it has been a while.Anyhow, if the problem 
is not produced anymore, it could be gone. I will further test on this. 
May, if you're able to reproduce this, please reopen.
closing bug</WithOutStack>
  </Bug>
  <Bug>
    <BugId amount="91199" />
    <CreationDate amount="2005-04-12 16:40:00 -0400" />
    <DupId amount="" />
    <classification amount="WebTools" />
    <Product amount="WTP Webservices" />
    <component amount="wst.wsdl" />
    <Version amount="0.7" />
    <rep_platform amount="PC" />
    <op_sys amount="Windows XP" />
    <priority amount="P3" />
    <bug_severity amount="normal" />
    <Summery>If only a portType needs to be reused in another WSDL, when imported the portType, all other contents in that WSDL imported into the new WSDL file</Summery>
    <Patches amount="0" />
    <Stacktraces amount="0" />
    <SourceCodeRegions amount="0" />
    <Enumerations amount="0" />
    <bug_status amount="CLOSED" />
    <resolution amount="WONTFIX" />
    <WithStack>Changed Version field given new release numbering.

Hmmm... there's really nothing we can do here.  The rules of WSDL don't allow
only parts of the WSDL to be imported.  It's all or nothing.
closed</WithStack>
    <WithOutStack>Changed Version field given new release numbering.

Hmmm... there's really nothing we can do here.  The rules of WSDL don't allow
only parts of the WSDL to be imported.  It's all or nothing.
closed</WithOutStack>
  </Bug>
  <Bug>
    <BugId amount="91200" />
    <CreationDate amount="2005-04-12 16:42:00 -0400" />
    <DupId amount="" />
    <classification amount="WebTools" />
    <Product amount="WTP Webservices" />
    <component amount="wst.wsdl" />
    <Version amount="0.7" />
    <rep_platform amount="PC" />
    <op_sys amount="Windows XP" />
    <priority amount="P3" />
    <bug_severity amount="enhancement" />
    <Summery>[outline] improve the way schema imports are visualized (for imports via a 'shell' inline schema)</Summery>
    <Patches amount="0" />
    <Stacktraces amount="0" />
    <SourceCodeRegions amount="0" />
    <Enumerations amount="0" />
    <bug_status amount="NEW" />
    <resolution amount="" />
    <WithStack>Changed Version field given new release numbering.

This is a case where we should be showing imports directly in the 'types'
sections under the XML Schema's. Currently our view is only 1 level deep but we
need to make it 2 levels deep so the imports can be seen.
Let me clarify this one a bit...

Currently the WSDL editor has a few categories visible in the outline

Imports
Types
etc...

WSDL syntax is god awful as everyone knows... so in order to add a schema import one needs to do this...

   &lt;wsdl:types&gt;
      &lt;xsd:schema xmlns:xsd="http://www.w3.org/2001/XMLSchema"&gt;
	&lt;xsd:import namespace="http://SpaceWarGame" shemaLocation="SpaceWarGame.xsd"/&gt;
     &lt;/xsd:schema&gt;
  &lt;/wsdl:types&gt;


Currently, in the outline, we represent the above like this (and user need to open the inline schema to see the imports) ...

  Imports
  Types
      [schema-icon] 'inline schema'
  etc...


May's suggestion is to represent it like this so that the user can see into the 'shell schema' (that doesn nothing interesting other than hold imports).

  Imports
  Types
      [schema-icon] 'inline schema'
         [import-icon] SpaceWarGame.xsd
  etc...

I'd even suggest going a step further display things like this..

  Imports    
     [schema-icon] SpaceWarGame.xsd
  Inline Types
  etc...

  -- or -- 

  Imports    
  Types
     [schema-icon] SpaceWarGame.xsd
  etc...

So in this case we completely hide the inline schema (since it's not doing anything other than holding imports).  Of the 2 alternatives the 1st probably makes more sense to a novice.  The 2nd jives best with WSDL 2.0 syntax.
Any chance to revist this for 3.1?   This is a pretty big useability issue from a WSDL development stand point.  Particularly when you do have multiple schemas that are being imported from multiple namespaces.

Anything we can do to help the UI portion of working with WSDL is a big benefit.  Especially since this bug has been opened since 0.7.  Is it still even valid?

Adding investigate to the whiteboard just to serve as a reminder for me to consider this for 3.1.
This sounds like an enhancement to me. We'll try for 3.1 but help is always welcome and appreciated.
Not enough cycles for this in 3.1. Again, any contributions are welcome and appreciated.</WithStack>
    <WithOutStack>Changed Version field given new release numbering.

This is a case where we should be showing imports directly in the 'types'
sections under the XML Schema's. Currently our view is only 1 level deep but we
need to make it 2 levels deep so the imports can be seen.
Let me clarify this one a bit...

Currently the WSDL editor has a few categories visible in the outline

Imports
Types
etc...

WSDL syntax is god awful as everyone knows... so in order to add a schema import one needs to do this...

   &lt;wsdl:types&gt;
      &lt;xsd:schema xmlns:xsd="http://www.w3.org/2001/XMLSchema"&gt;
	&lt;xsd:import namespace="http://SpaceWarGame" shemaLocation="SpaceWarGame.xsd"/&gt;
     &lt;/xsd:schema&gt;
  &lt;/wsdl:types&gt;


Currently, in the outline, we represent the above like this (and user need to open the inline schema to see the imports) ...

  Imports
  Types
      [schema-icon] 'inline schema'
  etc...


May's suggestion is to represent it like this so that the user can see into the 'shell schema' (that doesn nothing interesting other than hold imports).

  Imports
  Types
      [schema-icon] 'inline schema'
         [import-icon] SpaceWarGame.xsd
  etc...

I'd even suggest going a step further display things like this..

  Imports    
     [schema-icon] SpaceWarGame.xsd
  Inline Types
  etc...

  -- or -- 

  Imports    
  Types
     [schema-icon] SpaceWarGame.xsd
  etc...

So in this case we completely hide the inline schema (since it's not doing anything other than holding imports).  Of the 2 alternatives the 1st probably makes more sense to a novice.  The 2nd jives best with WSDL 2.0 syntax.
Any chance to revist this for 3.1?   This is a pretty big useability issue from a WSDL development stand point.  Particularly when you do have multiple schemas that are being imported from multiple namespaces.

Anything we can do to help the UI portion of working with WSDL is a big benefit.  Especially since this bug has been opened since 0.7.  Is it still even valid?

Adding investigate to the whiteboard just to serve as a reminder for me to consider this for 3.1.
This sounds like an enhancement to me. We'll try for 3.1 but help is always welcome and appreciated.
Not enough cycles for this in 3.1. Again, any contributions are welcome and appreciated.</WithOutStack>
  </Bug>
</infozilla-output>

