<?xml version="1.0" encoding="UTF-8"?>
<infozilla-output>
  <Bug>
    <BugId amount="98501" />
    <CreationDate amount="2005-06-06 09:29:00 -0400" />
    <DupId amount="" />
    <classification amount="Eclipse" />
    <Product amount="PDE" />
    <component amount="UI" />
    <Version amount="3.1" />
    <rep_platform amount="PC" />
    <op_sys amount="Windows XP" />
    <priority amount="P3" />
    <bug_severity amount="normal" />
    <Summery>NPE when creating an update site project</Summery>
    <Patches amount="0" />
    <Stacktraces amount="1">
      <Stacktrace timestamp="1437341279292">
        <Exception>java.lang.NullPointerException</Exception>
        <Reason />
        <Frames>
          <Frame depth="0">org.eclipse.jface.text.source.AnnotationModel.connect(AnnotationModel.java:351)</Frame>
          <Frame depth="1">org.eclipse.pde.internal.ui.editor.context.InputContext.create(InputContext.java:167)</Frame>
          <Frame depth="2">org.eclipse.pde.internal.ui.editor.site.SiteInputContext.&lt;init&gt;(SiteInputContext.java:46)</Frame>
          <Frame depth="3">org.eclipse.pde.internal.ui.editor.site.SiteEditor.createResourceContexts(SiteEditor.java:51)</Frame>
          <Frame depth="4">org.eclipse.pde.internal.ui.editor.PDEFormEditor.createInputContexts(PDEFormEditor.java:177)</Frame>
          <Frame depth="5">org.eclipse.pde.internal.ui.editor.PDEFormEditor.createPages(PDEFormEditor.java:221)</Frame>
          <Frame depth="6">org.eclipse.ui.part.MultiPageEditorPart.createPartControl(MultiPageEditorPart.java:241)</Frame>
          <Frame depth="7">org.eclipse.ui.internal.EditorReference.createPartHelper(EditorReference.java:585)</Frame>
          <Frame depth="8">org.eclipse.ui.internal.EditorReference.createPart(EditorReference.java:365)</Frame>
          <Frame depth="9">org.eclipse.ui.internal.WorkbenchPartReference.getPart(WorkbenchPartReference.java:551)</Frame>
          <Frame depth="10">org.eclipse.ui.internal.PartPane.setVisible(PartPane.java:283)</Frame>
          <Frame depth="11">org.eclipse.ui.internal.presentations.PresentablePart.setVisible(PresentablePart.java:126)</Frame>
          <Frame depth="12">org.eclipse.ui.internal.presentations.util.PresentablePartFolder.select(PresentablePartFolder.java:271)</Frame>
          <Frame depth="13">org.eclipse.ui.internal.presentations.util.LeftToRightTabOrder.select(LeftToRightTabOrder.java:65)</Frame>
          <Frame depth="14">org.eclipse.ui.internal.presentations.util.TabbedStackPresentation.selectPart(TabbedStackPresentation.java:391)</Frame>
          <Frame depth="15">org.eclipse.ui.internal.PartStack.refreshPresentationSelection(PartStack.java:1106)</Frame>
          <Frame depth="16">org.eclipse.ui.internal.PartStack.setSelection(PartStack.java:1055)</Frame>
          <Frame depth="17">org.eclipse.ui.internal.PartStack.showPart(PartStack.java:1260)</Frame>
          <Frame depth="18">org.eclipse.ui.internal.PartStack.add(PartStack.java:442)</Frame>
          <Frame depth="19">org.eclipse.ui.internal.EditorStack.add(EditorStack.java:109)</Frame>
          <Frame depth="20">org.eclipse.ui.internal.EditorSashContainer.addEditor(EditorSashContainer.java:60)</Frame>
          <Frame depth="21">org.eclipse.ui.internal.EditorAreaHelper.addToLayout(EditorAreaHelper.java:212)</Frame>
          <Frame depth="22">org.eclipse.ui.internal.EditorAreaHelper.addEditor(EditorAreaHelper.java:202)</Frame>
          <Frame depth="23">org.eclipse.ui.internal.EditorManager.createEditorTab(EditorManager.java:753)</Frame>
          <Frame depth="24">org.eclipse.ui.internal.EditorManager.openEditorFromDescriptor(EditorManager.java:665)</Frame>
          <Frame depth="25">org.eclipse.ui.internal.EditorManager.openEditor(EditorManager.java:628)</Frame>
          <Frame depth="26">org.eclipse.ui.internal.WorkbenchPage.busyOpenEditorBatched(WorkbenchPage.java:2311)</Frame>
          <Frame depth="27">org.eclipse.ui.internal.WorkbenchPage.busyOpenEditor(WorkbenchPage.java:2246)</Frame>
          <Frame depth="28">org.eclipse.ui.internal.WorkbenchPage.access$9(WorkbenchPage.java:2238)</Frame>
          <Frame depth="29">org.eclipse.ui.internal.WorkbenchPage$9.run(WorkbenchPage.java:2224)</Frame>
          <Frame depth="30">org.eclipse.swt.custom.BusyIndicator.showWhile(BusyIndicator.java:69)</Frame>
          <Frame depth="31">org.eclipse.ui.internal.WorkbenchPage.openEditor(WorkbenchPage.java:2219)</Frame>
          <Frame depth="32">org.eclipse.ui.internal.WorkbenchPage.openEditor(WorkbenchPage.java:2192)</Frame>
          <Frame depth="33">org.eclipse.pde.internal.ui.wizards.site.NewSiteProjectCreationOperation$1.run(NewSiteProjectCreationOperation.java:116)</Frame>
          <Frame depth="34">org.eclipse.swt.widgets.RunnableLock.run(RunnableLock.java:35)</Frame>
          <Frame depth="35">org.eclipse.swt.widgets.Synchronizer.runAsyncMessages(Synchronizer.java:118)</Frame>
          <Frame depth="36">org.eclipse.swt.widgets.Display.runAsyncMessages(Display.java:2906)</Frame>
          <Frame depth="37">org.eclipse.swt.widgets.Display.readAndDispatch(Display.java:2565)</Frame>
          <Frame depth="38">org.eclipse.ui.internal.Workbench.runEventLoop(Workbench.java:1694)</Frame>
          <Frame depth="39">org.eclipse.ui.internal.Workbench.runUI(Workbench.java:1658)</Frame>
          <Frame depth="40">org.eclipse.ui.internal.Workbench.createAndRunWorkbench(Workbench.java:366)</Frame>
          <Frame depth="41">org.eclipse.ui.PlatformUI.createAndRunWorkbench(PlatformUI.java:143)</Frame>
          <Frame depth="42">org.eclipse.ui.internal.ide.IDEApplication.run(IDEApplication.java:103)</Frame>
          <Frame depth="43">org.eclipse.core.internal.runtime.PlatformActivator$1.run(PlatformActivator.java:226)</Frame>
          <Frame depth="44">org.eclipse.core.runtime.adaptor.EclipseStarter.run(EclipseStarter.java:375)</Frame>
          <Frame depth="45">org.eclipse.core.runtime.adaptor.EclipseStarter.run(EclipseStarter.java:162)</Frame>
          <Frame depth="46">sun.reflect.NativeMethodAccessorImpl.invoke0(Native Method)</Frame>
          <Frame depth="47">sun.reflect.NativeMethodAccessorImpl.invoke(Unknown Source)</Frame>
          <Frame depth="48">sun.reflect.DelegatingMethodAccessorImpl.invoke(Unknown Source)</Frame>
          <Frame depth="49">java.lang.reflect.Method.invoke(Unknown Source)</Frame>
          <Frame depth="50">org.eclipse.core.launcher.Main.invokeFramework(Main.java:334)</Frame>
          <Frame depth="51">org.eclipse.core.launcher.Main.basicRun(Main.java:278)</Frame>
          <Frame depth="52">org.eclipse.core.launcher.Main.run(Main.java:973)</Frame>
          <Frame depth="53">org.eclipse.core.launcher.Main.main(Main.java:948)</Frame>
        </Frames>
      </Stacktrace>
    </Stacktraces>
    <SourceCodeRegions amount="0" />
    <Enumerations amount="0" />
    <bug_status amount="VERIFIED" />
    <resolution amount="WORKSFORME" />
    <WithStack>In RC1, Open up a clean workspace.  New &gt; Project...&gt; PD &gt; Update Site Project

enter a name and click finish.

(By the way, if you do this twice on the same workspace it does not happen the
second time.)


Should get an NPE with a description in the editor view.  This is what I get:
java.lang.NullPointerException
	at org.eclipse.jface.text.source.AnnotationModel.connect(AnnotationModel.java:351)
	at
org.eclipse.pde.internal.ui.editor.context.InputContext.create(InputContext.java:167)
	at
org.eclipse.pde.internal.ui.editor.site.SiteInputContext.&lt;init&gt;(SiteInputContext.java:46)
	at
org.eclipse.pde.internal.ui.editor.site.SiteEditor.createResourceContexts(SiteEditor.java:51)
	at
org.eclipse.pde.internal.ui.editor.PDEFormEditor.createInputContexts(PDEFormEditor.java:177)
	at
org.eclipse.pde.internal.ui.editor.PDEFormEditor.createPages(PDEFormEditor.java:221)
	at
org.eclipse.ui.part.MultiPageEditorPart.createPartControl(MultiPageEditorPart.java:241)
	at
org.eclipse.ui.internal.EditorReference.createPartHelper(EditorReference.java:585)
	at org.eclipse.ui.internal.EditorReference.createPart(EditorReference.java:365)
	at
org.eclipse.ui.internal.WorkbenchPartReference.getPart(WorkbenchPartReference.java:551)
	at org.eclipse.ui.internal.PartPane.setVisible(PartPane.java:283)
	at
org.eclipse.ui.internal.presentations.PresentablePart.setVisible(PresentablePart.java:126)
	at
org.eclipse.ui.internal.presentations.util.PresentablePartFolder.select(PresentablePartFolder.java:271)
	at
org.eclipse.ui.internal.presentations.util.LeftToRightTabOrder.select(LeftToRightTabOrder.java:65)
	at
org.eclipse.ui.internal.presentations.util.TabbedStackPresentation.selectPart(TabbedStackPresentation.java:391)
	at
org.eclipse.ui.internal.PartStack.refreshPresentationSelection(PartStack.java:1106)
	at org.eclipse.ui.internal.PartStack.setSelection(PartStack.java:1055)
	at org.eclipse.ui.internal.PartStack.showPart(PartStack.java:1260)
	at org.eclipse.ui.internal.PartStack.add(PartStack.java:442)
	at org.eclipse.ui.internal.EditorStack.add(EditorStack.java:109)
	at
org.eclipse.ui.internal.EditorSashContainer.addEditor(EditorSashContainer.java:60)
	at org.eclipse.ui.internal.EditorAreaHelper.addToLayout(EditorAreaHelper.java:212)
	at org.eclipse.ui.internal.EditorAreaHelper.addEditor(EditorAreaHelper.java:202)
	at org.eclipse.ui.internal.EditorManager.createEditorTab(EditorManager.java:753)
	at
org.eclipse.ui.internal.EditorManager.openEditorFromDescriptor(EditorManager.java:665)
	at org.eclipse.ui.internal.EditorManager.openEditor(EditorManager.java:628)
	at
org.eclipse.ui.internal.WorkbenchPage.busyOpenEditorBatched(WorkbenchPage.java:2311)
	at org.eclipse.ui.internal.WorkbenchPage.busyOpenEditor(WorkbenchPage.java:2246)
	at org.eclipse.ui.internal.WorkbenchPage.access$9(WorkbenchPage.java:2238)
	at org.eclipse.ui.internal.WorkbenchPage$9.run(WorkbenchPage.java:2224)
	at org.eclipse.swt.custom.BusyIndicator.showWhile(BusyIndicator.java:69)
	at org.eclipse.ui.internal.WorkbenchPage.openEditor(WorkbenchPage.java:2219)
	at org.eclipse.ui.internal.WorkbenchPage.openEditor(WorkbenchPage.java:2192)
	at
org.eclipse.pde.internal.ui.wizards.site.NewSiteProjectCreationOperation$1.run(NewSiteProjectCreationOperation.java:116)
	at org.eclipse.swt.widgets.RunnableLock.run(RunnableLock.java:35)
	at org.eclipse.swt.widgets.Synchronizer.runAsyncMessages(Synchronizer.java:118)
	at org.eclipse.swt.widgets.Display.runAsyncMessages(Display.java:2906)
	at org.eclipse.swt.widgets.Display.readAndDispatch(Display.java:2565)
	at org.eclipse.ui.internal.Workbench.runEventLoop(Workbench.java:1694)
	at org.eclipse.ui.internal.Workbench.runUI(Workbench.java:1658)
	at org.eclipse.ui.internal.Workbench.createAndRunWorkbench(Workbench.java:366)
	at org.eclipse.ui.PlatformUI.createAndRunWorkbench(PlatformUI.java:143)
	at org.eclipse.ui.internal.ide.IDEApplication.run(IDEApplication.java:103)
	at
org.eclipse.core.internal.runtime.PlatformActivator$1.run(PlatformActivator.java:226)
	at org.eclipse.core.runtime.adaptor.EclipseStarter.run(EclipseStarter.java:375)
	at org.eclipse.core.runtime.adaptor.EclipseStarter.run(EclipseStarter.java:162)
	at sun.reflect.NativeMethodAccessorImpl.invoke0(Native Method)
	at sun.reflect.NativeMethodAccessorImpl.invoke(Unknown Source)
	at sun.reflect.DelegatingMethodAccessorImpl.invoke(Unknown Source)
	at java.lang.reflect.Method.invoke(Unknown Source)
	at org.eclipse.core.launcher.Main.invokeFramework(Main.java:334)
	at org.eclipse.core.launcher.Main.basicRun(Main.java:278)
	at org.eclipse.core.launcher.Main.run(Main.java:973)
	at org.eclipse.core.launcher.Main.main(Main.java:948)
Very strange.  On clean worskpace?  I was not able to reproduce.  I suspect 
this is side effect of bug 97485.
Please reopen if you can reproduce using today's or later build.</WithStack>
    <WithOutStack>In RC1, Open up a clean workspace.  New &gt; Project...&gt; PD &gt; Update Site Project

enter a name and click finish.

(By the way, if you do this twice on the same workspace it does not happen the
second time.)


Should get an NPE with a description in the editor view.  This is what I get:

Very strange.  On clean worskpace?  I was not able to reproduce.  I suspect 
this is side effect of bug 97485.
Please reopen if you can reproduce using today's or later build.</WithOutStack>
  </Bug>
  <Bug>
    <BugId amount="98502" />
    <CreationDate amount="2005-06-06 09:32:00 -0400" />
    <DupId amount="" />
    <classification amount="Tools" />
    <Product amount="CDT" />
    <component amount="cdt-parser" />
    <Version amount="3.0" />
    <rep_platform amount="PC" />
    <op_sys amount="Windows XP" />
    <priority amount="P3" />
    <bug_severity amount="normal" />
    <Summery>[CVisitor][NPE] CTypedef.getType() causes NPE in CVisitor with simple enumeration</Summery>
    <Patches amount="0" />
    <Stacktraces amount="0" />
    <SourceCodeRegions amount="1">
      <source_code type="singlecomment">
        <location start="147" end="162" />
        <code>// example.c:</code>
      </source_code>
    </SourceCodeRegions>
    <Enumerations amount="0" />
    <bug_status amount="RESOLVED" />
    <resolution amount="FIXED" />
    <WithStack>Clicking on the time_res_t IASTName in the DOM AST View can reproduce the bug.

I see this encountered a lot when the ethereal project is indexed.

// example.c:
typedef enum {
	MSECS,
	USECS,
	NSECS
} time_res_t; // CTypedef#getType() on time_res_t causes NPE
fixed</WithStack>
    <WithOutStack>Clicking on the time_res_t IASTName in the DOM AST View can reproduce the bug.

I see this encountered a lot when the ethereal project is indexed.

// example.c:
typedef enum {
	MSECS,
	USECS,
	NSECS
} time_res_t; // CTypedef#getType() on time_res_t causes NPE
fixed</WithOutStack>
  </Bug>
  <Bug>
    <BugId amount="98503" />
    <CreationDate amount="2005-06-06 09:46:00 -0400" />
    <DupId amount="" />
    <classification amount="Eclipse" />
    <Product amount="Platform" />
    <component amount="Compare" />
    <Version amount="3.1" />
    <rep_platform amount="PC" />
    <op_sys amount="All" />
    <priority amount="P3" />
    <bug_severity amount="normal" />
    <Summery>[Algorithms] Comparing zip archives does not scale/appears to hang</Summery>
    <Patches amount="0" />
    <Stacktraces amount="0" />
    <SourceCodeRegions amount="0" />
    <Enumerations amount="1">
      <Enumeration lines="7">
        <Lines>
          <Line>1) Provide patches that update any SDK subclasses to use the new methods.</Line>
          <Line />
          <Line>2) Check that structure diff viewer and text merge viewer respond to cancellation as mentioned in comment 1.</Line>
          <Line />
          <Line>3) Consider whether we can perform the diffing in the background (i.e. as a job instead of modal progress).</Line>
          <Line>I have moved the computation to the background and provided the patches. Marking as fixed.</Line>
          <Line>Verified but identified a related issue (see bug 167698)</Line>
        </Lines>
      </Enumeration>
    </Enumerations>
    <bug_status amount="VERIFIED" />
    <resolution amount="FIXED" />
    <WithStack>Excellent feature btw!

When comparing nontrivial zip archives(e.g 5000 files  &amp; 20 Mbyte), the GUI 
will appear to be hung.

I believe the problem is that work is being done synchronously on the user 
interface thread that really should be done in a worker thread. The progress 
view should probably display progress as well.

Below is a stack trace of which I believe shows that long running zip 
operations happen on the user interface thread thus causing problems.


Thread [main] (Suspended)
	Inflater.inflateBytes(byte[], int, int) line: not available [native 
method]
	Inflater.inflate(byte[], int, int) line: not available
	ZipInputStream(InflaterInputStream).read(byte[], int, int) line: not 
available
	ZipInputStream.read(byte[], int, int) line: not available
	ZipFileStructureCreator.getStructure(Object) line: 229
	StructureDiffViewer.compareInputChanged(ICompareInput) line: 218
	StructureDiffViewer.inputChanged(Object, Object) line: 148
	StructureDiffViewer(ContentViewer).setInput(Object) line: 248
	StructureDiffViewer(StructuredViewer).setInput(Object) line: 1417
	CompareEditorInput$3(CompareViewerSwitchingPane).setInput(Object) line: 
300
	SyncInfoCompareInput(CompareEditorInput).createContents(Composite) 
line: 412
	SyncInfoCompareInput.createContents(Composite) line: 118
	CompareEditor.createPartControl(Composite) line: 163
	CompareEditor.doSetInput(IEditorInput) line: 138
	CompareEditor.setInput(IEditorInput) line: 103
	CompareUIPlugin.openCompareEditor(CompareEditorInput, IWorkbenchPage, 
IReusableEditor) line: 430
	CompareUI.reuseCompareEditor(CompareEditorInput, IReusableEditor) line: 
152
	OpenInCompareAction.openCompareEditor(SyncInfoCompareInput, 
IWorkbenchPage) line: 99
	OpenInCompareAction.openCompareEditor(ISynchronizeParticipant, 
SyncInfo, boolean, ISynchronizePageSite) line: 78
	OpenInCompareAction.run() line: 53
	OpenWithActionGroup.openInCompareEditor() line: 112
	DefaultSynchronizePageActions$1.run() line: 46
	TreeViewerAdvisor(StructuredViewerAdvisor).handleOpen() line: 272
	StructuredViewerAdvisor.access$1(StructuredViewerAdvisor) line: 268
	StructuredViewerAdvisor$5.open(OpenEvent) line: 232
	StructuredViewer$2.run() line: 741
	InternalPlatform.run(ISafeRunnable) line: 1029
	Platform.run(ISafeRunnable) line: 775
	JFaceUtil$1.run(ISafeRunnable) line: 44
	SafeRunnable.run(ISafeRunnable) line: 148
	TreeViewerAdvisor$NavigableTreeViewer(StructuredViewer).fireOpen
(OpenEvent) line: 739
	TreeViewerAdvisor$NavigableTreeViewer(StructuredViewer).handleOpen
(SelectionEvent) line: 968
	StructuredViewer$6.handleOpen(SelectionEvent) line: 1067
	OpenStrategy.fireOpenEvent(SelectionEvent) line: 243
	OpenStrategy.access$2(OpenStrategy, SelectionEvent) line: 238
	OpenStrategy$1.handleEvent(Event) line: 277
	EventTable.sendEvent(Event) line: 82
	Tree(Widget).sendEvent(Event) line: 842
	Display.runDeferredEvents() line: 2921
	Display.readAndDispatch() line: 2554
	Workbench.runEventLoop(Window$IExceptionHandler, Display) line: 1601
	Workbench.runUI() line: 1565
	Workbench.createAndRunWorkbench(Display, WorkbenchAdvisor) line: 315
	PlatformUI.createAndRunWorkbench(Display, WorkbenchAdvisor) line: 143
	IDEApplication.run(Object) line: 103
	PlatformActivator$1.run(Object) line: 230
	EclipseStarter.run(Object) line: 371
	EclipseStarter.run(String[], Runnable) line: 160
	NativeMethodAccessorImpl.invoke0(Method, Object, Object[]) line: not 
available [native method]
	NativeMethodAccessorImpl.invoke(Object, Object[]) line: not available
	DelegatingMethodAccessorImpl.invoke(Object, Object[]) line: not 
available
	Method.invoke(Object, Object[]) line: not available
	Main.invokeFramework(String[], URL[]) line: 330
	Main.basicRun(String[]) line: 274
	Main.run(String[]) line: 977
	Main.main(String[]) line: 952
Hmmm....

I see other problems when comparing non-trivial archives, e.g. Cancel on 
progress requesters locks up the entire GUI. I'll hold off reporting new PR's 
on those until I see what happens to this PR.

Øyvind



We plan on ivestigating asynchronous loading in 3.3.
I have added progress monitoring to the structure diff viewer n HEAD. However, there are still a few things that need to be done:

1) Provide patches that update any SDK subclasses to use the new methods.

2) Check that structure diff viewer and text merge viewer respond to cancellation as mentioned in comment 1.

3) Consider whether we can perform the diffing in the background (i.e. as a job instead of modal progress).
I have moved the computation to the background and provided the patches. Marking as fixed.
Verified but identified a related issue (see bug 167698)</WithStack>
    <WithOutStack>Excellent feature btw!

When comparing nontrivial zip archives(e.g 5000 files  &amp; 20 Mbyte), the GUI 
will appear to be hung.

I believe the problem is that work is being done synchronously on the user 
interface thread that really should be done in a worker thread. The progress 
view should probably display progress as well.

Below is a stack trace of which I believe shows that long running zip 
operations happen on the user interface thread thus causing problems.


Thread [main] (Suspended)
	Inflater.inflateBytes(byte[], int, int) line: not available [native 
method]
	Inflater.inflate(byte[], int, int) line: not available
	ZipInputStream(InflaterInputStream).read(byte[], int, int) line: not 
available
	ZipInputStream.read(byte[], int, int) line: not available
	ZipFileStructureCreator.getStructure(Object) line: 229
	StructureDiffViewer.compareInputChanged(ICompareInput) line: 218
	StructureDiffViewer.inputChanged(Object, Object) line: 148
	StructureDiffViewer(ContentViewer).setInput(Object) line: 248
	StructureDiffViewer(StructuredViewer).setInput(Object) line: 1417
	CompareEditorInput$3(CompareViewerSwitchingPane).setInput(Object) line: 
300
	SyncInfoCompareInput(CompareEditorInput).createContents(Composite) 
line: 412
	SyncInfoCompareInput.createContents(Composite) line: 118
	CompareEditor.createPartControl(Composite) line: 163
	CompareEditor.doSetInput(IEditorInput) line: 138
	CompareEditor.setInput(IEditorInput) line: 103
	CompareUIPlugin.openCompareEditor(CompareEditorInput, IWorkbenchPage, 
IReusableEditor) line: 430
	CompareUI.reuseCompareEditor(CompareEditorInput, IReusableEditor) line: 
152
	OpenInCompareAction.openCompareEditor(SyncInfoCompareInput, 
IWorkbenchPage) line: 99
	OpenInCompareAction.openCompareEditor(ISynchronizeParticipant, 
SyncInfo, boolean, ISynchronizePageSite) line: 78
	OpenInCompareAction.run() line: 53
	OpenWithActionGroup.openInCompareEditor() line: 112
	DefaultSynchronizePageActions$1.run() line: 46
	TreeViewerAdvisor(StructuredViewerAdvisor).handleOpen() line: 272
	StructuredViewerAdvisor.access$1(StructuredViewerAdvisor) line: 268
	StructuredViewerAdvisor$5.open(OpenEvent) line: 232
	StructuredViewer$2.run() line: 741
	InternalPlatform.run(ISafeRunnable) line: 1029
	Platform.run(ISafeRunnable) line: 775
	JFaceUtil$1.run(ISafeRunnable) line: 44
	SafeRunnable.run(ISafeRunnable) line: 148
	TreeViewerAdvisor$NavigableTreeViewer(StructuredViewer).fireOpen
(OpenEvent) line: 739
	TreeViewerAdvisor$NavigableTreeViewer(StructuredViewer).handleOpen
(SelectionEvent) line: 968
	StructuredViewer$6.handleOpen(SelectionEvent) line: 1067
	OpenStrategy.fireOpenEvent(SelectionEvent) line: 243
	OpenStrategy.access$2(OpenStrategy, SelectionEvent) line: 238
	OpenStrategy$1.handleEvent(Event) line: 277
	EventTable.sendEvent(Event) line: 82
	Tree(Widget).sendEvent(Event) line: 842
	Display.runDeferredEvents() line: 2921
	Display.readAndDispatch() line: 2554
	Workbench.runEventLoop(Window$IExceptionHandler, Display) line: 1601
	Workbench.runUI() line: 1565
	Workbench.createAndRunWorkbench(Display, WorkbenchAdvisor) line: 315
	PlatformUI.createAndRunWorkbench(Display, WorkbenchAdvisor) line: 143
	IDEApplication.run(Object) line: 103
	PlatformActivator$1.run(Object) line: 230
	EclipseStarter.run(Object) line: 371
	EclipseStarter.run(String[], Runnable) line: 160
	NativeMethodAccessorImpl.invoke0(Method, Object, Object[]) line: not 
available [native method]
	NativeMethodAccessorImpl.invoke(Object, Object[]) line: not available
	DelegatingMethodAccessorImpl.invoke(Object, Object[]) line: not 
available
	Method.invoke(Object, Object[]) line: not available
	Main.invokeFramework(String[], URL[]) line: 330
	Main.basicRun(String[]) line: 274
	Main.run(String[]) line: 977
	Main.main(String[]) line: 952
Hmmm....

I see other problems when comparing non-trivial archives, e.g. Cancel on 
progress requesters locks up the entire GUI. I'll hold off reporting new PR's 
on those until I see what happens to this PR.

Øyvind



We plan on ivestigating asynchronous loading in 3.3.
I have added progress monitoring to the structure diff viewer n HEAD. However, there are still a few things that need to be done:

1) Provide patches that update any SDK subclasses to use the new methods.

2) Check that structure diff viewer and text merge viewer respond to cancellation as mentioned in comment 1.

3) Consider whether we can perform the diffing in the background (i.e. as a job instead of modal progress).
I have moved the computation to the background and provided the patches. Marking as fixed.
Verified but identified a related issue (see bug 167698)</WithOutStack>
  </Bug>
  <Bug>
    <BugId amount="98504" />
    <CreationDate amount="2005-06-06 09:50:00 -0400" />
    <DupId amount="" />
    <classification amount="Eclipse" />
    <Product amount="JDT" />
    <component amount="Core" />
    <Version amount="3.1" />
    <rep_platform amount="PC" />
    <op_sys amount="Windows XP" />
    <priority amount="P3" />
    <bug_severity amount="normal" />
    <Summery>[1.5][compiler] Compiler difference between javac and jdt?</Summery>
    <Patches amount="0" />
    <Stacktraces amount="0" />
    <SourceCodeRegions amount="2">
      <source_code type="class">
        <location start="210" end="321" />
        <code>class Test&lt;T extends Test.InnerTest&gt; implements Base&lt;T&gt; {
    static class InnerTest implements Inner {
    }
}</code>
      </source_code>
      <source_code type="class">
        <location start="433" end="474" />
        <code>static class InnerTest implements Inner {</code>
      </source_code>
    </SourceCodeRegions>
    <Enumerations amount="0" />
    <bug_status amount="CLOSED" />
    <resolution amount="FIXED" />
    <WithStack>We have had a bug raised against AspectJ (bug 95992) but it turns out to be a
difference between the JDT compiler and SUNs javac.  Here is the program:

interface Base&lt;T&gt; {
    static interface Inner {
    }
}
class Test&lt;T extends Test.InnerTest&gt; implements Base&lt;T&gt; {
    static class InnerTest implements Inner {
    }
}

Compiling with 3.1m7 or 3.1rc1 compilers results in:

Test.java:14 [error] Inner cannot be resolved to a type
static class InnerTest implements Inner {

Sun's javac compiles it without any error.
The error can be avoided by simply writing "Base.Inner" instead of just "Inner".
Also, it compiles fine if the constraint "extends Test.InnerTest" is left away.
Reproduced in latest
+1 for RC2
Added to GenericType test050
Verified with N20050609-0010 + JDT/Core HEAD
Verified for 3.1 RC2 using build I20050610-0010

close</WithStack>
    <WithOutStack>We have had a bug raised against AspectJ (bug 95992) but it turns out to be a
difference between the JDT compiler and SUNs javac.  Here is the program:

interface Base&lt;T&gt; {
    static interface Inner {
    }
}
class Test&lt;T extends Test.InnerTest&gt; implements Base&lt;T&gt; {
    static class InnerTest implements Inner {
    }
}

Compiling with 3.1m7 or 3.1rc1 compilers results in:

Test.java:14 [error] Inner cannot be resolved to a type
static class InnerTest implements Inner {

Sun's javac compiles it without any error.
The error can be avoided by simply writing "Base.Inner" instead of just "Inner".
Also, it compiles fine if the constraint "extends Test.InnerTest" is left away.
Reproduced in latest
+1 for RC2
Added to GenericType test050
Verified with N20050609-0010 + JDT/Core HEAD
Verified for 3.1 RC2 using build I20050610-0010

close</WithOutStack>
  </Bug>
  <Bug>
    <BugId amount="98505" />
    <CreationDate amount="2005-06-06 09:52:00 -0400" />
    <DupId amount="36032" />
    <classification amount="Eclipse" />
    <Product amount="JDT" />
    <component amount="Core" />
    <Version amount="3.1" />
    <rep_platform amount="PC" />
    <op_sys amount="Windows XP" />
    <priority amount="P3" />
    <bug_severity amount="normal" />
    <Summery>Getting Compiler Error when instantiated class is package private and not open in Editor</Summery>
    <Patches amount="0" />
    <Stacktraces amount="0" />
    <SourceCodeRegions amount="3">
      <source_code type="class">
        <location start="94" end="124" />
        <code>class PackagePrivateClass {

}</code>
      </source_code>
      <source_code type="class">
        <location start="126" end="147" />
        <code>public class Bar {

}</code>
      </source_code>
      <source_code type="class">
        <location start="182" end="258" />
        <code>public class Foo {
  PackagePrivateClass test = new PackagePrivateClass();
}</code>
      </source_code>
    </SourceCodeRegions>
    <Enumerations amount="1">
      <Enumeration lines="11">
        <Lines>
          <Line>1.) Have a Class Bar like this:</Line>
          <Line />
          <Line />
          <Line />
          <Line />
          <Line />
          <Line>2.) Have a Class Foo like this:</Line>
          <Line />
          <Line />
          <Line />
          <Line>3.) Close the Editor showing "Bar.java"</Line>
        </Lines>
      </Enumeration>
    </Enumerations>
    <bug_status amount="RESOLVED" />
    <resolution amount="DUPLICATE" />
    <WithStack>Version: 3.1.0
Build id: N20050606-0010

Steps to reproduce:
1.) Have a Class Bar like this:

class PackagePrivateClass {

}

public class Bar {

}

2.) Have a Class Foo like this:

public class Foo {
  PackagePrivateClass test = new PackagePrivateClass();
}

3.) Close the Editor showing "Bar.java"

Actual Results:
"Foo.java" shows compiler errors: "PackagePrivateClass cannot be resolved or is
not a type"

Expected Results:
No Compile Errors.

Note that as soon as the Editor containing the "PackagePrivateClass" is open
again, the compile error goes away.

Regards,
Ben
Don't know if this is Text or Core. Moving to Text first.


*** This bug has been marked as a duplicate of 87063 ***
Reopen to set as duplicate of original bug


*** This bug has been marked as a duplicate of 36032 ***</WithStack>
    <WithOutStack>Version: 3.1.0
Build id: N20050606-0010

Steps to reproduce:
1.) Have a Class Bar like this:

class PackagePrivateClass {

}

public class Bar {

}

2.) Have a Class Foo like this:

public class Foo {
  PackagePrivateClass test = new PackagePrivateClass();
}

3.) Close the Editor showing "Bar.java"

Actual Results:
"Foo.java" shows compiler errors: "PackagePrivateClass cannot be resolved or is
not a type"

Expected Results:
No Compile Errors.

Note that as soon as the Editor containing the "PackagePrivateClass" is open
again, the compile error goes away.

Regards,
Ben
Don't know if this is Text or Core. Moving to Text first.


*** This bug has been marked as a duplicate of 87063 ***
Reopen to set as duplicate of original bug


*** This bug has been marked as a duplicate of 36032 ***</WithOutStack>
  </Bug>
  <Bug>
    <BugId amount="98506" />
    <CreationDate amount="2005-06-06 10:01:00 -0400" />
    <DupId amount="" />
    <classification amount="Eclipse" />
    <Product amount="Platform" />
    <component amount="SWT" />
    <Version amount="3.1" />
    <rep_platform amount="PC" />
    <op_sys amount="Windows XP" />
    <priority amount="P3" />
    <bug_severity amount="normal" />
    <Summery>NullPointerException insdie Table.WM_PAINT</Summery>
    <Patches amount="0" />
    <Stacktraces amount="1">
      <Stacktrace timestamp="1437341279300">
        <Exception>java.lang.NullPointerException</Exception>
        <Reason />
        <Frames>
          <Frame depth="0">org.eclipse.swt.widgets.Table.WM_PAINT(Table.java:3325)</Frame>
          <Frame depth="1">org.eclipse.swt.widgets.Control.windowProc(Control.java:3090)</Frame>
          <Frame depth="2">org.eclipse.swt.widgets.Display.windowProc(Display.java:3553)</Frame>
          <Frame depth="3">org.eclipse.swt.internal.win32.OS.DispatchMessageW(Native Method)</Frame>
          <Frame depth="4">org.eclipse.swt.internal.win32.OS.DispatchMessage(OS.java:1650)</Frame>
          <Frame depth="5">org.eclipse.swt.widgets.Display.readAndDispatch(Display.java:2560)</Frame>
          <Frame depth="6">org.eclipse.jface.window.Window.runEventLoop(Window.java:809)</Frame>
          <Frame depth="7">org.eclipse.jface.window.Window.open(Window.java:787)</Frame>
          <Frame depth="8">de.kombiverkehr.kms.szenario.ui.SzenarioEditor.doShowVersionen(SzenarioEditor.java:778)</Frame>
          <Frame depth="9">de.kombiverkehr.kms.szenario.ui.SzenarioEditor.access$3(SzenarioEditor.java:774)</Frame>
          <Frame depth="10">de.kombiverkehr.kms.szenario.ui.SzenarioEditor$6.linkActivated(SzenarioEditor.java:393)</Frame>
          <Frame depth="11">org.eclipse.ui.forms.widgets.AbstractHyperlink.handleActivate(AbstractHyperlink.java:209)</Frame>
          <Frame depth="12">org.eclipse.ui.forms.widgets.AbstractHyperlink.handleMouseUp(AbstractHyperlink.java:299)</Frame>
          <Frame depth="13">org.eclipse.ui.forms.widgets.AbstractHyperlink.access$1(AbstractHyperlink.java:283)</Frame>
          <Frame depth="14">org.eclipse.ui.forms.widgets.AbstractHyperlink$4.handleEvent(AbstractHyperlink.java:111)</Frame>
          <Frame depth="15">org.eclipse.swt.widgets.EventTable.sendEvent(EventTable.java:66)</Frame>
          <Frame depth="16">org.eclipse.swt.widgets.Widget.sendEvent(Widget.java:844)</Frame>
          <Frame depth="17">org.eclipse.swt.widgets.Display.runDeferredEvents(Display.java:2929)</Frame>
          <Frame depth="18">org.eclipse.swt.widgets.Display.readAndDispatch(Display.java:2562)</Frame>
          <Frame depth="19">org.eclipse.ui.internal.Workbench.runEventLoop(Workbench.java:1694)</Frame>
          <Frame depth="20">org.eclipse.ui.internal.Workbench.runUI(Workbench.java:1658)</Frame>
          <Frame depth="21">org.eclipse.ui.internal.Workbench.createAndRunWorkbench(Workbench.java:366)</Frame>
          <Frame depth="22">org.eclipse.ui.PlatformUI.createAndRunWorkbench(PlatformUI.java:143)</Frame>
          <Frame depth="23">de.kombiverkehr.kms.base.ui.KMSApplication.run(KMSApplication.java:43)</Frame>
          <Frame depth="24">org.eclipse.core.internal.runtime.PlatformActivator$1.run(PlatformActivator.java:226)</Frame>
          <Frame depth="25">org.eclipse.core.runtime.adaptor.EclipseStarter.run(EclipseStarter.java:375)</Frame>
          <Frame depth="26">org.eclipse.core.runtime.adaptor.EclipseStarter.run(EclipseStarter.java:162)</Frame>
          <Frame depth="27">sun.reflect.NativeMethodAccessorImpl.invoke0(Native Method)</Frame>
          <Frame depth="28">sun.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:39)</Frame>
          <Frame depth="29">sun.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:25)</Frame>
          <Frame depth="30">java.lang.reflect.Method.invoke(Method.java:324)</Frame>
          <Frame depth="31">org.eclipse.core.launcher.Main.invokeFramework(Main.java:334)</Frame>
          <Frame depth="32">org.eclipse.core.launcher.Main.basicRun(Main.java:278)</Frame>
          <Frame depth="33">org.eclipse.core.launcher.Main.run(Main.java:973)</Frame>
          <Frame depth="34">org.eclipse.core.launcher.Main.main(Main.java:948)</Frame>
        </Frames>
      </Stacktrace>
    </Stacktraces>
    <SourceCodeRegions amount="2">
      <source_code type="multicomment">
        <location start="1037" end="1085" />
        <code>/**
 * Shows the dialog for version display.
 */</code>
      </source_code>
      <source_code type="functiondef">
        <location start="1086" end="1304" />
        <code>private void doShowVersionen() {
  Shell parentShell = getSite().getShell();
  SzenarioVersionsnachweisDialog dialog = 
      new SzenarioVersionsnachweisDialog(
              parentShell, szenario);
  dialog.open();
}</code>
      </source_code>
    </SourceCodeRegions>
    <Enumerations amount="0" />
    <bug_status amount="RESOLVED" />
    <resolution amount="WORKSFORME" />
    <WithStack>Upon closing a normal Dialog via the close() method the following exception
occurs. For me it seems that the platform tries to execute a WM_PAINT message
even though the table was already disposed/released (and thus has no items anymore).

!STACK 0
java.lang.NullPointerException
	at org.eclipse.swt.widgets.Table.WM_PAINT(Table.java:3325)
	at org.eclipse.swt.widgets.Control.windowProc(Control.java:3090)
	at org.eclipse.swt.widgets.Display.windowProc(Display.java:3553)
	at org.eclipse.swt.internal.win32.OS.DispatchMessageW(Native Method)
	at org.eclipse.swt.internal.win32.OS.DispatchMessage(OS.java:1650)
	at org.eclipse.swt.widgets.Display.readAndDispatch(Display.java:2560)
	at org.eclipse.jface.window.Window.runEventLoop(Window.java:809)
	at org.eclipse.jface.window.Window.open(Window.java:787)
	at
de.kombiverkehr.kms.szenario.ui.SzenarioEditor.doShowVersionen(SzenarioEditor.java:778)
	at de.kombiverkehr.kms.szenario.ui.SzenarioEditor.access$3(SzenarioEditor.java:774)
	at
de.kombiverkehr.kms.szenario.ui.SzenarioEditor$6.linkActivated(SzenarioEditor.java:393)
	at
org.eclipse.ui.forms.widgets.AbstractHyperlink.handleActivate(AbstractHyperlink.java:209)
	at
org.eclipse.ui.forms.widgets.AbstractHyperlink.handleMouseUp(AbstractHyperlink.java:299)
	at
org.eclipse.ui.forms.widgets.AbstractHyperlink.access$1(AbstractHyperlink.java:283)
	at
org.eclipse.ui.forms.widgets.AbstractHyperlink$4.handleEvent(AbstractHyperlink.java:111)
	at org.eclipse.swt.widgets.EventTable.sendEvent(EventTable.java:66)
	at org.eclipse.swt.widgets.Widget.sendEvent(Widget.java:844)
	at org.eclipse.swt.widgets.Display.runDeferredEvents(Display.java:2929)
	at org.eclipse.swt.widgets.Display.readAndDispatch(Display.java:2562)
	at org.eclipse.ui.internal.Workbench.runEventLoop(Workbench.java:1694)
	at org.eclipse.ui.internal.Workbench.runUI(Workbench.java:1658)
	at org.eclipse.ui.internal.Workbench.createAndRunWorkbench(Workbench.java:366)
	at org.eclipse.ui.PlatformUI.createAndRunWorkbench(PlatformUI.java:143)
	at de.kombiverkehr.kms.base.ui.KMSApplication.run(KMSApplication.java:43)
	at
org.eclipse.core.internal.runtime.PlatformActivator$1.run(PlatformActivator.java:226)
	at org.eclipse.core.runtime.adaptor.EclipseStarter.run(EclipseStarter.java:375)
	at org.eclipse.core.runtime.adaptor.EclipseStarter.run(EclipseStarter.java:162)
	at sun.reflect.NativeMethodAccessorImpl.invoke0(Native Method)
	at sun.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:39)
	at
sun.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:25)
	at java.lang.reflect.Method.invoke(Method.java:324)
	at org.eclipse.core.launcher.Main.invokeFramework(Main.java:334)
	at org.eclipse.core.launcher.Main.basicRun(Main.java:278)
	at org.eclipse.core.launcher.Main.run(Main.java:973)
	at org.eclipse.core.launcher.Main.main(Main.java:948)
Seems that I used the wrong parent shell, getEditorSite().getShell() or
PlatformUI.getWorkbench().getActiveWorkbenchWindow().getShell() won't work. As
the dialog is called from within an editor getSite().getShell() now does the
trick. Tricky tricky...

Sorry for posting this as bug.
Created attachment 22421
Dialog Source Code
The 'bug' (I still fear it might be a programming mistake by myself) reappeared.
Guess it wasn't the Shell. It seems to be a problem with the ContentProvider
(refer to attached source code). Using Eclipse' ArrayContentProvider et voila,
it works. Now I can't see anything wrong with my implementation of the content
provider (I tested it without the versionenArray = null; inside dispose() -
didn't help).

The opening of the dialog happens inside an editor:
/**
 * Shows the dialog for version display.
 */
private void doShowVersionen() {
  Shell parentShell = getSite().getShell();
  SzenarioVersionsnachweisDialog dialog = 
      new SzenarioVersionsnachweisDialog(
              parentShell, szenario);
  dialog.open();
}

Sorry I didn't get to this.  Please reopen if you see it again.</WithStack>
    <WithOutStack>Upon closing a normal Dialog via the close() method the following exception
occurs. For me it seems that the platform tries to execute a WM_PAINT message
even though the table was already disposed/released (and thus has no items anymore).

!STACK 0

Seems that I used the wrong parent shell, getEditorSite().getShell() or
PlatformUI.getWorkbench().getActiveWorkbenchWindow().getShell() won't work. As
the dialog is called from within an editor getSite().getShell() now does the
trick. Tricky tricky...

Sorry for posting this as bug.
Created attachment 22421
Dialog Source Code
The 'bug' (I still fear it might be a programming mistake by myself) reappeared.
Guess it wasn't the Shell. It seems to be a problem with the ContentProvider
(refer to attached source code). Using Eclipse' ArrayContentProvider et voila,
it works. Now I can't see anything wrong with my implementation of the content
provider (I tested it without the versionenArray = null; inside dispose() -
didn't help).

The opening of the dialog happens inside an editor:
/**
 * Shows the dialog for version display.
 */
private void doShowVersionen() {
  Shell parentShell = getSite().getShell();
  SzenarioVersionsnachweisDialog dialog = 
      new SzenarioVersionsnachweisDialog(
              parentShell, szenario);
  dialog.open();
}

Sorry I didn't get to this.  Please reopen if you see it again.</WithOutStack>
  </Bug>
  <Bug>
    <BugId amount="98507" />
    <CreationDate amount="2005-06-06 10:01:00 -0400" />
    <DupId amount="" />
    <classification amount="BIRT" />
    <Product amount="BIRT" />
    <component amount="Report" />
    <Version amount="1.0.0" />
    <rep_platform amount="PC" />
    <op_sys amount="Windows XP" />
    <priority amount="P3" />
    <bug_severity amount="enhancement" />
    <Summery>Right to left support</Summery>
    <Patches amount="0" />
    <Stacktraces amount="0" />
    <SourceCodeRegions amount="0" />
    <Enumerations amount="0" />
    <bug_status amount="RESOLVED" />
    <resolution amount="FIXED" />
    <WithStack>I'm not sure but I think there is no direct way for adding right to left support
to an element (e.g. label, grid, ...).
I think we can do it by manually addiing HTML elements.

Thanks.
Beep!
although I manually add `direction' property to birt xml file, but it was not
rendered to html (as css rules).
Any comment ?! :-)

I'm still waiting. (till the next year)
Doshiro, is there instruction on how to display report right to left in Eclipse BIRT designer  and uses BIRT webviewer?
If the Eclipse is started on right-to-left OS or start the Eclipse with -nl xx_YY option where xx_YY is the locale such as ar_EG for Arabic Egypt, the Eclipse and BIRT UI will be flipped.


please follow comment #5 to see if this works for you.</WithStack>
    <WithOutStack>I'm not sure but I think there is no direct way for adding right to left support
to an element (e.g. label, grid, ...).
I think we can do it by manually addiing HTML elements.

Thanks.
Beep!
although I manually add `direction' property to birt xml file, but it was not
rendered to html (as css rules).
Any comment ?! :-)

I'm still waiting. (till the next year)
Doshiro, is there instruction on how to display report right to left in Eclipse BIRT designer  and uses BIRT webviewer?
If the Eclipse is started on right-to-left OS or start the Eclipse with -nl xx_YY option where xx_YY is the locale such as ar_EG for Arabic Egypt, the Eclipse and BIRT UI will be flipped.


please follow comment #5 to see if this works for you.</WithOutStack>
  </Bug>
  <Bug>
    <BugId amount="98508" />
    <CreationDate amount="2005-06-06 10:03:00 -0400" />
    <DupId amount="" />
    <classification amount="Eclipse" />
    <Product amount="Platform" />
    <component amount="Runtime" />
    <Version amount="3.1" />
    <rep_platform amount="Macintosh" />
    <op_sys amount="Mac OS X - Carbon (unsup.)" />
    <priority amount="P3" />
    <bug_severity amount="normal" />
    <Summery>Session tests are flakey on OS X</Summery>
    <Patches amount="0" />
    <Stacktraces amount="0" />
    <SourceCodeRegions amount="0" />
    <Enumerations amount="0" />
    <bug_status amount="RESOLVED" />
    <resolution amount="FIXED" />
    <WithStack>The VM process that is launched for session tests should have the -XstartOnFirstThread parameter added 
to the command line when started on OS X.  Omitting this makes any test extremely flakey.
Created attachment 22423
patch for org.eclipse.core.tests.harness

Kim, could you try running with this patch? I added the mentioned option as a
default VM argument when running on MacOSX.
Yup, this seems to do the trick.
Great. Patch released to HEAD.

This a change to the test harness only.
Closing</WithStack>
    <WithOutStack>The VM process that is launched for session tests should have the -XstartOnFirstThread parameter added 
to the command line when started on OS X.  Omitting this makes any test extremely flakey.
Created attachment 22423
patch for org.eclipse.core.tests.harness

Kim, could you try running with this patch? I added the mentioned option as a
default VM argument when running on MacOSX.
Yup, this seems to do the trick.
Great. Patch released to HEAD.

This a change to the test harness only.
Closing</WithOutStack>
  </Bug>
  <Bug>
    <BugId amount="98509" />
    <CreationDate amount="2005-06-06 10:07:00 -0400" />
    <DupId amount="50008" />
    <classification amount="Eclipse" />
    <Product amount="Platform" />
    <component amount="UI" />
    <Version amount="3.1" />
    <rep_platform amount="Macintosh" />
    <op_sys amount="Mac OS X - Carbon (unsup.)" />
    <priority amount="P3" />
    <bug_severity amount="normal" />
    <Summery>Eclipse-&gt;Hide doesn't work. Clicking on the dock will hide application for good</Summery>
    <Patches amount="0" />
    <Stacktraces amount="0" />
    <SourceCodeRegions amount="0" />
    <Enumerations amount="0" />
    <bug_status amount="RESOLVED" />
    <resolution amount="DUPLICATE" />
    <WithStack>Eclipse-&gt;Hide Eclipse doesn't always work. Clicking on the dock will hide application for good. This bug 
has been reported before, and marked as fixed for 3.0. It is however present in 3.1 M7.
Andre?
Kim?
Hi! :)  Do you know anything about this?
Hi Kim!
No, I haven't experienced this problem for some milestones.
Have you?
Naw, I can't reproduce.  I think this was an issue before I got my PB so it's skipped me by entirely.  Do you 
have the bug # for the original?
Alberto, you mentioned this being fixed previously.  Do you happen to know the original bug report?  I 
can't find mention of this problem in our database.  Also, steps to reproduce would be helpful.


*** This bug has been marked as a duplicate of 50008 ***</WithStack>
    <WithOutStack>Eclipse-&gt;Hide Eclipse doesn't always work. Clicking on the dock will hide application for good. This bug 
has been reported before, and marked as fixed for 3.0. It is however present in 3.1 M7.
Andre?
Kim?
Hi! :)  Do you know anything about this?
Hi Kim!
No, I haven't experienced this problem for some milestones.
Have you?
Naw, I can't reproduce.  I think this was an issue before I got my PB so it's skipped me by entirely.  Do you 
have the bug # for the original?
Alberto, you mentioned this being fixed previously.  Do you happen to know the original bug report?  I 
can't find mention of this problem in our database.  Also, steps to reproduce would be helpful.


*** This bug has been marked as a duplicate of 50008 ***</WithOutStack>
  </Bug>
  <Bug>
    <BugId amount="98510" />
    <CreationDate amount="2005-06-06 10:08:00 -0400" />
    <DupId amount="110209" />
    <classification amount="Eclipse" />
    <Product amount="Platform" />
    <component amount="UI" />
    <Version amount="3.1" />
    <rep_platform amount="PC" />
    <op_sys amount="Windows XP" />
    <priority amount="P3" />
    <bug_severity amount="normal" />
    <Summery>[ActionSets] visibility element of org.eclipse.ui.actionSets is missing in schema</Summery>
    <Patches amount="0" />
    <Stacktraces amount="0" />
    <SourceCodeRegions amount="0" />
    <Enumerations amount="0" />
    <bug_status amount="RESOLVED" />
    <resolution amount="DUPLICATE" />
    <WithStack>The documentation of the extensionpoint org.eclipse.ui.actionSets describes a
visibility element which can be used to define visibility of actions.
The schema doesn't define this element as child of the action element.
&lt;visibility&gt; is not a valid sub-element for &lt;action&gt;s in action sets.
Where in the doc does it suggest this?

(In reply to comment #1)
&gt; &lt;visibility&gt; is not a valid sub-element for &lt;action&gt;s in action sets.
&gt; Where in the doc does it suggest this?
&gt; 
Eclipse 3.1M7: Open plugin.xml, select org.eclipse.ui.actionsets, Open extension
point description. 
third paragraph:
(...)
An action's enablement and/or visibility can be defined using the elements
enablement and visibility respectively. These two elements contain a boolean
expression that is evaluated to determine the enablement and/or visibility. 
(...)

The element &lt;visibility&gt; is defined just below &lt;enablement&gt;.




This is still a problem in 3.2 M6.  The &lt;visibility&gt; element is described in the actionSets schema, but is not referenced.  This is probably due to the shared include file.



*** This bug has been marked as a duplicate of 110209 ***</WithStack>
    <WithOutStack>The documentation of the extensionpoint org.eclipse.ui.actionSets describes a
visibility element which can be used to define visibility of actions.
The schema doesn't define this element as child of the action element.
&lt;visibility&gt; is not a valid sub-element for &lt;action&gt;s in action sets.
Where in the doc does it suggest this?

(In reply to comment #1)
&gt; &lt;visibility&gt; is not a valid sub-element for &lt;action&gt;s in action sets.
&gt; Where in the doc does it suggest this?
&gt; 
Eclipse 3.1M7: Open plugin.xml, select org.eclipse.ui.actionsets, Open extension
point description. 
third paragraph:
(...)
An action's enablement and/or visibility can be defined using the elements
enablement and visibility respectively. These two elements contain a boolean
expression that is evaluated to determine the enablement and/or visibility. 
(...)

The element &lt;visibility&gt; is defined just below &lt;enablement&gt;.




This is still a problem in 3.2 M6.  The &lt;visibility&gt; element is described in the actionSets schema, but is not referenced.  This is probably due to the shared include file.



*** This bug has been marked as a duplicate of 110209 ***</WithOutStack>
  </Bug>
  <Bug>
    <BugId amount="98511" />
    <CreationDate amount="2005-06-06 10:20:00 -0400" />
    <DupId amount="" />
    <classification amount="Eclipse" />
    <Product amount="Platform" />
    <component amount="SWT" />
    <Version amount="3.1" />
    <rep_platform amount="PC" />
    <op_sys amount="Windows XP" />
    <priority amount="P3" />
    <bug_severity amount="normal" />
    <Summery>Treeviewer doesn't de-select child when parent is closed</Summery>
    <Patches amount="0" />
    <Stacktraces amount="0" />
    <SourceCodeRegions amount="19">
      <source_code type="import">
        <location start="566" end="591" />
        <code>import java.util.Arrays;</code>
      </source_code>
      <source_code type="import">
        <location start="592" end="614" />
        <code>import java.util.List;</code>
      </source_code>
      <source_code type="import">
        <location start="615" end="675" />
        <code>import org.eclipse.jface.viewers.ISelectionChangedListener;</code>
      </source_code>
      <source_code type="import">
        <location start="676" end="730" />
        <code>import org.eclipse.jface.viewers.IStructuredSelection;</code>
      </source_code>
      <source_code type="import">
        <location start="731" end="785" />
        <code>import org.eclipse.jface.viewers.ITreeContentProvider;</code>
      </source_code>
      <source_code type="import">
        <location start="786" end="841" />
        <code>import org.eclipse.jface.viewers.SelectionChangedEvent;</code>
      </source_code>
      <source_code type="import">
        <location start="842" end="886" />
        <code>import org.eclipse.jface.viewers.TreeViewer;</code>
      </source_code>
      <source_code type="import">
        <location start="887" end="927" />
        <code>import org.eclipse.jface.viewers.Viewer;</code>
      </source_code>
      <source_code type="import">
        <location start="928" end="978" />
        <code>import org.eclipse.jface.window.ApplicationWindow;</code>
      </source_code>
      <source_code type="import">
        <location start="979" end="1018" />
        <code>import org.eclipse.jface.window.Window;</code>
      </source_code>
      <source_code type="import">
        <location start="1019" end="1046" />
        <code>import org.eclipse.swt.SWT;</code>
      </source_code>
      <source_code type="import">
        <location start="1047" end="1086" />
        <code>import org.eclipse.swt.custom.SashForm;</code>
      </source_code>
      <source_code type="import">
        <location start="1087" end="1128" />
        <code>import org.eclipse.swt.layout.FillLayout;</code>
      </source_code>
      <source_code type="import">
        <location start="1129" end="1170" />
        <code>import org.eclipse.swt.widgets.Composite;</code>
      </source_code>
      <source_code type="import">
        <location start="1171" end="1210" />
        <code>import org.eclipse.swt.widgets.Control;</code>
      </source_code>
      <source_code type="import">
        <location start="1211" end="1248" />
        <code>import org.eclipse.swt.widgets.Label;</code>
      </source_code>
      <source_code type="import">
        <location start="1249" end="1286" />
        <code>import org.eclipse.swt.widgets.Shell;</code>
      </source_code>
      <source_code type="class">
        <location start="1288" end="3818" />
        <code>public class TreeBug extends ApplicationWindow {
    
    /**
     * @param parentShell
     */
    public TreeBug(final Shell parentShell) {
        super(parentShell);
    }
    
    @Override
    protected Control createContents(final Composite parent) {
               
        final SashForm sash = new SashForm(parent, SWT.HORIZONTAL | SWT.BORDER);
        
        final TreeViewer myViewer = new TreeViewer(sash);
        myViewer.setContentProvider(new TreeContentProvider());
        
        final Composite main = new Composite(sash, 0);
        main.setLayout(new FillLayout());
        sash.setWeights(new int[]{1, 2});
        final Label label = new Label(main, SWT.CENTER);
        
        myViewer.addSelectionChangedListener(new ISelectionChangedListener(){
            public void selectionChanged(SelectionChangedEvent event) {
                IStructuredSelection selection = (IStructuredSelection)
event.getSelection();
                
                Object newSelection = selection.getFirstElement();
                label.setText(newSelection == null ? "" : newSelection.toString());
            }
        });
        
        myViewer.setInput(Arrays.asList(new String[]{"parent1", "parent2",
"parent3"}));
        
        return sash;
    }
    

    /**
     * @param args
     */
    public static void main(String[] args) {
        Window gui = new TreeBug(null);
        gui.setBlockOnOpen(true);
        System.out.printf("Return code from open is %d\n", gui.open());
    }
    

    
    public class TreeContentProvider implements ITreeContentProvider {
       
        public Object[] getChildren(Object parentElement) {
            String s = (String) parentElement;
            char lastChar = s.charAt(s.length()-1);
            return new String[]{"child"+lastChar};
        }

        public Object getParent(Object element) {
            String s = (String) element;
            if (s.startsWith("parent")) return null;
            char lastChar = s.charAt(s.length()-1);
            return new String[]{"parent"+lastChar};
        }

        public boolean hasChildren(Object element) {
            String s = (String) element;
            if (s.startsWith("parent")) return true;
            return false;
        }

        public Object[] getElements(Object inputElement) {
            return ((List)inputElement).toArray();
        }

        public void dispose() {
        }

        public void inputChanged(Viewer viewer, Object oldInput, Object newInput) {
        }
    }

}</code>
      </source_code>
      <source_code type="functiondef">
        <location start="4084" end="4785" />
        <code>public static void main(String[] args) {
	final Display display = new Display();
	Shell shell = new Shell(display);
	shell.setBounds(10, 10, 200, 200);
	Tree tree = new Tree(shell, SWT.MULTI);
	tree.setBounds(10,10,150,150);
	tree.addSelectionListener(new SelectionAdapter() {
		public void widgetSelected(SelectionEvent e) {
			System.out.println("item selected: " + e.item);
		}
	});
	for (int i = 0; i &lt; 5; i++) {
		TreeItem root = new TreeItem(tree, SWT.NONE);
		root.setText("root " + i);
		TreeItem child = new TreeItem(root, SWT.NONE);
		child.setText("child of " + i);
	}
	shell.open();
	while (!shell.isDisposed()) {
		if (!display.readAndDispatch()) display.sleep();
	}
	display.dispose();
}</code>
      </source_code>
    </SourceCodeRegions>
    <Enumerations amount="1">
      <Enumeration lines="8">
        <Lines>
          <Line>1) Open 'parent2' for example.</Line>
          <Line>2) Click on 'child2'.  It becomes selected (also reflected in the window on the</Line>
          <Line>right</Line>
          <Line>3) Close 'parent2'.  There is currently no selection.</Line>
          <Line>4) Re-open 'parent2'.  There is still no selection</Line>
          <Line>Repeat for 'parent3'</Line>
          <Line>When you close 'parent3', 'child3' remains selected.  Re-open 'parent3' and</Line>
          <Line>'child3' is still selected.</Line>
        </Lines>
      </Enumeration>
    </Enumerations>
    <bug_status amount="RESOLVED" />
    <resolution amount="FIXED" />
    <WithStack>This bugs appears in Windows XP.  It doesn't seem to occur in Linux. In the
following sample code, do the following:
1) Open 'parent2' for example.  
2) Click on 'child2'.  It becomes selected (also reflected in the window on the
right
3) Close 'parent2'.  There is currently no selection.
4) Re-open 'parent2'.  There is still no selection
Repeat for 'parent3'
When you close 'parent3', 'child3' remains selected.  Re-open 'parent3' and
'child3' is still selected.

The problem always happens with the last item in the tree.
--------
Sample code follows
----------

import java.util.Arrays;
import java.util.List;

import org.eclipse.jface.viewers.ISelectionChangedListener;
import org.eclipse.jface.viewers.IStructuredSelection;
import org.eclipse.jface.viewers.ITreeContentProvider;
import org.eclipse.jface.viewers.SelectionChangedEvent;
import org.eclipse.jface.viewers.TreeViewer;
import org.eclipse.jface.viewers.Viewer;
import org.eclipse.jface.window.ApplicationWindow;
import org.eclipse.jface.window.Window;
import org.eclipse.swt.SWT;
import org.eclipse.swt.custom.SashForm;
import org.eclipse.swt.layout.FillLayout;
import org.eclipse.swt.widgets.Composite;
import org.eclipse.swt.widgets.Control;
import org.eclipse.swt.widgets.Label;
import org.eclipse.swt.widgets.Shell;

public class TreeBug extends ApplicationWindow {
    
    /**
     * @param parentShell
     */
    public TreeBug(final Shell parentShell) {
        super(parentShell);
    }
    
    @Override
    protected Control createContents(final Composite parent) {
               
        final SashForm sash = new SashForm(parent, SWT.HORIZONTAL | SWT.BORDER);
        
        final TreeViewer myViewer = new TreeViewer(sash);
        myViewer.setContentProvider(new TreeContentProvider());
        
        final Composite main = new Composite(sash, 0);
        main.setLayout(new FillLayout());
        sash.setWeights(new int[]{1, 2});
        final Label label = new Label(main, SWT.CENTER);
        
        myViewer.addSelectionChangedListener(new ISelectionChangedListener(){
            public void selectionChanged(SelectionChangedEvent event) {
                IStructuredSelection selection = (IStructuredSelection)
event.getSelection();
                
                Object newSelection = selection.getFirstElement();
                label.setText(newSelection == null ? "" : newSelection.toString());
            }
        });
        
        myViewer.setInput(Arrays.asList(new String[]{"parent1", "parent2",
"parent3"}));
        
        return sash;
    }
    

    /**
     * @param args
     */
    public static void main(String[] args) {
        Window gui = new TreeBug(null);
        gui.setBlockOnOpen(true);
        System.out.printf("Return code from open is %d\n", gui.open());
    }
    

    
    public class TreeContentProvider implements ITreeContentProvider {
       
        public Object[] getChildren(Object parentElement) {
            String s = (String) parentElement;
            char lastChar = s.charAt(s.length()-1);
            return new String[]{"child"+lastChar};
        }

        public Object getParent(Object element) {
            String s = (String) element;
            if (s.startsWith("parent")) return null;
            char lastChar = s.charAt(s.length()-1);
            return new String[]{"parent"+lastChar};
        }

        public boolean hasChildren(Object element) {
            String s = (String) element;
            if (s.startsWith("parent")) return true;
            return false;
        }

        public Object[] getElements(Object inputElement) {
            return ((List)inputElement).toArray();
        }

        public void dispose() {
        }

        public void inputChanged(Viewer viewer, Object oldInput, Object newInput) {
        }
    }

}
swt-only snippet follows.  For root items != the last root item, collapsing the 
root item deselects the child and fired a Selection for the root item (though 
it doesn't appear selected; another bug perhaps?).  But collapsing the last 
root item doesn't do this.

public static void main(String[] args) {
	final Display display = new Display();
	Shell shell = new Shell(display);
	shell.setBounds(10, 10, 200, 200);
	Tree tree = new Tree(shell, SWT.MULTI);
	tree.setBounds(10,10,150,150);
	tree.addSelectionListener(new SelectionAdapter() {
		public void widgetSelected(SelectionEvent e) {
			System.out.println("item selected: " + e.item);
		}
	});
	for (int i = 0; i &lt; 5; i++) {
		TreeItem root = new TreeItem(tree, SWT.NONE);
		root.setText("root " + i);
		TreeItem child = new TreeItem(root, SWT.NONE);
		child.setText("child of " + i);
	}
	shell.open();
	while (!shell.isDisposed()) {
		if (!display.readAndDispatch()) display.sleep();
	}
	display.dispose();
}

It looks like Windows has a bug deselecting the last item of the last branch 
of the tree.  I'm looking into it.

&gt;(though it doesn't appear selected; another bug perhaps?).

This is not a bug.  In a multi-select tree, when the user deselects an item 
(say using the Ctrl+Click), the selection changes and notification is issued.  
This is the same case.
Fixed &gt; 20051028</WithStack>
    <WithOutStack>This bugs appears in Windows XP.  It doesn't seem to occur in Linux. In the
following sample code, do the following:
1) Open 'parent2' for example.  
2) Click on 'child2'.  It becomes selected (also reflected in the window on the
right
3) Close 'parent2'.  There is currently no selection.
4) Re-open 'parent2'.  There is still no selection
Repeat for 'parent3'
When you close 'parent3', 'child3' remains selected.  Re-open 'parent3' and
'child3' is still selected.

The problem always happens with the last item in the tree.
--------
Sample code follows
----------

import java.util.Arrays;
import java.util.List;

import org.eclipse.jface.viewers.ISelectionChangedListener;
import org.eclipse.jface.viewers.IStructuredSelection;
import org.eclipse.jface.viewers.ITreeContentProvider;
import org.eclipse.jface.viewers.SelectionChangedEvent;
import org.eclipse.jface.viewers.TreeViewer;
import org.eclipse.jface.viewers.Viewer;
import org.eclipse.jface.window.ApplicationWindow;
import org.eclipse.jface.window.Window;
import org.eclipse.swt.SWT;
import org.eclipse.swt.custom.SashForm;
import org.eclipse.swt.layout.FillLayout;
import org.eclipse.swt.widgets.Composite;
import org.eclipse.swt.widgets.Control;
import org.eclipse.swt.widgets.Label;
import org.eclipse.swt.widgets.Shell;

public class TreeBug extends ApplicationWindow {
    
    /**
     * @param parentShell
     */
    public TreeBug(final Shell parentShell) {
        super(parentShell);
    }
    
    @Override
    protected Control createContents(final Composite parent) {
               
        final SashForm sash = new SashForm(parent, SWT.HORIZONTAL | SWT.BORDER);
        
        final TreeViewer myViewer = new TreeViewer(sash);
        myViewer.setContentProvider(new TreeContentProvider());
        
        final Composite main = new Composite(sash, 0);
        main.setLayout(new FillLayout());
        sash.setWeights(new int[]{1, 2});
        final Label label = new Label(main, SWT.CENTER);
        
        myViewer.addSelectionChangedListener(new ISelectionChangedListener(){
            public void selectionChanged(SelectionChangedEvent event) {
                IStructuredSelection selection = (IStructuredSelection)
event.getSelection();
                
                Object newSelection = selection.getFirstElement();
                label.setText(newSelection == null ? "" : newSelection.toString());
            }
        });
        
        myViewer.setInput(Arrays.asList(new String[]{"parent1", "parent2",
"parent3"}));
        
        return sash;
    }
    

    /**
     * @param args
     */
    public static void main(String[] args) {
        Window gui = new TreeBug(null);
        gui.setBlockOnOpen(true);
        System.out.printf("Return code from open is %d\n", gui.open());
    }
    

    
    public class TreeContentProvider implements ITreeContentProvider {
       
        public Object[] getChildren(Object parentElement) {
            String s = (String) parentElement;
            char lastChar = s.charAt(s.length()-1);
            return new String[]{"child"+lastChar};
        }

        public Object getParent(Object element) {
            String s = (String) element;
            if (s.startsWith("parent")) return null;
            char lastChar = s.charAt(s.length()-1);
            return new String[]{"parent"+lastChar};
        }

        public boolean hasChildren(Object element) {
            String s = (String) element;
            if (s.startsWith("parent")) return true;
            return false;
        }

        public Object[] getElements(Object inputElement) {
            return ((List)inputElement).toArray();
        }

        public void dispose() {
        }

        public void inputChanged(Viewer viewer, Object oldInput, Object newInput) {
        }
    }

}
swt-only snippet follows.  For root items != the last root item, collapsing the 
root item deselects the child and fired a Selection for the root item (though 
it doesn't appear selected; another bug perhaps?).  But collapsing the last 
root item doesn't do this.

public static void main(String[] args) {
	final Display display = new Display();
	Shell shell = new Shell(display);
	shell.setBounds(10, 10, 200, 200);
	Tree tree = new Tree(shell, SWT.MULTI);
	tree.setBounds(10,10,150,150);
	tree.addSelectionListener(new SelectionAdapter() {
		public void widgetSelected(SelectionEvent e) {
			System.out.println("item selected: " + e.item);
		}
	});
	for (int i = 0; i &lt; 5; i++) {
		TreeItem root = new TreeItem(tree, SWT.NONE);
		root.setText("root " + i);
		TreeItem child = new TreeItem(root, SWT.NONE);
		child.setText("child of " + i);
	}
	shell.open();
	while (!shell.isDisposed()) {
		if (!display.readAndDispatch()) display.sleep();
	}
	display.dispose();
}

It looks like Windows has a bug deselecting the last item of the last branch 
of the tree.  I'm looking into it.

&gt;(though it doesn't appear selected; another bug perhaps?).

This is not a bug.  In a multi-select tree, when the user deselects an item 
(say using the Ctrl+Click), the selection changes and notification is issued.  
This is the same case.
Fixed &gt; 20051028</WithOutStack>
  </Bug>
  <Bug>
    <BugId amount="98512" />
    <CreationDate amount="2005-06-06 10:23:00 -0400" />
    <DupId amount="" />
    <classification amount="WebTools" />
    <Product amount="WTP Webservices" />
    <component amount="jst.ws" />
    <Version amount="unspecified" />
    <rep_platform amount="PC" />
    <op_sys amount="Windows 2000" />
    <priority amount="P3" />
    <bug_severity amount="normal" />
    <Summery>JUnit tests: Enable flexible project preference</Summery>
    <Patches amount="0" />
    <Stacktraces amount="0" />
    <SourceCodeRegions amount="0" />
    <Enumerations amount="0" />
    <bug_status amount="CLOSED" />
    <resolution amount="FIXED" />
    <WithStack>The JUnit test for creating modules is failing due because the flexible project 
preference isn't set.

Since the default setting is "non-flexible" projects, we will also create 
JUnits for this scenario.
Created attachment 22420
JUnit test patch
Hi Jeffrey,
Thanks for committing the initial set of WS JUnit tests.  This patch is 
required to deal with the flexible project preference setting which will cause 
our tests to fail if it isn't enabled.  The reason is because we are testing 
multiple modules per project.

Following this fix, I will see about putting in some JUnits for non-flexible 
project testing as well.

Thanks!
Hi Seng,

There are some conflicts between your patch &amp; the content in CVS. Can you do 
an update and recreate the patch? Thanks,

Jeff
Created attachment 22427
WS tests patch

Ok, this one should be better.	There were some timestamp issues that caused
the previous patch have conflicts.
Done (fixed and released). Seng, thanks for the patch.
In 20050603I.
Done</WithStack>
    <WithOutStack>The JUnit test for creating modules is failing due because the flexible project 
preference isn't set.

Since the default setting is "non-flexible" projects, we will also create 
JUnits for this scenario.
Created attachment 22420
JUnit test patch
Hi Jeffrey,
Thanks for committing the initial set of WS JUnit tests.  This patch is 
required to deal with the flexible project preference setting which will cause 
our tests to fail if it isn't enabled.  The reason is because we are testing 
multiple modules per project.

Following this fix, I will see about putting in some JUnits for non-flexible 
project testing as well.

Thanks!
Hi Seng,

There are some conflicts between your patch &amp; the content in CVS. Can you do 
an update and recreate the patch? Thanks,

Jeff
Created attachment 22427
WS tests patch

Ok, this one should be better.	There were some timestamp issues that caused
the previous patch have conflicts.
Done (fixed and released). Seng, thanks for the patch.
In 20050603I.
Done</WithOutStack>
  </Bug>
  <Bug>
    <BugId amount="98513" />
    <CreationDate amount="2005-06-06 10:29:00 -0400" />
    <DupId amount="" />
    <classification amount="WebTools" />
    <Product amount="WTP Java EE Tools" />
    <component amount="jst.j2ee" />
    <Version amount="0.7" />
    <rep_platform amount="PC" />
    <op_sys amount="Windows XP" />
    <priority amount="P3" />
    <bug_severity amount="major" />
    <Summery>Deployer framework still uses IProject for deployment</Summery>
    <Patches amount="0" />
    <Stacktraces amount="0" />
    <SourceCodeRegions amount="0" />
    <Enumerations amount="0" />
    <bug_status amount="CLOSED" />
    <resolution amount="FIXED" />
    <WithStack>I picked up the I20050602 WTP build expecting Bugzilla 96779 (Need Deployer 
Framework) to be fixed. From what I can tell, J2EEDeployHelper still appears 
to be unported. Digging deeper, I examined J2EEDeployOperation and it appears 
from the deploy() method that deployer extensions are always executed with the 
IResource argument set to that of an IProject. Is there a way for us to 
determine what type of J2EE module triggered the deploy - if and when it 
exists? If not, our deployers will end up with the side effect of deploying 
all modules in a given project regardless of selection. This will result in 
performance issues when a project is used to hold many unrelated J2EE modules 
some of which users may not necessarily want to deploy.

I could have missed something entirely too. If so, how should we design our 
deployers and still be optimal for WTP?
Hi Yen,

I ported the J2EEDeployHelper over the weekend, but we mat want to discuss this
framework past the Beta timeframe.   We are already working with the Tim Deboers
team to move our structural building to a server specific publish task, and I
feel the same should happen for deploy.  Any server specific artifacts will be
created outside the workbench in the server metadata area.   

I do see your point about multiple component types being deployed per project,
and I can take another look, but for now you should be unblocked... I will drop
this severity.
All deployer and helper code now uses components
Changed Version field given new release numbering.

Closing already verified defects</WithStack>
    <WithOutStack>I picked up the I20050602 WTP build expecting Bugzilla 96779 (Need Deployer 
Framework) to be fixed. From what I can tell, J2EEDeployHelper still appears 
to be unported. Digging deeper, I examined J2EEDeployOperation and it appears 
from the deploy() method that deployer extensions are always executed with the 
IResource argument set to that of an IProject. Is there a way for us to 
determine what type of J2EE module triggered the deploy - if and when it 
exists? If not, our deployers will end up with the side effect of deploying 
all modules in a given project regardless of selection. This will result in 
performance issues when a project is used to hold many unrelated J2EE modules 
some of which users may not necessarily want to deploy.

I could have missed something entirely too. If so, how should we design our 
deployers and still be optimal for WTP?
Hi Yen,

I ported the J2EEDeployHelper over the weekend, but we mat want to discuss this
framework past the Beta timeframe.   We are already working with the Tim Deboers
team to move our structural building to a server specific publish task, and I
feel the same should happen for deploy.  Any server specific artifacts will be
created outside the workbench in the server metadata area.   

I do see your point about multiple component types being deployed per project,
and I can take another look, but for now you should be unblocked... I will drop
this severity.
All deployer and helper code now uses components
Changed Version field given new release numbering.

Closing already verified defects</WithOutStack>
  </Bug>
  <Bug>
    <BugId amount="98514" />
    <CreationDate amount="2005-06-06 10:30:00 -0400" />
    <DupId amount="" />
    <classification amount="Tools" />
    <Product amount="CDT" />
    <component amount="cdt-parser" />
    <Version amount="3.0" />
    <rep_platform amount="PC" />
    <op_sys amount="Windows XP" />
    <priority amount="P3" />
    <bug_severity amount="normal" />
    <Summery>[K&amp;R C] displays invalid errors on correct K&amp;R C syntax</Summery>
    <Patches amount="0" />
    <Stacktraces amount="0" />
    <SourceCodeRegions amount="2">
      <source_code type="singlecomment">
        <location start="137" end="152" />
        <code>// example.c:</code>
      </source_code>
      <source_code type="functiondef">
        <location start="152" end="185" />
        <code>int foo(x) int x; {
	return 0;	
}</code>
      </source_code>
    </SourceCodeRegions>
    <Enumerations amount="0" />
    <bug_status amount="RESOLVED" />
    <resolution amount="INVALID" />
    <WithStack>Even though the AST has no errors on it when displayed in the DOM AST View, 
there are still errors being reported on foo in the editor.

// example.c:
int foo(x) int x; {
	return 0;	
}
Can't reproduce.</WithStack>
    <WithOutStack>Even though the AST has no errors on it when displayed in the DOM AST View, 
there are still errors being reported on foo in the editor.

// example.c:
int foo(x) int x; {
	return 0;	
}
Can't reproduce.</WithOutStack>
  </Bug>
  <Bug>
    <BugId amount="98515" />
    <CreationDate amount="2005-06-06 10:31:00 -0400" />
    <DupId amount="" />
    <classification amount="Eclipse" />
    <Product amount="Platform" />
    <component amount="Team" />
    <Version amount="3.1" />
    <rep_platform amount="PC" />
    <op_sys amount="Windows 2000" />
    <priority amount="P3" />
    <bug_severity amount="blocker" />
    <Summery>Target/FTP plugin : ITargetResource.getContents fails for &gt; 80 KB files</Summery>
    <Patches amount="0" />
    <Stacktraces amount="0" />
    <SourceCodeRegions amount="2">
      <source_code type="multicomment">
        <location start="632" end="753" />
        <code>/**
	 * Closes a connection to the server, if not already closed.
	 * @param monitor the progress monitor, or null
	 */</code>
      </source_code>
      <source_code type="functiondef">
        <location start="754" end="2576" />
        <code>public void close(IProgressMonitor monitor) throws FtpException {
		if (controlConnection == null) return;
		monitor = FtpPlugin.monitorFor(monitor);
		monitor.beginTask(null, 100);
		monitor.subTask(FtpPlugin.getResourceString("FTPClient.closeConnection"));
//$NON-NLS-1$
		try {
			// FIXME skipping sendCommand("QUIT", null) becuase
handleDataTransferCompletion() call
			// in sendCommand method is trying to read the SocketInputStream, the source
of grief. 
			// send the QUIT request (50%)
			//sendCommand("QUIT", null); //$NON-NLS-1$
			try {
				String command = "QUIT";
				String argument = null;
				OutputStream os = controlConnection.getOutputStream();
				listener.requestSent(command, argument);
				os.write(command.getBytes());
				if (argument != null &amp;&amp; argument.length() &gt; 0) {
					os.write(Constants.SPACE); // SPACE
					argument = argument.replace('\n', '\0'); // encode LF's as nulls
					os.write(argument.getBytes());
				}
				os.write(Constants.CR); // CR
				os.write(Constants.LF); // LF
				os.flush();
			} catch (IOException e) {
				throw new
FtpCommunicationException(FtpPlugin.getResourceString("FTPClient.ErrorSendingCommands"),
e); //$NON-NLS-1$
			}
			monitor.worked(25);
			
			//FIXME Once bitten twice shy
			/*int response;
			try {
				response=readResponseSkip100();
				switch (response) {
					case 221: // service closing
						break;
					default:
						defaultResponseHandler();
				}
			} catch (FtpCommunicationException e) {
				if (e.getStatus().getCode()!= IFtpStatus.CONNECTION_LOST) throw e;
			}*/
			monitor.worked(25);
		} finally {
			try {
				// close the socket (50%)
				controlConnection.close(FtpPlugin.subMonitorFor(monitor, 50));
			} finally {
				controlConnection = null;
				expectDataTransferCompletion = false;
				monitor.done();
			}
		}
	}</code>
      </source_code>
    </SourceCodeRegions>
    <Enumerations amount="0" />
    <bug_status amount="RESOLVED" />
    <resolution amount="FIXED" />
    <WithStack>I have been using org.eclipse.ftp, org.eclipse.target &amp; 
org.eclipse.target.ftp plugins. I am not able to fetch files of size &gt; 80 
KB (roughly) from a remote system (HPUX 11i / Solaris 2.9). For files &lt;80 
KB no problems.

I suspected this had to do with timeout, so I played with timeout value 
while creating the site, but no luck.

My code makes a ITargetResource.getContents call.
I have observed this problem even while doing a "Copy Resource action" in 
Site Explorer view. There ITargetResource.setContents is used.

Following source code modification appears to solve the problem. 

org.eclipse.ftp.internal.FTPClient.java

	/**
	 * Closes a connection to the server, if not already closed.
	 * @param monitor the progress monitor, or null
	 */
	public void close(IProgressMonitor monitor) throws FtpException {
		if (controlConnection == null) return;
		monitor = FtpPlugin.monitorFor(monitor);
		monitor.beginTask(null, 100);
		monitor.subTask(FtpPlugin.getResourceString("FTPClient.closeConnection"));
//$NON-NLS-1$
		try {
			// FIXME skipping sendCommand("QUIT", null) becuase
handleDataTransferCompletion() call
			// in sendCommand method is trying to read the SocketInputStream, the source
of grief. 
			// send the QUIT request (50%)
			//sendCommand("QUIT", null); //$NON-NLS-1$
			try {
				String command = "QUIT";
				String argument = null;
				OutputStream os = controlConnection.getOutputStream();
				listener.requestSent(command, argument);
				os.write(command.getBytes());
				if (argument != null &amp;&amp; argument.length() &gt; 0) {
					os.write(Constants.SPACE); // SPACE
					argument = argument.replace('\n', '\0'); // encode LF's as nulls
					os.write(argument.getBytes());
				}
				os.write(Constants.CR); // CR
				os.write(Constants.LF); // LF
				os.flush();
			} catch (IOException e) {
				throw new
FtpCommunicationException(FtpPlugin.getResourceString("FTPClient.ErrorSendingCommands"),
e); //$NON-NLS-1$
			}
			monitor.worked(25);
			
			//FIXME Once bitten twice shy
			/*int response;
			try {
				response=readResponseSkip100();
				switch (response) {
					case 221: // service closing
						break;
					default:
						defaultResponseHandler();
				}
			} catch (FtpCommunicationException e) {
				if (e.getStatus().getCode()!= IFtpStatus.CONNECTION_LOST) throw e;
			}*/
			monitor.worked(25);
		} finally {
			try {
				// close the socket (50%)
				controlConnection.close(FtpPlugin.subMonitorFor(monitor, 50));
			} finally {
				controlConnection = null;
				expectDataTransferCompletion = false;
				monitor.done();
			}
		}
	}
*** Bug 98516 has been marked as a duplicate of this bug. ***
Do you experience problems when using the UI or only when using the plugins 
programatically?
Created attachment 22426
Copy operation runs eternally

Problem happens both through UI and code.
Through code, I am doing ITargetResource.getContents.
Through UI I did, "Copy Resources" action which would be
ITargetResource.getContents &amp; ITargetResource.setContents.
Normally we don't address FTP plugin issues but this was such a dumb error 
that I felt I better fix it. The problem was in FtpTargetResource#getContents. 
Basically, we were closing the stream before we returned the stream for 
reading. It should have failed in all cases not just &gt;80KB. Perhaps there was 
some buffering that was helping out.
*** Bug 86100 has been marked as a duplicate of this bug. ***</WithStack>
    <WithOutStack>I have been using org.eclipse.ftp, org.eclipse.target &amp; 
org.eclipse.target.ftp plugins. I am not able to fetch files of size &gt; 80 
KB (roughly) from a remote system (HPUX 11i / Solaris 2.9). For files &lt;80 
KB no problems.

I suspected this had to do with timeout, so I played with timeout value 
while creating the site, but no luck.

My code makes a ITargetResource.getContents call.
I have observed this problem even while doing a "Copy Resource action" in 
Site Explorer view. There ITargetResource.setContents is used.

Following source code modification appears to solve the problem. 

org.eclipse.ftp.internal.FTPClient.java

	/**
	 * Closes a connection to the server, if not already closed.
	 * @param monitor the progress monitor, or null
	 */
	public void close(IProgressMonitor monitor) throws FtpException {
		if (controlConnection == null) return;
		monitor = FtpPlugin.monitorFor(monitor);
		monitor.beginTask(null, 100);
		monitor.subTask(FtpPlugin.getResourceString("FTPClient.closeConnection"));
//$NON-NLS-1$
		try {
			// FIXME skipping sendCommand("QUIT", null) becuase
handleDataTransferCompletion() call
			// in sendCommand method is trying to read the SocketInputStream, the source
of grief. 
			// send the QUIT request (50%)
			//sendCommand("QUIT", null); //$NON-NLS-1$
			try {
				String command = "QUIT";
				String argument = null;
				OutputStream os = controlConnection.getOutputStream();
				listener.requestSent(command, argument);
				os.write(command.getBytes());
				if (argument != null &amp;&amp; argument.length() &gt; 0) {
					os.write(Constants.SPACE); // SPACE
					argument = argument.replace('\n', '\0'); // encode LF's as nulls
					os.write(argument.getBytes());
				}
				os.write(Constants.CR); // CR
				os.write(Constants.LF); // LF
				os.flush();
			} catch (IOException e) {
				throw new
FtpCommunicationException(FtpPlugin.getResourceString("FTPClient.ErrorSendingCommands"),
e); //$NON-NLS-1$
			}
			monitor.worked(25);
			
			//FIXME Once bitten twice shy
			/*int response;
			try {
				response=readResponseSkip100();
				switch (response) {
					case 221: // service closing
						break;
					default:
						defaultResponseHandler();
				}
			} catch (FtpCommunicationException e) {
				if (e.getStatus().getCode()!= IFtpStatus.CONNECTION_LOST) throw e;
			}*/
			monitor.worked(25);
		} finally {
			try {
				// close the socket (50%)
				controlConnection.close(FtpPlugin.subMonitorFor(monitor, 50));
			} finally {
				controlConnection = null;
				expectDataTransferCompletion = false;
				monitor.done();
			}
		}
	}
*** Bug 98516 has been marked as a duplicate of this bug. ***
Do you experience problems when using the UI or only when using the plugins 
programatically?
Created attachment 22426
Copy operation runs eternally

Problem happens both through UI and code.
Through code, I am doing ITargetResource.getContents.
Through UI I did, "Copy Resources" action which would be
ITargetResource.getContents &amp; ITargetResource.setContents.
Normally we don't address FTP plugin issues but this was such a dumb error 
that I felt I better fix it. The problem was in FtpTargetResource#getContents. 
Basically, we were closing the stream before we returned the stream for 
reading. It should have failed in all cases not just &gt;80KB. Perhaps there was 
some buffering that was helping out.
*** Bug 86100 has been marked as a duplicate of this bug. ***</WithOutStack>
  </Bug>
  <Bug>
    <BugId amount="98516" />
    <CreationDate amount="2005-06-06 10:33:00 -0400" />
    <DupId amount="98515" />
    <classification amount="Eclipse" />
    <Product amount="Platform" />
    <component amount="Team" />
    <Version amount="3.1" />
    <rep_platform amount="PC" />
    <op_sys amount="Windows 2000" />
    <priority amount="P3" />
    <bug_severity amount="blocker" />
    <Summery>Target/FTP plugin : ITargetResource.getContents fails for &gt; 80 KB files</Summery>
    <Patches amount="0" />
    <Stacktraces amount="0" />
    <SourceCodeRegions amount="2">
      <source_code type="multicomment">
        <location start="632" end="753" />
        <code>/**
	 * Closes a connection to the server, if not already closed.
	 * @param monitor the progress monitor, or null
	 */</code>
      </source_code>
      <source_code type="functiondef">
        <location start="754" end="2576" />
        <code>public void close(IProgressMonitor monitor) throws FtpException {
		if (controlConnection == null) return;
		monitor = FtpPlugin.monitorFor(monitor);
		monitor.beginTask(null, 100);
		monitor.subTask(FtpPlugin.getResourceString("FTPClient.closeConnection"));
//$NON-NLS-1$
		try {
			// FIXME skipping sendCommand("QUIT", null) becuase
handleDataTransferCompletion() call
			// in sendCommand method is trying to read the SocketInputStream, the source
of grief. 
			// send the QUIT request (50%)
			//sendCommand("QUIT", null); //$NON-NLS-1$
			try {
				String command = "QUIT";
				String argument = null;
				OutputStream os = controlConnection.getOutputStream();
				listener.requestSent(command, argument);
				os.write(command.getBytes());
				if (argument != null &amp;&amp; argument.length() &gt; 0) {
					os.write(Constants.SPACE); // SPACE
					argument = argument.replace('\n', '\0'); // encode LF's as nulls
					os.write(argument.getBytes());
				}
				os.write(Constants.CR); // CR
				os.write(Constants.LF); // LF
				os.flush();
			} catch (IOException e) {
				throw new
FtpCommunicationException(FtpPlugin.getResourceString("FTPClient.ErrorSendingCommands"),
e); //$NON-NLS-1$
			}
			monitor.worked(25);
			
			//FIXME Once bitten twice shy
			/*int response;
			try {
				response=readResponseSkip100();
				switch (response) {
					case 221: // service closing
						break;
					default:
						defaultResponseHandler();
				}
			} catch (FtpCommunicationException e) {
				if (e.getStatus().getCode()!= IFtpStatus.CONNECTION_LOST) throw e;
			}*/
			monitor.worked(25);
		} finally {
			try {
				// close the socket (50%)
				controlConnection.close(FtpPlugin.subMonitorFor(monitor, 50));
			} finally {
				controlConnection = null;
				expectDataTransferCompletion = false;
				monitor.done();
			}
		}
	}</code>
      </source_code>
    </SourceCodeRegions>
    <Enumerations amount="0" />
    <bug_status amount="RESOLVED" />
    <resolution amount="DUPLICATE" />
    <WithStack>I have been using org.eclipse.ftp, org.eclipse.target &amp; 
org.eclipse.target.ftp plugins. I am not able to fetch files of size &gt; 80 
KB (roughly) from a remote system (HPUX 11i / Solaris 2.9). For files &lt;80 
KB no problems.

I suspected this had to do with timeout, so I played with timeout value 
while creating the site, but no luck.

My code makes a ITargetResource.getContents call.
I have observed this problem even while doing a "Copy Resource action" in 
Site Explorer view. There ITargetResource.setContents is used.

Following source code modification appears to solve the problem. 

org.eclipse.ftp.internal.FTPClient.java

	/**
	 * Closes a connection to the server, if not already closed.
	 * @param monitor the progress monitor, or null
	 */
	public void close(IProgressMonitor monitor) throws FtpException {
		if (controlConnection == null) return;
		monitor = FtpPlugin.monitorFor(monitor);
		monitor.beginTask(null, 100);
		monitor.subTask(FtpPlugin.getResourceString("FTPClient.closeConnection"));
//$NON-NLS-1$
		try {
			// FIXME skipping sendCommand("QUIT", null) becuase
handleDataTransferCompletion() call
			// in sendCommand method is trying to read the SocketInputStream, the source
of grief. 
			// send the QUIT request (50%)
			//sendCommand("QUIT", null); //$NON-NLS-1$
			try {
				String command = "QUIT";
				String argument = null;
				OutputStream os = controlConnection.getOutputStream();
				listener.requestSent(command, argument);
				os.write(command.getBytes());
				if (argument != null &amp;&amp; argument.length() &gt; 0) {
					os.write(Constants.SPACE); // SPACE
					argument = argument.replace('\n', '\0'); // encode LF's as nulls
					os.write(argument.getBytes());
				}
				os.write(Constants.CR); // CR
				os.write(Constants.LF); // LF
				os.flush();
			} catch (IOException e) {
				throw new
FtpCommunicationException(FtpPlugin.getResourceString("FTPClient.ErrorSendingCommands"),
e); //$NON-NLS-1$
			}
			monitor.worked(25);
			
			//FIXME Once bitten twice shy
			/*int response;
			try {
				response=readResponseSkip100();
				switch (response) {
					case 221: // service closing
						break;
					default:
						defaultResponseHandler();
				}
			} catch (FtpCommunicationException e) {
				if (e.getStatus().getCode()!= IFtpStatus.CONNECTION_LOST) throw e;
			}*/
			monitor.worked(25);
		} finally {
			try {
				// close the socket (50%)
				controlConnection.close(FtpPlugin.subMonitorFor(monitor, 50));
			} finally {
				controlConnection = null;
				expectDataTransferCompletion = false;
				monitor.done();
			}
		}
	}


*** This bug has been marked as a duplicate of 98515 ***</WithStack>
    <WithOutStack>I have been using org.eclipse.ftp, org.eclipse.target &amp; 
org.eclipse.target.ftp plugins. I am not able to fetch files of size &gt; 80 
KB (roughly) from a remote system (HPUX 11i / Solaris 2.9). For files &lt;80 
KB no problems.

I suspected this had to do with timeout, so I played with timeout value 
while creating the site, but no luck.

My code makes a ITargetResource.getContents call.
I have observed this problem even while doing a "Copy Resource action" in 
Site Explorer view. There ITargetResource.setContents is used.

Following source code modification appears to solve the problem. 

org.eclipse.ftp.internal.FTPClient.java

	/**
	 * Closes a connection to the server, if not already closed.
	 * @param monitor the progress monitor, or null
	 */
	public void close(IProgressMonitor monitor) throws FtpException {
		if (controlConnection == null) return;
		monitor = FtpPlugin.monitorFor(monitor);
		monitor.beginTask(null, 100);
		monitor.subTask(FtpPlugin.getResourceString("FTPClient.closeConnection"));
//$NON-NLS-1$
		try {
			// FIXME skipping sendCommand("QUIT", null) becuase
handleDataTransferCompletion() call
			// in sendCommand method is trying to read the SocketInputStream, the source
of grief. 
			// send the QUIT request (50%)
			//sendCommand("QUIT", null); //$NON-NLS-1$
			try {
				String command = "QUIT";
				String argument = null;
				OutputStream os = controlConnection.getOutputStream();
				listener.requestSent(command, argument);
				os.write(command.getBytes());
				if (argument != null &amp;&amp; argument.length() &gt; 0) {
					os.write(Constants.SPACE); // SPACE
					argument = argument.replace('\n', '\0'); // encode LF's as nulls
					os.write(argument.getBytes());
				}
				os.write(Constants.CR); // CR
				os.write(Constants.LF); // LF
				os.flush();
			} catch (IOException e) {
				throw new
FtpCommunicationException(FtpPlugin.getResourceString("FTPClient.ErrorSendingCommands"),
e); //$NON-NLS-1$
			}
			monitor.worked(25);
			
			//FIXME Once bitten twice shy
			/*int response;
			try {
				response=readResponseSkip100();
				switch (response) {
					case 221: // service closing
						break;
					default:
						defaultResponseHandler();
				}
			} catch (FtpCommunicationException e) {
				if (e.getStatus().getCode()!= IFtpStatus.CONNECTION_LOST) throw e;
			}*/
			monitor.worked(25);
		} finally {
			try {
				// close the socket (50%)
				controlConnection.close(FtpPlugin.subMonitorFor(monitor, 50));
			} finally {
				controlConnection = null;
				expectDataTransferCompletion = false;
				monitor.done();
			}
		}
	}


*** This bug has been marked as a duplicate of 98515 ***</WithOutStack>
  </Bug>
  <Bug>
    <BugId amount="98517" />
    <CreationDate amount="2005-06-06 10:33:00 -0400" />
    <DupId amount="" />
    <classification amount="Eclipse" />
    <Product amount="Platform" />
    <component amount="Update  (deprecated - use RT&gt;Equinox&gt;p2)" />
    <Version amount="3.1" />
    <rep_platform amount="PC" />
    <op_sys amount="Windows XP" />
    <priority amount="P3" />
    <bug_severity amount="normal" />
    <Summery>Software update doesn't recognize proxy settings unless I go to proxy preferences page and click OK.</Summery>
    <Patches amount="0" />
    <Stacktraces amount="0" />
    <SourceCodeRegions amount="0" />
    <Enumerations amount="1">
      <Enumeration lines="6">
        <Lines>
          <Line>- eclipse is launched with -vmargs -Dhttp.proxyHost=fooproxy.bar.com (or</Line>
          <Line>something along these lines)</Line>
          <Line>- no proxy passed on the launcher, in which case the .properties values are</Line>
          <Line>used.</Line>
          <Line>I had this problem for a long time (could not change proxy settings in any way</Line>
          <Line>except eclipse reinstallation).</Line>
        </Lines>
      </Enumeration>
    </Enumerations>
    <bug_status amount="RESOLVED" />
    <resolution amount="FIXED" />
    <WithStack>Eclipse 3.1.0

I use a proxy for update, and I have seen related odd behavior. If I launch
Eclipse and go to update, I'm not prompted for proxy authentication, and the
update fails because apparently Eclipse doesn't even attempt to use my proxy
settings (which are correctly set), unless I first do the following:

If I open the Update preferences dialog so that I can see the proxy settings,
but then do nothing but hit "OK," (without changing anything) then the behavior
is correct next time I do a search for updates: Eclipse acknowledges the proxy
setting and prompts for authentication. If I restart Eclipse, the problem returns.
An additional comment, in case the above wasn't clear: I don't know the
internals of the Update system, but from the outside I would guess there's a
run-time value that Eclipse checks to see if a proxy is used, which is supposed
to be set when the application starts up and loads preferences from whatever
files store them. But in the case of the proxy settings, this load doesn't take
place unless the user first accesses the proxy setting page. 

If I had this bug assigned to me, I would look at the "preferences loading" code
that runs at startup, compared with the code that runs when the proxy
preferences dialog is loaded, and see if something's missing. But this is just a
guess, and mostly meant to make this bug report clearer.
Alan, I can certainly assign the bug to you to investigate :-)

Which eclipse build are you using? Is this a clean build, or it has various 
stuff (config, workspace, etc.) from older builds? If not a fresh build, could 
you then install a new build (latest build from eclispse), new workspace, and 
try again? Thanks!

I got this Eclipse going using Lomboz 3.1 and then Updating against the 3.1.0
Eclipse (and the associated bleeding-edge 2.1.0 EMF/SDO/XSD nightly integration
builds.) Tomorrow when I'm back in the proxy-using environment I'll download a
vanilla 3.1.0 straight from Eclipse.org (I'll start with the most recent
Milestone build) and do a "clean room" test. But I decided to report the bug
anyway because a) it's been going on for a while and b) I don't immediately see
how Lomboz's add-ons might affect the software updates, although of course, it's
possible.

I am not an official Eclipse developer or anything, just an Eclipse lover who's
deep into learning EMF right now. However, if my clean-room test proves the bug,
and you wanted me to take a crack at this, I will tell you that I'm pretty good!

It might help to have someone to ask questions of, after I get my feet wet on it
and inevitably get stuck, but I'm sure there's a newsgroup. Plus, checking the
loading of preference settings is not rocket science, I'm sure!
I've begun my bug hunt by discovering the properties file that holds proxy
settings (now I need to find out what code uses these property):

workspace/.metadata/.plugins/org.eclipse.core.runtime/.settings/org.eclipse.update.core.prefs

And here's sample content from that file:

#Mon Jun 06 18:53:09 EDT 2005
org.eclipse.update.core.proxy.enable=true
eclipse.preferences.version=1
org.eclipse.update.core.proxy.host=fooproxy.bar.com
If you want to debug, take a look at the 
org.eclipse.update.internal.core.UpdateCore class. It initializes the settings 
during the startup command (if my memory serves me well :-)

There are two scenarios supported:
- eclipse is launched with -vmargs -Dhttp.proxyHost=fooproxy.bar.com (or 
something along these lines)
- no proxy passed on the launcher, in which case the .properties values are 
used.
I had this problem for a long time (could not change proxy settings in any way
except eclipse reinstallation).

I've tried looking in all the places you've mentioned.

Eventually, I have found that the proxy settings were set by a PLUG-IN (in my
case oxygenXML)! I suppose there can be other plugins doing the same.

I guess you should prevent that plugins change eclipse-wide settings (in
addition eclipse loses control of setting it back).

Hope this helps.
I am having the exact same problem, but with Eclipse 3.2 (never had it with 3.1). Eclipse apparently "loses" the proxy settings every time it is restarted and you have to go into Preferences-&gt;Install/Update and hit Apply to get Eclipse to recognize this. This is, by the way, a clean install of Eclipse 3.2.
I've had this problem with 3.2.1, 3.2.2 and 3.3M6.
After M6 we have switched to the Platform proxy support and removed Update-specific proxy preferences. Can you confirm it again with one of the M7 candidate builds?
I tried I20070501-0010-win32 -- the new centralized proxy settings don't have this problem.
Cool, so we fixed it in M7 :-).
resolving</WithStack>
    <WithOutStack>Eclipse 3.1.0

I use a proxy for update, and I have seen related odd behavior. If I launch
Eclipse and go to update, I'm not prompted for proxy authentication, and the
update fails because apparently Eclipse doesn't even attempt to use my proxy
settings (which are correctly set), unless I first do the following:

If I open the Update preferences dialog so that I can see the proxy settings,
but then do nothing but hit "OK," (without changing anything) then the behavior
is correct next time I do a search for updates: Eclipse acknowledges the proxy
setting and prompts for authentication. If I restart Eclipse, the problem returns.
An additional comment, in case the above wasn't clear: I don't know the
internals of the Update system, but from the outside I would guess there's a
run-time value that Eclipse checks to see if a proxy is used, which is supposed
to be set when the application starts up and loads preferences from whatever
files store them. But in the case of the proxy settings, this load doesn't take
place unless the user first accesses the proxy setting page. 

If I had this bug assigned to me, I would look at the "preferences loading" code
that runs at startup, compared with the code that runs when the proxy
preferences dialog is loaded, and see if something's missing. But this is just a
guess, and mostly meant to make this bug report clearer.
Alan, I can certainly assign the bug to you to investigate :-)

Which eclipse build are you using? Is this a clean build, or it has various 
stuff (config, workspace, etc.) from older builds? If not a fresh build, could 
you then install a new build (latest build from eclispse), new workspace, and 
try again? Thanks!

I got this Eclipse going using Lomboz 3.1 and then Updating against the 3.1.0
Eclipse (and the associated bleeding-edge 2.1.0 EMF/SDO/XSD nightly integration
builds.) Tomorrow when I'm back in the proxy-using environment I'll download a
vanilla 3.1.0 straight from Eclipse.org (I'll start with the most recent
Milestone build) and do a "clean room" test. But I decided to report the bug
anyway because a) it's been going on for a while and b) I don't immediately see
how Lomboz's add-ons might affect the software updates, although of course, it's
possible.

I am not an official Eclipse developer or anything, just an Eclipse lover who's
deep into learning EMF right now. However, if my clean-room test proves the bug,
and you wanted me to take a crack at this, I will tell you that I'm pretty good!

It might help to have someone to ask questions of, after I get my feet wet on it
and inevitably get stuck, but I'm sure there's a newsgroup. Plus, checking the
loading of preference settings is not rocket science, I'm sure!
I've begun my bug hunt by discovering the properties file that holds proxy
settings (now I need to find out what code uses these property):

workspace/.metadata/.plugins/org.eclipse.core.runtime/.settings/org.eclipse.update.core.prefs

And here's sample content from that file:

#Mon Jun 06 18:53:09 EDT 2005
org.eclipse.update.core.proxy.enable=true
eclipse.preferences.version=1
org.eclipse.update.core.proxy.host=fooproxy.bar.com
If you want to debug, take a look at the 
org.eclipse.update.internal.core.UpdateCore class. It initializes the settings 
during the startup command (if my memory serves me well :-)

There are two scenarios supported:
- eclipse is launched with -vmargs -Dhttp.proxyHost=fooproxy.bar.com (or 
something along these lines)
- no proxy passed on the launcher, in which case the .properties values are 
used.
I had this problem for a long time (could not change proxy settings in any way
except eclipse reinstallation).

I've tried looking in all the places you've mentioned.

Eventually, I have found that the proxy settings were set by a PLUG-IN (in my
case oxygenXML)! I suppose there can be other plugins doing the same.

I guess you should prevent that plugins change eclipse-wide settings (in
addition eclipse loses control of setting it back).

Hope this helps.
I am having the exact same problem, but with Eclipse 3.2 (never had it with 3.1). Eclipse apparently "loses" the proxy settings every time it is restarted and you have to go into Preferences-&gt;Install/Update and hit Apply to get Eclipse to recognize this. This is, by the way, a clean install of Eclipse 3.2.
I've had this problem with 3.2.1, 3.2.2 and 3.3M6.
After M6 we have switched to the Platform proxy support and removed Update-specific proxy preferences. Can you confirm it again with one of the M7 candidate builds?
I tried I20070501-0010-win32 -- the new centralized proxy settings don't have this problem.
Cool, so we fixed it in M7 :-).
resolving</WithOutStack>
  </Bug>
  <Bug>
    <BugId amount="98518" />
    <CreationDate amount="2005-06-06 10:36:00 -0400" />
    <DupId amount="" />
    <classification amount="Eclipse" />
    <Product amount="Platform" />
    <component amount="Runtime" />
    <Version amount="3.0.2" />
    <rep_platform amount="Macintosh" />
    <op_sys amount="Mac OS X - Carbon (unsup.)" />
    <priority amount="P3" />
    <bug_severity amount="normal" />
    <Summery>Plugin code runs fine on all platforms but Mac OSX</Summery>
    <Patches amount="0" />
    <Stacktraces amount="0" />
    <SourceCodeRegions amount="0" />
    <Enumerations amount="0" />
    <bug_status amount="RESOLVED" />
    <resolution amount="INVALID" />
    <WithStack>I am writing a plugin that, due to Eclipse plugin ClassLoader restraints, uses a
custom ClassLoader and Reflection to manage a Weblogic Server.  A very crude
explanation is that I use JNDI to lookup a JMX MBean and then I use Reflection
to invoke one of it's methods to get the value of one of it's attributes.  One
Linux and Windows this code runs fine in the context of an Eclipse plugin but
the same code on a Mac returns a javax.management.AttributeNotFoundException.  I
took the code out of the plugin and created a standalone application and the
code then runs fine on the Mac.  Since the code runs fine on the Mac when not in
an Eclipse plugin but then doesn't work when in an Eclipse plugin I decided to
submit this bug.  I have not tried to repeat this with any other tools but here
are the resources that could help reproduce it:

Eclipse 3.x (Also tried with 3.1 with the same effect)
Weblogic-Eclipse Plugin (https://eclipse-plugin.projects.dev2dev.bea.com/)
Weblogic 8.1 (http://commerce.bea.com/showproduct.jsp?family=WLS&amp;major=8.1&amp;minor=4)

The code in the plugin is located at
(com.bea.weblogic.eclipse.launcher.ServerLauncher.getState()).  Here I replace
the Thread's ClassLoader, get a reference to the ServerRuntimeMBean via JNDI
lookup, use Reflection to invoke a method and get a failure.  If I can help in
anyway setting up the testing platform to test this bug please let me know. 
Take care, Jeremy
Moving to platform for comment. Sounds like a runtime issue.
You should report this to the provider of that plug-in. We cannot investigate
problems that are only reproducible with 3rd-party software.

If you are able to link the exception you are seeing to something related to
classloading in Eclipse (e.g. some class should be found but isn't) we might be
able to help.
Rafael,
     That's what I think the problem is.  Eclipse cannot find classes that are 
in the ClassLoader.  I'm trying to trace it further into the Eclipse core but 
I'm not as familiar with the core runtime as you probably are.  One Linux and 
Windows the code runs fine and the fact that it only manifests on the Mac when 
ran in an Eclipse plugin (Exact same code runs fine on the Mac when ran as a 
Java application instead of an Eclipse plugin.) leads me to believe that there 
is something that happens differently on the Mac the Eclipse plugin framework 
isn't handling properly.  I'll keep you posted on anything I find.  Anything I 
can attach to help I will do but for now I'll try to resolve myself.  Take 
care, Jeremy
I would guess that the code that throws the
javax.management.AttributeNotFoundException exception might be doing it because
a class could not be loaded, but this is just wild guessing. If that happens to
be true, we need to understand what class it is and where it is supposed to be
found.

I am closing this for now due to the lack of information for investigating it.
Please reopen when you can get more information.
I will do that.  I'll get more information and reopen this when the time 
comes.  It just bugs me that it *only* happens when the plugin runs on a Mac.  
No worries, Jeremy
[REMIND-&gt;INVALID] Reopening to mark this bug as invalid because sufficient details were not provided.
[REMIND-&gt;INVALID] Marking this bug as invalid because sufficient details were not provided.</WithStack>
    <WithOutStack>I am writing a plugin that, due to Eclipse plugin ClassLoader restraints, uses a
custom ClassLoader and Reflection to manage a Weblogic Server.  A very crude
explanation is that I use JNDI to lookup a JMX MBean and then I use Reflection
to invoke one of it's methods to get the value of one of it's attributes.  One
Linux and Windows this code runs fine in the context of an Eclipse plugin but
the same code on a Mac returns a javax.management.AttributeNotFoundException.  I
took the code out of the plugin and created a standalone application and the
code then runs fine on the Mac.  Since the code runs fine on the Mac when not in
an Eclipse plugin but then doesn't work when in an Eclipse plugin I decided to
submit this bug.  I have not tried to repeat this with any other tools but here
are the resources that could help reproduce it:

Eclipse 3.x (Also tried with 3.1 with the same effect)
Weblogic-Eclipse Plugin (https://eclipse-plugin.projects.dev2dev.bea.com/)
Weblogic 8.1 (http://commerce.bea.com/showproduct.jsp?family=WLS&amp;major=8.1&amp;minor=4)

The code in the plugin is located at
(com.bea.weblogic.eclipse.launcher.ServerLauncher.getState()).  Here I replace
the Thread's ClassLoader, get a reference to the ServerRuntimeMBean via JNDI
lookup, use Reflection to invoke a method and get a failure.  If I can help in
anyway setting up the testing platform to test this bug please let me know. 
Take care, Jeremy
Moving to platform for comment. Sounds like a runtime issue.
You should report this to the provider of that plug-in. We cannot investigate
problems that are only reproducible with 3rd-party software.

If you are able to link the exception you are seeing to something related to
classloading in Eclipse (e.g. some class should be found but isn't) we might be
able to help.
Rafael,
     That's what I think the problem is.  Eclipse cannot find classes that are 
in the ClassLoader.  I'm trying to trace it further into the Eclipse core but 
I'm not as familiar with the core runtime as you probably are.  One Linux and 
Windows the code runs fine and the fact that it only manifests on the Mac when 
ran in an Eclipse plugin (Exact same code runs fine on the Mac when ran as a 
Java application instead of an Eclipse plugin.) leads me to believe that there 
is something that happens differently on the Mac the Eclipse plugin framework 
isn't handling properly.  I'll keep you posted on anything I find.  Anything I 
can attach to help I will do but for now I'll try to resolve myself.  Take 
care, Jeremy
I would guess that the code that throws the
javax.management.AttributeNotFoundException exception might be doing it because
a class could not be loaded, but this is just wild guessing. If that happens to
be true, we need to understand what class it is and where it is supposed to be
found.

I am closing this for now due to the lack of information for investigating it.
Please reopen when you can get more information.
I will do that.  I'll get more information and reopen this when the time 
comes.  It just bugs me that it *only* happens when the plugin runs on a Mac.  
No worries, Jeremy
[REMIND-&gt;INVALID] Reopening to mark this bug as invalid because sufficient details were not provided.
[REMIND-&gt;INVALID] Marking this bug as invalid because sufficient details were not provided.</WithOutStack>
  </Bug>
  <Bug>
    <BugId amount="98519" />
    <CreationDate amount="2005-06-06 10:48:00 -0400" />
    <DupId amount="" />
    <classification amount="Eclipse" />
    <Product amount="Platform" />
    <component amount="Runtime" />
    <Version amount="3.1" />
    <rep_platform amount="PC" />
    <op_sys amount="Windows 2000" />
    <priority amount="P3" />
    <bug_severity amount="normal" />
    <Summery>[launcher] provide a mechanism to get the splash location</Summery>
    <Patches amount="0" />
    <Stacktraces amount="0" />
    <SourceCodeRegions amount="0" />
    <Enumerations amount="0" />
    <bug_status amount="RESOLVED" />
    <resolution amount="FIXED" />
    <WithStack>In order to display the progress monitor over the splash screen (bug #98497),
the progress monitor needs to be told the coordinate where the splash screen has
been displayed.

Early discussions, showed that this won't be fixed for 3.1.
This has been fixed in 3.2, however I don't have the details.</WithStack>
    <WithOutStack>In order to display the progress monitor over the splash screen (bug #98497),
the progress monitor needs to be told the coordinate where the splash screen has
been displayed.

Early discussions, showed that this won't be fixed for 3.1.
This has been fixed in 3.2, however I don't have the details.</WithOutStack>
  </Bug>
  <Bug>
    <BugId amount="98520" />
    <CreationDate amount="2005-06-06 10:48:00 -0400" />
    <DupId amount="" />
    <classification amount="Tools" />
    <Product amount="CDT" />
    <component amount="cdt-parser" />
    <Version amount="3.0" />
    <rep_platform amount="PC" />
    <op_sys amount="Windows XP" />
    <priority amount="P3" />
    <bug_severity amount="normal" />
    <Summery>incomplete type is returned for struct rule *</Summery>
    <Patches amount="0" />
    <Stacktraces amount="0" />
    <SourceCodeRegions amount="7">
      <source_code type="singlecomment">
        <location start="53" end="65" />
        <code>// test.c:</code>
      </source_code>
      <source_code type="functioncall">
        <location start="96" end="151" />
        <code>struct config *Configlist_addbasis(struct rule *, int);</code>
      </source_code>
      <source_code type="singlecomment">
        <location start="221" end="284" />
        <code>// Configlist_addbasis(* ,int ): struct config *</code>
      </source_code>
      <source_code type="singlecomment">
        <location start="284" end="313" />
        <code>// should be:</code>
      </source_code>
      <source_code type="singlecomment">
        <location start="313" end="388" />
        <code>// Configlist_addbasis(struct rule * ,int ): struct config *</code>
      </source_code>
      <source_code type="singlecomment">
        <location start="595" end="662" />
        <code>// the IASTName rule</code>
      </source_code>
      <source_code type="singlecomment">
        <location start="673" end="682" />
        <code>//	Confi</code>
      </source_code>
    </SourceCodeRegions>
    <Enumerations amount="0" />
    <bug_status amount="RESOLVED" />
    <resolution amount="FIXED" />
    <WithStack>taken from lemon.c included in the ethereal project:

// test.c:
struct rule {
	char *test;
};

struct config *Configlist_addbasis(struct rule *, int);

int f() {
	Confi // content assist after Confi produces the result:
              // Configlist_addbasis(* ,int ): struct config *
              // should be: 
              // Configlist_addbasis(struct rule * ,int ): struct config *
}
It looks like this is caused by an invalid ProblemBinding.  The code compiles 
fine with GCC.

struct rule {
	char *test;
};

int *Configlist_addbasis(struct rule *, int); // There is a ProblemBinding on 
                                              // the IASTName rule

int f() {
//	Confi
}

fixed</WithStack>
    <WithOutStack>taken from lemon.c included in the ethereal project:

// test.c:
struct rule {
	char *test;
};

struct config *Configlist_addbasis(struct rule *, int);

int f() {
	Confi // content assist after Confi produces the result:
              // Configlist_addbasis(* ,int ): struct config *
              // should be: 
              // Configlist_addbasis(struct rule * ,int ): struct config *
}
It looks like this is caused by an invalid ProblemBinding.  The code compiles 
fine with GCC.

struct rule {
	char *test;
};

int *Configlist_addbasis(struct rule *, int); // There is a ProblemBinding on 
                                              // the IASTName rule

int f() {
//	Confi
}

fixed</WithOutStack>
  </Bug>
  <Bug>
    <BugId amount="98521" />
    <CreationDate amount="2005-06-06 10:56:00 -0400" />
    <DupId amount="" />
    <classification amount="Eclipse" />
    <Product amount="PDE" />
    <component amount="UI" />
    <Version amount="3.1" />
    <rep_platform amount="PC" />
    <op_sys amount="Windows XP" />
    <priority amount="P3" />
    <bug_severity amount="major" />
    <Summery>Plug-in Export does not export plugin.xml</Summery>
    <Patches amount="0" />
    <Stacktraces amount="0" />
    <SourceCodeRegions amount="0" />
    <Enumerations amount="1">
      <Enumeration lines="10">
        <Lines>
          <Line>1) Take the attached project</Line>
          <Line>2) Export as deployable plug-in (archive or not)</Line>
          <Line>3) Check the exported jar - no plugin.xml and as a result the wizard defined</Line>
          <Line>here is not set up.</Line>
          <Line>Created attachment 22424</Line>
          <Line>Original project</Line>
          <Line>Created attachment 22425</Line>
          <Line>Jar from the deployed plug-in wizard</Line>
          <Line>tod, add plugin.xml to the bin.includes of your build.properties and</Line>
          <Line>everything will work fine.</Line>
        </Lines>
      </Enumeration>
    </Enumerations>
    <bug_status amount="RESOLVED" />
    <resolution amount="INVALID" />
    <WithStack>0602

When I try and export a plug-in project as a deployable plug-in the plug-in.xml
is not exported and as a result none of the defined extensions will be picked up.

STEPS
1) Take the attached project
2) Export as deployable plug-in (archive or not)
3) Check the exported jar - no plugin.xml and as a result the wizard defined
here is not set up.
Created attachment 22424
Original project
Created attachment 22425
Jar from the deployed plug-in wizard
tod, add plugin.xml to the bin.includes of your build.properties and 
everything will work fine. 

My conjecture is that the reason why plugin.xml is not in the build.properties 
is due to bug 96223.  That is you started off with a plugin that has no 
plugin.xml and PDE automatically added it for you when you created an 
extension.

So this bug is invalid since the export is fine and bug 96223 is the real 
issue that will be addressed.</WithStack>
    <WithOutStack>0602

When I try and export a plug-in project as a deployable plug-in the plug-in.xml
is not exported and as a result none of the defined extensions will be picked up.

STEPS
1) Take the attached project
2) Export as deployable plug-in (archive or not)
3) Check the exported jar - no plugin.xml and as a result the wizard defined
here is not set up.
Created attachment 22424
Original project
Created attachment 22425
Jar from the deployed plug-in wizard
tod, add plugin.xml to the bin.includes of your build.properties and 
everything will work fine. 

My conjecture is that the reason why plugin.xml is not in the build.properties 
is due to bug 96223.  That is you started off with a plugin that has no 
plugin.xml and PDE automatically added it for you when you created an 
extension.

So this bug is invalid since the export is fine and bug 96223 is the real 
issue that will be addressed.</WithOutStack>
  </Bug>
  <Bug>
    <BugId amount="98522" />
    <CreationDate amount="2005-06-06 11:00:00 -0400" />
    <DupId amount="" />
    <classification amount="Eclipse" />
    <Product amount="Platform" />
    <component amount="UI" />
    <Version amount="3.1" />
    <rep_platform amount="PC" />
    <op_sys amount="Windows XP" />
    <priority amount="P3" />
    <bug_severity amount="normal" />
    <Summery>[Undo] - API evolution:  LinearUndoViolationUserApprover should work on views and editors</Summery>
    <Patches amount="0" />
    <Stacktraces amount="0" />
    <SourceCodeRegions amount="1">
      <source_code type="functiondef">
        <location start="4217" end="4379" />
        <code>String getTitle(IWorkbenchPart part) {
  if (part instanceof IWorkbenchPart2) {
    return ((IWorkbenchPart2) part).getPartName();
  }
  return part.getTitle();
}</code>
      </source_code>
    </SourceCodeRegions>
    <Enumerations amount="2">
      <Enumeration lines="12">
        <Lines>
          <Line>- IWorkbenchPart2 or IWorkbenchPart?</Line>
          <Line>- Limit the use to editors for 3.1?  If so, how?</Line>
          <Line>I think you want the lowest common denominator in this case IWorkbenchPart if</Line>
          <Line>all you need is the name.</Line>
          <Line>oops, ignore last comment, I was trying to add a cc member and some random</Line>
          <Line>thoughts were committed.</Line>
          <Line>You were correct though.  Not all parts necessarily implement IWorkbenchPart2,</Line>
          <Line>so we should use IWorkbenchPart in the signature.  Although WorkbenchPart does</Line>
          <Line>implement IWorkbenchPart2, the contract between the workbench and clients is in</Line>
          <Line>terms of the interfaces (IWorkbenchPart, IWorkbenchPart2, IEditorPart,</Line>
          <Line>IViewPart), not the convenience implementations (WorkbenchPart, EditorPart,</Line>
          <Line>ViewPart).  The workbench implementation should never refer directly to the latter.</Line>
        </Lines>
      </Enumeration>
      <Enumeration lines="4">
        <Lines>
          <Line>- put quotes around the part name when referred to.  I added quotes because we</Line>
          <Line>can't assume the part name is a file name that makes sense in context.</Line>
          <Line>- changed "Local edits in {0}" to "Local changes in {0}" since the message</Line>
          <Line>applies to a part, not just an editor</Line>
        </Lines>
      </Enumeration>
    </Enumerations>
    <bug_status amount="VERIFIED" />
    <resolution amount="FIXED" />
    <WithStack>The current API for LinearUndoViolationUserApprover assumes that this approver 
is installed on an editor.  (IEditorPart).  Internally, this type is used 
mainly as an IWorkbenchPart, with the only editor-specific usage being to use 
the editor input name for the message dialog name.

It is conceivable that clients would want to provide instead an 
IWorkbenchPart, since this could apply to views.  The part title could be used 
instead.
mvm - this is not critical for the operation of RC2.  
However, it is a simple API change that could prevent adding another 
constructor in a future release to generalize the part parameter for a 
LinearUndoViolationUserApprover.

It does not affect current clients.
Changing the constructor parameter extends this user approver to be used for 
views and editors, not just editors.  The use of IEditorPart is a legacy of 
function that was removed from this class and moved into another class.  When 
the move was done, I didn't realize at that time that I could generalize the 
part type.  Just realized this while reviewing another bug.

The API change would be from
public LinearUndoViolationUserApprover(IUndoContext context,
			IEditorPart part) 

to

public LinearUndoViolationUserApprover(IUndoContext context, IWorkbenchPart 
part) 

thoughts?  do you think this is worth surfacing now or dealing with later?
Well the only thing that scares me about chaging this API is handling the cases
we have not yet tested.  I.e. passing in all other types of IWorkbenchPart.  

But if the coded added a test for instanceOf IEditorpart to protect itself for
3.1 this seems in principle to be a good idea.

Who will be affected by this change?

cc'ing Jim for the api request.  



API change approved.
In looking at this further, another API question is whether we should use 
IWorkbenchPart or IWorkbenchPart2 in the method signature, since the part name 
is what is needed.  What is the best practice?  To use the newer interface or 
to use the older one and do an instanceof check and use the newer interface 
when present?

The only SDK client affected is AbstractTextEditor.  It passes itself as the 
part, so it would not be affected by a change in the signature to 
IWorkbenchPart2.  I don't know of any other clients currently.  However using 
IWorkbenchPart2 could theoretically break a user currently using IEditorPart 
outside of the EditorPart hierarchy.  

The part is used as follows:
part.setFocus()
part.getSite()
part.getPartName() (IWorkbenchPart2) or part.getTitle() (IWorkbenchPart)  - 
Used to be part.getEditorInput.getName()

In the SDK code, we believe that this approver will only be invoked in 
unexpected error cases.  In theory, other user approvers installed by the 
workbench will catch this case before this approver is invoked, although there 
have been some reported (currently unreproducible) cases where this approver is 
invoked.  

I would suggest if we make the change, we do not limit the use with an 
instanceof check.  If the check is put in, clients can only use it on editors.  
If the check is not put in, new clients will be able to install on views, and 
if there are problems found, the bugs will be fixed (no worse than waiting for 
the initial implementation?).  Clients outside of AbstractTextEditor have to 
specifically install this approver, it won't "magically" appear anywhere.

That said, I defer to your judgment.
I see these open questions:

- IWorkbenchPart2 or IWorkbenchPart?
- Limit the use to editors for 3.1?  If so, how?
I think you want the lowest common denominator in this case IWorkbenchPart if
all you need is the name.
oops, ignore last comment, I was trying to add a cc member and some random
thoughts were committed.
You were correct though.  Not all parts necessarily implement IWorkbenchPart2,
so we should use IWorkbenchPart in the signature.  Although WorkbenchPart does
implement IWorkbenchPart2, the contract between the workbench and clients is in
terms of the interfaces (IWorkbenchPart, IWorkbenchPart2, IEditorPart,
IViewPart), not the convenience implementations (WorkbenchPart, EditorPart,
ViewPart).  The workbench implementation should never refer directly to the latter.

The code should do:
String getTitle(IWorkbenchPart part) {
  if (part instanceof IWorkbenchPart2) {
    return ((IWorkbenchPart2) part).getPartName();
  }
  return part.getTitle();
}

cc'ing Stefan to confirm.

mvm - given the discussion so far, do you still feel we should limit the use 
of this class to IEditorInput?  I think the use of the part variable is fairly 
simple and it would be more straightforward to broaden the API to 
IWorkbenchPart, obtain the title as suggested below, and allow callers to 
supply views.  Otherwise we have to disallow (by exception?) or no-op in the 
case of a non-editor, and this could cause surprises later on when we enabled 
it.
If all cases are tested then I agree with doing the right thing, but as you
know, my fear is that just putting in things that "sound right" without really
having a use case that tests it might not be the right idea.
Depends what you mean by test "all cases."  The current implementation uses 
IEditorPart and is tested by the AbstractTextEditor framework.  

Opening up the API from IEditorPart to IWorkbenchPart basically introduces new 
use by IViewPart and any implementations of IWorkbenchPart that are not 
editors or views.

This class is currently manually tested since it involves a user prompt.  I 
intend to add tests to try it on a workbench view and a dummy part that 
answers null for the title and site.  There's no practical way to test it 
against all possible views, so the question is whether you think this is 
enough testing.  The reason I am fairly confident is that a programmer has to 
explicitly install this class on a view.  In 3.1, it is not installed 
automatically by the workbench on behalf of some random view/editor, so there 
is no risk that an untested code path is introduced in the SDK itself.
Note that AbstractTextEditor sets its title to be that of its input, but this is
not done in EditorPart.  Other editors may provide some other value.  However,
the code above will still give the text that's shown on the editor or view tab.

mvm - still looking for your opinion on whether the testing proposed in 
comment #10 is enough.
sorry, yes it is, I'm ok with manual or automated for now.  Just looking for a
test that actually tries to call this API with any non - IEditorPart basically.
Created attachment 22568
org.eclipse.ui.workbench patch

proposed change + change to externalized strings
Proposed patch has been provided.  
Tested against the text editor hierarchy and against Package Explorer.
Added additional bulletproofing for null titles.

mvm - can you please approve the fact that two externalized messages also 
changed.  The changes were:

- put quotes around the part name when referred to.  I added quotes because we 
can't assume the part name is a file name that makes sense in context.
- changed "Local edits in {0}" to "Local changes in {0}" since the message 
applies to a part, not just an editor

I will release this change on your approval.
approve additional messages
Released to HEAD, appearing &gt;20050607.

Oops. Didn't notice this one until (it seems) too late.

Nick's code in comment 7 is reasonable... but a much better solution would be to
take an IWorkbenchPartReference. IWorkbenchPartReference.getName() will always
give you the name from the tab without any instanceof checks... and it will even
work correctly if the part hasn't been materialized yet.
Sorry: I meant IWorkbenchPartReference.getPartName()
Thanks, Stefan.
In this case we were making a late-breaking change to an API that was already 
spec'ed as a part (IEditorPart) and generalizing it.  The current SDK clients 
have the part already (in fact it's usually the part itself providing the 
parameter.)  So we don't need an IWorkbenchPartReference in this case, but 
thanks for the info.
It may be better to ask the UI team to promote
WorkbenchPage.getReference(IWorkbenchPart) to API, that way clients can get a
reference from their part. It is always better to refer to a part reference than
a concrete part.
I see what you mean, Stefan.  However, this would mean two more API changes 
going into RC2, and platform text changing their code to pass the part 
reference for an editor.  When I opened this bug, I could definitely imagine a 
client needing to instantiate the LinearUndoViolationUserApprover on a view vs. 
an editor and being restricted by the current API.  This change would be 
reasonable if we believe there are common cases where a client has an 
IWorkbenchPartReference, but no part.  

I'm inclined to leave as is, adding an additional part reference signature 
later if needed.  But if anyone disagrees (ie, we are trying to move platform 
UI API toward IWorkbenchPartReference over IWorkbenchPart), please reopen this.
"ie, we are trying to move platform UI API toward IWorkbenchPartReference over
IWorkbenchPart"

You got it exactly. We want clients to implement parts, and refer to part
references. If we later add a new IWorkbenchPart3, then the instanceof checks in
comment 7 would need to change, but IWorkbenchPartReference will continue to
work for all time.

mvm/nick - is the generalization from IWorkbenchPart to IWorkbenchPartReference 
something we want to handle prior to 3.1 release?
It's not urgent. I just meant it as a recommendation.
I don't think it's necessary for 3.1, unless there's a chance that the Approver
will outlive the part, in which case references hold onto less garbage.

Approvers are generally installed like listeners.  Added when the part is 
created and removed as it is disposed.  I think we are okay.  Leaving this bug 
closed since it addresses the original problem.  If there's a future problem 
requiring IWorkbenchPartReference, we'll open a bug for it.

thanks everyone for the info.
verified in I20050609-1228 by inspecting the code in version v20050609-1200 
and running the manual test scenario.</WithStack>
    <WithOutStack>The current API for LinearUndoViolationUserApprover assumes that this approver 
is installed on an editor.  (IEditorPart).  Internally, this type is used 
mainly as an IWorkbenchPart, with the only editor-specific usage being to use 
the editor input name for the message dialog name.

It is conceivable that clients would want to provide instead an 
IWorkbenchPart, since this could apply to views.  The part title could be used 
instead.
mvm - this is not critical for the operation of RC2.  
However, it is a simple API change that could prevent adding another 
constructor in a future release to generalize the part parameter for a 
LinearUndoViolationUserApprover.

It does not affect current clients.
Changing the constructor parameter extends this user approver to be used for 
views and editors, not just editors.  The use of IEditorPart is a legacy of 
function that was removed from this class and moved into another class.  When 
the move was done, I didn't realize at that time that I could generalize the 
part type.  Just realized this while reviewing another bug.

The API change would be from
public LinearUndoViolationUserApprover(IUndoContext context,
			IEditorPart part) 

to

public LinearUndoViolationUserApprover(IUndoContext context, IWorkbenchPart 
part) 

thoughts?  do you think this is worth surfacing now or dealing with later?
Well the only thing that scares me about chaging this API is handling the cases
we have not yet tested.  I.e. passing in all other types of IWorkbenchPart.  

But if the coded added a test for instanceOf IEditorpart to protect itself for
3.1 this seems in principle to be a good idea.

Who will be affected by this change?

cc'ing Jim for the api request.  



API change approved.
In looking at this further, another API question is whether we should use 
IWorkbenchPart or IWorkbenchPart2 in the method signature, since the part name 
is what is needed.  What is the best practice?  To use the newer interface or 
to use the older one and do an instanceof check and use the newer interface 
when present?

The only SDK client affected is AbstractTextEditor.  It passes itself as the 
part, so it would not be affected by a change in the signature to 
IWorkbenchPart2.  I don't know of any other clients currently.  However using 
IWorkbenchPart2 could theoretically break a user currently using IEditorPart 
outside of the EditorPart hierarchy.  

The part is used as follows:
part.setFocus()
part.getSite()
part.getPartName() (IWorkbenchPart2) or part.getTitle() (IWorkbenchPart)  - 
Used to be part.getEditorInput.getName()

In the SDK code, we believe that this approver will only be invoked in 
unexpected error cases.  In theory, other user approvers installed by the 
workbench will catch this case before this approver is invoked, although there 
have been some reported (currently unreproducible) cases where this approver is 
invoked.  

I would suggest if we make the change, we do not limit the use with an 
instanceof check.  If the check is put in, clients can only use it on editors.  
If the check is not put in, new clients will be able to install on views, and 
if there are problems found, the bugs will be fixed (no worse than waiting for 
the initial implementation?).  Clients outside of AbstractTextEditor have to 
specifically install this approver, it won't "magically" appear anywhere.

That said, I defer to your judgment.
I see these open questions:

- IWorkbenchPart2 or IWorkbenchPart?
- Limit the use to editors for 3.1?  If so, how?
I think you want the lowest common denominator in this case IWorkbenchPart if
all you need is the name.
oops, ignore last comment, I was trying to add a cc member and some random
thoughts were committed.
You were correct though.  Not all parts necessarily implement IWorkbenchPart2,
so we should use IWorkbenchPart in the signature.  Although WorkbenchPart does
implement IWorkbenchPart2, the contract between the workbench and clients is in
terms of the interfaces (IWorkbenchPart, IWorkbenchPart2, IEditorPart,
IViewPart), not the convenience implementations (WorkbenchPart, EditorPart,
ViewPart).  The workbench implementation should never refer directly to the latter.

The code should do:
String getTitle(IWorkbenchPart part) {
  if (part instanceof IWorkbenchPart2) {
    return ((IWorkbenchPart2) part).getPartName();
  }
  return part.getTitle();
}

cc'ing Stefan to confirm.

mvm - given the discussion so far, do you still feel we should limit the use 
of this class to IEditorInput?  I think the use of the part variable is fairly 
simple and it would be more straightforward to broaden the API to 
IWorkbenchPart, obtain the title as suggested below, and allow callers to 
supply views.  Otherwise we have to disallow (by exception?) or no-op in the 
case of a non-editor, and this could cause surprises later on when we enabled 
it.
If all cases are tested then I agree with doing the right thing, but as you
know, my fear is that just putting in things that "sound right" without really
having a use case that tests it might not be the right idea.
Depends what you mean by test "all cases."  The current implementation uses 
IEditorPart and is tested by the AbstractTextEditor framework.  

Opening up the API from IEditorPart to IWorkbenchPart basically introduces new 
use by IViewPart and any implementations of IWorkbenchPart that are not 
editors or views.

This class is currently manually tested since it involves a user prompt.  I 
intend to add tests to try it on a workbench view and a dummy part that 
answers null for the title and site.  There's no practical way to test it 
against all possible views, so the question is whether you think this is 
enough testing.  The reason I am fairly confident is that a programmer has to 
explicitly install this class on a view.  In 3.1, it is not installed 
automatically by the workbench on behalf of some random view/editor, so there 
is no risk that an untested code path is introduced in the SDK itself.
Note that AbstractTextEditor sets its title to be that of its input, but this is
not done in EditorPart.  Other editors may provide some other value.  However,
the code above will still give the text that's shown on the editor or view tab.

mvm - still looking for your opinion on whether the testing proposed in 
comment #10 is enough.
sorry, yes it is, I'm ok with manual or automated for now.  Just looking for a
test that actually tries to call this API with any non - IEditorPart basically.
Created attachment 22568
org.eclipse.ui.workbench patch

proposed change + change to externalized strings
Proposed patch has been provided.  
Tested against the text editor hierarchy and against Package Explorer.
Added additional bulletproofing for null titles.

mvm - can you please approve the fact that two externalized messages also 
changed.  The changes were:

- put quotes around the part name when referred to.  I added quotes because we 
can't assume the part name is a file name that makes sense in context.
- changed "Local edits in {0}" to "Local changes in {0}" since the message 
applies to a part, not just an editor

I will release this change on your approval.
approve additional messages
Released to HEAD, appearing &gt;20050607.

Oops. Didn't notice this one until (it seems) too late.

Nick's code in comment 7 is reasonable... but a much better solution would be to
take an IWorkbenchPartReference. IWorkbenchPartReference.getName() will always
give you the name from the tab without any instanceof checks... and it will even
work correctly if the part hasn't been materialized yet.
Sorry: I meant IWorkbenchPartReference.getPartName()
Thanks, Stefan.
In this case we were making a late-breaking change to an API that was already 
spec'ed as a part (IEditorPart) and generalizing it.  The current SDK clients 
have the part already (in fact it's usually the part itself providing the 
parameter.)  So we don't need an IWorkbenchPartReference in this case, but 
thanks for the info.
It may be better to ask the UI team to promote
WorkbenchPage.getReference(IWorkbenchPart) to API, that way clients can get a
reference from their part. It is always better to refer to a part reference than
a concrete part.
I see what you mean, Stefan.  However, this would mean two more API changes 
going into RC2, and platform text changing their code to pass the part 
reference for an editor.  When I opened this bug, I could definitely imagine a 
client needing to instantiate the LinearUndoViolationUserApprover on a view vs. 
an editor and being restricted by the current API.  This change would be 
reasonable if we believe there are common cases where a client has an 
IWorkbenchPartReference, but no part.  

I'm inclined to leave as is, adding an additional part reference signature 
later if needed.  But if anyone disagrees (ie, we are trying to move platform 
UI API toward IWorkbenchPartReference over IWorkbenchPart), please reopen this.
"ie, we are trying to move platform UI API toward IWorkbenchPartReference over
IWorkbenchPart"

You got it exactly. We want clients to implement parts, and refer to part
references. If we later add a new IWorkbenchPart3, then the instanceof checks in
comment 7 would need to change, but IWorkbenchPartReference will continue to
work for all time.

mvm/nick - is the generalization from IWorkbenchPart to IWorkbenchPartReference 
something we want to handle prior to 3.1 release?
It's not urgent. I just meant it as a recommendation.
I don't think it's necessary for 3.1, unless there's a chance that the Approver
will outlive the part, in which case references hold onto less garbage.

Approvers are generally installed like listeners.  Added when the part is 
created and removed as it is disposed.  I think we are okay.  Leaving this bug 
closed since it addresses the original problem.  If there's a future problem 
requiring IWorkbenchPartReference, we'll open a bug for it.

thanks everyone for the info.
verified in I20050609-1228 by inspecting the code in version v20050609-1200 
and running the manual test scenario.</WithOutStack>
  </Bug>
  <Bug>
    <BugId amount="98523" />
    <CreationDate amount="2005-06-06 11:06:00 -0400" />
    <DupId amount="" />
    <classification amount="Eclipse" />
    <Product amount="JDT" />
    <component amount="Text" />
    <Version amount="3.0.2" />
    <rep_platform amount="All" />
    <op_sys amount="All" />
    <priority amount="P3" />
    <bug_severity amount="normal" />
    <Summery>Wrong automatic composition for classes with equals names but different package</Summery>
    <Patches amount="0" />
    <Stacktraces amount="0" />
    <SourceCodeRegions amount="0" />
    <Enumerations amount="0" />
    <bug_status amount="RESOLVED" />
    <resolution amount="INVALID" />
    <WithStack>If there are two Class with same Name but different package, automatic 
composition editor clear package and so compilation error or Runtime Class Cast 
Exception are generated.
Sorry I don't fully understand your scenario. Please provide more detailed steps
and reopen afterwards.
Get rid of deprecated state.
.</WithStack>
    <WithOutStack>If there are two Class with same Name but different package, automatic 
composition editor clear package and so compilation error or Runtime Class Cast 
Exception are generated.
Sorry I don't fully understand your scenario. Please provide more detailed steps
and reopen afterwards.
Get rid of deprecated state.
.</WithOutStack>
  </Bug>
  <Bug>
    <BugId amount="98524" />
    <CreationDate amount="2005-06-06 11:13:00 -0400" />
    <DupId amount="" />
    <classification amount="Eclipse" />
    <Product amount="Platform" />
    <component amount="Text" />
    <Version amount="3.1" />
    <rep_platform amount="PC" />
    <op_sys amount="Windows XP" />
    <priority amount="P3" />
    <bug_severity amount="minor" />
    <Summery>[implementation] TextFileBufferManage.isTextFileLocation() wrong for non-existing IFile</Summery>
    <Patches amount="0" />
    <Stacktraces amount="0" />
    <SourceCodeRegions amount="0" />
    <Enumerations amount="0" />
    <bug_status amount="VERIFIED" />
    <resolution amount="FIXED" />
    <WithStack>3.1 RC1

The TextFileBufferManager.isTextFileLocation() is wrong for non-existing IFile.
Fixed in HEAD.
verified in code</WithStack>
    <WithOutStack>3.1 RC1

The TextFileBufferManager.isTextFileLocation() is wrong for non-existing IFile.
Fixed in HEAD.
verified in code</WithOutStack>
  </Bug>
  <Bug>
    <BugId amount="98525" />
    <CreationDate amount="2005-06-06 11:18:00 -0400" />
    <DupId amount="" />
    <classification amount="Tools" />
    <Product amount="TPTP Testing" />
    <component amount="Test.UI.Reporting" />
    <Version amount="4.0" />
    <rep_platform amount="PC" />
    <op_sys amount="Windows XP" />
    <priority amount="P3" />
    <bug_severity amount="normal" />
    <Summery>3.1: tct 150- Translation Clarification</Summery>
    <Patches amount="0" />
    <Stacktraces amount="0" />
    <SourceCodeRegions amount="4">
      <source_code type="assignment">
        <location start="138" end="166" />
        <code>patternstate = "Summer";</code>
      </source_code>
      <source_code type="assignment">
        <location start="193" end="220" />
        <code>patternstate = "Earth";</code>
      </source_code>
      <source_code type="assignment">
        <location start="247" end="275" />
        <code>patternstate = "Spring";</code>
      </source_code>
      <source_code type="assignment">
        <location start="302" end="331" />
        <code>patternstate = "Harvest";</code>
      </source_code>
    </SourceCodeRegions>
    <Enumerations amount="0" />
    <bug_status amount="CLOSED" />
    <resolution amount="WONTFIX" />
    <WithStack>file 
eclipse\plugins\org\eclipse.tptp.platform.report.core\preferences\en\controls.h
tml
Should these strings be tranlated?
case "ZZ2": 
    patternstate = "Summer";
    break;
  case "ZZ3": 
    patternstate = "Earth";
    break;
  case "ZZ4": 
    patternstate = "Spring";
    break;
  case "ZZ5": 
    patternstate = "Harvest";
    break;
Reassign to component owner
Domonique, is this component/file owned by you?

Files under 

eclipse\plugins\org\eclipse.tptp.platform.report.core\preferences should not be 
translated.
ACTION: Please verify/close this defect.
Bug closed.</WithStack>
    <WithOutStack>file 
eclipse\plugins\org\eclipse.tptp.platform.report.core\preferences\en\controls.h
tml
Should these strings be tranlated?
case "ZZ2": 
    patternstate = "Summer";
    break;
  case "ZZ3": 
    patternstate = "Earth";
    break;
  case "ZZ4": 
    patternstate = "Spring";
    break;
  case "ZZ5": 
    patternstate = "Harvest";
    break;
Reassign to component owner
Domonique, is this component/file owned by you?

Files under 

eclipse\plugins\org\eclipse.tptp.platform.report.core\preferences should not be 
translated.
ACTION: Please verify/close this defect.
Bug closed.</WithOutStack>
  </Bug>
  <Bug>
    <BugId amount="98526" />
    <CreationDate amount="2005-06-06 11:22:00 -0400" />
    <DupId amount="" />
    <classification amount="Eclipse" />
    <Product amount="JDT" />
    <component amount="UI" />
    <Version amount="3.1" />
    <rep_platform amount="PC" />
    <op_sys amount="Windows XP" />
    <priority amount="P3" />
    <bug_severity amount="trivial" />
    <Summery>3.1: tct 151- translation clarification</Summery>
    <Patches amount="0" />
    <Stacktraces amount="0" />
    <SourceCodeRegions amount="0" />
    <Enumerations amount="0" />
    <bug_status amount="CLOSED" />
    <resolution amount="WORKSFORME" />
    <WithStack>File 
\eclipse\plugins\org\.eclipse.jdt.ui\org\eclipse\jdt\internal\ui\text\correctio
n\CorrectionMessages.properties

What do the variables stand for?
ChangeCorrectionProposal_name_with_shortcut=&lt;TWBQ&gt;{0} ({1} direct access)


thanks
Martin, can you please clarify.
This is used to decorate a proposal name with a keyboard shortcut for accessing
the proposal directly.

{0} is the quick fix proposal name
{1} the keyboard shortcut
Thanks for the info. Close Bug.</WithStack>
    <WithOutStack>File 
\eclipse\plugins\org\.eclipse.jdt.ui\org\eclipse\jdt\internal\ui\text\correctio
n\CorrectionMessages.properties

What do the variables stand for?
ChangeCorrectionProposal_name_with_shortcut=&lt;TWBQ&gt;{0} ({1} direct access)


thanks
Martin, can you please clarify.
This is used to decorate a proposal name with a keyboard shortcut for accessing
the proposal directly.

{0} is the quick fix proposal name
{1} the keyboard shortcut
Thanks for the info. Close Bug.</WithOutStack>
  </Bug>
  <Bug>
    <BugId amount="98527" />
    <CreationDate amount="2005-06-06 11:22:00 -0400" />
    <DupId amount="" />
    <classification amount="Eclipse" />
    <Product amount="JDT" />
    <component amount="UI" />
    <Version amount="3.1" />
    <rep_platform amount="PC" />
    <op_sys amount="Windows XP" />
    <priority amount="P3" />
    <bug_severity amount="normal" />
    <Summery>invalid character when adding external archive</Summery>
    <Patches amount="0" />
    <Stacktraces amount="1">
      <Stacktrace timestamp="1437341279327">
        <Exception>org.eclipse.core.runtime.CoreException</Exception>
        <Reason>Invalid folder name. : is an invalid
character in path D:/project/lib/commons-httpclient.jar.</Reason>
        <Frames>
          <Frame depth="0">org.eclipse.jdt.internal.corext.buildpath.ClasspathModifier.validateAndAddEntry(ClasspathModifier.java:1801)</Frame>
          <Frame depth="1">org.eclipse.jdt.internal.corext.buildpath.ClasspathModifier.setNewEntry(ClasspathModifier.java:1755)</Frame>
          <Frame depth="2">org.eclipse.jdt.internal.corext.buildpath.ClasspathModifier.addExternalJars(ClasspathModifier.java:277)</Frame>
          <Frame depth="3">org.eclipse.jdt.internal.corext.buildpath.AddExternalArchivesOperation.run(AddExternalArchivesOperation.java:62)</Frame>
          <Frame depth="4">org.eclipse.jdt.internal.ui.wizards.buildpaths.newsourcepage.BuildPathAction$1.run(BuildPathAction.java:120)</Frame>
          <Frame depth="5">org.eclipse.jface.operation.ModalContext$ModalContextThread.run(ModalContext.java:113)</Frame>
        </Frames>
      </Stacktrace>
    </Stacktraces>
    <SourceCodeRegions amount="0" />
    <Enumerations amount="0" />
    <bug_status amount="RESOLVED" />
    <resolution amount="INVALID" />
    <WithStack>I'm using 3.1RC1. When I attempt to add an external archive to the build path by
right-clicking the project and selecting "Build Path|Add External Archives",
after selecting an archive I get the following message:

Error Caused by Operation 'Add External Archives to Java Build Path'

Invalid Folder name. : is an invalid character in path
D:/project/lib/commons-httpclient.jar.

Adding the external archive from the project properties works fine.

Garret
can you check the .log file?
Closing as remind. Waiting for reporter response.
Here's the 3.1RC1 log file entry (path modified):

!ENTRY org.eclipse.jdt.ui 4 10001 2005-06-06 08:21:22.944
!MESSAGE Internal Error
!STACK 1
org.eclipse.core.runtime.CoreException: Invalid folder name. : is an invalid
character in path D:/project/lib/commons-httpclient.jar.
	at
org.eclipse.jdt.internal.corext.buildpath.ClasspathModifier.validateAndAddEntry(ClasspathModifier.java:1801)
	at
org.eclipse.jdt.internal.corext.buildpath.ClasspathModifier.setNewEntry(ClasspathModifier.java:1755)
	at
org.eclipse.jdt.internal.corext.buildpath.ClasspathModifier.addExternalJars(ClasspathModifier.java:277)
	at
org.eclipse.jdt.internal.corext.buildpath.AddExternalArchivesOperation.run(AddExternalArchivesOperation.java:62)
	at
org.eclipse.jdt.internal.ui.wizards.buildpaths.newsourcepage.BuildPathAction$1.run(BuildPathAction.java:120)
	at
org.eclipse.jface.operation.ModalContext$ModalContextThread.run(ModalContext.java:113)
!SUBENTRY 1 org.eclipse.jdt.ui 4 4 2005-06-06 08:21:22.954
!MESSAGE Invalid folder name. : is an invalid character in path
D:/project/lib/commons-httpclient.jar.

I just tried to add a different external archive on 3.1RC2, and I did not
receive an error.

Garret
As of now 'LATER' and 'REMIND' resolutions are no longer supported.
Please reopen this bug if it is still valid for you.</WithStack>
    <WithOutStack>I'm using 3.1RC1. When I attempt to add an external archive to the build path by
right-clicking the project and selecting "Build Path|Add External Archives",
after selecting an archive I get the following message:

Error Caused by Operation 'Add External Archives to Java Build Path'

Invalid Folder name. : is an invalid character in path
D:/project/lib/commons-httpclient.jar.

Adding the external archive from the project properties works fine.

Garret
can you check the .log file?
Closing as remind. Waiting for reporter response.
Here's the 3.1RC1 log file entry (path modified):

!ENTRY org.eclipse.jdt.ui 4 10001 2005-06-06 08:21:22.944
!MESSAGE Internal Error
!STACK 1

!SUBENTRY 1 org.eclipse.jdt.ui 4 4 2005-06-06 08:21:22.954
!MESSAGE Invalid folder name. : is an invalid character in path
D:/project/lib/commons-httpclient.jar.

I just tried to add a different external archive on 3.1RC2, and I did not
receive an error.

Garret
As of now 'LATER' and 'REMIND' resolutions are no longer supported.
Please reopen this bug if it is still valid for you.</WithOutStack>
  </Bug>
  <Bug>
    <BugId amount="98528" />
    <CreationDate amount="2005-06-06 11:26:00 -0400" />
    <DupId amount="" />
    <classification amount="Tools" />
    <Product amount="CDT" />
    <component amount="cdt-core" />
    <Version amount="3.0" />
    <rep_platform amount="PC" />
    <op_sys amount="Windows XP" />
    <priority amount="P3" />
    <bug_severity amount="normal" />
    <Summery>[Content Assist] sizeof prevents the proper result to be found</Summery>
    <Patches amount="0" />
    <Stacktraces amount="0" />
    <SourceCodeRegions amount="7">
      <source_code type="singlecomment">
        <location start="0" end="11" />
        <code>// test.c:</code>
      </source_code>
      <source_code type="functiondef">
        <location start="42" end="113" />
        <code>int foo() {
	sizeof(struct st // code assit here fails to find state	
}</code>
      </source_code>
      <source_code type="assignment">
        <location start="263" end="325" />
        <code>array = (struct state **)malloc( sizeof(struct state *)*size);</code>
      </source_code>
      <source_code type="singlecomment">
        <location start="326" end="341" />
        <code>// example.c:</code>
      </source_code>
      <source_code type="functiondef">
        <location start="372" end="450" />
        <code>int foo() {
	(struct st // code assit here fails to find state	
//	struct st
}</code>
      </source_code>
      <source_code type="singlecomment">
        <location start="463" end="477" />
        <code>// test.cpp:</code>
      </source_code>
      <source_code type="functiondef">
        <location start="587" end="657" />
        <code>int foo() {
	if (ts.tv_   // content assist after tv_ has no results
}</code>
      </source_code>
    </SourceCodeRegions>
    <Enumerations amount="1">
      <Enumeration lines="3">
        <Lines>
          <Line>1) Lack of handling of assist inside of a sizeof</Line>
          <Line>2) Lack of handling of assist inside of cast expression</Line>
          <Line>3) Lack of handling inside of a C++ condition for the if</Line>
        </Lines>
      </Enumeration>
    </Enumerations>
    <bug_status amount="RESOLVED" />
    <resolution amount="FIXED" />
    <WithStack>// test.c:
struct state {
	int index;
};

int foo() {
	sizeof(struct st // code assit here fails to find state	
}
This happens without sizeof as well.

This is taken from lemon.c that is included in the ethereal project.  Similar 
to casing the result of malloc:
array = (struct state **)malloc( sizeof(struct state *)*size);

// example.c:
struct state {
	int index;
};

int foo() {
	(struct st // code assit here fails to find state	
//	struct st
}

Similarly:

// test.cpp:
struct RTTimespec
{
    long tv_sec;  // seconds
    long tv_nsec; // nanoseconds
};

const RTTimespec &amp; ts;

int foo() {
	if (ts.tv_   // content assist after tv_ has no results
}

Wow. These were actually three separate problems:

1) Lack of handling of assist inside of a sizeof
2) Lack of handling of assist inside of cast expression
3) Lack of handling inside of a C++ condition for the if

All of this handling has been added.</WithStack>
    <WithOutStack>// test.c:
struct state {
	int index;
};

int foo() {
	sizeof(struct st // code assit here fails to find state	
}
This happens without sizeof as well.

This is taken from lemon.c that is included in the ethereal project.  Similar 
to casing the result of malloc:
array = (struct state **)malloc( sizeof(struct state *)*size);

// example.c:
struct state {
	int index;
};

int foo() {
	(struct st // code assit here fails to find state	
//	struct st
}

Similarly:

// test.cpp:
struct RTTimespec
{
    long tv_sec;  // seconds
    long tv_nsec; // nanoseconds
};

const RTTimespec &amp; ts;

int foo() {
	if (ts.tv_   // content assist after tv_ has no results
}

Wow. These were actually three separate problems:

1) Lack of handling of assist inside of a sizeof
2) Lack of handling of assist inside of cast expression
3) Lack of handling inside of a C++ condition for the if

All of this handling has been added.</WithOutStack>
  </Bug>
  <Bug>
    <BugId amount="98529" />
    <CreationDate amount="2005-06-06 11:28:00 -0400" />
    <DupId amount="" />
    <classification amount="WebTools" />
    <Product amount="WTP Java EE Tools" />
    <component amount="jst.j2ee" />
    <Version amount="unspecified" />
    <rep_platform amount="PC" />
    <op_sys amount="Windows XP" />
    <priority amount="P3" />
    <bug_severity amount="blocker" />
    <Summery>getResource(uri) needs to be exposed on artifact edits</Summery>
    <Patches amount="0" />
    <Stacktraces amount="0" />
    <SourceCodeRegions amount="0" />
    <Enumerations amount="0" />
    <bug_status amount="CLOSED" />
    <resolution amount="WORKSFORME" />
    <WithStack>getResource(uri) needs to be exposed on artifact edits
Len - I just checked and its there already....
Closing already verified defects</WithStack>
    <WithOutStack>getResource(uri) needs to be exposed on artifact edits
Len - I just checked and its there already....
Closing already verified defects</WithOutStack>
  </Bug>
  <Bug>
    <BugId amount="98530" />
    <CreationDate amount="2005-06-06 11:29:00 -0400" />
    <DupId amount="" />
    <classification amount="Tools" />
    <Product amount="TPTP Static Analysis" />
    <component amount="Platform.Analysis" />
    <Version amount="4.0" />
    <rep_platform amount="PC" />
    <op_sys amount="Windows XP" />
    <priority amount="P3" />
    <bug_severity amount="normal" />
    <Summery>3.1:tct 149- Translation clarification</Summery>
    <Patches amount="0" />
    <Stacktraces amount="0" />
    <SourceCodeRegions amount="0" />
    <Enumerations amount="0" />
    <bug_status amount="CLOSED" />
    <resolution amount="FIXED" />
    <WithStack>HI,

File 
name:eclipse\plugins\org.eclipse.tptp.platform.analysis.static.doc.user\doc_zip
\topics\T_importen
gconfig.html 

Pls see the following sentence:

To export an engine configuration:

Our question: Because this file is about "Importing engine configurations". So 
we think the "export" in above sentence may be "import".
The file has been fixed.
Thanks for the info.</WithStack>
    <WithOutStack>HI,

File 
name:eclipse\plugins\org.eclipse.tptp.platform.analysis.static.doc.user\doc_zip
\topics\T_importen
gconfig.html 

Pls see the following sentence:

To export an engine configuration:

Our question: Because this file is about "Importing engine configurations". So 
we think the "export" in above sentence may be "import".
The file has been fixed.
Thanks for the info.</WithOutStack>
  </Bug>
  <Bug>
    <BugId amount="98531" />
    <CreationDate amount="2005-06-06 11:30:00 -0400" />
    <DupId amount="" />
    <classification amount="Eclipse" />
    <Product amount="Platform" />
    <component amount="SWT" />
    <Version amount="3.1" />
    <rep_platform amount="PC" />
    <op_sys amount="Windows XP" />
    <priority amount="P3" />
    <bug_severity amount="normal" />
    <Summery>setInterpolation to default returns current interpolation as SWT.LOW</Summery>
    <Patches amount="0" />
    <Stacktraces amount="0" />
    <SourceCodeRegions amount="2">
      <source_code type="functioncall">
        <location start="0" end="33" />
        <code>gc.setInterpolation(SWT.DEFAULT);</code>
      </source_code>
      <source_code type="functioncall">
        <location start="34" end="56" />
        <code>gc.getInterpolation();</code>
      </source_code>
    </SourceCodeRegions>
    <Enumerations amount="0" />
    <bug_status amount="NEW" />
    <resolution amount="" />
    <WithStack>gc.setInterpolation(SWT.DEFAULT);
gc.getInterpolation();

returns SWT.LOW, not SWT.DEFAULT. Our tests are failing as well. When switching
from DEFAULT back to NONE, the resulting pixels are different.
Switching from SWT.HIGH back to SWT.NONE also causes our tests to fail.

The test is called AdvancedGraphicsTests and can be checked out via CVS in the
draw2d.tests project.</WithStack>
    <WithOutStack>gc.setInterpolation(SWT.DEFAULT);
gc.getInterpolation();

returns SWT.LOW, not SWT.DEFAULT. Our tests are failing as well. When switching
from DEFAULT back to NONE, the resulting pixels are different.
Switching from SWT.HIGH back to SWT.NONE also causes our tests to fail.

The test is called AdvancedGraphicsTests and can be checked out via CVS in the
draw2d.tests project.</WithOutStack>
  </Bug>
  <Bug>
    <BugId amount="98532" />
    <CreationDate amount="2005-06-06 11:32:00 -0400" />
    <DupId amount="" />
    <classification amount="Eclipse" />
    <Product amount="JDT" />
    <component amount="Core" />
    <Version amount="3.1" />
    <rep_platform amount="PC" />
    <op_sys amount="Windows XP" />
    <priority amount="P3" />
    <bug_severity amount="minor" />
    <Summery>[1.5][compiler] Spurious 'type parameter T is hiding the type T' warning for static nested classes</Summery>
    <Patches amount="0" />
    <Stacktraces amount="0" />
    <SourceCodeRegions amount="4">
      <source_code type="class">
        <location start="36" end="876" />
        <code>public class Gen&lt;T&gt; {
	static class StaticInnerNoParam {
                // Compiler error on the following line -- 
                // "Cannot make a static reference to non-static type T"
                // This is expected
		T x;
	}

        // Warning reported on the following line --
        // "The type parameter T is hiding the type T" 
        // Perhaps this is technically true? (I'm not quite sure what
        //     the Java spec says about this.) But the outer T cannot
        //     be used in this scope anyway, so it seems that the
        //     warning is not really beneficial. I use the same names
        //     for corresponding type parameters between the outer
        //     class and static inner classes, so this generates
        //     unnecessary warnings for me.
	static class StaticInnerParam&lt;T&gt; {
	
	}
}</code>
      </source_code>
      <source_code type="functiondef">
        <location start="1349" end="1452" />
        <code>public &lt;T&gt; T[] toArray(T[] a) {// The warning comes on this line
    return getData().toArray(a);
  }</code>
      </source_code>
      <source_code type="functiondef">
        <location start="1500" end="1560" />
        <code>protected T getData() {
    return theReference.get();
  }</code>
      </source_code>
      <source_code type="functiondef">
        <location start="2362" end="2465" />
        <code>public &lt;U&gt; U[] toArray(U[] a) {// The warning comes on this line
    return getData().toArray(a);
  }</code>
      </source_code>
    </SourceCodeRegions>
    <Enumerations amount="0" />
    <bug_status amount="VERIFIED" />
    <resolution amount="FIXED" />
    <WithStack>See comments in test code snippet:

public class Gen&lt;T&gt; {
	static class StaticInnerNoParam {
                // Compiler error on the following line -- 
                // "Cannot make a static reference to non-static type T"
                // This is expected
		T x;
	}

        // Warning reported on the following line --
        // "The type parameter T is hiding the type T" 
        // Perhaps this is technically true? (I'm not quite sure what
        //     the Java spec says about this.) But the outer T cannot
        //     be used in this scope anyway, so it seems that the
        //     warning is not really beneficial. I use the same names
        //     for corresponding type parameters between the outer
        //     class and static inner classes, so this generates
        //     unnecessary warnings for me.
	static class StaticInnerParam&lt;T&gt; {
	
	}
}
I agree we shouldn't complain about hiding here, as outer T isn't accessible in
context.
Added GenericTypeTest#test774.
Tuned hiding check on TypeParameter, also ensured check is performed for generic
method type parameters.

Fixed
Verified in 3.2 M1 with build I20050808-2000.
Verified using M20050923-1430 for 3.1.1
I have the same warning when implementing List as follows:

public class ReadOnlyListProxy&lt;T&gt; extends AbstractProxy&lt;List&lt;T&gt;&gt; implements
    List&lt;T&gt; {
...
  public &lt;T&gt; T[] toArray(T[] a) {// The warning comes on this line
    return getData().toArray(a);
  }
}

getData is defined in AbstractProxy&lt;T&gt; as:

  protected T getData() {
    return theReference.get();
  }
All the other methods of List are fine. The signature of the offending method is identical to the one in List.
Right, but this one is a case where one definition of T (on method) is hiding the one from the enclosing type. So you cannot use the enclosing type parameter T within the method.
It is the intent of this warning to report such a case.

What do you see being wrong here ?
I guess I expect the signature of my implemenation of List&lt;E&gt; to be the same as the interface. In fact any changes I made to it just gave an error that I was not implementing the method. This signature is just what I got when I asked Eclipse to implement the method. Also the method works fine. How could the declaration be changed to remove the warning?
Simply rename the type parameter on the method to not collide:

  public &lt;U&gt; U[] toArray(U[] a) {// The warning comes on this line
    return getData().toArray(a);
  }

note that interface List&lt;E&gt; defines &lt;T&gt; toArray (observe non conflicting type parameter names).
Now you have a point. The tooling shouldn't generate a method signature which exposes this warning (it should perform substitution for you).
David/Martin: whose bug is this ?
That's probably ours. Please file a new bug request.
We have a bug in JDT/Core because we compute a bad signature and a bad completion string in our proposal. But i believe that JDT/Text don't use our completion string. So i suspect a bug on both side.
I opened a new CodeAssist bug in JDT/Core for this problem (bug 128169).

I close this one because the original problem of this bug is fixed.


(In reply to comment #10)
&gt; Now you have a point. The tooling shouldn't generate a method signature which
&gt; exposes this warning (it should perform substitution for you).

Thanks for your help. Now I would like to get disconnected from this bug, but I can's see how.</WithStack>
    <WithOutStack>See comments in test code snippet:

public class Gen&lt;T&gt; {
	static class StaticInnerNoParam {
                // Compiler error on the following line -- 
                // "Cannot make a static reference to non-static type T"
                // This is expected
		T x;
	}

        // Warning reported on the following line --
        // "The type parameter T is hiding the type T" 
        // Perhaps this is technically true? (I'm not quite sure what
        //     the Java spec says about this.) But the outer T cannot
        //     be used in this scope anyway, so it seems that the
        //     warning is not really beneficial. I use the same names
        //     for corresponding type parameters between the outer
        //     class and static inner classes, so this generates
        //     unnecessary warnings for me.
	static class StaticInnerParam&lt;T&gt; {
	
	}
}
I agree we shouldn't complain about hiding here, as outer T isn't accessible in
context.
Added GenericTypeTest#test774.
Tuned hiding check on TypeParameter, also ensured check is performed for generic
method type parameters.

Fixed
Verified in 3.2 M1 with build I20050808-2000.
Verified using M20050923-1430 for 3.1.1
I have the same warning when implementing List as follows:

public class ReadOnlyListProxy&lt;T&gt; extends AbstractProxy&lt;List&lt;T&gt;&gt; implements
    List&lt;T&gt; {
...
  public &lt;T&gt; T[] toArray(T[] a) {// The warning comes on this line
    return getData().toArray(a);
  }
}

getData is defined in AbstractProxy&lt;T&gt; as:

  protected T getData() {
    return theReference.get();
  }
All the other methods of List are fine. The signature of the offending method is identical to the one in List.
Right, but this one is a case where one definition of T (on method) is hiding the one from the enclosing type. So you cannot use the enclosing type parameter T within the method.
It is the intent of this warning to report such a case.

What do you see being wrong here ?
I guess I expect the signature of my implemenation of List&lt;E&gt; to be the same as the interface. In fact any changes I made to it just gave an error that I was not implementing the method. This signature is just what I got when I asked Eclipse to implement the method. Also the method works fine. How could the declaration be changed to remove the warning?
Simply rename the type parameter on the method to not collide:

  public &lt;U&gt; U[] toArray(U[] a) {// The warning comes on this line
    return getData().toArray(a);
  }

note that interface List&lt;E&gt; defines &lt;T&gt; toArray (observe non conflicting type parameter names).
Now you have a point. The tooling shouldn't generate a method signature which exposes this warning (it should perform substitution for you).
David/Martin: whose bug is this ?
That's probably ours. Please file a new bug request.
We have a bug in JDT/Core because we compute a bad signature and a bad completion string in our proposal. But i believe that JDT/Text don't use our completion string. So i suspect a bug on both side.
I opened a new CodeAssist bug in JDT/Core for this problem (bug 128169).

I close this one because the original problem of this bug is fixed.


(In reply to comment #10)
&gt; Now you have a point. The tooling shouldn't generate a method signature which
&gt; exposes this warning (it should perform substitution for you).

Thanks for your help. Now I would like to get disconnected from this bug, but I can's see how.</WithOutStack>
  </Bug>
  <Bug>
    <BugId amount="98533" />
    <CreationDate amount="2005-06-06 11:37:00 -0400" />
    <DupId amount="" />
    <classification amount="Eclipse" />
    <Product amount="Platform" />
    <component amount="Ant" />
    <Version amount="3.1" />
    <rep_platform amount="PC" />
    <op_sys amount="Windows XP" />
    <priority amount="P3" />
    <bug_severity amount="normal" />
    <Summery>Missing closing semicolon in xml description</Summery>
    <Patches amount="0" />
    <Stacktraces amount="0" />
    <SourceCodeRegions amount="0" />
    <Enumerations amount="0" />
    <bug_status amount="VERIFIED" />
    <resolution amount="FIXED" />
    <WithStack>HI,

File name: 
eclipse\plugins\org.eclipse.ant.ui\org\eclipse\ant\internal\ui\editor\anttasks_
1.6.0.xml

Pls see the following sentence:

Generate the &amp;amp;quot;use&amp;amp;quot page for each package.

Our question: As if there is something wrong with "&amp;amp;quot;" tag. We think 
the tag 
"&amp;amp;quot;" may be """.

Note: There are many this kind of tag in this xml file.
The &amp;amp;quot; is presented via HTML in the code assist additional information.
Therefore it is presented as " as in for this example the text presented is:
Generate the "use" page for each package

However there is an error in the xml file...the closing quot is missing its
semicolon. These will be fixed up for RC2
This description was the only one that was specified incorrectly.
This is for the use attribute for the javadoc task.

Fixed in anttasks_1.6.0.xml
Please verify DarinW.
Verified.</WithStack>
    <WithOutStack>HI,

File name: 
eclipse\plugins\org.eclipse.ant.ui\org\eclipse\ant\internal\ui\editor\anttasks_
1.6.0.xml

Pls see the following sentence:

Generate the &amp;amp;quot;use&amp;amp;quot page for each package.

Our question: As if there is something wrong with "&amp;amp;quot;" tag. We think 
the tag 
"&amp;amp;quot;" may be """.

Note: There are many this kind of tag in this xml file.
The &amp;amp;quot; is presented via HTML in the code assist additional information.
Therefore it is presented as " as in for this example the text presented is:
Generate the "use" page for each package

However there is an error in the xml file...the closing quot is missing its
semicolon. These will be fixed up for RC2
This description was the only one that was specified incorrectly.
This is for the use attribute for the javadoc task.

Fixed in anttasks_1.6.0.xml
Please verify DarinW.
Verified.</WithOutStack>
  </Bug>
  <Bug>
    <BugId amount="98534" />
    <CreationDate amount="2005-06-06 11:39:00 -0400" />
    <DupId amount="" />
    <classification amount="Eclipse" />
    <Product amount="Platform" />
    <component amount="UI" />
    <Version amount="3.1" />
    <rep_platform amount="PC" />
    <op_sys amount="Linux-GTK" />
    <priority amount="P3" />
    <bug_severity amount="normal" />
    <Summery>[Preferences] Preferences dialog does not resize to fit content</Summery>
    <Patches amount="0" />
    <Stacktraces amount="0" />
    <SourceCodeRegions amount="0" />
    <Enumerations amount="1">
      <Enumeration lines="3">
        <Lines>
          <Line>1. Restart eclipse.</Line>
          <Line>2. Window &gt; Preferences</Line>
          <Line>3. Ant</Line>
        </Lines>
      </Enumeration>
    </Enumerations>
    <bug_status amount="RESOLVED" />
    <resolution amount="WORKSFORME" />
    <WithStack>These steps reproduce the problem for me on N20050606:

1. Restart eclipse.
2. Window &gt; Preferences
3. Ant

The dialog does not resize to fit the contents of the Ant preference page.  If I
open the dialog a second time, it works fine.
I've been seeing this problem (in general) as well, and Billy's specific steps
also recreate the problem for me.

Not sure if this is related, but the Preferences dialog does not remeber the
last dimensions it was set to. I am using 1600x1200 resolution and I resize the
Preferences dialog to almost full screen. It does not remeber the resizing
between Eclipse starts (including the width of the left side tree view).

So while you are tooling around the code, could you persist the dialog size?

TKS
This is working in 3.3</WithStack>
    <WithOutStack>These steps reproduce the problem for me on N20050606:

1. Restart eclipse.
2. Window &gt; Preferences
3. Ant

The dialog does not resize to fit the contents of the Ant preference page.  If I
open the dialog a second time, it works fine.
I've been seeing this problem (in general) as well, and Billy's specific steps
also recreate the problem for me.

Not sure if this is related, but the Preferences dialog does not remeber the
last dimensions it was set to. I am using 1600x1200 resolution and I resize the
Preferences dialog to almost full screen. It does not remeber the resizing
between Eclipse starts (including the width of the left side tree view).

So while you are tooling around the code, could you persist the dialog size?

TKS
This is working in 3.3</WithOutStack>
  </Bug>
  <Bug>
    <BugId amount="98535" />
    <CreationDate amount="2005-06-06 11:41:00 -0400" />
    <DupId amount="" />
    <classification amount="Eclipse" />
    <Product amount="Platform" />
    <component amount="Ant" />
    <Version amount="3.1" />
    <rep_platform amount="PC" />
    <op_sys amount="Windows XP" />
    <priority amount="P3" />
    <bug_severity amount="normal" />
    <Summery>3.1: tct 141- translation clarification</Summery>
    <Patches amount="0" />
    <Stacktraces amount="0" />
    <SourceCodeRegions amount="0" />
    <Enumerations amount="0" />
    <bug_status amount="RESOLVED" />
    <resolution amount="WORKSFORME" />
    <WithStack>File \eclipse\plugins\org.eclipse.ant.ui\plugin.properties
Do you confirm that the words following the = sign are keywords that should 
not be translated
or should we translate them as separate words?
In general, should we translate strings following preferenceKeywords.... like 
in the following? 

preferenceKeywords.runtime=ant runtime classpath tasks types properties 
property
preferenceKeywords.editor=buildfile appearance syntax problems error warning 
folding
preferenceKeywords.formatter=format formatter
preferenceKeywords.codeAssist=content complete
preferenceKeywords.template=templates snippets macro



Same thing in the following file
\eclipse\plugins\org.eclipse.jdt.ui\plugin.properties

preferenceKeywords.appearance=package explorer browsing
preferenceKeywords.sortorder=member sort order appearance
preferenceKeywords.typefilter=type filter ignore package appearance
preferenceKeywords.buildpath=source library libraries output jre
preferenceKeywords.buildpathoptions=build source folder

preferenceKeywords.cpvars=classpath variable buildpath
preferenceKeywords.userlibs=user libraries buildpath
preferenceKeywords.codestyle=prefix postfix naming convention java
preferenceKeywords.formatter=profile codestyle java

preferenceKeywords.codetemplates=Comments Code Getter Setter Javadoc codestyle 
java
preferenceKeywords.organizeimports=imports order codestyle java
preferenceKeywords.compliance=Compliance Compatibilty 5.0 classfile compiler 
java
preferenceKeywords.building=build path output compiler java
preferenceKeywords.severities=java errors warnings ignore compiler options nls 
severity severities deprecated
preferenceKeywords.javadocproblems=tag comment compiler java
preferenceKeywords.todo=todo xxx compiler
preferenceKeywords.javaeditor=brackets semicolon occurence folding


Thanks for your help
My understanding is that all of the words on the left hand side of the '='
should be translated as separate words.

These are used to match the keyword search entered by the user to present the
user with the correct page for the feature / functionality they are looking to
configure.
Of course that should be the right hand side or those words following the '=' :-)
Marking as worksforme.</WithStack>
    <WithOutStack>File \eclipse\plugins\org.eclipse.ant.ui\plugin.properties
Do you confirm that the words following the = sign are keywords that should 
not be translated
or should we translate them as separate words?
In general, should we translate strings following preferenceKeywords.... like 
in the following? 

preferenceKeywords.runtime=ant runtime classpath tasks types properties 
property
preferenceKeywords.editor=buildfile appearance syntax problems error warning 
folding
preferenceKeywords.formatter=format formatter
preferenceKeywords.codeAssist=content complete
preferenceKeywords.template=templates snippets macro



Same thing in the following file
\eclipse\plugins\org.eclipse.jdt.ui\plugin.properties

preferenceKeywords.appearance=package explorer browsing
preferenceKeywords.sortorder=member sort order appearance
preferenceKeywords.typefilter=type filter ignore package appearance
preferenceKeywords.buildpath=source library libraries output jre
preferenceKeywords.buildpathoptions=build source folder

preferenceKeywords.cpvars=classpath variable buildpath
preferenceKeywords.userlibs=user libraries buildpath
preferenceKeywords.codestyle=prefix postfix naming convention java
preferenceKeywords.formatter=profile codestyle java

preferenceKeywords.codetemplates=Comments Code Getter Setter Javadoc codestyle 
java
preferenceKeywords.organizeimports=imports order codestyle java
preferenceKeywords.compliance=Compliance Compatibilty 5.0 classfile compiler 
java
preferenceKeywords.building=build path output compiler java
preferenceKeywords.severities=java errors warnings ignore compiler options nls 
severity severities deprecated
preferenceKeywords.javadocproblems=tag comment compiler java
preferenceKeywords.todo=todo xxx compiler
preferenceKeywords.javaeditor=brackets semicolon occurence folding


Thanks for your help
My understanding is that all of the words on the left hand side of the '='
should be translated as separate words.

These are used to match the keyword search entered by the user to present the
user with the correct page for the feature / functionality they are looking to
configure.
Of course that should be the right hand side or those words following the '=' :-)
Marking as worksforme.</WithOutStack>
  </Bug>
  <Bug>
    <BugId amount="98536" />
    <CreationDate amount="2005-06-06 11:42:00 -0400" />
    <DupId amount="" />
    <classification amount="Eclipse" />
    <Product amount="Platform" />
    <component amount="UI" />
    <Version amount="3.0.2" />
    <rep_platform amount="PC" />
    <op_sys amount="Windows 2000" />
    <priority amount="P3" />
    <bug_severity amount="normal" />
    <Summery>[Perspectives] [RCP] [ViewMgmt] How to prevent multiple instances of the same view from being closed/moved</Summery>
    <Patches amount="0" />
    <Stacktraces amount="0" />
    <SourceCodeRegions amount="9">
      <source_code type="class">
        <location start="261" end="866" />
        <code>public class MyPerspective implements IPerspectiveFactory {

public void createInitialLayout((IPageLayout layout){
..................
      IFolderLayout folderMainContent =
             layout.createFolder("main", IPageLayout.RIGHT, 0.25f,
editorId);
      folderMainContent.addView(WelcomeView.ID_VIEW);
      IViewLayout vlx = layout.getViewLayout(WelcomeView.ID_VIEW);
      vlx.setMoveable(false);
      vlx.setCloseable(false);
      folderMainContent.addPlaceholder(PlaceHolderView.ID_VIEW +":*");
      layout.getViewLayout(PlaceHolderView.ID_VIEW+":*"
).setCloseable(false);
.................
}
}</code>
      </source_code>
      <source_code type="functioncall">
        <location start="1067" end="1089" />
        <code>getActivePage();</code>
      </source_code>
      <source_code type="functioncall">
        <location start="1153" end="1203" />
        <code>generateUniqueId(), IWorkbenchPage.VIEW_ACTIVATE);</code>
      </source_code>
      <source_code type="multicomment">
        <location start="3969" end="4155" />
        <code>/**

     * Returns the view layout rec for the given view reference,

     * or null if not found.  If create is true, it creates the record

     * if not already created.

     */</code>
      </source_code>
      <source_code type="functiondef">
        <location start="4157" end="4429" />
        <code>private ViewLayoutRec getViewLayoutRec(IViewReference ref, boolean create) {

        ViewLayoutRec rec = getViewLayoutRec(ViewFactory.getKey(ref), create);

        if (rec == null)

        {

            rec = getViewLayoutRec(ref.getId(), false);

        }

    }</code>
      </source_code>
      <source_code type="functioncall">
        <location start="5725" end="5785" />
        <code>folderMainContent.addPlaceholder(PlaceHolderView.ID_VIEW);</code>
      </source_code>
      <source_code type="functioncall">
        <location start="5786" end="5854" />
        <code>layout.getViewLayout(PlaceHolderView.ID_VIEW).setCloseable(false);</code>
      </source_code>
      <source_code type="functioncall">
        <location start="5866" end="5932" />
        <code>folderMainContent.addPlaceholder(PlaceHolderView.ID_VIEW +":*");</code>
      </source_code>
      <source_code type="functioncall">
        <location start="5933" end="6006" />
        <code>layout.getViewLayout(PlaceHolderView.ID_VIEW+":*").setCloseable(false);</code>
      </source_code>
    </SourceCodeRegions>
    <Enumerations amount="0" />
    <bug_status amount="RESOLVED" />
    <resolution amount="FIXED" />
    <WithStack>In our scenario we have registered a  generic placeholder to define the position
where multiple instances of the same view have to be displayed. This placeholder
is defined in the createInitialLayout method of our perspective according to the
following code:


public class MyPerspective implements IPerspectiveFactory {

public void createInitialLayout((IPageLayout layout){
..................
      IFolderLayout folderMainContent =
             layout.createFolder("main", IPageLayout.RIGHT, 0.25f,
editorId);
      folderMainContent.addView(WelcomeView.ID_VIEW);
      IViewLayout vlx = layout.getViewLayout(WelcomeView.ID_VIEW);
      vlx.setMoveable(false);
      vlx.setCloseable(false);
      folderMainContent.addPlaceholder(PlaceHolderView.ID_VIEW +":*");
      layout.getViewLayout(PlaceHolderView.ID_VIEW+":*"
).setCloseable(false);
.................
}
}
The views identified by PlaceHolderView.ID_VIEW and a unique secondary id are
opened later using:

IWorkbenchPage activePage =    
TellerPlugin.getDefault().getWorkbench().getActiveWorkbenchWindow().
      getActivePage();
 (PlaceHolderView)activePage.showView(PlaceHolderView.ID_VIEW,
generateUniqueId(), IWorkbenchPage.VIEW_ACTIVATE);

All the generated views should be not closeable because, according to
requirements,  views can be closed only  using  push buttons .
Despite the views have been defined as not closeable, they are (the red icon
appears on the folder tab).
I believe the current behaviour is necessary to support the LWP use case of
allow document views to be closeable, even though they have a placeholder in a
fixed perspective

In a fixed perspective, all initial views are marked as non-closeable and
non-moveable, and currently placeholders are too, but this is ignored for
placeholders.  This is unintuitive, and doesn't allow us to support Sabina's
scenario.  It should be possible to fix this (in a backwards compatible way) by
making the default state for placeholders be closeable and moveable, even if the
perspective is fixed, but to honour these settings if they are explicitly
overridden.
LWP perspectives are always generated dynamically, we are not using "fixed"
perspectives at the moment but we do use fixed views extensively.

I'm not sure I understand the problem here though.  Seems to me there is just a
bug with IViewLayout not honoring moveable/closable settings for placeholder
layouts.

I Think this actually a problem that LWP has hit once or twice and a bugzilla
was just never opened.  For the LWP use cases we would like to add placeholders
for fixed views.
I have almost the exact same code (using a fixed perspective) and have also run
into this problem. The placeholder is fixed - views added with showView always
are added as an additional tab to the folder containing the view added with
addView(). In the originator's case - with the WelcomeView. Even if you move a
view added with showView elsewhere in the perspective, a future showView will
add the view in  the original placeholder location. It appears views added to a
placeholder are not inheriting the placeholder's moveable/closeable settings. 
Will investigate for 3.1.1.
We won't be able to address this for 3.1.1.
Marking for 3.2.

Sorry - late in the game, a lot of bugs were moved around and too many 3.2
items ended up on my plate. Moving to 3.3 since I was not able to address this
for 3.2.
I just noticed how many votes this bug had (even though almost all are from Italy :)

If this is just a bug and fixing it does not involve API changes I can look at it for 3.2.1.


I think I can fix this - does anybody really care about putting it in 3.2.1?  If yes, would you be willing to help me test my fix?

If this is not a high priority, this will be fixed for 3.3.
I've been having problems in relation to this. I was wondering if this would make sense:

 

In org.eclipse.ui.internal.Perspective, for the getViewLayoutRec(IViewReference ref, boolean create) method, change to this:

 

/**

     * Returns the view layout rec for the given view reference,

     * or null if not found.  If create is true, it creates the record

     * if not already created.

     */

    private ViewLayoutRec getViewLayoutRec(IViewReference ref, boolean create) {

        ViewLayoutRec rec = getViewLayoutRec(ViewFactory.getKey(ref), create);

        if (rec == null)

        {

            rec = getViewLayoutRec(ref.getId(), false);

        }

    }

 

 

This way if you are using views with wildcards (like someTestView:*), when it fails to find, say, "someTestView:1" it can look for "someTestView" instead, and use the values from that. Does this make sense?
(In reply to comment #9)
&gt; Does this make sense?

Yes, although I am not sure if the fix should be put into getViewLayoutRec() or just isMoveable()/isCloseable(). I will look at this for M4.
Fixed &gt;20061212.
Verified on Windows XP using I20061213-0800.
the fix doesn't work if you use secondary ids in placeholder views, as reported in the initial snippet when this bug was opened. The test has been made using eclipse 3.3M6 on Windows XP.

Created attachment 63805
Testcase to show that the proposed fiz doesn't work when secondary ids in placeholder views are used

In the attachment there is a simple RCP application with a Perspective and two Views. The first view , ButtonView , has a button used to create multiple instances of PlaceholderView  that are placed in a folder layout. The layout of placeholderView states that the instances of this View should be NOT closeable but once created, they are.
Moving to RC1 for investigation.  Not sure if I will be able to come up with a fix.
I should have explained this on the bug when I fixed it.

In createInitialLayout, write 
  folderMainContent.addPlaceholder(PlaceHolderView.ID_VIEW);
  layout.getViewLayout(PlaceHolderView.ID_VIEW).setCloseable(false);
instead of
  folderMainContent.addPlaceholder(PlaceHolderView.ID_VIEW +":*");
  layout.getViewLayout(PlaceHolderView.ID_VIEW+":*").setCloseable(false);

Setting resolution back to fixed.</WithStack>
    <WithOutStack>In our scenario we have registered a  generic placeholder to define the position
where multiple instances of the same view have to be displayed. This placeholder
is defined in the createInitialLayout method of our perspective according to the
following code:


public class MyPerspective implements IPerspectiveFactory {

public void createInitialLayout((IPageLayout layout){
..................
      IFolderLayout folderMainContent =
             layout.createFolder("main", IPageLayout.RIGHT, 0.25f,
editorId);
      folderMainContent.addView(WelcomeView.ID_VIEW);
      IViewLayout vlx = layout.getViewLayout(WelcomeView.ID_VIEW);
      vlx.setMoveable(false);
      vlx.setCloseable(false);
      folderMainContent.addPlaceholder(PlaceHolderView.ID_VIEW +":*");
      layout.getViewLayout(PlaceHolderView.ID_VIEW+":*"
).setCloseable(false);
.................
}
}
The views identified by PlaceHolderView.ID_VIEW and a unique secondary id are
opened later using:

IWorkbenchPage activePage =    
TellerPlugin.getDefault().getWorkbench().getActiveWorkbenchWindow().
      getActivePage();
 (PlaceHolderView)activePage.showView(PlaceHolderView.ID_VIEW,
generateUniqueId(), IWorkbenchPage.VIEW_ACTIVATE);

All the generated views should be not closeable because, according to
requirements,  views can be closed only  using  push buttons .
Despite the views have been defined as not closeable, they are (the red icon
appears on the folder tab).
I believe the current behaviour is necessary to support the LWP use case of
allow document views to be closeable, even though they have a placeholder in a
fixed perspective

In a fixed perspective, all initial views are marked as non-closeable and
non-moveable, and currently placeholders are too, but this is ignored for
placeholders.  This is unintuitive, and doesn't allow us to support Sabina's
scenario.  It should be possible to fix this (in a backwards compatible way) by
making the default state for placeholders be closeable and moveable, even if the
perspective is fixed, but to honour these settings if they are explicitly
overridden.
LWP perspectives are always generated dynamically, we are not using "fixed"
perspectives at the moment but we do use fixed views extensively.

I'm not sure I understand the problem here though.  Seems to me there is just a
bug with IViewLayout not honoring moveable/closable settings for placeholder
layouts.

I Think this actually a problem that LWP has hit once or twice and a bugzilla
was just never opened.  For the LWP use cases we would like to add placeholders
for fixed views.
I have almost the exact same code (using a fixed perspective) and have also run
into this problem. The placeholder is fixed - views added with showView always
are added as an additional tab to the folder containing the view added with
addView(). In the originator's case - with the WelcomeView. Even if you move a
view added with showView elsewhere in the perspective, a future showView will
add the view in  the original placeholder location. It appears views added to a
placeholder are not inheriting the placeholder's moveable/closeable settings. 
Will investigate for 3.1.1.
We won't be able to address this for 3.1.1.
Marking for 3.2.

Sorry - late in the game, a lot of bugs were moved around and too many 3.2
items ended up on my plate. Moving to 3.3 since I was not able to address this
for 3.2.
I just noticed how many votes this bug had (even though almost all are from Italy :)

If this is just a bug and fixing it does not involve API changes I can look at it for 3.2.1.


I think I can fix this - does anybody really care about putting it in 3.2.1?  If yes, would you be willing to help me test my fix?

If this is not a high priority, this will be fixed for 3.3.
I've been having problems in relation to this. I was wondering if this would make sense:

 

In org.eclipse.ui.internal.Perspective, for the getViewLayoutRec(IViewReference ref, boolean create) method, change to this:

 

/**

     * Returns the view layout rec for the given view reference,

     * or null if not found.  If create is true, it creates the record

     * if not already created.

     */

    private ViewLayoutRec getViewLayoutRec(IViewReference ref, boolean create) {

        ViewLayoutRec rec = getViewLayoutRec(ViewFactory.getKey(ref), create);

        if (rec == null)

        {

            rec = getViewLayoutRec(ref.getId(), false);

        }

    }

 

 

This way if you are using views with wildcards (like someTestView:*), when it fails to find, say, "someTestView:1" it can look for "someTestView" instead, and use the values from that. Does this make sense?
(In reply to comment #9)
&gt; Does this make sense?

Yes, although I am not sure if the fix should be put into getViewLayoutRec() or just isMoveable()/isCloseable(). I will look at this for M4.
Fixed &gt;20061212.
Verified on Windows XP using I20061213-0800.
the fix doesn't work if you use secondary ids in placeholder views, as reported in the initial snippet when this bug was opened. The test has been made using eclipse 3.3M6 on Windows XP.

Created attachment 63805
Testcase to show that the proposed fiz doesn't work when secondary ids in placeholder views are used

In the attachment there is a simple RCP application with a Perspective and two Views. The first view , ButtonView , has a button used to create multiple instances of PlaceholderView  that are placed in a folder layout. The layout of placeholderView states that the instances of this View should be NOT closeable but once created, they are.
Moving to RC1 for investigation.  Not sure if I will be able to come up with a fix.
I should have explained this on the bug when I fixed it.

In createInitialLayout, write 
  folderMainContent.addPlaceholder(PlaceHolderView.ID_VIEW);
  layout.getViewLayout(PlaceHolderView.ID_VIEW).setCloseable(false);
instead of
  folderMainContent.addPlaceholder(PlaceHolderView.ID_VIEW +":*");
  layout.getViewLayout(PlaceHolderView.ID_VIEW+":*").setCloseable(false);

Setting resolution back to fixed.</WithOutStack>
  </Bug>
  <Bug>
    <BugId amount="98537" />
    <CreationDate amount="2005-06-06 11:55:00 -0400" />
    <DupId amount="" />
    <classification amount="WebTools" />
    <Product amount="WTP Webservices" />
    <component amount="wst.ws" />
    <Version amount="unspecified" />
    <rep_platform amount="PC" />
    <op_sys amount="Windows 2000" />
    <priority amount="P3" />
    <bug_severity amount="blocker" />
    <Summery>Web service client creation failing with java.lang.LinkageError: Class javax/wsdl/Definition violates loader constraints</Summery>
    <Patches amount="0" />
    <Stacktraces amount="0" />
    <SourceCodeRegions amount="1">
      <source_code type="assignment">
        <location start="502" end="535" />
        <code>Map services = def.getServices();</code>
      </source_code>
    </SourceCodeRegions>
    <Enumerations amount="1">
      <Enumeration lines="8">
        <Lines>
          <Line>1. Create a Web project and import a Java bean (i.e. test/Echo into the Java</Line>
          <Line>Source folder)</Line>
          <Line>2. Select the Java bean and launch the Web service wizard.</Line>
          <Line>Page 1: Select Generate proxy. Next</Line>
          <Line>Page 2, 3, 4: Click Next.</Line>
          <Line>Page 5 (Generate Proxy page). Click Next and an error dialog will appear</Line>
          <Line>with the following. The call being made at the point of failure in</Line>
          <Line>Stub2BeanCommand is</Line>
        </Lines>
      </Enumeration>
    </Enumerations>
    <bug_status amount="CLOSED" />
    <resolution amount="FIXED" />
    <WithStack>On the 20050603 integration build, when I try to create a Web service client I 
get the error below. To reproduce:

1. Create a Web project and import a Java bean (i.e. test/Echo into the Java 
Source folder)
2. Select the Java bean and launch the Web service wizard.
   Page 1: Select Generate proxy. Next
   Page 2, 3, 4: Click Next.
   Page 5 (Generate Proxy page). Click Next and an error dialog will appear 
with the following. The call being made at the point of failure in 
Stub2BeanCommand is 
Map services = def.getServices();
Stub2BeanCommand is in the org.eclipse.jst.ws.axis.consumption.ui plugin

IWAB0014E Unexpected exception occured.
  Class javax/wsdl/Definition violates loader constraints
      java.lang.LinkageError: Class javax/wsdl/Definition violates loader 
constraints
      at 
org.eclipse.jst.ws.internal.axis.consumption.ui.task.Stub2BeanCommand.execute
(Stub2BeanCommand.java:91)
      at 
org.eclipse.wst.command.internal.env.core.fragment.CommandFragmentEngine.runComm
and(CommandFragmentEngine.java:335)
      at 
org.eclipse.wst.command.internal.env.core.fragment.CommandFragmentEngine.visitTo
p(CommandFragmentEngine.java:301)
      at 
org.eclipse.wst.command.internal.env.core.fragment.CommandFragmentEngine.moveFor
wardToNextStop(CommandFragmentEngine.java:217)
      at 
org.eclipse.wst.command.internal.env.ui.widgets.SimpleCommandEngineManager$4.run
(SimpleCommandEngineManager.java:208)
      at org.eclipse.jface.operation.ModalContext.runInCurrentThread
(ModalContext.java:346)
      at org.eclipse.jface.operation.ModalContext.run(ModalContext.java:291)
      at org.eclipse.jface.wizard.WizardDialog.run(WizardDialog.java:830)
      at 
org.eclipse.wst.command.internal.env.ui.widgets.SimpleCommandEngineManager.runFo
rwardToNextStop(SimpleCommandEngineManager.java:177)
      at 
org.eclipse.wst.command.internal.env.ui.widgets.WizardPageManager.runForwardToNe
xtStop(WizardPageManager.java:80)
      at 
org.eclipse.wst.command.internal.env.ui.widgets.WizardPageManager.getNextPage
(WizardPageManager.java:119)
      at 
org.eclipse.wst.command.internal.env.ui.widgets.SimpleWizardPage.getNextPage
(SimpleWizardPage.java:120)
      at org.eclipse.jface.wizard.WizardDialog.nextPressed
(WizardDialog.java:747)
      at org.eclipse.jface.wizard.WizardDialog.buttonPressed
(WizardDialog.java:345)
      at org.eclipse.jface.dialogs.Dialog$2.widgetSelected(Dialog.java:556)
      at org.eclipse.swt.widgets.TypedListener.handleEvent
(TypedListener.java:89)
      at org.eclipse.swt.widgets.EventTable.sendEvent(EventTable.java:66)
      at org.eclipse.swt.widgets.Widget.sendEvent(Widget.java:844)
      at org.eclipse.swt.widgets.Display.runDeferredEvents(Display.java:2929)
      at org.eclipse.swt.widgets.Display.readAndDispatch(Display.java:2562)
      at org.eclipse.jface.window.Window.runEventLoop(Window.java:809)
      at org.eclipse.jface.window.Window.open(Window.java:787)
      at org.eclipse.ui.actions.NewWizardAction.run(NewWizardAction.java:181)
      at org.eclipse.jface.action.Action.runWithEvent(Action.java:996)
      at org.eclipse.jface.commands.ActionHandler.execute
(ActionHandler.java:117)
      at org.eclipse.core.commands.Command.execute(Command.java:311)
      at org.eclipse.core.commands.ParameterizedCommand.execute
(ParameterizedCommand.java:396)
      at org.eclipse.ui.internal.keys.WorkbenchKeyboard.executeCommand
(WorkbenchKeyboard.java:459)
      at org.eclipse.ui.internal.keys.WorkbenchKeyboard.press
(WorkbenchKeyboard.java:781)
      at org.eclipse.ui.internal.keys.WorkbenchKeyboard.processKeyEvent
(WorkbenchKeyboard.java:828)
      at 
org.eclipse.ui.internal.keys.WorkbenchKeyboard.filterKeySequenceBindings
(WorkbenchKeyboard.java:550)
      at org.eclipse.ui.internal.keys.WorkbenchKeyboard.access$3
(WorkbenchKeyboard.java:493)
      at 
org.eclipse.ui.internal.keys.WorkbenchKeyboard$KeyDownFilter.handleEvent
(WorkbenchKeyboard.java:117)
      at org.eclipse.swt.widgets.EventTable.sendEvent(EventTable.java:66)
      at org.eclipse.swt.widgets.Display.filterEvent(Display.java:788)
      at org.eclipse.swt.widgets.Widget.sendEvent(Widget.java:843)
      at org.eclipse.swt.widgets.Widget.sendEvent(Widget.java:868)
      at org.eclipse.swt.widgets.Widget.sendEvent(Widget.java:853)
      at org.eclipse.swt.widgets.Widget.sendKeyEvent(Widget.java:881)
      at org.eclipse.swt.widgets.Widget.sendKeyEvent(Widget.java:877)
      at org.eclipse.swt.widgets.Widget.wmChar(Widget.java:1184)
      at org.eclipse.swt.widgets.Control.WM_CHAR(Control.java:3135)
      at org.eclipse.swt.widgets.Tree.WM_CHAR(Tree.java:2425)
      at org.eclipse.swt.widgets.Control.windowProc(Control.java:3038)
      at org.eclipse.swt.widgets.Tree.windowProc(Tree.java:2385)
      at org.eclipse.swt.widgets.Display.windowProc(Display.java:3553)
      at org.eclipse.swt.internal.win32.OS.DispatchMessageW(Native Method)
      at org.eclipse.swt.internal.win32.OS.DispatchMessage(OS.java:1650)
      at org.eclipse.swt.widgets.Display.readAndDispatch(Display.java:2560)
      at org.eclipse.ui.internal.Workbench.runEventLoop(Workbench.java:1694)
      at org.eclipse.ui.internal.Workbench.runUI(Workbench.java:1658)
      at org.eclipse.ui.internal.Workbench.createAndRunWorkbench
(Workbench.java:366)
      at org.eclipse.ui.PlatformUI.createAndRunWorkbench(PlatformUI.java:143)
      at org.eclipse.ui.internal.ide.IDEApplication.run(IDEApplication.java:103)
      at org.eclipse.core.internal.runtime.PlatformActivator$1.run
(PlatformActivator.java:226)
      at org.eclipse.core.runtime.adaptor.EclipseStarter.run
(EclipseStarter.java:375)
      at org.eclipse.core.runtime.adaptor.EclipseStarter.run
(EclipseStarter.java:162)
      at sun.reflect.NativeMethodAccessorImpl.invoke0(Native Method)
      at sun.reflect.NativeMethodAccessorImpl.invoke
(NativeMethodAccessorImpl.java:39)
      at sun.reflect.DelegatingMethodAccessorImpl.invoke
(DelegatingMethodAccessorImpl.java:25)
      at java.lang.reflect.Method.invoke(Method.java:324)
      at org.eclipse.core.launcher.Main.invokeFramework(Main.java:334)
      at org.eclipse.core.launcher.Main.basicRun(Main.java:278)
      at org.eclipse.core.launcher.Main.run(Main.java:973)
      at org.eclipse.core.launcher.Main.main(Main.java:948)
Kihup,

I'm assuming you're the right person for this bug. It not, feel free to 
reassign. Let me know if you have any questions.

Thanks.
Raising the severity since this causes failures in the Web services golden path 
scenarios. Kihup, have you been able to make any progress on this?
Rupam,

From what I see, this looks to be a WSDL4J related problem. The web service 
client wizard seems to be using WSDL4J, not our EMF WSDL model. Can you check 
which one the wizard is using?

As a side note, it may be picking up a wrong WSDL4J version somehow.

Thanks,
- Kihup
Created attachment 22634
apply to org.eclipse.wst.ws.parser plugin

patch 1 of 1
I've modified the order of the Required-Bundle's in the manifest.mf.
org.wsdl4j used to be last. Now it is second. For some reason that I don't 
understand, this enables to parser plugin to successfully use classes in the 
org.eclipse.wst.wsdl plugin. The attached patch is ready to be committed.

Jeffrey, 
Please feel free to pursue this further regarding the "why" question. I just 
can't spare the time to do it. I looked at bug 98127 but there are a few 
important differences here: 

1. I never saw any "Access Restriction .." errors and checking out 
org.eclipse.wst.wsdl into the workspace didn't help.

2. The problem was occurring is self-host and stand-alone environments.

Patch applied and released as v2005_06081800.
Verified on the 20050624 integration build. Closing.</WithStack>
    <WithOutStack>On the 20050603 integration build, when I try to create a Web service client I 
get the error below. To reproduce:

1. Create a Web project and import a Java bean (i.e. test/Echo into the Java 
Source folder)
2. Select the Java bean and launch the Web service wizard.
   Page 1: Select Generate proxy. Next
   Page 2, 3, 4: Click Next.
   Page 5 (Generate Proxy page). Click Next and an error dialog will appear 
with the following. The call being made at the point of failure in 
Stub2BeanCommand is 
Map services = def.getServices();
Stub2BeanCommand is in the org.eclipse.jst.ws.axis.consumption.ui plugin

IWAB0014E Unexpected exception occured.
  Class javax/wsdl/Definition violates loader constraints
      java.lang.LinkageError: Class javax/wsdl/Definition violates loader 
constraints
      at 
org.eclipse.jst.ws.internal.axis.consumption.ui.task.Stub2BeanCommand.execute
(Stub2BeanCommand.java:91)
      at 
org.eclipse.wst.command.internal.env.core.fragment.CommandFragmentEngine.runComm
and(CommandFragmentEngine.java:335)
      at 
org.eclipse.wst.command.internal.env.core.fragment.CommandFragmentEngine.visitTo
p(CommandFragmentEngine.java:301)
      at 
org.eclipse.wst.command.internal.env.core.fragment.CommandFragmentEngine.moveFor
wardToNextStop(CommandFragmentEngine.java:217)
      at 
org.eclipse.wst.command.internal.env.ui.widgets.SimpleCommandEngineManager$4.run
(SimpleCommandEngineManager.java:208)
      at org.eclipse.jface.operation.ModalContext.runInCurrentThread
(ModalContext.java:346)
      at org.eclipse.jface.operation.ModalContext.run(ModalContext.java:291)
      at org.eclipse.jface.wizard.WizardDialog.run(WizardDialog.java:830)
      at 
org.eclipse.wst.command.internal.env.ui.widgets.SimpleCommandEngineManager.runFo
rwardToNextStop(SimpleCommandEngineManager.java:177)
      at 
org.eclipse.wst.command.internal.env.ui.widgets.WizardPageManager.runForwardToNe
xtStop(WizardPageManager.java:80)
      at 
org.eclipse.wst.command.internal.env.ui.widgets.WizardPageManager.getNextPage
(WizardPageManager.java:119)
      at 
org.eclipse.wst.command.internal.env.ui.widgets.SimpleWizardPage.getNextPage
(SimpleWizardPage.java:120)
      at org.eclipse.jface.wizard.WizardDialog.nextPressed
(WizardDialog.java:747)
      at org.eclipse.jface.wizard.WizardDialog.buttonPressed
(WizardDialog.java:345)
      at org.eclipse.jface.dialogs.Dialog$2.widgetSelected(Dialog.java:556)
      at org.eclipse.swt.widgets.TypedListener.handleEvent
(TypedListener.java:89)
      at org.eclipse.swt.widgets.EventTable.sendEvent(EventTable.java:66)
      at org.eclipse.swt.widgets.Widget.sendEvent(Widget.java:844)
      at org.eclipse.swt.widgets.Display.runDeferredEvents(Display.java:2929)
      at org.eclipse.swt.widgets.Display.readAndDispatch(Display.java:2562)
      at org.eclipse.jface.window.Window.runEventLoop(Window.java:809)
      at org.eclipse.jface.window.Window.open(Window.java:787)
      at org.eclipse.ui.actions.NewWizardAction.run(NewWizardAction.java:181)
      at org.eclipse.jface.action.Action.runWithEvent(Action.java:996)
      at org.eclipse.jface.commands.ActionHandler.execute
(ActionHandler.java:117)
      at org.eclipse.core.commands.Command.execute(Command.java:311)
      at org.eclipse.core.commands.ParameterizedCommand.execute
(ParameterizedCommand.java:396)
      at org.eclipse.ui.internal.keys.WorkbenchKeyboard.executeCommand
(WorkbenchKeyboard.java:459)
      at org.eclipse.ui.internal.keys.WorkbenchKeyboard.press
(WorkbenchKeyboard.java:781)
      at org.eclipse.ui.internal.keys.WorkbenchKeyboard.processKeyEvent
(WorkbenchKeyboard.java:828)
      at 
org.eclipse.ui.internal.keys.WorkbenchKeyboard.filterKeySequenceBindings
(WorkbenchKeyboard.java:550)
      at org.eclipse.ui.internal.keys.WorkbenchKeyboard.access$3
(WorkbenchKeyboard.java:493)
      at 
org.eclipse.ui.internal.keys.WorkbenchKeyboard$KeyDownFilter.handleEvent
(WorkbenchKeyboard.java:117)
      at org.eclipse.swt.widgets.EventTable.sendEvent(EventTable.java:66)
      at org.eclipse.swt.widgets.Display.filterEvent(Display.java:788)
      at org.eclipse.swt.widgets.Widget.sendEvent(Widget.java:843)
      at org.eclipse.swt.widgets.Widget.sendEvent(Widget.java:868)
      at org.eclipse.swt.widgets.Widget.sendEvent(Widget.java:853)
      at org.eclipse.swt.widgets.Widget.sendKeyEvent(Widget.java:881)
      at org.eclipse.swt.widgets.Widget.sendKeyEvent(Widget.java:877)
      at org.eclipse.swt.widgets.Widget.wmChar(Widget.java:1184)
      at org.eclipse.swt.widgets.Control.WM_CHAR(Control.java:3135)
      at org.eclipse.swt.widgets.Tree.WM_CHAR(Tree.java:2425)
      at org.eclipse.swt.widgets.Control.windowProc(Control.java:3038)
      at org.eclipse.swt.widgets.Tree.windowProc(Tree.java:2385)
      at org.eclipse.swt.widgets.Display.windowProc(Display.java:3553)
      at org.eclipse.swt.internal.win32.OS.DispatchMessageW(Native Method)
      at org.eclipse.swt.internal.win32.OS.DispatchMessage(OS.java:1650)
      at org.eclipse.swt.widgets.Display.readAndDispatch(Display.java:2560)
      at org.eclipse.ui.internal.Workbench.runEventLoop(Workbench.java:1694)
      at org.eclipse.ui.internal.Workbench.runUI(Workbench.java:1658)
      at org.eclipse.ui.internal.Workbench.createAndRunWorkbench
(Workbench.java:366)
      at org.eclipse.ui.PlatformUI.createAndRunWorkbench(PlatformUI.java:143)
      at org.eclipse.ui.internal.ide.IDEApplication.run(IDEApplication.java:103)
      at org.eclipse.core.internal.runtime.PlatformActivator$1.run
(PlatformActivator.java:226)
      at org.eclipse.core.runtime.adaptor.EclipseStarter.run
(EclipseStarter.java:375)
      at org.eclipse.core.runtime.adaptor.EclipseStarter.run
(EclipseStarter.java:162)
      at sun.reflect.NativeMethodAccessorImpl.invoke0(Native Method)
      at sun.reflect.NativeMethodAccessorImpl.invoke
(NativeMethodAccessorImpl.java:39)
      at sun.reflect.DelegatingMethodAccessorImpl.invoke
(DelegatingMethodAccessorImpl.java:25)
      at java.lang.reflect.Method.invoke(Method.java:324)
      at org.eclipse.core.launcher.Main.invokeFramework(Main.java:334)
      at org.eclipse.core.launcher.Main.basicRun(Main.java:278)
      at org.eclipse.core.launcher.Main.run(Main.java:973)
      at org.eclipse.core.launcher.Main.main(Main.java:948)
Kihup,

I'm assuming you're the right person for this bug. It not, feel free to 
reassign. Let me know if you have any questions.

Thanks.
Raising the severity since this causes failures in the Web services golden path 
scenarios. Kihup, have you been able to make any progress on this?
Rupam,

From what I see, this looks to be a WSDL4J related problem. The web service 
client wizard seems to be using WSDL4J, not our EMF WSDL model. Can you check 
which one the wizard is using?

As a side note, it may be picking up a wrong WSDL4J version somehow.

Thanks,
- Kihup
Created attachment 22634
apply to org.eclipse.wst.ws.parser plugin

patch 1 of 1
I've modified the order of the Required-Bundle's in the manifest.mf.
org.wsdl4j used to be last. Now it is second. For some reason that I don't 
understand, this enables to parser plugin to successfully use classes in the 
org.eclipse.wst.wsdl plugin. The attached patch is ready to be committed.

Jeffrey, 
Please feel free to pursue this further regarding the "why" question. I just 
can't spare the time to do it. I looked at bug 98127 but there are a few 
important differences here: 

1. I never saw any "Access Restriction .." errors and checking out 
org.eclipse.wst.wsdl into the workspace didn't help.

2. The problem was occurring is self-host and stand-alone environments.

Patch applied and released as v2005_06081800.
Verified on the 20050624 integration build. Closing.</WithOutStack>
  </Bug>
  <Bug>
    <BugId amount="98538" />
    <CreationDate amount="2005-06-06 11:56:00 -0400" />
    <DupId amount="" />
    <classification amount="Eclipse" />
    <Product amount="JDT" />
    <component amount="Core" />
    <Version amount="3.1" />
    <rep_platform amount="PC" />
    <op_sys amount="Windows 2000" />
    <priority amount="P3" />
    <bug_severity amount="major" />
    <Summery>[1.5][compiler] Inference broken for subtypes of subtypes of F-bounded types</Summery>
    <Patches amount="0" />
    <Stacktraces amount="0" />
    <SourceCodeRegions amount="14">
      <source_code type="functioncall">
        <location start="312" end="349" />
        <code>makeSingletonList(new SuperType());</code>
      </source_code>
      <source_code type="functioncall">
        <location start="375" end="410" />
        <code>makeSingletonList(new SubType());</code>
      </source_code>
      <source_code type="multicomment">
        <location start="1541" end="1589" />
        <code>/*making lists of super types works fine ...*/</code>
      </source_code>
      <source_code type="functioncall">
        <location start="1590" end="1625" />
        <code>makeSingletonList(new SuperType());</code>
      </source_code>
      <source_code type="assignment">
        <location start="1817" end="1875" />
        <code>List&lt;SuperType&gt; lsup = makeSingletonList(new SuperType());</code>
      </source_code>
      <source_code type="multicomment">
        <location start="2013" end="2075" />
        <code>/*but we can't make a list of sub types; seems weird ...*/</code>
      </source_code>
      <source_code type="multicomment">
        <location start="2447" end="2503" />
        <code>/*can't even call it w/o assigning the return value:*/</code>
      </source_code>
      <source_code type="multicomment">
        <location start="2948" end="2996" />
        <code>/*making lists of super types works fine ...*/</code>
      </source_code>
      <source_code type="functioncall">
        <location start="2997" end="3032" />
        <code>makeSingletonList(new SuperType());</code>
      </source_code>
      <source_code type="assignment">
        <location start="3220" end="3278" />
        <code>List&lt;SuperType&gt; lsup = makeSingletonList(new SuperType());</code>
      </source_code>
      <source_code type="multicomment">
        <location start="3414" end="3476" />
        <code>/*but we can't make a list of sub types; seems weird ...*/</code>
      </source_code>
      <source_code type="multicomment">
        <location start="3842" end="3898" />
        <code>/*can't even call it w/o assigning the return value:*/</code>
      </source_code>
      <source_code type="import">
        <location start="4099" end="4119" />
        <code>import java.util.*;</code>
      </source_code>
      <source_code type="class">
        <location start="4121" end="5077" />
        <code>public class X {
 
static abstract class SelfType&lt;T extends SelfType&lt;T&gt;&gt;{
}
 
static class SuperType extends SelfType&lt;SuperType&gt;{
}
 
static class SubType extends SuperType{}
 
static &lt;T extends SelfType&lt;T&gt;&gt; List&lt;T&gt; makeSingletonList(T t){
	return Collections.singletonList(t);
}
 
static &lt;T extends SelfType&lt;T&gt;,S extends T&gt; List&lt;T&gt; makeSingletonList2(S s){
	return Collections.singletonList((T)s); // #0
}
 
public static void main(String[] args){
	makeSingletonList(new SuperType()); // #1 - OK
	List&lt;SuperType&gt; lsup = makeSingletonList(new SuperType()); // #2 - OK
	List&lt;SubType&gt; lsub = makeSingletonList(new SubType()); // #3 - ERROR
	makeSingletonList(new SubType()); // #4 - ERROR
	makeSingletonList2(new SubType()); // #5 - ERROR
	lsup = makeSingletonList2(new SubType()); // #6 - OK
	lsub = makeSingletonList2(new SubType()); // #7 - ERROR
	makeSingletonList2(new SuperType()); // #8 - OK
	lsup = makeSingletonList2(new SuperType()); // #9 - OK
}
}</code>
      </source_code>
    </SourceCodeRegions>
    <Enumerations amount="1">
      <Enumeration lines="16">
        <Lines>
          <Line>1. in absence of explicit expected return type (from assignment conversion)</Line>
          <Line>Object should be picked up. Old code was using the upperbound instead when</Line>
          <Line>return type is a type variable, which is redundant with what the inference will</Line>
          <Line>do anyway. Simply removed upper bound access (as mandated by the spec). This</Line>
          <Line>part is trivial, and removes unnecessary complexity (cleanup).</Line>
          <Line />
          <Line>2. our inference on type parameter formal bounds was performing backwards: Ti &lt;&lt;</Line>
          <Line>Bi, instead of Bi &gt;&gt; Ti as described in the spec. Fix is to make it consistent</Line>
          <Line>with the spec, but still preserve Ti &lt;&lt; Bi in cases type parameter got resolved,</Line>
          <Line>to exploit possible type information for building constraints. This behavior</Line>
          <Line>matches javac expectation as well (though disagrees slightly with the spec).</Line>
          <Line>Created attachment 23598</Line>
          <Line>Patch for GenericTypeTest</Line>
          <Line>Fixed in 3.1 maintenance branch</Line>
          <Line>Verified in 3.2 M1 with build I20050808-2000.</Line>
          <Line>Verified using M20050923-1430 for 3.1.1</Line>
        </Lines>
      </Enumeration>
    </Enumerations>
    <bug_status amount="VERIFIED" />
    <resolution amount="FIXED" />
    <WithStack>Given the following class declarations:

  class SelfType&lt;T extends SelfType&lt;T&gt;&gt;

  class SuperType extends SelfType&lt;SuperType&gt;

  class SubType extends SuperType

and the following method declaration:

  public static &lt;T extends SelfType&lt;T&gt;&gt; List&lt;T&gt; makeSingletonList(T t)

The following method-call compiles:

  makeSingletonList(new SuperType());

But this one does not:

  makeSingletonList(new SubType());

The error given is:

Bound mismatch: The generic method makeSingletonList(T) of type TestGenerics is
not applicable for the arguments (TestGenerics.SubType) since the type
TestGenerics.SubType is not a valid substitute for the bounded parameter &lt;T
extends TestGenerics.SelfType&lt;T&gt;&gt;

See corresponding bug in sun's javac:
http://bugs.sun.com/bugdatabase/view_bug.do?bug_id=6278587
Created attachment 22429
Full source code that exhibits compilation errors

Full source code for the examples in the original description, along with some
others along the same lines.

This fails with 3.1M7 and 3.1RC1.
Thanks for the testcase. Is it really copyrighted ?
That's just a standard header that I have eclipse configured to insert in all
new .java files; you can probably safely ignore it in this case, since there's
nothing proprietary or specific to my company in there.  :)
Remember that inference performs in 2 passes. 
One pass using invocation arguments (15.12.2.7), and if some variables are still
unresolved
it will consider return types and variable formal bounds in a second iteration
(15.12.2.8).

Now let's look at each case:


/*making lists of super types works fine ...*/
makeSingletonList(new SuperType());


  This one is fine. T gets inferred to be 'SuperType' in first pass, no further
  inference needed, and T boundcheck is happy, since: SuperType &lt;:
SelfType&lt;SuperType&gt;
  per construction.


List&lt;SuperType&gt; lsup = makeSingletonList(new SuperType());

  Fine as well, though some expectation is set on return type, it isn't used since
  second pass is unneeded. Same resolution as above.


 
/*but we can't make a list of sub types; seems weird ...*/
List&lt;SubType&gt; lsub = makeSingletonList(new SubType()); //ERROR

  Error. First pass is all you need. It infers T to be 'SubType'. 
  But T boundcheck fails, since:  SubType  is not compatible with:  
SelfType&lt;SubType&gt;
  as mandated by T extends SelfType&lt;T&gt;.   SubType is only compatible with: 
SelfType&lt;SuperType&gt;
  like List&lt;String&gt; is not compatible with List&lt;Object&gt;.


/*can't even call it w/o assigning the return value:*/
makeSingletonList(new SubType()); //ERROR

  Same as above. As said already first pass on arguments is all you needed anyway.


To be continued...
Reposting to improve line wrapping.

Remember that inference performs in 2 passes. One pass using invocation
arguments (15.12.2.7), and if some variables are still unresolved it will
consider return types and variable formal bounds in a second iteration (15.12.2.8).

Now let's look at each case:


/*making lists of super types works fine ...*/
makeSingletonList(new SuperType());


  This one is fine. T gets inferred to be 'SuperType' in first pass, no further
inference needed, and T boundcheck is happy, since: SuperType &lt;:
SelfType&lt;SuperType&gt; per construction.


List&lt;SuperType&gt; lsup = makeSingletonList(new SuperType());

  Fine as well, though some expectation is set on return type, it isn't used
since second pass is unneeded. Same resolution as above.


 
/*but we can't make a list of sub types; seems weird ...*/
List&lt;SubType&gt; lsub = makeSingletonList(new SubType()); //ERROR

  Error. First pass is all you need. It infers T to be 'SubType'. 
  But T boundcheck fails, since:  SubType  is not compatible with:
SelfType&lt;SubType&gt; as mandated by T extends SelfType&lt;T&gt;. SubType is only
compatible with:  SelfType&lt;SuperType&gt;
  like List&lt;String&gt; is not compatible with List&lt;Object&gt;.


/*can't even call it w/o assigning the return value:*/
makeSingletonList(new SubType()); //ERROR

  Same as above. As said already first pass on arguments is all you needed anyway.


To be continued...
+1 for RC3.

Will not address within RC3. Too risky.

import java.util.*;

public class X {
 
static abstract class SelfType&lt;T extends SelfType&lt;T&gt;&gt;{
}
 
static class SuperType extends SelfType&lt;SuperType&gt;{
}
 
static class SubType extends SuperType{}
 
static &lt;T extends SelfType&lt;T&gt;&gt; List&lt;T&gt; makeSingletonList(T t){
	return Collections.singletonList(t);
}
 
static &lt;T extends SelfType&lt;T&gt;,S extends T&gt; List&lt;T&gt; makeSingletonList2(S s){
	return Collections.singletonList((T)s); // #0
}
 
public static void main(String[] args){
	makeSingletonList(new SuperType()); // #1 - OK
	List&lt;SuperType&gt; lsup = makeSingletonList(new SuperType()); // #2 - OK
	List&lt;SubType&gt; lsub = makeSingletonList(new SubType()); // #3 - ERROR
	makeSingletonList(new SubType()); // #4 - ERROR
	makeSingletonList2(new SubType()); // #5 - ERROR
	lsup = makeSingletonList2(new SubType()); // #6 - OK
	lsub = makeSingletonList2(new SubType()); // #7 - ERROR
	makeSingletonList2(new SuperType()); // #8 - OK
	lsup = makeSingletonList2(new SuperType()); // #9 - OK
}
}

Also our first discrepancy (#6) with javac got assessed to be a bug in javac
(see javac bug). The remaining one (#8) is likely a bug in our land due.

This is not critical for 3.1, however worth considering for some 3.1.1 update.
Created attachment 23536
Patch for ParameterizedGenericMethodBinding
Patch has 2 parts in generic method inference.

1. in absence of explicit expected return type (from assignment conversion)
Object should be picked up. Old code was using the upperbound instead when
return type is a type variable, which is redundant with what the inference will
do anyway. Simply removed upper bound access (as mandated by the spec). This
part is trivial, and removes unnecessary complexity (cleanup).

2. our inference on type parameter formal bounds was performing backwards: Ti &lt;&lt;
Bi, instead of Bi &gt;&gt; Ti as described in the spec. Fix is to make it consistent
with the spec, but still preserve Ti &lt;&lt; Bi in cases type parameter got resolved,
to exploit possible type information for building constraints. This behavior
matches javac expectation as well (though disagrees slightly with the spec).
Created attachment 23598
Patch for GenericTypeTest
Fixed in 3.1 maintenance branch
Verified in 3.2 M1 with build I20050808-2000.
Verified using M20050923-1430 for 3.1.1</WithStack>
    <WithOutStack>Given the following class declarations:

  class SelfType&lt;T extends SelfType&lt;T&gt;&gt;

  class SuperType extends SelfType&lt;SuperType&gt;

  class SubType extends SuperType

and the following method declaration:

  public static &lt;T extends SelfType&lt;T&gt;&gt; List&lt;T&gt; makeSingletonList(T t)

The following method-call compiles:

  makeSingletonList(new SuperType());

But this one does not:

  makeSingletonList(new SubType());

The error given is:

Bound mismatch: The generic method makeSingletonList(T) of type TestGenerics is
not applicable for the arguments (TestGenerics.SubType) since the type
TestGenerics.SubType is not a valid substitute for the bounded parameter &lt;T
extends TestGenerics.SelfType&lt;T&gt;&gt;

See corresponding bug in sun's javac:
http://bugs.sun.com/bugdatabase/view_bug.do?bug_id=6278587
Created attachment 22429
Full source code that exhibits compilation errors

Full source code for the examples in the original description, along with some
others along the same lines.

This fails with 3.1M7 and 3.1RC1.
Thanks for the testcase. Is it really copyrighted ?
That's just a standard header that I have eclipse configured to insert in all
new .java files; you can probably safely ignore it in this case, since there's
nothing proprietary or specific to my company in there.  :)
Remember that inference performs in 2 passes. 
One pass using invocation arguments (15.12.2.7), and if some variables are still
unresolved
it will consider return types and variable formal bounds in a second iteration
(15.12.2.8).

Now let's look at each case:


/*making lists of super types works fine ...*/
makeSingletonList(new SuperType());


  This one is fine. T gets inferred to be 'SuperType' in first pass, no further
  inference needed, and T boundcheck is happy, since: SuperType &lt;:
SelfType&lt;SuperType&gt;
  per construction.


List&lt;SuperType&gt; lsup = makeSingletonList(new SuperType());

  Fine as well, though some expectation is set on return type, it isn't used since
  second pass is unneeded. Same resolution as above.


 
/*but we can't make a list of sub types; seems weird ...*/
List&lt;SubType&gt; lsub = makeSingletonList(new SubType()); //ERROR

  Error. First pass is all you need. It infers T to be 'SubType'. 
  But T boundcheck fails, since:  SubType  is not compatible with:  
SelfType&lt;SubType&gt;
  as mandated by T extends SelfType&lt;T&gt;.   SubType is only compatible with: 
SelfType&lt;SuperType&gt;
  like List&lt;String&gt; is not compatible with List&lt;Object&gt;.


/*can't even call it w/o assigning the return value:*/
makeSingletonList(new SubType()); //ERROR

  Same as above. As said already first pass on arguments is all you needed anyway.


To be continued...
Reposting to improve line wrapping.

Remember that inference performs in 2 passes. One pass using invocation
arguments (15.12.2.7), and if some variables are still unresolved it will
consider return types and variable formal bounds in a second iteration (15.12.2.8).

Now let's look at each case:


/*making lists of super types works fine ...*/
makeSingletonList(new SuperType());


  This one is fine. T gets inferred to be 'SuperType' in first pass, no further
inference needed, and T boundcheck is happy, since: SuperType &lt;:
SelfType&lt;SuperType&gt; per construction.


List&lt;SuperType&gt; lsup = makeSingletonList(new SuperType());

  Fine as well, though some expectation is set on return type, it isn't used
since second pass is unneeded. Same resolution as above.


 
/*but we can't make a list of sub types; seems weird ...*/
List&lt;SubType&gt; lsub = makeSingletonList(new SubType()); //ERROR

  Error. First pass is all you need. It infers T to be 'SubType'. 
  But T boundcheck fails, since:  SubType  is not compatible with:
SelfType&lt;SubType&gt; as mandated by T extends SelfType&lt;T&gt;. SubType is only
compatible with:  SelfType&lt;SuperType&gt;
  like List&lt;String&gt; is not compatible with List&lt;Object&gt;.


/*can't even call it w/o assigning the return value:*/
makeSingletonList(new SubType()); //ERROR

  Same as above. As said already first pass on arguments is all you needed anyway.


To be continued...
+1 for RC3.

Will not address within RC3. Too risky.

import java.util.*;

public class X {
 
static abstract class SelfType&lt;T extends SelfType&lt;T&gt;&gt;{
}
 
static class SuperType extends SelfType&lt;SuperType&gt;{
}
 
static class SubType extends SuperType{}
 
static &lt;T extends SelfType&lt;T&gt;&gt; List&lt;T&gt; makeSingletonList(T t){
	return Collections.singletonList(t);
}
 
static &lt;T extends SelfType&lt;T&gt;,S extends T&gt; List&lt;T&gt; makeSingletonList2(S s){
	return Collections.singletonList((T)s); // #0
}
 
public static void main(String[] args){
	makeSingletonList(new SuperType()); // #1 - OK
	List&lt;SuperType&gt; lsup = makeSingletonList(new SuperType()); // #2 - OK
	List&lt;SubType&gt; lsub = makeSingletonList(new SubType()); // #3 - ERROR
	makeSingletonList(new SubType()); // #4 - ERROR
	makeSingletonList2(new SubType()); // #5 - ERROR
	lsup = makeSingletonList2(new SubType()); // #6 - OK
	lsub = makeSingletonList2(new SubType()); // #7 - ERROR
	makeSingletonList2(new SuperType()); // #8 - OK
	lsup = makeSingletonList2(new SuperType()); // #9 - OK
}
}

Also our first discrepancy (#6) with javac got assessed to be a bug in javac
(see javac bug). The remaining one (#8) is likely a bug in our land due.

This is not critical for 3.1, however worth considering for some 3.1.1 update.
Created attachment 23536
Patch for ParameterizedGenericMethodBinding
Patch has 2 parts in generic method inference.

1. in absence of explicit expected return type (from assignment conversion)
Object should be picked up. Old code was using the upperbound instead when
return type is a type variable, which is redundant with what the inference will
do anyway. Simply removed upper bound access (as mandated by the spec). This
part is trivial, and removes unnecessary complexity (cleanup).

2. our inference on type parameter formal bounds was performing backwards: Ti &lt;&lt;
Bi, instead of Bi &gt;&gt; Ti as described in the spec. Fix is to make it consistent
with the spec, but still preserve Ti &lt;&lt; Bi in cases type parameter got resolved,
to exploit possible type information for building constraints. This behavior
matches javac expectation as well (though disagrees slightly with the spec).
Created attachment 23598
Patch for GenericTypeTest
Fixed in 3.1 maintenance branch
Verified in 3.2 M1 with build I20050808-2000.
Verified using M20050923-1430 for 3.1.1</WithOutStack>
  </Bug>
  <Bug>
    <BugId amount="98539" />
    <CreationDate amount="2005-06-06 11:58:00 -0400" />
    <DupId amount="" />
    <classification amount="Tools" />
    <Product amount="GEF" />
    <component amount="GEF (MVC) [GEF 3.x / Zest 1.x]" />
    <Version amount="3.1" />
    <rep_platform amount="PC" />
    <op_sys amount="Mac OS X - Carbon (unsup.)" />
    <priority amount="P3" />
    <bug_severity amount="normal" />
    <Summery>Use MOD1 instead of CTRL</Summery>
    <Patches amount="0" />
    <Stacktraces amount="0" />
    <SourceCodeRegions amount="0" />
    <Enumerations amount="3">
      <Enumeration lines="4">
        <Lines>
          <Line>- Ctrl+MouseWheel for zoom</Line>
          <Line>- Ctrl+= and Ctrl+- keybindings for zooming in and out</Line>
          <Line>The fixed mentioned in comment 2 were made in LogicEditor and GEF's plugin.xml</Line>
          <Line>respectively.</Line>
        </Lines>
      </Enumeration>
      <Enumeration lines="4">
        <Lines>
          <Line>- MarqueeSelectionTool to use mod1 instead of ctrl for toggling selection</Line>
          <Line>- ResizeTracker to do a centered resize with the mod1 key</Line>
          <Line>What about CTRL+SPACE?</Line>
          <Line>Fixed the case of Ctrl+Space as well.  Had to change the following classes:</Line>
        </Lines>
      </Enumeration>
      <Enumeration lines="14">
        <Lines>
          <Line>- Ctrl+Arrow for focus navigation</Line>
          <Line>- Ctrl+Shift+Arrow for scrolling (GraphicalViewerKeyHandler)</Line>
          <Line>- Ctrl+Arrow for jumping to the next part instead of the next anchor</Line>
          <Line>(ConnectionCreationTool and ConnectionEndpointTracker)</Line>
          <Line>- Ctrl+B for bold, Ctrl+I for italics, etc. in the text example (TextTool)</Line>
          <Line>Undid the Ctrl+Space change since we couldn't find anything similar on Mac.</Line>
          <Line>So, GraphicalViewerKeyHandler and PanningSelectionTool have been reverted.</Line>
          <Line>I already changed panning tool to ignore any modifiers.</Line>
          <Line>Of the cases listed in comment 5, we should fix the last one: I've verified</Line>
          <Line>that TextEdit on Mac uses Cmd+B/I/U.  That change would go in the text</Line>
          <Line>example.  There isn't a need to fix the other cases because we haven't found</Line>
          <Line>any similar cases to be compared against on Mac.  There is no focus navigation</Line>
          <Line>independent of selection navigation on Mac, as far as I can tell.  What do you</Line>
          <Line>think, Randy?</Line>
        </Lines>
      </Enumeration>
    </Enumerations>
    <bug_status amount="RESOLVED" />
    <resolution amount="FIXED" />
    <WithStack>On the MAC, toggle is MOD1.  CTRL is used for context menu, so MOD1 must be used
for cloning too.
fixed in HEAD
This also applies to other uses of Ctrl.  I've fixed the following two cases:

- Ctrl+MouseWheel for zoom
- Ctrl+= and Ctrl+- keybindings for zooming in and out
The fixed mentioned in comment 2 were made in LogicEditor and GEF's plugin.xml 
respectively.

I've also fixed:
- MarqueeSelectionTool to use mod1 instead of ctrl for toggling selection
- ResizeTracker to do a centered resize with the mod1 key
What about CTRL+SPACE?
Fixed the case of Ctrl+Space as well.  Had to change the following classes:

GraphicalViewerKeyHandler#processSelect()
PanningSelectionTool#acceptSpaceBar() - Not accepted if Mod1 is down as well

I've also fixed EDiagramEditor so that, like LogicEditor, it uses 
Mod1+MouseWheel for zooming.

Reopening bug so that we can consider whether we need to change to MOD1 in any 
of the following cases:

- Ctrl+Arrow for focus navigation
- Ctrl+Shift+Arrow for scrolling (GraphicalViewerKeyHandler)
- Ctrl+Arrow for jumping to the next part instead of the next anchor 
(ConnectionCreationTool and ConnectionEndpointTracker)
- Ctrl+B for bold, Ctrl+I for italics, etc. in the text example (TextTool)
Undid the Ctrl+Space change since we couldn't find anything similar on Mac.  
So, GraphicalViewerKeyHandler and PanningSelectionTool have been reverted.
I already changed panning tool to ignore any modifiers.
Of the cases listed in comment 5, we should fix the last one: I've verified 
that TextEdit on Mac uses Cmd+B/I/U.  That change would go in the text 
example.  There isn't a need to fix the other cases because we haven't found 
any similar cases to be compared against on Mac.  There is no focus navigation 
independent of selection navigation on Mac, as far as I can tell.  What do you 
think, Randy?

My vote is to fix text tool and mark this bug as resolved.
Feel free to change Text example style keybindings and mark as fixed.
+1
fixed &gt; 0616

updated text example's plugin.xml
As part of bug #67541, fixed that ResizeTracker did not use MOD1 instead of CTRL in those calculations related to centered resize (but only to infer the value for setCenteredResize of the request).
(In reply to comment #3)
&gt; The fixed mentioned in comment 2 were made in LogicEditor and GEF's plugin.xml 
&gt; respectively.
&gt; 
&gt; I've also fixed:
&gt; - MarqueeSelectionTool to use mod1 instead of ctrl for toggling selection
&gt; - ResizeTracker to do a centered resize with the mod1 key

On MacOS, centered resize is actually performed using the ALT key, while MOD1 corresponds to CMD, so the fix to resize tracker does not seem to be valid.
Fixed wihtin ResizeTracker that centered resize is actually performed using the ALT on Mac as well. Introduced modifier constants within AbstractTool, DragEditPartsTracker, and ResizeTracker to specify key modifier for logical operations.</WithStack>
    <WithOutStack>On the MAC, toggle is MOD1.  CTRL is used for context menu, so MOD1 must be used
for cloning too.
fixed in HEAD
This also applies to other uses of Ctrl.  I've fixed the following two cases:

- Ctrl+MouseWheel for zoom
- Ctrl+= and Ctrl+- keybindings for zooming in and out
The fixed mentioned in comment 2 were made in LogicEditor and GEF's plugin.xml 
respectively.

I've also fixed:
- MarqueeSelectionTool to use mod1 instead of ctrl for toggling selection
- ResizeTracker to do a centered resize with the mod1 key
What about CTRL+SPACE?
Fixed the case of Ctrl+Space as well.  Had to change the following classes:

GraphicalViewerKeyHandler#processSelect()
PanningSelectionTool#acceptSpaceBar() - Not accepted if Mod1 is down as well

I've also fixed EDiagramEditor so that, like LogicEditor, it uses 
Mod1+MouseWheel for zooming.

Reopening bug so that we can consider whether we need to change to MOD1 in any 
of the following cases:

- Ctrl+Arrow for focus navigation
- Ctrl+Shift+Arrow for scrolling (GraphicalViewerKeyHandler)
- Ctrl+Arrow for jumping to the next part instead of the next anchor 
(ConnectionCreationTool and ConnectionEndpointTracker)
- Ctrl+B for bold, Ctrl+I for italics, etc. in the text example (TextTool)
Undid the Ctrl+Space change since we couldn't find anything similar on Mac.  
So, GraphicalViewerKeyHandler and PanningSelectionTool have been reverted.
I already changed panning tool to ignore any modifiers.
Of the cases listed in comment 5, we should fix the last one: I've verified 
that TextEdit on Mac uses Cmd+B/I/U.  That change would go in the text 
example.  There isn't a need to fix the other cases because we haven't found 
any similar cases to be compared against on Mac.  There is no focus navigation 
independent of selection navigation on Mac, as far as I can tell.  What do you 
think, Randy?

My vote is to fix text tool and mark this bug as resolved.
Feel free to change Text example style keybindings and mark as fixed.
+1
fixed &gt; 0616

updated text example's plugin.xml
As part of bug #67541, fixed that ResizeTracker did not use MOD1 instead of CTRL in those calculations related to centered resize (but only to infer the value for setCenteredResize of the request).
(In reply to comment #3)
&gt; The fixed mentioned in comment 2 were made in LogicEditor and GEF's plugin.xml 
&gt; respectively.
&gt; 
&gt; I've also fixed:
&gt; - MarqueeSelectionTool to use mod1 instead of ctrl for toggling selection
&gt; - ResizeTracker to do a centered resize with the mod1 key

On MacOS, centered resize is actually performed using the ALT key, while MOD1 corresponds to CMD, so the fix to resize tracker does not seem to be valid.
Fixed wihtin ResizeTracker that centered resize is actually performed using the ALT on Mac as well. Introduced modifier constants within AbstractTool, DragEditPartsTracker, and ResizeTracker to specify key modifier for logical operations.</WithOutStack>
  </Bug>
  <Bug>
    <BugId amount="98540" />
    <CreationDate amount="2005-06-06 12:12:00 -0400" />
    <DupId amount="" />
    <classification amount="Eclipse" />
    <Product amount="Platform" />
    <component amount="SWT" />
    <Version amount="3.1" />
    <rep_platform amount="PC" />
    <op_sys amount="Linux" />
    <priority amount="P3" />
    <bug_severity amount="normal" />
    <Summery>Eclipse shells open on different desktops</Summery>
    <Patches amount="0" />
    <Stacktraces amount="0" />
    <SourceCodeRegions amount="0" />
    <Enumerations amount="0" />
    <bug_status amount="NEW" />
    <resolution amount="" />
    <WithStack>N20050606-0010, GTK+ 2.6.4, KDE 3.3.2, X.org 6.8.2, Linux 2.6.11

I launch the Eclipse process on one desktop, and then switch to another.  The
splash shell opens on the second desktop, not the one from which it was
launched.  This is different than other apps.  I switch to a third desktop, and
the progress shell opens on the third desktop; not the first desktop, from which
Eclipse was launched, and not the second desktop, where it's parent process'
shell exists.  Move to a fourth desktop, and the Eclipse main window will open
on the fourth desktop.
This can be solved in some cases if the desktop environment uses the startup
notification spec.  See:

http://standards.freedesktop.org/startup-notification-spec/startup-notification-latest.txt

We would need to ensure that both the splash screen and the eclipse process have
the DESKTOP_STARTUP_ID environment variable passed in from the launcher
application correctly, and we may need to call
gtk_window_set_auto_startup_notification (FALSE) for the process that shows the
splash screen to ensure that it does not end the startup sequence.</WithStack>
    <WithOutStack>N20050606-0010, GTK+ 2.6.4, KDE 3.3.2, X.org 6.8.2, Linux 2.6.11

I launch the Eclipse process on one desktop, and then switch to another.  The
splash shell opens on the second desktop, not the one from which it was
launched.  This is different than other apps.  I switch to a third desktop, and
the progress shell opens on the third desktop; not the first desktop, from which
Eclipse was launched, and not the second desktop, where it's parent process'
shell exists.  Move to a fourth desktop, and the Eclipse main window will open
on the fourth desktop.
This can be solved in some cases if the desktop environment uses the startup
notification spec.  See:

http://standards.freedesktop.org/startup-notification-spec/startup-notification-latest.txt

We would need to ensure that both the splash screen and the eclipse process have
the DESKTOP_STARTUP_ID environment variable passed in from the launcher
application correctly, and we may need to call
gtk_window_set_auto_startup_notification (FALSE) for the process that shows the
splash screen to ensure that it does not end the startup sequence.</WithOutStack>
  </Bug>
  <Bug>
    <BugId amount="98541" />
    <CreationDate amount="2005-06-06 12:13:00 -0400" />
    <DupId amount="" />
    <classification amount="Eclipse" />
    <Product amount="Platform" />
    <component amount="UI" />
    <Version amount="3.1" />
    <rep_platform amount="All" />
    <op_sys amount="All" />
    <priority amount="P3" />
    <bug_severity amount="normal" />
    <Summery>Start-up progress is still a bit off</Summery>
    <Patches amount="0" />
    <Stacktraces amount="0" />
    <SourceCodeRegions amount="0" />
    <Enumerations amount="0" />
    <bug_status amount="RESOLVED" />
    <resolution amount="WORKSFORME" />
    <WithStack>N20050606-0010, GTK+ 2.6.4, KDE 3.3.2, X.org 6.8.2, Linux 2.6.11

I've had a few brief conversations with people about the start-up progress
screen, and I'd just like to mention a few thoughts about it.

+ Overlaying the progress window on top of the splash window looks a bit weird.
 It obscures most of the logo, but not all of it ... so little pieces stick out.
 It seems a little bit random.  Wider than the splash window, but shorter. 
Obscures part of the logo, but not all of it.

+ (From some thoughts on IRC) It might be nice, for the final release of the
Eclipse 3.1 SDK, to disable the start-up progress window.  Downstream clients
will still have it available to them.

+ (From a conversation with Billy) Creating a shell on top of a shell can create
some random problems on some *NIX window managers.  Both the shells are created
with no trim, which makes them a bit interesting to manipulate.  It could cause
unexpected problems with z-ordering.  This is hypothetical, but controlling
z-order of two shells from different processes is a tricky problem on *NIX.  

+ In general, creating two shells is irritating for *NIX users.  Many *NIX
window managers have the concept of virtual desktops.  One usage pattern is to
launch a process in one virtual desktop and then switch to another while waiting
for the process to finish loading.  This way you can carry on work while
waiting, and you won't have shells popping on top of what you're doing. 
Already, the Eclipse splash screen can take too long to load, which means it can
sometimes follow me to the second desktop (Bug 98540).  Now, there is a second
progress shell which opens even later.  This progress shell almost always
follows me to my second desktop.  In some set-ups, shells are placed manually by
the user.  This causes similar irritation as the user must click once to place
the splash, and then a second time to place the progress.  I'm not sure what
happens if both shells try to open in rapid succession.
see also comments in bug 98497
This has been fixed for 3.2.</WithStack>
    <WithOutStack>N20050606-0010, GTK+ 2.6.4, KDE 3.3.2, X.org 6.8.2, Linux 2.6.11

I've had a few brief conversations with people about the start-up progress
screen, and I'd just like to mention a few thoughts about it.

+ Overlaying the progress window on top of the splash window looks a bit weird.
 It obscures most of the logo, but not all of it ... so little pieces stick out.
 It seems a little bit random.  Wider than the splash window, but shorter. 
Obscures part of the logo, but not all of it.

+ (From some thoughts on IRC) It might be nice, for the final release of the
Eclipse 3.1 SDK, to disable the start-up progress window.  Downstream clients
will still have it available to them.

+ (From a conversation with Billy) Creating a shell on top of a shell can create
some random problems on some *NIX window managers.  Both the shells are created
with no trim, which makes them a bit interesting to manipulate.  It could cause
unexpected problems with z-ordering.  This is hypothetical, but controlling
z-order of two shells from different processes is a tricky problem on *NIX.  

+ In general, creating two shells is irritating for *NIX users.  Many *NIX
window managers have the concept of virtual desktops.  One usage pattern is to
launch a process in one virtual desktop and then switch to another while waiting
for the process to finish loading.  This way you can carry on work while
waiting, and you won't have shells popping on top of what you're doing. 
Already, the Eclipse splash screen can take too long to load, which means it can
sometimes follow me to the second desktop (Bug 98540).  Now, there is a second
progress shell which opens even later.  This progress shell almost always
follows me to my second desktop.  In some set-ups, shells are placed manually by
the user.  This causes similar irritation as the user must click once to place
the splash, and then a second time to place the progress.  I'm not sure what
happens if both shells try to open in rapid succession.
see also comments in bug 98497
This has been fixed for 3.2.</WithOutStack>
  </Bug>
  <Bug>
    <BugId amount="98542" />
    <CreationDate amount="2005-06-06 12:18:00 -0400" />
    <DupId amount="" />
    <classification amount="Eclipse" />
    <Product amount="JDT" />
    <component amount="Text" />
    <Version amount="3.1" />
    <rep_platform amount="PC" />
    <op_sys amount="All" />
    <priority amount="P3" />
    <bug_severity amount="trivial" />
    <Summery>[preferences] missing node ids for new preference pages</Summery>
    <Patches amount="0" />
    <Stacktraces amount="0" />
    <SourceCodeRegions amount="0" />
    <Enumerations amount="0" />
    <bug_status amount="VERIFIED" />
    <resolution amount="FIXED" />
    <WithStack>N20050606

preference page set opened from the java editor's context menu&gt; preferences does
not yet include the additional preference pages added during 3.1
proposing for RC2
Approving for 3.1 RC2.
fixed &gt; 20050606
Verified using I20050610-0010</WithStack>
    <WithOutStack>N20050606

preference page set opened from the java editor's context menu&gt; preferences does
not yet include the additional preference pages added during 3.1
proposing for RC2
Approving for 3.1 RC2.
fixed &gt; 20050606
Verified using I20050610-0010</WithOutStack>
  </Bug>
  <Bug>
    <BugId amount="98543" />
    <CreationDate amount="2005-06-06 12:28:00 -0400" />
    <DupId amount="" />
    <classification amount="Eclipse" />
    <Product amount="JDT" />
    <component amount="UI" />
    <Version amount="3.1" />
    <rep_platform amount="Macintosh" />
    <op_sys amount="All" />
    <priority amount="P3" />
    <bug_severity amount="major" />
    <Summery>Ability to add a larger number of modules (e.g. recursively starting from a root directory)</Summery>
    <Patches amount="0" />
    <Stacktraces amount="0" />
    <SourceCodeRegions amount="0" />
    <Enumerations amount="0" />
    <bug_status amount="RESOLVED" />
    <resolution amount="WORKSFORME" />
    <WithStack>We have a project with approx. 50 (!) modules. Since Eclipse does not allow to manually edit a text file to 
add modules or change their paths, it would be very good if it could add them recursivlely starting from a 
selected root-directory.

I rate it major, because otherwise setting up the project for our team is a night-mare and would keep us 
from using Eclipse at all.
Sorry but I don't have the patience anymore for enhancement requests that are
logged with a minimal explanation of what is desired. The fact that you marked
an enhancement request major doesn't help either. 

Now, if you really want this to be considered, you need to provide more detail
and enter it as an enhancement request. Before you do that, you should look into
either using a defined module alias in the CVSROOT/modules file to give you a
single click checkout or you could look into exporting a Team project set that
would allow you to share your workspace setup with your co-workers. If neither
of these is adequate, then, by all means, enter an enhancement request with a
detail description of your setup and how your proposed enhancement would solve it.
Why do you think, this is CVS related? I'm talking about modules in Eclipse, not in CVS.

Unfortuntately Eclipse does not support editing an text file to manually add all modules. At the moment, I 
need to add them all manually with the UI. Since our project consists of approx. 50 modules, this really is 
a PITA. I want to be able to give Eclipse a root directory and it searches all subdirectories to pick 
the .project files and adds them as modules. Maybe it can present a list with checkboxes, so I can exclude 
one or another, but that is not really necessary.
Thomas, 

actually I don't understand your request either. To what does the term module
refer to? Eclipse doesn't have the concept of a module. The only component that
offers something like a module in Eclipse is CVS. That's why I moved it to CVS.

Are you talking about working sets ? Can you please outline your workspace setup
explain the term module and what "text file" you would like to edit "to manually
add all text files".
Well, modules form a project. Each module can be compiled for its own and might
depend on other modules of that project. Unfortunately Eclipse does not name
them "modules", but "projects", whereas "projects" are named "working sets" (or
something like that). Do you understand me now?
Not sure, but here is what I read out of it (transformed into Eclipse speak):

You have a project A, which depends on other artifacts. These artifacts are
either internal, external libraries or other projects. Is this correct ?

The two eclipse files that contain the information about which artifacts are
referenced are the .classpath and .project file in the root directory of your
project. They are normally filtered out. To see the files disable the ".*"
filter in the package explorer.

To easy the setup I see the following possibilities:

- you can define User defined libraries which group a set of external and
  internal libraries together. A user library can be exported and imported.

- if you are working in a team using a repository the project can refer the
  library artifacts using class path variables and the setup itself can be
  shared via the repository. The only thing that the team has to do is to
  adapt the class path variable to the physical layout of the disk of the
  machines they are working on.
One additional note: if a project can be devided into several groups of source
files the concept to use in Eclipse is a source folder. For example the JDT
project is structured into the following source folders: ui, ui refactoring,
core refactoring and corext.
Or are you just saying that you want a Project Import that allows you to import
several projects at once? If it is, the place for this bug is probably Platform
UI since they own project import. Currently, the import wizard will scan all
subfolders of the chosen directory for folders that contain a .project file. You
can then decide which of those you want to import. If this doesn't meet your
needs, you should move this bug there with a description of why the current
support is inadequate.
(In reply to comment #5)
&gt; Not sure, but here is what I read out of it (transformed into Eclipse speak):
&gt; 
&gt; You have a project A, which depends on other artifacts. These artifacts are
&gt; either internal, external libraries or other projects. Is this correct ?

Yes, we have approx. 50 .classpath/.project pairs we want to easily add as
modules (or name it "Java-projects" in Eclipse-lang) to Eclipse.
(In reply to comment #6)
&gt; One additional note: if a project can be devided into several groups of source
&gt; files the concept to use in Eclipse is a source folder. For example the JDT
&gt; project is structured into the following source folders: ui, ui refactoring,
&gt; core refactoring and corext.

Are you sure, the source folders can depend on others to ensure the right
dependencies? Could each source folder have its own output path?
Source folders inside one project can depend on each other (even cycles between
source folders are allowed). The builder will take care about compiling the CUs
in the right order. Each source folder can have its own output folder. Go to
build path properties -&gt; source tab and check "Allow output ... for source
folders". If checked each source folder has a sub node to specify a output folder.
Thomas, does the source folder setup work for you ?

Since we are in a mode where we only consider critical fixes for 3.1 this as to
wait.
(In reply to comment #11)
&gt; Thomas, does the source folder setup work for you ?

Yes, it works, but does not solve my needs, because I need to ensure
dependencies between different "modules". For example, in the "database" module
I must not use classes from the "gui" module, but the opposite direction is
allowed. It looks like I only can make this work in Eclipse using different
(Eclipse-) projects. But  adding our 50 modules (aka projects) to a workspace
takes ages.
It looks like there already is the feature I was searching for:
File|Import/Export, Import|Existing Projects into Workspace. Sorry for so much
noice.</WithStack>
    <WithOutStack>We have a project with approx. 50 (!) modules. Since Eclipse does not allow to manually edit a text file to 
add modules or change their paths, it would be very good if it could add them recursivlely starting from a 
selected root-directory.

I rate it major, because otherwise setting up the project for our team is a night-mare and would keep us 
from using Eclipse at all.
Sorry but I don't have the patience anymore for enhancement requests that are
logged with a minimal explanation of what is desired. The fact that you marked
an enhancement request major doesn't help either. 

Now, if you really want this to be considered, you need to provide more detail
and enter it as an enhancement request. Before you do that, you should look into
either using a defined module alias in the CVSROOT/modules file to give you a
single click checkout or you could look into exporting a Team project set that
would allow you to share your workspace setup with your co-workers. If neither
of these is adequate, then, by all means, enter an enhancement request with a
detail description of your setup and how your proposed enhancement would solve it.
Why do you think, this is CVS related? I'm talking about modules in Eclipse, not in CVS.

Unfortuntately Eclipse does not support editing an text file to manually add all modules. At the moment, I 
need to add them all manually with the UI. Since our project consists of approx. 50 modules, this really is 
a PITA. I want to be able to give Eclipse a root directory and it searches all subdirectories to pick 
the .project files and adds them as modules. Maybe it can present a list with checkboxes, so I can exclude 
one or another, but that is not really necessary.
Thomas, 

actually I don't understand your request either. To what does the term module
refer to? Eclipse doesn't have the concept of a module. The only component that
offers something like a module in Eclipse is CVS. That's why I moved it to CVS.

Are you talking about working sets ? Can you please outline your workspace setup
explain the term module and what "text file" you would like to edit "to manually
add all text files".
Well, modules form a project. Each module can be compiled for its own and might
depend on other modules of that project. Unfortunately Eclipse does not name
them "modules", but "projects", whereas "projects" are named "working sets" (or
something like that). Do you understand me now?
Not sure, but here is what I read out of it (transformed into Eclipse speak):

You have a project A, which depends on other artifacts. These artifacts are
either internal, external libraries or other projects. Is this correct ?

The two eclipse files that contain the information about which artifacts are
referenced are the .classpath and .project file in the root directory of your
project. They are normally filtered out. To see the files disable the ".*"
filter in the package explorer.

To easy the setup I see the following possibilities:

- you can define User defined libraries which group a set of external and
  internal libraries together. A user library can be exported and imported.

- if you are working in a team using a repository the project can refer the
  library artifacts using class path variables and the setup itself can be
  shared via the repository. The only thing that the team has to do is to
  adapt the class path variable to the physical layout of the disk of the
  machines they are working on.
One additional note: if a project can be devided into several groups of source
files the concept to use in Eclipse is a source folder. For example the JDT
project is structured into the following source folders: ui, ui refactoring,
core refactoring and corext.
Or are you just saying that you want a Project Import that allows you to import
several projects at once? If it is, the place for this bug is probably Platform
UI since they own project import. Currently, the import wizard will scan all
subfolders of the chosen directory for folders that contain a .project file. You
can then decide which of those you want to import. If this doesn't meet your
needs, you should move this bug there with a description of why the current
support is inadequate.
(In reply to comment #5)
&gt; Not sure, but here is what I read out of it (transformed into Eclipse speak):
&gt; 
&gt; You have a project A, which depends on other artifacts. These artifacts are
&gt; either internal, external libraries or other projects. Is this correct ?

Yes, we have approx. 50 .classpath/.project pairs we want to easily add as
modules (or name it "Java-projects" in Eclipse-lang) to Eclipse.
(In reply to comment #6)
&gt; One additional note: if a project can be devided into several groups of source
&gt; files the concept to use in Eclipse is a source folder. For example the JDT
&gt; project is structured into the following source folders: ui, ui refactoring,
&gt; core refactoring and corext.

Are you sure, the source folders can depend on others to ensure the right
dependencies? Could each source folder have its own output path?
Source folders inside one project can depend on each other (even cycles between
source folders are allowed). The builder will take care about compiling the CUs
in the right order. Each source folder can have its own output folder. Go to
build path properties -&gt; source tab and check "Allow output ... for source
folders". If checked each source folder has a sub node to specify a output folder.
Thomas, does the source folder setup work for you ?

Since we are in a mode where we only consider critical fixes for 3.1 this as to
wait.
(In reply to comment #11)
&gt; Thomas, does the source folder setup work for you ?

Yes, it works, but does not solve my needs, because I need to ensure
dependencies between different "modules". For example, in the "database" module
I must not use classes from the "gui" module, but the opposite direction is
allowed. It looks like I only can make this work in Eclipse using different
(Eclipse-) projects. But  adding our 50 modules (aka projects) to a workspace
takes ages.
It looks like there already is the feature I was searching for:
File|Import/Export, Import|Existing Projects into Workspace. Sorry for so much
noice.</WithOutStack>
  </Bug>
  <Bug>
    <BugId amount="98544" />
    <CreationDate amount="2005-06-06 12:42:00 -0400" />
    <DupId amount="" />
    <classification amount="Eclipse" />
    <Product amount="Platform" />
    <component amount="UI" />
    <Version amount="3.1" />
    <rep_platform amount="All" />
    <op_sys amount="All" />
    <priority amount="P3" />
    <bug_severity amount="normal" />
    <Summery>[Progress] Progress view has preference dialog with only one preference</Summery>
    <Patches amount="0" />
    <Stacktraces amount="0" />
    <SourceCodeRegions amount="0" />
    <Enumerations amount="0" />
    <bug_status amount="RESOLVED" />
    <resolution amount="WONTFIX" />
    <WithStack>N20050606-0010, GTK+ 2.6.4, KDE 3.3.2, X.org 6.8.2, Linux 2.6.11

The progress view has a preference dialog reachable from the view menu.  This
dialog only contains one preference.  It would be more consistent with other
views for this preference to be controlled via a check box menu item in the view
menu.
It was there as a proof of concept for view preferences. More will be coming
when I get a chance to work on it again.
This was introduced in 3.0, and it seems unlikely that more preferences will be
added to this view in 3.1.  I would recommend switching to a menu-controlled
preference for 3.1, to fall more inline with current best practices outlined in
the Eclipse User Interface Guidelines
("http://www.eclipse.org/articles/Article-UI-Guidelines/Contents.html") and
highlighted in Bug 98234 comment #3.

We are the user interface team, and people look to us for examples.

And this our example of a view based preference. No one else used one and we
didn't have another candidate so we chose this one to ship.
I agree with comment 2. As a user, I am not interested in a proof of concept for view preferences.

Other examples for view-based preferences can be found in the Variables and in the Synchronize view.</WithStack>
    <WithOutStack>N20050606-0010, GTK+ 2.6.4, KDE 3.3.2, X.org 6.8.2, Linux 2.6.11

The progress view has a preference dialog reachable from the view menu.  This
dialog only contains one preference.  It would be more consistent with other
views for this preference to be controlled via a check box menu item in the view
menu.
It was there as a proof of concept for view preferences. More will be coming
when I get a chance to work on it again.
This was introduced in 3.0, and it seems unlikely that more preferences will be
added to this view in 3.1.  I would recommend switching to a menu-controlled
preference for 3.1, to fall more inline with current best practices outlined in
the Eclipse User Interface Guidelines
("http://www.eclipse.org/articles/Article-UI-Guidelines/Contents.html") and
highlighted in Bug 98234 comment #3.

We are the user interface team, and people look to us for examples.

And this our example of a view based preference. No one else used one and we
didn't have another candidate so we chose this one to ship.
I agree with comment 2. As a user, I am not interested in a proof of concept for view preferences.

Other examples for view-based preferences can be found in the Variables and in the Synchronize view.</WithOutStack>
  </Bug>
  <Bug>
    <BugId amount="98545" />
    <CreationDate amount="2005-06-06 12:47:00 -0400" />
    <DupId amount="" />
    <classification amount="Eclipse" />
    <Product amount="PDE" />
    <component amount="UI" />
    <Version amount="3.1" />
    <rep_platform amount="PC" />
    <op_sys amount="Windows XP" />
    <priority amount="P3" />
    <bug_severity amount="trivial" />
    <Summery>UI Tweak - Build Page UI</Summery>
    <Patches amount="0" />
    <Stacktraces amount="0" />
    <SourceCodeRegions amount="0" />
    <Enumerations amount="0" />
    <bug_status amount="RESOLVED" />
    <resolution amount="FIXED" />
    <WithStack>I've often wished the build page had a better strategy for sharing the UI space
between the Runtime information and the Binary/Source Build information.

Quite often you have to scroll the build info while the runtime area is full of
white(unused) space.

I have a patch that is a one line tweak to improve the UI (IMHO).
A wish for this in a 3.1.1 or so :-)
Created attachment 22432
build page ui tweak

patch per bug report
Generally I like it.  
The number of JARs listed in the top section is typically &lt; 5.
The problem is that the source folders in the top right could be numerous (as 
in the jdt.core case). so we have to find a happy medium.  perhaps a 
reasonable minimum height for the top viewers.

I'd be happy to try a different strategy to account for such a structure - but
I'm not sure I follow.

jdt.core.  I imported both the 3.1 and 3.0 plug-ins into my workspace as source
- neither had more than one jar (or a . ref in 3.1) and the one source folder as
well.  

I also tried ant and eclipse.ant, thinking they might be odd (ant having lots of
JARs), but ant does not have a build.properties - so no build page and
eclipse.ant was similar to others (one jar/src folder).

I forced my test case plugin to have multiple jars and one jar with many source
folders using the current patch.  The attachment is what I see happening in the
UI based on the default PDE perspective.  Both the JAR and Src folder lists end
up with scroll bars when required.

Adding attachement in a moment - Bugsilly keeps saying I'm not sending the file.
Created attachment 22515
Build page ui test
the thing is if you import jdt.core from an Eclipse install, PDE generates a 
build.properties from scratch.  I am talking about jdt.core as it appears in 
HEAD.
Created attachment 22555
jdt.core in current/patched UI

I checked out jdt.core and this image shows the current build page ui on the
left and patched ui on the right.  The Extra Classpath area is visible as it
has content, usually toggled closed when empty.
The patched UI does require scrolling for the source folder list.

If the Extra Classpath area is toggled shut and the editor made full screen,
the patched editor comes darn close to not having to scroll the Bin/Src Build
area at all for the jdt.core plugin.  The current UI does not even come close
when in full screen mode.

The issue seems minor to me; most plug-ins don't have so many src folders, but
many have a decent list of contents such that the UI for the Build page is
difficult (always have to scroll the Bin/Src Build area).

Seems like with the patch I higher percentage of the users would never have to
scroll the Bin/Src Build area.
Sold.  thanks.</WithStack>
    <WithOutStack>I've often wished the build page had a better strategy for sharing the UI space
between the Runtime information and the Binary/Source Build information.

Quite often you have to scroll the build info while the runtime area is full of
white(unused) space.

I have a patch that is a one line tweak to improve the UI (IMHO).
A wish for this in a 3.1.1 or so :-)
Created attachment 22432
build page ui tweak

patch per bug report
Generally I like it.  
The number of JARs listed in the top section is typically &lt; 5.
The problem is that the source folders in the top right could be numerous (as 
in the jdt.core case). so we have to find a happy medium.  perhaps a 
reasonable minimum height for the top viewers.

I'd be happy to try a different strategy to account for such a structure - but
I'm not sure I follow.

jdt.core.  I imported both the 3.1 and 3.0 plug-ins into my workspace as source
- neither had more than one jar (or a . ref in 3.1) and the one source folder as
well.  

I also tried ant and eclipse.ant, thinking they might be odd (ant having lots of
JARs), but ant does not have a build.properties - so no build page and
eclipse.ant was similar to others (one jar/src folder).

I forced my test case plugin to have multiple jars and one jar with many source
folders using the current patch.  The attachment is what I see happening in the
UI based on the default PDE perspective.  Both the JAR and Src folder lists end
up with scroll bars when required.

Adding attachement in a moment - Bugsilly keeps saying I'm not sending the file.
Created attachment 22515
Build page ui test
the thing is if you import jdt.core from an Eclipse install, PDE generates a 
build.properties from scratch.  I am talking about jdt.core as it appears in 
HEAD.
Created attachment 22555
jdt.core in current/patched UI

I checked out jdt.core and this image shows the current build page ui on the
left and patched ui on the right.  The Extra Classpath area is visible as it
has content, usually toggled closed when empty.
The patched UI does require scrolling for the source folder list.

If the Extra Classpath area is toggled shut and the editor made full screen,
the patched editor comes darn close to not having to scroll the Bin/Src Build
area at all for the jdt.core plugin.  The current UI does not even come close
when in full screen mode.

The issue seems minor to me; most plug-ins don't have so many src folders, but
many have a decent list of contents such that the UI for the Build page is
difficult (always have to scroll the Bin/Src Build area).

Seems like with the patch I higher percentage of the users would never have to
scroll the Bin/Src Build area.
Sold.  thanks.</WithOutStack>
  </Bug>
  <Bug>
    <BugId amount="98546" />
    <CreationDate amount="2005-06-06 12:50:00 -0400" />
    <DupId amount="" />
    <classification amount="Tools" />
    <Product amount="TPTP Resource Monitoring" />
    <component amount="Platform.UI.StatsPerfViewers" />
    <Version amount="4.0" />
    <rep_platform amount="PC" />
    <op_sys amount="Windows XP" />
    <priority amount="P3" />
    <bug_severity amount="normal" />
    <Summery>3.1: tct 152- Translation clarification</Summery>
    <Patches amount="0" />
    <Stacktraces amount="0" />
    <SourceCodeRegions amount="0" />
    <Enumerations amount="0" />
    <bug_status amount="CLOSED" />
    <resolution amount="FIXED" />
    <WithStack>File \eclipse\plugins\org.eclipse.hyades.statistical.ui\plugin.properties

What is the difference between "Free" and "Available" in this context?
Should they be translated differently in this file?

LINUX.AGENT.21 = Available Space Size
LINUX.AGENT.19 = Free Space Size
*** Bug 98573 has been marked as a duplicate of this bug. ***
Sorry for the delay - 

Yes, they should be translated differently. Available space is space that is
currently available for the user to store data in. Free data is the total free
space on the system. A user might not be able to fill this space, or some of it
might be reserved for other uses.


marking as fixed
As of TPTP 4.6.0, TPTP is in maintenance mode and focusing on improving quality by resolving relevant enhancements/defects and increasing test coverage through test creation, automation, Build Verification Tests (BVTs), and expanded run-time execution. As part of the TPTP Bugzilla housecleaning process (see http://wiki.eclipse.org/Bugzilla_Housecleaning_Processes), this enhancement/defect is verified/closed by the Project Lead since this enhancement/defect has been resolved and unverified for more than 1 year and considered to be fixed. If this enhancement/defect is still unresolved and reproducible in the latest TPTP release (http://www.eclipse.org/tptp/home/downloads/), please re-open.</WithStack>
    <WithOutStack>File \eclipse\plugins\org.eclipse.hyades.statistical.ui\plugin.properties

What is the difference between "Free" and "Available" in this context?
Should they be translated differently in this file?

LINUX.AGENT.21 = Available Space Size
LINUX.AGENT.19 = Free Space Size
*** Bug 98573 has been marked as a duplicate of this bug. ***
Sorry for the delay - 

Yes, they should be translated differently. Available space is space that is
currently available for the user to store data in. Free data is the total free
space on the system. A user might not be able to fill this space, or some of it
might be reserved for other uses.


marking as fixed
As of TPTP 4.6.0, TPTP is in maintenance mode and focusing on improving quality by resolving relevant enhancements/defects and increasing test coverage through test creation, automation, Build Verification Tests (BVTs), and expanded run-time execution. As part of the TPTP Bugzilla housecleaning process (see http://wiki.eclipse.org/Bugzilla_Housecleaning_Processes), this enhancement/defect is verified/closed by the Project Lead since this enhancement/defect has been resolved and unverified for more than 1 year and considered to be fixed. If this enhancement/defect is still unresolved and reproducible in the latest TPTP release (http://www.eclipse.org/tptp/home/downloads/), please re-open.</WithOutStack>
  </Bug>
  <Bug>
    <BugId amount="98547" />
    <CreationDate amount="2005-06-06 12:51:00 -0400" />
    <DupId amount="" />
    <classification amount="Tools" />
    <Product amount="AJDT" />
    <component amount="UI" />
    <Version amount="1.2.0" />
    <rep_platform amount="PC" />
    <op_sys amount="Windows XP" />
    <priority amount="P3" />
    <bug_severity amount="normal" />
    <Summery>StringIndexOutOfBoundsException when using References or Call Hiearchy</Summery>
    <Patches amount="0" />
    <Stacktraces amount="3">
      <Stacktrace timestamp="1437341279363">
        <Exception>java.lang.StringIndexOutOfBoundsException</Exception>
        <Reason>String index out of range: -1</Reason>
        <Frames>
          <Frame depth="0">java.lang.String.substring(Unknown Source)</Frame>
          <Frame depth="1">org.eclipse.jdt.internal.core.util.Util.getNameWithoutJavaLikeExtension(Util.java:840)</Frame>
          <Frame depth="2">org.eclipse.jdt.internal.core.search.matching.JavaSearchNameEnvironment.&lt;init&gt;(JavaSearchNameEnvironment.java:62)</Frame>
          <Frame depth="3">org.eclipse.jdt.internal.core.search.matching.MatchLocator.initialize(MatchLocator.java:853)</Frame>
          <Frame depth="4">org.eclipse.jdt.internal.core.search.matching.SuperTypeNamesCollector.collect(SuperTypeNamesCollector.java:154)</Frame>
          <Frame depth="5">org.eclipse.jdt.internal.core.search.matching.MethodLocator.initializePolymorphicSearch(MethodLocator.java:48)</Frame>
          <Frame depth="6">org.eclipse.jdt.internal.core.search.matching.MatchLocator.locateMatches(MatchLocator.java:1013)</Frame>
          <Frame depth="7">org.eclipse.jdt.internal.core.search.JavaSearchParticipant.locateMatches(JavaSearchParticipant.java:94)</Frame>
          <Frame depth="8">org.eclipse.jdt.internal.core.search.BasicSearchEngine.findMatches(BasicSearchEngine.java:208)</Frame>
          <Frame depth="9">org.eclipse.jdt.internal.core.search.BasicSearchEngine.search(BasicSearchEngine.java:421)</Frame>
          <Frame depth="10">org.eclipse.jdt.core.search.SearchEngine.search(SearchEngine.java:532)</Frame>
          <Frame depth="11">org.eclipse.jdt.internal.ui.search.JavaSearchQuery.run(JavaSearchQuery.java:135)</Frame>
          <Frame depth="12">org.eclipse.search2.internal.ui.InternalSearchUI$InternalSearchJob.run(InternalSearchUI.java:93)</Frame>
          <Frame depth="13">org.eclipse.core.internal.jobs.Worker.run(Worker.java:67)</Frame>
        </Frames>
      </Stacktrace>
      <Stacktrace timestamp="1437341279363">
        <Exception>java.lang.StringIndexOutOfBoundsException</Exception>
        <Reason>String index out of range: -1</Reason>
        <Frames>
          <Frame depth="0">java.lang.String.substring(String.java(Compiled Code))</Frame>
          <Frame depth="1">org.eclipse.jdt.internal.core.util.Util.getNameWithoutJavaLikeExtension(Util.java:839)</Frame>
          <Frame depth="2">org.eclipse.jdt.internal.core.search.matching.PossibleMatch.getQualifiedName(PossibleMatch.java:101)</Frame>
          <Frame depth="3">org.eclipse.jdt.internal.core.search.matching.PossibleMatch.&lt;init&gt;(PossibleMatch.java:41)</Frame>
          <Frame depth="4">org.eclipse.jdt.internal.core.search.matching.MatchLocator.locateMatches(MatchLocator.java:1097)</Frame>
          <Frame depth="5">org.eclipse.jdt.internal.core.search.JavaSearchParticipant.locateMatches(JavaSearchParticipant.java:94)</Frame>
          <Frame depth="6">org.eclipse.jdt.internal.core.search.BasicSearchEngine.findMatches(BasicSearchEngine.java:208)</Frame>
          <Frame depth="7">org.eclipse.jdt.internal.core.search.BasicSearchEngine.search(BasicSearchEngine.java:424)</Frame>
          <Frame depth="8">org.eclipse.jdt.core.search.SearchEngine.search(SearchEngine.java:532)</Frame>
          <Frame depth="9">org.eclipse.jdt.internal.ui.search.JavaSearchQuery.run(JavaSearchQuery.java:135)</Frame>
          <Frame depth="10">org.eclipse.search2.internal.ui.InternalSearchUI$InternalSearchJob.run(InternalSearchUI.java:93)</Frame>
          <Frame depth="11">org.eclipse.core.internal.jobs.Worker.run(Worker.java:76)</Frame>
        </Frames>
      </Stacktrace>
      <Cause timestamp="1437341279363">
        <Exception>java.lang.StringIndexOutOfBoundsException</Exception>
        <Reason>String index out of range: -1</Reason>
        <Frames>
          <Frame depth="0">java.lang.String.substring(String.java:1768)</Frame>
          <Frame depth="1">org.eclipse.jdt.internal.core.util.Util.getNameWithoutJavaLikeExtension(Util.java:839)</Frame>
          <Frame depth="2">org.eclipse.jdt.internal.core.search.matching.PossibleMatch.getQualifiedName(PossibleMatch.java:101)</Frame>
          <Frame depth="3">org.eclipse.jdt.internal.core.search.matching.PossibleMatch.&lt;init&gt;(PossibleMatch.java:41)</Frame>
          <Frame depth="4">org.eclipse.jdt.internal.core.search.matching.MatchLocator.locateMatches(MatchLocator.java:1097)</Frame>
          <Frame depth="5">org.eclipse.jdt.internal.core.search.JavaSearchParticipant.locateMatches(JavaSearchParticipant.java:94)</Frame>
          <Frame depth="6">org.eclipse.jdt.internal.core.search.BasicSearchEngine.findMatches(BasicSearchEngine.java:208)</Frame>
          <Frame depth="7">org.eclipse.jdt.internal.core.search.BasicSearchEngine.search(BasicSearchEngine.java:424)</Frame>
          <Frame depth="8">org.eclipse.jdt.core.search.SearchEngine.search(SearchEngine.java:532)</Frame>
          <Frame depth="9">org.eclipse.jdt.internal.corext.refactoring.RefactoringSearchEngine.findAffectedCompilationUnits(RefactoringSearchEngine.java:72)</Frame>
          <Frame depth="10">org.eclipse.jdt.internal.corext.refactoring.rename.RenameTypeProcessor.checkConflictingTypes(RenameTypeProcessor.java:593)</Frame>
          <Frame depth="11">org.eclipse.jdt.internal.corext.refactoring.rename.RenameTypeProcessor.analyzeAffectedCompilationUnits(RenameTypeProcessor.java:584)</Frame>
          <Frame depth="12">org.eclipse.jdt.internal.corext.refactoring.rename.RenameTypeProcessor.checkFinalConditions(RenameTypeProcessor.java:330)</Frame>
          <Frame depth="13">org.eclipse.jdt.internal.corext.refactoring.rename.RenameCompilationUnitProcessor.checkFinalConditions(RenameCompilationUnitProcessor.java:258)</Frame>
          <Frame depth="14">org.eclipse.ltk.core.refactoring.participants.ProcessorBasedRefactoring.checkFinalConditions(ProcessorBasedRefactoring.java:169)</Frame>
          <Frame depth="15">org.eclipse.ltk.core.refactoring.CheckConditionsOperation.run(CheckConditionsOperation.java:84)</Frame>
          <Frame depth="16">org.eclipse.ltk.core.refactoring.CreateChangeOperation.run(CreateChangeOperation.java:114)</Frame>
          <Frame depth="17">org.eclipse.ltk.core.refactoring.PerformChangeOperation.run(PerformChangeOperation.java:189)</Frame>
          <Frame depth="18">org.eclipse.core.internal.resources.Workspace.run(Workspace.java:1719)</Frame>
          <Frame depth="19">org.eclipse.ltk.internal.ui.refactoring.WorkbenchRunnableAdapter.run(WorkbenchRunnableAdapter.java:86)</Frame>
          <Frame depth="20">org.eclipse.jface.operation.ModalContext$ModalContextThread.run(ModalContext.java:113)</Frame>
        </Frames>
      </Cause>
    </Stacktraces>
    <SourceCodeRegions amount="0" />
    <Enumerations amount="1">
      <Enumeration lines="5">
        <Lines>
          <Line>- create a java project that contains one class C</Line>
          <Line>- Install the TJP example</Line>
          <Line>- Open GetInfo in the editor</Line>
          <Line>- Delete the TJP project</Line>
          <Line>- Rename the class C by right clicking on C and do Refactor &gt; Rename</Line>
        </Lines>
      </Enumeration>
    </Enumerations>
    <bug_status amount="RESOLVED" />
    <resolution amount="FIXED" />
    <WithStack>I get this stack trace when peforming a References or Open CallHierachy in a
aspectj project. Performing a clean-build clears up the problem. It only (so
far) has occured in an aspectj project.

It does not matter what file is has focus when the search is performed. 

java.lang.StringIndexOutOfBoundsException: String index out of range: -1
    at java.lang.String.substring(Unknown Source)
    at
org.eclipse.jdt.internal.core.util.Util.getNameWithoutJavaLikeExtension(Util.java:840)
    at
org.eclipse.jdt.internal.core.search.matching.JavaSearchNameEnvironment.&lt;init&gt;(JavaSearchNameEnvironment.java:62)
    at
org.eclipse.jdt.internal.core.search.matching.MatchLocator.initialize(MatchLocator.java:853)
    at
org.eclipse.jdt.internal.core.search.matching.SuperTypeNamesCollector.collect(SuperTypeNamesCollector.java:154)
    at
org.eclipse.jdt.internal.core.search.matching.MethodLocator.initializePolymorphicSearch(MethodLocator.java:48)
    at
org.eclipse.jdt.internal.core.search.matching.MatchLocator.locateMatches(MatchLocator.java:1013)
    at
org.eclipse.jdt.internal.core.search.JavaSearchParticipant.locateMatches(JavaSearchParticipant.java:94)
    at
org.eclipse.jdt.internal.core.search.BasicSearchEngine.findMatches(BasicSearchEngine.java:208)
    at
org.eclipse.jdt.internal.core.search.BasicSearchEngine.search(BasicSearchEngine.java:421)
    at org.eclipse.jdt.core.search.SearchEngine.search(SearchEngine.java:532)
    at
org.eclipse.jdt.internal.ui.search.JavaSearchQuery.run(JavaSearchQuery.java:135)
    at
org.eclipse.search2.internal.ui.InternalSearchUI$InternalSearchJob.run(InternalSearchUI.java:93)
    at org.eclipse.core.internal.jobs.Worker.run(Worker.java:67)
Same here when doing a "Java Search" (I was searching for a method name in the 
current working set):

Eclipse Platform
Version: 3.1.0
Build id: I20050627-1435

Eclipse AspectJ Development Tools
Version: 1.2.1
Build id: 20050707105537
AspectJ version: 1.5.0M2

!ENTRY org.eclipse.core.runtime 4 2 2005-07-08 15:03:40.190
!MESSAGE An internal error occurred during: "Java Search".
!STACK 0
java.lang.StringIndexOutOfBoundsException: String index out of range: -1
	at java.lang.String.substring(String.java(Compiled Code))
	at 
org.eclipse.jdt.internal.core.util.Util.getNameWithoutJavaLikeExtension
(Util.java:839)
	at 
org.eclipse.jdt.internal.core.search.matching.PossibleMatch.getQualifiedName
(PossibleMatch.java:101)
	at org.eclipse.jdt.internal.core.search.matching.PossibleMatch.&lt;init&gt;
(PossibleMatch.java:41)
	at 
org.eclipse.jdt.internal.core.search.matching.MatchLocator.locateMatches
(MatchLocator.java:1097)
	at 
org.eclipse.jdt.internal.core.search.JavaSearchParticipant.locateMatches
(JavaSearchParticipant.java:94)
	at org.eclipse.jdt.internal.core.search.BasicSearchEngine.findMatches
(BasicSearchEngine.java:208)
	at org.eclipse.jdt.internal.core.search.BasicSearchEngine.search
(BasicSearchEngine.java:424)
	at org.eclipse.jdt.core.search.SearchEngine.search
(SearchEngine.java:532)
	at org.eclipse.jdt.internal.ui.search.JavaSearchQuery.run
(JavaSearchQuery.java:135)
	at 
org.eclipse.search2.internal.ui.InternalSearchUI$InternalSearchJob.run
(InternalSearchUI.java:93)
	at org.eclipse.core.internal.jobs.Worker.run(Worker.java:76)


Cheers,
Michael

I have seen the same problem with Eclise 3.1 and AJDT 1.2.1. If you restart 
Eclipse the problem seems to go away until you next build an AspectJ project. 
Sometimes I don't get an exception but Search fails to find things!
I have also seen this happen once or twice and I believe it should be possible 
to fix, however I have not been able to reproduce it.  Has anyone else been 
able to create a test case which I would be able to use?
*** Bug 89326 has been marked as a duplicate of this bug. ***
*** Bug 92759 has been marked as a duplicate of this bug. ***
*** Bug 91395 has been marked as a duplicate of this bug. ***
This seems to cause the same exception (or one very similar) and is reproducable
every time (I originally thought it was related to bug 98261):

- create a java project that contains one class C
- Install the TJP example
- Open GetInfo in the editor
- Delete the TJP project
- Rename the class C by right clicking on C and do Refactor &gt; Rename

This causes the StringOutOfBoundsException:

Caused by: java.lang.StringIndexOutOfBoundsException: String index out of range: -1
at java.lang.String.substring(String.java:1768)
at
org.eclipse.jdt.internal.core.util.Util.getNameWithoutJavaLikeExtension(Util.java:839)
at
org.eclipse.jdt.internal.core.search.matching.PossibleMatch.getQualifiedName(PossibleMatch.java:101)
at
org.eclipse.jdt.internal.core.search.matching.PossibleMatch.&lt;init&gt;(PossibleMatch.java:41)
at
org.eclipse.jdt.internal.core.search.matching.MatchLocator.locateMatches(MatchLocator.java:1097)
at
org.eclipse.jdt.internal.core.search.JavaSearchParticipant.locateMatches(JavaSearchParticipant.java:94)
at
org.eclipse.jdt.internal.core.search.BasicSearchEngine.findMatches(BasicSearchEngine.java:208)
at
org.eclipse.jdt.internal.core.search.BasicSearchEngine.search(BasicSearchEngine.java:424)
at org.eclipse.jdt.core.search.SearchEngine.search(SearchEngine.java:532)
at
org.eclipse.jdt.internal.corext.refactoring.RefactoringSearchEngine.findAffectedCompilationUnits(RefactoringSearchEngine.java:72)
at
org.eclipse.jdt.internal.corext.refactoring.rename.RenameTypeProcessor.checkConflictingTypes(RenameTypeProcessor.java:593)
at
org.eclipse.jdt.internal.corext.refactoring.rename.RenameTypeProcessor.analyzeAffectedCompilationUnits(RenameTypeProcessor.java:584)
at
org.eclipse.jdt.internal.corext.refactoring.rename.RenameTypeProcessor.checkFinalConditions(RenameTypeProcessor.java:330)
at
org.eclipse.jdt.internal.corext.refactoring.rename.RenameCompilationUnitProcessor.checkFinalConditions(RenameCompilationUnitProcessor.java:258)
at
org.eclipse.ltk.core.refactoring.participants.ProcessorBasedRefactoring.checkFinalConditions(ProcessorBasedRefactoring.java:169)
at
org.eclipse.ltk.core.refactoring.CheckConditionsOperation.run(CheckConditionsOperation.java:84)
at
org.eclipse.ltk.core.refactoring.CreateChangeOperation.run(CreateChangeOperation.java:114)
at
org.eclipse.ltk.core.refactoring.PerformChangeOperation.run(PerformChangeOperation.java:189)
at org.eclipse.core.internal.resources.Workspace.run(Workspace.java:1719)
at
org.eclipse.ltk.internal.ui.refactoring.WorkbenchRunnableAdapter.run(WorkbenchRunnableAdapter.java:86)
at
org.eclipse.jface.operation.ModalContext$ModalContextThread.run(ModalContext.java:113)


*** Bug 106164 has been marked as a duplicate of this bug. ***
I fixed this by adding .aj as a java-like file extension in the start method 
of AspectJPlugin.  Unfortunately I wasn't able to add it through the extension 
points mechanism because JDT has not yet completed this support (see JDT bug 
71460).  I have added the extension commented out to the AJDT Core plugin.xml 
file, and added an XXX comment to the method I wrote instead.
It has turned out that registering .aj as a java extension causes too many other
problems, including bugs 107005, 107604, 107634, and 107636, so it looks like
we'll have to undo that. The change causes JDT to create CompilationUnits for
.aj files, which means our support for creating AJCompilationUnits doesn't work
fully. Undoing the change will of course mean this nasty String index out of
range problem will come back, which we'll have to re-investigate. Pursuing a JDT
fix might be a better option.

*** Bug 92482 has been marked as a duplicate of this bug. ***
The earlier change has now been backed out, so this problem is unfortunately
back with us. The proper fix is to JDT, as in bug 107735. The fix has been
applied in the Eclipse 3.2 line, and it will hopefully be backported to 3.1.1.
The JDT fix has now made it into the maintenance line, so will be included in
Eclipse 3.1.1.

Until then, if you're *really* hampered by this, you could patch your eclipse
installation by replacing your JDT Core jar file (under eclipse/plugins) with
this patched version:

http://download.eclipse.org/technology/ajdt/bug98547/org.eclipse.jdt.core_3.1.0.jar</WithStack>
    <WithOutStack>I get this stack trace when peforming a References or Open CallHierachy in a
aspectj project. Performing a clean-build clears up the problem. It only (so
far) has occured in an aspectj project.

It does not matter what file is has focus when the search is performed. 

Same here when doing a "Java Search" (I was searching for a method name in the 
current working set):

Eclipse Platform
Version: 3.1.0
Build id: I20050627-1435

Eclipse AspectJ Development Tools
Version: 1.2.1
Build id: 20050707105537
AspectJ version: 1.5.0M2

!ENTRY org.eclipse.core.runtime 4 2 2005-07-08 15:03:40.190
!MESSAGE An internal error occurred during: "Java Search".
!STACK 0



Cheers,
Michael

I have seen the same problem with Eclise 3.1 and AJDT 1.2.1. If you restart 
Eclipse the problem seems to go away until you next build an AspectJ project. 
Sometimes I don't get an exception but Search fails to find things!
I have also seen this happen once or twice and I believe it should be possible 
to fix, however I have not been able to reproduce it.  Has anyone else been 
able to create a test case which I would be able to use?
*** Bug 89326 has been marked as a duplicate of this bug. ***
*** Bug 92759 has been marked as a duplicate of this bug. ***
*** Bug 91395 has been marked as a duplicate of this bug. ***
This seems to cause the same exception (or one very similar) and is reproducable
every time (I originally thought it was related to bug 98261):

- create a java project that contains one class C
- Install the TJP example
- Open GetInfo in the editor
- Delete the TJP project
- Rename the class C by right clicking on C and do Refactor &gt; Rename

This causes the StringOutOfBoundsException:




*** Bug 106164 has been marked as a duplicate of this bug. ***
I fixed this by adding .aj as a java-like file extension in the start method 
of AspectJPlugin.  Unfortunately I wasn't able to add it through the extension 
points mechanism because JDT has not yet completed this support (see JDT bug 
71460).  I have added the extension commented out to the AJDT Core plugin.xml 
file, and added an XXX comment to the method I wrote instead.
It has turned out that registering .aj as a java extension causes too many other
problems, including bugs 107005, 107604, 107634, and 107636, so it looks like
we'll have to undo that. The change causes JDT to create CompilationUnits for
.aj files, which means our support for creating AJCompilationUnits doesn't work
fully. Undoing the change will of course mean this nasty String index out of
range problem will come back, which we'll have to re-investigate. Pursuing a JDT
fix might be a better option.

*** Bug 92482 has been marked as a duplicate of this bug. ***
The earlier change has now been backed out, so this problem is unfortunately
back with us. The proper fix is to JDT, as in bug 107735. The fix has been
applied in the Eclipse 3.2 line, and it will hopefully be backported to 3.1.1.
The JDT fix has now made it into the maintenance line, so will be included in
Eclipse 3.1.1.

Until then, if you're *really* hampered by this, you could patch your eclipse
installation by replacing your JDT Core jar file (under eclipse/plugins) with
this patched version:

http://download.eclipse.org/technology/ajdt/bug98547/org.eclipse.jdt.core_3.1.0.jar</WithOutStack>
  </Bug>
  <Bug>
    <BugId amount="98548" />
    <CreationDate amount="2005-06-06 12:58:00 -0400" />
    <DupId amount="" />
    <classification amount="Eclipse" />
    <Product amount="Platform" />
    <component amount="UI" />
    <Version amount="3.1" />
    <rep_platform amount="All" />
    <op_sys amount="All" />
    <priority amount="P3" />
    <bug_severity amount="normal" />
    <Summery>[Guidelines] [KeyBindings] Eclipse UI Guidelines reference old key bindings</Summery>
    <Patches amount="0" />
    <Stacktraces amount="0" />
    <SourceCodeRegions amount="0" />
    <Enumerations amount="0" />
    <bug_status amount="NEW" />
    <resolution amount="" />
    <WithStack>The Eclipse UI Guidelines
("http://www.eclipse.org/articles/Article-UI-Guidelines/Contents.html") does not
list all key bindings, and lists some key bindings incorrectly (both
Eclipse-defined and platform-defined key bindings).

The native key bindings should be discussed separately from the Eclipse
bindings, and the Eclipse bindings should probably just be a link to
"http://dev.eclipse.org/viewcvs/index.cgi/~checkout~/platform-ui-home/accessibility/keys.html"
or other similar page.
Who was access to change eclipse.org articles?

IIRC, Nick mentioned updating the UI guidelines?
Ed Burnette is the new articles editor.</WithStack>
    <WithOutStack>The Eclipse UI Guidelines
("http://www.eclipse.org/articles/Article-UI-Guidelines/Contents.html") does not
list all key bindings, and lists some key bindings incorrectly (both
Eclipse-defined and platform-defined key bindings).

The native key bindings should be discussed separately from the Eclipse
bindings, and the Eclipse bindings should probably just be a link to
"http://dev.eclipse.org/viewcvs/index.cgi/~checkout~/platform-ui-home/accessibility/keys.html"
or other similar page.
Who was access to change eclipse.org articles?

IIRC, Nick mentioned updating the UI guidelines?
Ed Burnette is the new articles editor.</WithOutStack>
  </Bug>
  <Bug>
    <BugId amount="98549" />
    <CreationDate amount="2005-06-06 13:18:00 -0400" />
    <DupId amount="" />
    <classification amount="Eclipse" />
    <Product amount="Platform" />
    <component amount="Debug" />
    <Version amount="3.1" />
    <rep_platform amount="PC" />
    <op_sys amount="Windows 2000" />
    <priority amount="P3" />
    <bug_severity amount="normal" />
    <Summery>Internal Error during step into</Summery>
    <Patches amount="0" />
    <Stacktraces amount="1">
      <Stacktrace timestamp="1437341279364">
        <Exception>java.lang.NullPointerException</Exception>
        <Reason />
        <Frames>
          <Frame depth="0">java.lang.Throwable.&lt;init&gt;(Throwable.java)</Frame>
          <Frame depth="1">java.lang.Throwable.&lt;init&gt;(Throwable.java)</Frame>
          <Frame depth="2">java.lang.NullPointerException.&lt;init&gt;(NullPointerException.java:61)</Frame>
          <Frame depth="3">org.eclipse.debug.internal.ui.actions.AbstractDebugActionDelegate$DebugRequestJob.run(AbstractDebugActionDelegate.java:143)</Frame>
          <Frame depth="4">org.eclipse.core.internal.jobs.Worker.run(Worker.java)</Frame>
        </Frames>
      </Stacktrace>
    </Stacktraces>
    <SourceCodeRegions amount="1">
      <source_code type="class">
        <location start="221" end="483" />
        <code>public class TestStepInto {
	
	private static int cnt = 0;
	
	public static void main(String[] args) {
		foo();
	}
	
	
	private static void foo()
	{
		cnt++;
		
		if (cnt == 200)
			System.out.println("200");
		
		if (cnt == 500)
			return;
		
		foo();
		
	}
	
}</code>
      </source_code>
    </SourceCodeRegions>
    <Enumerations amount="1">
      <Enumeration lines="3">
        <Lines>
          <Line>1.  Launch a java debug session with the attached testcase.</Line>
          <Line>2.  Press and hold the F5 key to step into.</Line>
          <Line>3.  Got an internal error and the following stack trace in the log.</Line>
        </Lines>
      </Enumeration>
    </Enumerations>
    <bug_status amount="RESOLVED" />
    <resolution amount="WORKSFORME" />
    <WithStack>Testcase:

1.  Launch a java debug session with the attached testcase.
2.  Press and hold the F5 key to step into.
3.  Got an internal error and the following stack trace in the log.

I will attach testcase.

java.lang.NullPointerException
at java.lang.Throwable.&lt;init&gt;(Throwable.java)
at java.lang.Throwable.&lt;init&gt;(Throwable.java)
at java.lang.NullPointerException.&lt;init&gt;(NullPointerException.java:61)
at 
org.eclipse.debug.internal.ui.actions.AbstractDebugActionDelegate$DebugRequestJo
b.run(AbstractDebugActionDelegate.java:143)
at org.eclipse.core.internal.jobs.Worker.run(Worker.java)
Testcase:

public class TestStepInto {
	
	private static int cnt = 0;
	
	public static void main(String[] args) {
		foo();
	}
	
	
	private static void foo()
	{
		cnt++;
		
		if (cnt == 200)
			System.out.println("200");
		
		if (cnt == 500)
			return;
		
		foo();
		
	}
	
}
Samantha, I cannot reproduce - does this exception happen consistently for you?
No. I can't reproduce consistently.  It only happens sometimes.  
I am unable to reproduce this problem in the latest build.</WithStack>
    <WithOutStack>Testcase:

1.  Launch a java debug session with the attached testcase.
2.  Press and hold the F5 key to step into.
3.  Got an internal error and the following stack trace in the log.

I will attach testcase.


Testcase:

public class TestStepInto {
	
	private static int cnt = 0;
	
	public static void main(String[] args) {
		foo();
	}
	
	
	private static void foo()
	{
		cnt++;
		
		if (cnt == 200)
			System.out.println("200");
		
		if (cnt == 500)
			return;
		
		foo();
		
	}
	
}
Samantha, I cannot reproduce - does this exception happen consistently for you?
No. I can't reproduce consistently.  It only happens sometimes.  
I am unable to reproduce this problem in the latest build.</WithOutStack>
  </Bug>
  <Bug>
    <BugId amount="98550" />
    <CreationDate amount="2005-06-06 13:23:00 -0400" />
    <DupId amount="94452" />
    <classification amount="Eclipse" />
    <Product amount="JDT" />
    <component amount="Debug" />
    <Version amount="3.1" />
    <rep_platform amount="PC" />
    <op_sys amount="Windows XP" />
    <priority amount="P3" />
    <bug_severity amount="normal" />
    <Summery>Debugger loses connection with target VM with wierd exceptions</Summery>
    <Patches amount="0" />
    <Stacktraces amount="2">
      <Stacktrace timestamp="1437341279366">
        <Exception>java.lang.InternalError</Exception>
        <Reason>Retrieved a different number of values from the VM than
requested</Reason>
        <Frames>
          <Frame depth="0">org.eclipse.jdi.internal.ReferenceTypeImpl.getValues(ReferenceTypeImpl.java:923)</Frame>
          <Frame depth="1">org.eclipse.jdi.internal.ReferenceTypeImpl.getValue(ReferenceTypeImpl.java:891)</Frame>
          <Frame depth="2">org.eclipse.jdt.internal.debug.core.model.JDIFieldVariable.retrieveValue(JDIFieldVariable.java:74)</Frame>
          <Frame depth="3">org.eclipse.jdt.internal.debug.core.model.JDIVariable.getCurrentValue(JDIVariable.java:67)</Frame>
          <Frame depth="4">org.eclipse.jdt.internal.debug.core.model.JDIVariable.getValue(JDIVariable.java:89)</Frame>
          <Frame depth="5">org.eclipse.debug.internal.ui.elements.adapters.DeferredVariable.hasChildren(DeferredVariable.java:86)</Frame>
          <Frame depth="6">org.eclipse.debug.internal.ui.elements.adapters.DeferredVariable.fetchDeferredChildren(DeferredVariable.java:74)</Frame>
          <Frame depth="7">org.eclipse.debug.internal.ui.views.RemoteTreeContentManager$FetchJob.run(RemoteTreeContentManager.java:82)</Frame>
          <Frame depth="8">org.eclipse.core.internal.jobs.Worker.run(Worker.java:67)</Frame>
        </Frames>
      </Stacktrace>
      <Stacktrace timestamp="1437341279366">
        <Exception>org.eclipse.jdi.TimeoutException</Exception>
        <Reason>Timeout occurred while waiting for packet 24482.</Reason>
        <Frames>
          <Frame depth="0">org.eclipse.jdi.internal.connect.PacketReceiveManager.getReply(PacketReceiveManager.java:174)</Frame>
          <Frame depth="1">org.eclipse.jdi.internal.connect.PacketReceiveManager.getReply(PacketReceiveManager.java:184)</Frame>
          <Frame depth="2">org.eclipse.jdi.internal.MirrorImpl.requestVM(MirrorImpl.java:174)</Frame>
          <Frame depth="3">org.eclipse.jdi.internal.MirrorImpl.requestVM(MirrorImpl.java:192)</Frame>
          <Frame depth="4">org.eclipse.jdi.internal.MirrorImpl.requestVM(MirrorImpl.java:222)</Frame>
          <Frame depth="5">org.eclipse.jdi.internal.ReferenceTypeImpl.getSourceName(ReferenceTypeImpl.java:1569)</Frame>
          <Frame depth="6">org.eclipse.jdi.internal.ReferenceTypeImpl.sourcePath(ReferenceTypeImpl.java:1739)</Frame>
          <Frame depth="7">org.eclipse.jdi.internal.LocationImpl.sourcePath(LocationImpl.java:177)</Frame>
          <Frame depth="8">org.eclipse.jdi.internal.LocationImpl.sourcePath(LocationImpl.java:184)</Frame>
          <Frame depth="9">org.eclipse.jdt.internal.debug.core.model.JDIStackFrame.getSourcePath(JDIStackFrame.java:1180)</Frame>
          <Frame depth="10">org.eclipse.jdt.launching.sourcelookup.containers.JavaSourceLookupParticipant.getSourceName(JavaSourceLookupParticipant.java:71)</Frame>
          <Frame depth="11">org.eclipse.debug.core.sourcelookup.AbstractSourceLookupParticipant.findSourceElements(AbstractSourceLookupParticipant.java:60)</Frame>
          <Frame depth="12">org.eclipse.debug.core.sourcelookup.AbstractSourceLookupDirector$SourceLookupQuery.run(AbstractSourceLookupDirector.java:126)</Frame>
          <Frame depth="13">org.eclipse.core.internal.runtime.InternalPlatform.run(InternalPlatform.java:1038)</Frame>
          <Frame depth="14">org.eclipse.core.runtime.Platform.run(Platform.java:775)</Frame>
          <Frame depth="15">org.eclipse.debug.core.sourcelookup.AbstractSourceLookupDirector.doSourceLookup(AbstractSourceLookupDirector.java:465)</Frame>
          <Frame depth="16">org.eclipse.debug.core.sourcelookup.AbstractSourceLookupDirector.getSourceElement(AbstractSourceLookupDirector.java:715)</Frame>
          <Frame depth="17">org.eclipse.debug.internal.ui.sourcelookup.SourceLookupFacility.lookup(SourceLookupFacility.java:138)</Frame>
          <Frame depth="18">org.eclipse.debug.ui.DebugUITools.lookupSource(DebugUITools.java:658)</Frame>
          <Frame depth="19">org.eclipse.debug.internal.ui.views.launch.LaunchView$SourceLookupJob.run(LaunchView.java:176)</Frame>
          <Frame depth="20">org.eclipse.core.internal.jobs.Worker.run(Worker.java:67)</Frame>
        </Frames>
      </Stacktrace>
    </Stacktraces>
    <SourceCodeRegions amount="0" />
    <Enumerations amount="0" />
    <bug_status amount="RESOLVED" />
    <resolution amount="DUPLICATE" />
    <WithStack>I was debugging something in WTP when I stumbled over the following problem --
debugger would not be able to display value of one particular variable, log an
exception and loose connection with the target VM. I had the same problem with
the three and 1/2 different target JVMs -- namely SUN 1.4.2_07, SUN 1.5.0_02 and
IBM 1.4.2 cn1420-20040626 both in Sovereign and J9 modes -- so I figured that it
must be Eclipse's problem ;-) Also, after this problem Eclipse becomes sluggish
and eventually hangs completely.

My setup. WinXP SP1, Eclipse I20050527-1300 running under SUN 1.5.0_02. Target
is WTP I20050603 running under various JVMs mentioned above.

I get the same exceptions regardless the target JVM. Most often it is either
some flavour of JDI "timeout" exception or "Retrieved a different number of
values", here are few examples

!ENTRY org.eclipse.core.runtime 4 2 2005-06-06 12:45:17.549
!MESSAGE An internal error occurred during: "Fetching children from debug target".
!STACK 0
java.lang.InternalError: Retrieved a different number of values from the VM than
requested
	at org.eclipse.jdi.internal.ReferenceTypeImpl.getValues(ReferenceTypeImpl.java:923)
	at org.eclipse.jdi.internal.ReferenceTypeImpl.getValue(ReferenceTypeImpl.java:891)
	at
org.eclipse.jdt.internal.debug.core.model.JDIFieldVariable.retrieveValue(JDIFieldVariable.java:74)
	at
org.eclipse.jdt.internal.debug.core.model.JDIVariable.getCurrentValue(JDIVariable.java:67)
	at
org.eclipse.jdt.internal.debug.core.model.JDIVariable.getValue(JDIVariable.java:89)
	at
org.eclipse.debug.internal.ui.elements.adapters.DeferredVariable.hasChildren(DeferredVariable.java:86)
	at
org.eclipse.debug.internal.ui.elements.adapters.DeferredVariable.fetchDeferredChildren(DeferredVariable.java:74)
	at
org.eclipse.debug.internal.ui.views.RemoteTreeContentManager$FetchJob.run(RemoteTreeContentManager.java:82)
	at org.eclipse.core.internal.jobs.Worker.run(Worker.java:67)


!SUBENTRY 1 org.eclipse.jdt.debug 4 5010 2005-06-06 12:53:13.113
!MESSAGE org.eclipse.jdi.TimeoutException: Timeout occurred while waiting for
packet 24482. occurred retrieving source path debug attribute.
!STACK 0
org.eclipse.jdi.TimeoutException: Timeout occurred while waiting for packet 24482.
	at
org.eclipse.jdi.internal.connect.PacketReceiveManager.getReply(PacketReceiveManager.java:174)
	at
org.eclipse.jdi.internal.connect.PacketReceiveManager.getReply(PacketReceiveManager.java:184)
	at org.eclipse.jdi.internal.MirrorImpl.requestVM(MirrorImpl.java:174)
	at org.eclipse.jdi.internal.MirrorImpl.requestVM(MirrorImpl.java:192)
	at org.eclipse.jdi.internal.MirrorImpl.requestVM(MirrorImpl.java:222)
	at
org.eclipse.jdi.internal.ReferenceTypeImpl.getSourceName(ReferenceTypeImpl.java:1569)
	at
org.eclipse.jdi.internal.ReferenceTypeImpl.sourcePath(ReferenceTypeImpl.java:1739)
	at org.eclipse.jdi.internal.LocationImpl.sourcePath(LocationImpl.java:177)
	at org.eclipse.jdi.internal.LocationImpl.sourcePath(LocationImpl.java:184)
	at
org.eclipse.jdt.internal.debug.core.model.JDIStackFrame.getSourcePath(JDIStackFrame.java:1180)
	at
org.eclipse.jdt.launching.sourcelookup.containers.JavaSourceLookupParticipant.getSourceName(JavaSourceLookupParticipant.java:71)
	at
org.eclipse.debug.core.sourcelookup.AbstractSourceLookupParticipant.findSourceElements(AbstractSourceLookupParticipant.java:60)
	at
org.eclipse.debug.core.sourcelookup.AbstractSourceLookupDirector$SourceLookupQuery.run(AbstractSourceLookupDirector.java:126)
	at
org.eclipse.core.internal.runtime.InternalPlatform.run(InternalPlatform.java:1038)
	at org.eclipse.core.runtime.Platform.run(Platform.java:775)
	at
org.eclipse.debug.core.sourcelookup.AbstractSourceLookupDirector.doSourceLookup(AbstractSourceLookupDirector.java:465)
	at
org.eclipse.debug.core.sourcelookup.AbstractSourceLookupDirector.getSourceElement(AbstractSourceLookupDirector.java:715)
	at
org.eclipse.debug.internal.ui.sourcelookup.SourceLookupFacility.lookup(SourceLookupFacility.java:138)
	at org.eclipse.debug.ui.DebugUITools.lookupSource(DebugUITools.java:658)
	at
org.eclipse.debug.internal.ui.views.launch.LaunchView$SourceLookupJob.run(LaunchView.java:176)
	at org.eclipse.core.internal.jobs.Worker.run(Worker.java:67)
What variable was being looked at? Can you attach a sample program?
Created attachment 22460
simple project that demonstratesthe problem

I was able to reproduce the problem using a simple standalone java project (see
attachement). I documented steps necessary to reproduce the problem using
comments in the sources. Feel free to email/sametime me if the steps are not
clear enough.

This same problem occurs if I run Eclipse under SUN 1.4.2. Also, not sure if
this makes any difference, but I start eclipse with "-debug -console
-consolelog -vmargs -Xmx1024M" command line parameters.
I believe this is a dup of bug 94452 or something very close to it.
Timeouts are a dup of 94452.

*** This bug has been marked as a duplicate of 94452 ***</WithStack>
    <WithOutStack>I was debugging something in WTP when I stumbled over the following problem --
debugger would not be able to display value of one particular variable, log an
exception and loose connection with the target VM. I had the same problem with
the three and 1/2 different target JVMs -- namely SUN 1.4.2_07, SUN 1.5.0_02 and
IBM 1.4.2 cn1420-20040626 both in Sovereign and J9 modes -- so I figured that it
must be Eclipse's problem ;-) Also, after this problem Eclipse becomes sluggish
and eventually hangs completely.

My setup. WinXP SP1, Eclipse I20050527-1300 running under SUN 1.5.0_02. Target
is WTP I20050603 running under various JVMs mentioned above.

I get the same exceptions regardless the target JVM. Most often it is either
some flavour of JDI "timeout" exception or "Retrieved a different number of
values", here are few examples

!ENTRY org.eclipse.core.runtime 4 2 2005-06-06 12:45:17.549
!MESSAGE An internal error occurred during: "Fetching children from debug target".
!STACK 0


!SUBENTRY 1 org.eclipse.jdt.debug 4 5010 2005-06-06 12:53:13.113
!MESSAGE org.eclipse.jdi.TimeoutException: Timeout occurred while waiting for
packet 24482. occurred retrieving source path debug attribute.
!STACK 0

What variable was being looked at? Can you attach a sample program?
Created attachment 22460
simple project that demonstratesthe problem

I was able to reproduce the problem using a simple standalone java project (see
attachement). I documented steps necessary to reproduce the problem using
comments in the sources. Feel free to email/sametime me if the steps are not
clear enough.

This same problem occurs if I run Eclipse under SUN 1.4.2. Also, not sure if
this makes any difference, but I start eclipse with "-debug -console
-consolelog -vmargs -Xmx1024M" command line parameters.
I believe this is a dup of bug 94452 or something very close to it.
Timeouts are a dup of 94452.

*** This bug has been marked as a duplicate of 94452 ***</WithOutStack>
  </Bug>
  <Bug>
    <BugId amount="98551" />
    <CreationDate amount="2005-06-06 13:35:00 -0400" />
    <DupId amount="" />
    <classification amount="Tools" />
    <Product amount="CDT" />
    <component amount="cdt-core" />
    <Version amount="2.1.1" />
    <rep_platform amount="Macintosh" />
    <op_sys amount="Mac OS X - Carbon (unsup.)" />
    <priority amount="P3" />
    <bug_severity amount="normal" />
    <Summery>Files keep "disappearing" in C/C++ Project View with workspace on NFS</Summery>
    <Patches amount="0" />
    <Stacktraces amount="0" />
    <SourceCodeRegions amount="0" />
    <Enumerations amount="0" />
    <bug_status amount="NEW" />
    <resolution amount="" />
    <WithStack>Dear developers,

When eclipse CDT is run with a workspace on NFS, and a project is compiled and run, sometimes the 
source files seem to disappear from the projects window. The re-appear when the project is refreshed 
(F5). 

Sometimes on startup there are errors (but without an description, just "An error occured"). After that 
the projects view is empty, until it is refreshed.

This behaviour does not happen with a local workspace.

Unfortunately it is not always reproduceable.

Our Configuraion: Eclipse 3.0.2, CDT 2.1.1, Mac OS X 10.3 (client), Solaris (Server)

If there is any way that I can submit more information, please let me know.</WithStack>
    <WithOutStack>Dear developers,

When eclipse CDT is run with a workspace on NFS, and a project is compiled and run, sometimes the 
source files seem to disappear from the projects window. The re-appear when the project is refreshed 
(F5). 

Sometimes on startup there are errors (but without an description, just "An error occured"). After that 
the projects view is empty, until it is refreshed.

This behaviour does not happen with a local workspace.

Unfortunately it is not always reproduceable.

Our Configuraion: Eclipse 3.0.2, CDT 2.1.1, Mac OS X 10.3 (client), Solaris (Server)

If there is any way that I can submit more information, please let me know.</WithOutStack>
  </Bug>
  <Bug>
    <BugId amount="98552" />
    <CreationDate amount="2005-06-06 13:40:00 -0400" />
    <DupId amount="" />
    <classification amount="Eclipse" />
    <Product amount="JDT" />
    <component amount="Text" />
    <Version amount="3.1" />
    <rep_platform amount="PC" />
    <op_sys amount="Windows XP" />
    <priority amount="P3" />
    <bug_severity amount="enhancement" />
    <Summery>[projection] Allow member (class/instance) variables to be folded</Summery>
    <Patches amount="0" />
    <Stacktraces amount="0" />
    <SourceCodeRegions amount="0" />
    <Enumerations amount="0" />
    <bug_status amount="ASSIGNED" />
    <resolution amount="" />
    <WithStack>For those annoyed by having class/instance variables at the top of the source
and having to scroll down to see the first method/constructor, this would be
very handy.</WithStack>
    <WithOutStack>For those annoyed by having class/instance variables at the top of the source
and having to scroll down to see the first method/constructor, this would be
very handy.</WithOutStack>
  </Bug>
  <Bug>
    <BugId amount="98553" />
    <CreationDate amount="2005-06-06 13:43:00 -0400" />
    <DupId amount="63306" />
    <classification amount="Eclipse" />
    <Product amount="Platform" />
    <component amount="SWT" />
    <Version amount="3.1" />
    <rep_platform amount="Macintosh" />
    <op_sys amount="Mac OS X - Carbon (unsup.)" />
    <priority amount="P3" />
    <bug_severity amount="normal" />
    <Summery>Invalid thread access from mouseProc</Summery>
    <Patches amount="0" />
    <Stacktraces amount="1">
      <Stacktrace timestamp="1437341279368">
        <Exception>org.eclipse.swt.SWTException</Exception>
        <Reason>Invalid thread access</Reason>
        <Frames>
          <Frame depth="0">org.eclipse.swt.SWT.error(SWT.java:2860)</Frame>
          <Frame depth="1">org.eclipse.swt.SWT.error(SWT.java:2783)</Frame>
          <Frame depth="2">org.eclipse.swt.SWT.error(SWT.java:2754)</Frame>
          <Frame depth="3">org.eclipse.swt.widgets.Widget.error(Widget.java:554)</Frame>
          <Frame depth="4">org.eclipse.swt.widgets.Widget.checkWidget(Widget.java:305)</Frame>
          <Frame depth="5">org.eclipse.swt.widgets.Control.isEnabled(Control.java:1218)</Frame>
          <Frame depth="6">org.eclipse.swt.widgets.Display.mouseProc(Display.java:2517)</Frame>
        </Frames>
      </Stacktrace>
    </Stacktraces>
    <SourceCodeRegions amount="0" />
    <Enumerations amount="0" />
    <bug_status amount="RESOLVED" />
    <resolution amount="DUPLICATE" />
    <WithStack>Can not run the following application on Mac OS X:

http://www.ggtools.net/files/grand/jnlp/grand-ui.jnlp

Get the folllowing error:

org.eclipse.swt.SWTException: Invalid thread access
    at org.eclipse.swt.SWT.error(SWT.java:2860)
    at org.eclipse.swt.SWT.error(SWT.java:2783)
    at org.eclipse.swt.SWT.error(SWT.java:2754)
    at org.eclipse.swt.widgets.Widget.error(Widget.java:554)
    at org.eclipse.swt.widgets.Widget.checkWidget(Widget.java:305)
    at org.eclipse.swt.widgets.Control.isEnabled(Control.java:1218)
    at org.eclipse.swt.widgets.Display.mouseProc(Display.java:2517)
Does the app use Java Webstart?  If so, it's a dup of 63306.
More info from Tom on the SWT Newsgroup:

"This application is deployed with JavaWebStart and works fine under Windows 
and Linux.
I pass in my JNLP file  JVM argument -XstartOnFirstThread which could 
resolved the problem but it's the same thing..."

Marking as a duplciate.

*** This bug has been marked as a duplicate of 63306 ***</WithStack>
    <WithOutStack>Can not run the following application on Mac OS X:

http://www.ggtools.net/files/grand/jnlp/grand-ui.jnlp

Get the folllowing error:


Does the app use Java Webstart?  If so, it's a dup of 63306.
More info from Tom on the SWT Newsgroup:

"This application is deployed with JavaWebStart and works fine under Windows 
and Linux.
I pass in my JNLP file  JVM argument -XstartOnFirstThread which could 
resolved the problem but it's the same thing..."

Marking as a duplciate.

*** This bug has been marked as a duplicate of 63306 ***</WithOutStack>
  </Bug>
  <Bug>
    <BugId amount="98554" />
    <CreationDate amount="2005-06-06 13:47:00 -0400" />
    <DupId amount="" />
    <classification amount="Eclipse" />
    <Product amount="Platform" />
    <component amount="UI" />
    <Version amount="3.1" />
    <rep_platform amount="PC" />
    <op_sys amount="All" />
    <priority amount="P3" />
    <bug_severity amount="major" />
    <Summery>[WorkbenchParts] [DetachedViews] "Ghost" view shows up in Eclipse</Summery>
    <Patches amount="0" />
    <Stacktraces amount="1">
      <Stacktrace timestamp="1437341279370">
        <Exception>java.lang.NullPointerException</Exception>
        <Reason />
        <Frames>
          <Frame depth="0">org.eclipse.ui.internal.PartSashContainer.dropObject(PartSashContainer.java:1128)</Frame>
          <Frame depth="1">org.eclipse.ui.internal.PartSashContainer$SashContainerDropTarget.drop(PartSashContainer.java:129)</Frame>
          <Frame depth="2">org.eclipse.ui.internal.dnd.DragUtil.performDrag(DragUtil.java:130)</Frame>
          <Frame depth="3">org.eclipse.ui.internal.PartStack.dragStart(PartStack.java:1320)</Frame>
          <Frame depth="4">org.eclipse.ui.internal.PartStack$1.dragStart(PartStack.java:107)</Frame>
          <Frame depth="5">org.eclipse.ui.internal.presentations.util.TabbedStackPresentation$1.handleEvent(TabbedStackPresentation.java:105)</Frame>
          <Frame depth="6">org.eclipse.ui.internal.presentations.util.AbstractTabFolder.fireEvent(AbstractTabFolder.java:267)</Frame>
          <Frame depth="7">org.eclipse.ui.internal.presentations.util.AbstractTabFolder.fireEvent(AbstractTabFolder.java:280)</Frame>
          <Frame depth="8">org.eclipse.ui.internal.presentations.util.AbstractTabFolder.handleDragStarted(AbstractTabFolder.java:349)</Frame>
          <Frame depth="9">org.eclipse.ui.internal.presentations.util.AbstractTabFolder$2.handleEvent(AbstractTabFolder.java:68)</Frame>
          <Frame depth="10">org.eclipse.ui.presentations.PresentationUtil.handleMouseMove(PresentationUtil.java:96)</Frame>
          <Frame depth="11">org.eclipse.ui.presentations.PresentationUtil.access$4(PresentationUtil.java:89)</Frame>
          <Frame depth="12">org.eclipse.ui.presentations.PresentationUtil$2.handleEvent(PresentationUtil.java:61)</Frame>
          <Frame depth="13">org.eclipse.swt.widgets.EventTable.sendEvent(EventTable.java:82)</Frame>
          <Frame depth="14">org.eclipse.swt.widgets.Widget.sendEvent(Widget.java:842)</Frame>
          <Frame depth="15">org.eclipse.swt.widgets.Display.runDeferredEvents(Display.java:2921)</Frame>
          <Frame depth="16">org.eclipse.swt.widgets.Display.readAndDispatch(Display.java:2554)</Frame>
          <Frame depth="17">org.eclipse.ui.internal.Workbench.runEventLoop(Workbench.java:1601)</Frame>
          <Frame depth="18">org.eclipse.ui.internal.Workbench.runUI(Workbench.java:1565)</Frame>
          <Frame depth="19">org.eclipse.ui.internal.Workbench.createAndRunWorkbench(Workbench.java:315)</Frame>
          <Frame depth="20">org.eclipse.ui.PlatformUI.createAndRunWorkbench(PlatformUI.java:143)</Frame>
          <Frame depth="21">org.eclipse.ui.internal.ide.IDEApplication.run(IDEApplication.java:103)</Frame>
          <Frame depth="22">org.eclipse.core.internal.runtime.PlatformActivator$1.run(PlatformActivator.java:230)</Frame>
          <Frame depth="23">org.eclipse.core.runtime.adaptor.EclipseStarter.run(EclipseStarter.java:371)</Frame>
          <Frame depth="24">org.eclipse.core.runtime.adaptor.EclipseStarter.run(EclipseStarter.java:160)</Frame>
          <Frame depth="25">sun.reflect.NativeMethodAccessorImpl.invoke0(Native Method)</Frame>
          <Frame depth="26">sun.reflect.NativeMethodAccessorImpl.invoke(Unknown Source)</Frame>
          <Frame depth="27">sun.reflect.DelegatingMethodAccessorImpl.invoke(Unknown Source)</Frame>
          <Frame depth="28">java.lang.reflect.Method.invoke(Unknown Source)</Frame>
          <Frame depth="29">org.eclipse.core.launcher.Main.invokeFramework(Main.java:330)</Frame>
          <Frame depth="30">org.eclipse.core.launcher.Main.basicRun(Main.java:274)</Frame>
          <Frame depth="31">org.eclipse.core.launcher.Main.run(Main.java:977)</Frame>
          <Frame depth="32">org.eclipse.core.launcher.Main.main(Main.java:952)</Frame>
        </Frames>
      </Stacktrace>
    </Stacktraces>
    <SourceCodeRegions amount="0" />
    <Enumerations amount="0" />
    <bug_status amount="RESOLVED" />
    <resolution amount="WORKSFORME" />
    <WithStack>When I bring up eclipse, I see a detached "ghost view" which has no content.
Clicking on it and hitting escape closes the window. I also see this NPE in the
log. I am not sure if it is related:

!ENTRY org.eclipse.ui 4 0 2005-06-06 10:34:10.78
!MESSAGE java.lang.NullPointerException
!STACK 0
java.lang.NullPointerException
	at
org.eclipse.ui.internal.PartSashContainer.dropObject(PartSashContainer.java:1128)
	at
org.eclipse.ui.internal.PartSashContainer$SashContainerDropTarget.drop(PartSashContainer.java:129)
	at org.eclipse.ui.internal.dnd.DragUtil.performDrag(DragUtil.java:130)
	at org.eclipse.ui.internal.PartStack.dragStart(PartStack.java:1320)
	at org.eclipse.ui.internal.PartStack$1.dragStart(PartStack.java:107)
	at
org.eclipse.ui.internal.presentations.util.TabbedStackPresentation$1.handleEvent(TabbedStackPresentation.java:105)
	at
org.eclipse.ui.internal.presentations.util.AbstractTabFolder.fireEvent(AbstractTabFolder.java:267)
	at
org.eclipse.ui.internal.presentations.util.AbstractTabFolder.fireEvent(AbstractTabFolder.java:280)
	at
org.eclipse.ui.internal.presentations.util.AbstractTabFolder.handleDragStarted(AbstractTabFolder.java:349)
	at
org.eclipse.ui.internal.presentations.util.AbstractTabFolder$2.handleEvent(AbstractTabFolder.java:68)
	at
org.eclipse.ui.presentations.PresentationUtil.handleMouseMove(PresentationUtil.java:96)
	at org.eclipse.ui.presentations.PresentationUtil.access$4(PresentationUtil.java:89)
	at
org.eclipse.ui.presentations.PresentationUtil$2.handleEvent(PresentationUtil.java:61)
	at org.eclipse.swt.widgets.EventTable.sendEvent(EventTable.java:82)
	at org.eclipse.swt.widgets.Widget.sendEvent(Widget.java:842)
	at org.eclipse.swt.widgets.Display.runDeferredEvents(Display.java:2921)
	at org.eclipse.swt.widgets.Display.readAndDispatch(Display.java:2554)
	at org.eclipse.ui.internal.Workbench.runEventLoop(Workbench.java:1601)
	at org.eclipse.ui.internal.Workbench.runUI(Workbench.java:1565)
	at org.eclipse.ui.internal.Workbench.createAndRunWorkbench(Workbench.java:315)
	at org.eclipse.ui.PlatformUI.createAndRunWorkbench(PlatformUI.java:143)
	at org.eclipse.ui.internal.ide.IDEApplication.run(IDEApplication.java:103)
	at
org.eclipse.core.internal.runtime.PlatformActivator$1.run(PlatformActivator.java:230)
	at org.eclipse.core.runtime.adaptor.EclipseStarter.run(EclipseStarter.java:371)
	at org.eclipse.core.runtime.adaptor.EclipseStarter.run(EclipseStarter.java:160)
	at sun.reflect.NativeMethodAccessorImpl.invoke0(Native Method)
	at sun.reflect.NativeMethodAccessorImpl.invoke(Unknown Source)
	at sun.reflect.DelegatingMethodAccessorImpl.invoke(Unknown Source)
	at java.lang.reflect.Method.invoke(Unknown Source)
	at org.eclipse.core.launcher.Main.invokeFramework(Main.java:330)
	at org.eclipse.core.launcher.Main.basicRun(Main.java:274)
	at org.eclipse.core.launcher.Main.run(Main.java:977)
	at org.eclipse.core.launcher.Main.main(Main.java:952)
I am running Eclipse 3.1M7 jdk 1.4.2_06.
Created attachment 23489
ghost view on startup.

windows bmp file. This view can be dragged out of the eclipse main workbench
window

When did you start seeing this? Was there ever a Detached View in your 
perspective (perhaps onto a view that no longer exists??)?

(In reply to comment #3)
&gt; When did you start seeing this? Was there ever a Detached View in your 
&gt; perspective (perhaps onto a view that no longer exists??)?
&gt; 

I don't recollect if I ever had a detached view in my workspace. This view crops
up again after I switch back to the java perspective from the debug perspective
after a debuggin session, even if I had closed it earlier.

MD, does this go away if you reset your perspective?? I can't seem to beat the 
current HEAD into doing this, on XP in any case (using a variety of detached 
views in one or the other of the Debug / Java perspectives...).

Let me know if you can repro this...</WithStack>
    <WithOutStack>When I bring up eclipse, I see a detached "ghost view" which has no content.
Clicking on it and hitting escape closes the window. I also see this NPE in the
log. I am not sure if it is related:

!ENTRY org.eclipse.ui 4 0 2005-06-06 10:34:10.78
!MESSAGE java.lang.NullPointerException
!STACK 0

I am running Eclipse 3.1M7 jdk 1.4.2_06.
Created attachment 23489
ghost view on startup.

windows bmp file. This view can be dragged out of the eclipse main workbench
window

When did you start seeing this? Was there ever a Detached View in your 
perspective (perhaps onto a view that no longer exists??)?

(In reply to comment #3)
&gt; When did you start seeing this? Was there ever a Detached View in your 
&gt; perspective (perhaps onto a view that no longer exists??)?
&gt; 

I don't recollect if I ever had a detached view in my workspace. This view crops
up again after I switch back to the java perspective from the debug perspective
after a debuggin session, even if I had closed it earlier.

MD, does this go away if you reset your perspective?? I can't seem to beat the 
current HEAD into doing this, on XP in any case (using a variety of detached 
views in one or the other of the Debug / Java perspectives...).

Let me know if you can repro this...</WithOutStack>
  </Bug>
  <Bug>
    <BugId amount="98555" />
    <CreationDate amount="2005-06-06 13:51:00 -0400" />
    <DupId amount="" />
    <classification amount="Eclipse" />
    <Product amount="Platform" />
    <component amount="Ant" />
    <Version amount="3.1" />
    <rep_platform amount="All" />
    <op_sys amount="All" />
    <priority amount="P3" />
    <bug_severity amount="normal" />
    <Summery>Javac task hyperlink broken when using presetdef</Summery>
    <Patches amount="0" />
    <Stacktraces amount="0" />
    <SourceCodeRegions amount="0" />
    <Enumerations amount="0" />
    <bug_status amount="RESOLVED" />
    <resolution amount="WONTFIX" />
    <WithStack>related to bug 66861.
When using a presetdef to compile the link to the javac task is not created.
The presetdef defined task is not providing a Location (only the UNKNOWN_LOCATION).

Need to revisit post 3.1 and request improvements in Apache Ant.
As of now 'LATER' and 'REMIND' resolutions are no longer supported.
Please reopen this bug if it is still valid for you.</WithStack>
    <WithOutStack>related to bug 66861.
When using a presetdef to compile the link to the javac task is not created.
The presetdef defined task is not providing a Location (only the UNKNOWN_LOCATION).

Need to revisit post 3.1 and request improvements in Apache Ant.
As of now 'LATER' and 'REMIND' resolutions are no longer supported.
Please reopen this bug if it is still valid for you.</WithOutStack>
  </Bug>
  <Bug>
    <BugId amount="98556" />
    <CreationDate amount="2005-06-06 13:53:00 -0400" />
    <DupId amount="" />
    <classification amount="Eclipse" />
    <Product amount="PDE" />
    <component amount="UI" />
    <Version amount="3.1" />
    <rep_platform amount="PC" />
    <op_sys amount="Windows XP" />
    <priority amount="P3" />
    <bug_severity amount="normal" />
    <Summery>Manifest problems oustside user control must max at warning</Summery>
    <Patches amount="0" />
    <Stacktraces amount="0" />
    <SourceCodeRegions amount="0" />
    <Enumerations amount="0" />
    <bug_status amount="RESOLVED" />
    <resolution amount="FIXED" />
    <WithStack>Problems that we flag in manifests that the user has no control over severity 
must be maxed at warning.
Created attachment 22464
98556 o.e.pde patch.txt

Wassim,

This is a sad change to remove errors from all these places.  It works around
any future bugs that would cause bogus errors on the manifests, but it takes
away a benefit that putting these errors had.  A high price for a bug any
undesired errro marker that we could fix in the future.  Adding more compile
opitons or a global (for All, or All Other errors) would be better for my
taste, not sure why you were against it.

I attach a patch.  Plese review and release all or parts affecting the areas
you expect problems with error markers.  I am not comfortable with it.
Thanks.
I don't like the patch either.  Didn't realize we were doing this much good.

Let's just max the flags at WARNING just for the illegal characters in plugin 
id and extension point id, and leave it at that.  The plugin.dtd is just 
arbitrary in this case, and they might actually change it in the future.

Note that for the extension point id, we still do not allow a dot, ie. it has 
to be simple.

The reason why I was against the global checkbox at this stage is that it may 
take too much time and we had not worked out the semantics on how it would 
affect the property page.
Done.</WithStack>
    <WithOutStack>Problems that we flag in manifests that the user has no control over severity 
must be maxed at warning.
Created attachment 22464
98556 o.e.pde patch.txt

Wassim,

This is a sad change to remove errors from all these places.  It works around
any future bugs that would cause bogus errors on the manifests, but it takes
away a benefit that putting these errors had.  A high price for a bug any
undesired errro marker that we could fix in the future.  Adding more compile
opitons or a global (for All, or All Other errors) would be better for my
taste, not sure why you were against it.

I attach a patch.  Plese review and release all or parts affecting the areas
you expect problems with error markers.  I am not comfortable with it.
Thanks.
I don't like the patch either.  Didn't realize we were doing this much good.

Let's just max the flags at WARNING just for the illegal characters in plugin 
id and extension point id, and leave it at that.  The plugin.dtd is just 
arbitrary in this case, and they might actually change it in the future.

Note that for the extension point id, we still do not allow a dot, ie. it has 
to be simple.

The reason why I was against the global checkbox at this stage is that it may 
take too much time and we had not worked out the semantics on how it would 
affect the property page.
Done.</WithOutStack>
  </Bug>
  <Bug>
    <BugId amount="98557" />
    <CreationDate amount="2005-06-06 14:02:00 -0400" />
    <DupId amount="116034" />
    <classification amount="Tools" />
    <Product amount="CDT" />
    <component amount="cdt-core" />
    <Version amount="3.0" />
    <rep_platform amount="PC" />
    <op_sys amount="Windows XP" />
    <priority amount="P3" />
    <bug_severity amount="major" />
    <Summery>CDT can't open files without extensions</Summery>
    <Patches amount="0" />
    <Stacktraces amount="0" />
    <SourceCodeRegions amount="0" />
    <Enumerations amount="1">
      <Enumeration lines="2">
        <Lines>
          <Line>- create new Standard Make C Project</Line>
          <Line>- create a new file for that project with no extension</Line>
        </Lines>
      </Enumeration>
    </Enumerations>
    <bug_status amount="RESOLVED" />
    <resolution amount="DUPLICATE" />
    <WithStack>I can reproduce this with Eclipse+CDT but not with Eclipse+JDT alone.

Steps to reproduce:
- create new Standard Make C Project
- create a new file for that project with no extension

OR

- import a file to a project that has no extension

The following error is displayed "Unable to create this part due to an internal 
error.  Reason for the failure: Cannot create file buffer."  which is caused by 
a CoreException.
Created attachment 22439
screenshot of the bug
What builds are you using?
M7 or RC1 for the platform?
M7
Devin, I have RC3(platform) and
do not see such behaviour.

Could you please double check with RC3 ... thanks


*** This bug has been marked as a duplicate of 116034 ***</WithStack>
    <WithOutStack>I can reproduce this with Eclipse+CDT but not with Eclipse+JDT alone.

Steps to reproduce:
- create new Standard Make C Project
- create a new file for that project with no extension

OR

- import a file to a project that has no extension

The following error is displayed "Unable to create this part due to an internal 
error.  Reason for the failure: Cannot create file buffer."  which is caused by 
a CoreException.
Created attachment 22439
screenshot of the bug
What builds are you using?
M7 or RC1 for the platform?
M7
Devin, I have RC3(platform) and
do not see such behaviour.

Could you please double check with RC3 ... thanks


*** This bug has been marked as a duplicate of 116034 ***</WithOutStack>
  </Bug>
  <Bug>
    <BugId amount="98558" />
    <CreationDate amount="2005-06-06 14:04:00 -0400" />
    <DupId amount="" />
    <classification amount="BIRT" />
    <Product amount="BIRT" />
    <component amount="Build" />
    <Version amount="1.0.0" />
    <rep_platform amount="PC" />
    <op_sys amount="Windows XP" />
    <priority amount="P3" />
    <bug_severity amount="normal" />
    <Summery>Errors when ant building birt</Summery>
    <Patches amount="0" />
    <Stacktraces amount="0" />
    <SourceCodeRegions amount="4">
      <source_code type="assignment">
        <location start="8653" end="8707" />
        <code>[javac] private IBrowser newBrowserAdapter = null;</code>
      </source_code>
      <source_code type="functioncall">
        <location start="28265" end="28300" />
        <code>[javac] super.start( context );</code>
      </source_code>
      <source_code type="functioncall">
        <location start="28571" end="28605" />
        <code>[javac] super.stop( context );</code>
      </source_code>
      <source_code type="functioncall">
        <location start="30358" end="30426" />
        <code>[javac] ViewerPlugin.getDefault( ).getLog( ).log( errorStatus );</code>
      </source_code>
    </SourceCodeRegions>
    <Enumerations amount="0" />
    <bug_status amount="CLOSED" />
    <resolution amount="FIXED" />
    <WithStack>I'm trying to build the birt project using the instructions on the birt 
eclipse pages and I get the following errors and the build terminates:

    [javac] Compiling 18 source files to C:\eclipse3.1M6
\workspace\org.eclipse.birt.report.viewer\temp.folder\viewer.jar.bin
    [javac] C:\eclipse3.1M6
\workspace\org.eclipse.birt.report.viewer\src\org\eclipse\birt\report\viewer\Vi
ewerPlugin.java:19: package org.eclipse.core.runtime does not exist
    [javac] import org.eclipse.core.runtime.IStatus;
    [javac] ^
    [javac] C:\eclipse3.1M6
\workspace\org.eclipse.birt.report.viewer\src\org\eclipse\birt\report\viewer\Vi
ewerPlugin.java:20: package org.eclipse.core.runtime does not exist
    [javac] import org.eclipse.core.runtime.Plugin;
    [javac] ^
    [javac] C:\eclipse3.1M6
\workspace\org.eclipse.birt.report.viewer\src\org\eclipse\birt\report\viewer\Vi
ewerPlugin.java:21: package org.eclipse.core.runtime does not exist
    [javac] import org.eclipse.core.runtime.Status;
    [javac] ^
    [javac] C:\eclipse3.1M6
\workspace\org.eclipse.birt.report.viewer\src\org\eclipse\birt\report\viewer\Vi
ewerPlugin.java:22: package org.osgi.framework does not exist
    [javac] import org.osgi.framework.BundleContext;
    [javac] ^
    [javac] C:\eclipse3.1M6
\workspace\org.eclipse.birt.report.viewer\src\org\eclipse\birt\report\viewer\Vi
ewerPlugin.java:28: cannot find symbol
    [javac] symbol: class Plugin
    [javac] public class ViewerPlugin extends Plugin
    [javac] ^
    [javac] C:\eclipse3.1M6
\workspace\org.eclipse.birt.report.viewer\src\org\eclipse\birt\report\viewer\Vi
ewerPlugin.java:66: cannot find symbol
    [javac] symbol  : class BundleContext
    [javac] location: class org.eclipse.birt.report.viewer.ViewerPlugin
    [javac] public void start( BundleContext context ) throws Exception
    [javac] ^
    [javac] C:\eclipse3.1M6
\workspace\org.eclipse.birt.report.viewer\src\org\eclipse\birt\report\viewer\Vi
ewerPlugin.java:77: cannot find symbol
    [javac] symbol  : class BundleContext
    [javac] location: class org.eclipse.birt.report.viewer.ViewerPlugin
    [javac] public void stop( BundleContext context ) throws Exception
    [javac] ^
    [javac] C:\eclipse3.1M6
\workspace\org.eclipse.birt.report.viewer\src\org\eclipse\birt\report\viewer\br
owsers\BrowserAccessor.java:14: package org.eclipse.help.browser does not exist
    [javac] import org.eclipse.help.browser.IBrowser;
    [javac] ^
    [javac] C:\eclipse3.1M6
\workspace\org.eclipse.birt.report.viewer\src\org\eclipse\birt\report\viewer\br
owsers\BrowserAccessor.java:22: cannot find symbol
    [javac] symbol  : class IBrowser
    [javac] location: class 
org.eclipse.birt.report.viewer.browsers.BrowserAccessor
    [javac] private static IBrowser browser;
    [javac] ^
    [javac] C:\eclipse3.1M6
\workspace\org.eclipse.birt.report.viewer\src\org\eclipse\birt\report\viewer\br
owsers\BrowserAccessor.java:24: cannot find symbol
    [javac] symbol  : class IBrowser
    [javac] location: class 
org.eclipse.birt.report.viewer.browsers.BrowserAccessor
    [javac] private static IBrowser internalBrowser;
    [javac] ^
    [javac] C:\eclipse3.1M6
\workspace\org.eclipse.birt.report.viewer\src\org\eclipse\birt\report\viewer\br
owsers\BrowserAccessor.java:32: cannot find symbol
    [javac] symbol  : class IBrowser
    [javac] location: class 
org.eclipse.birt.report.viewer.browsers.BrowserAccessor
    [javac] public static synchronized IBrowser getPreviewBrowser( boolean 
forceExternal )
    [javac] ^
    [javac] C:\eclipse3.1M6
\workspace\org.eclipse.birt.report.viewer\src\org\eclipse\birt\report\viewer\br
owsers\BrowserDescriptor.java:12: package org.eclipse.help.browser does not 
exist
    [javac] import org.eclipse.help.browser.IBrowserFactory;
    [javac] ^
    [javac] C:\eclipse3.1M6
\workspace\org.eclipse.birt.report.viewer\src\org\eclipse\birt\report\viewer\br
owsers\BrowserDescriptor.java:24: cannot find symbol
    [javac] symbol  : class IBrowserFactory
    [javac] location: class 
org.eclipse.birt.report.viewer.browsers.BrowserDescriptor
    [javac] private IBrowserFactory factory;
    [javac] ^
    [javac] C:\eclipse3.1M6
\workspace\org.eclipse.birt.report.viewer\src\org\eclipse\birt\report\viewer\br
owsers\BrowserDescriptor.java:33: cannot find symbol
    [javac] symbol  : class IBrowserFactory
    [javac] location: class 
org.eclipse.birt.report.viewer.browsers.BrowserDescriptor
    [javac] public BrowserDescriptor( String id, String label, IBrowserFactory 
factory )
    [javac] ^
    [javac] C:\eclipse3.1M6
\workspace\org.eclipse.birt.report.viewer\src\org\eclipse\birt\report\viewer\br
owsers\BrowserDescriptor.java:67: cannot find symbol
    [javac] symbol  : class IBrowserFactory
    [javac] location: class 
org.eclipse.birt.report.viewer.browsers.BrowserDescriptor
    [javac] public IBrowserFactory getFactory( )
    [javac] ^
    [javac] C:\eclipse3.1M6
\workspace\org.eclipse.birt.report.viewer\src\org\eclipse\birt\report\viewer\br
owsers\BrowserManager.java:19: package org.eclipse.core.runtime does not exist
    [javac] import org.eclipse.core.runtime.CoreException;
    [javac] ^
    [javac] C:\eclipse3.1M6
\workspace\org.eclipse.birt.report.viewer\src\org\eclipse\birt\report\viewer\br
owsers\BrowserManager.java:20: package org.eclipse.core.runtime does not exist
    [javac] import org.eclipse.core.runtime.IConfigurationElement;
    [javac] ^
    [javac] C:\eclipse3.1M6
\workspace\org.eclipse.birt.report.viewer\src\org\eclipse\birt\report\viewer\br
owsers\BrowserManager.java:21: package org.eclipse.core.runtime does not exist
    [javac] import org.eclipse.core.runtime.Platform;
    [javac] ^
    [javac] C:\eclipse3.1M6
\workspace\org.eclipse.birt.report.viewer\src\org\eclipse\birt\report\viewer\br
owsers\BrowserManager.java:22: package org.eclipse.help.browser does not exist
    [javac] import org.eclipse.help.browser.IBrowser;
    [javac] ^
    [javac] C:\eclipse3.1M6
\workspace\org.eclipse.birt.report.viewer\src\org\eclipse\birt\report\viewer\br
owsers\BrowserManager.java:23: package org.eclipse.help.browser does not exist
    [javac] import org.eclipse.help.browser.IBrowserFactory;
    [javac] ^
    [javac] C:\eclipse3.1M6
\workspace\org.eclipse.birt.report.viewer\src\org\eclipse\birt\report\viewer\br
owsers\BrowserManager.java:24: package org.eclipse.osgi.service.environment 
does not exist
    [javac] import org.eclipse.osgi.service.environment.Constants;
    [javac] ^
    [javac] C:\eclipse3.1M6
\workspace\org.eclipse.birt.report.viewer\src\org\eclipse\birt\report\viewer\br
owsers\BrowserManager.java:360: cannot find symbol
    [javac] symbol  : class IBrowser
    [javac] location: class 
org.eclipse.birt.report.viewer.browsers.BrowserManager
    [javac] public IBrowser createBrowser( boolean external )
    [javac] ^
    [javac] C:\eclipse3.1M6
\workspace\org.eclipse.birt.report.viewer\src\org\eclipse\birt\report\viewer\br
owsers\BrowserManager.java:378: cannot find symbol
    [javac] symbol  : class IBrowser
    [javac] location: class 
org.eclipse.birt.report.viewer.browsers.BrowserManager
    [javac] public IBrowser createBrowser( )
    [javac] ^
    [javac] C:\eclipse3.1M6
\workspace\org.eclipse.birt.report.viewer\src\org\eclipse\birt\report\viewer\br
owsers\BrowserManager.java:389: cannot find symbol
    [javac] symbol  : class IBrowser
    [javac] location: class 
org.eclipse.birt.report.viewer.browsers.BrowserManager
    [javac] private IBrowser createBrowserAdapter( boolean external )
    [javac] ^
    [javac] C:\eclipse3.1M6
\workspace\org.eclipse.birt.report.viewer\src\org\eclipse\birt\report\viewer\br
owsers\CurrentBrowser.java:14: package org.eclipse.help.browser does not exist
    [javac] import org.eclipse.help.browser.IBrowser;
    [javac] ^
    [javac] C:\eclipse3.1M6
\workspace\org.eclipse.birt.report.viewer\src\org\eclipse\birt\report\viewer\br
owsers\CurrentBrowser.java:21: cannot find symbol
    [javac] symbol: class IBrowser
    [javac] public class CurrentBrowser implements IBrowser
    [javac] ^
    [javac] C:\eclipse3.1M6
\workspace\org.eclipse.birt.report.viewer\src\org\eclipse\birt\report\viewer\br
owsers\CurrentBrowser.java:23: cannot find symbol
    [javac] symbol  : class IBrowser
    [javac] location: class 
org.eclipse.birt.report.viewer.browsers.CurrentBrowser
    [javac] private IBrowser browserAdapter;
    [javac] ^
    [javac] C:\eclipse3.1M6
\workspace\org.eclipse.birt.report.viewer\src\org\eclipse\birt\report\viewer\br
owsers\CurrentBrowser.java:30: cannot find symbol
    [javac] symbol  : class IBrowser
    [javac] location: class 
org.eclipse.birt.report.viewer.browsers.CurrentBrowser
    [javac] private IBrowser newBrowserAdapter = null;
    [javac] ^
    [javac] C:\eclipse3.1M6
\workspace\org.eclipse.birt.report.viewer\src\org\eclipse\birt\report\viewer\br
owsers\CurrentBrowser.java:55: cannot find symbol
    [javac] symbol  : class IBrowser
    [javac] location: class 
org.eclipse.birt.report.viewer.browsers.CurrentBrowser
    [javac] public CurrentBrowser( IBrowser browserImpl, String 
browserAdapterId, boolean externalBrowser )
    [javac] ^
    [javac] C:\eclipse3.1M6
\workspace\org.eclipse.birt.report.viewer\src\org\eclipse\birt\report\viewer\br
owsers\custom\CustomBrowser.java:16: package org.eclipse.core.runtime does not 
exist
    [javac] import org.eclipse.core.runtime.*;
    [javac] ^
    [javac] C:\eclipse3.1M6
\workspace\org.eclipse.birt.report.viewer\src\org\eclipse\birt\report\viewer\br
owsers\custom\CustomBrowser.java:17: package org.eclipse.help.browser does not 
exist
    [javac] import org.eclipse.help.browser.*;
    [javac] ^
    [javac] C:\eclipse3.1M6
\workspace\org.eclipse.birt.report.viewer\src\org\eclipse\birt\report\viewer\br
owsers\custom\CustomBrowser.java:18: package 
org.eclipse.osgi.service.environment does not exist
    [javac] import org.eclipse.osgi.service.environment.*;
    [javac] ^
    [javac] C:\eclipse3.1M6
\workspace\org.eclipse.birt.report.viewer\src\org\eclipse\birt\report\viewer\br
owsers\custom\CustomBrowser.java:25: cannot find symbol
    [javac] symbol: class IBrowser
    [javac] public class CustomBrowser implements IBrowser
    [javac] ^
    [javac] C:\eclipse3.1M6
\workspace\org.eclipse.birt.report.viewer\src\org\eclipse\birt\report\viewer\br
owsers\custom\CustomBrowserAdapter.java:18: package org.eclipse.core.runtime 
does not exist
    [javac] import org.eclipse.core.runtime.Platform;
    [javac] ^
    [javac] C:\eclipse3.1M6
\workspace\org.eclipse.birt.report.viewer\src\org\eclipse\birt\report\viewer\br
owsers\custom\CustomBrowserAdapter.java:19: package org.eclipse.help.browser 
does not exist
    [javac] import org.eclipse.help.browser.IBrowser;
    [javac] ^
    [javac] C:\eclipse3.1M6
\workspace\org.eclipse.birt.report.viewer\src\org\eclipse\birt\report\viewer\br
owsers\custom\CustomBrowserAdapter.java:20: package 
org.eclipse.osgi.service.environment does not exist
    [javac] import org.eclipse.osgi.service.environment.Constants;
    [javac] ^
    [javac] C:\eclipse3.1M6
\workspace\org.eclipse.birt.report.viewer\src\org\eclipse\birt\report\viewer\br
owsers\custom\CustomBrowserAdapter.java:27: cannot find symbol
    [javac] symbol: class IBrowser
    [javac] public class CustomBrowserAdapter implements IBrowser
    [javac] ^
    [javac] C:\eclipse3.1M6
\workspace\org.eclipse.birt.report.viewer\src\org\eclipse\birt\report\viewer\br
owsers\custom\CustomBrowserFactory.java:14: package org.eclipse.help.browser 
does not exist
    [javac] import org.eclipse.help.browser.IBrowser;
    [javac] ^
    [javac] C:\eclipse3.1M6
\workspace\org.eclipse.birt.report.viewer\src\org\eclipse\birt\report\viewer\br
owsers\custom\CustomBrowserFactory.java:15: package org.eclipse.help.browser 
does not exist
    [javac] import org.eclipse.help.browser.IBrowserFactory;
    [javac] ^
    [javac] C:\eclipse3.1M6
\workspace\org.eclipse.birt.report.viewer\src\org\eclipse\birt\report\viewer\br
owsers\custom\CustomBrowserFactory.java:22: cannot find symbol
    [javac] symbol: class IBrowserFactory
    [javac] public class CustomBrowserFactory implements IBrowserFactory
    [javac] ^
    [javac] C:\eclipse3.1M6
\workspace\org.eclipse.birt.report.viewer\src\org\eclipse\birt\report\viewer\br
owsers\custom\CustomBrowserFactory.java:39: cannot find symbol
    [javac] symbol  : class IBrowser
    [javac] location: class 
org.eclipse.birt.report.viewer.browsers.custom.CustomBrowserFactory
    [javac] public IBrowser createBrowser( )
    [javac] ^
    [javac] C:\eclipse3.1M6
\workspace\org.eclipse.birt.report.viewer\src\org\eclipse\birt\report\viewer\br
owsers\embedded\EmbeddedBrowser.java:19: package org.eclipse.core.runtime does 
not exist
    [javac] import org.eclipse.core.runtime.IProduct;
    [javac] ^
    [javac] C:\eclipse3.1M6
\workspace\org.eclipse.birt.report.viewer\src\org\eclipse\birt\report\viewer\br
owsers\embedded\EmbeddedBrowser.java:20: package org.eclipse.core.runtime does 
not exist
    [javac] import org.eclipse.core.runtime.Path;
    [javac] ^
    [javac] C:\eclipse3.1M6
\workspace\org.eclipse.birt.report.viewer\src\org\eclipse\birt\report\viewer\br
owsers\embedded\EmbeddedBrowser.java:21: package org.eclipse.core.runtime does 
not exist
    [javac] import org.eclipse.core.runtime.Platform;
    [javac] ^
    [javac] C:\eclipse3.1M6
\workspace\org.eclipse.birt.report.viewer\src\org\eclipse\birt\report\viewer\br
owsers\embedded\EmbeddedBrowser.java:22: package org.eclipse.core.runtime does 
not exist
    [javac] import org.eclipse.core.runtime.Preferences;
    [javac] ^
    [javac] C:\eclipse3.1M6
\workspace\org.eclipse.birt.report.viewer\src\org\eclipse\birt\report\viewer\br
owsers\embedded\EmbeddedBrowser.java:23: package org.eclipse.jface.resource 
does not exist
    [javac] import org.eclipse.jface.resource.ImageDescriptor;
    [javac] ^
    [javac] C:\eclipse3.1M6
\workspace\org.eclipse.birt.report.viewer\src\org\eclipse\birt\report\viewer\br
owsers\embedded\EmbeddedBrowser.java:44: package org.osgi.framework does not 
exist
    [javac] import org.osgi.framework.Bundle;
    [javac] ^
    [javac] C:\eclipse3.1M6
\workspace\org.eclipse.birt.report.viewer\src\org\eclipse\birt\report\viewer\br
owsers\embedded\EmbeddedBrowser.java:63: cannot find symbol
    [javac] symbol  : class Preferences
    [javac] location: class 
org.eclipse.birt.report.viewer.browsers.embedded.EmbeddedBrowser
    [javac] private Preferences store;
    [javac] ^
    [javac] C:\eclipse3.1M6
\workspace\org.eclipse.birt.report.viewer\src\org\eclipse\birt\report\viewer\br
owsers\embedded\EmbeddedBrowserAdapter.java:14: package 
org.eclipse.help.browser does not exist
    [javac] import org.eclipse.help.browser.IBrowser;
    [javac] ^
    [javac] C:\eclipse3.1M6
\workspace\org.eclipse.birt.report.viewer\src\org\eclipse\birt\report\viewer\br
owsers\embedded\EmbeddedBrowserAdapter.java:22: cannot find symbol
    [javac] symbol: class IBrowser
    [javac] public class EmbeddedBrowserAdapter implements IBrowser
    [javac] ^
    [javac] C:\eclipse3.1M6
\workspace\org.eclipse.birt.report.viewer\src\org\eclipse\birt\report\viewer\br
owsers\embedded\EmbeddedBrowserFactory.java:14: package 
org.eclipse.help.browser does not exist
    [javac] import org.eclipse.help.browser.IBrowser;
    [javac] ^
    [javac] C:\eclipse3.1M6
\workspace\org.eclipse.birt.report.viewer\src\org\eclipse\birt\report\viewer\br
owsers\embedded\EmbeddedBrowserFactory.java:15: package 
org.eclipse.help.browser does not exist
    [javac] import org.eclipse.help.browser.IBrowserFactory;
    [javac] ^
    [javac] C:\eclipse3.1M6
\workspace\org.eclipse.birt.report.viewer\src\org\eclipse\birt\report\viewer\br
owsers\embedded\EmbeddedBrowserFactory.java:22: cannot find symbol
    [javac] symbol: class IBrowserFactory
    [javac] public class EmbeddedBrowserFactory implements IBrowserFactory
    [javac] ^
    [javac] C:\eclipse3.1M6
\workspace\org.eclipse.birt.report.viewer\src\org\eclipse\birt\report\viewer\br
owsers\embedded\EmbeddedBrowserFactory.java:47: cannot find symbol
    [javac] symbol  : class IBrowser
    [javac] location: class 
org.eclipse.birt.report.viewer.browsers.embedded.EmbeddedBrowserFactory
    [javac] public IBrowser createBrowser( )
    [javac] ^
    [javac] C:\eclipse3.1M6
\workspace\org.eclipse.birt.report.viewer\src\org\eclipse\birt\report\viewer\br
owsers\system\SystemBrowserAdapter.java:15: package org.eclipse.help.browser 
does not exist
    [javac] import org.eclipse.help.browser.IBrowser;
    [javac] ^
    [javac] C:\eclipse3.1M6
\workspace\org.eclipse.birt.report.viewer\src\org\eclipse\birt\report\viewer\br
owsers\system\SystemBrowserAdapter.java:23: cannot find symbol
    [javac] symbol: class IBrowser
    [javac] public class SystemBrowserAdapter implements IBrowser
    [javac] ^
    [javac] C:\eclipse3.1M6
\workspace\org.eclipse.birt.report.viewer\src\org\eclipse\birt\report\viewer\br
owsers\system\SystemBrowserFactory.java:14: package org.eclipse.core.runtime 
does not exist
    [javac] import org.eclipse.core.runtime.Platform;
    [javac] ^
    [javac] C:\eclipse3.1M6
\workspace\org.eclipse.birt.report.viewer\src\org\eclipse\birt\report\viewer\br
owsers\system\SystemBrowserFactory.java:15: package org.eclipse.help.browser 
does not exist
    [javac] import org.eclipse.help.browser.IBrowser;
    [javac] ^
    [javac] C:\eclipse3.1M6
\workspace\org.eclipse.birt.report.viewer\src\org\eclipse\birt\report\viewer\br
owsers\system\SystemBrowserFactory.java:16: package org.eclipse.help.browser 
does not exist
    [javac] import org.eclipse.help.browser.IBrowserFactory;
    [javac] ^
    [javac] C:\eclipse3.1M6
\workspace\org.eclipse.birt.report.viewer\src\org\eclipse\birt\report\viewer\br
owsers\system\SystemBrowserFactory.java:17: package 
org.eclipse.osgi.service.environment does not exist
    [javac] import org.eclipse.osgi.service.environment.Constants;
    [javac] ^
    [javac] C:\eclipse3.1M6
\workspace\org.eclipse.birt.report.viewer\src\org\eclipse\birt\report\viewer\br
owsers\system\SystemBrowserFactory.java:23: cannot find symbol
    [javac] symbol: class IBrowserFactory
    [javac] public class SystemBrowserFactory implements IBrowserFactory
    [javac] ^
    [javac] C:\eclipse3.1M6
\workspace\org.eclipse.birt.report.viewer\src\org\eclipse\birt\report\viewer\br
owsers\system\SystemBrowserFactory.java:48: cannot find symbol
    [javac] symbol  : class IBrowser
    [javac] location: class 
org.eclipse.birt.report.viewer.browsers.system.SystemBrowserFactory
    [javac] public IBrowser createBrowser( )
    [javac] ^
    [javac] C:\eclipse3.1M6
\workspace\org.eclipse.birt.report.viewer\src\org\eclipse\birt\report\viewer\ut
ilities\AppServerWrapper.java:13: package org.eclipse.core.runtime does not 
exist
    [javac] import org.eclipse.core.runtime.CoreException;
    [javac] ^
    [javac] C:\eclipse3.1M6
\workspace\org.eclipse.birt.report.viewer\src\org\eclipse\birt\report\viewer\ut
ilities\AppServerWrapper.java:14: package org.eclipse.core.runtime does not 
exist
    [javac] import org.eclipse.core.runtime.IConfigurationElement;
    [javac] ^
    [javac] C:\eclipse3.1M6
\workspace\org.eclipse.birt.report.viewer\src\org\eclipse\birt\report\viewer\ut
ilities\AppServerWrapper.java:15: package org.eclipse.core.runtime does not 
exist
    [javac] import org.eclipse.core.runtime.IExtension;
    [javac] ^
    [javac] C:\eclipse3.1M6
\workspace\org.eclipse.birt.report.viewer\src\org\eclipse\birt\report\viewer\ut
ilities\AppServerWrapper.java:16: package org.eclipse.core.runtime does not 
exist
    [javac] import org.eclipse.core.runtime.IExtensionPoint;
    [javac] ^
    [javac] C:\eclipse3.1M6
\workspace\org.eclipse.birt.report.viewer\src\org\eclipse\birt\report\viewer\ut
ilities\AppServerWrapper.java:17: package org.eclipse.core.runtime does not 
exist
    [javac] import org.eclipse.core.runtime.IStatus;
    [javac] ^
    [javac] C:\eclipse3.1M6
\workspace\org.eclipse.birt.report.viewer\src\org\eclipse\birt\report\viewer\ut
ilities\AppServerWrapper.java:18: package org.eclipse.core.runtime does not 
exist
    [javac] import org.eclipse.core.runtime.Platform;
    [javac] ^
    [javac] C:\eclipse3.1M6
\workspace\org.eclipse.birt.report.viewer\src\org\eclipse\birt\report\viewer\ut
ilities\AppServerWrapper.java:19: package org.eclipse.core.runtime does not 
exist
    [javac] import org.eclipse.core.runtime.Status;
    [javac] ^
    [javac] C:\eclipse3.1M6
\workspace\org.eclipse.birt.report.viewer\src\org\eclipse\birt\report\viewer\ut
ilities\AppServerWrapper.java:20: package org.eclipse.help.internal.appserver 
does not exist
    [javac] import org.eclipse.help.internal.appserver.AppserverPlugin;
    [javac] ^
    [javac] C:\eclipse3.1M6
\workspace\org.eclipse.birt.report.viewer\src\org\eclipse\birt\report\viewer\ut
ilities\AppServerWrapper.java:21: package org.eclipse.help.internal.appserver 
does not exist
    [javac] import org.eclipse.help.internal.appserver.IWebappServer;
    [javac] ^
    [javac] C:\eclipse3.1M6
\workspace\org.eclipse.birt.report.viewer\src\org\eclipse\birt\report\viewer\ut
ilities\AppServerWrapper.java:53: cannot find symbol
    [javac] symbol  : class IWebappServer
    [javac] location: class 
org.eclipse.birt.report.viewer.utilities.AppServerWrapper
    [javac] private IWebappServer appServer;
    [javac] ^
    [javac] C:\eclipse3.1M6
\workspace\org.eclipse.birt.report.viewer\src\org\eclipse\birt\report\viewer\ut
ilities\AppServerWrapper.java:86: cannot find symbol
    [javac] symbol  : class IWebappServer
    [javac] location: class 
org.eclipse.birt.report.viewer.utilities.AppServerWrapper
    [javac] public synchronized IWebappServer getAppServer( ) throws 
CoreException
    [javac] ^
    [javac] C:\eclipse3.1M6
\workspace\org.eclipse.birt.report.viewer\src\org\eclipse\birt\report\viewer\ut
ilities\AppServerWrapper.java:86: cannot find symbol
    [javac] symbol  : class CoreException
    [javac] location: class 
org.eclipse.birt.report.viewer.utilities.AppServerWrapper
    [javac] public synchronized IWebappServer getAppServer( ) throws 
CoreException
    [javac] ^
    [javac] C:\eclipse3.1M6
\workspace\org.eclipse.birt.report.viewer\src\org\eclipse\birt\report\viewer\ut
ilities\AppServerWrapper.java:105: cannot find symbol
    [javac] symbol  : class CoreException
    [javac] location: class 
org.eclipse.birt.report.viewer.utilities.AppServerWrapper
    [javac] private void createWebappServer( ) throws CoreException
    [javac] ^
    [javac] C:\eclipse3.1M6
\workspace\org.eclipse.birt.report.viewer\src\org\eclipse\birt\report\viewer\ut
ilities\AppServerWrapper.java:159: cannot find symbol
    [javac] symbol  : class CoreException
    [javac] location: class 
org.eclipse.birt.report.viewer.utilities.AppServerWrapper
    [javac] private void startWebappServer( ) throws CoreException
    [javac] ^
    [javac] C:\eclipse3.1M6
\workspace\org.eclipse.birt.report.viewer\src\org\eclipse\birt\report\viewer\ut
ilities\WebViewer.java:21: package org.eclipse.core.runtime does not exist
    [javac] import org.eclipse.core.runtime.CoreException;
    [javac] ^
    [javac] C:\eclipse3.1M6
\workspace\org.eclipse.birt.report.viewer\src\org\eclipse\birt\report\viewer\ut
ilities\WebViewer.java:22: package org.eclipse.core.runtime does not exist
    [javac] import org.eclipse.core.runtime.Path;
    [javac] ^
    [javac] C:\eclipse3.1M6
\workspace\org.eclipse.birt.report.viewer\src\org\eclipse\birt\report\viewer\ut
ilities\WebappAccessor.java:18: package org.eclipse.core.runtime does not exist
    [javac] import org.eclipse.core.runtime.CoreException;
    [javac] ^
    [javac] C:\eclipse3.1M6
\workspace\org.eclipse.birt.report.viewer\src\org\eclipse\birt\report\viewer\ut
ilities\WebappAccessor.java:19: package org.eclipse.core.runtime does not exist
    [javac] import org.eclipse.core.runtime.IPath;
    [javac] ^
    [javac] C:\eclipse3.1M6
\workspace\org.eclipse.birt.report.viewer\src\org\eclipse\birt\report\viewer\ut
ilities\WebappAccessor.java:20: package org.eclipse.core.runtime does not exist
    [javac] import org.eclipse.core.runtime.IStatus;
    [javac] ^
    [javac] C:\eclipse3.1M6
\workspace\org.eclipse.birt.report.viewer\src\org\eclipse\birt\report\viewer\ut
ilities\WebappAccessor.java:21: package org.eclipse.core.runtime does not exist
    [javac] import org.eclipse.core.runtime.Path;
    [javac] ^
    [javac] C:\eclipse3.1M6
\workspace\org.eclipse.birt.report.viewer\src\org\eclipse\birt\report\viewer\ut
ilities\WebappAccessor.java:22: package org.eclipse.core.runtime does not exist
    [javac] import org.eclipse.core.runtime.Platform;
    [javac] ^
    [javac] C:\eclipse3.1M6
\workspace\org.eclipse.birt.report.viewer\src\org\eclipse\birt\report\viewer\ut
ilities\WebappAccessor.java:23: package org.eclipse.core.runtime does not exist
    [javac] import org.eclipse.core.runtime.Status;
    [javac] ^
    [javac] C:\eclipse3.1M6
\workspace\org.eclipse.birt.report.viewer\src\org\eclipse\birt\report\viewer\ut
ilities\WebappAccessor.java:24: package org.eclipse.help.internal.appserver 
does not exist
    [javac] import org.eclipse.help.internal.appserver.IWebappServer;
    [javac] ^
    [javac] C:\eclipse3.1M6
\workspace\org.eclipse.birt.report.viewer\src\org\eclipse\birt\report\viewer\ut
ilities\WebappAccessor.java:25: package org.eclipse.help.internal.appserver 
does not exist
    [javac] import 
org.eclipse.help.internal.appserver.PluginClassLoaderWrapper;
    [javac] ^
    [javac] C:\eclipse3.1M6
\workspace\org.eclipse.birt.report.viewer\src\org\eclipse\birt\report\viewer\ut
ilities\WebappAccessor.java:26: package org.osgi.framework does not exist
    [javac] import org.osgi.framework.Bundle;
    [javac] ^
    [javac] C:\eclipse3.1M6
\workspace\org.eclipse.birt.report.viewer\src\org\eclipse\birt\report\viewer\ut
ilities\WebappAccessor.java:58: cannot find symbol
    [javac] symbol  : class IPath
    [javac] location: class 
org.eclipse.birt.report.viewer.utilities.WebappAccessor
    [javac] public synchronized static void start( String webappName, String 
pluginId, IPath path ) throws CoreException
    [javac] ^
    [javac] C:\eclipse3.1M6
\workspace\org.eclipse.birt.report.viewer\src\org\eclipse\birt\report\viewer\ut
ilities\WebappAccessor.java:58: cannot find symbol
    [javac] symbol  : class CoreException
    [javac] location: class 
org.eclipse.birt.report.viewer.utilities.WebappAccessor
    [javac] public synchronized static void start( String webappName, String 
pluginId, IPath path ) throws CoreException
    [javac] ^
    [javac] C:\eclipse3.1M6
\workspace\org.eclipse.birt.report.viewer\src\org\eclipse\birt\report\viewer\ut
ilities\WebappAccessor.java:82: cannot find symbol
    [javac] symbol  : class CoreException
    [javac] location: class 
org.eclipse.birt.report.viewer.utilities.WebappAccessor
    [javac] public static void stop( String webappName ) throws CoreException
    [javac] ^
    [javac] C:\eclipse3.1M6
\workspace\org.eclipse.birt.report.viewer\src\org\eclipse\birt\report\viewer\ut
ilities\WebappAccessor.java:136: cannot find symbol
    [javac] symbol  : class IPath
    [javac] location: class 
org.eclipse.birt.report.viewer.utilities.WebappAccessor
    [javac] private static IPath getWebappPath( String pluginId, IPath path )
    [javac] ^
    [javac] C:\eclipse3.1M6
\workspace\org.eclipse.birt.report.viewer\src\org\eclipse\birt\report\viewer\ut
ilities\WebappAccessor.java:136: cannot find symbol
    [javac] symbol  : class IPath
    [javac] location: class 
org.eclipse.birt.report.viewer.utilities.WebappAccessor
    [javac] private static IPath getWebappPath( String pluginId, IPath path )
    [javac] ^
    [javac] C:\eclipse3.1M6
\workspace\org.eclipse.birt.report.viewer\src\org\eclipse\birt\report\viewer\ut
ilities\WebappAccessor.java:137: cannot find symbol
    [javac] symbol  : class CoreException
    [javac] location: class 
org.eclipse.birt.report.viewer.utilities.WebappAccessor
    [javac] throws CoreException
    [javac] ^
    [javac] C:\eclipse3.1M6
\workspace\org.eclipse.birt.report.viewer\src\org\eclipse\birt\report\viewer\Vi
ewerPlugin.java:68: cannot find symbol
    [javac] symbol  : variable super
    [javac] location: class org.eclipse.birt.report.viewer.ViewerPlugin
    [javac] super.start( context );
    [javac] ^
    [javac] C:\eclipse3.1M6
\workspace\org.eclipse.birt.report.viewer\src\org\eclipse\birt\report\viewer\Vi
ewerPlugin.java:80: cannot find symbol
    [javac] symbol  : variable super
    [javac] location: class org.eclipse.birt.report.viewer.ViewerPlugin
    [javac] super.stop( context );
    [javac] ^
    [javac] C:\eclipse3.1M6
\workspace\org.eclipse.birt.report.viewer\src\org\eclipse\birt\report\viewer\Vi
ewerPlugin.java:138: cannot find symbol
    [javac] symbol  : class Status
    [javac] location: class org.eclipse.birt.report.viewer.ViewerPlugin
    [javac] Status errorStatus = new Status( IStatus.ERROR, PLUGIN_ID, 
IStatus.OK, message, ex );
    [javac] ^
    [javac] C:\eclipse3.1M6
\workspace\org.eclipse.birt.report.viewer\src\org\eclipse\birt\report\viewer\Vi
ewerPlugin.java:138: cannot find symbol
    [javac] symbol  : class Status
    [javac] location: class org.eclipse.birt.report.viewer.ViewerPlugin
    [javac] Status errorStatus = new Status( IStatus.ERROR, PLUGIN_ID, 
IStatus.OK, message, ex );
    [javac] ^
    [javac] C:\eclipse3.1M6
\workspace\org.eclipse.birt.report.viewer\src\org\eclipse\birt\report\viewer\Vi
ewerPlugin.java:138: cannot find symbol
    [javac] symbol  : variable IStatus
    [javac] location: class org.eclipse.birt.report.viewer.ViewerPlugin
    [javac] Status errorStatus = new Status( IStatus.ERROR, PLUGIN_ID, 
IStatus.OK, message, ex );
    [javac] ^
    [javac] C:\eclipse3.1M6
\workspace\org.eclipse.birt.report.viewer\src\org\eclipse\birt\report\viewer\Vi
ewerPlugin.java:138: cannot find symbol
    [javac] symbol  : variable IStatus
    [javac] location: class org.eclipse.birt.report.viewer.ViewerPlugin
    [javac] Status errorStatus = new Status( IStatus.ERROR, PLUGIN_ID, 
IStatus.OK, message, ex );
    [javac] ^
    [javac] C:\eclipse3.1M6
\workspace\org.eclipse.birt.report.viewer\src\org\eclipse\birt\report\viewer\Vi
ewerPlugin.java:139: cannot find symbol
    [javac] symbol  : method getLog()
    [javac] location: class org.eclipse.birt.report.viewer.ViewerPlugin
    [javac] ViewerPlugin.getDefault( ).getLog( ).log( errorStatus );
    [javac] ^
    [javac] 100 errors

BUILD FAILED
C:\eclipse3.1M6\workspace\org.eclipse.birt.report.viewer\BuildViewer.xml:418: 
Compile failed; see the compiler error output for details.
Made necessary change in viewer build script to support Eclipse3.1
This issue has gone.
Closed.</WithStack>
    <WithOutStack>I'm trying to build the birt project using the instructions on the birt 
eclipse pages and I get the following errors and the build terminates:

    [javac] Compiling 18 source files to C:\eclipse3.1M6
\workspace\org.eclipse.birt.report.viewer\temp.folder\viewer.jar.bin
    [javac] C:\eclipse3.1M6
\workspace\org.eclipse.birt.report.viewer\src\org\eclipse\birt\report\viewer\Vi
ewerPlugin.java:19: package org.eclipse.core.runtime does not exist
    [javac] import org.eclipse.core.runtime.IStatus;
    [javac] ^
    [javac] C:\eclipse3.1M6
\workspace\org.eclipse.birt.report.viewer\src\org\eclipse\birt\report\viewer\Vi
ewerPlugin.java:20: package org.eclipse.core.runtime does not exist
    [javac] import org.eclipse.core.runtime.Plugin;
    [javac] ^
    [javac] C:\eclipse3.1M6
\workspace\org.eclipse.birt.report.viewer\src\org\eclipse\birt\report\viewer\Vi
ewerPlugin.java:21: package org.eclipse.core.runtime does not exist
    [javac] import org.eclipse.core.runtime.Status;
    [javac] ^
    [javac] C:\eclipse3.1M6
\workspace\org.eclipse.birt.report.viewer\src\org\eclipse\birt\report\viewer\Vi
ewerPlugin.java:22: package org.osgi.framework does not exist
    [javac] import org.osgi.framework.BundleContext;
    [javac] ^
    [javac] C:\eclipse3.1M6
\workspace\org.eclipse.birt.report.viewer\src\org\eclipse\birt\report\viewer\Vi
ewerPlugin.java:28: cannot find symbol
    [javac] symbol: class Plugin
    [javac] public class ViewerPlugin extends Plugin
    [javac] ^
    [javac] C:\eclipse3.1M6
\workspace\org.eclipse.birt.report.viewer\src\org\eclipse\birt\report\viewer\Vi
ewerPlugin.java:66: cannot find symbol
    [javac] symbol  : class BundleContext
    [javac] location: class org.eclipse.birt.report.viewer.ViewerPlugin
    [javac] public void start( BundleContext context ) throws Exception
    [javac] ^
    [javac] C:\eclipse3.1M6
\workspace\org.eclipse.birt.report.viewer\src\org\eclipse\birt\report\viewer\Vi
ewerPlugin.java:77: cannot find symbol
    [javac] symbol  : class BundleContext
    [javac] location: class org.eclipse.birt.report.viewer.ViewerPlugin
    [javac] public void stop( BundleContext context ) throws Exception
    [javac] ^
    [javac] C:\eclipse3.1M6
\workspace\org.eclipse.birt.report.viewer\src\org\eclipse\birt\report\viewer\br
owsers\BrowserAccessor.java:14: package org.eclipse.help.browser does not exist
    [javac] import org.eclipse.help.browser.IBrowser;
    [javac] ^
    [javac] C:\eclipse3.1M6
\workspace\org.eclipse.birt.report.viewer\src\org\eclipse\birt\report\viewer\br
owsers\BrowserAccessor.java:22: cannot find symbol
    [javac] symbol  : class IBrowser
    [javac] location: class 
org.eclipse.birt.report.viewer.browsers.BrowserAccessor
    [javac] private static IBrowser browser;
    [javac] ^
    [javac] C:\eclipse3.1M6
\workspace\org.eclipse.birt.report.viewer\src\org\eclipse\birt\report\viewer\br
owsers\BrowserAccessor.java:24: cannot find symbol
    [javac] symbol  : class IBrowser
    [javac] location: class 
org.eclipse.birt.report.viewer.browsers.BrowserAccessor
    [javac] private static IBrowser internalBrowser;
    [javac] ^
    [javac] C:\eclipse3.1M6
\workspace\org.eclipse.birt.report.viewer\src\org\eclipse\birt\report\viewer\br
owsers\BrowserAccessor.java:32: cannot find symbol
    [javac] symbol  : class IBrowser
    [javac] location: class 
org.eclipse.birt.report.viewer.browsers.BrowserAccessor
    [javac] public static synchronized IBrowser getPreviewBrowser( boolean 
forceExternal )
    [javac] ^
    [javac] C:\eclipse3.1M6
\workspace\org.eclipse.birt.report.viewer\src\org\eclipse\birt\report\viewer\br
owsers\BrowserDescriptor.java:12: package org.eclipse.help.browser does not 
exist
    [javac] import org.eclipse.help.browser.IBrowserFactory;
    [javac] ^
    [javac] C:\eclipse3.1M6
\workspace\org.eclipse.birt.report.viewer\src\org\eclipse\birt\report\viewer\br
owsers\BrowserDescriptor.java:24: cannot find symbol
    [javac] symbol  : class IBrowserFactory
    [javac] location: class 
org.eclipse.birt.report.viewer.browsers.BrowserDescriptor
    [javac] private IBrowserFactory factory;
    [javac] ^
    [javac] C:\eclipse3.1M6
\workspace\org.eclipse.birt.report.viewer\src\org\eclipse\birt\report\viewer\br
owsers\BrowserDescriptor.java:33: cannot find symbol
    [javac] symbol  : class IBrowserFactory
    [javac] location: class 
org.eclipse.birt.report.viewer.browsers.BrowserDescriptor
    [javac] public BrowserDescriptor( String id, String label, IBrowserFactory 
factory )
    [javac] ^
    [javac] C:\eclipse3.1M6
\workspace\org.eclipse.birt.report.viewer\src\org\eclipse\birt\report\viewer\br
owsers\BrowserDescriptor.java:67: cannot find symbol
    [javac] symbol  : class IBrowserFactory
    [javac] location: class 
org.eclipse.birt.report.viewer.browsers.BrowserDescriptor
    [javac] public IBrowserFactory getFactory( )
    [javac] ^
    [javac] C:\eclipse3.1M6
\workspace\org.eclipse.birt.report.viewer\src\org\eclipse\birt\report\viewer\br
owsers\BrowserManager.java:19: package org.eclipse.core.runtime does not exist
    [javac] import org.eclipse.core.runtime.CoreException;
    [javac] ^
    [javac] C:\eclipse3.1M6
\workspace\org.eclipse.birt.report.viewer\src\org\eclipse\birt\report\viewer\br
owsers\BrowserManager.java:20: package org.eclipse.core.runtime does not exist
    [javac] import org.eclipse.core.runtime.IConfigurationElement;
    [javac] ^
    [javac] C:\eclipse3.1M6
\workspace\org.eclipse.birt.report.viewer\src\org\eclipse\birt\report\viewer\br
owsers\BrowserManager.java:21: package org.eclipse.core.runtime does not exist
    [javac] import org.eclipse.core.runtime.Platform;
    [javac] ^
    [javac] C:\eclipse3.1M6
\workspace\org.eclipse.birt.report.viewer\src\org\eclipse\birt\report\viewer\br
owsers\BrowserManager.java:22: package org.eclipse.help.browser does not exist
    [javac] import org.eclipse.help.browser.IBrowser;
    [javac] ^
    [javac] C:\eclipse3.1M6
\workspace\org.eclipse.birt.report.viewer\src\org\eclipse\birt\report\viewer\br
owsers\BrowserManager.java:23: package org.eclipse.help.browser does not exist
    [javac] import org.eclipse.help.browser.IBrowserFactory;
    [javac] ^
    [javac] C:\eclipse3.1M6
\workspace\org.eclipse.birt.report.viewer\src\org\eclipse\birt\report\viewer\br
owsers\BrowserManager.java:24: package org.eclipse.osgi.service.environment 
does not exist
    [javac] import org.eclipse.osgi.service.environment.Constants;
    [javac] ^
    [javac] C:\eclipse3.1M6
\workspace\org.eclipse.birt.report.viewer\src\org\eclipse\birt\report\viewer\br
owsers\BrowserManager.java:360: cannot find symbol
    [javac] symbol  : class IBrowser
    [javac] location: class 
org.eclipse.birt.report.viewer.browsers.BrowserManager
    [javac] public IBrowser createBrowser( boolean external )
    [javac] ^
    [javac] C:\eclipse3.1M6
\workspace\org.eclipse.birt.report.viewer\src\org\eclipse\birt\report\viewer\br
owsers\BrowserManager.java:378: cannot find symbol
    [javac] symbol  : class IBrowser
    [javac] location: class 
org.eclipse.birt.report.viewer.browsers.BrowserManager
    [javac] public IBrowser createBrowser( )
    [javac] ^
    [javac] C:\eclipse3.1M6
\workspace\org.eclipse.birt.report.viewer\src\org\eclipse\birt\report\viewer\br
owsers\BrowserManager.java:389: cannot find symbol
    [javac] symbol  : class IBrowser
    [javac] location: class 
org.eclipse.birt.report.viewer.browsers.BrowserManager
    [javac] private IBrowser createBrowserAdapter( boolean external )
    [javac] ^
    [javac] C:\eclipse3.1M6
\workspace\org.eclipse.birt.report.viewer\src\org\eclipse\birt\report\viewer\br
owsers\CurrentBrowser.java:14: package org.eclipse.help.browser does not exist
    [javac] import org.eclipse.help.browser.IBrowser;
    [javac] ^
    [javac] C:\eclipse3.1M6
\workspace\org.eclipse.birt.report.viewer\src\org\eclipse\birt\report\viewer\br
owsers\CurrentBrowser.java:21: cannot find symbol
    [javac] symbol: class IBrowser
    [javac] public class CurrentBrowser implements IBrowser
    [javac] ^
    [javac] C:\eclipse3.1M6
\workspace\org.eclipse.birt.report.viewer\src\org\eclipse\birt\report\viewer\br
owsers\CurrentBrowser.java:23: cannot find symbol
    [javac] symbol  : class IBrowser
    [javac] location: class 
org.eclipse.birt.report.viewer.browsers.CurrentBrowser
    [javac] private IBrowser browserAdapter;
    [javac] ^
    [javac] C:\eclipse3.1M6
\workspace\org.eclipse.birt.report.viewer\src\org\eclipse\birt\report\viewer\br
owsers\CurrentBrowser.java:30: cannot find symbol
    [javac] symbol  : class IBrowser
    [javac] location: class 
org.eclipse.birt.report.viewer.browsers.CurrentBrowser
    [javac] private IBrowser newBrowserAdapter = null;
    [javac] ^
    [javac] C:\eclipse3.1M6
\workspace\org.eclipse.birt.report.viewer\src\org\eclipse\birt\report\viewer\br
owsers\CurrentBrowser.java:55: cannot find symbol
    [javac] symbol  : class IBrowser
    [javac] location: class 
org.eclipse.birt.report.viewer.browsers.CurrentBrowser
    [javac] public CurrentBrowser( IBrowser browserImpl, String 
browserAdapterId, boolean externalBrowser )
    [javac] ^
    [javac] C:\eclipse3.1M6
\workspace\org.eclipse.birt.report.viewer\src\org\eclipse\birt\report\viewer\br
owsers\custom\CustomBrowser.java:16: package org.eclipse.core.runtime does not 
exist
    [javac] import org.eclipse.core.runtime.*;
    [javac] ^
    [javac] C:\eclipse3.1M6
\workspace\org.eclipse.birt.report.viewer\src\org\eclipse\birt\report\viewer\br
owsers\custom\CustomBrowser.java:17: package org.eclipse.help.browser does not 
exist
    [javac] import org.eclipse.help.browser.*;
    [javac] ^
    [javac] C:\eclipse3.1M6
\workspace\org.eclipse.birt.report.viewer\src\org\eclipse\birt\report\viewer\br
owsers\custom\CustomBrowser.java:18: package 
org.eclipse.osgi.service.environment does not exist
    [javac] import org.eclipse.osgi.service.environment.*;
    [javac] ^
    [javac] C:\eclipse3.1M6
\workspace\org.eclipse.birt.report.viewer\src\org\eclipse\birt\report\viewer\br
owsers\custom\CustomBrowser.java:25: cannot find symbol
    [javac] symbol: class IBrowser
    [javac] public class CustomBrowser implements IBrowser
    [javac] ^
    [javac] C:\eclipse3.1M6
\workspace\org.eclipse.birt.report.viewer\src\org\eclipse\birt\report\viewer\br
owsers\custom\CustomBrowserAdapter.java:18: package org.eclipse.core.runtime 
does not exist
    [javac] import org.eclipse.core.runtime.Platform;
    [javac] ^
    [javac] C:\eclipse3.1M6
\workspace\org.eclipse.birt.report.viewer\src\org\eclipse\birt\report\viewer\br
owsers\custom\CustomBrowserAdapter.java:19: package org.eclipse.help.browser 
does not exist
    [javac] import org.eclipse.help.browser.IBrowser;
    [javac] ^
    [javac] C:\eclipse3.1M6
\workspace\org.eclipse.birt.report.viewer\src\org\eclipse\birt\report\viewer\br
owsers\custom\CustomBrowserAdapter.java:20: package 
org.eclipse.osgi.service.environment does not exist
    [javac] import org.eclipse.osgi.service.environment.Constants;
    [javac] ^
    [javac] C:\eclipse3.1M6
\workspace\org.eclipse.birt.report.viewer\src\org\eclipse\birt\report\viewer\br
owsers\custom\CustomBrowserAdapter.java:27: cannot find symbol
    [javac] symbol: class IBrowser
    [javac] public class CustomBrowserAdapter implements IBrowser
    [javac] ^
    [javac] C:\eclipse3.1M6
\workspace\org.eclipse.birt.report.viewer\src\org\eclipse\birt\report\viewer\br
owsers\custom\CustomBrowserFactory.java:14: package org.eclipse.help.browser 
does not exist
    [javac] import org.eclipse.help.browser.IBrowser;
    [javac] ^
    [javac] C:\eclipse3.1M6
\workspace\org.eclipse.birt.report.viewer\src\org\eclipse\birt\report\viewer\br
owsers\custom\CustomBrowserFactory.java:15: package org.eclipse.help.browser 
does not exist
    [javac] import org.eclipse.help.browser.IBrowserFactory;
    [javac] ^
    [javac] C:\eclipse3.1M6
\workspace\org.eclipse.birt.report.viewer\src\org\eclipse\birt\report\viewer\br
owsers\custom\CustomBrowserFactory.java:22: cannot find symbol
    [javac] symbol: class IBrowserFactory
    [javac] public class CustomBrowserFactory implements IBrowserFactory
    [javac] ^
    [javac] C:\eclipse3.1M6
\workspace\org.eclipse.birt.report.viewer\src\org\eclipse\birt\report\viewer\br
owsers\custom\CustomBrowserFactory.java:39: cannot find symbol
    [javac] symbol  : class IBrowser
    [javac] location: class 
org.eclipse.birt.report.viewer.browsers.custom.CustomBrowserFactory
    [javac] public IBrowser createBrowser( )
    [javac] ^
    [javac] C:\eclipse3.1M6
\workspace\org.eclipse.birt.report.viewer\src\org\eclipse\birt\report\viewer\br
owsers\embedded\EmbeddedBrowser.java:19: package org.eclipse.core.runtime does 
not exist
    [javac] import org.eclipse.core.runtime.IProduct;
    [javac] ^
    [javac] C:\eclipse3.1M6
\workspace\org.eclipse.birt.report.viewer\src\org\eclipse\birt\report\viewer\br
owsers\embedded\EmbeddedBrowser.java:20: package org.eclipse.core.runtime does 
not exist
    [javac] import org.eclipse.core.runtime.Path;
    [javac] ^
    [javac] C:\eclipse3.1M6
\workspace\org.eclipse.birt.report.viewer\src\org\eclipse\birt\report\viewer\br
owsers\embedded\EmbeddedBrowser.java:21: package org.eclipse.core.runtime does 
not exist
    [javac] import org.eclipse.core.runtime.Platform;
    [javac] ^
    [javac] C:\eclipse3.1M6
\workspace\org.eclipse.birt.report.viewer\src\org\eclipse\birt\report\viewer\br
owsers\embedded\EmbeddedBrowser.java:22: package org.eclipse.core.runtime does 
not exist
    [javac] import org.eclipse.core.runtime.Preferences;
    [javac] ^
    [javac] C:\eclipse3.1M6
\workspace\org.eclipse.birt.report.viewer\src\org\eclipse\birt\report\viewer\br
owsers\embedded\EmbeddedBrowser.java:23: package org.eclipse.jface.resource 
does not exist
    [javac] import org.eclipse.jface.resource.ImageDescriptor;
    [javac] ^
    [javac] C:\eclipse3.1M6
\workspace\org.eclipse.birt.report.viewer\src\org\eclipse\birt\report\viewer\br
owsers\embedded\EmbeddedBrowser.java:44: package org.osgi.framework does not 
exist
    [javac] import org.osgi.framework.Bundle;
    [javac] ^
    [javac] C:\eclipse3.1M6
\workspace\org.eclipse.birt.report.viewer\src\org\eclipse\birt\report\viewer\br
owsers\embedded\EmbeddedBrowser.java:63: cannot find symbol
    [javac] symbol  : class Preferences
    [javac] location: class 
org.eclipse.birt.report.viewer.browsers.embedded.EmbeddedBrowser
    [javac] private Preferences store;
    [javac] ^
    [javac] C:\eclipse3.1M6
\workspace\org.eclipse.birt.report.viewer\src\org\eclipse\birt\report\viewer\br
owsers\embedded\EmbeddedBrowserAdapter.java:14: package 
org.eclipse.help.browser does not exist
    [javac] import org.eclipse.help.browser.IBrowser;
    [javac] ^
    [javac] C:\eclipse3.1M6
\workspace\org.eclipse.birt.report.viewer\src\org\eclipse\birt\report\viewer\br
owsers\embedded\EmbeddedBrowserAdapter.java:22: cannot find symbol
    [javac] symbol: class IBrowser
    [javac] public class EmbeddedBrowserAdapter implements IBrowser
    [javac] ^
    [javac] C:\eclipse3.1M6
\workspace\org.eclipse.birt.report.viewer\src\org\eclipse\birt\report\viewer\br
owsers\embedded\EmbeddedBrowserFactory.java:14: package 
org.eclipse.help.browser does not exist
    [javac] import org.eclipse.help.browser.IBrowser;
    [javac] ^
    [javac] C:\eclipse3.1M6
\workspace\org.eclipse.birt.report.viewer\src\org\eclipse\birt\report\viewer\br
owsers\embedded\EmbeddedBrowserFactory.java:15: package 
org.eclipse.help.browser does not exist
    [javac] import org.eclipse.help.browser.IBrowserFactory;
    [javac] ^
    [javac] C:\eclipse3.1M6
\workspace\org.eclipse.birt.report.viewer\src\org\eclipse\birt\report\viewer\br
owsers\embedded\EmbeddedBrowserFactory.java:22: cannot find symbol
    [javac] symbol: class IBrowserFactory
    [javac] public class EmbeddedBrowserFactory implements IBrowserFactory
    [javac] ^
    [javac] C:\eclipse3.1M6
\workspace\org.eclipse.birt.report.viewer\src\org\eclipse\birt\report\viewer\br
owsers\embedded\EmbeddedBrowserFactory.java:47: cannot find symbol
    [javac] symbol  : class IBrowser
    [javac] location: class 
org.eclipse.birt.report.viewer.browsers.embedded.EmbeddedBrowserFactory
    [javac] public IBrowser createBrowser( )
    [javac] ^
    [javac] C:\eclipse3.1M6
\workspace\org.eclipse.birt.report.viewer\src\org\eclipse\birt\report\viewer\br
owsers\system\SystemBrowserAdapter.java:15: package org.eclipse.help.browser 
does not exist
    [javac] import org.eclipse.help.browser.IBrowser;
    [javac] ^
    [javac] C:\eclipse3.1M6
\workspace\org.eclipse.birt.report.viewer\src\org\eclipse\birt\report\viewer\br
owsers\system\SystemBrowserAdapter.java:23: cannot find symbol
    [javac] symbol: class IBrowser
    [javac] public class SystemBrowserAdapter implements IBrowser
    [javac] ^
    [javac] C:\eclipse3.1M6
\workspace\org.eclipse.birt.report.viewer\src\org\eclipse\birt\report\viewer\br
owsers\system\SystemBrowserFactory.java:14: package org.eclipse.core.runtime 
does not exist
    [javac] import org.eclipse.core.runtime.Platform;
    [javac] ^
    [javac] C:\eclipse3.1M6
\workspace\org.eclipse.birt.report.viewer\src\org\eclipse\birt\report\viewer\br
owsers\system\SystemBrowserFactory.java:15: package org.eclipse.help.browser 
does not exist
    [javac] import org.eclipse.help.browser.IBrowser;
    [javac] ^
    [javac] C:\eclipse3.1M6
\workspace\org.eclipse.birt.report.viewer\src\org\eclipse\birt\report\viewer\br
owsers\system\SystemBrowserFactory.java:16: package org.eclipse.help.browser 
does not exist
    [javac] import org.eclipse.help.browser.IBrowserFactory;
    [javac] ^
    [javac] C:\eclipse3.1M6
\workspace\org.eclipse.birt.report.viewer\src\org\eclipse\birt\report\viewer\br
owsers\system\SystemBrowserFactory.java:17: package 
org.eclipse.osgi.service.environment does not exist
    [javac] import org.eclipse.osgi.service.environment.Constants;
    [javac] ^
    [javac] C:\eclipse3.1M6
\workspace\org.eclipse.birt.report.viewer\src\org\eclipse\birt\report\viewer\br
owsers\system\SystemBrowserFactory.java:23: cannot find symbol
    [javac] symbol: class IBrowserFactory
    [javac] public class SystemBrowserFactory implements IBrowserFactory
    [javac] ^
    [javac] C:\eclipse3.1M6
\workspace\org.eclipse.birt.report.viewer\src\org\eclipse\birt\report\viewer\br
owsers\system\SystemBrowserFactory.java:48: cannot find symbol
    [javac] symbol  : class IBrowser
    [javac] location: class 
org.eclipse.birt.report.viewer.browsers.system.SystemBrowserFactory
    [javac] public IBrowser createBrowser( )
    [javac] ^
    [javac] C:\eclipse3.1M6
\workspace\org.eclipse.birt.report.viewer\src\org\eclipse\birt\report\viewer\ut
ilities\AppServerWrapper.java:13: package org.eclipse.core.runtime does not 
exist
    [javac] import org.eclipse.core.runtime.CoreException;
    [javac] ^
    [javac] C:\eclipse3.1M6
\workspace\org.eclipse.birt.report.viewer\src\org\eclipse\birt\report\viewer\ut
ilities\AppServerWrapper.java:14: package org.eclipse.core.runtime does not 
exist
    [javac] import org.eclipse.core.runtime.IConfigurationElement;
    [javac] ^
    [javac] C:\eclipse3.1M6
\workspace\org.eclipse.birt.report.viewer\src\org\eclipse\birt\report\viewer\ut
ilities\AppServerWrapper.java:15: package org.eclipse.core.runtime does not 
exist
    [javac] import org.eclipse.core.runtime.IExtension;
    [javac] ^
    [javac] C:\eclipse3.1M6
\workspace\org.eclipse.birt.report.viewer\src\org\eclipse\birt\report\viewer\ut
ilities\AppServerWrapper.java:16: package org.eclipse.core.runtime does not 
exist
    [javac] import org.eclipse.core.runtime.IExtensionPoint;
    [javac] ^
    [javac] C:\eclipse3.1M6
\workspace\org.eclipse.birt.report.viewer\src\org\eclipse\birt\report\viewer\ut
ilities\AppServerWrapper.java:17: package org.eclipse.core.runtime does not 
exist
    [javac] import org.eclipse.core.runtime.IStatus;
    [javac] ^
    [javac] C:\eclipse3.1M6
\workspace\org.eclipse.birt.report.viewer\src\org\eclipse\birt\report\viewer\ut
ilities\AppServerWrapper.java:18: package org.eclipse.core.runtime does not 
exist
    [javac] import org.eclipse.core.runtime.Platform;
    [javac] ^
    [javac] C:\eclipse3.1M6
\workspace\org.eclipse.birt.report.viewer\src\org\eclipse\birt\report\viewer\ut
ilities\AppServerWrapper.java:19: package org.eclipse.core.runtime does not 
exist
    [javac] import org.eclipse.core.runtime.Status;
    [javac] ^
    [javac] C:\eclipse3.1M6
\workspace\org.eclipse.birt.report.viewer\src\org\eclipse\birt\report\viewer\ut
ilities\AppServerWrapper.java:20: package org.eclipse.help.internal.appserver 
does not exist
    [javac] import org.eclipse.help.internal.appserver.AppserverPlugin;
    [javac] ^
    [javac] C:\eclipse3.1M6
\workspace\org.eclipse.birt.report.viewer\src\org\eclipse\birt\report\viewer\ut
ilities\AppServerWrapper.java:21: package org.eclipse.help.internal.appserver 
does not exist
    [javac] import org.eclipse.help.internal.appserver.IWebappServer;
    [javac] ^
    [javac] C:\eclipse3.1M6
\workspace\org.eclipse.birt.report.viewer\src\org\eclipse\birt\report\viewer\ut
ilities\AppServerWrapper.java:53: cannot find symbol
    [javac] symbol  : class IWebappServer
    [javac] location: class 
org.eclipse.birt.report.viewer.utilities.AppServerWrapper
    [javac] private IWebappServer appServer;
    [javac] ^
    [javac] C:\eclipse3.1M6
\workspace\org.eclipse.birt.report.viewer\src\org\eclipse\birt\report\viewer\ut
ilities\AppServerWrapper.java:86: cannot find symbol
    [javac] symbol  : class IWebappServer
    [javac] location: class 
org.eclipse.birt.report.viewer.utilities.AppServerWrapper
    [javac] public synchronized IWebappServer getAppServer( ) throws 
CoreException
    [javac] ^
    [javac] C:\eclipse3.1M6
\workspace\org.eclipse.birt.report.viewer\src\org\eclipse\birt\report\viewer\ut
ilities\AppServerWrapper.java:86: cannot find symbol
    [javac] symbol  : class CoreException
    [javac] location: class 
org.eclipse.birt.report.viewer.utilities.AppServerWrapper
    [javac] public synchronized IWebappServer getAppServer( ) throws 
CoreException
    [javac] ^
    [javac] C:\eclipse3.1M6
\workspace\org.eclipse.birt.report.viewer\src\org\eclipse\birt\report\viewer\ut
ilities\AppServerWrapper.java:105: cannot find symbol
    [javac] symbol  : class CoreException
    [javac] location: class 
org.eclipse.birt.report.viewer.utilities.AppServerWrapper
    [javac] private void createWebappServer( ) throws CoreException
    [javac] ^
    [javac] C:\eclipse3.1M6
\workspace\org.eclipse.birt.report.viewer\src\org\eclipse\birt\report\viewer\ut
ilities\AppServerWrapper.java:159: cannot find symbol
    [javac] symbol  : class CoreException
    [javac] location: class 
org.eclipse.birt.report.viewer.utilities.AppServerWrapper
    [javac] private void startWebappServer( ) throws CoreException
    [javac] ^
    [javac] C:\eclipse3.1M6
\workspace\org.eclipse.birt.report.viewer\src\org\eclipse\birt\report\viewer\ut
ilities\WebViewer.java:21: package org.eclipse.core.runtime does not exist
    [javac] import org.eclipse.core.runtime.CoreException;
    [javac] ^
    [javac] C:\eclipse3.1M6
\workspace\org.eclipse.birt.report.viewer\src\org\eclipse\birt\report\viewer\ut
ilities\WebViewer.java:22: package org.eclipse.core.runtime does not exist
    [javac] import org.eclipse.core.runtime.Path;
    [javac] ^
    [javac] C:\eclipse3.1M6
\workspace\org.eclipse.birt.report.viewer\src\org\eclipse\birt\report\viewer\ut
ilities\WebappAccessor.java:18: package org.eclipse.core.runtime does not exist
    [javac] import org.eclipse.core.runtime.CoreException;
    [javac] ^
    [javac] C:\eclipse3.1M6
\workspace\org.eclipse.birt.report.viewer\src\org\eclipse\birt\report\viewer\ut
ilities\WebappAccessor.java:19: package org.eclipse.core.runtime does not exist
    [javac] import org.eclipse.core.runtime.IPath;
    [javac] ^
    [javac] C:\eclipse3.1M6
\workspace\org.eclipse.birt.report.viewer\src\org\eclipse\birt\report\viewer\ut
ilities\WebappAccessor.java:20: package org.eclipse.core.runtime does not exist
    [javac] import org.eclipse.core.runtime.IStatus;
    [javac] ^
    [javac] C:\eclipse3.1M6
\workspace\org.eclipse.birt.report.viewer\src\org\eclipse\birt\report\viewer\ut
ilities\WebappAccessor.java:21: package org.eclipse.core.runtime does not exist
    [javac] import org.eclipse.core.runtime.Path;
    [javac] ^
    [javac] C:\eclipse3.1M6
\workspace\org.eclipse.birt.report.viewer\src\org\eclipse\birt\report\viewer\ut
ilities\WebappAccessor.java:22: package org.eclipse.core.runtime does not exist
    [javac] import org.eclipse.core.runtime.Platform;
    [javac] ^
    [javac] C:\eclipse3.1M6
\workspace\org.eclipse.birt.report.viewer\src\org\eclipse\birt\report\viewer\ut
ilities\WebappAccessor.java:23: package org.eclipse.core.runtime does not exist
    [javac] import org.eclipse.core.runtime.Status;
    [javac] ^
    [javac] C:\eclipse3.1M6
\workspace\org.eclipse.birt.report.viewer\src\org\eclipse\birt\report\viewer\ut
ilities\WebappAccessor.java:24: package org.eclipse.help.internal.appserver 
does not exist
    [javac] import org.eclipse.help.internal.appserver.IWebappServer;
    [javac] ^
    [javac] C:\eclipse3.1M6
\workspace\org.eclipse.birt.report.viewer\src\org\eclipse\birt\report\viewer\ut
ilities\WebappAccessor.java:25: package org.eclipse.help.internal.appserver 
does not exist
    [javac] import 
org.eclipse.help.internal.appserver.PluginClassLoaderWrapper;
    [javac] ^
    [javac] C:\eclipse3.1M6
\workspace\org.eclipse.birt.report.viewer\src\org\eclipse\birt\report\viewer\ut
ilities\WebappAccessor.java:26: package org.osgi.framework does not exist
    [javac] import org.osgi.framework.Bundle;
    [javac] ^
    [javac] C:\eclipse3.1M6
\workspace\org.eclipse.birt.report.viewer\src\org\eclipse\birt\report\viewer\ut
ilities\WebappAccessor.java:58: cannot find symbol
    [javac] symbol  : class IPath
    [javac] location: class 
org.eclipse.birt.report.viewer.utilities.WebappAccessor
    [javac] public synchronized static void start( String webappName, String 
pluginId, IPath path ) throws CoreException
    [javac] ^
    [javac] C:\eclipse3.1M6
\workspace\org.eclipse.birt.report.viewer\src\org\eclipse\birt\report\viewer\ut
ilities\WebappAccessor.java:58: cannot find symbol
    [javac] symbol  : class CoreException
    [javac] location: class 
org.eclipse.birt.report.viewer.utilities.WebappAccessor
    [javac] public synchronized static void start( String webappName, String 
pluginId, IPath path ) throws CoreException
    [javac] ^
    [javac] C:\eclipse3.1M6
\workspace\org.eclipse.birt.report.viewer\src\org\eclipse\birt\report\viewer\ut
ilities\WebappAccessor.java:82: cannot find symbol
    [javac] symbol  : class CoreException
    [javac] location: class 
org.eclipse.birt.report.viewer.utilities.WebappAccessor
    [javac] public static void stop( String webappName ) throws CoreException
    [javac] ^
    [javac] C:\eclipse3.1M6
\workspace\org.eclipse.birt.report.viewer\src\org\eclipse\birt\report\viewer\ut
ilities\WebappAccessor.java:136: cannot find symbol
    [javac] symbol  : class IPath
    [javac] location: class 
org.eclipse.birt.report.viewer.utilities.WebappAccessor
    [javac] private static IPath getWebappPath( String pluginId, IPath path )
    [javac] ^
    [javac] C:\eclipse3.1M6
\workspace\org.eclipse.birt.report.viewer\src\org\eclipse\birt\report\viewer\ut
ilities\WebappAccessor.java:136: cannot find symbol
    [javac] symbol  : class IPath
    [javac] location: class 
org.eclipse.birt.report.viewer.utilities.WebappAccessor
    [javac] private static IPath getWebappPath( String pluginId, IPath path )
    [javac] ^
    [javac] C:\eclipse3.1M6
\workspace\org.eclipse.birt.report.viewer\src\org\eclipse\birt\report\viewer\ut
ilities\WebappAccessor.java:137: cannot find symbol
    [javac] symbol  : class CoreException
    [javac] location: class 
org.eclipse.birt.report.viewer.utilities.WebappAccessor
    [javac] throws CoreException
    [javac] ^
    [javac] C:\eclipse3.1M6
\workspace\org.eclipse.birt.report.viewer\src\org\eclipse\birt\report\viewer\Vi
ewerPlugin.java:68: cannot find symbol
    [javac] symbol  : variable super
    [javac] location: class org.eclipse.birt.report.viewer.ViewerPlugin
    [javac] super.start( context );
    [javac] ^
    [javac] C:\eclipse3.1M6
\workspace\org.eclipse.birt.report.viewer\src\org\eclipse\birt\report\viewer\Vi
ewerPlugin.java:80: cannot find symbol
    [javac] symbol  : variable super
    [javac] location: class org.eclipse.birt.report.viewer.ViewerPlugin
    [javac] super.stop( context );
    [javac] ^
    [javac] C:\eclipse3.1M6
\workspace\org.eclipse.birt.report.viewer\src\org\eclipse\birt\report\viewer\Vi
ewerPlugin.java:138: cannot find symbol
    [javac] symbol  : class Status
    [javac] location: class org.eclipse.birt.report.viewer.ViewerPlugin
    [javac] Status errorStatus = new Status( IStatus.ERROR, PLUGIN_ID, 
IStatus.OK, message, ex );
    [javac] ^
    [javac] C:\eclipse3.1M6
\workspace\org.eclipse.birt.report.viewer\src\org\eclipse\birt\report\viewer\Vi
ewerPlugin.java:138: cannot find symbol
    [javac] symbol  : class Status
    [javac] location: class org.eclipse.birt.report.viewer.ViewerPlugin
    [javac] Status errorStatus = new Status( IStatus.ERROR, PLUGIN_ID, 
IStatus.OK, message, ex );
    [javac] ^
    [javac] C:\eclipse3.1M6
\workspace\org.eclipse.birt.report.viewer\src\org\eclipse\birt\report\viewer\Vi
ewerPlugin.java:138: cannot find symbol
    [javac] symbol  : variable IStatus
    [javac] location: class org.eclipse.birt.report.viewer.ViewerPlugin
    [javac] Status errorStatus = new Status( IStatus.ERROR, PLUGIN_ID, 
IStatus.OK, message, ex );
    [javac] ^
    [javac] C:\eclipse3.1M6
\workspace\org.eclipse.birt.report.viewer\src\org\eclipse\birt\report\viewer\Vi
ewerPlugin.java:138: cannot find symbol
    [javac] symbol  : variable IStatus
    [javac] location: class org.eclipse.birt.report.viewer.ViewerPlugin
    [javac] Status errorStatus = new Status( IStatus.ERROR, PLUGIN_ID, 
IStatus.OK, message, ex );
    [javac] ^
    [javac] C:\eclipse3.1M6
\workspace\org.eclipse.birt.report.viewer\src\org\eclipse\birt\report\viewer\Vi
ewerPlugin.java:139: cannot find symbol
    [javac] symbol  : method getLog()
    [javac] location: class org.eclipse.birt.report.viewer.ViewerPlugin
    [javac] ViewerPlugin.getDefault( ).getLog( ).log( errorStatus );
    [javac] ^
    [javac] 100 errors

BUILD FAILED
C:\eclipse3.1M6\workspace\org.eclipse.birt.report.viewer\BuildViewer.xml:418: 
Compile failed; see the compiler error output for details.
Made necessary change in viewer build script to support Eclipse3.1
This issue has gone.
Closed.</WithOutStack>
  </Bug>
  <Bug>
    <BugId amount="98559" />
    <CreationDate amount="2005-06-06 14:05:00 -0400" />
    <DupId amount="" />
    <classification amount="Eclipse Foundation" />
    <Product amount="z_Archived" />
    <component amount="VE" />
    <Version amount="unspecified" />
    <rep_platform amount="PC" />
    <op_sys amount="Windows XP" />
    <priority amount="P1" />
    <bug_severity amount="normal" />
    <Summery>JFace Fonts preferences not being initialized</Summery>
    <Patches amount="0" />
    <Stacktraces amount="0" />
    <SourceCodeRegions amount="0" />
    <Enumerations amount="0" />
    <bug_status amount="CLOSED" />
    <resolution amount="FIXED" />
    <WithStack>Change the Workbench Banner Font preference to something different than normal
(ie size 20 font).

Create a new RCP Mail template and assign Banner font to one of the labels.  The
font appears to be the old (default) Banner Font.  This occurs in the beans
launcher as well.

Previously we had gotten the Font registry initialized for free, something may
have changed and we may need to do this ourselves now like we do for Color.
Jon - would it also be possible for you to look at the ViewPartHost that 
creates the target VM environment for the VE at design time to see if you 
could get this to work with the JFace preferences as well, so that way the 
launcher and the design view stay in sync ?
Fixed...
Added initialization code the the JFace configuration contributor to update the
JFace font registry in the remote vm with the IDE font preferences.

Committed to HEAD for 1.1M2
Verified in VE 1.1M2.</WithStack>
    <WithOutStack>Change the Workbench Banner Font preference to something different than normal
(ie size 20 font).

Create a new RCP Mail template and assign Banner font to one of the labels.  The
font appears to be the old (default) Banner Font.  This occurs in the beans
launcher as well.

Previously we had gotten the Font registry initialized for free, something may
have changed and we may need to do this ourselves now like we do for Color.
Jon - would it also be possible for you to look at the ViewPartHost that 
creates the target VM environment for the VE at design time to see if you 
could get this to work with the JFace preferences as well, so that way the 
launcher and the design view stay in sync ?
Fixed...
Added initialization code the the JFace configuration contributor to update the
JFace font registry in the remote vm with the IDE font preferences.

Committed to HEAD for 1.1M2
Verified in VE 1.1M2.</WithOutStack>
  </Bug>
  <Bug>
    <BugId amount="98560" />
    <CreationDate amount="2005-06-06 14:15:00 -0400" />
    <DupId amount="" />
    <classification amount="Eclipse" />
    <Product amount="PDE" />
    <component amount="UI" />
    <Version amount="3.1" />
    <rep_platform amount="PC" />
    <op_sys amount="Windows XP" />
    <priority amount="P3" />
    <bug_severity amount="normal" />
    <Summery>Unneccessary scrollbars in RCP Intro template</Summery>
    <Patches amount="1">
      <Patch>
        <index>templates_3.0/intro/content/root.css</index>
        <original_file>templates_3.0/intro/content/root.css</original_file>
        <modified_file>templates_3.0/intro/content/root.css</modified_file>
        <Hunks>
          <hunk>}&#xD;
&#xD;
 &#xD;
&#xD;
 a span  { &#xD;
&#xD;
-	display:block;&#xD;
&#xD;
 	position: relative;&#xD;
&#xD;
 	left:54px;&#xD;
&#xD;
+	top: 16px;&#xD;
&#xD;
 	}</hunk>
        </Hunks>
      </Patch>
    </Patches>
    <Stacktraces amount="0" />
    <SourceCodeRegions amount="0" />
    <Enumerations amount="0" />
    <bug_status amount="VERIFIED" />
    <resolution amount="FIXED" />
    <WithStack>(Inactive) Scrollbars appear in the RCP Intro template even though there is no
need for them to appear, only on Windows.
Created attachment 22445
fixed
there is also a minor issue when creating RCP Intro plugins targeted for version
3.0 on MacOS

the vertical alignement of the link text is incorrect.  the following patch
should be applied

Index: templates_3.0/intro/content/root.css
===================================================================
RCS file: /home/eclipse/org.eclipse.pde.ui/templates_3.0/intro/content/root.css,v
retrieving revision 1.5
diff -u -r1.5 root.css
--- templates_3.0/intro/content/root.css	2 Jun 2005 13:14:38 -0000	1.5
+++ templates_3.0/intro/content/root.css	6 Jun 2005 19:47:24 -0000
@@ -25,9 +25,9 @@
 	}
 
 a span  { 
-	display:block;
 	position: relative;
 	left:54px;
+	top: 16px;
 	}
 	
Created attachment 22454
patch for scrollbars
the above patch addresses both issues reported in this defect. 

Konrad, Wassim,
can you please consider this defect for RC2, and apply patch. 

thanks,

Mazen. 

Patch applied.  thanks.</WithStack>
    <WithOutStack>(Inactive) Scrollbars appear in the RCP Intro template even though there is no
need for them to appear, only on Windows.
Created attachment 22445
fixed
there is also a minor issue when creating RCP Intro plugins targeted for version
3.0 on MacOS

the vertical alignement of the link text is incorrect.  the following patch
should be applied

Index: templates_3.0/intro/content/root.css
===================================================================
RCS file: /home/eclipse/org.eclipse.pde.ui/templates_3.0/intro/content/root.css,v
retrieving revision 1.5
diff -u -r1.5 root.css
--- templates_3.0/intro/content/root.css	2 Jun 2005 13:14:38 -0000	1.5
+++ templates_3.0/intro/content/root.css	6 Jun 2005 19:47:24 -0000
@@ -25,9 +25,9 @@
 	}
 
 a span  { 
-	display:block;
 	position: relative;
 	left:54px;
+	top: 16px;
 	}
 	
Created attachment 22454
patch for scrollbars
the above patch addresses both issues reported in this defect. 

Konrad, Wassim,
can you please consider this defect for RC2, and apply patch. 

thanks,

Mazen. 

Patch applied.  thanks.</WithOutStack>
  </Bug>
  <Bug>
    <BugId amount="98561" />
    <CreationDate amount="2005-06-06 14:16:00 -0400" />
    <DupId amount="" />
    <classification amount="Eclipse" />
    <Product amount="JDT" />
    <component amount="Core" />
    <Version amount="3.1" />
    <rep_platform amount="PC" />
    <op_sys amount="Windows XP" />
    <priority amount="P3" />
    <bug_severity amount="normal" />
    <Summery>[1.5][compiler] Erroneous build error using inner class of a parameterized type</Summery>
    <Patches amount="0" />
    <Stacktraces amount="0" />
    <SourceCodeRegions amount="2">
      <source_code type="class">
        <location start="559" end="739" />
        <code>public class Foo&lt;T&gt;
{
	protected abstract class InnerFoo
	{
		protected abstract void doSomething();
	}
	
	protected void run( InnerFoo innerFoo )
	{
		innerFoo.doSomething();
	}
}</code>
      </source_code>
      <source_code type="class">
        <location start="742" end="943" />
        <code>public class Bar extends Foo&lt;Integer&gt;
{
	public void go()
	{
		InnerFoo inner = new InnerFoo()
		{
			protected void doSomething()
			{
				System.out.println( "hello" );
			}
		};
		run( inner );
	}
}</code>
      </source_code>
    </SourceCodeRegions>
    <Enumerations amount="0" />
    <bug_status amount="RESOLVED" />
    <resolution amount="WORKSFORME" />
    <WithStack>The JDT gives a bogus build error if you have a parameterized class, which
contains an abstract inner class and a method that takes an object of that type
as a parameter; and a subclass creates an instance of that inner class and calls
the method on the base class. It says that the inner class instance of not
appropriate for the parameters of the method.

The same code compiles without a problem using Sun's javac. It also built on
eclipse 3.1m6, but is failing on 3.1RC1.

Here is a simple rero case - the second class, Bar, does not compile in the JDT:

public class Foo&lt;T&gt;
{
	protected abstract class InnerFoo
	{
		protected abstract void doSomething();
	}
	
	protected void run( InnerFoo innerFoo )
	{
		innerFoo.doSomething();
	}
}


public class Bar extends Foo&lt;Integer&gt;
{
	public void go()
	{
		InnerFoo inner = new InnerFoo()
		{
			protected void doSomething()
			{
				System.out.println( "hello" );
			}
		};
		run( inner );
	}
}

The error is on the call to run():

The method run(Foo.InnerFoo) in the type Foo&lt;Integer&gt; is not applicable for the
arguments (Foo&lt;Integer&gt;.InnerFoo)
Could not reproduce in latest.
Got fixed along with other changes.
Added GenericTypeTest#test721.</WithStack>
    <WithOutStack>The JDT gives a bogus build error if you have a parameterized class, which
contains an abstract inner class and a method that takes an object of that type
as a parameter; and a subclass creates an instance of that inner class and calls
the method on the base class. It says that the inner class instance of not
appropriate for the parameters of the method.

The same code compiles without a problem using Sun's javac. It also built on
eclipse 3.1m6, but is failing on 3.1RC1.

Here is a simple rero case - the second class, Bar, does not compile in the JDT:

public class Foo&lt;T&gt;
{
	protected abstract class InnerFoo
	{
		protected abstract void doSomething();
	}
	
	protected void run( InnerFoo innerFoo )
	{
		innerFoo.doSomething();
	}
}


public class Bar extends Foo&lt;Integer&gt;
{
	public void go()
	{
		InnerFoo inner = new InnerFoo()
		{
			protected void doSomething()
			{
				System.out.println( "hello" );
			}
		};
		run( inner );
	}
}

The error is on the call to run():

The method run(Foo.InnerFoo) in the type Foo&lt;Integer&gt; is not applicable for the
arguments (Foo&lt;Integer&gt;.InnerFoo)
Could not reproduce in latest.
Got fixed along with other changes.
Added GenericTypeTest#test721.</WithOutStack>
  </Bug>
  <Bug>
    <BugId amount="98562" />
    <CreationDate amount="2005-06-06 14:16:00 -0400" />
    <DupId amount="" />
    <classification amount="Eclipse" />
    <Product amount="JDT" />
    <component amount="UI" />
    <Version amount="3.1" />
    <rep_platform amount="PC" />
    <op_sys amount="Windows XP" />
    <priority amount="P3" />
    <bug_severity amount="normal" />
    <Summery>[open type] Open Type : Exact match should take precedence over MRU match</Summery>
    <Patches amount="0" />
    <Stacktraces amount="0" />
    <SourceCodeRegions amount="0" />
    <Enumerations amount="0" />
    <bug_status amount="RESOLVED" />
    <resolution amount="WONTFIX" />
    <WithStack>If I type in "SWT" as the type to open, I expect the SWT class to be selected.
Instead, "SWTGraphics" is selected. A perfect name match should be the highest
scored match.
The underlying problem is that the history is shown before I have the list from
the search engine. Either I have to wait until I have all matches (which will
slow down access to matches in histroy) or it will result in reordering the
result when the search results are available. This might get very confusing for
the user.

To get faster access to precise matches I have added the following support in
M7: a blank at the end will narrow the matches down to precise matches. So "SWT
" only shows SWT. 

For 3.2 we will look into getting the result from the search engine in sorted
form which will allow implementing the requested behaviour.
As of now 'LATER' and 'REMIND' resolutions are no longer supported.
Please reopen this bug if it is still valid for you.</WithStack>
    <WithOutStack>If I type in "SWT" as the type to open, I expect the SWT class to be selected.
Instead, "SWTGraphics" is selected. A perfect name match should be the highest
scored match.
The underlying problem is that the history is shown before I have the list from
the search engine. Either I have to wait until I have all matches (which will
slow down access to matches in histroy) or it will result in reordering the
result when the search results are available. This might get very confusing for
the user.

To get faster access to precise matches I have added the following support in
M7: a blank at the end will narrow the matches down to precise matches. So "SWT
" only shows SWT. 

For 3.2 we will look into getting the result from the search engine in sorted
form which will allow implementing the requested behaviour.
As of now 'LATER' and 'REMIND' resolutions are no longer supported.
Please reopen this bug if it is still valid for you.</WithOutStack>
  </Bug>
  <Bug>
    <BugId amount="98563" />
    <CreationDate amount="2005-06-06 14:18:00 -0400" />
    <DupId amount="" />
    <classification amount="Tools" />
    <Product amount="GEF" />
    <component amount="Draw2d [GEF 3.x / Zest 1.x]" />
    <Version amount="3.1" />
    <rep_platform amount="All" />
    <op_sys amount="All" />
    <priority amount="P3" />
    <bug_severity amount="normal" />
    <Summery>setLineDash get overwritten if line style lazily applied</Summery>
    <Patches amount="0" />
    <Stacktraces amount="0" />
    <SourceCodeRegions amount="0" />
    <Enumerations amount="0" />
    <bug_status amount="RESOLVED" />
    <resolution amount="WORKSFORME" />
    <WithStack>If SWTGraphics applies the line style after setting line dash, the dash pattern
is overwritten.
Randy, could you please detail what you were referring to here? The implementation of checkPaint() applies line dash after line style, and does therefore not run into this. And I do not see another statement within SWTGraphics that does.
I don't remember
Ok, resolving as WORKSFORME then. Please reopen in case memory comes back :-).</WithStack>
    <WithOutStack>If SWTGraphics applies the line style after setting line dash, the dash pattern
is overwritten.
Randy, could you please detail what you were referring to here? The implementation of checkPaint() applies line dash after line style, and does therefore not run into this. And I do not see another statement within SWTGraphics that does.
I don't remember
Ok, resolving as WORKSFORME then. Please reopen in case memory comes back :-).</WithOutStack>
  </Bug>
  <Bug>
    <BugId amount="98564" />
    <CreationDate amount="2005-06-06 14:18:00 -0400" />
    <DupId amount="" />
    <classification amount="Tools" />
    <Product amount="CDT" />
    <component amount="cdt-build" />
    <Version amount="3.0" />
    <rep_platform amount="PC" />
    <op_sys amount="Windows XP" />
    <priority amount="P3" />
    <bug_severity amount="normal" />
    <Summery>[Scanner Discovery] loses info when switching from per project to per file</Summery>
    <Patches amount="0" />
    <Stacktraces amount="0" />
    <SourceCodeRegions amount="0" />
    <Enumerations amount="0" />
    <bug_status amount="ASSIGNED" />
    <resolution amount="" />
    <WithStack>it would be nice to keep all the discovered info if possible
The only possible way to keep the info is when switching from per file to per
project scanner info discovery.

A conversion functionality is needed since the two are stored in a different format.
Future means you commit to fix it in the Future. Inboxes can't make committments. Moving to '--'.</WithStack>
    <WithOutStack>it would be nice to keep all the discovered info if possible
The only possible way to keep the info is when switching from per file to per
project scanner info discovery.

A conversion functionality is needed since the two are stored in a different format.
Future means you commit to fix it in the Future. Inboxes can't make committments. Moving to '--'.</WithOutStack>
  </Bug>
  <Bug>
    <BugId amount="98565" />
    <CreationDate amount="2005-06-06 14:18:00 -0400" />
    <DupId amount="" />
    <classification amount="Tools" />
    <Product amount="GEF" />
    <component amount="GEF (MVC) [GEF 3.x / Zest 1.x]" />
    <Version amount="3.1" />
    <rep_platform amount="PC" />
    <op_sys amount="Windows XP" />
    <priority amount="P3" />
    <bug_severity amount="normal" />
    <Summery>hookListeners() and unhookListeners() in DirectEditManager should have protected visibility</Summery>
    <Patches amount="0" />
    <Stacktraces amount="0" />
    <SourceCodeRegions amount="0" />
    <Enumerations amount="1">
      <Enumeration lines="5">
        <Lines>
          <Line>1) There is currently a case in our code where we have to relocate the cell locator so we are caching the locator in our subclass as well to have access to it.  I don't know the history of this change.</Line>
          <Line />
          <Line>2) With the changes I am making to use the flow figure classes in our label figures, the cell locator's size is based on the FlowPage figure bounds; however, in DirectEditManager.hookListeners() the AncestorListener is added to the editpart's figure which is the label figure (parent of the FlowPage) and not the FlowPage figure.</Line>
          <Line>&gt; 2) ... in DirectEditManager.hookListeners() the AncestorListener is added to</Line>
          <Line>&gt; the editpart's figure ...</Line>
        </Lines>
      </Enumeration>
    </Enumerations>
    <bug_status amount="RESOLVED" />
    <resolution amount="FIXED" />
    <WithStack>This task is marked as TODO and may have been overlooked. There is no way to 
customize the way a CellEditor exits edit mode since the hookListeners() 
method cannot be overriden.
What is it that you want to do differently?  Maybe we can add that case rather 
than open up new API.
Reducing severity to normal.
Created attachment 77815
reveals API

I want to add a new listener in the DirectEditManager.  The method unhookListeners() is already protected, but hookListeners() isn't.  

I would also like access to the locator.  It is passed into the constructor so I see no reason to not make the getLocator() method protected.
What's the reason to access the locator rather than the method placeCellEditor()? Just asking because maybe the reason is related to another open bug aboue the fact that the locator is invoked twice for every character when typing into a Text control.
Actually, if the method placeCellEditor() is changed to protected that would be sufficient.

There are two cases where we need access to the locator or the placeCellEditor() call.
  
1) There is currently a case in our code where we have to relocate the cell locator so we are caching the locator in our subclass as well to have access to it.  I don't know the history of this change.  

2) With the changes I am making to use the flow figure classes in our label figures, the cell locator's size is based on the FlowPage figure bounds; however, in DirectEditManager.hookListeners() the AncestorListener is added to the editpart's figure which is the label figure (parent of the FlowPage) and not the FlowPage figure.  
&gt; 2) ... in DirectEditManager.hookListeners() the AncestorListener is added to
&gt; the editpart's figure ...

Sounds like the manager should allow clients to specify which figure the locator is actually tracking, rather than assuming that it is the primary figure.
Created attachment 78758
Final patch

Updated patch that has been reviewed by Anthony.
Committed to HEAD</WithStack>
    <WithOutStack>This task is marked as TODO and may have been overlooked. There is no way to 
customize the way a CellEditor exits edit mode since the hookListeners() 
method cannot be overriden.
What is it that you want to do differently?  Maybe we can add that case rather 
than open up new API.
Reducing severity to normal.
Created attachment 77815
reveals API

I want to add a new listener in the DirectEditManager.  The method unhookListeners() is already protected, but hookListeners() isn't.  

I would also like access to the locator.  It is passed into the constructor so I see no reason to not make the getLocator() method protected.
What's the reason to access the locator rather than the method placeCellEditor()? Just asking because maybe the reason is related to another open bug aboue the fact that the locator is invoked twice for every character when typing into a Text control.
Actually, if the method placeCellEditor() is changed to protected that would be sufficient.

There are two cases where we need access to the locator or the placeCellEditor() call.
  
1) There is currently a case in our code where we have to relocate the cell locator so we are caching the locator in our subclass as well to have access to it.  I don't know the history of this change.  

2) With the changes I am making to use the flow figure classes in our label figures, the cell locator's size is based on the FlowPage figure bounds; however, in DirectEditManager.hookListeners() the AncestorListener is added to the editpart's figure which is the label figure (parent of the FlowPage) and not the FlowPage figure.  
&gt; 2) ... in DirectEditManager.hookListeners() the AncestorListener is added to
&gt; the editpart's figure ...

Sounds like the manager should allow clients to specify which figure the locator is actually tracking, rather than assuming that it is the primary figure.
Created attachment 78758
Final patch

Updated patch that has been reviewed by Anthony.
Committed to HEAD</WithOutStack>
  </Bug>
  <Bug>
    <BugId amount="98566" />
    <CreationDate amount="2005-06-06 14:30:00 -0400" />
    <DupId amount="" />
    <classification amount="Eclipse" />
    <Product amount="Platform" />
    <component amount="SWT" />
    <Version amount="3.1" />
    <rep_platform amount="PC" />
    <op_sys amount="Linux-GTK" />
    <priority amount="P3" />
    <bug_severity amount="normal" />
    <Summery>List.setItems() as slow as doing List.add() on GTK</Summery>
    <Patches amount="0" />
    <Stacktraces amount="0" />
    <SourceCodeRegions amount="0" />
    <Enumerations amount="1">
      <Enumeration lines="2">
        <Lines>
          <Line>1) By adding 50000 items one at a time</Line>
          <Line>2) By adding 50000 items all at once</Line>
        </Lines>
      </Enumeration>
    </Enumerations>
    <bug_status amount="RESOLVED" />
    <resolution amount="INVALID" />
    <WithStack>RC1
RH Enterprise 3.0

I am going to attacha test where we populate a list 2 ways

1) By adding 50000 items one at a time
2) By adding 50000 items all at once

On Windows the second method is about 4 times faster than the first. On GTK they
are about the same amount of time. This influences our ListViewer as we switched
from the first way to the second in 3.1 and have good performance improvements
on Windows and a performance degradation on GTK as a result
Created attachment 22444
SWT only List population test class from our suites
Here are the GTK numbers

Scenario
'org.eclipse.jface.tests.performance.ListPopulationTest#testMediumAdd()'
(average over 3 samples):
  System Time: 1.53 s
  Used Java Heap: -40674
  Working Set: 93.33K
  Elapsed Process: 1.53 s
  Kernel time: 0 ms
  CPU Time: 1.51 s
  Hard Page Faults: 1
  Soft Page Faults: 1
  Text Size: 0
  Data Size: 93.33K
  Library Size: 0


Scenario
'org.eclipse.jface.tests.performance.ListPopulationTest#testMediumSetItems()'
(average over 3 samples):
  System Time: 1.5 s
  Used Java Heap: -39677
  Working Set: 228K
  Elapsed Process: 1.5 stestMediumSetItems: tearDown...

  Kernel time: 0 ms
  CPU Time: 1.47 s
  Hard Page Faults: 0
  Soft Page Faults: 40
  Text Size: 0
  Data Size: 133.33K
  Library Size: 94.67K



Scenario 'org.eclipse.jface.tests.performance.ListPopulationTest#testLargeAdd()'
(average over 3 samples):
  System Time: 15.01 s
  Used Java Heap: 444.38K
  Working Set: 1.2M
  Elapsed Process: 15.01 s
  Kernel time: 3 ms
  CPU Time: 14.97 s
  Hard Page Faults: 0
  Soft Page Faults: 297
  Text Size: 0
  Data Size: 66.67K
  Library Size: 1.14M


Scenario
'org.eclipse.jface.tests.performance.ListPopulationTest#testLargeSetItems()'
(average over 3 samples):
  System Time: 14.96 s
  Used Java Heap: -63669
  Working Set: 1.12M
  Elapsed Process: 14.96 s
  Kernel time: 3 ms
  CPU Time: 14.9 s
  Hard Page Faults: 0
  Soft Page Faults: 301
  Text Size: 0
  Data Size: 42.67K
  Library Size: 1.08M


Here are the XP numbers

Scenario
'org.eclipse.jface.tests.performance.ListPopulationTest#testMediumAdd()'
(average over 100 samples):
  Used Java Heap: 4.94K
  Working Set: 200.92K
  Committed: 201.48K
  Working Set Peak: 4.52K
  Elapsed Process: 37 ms
  Kernel time: 1 ms
  Page Faults: 156
  CPU Time: 37 ms
GDI Objects: 0


Scenario
'org.eclipse.jface.tests.performance.ListPopulationTest#testMediumSetItems()'
(average over 100 samples):
  Used Java Heap: -908
  Working Set: -27525
  Committed: -11059
  Working Set Peak: 3.36K
  Elapsed Process: 13 ms
  Kernel time: 1 ms
  Page Faults: 41
  CPU Time: 13 ms
  GDI Objects: 0

Scenario 'org.eclipse.jface.tests.performance.ListPopulationTest#testLargeAdd()'
(average over 4 samples):
  Used Java Heap: 89.09K
  Working Set: 9.53M
testLargeSetItems: setUp...
  Committed: 9.33M
  Working Set Peak: 5.69M
  Elapsed Process: 1.19 s
  Kernel time: 324 ms
  Page Faults: 52.07K
  CPU Time: 1.18 s
  GDI Objects: 0

Scenario
'org.eclipse.jface.tests.performance.ListPopulationTest#testLargeSetItems()'
(average over 45 samples):
  Used Java Heap: 2.48K
  Working Set: 1.53M
  Committed: 1.52M
  Working Set Peak: 0
  Elapsed Process: 88 ms
  Kernel time: 4 ms
  Page Faults: 401
  CPU Time: 88 ms
  GDI Objects: 0


How is this a performance degradation?  It looks like they take the same amount
of time on GTK+.
Right but on Windows setItems() is much faster. We made a change for Bug 70856
to switch to setItems. This gave us some really good improvments on Windows but
ended up causing a slowdown on GTK.
The slowdown is not demonstrated by your test application here.  Is there a case
which is slower?

I have some theories about why add() would be significantly slower than
setItems() on Windows, for example, work is done on every call to add() to fix
the horizontal scrollbar but is only done once in a call to setItems().  This
does not apply in GtkTreeView.

There is no reason why setItems() should be slower, but it shouldn't be faster
either.  I am not sure there is any bug here.
I'm not sure there's a bug here either.  There is no guarantee that setItems() 
is faster than add() for the same number of items on every platform.  The main 
thing is that is cannot be slower.  BB to close.
Please re-open if you have a case where setItems() is slower than looping and
calling add().</WithStack>
    <WithOutStack>RC1
RH Enterprise 3.0

I am going to attacha test where we populate a list 2 ways

1) By adding 50000 items one at a time
2) By adding 50000 items all at once

On Windows the second method is about 4 times faster than the first. On GTK they
are about the same amount of time. This influences our ListViewer as we switched
from the first way to the second in 3.1 and have good performance improvements
on Windows and a performance degradation on GTK as a result
Created attachment 22444
SWT only List population test class from our suites
Here are the GTK numbers

Scenario
'org.eclipse.jface.tests.performance.ListPopulationTest#testMediumAdd()'
(average over 3 samples):
  System Time: 1.53 s
  Used Java Heap: -40674
  Working Set: 93.33K
  Elapsed Process: 1.53 s
  Kernel time: 0 ms
  CPU Time: 1.51 s
  Hard Page Faults: 1
  Soft Page Faults: 1
  Text Size: 0
  Data Size: 93.33K
  Library Size: 0


Scenario
'org.eclipse.jface.tests.performance.ListPopulationTest#testMediumSetItems()'
(average over 3 samples):
  System Time: 1.5 s
  Used Java Heap: -39677
  Working Set: 228K
  Elapsed Process: 1.5 stestMediumSetItems: tearDown...

  Kernel time: 0 ms
  CPU Time: 1.47 s
  Hard Page Faults: 0
  Soft Page Faults: 40
  Text Size: 0
  Data Size: 133.33K
  Library Size: 94.67K



Scenario 'org.eclipse.jface.tests.performance.ListPopulationTest#testLargeAdd()'
(average over 3 samples):
  System Time: 15.01 s
  Used Java Heap: 444.38K
  Working Set: 1.2M
  Elapsed Process: 15.01 s
  Kernel time: 3 ms
  CPU Time: 14.97 s
  Hard Page Faults: 0
  Soft Page Faults: 297
  Text Size: 0
  Data Size: 66.67K
  Library Size: 1.14M


Scenario
'org.eclipse.jface.tests.performance.ListPopulationTest#testLargeSetItems()'
(average over 3 samples):
  System Time: 14.96 s
  Used Java Heap: -63669
  Working Set: 1.12M
  Elapsed Process: 14.96 s
  Kernel time: 3 ms
  CPU Time: 14.9 s
  Hard Page Faults: 0
  Soft Page Faults: 301
  Text Size: 0
  Data Size: 42.67K
  Library Size: 1.08M


Here are the XP numbers

Scenario
'org.eclipse.jface.tests.performance.ListPopulationTest#testMediumAdd()'
(average over 100 samples):
  Used Java Heap: 4.94K
  Working Set: 200.92K
  Committed: 201.48K
  Working Set Peak: 4.52K
  Elapsed Process: 37 ms
  Kernel time: 1 ms
  Page Faults: 156
  CPU Time: 37 ms
GDI Objects: 0


Scenario
'org.eclipse.jface.tests.performance.ListPopulationTest#testMediumSetItems()'
(average over 100 samples):
  Used Java Heap: -908
  Working Set: -27525
  Committed: -11059
  Working Set Peak: 3.36K
  Elapsed Process: 13 ms
  Kernel time: 1 ms
  Page Faults: 41
  CPU Time: 13 ms
  GDI Objects: 0

Scenario 'org.eclipse.jface.tests.performance.ListPopulationTest#testLargeAdd()'
(average over 4 samples):
  Used Java Heap: 89.09K
  Working Set: 9.53M
testLargeSetItems: setUp...
  Committed: 9.33M
  Working Set Peak: 5.69M
  Elapsed Process: 1.19 s
  Kernel time: 324 ms
  Page Faults: 52.07K
  CPU Time: 1.18 s
  GDI Objects: 0

Scenario
'org.eclipse.jface.tests.performance.ListPopulationTest#testLargeSetItems()'
(average over 45 samples):
  Used Java Heap: 2.48K
  Working Set: 1.53M
  Committed: 1.52M
  Working Set Peak: 0
  Elapsed Process: 88 ms
  Kernel time: 4 ms
  Page Faults: 401
  CPU Time: 88 ms
  GDI Objects: 0


How is this a performance degradation?  It looks like they take the same amount
of time on GTK+.
Right but on Windows setItems() is much faster. We made a change for Bug 70856
to switch to setItems. This gave us some really good improvments on Windows but
ended up causing a slowdown on GTK.
The slowdown is not demonstrated by your test application here.  Is there a case
which is slower?

I have some theories about why add() would be significantly slower than
setItems() on Windows, for example, work is done on every call to add() to fix
the horizontal scrollbar but is only done once in a call to setItems().  This
does not apply in GtkTreeView.

There is no reason why setItems() should be slower, but it shouldn't be faster
either.  I am not sure there is any bug here.
I'm not sure there's a bug here either.  There is no guarantee that setItems() 
is faster than add() for the same number of items on every platform.  The main 
thing is that is cannot be slower.  BB to close.
Please re-open if you have a case where setItems() is slower than looping and
calling add().</WithOutStack>
  </Bug>
  <Bug>
    <BugId amount="98567" />
    <CreationDate amount="2005-06-06 14:41:00 -0400" />
    <DupId amount="" />
    <classification amount="Eclipse" />
    <Product amount="JDT" />
    <component amount="UI" />
    <Version amount="3.1" />
    <rep_platform amount="PC" />
    <op_sys amount="Linux" />
    <priority amount="P3" />
    <bug_severity amount="enhancement" />
    <Summery>[quick fix] New quick fix: create local for variable in enhanced for loop</Summery>
    <Patches amount="0" />
    <Stacktraces amount="0" />
    <SourceCodeRegions amount="2">
      <source_code type="class">
        <location start="33" end="150" />
        <code>public class Test {
	
    void foo() {
        Set&lt;String&gt; s = new HashSet&lt;String&gt;();
        for (str: s) {}
    }
}</code>
      </source_code>
      <source_code type="assignment">
        <location start="469" end="495" />
        <code>str = s.iterator().next();</code>
      </source_code>
    </SourceCodeRegions>
    <Enumerations amount="0" />
    <bug_status amount="RESOLVED" />
    <resolution amount="WONTFIX" />
    <WithStack>Consider the following example:

public class Test {
	
    void foo() {
        Set&lt;String&gt; s = new HashSet&lt;String&gt;();
        for (str: s) {}
    }
}

If you enter this into Eclipse 3.1RC1, you get the error "Syntax error on token
"str", Identifier expected after this token," and no quick fixes are available.
 It would be nice if there was instead a quick fix that would add the type
declaration String to the str variable, as there would be if you wrote the code 

str = s.iterator().next();

This would be especially helpful with Java 5, since full generic types can be
quite tedious to write out manually (Iterating over the type Set&lt;Pair&lt;AllocNode,
ImmutableStack&lt;Integer&gt;&gt;&gt; prompted me to file this report).
As this is a syntax error this is hard for us: No resolved information,
rescanning necessary to detect the problem...
Sorry, have to set to 'wontfix'.
(In reply to comment #1)
&gt; As this is a syntax error this is hard for us: No resolved information,
&gt; rescanning necessary to detect the problem...
&gt; Sorry, have to set to 'wontfix'.

I'm a bit disappointed that the grammar of the language prevents you from adding
a potentially very useful feature.  Wouldn't it be a very simple change to the
parser so that, in spite of the syntax error, Eclipse actually reports the error
during semantic checking?  You could probably give a more informative error
message than "Identifier expected after this token" too.  Perhaps I'm
overestimating the importance of this feature, but with generic types with
complex instantiations, extra tool support like this from Eclipse would be a
huge help.
I guess everything is possible, but is it worth the effort? In this case I
personally think no, but feel free to file a bug against jdt.core to provide a
better (non-syntax) error in this case for better warning and quick fix posibility.</WithStack>
    <WithOutStack>Consider the following example:

public class Test {
	
    void foo() {
        Set&lt;String&gt; s = new HashSet&lt;String&gt;();
        for (str: s) {}
    }
}

If you enter this into Eclipse 3.1RC1, you get the error "Syntax error on token
"str", Identifier expected after this token," and no quick fixes are available.
 It would be nice if there was instead a quick fix that would add the type
declaration String to the str variable, as there would be if you wrote the code 

str = s.iterator().next();

This would be especially helpful with Java 5, since full generic types can be
quite tedious to write out manually (Iterating over the type Set&lt;Pair&lt;AllocNode,
ImmutableStack&lt;Integer&gt;&gt;&gt; prompted me to file this report).
As this is a syntax error this is hard for us: No resolved information,
rescanning necessary to detect the problem...
Sorry, have to set to 'wontfix'.
(In reply to comment #1)
&gt; As this is a syntax error this is hard for us: No resolved information,
&gt; rescanning necessary to detect the problem...
&gt; Sorry, have to set to 'wontfix'.

I'm a bit disappointed that the grammar of the language prevents you from adding
a potentially very useful feature.  Wouldn't it be a very simple change to the
parser so that, in spite of the syntax error, Eclipse actually reports the error
during semantic checking?  You could probably give a more informative error
message than "Identifier expected after this token" too.  Perhaps I'm
overestimating the importance of this feature, but with generic types with
complex instantiations, extra tool support like this from Eclipse would be a
huge help.
I guess everything is possible, but is it worth the effort? In this case I
personally think no, but feel free to file a bug against jdt.core to provide a
better (non-syntax) error in this case for better warning and quick fix posibility.</WithOutStack>
  </Bug>
  <Bug>
    <BugId amount="98568" />
    <CreationDate amount="2005-06-06 14:46:00 -0400" />
    <DupId amount="" />
    <classification amount="Eclipse" />
    <Product amount="JDT" />
    <component amount="Text" />
    <Version amount="3.1" />
    <rep_platform amount="PC" />
    <op_sys amount="Windows XP" />
    <priority amount="P3" />
    <bug_severity amount="normal" />
    <Summery>[content assist] Can't select from linked mode proposals list with mouse</Summery>
    <Patches amount="0" />
    <Stacktraces amount="0" />
    <SourceCodeRegions amount="4">
      <source_code type="functiondef">
        <location start="78" end="272" />
        <code>void use() {
    LinkedList list= get();
        //Ctrl+1, choose 'Assign statement to new local variable', then click
        //'linkedList' -&gt; proposal is not inserted, linked mode is exited
}</code>
      </source_code>
      <source_code type="functiondef">
        <location start="273" end="310" />
        <code>LinkedList get() {
    return null;
}</code>
      </source_code>
      <source_code type="functiondef">
        <location start="416" end="448" />
        <code>void use() {
    ge&lt;caret&gt;t();
}</code>
      </source_code>
      <source_code type="functiondef">
        <location start="449" end="486" />
        <code>LinkedList get() {
    return null;
}</code>
      </source_code>
    </SourceCodeRegions>
    <Enumerations amount="1">
      <Enumeration lines="8">
        <Lines>
          <Line>1. add code like:</Line>
          <Line />
          <Line />
          <Line />
          <Line />
          <Line>2. press Ctrl+1</Line>
          <Line>3. choose 'Assign statement to new local variable'</Line>
          <Line>4. with mouse click 'linkedList'</Line>
        </Lines>
      </Enumeration>
    </Enumerations>
    <bug_status amount="VERIFIED" />
    <resolution amount="FIXED" />
    <WithStack>N20050606-0010

Can't select from linked mode proposals list with the mouse:

void use() {
    LinkedList list= get();
        //Ctrl+1, choose 'Assign statement to new local variable', then click
        //'linkedList' -&gt; proposal is not inserted, linked mode is exited
}
LinkedList get() {
    return null;
}
Tom, please investigate for RC2. This is a regression compared to 3.0.2.

Test case:

1. add code like:

void use() {
    ge&lt;caret&gt;t();
}
LinkedList get() {
    return null;
}

2. press Ctrl+1
3. choose 'Assign statement to new local variable'
4. with mouse click 'linkedList'

not reproducable on GTK - will need to check on one of your machines.
fixed &gt; 20050608
Verified using N20050609-0010</WithStack>
    <WithOutStack>N20050606-0010

Can't select from linked mode proposals list with the mouse:

void use() {
    LinkedList list= get();
        //Ctrl+1, choose 'Assign statement to new local variable', then click
        //'linkedList' -&gt; proposal is not inserted, linked mode is exited
}
LinkedList get() {
    return null;
}
Tom, please investigate for RC2. This is a regression compared to 3.0.2.

Test case:

1. add code like:

void use() {
    ge&lt;caret&gt;t();
}
LinkedList get() {
    return null;
}

2. press Ctrl+1
3. choose 'Assign statement to new local variable'
4. with mouse click 'linkedList'

not reproducable on GTK - will need to check on one of your machines.
fixed &gt; 20050608
Verified using N20050609-0010</WithOutStack>
  </Bug>
  <Bug>
    <BugId amount="98569" />
    <CreationDate amount="2005-06-06 15:13:00 -0400" />
    <DupId amount="" />
    <classification amount="Eclipse" />
    <Product amount="Platform" />
    <component amount="UI" />
    <Version amount="3.1" />
    <rep_platform amount="PC" />
    <op_sys amount="Windows 2000" />
    <priority amount="P3" />
    <bug_severity amount="normal" />
    <Summery>[Perspectives] Customization dialog does not support dialog font</Summery>
    <Patches amount="0" />
    <Stacktraces amount="0" />
    <SourceCodeRegions amount="0" />
    <Enumerations amount="1">
      <Enumeration lines="5">
        <Lines>
          <Line>- change the dialog font</Line>
          <Line>- Window &gt; Customize Perspective</Line>
          <Line>- it does not pick up the dialog font</Line>
          <Line>Fixed for RC2.</Line>
          <Line>Reviewed by Tod.</Line>
        </Lines>
      </Enumeration>
    </Enumerations>
    <bug_status amount="VERIFIED" />
    <resolution amount="FIXED" />
    <WithStack>3.1 RC1

- change the dialog font
- Window &gt; Customize Perspective
- it does not pick up the dialog font
Fixed for RC2.
Reviewed by Tod.

Verified in I20050610-0010
Verified in I20050610-0010
*** Bug 41225 has been marked as a duplicate of this bug. ***</WithStack>
    <WithOutStack>3.1 RC1

- change the dialog font
- Window &gt; Customize Perspective
- it does not pick up the dialog font
Fixed for RC2.
Reviewed by Tod.

Verified in I20050610-0010
Verified in I20050610-0010
*** Bug 41225 has been marked as a duplicate of this bug. ***</WithOutStack>
  </Bug>
  <Bug>
    <BugId amount="98570" />
    <CreationDate amount="2005-06-06 15:15:00 -0400" />
    <DupId amount="" />
    <classification amount="Eclipse" />
    <Product amount="Platform" />
    <component amount="UI" />
    <Version amount="3.1" />
    <rep_platform amount="PC" />
    <op_sys amount="Windows XP" />
    <priority amount="P5" />
    <bug_severity amount="enhancement" />
    <Summery>[Perspectives] Need API to delete a custom perspective</Summery>
    <Patches amount="0" />
    <Stacktraces amount="0" />
    <SourceCodeRegions amount="0" />
    <Enumerations amount="0" />
    <bug_status amount="ASSIGNED" />
    <resolution amount="" />
    <WithStack>Requesting an API to delete a perspective created by the user using the "Save 
Perspective As..." menu item or the saveAs API.  Thanks.
Is this for an RCP scenario?

Yes.  I'd rather not include the IDE's preference page, but instead build my 
own.  
A workaround is to cast down to PerspectiveRegistry and use the
deletePerspective method there.  But note that this is using internals which may
change.

Great, thanks.  That will work for me for the interim.  I appreciate that.
Reassigning bugs in component areas that are changing ownership.
There are currently no plans to work on this feature.

PW

Changes requested on bug 193523</WithStack>
    <WithOutStack>Requesting an API to delete a perspective created by the user using the "Save 
Perspective As..." menu item or the saveAs API.  Thanks.
Is this for an RCP scenario?

Yes.  I'd rather not include the IDE's preference page, but instead build my 
own.  
A workaround is to cast down to PerspectiveRegistry and use the
deletePerspective method there.  But note that this is using internals which may
change.

Great, thanks.  That will work for me for the interim.  I appreciate that.
Reassigning bugs in component areas that are changing ownership.
There are currently no plans to work on this feature.

PW

Changes requested on bug 193523</WithOutStack>
  </Bug>
  <Bug>
    <BugId amount="98571" />
    <CreationDate amount="2005-06-06 15:19:00 -0400" />
    <DupId amount="" />
    <classification amount="Tools" />
    <Product amount="CDT" />
    <component amount="cdt-core" />
    <Version amount="3.0" />
    <rep_platform amount="PC" />
    <op_sys amount="Windows XP" />
    <priority amount="P3" />
    <bug_severity amount="normal" />
    <Summery>Multiple "Starter.exe" and "cygpath.exe" when launch IDE</Summery>
    <Patches amount="0" />
    <Stacktraces amount="0" />
    <SourceCodeRegions amount="0" />
    <Enumerations amount="0" />
    <bug_status amount="CLOSED" />
    <resolution amount="FIXED" />
    <WithStack>CDT Build used: 3.0.0-I200505301223-win32

After launch IDE, open windows task manager. Multiple "Starter.exe" 
and "cygpath.exe" can be seen.
The cause may be that CygpathTranslator was not calling CygPath.dispose() 
during scanner info discovery. This has been addressed.

Please retest with the next build or latest from HEAD.

I tried again an got same result with latest build: I200506060301. 
(In reply to comment #1)
&gt; The cause may be that CygpathTranslator was not calling CygPath.dispose() 
&gt; during scanner info discovery. This has been addressed.
&gt; 
&gt; Please retest with the next build or latest from HEAD.
&gt; 

Thanks Vlad !
Please mark is as fixed so James could test.
Reassigning
(In reply to comment #2)
&gt; I tried again an got same result with latest build: I200506060301. 

Can you retry this James.  I think you were to quick to the test.
Vlad fixes was not in that build.

Please try again.
(In reply to comment #4)
&gt; (In reply to comment #2)
&gt; &gt; I tried again an got same result with latest build: I200506060301. 
&gt; Can you retry this James.  I think you were to quick to the test.
&gt; Vlad fixes was not in that build.
&gt; Please try again.

You are right...:-). 

Retested, but this time no starter and cygpath at all. I remember you said 
there should be a pair all the time?
Fixed by calling CygPath.dispose() from CygpathTranslator.
Tested on build I200506171115</WithStack>
    <WithOutStack>CDT Build used: 3.0.0-I200505301223-win32

After launch IDE, open windows task manager. Multiple "Starter.exe" 
and "cygpath.exe" can be seen.
The cause may be that CygpathTranslator was not calling CygPath.dispose() 
during scanner info discovery. This has been addressed.

Please retest with the next build or latest from HEAD.

I tried again an got same result with latest build: I200506060301. 
(In reply to comment #1)
&gt; The cause may be that CygpathTranslator was not calling CygPath.dispose() 
&gt; during scanner info discovery. This has been addressed.
&gt; 
&gt; Please retest with the next build or latest from HEAD.
&gt; 

Thanks Vlad !
Please mark is as fixed so James could test.
Reassigning
(In reply to comment #2)
&gt; I tried again an got same result with latest build: I200506060301. 

Can you retry this James.  I think you were to quick to the test.
Vlad fixes was not in that build.

Please try again.
(In reply to comment #4)
&gt; (In reply to comment #2)
&gt; &gt; I tried again an got same result with latest build: I200506060301. 
&gt; Can you retry this James.  I think you were to quick to the test.
&gt; Vlad fixes was not in that build.
&gt; Please try again.

You are right...:-). 

Retested, but this time no starter and cygpath at all. I remember you said 
there should be a pair all the time?
Fixed by calling CygPath.dispose() from CygpathTranslator.
Tested on build I200506171115</WithOutStack>
  </Bug>
  <Bug>
    <BugId amount="98572" />
    <CreationDate amount="2005-06-06 15:33:00 -0400" />
    <DupId amount="" />
    <classification amount="Eclipse" />
    <Product amount="Platform" />
    <component amount="SWT" />
    <Version amount="3.1" />
    <rep_platform amount="PC" />
    <op_sys amount="QNX-Photon" />
    <priority amount="P3" />
    <bug_severity amount="normal" />
    <Summery>Region.add( int []points) and Region.subtract (int [] points ) are not implemented</Summery>
    <Patches amount="0" />
    <Stacktraces amount="0" />
    <SourceCodeRegions amount="0" />
    <Enumerations amount="0" />
    <bug_status amount="CLOSED" />
    <resolution amount="WONTFIX" />
    <WithStack>The methods Region.add and Region.subtract for polygons are not implemented for
Photon.  This means that the tabs do not draw correctly on Photon.
Created attachment 22450
A patch that implements the Region.add and Region.subtract methods for polygons

I have implemented the two functions mentioned in this bug.  I have private
methods within that class that convert the polygon to scan lines and then use
these scanlines as a tile list.
Having these API implement is really important to run Eclipse 3.0 and greater.
It would be great if this was done by photon iteself. Note that we need to
remove the references to java.util.Arrays since it is not available in JDK 1.1.
So does this mean that I have to implement my own sorting algroithm for an
array? Or was there another method for sorting arrays in JDK 1.1? 

I understand that it would be better if they were implemented in Photon, but
unfortunately, that is not going to happen anytime soon, so it's either this way
or not at all.
Yes and no.  There is a non-API class called Compatibility that we use to get 
around these issues.  On J2ME, you write a sort.  On J2SE, you can call 
Arrays.sort().  However, if the number of things you are sorting is small, it 
doesn't make much difference.

SSQ to advise.
Closing report, platform is discontinued.</WithStack>
    <WithOutStack>The methods Region.add and Region.subtract for polygons are not implemented for
Photon.  This means that the tabs do not draw correctly on Photon.
Created attachment 22450
A patch that implements the Region.add and Region.subtract methods for polygons

I have implemented the two functions mentioned in this bug.  I have private
methods within that class that convert the polygon to scan lines and then use
these scanlines as a tile list.
Having these API implement is really important to run Eclipse 3.0 and greater.
It would be great if this was done by photon iteself. Note that we need to
remove the references to java.util.Arrays since it is not available in JDK 1.1.
So does this mean that I have to implement my own sorting algroithm for an
array? Or was there another method for sorting arrays in JDK 1.1? 

I understand that it would be better if they were implemented in Photon, but
unfortunately, that is not going to happen anytime soon, so it's either this way
or not at all.
Yes and no.  There is a non-API class called Compatibility that we use to get 
around these issues.  On J2ME, you write a sort.  On J2SE, you can call 
Arrays.sort().  However, if the number of things you are sorting is small, it 
doesn't make much difference.

SSQ to advise.
Closing report, platform is discontinued.</WithOutStack>
  </Bug>
  <Bug>
    <BugId amount="98573" />
    <CreationDate amount="2005-06-06 15:35:00 -0400" />
    <DupId amount="98546" />
    <classification amount="Tools" />
    <Product amount="TPTP Resource Monitoring" />
    <component amount="Platform.UI.StatsPerfViewers" />
    <Version amount="4.0" />
    <rep_platform amount="PC" />
    <op_sys amount="Windows XP" />
    <priority amount="P3" />
    <bug_severity amount="normal" />
    <Summery>3.1: tct 152 - Translation clarification</Summery>
    <Patches amount="0" />
    <Stacktraces amount="0" />
    <SourceCodeRegions amount="0" />
    <Enumerations amount="0" />
    <bug_status amount="CLOSED" />
    <resolution amount="DUPLICATE" />
    <WithStack>File \eclipse\plugins\org.eclipse.hyades.statistical.ui\plugin.properties

What is the difference between "Free" and "Available" in this context?
Should they be translated differently in this file?

LINUX.AGENT.21 = Available Space Size
LINUX.AGENT.19 = Free Space Size
This is a dup of bug 98546

*** This bug has been marked as a duplicate of 98546 ***
As of TPTP 4.6.0, TPTP is in maintenance mode and focusing on improving quality by resolving relevant enhancements/defects and increasing test coverage through test creation, automation, Build Verification Tests (BVTs), and expanded run-time execution. As part of the TPTP Bugzilla housecleaning process (see http://wiki.eclipse.org/Bugzilla_Housecleaning_Processes), this enhancement/defect is verified/closed by the Project Lead since this enhancement/defect has been resolved and unverified for more than 1 year and considered to be fixed. If this enhancement/defect is still unresolved and reproducible in the latest TPTP release (http://www.eclipse.org/tptp/home/downloads/), please re-open.</WithStack>
    <WithOutStack>File \eclipse\plugins\org.eclipse.hyades.statistical.ui\plugin.properties

What is the difference between "Free" and "Available" in this context?
Should they be translated differently in this file?

LINUX.AGENT.21 = Available Space Size
LINUX.AGENT.19 = Free Space Size
This is a dup of bug 98546

*** This bug has been marked as a duplicate of 98546 ***
As of TPTP 4.6.0, TPTP is in maintenance mode and focusing on improving quality by resolving relevant enhancements/defects and increasing test coverage through test creation, automation, Build Verification Tests (BVTs), and expanded run-time execution. As part of the TPTP Bugzilla housecleaning process (see http://wiki.eclipse.org/Bugzilla_Housecleaning_Processes), this enhancement/defect is verified/closed by the Project Lead since this enhancement/defect has been resolved and unverified for more than 1 year and considered to be fixed. If this enhancement/defect is still unresolved and reproducible in the latest TPTP release (http://www.eclipse.org/tptp/home/downloads/), please re-open.</WithOutStack>
  </Bug>
  <Bug>
    <BugId amount="98574" />
    <CreationDate amount="2005-06-06 15:36:00 -0400" />
    <DupId amount="102043" />
    <classification amount="Tools" />
    <Product amount="CDT" />
    <component amount="cdt-debug" />
    <Version amount="3.0" />
    <rep_platform amount="PC" />
    <op_sys amount="Windows XP" />
    <priority amount="P3" />
    <bug_severity amount="normal" />
    <Summery>IOException when terminate a Run session</Summery>
    <Patches amount="0" />
    <Stacktraces amount="1">
      <Stacktrace timestamp="1437341279404">
        <Exception>java.io.IOException</Exception>
        <Reason>No process is on the other end of the pipe.</Reason>
        <Frames>
          <Frame depth="0">org.eclipse.cdt.utils.spawner.SpawnerInputStream.read0(Native Method)</Frame>
          <Frame depth="1">org.eclipse.cdt.utils.spawner.SpawnerInputStream.read(SpawnerInputStream.java:60)</Frame>
          <Frame depth="2">java.io.BufferedInputStream.read1(Unknown Source)</Frame>
          <Frame depth="3">java.io.BufferedInputStream.read(Unknown Source)</Frame>
          <Frame depth="4">java.io.FilterInputStream.read(Unknown Source)</Frame>
          <Frame depth="5">org.eclipse.debug.internal.core.OutputStreamMonitor.read(OutputStreamMonitor.java:135)</Frame>
          <Frame depth="6">org.eclipse.debug.internal.core.OutputStreamMonitor.access$1(OutputStreamMonitor.java:126)</Frame>
          <Frame depth="7">org.eclipse.debug.internal.core.OutputStreamMonitor$1.run(OutputStreamMonitor.java:193)</Frame>
        </Frames>
      </Stacktrace>
    </Stacktraces>
    <SourceCodeRegions amount="0" />
    <Enumerations amount="0" />
    <bug_status amount="RESOLVED" />
    <resolution amount="DUPLICATE" />
    <WithStack>Build a project which has some user interactions. Create a Run configuration 
and run it. When terminate it you should notice an IOException generated as 
belows:

Error 2005-06-06 15:32:44.343 Error logged from Debug Core: 
java.io.IOException: No process is on the other end of the pipe.

	at org.eclipse.cdt.utils.spawner.SpawnerInputStream.read0(Native 
Method)
	at org.eclipse.cdt.utils.spawner.SpawnerInputStream.read
(SpawnerInputStream.java:60)
	at java.io.BufferedInputStream.read1(Unknown Source)
	at java.io.BufferedInputStream.read(Unknown Source)
	at java.io.FilterInputStream.read(Unknown Source)
	at org.eclipse.debug.internal.core.OutputStreamMonitor.read
(OutputStreamMonitor.java:135)
	at org.eclipse.debug.internal.core.OutputStreamMonitor.access$1
(OutputStreamMonitor.java:126)
	at org.eclipse.debug.internal.core.OutputStreamMonitor$1.run
(OutputStreamMonitor.java:193)
	at java.lang.Thread.run(Unknown Source)


*** This bug has been marked as a duplicate of 85889 ***
Marked as a duplicate of the wrong bug 
https://bugs.eclipse.org/bugs/show_bug.cgi?id=85889.


*** This bug has been marked as a duplicate of 102043 ***</WithStack>
    <WithOutStack>Build a project which has some user interactions. Create a Run configuration 
and run it. When terminate it you should notice an IOException generated as 
belows:

Error 2005-06-06 15:32:44.343 Error logged from Debug Core: 

	at java.lang.Thread.run(Unknown Source)


*** This bug has been marked as a duplicate of 85889 ***
Marked as a duplicate of the wrong bug 
https://bugs.eclipse.org/bugs/show_bug.cgi?id=85889.


*** This bug has been marked as a duplicate of 102043 ***</WithOutStack>
  </Bug>
  <Bug>
    <BugId amount="98575" />
    <CreationDate amount="2005-06-06 15:38:00 -0400" />
    <DupId amount="" />
    <classification amount="Eclipse" />
    <Product amount="Platform" />
    <component amount="UI" />
    <Version amount="3.1" />
    <rep_platform amount="All" />
    <op_sys amount="All" />
    <priority amount="P3" />
    <bug_severity amount="normal" />
    <Summery>make visible tab behavior configurable</Summery>
    <Patches amount="0" />
    <Stacktraces amount="0" />
    <SourceCodeRegions amount="0" />
    <Enumerations amount="0" />
    <bug_status amount="RESOLVED" />
    <resolution amount="WORKSFORME" />
    <WithStack>In 3.1RC1, the number of simultaneously visible editor tabs seems to have been
reduced such that the full file name (including the extension) is always visible
- yielding a limit of approx. 5 (!) files with visible tabs, as opposed to &gt; 10
in 3.0.
I think changes like these, which may severely affect the working habits of
millions of users, are rather sensitive and should at least be reversible by a
preference setting. 

Moreover, I really see no value in having the file extension visible (the file
type is already signified by the icon).
It is reversible by a preference setting:

    org.eclipse.ui/EDITOR_MINIMUM_CHARACTERS=10

can be placed in the plugin_customization.ini file.

Stripping the extension from the file name is something the UI time would need 
to add.  It would be quite useful because sometimes there are only three 
letters plus the extension that are not visible but instead of seeing the 
three characters, you see ... because the extension is there.

The old default was 10 (7 chars + ...)  In too many cases, the first 7 
characters of the classes showing are the same and therefore the characters 
showing in the tab are useless (e.g IWorkbe...) - users always have to go to 
the tooltip or navigate the tabs using the editor list.

The current default in CTabFolder is 20 characters (17 chars + ...).  This 
gives IWorkbenchPrefere... and IWorkbenchWindowA...
with "reversible" I obviously meant something more accessible than the
plugin_customization.ini setting.
You can also switch to using the R2.1 presentation from the Window &gt; Preferences dialog on the General &gt; Appearance preference page.  This gives the old style tabs.</WithStack>
    <WithOutStack>In 3.1RC1, the number of simultaneously visible editor tabs seems to have been
reduced such that the full file name (including the extension) is always visible
- yielding a limit of approx. 5 (!) files with visible tabs, as opposed to &gt; 10
in 3.0.
I think changes like these, which may severely affect the working habits of
millions of users, are rather sensitive and should at least be reversible by a
preference setting. 

Moreover, I really see no value in having the file extension visible (the file
type is already signified by the icon).
It is reversible by a preference setting:

    org.eclipse.ui/EDITOR_MINIMUM_CHARACTERS=10

can be placed in the plugin_customization.ini file.

Stripping the extension from the file name is something the UI time would need 
to add.  It would be quite useful because sometimes there are only three 
letters plus the extension that are not visible but instead of seeing the 
three characters, you see ... because the extension is there.

The old default was 10 (7 chars + ...)  In too many cases, the first 7 
characters of the classes showing are the same and therefore the characters 
showing in the tab are useless (e.g IWorkbe...) - users always have to go to 
the tooltip or navigate the tabs using the editor list.

The current default in CTabFolder is 20 characters (17 chars + ...).  This 
gives IWorkbenchPrefere... and IWorkbenchWindowA...
with "reversible" I obviously meant something more accessible than the
plugin_customization.ini setting.
You can also switch to using the R2.1 presentation from the Window &gt; Preferences dialog on the General &gt; Appearance preference page.  This gives the old style tabs.</WithOutStack>
  </Bug>
  <Bug>
    <BugId amount="98576" />
    <CreationDate amount="2005-06-06 15:45:00 -0400" />
    <DupId amount="" />
    <classification amount="Eclipse" />
    <Product amount="PDE" />
    <component amount="UI" />
    <Version amount="3.1" />
    <rep_platform amount="Macintosh" />
    <op_sys amount="Mac OS X - Carbon (unsup.)" />
    <priority amount="P3" />
    <bug_severity amount="normal" />
    <Summery>Vertical Alignment of text in RCP Intro incorrect for plug-ins targeted for 3.0</Summery>
    <Patches amount="0" />
    <Stacktraces amount="0" />
    <SourceCodeRegions amount="0" />
    <Enumerations amount="0" />
    <bug_status amount="VERIFIED" />
    <resolution amount="WORKSFORME" />
    <WithStack>If you create a RCP intro plugin targeted for 3.0 and run it you will find that
the text is not vertically aligned to the center.
this minor issue will be fixed in bug #98560</WithStack>
    <WithOutStack>If you create a RCP intro plugin targeted for 3.0 and run it you will find that
the text is not vertically aligned to the center.
this minor issue will be fixed in bug #98560</WithOutStack>
  </Bug>
  <Bug>
    <BugId amount="98577" />
    <CreationDate amount="2005-06-06 15:50:00 -0400" />
    <DupId amount="110260" />
    <classification amount="WebTools" />
    <Product amount="WTP Java EE Tools" />
    <component amount="jst.j2ee" />
    <Version amount="0.7" />
    <rep_platform amount="PC" />
    <op_sys amount="Windows XP" />
    <priority amount="P3" />
    <bug_severity amount="normal" />
    <Summery>Make J2EEVersionUtil and J2EEVersionConstants non-internal</Summery>
    <Patches amount="0" />
    <Stacktraces amount="0" />
    <SourceCodeRegions amount="0" />
    <Enumerations amount="0" />
    <bug_status amount="CLOSED" />
    <resolution amount="DUPLICATE" />
    <WithStack>Currently, when we get the J2EE version from an IVirtualComponent via 
getJ2EEVersion(), there isn't much we can really do with that version number 
and not depend on internal classes without cloning J2EEVersionUtil and 
J2EEVersionConstants. For example, I have a case where I want the String
representation "1.4" instead of the int representation "14". Is there a way to
perform this conversion without passing the result of 
IVirtualComponent.getJ2EEVersion() to J2EEVersionUtil.getJ2EETextVersion() or 
writing a block of if/else/case statements that make use of 
J2EEVersionConstants?
Pushing to M8
Changed Version field given new release numbering.

This will be tracked by defect 110260

*** This bug has been marked as a duplicate of 110260 ***
This is part of a mass update to close out all stale WTP resolved bugs from the 1.0.x and 1.5.0 timeframe.  If you feel this bug was closed inappropriately, please reopen.

Thanks, John Lanuti</WithStack>
    <WithOutStack>Currently, when we get the J2EE version from an IVirtualComponent via 
getJ2EEVersion(), there isn't much we can really do with that version number 
and not depend on internal classes without cloning J2EEVersionUtil and 
J2EEVersionConstants. For example, I have a case where I want the String
representation "1.4" instead of the int representation "14". Is there a way to
perform this conversion without passing the result of 
IVirtualComponent.getJ2EEVersion() to J2EEVersionUtil.getJ2EETextVersion() or 
writing a block of if/else/case statements that make use of 
J2EEVersionConstants?
Pushing to M8
Changed Version field given new release numbering.

This will be tracked by defect 110260

*** This bug has been marked as a duplicate of 110260 ***
This is part of a mass update to close out all stale WTP resolved bugs from the 1.0.x and 1.5.0 timeframe.  If you feel this bug was closed inappropriately, please reopen.

Thanks, John Lanuti</WithOutStack>
  </Bug>
  <Bug>
    <BugId amount="98578" />
    <CreationDate amount="2005-06-06 15:55:00 -0400" />
    <DupId amount="" />
    <classification amount="WebTools" />
    <Product amount="WTP Webservices" />
    <component amount="wst.wsdl" />
    <Version amount="unspecified" />
    <rep_platform amount="PC" />
    <op_sys amount="Windows XP" />
    <priority amount="P3" />
    <bug_severity amount="enhancement" />
    <Summery>Need OAGIS validation performance test cases</Summery>
    <Patches amount="0" />
    <Stacktraces amount="0" />
    <SourceCodeRegions amount="0" />
    <Enumerations amount="0" />
    <bug_status amount="CLOSED" />
    <resolution amount="FIXED" />
    <WithStack>we need two test cases for this: with and without WS-I validation.
Created attachment 22451
Added two new test cases

Hi Jeff,

These are test cases for WSDL validation performance. One of them measures the
performance of WSDL validation without WS-I, and the other measures it along
with WS-I validation.

Thanks,
- Kihup
Thanks Kihup. Patch commited and released.
This has been verified.</WithStack>
    <WithOutStack>we need two test cases for this: with and without WS-I validation.
Created attachment 22451
Added two new test cases

Hi Jeff,

These are test cases for WSDL validation performance. One of them measures the
performance of WSDL validation without WS-I, and the other measures it along
with WS-I validation.

Thanks,
- Kihup
Thanks Kihup. Patch commited and released.
This has been verified.</WithOutStack>
  </Bug>
  <Bug>
    <BugId amount="98579" />
    <CreationDate amount="2005-06-06 16:14:00 -0400" />
    <DupId amount="" />
    <classification amount="Eclipse" />
    <Product amount="PDE" />
    <component amount="Build" />
    <Version amount="3.1" />
    <rep_platform amount="PC" />
    <op_sys amount="Windows XP" />
    <priority amount="P3" />
    <bug_severity amount="normal" />
    <Summery>[readme] problems when exporting plugins from various drive</Summery>
    <Patches amount="0" />
    <Stacktraces amount="0" />
    <SourceCodeRegions amount="0" />
    <Enumerations amount="0" />
    <bug_status amount="RESOLVED" />
    <resolution amount="FIXED" />
    <WithStack>We need to readme the problems from bug #86020
The entry has been provided to Mike and Jim.</WithStack>
    <WithOutStack>We need to readme the problems from bug #86020
The entry has been provided to Mike and Jim.</WithOutStack>
  </Bug>
  <Bug>
    <BugId amount="98580" />
    <CreationDate amount="2005-06-06 16:16:00 -0400" />
    <DupId amount="" />
    <classification amount="Eclipse" />
    <Product amount="Platform" />
    <component amount="Text" />
    <Version amount="3.0.2" />
    <rep_platform amount="PC" />
    <op_sys amount="Windows XP" />
    <priority amount="P3" />
    <bug_severity amount="normal" />
    <Summery>Eclipse doesn’t remove modified (dirty) resources from Editor View even after their parent projects are permanently deleted from system</Summery>
    <Patches amount="0" />
    <Stacktraces amount="0" />
    <SourceCodeRegions amount="0" />
    <Enumerations amount="1">
      <Enumeration lines="9">
        <Lines>
          <Line>1. Create a Simple project by selecting “File -&gt; New -&gt; Project -&gt; Simple -&gt;</Line>
          <Line>Project”.</Line>
          <Line>2. Add a new file “test.txt” into the newly created project. The content of</Line>
          <Line>the file “test.txt” is displayed in the Editor view. The corresponding editor</Line>
          <Line>is empty at this point in time.</Line>
          <Line>3. Modify the content of the file “test.txt” by adding some text into it. Make</Line>
          <Line>sure not to save the text file “test.txt”.</Line>
          <Line>4. Delete the simple project created in the step 1. Choose to permanently</Line>
          <Line>remove the project from the system when prompted.</Line>
        </Lines>
      </Enumeration>
    </Enumerations>
    <bug_status amount="RESOLVED" />
    <resolution amount="INVALID" />
    <WithStack>Problem Description: Eclipse doesn’t remove modified (dirty) resources from 
its Editor View even after the parent projects of these resources are 
permanently deleted from the system. 

You may complete the following steps in order to reproduce this scenario:
1. Create a Simple project by selecting “File -&gt; New -&gt; Project -&gt; Simple -&gt; 
Project”. 
2. Add a new file “test.txt” into the newly created project. The content of 
the file “test.txt” is displayed in the Editor view. The corresponding editor 
is empty at this point in time. 
3. Modify the content of the file “test.txt” by adding some text into it. Make 
sure not to save the text file “test.txt”.
4. Delete the simple project created in the step 1. Choose to permanently 
remove the project from the system when prompted. 

Expected Behavior: All the resources (including the modified resources) owned 
by the simple project must be removed from both the workbench and the system.

Actual Behavior: The modified resources (dirty) owned by the simple project 
remain opened in the Editor view even after their physical resources and 
parent projects and are permanently removed from the system.
Note that the scenario mentioned in this defect is also reproducible with Java, 
C, CPP and other Eclipse projects. 

Closing the dirty editor would result in eventually undesired/unexpected lost
work which is not acceptable. The user  has the choice to confirm this or to
save it under a new name.
I agree, closing the dirty editor would result in eventually 
undesired/unexpected lost, which may not be not be acceptable.

However, if you choose to delete the project along with its contents, you are 
accepting loss of all its resources. This includes both modified and unmodified 
resources. I don’t understand why it is useful only to save dirty resources 
under another project after removing all the unmodified ones.

Say you have a Java project which contains 100 classes. If you modify one and 
then decide to remove its project (along with its content), why is it useful to 
save that one Java resource? You have just deleted the rest of 99 classes along 
with other support files such as .project, .classpath and so forth. 

I think this defect should be reopened and fixed. 

Pete, what do you think?

The stuff in the dirty editor(s) is inevitably lost while all other deleted code
could be restored, if not via team repostory or local history then at least with
system tools. We won't change this.</WithStack>
    <WithOutStack>Problem Description: Eclipse doesn’t remove modified (dirty) resources from 
its Editor View even after the parent projects of these resources are 
permanently deleted from the system. 

You may complete the following steps in order to reproduce this scenario:
1. Create a Simple project by selecting “File -&gt; New -&gt; Project -&gt; Simple -&gt; 
Project”. 
2. Add a new file “test.txt” into the newly created project. The content of 
the file “test.txt” is displayed in the Editor view. The corresponding editor 
is empty at this point in time. 
3. Modify the content of the file “test.txt” by adding some text into it. Make 
sure not to save the text file “test.txt”.
4. Delete the simple project created in the step 1. Choose to permanently 
remove the project from the system when prompted. 

Expected Behavior: All the resources (including the modified resources) owned 
by the simple project must be removed from both the workbench and the system.

Actual Behavior: The modified resources (dirty) owned by the simple project 
remain opened in the Editor view even after their physical resources and 
parent projects and are permanently removed from the system.
Note that the scenario mentioned in this defect is also reproducible with Java, 
C, CPP and other Eclipse projects. 

Closing the dirty editor would result in eventually undesired/unexpected lost
work which is not acceptable. The user  has the choice to confirm this or to
save it under a new name.
I agree, closing the dirty editor would result in eventually 
undesired/unexpected lost, which may not be not be acceptable.

However, if you choose to delete the project along with its contents, you are 
accepting loss of all its resources. This includes both modified and unmodified 
resources. I don’t understand why it is useful only to save dirty resources 
under another project after removing all the unmodified ones.

Say you have a Java project which contains 100 classes. If you modify one and 
then decide to remove its project (along with its content), why is it useful to 
save that one Java resource? You have just deleted the rest of 99 classes along 
with other support files such as .project, .classpath and so forth. 

I think this defect should be reopened and fixed. 

Pete, what do you think?

The stuff in the dirty editor(s) is inevitably lost while all other deleted code
could be restored, if not via team repostory or local history then at least with
system tools. We won't change this.</WithOutStack>
  </Bug>
  <Bug>
    <BugId amount="98581" />
    <CreationDate amount="2005-06-06 16:25:00 -0400" />
    <DupId amount="" />
    <classification amount="WebTools" />
    <Product amount="WTP Java EE Tools" />
    <component amount="jst.j2ee" />
    <Version amount="unspecified" />
    <rep_platform amount="PC" />
    <op_sys amount="Windows XP" />
    <priority amount="P3" />
    <bug_severity amount="enhancement" />
    <Summery>[modulecore] Support EARs outside of the workspace</Summery>
    <Patches amount="0" />
    <Stacktraces amount="0" />
    <SourceCodeRegions amount="0" />
    <Enumerations amount="0" />
    <bug_status amount="CLOSED" />
    <resolution amount="FIXED" />
    <WithStack>Performance when developing very large applications needs to be improved. The 
more projects you have, the slower your performance becomes. In particular 
rebuilding becomes slower and deployment becomes slower.

The idea is to follow the same model that is used to develop Eclipse, that is 
self hosting. When developing Eclipse we use PDE and have it point to a target 
workbench, we then only have a small number of projects/plug-ins in our 
workspaces. 

The customer would have an "expanded" EAR. By "expanded" we mean an EAR where 
the components are all unzipped. This EAR is directly operated on by the 
Application  Server. There is no need to copy it to another location or change 
it's shape. This expanded EAR would live in the file system. WTP would point to 
the EAR just like the PDE points to a runtime workbench. The customer 
would "import" some of the EAR's modules into their workspace. Most of the 
modules would live in the file system, and only the ones that the developer 
wanted to work on would be in the workspace. The unit of granularity is the 
module.
changing target from 1.5 M1 to 1.5 M5 to reflect new numbering system as we join Collisto. 
Not committed for this release
The basic binary module support handles this.
I agree.</WithStack>
    <WithOutStack>Performance when developing very large applications needs to be improved. The 
more projects you have, the slower your performance becomes. In particular 
rebuilding becomes slower and deployment becomes slower.

The idea is to follow the same model that is used to develop Eclipse, that is 
self hosting. When developing Eclipse we use PDE and have it point to a target 
workbench, we then only have a small number of projects/plug-ins in our 
workspaces. 

The customer would have an "expanded" EAR. By "expanded" we mean an EAR where 
the components are all unzipped. This EAR is directly operated on by the 
Application  Server. There is no need to copy it to another location or change 
it's shape. This expanded EAR would live in the file system. WTP would point to 
the EAR just like the PDE points to a runtime workbench. The customer 
would "import" some of the EAR's modules into their workspace. Most of the 
modules would live in the file system, and only the ones that the developer 
wanted to work on would be in the workspace. The unit of granularity is the 
module.
changing target from 1.5 M1 to 1.5 M5 to reflect new numbering system as we join Collisto. 
Not committed for this release
The basic binary module support handles this.
I agree.</WithOutStack>
  </Bug>
  <Bug>
    <BugId amount="98582" />
    <CreationDate amount="2005-06-06 16:27:00 -0400" />
    <DupId amount="" />
    <classification amount="Eclipse" />
    <Product amount="Platform" />
    <component amount="Doc" />
    <Version amount="3.1" />
    <rep_platform amount="PC" />
    <op_sys amount="Windows 2000" />
    <priority amount="P3" />
    <bug_severity amount="normal" />
    <Summery>Tasks view doc is incorrect, and no doc for Problems view</Summery>
    <Patches amount="0" />
    <Stacktraces amount="0" />
    <SourceCodeRegions amount="0" />
    <Enumerations amount="0" />
    <bug_status amount="RESOLVED" />
    <resolution amount="FIXED" />
    <WithStack>Build: 3.1 RC1

Workbench User Guide &gt; Concepts &gt; Views &gt; Tasks view is out of date
(ref-31.htm).  It says that compiler problems are recorded in there, but they
now appear in the Problems view instead.  There seems to be no documentation for
the Problems view.
I have edited the following Task View pages:

Workbench User Guide &gt; Concepts &gt; Views &gt; Tasks view (ctskview.htm)
Workbench User Guide &gt; Reference &gt; User Interface Information &gt; Views and 
Editors &gt; Tasks view (ref-31.htm)  

I have added the following Problem View pages:

Workbench User Guide &gt; Concepts &gt; Views &gt; Problems view (cprbview.htm)
Workbench User Guide &gt; Reference &gt; User Interface Information &gt; Views and 
Editors &gt; Problems view (ref-31a.htm)

Please let me know if there are any other details that should be documented 
for either of these views.

Thanks,
AC

Sorry...fixed.
Looks good. I fixed one small mistake (Problems view is not included in Resource
perspective by default).  I also added some more "related concepts" links.</WithStack>
    <WithOutStack>Build: 3.1 RC1

Workbench User Guide &gt; Concepts &gt; Views &gt; Tasks view is out of date
(ref-31.htm).  It says that compiler problems are recorded in there, but they
now appear in the Problems view instead.  There seems to be no documentation for
the Problems view.
I have edited the following Task View pages:

Workbench User Guide &gt; Concepts &gt; Views &gt; Tasks view (ctskview.htm)
Workbench User Guide &gt; Reference &gt; User Interface Information &gt; Views and 
Editors &gt; Tasks view (ref-31.htm)  

I have added the following Problem View pages:

Workbench User Guide &gt; Concepts &gt; Views &gt; Problems view (cprbview.htm)
Workbench User Guide &gt; Reference &gt; User Interface Information &gt; Views and 
Editors &gt; Problems view (ref-31a.htm)

Please let me know if there are any other details that should be documented 
for either of these views.

Thanks,
AC

Sorry...fixed.
Looks good. I fixed one small mistake (Problems view is not included in Resource
perspective by default).  I also added some more "related concepts" links.</WithOutStack>
  </Bug>
  <Bug>
    <BugId amount="98583" />
    <CreationDate amount="2005-06-06 16:37:00 -0400" />
    <DupId amount="91499" />
    <classification amount="Tools" />
    <Product amount="AspectJ" />
    <component amount="Compiler" />
    <Version amount="1.2.1" />
    <rep_platform amount="PC" />
    <op_sys amount="Windows XP" />
    <priority amount="P3" />
    <bug_severity amount="major" />
    <Summery>Compile generates invalid bytecode when return inside try block in try/catch/finally</Summery>
    <Patches amount="0" />
    <Stacktraces amount="0" />
    <SourceCodeRegions amount="10">
      <source_code type="class">
        <location start="3316" end="3346" />
        <code>&lt;classpath path="${bin.dir}</code>
      </source_code>
      <source_code type="package">
        <location start="3413" end="3426" />
        <code>package test;</code>
      </source_code>
      <source_code type="import">
        <location start="3427" end="3462" />
        <code>import org.aspectj.lang.Signature;</code>
      </source_code>
      <source_code type="functioncall">
        <location start="3572" end="3600" />
        <code>&amp;&amp; !execution(*.new(..));</code>
      </source_code>
      <source_code type="functiondef">
        <location start="3602" end="3708" />
        <code>before() : traceMethods() {
			Signature sig = thisJoinPoint.getSignature();
			trace("Enter", sig);
		}</code>
      </source_code>
      <source_code type="functiondef">
        <location start="3712" end="3816" />
        <code>after() : traceMethods() {
			Signature sig = thisJoinPoint.getSignature();
			trace("Exit", sig);
		}</code>
      </source_code>
      <source_code type="functiondef">
        <location start="3820" end="4062" />
        <code>private void trace(String action, Signature sig) {
			StringBuffer message = new StringBuffer(" Trace: ");
			message.append(action);
			message.append(": ");
			message.append(sig.toString());
			System.out.println(message.toString());
		}</code>
      </source_code>
      <source_code type="package">
        <location start="4092" end="4105" />
        <code>package test;</code>
      </source_code>
      <source_code type="import">
        <location start="4106" end="4139" />
        <code>import junit.framework.TestCase;</code>
      </source_code>
      <source_code type="class">
        <location start="4142" end="6535" />
        <code>public class TestClass extends TestCase {
	/* 
	 * This variable is used later for testing.  It is always
	 * false but a non-final variable is used so that the compiler can't
	 * optimize it away
	 */
	private boolean condition = false;
	
	/**
	 * Constructor required by junit
	 * 
	 * @param name
	 */
	public TestClass(String name) {
		super(name);
	}

	/**
	 * Main method used for running the junit test from the command line
	 * 
	 * @param args not used
	 */
    public static void main( String[] args ) {

        junit.swingui.TestRunner.run( TestCase.class );

    }
	
    /**
     * Test that always works.  It does not have a return in the try block
     */
	public void testExceptionHandling1() {
		boolean exceptionHandled = false;
		
		try {
			throwException();
		} catch (Exception e) {
			System.out.println("Exception caught and handled");
			exceptionHandled = true;
		}
		
		assertTrue("Exception was not handled", exceptionHandled);
	}
	
    /**
     * Test that always works.  It does not have a finally block
     */
	public void testExceptionHandling2() {
		boolean exceptionHandled = false;
		
		try {
			if (condition) {
				return;
			}			
			throwException();
		} catch (Exception e) {
			System.out.println("Exception caught and handled");
			exceptionHandled = true;
		}
		
		assertTrue("Exception was not handled", exceptionHandled);
	}
	
    /**
     * Test that does not work when iajc does the compile but does work
     * when javac does the compile followed by a weave from iajc.  It has
     * both a return in the try block and a finally block.
     */
	public void testExceptionHandling3() {
		boolean exceptionHandled = false;
		
		try {
			// this condition is always false so the return is never excecuted.
			// if this 'if' block is commented out, the test case always works
			if (condition) {
				return;
			}			
			throwException();
		} catch (Exception e) {
			System.out.println("Exception caught and handled");
			exceptionHandled = true;
		} finally {
			// this finally block does nothing important
			// if it is commented out the test case works
			System.out.println("Finally performed");
		}
		
		assertTrue("Exception was not handled", exceptionHandled);
	}
	
	/**
	 * Method used by all the tests that just throws an exception
	 * @throws Exception
	 */
	private void throwException() throws Exception {
		throw new Exception();
	}
}</code>
      </source_code>
    </SourceCodeRegions>
    <Enumerations amount="1">
      <Enumeration lines="13">
        <Lines>
          <Line>- devtools</Line>
          <Line>\</Line>
          <Line>-aspectj-1.2.1</Line>
          <Line>-junit3.8.1</Line>
          <Line>- project</Line>
          <Line>\</Line>
          <Line>-build.xml</Line>
          <Line>-src</Line>
          <Line>\</Line>
          <Line>-test</Line>
          <Line>\</Line>
          <Line>- TestAspect.aj</Line>
          <Line>- TestClass.java</Line>
        </Lines>
      </Enumeration>
    </Enumerations>
    <bug_status amount="RESOLVED" />
    <resolution amount="DUPLICATE" />
    <WithStack>When code has a try/catch/finally sequence and there's a return path inside the
try block and the method is instrumented with before and after advice, the iajc
ant task creates code that does not catch exceptions.  When javac is used to
compile the code and iajc just weaves the aspects it works as expected.

Below is sample code that creates this problem.  The structure is assumed as
follows, but can easily be changed by modifying build.xml

- devtools
  \
   -aspectj-1.2.1
   -junit3.8.1
- project
   \
    -build.xml
    -src
      \
       -test
         \     
          - TestAspect.aj
          - TestClass.java


Change to the directory with build.xml.  Run 'ant javac' - all unit tests pass.
 Run 'ant iajc' - 2 unit tests succeed but the third results in an error.  The
only difference between the two ant runs is that, with 'ant javac' javac does
the compile and lets iajc just weave the aspects into the resulting class files.
 With 'ant iajc' the iajc task does both the compile and weave and the resulting
bytecode doesn't work quite right.

--- build.xml -------
&lt;project name="test" default="all"&gt;
	&lt;property name="bin.dir" value="bin" /&gt;
	&lt;property name="src.dir" value="src" /&gt;

	&lt;property name="tools.dir" value="/devtools" /&gt;
	&lt;property name="aspectj.dir" value="${tools.dir}/aspectj-1.2.1" /&gt;
	&lt;property name="junit.dir" value="${tools.dir}/junit3.8.1"/&gt;

	&lt;taskdef 
		resource="org/aspectj/tools/ant/taskdefs/aspectjTaskdefs.properties"&gt;
		&lt;classpath&gt;
			&lt;pathelement location="${aspectj.dir}/lib/aspectjtools.jar"/&gt;
		&lt;/classpath&gt;
	&lt;/taskdef&gt;		
		
	&lt;path id="class.path"&gt;
		&lt;pathelement location="${aspectj.dir}/lib/aspectjtools.jar" /&gt;
		&lt;pathelement location="${aspectj.dir}/lib/aspectjrt.jar" /&gt;
		&lt;pathelement location="${junit.dir}/junit.jar" /&gt;
	&lt;/path&gt;

	&lt;target name="all"&gt;
		&lt;echo level="info"&gt;Run 'ant javac' to see the results using javac compiler
followed by iajc weaving.&lt;/echo&gt;
		&lt;echo level="info"&gt;Run 'ant iajc' to see the results using the iajc compiler
without javac compiling.&lt;/echo&gt;
	&lt;/target&gt;
		
	&lt;target name="javac" depends="clean,javac-compile,run-unit-tests"/&gt;
	&lt;target name="iajc" depends="clean,iajc-compile,run-unit-tests"/&gt;

	&lt;target name="clean"&gt;
		&lt;delete dir="${bin.dir}"/&gt;
	&lt;/target&gt;
			
	&lt;target name="javac-compile"&gt;
		&lt;mkdir dir="${bin.dir}" /&gt;

		&lt;javac srcdir="${src.dir}" destdir="${bin.dir}" debug="on" deprecation="off"&gt;
			&lt;classpath refid="class.path" /&gt;
		&lt;/javac&gt;

		&lt;copy todir="${bin.dir}"&gt;
			&lt;fileset dir="${src.dir}" includes="**/*.aj" /&gt;
		&lt;/copy&gt;
		&lt;echo message="Weaving aspects into class files" level="info" /&gt;
		&lt;iajc srcdir="${bin.dir}" inpath="${bin.dir}" destdir="${bin.dir}" debug="on"
deprecation="off" X="reweavable"&gt;
			&lt;classpath refid="class.path" /&gt;
		&lt;/iajc&gt;
		&lt;delete&gt;
			&lt;fileset dir="${bin.dir}" includes="**/*.aj"/&gt;
		&lt;/delete&gt;
	&lt;/target&gt;

	&lt;target name="iajc-compile"&gt;
		&lt;mkdir dir="${bin.dir}" /&gt;

		&lt;echo message="Compiling and weaving class files" level="info" /&gt;
		&lt;iajc sourceroots="${src.dir}" destdir="${bin.dir}" debug="on"
deprecation="off" X="reweavable"&gt;
			&lt;classpath refid="class.path" /&gt;
		&lt;/iajc&gt;
	&lt;/target&gt;

	&lt;target name="run-unit-tests"&gt;
		&lt;junit printsummary="on" haltonfailure="yes"&gt;
			&lt;formatter type="brief" usefile="false"/&gt;
			&lt;test name="test.TestClass"/&gt;
			&lt;classpath refid="class.path"/&gt;
			&lt;classpath path="${bin.dir}"/&gt;				
		&lt;/junit&gt;
	&lt;/target&gt;
	
&lt;/project&gt;

--- TraceAspect.aj ---
package test;

import org.aspectj.lang.Signature;

public aspect TraceAspect {
		pointcut traceMethods() : execution(public * *(..)) 
			&amp;&amp; within(TestClass+)
			&amp;&amp; !execution(*.new(..));

		before() : traceMethods() {
			Signature sig = thisJoinPoint.getSignature();
			trace("Enter", sig);
		}
		
		after() : traceMethods() {
			Signature sig = thisJoinPoint.getSignature();
			trace("Exit", sig);
		}
		
		private void trace(String action, Signature sig) {
			StringBuffer message = new StringBuffer(" Trace: ");
			message.append(action);
			message.append(": ");
			message.append(sig.toString());
			System.out.println(message.toString());
		}
		
}

--- TestClass.java ---
package test;

import junit.framework.TestCase;


public class TestClass extends TestCase {
	/* 
	 * This variable is used later for testing.  It is always
	 * false but a non-final variable is used so that the compiler can't
	 * optimize it away
	 */
	private boolean condition = false;
	
	/**
	 * Constructor required by junit
	 * 
	 * @param name
	 */
	public TestClass(String name) {
		super(name);
	}

	/**
	 * Main method used for running the junit test from the command line
	 * 
	 * @param args not used
	 */
    public static void main( String[] args ) {

        junit.swingui.TestRunner.run( TestCase.class );

    }
	
    /**
     * Test that always works.  It does not have a return in the try block
     */
	public void testExceptionHandling1() {
		boolean exceptionHandled = false;
		
		try {
			throwException();
		} catch (Exception e) {
			System.out.println("Exception caught and handled");
			exceptionHandled = true;
		}
		
		assertTrue("Exception was not handled", exceptionHandled);
	}
	
    /**
     * Test that always works.  It does not have a finally block
     */
	public void testExceptionHandling2() {
		boolean exceptionHandled = false;
		
		try {
			if (condition) {
				return;
			}			
			throwException();
		} catch (Exception e) {
			System.out.println("Exception caught and handled");
			exceptionHandled = true;
		}
		
		assertTrue("Exception was not handled", exceptionHandled);
	}
	
    /**
     * Test that does not work when iajc does the compile but does work
     * when javac does the compile followed by a weave from iajc.  It has
     * both a return in the try block and a finally block.
     */
	public void testExceptionHandling3() {
		boolean exceptionHandled = false;
		
		try {
			// this condition is always false so the return is never excecuted.
			// if this 'if' block is commented out, the test case always works
			if (condition) {
				return;
			}			
			throwException();
		} catch (Exception e) {
			System.out.println("Exception caught and handled");
			exceptionHandled = true;
		} finally {
			// this finally block does nothing important
			// if it is commented out the test case works
			System.out.println("Finally performed");
		}
		
		assertTrue("Exception was not handled", exceptionHandled);
	}
	
	/**
	 * Method used by all the tests that just throws an exception
	 * @throws Exception
	 */
	private void throwException() throws Exception {
		throw new Exception();
	}
}
Created attachment 22453
Test case files WinZipped


*** This bug has been marked as a duplicate of 91499 ***</WithStack>
    <WithOutStack>When code has a try/catch/finally sequence and there's a return path inside the
try block and the method is instrumented with before and after advice, the iajc
ant task creates code that does not catch exceptions.  When javac is used to
compile the code and iajc just weaves the aspects it works as expected.

Below is sample code that creates this problem.  The structure is assumed as
follows, but can easily be changed by modifying build.xml

- devtools
  \
   -aspectj-1.2.1
   -junit3.8.1
- project
   \
    -build.xml
    -src
      \
       -test
         \     
          - TestAspect.aj
          - TestClass.java


Change to the directory with build.xml.  Run 'ant javac' - all unit tests pass.
 Run 'ant iajc' - 2 unit tests succeed but the third results in an error.  The
only difference between the two ant runs is that, with 'ant javac' javac does
the compile and lets iajc just weave the aspects into the resulting class files.
 With 'ant iajc' the iajc task does both the compile and weave and the resulting
bytecode doesn't work quite right.

--- build.xml -------
&lt;project name="test" default="all"&gt;
	&lt;property name="bin.dir" value="bin" /&gt;
	&lt;property name="src.dir" value="src" /&gt;

	&lt;property name="tools.dir" value="/devtools" /&gt;
	&lt;property name="aspectj.dir" value="${tools.dir}/aspectj-1.2.1" /&gt;
	&lt;property name="junit.dir" value="${tools.dir}/junit3.8.1"/&gt;

	&lt;taskdef 
		resource="org/aspectj/tools/ant/taskdefs/aspectjTaskdefs.properties"&gt;
		&lt;classpath&gt;
			&lt;pathelement location="${aspectj.dir}/lib/aspectjtools.jar"/&gt;
		&lt;/classpath&gt;
	&lt;/taskdef&gt;		
		
	&lt;path id="class.path"&gt;
		&lt;pathelement location="${aspectj.dir}/lib/aspectjtools.jar" /&gt;
		&lt;pathelement location="${aspectj.dir}/lib/aspectjrt.jar" /&gt;
		&lt;pathelement location="${junit.dir}/junit.jar" /&gt;
	&lt;/path&gt;

	&lt;target name="all"&gt;
		&lt;echo level="info"&gt;Run 'ant javac' to see the results using javac compiler
followed by iajc weaving.&lt;/echo&gt;
		&lt;echo level="info"&gt;Run 'ant iajc' to see the results using the iajc compiler
without javac compiling.&lt;/echo&gt;
	&lt;/target&gt;
		
	&lt;target name="javac" depends="clean,javac-compile,run-unit-tests"/&gt;
	&lt;target name="iajc" depends="clean,iajc-compile,run-unit-tests"/&gt;

	&lt;target name="clean"&gt;
		&lt;delete dir="${bin.dir}"/&gt;
	&lt;/target&gt;
			
	&lt;target name="javac-compile"&gt;
		&lt;mkdir dir="${bin.dir}" /&gt;

		&lt;javac srcdir="${src.dir}" destdir="${bin.dir}" debug="on" deprecation="off"&gt;
			&lt;classpath refid="class.path" /&gt;
		&lt;/javac&gt;

		&lt;copy todir="${bin.dir}"&gt;
			&lt;fileset dir="${src.dir}" includes="**/*.aj" /&gt;
		&lt;/copy&gt;
		&lt;echo message="Weaving aspects into class files" level="info" /&gt;
		&lt;iajc srcdir="${bin.dir}" inpath="${bin.dir}" destdir="${bin.dir}" debug="on"
deprecation="off" X="reweavable"&gt;
			&lt;classpath refid="class.path" /&gt;
		&lt;/iajc&gt;
		&lt;delete&gt;
			&lt;fileset dir="${bin.dir}" includes="**/*.aj"/&gt;
		&lt;/delete&gt;
	&lt;/target&gt;

	&lt;target name="iajc-compile"&gt;
		&lt;mkdir dir="${bin.dir}" /&gt;

		&lt;echo message="Compiling and weaving class files" level="info" /&gt;
		&lt;iajc sourceroots="${src.dir}" destdir="${bin.dir}" debug="on"
deprecation="off" X="reweavable"&gt;
			&lt;classpath refid="class.path" /&gt;
		&lt;/iajc&gt;
	&lt;/target&gt;

	&lt;target name="run-unit-tests"&gt;
		&lt;junit printsummary="on" haltonfailure="yes"&gt;
			&lt;formatter type="brief" usefile="false"/&gt;
			&lt;test name="test.TestClass"/&gt;
			&lt;classpath refid="class.path"/&gt;
			&lt;classpath path="${bin.dir}"/&gt;				
		&lt;/junit&gt;
	&lt;/target&gt;
	
&lt;/project&gt;

--- TraceAspect.aj ---
package test;

import org.aspectj.lang.Signature;

public aspect TraceAspect {
		pointcut traceMethods() : execution(public * *(..)) 
			&amp;&amp; within(TestClass+)
			&amp;&amp; !execution(*.new(..));

		before() : traceMethods() {
			Signature sig = thisJoinPoint.getSignature();
			trace("Enter", sig);
		}
		
		after() : traceMethods() {
			Signature sig = thisJoinPoint.getSignature();
			trace("Exit", sig);
		}
		
		private void trace(String action, Signature sig) {
			StringBuffer message = new StringBuffer(" Trace: ");
			message.append(action);
			message.append(": ");
			message.append(sig.toString());
			System.out.println(message.toString());
		}
		
}

--- TestClass.java ---
package test;

import junit.framework.TestCase;


public class TestClass extends TestCase {
	/* 
	 * This variable is used later for testing.  It is always
	 * false but a non-final variable is used so that the compiler can't
	 * optimize it away
	 */
	private boolean condition = false;
	
	/**
	 * Constructor required by junit
	 * 
	 * @param name
	 */
	public TestClass(String name) {
		super(name);
	}

	/**
	 * Main method used for running the junit test from the command line
	 * 
	 * @param args not used
	 */
    public static void main( String[] args ) {

        junit.swingui.TestRunner.run( TestCase.class );

    }
	
    /**
     * Test that always works.  It does not have a return in the try block
     */
	public void testExceptionHandling1() {
		boolean exceptionHandled = false;
		
		try {
			throwException();
		} catch (Exception e) {
			System.out.println("Exception caught and handled");
			exceptionHandled = true;
		}
		
		assertTrue("Exception was not handled", exceptionHandled);
	}
	
    /**
     * Test that always works.  It does not have a finally block
     */
	public void testExceptionHandling2() {
		boolean exceptionHandled = false;
		
		try {
			if (condition) {
				return;
			}			
			throwException();
		} catch (Exception e) {
			System.out.println("Exception caught and handled");
			exceptionHandled = true;
		}
		
		assertTrue("Exception was not handled", exceptionHandled);
	}
	
    /**
     * Test that does not work when iajc does the compile but does work
     * when javac does the compile followed by a weave from iajc.  It has
     * both a return in the try block and a finally block.
     */
	public void testExceptionHandling3() {
		boolean exceptionHandled = false;
		
		try {
			// this condition is always false so the return is never excecuted.
			// if this 'if' block is commented out, the test case always works
			if (condition) {
				return;
			}			
			throwException();
		} catch (Exception e) {
			System.out.println("Exception caught and handled");
			exceptionHandled = true;
		} finally {
			// this finally block does nothing important
			// if it is commented out the test case works
			System.out.println("Finally performed");
		}
		
		assertTrue("Exception was not handled", exceptionHandled);
	}
	
	/**
	 * Method used by all the tests that just throws an exception
	 * @throws Exception
	 */
	private void throwException() throws Exception {
		throw new Exception();
	}
}
Created attachment 22453
Test case files WinZipped


*** This bug has been marked as a duplicate of 91499 ***</WithOutStack>
  </Bug>
  <Bug>
    <BugId amount="98584" />
    <CreationDate amount="2005-06-06 16:38:00 -0400" />
    <DupId amount="" />
    <classification amount="WebTools" />
    <Product amount="WTP Webservices" />
    <component amount="jst.ws" />
    <Version amount="0.7" />
    <rep_platform amount="PC" />
    <op_sys amount="Windows 2000" />
    <priority amount="P3" />
    <bug_severity amount="major" />
    <Summery>Page 3 of Web service wizard coming up empty</Summery>
    <Patches amount="0" />
    <Stacktraces amount="0" />
    <SourceCodeRegions amount="0" />
    <Enumerations amount="0" />
    <bug_status amount="CLOSED" />
    <resolution amount="FIXED" />
    <WithStack>If the server target of the defaulted project is not supported by Axis, page 3 
comes up blank due to the server id not being set on 
ServerRuntimeSelectionWidgetDefaultingCommand's serviceIds_ . Until we fully 
fix up defaulting, a simple fix to set serverIds_.serverId regardless of 
whether Axis supports it is probably the best approach.
Created attachment 22645
apply to org.eclipse.jst.ws.consumption.ui

patch 1 of 2
Created attachment 22646
apply to org.eclipse.jst.ws.creation.ui

patch 2 of 2
The attached patches are ready to be committed. They contain the quick fix 
decribed earlier to clear up the IllegalArgumentException that was occurring. 
Defaulting will be addressed more throughly in 93309.
Patch applied and released as v20050609_1022.
Moving to resolve state.
Verified with Kelvin Cheung that this has been fixed.</WithStack>
    <WithOutStack>If the server target of the defaulted project is not supported by Axis, page 3 
comes up blank due to the server id not being set on 
ServerRuntimeSelectionWidgetDefaultingCommand's serviceIds_ . Until we fully 
fix up defaulting, a simple fix to set serverIds_.serverId regardless of 
whether Axis supports it is probably the best approach.
Created attachment 22645
apply to org.eclipse.jst.ws.consumption.ui

patch 1 of 2
Created attachment 22646
apply to org.eclipse.jst.ws.creation.ui

patch 2 of 2
The attached patches are ready to be committed. They contain the quick fix 
decribed earlier to clear up the IllegalArgumentException that was occurring. 
Defaulting will be addressed more throughly in 93309.
Patch applied and released as v20050609_1022.
Moving to resolve state.
Verified with Kelvin Cheung that this has been fixed.</WithOutStack>
  </Bug>
  <Bug>
    <BugId amount="98585" />
    <CreationDate amount="2005-06-06 16:38:00 -0400" />
    <DupId amount="" />
    <classification amount="Eclipse" />
    <Product amount="Platform" />
    <component amount="Text" />
    <Version amount="3.1" />
    <rep_platform amount="PC" />
    <op_sys amount="Windows XP" />
    <priority amount="P2" />
    <bug_severity amount="normal" />
    <Summery>[content assist] SWT.VIRTUAL style in the content-assist Table</Summery>
    <Patches amount="0" />
    <Stacktraces amount="0" />
    <SourceCodeRegions amount="3">
      <source_code type="assignment">
        <location start="2869" end="2935" />
        <code>6) In the main method, add the code   JFrame frame = new JFrame();</code>
      </source_code>
      <source_code type="ifstatement">
        <location start="8300" end="10609" />
        <code>if (Helper.okToUse(fProposalTable)) {

			ICompletionProposal oldProposal= getSelectedProposal();
			if (oldProposal instanceof ICompletionProposalExtension2 &amp;&amp; fViewer != null)
				((ICompletionProposalExtension2) oldProposal).unselected(fViewer);

			ICompletionProposal[] oldProposals= fFilteredProposals;
			fFilteredProposals= proposals;
			final int newLen= proposals.length;
			if (isFilteredSubset &amp;&amp; oldProposals != null &amp;&amp; fProposalTable.getItemCount()
== oldProposals.length) {
				final int oldLen= oldProposals.length;
				final int removedLen= oldLen - newLen;
				Assert.isTrue(removedLen &gt;= 0 &amp;&amp; newLen &gt; 0);

				if (removedLen &gt; 0) {
					int maxRanges= Math.min(oldLen / 2 + 1, removedLen);
					int[][] ranges= new int[maxRanges][2];
					int rangeIdx= 0;
					int[] range= null;
					ICompletionProposal next= proposals[0];
					int nextIdx= 0;
					for (int oldIdx= 0; oldIdx &lt; oldLen; oldIdx++) {
						if (oldProposals[oldIdx] != next) {
							if (range == null || range[1] != oldIdx - 1)
								ranges[rangeIdx++]= range= new int[] { oldIdx, oldIdx };
							else
								range[1]= oldIdx;
						} else if (++nextIdx &lt; newLen) {
							next= proposals[nextIdx];
						} else {
							if (oldIdx &lt; oldLen - 1)
								ranges[rangeIdx++]= new int[] {oldIdx + 1, oldLen - 1};
							break;
						}
					}
					
					while (--rangeIdx &gt;= 0) {
						range= ranges[rangeIdx];
						fProposalTable.remove(range[0], range[1]);
					}

				}
			} else {
				if (USE_VIRTUAL) {
					fProposalTable.setItemCount(newLen);
					fProposalTable.clearAll();
				} else {
					fProposalTable.setRedraw(false);
					fProposalTable.setItemCount(newLen);
					TableItem[] items= fProposalTable.getItems();
					for (int i= 0; i &lt; items.length; i++) {
						TableItem item= items[i];
						ICompletionProposal proposal= proposals[i];
						item.setText(proposal.getDisplayString());
						item.setImage(proposal.getImage());
						item.setData(proposal);
					}
					fProposalTable.setRedraw(true);
				}
			}

			Point currentLocation= fProposalShell.getLocation();
			Point newLocation= getLocation();
			if ((newLocation.x &lt; currentLocation.x &amp;&amp; newLocation.y == currentLocation.y)
|| newLocation.y &lt; currentLocation.y)
				fProposalShell.setLocation(newLocation);

			selectProposal(0, false);
		}</code>
      </source_code>
      <source_code type="ifstatement">
        <location start="10724" end="11863" />
        <code>if (Helper.okToUse(fProposalTable)) {

			ICompletionProposal oldProposal= getSelectedProposal();
			if (oldProposal instanceof ICompletionProposalExtension2 &amp;&amp; fViewer != null)
				((ICompletionProposalExtension2) oldProposal).unselected(fViewer);

			fFilteredProposals= proposals;
			final int newLen= proposals.length;
			if (USE_VIRTUAL) {
				fProposalTable.setItemCount(newLen);
				fProposalTable.clearAll();
			} else {
				fProposalTable.setRedraw(false);
				fProposalTable.setItemCount(newLen);
				TableItem[] items= fProposalTable.getItems();
				for (int i= 0; i &lt; items.length; i++) {
					TableItem item= items[i];
					ICompletionProposal proposal= proposals[i];
					item.setText(proposal.getDisplayString());
					item.setImage(proposal.getImage());
					item.setData(proposal);
				}
				fProposalTable.setRedraw(true);
			}

			Point currentLocation= fProposalShell.getLocation();
			Point newLocation= getLocation();
			if ((newLocation.x &lt; currentLocation.x &amp;&amp; newLocation.y == currentLocation.y)
|| newLocation.y &lt; currentLocation.y)
				fProposalShell.setLocation(newLocation);

			selectProposal(0, false);
		}</code>
      </source_code>
    </SourceCodeRegions>
    <Enumerations amount="3">
      <Enumeration lines="7">
        <Lines>
          <Line>1) I start up Eclipse with a clean workspace</Line>
          <Line>2) Switch to Java Perspective</Line>
          <Line>3) Create new Java project "Test" (changed project compliance settings to 5.0)</Line>
          <Line>4) Create new class file "Test.java" in the default package</Line>
          <Line>5) Add javax.swing.* import</Line>
          <Line />
          <Line>7) type in frame.s (waiting for the content assist before typing 's')</Line>
        </Lines>
      </Enumeration>
      <Enumeration lines="9">
        <Lines>
          <Line>1. have (JFrame imported):</Line>
          <Line />
          <Line>JFrame f;</Line>
          <Line>f.&lt;caret&gt;</Line>
          <Line />
          <Line>2. Ctrl+Space and wait for the list</Line>
          <Line>3. type 's'</Line>
          <Line>==&gt; on Mac and GTK its fast (sometimes very small flickering) while on WindowsXP</Line>
          <Line>the list first clears (all white) for a second and then gets filled again.</Line>
        </Lines>
      </Enumeration>
      <Enumeration lines="3">
        <Lines>
          <Line>- build id</Line>
          <Line>- more details about your machine</Line>
          <Line>- eventually more detailed steps to repdocue the problem</Line>
        </Lines>
      </Enumeration>
    </Enumerations>
    <bug_status amount="VERIFIED" />
    <resolution amount="FIXED" />
    <WithStack>Please place an option in the preferences for Code Assist which allows the
developer to choose whether or not to have the content assist pop-up table use
the SWT.VIRTUAL style.  This is really a great feature to have on higher end
machines: It makes the pop-up come up very quickly.  However, on low end
machines (like the one I'm working on), it causes a very long time lag in moving
to a different set of completions.  A good test example is with an instance of
JFrame and trying to find a code assist option on one of the setters.  On my
Windows XP SP 2 machine, it takes between 5 and 10 seconds from when I enter the
's' character after the period until it actually finishes repopulating the code
assist.  I've been using Eclipse for a while, and I preferred the longer startup
delay to a longer repopulation delay.  If you could add a preference option to
change this, it would be appreciated.
Please provide more details.
- build id
- more details about your machine
- eventually more detailed steps to repdocue the problem

see also:
http://dev.eclipse.org/viewcvs/index.cgi/%7Echeckout%7E/platform-text-home/development/bug-incomplete.htm

Eclipse 3.1 RC1 Win32.
Windows XP SP 2 with all current updates
Duel Processor 500 Mhtz
512 MB RAM
2 15 GB HD
JDK1.5 (possibly .1? not sure.  I know that sounds stupid but I'm really unsure
about that)

As for reproducing the error, it happens at every startup, all the time since M7
&gt;JDK1.5 (possibly .1? not sure.  I know that sounds stupid but I'm really unsure
&gt;about that)
The link in comment 1 tells how to find out:
- VM information - if not sure start eclipse using -vmargs -showversion

&gt;As for reproducing the error, it happens at every startup, all the time since M7
I don't see this. A step by step example that starts with a fresh workspace
could help.
Definately 1.5

I tried to get you a step by step example with a fresh workspace but it seems
that I can't reproduce the bug in a new workspace.  I'm sorry to take up your
time like this, but do you have any idea why my primary workspace would have
this problem, and a new workspace wouldn't?
I think it's not new vs. existing but about how you've setup your existing
workspace, build path, number of depending plug-ins etc.
Could you elaborate please?  I'm not quite sure what I changed which could have
effected CTabItem.
Did I mention CTabItem? I only said that what's in your workspace and how's it
setup (build path) will affect performance and hence the steps how we could
reproduce.
You know what, I'm terribly sorry.  I got this bug report confused with another
one I filed. :-)  Whoops.  Once again...

1) I start up Eclipse with a clean workspace
2) Switch to Java Perspective
3) Create new Java project "Test" (changed project compliance settings to 5.0)
4) Create new class file "Test.java" in the default package
5) Add javax.swing.* import
6) In the main method, add the code   JFrame frame = new JFrame();
7) type in frame.s (waiting for the content assist before typing 's')

It took eight seconds for the content assist to rebuild itself for the 's'
character.  To be honest, I've never had that problem on Linux or on Mac. 
Actually, I've never had it on Windows either before RC1.  Any thoughts?
Is it just the first time? We now do much mor stuff lazy and hence the Java
model first needs to do some work. The SWT.VIRTUAL flag does not have that impact.
No actually, it happens every time the content assist comes up.  BTW, I used
JFrame just because it has a complex class hierarchy with numberous methods and
fields.  Thus, it takes longer to parse and it just shows the error better. 
Because of the slow speed of my machine though, I can see the error every time I
get the content assist.
OK, I still don't see the 5 to 10 seconds but I see what you mean.
Scenario on comment 8 works like a charm for me. My machine (Linux-GTK) is a
little faster, of course, but I do not see any flicker at all - it is much
smoother and faster than without using SWT.VIRTUAL for sure! Must be a
win32-only thing.
1. have (JFrame imported):

  JFrame f;
  f.&lt;caret&gt;

2. Ctrl+Space and wait for the list
3. type 's'
==&gt; on Mac and GTK its fast (sometimes very small flickering) while on WindowsXP
the list first clears (all white) for a second and then gets filled again.

Another test case, which is slow on the Mac, is to have S&lt;caret&gt; and then type 'A'.

SWT.VIRTUAL is not causing this. We remove the filtered proposals (due to typing
a character) using Table.remove(int,int) which seems to be terribly slow. Before
we used setRedraw(false/true) and always replaced the whole content.

Tom, please check with SWT what we should do here.

This is a must fix for 3.1.

Steve, we currently try to 'optimize' the case where the list of items is
reduced. We compute the ranges of filtered items and use Table.remove(int,int).
Since the items are semi-sorted, we typically remove at most two or three ranges
when filtering. The rationale is that if the top n items are not filtered, they
are left untouched.

In the 'unoptimized' case, we simply set the table's item count and trigger the
virtual table to refill using Table.clearAll(). This seems to be acceptably fast
and smooth on GTK and Windows, even though all items are cleared.

Should we forget our optimization and just always use clearAll(), or might there
be a problem with the Table on Windows that is fixable for 3.1?

--

Code is in
org.eclipse.jface.text.contentassist.CompletionProposalPopup.setProposals()
Dirk, this is a must fix. Do you approve as well?
Note: it's not yet clear whether we have to fix it on our side or whether SWT
can do something here.
(In reply to comment #13)
&gt; Another test case, which is slow on the Mac, is to have S&lt;caret&gt; and then type
&gt; 'A'.

MacOSX seems to be different alltogether - no matter whether we use VIRTUAL or
not, range removal or clearAll, this case takes about 1-1.5 seconds on a G4
powerbook.

Just checked on Tobias' Windows box and the first scenario in comment 13 is
acceptably fast - while some scrollbar animations are noticable (probably due to
our multiple calls to remove(int,int)), it is nowhere near to the delay
noticable with Dani's machine.

Ok, I'll look into it with Billy.  Stand by.
Any update on this one?
Didn't get time to look at it today.  Please make sure that the 'unoptimized' 
case is tested and ready to go on all platforms in case we don't get to it.

From memory, when you delete items, whether the Windows table is virtual or 
not, it redraws right away to show the change.  You can see this in the 
Windows Explorer when you delete files.  Is this what you are seeing?  If so, 
you could try doing a setRedraw(false)/setRedraw(true) around ALL of the range 
deletions.  If you try the setRedraw() code and it works for you, please let 
us try it out on the various platforms.

Let me know how you get on.
The setRedraw() will guarantee that the whole table redraws but the user is 
expecting this when he types, no?  Whatever fix you decide, Billy and I will 
test it for you remotely.
&gt;the user is expecting this when he types, no? 
Mostly but lets say you see just 4 items in the list and the second one goes
away because you type some more characters it would look better if only that
item is removed instead of a full redraw of the table.

We have an 'unoptimized' version ready and tested on all Platforms using
redraw(true/false) - it basically feels like the 3.0 version plus the
SWT.VIRTUAL improvements. It makes the 1-2s white table go away on my WindowsXP
machine. Mac still flickers sometimes but that's not worse than before.

We would like to decide today and if possible have it in I20050616-1200 or
I20050616-1600.
+1 for RC3 (signed Dirk Baeumer). Reviewed code on Tom's machine that is now
executed instead.
This one went into I20050616-1200.
Exactly which code went in?  The "hide flashing with setRedraw()"?  The "don't 
call Table.remove(int, int)"?  It'd help us to know what the code is doing 
when we are testing.
&gt;The "hide flashing with setRedraw()"?  The "don't 
&gt;call Table.remove(int, int)"?
Both ;-)

The code is in project org.eclipse.jface.text:
org.eclipse.jface.text.contentassist.CompletionProposalPopup
OLD code:
	private void setProposals(ICompletionProposal[] proposals, boolean
isFilteredSubset) {
		if (Helper.okToUse(fProposalTable)) {

			ICompletionProposal oldProposal= getSelectedProposal();
			if (oldProposal instanceof ICompletionProposalExtension2 &amp;&amp; fViewer != null)
				((ICompletionProposalExtension2) oldProposal).unselected(fViewer);

			ICompletionProposal[] oldProposals= fFilteredProposals;
			fFilteredProposals= proposals;
			final int newLen= proposals.length;
			if (isFilteredSubset &amp;&amp; oldProposals != null &amp;&amp; fProposalTable.getItemCount()
== oldProposals.length) {
				final int oldLen= oldProposals.length;
				final int removedLen= oldLen - newLen;
				Assert.isTrue(removedLen &gt;= 0 &amp;&amp; newLen &gt; 0);

				if (removedLen &gt; 0) {
					int maxRanges= Math.min(oldLen / 2 + 1, removedLen);
					int[][] ranges= new int[maxRanges][2];
					int rangeIdx= 0;
					int[] range= null;
					ICompletionProposal next= proposals[0];
					int nextIdx= 0;
					for (int oldIdx= 0; oldIdx &lt; oldLen; oldIdx++) {
						if (oldProposals[oldIdx] != next) {
							if (range == null || range[1] != oldIdx - 1)
								ranges[rangeIdx++]= range= new int[] { oldIdx, oldIdx };
							else
								range[1]= oldIdx;
						} else if (++nextIdx &lt; newLen) {
							next= proposals[nextIdx];
						} else {
							if (oldIdx &lt; oldLen - 1)
								ranges[rangeIdx++]= new int[] {oldIdx + 1, oldLen - 1};
							break;
						}
					}
					
					while (--rangeIdx &gt;= 0) {
						range= ranges[rangeIdx];
						fProposalTable.remove(range[0], range[1]);
					}

				}
			} else {
				if (USE_VIRTUAL) {
					fProposalTable.setItemCount(newLen);
					fProposalTable.clearAll();
				} else {
					fProposalTable.setRedraw(false);
					fProposalTable.setItemCount(newLen);
					TableItem[] items= fProposalTable.getItems();
					for (int i= 0; i &lt; items.length; i++) {
						TableItem item= items[i];
						ICompletionProposal proposal= proposals[i];
						item.setText(proposal.getDisplayString());
						item.setImage(proposal.getImage());
						item.setData(proposal);
					}
					fProposalTable.setRedraw(true);
				}
			}

			Point currentLocation= fProposalShell.getLocation();
			Point newLocation= getLocation();
			if ((newLocation.x &lt; currentLocation.x &amp;&amp; newLocation.y == currentLocation.y)
|| newLocation.y &lt; currentLocation.y)
				fProposalShell.setLocation(newLocation);

			selectProposal(0, false);
		}
	}

NEW (released) CODE:

	private void setProposals(ICompletionProposal[] proposals, boolean
isFilteredSubset) {
		if (Helper.okToUse(fProposalTable)) {

			ICompletionProposal oldProposal= getSelectedProposal();
			if (oldProposal instanceof ICompletionProposalExtension2 &amp;&amp; fViewer != null)
				((ICompletionProposalExtension2) oldProposal).unselected(fViewer);

			fFilteredProposals= proposals;
			final int newLen= proposals.length;
			if (USE_VIRTUAL) {
				fProposalTable.setItemCount(newLen);
				fProposalTable.clearAll();
			} else {
				fProposalTable.setRedraw(false);
				fProposalTable.setItemCount(newLen);
				TableItem[] items= fProposalTable.getItems();
				for (int i= 0; i &lt; items.length; i++) {
					TableItem item= items[i];
					ICompletionProposal proposal= proposals[i];
					item.setText(proposal.getDisplayString());
					item.setImage(proposal.getImage());
					item.setData(proposal);
				}
				fProposalTable.setRedraw(true);
			}

			Point currentLocation= fProposalShell.getLocation();
			Point newLocation= getLocation();
			if ((newLocation.x &lt; currentLocation.x &amp;&amp; newLocation.y == currentLocation.y)
|| newLocation.y &lt; currentLocation.y)
				fProposalShell.setLocation(newLocation);

			selectProposal(0, false);
		}
	}

Verified on WindowsXP.
Tom, please verify on Linux-GTK.

Could someone from SWT team verify on the MAC?

Should we file a different bug to investigate the remove(int,int)
Table.performance problem?
Seems good to me on the Mac using I20050616-1228.
Addition to comment 28: I also used I20050616-1228 to verify.
Yes, you could enter a bug about remove(int, int).

BB did you test Mochief?
Motif flashes a little worse with the new code, although I don't know if it's
bad enough to pull out the fix.  GG, any ideas on what's causing it?
&gt;Motif flashes a little worse with the new code, although I don't know if it's
&gt;bad enough to pull out the fix.  GG, any ideas on what's causing it?
Compared to which build? If it's with 3.0 then SWT.VIRTUAL might also cause it.
If it's with a recent build then it's strange because we now almost use the 3.0
code again (except for SWT.VIRTUAL).
(In reply to comment #28)
&gt; Verified on WindowsXP.
&gt; Tom, please verify on Linux-GTK.

Verified that there is no perceivable difference with I20050617-0010 on linux-gtk.
On I20050617-0010-linux-motif, the flickering is stronger. SWT.VIRTUAL does not
seem to play well for motif - even setRedraw(on/off) does not help here. The
removal of the optimization also hurts a little since we didn't flicker if the
top-n proposals stayed the same.

Note that other operations than filtering do flicker either way on motif, as we
don't optimize there. The only thing we could do is not use VIRTUAL on motif,
trading pop-up speed against flickering.


After discussion with Dani: not acceptable to have so much flickering on motif.
Created attachment 23429
CompletionProposalPopup.diff

patch against CompletionProposalPopup.java

Disables use of the VIRTUAL table on motif.
Verified on I20050616-1228-macosx that the (In reply to comment #31)
&gt; Yes, you could enter a bug about remove(int, int).

filed bug 100552 to track this.
As Tom said we have to fix the Motif case.

SWT: is it the right way for 3.1 to add platform dependent code to disable
virtual table on Motif or do you suggest a different alternative?
This is happening as a result of bug 90321.  Any time a horizontal or vertical 
scrollbar is hidden or shown there's a flash.  In the content assist case, 
since Table.itemCount() and Table.clearAll() are invoked on each keystroke, the 
scrollbar(s) are hidden and then reshown (when the SetData--&gt;setText() dance is 
done) each time.  You'll notice that if you have a code assist window that does 
not need either scrollbar that the bad flash doesn't happen.

The only way for swt to fix this is to fix bug 90321, which was investigated in 
the M6 timeframe and could not be resolved.  It definitely won't be fixed for 
the 1200 build today.  So changing the content assist to not use VIRTUAL on 
motif seems like the thing to do here.

OK, that's what we'll do for today. We can live with that for 3.1 unless you
tell us you have fix / better solution.
I don't know about Platform.WS_MOTIF.equals(Platform.getWS()).  The SWT way to 
do it would be "motif".equals(SWT.getPlatform()).  It probably ends up being 
the same thing.  Pascal?
Tested using I20050617-1227 on Linux Motif, admittedly on a fast machine (2.8
GHz w/ hyper-threading).  I saw no obvious flicker, and everything was quite
responsive.
Marking as fixed. Pascal, can you reply to comment 42? Thanks.
setting to verified, see comment 43.
On motif Platform.WS_MOTIF.equals(SWT.getPlatform()). However we don't share the same string object. That said, for the motif fragment to load the value of osgi.ws (which underlies Platform.getWS()) needs to be "motif" therefore, checking one or the other is the same.</WithStack>
    <WithOutStack>Please place an option in the preferences for Code Assist which allows the
developer to choose whether or not to have the content assist pop-up table use
the SWT.VIRTUAL style.  This is really a great feature to have on higher end
machines: It makes the pop-up come up very quickly.  However, on low end
machines (like the one I'm working on), it causes a very long time lag in moving
to a different set of completions.  A good test example is with an instance of
JFrame and trying to find a code assist option on one of the setters.  On my
Windows XP SP 2 machine, it takes between 5 and 10 seconds from when I enter the
's' character after the period until it actually finishes repopulating the code
assist.  I've been using Eclipse for a while, and I preferred the longer startup
delay to a longer repopulation delay.  If you could add a preference option to
change this, it would be appreciated.
Please provide more details.
- build id
- more details about your machine
- eventually more detailed steps to repdocue the problem

see also:
http://dev.eclipse.org/viewcvs/index.cgi/%7Echeckout%7E/platform-text-home/development/bug-incomplete.htm

Eclipse 3.1 RC1 Win32.
Windows XP SP 2 with all current updates
Duel Processor 500 Mhtz
512 MB RAM
2 15 GB HD
JDK1.5 (possibly .1? not sure.  I know that sounds stupid but I'm really unsure
about that)

As for reproducing the error, it happens at every startup, all the time since M7
&gt;JDK1.5 (possibly .1? not sure.  I know that sounds stupid but I'm really unsure
&gt;about that)
The link in comment 1 tells how to find out:
- VM information - if not sure start eclipse using -vmargs -showversion

&gt;As for reproducing the error, it happens at every startup, all the time since M7
I don't see this. A step by step example that starts with a fresh workspace
could help.
Definately 1.5

I tried to get you a step by step example with a fresh workspace but it seems
that I can't reproduce the bug in a new workspace.  I'm sorry to take up your
time like this, but do you have any idea why my primary workspace would have
this problem, and a new workspace wouldn't?
I think it's not new vs. existing but about how you've setup your existing
workspace, build path, number of depending plug-ins etc.
Could you elaborate please?  I'm not quite sure what I changed which could have
effected CTabItem.
Did I mention CTabItem? I only said that what's in your workspace and how's it
setup (build path) will affect performance and hence the steps how we could
reproduce.
You know what, I'm terribly sorry.  I got this bug report confused with another
one I filed. :-)  Whoops.  Once again...

1) I start up Eclipse with a clean workspace
2) Switch to Java Perspective
3) Create new Java project "Test" (changed project compliance settings to 5.0)
4) Create new class file "Test.java" in the default package
5) Add javax.swing.* import
6) In the main method, add the code   JFrame frame = new JFrame();
7) type in frame.s (waiting for the content assist before typing 's')

It took eight seconds for the content assist to rebuild itself for the 's'
character.  To be honest, I've never had that problem on Linux or on Mac. 
Actually, I've never had it on Windows either before RC1.  Any thoughts?
Is it just the first time? We now do much mor stuff lazy and hence the Java
model first needs to do some work. The SWT.VIRTUAL flag does not have that impact.
No actually, it happens every time the content assist comes up.  BTW, I used
JFrame just because it has a complex class hierarchy with numberous methods and
fields.  Thus, it takes longer to parse and it just shows the error better. 
Because of the slow speed of my machine though, I can see the error every time I
get the content assist.
OK, I still don't see the 5 to 10 seconds but I see what you mean.
Scenario on comment 8 works like a charm for me. My machine (Linux-GTK) is a
little faster, of course, but I do not see any flicker at all - it is much
smoother and faster than without using SWT.VIRTUAL for sure! Must be a
win32-only thing.
1. have (JFrame imported):

  JFrame f;
  f.&lt;caret&gt;

2. Ctrl+Space and wait for the list
3. type 's'
==&gt; on Mac and GTK its fast (sometimes very small flickering) while on WindowsXP
the list first clears (all white) for a second and then gets filled again.

Another test case, which is slow on the Mac, is to have S&lt;caret&gt; and then type 'A'.

SWT.VIRTUAL is not causing this. We remove the filtered proposals (due to typing
a character) using Table.remove(int,int) which seems to be terribly slow. Before
we used setRedraw(false/true) and always replaced the whole content.

Tom, please check with SWT what we should do here.

This is a must fix for 3.1.

Steve, we currently try to 'optimize' the case where the list of items is
reduced. We compute the ranges of filtered items and use Table.remove(int,int).
Since the items are semi-sorted, we typically remove at most two or three ranges
when filtering. The rationale is that if the top n items are not filtered, they
are left untouched.

In the 'unoptimized' case, we simply set the table's item count and trigger the
virtual table to refill using Table.clearAll(). This seems to be acceptably fast
and smooth on GTK and Windows, even though all items are cleared.

Should we forget our optimization and just always use clearAll(), or might there
be a problem with the Table on Windows that is fixable for 3.1?

--

Code is in
org.eclipse.jface.text.contentassist.CompletionProposalPopup.setProposals()
Dirk, this is a must fix. Do you approve as well?
Note: it's not yet clear whether we have to fix it on our side or whether SWT
can do something here.
(In reply to comment #13)
&gt; Another test case, which is slow on the Mac, is to have S&lt;caret&gt; and then type
&gt; 'A'.

MacOSX seems to be different alltogether - no matter whether we use VIRTUAL or
not, range removal or clearAll, this case takes about 1-1.5 seconds on a G4
powerbook.

Just checked on Tobias' Windows box and the first scenario in comment 13 is
acceptably fast - while some scrollbar animations are noticable (probably due to
our multiple calls to remove(int,int)), it is nowhere near to the delay
noticable with Dani's machine.

Ok, I'll look into it with Billy.  Stand by.
Any update on this one?
Didn't get time to look at it today.  Please make sure that the 'unoptimized' 
case is tested and ready to go on all platforms in case we don't get to it.

From memory, when you delete items, whether the Windows table is virtual or 
not, it redraws right away to show the change.  You can see this in the 
Windows Explorer when you delete files.  Is this what you are seeing?  If so, 
you could try doing a setRedraw(false)/setRedraw(true) around ALL of the range 
deletions.  If you try the setRedraw() code and it works for you, please let 
us try it out on the various platforms.

Let me know how you get on.
The setRedraw() will guarantee that the whole table redraws but the user is 
expecting this when he types, no?  Whatever fix you decide, Billy and I will 
test it for you remotely.
&gt;the user is expecting this when he types, no? 
Mostly but lets say you see just 4 items in the list and the second one goes
away because you type some more characters it would look better if only that
item is removed instead of a full redraw of the table.

We have an 'unoptimized' version ready and tested on all Platforms using
redraw(true/false) - it basically feels like the 3.0 version plus the
SWT.VIRTUAL improvements. It makes the 1-2s white table go away on my WindowsXP
machine. Mac still flickers sometimes but that's not worse than before.

We would like to decide today and if possible have it in I20050616-1200 or
I20050616-1600.
+1 for RC3 (signed Dirk Baeumer). Reviewed code on Tom's machine that is now
executed instead.
This one went into I20050616-1200.
Exactly which code went in?  The "hide flashing with setRedraw()"?  The "don't 
call Table.remove(int, int)"?  It'd help us to know what the code is doing 
when we are testing.
&gt;The "hide flashing with setRedraw()"?  The "don't 
&gt;call Table.remove(int, int)"?
Both ;-)

The code is in project org.eclipse.jface.text:
org.eclipse.jface.text.contentassist.CompletionProposalPopup
OLD code:
	private void setProposals(ICompletionProposal[] proposals, boolean
isFilteredSubset) {
		if (Helper.okToUse(fProposalTable)) {

			ICompletionProposal oldProposal= getSelectedProposal();
			if (oldProposal instanceof ICompletionProposalExtension2 &amp;&amp; fViewer != null)
				((ICompletionProposalExtension2) oldProposal).unselected(fViewer);

			ICompletionProposal[] oldProposals= fFilteredProposals;
			fFilteredProposals= proposals;
			final int newLen= proposals.length;
			if (isFilteredSubset &amp;&amp; oldProposals != null &amp;&amp; fProposalTable.getItemCount()
== oldProposals.length) {
				final int oldLen= oldProposals.length;
				final int removedLen= oldLen - newLen;
				Assert.isTrue(removedLen &gt;= 0 &amp;&amp; newLen &gt; 0);

				if (removedLen &gt; 0) {
					int maxRanges= Math.min(oldLen / 2 + 1, removedLen);
					int[][] ranges= new int[maxRanges][2];
					int rangeIdx= 0;
					int[] range= null;
					ICompletionProposal next= proposals[0];
					int nextIdx= 0;
					for (int oldIdx= 0; oldIdx &lt; oldLen; oldIdx++) {
						if (oldProposals[oldIdx] != next) {
							if (range == null || range[1] != oldIdx - 1)
								ranges[rangeIdx++]= range= new int[] { oldIdx, oldIdx };
							else
								range[1]= oldIdx;
						} else if (++nextIdx &lt; newLen) {
							next= proposals[nextIdx];
						} else {
							if (oldIdx &lt; oldLen - 1)
								ranges[rangeIdx++]= new int[] {oldIdx + 1, oldLen - 1};
							break;
						}
					}
					
					while (--rangeIdx &gt;= 0) {
						range= ranges[rangeIdx];
						fProposalTable.remove(range[0], range[1]);
					}

				}
			} else {
				if (USE_VIRTUAL) {
					fProposalTable.setItemCount(newLen);
					fProposalTable.clearAll();
				} else {
					fProposalTable.setRedraw(false);
					fProposalTable.setItemCount(newLen);
					TableItem[] items= fProposalTable.getItems();
					for (int i= 0; i &lt; items.length; i++) {
						TableItem item= items[i];
						ICompletionProposal proposal= proposals[i];
						item.setText(proposal.getDisplayString());
						item.setImage(proposal.getImage());
						item.setData(proposal);
					}
					fProposalTable.setRedraw(true);
				}
			}

			Point currentLocation= fProposalShell.getLocation();
			Point newLocation= getLocation();
			if ((newLocation.x &lt; currentLocation.x &amp;&amp; newLocation.y == currentLocation.y)
|| newLocation.y &lt; currentLocation.y)
				fProposalShell.setLocation(newLocation);

			selectProposal(0, false);
		}
	}

NEW (released) CODE:

	private void setProposals(ICompletionProposal[] proposals, boolean
isFilteredSubset) {
		if (Helper.okToUse(fProposalTable)) {

			ICompletionProposal oldProposal= getSelectedProposal();
			if (oldProposal instanceof ICompletionProposalExtension2 &amp;&amp; fViewer != null)
				((ICompletionProposalExtension2) oldProposal).unselected(fViewer);

			fFilteredProposals= proposals;
			final int newLen= proposals.length;
			if (USE_VIRTUAL) {
				fProposalTable.setItemCount(newLen);
				fProposalTable.clearAll();
			} else {
				fProposalTable.setRedraw(false);
				fProposalTable.setItemCount(newLen);
				TableItem[] items= fProposalTable.getItems();
				for (int i= 0; i &lt; items.length; i++) {
					TableItem item= items[i];
					ICompletionProposal proposal= proposals[i];
					item.setText(proposal.getDisplayString());
					item.setImage(proposal.getImage());
					item.setData(proposal);
				}
				fProposalTable.setRedraw(true);
			}

			Point currentLocation= fProposalShell.getLocation();
			Point newLocation= getLocation();
			if ((newLocation.x &lt; currentLocation.x &amp;&amp; newLocation.y == currentLocation.y)
|| newLocation.y &lt; currentLocation.y)
				fProposalShell.setLocation(newLocation);

			selectProposal(0, false);
		}
	}

Verified on WindowsXP.
Tom, please verify on Linux-GTK.

Could someone from SWT team verify on the MAC?

Should we file a different bug to investigate the remove(int,int)
Table.performance problem?
Seems good to me on the Mac using I20050616-1228.
Addition to comment 28: I also used I20050616-1228 to verify.
Yes, you could enter a bug about remove(int, int).

BB did you test Mochief?
Motif flashes a little worse with the new code, although I don't know if it's
bad enough to pull out the fix.  GG, any ideas on what's causing it?
&gt;Motif flashes a little worse with the new code, although I don't know if it's
&gt;bad enough to pull out the fix.  GG, any ideas on what's causing it?
Compared to which build? If it's with 3.0 then SWT.VIRTUAL might also cause it.
If it's with a recent build then it's strange because we now almost use the 3.0
code again (except for SWT.VIRTUAL).
(In reply to comment #28)
&gt; Verified on WindowsXP.
&gt; Tom, please verify on Linux-GTK.

Verified that there is no perceivable difference with I20050617-0010 on linux-gtk.
On I20050617-0010-linux-motif, the flickering is stronger. SWT.VIRTUAL does not
seem to play well for motif - even setRedraw(on/off) does not help here. The
removal of the optimization also hurts a little since we didn't flicker if the
top-n proposals stayed the same.

Note that other operations than filtering do flicker either way on motif, as we
don't optimize there. The only thing we could do is not use VIRTUAL on motif,
trading pop-up speed against flickering.


After discussion with Dani: not acceptable to have so much flickering on motif.
Created attachment 23429
CompletionProposalPopup.diff

patch against CompletionProposalPopup.java

Disables use of the VIRTUAL table on motif.
Verified on I20050616-1228-macosx that the (In reply to comment #31)
&gt; Yes, you could enter a bug about remove(int, int).

filed bug 100552 to track this.
As Tom said we have to fix the Motif case.

SWT: is it the right way for 3.1 to add platform dependent code to disable
virtual table on Motif or do you suggest a different alternative?
This is happening as a result of bug 90321.  Any time a horizontal or vertical 
scrollbar is hidden or shown there's a flash.  In the content assist case, 
since Table.itemCount() and Table.clearAll() are invoked on each keystroke, the 
scrollbar(s) are hidden and then reshown (when the SetData--&gt;setText() dance is 
done) each time.  You'll notice that if you have a code assist window that does 
not need either scrollbar that the bad flash doesn't happen.

The only way for swt to fix this is to fix bug 90321, which was investigated in 
the M6 timeframe and could not be resolved.  It definitely won't be fixed for 
the 1200 build today.  So changing the content assist to not use VIRTUAL on 
motif seems like the thing to do here.

OK, that's what we'll do for today. We can live with that for 3.1 unless you
tell us you have fix / better solution.
I don't know about Platform.WS_MOTIF.equals(Platform.getWS()).  The SWT way to 
do it would be "motif".equals(SWT.getPlatform()).  It probably ends up being 
the same thing.  Pascal?
Tested using I20050617-1227 on Linux Motif, admittedly on a fast machine (2.8
GHz w/ hyper-threading).  I saw no obvious flicker, and everything was quite
responsive.
Marking as fixed. Pascal, can you reply to comment 42? Thanks.
setting to verified, see comment 43.
On motif Platform.WS_MOTIF.equals(SWT.getPlatform()). However we don't share the same string object. That said, for the motif fragment to load the value of osgi.ws (which underlies Platform.getWS()) needs to be "motif" therefore, checking one or the other is the same.</WithOutStack>
  </Bug>
  <Bug>
    <BugId amount="98586" />
    <CreationDate amount="2005-06-06 16:39:00 -0400" />
    <DupId amount="" />
    <classification amount="WebTools" />
    <Product amount="WTP Source Editing" />
    <component amount="wst.sse" />
    <Version amount="0.7" />
    <rep_platform amount="PC" />
    <op_sys amount="Windows XP" />
    <priority amount="P3" />
    <bug_severity amount="normal" />
    <Summery>remove some old strings</Summery>
    <Patches amount="0" />
    <Stacktraces amount="0" />
    <SourceCodeRegions amount="0" />
    <Enumerations amount="0" />
    <bug_status amount="CLOSED" />
    <resolution amount="FIXED" />
    <WithStack>there are some strings that are obsolete and should be removed or replaced.
Created attachment 22466
org.eclipse.jst.jsp.tests.encoding.patch
Created attachment 22467
org.eclipse.jst.jsp.ui.tests.patch
Created attachment 22468
org.eclipse.jst.jsp.ui.tests.performance.patch
Created attachment 22469
org.eclipse.wst.dtd.ui.tests.patch
Created attachment 22470
org.eclipse.wst.html.tests.encoding.patch
Created attachment 22471
org.eclipse.wst.html.ui.patch
Created attachment 22472
org.eclipse.wst.html.ui.tests.patch
Created attachment 22473
org.eclipse.wst.javascript.ui.patch
Created attachment 22474
org.eclipse.wst.sse.ui.patch
Created attachment 22475
org.eclipse.wst.xml.tests.encoding.patch
Created attachment 22476
org.eclipse.wst.xml.ui.patch
Created attachment 22477
org.eclipse.wst.xml.ui.tests.patch
Created attachment 22478
org.eclipse.wst.xml.validation.patch
Created attachment 22479
org.eclipse.jst.jsp.ui.tests/projecttestfiles/beaninfo_tests.zip

This zip file should be placed in the directory specified in description
Created attachment 22480
org.eclipse.jst.jsp.ui.tests/projecttestfiles/jspsearch_tests.zip

This zip file should be placed in the directory specified in description
Created attachment 22481
org.eclipse.wst.xml.tests.encoding/testfiles.zip

This zip file should be placed in the directory specified in description
Created attachment 22482
development.zip

This zip should be unzipped the sse component's development folder
Contains 2 folders, DevTimeSupport (formerly found in org.eclipse.wst.sse.ui)
and smokeTest (formerly found in org.eclipse.wst.xml.ui.tests)
The following zip files should be placed in the directory specified in 
description
org.eclipse.jst.jsp.ui.tests/projecttestfiles/beaninfo_tests.zip
org.eclipse.jst.jsp.ui.tests/projecttestfiles/jspsearch_tests.zip
org.eclipse.wst.xml.tests.encoding/testfiles.zip

This zip should be unzipped the sse component's development folder
development.zip (adds 2 new subfolders)

David, this may be a new record (17 patches..if you count the zip files as 
patches)
Thanks Amy! 
records are meant to be broken ... going for one of 
those "Eclipse by the numbers" records? :)
Changed Version field given new release numbering.

Verifying a number of these on Amy's behalf, since she opened and fixed them on
my behalf :) And ... I did review, apply the patches, and confirmed all was well
at the time. Any new "missing resources", etc., would simply be new bugs. 

mass closing verified bugs I own</WithStack>
    <WithOutStack>there are some strings that are obsolete and should be removed or replaced.
Created attachment 22466
org.eclipse.jst.jsp.tests.encoding.patch
Created attachment 22467
org.eclipse.jst.jsp.ui.tests.patch
Created attachment 22468
org.eclipse.jst.jsp.ui.tests.performance.patch
Created attachment 22469
org.eclipse.wst.dtd.ui.tests.patch
Created attachment 22470
org.eclipse.wst.html.tests.encoding.patch
Created attachment 22471
org.eclipse.wst.html.ui.patch
Created attachment 22472
org.eclipse.wst.html.ui.tests.patch
Created attachment 22473
org.eclipse.wst.javascript.ui.patch
Created attachment 22474
org.eclipse.wst.sse.ui.patch
Created attachment 22475
org.eclipse.wst.xml.tests.encoding.patch
Created attachment 22476
org.eclipse.wst.xml.ui.patch
Created attachment 22477
org.eclipse.wst.xml.ui.tests.patch
Created attachment 22478
org.eclipse.wst.xml.validation.patch
Created attachment 22479
org.eclipse.jst.jsp.ui.tests/projecttestfiles/beaninfo_tests.zip

This zip file should be placed in the directory specified in description
Created attachment 22480
org.eclipse.jst.jsp.ui.tests/projecttestfiles/jspsearch_tests.zip

This zip file should be placed in the directory specified in description
Created attachment 22481
org.eclipse.wst.xml.tests.encoding/testfiles.zip

This zip file should be placed in the directory specified in description
Created attachment 22482
development.zip

This zip should be unzipped the sse component's development folder
Contains 2 folders, DevTimeSupport (formerly found in org.eclipse.wst.sse.ui)
and smokeTest (formerly found in org.eclipse.wst.xml.ui.tests)
The following zip files should be placed in the directory specified in 
description
org.eclipse.jst.jsp.ui.tests/projecttestfiles/beaninfo_tests.zip
org.eclipse.jst.jsp.ui.tests/projecttestfiles/jspsearch_tests.zip
org.eclipse.wst.xml.tests.encoding/testfiles.zip

This zip should be unzipped the sse component's development folder
development.zip (adds 2 new subfolders)

David, this may be a new record (17 patches..if you count the zip files as 
patches)
Thanks Amy! 
records are meant to be broken ... going for one of 
those "Eclipse by the numbers" records? :)
Changed Version field given new release numbering.

Verifying a number of these on Amy's behalf, since she opened and fixed them on
my behalf :) And ... I did review, apply the patches, and confirmed all was well
at the time. Any new "missing resources", etc., would simply be new bugs. 

mass closing verified bugs I own</WithOutStack>
  </Bug>
  <Bug>
    <BugId amount="98587" />
    <CreationDate amount="2005-06-06 16:52:00 -0400" />
    <DupId amount="" />
    <classification amount="Eclipse" />
    <Product amount="JDT" />
    <component amount="UI" />
    <Version amount="3.1" />
    <rep_platform amount="PC" />
    <op_sys amount="Windows XP" />
    <priority amount="P3" />
    <bug_severity amount="normal" />
    <Summery>Exporting Refactoring Steps for other projects</Summery>
    <Patches amount="0" />
    <Stacktraces amount="0" />
    <SourceCodeRegions amount="0" />
    <Enumerations amount="0" />
    <bug_status amount="RESOLVED" />
    <resolution amount="FIXED" />
    <WithStack>This is a request to enable Eclipse to export/save refactoring and changes made
to a shared library and apply changes later to projects that depend on the
shared library. For example, in our development environment,  we have multiple
projects using a common shared Java library. There are times that names of
classes and methods of the shared library are renamed to reflect more accurately
of their functions. When the names are changed in the shared library, not all
the project sources code are available or want to be changed at that time. It
would be nice to be able to capture the refactoring procedure, and supply them
to various projects that use the shared library so that they can refactor at
their own convenient time.

Eclipse seems to be able to undo refactoring changes. That means that the
refactoring steps have been captured in stack. The critical stack could be
exported, and a new capability could be added to read the changes and apply them.
I think this feature now exists since 3.2 M5 (JAR file export with refactoring).
Move to JDT/UI to confirm and close this bug

Yes, that's a new feature of M6</WithStack>
    <WithOutStack>This is a request to enable Eclipse to export/save refactoring and changes made
to a shared library and apply changes later to projects that depend on the
shared library. For example, in our development environment,  we have multiple
projects using a common shared Java library. There are times that names of
classes and methods of the shared library are renamed to reflect more accurately
of their functions. When the names are changed in the shared library, not all
the project sources code are available or want to be changed at that time. It
would be nice to be able to capture the refactoring procedure, and supply them
to various projects that use the shared library so that they can refactor at
their own convenient time.

Eclipse seems to be able to undo refactoring changes. That means that the
refactoring steps have been captured in stack. The critical stack could be
exported, and a new capability could be added to read the changes and apply them.
I think this feature now exists since 3.2 M5 (JAR file export with refactoring).
Move to JDT/UI to confirm and close this bug

Yes, that's a new feature of M6</WithOutStack>
  </Bug>
  <Bug>
    <BugId amount="98588" />
    <CreationDate amount="2005-06-06 16:59:00 -0400" />
    <DupId amount="" />
    <classification amount="Eclipse Foundation" />
    <Product amount="z_Archived" />
    <component amount="Hyades" />
    <Version amount="unspecified" />
    <rep_platform amount="PC" />
    <op_sys amount="Windows 2000" />
    <priority amount="P1" />
    <bug_severity amount="blocker" />
    <Summery>(MON) Log import with filters of non-TPTP log file types is failing</Summery>
    <Patches amount="0" />
    <Stacktraces amount="0" />
    <SourceCodeRegions amount="0" />
    <Enumerations amount="0" />
    <bug_status amount="CLOSED" />
    <resolution amount="FIXED" />
    <WithStack>The log import always looks into the org.eclipse.hyades.logging.adapter.config 
plugin for the log adapter when filters are applied. This is breaking consuming 
products that have adapter files contributed to other plugins then 
org.eclipse.hyades.logging.adapter.config. The solution is to take into account 
the plugin to which the adapter, that will be used for the import, was 
contributed.
Take a look please
I already have a fix for this. I attach the patch, could you please test both 
import scenarios, TPTP logs with filter and non-TPTP logs with filter.
Created attachment 22458
TPTP3.3 patch
Could you please change the target to 3.3i3, we are negotiating to get this 
into 3.3.
Ali, I have updated the 3.3 patch with a better exception handling routine and 
also I have also added a 4.0 patch.
Created attachment 22462
TPTP3.3 updated patch
Created attachment 22463
TPTP4.0 patch
Both patches work for importing of tptp/non-tptp logs with/without filters. 
Tests were only performed locally.  There is a known problem when importing log
files remotely.  Dave Smith will futher investigate remote import of a log file
for 3.3 and I will do it for 4.0.
Retarget to TPTP 3.3 i3. 
Importing a tptp/non-tptp log file remotely fails in AC-3.3 causing a time-out
with no data being imported.

This defect should be closed with Alex's patches and a new defect (if one does
not already exist) should be opened regarding the remote import of log files.
Fix applied to 3.3 and 4.0

98953 was opened to handle the import remote problem

As of TPTP 4.6.0, TPTP is in maintenance mode and focusing on improving quality by resolving relevant enhancements/defects and increasing test coverage through test creation, automation, Build Verification Tests (BVTs), and expanded run-time execution. As part of the TPTP Bugzilla housecleaning process (see http://wiki.eclipse.org/Bugzilla_Housecleaning_Processes), this enhancement/defect is verified/closed by the Project Lead since the originator of this enhancement/defect has an inactive Bugzilla account and considered to be fixed. If this enhancement/defect is still unresolved and reproducible in the latest TPTP release (http://www.eclipse.org/tptp/home/downloads/), please re-open.</WithStack>
    <WithOutStack>The log import always looks into the org.eclipse.hyades.logging.adapter.config 
plugin for the log adapter when filters are applied. This is breaking consuming 
products that have adapter files contributed to other plugins then 
org.eclipse.hyades.logging.adapter.config. The solution is to take into account 
the plugin to which the adapter, that will be used for the import, was 
contributed.
Take a look please
I already have a fix for this. I attach the patch, could you please test both 
import scenarios, TPTP logs with filter and non-TPTP logs with filter.
Created attachment 22458
TPTP3.3 patch
Could you please change the target to 3.3i3, we are negotiating to get this 
into 3.3.
Ali, I have updated the 3.3 patch with a better exception handling routine and 
also I have also added a 4.0 patch.
Created attachment 22462
TPTP3.3 updated patch
Created attachment 22463
TPTP4.0 patch
Both patches work for importing of tptp/non-tptp logs with/without filters. 
Tests were only performed locally.  There is a known problem when importing log
files remotely.  Dave Smith will futher investigate remote import of a log file
for 3.3 and I will do it for 4.0.
Retarget to TPTP 3.3 i3. 
Importing a tptp/non-tptp log file remotely fails in AC-3.3 causing a time-out
with no data being imported.

This defect should be closed with Alex's patches and a new defect (if one does
not already exist) should be opened regarding the remote import of log files.
Fix applied to 3.3 and 4.0

98953 was opened to handle the import remote problem

As of TPTP 4.6.0, TPTP is in maintenance mode and focusing on improving quality by resolving relevant enhancements/defects and increasing test coverage through test creation, automation, Build Verification Tests (BVTs), and expanded run-time execution. As part of the TPTP Bugzilla housecleaning process (see http://wiki.eclipse.org/Bugzilla_Housecleaning_Processes), this enhancement/defect is verified/closed by the Project Lead since the originator of this enhancement/defect has an inactive Bugzilla account and considered to be fixed. If this enhancement/defect is still unresolved and reproducible in the latest TPTP release (http://www.eclipse.org/tptp/home/downloads/), please re-open.</WithOutStack>
  </Bug>
  <Bug>
    <BugId amount="98589" />
    <CreationDate amount="2005-06-06 16:59:00 -0400" />
    <DupId amount="" />
    <classification amount="WebTools" />
    <Product amount="WTP ServerTools" />
    <component amount="wst.server" />
    <Version amount="0.7" />
    <rep_platform amount="PC" />
    <op_sys amount="Windows XP" />
    <priority amount="P3" />
    <bug_severity amount="normal" />
    <Summery>Restart shouldn't be enabled when server is stopped</Summery>
    <Patches amount="0" />
    <Stacktraces amount="0" />
    <SourceCodeRegions amount="0" />
    <Enumerations amount="2">
      <Enumeration lines="2">
        <Lines>
          <Line>1. In the Servers view, right-click on a Stopped server.</Line>
          <Line>2. Select the Restart item, which is enabled.</Line>
        </Lines>
      </Enumeration>
      <Enumeration lines="5">
        <Lines>
          <Line>1. The 'Compare With &gt;' context menu is enabled and only has a disable 'Each</Line>
          <Line>Other' option.</Line>
          <Line>2. The 'Navigate &gt; Show In' menu has a disable child 'No Applicable Views'.</Line>
          <Line>3. The 'Project &gt; Build Working Set...' menu is enabled, but has a disabled</Line>
          <Line>'Select working set' submenu.</Line>
        </Lines>
      </Enumeration>
    </Enumerations>
    <bug_status amount="CLOSED" />
    <resolution amount="INVALID" />
    <WithStack>Eclipse 3.1 RC1
Observed in WTP build 20050526

Steps to repro:
1. In the Servers view, right-click on a Stopped server.
2. Select the Restart item, which is enabled.

Observed results:
None of the child items of the Restart menu item are enabled, even though the 
Restart item itself is enabled.

Expected results:
If the child menu items aren't enabled, then the parent item shouldn't be 
enabled either.

This isn't a major problem, just a cosmetic issue.
This is "normal" Eclipse UI. AFAIK, menus like this are enabled so that the user
can still see which actions might be enabled within another context.

For other examples, select a Project in the resource Navigator:
1. The 'Compare With &gt;' context menu is enabled and only has a disable 'Each
Other' option.
2. The 'Navigate &gt; Show In' menu has a disable child 'No Applicable Views'.
3. The 'Project &gt; Build Working Set...' menu is enabled, but has a disabled
'Select working set' submenu.

Unless you can find some alternate examples or an Eclipse UI guideline on this,
I am returning this bug for closure.
I'll buy that. Thanks!</WithStack>
    <WithOutStack>Eclipse 3.1 RC1
Observed in WTP build 20050526

Steps to repro:
1. In the Servers view, right-click on a Stopped server.
2. Select the Restart item, which is enabled.

Observed results:
None of the child items of the Restart menu item are enabled, even though the 
Restart item itself is enabled.

Expected results:
If the child menu items aren't enabled, then the parent item shouldn't be 
enabled either.

This isn't a major problem, just a cosmetic issue.
This is "normal" Eclipse UI. AFAIK, menus like this are enabled so that the user
can still see which actions might be enabled within another context.

For other examples, select a Project in the resource Navigator:
1. The 'Compare With &gt;' context menu is enabled and only has a disable 'Each
Other' option.
2. The 'Navigate &gt; Show In' menu has a disable child 'No Applicable Views'.
3. The 'Project &gt; Build Working Set...' menu is enabled, but has a disabled
'Select working set' submenu.

Unless you can find some alternate examples or an Eclipse UI guideline on this,
I am returning this bug for closure.
I'll buy that. Thanks!</WithOutStack>
  </Bug>
  <Bug>
    <BugId amount="98590" />
    <CreationDate amount="2005-06-06 16:59:00 -0400" />
    <DupId amount="73017" />
    <classification amount="Eclipse" />
    <Product amount="JDT" />
    <component amount="Text" />
    <Version amount="3.1" />
    <rep_platform amount="PC" />
    <op_sys amount="Windows XP" />
    <priority amount="P3" />
    <bug_severity amount="normal" />
    <Summery>Ctrl + Shift + / seems to do what is supposed to be done by Ctrl + /</Summery>
    <Patches amount="0" />
    <Stacktraces amount="0" />
    <SourceCodeRegions amount="0" />
    <Enumerations amount="0" />
    <bug_status amount="RESOLVED" />
    <resolution amount="DUPLICATE" />
    <WithStack>According to the shortcut, Ctrl + / should toggle line comment.
Right now it is hiding or showing the vertical bar.

But Ctrl + Shift + / is doing it. I would expect this to comment using a block
comment and not line comments.

Ctrl + Shift + \ is almost impossible to do without 4 hands on a French Canadian
keyboard.
Can you tell us what command would toggle the vertical bar (I guess you mean the
vertical ruler on the left of the editor)? I'm not aware of such a command or
out of the box key binding. 

&gt;But Ctrl + Shift + / is doing it...
The key binding architecture is based on the keys you press. I assume that on
your keyboard '/' is not a (primary) key but needs to be pressed using
Ctrl+Shif+'some other key' like on my Swiss German keyboard where I have to
press Ctrl+Shift+7 in order to get Ctrl+/

BTW: do can you attach a link that show the French Canadian keyboard layout?
Yes, I was talking about the vertical ruler.
'/' can be found in the numeric part of the keyboard. Using it has an effect on
the vertical ruler and not the comment.
For the French Canadian layout, there are in fact two.
One is called Canadian Multilingual Standard. And the other one is called French
Canadian.
In the French Canadian, in order to get Ctrl + Shift + \, you need to press:
Ctrl + Shift + AltGr + \, because '\' is AltGr + #.
In the Canadian Multilingual Standard, it is not possible to get this
combinaison, because '\' is Shift + /.
You can get a French Canadian keyboard layout:
http://www.microsoft.com/globaldev/keyboards/kbdca.htm

You also have a picture there:
http://www3.uakron.edu/modlang/french/keyboard.html

The Canadian Multilingual layout is there:
http://www.microsoft.com/globaldev/keyboards/kbdcan.htm
Note that the '/' on the numerical keypad is a different key (NUM_KEYPAD_DIVIDE)
than the one found on the normal keyboard. Ctrl+NUM_KEYPAD_DIVIDE is bound to
'toggle folding' per default, so it will add/remove the folding ruler column
from the vertical ruler.

There are always problems with non-alphabetic keyboard shortcuts, as some may
not be accessible on some keyboard layouts. We try to avoid them, but these are
there for historical reasons.
.


*** This bug has been marked as a duplicate of 73017 ***</WithStack>
    <WithOutStack>According to the shortcut, Ctrl + / should toggle line comment.
Right now it is hiding or showing the vertical bar.

But Ctrl + Shift + / is doing it. I would expect this to comment using a block
comment and not line comments.

Ctrl + Shift + \ is almost impossible to do without 4 hands on a French Canadian
keyboard.
Can you tell us what command would toggle the vertical bar (I guess you mean the
vertical ruler on the left of the editor)? I'm not aware of such a command or
out of the box key binding. 

&gt;But Ctrl + Shift + / is doing it...
The key binding architecture is based on the keys you press. I assume that on
your keyboard '/' is not a (primary) key but needs to be pressed using
Ctrl+Shif+'some other key' like on my Swiss German keyboard where I have to
press Ctrl+Shift+7 in order to get Ctrl+/

BTW: do can you attach a link that show the French Canadian keyboard layout?
Yes, I was talking about the vertical ruler.
'/' can be found in the numeric part of the keyboard. Using it has an effect on
the vertical ruler and not the comment.
For the French Canadian layout, there are in fact two.
One is called Canadian Multilingual Standard. And the other one is called French
Canadian.
In the French Canadian, in order to get Ctrl + Shift + \, you need to press:
Ctrl + Shift + AltGr + \, because '\' is AltGr + #.
In the Canadian Multilingual Standard, it is not possible to get this
combinaison, because '\' is Shift + /.
You can get a French Canadian keyboard layout:
http://www.microsoft.com/globaldev/keyboards/kbdca.htm

You also have a picture there:
http://www3.uakron.edu/modlang/french/keyboard.html

The Canadian Multilingual layout is there:
http://www.microsoft.com/globaldev/keyboards/kbdcan.htm
Note that the '/' on the numerical keypad is a different key (NUM_KEYPAD_DIVIDE)
than the one found on the normal keyboard. Ctrl+NUM_KEYPAD_DIVIDE is bound to
'toggle folding' per default, so it will add/remove the folding ruler column
from the vertical ruler.

There are always problems with non-alphabetic keyboard shortcuts, as some may
not be accessible on some keyboard layouts. We try to avoid them, but these are
there for historical reasons.
.


*** This bug has been marked as a duplicate of 73017 ***</WithOutStack>
  </Bug>
  <Bug>
    <BugId amount="98591" />
    <CreationDate amount="2005-06-06 17:04:00 -0400" />
    <DupId amount="" />
    <classification amount="Eclipse" />
    <Product amount="Platform" />
    <component amount="IDE" />
    <Version amount="3.1" />
    <rep_platform amount="All" />
    <op_sys amount="All" />
    <priority amount="P4" />
    <bug_severity amount="enhancement" />
    <Summery>[Import/Export]Import project should allow project creation</Summery>
    <Patches amount="0" />
    <Stacktraces amount="0" />
    <SourceCodeRegions amount="0" />
    <Enumerations amount="0" />
    <bug_status amount="RESOLVED" />
    <resolution amount="WORKSFORME" />
    <WithStack>The Import "existing project into workspace" wizard is quite confusing for
newbies and veterans alike!

The help in 31. RC1 says: "You can use the Import Wizard to copy a project that
exists in a different workspace, or one that previously existed in a workspace,
into the Workbench."  
So for a start, it gives you the impression it does a copy, when in fact it just
sets a pointer, and copy nothing under your workspace and furthermore, it has to
be an existing project (ie with a .project file) and to compound the issue, the
file system import does not know how to create a project, but just a folder. 
And to compound even more, there is really no easy, accessible way to make an
existing vanilla project a workspace project. You need to create it first then
do the import of files, or do it by hand (which I do) unless you checkout from
CVS where things are better, as you can invoke a project creation wizard of some
CVS module. ...


I suggest the following refactoring:
- have a two staged wizard like for CVS to have a project import staged after
the selection of the stuffs to import, and offer the opportunity to create a
project if it does not exists before.

- have an optional checkbox to copy the files into the workspace, or not.
Today it says copy but it DOES not perform a copy at all, just establishes a
project pointer to wherever the imported project sits.

- and while you are at it, if you point the wizard to an existing workspace,
there is no need to scan the .metadata directory, it takes time, and nothing
should be found there. (may be a bug BTW)



See this IRC log:

On #eclipse on 2005-6-6
(12:37:39) xero [~xero@cpe-66-66-172-18.rochester.res.rr.com] entered the room.
(12:37:41) xero: hello
(12:38:47) xero: i am new to eclipse, can anybody help me with a quick question
on setting up my workspace?
(12:40:32) xero: is anybody avail?
(12:42:45) Kurrelgyre: Ask the question.
(13:00:42) xero: i am working for the Computer Science dept for RIT, and i am
trying to setup the workspace to the standard directory structure. there is a
main cs1 dir, with 3 subdirs (labs, lec, proj), and inside them i need to have
multiple java projects. i would like to set it up so i can have one workspace
and from there be able to work with all of the individual labs and whatnot
(13:01:33) xero: i found that i cannot have a project inside of a project, so i
tried to have source folders, hwoever i need each lab/project to be independent
of each other
(13:02:22) xero: ie i need to be able to run a project in the labs folder even
if another lab/project doesnt work correctly
(13:02:46) xero: is this possible? and im sorry b/c i know this is a newb
question but i am new to eclipse
(13:03:54) vektor: xero: Why not have that directory structure in CVS, and just
extract the projects you're working on as top-level objects in a workspace?
(13:04:55) xero: because we are using RCS(:-/) and all students need to have all
their labs setup in the correct directories and whatnot
(13:05:40) vektor: xero: I don't quite understand what you're trying to
accomplish. Are you trying to have it so that every student is using the same
workspace?
(13:05:47) xero: our base files they will download from our server and from
there they will add it into a project
(13:05:48) xero: nono
(13:06:16) xero: i need to figure out how to setup such a worspace so i can show
the students how to do that for their own accounts
(13:06:17) vektor: I also admit that this isn't my area of expertise with
Eclipse so I am worried I will steer you wrong.
(13:07:11) vektor: xero: In Eclipse they have a concept of working sets. Could
you have all projects as top-level projects, but splut into working sets by lab?
(13:07:18) vektor: s/splut/split/
(13:08:07) xero: yeah i think that is the idea
(13:08:27) xero: i need to have seperate projects but they need to be in
different directories
(13:09:01) xero: like i need a worspace that can use projects in the
cs1/labs/lab1 as well as a project in cs1/proj/proj1
(13:09:18) xero: and have them independent of each other... ie their own project
(13:10:05) vektor: I guess I don't really know what you mean by "lab" but why
not have a top-level lab1 project and a toplevel proj1 project, and have them
both in a working set called "cs1"?
(13:11:46) xero: by lab1 and project1 i mean just different programs that the
students will be creating. they have nothing to do with each other, however they
do all need to be accessed under 1 workspace in eclipse
(13:12:00) xero: so how do i create these sets?&gt;
(13:12:23) vektor: An error in lab1 won't affect project1 if they're both
different projects.
(13:12:36) xero: yeah thats what i need
(13:12:50) vektor: Then just have two projects and you're done.
(13:13:40) xero: but i need them to be classified in different sub directories
(13:13:58) xero: labs need to be in ~/cs1/labs/(lab name here)
(13:14:11) xero: and projects need to be in ~/cs1/proj/(project name here)
(13:14:55) xero: by labs and projects are just how we classifiy different
programs the students are creating... labs are smaller weekly programs and
projects are bigger programs that take about a month
(13:15:09) vektor: You could symlink those into eclipse, or you could create the
projects on the file system, and then do Import &gt; Existing Project Into
Workspace &gt; [give a directory].
(13:16:47) xero: oh ok
(13:16:50) vektor: You can create a working set using the view menu of the
resource navigator or package explorer.
(13:17:38) pombreda: xero: vektor suggested way with imports is probably the
easiest for you:-)
(13:17:58) xero: yeah thats what im gonna try to do
(13:17:58) xero: i think
(13:18:23) pombreda: xero: and while you are it you could answer you newsgroup
post with you own findings:-)
(13:18:34) xero: hehe i was planning on it
(13:18:45) xero: again... sry for the bad english :-/
(13:18:55) vektor: I'm sure there's probably a more obvious way that I'm just
forgetting or that I don't know about.
(13:22:32) pombreda: vektor: AFAIK, using projects imports is the right way to
do it. xero will have one directory structure, whatever he wants, and things
which are projects in that tree can be imported and made accessible in the
workspace, but the files still reside in the directory structure, not in the
workspace directory..
(13:23:53) xero: yeah
(13:23:56) xero: looks like the best bet
(13:24:15) xero: what i think i might try to do is setup everything and then
create a jar file... and then have each student unjar and import everything
(13:24:31) vektor: pombreda: I just wish we could improve the user experience
for such a scenario, I don't think that was really the intent of that wizard.
(13:24:36) xero: giving them the necissary directory structure w/out them even
knowing it
(13:25:44) pombreda: vektor: yes, I agree it sucks :-( and I get consfused myself
(13:28:14) pombreda: vektor: the help in 31. RC1 says: "You can use the Import
Wizard to copy a project that exists in a different workspace, or one that
previously existed in a workspace, into the Workbench." ...
(13:29:08) pombreda: vektor: so it gives you the impression it does a copy, when
in fact it just sets a pointer, and copy nothing under your workspace
(13:29:49) pombreda: vektor: and furthermore, it has to be an existing project
(ie with a .project file)
(13:31:03) pombreda: vektor: and to compound the issue, the file system import
does not know how to create a project, but just afolder.
(13:31:42) vektor: Well, even worse I guess is that in 3.1 we have it so that
the import projects wizard can import from a .zip or .tar.gz file, and that does
copy into the workspace.
(13:32:12) vektor: so I was going to change the text to say something that I
hope will be less ambiguous, but now I'm not so sure.
(13:33:50) vektor: lukas: I guess I'm just thinking that for your case, the
setTransform() API is more heavyweight than what you require.
(13:37:05) pombreda: vektor: and to compound even more, there is really no easy,
accessible way to make an existing Java vanilla project a workspace project. You
need to create it first then do the import fo files, or do it by hand (which I
do) unless you checkout from CVS where things are better, as you can make a java
project of some CVS module. ...
(13:37:51) vektor: The best user experience by far is for CVS, and I think this
makes sense.
(13:38:27) pombreda: vektor: so in the case of our poor xero, he will need to
1st create the projects in a workspace, 2nd quit eclispe, and move the projects
folders under his directory structure, and 3rd start a new workspace, and import
the projects from his directory structure. :-( a lot of work for a newbie!
(13:38:43) xero: well i tried to setup a dir structure for the labs section. i
created a temp workspace and made 3 projects inside it. then i went to my main
workspace, create a labs project, imported the projects from the temp dir to the
main project
(13:38:48) xero: haha
(13:38:56) xero: however
(13:39:10) xero: its when i import them, it makes them as packages
(13:39:20) xero: and therefor not independent of each other like i need them to be
(13:39:40) vektor: You probably used the wrong import wizard.
(13:39:52) vektor: Yeah, this isn't really the best way. It doesn't seem right.
(13:39:56) xero: i was using import file system
(13:40:00) vektor: Yeah, that's not right.
(13:40:06) xero: :-/
(13:40:07) vektor: I meant using Import &gt; Existing Projects Into Workspace
(13:40:11) xero: ah
(13:40:11) xero: ok
(13:40:20) xero: ugh now to try again!
(13:40:29) vektor: Import &gt; File System is when you want to add some files into
a project.
(13:40:41) vektor: I think you're doing this wrong.
(13:41:03) vektor: Why not do it this way: Open Eclipse. Create new projects for
each thing inside eclipse. Then, inside ~/cs1/labs, symlink into the workspace.
(13:41:18) vektor: cd ~/cs1/labs &amp;&amp; ln -s ~/workspace/lab1 lab1
(13:41:30) xero: what is symlink?
(13:41:39) Kurrelgyre: Whoa.
(13:42:18) vektor: xero: A symbolic link. A UNIX filesystem thing that links it
so that if you go cd ~/cs1/labs/lab1 you're really in ~/workspace/lab1.
(13:42:57) xero: eh i dont know i dont want do to that b/c i need to have it all
under the correct directory structure
(13:43:21) xero: that would confuse some of our not-so-smart lab graders when
they go in and grade these labs
(13:43:57) xero: and agian... my job is to get this all setup for the students
when the come to class in the fall. not only do i have to be able to do this i
have to be able to have all the students do this
(13:44:10) vektor: I understand.
(13:44:19) xero: which is why im hoping i can get this all setup correctly on my
own computer, and create a tar file for them to import
(13:44:58) vektor: Yeah, I have to get some stuff done now but I'll think about
it and maybe I can come up with something better for you.
(13:45:10) vektor: I'm not sure what to recommend right now.
(13:45:37) xero: yeah
(13:45:50) xero: i am gonna try to fight throug this adding and importing of
everything
(13:45:59) xero: see if i cant get it setup the way i want
(13:46:18) xero: thanks for the help man, i apreciate it
(13:46:34) vektor: I think there's two issues though.  Getting it set up the way
you want is definitely possible, but there's the aadded requirement that it
should be straightforward.
(13:47:39) xero: yup
(13:48:37) xero: again... im hoping that once i get the structure all setup that
i can just take the directory structure, zip it up, and from there have all the
students import it into their own workspace vuala! it will be fine
Wow, that's a huge log.
Sorry for the huge log.
I should have edited it, and provided just a summary, but did not have the time to!
See Bug 17523 for the copy issue
See Bug 83909 for the import from workspace

Renaming to reflect remaining issue
Importing an existing project creates it in 3.3</WithStack>
    <WithOutStack>The Import "existing project into workspace" wizard is quite confusing for
newbies and veterans alike!

The help in 31. RC1 says: "You can use the Import Wizard to copy a project that
exists in a different workspace, or one that previously existed in a workspace,
into the Workbench."  
So for a start, it gives you the impression it does a copy, when in fact it just
sets a pointer, and copy nothing under your workspace and furthermore, it has to
be an existing project (ie with a .project file) and to compound the issue, the
file system import does not know how to create a project, but just a folder. 
And to compound even more, there is really no easy, accessible way to make an
existing vanilla project a workspace project. You need to create it first then
do the import of files, or do it by hand (which I do) unless you checkout from
CVS where things are better, as you can invoke a project creation wizard of some
CVS module. ...


I suggest the following refactoring:
- have a two staged wizard like for CVS to have a project import staged after
the selection of the stuffs to import, and offer the opportunity to create a
project if it does not exists before.

- have an optional checkbox to copy the files into the workspace, or not.
Today it says copy but it DOES not perform a copy at all, just establishes a
project pointer to wherever the imported project sits.

- and while you are at it, if you point the wizard to an existing workspace,
there is no need to scan the .metadata directory, it takes time, and nothing
should be found there. (may be a bug BTW)



See this IRC log:

On #eclipse on 2005-6-6
(12:37:39) xero [~xero@cpe-66-66-172-18.rochester.res.rr.com] entered the room.
(12:37:41) xero: hello
(12:38:47) xero: i am new to eclipse, can anybody help me with a quick question
on setting up my workspace?
(12:40:32) xero: is anybody avail?
(12:42:45) Kurrelgyre: Ask the question.
(13:00:42) xero: i am working for the Computer Science dept for RIT, and i am
trying to setup the workspace to the standard directory structure. there is a
main cs1 dir, with 3 subdirs (labs, lec, proj), and inside them i need to have
multiple java projects. i would like to set it up so i can have one workspace
and from there be able to work with all of the individual labs and whatnot
(13:01:33) xero: i found that i cannot have a project inside of a project, so i
tried to have source folders, hwoever i need each lab/project to be independent
of each other
(13:02:22) xero: ie i need to be able to run a project in the labs folder even
if another lab/project doesnt work correctly
(13:02:46) xero: is this possible? and im sorry b/c i know this is a newb
question but i am new to eclipse
(13:03:54) vektor: xero: Why not have that directory structure in CVS, and just
extract the projects you're working on as top-level objects in a workspace?
(13:04:55) xero: because we are using RCS(:-/) and all students need to have all
their labs setup in the correct directories and whatnot
(13:05:40) vektor: xero: I don't quite understand what you're trying to
accomplish. Are you trying to have it so that every student is using the same
workspace?
(13:05:47) xero: our base files they will download from our server and from
there they will add it into a project
(13:05:48) xero: nono
(13:06:16) xero: i need to figure out how to setup such a worspace so i can show
the students how to do that for their own accounts
(13:06:17) vektor: I also admit that this isn't my area of expertise with
Eclipse so I am worried I will steer you wrong.
(13:07:11) vektor: xero: In Eclipse they have a concept of working sets. Could
you have all projects as top-level projects, but splut into working sets by lab?
(13:07:18) vektor: s/splut/split/
(13:08:07) xero: yeah i think that is the idea
(13:08:27) xero: i need to have seperate projects but they need to be in
different directories
(13:09:01) xero: like i need a worspace that can use projects in the
cs1/labs/lab1 as well as a project in cs1/proj/proj1
(13:09:18) xero: and have them independent of each other... ie their own project
(13:10:05) vektor: I guess I don't really know what you mean by "lab" but why
not have a top-level lab1 project and a toplevel proj1 project, and have them
both in a working set called "cs1"?
(13:11:46) xero: by lab1 and project1 i mean just different programs that the
students will be creating. they have nothing to do with each other, however they
do all need to be accessed under 1 workspace in eclipse
(13:12:00) xero: so how do i create these sets?&gt;
(13:12:23) vektor: An error in lab1 won't affect project1 if they're both
different projects.
(13:12:36) xero: yeah thats what i need
(13:12:50) vektor: Then just have two projects and you're done.
(13:13:40) xero: but i need them to be classified in different sub directories
(13:13:58) xero: labs need to be in ~/cs1/labs/(lab name here)
(13:14:11) xero: and projects need to be in ~/cs1/proj/(project name here)
(13:14:55) xero: by labs and projects are just how we classifiy different
programs the students are creating... labs are smaller weekly programs and
projects are bigger programs that take about a month
(13:15:09) vektor: You could symlink those into eclipse, or you could create the
projects on the file system, and then do Import &gt; Existing Project Into
Workspace &gt; [give a directory].
(13:16:47) xero: oh ok
(13:16:50) vektor: You can create a working set using the view menu of the
resource navigator or package explorer.
(13:17:38) pombreda: xero: vektor suggested way with imports is probably the
easiest for you:-)
(13:17:58) xero: yeah thats what im gonna try to do
(13:17:58) xero: i think
(13:18:23) pombreda: xero: and while you are it you could answer you newsgroup
post with you own findings:-)
(13:18:34) xero: hehe i was planning on it
(13:18:45) xero: again... sry for the bad english :-/
(13:18:55) vektor: I'm sure there's probably a more obvious way that I'm just
forgetting or that I don't know about.
(13:22:32) pombreda: vektor: AFAIK, using projects imports is the right way to
do it. xero will have one directory structure, whatever he wants, and things
which are projects in that tree can be imported and made accessible in the
workspace, but the files still reside in the directory structure, not in the
workspace directory..
(13:23:53) xero: yeah
(13:23:56) xero: looks like the best bet
(13:24:15) xero: what i think i might try to do is setup everything and then
create a jar file... and then have each student unjar and import everything
(13:24:31) vektor: pombreda: I just wish we could improve the user experience
for such a scenario, I don't think that was really the intent of that wizard.
(13:24:36) xero: giving them the necissary directory structure w/out them even
knowing it
(13:25:44) pombreda: vektor: yes, I agree it sucks :-( and I get consfused myself
(13:28:14) pombreda: vektor: the help in 31. RC1 says: "You can use the Import
Wizard to copy a project that exists in a different workspace, or one that
previously existed in a workspace, into the Workbench." ...
(13:29:08) pombreda: vektor: so it gives you the impression it does a copy, when
in fact it just sets a pointer, and copy nothing under your workspace
(13:29:49) pombreda: vektor: and furthermore, it has to be an existing project
(ie with a .project file)
(13:31:03) pombreda: vektor: and to compound the issue, the file system import
does not know how to create a project, but just afolder.
(13:31:42) vektor: Well, even worse I guess is that in 3.1 we have it so that
the import projects wizard can import from a .zip or .tar.gz file, and that does
copy into the workspace.
(13:32:12) vektor: so I was going to change the text to say something that I
hope will be less ambiguous, but now I'm not so sure.
(13:33:50) vektor: lukas: I guess I'm just thinking that for your case, the
setTransform() API is more heavyweight than what you require.
(13:37:05) pombreda: vektor: and to compound even more, there is really no easy,
accessible way to make an existing Java vanilla project a workspace project. You
need to create it first then do the import fo files, or do it by hand (which I
do) unless you checkout from CVS where things are better, as you can make a java
project of some CVS module. ...
(13:37:51) vektor: The best user experience by far is for CVS, and I think this
makes sense.
(13:38:27) pombreda: vektor: so in the case of our poor xero, he will need to
1st create the projects in a workspace, 2nd quit eclispe, and move the projects
folders under his directory structure, and 3rd start a new workspace, and import
the projects from his directory structure. :-( a lot of work for a newbie!
(13:38:43) xero: well i tried to setup a dir structure for the labs section. i
created a temp workspace and made 3 projects inside it. then i went to my main
workspace, create a labs project, imported the projects from the temp dir to the
main project
(13:38:48) xero: haha
(13:38:56) xero: however
(13:39:10) xero: its when i import them, it makes them as packages
(13:39:20) xero: and therefor not independent of each other like i need them to be
(13:39:40) vektor: You probably used the wrong import wizard.
(13:39:52) vektor: Yeah, this isn't really the best way. It doesn't seem right.
(13:39:56) xero: i was using import file system
(13:40:00) vektor: Yeah, that's not right.
(13:40:06) xero: :-/
(13:40:07) vektor: I meant using Import &gt; Existing Projects Into Workspace
(13:40:11) xero: ah
(13:40:11) xero: ok
(13:40:20) xero: ugh now to try again!
(13:40:29) vektor: Import &gt; File System is when you want to add some files into
a project.
(13:40:41) vektor: I think you're doing this wrong.
(13:41:03) vektor: Why not do it this way: Open Eclipse. Create new projects for
each thing inside eclipse. Then, inside ~/cs1/labs, symlink into the workspace.
(13:41:18) vektor: cd ~/cs1/labs &amp;&amp; ln -s ~/workspace/lab1 lab1
(13:41:30) xero: what is symlink?
(13:41:39) Kurrelgyre: Whoa.
(13:42:18) vektor: xero: A symbolic link. A UNIX filesystem thing that links it
so that if you go cd ~/cs1/labs/lab1 you're really in ~/workspace/lab1.
(13:42:57) xero: eh i dont know i dont want do to that b/c i need to have it all
under the correct directory structure
(13:43:21) xero: that would confuse some of our not-so-smart lab graders when
they go in and grade these labs
(13:43:57) xero: and agian... my job is to get this all setup for the students
when the come to class in the fall. not only do i have to be able to do this i
have to be able to have all the students do this
(13:44:10) vektor: I understand.
(13:44:19) xero: which is why im hoping i can get this all setup correctly on my
own computer, and create a tar file for them to import
(13:44:58) vektor: Yeah, I have to get some stuff done now but I'll think about
it and maybe I can come up with something better for you.
(13:45:10) vektor: I'm not sure what to recommend right now.
(13:45:37) xero: yeah
(13:45:50) xero: i am gonna try to fight throug this adding and importing of
everything
(13:45:59) xero: see if i cant get it setup the way i want
(13:46:18) xero: thanks for the help man, i apreciate it
(13:46:34) vektor: I think there's two issues though.  Getting it set up the way
you want is definitely possible, but there's the aadded requirement that it
should be straightforward.
(13:47:39) xero: yup
(13:48:37) xero: again... im hoping that once i get the structure all setup that
i can just take the directory structure, zip it up, and from there have all the
students import it into their own workspace vuala! it will be fine
Wow, that's a huge log.
Sorry for the huge log.
I should have edited it, and provided just a summary, but did not have the time to!
See Bug 17523 for the copy issue
See Bug 83909 for the import from workspace

Renaming to reflect remaining issue
Importing an existing project creates it in 3.3</WithOutStack>
  </Bug>
  <Bug>
    <BugId amount="98592" />
    <CreationDate amount="2005-06-06 17:10:00 -0400" />
    <DupId amount="" />
    <classification amount="Tools" />
    <Product amount="AspectJ" />
    <component amount="Compiler" />
    <Version amount="DEVELOPMENT" />
    <rep_platform amount="PC" />
    <op_sys amount="Linux" />
    <priority amount="P3" />
    <bug_severity amount="normal" />
    <Summery>cannot declare generic parents using declare parents</Summery>
    <Patches amount="0" />
    <Stacktraces amount="0" />
    <SourceCodeRegions amount="4">
      <source_code type="import">
        <location start="0" end="19" />
        <code>import java.util.*;</code>
      </source_code>
      <source_code type="class">
        <location start="21" end="85" />
        <code>class C1 {
  public Iterator iterator() {
    return null;
  }
}</code>
      </source_code>
      <source_code type="class">
        <location start="87" end="155" />
        <code>class C2 {
  public Iterator&lt;C2&gt; iterator() {
    return null;
  }
}</code>
      </source_code>
      <source_code type="functiondef">
        <location start="741" end="773" />
        <code>public Iterator&lt;C2&gt; iterator() {</code>
      </source_code>
    </SourceCodeRegions>
    <Enumerations amount="0" />
    <bug_status amount="RESOLVED" />
    <resolution amount="FIXED" />
    <WithStack>import java.util.*;

class C1 {
  public Iterator iterator() {
    return null;
  }
}

class C2 {
  public Iterator&lt;C2&gt; iterator() {
    return null;
  }
}

aspect Interface_Injector {
  declare parents : C1 implements Iterable; // works
  declare parents : C2 implements Iterable&lt;C2&gt;; // syntax error
}

----

zipfile classpath entry does not exist: /opt/sun-jdk-1.5.0/jre/lib/i18n.jar
        
zipfile classpath entry does not exist: /opt/sun-jdk-1.5.0/jre/lib/sunrsasign.jar
        
directory classpath entry does not exist: /opt/sun-jdk-1.5.0/jre/classes
        
compiling /home/user/sgelin3/dev/java/ajc/Bug.java
        
/home/user/sgelin3/dev/java/ajc/Bug.java:10 [error] The return type is
incompatible with Iterable&lt;T&gt;.iterator()
public Iterator&lt;C2&gt; iterator() {
                    ^^^^^^^
/home/user/sgelin3/dev/java/ajc/Bug.java:17 [error] Syntax error on token "&lt;",
";" expected
declare parents : C2 implements Iterable&lt;C2&gt;; // syntax error
generics for M3.


*** This bug has been marked as a duplicate of 96220 ***
oops, not a duplicate of 96220 at all!
however, the test case passes using the latest build.</WithStack>
    <WithOutStack>import java.util.*;

class C1 {
  public Iterator iterator() {
    return null;
  }
}

class C2 {
  public Iterator&lt;C2&gt; iterator() {
    return null;
  }
}

aspect Interface_Injector {
  declare parents : C1 implements Iterable; // works
  declare parents : C2 implements Iterable&lt;C2&gt;; // syntax error
}

----

zipfile classpath entry does not exist: /opt/sun-jdk-1.5.0/jre/lib/i18n.jar
        
zipfile classpath entry does not exist: /opt/sun-jdk-1.5.0/jre/lib/sunrsasign.jar
        
directory classpath entry does not exist: /opt/sun-jdk-1.5.0/jre/classes
        
compiling /home/user/sgelin3/dev/java/ajc/Bug.java
        
/home/user/sgelin3/dev/java/ajc/Bug.java:10 [error] The return type is
incompatible with Iterable&lt;T&gt;.iterator()
public Iterator&lt;C2&gt; iterator() {
                    ^^^^^^^
/home/user/sgelin3/dev/java/ajc/Bug.java:17 [error] Syntax error on token "&lt;",
";" expected
declare parents : C2 implements Iterable&lt;C2&gt;; // syntax error
generics for M3.


*** This bug has been marked as a duplicate of 96220 ***
oops, not a duplicate of 96220 at all!
however, the test case passes using the latest build.</WithOutStack>
  </Bug>
  <Bug>
    <BugId amount="98593" />
    <CreationDate amount="2005-06-06 17:11:00 -0400" />
    <DupId amount="88824" />
    <classification amount="Eclipse" />
    <Product amount="Platform" />
    <component amount="Runtime" />
    <Version amount="3.1" />
    <rep_platform amount="PC" />
    <op_sys amount="Windows XP" />
    <priority amount="P3" />
    <bug_severity amount="normal" />
    <Summery>Plug-in fragments not properly "Resolved"</Summery>
    <Patches amount="0" />
    <Stacktraces amount="0" />
    <SourceCodeRegions amount="0" />
    <Enumerations amount="1">
      <Enumeration lines="5">
        <Lines>
          <Line>- not displayed in the list of plugins for our feature in the about box</Line>
          <Line>- showing up as "Installed" in the plug-in registry heading of Configuration</Line>
          <Line>Details, where they should be "Resolved"</Line>
          <Line>- are not functioning in that when I start up Eclipse with -nl es, I still get</Line>
          <Line>English.</Line>
        </Lines>
      </Enumeration>
    </Enumerations>
    <bug_status amount="RESOLVED" />
    <resolution amount="DUPLICATE" />
    <WithStack>Starting with M7 (also a problem with RC1) two of our NL1 fragments are:
- not displayed in the list of plugins for our feature in the about box
- showing up as "Installed" in the plug-in registry heading of Configuration 
Details, where they should be "Resolved"
- are not functioning in that when I start up Eclipse with -nl es, I still get 
English.

Starting up with -debug gives me the following entries in the log file:
!ENTRY org.eclipse.osgi 2005-06-06 11:31:43.82
!MESSAGE Bundle update@plugins/com.ibm.rational.clearcase.ide.nl1_6.14.3/ [92] 
was not resolved.

!ENTRY org.eclipse.osgi 2005-06-06 11:31:43.82
!MESSAGE Bundle update@plugins/com.ibm.rational.clearcase.nl1_6.14.3/ [94] was 
not resolved.

These two fragments each specify resource-only jars in the runtime library 
section of the fragment.xml. 

I'm setting the severity to Major as it disables bringing up our interface in 
anything other than English.

I've been working with Nick Edgar on this problem.  Let me know if any more 
information is required.
Attaching the fragment.xml files for the two fragments causing you problems 
would be helpful.

Are you using a bundle manifest (/META-INF/MANIFEST.MF) for the fragments or 
only a fragment.xml file?
fragment.xml for com.ibm.rational.clearcase.ide.nl1_6.14.3:

&lt;?xml version="1.0" encoding="UTF-8"?&gt;
&lt;fragment
   id="com.ibm.rational.clearcase.ide.nl1"
   name="Rational ClearCase Remote Client NL"
   version="6.14.3"
   provider-name="IBM"
   plugin-id="com.ibm.rational.clearcase.ide"
   plugin-version="6.14.2"
   match="compatible"&gt;

   &lt;runtime&gt;
	  &lt;library name = "ide_plugin_nl1.jar" type="resource"/&gt;
   &lt;/runtime&gt;
&lt;/fragment&gt;

fragment.xml for com.ibm.rational.clearcase.nl1_6.14.3:
&lt;?xml version="1.0" encoding="UTF-8"?&gt;
&lt;fragment
   id="com.ibm.rational.clearcase.nl1"
   name="Rational ClearCase Remote Client NL"
   version="6.14.3"
   provider-name="IBM"
   plugin-id="com.ibm.rational.clearcase"
   plugin-version="6.14.3"
   match="compatible"&gt;

   &lt;runtime&gt;
	&lt;library name = "application_nl1.jar" type="resource"/&gt;
	&lt;library name = "ctrcplugin_nl1.jar" type="resource"/&gt;
	&lt;library name = "uicomponents_nl1.jar" type="resource"/&gt;
        &lt;library name = "$nl$/" /&gt;
   &lt;/runtime&gt;


&lt;/fragment&gt;

No bundle manifests are being used;  just fragment.xml

The problem is your host plugin.xml files have been migrated to eclispe 3.0.  
You can tell because they have the following xml instruction:
&lt;?eclipse version="3.0"?&gt;

Your nl fragments have not been migrated to 3.0 because they are missing 
the "&lt;?eclipse version="3.0"?&gt;" instruction.  The runtime does not support 
mixing 3.0 migrated hosts with non-migrated fragments.  Adding the "&lt;?eclipse 
version="3.0"?&gt;" instruction to your fragment.xml files will fix the problem.


From the help documentation at 
Migration to Eclipse 3.0 from 2.1 &gt; Adopting 3.0 mechanisms and API

Section:
NL fragment structure

"Of course, the Eclipse 2.1 NL fragment structure is still supported for 2.1 
host plug-ins running in Eclipse 3.0. You cannot however use a 2.1 NL fragment 
on a 3.0 plug-in. The fragment must be updated to the new structure."
Thank you.  That did the trick.  It looks like our globalization team updated 
the directory structure of the fragment to 3.0 requirements but did not update 
the fragment.xml.  Since this works ok for us in Eclipse 3.0.x and even up 
through 3.1M6, presumably you made a change in M7 to look for the version 
instruction.  We'll get this fixed in our next release. 
Any chance the error reporting could be improved here?  Collectively, it took us
quite a while to figure out what the problem was.

The log output indicated "Bundle XYZ was not resolved." (and only when -debug
was specified), though diag from the eclipse console indicated all its prereqs
were happy.

For completeness, here's the console output Don sent me:
.
.
.
89      RESOLVED    com.ibm.rational.clearcase.compare_merge.win32_6.14.3
                    Master=95
90      RESOLVED    com.ibm.rational.clearcase.doc.nl1_6.14.3
                    Master=91
91      RESOLVED    com.ibm.rational.clearcase.doc_6.14.3
                    Fragments=90
92      INSTALLED   com.ibm.rational.clearcase.ide.nl1_6.14.4
93      RESOLVED    com.ibm.rational.clearcase.ide_6.14.4
94      INSTALLED   com.ibm.rational.clearcase.nl1_6.14.4
95      RESOLVED    com.ibm.rational.clearcase_6.14.6
                    Fragments=89

osgi&gt; diag 92
update@plugins/com.ibm.rational.clearcase.ide.nl1_6.14.4/ [92]
  No unresolved constraints.

osgi&gt; diag 94
update@plugins/com.ibm.rational.clearcase.nl1_6.14.4/ [94]
  No unresolved constraints.

Running with -clean did not make a difference.

resolver currently does not give us the required infromation to report.  The 
change is too big for 3.1.  Defering.
*** Bug 97090 has been marked as a duplicate of this bug. ***
A similar case with the error reporting is when a bundle is excluded due to an
Eclipse-PlatformFilter property not matching.

E.g. if you try to include org.eclipse.ui.carbon on a Win32 platform, the bundle
does not get installed (this is correct), but diag reports "No unresolved
constraints."

Sorry, it gets installed but not resolved.



*** This bug has been marked as a duplicate of 88824 ***</WithStack>
    <WithOutStack>Starting with M7 (also a problem with RC1) two of our NL1 fragments are:
- not displayed in the list of plugins for our feature in the about box
- showing up as "Installed" in the plug-in registry heading of Configuration 
Details, where they should be "Resolved"
- are not functioning in that when I start up Eclipse with -nl es, I still get 
English.

Starting up with -debug gives me the following entries in the log file:
!ENTRY org.eclipse.osgi 2005-06-06 11:31:43.82
!MESSAGE Bundle update@plugins/com.ibm.rational.clearcase.ide.nl1_6.14.3/ [92] 
was not resolved.

!ENTRY org.eclipse.osgi 2005-06-06 11:31:43.82
!MESSAGE Bundle update@plugins/com.ibm.rational.clearcase.nl1_6.14.3/ [94] was 
not resolved.

These two fragments each specify resource-only jars in the runtime library 
section of the fragment.xml. 

I'm setting the severity to Major as it disables bringing up our interface in 
anything other than English.

I've been working with Nick Edgar on this problem.  Let me know if any more 
information is required.
Attaching the fragment.xml files for the two fragments causing you problems 
would be helpful.

Are you using a bundle manifest (/META-INF/MANIFEST.MF) for the fragments or 
only a fragment.xml file?
fragment.xml for com.ibm.rational.clearcase.ide.nl1_6.14.3:

&lt;?xml version="1.0" encoding="UTF-8"?&gt;
&lt;fragment
   id="com.ibm.rational.clearcase.ide.nl1"
   name="Rational ClearCase Remote Client NL"
   version="6.14.3"
   provider-name="IBM"
   plugin-id="com.ibm.rational.clearcase.ide"
   plugin-version="6.14.2"
   match="compatible"&gt;

   &lt;runtime&gt;
	  &lt;library name = "ide_plugin_nl1.jar" type="resource"/&gt;
   &lt;/runtime&gt;
&lt;/fragment&gt;

fragment.xml for com.ibm.rational.clearcase.nl1_6.14.3:
&lt;?xml version="1.0" encoding="UTF-8"?&gt;
&lt;fragment
   id="com.ibm.rational.clearcase.nl1"
   name="Rational ClearCase Remote Client NL"
   version="6.14.3"
   provider-name="IBM"
   plugin-id="com.ibm.rational.clearcase"
   plugin-version="6.14.3"
   match="compatible"&gt;

   &lt;runtime&gt;
	&lt;library name = "application_nl1.jar" type="resource"/&gt;
	&lt;library name = "ctrcplugin_nl1.jar" type="resource"/&gt;
	&lt;library name = "uicomponents_nl1.jar" type="resource"/&gt;
        &lt;library name = "$nl$/" /&gt;
   &lt;/runtime&gt;


&lt;/fragment&gt;

No bundle manifests are being used;  just fragment.xml

The problem is your host plugin.xml files have been migrated to eclispe 3.0.  
You can tell because they have the following xml instruction:
&lt;?eclipse version="3.0"?&gt;

Your nl fragments have not been migrated to 3.0 because they are missing 
the "&lt;?eclipse version="3.0"?&gt;" instruction.  The runtime does not support 
mixing 3.0 migrated hosts with non-migrated fragments.  Adding the "&lt;?eclipse 
version="3.0"?&gt;" instruction to your fragment.xml files will fix the problem.


From the help documentation at 
Migration to Eclipse 3.0 from 2.1 &gt; Adopting 3.0 mechanisms and API

Section:
NL fragment structure

"Of course, the Eclipse 2.1 NL fragment structure is still supported for 2.1 
host plug-ins running in Eclipse 3.0. You cannot however use a 2.1 NL fragment 
on a 3.0 plug-in. The fragment must be updated to the new structure."
Thank you.  That did the trick.  It looks like our globalization team updated 
the directory structure of the fragment to 3.0 requirements but did not update 
the fragment.xml.  Since this works ok for us in Eclipse 3.0.x and even up 
through 3.1M6, presumably you made a change in M7 to look for the version 
instruction.  We'll get this fixed in our next release. 
Any chance the error reporting could be improved here?  Collectively, it took us
quite a while to figure out what the problem was.

The log output indicated "Bundle XYZ was not resolved." (and only when -debug
was specified), though diag from the eclipse console indicated all its prereqs
were happy.

For completeness, here's the console output Don sent me:
.
.
.
89      RESOLVED    com.ibm.rational.clearcase.compare_merge.win32_6.14.3
                    Master=95
90      RESOLVED    com.ibm.rational.clearcase.doc.nl1_6.14.3
                    Master=91
91      RESOLVED    com.ibm.rational.clearcase.doc_6.14.3
                    Fragments=90
92      INSTALLED   com.ibm.rational.clearcase.ide.nl1_6.14.4
93      RESOLVED    com.ibm.rational.clearcase.ide_6.14.4
94      INSTALLED   com.ibm.rational.clearcase.nl1_6.14.4
95      RESOLVED    com.ibm.rational.clearcase_6.14.6
                    Fragments=89

osgi&gt; diag 92
update@plugins/com.ibm.rational.clearcase.ide.nl1_6.14.4/ [92]
  No unresolved constraints.

osgi&gt; diag 94
update@plugins/com.ibm.rational.clearcase.nl1_6.14.4/ [94]
  No unresolved constraints.

Running with -clean did not make a difference.

resolver currently does not give us the required infromation to report.  The 
change is too big for 3.1.  Defering.
*** Bug 97090 has been marked as a duplicate of this bug. ***
A similar case with the error reporting is when a bundle is excluded due to an
Eclipse-PlatformFilter property not matching.

E.g. if you try to include org.eclipse.ui.carbon on a Win32 platform, the bundle
does not get installed (this is correct), but diag reports "No unresolved
constraints."

Sorry, it gets installed but not resolved.



*** This bug has been marked as a duplicate of 88824 ***</WithOutStack>
  </Bug>
  <Bug>
    <BugId amount="98594" />
    <CreationDate amount="2005-06-06 17:18:00 -0400" />
    <DupId amount="" />
    <classification amount="Tools" />
    <Product amount="CDT" />
    <component amount="cdt-debug" />
    <Version amount="3.0" />
    <rep_platform amount="All" />
    <op_sys amount="All" />
    <priority amount="P3" />
    <bug_severity amount="normal" />
    <Summery>Unable to set address breakpoints</Summery>
    <Patches amount="0" />
    <Stacktraces amount="0" />
    <SourceCodeRegions amount="0" />
    <Enumerations amount="0" />
    <bug_status amount="RESOLVED" />
    <resolution amount="FIXED" />
    <WithStack>No breakpoint is set when doubleclicking on the ruler of the Disassembly view.
Fixed.</WithStack>
    <WithOutStack>No breakpoint is set when doubleclicking on the ruler of the Disassembly view.
Fixed.</WithOutStack>
  </Bug>
  <Bug>
    <BugId amount="98595" />
    <CreationDate amount="2005-06-06 17:21:00 -0400" />
    <DupId amount="101673" />
    <classification amount="WebTools" />
    <Product amount="WTP Webservices" />
    <component amount="jst.ws" />
    <Version amount="0.7" />
    <rep_platform amount="PC" />
    <op_sys amount="Windows 2000" />
    <priority amount="P3" />
    <bug_severity amount="normal" />
    <Summery>J2EE level not set in WebServiceInfo</Summery>
    <Patches amount="0" />
    <Stacktraces amount="0" />
    <SourceCodeRegions amount="0" />
    <Enumerations amount="0" />
    <bug_status amount="CLOSED" />
    <resolution amount="DUPLICATE" />
    <WithStack>You can use WTP I20050603 to reproduce.

As discussed, the WebServiceInfo being passed to our IWebServiceRuntime
has J2EE level=null.


*** This bug has been marked as a duplicate of 101673 ***
Verified in WTP 0.7 RC1
Closing</WithStack>
    <WithOutStack>You can use WTP I20050603 to reproduce.

As discussed, the WebServiceInfo being passed to our IWebServiceRuntime
has J2EE level=null.


*** This bug has been marked as a duplicate of 101673 ***
Verified in WTP 0.7 RC1
Closing</WithOutStack>
  </Bug>
  <Bug>
    <BugId amount="98596" />
    <CreationDate amount="2005-06-06 17:25:00 -0400" />
    <DupId amount="" />
    <classification amount="Eclipse" />
    <Product amount="Platform" />
    <component amount="SWT" />
    <Version amount="3.1" />
    <rep_platform amount="PC" />
    <op_sys amount="Windows XP" />
    <priority amount="P3" />
    <bug_severity amount="normal" />
    <Summery>api spec on GC.setLineDash(int[]) should mention null</Summery>
    <Patches amount="0" />
    <Stacktraces amount="0" />
    <SourceCodeRegions amount="0" />
    <Enumerations amount="0" />
    <bug_status amount="RESOLVED" />
    <resolution amount="FIXED" />
    <WithStack>setLineDash currently accepts NULL, and it is equivalent to calling
GC#setLineStyle(SWT.LINE_SOLID). It this intentional? It should be specified in
the API so that new ports get it right.
Fixed &gt; 20050607.

Spec was changed.</WithStack>
    <WithOutStack>setLineDash currently accepts NULL, and it is equivalent to calling
GC#setLineStyle(SWT.LINE_SOLID). It this intentional? It should be specified in
the API so that new ports get it right.
Fixed &gt; 20050607.

Spec was changed.</WithOutStack>
  </Bug>
  <Bug>
    <BugId amount="98597" />
    <CreationDate amount="2005-06-06 17:25:00 -0400" />
    <DupId amount="" />
    <classification amount="Tools" />
    <Product amount="GEF" />
    <component amount="Examples [GEF 3.x / Zest 1.x]" />
    <Version amount="3.1" />
    <rep_platform amount="PC" />
    <op_sys amount="Windows XP" />
    <priority amount="P3" />
    <bug_severity amount="normal" />
    <Summery>EDiagram Diagram imports are redundant</Summery>
    <Patches amount="0" />
    <Stacktraces amount="0" />
    <SourceCodeRegions amount="0" />
    <Enumerations amount="2">
      <Enumeration lines="3">
        <Lines>
          <Line>x.ediagram identified x.ecore as part of the ResourceSet, but nothing in</Line>
          <Line>x.ecore is actually used, the imports ensures that a reload of x.ediagram</Line>
          <Line>continues to offer x.ecore content. If x.ecore is used, there is no problem.</Line>
        </Lines>
      </Enumeration>
      <Enumeration lines="22">
        <Lines>
          <Line>1) persistence of redundantly referenced models: if the creation activity of</Line>
          <Line>x.ediagram identified x.ecore as part of the ResourceSet, but nothing in</Line>
          <Line>x.ecore is actually used, the imports ensures that a reload of x.ediagram</Line>
          <Line>continues to offer x.ecore content. If x.ecore is used, there is no problem.</Line>
          <Line />
          <Line>Restoring or creating an import requires a DND, or Add Resource to the</Line>
          <Line>Outline Page. Possibly a Diagram Save operation could continue to use imports</Line>
          <Line>by computing the list of unreferenced Resources.</Line>
          <Line />
          <Line>Better? an Import becomes a new view element, so that</Line>
          <Line>an Import can be visually added/deleted from a diagram, and auto-created</Line>
          <Line>as part of the diagram creation. The Import would be the sole child of</Line>
          <Line>a Diagram in the Outline page. A Diagram display preference could hide Imports.</Line>
          <Line />
          <Line>2) creation of a new Classifier uses imports to find a default package. This</Line>
          <Line>is easily replaced by placement in the first ResourceSet Resource with EPackage</Line>
          <Line>content.</Line>
          <Line />
          <Line>3) creation of a new Package uses imports to find a default resource. This</Line>
          <Line>is a bug. It creates a 'legal' ecore update, but illegal underlying XMI, since</Line>
          <Line>it produces an XMI file with two top-level EPackages. A new root package should</Line>
          <Line>be in a new resource. Alternatively a new package should be a subpackage.</Line>
        </Lines>
      </Enumeration>
    </Enumerations>
    <bug_status amount="RESOLVED" />
    <resolution amount="WONTFIX" />
    <WithStack>82517 suggests:
- Diagram's imports should probably be Ecore resource files rather than
EPackages

This is only a step in the right direction.

If EDiagramOutlinePage is given the ResourceSet rather than the Diagram,
and a ResourceSetTreeEditPart and ResourceTreeEditPart are created, everything
is shown nicely with respect to where it came from. The entries under 
Diagram.imports serve no purpose other than to clutter the screen. It is clear
that the OutlinePage could then show the diagram contents under a diagram: the 
graphical widgets (Node/Link etc, if it were to display anything).

This change requires BaseTreeEditPart to take a Notifier rather than EObject,
so that Resource and ResourceSet share a common base.
The outline view is not meant to be an alternative view of the diagram.  It is 
a "model explorer", used to build the diagram.

Agreed. I wrote "could" to highlight what could be in the outline view. The 
outline view is currently a pruned hierarchical view of what is available, 
hiding the origins at the top and the details at the bottom.

Once the Outline incorporates each Resource as a top line (ignoring drill-down)
there is no need for the artifice of an imports list to enable the Outline to 
work.

The residual code usage of imports is:

1) persistence of redundantly referenced models: if the creation activity of 
x.ediagram identified x.ecore as part of the ResourceSet, but nothing in
x.ecore is actually used, the imports ensures that a reload of x.ediagram
continues to offer x.ecore content. If x.ecore is used, there is no problem.

Restoring or creating an import requires a DND, or Add Resource to the
Outline Page. Possibly a Diagram Save operation could continue to use imports
by computing the list of unreferenced Resources.

Better? an Import becomes a new view element, so that
an Import can be visually added/deleted from a diagram, and auto-created
as part of the diagram creation. The Import would be the sole child of
a Diagram in the Outline page. A Diagram display preference could hide Imports.

2) creation of a new Classifier uses imports to find a default package. This
is easily replaced by placement in the first ResourceSet Resource with EPackage
content.

3) creation of a new Package uses imports to find a default resource. This
is a bug. It creates a 'legal' ecore update, but illegal underlying XMI, since
it produces an XMI file with two top-level EPackages. A new root package should
be in a new resource. Alternatively a new package should be a subpackage.

Change to subpackage is the easiest fix. A DND from Palette to Outline is
the solution to creating top level packages.

Incidentally. imports cannot refer to a Resource since Resource is not an Ecore
element. imports must refer to an EPackage or ... 
EDiagram example is discontinued.</WithStack>
    <WithOutStack>82517 suggests:
- Diagram's imports should probably be Ecore resource files rather than
EPackages

This is only a step in the right direction.

If EDiagramOutlinePage is given the ResourceSet rather than the Diagram,
and a ResourceSetTreeEditPart and ResourceTreeEditPart are created, everything
is shown nicely with respect to where it came from. The entries under 
Diagram.imports serve no purpose other than to clutter the screen. It is clear
that the OutlinePage could then show the diagram contents under a diagram: the 
graphical widgets (Node/Link etc, if it were to display anything).

This change requires BaseTreeEditPart to take a Notifier rather than EObject,
so that Resource and ResourceSet share a common base.
The outline view is not meant to be an alternative view of the diagram.  It is 
a "model explorer", used to build the diagram.

Agreed. I wrote "could" to highlight what could be in the outline view. The 
outline view is currently a pruned hierarchical view of what is available, 
hiding the origins at the top and the details at the bottom.

Once the Outline incorporates each Resource as a top line (ignoring drill-down)
there is no need for the artifice of an imports list to enable the Outline to 
work.

The residual code usage of imports is:

1) persistence of redundantly referenced models: if the creation activity of 
x.ediagram identified x.ecore as part of the ResourceSet, but nothing in
x.ecore is actually used, the imports ensures that a reload of x.ediagram
continues to offer x.ecore content. If x.ecore is used, there is no problem.

Restoring or creating an import requires a DND, or Add Resource to the
Outline Page. Possibly a Diagram Save operation could continue to use imports
by computing the list of unreferenced Resources.

Better? an Import becomes a new view element, so that
an Import can be visually added/deleted from a diagram, and auto-created
as part of the diagram creation. The Import would be the sole child of
a Diagram in the Outline page. A Diagram display preference could hide Imports.

2) creation of a new Classifier uses imports to find a default package. This
is easily replaced by placement in the first ResourceSet Resource with EPackage
content.

3) creation of a new Package uses imports to find a default resource. This
is a bug. It creates a 'legal' ecore update, but illegal underlying XMI, since
it produces an XMI file with two top-level EPackages. A new root package should
be in a new resource. Alternatively a new package should be a subpackage.

Change to subpackage is the easiest fix. A DND from Palette to Outline is
the solution to creating top level packages.

Incidentally. imports cannot refer to a Resource since Resource is not an Ecore
element. imports must refer to an EPackage or ... 
EDiagram example is discontinued.</WithOutStack>
  </Bug>
  <Bug>
    <BugId amount="98598" />
    <CreationDate amount="2005-06-06 17:27:00 -0400" />
    <DupId amount="" />
    <classification amount="Eclipse" />
    <Product amount="Platform" />
    <component amount="Update  (deprecated - use RT&gt;Equinox&gt;p2)" />
    <Version amount="3.0" />
    <rep_platform amount="PC" />
    <op_sys amount="Windows 2000" />
    <priority amount="P3" />
    <bug_severity amount="enhancement" />
    <Summery>Support for major version upgrade for scheduled updates</Summery>
    <Patches amount="0" />
    <Stacktraces amount="0" />
    <SourceCodeRegions amount="0" />
    <Enumerations amount="0" />
    <bug_status amount="RESOLVED" />
    <resolution amount="WONTFIX" />
    <WithStack>Currently the only options for match rules on updates are "equivalent" 
and "compatible". 

UpdatesSearchCategory.isNewerVersion returns false if any other match rule is 
specified.

I would like to be able to set the org.eclipse.update.core.updateVersions 
preference to "greaterOrEqual".
This is a mass update of Platform Update bugs that have had no activity in three years. Platform Update was replaced in Eclipse 3.4 (2008) by a new provisioning system called Equinox p2. If this bug or enhancement is not already addressed in p2 please enter a new bug report against p2 (RT &gt; Equinox &gt; p2). If you still want to see this bug addressed in the deprecated Platform Update component, please reopen this bug. Patches welcome.</WithStack>
    <WithOutStack>Currently the only options for match rules on updates are "equivalent" 
and "compatible". 

UpdatesSearchCategory.isNewerVersion returns false if any other match rule is 
specified.

I would like to be able to set the org.eclipse.update.core.updateVersions 
preference to "greaterOrEqual".
This is a mass update of Platform Update bugs that have had no activity in three years. Platform Update was replaced in Eclipse 3.4 (2008) by a new provisioning system called Equinox p2. If this bug or enhancement is not already addressed in p2 please enter a new bug report against p2 (RT &gt; Equinox &gt; p2). If you still want to see this bug addressed in the deprecated Platform Update component, please reopen this bug. Patches welcome.</WithOutStack>
  </Bug>
  <Bug>
    <BugId amount="98599" />
    <CreationDate amount="2005-06-06 17:32:00 -0400" />
    <DupId amount="" />
    <classification amount="Eclipse" />
    <Product amount="Platform" />
    <component amount="Runtime" />
    <Version amount="3.1" />
    <rep_platform amount="PC" />
    <op_sys amount="Windows 2000" />
    <priority amount="P3" />
    <bug_severity amount="normal" />
    <Summery>[jobs] Extra diagnostics for worker pool</Summery>
    <Patches amount="0" />
    <Stacktraces amount="0" />
    <SourceCodeRegions amount="1">
      <source_code type="functiondef">
        <location start="162" end="758" />
        <code>synchronized void dumpState() {
		System.out.println("**** BEGIN DUMP WORKER POOL INFORMATION ****"); //$NON-NLS-1$
		System.out.println("busyThreads: " + busyThreads); //$NON-NLS-1$
		System.out.println("numThreads: " + numThreads); //$NON-NLS-1$
		System.out.println("sleepingThreads: " + sleepingThreads); //$NON-NLS-1$
		System.out.println("threads.length: " + threads.length); //$NON-NLS-1$
		for (int i = 0; i &lt; threads.length; i++)
			System.out.println("Threads " + i + ':' + threads[i]); //$NON-NLS-1$
		System.out.println("**** END DUMP WORKER POOL INFORMATION ****"); //$NON-NLS-1$
	}</code>
      </source_code>
    </SourceCodeRegions>
    <Enumerations amount="0" />
    <bug_status amount="RESOLVED" />
    <resolution amount="WONTFIX" />
    <WithStack>After 3.1, I should release this code to dump extra diagnostic information about
the state of the worker pool.  This method comes from a hacked WorkerPool.java:

	synchronized void dumpState() {
		System.out.println("**** BEGIN DUMP WORKER POOL INFORMATION ****"); //$NON-NLS-1$
		System.out.println("busyThreads: " + busyThreads); //$NON-NLS-1$
		System.out.println("numThreads: " + numThreads); //$NON-NLS-1$
		System.out.println("sleepingThreads: " + sleepingThreads); //$NON-NLS-1$
		System.out.println("threads.length: " + threads.length); //$NON-NLS-1$
		for (int i = 0; i &lt; threads.length; i++)
			System.out.println("Threads " + i + ':' + threads[i]); //$NON-NLS-1$
		System.out.println("**** END DUMP WORKER POOL INFORMATION ****"); //$NON-NLS-1$
	}
what about now ;-)
I have added this to the test suites rather than in production code.</WithStack>
    <WithOutStack>After 3.1, I should release this code to dump extra diagnostic information about
the state of the worker pool.  This method comes from a hacked WorkerPool.java:

	synchronized void dumpState() {
		System.out.println("**** BEGIN DUMP WORKER POOL INFORMATION ****"); //$NON-NLS-1$
		System.out.println("busyThreads: " + busyThreads); //$NON-NLS-1$
		System.out.println("numThreads: " + numThreads); //$NON-NLS-1$
		System.out.println("sleepingThreads: " + sleepingThreads); //$NON-NLS-1$
		System.out.println("threads.length: " + threads.length); //$NON-NLS-1$
		for (int i = 0; i &lt; threads.length; i++)
			System.out.println("Threads " + i + ':' + threads[i]); //$NON-NLS-1$
		System.out.println("**** END DUMP WORKER POOL INFORMATION ****"); //$NON-NLS-1$
	}
what about now ;-)
I have added this to the test suites rather than in production code.</WithOutStack>
  </Bug>
  <Bug>
    <BugId amount="98600" />
    <CreationDate amount="2005-06-06 17:39:00 -0400" />
    <DupId amount="" />
    <classification amount="Eclipse" />
    <Product amount="Platform" />
    <component amount="Update  (deprecated - use RT&gt;Equinox&gt;p2)" />
    <Version amount="3.0" />
    <rep_platform amount="PC" />
    <op_sys amount="Windows 2000" />
    <priority amount="P3" />
    <bug_severity amount="normal" />
    <Summery>Aborting a feature install does not call any install handler API</Summery>
    <Patches amount="0" />
    <Stacktraces amount="0" />
    <SourceCodeRegions amount="0" />
    <Enumerations amount="0" />
    <bug_status amount="RESOLVED" />
    <resolution amount="WONTFIX" />
    <WithStack>Scenario:

Setup a feature on an update site such that it has a child feature that has an 
install handler. The install handler could do anything such as set a preference.

Start to install the new feature. After the child feature has been installed 
and as the parent feature is being installed, cancel the install. 

Cancelling the install causes the feature install to be aborted. All of the 
parent feature files and child feature files are deleted. But the child 
feature's install handler action is not undone. There is no install handler API 
called during this feature abort so there is no opertunity to undo what the 
install handler has done.

Anytime a feature is aborted (cancel or when errors occur), we should be able 
to undo what install handlers have done.
This is a mass update of Platform Update bugs that have had no activity in three years. Platform Update was replaced in Eclipse 3.4 (2008) by a new provisioning system called Equinox p2. If this bug or enhancement is not already addressed in p2 please enter a new bug report against p2 (RT &gt; Equinox &gt; p2). If you still want to see this bug addressed in the deprecated Platform Update component, please reopen this bug. Patches welcome.</WithStack>
    <WithOutStack>Scenario:

Setup a feature on an update site such that it has a child feature that has an 
install handler. The install handler could do anything such as set a preference.

Start to install the new feature. After the child feature has been installed 
and as the parent feature is being installed, cancel the install. 

Cancelling the install causes the feature install to be aborted. All of the 
parent feature files and child feature files are deleted. But the child 
feature's install handler action is not undone. There is no install handler API 
called during this feature abort so there is no opertunity to undo what the 
install handler has done.

Anytime a feature is aborted (cancel or when errors occur), we should be able 
to undo what install handlers have done.
This is a mass update of Platform Update bugs that have had no activity in three years. Platform Update was replaced in Eclipse 3.4 (2008) by a new provisioning system called Equinox p2. If this bug or enhancement is not already addressed in p2 please enter a new bug report against p2 (RT &gt; Equinox &gt; p2). If you still want to see this bug addressed in the deprecated Platform Update component, please reopen this bug. Patches welcome.</WithOutStack>
  </Bug>
</infozilla-output>

